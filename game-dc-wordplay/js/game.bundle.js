(()=>{var t={2784:(t,e,n)=>{"use strict";n(5306),n(4916);var r=createjs.Event,o=createjs.EventDispatcher,i=(createjs.ErrorEvent,createjs.AlphaMapFilter,createjs.AlphaMaskFilter),a=createjs.Bitmap,c=(createjs.BitmapCache,createjs.BitmapText,createjs.BlurFilter,createjs.ButtonHelper,createjs.ColorFilter,createjs.ColorMatrix,createjs.ColorMatrixFilter,createjs.Container),s=createjs.DisplayObject,u=(createjs.DisplayProps,createjs.DOMElement,createjs.EaselJS,createjs.Filter,createjs.Graphics,createjs.Matrix2D,createjs.MouseEvent,createjs.MovieClip,createjs.MovieClipPlugin,createjs.Point),l=createjs.Rectangle,f=(createjs.Shadow,createjs.Shape),h=createjs.Sprite,p=createjs.SpriteSheet,y=createjs.SpriteSheetBuilder,d=(createjs.SpriteSheetUtils,createjs.Stage),v=(createjs.StageGL,createjs.Text),b=createjs.Ticker,m=createjs.Touch,g=(createjs.UID,createjs.VideoBuffer,createjs.WebGLInspector,createjs.AbstractLoader,createjs.AbstractMediaLoader,createjs.AbstractRequest,createjs.BinaryLoader,createjs.CSSLoader,createjs.DataUtils,createjs.DomUtils,createjs.FontLoader,createjs.ImageLoader),w=(createjs.JavaScriptLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.LoadItem,createjs.LoadQueue),O=(createjs.ManifestLoader,createjs.MediaTagRequest,createjs.Methods,createjs.PreloadJS,createjs.ProgressEvent,createjs.RequestUtils,createjs.SamplePlugin,createjs.SoundLoader,createjs.SpriteSheetLoader),_=(createjs.SVGLoader,createjs.TagRequest,createjs.TextLoader,createjs.Types,createjs.URLUtils,createjs.VideoLoader,createjs.XHRRequest,createjs.XMLLoader,createjs.AbstractPlugin),S=createjs.AbstractSoundInstance,k=(createjs.AudioSprite,createjs.CordovaAudioLoader,createjs.CordovaAudioPlugin,createjs.CordovaAudioSoundInstance,createjs.FlashAudioLoader,createjs.FlashAudioPlugin,createjs.FlashAudioSoundInstance,createjs.HTMLAudioPlugin,createjs.HTMLAudioSoundInstance),x=(createjs.HTMLAudioTagPool,createjs.PlayPropsConfig,createjs.Sound),j=(createjs.SoundJS,createjs.WebAudioLoader,createjs.WebAudioPlugin,createjs.WebAudioSoundInstance),P=createjs.Tween,R=createjs.Ease;createjs.Timeline,s.prototype.hitbox=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getBounds();return n&&(this.hitArea=new f,this.hitArea.graphics.f("#000").r(n.x-t,n.y-e,n.width+2*t,n.height+2*e)),this},s.prototype.center=function(){var t=this.getBounds();return this.regX=Math.round(t.width/2)+t.x,this.regY=Math.round(t.height/2)+t.y,this},s.prototype.regs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getBounds();return this.regX=n.width*t,this.regY=n.height*e,this},O.prototype._handleManifestFileLoad=function(t){var e=t.result;if(null!==e){var n=this.getResult().images,r=n.indexOf(t.item.src.replace(this._item.path,""));n[r]=e}},n(8309);const C="scaleFill",T="noScale",E="noCenter";class B{constructor(t){t=t||{},this._canvasElement=t.canvasElement||!1,this._canvasContentElement=t.contentElement||!1,this._containerElement=t.containerElement||!1,this._scaleMode=t.scaleMode||T,this._alignMode=t.alignMode||E,this._width=t.width||800,this._height=t.height||600,this._maxWidth=t.maxWidth||-1,this._maxHeight=t.maxHeight||-1,this.resize(),window.addEventListener("resize",(t=>this.resize(t)))}set canvas(t){this._canvasElement=t,this.resize()}get canvas(){return this._canvasElement}set containerElement(t){this._containerElement=t,this.resize()}get containerElement(){return this._containerElement}set alignMode(t){this._alignMode=t,this.resize()}get alignMode(){return this._alignMode}set scaleMode(t){this._scaleMode=t,this.resize()}get scaleMode(){return this._scaleMode}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}setDimensions(t,e,n=-1,r=-1){this._width=parseInt(t),this._height=parseInt(e),this._maxWidth=n,this._maxHeight=r,this.resize()}align(){let t=this._alignMode;if(t===E)return;let e=this._canvasContentElement||this._canvasElement,n=e.getBoundingClientRect(),r=this.containerElement.getBoundingClientRect(),o=n.width,i=n.height,a=Math.floor((r.width-o)/2),c=Math.floor((r.height-i)/2);"centerHorizontally"===t?c=0:"centerVertically"===t&&(a=0),e.style.marginLeft=a+"px",e.style.marginTop=c+"px"}scale(){let t=this._scaleMode;if(t===T)return;let e=this._canvasContentElement||this._canvasElement,n=this.canvas,r=this.containerElement.getBoundingClientRect(),o=r.width,i=r.height;if("exactFit"===t)this._width=n.width=o,this._height=n.height=i;else if(t===C){let t=o/i,r=t>=this._width/this._height,a=r;r?this.canvas.width=Math.max(this._width,Math.min(this._maxWidth,t*this._height)):this.canvas.height=Math.max(this._height,Math.min(this._maxHeight,t*this._width));let c=1;a?(c=i/this.canvas.height,e.style.height="100%",e.style.width=c*this.canvas.width/o*100+"%"):(c=o/this.canvas.width,e.style.width="100%",e.style.height=c*this.canvas.height/i*100+"%"),n.style.width="100%",n.style.height="100%"}}resize(){this.canvas&&this.containerElement&&(this.canvas.width=this._width,this.canvas.height=this._height,this.scale(),this.align(),this.onResize&&this.onResize())}}class I extends createjs.Container{constructor(t,e){super(),this.name=t,this.options=e,this.active=!1}static preload(){return Promise.resolve()}setup(){return Promise.resolve()}reset(){return Promise.resolve()}start(){return this.setActive(!0),Promise.resolve()}end(){return this.setActive(!1),Promise.resolve()}setActive(t){this.active=t}animateIn(){return Promise.resolve()}animateOut(){return Promise.resolve()}resize(t,e){}update(){}destroy(){this.setActive(!1)}}const A={},L={};let M;class D extends createjs.Container{constructor(){if(super(),M)throw new Error("Only one instance of SceneContainer allowed");this.anchorX=.5,this.anchorY=.5,this._last=null,this.lastID="",this.current=null,this.currentID=""}static get scenes(){return A}static get currentScene(){return D.getCurrentScene()}static getInstance(){return M||(M=new D),M}static getCurrentScene(){return M&&M.current}static registerScene(t,e){A[t]={id:t,sceneClass:e}}static registerTransition(t,e){L[t]={id:t,instance:new e(t)}}static registerDefaultTransition(t){this.registerTransition("default",t)}static getSceneDefinition(t){return A[t]||!1}static getTransitionDefinition(t){return L[t]||!1}static gotoScene(t,e,n,r){M.gotoScene(t,e,n,r)}gotoScene(t,e,n="default",r={}){const o=this.current,i=D.getSceneDefinition(t);if(!i)throw new Error("No Scene with id: "+t);F(" ------ "),F("Starting Scene Change");let a,c=Promise.resolve();if(o){F("Removing Current Scene"),c=c.then((()=>o.end())),c=c.then((()=>o.animateOut()));const t=D.getTransitionDefinition(n);a=t.instance,a&&(F("Adding Transition"),c=c.then((()=>this.addTransition(a))),c=c.then((()=>a.setup(r))),c=c.then((()=>a.animateIn())),c=c.then((()=>a.loadAssets())))}F("Next Scene: "+i.id);const s=i.sceneClass;let u;F("Loading Next Scene"),c=c.then((()=>s.preload())),F("Creating Next Scene"),c=c.then((()=>(u=new s(i.id,e),Promise.resolve()))),c=c.then((()=>this.swapScenes(o,u))),c=c.then((()=>u.setup(e))),c=c.then((()=>u.reset())),a&&(F("Removing Transition"),c=c.then((()=>a.animateOut())),c=c.then((()=>(this.removeChild(a),Promise.resolve())))),c=c.then((()=>u.animateIn())),c.then((()=>u.start()))}setScreenAnchors(t=.5,e=.5){this.anchorX=t,this.anchorY=e}swapScenes(t,e){t&&(t.destroy(),this.removeChild(t)),this.addChildAt(e,0),this.current=e;const n=new Event("change");return n.current=this.current,n.previous=t,this.dispatchEvent(n),Promise.resolve()}addTransition(t){return this.addChild(t),Promise.resolve()}transitOut(){return this.transitionOverlay.transitOut()}transitIn(){return this.transitionOverlay.transitIn()}_tick(t){super._tick(t);const e=this.stage;e&&this.parent===e&&(this.x=Math.floor(e.canvas.width*this.anchorX),this.y=Math.floor(e.canvas.height*this.anchorY)),this.current&&this.current.update(t.delta/1e3)}}function F(t){return new Promise((e=>{console.log(t),e()}))}class V extends I{constructor(t,e){super(t,e)}loadAssets(){return Promise.resolve()}}const W=JSON.parse('{"basePath":"assets/audio/vo/","list":[{"id":"vo-1","src":"vo-1.mp3"},{"id":"vo-2b","src":"vo-2b.mp3"},{"id":"vo-3","src":"vo-3.mp3"},{"id":"vo-4","src":"vo-4.mp3"},{"id":"vo-5","src":"vo-5.mp3"},{"id":"vo-6","src":"vo-6.mp3"},{"id":"vo-7","src":"vo-7.mp3"},{"id":"vo-8","src":"vo-8.mp3"},{"id":"vo-9","src":"vo-9.mp3"},{"id":"vo-10","src":"vo-10.mp3"},{"id":"vo-10a","src":"vo-10a.mp3"},{"id":"vo-10b","src":"vo-10b.mp3"},{"id":"vo-10c","src":"vo-10c.mp3"},{"id":"vo-11","src":"vo-11.mp3"},{"id":"vo-11a","src":"vo-11a.mp3"},{"id":"vo-12","src":"vo-12.mp3"},{"id":"vo-12a","src":"vo-12a.mp3"},{"id":"vo-13","src":"vo-13.mp3"},{"id":"vo-13a","src":"vo-13a.mp3"},{"id":"vo-14","src":"vo-14.mp3"},{"id":"vo-14a","src":"vo-14a.mp3"},{"id":"vo-15","src":"vo-15.mp3"},{"id":"vo-16a","src":"vo-16a.mp3"},{"id":"vo-17","src":"vo-17.mp3"},{"id":"vo-18","src":"vo-18.mp3"}]}'),N=JSON.parse('{"basePath":"assets/audio/sfx/","list":[{"id":"word-select-6","src":"word-select-6.mp3"},{"id":"click-uncover-picture-1","src":"click-uncover-picture-1.mp3"},{"id":"click-uncover-picture-2","src":"click-uncover-picture-2.mp3"},{"id":"click-uncover-picture-3","src":"click-uncover-picture-3.mp3"},{"id":"click","src":"click.mp3"},{"id":"collect-coin","src":"collect-coin.mp3"},{"id":"find-word-last","src":"find-word-last.mp3"},{"id":"find-word","src":"find-word.mp3"},{"id":"powerup-first-last","src":"powerup-first-last.mp3"},{"id":"powerup-highlight-word","src":"powerup-highlight-word.mp3"},{"id":"powerup-timer","src":"powerup-timer.mp3"},{"id":"word-select-1","src":"word-select-1.mp3"},{"id":"word-select-2","src":"word-select-2.mp3"},{"id":"word-select-3","src":"word-select-3.mp3"},{"id":"word-select-4","src":"word-select-4.mp3"},{"id":"word-select-5","src":"word-select-5.mp3"},{"id":"combo-find-word-1","src":"combo-find-word-1.mp3"},{"id":"combo-find-word-2","src":"combo-find-word-2.mp3"},{"id":"combo-find-word-3","src":"combo-find-word-3.mp3"},{"id":"progress-meter-fill","src":"progress-meter-fill.mp3"},{"id":"unlock-gif","src":"unlock-gif.mp3"},{"id":"unlock-gif-2","src":"unlock-gif-2.mp3"},{"id":"level-up","src":"level-up.mp3"},{"id":"level-win-popup","src":"level-win-popup.mp3"},{"id":"find-bonus-word","src":"find-bonus-word.mp3"},{"id":"popup-cheer","src":"popup-cheer.mp3"},{"id":"shuffle-board","src":"shuffle-board.mp3"},{"id":"tutorial-popup","src":"tutorial-popup.mp3"}]}');function U(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),t}n(9826),n(7042),n(1539),n(1038),n(8783),n(2526),n(1817),n(2165),n(6992),n(3948),S.prototype._setVolume=function(t){return this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume(),this},S.prototype.setPlaybackResource=S.prototype._setPlaybackResource,_.prototype._handlePreloadComplete=function(t){var e=t.target.getItem().src,n=t.result,r=this._soundInstances[e];if(this._audioSources[e]=n,null!=r&&r.length>0)for(var o=0,i=r.length;o<i;o++)r[o].playbackResource=n;delete this._soundInstances[e]},_.prototype.removeSound=function(t){if(this._soundInstances[t])for(var e=this._soundInstances[t].length;e--;)this._soundInstances[t][e].destroy();delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]},k.prototype._updateVolume=function(){if(null!==this._playbackResource){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;this.channel&&(t*=this.channel.mute?0:this.channel.volume),t!==this._playbackResource.volume&&(this._playbackResource.volume=t)}},j.prototype._updateVolume=function(){var t;(t=this._muted?0:this.channel?this.channel.mute?0:this._volume*this.channel.volume:this._volume)!==this.gainNode.gain.value&&(this.gainNode.gain.value=t)};var Y=function(){function t(e){X(this,t),console.log("new AudioPlayerChannel",e),this._name=e,this._volume=1,this._muted=!1}return q(t,[{key:"volume",get:function(){return this._volume},set:function(t){this._volume=t;var e,n=U(H._getChannelInstances(this._name));try{for(n.s();!(e=n.n()).done;)e.value._updateVolume()}catch(t){n.e(t)}finally{n.f()}}},{key:"mute",get:function(){return this._mute},set:function(t){this._mute=t;var e,n=U(H._getChannelInstances(this._name));try{for(n.s();!(e=n.n()).done;)e.value._updateVolume()}catch(t){n.e(t)}finally{n.f()}}}]),t}(),H=new(function(){function t(){X(this,t),this._channels={},this._soundData={}}return q(t,[{key:"instances",get:function(){return x._instances}},{key:"volume",get:function(){return x.volume},set:function(t){x.volume=t}},{key:"setSoundData",value:function(t,e){this._soundData[t]=e}},{key:"play",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=x.loadComplete(t);if(r)e=x.play(t,n),n.fadeIn&&(e.volume=0,P.get(e).to({volume:1},n.fadeIn));else{var o=this._getSoundLoadObject(t);if(o){var i=x.registerSound(o.src,o.id,o.data,o.basePath);e=x.activePlugin.create(i.src);var a=x.activePlugin._loaders[i.src];a&&a.on("complete",this._onLoadPlay,this,!0,{src:t,props:n,instance:e})}else console.log("Can't find sound: ",t)}if(n&&n.channel){var c=this._getChannel(n.channel);e.channel=c}return e}},{key:"removeSound",value:function(t){var e=this._getSoundLoadObject(t);x.removeSound(e.src,e.basePath)}},{key:"_onLoadPlay",value:function(t,e){var n=e.instance;"playFinished"!==n.playState&&(x._playInstance(n,e.props),n.dispatchEvent("play"))}},{key:"_fadeIn",value:function(){}},{key:"pause",value:function(t){this._channelAction("pause",t)}},{key:"resume",value:function(t){this._channelAction("resume",t)}},{key:"stop",value:function(t){this._channelAction("stop",t)}},{key:"setChannelVolumes",value:function(t,e){arguments.length>3&&void 0!==arguments[3]||R.quadInOut;var n=this._getChannel(t);n.volume=e}},{key:"setChannelMute",value:function(t,e){this._getChannel(t).mute=!!e}},{key:"_getChannel",value:function(t){return this._channels[t]=this._channels[t]||new Y(t)}},{key:"_getChannelInstances",value:function(t){var e,n=this._getChannel(t),r=[],o=U(this.instances);try{for(o.s();!(e=o.n()).done;){var i=e.value;i.channel&&i.channel===n&&r.push(i)}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"_channelAction",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",r=this.instances,o=U(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;if("all"===n||i.channel===n)switch(t){case"stop":i.stop();break;case"pause":case"resume":i.paused="pause"===t}}}catch(t){o.e(t)}finally{o.f()}}},{key:"_getSoundLoadObject",value:function(t){for(var e in this._soundData)if(Object.hasOwnProperty.call(this._soundData,e)){var n=this._soundData[e],r=n.list.find((function(e){return e.id===t}));if(r)return{src:r.src,id:r.id,data:null,basePath:n.basePath}}return null}}]),t}());const Q=H;var $="title",J="game",K=(n(8304),n(489),n(2419),n(4819),n(5003),n(4747),n(7941),n(1249),n(3123),n(8674),Math.floor),Z=Math.random;const tt=function(t,e){return t+K(Z()*(e-t+1))},et=function(t){var e=t.length;return e?t[tt(0,e-1)]:void 0},nt=function(t,e){return function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,(function(e){return t[e]}))},rt="object"==typeof global&&global&&global.Object===Object&&global;var ot="object"==typeof self&&self&&self.Object===Object&&self;const it=rt||ot||Function("return this")(),at=it.Symbol;var ct=Object.prototype,st=ct.hasOwnProperty,ut=ct.toString,lt=at?at.toStringTag:void 0;var ft=Object.prototype.toString;var ht=at?at.toStringTag:void 0;const pt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ht&&ht in Object(t)?function(t){var e=st.call(t,lt),n=t[lt];try{t[lt]=void 0;var r=!0}catch(t){}var o=ut.call(t);return r&&(e?t[lt]=n:delete t[lt]),o}(t):function(t){return ft.call(t)}(t)},yt=function(t){return null!=t&&"object"==typeof t},dt=function(t){return yt(t)&&"[object Arguments]"==pt(t)};var vt=Object.prototype,bt=vt.hasOwnProperty,mt=vt.propertyIsEnumerable;const gt=dt(function(){return arguments}())?dt:function(t){return yt(t)&&bt.call(t,"callee")&&!mt.call(t,"callee")},wt=Array.isArray;var Ot="object"==typeof exports&&exports&&!exports.nodeType&&exports,_t=Ot&&"object"==typeof module&&module&&!module.nodeType&&module,St=_t&&_t.exports===Ot?it.Buffer:void 0;const kt=(St?St.isBuffer:void 0)||function(){return!1};var xt=/^(?:0|[1-9]\d*)$/;const jt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&xt.test(t))&&t>-1&&t%1==0&&t<e},Pt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Rt={};Rt["[object Float32Array]"]=Rt["[object Float64Array]"]=Rt["[object Int8Array]"]=Rt["[object Int16Array]"]=Rt["[object Int32Array]"]=Rt["[object Uint8Array]"]=Rt["[object Uint8ClampedArray]"]=Rt["[object Uint16Array]"]=Rt["[object Uint32Array]"]=!0,Rt["[object Arguments]"]=Rt["[object Array]"]=Rt["[object ArrayBuffer]"]=Rt["[object Boolean]"]=Rt["[object DataView]"]=Rt["[object Date]"]=Rt["[object Error]"]=Rt["[object Function]"]=Rt["[object Map]"]=Rt["[object Number]"]=Rt["[object Object]"]=Rt["[object RegExp]"]=Rt["[object Set]"]=Rt["[object String]"]=Rt["[object WeakMap]"]=!1;const Ct=function(t){return function(e){return t(e)}};var Tt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Et=Tt&&"object"==typeof module&&module&&!module.nodeType&&module,Bt=Et&&Et.exports===Tt&&rt.process;const It=function(){try{return Et&&Et.require&&Et.require("util").types||Bt&&Bt.binding&&Bt.binding("util")}catch(t){}}();var At=It&&It.isTypedArray;const Lt=At?Ct(At):function(t){return yt(t)&&Pt(t.length)&&!!Rt[pt(t)]};var Mt=Object.prototype.hasOwnProperty;const Dt=function(t,e){var n=wt(t),r=!n&&gt(t),o=!n&&!r&&kt(t),i=!n&&!r&&!o&&Lt(t),a=n||r||o||i,c=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=c.length;for(var u in t)!e&&!Mt.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||jt(u,s))||c.push(u);return c};var Ft=Object.prototype;const Vt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ft)},Wt=function(t,e){return function(n){return t(e(n))}},Nt=Wt(Object.keys,Object);var Ut=Object.prototype.hasOwnProperty;const zt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Xt=function(t){if(!zt(t))return!1;var e=pt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Gt=function(t){return null!=t&&Pt(t.length)&&!Xt(t)},qt=function(t){return Gt(t)?Dt(t):function(t){if(!Vt(t))return Nt(t);var e=[];for(var n in Object(t))Ut.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},Yt=function(t){return null==t?[]:nt(t,qt(t))},Ht=function(t){return et(Yt(t))},Qt=function(t){return(wt(t)?et:Ht)(t)},$t=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Jt=function(t,e){var n=-1,r=t.length,o=r-1;for(e=void 0===e?r:e;++n<e;){var i=tt(n,o),a=t[i];t[i]=t[n],t[n]=a}return t.length=e,t},Kt=function(t){return Jt($t(t))},Zt=function(t){return Jt(Yt(t))},te=function(t){return(wt(t)?Kt:Zt)(t)};var ee=/\s/;var ne=/^\s+/;const re=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&ee.test(t.charAt(e)););return e}(t)+1).replace(ne,""):t};var oe=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,ae=/^0o[0-7]+$/i,ce=parseInt;const se=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||yt(t)&&"[object Symbol]"==pt(t)}(t))return NaN;if(zt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=zt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=re(t);var n=ie.test(t);return n||ae.test(t)?ce(t.slice(2),n?2:8):oe.test(t)?NaN:+t};function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const le=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.loops={},this.currentTrack=null,this._volume=1}var e,n;return e=t,(n=[{key:"volume",get:function(){return this._volume},set:function(t){var e,n,r;this._volume=(e=t,n=0,void 0===(r=1)&&(r=n,n=void 0),void 0!==r&&(r=(r=se(r))==r?r:0),void 0!==n&&(n=(n=se(n))==n?n:0),function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}(se(e),n,r)),this.currentTrack&&(this.currentTrack.volume=this._volume)}},{key:"add",value:function(t,e){x.registerSound(e,t+"Music",{loop:-1,volume:this._volume})}},{key:"pause",value:function(){this.currentTrack&&this.currentTrack.stop()}},{key:"stop",value:function(){this.currentTrack&&this.currentTrack.stop()}},{key:"play",value:function(t){if(t){if(this.currentTrack){if(this.currentTrack.id===t)return void(this.currentTrack.volume<this._volume&&this.fadeIn());this.currentTrack.removeAllEventListeners(),P.get(this.currentTrack).to({volume:0},400).call(this.currentTrack.stop,null,this.currentTrack)}this.currentIp=t,this._playLoop(!0)}else this.currentTrack&&this.currentTrack.play()}},{key:"_playLoop",value:function(t){t=!0===t;var e=this.currentIp;this.currentTrack=x.play(e+"Music",{loop:-1,volume:t?0:this._volume}),t&&this.fadeIn()}},{key:"fadeOut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;this.currentTrack&&(this.currentTrack.removeAllEventListeners(),P.get(this.currentTrack).to({volume:0},t).call(this.currentTrack.stop,this.currentTrack))}},{key:"fadeIn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;this.currentTrack&&(this.currentTrack.volume=0,this.currentTrack.play(),P.get(this.currentTrack).to({volume:this._volume},t))}}])&&ue(e.prototype,n),t}()),fe=function(t,e){return t===e||t!=t&&e!=e},he=function(t,e){for(var n=t.length;n--;)if(fe(t[n][0],e))return n;return-1};var pe=Array.prototype.splice;function ye(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(t){var e=this.__data__,n=he(e,t);return!(n<0||(n==e.length-1?e.pop():pe.call(e,n,1),--this.size,0))},ye.prototype.get=function(t){var e=this.__data__,n=he(e,t);return n<0?void 0:e[n][1]},ye.prototype.has=function(t){return he(this.__data__,t)>-1},ye.prototype.set=function(t,e){var n=this.__data__,r=he(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};const de=ye,ve=it["__core-js_shared__"];var be,me=(be=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||""))?"Symbol(src)_1."+be:"";var ge=Function.prototype.toString;const we=function(t){if(null!=t){try{return ge.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var Oe=/^\[object .+?Constructor\]$/,_e=Function.prototype,Se=Object.prototype,ke=_e.toString,xe=Se.hasOwnProperty,je=RegExp("^"+ke.call(xe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Pe=function(t){return!(!zt(t)||(e=t,me&&me in e))&&(Xt(t)?je:Oe).test(we(t));var e},Re=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Pe(n)?n:void 0},Ce=Re(it,"Map"),Te=Re(Object,"create");var Ee=Object.prototype.hasOwnProperty;var Be=Object.prototype.hasOwnProperty;function Ie(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ie.prototype.clear=function(){this.__data__=Te?Te(null):{},this.size=0},Ie.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ie.prototype.get=function(t){var e=this.__data__;if(Te){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(e,t)?e[t]:void 0},Ie.prototype.has=function(t){var e=this.__data__;return Te?void 0!==e[t]:Be.call(e,t)},Ie.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Te&&void 0===e?"__lodash_hash_undefined__":e,this};const Ae=Ie,Le=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function Me(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Me.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(Ce||de),string:new Ae}},Me.prototype.delete=function(t){var e=Le(this,t).delete(t);return this.size-=e?1:0,e},Me.prototype.get=function(t){return Le(this,t).get(t)},Me.prototype.has=function(t){return Le(this,t).has(t)},Me.prototype.set=function(t,e){var n=Le(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};const De=Me;function Fe(t){var e=this.__data__=new de(t);this.size=e.size}Fe.prototype.clear=function(){this.__data__=new de,this.size=0},Fe.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Fe.prototype.get=function(t){return this.__data__.get(t)},Fe.prototype.has=function(t){return this.__data__.has(t)},Fe.prototype.set=function(t,e){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!Ce||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new De(r)}return n.set(t,e),this.size=n.size,this};const Ve=Fe,We=function(){try{var t=Re(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ne=function(t,e,n){"__proto__"==e&&We?We(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var Ue=Object.prototype.hasOwnProperty;const ze=function(t,e,n){var r=t[e];Ue.call(t,e)&&fe(r,n)&&(void 0!==n||e in t)||Ne(t,e,n)},Xe=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var c=e[i],s=r?r(n[c],t[c],c,n,t):void 0;void 0===s&&(s=t[c]),o?Ne(n,c,s):ze(n,c,s)}return n};var Ge=Object.prototype.hasOwnProperty;const qe=function(t){if(!zt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Vt(t),n=[];for(var r in t)("constructor"!=r||!e&&Ge.call(t,r))&&n.push(r);return n},Ye=function(t){return Gt(t)?Dt(t,!0):qe(t)};var He="object"==typeof exports&&exports&&!exports.nodeType&&exports,Qe=He&&"object"==typeof module&&module&&!module.nodeType&&module,$e=Qe&&Qe.exports===He?it.Buffer:void 0,Je=$e?$e.allocUnsafe:void 0;const Ke=function(){return[]};var Ze=Object.prototype.propertyIsEnumerable,tn=Object.getOwnPropertySymbols;const en=tn?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(tn(t),(function(e){return Ze.call(t,e)})))}:Ke,nn=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},rn=Wt(Object.getPrototypeOf,Object),on=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)nn(e,en(t)),t=rn(t);return e}:Ke,an=function(t,e,n){var r=e(t);return wt(t)?r:nn(r,n(t))},cn=function(t){return an(t,qt,en)},sn=function(t){return an(t,Ye,on)},un=Re(it,"DataView"),ln=Re(it,"Promise"),fn=Re(it,"Set"),hn=Re(it,"WeakMap");var pn="[object Map]",yn="[object Promise]",dn="[object Set]",vn="[object WeakMap]",bn="[object DataView]",mn=we(un),gn=we(Ce),wn=we(ln),On=we(fn),_n=we(hn),Sn=pt;(un&&Sn(new un(new ArrayBuffer(1)))!=bn||Ce&&Sn(new Ce)!=pn||ln&&Sn(ln.resolve())!=yn||fn&&Sn(new fn)!=dn||hn&&Sn(new hn)!=vn)&&(Sn=function(t){var e=pt(t),n="[object Object]"==e?t.constructor:void 0,r=n?we(n):"";if(r)switch(r){case mn:return bn;case gn:return pn;case wn:return yn;case On:return dn;case _n:return vn}return e});const kn=Sn;var xn=Object.prototype.hasOwnProperty;const jn=it.Uint8Array,Pn=function(t){var e=new t.constructor(t.byteLength);return new jn(e).set(new jn(t)),e};var Rn=/\w*$/;var Cn=at?at.prototype:void 0,Tn=Cn?Cn.valueOf:void 0;const En=function(t,e,n){var r,o,i,a=t.constructor;switch(e){case"[object ArrayBuffer]":return Pn(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var n=e?Pn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?Pn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(i=new(o=t).constructor(o.source,Rn.exec(o))).lastIndex=o.lastIndex,i;case"[object Set]":return new a;case"[object Symbol]":return r=t,Tn?Object(Tn.call(r)):{}}};var Bn=Object.create;const In=function(){function t(){}return function(e){if(!zt(e))return{};if(Bn)return Bn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var An=It&&It.isMap;const Ln=An?Ct(An):function(t){return yt(t)&&"[object Map]"==kn(t)};var Mn=It&&It.isSet;const Dn=Mn?Ct(Mn):function(t){return yt(t)&&"[object Set]"==kn(t)};var Fn="[object Arguments]",Vn="[object Function]",Wn={};Wn[Fn]=Wn["[object Array]"]=Wn["[object ArrayBuffer]"]=Wn["[object DataView]"]=Wn["[object Boolean]"]=Wn["[object Date]"]=Wn["[object Float32Array]"]=Wn["[object Float64Array]"]=Wn["[object Int8Array]"]=Wn["[object Int16Array]"]=Wn["[object Int32Array]"]=Wn["[object Map]"]=Wn["[object Number]"]=Wn["[object Object]"]=Wn["[object RegExp]"]=Wn["[object Set]"]=Wn["[object String]"]=Wn["[object Symbol]"]=Wn["[object Uint8Array]"]=Wn["[object Uint8ClampedArray]"]=Wn["[object Uint16Array]"]=Wn["[object Uint32Array]"]=!0,Wn["[object Error]"]=Wn[Vn]=Wn["[object WeakMap]"]=!1;const Nn=function t(e,n,r,o,i,a){var c,s=1&n,u=2&n,l=4&n;if(r&&(c=i?r(e,o,i,a):r(e)),void 0!==c)return c;if(!zt(e))return e;var f=wt(e);if(f){if(c=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&xn.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!s)return $t(e,c)}else{var h=kn(e),p=h==Vn||"[object GeneratorFunction]"==h;if(kt(e))return function(t,e){if(e)return t.slice();var n=t.length,r=Je?Je(n):new t.constructor(n);return t.copy(r),r}(e,s);if("[object Object]"==h||h==Fn||p&&!i){if(c=u||p?{}:function(t){return"function"!=typeof t.constructor||Vt(t)?{}:In(rn(t))}(e),!s)return u?function(t,e){return Xe(t,on(t),e)}(e,function(t,e){return t&&Xe(e,Ye(e),t)}(c,e)):function(t,e){return Xe(t,en(t),e)}(e,function(t,e){return t&&Xe(e,qt(e),t)}(c,e))}else{if(!Wn[h])return i?e:{};c=En(e,h,s)}}a||(a=new Ve);var y=a.get(e);if(y)return y;a.set(e,c),Dn(e)?e.forEach((function(o){c.add(t(o,n,r,o,e,a))})):Ln(e)&&e.forEach((function(o,i){c.set(i,t(o,n,r,i,e,a))}));var d=f?void 0:(l?u?sn:cn:u?Ye:qt)(e);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(d||e,(function(o,i){d&&(o=e[i=o]),ze(c,i,t(o,n,r,i,e,a))})),c},Un=function(t){return Nn(t,4)};function zn(t,e){var n,r=e;return window.location.href.indexOf(t)>-1&&(r=(n={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,e,r){n[e]=r})),n)[t]),r}var Xn="easy",Gn="medium",qn="hard";function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Hn=!1,Qn=!1,$n=[Xn,Gn,qn];const Jn=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"difficulty",get:function(){return Hn},set:function(t){if(!($n.indexOf(t)>=0))throw new Error("Difficulty not found: "+t);Hn=t}},{key:"ip",get:function(){return Qn},set:function(t){Qn=t}},{key:"level",get:function(){return 0}},{key:"puzzle",get:function(){return 0}}])&&Yn(e.prototype,n),t}());function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zn=10,tr="0.0.11",er="WG_PLAYER_DATA",nr={c:0,v:0},rr={};const or=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"gemCount",get:function(){return rr.gems}},{key:"wordsFounds",get:function(){return rr.wordsFound}},{key:"init",value:function(){this._getPlayerData()}},{key:"addWordFound",value:function(){rr.wordsFound++,this.save()}},{key:"addPowerupUse",value:function(t){rr.powerupCounts[t]=rr.powerupCounts[t]||0,rr.powerupCounts[t]++,this.save()}},{key:"getPowerupUseCount",value:function(t){return rr.powerupCounts[t]||0}},{key:"isPlayerNew",value:function(){return rr.isNewUser}},{key:"removeNewPlayerStatus",value:function(){rr.isNewUser=!1,this.save()}},{key:"getRawIPProgress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn.ip,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn.difficulty,n=rr.ips,r=n[t]=n[t]||{},o=r[e]=r[e]||Un(nr);return o}},{key:"getIPProgress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn.ip,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn.difficulty,n=this.getRawIPProgress(t,e);return{level:Math.floor(n.c/Zn),stage:n.c%Zn,visualLevel:Math.floor(n.v/Zn),visualStage:n.v%Zn,hasUpdate:n.c!==n.v,leveledUp:n.c!==n.v&&n.c%Zn==0}}},{key:"getLevelProgress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn.ip,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn.difficulty;return this.getIPProgress(t,e)}},{key:"completeLevel",value:function(){this.getRawIPProgress().c++,this.save()}},{key:"syncVisualProgress",value:function(){var t=this.getRawIPProgress();t.v=t.c,this.save()}},{key:"addGems",value:function(t){rr.gems+=t,this.save()}},{key:"useGems",value:function(t){rr.gems-=t,this.save()}},{key:"save",value:function(){localStorage.setItem(er,JSON.stringify(rr))}},{key:"_getPlayerData",value:function(){try{var t=localStorage.getItem(er);t&&(t=JSON.parse(t)),t.dataVersion!==tr||zn("newUser",!1)?this._buildNewPlayerData():rr=t}catch(t){this._buildNewPlayerData()}}},{key:"_buildNewPlayerData",value:function(){(rr={}).timestamp=yr.dataTimeStamp,rr.gems=0,rr.isNewUser=!0,rr.wordsFound=0,rr.powerupCounts={},rr.dataVersion=tr,rr.ips={},this.save()}}])&&Kn(e.prototype,n),t}());function ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ar=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.name=this.data.name,this._wordList=null}var e,n;return e=t,(n=[{key:"levelNameString",get:function(){return"LEVEL "+(or.getLevelProgress().level+1)}},{key:"levelPuzzleString",get:function(){return"PUZZLE "+(or.getLevelProgress().stage+1)}},{key:"packSS",get:function(){return this.menuQueue.getResult("pack")}},{key:"menuBackgroundImage",get:function(){return this.menuQueue.getResult("menuBackground")}},{key:"levelBackground",get:function(){var t=or.getLevelProgress(),e=this.data.resources.backgrounds;return"assets/ips/"+this.name+"/backgrounds/"+e[t.level%e.length]}},{key:"menuImage",get:function(){return this.menuQueue.getResult("menu")}},{key:"logoImage",get:function(){return this.menuQueue.getResult("logo")}},{key:"characterMenuCharacter0",get:function(){return this.getCharacterBitmap(this.levelStartQueue,"menuCharacter0")}},{key:"characterMenuCharacter1",get:function(){return this.getCharacterBitmap(this.levelStartQueue,"menuCharacter1")}},{key:"characterGameBoardCharacter0",get:function(){return this.getCharacterBitmap(this.gameQueue,"gameboardCharacter0")}},{key:"characterGameBoardCharacter1",get:function(){return this.getCharacterBitmap(this.gameQueue,"gameboardCharacter1")}},{key:"characterBottomCharacter0",get:function(){return this.getCharacterBitmap(this.gameQueue,"powerupCharacter0")}},{key:"characterBottomCharacter1",get:function(){return this.getCharacterBitmap(this.gameQueue,"powerupCharacter1")}},{key:"textureImage",get:function(){return this.gameQueue.getResult("texture")}},{key:"colors",get:function(){return this.data.colors}},{key:"wordList",get:function(){return this._wordList}},{key:"getAnalyticsProp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"propertyName";return this.data.analytics[t]}},{key:"getCharacterBitmap",value:function(t,e){var n=new a(t.getResult(e)),r=n.getBounds();return r&&(n.regX=r.width/2,n.regY=r.height),n}},{key:"getPayOff",value:function(){var t=Qt(this.data.resources.payoffs),e=t.split("-")[0],n=this.data.phrases[e]||this.data.phrases.all;return{imageUrl:"assets/ips/"+this.name+"/payoffs/"+t,phrase:Qt(n)}}},{key:"loadMenuAssets",value:function(){var t=this,e=[{id:"pack",src:"pack.json",type:"spritesheet"},{id:"logo",src:"logo.png"},{id:"menu",src:"menu.png"},{id:"menuBackground",src:"backgrounds/"+this.data.resources.backgrounds[0]}];return this.menuQueue=new w(!0,"assets/ips/"+this.name+"/"),this.menuQueue.loadManifest(e,!1),new Promise((function(e){t.menuQueue.on("complete",e),t.menuQueue.load()}))}},{key:"loadMusic",value:function(){this.data.music&&le.add(this.name,"assets/ips/"+this.name+"/music.mp3")}},{key:"loadLevelStartAssets",value:function(){var t=this,e=[{id:"menuCharacter0",src:"characters/"+this.data.resources.characters.menu[0]},{id:"menuCharacter1",src:"characters/"+this.data.resources.characters.menu[1]},{id:"levelBackground",src:this._getLevelBackgroundUrl()}];return this.levelStartQueue=new w(!0,"assets/ips/"+this.name+"/"),this.levelStartQueue.loadManifest(e,!1),new Promise((function(e){t.levelStartQueue.on("complete",e),t.levelStartQueue.load()}))}},{key:"loadGameAssets",value:function(){var t=this,e=[{id:"texture",src:"textures/"+this.data.resources.texture},{id:"gameboardCharacter0",src:"characters/"+this.data.resources.characters.gameboard[0]},{id:"gameboardCharacter1",src:"characters/"+this.data.resources.characters.gameboard[1]},{id:"powerupCharacter0",src:"characters/"+this.data.resources.characters.powerup[0]},{id:"powerupCharacter1",src:"characters/"+this.data.resources.characters.powerup[1]}];return this._wordList||e.push({id:"wordlist",src:"wordlist.json"}),this.gameQueue=new w(!0,"assets/ips/"+this.name+"/"),this.gameQueue.loadManifest(e,!1),new Promise((function(e){t._wordList||t.gameQueue.on("complete",t._parseWordList,t),t.gameQueue.on("complete",e),t.gameQueue.load()}))}},{key:"_parseWordList",value:function(){var t=this.gameQueue.getResult("wordlist");this._wordList=t,Object.keys(t).forEach((function(e){t[e]=te(t[e])}))}},{key:"_getLevelBackgroundUrl",value:function(){var t=this.data.resources.backgrounds;return"backgrounds/"+t[or.getLevelProgress().level%t.length]}},{key:"getOffsetsFor",value:function(t){return this.data.offsets}}])&&ir(e.prototype,n),t}();function cr(t){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t,e){return(ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lr(t,e){return!e||"object"!==cr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fr(t){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hr=!1,pr="ip_change";const yr=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ur(t,e)}(c,t);var e,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fr(o);if(i){var n=fr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lr(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this)).ipDatas={},t.ipDatasArray=[],t._currentIP=!1,t}return e=c,(n=[{key:"dataTimeStamp",get:function(){return hr.timestamp}},{key:"ipCount",get:function(){return hr.ipNames.length}},{key:"ipNames",get:function(){return hr.ipNames}},{key:"currentIp",get:function(){return this._currentIP},set:function(t){if(this._currentIP!==t){this._currentIP=t;var e=new r(pr);e.ip=this._currentIP,this.dispatchEvent(e)}}},{key:"parseJSON",value:function(t){var e=this,n=(hr=t).ips;Object.keys(n).forEach((function(t){var r=n[t];e.ipDatas[t]=new ar(r),e.ipDatasArray.push(e.ipDatas[t])}))}},{key:"setStartIP",value:function(){this.currentIp=this.ipDatasArray[0]}},{key:"getIPData",value:function(t){return this.ipDatas[t]}},{key:"getIPManifests",value:function(){for(var t=[],e=hr.ipNames,n=0;n<e.length;n++){var r=e[n];t.push(this.getIPManifest(r))}return t}},{key:"loadIPMenuAssets",value:function(){return this.ipDatasArray.forEach((function(t){return t.loadMusic()})),this.ipDatasArray.map((function(t){return t.loadMenuAssets()}))}}])&&sr(e.prototype,n),c}(o));function dr(t){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mr(t,e,n){return(mr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_r(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gr(t,e){return(gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wr(t,e){return!e||"object"!==dr(e)&&"function"!=typeof e?Or(t):e}function Or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _r(t){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sr={};const kr=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gr(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_r(r);if(o){var n=_r(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return wr(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this)).regX=833,t.regY=384,t._bgAlpha=0,t.backgroundAlphaTween=P.get(Or(t),{paused:!0}).to({_bgAlpha:1},500,R.quadInOut),yr.on(pr,t.onIPChange,Or(t)),t}return e=c,(n=[{key:"onIPChange",value:function(t){this.setActiveBackground(t.ip.name)}},{key:"addBackgrounds",value:function(){var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return vr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(yr.ipDatasArray);try{for(e.s();!(t=e.n()).done;){var n=t.value,r=new a(n.menuBackgroundImage);Sr[n.name]=r}}catch(t){e.e(t)}finally{e.f()}}},{key:"setActiveBackground",value:function(t){this._lastBackground=this._currentBackground,this._currentBackground=Sr[t],this.addChild(this._currentBackground),this._lastBackground?(this._currentBackground.alpha=0,this.backgroundAlphaTween.setPosition(0),this.backgroundAlphaTween.paused=!1):this._bgAlpha=1}},{key:"setLevelBackground",value:function(){var t=this;Sr.activeLevel=new a(yr.currentIp.levelBackground);var e=Sr.activeLevel.image;e.naturalWidth||e.getContext||e.readyState>=2?this.setActiveBackground("activeLevel"):e.onload=function(){return t.setActiveBackground("activeLevel")}}},{key:"clearOldBackgrounds",value:function(){for(;this.children.length>1;)this.removeChildAt(0)}},{key:"_tick",value:function(t){mr(_r(c.prototype),"_tick",this).call(this,t);var e=this.stage;e&&(this.x=e.canvas.width/2,this.y=e.canvas.height/2,this._currentBackground&&(this._currentBackground.alpha=this._bgAlpha,this._lastBackground&&(this._bgAlpha>=1?(this.clearOldBackgrounds(),this._lastBackground=!1):this._lastBackground.alpha=1)))}}])&&br(e.prototype,n),c}(c)),xr="animate_composition";class jr extends createjs.AbstractLoader{constructor(t,e){super(t,e,xr),this._manifestQueue=null,this.compositionsIDMap={}}static addPlaySoundOnWindow(){window.playSound=(t,e,n)=>createjs.Sound.play(t,{interrupt:createjs.Sound.INTERRUPT_EARLY,loop:e,offset:n})}static get MANIFEST_PROGRESS(){return.25}static canLoadItem(t){return t.type===xr}destroy(){super.destroy(),this._manifestQueue.close()}_createRequest(){this._request=new createjs.JavaScriptLoader(this._item)}handleEvent(t){const e=window.AdobeAn;switch(t.type){case"complete":{if(this._rawResult=t.target.getResult(!0),!e.compositions)throw new Error("Using out of date flash export! "+this._item.src);let n;if(this.compositionsIDMap[this._item.src])n=this.compositionsIDMap[this._item.src];else{let t=Object.keys(e.compositions);for(let e=0,r=t.length;e<r;e++)if(!this.compositionsIDMap[t[e]]){n=t[e];break}this.compositionsIDMap[this._item.src]=n}this._item.assetsPath=this._item.src.slice(0,this._item.src.lastIndexOf("/")+1);let r=this._item.comp=e.compositions[n],o=this._result=this._item.lib=r.getLibrary();if(delete e.compositions[n],!o)throw new Error("Something went wrong. Lib not found");return this._sendProgress(jr.MANIFEST_PROGRESS),void this._loadManifest(o)}case"progress":return t.loaded*=jr.MANIFEST_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress===1/0)&&(this.progress=0),void this._sendProgress(t)}super._handleEvent(t)}_loadManifest(t){if(t.properties.manifest&&t.properties.manifest.length){let e=new createjs.LoadQueue(this._preferXHR,this._item.assetsPath,this._item.crossOrigin);e.installPlugin(createjs.Sound),e.on("complete",this._handleManifestComplete,this,!0),e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("error",this._handleManifestError,this,!0),this._manifestQueue=e;let n=[];for(let e=0,r=t.properties.manifest.length;e<r;e++)n.push(t.properties.manifest[e]);e.loadManifest(n)}else this._sendComplete()}_handleManifestFileLoad(t){t&&"image"===t.item.type&&(this._item.comp.getImages()[t.item.id]=t.result)}_handleManifestComplete(t){let e=this._item.comp,n=e.getLibrary(),r=e.getSpriteSheet(),o=t.target,i=n.ssMetadata;for(let t=0;t<i.length;t++)r[i[t].name]=new createjs.SpriteSheet({images:[o.getResult(i[t].name)],frames:i[t].frames});this._sendComplete()}_handleManifestProgress(t){this.progress=t.progress*(1-jr.MANIFEST_PROGRESS)+jr.MANIFEST_PROGRESS,this._sendProgress(this.progress)}_handleManifestError(t){let e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)}}class Pr extends createjs.EventDispatcher{constructor(){super(),this.cache={},this.loadQueue=new createjs.LoadQueue,this.loadQueue.installPlugin(createjs.Sound),this.loadQueue.registerLoader(jr),this.loadQueue.setMaxConnections(6),this.loadQueue.on("fileload",this.onFileLoad,this),this.loadQueue.on("complete",this.onLoadComplete,this)}loadFile(t,e=!0,n){return this.loadQueue.loadFile(t,!1,n),!0===e?this.load():Promise.resolve()}loadManifest(t,e=!0,n){return this.loadQueue.loadManifest(t,!1,n),!0===e?this.load():Promise.resolve()}load(){return this.loadQueue.load(),new Promise((t=>{this.loadQueue.on("complete",t)}))}onFileLoad(t){this.add(t)}onLoadComplete(t){this.loadQueue.removeAll()}add(t){switch(t.item.type){case createjs.Types.SOUND:break;default:this.cache[t.item.id]=t.result}}get(t){return"string"==typeof t?this.cache[t]:t.id?this.cache[t.id]:null}has(t){return!!this.get(t)}unload(t){Array.isArray(t)?t.forEach((t=>this.unload(t.id))):delete this.cache[t]}clear(){this.cache={}}isManifestLoaded(t){const e=this.cache,n=[];return t.forEach((t=>{e[t.id]||e[t.src]||n.push(t)})),0===n.length}}const Rr=new Pr;var Cr="show_select",Tr="difficulty_select",Er="level_start",Br="load_start",Ir="inner_view_event",Ar="tile_burst",Lr="tile_burst_complete",Mr="selection_change",Dr="word_found",Fr="powerup_select";function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nr(t,e){return(Nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ur(t,e){return!e||"object"!==Vr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zr(t){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xr={visible:!0},Gr={y:-200},qr={y:-800},Yr={visible:!1},Hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nr(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zr(r);if(o){var n=zr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ur(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).set(qr),t.set(Yr),t}return e=a,(n=[{key:"show",value:function(){this._updateImage(),this.set(Xr),P.get(this).to(Gr,500,R.cubicOut)}},{key:"hide",value:function(){P.get(this).to(qr,500,R.cubicIn).set(Yr)}},{key:"_updateImage",value:function(){this.image=yr.currentIp.logoImage,this.center()}}])&&Wr(e.prototype,n),a}(a);function Qr(t){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jr(t,e,n){return(Jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=to(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Kr(t,e){return(Kr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zr(t,e){return!e||"object"!==Qr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function to(t){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kr(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=to(r);if(o){var n=to(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Zr(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).clickSound="click",e.addChild(t),e.mouseChildren=!1,e.cursor="pointer",e.autoRemoveListeners=!0,e.snapToPixel=!1,e._showing=!0,e._pulseTime=-1,e}return e=a,(n=[{key:"show",get:function(){return this._showing},set:function(t){t!==this._showing&&(this._showing=t,!0===t?(this.visible=!0,P.get(this,{override:!0}).to({scale:1},500,R.backOut).set({mouseEnabled:!0})):(this.mouseEnabled=!1,P.get(this,{override:!0}).to({scale:0},500,R.backIn).set({visible:!1})))}},{key:"pulse",get:function(){return this._pulseTime>=0},set:function(t){this._pulseTime=t?0:-1}},{key:"addListeners",value:function(t,e){this.removeListeners(),this.on("mousedown",this._onInteraction,this),this.on("pressup",this._onInteraction,this),this.on("click",this._onClick,this),t&&this.on("click",t,e)}},{key:"_onClick",value:function(){Q.play(this.clickSound),this.autoRemoveListeners&&(this.removeListeners(),this._scaleUp())}},{key:"removeListeners",value:function(){this.pulse=!1,this.removeAllEventListeners(),this._scaleUp()}},{key:"_onInteraction",value:function(t){switch(t.type){case"mousedown":P.removeTweens(this),this.scale=.9;break;case"pressup":this._scaleUp()}}},{key:"_scaleUp",value:function(){this.mouseEnabled&&P.get(this,{override:!0}).to({scale:1},200,R.backOut)}},{key:"_tick",value:function(t){Jr(to(a.prototype),"_tick",this).call(this,t),this._pulseTime>=0&&!P.hasActiveTweens(this)&&(this._pulseTime+=t.delta,this.scale=1+.05*Math.sin(this._pulseTime/300))}}])&&$r(e.prototype,n),a}(c);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oo(t,e){return(oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function io(t,e){return!e||"object"!==no(e)&&"function"!=typeof e?ao(t):e}function ao(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function co(t){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var so={large:{plate:"plate-play",regs:{regX:96,regY:96},clickSound:"click"},difficulty:{plate:"plate-difficulty",regs:{regX:122,regY:122},clickSound:"click"},small:{plate:"plate-home",regs:{regX:45,regY:45},clickSound:"click"},thanks:{plate:"plate-thank",regs:{regX:153,regY:52},clickSound:"click"},confirm:{plate:"plate-confirm",regs:{regX:153,regY:52},clickSound:"click"}},uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oo(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=co(r);if(o){var n=co(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return io(this,t)});function a(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,null))._type=t,n._subType=e;var r=Rr.get("ui-ss");return n.colorSprite=new h(r,""),n.iconSprite=new h(r,""),n.addChild(n.colorSprite,n.iconSprite),yr.on(pr,n.onIPChange,ao(n)),e&&(n.subType=e),n.clickSound=so[n._type].clickSound,n}return e=a,(n=[{key:"subType",get:function(){return this._subType},set:function(t){this._subType=t,this._updateProps()}},{key:"onIPChange",value:function(t){this._updateProps()}},{key:"_updateProps",value:function(){var t=so[this._type];if(t){this.set(t.regs);var e=yr.currentIp;this.colorSprite.spriteSheet=e.packSS,this.colorSprite.gotoAndPlay(t.plate),this.iconSprite.gotoAndStop("icon-"+this._subType),this.center()}}}])&&ro(e.prototype,n),a}(eo);function lo(t){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ho(t,e,n){return(ho="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function po(t,e){return(po=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yo(t,e){return!e||"object"!==lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vo(t){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&po(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vo(r);if(o){var n=vo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return yo(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"small","sound-off")).stateMuted=x.muted,t._updateState(),t}return e=a,(n=[{key:"_updateState",value:function(){this.stateMuted=x.muted,this.subType=this.stateMuted?"sound-off":"sound-on"}},{key:"_tick",value:function(t){ho(vo(a.prototype),"_tick",this).call(this,t),this.stateMuted!==x.muted&&this._updateState()}},{key:"_onClick",value:function(){ho(vo(a.prototype),"_onClick",this).call(this),x.muted=!x.muted}}])&&fo(e.prototype,n),a}(uo);function mo(t){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wo(t,e){return(wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oo(t,e){return!e||"object"!==mo(e)&&"function"!=typeof e?_o(t):e}function _o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function So(t){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const ko=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(c,t);var e,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=So(o);if(i){var n=So(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Oo(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this))._onSoundFinished=t._onSoundFinished.bind(_o(t)),t._updateSilence=t._updateSilence.bind(_o(t)),t._listHelper=[],t.trackSound=!1,t.paused=!1,t.voList=null,t._listCounter=0,t._currentVO=null,t._soundInstance=null,t._callback=null,t._cancelledCallback=null,t._trackedSounds=[],t._timer=0,t}return e=c,(n=[{key:"playing",get:function(){return null!==this._currentVO||this._timer>0}},{key:"currentId",get:function(){return this._currentVO&&this._currentVO.id}},{key:"currentItem",get:function(){return this._currentVO}},{key:"pause",value:function(){!this.paused&&this.playing&&(this.paused=!0,this._soundInstance&&this._soundInstance.pause())}},{key:"resume",value:function(){this.paused&&(this.paused=!1,this._soundInstance&&this._soundInstance.resume())}},{key:"play",value:function(t,e,n){this.playing&&this.stop(),t?(this._listCounter=-1,Array.isArray(t)?this.voList=t:"string"==typeof t||"object"===mo(t)?(this._listHelper.length=0,this._listHelper[0]=t,this.voList=this._listHelper):console.log("VOPlayer: Passed invalid type: "+mo(t)),this.voList=this.voList.map((function(t){switch(mo(t)){case"string":return{id:t};case"object":case"function":case"number":default:return t}})),this._callback=e,this._cancelledCallback=!0===n?e:n,this._onSoundFinished()):console.log("VOPlayer: No idOrList was given")}},{key:"_onSoundFinished",value:function(){if(this._listCounter>=0&&this._dispatchEnd(),this._soundInstance=null,this._listCounter++,this._listCounter>=this.voList.length){this._currentVO=null,this._cancelledCallback=null;var t=this._callback;if(this._callback=null,t)return t()}else switch(this._currentVO=this.voList[this._listCounter],mo(this._currentVO)){case"object":this._playSound(this._currentVO.id);break;case"function":this._currentVO(),this._onSoundFinished();break;case"number":this._timer=this._currentVO,this._currentVO=null,P.get(this,{override:!0}).to({_timer:0},this._timer).call(this._onSoundFinished,null,this);break;default:this._onSoundFinished()}return null}},{key:"_updateSilence",value:function(t){this._timer-=t,this._timer<=0&&this._onSoundFinished()}},{key:"_playSound",value:function(t){this.trackSound&&-1===this._trackedSounds.indexOf(t)&&this._trackedSounds.push(t),this._soundInstance=Q.play(t),this._soundInstance.on("complete",this._onSoundFinished,this,!0),this._soundInstance.playState===x.PLAY_SUCCEEDED?this._dispatchStart():this._soundInstance.on("play",this._dispatchStart,this,!0)}},{key:"_dispatchStart",value:function(t){var e=new r("start");e.list=this.voList,e.listIndex=this._listCounter,e.vo=this._currentVO&&this._currentVO.id,e.options=this._currentVO&&this._currentVO.options,this.dispatchEvent(e)}},{key:"_dispatchEnd",value:function(){var t=new r("end");t.list=this.voList,t.listIndex=this._listCounter,t.vo=this._currentVO&&this._currentVO.id,t.options=this._currentVO&&this._currentVO.options,this.dispatchEvent(t)}},{key:"stop",value:function(){this._dispatchEnd(),this.paused=!1,this._soundInstance&&(this._soundInstance.stop(),this._soundInstance=null),this._currentVO=null,P.removeTweens(this),this.voList=null,this._timer=0,this._callback=null;var t=this._cancelledCallback;return this._cancelledCallback=null,t?t():null}},{key:"unloadTrackedSounds",value:function(){this._trackedSounds.forEach((function(t){return Q.removeSound(t)})),this._trackedSounds.length=0}},{key:"destroy",value:function(){this.stop(),this.voList=null,this._listHelper=null,this._currentVO=null,this._soundInstance=null,this._callback=null,this._cancelledCallback=null,this._trackedSounds=null}}])&&go(e.prototype,n),c}(o));function xo(t){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Po(t,e){return(Po=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ro(t,e){return!e||"object"!==xo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Co(t){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Po(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Co(r);if(o){var n=Co(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ro(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).includeLogo=!1,t}return e=a,(n=[{key:"show",value:function(t){t()}},{key:"hide",value:function(t){t()}},{key:"start",value:function(t){t()}}])&&jo(e.prototype,n),a}(c);function Eo(t){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Io(t,e,n){return(Io="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ao(t,e){return(Ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lo(t,e){return!e||"object"!==Eo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Do=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ao(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mo(r);if(o){var n=Mo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Lo(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).includeLogo=!0,t.regX=292,t.y=93,t.pulseTimer=-1,t.addButtons(),t.reset(),t}return e=a,(n=[{key:"reset",value:function(){this.visible=!1,this.children.forEach((function(t){t.y=500}))}},{key:"show",value:function(t){ko.play("vo-2b"),this.visible=!0;var e=!1;this.children.forEach((function(t,n){e=P.get(t).wait(50*n).to({y:0},500,R.getBackOut(.8))})),e.call(t)}},{key:"hide",value:function(t){this.setActive(!1),this.pulseTimer=-1;var e=!1;this.children.forEach((function(t,n){e=P.get(t).wait(50*n).to({y:500},500,R.getBackIn(.5))})),e.set({visible:!1},this).call(t)}},{key:"start",value:function(t){this.setActive(!0),this.pulseTimer=0,t()}},{key:"setActive",value:function(t){this.children.forEach((function(t){return t.removeListeners()})),this.removeAllEventListeners("click"),t&&(this.children.forEach((function(t){return t.addListeners()})),this.on("click",this.onDifficultySelect,this))}},{key:"onDifficultySelect",value:function(t){this.setActive(!1);var e=t.target,n=new Event(Tr);n.difficulty=e.subType,this.dispatchEvent(n)}},{key:"addButtons",value:function(){var t=this;[Xn,Gn,qn].forEach((function(e,n){var r=new uo("difficulty",e);r.x=292*n,t.addChild(r)}))}},{key:"_tick",value:function(t){var e=this;Io(Mo(a.prototype),"_tick",this).call(this,t),this.pulseTimer>=0&&(this.pulseTimer+=t.delta,this.children.forEach((function(t){t.scale=1+.05*Math.sin(e.pulseTimer/300)})))}}])&&Bo(e.prototype,n),a}(To),Fo=(n(3290),n(9714),"Placard MT Disney Channel"),Vo="Poppins",Wo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),No=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=n,this.emitter=r,this.display=e,this.currentLifetime=0,this.currentSpeed=0,this.currentRotateSpeed=0,this.position={x:0,y:0},this.velocity={x:0,y:0},this.display.mouseEnabled=!1,this.display.mouseChildren&&(this.display.mouseChildren=!1)}return Wo(t,[{key:"playCallback",value:function(){this.settings.playCallback&&this.settings.playCallback(this)}},{key:"stopCallback",value:function(){this.settings.stopCallback&&this.settings.stopCallback(this)}},{key:"update",value:function(t){if(this.currentLifetime-=t,this.velocity.y+=t*this.settings.gravity,this.display.x=this.position.x,this.display.y=this.position.y,this.display.rotation+=this.currentRotateSpeed*t,this.position.x+=this.velocity.x*this.currentSpeed*t,this.position.y+=this.velocity.y*this.currentSpeed*t,this.settings.scaleOverTime.start!==this.settings.scaleOverTime.end){var e=1-this.settings.scaleEase(this.currentLifetime/this.settings.lifetime.max);this.display.scale=this.lerp(this.settings.scaleOverTime.start,this.settings.scaleOverTime.end,e)}if(this.settings.opacityOverTime.start!==this.settings.opacityOverTime.end){var n=1-this.settings.opacityEase(this.currentLifetime/this.settings.lifetime.max);this.display.alpha=this.lerp(this.settings.opacityOverTime.start,this.settings.opacityOverTime.end,n)}this.isDead()}},{key:"lerp",value:function(t,e,n){return t+n*(e-t)}},{key:"isDead",value:function(){this.currentLifetime<0&&(this.stop(),this.set())}},{key:"randomDir",value:function(){var t=Math.random();return Math.random()>.5?t:-1*t}},{key:"randomRot",value:function(){return 360*Math.random()}},{key:"getImplodeVelocity",value:function(){var t;return t=this.emitter.settings.particleContainer?Math.atan2(this.emitter.y-this.display.y,this.emitter.x-this.display.x):Math.atan2(this.emitter.y-(this.display.y+this.emitter.y),this.emitter.x-(this.display.x+this.emitter.x)),{x:Math.cos(t),y:Math.sin(t)}}},{key:"set",value:function(){this.display.scale=this.settings.scaleOverTime.start,this.display.alpha=this.settings.opacityOverTime.start,this.display.rotation=this.settings.randomStartRotation?this.randomRot():0,this.settings.lifetime.min!==this.settings.lifetime.max?this.currentLifetime=Math.random()*(this.settings.lifetime.max-this.settings.lifetime.min)+this.settings.lifetime.min:this.currentLifetime=this.settings.lifetime.min,this.settings.moveSpeed.min!==this.settings.moveSpeed.max?this.currentSpeed=Math.random()*(this.settings.moveSpeed.max-this.settings.moveSpeed.min)+this.settings.moveSpeed.min:this.currentSpeed=this.settings.moveSpeed.min,this.settings.rotateSpeed.min!==this.settings.rotateSpeed.max?this.currentRotateSpeed=Math.random()*(this.settings.rotateSpeed.max-this.settings.rotateSpeed.min)+this.settings.rotateSpeed.min:this.currentRotateSpeed=this.settings.rotateSpeed.min}},{key:"setPosition",value:function(t,e){var n=this.emitter.localToLocal(e.x,e.y,t);this.display.x=this.position.x=n.x,this.display.y=this.position.y=n.y}},{key:"getAndSetPosition",value:function(){var t=this.emitter.getRandomPos();this.emitter.settings.particleContainer?this.setPosition(this.emitter.settings.particleContainer,t):(this.display.x=this.position.x=t.x,this.display.y=this.position.y=t.y)}},{key:"setVelocity",value:function(){this.settings.explode||this.settings.implode?(this.velocity=this.getImplodeVelocity(),this.settings.explode&&(this.velocity.x*=-1,this.velocity.y*=-1)):this.velocity={x:this.settings.randomStartVelocity.x?this.randomDir():0,y:this.settings.randomStartVelocity.y?this.randomDir():0},this.velocity.x+=this.settings.force.x,this.velocity.y+=this.settings.force.y}},{key:"play",value:function(){this.getAndSetPosition(),this.setVelocity(),this.isPlaying=!0,this.display.visible=!0,this.isReady=!1,this.playCallback()}},{key:"stop",value:function(){this.isPlaying=!1,this.display.visible=!1,this.isReady=!0,this.stopCallback()}}]),t}(),Uo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Xo=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};function Go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}const Yo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Go(this,e);var n=qo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r={particle:{},particleContainer:null,emitterType:{type:"point",size:{}},count:5,rate:.5,loop:!0,burst:!1,startOn:!0,prewarm:0};return n.particles=[],n.particleTracker=0,n.spawnTimer=0,n.mouseEnabled=!1,n.mouseChildren=!1,n.settings=Uo({},r,t),n.settings.emitterType=Uo({},r.emitterType,t.emitterType),n.createPool(n.settings.particle),n.prewarm(n.settings.prewarm),n.ready=void 0===t.startOn||t.startOn,n.ready&&n.play(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,createjs.Container),zo(e,[{key:"playCallback",value:function(){this.settings.playCallback&&this.settings.playCallback(this)}},{key:"stopCallback",value:function(){this.settings.stopCallback&&this.settings.stopCallback(this)}},{key:"setSizeDefaults",value:function(t){var e=void 0;switch(t){case"box":case"border":case"corner":e={width:1,height:1};break;case"circle":case"ring":e={radius:1}}return e}},{key:"prewarm",value:function(t){for(var e={delta:16},n=0;n<t;n++)this._tick(e)}},{key:"_tick",value:function(t){if(this.paused)Xo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_tick",this).call(this,t);else{var n=t.delta/1e3;if(this.particles.forEach((function(t){t.isPlaying&&t.update(n)})),this.ready){if(this.settings.burst){if(!this.checkReady())return void Xo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_tick",this).call(this,t);this.particles.forEach((function(t){t.play()})),this.settings.loop||this.stop()}else{if(this.spawnTimer-=n,this.spawnTimer<=0&&this.settings.rate>0)if(this.settings.loop)do{this.spawnParticle(),this.particleTracker>=this.settings.count&&(this.particleTracker=0),this.spawnTimer+=this.settings.rate}while(this.spawnTimer<=0);else do{this.spawnParticle(),this.spawnTimer+=this.settings.rate}while(this.spawnTimer<=0&&this.particleTracker<this.settings.count);!this.settings.loop&&this.particleTracker>=this.settings.count&&this.stop()}Xo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_tick",this).call(this,t)}else Xo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_tick",this).call(this,t)}}},{key:"spawnParticle",value:function(){var t=this.particles[this.particleTracker];t.isReady&&t.play(),this.particleTracker++}},{key:"getRandomPos",value:function(){var t=void 0;switch(this.settings.emitterType.type){case"box":t=this.getRandomBoxPosition();break;case"border":t=this.getRandomBorderPosition();break;case"corner":t=this.getRandomCornerPosition();break;case"circle":t=this.getRandomCirclePosition();break;case"ring":t=this.getRandomRingPosition();break;default:t={x:0,y:0}}return t}},{key:"getRandomBoxPosition",value:function(){var t=Math.random()*this.settings.emitterType.size.width,e=Math.random()*this.settings.emitterType.size.height;return{x:Math.random()>.5?t:-1*t,y:Math.random()>.5?e:-1*e}}},{key:"getRandomBorderPosition",value:function(){var t=void 0,e=void 0;return Math.random()>.5?(t=Math.random()>.5?this.settings.emitterType.size.width:-1*this.settings.emitterType.size.width,e=Math.random()*this.settings.emitterType.size.height*(Math.random()>.5?1:-1)):(t=Math.random()*this.settings.emitterType.size.width*(Math.random()>.5?1:-1),e=Math.random()>.5?this.settings.emitterType.size.height:-1*this.settings.emitterType.size.height),{x:t,y:e}}},{key:"getRandomCornerPosition",value:function(){return{x:Math.random()>.5?this.settings.emitterType.size.width:-1*this.settings.emitterType.size.width,y:Math.random()>.5?this.settings.emitterType.size.height:-1*this.settings.emitterType.size.height}}},{key:"getRandomCirclePosition",value:function(){var t=Math.random()*Math.PI*2;return{x:Math.cos(t)*(Math.random()*this.settings.emitterType.size.radius),y:Math.sin(t)*(Math.random()*this.settings.emitterType.size.radius)}}},{key:"getRandomRingPosition",value:function(){var t=Math.random()*Math.PI*2;return{x:Math.cos(t)*this.settings.emitterType.size.radius,y:Math.sin(t)*this.settings.emitterType.size.radius}}},{key:"createPool",value:function(t){var e={display:null,lifetime:{min:1,max:1},moveSpeed:{min:10,max:10},rotateSpeed:{min:0,max:0},scaleEase:createjs.Ease.linear,scaleOverTime:{start:1,end:1},opacityEase:createjs.Ease.linear,opacityOverTime:{start:1,end:1},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:0},explode:!1,implode:!1,gravity:9.8};this.settings.particle=Uo({},e,t);for(var n=0;n<this.settings.count;n++){var r=this.createDisplay(this.settings.particle.display),o=new No(r,this.settings.particle,this);o.stop(),o.set(),this.particles.push(o),this.settings.particleContainer?this.settings.particleContainer.addChild(o.display):this.addChild(o.display)}}},{key:"createDisplay",value:function(t){var e=void 0;return t?e=t instanceof Function?t():t instanceof Array?this.getRandomDisplay(t).clone():t.clone():((e=new createjs.Shape).graphics.beginFill("#ff0000"),e.graphics.drawRect(0,0,10,10),e.set({regX:5,regY:5})),e}},{key:"getRandomDisplay",value:function(t){return t[0|Math.random()*t.length]}},{key:"checkReady",value:function(){var t=0;return this.particles.forEach((function(e){e.isReady&&t++})),t>=this.settings.count}},{key:"stopAllParticles",value:function(){this.particles.forEach((function(t){t.stop(),t.set()}))}},{key:"play",value:function(){this.particleTracker=0,this.ready=!0,this.playCallback()}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"stop",value:function(){this.ready=!1,this.stopCallback()}},{key:"reset",value:function(){this.stopAll(),this.play()}},{key:"stopAll",value:function(){this.stop(),this.stopAllParticles()}},{key:"change",value:function(t){this.stopAll(),this.removeAllChildren(),this.particles=[],this.createPool(t),this.play()}},{key:"setEmitter",value:function(t){for(var e in t)this.settings[e]=t[e]}},{key:"setParticles",value:function(t){for(var e in t)this.settings.particle[e]=t[e]}}]),e}();function Ho(t){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qo(t,e){return(Qo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $o(t,e){return!e||"object"!==Ho(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jo(t){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qo(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Jo(e);if(n){var o=Jo(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return $o(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=Rr.get("game-ss");return(t=r.call(this,e,"sparkle")).snapToPixel=!1,t.center(),t}return o}(h);function Zo(t){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ei(t,e){return(ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ni(t,e){return!e||"object"!==Zo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ri(t){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ei(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ri(r);if(o){var n=ri(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ni(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var e=new u,n={particle:{display:function(){return new Ko},lifetime:{min:1,max:2},moveSpeed:{min:40,max:40},rotateSpeed:{min:-5,max:5},scaleEase:R.linear,scaleOverTime:{start:0,end:.5},opacityEase:R.linear,opacityOverTime:{start:1,end:0},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:0},explode:!1,implode:!1,gravity:0},emitterType:{type:"point",size:{}},count:20,rate:.1,loop:!0,burst:!1,startOn:!1,prewarm:0};return(t=i.call(this,n)).emitPoint=e,t}return e=a,(n=[{key:"getRandomPos",value:function(){return this.emitPoint.clone()}}])&&ti(e.prototype,n),a}(Yo);function ii(t){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ai(t,e){return(ai=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ci(t,e){return!e||"object"!==ii(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function si(t){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ai(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=si(e);if(n){var o=si(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ci(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=Rr.get("game-ss");return(t=r.call(this,e,"square")).snapToPixel=!1,t.center(),t}return o}(h);function li(t){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fi(t,e){return(fi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hi(t,e){return!e||"object"!==li(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pi(t){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fi(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=pi(e);if(n){var o=pi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return hi(this,t)});function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t={particle:{display:function(){return new ui},lifetime:{min:.3,max:.8},moveSpeed:{min:100,max:200},rotateSpeed:{min:-5,max:5},scaleEase:R.quadInOut,scaleOverTime:{start:1,end:.5},opacityEase:R.quadInOut,opacityOverTime:{start:1,end:0},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:0},explode:!0,implode:!1,gravity:0},emitterType:{type:"box",size:{width:60,height:60}},count:50,rate:.02,loop:!1,burst:!1,startOn:!1,prewarm:0};return r.call(this,t)}return o}(Yo);function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mi(t,e){return!e||"object"!==di(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gi(t){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=gi(e);if(n){var o=gi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return mi(this,t)});function o(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"center",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"alphabetic";vi(this,o);var s=e+"px "+t;return(n=r.call(this,"text",s,i)).textAlign=a,n.textBaseline=c,n}return o}(v);function Oi(t){return(Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Si(t,e){return(Si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ki(t,e){return!e||"object"!==Oi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xi(t){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ji=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Si(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=xi(e);if(n){var o=xi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ki(this,t)});function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"alphabetic";return _i(this,o),r.call(this,t,e,yr.currentIp.colors.text,n,i)}return o}(wi);function Pi(t){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ci(t,e){return(Ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ti(t,e){return!e||"object"!==Pi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ei(t){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ei(r);if(o){var n=Ei(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ti(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).regX=273,t.regY=58;var e=new ji(Vo,24);e.set({text:"LVL 0",x:60,y:67});var n=new wi(Vo,44,"#FFF");n.set({text:"0",x:63,y:86});var r=Rr.get("ui-ss"),o=new c;o.set({x:482,y:55,regX:64,regY:58,snapToPixel:!1}),o.addChild(new h(r,"level-tracker-top"),n);var s=new h(r,"level-tracker-body"),u=new h(r,"level-tracker-empty");u.set({x:109,y:39,scaleX:10});var l=new h(r,"level-tracker-fill");return l.set({x:109,y:39,scaleX:0}),t.burstEmitter=new yi,t.burstEmitter.set({x:482,y:55}),t.progressEmitter=new oi,t.addChild(u,l,s,t.progressEmitter,t.burstEmitter,o,e),t.fill=l,t.currentLevelText=e,t.nextLevelText=n,t.topContainer=o,t}return e=a,(n=[{key:"preupdate",value:function(){var t=or.getLevelProgress();this.currentLevelText.text="LVL "+(t.visualLevel+1),this.nextLevelText.text=(t.visualLevel+2).toString(),this.fill.scaleX=t.visualStage}},{key:"update",value:function(){var t=or.getLevelProgress();this.currentLevelText.text="LVL "+(t.level+1),this.nextLevelText.text=(t.level+2).toString(),this.fill.scaleX!==t.stage&&this._fillBar(t.stage),or.syncVisualProgress()}},{key:"levelup",value:function(){this._fillBar(10).call(this._scaleUpLevel,null,this),or.syncVisualProgress()}},{key:"_scaleUpLevel",value:function(){Q.play("level-up"),P.get(this.topContainer).to({scale:1.2},400,R.quadOut).to({scale:1},500,R.quadInOut),this.burstEmitter.play()}},{key:"_fillBar",value:function(t){Q.play("progress-meter-fill");var e=R.quadInOut,n=this.progressEmitter.emitPoint;return n.x=this.fill.x+33*this.fill.scaleX,n.y=this.fill.y+20,this.progressEmitter.play(),P.get(n).to({x:this.fill.x+33*t},1e3,e).call(this.progressEmitter.stop,null,this.progressEmitter),P.get(this.fill).to({scaleX:t},1e3,e)}}])&&Ri(e.prototype,n),a}(c);function Ii(t){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Li(t,e){return(Li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mi(t,e){return!e||"object"!==Ii(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Di(t){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Li(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Di(r);if(o){var n=Di(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Mi(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this)).includeLogo=!0,t.visible=!1,t.playBtn=new uo("large","play"),t.playBtn.set({y:37}),t.levelTracker=new Bi,t.levelTracker.set({y:500}),t.gradient=new a(Rr.get("bottom-gradient")),t.gradient.set({regX:50,regY:199,y:384,scaleX:16.64}),t.addChild(t.gradient,t.levelTracker,t.playBtn),t}return e=c,(n=[{key:"_loadScreen",value:function(t){var e=this;this.character0&&this.removeChild(this.character0),this.character1&&this.removeChild(this.character1),yr.currentIp.loadLevelStartAssets().then((function(){return e._show(t)}))}},{key:"show",value:function(t){this._loadScreen(t)}},{key:"_show",value:function(t){var e=yr.currentIp;this.character0=e.characterMenuCharacter0,this.character1=e.characterMenuCharacter1,this.addChildAt(this.character0,0),this.addChildAt(this.character1,0),this.character0.x=-400,this.character1.x=400,this.character0.y=384+this.character0.regY,this.character1.y=384+this.character1.regY,this.gradient.y=384+this.gradient.regY,this.playBtn.scale=0,this.levelTracker.preupdate(),this.visible=!0,kr.setLevelBackground(),P.get(this.character0).to({y:384},600,R.cubicOut),P.get(this.character1).to({y:384},600,R.cubicOut),P.get(this.gradient).to({y:384},600,R.cubicOut),P.get(this.levelTracker).to({y:230},600,R.cubicOut).call(this.levelTracker.update,null,this.levelTracker),P.get(this.playBtn).wait(400).to({scale:1},600,R.backOut).call(t)}},{key:"hide",value:function(t){this.playBtn.removeListeners(),P.get(this.character0).to({y:384+this.character0.regY},500,R.cubicIn),P.get(this.character1).to({y:384+this.character1.regY},500,R.cubicIn),P.get(this.gradient).to({y:384+this.gradient.regY},500,R.cubicIn),P.get(this.levelTracker).to({y:500},500,R.cubicIn),P.get(this.playBtn).to({scale:0},500,R.backIn).call(t)}},{key:"start",value:function(t){this.playBtn.addListeners(this.onPlayClick,this),this.playBtn.pulse=!0,t()}},{key:"onPlayClick",value:function(){var t=new Event(Er);this.dispatchEvent(t)}}])&&Ai(e.prototype,n),c}(To);const Vi=function(t){return t?Infinity===(t=se(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var Wi=parseFloat,Ni=Math.min,Ui=Math.random;const zi=function(t,e,n){if(n&&"boolean"!=typeof n&&function(t,e,n){if(!zt(n))return!1;var r=typeof e;return!!("number"==r?Gt(n)&&jt(e,n.length):"string"==r&&e in n)&&fe(n[e],t)}(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Vi(t),void 0===e?(e=t,t=0):e=Vi(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Ui();return Ni(t+o*(e-t+Wi("1e-"+((o+"").length-1))),e)}return tt(t,e)};function Xi(t){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qi(t,e,n){return(qi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yi(t,e){return(Yi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hi(t,e){return!e||"object"!==Xi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qi(t){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $i=[!1,!1],Ji=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yi(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qi(r);if(o){var n=Qi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Hi(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this);for(var e=Rr.get("loader-ss"),n="loading",r=0;r<n.length;r++){var o=n.charAt(r),c=new h(e,"tile-"+o);c.set({x:84*r,ox:84*r,regX:50,regY:50}),t.addChild(c)}return t.loop=!1,t.center(),t.reset(),t}return e=a,(n=[{key:"reset",value:function(){this.children.forEach((function(t){P.removeTweens(t),t.x=t.ox,t.y=0})),this.sortChildren((function(t,e){return t.x-e.x})),this.loop=!1,this.visible=!1}},{key:"show",value:function(t){this.reset(),this.visible=!0,this.loop=!0,this.y=500;var e=P.get(this,{override:!0}).to({y:0},500,R.getBackOut(.8)).call(this.mixTiles,null,this);t&&e.call(t)}},{key:"hide",value:function(t){this.loop=!1;var e=P.get(this,{override:!0}).to({y:500},500,R.getBackIn(.8));t&&e.call(t)}},{key:"switchTiles",value:function(t,e,n){this.tileA=this.getChildAt(t),this.tileB=this.getChildAt(e),this.tileA.progress=this.tileB.progress=0,this.tileA.yMod=this.tileA.x<this.tileB.x?-1:1,this.tileB.yMod=this.tileB.x<this.tileA.x?-1:1,this.tileA.sx=this.tileA.x,this.tileA.ex=84*e,this.tileB.sx=this.tileB.x,this.tileB.ex=84*t,P.get(this.tileA).to({progress:1,x:this.tileA.ex},800,R.cubicInOut),P.get(this.tileB).to({progress:1,x:this.tileB.ex},800,R.cubicInOut),P.get({}).wait(1e3).call(n)}},{key:"mixTiles",value:function(){var t=this;this.sortChildren((function(t,e){return t.x-e.x}));for(var e=zi(1,5),n=zi(1,5);e===n;)n=zi(1,5);$i[0]=e,$i[1]=n,this.switchTiles(e,n,(function(){return t.checkForContinue(1)}))}},{key:"fixTiles",value:function(){var t=this;this.sortChildren((function(t,e){return t.x-e.x})),this.switchTiles($i[0],$i[1],(function(){return t.checkForContinue(2)}))}},{key:"checkForContinue",value:function(t){this.loop&&(2===t?this.mixTiles():this.fixTiles())}},{key:"_tick",value:function(t){qi(Qi(a.prototype),"_tick",this).call(this,t),this.tileA&&(this.tileA.y=100*Math.sin(this.tileA.progress*Math.PI)*this.tileA.yMod),this.tileB&&(this.tileB.y=100*Math.sin(this.tileB.progress*Math.PI)*this.tileB.yMod)}}])&&Gi(e.prototype,n),a}(c);function Ki(t){return(Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ta(t,e){return(ta=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ea(t,e){return!e||"object"!==Ki(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function na(t){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ta(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=na(r);if(o){var n=na(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ea(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).includeLogo=!0,t.regY=-100,t.animation=new Ji,t.addChild(t.animation),t}return e=a,(n=[{key:"show",value:function(t){this.animation.show(t)}},{key:"hide",value:function(t){this.animation.hide(t)}},{key:"start",value:function(t){this.dispatchEvent(Br),t()}}])&&Zi(e.prototype,n),a}(To);function oa(t){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aa(t,e,n){return(aa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ua(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ca(t,e){return(ca=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sa(t,e){return!e||"object"!==oa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ua(t){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var la=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ca(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ua(r);if(o){var n=ua(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return sa(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t.menuImage)).mainScale=0,e.menuScale=.7,e.ipData=t,e.cursor="pointer",e.snapToPixel=!1,e.center(),e}return e=a,(n=[{key:"reset",value:function(){this.mainScale=0,this.alpha=0}},{key:"select",value:function(){P.get(this).to({mainScale:1.5,alpha:0},400,R.quadOut)}},{key:"show",value:function(){P.get(this).to({mainScale:1,alpha:1},500,R.backOut)}},{key:"hide",value:function(){P.get(this).to({mainScale:0,alpha:0},200,R.quadInOut)}},{key:"_tick",value:function(t){aa(ua(a.prototype),"_tick",this).call(this,t),this.scale=this.mainScale*this.menuScale}}])&&ia(e.prototype,n),a}(a);function fa(t){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pa(t,e,n){return(pa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=va(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ya(t,e){return(ya=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function da(t,e){return!e||"object"!==fa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function va(t){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ba,ma,ga,wa,Oa,_a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ya(t,e)}(u,t);var e,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=va(o);if(i){var n=va(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return da(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this)).regY=-30,t.scrollX=0,t.scrollSpeed=0,t._spacing=0,t._lastMouseX=0,t._touchStart={x:-1,y:-1},t._scrollTo=-1,t._lastScrollTo=0,t._scrollM=.3,t.arrowClicked=!1,t.touchArea=new s,t.touchArea.hitArea=new f,t.touchArea.hitArea.graphics.f("#000").r(-832,-384,1664,768),t.addChild(t.touchArea),t.numIPS=yr.ipCount,t._createItems(),t.reset(),t}return e=u,(n=[{key:"show",value:function(t){ko.play("vo-1"),this.scrollX=-(this.scrollX+this._spacing*(this.numIPS-1)),this._scrollTo=0,this._updateItems(0),this.items.forEach((function(t){return t.show()})),this.alpha=0,P.get(this).set({tickEnabled:!0,visible:!0}).to({alpha:1},500,R.quadInOut).call(t)}},{key:"hide",value:function(t){this.setActive(!1),P.get(this).wait(500).set({tickEnabled:!1,visible:!1}).call(t)}},{key:"start",value:function(t){this.setActive(!0),t()}},{key:"reset",value:function(){this.items.forEach((function(t){return t.reset()}))}},{key:"select",value:function(){P.get(this).to({scale:1.2,alpha:1},200,R.quadOut)}},{key:"_createItems",value:function(){this.shows=new c,this.items=[];for(var t=yr.ipDatasArray,e=0;e<t.length;e++){var n=t[e],r=new la(n);this.items.push(r),this.shows.addChild(r)}this.addChild(this.shows)}},{key:"limitScrollTo",value:function(){this._scrollTo=Math.min(this.items.length-1,Math.max(0,this._scrollTo))}},{key:"setActive",value:function(t){this.active=t,this.removeAllEventListeners("click"),this.removeAllEventListeners("mousedown"),this.removeAllEventListeners("pressup"),t&&(this.on("click",this._onInteraction,this),this.on("mousedown",this._onInteraction,this),this.on("pressup",this._onInteraction,this))}},{key:"_onInteraction",value:function(t){var e=t.stageX,n=t.stageY;if("click"===t.type){var r=t.target;r instanceof la&&Math.abs(r.x)<5&&this._startPosition===this.scrollX&&(Q.play("click"),this.selectItem(r))}else if("mousedown"===t.type)this._startPosition=this.scrollX,this._scrollTo=-1,this._lastMouseX=e,this._touchStart.x=e,this._touchStart.y=n;else{var o=e-this._touchStart.x,i=n-this._touchStart.y;Math.sqrt(o*o+i*i)<4&&(e<256?(this._scrollTo=Math.round(Math.abs(this.scrollX)/this._spacing)-1,this.limitScrollTo()):e>this.stage.canvas.width-256&&(this._scrollTo=Math.round(Math.abs(this.scrollX)/this._spacing)+1,this.limitScrollTo()))}this.mouseDown="mousedown"===t.type}},{key:"_tick",value:function(t){if(pa(va(u.prototype),"_tick",this).call(this,t),this.active){var e=t.delta/1e3;e&&this._updateItems(e)}}},{key:"_updateItems",value:function(t){if(this._spacing=this.stage.canvas.width/2,this.mouseDown)this.scrollSpeed=this.stage.mouseX-this._lastMouseX,this._lastMouseX=this.stage.mouseX;else if(-1===this._scrollTo)this.scrollX>0?this._scrollTo=0:this.scrollSpeed<-10?this._scrollTo=Math.ceil(Math.abs(this.scrollX-0)/this._spacing):this.scrollSpeed>10?this._scrollTo=Math.floor(Math.abs(this.scrollX-0)/this._spacing):this._scrollTo=Math.round(Math.abs(this.scrollX-0)/this._spacing),this.limitScrollTo();else{this._lastScrollTo=this._scrollTo;var e=this.scrollX+this._spacing*this._scrollTo-0;this.scrollSpeed=-e*t*4,Math.abs(this.scrollSpeed)<1e-4&&(this.scrollX-=e,this.scrollSpeed=0)}if(this._scrollTo>=0){var n=this.items[this._scrollTo].ipData;n!==yr.currentIp&&(yr.currentIp=n)}this.scrollX+=this.scrollSpeed,this.scrollSpeed*=.9;for(var r=0;r<this.items.length;r++){var o=this.items[r],i=this.scrollX+this._spacing*r,a=.7;i>=0&&i<=0+this._spacing?a=.3*(1-(i-0)/this._spacing)+.7:i<0&&i>0-this._spacing&&(a=.3*(1-(0-i)/this._spacing)+.7),o.x=i,o.menuScale=Math.min(1,Math.max(.7,a))}}},{key:"selectItem",value:function(t){this.setActive(!1),this.items.forEach((function(e){e===t?e.select():e.hide()}));var e=new r(Cr);e.ipData=t.ipData,this.dispatchEvent(e)}}])&&ha(e.prototype,n),u}(To),Sa="powerupRevealLetters",ka="powerupRevealWord",xa="powerupMultiplier",ja="powerupTimeout";function Pa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ra=(Pa(ba={},Xn,{width:3,height:3}),Pa(ba,Gn,{width:4,height:4}),Pa(ba,qn,{width:5,height:5}),ba),Ca=(Pa(Oa={},Sa,{buttonIcon:"icon-reveal",name:"REVEAL",description:"Reveal the first and last letter of one word.",vo1:"vo-11a",vo2:"vo-11",cost:(ma={},Pa(ma,Xn,100),Pa(ma,Gn,100),Pa(ma,qn,100),ma)}),Pa(Oa,xa,{buttonIcon:"icon-combo",name:"COMBO",description:"10x multiplier for 10 seconds.",vo1:"vo-12a",vo2:"vo-12",cost:(ga={},Pa(ga,Xn,400),Pa(ga,Gn,400),Pa(ga,qn,400),ga),timeInSeconds:10}),Pa(Oa,ka,{buttonIcon:"icon-stroke",name:"STROKE OF GENIUS",description:"Reveal an outline of one word.",vo1:"vo-13a",vo2:"vo-13",cost:(wa={},Pa(wa,Xn,600),Pa(wa,Gn,600),Pa(wa,qn,600),wa),autoRemoveTime:3}),Oa),Ta=[{string:"Great Work!",vo:"vo-7"},{string:"Great Job!",vo:"vo-8"},{string:"Excellent!",vo:"vo-9"},{string:"Way to go!",vo:"vo-10"},{string:"You did it!",vo:"vo-10a"},{string:"Success!",vo:"vo-10b"},{string:"Fantastic work!",vo:"vo-10c"}],Ea={easy:[{minMaxLength:3,maxLength:3,minIPWords:1,maxIPWords:2},{minMaxLength:3,maxLength:3,minIPWords:1,maxIPWords:2},{minMaxLength:4,maxLength:5,minIPWords:1,maxIPWords:2},{minMaxLength:4,maxLength:5,minIPWords:1,maxIPWords:2},{minMaxLength:4,maxLength:6,minIPWords:1,maxIPWords:2}],medium:[{minMaxLength:3,maxLength:4,minIPWords:1,maxIPWords:3},{minMaxLength:4,maxLength:6,minIPWords:1,maxIPWords:3},{minMaxLength:5,maxLength:7,minIPWords:1,maxIPWords:3},{minMaxLength:6,maxLength:8,minIPWords:1,maxIPWords:3},{minMaxLength:7,maxLength:8,minIPWords:1,maxIPWords:3}],hard:[{minMaxLength:4,maxLength:5,minIPWords:2,maxIPWords:4},{minMaxLength:5,maxLength:7,minIPWords:2,maxIPWords:4},{minMaxLength:6,maxLength:8,minIPWords:2,maxIPWords:4},{minMaxLength:7,maxLength:9,minIPWords:2,maxIPWords:4},{minMaxLength:8,maxLength:10,minIPWords:2,maxIPWords:4}]},Ba="starterGemsView",Ia="boardCompleteView",Aa="powerupConfirmView",La="proTipView",Ma="giveStarterGems",Da="actionConfirm",Fa="actionLevelUp";function Va(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(2222),n(5069);const Wa=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"generate",value:function(t,e){for(var n=this.createSimplePath(t,e),r=t,o=e,i=0;i<r*r*o*o*.1;i++)(i+1)%Math.max(r,o)==0&&this.reverse(n),this.step(n);return this.convertToSequence(n),n.data}},{key:"createSimplePath",value:function(t,e){var n={},r=[],o=0,i=0;for(o=0;o<e;o++)for(r.push([]),i=0;i<t;i++)o%2==0?i===t-1?r[o].push([i,o+1]):r[o].push([i+1,o]):0===i?r[o].push([i,o+1]):r[o].push([i-1,o]);return n.start=[0,0],n.end=o%2==0?[0,e-1]:[t-1,e-1],r[n.end[1]][n.end[0]]=[-1,-1],n.data=r,n}},{key:"modifyPath",value:function(t){for(var e=this.width*this.width*this.height*this.height*.1,n=0;n<e;n++)(n+1)%Math.max(this.width,this.height)==0&&this.reverse(t),this.step(t);return t}},{key:"step",value:function(t){for(var e,n=t.start,r=t.data,o=r[0].length,i=r.length,a=[[0,-1],[1,0],[0,1],[-1,0]],c=!1;!c;)c=!0,e=a[Math.floor(4*Math.random())],(n[0]+e[0]<0||n[0]+e[0]>o-1||n[1]+e[1]<0||n[1]+e[1]>i-1||r[n[1]][n[0]][0]===n[0]+e[0]&&r[n[1]][n[0]][1]===n[1])&&(c=!1);var s=[r[n[1]][n[0]][0],r[n[1]][n[0]][1]];r[n[1]][n[0]][0]=n[0]+e[0],r[n[1]][n[0]][1]=n[1]+e[1];for(var u=[n[0],n[1]],l=[n[0],n[1]],f=[s[0],s[1]];f[0]!==n[0]+e[0]||f[1]!==n[1]+e[1];)u[0]=l[0],u[1]=l[1],l[0]=f[0],l[1]=f[1],f[0]=r[l[1]][l[0]][0],f[1]=r[l[1]][l[0]][1],r[l[1]][l[0]][0]=u[0],r[l[1]][l[0]][1]=u[1];n[0]=l[0],n[1]=l[1]}},{key:"reverse",value:function(t){var e=t.start,n=t.data,r=[e[0],e[1]],o=[e[0],e[1]],i=[n[e[1]][e[0]][0],n[e[1]][e[0]][1]];n[e[1]][e[0]][0]=-1,n[e[1]][e[0]][1]=-1;do{r[0]=o[0],r[1]=o[1],o[0]=i[0],o[1]=i[1],i[0]=n[o[1]][o[0]][0],i[1]=n[o[1]][o[0]][1],n[o[1]][o[0]][0]=r[0],n[o[1]][o[0]][1]=r[1]}while(-1!==i[0]||-1!==i[1]);t.end[0]=t.start[0],t.end[1]=t.start[1],t.start[0]=o[0],t.start[1]=o[1]}},{key:"convertToSequence",value:function(t){var e=t.data,n=[],r=[t.start[0],t.start[1]],o=[t.start[0],t.start[1]];do{r[0]=o[0],r[1]=o[1],n.push([r[0],r[1]]),o[0]=e[r[1]][r[0]][0],o[1]=e[r[1]][r[0]][1]}while(-1!==o[0]||-1!==o[1]);t.data=n}}])&&Va(e.prototype,n),t}());var Na={scaleX:-1},Ua={scaleY:-1},za={scaleX:-1,scaleY:-1},Xa={rotation:-90},Ga={rotation:90},qa={type:"black"},Ya={type:"corner"},Ha={type:"corner",scaleX:-1},Qa={type:"inset"},$a={type:"inset",scaleX:-1},Ja={type:"full"},Ka={type:"base"},Za={type:"corner"},tc={type:"corner",scaleX:-1},ec={type:"inset"},nc={type:"inset",scaleX:-1},rc={type:"full"},oc={0:{base:"base",transform:!1,highlight:Ka,shadow:qa},1:{base:"base",transform:!1,highlight:Ka,shadow:qa},2:{base:"end",transform:Ua,highlight:!1,shadow:qa},8:{base:"end",transform:Xa,highlight:Za,shadow:Ya},32:{base:"end",transform:!1,highlight:Ka,shadow:!1},128:{base:"end",transform:Ga,highlight:tc,shadow:Ha},34:{base:"straight",transform:!1,highlight:!1,shadow:!1},136:{base:"straight",transform:Xa,highlight:rc,shadow:Ja},40:{base:"openCorner",transform:!1,highlight:Za,shadow:Qa},10:{base:"openCornerFlip",transform:!1,highlight:ec,shadow:Ya},160:{base:"openCorner",transform:Na,highlight:tc,shadow:$a},130:{base:"openCornerFlip",transform:Na,highlight:nc,shadow:Ha},56:{base:"fullCorner",transform:!1,highlight:Za,shadow:!1},14:{base:"fullCorner",transform:Ua,highlight:!1,shadow:Ya},224:{base:"fullCorner",transform:Na,highlight:tc,shadow:!1},131:{base:"fullCorner",transform:za,highlight:!1,shadow:Ha},46:{base:"openThreeWay",transform:{rotation:-90,scaleX:-1},highlight:!1,shadow:Qa},58:{base:"openThreeWay",transform:Xa,highlight:ec,shadow:!1},184:{base:"openThreeWay",transform:Na,highlight:rc,shadow:$a},142:{base:"openThreeWay",transform:za,highlight:!1,shadow:Ja},226:{base:"openThreeWay",transform:{rotation:90,scaleX:-1},highlight:nc,shadow:!1},232:{base:"openThreeWay",transform:!1,highlight:rc,shadow:Qa},139:{base:"openThreeWay",transform:{rotation:180,scaleX:-1},highlight:!1,shadow:Ja},163:{base:"openThreeWay",transform:Ga,highlight:!1,shadow:$a},248:{base:"fullThreeWay",transform:!1,highlight:rc,shadow:!1},143:{base:"fullThreeWay",transform:Ua,highlight:!1,shadow:Ja},62:{base:"fullThreeWay",transform:Xa,highlight:!1,shadow:!1},227:{base:"fullThreeWay",transform:Ga,highlight:!1,shadow:!1},255:{base:"fullFourWay",transform:!1,highlight:!1,shadow:!1},239:{base:"openFourWay",transform:!1,highlight:!1,shadow:Qa},191:{base:"openFourWay",transform:Ga,highlight:!1,shadow:$a},251:{base:"openFourWay",transform:Xa,highlight:!1,shadow:!1},254:{base:"openFourWay",transform:{rotation:180},highlight:nc,shadow:!1},175:{base:"doubleOpenFourWay",transform:!1,highlight:!1,shadow:{type:"doubleinset"}},190:{base:"doubleOpenFourWay",transform:Ga,highlight:!1,shadow:$a},187:{base:"doubleOffsetFourWay",transform:Na,highlight:!1,shadow:$a},238:{base:"doubleOffsetFourWay",transform:!1,highlight:!1,shadow:Qa}};function ic(t){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ac(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cc(t,e){return(cc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sc(t,e){return!e||"object"!==ic(e)&&"function"!=typeof e?uc(t):e}function uc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lc(t){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fc={rotation:0,scaleX:1,scaleY:1},hc=200,pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cc(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lc(r);if(o){var n=lc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return sc(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this)).hitArea=new f,n.hitArea.graphics.f("#000").r(-100,-100,hc,hc),n.ss=t,n.tx=0,n.ty=0,n.snapToPixel=!1,n.mouseChildren=!1,n.data=e,n.data.tile=uc(n),n.prevTile=!1,n.nextTile=!1,n._locked=!1,n.createElements(),n._state=0,n._updateState(),n}return e=a,(n=[{key:"selected",get:function(){return this._selected},set:function(t){this._selected!==t&&(this._selected=t),this._updateState()}},{key:"locked",get:function(){return this._locked},set:function(t){this._locked=t}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,this.stateText.text=this._state,this._updateState()}},{key:"isNeighborsWith",value:function(t){return this.data.isNeighborPoint(t.data)}},{key:"setColor",value:function(t){this.colorPrefix="color-"+t+"-"}},{key:"createElements",value:function(){this.background=this.createBackground(),this.letter=this.createLetter(),this.stateText=new v("state","12px Arial","red"),this.stateText.x=-80,this.stateText.y=-80,this.addChild(this.background,this.letter),zn("debug",!1)&&this.addChild(this.stateText)}},{key:"createBackground",value:function(){this.baseSprite=new h(this.ss,"tile-base"),this.shadowSprite=new h(this.ss,"black-shadow"),this.highlightSprite=new h(this.ss,"base-highlight"),this.highlightSprite.set({regX:101,regY:101});var t=new c;return t.addChild(this.baseSprite,this.shadowSprite,this.highlightSprite),t}},{key:"createLetter",value:function(){var t=new ji(Fo,100,"center","middle");return t.set({text:this.data.letter,x:this.regX,y:this.regY}),t}},{key:"_updateState",value:function(){var t=oc[this._state],e=this.selected||this.locked;if(t){this.baseSprite.set(fc),this.shadowSprite.set(fc),this.highlightSprite.set(fc);var n=t.shadow;this.shadowSprite.visible=!!n;var r=t.highlight;this.highlightSprite.visible=!!r,this.letter.color=e?"#FFF":"#7d2b86",e?(t.transform&&this.baseSprite.set(t.transform),this.baseSprite.gotoAndStop(this.colorPrefix+t.base),n&&(this.shadowSprite.gotoAndStop(n.type+"-shadow"),this.shadowSprite.set(n)),r&&(this.highlightSprite.gotoAndStop(r.type+"-highlight"),this.highlightSprite.set(r))):(this.baseSprite.gotoAndStop("default-"+t.base),this.shadowSprite.gotoAndStop("default-shadow"))}else console.log("Need State Data for:",this._state)}}])&&ac(e.prototype,n),a}(c);function yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(9600);var dc=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.string=n.toUpperCase(),this._tiles=[],this._palindrome=this._checkForPalindrome(this.string)}var e,n;return e=t,(n=[{key:"isPalindrome",get:function(){return this._palindrome}},{key:"wordLength",get:function(){return this.string.length}},{key:"completed",get:function(){return!this._tiles.find((function(t){return!t.tile.locked}))}},{key:"startTile",get:function(){return this._tiles[0].tile}},{key:"endTile",get:function(){return this._tiles[this._tiles.length-1].tile}},{key:"tileDatas",get:function(){return this._tiles}},{key:"addTileData",value:function(t){t.wordData=this,t.letterIndex=this._tiles.length,this._tiles.push(t)}},{key:"_checkForPalindrome",value:function(t){var e=t.split("").reverse().join("");return t===e}}])&&yc(e.prototype,n),t}();function vc(t){return(vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mc(t,e){return(mc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gc(t,e){return!e||"object"!==vc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wc(t){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mc(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wc(r);if(o){var n=wc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gc(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e)).tile=null,n._locked=!1,n._letterIndex=-1,n._wordData=null,n}return e=a,(n=[{key:"wordData",get:function(){return this._wordData},set:function(t){this._wordData=t}},{key:"wordId",get:function(){return this._wordData?this._wordData.id:0}},{key:"word",get:function(){return this._wordData.string}},{key:"used",get:function(){return 0!==this.wordId}},{key:"letterIndex",get:function(){return this._letterIndex},set:function(t){this._letterIndex=t}},{key:"letter",get:function(){return this._wordData?this._wordData.string.charAt(this._letterIndex):"_"}},{key:"isStarterLetter",get:function(){return 0===this._letterIndex||this._wordData.isPalindrome&&this._letterIndex===this._wordData.string.length-1}},{key:"isNeighborPoint",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)===1}}])&&bc(e.prototype,n),a}(u);function _c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const Sc=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fullData={},this.genericList=[]}var e,n;return e=t,(n=[{key:"setFullWordData",value:function(t){this.fullData=t}},{key:"setGenericWordList",value:function(t){this.genericList=t,[t.easy,t.medium,t.hard].forEach((function(t){Object.keys(t).forEach((function(e){t[e]=te(t[e])}))}))}},{key:"check",value:function(t){if(t.length<3)return!1;var e=(t=t.toUpperCase()).substring(0,2),n=this.fullData[e];return!!n&&n.indexOf(t)>=0}}])&&_c(e.prototype,n),t}());function kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var jc=!1,Pc=function(){function t(e,n,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a,c=Ra[r],s=Ea[r],u=s[e%s.length];this.level=e,this.stage=n,this.difficulty=r,this.width=c.width,this.height=c.height,this.finalStage=9===this.stage,this._words=this._generateWords(c,u,n/10,o),this._tileMap=this._generateTileMap(c),this._generateWordMap(c,this._tileMap,this._words),this._tiles=(i=[]).concat.apply(i,function(t){if(Array.isArray(t))return kc(t)}(a=this._tileMap)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(a)||function(t,e){if(t){if("string"==typeof t)return kc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(t,e):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),jc=this}var e,n,r;return e=t,r=[{key:"current",get:function(){return jc}}],(n=[{key:"words",get:function(){return this._words}},{key:"tiles",get:function(){return this._tiles}},{key:"tileMap",get:function(){return this._tileMap}},{key:"getUnsolvedWord",value:function(){return te(this._words).find((function(t){return!1===t.completed}))}},{key:"shuffleTiles",value:function(){for(var t=this._tileMap,e=[],n=t.length,r=t[0].length,o=0;o<n;o++){e[o]=[];for(var i=0;i<r;i++)e[o][i]=t[r-i-1][o]}for(var a=0;a<n;a++)for(var c=0;c<r;c++){var s=t[a][c]=e[a][c];s.x=c,s.y=a}}},{key:"_generateTileMap",value:function(t){for(var e=t.width,n=t.height,r=[],o=0;o<n;o++){r[o]=[];for(var i=0;i<e;i++)r[o][i]=new Oc(i,o)}return r}},{key:"_generateWordMap",value:function(t,e,n){var r=Wa.generate(t.width,t.height),o=0;n.forEach((function(t){for(var n=t.wordLength,i=0;i<n;i++){var a=r[o++];t.addTileData(e[a[1]][a[0]])}}))}},{key:"_generateWords",value:function(t,e,n,r){var o=e.maxLength,i=e.minMaxLength,a=r.wordList,c=t.width*t.height,s=[],u=i+Math.round((o-i)*n);c-=u,s.push(u);for(var l=100;c>0&&l>0;)if(l--,c<6)s.push(c),c=0;else{for(var f=Math.floor(Math.random()*Math.min(u,c)),h=Math.max(f,3),p=100;c-h<3&&c-h>0&&p>0;)p--,h--;c-=h,s.push(h)}for(var y=te(s),d=Sc.genericList,v=d[this.difficulty],b=[],m=zi(e.minIPWords,e.maxIPWords),g=0,w=0;w<y.length;w++){g=0;var O=y[w],_=w<m&&a[O];_||(_=v[O]||d.easy[O]||d.medium[O]||d.hard[O]);for(var S=void 0,k=!1;!k&&g<8;)g++,S=_.shift(),_.push(S),S=S.toUpperCase(),-1===b.indexOf(S)&&(k=!0);b.push(S)}return b.map((function(t,e){return new dc(e+1,t)}))}}])&&xc(e.prototype,n),r&&xc(e,r),t}();function Rc(t){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cc(t,e){return(Cc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t,e){return!e||"object"!==Rc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ec(t){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cc(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Ec(e);if(n){var o=Ec(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Tc(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=Rr.get("game-ss");return(t=r.call(this,e,"beam")).snapToPixel=!1,t.center(),t}return o}(h);function Ic(t){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ac(t,e){return(Ac=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lc(t,e){return!e||"object"!==Ic(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mc(t){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ac(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Mc(e);if(n){var o=Mc(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Lc(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=Rr.get("game-ss");return(t=r.call(this,e,"square")).snapToPixel=!1,t.center(),t}return o}(h);function Fc(t){return(Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vc(t,e){return(Vc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wc(t,e){return!e||"object"!==Fc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nc(t){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uc=[Ko,Dc,Bc],zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vc(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Nc(e);if(n){var o=Nc(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Wc(this,t)});function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t={particle:{display:function(){return new(Qt(Uc))},lifetime:{min:.5,max:1},moveSpeed:{min:400,max:500},rotateSpeed:{min:-5,max:5},scaleEase:R.linear,scaleOverTime:{start:.3,end:.6},opacityEase:R.linear,opacityOverTime:{start:1,end:0},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:0},explode:!0,implode:!1,gravity:0},emitterType:{type:"box",size:{width:200,height:200}},count:60,rate:.005,loop:!1,burst:!1,startOn:!1,prewarm:0};return r.call(this,t)}return o}(Yo);function Xc(t){return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qc(t,e,n){return(qc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yc(t,e){return(Yc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hc(t,e){return!e||"object"!==Xc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qc(t){return(Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yc(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qc(r);if(o){var n=Qc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Hc(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this)).levelNumber=t,n.onComplete=e,n.ready=!1,n._loadImages(),n}return e=s,(n=[{key:"playAnimation",value:function(){this.spin=!0,P.get(this.iconContainer).to({spin:Math.PI/2*13},2e3,R.quadIn).set({spin:!1},this).call(this.burstEmitter.play,null,this.burstEmitter).call(this.doSwitch,null,this).to({scale:1.1},200,R.quadOut).to({scale:1},400,R.quadInOut),P.get(this.iconContainer).to({y:0},1e3,R.cubicOut),P.get(this.burst).wait(2e3).to({alpha:1},200,R.quadInOut),P.get(this).wait(4e3).call(this.hideSelf,null,this)}},{key:"hideSelf",value:function(){P.get(this.iconContainer).to({y:768},800,R.backIn).call(this.onComplete),P.get(this.burst).to({alpha:0},200,R.quadInOut),P.get(this.burst).to({y:768},800,R.backIn)}},{key:"doSwitch",value:function(){Q.play("unlock-gif"),kr.setLevelBackground(),this.iconContainer.getChildAt(2).text=parseInt(this.iconContainer.getChildAt(2).text)+1}},{key:"_loadImages",value:function(){var t=new w;t.on("complete",this._onLoadComplete,this),t.on("error",this._onLoadError,this),t.loadFile({id:"burst",src:"assets/images/level-up-burst.png"},!1),t.loadFile({id:"icon",src:"assets/images/level-up.png"},!1),t.load()}},{key:"_onLoadComplete",value:function(t){var e=t.target;this.burst=new a(e.getResult("burst")),this.burst.set({regX:387,regY:383,alpha:0}),this.iconContainer=new c,this.iconContainer.y=768,this.iconContainer.spin=Math.PI/2,this.iconContainer.addChild(new a(e.getResult("icon")).set({regX:194,regY:175}),new wi(Vo,76,"#FFF").set({text:"LVL",x:0,y:-36}),new wi(Vo,134,"#FFF").set({text:this.levelNumber.toString(),x:0,y:90})),this.burstEmitter=new zc,this.addChild(this.burst,this.burstEmitter,this.iconContainer),this.playAnimation()}},{key:"_onLoadError",value:function(t){}},{key:"_tick",value:function(t){qc(Qc(s.prototype),"_tick",this).call(this,t);var e=this.iconContainer;e&&this.spin&&(e.scaleX=Math.sin(e.spin))}}])&&Gc(e.prototype,n),s}(c);function Jc(t){return(Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zc(t,e,n){return(Zc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ns(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ts(t,e){return(ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function es(t,e){return!e||"object"!==Jc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ns(t){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ts(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ns(r);if(o){var n=ns(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return es(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).autoRemoveListeners=!1,e._highlight=!1;var n=Rr.get("ui-ss"),r=new h(n,"plate-powerup");r.set({regX:61,regY:59});var o=new h(yr.currentIp.packSS,"plate-powerup");o.set({regX:45,regY:45});var c=new h(n,t);c.set({regX:61,regY:59});var s=new h(n,"burst");return s.center(),s.set({mouseEnabled:!1,alpha:0,snapToPixel:!1}),e.addChild(s,r,o,c),e.flare=s,e.icon=c,e}return e=a,(n=[{key:"highlight",get:function(){return this._highlight},set:function(t){this._highlight=t,P.get(this.flare,{override:!0}).to({alpha:this._highlight?1:0},600,R.quadInOut)}},{key:"_tick",value:function(t){Zc(ns(a.prototype),"_tick",this).call(this,t);var e=this.flare;e.alpha>0&&(e.rotation=(e.rotation+t.delta/50)%360)}}])&&Kc(e.prototype,n),a}(eo);function os(t){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function is(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function as(t,e){return(as=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cs(t,e){return!e||"object"!==os(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ss(t){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var us=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&as(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ss(r);if(o){var n=ss(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return cs(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,Rr.get("tutorial-hand"))).regX=74,t.regY=20,t.visible=!1,t.snapToPixel=!1,t}return e=a,(n=[{key:"showTileDrag",value:function(t){var e=t.children[0],n=t.children[2];this.visible=!0,this.alpha=0,e.localToLocal(0,0,this.parent,this),P.get(this).to({alpha:1},400,R.quadInOut).to({scale:.9},400,R.quadInOut).to(n.localToLocal(0,0,this.parent),600,R.cubicInOut).to({scale:1},400,R.quadInOut).to({alpha:0},400,R.quadInOut).set({visible:!1})}}])&&is(e.prototype,n),a}(a);function ls(t){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hs(t,e){return(hs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ps(t,e){return!e||"object"!==ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(561),n(7327);var ds={images:[],framerate:10,frames:[[0,0,512,512,0,0,0],[512,0,512,512,0,0,0],[1024,0,512,512,0,0,0],[1536,0,512,512,0,0,0],[0,512,512,512,0,0,0],[512,512,512,512,0,0,0],[1024,512,512,512,0,0,0],[1536,512,512,512,0,0,0],[0,1024,512,512,0,0,0],[512,1024,512,512,0,0,0],[1024,1024,512,512,0,0,0],[1536,1024,512,512,0,0,0],[0,1536,512,512,0,0,0],[512,1536,512,512,0,0,0],[1024,1536,512,512,0,0,0],[1536,1536,512,512,0,0,0]],animations:{anim:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]}}},vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hs(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ys(r);if(o){var n=ys(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ps(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).ready=!1;var n=t.imageUrl;return e._loadImage(n),e._addText(t.phrase),e}return e=a,(n=[{key:"_loadImage",value:function(t){var e=new g(t);e.on("complete",this._onLoadComplete,this),e.on("error",this._onLoadError,this),e.load()}},{key:"_onLoadComplete",value:function(t){ds.images=[t.result];var e=new h(new p(ds),"anim");e.scale=616/512,this.addChildAt(e,0),this.ready=!0}},{key:"_onLoadError",value:function(t){}},{key:"_addText",value:function(t){var e="Anton",n=88,r=new v(t.toUpperCase(),n+"px "+e,"#FFF");r.set({x:308,textAlign:"center",textBaseline:"alphabetic",lineWidth:550,lineHeight:100});for(var o=r.getMetrics();o.lines.length>2;)n-=2,r.font=n+"px "+e,r.lineHeight=n,o=r.getMetrics();r.y=580-o.height+r.lineHeight;var i=r.clone();i.color="#000",i.outline=Math.round(.3*n),this.addChild(i,r)}}])&&fs(e.prototype,n),a}(c);function bs(t){return(bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ms(t,e){return(ms=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gs(t,e){return!e||"object"!==bs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ws(t){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Os=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ms(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ws(e);if(n){var o=ws(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return gs(this,t)});function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t={particle:{display:function(){return new ui},lifetime:{min:.8,max:.8},moveSpeed:{min:250,max:250},rotateSpeed:{min:-50,max:50},scaleEase:R.quadOut,scaleOverTime:{start:1,end:0},opacityEase:R.quadOut,opacityOverTime:{start:1,end:0},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:0},explode:!0,implode:!1,gravity:0},emitterType:{type:"box",size:{width:150,height:125}},count:30,rate:.06,loop:!0,burst:!1,startOn:!1,prewarm:0};return r.call(this,t)}return o}(Yo);function _s(t){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ks(t,e){return(ks=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xs(t,e){return!e||"object"!==_s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function js(t){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ps=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ks(t,e)}(c,t);var e,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=js(o);if(i){var n=js(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xs(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this)).options=t,e}return e=c,(n=[{key:"start",value:function(){}},{key:"dispatchInnerViewEvent",value:function(t,e){var n=new r(Ir,!0);n.action=t,n.data=e,n.hide=this.options.hide,this.dispatchEvent(n)}}])&&Ss(e.prototype,n),c}(c);function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ts(t,e){return(Ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Es(t,e){return!e||"object"!==Rs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bs(t){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Is=0,As=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ts(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bs(r);if(o){var n=Bs(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Es(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this,t);var n=Rr.get("ui-ss");return e.plateContainer=new c,e.plateContainer.set({y:-62}),e.phrase=Ta[Is++%Ta.length],e.textField=new ji(Fo,70),e.textField.set({text:e.phrase.string.toUpperCase(),y:23}),e.levelTracker=new Bi,e.levelTracker.set({y:-130}),e.levelTracker.preupdate(),e.plateContainer.addChild(new h(n,"plate-text").center(),e.textField,e.levelTracker),e.button=new uo("large","next"),e.button.set({y:100,pulse:!0}),e.addChild(e.plateContainer,e.button),e}return e=a,(n=[{key:"start",value:function(){Q.play("level-win-popup"),ko.play(this.phrase.vo),this.button.addListeners(this.onButtonClick,this),this.options.levelUp?this.levelTracker.levelup():this.levelTracker.update()}},{key:"onButtonClick",value:function(){this.button.removeListeners(),this.options.levelUp?this.dispatchInnerViewEvent(Fa):this.dispatchInnerViewEvent(Da)}}])&&Cs(e.prototype,n),a}(Ps);function Ls(t){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ds(t,e){return(Ds=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fs(t,e){return!e||"object"!==Ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vs(t){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ds(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vs(r);if(o){var n=Vs(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fs(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this,t);var n=Rr.get("ui-ss");return e.plateContainer=new c,e.plateContainer.set({y:-62}),e.powerupName=new ji(Fo,62),e.powerupName.set({text:"PRO TIP:",y:-40}),e.powerupDescription=new ji(Vo,26),e.powerupDescription.set({text:"To get the most gems\npossible, try to find words\nbefore clicking!",lineWidth:350,y:0}),e.plateContainer.addChild(new h(n,"plate-text").center(),e.powerupName,e.powerupDescription),e.confirmButton=new uo("confirm","confirm"),e.confirmButton.set({x:0,y:80}),e.addChild(e.plateContainer,e.confirmButton),e}return e=a,(n=[{key:"start",value:function(){ko.play("vo-17"),this.confirmButton.addListeners(this.onConfirmButton,this)}},{key:"onConfirmButton",value:function(){this.confirmButton.removeListeners(),this.parent.parent.hide()}}])&&Ms(e.prototype,n),a}(Ps);function Ns(t){return(Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Us(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zs(t,e){return(zs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xs(t,e){return!e||"object"!==Ns(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gs(t){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zs(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gs(r);if(o){var n=Gs(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Xs(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this,t);var n=Rr.get("ui-ss");return e.plateContainer=new c,e.plateContainer.set({y:-62}),e.largeGem=new h(n,"gem-large"),e.largeGem.y=-100,e.largeGem.center(),e.text=new ji(Fo,70),e.text.set({text:"1000",y:30}),e.plateContainer.addChild(new h(n,"plate-text").center(),e.largeGem,e.text),e.button=new uo("thanks","thank"),e.button.set({y:60,pulse:!0}),e.addChild(e.plateContainer,e.button),e}return e=a,(n=[{key:"start",value:function(){ko.play("vo-3"),this.button.addListeners(this.onButtonClick,this)}},{key:"onButtonClick",value:function(){this.button.removeListeners(),this.dispatchInnerViewEvent(Ma,this.largeGem)}}])&&Us(e.prototype,n),a}(Ps);function Ys(t){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qs(t,e){return(Qs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $s(t,e){return!e||"object"!==Ys(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Js(t){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ks=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qs(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Js(r);if(o){var n=Js(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return $s(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this,t);var n=Rr.get("ui-ss");e.plateContainer=new c,e.plateContainer.set({y:-62});var r=Ca[t.powerupType];return e.powerupName=new ji(Fo,62),e.powerupName.set({text:r.name,y:-60}),e.powerupDescription=new ji(Vo,26),e.powerupDescription.set({text:r.description,lineWidth:350,y:-20}),e.powerupCost=new ji(Vo,26),e.powerupCost.set({text:t.cost,x:30,y:66}),e.plateContainer.addChild(new h(n,"plate-text-combo").center(),e.powerupName,e.powerupDescription,e.powerupCost),e.cancelButton=new uo("small","cancel"),e.cancelButton.set({x:-64,y:90}),e.confirmButton=new uo("confirm","confirm"),e.confirmButton.set({x:64,y:90}),e.addChild(e.plateContainer,e.cancelButton,e.confirmButton),e}return e=a,(n=[{key:"start",value:function(){var t=Ca[this.options.powerupType];localStorage.getItem("heard-powerup-"+t.name)||(localStorage.setItem("heard-powerup-"+t.name,!0),ko.play([t.vo1,t.vo2])),this.cancelButton.addListeners(this.onCancelButton,this),this.confirmButton.addListeners(this.onConfirmButton,this)}},{key:"onCancelButton",value:function(){this.cancelButton.removeListeners(),this.confirmButton.removeListeners(),this.parent.parent.hide(),this.options.onCancel()}},{key:"onConfirmButton",value:function(){this.cancelButton.removeListeners(),this.confirmButton.removeListeners(),this.parent.parent.hide(),this.options.onConfirm()}}])&&Hs(e.prototype,n),a}(Ps);function Zs(t){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eu(t,e,n){return(eu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ou(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nu(t,e){return(nu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ru(t,e){return!e||"object"!==Zs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ou(t){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var iu="hidden",au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nu(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ou(r);if(o){var n=ou(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ru(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this)).visible=!1,t.mask=new f,t.mask.graphics.r(-4,-4,624,624);var e=yr.currentIp;return t.backShape=new f,t.backShape.graphics.f(e.colors.innerViewBack).r(0,0,616,616),t.texture=new a(e.textureImage),t.emitter=new Os,t.emitter.x=308,t.emitter.y=228,t.contentHolder=new c,t.charactersHolder=new c,t.leftCharacter=e.characterGameBoardCharacter0,t.rightCharacter=e.characterGameBoardCharacter1,t.leftCharacter.snapToPixel=t.rightCharacter.snapToPixel=!1,t.charactersHolder.addChild(t.leftCharacter,t.rightCharacter),t.addChild(t.backShape,t.texture,t.emitter,t.contentHolder,t.charactersHolder),t.backShape.on("click",(function(){})),t}return e=s,(n=[{key:"show",value:function(t,e){this.viewType=t,this.visible=!0,this.backShape.alpha=0,this.texture.alpha=0,this.charactersHolder.y=1232,this.leftCharacter.x=this.leftCharacter.regX,this.rightCharacter.x=616-this.rightCharacter.regX,this.content=this.createViewContents(this.viewType,e),this.content.scale=0,this.content.x=308,this.content.y=308,this.contentHolder.removeAllChildren(),this.contentHolder.addChild(this.content),this.isDancing=this.viewType===Ia||this.viewType===Ba,this.isDancing?Q.play("popup-cheer"):Q.play("tutorial-popup"),P.removeTweens(this),P.get(this.texture,{override:!0}).to({alpha:1},600,R.quadInOut),P.get(this.backShape,{override:!0}).to({alpha:1},600,R.quadInOut),P.get(this.charactersHolder,{override:!0}).to({y:616},600,R.quadInOut),P.get(this.content,{override:!0}).to({scale:1},600,R.quadInOut).call(this.content.start,null,this.content).call(this.emitter.play,null,this.emitter)}},{key:"hide",value:function(){this.emitter.stop(),P.get(this.texture,{override:!0}).to({alpha:0},400,R.quadInOut),P.get(this.backShape,{override:!0}).to({alpha:0},400,R.quadInOut),P.get(this.content,{override:!0}).to({scale:0},400,R.quadInOut).call(this.removeChild,[this.content],this).set({content:null},this),P.get(this.charactersHolder,{override:!0}).to({y:1232},600,R.quadInOut),P.get(this).wait(400).set({visible:!1}).call(this.dispatchHidden,null,this)}},{key:"createViewContents",value:function(t,e){var n=this;switch((e=e||{}).hide=function(){return n.hide()},t){case Ba:return new qs(e);case Aa:return new Ks(e);case Ia:return new As(e);case La:return new Ws(e)}return!1}},{key:"danceCharacters",value:function(t){this.leftCharacter.rotation=.6*Math.sin(t.runTime/80),this.rightCharacter.rotation=-.6*Math.sin(t.runTime/80),this.leftCharacter.y=2+Math.sin(t.runTime/60),this.rightCharacter.y=2+Math.sin(t.runTime/60)}},{key:"dispatchHidden",value:function(){this.dispatchEvent(iu)}},{key:"_tick",value:function(t){eu(ou(s.prototype),"_tick",this).call(this,t),this.isDancing&&this.danceCharacters(t)}}])&&tu(e.prototype,n),s}(c);function cu(t){return(cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function su(t,e){return(su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uu(t,e){return!e||"object"!==cu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lu(t){return(lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fu=[Ko,Dc,Bc],hu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&su(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=lu(e);if(n){var o=lu(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return uu(this,t)});function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t={particle:{display:function(){return new(Qt(fu))},lifetime:{min:.5,max:1},moveSpeed:{min:400,max:500},rotateSpeed:{min:-5,max:5},scaleEase:R.linear,scaleOverTime:{start:.3,end:.6},opacityEase:R.linear,opacityOverTime:{start:1,end:0},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:0},explode:!0,implode:!1,gravity:0},emitterType:{type:"box",size:{width:250,height:250}},count:40,rate:.005,loop:!1,burst:!1,startOn:!1,prewarm:0};return r.call(this,t)}return o}(Yo);function pu(t){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function du(t,e,n){return(du="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vu(t,e){return(vu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bu(t,e){return!e||"object"!==pu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mu(t){return(mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gu=[Ko,Dc,Bc],wu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vu(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mu(r);if(o){var n=mu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return bu(this,t)});function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t={particle:{display:function(){return new(Qt(gu))},lifetime:{min:.4,max:1},moveSpeed:{min:300,max:300},rotateSpeed:{min:-50,max:50},scaleEase:R.cubicOut,scaleOverTime:{start:1,end:0},opacityEase:R.quadInOut,opacityOverTime:{start:0,end:1},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:0},explode:!1,implode:!0,gravity:0},emitterType:{type:"border",size:{width:320,height:320}},count:100,rate:.02,loop:!0,burst:!1,startOn:!1,prewarm:0};return i.call(this,t)}return e=a,(n=[{key:"play",value:function(t){du(mu(a.prototype),"play",this).call(this),this.timeScale=1,P.get(this).to({timeScale:2.5},3e3).call(t).play(this.stop,null,this)}},{key:"_tick",value:function(t){var e=t.delta;t.delta*=this.timeScale,du(mu(a.prototype),"_tick",this).call(this,t),t.delta=e}}])&&yu(e.prototype,n),a}(Yo);function Ou(t){return(Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Su(t,e){return(Su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ku(t,e){return!e||"object"!==Ou(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xu(t){return(xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ju=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Su(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xu(r);if(o){var n=xu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ku(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,Rr.get("gameboard-background"))).punchShape=new f,t.punchShape.graphics.f("red").rr(-96,-96,192,192,20.5),t}return e=a,(n=[{key:"clear",value:function(){this.alpha=1,this.uncache()}},{key:"startLevelUpInteraction",value:function(){var t=this.getBounds();this.cache(t.x,t.y,t.width,t.height)}},{key:"punchOut",value:function(t){var e=t.localToLocal(0,0,this),n=this.cacheCanvas.getContext("2d");n.globalCompositeOperation="destination-out",n.save(),n.translate(e.x,e.y),n.scale(t.scaleX,t.scaleX),this.punchShape.draw(n),n.restore()}},{key:"fadeOut",value:function(){P.get(this).to({alpha:0},1e3,R.quadInOut)}}])&&_u(e.prototype,n),a}(a);function Pu(t){return(Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ru(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cu(t,e){return(Cu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tu(t,e){return!e||"object"!==Pu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eu(t){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bu="EgsPAzgQioAAh4h4Qh3h2AAiqMAAAhaBQAAiuB7h8QB9h8CuAAMBYAAAAQCvAAB9B8QB7B7AACvMAAABaBQAACph4B3Qh3B4ioAAgEgu5gvxQhNBMAABsMAAABYJQADBoBKBKQBNBMBsAAMBYAAAAQBtAABNhMQBKhKADhoMAAAhYJQAAhshNhMQhNhOhtAAMhYAAAAQhsAAhNBOg",Iu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cu(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Eu(r);if(o){var n=Eu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Tu(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this)).set({regX:26,regY:24}),t.shape=new f,t.shape.set({x:334,y:338}),t.shape.graphics.f("#000").s().p(Bu);var e=new a(Rr.get("gameboard-border-fx"));return t.addChild(t.shape,e),t}return e=c,(n=[{key:"setColor",value:function(t){this.shape.graphics.c().f(t).s().p(Bu)}}])&&Ru(e.prototype,n),c}(c);function Au(t){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mu(t,e){return(Mu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Du(t,e){return!e||"object"!==Au(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fu(t){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mu(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fu(r);if(o){var n=Fu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Du(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).padding=2,e._createBaseShapes(t),e._createVectorShadows(),e._createHighlights(),e.build(),e}return e=s,(n=[{key:"_createBaseShapes",value:function(t){var e=new f;e.graphics.f("#FFFFFF").rr(-96,-96,192,192,20.5);var n=this.addFrame(e,new l(-100,-100,200,200));this.addAnimation("default-base",[n]);for(var r=20.5,o=0;o<t.length;o++){var i=t[o],a="color-"+o+"-",c=new f;c.graphics.f(i).rr(-96,-96,192,192,r);var s=new f;s.graphics.f(i).rc(-96,-96,192,197,r,r,0,0);var u=new f;u.graphics.f(i).r(-96,-101,192,202);var h=new f;h.graphics.f(i).rc(-96,-96,192,197,r,0,0,0).r(96,-96,5,192);var p=new f;p.graphics.f(i).rc(-96,-101,192,197,0,0,0,r).r(96,-96,5,192);var y=new l(-101,-101,202,202);this.addAnimation(a+"base",[this.addFrame(c,y)]),this.addAnimation(a+"end",[this.addFrame(s,y)]),this.addAnimation(a+"straight",[this.addFrame(u,y)]),this.addAnimation(a+"openCorner",[this.addFrame(h,y)]),this.addAnimation(a+"openCornerFlip",[this.addFrame(p,y)])}}},{key:"_createVectorShadows",value:function(){var t="rgba(0,0,0,0.3)",e=new f;e.graphics.f("rgba(5,32,113,0.4)").s().s().mt(-75.5,96).qt(-96,96,-96,75.5).lt(-96,59.5).qt(-96,80,-75.5,80).lt(75.5,80).qt(96,80,96,59.5).lt(96,75.5).qt(96,96,75.5,96).lt(-75.5,96).closePath();var n=new f;n.graphics.f(t).s().s().mt(-75.5,96).qt(-96,96,-96,75.5).lt(-96,59.5).qt(-96,80,-75.5,80).lt(75.5,80).qt(96,80,96,59.5).lt(96,75.5).qt(96,96,75.5,96).lt(-75.5,96).closePath();var r=new f;r.graphics.f(t).s().mt(-75.5,96).qt(-96,96,-96,75.5).lt(-96,59.5).qt(-96,80,-75.5,80).lt(101,80).lt(101,96).closePath();var o=new f;o.graphics.f(t).r(-101,80,200,16);var i=new f;i.graphics.f(t).r(96,80,5,16);var a=new f;a.graphics.f(t).r(-101,80,5,16).r(96,80,5,16);var c=new l(-101,-101,202,202);this.addAnimation("default-shadow",[this.addFrame(e,c)]),this.addAnimation("black-shadow",[this.addFrame(n,c)]),this.addAnimation("corner-shadow",[this.addFrame(r,c)]),this.addAnimation("full-shadow",[this.addFrame(o,c)]),this.addAnimation("inset-shadow",[this.addFrame(i,c)]),this.addAnimation("doubleinset-shadow",[this.addFrame(a,c)])}},{key:"_createHighlights",value:function(){var t=new a(Rr.get("tile-highlight-cap")),e=new a(Rr.get("tile-highlight-corner")),n=new a(Rr.get("tile-highlight-straight")),r=new c;r.addChild(new a(Rr.get("tile-highlight-straight")).set({x:197,scaleX:5/202}));var o=new l(0,0,202,202);this.addAnimation("base-highlight",[this.addFrame(t,o)]),this.addAnimation("corner-highlight",[this.addFrame(e,o)]),this.addAnimation("full-highlight",[this.addFrame(n,o)]),this.addAnimation("inset-highlight",[this.addFrame(r,o)])}}])&&Lu(e.prototype,n),s}(y);function Wu(t){return(Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uu(t,e){return(Uu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zu(t,e){return!e||"object"!==Wu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xu(t){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uu(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xu(r);if(o){var n=Xu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return zu(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this);var e=new Vu(yr.currentIp.colors.tiles);return t.tileSpritesheet=e.build(),t.cursor="pointer",t.hitAreaShape=new f,t.hitAreaShape.graphics.f("red").r(0,0,600,600),t.mpt=new u,t._currentScale=0,t._currentWidth=0,t._currentHeight=0,t.levelUpEnabled=!1,t}return e=a,(n=[{key:"levelUpEnabled",get:function(){return this._levelUpEnabled},set:function(t){this._levelUpEnabled=t,this.hitArea=this._levelUpEnabled?null:this.hitAreaShape}},{key:"clear",value:function(){this.removeAllChildren()}},{key:"create",value:function(t){this.clear();for(var e=this._currentWidth=t.width,n=t.tiles,r=this._currentScale=600/e/hc,o=0;o<n.length;o++){var i=n[o],a=new pc(this.tileSpritesheet,i);a.scale=r,a.tx=a.x=i.x*hc*r,a.ty=a.y=i.y*hc*r,this.addChild(a)}var c=this.getBounds();this.regX=c.x+c.width/2,this.regY=c.y+c.height/2,this.hitArea.x=hc*r/-2,this.hitArea.y=hc*r/-2}},{key:"getMouseTarget",value:function(){this.globalToLocal(this.stage.mouseX,this.stage.mouseY,this.mpt);var t=this._currentScale,e=Math.round(this.mpt.y/(hc*t))*this._currentWidth+Math.round(this.mpt.x/(hc*t));return this.children[e]}},{key:"animateTiles",value:function(){var t=this._currentScale;this.children.forEach((function(e){var n=e.data,r=n.x*hc*t,o=n.y*hc*t;e.tx=r,e.ty=o,P.get(e).to({x:r,y:o},800,R.cubicInOut)})),P.get(this).wait(800).call(this.sortEm,null,this)}},{key:"wave",value:function(){var t=this._currentScale,e=Math.sqrt(this.children.length);this.children.forEach((function(n){var r=n.data,o=Math.abs(r.x-Math.floor(e/2)),i=Math.abs(r.y-Math.floor(e/2));P.get(n).wait(100*(o+i)).to({scale:1.2*t},200,R.cubicOut).to({scale:t},400,R.cubicInOut)})),P.get(this).wait(800).call(this.sortEm,null,this)}},{key:"sortEm",value:function(){this.sortChildren((function(t,e){return t.y!==e.y?t.y-e.y:t.x-e.x}))}}])&&Nu(e.prototype,n),a}(c);function qu(t){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hu(t,e){return(Hu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qu(t,e){return!e||"object"!==qu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $u(t){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ju=document.createElement("canvas");Ju.width=618,Ju.height=618;var Ku=Ju.getContext("2d"),Zu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hu(t,e)}(c,t);var e,n,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$u(r);if(o){var n=$u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Qu(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this)).drawnPoints=[],t.filters=[new i(Ju)],t}return e=c,(n=[{key:"setImage",value:function(t){this.image=t,this.cacheCanvas?this.updateCache():this.cache(0,0,618,618)}},{key:"drawTiles",value:function(t,e){var n=this;e&&this.clear();var r=Ku;t.forEach((function(t){if(t.locked){var e=t.parent.localToLocal(t.tx,t.ty,n);r.save(),r.translate(e.x,e.y),r.scale(t.scaleX,t.scaleY),t.draw(r),r.restore()}})),this.updateCache()}},{key:"punchOut",value:function(t){var e=hc*t.scale,n=Ku,r=t.localToLocal(0,0,this);n.clearRect(r.x-e/2,r.y-e/2,e,e),this.updateCache()}},{key:"fadeIn",value:function(){P.get(this).to({alpha:1},200,R.quadInOut)}},{key:"fadeOut",value:function(){P.get(this).to({alpha:0},200,R.quadInOut)}},{key:"clear",value:function(){Ku.clearRect(0,0,618,618),this.updateCache(),this.drawnPoints=[]}}])&&Yu(e.prototype,n),c}(a);function tl(t){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function el(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nl(t,e,n){return(nl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=il(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function rl(t,e){return(rl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ol(t,e){return!e||"object"!==tl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function il(t){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var al=["word-select-1","word-select-2","word-select-3","word-select-4","word-select-5","word-select-6"],cl=[{x:0,y:-1,value:2},{x:1,y:0,value:8},{x:0,y:1,value:32},{x:-1,y:0,value:128}],sl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rl(t,e)}(c,t);var e,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=il(o);if(i){var n=il(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ol(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this)).regX=t.regY=308,t.levelData=null,t.selection=[],t._selectionWord="",t.foundBonusWords=[],t.shuffling=!1,t.boardCompleted=!1,t.tileColorUseCounts=[0,0,0,0],t.currentTileColor=0,t.background=new ju,t.tiles=new Gu,t.tiles.set({x:t.regX,y:t.regY}),t.texture=new Zu,t.innerViewContainer=new au,t.border=new Iu,t.burstEmitter=new hu,t.burstEmitter.set({x:313,y:313}),t.revealEmitter=new wu,t.revealEmitter.set({x:313,y:313}),t.addChild(t.background,t.tiles,t.texture,t.innerViewContainer,t.border,t.burstEmitter,t.revealEmitter),t.addListeners(),t}return e=c,(n=[{key:"show",value:function(){P.get(this).to({y:15},600,R.cubicOut)}},{key:"hide",value:function(){P.get(this).to({y:1200},800,R.cubicOut)}},{key:"createNewBoard",value:function(t){this.removePayoffDisplay(),this.background.clear(),this.boardCompleted=!1,this.levelData=t,this.tileColorUseCounts=[0,0,0,0],this.foundBonusWords=[],this.texture.setImage(yr.currentIp.textureImage),this.border.setColor(yr.currentIp.colors.border),this.texture.clear(),this.tiles.create(t)}},{key:"addListeners",value:function(){this.tiles.on("mousedown",this.onInteract,this),this.tiles.on("pressup",this.onInteract,this)}},{key:"onInteract",value:function(t){switch(t.type){case"mousedown":this.startDrag();break;case"pressup":this.stopDrag()}}},{key:"startDrag",value:function(){this.mouseDownOnTiles=!0,this.selection=[],this.currentTileColor=this.getNextColor(),this.checkTargetTile(this.tiles.getMouseTarget())}},{key:"stopDrag",value:function(){this.mouseDownOnTiles=!1,this.checkForWord(),this.removeSelectionsFrom(0)}},{key:"getNextColor",value:function(){for(var t=999999,e=0,n=this.currentTileColor+1,r=n;r<n+this.tileColorUseCounts.length;r++){var o=this.tileColorUseCounts[r%this.tileColorUseCounts.length];o<t&&(t=o,e=r%this.tileColorUseCounts.length)}return e}},{key:"addPayoffDisplay",value:function(){this.payoffImage=new vs(yr.currentIp.getPayOff()),this.addChildAt(this.payoffImage,0)}},{key:"removePayoffDisplay",value:function(){this.removeChild(this.payoffImage),this.payoffImage=null}},{key:"_tick",value:function(t){if(nl(il(c.prototype),"_tick",this).call(this,t),this.gameActive=!this.innerViewContainer.visible&&!this.payoffImage&&!this.boardCompleted,this.mouseDownOnTiles){var e=this.tiles.getMouseTarget();this.checkTargetTile(e)}}},{key:"checkTargetTile",value:function(t){if(t&&!t.locked){var e=this.selection.indexOf(t);e>=0?e<this.selection.length-1&&this.removeSelectionsFrom(e+1):this.selection.length?this.selection[this.selection.length-1].isNeighborsWith(t)&&this.addToSelection(t):this.addToSelection(t)}}},{key:"shuffleTiles",value:function(){var t=this;Q.play("shuffle-board"),this.shuffling=!0,this.texture.fadeOut(),this.levelData.shuffleTiles(),this.tiles.animateTiles(),P.get(this).wait(400).call((function(){t.updateTiles(),t.redrawTexture(),t.texture.fadeIn()})).wait(400).set({shuffling:!1})}},{key:"redrawTexture",value:function(){this.texture.drawTiles(this.tiles.children,!0)}},{key:"addToSelection",value:function(t){t.setColor(this.currentTileColor),this.selection.push(t),this.updateSelection(),this.updateTiles(),Q.play(al[(this.selection.length-1)%al.length])}},{key:"removeSelectionsFrom",value:function(t){this.selection.splice(t),this.updateSelection(),this.updateTiles();var e=this.selection.length;e&&Q.play(al[(e-1)%al.length])}},{key:"updateSelection",value:function(){var t=this.selection,e=t.length;if(0!==e){t.forEach((function(n,r){n.prevTile=r>0&&t[r-1],n.nextTile=r<e-1&&t[r+1]}));for(var n="",r=0;r<e;r++)n+=t[r].data.letter;this.updateSelectionWord(n)}else this.updateSelectionWord("")}},{key:"updateTiles",value:function(){for(var t=this.levelData.tileMap,e=this.tiles.children,n=0;n<e.length;n++){var r=e[n];if(r.locked||this.isTileInSelection(r)){var o=0;r.selected=!0;for(var i=r.data,a=r.locked&&r.data.wordData.tileDatas,c=0;c<cl.length;c++){var s=cl[c],u=t[i.y+s.y]&&t[i.y+s.y][i.x+s.x];u&&(r.locked&&a.indexOf(u)>=0||this.isTileInSelection(u.tile))&&(u.tile!==r.prevTile&&u.tile!==r.nextTile||(o+=s.value))}r.state=o}else r.state=0,r.selected=!1}}},{key:"isTileInSelection",value:function(t){return this.selection.indexOf(t)>=0}},{key:"updateSelectionWord",value:function(t){this._selectionWord=t;var e=new r(Mr);e.word=t,this.dispatchEvent(e)}},{key:"checkForWord",value:function(){var t=this.selection,e=t[0];if(e){var n=this._selectionWord,r=!1,o=e.data;if(o.word===n&&o.isStarterLetter){var i=o.wordId;r=t.every((function(t){return t.data.wordId===i}))}r?this.submitWord(n,!0):Sc.check(n)&&this.submitWord(n)}}},{key:"submitWord",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.foundBonusWords.indexOf(t)>=0,o=new r(Dr);o.word=t,o.isBonusWord=!e,o.isRepeatBonus=n,o.wordData=e&&this.selection[0].data.wordData,o.tiles=this.selection.slice(0),e?(this.tileColorUseCounts[this.currentTileColor]++,this.lockInTiles(this.selection),this.boardCompleted=0===this.tiles.children.filter((function(t){return!0!==t.locked})).length):n||this.foundBonusWords.push(t),o.boardCompleted=this.boardCompleted,this.dispatchEvent(o)}},{key:"lockInTiles",value:function(t){t.forEach((function(t){t.locked=!0})),this.redrawTexture()}},{key:"enableLevelCompleteInteraction",value:function(){this.background.startLevelUpInteraction(),this.tiles.levelUpEnabled=!0,this.tiles.on("click",this.onTileClick,this)}},{key:"onTileClick",value:function(t){var e=t.target;e.visible=!1,Q.play("click");var n=new r(Ar);n.tile=e,this.dispatchEvent(n),this.texture.punchOut(e),this.background.punchOut(e),0===this.tiles.children.filter((function(t){return t.visible})).length&&(this.tiles.levelUpEnabled=!1,this.tiles.removeAllEventListeners("click"),this.dispatchEvent(Lr),this.background.fadeOut())}},{key:"getGetRandomWord",value:function(){var t=this.levelData.words;return Qt(t.filter((function(t){return!t.completed})))}}])&&el(e.prototype,n),c}(c);function ul(t){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fl(t,e){return(fl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hl(t,e){return!e||"object"!==ul(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pl(t){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fl(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pl(r);if(o){var n=pl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return hl(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this)).y=384,t.mouseChildren=!1,t.mouseEnabled=!1,t.visible=!1,t.characters=[],t.characterIndex=0,t.gradient=new a(Rr.get("bottom-gradient")),t.gradient.set({regX:50,regY:199,y:199,scaleX:16.64});var e=yr.currentIp.characterBottomCharacter0;e.image&&t.characters.push(e);var n=yr.currentIp.characterBottomCharacter1;return n.image&&t.characters.push(n),t}return e=c,(n=[{key:"show",value:function(t){this.removeAllChildren();var e=this._getNextCharacter();e.x=420,this.addChild(e),this.addChild(this.gradient),this.activeCharacter=e,this.gradient.y=199,e.y=e.regY,this.visible=!0,P.get(this.gradient,{override:!0}).to({y:0},400,R.cubicOut),P.get(e,{override:!0}).to({y:0},400,R.cubicOut).call(t)}},{key:"hide",value:function(){var t=this.activeCharacter;this.activeCharacter=null,P.get(this.gradient,{override:!0}).to({y:199},400,R.cubicIn).set({visible:!1},this),t&&P.get(t,{override:!0}).to({y:t.regY},400,R.cubicIn).call(this.removeChild,[t],this)}},{key:"_getNextCharacter",value:function(){return this.characters[this.characterIndex++%this.characters.length]}}])&&ll(e.prototype,n),c}(c);function dl(t){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ml(t,e){return(ml=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gl(t,e){return!e||"object"!==dl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wl(t){return(wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ml(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wl(r);if(o){var n=wl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gl(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return vl(this,a),(t=i.call(this)).xDirection=e,t.regX=512*t.xDirection,t}return e=a,(n=[{key:"show",value:function(){P.get(this).to({regX:0},600,R.cubicInOut)}},{key:"hide",value:function(){P.get(this).to({regX:512*this.xDirection},600,R.cubicInOut)}}])&&bl(e.prototype,n),a}(c);function _l(t){return(_l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kl(t,e,n){return(kl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xl(t,e){return(xl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jl(t,e){return!e||"object"!==_l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pl(t){return(Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xl(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pl(r);if(o){var n=Pl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return jl(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).gameboard=t,e.gemScaleTime=1,e.mouseEnabled=!1,e.gemCount=or.gemCount;var n=Rr.get("ui-ss"),r=new h(n,"plate-gem-count");r.center(),r.set({y:84});var o=new ji(Vo,32);o.set({text:e.gemCount,maxWidth:148,x:0,y:93});var c=new h(n,"gem-ui");return c.snapToPixel=!1,c.center(),e.gemCountText=o,e.gemSprite=c,e.addChild(r,o,c),e}return e=a,(n=[{key:"collect",value:function(t,e){t&&(this.gemScaleTime=0,this.gemSprite.scale=1,this.gemCount+=e.value,this.updateGemCount(),Q.play("collect-coin"))}},{key:"spend",value:function(t){this.gemCount-=t,this.updateGemCount()}},{key:"updateGemCount",value:function(){this.gemCountText.text=this.gemCount}},{key:"_tick",value:function(t){if(kl(Pl(a.prototype),"_tick",this).call(this,t),this.gemScaleTime<1)if(this.gemScaleTime+=t.delta/200,this.gemScaleTime<.3)this.gemSprite.scale=1+.05*R.backOut(this.gemScaleTime);else{var e=1-(this.gemScaleTime-.3)/.7;this.gemSprite.scale=1+.05*R.quadInOut(e)}else this.gemSprite.scale=1}}])&&Sl(e.prototype,n),a}(c);function Cl(t){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function El(t,e){return(El=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bl(t,e){return!e||"object"!==Cl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Il(t){return(Il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Al=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&El(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Il(r);if(o){var n=Il(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Bl(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).mouseEnabled=!1,t.regY=44;var e=Rr.get("ui-ss"),n=new h(e,"plate-level-label"),r=n.getBounds();n.regX=r.width/2;var o=new ji(Vo,22);o.set({y:38});var c=new ji(Fo,32);return c.set({y:72}),t.addChild(n,o,c),t.levelName=o,t.levelNumbers=c,t.refresh(),t}return e=a,(n=[{key:"refresh",value:function(){this.levelName.text=yr.currentIp.levelNameString,this.levelNumbers.text=yr.currentIp.levelPuzzleString}}])&&Tl(e.prototype,n),a}(c);function Ll(t){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ml(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dl(t,e){return(Dl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fl(t,e){return!e||"object"!==Ll(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vl(t){return(Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dl(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vl(r);if(o){var n=Vl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fl(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._active=!1,t._letter="",t._letterPosition="start",t.textField=new ji(Fo,28),t.textField.set({x:20,y:30});var e=Rr.get("game-ss");return t.addChild(new h(e,"minitile-end"),t.textField),t.y=-80,t.visible=!1,t}return e=a,(n=[{key:"active",get:function(){return this._active},set:function(t){t!==this.active&&(this._active=t,this._active?this.animateIn():this.animateOut())}},{key:"setLetter",value:function(t,e){var n=this.getChildAt(0);this.textField.text=t,n.scaleX="start"===e?-1:1,n.x=-1===n.scaleX?40:0,"start"===e&&(e="end"),n.gotoAndStop("minitile-"+e)}},{key:"animateIn",value:function(){this.visible=!0,P.get(this,{override:!0}).to({y:0},150,R.cubicOut)}},{key:"animateOut",value:function(){P.get(this,{override:!0}).to({y:-80},150,R.cubicIn).set({visible:!1})}}])&&Ml(e.prototype,n),a}(c);function Nl(t){return(Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ul(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zl(t,e){return(zl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xl(t,e){return!e||"object"!==Nl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gl(t){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zl(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gl(r);if(o){var n=Gl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Xl(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).currentString="",t.buildLetterSprites(),t.regX=20,t}return e=a,(n=[{key:"clear",value:function(){this.children.forEach((function(t){t.active=!1}))}},{key:"buildLetterSprites",value:function(){for(var t=0;t<20;t++){var e=new Wl(this.textSS);e.x=40*t,this.addChild(e)}}},{key:"setWord",value:function(t){if(this.currentString!==t){this.currentString=t;for(var e=t.length,n=0;n<this.children.length;n++){var r=t.charAt(n),o=this.children[n];if(""!==r){var i;i=0===n?n===e-1?"single":"start":n===e-1?"end":"center",o.setLetter(r,i),o.active=!0}else o.active=!1}if(0!==e){var a=Math.max(40*t.length/2,20);this.regX=a}}}}])&&Ul(e.prototype,n),a}(c);function Yl(t){return(Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ql(t,e){return(Ql=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $l(t,e){return!e||"object"!==Yl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jl(t){return(Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ql(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jl(r);if(o){var n=Jl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return $l(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).visible=!1,t.regY=50;var e=new h(Rr.get("ui-ss"),"plate-notification");return e.center(),t.textField=new ji(Vo,30),t.textField.set({y:10}),t.addChild(e,t.textField),t}return e=a,(n=[{key:"showNotification",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.textField.text=t,this.visible=!0;var n=P.get(this,{override:!0}).to({regY:-50},300,R.cubicOut);e&&n.wait(1e3).call(this.expire,null,this)}},{key:"expire",value:function(){P.get(this,{override:!0}).to({regY:50},200,R.quadIn).set({visible:!1})}}])&&Hl(e.prototype,n),a}(c);function Zl(t){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ef(t,e){return(ef=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nf(t,e){return!e||"object"!==Zl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rf(t){return(rf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ef(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rf(r);if(o){var n=rf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return nf(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).miniLetters=new ql,t.miniLetters.y=15,t.notifications=new Kl,t.addChild(t.miniLetters,t.notifications),t}return e=a,(n=[{key:"updateWord",value:function(t){this.miniLetters.setWord(t)}},{key:"showBonusWordNotification",value:function(){this.notifications.showNotification("Bonus Word!")}},{key:"showRepeatWordNotification",value:function(){this.notifications.showNotification("You've already found this word.")}},{key:"showLevelEndHint",value:function(){this.notifications.showNotification("Tap to reveal the image!",!1)}},{key:"showPowerCostFail",value:function(){this.notifications.showNotification("You don't have enough gems.")}},{key:"clear",value:function(){this.notifications.expire()}}])&&tf(e.prototype,n),a}(c);function af(t){return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sf(t,e,n){return(sf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ff(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function uf(t,e){return(uf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lf(t,e){return!e||"object"!==af(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ff(t){return(ff=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hf={},pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uf(t,e)}(c,t);var e,n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ff(o);if(i){var n=ff(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lf(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,t,e)).snapToPixel=!1,n.stopUpdate=!1,n.autoRemove=!0,n.life=0,n.maxLife=1,n.reset(),n}return e=c,r=[{key:"particleName",get:function(){return"Abstract"}},{key:"buildPool",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=hf[this.particleName]={index:0,collection:[]},n=0;n<t;n++)e.collection.push(new this)}},{key:"getNextParticle",value:function(){var t=hf[this.particleName];return t.collection[t.index++%t.collection.length]}}],(n=[{key:"reset",value:function(){this.visible=!0,this.life=0}},{key:"removeSelf",value:function(){this.parent&&this.parent.removeChild(this)}},{key:"start",value:function(t){t&&this.set(t),this.reset(),this.stopUpdate=!1}},{key:"stop",value:function(){}},{key:"_tick",value:function(t){if(sf(ff(c.prototype),"_tick",this).call(this,t),t.delta){var e=t.delta/1e3;this.life+=e;var n=Math.min(this.life/this.maxLife,1);!1===this.stopUpdate&&this.update(e,n,t.runTime),this.autoRemove&&n>=1&&this.removeSelf()}}},{key:"update",value:function(t,e,n){}}])&&cf(e.prototype,n),r&&cf(e,r),c}(h);function yf(t){return(yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function df(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vf(t,e,n){return(vf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bf(t,e){return(bf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mf(t,e){return!e||"object"!==yf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gf(t){return(gf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wf=0,Of=0,_f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bf(t,e)}(c,t);var e,n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gf(o);if(i){var n=gf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mf(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var e=Rr.get("game-ss");return(t=a.call(this,e,"beam")).autoRemove=!1,t.center(),t}return e=c,r=[{key:"particleName",get:function(){return"BeamParticle"}}],(n=[{key:"reset",value:function(){vf(gf(c.prototype),"reset",this).call(this),this.alpha=1,this.scale=0,this.maxLife=zi(.5,2)}},{key:"start",value:function(t){vf(gf(c.prototype),"start",this).call(this,t),wf+=25,Of+=75,this.tx=this.x+-90+wf%180,this.ty=this.y+-90+Of%180,this.x=(this.tx+this.x)/2,this.y=(this.ty+this.y)/2}},{key:"update",value:function(t,e,n){this.alpha=this.scale=e,this.x+=(this.tx-this.x)*t,this.y+=(this.ty-this.y)*t}}])&&df(e.prototype,n),r&&df(e,r),c}(pf);function Sf(t){return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xf(t,e,n){return(xf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function jf(t,e){return(jf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pf(t,e){return!e||"object"!==Sf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rf(t){return(Rf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jf(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rf(r);if(o){var n=Rf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Pf(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this);var n=Rr.get("game-ss"),r=t.toString(),o=0;for(o=0;o<r.length;o++){var c=r.charAt(o);e.addChild(new h(n,"combo"+c).set({x:42*o}))}return e.addChild(new h(n,"combox").set({x:42*o})),e.center(),e.set({snapToPixel:!1,scale:0,alpha:1,rotation:-30}),e.life=0,e.maxLife=1.6,e}return e=a,(n=[{key:"_tick",value:function(t){xf(Rf(a.prototype),"_tick",this).call(this,t),this.life+=t.delta/1e3,this.life>this.maxLife&&this.parent.removeChild(this);var e=Math.min(this.life/this.maxLife,1);this.rotation=55*R.linear(e)-30,this.scale=e<=.5?R.cubicOut(2*e):1-R.cubicIn((e-.5)/.5)}}])&&kf(e.prototype,n),a}(c);function Tf(t){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bf(t,e,n){return(Bf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function If(t,e){return(If=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Af(t,e){return!e||"object"!==Tf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lf(t){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&If(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lf(r);if(o){var n=Lf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Af(this,t)});function a(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var o=Qt(e);return(r=i.call(this,t,o)).center(),r.speed=n,r.time=zi(0,100),r}return e=a,(n=[{key:"refreshSpriteList",value:function(t){this.gotoAndStop(Qt(t)),this.center()}},{key:"_tick",value:function(t){var e=t.delta/1e3;this.time+=e,this.scaleX=Math.sin(2*this.time*this.speed),Bf(Lf(a.prototype),"_tick",this).call(this,t)}}])&&Ef(e.prototype,n),a}(h);function Df(t){return(Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ff(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vf(t,e){return(Vf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wf(t,e){return!e||"object"!==Df(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nf(t){return(Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vf(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Nf(e);if(n){var o=Nf(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Wf(this,t)});function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};Ff(this,o);var e=Rr.get("particles-ss"),n=e.animations.filter((function(t){return 0===t.indexOf(yr.currentIp.name)&&t.indexOf("confetti")>0})),i={display:function(){return new Mf(e,n,4)},lifetime:{min:2,max:2.5},moveSpeed:{min:500,max:600},rotateSpeed:{min:-5,max:5},scaleEase:R.linear,scaleOverTime:{start:1,end:1},opacityEase:R.linear,opacityOverTime:{start:1,end:0},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:t,gravity:.5},a={particle:i,emitterType:{type:"box",size:{width:10,height:10}},count:50,rate:.05,loop:!1,burst:!0,startOn:!1,prewarm:0};return r.call(this,a)}return o}(Yo);function zf(t){return(zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gf(t,e,n){return(Gf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qf(t,e){return(qf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yf(t,e){return!e||"object"!==zf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hf(t){return(Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qf=[-30,15,-15,30,0],$f=0,Jf=30,Kf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qf(t,e)}(c,t);var e,n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hf(o);if(i){var n=Hf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yf(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var e=Rr.get("game-ss");return(t=a.call(this,e,"gem")).center(),t.autoRemove=!1,t.maxLife=.6,t.xSpeed=Jf,t.ySpeed=-50,t}return e=c,r=[{key:"particleName",get:function(){return"GemParticle"}}],(n=[{key:"reset",value:function(){Gf(Hf(c.prototype),"reset",this).call(this),this.rotation=0,this.life=0,this.scale=0,this.alpha=1,Jf*=-1,this.xSpeed=Jf,this.targetRotation=Qf[$f++%Qf.length]}},{key:"update",value:function(t,e){this.rotation=this.targetRotation*R.backOut(e),this.x+=this.xSpeed*t*(1-R.quadOut(e)),this.y+=this.ySpeed*t*(1-R.quadOut(e)),this.scale=R.backOut(e),this.alpha=R.backOut(e)}}])&&Xf(e.prototype,n),r&&Xf(e,r),c}(pf);function Zf(t,e,n,r,o){return r+(t-e)/(n-e)*(o-r)}function th(t,e){var n=e.x-t.x,r=e.y-t.y,o=0;return void 0!==t.z&&void 0!==e.z&&(o=e.z-t.z),Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}function eh(t){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rh(t,e,n){return(rh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ah(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function oh(t,e){return(oh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ih(t,e){return!e||"object"!==eh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ah(t){return(ah=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ch=[-30,15,-15,30,0],sh=0,uh=30,lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oh(t,e)}(c,t);var e,n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ah(o);if(i){var n=ah(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ih(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var e=Rr.get("game-ss");return(t=a.call(this,e,"multi")).center(),t.xSpeed=uh,t.ySpeed=-50,t}return e=c,r=[{key:"particleName",get:function(){return"PointParticle"}}],(n=[{key:"reset",value:function(){rh(ah(c.prototype),"reset",this).call(this),this.rotation=0,this.life=0,this.scale=0,this.alpha=1,uh*=-1,this.xSpeed=uh,this.targetRotation=ch[sh++%ch.length]}},{key:"update",value:function(t,e){this.rotation=this.targetRotation*R.elasticOut(e),this.x+=this.xSpeed*t*(1-R.quadOut(e)),this.y+=this.ySpeed*t*(1-R.quadOut(e)),this.scale=R.backOut(e),this.alpha=R.quadOut(Zf(e,.5,1,1,0))}}])&&nh(e.prototype,n),r&&nh(e,r),c}(pf);function fh(t){return(fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ph(t,e,n){return(ph="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yh(t,e){return(yh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dh(t,e){return!e||"object"!==fh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vh(t){return(vh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bh=0,mh=0,gh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yh(t,e)}(c,t);var e,n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vh(o);if(i){var n=vh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return dh(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var e=Rr.get("game-ss");return(t=a.call(this,e,"sparkle")).center(),t}return e=c,r=[{key:"particleName",get:function(){return"SparkleParticle"}}],(n=[{key:"reset",value:function(){ph(vh(c.prototype),"reset",this).call(this),this.alpha=1,this.scale=0,this.maxLife=zi(.5,2)}},{key:"start",value:function(t){ph(vh(c.prototype),"start",this).call(this,t),bh+=33,mh+=66,this.tx=this.x+-90+bh%180,this.ty=this.y+-90+mh%180,this.x=(this.tx+this.x)/2,this.y=(this.ty+this.y)/2}},{key:"update",value:function(t,e,n){var r=Math.sin(e*Math.PI);this.alpha=r,this.scale=.6*this.alpha,this.x+=(this.tx-this.x)*t,this.y+=(this.ty-this.y)*t}}])&&hh(e.prototype,n),r&&hh(e,r),c}(pf);function wh(t){return(wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oh(t,e){return(Oh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _h(t,e){return!e||"object"!==wh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sh(t){return(Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oh(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Sh(e);if(n){var o=Sh(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return _h(this,t)});function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=Rr.get("game-ss");return(t=r.call(this,e,"rounded-square")).snapToPixel=!1,t.center(),t}return o}(h);function xh(t){return(xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ph(t,e,n){return(Ph="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Th(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Rh(t,e){return(Rh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ch(t,e){return!e||"object"!==xh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Th(t){return(Th=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Eh=["click-uncover-picture-1","click-uncover-picture-2","click-uncover-picture-3"],Bh=0,Ih=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rh(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Th(r);if(o){var n=Th(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ch(this,t)});function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t={particle:{display:function(){return new kh},lifetime:{min:.5,max:1},moveSpeed:{min:50,max:100},rotateSpeed:{min:-300,max:300},scaleEase:R.linear,scaleOverTime:{start:1,end:.6},opacityEase:R.linear,opacityOverTime:{start:1,end:0},randomStartVelocity:{x:!0,y:!1},randomStartRotation:!1,force:{x:0,y:2},explode:!0,implode:!1,gravity:6},emitterType:{type:"box",size:{width:100,height:100}},count:20,rate:0,loop:!1,burst:!0,startOn:!1,prewarm:0};return i.call(this,t)}return e=a,(n=[{key:"play",value:function(){Q.play(Eh[Bh++%Eh.length]),Ph(Th(a.prototype),"play",this).call(this)}}])&&jh(e.prototype,n),a}(Yo);function Ah(t){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mh(t,e,n){return(Mh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Dh(t,e){return(Dh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fh(t,e){return!e||"object"!==Ah(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vh(t){return(Vh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wh=[Ko,Dc,Bc],Nh=["click-uncover-picture-1","click-uncover-picture-2","click-uncover-picture-3"],Uh=0,zh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dh(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vh(r);if(o){var n=Vh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fh(this,t)});function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t={particle:{display:function(){return new(Qt(Wh))},lifetime:{min:.5,max:.8},moveSpeed:{min:200,max:250},rotateSpeed:{min:-5,max:5},scaleEase:R.elasticInOut,scaleOverTime:{start:0,end:.5},opacityEase:R.quintOut,opacityOverTime:{start:1,end:0},randomStartVelocity:{x:!0,y:!0},randomStartRotation:!0,force:{x:0,y:0},explode:!1,implode:!1,gravity:0},emitterType:{type:"point",size:{}},count:25,rate:.1,loop:!1,burst:!0,startOn:!1,prewarm:0};return i.call(this,t)}return e=a,(n=[{key:"play",value:function(){Q.play(Nh[Uh++%Nh.length]),Mh(Vh(a.prototype),"play",this).call(this)}}])&&Lh(e.prototype,n),a}(Yo);function Xh(t){return(Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qh(t,e,n){return(qh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yh(t,e){return(Yh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hh(t,e){return!e||"object"!==Xh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qh(t){return(Qh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yh(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qh(r);if(o){var n=Qh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Hh(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this),lh.buildPool(),gh.buildPool(30),_f.buildPool(30),Kf.buildPool(12),t.particleSetCount=0,t.spawnPoint=new u,t.sparkles=new c,t.scores=new c,t.beams=new c,t.gems=new c,t.combos=new c,t.breakEmitters=new c,t.burstEmitters=new c;for(var e=0;e<5;e++){var n=new zh;t.burstEmitters.addChild(n)}for(var r=0;r<5;r++){var o=new Ih;t.breakEmitters.addChild(o)}return t.rightCornerConfettiCannon=new Uf({x:-.5,y:-.5}),t.rightCornerConfettiCannon.set({y:384}),t.leftCornerConfettiCannon=new Uf({x:.5,y:-.5}),t.leftCornerConfettiCannon.set({y:384}),t.addChild(t.rightCornerConfettiCannon,t.leftCornerConfettiCannon,t.breakEmitters,t.burstEmitters,t.sparkles,t.beams,t.scores,t.gems,t.combos),t.pointMasterSprite=new lh,t.pointMasterSprite.center(),t.mouseEnabled=t.mouseChildren=!1,t.targetGemDisplayObject=null,t}return e=a,(n=[{key:"setGemCollectionDisplayObject",value:function(t){this.targetGemDisplayObject=t}},{key:"playStarterGems",value:function(t,e){for(var n=this,r=t.localToLocal(t.regX,t.regY,this),o=this.targetGemDisplayObject.localToLocal(0,0,this),i=[],a=P.get({}),c=this.gems,s=0;s<20;s++)a.call((function(){var t=Kf.getNextParticle();t.value=50,n.gems.addChild(t),t.set(r),t.start(),i.push(t),P.get(t).wait(100).to({x:o.x,y:o.y,scale:1,alpha:1},500,R.cubicIn).call(n.targetGemDisplayObject.collect,[!0,t],n.targetGemDisplayObject).call(c.removeChild,[t],c)})),a.wait(50);P.get({}).wait(1600).call(e)}},{key:"playWordFoundParticles",value:function(t,e,n){this.particleSetCount++;var r=this._getPath(t),o=this._getTilePositions(t),i=100*t.length,a=[];this.emitSparkles(r,i,a),this.emitTileScore(o),this.emitGems(o,i,e),this.combos.addChild(new Cf(n)),P.get({}).wait(i+1e3).call(this.wrapUpParticles,[a],this)}},{key:"emitSparkles",value:function(t,e,n){var r=this,o=!1,i=new u;P.get(i,{onChange:function(){var t=gh.getNextParticle();if(r.sparkles.addChild(t),t.start(i),n.push(t),o){var e=_f.getNextParticle();r.beams.addChild(e),e.start(i),n.push(e)}o=!o}}).to({guide:{path:t}},e)}},{key:"emitGems",value:function(t,e,n){var r=this;this.particleSetCount++;for(var o=[],i=P.get({}).wait(e),a=function(e){i.call((function(){var i=t[e],a=Kf.getNextParticle();a.value=n/t.length,r.gems.addChild(a),a.set(i),a.start(),o.push(a)})),i.wait(100)},c=0;c<t.length;c++)a(c);i.wait(400).call(this.wrapUpParticles,[o],this)}},{key:"emitTileScore",value:function(t){for(var e=this,n=P.get({}),r=function(r){n.call((function(){var n=t[r],o=lh.getNextParticle();e.scores.addChild(o),o.start(n)})),n.wait(100)},o=0;o<t.length;o++)r(o)}},{key:"emitSparklesBurst",value:function(t){var e=this.breakEmitters.children.find((function(t){return t.checkReady()}));e&&(t.localToLocal(0,0,this,e),e.scale=t.scale,e.play())}},{key:"emitCornerConfettiBursts",value:function(){this.leftCornerConfettiCannon.play(),this.rightCornerConfettiCannon.play()}},{key:"onGemTweenUpdate",value:function(t){var e=Kf.getNextParticle();this.gems.addChild(e),e.start(t)}},{key:"_getPath",value:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].localToLocal(0,0,this);if(n>0){var o=e.length,i=e[o-2],a=e[o-1];e.push(i,a)}e.push(r.x,r.y)}return e}},{key:"_getTilePositions",value:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].localToLocal(0,0,this);e.push(r)}return e}},{key:"wrapUpParticles",value:function(t){for(var e,n=this.targetGemDisplayObject.localToLocal(0,0,this),r=0;r<t.length;r++){var o=t[r];if(o instanceof Kf||o instanceof _f){o.stopUpdate=!0;var i=o.parent;if(i){var a=o instanceof Kf;e=P.get(o).to({x:n.x,y:n.y,scale:1,alpha:a?1:.2},500,R.cubicIn).call(this.targetGemDisplayObject.collect,[a,o],this.targetGemDisplayObject).call(i.removeChild,[o],i)}}}e?e.call(this.checkForComplete,null,this):this.checkForComplete()}},{key:"checkForComplete",value:function(){this.particleSetCount--,this.particleSetCount<=0&&this.dispatchEvent("complete")}},{key:"_tick",value:function(t){qh(Qh(a.prototype),"_tick",this).call(this,t);var e=this.stage.canvas.width/2;this.leftCornerConfettiCannon.x=-e,this.rightCornerConfettiCannon.x=e}}])&&Gh(e.prototype,n),a}(c);function Jh(t){return(Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zh(t,e,n){return(Zh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=np(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tp(t,e){return(tp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ep(t,e){return!e||"object"!==Jh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function np(t){return(np=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tp(t,e)}(s,t);var e,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=np(o);if(i){var n=np(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ep(this,t)});function s(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this)).powerupType=t,n.config=e;var r=Rr.get("ui-ss"),o=new rs(n.config.buttonIcon),i=new c;i.set({x:-72,y:47,mouseEnabled:!1});var u=new ji(Vo,21);return u.set({text:n.cost,x:90,y:39}),i.addChild(new h(r,"plate-price"),u),n.addChild(o,i),n.button=o,n}return e=s,(n=[{key:"cost",get:function(){return this.config.cost[Jn.difficulty]}},{key:"canAfford",get:function(){return or.gemCount>=this.cost}},{key:"addListeners",value:function(){this.button.addListeners(this.onClick,this)}},{key:"removeListeners",value:function(){this.button.removeListeners()}},{key:"onClick",value:function(){var t=new r(Fr,!0);t.powerupType=this.powerupType,t.cost=this.cost,this.dispatchEvent(t)}},{key:"tweenWrong",value:function(){this.button.scale=1,this.button.mouseEnabled=!1;var t=this.button.regX;return P.get(this.button).to({regX:t+5},100,R.quadInOut).to({regX:t-5},100,R.quadInOut).to({regX:t+5},100,R.quadInOut).to({regX:t-5},100,R.quadInOut).to({regX:t},100,R.quadInOut).set({mouseEnabled:!0})}},{key:"_tick",value:function(t){Zh(np(s.prototype),"_tick",this).call(this,t),this.button.icon.alpha=this.canAfford||this.button.highlight?1:.2}}])&&Kh(e.prototype,n),s}(c);function op(t){return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ap(t,e){return(ap=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cp(t,e){return!e||"object"!==op(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sp(t){return(sp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ap(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sp(r);if(o){var n=sp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return cp(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this);var e=Ca;return Object.keys(e).forEach((function(n,r){var o=new rp(n,e[n]);o.y=182*r-170,t.addChild(o)})),t}return e=a,(n=[{key:"setActivePowerup",value:function(t){this.children.forEach((function(e){e.button.highlight=e.powerupType===t})),this.mouseChildren=!t}},{key:"setActive",value:function(t){this.children.forEach((function(e){e.removeListeners(),t&&e.addListeners()}))}}])&&ip(e.prototype,n),a}(Ol);function lp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var fp=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.sidebarItem=null,this.powerupGraphics=null,this.trackingWordData=null,this.onEndCallback=null,this.config=Ca[e],this.scoreMultipler=1}var e,n;return e=t,(n=[{key:"use",value:function(t){var e=this;this.onEndCallback=t;var n=yy.getInstance();n.bottomCharacters.show((function(){return e.onStart(n.powerupLowerLayer,n.powerupUpperLayer)}))}},{key:"foundWord",value:function(t){t&&this.trackingWordData&&t===this.trackingWordData&&this.onEnd()}},{key:"onStart",value:function(t,e){}},{key:"onEnd",value:function(){yy.getInstance().bottomCharacters.hide(),this.onEndCallback&&this.onEndCallback(),this.onEndCallback=null}}])&&lp(e.prototype,n),t}();function hp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pp=document.createElement("canvas");pp.width=pp.height=616;var yp=pp.getContext("2d"),dp=document.createElement("canvas");dp.width=dp.height=616;var vp=dp.getContext("2d");vp.fillStyle="black";var bp=new a(pp);bp.regX=bp.regY=308;var mp=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"clear",value:function(){vp.clearRect(0,0,616,616),yp.clearRect(0,0,616,616)}},{key:"effectCanvas",get:function(){return pp}},{key:"effectCanvasContext",get:function(){return yp}},{key:"maskCanvas",get:function(){return dp}},{key:"maskCanvasContext",get:function(){return vp}},{key:"canvasBitmap",get:function(){return bp}}],null&&hp(e.prototype,null),n&&hp(e,n),t}();function gp(t){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Op(t,e,n){return(Op="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _p(t,e){return(_p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sp(t,e){return!e||"object"!==gp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kp(t){return(kp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_p(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kp(r);if(o){var n=kp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Sp(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,xa)).scoreMultipler=10,t.wordFoundCount=0;var e=Rr.get("powerups-ss");return t.dotSprite=new h(e,"stroke"),t.dotSprite.set({x:370,y:324,scale:1,regX:50,regY:50}),t.offsetPoint=new u,t}return e=a,(n=[{key:"onStart",value:function(t,e){this.wordFoundCount=0,mp.clear();var n=mp.canvasBitmap,r=mp.effectCanvasContext;this.soundInstance=Q.play("powerup-timer"),this.comboSprite=new Cf(10),t.addChild(n,this.comboSprite,this.dotSprite),n.alpha=1,n.y=10,n.localToLocal(0,0,t,this.offsetPoint),this.outline=new f,this.outline.graphics.c().s("#0dbaff").ss(10,0,1).rr(13,13,590,590,20.5),this.outline.draw(r),this.dotSprite.alpha=1,P.get(this.dotSprite).to({x:0,y:-286,scale:1},600,R.cubicInOut).call(this.startCountDown,null,this)}},{key:"startCountDown",value:function(){var t=this,e=[],n=this.dotSprite.x,r=this.dotSprite.y;e.push(n,r);for(var o=[{x:.5,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:.5,y:0}],i=0;i<o.length;i++){var a=o[i],c=n+590*a.x*.5,s=r+590*a.y*.5;n+=590*a.x,r+=590*a.y,e.push(c,s,n,r)}var l=this.dotSprite.parent;this.lastPoint=new u(e[0],e[1]),P.get(this.dotSprite,{onChange:function(){return t.onDotSpriteChange(t.dotSprite)}}).to({guide:{path:e}},1e3*this.config.timeInSeconds,R.linear).call(l.removeChild,[this.dotSprite],l).call(this.onEnd,null,this)}},{key:"onDotSpriteChange",value:function(){var t=this.dotSprite,e=this.lastPoint,n=t.y-e.y,r=t.x-e.x,o=Math.atan2(n,r),i=th(t,e),a=mp.maskCanvas,c=mp.maskCanvasContext,s=mp.effectCanvasContext;c.save(),c.translate(e.x-this.offsetPoint.x,e.y-this.offsetPoint.y),c.rotate(o),c.fillRect(-10,-20,i+10,40),c.restore(),s.save(),s.clearRect(0,0,616,616),s.drawImage(a,0,0),s.globalCompositeOperation="source-out",this.outline.draw(s),s.restore(),e.x=t.x,e.y=t.y}},{key:"onEnd",value:function(){Op(kp(a.prototype),"onEnd",this).call(this),this.soundInstance.stop();var t=mp.canvasBitmap;P.get(t,{override:!0}).to({alpha:0},500,R.quadInOut),P.get(this.dotSprite,{override:!0}).to({alpha:0},400,R.quadInOut)}}])&&wp(e.prototype,n),a}(fp);function jp(t){return 180*t/Math.PI}function Pp(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=e.x-t.x,o=e.y-t.y,i=Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),a=Math.atan2(o,r);a+=jp(r>o?90:-90);var c=(t.x+e.x)/2,s=(t.y+e.y)/2;c+=Math.cos(a)*(i*n),s+=Math.sin(a)*(i*n);var u=[];return u.push(t.x,t.y),u.push(c,s),u.push(e.x,e.y),u}function Rp(t){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tp(t,e,n){return(Tp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ip(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ep(t,e){return(Ep=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bp(t,e){return!e||"object"!==Rp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ip(t){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ep(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ip(r);if(o){var n=Ip(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Bp(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this);var e=Rr.get("powerups-ss");return t.diamondSprite=new h(e,"reveal"),t.diamondSprite.center().set({snapToPixel:!1}),t.burstSprite=new h(e,"reveal-burst"),t.burstSprite.center().set({alpha:0}),t.addChild(t.burstSprite,t.diamondSprite),t}return e=a,(n=[{key:"glow",get:function(){return this._glowing},set:function(t){this._glowing=t,this.pulseTimer=0,P.get(this.burstSprite,{override:!0}).to({alpha:this._glowing?1:0},400,R.quadInOut)}},{key:"travelTo",value:function(t,e,n,r){this.set(t),P.get(this).to({guide:{path:e},scale:n},1e3,R.cubicInOut).call(r.addChild,[this],r).set({glow:!0})}},{key:"removeSelf",value:function(){this.glow=!1;var t=this.parent;t&&P.get(this).to({scale:1.2,alpha:0},400,R.backIn).call(t.removeChild,[this],t)}},{key:"_tick",value:function(t){Tp(Ip(a.prototype),"_tick",this).call(this,t),this._glowing?(this.pulseTimer+=t.delta,this.diamondSprite.scale=1+.1*Math.sin(this.pulseTimer/400)):this.diamondSprite.scale=1}}])&&Cp(e.prototype,n),a}(c);function Lp(t){return(Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dp(t,e,n){return(Dp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Fp(t,e){return(Fp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vp(t,e){return!e||"object"!==Lp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wp(t){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Np={x:370,y:324,scale:0},Up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fp(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wp(r);if(o){var n=Wp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Vp(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,Sa)}return e=a,(n=[{key:"onStart",value:function(t,e){var n=Pc.current.getUnsolvedWord();if(n){Q.play("powerup-first-last"),this.trackingWordData=n;var r=new Ap,o=new Ap;e.addChild(r,o);var i=n.startTile.scale,a=n.startTile.localToLocal(0,-4,e),c=n.endTile.localToLocal(0,-4,e),s=Pp(Np,a,.2),u=Pp(Np,c,.2);r.travelTo(Np,s,i,t),o.travelTo(Np,u,i,t),this.sprites=[r,o]}}},{key:"onEnd",value:function(){Dp(Wp(a.prototype),"onEnd",this).call(this),this.sprites.forEach((function(t){return t.removeSelf()})),this.sprites=null}}])&&Mp(e.prototype,n),a}(fp);function zp(t){return(zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gp(t,e,n){return(Gp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qp(t,e){return(qp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yp(t,e){return!e||"object"!==zp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hp(t){return(Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qp=[[{x:-1,y:-1},{x:0,y:-1},{x:0,y:-1}],[{x:0,y:-1},{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:-1,y:0},{x:0,y:1}],[{x:-1,y:0},{x:-1,y:-1},{x:-1,y:0}]],$p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qp(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hp(r);if(o){var n=Hp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yp(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,ka);var e=Rr.get("powerups-ss");return t.dotSprite=new h(e,"stroke"),t.dotSprite.set({x:370,y:324,scale:1,regX:50,regY:50}),t.outline=new f,t.offsetPoint=new u,t}return e=a,(n=[{key:"onStart",value:function(t,e){var n=Pc.current.getUnsolvedWord();if(n){Q.play("powerup-highlight-word"),mp.clear();var r=mp.canvasBitmap;t.addChild(r),e.addChild(this.dotSprite),r.alpha=1,r.y=10,r.localToLocal(0,0,t,this.offsetPoint);var o=n.tileDatas,i=this.drawOutline(o);this.dotSprite.alpha=1,P.get(this.dotSprite).to({x:i[0],y:i[1],scale:1},600,R.cubicInOut).call(this.startTrace,[i],this)}}},{key:"drawOutline",value:function(t){for(var e={x:100,y:100},n=0;n<t.length;n++){var r=t[n];(r.x<e.x||r.x===e.x&&r.y<e.y)&&(e=r)}function o(t,e,n){return t.x+e.x===n.x&&t.y+e.y===n.y}for(var i=new u(e.x,e.y),a=[i],c=500,s=0;c>0;){c--;for(var l=!1,f=0+s;f<Qp.length+s&&!l;f++)for(var h=Qp[f%4],p=h[0],y=h[1],d=0;d<t.length&&!l;d++){var v=t[d];if((o(i,p,v)?1:0)+(o(i,y,v)?1:0)){var b=h[2];i=new u(i.x+b.x,i.y+b.y),a.push(i),s=f>0?f-1:3,l=!0}}a.length>4&&a[a.length-1].x===a[0].x&&a[a.length-1].x===a[0].x&&(c=0)}var m=t[0].tile.scale,g=hc*m,w=[],O=this.outline.graphics;O.c().s("#0dbaff").ss(10,1,1);var _,S,k=new u;e.tile.localToLocal(0,0,this.dotSprite.parent,k),k.x-=g/2,k.y-=g/2,k.x-=a[0].x*g,k.y-=a[0].y*g;for(var x=0;x<a.length+1;x++){var j=a[x%a.length],P=j.x*g+k.x,R=j.y*g+k.y;if(x>0){var C=(_+P)/2,T=(S+R)/2;w.push(C,T)}w.push(P,R),0===x?O.mt(P,R):O.lt(P,R),_=P,S=R}return w}},{key:"startTrace",value:function(t){var e=this,n=this.dotSprite.parent;this.lastPoint=new u(t[0],t[1]),P.get(this.dotSprite,{onChange:function(){return e.onDotSpriteChange()}}).to({guide:{path:t}},1500,R.linear).call(n.removeChild,[this.dotSprite],n).wait(1e3*this.config.autoRemoveTime).call(this.fadeOutPowerup,null,this)}},{key:"onDotSpriteChange",value:function(){var t=this.dotSprite,e=this.lastPoint,n=t.y-e.y,r=t.x-e.x,o=Math.atan2(n,r),i=th(t,e),a=mp.maskCanvas,c=mp.maskCanvasContext,s=mp.effectCanvasContext;c.save(),c.translate(e.x-this.offsetPoint.x,e.y-this.offsetPoint.y),c.rotate(o),c.fillRect(-10,-20,i+10,40),c.restore(),s.save(),s.clearRect(0,0,616,616),s.drawImage(a,0,0),s.globalCompositeOperation="source-in",s.translate(-this.offsetPoint.x,-this.offsetPoint.y),this.outline.draw(s),s.restore(),e.x=t.x,e.y=t.y}},{key:"onEnd",value:function(){Gp(Hp(a.prototype),"onEnd",this).call(this);var t=mp.canvasBitmap;P.get(t,{override:!0}).to({alpha:0},500,R.quadInOut),P.get(this.dotSprite,{override:!0}).to({alpha:0},400,R.quadInOut)}},{key:"fadeOutPowerup",value:function(){var t=mp.canvasBitmap;P.get(t).to({alpha:0},500,R.quadInOut).call(this.onEnd,null,this)}}])&&Xp(e.prototype,n),a}(fp);function Jp(t){return(Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zp(t,e,n){return(Zp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ny(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ty(t,e){return(ty=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ey(t,e){return!e||"object"!==Jp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ny(t){return(ny=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ry={x:370,y:324,scale:0},oy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ty(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ny(r);if(o){var n=ny(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ey(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,ja)}return e=a,(n=[{key:"onStart",value:function(t,e){var n=Pc.current.getUnsolvedWord();if(n){Q.play("powerup-first-last"),this.trackingWordData=n;var r=new Ap;e.addChild(r);var o=n.startTile.scale,i=n.startTile.localToLocal(0,-4,e),a=Pp(ry,i,.2);r.travelTo(ry,a,o,t),this.sprites=[r]}}},{key:"onEnd",value:function(){Zp(ny(a.prototype),"onEnd",this).call(this),this.sprites.forEach((function(t){return t.removeSelf()})),this.sprites=null}}])&&Kp(e.prototype,n),a}(fp);function iy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ay(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var cy=function(){function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.powerups=(iy(e={},Sa,new Up),iy(e,ka,new $p),iy(e,xa,new xp),iy(e,ja,new oy),e),this._buttonContainer=null}var e,n;return e=t,(n=[{key:"buttonContainer",get:function(){return this._buttonContainer},set:function(t){this._buttonContainer=t}},{key:"usePowerup",value:function(t){var e=this,n=this.powerups[t];n&&(this.activePowerup=n,this.buttonContainer.setActivePowerup(t),n.use((function(){return e.endPowerup()})),or.addPowerupUse(n.type))}},{key:"endPowerup",value:function(){var t=this.activePowerup;this.activePowerup=!1,this.buttonContainer.setActivePowerup(!1),t.type===xa&&1===or.getPowerupUseCount(xa)&&D.getCurrentScene().puzzleView.showInnerView(La)}},{key:"clear",value:function(){this.activePowerup&&(this.activePowerup.onEnd(),this.activePowerup=null)}},{key:"foundWord",value:function(t){t&&this.activePowerup&&this.activePowerup.foundWord(t)}}])&&ay(e.prototype,n),t}();function sy(t){return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ly(t,e,n){return(ly="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=py(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fy(t,e){return(fy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hy(t,e){return!e||"object"!==sy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function py(t){return(py=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fy(t,e)}(s,t);var e,n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=py(o);if(i){var n=py(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return hy(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).visible=!1,t.wordFoundTimer=0,t.build(),t}return e=s,r=[{key:"getInstance",value:function(){return D.currentScene.puzzleView}}],(n=[{key:"build",value:function(){this.gameboard=new sl,this.gameboard.set({y:1200}),this.powerupManager=new cy,this.leftSideBar=new up,this.powerupManager.buttonContainer=this.leftSideBar,this.rightSideBar=new Ol(-1),this.levelLabel=new Al,this.levelLabel.set({y:-192}),this.levelGems=new Rl(this.gameboard),this.levelGems.set({y:-10}),this.nextLevelButton=new uo("confirm","confirm"),this.nextLevelButton.show=!1,this.nextLevelButton.set({x:512,y:210,visible:!1}),this.shuffleButton=new rs("icon-shuffle"),this.shuffleButton.set({y:210}),this.rightSideBar.addChild(this.levelLabel,this.levelGems,this.shuffleButton),this.topGameInfo=new of,this.topGameInfo.set({y:-384}),this.particlesContainer=new $h,this.particlesContainer.setGemCollectionDisplayObject(this.levelGems),this.bottomCharacters=new yl,this.powerupUpperLayer=new c,this.powerupLowerLayer=new c,this.tutorialHand=new us,this.addChild(this.rightSideBar,this.leftSideBar,this.nextLevelButton,this.gameboard,this.powerupLowerLayer,this.bottomCharacters,this.powerupUpperLayer,this.topGameInfo,this.particlesContainer,this.tutorialHand),this.createNextBoard()}},{key:"show",value:function(t){this.visible=!0,this.leftSideBar.show(),this.rightSideBar.show(),this.gameboard.show(),P.get(this).wait(600).call(t)}},{key:"hide",value:function(t){this.setActive(!1),this.powerupManager.clear(),this.leftSideBar.hide(),this.rightSideBar.hide(),this.gameboard.hide(),P.get(this).wait(800).call(t)}},{key:"start",value:function(){this.setActive(!0),or.isPlayerNew()&&this.showInnerView(Ba)}},{key:"setActive",value:function(t){this.leftSideBar.setActive(t),this.nextLevelButton.removeListeners(),this.shuffleButton.removeListeners(),this.gameboard.removeAllEventListeners(),t&&(this.nextLevelButton.addListeners(this.onNextLevelButtonClick,this),this.shuffleButton.addListeners(this.onShuffleClick,this),this.gameboard.on(Lr,this.onTileBurstComplete,this),this.gameboard.on(Dr,this.onWordFind,this),this.gameboard.on(Mr,this.onSelectionUpdate,this),this.gameboard.on(Ir,this.onInnerViewEvent,this),this.gameboard.on(Ar,this.onTileBurst,this),this.leftSideBar.on(Fr,this.onPowerUpSelect,this))}},{key:"showInnerView",value:function(t,e){this.gameboard.innerViewContainer.show(t,e)}},{key:"onInnerViewEvent",value:function(t){var e=this,n=t.action;if(n===Ma){var r=t.data;return this.particlesContainer.playStarterGems(r,(function(){t.hide(),P.get({}).wait(500).call(e.onFirstPlay,null,e)})),or.addGems(1e3),void or.removeNewPlayerStatus()}switch(t.hide(),n){case Da:this.nextLevelButton.show=!1,this.createNextBoard();break;case Fa:this.gameboard.hide(),this.playLevelUpAnimation()}}},{key:"onFirstPlay",value:function(){this.tutorialHand.showTileDrag(this.gameboard.tiles),ko.play("vo-4")}},{key:"onShuffleClick",value:function(){this.gameboard.shuffling||this.gameboard.shuffleTiles()}},{key:"playLevelUpAnimation",value:function(){var t=this;this.levelUpAnimation=new $c(this.gameboard.levelData.level+1,(function(){return t.onLevelUpAnimationComplete()})),this.addChild(this.levelUpAnimation)}},{key:"onLevelUpAnimationComplete",value:function(){this.createNextBoard(),this.leftSideBar.show(),this.rightSideBar.show(),this.gameboard.show()}},{key:"onNextLevelButtonClick",value:function(){this.nextLevelButton.show=!1,this.showInnerView(Ia,{levelUp:this.gameboard.levelData.finalStage})}},{key:"onPowerUpSelect",value:function(t){var e=this,n=t.powerupType;or.gemCount>=t.cost?this.showInnerView(Aa,{cost:t.cost,powerupType:n,onCancel:function(){return e.onPowerupCancel(n)},onConfirm:function(){return e.onPowerUpConfirm(t.cost,n)}}):(this.topGameInfo.showPowerCostFail(),t.target.tweenWrong())}},{key:"onPowerUpConfirm",value:function(t,e){or.useGems(t),this.levelGems.spend(t),this.powerupManager.usePowerup(e)}},{key:"onPowerupCancel",value:function(){}},{key:"onTileBurst",value:function(t){this.topGameInfo.clear(),this.particlesContainer.emitSparklesBurst(t.tile)}},{key:"createNextBoard",value:function(){var t=or.getLevelProgress(),e=new Pc(t.level,t.stage,Jn.difficulty,yr.currentIp);this.levelLabel.refresh(),this.gameboard.createNewBoard(e)}},{key:"onWordFind",value:function(t){this.shuffleButton.pulse=!1,this.wordFoundTimer=0,or.addWordFound(),1===or.wordsFounds?ko.play("vo-16a"):t.isBonusWord&&(t.isRepeatBonus?ko.play("vo-6"):ko.play("vo-5"));var e=this.powerupManager.activePowerup;if(e&&e.type===xa?Q.play("combo-find-word-"+(e.wordFoundCount++%3+1)):t.isBonusWord?Q.play("find-bonus-word"):t.boardCompleted?Q.play("find-word-last"):Q.play("find-word"),t.isBonusWord){if(t.isRepeatBonus)return void this.topGameInfo.showRepeatWordNotification();Q.play("find-bonus-word"),this.topGameInfo.showBonusWordNotification()}t.isBonusWord||this.powerupManager.foundWord(t.wordData);var n=t.tiles,r=5*n.length,o=n.length*(e?e.scoreMultipler:1);r*=o,or.addGems(r),this.particlesContainer.playWordFoundParticles(t.tiles,r,o),t.boardCompleted&&this.onBoardComplete()}},{key:"onSelectionUpdate",value:function(t){this.topGameInfo.updateWord(t.word)}},{key:"onBoardComplete",value:function(){or.completeLevel(),this.shuffleButton.show=!1,this.powerupManager.clear(),this.particlesContainer.on("complete",this.onParticlesComplete,this,!0),P.get(this.particlesContainer).wait(3e3).call(this.onParticlesComplete,null,this)}},{key:"onParticlesComplete",value:function(t){t&&t.remove&&t.remove(),P.removeTweens(this.particlesContainer),this.gameboard.innerViewContainer.visible?this.gameboard.innerViewContainer.on(iu,this.onParticlesComplete,this,!0):this.gameboard.levelData.finalStage?(this.gameboard.addPayoffDisplay(),this.playPayoffReveal()):this.showInnerView(Ia)}},{key:"playPayoffReveal",value:function(){var t=this;Q.play("unlock-gif-2"),this.leftSideBar.hide(),this.rightSideBar.hide(),P.get(this.gameboard).to({scale:1.1},4e3,R.linear),this.gameboard.revealEmitter.play((function(){return t.playPayoffBursts()}))}},{key:"playPayoffBursts",value:function(){this.gameboard.revealEmitter.stop(),this.gameboard.burstEmitter.play(),this.particlesContainer.emitCornerConfettiBursts(),this.gameboard.scale=1.1,P.get(this.gameboard).to({scale:1},1e3,R.elasticOut),ko.play("vo-15"),this.topGameInfo.showLevelEndHint(),this.gameboard.enableLevelCompleteInteraction()}},{key:"onTileBurstComplete",value:function(){this.nextLevelButton.show=!0,this.nextLevelButton.pulse=!0}},{key:"_tick",value:function(t){ly(py(s.prototype),"_tick",this).call(this,t);var e=this.gameboard.gameActive;this.leftSideBar.mouseEnabled=this.shuffleButton.mouseEnabled=e,this.shuffleButton.show=!this.bottomCharacters.visible&&!this.nextLevelButton.show,e&&!this.powerupManager.activePowerup&&(this.wordFoundTimer+=t.delta/1e3,this.wordFoundTimer>60&&!1===this.shuffleButton.pulse?this.shuffleButton.pulse=!0:this.wordFoundTimer>120&&!this.powerupManager.activePowerup&&(this.shuffleButton.pulse=!1,this.powerupManager.usePowerup(ja)));var n=Zf(this.stage.canvas.width,1024,1664,422,480);this.leftSideBar.x=-n,this.nextLevelButton.x=this.rightSideBar.x=n}},{key:"destroy",value:function(){}}])&&uy(e.prototype,n),r&&uy(e,r),s}(To);const dy=JSON.parse('{"Title":[{"id":"title-background","src":"assets/images/titlescreen.jpg"},{"id":"title-play-btn","src":"assets/images/title-play-button.png"}],"Preloader":[{"id":"loader-background","src":"assets/images/background-loader.jpg"},{"id":"loader-ss","src":"assets/spritesheets/loader-ss.json","type":"spritesheet"}],"Game":[{"id":"font-disney","src":"assets/fonts/placard-disney-channel.css","type":"fontcss"},{"id":"font-poppins","src":"assets/fonts/poppins.css","type":"fontcss"},{"id":"font-anton","src":"assets/fonts/anton.css","type":"fontcss"},{"id":"tutorial-hand","src":"assets/images/hand-tut.png"},{"id":"bottom-gradient","src":"assets/images/gradient.png"},{"id":"ui-ss","src":"assets/spritesheets/ui-ss.json","type":"spritesheet"},{"id":"game-ss","src":"assets/spritesheets/game-ss.json","type":"spritesheet"},{"id":"particles-ss","src":"assets/spritesheets/particles-ss.json","type":"spritesheet"},{"id":"powerups-ss","src":"assets/spritesheets/powerups-ss.json","type":"spritesheet"},{"id":"tile-highlight-cap","src":"assets/images/gameboard/tile-highlight-cap.png"},{"id":"tile-highlight-corner","src":"assets/images/gameboard/tile-highlight-corner.png"},{"id":"tile-highlight-straight","src":"assets/images/gameboard/tile-highlight-straight.png"},{"id":"gameboard-background","src":"assets/images/gameboard/gameboard-background.png"},{"id":"gameboard-border-fx","src":"assets/images/gameboard/gameboard-border-fx.png"}]}');function vy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function by(t){var e,n=[],r=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vy(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=n.concat(dy[o])}}catch(t){r.e(t)}finally{r.f()}return n}function my(t){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e,n){return(wy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Oy(t,e){return(Oy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _y(t,e){return!e||"object"!==my(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sy(t){return(Sy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ky=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oy(t,e)}(c,t);var e,n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sy(o);if(i){var n=Sy(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _y(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,t,e))._state=!1,n}return e=c,r=[{key:"preload",value:function(){return Rr.loadManifest(by(["Game"]))}}],(n=[{key:"state",get:function(){return this._state},set:function(t){var e=this._state;this._state=t,this._updateState(this._state,e)}},{key:"setup",value:function(){wy(Sy(c.prototype),"setup",this).call(this),this.homeButton=new uo("small","home"),this.homeButton.autoRemoveListeners=!1,this.soundButton=new bo,this.soundButton.autoRemoveListeners=!1,this.showLogo=new Hr,this.loadingView=new ra,this.difficultySelectView=new Do,this.levelStartView=new Fi,this.menuScrollerView=new _a,this.addChild(this.showLogo,this.soundButton,this.homeButton)}},{key:"start",value:function(){wy(Sy(c.prototype),"start",this).call(this),this.state=0}},{key:"setActive",value:function(t){wy(Sy(c.prototype),"setActive",this).call(this,t),this.menuScrollerView.setActive(t),this.menuScrollerView.removeAllEventListeners(Cr),this.difficultySelectView.removeAllEventListeners(Tr),this.levelStartView.removeAllEventListeners(Er),this.loadingView.removeAllEventListeners(Br),this.soundButton.removeListeners(),this.homeButton.removeListeners(),t&&(this.soundButton.addListeners(),this.homeButton.addListeners(this.onHomeButton,this),this.menuScrollerView.on(Cr,this.onShowSelect,this),this.difficultySelectView.on(Tr,this.onDifficultySelect,this),this.levelStartView.on(Er,this.onLevelStartClick,this),this.loadingView.on(Br,this.onLoadStart,this))}},{key:"onShowSelect",value:function(t){Jn.ip=t.ipData.name,this.state=1}},{key:"onDifficultySelect",value:function(t){Jn.difficulty=t.difficulty,this.state=2}},{key:"onLevelStartClick",value:function(t){this.state=3}},{key:"onLoadStart",value:function(){this._loadLevel()}},{key:"onHomeButton",value:function(){this.state=4===this.state?2:0}},{key:"_updateState",value:function(t,e){var n=this;this.mouseChildren=!1,this.homeButton.visible=t>0,this.soundButton.visible=0===t,this.homeButton.subType=t>=3?"back":"home";var r=this._getStateView(e),o=this._getStateView(t),i=o.includeLogo;new Promise((function(t){r?r.hide(t):t()})).then((function(){return new Promise((function(t){r&&n.removeChild(r),n.addChild(o),o.show(t)}))})).then((function(){return new Promise((function(t){n.mouseChildren=!0,o.start(t)}))})).then((function(){4!==t&&n.puzzleView&&n._removePuzzleView()})),i?this.showLogo.show():this.showLogo.hide()}},{key:"_getStateView",value:function(t){switch(t){case 0:return this.menuScrollerView;case 1:return this.difficultySelectView;case 2:return this.levelStartView;case 3:return this.loadingView;case 4:return this.puzzleView}return!1}},{key:"_loadLevel",value:function(){var t=this;yr.currentIp.loadGameAssets().then((function(){return t._gotoPuzzleView()}))}},{key:"_gotoPuzzleView",value:function(){this.puzzleView=new yy,this.addChild(this.puzzleView),this.state=4}},{key:"_removePuzzleView",value:function(){this.puzzleView&&(this.puzzleView.destroy(),this.removeChild(this.puzzleView),this.puzzleView=null)}},{key:"_tick",value:function(t){wy(Sy(c.prototype),"_tick",this).call(this,t);var e=this.stage;if(e){var n=e.canvas.width,r=e.canvas.height;this.homeButton&&this.soundButton&&(this.soundButton.x=this.homeButton.x=-n/2+70,this.soundButton.y=this.homeButton.y=-r/2+70)}}},{key:"destroy",value:function(){wy(Sy(c.prototype),"destroy",this).call(this),yr.removeAllEventListeners()}}])&&gy(e.prototype,n),r&&gy(e,r),c}(I);function xy(t){return(xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Py(t,e,n){return(Py="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ty(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ry(t,e){return(Ry=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cy(t,e){return!e||"object"!==xy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ty(t){return(Ty=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ey=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ry(t,e)}(s,t);var e,n,r,o,i,c=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ty(o);if(i){var n=Ty(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Cy(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),c.call(this,t,e)}return e=s,r=[{key:"preload",value:function(){return Rr.loadManifest(by(["Title","Preloader"]))}}],(n=[{key:"setup",value:function(){var t=new a(Rr.get("title-background"));t.center();var e=this.playBtn=new eo(new a(Rr.get("title-play-btn")).center());return e.set({y:232,scale:0,show:!1}),this.addChild(t,e),Py(Ty(s.prototype),"setup",this).call(this)}},{key:"animateIn",value:function(){return this.playBtn.show=!0,Py(Ty(s.prototype),"animateIn",this).call(this)}},{key:"setActive",value:function(t){Py(Ty(s.prototype),"setActive",this).call(this,t),this.playBtn.removeListeners(),t&&this.playBtn.addListeners(this._onPlayClick,this)}},{key:"start",value:function(){Py(Ty(s.prototype),"start",this).call(this),this.playBtn.pulse=!0,zn("skipTitle",!1)&&D.gotoScene(J,null,"Preloader")}},{key:"_onPlayClick",value:function(){this.setActive(!1),ko.play("vo-18"),P.get(this).wait(1200).call((function(){D.gotoScene(J,null,"Preloader")}))}}])&&jy(e.prototype,n),r&&jy(e,r),s}(I);function By(t){return(By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Iy(t,e){return(Iy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ay(t,e){return!e||"object"!==By(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ly(t){return(Ly=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var My=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iy(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Ly(e);if(n){var o=Ly(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ay(this,t)});function o(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,t,e)}return o}(V);function Dy(t){return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fy(t){return function(t){if(Array.isArray(t))return Vy(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vy(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ny(t,e,n){return(Ny="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Uy(t,e){return(Uy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zy(t,e){return!e||"object"!==Dy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xy(t){return(Xy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uy(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xy(r);if(o){var n=Xy(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return zy(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,t,e)).time=0,n}return e=c,(n=[{key:"setup",value:function(){var t=new a(Rr.get("loader-background"));return t.center(),this.preloader=new Ji,this.loaderStatus=new v("Loader Init","20px Arial","red"),this.loaderStatus.textAlign="center",this.loaderStatus.y=340,this.addChild(t,this.preloader),Ny(Xy(c.prototype),"setup",this).call(this)}},{key:"animateIn",value:function(){var t=this;return new Promise((function(e){t.preloader.show(e)}))}},{key:"animateOut",value:function(){return this.preloader.hide(),Ny(Xy(c.prototype),"animateOut",this).call(this)}},{key:"loadAssets",value:function(){var t=this;return new Promise((function(e){t.loadDataFiles().then((function(){return t.parseDataFiles()})).then((function(){return t.loadIPMenuAssets()})).then((function(){return t.onIPMenuAssetsComplete()})).then((function(){return t.loadAudio()})).then(e)}))}},{key:"loadDataFiles",value:function(){return this.loaderStatus.text="Loading Data Files",new Promise((function(t){return Rr.loadManifest([{id:"wordDatabase",src:"assets/data/words-database.json"},{id:"genericWordList",src:"assets/data/words-generic.json"},{id:"ipData",src:"assets/ips/config.json"}]).then(t)}))}},{key:"parseDataFiles",value:function(){this.loaderStatus.text="Parsing Data Files";var t=Rr.get("ipData");yr.parseJSON(t);var e=Rr.get("genericWordList"),n=Rr.get("wordDatabase");Sc.setFullWordData(n),Sc.setGenericWordList(e),or.init()}},{key:"loadIPMenuAssets",value:function(){return this.loaderStatus.text="Loading Main Assets",Promise.all(yr.loadIPMenuAssets())}},{key:"onIPMenuAssetsComplete",value:function(){return this.loaderStatus.text="IP Menu Assets Complete",kr.addBackgrounds(),yr.setStartIP(),Promise.resolve()}},{key:"loadAudio",value:function(){this.loaderStatus.text="Loading SFX";var t=[];return t.push.apply(t,Fy(N.list.map((function(t){return{id:t.id,src:N.basePath+t.src}})))),t.push.apply(t,Fy(W.list.map((function(t){return{id:t.id,src:W.basePath+t.src}})))),new Promise((function(e){return Rr.loadManifest(t,!0).then(e)}))}}])&&Wy(e.prototype,n),c}(V);function qy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Yy=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.paused=!1,this.initStage(),this.initInput(),this.initTicker(),this.initScaleManager(),this.initScenes(),this.initVisiblityManager(),this.initOnLoad(),le.volume=.85,this.sceneContainer=D,Q.setSoundData("vo",W),Q.setSoundData("sfx",N),this.audioPlayer=Q}var e,n;return e=t,(n=[{key:"initStage",value:function(){(this.stage=new d("gameCanvas",{transparent:!0})).set({snapToPixelEnabled:!0})}},{key:"initInput",value:function(){var t=this.stage;!1===m.enable(t,!0)&&t.enableMouseOver()}},{key:"initTicker",value:function(){b.timingMode=b.RAF,b.maxDelta=40,b.on("tick",this.update,this)}},{key:"initScaleManager",value:function(){var t=this;this.scaleManager=new B({canvasElement:document.getElementById("gameCanvas"),contentElement:document.getElementById("content"),containerElement:document.body,alignMode:"centerBoth",scaleMode:C,width:1024,maxWidth:1664,height:768,maxHeight:768}),this.scaleManager.onResize=function(){t.updateViewport(),t.stage.update({delta:0})},this.updateViewport()}},{key:"initVisiblityManager",value:function(){var t=this;this.visibilityManager=new class{constructor(t){this.callback="function"==typeof t?t:()=>{},this._vendorHidden=this._getVendorHidden(),this._vendorVisibility=this._getVendorVisibility(),this._vendorHidden&&this._vendorVisibility&&document.addEventListener(this._vendorVisibility,(()=>this._handleVisibilityChange()),!1)}_getVendorHidden(){return void 0!==document.hidden?"hidden":void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":null}_getVendorVisibility(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychange":null}_handleVisibilityChange(){this.callback(!document[this._vendorHidden])}}((function(e){return t.onVisibilityChange(e)}))}},{key:"updateViewport",value:function(){this.stage.isWebGL&&this.stage.updateViewport(this.stage.canvas.width,this.stage.canvas.height)}},{key:"initScenes",value:function(){var t=D.getInstance();this.stage.addChild(kr,t),D.registerDefaultTransition(My),D.registerTransition("Preloader",Gy),D.registerScene($,Ey),D.registerScene(J,ky)}},{key:"initOnLoad",value:function(){var t=this,e=window.abcdm;e?(e.abc.com.GameApis.apiLoadComplete=function(){return t.boot()},e.abc.com.GameApis.onActivated=function(){return t.onVisibilityChange(!0)},e.abc.com.GameApis.onSuspended=function(){return t.onVisibilityChange(!1)},e.abc.com.GameApis.onClose=function(){return e.abc.com.GameApis.gameCloseComplete()}):window.addEventListener("load",(function(){return t.boot()}),!1)}},{key:"boot",value:function(){D.gotoScene($),yr.on(pr,this.onIPChange,this)}},{key:"update",value:function(t){t.paused||this.stage.update(t)}},{key:"onIPChange",value:function(t){le.play(t.ip.name)}},{key:"onVisibilityChange",value:function(t){this.paused===t&&(t?(x.volume=void 0===x.volumeBefore?1:x.volumeBefore,b.paused=!1,le.play(),this.paused=!1):(x.volumeBefore=x.volume,x.volume=0,b.paused=!0,le.stop(),this.paused=!0))}}])&&qy(e.prototype,n),t}();createjs.MotionGuidePlugin.install();var Hy=new Yy;window.app=Hy},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,e,n)=>{var r=n(5112),o=n(30),i=n(3070),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),t.exports=function(t){c[a][t]=!0}},1530:(t,e,n)=>{"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5787:t=>{t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},1285:(t,e,n)=>{"use strict";var r=n(7908),o=n(1400),i=n(7466);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,u=void 0===s?n:o(s,n);u>c;)e[c++]=t;return e}},8533:(t,e,n)=>{"use strict";var r=n(2092).forEach,o=n(9341)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},8457:(t,e,n)=>{"use strict";var r=n(9974),o=n(7908),i=n(3411),a=n(7659),c=n(7466),s=n(6135),u=n(1246);t.exports=function(t){var e,n,l,f,h,p,y=o(t),d="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,m=void 0!==b,g=u(y),w=0;if(m&&(b=r(b,v>2?arguments[2]:void 0,2)),null==g||d==Array&&a(g))for(n=new d(e=c(y.length));e>w;w++)p=m?b(y[w],w):y[w],s(n,w,p);else for(h=(f=g.call(y)).next,n=new d;!(l=h.call(f)).done;w++)p=m?i(f,b,[l.value,w],!0):l.value,s(n,w,p);return n.length=w,n}},1318:(t,e,n)=>{var r=n(5656),o=n(7466),i=n(1400),a=function(t){return function(e,n,a){var c,s=r(e),u=o(s.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:(t,e,n)=>{var r=n(9974),o=n(8361),i=n(7908),a=n(7466),c=n(5417),s=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,h=7==t,p=5==t||f;return function(y,d,v,b){for(var m,g,w=i(y),O=o(w),_=r(d,v,3),S=a(O.length),k=0,x=b||c,j=e?x(y,S):n||h?x(y,0):void 0;S>k;k++)if((p||k in O)&&(g=_(m=O[k],k,w),t))if(e)j[k]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return k;case 2:s.call(j,m)}else switch(t){case 4:return!1;case 7:s.call(j,m)}return f?-1:u||l?l:j}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},1194:(t,e,n)=>{var r=n(7293),o=n(5112),i=n(7392),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,n)=>{"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},5417:(t,e,n)=>{var r=n(111),o=n(3157),i=n(5112)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},3411:(t,e,n)=>{var r=n(9670),o=n(9212);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){throw o(t),e}}},7072:(t,e,n)=>{var r=n(5112)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,n)=>{var r=n(1694),o=n(4326),i=n(5112)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},9920:(t,e,n)=>{var r=n(6656),o=n(3887),i=n(1236),a=n(3070);t.exports=function(t,e){for(var n=o(e),c=a.f,s=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||c(t,l,s(e,l))}}},8544:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,n)=>{"use strict";var r=n(3383).IteratorPrototype,o=n(30),i=n(9114),a=n(8003),c=n(7497),s=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),c[u]=s,t}},8880:(t,e,n)=>{var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,n)=>{"use strict";var r=n(7593),o=n(3070),i=n(9114);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},654:(t,e,n)=>{"use strict";var r=n(2109),o=n(4994),i=n(9518),a=n(7674),c=n(8003),s=n(8880),u=n(1320),l=n(5112),f=n(1913),h=n(7497),p=n(3383),y=p.IteratorPrototype,d=p.BUGGY_SAFARI_ITERATORS,v=l("iterator"),b="keys",m="values",g="entries",w=function(){return this};t.exports=function(t,e,n,l,p,O,_){o(n,e,l);var S,k,x,j=function(t){if(t===p&&E)return E;if(!d&&t in C)return C[t];switch(t){case b:case m:case g:return function(){return new n(this,t)}}return function(){return new n(this)}},P=e+" Iterator",R=!1,C=t.prototype,T=C[v]||C["@@iterator"]||p&&C[p],E=!d&&T||j(p),B="Array"==e&&C.entries||T;if(B&&(S=i(B.call(new t)),y!==Object.prototype&&S.next&&(f||i(S)===y||(a?a(S,y):"function"!=typeof S[v]&&s(S,v,w)),c(S,P,!0,!0),f&&(h[P]=w))),p==m&&T&&T.name!==m&&(R=!0,E=function(){return T.call(this)}),f&&!_||C[v]===E||s(C,v,E),h[e]=E,p)if(k={values:j(m),keys:O?E:j(b),entries:j(g)},_)for(x in k)(d||R||!(x in C))&&u(C,x,k[x]);else r({target:e,proto:!0,forced:d||R},k);return k}},7235:(t,e,n)=>{var r=n(857),o=n(6656),i=n(6061),a=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},9781:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:(t,e,n)=>{var r=n(8113);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},5268:(t,e,n)=>{var r=n(4326),o=n(7854);t.exports="process"==r(o.process)},1036:(t,e,n)=>{var r=n(8113);t.exports=/web0s(?!.*chrome)/i.test(r)},8113:(t,e,n)=>{var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:(t,e,n)=>{var r,o,i=n(7854),a=n(8113),c=i.process,s=c&&c.versions,u=s&&s.v8;u?o=(r=u.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var r=n(7854),o=n(1236).f,i=n(8880),a=n(1320),c=n(3505),s=n(9920),u=n(4705);t.exports=function(t,e){var n,l,f,h,p,y=t.target,d=t.global,v=t.stat;if(n=d?r:v?r[y]||c(y,{}):(r[y]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(p=o(n,l))&&p.value:n[l],!u(d?l:y+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;s(h,f)}(t.sham||f&&f.sham)&&i(h,"sham",!0),a(n,l,h,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,e,n)=>{"use strict";n(4916);var r=n(1320),o=n(7293),i=n(5112),a=n(2261),c=n(8880),s=i("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),h=!!/./[f]&&""===/./[f]("a","$0"),p=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var y=i(t),d=!o((function(){var e={};return e[y]=function(){return 7},7!=""[t](e)})),v=d&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[y]=/./[y]),n.exec=function(){return e=!0,null},n[y](""),!e}));if(!d||!v||"replace"===t&&(!u||!l||h)||"split"===t&&!p){var b=/./[y],m=n(y,""[t],(function(t,e,n,r,o){return e.exec===a?d&&!o?{done:!0,value:b.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),g=m[0],w=m[1];r(String.prototype,t,g),r(RegExp.prototype,y,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}f&&c(RegExp.prototype[y],"sham",!0)}},9974:(t,e,n)=>{var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},7065:(t,e,n)=>{"use strict";var r=n(3099),o=n(111),i=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?c(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},5005:(t,e,n)=>{var r=n(857),o=n(7854),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},1246:(t,e,n)=>{var r=n(648),o=n(7497),i=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},647:(t,e,n)=>{var r=n(7908),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,s,u,l){var f=n+t.length,h=s.length,p=c;return void 0!==u&&(u=r(u),p=a),i.call(l,p,(function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(f);case"<":a=u[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>h){var l=o(c/10);return 0===l?r:l<=h?void 0===s[l-1]?i.charAt(1):s[l-1]+i.charAt(1):r}a=s[c-1]}return void 0===a?"":a}))}},7854:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:t=>{t.exports={}},842:(t,e,n)=>{var r=n(7854);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},490:(t,e,n)=>{var r=n(5005);t.exports=r("document","documentElement")},4664:(t,e,n)=>{var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var r=n(7293),o=n(4326),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},2788:(t,e,n)=>{var r=n(5465),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},9909:(t,e,n)=>{var r,o,i,a=n(8536),c=n(7854),s=n(111),u=n(8880),l=n(6656),f=n(5465),h=n(6200),p=n(3501),y=c.WeakMap;if(a){var d=f.state||(f.state=new y),v=d.get,b=d.has,m=d.set;r=function(t,e){return e.facade=t,m.call(d,t,e),e},o=function(t){return v.call(d,t)||{}},i=function(t){return b.call(d,t)}}else{var g=h("state");p[g]=!0,r=function(t,e){return e.facade=t,u(t,g,e),e},o=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:(t,e,n)=>{var r=n(5112),o=n(7497),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},3157:(t,e,n)=>{var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:(t,e,n)=>{var r=n(7293),o=/#|\.prototype\./,i=function(t,e){var n=c[a(t)];return n==u||n!=s&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=i.data={},s=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},7850:(t,e,n)=>{var r=n(111),o=n(4326),i=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},408:(t,e,n)=>{var r=n(9670),o=n(7659),i=n(7466),a=n(9974),c=n(1246),s=n(9212),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,f,h,p,y,d,v,b=n&&n.that,m=!(!n||!n.AS_ENTRIES),g=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),O=a(e,b,1+m+w),_=function(t){return l&&s(l),new u(!0,t)},S=function(t){return m?(r(t),w?O(t[0],t[1],_):O(t[0],t[1])):w?O(t,_):O(t)};if(g)l=t;else{if("function"!=typeof(f=c(t)))throw TypeError("Target is not iterable");if(o(f)){for(h=0,p=i(t.length);p>h;h++)if((y=S(t[h]))&&y instanceof u)return y;return new u(!1)}l=f.call(t)}for(d=l.next;!(v=d.call(l)).done;){try{y=S(v.value)}catch(t){throw s(l),t}if("object"==typeof y&&y&&y instanceof u)return y}return new u(!1)}},9212:(t,e,n)=>{var r=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},3383:(t,e,n)=>{"use strict";var r,o,i,a=n(7293),c=n(9518),s=n(8880),u=n(6656),l=n(5112),f=n(1913),h=l("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(r=o):p=!0);var y=null==r||a((function(){var t={};return r[h].call(t)!==t}));y&&(r={}),f&&!y||u(r,h)||s(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7497:t=>{t.exports={}},5948:(t,e,n)=>{var r,o,i,a,c,s,u,l,f=n(7854),h=n(1236).f,p=n(261).set,y=n(6833),d=n(1036),v=n(5268),b=f.MutationObserver||f.WebKitMutationObserver,m=f.document,g=f.process,w=f.Promise,O=h(f,"queueMicrotask"),_=O&&O.value;_||(r=function(){var t,e;for(v&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},y||v||d||!b||!m?w&&w.resolve?(u=w.resolve(void 0),l=u.then,a=function(){l.call(u,r)}):a=v?function(){g.nextTick(r)}:function(){p.call(f,r)}:(c=!0,s=m.createTextNode(""),new b(r).observe(s,{characterData:!0}),a=function(){s.data=c=!c})),t.exports=_||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},3366:(t,e,n)=>{var r=n(7854);t.exports=r.Promise},133:(t,e,n)=>{var r=n(5268),o=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(r?38===o:o>37&&o<41)}))},8536:(t,e,n)=>{var r=n(7854),o=n(2788),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},8523:(t,e,n)=>{"use strict";var r=n(3099),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},30:(t,e,n)=>{var r,o=n(9670),i=n(6048),a=n(748),c=n(3501),s=n(490),u=n(317),l=n(6200)("IE_PROTO"),f=function(){},h=function(t){return"<script>"+t+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};c[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=o(t),n=new f,f.prototype=null,n[l]=t):n=p(),void 0===e?n:i(n,e)}},6048:(t,e,n)=>{var r=n(9781),o=n(3070),i=n(9670),a=n(1956);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),c=r.length,s=0;c>s;)o.f(t,n=r[s++],e[n]);return t}},3070:(t,e,n)=>{var r=n(9781),o=n(4664),i=n(9670),a=n(7593),c=Object.defineProperty;e.f=r?c:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var r=n(9781),o=n(5296),i=n(9114),a=n(5656),c=n(7593),s=n(6656),u=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=c(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!o.f.call(t,e),t[e])}},1156:(t,e,n)=>{var r=n(5656),o=n(8006).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},8006:(t,e,n)=>{var r=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,n)=>{var r=n(6656),o=n(7908),i=n(6200),a=n(8544),c=i("IE_PROTO"),s=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},6324:(t,e,n)=>{var r=n(6656),o=n(5656),i=n(1318).indexOf,a=n(3501);t.exports=function(t,e){var n,c=o(t),s=0,u=[];for(n in c)!r(a,n)&&r(c,n)&&u.push(n);for(;e.length>s;)r(c,n=e[s++])&&(~i(u,n)||u.push(n));return u}},1956:(t,e,n)=>{var r=n(6324),o=n(748);t.exports=Object.keys||function(t){return r(t,o)}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:(t,e,n)=>{var r=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},288:(t,e,n)=>{"use strict";var r=n(1694),o=n(648);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},3887:(t,e,n)=>{var r=n(5005),o=n(8006),i=n(5181),a=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},857:(t,e,n)=>{var r=n(7854);t.exports=r},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:(t,e,n)=>{var r=n(9670),o=n(111),i=n(8523);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},2248:(t,e,n)=>{var r=n(1320);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},1320:(t,e,n)=>{var r=n(7854),o=n(8880),i=n(6656),a=n(3505),c=n(2788),s=n(9909),u=s.get,l=s.enforce,f=String(String).split("String");(t.exports=function(t,e,n,c){var s,u=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,p=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(s=l(n)).source||(s.source=f.join("string"==typeof e?e:""))),t!==r?(u?!p&&t[e]&&(h=!0):delete t[e],h?t[e]=n:o(t,e,n)):h?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c(this)}))},7651:(t,e,n)=>{var r=n(4326),o=n(2261);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},2261:(t,e,n)=>{"use strict";var r,o,i=n(7066),a=n(2999),c=RegExp.prototype.exec,s=String.prototype.replace,u=c,l=(r=/a/,o=/b*/g,c.call(r,"a"),c.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(l||h||f)&&(u=function(t){var e,n,r,o,a=this,u=f&&a.sticky,p=i.call(a),y=a.source,d=0,v=t;return u&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),v=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(y="(?: "+y+")",v=" "+v,d++),n=new RegExp("^(?:"+y+")",p)),h&&(n=new RegExp("^"+y+"$(?!\\s)",p)),l&&(e=a.lastIndex),r=c.call(u?n:a,v),u?r?(r.input=r.input.slice(d),r[0]=r[0].slice(d),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),h&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=u},7066:(t,e,n)=>{"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:(t,e,n)=>{"use strict";var r=n(7293);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var r=n(7854),o=n(8880);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},6340:(t,e,n)=>{"use strict";var r=n(5005),o=n(3070),i=n(5112),a=n(9781),c=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[c]&&n(e,c,{configurable:!0,get:function(){return this}})}},8003:(t,e,n)=>{var r=n(3070).f,o=n(6656),i=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},6200:(t,e,n)=>{var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,n)=>{var r=n(7854),o=n(3505),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},2309:(t,e,n)=>{var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:(t,e,n)=>{var r=n(9670),o=n(3099),i=n(5112)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},8710:(t,e,n)=>{var r=n(9958),o=n(4488),i=function(t){return function(e,n){var i,a,c=String(o(e)),s=r(n),u=c.length;return s<0||s>=u?t?"":void 0:(i=c.charCodeAt(s))<55296||i>56319||s+1===u||(a=c.charCodeAt(s+1))<56320||a>57343?t?c.charAt(s):i:t?c.slice(s,s+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},261:(t,e,n)=>{var r,o,i,a=n(7854),c=n(7293),s=n(9974),u=n(490),l=n(317),f=n(6833),h=n(5268),p=a.location,y=a.setImmediate,d=a.clearImmediate,v=a.process,b=a.MessageChannel,m=a.Dispatch,g=0,w={},O=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},_=function(t){return function(){O(t)}},S=function(t){O(t.data)},k=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};y&&d||(y=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(g),g},d=function(t){delete w[t]},h?r=function(t){v.nextTick(_(t))}:m&&m.now?r=function(t){m.now(_(t))}:b&&!f?(i=(o=new b).port2,o.port1.onmessage=S,r=s(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!c(k)?(r=k,a.addEventListener("message",S,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),O(t)}}:function(t){setTimeout(_(t),0)}),t.exports={set:y,clear:d}},1400:(t,e,n)=>{var r=n(9958),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5656:(t,e,n)=>{var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var r=n(9958),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7908:(t,e,n)=>{var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:(t,e,n)=>{var r=n(111);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},1694:(t,e,n)=>{var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(t,e,n)=>{var r=n(5112);e.f=r},5112:(t,e,n)=>{var r=n(7854),o=n(2309),i=n(6656),a=n(9711),c=n(133),s=n(3307),u=o("wks"),l=r.Symbol,f=s?l:l&&l.withoutSetter||a;t.exports=function(t){return i(u,t)&&(c||"string"==typeof u[t])||(c&&i(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},2222:(t,e,n)=>{"use strict";var r=n(2109),o=n(7293),i=n(3157),a=n(111),c=n(7908),s=n(7466),u=n(6135),l=n(5417),f=n(1194),h=n(5112),p=n(7392),y=h("isConcatSpreadable"),d=9007199254740991,v="Maximum allowed index exceeded",b=p>=51||!o((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),m=f("concat"),g=function(t){if(!a(t))return!1;var e=t[y];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!b||!m},{concat:function(t){var e,n,r,o,i,a=c(this),f=l(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(g(i=-1===e?a:arguments[e])){if(h+(o=s(i.length))>d)throw TypeError(v);for(n=0;n<o;n++,h++)n in i&&u(f,h,i[n])}else{if(h>=d)throw TypeError(v);u(f,h++,i)}return f.length=h,f}})},3290:(t,e,n)=>{var r=n(2109),o=n(1285),i=n(1223);r({target:"Array",proto:!0},{fill:o}),i("fill")},7327:(t,e,n)=>{"use strict";var r=n(2109),o=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},9826:(t,e,n)=>{"use strict";var r=n(2109),o=n(2092).find,i=n(1223),a="find",c=!0;a in[]&&Array(1).find((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},1038:(t,e,n)=>{var r=n(2109),o=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(t){Array.from(t)}))},{from:o})},6992:(t,e,n)=>{"use strict";var r=n(5656),o=n(1223),i=n(7497),a=n(9909),c=n(654),s="Array Iterator",u=a.set,l=a.getterFor(s);t.exports=c(Array,"Array",(function(t,e){u(this,{type:s,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},9600:(t,e,n)=>{"use strict";var r=n(2109),o=n(8361),i=n(5656),a=n(9341),c=[].join,s=o!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:s||!u},{join:function(t){return c.call(i(this),void 0===t?",":t)}})},1249:(t,e,n)=>{"use strict";var r=n(2109),o=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5069:(t,e,n)=>{"use strict";var r=n(2109),o=n(3157),i=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},7042:(t,e,n)=>{"use strict";var r=n(2109),o=n(111),i=n(3157),a=n(1400),c=n(7466),s=n(5656),u=n(6135),l=n(5112),f=n(1194)("slice"),h=l("species"),p=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,r,l,f=s(this),d=c(f.length),v=a(t,d),b=a(void 0===e?d:e,d);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(f,v,b);for(r=new(void 0===n?Array:n)(y(b-v,0)),l=0;v<b;v++,l++)v in f&&u(r,l,f[v]);return r.length=l,r}})},561:(t,e,n)=>{"use strict";var r=n(2109),o=n(1400),i=n(9958),a=n(7466),c=n(7908),s=n(5417),u=n(6135),l=n(1194)("splice"),f=Math.max,h=Math.min,p=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var n,r,l,d,v,b,m=c(this),g=a(m.length),w=o(t,g),O=arguments.length;if(0===O?n=r=0:1===O?(n=0,r=g-w):(n=O-2,r=h(f(i(e),0),g-w)),g+n-r>p)throw TypeError(y);for(l=s(m,r),d=0;d<r;d++)(v=w+d)in m&&u(l,d,m[v]);if(l.length=r,n<r){for(d=w;d<g-r;d++)b=d+n,(v=d+r)in m?m[b]=m[v]:delete m[b];for(d=g;d>g-r+n;d--)delete m[d-1]}else if(n>r)for(d=g-r;d>w;d--)b=d+n-1,(v=d+r-1)in m?m[b]=m[v]:delete m[b];for(d=0;d<n;d++)m[d+w]=arguments[d+2];return m.length=g-r+n,l}})},8309:(t,e,n)=>{var r=n(9781),o=n(3070).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/,s="name";r&&!(s in i)&&o(i,s,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},5003:(t,e,n)=>{var r=n(2109),o=n(7293),i=n(5656),a=n(1236).f,c=n(9781),s=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!c||s,sham:!c},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},489:(t,e,n)=>{var r=n(2109),o=n(7293),i=n(7908),a=n(9518),c=n(8544);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!c},{getPrototypeOf:function(t){return a(i(t))}})},7941:(t,e,n)=>{var r=n(2109),o=n(7908),i=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},8304:(t,e,n)=>{n(2109)({target:"Object",stat:!0},{setPrototypeOf:n(7674)})},1539:(t,e,n)=>{var r=n(1694),o=n(1320),i=n(288);r||o(Object.prototype,"toString",i,{unsafe:!0})},8674:(t,e,n)=>{"use strict";var r,o,i,a,c=n(2109),s=n(1913),u=n(7854),l=n(5005),f=n(3366),h=n(1320),p=n(2248),y=n(8003),d=n(6340),v=n(111),b=n(3099),m=n(5787),g=n(2788),w=n(408),O=n(7072),_=n(6707),S=n(261).set,k=n(5948),x=n(9478),j=n(842),P=n(8523),R=n(2534),C=n(9909),T=n(4705),E=n(5112),B=n(5268),I=n(7392),A=E("species"),L="Promise",M=C.get,D=C.set,F=C.getterFor(L),V=f,W=u.TypeError,N=u.document,U=u.process,z=l("fetch"),X=P.f,G=X,q=!!(N&&N.createEvent&&u.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,H="unhandledrejection",Q=T(L,(function(){if(g(V)===String(V)){if(66===I)return!0;if(!B&&!Y)return!0}if(s&&!V.prototype.finally)return!0;if(I>=51&&/native code/.test(V))return!1;var t=V.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[A]=e,!(t.then((function(){}))instanceof e)})),$=Q||!O((function(t){V.all(t).catch((function(){}))})),J=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},K=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;k((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var a,c,s,u=n[i++],l=o?u.ok:u.fail,f=u.resolve,h=u.reject,p=u.domain;try{l?(o||(2===t.rejection&&nt(t),t.rejection=1),!0===l?a=r:(p&&p.enter(),a=l(r),p&&(p.exit(),s=!0)),a===u.promise?h(W("Promise-chain cycle")):(c=J(a))?c.call(a,f,h):f(a)):h(r)}catch(t){p&&!s&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&tt(t)}))}},Z=function(t,e,n){var r,o;q?((r=N.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!Y&&(o=u["on"+t])?o(r):t===H&&j("Unhandled promise rejection",n)},tt=function(t){S.call(u,(function(){var e,n=t.facade,r=t.value;if(et(t)&&(e=R((function(){B?U.emit("unhandledRejection",r,n):Z(H,n,r)})),t.rejection=B||et(t)?2:1,e.error))throw e.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t){S.call(u,(function(){var e=t.facade;B?U.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},rt=function(t,e,n){return function(r){t(e,r,n)}},ot=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,K(t,!0))},it=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw W("Promise can't be resolved itself");var r=J(e);r?k((function(){var n={done:!1};try{r.call(e,rt(it,n,t),rt(ot,n,t))}catch(e){ot(n,e,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(e){ot({done:!1},e,t)}}};Q&&(V=function(t){m(this,V,L),b(t),r.call(this);var e=M(this);try{t(rt(it,e),rt(ot,e))}catch(t){ot(e,t)}},(r=function(t){D(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(V.prototype,{then:function(t,e){var n=F(this),r=X(_(this,V));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=B?U.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=M(t);this.promise=t,this.resolve=rt(it,e),this.reject=rt(ot,e)},P.f=X=function(t){return t===V||t===i?new o(t):G(t)},s||"function"!=typeof f||(a=f.prototype.then,h(f.prototype,"then",(function(t,e){var n=this;return new V((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof z&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return x(V,z.apply(u,arguments))}}))),c({global:!0,wrap:!0,forced:Q},{Promise:V}),y(V,L,!1,!0),d(L),i=l(L),c({target:L,stat:!0,forced:Q},{reject:function(t){var e=X(this);return e.reject.call(void 0,t),e.promise}}),c({target:L,stat:!0,forced:s||Q},{resolve:function(t){return x(s&&this===i?V:this,t)}}),c({target:L,stat:!0,forced:$},{all:function(t){var e=this,n=X(e),r=n.resolve,o=n.reject,i=R((function(){var n=b(e.resolve),i=[],a=0,c=1;w(t,(function(t){var s=a++,u=!1;i.push(void 0),c++,n.call(e,t).then((function(t){u||(u=!0,i[s]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=X(e),r=n.reject,o=R((function(){var o=b(e.resolve);w(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},2419:(t,e,n)=>{var r=n(2109),o=n(5005),i=n(3099),a=n(9670),c=n(111),s=n(30),u=n(7065),l=n(7293),f=o("Reflect","construct"),h=l((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),p=!l((function(){f((function(){}))})),y=h||p;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!h)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(u.apply(t,r))}var o=n.prototype,l=s(c(o)?o:Object.prototype),y=Function.apply.call(t,l,e);return c(y)?y:l}})},4819:(t,e,n)=>{var r=n(2109),o=n(111),i=n(9670),a=n(6656),c=n(1236),s=n(9518);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,u,l=arguments.length<3?e:arguments[2];return i(e)===l?e[n]:(r=c.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(l):o(u=s(e))?t(u,n,l):void 0}})},4916:(t,e,n)=>{"use strict";var r=n(2109),o=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:(t,e,n)=>{"use strict";var r=n(1320),o=n(9670),i=n(7293),a=n(7066),c="toString",s=RegExp.prototype,u=s.toString,l=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=c;(l||f)&&r(RegExp.prototype,c,(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)}),{unsafe:!0})},8783:(t,e,n)=>{"use strict";var r=n(8710).charAt,o=n(9909),i=n(654),a="String Iterator",c=o.set,s=o.getterFor(a);i(String,"String",(function(t){c(this,{type:a,string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},5306:(t,e,n)=>{"use strict";var r=n(7007),o=n(9670),i=n(7466),a=n(9958),c=n(4488),s=n(1530),u=n(647),l=n(7651),f=Math.max,h=Math.min;r("replace",2,(function(t,e,n,r){var p=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,d=p?"$":"$0";return[function(n,r){var o=c(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!p&&y||"string"==typeof r&&-1===r.indexOf(d)){var c=n(e,t,this,r);if(c.done)return c.value}var v=o(t),b=String(this),m="function"==typeof r;m||(r=String(r));var g=v.global;if(g){var w=v.unicode;v.lastIndex=0}for(var O=[];;){var _=l(v,b);if(null===_)break;if(O.push(_),!g)break;""===String(_[0])&&(v.lastIndex=s(b,i(v.lastIndex),w))}for(var S,k="",x=0,j=0;j<O.length;j++){_=O[j];for(var P=String(_[0]),R=f(h(a(_.index),b.length),0),C=[],T=1;T<_.length;T++)C.push(void 0===(S=_[T])?S:String(S));var E=_.groups;if(m){var B=[P].concat(C,R,b);void 0!==E&&B.push(E);var I=String(r.apply(void 0,B))}else I=u(P,b,R,C,E,r);R>=x&&(k+=b.slice(x,R)+I,x=R+P.length)}return k+b.slice(x)}]}))},3123:(t,e,n)=>{"use strict";var r=n(7007),o=n(7850),i=n(9670),a=n(4488),c=n(6707),s=n(1530),u=n(7466),l=n(7651),f=n(2261),h=n(7293),p=[].push,y=Math.min,d=4294967295,v=!h((function(){return!RegExp(d,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?d:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var c,s,u,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,v=new RegExp(t.source,h+"g");(c=f.call(v,r))&&!((s=v.lastIndex)>y&&(l.push(r.slice(y,c.index)),c.length>1&&c.index<r.length&&p.apply(l,c.slice(1)),u=c[0].length,y=s,l.length>=i));)v.lastIndex===c.index&&v.lastIndex++;return y===r.length?!u&&v.test("")||l.push(""):l.push(r.slice(y)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var f=i(t),h=String(this),p=c(f,RegExp),b=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),g=new p(v?f:"^(?:"+f.source+")",m),w=void 0===o?d:o>>>0;if(0===w)return[];if(0===h.length)return null===l(g,h)?[h]:[];for(var O=0,_=0,S=[];_<h.length;){g.lastIndex=v?_:0;var k,x=l(g,v?h:h.slice(_));if(null===x||(k=y(u(g.lastIndex+(v?0:_)),h.length))===O)_=s(h,_,b);else{if(S.push(h.slice(O,_)),S.length===w)return S;for(var j=1;j<=x.length-1;j++)if(S.push(x[j]),S.length===w)return S;_=O=k}}return S.push(h.slice(O)),S}]}),!v)},1817:(t,e,n)=>{"use strict";var r=n(2109),o=n(9781),i=n(7854),a=n(6656),c=n(111),s=n(3070).f,u=n(9920),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(h,l);var p=h.prototype=l.prototype;p.constructor=h;var y=p.toString,d="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=y.call(t);if(a(f,t))return"";var n=d?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},2165:(t,e,n)=>{n(7235)("iterator")},2526:(t,e,n)=>{"use strict";var r=n(2109),o=n(7854),i=n(5005),a=n(1913),c=n(9781),s=n(133),u=n(3307),l=n(7293),f=n(6656),h=n(3157),p=n(111),y=n(9670),d=n(7908),v=n(5656),b=n(7593),m=n(9114),g=n(30),w=n(1956),O=n(8006),_=n(1156),S=n(5181),k=n(1236),x=n(3070),j=n(5296),P=n(8880),R=n(1320),C=n(2309),T=n(6200),E=n(3501),B=n(9711),I=n(5112),A=n(6061),L=n(7235),M=n(8003),D=n(9909),F=n(2092).forEach,V=T("hidden"),W="Symbol",N=I("toPrimitive"),U=D.set,z=D.getterFor(W),X=Object.prototype,G=o.Symbol,q=i("JSON","stringify"),Y=k.f,H=x.f,Q=_.f,$=j.f,J=C("symbols"),K=C("op-symbols"),Z=C("string-to-symbol-registry"),tt=C("symbol-to-string-registry"),et=C("wks"),nt=o.QObject,rt=!nt||!nt.prototype||!nt.prototype.findChild,ot=c&&l((function(){return 7!=g(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Y(X,e);r&&delete X[e],H(t,e,n),r&&t!==X&&H(X,e,r)}:H,it=function(t,e){var n=J[t]=g(G.prototype);return U(n,{type:W,tag:t,description:e}),c||(n.description=e),n},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof G},ct=function(t,e,n){t===X&&ct(K,e,n),y(t);var r=b(e,!0);return y(n),f(J,r)?(n.enumerable?(f(t,V)&&t[V][r]&&(t[V][r]=!1),n=g(n,{enumerable:m(0,!1)})):(f(t,V)||H(t,V,m(1,{})),t[V][r]=!0),ot(t,r,n)):H(t,r,n)},st=function(t,e){y(t);var n=v(e),r=w(n).concat(ht(n));return F(r,(function(e){c&&!ut.call(n,e)||ct(t,e,n[e])})),t},ut=function(t){var e=b(t,!0),n=$.call(this,e);return!(this===X&&f(J,e)&&!f(K,e))&&(!(n||!f(this,e)||!f(J,e)||f(this,V)&&this[V][e])||n)},lt=function(t,e){var n=v(t),r=b(e,!0);if(n!==X||!f(J,r)||f(K,r)){var o=Y(n,r);return!o||!f(J,r)||f(n,V)&&n[V][r]||(o.enumerable=!0),o}},ft=function(t){var e=Q(v(t)),n=[];return F(e,(function(t){f(J,t)||f(E,t)||n.push(t)})),n},ht=function(t){var e=t===X,n=Q(e?K:v(t)),r=[];return F(n,(function(t){!f(J,t)||e&&!f(X,t)||r.push(J[t])})),r};s||(R((G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=B(t),n=function(t){this===X&&n.call(K,t),f(this,V)&&f(this[V],e)&&(this[V][e]=!1),ot(this,e,m(1,t))};return c&&rt&&ot(X,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return z(this).tag})),R(G,"withoutSetter",(function(t){return it(B(t),t)})),j.f=ut,x.f=ct,k.f=lt,O.f=_.f=ft,S.f=ht,A.f=function(t){return it(I(t),t)},c&&(H(G.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),a||R(X,"propertyIsEnumerable",ut,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:G}),F(w(et),(function(t){L(t)})),r({target:W,stat:!0,forced:!s},{for:function(t){var e=String(t);if(f(Z,e))return Z[e];var n=G(e);return Z[e]=n,tt[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(f(tt,t))return tt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!c},{create:function(t,e){return void 0===e?g(t):st(g(t),e)},defineProperty:ct,defineProperties:st,getOwnPropertyDescriptor:lt}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ft,getOwnPropertySymbols:ht}),r({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(d(t))}}),q&&r({target:"JSON",stat:!0,forced:!s||l((function(){var t=G();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}))},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(p(e)||void 0!==t)&&!at(t))return h(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),o[1]=e,q.apply(null,o)}}),G.prototype[N]||P(G.prototype,N,G.prototype.valueOf),M(G,W),E[V]=!0},4747:(t,e,n)=>{var r=n(7854),o=n(8324),i=n(8533),a=n(8880);for(var c in o){var s=r[c],u=s&&s.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(t){u.forEach=i}}},3948:(t,e,n)=>{var r=n(7854),o=n(8324),i=n(6992),a=n(8880),c=n(5112),s=c("iterator"),u=c("toStringTag"),l=i.values;for(var f in o){var h=r[f],p=h&&h.prototype;if(p){if(p[s]!==l)try{a(p,s,l)}catch(t){p[s]=l}if(p[u]||a(p,u,f),o[f])for(var y in i)if(p[y]!==i[y])try{a(p,y,i[y])}catch(t){p[y]=i[y]}}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n(2784)})();