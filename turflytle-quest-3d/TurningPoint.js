pc.script.attribute("left","boolean",!0),pc.script.attribute("right","boolean",!0),pc.script.attribute("straight","boolean",!0),pc.script.create("TurningPoint",function(a){var b=function(a){this.entity=a},c=null;return b.prototype={initialize:function(){var b=this.entity.getLocalScale();this.widthHalf=b.x,this.heightHalf=b.z,c||(c=a.root.findByName("Cars").getChildren()),this.position=this.entity.getPosition(),this.heading=new pc.Vec3,this.x=new pc.Vec3,this.z=new pc.Vec3,this.directions=[],this.left&&this.directions.push("left"),this.right&&this.directions.push("right"),this.straight&&this.directions.push("straight"),this.entity.getLocalEulerAngles().y%180!==0&&(this.widthHalf=this.widthHalf^this.heightHalf,this.heightHalf=this.widthHalf^this.heightHalf,this.widthHalf=this.widthHalf^this.heightHalf),this.entity.model.enabled=!1},update:function(a){if(!PAUSE)for(var b=0;b<c.length;b++){var d=c[b];if(!d.script.Car.isTurning&&this._contain(d.getPosition())){var e=Math.floor(pc.math.random(0,this.directions.length));d.script.Car.turn(this.directions[e]);break}}},_contain:function(a){return a.x<this.position.x+this.widthHalf&&a.x>this.position.x-this.widthHalf&&a.z<this.position.z+this.heightHalf&&a.z>this.position.z-this.heightHalf}},b});