!function(){function e(e){var t=this,n=e.url,r=!1,a=e.onstart||function(){},o=e.onbuffer||function(){},i=e.onread||function(){},u=e.ondone||function(){},s=e.onerror||function(){},d=e.bufferSize||8192,f=e.minBufferSize||65536,c=e.seekPosition||0,l=c,p=e.chunkSize||1048576,h=!1,m=!1,v=0,y=0,g=[],b=0,T={},E={xhr:null,tryMethod:function(e){var t=new XMLHttpRequest;t.open("GET",n);try{t.responseType=e}catch(r){return!1}return t.responseType==e},setBytesTotal:function(e){if(206==e.status)v=E.getXHRRangeTotal(e);else{var t=e.getResponseHeader("Content-Length");v=null===t||""===t?0:parseInt(t,10)}},processResponseHeaders:function(e){T={};var t=e.getAllResponseHeaders(),n=t.split(/\n/);n.forEach(function(e){var t=e.split(/:\s*/,2);if(t.length>1){var n=t[0].toLowerCase(),r=t[1];T[n]=r}})},openXHR:function(){var e=n;b&&(e+="?ogvjs_cachever="+b);var t=E.xhr=new XMLHttpRequest;t.open("GET",e),E.setXHROptions(t);var o=null;(c||p)&&(o="bytes="+c+"-"),p&&(o+=v?Math.min(c+p,v)-1:c+p-1),null!==o&&t.setRequestHeader("Range",o),y=0,t.onreadystatechange=function(e){if(2==t.readyState){if(206==t.status){var n=E.getXHRRangeStart(t);if(c!=n)return console.log("Expected start at "+c+" but got "+n+"; working around Safari range caching bug: https://bugs.webkit.org/show_bug.cgi?id=82672"),b++,E.abortXHR(t),void E.openXHR()}r||(E.setBytesTotal(t),E.processResponseHeaders(t),r=!0,a())}else 3==t.readyState?E.onXHRLoading(t):4==t.readyState&&E.onXHRDone(t)},t.send()},getXHRRangeMatches:function(e){var t=e.getResponseHeader("Content-Range");return t&&t.match(/^bytes (\d+)-(\d+)\/(\d+)/)},getXHRRangeStart:function(e){var t=E.getXHRRangeMatches(e);return t?parseInt(t[1],10):0},getXHRRangeTotal:function(e){var t=E.getXHRRangeMatches(e);return t?parseInt(t[3],10):0},setXHROptions:function(e){throw new Error("abstract function")},onXHRLoading:function(e){throw new Error("abstract function")},onXHRDone:function(e){m=!0},abortXHR:function(e){e.onreadystatechange=null,e.abort()},bufferData:function(e){e&&(g.push(e),o(),E.readNextChunk())},bytesBuffered:function(){var e=0;return g.forEach(function(t){e+=t.byteLength}),e},dataToRead:function(){return E.bytesBuffered()>0},popBuffer:function(){function e(e){var t=new Uint8Array(e);n.set(t,r),r+=e.byteLength}for(var t=new ArrayBuffer(d),n=new Uint8Array(t),r=0;f>r;){var a=f-r,o=g.shift();if(!o)break;if(!(a>=o.byteLength)){var i=o.slice(0,a),u=o.slice(a);g.unshift(u),e(i);break}e(o)}return y+=r,l+=r,t.slice(0,r)},clearReadState:function(){y=0,m=!1,h=!0},clearBuffers:function(){E.clearReadState(),g.splice(0,g.length),l=c},readNextChunk:function(){h&&(h=!1,i(E.popBuffer()),m&&!E.dataToRead()&&E.onReadDone())},onReadDone:function(){u()},quickSeek:function(e){return!1}};t.readBytes=function(){if(E.dataToRead()){var e=E.popBuffer();i(e),m&&t.bytesBuffered<Math.min(l+p,t.bytesTotal)&&(c+=p,E.clearReadState(),E.openXHR())}else m?E.onReadDone():h=!0},t.abort=function(){E.xhr&&(E.abortXHR(E.xhr),E.xhr=null,E.clearBuffers())},t.seek=function(e){E.quickSeek(e)||(t.abort(),c=e,E.clearBuffers(),E.openXHR())},t.getResponseHeader=function(e){var t=e.toLowerCase(),n=T[t];return void 0===n?null:n},Object.defineProperty(t,"bytesTotal",{get:function(){return v}}),Object.defineProperty(t,"bytesBuffered",{get:function(){return l+E.bytesBuffered()}}),Object.defineProperty(t,"bytesRead",{get:function(){return c+y}}),Object.defineProperty(t,"seekable",{get:function(){return t.bytesTotal>0}});var w={};for(var R in E)w[R]=E[R];if(E.tryMethod("moz-chunked-arraybuffer"))E.setXHROptions=function(e){e.responseType="moz-chunked-arraybuffer",e.onprogress=function(){E.bufferData(e.response)}},E.abortXHR=function(e){e.onprogress=null,w.abortXHR(e)},E.onXHRLoading=function(e){};else if(E.tryMethod("ms-stream")){p=0;var P,A,O=!1;E.setXHROptions=function(e){e.responseType="ms-stream"},E.abortXHR=function(e){O=!0,A&&(A.abort(),A=null),P&&(P.msClose(),P=null),w.abortXHR(e)},E.onXHRLoading=function(e){P=e.response,e.onreadystatechange=null,h&&(h=!1,t.readBytes())},E.bytesBuffered=function(){return 0},t.readBytes=function(){P?(A=new MSStreamReader,A.onload=function(e){var t=e.target.result,n=t.byteLength;n>0?(y+=n,l+=n,i(t)):u()},A.onerror=function(e){s("mystery error streaming")},A.readAsArrayBuffer(P,d)):h=!0}}else{if(void 0===(new XMLHttpRequest).overrideMimeType)throw new Error("No streaming HTTP input method found.");E.setXHROptions=function(e){e.responseType="text",e.overrideMimeType("text/plain; charset=x-user-defined")};var x=0,C=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),a=0;t>a;a++)r[a]=e.charCodeAt(a);return n};E.clearReadState=function(){w.clearReadState(),x=0},E.onXHRLoading=function(e){var t=e.responseText;if(x<t.length){var n=t.slice(x),r=C(n);x=t.length,E.bufferData(r)}}}E.openXHR()}function t(e,t){function n(e,t){var n=e.width,r=e.height,a=e.hdec,o=e.vdec,i=e.bytesY,u=e.bytesCb,s=e.bytesCr,d=e.strideY,f=e.strideCb,c=e.strideCr,l=4*n,p=0,h=0,m=0,v=0,y=0,g=0,b=0,T=0,E=0,w=0,R=0,P=0,A=0,O=0,x=0,C=0,G=0,V=0;if(1==a&&1==o)for(b=0,T=l,V=0,C=0;r>C;C+=2){for(h=C*d,m=h+d,v=V*f,y=V*c,x=0;n>x;x+=2)E=u[v++],w=s[y++],P=409*w-57088,A=100*E+208*w-34816,O=516*E-70912,R=298*i[h++],t[b++]=R+P>>8,t[b++]=R-A>>8,t[b++]=R+O>>8,b++,R=298*i[h++],t[b++]=R+P>>8,t[b++]=R-A>>8,t[b++]=R+O>>8,b++,R=298*i[m++],t[T++]=R+P>>8,t[T++]=R-A>>8,t[T++]=R+O>>8,T++,R=298*i[m++],t[T++]=R+P>>8,t[T++]=R-A>>8,t[T++]=R+O>>8,T++;b+=l,T+=l,V++}else for(g=0,C=0;r>C;C++)for(G=0,V=C>>o,p=C*d,v=V*f,y=V*c,x=0;n>x;x++)G=x>>a,E=u[v+G],w=s[y+G],P=409*w-57088,A=100*E+208*w-34816,O=516*E-70912,R=298*i[p++],t[g++]=R+P>>8,t[g++]=R-A>>8,t[g++]=R+O>>8,g++}function r(e,t){u=i.createImageData(e,t);for(var n=u.data,r=e*t*4,a=0;r>a;a+=4)n[a+3]=255}function a(){s=document.createElement("canvas"),s.width=t.picWidth,s.height=t.picHeight,d=s.getContext("2d")}var o=this,i=e.getContext("2d"),u=null,s=null,d=null;return o.drawFrame=function(e){(null===u||u.width!=e.width||u.height!=e.height)&&r(e.width,e.height),n(e,u.data);var o=t.picWidth!=t.displayWidth||t.picHeight!=t.displayHeight;o?(s||a(),drawContext=d):drawContext=i,drawContext.putImageData(u,0,0,t.picX,t.picY,t.picWidth,t.picHeight),o&&i.drawImage(s,0,0,t.displayWidth,t.displayHeight)},o}function n(e,t){function r(){if(f&&(m=d.getError(),0!==m))throw new Error("GL error "+m)}function a(e,t){var n=d.createShader(e);if(d.shaderSource(n,t),d.compileShader(n),!d.getShaderParameter(n,d.COMPILE_STATUS)){var r=d.getShaderInfoLog(n);throw d.deleteShader(n),new Error("GL shader compilation for "+e+" failed: "+r)}return n}function o(e,t,a,o,i,u){var s,f=n.stripe?o/4:o,c=n.stripe?d.RGBA:d.LUMINANCE,l=n.stripe?d.NEAREST:d.LINEAR;return y[e]?s=y[e]:(y[e]=s=d.createTexture(),r(),d.uniform1i(d.getUniformLocation(p,e),a),r()),d.activeTexture(t),r(),d.bindTexture(d.TEXTURE_2D,s),r(),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),r(),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),r(),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,l),r(),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,l),r(),d.texImage2D(d.TEXTURE_2D,0,c,f,i,0,c,d.UNSIGNED_BYTE,u),r(),s}function i(e,t){for(var n=e*t,r=new Uint32Array(n),a=0;n>a;a+=4)r[a]=255,r[a+1]=65280,r[a+2]=16711680,r[a+3]=4278190080;return new Uint8Array(r.buffer)}function u(e){if(c=a(d.VERTEX_SHADER,"attribute vec2 aPosition;\nattribute vec2 aLumaPosition;\nattribute vec2 aChromaPosition;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vLumaPosition = aLumaPosition;\n    vChromaPosition = aChromaPosition;\n}\n"),l=n.stripe?a(d.FRAGMENT_SHADER,"// inspired by https://github.com/mbebenita/Broadway/blob/master/Player/canvas.js\n// extra 'stripe' texture fiddling to work around IE 11's poor performance on gl.LUMINANCE and gl.ALPHA textures\n\nprecision mediump float;\nuniform sampler2D uStripeLuma;\nuniform sampler2D uStripeChroma;\nuniform sampler2D uTextureY;\nuniform sampler2D uTextureCb;\nuniform sampler2D uTextureCr;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n   // Y, Cb, and Cr planes are mapped into a pseudo-RGBA texture\n   // so we can upload them without expanding the bytes on IE 11\n   // which doesn\\'t allow LUMINANCE or ALPHA textures.\n   // The stripe textures mark which channel to keep for each pixel.\n   vec4 vStripeLuma = texture2D(uStripeLuma, vLumaPosition);\n   vec4 vStripeChroma = texture2D(uStripeChroma, vChromaPosition);\n\n   // Each texture extraction will contain the relevant value in one\n   // channel only.\n   vec4 vY = texture2D(uTextureY, vLumaPosition) * vStripeLuma;\n   vec4 vCb = texture2D(uTextureCb, vChromaPosition) * vStripeChroma;\n   vec4 vCr = texture2D(uTextureCr, vChromaPosition) * vStripeChroma;\n\n   // Now assemble that into a YUV vector, and premultipy the Y...\n   vec3 YUV = vec3(\n     (vY.x  + vY.y  + vY.z  + vY.w) * 1.1643828125,\n     (vCb.x + vCb.y + vCb.z + vCb.w),\n     (vCr.x + vCr.y + vCr.z + vCr.w)\n   );\n   // And convert that to RGB!\n   gl_FragColor = vec4(\n     YUV.x + 1.59602734375 * YUV.z - 0.87078515625,\n     YUV.x - 0.39176171875 * YUV.y - 0.81296875 * YUV.z + 0.52959375,\n     YUV.x + 2.017234375   * YUV.y - 1.081390625,\n     1\n   );\n}\n"):a(d.FRAGMENT_SHADER,"// inspired by https://github.com/mbebenita/Broadway/blob/master/Player/canvas.js\n\nprecision mediump float;\nuniform sampler2D uTextureY;\nuniform sampler2D uTextureCb;\nuniform sampler2D uTextureCr;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n   // Y, Cb, and Cr planes are uploaded as LUMINANCE textures.\n   float fY = texture2D(uTextureY, vLumaPosition).x;\n   float fCb = texture2D(uTextureCb, vChromaPosition).x;\n   float fCr = texture2D(uTextureCr, vChromaPosition).x;\n\n   // Premultipy the Y...\n   float fYmul = fY * 1.1643828125;\n\n   // And convert that to RGB!\n   gl_FragColor = vec4(\n     fYmul + 1.59602734375 * fCr - 0.87078515625,\n     fYmul - 0.39176171875 * fCb - 0.81296875 * fCr + 0.52959375,\n     fYmul + 2.017234375   * fCb - 1.081390625,\n     1\n   );\n}\n"),p=d.createProgram(),d.attachShader(p,c),r(),d.attachShader(p,l),r(),d.linkProgram(p),!d.getProgramParameter(p,d.LINK_STATUS)){var t=d.getProgramInfoLog(p);throw d.deleteProgram(p),new Error("GL program linking failed: "+t)}d.useProgram(p),r(),n.stripe&&(o("uStripeLuma",d.TEXTURE3,3,4*e.strideY,e.height,i(e.strideY,e.height)),r(),o("uStripeChroma",d.TEXTURE4,4,4*e.strideCb,e.height>>e.vdec,i(e.strideCb,e.height>>e.vdec)),r())}var s=this,d=e.getContext("webgl")||e.getContext("experimental-webgl"),f=!1;if(null===d)throw new Error("WebGL unavailable");var c,l,p,h,m,v=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),y={};return s.drawFrame=function(e){function n(e,n,a){var o=t.picX/n,i=(t.picX+t.picWidth)/n,u=(t.picY+t.picHeight)/a,s=t.picY/a,f=new Float32Array([o,u,i,u,o,s,o,s,i,u,i,s]),c=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,c),r(),d.bufferData(d.ARRAY_BUFFER,f,d.STATIC_DRAW),r();var l=d.getAttribLocation(p,e);r(),d.enableVertexAttribArray(l),r(),d.vertexAttribPointer(l,2,d.FLOAT,!1,0,0),r()}p||u(e),h=d.createBuffer(),r(),d.bindBuffer(d.ARRAY_BUFFER,h),r(),d.bufferData(d.ARRAY_BUFFER,v,d.STATIC_DRAW),r();var a=d.getAttribLocation(p,"aPosition");r(),d.enableVertexAttribArray(a),r(),d.vertexAttribPointer(a,2,d.FLOAT,!1,0,0),r(),n("aLumaPosition",e.strideY,e.height),n("aChromaPosition",e.strideCb<<e.hdec,e.height);o("uTextureY",d.TEXTURE0,0,e.strideY,e.height,e.bytesY),o("uTextureCb",d.TEXTURE1,1,e.strideCb,e.height>>e.vdec,e.bytesCb),o("uTextureCr",d.TEXTURE2,2,e.strideCr,e.height>>e.vdec,e.bytesCr);d.drawArrays(d.TRIANGLES,0,v.length/2),r()},s}function r(e){function t(){return i++,a=Math.floor((n+r)/2),e.process(n,r,a)}var n=e.start,r=e.end,a=0,o=this,i=0;o.start=function(){return t(),o},o.left=function(){return r=a,t()},o.right=function(){return n=a,t()}}function a(e){function t(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function n(e,n,r){var a=e.split(n,r).map(function(e){return t(e)});if("number"==typeof r)for(;a.length<r;)a.push(null);return a}e=""+e;var r=this;r.major=null,r.minor=null,r.codecs=null;var a=n(e,";");if(a.length){var o=a.shift();if(o){var i=n(o,"/",2);r.major=i[0],r.minor=i[1]}a.forEach(function(e){var t=e.match(/^codecs\s*=\s*"(.*?)"$/);t&&(r.codecs=n(t[1],","))})}}function o(e,t){return function(n,r,a){a=a||{};var o=this,i=function(){var e=new ArrayBuffer(1024),t=new Uint8Array(e);try{return n.postMessage({action:"transferTest",bytes:t},[e]),e.byteLength?!1:!0}catch(r){return!1}}(),u={};for(var s in e)e.hasOwnProperty(s)&&!function(t){u[t]=e[t],Object.defineProperty(o,t,{get:function(){return u[t]}})}(s);var d=0;Object.defineProperty(o,"processing",{get:function(){return d>0}});for(var f in t)t.hasOwnProperty(f)&&(o[f]=t[f]);var c=0,l={};return this.proxy=function(e,t,r,a){var o="callback-"+ ++c+"-"+e;r&&(l[o]=r);var u={action:e,callbackId:o,args:t||[]};d++,i?n.postMessage(u,a||[]):n.postMessage(u)},n.addEventListener("message",function(e){if(d--,"callback"===e.data.action){var t=e.data,n=t.callbackId,r=t.args,a=l[n];if(t.props)for(var o in t.props)t.props.hasOwnProperty(o)&&(u[o]=t.props[o]);a&&(delete l[n],a.apply(this,r))}}),o.proxy("construct",[r,a],function(){}),o}}function i(){var e=this,t=document.createElement("style");t.type="text/css",document.head.appendChild(t);var n=t.sheet;e.appendRule=function(e,t){var r=[];for(var a in t)t.hasOwnProperty(a)&&r.push(a+":"+t[a]);var o=e+"{"+r.join(";")+"}";n.insertRule(o,n.length-1)}}!function(){function e(e){var n=o[e];if(n)return t(n);throw new Error("asked for URL for unknown class "+e)}function t(e){if(e){var t=OGVLoader.base;return t&&(t+="/"),t+e+"?version="+encodeURIComponent(OGVVersion)}throw new Error("asked for URL for unknown script "+e)}function n(e,t){function n(t){var n=d[e];delete d[e],s[e]="done",n.forEach(function(e){e()})}if("done"==s[e])t();else if("loading"==s[e])d[e].push(t);else{s[e]="loading",d[e]=[t];var r=document.createElement("script");r.addEventListener("load",n),r.addEventListener("error",n),r.src=e,document.querySelector("head").appendChild(r)}}function r(){if("object"!=typeof a.window)return"";for(var e,t=document.querySelectorAll("script"),n=/^(?:(.*)\/)ogv(?:-support)?\.js(?:\?|#|$)/,r=0;r<t.length;r++)if(e=t[r].getAttribute("src"),e&&(matches=e.match(n),matches))return matches[1]}var a=this,o={OGVDemuxerOgg:"ogv-demuxer-ogg.js",OGVDemuxerWebM:"ogv-demuxer-webm.js",OGVDecoderAudioOpus:"ogv-decoder-audio-opus.js",OGVDecoderAudioVorbis:"ogv-decoder-audio-vorbis.js",OGVDecoderVideoTheora:"ogv-decoder-video-theora.js",OGVDecoderVideoVP8:"ogv-decoder-video-vp8.js"},i={OGVDecoderAudioOpus:"OGVDecoderAudioProxy",OGVDecoderAudioVorbis:"OGVDecoderAudioProxy",OGVDecoderVideoTheora:"OGVDecoderVideoProxy",OGVDecoderVideoVP8:"OGVDecoderVideoProxy"},u={OGVDecoderAudioProxy:"ogv-worker-audio.js",OGVDecoderVideoProxy:"ogv-worker-video.js"},s={},d={};OGVLoader={base:r(),loadClass:function(t,r,o){o=o||{},o.worker?this.workerProxy(t,r):"function"==typeof a[t]?r(a[t]):"object"==typeof a.window?n(e(t),function(){r(a[t])}):"function"==typeof a.importScripts&&(a.importScripts(e(t)),r(a[t]))},workerProxy:function(e,n){var r=i[e],a=u[r];if(!r)throw new Error("Requested worker for class with no proxy: "+e);if(!a)throw new Error("Requested worker for class with no worker: "+e);this.loadClass(r,function(r){var o=function(n){var o=new Worker(t(a));return new r(o,e,n)};n(o)})}}}();var u;if(function(){function e(e){return this instanceof arguments.callee?void("function"==typeof this.init&&this.init.apply(this,e&&e.callee?e:arguments)):new arguments.callee(arguments)}var t=this,n=t.AudioContext||t.webkitAudioContext;u=function(t){function r(){for(var e=[],t=0;w>t;t++)e[t]=new Float32Array(b);return e}function a(){return R&&R.length>0?R.shift():void 0}function o(e){var t,n,r,o,i;i="number"==typeof e.playbackTime?e.playbackTime:v.currentTime+b/g;var u=C;i>u&&(V+=i-u);var s=a(b);if(s||h.onstarved&&(h.onstarved(),s=a(b)),!s){for(t=0;w>t;t++)for(r=e.outputBuffer.getChannelData(t),o=0;b>o;o++)r[o]=0;return void G++}var d=O?0:1;for(t=0;w>t;t++)for(n=s[t],r=e.outputBuffer.getChannelData(t),o=0;o<Math.min(b,n.length);o++)r[o]=n[o]*d;x+=b/v.sampleRate,C=i+b/v.sampleRate}function i(e){if(E==g&&T==w)return e;for(var t=[],n=0;w>n;n++){var r=n;n>=T&&(r=0);for(var a=e[r],o=new Float32Array(Math.round(a.length*g/E)),i=0;i<o.length;i++)o[i]=a[i*E/g|0];t.push(o)}return t}function s(e){for(var t=E/44100,n=e[0].length*(44100/E)|0,r=new Int16Array(2*n),a=e[0],o=T>1?e[1]:a,i=16384,u=0;n>u;u++){var s=u*t|0,d=2*u;r[d]=a[s]*i,r[d+1]=o[s]*i}return r}function d(e){var t=e[0].length*(44100/E)|0;return new Int16Array(2*t)}function f(e){for(var t=e[0],n=t.length,a=0;n>a;a++){for(var o=0;w>o;o++)P[o][A]=e[o][a];++A==b&&(R.push(P),A=0,P=r())}}function c(e){for(var t=new Uint8Array(e),n="",r=t.length,a=0;r>a;a++)n+=S[t[a]];return n}function l(){var e=L;h.flashaudio.flashElement.write?h.flashaudio.flashElement.write(e):h.waitUntilReady(function(){h.flashaudio.flashElement.write(e)}),L="",k=null}function p(){if(R){var e=0;R.forEach(function(t){e+=t[0].length});var t=e,n=Math.floor(Math.max(0,C-v.currentTime)*v.sampleRate);return t+n}return 0}var h=this;if(t=t||{},!n){var m={};"string"==typeof t.base&&(m.swf=t.base+"/dynamicaudio.swf?version="+OGVVersion),this.flashaudio=new e(m)}var v,y,g,b=this.bufferSize=4096,T=0,E=0,w=2,R=[],P=r(),A=0,O=!1,x=0,C=-1,G=0,V=0;if(n){if("undefined"!=typeof t.audioContext?v=t.audioContext:(u.initSharedAudioContext(),v=u.sharedAudioContext),C=v.currentTime,v.createScriptProcessor)y=v.createScriptProcessor(b,0,w);else{if(!v.createJavaScriptNode)throw new Error("Bad version of web audio API?");y=v.createJavaScriptNode(b,0,w)}g=this.targetRate=v.sampleRate}else g=this.targetRate=44100;this.init=function(e,t){E=t,T=e,P=r()};for(var I=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],S=[],D=0;256>D;D++)S[D]=I[15&D]+I[(240&D)>>4];var L="",k=null;this.bufferData=function(e){if(this.flashaudio){var t=O?d(e):s(e);this.flashaudio.flashElement;if(t.length>0){var n=c(t.buffer);L+=n,k||(k=setTimeout(l,0))}}else if(R){var r=i(e);f(r)}else console.log("no valid whatsit"),h.close()};var N=null,_=0,M=40;this.getPlaybackState=function(){if(this.flashaudio){var e=this.flashaudio.flashElement;if(e.write){var t,n=Date.now(),r=n-_;return N&&M>r?t={playbackPosition:N.playbackPosition+r/1e3,samplesQueued:N.samplesQueued-r*g/1e3,dropped:N.dropped,delayed:N.delayed}:(t=e.getPlaybackState(),N=t,_=n),t.samplesQueued+=L.length/2,t}return{playbackPosition:0,samplesQueued:0,dropped:0,delayed:0}}return{playbackPosition:x-Math.max(0,C-v.currentTime),samplesQueued:p(),dropped:G,delayed:V}},this.mute=function(){this.muted=O=!0},this.unmute=function(){this.muted=O=!1},this.close=function(){if(this.stop(),this.flashaudio){var e=this.flashaudio.flashWrapper;e.parentNode.removeChild(e),this.flashaudio=null}v=null,R=null},this.waitUntilReady=function(e){function t(){setTimeout(function(){n++,h.flashaudio&&h.flashaudio.flashElement.write?e(this):n>r?(console.log("Failed to initialize Flash audio shim"),h.close(),e(null)):t()},20)}var n=0,r=100;h.flashaudio?t():setTimeout(e,0)},this.start=function(){this.flashaudio?this.flashaudio.flashElement.start():(y.onaudioprocess=o,y.connect(v.destination),C=v.currentTime)},this.stop=function(){this.flashaudio?this.flashaudio.flashElement.stop():y&&(y.onaudioprocess=null,y.disconnect())},this.onstarved=null},u.sharedAudioContext=null,u.initSharedAudioContext=function(){if(null===u.sharedAudioContext&&n){var e,t=u.sharedAudioContext=new n;if(t.createScriptProcessor)e=t.createScriptProcessor(1024,0,2);else{if(!t.createJavaScriptNode)throw new Error("Bad version of web audio API?");e=t.createJavaScriptNode(1024,0,2)}e.connect(t.destination),e.disconnect()}},e.nextId=1,e.prototype={nextId:null,swf:"dynamicaudio.swf?"+Math.random(),flashWrapper:null,flashElement:null,init:function(t){var n=this;n.id=e.nextId++,t&&"undefined"!=typeof t.swf&&(n.swf=t.swf),n.flashWrapper=document.createElement("div"),n.flashWrapper.id="dynamicaudio-flashwrapper-"+n.id;var r=n.flashWrapper.style;r.position="fixed",r.width="11px",r.height="11px",r.bottom=r.left="0px",r.overflow="hidden",n.flashElement=document.createElement("div"),n.flashElement.id="dynamicaudio-flashelement-"+n.id,n.flashWrapper.appendChild(n.flashElement),document.body.appendChild(n.flashWrapper);var a=n.flashElement.id;n.flashWrapper.innerHTML="<object id='"+a+"' width='10' height='10' type='application/x-shockwave-flash' data='"+n.swf+"' style='visibility: visible;'><param name='allowscriptaccess' value='always'></object>",n.flashElement=document.getElementById(a)}}}(),n.stripe=function(){return-1!==navigator.userAgent.indexOf("Windows")?!0:!1}(),n.isAvailable=function(){var e,t=document.createElement("canvas");t.width=1,t.height=1;var r={failIfMajorPerformanceCaveat:!0};try{e=t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}catch(a){return!1}if(e){var o=e.TEXTURE0,i=4,u=4,s=e.createTexture(),d=new Uint8Array(i*u),f=n.stripe?i/4:i,c=n.stripe?e.RGBA:e.LUMINANCE,l=n.stripe?e.NEAREST:e.LINEAR;e.activeTexture(o),e.bindTexture(e.TEXTURE_2D,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,l),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,l),e.texImage2D(e.TEXTURE_2D,0,c,f,u,0,c,e.UNSIGNED_BYTE,d);var p=e.getError();return p?!1:!0}return!1},OGVWrapperCodec=function(e){function t(t){if(o.audioCodec){var n=f[o.audioCodec];a=!0,OGVLoader.loadClass(n,function(e){var n={};o.audioFormat&&(n.audioFormat=o.audioFormat),u=new e(n),u.init(function(){p=u.loadedMetadata,a=!1,t()})},{worker:e.worker})}else t()}function n(t){if(o.videoCodec){var n=c[o.videoCodec];a=!0,OGVLoader.loadClass(n,function(e){var n={};o.videoFormat&&(n.videoFormat=o.videoFormat),i=new e(n),i.init(function(){h=i.loadedMetadata,a=!1,t()})},{worker:e.worker})}else t()}e=e||{};var r=this,a=("?version="+encodeURIComponent(OGVVersion),"string"==typeof e.base?e.base+"/":"","string"==typeof e.type?e.type:"video/ogg",!1),o=null,i=null,u=null,s=!1;Object.defineProperty(r,"loadedMetadata",{get:function(){return s}}),Object.defineProperty(r,"processing",{get:function(){return a||i&&i.processing||u&&u.processing}}),Object.defineProperty(r,"duration",{get:function(){return r.loadedMetadata?o.duration:NaN}}),Object.defineProperty(r,"hasAudio",{get:function(){return r.loadedMetadata&&!!u}}),Object.defineProperty(r,"audioReady",{get:function(){return r.hasAudio&&o.audioReady}}),Object.defineProperty(r,"audioTimestamp",{get:function(){return o.audioTimestamp}}),Object.defineProperty(r,"audioFormat",{get:function(){return r.hasAudio?u.audioFormat:null}}),Object.defineProperty(r,"audioBuffer",{get:function(){return r.hasAudio?u.audioBuffer:null}}),Object.defineProperty(r,"hasVideo",{get:function(){return r.loadedMetadata&&!!i}}),Object.defineProperty(r,"frameReady",{get:function(){return r.hasVideo&&o.frameReady}}),Object.defineProperty(r,"frameTimestamp",{get:function(){return o.frameTimestamp}}),Object.defineProperty(r,"keyframeTimestamp",{get:function(){return o.keyframeTimestamp}}),Object.defineProperty(r,"videoFormat",{get:function(){return r.hasVideo?i.videoFormat:null}}),Object.defineProperty(r,"frameBuffer",{get:function(){return r.hasVideo?i.frameBuffer:null}}),Object.defineProperty(r,"seekable",{get:function(){return o.seekable}}),r.init=function(t){var n;n="video/webm"===e.type?"OGVDemuxerWebM":"OGVDemuxerOgg",OGVLoader.loadClass(n,function(e){o=new e,o.init(t)})},r.destroy=function(){o=null,i=null,u=null};var d=[];r.receiveInput=function(e,t){d.push(e),t()};var f={vorbis:"OGVDecoderAudioVorbis",opus:"OGVDecoderAudioOpus"},c={theora:"OGVDecoderVideoTheora",vp8:"OGVDecoderVideoVP8",vp9:"OGVDecoderVideoVP9"},l=!1,p=!1,h=!1;return r.process=function(e){function f(t){a=!1,e(t)}function c(){if(d.length){var e=d.shift();o.process(e,function(e){!e&&d.length&&(e=!0),f(e)})}else f(!1)}if(a)throw new Error("reentrancy fail on OGVWrapperCodec.process");a=!0,o.loadedMetadata&&!l?t(function(){n(function(){l=!0,p=!u,h=!i,loadedAllMetadata=p&&h,f(!0)})}):l&&!p?u.loadedMetadata?(p=!0,loadedAllMetadata=p&&h,f(!0)):o.audioReady?o.dequeueAudioPacket(function(e){u.processHeader(e,function(e){f(!0)})}):c():p&&!h?i.loadedMetadata?(h=!0,loadedAllMetadata=p&&h,f(!0)):o.frameReady?(a=!0,o.dequeueVideoPacket(function(e){i.processHeader(e,function(){f(!0)})})):c():h&&!r.loadedMetadata&&loadedAllMetadata?(s=!0,f(!0)):!r.loadedMetadata||r.hasAudio&&!o.audioReady||r.hasVideo&&!o.frameReady?c():f(!0)},r.decodeFrame=function(e){var t=r.frameTimestamp,n=r.keyframeTimestamp;o.dequeueVideoPacket(function(a){i.processFrame(a,function(a){r.frameBuffer&&(r.frameBuffer.timestamp=t,r.frameBuffer.keyframeTimestamp=n),e(a)})})},r.decodeAudio=function(e){o.dequeueAudioPacket(function(t){u.processAudio(t,function(t){e(t)})})},r.discardFrame=function(e){o.dequeueVideoPacket(function(t){e()})},r.discardAudio=function(e){o.dequeueAudioPacket(function(t){e(ok)})},r.flush=function(e){d.splice(0,d.length),o.flush(e)},r.getKeypointOffset=function(e,t){o.getKeypointOffset(e,t)},r},OGVDecoderAudioProxy=o({loadedMetadata:!1,audioFormat:null,audioBuffer:null},{init:function(e){this.proxy("init",[],e)},processHeader:function(e,t){this.proxy("processHeader",[e],t,[e])},processAudio:function(e,t){this.proxy("processAudio",[e],t,[e])}}),OGVDecoderVideoProxy=o({loadedMetadata:!1,videoFormat:null,frameBuffer:null},{init:function(e){this.proxy("init",[],e)},processHeader:function(e,t){this.proxy("processHeader",[e],t,[e])},processFrame:function(e,t){this.proxy("processFrame",[e],t,[e])}}),OGVTimeRanges=window.OGVTimeRanges=function(e){return Object.defineProperty(this,"length",{get:function(){return e.length}}),this.start=function(t){return e[t][0]},this.end=function(t){return e[t][1]},this},OGVPlayer=window.OGVPlayer=function(o){function i(e){var t=F();e();var n=F()-t;return Se+=n,n}function s(e){o.debug&&console.log("OGVPlayer: "+e)}function d(e,t){var n;t=t||{},"function"==typeof window.Event?n=new CustomEvent(e):(n=document.createEvent("Event"),n.initEvent(e,!1,!1));for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);Y.dispatchEvent(n)}function f(){K=new u(H),re&&K.mute(),K.onstarved=function(){q&&(clearTimeout(q),q=null,O())},K.init(te.channels,te.rate)}function c(e){if(K){K.start();var t=K.getPlaybackState();ae=t.playbackPosition}else ae=F()/1e3;void 0!==e&&(oe=e),s("continuing at "+ae+", "+oe)}function l(){K&&K.stop(),oe=p(),s("pausing at "+oe)}function p(e){var t;return K?(e=e||K.getPlaybackState(),t=e.playbackPosition):t=F()/1e3,t-ae+oe}function h(){s("STOPPING"),_=N.INITIAL,de=!1,fe=!0,ce=!0,Ge=0,Ve=0,Se=0,z&&(z.abort(),z=null),W&&(W.destroy(),W=null),K&&(K.close(),K=void 0),q&&(clearTimeout(q),q=null)}function m(){le&&!document.body.contains(Y)&&setTimeout(function(){Y.stop()},0);var e=F(),t=e-De,n=Math.abs(t-ve);Ae+=n,be+=t,d("framecallback",{cpuTime:Se,clockTime:t}),Se=0,De=e}function v(e){Ne=e,Z=new r({start:0,end:z.bytesTotal-1,process:function(e,t,n){return n==J?!1:(J=n,$=!1,W.flush(function(){z.seek(n),A()}),!0)}}),Z.start()}function y(e){if(0===z.bytesTotal)throw new Error("Cannot bisect a non-seekable stream");_=N.SEEKING,Le=e,ke=-1,$=!1,J=-1,ne.push(function(){l(),W.flush(function(){W.getKeypointOffset(e,function(e){e>0?(j=M.LINEAR_TO_TARGET,z.seek(e),A()):(j=M.BISECT_TO_TARGET,v(Le))})})})}function g(){j=M.NOT_SEEKING,_=N.PLAYING,Ge=W.frameTimestamp,Ve=W.audioTimestamp,Le=W.hasAudio?W.audioTimestamp:W.frameTimestamp,c(Le),fe?l():P()||O(0)}function b(){var e;if(e=W.hasVideo?ve:1/256,W.hasVideo){if(!W.frameReady)return void O();if(W.frameTimestamp<0||W.frameTimestamp+e<Le)return void W.decodeFrame(function(){O()});if(!W.hasAudio)return void g()}return W.hasAudio?W.audioReady?W.audioTimestamp<0||W.audioTimestamp+e<Le?void W.decodeAudio(function(){O()}):void g():void O():void 0}function T(){var e,t;if(W.hasVideo){if(!W.frameReady)return void O();t=W.frameTimestamp,e=ve}else{if(!W.hasAudio)throw new Error("Invalid seek state; no audio or video track available");if(!W.audioReady)return void O();t=W.audioTimestamp,e=1/256}0>t?W.frameReady?W.decodeFrame(function(){O()}):W.audioReady?W.decodeAudio(function(){O()}):O():t-e>Ne?Z.left()||(Le=W.frameTimestamp,g()):Ne>t+e?Z.right()||(Le=W.frameTimestamp,g()):j==M.BISECT_TO_TARGET&&W.hasVideo&&W.keyframeTimestamp<W.frameTimestamp?(j=M.BISECT_TO_KEYPOINT,v(W.keyframeTimestamp)):(j=M.LINEAR_TO_TARGET,O())}function E(){ve=ee.fps>0?1e3/ee.fps:16.667,X.width=ee.displayWidth,X.height=ee.displayHeight,OGVPlayer.styleManager.appendRule("."+G,{width:ee.displayWidth+"px",height:ee.displayHeight+"px"}),OGVPlayer.updatePositionOnResize(),U=D?new n(X,ee):new t(X,ee)}function w(e){Me?setImmediate(e):je?e():setTimeout(e,0)}function R(){function e(){s("finishStartPlaying"),_=N.PLAYING,De=F(),c(0),O(0),d("play")}if(q=null,!P()){if(_e>0&&!je)throw new Error("REENTRANCY FAIL: doProcessing recursing unexpectedly");if(_e++,ne.length){var t=ne.shift();t()}else if(_==N.INITIAL)W.process(function(e){if(W.loadedMetadata){if(!W.hasVideo&&!W.hasAudio)throw new Error("No audio or video found, something is wrong");W.hasAudio&&(te=W.audioFormat),W.hasVideo&&(ee=W.videoFormat,E()),isNaN(W.duration)||(ue=W.duration),null===ue&&z.seekable?(_=N.SEEKING_END,se=-1,W.flush(function(){z.seek(Math.max(0,z.bytesTotal-131072)),A()})):(_=N.LOADED,O())}else e?O():(s("reading more cause we are out of data"),A())});else if(_==N.SEEKING_END)W.process(function(e){W.hasVideo&&W.frameReady?(se=Math.max(se,W.frameTimestamp),W.discardFrame(function(){O()})):W.hasAudio&&W.audioReady?(se=Math.max(se,W.audioTimestamp),W.decodeAudio(function(){O()})):e?O():z.bytesRead<z.bytesTotal?A():(se>0&&(ue=se),_=N.LOADED,W.flush(function(){z.seek(0),A()}))});else if(_==N.LOADED)_=N.READY,o.readyCallback&&o.readyCallback(),fe?s("pausing stopping at loaded"):(s("not paused so continuing"),O(0)),d("loadedmetadata");else if(_==N.READY)fe?s("paused while in ready"):W.hasAudio?(f(),K.waitUntilReady(e)):e();else if(_==N.SEEKING)W.process(function(e){if(e){if(j==M.NOT_SEEKING)throw new Error("seeking in invalid state (not seeking?)");j==M.BISECT_TO_TARGET?T():j==M.BISECT_TO_KEYPOINT?T():j==M.LINEAR_TO_TARGET&&b()}else A()});else{if(_!=N.PLAYING)throw new Error("Unexpected OGVPlayer state "+_);var n=F();W.process(function(e){var t=F()-n;if(Te+=t,Se+=t,e)if(fe);else if(!W.audioReady&&W.hasAudio||!W.frameReady&&W.frameReady)s("need more data"),O();else{var r,a,o,u=0,f=null,c=0,l=[];if(W.hasAudio&&K){f=K.getPlaybackState(),c=p(f),u=f.samplesQueued/K.targetRate,Oe=f.dropped,xe=f.delayed;var v=K.bufferSize/K.targetRate*2;r=W.audioReady&&v>=u,Be||(W.audioReady?W.hasVideo&&c-Ge>v?(r=!1,l.push(1e3*(c-Ge))):(l.push(1e3*(u-v)),l.push(1e3*v/4)):l.push(-1))}else c=p();if(W.hasVideo){var y=.1,g=1e3*(Ge-c);g=Math.max(0,g),g=Math.min(g,ve),a=!!Ie&&!He&&y>=g,o=!Ie&&!He&&W.frameReady,Ie?l.push(g):He||(W.frameReady?l.push(g):l.push(-1))}if(s([c,Ge,Ve,a,o,r].join(", ")),a)s("ready to draw frame"),Q&&(Y.removeChild(Q),Q=null),Pe+=i(function(){U.drawFrame(Ie)}),Ie=null,me++,he++,m(),O(0);else if(o){s("ready to decode frame");var b=F();He++,0==ee.fps&&W.frameTimestamp-Ge>0&&(ve=1e3*(W.frameTimestamp-Ge)),ye+=ve,ge++,Ge=W.frameTimestamp;W.decodeFrame(function(e){s("decoded frame");var t=F()-b;Ee+=t,Se+=t,e?Ie=W.frameBuffer:s("Bad video packet or something"),He--,P()||O()}),P()||O()}else if(r){s("ready for audio");var T=F();Be++,Ve=W.audioTimestamp,W.decodeAudio(function(e){s("decoded audio");var t=F()-T;if(we+=t,Se+=t,e){var n=W.audioBuffer;n&&(Re+=i(function(){K.bufferData(n)}),u+=n[0].length/te.rate*1e3)}Be--,P()||O()}),P()||O()}else{var E=Math.min.apply(Math,l);l.length>0?(s("idle: "+E+" - "+l.join(",")),W.hasVideo||(me++,m()),O(Math.max(0,E))):s(He||Be?"waiting on pending events":"we may be lost")}}else if(z)A();else{var w=0;W.hasAudio&&(f=K.getPlaybackState(),u=f.samplesQueued/K.targetRate,
w=1e3*u),Be||He||w>0?O(Math.max(0,w)):(s("ENDING NOW"),h(),ce=!0,d("ended"))}})}_e--}}function P(){return pe||W&&W.processing}function A(){pe=!0,z.readBytes()}function O(e){if(void 0===e&&(e=-1),P())throw new Error("REENTRANCY FAIL: asked to pingProcessing() while already waiting");q&&(clearTimeout(q),q=null);var t=-1/256;e>t?q=setTimeout(R,e):w(R)}function x(){de||W||(me=0,Te=0,Ee=0,we=0,Re=0,Pe=0,de=!0,ce=!1,W=new I(B),W.init(function(){A()}))}function C(e){V="OGVWrapperCodec",L&&Y.src.match(/\.webm$/i)?B.type="video/webm":B.type="video/ogg",OGVLoader.loadClass(V,function(t){I=t,e()})}o=o||{};var G="ogvjs"+ ++OGVPlayer.instanceCount,V=null,I=null,S=n.isAvailable(),D=o.webGL!==!1&&S;o.forceWebGL&&(D=!0,S||console.log("No support for WebGL detected, but WebGL forced on!"));var L=!!o.enableWebM,k=!!window.Worker;"undefined"!=typeof o.worker&&(k=!!o.worker);var N={INITIAL:"INITIAL",SEEKING_END:"SEEKING_END",LOADED:"LOADED",READY:"READY",PLAYING:"PLAYING",SEEKING:"SEEKING",ENDED:"ENDED"},_=N.INITIAL,M={NOT_SEEKING:"NOT_SEEKING",BISECT_TO_TARGET:"BISECT_TO_TARGET",BISECT_TO_KEYPOINT:"BISECT_TO_KEYPOINT",LINEAR_TO_TARGET:"LINEAR_TO_TARGET"},j=M.NOT_SEEKING,H={},B={};o.base=o.base||OGVLoader.base,"string"==typeof o.base&&(H.base=o.base,B.base=o.base),"undefined"!=typeof o.audioContext&&(H.audioContext=o.audioContext),B.worker=k;var U,X=document.createElement("canvas"),Y=document.createElement("ogvjs");Y.className=G,Y.appendChild(X);var F;F=void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance);var W,K,z,q,Q,J,$,Z,ee,te,ne=(F(),[]),re=!1,ae=0,oe=0,ie=0,ue=null,se=null,de=!1,fe=!0,ce=!1,le=!1,pe=!1,he=0,me=0,ve=1e3/60,ye=0,ge=0,be=0,Te=0,Ee=0,we=0,Re=0,Pe=0,Ae=0,Oe=0,xe=0,Ce="",Ge=(F(),0),Ve=0,Ie=null,Se=0,De=0,Le=0,ke=0,Ne=0,_e=0,Me=o.useImmediate&&!!window.setImmediate,je=!Me,He=0,Be=0;Y.load=function(){z||(de=!1,z=new e({url:Y.src,bufferSize:262144,onstart:function(){ie=z.bytesTotal;var e=z.getResponseHeader("X-Content-Duration");"string"==typeof e&&(ue=parseFloat(e)),C(x)},onread:function(e){s("got input"),pe=!1,ne.push(function(){W.receiveInput(e,function(){O()})}),P()||O()},ondone:function(){pe=!1,_==N.SEEKING?O():_==N.SEEKING_END?O():(s("closing stream (done)"),z=null,P()||O())},onerror:function(e){console.log("reading error: "+e)}}))},Y.canPlayType=function(e){var t=new a(e);if("ogg"!==t.minor||"audio"!==t.major&&"video"!==t.major&&"application"!==t.major)return"";if(t.codecs){var n=["vorbis","opus","theora"],r=0,o=0;return t.codecs.forEach(function(e){n.indexOf(e)>=0?r++:o++}),0===r?"":o>0?"":"probably"}return"maybe"},Y.play=function(){H.audioContext||OGVPlayer.initSharedAudioContext(),fe&&(le=document.body.contains(Y),fe=!1,de?(s(".play() while already started"),ne.push(function(){c(),d("play"),O(0)}),P()||O()):(s(".play() before started"),z||Y.load()))},Y.getPlaybackStats=function(){return{targetPerFrameTime:ve,framesProcessed:me,playTime:be,demuxingTime:Te,videoDecodingTime:Ee,audioDecodingTime:we,bufferTime:Re,drawingTime:Pe,droppedAudio:Oe,delayedAudio:xe,jitter:Ae/me}},Y.resetPlaybackStats=function(){me=0,be=0,Te=0,Ee=0,we=0,Re=0,Pe=0,Ae=0,ye=0,ge=0},Y.pause=function(){z?fe||(clearTimeout(q),q=null,l(),fe=!0,d("pause")):(fe=!0,Y.load())},Y.stop=function(){h()},Y.src="",Object.defineProperty(Y,"buffered",{get:function(){var e;return e=z&&ie&&ue?z.bytesBuffered/ie*ue:0,new OGVTimeRanges([[0,e]])}}),Object.defineProperty(Y,"seekable",{get:function(){return Y.duration<1/0&&z&&z.seekable&&W&&W.seekable?new OGVTimeRanges([[0,ue]]):new OGVTimeRanges([])}}),Object.defineProperty(Y,"currentTime",{get:function(){return _==N.SEEKING?Le:W?_!=N.PLAYING||fe?oe:p():0},set:function(e){z&&ie&&ue&&y(e)}}),Object.defineProperty(Y,"duration",{get:function(){return W&&W.loadedMetadata?null!==ue?ue:1/0:NaN}}),Object.defineProperty(Y,"paused",{get:function(){return fe}}),Object.defineProperty(Y,"ended",{get:function(){return ce}}),Object.defineProperty(Y,"seeking",{get:function(){return _==N.SEEKING}}),Object.defineProperty(Y,"muted",{get:function(){return re},set:function(e){re=e,K&&(re?K.mute():K.unmute())}}),Object.defineProperty(Y,"poster",{get:function(){return Ce},set:function(e){Ce=e,de||(Q&&Y.removeChild(Q),Q=new Image,Q.src=Ce,Q.className="ogvjs-poster",Q.style.position="absolute",Q.style.top="0",Q.style.left="0",Q.style.width="100%",Q.style.height="100%",Q.style.objectFit="contain",Q.addEventListener("load",function(){OGVPlayer.styleManager.appendRule("."+G,{width:Q.naturalWidth+"px",height:Q.naturalHeight+"px"}),Y.appendChild(Q),OGVPlayer.updatePositionOnResize()}))}}),Object.defineProperty(Y,"videoWidth",{get:function(){return ee?ee.displayWidth:0}}),Object.defineProperty(Y,"videoHeight",{get:function(){return ee?ee.displayHeight:0}}),Object.defineProperty(Y,"ogvjsVideoFrameRate",{get:function(){return ee?0==ee.fps?ge/(ye/1e3):ee.fps:0}}),Object.defineProperty(Y,"ogvjsAudioChannels",{get:function(){return te?te.channels:0}}),Object.defineProperty(Y,"ogvjsAudioSampleRate",{get:function(){return te?te.rate:0}});var Ue=0,Xe=0;return Object.defineProperty(Y,"width",{get:function(){return Ue},set:function(e){Ue=parseInt(e,10),Y.style.width=Ue+"px"}}),Object.defineProperty(Y,"height",{get:function(){return Xe},set:function(e){Xe=parseInt(e,10),Y.style.height=Xe+"px"}}),Y.onframecallback=null,Y.onloadedmetadata=null,Y.onplay=null,Y.onpause=null,Y.onended=null,Y},OGVPlayer.initSharedAudioContext=function(){u.initSharedAudioContext()},OGVPlayer.instanceCount=0,OGVPlayer.styleManager=new i,OGVPlayer.supportsObjectFit=!1,OGVPlayer.supportsObjectFit)OGVPlayer.updatePositionOnResize=function(){};else{OGVPlayer.updatePositionOnResize=function(){function e(e,t,n){var r=e.offsetParent||e.parentNode,a=(r.offsetWidth/r.offsetHeight,Math.ceil(app.display.width)),o=Math.ceil(a/1.5);e.style.width=a+"px",e.style.height=o+"px"}function t(e,t){var n=document.querySelectorAll(e),r=Array.prototype.slice.call(n);r.forEach(t)}t("ogvjs > canvas",function(t){e(t,t.width,t.height)}),t("ogvjs > img",function(t){e(t,t.naturalWidth,t.naturalHeight)})};var s=function(){setTimeout(OGVPlayer.updatePositionOnResize,0)};window.addEventListener("resize",OGVPlayer.updatePositionOnResize),window.addEventListener("orientationchange",OGVPlayer.updatePositionOnResize),document.addEventListener("fullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("MSFullscreenChange",s)}this.OGVLoader=OGVLoader,this.OGVMediaType=a,this.OGVTimeRanges=OGVTimeRanges,this.OGVPlayer=OGVPlayer}(),this.OGVVersion="0.9.9-20150818071615-7c4f8ee";