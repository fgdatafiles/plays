function z(a){throw a;}var f=void 0,h=!0,i=null,k=!1;function A(){return function(){}}function aa(a){return function(b){this[a]=b}}function B(a){return function(){return this[a]}}function ba(a){return function(){return a}}var m,n=n||{};n.V=function(a){n.m(a)};n.m=function(a,b,c){a=a.split(".");c=c||window;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var g;a.length&&(g=a.shift());)!a.length&&b!==f?c[g]=b:c=c[g]?c[g]:c[g]={}};n.o=function(a,b){n.m(a,b,f)};n.n=function(a,b,c){a[b]=c};
n.N=function(a,b){function c(){}c.prototype=b.prototype;a.H=b.prototype;a.prototype=new c;a.prototype.constructor=a;var g={};p(g,b,a);p(a,g)};n.J=function(a,b,c){var g=arguments.callee.caller;if(g.H)return g.H.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),d=k,j=a.constructor;j;j=j.H&&j.H.constructor)if(j.prototype[b]===g)d=h;else if(d)return j.prototype[b].apply(a,e);if(a[b]===g)return a.constructor.prototype[b].apply(a,e);z(Error("goog.base called from a method of one name to a method of a different name"))};jQuery.fn.Zk=function(a){return $(this).get(0)==$(a).get(0)};n.o("jQuery.fn.equals",jQuery.fn.Zk);$.fn.ft=function(){this.live("selectstart",function(a){a.preventDefault();return h});return this};n.o("$.fn.disableSelect",$.fn.ft);$.fn.et=function(){this.live("mousedown",function(a){a.preventDefault()});return this};n.o("$.fn.disableDrag",$.fn.et);
$.fn.$n=function(){this.click(function(a){a.stopPropagation()});rpjs.info.touchDevice?(this.bind("touchstart.disableclickthrough",function(a){a.stopPropagation()}),this.bind("touchend.disableclickthrough",function(a){a.stopPropagation()})):this.mousedown(function(a){a.stopPropagation()});return this};n.o("$.fn.disableClickThrough",$.fn.$n);$.fn.ao=function(){this.mousemove(function(a){a.stopPropagation()});return this.$n()};n.o("$.fn.disableMousePropagation",$.fn.ao);function ca(a){return da(ea(fa(a)))}n.o("hex_md5",ca);n.o("b64_md5",function(a){return ga(ea(fa(a)))});n.o("any_md5",function(a,b){return ha(ea(fa(a)),b)});n.o("hex_hmac_md5",function(a,b){return da(ia(fa(a),fa(b)))});n.o("b64_hmac_md5",function(a,b){return ga(ia(fa(a),fa(b)))});n.o("any_hmac_md5",function(a,b,c){return ha(ia(fa(a),fa(b)),c)});n.o("md5_vm_test",function(){return"900150983cd24fb0d6963f7d28e17f72"==ca("abc").toLowerCase()});function ea(a){return ka(la(na(a),8*a.length))}
function ia(a,b){var c=na(a);16<c.length&&(c=la(c,8*a.length));for(var g=Array(16),e=Array(16),d=0;16>d;d++)g[d]=c[d]^909522486,e[d]=c[d]^1549556828;c=la(g.concat(na(b)),512+8*b.length);return ka(la(e.concat(c),640))}function da(a){for(var b="",c,g=0;g<a.length;g++)c=a.charCodeAt(g),b+="0123456789abcdef".charAt(c>>>4&15)+"0123456789abcdef".charAt(c&15);return b}
function ga(a){for(var b="",c=a.length,g=0;g<c;g+=3)for(var e=a.charCodeAt(g)<<16|(g+1<c?a.charCodeAt(g+1)<<8:0)|(g+2<c?a.charCodeAt(g+2):0),d=0;4>d;d++)b=8*g+6*d>8*a.length?b+"":b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6*(3-d)&63);return b}
function ha(a,b){var c=b.length,g,e,d,j,l,q=Array(Math.ceil(a.length/2));for(g=0;g<q.length;g++)q[g]=a.charCodeAt(2*g)<<8|a.charCodeAt(2*g+1);var w=Math.ceil(8*a.length/(Math.log(b.length)/Math.log(2))),t=Array(w);for(e=0;e<w;e++){l=[];for(g=j=0;g<q.length;g++)if(j=(j<<16)+q[g],d=Math.floor(j/c),j-=d*c,0<l.length||0<d)l[l.length]=d;t[e]=j;q=l}c="";for(g=t.length-1;0<=g;g--)c+=b.charAt(t[g]);return c}
function fa(a){for(var b="",c=-1,g,e;++c<a.length;)g=a.charCodeAt(c),e=c+1<a.length?a.charCodeAt(c+1):0,55296<=g&&(56319>=g&&56320<=e&&57343>=e)&&(g=65536+((g&1023)<<10)+(e&1023),c++),127>=g?b+=String.fromCharCode(g):2047>=g?b+=String.fromCharCode(192|g>>>6&31,128|g&63):65535>=g?b+=String.fromCharCode(224|g>>>12&15,128|g>>>6&63,128|g&63):2097151>=g&&(b+=String.fromCharCode(240|g>>>18&7,128|g>>>12&63,128|g>>>6&63,128|g&63));return b}
function na(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(c=0;c<8*a.length;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<c%32;return b}function ka(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b}
function la(a,b){a[b>>5]|=128<<b%32;a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,g=-271733879,e=-1732584194,d=271733878,j=0;j<a.length;j+=16)var l=c,q=g,w=e,t=d,c=oa(c,g,e,d,a[j+0],7,-680876936),d=oa(d,c,g,e,a[j+1],12,-389564586),e=oa(e,d,c,g,a[j+2],17,606105819),g=oa(g,e,d,c,a[j+3],22,-1044525330),c=oa(c,g,e,d,a[j+4],7,-176418897),d=oa(d,c,g,e,a[j+5],12,1200080426),e=oa(e,d,c,g,a[j+6],17,-1473231341),g=oa(g,e,d,c,a[j+7],22,-45705983),c=oa(c,g,e,d,a[j+8],7,1770035416),d=oa(d,c,g,e,a[j+9],12,-1958414417),
e=oa(e,d,c,g,a[j+10],17,-42063),g=oa(g,e,d,c,a[j+11],22,-1990404162),c=oa(c,g,e,d,a[j+12],7,1804603682),d=oa(d,c,g,e,a[j+13],12,-40341101),e=oa(e,d,c,g,a[j+14],17,-1502002290),g=oa(g,e,d,c,a[j+15],22,1236535329),c=pa(c,g,e,d,a[j+1],5,-165796510),d=pa(d,c,g,e,a[j+6],9,-1069501632),e=pa(e,d,c,g,a[j+11],14,643717713),g=pa(g,e,d,c,a[j+0],20,-373897302),c=pa(c,g,e,d,a[j+5],5,-701558691),d=pa(d,c,g,e,a[j+10],9,38016083),e=pa(e,d,c,g,a[j+15],14,-660478335),g=pa(g,e,d,c,a[j+4],20,-405537848),c=pa(c,g,e,d,
a[j+9],5,568446438),d=pa(d,c,g,e,a[j+14],9,-1019803690),e=pa(e,d,c,g,a[j+3],14,-187363961),g=pa(g,e,d,c,a[j+8],20,1163531501),c=pa(c,g,e,d,a[j+13],5,-1444681467),d=pa(d,c,g,e,a[j+2],9,-51403784),e=pa(e,d,c,g,a[j+7],14,1735328473),g=pa(g,e,d,c,a[j+12],20,-1926607734),c=C(g^e^d,c,g,a[j+5],4,-378558),d=C(c^g^e,d,c,a[j+8],11,-2022574463),e=C(d^c^g,e,d,a[j+11],16,1839030562),g=C(e^d^c,g,e,a[j+14],23,-35309556),c=C(g^e^d,c,g,a[j+1],4,-1530992060),d=C(c^g^e,d,c,a[j+4],11,1272893353),e=C(d^c^g,e,d,a[j+7],
16,-155497632),g=C(e^d^c,g,e,a[j+10],23,-1094730640),c=C(g^e^d,c,g,a[j+13],4,681279174),d=C(c^g^e,d,c,a[j+0],11,-358537222),e=C(d^c^g,e,d,a[j+3],16,-722521979),g=C(e^d^c,g,e,a[j+6],23,76029189),c=C(g^e^d,c,g,a[j+9],4,-640364487),d=C(c^g^e,d,c,a[j+12],11,-421815835),e=C(d^c^g,e,d,a[j+15],16,530742520),g=C(e^d^c,g,e,a[j+2],23,-995338651),c=qa(c,g,e,d,a[j+0],6,-198630844),d=qa(d,c,g,e,a[j+7],10,1126891415),e=qa(e,d,c,g,a[j+14],15,-1416354905),g=qa(g,e,d,c,a[j+5],21,-57434055),c=qa(c,g,e,d,a[j+12],6,
1700485571),d=qa(d,c,g,e,a[j+3],10,-1894986606),e=qa(e,d,c,g,a[j+10],15,-1051523),g=qa(g,e,d,c,a[j+1],21,-2054922799),c=qa(c,g,e,d,a[j+8],6,1873313359),d=qa(d,c,g,e,a[j+15],10,-30611744),e=qa(e,d,c,g,a[j+6],15,-1560198380),g=qa(g,e,d,c,a[j+13],21,1309151649),c=qa(c,g,e,d,a[j+4],6,-145523070),d=qa(d,c,g,e,a[j+11],10,-1120210379),e=qa(e,d,c,g,a[j+2],15,718787259),g=qa(g,e,d,c,a[j+9],21,-343485551),c=ra(c,l),g=ra(g,q),e=ra(e,w),d=ra(d,t);return[c,g,e,d]}
function C(a,b,c,g,e,d){return ra(ra(ra(b,a),ra(g,d))<<e|ra(ra(b,a),ra(g,d))>>>32-e,c)}function oa(a,b,c,g,e,d,j){return C(b&c|~b&g,a,b,e,d,j)}function pa(a,b,c,g,e,d,j){return C(b&g|c&~g,a,b,e,d,j)}function qa(a,b,c,g,e,d,j){return C(c^(b|~g),a,b,e,d,j)}function ra(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535};function sa(a,b){var c=a/b;return 0<=c?Math.floor(c):Math.ceil(c)}function ta(a,b){for(var c=0;c<a.length;c++)if(a[c]===b){a.splice(c,1);break}}function ua(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}
function r(a){var b={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};return a==i?String(a):b[Object.prototype.toString.call(a)]||"object"}var s=Array.isArray||function(a){return"array"===r(a)};
function u(a){if(!a||("object"!==r(a)||a.nodeType||a&&"object"===typeof a&&"setInterval"in a)||a.constructor&&!Object.prototype.hasOwnProperty.call(a,"constructor")&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return k;for(var b in a);return b===f||Object.prototype.hasOwnProperty.call(a,b)}
function p(a,b){var c,g,e,d,j,l=arguments[0]||{},q=1,w=arguments.length,t=k;"boolean"===typeof l&&(t=l,l=arguments[1]||{},q=2);"object"!==typeof l&&"function"!==r(l)&&(l={});w===q&&(l=this,--q);for(;q<w;q++)if((c=arguments[q])!=i)for(g in c)e=l[g],d=c[g],l!==d&&(t&&d&&(u(d)||(j=s(d)))?(j?(j=k,e=e&&s(e)?e:[]):e=e&&u(e)?e:{},l[g]=p(t,e,d)):d!==f&&(l[g]=d));return l}function va(a){if(a.Ur)return a.Ur;if(a.name)return a.name;a=(""+a).match(/function\s*([\w\$]*)\s*\(/);return a!==i?a[1]:i};rpjs.event={global:{Ri:"",xw:"",yw:"",Rv:"",Qv:"",Nv:"",Mv:"",sw:"",tw:"",vf:"",Si:"",nw:"",Sg:"",Uv:"",lw:"",pw:"",ow:"",qw:"",Xv:"",Wv:"",Hp:"",Jp:"",Ip:"",Kp:"",mw:"",Ol:"",FB:""},e:{Mi:"",f:"",kw:"",k:"",l:"",ra:"",$c:"",sf:"",jb:"",wc:"",Nb:"",zp:"",Ti:"",transform:{ww:""},da:{Gp:"",yp:""},Ea:{Xc:"",Np:"",Vv:""},Ph:{Ov:""},media:{hw:"",gw:"",$v:""},Qs:{Tv:""}},Xb:{fw:""},rb:{Nl:"",rw:"",cw:"",Qi:"",Mp:"",Cp:""},custom:{}};var D={};n.o("RPNMessagingProtocol",D);D.version="001";D.Zm=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};D.Iw=function(a){if("["!=a[0])return D.Xi(a).Jk;a=a[8];"0"==a&&(a=f);return a};D.PB=function(a){return"["!=a[0]?"000":a.substr(2,3)};D.Uw=RegExp(/(;cid:)([^;\"]+);?/gim);D.dn=i;D.NB=function(a){return"["!=a[0]?D.Xi(a).yz:(D.dn=a.split(D.Uw))?D.dn[2]:i};D.Sw=RegExp(/(t:)([^;\"]+);?/gim);D.mn=i;
D.OB=function(a){return"["!=a[0]?D.Xi(a).ym:(D.mn=a.split(D.Sw))?D.mn[2]:i};D.Xi=function(a){return JSON.parse(a)};D.Rw=RegExp(/([^:]+):([^;\"]+);?/gim);D.rk=i;
D.parse=function(a){if("["!=a[0])return D.Xi(a);var b=a.substr(2,3),c={};switch(b){case "001":for(var b=a.indexOf('"',8),g=a.substr(9,b-9);D.rk=D.Rw.exec(g);)c[D.rk[1]]=D.rk[2];c.s&&(c.s=parseInt(c.s));b+2<a.length&&(c.d=JSON.parse(a.substring(b+2,a.length-1)));c.c=D.Iw(a);return c;default:z(Error("RPNMessagingProtocol.parse() Unknown version "+b))}};
D.ot=function(a){var b;b=b||"001";switch(b){case "000":b={};for(var c=D.Zm(a),g=0;g<c.length;g++)b[c[g]]=a[c[g]];delete b.version;b=JSON.stringify(b);console.error("Legacy Message: "+b);return b;case "001":var e;a.d&&"object"==typeof a.d?e=JSON.stringify(a.d):a.d&&(e='"'!=a.d[0]&&"{"!=a.d[0]?'"'+a.d+'"':a.d);for(var d=a.c||"0",c=D.Zm(a),g=0;g<c.length;g++)"c"!=c[g]&&"d"!=c[g]&&(d+=c[g]+":"+a[c[g]],c.length>g+1&&(d+=";"));return e?'["'+b+'","'+d+'",'+e+"]":'["'+b+'","'+d+'"]';default:z(Error("RPNMessagingProtocol.encode() Unknown version "+
b))}};var wa=D;function F(a,b,c){this.a=a;this.typeName=b;this.I=k;this.Zw=h;this.qb=F.bb.ph;this.Zf=c||{};this.a.ha!=i&&rpjs.remoteCalls.cq(this)}n.o("RPJS_Component",F);F.bb={ph:0,Qm:1,Hj:2,He:3};m=F.prototype;m.Nj=function(){this.ca();var a=G.ni(this.mi(),this.Zf,this.a);rpjs.editor.isEditing||delete this.Zf;for(var b in a)this[b]=a[b]};
m.ek=function(){if(this.qb==F.bb.ph&&(!rpjs.editor.isEditing||this.Hd()))this.qb=F.bb.Qm,this.gc(rpjs.event.e.f),this.a.I||(this.Qd=h,rpjs.game.instance.od("componentPostInitAndOrEnable",this))};m.jn=function(){this.Qd=k;this.qb==F.bb.Qm&&(this.qb=F.bb.Hj,this.gc(rpjs.event.e.kw));!this.I&&(this.enabled&&this.qb==F.bb.Hj)&&(this.qb=F.bb.He,this.enabled=h,this.gc(rpjs.event.e.k),this.enabled&&(!this.I&&this.Zw)&&rpjs.game.instance.Yw(this))};
m.K=function(){this.I||(this.$f(),this.Qd&&(this.Qd=k,rpjs.game.instance.Pj("componentPostInitAndOrEnable",this)),this.Yf||(this.Ih=h,rpjs.game.instance.od("cleanUp",this)))};m.bi=function(){this.Yf||(this.I||this.$f(),this.Qd&&(this.Qd=k,rpjs.game.instance.Pj("componentPostInitAndOrEnable",this)),this.Ih&&(this.Ih=k,rpjs.game.instance.Pj("cleanUp",this)),this.Yf||this.zh())};m.$f=function(){this.I=h;this.enabled=k;if(!rpjs.editor.isEditing||this.Hd())this.gc(rpjs.event.e.l,h),rpjs.game.instance.Yq(this)};
m.zh=function(){this.qb=F.bb.ph;this.Yf=h;this.Qd=this.Ih=k;this.a.ha!=i&&rpjs.remoteCalls.qy(this);this.a.Dr(this);this.aa();for(var a in this)"object"==typeof this[a]&&(this[a]=f)};m.enable=function(){!this.enabled&&!this.I&&(this.enabled=h,(!rpjs.editor.isEditing||this.Hd())&&this.qb<F.bb.He&&this.jn())};m.disable=function(){if(this.enabled&&!this.I&&(this.enabled=k,(!rpjs.editor.isEditing||this.Hd())&&!this.I&&this.qb==F.bb.He))this.qb=F.bb.Hj,this.gc(rpjs.event.e.l,k),rpjs.game.instance.Yq(this)};
m.ca=A();m.aa=A();m.ke=function(a){a.x=0;a.y=0};m.dq=function(a,b,c){rpjs.remoteCalls.dq(a,b,c)};m.Pn=function(a,b,c,g){rpjs.remoteCalls.Pn(a,b,c,g)};m.Hd=function(){return this.constructor.xd()||this.a.ji};m.Cx=function(a,b){var c=this.g()[a];c?(c=G.el(c,b,this.a),this[a]=c):console.error("Trying to set field "+a+" in actor "+this.a.name+" for component of type "+this.typeName+" which does not exist")};
m.qd=function(){var a=this.a,b=this.Zf;this.bi();a.j.push(this);this.a=a;this.Zf=b;this.qb=F.bb.ph;this.I=k;this.enabled=h;this.Qd=this.Ih=this.Yf=k;this.a.ha!=i&&rpjs.remoteCalls.cq(this);var a=this.mi(),c;for(c in a)delete this[c];this.Nj();this.ek()};m.zr=function(a,b){var c=this.mi()[a];this.Zf[a]=b;b=G.el(c,b,this.a);c=this[a];"enabled"==a?b?this.enable():this.disable():(this[a]=b,this.gc(rpjs.event.e.Nb,{fieldName:a,newValue:b,oldValue:c}))};
m.gc=function(a,b){if(this[a])try{this[a](b)}catch(c){var g="The method "+a+"() in component "+this.typeName+" in actor "+this.a.name+" failed with error: "+RPJS_Loader.extractExceptionInfo(c)+". Forcefully disabling component!";console.error(g);console.trace();this.disable()}this[rpjs.event.e.Mi]&&a!=rpjs.event.e.Mi&&this.gc(rpjs.event.e.Mi,{fi:a,MB:b})};
m.ng=function(a,b){try{this[a](b)}catch(c){var g="The method "+a+"() in component "+this.typeName+" in actor "+this.a.name+" failed with error: "+RPJS_Loader.extractExceptionInfo(c)+". Forcefully disabling component!";console.error(g);console.trace();this.disable()}};
m.Sx=function(a){var b=k;switch(a){case rpjs.event.e.ra:if(this[rpjs.event.e.ra]&&(!rpjs.editor.isEditing||this.Hd()))b=h;break;case rpjs.event.e.$c:if(this[rpjs.event.e.$c]&&(!rpjs.editor.isEditing||this.Hd()))b=h;break;case rpjs.event.e.sf:if(this[rpjs.event.e.sf]&&(!rpjs.editor.isEditing||this.Hd()))b=h;break;case rpjs.event.e.jb:if(this[rpjs.event.e.jb]&&(!rpjs.editor.isEditing||this.Hd()))b=h;break;case rpjs.event.e.wc:this[rpjs.event.e.wc]&&rpjs.game.instance.wa&&(b=h);break;default:b=k}return b};
m.g=function(){return{enabled:h}};F.tq=function(){return[]};F.uu=function(a,b){function c(a){return!a||!a.H?k:a.H.constructor==b?h:c(a.H.constructor)}return a==b?h:c(a.prototype.constructor)};F.xd=ba(k);
F.Et=function(a,b,c,g){var e=rpjs.game.instance.je(a,f,h);e==i&&z(Error("Cannot fetch component blueprint default value: Missing blueprint of type: "+a));a=va(b);a=e.data.j[a];if(!a&&!c)for(var d in e.data.j)if(window[d]instanceof b){a=e.data.j[d];break}if(!a)return i;if(g)return a;b=b.prototype.mi();return G.ni(b,a)};
F.prototype.mi=function(){var a=this.constructor;if(a.fm)return a.fm;a.fm=function(){for(var b=a,c=[];b;)c.push(b),b=b.H?b.H.constructor:i;b={};try{for(;0<c.length;)b=RPJS_Loader.cloneObject(c.pop().prototype.g.call(this),b)}catch(g){console.error("Invalid default values in component"),b={}}return b}();return a.fm};F.Iy=ba(10);var xa=[];function H(a){for(var b=k,c=0;c<xa.length;c++)if(xa[c].typeName==a){b=h;break}b||xa.push({typeName:a,gB:f})};function I(a,b,c){var g=G.ni({name:"Actor",position:{type:"RPJS_Vector3"},rotation:{type:"RPJS_Vector3"},scale:{type:"RPJS_Vector3",value:{x:1,y:1,b:1}},Za:{type:"tag",value:"Default"},sa:{type:"worldLayer",value:"Default"},rf:k,wd:h},a,this);if("debug"===rpjs.game.settings.buildConfigName){rpjs.game.instance.gl(g.sa)||(console.error("Invalid world layer "+g.sa+" in actor "+g.name+', forcing to world layer "Default"'),g.sa="Default");for(var e=k,d=0;d<rpjs.game.settings.tags.length;d++)if(rpjs.game.settings.tags[d]==
g.Za){e=h;break}e||(console.error("Invalid tag "+g.Za+" in actor "+g.name+', forcing to tag "Default"'),g.Za="Default")}this.name=g.name;this.Za=g.Za;this.sa=g.sa;this.v=rpjs.game.instance.oi(this.sa);this.Bk=a!=f?a.Bk:i;(this.ob=h)&&rpjs.profiling.actorCount++;this.visible=h;this.parent=i;this.children=[];this.j=[];this.rf=g.rf;this.wd=g.wd;this.I=k;this.wg=this.wg!=f?this.wg:k;this.Lb=k;this.Bi={};this.tc=i;this.qg=k;this.We=this.ud=this.uc=i;this.Ud=this.ji=this.fe=k;b&&(b.tc!=f&&(this.tc=b.tc),
b.qg!=f&&(this.qg=b.qg),b.uc!=f&&(this.uc=b.uc),b.ud!=f&&(this.ud=b.ud),b.We!=f&&(this.We=b.We),b.fe!=f&&(this.fe=b.fe==h),b.ji!=f&&(this.ji=b.ji));this.kz=k;this.ha=this.Cd=i;c&&(this.ha=c.ha,this.Cd=c.Cd);this.ha&&rpjs.remoteCalls.$w(this,this.Cd);this.rd={};this.rd[J.Ta.Rb]=h;this.rd[J.Ta.Fe]=k;this.vn(K,{position:g.position,rotation:g.rotation,scale:g.scale},this.qg);rpjs.game.instance.Xw(this);this.hn={}}m=I.prototype;
m.K=function(){if(!this.I){this.$f();for(var a=0;a<this.j.length;a++)this.j[a].K();for(a=0;a<this.children.length;a++)this.children[a].K();rpjs.game.instance.od("cleanUp",this)}};m.bi=function(){if(!this.I){this.$f();for(var a=this.j.length-1;0<=a;a--)this.j[a].I||this.j[a].bi();for(a=this.children.length-1;0<=a;a--)this.children[a].I||this.children[a].bi();this.zh()}};
m.$f=function(){this.ob&&rpjs.profiling.actorCount--;this.Tb&&(rpjs.profiling.culledActorCount--,this.Tb=k);this.Lb&&(rpjs.profiling.clippedActorCount--,this.Lb=k);this.I=h;this.ob=k};m.zh=function(){this.Yf=h;this.ha!=i&&rpjs.remoteCalls.$q(this);this.parent!=i&&this.parent.Uk(this);rpjs.game.instance.py(this);this.j.length=0;this.children.length=0;for(var a in this)"object"==typeof this[a]&&(this[a]=f)};m.vn=function(a,b,c){a=new a(this,va(a),b);this.j.push(a);c||(a.Nj(),a.ek())};
m.Dr=function(a){for(var b=0;b<this.j.length;b++)if(this.j[b]==a){this.j.splice(b,1);break}};m.P=function(a){for(var b=0;b<this.j.length;b++)if(this.j[b]instanceof a)return this.j[b];return i};m.iA=function(a){return this.Ym(a)};m.Ym=function(a,b){if(b!=i)return b;b=this.P(a);if(b==i)for(var c=0;c<this.children.length;c++)b=this.children[c].Ym(a,b);return b};m.jA=function(a){for(var b=[],c=0;c<this.j.length;c++)this.j[c]instanceof a&&b.push(this.j[c]);return b};
m.kA=function(a,b){b==f&&(b=k);var c=[];this.$j(a,b,c);return c};m.$j=function(a,b,c){if(b||this.ob)for(var g=0;g<this.j.length;g++)this.j[g]instanceof a&&c.push(this.j[g]);for(g=0;g<this.children.length;g++)(b||this.children[g].ob)&&this.children[g].$j(a,b,c)};m.Fb=function(a){a.parent!=i&&a.parent.Uk(a);a.parent=this;this.children.push(a);a.transform&&a.transform.Sb(h,h,h)};
m.Uk=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b]==a){this.children.splice(b,1);a.parent=i;a.transform&&a.transform.Sb(h,h,h);break}};m.Ib=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name==a)return this.children[b];return i};m.VA=function(){for(var a=this;a.parent!=i;)a=a.parent;return a};m.aA=function(a){if(this.parent==i)return i;for(var b=this;b.parent!=i;){if(b.parent.name==a)return b.parent;b=b.parent}return i};
m.IC=function(a){return this.Za==a};m.ka=function(a,b){for(var c=0;c<this.j.length;c++)this.j[c].gc(a,b)};m.lz=function(a,b,c){this.Cf(a,b,c)};m.Cf=function(a,b,c){c!=h&&this.ka(a,b);for(c=0;c<this.children.length;c++)this.children[c].Cf(a,b)};m.Ve=function(){this.Pd=f};m.Lk=function(){if(!this.Pd){this.Pd={x:0,y:0};for(var a=0,b=0;b<this.j.length;b++)if(this.j[b].enabled){this.j[b].ke(this.hn);var c=this.hn,g=c.x*c.x+c.y*c.y;g>a&&(a=g,this.Pd.x=c.x,this.Pd.y=c.y)}}return this.Pd};
m.Ub=function(a){if(!this.ob){this.ob=h;rpjs.profiling.actorCount++;this.Tb&&rpjs.profiling.culledActorCount--;for(var b=0;b<this.j.length;b++)this.j[b].enable();if(a)for(b=0;b<this.children.length;b++)this.children[b].Ub()}};m.Hb=function(a){if(this.ob){this.ob=k;rpjs.profiling.actorCount--;this.Tb&&rpjs.profiling.culledActorCount++;this.Lb&&(rpjs.profiling.clippedActorCount--,this.Lb=k);for(var b=0;b<this.j.length;b++)this.j[b].disable();if(a)for(b=0;b<this.children.length;b++)this.children[b].Hb()}};
m.show=function(){if(!this.visible){this.visible=h;for(var a=0;a<this.j.length;a++){var b=this.j[a];b.gh&&b.gh(k)}for(a=0;a<this.children.length;a++)this.children[a].show()}};m.hide=function(){if(this.visible){this.visible=k;for(var a=0;a<this.j.length;a++){var b=this.j[a];b.gh&&b.gh(h)}for(a=0;a<this.children.length;a++)this.children[a].hide()}};m.Rx=function(a){this.sa=a;this.v=rpjs.game.instance.oi(this.sa);this.ka(rpjs.event.e.Ti,a)};m.setTag=aa("Za");
m.jt=function(){if(this.ob&&!this.fe){var a=k;if(this.Ud||rpjs.editor.instance&&rpjs.editor.drawDebug&&this.wd)a=!this.At(this.Bi);this.Ud&&(a&&!this.Lb?rpjs.profiling.clippedActorCount++:!a&&this.Lb&&rpjs.profiling.clippedActorCount--);this.Lb=a}};m.mt=function(){this.Lb||this.ob&&(!this.fe&&this.wd&&this.visible)&&this.Kr()};
m.Kr=function(){var a=L.gb(),b=this.xl(),c=this.Ju(),g=this.Bi,e=rpjs.game.instance.wa.getContext();e.save();e.strokeStyle=b?"red":"2055ff";e.fillStyle=b?"red":"2055ff";e.lineWidth=1;e.globalAlpha=0.8;e.shadowBlur=0;e.shadowColor="black";e.font="12pt Lucida Grande";e.translate(Math.round(g.x),Math.round(g.y));c&&(e.save(),e.translate(0,10),e.fillText(this.name,13.5,5.5),e.restore());e.rotate(this.transform.rotation.b);c&&(b=Math.max(1-(1-a.transform.scale.x)*this.v.ia,0),a=Math.max(1-(1-a.transform.scale.y)*
this.v.ia,0),c=this.Lk(),b*=c.x,a*=c.y,0<b&&0<a&&e.strokeRect(Math.round(-b)-0.5,Math.round(-a)-0.5,Math.round(2*b),Math.round(2*a)));e.rotate(-this.transform.rotation.b);a=1/1.4142136;e.beginPath();e.moveTo(-10,-0.5);e.lineTo(10,-0.5);e.moveTo(-0.5,-10);e.lineTo(-0.5,10);e.moveTo(-10*a-0.5,-10*a-0.5);e.lineTo(10*a,10*a);e.moveTo(-10*a-0.5,10*a-0.5);e.lineTo(10*a,-10*a);e.closePath();e.stroke();e.restore()};
m.Oy=function(a,b){var c=G.el({name:"Actor",position:{type:"RPJS_Vector3"},rotation:{type:"RPJS_Vector3"},scale:{type:"RPJS_Vector3",value:{x:1,y:1,b:1}},Za:{type:"tag",value:"Default"},sa:{type:"worldLayer",value:"Default"},rf:k,wd:h}[a],b,this);"position"==a?this.transform.setPosition(c,k):"rotation"==a?this.transform.rm(c,k):"scale"==a?this.transform.Ef(c,k):"tag"==a?this.Za=c:"worldLayer"==a?this.Rx(c):"enabled"==a?(c&&!this.Lb?rpjs.profiling.clippedActorCount++:!c&&this.Lb&&rpjs.profiling.clippedActorCount--,
c==h?this.Ub():this.Hb()):this[a]=c};m.Py=function(a,b,c){this.P(a).zr(b,c)};m.Ny=function(){for(var a=0;a<this.j.length;a++)this.j[a].qd()};m.yA=B("ud");m.mB=function(){return!this.We&&this.ud};m.Nu=function(a){return!this.ud?k:!a?h:rpjs.game.instance.Ku(this.ud,a)};m.xr=function(a,b){for(var c=0;c<this.j.length;c++)this.j[c].gc(a,b);for(c=0;c<this.children.length;c++)this.children[c].xr(a,b)};
m.At=function(a){var b=L.Ra;if(b==i||b.da==i)return k;b.da.Cj(this.transform.position.x,this.transform.position.y,a,this.sa);var c=Math.max(1-(1-b.transform.scale.x)*this.v.ia,0),b=Math.max(1-(1-b.transform.scale.y)*this.v.ia,0),g;g=this.Pd?this.Pd:this.Lk();c*=g.x;b*=g.y;return 0<=a.x+c&&a.x-c<rpjs.game.instance.Ka&&0<=a.y+b&&a.y-b<rpjs.game.instance.Oa?h:k};
m.Wl=function(a,b){var c=L.gb();if(c==i||c.da==i)return k;var g={};c.da.vx(a,b,g,this.sa);c=this.Lk();return g.x+0>this.transform.position.x-c.x&&g.x-0<this.transform.position.x+c.x&&g.y+0>this.transform.position.y-c.y&&g.y-0<this.transform.position.y+c.y};m.ea=function(a,b){return a?(console.error(b.typeName+" component shorthand already exists in "+this.name+". Please change it."),k):h};m.xl=function(){return-1!=RPJS_Loader.getIndexOf(rpjs.editor.selectedActors,this)};
m.Ju=function(){return-1!=RPJS_Loader.getIndexOf(rpjs.editor.affectedActors,this)};I.eC=0;I.eA=function(){return{name:"Actor",position:{type:"RPJS_Vector3"},rotation:{type:"RPJS_Vector3"},scale:{type:"RPJS_Vector3",value:{x:1,y:1,b:1}},Za:{type:"tag",value:"Default"},sa:{type:"worldLayer",value:"Default"},rf:k,wd:h}};I.fb=function(a,b,c,g){var e;e=rpjs.util.assetMap.Bg(a);e==f&&(e=a);return I.Vn(e,b,c,g)};I.Fz=function(a,b,c,g){return I.Vn(rpjs.util.assetMap.Bg(a),b,c,g)};
I.Vn=function(a,b,c,g){function e(a,b,c){var q=rpjs.game.instance.je(a);q||z(Error("Cannot instantiate from blueprint: Invalid blueprint type: "+a));b&&(q.data.gg=p(q.data.gg,b));var b=new I(q.data.gg,{tc:a,qg:h,uc:g,ud:q.source==J.ec.oh?a:q.data.Tp,We:q.source==J.ec.oh?k:q.data.We},c),w;for(w in q.data.j)if(c=window[w])try{b.vn(c,q.data.j[w],h)}catch(t){console.error("Error while creating component of type "+w+" for actor created from blueprint "+a+". Reason: "+RPJS_Loader.extractExceptionInfo(t))}else console.error("Ignoring component of type "+
w+" as it is missing. Source: Actor created from blueprint "+a);for(a=0;a<q.data.children.length;a++)w=e(q.data.children[a],f,f),b.Fb(w);return b}a=e(a,b,c);g||I.cn(a);return a};I.cn=function(a,b){if(s(a)){for(var c=0;c<a.length;c++)I.qk(a[c],b);for(c=0;c<a.length;c++)I.fk(a[c],b)}else I.qk(a,b),I.fk(a,b)};I.qk=function(a,b){for(var c=0;c<a.j.length;c++)a.j[c].Nj();if(!b||a.uc)for(c=0;c<a.children.length;c++){var g=a.children[c];(!b||g.uc)&&I.qk(g)}};
I.fk=function(a,b){for(var c=0;c<a.j.length;c++)a.j[c].ek();if(!b||a.uc)for(c=0;c<a.children.length;c++){var g=a.children[c];(!b||g.uc)&&I.fk(g)}};I.Uy=A();
I.Et=function(a,b){var c=rpjs.game.instance.je(a);c==i&&z(Error("Cannot fetch actor blueprint default value: Invalid blueprint type: "+a));c=c.data.gg;return b?c:G.ni({name:"Actor",position:{type:"RPJS_Vector3"},rotation:{type:"RPJS_Vector3"},scale:{type:"RPJS_Vector3",value:{x:1,y:1,b:1}},Za:{type:"tag",value:"Default"},sa:{type:"worldLayer",value:"Default"},rf:k,wd:h},c)};I.Yh=function(a,b,c,g,e,d){return rpjs.remoteCalls.Yh(a,b,c,g,e,d)};function ya(){this.Ha=i;this.vl=this.Vo=k;this.cc=i;this.Mb=[];this.Xg=0;this.di=this.Wh=i;this.wf=[];this.de=[];this.rpnId=i;this.Wg=[];this.Xe=i;this.Rd=function(a,b){this.de.push({ym:a,Jk:b,Qp:f,Pp:f})};this.ZB=function(a,b){for(var c=0;c<this.de.length;c++){var g=this.de[c];if("object"==typeof a?a==g:g.ym==a&&g.Jk==b){this.de.splice(c,1);break}}};this.connect=function(a,b,c){this.cc!=i&&this.cc!=f&&z(Error("Socket already connected"));(this.rpnId=c!=f?c:rpjs.game.rpnId)||z(Error("No RPN id - set useNetwork to true in identity providers, or create one"));
var g=this;this.Ha=i;this.Wh=a;this.di=b;this.Rd(rpjs.event.global.Ip,"s");this.Rd(rpjs.event.global.Hp,"s");this.Rd(rpjs.event.global.Jp,"s");this.Rd(rpjs.event.global.Kp,"s");this.Rd(rpjs.event.global.lw,"a");this.Rd(rpjs.event.global.pw,"a");this.Rd(rpjs.event.global.ow,"a");a="https:"===window.location.protocol;b="WebSocket"in window||"MozWebSocket"in window?8443:443;c="WebSocket"in window||"MozWebSocket"in window?8080:80;b={secure:a,port:a?b:c,"sync disconnect on unload":k};this.cc=io.connect(a?
"https://":"http://"+(rpjs.game.settings.rpnHost||window.location.hostname)+":"+b.port,b);this.cc.on("connect",function(){g.Vo=h});this.cc.on("disconnect",function(){!g.vl&&g.Xe==i&&(g.Xe=ya.Jm.tr);g.vl=k;g.Vo=k;g.Zg();g.cc=i;g.di!=f&&(g.di(g.Xe),g.di=i);rpjs.game.instance.R(rpjs.event.global.Xv,g.Xe)});this.cc.on("message",function(a){g.wf.push(wa.parse(a));g.wl()||g.ln()})};this.disconnect=function(){this.cc!=i&&(this.vl=h,this.cc.disconnect());this.Xg=0;this.wf=[];this.de=[];this.rpnId=i;this.Wg=
[]};this.qA=B("Xe");this.Lu=function(a){for(var b=h,c=[f,{start:200,end:299},401],g=0;g<c.length;g++){var e=c[g];if("object"!=typeof e){if(a===e){b=k;break}}else if(a>=e.start&&a<=e.end){b=k;break}}return b};this.update=function(){if(!(this.wl()||0==this.wf.length))try{this.ln()}catch(a){console.error("Failed to process message. Error: "+RPJS_Loader.extractExceptionInfo(a))}};this.ln=function(){for(var a=this;0<this.wf.length&&!this.wl();){var b=this.wf[0];this.wf.splice(0,1);if(a.Lu(b.s)){var c=
"Message failed: "+b.t+" (c: "+b.c+", cid: "+b.cid+"): "+b.s;console.error(c);b.d!=i&&(console.error(b.d),c+=": "+b.d);RPJS_FatalError(c)}switch(b.c){case "p":switch(b.t){case "HandshakeRequest":a.rpnId.mm(function(b){a.Ha=b;a.eh("Handshake","p",a.Ha)});break;case "HandshakeSuccess":a.Wh!=f&&(a.Wh(),a.Wh=i);rpjs.game.instance.R(rpjs.event.global.Wv);break;case "HandshakeError":a.Xe=ya.Jm.sr}break;case "s":switch(b.t){case "RoomCreated":b.t=rpjs.event.global.Hp;break;case "RoomJoined":b.t=rpjs.event.global.Jp;
a.Wg.push(b.d.uid);a.Hh!=f&&(a.Hh(b.d.uid),a.Hh=i);break;case "RoomJoinFailed":b.t=rpjs.event.global.Ip;a.Bh!=f&&(a.Bh(b.d.uid),a.Bh=i);break;case "RoomLeft":b.t=rpjs.event.global.Kp;ta(a.Wg,b.d.uid);a.Ah!=f&&(a.Ah(b.d.uid),a.Ah=i);break;default:b=new za(b)}for(c=0;c<a.Mb.length;c++)a.Mb[c].call(a.Mb[c],b,i);break;case "a":for(c=0;c<a.Mb.length;c++)a.Mb[c].call(a.Mb[c],b,i);break;case "m":for(c=0;c<a.Mb.length;c++)a.Mb[c].call(a.Mb[c],b,i);break;default:console.error("Client got packet on invalid channel "+
b.c+" of type "+b.t)}var g,e;b instanceof za?(g=b.get("c"),e=b.get("t"),b=b.get("d")):(g=b.c,e=b.t,b=b.d);for(c=0;c<this.de.length;c++){var d=this.de[c];d.ym==e&&d.Jk==g&&(d.Pp&&(e=d.Pp),d.Qp==f?rpjs.game.instance.R(e,b):d.Qp.ka(e,b))}}};this.qm=function(a){a?this.Xg++:this.Xg=Math.max(this.Xg-1,0)};this.wl=function(){return 0<this.Xg};this.yx=function(a){$.post(this.rpnId.hb("/analytics"),JSON.stringify(a),A())};this.send=function(a){this.cc&&(a=wa.ot(a),this.cc.send(a))};this.eh=function(a,b,c){a=
{t:a,c:b!=f?b:"a"};c!=f&&(a.d=c);this.send(a)};this.addListener=function(a){this.Mb.push(a)};this.removeListener=function(a){ta(this.Mb,a)};this.Zg=function(){this.Mb=[]};this.FA=B("Wg");this.EA=function(a){return this.Wg[a]};this.wo=function(){return this.rpnId==i?i:this.rpnId.yo()};this.Gz=function(a,b,c,g){return this.In(a,b,c,g)};this.qB=function(a,b,c,g){this.Hh=b;this.Bh=c;this.Ah=g;rpjs.game.service.To("JoinRoom",{instanceName:a})};this.In=function(a,b,c,g){a==f&&(a=1);this.Hh=b;this.Bh=c;
this.Ah=g;rpjs.game.service.To("BookRoom",{slotLimit:a,appConfig:{enableLog:rpjs.appConfig.enableLog,bustCache:rpjs.appConfig.bustCache}})}}ya.Jm={sr:"HandshakeFailure",tr:"OtherClosed"};rpjs.game.channel=new ya;function Aa(a){var b=["RPN","Facebook","DisneyID"];this.appRef=rpjs.game.settings.appRef;this.branchName=rpjs.game.settings.branchName;this.Ik=rpjs.game.settings.version;this.buildConfigName=rpjs.game.settings.buildConfigName;this.Sf={};for(var c=0;c<b.length;c++){var g=b[c];rpjs.game.settings.Identity[g]&&rpjs.game.settings.Identity[g].RC&&(this.Sf[g]=h)}this.options={bq:{},requireLogin:rpjs.game.settings.Identity.requireLogin,storeSessionCookie:rpjs.game.settings.Identity.storeSessionCookie,U:function(){console.error("Default RPN Id onReady() called!")},
T:function(a){console.error(a)}};this.options=p(this.options,a);this.Sf.DisneyID&&(this.options.bq.DisneyID=this.hb("/id/disney/callback/"+rpjs.game.settings.appRef+"/"+rpjs.game.settings.branchName+"/"));this.Sf.Facebook&&(FB.init({appId:rpjs.game.settings.Identity.Facebook.us,status:h,cookie:k,xfbml:k,channelUrl:this.hb("/channel.html")}),this.options.bq.Facebook=this.hb("/id/facebook/connect/"+rpjs.game.settings.appRef+"/"+rpjs.game.settings.branchName+"/"));this.mm()}
n.o("RPJS_Client_RPN_Id",Aa);m=Aa.prototype;m.Ha=i;m.lb=i;m.Sc=i;m.vd=i;m.hb=function(a){if(!RPJS_Loader.isAbsoluteUrl(a)){var b=rpjs.game.settings.rpnHost||window.location.hostname;a&&"/"!==a[0]&&(a="/"+a);a=("https:"===window.location.protocol?"https://":"http://")+b+a}return!this.Ha?a:-1!==a.indexOf("?")?a+"&sessionKey="+this.Ha:a+"?sessionKey="+this.Ha};m.bB=function(){return this.Ha?h:k};
m.sm=function(a){var b=this;this.options.storeSessionCookie&&(this.Iq(this.Ha,{expires:new Date((new Date).getTime()+36E5),path:a,domain:window.location.hostname}),setTimeout(function(){b.sm(a)},3E6))};m.Ct=function(){var a,b=decodeURIComponent;return(a=RegExp("(?:^|; )"+encodeURIComponent("sessionKey")+"=([^;]*)").exec(document.cookie))?b(a[1]):i};
m.Iq=function(a,b){b=b||{};document.cookie=[encodeURIComponent("sessionKey"),"=",b.raw?a:encodeURIComponent(a),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("")};m.O=function(){return this.yo()?h:k};m.logout=function(a){var b=window.location.pathname.replace(/\/[\w\.\-]+\.[\w\.\-]+$/,"");this.Iq("",{expires:new Date(1),path:b,domain:window.location.hostname});a?window.location.href=a:window.location.reload()};
m.Vx=function(){this.Yy=new Ba({login:"",error:f,rpnId:this})};m.AC=function(){this.Xy=new Ca({rpnId:this})};m.Tx=function(){self.Vy=new Da({title:"Please login",body:'<img src="https://disneyid-web-active-vip.playdom.com/images/buttons/button-sign-in-small.png"\t\t\t\tonclick="window.location=\'https://disneyid-web-active-vip.playdom.com/login?\t\t\t\tclient_id='+rpjs.game.settings.Identity.DisneyID.Az+"&state=kala&\t\t\t\tredirect_uri=http://vv.kschzt.com/id/disney/callback/jakt'\"></img>",Pl:A()})};
m.xu=function(){this.options.requireLogin&&!this.O()&&(this.options.requireLogin?this.Vx():this.ready())};m.wu=function(){var a=this;FB.Event.subscribe("auth.sessionChange",function(b){b.session?a.Ni(b.session):a.Ni(i)});FB.getLoginStatus(function(b){b.session?a.Ni(b.session):a.Ni(i)})};m.vu=function(){this.O()||this.Tx()};m.Ft=function(){var a=i;this.Sc&&(a=this.Sc.uid);return a};m.rA=function(){var a=i;this.vd&&(a=this.vd.uid);return a};m.yo=function(){var a=i;this.lb&&(a=this.lb.uid);return a};
m.Lp=function(){this.O()&&this.ready()};m.Ni=function(a){if(!this.Sc||this.Sc!=a)(this.Sc=a)?(this.rt(),Ea()):(Ea(),this.options.requireLogin&&!this.O()?this.requireLogin():this.ready())};m.DB=function(a){if(!this.vd||this.vd!=a)(this.vd=a)?(this.gt(),Ea()):(Ea(),this.options.requireLogin&&!this.O()?this.requireLogin():this.ready())};
m.requireLogin=function(){var a="https://graph.facebook.com/oauth/authorize?client_id="+rpjs.game.settings.Identity.Facebook.us+"&redirect_uri="+escape(this.hb(this.options.redirectUri+"?rpifr="+(window.location!=window.parent.location?h:k)+"&reback="+escape(window.location)))+"&scope=user_birthday,user_location,user_hometown,publish_stream";window.top.location=a};
m.rt=function(){var a=this,b={uid:this.Sc.uid,accessToken:this.Sc.access_token,expiresAt:this.Sc.expires};$.post(this.hb("/id/facebook/attach"),JSON.stringify(b)).done(function(b){a.lb=b.d;a.Ha=a.lb.sessionKey;a.ready()}).fail(function(){a.nn()})};m.gt=function(){var a=this,b={uid:this.vd.uid,accessToken:this.vd.access_token,expiresAt:this.vd.expires};$.post(this.hb("/id/disney/attach"),JSON.stringify(b)).done(function(b){a.lb=b.d;a.Ha=a.lb.sessionKey;a.ready()}).fail(function(){a.nn()})};
m.ready=function(){Ea();this.options.U&&this.options.U(this.lb)};m.nn=function(){document.cookie="";this.lb=this.Sc=this.Ha=i;this.mm()};m.Nr=function(){return $.post(this.hb("/id/session"),JSON.stringify({appRef:this.appRef,branchName:this.branchName,branchVersion:this.Ik,buildConfigName:this.buildConfigName})).pipe(function(a){return a.d})};
m.mm=function(a){var b=this,c=window.location.pathname.replace(/\/[\w\.\-]+\.[\w\.\-]+$/,"");!this.Ha&&this.options.storeSessionCookie&&(this.Ha=this.Ct());!this.lb||!this.Ha?this.Nr().done(function(g){b.lb=g;b.Ha=b.lb.sessionKey;b.sm(c);a?a(b.Ha):b.qn();b.Lp()}).fail(function(){alert("Failed to get session.")}):(this.sm(c),a?a(b.Ha):b.qn())};m.qn=function(){this.Sf.DisneyID&&this.vu();this.Sf.Facebook&&this.wu();this.Sf.RPN&&this.xu();this.Wr()};m.Wr=function(){$.post(this.hb("/analytics"),JSON.stringify(rpjs.info))};
function Ea(){var a=rpjs.game.rpnId,b;b="rpjstrack".replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");b=RegExp("[\\?&]"+b+"=([^&#]*)").exec(window.location.href);(b=b==i?i:b[1])&&$.get(a.hb("/track/"+b))};function J(a){function b(){function b(){e.vm();a.finishedCallback&&a.finishedCallback();a=f}rpjs.info.isServer&&rpjs.game.host.ready();a.autoLoadAssets&&a.startScene?e.Qa(a.startScene,function(){b()},function(){var b="Start scene "+rpjs.game.settings.startScene+" could not be loaded - Game creation failed";console.error(b);a.failureCallback&&a.failureCallback(b);a=f}):b()}rpjs.game.instance=this;var c={ab:0,Ab:0,yd:0};this.timing={update:RPJS_Loader.cloneObject(c),Ma:RPJS_Loader.cloneObject(c)};rpjs.info.isServer?
(this.timing.update.ab=rpjs.game.settings.ghostUpdateFPS,this.timing.Ma.ab=rpjs.game.settings.ghostPhysicsFPS):rpjs.info.touchDevice?(this.timing.update.ab=rpjs.game.settings.touchSettings.updateFPS,this.timing.Ma.ab=rpjs.game.settings.touchSettings.physicsFPS):(this.timing.update.ab=rpjs.game.settings.updateFPS,this.timing.Ma.ab=rpjs.game.settings.physicsFPS);this.timing.update.Ab=0<this.timing.update.ab?1/this.timing.update.ab:0;this.timing.Ma.Ab=0<this.timing.Ma.ab?1/this.timing.Ma.ab:0;this.timing.update.Ab=
Math.round(1E3*this.timing.update.Ab)/1E3;this.timing.Ma.Ab=Math.round(1E3*this.timing.Ma.Ab)/1E3;this.timing.Ma.yd=this.timing.Ma.Ab;this.xj=1;this.lf=this.Yg=this.ro=0;this.h=[];this.managers=[];this.bv=[];this.mf=[];this.dh="";this.kp=this.Ja=this.ed=i;this.tx=this.xx=this.Oa=this.Ka=0;this.Kg={};this.Lg=k;this.worldLayers={};this.Hf=this.gf=this.wk=this.Hk=this.Af=i;this.sb={};this.sb[rpjs.event.e.ra]=[];this.sb[rpjs.event.e.$c]=[];this.sb[rpjs.event.e.sf]=[];this.sb[rpjs.event.e.jb]=[];this.sb[rpjs.event.e.wc]=
[];this.vc=[];this.io=k;this.Jl=this.wa=this.w=i;this.ic=[];this.ai=J.Ta.Rb;this.Zj=1;this.Yj=0;this.bg=this.Zj;this.Wm=0;this.Fh=h;rpjs.game.channel.addListener(function(a){rpjs.remoteCalls.Fv.call(rpjs.remoteCalls,a)});if(a.managers)for(c=0;c<a.managers.length;c++){var g=a.managers[c];g in window&&this.$s(window[g])}var e=this;a.autoLoadAssets?this.Cr(function(){b()},function(){console.error("Failed to load assets - Game creation failed");a.failureCallback&&a.failureCallback("Failed to load assets - Game creation failed");
a=f}):b()}n.o("RPJS_Game",J);m=J.prototype;m.ac=function(){this.R(rpjs.event.global.qw);this.wm();rpjs.remoteCalls&&rpjs.remoteCalls.Zq(h);rpjs.info.isServer||rpjs.game.channel.disconnect();rpjs.game.channel.Zg();this.zb(h);this.ed&&this.ed.remove();for(var a=0;a<this.managers.length;a++)this.managers[a].K();this.managers.length=0;this.w&&this.w.K();this.wa&&this.wa.K();this.If&&this.If.empty();rpjs.game.instance=i;this.Jl&&(this.Jl(),this.Jl=i)};
m.vm=function(a){function b(a){var b=a||(new Date).getTime(),a=b-E;E=b;if(!(0>a)&&(ja.Bl?(ja.Bl=k,a=0):0<rpjs.game.settings.op&&a>1E3*rpjs.game.settings.op&&(a=1E3*rpjs.game.settings.op),N+=a,b=Math.floor(N/w),0<b&&(b*=w,ja.update(b),N-=b),0<t)){P+=a;for(a=Math.floor(P/t);0<a;)ja.uy(),P-=t,a--}}function c(a){ja.jd=window.requestAnimationFrame(c);b(a)}function g(a){ja.jd=window.webkitRequestAnimationFrame(g,ja.Ja);b(a)}function e(a){ja.jd=window.mozRequestAnimationFrame(e);b(a)}function d(a){ja.jd=
window.msRequestAnimationFrame(d);b(a)}function j(a){ja.jd=window.oRequestAnimationFrame(j);b(a)}function l(){b()}function q(){b()}var w,t,E,N=0,P=0,ja=this;this.Hg||(this.Hg=h,0<this.timing.update.Ab&&(w=1E3*this.timing.update.Ab,t=w*(this.timing.Ma.Ab/this.timing.update.Ab),this.lf=E=a!=f?a:window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.msAnimationStartTime||window.oAnimationStartTime||(new Date).getTime(),rpjs.info.isServer?this.jd=rpjs.game.host.setUpdateInterval(i,
q,w):window.requestAnimationFrame?c():window.webkitRequestAnimationFrame?g():window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame?e():window.msRequestAnimationFrame?d():window.oRequestAnimationFrame?j():this.jd=window.setInterval(l,w)))};
m.wm=function(){if(this.Hg&&(this.Hg=k,this.jd!=i)){var a=i,a=rpjs.info.isServer?rpjs.game.host.zz:window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.clearInterval;a(this.jd);this.jd=i}};m.QC=function(a,b){this.od("unloadScene",{LB:a,Bw:b})};
m.zb=function(a,b){if(0!=this.mf.length){this.Bl=h;b?RPJS_Loader.removeElem(this.mf,b):(this.mf.length=0,rpjs.remoteCalls&&rpjs.remoteCalls.Zq(k));this.R(rpjs.event.global.Sg,b);for(var c=this.h.length-1;0<=c;c--)(!this.h[c].wg||a)&&(!b||this.h[c].uc==b)&&this.h[c].parent==i&&this.h[c].K();for(c=0;c<this.managers.length;c++)this.managers[c].rx(b);rpjs.info.isServer||((c=L.gb())&&c.I&&L.Df(i),this.vc.length=0);b||this.ie&&this.ie.empty()}};m.$s=function(a){this.Dg(a)==i&&(a=Fa.yr(a),a!=i&&this.managers.push(a))};
m.Dg=function(a){for(var b=0;b<this.managers.length;b++)if(this.managers[b]instanceof a)return this.managers[b];return i};m.Lz=function(a){for(var b=0;b<this.managers.length;b++)if(this.managers[b]instanceof a){this.managers[b].K();this.managers.splice(b,1);break}};m.Zu=function(a,b){this.od("loadScene",{px:a,Rl:i,Sl:i,Aw:b})};
m.Qa=function(a,b,c,g){function e(a){rpjs.info.isServer||j.io||j.as();j.Lg||j.Hr();if(!g)for(var c=0;c<j.managers.length;c++)j.managers[c].Qw(d);j.R(rpjs.event.global.vf,d);j.dh=d;j.ns(a,d);if(!g)for(c=0;c<j.managers.length;c++)j.managers[c].ox(d);!rpjs.info.isServer&&rpjs.game.channel.rpnId!=i&&(rpjs.game.channel.eh(rpjs.event.global.Uv,"a",d),rpjs.game.channel.yx({type:"SceneLoaded",data:{appRef:rpjs.game.settings.appRef,branchName:rpjs.game.settings.branchName,fbUid:rpjs.game.channel.rpnId.Ft(),
sceneName:d}}));rpjs.info.isServer||j.Tm();rpjs.game.channel.qm(k);j.R(rpjs.event.global.Si,d);b!=f&&b()}var d=rpjs.util.assetMap.Bg(a);if(!(g&&-1!=RPJS_Loader.getIndexOf(this.mf,d))){this.Bl=h;g||this.zb();this.mf.push(d);rpjs.game.channel.qm(h);var j=this;if(d){var l=this.Af[d];l?(l=RPJS_Loader.cloneObject(l),e(l)):(console.error("The scene "+a+" could not be loaded!"),rpjs.game.channel.qm(k),j.R(rpjs.event.global.nw,d),c!=f&&c())}else e()}};
m.sB=function(a,b){b||this.zb();for(var c=0;c<a.length;c++)this.Qa(a[c],f,f,b)};m.pB=B("kk");
m.as=function(){this.If=$("#rpjsStaticCss");this.ie=$("#rpjsDynamicCss");this.ed=$(rpjs.game.settings.screenElemSelector);this.kp=this.Ja=$(rpjs.game.settings.viewElemSelector);this.Ja.empty();this.Ja.offset();this.lh=new M;this.mh=new M(1,1);switch(rpjs.game.settings.rendererType){case "DOM":this.w=Ga.Vf(Ha);break;case "Canvas":this.w=Ga.Vf(Ia);break;case "WebGL":this.w=Ga.Vf(Ja);break;default:z(Error("Invalid renderer specified: "+rpjs.game.settings.rendererType))}this.w.mc(this.ed[0],h);if(rpjs.editor.instance!=
i||rpjs.editor.drawDebug)this.wa=Ga.Vf(Ia);var a=Math.ceil(this.Ja.width()),b=Math.ceil(this.Ja.height()),c=this.w.hh(a,b);!c&&"DOM"!=rpjs.game.settings.rendererType&&(console.error("Renderer setup failed for type "+rpjs.game.settings.rendererType+" - forcing DOM renderer"),rpjs.game.settings.rendererType="DOM",this.w=Ga.Vf(Ha),c=this.w.hh(a,b));c&&(this.w.mc(c[0],h),c.attr("id",J.kd.Om),this.Kg[J.kd.Om]=c,this.Ja.append(c));c=$("<div></div>");this.w.mc(c[0],h);c.attr("id",J.kd.vh);this.Kg[J.kd.vh]=
c;this.Ja.append(c);this.wa&&((a=this.wa.hh(a,b))?(this.w.mc(a[0],h),a.attr("id",J.kd.Im),this.Kg[J.kd.Im]=a,this.Ja.append(a)):(console.error("Debug renderer setup failed - turning off debug rendering"),rpjs.game.editor.drawDebug=k,this.wa=i));this.io=h};m.Hr=function(){this.Lg=h;for(var a=0;a<rpjs.game.settings.worldLayers.length;a++)this.yn(rpjs.game.settings.worldLayers[a]);var a=k,b;for(b in this.worldLayers)if("Default"==b){a=h;break}a||this.yn({name:"Default"});rpjs.info.isServer||this.xh()};
m.Ty=function(){if(this.Lg){this.ie.empty();var a=this.It();this.worldLayers={};a&&a.empty();this.Lg=k}};m.Xo=function(){return 0<this.bv.length};
m.xh=function(){if(this.Lg){var a=Math.ceil(this.Ja.width()),b=Math.ceil(this.Ja.height()),c=Math.ceil(this.ed.width()),g=Math.ceil(this.ed.height());this.Ka=a;this.Oa=b;this.xx=c;this.tx=g;this.Ja.offset();this.lh=new M;this.mh=new M(1,1);a=0<=rpjs.game.settings.uiSettings.Cv?this.Ka<=rpjs.game.settings.uiSettings.Cv:k;a!=this.kk&&((this.kk=a)?($("head").append('<link rel="stylesheet" id="rpjsMinUICss" type="text/css" href="'+rpjs.game.settings.uiSettings.BC+'">'),this.R(rpjs.event.global.Rv)):($("#rpjsMinUICss").remove(),
this.R(rpjs.event.global.Qv)));this.Tm();this.w.Uq(this.Ka,this.Oa);this.wa!=i&&this.wa.Uq(this.Ka,this.Oa);this.R(rpjs.event.global.Ri,{width:this.Ka,height:this.Oa});if(a=L.gb())this.Rr=h,this.Wq(K.S.Bb,a.transform),this.Rr=k;for(c=0;c<rpjs.game.instance.h.length;c++){a=rpjs.game.instance.h[c];for(g=0;g<a.j.length;g++)if(b=a.j[g],b instanceof Ka&&b.i){b.i[0].className=b.i[0].className;break}}this.Hg||this.update(0)}};n.n(J.prototype,"__resize",J.prototype.xh);
J.prototype.Br=function(){if(this.Fh&&rpjs.game.settings.pauseUpdateWhenFocusLost&&!rpjs.editor.isEditing){this.Fh=k;this.fs=this.Hg;if(rpjs.game.settings.pauseSoundsWhenFocusLost){this.ag==f&&(this.ag=[]);for(var a=0;a<O.Ya.length;a++){var b=O.Ya[a];b.Kb||(b.pause(),this.ag.push(b))}}this.wm();this.R(rpjs.event.global.yw);this.update(0);this.update(0)}};n.n(J.prototype,"__focusLost",J.prototype.Br);
J.prototype.Ar=function(){if(!this.Fh&&rpjs.game.settings.pauseUpdateWhenFocusLost&&!rpjs.editor.isEditing){this.Fh=h;if(rpjs.game.settings.pauseSoundsWhenFocusLost){for(var a=0;a<this.ag.length;a++)this.ag[a].resume();this.ag.length=0}this.R(rpjs.event.global.xw);this.fs&&this.vm(rpjs.game.settings.pauseGameTimeWhenFocusLost?f:this.lf)}};n.n(J.prototype,"__focusGained",J.prototype.Ar);m=J.prototype;
m.Tm=function(){var a=L.gb();if(a&&a.da&&!rpjs.info.legacyIEFilterDOMPipe)for(var b in this.worldLayers){var c=a.da.Zd(b),g;c.v.Ek?(g=Math.round(this.Ka/c.Uc),c=Math.round(this.Oa/c.Vc)):(g=this.Ka,c=this.Oa);var e=this.worldLayers[b].i;e[0].style.width=g+"px";e[0].style.height=c+"px"}L.uq()};m.It=function(){return this.Kg[J.kd.vh]};m.QA=B("ed");m.WA=B("Ja");m.BA=B("kp");m.KA=B("w");m.oA=B("wa");m.Ht=function(a){return a in this.gf?this.gf[a].url:i};
m.getImageData=function(a){return a in this.gf?this.gf[a]:i};m.St=function(a){return a in this.Hf?this.Hf[a].url:i};m.Bo=function(a){return a in this.Hf?this.Hf[a]:i};m.xt=function(a){a=rpjs.util.assetMap.Bg(a);return a in this.Af?this.Af[a].ez:[]};m.Wq=function(a,b){(a&K.S.nd||a&K.S.Md)&&this.w.Ks(a,b);if(0<this.vc.length)for(var c=0;c<this.vc.length;c++)this.vc[c].I?(this.kq(this.vc[c]),c--):this.vc[c].Rg!=f&&this.vc[c].Rg.call(this.vc[c],a,b)};m.js=function(a){this.vc.push(a)};
m.kq=function(a){RPJS_Loader.removeElemCyclic(this.vc,a)};m.ns=function(a,b){var c=[];if(a)for(var g=0;g<a.children.length;g++){var e=a.children[g],d=this.je(e);try{var j=i;if(!(d!=i&&d.data.gg.rf)||rpjs.editor.isEditing)j=I.fb(e,f,f,b);j!=i&&c.push(j)}catch(l){console.error("The level actor "+e+" could not be loaded - invalid data! Reason: "+RPJS_Loader.extractExceptionInfo(l))}}I.cn(c,h)};m.XB=function(a,b){this.od("reloadScene",{Rl:a,Sl:b})};m.bx=function(a,b){this.dh&&this.Qa(this.dh,a,b)};
J.Ta={Rb:0,Fe:1};m=J.prototype;
m.update=function(a){this.ai=J.Ta.Rb;this.Yg=a/1E3;this.timing.update.yd=a/1E3*this.xj;this.ro+=this.timing.update.yd;this.lf+=a;this.bg-=this.Yg;this.Yj++;0>=this.bg&&(rpjs.profiling.fps=Math.round(10*(this.Yj/(this.Zj+this.Yg-this.Wm)))/10,this.Yj=0,this.Wm=this.Yg+this.bg,this.bg=this.Zj);if(this.dh&&!this.Xo()){if(0<this.ic.length){for(a=0;a<this.ic.length;a++){var b=this.ic[a];if(b)switch(this.ic[a]=i,b.Ui){case "componentPostInitAndOrEnable":b.Da.jn();break;case "cleanUp":b.Da.zh();break;case "unloadScene":this.zb(b.Da.KB,
b.Da.Bw);break;case "reloadScene":this.bx(b.Da.Rl,b.Da.Sl);break;case "loadScene":this.Qa(b.Da.px,b.Da.Rl,b.Da.Sl,b.Da.Aw);break;case "addCollider":this.ce.hs(b.Da.Ea);break;case "removeCollider":this.ce.gq(b.Da.Ea)}}this.ic.length=0}b=this.sb[rpjs.event.e.ra];for(a=0;a<b.length;a++)b[a].ng(rpjs.event.e.ra,this.timing.update.yd);b=this.sb[rpjs.event.e.$c];for(a=0;a<b.length;a++)b[a].ng(rpjs.event.e.$c,this.timing.update.yd);for(a=0;a<this.managers.length;a++)this.managers[a].Wo(J.Ta.Rb)&&this.managers[a].update(this.timing.update.yd,
J.Ta.Rb);rpjs.game.channel.update();rpjs.remoteCalls.update(this.timing.update.yd);if(!rpjs.info.isServer){this.w.ki();this.wa!=i&&(this.wa.ki(),rpjs.editor.drawDebug&&this.wa.lt());this.Ir();for(a=0;a<this.h.length;a++)this.h[a].ob&&this.h[a].visible&&this.h[a].jt();for(var c=this.sb[rpjs.event.e.jb],a=0;a<c.length;a++)b=c[a],!b.a.Tb&&(!b.a.Lb&&!b.a.fe)&&b.ng(rpjs.event.e.jb,b.a.Bi);if(this.wa!=i&&rpjs.editor.drawDebug){c=this.sb[rpjs.event.e.wc];for(a=0;a<c.length;a++)b=c[a],!b.a.Lb&&(!b.a.fe&&
b.a.wd&&b.a.visible)&&b.ng(rpjs.event.e.wc,b.a.Bi)}if(this.wa!=i&&rpjs.editor.drawDebug)for(a=0;a<this.h.length;a++)this.h[a].mt();this.w.po();this.wa!=i&&this.wa.po()}for(a=0;a<this.h.length;a++)this.h[a].transform&&this.h[a].transform.qb>=F.bb.He&&(this.h[a].rd[J.Ta.Rb]=k)}};
m.uy=function(){this.ai=J.Ta.Fe;if(this.dh&&!this.Xo()){for(var a=this.sb[rpjs.event.e.sf],b=0;b<a.length;b++)a[b].ng(rpjs.event.e.sf,this.timing.Ma.Ab);for(b=0;b<this.managers.length;b++)this.managers[b].Wo(J.Ta.Fe)&&this.managers[b].update(this.timing.Ma.Ab,J.Ta.Fe);for(b=0;b<this.h.length;b++)this.h[b].qb==F.bb.He&&(this.h[b].rd[J.Ta.Fe]=k)}this.ai=J.Ta.Rb};m.Ir=function(){this.Mh&&this.Mh.context.enabled&&this.Mh.wt.apply(this.Mh.context)};m.Gq=function(a,b){this.Mh=a?{wt:a,context:b}:f};
m.od=function(a,b){this.ic.push({Ui:a,Da:b})};m.Qy=function(){return 0<this.ic.length};m.Pj=function(a,b){for(var c=0;c<this.ic.length;c++){var g=this.ic[c];if(g&&g.Ui===a&&g.Da===b){this.ic[c]=i;break}}};m.getTime=function(){return(new Date).getTime()};m.MA=function(){return 0===this.lf?0:(new Date).getTime()-this.lf};
m.je=function(a,b,c){b||(b=J.ec.Dj);var g=i;if(b==J.ec.Dj||b==J.ec.oh){var e=this.so(a,this.Hk,c);e!=i&&(g={data:e,source:J.ec.oh})}if(!g&&(b==J.ec.Dj||b==J.ec.Ij))e=this.so(a,this.wk,c),e!=i&&(g={data:e,source:J.ec.Ij});return g};m.so=function(a,b,c){if(!b)return i;a=a?b[a]:b;if(!a)return i;c||(a=RPJS_Loader.cloneObject(a));return a};m.Ku=function(a,b){for(var c=a;c!=i;){if(c==b)return h;var g=this.je(c,f,h);if(g==i)break;c=g.data.Tp!=c?g.data.Tp:i}return k};m.Xw=function(a){this.h.push(a)};
m.py=function(a){RPJS_Loader.removeElem(this.h,a)};m.Yw=function(a){for(var b in this.sb)b==rpjs.event.e.jb&&a.a.Tb||a.Sx(b)&&this.sb[b].push(a)};m.Yq=function(a){for(var b in this.sb)(b!=rpjs.event.e.jb||a.I||!a.a.Tb)&&RPJS_Loader.removeElem(this.sb[b],a)};m.$z=function(a,b){for(var c=0;c<this.h.length;c++)if(!this.h[c].I){var g=this.h[c].P(a);if(g!=i&&(b==f||-1==ua(b,g)))return g}return i};
m.oo=function(a,b){for(var c=[],g=0;g<this.h.length;g++)this.h[g].I||this.h[g].parent==i&&this.h[g].$j(a,b,c);return c};m.Xz=function(a,b){for(var c=0;c<this.h.length;c++)if(!this.h[c].I&&this.h[c].Za==a&&(b==f||-1==ua(b,this.h[c])))return this.h[c];return i};m.Zz=function(a){for(var b=[],c=0;c<this.h.length;c++)!this.h[c].I&&this.h[c].Za==a&&b.push(this.h[c]);return b};m.Vz=function(a){for(var b=0;b<this.h.length;b++)if(!this.h[b].I&&this.h[b].name==a)return this.h[b];return i};
m.ut=function(a){for(var b=0;b<this.h.length;b++)if(!this.h[b].I&&this.h[b].tc==a)return this.h[b];return i};m.Wz=function(a){for(var b=0;b<this.h.length;b++)if(!this.h[b].I&&this.h[b].ha==a)return this.h[b];return i};m.Yz=function(a){for(var b=[],c=0;c<this.h.length;c++){var g=this.h[c];!g.I&&g.Nu(a)&&b.push(g)}return b};m.Um=function(a,b){for(var c=0;c<b.length;c++)if(a.Za==b[c])return h;return k};
m.dA=function(a,b,c){for(var g=0;g<this.h.length;g++){var e=this.h[g];if(!e.I&&(c==f||this.Um(e,c))&&e.Wl(a,b))return e}return i};m.fA=function(a,b,c){for(var g=[],e=0;e<this.h.length;e++){var d=this.h[e];!d.I&&(c==f||this.Um(d,c))&&d.Wl(a,b)&&g.push(d)}return g};m.mz=function(a,b){this.R(a,b)};m.R=function(a,b){for(var c=0;c<this.h.length;c++)this.h[c].parent==i&&this.h[c].Cf(a,b)};n.n(J.prototype,"sendEventDownwardsGlobal",J.prototype.R);m=J.prototype;
m.getFile=function(a,b,c){function g(g,d,j,l){j.url==a&&(console.error("Failed to get file "+a+". Reason: "+l),c(),c=b=f)}a==f?(console.error("The file "+a+" is undefined"),c()):($(document).ajaxError(g),$.get(a,i,function(e){$(document).unbind("ajaxError",g);e==i?g(0,0,{url:a},"File not found"):("object"!=typeof e&&(e=JSON.parse(e)),b(e),c=b=f)},"json"))};m.JA=function(a){return"assets/"+a};m.sA=ba("data.json");
m.Cr=function(a,b){var c=this;this.getFile("data.json",function(g){c.$e=g;c.tb!=i&&c.tb.A==i&&c.tb.Mx(c.$e.FC);c.Hf==i&&(c.Hf=c.$e.CC);c.gf==i&&(c.gf=c.$e.images);c.Hk==i&&(c.Hk=c.$e.cb);c.wk==i&&(c.wk=c.$e.h);c.Af==i&&(c.Af=c.$e.jC);c.R(rpjs.event.global.Nv);a!=f&&a();b=a=f},function(){c.R(rpjs.event.global.Mv);b!=f&&b();b=a=f})};m.yC=aa("xj");
m.yn=function(a){var a=RPJS_Loader.cloneObject(a,{name:"",Pb:1,ia:1,yb:k,Zo:k,Ek:k,Ru:h}),b={options:a,i:i};this.worldLayers[a.name]=b;rpjs.info.isServer||(b.i=$('<div id="rpjsWorldLayer_'+a.name+'" class="rpjsWorldLayer"></div>'),this.w.mc(b.i[0],h),b.i.appendTo(this.Kg[J.kd.vh]),a=$('<div style="position: absolute; width: 0px; height: 0px; visibility: visible; display: block;"></div>'),this.w.mc(a[0],h),b.i.append(a))};m.gl=function(a){return this.worldLayers[a||"Default"]};m.YA=function(a){return this.gl(a).i};
m.oi=function(a){return this.gl(a).options};m.gA=function(a){var a=this.oi(a),b={x:1,y:1},c=L.gb();c&&(b.x=Math.max(1-(1-c.transform.scale.x)*a.ia,0),b.y=Math.max(1-(1-c.transform.scale.y)*a.ia,0));return b};m.ea=function(a,b){return a?(console.error(b.typeName+" manager shorthand already exists in RPJS_Game. Please change it."),k):h};m.mc=function(a,b){this.w.mc(a,b)};J.ec={Dj:"Any",oh:"Blueprints",Ij:"Scene"};J.kd={vh:"rpjsLayer_World",Om:"rpjsLayer_RendererSurface",Im:"rpjsLayer_DebugRendererSurface"};
J.create=function(a){rpjs.game.instance||(new J(a),rpjs.game.instance.Yc!=f&&rpjs.game.instance.Yc());return rpjs.game.instance};n.n(J,"create",J.create);J.u=function(){return rpjs.game.instance};J.K=function(){rpjs.game.instance&&rpjs.game.instance.ac!=f&&rpjs.game.instance.ac()};n.n(J,"destroy",J.K);function Fa(){this.ca()}m=Fa.prototype;m.K=function(){this.ac!=f&&this.ac();this.aa()};m.update=function(a,b){this.ra!=f&&this.ra(a,b)};m.rx=function(a){this.Sg!=f&&this.Sg(a)};m.Qw=function(a){this.vf!=f&&this.vf(a)};m.ox=function(a){this.Si!=f&&this.Si(a)};m.ca=A();m.aa=A();m.aa=A();m.fl=function(){return[J.Ta.Rb]};m.Wo=function(a){for(var b=this.fl(),c=0;c<b.length;c++)if(a==b[c])return h;return k};
Fa.yr=function(a){var b;try{b=new a,b.Yc!=f&&b.Yc(f)}catch(c){console.error("Failed to create manager. Reason: "+RPJS_Loader.extractExceptionInfo(c)),b=i}return b};function Q(){this.df={};this.W={};this.jj=0;this.On=[];this.Jh=[]}m=Q.prototype;m.gn=function(a){return a==f?a:"string"==typeof a?a:"object"==typeof a?JSON.stringify(a):a};m.WB=function(a,b,c){c==f&&(c=h);this.df[a]={Js:b,Kw:c}};m.Zq=function(a){for(var b in this.df)(a||!this.df[b].Kw)&&delete this.df[b]};m.$w=function(a,b){var c=a.ha;c&&c in this.W==k&&(this.W[c]={Cd:b,a:a,j:{}})};m.$q=function(a){(a=a.ha)&&a in this.W&&delete this.W[a]};
m.cq=function(a){var b=a.a.ha;if(b){var c=a.typeName;c in this.W[b].j==k&&(this.W[b].j[c]={e:a,sh:{},dj:{tg:Q.Ge.ld,ij:Q.Jj.Nm,vb:[],zi:k,hj:k}})}};m.qy=function(a){var b=a.a.ha;b&&(a=a.typeName,b in this.W&&a in this.W[b].j&&delete this.W[b].j[a])};m.dq=function(a,b,c){var g=b.a.ha;g&&(this.W[g].j[b.typeName].sh[a]=c)};m.ax=function(a,b,c,g,e,d){var j=d.a.ha;if(j){d=this.W[j].j[d.typeName].dj;d.tg=a;d.ij=b;d.vb=Array(c.length);d.zi=g;d.hj=e;for(a=0;a<c.length;a++)d.vb[a]=c[a]}};
m.ry=function(a){var b=a.a.ha;b&&(a=a.typeName,b in this.W&&a in this.W[b].j&&(b=this.W[b].j[a].dj,b.tg=Q.Ge.ld,b.vb.length=0))};m.$q=function(a){(a=a.ha)&&a in this.W&&delete this.W[a]};m.dz=function(a){this.Jh.push(a)};m.$B=function(a){ta(this.Jh,a)};
m.sz=function(a,b,c,g,e){c==f&&(c=Q.md.rh);"string"==typeof c&&!rpjs.info.isServer&&z(Error("Only server may call RPC with specific receiver"));g={c:"a",t:"__RPC",d:{functionName:a,data:b}};if("string"!=typeof c)switch(c){case Q.md.th:rpjs.game.channel.send(g);break;case Q.md.rh:rpjs.game.channel.send(g);break;case Q.md.Bb:rpjs.game.channel.send(g);try{window[a](b,e)}catch(d){console.error("The global RPC call "+a+"() failed with error: "+RPJS_Loader.extractExceptionInfo(d))}}else rpjs.game.channel.send(g,
c)};m.uz=A();
m.Pn=function(a,b,c,g){c==f&&(c=Q.md.rh);if(rpjs.game.settings.logRemoteCalls)var e=g.a.ha;var e=g.a.ha,d=g.typeName,j={c:"a",t:"__RPCP",d:{ha:e,Ts:d,key:a,data:b}},l=this.W[e].j[d].sh[a];if("string"!=typeof c)switch(c){case Q.md.th:rpjs.info.isServer||rpjs.game.channel.send(j);break;case Q.md.rh:rpjs.info.isServer||rpjs.game.channel.send(j);break;case Q.md.Bb:rpjs.info.isServer||rpjs.game.channel.send(j);try{l.call(g,b)}catch(q){console.error("The paired RPC call "+a+"() on actor "+e+"'s component id "+
d+" failed with error: "+RPJS_Loader.extractExceptionInfo(q)+". Data: "+this.gn(b))}}else rpjs.game.channel.send(j,c)};m.tz=A();m.Yh=function(a,b,c,g,e,d){rpjs.info.isServer||z(Error("createFromBlueprintViaNetwork() can only be called on the server"));var j=this.Ot(),l={Ds:a,zw:b,xm:{ha:j,Cd:g}};"object"==typeof c?rpjs.game.channel.eh("__NCP","a",l):(rpjs.game.channel.nz("__NCP","a",l),e==h&&this.Sy("__NCP","a",l));return I.fb(a,b,{ha:j,Cd:g},d)};
m.Ot=function(){return ca(navigator.userAgent+(new Date).getTime()+1E7*Math.random())};m.wz=function(a,b){rpjs.info.isServer||z(Error("changeNetworkCreateBlueprintParams() can only be called on the server"));for(var c=0;c<this.On.length;c++){var g=this.On[c];if("a"==g.c&&"__NCP"==g.t&&g.d!=f&&g.d.xm!=f&&g.d.xm.ha==a){g.d=RPJS_Loader.cloneObject(b,g.d);break}}};
m.Fv=function(a){if("a"==a.c)switch(a.t){case "__NCP":rpjs.info.isServer||I.fb(a.d.Ds,a.d.zw,a.d.xm);break;case "__NDP":rpjs.info.isServer||(a=this.W[a.d.ha],a==f||a.a==f||a.a.K());break;case "__RPC":var b=a.d.functionName;if(b in this.df)try{rpjs.info.isServer||this.df[b].Js(a.d.data)}catch(c){console.error("The global RPC call "+b+"() failed with error: "+RPJS_Loader.extractExceptionInfo(c))}break;case "__RPCP":var b=a.d.ha,g=a.d.Ts,e=a.d.key;if(b in this.W&&g in this.W[b].j&&this.W[b].j[g].sh[e]){var d=
this.W[b].j[g].e,j=this.W[b].j[g].sh[e];try{j.call(d,a.d.data)}catch(l){console.error("The paired RPC call "+e+"() on actor "+b+"'s component id "+g+" failed with error: "+RPJS_Loader.extractExceptionInfo(l)+". Data: "+this.gn(a.d.data))}}break;case "__REF":if(e=k,a.d.h)for(b in a.d.h)if(b in this.W)for(g in a.d.h[b])if(g in this.W[b].j){if(d=this.W[b],j=d.j[g].dj,!rpjs.info.isServer&&(d.Cd!=rpjs.game.channel.wo()||j.tg==Q.Ge.th)){for(var q in a.d.h[b][g])-1!=ua(j.vb,q)?e=h:rpjs.game.settings.logRemoteCalls&&
delete a.d.h[b][g][q];if(e){var d=this.W[b].j[g].e,w=a.d.h[b][g];if(j.hj)d.a.ka(rpjs.event.global.mw,{vb:w,e:d,Pa:g,lm:a.lm});else if(d.Ol)d.gc(rpjs.event.global.Ol,{vb:w,lm:a.lm});else for(q in w)d[q]=w[q]}}}else rpjs.game.settings.logRemoteCalls&&delete a.d.h[b][g];else rpjs.game.settings.logRemoteCalls&&delete a.d.h[b]}else if("s"==a.c)switch(a.t){case "RoomJoined":a={},this.Xm(a,h)&&rpjs.game.channel.eh("__REF","a",a)}};
m.update=function(a){this.jj-=a;if(0>=this.jj&&(this.jj=rpjs.game.settings.sendRate,a={},this.Xm(a))){rpjs.game.channel.eh("__REF","a",a);for(var b=0;b<this.Jh.length;b++){var c=this.Jh[b];try{c.GB(a)}catch(g){console.error("The reflection send listener #"+b+" failed: "+RPJS_Loader.extractExceptionInfo(g))}}}};
m.Xm=function(a,b){var c=k,g;for(g in this.W)for(var e in this.W[g].j){var d=this.W[g],j=d.j[e].dj;if(b||!j.zi)if(!rpjs.info.isServer&&d.Cd==rpjs.game.channel.wo()&&(j.tg==Q.Ge.qr||j.tg==Q.Ge.rr))for(var d=this.W[g].j[e].e,l=0;l<j.vb.length;l++){var q=j.vb[l],w=d[q];w===f&&(w=i);var t=h;if(!b&&j.ij==Q.Jj.Nm){var E;j.Il?E=!RPJS_Loader.areObjectsEqual(w,j.Il[q]):(j.Il={},E=h);E?j.Il[q]=RPJS_Loader.cloneObject(w):t=k}t&&(c=h,a.h||(a.h={}),g in a.h==k&&(a.h[g]={}),e in a.h[g]==k&&(a.h[g][e]={}),a.h[g][e][q]=
w)}}return c};Q.Ge={ld:0,qr:1,th:2,rr:3};Q.Jj={Nm:0,Ey:1};Q.md={th:0,rh:1,Bb:2};rpjs.remoteCalls=new Q;function Ga(){}m=Ga.prototype;m.hh=function(a,b){this.zc={x:a,y:b};this.Kf=this.lj(a,b);this.Aa=K.S.ld;this.lc=[];this.Je=[];this.An=k;for(var c=0;c<rpjs.game.settings.worldLayers.length;c++)if(rpjs.game.settings.worldLayers[c].Zo){this.An=h;break}return this.Kf};m.K=function(){this.ac!=f&&this.ac()};m.lt=function(){this.Ap!=f&&this.Ap()};m.Ks=function(a,b){this.Aa|=a;this.Rg!=f&&this.Rg(a,b)};
m.po=function(){if(this.Aa){this.Aa=0;var a=L.Ra,b;for(b in rpjs.game.instance.worldLayers){var c=i,g=0,e=0;if(a){var c=a.da.Zd(b),d=c.Bj,g=c.Aj-a.transform.position.x*c.v.Pb*c.Jd,e=d+a.transform.position.y*c.v.Pb*c.Kd;c.v.yb&&(e=-e)}d=rpjs.game.instance.worldLayers[b].i;if(rpjs.info.legacyIEFilterDOMPipe)this.va("setStyleAttribute",{xa:d[0],Oc:"left",Pc:Math.round(g)+"px"}),this.va("setStyleAttribute",{xa:d[0],Oc:"top",Pc:Math.round(e)+"px"});else{if(!c||!c.v.Ek)c=rpjs.info.supports3dTransform?"translate3d("+
Math.round(g)+"px, "+Math.round(e)+"px, 0px)":"translate("+Math.round(g)+"px, "+Math.round(e)+"px)";else var j=rpjs.game.instance.Oa/c.Vc,g=g-0.5*rpjs.game.instance.Ka/c.Uc*(1-c.Uc),e=e-0.5*j*(1-c.Vc),c=rpjs.info.supports3dTransform?"translate3d("+Math.round(g)+"px, "+Math.round(e)+"px, 0px) scale3d("+c.Uc+", "+c.Vc+", 1)":"translate("+Math.round(g)+"px, "+Math.round(e)+"px) scale("+c.Uc+", "+c.Vc+")";this.va("setStyleAttribute",{xa:d[0],Oc:"WebKit"==rpjs.info.browserType?"webkitTransform":"Firefox"==
rpjs.info.browserName?"MozTransform":"MSIE"==rpjs.info.browserName?"msTransform":"Opera"==rpjs.info.browserName?"oTransform":"transform",Pc:c});"MSIE"==rpjs.info.browserName&&9<=rpjs.info.browserVersion&&(d[0].className=d[0].className)}}}if("MSIE"==rpjs.info.browserName&&9<=rpjs.info.browserVersion)for(a=0;a<rpjs.game.instance.h.length;a++){b=rpjs.game.instance.h[a];for(g=0;g<b.j.length;g++)if(c=b.j[g],c instanceof Ka&&c.i){c.i[0].className=c.i[0].className;break}}if(this.An)for(a=0;a<this.lc.length;a++)b=
this.lc[a],b.a.rd[J.Ta.Rb]&&(b.a.v.Zo&&b.sort)&&(c=b.a.P(La),this.va("setStyleAttribute",{xa:b.i[0],Oc:"zIndex",Pc:-Math.floor(c?b.a.transform.position.y-(c.ta.y-0.5*c.D):b.a.transform.position.y)}));this.Bp!=f&&this.Bp();if(0<this.Je.length){for(a=0;a<this.Je.length;a++)switch(c=this.Je[a],b=c.Da.xa,c.Ui){case "setStyleAttribute":b.style[c.Da.Oc]=c.Da.Pc;break;case "addClass":c=c.Da.className;RPJS_Loader.addClass(b,c);break;case "removeClass":c=c.Da.className;RPJS_Loader.removeClass(b,c);break;case "changeClass":RPJS_Loader.vz(b,
c.Da.Lv,c.Da.Hv)}this.Je.length=0}};m.Uq=function(a,b){this.zc.x=a;this.zc.y=b;this.Kf&&(this.Kf[0].style.width=a+"px",this.Kf[0].style.height=b+"px",this.Kf.attr({width:a,height:b}));this.Op!=f&&this.Op(a,b)};m.va=function(a,b){this.Je.push({Ui:a,Da:b})};m.$A=function(){return 0<this.Je.length};m.lj=ba(i);m.getContext=ba(i);m.ki=A();m.ms=A();m.nq=A();m.oq=A();
m.Fn=function(a,b,c,g,e,d,j,l){var q=j!=f?j:K.S.Bb;if(q){var d=d&&"object"==typeof d?d:rpjs.game.instance.oi(d),w;-1!==l&&(w=l?l:L.Ra);l=j=1;w&&(j=Math.max(1-(1-w.transform.scale.x)*d.ia,0),l=Math.max(1-(1-w.transform.scale.y)*d.ia,0));var t=b.scale.x*j;w=b.scale.y*l;1E-5>Math.abs(t)&&(t=0);1E-5>Math.abs(w)&&(w=0);if(rpjs.info.legacyIEFilterDOMPipe){if(q&K.S.Pm||q&K.S.Md){var E=a.filters.item("DXImageTransform.Microsoft.Matrix");E||(a.style.filter+=' progid:DXImageTransform.Microsoft.Matrix(enabled=false,sizingMethod="auto expand",filterType="nearest")',
E=a.filters.item("DXImageTransform.Microsoft.Matrix"));1!=j||1!=l||1!=b.scale.x||1!=b.scale.y||0!=b.rotation.b?(t*=Math.cos(b.rotation.b),w*=Math.sin(b.rotation.b),E.M11=t,E.M12=-w,E.M21=w,E.M22=t,E.enabled=h):E.enabled=k}if(q&K.S.Bb){w=0.5*c-e.x;t=0.5*g-e.y;E=-b.rotation.b;q=w*Math.cos(E)+t*Math.sin(E);w=w*-Math.sin(E)+t*Math.cos(E);E=t=0;if(0!=b.rotation.b){t=a.offsetWidth;E=a.offsetHeight;if(0==t&&0!=c&&0!=b.scale.x||0==E&&0!=g&&0!=b.scale.y)return-1;t=0.5*(t-c*j);E=0.5*(E-g*l)}c=(b.position.x+
(q-0.5*c))*j-t;g=(b.position.y+(w-0.5*g))*l+E;g=d.yb?g-e.y:-g-e.y;b=-Math.round(g)+"px";this.va("setStyleAttribute",{xa:a,Oc:"left",Pc:Math.round(c)+"px"});this.va("setStyleAttribute",{xa:a,Oc:"top",Pc:b})}}else c=b.position.x*j-e.x,g=b.position.y*l,g=d.yb?g-e.y:-g-e.y,this.Oh(a,Math.round(c),Math.round(g),b.rotation.b,t,w,1,Math.round(e.x),Math.round(e.y))}};
m.Oh=function(a,b,c,g,e,d,j,l,q){b=b||0;c=c||0;if(rpjs.info.legacyIEFilterDOMPipe)a.style.left=b+"px",a.style.top=c+"px";else{var g=g||0,e=e||1,d=d||1,w=j||1;if(rpjs.info.supports3dTransform){if(j="translate3d("+b+"px, "+c+"px, 0px) ",0!=g&&(j+="rotate3d(0, 0, 1, "+180/Math.PI*g+"deg)"),1!=e||1!=d||1!=w)j+="scale3d("+e+", "+d+", "+w+")"}else if(j="translate("+b+"px, "+c+"px) ",0!=g&&(j+="rotate("+180/Math.PI*g+"deg) "),1!=e||1!=d)j+="scale("+e+", "+d+")";b="";l!=f&&(b+=l+"px ");q!=f&&(b+=q+"px");
"WebKit"==rpjs.info.browserType?(l="webkitTransform",q="webkitTransformOrigin"):"Firefox"==rpjs.info.browserName?(l="MozTransform",q="MozTransformOrigin"):"MSIE"==rpjs.info.browserName?(l="msTransform",q="msTransformOrigin"):"Opera"==rpjs.info.browserName?(l="oTransform",q="oTransformOrigin"):(l="transform",q="transformOrigin");this.va("setStyleAttribute",{xa:a,Oc:l,Pc:j});b&&this.va("setStyleAttribute",{xa:a,Oc:q,Pc:b})}};
m.mc=function(a,b){rpjs.info.supports3dTransform?(RPJS_Loader.addClass(a,"rpjsHwAcc",h),b||RPJS_Loader.addClass(a,"rpjsHwAccRecursive",h)):(RPJS_Loader.addClass(a,"rpjsHwAcc2d",h),b||RPJS_Loader.addClass(a,"rpjsHwAccRecursive2d",h))};
m.Ys=function(a,b,c,g){rpjs.profiling.DOMElementCount++;c=c?c:"div";b=$("<"+c+' style="position: absolute; display: block; '+(b?b:"")+'">'+("</"+c+">"));this.mc(b[0],k);b.attr("data-rpjs-actor-name",escape(a.name));b.appendTo(rpjs.game.instance.worldLayers[a.sa].i);this.lc.push({a:a,i:b,sort:g});return b};m.dt=function(a){for(var b=0;b<this.lc.length;b++)if(this.lc[b].i==a){a.remove();RPJS_Loader.removeCyclic(this.lc,b);rpjs.profiling.DOMElementCount--;break}};
m.Kz=function(a){for(var b=0;b<this.lc.length;b++)this.lc[b].a==a&&(this.lc[b].i.remove(),RPJS_Loader.removeCyclic(this.lc,b),rpjs.profiling.DOMElementCount--,b--)};Ga.Vf=function(a){a=new a;a.Yc!=f&&a.Yc();return a};function G(){}G.Eq={};G.ni=function(a,b,c){return G.Ao(k,a,b,c)};G.OA=function(a,b,c,g){return G.Ao(h,a,b,c,g)};G.Ao=function(a,b,c,g,e){var d={},j;for(j in b){var l=b[j],q=f;c&&j in c&&(q=c[j]);l=G.bf(a,l,q,g,e);d[j]=l}return d};G.el=function(a,b,c){return G.bf(k,a,b,c)};G.NA=function(a,b,c,g){return G.bf(h,a,b,c,g)};
G.bf=function(a,b,c,g,e){if(b==i)a=f;else{var d;if(d="object"!=typeof b?typeof b:G.Qt(b))if(a=G.zo(d)(a,b,c,g,e),a===f)c!==f?console.error("Could not parse schema - the schema "+d+" could not convert the in-data "+c+". Data: "+JSON.stringify(b)):console.error("Could not parse schema - the schema "+d+" is setup incorrectly and could not provide a default value. Data: "+JSON.stringify(b));else{if("debug"===rpjs.game.settings.buildConfigName&&c!==f&&"string"!==typeof c){try{JSON.stringify(c)}catch(j){}try{JSON.stringify(a)}catch(l){}typeof c!==
typeof a&&"object"!==typeof a||"object"===typeof c&&"object"===typeof a&&$.isArray(c)!==$.isArray(a)||"object"===typeof c&&$.isArray(c)}}else a=f}return a};G.Qt=function(a){if("object"!==typeof a)return typeof a;if("type"in a){var b=a.type;if(G.zo(b))return b;console.error("Could not parse schema - the field type is of invalid ("+b+"). Data: "+JSON.stringify(a))}else console.error("Could not parse schema - no field named 'type' provided in object. Data: "+JSON.stringify(a))};
G.ga=function(a,b){G.Eq[a]=b};G.zo=function(a){return G.Eq[a]};n.o("RPJS_InitDefaultSchemaFilters",function(){function a(a){"string"!==typeof a&&(a=typeof a===f||typeof a===i?"":""+a);return a}function b(a){if("object"!==typeof a&&a!==f&&a!==i)if("string"===typeof a)if(0<a.length)try{a=JSON.parse(a)}catch(b){console.error("Contents for schema of type object are invalid: "+a+". "+RPJS_Loader.extractExceptionInfo(b)),a=f}else a=f;else a=f;return a}function c(a,b,c,g,e,t){var E;t!==f&&t!==i?E=t:b&&typeof e===a?E=e:"object"===typeof e&&(e.value!==f&&e.value!==i)&&
(E=e.value);if(E!==f&&E!==i){if(!b||typeof E!==a)E=g(E)}else E=c;return E}function g(a,b,c,g,e,t){var E;c!==f?E=c:"object"===typeof b&&b.value!==f&&(E=b.value);if(E||t)if(a)g&&(a=g(E),a||(console.error("Failed to validate input for schema: "+E+". Schema field: "+JSON.stringify(b)),a=f),E=a);else{if(e){a=(e===h?g:e)(E);if(a===f||a===i)console.error("Failed to fetch asset from input for schema: "+E+". Schema field: "+JSON.stringify(b)),a=f;E=a}}else E=a?"":i;return E}function e(b,c,g){b=a(b);g=g(b);
return!g?f:c?b:g}G.ga("boolean",function(a,b,g){return c("boolean",h,k,function(a){return"true"===a},b,g)});G.ga("number",function(a,b,g){return c("number",h,0,function(a){a=parseFloat(a);isNaN(a)&&(a=0);return a},b,g)});G.ga("integer",function(a,b,g){return c("number",k,0,function(a){"number"===typeof a&&0===a%1||(a=parseInt(a),isNaN(a)&&(a=0));return a},b,g)});G.ga("percent",function(a,b,g){return c("number",k,0,function(a){"number"!==typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a=Math.min(1,
Math.max(a,0))},b,g)});G.ga("string",function(a,b,g){return c("string",h,"",function(a){return""+a},b,g)});G.ga("text",function(a,b,g){return c("string",k,"",function(a){"string"!==typeof a&&(a=""+a);return a},b,g)});G.ga("loctext",function(a,b,g){return c("string",k,"",function(a){"string"!==typeof a&&(a=""+a);return rpjs.Xb?rpjs.Xb(a):a},b,g)});G.ga("any",function(a,b,c){return c!==f?c:"object"===typeof b&&b.value!==f?b.value:""});G.ga("image",function(a,b,c){return g(a,b,c,function(b){return e(b,
a,function(){return rpjs.game.instance.getImageData(b)})},h)});G.ga("sound",function(a,b,c){return g(a,b,c,function(b){return e(b,a,function(){return rpjs.game.instance.Bo(b)})},h)});G.ga("sprite",function(b,c,l){return g(b,c,l,function(a){return e(a,b,function(){return rpjs.game.instance.tb.A[a]})},a)});G.ga("video",function(b,c,e){return g(b,c,e,function(a){return a},a)});G.ga("scene",function(b,c,l){return g(b,c,l,function(a){return e(a,b,function(){return rpjs.game.instance.Af[a]})},a)});G.ga("actor",
function(b,c,e,q){return g(b,c,e,function(b){var b=a(b),g=b.split("#"),e=g[0],g=1<g.length?g[1]:c.Pa,d;if("_this"===e)d=q;else{var l=rpjs.game.instance.je(e,f,h);l&&(d=l.data)}if(d){if(c.Pa){if(!window[c.Pa]){console.error("The actor with name "+e+" has defined an invalid component type "+g+" for "+b);return}if(!d.j[c.Pa]){console.error("Could not find component "+c.Pa+" in blueprint/actor data with name "+b+" for "+b);return}}return b}console.error("The actor data with name "+d+" not found for "+
b)},a)});G.ga("actorinstance",function(b,c,e,q){return g(b,c,e,function(b){var b=a(b),g=b.split("#"),e=g[0],g=1<g.length?g[1]:c.Pa,d;if("_this"===e)d=q;else{var l=rpjs.game.instance.je(e,J.ec.Ij,h);l&&(d=l.data)}if(d){if(!q||!q.gg||q.hC){if(g){l=window[g];if(!l){console.error("The actor with name "+e+" has defined an invalid component type "+g+" for "+b);return}a:{for(var ja in d.j)if(F.uu(window[ja],l)){d=h;break a}d=k}if(!d){console.error("The actor with name "+e+" could not find component of type "+
g+" for "+b);return}}return b}}else console.error("The actor instance "+b+" was not found")},function(b){var b=a(b),g=b.split("#"),e=g[0],g=1<g.length?g[1]:c.Pa,d=i;if(d="_this"===e?q:rpjs.game.instance.ut(e)){if(g){var l=window[g];if(!l){console.error("The actor with name "+e+" has defined an invalid component type "+g+" for "+b);return}d=d.P(l);if(!d){console.error("The actor with name "+e+" could not find component of type "+g+" for "+b);return}}return b=d}console.error("The actor with name "+
e+" not found for "+b)})});G.ga("componentType",function(b,c,e,q,w){return g(b,c,e,function(b){var c=b=a(b);w&&w[c]&&(c=w[c]||"");if(c&&!w&&!window[c])console.error("Schema's componentType is invalid for schema type componentType for "+b);else return c},a)});G.ga("componentProperty",function(b,c,e,q,w){return g(b,c,e,function(b){b=a(b);w&&w[b]&&(b=w[b]);return b},a)});G.ga("tag",function(b,c,e){return g(b,c,e,function(b){for(var b=a(b),c=k,g=0;g<rpjs.game.settings.tags.length;g++)if(rpjs.game.settings.tags[g]==
b){c=h;break}if(c)return b;console.error("Schema's tag is invalid for schema type tag for "+b)},a)});G.ga("worldLayer",function(b,c,e){return g(b,c,e,function(b){for(var b=a(b),c=k,g=0;g<rpjs.game.settings.worldLayers.length;g++)if(rpjs.game.settings.worldLayers[g].name==b){c=h;break}if(c)return b;console.error("Schema's world layer is invalid for schema type worldLayer for "+b)},a)});G.ga("event",function(b,c,e,q,w){return g(b,c,e,function(b){function c(a,b){for(var g in b){var e=b[g];if("object"==
typeof e){if(c(a,e))return h}else if(e==a)return h}return k}b=a(b);w&&w[b]&&(b=w[b]||"");if(b&&!w&&!c(b,rpjs.event))console.error("Schema's event name is invalid for schema type even for "+b);else return b},a)});G.ga("enum",function(b,c,e,q,w){return g(b,c,e,function(b){b=a(b);if(!b)return"";if(c.r!==f&&c.r!==i){var g=c.r;if("object"===typeof g){var e=k;if(RPJS_Loader.isObjectArray(c.r))for(var d in g){if(g[d]==b){e=h;break}}else e=b in g;if(e)return w&&w[b]?w[b]:b;console.error("Enum schema's key "+
b+" is not a valid enumeration value. Data: "+JSON.stringify(c))}else console.error("Schema is lacking an object template field for schema type enum. Data: "+JSON.stringify(c))}else console.error("Schema is lacking a template field for schema type enum. Data: "+JSON.stringify(c))},function(b){b=a(b);if(!b)return"";var g=i;if(c.r!==f&&c.r!==i){var e=c.r;"object"===typeof e&&(g=RPJS_Loader.isObjectArray(c.r)?b:e[b])}return g})});G.ga("object",function(a,c,e,q,w){return g(a,c,e,function(g){var g=b(g),
e;if(c.r!==f&&c.r!==i){if("object"===typeof c.r){e={};for(var l in c.r){var P=G.bf(a,c.r[l],g&&l in g?g[l]:f,q,w);e[l]=P}}else e=G.bf(a,c.r,g,q,w);return e}console.error("Schema is lacking a template field for schema type object. Data: "+JSON.stringify(c))},h,h)});G.ga("array",function(a,c,e,q,w){return g(a,c,e,function(g){(g=b(g))&&!$.isArray(g)&&(g=f);var e;if(g)if(c.r!==f&&c.r!==i){e=Array(g.length);for(var l=0;l<g.length;l++){var P=G.bf(a,c.r,g[l],q,w);e[l]=P}}else{console.error("Schema is lacking a template field for schema type array. Data: "+
JSON.stringify(c));return}else e=[];return e},h,h)});G.ga("animation",function(b,c,e){return g(b,c,e,function(b){b=a(b);return!b?"":b},a)});G.ga("RPJS_Vector2",function(a,c,e){return g(a,c,e,function(a){a=b(a);if(!a)return{x:0,y:0};a.x=a.x||0;a.y=a.y||0;return a},function(a){a=b(a);return!a?new M:!(a instanceof M)?new M(a.x||0,a.y||0):a.clone()},h)});G.ga("RPJS_Vector3",function(a,c,e){return g(a,c,e,function(a){a=b(a);if(!a)return{x:0,y:0,b:0};a.x=a.x||0;a.y=a.y||0;a.b=a.b||0;return a},function(a){a=
b(a);return!a?new R:!(a instanceof R)?new R(a.x||0,a.y||0,a.b||0):a.clone()},h)})});function Ma(){}Ma.To=function(a,b){var c=(new za({t:a})).set("c","s").set("_uid",f).set("d",b);rpjs.game.channel.send(c.Bm())};rpjs.game.service=Ma;function za(a){this.data={};a&&this.parse(a)}m=za.prototype;m.clone=function(){return new za(this.Bm())};m.parse=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.data[b]="object"==typeof a[b]?new za(a[b]):a[b])};m.Bm=function(){var a={},b;for(b in this.data)a[b]="object"==typeof this.data[b]?this.data[b].Bm():this.data[b];return a};m.get=function(a){return this.data[a]};
m.set=function(a,b){if(b===f)return this;this.data[a]="object"==typeof b&&!(b instanceof za)?new za(b):b;return this};function M(a,b){this.x=a||0;this.y=b||0}n.o("RPJS_Vector2",M);M.Zs=function(a){return new M(a.x,a.y)};m=M.prototype;m.clone=function(){return new M(this.x,this.y)};m.set=function(a){this.x=a.x;this.y=a.y;return this};m.ve=function(a,b){this.x=a;this.y=b;return this};m.Jq=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this};m.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};m.Wc=function(){return this.x*this.x+this.y*this.y};m.Zk=function(a){return this.x==a.x&&this.y==a.y};
m.add=function(a){this.x+=a.x;this.y+=a.y;return this};m.dy=function(a){this.x-=a.x;this.y-=a.y;return this};m.multiply=function(a){this.x*=a;this.y*=a;return this};m.ht=function(a){this.x/=a;this.y/=a;return this};m.Zh=function(a){return M.Zh(this,a)};m.ei=function(a){return this.x*a.x+this.y*a.y};
m.ss=function(a){var b=this.Wc(),c=a.Wc();if(0==b||0==c)return console.error("RPJS_Vector2.angleDiff() called with a null vector. a: "+this.toString()+", b: "+a.toString()),0;b=Math.sqrt(b);c=Math.sqrt(c);return Math.acos((this.x*a.x+this.y*a.y)/(b*c))};m.kf=function(){return 0==this.x&&0==this.y};m.normalize=function(){var a=this.length();0<a&&(this.x/=a,this.y/=a);return this};m.ql=function(){this.x=-this.x;this.y=-this.y;return this};
m.Xu=function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this};m.toString=function(){return"("+this.x+","+this.y+")"};M.clone=function(a){return a.clone()};M.Rk=function(a,b){return new M(a.x-b.x,a.y-b.y)};M.Tw=function(){return(new M(Math.random()-0.5,Math.random()-0.5)).normalize()};M.Vu=function(a,b,c){return new M(a.x+(b.x-a.x)*c,a.y+(b.y-a.y)*c)};
M.Wu=function(a,b,c){var g=a.x%(2*Math.PI),e=b.x%(2*Math.PI),a=a.y%(2*Math.PI),b=b.y%(2*Math.PI);Math.abs(e-g)>Math.PI&&(0>g&&(g+=2*Math.PI),0>e&&(e+=2*Math.PI),g>e?g-=2*Math.PI:e-=2*Math.PI);Math.abs(b-a)>Math.PI&&(0>a&&(a+=2*Math.PI),0>b&&(b+=2*Math.PI),a>b?a-=2*Math.PI:b-=2*Math.PI);return new M(g+(e-g)*c,a+(b-a)*c)};
M.Fu=function(a,b,c,g){if(0>=c)return b;c=new M(a.x+(b.x-a.x)*c*g,a.y+(b.y-a.y)*c*g);if(b.x>=a.x&&c.x>b.x||b.x<=a.x&&c.x<b.x)c.x=b.x;if(b.y>=a.y&&c.y>b.y||b.y<=a.y&&c.y<b.y)c.y=b.y;return c};M.Zp=function(a,b){var c=b.ei(a)/b.Wc();return new M(c*b.x,c*b.y)};M.Zh=function(a,b){return a.x*b.y-a.y*b.x};M.Uz=function(a){return new M(a.y,-a.x)};M.Tz=function(a){return new M(-a.y,a.x)};M.normalize=function(a){return(new M(a.x,a.y)).normalize()};M.ql=function(a){return new M(-a.x,-a.y)};
M.Yn=function(a,b){var c=a.x-b.x,g=a.y-b.y;return Math.sqrt(c*c+g*g)};M.Zn=function(a,b){var c=a.x-b.x,g=a.y-b.y;return c*c+g*g};M.Cb=new M(0,0);M.Gj=new M(1,1);M.uh=new M(0,1);M.Km=new M(0,-1);M.Uf=new M(1,0);M.Mm=new M(-1,0);function R(a,b,c){this.x=a||0;this.y=b||0;this.b=c||0}n.o("RPJS_Vector3",R);R.Zs=function(a){return new R(a.x,a.y,a.y)};m=R.prototype;m.clone=function(){return new R(this.x,this.y,this.b)};m.set=function(a){this.x=a.x;this.y=a.y;this.b=a.b;return this};m.ve=function(a,b,c){this.x=a;this.y=b;this.b=c;return this};m.Jq=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.b=a.b-b.b;return this};m.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.b*this.b)};
m.Wc=function(){return this.x*this.x+this.y*this.y+this.b*this.b};m.Zk=function(a){return this.x==a.x&&this.y==a.y&&this.b==a.b};m.add=function(a){this.x+=a.x;this.y+=a.y;this.b+=a.b;return this};m.dy=function(a){this.x-=a.x;this.y-=a.y;this.b-=a.b;return this};m.multiply=function(a){this.x*=a;this.y*=a;this.b*=a;return this};m.ht=function(a){this.x/=a;this.y/=a;this.b/=a;return this};m.Zh=function(a){var b=this.x,c=this.y,g=this.b;this.x=c*a.b-g*a.y;this.y=g*a.x-b*a.b;this.b=b*a.y-c*a.x;return this};
m.ei=function(a){return this.x*a.x+this.y*a.y+this.b*a.b};m.ss=function(a){var b=this.Wc(),c=a.Wc();if(0==b||0==c)return console.error("RPJS_Vector3.angleDiff() called with a null vector. a: "+this.toString()+", b: "+a.toString()),0;b=Math.sqrt(b);c=Math.sqrt(c);return Math.acos((this.x*a.x+this.y*a.y+this.b*a.b)/(b*c))};m.kf=function(){return 0==this.x&&0==this.y&&0==this.b};m.normalize=function(){var a=this.length();0<a&&(this.x/=a,this.y/=a,this.b/=a);return this};
m.ql=function(){this.x=-this.x;this.y=-this.y;this.b=-this.b;return this};m.Xu=function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.b+=(a.b-this.b)*b;return this};m.toString=function(){return"("+this.x+","+this.y+","+this.b+")"};R.clone=function(a){return a.clone()};R.Rk=function(a,b){return new R(a.x-b.x,a.y-b.y,a.b-b.b)};R.Tw=function(){return(new R(Math.random()-0.5,Math.random()-0.5,Math.random()-0.5)).normalize()};
R.Vu=function(a,b,c){return new R(a.x+(b.x-a.x)*c,a.y+(b.y-a.y)*c,a.b+(b.b-a.b)*c)};
R.Wu=function(a,b,c,g){if(g)return a=a.b%(2*Math.PI),b=b.b%(2*Math.PI),Math.abs(b-a)>Math.PI&&(0>a&&(a+=2*Math.PI),0>b&&(b+=2*Math.PI),a>b?a-=2*Math.PI:b-=2*Math.PI),new R(0,0,a+(b-a)*c);var g=a.x%(2*Math.PI),e=b.x%(2*Math.PI),d=a.y%(2*Math.PI),j=b.y%(2*Math.PI),a=a.b%(2*Math.PI),b=b.b%(2*Math.PI);Math.abs(e-g)>Math.PI&&(0>g&&(g+=2*Math.PI),0>e&&(e+=2*Math.PI),g>e?g-=2*Math.PI:e-=2*Math.PI);Math.abs(j-d)>Math.PI&&(0>d&&(d+=2*Math.PI),0>j&&(j+=2*Math.PI),d>j?d-=2*Math.PI:j-=2*Math.PI);Math.abs(b-a)>
Math.PI&&(0>a&&(a+=2*Math.PI),0>b&&(b+=2*Math.PI),a>b?a-=2*Math.PI:b-=2*Math.PI);return new R(g+(e-g)*c,d+(j-d)*c,a+(b-a)*c)};R.Fu=function(a,b,c,g){if(0>=c)return b;c=new R(a.x+(b.x-a.x)*c*g,a.y+(b.y-a.y)*c*g,a.b+(b.b-a.b)*c*g);if(b.x>=a.x&&c.x>b.x||b.x<=a.x&&c.x<b.x)c.x=b.x;if(b.y>=a.y&&c.y>b.y||b.y<=a.y&&c.y<b.y)c.y=b.y;if(b.b>=a.b&&c.b>b.b||b.b<=a.b&&c.b<b.b)c.b=b.b;return c};R.Zp=function(a,b){var c=b.ei(a)/b.Wc();return new R(c*b.x,c*b.y,c*b.b)};
R.Zh=function(a,b){return new R(a.y*b.b-a.b*b.y,a.b*b.x-a.x*b.b,a.x*b.y-a.y*b.x)};R.normalize=function(a){return(new R(a.x,a.y,a.b)).normalize()};R.ql=function(a){return new R(-a.x,-a.y,-a.b)};R.Yn=function(a,b){var c=a.x-b.x,g=a.y-b.y,e=a.b-b.b;return Math.sqrt(c*c+g*g+e*e)};R.Zn=function(a,b){var c=a.x-b.x,g=a.y-b.y,e=a.b-b.b;return c*c+g*g+e*e};R.Cb=new R(0,0,0);R.Gj=new R(1,1,1);R.uh=new R(0,1,0);R.Km=new R(0,-1,0);R.Uf=new R(1,0,0);R.Mm=new R(-1,0,0);R.Gy=new R(0,0,1);R.Fy=new R(0,0,-1);function Na(a,b,c){this.Y=this.rows=0;this.data=i;if("number"==typeof a){this.rows=a;this.Y=b;this.data=Array(this.rows);for(a=0;a<this.rows;a++)if(this.data[a]=Array(this.Y),!c)for(b=0;b<this.Y;b++)this.data[a][b]=0}else this.rows=a.length,this.Y=a[0].length,this.data=a}m=Na.prototype;m.clone=function(){for(var a=Array(this.rows),b=0;b<this.rows;b++){a[b]=Array(this.Y);for(var c=0;c<this.Y;c++)a[b][c]=this.data[b][c]}return new Na(a)};
m.toString=function(){for(var a="",b=0;b<this.data.length;b++)a+=this.data[b].join(",");return a};m.lp=function(){for(var a=0;a<this.rows;a++)for(var b=0;b<this.Y;b++)this.data[a][b]=a==b?1:0;return this};m.tv=function(){for(var a=0;a<this.rows;a++)for(var b=0;b<this.Y;b++)this.data[a][b]=0;return this};m.nB=function(){for(var a=h,b=0;b<this.rows;b++)for(var c=0;c<this.Y;c++)if(this.data[b][c]!=(b==c?1:0)){a=k;break}return a};
m.kf=function(){for(var a=h,b=0;b<this.rows;b++)for(var c=0;c<this.Y;c++)if(0!=this.data[b][c]){a=k;break}return a};m.Ut=function(){for(var a=Array(this.Y),b=0;b<this.rows;b++){a[b]=Array(this.rows);for(var c=0;c<this.Y;c++)a[b][c]=this.data[c][b]}return new Na(a)};m.cl=ba(i);m.get=function(a,b){return this.data[a][b]};m.set=function(a,b,c){return this.data[a][b]=c};m.Pt=function(a){for(var b=Array(this.Y),c=0;c<this.Y;c++)b[c]=this.data[a][c];return b};
m.Lx=function(a,b){for(var c=0;c<this.Y;c++)this.data[a][c]=b[c];return this};m.Bt=function(a){for(var b=Array(this.rows),c=0;c<this.rows;c++)b[c]=this.data[c][a];return b};m.Bx=function(a,b){for(var c=0;c<this.rows;c++)this.data[c][a]=b[c];return this};m.mx=function(a){for(var b=0;b<this.rows;b++)for(var c=0;c<this.Y;c++)this.data[b][c]*=a;return this};m.lx=function(a){for(var b=0;b<this.rows;b++)for(var c=0;c<this.Y;c++)this.data[b][c]+=a;return this};
m.add=function(a){for(var b=0;b<this.rows;b++)for(var c=0;c<this.Y;c++)this.data[b][c]+=a.data[b][c];return this};m.fz=function(a){for(var b=0;b<this.rows;b++)for(var c=0;c<this.Y;c++)this.data[b][c]=a.data[b][c]};Na.up=function(a,b,c){c==f&&(c=new Na(a.rows,b.Y,h));for(var g=c.data,e=0;e<a.rows;e++)for(var d=0;d<b.Y;d++){for(var j=0,l=0;l<a.Y;l++)j+=a.data[e][l]*b[l][d];g[e][d]=j}return c};function S(a){this.Y=this.rows=3;this.data=i;a==f?(this.data=Array(3),this.data[0]=[0,0,0],this.data[1]=[0,0,0],this.data[2]=[0,0,0]):this.data=a}n.N(S,Na);m=S.prototype;m.clone=function(){var a=this.data,b=Array(this.rows);b[0]=[a[0][0],a[0][1],a[0][2]];b[1]=[a[1][0],a[1][1],a[1][2]];b[2]=[a[2][0],a[2][1],a[2][2]];return new S(b)};
m.lp=function(){this.data[0][0]=1;this.data[0][1]=0;this.data[0][2]=0;this.data[1][0]=0;this.data[1][1]=1;this.data[1][2]=0;this.data[2][0]=0;this.data[2][1]=0;this.data[2][2]=1;return this};m.tv=function(){this.data[0][0]=0;this.data[0][1]=0;this.data[0][2]=0;this.data[1][0]=0;this.data[1][1]=0;this.data[1][2]=0;this.data[2][0]=0;this.data[2][1]=0;this.data[2][2]=0;return this};
m.Ut=function(){var a=this.data,b=Array(this.rows);b[0]=[a[0][0],a[1][0],a[2][0]];b[1]=[a[0][1],a[1][1],a[2][1]];b[2]=[a[0][2],a[1][2],a[2][2]];return new S(b)};
m.cl=function(){var a=Array(this.rows);a[0]=Array(this.Y);a[1]=Array(this.Y);a[2]=Array(this.Y);var b=this.data,c=+b[0][0]*(b[1][1]*b[2][2]-b[2][1]*b[1][2])-b[0][1]*(b[1][0]*b[2][2]-b[1][2]*b[2][0])+b[0][2]*(b[1][0]*b[2][1]-b[1][1]*b[2][0]);if(0==c)return S.ur.clone();c=1/c;a[0][0]=(b[1][1]*b[2][2]-b[2][1]*b[1][2])*c;a[0][1]=-(b[0][1]*b[2][2]-b[0][2]*b[2][1])*c;a[0][2]=(b[0][1]*b[1][2]-b[0][2]*b[1][1])*c;a[1][0]=-(b[1][0]*b[2][2]-b[1][2]*b[2][0])*c;a[1][1]=(b[0][0]*b[2][2]-b[0][2]*b[2][0])*c;a[1][2]=
-(b[0][0]*b[1][2]-b[1][0]*b[0][2])*c;a[2][0]=(b[1][0]*b[2][1]-b[2][0]*b[1][1])*c;a[2][1]=-(b[0][0]*b[2][1]-b[2][0]*b[0][1])*c;a[2][2]=(b[0][0]*b[1][1]-b[1][0]*b[0][1])*c;return new S(a)};m.Pt=function(a){var b=this.data;return[b[a][0],b[a][1],b[a][2]]};m.Lx=function(a,b){this.data[a][0]=b[0];this.data[a][1]=b[1];this.data[a][2]=b[2];return this};m.Bt=function(a){var b=this.data;return[b[0][a],b[1][a],b[2][a]]};m.Bx=function(a,b){this.data[0][a]=b[0];this.data[1][a]=b[1];this.data[2][a]=b[2];return this};
m.mx=function(a){this.data[0][0]*=a;this.data[0][1]*=a;this.data[0][2]*=a;this.data[1][0]*=a;this.data[1][1]*=a;this.data[1][2]*=a;this.data[2][0]*=a;this.data[2][1]*=a;this.data[2][2]*=a;return this};m.lx=function(a){this.data[0][0]+=a;this.data[0][1]+=a;this.data[0][2]+=a;this.data[1][0]+=a;this.data[1][1]+=a;this.data[1][2]+=a;this.data[2][0]+=a;this.data[2][1]+=a;this.data[2][2]+=a;return this};
m.add=function(){var a=this.data;this.data[0][0]+=a[0][0];this.data[0][1]+=a[0][1];this.data[0][2]+=a[0][2];this.data[1][0]+=a[1][0];this.data[1][1]+=a[1][1];this.data[1][2]+=a[1][2];this.data[2][0]+=a[2][0];this.data[2][1]+=a[2][1];this.data[2][2]+=a[2][2];return this};
m.Ws=function(a,b){this.data[0][0]=Math.cos(b.b);this.data[0][1]=Math.sin(b.b);this.data[0][2]=a.x;this.data[1][0]=-Math.sin(b.b);this.data[1][1]=Math.cos(b.b);this.data[1][2]=a.y;this.data[2][0]=0;this.data[2][1]=0;this.data[2][2]=1};S.sv=function(a,b){var c=new S;c.Ws(a,b);return c};S.up=function(a,b,c){return b instanceof Na?3==b.rows&&3==b.Y&&3==a.rows&&3==a.Y?S.Ev(a,b,c):Na.up(a,b,c):S.El(a,b,c)};S.El=function(a,b,c){return S.Fl(a,b.x,b.y,b.b,c)};
S.Fl=function(a,b,c,g,e){e==f&&(e=new R);a=a.data;e.x=b*a[0][0]+c*a[0][1]+a[0][2];e.y=b*a[1][0]+c*a[1][1]+a[1][2];e.b=g;return e};
S.Ev=function(a,b,c){c==f&&(c=new S(a.rows));var g=c.data,a=a.data,b=b.data,e;e=0+a[0][0]*b[0][0];e+=a[0][1]*b[1][0];e+=a[0][2]*b[2][0];g[0][0]=e;e=0+a[0][0]*b[0][1];e+=a[0][1]*b[1][1];e+=a[0][2]*b[2][1];g[0][1]=e;e=0+a[0][0]*b[0][2];e+=a[0][1]*b[1][2];e+=a[0][2]*b[2][2];g[0][2]=e;e=0+a[1][0]*b[0][0];e+=a[1][1]*b[1][0];e+=a[1][2]*b[2][0];g[1][0]=e;e=0+a[1][0]*b[0][1];e+=a[1][1]*b[1][1];e+=a[1][2]*b[2][1];g[1][1]=e;e=0+a[1][0]*b[0][2];e+=a[1][1]*b[1][2];e+=a[1][2]*b[2][2];g[1][2]=e;e=0+a[2][0]*b[0][0];
e+=a[2][1]*b[1][0];e+=a[2][2]*b[2][0];g[2][0]=e;e=0+a[2][0]*b[0][1];e+=a[2][1]*b[1][1];e+=a[2][2]*b[2][1];g[2][1]=e;e=0+a[2][0]*b[0][2];e+=a[2][1]*b[1][2];e+=a[2][2]*b[2][2];g[2][2]=e;return c};S.ur=new S;S.Jy=(new S).lp();function Da(a){this.cr=this.Bn=0.4;this.Io="150%";this.options=a;this.ah()}m=Da.prototype;m.B=function(a){return!a?this.i:$(a,this.i)};
m.ah=function(){this.i=$('<div id="rpjsSafeDialog"><div id="rpjsOverlay"></div><div class="rpjsOverlayDialog rpjsSmall" id="rpjsUIDialog"><h1 id="rpjsUIDialogTitle"></h1><div id="rpjsUIDialogContent"></div></div></div>');this.B("#rpjsOverlay").ao();var a=i,a=this.options.Bs?$(this.options.Bs):$(rpjs.game.settings.viewElemSelector);a.append(this.i);this.Ox(this.options.title,this.options.body);this.options.Pl&&this.options.Pl.apply(this);this.show(this.options.U)};
m.setTitle=function(a){a||(a="Error");this.title=a;this.B("#rpjsUIDialogTitle").html(this.title)};m.Nx=function(a){a=$("<div>"+a+"</div>");this.options.Oq&&a.append('<br />&nbsp;<br /><img src="img/ui/dialog_loading.gif" alt="Loading..." />');this.B("#rpjsUIDialogContent").empty().append(a)};m.Ox=function(a,b){this.setTitle(a);this.Nx(b)};
m.hide=function(a){this.B("#rpjsOverlay").animate({opacity:0},1E3*this.cr,"linear");this.B("#rpjsUIDialog").animate({top:this.Io},1E3*this.cr,"swing",function(){a&&a()})};m.show=function(a){this.B("#rpjsOverlay").css("opacity",0).animate({opacity:0.8},1E3*this.Bn,"linear");this.B("#rpjsUIDialog").css("top",this.Io).animate({top:"50%"},1E3*this.Bn,"swing",a)};m.K=function(){this.i.empty().remove()};function Ba(a){this.ok=rpjs.game.settings.Identity.RPN.QB;this.Wy=a.login||"";this.Le=a.error||"";this.cs=a.title||"Welcome to "+rpjs.game.settings.title+"!";this.ua=a.rpnId;this.Ke=a.element||$(".rpnLoginTree");this.ah()}m=Ba.prototype;m.B=function(a){return!a?this.Ke:$(a,this.Ke)};m.hide=function(a){this.Ke.hide();a&&a()};m.show=function(a){this.Ke.show();a&&a()};
m.Lr=function(){var a=this.ua.hb("/id/ping");this.bk=$('<iframe name="rpnIdFrame" id="rpnIdFrame" src="'+a+'" style="display: none;"></iframe>');$("body").append(this.bk)};
m.ah=function(){function a(a){b.B("#rpnLoginDialog form:visible").fadeOut(200,function(){b.B(".rpnLoginError").hide();b.B("#"+a).fadeIn(200)})}var b=this;this.Ke.css("display","block");this.Lr();$("#rpjsUIDialogTitle").text(this.cs);$(".rpnLoginError").text(this.Le);this.Le&&this.B(".rpnLoginError").show();this.Ne?this.B(this.Ne).show():this.ok?this.B("#rpnPasswordlessLoginForm").show():this.B("#rpnLoginForm").show();this.ok?this.B("#rpnPasswordlessLoginForm").submit(function(){return b.tn("rpnPasswordlessLoginForm")}):
(this.B(".rpnShowLogin").click(function(){a("rpnLoginForm");return k}),this.B("#rpnShowRegister").click(function(){b.B("#rpnRegisterEmail").val(b.B("#rpnLoginEmail").val());a("rpnRegisterForm");return k}),this.B("#rpnRegisterForm").submit(function(){b.Ne="#rpnRegisterForm";var a=b.B("#rpnRegisterEmail").val(),g=b.B("#rpnRegisterPassword").val();return!a||-1==a.indexOf("@")?(alert("Please enter your email address."),k):!g?(alert("Please enter a password."),k):b.$r({login:a.toLowerCase(),password:g})}),
this.B("#rpnShowResetPassword").click(function(){b.B("#rpnResetPasswordForm .rpnLogin").val(b.B("#rpnLoginEmail").val());a("rpnResetPasswordForm");return k}),this.B("#rpnResetPasswordForm").submit(function(){b.Ne="#rpnResetPasswordForm";b.Yr();return k}),this.B("#rpnLoginForm").submit(function(){return b.tn("rpnLoginForm")}))};m.tn=function(a){this.Ne="#"+a;a={login:this.B(this.Ne+" .rpnLogin").val()};this.ok||(a.password=this.B(this.Ne+" .rpnPassword").val());return this.Zr(a)};
m.K=function(){this.bk&&this.bk.remove();this.Ke.remove()};m.fB=function(){this.hide();this.K()};m.Yr=function(){var a=this.B("#rpnResetPasswordForm .rpnLogin").val();!a||-1==a.indexOf("@")?alert("Please enter your email address."):$.post(this.ua.hb("/id/user/password/reset"),JSON.stringify({login:a})).done(function(){alert("Your new password has been sent to your email address.")}).fail(function(){alert("Failed to reset password.")})};
m.Zr=function(a){a.appRef=this.ua.appRef;a.branchName=this.ua.branchName;a.branchVersion=this.ua.Ik;a.buildConfigName=this.ua.buildConfigName;var b=this;this.hide(function(){$.post(b.ua.hb("/id/login"),JSON.stringify(a)).done(function(a){b.K();b.ua.lb=a.d;b.ua.Ha=b.ua.lb.sessionKey;b.ua.Lp()}).fail(function(a){b.Le=JSON.parse(a.responseText).d;b.B(".rpnLoginError").text(b.Le).show();b.show()})})};
m.$r=function(a){a.appRef=this.ua.appRef;a.branchName=this.ua.branchName;a.branchVersion=this.ua.Ik;a.buildConfigName=this.ua.buildConfigName;var b=this;this.hide(function(){$.post(b.ua.hb("/id/user/new"),JSON.stringify(a)).done(function(a){b.K();b.ua.lb=a.d;b.ua.Ha=b.ua.lb.sessionKey;b.ua.ready()}).fail(function(a){b.Le=JSON.parse(a.responseText).d;b.B(".rpnLoginError").text(b.Le).show();b.show()})})};function Ca(a){this.ua=a.rpnId;this.ah()}
Ca.prototype.ah=function(){var a=this;this.Vm=new Da({title:"Change password",body:'\t\t\t<form id="rpnPwForm">\t\t\t\t<label for="oldPassword">Old Password</label><input id="rpnOldPassword" type="password" name="oldPassword"/><br/>\t\t\t\t<label for="rpnPassword">New Password</label><input id="rpnPassword" type="password" name="password"/><br/>\t\t\t\t<label for="rpnPasswordAgain">New Password Again</label><input id="rpnPasswordAgain" type="password" name="passwordAgain"/><br/>\t\t\t\t<input id="rpnChangePasswordButton" type="submit" name="changePasswordButton" value="Change"/>\t\t\t\t<input id="rpnCancelPasswordButton" type="button" name="cancelPasswordButton" value="Cancel"/>\t\t\t\t<div class="error" style="color: red"></div>\t\t\t</form>',Pl:function(){var b=
this;this.B("#rpnPwForm #rpnCancelPasswordButton").click(function(){a.K();return k});this.B("#rpnPwForm").submit(function(){var c=b.B("#rpnOldPassword").val(),g=b.B("#rpnPassword").val(),e=b.B("#rpnPasswordAgain").val();b.hide(function(){if(g!=e)b.B(".error").text("Passwords don't match"),b.show();else if(7>g.length)b.B(".error").text("New password is too short"),b.show();else{var d={oldPassword:c,password:g,passwordAgain:e};$.post(a.ua.hb("/id/user/password/change"),JSON.stringify(d)).done(function(){alert("Password changed.")}).fail(function(){alert("Failed to change password")}).always(function(){a.K()})}});
return k})}})};Ca.prototype.K=function(){this.Vm&&this.Vm.K()};function Oa(){this.data={}}Oa.prototype.Bg=function(a){if(!a)return i;var b=this.data[a];return b?b:a};Oa.prototype.Ry=function(a,b){this.data[a]=b};Oa.prototype.My=function(a){delete this.data[a]};rpjs.util.assetMap=new Oa;function O(a){rpjs.profiling.activeSoundCount++;this.options={id:0,url:"",type:"",Tk:h,tj:h,nf:1,volume:100,Vg:0,onload:i,te:i};this.options=p(this.options,a);this.Kb=this.jf=k;this.readyState=0;rpjs.info.touchDevice&&"PhoneGap"!=rpjs.info.buildTarget&&0<O.Ya.length&&O.stopAll(h);O.Ya.push(this);var b=this;this.p=i;switch(rpjs.info.buildTarget){case "PhoneGap":var c=k;this.readyState=1;this.p=new Media(this.options.url,function(){b.jf=k;b.options.Tk?b.destruct():b.options.te&&b.options.te(b)},function(){c=
h;b.readyState=2;b.options.onload&&b.options.onload.call(b,k)});setTimeout(function(){c||(b.readyState=3,b.play(),b.options.onload&&b.options.onload.call(b,h))},0);break;default:this.rn={id:this.options.id,url:this.options.url,autoLoad:h,autoPlay:k,numberOfLoops:this.options.nf,multiShot:k,stream:this.options.tj,loops:this.options.nf,volume:this.options.volume,pan:this.options.Vg,position:0,onload:function(a){b.readyState=this.readyState;b.options.onload&&b.options.onload.call(b,a)},onfinish:function(){b.jf=
k;b.options.Tk?b.destruct():b.options.te&&b.options.te(b)}},this.p=soundManager.createSound(this.rn),this.play()}}m=O.prototype;m.destruct=function(){rpjs.profiling.activeSoundCount--;RPJS_Loader.removeElemCyclic(O.Ya,this);if(this.p){switch(rpjs.info.buildTarget){case "PhoneGap":this.p.release();break;default:this.p.destruct()}this.p=i;this.options.te&&this.options.te(this)}};
m.play=function(){if(this.p&&!this.jf)switch(this.jf=h,this.Kb=k,rpjs.info.buildTarget){case "PhoneGap":this.p.play({numberOfLoops:this.options.nf});break;default:this.p.play(this.rn)}};m.stop=function(){if(this.p&&this.jf)switch(this.Kb=this.jf=k,rpjs.info.buildTarget){case "PhoneGap":this.p.stop();break;default:this.p.stop()}};m.pause=function(){if(this.p&&!this.Kb)switch(this.Kb=h,rpjs.info.buildTarget){case "PhoneGap":this.p.pause();break;default:this.p.pause()}};
m.resume=function(){if(this.p&&this.Kb)switch(this.Kb=k,rpjs.info.buildTarget){case "PhoneGap":this.p.play({numberOfLoops:this.options.nf});break;default:this.p.resume()}};m.togglePause=function(){if(this.p){switch(rpjs.info.buildTarget){case "PhoneGap":this.Kb?this.p.play({numberOfLoops:this.options.nf}):this.p.pause();break;default:this.p.togglePause()}this.Kb=!this.Kb}};
m.mute=function(){if(this.p)switch(rpjs.info.buildTarget){case "PhoneGap":console.error("TODO: Implement on PhoneGap!");break;default:this.p.mute()}};m.unmute=function(){if(this.p)switch(rpjs.info.buildTarget){case "PhoneGap":console.error("TODO: Implement on PhoneGap!");break;default:this.p.unmute()}};m.toggleMute=function(){if(this.p)switch(rpjs.info.buildTarget){case "PhoneGap":console.error("TODO: Implement on PhoneGap!");break;default:this.p.toggleMute()}};
m.setVolume=function(a){if(this.p)switch(rpjs.info.buildTarget){case "PhoneGap":console.error("TODO: Implement on PhoneGap!");break;default:this.p.setVolume(a)}};m.setPosition=function(a){if(this.p)switch(rpjs.info.buildTarget){case "PhoneGap":this.p.seekTo(a);break;default:this.p.setPosition(a)}};m.setPan=function(a){if(this.p)switch(rpjs.info.buildTarget){case "PhoneGap":break;default:this.p.setPan(a)}};O.stopAll=function(a){for(var b=O.Ya.length-1;0<=b;b--){var c=O.Ya[b];a?c.destruct():c.stop()}};
O.muteAll=function(){if("PhoneGap"==rpjs.info.buildTarget)for(var a=0;a<O.Ya.length;a++)O.Ya[a].mute();else soundManager.muteAll()};O.unmuteAll=function(){if("PhoneGap"==rpjs.info.buildTarget)for(var a=0;a<O.Ya.length;a++)O.Ya[a].unmute();else soundManager.unmuteAll()};O.pauseAll=function(){if("PhoneGap"==rpjs.info.buildTarget)for(var a=0;a<O.Ya.length;a++)O.Ya[a].pause();else soundManager.pauseAll()};
O.resumeAll=function(){if("PhoneGap"==rpjs.info.buildTarget)for(var a=0;a<O.Ya.length;a++)O.Ya[a].resume();else soundManager.resumeAll()};O.Ya=[];function Pa(a,b){if(!rpjs.editor.isEditing&&(b=RPJS_Loader.cloneObject(b,{ad:h,fj:h,ff:h}),rpjs.info.touchDevice||(b.fj=k),b.ad||b.fj||b.ff))this.options=b,this.element="object"==typeof a?a:RPJS_Loader.getElement(a),this.Kh=k,rpjs.info.touchDevice?this.element.addEventListener("touchstart",this,k):this.element.addEventListener?this.element.addEventListener("mousedown",this,k):this.element.attachEvent("mousedown",this),this.options.ad&&"IEMobile"!=rpjs.info.platformType&&(this.element.addEventListener?
this.element.addEventListener("click",this,k):this.element.attachEvent("click",this))}m=Pa.prototype;m.handleEvent=function(a){switch(a.type){case "mousedown":this.tf(a);break;case "mouseup":this.Ep(a);break;case "mouseout":this.Ep(a);break;case "touchstart":this.vw(a);break;case "touchend":this.uw(a);break;case "click":this.Sv(a)}};
m.tf=function(a){this.options.ad&&a.stopPropagation();if(this.options.ff){for(this.pa=a.target||a.srcElement;3==this.pa.nodeType;)this.pa=this.pa.parentNode;-1===this.pa.className.indexOf(" rpjsPressed")&&(this.pa.className+=" rpjsPressed");this.element.addEventListener?(this.element.addEventListener("mousemove",this,k),this.element.addEventListener("mouseup",this,k),this.element.addEventListener("mouseout",this,k)):(this.element.attachEvent("mousemove",this),this.element.attachEvent("mouseup",this),
this.element.attachEvent("mouseout",this))}};m.vw=function(a){this.options.ad&&a.stopPropagation();if(!this.pa){var b=a.target||a.srcElement;this.options.fj&&"INPUT"!==b.tagName&&(this.Kh=h,a.preventDefault());if(this.options.ff||this.Kh){this.pa=b;for(this.bp=a.targetTouches[0].identifier;3===this.pa.nodeType;)this.pa=this.pa.parentNode;this.options.ff&&-1===this.pa.className.indexOf(" rpjsPressed")&&(this.pa.className+=" rpjsPressed");this.element.addEventListener("touchend",this,k)}}};
m.Ep=function(a){var b=h;if("mouseout"==a.type)for(a=a.toElement||a.relatedTarget||a.srcElement;a;){if(a==this.element){b=k;break}a=a.parentNode}b&&(-1!==this.pa.className.indexOf(" rpjsPressed")&&(this.pa.className=this.pa.className.replace(" rpjsPressed","")),this.pa=f,this.element.removeEventListener?(this.element.removeEventListener("mousemove",this,k),this.element.removeEventListener("mouseup",this,k),this.element.removeEventListener("mouseout",this,k)):(this.element.detachEvent("mousemove",
this),this.element.detachEvent("mouseup",this),this.element.detachEvent("mouseout",this)))};
m.uw=function(a){for(var b=i,c=0;c<a.changedTouches.length;c++)if(a.changedTouches[c].identifier==this.bp){b=a.changedTouches[c];break}b&&(this.options.ff&&-1!==this.pa.className.indexOf(" rpjsPressed")&&(this.pa.className=this.pa.className.replace(" rpjsPressed","")),a=this.pa,this.bp=this.pa=f,this.element.removeEventListener("touchend",this,k),this.Kh&&(this.Kh=k,document.elementFromPoint(b.clientX,b.clientY)==a&&(b=document.createEvent("MouseEvents"),b.initEvent("click",h,h),a.dispatchEvent(b))))};
m.Sv=function(a){this.options.ad&&a.stopPropagation()};Pa.Pz=function(a){if(!rpjs.info.touchDevice)for(var a=RPJS_Loader.getElements("img",a?a:document),b=0;b<a.length;b++)a[b].onmousedown=function(a){a.preventDefault()}};function Qa(){Fa.apply(this,arguments)}n.N(Qa,Fa);n.o("RPJS_Manager_Collision",Qa);m=Qa.prototype;m.Yc=function(){this.Qc=[]};m.ac=A();m.Sg=function(a){a||(this.Qc=[])};m.ca=function(){rpjs.game.instance.ea(rpjs.game.instance.ce,this)&&(rpjs.game.instance.ce=this)};m.aa=function(){delete rpjs.game.instance.ce};m.gs=function(a){rpjs.game.instance.od("addCollider",{Ea:a})};m.cx=function(a){rpjs.game.instance.od("removeCollider",{Ea:a})};
m.hs=function(a){-1==RPJS_Loader.getIndexOf(this.Qc,a)&&(a.I||this.Qc.push(a))};m.gq=function(a){var b=ua(this.Qc,a);if(-1!=b){for(var c=0;c<a.nc.length;c++){var g=a,e=a.nc[c];g.I||g.Vh(e);e.I||e.Vh(g)}a=this.Qc;a[b]=a[a.length-1];a.pop()}};
m.ra=function(a,b){for(var c=0;c<this.Qc.length-1;c++){var g=this.Qc[c];if(g.enabled)for(var e=c+1;e<this.Qc.length;e++){var d=this.Qc[e];if(d.enabled&&g.enabled)if(g.a.rd[b]||d.a.rd[b]){if(Ra.Ls(g,d)){var j,l;g.me>=d.me?(j=g,l=d):(j=d,l=g);if(j.xg(l)){var q=l=i;g.eb&&(l=j.constructor.af(g,d));d.eb&&(q=j.constructor.af(d,g));l==i?l={La:d}:l.La=d;q==i?q={La:g}:q.La=g;if(g.eb||d.eb){j=g.a.Ob;var w=d.a.Ob;if(j||w){j=g.eb&&j?j.ba.length():0;var w=d.eb&&w?w.ba.length():0,t=0.5*(j+w);g.eb&&(l.Hw=j,l.Fw=
w,l.Ss=t);d.eb&&(q.Hw=w,q.Fw=j,q.Ss=t)}}this.hk(g,d)?(g.cd&&g.sj(l),d.cd&&d.sj(q)):(g.Tn(l),d.Tn(q))}else this.hk(g,d)&&(g.Vh(d),d.Vh(g))}}else if((g.cd||d.cd)&&this.hk(g,d))j=g.me>=d.me?g:d,q=l=i,g.eb&&(l=j.constructor.af(g,d)),d.eb&&(q=j.constructor.af(d,g)),q==i?q={La:g}:q.La=g,l==i?l={La:d}:l.La=d,g.cd&&g.sj(l),d.cd&&d.sj(q)}}};m.hk=function(a,b){for(var c=0;c<a.nc.length;c++)if(a.nc[c]===b)return h;return k};m.fl=function(){return[J.Ta.Rb,J.Ta.Fe]};function Sa(){Fa.apply(this,arguments)}n.N(Sa,Fa);n.o("RPJS_Manager_Input",Sa);m=Sa.prototype;m.Yc=function(){this.Hc=[];this.Ic=[];this.Lc=[];this.Jc=[];this.Mc=[];this.Kc=[];this.Ec=[];this.Gc=[];this.Fc=[];this.Nd=new M(0,0);this.Fr();this.Eh=k};m.ac=function(){this.Zg(k);this.es()};m.ca=function(){rpjs.game.instance.ea(rpjs.game.instance.M,this)&&(rpjs.game.instance.M=this)};m.aa=function(){delete rpjs.game.instance.M};
m.Si=function(){if(!this.Eh){this.Eh=h;var a=this;rpjs.game.instance.Ja[0].onclick=function(b){b=b||window.event;b.which==f&&(b.which=b.button);a.Gu(b.clientX,b.clientY,b.which,b)}}};m.Sg=function(a){a||this.Zg(h)};m.nA=B("Nd");
m.es=function(){this.Eh&&(rpjs.game.instance.Ja[0].onclick=i);this.Eh=k;document.oncontextmenu&&(document.oncontextmenu=i);document.onmspointerdown&&(document.onmspointerdown=i);document.onmspointermove&&(document.onmspointermove=i);document.onmspointerup&&(document.onmspointerup=i);document.onmousedown&&(document.onmousedown=i);document.ontouchstart&&(document.ontouchstart=i);document.onmouseup&&(document.onmouseup=i);document.ontouchend&&(document.ontouchend=i);document.onmousemove&&(document.onmousemove=
i);document.onmousewheel&&(document.onmousewheel=i);document.onmouseover&&(document.onmouseover=i);document.onmouseout?document.onmouseout=i:this.en&&document.removeEventListener("DOMMouseScroll",this.en,k);document.ontouchmove&&(document.ontouchmove=i);document.onkeydown&&(document.onkeydown=i);document.onkeyup&&(document.onkeyup=i);document.onkeypress&&(document.onkeypress=i)};
m.Fr=function(){var a=this;document.oncontextmenu=function(a){if("debug"!==rpjs.game.settings.buildConfigName&&!rpjs.appConfig.C&&rpjs.game.settings.preventContextMenu){var a=a||window.event,b=a.target||a.srcElement;if(!b||b instanceof HTMLTextAreaElement==k&&b instanceof HTMLInputElement==k&&b instanceof HTMLLinkElement==k)if(a.preventDefault)a.preventDefault();else return k}};if(rpjs.info.touchDevice){var b=Array(10),c=function(a){for(var c=-1,g=0;g<b.length;g++)if(b[g]==a){c=g;break}return c};
document.ontouchstart=function(g){for(var g=g||window.event,d=0;d<b.length;d++){var j=b[d];if(j!=f){for(var l=k,q=0;q<g.touches.length;q++){var w=g.touches[q];if(w.identifier==j){l=h;break}}l||(b[d]=f)}}for(d=0;d<g.changedTouches.length;d++)w=g.changedTouches[d],j=c(f),b[j]=w.identifier,a.sl(w.clientX,w.clientY,j,g)};document.ontouchmove=function(b){b=b||window.event;rpjs.game.settings.touchSettings.SB&&b.preventDefault();for(var g=0;g<b.changedTouches.length;g++){var j=b.changedTouches[g];0==c(j.identifier)&&
(a.Nd.x=j.clientX,a.Nd.y=j.clientY);a.tl(j.clientX,j.clientY)}};document.ontouchend=function(g){for(var d=0;d<g.changedTouches.length;d++){var j=g.changedTouches[d],l=c(j.identifier);-1!=l&&(b[l]=f);a.ul(j.clientX,j.clientY,l,g)}}}else{rpjs.info.msTouchDevice?(document.onmspointerdown=function(b){a.sl(b.clientX,b.clientY,b.pointerId,b)},document.onmspointermove=function(b){a.Nd.x=b.clientX;a.Nd.y=b.clientY;a.tl(b.clientX,b.clientY)},document.onmspointerup=function(b){a.ul(b.clientX,b.clientY,b.pointerId,
b)}):(document.onmousedown=function(b){b=b||window.event;b.which==f&&(b.which=b.button);a.sl(b.clientX,b.clientY,b.which-1,b)},document.onmousemove=function(b){b=b||window.event;a.Nd.x=b.clientX;a.Nd.y=b.clientY;a.tl(b.clientX,b.clientY)},document.onmouseup=function(b){b=b||window.event;b.which==f&&(b.which=b.button);a.ul(b.clientX,b.clientY,b.which-1,b)});var g=function(b){var b=b||window.event,c=0;b.wheelDelta!==f?(c=b.wheelDelta/120,"Opera"==rpjs.info.browserName&&(c=-c)):b.detail!==f&&(c=-b.detail/
3);a.Iu(c)};"Firefox"!=rpjs.info.browserName?document.onmousewheel=g:(document.addEventListener("DOMMouseScroll",g,k),this.en=g)}document.onmouseover=function(b){b=b||window.event;a.Uo(h,b.toElement||b.target||b.srcElement,b.clientX,b.clientY,b)};document.onmouseout=function(b){b=b||window.event;a.Uo(k,b.fromElement||b.target||b.srcElement,b.clientX,b.clientY,b)};document.onkeydown=function(b){var b=b||window.event,c=b.which;c==f&&(c=b.keyCode);0==c&&rpjs.editor.isRunningPIE&&(0==b.keyIdentifier.indexOf("U+")?
c=parseInt(b.keyIdentifier.substr(2),16):"Left"==b.keyIdentifier?c=37:"Up"==b.keyIdentifier?c=38:"Right"==b.keyIdentifier?c=39:"Down"==b.keyIdentifier&&(c=40));(32==c||37==c||38==c||39==c||40==c)&&b.preventDefault();a.rl(c,b)};document.onkeyup=function(b){var b=b||window.event,c=b.which;c==f&&(c=b.keyCode);0==c&&rpjs.editor.isRunningPIE&&(0==b.keyIdentifier.indexOf("U+")?c=parseInt(b.keyIdentifier.substr(2),16):"Left"==b.keyIdentifier?c=37:"Up"==b.keyIdentifier?c=38:"Right"==b.keyIdentifier?c=39:
"Down"==b.keyIdentifier&&(c=40));a.Gg(c,b)};document.onkeypress=function(b){var b=b||window.event,c=b.which;c==f&&(c=b.keyCode);0==c&&rpjs.editor.isRunningPIE&&(0==b.keyIdentifier.indexOf("U+")?c=parseInt(b.keyIdentifier.substr(2),16):"Left"==b.keyIdentifier?c=37:"Up"==b.keyIdentifier?c=38:"Right"==b.keyIdentifier?c=39:"Down"==b.keyIdentifier&&(c=40));a.Hu(c,b)}};m.rC=A();
m.Zg=function(a){a?(this.am(f,h),this.ej(f,h),this.$g(f,h),this.bm(f,h),this.mq(f,h),this.lq(f,h),this.hq(f,h),this.jq(f,h),this.iq(f,h)):(this.Hc.length=0,this.Ic.length=0,this.Lc.length=0,this.Jc.length=0,this.Mc.length=0,this.Kc.length=0,this.Ec.length=0,this.Gc.length=0,this.Fc.length=0)};m.bc=function(a){a&&(this.am(a,f),this.ej(a,f),this.$g(a,f),this.bm(a,f),this.mq(a,f),this.lq(a,f),this.hq(a,f),this.jq(a,f),this.iq(a,f))};m.wn=function(a){a instanceof F||(a=a.e);this.Hc.push({e:a,Wa:f})};
m.am=function(a,b){for(var c=this.Hc.length-1;0<=c;c--)if(!a||this.Hc[c].e==a)(!b||!this.Hc[c].Wa)&&RPJS_Loader.removeCyclic(this.Hc,c)};m.Gu=function(a,b,c,g){for(var e=this.Hc.length-1;0<=e;e--){var d=k,j=this.Hc[e].e;j.Pi!=f&&(d=j.Pi.call(j,a,b,c,g)==h);if(d)break;if(0===this.Hc.length)break}};m.Ak=function(a){a instanceof F||(a=a.e);this.Ic.push({e:a,Wa:f})};m.ej=function(a,b){for(var c=this.Ic.length-1;0<=c;c--)if(!a||this.Ic[c].e==a)(!b||!this.Ic[c].Wa)&&RPJS_Loader.removeCyclic(this.Ic,c)};
m.sl=function(a,b,c,g){for(var e=this.Ic.length-1;0<=e;e--){var d=this.Ic[e].e;d.tf!=f&&d.tf.call(d,a,b,c,g);if(0===this.Ic.length)break}};m.jg=function(a){a instanceof F||(a=a.e);this.Lc.push({e:a,Wa:f})};m.$g=function(a,b){for(var c=this.Lc.length-1;0<=c;c--)if(!a||this.Lc[c].e==a)(!b||!this.Lc[c].Wa)&&RPJS_Loader.removeCyclic(this.Lc,c)};m.ul=function(a,b,c,g){for(var e=this.Lc.length-1;0<=e;e--){var d=this.Lc[e].e;d.uf!=f&&d.uf.call(d,a,b,c,g);if(0==this.Lc.length)break}};
m.ks=function(a){a instanceof F||(a=a.e);this.Jc.push({e:a,Wa:f})};m.bm=function(a,b){for(var c=this.Jc.length-1;0<=c;c--)if(!a||this.Jc[c].e==a)(!b||!this.Jc[c].Wa)&&RPJS_Loader.removeCyclic(this.Jc,c)};m.tl=function(a,b){for(var c=this.Jc.length-1;0<=c;c--){var g=this.Jc[c].e;g.Dp&&g.Dp.call(g,a,b);if(0===this.Jc.length)break}};m.ls=function(a){a instanceof F||(a=a.e);this.Mc.push({e:a,Wa:f})};
m.mq=function(a,b){for(var c=this.Mc.length-1;0<=c;c--)if(!a||this.Mc[c].e==a)(!b||!this.Mc[c].Wa)&&RPJS_Loader.removeCyclic(this.Mc,c)};m.Iu=function(a){for(var b=this.Mc.length-1;0<=b;b--){var c=this.Mc[b].e;c.Fp&&c.Fp.call(c,0,0,a);if(0==this.Mc.length)break}};m.cz=function(a,b){a instanceof F||(a=a.e);this.Kc.push({e:a,Wa:b})};m.lq=function(a,b){for(var c=this.Kc.length-1;0<=c;c--)if(!a||this.Kc[c].e==a)(!b||!this.Kc[c].Wa)&&RPJS_Loader.removeCyclic(this.Kc,c)};
m.Uo=function(a,b,c,g,e){for(var d=this.Kc.length-1;0<=d;d--){var j=this.Kc[d].e;j.iw&&j.iw.call(j,a,b,c,g,e);if(0===this.Kc.length)break}};m.yk=function(a){a instanceof F||(a=a.e);this.Ec.push({e:a,Wa:f})};m.hq=function(a,b){for(var c=this.Ec.length-1;0<=c;c--)if(!a||this.Ec[c].e==a)(!b||!this.Ec[c].Wa)&&RPJS_Loader.removeCyclic(this.Ec,c)};m.rl=function(a,b){for(var c=this.Ec.length-1;0<=c;c--){var g=this.Ec[c].e;g.Oi&&g.Oi.call(g,a,b);if(0===this.Ec.length)break}};
m.zk=function(a){a instanceof F||(a=a.e);this.Gc.push({e:a,Wa:f})};m.jq=function(a,b){for(var c=this.Gc.length-1;0<=c;c--)if(!a||this.Gc[c].e==a)(!b||!this.Gc[c].Wa)&&RPJS_Loader.removeCyclic(this.Gc,c)};m.Gg=function(a,b){for(var c=this.Gc.length-1;0<=c;c--){var g=this.Gc[c].e;g.Ll&&g.Ll.call(g,a,b);if(0===this.Gc.length)break}};m.bz=function(a,b){a instanceof F||(a=a.e);this.Fc.push({e:a,Wa:b})};
m.iq=function(a,b){for(var c=this.Fc.length-1;0<=c;c--)if(!a||this.Fc[c].e==a)(!b||!this.Fc[c].Wa)&&RPJS_Loader.removeCyclic(this.Fc,c)};m.Hu=function(a,b){for(var c=this.Fc.length-1;0<=c;c--){var g=this.Fc[c].e;g.dw&&g.dw.call(g,a,b);if(0===this.Fc.length)break}};function T(){Fa.apply(this,arguments)}n.N(T,Fa);n.o("RPJS_Manager_Sprite",T);m=T.prototype;m.Yc=function(){this.A=this.Ez=i;this.Yd={};this.jh=this.ze=0;this.pj=i;this.ik=k};m.ac=function(){this.A=i;this.Yd={}};m.ca=function(){rpjs.game.instance.ea(rpjs.game.instance.tb,this)&&(rpjs.game.instance.tb=this)};m.aa=function(){delete rpjs.game.instance.tb};m.Mx=aa("A");
m.cf=function(a,b){if(!a)return i;var c=this.A[a];if(!c)return i;b&&(c=c.Td[b],c==f&&z(Error("Cannot fetch animation data: Missing animation of type: "+b+" in sprite "+a)));return c};m.fq=function(a){this.tk(a.gd)};m.tk=function(a){if(a){var b=this.Cg(a);b==f&&(b=new T.A(this.A[a]),this.Yd[a]=b);b.Ai++}};m.ar=function(a){this.sk(a.gd)};m.$m=function(a){if(!a)return 0;a=this.Yd[a];return a==f?0:a.Ai};
m.sk=function(a,b){if(a){var c=this.Yd[a];if(c!=f&&(c.Ai--,0==c.Ai&&(b||"DOM"!=rpjs.game.settings.rendererType)))this.Yd[a].Ps(),delete this.Yd[a]}};m.Cg=function(a){return!a?i:this.Yd[a]};
m.RB=function(a,b){this.ik=h;this.pj=b;if(a==f){for(var c in this.A){var g=this.A[c];g.rb&&this.Cg(c)==f&&(this.ze++,this.jh++)}for(c in this.A)g=this.A[c],g.rb&&this.tk(c)}else{for(var e=0;e<a.length;e++)c=a[e],g=this.A[c],g!=i&&this.Cg(c)==f&&(this.ze++,this.jh++);for(e=0;e<a.length;e++)c=a[e],g=this.A[c],g!=i&&this.tk(c)}0==this.ze&&this.kn()};m.sn=function(){this.ik&&(rpjs.game.instance.R(rpjs.event.global.sw,{loaded:this.jh-this.ze,total:this.jh}),this.ze--,0==this.ze&&this.kn())};
m.kn=function(){this.ik=k;this.jh=this.ze=0;rpjs.game.instance.R(rpjs.event.global.tw);this.pj!=i&&(this.pj(),this.pj=i)};m.PC=function(a){if(a==f)for(var b in this.A){var c=this.A[b];if(c.rb)for(;0<this.$m(b);)this.sk(b,h)}else for(var g=0;g<a.length;g++)if(b=a[g],c=this.A[b],c!=i)for(;0<this.$m(b);)this.sk(b,h)};
T.A=function(a){this.Ai=0;this.images={};this.nh=0;for(var b in a.Td){this.images[b]={};var c=a.Td[b],g;for(g in c.oc){var e=c.oc[g];e!=i&&"string"==typeof e&&0<e.length&&(this.images[b][g]=i,this.nh++)}}if(0<this.nh)for(b in a.Td)for(g in c=a.Td[b],c.oc){if(e=c.oc[g],e!=i&&"string"==typeof e&&0<e.length){var d=this,j=function(a){"DOM"==rpjs.game.settings.rendererType&&(d.images[a.yh][a.Xf]={src:a.src,width:a.width,height:a.height});for(var b in a.Ie.oc)b!=a.Xf&&(a.Ie.oc[b]!==i&&"object"==typeof a.Ie.oc[b]&&
a.Ie.oc[b].Ew==a.Xf)&&(d.images[a.yh][b]={fa:d.images[a.yh][a.Xf],Qg:a.Ie.oc[b].Qg});delete a.yh;delete a.Xf;delete a.Ie;d.nh--;0==d.nh&&rpjs.game.instance.Dg(T).sn()},l=new Image;this.images[b][g]=l;l.yh=b;l.Xf=g;l.Ie=c;l.onload=function(){j(this)};l.onerror=function(){console.error("Failed to load sprite image "+e+" for animation "+b+" direction "+g);j(this)};l.onabort=function(){console.error("Failed to load sprite image "+e+" for animation "+b+" direction "+g+" - aborted");j(this)};l.src=rpjs.game.instance.Ht(e);
l.src||console.error("No url for image: "+e)}}else rpjs.game.instance.Dg(T).sn()};T.A.prototype.to=function(a){return this.images[a]};T.A.prototype.xA=function(a,b){return this.images[a][b]};T.A.prototype.Ps=function(){for(var a in this.images)for(var b in this.images[a]){var c=this.images[a][b];c.onload=i;c.onerror=i;c.onabort=i;c.src=i}};T.A.prototype.oB=function(){return 0==this.nh};
T.prototype.$y=function(a,b,c,g,e){if(a=this.cf(a,b))a.Eb==f&&(a.Eb=[]),b="id_"+T.Jv++,a.Eb.push({yg:b,qo:c,fi:g,kt:e})};T.Jv=0;T.prototype.YB=function(a,b,c){if((a=this.cf(a,b))&&a.Eb)for(b=0;b<a.Eb.length;b++)if(a.Eb[b].yg==c){RPJS_Loader.removeCyclic(a.Eb,b);break}};
T.prototype.KC=function(a,b,c,g,e){var d=this.cf(a,f);if(d){var j=d.Td[b];if(j&&j.oc[c]!=f){j.oc[g]={Ew:c,Qg:e};for(var l in d.Zb)d.Zb[l]&&(d.Zb[l][b]&&d.Zb[l][b][c])&&(d.Zb[l][b][g]=d.Zb[l][b][c]);if(a=this.Cg(a))(b=a.to(b))&&b[c]&&(b[g]={fa:b[c],Qg:e})}}};T.prototype.JC=function(a,b,c,g){if(a=this.cf(a,b))a.G=c,a.D=g};function Ta(){Fa.apply(this,arguments)}n.N(Ta,Fa);n.o("RPJS_Manager_Audio",Ta);m=Ta.prototype;m.ac=function(){this.stopAll(h)};m.ca=function(){rpjs.game.instance.ea(rpjs.game.instance.X,this)&&(rpjs.game.instance.X=this)};m.aa=function(){delete rpjs.game.instance.X};
m.Xa=function(a,b,c,g,e,d,j,l,q){a&&a.En&&(a=a.En);var w=rpjs.util.assetMap.Bg(a);if(!w)return console.error("The sound name/asset id "+a+" is invalid"),l&&l(a),i;var t=rpjs.game.instance.St(w);if(!t)return console.error("Invalid sound type "+a),l&&l(a),i;if(!this.canPlayURL(t))return l&&l(a),i;b==f&&(b=h);c==f&&(c=h);g==f?g=1:0>=g&&(g=9999999);e==f&&(e=0.9);d==f&&(d=0);var E=0<t.length?t.substr(t.lastIndexOf(".")+1):"";E||(E=t.substring(t.length-3));return new O({id:"sound"+w+("PhoneGap"!=rpjs.info.buildTarget?
Math.random():""),url:t,type:"audio/"+E,Tk:b,tj:c,nf:g,volume:Math.floor(100*e),Vg:Math.floor(100*d),onload:function(b){b||2!=this.readyState?j&&j():(console.error("Failed to load audio data "+a),l&&l(a))},te:function(){q&&q()}})};
m.canPlayURL=function(a){var b=k;switch(rpjs.info.buildTarget){case "PhoneGap":b=0<a.length?a.substr(a.lastIndexOf(".")+1):"";b="mp3"==b||"wav"==b||"aiff"==b;break;default:(b=0<a.length?a.substr(a.lastIndexOf(".")+1):"")||(b=a.substring(a.length-3)),b=soundManager.canPlayMIME("audio/"+b)}return b};m.stopAll=function(a){O.stopAll(a)};m.muteAll=function(){O.muteAll()};m.unmuteAll=function(){O.unmuteAll()};m.pauseAll=function(){O.pauseAll()};m.resumeAll=function(){O.resumeAll()};function Ua(){Fa.apply(this,arguments);this.Ei={};this.Cm=this}n.N(Ua,Fa);n.o("RPJS_Manager_I18n",Ua);m=Ua.prototype;m.Yc=function(){this.locale=this.Kt();this.Mg=h;rpjs.editor.instance&&!this.vf&&(this.vf=function(){this.Mg=1===rpjs.game.instance.mf.length})};m.ac=function(){delete this.Ei;delete this.translate;delete this.Cm};m.ra=function(){this.Mg&&(rpjs.game.instance.R(rpjs.event.Xb.fw,this.locale),this.Mg=k)};
m.ca=function(){rpjs.game.instance.ea(rpjs.game.instance.Xb,this)&&(rpjs.game.instance.Xb=this,rpjs.Xb||(rpjs.Xb=Ua.Xb))};m.aa=function(){delete rpjs.game.instance.Xb};m.Kt=function(){var a=this.locale;!a&&a!==Ua.Tf&&(a=Ua.zt(),this.Pu(a)||(a=Ua.Mt()));return a};m.Lt=function(a){return this.Ei[a||this.locale||Ua.Tf]};m.fl=function(){return this.Mg?[J.Ta.Rb]:[]};m.Pu=function(a){var b=this.Ei;if(b[a]===f){var c=rpjs.game.settings.localesSupported;b[a]=c&&-1<c.indexOf(a)?i:k}return b[a]!==k};
m.pC=function(a){a!=this.locale&&(this.Mg=h,this.locale=a);return this};m.qC=function(a,b){this.Ei[b||this.locale||Ua.Tf]=a;return this};m.zC=function(a,b){"function"!==typeof a&&z(Error("RPJS_Manager_I18n.setTranslate requires a function"));this.translate=a;f!==b&&(this.Cm=b);return this};m.translate=function(a){var b=this.Lt(this.locale);return b&&a in b?b[a]:a};Ua.Tf="";
Ua.zt=function(){var a=Ua.Tf,b=navigator;b.language?a=b.language:b.vy?a=b.vy:b.fy?a=b.fy:b.browserLanguage&&(a=b.browserLanguage);return a};Ua.Mt=function(){return rpjs&&rpjs.game&&rpjs.game.settings&&rpjs.game.settings.localeDefault?rpjs.game.settings.localeDefault:Ua.Tf};Ua.Xb=function(a){var b=rpjs.game.instance.Xb;b&&(a=b.translate.apply(b.Cm,arguments));return a};function Va(){Fa.apply(this,arguments)}n.N(Va,Fa);n.o("RPJS_Manager_Preload",Va);m=Va.prototype;m.ca=function(){rpjs.game.instance.ea(rpjs.game.instance.$l,this)&&(rpjs.game.instance.$l=this)};m.aa=function(){delete rpjs.game.instance.$l};
m.Pr=function(a){var b=rpjs.game.instance.getImageData(a);if(b)return a=new PxLoaderImage(b.url,["image"]),a.size=b.size,a;if(b=rpjs.game.instance.Bo(a)){if(rpjs.info.touchDevice||!rpjs.game.instance.X.canPlayURL(b.url))return i;a=new PxLoaderSound(b.url,b.url,["sound"]);a.size=b.size;return a}return i};m.Tj=function(a,b){return function(){rpjs.game.instance.R(a,{identifier:b})}};
m.Uj=function(a,b){return function(c){c.error?console.error("Could not load resource",c):(c.identifier=b,U.ko&&(c.resource&&c.resource.img)&&(U.Kk[c.resource.getName()]=c.resource.img),rpjs.game.instance.R(a,c))}};
m.load=function(a,b,c){var g=new PxLoader;g.addProgressListener(this.Uj(rpjs.event.rb.Nl,b));g.addProgressListener(this.Uj(rpjs.event.rb.rw,b),["sound"]);g.addProgressListener(this.Uj(rpjs.event.rb.cw,b),["image"]);g.addCompletionListener(this.Tj(rpjs.event.rb.Qi,b));g.addCompletionListener(this.Tj(rpjs.event.rb.Mp,b),["sound"]);g.addCompletionListener(this.Tj(rpjs.event.rb.Cp,b),["image"]);if("PhoneGap"===rpjs.info.buildTarget)return setTimeout(function(){rpjs.game.instance.R(rpjs.event.rb.Mp,{identifier:b});
rpjs.game.instance.R(rpjs.event.rb.Cp,{identifier:b});rpjs.game.instance.R(rpjs.event.rb.Qi,{identifier:b})},0),g;for(var e=0;e<a.length;e++){var d=this.Pr(a[e]);d&&g.add(d)}g.start(c||["image","sound"]);return g};function K(){F.apply(this,arguments)}n.N(K,F);n.o("RPJS_Component_Transform",K);K.prototype.f=function(){this.la=new R;this.ma=this.position.clone();this.Z=this.rotation.clone();this.za=this.scale.clone();this.Ga=0;this.br=R.uh.clone();this.Aq=R.Uf.clone();this.cm=this.Em=k;this.Yb=S.sv(this.ma,this.Z);this.mr=this.Yb.cl();this.km=this.Hm=k;this.Bc=[];this.Sb(h,h,h,h)};n.n(K.prototype,"onInit",K.prototype.f);K.Ee={Kj:1,Lj:2,Ly:4};m=K.prototype;
m.ca=function(){this.a.ea(this.a.transform,this)&&(this.a.transform=this)};m.aa=function(){delete this.a.transform};m.tC=aa("km");m.xn=function(a){this.Bc.push(a)};m.ex=function(a){RPJS_Loader.removeElemCyclic(this.Bc,a)};m.qq=function(){this.Bc.length=0};m.AA=B("Yb");m.Do=function(){this.Hm&&(this.Hm=k,this.mr=this.Yb.cl());return this.mr};m.UA=function(){this.Em&&(this.Em=k,this.ci(R.uh,this.br));return this.br};m.LA=function(){this.cm&&(this.cm=k,this.ci(R.Uf,this.Aq));return this.Aq};
m.Al=function(a,b){var c;"number"==typeof a?(c=f,c==f&&(c=new R),c=S.Fl(this.Yb,a,b,f,c)):(c=b,c==f&&(c=new R),c=S.El(this.Yb,a,c));this.a.v.yb&&(c.y=-c.y);return c};m.Gm=function(a,b,c,g){"number"==typeof a?(g==f&&(g=new R),g=S.Fl(this.Do(),a,b,c,g)):(g=b,g==f&&(g=new R),g=S.El(this.Do(),a,g));this.a.v.yb&&(g.y=-g.y);return g};
m.ci=function(a,b,c){var g;"number"==typeof a?(g=a,a=b):(g=a.x,a=a.y,c=b);b=Math.sqrt(g*g+a*a);g=K.Vk(g,a,c);g.b+=this.rotation.b;g=K.dm(g,c);g.x*=b;g.y*=b;this.a.v.yb&&(g.y=-g.y);return g};m.sg=function(a,b,c){var g;"number"==typeof a?(g=a,a=b):(g=a.x,a=a.y,c=b);b=Math.sqrt(g*g+a*a);g=K.Vk(g,a,c);g.b-=this.rotation.b;g=K.dm(g,c);g.x*=b;g.y*=b;this.a.v.yb&&(g.y=-g.y);return g};m.uB=function(a,b,c,g){return this.ci(a,b,g)};m.WC=function(a,b,c,g){return this.sg(a,b,g)};
m.tB=function(a,b){var c=this.Al(a,b);L.Ra.da.Cj(c.x,c.y,c,this.a.sa);return c};m.SC=function(a,b){var c=L.Ra.da.kh(a.x,a.y,b,this.a.sa);this.Gm(a,c);return c};
m.Sb=function(a,b,c,g){this.a.parent?(b&&this.rotation.ve(this.a.parent.transform.rotation.x+this.Z.x,this.a.parent.transform.rotation.y+this.Z.y,this.a.parent.transform.rotation.b+this.Z.b),c&&this.scale.ve(this.a.parent.transform.scale.x*this.za.x,this.a.parent.transform.scale.y*this.za.y,this.a.parent.transform.scale.b*this.za.b),this.a.parent.transform.Al(this.ma,this.position)):(a&&this.position.set(this.ma),b&&this.rotation.set(this.Z),c&&this.scale.set(this.za));Math.abs(this.rotation.b)<K.Ba&&
(this.rotation.b=0);a&&(this.Yb.data[0][2]=this.position.x,this.Yb.data[1][2]=this.position.y);var e=a;if(b||c)e=h,this.Yb.data[0][0]=this.scale.x*Math.cos(this.rotation.b),this.Yb.data[0][1]=this.scale.y*Math.sin(this.rotation.b),this.Yb.data[1][0]=this.scale.x*-Math.sin(this.rotation.b),this.Yb.data[1][1]=this.scale.y*Math.cos(this.rotation.b),b&&(this.cm=this.Em=h),c&&(this.Ga=Math.max(this.scale.x,Math.max(this.scale.y,this.scale.b)),this.a.Ve());if(a||b||c)this.Hm=h;this.Sm(a,b,c);if(!g)for(a=
0;a<this.a.children.length;a++)this.a.children[a].transform.Sb(e,b,c)};m.Sm=function(a,b,c){var g=K.S.ld;a&&(g|=K.S.nd);b&&(g|=K.S.Pm);c&&(g|=K.S.Md);if(g!=K.S.ld&&(this.a.rd[rpjs.game.instance.ai]=h,this.km||0<this.Bc.length)){if(0<this.Bc.length)for(a=0;a<this.Bc.length;a++)this.Bc[a].I?this.qq():this.Bc[a].Ql!=f&&this.Bc[a].Ql.call(this.Bc[a],g,this);this.km&&this.a.ka(rpjs.event.e.transform.ww,g)}};
m.setPosition=function(a,b,c,g){var e,d;"number"==typeof a?(e=a,d=b,a=c,b=g):(e=a.x,d=a.y,a=a.b);"number"!=typeof e&&(e=this.ma.x);"number"!=typeof d&&(d=this.ma.y);"number"!=typeof a&&(a=this.ma.b);b&&this.a.parent&&(this.a.parent.transform.Gm(e,d,a,this.la),e=this.la.x,d=this.la.y,a=this.la.b);Math.abs(e-this.ma.x)<=K.Ba&&Math.abs(d-this.ma.y)<=K.Ba&&Math.abs(a-this.ma.b)<=K.Ba||(this.ma.x=e,this.ma.y=d,this.ma.b=a,this.Sb(h,k,k))};
m.translate=function(a,b,c,g){var e,d;"number"==typeof a?(e=a,d=b,a=c,b=g):(e=a.x,d=a.y,a=a.b);"number"!=typeof e&&(e=0);"number"!=typeof d&&(d=0);"number"!=typeof a&&(a=0);b||(this.ci(e,d,this.la),e=this.la.x,d=this.la.y,a=this.la.b);this.a.parent&&(this.a.parent.transform.sg(e,d,this.la),e=this.la.x,d=this.la.y,a=this.la.b,b&&(e/=this.a.parent.transform.scale.x,d/=this.a.parent.transform.scale.y,a/=this.a.parent.transform.scale.b));Math.abs(e)<=K.Ba&&Math.abs(d)<=K.Ba&&Math.abs(a)<=K.Ba||(this.ma.x+=
e,this.ma.y+=d,this.ma.b+=a,this.Sb(h,k,k))};
m.rm=function(a,b){var c,g,e,d;"number"==typeof a?(c=a,g=b,d=e=f):(c=a.x,g=a.y,e=a.b,d=b);"number"!=typeof c&&(c=this.Z.x);"number"!=typeof g&&(g=this.Z.y);"number"!=typeof e&&(e=this.Z.b);d&&this.a.parent&&(c-=this.a.parent.transform.rotation.x,g-=this.a.parent.transform.rotation.y,e-=this.a.parent.transform.rotation.b);Math.abs(c-this.Z.x)<=K.Ba&&Math.abs(g-this.Z.y)<=K.Ba&&Math.abs(e-this.Z.b)<=K.Ba||(this.Z.x=c,this.Z.y=g,this.Z.b=e,Math.abs(this.Z.b)<K.Ba&&(this.Z.b=0),this.Sb(k,h,k))};
m.rotate=function(a,b,c){var g;"number"==typeof a?(g=a,a=c):(g=a.x,b=a.y,a=a.b);"number"!=typeof g&&(g=0);"number"!=typeof b&&(b=0);"number"!=typeof a&&(a=0);Math.abs(g)<=K.Ba&&Math.abs(b)<=K.Ba&&Math.abs(a)<=K.Ba||(this.Z.x+=g,this.Z.y+=b,this.Z.b+=a,Math.abs(this.Z.b)<K.Ba&&(this.Z.b=0),this.Sb(k,h,k))};
m.Ef=function(a,b,c,g){var e,d;"number"==typeof a?(e=a,d=b,a=c,b=g):(e=a.x,d=a.y,a=a.b);"number"!=typeof e&&(e=this.scale.x);"number"!=typeof d&&(d=this.scale.y);"number"!=typeof a&&(a=this.scale.b);b&&this.a.parent&&(e/=this.a.parent.transform.scale.x,d/=this.a.parent.transform.scale.y,a/=this.a.parent.transform.scale.b);Math.abs(e-this.za.x)<=K.Ba&&Math.abs(d-this.za.y)<=K.Ba&&Math.abs(a-this.za.b)<=K.Ba||(this.za.x=e,this.za.y=d,this.za.b=a,this.Sb(k,k,h))};
m.hm=function(a,b,c){var g;"number"==typeof a?(g=a,a=c):(g=a.x,b=a.y,a=a.b);"number"!=typeof g&&(g=0);"number"!=typeof b&&(b=0);"number"!=typeof a&&(a=0);Math.abs(g-1)<=K.Ba&&Math.abs(b-1)<=K.Ba&&Math.abs(a-1)<=K.Ba||(this.za.x*=g,this.za.y*=b,this.za.b*=a,this.Sb(k,k,h))};m.sC=function(a,b){this.Ef(a,a,a,b)};m.Cq=function(a){this.hm(a,a,a)};m.oC=function(a,b){this.Dx(a.position,a.rotation,a.scale,b)};m.Dx=function(a,b,c,g){this.ve(a.x,a.y,a.b,b.x,b.y,b.b,c.x,c.y,c.b,g)};
m.ve=function(a,b,c,g,e,d,j,l,q,w){"number"!=typeof a&&(a=this.position.x);"number"!=typeof b&&(b=this.position.y);"number"!=typeof c&&(c=this.position.b);"number"!=typeof g&&(g=this.rotation.x);"number"!=typeof e&&(e=this.rotation.y);"number"!=typeof d&&(d=this.rotation.b);"number"!=typeof j&&(j=this.scale.x);"number"!=typeof l&&(l=this.scale.y);"number"!=typeof q&&(q=this.scale.b);w?(this.sg(a,b,this.la),this.ma.x=this.la.x,this.ma.y=this.la.y,this.ma.b=this.la.b,this.sg(g,e,this.la),this.Z.x=this.la.x,
this.Z.y=this.la.y,this.Z.b=this.la.b,this.sg(j,l,this.la),this.za.x=this.la.x,this.za.y=this.la.y,this.za.b=this.la.b):(this.ma.x=a,this.ma.y=b,this.ma.b=c,this.Z.x=g,this.Z.y=e,this.Z.b=d,this.za.x=j,this.za.y=l,this.za.b=q);this.Sb(h,h,h)};
m.Ol=function(a){for(var b in a.vb){var c=a.vb[b];switch(b){case "position":this.setPosition(c,k);break;case "localPosition":this.setPosition(c,h);break;case "rotation":this.rm(c,k);break;case "localRotation":this.rm(c,h);break;case "scale":this.Ef(c,k);break;case "localScale":this.Ef(c,h);break;default:this[b]=c}}};m.g=function(){return{position:{type:"RPJS_Vector3"},rotation:{type:"RPJS_Vector3"},scale:{type:"RPJS_Vector3",value:{x:1,y:1,b:1}}}};K.S={ld:0,nd:1,Pm:2,Md:4,Bb:7};
K.Vk=function(a,b,c){var g;"number"==typeof a?(g=a,a=b,b=c):(g=a.x,a=a.y);"number"!=typeof g&&(g=0);"number"!=typeof a&&(a=0);b==f&&(b=new R);c=g*g+a*a;if(c<=K.Ba)return b.x=0,b.y=0,b.b=0,b;c=Math.sqrt(c);a=Math.acos(a/c);0>g/c&&(a+=2*(Math.PI-a));b.x=0;b.y=0;b.b=a;return b};K.dm=function(a,b,c,g){"number"==typeof a?(a=c,b=g):a=a.b;"number"!=typeof a&&(a=0);b==f&&(b=new R);b.x=Math.sin(a);b.y=Math.cos(a);b.b=0;return b};K.Nz=function(a,b,c,g){return K.Vk(a,b,g)};
K.dC=function(a,b,c,g){return K.dm(a,b,c,g)};K.RA=function(a,b){if(a==b)return 0;var c=a%(2*Math.PI),g=b%(2*Math.PI);0>c&&(c+=2*Math.PI);0>g&&(g+=2*Math.PI);return Math.abs(g-c)<Math.PI?c<g?1:-1:c<g?-1:1};K.xd=ba(h);K.Ba=1E-4;K.Zy=new S;function La(){F.apply(this,arguments)}n.N(La,F);n.o("RPJS_Component_ICell",La);m=La.prototype;m.f=function(){this.i=i;this.D=this.G=0;this.jo="div";this.Xk=this.Eg=k;this.mp=h;this.bd=this.pu=k;this.Aa=K.S.Bb;this.Or=this.ii;this.ta={x:0,y:0};this.ya()||(this.a.Ud=h)};
m.k=function(){this.Aa=K.S.Bb;this.ya()&&(this.jc=h,this.Dz=this.i=rpjs.game.instance.w.Ys(this.a,"visibility: hidden; background-repeat: no-repeat; cursor: "+this.bt+"; "+this.Ck,this.jo,this.sort),rpjs.info.legacyIEFilterDOMPipe&&(this.i[0].style.filter='progid:DXImageTransform.Microsoft.Matrix(enabled=false,sizingMethod="auto expand",filterType="nearest") progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=false,sizingMethod="crop") progid:DXImageTransform.Microsoft.Alpha(enabled=false,opacity=100)',
this.Sr=this.Tr=k));this.nm(this.G,this.D);this.Fd(this.opacity);this.ya()&&(rpjs.game.instance.js(this),this.a.transform.xn(this));rpjs.profiling.visualActorCount++;this.bn=h;this.xc()};m.l=function(){this.bn&&(this.bn=k,rpjs.profiling.visualActorCount--,this.ya()&&(rpjs.game.instance.kq(this),this.a.transform!=i&&this.a.transform.ex(this),rpjs.game.instance.w&&rpjs.game.instance.w.dt(this.i),this.i=i));this.bd=k};
m.nm=function(a,b,c){if(!c&&!this.Ul){var c=0.5*a,g=0.5*b;if(c!==this.ta.x||g!==this.ta.y||this.jc)this.ta.x=c,this.ta.y=g,this.a.Ve(),this.jc||this.Ff(k,K.S.nd)}if(this.i&&!this.Xk&&(a!==this.G||b!==this.D||this.jc))this.i[0].style.width=a+"px",this.i[0].style.height=b+"px";if(a!==this.G||b!==this.D)this.G=a,this.D=b,this.a.Ve()};m.xc=A();m.Ql=function(a){this.Ff(k,a)};m.Rg=function(a){a&K.S.Md&&0!=this.a.v.ia&&this.Ff(k,K.S.nd|K.S.Md)};
m.Ff=function(a,b){b==f&&(b=K.S.ld);this.Aa|=b;(a||rpjs.editor.isEditing)&&(this.ya()&&this.Aa)&&this.jb(i)};m.aC=function(a){this.Ff(a,K.S.Bb)};m.jb=function(){this.Aa&&(-1!=this.mg()&&(this.Aa=0),this.jc&&(this.jc=k,this.mp&&!this.bd&&this.yf("visibility","visible")))};m.mg=function(){if(this.ya()&&!this.Eg)return rpjs.game.instance.w.Fn(this.i[0],this.a.transform,this.G,this.D,this.ta,this.a.v,this.Aa,!this.pu?i:-1)};m.ya=function(){return"DOM"==rpjs.game.settings.rendererType||this.Or};
m.gh=function(a){a!=this.bd&&(this.bd=a,this.ya()&&(!this.jc&&this.i)&&this.yf("visibility",a?"hidden":"visible"))};
m.Fd=function(a){var b=this.opacity;this.opacity=a;if(this.ya()&&(b!==this.opacity||this.jc)&&this.i!=i&&this.i[0])if(rpjs.info.legacyIEFilterDOMPipe){if(1>this.opacity||1>b)this.Sr=h,a=this.i[0].filters.item("DXImageTransform.Microsoft.Alpha"),1>this.opacity?(a.opacity=Math.floor(100*this.opacity),a.enabled=h):1>b&&(a.opacity=100,a.enabled=k)}else this.yf("opacity",1>this.opacity?this.opacity:"")};m.yf=function(a,b){rpjs.game.instance.w.va("setStyleAttribute",{xa:this.i[0],Oc:a,Pc:b})};
m.TB=function(a){rpjs.game.instance.w.va("addClass",{xa:this.i[0],className:a})};m.VB=function(a){rpjs.game.instance.w.va("removeClass",{xa:this.i[0],className:a})};m.UB=function(a,b){rpjs.game.instance.w.va("changeClass",{xa:this.i[0],Lv:a,Hv:b})};
m.gz=function(a,b,c){if(this.ya()){this.i.detach();if(b||b==f){var b=this.a.transform.position,g=this.a.transform.rotation,e=this.a.transform.scale;this.a.transform.position=R.Cb;this.a.transform.rotation=R.Cb;this.a.transform.scale=R.Gj;this.Eg=k;this.Ff(h,K.S.Bb);this.a.transform.position=b;this.a.transform.rotation=g;this.a.transform.scale=e}c||c==f?(this.Eg=h,this.Aa=K.S.ld):this.Eg=k;this.i.appendTo(a)}};m.getElement=B("i");
m.ke=function(a){a.x=0.5*this.G;a.y=0.5*this.D;var b=Math.abs(this.ta.y-0.5*this.D);a.x+=Math.abs(this.ta.x-0.5*this.G);a.y+=b;a.x*=Math.abs(this.a.transform.scale.x);a.y*=Math.abs(this.a.transform.scale.y)};m.Nb=function(a){("opacity"==a.fieldName||"additionalStyle"==a.fieldName||"forceDOM"==a.fieldName)&&this.qd()};m.Ti=function(){this.disable();this.enable()};m.XA=B("G");m.uA=B("D");m.CA=B("ta");m.g=function(){return{opacity:1,Ck:"",bt:"",ii:k,sort:k}};La.xd=ba(h);function Wa(){La.apply(this,arguments)}n.N(Wa,La);n.o("RPJS_Component_IImageCell",Wa);Wa.zf={};m=Wa.prototype;m.k=function(){this.ck=this.an=h;this.Dc=i;this.pd="";this.dk=h;this.hc={x:0,y:0};Wa.H.k.call(this)};m.l=function(){this.an&&(this.an=k,this.mb(i));Wa.H.l.call(this)};
m.mb=function(a){a!=this.Dc&&(this.ck=h,a=(this.Dc=a)?this.Dc.src:"",a!=this.pd&&(this.pd&&(Wa.zf[this.pd]--,0==Wa.zf[this.pd]&&(rpjs.profiling.textureCount--,rpjs.profiling.textureMemoryUsage-=4*this.G*this.D)),a&&(Wa.zf[a]==f?Wa.zf[a]=1:Wa.zf[a]++,1==Wa.zf[a]&&(rpjs.profiling.textureCount++,rpjs.profiling.textureMemoryUsage+=4*this.G*this.D)),this.pd=a))};m.Nb=function(a){"legacyIEUse8BitTransparency"==a.fieldName&&rpjs.info.legacyIEFilterDOMPipe?this.qd():La.prototype.Nb.apply(this,arguments)};
m.Fx=function(a,b){if(a!=this.hc.x||b!=this.hc.y)this.dk=h,this.hc.x=a,this.hc.y=b};
m.jb=function(a){if(this.ya()){if(this.ck)if(!rpjs.info.legacyIEFilterDOMPipe||!this.Uu)this.yf("backgroundImage",this.pd?"url('"+this.pd+"')":"");else{this.Tr=h;var b=this.i[0].filters.item("DXImageTransform.Microsoft.AlphaImageLoader");b.src=this.pd;b.enabled=h}this.dk&&this.yf("backgroundPosition","-"+this.hc.x+"px -"+this.hc.y+"px")}else if("Canvas"==rpjs.game.settings.rendererType&&!this.bd&&this.Dc&&0<this.G&&0<this.D){var c=b=1,g=L.Ra;g&&(b=Math.max(1-(1-g.transform.scale.x)*this.a.v.ia,0),
c=Math.max(1-(1-g.transform.scale.y)*this.a.v.ia,0));var e=this.ta,g=-e.x,e=-e.y,d=rpjs.game.instance.w.getContext();d.save();d.globalAlpha=this.opacity;d.translate(Math.round(a.x),Math.round(a.y));0!=this.a.transform.rotation.b&&d.rotate(this.a.transform.rotation.b);(1!=this.a.transform.scale.x||1!=this.a.transform.scale.y||1!=b||1!=c)&&d.scale(this.a.transform.scale.x*b,this.a.transform.scale.y*c);0!=this.hc.x||0!=this.hc.y||this.G!=this.Dc.width||this.D!=this.Dc.height?d.drawImage(this.Dc,this.hc.x,
this.hc.y,this.G,this.D,Math.round(g),Math.round(e),this.G,this.D):d.drawImage(this.Dc,Math.round(g),Math.round(e));d.restore()}this.dk=this.ck=k;this.constructor.H.constructor.H.jb.call(this,a)};m.g=function(){return{Uu:k,sort:h}};function Xa(){Wa.apply(this,arguments)}n.N(Xa,Wa);n.o("RPJS_Component_Sprite",Xa);m=Xa.prototype;
m.k=function(){Xa.H.k.call(this);rpjs.game.instance.tb==i&&(console.error("Sprite manager must have been created before sprites can be used"),z("Sprite manager must have been created before sprites can be used"));this.A=i;this.gd&&(this.A=rpjs.game.instance.tb.cf(this.gd,f));var a="",b="";if(this.Po){var c=this.Po.split("#");2<=c.length&&(a=c[0],b=c[1])}this.Vb=a;this.direction=b;this.aq=1;this.Nc=this.Nc!=f?this.Nc:i;this.pb=-1;this.Ac=0;this.Gh={};this.Me=0;this.A&&(this.cg=h,rpjs.game.instance.tb.fq(this));
this.Qj=i;this.Lh=k;this.ya()&&RPJS_Loader.addClass(this.i[0],"rpjsSpriteComponent");this.na(this.Vb,f,h,f,this.direction)};m.Er=function(){var a,b;this.A?(b=this.A.Td[this.Vb])&&b.G!=f&&b.D!=f?(a=b.G,b=b.D):(a=this.A.G,b=this.A.D):b=a=0;(a!=this.G||b!=this.D)&&this.nm(a,b,h)};
m.l=function(a){var b=this.Me&K.Ee.Kj,c=this.Me&K.Ee.Lj;if(b||c)this.a.transform.hm(b?-1:1,c?-1:1,1),this.Me=0;this.Qj&&(clearTimeout(this.Qj),this.Qj=i);this.Nc=i;this.cg&&(this.cg=k,rpjs.game.instance.tb.ar(this));Xa.H.l.call(this,a)};m.ca=function(){this.a.ea(this.a.$,this)&&(this.a.$=this)};m.aa=function(){delete this.a.$};
m.jb=function(a){if(!this.bd&&0<this.Ac&&!this.Lh&&this.A!=i&&!rpjs.editor.isEditing){this.Ac-=rpjs.game.instance.timing.update.yd*this.aq;var b=this.Ag();if(b)for(;0>=this.Ac;){var c=0<b.Dk?b.Dk/b.Ji:b.vt,g=this.Ac+=c;if(b.Eb)for(var e=0;e<b.Eb.length;e++){var d=b.Eb[e];this.pb>=d.qo&&!this.Gh[d.yg]&&(this.Gh[d.yg]=h,d.kt?this.a.ka(d.fi,this):this.a.Cf(d.fi,this))}if(this.pb+1<b.Ji)this.ue(this.pb+1),this.Ac=g;else{if(!this.I&&(this.Nc||this.Xn))this.Nc&&(b=this.Nc,this.Nc=i,b(this),b=this.Ag()),
this.Xn&&!this.a.I&&this.a.K();if(this.loop&&0<c)this.ue(0),this.Ac=g;else{this.Lh=h;break}}}}this.enabled&&this.constructor.H.jb.call(this,a)};m.Nt=function(){if(this.A==i||!("Origin"in this.A.Zb))return M.Cb;var a=this.Vb;if(!a||!(a in this.A.Zb.Origin))return M.Cb;var b=this.direction;if(!(b in this.A.Zb.Origin[a]))return M.Cb;var c=this.pb;if(this.A.Zb.Origin[a][b].length<=c)return M.Cb;c=this.A.Zb.Origin[a][b][c];"number"==typeof c&&(c=this.A.Zb.Origin[a][b][c]);return c};
m.zx=function(a,b,c){a!==this.gd&&(this.cg&&(this.cg=k,rpjs.game.instance.tb.ar(this)),(this.gd=a)?(this.A=rpjs.game.instance.tb.cf(this.gd,f),rpjs.game.instance.tb.fq(this),this.cg=h,this.na(b||this.Vb,f,h,f,c||this.direction)):(this.A=i,this.direction=this.na=""))};
m.na=function(a,b,c,g,e){g&&("function"==typeof g?this.Nc=g:g===h&&(this.Nc=i));if(b!==f&&(this.loop=!!b))this.Lh=k;a=a||this.Vb;b=e||this.direction;e=a!=this.Vb||c;c=b!=this.direction||c;if(e||c){this.Vb=a;this.direction=b;e&&this.Er();a=c=0;if((b=this.uo(this.Vb,this.direction))&&!("src"in b))c=b.Qg&K.Ee.Kj,a=b.Qg&K.Ee.Lj,b=b.fa;this.mb(b);b=c!=(this.Me&K.Ee.Kj);g=a!=(this.Me&K.Ee.Lj);if(b||g)this.a.transform.hm(b?-1:1,g?-1:1,1),this.Me=c|a;e?(this.pb=-1,this.ue(0)):this.pn()}};
m.nC=function(a){this.na(f,f,f,f,a)};m.Gt=function(){var a=this.Ag();return a==i?0:0<a.Dk?a.Dk/a.Ji:a.vt};m.Lq=aa("aq");m.uo=function(a,b){if(this.A==i)return i;var c=i,g=rpjs.game.instance.tb.Cg(this.gd).to(a);g&&b in g!=k&&(c=g[b]);return c};m.Ag=function(){return!this.Vb||!this.A?i:this.A.Td[this.Vb]};
m.ue=function(a){var b=this.Ag(),c=a!=this.pb;this.Lh=k;this.pb=a;this.Ac=this.Gt();if(b&&(c&&(this.pn(),a=!isNaN(b.Y)?b.Y:b.Ji,this.Fx(this.pb%a*this.G,Math.floor(this.pb/a)*this.D)),b.Eb))for(a=0;a<b.Eb.length;a++)c=b.Eb[a],this.pb<=c.qo&&this.Gh[c.yg]&&(this.Gh[c.yg]=k)};m.GC=function(){this.pb!=this.Ag().Ji-1&&this.ue(this.pb+1)};m.pn=function(){var a=this.Nt();if(a){if(a.x!=this.ta.x||a.y!=this.ta.y)this.Aa|=K.S.nd;this.ta.x=a.x;this.ta.y=a.y}};m.Nb=function(){this.qd()};
m.mA=function(){return this.uo(this.Vb,this.direction)};m.g=function(){return{gd:{type:"sprite"},Po:{type:"animation"},loop:h,Xn:k}};Xa.xd=ba(h);H("RPJS_Component_Sprite");function U(){Wa.apply(this,arguments)}n.N(U,Wa);n.o("RPJS_Component_Image",U);m=U.prototype;m.k=function(){this.G=Math.floor(this.width);this.D=Math.floor(this.height);this.Fg="";0<this.No.length?this.Fg=this.No:this.rc&&this.rc.url&&(this.Fg=this.rc.url);this.fa=i;U.H.k.call(this)};m.xc=function(){this.ya()&&RPJS_Loader.addClass(this.i[0],"rpjsImageComponent");this.Ul&&this.Ix(this.Wi.x,this.Wi.y);this.ya()?(this.fa={src:this.Fg},this.mb(this.fa)):0<this.Fg.length&&(this.fa=U.yt(this.Fg),this.mb(this.fa))};
m.ca=function(){this.a.ea(this.a.fa,this)&&(this.a.fa=this)};m.aa=function(){delete this.a.fa};m.Ix=function(a,b){if(a!==this.ta.x||b!==this.ta.y)this.Ul=h,this.Wi.x=a,this.Wi.y=b,this.Aa|=K.S.nd,this.ta.x=a,this.ta.y=b,this.a.Ve()};m.zx=function(a){a!==this.rc&&((this.rc=a)&&this.mb({src:this.rc.url}),this.rc&&this.nm(this.rc.width,this.rc.height))};m.Nb=function(){this.qd()};
U.yt=function(a){if(!a)return i;var b=U.Kk[a];if(b===f){var b=new Image,c=function(){b.onerror=f;b.onabort=f};b.onerror=function(){console.error("Failed to load image "+a);c()};b.onabort=function(){c()};b.src=a;U.ko&&(U.Kk[a]=b)}return b};U.ko=k;U.Kk={};U.prototype.g=function(){return{rc:{type:"image"},No:"",width:0,height:0,Ul:k,Wi:{type:"RPJS_Vector2"}}};U.xd=ba(h);H("RPJS_Component_Image");function L(){F.apply(this,arguments)}n.N(L,F);n.o("RPJS_Component_Camera",L);m=L.prototype;m.f=function(){this.kc={};this.Cl&&L.Df(this.a)};m.k=function(){this.Cl&&L.Df(this.a)};m.l=function(){L.Ra==this.a&&L.Df(i)};m.ca=function(){this.a.ea(this.a.da,this)&&(this.a.da=this)};m.aa=function(){delete this.a.da};m.Ql=function(a){a&K.S.Md&&L.uq();this.a==L.Ra&&rpjs.game.instance.Wq(a,this.a.transform)};m.vf=function(){this.Yo()&&this.a.I&&L.Df(i)};
m.kh=function(a,b,c,g,e){this.kc[g||"Default"]||this.Zd(g);g=e?RPJS_Loader.cloneObject(this.kc[g||"Default"],e):this.kc[g||"Default"];c=c||{};c.x=(a-g.Aj)/g.Jd+this.a.transform.position.x*g.v.Pb;c.y=(b-g.Bj)/g.Kd-this.a.transform.position.y*g.v.Pb*(g.v.yb?-1:1);c.b=0;g.v.yb||(c.y=-c.y);return c};
m.Cj=function(a,b,c,g,e){this.kc[g||"Default"]||this.Zd(g);g=e?RPJS_Loader.cloneObject(this.kc[g||"Default"],e):this.kc[g||"Default"];g.v.yb&&(b=-b);c=c||{};c.x=(a-this.a.transform.position.x*g.v.Pb)*g.Jd+g.Aj;c.y=-(b-this.a.transform.position.y*g.v.Pb*(g.v.yb?-1:1))*g.Kd+g.Bj;return c};m.vx=function(a,b,c,g){a=L.ux(a,b,c);this.kh(a.x,a.y,a,g,f)};m.VC=function(a,b,c,g,e){a=this.Cj(a,b,c,g,e);L.xy(a.x,a.y,a);return a};m.Bz=function(a,b,c,g,e){a=L.Qn(a,b,c);this.kh(a.x,a.y,a,g,e);return a};
m.Cy=function(a){a=this.Cj(0,0,a,f,f);L.wy(a.x,a.y,a)};m.Yo=function(){return this.a==L.Ra};m.xB=function(){L.Df(this.a)};
m.Zd=function(a){if(this.kc[a||"Default"])return this.kc[a||"Default"];var b={};b.v=rpjs.game.instance.worldLayers[a||"Default"].options;b.Jd=1;b.Kd=1;b.Uc=1;b.Vc=1;b.Aj=Math.floor(0.5*rpjs.game.instance.Ka);b.Bj=Math.floor(0.5*rpjs.game.instance.Oa);0<b.v.ia&&(b.Jd=Math.max(1-(1-this.a.transform.scale.x)*b.v.ia,0),b.Kd=Math.max(1-(1-this.a.transform.scale.y)*b.v.ia,0));b.v.Ek&&(0<this.rj&&(b.Uc=1-(1-rpjs.game.instance.Ka/this.rj)),0<this.qj&&(b.Vc=1-(1-rpjs.game.instance.Oa/this.qj)),b.v.Ru&&(b.Uc=
b.Vc=Math.min(b.Uc,b.Vc)),b.Jd*=b.Uc,b.Kd*=b.Vc);b.v.yb&&(b.Aj=0,b.Bj=0);this.kc[a||"Default"]=RPJS_Loader.cloneObject(b);return b};m.Vr=function(){this.kc={}};m.Nb=function(a){if(("stageWidth"==a.fieldName||"stageHeight"==a.fieldName)&&this.Cl)if(a=rpjs.editor.instance.iC.Hy())a.da.rj=this.rj,a.da.qj=this.qj,a.da.qd()};m.g=function(){return{Cl:h,rj:0,qj:0}};L.gb=function(){return L.Ra};L.uq=function(){for(var a=rpjs.game.instance.oo(L),b=0;b<a.length;b++)a[b].Vr()};
L.ux=function(a,b,c){c=c||{};c.x=(a-rpjs.game.instance.lh.x)/rpjs.game.instance.mh.x;c.y=(b-rpjs.game.instance.lh.y)/rpjs.game.instance.mh.y;return c};L.xy=function(a,b,c){c=c||{};c.x=a*rpjs.game.instance.mh.x+rpjs.game.instance.lh.x;c.y=b*rpjs.game.instance.mh.y+rpjs.game.instance.lh.y};L.wy=function(a,b,c){c=c||{};c.x=a;c.y=b;c.x-=Math.floor(0.5*rpjs.game.instance.Ka);c.y-=Math.floor(0.5*rpjs.game.instance.Oa);c.x/=rpjs.game.instance.Ka;c.y/=rpjs.game.instance.Oa};
L.Qn=function(a,b,c){c=c||{};c.x=a;c.y=b;c.x*=rpjs.game.instance.Ka;c.y*=rpjs.game.instance.Oa;c.x+=Math.floor(0.5*rpjs.game.instance.Ka);c.y+=Math.floor(0.5*rpjs.game.instance.Oa);return c};L.Df=function(a){a!=L.Ra&&(L.Ra!=i&&L.Ra.transform!=i&&L.Ra.transform.qq(),a!=i?(a.ka(rpjs.event.e.da.Gp,{Gv:a,Hl:L.Ra}),L.Ra=a,a.ka(rpjs.event.e.da.yp,{Gv:a,Hl:L.Ra}),a.transform.xn(a.da),a.transform.Sm(h,h,h)):L.Ra=i)};L.Ra=i;H("RPJS_Component_Camera");function Ya(){F.apply(this,arguments)}n.N(Ya,F);n.o("RPJS_Component_Camera_Tracker",Ya);m=Ya.prototype;m.f=function(){this.jk=k;this.Ch=i;this.Od=rpjs.game.instance.M;L.gb()!=this.a?this.disable():this.enabled=h};m.k=function(){this.a.da!=i&&this.a.da.Yo()&&this.ds()};m.l=function(){this.jk&&this.Mr()};m.Gp=function(a){a.Hl!=i&&(a=a.Hl.P(Ya),a!=i&&a.disable())};m.yp=function(){this.enable()};m.ds=function(){this.nk=this.mk=0;this.jk=h;this.Od.Ak(this);this.Od.ls(this)};
m.tf=function(a,b,c,g){if(this.ps&&("Left"==this.Sp&&(0==c||1==c)||"Right"==this.Sp&&(2==c||g.ctrlKey)))this.Ch=c,this.mk=a,this.nk=-b,this.Od.jg(this),this.Od.ks(this)};m.uf=function(a,b,c){c===this.Ch&&(this.Ch=i,this.Od.$g(this),this.Od.bm(this))};m.Dp=function(a,b){var b=-b,c=a-this.mk,g=b-this.nk,e=L.gb().da.Zd(this.a.sa),c=c/e.Jd,g=g/e.Kd;this.a.transform.translate(-c,-g);this.mk=a;this.nk=b};
m.Fp=function(a,b,c){this.rs&&(a=L.gb().da.Zd(this.a.sa),c*=0.5*(a.Jd+a.Kd),a=Math.min(Math.max(this.a.transform.scale.x+c*this.pr,this.tp),this.pp),c=Math.min(Math.max(this.a.transform.scale.y+c*this.pr,this.tp),this.pp),this.a.transform.Ef(a,c,1))};m.Mr=function(){this.jk=k;this.Ch=i;this.Od.bc(this)};m.g=function(){return{enabled:k,rs:k,ps:h,Sp:{type:"enum",r:["Left","Right"],value:"Left"},pr:0.028,tp:0.0666667,pp:15}};Ya.tq=function(){return["RPJS_Component_Camera"]};H("RPJS_Component_Camera_Tracker");function Ra(){F.apply(this,arguments)}n.N(Ra,F);n.o("RPJS_Component_Collider",Ra);m=Ra.prototype;m.f=function(){rpjs.game.instance.ce==i&&(console.error("Collision manager must have been created before colliders can be used"),z("Collision manager must have been created before colliders can be used"));this.nc=[];this.cd=this.cd!=f?this.cd:k;this.eb=this.eb!=f?this.eb:k;this.me=0;for(var a=this.constructor.H;a;)this.me++,a=a.constructor.H};m.k=function(){rpjs.editor.isEditing||rpjs.game.instance.ce.gs(this)};
m.l=function(a){if(!rpjs.editor.isEditing){var b=rpjs.game.instance.ce;b&&(a?b.gq(this):b.cx(this))}};m.ca=function(){this.a.ea(this.a.Ea,this)&&(this.a.Ea=this)};m.aa=function(){delete this.a.Ea};m.Kx=function(){this.cd=h};m.Ax=function(){this.eb=h};m.HA=B("Q");m.Jx=function(a){this.Q=a;this.a.Ve()};m.kB=function(){return 0<this.nc.length};m.lB=function(a){return-1!=ua(this.nc,a)};m.Tn=function(a){this.nc.push(a.La);this.a.ka(rpjs.event.e.Ea.Xc,a)};m.sj=function(a){this.a.ka(rpjs.event.e.Ea.Np,a)};
m.Vh=function(a){for(var b=this.nc,c=0;c<b.length;c++)if(b[c]===a){b[c]=b[b.length-1];b.pop();break}this.a.ka(rpjs.event.e.Ea.Vv,a)};m.xg=function(a){var b=this.a.transform,c=a.a.transform,g=c.position.x-b.position.x,e=c.position.y-b.position.y,a=this.Q*b.Ga+a.Q*c.Ga;return g*g+e*e<a*a};m.xo=function(a){var b=Math.sqrt(Math.random()),c=2*Math.random()*Math.PI,b=new R(b*Math.cos(c)*this.Q,b*Math.sin(c)*this.Q,0);return a?b:b.add(this.a.transform.position)};m.vA=B("me");
m.ke=function(a){a.x=this.Q*this.a.transform.Ga;a.y=this.Q*this.a.transform.Ga};m.Ti=function(){this.disable();this.enable()};
m.wc=function(a){var b=L.gb(),c=Math.max(1-(1-b.transform.scale.x)*this.a.v.ia,0),g=Math.max(1-(1-b.transform.scale.y)*this.a.v.ia,0),e={};this.ke(e);b=e.x*c;g*=e.y;c=b>=g?b:g;0<b&&0<g&&(b=rpjs.game.instance.wa.getContext(),b.save(),b.strokeStyle=this.a.xl()?"green":"darkgreen",b.lineWidth=1,b.globalAlpha=0.8,b.shadowBlur=0,b.shadowColor="black",g=Math.round(a.x),a=Math.round(a.y),b.beginPath(),b.arc(g-0.5,a-0.5,Math.round(c),0,2*Math.PI,h),b.closePath(),b.stroke(),b.restore())};
m.Nb=function(a){"radius"==a.fieldName&&this.a.Ve()};m.g=function(){return{Q:50,Ze:{type:"array",r:{type:"tag"}},Ye:{type:"array",r:{type:"worldLayer"}},yl:k}};Ra.af=function(a,b){return{$b:M.Rk(a.a.transform.position,b.a.transform.position).normalize(),Tg:a.Q*a.a.transform.Ga,Ue:a.Q*a.a.transform.Ga+b.Q*b.a.transform.Ga-M.Yn(a.a.transform.position,b.a.transform.position)}};
Ra.Ls=function(a,b){if(0==a.Ze.length&&0==a.Ye.length&&0==b.Ze.length&&0==b.Ye.length)return h;for(var c=0;c<a.Ze.length;c++){var g=a.Ze[c];if(b.a.Za==g)return k}for(c=0;c<b.Ze.length;c++)if(g=b.Ze[c],a.a.Za==g)return k;for(c=0;c<a.Ye.length;c++)if(g=a.Ye[c],b.a.sa==g)return k;for(c=0;c<b.Ye.length;c++)if(g=b.Ye[c],a.a.sa==g)return k;return h};Ra.xd=ba(h);H("RPJS_Component_Collider");function Za(){Ra.apply(this,arguments)}n.N(Za,Ra);n.o("RPJS_Component_Collider_Box",Za);m=Za.prototype;m.f=function(){Za.H.f.call(this);this.setSize(this.z)};m.setSize=function(a){this.z=a.clone();this.Sj()};m.Sj=function(){var a=Math.max(this.z.x,this.z.y);this.Jx(1.4142136*a)};
m.xg=function(a){if(!this.constructor.H.xg.call(this,a))return k;var b=this.a.transform,c=a.a.transform,g=b.position.x,e=b.position.y,d=c.position.x,j=c.position.y,l=Math.abs(b.scale.x),b=Math.abs(b.scale.y),q=Math.abs(c.scale.x),w=Math.abs(c.scale.y);return a instanceof Za?!(g-this.z.x*l>d+a.z.x*q||g+this.z.x*l<d-a.z.x*q||e-this.z.y*b>j+a.z.y*w||e+this.z.y*b<j-a.z.y*w):!(g-this.z.x*l>d+a.Q*c.Ga||g+this.z.x*l<d-a.Q*c.Ga||e-this.z.y*b>j+a.Q*c.Ga||e+this.z.y*b<j-a.Q*c.Ga)};
m.xo=function(a){var b=new R(Math.random()-0.5,Math.random()-0.5,0);b.x*=2*this.z.x;b.y*=2*this.z.y;return a?b:b.add(this.a.transform.position)};m.ke=function(a){a.x=this.z.x*Math.abs(this.a.transform.scale.x);a.y=this.z.y*Math.abs(this.a.transform.scale.y)};m.Nb=function(a){"dimensions"==a.fieldName&&this.Sj()};
m.wc=function(a){var b=L.gb(),c=Math.max(1-(1-b.transform.scale.x)*this.a.v.ia,0),b=Math.max(1-(1-b.transform.scale.y)*this.a.v.ia,0),g={};this.ke(g);c*=g.x;b*=g.y;if(0<c&&0<b){g=rpjs.game.instance.wa.getContext();g.save();g.strokeStyle=this.a.xl()?"green":"darkgreen";g.lineWidth=1;g.globalAlpha=0.8;g.shadowBlur=0;g.shadowColor="black";var e=Math.round(-c),d=Math.round(-b);g.translate(Math.round(a.x),Math.round(a.y));g.rotate(this.a.transform.rotation.b);g.strokeRect(e-0.5,d-0.5,Math.round(2*c),Math.round(2*
b));g.restore()}};m.g=function(){return{z:{type:"RPJS_Vector2",value:{x:100,y:100}},Q:0}};
Za.af=function(a,b){var c={},g=a.a.transform.position.x,e=a.a.transform.position.y,d=b.a.transform.position.x,j=b.a.transform.position.y;a instanceof Za&&b instanceof Za?(c=Math.abs(g-a.z.x*a.a.transform.scale.x-(d+b.z.x*b.a.transform.scale.x)),g=Math.abs(g+a.z.x*a.a.transform.scale.x-(d-b.z.x*b.a.transform.scale.x)),d=Math.abs(e+a.z.y*a.a.transform.scale.y-(j-b.z.y*b.a.transform.scale.y)),e=Math.abs(e-a.z.y*a.a.transform.scale.y-(j+b.z.y*b.a.transform.scale.y))):a instanceof Za?(c=Math.abs(g-a.z.x*
a.a.transform.scale.x-(d+b.Q*b.a.transform.Ga)),g=Math.abs(g+a.z.x*a.a.transform.scale.x-(d-b.Q*b.a.transform.Ga)),d=Math.abs(e+a.z.y*a.a.transform.scale.y-(j-b.Q*b.a.transform.Ga)),e=Math.abs(e-a.z.y*a.a.transform.scale.y-(j+b.Q*b.a.transform.Ga))):(c=Math.abs(g-a.Q*a.a.transform.Ga-(d+b.z.x*b.a.transform.scale.x)),g=Math.abs(g+a.Q*a.a.transform.Ga-(d-b.z.x*b.a.transform.scale.x)),d=Math.abs(e+a.Q*a.a.transform.Ga-(j-b.z.y*b.a.transform.scale.y)),e=Math.abs(e-a.Q*a.a.transform.Ga-(j+b.z.y*b.a.transform.scale.y)));
j=Math.min(c,Math.min(g,Math.min(d,e)));return c=j==c?{$b:M.Uf,Tg:(a instanceof Za?a.z.x:a.Q)*a.a.transform.scale.x,Ue:j}:j==g?{$b:M.Mm,Tg:(a instanceof Za?a.z.x:a.Q)*a.a.transform.scale.x,Ue:j}:j==e?{$b:M.uh,Tg:(a instanceof Za?a.z.y:a.Q)*a.a.transform.scale.y,Ue:j}:{$b:M.Km,Tg:(a instanceof Za?a.z.y:a.Q)*a.a.transform.scale.y,Ue:j}};H("RPJS_Component_Collider_Box");function $a(){Ra.apply(this,arguments)}n.N($a,Ra);n.o("RPJS_Component_Collider_TileGrid",$a);m=$a.prototype;m.f=function(){this.a.xb?($a.H.f.call(this),this.me=1E4,this.eb=k):(console.error("RPJS_Component_Collider_TileGrid requires a tilegrid in the same actor. Destroying collider."),this.K())};m.k=function(){this.Q=1.4142136*Math.max(this.a.xb.G,this.a.xb.D);$a.H.k.call(this)};
m.xg=function(a){if(!this.constructor.H.xg.call(this,a))return k;var b;a.Wf&&(b=a.Wf[this.a.tc]);b||(b={re:{x:Number.MAX_VALUE,y:Number.MAX_VALUE},qe:{x:Number.MAX_VALUE,y:Number.MAX_VALUE},Jg:a.eb?[]:i},a.Wf||(a.Wf={}),a.Wf[this.a.tc]=b);var c,g;a instanceof Za?(c=a.z.x,g=a.z.y):g=c=a.Q;var e=b.re.x,d=b.re.y;this.a.xb.zj(a.a.transform.position.x-c,a.a.transform.position.y+g,b.re);var j=b.qe.x,l=b.qe.y;this.a.xb.zj(a.a.transform.position.x+c,a.a.transform.position.y-g,b.qe);a=k;if(e!=b.re.x||d!=b.re.y||
j!=b.qe.x||l!=b.qe.y){b.Jg&&(b.Jg.length=0);for(e=b.re.y;e<=b.qe.y;e++)for(d=b.re.x;d<=b.qe.x;d++)j=this.a.xb.Tt(d,e),j!==f&&(j!==i&&""!==j)&&this.a.xb.Co(j).Rs==this.hy&&(a=h,b.Jg&&b.Jg.push({x:d,y:e}))}return a};m.xo=function(a){var b=new R(Math.random()-0.5,Math.random()-0.5,0);b.x*=this.a.xb.G;b.y*=this.a.xb.D;return a?b:b.add(this.a.transform.position)};m.ke=function(a){a.x=this.a.xb.G*this.a.transform.scale.x;a.y=this.a.xb.D*this.a.transform.scale.y};
m.Nb=function(a){"dimensions"==a.fieldName&&this.Sj()};m.wc=A();m.g=function(){return{Q:0,hy:1}};$a.af=function(a,b){var c={$b:M.Cb,Tg:0,Ue:0,iy:i};c.iy=(!(a instanceof $a)?a:b).Wf[(a instanceof $a?a:b).a.tc].Jg;return c};H("RPJS_Component_Collider_TileGrid");function ab(){F.apply(this,arguments)}n.N(ab,F);n.o("RPJS_Component_RigidBody",ab);m=ab.prototype;m.f=function(){this.a.Ea&&(this.a.Ea.Ax(),this.a.Ea.Kx());this.Vi=i};m.ca=function(){this.a.ea(this.a.Ob,this)&&(this.a.Ob=this)};m.aa=function(){delete this.a.Ob};
m.Ou=function(){if(this.a.Ea){var a=this.Yx/rpjs.game.instance.timing.Ma.ab;if(this.zn)var b=this.Vi?this.Vi:rpjs.game.settings.gravity,a=a+Math.sqrt(b.x*b.x+b.y*b.y)/rpjs.game.instance.timing.Ma.ab;if(this.a.Ea&&this.ba.Wc()<=a*a)for(a=0;a<this.a.Ea.nc.length;a++)if(!this.a.Ea.nc[a].yl)return h}return k};
m.sf=function(){if(!this.Ou()){if(this.zn){var a=this.Vi?this.Vi:rpjs.game.settings.gravity;this.ba.x+=a.x/rpjs.game.instance.timing.Ma.ab;this.ba.y+=a.y/rpjs.game.instance.timing.Ma.ab}0!=this.al&&(this.ba.x*=1-this.al,this.ba.y*=1-this.al);this.ba.kf()||(a=50/rpjs.game.instance.timing.Ma.ab,a*=rpjs.game.instance.xj,this.a.transform.translate(this.ba.x*a,this.ba.y*a,this.ba.b*a,h))}};m.az=function(a){var b=1/this.uv;this.ba.x+=b*a.x;this.ba.y+=b*a.y};m.Sd=function(a){this.ba.x+=a.x;this.ba.y+=a.y};
m.Xc=function(a){if(a&&a.$b!==f&&!a.La.yl&&(!this.rq||a.La.Ob))this.Vp(a),this.Jn&&this.it(a)};m.Np=function(a){a&&a.$b!==f&&(a.La.yl||(!this.rq||a.La.Ob)&&this.Vp(a))};m.it=function(a){if(this.Jn&&!this.ba.kf()&&!a.$b.kf()){var b=this.ba,a=R.Zp(b,a.$b),c=(b.y-a.y)*this.Sn-a.y*this.Rn;this.ba.x=(b.x-a.x)*this.Sn-a.x*this.Rn;this.ba.y=c}};m.Vp=function(a){if(!this.ba.kf()){var b=a.Ue;0<b&&this.a.transform.translate(a.$b.x*b,a.$b.y*b,0)}};
m.g=function(){return{ba:{type:"RPJS_Vector3"},al:0.2,Sn:1,Rn:1,uv:1,Yx:8,zn:h,Jn:h,rq:k}};H("RPJS_Component_RigidBody");function bb(){La.apply(this,arguments)}n.N(bb,La);n.o("RPJS_Component_IHTML",bb);m=bb.prototype;m.f=function(){this.ii=h;bb.H.f.call(this);this.Xk=h;this.mp=k;this.Ck="visibility: hidden; "+this.Ck;this.Dn||(this.a.Ud=k)};m.k=function(){bb.H.k.call(this);for(var a=0;a<this.sq.length;a++){var b=this.sq[a];0==$(b,this.i).length&&z(Error("The required element "+b+" does not exist in the html component"))}};
m.xc=function(){this.i[0].style.visibility="hidden";RPJS_Loader.addClass(this.i[0],"rpjsIHTMLComponent");this.Pk=h};m.Us=function(){this.Pk=h};m.bC=function(){this.Us()};m.Hz=A();m.mg=function(){if(this.Dn)return this.Pk&&this.wr(),bb.H.mg.call(this)};
m.wr=function(){this.Pk=k;this.jc&&(this.i[0].style.display="block",this.jc=k);for(var a=0,b=0,c=0,g=0,e=this.i.children(),d=0;d<e.length;d++){var j=e[d],l=j.offsetLeft,q=j.offsetTop,w=j.offsetWidth,t=j.offsetHeight;l<a&&(a=l);q<b&&(b=q);l+w>c&&(c=l+w);q+t>g&&(g=q+t);j.setAttribute("rpjsOldWidth",w);j.setAttribute("rpjsOldHeight",t)}this.G=c-a;this.D=g-b;this.ta.x=0.5*this.G;this.ta.y=0.5*this.D;this.i[0].style.width=this.G+"px";this.i[0].style.height=this.D+"px";for(d=0;d<e.length;d++)j=e[d],w=j.offsetWidth,
t=j.getAttribute("rpjsOldWidth"),w!=t&&(j.style.width="inherit"),j.removeAttribute("rpjsOldWidth"),t=j.offsetHeight,w=j.getAttribute("rpjsOldHeight"),t!=w&&(j.style.height="inherit"),j.removeAttribute("rpjsOldHeight");this.Aa|=K.S.nd};m.gh=function(a){a!=this.bd&&(this.bd=a,this.ya()&&(!this.jc&&this.i)&&this.yf("display",a?"none":"block"))};m.Nb=function(){this.qd()};m.g=function(){return{sq:{type:"array",r:{type:"string"},value:[]},Dn:k}};function Ka(){bb.apply(this,arguments)}n.N(Ka,bb);n.o("RPJS_Component_HTML",Ka);m=Ka.prototype;m.ca=function(){this.a.ea(this.a.html,this)&&(this.a.html=this)};m.aa=function(){delete this.a.html};m.f=function(){this.$h=i;if(this.css){var a=this.Vl?rpjs.game.instance.If:rpjs.game.instance.ie;if(!this.Rc||0==a.find("#_unique_"+this.Rc).length){var b=this.css.replace(/&lt;/g,"<").replace(/&gt;/g,">");this.$h=$('<style type="text/css" '+(this.Rc?'id="_unique_'+this.Rc+'"':"")+">"+b+"</style>");a.append(this.$h)}}Ka.H.f.call(this)};
m.xc=function(){Ka.H.xc.call(this);if(this.html){var a=this.html.replace(/&lt;/g,"<").replace(/&gt;/g,">"),a=$(a);if(!rpjs.editor.isEditing&&(this.ad||this.pq&&rpjs.info.touchDevice||this.Jo))for(var b={ad:this.ad,fj:this.pq,ff:this.Jo},c=0;c<a.length;c++)new Pa(a[c],b);this.i.append(a)}};m.l=function(a){!this.Rc&&this.$h&&this.$h.remove();Ka.H.l.call(this,a)};
m.Nb=function(a){if("css"==a.fieldName){if(this.Rc){var b=this.Vl?rpjs.game.instance.If:rpjs.game.instance.ie,a=b.find("#_unique_"+this.Rc);a.remove()}}else"cssIdentifier"==a.fieldName?a.oldValue&&(b=this.Vl?rpjs.game.instance.If:rpjs.game.instance.ie,a=b.find("#_unique_"+a.oldValue),a.remove()):"persistCssBetweenScenes"==a.fieldName&&this.Rc&&(b=a.oldValue?rpjs.game.instance.If:rpjs.game.instance.ie,a=b.find("#_unique_"+this.Rc),a.remove());this.qd()};
m.g=function(){return{html:{type:"text"},css:{type:"text"},Rc:"",Vl:h,ad:k,pq:k,Jo:k}};H("RPJS_Component_HTML");function cb(){bb.apply(this,arguments)}n.N(cb,bb);n.o("RPJS_Component_Video",cb);m=cb.prototype;m.k=function(){this.G=Math.floor(this.width);this.D=Math.floor(this.height);this.ak=k;this.Dh=f;cb.H.k.call(this)};
m.xc=function(){cb.H.xc.call(this);var a=this;RPJS_Loader.addClass(this.i[0],"rpjsVideoComponent");this.Ia=$("<video></video>");this.ye=i;this.controls&&this.Ia.attr("controls","controls");this.autoplay&&this.Ia.attr("autoplay","autoplay");this.Ia.attr("preload",this.rb);this.loop&&this.Ia.attr("loop","loop");0<this.G&&0<this.D&&this.Ia.attr({width:this.G,height:this.D});var b="";rpjs.editor.isEditing||(b=0<this.er.length?this.er:this.qt);var c=this.Wp?this.Wp.url:this.Pw;this.Ia.attr("src",b);0<
c.length&&this.Ia.attr("poster",c);0<b.length&&(b=$('<a href="'+b+'"></a>'),0<c.length&&b.append('<img src="'+c+'"></img>'),this.Ia.append(b));this.Ia[0].addEventListener("loadedmetadata",function(){a.lu();a.ak=h;a.a.Cf(rpjs.event.e.media.hw,a);if(a.Dh!==f){var b=a.Dh;a.Dh=f;try{a.Kq(b)}catch(c){}}},k);this.Ia[0].addEventListener("ended",function(){rpjs.game.instance.R(rpjs.event.e.media.gw,a)},k);this.Ia[0].addEventListener("webkitfullscreenchange",function(){a.Jw&&a.Mu()&&a.pause();rpjs.game.instance.R(rpjs.event.e.media.$v,
a)},k);this.i.append(this.Ia)};m.ca=function(){this.a.ea(this.a.dr,this)&&(this.a.dr=this)};m.aa=function(){delete this.a.dr};m.play=function(){this.ak||this.Oq();this.Ia[0].play()};m.pause=function(){this.Ia[0].pause()};m.Kb=function(){return this.Ia[0].paused};m.MC=function(a){var b=this.Kb();b?(this.play(),a&&this.Kq(h)):this.pause();return b};m.mC=function(a){this.Ia[0].controls=a};m.aB=B("ak");m.Ms=function(){return this.Ia[0].webkitSupportsFullscreen};m.Mu=function(){return this.Ia[0].webkitDisplayingFullscreen};
m.Kq=function(a){a=a!=f?a:h;this.Ms()?a?this.Ia[0].webkitEnterFullScreen():this.Ia[0].webkitExitFullScreen():this.Dh=a};m.Oq=function(){if(!this.ye&&this.gp){this.ye=$('<div id="rpjsVideoSpinner" style="width: '+this.G+"px; height: "+this.D+'px; left: 0px; top: 0px;"></div>');var a=$("<div style=\"background-image: url('"+this.gp.url+"'); width: 16px; height: 16px; left: "+Math.round(0.5*this.G-8)+"px; top: "+Math.round(0.5*this.D-8)+'px;"></div>');this.ye.append(a);this.i.append(this.ye)}};
m.lu=function(){this.ye&&(this.ye.remove(),this.ye=i)};m.g=function(){return{er:{type:"video"},qt:"",Wp:{type:"image"},Pw:"",controls:h,autoplay:k,Jw:h,rb:{type:"enum",r:{BB:"none",yB:"metadata",hz:"auto"},value:"none"},gp:{type:"image"},loop:k,width:320,height:180}};H("RPJS_Component_Video");function db(){F.apply(this,arguments)}n.N(db,F);n.o("RPJS_Component_PathFinder",db);m=db.prototype;m.f=function(){this.hh(f,f,i)};m.hh=function(a,b,c){a!=f&&(this.Bd=a);b!=f&&(this.of=b);this.Mf=Array(this.Bd*this.of);if(c==i)for(a=0;a<this.Bd*this.of;a++)this.Mf[a]=this.Go;else{c.length!=this.Mf.length&&z(Error("Invalid map tile array size"));for(a=0;a<this.Bd*this.of;a++)this.Mf[a]=c[a]}};m.ca=function(){this.a.ea(this.a.Up,this)&&(this.a.Up=this)};m.aa=function(){delete this.a.Up};
m.vC=function(a,b,c){this.Mf[a+b*this.Bd]=c};m.wC=function(a,b){this.Mf[a]=b};
m.DA=function(a,b,c,g){function e(a,b,c){this.x=a;this.y=b;this.parent=c;this.Qk=this.td=this.Xh=0}if(0>c||0>g||c>=this.Bd||g>=this.of)return i;var d=[],j=[],l=this;d.push(new e(a,b,i));a:{for(;;){if(0==d.length){a=i;break a}a=-1;for(b=0;b<d.length;b++)if(-1==a||d[b].Xh<=d[a].Xh)a=b;var q=d[a];if(q.x==c&&q.y==g){a=q;break a}b=d;b[a]=b[b.length-1];b.pop();j.push(q);a=function(a,b){if(!(0>a||0>b||a>=this.Bd||b>=this.of)){var E=l.Mf[a+b*l.Bd];if(!(0>E)){for(var N=0;N<j.length;N++)if(j[N].x==a&&j[N].y==
b)return;for(var P=-1,N=0;N<d.length;N++)if(d[N].x==a&&d[N].y==b){P=N;break}-1==P?(N=new e(a,b,q),N.td=q.td+E,N.Qk=(Math.abs(c-a)+Math.abs(g-b))*l.Go,N.Xh=N.td+N.Qk,d.push(N)):q.td+E<d[P].td&&(P[P].parent=q,P[P].td=q.td+E,P[P].Xh=P[P].td+P[P].Qk)}}};a(q.x+1,q.y);a(q.x-1,q.y);a(q.x,q.y+1);a(q.x,q.y-1)}a=f}if(a==i)return i;for(b=[];a!=i;)b.push(new M(a.x,a.y)),a=a.parent;return b};m.g=function(){return{Bd:0,of:0,Go:0.5}};H("RPJS_Component_PathFinder");function eb(){F.apply(this,arguments)}n.N(eb,F);n.o("RPJS_Component_Reflection",eb);m=eb.prototype;m.f=function(){this.Wj(h)};m.k=function(){this.Wj(h)};m.l=function(){this.Wj(k)};
m.Wj=function(a){if(a!=this.Vw){if(a)for(var b=0;b<this.cj.length;b++){var c=this.cj[b];if(c.Pa in window){var g=this.a.P(window[c.Pa]);g?rpjs.remoteCalls.ax(c.Ww,c.ij,c.tt,c.zi,c.hj,g):console.error("No component of type"+c.Pa+" exists in actor "+this.a.name+" (asset id "+this.a.tc+") when registering paired reflection")}else console.error("Invalid component of type "+c.Pa+" specified for paired reflection in actor "+this.a.name+" (asset id "+this.a.tc+")")}else for(b=0;b<this.cj.length;b++)c=this.cj[b],
c.Pa in window&&(g=this.a.P(window[c.Pa]))&&rpjs.remoteCalls.ry(g);this.Vw=a}};m.g=function(){return{cj:{type:"array",r:{type:"object",r:{Pa:{type:"componentType"},Ww:{type:"enum",r:Q.Ge,value:"None"},tt:{type:"array",r:{type:"componentProperty"}},zi:k,ij:{type:"enum",r:Q.Jj,value:"OnlyIfChanged"},hj:k}}}}};H("RPJS_Component_Reflection");function fb(){F.apply(this,arguments)}n.N(fb,F);n.o("RPJS_Component_AudioListener",fb);m=fb.prototype;m.f=function(){this.pk=new M};m.k=function(){fb.gm++;1<fb.gm&&console.error("Only one audio listener can be enabled at a time!")};m.l=function(){fb.gm--;for(var a=gb.Ed,b=0;b<a.length;b++){var c=a[b];c.$i&&(c.setVolume(0),c.setPan(0))}};m.ca=function(){this.a.ea(this.a.Gn,this)&&(this.a.Gn=this)};m.aa=function(){delete this.a.Gn};
m.$c=function(){for(var a=gb.Ed,b=0;b<a.length;b++){var c=a[b];if(c.$i){var g=c.volume;this.pk.Jq(c.a.transform.position,this.a.transform.position);var e=this.pk.Wc();if(e<this.hl*this.hl+c.Xl*c.Xl)if(0!=e){var e=Math.sqrt(e),d;d=1;var j=e/(this.hl+c.Xl);switch(c.Ow){case "binary":d=1;break;case "linear":d=1-j;break;case "exponential":d=1-j*j;break;case "logarithmic":d=1-0.5*j}c.setVolume(c.volume*d*this.Yt);c.setPan(this.pk.ei(M.Uf)/e*(1-d))}else c.setVolume(1),c.setPan(0);else c.setVolume(0),c.setPan(0);
c.volume=g}}};m.g=function(){return{hl:1E3,Yt:1}};fb.gm=0;H("RPJS_Component_AudioListener");function gb(){F.apply(this,arguments)}n.N(gb,F);n.o("RPJS_Component_AudioSource",gb);m=gb.prototype;m.f=function(){this.Lw&&(this.a.wg=h);this.Hn&&this.lk()};m.k=function(){this.Hn&&this.lk()};m.ca=function(){this.a.ea(this.a.Ph,this)&&(this.a.Ph=this)};m.aa=function(){delete this.a.Ph};m.Rt=function(){return!this.xp||"PhoneGap"!=rpjs.info.buildTarget?this.Zx:this.xp};
m.Rj=function(){RPJS_Loader.removeElemCyclic(gb.Ed,this);if(!this.I){switch(this.zy){case "destroyActor":this.a.I||this.a.K();break;case "disableAudioSourceComponent":this.enabled&&this.disable()}this.a.ka(rpjs.event.e.Ph.Ov,this)}};
m.lk=function(){if(!this.p)if(!rpjs.info.touchDevice||"PhoneGap"==rpjs.info.buildTarget||this.Gw||0==O.Ya.length){var a=this.Rt();if(a){var b=this;(this.p=rpjs.game.instance.X.Xa(a,k,this.tj,this.Ng,this.$i?0:this.volume,this.$i?0:this.Vg,f,function(){b.Rj()},function(){b.Rj()}))&&gb.Ed.push(this)}}else this.Rj()};m.l=function(){if(this.p){RPJS_Loader.removeElemCyclic(gb.Ed,this);var a=this.p;this.p=i;a.destruct()}};
m.play=function(){this.p?(-1==RPJS_Loader.getIndexOf(gb.Ed,this)&&gb.Ed.push(this),this.p.play()):this.lk()};m.stop=function(){this.p&&(RPJS_Loader.removeElemCyclic(gb.Ed,this),this.p.stop())};m.pause=function(){this.p&&this.p.pause()};m.resume=function(){this.p&&this.p.resume()};m.togglePause=function(){this.p&&this.p.togglePause()};m.mute=function(){this.p&&this.p.mute()};m.unmute=function(){this.p&&this.p.unmute()};m.toggleMute=function(){this.p&&this.p.toggleMute()};
m.setVolume=function(a){this.volume=a;this.p&&this.p.setVolume(Math.floor(100*a))};m.setPosition=function(a){this.p&&this.p.setPosition(Math.floor(1E3*a))};m.setPan=function(a){this.Vg=a;this.p&&this.p.setPan(Math.floor(100*a))};
m.g=function(){return{Zx:{type:"sound"},xp:{type:"sound"},Gw:k,zy:{type:"enum",r:{Jz:"destroyActor",Oz:"disableAudioSourceComponent",Qz:"doNothing"},value:"disableAudioSourceComponent"},Lw:k,Hn:h,volume:0.9,Vg:0,tj:h,Ng:1,$i:k,Xl:500,Ow:{type:"enum",r:{rB:"linear",jz:"binary",Sz:"exponential",vB:"logarithmic"},value:"linear"}}};gb.Ed=[];H("RPJS_Component_AudioSource");function V(){La.apply(this,arguments)}n.N(V,La);n.o("RPJS_Component_ITileGrid",V);m=V.prototype;m.f=function(){V.H.f.call(this);this.Of={};this.Nf={};this.wj={}};
m.xc=function(){this.ky=this.F.x*this.F.y;switch(this.Dd){case V.Db.qh:this.G=this.F.x*this.L.x;this.D=this.F.y*this.L.y;this.zd={x:sa(this.L.x,2),y:sa(this.L.y,2)};break;case V.Db.Ld:1==(this.L.x&1)&&(console.error("Invalid tile dimensions in tile grid. Tile width must be even when using isometric rendering, forcing it. Currently: "+this.L.x+"x"+this.L.y),this.L.x--),0==(this.L.y&1)&&(console.error("Invalid tile dimensions in tile grid. Tile height must be odd when using isometric rendering, forcing it. Currently: "+
this.L.x+"x"+this.L.y),this.L.y--),2!=this.L.x/(this.L.y+1)&&console.error("Invalid tile dimensions in tile grid. Tile dimensions must have a ratio of 2:1(-1), for example 120x59, when using isometric rendering. Currently: "+this.L.x+"x"+this.L.y),this.zd={x:sa(this.L.x,2),y:sa(this.L.y,2)},0<this.F.x&&0<this.F.y?(this.G=(this.F.x+this.F.y)*this.zd.x,this.D=(this.F.x+this.F.y)*(this.zd.y+1)-1):this.D=this.G=0}this.ta.x=0.5*this.G;this.ta.y=0.5*this.D;this.av();this.$u();for(var a=0;a<this.So.length;a++){var b=
this.So[a];b.uj&&this.kj(b.x,b.y,b.uj);b.Nf&&this.Px(b.x,b.y,b.Nf)}};m.ca=function(){this.a.ea(this.a.xb,this)&&(this.a.xb=this)};m.aa=function(){delete this.a.xb};m.kj=function(a,b,c,g){if(c===i||c===f)c="";var e=a+b*this.F.x,d=this.Of[e];if(d===i||d===f)d="";if(0===c&&""===d||""===c&&0===d)g=h;if(c!=d||g)this.Of[e]=c,this.Oj(a,b,e,c)};m.Oj=A();m.Tt=function(a,b){return this.Of[a+b*this.F.x]};m.Px=function(a,b,c){this.Nf[a+b*this.F.x]=c};m.TA=function(a,b){return this.Nf[a+b*this.F.x]};m.Co=function(a){return this.wj[a]};
m.Qx=function(a){if(RPJS_Loader.isObjectArray(a))for(var b=0;b<a.length;b++){var c=a[b],g=b%this.F.x,e=sa(b,this.F.x);this.kj(g,e,c,h)}else for(b in a)g=b%this.F.x,e=sa(b,this.F.x),c=a[b],this.kj(g,e,c,h)};m.xC=function(a){for(var b=0;b<this.F.x*this.F.y;b++)this.Nf[b]=a[b]};
m.av=function(){if(this.zl)for(var a=this,b=function(){a.jy++},c=this.jy=0;c<this.ih.length;c++){var g=this.ih[c];g.fa&&(g.yi=new Image,g.yi.onload=b,g.yi.src=g.fa.url)}this.wj={};for(c=0;c<this.ih.length;c++)this.wj[this.ih[c].uj]=this.ih[c];this.Qx(this.Of)};
m.$u=function(){this.Ae=i;if(this.vj){var a=this;this.Be=new Image;this.Be.onload=function(){var b=a.Be;a.Ae={x:Math.floor(b.width/a.$a.x),y:Math.floor(b.height/a.$a.y)};a.zl||(a.Be=f);for(b=0;b<a.ky;b++)a.Oj(b%a.F.x,sa(b,a.F.x),b,a.Of[b])};this.Be.src=this.vj.url}else this.Be=f};m.lC=function(a){for(var b=0;b<this.F.y;b++)for(var c=0;c<this.F.x;c++)this.kj(c,b,a)};m.LC=function(a,b,c,g){a=this.dc(a,b,c,g);this.a.transform.Al(a,a);return a};
m.dc=function(a,b,c,g){a=this.bs(a,b,c);a.y=-a.y;a.x-=0.5*this.G;a.y+=0.5*this.D;this.Dd==V.Db.Ld&&(a.y-=0.5*this.L.y);g||(a.x+=0.5*this.L.x,this.Dd==V.Db.qh&&(a.y-=0.5*this.L.y));return a};m.bs=function(a,b,c){c=c||{};switch(this.Dd){case V.Db.qh:c.x=a*this.L.x;c.y=b*this.L.y;break;case V.Db.Ld:c.x=(b+a)*this.zd.x,c.y=(b-a)*(this.zd.y+1)+(this.F.x-1)*(this.zd.y+1)}return c};m.zj=function(a,b,c){a=this.a.transform.Gm(a,b,0,c);this.cv(a.x,a.y,a)};
m.cv=function(a,b,c){a+=0.5*this.G;b-=0.5*this.D;b=-b;this.Qr(a,b,c)};
m.Qr=function(a,b,c){c=c||{};a=Math.round(a);b=Math.round(b);switch(this.Dd){case V.Db.qh:c.x=sa(a,this.L.x);c.y=sa(b,this.L.y);break;case V.Db.Ld:var g=this.zd.y+1,e=this.F.x-1;0===(this.F.x&1)&&(b+=g,e++);b-=sa(b,this.L.y);c.x=sa(a,this.L.x);c.y=2*sa(b,this.L.y);a%=this.L.x;b=b%this.L.y-0.5*this.L.y;g=b+0.5*a;a=b-0.5*a;0>g?(c.x--,c.y--):0<a?(c.x--,c.y++):a<-this.L.y?c.y--:g>this.zd.x&&c.y++;c.x=-(c.y-e-2*c.x-(c.y&1))/2;c.y=c.y-e+c.x}};V.Db={qh:"Orthographic",Ld:"Isometric"};
V.prototype.g=function(){return{Dd:{type:"enum",r:V.Db,value:"Isometric"},F:{type:"RPJS_Vector2",value:{x:13,y:13}},L:{type:"RPJS_Vector2",value:{x:120,y:59}},$a:{type:"RPJS_Vector2",value:{x:128,y:73}},ih:{type:"array",r:{type:"object",r:{uj:"tileId",fa:{type:"image"},Am:0,Rs:0}}},So:{type:"array",r:{type:"object",r:{x:0,y:0,uj:"",Nf:{type:"any",value:i}}}},vj:{type:"image"}}};V.xd=ba(h);function hb(){V.apply(this,arguments)}n.N(hb,V);n.o("RPJS_Component_TileGrid_Small",hb);hb.prototype.f=function(){this.ii=h;this.zl=k;hb.H.f.call(this);this.zm=Array(this.F.x*this.F.y)};
hb.prototype.Oj=function(a,b,c,g){var e=this.zm[c];if(g){if((g=this.Co(g))&&(g.fa||this.vj&&this.Ae)){if(!e){var d={};this.dc(a,b,d,h);d.y=-d.y;d.x+=0.5*this.G;d.y+=0.5*this.D;d.x-=0.5*(this.$a.x-this.L.x);d.y-=0.5*(this.$a.y-this.L.y);e=$('<div style="'+("position: absolute;\t\t\t\t\t\toverflow: hidden;\t\t\t\t\t\tbackground-repeat: no-repeat;\t\t\t\t\t\twidth: "+this.$a.x+"px;\t\t\t\t\t\theight: "+this.$a.y+"px;")+'"></div>');rpjs.game.instance.w.mc(e[0],h);rpjs.game.instance.w.Oh(e[0],Math.round(d.x),
Math.round(d.y));e.appendTo(this.i);this.zm[c]=e}g.fa?(e[0].style.backgroundImage="url("+g.fa.url+")",e[0].backgroundPosition="0px 0px"):(e[0].style.backgroundImage="url("+this.vj.url+")",e[0].style.backgroundPosition=-(g.Am%this.Ae.x*this.$a.x)+"px "+-(sa(g.Am,this.Ae.x)*this.$a.y)+"px")}}else e&&(this.zm[c]=i,e.remove())};
V.prototype.wc=function(a){var b=L.gb();if(b&&b.da){var c=Math.max(1-(1-b.transform.scale.x)*this.a.v.ia,0),g=Math.max(1-(1-b.transform.scale.y)*this.a.v.ia,0),b=rpjs.game.instance.wa.getContext();b.save();b.lineWidth=1;b.strokeStyle="blue";b.globalAlpha=1;b.translate(Math.round(a.x),Math.round(a.y));0!=this.a.transform.rotation.b&&b.rotate(this.a.transform.rotation.b);(1!=this.a.transform.scale.x||1!=this.a.transform.scale.y||1!=c||1!=g)&&b.scale(this.a.transform.scale.x*c,this.a.transform.scale.y*
g);a={};c={};for(g=0;g<this.F.y+1;g++)this.dc(0,g,a,h),this.dc(this.F.x,g,c,h),a.y=-a.y,c.y=-c.y,b.beginPath(),b.moveTo(Math.round(a.x),Math.round(a.y)),b.lineTo(Math.round(c.x),Math.round(c.y)),b.closePath(),b.stroke();for(g=0;g<this.F.x+1;g++)this.dc(g,0,a,h),this.dc(g,this.F.y,c,h),a.y=-a.y,c.y=-c.y,b.beginPath(),b.moveTo(Math.round(a.x),Math.round(a.y)),b.lineTo(Math.round(c.x),Math.round(c.y)),b.closePath(),b.stroke();b.restore()}};H("RPJS_Component_TileGrid_Small");function ib(){V.apply(this,arguments)}n.N(ib,V);n.o("RPJS_Component_TileGrid_Large",ib);m=ib.prototype;m.f=function(){this.ii=k;this.zl=h;ib.H.f.call(this);this.dg=this.fg=0;this.vk={x:0,y:0};this.eg={position:R.Cb.clone(),rotation:R.Cb.clone(),scale:R.Gj.clone()};this.ya()&&(this.Xk=h,this.jo="canvas");this.ya()&&(this.a.Ud=h)};
m.xc=function(){ib.H.xc.call(this);if(this.ya())try{this.$d=this.i[0].getContext("2d")}catch(a){z(Error("RPJS_Component_TileGrid_Large requires canvas support!"))}else this.$d=rpjs.game.instance.w.getContext();this.Ri({width:rpjs.game.instance.Ka,height:rpjs.game.instance.Oa})};
m.Ri=function(a){this.qb>=F.bb.He&&(this.fg=a.width,this.dg=a.height,this.a.v.yb||(this.vk.x=0.5*this.fg,this.vk.y=0.5*this.dg),this.ya()&&(this.i[0].style.width=this.fg+"px",this.i[0].style.height=this.dg+"px",this.i.attr({width:this.fg,height:this.dg}),this.Aa=K.S.Bb))};
m.mg=function(){if(this.ya()&&!this.Eg){var a=L.gb();a&&(this.eg.position.x=a.transform.position.x*this.a.v.Pb,this.eg.position.y=a.transform.position.y*this.a.v.Pb,this.eg.scale.x=1/Math.max(1-(1-a.transform.scale.x)*this.a.v.ia,0),this.eg.scale.y=1/Math.max(1-(1-a.transform.scale.y)*this.a.v.ia,0));rpjs.game.instance.w.Fn(this.i[0],this.eg,this.fg,this.dg,this.vk,this.a.v,this.Aa,i)}};m.Rg=function(a){this.ya()&&a&&0!=this.a.v.ia&&this.Ff(k,K.S.nd|K.S.Md)};
m.Ti=function(){this.ya()&&(this.Aa=K.S.Bb,this.mg())};m.jb=function(a){this.constructor.H.constructor.H.jb.call(this,a);this.bd||this.ho(a,k)};m.wc=function(a){this.ho(a,h)};
m.ho=function(a,b){var c=L.gb();if(c&&a){var c=c.da,g=c.Zd(this.a.sa),e=Math.max(1-(1-c.a.transform.scale.x)*g.v.ia,0),d=Math.max(1-(1-c.a.transform.scale.y)*g.v.ia,0),j={},g={};c.kh(0,0,j,this.a.sa);this.zj(j.x,j.y,g);if(this.Dd==V.Db.Ld&&(0>g.x||0>g.y))g.x=0,g.y=0;g.x=Math.max(g.x,0);g.y=Math.max(g.y,0);var l={};c.kh(rpjs.game.instance.Ka,rpjs.game.instance.Oa,j,this.a.sa);this.zj(j.x,j.y,l);if(this.Dd==V.Db.Ld&&(l.x>=this.F.x||l.y>=this.F.y))l.x=this.F.x,l.y=this.F.y;l.x=Math.min(l.x+1,this.F.x);
l.y=Math.min(l.y+1,this.F.y);c=b?rpjs.game.instance.wa.getContext():this.$d;c.save();!b&&this.ya()&&c.clearRect(0,0,rpjs.game.instance.Ka,rpjs.game.instance.Oa);c.translate(Math.round(a.x),Math.round(a.y));0!=this.a.transform.rotation.b&&c.rotate(this.a.transform.rotation.b);(1!=this.a.transform.scale.x||1!=this.a.transform.scale.y||1!=e||1!=d)&&c.scale(this.a.transform.scale.x*e,this.a.transform.scale.y*d);j={x:0,y:0};if(b){c.globalAlpha=1;c.lineWidth=1;c.strokeStyle="blue";for(var j={},q={},e=g.y;e<
l.y+1;e++)this.dc(g.x,e,j,h),this.dc(l.x,e,q,h),j.y=-j.y,q.y=-q.y,c.beginPath(),c.moveTo(Math.round(j.x),Math.round(j.y)),c.lineTo(Math.round(q.x),Math.round(q.y)),c.closePath(),c.stroke();for(d=g.x;d<l.x+1;d++)this.dc(d,g.y,j,h),this.dc(d,l.y,q,h),j.y=-j.y,q.y=-q.y,c.beginPath(),c.moveTo(Math.round(j.x),Math.round(j.y)),c.lineTo(Math.round(q.x),Math.round(q.y)),c.closePath(),c.stroke()}else{var q=0.5*(this.L.x-this.$a.x),w=0.5*(this.L.y-this.$a.y);this.Dd==V.Db.Ld&&(w-=0.5*this.L.y);c.globalAlpha=
this.opacity;for(e=g.y;e<l.y;e++)for(d=g.x;d<l.x;d++){var t=this.Of[d+e*this.F.x];if(t!==f&&t!==i&&""!==t){var E=this.wj[t];E&&(this.dc(d,e,j,h),j.y=-j.y,j.x+=q,j.y+=w,E.fa?E.yi&&c.drawImage(E.yi,Math.round(j.x),Math.round(j.y)):this.Be&&this.Ae&&(E=E.Am,t!==f&&(t!==i&&""!==t)&&c.drawImage(this.Be,E%this.Ae.x*this.$a.x,Math.floor(E/this.Ae.x)*this.$a.y,this.$a.x,this.$a.y,Math.round(j.x),Math.round(j.y),this.$a.x,this.$a.y)))}}}c.restore()}};H("RPJS_Component_TileGrid_Large");function jb(){F.apply(this,arguments)}n.N(jb,F);n.o("RPJS_Component_ISpawner",jb);m=jb.prototype;m.f=function(){this.wb=[];this.ib=f;this.Ok=k;!this.um&&this.enabled&&(this.a.Ud=h)};m.ca=function(){this.a.ea(this.a.Tq,this)&&(this.a.Tq=this)};m.aa=function(){delete this.a.Tq};m.zp=function(a){this.Ok=!a};m.Gd=function(){this.ib=this.Ng;this.wb.length=0;for(var a=rpjs.info.isServer?this.$x:this.Id,b=0;b<a.length;b++){var c=a[b];this.wb.push({Ca:c,Qb:kb.Rm(c.Ro,c.Qo),xe:kb.vr(c.sp,c.np)})}};m.$c=function(a){this.wh(a)};
m.wh=function(a){if(this.ib!==f){for(var b=0;b<this.wb.length;b++){var c=this.wb[b];for(c.Qb-=a;0>=c.Qb&&0<c.xe;){if(1<=c.Ca.Nk||Math.random()<c.Ca.Nk){var g={position:this.Mj(c.Ca)};c.Ca.De&&(g.rotation=this.a.transform.rotation);if(rpjs.info.isServer&&c.Ca.Rp){g.Bk={Eu:this.a.ha};for(var e=0;e<c.Ca.cb.length;e++)I.Yh(c.Ca.cb[e],g,f,f,c.Ca.Nn)}else for(e=0;e<c.Ca.cb.length;e++)I.fb(c.Ca.cb[e],g)}c.xe--;c.Qb+=kb.Rm(c.Ca.ee,c.Ca.Wn)}0>=c.Qb&&0==c.xe&&(RPJS_Loader.removeCyclic(this.wb,b),b--)}0==this.wb.length&&
(0>=this.ib?this.Gd():(this.ib--,0<this.ib?(a=this.ib,this.Gd(),this.ib=a):this.Sk?this.a.K():this.disable()))}};m.Mj=function(a){return a.Ce?this.a.transform.position:R.Cb};
m.g=function(){return{Ng:1,Sk:h,um:h,Id:{type:"array",r:{type:"object",r:{Nk:1,cb:{type:"array",r:{type:"actor"}},sp:{type:"integer",value:1},np:{type:"integer",value:1},Ro:0,Qo:0,ee:0,Wn:0,Ce:h,De:h}}},$x:{type:"array",r:{type:"object",r:{Nk:1,cb:{type:"array",r:{type:"actor"}},sp:{type:"integer",value:1},np:{type:"integer",value:1},Ro:0,Qo:0,ee:0,Wn:0,Ce:h,De:h,Rp:h,Nn:h}}}}};jb.Rm=function(a,b){return a+Math.random()*(b-a)};jb.vr=function(a,b){return a+Math.round(Math.random()*(b-a))};function kb(){jb.apply(this,arguments)}n.N(kb,jb);n.o("RPJS_Component_Spawner",kb);kb.prototype.k=function(){this.Gd()};H("RPJS_Component_Spawner");function lb(){jb.apply(this,arguments)}n.N(lb,jb);n.o("RPJS_Component_Spawner_OnEvent",lb);lb.prototype.Mi=function(a){if(!rpjs.editor.isEditing)for(var b=0;b<this.lo.length;b++){var c=this.lo[b];if(a.fi==c){this.Gd();c==rpjs.event.e.l&&this.wh(0);break}}};lb.prototype.g=function(){return{lo:{type:"array",r:{type:"event"}}}};H("RPJS_Component_Spawner_OnEvent");function mb(){F.apply(this,arguments)}n.N(mb,F);n.o("RPJS_Component_TimedDestroyer",mb);mb.prototype.f=function(){this.Yk=0};mb.prototype.$c=function(a){this.Yk+=a;this.Yk>=this.Ci&&this.a.K()};mb.prototype.g=function(){return{Ci:0}};H("RPJS_Component_TimedDestroyer");function nb(){F.apply(this,arguments)}n.N(nb,F);n.o("RPJS_Component_Clickable",nb);m=nb.prototype;m.k=function(){rpjs.game.instance.Dg(Sa).wn(this)};m.l=function(){rpjs.game.instance.Dg(Sa).am(this)};m.Xr=function(){if(this.Es)for(var a=0;a<this.Hi.length;a++)rpjs.game.instance.R(this.Hi[a],this);else for(a=0;a<this.Hi.length;a++)this.a.Cf(this.Hi[a],this)};m.Pi=function(a,b){var c=k;(c=this.a.Wl(a,b))&&this.Xr();return c&&this.stopPropagation};
m.g=function(){return{Hi:{type:"array",r:{type:"event"},value:[rpjs.event.e.Qs.Tv]},Es:k,stopPropagation:k}};H("RPJS_Component_Clickable");function W(){F.apply(this,arguments)}n.N(W,F);n.o("RPJS_Component_IDetailToggler",W);W.prototype.fh=A();W.fc={Ej:0,Fj:1,Lm:2};W.Bq=2;W.fh=function(a){W.Bq=a;for(var b=rpjs.game.instance.oo(W,h),c=0;c<b.length;c++)b[c].fh(a)};W.pA=function(){return W.Bq};W.Mz=function(a){switch(a){case W.fc.Lm:return"High";case W.fc.Fj:return"Medium";case W.fc.Ej:return"Low";default:return""}};W.HC=function(a){switch(a){case "High":return W.fc.Lm;case "Medium":return W.fc.Fj;case "Low":return W.fc.Ej;default:return""}};function ob(){W.apply(this,arguments)}n.N(ob,W);n.o("RPJS_Component_DetailToggler_DeactivateActor",ob);ob.prototype.fh=function(a){(this.Fk?a>=this.dp:a==this.dp)?this.a.Ub():this.a.Hb()};ob.prototype.g=function(){return{dp:{type:"enum",r:W.fc,value:"Medium"},Fk:h}};H("RPJS_Component_DetailToggler_DeactivateActor");function pb(){W.apply(this,arguments)}n.N(pb,W);n.o("RPJS_Component_DetailToggler_DeactivateComponents",pb);pb.prototype.fh=function(a){for(var b=0;b<this.ep.length;b++){var c=this.ep[b],g=window[c.Pa];g&&(g=this.a.P(g))&&((c.Fk?a>=c.cp:a==c.cp)?g.disable():g.enable())}};pb.prototype.g=function(){return{ep:{type:"array",r:{type:"object",r:{Pa:{type:"componentType"},cp:{type:"enum",r:W.fc,value:"Medium"},Fk:h}}}}};H("RPJS_Component_DetailToggler_DeactivateComponents");function qb(){W.apply(this,arguments)}n.N(qb,W);n.o("RPJS_Component_DetailToggler_SetField",qb);qb.prototype.fh=function(a){for(var b=0;b<this.vb.length;b++){var c=this.vb[b],g=window[c.Pa];g&&(g=this.a.P(g))&&g.Cx(c.fieldName,a==W.fc.Ej?c.dv:a==W.fc.Fj?c.zv:c.mu)}};qb.prototype.g=function(){return{vb:{type:"array",r:{type:"object",r:{Pa:{type:"componentType"},fieldName:{type:"componentProperty"},dv:{type:"any"},zv:{type:"any"},mu:{type:"any"}}}}}};H("RPJS_Component_DetailToggler_SetField");function rb(){F.apply(this,arguments)}n.N(rb,F);n.o("RPJS_Component_RoomConnector",rb);rb.prototype.f=function(){rb.em||this.Jr()};rb.prototype.Jr=function(){var a=this;rb.em=h;rpjs.game.channel.connect(function(){a.Gr()},function(a){rb.em=k;var c="Disconnected from game channel, reason: "+a;console.error(c);a&&alert(c)})};rb.prototype.Gr=function(){rpjs.game.channel.In(this.Kv)};rb.prototype.g=function(){return{Kv:16}};rb.em=k;H("RPJS_Component_RoomConnector");function sb(){F.apply(this,arguments)}n.N(sb,F);n.o("RPJS_Component_IActorCuller",sb);sb.tq=function(){return["RPJS_Component_Camera"]};m=sb.prototype;m.f=function(){this.Xj={};this.Xj[this.a.name]=h;for(var a=0;a<this.mo.length;a++)this.Xj[this.mo[a]]=h;rpjs.game.instance.Gq(this.co,this)};m.l=function(a){a&&rpjs.game.instance.Gq(i)};m.co=A();m.Vj=function(a,b){if(b&&a.ob||!b&&!a.ob&&a.Tb){b?(a.Tb=h,a.Hb()):(a.Ub(),a.Tb=k);for(var c=0;c<a.children.length;c++)this.Vj(a.children[c],b)}};
m.g=function(){return{mo:{type:"array",r:{type:"string"}}}};function tb(){sb.apply(this,arguments)}n.N(tb,sb);n.o("RPJS_Component_ActorCuller_Radial",tb);tb.prototype.f=function(){tb.H.f.call(this);this.Nh=-1};
tb.prototype.co=function(){var a=this.a.da;if(a&&a.enabled){var a=rpjs.game.instance,b=this.Nh<a.h.length?this.Nh:0,c=Math.min(b+this.wv,a.h.length);-1==this.Nh&&(b=0,c=a.h.length);for(var g=this.a.transform.position,e=Math.max(this.a.transform.scale.x,this.a.transform.scale.y),d=0.7071068*Math.max(a.Ka,a.Oa),j=this.vv*e,d=(d+j)*(d+j);b<c;b++)if(j=a.h[b],j.uc||this.at){var l=M.Zn(j.transform.position,g)*e;l>=d&&!j.Tb?this.Xj[j.name]||this.Vj(j,h):l<d&&j.Tb&&this.Vj(j,k)}this.Nh=c}};
tb.prototype.g=function(){return{vv:50,wv:100,at:k}};H("RPJS_Component_ActorCuller_Radial");function ub(){F.apply(this,arguments)}n.N(ub,F);n.o("RPJS_Component_Editor_DropEffect",ub);m=ub.prototype;m.uC=function(a){this.target=a;this.gk=this.target.transform.scale.clone();this.uk(0)};m.f=function(){this.Di=this.Ci};m.ra=function(){this.Di-=rpjs.game.instance.Yg;0<this.Di?this.uk(1-this.Di/this.Ci):(this.uk(1),this.a.K())};m.uk=function(a){this.target!=f&&this.target.transform.Ef(a*this.gk.x,a*this.gk.y,a*this.gk.b)};m.g=function(){return{Ci:0.3}};ub.xd=ba(h);function Ha(){}n.N(Ha,Ga);Ha.prototype.lj=ba(i);function Ia(){}n.N(Ia,Ga);m=Ia.prototype;m.lj=function(a,b){this.$d=i;this.xf=[];var c=$('<canvas width="'+a+'" height="'+b+'"></canvas>');if("getContext"in c[0]){var g;try{g=c[0].getContext("2d")}catch(e){}g?this.$d=g:console.error("Canvas 2d context could not be fetched")}else console.error("Canvas context could not be fetched");this.$d||(c=i);return c};m.getContext=B("$d");m.ki=function(){this.$d.clearRect(0,0,this.zc.x,this.zc.y)};
m.Ap=function(){var a=L.gb();if(a&&a.da){var b={};a.da.Cy(b);if(-0.5<=b.y&&0.5>b.y||-0.5<=b.x&&0.5>b.x){a={};L.Qn(b.x,b.y,a);var c=this.getContext();c.save();c.strokeStyle="blue";c.lineWidth=1;c.globalAlpha=0.6;c.shadowBlur=0;-0.5<=b.x&&0.5>b.x&&(c.beginPath(),c.moveTo(Math.round(a.x)-0.5,0),c.lineTo(Math.round(a.x)-0.5,rpjs.game.instance.Oa-1),c.closePath(),c.stroke());-0.5<=b.y&&0.5>b.y&&(c.beginPath(),c.moveTo(0,Math.round(a.y)-0.5),c.lineTo(rpjs.game.instance.Ka-1,Math.round(a.y)-0.5),c.closePath(),
c.stroke());c.restore()}}};m.ms=function(a){this.xf.push(a)};m.nq=function(a){RPJS_Loader.removeElem(this.xf,a)};m.oq=function(){this.xf.length=0};
m.Bp=function(){if(!(1>this.xf.length)){var a=this.getContext(),b=i;try{try{b=a.getImageData(0,0,Math.floor(this.zc.x),Math.floor(this.zc.y))}catch(c){netscape.kC.Ky.Rz("UniversalBrowserRead"),b=a.getImageData(0,0,Math.floor(this.zc.x),Math.floor(this.zc.y))}}catch(g){console.error("Didn't get permissions to read from canvas with cross-domain images plotted onto it: "+RPJS_Loader.extractExceptionInfo(g)),this.oq()}if(b!=i){for(var e=0;e<this.xf.length;e++){var d=this.xf[e];try{d.EB(b)}catch(j){console.error("The post effect #"+
e+" failed: "+RPJS_Loader.extractExceptionInfo(j)),this.nq(d),e--}}a.putImageData(b,0,0)}}};function Ja(){}n.N(Ja,Ga);Ja.prototype.lj=function(a,b){this.pi=i;var c=$('<canvas width="'+a+'" height="'+b+'"></canvas>');if("getContext"in c[0]){var g;try{g=c[0].getContext("experimental-webgl")}catch(e){}g?this.pi=g:console.error("WebGL webgl context could not be fetched")}else console.error("WebGL context could not be fetched");return c};Ja.prototype.getContext=B("pi");Ja.prototype.ki=function(){this.pi.clearColor(0,0,0,1);this.pi.clearDepth(1)};
Ja.prototype.Op=function(a,b){this.zc.x=a;this.zc.y=b;this.Kf.attr({width:a,height:b})};function vb(){F.apply(this,arguments)}n.N(vb,F);n.o("x2_handler",vb);m=vb.prototype;m.f=function(){this.XC=k;vb.q=this;this.direction=new M(0,0);this.Fm=new M(0,0);this.gC=this.ug=0};m.ca=function(){this.a.ea(this.a.or,this)&&(this.a.or=this)};m.aa=function(){delete this.a.or};m.k=A();m.l=function(a){a&&vb.q==this&&(vb.q=i)};m.Ub=function(){this.a.$.enable();this.a.transform.Cq(0.5);this.a.$.Lq(0);this.a.$.ue(0);this.Gx()};m.Hb=function(){X.u().fo(k);this.a.K()};
m.Gx=function(){this.Fm.ve(90,300);var a=M.Rk(this.Fm,this.a.transform.position);this.ug=a.length();this.direction.set(a.normalize())};m.Xs=function(){this.a.$.Lq(1);X.u().fo(h)};vb.q=i;vb.u=function(){return vb.q};
vb.prototype.ra=function(a){var b=this.direction.x*this.speed*a,a=this.direction.y*this.speed*a;this.a.$.enabled&&10==this.a.$.pb&&this.Hb();if(0<this.ug){var c=(new M(b,a)).length();this.ug-=c;if(this.ug<=c){this.direction.ve(0,0);this.a.transform.setPosition(this.Fm);this.a.transform.Cq(2);this.Xs();return}}this.a.transform.translate(b,a,0)};vb.prototype.g=function(){return{speed:600}};H("x2_handler");function wb(){F.apply(this,arguments)}n.N(wb,F);n.o("x2_collide",wb);m=wb.prototype;m.f=A();m.ca=function(){this.a.ea(this.a.nr,this)&&(this.a.nr=this)};m.aa=function(){delete this.a.nr};m.k=A();m.l=A();m.Xc=function(a){a=a.La.a.name;Y.u()!==i&&"hero_collider.actor"==a&&(this.a.oe=h,this.a.hide(),this.a.Hb())};m.g=function(){return{}};H("x2_collide");function xb(){F.apply(this,arguments)}n.N(xb,F);n.o("tunnel_static_handler",xb);xb.prototype.f=A();xb.prototype.k=A();xb.prototype.l=A();xb.prototype.g=function(){return{}};H("tunnel_static_handler");function yb(){F.apply(this,arguments)}n.N(yb,F);n.o("tunnel_handler",yb);m=yb.prototype;m.f=function(){yb.q=this};m.k=function(){this.a.hide()};m.l=function(a){a&&yb.q==this&&(yb.q=i)};m.Ub=function(){this.a.show();this.un=h;this.a.Ob.Sd(new R(-5*this.Dl,0,0))};
m.ra=function(){var a=this.a.transform.position.x,b=Z.u().se;if(this.un===h&&110>a)switch(this.a.Ob.Sd(0),this.un=k,b){case 1:rpjs.game.instance.zb();rpjs.game.instance.Qa("level_end.scene",f,f,k);break;case 2:rpjs.game.instance.zb();rpjs.game.instance.Qa("level_2_end.scene",f,f,k);break;case 3:rpjs.game.instance.zb();rpjs.game.instance.Qa("level_3_end.scene",f,f,k);break;case 4:rpjs.game.instance.zb(),rpjs.game.instance.Qa("level_4_end.scene",f,f,k)}};yb.q=i;yb.u=function(){return yb.q};
yb.prototype.g=function(){return{zB:0,AB:0,Dl:3.2}};H("tunnel_handler");function zb(){F.apply(this,arguments)}n.N(zb,F);n.o("tunnel_begin_handler",zb);m=zb.prototype;m.f=A();m.k=function(){var a=this;window.setTimeout(function(){a.Ub()},1500)};m.l=A();m.ra=function(){-1500>=this.a.transform.position.x&&(this.a.Ob.Sd(0),this.a.K())};m.Ub=function(){this.a.Ob.Sd(new R(-5*this.Dl,0,0))};m.g=function(){return{Dl:3.2}};H("tunnel_begin_handler");function Ab(){F.apply(this,arguments)}n.N(Ab,F);n.o("TrainCarScroller",Ab);m=Ab.prototype;m.f=function(){this.qa=0;this.Ii=1;this.rp=2;this.ja=3;this.Fa=0};m.k=function(){this.Vq=Z.u();this.Na=this.Vq.hd;this.As=1;this.zs=4;this.Ua=[];this.Ig=4;this.Gk=[123,123,125,124];this.Yi=208;this.oy=31;this.rv=20;this.a.children[0].P(Bb).Wk();this.a.children[1].P(Bb).Wk();for(var a=0;a<this.a.children.length;a++)this.a.children[a].P(ab).Sd(new R(this.Vq.Pf,0,0));this.Du();this.Mq()};m.l=A();
m.ra=function(){var a=0;this.a.children[this.qa].transform.position.x<=this.by-this.Mk&&(this.a.children[this.qa].transform.setPosition(this.a.children[this.ja].transform.position.x+this.Mk-this.Os,0,0),a=this.qa,this.qa=this.ja,this.ja=a,a=this.qa,this.qa=this.Ii,a=this.Ii=a,this.Ii=this.rp,this.rp=a,this.a.children[this.ja].hide(),this.a.children[this.ja].P(Bb).Wk(),this.Mq());this.a.children[this.ja].transform.position.x<=768+this.Mk&&(this.a.children[this.ja].show(),this.a.children[this.ja].P(Bb).nt())};
m.Mq=function(){this.dx();var a=this.a.children[this.ja],b=0,c=0,g=0,e=0,d=i;if(this.Fa<this.Na.length){b=this.Na[this.Fa].Rh;if(0<b){c=this.Na[this.Fa].Sh;g=this.Na[this.Fa].Th;for(e=0;e<b;e++){var j=this.dl(),l=this.Gk[j-1];switch(j){case 1:d=this.qc(this.vs);break;case 2:d=this.qc(this.ws);break;case 3:d=this.qc(this.xs);break;case 4:d=this.qc(this.ys)}d.transform.setPosition(c+g*e,l);a.Fb(d)}}b=this.Na[this.Fa].Ki;0<b&&(c=this.Na[this.Fa].Li,d=this.qc(this.ny),d.transform.setPosition(c+1750,this.oy));
b=this.Na[this.Fa].Fi;0<b&&(c=this.Na[this.Fa].Gi,d=this.qc(this.qv),d.transform.setPosition(c+1E3,this.rv));b=this.Na[this.Fa].ti;if(0<b){c=this.Na[this.Fa].vi;g=this.Na[this.Fa].wi;for(e=0;e<b;e++)d=this.qc(this.Xt),d.transform.setPosition(c+g*e,this.Yi),a.Fb(d)}b=this.Na[this.Fa].mj;if(0<b){c=this.Na[this.Fa].nj;g=this.Na[this.Fa].oj;for(e=0;e<b;e++)d=this.qc(this.Xx),d.transform.setPosition(c+g*e,this.Yi),a.Fb(d)}b=this.Na[this.Fa].qi;if(0<b){c=this.Na[this.Fa].ri;g=this.Na[this.Fa].si;for(e=
0;e<b;e++)d=this.qc(this.Wt),d.transform.setPosition(c+g*e,this.Yi),a.Fb(d)}b=this.Na[this.Fa].aj;if(0<b){c=this.Na[this.Fa].bj;for(e=g=0;e<b;e++)d=this.qc(this.Dy),d.transform.setPosition(c+g*e,this.Yi),a.Fb(d)}}this.Fa++};m.dx=function(){for(var a=this.a.children[this.ja];1<a.children.length;)if("rr_car_gap.actor"!=a.children[a.children.length-1].name){var b=a.children[a.children.length-1];a.Uk(b);b.hide();b.oe=h;b.Hb()}};
m.tm=function(a){for(var b=a.length-1;0<b;b--){var c=Math.floor(Math.random()*(b+1)),g=a[b];a[b]=a[c];a[c]=g}return a};m.dl=function(){if(0===this.Ua.length){this.Ua=[1,2,3,4];this.tm(this.Ua);var a=this.Ua.length-1;if(this.Ua[a]===this.Ig){var a=Math.floor(Math.random()*(a+1)),b=this.Ua.pop();this.Ua.splice(a,0,b)}}return this.Ig=a=this.Ua.pop()};
m.Du=function(){this.ig={};for(var a=0;a<this.hg.length;a++){this.ig[this.hg[a].xk]=[];for(var b=this.ig[this.hg[a].xk],c=0;c<this.hg[a].Cu;c++){var g=I.fb(this.hg[a].xk);b.push(g);g.oe=h;g.hide();g.Hb()}}};m.qc=function(a){this.ig[a]||(this.ig[a]=[]);for(var b=this.ig[a],c=i,g=0;g<b.length;g++)if(b[g].oe){c=b[g];break}c===i&&(c=I.fb(a),b.push(c));c.oe=k;c.Ub();c.show();return c};
m.g=function(){return{Pb:-5,Mk:540,Os:97,by:-203,hg:{type:"array",r:{type:"object",r:{xk:{type:"actor"},Cu:0}}},vs:{type:"actor"},ws:{type:"actor"},xs:{type:"actor"},ys:{type:"actor"},ny:{type:"actor"},qv:{type:"actor"},Xt:{type:"actor"},Xx:{type:"actor"},Wt:{type:"actor"},Dy:{type:"actor"}}};H("TrainCarScroller");function Bb(){F.apply(this,arguments)}n.N(Bb,F);n.o("TrainCar",Bb);m=Bb.prototype;m.f=A();m.k=A();m.l=A();m.nt=function(){this.a.Ib("rr_car_gap.actor").P(Za).enable()};m.Wk=function(){this.a.Ib("rr_car_gap.actor").P(Za).disable()};m.g=function(){return{}};H("TrainCar");function Cb(){F.apply(this,arguments)}n.N(Cb,F);n.o("TouchButton_Collection",Cb);m=Cb.prototype;m.f=function(){if(rpjs.info.touchDevice===k&&this.bo===h)this.a.K();else{this.Wb=[];for(var a=0;a<this.Mn.length;a++){var b=this.Mn[a];this.Wb.push({pc:-1,element:i,Bf:b.Bf,key:b.key,Gb:b.Bf.substr(1),isEnabled:b.ay,jm:b.jm})}}};
m.k=function(){rpjs.game.instance.M.Ak(this);rpjs.game.instance.M.jg(this);this.Ug=$(this.Tl,this.a.html.i);for(var a=0;a<this.Wb.length;a++){var b=this.Wb[a];b.element=$(b.Bf,this.Ug[0]);b.isEnabled===k&&rpjs.game.instance.w.va("addClass",{xa:b.element[0],className:"disabled"})}};m.l=function(){rpjs.game.instance.M.ej(this);rpjs.game.instance.M.$g(this)};m.NC=function(){for(var a=0;a<this.Wb.length;a++);};m.OC=function(){for(var a=0;a<this.Wb.length;a++);};
m.tf=function(a,b,c,g){a=g.srcElement?g.srcElement:g.target;if(a.parentElement==this.Ug[0])for(b=0;b<this.Wb.length;b++)if(g=this.Wb[b],a==g.element[0]&&g.isEnabled===h){rpjs.game.instance.w.va("addClass",{xa:g.element[0],className:"down"});g.pc=c;rpjs.game.instance.M.rl(g.key,i);break}};
m.uf=function(a,b,c){for(a=0;a<this.Wb.length;a++)if(b=this.Wb[a],b.pc==c){rpjs.game.instance.w.va("removeClass",{xa:b.element[0],className:"down"});b.pc=-1;rpjs.game.instance.M.Gg(b.key,i);b.jm===h&&rpjs.game.instance.R(rpjs.event.custom.JB,{Gb:b.Gb});break}};
m.IB=function(a){for(var b=0;b<this.Wb.length;b++){var c=this.Wb[b];if(c.Gb==a.Gb){a.isEnabled===h?c.isEnabled===h?-1!=c.pc&&(rpjs.game.instance.w.va("removeClass",{xa:c.element[0],className:"down"}),c.pc=-1,rpjs.game.instance.M.Gg(c.key,i)):(c.isEnabled=h,rpjs.game.instance.w.va("removeClass",{xa:c.element[0],className:"disabled"})):c.isEnabled===h&&(-1==c.pc?rpjs.game.instance.w.va("addClass",{xa:c.element[0],className:"disabled"}):(rpjs.game.instance.w.va("removeClass",{xa:c.element[0],className:"down"}),
rpjs.game.instance.w.va("addClass",{xa:c.element[0],className:"disabled"}),c.pc=-1,rpjs.game.instance.M.Gg(c.key,i)));break}}};m.g=function(){return{bo:k,Tl:"#outer_tb_collection",Mn:{type:"array",r:{type:"object",r:{Bf:"",key:0,ay:h,jm:k},value:[{selector:"",key:0}]}}}};H("TouchButton_Collection");function Db(){F.apply(this,arguments)}n.N(Db,F);n.o("TouchButton",Db);m=Db.prototype;m.f=function(){this.Gb=this.a.name.substring(0,this.a.name.indexOf(".actor"));this.Tl="#outer_"+this.Gb;this.Bf="#"+this.Gb};m.k=function(){rpjs.game.instance.M.Ak(this);rpjs.game.instance.M.jg(this);this.Ug=$(this.Tl,this.a.html.i);this.element=$(this.Bf,this.Ug[0])};m.l=function(){rpjs.game.instance.M.ej(this);rpjs.game.instance.M.$g(this)};
m.tf=function(a,b,c,g){a=g.srcElement?g.srcElement:g.target;a.parentElement==this.Ug[0]&&a==this.element[0]&&(rpjs.game.instance.w.va("addClass",{xa:this.element[0],className:"down"}),this.pc=c,rpjs.game.instance.M.rl(this.$o,i))};m.uf=function(a,b,c){this.pc==c&&(rpjs.game.instance.w.va("removeClass",{xa:this.element[0],className:"down"}),this.pc=-1,rpjs.game.instance.M.Gg(this.$o,i))};m.g=function(){return{bo:k,$o:32}};H("TouchButton");function Eb(){F.apply(this,arguments)}n.N(Eb,F);n.o("StartButtonHandler",Eb);m=Eb.prototype;m.f=A();m.k=A();m.l=A();m.Kl=function(){this.kb!==k&&rpjs.game.instance.X.Xa("ro1.mp3")};m.g=function(){return{}};H("StartButtonHandler");function Fb(){F.apply(this,arguments)}n.N(Fb,F);n.o("score_keeper_handler",Fb);var Gb,Hb=0,Ib=1,Jb;m=Fb.prototype;m.f=function(){this.reset===h&&(Hb=0,Ib=1,Jb=[0,0,0,0,0]);Fb.q=this;Fb.q.a.wg=h};m.k=function(){Gb=X.u()};m.l=function(a){a&&Fb.q==this&&(Fb.q=i)};m.ra=function(){Hb=Gb.score};m.yy=function(){return Hb};m.cC=function(){Hb=0;Ib=1;Jb=[0,0,0,0,0]};m.cy=function(){Jb||(Ib=1,Jb=[0,0,0,0,0]);Jb[Ib-1]=Hb};m.lA=function(){Jb||(Ib=1,Jb=[0,0,0,0,0]);return Jb[Ib-1]};m.su=function(){Ib++};m.Dt=function(){return Ib};
m.gx=function(){Jb||(Ib=1,Jb=[0,0,0,0,0]);0!==Ib-1&&(Jb=[0,0,0,0,0]);Hb=0};m.g=function(){return{reset:k}};Fb.q=i;Fb.u=function(){return Fb.q};H("score_keeper_handler");function Kb(){F.apply(this,arguments)}n.N(Kb,F);n.o("SceneLoader",Kb);m=Kb.prototype;m.f=function(){rpjs.info.touchDevice&&(this.kb=k)};m.k=A();m.l=A();m.Kl=function(a){switch(a.Gb){case "button_start":rpjs.game.instance.Qa("intro_screen.scene",f,f,k)}};m.g=function(){return{}};H("SceneLoader");function Lb(){F.apply(this,arguments)}n.N(Lb,F);n.o("ReplayLevel",Lb);m=Lb.prototype;m.f=A();m.k=A();m.l=A();m.ew=function(){var a=Fb.u();rpjs.game.instance.zb();var b=a.Dt();a.gx();switch(b){case 1:rpjs.game.instance.Qa("level_1_alpha.scene",f,f,k);break;case 2:rpjs.game.instance.Qa("level_2.scene",f,f,k);break;case 3:rpjs.game.instance.Qa("level_3.scene",f,f,k);break;case 4:rpjs.game.instance.Qa("level_4.scene",f,f,k);break;case 5:rpjs.game.instance.Qa("level_5.scene",f,f,k)}};m.g=function(){return{}};
H("ReplayLevel");function Mb(){F.apply(this,arguments)}n.N(Mb,F);n.o("powerup_collide",Mb);m=Mb.prototype;m.f=A();m.k=A();m.l=A();m.Xc=function(a){a=a.La.a.name;Y.u()!==i&&"hero_collider.actor"==a&&this.a.K()};m.g=function(){return{}};H("powerup_collide");function Nb(){F.apply(this,arguments)}n.N(Nb,F);n.o("PooledActor",Nb);m=Nb.prototype;m.f=A();m.k=A();m.l=A();m.ra=function(){this.a.transform.position.x<=-512-this.Gl&&(this.a.oe=h,this.a.hide(),this.a.Hb(),this.a.P(ab)&&(this.a.P(ab).ba.x=0,this.a.P(ab).ba.y=0))};m.g=function(){return{Gl:0}};H("PooledActor");function Ob(){F.apply(this,arguments)}n.N(Ob,F);n.o("PauseMenu",Ob);m=Ob.prototype;m.f=A();
m.k=function(){rpjs.game.instance.M.jg(this);rpjs.game.instance.paused=k;var a=this.a.html.i;this.ip=$(this.ap,a);this.vq=$(this.wq,a);this.qf=$(this.vp,a);this.Eo=$(this.Fo,a);this.xq=$(this.zq,a);this.ub=[this.wq,this.vp,this.Fo,this.zq,this.ap];this.Hs=[100,300,482,682,0];this.Is=113;this.rz=235;this.qz=222;this.Fs=[112,312,494,694,12];this.Gs=125;this.pz=211;this.oz=200;var b=this,a=rpjs.info.touchDevice?"touchend":"mouseup";this.ip.bind(a,function(){b.$k()});this.vq.bind(a,function(){b.jx()});
this.qf.bind(a,function(){b.toggleMute()});this.Eo.bind(a,function(){b.Ux()});this.xq.bind(a,function(){b.yq()});a=rpjs.info.touchDevice?"touchstart":"mousedown";this.ip.bind(a,function(){b.Xd(4)});this.vq.bind(a,function(){b.Xd(0)});this.qf.bind(a,function(){b.Xd(1)});this.Eo.bind(a,function(){b.Xd(2)});this.xq.bind(a,function(){b.Xd(3)});if(rpjs.game.instance.Cc===f||rpjs.game.instance.Cc===i)rpjs.game.instance.Cc=h;rpjs.game.instance.Cc===h?this.qf.attr("class","mute"):(this.qf.attr("class","unmute"),
rpjs.game.instance.X.muteAll(),rpjs.game.instance.X.pauseAll())};m.l=A();m.uf=function(){for(var a=0;a<this.ub.length;a++)4==a?($(this.ub[a]).css("background-size","100%"),$(this.ub[a]).css("top","0px"),$(this.ub[a]).css("left","0px")):($(this.ub[a]).css("top",this.Is+"px"),$(this.ub[a]).css("left",this.Hs[a]+"px"),$(this.ub[a]).css("background-size","100%"))};
m.Xd=function(a){4==a?($(this.ub[a]).css("background-size","97%"),$(this.ub[a]).css("top","3px"),$(this.ub[a]).css("left","3px")):($(this.ub[a]).css("top",this.Gs+"px"),$(this.ub[a]).css("left",this.Fs[a]+"px"),$(this.ub[a]).css("background-size","90%"))};m.$k=function(){window.location.href="http://disney.go.com/the-lone-ranger/?cmp=ELP|lonerngr||TrainTopSprint|OfficialSite|Main|052913|||synMovInTheatM|Synergy|DFAM|#/games"};m.jx=function(){this.yq();rpjs.game.instance.zb();rpjs.game.instance.Qa("intro_screen.scene",i,i,k)};
m.toggleMute=function(){rpjs.game.instance.Cc?(this.qf.attr("class","unmute"),rpjs.game.instance.Cc=k,rpjs.game.instance.X.muteAll(),rpjs.game.instance.X.pauseAll()):(this.qf.attr("class","mute"),rpjs.game.instance.Cc=h,rpjs.game.instance.X.unmuteAll(),rpjs.game.instance.X.resumeAll())};m.Ux=function(){this.a.Ib("help_screen.actor").P(Pb).Wx()};m.yq=function(){$("#pause_bg").css("top","-1152px");rpjs.game.instance.paused=k;rpjs.game.instance.vm()};
m.Kl=function(a){"button_pause"==a.Gb&&($("#pause_bg").css("top","-384px"),rpjs.game.instance.paused=h,rpjs.game.instance.wm())};m.g=function(){return{ap:"#button_lrHome",wq:"#button_restart",vp:"#button_mute",Fo:"#button_help",zq:"#button_resume"}};H("PauseMenu");function Qb(){F.apply(this,arguments)}n.N(Qb,F);n.o("myISpawner",Qb);m=Qb.prototype;m.f=function(){this.wb=[];this.ib=f;this.Ok=k;Qb.q=this;!this.um&&this.enabled&&(this.a.Ud=h)};m.k=function(){this.Gf()};m.l=function(a){a&&Qb.q==this&&(Qb.q=i)};m.ca=function(){this.a.ea(this.a.wp,this)&&(this.a.wp=this)};m.aa=function(){delete this.a.wp};m.zp=function(a){this.Ok=!a};m.IA=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};
m.Gf=function(){this.Va=Z.u();this.oa=this.Va.hd;this.Ng=1;this.zu=this.Va.Qe;this.Bu=this.Va.Se;this.Au=this.Va.Re;this.yu=this.Va.og;this.Lo=1;this.ee=this.hf=0;this.De=this.Ce=h;this.Sk=k;this.um=h;this.Id=[];this.fd=[];this.nb=[];this.As=1;this.zs=4;this.Ua=[];this.Ig=4;this.Gk=[123,123,125,124];this.ct=this.Va.zg;this.Gd()};
m.Gd=function(){this.ib=this.Ng;for(var a=this.wb.length=0;a<this.oa.length;a++){var b=this.oa[a].Dm,c=this.oa[a].Rh,g=this.oa[a].Sh,e=this.oa[a].Th,d=this.oa[a].ti,j=this.oa[a].vi,l=this.oa[a].wi,q=this.oa[a].aj,w=this.oa[a].bj,t=this.oa[a].Yl,E=this.oa[a].Zl,N=this.oa[a].mj,P=this.oa[a].nj,ja=this.oa[a].oj,wc=this.oa[a].qi,Ec=this.oa[a].ri,Fc=this.oa[a].si,zc=this.oa[a].Fi,Gc=this.oa[a].Gi,Ac=this.oa[a].Ki,Hc=this.oa[a].Li,ma;ma===f&&(ma=this.ct);this.Id[a]={cb:[],Lo:1,hf:ma,ee:0,Ce:h,De:h};this.fd[a]=
{il:0,fr:0,Pq:0,ml:0,jr:0,ll:0,ir:0,hf:ma,ee:0,Ce:h,De:h};this.nb[a]={nl:0,kr:0,Sq:0,jl:0,gr:0,Qq:0,ol:0,lr:0,kl:0,hr:0,Rq:0,Mo:0,By:0,ou:0,Ay:0,hf:ma,ee:0,Ce:h,De:h};0<c&&(this.fd[a].il=c,this.fd[a].fr=g,this.fd[a].Pq=e);0<Ac&&(this.fd[a].ml=Ac,this.fd[a].jr=Hc);0<d&&(this.nb[a].kl=d,this.nb[a].hr=j,this.nb[a].Rq=l);0<N&&(this.nb[a].nl=N,this.nb[a].kr=P,this.nb[a].Sq=ja);0<wc&&(this.nb[a].jl=wc,this.nb[a].gr=Ec,this.nb[a].Qq=Fc);0<q&&(this.nb[a].ol=q,this.nb[a].lr=w);0<t&&(this.nb[a].ou=t,this.nb[a].Ay=
E);0<zc&&(this.fd[a].ll=zc,this.fd[a].ir=Gc);switch(b){case 1:this.Id[a].cb=["rr_car_1.actor"];ma+=this.zu;break;case 2:this.Id[a].cb=["rr_car_2.actor"];ma+=this.Bu;break;case 3:this.Id[a].cb=["rr_car_3.actor"];ma+=this.Au;break;case 4:this.Id[a].cb=["rr_car_4.actor"],ma+=this.yu}}for(a=0;a<this.oa.length;a++)b=this.Id[a],c=this.fd[a],g=this.nb[a],this.wb.push({Ca:b,Qb:b.hf,xe:b.Lo,yc:c,DC:c.hf,Sa:g,EC:g.hf})};m.$c=function(a){this.wh(a)};
m.wh=function(a){if(this.ib!==f){for(var b,c,g,e,d=0;d<this.wb.length;d++){var j=this.wb[d];for(j.Qb-=a;0>=j.Qb&&0<j.xe;){var l={position:this.Mj(j.Ca)};j.Ca.De&&(l.rotation=this.a.transform.rotation);if(rpjs.info.isServer&&j.Ca.Rp){l.Bk={Eu:this.a.ha};for(var q=0;q<j.Ca.cb.length;q++)I.Yh(j.Ca.cb[q],l,f,f,j.Ca.Nn)}else for(q=0;q<j.Ca.cb.length;q++){e=I.fb(j.Ca.cb[q],l);if(0<j.yc.il)for(g=0;g<j.yc.il;g++){c=j.yc.fr;var w=j.yc.Pq;b=this.dl();var t=this.Gk[b-1];b=I.fb("bad_guy"+b.toString()+".actor",
l);b.transform.setPosition(c,t);0<g&&(c=g*w+c,b.transform.setPosition(c,t));e.Fb(b)}if(0<j.yc.ml)for(g=0;g<j.yc.ml;g++)t=j.yc.jr+1750,c=I.fb("obstacle_one.actor",l),c.transform.setPosition(t,31);if(0<j.yc.ll)for(g=0;g<j.yc.ll;g++)t=j.yc.ir+1E3,c=I.fb("mail_hook.actor",l),c.transform.setPosition(t,20);if(0<j.Sa.kl)for(t=0;t<j.Sa.kl;t++)c=j.Sa.hr,b=j.Sa.Rq,g=I.fb("health_jump.actor",l),g.transform.setPosition(c,208),0<t&&(c=t*b+c,g.transform.setPosition(c,208)),e.Fb(g);if(0<j.Sa.Mo)for(g=0;g<j.Sa.Mo;g++)t=
j.Sa.By,c=I.fb("mail_hook_jump.actor",l),c.transform.setPosition(t,208),e.Fb(c);if(0<j.Sa.nl)for(t=0;t<j.Sa.nl;t++)c=j.Sa.kr,b=j.Sa.Sq,g=I.fb("coin_silver_jump.actor",l),g.transform.setPosition(c,208),0<t&&(c=t*b+c,g.transform.setPosition(c,208)),e.Fb(g);if(0<j.Sa.jl)for(t=0;t<j.Sa.jl;t++)c=j.Sa.gr,b=j.Sa.Qq,g=I.fb("coin_gold_jump.actor",l),g.transform.setPosition(c,208),0<t&&(c=t*b+c,g.transform.setPosition(c,208)),e.Fb(g);if(0<j.Sa.ol)for(g=0;g<j.Sa.ol;g++)t=j.Sa.lr,c=I.fb("x2_jump.actor",l),c.transform.setPosition(t,
208),e.Fb(c)}j.xe--;j.Qb=j.Ca.ee}0>=j.Qb&&0===j.xe&&(RPJS_Loader.removeCyclic(this.wb,d),d--)}0===this.wb.length&&(0>=this.ib?this.Gd():(this.ib--,0<this.ib?(a=this.ib,this.Gd(),this.ib=a):this.Sk?this.a.K():this.disable()))}};m.Mj=function(a){return a.Ce?this.a.transform.position:R.Cb};Qb.q=i;Qb.u=function(){return Qb.q};Qb.prototype.tm=function(a){for(var b=a.length-1;0<b;b--){var c=Math.floor(Math.random()*(b+1)),g=a[b];a[b]=a[c];a[c]=g}return a};
Qb.prototype.dl=function(){if(0===this.Ua.length){this.Ua=[1,2,3,4];this.tm(this.Ua);var a=this.Ua.length-1;if(this.Ua[a]===this.Ig){var a=Math.floor(Math.random()*(a+1)),b=this.Ua.pop();this.Ua.splice(a,0,b)}}return this.Ig=a=this.Ua.pop()};Qb.prototype.g=function(){return{}};H("myISpawner");function Rb(){F.apply(this,arguments)}n.N(Rb,F);n.o("MuteOnStart",Rb);Rb.prototype.f=A();Rb.prototype.k=function(){rpjs.game.instance.Cc===h||rpjs.game.instance.Cc===f?(rpjs.game.instance.X.unmuteAll(),rpjs.game.instance.X.resumeAll()):(rpjs.game.instance.X.muteAll(),rpjs.game.instance.X.pauseAll())};Rb.prototype.l=A();Rb.prototype.g=function(){return{}};H("MuteOnStart");function Sb(){F.apply(this,arguments)}n.N(Sb,F);n.o("ModifyViewport",Sb);m=Sb.prototype;m.k=function(){this.ru&&rpjs.info.touchDevice||this.qu&&!rpjs.info.touchDevice?this.K():(this.kx=h,this.time=this.vg=0,this.Qh=k,this.Cn())};m.f=function(){this.enabled&&(rpjs.game.instance.cA=this.width,rpjs.game.instance.bA=this.height)};m.l=function(){this.Xq()};
m.Cn=function(){rpjs.game.instance.Dw=rpjs.game.instance.Ja.width();rpjs.game.instance.Cw=rpjs.game.instance.Ja.height();if(!this.Qh){this.Qh=h;this.vg++;var a=rpjs.game.instance.ed,b=a.width(),c=a.height(),g=b/this.width,e=c/this.height;this.qs||(g=Math.min(g,1),e=Math.min(e,1));this.os||(g=Math.max(g,1),e=Math.max(e,1));if(this.Tu)var d=b/this.width/(c/this.height),d=Math.min(d,1/d),g=g*d,e=e*d;var d=this.width*g,j=this.height*e;rpjs.game.instance.YC=g;rpjs.game.instance.ZC=e;a[0].style.width=d+
"px";a[0].style.height=j+"px";a[0].style.left="50%";a[0].style.marginLeft=-Math.round(0.5*d)+"px";if(rpjs.info.touchDevice||rpjs.info.msTouchDevice)a[0].style.top="50%",a[0].style.marginTop=-Math.round(0.5*j)+"px";a[0].style.visibility="visible";e=g=1;this.nx&&(g=b/d,e=c/j,this.Su&&(e=g=b=Math.min(g,e)),rpjs.game.instance.w.Oh(a[0],0,0,0,g,e));rpjs.game.instance.xh();this.vg--;rpjs.game.instance.TC=rpjs.game.instance.Dw/2-rpjs.game.instance.Ja.width()/2;rpjs.game.instance.UC=rpjs.game.instance.Cw/
2-rpjs.game.instance.Ja.height()/2;rpjs.game.instance.ix=d*g;rpjs.game.instance.hx=j*e}};m.Xq=function(){if(this.Qh){this.Qh=k;this.vg++;var a=rpjs.game.instance.ed;a[0].style.visibility="hidden";a[0].style.width="100%";a[0].style.height="100%";a[0].style.left="0px";a[0].style.top="0px";a[0].style.marginLeft="0px";a[0].style.marginTop="0px";(!this.fC||rpjs.info.touchDevice)&&rpjs.game.instance.w.Oh(a[0],0,0,0,1,1);rpjs.game.instance.xh();this.vg--}};
m.Ri=function(){this.enabled&&(!(0<this.vg)&&this.kx)&&(this.Xq(),this.Cn())};m.ra=function(a){this.time+=a};m.g=function(){return{width:750,height:500,qs:k,os:k,Tu:k,nx:h,Su:h,ru:k,qu:k}};H("ModifyViewport");function Tb(){F.apply(this,arguments)}n.N(Tb,F);n.o("mail_hook_handler",Tb);m=Tb.prototype;m.f=function(){this.Lf=k;this.Te=0;this.Va=Z.u();this.Av=this.Va.Pg;this.Bv=this.Va.lg;this.ey=this.a.Ib("mail_hook_top.actor");this.qp=this.a.Ib("mail_hook_collider.actor");Tb.q=this};m.k=function(){rpjs.game.instance.M.yk(this);rpjs.game.instance.M.zk(this)};m.l=function(a){rpjs.game.instance.M.bc(this);a&&Tb.q==this&&(Tb.q=i)};
m.Oi=function(a){if(Y.u()!==i&&(a==this.Av||a==this.Bv)&&this.Lf===k)this.Lf=h,this.ey.$.na("mail_hook_spin",k,k,this.ts,"e")};m.ts=function(a){a.a.$.na("mail_hook_static",k,k,f,"e")};m.ra=function(){this.Lf===h&&(this.Te<this.Ko?(this.Te+=this.Dv,this.qp.transform.translate(this.Te,0,0)):this.Te>=this.Ko&&(this.Te=0,this.Lf=k,this.qp.transform.translate(this.nu,0,0)))};m.SA=B("Lf");Tb.q=i;Tb.u=function(){return Tb.q};Tb.prototype.g=function(){return{Dv:1,Ko:80,nu:-300}};H("mail_hook_handler");function Ub(){F.apply(this,arguments)}n.N(Ub,F);n.o("LRHomeButton",Ub);m=Ub.prototype;m.f=A();m.k=function(){rpjs.game.instance.M.jg(this);this.hp=$("#lrHome_button",this.a.html.i);var a=this;this.hp.bind(rpjs.info.touchDevice?"touchend":"mouseup",function(){a.$k()});this.hp.bind(rpjs.info.touchDevice?"touchstart":"mousedown",function(){a.Xd()})};m.l=A();m.$k=function(){window.location.href="http://disney.go.com/the-lone-ranger/?cmp=ELP|lonerngr||TrainTopSprint|OfficialSite|Main|052913|||synMovInTheatM|Synergy|DFAM|#/games"};
m.Xd=function(){$("#lrHome_button").css("background-size","97%");$("#lrHome_button").css("top","5px");$("#lrHome_button").css("left","2px")};m.uf=function(){$("#lrHome_button").css("background-size","100%");$("#lrHome_button").css("top","3px");$("#lrHome_button").css("left","0px")};m.g=function(){return{}};H("LRHomeButton");function Vb(){F.apply(this,arguments)}n.N(Vb,F);n.o("LoadNextScene",Vb);m=Vb.prototype;m.f=A();m.k=A();m.l=A();m.ew=function(){rpjs.game.instance.zb();rpjs.game.instance.Qa(this.qx,f,f,k)};m.g=function(){return{qx:{type:"scene"}}};H("LoadNextScene");function Wb(){F.apply(this,arguments)}n.N(Wb,F);n.o("LoadingBar",Wb);m=Wb.prototype;m.f=A();m.k=function(){this.a.P(U).Fd(0)};m.l=A();m.Qi=function(){this.a.transform.setPosition(6,-225,0);this.a.P(U).Fd(1)};m.Nl=function(a){this.a.transform.setPosition(6+203*((100*(a.completedCount/a.totalCount)).toFixed()/100),-225,0)};m.g=function(){return{}};H("LoadingBar");function Xb(){F.apply(this,arguments)}n.N(Xb,F);n.o("level_settings_handler",Xb);m=Xb.prototype;m.f=function(){this.Va=Z.u();this.Gf(this.Va)};m.ca=function(){this.a.ea(this.a.jp,this)&&(this.a.jp=this)};m.aa=function(){delete this.a.jp};m.k=function(){var a=new R(1.5*this.ly,0,0);switch(this.a.name){case "obstacle_one.actor":this.a.Ob.Sd(a);break;case "mail_hook.actor":this.a.Ob.Sd(a)}};
m.Gf=function(a){this.mv=a.Ad;this.ev=a.sd;this.fv=a.Vd;this.gv=a.Wd;this.pv=a.we;this.lv=a.le;this.nv=a.Tc;this.hv=a.ae;this.jv=a.ge;this.ov=a.pe;this.iv=a.be;this.kv=a.he;this.wB=a.Jf;this.oa=a.hd;this.ly=a.Pf;this.hB=a.Qe;this.jB=a.Se;this.iB=a.Re};m.l=A();m.GA=function(){return{Ad:this.mv,sd:this.ev,Vd:this.fv,Wd:this.gv,we:this.pv,le:this.lv}};m.zA=function(){return{Tc:this.nv,ae:this.hv,ge:this.jv,pe:this.ov,be:this.iv,he:this.kv}};m.g=function(){return{}};H("level_settings_handler");function Yb(){F.apply(this,arguments)}n.N(Yb,F);n.o("level_number_handler",Yb);m=Yb.prototype;m.f=function(){this.gy=Z.u()};m.k=A();m.l=A();
m.Gf=function(){this.fp=this.gy.se;switch(this.a.name){case "level_complete_number.actor":switch(this.fp){case 1:this.a.fa.mb("level1_done_indicator.png");break;case 2:this.a.fa.mb("level2_done_indicator.png");break;case 3:this.a.fa.mb("level3_done_indicator.png");break;case 4:this.a.fa.mb("level4_done_indicator.png");break;case 5:this.a.fa.mb("level5_done_indicator.png")}break;case "level_indicator.actor":switch(this.fp){case 1:this.a.fa.mb("level1_indicator_20x34.png");break;case 2:this.a.fa.mb("level2_indicator_20x34.png");
break;case 3:this.a.fa.mb("level3_indicator_20x34.png");break;case 4:this.a.fa.mb("level4_indicator_20x34.png");break;case 5:this.a.fa.mb("level5_indicator_20x34.png")}}};m.g=function(){return{}};H("level_number_handler");function Zb(){F.apply(this,arguments)}n.N(Zb,F);n.o("level_design_settings",Zb);m=Zb.prototype;m.f=function(){Zb.q=this};m.ca=function(){this.a.ea(this.a.Og,this)&&(this.a.Og=this)};m.aa=function(){delete this.a.Og};m.k=A();m.l=function(a){a&&Zb.q==this&&(Zb.q=i)};m.Jt=A();Zb.q=i;Zb.u=function(){return Zb.q};
Zb.prototype.g=function(){return{se:1,Ad:7,Tc:38,pe:450,ae:32,be:3E3,ge:40,he:800,Pg:68,lg:65,Jf:1500,sd:10,Vd:10,Wd:10,we:50,le:100,Pf:{type:"number",value:-5},zg:0,Qe:1.75,Se:1.75,Re:1.75,og:1.75,hd:{type:"array",r:{type:"object",r:{Dm:{type:"integer",value:1},mj:{type:"integer",value:0},nj:{type:"integer",value:0},oj:{type:"integer",value:0},qi:{type:"integer",value:0},ri:{type:"integer",value:0},si:{type:"integer",value:0},Rh:{type:"integer",value:0},Sh:{type:"integer",value:0},Th:{type:"integer",
value:0},ti:{type:"integer",value:0},vi:{type:"integer",value:0},wi:{type:"integer",value:0},aj:{type:"integer",value:0},bj:{type:"integer",value:0},Xp:{type:"integer",value:0},Yp:{type:"integer",value:0},Yl:{type:"integer",value:0},Zl:{type:"integer",value:0},Fi:{type:"integer",value:0},Gi:{type:"integer",value:0},Ki:{type:"integer",value:0},Li:{type:"integer",value:0}}}}}};H("level_design_settings");function Z(){F.apply(this,arguments)}n.N(Z,F);n.o("level_design_master",Z);Z.prototype.f=function(){Z.q=this;this.Hx()};Z.prototype.k=A();Z.prototype.l=function(a){a&&Z.q==this&&(Z.q=i)};
Z.prototype.Hx=function(){var a;a=this.a.Ib("level_design_settings.actor").P($b);this.se=a.se;this.Ad=a.Ad;this.Tc=a.Tc;this.pe=a.pe;this.ae=a.ae;this.be=a.be;this.ge=a.ge;this.he=a.he;this.Pg=a.Pg;this.lg=a.lg;this.Jf=a.Jf;this.sd=a.sd;this.Vd=a.Vd;this.Wd=a.Wd;this.we=a.we;this.le=a.le;this.Pf=a.Pf;this.zg=a.zg;this.Qe=a.Qe;this.Se=a.Se;this.Re=a.Re;this.og=a.og;this.hd=a.hd};Z.q=i;Z.u=function(){return Z.q};
Z.prototype.g=function(){return{se:1,Ad:0,Tc:0,pe:0,ae:0,be:0,ge:0,he:0,Pg:0,lg:0,Jf:0,sd:0,Vd:0,Wd:0,we:0,le:0,Pf:{type:"number",value:0},zg:0,Qe:0,Se:0,Re:0,og:0,hd:{type:"array",r:{type:"object",r:{Dm:{type:"integer",value:0},mj:{type:"integer",value:0},nj:{type:"integer",value:0},oj:{type:"integer",value:0},qi:{type:"integer",value:0},ri:{type:"integer",value:0},si:{type:"integer",value:0},Rh:{type:"integer",value:0},Sh:{type:"integer",value:0},Th:{type:"integer",value:0},ti:{type:"integer",value:0},
vi:{type:"integer",value:0},wi:{type:"integer",value:0},aj:{type:"integer",value:0},bj:{type:"integer",value:0},Xp:{type:"integer",value:0},Yp:{type:"integer",value:0},Yl:{type:"integer",value:0},Zl:{type:"integer",value:0},Fi:{type:"integer",value:0},Gi:{type:"integer",value:0},Ki:{type:"integer",value:0},Li:{type:"integer",value:0}}}}}};H("level_design_master");function $b(){F.apply(this,arguments)}n.N($b,F);n.o("level_design",$b);m=$b.prototype;m.f=function(){$b.q=this};m.ca=function(){this.a.ea(this.a.Og,this)&&(this.a.Og=this)};m.aa=function(){delete this.a.Og};m.k=A();m.l=function(a){a&&$b.q==this&&($b.q=i)};m.Jt=A();$b.q=i;$b.u=function(){return $b.q};
$b.prototype.g=function(){return{se:1,Ad:7,Tc:38,pe:450,ae:32,be:3E3,ge:40,he:800,Pg:37,lg:39,Jf:1500,sd:10,Vd:10,Wd:10,we:50,le:100,Pf:{type:"number",value:-5},zg:0,Qe:1.75,Se:1.75,Re:1.75,og:1.75,hd:{type:"array",r:{type:"object",r:{Dm:{type:"integer",value:1},mj:{type:"integer",value:0},nj:{type:"integer",value:0},oj:{type:"integer",value:0},qi:{type:"integer",value:0},ri:{type:"integer",value:0},si:{type:"integer",value:0},Rh:{type:"integer",value:0},Sh:{type:"integer",value:0},Th:{type:"integer",
value:0},ti:{type:"integer",value:0},vi:{type:"integer",value:0},wi:{type:"integer",value:0},aj:{type:"integer",value:0},bj:{type:"integer",value:0},Xp:{type:"integer",value:0},Yp:{type:"integer",value:0},Yl:{type:"integer",value:0},Zl:{type:"integer",value:0},Fi:{type:"integer",value:0},Gi:{type:"integer",value:0},Ki:{type:"integer",value:0},Li:{type:"integer",value:0}}}}}};H("level_design");function ac(){F.apply(this,arguments)}n.N(ac,F);n.o("jump_input",ac);m=ac.prototype;m.f=A();m.k=function(){rpjs.game.instance.M.yk(this);rpjs.game.instance.M.zk(this)};m.l=function(){rpjs.game.instance.M.bc(this)};m.Oi=function(a){a==this.Tc&&this.a.$.na("jump_sprite",k,k,this.Qu,"jump")};m.Ll=A();m.Qu=function(a){a.a.$.na("running_sprite",h,k,f,"e")};m.ra=A();m.g=function(){return{Tc:32}};H("jump_input");function bc(){F.apply(this,arguments)}n.N(bc,F);n.o("ImageScroller",bc);m=bc.prototype;m.f=function(){3!=this.a.children.length?this.a.K():(this.qa=0,this.pf=1,this.ja=2,this.im=h)};
m.k=function(){0<this.Pb?(this.im=k,this.a.children[this.qa].transform.setPosition(-(2*this.sc),0,0),this.a.children[this.pf].transform.setPosition(-this.sc,0,0),this.a.children[this.ja].transform.setPosition(0,0,0),this.a.children[this.qa].hide()):(this.im=h,this.a.children[this.qa].transform.setPosition(0,0,0),this.a.children[this.pf].transform.setPosition(this.sc,0,0),this.a.children[this.ja].transform.setPosition(2*this.sc,0,0),this.a.children[this.ja].hide())};m.l=A();
m.ra=function(){for(var a=0;a<this.a.children.length;a++){var b=this.a.children[a],c=50/rpjs.game.instance.timing.Ma.ab,c=c*rpjs.game.instance.xj;b.transform.translate(this.Pb*c,0,0,h)}a=0;this.im===h?(this.a.children[this.qa].transform.position.x<=-this.sc&&(this.a.children[this.qa].transform.setPosition(this.a.children[this.ja].transform.position.x+this.sc,0,0),a=this.qa,this.qa=this.ja,this.ja=a,a=this.qa,this.qa=this.pf,this.pf=a,this.a.children[this.ja].hide()),this.a.children[this.ja].transform.position.x<=
1.1*this.sc&&this.a.children[this.ja].show()):(this.a.children[this.qa].transform.position.x>=this.sc&&(this.a.children[this.qa].transform.setPosition(this.a.children[this.ja].transform.position.x-this.sc,0,0),a=this.qa,this.qa=this.ja,a=this.ja=a,this.ja=this.pf,this.pf=a,this.a.children[this.qa].hide()),this.a.children[this.qa].transform.position.x>=-(1.1*this.sc)&&this.a.children[this.qa].show())};m.g=function(){return{Pb:0,sc:0}};H("ImageScroller");function X(){F.apply(this,arguments)}n.N(X,F);n.o("hud_score_display",X);m=X.prototype;m.f=function(){X.q=this;this.score=0;this.eo=k};m.k=function(){this.gj=Fb.u();this.score=this.gj.yy();this.Fq=this.a.P(Ka).i.find(this.sx);this.Fq[0].innerHTML="lvl_complete_score.actor"===this.a.name?"SCORE: "+this.score:this.score};m.l=function(a){a&&X.q==this&&(X.q=i);rpjs.game.instance.M.bc(this)};m.fo=function(a){this.a!==f&&(this.eo=a===f||a===k?k:a)};
m.Rf=function(a){this.eo===h&&(a*=2);this.score+=a;this.Fq[0].innerHTML=this.score};m.PA=B("score");m.g=function(){return{sx:"#hud_score_text"}};X.q=i;X.u=function(){return X.q};H("hud_score_display");function cc(){F.apply(this,arguments)}n.N(cc,F);n.o("hud_health_display",cc);m=cc.prototype;m.f=function(){this.Va=Z.u();this.Iz=this.Jb=this.ef=this.Va.Ad};m.k=function(){cc.q=this};m.l=function(a){a&&cc.q==this&&(cc.q=i);rpjs.game.instance.M.bc(this)};m.Qf=function(a){a!==f&&(0<this.Jb&&this.Jb<=this.ef)&&(this.Jb+=a,this.Jb<=this.ef&&this.ty(a),0>this.Jb?this.Jb=0:this.Jb>this.ef&&(this.Jb=this.ef))};m.tA=B("Jb");
m.ty=function(a){var b=204/this.ef;0>a?this.a.transform.translate(-b,0,0):this.a.transform.translate(b,0,0)};m.g=function(){return{}};cc.q=i;cc.u=function(){return cc.q};H("hud_health_display");function dc(){F.apply(this,arguments)}n.N(dc,F);n.o("hud_carcount_display",dc);m=dc.prototype;m.f=function(){this.Pe=0};m.k=function(){dc.q=this;this.yj=Z.u().hd.length;this.yj-=3;this.Un=this.a.P(Ka).i.find(this.Ns);this.Un[0].innerHTML=this.Pe+" / "+this.yj};m.l=function(a){a&&dc.q==this&&(dc.q=i);rpjs.game.instance.M.bc(this)};m.sy=function(){this.Pe+=1;this.Un[0].innerHTML=this.Pe+" / "+this.yj};m.hA=B("Pe");m.g=function(){return{Ns:"#hud_carcount_text"}};dc.q=i;dc.u=function(){return dc.q};H("hud_carcount_display");function ec(){F.apply(this,arguments)}n.N(ec,F);n.o("HTMLButtonHandler",ec);m=ec.prototype;m.f=A();m.k=A();m.l=A();m.Kl=A();m.g=function(){return{}};H("HTMLButtonHandler");function fc(){F.apply(this,arguments)}n.N(fc,F);n.o("HTMLButton",fc);m=fc.prototype;m.f=function(){rpjs.info.touchDevice&&(this.kb=k)};m.k=function(){this.Gb=this.Ln.substr(1);this.Kn=$(this.Ln,this.a.html.i);var a=this;this.Kn.bind(rpjs.info.touchDevice?"touchend":"mouseup",function(){a.Pv()});this.Kn.bind(rpjs.info.touchDevice?"touchstart":"mousedown",A())};m.l=A();m.CB=A();m.Pv=function(){this.kb!==k&&rpjs.game.instance.X.Xa("ro1.mp3");this.a.parent.ka(this.pt,{Gb:this.Gb})};
m.g=function(){return{Ln:"#button_none",pt:{type:"event"}}};H("HTMLButton");function gc(){F.apply(this,arguments)}n.N(gc,F);n.o("HideUntilOnScreen",gc);m=gc.prototype;m.f=A();m.k=function(){this.a.hide()};m.l=A();m.ra=function(){this.a.transform.position.x<this.wx+this.Gl&&this.a.show()};m.g=function(){return{screenLeft:0,wx:0,Gl:0}};H("HideUntilOnScreen");function hc(){F.apply(this,arguments)}n.N(hc,F);n.o("HeroTrainFall",hc);m=hc.prototype;m.f=A();m.k=function(){this.gi=this.a.Ib("hero_train_fall_child_fall.actor");this.gi.hide()};m.l=A();m.Mw=function(){this.gi.show();this.gi.$.na("falling_sprite",h,k,this.Yv,"e")};m.Yv=function(a){rpjs.game.instance.R(rpjs.event.custom.Zv);a.a.parent.P(hc).Nw()};m.Nw=function(){this.gi.hide();setTimeout(this.no,this.bw)};m.HB=function(a){a.a.parent.P(hc).no()};m.no=function(){rpjs.game.instance.R(rpjs.event.custom.aw)};
m.jw=function(){this.Mw()};m.g=function(){return{bw:700}};H("HeroTrainFall");function Y(){F.apply(this,arguments)}n.N(Y,F);n.o("hero_handler",Y);var ic,jc,kc,lc,mc,nc,oc,pc;Y.prototype.f=function(){this.Va=Z.u();this.Gf(this.Va);rpjs.info.touchDevice&&(this.kb=k)};Y.prototype.ca=function(){this.a.ea(this.a.xi,this)&&(this.a.xi=this)};$b.prototype.aa=function(){delete this.a.xi};m=Y.prototype;m.k=function(){rpjs.game.instance.M.yk(this);rpjs.game.instance.M.zk(this);Y.q=this;this.Hq();this.pm(k);this.om(k);this.Ex();this.Nq(k);pc=k;this.a.Ib("damage_burst.actor").hide()};
m.l=function(a){rpjs.game.instance.M.bc(this);window.clearTimeout(nc);window.clearTimeout(oc);a&&Y.q==this&&(Y.q=i)};m.Gf=function(a){this.dB=a.Ad;this.Zt=a.sd;this.$t=a.Vd;this.au=a.Wd;this.iu=a.we;this.eu=a.le;this.fu=a.Tc;this.bu=a.ae;this.Ho=a.ge;this.gu=a.pe;this.cu=a.be;this.cB=a.he;this.eB=a.Jf;this.ju=a.hd;this.hi=this.ne=k;this.rg=0;this.yv=2;this.pl=k;this.Oe=0;this.xv=0.15;this.kg=k;this.hu=a.se};
m.Oi=function(a){if(this.hi!==h){var b=this.vo(),c=this.bl(),g=this.li(),e;switch(a){case this.fu:b!==h&&(this.pm(h),g===h?this.a.$.na("jump_sprite_chain",k,k,this.bh,"e"):this.a.$.na("jump_sprite",k,k,this.bh,"e"),a=this.a.Ib("hero_collider.actor"),a.transform.translate(0,10,0),c===h&&a.transform.translate(0,15,0),e=this,nc=window.setTimeout(function(){e.pm(k)},this.gu));break;case this.Ho:c!==h&&(this.om(h),g===h?this.a.$.na("ducking_sprite_chain",h,k,f,"e"):this.a.$.na("ducking_sprite",h,k,f,"e"),
this.Cz=h,a=this.a.Ib("hero_collider.actor"),a.transform.translate(0,-15,0),b===h&&a.transform.translate(0,-10,0),e=this);break;case this.bu:if(g!==h){a=this.a.$.pb;b===h?(this.a.$.na("jump_sprite_chain",k,k,this.bh,"e"),this.a.$.ue(a)):c===h?(this.a.$.na("ducking_sprite_chain",h,k,f,"e"),this.a.$.ue(a)):this.a.$.na("running_sprite_chain",h,k,f,"e");jc=h;this.kb!==k&&rpjs.game.instance.X.Xa("chainActivate.mp3");var d=this;oc=window.setTimeout(function(){d.Hq()},this.cu)}}}};
m.Ll=function(a){if(this.hi!==h)switch(a){case this.Ho:this.om(k),this.bh(this)}};m.Ml=function(a){var b=this.li();switch(a){case "bad_guy1":if(b===k){if(this.ne===h)break;this.Zi();cc.u().Qf(-1);this.pg()}else X.u().Rf(this.Zt);break;case "bad_guy2":if(b===k){if(this.ne===h)break;this.Zi();cc.u().Qf(-1);this.pg()}else X.u().Rf(this.$t);break;case "bad_guy3":if(b===k){if(this.ne===h)break;this.Zi();cc.u().Qf(-1);this.pg()}else X.u().Rf(this.au)}};
m.Zc=function(a){var b=this.vo(),c=this.bl();switch(a){case "rr_car_gap":if(pc===k)if(dc.u().sy(),this.du=dc.u().Pe,this.du>=this.ju.length-3)pc=h,this.Vt();else if(b!==h){if(this.ne===h)break;this.st()}break;case "health":cc.u().Qf(1);this.kb!==k&&rpjs.game.instance.X.Xa("collectHealth.mp3");break;case "obstacle_one":if(c!==h){if(this.ne===h)break;this.Zi();cc.u().Qf(-1);this.pg()}break;case "coin_silver":X.u().Rf(this.iu);this.kb!==k&&rpjs.game.instance.X.Xa("pointsSilverCoin.mp3");break;case "coin_gold":X.u().Rf(this.eu);
this.kb!==k&&rpjs.game.instance.X.Xa("pointsGoldCoin.mp3");break;case "x2_jump":this.Nq(h),vb.u().Ub()}};m.pg=function(){this.Iv=cc.u().Jb;0===this.Iv&&(this.a.K(),rpjs.game.instance.zb(),rpjs.game.instance.Qa("fail_screen.scene",f,f,k))};m.bh=function(a){var b=a.a.xi.li(),c=a.a.Ib("hero_collider.actor");a.a.xi.bl()!==h?(c.transform.setPosition(0,0),b===h?a.a.$.na("running_sprite_chain",h,k,f,"e"):a.a.$.na("running_sprite",h,k,f,"e")):a.a.$.na("ducking_sprite",h,k,f,"e")};
m.Vt=function(){5===this.hu?(rpjs.game.instance.zb(),rpjs.game.instance.Qa("success_screen.scene",f,f,k)):yb.u().Ub()};m.pm=function(a){ic=a===f||a===k?k:a};m.vo=function(){return ic};m.om=function(a){kc=a===f||a===k?k:a};m.bl=function(){return kc};m.Ex=function(){lc=k};m.wA=function(){return lc};m.Hq=function(){this.a!==f&&(jc=k,this.bh(this))};m.li=function(){return jc};m.Nq=function(a){this.a!==f&&(mc=a===f||a===k?k:a)};m.ZA=function(){return mc};
m.Zi=function(){var a=this.a.Ib("damage_burst.actor");a.show();a.P(Xa).na("default",k,h);this.kb!==k&&rpjs.game.instance.X.Xa("damage.mp3")};m.st=function(){this.kb!==k&&rpjs.game.instance.X.Xa("fallGoodGuys.mp3");this.a.P(Xa).Fd(0);this.hi=this.ne=h;lc=kc=jc=ic=k;rpjs.game.instance.R(rpjs.event.custom.jw)};m.Zv=function(){cc.u().Qf(-1);this.pg()};m.aw=function(){this.a.P(Xa).Fd(1);this.hi=k;this.pl=h;this.Oe=this.rg=0;this.kg=k;this.a.$.na("running_sprite",h,k,f,"e")};
m.ra=function(a){this.pl===h&&(this.rg+=a,this.rg>=this.yv&&(this.ne=this.pl=k,this.rg=0,this.a.P(Xa).Fd(1),this.kg=k,this.Oe=0),"iPhone"!==rpjs.info.platformType&&(this.Oe+=a,this.Oe>=this.xv&&(this.kg===h?(this.kg=k,this.a.P(Xa).Fd(1)):(this.kg=h,this.a.P(Xa).Fd(0)),this.Oe=0)))};m.g=function(){return{}};Y.q=i;Y.u=function(){return Y.q};H("hero_handler");function qc(){F.apply(this,arguments)}n.N(qc,F);n.o("hero_events",qc);m=qc.prototype;m.f=A();m.k=A();m.l=A();
m.Xc=function(a){var b=this.a.parent;switch(a.La.a.name){case "rr_car_gap.actor":b.ka(rpjs.event.custom.Zc,"rr_car_gap");break;case "obstacle_one.actor":b.ka(rpjs.event.custom.Zc,"obstacle_one");break;case "coin_silver.actor":b.ka(rpjs.event.custom.Zc,"coin_silver");break;case "coin_silver_jump.actor":b.ka(rpjs.event.custom.Zc,"coin_silver");break;case "coin_gold.actor":b.ka(rpjs.event.custom.Zc,"coin_gold");break;case "coin_gold_jump.actor":b.ka(rpjs.event.custom.Zc,"coin_gold");break;case "x2_jump.actor":b.ka(rpjs.event.custom.Zc,
"x2_jump");break;case "health_jump.actor":b.ka(rpjs.event.custom.Zc,"health");break;case "mail_hook_jump.actor":b.ka(rpjs.event.custom.Zc,"mail_hook")}};m.g=function(){return{}};H("hero_events");function Pb(){F.apply(this,arguments)}n.N(Pb,F);n.o("HelpScreen",Pb);m=Pb.prototype;m.f=A();m.k=function(){this.Vs=$("#button_help_continue",this.a.html.i);var a=this;this.Vs.bind(rpjs.info.touchDevice?"touchend":"mouseup",function(){a.ku()})};m.l=A();m.Wx=function(){$("#help_bg").css("top","-384px")};m.ku=function(){$("#help_bg").css("top","-1152px")};Ob.prototype.Pi=A();Pb.prototype.g=function(){return{}};H("HelpScreen");function rc(){F.apply(this,arguments)}n.N(rc,F);n.o("health_collide",rc);m=rc.prototype;m.f=A();m.k=A();m.l=function(){rpjs.game.instance.M.bc(this)};m.Xc=function(a){a=a.La.a.name;Y.u()!==i&&"hero_collider.actor"==a&&(this.a.oe=h,this.a.hide(),this.a.Hb())};m.g=function(){return{}};H("health_collide");function sc(){F.apply(this,arguments)}n.N(sc,F);n.o("GameInit",sc);sc.prototype.f=function(){rpjs.game.instance.paused=k;rpjs.game.instance.Cc=h};sc.prototype.k=function(){rpjs.game.instance.paused=k;rpjs.game.instance.Cc=h};sc.prototype.l=A();sc.prototype.g=function(){return{}};H("GameInit");function tc(){F.apply(this,arguments)}n.N(tc,F);n.o("EndOfLevel",tc);tc.prototype.f=A();tc.prototype.k=function(){this.gj=Fb.u();this.gj.cy();this.gj.su()};tc.prototype.l=A();tc.prototype.g=function(){return{}};H("EndOfLevel");function uc(){F.apply(this,arguments)}n.N(uc,F);n.o("DisplayPlatformInfo",uc);uc.prototype.f=A();
uc.prototype.k=function(){var a=this.a.P(Ka).i;a.width();a.height();this.tu=a.find("#platform_info_text");this.tu[0].innerHTML="isServer: "+rpjs.info.isServer+"<br/>browserType: "+rpjs.info.browserType+"<br/>browserName: "+rpjs.info.browserName+"<br/>browserVersion: "+rpjs.info.browserVersion+"<br/>platformType: "+rpjs.info.platformType+"<br/>platformVersion: "+rpjs.info.platformVersion+"<br/>touchDevice: "+rpjs.info.touchDevice+"<br/>iDevice: "+rpjs.info.iDevice+"<br/>canPlayAudio: "+rpjs.info.canPlayAudio+
"<br/>buildTarget: "+rpjs.info.buildTarget+"<br/>legacyIEFilterDOMPipe: "+rpjs.info.legacyIEFilterDOMPipe+"<br/>supports3dTransform: "+rpjs.info.supports3dTransform+"<br/>resizedWidth: "+rpjs.game.instance.ix+"<br/>resizedHeight: "+rpjs.game.instance.hx+"<br/>"};uc.prototype.l=A();uc.prototype.g=function(){return{}};H("DisplayPlatformInfo");function vc(){F.apply(this,arguments)}n.N(vc,F);n.o("DestroyOnExitScreen",vc);m=vc.prototype;m.f=A();m.k=A();m.l=A();m.ra=function(){-1024>=this.a.transform.position.x&&this.a.K()};m.g=function(){return{}};H("DestroyOnExitScreen");function xc(){F.apply(this,arguments)}n.N(xc,F);n.o("coin_collide",xc);m=xc.prototype;m.f=A();m.k=A();m.l=function(){rpjs.game.instance.M.bc(this)};m.Xc=function(a){a=a.La.a.name;Y.u()!==i&&"hero_collider.actor"==a&&(this.a.oe=h,this.a.hide(),this.a.Hb())};m.g=function(){return{}};H("coin_collide");function yc(){F.apply(this,arguments)}n.N(yc,F);n.o("chain_events",yc);m=yc.prototype;m.f=A();m.k=A();m.l=A();m.Xc=function(a){var b=this.a.parent;switch(a.La.a.name){case "bad_guy1.actor":b.ka(rpjs.event.custom.Ml,"bad_guy1");break;case "bad_guy2.actor":b.ka(rpjs.event.custom.Ml,"bad_guy2");break;case "bad_guy3.actor":b.ka(rpjs.event.custom.Ml,"bad_guy3")}};m.g=function(){return{}};H("chain_events");function Bc(){F.apply(this,arguments)}n.N(Bc,F);n.o("btn_handler",Bc);m=Bc.prototype;m.f=A();m.k=function(){rpjs.game.instance.M.wn(this)};m.l=function(){rpjs.game.instance.M.bc(this)};m.Pi=A();m.g=function(){return{}};H("btn_handler");function Cc(){F.apply(this,arguments)}n.N(Cc,F);n.o("bad_guy_collide",Cc);m=Cc.prototype;m.f=function(){this.Uh=k;this.Va=Z.u();this.iz=this.Va.sd;this.Cs=50;rpjs.info.touchDevice&&(this.kb=k)};m.k=function(){this.Uh=k;this.a.Ea.enable()};m.l=function(){rpjs.game.instance.M.bc(this)};
m.Xc=function(a){var b=Y.u(),c=Tb.u(),g=k;c!==i&&(g=c.Lf);a=a.La.a.name;if(b!==i&&this.Uh===k&&(b=Y.u().li(),"bad_guy1.actor"!==a||"bad_guy2.actor"!==a||"bad_guy3.actor"!==a||"bad_guy4.actor"!==a))switch(a){case "chain_collider.actor":b===h?(this.kb!==k&&rpjs.game.instance.X.Xa("defeatChain.mp3"),this.$p(),this.a.Ea.disable(),this.a.$.na("bad_guy_fall",k,k,f,"w"),this.Uh=h):this.kb!==k&&rpjs.game.instance.X.Xa("badguyPunch.mp3");break;case "mail_hook_collider.actor":g===h&&(this.kb!==k&&rpjs.game.instance.X.Xa("defeatMailhook.mp3"),
this.$p(),this.a.Ea.disable(),this.a.$.na("bad_guy_fall",k,k,f,"w"),this.Uh=h,X.u().Rf(this.Cs))}};m.$p=function(){if(this.kb!==k)switch(Math.floor(4*Math.random()+1)){case 1:rpjs.game.instance.X.Xa("grunt1.mp3");break;case 2:rpjs.game.instance.X.Xa("grunt2.mp3");break;case 3:rpjs.game.instance.X.Xa("grunt3.mp3");break;case 4:rpjs.game.instance.X.Xa("grunt4.mp3");break;default:rpjs.game.instance.X.Xa("grunt1.mp3")}};m.xz=function(a){a.a.$.na("bad_guy_walk",h,k,f,"w")};m.g=function(){return{}};H("bad_guy_collide");function Dc(){F.apply(this,arguments)}n.N(Dc,F);n.o("AssetLoader",Dc);m=Dc.prototype;m.f=A();m.k=function(){for(var a=[],b=0,b=0;b<this.Dq.length;b++)for(var c=rpjs.game.instance.xt(this.Dq[b]),g=0;g<c.length;g++)a.push(c[g]);for(b=0;b<this.Oo.length;b++)a.push(this.Oo[b].En);rpjs.game.instance.$l.load(a)};m.l=A();m.Nl=A();m.Qi=function(){rpjs.game.instance.Zu(this.my,this.Yu)};m.g=function(){return{Dq:{type:"array",r:{type:"scene"}},Oo:{type:"array",r:{type:"image"}},my:{type:"scene"},Yu:k}};H("AssetLoader");
