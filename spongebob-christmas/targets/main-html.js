/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){var O,$,c,h,p,e,i,D,o,Z,j,f,S,E,w,Q,R,U,ca,W,X,M,z,C,L,q,k,g,H,J,y,r,P,N,s,I,B;function u(a,b){function d(){}d.prototype=a;var m=new d,c;for(c in b)m[c]=b[c];b.toString!==Object.prototype.toString&&(m.toString=b.toString);return m}function ea(a){return a instanceof Array?function(){return A.iter(a)}:"function"==typeof a.iterator?t(a,a.iterator):a.iterator}function t(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=ha++);var d;null==a.hx__closures__?a.hx__closures__={}:
d=a.hx__closures__[b.__id__];null==d&&(d=function(){return d.method.apply(d.scope,arguments)},d.scope=a,d.method=b,a.hx__closures__[b.__id__]=d);return d}var l={},n=function(){return M.__string_rec(this,"")},V=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};l.EReg=V;V.__name__=["EReg"];V.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];
else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:V};var A=function(){};l.HxOverrides=A;A.__name__=["HxOverrides"];A.dateStr=function(a){var b=a.getMonth()+1,d=a.getDate(),m=a.getHours(),c=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>d?"0"+d:""+d)+" "+(10>m?"0"+m:""+m)+":"+(10>c?"0"+c:""+c)+":"+(10>e?"0"+e:""+e)};A.strDate=function(a){switch(a.length){case 8:var a=
a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};A.cca=function(a,b){var d=a.charCodeAt(b);return d!=d?void 0:d};A.substr=function(a,b,d){if(null!=b&&0!=b&&null!=d&&0>d)return"";null==d&&(d=a.length);0>b?(b=a.length+b,0>b&&(b=
0)):0>d&&(d=a.length+d-b);return a.substr(b,d)};A.remove=function(a,b){for(var d=0,m=a.length;d<m;){if(a[d]==b)return a.splice(d,1),!0;d++}return!1};A.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var da=function(){};l.Lambda=da;da.__name__=["Lambda"];da.array=function(a){for(var b=[],a=ea(a)();a.hasNext();){var d=a.next();b.push(d)}return b};da.count=function(a,b){var d=0;if(null==b)for(var m=ea(a)();m.hasNext();)m.next(),
d++;else for(m=ea(a)();m.hasNext();){var c=m.next();b(c)&&d++}return d};var aa=function(){this.length=0};l.List=aa;aa.__name__=["List"];aa.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:aa};var ba=function(){};l.IMap=ba;ba.__name__=["IMap"];var F=function(){};l.Reflect=F;F.__name__=
["Reflect"];F.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};F.field=function(a,b){var d=null;try{d=a[b]}catch(m){}return d};F.setProperty=function(a,b,d){var m;if(a.__properties__&&(m=a.__properties__["set_"+b]))a[m](d);else a[b]=d};F.fields=function(a){var b=[];if(null!=a){var d=Object.prototype.hasOwnProperty,m;for(m in a)"__id__"!=m&&"hx__closures__"!=m&&d.call(a,m)&&b.push(m)}return b};F.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};
F.compareMethods=function(a,b){return a==b?!0:!F.isFunction(a)||!F.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};F.deleteField=function(a,b){if(!F.hasField(a,b))return!1;delete a[b];return!0};var v=function(){};l.Std=v;v.__name__=["Std"];v.string=function(a){return M.__string_rec(a,"")};v["int"]=function(a){return a|0};v.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==A.cca(a,1)||88==A.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};v.parseFloat=function(a){return parseFloat(a)};
var Y=function(){this.b=""};l.StringBuf=Y;Y.__name__=["StringBuf"];Y.prototype={addSub:function(a,b,d){this.b+=null==d?A.substr(a,b,null):A.substr(a,b,d)},__class__:Y};var T=function(){};l.StringTools=T;T.__name__=["StringTools"];T.urlEncode=function(a){return encodeURIComponent(a)};T.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};T.isSpace=function(a,b){var d=A.cca(a,b);return 8<d&&14>d||32==d};T.ltrim=function(a){for(var b=a.length,d=0;d<b&&T.isSpace(a,d);)d++;return 0<
d?A.substr(a,d,b-d):a};T.rtrim=function(a){for(var b=a.length,d=0;d<b&&T.isSpace(a,b-d-1);)d++;return 0<d?A.substr(a,0,b-d):a};T.trim=function(a){return T.ltrim(T.rtrim(a))};T.replace=function(a,b,d){return a.split(b).join(d)};var G=l.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};G.TNull=["TNull",0];G.TNull.toString=n;G.TNull.__enum__=G;G.TInt=["TInt",1];G.TInt.toString=n;G.TInt.__enum__=G;G.TFloat=["TFloat",2];G.TFloat.toString=
n;G.TFloat.__enum__=G;G.TBool=["TBool",3];G.TBool.toString=n;G.TBool.__enum__=G;G.TObject=["TObject",4];G.TObject.toString=n;G.TObject.__enum__=G;G.TFunction=["TFunction",5];G.TFunction.toString=n;G.TFunction.__enum__=G;G.TClass=function(a){a=["TClass",6,a];a.__enum__=G;a.toString=n;return a};G.TEnum=function(a){a=["TEnum",7,a];a.__enum__=G;a.toString=n;return a};G.TUnknown=["TUnknown",8];G.TUnknown.toString=n;G.TUnknown.__enum__=G;var K=function(){};l.Type=K;K.__name__=["Type"];K.getClass=function(a){return null==
a?null:a.__class__};K.getClassName=function(a){return a.__name__.join(".")};K.getEnumName=function(a){return a.__ename__.join(".")};K.resolveClass=function(a){a=l[a];return null==a||!a.__name__?null:a};K.resolveEnum=function(a){a=l[a];return null==a||!a.__ename__?null:a};K.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],
b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};K.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};K.createEnum=function(a,b,d){var m=F.field(a,b);if(null==m)throw"No such constructor "+b;if(F.isFunction(m)){if(null==d)throw"Constructor "+b+" need parameters";return m.apply(a,d)}if(null!=d&&0!=
d.length)throw"Constructor "+b+" does not need parameters";return m};K.getEnumConstructs=function(a){return a.__constructs__.slice()};K["typeof"]=function(a){switch(typeof a){case "boolean":return G.TBool;case "string":return G.TClass(String);case "number":return Math.ceil(a)==a%2147483648?G.TInt:G.TFloat;case "object":if(null==a)return G.TNull;var b=a.__enum__;if(null!=b)return G.TEnum(b);a=a.__class__;return null!=a?G.TClass(a):G.TObject;case "function":return a.__name__||a.__ename__?G.TObject:
G.TFunction;case "undefined":return G.TNull;default:return G.TUnknown}};K.allEnums=function(a){for(var b=[],d=a.__constructs__,m=0;m<d.length;){var c=d[m];++m;c=F.field(a,c);F.isFunction(c)||b.push(c)}return b};l.XmlType={__ename__:["XmlType"],__constructs__:[]};var x=function(){};l.Xml=x;x.__name__=["Xml"];x.parse=function(a){return E.Parser.parse(a)};x.createElement=function(a){var b=new x;b.nodeType=x.Element;b._children=[];b._attributes=new w.StringMap;b.set_nodeName(a);return b};x.createPCData=
function(a){var b=new x;b.nodeType=x.PCData;b.set_nodeValue(a);return b};x.createCData=function(a){var b=new x;b.nodeType=x.CData;b.set_nodeValue(a);return b};x.createComment=function(a){var b=new x;b.nodeType=x.Comment;b.set_nodeValue(a);return b};x.createDocType=function(a){var b=new x;b.nodeType=x.DocType;b.set_nodeValue(a);return b};x.createProcessingInstruction=function(a){var b=new x;b.nodeType=x.ProcessingInstruction;b.set_nodeValue(a);return b};x.createDocument=function(){var a=new x;a.nodeType=
x.Document;a._children=[];return a};x.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&A.remove(a._parent._children,a);a._parent=this;this._children.push(a)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var d=this._children[a];if(d.nodeType==x.Element)return d;a++}return null},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=
this.cur,d=this.x.length;b<d;){var m=this.x[b];if(m.nodeType==x.Element&&m._nodeName==a)break;b++}this.cur=b;return b<d},next:function(){for(var b=this.cur,d=this.x.length;b<d;){var m=this.x[b];b++;if(m.nodeType==x.Element&&m._nodeName==a)return this.cur=b,m}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&!(this.x[a].nodeType==x.Element);)a+=1;this.cur=a;return a<b},next:function(){for(var a=
this.cur,b=this.x.length;a<b;){var d=this.x[a],a=a+1;if(d.nodeType==x.Element)return this.cur=a,d}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},exists:function(a){if(this.nodeType!=x.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=x.Element)throw"bad nodeType";this._attributes.set(a,b)},get:function(a){if(this.nodeType!=
x.Element)throw"bad nodeType";return this._attributes.get(a)},set_nodeValue:function(a){if(this.nodeType==x.Element||this.nodeType==x.Document)throw"bad nodeType";return this._nodeValue=a},get_nodeValue:function(){if(this.nodeType==x.Element||this.nodeType==x.Document)throw"bad nodeType";return this._nodeValue},set_nodeName:function(a){if(this.nodeType!=x.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=x.Element)throw"bad nodeType";return this._nodeName},
__class__:x};O=function(){};$=void 0;c=void 0;h=void 0;p=void 0;l["com.nick.spongebob.stop_motion_holiday.DocumentApp"]=O;O.__name__=["com","nick","spongebob","stop_motion_holiday","DocumentApp"];O.main=function(){C.init();O._fillEntity=new L;O._fillSprite=new q.FillSprite(0,8,8);O._fillSprite.setScaleXY(128,128);O._fillEntity.add(O._fillSprite);C.root.addChild(O._fillEntity);e.JSEmbedProxy.get_exists()?e.JSEmbedProxy.get_isCrossdomain()?e.WorkinCloud.get_instance().get_assets().setCrossdomainBaseUrl(O.appendAssetsToUrl(e.JSEmbedProxy.get_base())):
e.WorkinCloud.get_instance().get_assets().set_baseUrl(O.trimUrl(e.JSEmbedProxy.get_base())):e.WorkinCloud.get_instance().get_assets().set_baseUrl("");e.WorkinCloud.get_instance().get_assets().load(O._onBootstrapLoad,null,["bootstrap"])};O._onBootstrapLoad=function(){O._initServices();Q.delay(O._initMain,800)};O._initMain=function(){O._main=new $};O._initServices=function(){for(var a=e.WorkinCloud.get_instance().get_assets().getXML(c.ConstantsApp.CONFIG_XML_PATH).node.resolve("services").nodes.resolve("service").iterator();a.hasNext();){var b=
[a.next()];switch(b[0].att.resolve("type").toString()){case "omniture":"true"==b[0].att.resolve("enabled").toString()&&i.ServiceOmniture.init();break;case "kontagent":if("true"==b[0].att.resolve("enabled").toString()){var d=b[0].att.resolve("url").toString(),m=z.document.createElement("script");m.setAttribute("id","kontagent_api");m.setAttribute("type","text/javascript");m.setAttribute("src",d+"kontagent_api.js");z.document.getElementsByTagName("head")[0].appendChild(m);m=z.document.createElement("script");
m.setAttribute("id",d+"kontagent_proxy");m.setAttribute("type","text/javascript");z.document.getElementsByTagName("head")[0].appendChild(m);Q.delay(function(a){return function(){"true"==a[0].att.resolve("enabledQA").toString()?i.ServiceKontagent.init(a[0].att.resolve("id_qa").toString(),!0):i.ServiceKontagent.init(a[0].att.resolve("id_live").toString(),!1)}}(b),800)}break;case "analytics":"true"==b[0].att.resolve("enabled").toString()&&i.ServiceAnalytics.init(b[0].att.resolve("id").toString());break;
case "canadaTracking":"true"==b[0].att.resolve("enabled").toString()&&i.ServiceAnalytics.enableCanadaTracking(b[0].att.resolve("showGameTitle").toString());break;case "nickavatar":"true"==b[0].att.resolve("enabled").toString()?i.ServiceNickAvatar.get_instance().enable(b[0].att.resolve("url").toString()):i.ServiceNickAvatar.get_instance().disable();break;case "leaderboard":"true"==b[0].att.resolve("enabled").toString()?i.ServiceNickLeaderboard.get_instance().enable(b[0].att.resolve("url").toString(),
b[0].att.resolve("keyword").toString()):i.ServiceNickLeaderboard.get_instance().disable()}}};O.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=A.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=A.substr(a,b,a.length-b);return a=O.appendAssetsToUrl(a)};O.appendAssetsToUrl=function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");
return a};$=function(){this._MIN_FPS=1/15;this._RATE_REFRESH_SCALE=0.4;this._root=C.root;this._timeline=new L;this._root.addChild(this._timeline);C.uncaughtError.connect(t(this,this.errorHandler));e.WorkinCloud.get_instance().get_input().prime();this._scaleSprite=new q.Sprite;this._timeline.add(this._scaleSprite);this._layerWorld=new L;this._layerUI=new L;this._timeline.addChild(this._layerWorld);this._timeline.addChild(this._layerUI);this._dt=0;this._timerRefreshScale=0.0010;this._isUIActive=this._isWorldActive=
!1;this._flagFirstPlay=!0;this._flagInitialLoadComplete=this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._debugEnabled=this._flagJSEmbedExists=this._flagJSEmbedPauseState=!1;e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_SCALE_TYPE,"none");M.__instanceof(C._platform.getStage(),k.html.HtmlStage)&&(D.ConstantsCloud.scaleFactor=M.__cast(C._platform.getStage(),k.html.HtmlStage).scaleFactor);this._flagJSEmbedExists=e.JSEmbedProxy.get_exists();e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS,
this._flagJSEmbedExists);this._flagJSEmbedExists?e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_SCALE_TYPE,e.JSEmbedProxy.get_scaleType()):(this._scaleSprite.scaleX.set__(this._scaleSprite.scaleY.set__(D.ConstantsCloud.scaleFactor)),e.WorkinCloud.get_instance().get_input().set_scale(D.ConstantsCloud.scaleFactor));c.ConstantsApp.OPTION_FILL_CANVAS="fill"==e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_SCALE_TYPE)||"fillto"==e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_SCALE_TYPE)||
"filltop"==e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_SCALE_TYPE);this._changeActions=[];this._flowstack=[];this._addEventListeners();this._beginEngine()};l["com.nick.spongebob.stop_motion_holiday.Main"]=$;$.__name__=["com","nick","spongebob","stop_motion_holiday","Main"];$.prototype={_disposeWorld:function(){this._isWorldActive&&(this._isWorldActive=!1,this._world.dispose(),this._world=null)},_onEventInterfaceChange:function(a){this._executeInterfaceChange(a.flowId,a.screenId)},
_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0,e.WorkinCloud.get_instance().get_sound().playSound("audio/silent"))},_onEventFilesLoading:function(a){e.WorkinCloud.get_instance().setInt(D.ConstantsCloud.INT_LOADING_PROGRESS,a.get_data().value)},_onEventInput:function(a){this._handleWebAudioUnlock();e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)||(this._isUIActive&&this._ui.handleInput(a),this._isWorldActive&&this._world.handleInput(a))},
_onFlowEvent:function(a){this._addFlowEvent(a.flowId)},_onMuteToggle:function(){e.WorkinCloud.get_instance().get_sound().setMute(!e.WorkinCloud.get_instance().get_sound().getMute());this._ui.isScreenOpen(c.ConstantsScreen.SCREEN_GAMEPLAY_MENU)?i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.MENU_VOLUME):i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.VOLUME_BUTTON)},_disableInput:function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(o.WMEventInput.EVENT_INPUT,t(this,this._onEventInput))},
_enableInput:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(o.WMEventInput.EVENT_INPUT,t(this,this._onEventInput))},_addEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(o.WMEventUpdate.EVENT_UPDATE,t(this,this._onEventUpdate));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_MUTE_TOGGLE,t(this,this._onMuteToggle));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(o.WMEventFlow.EVENT_FLOW,
t(this,this._onFlowEvent));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE,t(this,this._onWorldGenerationComplete));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(D.ConstantsCloud.EVENT_FILES_LOADING,t(this,this._onEventFilesLoading));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsScreen.EVENT_INITIAL_LOAD_COMPLETE,t(this,this._eventInitialLoadComplete))},_executeInterfaceChange:function(a,b){for(var d=
this._changeActions.length;0<d;)d--,this._changeActions[d].get_screenId()==b&&this._changeActions[d].get_changeEvent()==a&&(this._changeActions[d].get_action()(),this._changeActions.splice(d,1))},_newOnChangeAction:function(a,b,d){this._changeActions.push(new h.screens.data.ChangeActionData(a,b,d))},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsApp.EVENT_UNPAUSE))},_pauseGameplay:function(a){null==
a&&(a=!0);a&&(this._flagGameplayPaused=!0);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsApp.EVENT_PAUSE))},_executeFlowStack:function(a){switch(a){case c.ConstantsScreen.FLOW_SPLASH_PLAY:i.ServiceAnalytics.sendCanadaTrackingCall("play");i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.CLICK_TO_PLAY);this._gotoAndPlayGame();this._timerAnalytics=0;break;case c.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP:this._ui.openScreen(c.ConstantsScreen.SCREEN_HELP,!1);i.ServiceAnalytics.sendMilestone("custom3");
break;case c.ConstantsScreen.FLOW_SHOP:this._ui.openScreen(c.ConstantsScreen.SCREEN_SHOP,!1);break;case c.ConstantsScreen.FLOW_SHOP_CLOSE:this._ui.closeScreen(c.ConstantsScreen.SCREEN_SHOP);break;case c.ConstantsScreen.FLOW_HELP_CLOSE:this._ui.closeScreen(c.ConstantsScreen.SCREEN_HELP);break;case c.ConstantsScreen.FLOW_GAMEPLAY_MENU:this._pauseGameplay();this._ui.openScreen(c.ConstantsScreen.SCREEN_GAMEPLAY_MENU,!1);i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.PAUSE_BUTTON);break;case c.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE:this._unpauseGameplay();
this._ui.closeScreen(c.ConstantsScreen.SCREEN_GAMEPLAY_MENU);i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.MENU_RESUME);break;case c.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT:this._ui.openScreen(c.ConstantsScreen.SCREEN_QUIT_CONFIRM,!1);break;case c.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES:this._resetFlagsResults();this._gotoEndGame(!0);this._resetGameResults();i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.LEVEL_QUIT);break;case c.ConstantsScreen.FLOW_ENTER_CODE_OPEN:this._ui.openScreen(c.ConstantsScreen.SCREEN_ENTER_CODE,
!1);i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.ENTER_CODE_BUTTON);break;case c.ConstantsScreen.FLOW_ENTER_CODE_CLOSE:this._ui.closeScreen(c.ConstantsScreen.SCREEN_ENTER_CODE);break;case c.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO:this._ui.closeScreen(c.ConstantsScreen.SCREEN_QUIT_CONFIRM);break;case c.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN:this._resetFlagsResults();this._gotoAndPlayGame();i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.LEVEL_WIN);i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.LEVEL_TIME,
this._timerAnalytics);break;case c.ConstantsScreen.FLOW_BRANCH_GAME_WIN:this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;case c.ConstantsScreen.FLOW_BRANCH_GAME_LOSE:this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!1);e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.INT_SCORE);e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.INT_LIVES);break;case c.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN:this._disposeWorld();i.ServiceAnalytics.sendCanadaTrackingCall("replay");
i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.PLAY_AGAIN);this._onGameNew();this._gotoAndPlayGame();this._resetGameResults();e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PAUSED,!1);break;case c.ConstantsScreen.FLOW_LOAD_CLOSE:this._gotoAndPlayGame();break;case c.ConstantsScreen.FLOW_MINIGAME_CLOSE:this._ui.closeScreen(c.ConstantsScreen.SCREEN_MINIGAME,!0);this._disableInput();this._ui.changeScreenTo(c.ConstantsScreen.SCREEN_SPLASH,!0);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsScreen.FLOW_SPLASH_CLICKTRAY));
Q.delay(t(this,this._enableSplash),1200);break;case c.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP:this._ui.openScreen(c.ConstantsScreen.SCREEN_ACHIEVEMENT_POPUP,!1);break;case c.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP_CLOSE:this._ui.closeScreen(c.ConstantsScreen.SCREEN_ACHIEVEMENT_POPUP);break;case c.ConstantsScreen.FLOW_ACHIEVEMENT:this._ui.openScreen(c.ConstantsScreen.SCREEN_ACHIEVEMENTS,!1);break;case c.ConstantsScreen.FLOW_ACHIEVEMENT_CLOSE:this._ui.closeScreen(c.ConstantsScreen.SCREEN_ACHIEVEMENTS);
break;case c.ConstantsScreen.FLOW_DEBUG_CLOSE:this._ui.closeScreen(c.ConstantsScreen.SCREEN_DEBUG,!0)}},_runFlowStack:function(){if(0!=this._flowstack.length)for(;0<this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),this._flowstack.shift()},_addFlowEvent:function(a){this._flowstack.push(a)},_hideOrientationAlert:function(){e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT,!1),e.JSEmbedProxy.unpause(),
e.JSEmbedProxy.alertOff())},_showOrientationAlert:function(){e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)||(e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT,!0),e.JSEmbedProxy.pause(),e.JSEmbedProxy.alertOn(e.WorkinCloud.get_instance().get_localize().getString("orientation_landscape")))},_checkDebug:function(){this._ui.isScreenOpen(c.ConstantsScreen.SCREEN_DEBUG)||(!1==this._debugEnabled&&e.WorkinCloud.get_instance().get_input().getInput(c.ConstantsApp.INPUT_CONTROL)&&
e.WorkinCloud.get_instance().get_input().getInput(c.ConstantsApp.INPUT_Y)&&e.WorkinCloud.get_instance().get_input().getInput(c.ConstantsApp.INPUT_M)&&(this._debugEnabled=!0),!0==this._debugEnabled&&e.WorkinCloud.get_instance().get_input().getInput(c.ConstantsApp.INPUT_SHIFT)&&e.WorkinCloud.get_instance().get_input().getInput(c.ConstantsApp.INPUT_F)&&e.WorkinCloud.get_instance().get_input().getInput(c.ConstantsApp.INPUT_V)&&this._ui.openScreen(c.ConstantsScreen.SCREEN_DEBUG,!1))},_onEventUpdate:function(a){this._dt=
a.get_dt();this._dt=Math.round(1E3*this._dt)/1E3;this._dt>this._MIN_FPS&&(this._dt=this._MIN_FPS);this._timerAnalytics+=this._dt;if(this._flagJSEmbedExists&&(e.JSEmbedProxy.get_isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=e.JSEmbedProxy.get_isPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay()),this._timerRefreshScale-=this._dt,0>=this._timerRefreshScale)){this._timerRefreshScale=this._RATE_REFRESH_SCALE;if(!1==e.JSEmbedProxy.get_allowPortrait()){if(e.JSEmbedProxy.get_canvasHeight()>
e.JSEmbedProxy.get_canvasWidth()){this._showOrientationAlert();return}if(e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)){this._hideOrientationAlert();return}}if(this._flagJSEmbedExists&&(a=c.ConstantsApp.get_CANVAS_SCALE(),a!=this._scaleSprite.scaleX._value)){this._scaleSprite.scaleX.set__(this._scaleSprite.scaleY.set__(a));e.WorkinCloud.get_instance().get_input().set_scale(a);if(c.ConstantsApp.OPTION_FILL_CANVAS)if(this._scaleSprite.x.set__(-1*c.ConstantsApp.get_CANVAS_LEFT_ABSOLUTE()),
this._scaleSprite.y.set__(-1*c.ConstantsApp.get_CANVAS_TOP_ABSOLUTE()),e.JSEmbedProxy.get_isPortrait()){var b=this._scaleSprite.x;b.set__(b._value+c.ConstantsApp.get_CANVAS_HEIGHT()*a);e.WorkinCloud.get_instance().get_input().get_offset().to(c.ConstantsApp.get_CANVAS_LEFT(),c.ConstantsApp.get_CANVAS_TOP());this._scaleSprite.rotation.set__(90)}else this._scaleSprite.rotation.set__(0),e.WorkinCloud.get_instance().get_input().get_offset().to(c.ConstantsApp.get_CANVAS_LEFT(),c.ConstantsApp.get_CANVAS_TOP());
e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(c.ConstantsApp.EVENT_RESIZE_CANVAS,{scale:a}))}}e.WorkinCloud.get_instance().update(this._dt);this._isUIActive&&(c.ConstantsApp.OPTION_DEBUG_FLAG&&this._checkDebug(),this._ui.update(this._dt));this._isWorldActive&&(this._world.update(this._dt),this._world.render());e.WorkinCloud.get_instance().get_sound().update(this._dt);e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_GAME_LOSE)?this._onFlowEvent(o.WMEventFlow.request(c.ConstantsScreen.FLOW_BRANCH_GAME_LOSE)):
e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_GAME_WIN)?this._onFlowEvent(o.WMEventFlow.request(c.ConstantsScreen.FLOW_BRANCH_GAME_WIN)):e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_LEVEL_LOSE)?this._onFlowEvent(o.WMEventFlow.request(c.ConstantsScreen.FLOW_BRANCH_LEVEL_LOSE)):e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_LEVEL_WIN)&&this._onFlowEvent(o.WMEventFlow.request(c.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN));this._runFlowStack()},_generateWorld:function(){this._isWorldActive&&
this._disposeWorld();this._isWorldActive=!0;this._world=new p.World(this._layerWorld)},_resetGameResults:function(){e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.INT_SCORE);e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.STRING_LEVEL_ID);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_JERK_COUNT,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LEVEL,0)},_resetFlagsResults:function(){e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.BOOL_GAME_WIN);e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.BOOL_GAME_LOSE);
e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.BOOL_LEVEL_WIN);e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.BOOL_LEVEL_LOSE)},_onGameNew:function(){this._resetFlagsResults()},_endGameOpenComplete:function(){var a=this;Q.delay(function(){a._disposeWorld();a._ui.changeScreenTo(c.ConstantsScreen.SCREEN_END_GAME,!1)},100)},_gotoEndGame:function(a){this._flagWonPreviousGame=a;this._newOnChangeAction(c.ConstantsScreen.SCREEN_END_GAME,c.ConstantsScreen.CHANGE_OPEN_COMPLETE,t(this,this._endGameOpenComplete));
this._ui.openScreen(c.ConstantsScreen.SCREEN_END_GAME,!1);i.ServiceAnalytics.sendMilestone("custom7");i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.GAME_OVER_SCREEN)},_enableSplash:function(){e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_TOUCH_DEVICE)||c.ConstantsApp.OPTION_HAS_MENU_MUSIC&&e.WorkinCloud.get_instance().get_sound().playMusic("game",0.5);this._ui.getScreen(c.ConstantsScreen.SCREEN_SPLASH).open(!1);this._enableInput();i.ServiceAnalytics.sendMilestone("custom2")},_onWorldGenerationCompleteDelay:function(){this._world.start();
this._unpauseGameplay();i.ServiceAnalytics.sendMilestone("custom6");this._timerAnalytics=0;i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.LEVEL_START)},_onWorldGenerationComplete:function(){Q.delay(t(this,this._onWorldGenerationCompleteDelay),300);this._ui.changeScreenTo(c.ConstantsScreen.SCREEN_GAMEPLAY_HUD,!0);i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.LEVEL_LOAD,this._timerAnalytics)},_gotoAndPlayGame:function(){var a;a=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_QUALITY);if(0==
a)a="gameplay_sd";else if(1==a)a="gameplay_hd";else throw"[Main](_gotoAndPlayGame) Error: Not expecting quality flag "+a+". Nothing loaded.";var b;b=D.ConstantsCloud.getSupportsAllAudio()?"gameplay_audio_with_soundfx":"gameplay_audio_only_music";e.WorkinCloud.get_instance().get_assets().load(t(this,this._eventLoadCompleteGameplay),[a,b],null,null,1200)},_generateUI:function(){this._isUIActive=!0;this._ui.addScreen(c.ConstantsScreen.SCREEN_MINIGAME,h.screens.ScreenMinigame);this._ui.addScreen(c.ConstantsScreen.SCREEN_CUTSCENE_BORDERS,
h.screens.ScreenGeneric);this._ui.addScreen(c.ConstantsScreen.SCREEN_SPLASH,h.screens.ScreenSplash);this._ui.addScreen(c.ConstantsScreen.SCREEN_HELP,h.screens.ScreenHelp);this._ui.addScreen(c.ConstantsScreen.SCREEN_SHOP,h.screens.ScreenShop);this._ui.addScreen(c.ConstantsScreen.SCREEN_GAMEPLAY_MENU,h.screens.ScreenGameplayMenu);this._ui.addScreen(c.ConstantsScreen.SCREEN_QUIT_CONFIRM,h.screens.ScreenQuitConfirm);this._ui.addScreen(c.ConstantsScreen.SCREEN_GAMEPLAY_HUD,h.screens.ScreenGameplayHUD);
this._ui.addScreen(c.ConstantsScreen.SCREEN_END_GAME,h.screens.ScreenEndGame);this._ui.addScreen(c.ConstantsScreen.SCREEN_PAUSE_ALERT,h.screens.ScreenPauseAlert);this._ui.addScreen(c.ConstantsScreen.SCREEN_ENTER_CODE,h.screens.ScreenEnterCode);this._ui.addScreen(c.ConstantsScreen.SCREEN_ACHIEVEMENT_POPUP,h.screens.ScreenAchievementPopup);this._ui.addScreen(c.ConstantsScreen.SCREEN_ACHIEVEMENTS,h.screens.ScreenAchievements);this._ui.addScreen(c.ConstantsScreen.SCREEN_DEBUG,h.screens.ScreenDebug);this._ui.get_dispatcher().addEventListener(o.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT,
t(this,this._onEventInterfaceChange));null},_registerInput:function(){e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_LEFT,[g.Key.Left,g.Key.A]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_RIGHT,[g.Key.Right,g.Key.D]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_UP,[g.Key.Up,g.Key.W],[c.ConstantsApp.VIRTUAL_JUMP]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_DOWN,[g.Key.Down,g.Key.S]);
e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_SPACE,[g.Key.Z,g.Key.Space],[c.ConstantsApp.VIRTUAL_FLASH]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_SHIFT,[g.Key.Shift]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_CONTROL,[g.Key.Control]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_F,[g.Key.F]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_M,
[g.Key.Y]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_V,[g.Key.V]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_Y,[g.Key.Y])},_setDefaults:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PAUSED,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_GAME_WIN,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_GAME_LOSE,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LEVEL_WIN,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LEVEL_LOSE,
!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_CODE_SCREEN_OPEN,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_CODE_UNLOCK,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_TOUCH_DEVICE,C._platform.getTouch().get_supported());e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BONUS_ROBOT,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BONUS,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BOSS_ACTIVE,
!1);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_HEALTH,3);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LIVES,3);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_SCORE,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_CURRENCY,200);e.WorkinCloud.get_instance().setInt(D.ConstantsCloud.INT_LOADING_PROGRESS,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LOADING_SCORE,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_ACHIEVEMENT_SCORE,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_JERK_COUNT,
0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LEVEL,0);c.Inventory.setDefaults();e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_LEVEL_ID,"level1");e.WorkinCloud.get_instance().get_sound().setMute(c.ConstantsApp.OPTION_SILENCE_AUDIO)},_openSplash:function(){this._timerAnalytics=0;try{eval('var div = document.getElementById("loadingOverlay"); div.parentNode.removeChild(div);')}catch(a){null}this._ui.changeScreenTo(c.ConstantsScreen.SCREEN_SPLASH,!1)},_beginEngine:function(){this._timeline.add(new Z.ComponentUpdater);
this._parseConfigXML();this._ui=new h.ScreenManager(this._layerUI);this._setDefaults();this._generateUI();this._registerInput();this._openSplash()},_eventInitialLoadComplete:function(){0<e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_GAME_CLASS)?e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsScreen.FLOW_LOADING_DONE)):Q.delay(t(this,this._enableSplash),1200);this._flagInitialLoadComplete=!0;i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.GAME_LOAD,
this._timerAnalytics)},_eventLoadCompleteGameplay:function(){this._isWorldActive?null:this._generateWorld()},_parseConfigXML:function(){for(var a=e.WorkinCloud.get_instance().get_assets().getXML(c.ConstantsApp.CONFIG_XML_PATH),b=a.node.resolve("chunks").nodes.resolve("chunk").iterator();b.hasNext();){var d=b.next();e.WorkinCloud.get_instance().get_assets().addChunk(d.att.resolve("id").toString(),d)}b=!1;C._platform.getTouch().get_supported()&&(b="false"==a.node.resolve("quality").att.resolve("forceLowQualityMobile")?
!1:!0);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LOW_QUALITY_MOBILE,b);!0==b?e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_QUALITY,0):e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_QUALITY,v.parseInt(a.node.resolve("quality").att.resolve("index")));a.hasNode.resolve("minigame")?e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_GAME_CLASS,v.parseInt(a.node.resolve("minigame").att.resolve("type"))):e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_GAME_CLASS,
0);a.hasNode.resolve("unlockCode")?e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_UNLOCK_CODE,a.node.resolve("unlockCode").get_innerData()):e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_UNLOCK_CODE,"000000");e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ALLOW_UNLOCK,!1);a.hasNode.resolve("unlockEnabled")&&e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ALLOW_UNLOCK,"true"==a.node.resolve("unlockEnabled").get_innerData());"true"==a.node.resolve("achievements").att.resolve("enabled").toString()&&
e.WorkinCloud.get_instance().get_achievements().init();e.WorkinCloud.get_instance().setString(D.ConstantsCloud.STRING_REGION_ID,v.string(a.node.resolve("localization").node.resolve("region").get_innerData()));null},errorHandler:function(){null},__class__:$};c={};c.Achievement=l["com.nick.spongebob.stop_motion_holiday.data.Achievement"]={__ename__:"com,nick,spongebob,stop_motion_holiday,data,Achievement".split(","),__constructs__:"ACHIEVEMENT_FIRSTPLAY,ACHIEVEMENT_LEVEL2,ACHIEVEMENT_SCORE100,ACHIEVEMENT_LEVEL5,ACHIEVEMENT_SCORE1000,ACHIEVEMENT_CODEUNLOCKED".split(",")};
c.Achievement.ACHIEVEMENT_FIRSTPLAY=["ACHIEVEMENT_FIRSTPLAY",0];c.Achievement.ACHIEVEMENT_FIRSTPLAY.toString=n;c.Achievement.ACHIEVEMENT_FIRSTPLAY.__enum__=c.Achievement;c.Achievement.ACHIEVEMENT_LEVEL2=["ACHIEVEMENT_LEVEL2",1];c.Achievement.ACHIEVEMENT_LEVEL2.toString=n;c.Achievement.ACHIEVEMENT_LEVEL2.__enum__=c.Achievement;c.Achievement.ACHIEVEMENT_SCORE100=["ACHIEVEMENT_SCORE100",2];c.Achievement.ACHIEVEMENT_SCORE100.toString=n;c.Achievement.ACHIEVEMENT_SCORE100.__enum__=c.Achievement;c.Achievement.ACHIEVEMENT_LEVEL5=
["ACHIEVEMENT_LEVEL5",3];c.Achievement.ACHIEVEMENT_LEVEL5.toString=n;c.Achievement.ACHIEVEMENT_LEVEL5.__enum__=c.Achievement;c.Achievement.ACHIEVEMENT_SCORE1000=["ACHIEVEMENT_SCORE1000",4];c.Achievement.ACHIEVEMENT_SCORE1000.toString=n;c.Achievement.ACHIEVEMENT_SCORE1000.__enum__=c.Achievement;c.Achievement.ACHIEVEMENT_CODEUNLOCKED=["ACHIEVEMENT_CODEUNLOCKED",5];c.Achievement.ACHIEVEMENT_CODEUNLOCKED.toString=n;c.Achievement.ACHIEVEMENT_CODEUNLOCKED.__enum__=c.Achievement;c.Achievements=function(){};
l["com.nick.spongebob.stop_motion_holiday.data.Achievements"]=c.Achievements;c.Achievements.__name__="com,nick,spongebob,stop_motion_holiday,data,Achievements".split(",");c.Achievements.achievmentData=function(a){switch(a[1]){case 0:return{id:"firstplay",valueId:c.ConstantsApp.BOOL_GAME_LOSE,value:!0,points:1};case 1:return{id:"level2",valueId:c.ConstantsApp.INT_LEVEL,value:2,points:1};case 3:return{id:"level5",valueId:c.ConstantsApp.INT_LEVEL,value:5,points:3};case 2:return{id:"score100",valueId:c.ConstantsApp.INT_SCORE,
value:100,points:1};case 4:return{id:"score1000",valueId:c.ConstantsApp.INT_SCORE,value:1E3,points:5};case 5:return{id:"codeunlocked",valueId:c.ConstantsApp.BOOL_CODE_UNLOCK,value:!0,points:10}}};c.ConstantsApp=function(){};l["com.nick.spongebob.stop_motion_holiday.data.ConstantsApp"]=c.ConstantsApp;c.ConstantsApp.__name__="com,nick,spongebob,stop_motion_holiday,data,ConstantsApp".split(",");c.ConstantsApp.get_CANVAS_SCALE=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)?
1:e.JSEmbedProxy.get_canvasScale()*D.ConstantsCloud.scaleFactor};c.ConstantsApp.get_CANVAS_LEFT_ABSOLUTE=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?0:-e.JSEmbedProxy.get_contentOffsetX()};c.ConstantsApp.get_CANVAS_TOP_ABSOLUTE=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?0:-e.JSEmbedProxy.get_contentOffsetY()};c.ConstantsApp.get_CANVAS_LEFT=
function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?0:e.JSEmbedProxy.get_isPortrait()?-(e.JSEmbedProxy.get_contentOffsetY()/c.ConstantsApp.get_CANVAS_SCALE()):-(e.JSEmbedProxy.get_contentOffsetX()/c.ConstantsApp.get_CANVAS_SCALE())};c.ConstantsApp.get_CANVAS_TOP=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?0:e.JSEmbedProxy.get_isPortrait()?-(e.JSEmbedProxy.get_contentOffsetX()/
c.ConstantsApp.get_CANVAS_SCALE()):-(e.JSEmbedProxy.get_contentOffsetY()/c.ConstantsApp.get_CANVAS_SCALE())};c.ConstantsApp.get_CANVAS_RIGHT=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?c.ConstantsApp.STAGE_WIDTH:e.JSEmbedProxy.get_scaledWidth()/e.JSEmbedProxy.get_canvasScale()+c.ConstantsApp.get_CANVAS_LEFT()};c.ConstantsApp.get_CANVAS_BOTTOM=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||
!c.ConstantsApp.OPTION_FILL_CANVAS?c.ConstantsApp.STAGE_HEIGHT:e.JSEmbedProxy.get_scaledHeight()/e.JSEmbedProxy.get_canvasScale()+c.ConstantsApp.get_CANVAS_TOP()};c.ConstantsApp.get_CANVAS_WIDTH=function(){return c.ConstantsApp.get_CANVAS_RIGHT()-c.ConstantsApp.get_CANVAS_LEFT()};c.ConstantsApp.get_CANVAS_HEIGHT=function(){return c.ConstantsApp.get_CANVAS_BOTTOM()-c.ConstantsApp.get_CANVAS_TOP()};c.ConstantsScreen=function(){};l["com.nick.spongebob.stop_motion_holiday.data.ConstantsScreen"]=c.ConstantsScreen;
c.ConstantsScreen.__name__="com,nick,spongebob,stop_motion_holiday,data,ConstantsScreen".split(",");c.Item=l["com.nick.spongebob.stop_motion_holiday.data.Item"]={__ename__:"com,nick,spongebob,stop_motion_holiday,data,Item".split(","),__constructs__:["ITEM_SWORD","ITEM_SHIELD","ITEM_CANDLE","ITEM_GLOVES"]};c.Item.ITEM_SWORD=["ITEM_SWORD",0];c.Item.ITEM_SWORD.toString=n;c.Item.ITEM_SWORD.__enum__=c.Item;c.Item.ITEM_SHIELD=["ITEM_SHIELD",1];c.Item.ITEM_SHIELD.toString=n;c.Item.ITEM_SHIELD.__enum__=c.Item;
c.Item.ITEM_CANDLE=["ITEM_CANDLE",2];c.Item.ITEM_CANDLE.toString=n;c.Item.ITEM_CANDLE.__enum__=c.Item;c.Item.ITEM_GLOVES=["ITEM_GLOVES",3];c.Item.ITEM_GLOVES.toString=n;c.Item.ITEM_GLOVES.__enum__=c.Item;c.Inventory=function(){};l["com.nick.spongebob.stop_motion_holiday.data.Inventory"]=c.Inventory;c.Inventory.__name__="com,nick,spongebob,stop_motion_holiday,data,Inventory".split(",");c.Inventory.getUniqueSuffix=function(a){switch(a[1]){case 0:return"sword";case 1:return"shield";case 2:return"candle";
case 3:return"gloves"}};c.Inventory.getRankDefault=function(a){switch(a[1]){case 0:return 1;default:return 0}};c.Inventory.getRankCap=function(a){switch(a[1]){case 0:return 3;case 1:return 3;case 2:return 3;case 3:return 2}};c.Inventory.getCostNextRank=function(a){switch(a[1]){case 0:return 200+20*c.Inventory.getRank(a);case 1:return 20+20*c.Inventory.getRank(a);case 2:return 30+20*c.Inventory.getRank(a);case 3:return 40+20*c.Inventory.getRank(a)}};c.Inventory.getIcon=function(a){return"icon_"+c.Inventory.getUniqueSuffix(a)};
c.Inventory.getLocalizationNameID=function(a){var b="";return b="item_name_"+c.Inventory.getUniqueSuffix(a)};c.Inventory.getLocalizationDescID=function(a,b){null==b&&(b=0);var d="";return d=0>=c.Inventory.getRank(a)+b?"item_unowned":"item_desc_"+c.Inventory.getUniqueSuffix(a)+"_"+(c.Inventory.getRank(a)+b)};c.Inventory.getCurrencyType=function(){return c.ConstantsApp.INT_CURRENCY};c.Inventory.canAffordNextRank=function(a){return c.Inventory.hasRankCapped(a)?!1:e.WorkinCloud.get_instance().getInt(c.Inventory.getCurrencyType(a))>=
c.Inventory.getCostNextRank(a)};c.Inventory.hasRankCapped=function(a){return c.Inventory.getRank(a)>=c.Inventory.getRankCap(a)};c.Inventory.getRank=function(a){return e.WorkinCloud.get_instance().getInt(c.Inventory.getRankStorageID(a))};c.Inventory.setRank=function(a,b){e.WorkinCloud.get_instance().setInt(c.Inventory.getRankStorageID(a),b)};c.Inventory.addRank=function(a,b){null==b&&(b=1);e.WorkinCloud.get_instance().modifyInt(c.Inventory.getRankStorageID(a),b)};c.Inventory.setDefaults=function(){c.Inventory.setRanksToDefault();
c.Inventory.output()};c.Inventory.setRanksToDefault=function(){for(var a=0,b=K.allEnums(c.Item);a<b.length;){var d=b[a];++a;c.Inventory.setRank(d,c.Inventory.getRankDefault(d))}};c.Inventory.getRankStorageID=function(a){return"int_rank_"+c.Inventory.getUniqueSuffix(a)};c.Inventory.output=function(){for(var a=0,b=K.allEnums(c.Item);a<b.length;)++a,null};c.Inventory.getItemList=function(){return K.allEnums(c.Item)};h={ScreenManager:function(a){this._dispatcher=o.WMEventDispatcher.request();this._container=
a;this._layerScreen=new L;this._container.addChild(this._layerScreen);this._isPaused=!1;this._screens=[];this._screensOpen=[];this._screensQueue=[];this._flagCloseAllScreensWhenBottomCloses=this._flagHasScreenshot=!1}};l["com.nick.spongebob.stop_motion_holiday.ui.ScreenManager"]=h.ScreenManager;h.ScreenManager.__name__="com,nick,spongebob,stop_motion_holiday,ui,ScreenManager".split(",");h.ScreenManager.prototype={_removeScreenDisplay:function(a){this._layerScreen.removeChild(a)},_dispatchEventChange:function(a,
b){this._dispatcher.dispatchEvent(o.WMEventInterfaceChange.request(a,b))},_onQueueConditionMet:function(a,b){null==b&&(b="");for(var d=0;d<this._screensQueue.length;)this._screensQueue[d].validateCondition(a,b)&&(this._generateScreen(this._screensQueue[d].screenData),this._screensQueue.splice(d,1)),d++},_getScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return this._screens[b];b--}return null},_hasScreenData:function(a){for(var b=this._screens.length-1;0<=
b;){if(this._screens[b].id==a)return!0;b--}return!1},_onEventScreenOutput:function(a){a.flowId==c.ConstantsScreen.OUTPUT_OPENED?this._dispatchEventChange(c.ConstantsScreen.CHANGE_OPEN_COMPLETE,a.screenId):a.flowId==c.ConstantsScreen.OUTPUT_CLOSED&&(this._dispatchEventChange(c.ConstantsScreen.CHANGE_CLOSE_COMPLETE,a.screenId),this._onQueueConditionMet(c.ConstantsScreen.CONDITION_CLOSED_SPECIFIC,a.screenId))},_disposeScreen:function(a){for(var b=0;b<this._screensOpen.length;){if(this._screensOpen[b].id==
a){this._screensOpen[b].get_dispatcher().removeEventListener(o.WMEventScreenOut.EVENT_SCREEN_OUTPUT,t(this,this._onEventScreenOutput));this._removeScreenDisplay(this._screensOpen[b].get_root());this._screensOpen[b].dispose();this._screensOpen.splice(b,1);break}b++}},_generateScreen:function(a){if(this.isScreenOpen(a.id))this.getScreen(a.id).reset(),this._dispatchEventChange(c.ConstantsScreen.CHANGE_OPEN_BEGIN,a.id);else{var b=K.createInstance(a.screenClass,[a.id,this._container]);null!=b&&(this._screensOpen.push(b),
b.renderElements(),b.get_dispatcher().addEventListener(o.WMEventScreenOut.EVENT_SCREEN_OUTPUT,t(this,this._onEventScreenOutput)),b.open(!0),this._dispatchEventChange(c.ConstantsScreen.CHANGE_OPEN_BEGIN,a.id))}},_addScreenToQueue:function(a,b,d){null==d&&(d="");this.hasQueuedScreen(a.id)||this._screensQueue.push(new h.screens.data.ScreenQueueData(a,b,d))},removeAllQueuedScreens:function(){for(var a=this._screensQueue.length-1;0<=a;)this._screensQueue.splice(a,1),a--},removeQueuedScreen:function(a){for(var b=
this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a){this._screensQueue.splice(b,1);break}b--}},hasQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a)return!0;b--}return!1},isScreenOpen:function(a){for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return!0;b--}return!1},getScreen:function(a){null==a&&(a="");if(0==this._screensOpen.length)return null;if(""==a)return this._screensOpen[this._screensOpen.length-
1];for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return this._screensOpen[b];b--}return null},update:function(a){if(!this._isPaused){0.15<a&&(a=0.15);for(this._loop=this._screensOpen.length-1;0<=this._loop;)this._screensOpen[this._loop].update(a),this._screensOpen[this._loop].renderElements(),this._screensOpen[this._loop].flagDispose&&(this._disposeScreen(this._screensOpen[this._loop].id),0==this._screensOpen.length&&this._onQueueConditionMet(c.ConstantsScreen.CONDITION_CLOSED_ALL)),
this._loop--}},changeScreenTo:function(a,b){null==b&&(b=!1);this.removeAllQueuedScreens();var d;if(this.isScreenOpen(a)){for(d=this._screensOpen.length-1;0<=d;)this._screensOpen[d].id!=a&&this.closeScreen(this._screensOpen[d].id,b,d),d--;this._dispatchEventChange(c.ConstantsScreen.CHANGE_OPEN_BEGIN,a);this._dispatchEventChange(c.ConstantsScreen.CHANGE_OPEN_COMPLETE,a)}else if(0<this._screensOpen.length){this._screensOpen[0].suspend();var m=c.ConstantsScreen.CONDITION_CLOSED_ALL;if(0<this._screensOpen.length&&
(this.closeScreen(this._screensOpen[0].id,b,0),1<this._screensOpen.length))for(d=1;d<this._screensOpen.length;)this.closeScreen(this._screensOpen[d].id,b,this._screensOpen.length),d++;this.openScreen(a,!0,m)}else this.openScreen(a,!1)},openScreen:function(a,b,d,m){null==m&&(m="");null==d&&(d=0);null==b&&(b=!0);this._hasScreenData(a)&&!this.isScreenOpen(a)&&(d!=c.ConstantsScreen.CONDITION_IMMEDIATE&&b&&0<this._screensOpen.length?this._addScreenToQueue(this._getScreenData(a),d,m):this._generateScreen(this._getScreenData(a)))},
closeScreen:function(a,b,d){null==d&&(d=-1);null==b&&(b=!0);null==a&&(a="");if(0==this._screensOpen.length)this.removeQueuedScreen(a);else{if(""==a)d=this._screensOpen[this._screensOpen.length-1];else if(0<=d&&d<this._screensOpen.length)d=this._screensOpen[d];else if(d=this.getScreen(a),null==d){this.removeQueuedScreen(a);return}d.close(b);this._dispatchEventChange(c.ConstantsScreen.CHANGE_CLOSE_BEGIN,a)}},handleInput:function(a){for(var b=0,d=this._screensOpen;b<d.length;){var m=d[b];++b;m.handleInput(a)}},
addScreen:function(a,b){this._screens.push(new h.screens.data.ScreenData(a,b))},get_dispatcher:function(){return this._dispatcher},__class__:h.ScreenManager};h.buttons={};h.buttons._ButtonBase={};h.buttons._ButtonBase.ButtonState=l["com.nick.spongebob.stop_motion_holiday.ui.buttons._ButtonBase.ButtonState"]={__ename__:"com,nick,spongebob,stop_motion_holiday,ui,buttons,_ButtonBase,ButtonState".split(","),__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};h.buttons._ButtonBase.ButtonState._STATE_UP=
["_STATE_UP",0];h.buttons._ButtonBase.ButtonState._STATE_UP.toString=n;h.buttons._ButtonBase.ButtonState._STATE_UP.__enum__=h.buttons._ButtonBase.ButtonState;h.buttons._ButtonBase.ButtonState._STATE_DOWN=["_STATE_DOWN",1];h.buttons._ButtonBase.ButtonState._STATE_DOWN.toString=n;h.buttons._ButtonBase.ButtonState._STATE_DOWN.__enum__=h.buttons._ButtonBase.ButtonState;h.buttons._ButtonBase.ButtonState._STATE_OVER=["_STATE_OVER",2];h.buttons._ButtonBase.ButtonState._STATE_OVER.toString=n;h.buttons._ButtonBase.ButtonState._STATE_OVER.__enum__=
h.buttons._ButtonBase.ButtonState;h.buttons._ButtonBase.ButtonState._STATE_CLICK=["_STATE_CLICK",3];h.buttons._ButtonBase.ButtonState._STATE_CLICK.toString=n;h.buttons._ButtonBase.ButtonState._STATE_CLICK.__enum__=h.buttons._ButtonBase.ButtonState;j={};e=void 0;i=void 0;D=void 0;o=void 0;Z=void 0;f=void 0;S=void 0;j.IPoolable=function(){};l["com.workinman.display.IPoolable"]=j.IPoolable;j.IPoolable.__name__=["com","workinman","display","IPoolable"];j.IPoolable.prototype={__class__:j.IPoolable};j.Poolable=
function(){this._flagPooled=!0;this._flagActive=!1};l["com.workinman.display.Poolable"]=j.Poolable;j.Poolable.__name__=["com","workinman","display","Poolable"];j.Poolable.__interfaces__=[j.IPoolable];j.Poolable.prototype={set_isPooled:function(a){return this._flagPooled=a},get_isPooled:function(){return this._flagPooled},dispose:function(){this.release()},release:function(){this._flagActive=!1},renew:function(){this._flagActive=!0},__class__:j.Poolable};j.IRenderable=function(){};l["com.workinman.display.IRenderable"]=
j.IRenderable;j.IRenderable.__name__=["com","workinman","display","IRenderable"];j.IRenderable.prototype={__class__:j.IRenderable};j.Element=function(a){j.Poolable.call(this,a);this._children=[];this._rootEntity=new L;this._rootSprite=new q.Sprite;this._rootEntity.add(this._rootSprite);this._imageEntity=new L;this._rootEntity.addChild(this._imageEntity);this._imageSprite=new q.Sprite;this._imageEntity.add(this._imageSprite);this._format=j.ELEMENT_FORMAT.EMPTY;this._imageSprite.set_pixelSnapping(!1);
this._rootSprite.set_pixelSnapping(!1);this._manager=null;null!=a.manager&&(this._manager=a.manager);this._pos=f.WorkinPoint.request();this._velocity=f.WorkinPoint.request();this._render=j.Renderable.request();this._originX=this._originY=this._offsetX=this._offsetY=0;this._uniqueId=D.ConstantsCloud.getUniqueId();this._layer="";this._useCamera=!0;this._doDelete=!1;!0==a.pooled?this.set_isPooled(!0):(this.set_isPooled(!1),this.renew(a));this._addEventListeners()};l["com.workinman.display.Element"]=
j.Element;j.Element.__name__=["com","workinman","display","Element"];j.Element.__interfaces__=[j.IRenderable];j.Element.__super__=j.Poolable;j.Element.prototype=u(j.Poolable.prototype,{disableSnapping:function(){this._rootSprite.set_pixelSnapping(!1);return this},_removeEventListeners:function(){},_addEventListeners:function(){},setRenderOffset:function(a,b){this._offsetX=a;this._offsetY=b;return this},contains:function(a,b){return a>=this._render.x-this._originX*this._render.width&&b>=this._render.y-
this._originY*this._render.height&&a<=this._render.x-this._originX*this._render.width+this._render.width&&b<=this._render.y-this._originY*this._render.height+this._render.height},setOrigin:function(a,b){this._originX=a;this._originY=b;0==this._render.width&&(this._render.width=this._imageSprite.getNaturalWidth());0==this._render.height&&(this._render.height=this._imageSprite.getNaturalHeight());this._imageSprite.x.set__(-(this._originX*this._render.width));this._imageSprite.y.set__(-(this._originY*
this._render.height))},renderPosition:function(a){if(null==a||!1==this._useCamera){if(!1==this._render.visible){this._rootSprite.set_visible(!1);return}this._render.x=this._pos.x+this._offsetX;this._render.y=this._pos.y+this._offsetY;this._render.z=this._pos.z;j.Element._renderScale=1}else{this._render.z=this._pos.z-a.get_pos().z;if(this._render.z<-a.focalLength||!1==this._render.visible){this._rootSprite.set_visible(!1);return}j.Element._renderScale=0>=a.focalLength?1:a.focalLength/(a.focalLength+
this._render.z);this._render.x=a.get_worldCenterX()+(this._pos.x-a.get_pos().x+a.get_screenCenterX()+this._offsetX-a.get_worldCenterX())*j.Element._renderScale;this._render.y=a.get_worldCenterY()+(this._pos.y-a.get_pos().y+a.get_screenCenterY()+this._offsetY-a.get_worldCenterY())*j.Element._renderScale}this._rootSprite.set_visible(!0);this._rootSprite.x.set__(this._render.x);this._rootSprite.y.set__(this._render.y);this._rootSprite.scaleX.set__(this._render.scaleX*j.Element._renderScale);this._rootSprite.scaleY.set__(this._render.scaleY*
j.Element._renderScale);this._rootSprite.rotation.set__(this._render.rotation);this._rootSprite.alpha.set__(this._render.alpha)},addElement:function(a){a.set_usecamera(!1);this._children.push(a);this.get_root().addChild(a.get_root());null!=this._manager&&this._manager.addElement(a);return a},updatePositionFromVelocity:function(a){this._pos.x+=this._velocity.x*a;this._pos.y+=this._velocity.y*a},update:function(){},_orientTexture:function(a){a&&(this._render.width=this._imageSprite.getNaturalWidth(),
this._render.height=this._imageSprite.getNaturalHeight());this._imageSprite.x.set__(-(this._originX*this._render.width));this._imageSprite.y.set__(-(this._originY*this._render.height))},setImageSprite:function(a){a.set_pixelSnapping(!1);this._determineFormat(a);this._imageEntity.remove(this._imageSprite);this._imageSprite.dispose();this._imageSprite=a;this._orientTexture(!0);this._imageEntity.add(this._imageSprite);this._format==j.ELEMENT_FORMAT.TEXTURE&&(this._textureSprite=this._imageSprite)},setTextureAsset:function(a){if(""==
a||!1==e.WorkinCloud.get_instance().get_assets().hasAsset(a))""!=a&&null;else switch(this._format[1]){case 1:this._textureSprite.setTexture(a);this._orientTexture(!0);break;default:this.setImageSprite(new j.SubImageSprite(a))}},_setFormat:function(a){this._format!=a&&(this._cleanOldFormat(a),this._format=a)},_cleanOldFormat:function(){switch(this._format[1]){case 0:break;case 1:this._textureSprite=null;break;default:null}},_determineFormat:function(a){M.__instanceof(a,j.SubImageSprite)?this._setFormat(j.ELEMENT_FORMAT.TEXTURE):
this._setFormat(j.ELEMENT_FORMAT.EMPTY)},applyRender:function(){this.renderPosition(this._manager.get_camera())},set_usecamera:function(a){this._useCamera=a;return this.get_usecamera()},get_usecamera:function(){return this._useCamera},set_pointerEnabled:function(a){this._imageSprite.set_pointerEnabled(a);return this.get_pointerEnabled()},get_pointerEnabled:function(){return 0!=(this._imageSprite._flags&2)},originEquals:function(a,b){return a==this._originX&&b==this._originY},set_manager:function(a){this._manager=
a;for(a=0;a<this._children.length;)!0==this._children[a].get_doDelete()?this._children.splice(a,1):(null!=this._children[a].get_manager()&&this._children[a].get_manager().removeElement(this._children[a]),this._manager.addElement(this._children[a]),a++);return this.get_manager()},get_manager:function(){return this._manager},set_originY:function(a){this.setOrigin(this.get_originX(),a);return this.get_originY()},get_originY:function(){return this._originY},set_originX:function(a){this.setOrigin(a,this.get_originY());
return this.get_originX()},get_originX:function(){return this._originX},get_onScreen:function(){return!0},get_uniqueId:function(){return this._uniqueId},set_layer:function(a){return this._layer=a},get_layer:function(){return this._layer},get_subDepth:function(){return 0},get_depth:function(){return-this._pos.z},get_rootSprite:function(){return this._rootSprite},get_root:function(){return this._rootEntity},get_updateable:function(){return this},get_handRender:function(){return this},get_renderable:function(){return this._render},
set_doDelete:function(a){return this._doDelete=a},get_doDelete:function(){return this._doDelete},set_velocity:function(a){this._velocity.toPoint(a);return this._velocity},get_velocity:function(){return this._velocity},set_pos:function(a){this._pos.toPoint(a);return this._pos},get_pos:function(){return this._pos},destroy:function(){this.set_doDelete(!0)},disablePointerInput:function(){this._rootSprite.disablePointer();return this},dispose:function(){this.get_isPooled()?this.release():(this._format=
null,this._removeEventListeners(),this._rootEntity.dispose(),this._rootEntity=null,this._rootSprite.dispose(),this._rootSprite=null,this._imageEntity.dispose(),this._imageEntity=null,this._imageSprite.dispose(),this._textureSprite=this._imageSprite=null,this._pos.dispose(),this._pos=null,this._velocity.dispose(),this._velocity=null,this._render.dispose(),this._manager=this._children=this._render=null)},release:function(){this.get_isPooled()&&j.Poolable.prototype.release.call(this)},renew:function(a){a.asset&&
this.setTextureAsset(a.asset);this._doDelete=!1;this._render.width=0;this._render.height=0;a.layer&&(this._layer=a.layer);null!=a.x&&(this._pos.x=a.x);null!=a.y&&(this._pos.y=a.y);null!=a.z&&(this._pos.z=a.z);null!=a.rot&&(this._render.rotation=a.rot);null!=a.scale&&(this._render.scaleX=this._render.scaleY=a.scale);null!=a.scaleX&&(this._render.scaleX=a.scaleX);null!=a.scaleY&&(this._render.scaleY=a.scaleY);null!=a.useCamera&&(this._useCamera=a.useCamera);if(null!=a.origin){if(M.__instanceof(a.origin,
f.WorkinPoint))throw"ERROR: Do not send a WorkinPoint as an origin. Send originX and originY separately, or send a float that will apply to both x and y.";a.originX=a.originY=a.origin}null==a.originX&&(a.originX=0);null==a.originY&&(a.originY=0);this.setOrigin(a.originX,a.originY);j.Poolable.prototype.renew.call(this,a)},__class__:j.Element,__properties__:{set_pos:"set_pos",get_pos:"get_pos",set_velocity:"set_velocity",get_velocity:"get_velocity",set_doDelete:"set_doDelete",get_doDelete:"get_doDelete",
get_renderable:"get_renderable",get_handRender:"get_handRender",get_updateable:"get_updateable",get_root:"get_root",get_rootSprite:"get_rootSprite",get_depth:"get_depth",get_subDepth:"get_subDepth",set_layer:"set_layer",get_layer:"get_layer",get_uniqueId:"get_uniqueId",get_onScreen:"get_onScreen",set_originX:"set_originX",get_originX:"get_originX",set_originY:"set_originY",get_originY:"get_originY",set_manager:"set_manager",get_manager:"get_manager",set_pointerEnabled:"set_pointerEnabled",get_pointerEnabled:"get_pointerEnabled",
set_usecamera:"set_usecamera",get_usecamera:"get_usecamera"}});C=void 0;L=void 0;q=void 0;k=void 0;g=void 0;H=void 0;J=void 0;y=void 0;r=void 0;P=void 0;N=void 0;s=void 0;I=void 0;B=void 0;B=void 0;B=void 0;H={Point:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b}};l["flambe.math.Point"]=H.Point;H.Point.__name__=["flambe","math","Point"];H.Point.prototype={__class__:H.Point};h.buttons.ButtonBase=function(a,b,d,m,c,g,i,k,l){null==l&&(l="");null==k&&(k="");null==i&&(i="");null==g&&(g=
"");null==c&&(c=0.5);null==m&&(m=0.5);this._DEBUG_SHOW_HITBOX=!1;j.Element.call(this,{x:a,y:b,asset:this._assetUp,originX:m,originY:c});this._dispatcher=o.WMEventDispatcher.request();this._tween=d;this._containsInput=this._hitTestResult=!1;this._returnData=null;this._assetUp=""==g?this._getDefaultAssetUp():g;this._assetOver=""==i?this._getDefaultAssetOver():i;this._assetDown=""==k?this._getDefaultAssetDown():k;this._assetDisabled=""==l?this._getDefaultAssetDisabled():l;this._state=h.buttons._ButtonBase.ButtonState._STATE_UP;
this._flagDragged=!1;this.enable();this._buildHitBox();e.WorkinCloud.get_instance().get_dispatcher().addEventListener(o.WMEventInput.EVENT_INPUT,t(this,this._onEventInput));this._buttonScaleBase=f.WorkinPoint.request(1,1)};l["com.nick.spongebob.stop_motion_holiday.ui.buttons.ButtonBase"]=h.buttons.ButtonBase;h.buttons.ButtonBase.__name__="com,nick,spongebob,stop_motion_holiday,ui,buttons,ButtonBase".split(",");h.buttons.ButtonBase.__super__=j.Element;h.buttons.ButtonBase.prototype=u(j.Element.prototype,
{_renderDisabled:function(){this.setTextureAsset(this._assetDisabled)},_renderReturnUp:function(){this._tween.tween(this._render,0.15,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_QUAD_OUT);this._renderUp()},_renderDown:function(){this._tween.tween(this._render,0.15,{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_QUAD_OUT);this.setTextureAsset(this._assetDown)},_renderOut:function(){this._tween.tween(this._render,
0.5,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_ELASTIC_OUT)},_renderOver:function(){this._tween.tween(this._render,0.15,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_QUAD_IN)},_renderUp:function(){this.setTextureAsset(this._assetUp)},setScale:function(a,b){this._buttonScaleBase.x=a;this._buttonScaleBase.y=b;this._render.scaleX=this._buttonScaleBase.x;this._render.scaleY=this._buttonScaleBase.y;
return this},_playSoundClick:function(){e.WorkinCloud.get_instance().get_sound().playSound("button")},update:function(a){j.Element.prototype.update.call(this,a)},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(h.buttons.ButtonBase.CANCEL_DRAG)},_onOut:function(){this._flagEnabled&&(this._renderOut(),this._dispatch(h.buttons.ButtonBase.OUT))},_onOver:function(){this._renderOver();this._dispatch(h.buttons.ButtonBase.OVER)},_onUp:function(){this._flagEnabled&&!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)&&
(this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(h.buttons.ButtonBase.UP))},_onDown:function(){this._flagEnabled&&!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(this._renderDown(),this._dispatch(h.buttons.ButtonBase.DOWN))},_doClick:function(){this._dispatch(h.buttons.ButtonBase.CLICK);""!=this.get__clickFlow()&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(this.get__clickFlow()));""!=this.get__clickEvent()&&
e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(this.get__clickEvent()))},_click:function(){var a=this;e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)||(this._tween.tween(this._render,0.1,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_QUAD_IN).onComplete(function(){a._tween.tween(a._render,0.4,{scaleX:a._buttonScaleBase.x,scaleY:a._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_ELASTIC_OUT).onComplete(function(){a._containsInput?
(a._state=h.buttons._ButtonBase.ButtonState._STATE_OVER,a._renderOver()):a._state=h.buttons._ButtonBase.ButtonState._STATE_UP})}),this._playSoundClick(),this._doClick())},_dispatch:function(a){this.get__DO_DISPATCH()&&(null==this._returnData?this._dispatcher.dispatchEvent(o.WMEvent.request(a)):this._dispatcher.dispatchEvent(o.WMEventHash.requestWithKeysAndValues(a,["data",this._returnData])))},get__clickFlow:function(){return""},get__clickEvent:function(){return""},get__DO_DISPATCH:function(){return!0},
_getDefaultAssetDisabled:function(){return""},_getDefaultAssetDown:function(){return""},_getDefaultAssetOver:function(){return""},_getDefaultAssetUp:function(){return""},depthTest:function(a,b,d){null==d&&(d=!1);if(!this._flagEnabled)return!1;a=e.WorkinCloud.get_instance().get_input().doDepthTestOnWorldCoordinates(a,b);this._hitTestResult=!1;a==this._imageSprite&&(this._hitTestResult=!0);!1==this._hitTestResult&&null!=this._hitBox&&a==this._hitBox&&(this._hitTestResult=!0);d&&null;return this._hitTestResult},
_onEventInput:function(a){switch(a.input){case c.ConstantsApp.INPUT_CLICK:switch(this._imageSprite.getViewMatrix().inverseTransform(a.rawX,a.rawY,h.buttons.ButtonBase._scratchPoint),this._containsInput=this._hitRect.contains(h.buttons.ButtonBase._scratchPoint.x,h.buttons.ButtonBase._scratchPoint.y),a.phase){case o.WMEventInput.PHASE_DOWN:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&this.depthTest(a.rawX,a.rawY)&&(this._state=h.buttons._ButtonBase.ButtonState._STATE_DOWN,this._onDown(a.x,
a.y))}break;case o.WMEventInput.PHASE_MOVE:switch(this._state[1]){case 0:this._containsInput&&this.depthTest(a.rawX,a.rawY)&&(this._state=h.buttons._ButtonBase.ButtonState._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=h.buttons._ButtonBase.ButtonState._STATE_UP,this._onOut())}break;case o.WMEventInput.PHASE_UP:switch(this._state[1]){case 1:this._containsInput?(this._state=h.buttons._ButtonBase.ButtonState._STATE_CLICK,this._onUp(a.x,a.y)):(this._state=h.buttons._ButtonBase.ButtonState._STATE_UP,
this._renderReturnUp())}}}},_buildHitBox:function(){this._hitRect=f.WMRectangle.request(0,0,this._render.width,this._render.height);if(this._DEBUG_SHOW_HITBOX){if(null==this._hitBox){this._hitBox=new q.FillSprite(16711680,8,8);var a=new L;a.add(this._hitBox);this._imageEntity.addChild(a)}this._hitBox.scaleX.set__(this._hitRect.get_width()/8);this._hitBox.scaleY.set__(this._hitRect.get_height()/8)}},disable:function(){this._flagEnabled=!1;this._renderDisabled()},enable:function(){this._flagEnabled=
!0;this._renderUp()},get_dispatcher:function(){return this._dispatcher},dispose:function(){this._tween=null;this.disable();e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(o.WMEventInput.EVENT_INPUT,t(this,this._onEventInput));null!=this._hitBox&&(this._hitBox.dispose(),this._hitBox=null);this._hitRect.dispose();this._hitRect=null;this._buttonScaleBase.dispose();this._state=this._buttonScaleBase=null;this._dispatcher.dispose();this._returnData=this._dispatcher=null;j.Element.prototype.dispose.call(this)},
__class__:h.buttons.ButtonBase});h.buttons.EventType=l["com.nick.spongebob.stop_motion_holiday.ui.buttons.EventType"]={__ename__:"com,nick,spongebob,stop_motion_holiday,ui,buttons,EventType".split(","),__constructs__:["EVENT_BASIC","EVENT_FLOW","EVENT_DATA"]};h.buttons.EventType.EVENT_BASIC=["EVENT_BASIC",0];h.buttons.EventType.EVENT_BASIC.toString=n;h.buttons.EventType.EVENT_BASIC.__enum__=h.buttons.EventType;h.buttons.EventType.EVENT_FLOW=["EVENT_FLOW",1];h.buttons.EventType.EVENT_FLOW.toString=
n;h.buttons.EventType.EVENT_FLOW.__enum__=h.buttons.EventType;h.buttons.EventType.EVENT_DATA=["EVENT_DATA",2];h.buttons.EventType.EVENT_DATA.toString=n;h.buttons.EventType.EVENT_DATA.__enum__=h.buttons.EventType;h.buttons.ButtonDynamic=function(a,b,d,m,c,e,f,g,i){null==i&&(i="");null==g&&(g="");null==f&&(f="");null==e&&(e="");null==c&&(c=0.5);null==m&&(m=0.5);this._event="";h.buttons.ButtonBase.call(this,a,b,d,m,c,e,f,g,i)};l["com.nick.spongebob.stop_motion_holiday.ui.buttons.ButtonDynamic"]=h.buttons.ButtonDynamic;
h.buttons.ButtonDynamic.__name__="com,nick,spongebob,stop_motion_holiday,ui,buttons,ButtonDynamic".split(",");h.buttons.ButtonDynamic.__super__=h.buttons.ButtonBase;h.buttons.ButtonDynamic.prototype=u(h.buttons.ButtonBase.prototype,{_doClick:function(){if(this._flagEnabled&&(this._dispatch(h.buttons.ButtonBase.CLICK),""!=this._event)){switch(this._eventType[1]){case 0:e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(this._event));break;case 1:e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(this._event));
break;case 2:e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(this._event,this._eventData))}this._renderUp()}},setEventWithData:function(a,b){this._event=a;this._eventType=h.buttons.EventType.EVENT_DATA;this._eventData=b},__class__:h.buttons.ButtonDynamic});h.buttons.ButtonShopBuy=function(a,b,d,m,c,e,f,g,i){null==i&&(i="");null==g&&(g="");null==f&&(f="");null==e&&(e="");null==c&&(c=0.5);null==m&&(m=0.5);h.buttons.ButtonDynamic.call(this,a,b,d,m,c,e,f,g,i);this.addElement(new j.TextLocalized(0,
0,"buy","",{originX:0.5,originY:0.5,center:!0}));this._hitBox=new q.FillSprite(16711680,this._render.width|0,this._render.height|0);a=this._hitBox.x;a.set__(a._value-(this._render.width|0)*m);a=this._hitBox.y;a.set__(a._value-(this._render.height|0)*c);this._hitBox.alpha.set__(0);m=new L;m.add(this._hitBox);this._rootEntity.addChild(m)};l["com.nick.spongebob.stop_motion_holiday.ui.buttons.ButtonShopBuy"]=h.buttons.ButtonShopBuy;h.buttons.ButtonShopBuy.__name__="com,nick,spongebob,stop_motion_holiday,ui,buttons,ButtonShopBuy".split(",");
h.buttons.ButtonShopBuy.__super__=h.buttons.ButtonDynamic;h.buttons.ButtonShopBuy.prototype=u(h.buttons.ButtonDynamic.prototype,{__class__:h.buttons.ButtonShopBuy});h.buttons.ButtonShopItem=function(a,b,d,m,e,f,g,i,k,l){null==l&&(l="");null==k&&(k="");null==i&&(i="");null==g&&(g="");null==f&&(f=0.5);null==e&&(e=0.5);h.buttons.ButtonDynamic.call(this,b,d,m,e,f,g,i,k,l);this._item=a;this.setEventWithData(c.ConstantsApp.EVENT_ITEM_SELECT,{id:this._item});this._itemIcon=this.addElement(new j.Element({asset:"button_pause",
originX:0.5,originY:0.5,x:0,y:0}));this.addElement(new j.Element({asset:"button_shop_ranking",originX:0.5,originY:0.5,x:-30,y:-32}));this._itemRank=this.addElement(new j.TextBase(-30,-30,"0","",{originX:0.5,originY:0.5,center:!0}));this._itemRank.get_renderable().scaleX=this._itemRank.get_renderable().scaleY=0.4;this._itemAvailability=this.addElement(new j.Element({asset:"button_shop_affordable",originX:0.5,originY:0.5,x:30,y:30}));this._hitBox=new q.FillSprite(16711680,this._render.width|0,this._render.height|
0);a=this._hitBox.x;a.set__(a._value-(this._render.width|0)*e);a=this._hitBox.y;a.set__(a._value-(this._render.height|0)*f);this._hitBox.alpha.set__(0);e=new L;e.add(this._hitBox);this._rootEntity.addChild(e);this.doRefreshDisplay()};l["com.nick.spongebob.stop_motion_holiday.ui.buttons.ButtonShopItem"]=h.buttons.ButtonShopItem;h.buttons.ButtonShopItem.__name__="com,nick,spongebob,stop_motion_holiday,ui,buttons,ButtonShopItem".split(",");h.buttons.ButtonShopItem.__super__=h.buttons.ButtonDynamic;h.buttons.ButtonShopItem.prototype=
u(h.buttons.ButtonDynamic.prototype,{doRefreshDisplay:function(){this._itemRank.set_text(""+c.Inventory.getRank(this._item));this._itemAvailability.get_renderable().alpha=c.Inventory.canAffordNextRank(this._item)?1:0;this._itemIcon.setTextureAsset(c.Inventory.getIcon(this._item))},__class__:h.buttons.ButtonShopItem});h.buttons.ButtonSoundToggle=function(a,b,d,m,c,e,f){this._onAssets=e;this._offAssets=f;this._refreshMuteState();h.buttons.ButtonBase.call(this,a,b,d,m,c,this._currentAssets[0],this._currentAssets[1],
this._currentAssets[3==this._currentAssets.length?2:1])};l["com.nick.spongebob.stop_motion_holiday.ui.buttons.ButtonSoundToggle"]=h.buttons.ButtonSoundToggle;h.buttons.ButtonSoundToggle.__name__="com,nick,spongebob,stop_motion_holiday,ui,buttons,ButtonSoundToggle".split(",");h.buttons.ButtonSoundToggle.__super__=h.buttons.ButtonBase;h.buttons.ButtonSoundToggle.prototype=u(h.buttons.ButtonBase.prototype,{get__clickEvent:function(){return""},_refreshMuteState:function(){this._currentAssets=e.WorkinCloud.get_instance().get_sound().getMute()?
this._offAssets:this._onAssets;this._assetUp=this._currentAssets[0];1<this._currentAssets.length?(this._assetOver=this._currentAssets[1],this._assetDown=this._currentAssets[3==this._currentAssets.length?2:1]):(this._assetOver=this._currentAssets[0],this._assetDown=this._currentAssets[0])},_doClick:function(){this._flagEnabled&&!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsApp.EVENT_MUTE_TOGGLE)),
this._refreshMuteState(),this._renderUp())},__class__:h.buttons.ButtonSoundToggle});j.Display=function(a,b,d,m,c){null==c&&(c=0);null==m&&(m=0);null==d&&(d="");this._flagLocked=!1;j.Element.call(this,{x:a,y:b,asset:d,originX:m,originY:c})};l["com.workinman.display.Display"]=j.Display;j.Display.__name__=["com","workinman","display","Display"];j.Display.__super__=j.Element;j.Display.prototype=u(j.Element.prototype,{lock:function(){this._flagLocked=!0},dispose:function(){j.Element.prototype.dispose.call(this)},
_updateValue:function(){return""},_refresh:function(){},_onUpdateDisplay:function(a){this._flagLocked||a.get_data().valueID==this._updateValue()&&this._refresh()},_removeEventListeners:function(){j.Element.prototype._removeEventListeners.call(this);e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(j.Display.EVENT_UPDATE_DISPLAY,t(this,this._onUpdateDisplay))},_addEventListeners:function(){j.Element.prototype._addEventListeners.call(this);e.WorkinCloud.get_instance().get_dispatcher().addEventListener(j.Display.EVENT_UPDATE_DISPLAY,
t(this,this._onUpdateDisplay))},__class__:j.Display});h.display={};h.display.DisplayAchievementScore=function(a,b,d){j.Display.call(this,a,b,"",0.5,0.8);this._tween=d;this._points=e.WorkinCloud.get_instance().getInt(this._updateValue());a=e.WorkinCloud.get_instance().get_localize().getLocalizeData("points");this._textNum=this.addElement(new j.TextBase(0,0,v.string(this._points),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new j.TextLocalized(-25*
this._textNum.get_renderable().scaleX,0,"points","",{originX:1,originY:0.5}));e.WorkinCloud.get_instance().setInt(this._updateValue(),e.WorkinCloud.get_instance().get_achievements().points);this._refresh()};l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayAchievementScore"]=h.display.DisplayAchievementScore;h.display.DisplayAchievementScore.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayAchievementScore".split(",");h.display.DisplayAchievementScore.__super__=j.Display;
h.display.DisplayAchievementScore.prototype=u(j.Display.prototype,{_updateValue:function(){return c.ConstantsApp.INT_ACHIEVEMENT_SCORE},_refresh:function(){this._points=e.WorkinCloud.get_instance().getInt(this._updateValue());this._textNum.set_text(v.string(this._points));f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1)},dispose:function(){this._tween=this._text=this._textNum=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayAchievementScore});h.display.DisplayCurrency=
function(a,b,d){j.Display.call(this,a,b,"",0.5,0.8);this._tween=d;this._currency=e.WorkinCloud.get_instance().getInt(this._updateValue());a=e.WorkinCloud.get_instance().get_localize().getLocalizeData("currency");this._textNum=this.addElement(new j.TextBase(0,0,v.string(this._currency),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new j.TextLocalized(-25*this._textNum.get_renderable().scaleX,0,"currency","",{originX:1,originY:0.5}));this._refresh()};
l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayCurrency"]=h.display.DisplayCurrency;h.display.DisplayCurrency.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayCurrency".split(",");h.display.DisplayCurrency.__super__=j.Display;h.display.DisplayCurrency.prototype=u(j.Display.prototype,{_updateValue:function(){return c.ConstantsApp.INT_CURRENCY},_refresh:function(){this._currency=e.WorkinCloud.get_instance().getInt(this._updateValue());this._textNum.set_text(v.string(this._currency));
f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1)},dispose:function(){this._tween=this._text=this._textNum=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayCurrency});h.display.DisplayHealth=function(a,b,d){j.Display.call(this,a,b);this._healthImage=this.addElement(new j.Element({asset:"life_3"}));this._tween=d;this._displayHealth=e.WorkinCloud.get_instance().getInt(this._updateValue());this._refresh()};l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayHealth"]=
h.display.DisplayHealth;h.display.DisplayHealth.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayHealth".split(",");h.display.DisplayHealth.__super__=j.Display;h.display.DisplayHealth.prototype=u(j.Display.prototype,{_updateValue:function(){return c.ConstantsApp.INT_LIVES},_refresh:function(){this._displayHealth=H.FMath.clamp(e.WorkinCloud.get_instance().getInt(this._updateValue()),0,3);this._healthImage.setTextureAsset("life_"+this._displayHealth)},dispose:function(){this._healthImage=
this._tween=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayHealth});h.display.DisplayJerkCount=function(a,b,d){j.Display.call(this,a,b,"",0.5,0.8);this.addElement(new j.Element({asset:"jerk_counter"}));this._tween=d;this._score=e.WorkinCloud.get_instance().getInt(this._updateValue());a=e.WorkinCloud.get_instance().get_localize().getLocalizeData("scoreNum");this._textNum=this.addElement(new j.TextBase(15,40,v.string(this._score),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));
a.dispose();this._refresh()};l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayJerkCount"]=h.display.DisplayJerkCount;h.display.DisplayJerkCount.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayJerkCount".split(",");h.display.DisplayJerkCount.__super__=j.Display;h.display.DisplayJerkCount.prototype=u(j.Display.prototype,{_updateValue:function(){return c.ConstantsApp.INT_JERK_COUNT},_refresh:function(){this._score=e.WorkinCloud.get_instance().getInt(this._updateValue());
this._textNum.set_text(v.string(this._score));f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1)},dispose:function(){this._tween=this._textNum=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayJerkCount});h.display.DisplayLoadScore=function(a,b,d){j.Display.call(this,a,b,"",0.5,0.8);this._tween=d;this._score=e.WorkinCloud.get_instance().getInt(this._updateValue());a=e.WorkinCloud.get_instance().get_localize().getLocalizeData("miniscore");this._textNum=this.addElement(new j.TextBase(0,
0,v.string(this._score),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new j.TextLocalized(-25*this._textNum.get_renderable().scaleX,0,"miniscore","",{originX:1,originY:0.5}));this._refresh()};l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayLoadScore"]=h.display.DisplayLoadScore;h.display.DisplayLoadScore.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayLoadScore".split(",");h.display.DisplayLoadScore.__super__=j.Display;
h.display.DisplayLoadScore.prototype=u(j.Display.prototype,{_updateValue:function(){return c.ConstantsApp.INT_LOADING_SCORE},_refresh:function(){this._score=e.WorkinCloud.get_instance().getInt(this._updateValue());this._textNum.set_text(v.string(this._score));f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1)},dispose:function(){this._tween=this._text=this._textNum=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayLoadScore});h.display.DisplayLoadingProgress=function(a,
b,d,m){null==m&&(m=!1);this._BAR_COLOR=11149858;this._BAR_HEIGHT=25;this._BAR_WIDTH=131.25;this._ROT=250;j.Display.call(this,a,b,"",0.5,0.5);this._minigameStyle=m;this._tween=d;this._active=!1;this._spinnerOrigin=-50;this._scale=this._minigameStyle?3:1;a=new q.FillSprite(0,this._BAR_WIDTH*this._scale,this._BAR_HEIGHT*this._scale);a.x.set__(-this._BAR_WIDTH*this._scale/2);a.y.set__(-this._BAR_HEIGHT*this._scale/2);a.alpha.set__(0.5);this._loadMin=-1;this._rootEntity.addChild((new L).add(a));this._bar=
new q.FillSprite(this._BAR_COLOR,this._BAR_WIDTH*this._scale,this._BAR_HEIGHT*this._scale);this._bar.x.set__(-this._BAR_WIDTH*this._scale/2);this._bar.y.set__(-this._BAR_HEIGHT*this._scale/2);this._bar.scaleX.set__(0.05);this._rootEntity.addChild((new L).add(this._bar));this.addElement(new j.Element({asset:"loading_faceplate",originX:0.5,originY:0.5,scale:this._scale}));this._minigameStyle||(this._spinner=this.addElement(new j.Element({asset:"loading_spinner",y:this._spinnerOrigin,originX:0.5,originY:0.5})));
this.addElement(new j.TextLocalized(0,-2,"loading","",{center:!0,originX:0.5,originY:0.5}));this._render.alpha=0};l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayLoadingProgress"]=h.display.DisplayLoadingProgress;h.display.DisplayLoadingProgress.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayLoadingProgress".split(",");h.display.DisplayLoadingProgress.__super__=j.Display;h.display.DisplayLoadingProgress.prototype=u(j.Display.prototype,{_updateValue:function(){return D.ConstantsCloud.INT_LOADING_PROGRESS},
_refresh:function(){this._bar.scaleX.set__(e.WorkinCloud.get_instance().getInt(this._updateValue())/100);this._loadMin=H.FMath.max(this._loadMin,this._bar.scaleX._value);this._bar.scaleX.set__(H.FMath.clamp(this._bar.scaleX._value,0,1))},tweenOut:function(){!1!=this._active&&(f.tween.WorkinTweenUtils.easeBounceOut(this,this._tween),this._active=!1)},tweenIn:function(a){this._active||(a&&(this._loadMin=0),f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween),this._active=!0)},update:function(a){this._minigameStyle||
(this._spinner.get_renderable().rotation+=this._ROT*a);j.Display.prototype.update.call(this,a)},get_active:function(){return this._active},dispose:function(){this._spinner=this._tween=null;this._bar.dispose();this._bar=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayLoadingProgress});h.display.DisplayPopup=function(a,b,d){j.Display.call(this,a,b,"popup",0.5,0.8);this.addElement(new j.TextLocalized(0,-110,"bonus_round1","",{center:!0,originX:0.5,originY:0.5}));this.addElement(new j.TextLocalized(0,
-70,"bonus_round2","",{center:!0,originX:0.5,originY:0.5}));this._timer=this._render.alpha=0;this._tween=d};l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayPopup"]=h.display.DisplayPopup;h.display.DisplayPopup.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayPopup".split(",");h.display.DisplayPopup.__super__=j.Display;h.display.DisplayPopup.prototype=u(j.Display.prototype,{_updateValue:function(){return c.ConstantsApp.BOOL_BONUS},_refresh:function(){this._timer=1.5;f.tween.WorkinTweenUtils.easeBounceIn(this,
this._tween,!1)},update:function(a){j.Display.prototype.update.call(this,a);0<this._timer&&(this._timer-=a,0>=this._timer&&f.tween.WorkinTweenUtils.easeBounceOut(this,this._tween,!1))},dispose:function(){this._tween=this._text=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayPopup});h.display.DisplayRobotPopup=function(a,b,d){j.Display.call(this,a,b,"popup",0.5,0.8);this.addElement(new j.TextLocalized(0,-110,"bonus_robot1","",{center:!0,originX:0.5,originY:0.5}));this.addElement(new j.TextLocalized(0,
-70,"bonus_robot2","",{center:!0,originX:0.5,originY:0.5}));this._timer=this._render.alpha=0;this._tween=d};l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayRobotPopup"]=h.display.DisplayRobotPopup;h.display.DisplayRobotPopup.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayRobotPopup".split(",");h.display.DisplayRobotPopup.__super__=j.Display;h.display.DisplayRobotPopup.prototype=u(j.Display.prototype,{_updateValue:function(){return c.ConstantsApp.BOOL_BONUS_ROBOT},_refresh:function(){e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_BONUS_ROBOT)&&
(this._timer=1.5,f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1))},update:function(a){j.Display.prototype.update.call(this,a);0<this._timer&&(this._timer-=a,0>=this._timer&&f.tween.WorkinTweenUtils.easeBounceOut(this,this._tween,!1))},dispose:function(){this._tween=this._text=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayRobotPopup});h.display.DisplayScore=function(a,b,d){j.Display.call(this,a,b,"",0.5,0.8);this._tween=d;this._score=e.WorkinCloud.get_instance().getInt(this._updateValue());
a=e.WorkinCloud.get_instance().get_localize().getLocalizeData("scoreNum");this._textNum=this.addElement(new j.TextBase(0,0,v.string(this._score),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._refresh()};l["com.nick.spongebob.stop_motion_holiday.ui.display.DisplayScore"]=h.display.DisplayScore;h.display.DisplayScore.__name__="com,nick,spongebob,stop_motion_holiday,ui,display,DisplayScore".split(",");h.display.DisplayScore.__super__=j.Display;h.display.DisplayScore.prototype=
u(j.Display.prototype,{_updateValue:function(){return c.ConstantsApp.INT_SCORE},_refresh:function(){this._score=e.WorkinCloud.get_instance().getInt(this._updateValue());this._textNum.set_text(v.string(this._score));f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1)},dispose:function(){this._tween=this._textNum=null;j.Display.prototype.dispose.call(this)},__class__:h.display.DisplayScore});h.screens={};h.screens.ScreenBase=function(a,b){this._STATE_SUSPENDED="state_suspended";this._STATE_OPENED=
"state_opened";this._STATE_OUT="state_out";this._STATE_IN="state_in";this.id=a;this._elementManager=new j.ElementManager(b,c.ConstantsApp.STAGE_CENTER_X,c.ConstantsApp.STAGE_CENTER_Y,!0,"mainui");if(this._useClickWall()){this._clickWall=new L;var d=new q.FillSprite(16711680,8,8);d.x.set__(c.ConstantsApp.get_CANVAS_LEFT());d.y.set__(c.ConstantsApp.get_CANVAS_TOP());d.scaleX.set__(c.ConstantsApp.get_CANVAS_WIDTH()/8);d.scaleY.set__(c.ConstantsApp.get_CANVAS_HEIGHT()/8);d.alpha.set__(0);this._clickWall.add(d);
this._elementManager.get_root().addChild(this._clickWall)}this._elementManager.addLayer("mainui",!1);this._dispatcher=o.WMEventDispatcher.request();this._tween=f.tween.WorkinTweener.request();this._buildScreen();this._flagStateAnimationComplete=this._flagStateCompleteTemp=this.flagDispose=!1;this._states=[];this._generateStates();this._stateIndex=this._states.length+2;this._setFirstState();this._addEventListeners()};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenBase"]=h.screens.ScreenBase;
h.screens.ScreenBase.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenBase".split(",");h.screens.ScreenBase.prototype={_onStateComplete:function(){this._flagStateCompleteTemp=!1;null!=this._states[this._stateIndex].outFunc&&this._states[this._stateIndex].outFunc();this._states[this._stateIndex].actionOnComplete!=h.screens.data.ScreenStateData.ACTION_STOP&&(this._states[this._stateIndex].actionOnComplete==h.screens.data.ScreenStateData.ACTION_OPENED?(this._setOpenedState(),this._dispatcher.dispatchEvent(o.WMEventScreenOut.request(c.ConstantsScreen.OUTPUT_OPENED,
this.id))):this._states[this._stateIndex].actionOnComplete==h.screens.data.ScreenStateData.ACTION_CLOSED?(this.setFlagDispose(),this._dispatcher.dispatchEvent(o.WMEventScreenOut.request(c.ConstantsScreen.OUTPUT_CLOSED,this.id))):this._states[this._stateIndex].actionOnComplete==h.screens.data.ScreenStateData.ACTION_NEW_STATE?this._setState(this._states[this._stateIndex].actionData):this._states[this._stateIndex].actionOnComplete==h.screens.data.ScreenStateData.ACTION_EVENT?this._dispatcher.dispatchEvent(o.WMEvent.request(this._states[this._stateIndex].actionData)):
this._states[this._stateIndex].actionOnComplete==h.screens.data.ScreenStateData.ACTION_FLOW&&this._doFlowEvent(this._states[this._stateIndex].actionData))},_removeEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_RESIZE_CANVAS,t(this,this._onEventResizeCanvas))},_addEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_RESIZE_CANVAS,t(this,this._onEventResizeCanvas))},_onEventResizeCanvas:function(){},
_findStateIndex:function(a){for(var b=this._states.length-1;0<=b;){if(this._states[b].id==a)return b;b--}return-1},get_state:function(){return this._states[this._stateIndex].id},_setState:function(a,b){null==b&&(b=!1);var d=this._findStateIndex(a);0>d||!b&&d==this._stateIndex||(this._flagStateAnimationComplete=this._flagStateCompleteTemp=!1,this._stateIndex=d,null!=this._states[this._stateIndex].inFunc&&this._states[this._stateIndex].inFunc())},_addState:function(a,b,d,m,c,e){null==m&&(m="");null==
d&&(d=0);this._states.push(new h.screens.data.ScreenStateData(a,b,d,m,c,e))},isClosing:function(){return this.get_state()==this._STATE_OUT},isOpening:function(){return this.get_state()==this._STATE_IN},disable:function(){},enable:function(){},close:function(a){null==a&&(a=!0);this.get_state()!=this._STATE_OUT&&(this._setState(this._STATE_OUT),a?this._setCloseState():(this.setFlagDispose(),this._dispatcher.dispatchEvent(o.WMEventScreenOut.request(c.ConstantsScreen.OUTPUT_CLOSED,this.id))))},suspend:function(){this._setState(this._STATE_SUSPENDED)},
_finishOpenState:function(){this._setOpenedState();this._dispatcher.dispatchEvent(o.WMEventScreenOut.request(c.ConstantsScreen.OUTPUT_OPENED,this.id))},open:function(a){null==a&&(a=!0);a?(this.get_state()!=this._STATE_IN&&this._setState(this._STATE_IN),this._setInState()):this._finishOpenState()},reset:function(){this._setFirstState()},handleInput:function(){},renderElements:function(){this._elementManager.renderElements()},update:function(a){this._tween.update(a);this._elementManager.updateElements(a);
this._flagStateCompleteTemp&&this._onStateComplete()},_doFlowEvent:function(a){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(a))},_buildScreen:function(){},_generateStates:function(){this._addState(this._STATE_IN,"in",h.screens.data.ScreenStateData.ACTION_OPENED);this._addState(this._STATE_OUT,"out",h.screens.data.ScreenStateData.ACTION_CLOSED);this._addState(this._STATE_OPENED,"open");this._addState(this._STATE_SUSPENDED,"suspend")},_setOpenedState:function(){this._setState(this._STATE_OPENED)},
_setCloseState:function(){this.setFlagDispose()},_setInState:function(){this._finishOpenState()},_setFirstState:function(){this._setState(this._STATE_IN)},_useClickWall:function(){return!0},setFlagDispose:function(){this.flagDispose=!0},get_root:function(){return this._elementManager.get_root()},get_dispatcher:function(){return this._dispatcher},dispose:function(){this._useClickWall()&&(this._clickWall.dispose(),this._clickWall=null);this._removeEventListeners();this._elementManager.dispose();this._states=
this._elementManager=null;this._tween.dispose();this._tween=null;this._dispatcher.dispose();this._dispatcher=null},__class__:h.screens.ScreenBase,__properties__:{get_dispatcher:"get_dispatcher",get_root:"get_root",get_state:"get_state"}};h.screens.ScreenAchievementPopup=function(a,b){this._LIFETIME=3;h.screens.ScreenBase.call(this,a,b);this._tray=this._elementManager.addElement(new j.Element({asset:"achievement_popopup_bg",originX:0.5,originY:0.5,x:c.ConstantsApp.STAGE_WIDTH-220,y:c.ConstantsApp.STAGE_HEIGHT-
80}));var d=e.WorkinCloud.get_instance().get_achievements().lastAchievedId;this._tray.addElement(new j.Element({x:-150,asset:"achievement_icon_"+d,originX:0.5,originY:0.5}));this._tray.addElement(new j.TextLocalized(-100,-15,"achievement_unlocked","",{originY:0.5}));this._tray.addElement(new j.TextLocalized(-100,15,"achievement_name_"+d,"",{originY:0.5}));this._tray.get_renderable().alpha=0;this._timer=this._LIFETIME};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenAchievementPopup"]=h.screens.ScreenAchievementPopup;
h.screens.ScreenAchievementPopup.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenAchievementPopup".split(",");h.screens.ScreenAchievementPopup.__super__=h.screens.ScreenBase;h.screens.ScreenAchievementPopup.prototype=u(h.screens.ScreenBase.prototype,{_setCloseState:function(){var a=this;f.tween.WorkinTweenUtils.easeSlideOutToDir(this._tray,this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(function(){a.setFlagDispose()})},_setInState:function(){var a=this;f.tween.WorkinTweenUtils.easeSlideInFromDir(this._tray,
this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(function(){a._finishOpenState()})},update:function(a){h.screens.ScreenBase.prototype.update.call(this,a);this.get_state()==this._STATE_OPENED&&0<this._timer&&(this._timer-=a,0>=this._timer&&this._doFlowEvent(c.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP_CLOSE))},dispose:function(){this._tray=null;h.screens.ScreenBase.prototype.dispose.call(this)},_useClickWall:function(){return!1},__class__:h.screens.ScreenAchievementPopup});h.screens.ScreenAchievements=
function(a,b){h.screens.ScreenBase.call(this,a,b);this._tray=this._elementManager.addElement(new j.Element({asset:"template_bg"}));this._points=this._elementManager.addElement(new h.display.DisplayAchievementScore(175,35,this._tween));this._points.get_renderable().alpha=0;this._rectVisible=new H.Rectangle(100,140,700,350);this._scrollDy=80;this._list=[];for(var d=e.WorkinCloud.get_instance().get_achievements().getAchievements(),m=0,f=d.length;m<f;){var g=m++;this._list.push(this._tray.addElement(new j.Element({asset:"achievement_list_bg",
x:c.ConstantsApp.STAGE_CENTER_X,y:this._rectVisible.y+g*this._scrollDy,originX:0.5,originY:0.5})));this._list[this._list.length-1].addElement(new j.TextLocalized(0,-15,e.WorkinCloud.get_instance().get_achievements().getLocalizationNameID(d[g]),"",{originY:0.5,originX:0.5}));this._list[this._list.length-1].addElement(new j.TextLocalized(0,15,e.WorkinCloud.get_instance().get_achievements().getLocalizationDescID(d[g]),"",{originY:0.5,originX:0.5}));e.WorkinCloud.get_instance().get_achievements().getAchieved(d[g])?
this._list[this._list.length-1].addElement(new j.Element({asset:e.WorkinCloud.get_instance().get_achievements().getIcon(d[g]),x:-220,originX:0.5,originY:0.5})):this._list[this._list.length-1].addElement(new j.Element({asset:"achievement_icon_default_locked",x:-220,originX:0.5,originY:0.5}));this._list[this._list.length-1].addElement(new j.Element({asset:"achievement_icon_default",x:220,originX:0.5,originY:0.5}));var i=new j.TextBase(220,0,"","",{originY:0.5,originX:0.5,scale:0.5});i.set_text(v.string(e.WorkinCloud.get_instance().get_achievements().getPoints(d[g])));
this._list[this._list.length-1].addElement(i)}f=0;for(m=this._list;f<m.length;)d=m[f],++f,d.get_pos().y+d.get_renderable().height<this._rectVisible.y?d.get_renderable().alpha=0:d.get_pos().y>this._rectVisible.y+this._rectVisible.height?d.get_renderable().alpha=0:d.get_renderable().alpha=1;this._tray.addElement(new j.Element({asset:"scorebox"}));this._tray.get_renderable().alpha=0;this._tray.addElement(this._buttonUp=new h.buttons.ButtonBase(840,140,this._tween,0.5,0.5,"button_play")).get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,
t(this,this._onEventUpClick));this._tray.addElement(this._buttonDown=new h.buttons.ButtonBase(840,460,this._tween,0.5,0.5,"button_play")).get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onEventDownClick));this._tray.addElement(m=new h.buttons.ButtonBase(920,40,this._tween,0.5,0.5,"button_x")).get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onEventExitClick));this._buttonUp.setScale(0.5,0.5);this._buttonDown.setScale(0.5,0.5);m.setScale(0.5,0.5);
this._buttonUp.get_renderable().rotation=-90;this._buttonDown.get_renderable().rotation=90;this._checkButtons()};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenAchievements"]=h.screens.ScreenAchievements;h.screens.ScreenAchievements.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenAchievements".split(",");h.screens.ScreenAchievements.__super__=h.screens.ScreenBase;h.screens.ScreenAchievements.prototype=u(h.screens.ScreenBase.prototype,{_onEventExitClick:function(){this.get_state()==
this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_ACHIEVEMENT_CLOSE)},_onEventDownClick:function(){var a=this;if(!(this.get_state()!=this._STATE_OPENED||this._list[this._list.length-1].get_pos().y<this._rectVisible.y+this._rectVisible.height)){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,d=this._list.length;b<d;){var m=b++;if(m==this._list.length-1)this._tween.tween(this._list[m].get_pos(),0.5,{y:this._list[m].get_pos().y-this._scrollDy},!1,f.tween.Ease.EASE_OUT).onComplete(function(){a._checkButtons()});
else this._tween.tween(this._list[m].get_pos(),0.5,{y:this._list[m].get_pos().y-this._scrollDy},!1,f.tween.Ease.EASE_OUT);this._list[m].get_pos().y<=this._rectVisible.y?this._tween.tween(this._list[m].get_renderable(),0.25,{alpha:0},!1,f.tween.Ease.EASE_OUT):this._list[m].get_pos().y-this._scrollDy<=this._rectVisible.y+this._rectVisible.height&&this._tween.tween(this._list[m].get_renderable(),0.25,{alpha:1},!1,f.tween.Ease.EASE_OUT)}}},_onEventUpClick:function(){var a=this;if(!(this.get_state()!=
this._STATE_OPENED||this._list[0].get_pos().y==this._rectVisible.y)){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,d=this._list.length;b<d;){var m=b++;if(m==this._list.length-1)this._tween.tween(this._list[m].get_pos(),0.5,{y:this._list[m].get_pos().y+this._scrollDy},!1,f.tween.Ease.EASE_OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[m].get_pos(),0.5,{y:this._list[m].get_pos().y+this._scrollDy},!1,f.tween.Ease.EASE_OUT);this._list[m].get_pos().y+
this._list[m].get_renderable().height>=this._rectVisible.y+this._rectVisible.height?this._tween.tween(this._list[m].get_renderable(),0.25,{alpha:0},!1,f.tween.Ease.EASE_OUT):this._list[m].get_pos().y+this._scrollDy>=this._rectVisible.y&&this._tween.tween(this._list[m].get_renderable(),0.25,{alpha:1},!1,f.tween.Ease.EASE_OUT)}}},_checkButtons:function(){2>Math.abs(this._list[0].get_pos().y-this._rectVisible.y)?this._buttonUp.disable():this._buttonUp.enable();this._list[this._list.length-1].get_pos().y<
this._rectVisible.y+this._rectVisible.height?this._buttonDown.disable():this._buttonDown.enable()},_setInState:function(){var a=this;f.tween.WorkinTweenUtils.easeSlideInFromDir(this._tray,this._tween,f.tween.TWEEN_DIR.TOP).onComplete(function(){a._finishOpenState()});f.tween.WorkinTweenUtils.easeBounceIn(this._points,this._tween,!0,0.55)},dispose:function(){this._list=this._points=this._buttonDown=this._buttonUp=this._tray=null;h.screens.ScreenBase.prototype.dispose.call(this)},__class__:h.screens.ScreenAchievements});
h.screens.ScreenDebug=function(a,b){h.screens.ScreenBase.call(this,a,b)};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenDebug"]=h.screens.ScreenDebug;h.screens.ScreenDebug.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenDebug".split(",");h.screens.ScreenDebug.__super__=h.screens.ScreenBase;h.screens.ScreenDebug.prototype=u(h.screens.ScreenBase.prototype,{_onCloseClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_DEBUG_CLOSE)},
_buildButtons:function(){this._addButton("X",50,50,t(this,this._onCloseClick))},_setCloseState:function(){f.tween.WorkinTweenUtils.easeSlideOutToDir(this._tray,this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(t(this,this.setFlagDispose))},_setInState:function(){f.tween.WorkinTweenUtils.easeSlideInFromDir(this._tray,this._tween,f.tween.TWEEN_DIR.TOP).onComplete(t(this,this._finishOpenState))},_addButton:function(a,b,d,m){b=this._tray.addElement(new h.buttons.ButtonBase(b-c.ConstantsApp.STAGE_CENTER_X,
d-c.ConstantsApp.STAGE_CENTER_Y,this._tween,0.5,0.5,"debug_button"));b.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,m);b.addElement(new j.TextBase(0,0,a,this._font,{origin:0.5,scale:0.5}))},dispose:function(){h.screens.ScreenBase.prototype.dispose.call(this);this._font=this._tray=null;this._fill.dispose();this._fill=null},_buildScreen:function(){this._tray=this._elementManager.addElement(new j.Element({x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y,origin:0.5}));this._fill=
new q.FillSprite(0,8,8);this._fill.scaleX.set__(c.ConstantsApp.get_CANVAS_WIDTH()/8);this._fill.scaleY.set__(c.ConstantsApp.get_CANVAS_HEIGHT()/8);this._fill.alpha.set__(0.5);this._fill.setAnchor(4,4);this._tray.get_root().addChild((new L).add(this._fill));this._tray.get_renderable().alpha=0;var a=e.WorkinCloud.get_instance().get_localize().getLocalizeData("title");this._font=a.get_fontName();a.dispose();this._tray.addElement(new j.TextBase(0,-c.ConstantsApp.STAGE_CENTER_Y+20,"Debug Menu",this._font,
{origin:0.5,scale:0.5}));this._tray.addElement(new j.TextBase(0,c.ConstantsApp.STAGE_CENTER_Y-20,"Game Version: "+c.ConstantsApp.GAME_VERSION,this._font,{origin:0.5,scale:0.5}));this._buildButtons()},__class__:h.screens.ScreenDebug});h.screens.ScreenEndGame=function(a,b){this._BLINK_TIME=1;h.screens.ScreenBase.call(this,a,b);this._blinkTimer=this._BLINK_TIME;this._closing=!1;this._tray=this._elementManager.addElement(new j.RenderSprite({asset:"gameover_screen",originX:0.5,originY:0.5,x:c.ConstantsApp.STAGE_CENTER_X,
y:c.ConstantsApp.STAGE_CENTER_Y}));this._frame=this._tray.addElement(new j.Element({originX:0.5,originY:0.5,x:0,y:-100}));this._frame.addElement(new j.TextLocalized(-140,-50,"game_over","",{originX:0.5,originY:0.5}));this._frame.addElement(new j.TextLocalized(-150,45,"score","",{originX:0.5,originY:0.5}));this._score=this._frame.addElement(new h.display.DisplayScore(-165,95,this._tween));this._score.lock();this._loadWidget=this._tray.addElement(new h.display.DisplayLoadingProgress(0,c.ConstantsApp.STAGE_CENTER_Y-
40,this._tween,!1));var d;d=e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_TOUCH_DEVICE)?"tap_anywhere_again":"click_anywhere_again";this._clickTray=this._tray.addElement(new j.Element({asset:"",originX:0.5,originY:1,x:-155,y:c.ConstantsApp.STAGE_CENTER_Y-160}));this._clickTray.addElement(new j.TextLocalized(0,-15,d+"1","",{originX:0.5,originY:1,center:!0}));this._clickTray.addElement(new j.TextLocalized(0,15,d+"2","",{originX:0.5,originY:1,center:!0}))};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenEndGame"]=
h.screens.ScreenEndGame;h.screens.ScreenEndGame.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenEndGame".split(",");h.screens.ScreenEndGame.__super__=h.screens.ScreenBase;h.screens.ScreenEndGame.prototype=u(h.screens.ScreenBase.prototype,{handleInput:function(a){switch(a.input){case c.ConstantsApp.INPUT_CLICK:case c.ConstantsApp.INPUT_SPACE:switch(a.phase){case o.WMEventInput.PHASE_DOWN:this.get_state()==this._STATE_OPENED&&!1==this._closing&&(this._closing=!0,this._tweenOutClickTray(),
this._loadWidget.tweenIn(!0),this._doFlowEvent(c.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN))}}},_tweenOutClickTray:function(){null!=this._clickTray&&f.tween.WorkinTweenUtils.easeBounceOut(this._clickTray,this._tween)},_onPlayAgainClick:function(){this._doFlowEvent(c.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN)},_setCloseState:function(){f.tween.WorkinTweenUtils.easeSlideOutToDir(this._tray,this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(t(this,this.setFlagDispose))},_setInState:function(){var a=this;
f.tween.WorkinTweenUtils.easeSlideInFromDir(this._tray,this._tween,f.tween.TWEEN_DIR.TOP).onComplete(function(){a._finishOpenState()})},update:function(a){h.screens.ScreenBase.prototype.update.call(this,a);this.get_state()==this._STATE_OPENED&&(this._blinkTimer-=a,0>=this._blinkTimer&&(0==this._clickTray.get_renderable().alpha?(this._blinkTimer=this._BLINK_TIME,this._clickTray.get_renderable().alpha=1):(this._blinkTimer=this._BLINK_TIME/2,this._clickTray.get_renderable().alpha=0)))},dispose:function(){this._loadWidget=
this._tray=this._frame=this._clickTray=this._score=this._buttonPlayAgain=this._textClickToPlay=null;h.screens.ScreenBase.prototype.dispose.call(this)},__class__:h.screens.ScreenEndGame});h.screens.ScreenEnterCode=function(a,b){this._KEY_LENGTH=0;this._OPEN_GEAR_RATE=250;this._BOTTOM_RESET=6.5;this._TOP_RESET=5;this._LOCK_STATE_OPEN=1;this._LOCK_STATE_OPENING=2;this._LOCK_STATE_LOCKED=0;h.screens.ScreenBase.call(this,a,b);this._lockState=this._LOCK_STATE_LOCKED;this._keypadListeners=[];this._closing=
!1;this._squeezeTop=this._squeezeBottom=10;this._inputBuffer="";this._KEY_LENGTH=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_UNLOCK_CODE).length;4>this._KEY_LENGTH&&(this._KEY_LENGTH=4)};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenEnterCode"]=h.screens.ScreenEnterCode;h.screens.ScreenEnterCode.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenEnterCode".split(",");h.screens.ScreenEnterCode.__super__=h.screens.ScreenBase;h.screens.ScreenEnterCode.prototype=
u(h.screens.ScreenBase.prototype,{_onEventBackClick:function(){this.get_state()==this._STATE_OPENED&&(this._doFlowEvent(c.ConstantsScreen.FLOW_ENTER_CODE_CLOSE),i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.CODE_CLICK_BACK))},update:function(a){h.screens.ScreenBase.prototype.update.call(this,a);this.get_state()==this._STATE_OPENED&&(this._lockState==this._LOCK_STATE_LOCKED?(this._squeezeBottom-=a,0>this._squeezeBottom&&(this._squeezeBottom=this._BOTTOM_RESET,this._squeezeTent(h.screens.ScreenEnterCode._tentBot,
0)),this._squeezeTop-=a,0>this._squeezeTop&&(this._squeezeTop=this._TOP_RESET,this._squeezeTent(h.screens.ScreenEnterCode._tentTop,0))):this._lockState==this._LOCK_STATE_OPENING&&(h.screens.ScreenEnterCode._gearL.get_renderable().rotation+=this._OPEN_GEAR_RATE*a,h.screens.ScreenEnterCode._gearR.get_renderable().rotation-=this._OPEN_GEAR_RATE*a))},_setCloseState:function(){var a=this;this._closing||(this._closing=!0,this._tween.tween(h.screens.ScreenEnterCode._tray.get_pos(),0.8,{x:-c.ConstantsApp.STAGE_CENTER_X},
!0,f.tween.Ease.EASE_IN).onComplete(function(){a.setFlagDispose();e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_CODE_SCREEN_OPEN,!1)}))},_squeezeTent:function(a,b){var d=this;if(!(null==h.screens.ScreenEnterCode._tentBot||null==h.screens.ScreenEnterCode._tentTop))this._tween.tween(a.get_renderable(),0.15,{scaleX:0.95,scaleY:1.05},!0,f.tween.Ease.EASE_OUT).delay(b).onComplete(function(){d._tween.tween(a.get_renderable(),0.1,{scaleX:1,scaleY:1},!0,f.tween.Ease.EASE_IN)})},_setOpenedState:function(){var a=
this;h.screens.ScreenBase.prototype._setOpenedState.call(this);this._closing=!1;h.screens.ScreenEnterCode._tray.get_renderable().alpha=1;h.screens.ScreenEnterCode._tray.get_pos().x=-c.ConstantsApp.STAGE_CENTER_X;this._tween.tween(h.screens.ScreenEnterCode._tray.get_pos(),0.3,{x:c.ConstantsApp.STAGE_CENTER_X},!0,f.tween.Ease.EASE_IN).delay(this._initPause).onComplete(function(){a._squeezeTent(h.screens.ScreenEnterCode._tentTop,0);a._squeezeTent(h.screens.ScreenEnterCode._tentBot,0.15);a._tween.tween(h.screens.ScreenEnterCode._tray.get_pos(),
0.2,{x:c.ConstantsApp.STAGE_CENTER_X-100},!0,f.tween.Ease.EASE_OUT).onComplete(function(){a._tween.tween(h.screens.ScreenEnterCode._tray.get_pos(),0.2,{x:c.ConstantsApp.STAGE_CENTER_X},!0,f.tween.Ease.EASE_IN);a._squeezeBottom=a._BOTTOM_RESET;a._squeezeTop=a._TOP_RESET})})},_keyLockedMovement:function(){this._tween.tween(h.screens.ScreenEnterCode._gearL.get_renderable(),0.5,{rotation:h.screens.ScreenEnterCode._gearL.get_renderable().rotation+30},!0,f.tween.Ease.EASE_BOUNCE_OUT);this._tween.tween(h.screens.ScreenEnterCode._gearR.get_renderable(),
0.5,{rotation:h.screens.ScreenEnterCode._gearR.get_renderable().rotation-30},!0,f.tween.Ease.EASE_BOUNCE_OUT)},_keyGearMovement:function(){this._tween.tween(h.screens.ScreenEnterCode._gearL.get_renderable(),0.15,{rotation:h.screens.ScreenEnterCode._gearL.get_renderable().rotation+10},!0,f.tween.Ease.EASE);this._tween.tween(h.screens.ScreenEnterCode._gearR.get_renderable(),0.15,{rotation:h.screens.ScreenEnterCode._gearR.get_renderable().rotation-10},!0,f.tween.Ease.EASE)},_setLockState:function(a){var b=
this;a!=this._lockState&&(this._lockState=a,this._lockState==this._LOCK_STATE_OPENING&&(this._squeezeTent(h.screens.ScreenEnterCode._tentBot,0.2),this._squeezeTent(h.screens.ScreenEnterCode._tentTop,0.5),this._tween.tween(h.screens.ScreenEnterCode._tentBot.get_pos(),0.6,{x:2*c.ConstantsApp.STAGE_WIDTH,y:c.ConstantsApp.STAGE_HEIGHT+c.ConstantsApp.STAGE_CENTER_Y}).ease(f.tween.Ease.EASE_IN).delay(0.6),this._tween.tween(h.screens.ScreenEnterCode._tentTop.get_pos(),1,{x:2*-c.ConstantsApp.STAGE_WIDTH,
y:-c.ConstantsApp.STAGE_HEIGHT}).ease(f.tween.Ease.EASE_OUT).delay(0.75),this._tween.tween(h.screens.ScreenEnterCode._keyPlate.get_renderable(),0.6,{rotation:45},!0,f.tween.Ease.EASE_BOUNCE_OUT,0.9),this._tween.tween(h.screens.ScreenEnterCode._keyPlate.get_renderable(),0.5,{rotation:90},!1,f.tween.Ease.EASE_BOUNCE_OUT,0.7).onComplete(function(){b._tween.tween(h.screens.ScreenEnterCode._keyPlate.get_pos(),1,{x:100,y:c.ConstantsApp.STAGE_HEIGHT+c.ConstantsApp.STAGE_CENTER_Y},!0,f.tween.Ease.EASE_IN,
0.3)}),this._tween.tween(h.screens.ScreenEnterCode._keyPlate.get_renderable(),2,{rotation:180},!1,f.tween.Ease.EASE_IN,0.3)))},_addInputBuffer:function(a){for(this._inputBuffer+=a;this._inputBuffer.length>this._KEY_LENGTH;)this._inputBuffer=A.substr(this._inputBuffer,1,this._inputBuffer.length);h.screens.ScreenEnterCode._keypadLoc.get_renderable().visible=!1;h.screens.ScreenEnterCode._keypadNum.get_renderable().visible=!0;h.screens.ScreenEnterCode._keypadNum.set_text(this._inputBuffer)},_resetInputBuffer:function(){this._inputBuffer=
""},_eventClickEnter:function(){this._lockState==this._LOCK_STATE_LOCKED&&(this._inputBuffer!=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_UNLOCK_CODE)?(this._resetInputBuffer(),h.screens.ScreenEnterCode._keypadNum.get_renderable().visible=!1,h.screens.ScreenEnterCode._keypadLoc.set_text("invalid_code"),h.screens.ScreenEnterCode._keypadLoc.get_renderable().visible=!0,this._keyLockedMovement(),i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.CODE_FAIL)):(e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_CODE_UNLOCK,
!0),this._setLockState(this._LOCK_STATE_OPENING),i.ServiceKontagent.sendMetric(i.ANALYTICS_EVENTS.CODE_SUCCESS)))},_eventClick9:function(){this.doKey(9)},_eventClick8:function(){this.doKey(8)},_eventClick7:function(){this.doKey(7)},_eventClick6:function(){this.doKey(6)},_eventClick5:function(){this.doKey(5)},_eventClick4:function(){this.doKey(4)},_eventClick3:function(){this.doKey(3)},_eventClick2:function(){this.doKey(2)},_eventClick1:function(){this.doKey(1)},_eventClick0:function(){this.doKey(0)},
doKey:function(a){this._lockState==this._LOCK_STATE_LOCKED&&(this._addInputBuffer(v.string(a)),this._keyGearMovement())},dispose:function(){for(this._button=null;0<this._keypadListeners.length;)h.screens.ScreenEnterCode._keypadButtons[this._keypadListeners.length-1].get_dispatcher().removeEventListener(h.buttons.ButtonBase.CLICK,this._keypadListeners.pop());this._keypadListeners=null;h.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){if(null==h.screens.ScreenEnterCode._tray){h.screens.ScreenEnterCode._tray=
this._elementManager.addElement(new j.Element({asset:"ui/code/code_back",x:c.ConstantsApp.STAGE_WIDTH/2,y:c.ConstantsApp.STAGE_HEIGHT/2,originX:0.5,originY:0.5}));h.screens.ScreenEnterCode._tray.addElement(new j.TextLocalized(0,-15,"code_copy","",{just:j.TEXT_JUSTIFICATION.JUST_CENTER,originX:0.5,originY:0.5,spacing:55}));h.screens.ScreenEnterCode._tentBot=h.screens.ScreenEnterCode._tray.addElement(new j.Element({asset:"ui/code/code_tent_bottom",x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y,
originX:1,originY:1}));h.screens.ScreenEnterCode._tentTop=h.screens.ScreenEnterCode._tray.addElement(new j.Element({asset:"ui/code/code_tent_top",x:-c.ConstantsApp.STAGE_CENTER_X,y:-c.ConstantsApp.STAGE_CENTER_Y}));h.screens.ScreenEnterCode._tray.addElement(new j.Element({asset:"ui/code/code_frame",originX:0.5,originY:0.5}));h.screens.ScreenEnterCode._keyPlate=h.screens.ScreenEnterCode._tray.addElement(new j.Element({asset:"ui/code/code_gradient",originX:0.5,originY:0.5}));h.screens.ScreenEnterCode._gearL=
h.screens.ScreenEnterCode._keyPlate.addElement(new j.Element({asset:"ui/code/code_gear",originX:0.5,originY:0.5,x:-105}));h.screens.ScreenEnterCode._gearR=h.screens.ScreenEnterCode._keyPlate.addElement(new j.Element({asset:"ui/code/code_gear",originX:0.5,originY:0.5,x:100}));h.screens.ScreenEnterCode._keyPlate.addElement(new j.Element({asset:"ui/code/code_plate",originX:0.5,originY:0.5}));h.screens.ScreenEnterCode._keyTray=h.screens.ScreenEnterCode._keyPlate.addElement(new j.Element({asset:"ui/code/code_pad",
originX:0.5,originY:0.5,x:-3}));h.screens.ScreenEnterCode._keypadLoc=h.screens.ScreenEnterCode._keyTray.addElement(new j.TextLocalized(0,-120,"enter_code_header","",{center:!0,originX:0.5,originY:0.5}));h.screens.ScreenEnterCode._keypadNum=h.screens.ScreenEnterCode._keyTray.addElement(new j.TextBase(0,-120,"","Basic",{center:!0,originX:0.5,originY:0.5,scale:0.5}));null==h.screens.ScreenEnterCode._keypadButtons&&(h.screens.ScreenEnterCode._keypadButtons=[]);for(var a=0,b=0,d=0,m="",e="",f=null;10>=
d;){e="ui/code/code_numkey";m="code_key_"+v.string(d+1);switch(d){case 0:a=-55;b=-60;f=t(this,this._eventClick1);break;case 1:a=0;f=t(this,this._eventClick2);break;case 2:a=55;f=t(this,this._eventClick3);break;case 3:a=-55;b=-5;f=t(this,this._eventClick4);break;case 4:a=0;f=t(this,this._eventClick5);break;case 5:a=55;f=t(this,this._eventClick6);break;case 6:a=-55;b=50;f=t(this,this._eventClick7);break;case 7:a=0;f=t(this,this._eventClick8);break;case 8:a=55;f=t(this,this._eventClick9);break;case 9:b=
105;f=t(this,this._eventClick0);m="code_key_0";break;case 10:a=-27.5,e="ui/code/code_enter",m="code_key_enter",f=t(this,this._eventClickEnter)}e=h.screens.ScreenEnterCode._keyTray.addElement(new h.buttons.ButtonBase(a,b,this._tween,0.5,0.5,e));e.addElement(new j.TextLocalized(-2,-3,m,"",{center:!0,originX:0.5,originY:0.5}));e.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,f);h.screens.ScreenEnterCode._keypadButtons.push(e);this._keypadListeners.push(f);f=null;d++}this._initPause=0.5}else{this._elementManager.addElement(h.screens.ScreenEnterCode._tray);
h.screens.ScreenEnterCode._keypadLoc.set_text("enter_code_header");h.screens.ScreenEnterCode._keypadLoc.get_renderable().visible=!0;h.screens.ScreenEnterCode._keypadNum.get_renderable().visible=!1;f=null;for(d=0;10>=d;){switch(d){case 0:f=t(this,this._eventClick1);break;case 1:f=t(this,this._eventClick2);break;case 2:f=t(this,this._eventClick3);break;case 3:f=t(this,this._eventClick4);break;case 4:f=t(this,this._eventClick5);break;case 5:f=t(this,this._eventClick6);break;case 6:f=t(this,this._eventClick7);
break;case 7:f=t(this,this._eventClick8);break;case 8:f=t(this,this._eventClick9);break;case 9:f=t(this,this._eventClick0);break;case 10:f=t(this,this._eventClickEnter)}h.screens.ScreenEnterCode._keypadButtons[d].get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,f);this._keypadListeners.push(f);d++}this._initPause=0.2}h.screens.ScreenEnterCode._tray.get_pos().to(c.ConstantsApp.STAGE_CENTER_X,c.ConstantsApp.STAGE_CENTER_Y);this._button=h.screens.ScreenEnterCode._tray.addElement(new h.buttons.ButtonBase(0,
250,this._tween,0.5,0.5,"ui/general/back_button"));this._button.addElement(new j.TextLocalized(0,-3,"back","",{center:!0,originX:0.5,originY:0.5}));this._button.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onEventBackClick));h.screens.ScreenEnterCode._keyPlate.get_root().parent.addChild(h.screens.ScreenEnterCode._keyPlate.get_root());h.screens.ScreenEnterCode._tray.get_renderable().alpha=0;this._inputBuffer=""},__class__:h.screens.ScreenEnterCode});h.screens.ScreenGameplayHUD=
function(a,b){h.screens.ScreenBase.call(this,a,b)};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenGameplayHUD"]=h.screens.ScreenGameplayHUD;h.screens.ScreenGameplayHUD.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenGameplayHUD".split(",");h.screens.ScreenGameplayHUD.__super__=h.screens.ScreenBase;h.screens.ScreenGameplayHUD.prototype=u(h.screens.ScreenBase.prototype,{_onEventPauseClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_GAMEPLAY_MENU)},
_onEventResizeCanvas:function(){this._tray.get_pos().x=c.ConstantsApp.get_CANVAS_LEFT();this._tray.get_pos().y=c.ConstantsApp.get_CANVAS_TOP();this._score.get_pos().x=c.ConstantsApp.get_CANVAS_RIGHT()-125;this._score.get_pos().y=c.ConstantsApp.get_CANVAS_BOTTOM()-40;this._healthCounter.get_pos().x=c.ConstantsApp.get_CANVAS_RIGHT()-365;this._healthCounter.get_pos().y=c.ConstantsApp.get_CANVAS_BOTTOM()-75;this._jerkCounter.get_pos().x=c.ConstantsApp.get_CANVAS_LEFT()+50;this._jerkCounter.get_pos().y=
c.ConstantsApp.get_CANVAS_BOTTOM()-25;this._pauseButton.get_pos().x=c.ConstantsApp.get_CANVAS_RIGHT()-110;this._pauseButton.get_pos().y=c.ConstantsApp.get_CANVAS_TOP()},_setInState:function(){f.tween.WorkinTweenUtils.easeSlideIn(this._tray,this._tween,0,-75).onComplete(t(this,this._finishOpenState));f.tween.WorkinTweenUtils.easeBounceIn(this._score,this._tween,!0,0.55);f.tween.WorkinTweenUtils.easeBounceIn(this._jerkCounter,this._tween,!0,0.55);f.tween.WorkinTweenUtils.easeBounceIn(this._healthCounter,
this._tween,!0,0.55);f.tween.WorkinTweenUtils.easeBounceIn(this._pauseButton,this._tween,!0,0.4)},dispose:function(){this._score=this._jerkCounter=this._pauseButton=null;h.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){this._tray=this._elementManager.addElement(new j.RenderSprite({asset:"gameplay_hud",origin:1,x:c.ConstantsApp.get_CANVAS_RIGHT()-10,y:c.ConstantsApp.get_CANVAS_BOTTOM()-10}));this._tray.get_renderable().alpha=0;this._score=this._elementManager.addElement(new h.display.DisplayScore(c.ConstantsApp.get_CANVAS_RIGHT()-
135,c.ConstantsApp.get_CANVAS_BOTTOM()-45,this._tween));this._score.get_renderable().alpha=0;this._healthCounter=this._elementManager.addElement(new h.display.DisplayHealth(c.ConstantsApp.get_CANVAS_RIGHT()-373,c.ConstantsApp.get_CANVAS_BOTTOM()-88,this._tween));this._healthCounter.get_renderable().alpha=0;this._jerkCounter=this._elementManager.addElement(new h.display.DisplayJerkCount(c.ConstantsApp.get_CANVAS_LEFT()+50,c.ConstantsApp.get_CANVAS_TOP()+10,this._tween));this._jerkCounter.get_renderable().alpha=
0;this._pauseButton=this._elementManager.addElement(new h.buttons.ButtonBase(c.ConstantsApp.get_CANVAS_RIGHT()-110,c.ConstantsApp.get_CANVAS_TOP(),this._tween,0.5,0,"button_pause_down"));this._pauseButton.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onEventPauseClick));this._pauseButton.get_renderable().alpha=0;this._elementManager.addElement(new h.display.DisplayPopup(c.ConstantsApp.STAGE_CENTER_X,c.ConstantsApp.STAGE_CENTER_Y+75,this._tween));this._elementManager.addElement(new h.display.DisplayRobotPopup(c.ConstantsApp.STAGE_CENTER_X,
c.ConstantsApp.STAGE_CENTER_Y+75,this._tween))},__class__:h.screens.ScreenGameplayHUD});h.screens.ScreenGameplayMenu=function(a,b){h.screens.ScreenBase.call(this,a,b);this._closing=!1};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenGameplayMenu"]=h.screens.ScreenGameplayMenu;h.screens.ScreenGameplayMenu.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenGameplayMenu".split(",");h.screens.ScreenGameplayMenu.__super__=h.screens.ScreenBase;h.screens.ScreenGameplayMenu.prototype=
u(h.screens.ScreenBase.prototype,{_onEventQuitClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT)},_onEventResumeClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE)},_onEventHelpClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP)},_setCloseState:function(){this._closing||(this._closing=!0,f.tween.WorkinTweenUtils.easeBounceOut(this._tray,
this._tween).onComplete(t(this,this.setFlagDispose)))},_setInState:function(){this._closing=!1;f.tween.WorkinTweenUtils.easeBounceIn(this._tray,this._tween).onComplete(t(this,this._finishOpenState))},dispose:function(){this._tray=null;h.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){this._tray=this._elementManager.addElement(new j.RenderSprite({asset:"menu_container",x:c.ConstantsApp.STAGE_WIDTH/2,y:c.ConstantsApp.STAGE_HEIGHT/2,originX:0.5,originY:0.5}));this._tray.get_renderable().alpha=
0;this._tray.addElement(new j.TextLocalized(0,-140,"menu","",{originX:0.5,originY:0.5,center:!0}));this._tray.addElement(new h.buttons.ButtonBase(-58,-30,this._tween,0.5,0.5,"menu_btn_resume")).get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onEventResumeClick));this._tray.addElement(new h.buttons.ButtonBase(58,-30,this._tween,0.5,0.5,"menu_btn_help")).get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onEventHelpClick));this._tray.addElement(new h.buttons.ButtonBase(58,
80,this._tween,0.5,0.5,"menu_btn_quit")).get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onEventQuitClick));this._tray.addElement(new h.buttons.ButtonSoundToggle(-58,80,this._tween,0.5,0.5,["menu_btn_sound_on"],["menu_btn_sound_off"]))},__class__:h.screens.ScreenGameplayMenu});h.screens.ScreenGeneric=function(){};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenGeneric"]=h.screens.ScreenGeneric;h.screens.ScreenGeneric.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenGeneric".split(",");
h.screens.ScreenGeneric.__super__=h.screens.ScreenBase;h.screens.ScreenGeneric.prototype=u(h.screens.ScreenBase.prototype,{__class__:h.screens.ScreenGeneric});h.screens.ScreenHelp=function(a,b){h.screens.ScreenBase.call(this,a,b);this._closing=!1};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenHelp"]=h.screens.ScreenHelp;h.screens.ScreenHelp.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenHelp".split(",");h.screens.ScreenHelp.__super__=h.screens.ScreenBase;h.screens.ScreenHelp.prototype=
u(h.screens.ScreenBase.prototype,{_onEventPlayClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_HELP_CLOSE)},_setCloseState:function(){this._closing||(this._closing=!0,f.tween.WorkinTweenUtils.easeBounceOut(this._tray,this._tween).onComplete(t(this,this.setFlagDispose)))},_setInState:function(){this._closing=!1;f.tween.WorkinTweenUtils.easeBounceIn(this._tray,this._tween).onComplete(t(this,this._finishOpenState))},dispose:function(){this._button=this._tray=
null;h.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){this._tray=this._elementManager.addElement(new j.Element({asset:"help_menu",originX:0.5,originY:0.5,x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y}));C._platform.getTouch().get_supported();this._tray.addElement(new j.TextLocalized(0,-175,"help","",{originX:0.5,originY:0.5,center:!0}));this._tray.addElement(new j.TextLocalized(-350,-35,"help1","",{originX:0,originY:0.5}));this._tray.addElement(new j.TextLocalized(-340,
-7.5,"help2","",{originX:0,originY:0.5}));this._tray.addElement(new j.TextLocalized(-330,22.5,"help3","",{originX:0,originY:0.5}));this._tray.addElement(new j.TextLocalized(-320,50,"help4","",{originX:0,originY:0.5}));this._button=this._tray.addElement(new h.buttons.ButtonBase(0,230,this._tween,0.5,0.5,"help_btn_back"));this._button.addElement(new j.TextLocalized(0,0,"play","",{originX:0.5,originY:0.5,center:!0,pointerEnabled:!1}));this._button.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,
t(this,this._onEventPlayClick));this._tray.get_renderable().visible=!1},__class__:h.screens.ScreenHelp});h.screens.ScreenMinigame=function(a,b){this._MAX_Y=450;this._MIN_Y=60;this._MAX_X=900;this._MIN_X=60;h.screens.ScreenBase.call(this,a,b)};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenMinigame"]=h.screens.ScreenMinigame;h.screens.ScreenMinigame.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenMinigame".split(",");h.screens.ScreenMinigame.__super__=h.screens.ScreenBase;
h.screens.ScreenMinigame.prototype=u(h.screens.ScreenBase.prototype,{_onPlayClick:function(){this._finishedLoading&&this._doFlowEvent(c.ConstantsScreen.FLOW_MINIGAME_CLOSE)},_onLoadingComplete:function(){this._loadWidget.tweenOut();this._buttonPlay.get_renderable().visible=!0;this._buttonPlay.enable();f.tween.WorkinTweenUtils.easeBounceIn(this._buttonPlay,this._tween);this._finishedLoading=!0},handleInput:function(a){switch(a.input){case c.ConstantsApp.INPUT_CLICK:case c.ConstantsApp.INPUT_SPACE:switch(a.phase){case o.WMEventInput.PHASE_DOWN:if(1==
this._gameType){if(this._gameOver)break;this._spatula.setRenderOffset(-100,30);this._spatula.get_renderable().rotation=-65;this._plankton.hitBox.intersects(this._spatula.hitBox)&&this._plankton.getIsActive()&&(this._plankton.setState(h.screens.minigames.STATE._STATE_FALL),this._burger.set_goalPoint(this._burger.motherPoint),this._difficulty++,e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_LOADING_SCORE,1),null)}if(2==this._gameType)for(var b=this._slots.length;0<b;)if(b--,!this._slots[b].get_flagStopSpin()&&
(this._slotButtons[b].contains(a.x,a.y)||this._slots[b].contains(a.x,a.y))){this._slots[b].stopRoulette();a=0;for(b=this._slots;a<b.length;){var d=b[a];++a;d.difficulty++}break}}}},_resetGame:function(){e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LOADING_SCORE,0);switch(this._gameType){case 1:this._burger.set_goalPoint(this._burger.motherPoint);this._burger.get_pos().toPoint(this._burger.get_goalPoint());break;case 2:for(var a=0,b=0,d=this._slots;b<d.length;){var m=d[b];++b;m.difficulty=
this._difficulty+1;m.set_rouletteAssetNumber(e.WorkinCloud.get_instance().get_random().getRandomInt(0,3)|0);m.startRoulette();a++}break;case 3:this._gameTimer=6,this._gamePaused=!1,this._balls.push(this._gameBoard.addElement(new h.screens.minigames.PongBall({x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y,originX:0.5,originY:0.5,vel:125,asset:"PongBall",originalBall:!0,minX:this._MIN_X,minY:this._MIN_Y,maxX:this._MAX_X,maxY:this._MAX_Y})))}},_disableGame:function(){this._difficulty=
0;if(this._finishedLoading){this._gameOver=!0;f.tween.WorkinTweenUtils.easeBounceOut(this._instructions,this._tween);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsScreen.FLOW_MINIGAME_OVER));var a=this._buttonPlay.get_pos().x,b=this._buttonPlay.get_pos().y;this._buttonPlay.get_pos().to(c.ConstantsApp.STAGE_CENTER_X,c.ConstantsApp.STAGE_CENTER_Y);f.tween.WorkinTweenUtils.easeSlideIn(this._buttonPlay,this._tween,a,b)}else this._resetGame()},updatePong:function(a){this._gameTimer-=
a;this._paddle.get_pos().x=e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x;if(this._gamePaused){if(this._paddle.setRenderOffset(e.WorkinCloud.get_instance().get_random().getRandomFloat(4*-this._gameTimer,4*this._gameTimer),e.WorkinCloud.get_instance().get_random().getRandomFloat(2*-this._gameTimer,2*this._gameTimer)),0>=this._gameTimer){for(;0<this._balls.length;);this._paddle.setRenderOffset(0,0);this._disableGame()}}else{if(0<this._balls.length)for(a=this._balls.length;0<
a--;)if(this._paddle.runPointCollisionTest(this._balls[a].get_pos().x,this._balls[a].get_pos().y)&&(this._balls[a].onCollidePlayer(this._paddle),e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_LOADING_SCORE,1)),this._balls[a].get_doDelete()){this._balls[a].get_renderable().scaleX=this._balls[a].get_renderable().scaleY=6;this._gameTimer=1;for(var a=0,b=this._balls;a<b.length;){var d=b[a];++a;d.get_velocity().to(0,0);f.tween.WorkinTweenUtils.easeBounceOut(d,this._tween)}this._gamePaused=!0;
break}0>=this._gameTimer&&this._balls[0].get_pos().y<c.ConstantsApp.STAGE_CENTER_Y&&(this._gameTimer=6,this._balls.push(this._gameBoard.addElement(new h.screens.minigames.PongBall({x:this._balls[0].get_pos().x,y:this._balls[0].get_pos().y,originX:0.5,originY:0.5,vel:75,asset:"PongBall",originalBall:!1,minX:this._MIN_X,minY:this._MIN_Y,maxX:this._MAX_X,maxY:this._MAX_Y,downwards:0>this._balls[0].get_velocity().y}))),f.tween.WorkinTweenUtils.easeBounceIn(this._balls[this._balls.length-1],this._tween))}},
updateMatch:function(a){if(0>=this._gameTimer)for(a=this._slots.length;0<a;){if(a--,this._slots[a].get_flagStopSpin()){for(var b=a,d=0;0<b;)if(b--,this._slots[b].get_flagStopSpin())if(this._slots[a].get_rouletteAssetNumber()!=this._slots[b].get_rouletteAssetNumber()){this._difficulty=0;this._gameTimer=1;for(var m=0,f=this._slots;m<f.length;){var g=f[m];++m;g.lose()}null}else d++;if(d>=this._slots.length-1){m=0;for(f=this._slots;m<f.length;)g=f[m],++m,g.win();this._gameTimer=1;this._difficulty++;e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_LOADING_SCORE,
1);null}}}else if(this._gameTimer-=a,0>=this._gameTimer)if(0<this._difficulty){m=b=0;for(f=this._slots;m<f.length;)a=f[m],++m,a.difficulty=this._difficulty+1,a.set_rouletteAssetNumber(e.WorkinCloud.get_instance().get_random().getRandomInt(0,3)),a.startRoulette(),b++}else this._disableGame()},updateSwat:function(a){this._spatula.get_pos().toPoint(e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos());this._gameTimer-=a;0>=this._gameTimer&&this._plankton.getState()==h.screens.minigames.STATE._STATE_IDLE&&
(this._gameTimer=0,this._plankton.changeScale(1-0.02*this._difficulty),this._plankton.strike(this._difficulty,this._burger));this._plankton.hitBox.intersects(this._burger.hitBox)&&this._plankton.getState()==h.screens.minigames.STATE._STATE_ATTACK&&(this._burger.set_goalPoint(this._plankton.get_pos()),this._plankton.flee());(this._burger.get_pos().x<this._MIN_X||this._burger.get_pos().x>this._MAX_X||this._burger.get_pos().y<this._MIN_Y||this._burger.get_pos().y>this._MAX_Y)&&this._disableGame()},update:function(a){h.screens.ScreenBase.prototype.update.call(this,
a);this._gameOver||(1==this._gameType&&this.updateSwat(a),2==this._gameType&&this.updateMatch(a),3==this._gameType&&this.updatePong(a))},_setCloseState:function(){f.tween.WorkinTweenUtils.easeSlideOutToDir(this._gameBoard,this._tween,f.tween.TWEEN_DIR.BOTTOM);null!=this._spatula&&f.tween.WorkinTweenUtils.easeBounceOut(this._spatula,this._tween);f.tween.WorkinTweenUtils.easeBounceOut(this._buttonPlay,this._tween);null!=this._buttonSound&&f.tween.WorkinTweenUtils.easeBounceOut(this._buttonSound,this._tween);
f.tween.WorkinTweenUtils.easeSlideOutToDir(this._gameOverlay,this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(t(this,this.setFlagDispose))},_setInState:function(){var a=this;f.tween.WorkinTweenUtils.easeSlideInFromDir(this._underLay,this._tween,f.tween.TWEEN_DIR.TOP);f.tween.WorkinTweenUtils.easeSlideInFromDir(this._gameBoard,this._tween,f.tween.TWEEN_DIR.TOP);f.tween.WorkinTweenUtils.easeSlideInFromDir(this._gameOverlay,this._tween,f.tween.TWEEN_DIR.TOP).onComplete(function(){null!=a._buttonSound&&
f.tween.WorkinTweenUtils.easeBounceIn(a._buttonSound,a._tween)});this._loadWidget.tweenIn(!0)},dispose:function(){this._slotButtons=this._buttonSound=this._buttonPlay=this._instructions=this._paddle=this._plankton=this._spatula=this._burger=this._balls=this._slots=this._loadWidget=null;e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsScreen.FLOW_LOADING_DONE,t(this,this._onLoadingComplete));h.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){this._gameType=
e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_GAME_CLASS);this._difficulty=0;this._gameOver=!1;this._underLay=this._elementManager.addElement(new j.Element({asset:"minigame_underlay"}));this._gameBoard=this._elementManager.addElement(new j.Element({asset:"testgamebg"}));this._gameBoard.get_renderable().alpha=0;e.WorkinCloud.get_instance().resetValue(c.ConstantsApp.INT_LOADING_SCORE);switch(this._gameType){case 1:this._gameBoard.addElement(this._burger=new h.screens.minigames.ProtectBurger({x:c.ConstantsApp.STAGE_CENTER_X,
y:c.ConstantsApp.STAGE_CENTER_Y,asset:"hambaga",originX:0.5,originY:0.5,width:80,height:80,hitOffsetX:-40,hitOffsetY:-40}));this._gameBoard.addElement(this._plankton=new h.screens.minigames.ProtectPlankton({x:-125,y:-125,asset:"target",originX:0.5,originY:0.5,width:67,height:125,hitOffsetX:-33.5,hitOffsetY:-62.5}));this._elementManager.addElement(this._spatula=new h.screens.minigames.ProtectSpatula({x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y,asset:"spatula",originX:0,originY:0.2,
width:60,height:30,hitOffsetX:-30,hitOffsetY:-15}));this._gameTimer=0;break;case 2:(new L).add(new q.FillSprite(16777215,960,560));this._slots=[];this._slotButtons=[];for(var a=0;3>a;){var b=a++;this._slots.push(this._gameBoard.addElement(new h.screens.minigames.Roulette({x:303+177*b,y:217,rouletteNumber:e.WorkinCloud.get_instance().get_random().getRandomInt(0,3),originX:0.5,originY:0.5})));this._slots[b].difficulty=this._difficulty+1;this._slots[b].startRoulette();this._slotButtons.push(new H.Rectangle(260+
183*b,337,82,82))}this._gameBoard.addElement(new j.Element({x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y-27,asset:"slot_overlay",originX:0.5,originY:0.5}));this._gameTimer=0;break;case 3:this._gameBoard.addElement(this._paddle=new h.screens.minigames.PongCollisionItem({x:c.ConstantsApp.STAGE_CENTER_X,y:420,originX:0.5,originY:0.5,asset:"PongPaddle",width:125,height:32})),this._balls=[],this._balls.push(this._gameBoard.addElement(new h.screens.minigames.PongBall({x:c.ConstantsApp.STAGE_CENTER_X,
y:c.ConstantsApp.STAGE_CENTER_Y,originX:0.5,originY:0.5,vel:125,asset:"PongBall",originalBall:!0,minX:this._MIN_X,minY:this._MIN_Y,maxX:this._MAX_X,maxY:this._MAX_Y}))),this._gameTimer=6,this._gamePaused=!1}this._gameOverlay=this._elementManager.addElement(new j.Element({asset:"",x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y,originX:0.5,originY:0.5}));this._loadWidget=this._gameOverlay.addElement(new h.display.DisplayLoadingProgress(c.ConstantsApp.STAGE_CENTER_X-475,c.ConstantsApp.STAGE_CENTER_Y-
60,this._tween,!0));this._gameOverlay.addElement(new h.display.DisplayLoadScore(c.ConstantsApp.STAGE_CENTER_X-100,c.ConstantsApp.STAGE_CENTER_Y-120,this._tween));this._instructions=this._gameOverlay.addElement(new j.TextLocalized(0,-c.ConstantsApp.STAGE_CENTER_Y+this._MIN_Y+10,"instructions"+this._gameType,null,{center:!0,originX:0.5,originY:0}));this._buttonPlay=this._elementManager.addElement(new h.buttons.ButtonBase(c.ConstantsApp.STAGE_CENTER_X,c.ConstantsApp.STAGE_CENTER_Y+225,this._tween,0.5,
0.5,"text_box_1"));this._buttonPlay.addElement(new j.TextLocalized(0,0,"play","",{center:!0,originX:0.5,originY:0.5}));this._buttonPlay.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onPlayClick));this._buttonPlay.get_renderable().visible=!1;this._buttonPlay.disable();this._soundButtonAdded=!1;if(e.WorkinCloud.get_instance().get_assets().isChunkLoaded("initial_hd")||e.WorkinCloud.get_instance().get_assets().isChunkLoaded("initial_sd"))this._buttonSound=this._elementManager.addElement(new h.buttons.ButtonSoundToggle(75,
75,this._tween,0.5,0.5,["button_vol_on"],["button_vol_off"])),this._buttonSound.get_renderable().alpha=0,this._soundButtonAdded=!0;e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsScreen.FLOW_LOADING_DONE,t(this,this._onLoadingComplete))},__class__:h.screens.ScreenMinigame});h.screens.ScreenPauseAlert=function(a,b){h.screens.ScreenBase.call(this,a,b);this._alertBox=new q.FillSprite(0,8,8);this._alertBox.x.set__(c.ConstantsApp.get_CANVAS_LEFT());this._alertBox.y.set__(c.ConstantsApp.get_CANVAS_TOP());
this._alertBox.scaleX.set__(c.ConstantsApp.get_CANVAS_WIDTH()/8);this._alertBox.scaleY.set__(c.ConstantsApp.get_CANVAS_HEIGHT()/8);var d=new L;d.add(this._alertBox);this._elementManager.get_root().addChild(d);this._textAlert=this._elementManager.addElement(new j.TextLocalized(50,50,"orientation_portrait","",{originX:0,originY:0.5}))};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenPauseAlert"]=h.screens.ScreenPauseAlert;h.screens.ScreenPauseAlert.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenPauseAlert".split(",");
h.screens.ScreenPauseAlert.__super__=h.screens.ScreenBase;h.screens.ScreenPauseAlert.prototype=u(h.screens.ScreenBase.prototype,{update:function(a){h.screens.ScreenBase.prototype.update.call(this,a)},__class__:h.screens.ScreenPauseAlert});h.screens.ScreenQuitConfirm=function(a,b){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;h.screens.ScreenBase.call(this,a,b);this._closing=!1};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenQuitConfirm"]=h.screens.ScreenQuitConfirm;h.screens.ScreenQuitConfirm.__name__=
"com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenQuitConfirm".split(",");h.screens.ScreenQuitConfirm.__super__=h.screens.ScreenBase;h.screens.ScreenQuitConfirm.prototype=u(h.screens.ScreenBase.prototype,{_onNoClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO)},_onYesClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES)},_setCloseState:function(){this._closing||(this._closing=
!0,f.tween.WorkinTweenUtils.easeBounceOut(this._tray,this._tween).onComplete(t(this,this.setFlagDispose)))},_setInState:function(){this._closing=!1;this._finishOpenState()},dispose:function(){h.screens.ScreenBase.prototype.dispose.call(this);this._tray=this._wall=null},_buildScreen:function(){this._tray=this._elementManager.addElement(new j.Element({asset:"quit_screen_part",x:c.ConstantsApp.STAGE_WIDTH/2,y:c.ConstantsApp.STAGE_HEIGHT/2,originX:0.5,originY:0.5}));this._tray.addElement(new j.TextLocalized(0,
-50,"quit_confirm_header1","",{originX:0.5,originY:0.5,center:!0}));this._tray.addElement(new j.TextLocalized(0,-20,"quit_confirm_header2","",{originX:0.5,originY:0.5,center:!0}));var a=this._tray.addElement(new h.buttons.ButtonBase(-50,65,this._tween,0.5,0.5,"menu_btn_check_qc"));a.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onYesClick));a=this._tray.addElement(new h.buttons.ButtonBase(50,65,this._tween,0.5,0.5,"menu_btn_quit_qc"));a.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,
t(this,this._onNoClick))},__class__:h.screens.ScreenQuitConfirm});h.screens.ScreenShop=function(a,b){h.screens.ScreenBase.call(this,a,b);this._closing=!1};l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenShop"]=h.screens.ScreenShop;h.screens.ScreenShop.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenShop".split(",");h.screens.ScreenShop.__super__=h.screens.ScreenBase;h.screens.ScreenShop.prototype=u(h.screens.ScreenBase.prototype,{dispose:function(){this._buttons=this._trayDetails=
this._trayInventory=this._trayCurrency=null;h.screens.ScreenBase.prototype.dispose.call(this)},_onEventPlayClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(c.ConstantsScreen.FLOW_SHOP_CLOSE)},_setCloseState:function(){this._closing||(this._closing=!0,f.tween.WorkinTweenUtils.easeSlideOut(this._trayCurrency,this._tween,0,-75,0.25).onComplete(t(this,this.setFlagDispose)),f.tween.WorkinTweenUtils.easeSlideOut(this._trayInventory,this._tween,c.ConstantsApp.STAGE_CENTER_X-1E3,c.ConstantsApp.STAGE_CENTER_Y),
f.tween.WorkinTweenUtils.easeSlideOut(this._trayDetails,this._tween,c.ConstantsApp.STAGE_CENTER_X+1E3,c.ConstantsApp.STAGE_CENTER_Y),f.tween.WorkinTweenUtils.easeBounceOut(this._currency,this._tween))},_setInState:function(){this._closing=!1;f.tween.WorkinTweenUtils.easeSlideIn(this._trayCurrency,this._tween,0,-75);f.tween.WorkinTweenUtils.easeSlideIn(this._trayInventory,this._tween,c.ConstantsApp.STAGE_CENTER_X-1E3,c.ConstantsApp.STAGE_CENTER_Y).onComplete(t(this,this._finishOpenState));f.tween.WorkinTweenUtils.easeSlideIn(this._trayDetails,
this._tween,c.ConstantsApp.STAGE_CENTER_X+1E3,c.ConstantsApp.STAGE_CENTER_Y);f.tween.WorkinTweenUtils.easeBounceIn(this._currency,this._tween,!0,0.55)},_doItemSelect:function(a){this._selectedItem=a;this._textItemName.swapTextToDisplay(c.Inventory.getLocalizationNameID(this._selectedItem));this._textItemDesc.swapTextToDisplay(c.Inventory.getLocalizationDescID(this._selectedItem));this._textItemNext.swapTextToDisplay(c.Inventory.getLocalizationDescID(this._selectedItem,1));this._itemIcon.setTextureAsset(c.Inventory.getIcon(this._selectedItem));
a=c.Inventory.hasRankCapped(this._selectedItem);!a&&c.Inventory.canAffordNextRank(this._selectedItem)?this._buttonBuy.enable():this._buttonBuy.disable();this._textCost.get_renderable().alpha=a?0:1;this._textCostCurrency.get_renderable().alpha=a?0:1;this._textItemNext.get_renderable().alpha=a?0:1;this._textNextRank.get_renderable().alpha=a?0:1;this._textCost.set_text(""+c.Inventory.getCostNextRank(this._selectedItem));this._textProgress.set_text(c.Inventory.getRank(this._selectedItem)+" / "+c.Inventory.getRankCap(this._selectedItem))},
_onBuy:function(){e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_CURRENCY,-c.Inventory.getCostNextRank(this._selectedItem));c.Inventory.addRank(this._selectedItem);this._doItemSelect(this._selectedItem);for(var a,b=0,d=this._buttons;b<d.length;)a=d[b],++b,a.doRefreshDisplay()},_onItemSelect:function(a){this._doItemSelect(a.get_data().id)},_removeEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_ITEM_SELECT,t(this,this._onItemSelect))},
_addEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_ITEM_SELECT,t(this,this._onItemSelect))},_buildScreen:function(){this._trayCurrency=this._elementManager.addElement(new j.Element({asset:"scorebox"}));this._trayCurrency.get_renderable().alpha=0;this._currency=this._elementManager.addElement(new h.display.DisplayCurrency(175,35,this._tween));this._currency.get_renderable().alpha=0;this._trayInventory=this._elementManager.addElement(new j.Element({asset:"help_menu",
originX:0.5,originY:0.5,x:0.3*c.ConstantsApp.STAGE_WIDTH,y:c.ConstantsApp.STAGE_CENTER_Y}));this._trayInventory.get_renderable().visible=!1;this._trayInventory.addElement(new j.TextLocalized(-200,-170,"shop","",{originX:0.5,originY:0.5,center:!0}));this._buttons=[];for(var a=0.35*-this._trayInventory.get_renderable().width,b=a,d=-75,m=0,f=0,g=c.Inventory.getItemList();f<g.length;){var i=g[f];++f;this._button=this._trayInventory.addElement(new h.buttons.ButtonShopItem(i,b,d,this._tween,0.5,0.5,"button_shop_backing"));
this._buttons.push(this._button);m++;4<=m?(m=0,b=a,d+=105):b+=105}this._trayDetails=this._elementManager.addElement(new j.Element({asset:"help_menu",originX:0.5,originY:0.5,x:0.8*c.ConstantsApp.STAGE_WIDTH,y:c.ConstantsApp.STAGE_CENTER_Y}));this._trayDetails.get_renderable().visible=!1;this._textItemName=this._trayDetails.addElement(new j.TextLocalized(-175,-170,"item_name_default","",{originX:0,originY:0.5,center:!0}));this._textItemDesc=this._trayDetails.addElement(new j.TextLocalized(-50,-90,"item_unowned",
"",{originX:0.5,originY:0,center:!0}));this._textNextRank=this._trayDetails.addElement(new j.TextLocalized(-250,-20,"next_rank","",{originX:0,originY:0,center:!0}));this._textItemNext=this._trayDetails.addElement(new j.TextLocalized(-50,5,"item_desc_default","",{originX:0.5,originY:0,center:!0}));a=e.WorkinCloud.get_instance().get_localize().getLocalizeData("currency");this._textCostCurrency=this._trayDetails.addElement(new j.TextLocalized(-115-20*a.get_scale(),130,"currency","",{originX:1,originY:0.5}));
this._textCost=this._trayDetails.addElement(new j.TextBase(-115,130,"99999",a.get_fontName(),{originX:0,originY:0.5,center:!0}));this._textCost.get_renderable().scaleX=this._textCost.get_renderable().scaleY=a.get_scale();this._textCost.set_text("99999");this._textProgress=this._trayDetails.addElement(new j.TextBase(-50,-120,"1 / 1",a.get_fontName(),{originX:0.5,originY:0.5,center:!0}));this._textProgress.get_renderable().scaleX=this._textProgress.get_renderable().scaleY=0.5;this._textProgress.set_text("1 / 1");
this._trayDetails.addElement(new j.Element({asset:"button_blank",originX:0.5,originY:0.5,x:-250,y:-170}));this._itemIcon=this._trayDetails.addElement(new j.Element({asset:"button_pause",originX:0.5,originY:0.5,x:-250,y:-176}));this._buttonBuy=this._trayDetails.addElement(new h.buttons.ButtonShopBuy(-250,175,this._tween,0.5,0.5,"button_blank"));this._buttonBuy.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onBuy));this._buttonLeave=this._trayDetails.addElement(new h.buttons.ButtonDynamic(150,
200,this._tween,0.5,0.5,"button_x"));this._buttonLeave.get_dispatcher().addEventListener(h.buttons.ButtonBase.CLICK,t(this,this._onEventPlayClick));e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(c.ConstantsApp.EVENT_ITEM_SELECT,{id:c.Item.ITEM_SWORD}))},__class__:h.screens.ScreenShop});h.screens.ScreenSplash=function(a,b){this._BLINK_TIME=1;h.screens.ScreenBase.call(this,a,b);this._blinkAllowed=!0;this._closing=!1;this._blinkTimer=this._BLINK_TIME;this._beginPreload()};
l["com.nick.spongebob.stop_motion_holiday.ui.screens.ScreenSplash"]=h.screens.ScreenSplash;h.screens.ScreenSplash.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,ScreenSplash".split(",");h.screens.ScreenSplash.__super__=h.screens.ScreenBase;h.screens.ScreenSplash.prototype=u(h.screens.ScreenBase.prototype,{handleInput:function(a){if(this.get_state()==this._STATE_OPENED)switch(a.input){case c.ConstantsApp.INPUT_CLICK:case c.ConstantsApp.INPUT_SPACE:switch(a.phase){case o.WMEventInput.PHASE_DOWN:!1==
this._closing&&(this._closing=!0,this._tweenOutClickTray(),this._addLoader(),this._doFlowEvent(c.ConstantsScreen.FLOW_SPLASH_PLAY))}}},_setCloseState:function(){f.tween.WorkinTweenUtils.easeSlideOutToDir(this._tray,this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(t(this,this.setFlagDispose))},_tweenOutClickTray:function(){null!=this._clickTray&&(this._tween.tween(this._clickTray.get_renderable(),0.15,{scaleX:1.1,scaleY:1.1},!0,f.tween.Ease.EASE_QUAD_OUT),this._tween.tween(this._clickTray.get_renderable(),
0.15,{scaleX:0.1,scaleY:0.1,alpha:0},!1,f.tween.Ease.EASE_QUAD_IN))},_onEventCodeClick:function(){this.get_state()==this._STATE_OPENED&&(e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_CODE_SCREEN_OPEN,!0),this._doFlowEvent(c.ConstantsScreen.FLOW_ENTER_CODE_OPEN))},update:function(a){h.screens.ScreenBase.prototype.update.call(this,a);this._blinkAllowed&&null!=this._clickTray?(this._blinkTimer-=a,0>=this._blinkTimer&&(0==this._textClickToPlay.get_renderable().alpha?(this._blinkTimer=this._BLINK_TIME,
this._textClickToPlay.get_renderable().alpha=1):(this._blinkTimer=this._BLINK_TIME/2,this._textClickToPlay.get_renderable().alpha=0))):null!=this._textClickToPlay&&(this._textClickToPlay.get_renderable().alpha=0)},_addClickTray:function(){if(null==this._clickTray){var a;a=e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_TOUCH_DEVICE)?"tap_anywhere":"click_anywhere";this._clickTray=this._tray.addElement(new j.RenderSprite({asset:"",originX:0.5,originY:1,x:10,y:c.ConstantsApp.STAGE_CENTER_Y-
10}));this._textClickToPlay=this._clickTray.addElement(new j.TextLocalized(10,-40,a,"",{originX:0.5,originY:1}));f.tween.WorkinTweenUtils.easeBounceIn(this._clickTray,this._tween);0<e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_GAME_CLASS)&&e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsScreen.FLOW_SPLASH_CLICKTRAY,t(this,this._addClickTray))}},_removeLoader:function(){null==this._loadWidget||!1==this._loadWidget.get_active()||this._loadWidget.tweenOut()},_addLoader:function(){0<
e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_GAME_CLASS)||(null==this._loadWidget&&(this._loadWidget=this._tray.addElement(new h.display.DisplayLoadingProgress(0,c.ConstantsApp.STAGE_CENTER_Y-85,this._tween))),!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0))},_addPreload:function(){this._tray.addElement(new j.TextLocalized(0,-225,"title","",{originX:0.5,originY:0.5}));this._tray.addElement(new j.TextLocalized(25,-175,"title2","",{originX:0.5,originY:0.5}));this._tray.addElement(new j.TextLocalized(25,
-105,"title3","",{originX:0.5,originY:0.5}));this._addLoader()},_eventLoadCompleteInitial:function(){this._addClickTray();this._removeLoader();e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsScreen.EVENT_INITIAL_LOAD_COMPLETE))},_beginInitialLoad:function(a){if(0==a)a="initial_sd";else if(1==a)a="initial_hd";else throw"[Main](_beginInitialLoad) Error: Not expecting quality flag "+a+". Nothing loaded.";var b;b=D.ConstantsCloud.getSupportsAllAudio()?"initial_audio_with_soundfx":
"initial_audio_only_music";e.WorkinCloud.get_instance().get_assets().load(t(this,this._eventLoadCompleteInitial),[a,b],null,null,1200)},_determineLoadProcess:function(a){a=a<c.ConstantsApp.benchmarkGoal?0:1;e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_QUALITY,a);this._beginInitialLoad(a)},_onPreloadFinished:function(){this._addPreload();var a=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_QUALITY);-1==a?J.Benchmark.start(t(this,this._determineLoadProcess)):this._beginInitialLoad(a)},
_beginPreload:function(){var a=["fonts_"+e.WorkinCloud.get_instance().getString(D.ConstantsCloud.STRING_REGION_ID)];e.WorkinCloud.get_instance().get_assets().load(t(this,this._onPreloadFinished),["preload"],a,null,0)},_buildScreen:function(){this._tray=this._elementManager.addElement(new j.RenderSprite({asset:"splash_bg",x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y,origin:0.5}))},dispose:function(){this._clickTray=this._loadWidget=this._buttonSound=this._textClickToPlay=null;h.screens.ScreenBase.prototype.dispose.call(this)},
__class__:h.screens.ScreenSplash});h.screens.data={};h.screens.data.ChangeActionData=function(a,b,d){this._screenId=a;this._changeEvent=b;this._action=d};l["com.nick.spongebob.stop_motion_holiday.ui.screens.data.ChangeActionData"]=h.screens.data.ChangeActionData;h.screens.data.ChangeActionData.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,data,ChangeActionData".split(",");h.screens.data.ChangeActionData.prototype={get_action:function(){return this._action},get_changeEvent:function(){return this._changeEvent},
get_screenId:function(){return this._screenId},__class__:h.screens.data.ChangeActionData};h.screens.data.ScreenData=function(a,b){this.id=a;this.screenClass=b};l["com.nick.spongebob.stop_motion_holiday.ui.screens.data.ScreenData"]=h.screens.data.ScreenData;h.screens.data.ScreenData.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,data,ScreenData".split(",");h.screens.data.ScreenData.prototype={__class__:h.screens.data.ScreenData};h.screens.data.ScreenQueueData=function(a,b,d){null==d&&
(d="");this.screenData=a;this.openCondition=b;this.openTestString=d};l["com.nick.spongebob.stop_motion_holiday.ui.screens.data.ScreenQueueData"]=h.screens.data.ScreenQueueData;h.screens.data.ScreenQueueData.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,data,ScreenQueueData".split(",");h.screens.data.ScreenQueueData.prototype={validateCondition:function(a,b){null==b&&(b="");return this.openCondition==a?""==this.openTestString||this.openTestString==b:!1},__class__:h.screens.data.ScreenQueueData};
h.screens.data.ScreenStateData=function(a,b,d,m,c,e){this.id=a;this.animation=b;this.actionOnComplete=d;this.actionData=m;this.inFunc=c;this.outFunc=e};l["com.nick.spongebob.stop_motion_holiday.ui.screens.data.ScreenStateData"]=h.screens.data.ScreenStateData;h.screens.data.ScreenStateData.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,data,ScreenStateData".split(",");h.screens.data.ScreenStateData.prototype={__class__:h.screens.data.ScreenStateData};h.screens.minigames={};h.screens.minigames.PongCollisionItem=
function(a){j.Element.call(this,a);this._flagBall=!1;null!=a.vel&&(this._flagBall=!0);this._height=a.height;this._width=a.width;this._prevPos=this._pos.copy();this._nextPos=this._pos.copy();this._bounceCount=0;this._motionLine=f.WorkinLine.request(this._pos.x,this._pos.y,this._nextPos.x,this._nextPos.y);this._hasNewVelocity=!1;this._radius=this._DEFAULT_RADIUS()};l["com.nick.spongebob.stop_motion_holiday.ui.screens.minigames.PongCollisionItem"]=h.screens.minigames.PongCollisionItem;h.screens.minigames.PongCollisionItem.__name__=
"com,nick,spongebob,stop_motion_holiday,ui,screens,minigames,PongCollisionItem".split(",");h.screens.minigames.PongCollisionItem.__super__=j.Element;h.screens.minigames.PongCollisionItem.prototype=u(j.Element.prototype,{_calculateMotion:function(){this._motionLine.to(this._pos,this._nextPos)},updatePositionFromVelocity:function(a){this._nextPos.x+=this._velocity.x*a;this._nextPos.y+=this._velocity.y*a;this._calculateMotion();this._prevPos.x=this._pos.x;this._prevPos.y=this._pos.y;this._pos.x=this._nextPos.x;
this._pos.y=this._nextPos.y},runPointCollisionTest:function(a,b){return b>this._pos.y-this.get_height()/2&&b<=this._pos.y?a>this._pos.x-this.get_width()/2&&a<this._pos.x+this.get_width()/2:!1},onCollidePlayer:function(a){this._bounceCount++;this._velocity.rotateTo(75*((this.get_pos().x-a.get_pos().x)/(a.get_renderable().width/2))-90)},update:function(a){this._hasNewVelocity&&(this._velocity.x=this._nextVelocity.x,this._velocity.y=this._nextVelocity.y,this._hasNewVelocity=!1);this._flagBall?this.updatePositionFromVelocity(a):
(0>this._pos.x-this.get_width()/2&&(this._pos.x=this.get_width()/2),960<this._pos.x+this.get_width()/2&&(this._pos.x=960-this.get_width()/2));j.Element.prototype.update.call(this,a)},_DEFAULT_RADIUS:function(){return 16},get_width:function(){return this._width},get_height:function(){return this._height},dispose:function(){j.Element.prototype.dispose.call(this);this._motionLine=this._nextVelocity=this._nextPos=this._prevPos=null},__class__:h.screens.minigames.PongCollisionItem});h.screens.minigames.PongBall=
function(a){h.screens.minigames.PongCollisionItem.call(this,a);this._minX=null!=a.minX?a.minX:0;this._minY=null!=a.minY?a.minY:0;this._maxX=null!=a.maxX?a.maxX:960;this._maxY=null!=a.maxY?a.maxY:560;null!=a.player&&(this._playerReference=a.player);this._originalBall=null!=a.originalBall?a.originalBall:!1;this._originalBall||(this._glitchTimer=0.3);null!=a.vel&&(this._velocity.to(a.vel,0),this._velocity.rotateTo(90*-Math.random()-45),!0==a.downwards&&this._velocity.reverse());this._gravity=0};l["com.nick.spongebob.stop_motion_holiday.ui.screens.minigames.PongBall"]=
h.screens.minigames.PongBall;h.screens.minigames.PongBall.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,minigames,PongBall".split(",");h.screens.minigames.PongBall.__super__=h.screens.minigames.PongCollisionItem;h.screens.minigames.PongBall.prototype=u(h.screens.minigames.PongCollisionItem.prototype,{_randomVelocity:function(){var a=e.WorkinCloud.get_instance().get_random().getRandomInt(-350,350),b=e.WorkinCloud.get_instance().get_random().getRandomInt(-350,-250);this._velocity.x=a;
this._velocity.y=b},update:function(a){h.screens.minigames.PongCollisionItem.prototype.update.call(this,a);0<this._glitchTimer&&(this._glitchTimer-=a,this.setRenderOffset(e.WorkinCloud.get_instance().get_random().getRandomFloat(10*-this._glitchTimer,10*this._glitchTimer),e.WorkinCloud.get_instance().get_random().getRandomFloat(10*-this._glitchTimer,10*this._glitchTimer)),0>=this._glitchTimer&&this.setRenderOffset(0,0));0<this._timerFreeze&&(this._timerFreeze-=a,0>=this._timerFreeze&&(this._randomVelocity(),
this._timerFreeze=0));this._nextPos.x>this._maxX?(this._nextPos.x=this._maxX,0<this._velocity.x&&(this._velocity.x*=-1)):this._nextPos.x<this._minX&&(this._nextPos.x=this._minX,0>this._velocity.x&&(this._velocity.x*=-1));this._nextPos.y<this._minY?(this._nextPos.y=this._minY,0>this._velocity.y&&(this._velocity.y*=-1)):this._nextPos.y>this._maxY&&this.set_doDelete(!0);this._render.rotation+=this._velocity.x/5*a},dispose:function(){h.screens.minigames.PongCollisionItem.prototype.dispose.call(this);
this._playerReference=null},__class__:h.screens.minigames.PongBall});h.screens.minigames.ProtectBurger=function(a){j.Element.call(this,a);this._hitBoxOffset=f.WorkinPoint.request(a.hitOffsetX,a.hitOffsetY);this.hitBox=f.WMRectangle.request(this.get_pos().x+this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y,a.width,a.height);this._goalPoint=this.motherPoint=this.get_pos().copy();this._orbital=0};l["com.nick.spongebob.stop_motion_holiday.ui.screens.minigames.ProtectBurger"]=h.screens.minigames.ProtectBurger;
h.screens.minigames.ProtectBurger.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,minigames,ProtectBurger".split(",");h.screens.minigames.ProtectBurger.__super__=j.Element;h.screens.minigames.ProtectBurger.prototype=u(j.Element.prototype,{dispose:function(){j.Element.prototype.dispose.call(this);this._goalPoint.dispose();this._hitBoxOffset.dispose();this.hitBox.dispose()},_updateHitbox:function(){this.hitBox.toXY(this.get_pos().x+this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y)},
update:function(a){j.Element.prototype.update.call(this,a);this._orbital+=a;this.motherPoint.to(c.ConstantsApp.STAGE_CENTER_X+Math.sin(this._orbital)*h.screens.minigames.ProtectBurger._ORBIT_RADIUS,c.ConstantsApp.STAGE_CENTER_Y+Math.cos(this._orbital)*h.screens.minigames.ProtectBurger._ORBIT_RADIUS);this._pos.toPoint(this._goalPoint.addPointCopy(this._pos));this._pos.divide(2);this._updateHitbox(a)},set_goalPoint:function(a){return this._goalPoint=a},get_goalPoint:function(){return this._goalPoint},
__class__:h.screens.minigames.ProtectBurger});h.screens.minigames.STATE=l["com.nick.spongebob.stop_motion_holiday.ui.screens.minigames.STATE"]={__ename__:"com,nick,spongebob,stop_motion_holiday,ui,screens,minigames,STATE".split(","),__constructs__:["_STATE_IDLE","_STATE_ATTACK","_STATE_FALL","_STATE_FLEE"]};h.screens.minigames.STATE._STATE_IDLE=["_STATE_IDLE",0];h.screens.minigames.STATE._STATE_IDLE.toString=n;h.screens.minigames.STATE._STATE_IDLE.__enum__=h.screens.minigames.STATE;h.screens.minigames.STATE._STATE_ATTACK=
["_STATE_ATTACK",1];h.screens.minigames.STATE._STATE_ATTACK.toString=n;h.screens.minigames.STATE._STATE_ATTACK.__enum__=h.screens.minigames.STATE;h.screens.minigames.STATE._STATE_FALL=["_STATE_FALL",2];h.screens.minigames.STATE._STATE_FALL.toString=n;h.screens.minigames.STATE._STATE_FALL.__enum__=h.screens.minigames.STATE;h.screens.minigames.STATE._STATE_FLEE=["_STATE_FLEE",3];h.screens.minigames.STATE._STATE_FLEE.toString=n;h.screens.minigames.STATE._STATE_FLEE.__enum__=h.screens.minigames.STATE;
h.screens.minigames.ProtectPlankton=function(a){j.Element.call(this,a);this._goalPoint=f.WorkinPoint.request();this._hitBoxOffset=f.WorkinPoint.request(a.hitOffsetX,a.hitOffsetY);this.hitBox=f.WMRectangle.request(this.get_pos().x+this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y,a.width,a.height);this._baseWidth=a.width;this._baseHeight=a.height;this._scale=1;this._dodgeTimer=this._wobbleSin=0;this._dodgeConsumed=this._dodging=!1;this.setState(h.screens.minigames.STATE._STATE_IDLE)};l["com.nick.spongebob.stop_motion_holiday.ui.screens.minigames.ProtectPlankton"]=
h.screens.minigames.ProtectPlankton;h.screens.minigames.ProtectPlankton.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,minigames,ProtectPlankton".split(",");h.screens.minigames.ProtectPlankton.__super__=j.Element;h.screens.minigames.ProtectPlankton.prototype=u(j.Element.prototype,{dispose:function(){j.Element.prototype.dispose.call(this);this._goalPoint.dispose();this._hitBoxOffset.dispose();this.hitBox.dispose()},changeScale:function(a){this._scale=a;this._render.scaleX=this._render.scaleY=
this._scale;this.hitBox.toWH(this._baseWidth*this._scale,this._baseHeight*this._scale)},_updateHitbox:function(){this.hitBox.toXY(this.get_pos().x+this._hitBoxOffset.x*this._scale,this.get_pos().y+this._hitBoxOffset.y*this._scale)},_wobbl:function(a){this._wobbleSin+=a*this._speed/10;this._render.rotation=10*Math.sin(this._wobbleSin)},update:function(a){j.Element.prototype.update.call(this,a);0<this._velocity.x?this._render.scaleX=this._scale:0>this._velocity.x&&(this._render.scaleX=-this._scale);
switch(this._state[1]){case 1:0>this._pos.x&&(this._pos.x=0);960<this._pos.x&&(this._pos.x=960);0>this._pos.y&&(this._pos.y=0);560<this._pos.y&&(this._pos.y=560);null!=this._target&&!this._dodging&&this._goalPoint.toPoint(this._target.get_pos());this.get_velocity().toPoint(this._goalPoint.subtractPointCopy(this._pos));this.get_velocity().normalizeTo(this._speed);200>Math.abs(this.get_pos().subtractPointCopy(this._goalPoint).get_length())&&!this._dodgeConsumed&&0.8<Math.random()&&(this._dodgeConsumed=
this._dodging=!0,this._dodgeTimer=0.33,this._goalPoint.to(e.WorkinCloud.get_instance().get_random().getRandomFloat(0,960),e.WorkinCloud.get_instance().get_random().getRandomFloat(0,560)));this._dodging&&(this._dodgeTimer-=a,0>=this._dodgeTimer&&(this._dodging=!1));this._wobbl(a);break;case 2:this._velocity.y+=500*a;this._render.rotation+=180*a;560<this.get_pos().y&&this.reset();break;case 3:if(this.get_velocity().toPoint(this._pos.subtractPointCopy(this._goalPoint)),this.get_velocity().normalizeTo(this._speed),
this._wobbl(a),0>this.get_pos().x||960<this.get_pos().x)(0>this.get_pos().y||560<this.get_pos().y)&&this.reset()}this._updateHitbox(a)},reset:function(){this.setState(h.screens.minigames.STATE._STATE_IDLE);this._pos.to(-125,-125);this._velocity.to(0,0);this._render.rotation=0},flee:function(){this.setState(h.screens.minigames.STATE._STATE_FLEE);var a=f.WorkinPoint.request(480);a.rotate(360*Math.random());this._goalPoint.toPoint(a);null},strike:function(a,b){this.setState(h.screens.minigames.STATE._STATE_ATTACK);
var d=f.WorkinPoint.request(480);d.rotate(360*Math.random());d.add(480,280);this.get_pos().toPoint(d);this._target=b;this._speed=33*(a+1)+5*Math.random()-2;this._dodgeConsumed=this._dodging=!1;this._dodgeTimer=0;null},getIsActive:function(){return this._state==h.screens.minigames.STATE._STATE_ATTACK||this._state==h.screens.minigames.STATE._STATE_FLEE},getState:function(){return this._state},setState:function(a){this._state=a;this._state==h.screens.minigames.STATE._STATE_IDLE&&(this._velocity.to(0,
0),this._goalPoint.to(0,0))},__class__:h.screens.minigames.ProtectPlankton});h.screens.minigames.ProtectSpatula=function(a){j.Element.call(this,a);this._hitBoxOffset=f.WorkinPoint.request(a.hitOffsetX,a.hitOffsetY);this.hitBox=f.WMRectangle.request(this.get_pos().x+this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y,a.width,a.height);this._goalPoint=this.get_pos().copy()};l["com.nick.spongebob.stop_motion_holiday.ui.screens.minigames.ProtectSpatula"]=h.screens.minigames.ProtectSpatula;h.screens.minigames.ProtectSpatula.__name__=
"com,nick,spongebob,stop_motion_holiday,ui,screens,minigames,ProtectSpatula".split(",");h.screens.minigames.ProtectSpatula.__super__=j.Element;h.screens.minigames.ProtectSpatula.prototype=u(j.Element.prototype,{dispose:function(){j.Element.prototype.dispose.call(this);this._goalPoint.dispose();this._hitBoxOffset.dispose();this.hitBox.dispose()},_updateHitbox:function(){this.hitBox.toXY(this.get_pos().x+this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y)},update:function(a){j.Element.prototype.update.call(this,
a);1>this._render.scaleY&&(this._render.scaleY+=2*a,1<this._render.scaleY&&(this._render.scaleY=1));0!=this._offsetY&&(this._offsetY/=1.3);0!=this._offsetX&&(this._offsetX/=1.3);0!=this._render.rotation&&(this._render.rotation/=1.3);this._updateHitbox(a)},__class__:h.screens.minigames.ProtectSpatula});h.screens.minigames.Roulette=function(a){this._currentAsset=a.rouletteNumber;a.asset=this.getAsset();j.Element.call(this,a);this.difficulty=1;this._lose=this._win=this._spinConsumed=this._flagStopSpin=
!1;this._rouletteNumber=v["int"](a.rouletteNumber);this._timerRoulette=this._rouletteSpeed();this._basePos=this._pos.copy();this._nextGlyph=this.addElement(new j.Element({y:-200,asset:this.getAsset(1),originX:0.5,originY:0.5}));this._rootSprite.scissor=new H.Rectangle(-400,-90,800,180)};l["com.nick.spongebob.stop_motion_holiday.ui.screens.minigames.Roulette"]=h.screens.minigames.Roulette;h.screens.minigames.Roulette.__name__="com,nick,spongebob,stop_motion_holiday,ui,screens,minigames,Roulette".split(",");
h.screens.minigames.Roulette.__super__=j.Element;h.screens.minigames.Roulette.prototype=u(j.Element.prototype,{update:function(a){j.Element.prototype.update.call(this,a);this._flagStopSpin&&(this._timerRoulette=0,1>this._render.scaleX&&(this._render.scaleX=this._render.scaleY+=0.01),this._win?this._render.scaleX=this._render.scaleY+=0.01:this._lose&&(this._render.rotation+=1.5*this._velocity.x*a,this._velocity.y+=400*a));0<this._timerRoulette&&(this._timerRoulette-=a,this._flagStopSpin||(this._progressRatio=
(this._rouletteSpeed()-this._timerRoulette)/this._rouletteSpeed(),this._textureSprite.y.set__(this._nextGlyph._textureSprite.y.set__(200*this._progressRatio)),0.5<this._progressRatio&&!this._spinConsumed&&(this._currentAsset++,this._currentAsset=e.WorkinUtils.clamp(this._currentAsset,0,3,!0)|0,this._spinConsumed=!0),0>=this._timerRoulette&&(this._rouletteSpin(),this._timerRoulette=this._rouletteSpeed())))},win:function(){this._velocity.to(0,-3);this._win=!0},lose:function(){this._flagStopSpin=!0;
this._velocity.to(e.WorkinCloud.get_instance().get_random().getRandomFloat(-150,150),-100);this._lose=!0},startRoulette:function(){this._lose=this._win=this._flagStopSpin=!1;this._pos.toPoint(this._basePos);this._velocity.to(0,0);this._render.scaleX=this._render.scaleY=1;this._render.rotation=0;this._timerRoulette=this._rouletteSpeed()},stopRoulette:function(){this._textureSprite.y.set__(this._nextGlyph._textureSprite.y.set__(-50));this.setTextureAsset(this.getAsset());this._render.scaleX=this._render.scaleY=
0.9;this._flagStopSpin=!0},_rouletteSpeed:function(){return 0.33-0.02*this.difficulty},_rouletteSpin:function(){this._spinConsumed=!1;this.setTextureAsset(this.getAsset());this._nextGlyph.setTextureAsset(this.getAsset(1));this._textureSprite.y.set__(this._nextGlyph._textureSprite.y.set__(0))},set_rouletteAssetNumber:function(a){return this._currentAsset=a},get_rouletteAssetNumber:function(){return this._currentAsset},getAsset:function(a){null==a&&(a=0);var b="",a=this._currentAsset+a,a=e.WorkinUtils.clamp(a,
0,3,!0)|0;switch(a){case 0:b="club";break;case 1:b="diamond";break;case 2:b="heart";break;case 3:b="spade"}return b},get_flagStopSpin:function(){return this._flagStopSpin},__class__:h.screens.minigames.Roulette});p={_World:{}};p._World.WORLD_STATE=l["com.nick.spongebob.stop_motion_holiday.world._World.WORLD_STATE"]={__ename__:"com,nick,spongebob,stop_motion_holiday,world,_World,WORLD_STATE".split(","),__constructs__:["_STATE_INITIALIZING","_STATE_GAMEPLAY"]};p._World.WORLD_STATE._STATE_INITIALIZING=
["_STATE_INITIALIZING",0];p._World.WORLD_STATE._STATE_INITIALIZING.toString=n;p._World.WORLD_STATE._STATE_INITIALIZING.__enum__=p._World.WORLD_STATE;p._World.WORLD_STATE._STATE_GAMEPLAY=["_STATE_GAMEPLAY",1];p._World.WORLD_STATE._STATE_GAMEPLAY.toString=n;p._World.WORLD_STATE._STATE_GAMEPLAY.__enum__=p._World.WORLD_STATE;p.World=function(a){this._dispatcher=o.WMEventDispatcher.request();this._timeline=a;e.WorkinCloud.get_instance().get_pool().tracePoolReport();this._elementManager=new j.ElementManager(this._timeline,
c.ConstantsApp.STAGE_CENTER_X,c.ConstantsApp.STAGE_CENTER_Y);this._elementManager.addLayer(c.ConstantsApp.LAYER_BG,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_SCENE_BACK,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_SCENE_MID,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_SCENE_FRONT,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_WORLD,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_SNOW,!0);this._addEventListeners();e.WorkinCloud.get_instance().stack([t(this,
this._initPools),t(this,this._initWorld),t(this,this._onGenerationComplete)]);this._setState(p._World.WORLD_STATE._STATE_INITIALIZING)};l["com.nick.spongebob.stop_motion_holiday.world.World"]=p.World;p.World.__name__="com,nick,spongebob,stop_motion_holiday,world,World".split(",");p.World.get_tweener=function(){null==p.World.__tween&&(p.World.__tween=f.tween.WorkinTweener.request());return p.World.__tween};p.World.prototype={_onGenerationComplete:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE))},
_changeScene:function(a){this._timerPresent=0.5;this._timerJerktonium=5;this._timerMusic=0;this._jerkScoreValue=1;this._flagSinging=!1;this._bg.changeScene(a);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LIVES,3);for(var b=this._bg.getSpawnPoints(),d=0,m=Math.round(e.WorkinUtils.clamp(3+Math.floor(e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_LEVEL)/2),3,10)),a=0;a<m;){var d=a++,f=-1;1==d&&(f=4);2==d&&(f=5);d=e.WorkinCloud.get_instance().get_random().getRandomInt(0,b.length-1);
this._jerks.push(this._elementManager.addElement(new p.elements.elements.fish.JerkFish({layer:b[d].layer,x:b[d].x,y:b[d].y,jerkVariety:f})));e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_JERK_COUNT,1);b.splice(d,1);if(0>=b.length)break}e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_JERKTONIUM,Math.round(e.WorkinUtils.clamp(Math.floor(e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_LEVEL)/2),0,6)));b=1;for(a=e.WorkinCloud.get_instance().get_random().getRandomInt(Math.round(e.WorkinUtils.clamp(e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_LEVEL)-
1,0,4)),e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_JERKTONIUM));b<a;)b++,this._obstacles.push(this._elementManager.addElement(new p.elements.elements.pickups.ObstacleBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,asset:"jerktonium",origin:0.5,x:c.ConstantsApp.STAGE_CENTER_X+e.WorkinCloud.get_instance().get_random().getRandomFloat(-400,400),y:c.ConstantsApp.STAGE_CENTER_Y+e.WorkinCloud.get_instance().get_random().getRandomFloat(-200,200),mPattern:p.elements.elements.pickups.MOVEMENT_PATTERN._MP_CIRCLE,
swayX:e.WorkinCloud.get_instance().get_random().getRandomFloat(0,200),swayY:e.WorkinCloud.get_instance().get_random().getRandomFloat(0,200),frequency:2*Math.random()+1})))},_initWorld:function(){this._timerPresent=0.5;this._timerJerktonium=5;this._timerMusic=0;this._timerBonusRound=5;this._jerkScoreValue=1;this._flagSinging=!1;this._sceneNumber=1;this._elementManager.addElement(new p.elements.elements.environment.Snow({layer:c.ConstantsApp.LAYER_SNOW,origin:0.5,x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y}));
this._transitionImage=this._elementManager.addElement(new j.Element({layer:c.ConstantsApp.LAYER_SNOW,asset:"transition",origin:0.5,x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y,scale:0.5}));this._transitionImage.get_renderable().alpha=0;this._elementManager.addElement(new j.Element({layer:c.ConstantsApp.LAYER_WORLD,asset:"sb_launcher",originX:0.5,originY:1,x:150,y:c.ConstantsApp.STAGE_HEIGHT}));this._player=this._elementManager.addElement(new p.elements.elements.player.Player({layer:c.ConstantsApp.LAYER_WORLD,
originX:0.5,originY:1,x:140,y:c.ConstantsApp.STAGE_HEIGHT-100}));this._bg=this._elementManager.addElement(new p.elements.elements.environment.SceneBackground({layer:c.ConstantsApp.LAYER_BG,asset:"bg_1",origin:0.5,x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y}));this._bg.addForeground(this._elementManager.addElement(new j.Element({layer:c.ConstantsApp.LAYER_SCENE_MID,asset:"fg_1",origin:0.5,x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y})));this._jerks=[];this._presents=
[];this._obstacles=[];this._changeScene(1)},_onEventInitPoolComplete:function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(j.PoolManager.ALL_POOLS_FULL,t(this,this._onEventInitPoolComplete));e.WorkinCloud.get_instance().unpauseStack()},_initPools:function(){e.WorkinCloud.get_instance().setInt(D.ConstantsCloud.INT_LOADING_PROGRESS,100);e.WorkinCloud.get_instance().pauseStack();e.WorkinCloud.get_instance().get_dispatcher().addEventListener(j.PoolManager.ALL_POOLS_FULL,t(this,
this._onEventInitPoolComplete));this._poolManager=new j.PoolManager},handleInput:function(a){if(!(e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_PAUSED)||this._state==p._World.WORLD_STATE._STATE_INITIALIZING))switch(a.input){case c.ConstantsApp.INPUT_CLICK:switch(a.phase){case o.WMEventInput.PHASE_DOWN:this._player.set_state(p.elements.elements.player.PLAYER_STATE._PS_SING);this._flagSinging=!0;break;case o.WMEventInput.PHASE_UP:this._player.set_state(p.elements.elements.player.PLAYER_STATE._PS_IDLE),
this._flagSinging=!1}}},_unpause:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PAUSED,!1)},_pause:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PAUSED,!0)},_onUnpause:function(){this._unpause()},_onPause:function(){this._pause()},_onSpawnRock:function(a){this._obstacles.push(this._elementManager.addElement(new p.elements.elements.pickups.ObstacleBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,asset:"coal",type:p.elements.elements.pickups.OBSTACLE_TYPE._OT_ROCK,
origin:0.5,x:a.get_data().x,y:a.get_data().y,velY:-250})))},_onRockHit:function(){e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_LIVES,-1);this._jerkScoreValue=1;e.WorkinCloud.get_instance().get_sound().playSound("hit",0.5);0>e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_LIVES)&&(e.WorkinCloud.get_instance().get_sound().playSound("gameover",0.5),e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_GAME_LOSE,!0))},_removeEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_PAUSE,
t(this,this._onPause));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_UNPAUSE,t(this,this._onUnpause));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_JERK_ROCK_THROW,t(this,this._onSpawnRock));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_ROCK_HIT,t(this,this._onRockHit))},_addEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_PAUSE,
t(this,this._onPause));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_UNPAUSE,t(this,this._onUnpause));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_JERK_ROCK_THROW,t(this,this._onSpawnRock));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_ROCK_HIT,t(this,this._onRockHit))},render:function(){this._elementManager.renderElements()},_levelUp:function(){for(var a=this._presents.length;0<a;)a--,
this._presents[a].set_doDelete(!0);for(a=this._jerks.length;0<a;)a--,this._jerks[a].set_doDelete(!0);for(a=this._obstacles.length;0<a;)a--,this._obstacles[a].set_doDelete(!0);this._cleanUp();e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_LEVEL,1);this._sceneNumber=Math.floor(e.WorkinUtils.clamp(this._sceneNumber+1,1,5,!0));this._changeScene(this._sceneNumber);null},_levelEndSequence:function(){var a=this;p.World.get_tweener().timer(1,0).onComplete(function(){a._transitionImage.get_renderable().alpha=
1;e.WorkinCloud.get_instance().get_sound().playSound("whoosh",0.4);p.World.get_tweener().tween(a._transitionImage.get_renderable(),0.3,{scaleX:2,scaleY:2},!0,f.tween.Ease.EASE_LINEAR,0).onComplete(function(){e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_JERK_COUNT,0);a._levelUp();e.WorkinCloud.get_instance().get_sound().playSound("whoosh",0.4);p.World.get_tweener().tween(a._transitionImage.get_renderable(),0.3,{scaleX:0.5,scaleY:0.5},!0,f.tween.Ease.EASE_LINEAR,0).onComplete(function(){a._transitionImage.get_renderable().alpha=
0})})})},_cleanUp:function(){for(var a=this._presents.length;0<a;)a--,this._presents[a].get_doDelete()&&this._presents.splice(a,1);for(a=this._jerks.length;0<a;)a--,this._jerks[a].get_doDelete()&&this._jerks.splice(a,1);for(a=this._obstacles.length;0<a;)a--,this._obstacles[a].get_doDelete()&&this._obstacles.splice(a,1)},update:function(a){if(!0!=e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_PAUSED))switch(p.World.get_tweener().update(a),this._state[1]){case 0:null!=this._poolManager&&this._poolManager.update(a);
break;case 1:this._cleanUp();this._elementManager.updateElements(a);for(var b=this._presents.length;0<b;)b--,400<this._presents[b].get_pos().y&&this._presents[b].set_doDelete(!0);if(this._flagSinging){this._timerMusic-=a;0>=this._timerMusic&&(this._timerMusic=0.05,this._elementManager.addElement(new p.elements.effects.EffectBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,asset:"note_"+e.WorkinCloud.get_instance().get_random().getRandomInt(1,2),origin:0.5,x:e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x,
y:e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().y,lifetime:0.5,vX:e.WorkinCloud.get_instance().get_random().getRandomFloat(-50,50),vY:e.WorkinCloud.get_instance().get_random().getRandomFloat(-50,50)})));for(b=this._presents.length;0<b;)b--,!this._presents[b].get_doDelete()&&this._presents[b].contains(e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x,e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().y)&&(this._presents[b].set_doDelete(!0),
e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_SCORE,2),e.WorkinCloud.get_instance().get_sound().playSound("collect",0.5),this._elementManager.addElement(new p.elements.effects.EffectBase({layer:c.ConstantsApp.LAYER_SCENE_MID,asset:"sunsplash",origin:0.5,x:this._presents[b].get_pos().x,y:this._presents[b].get_pos().y,lifetime:0.5,rotation:e.WorkinCloud.get_instance().get_random().getRandomFloat(0,360),rotate:360})));for(b=this._jerks.length;0<b;)if(b--,!this._jerks[b].get_cured()&&(this._jerks[b].get_flagBoss()&&
this._jerks[b].get_pos().x>c.ConstantsApp.STAGE_WIDTH&&this._levelEndSequence(),this._jerks[b].contains(e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x,e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().y))){this._jerkScoreValue+=1;this._jerks[b].cure(a);if(this._jerks[b].get_flagBoss())for(var d=0;2>d;){var m=d++;this._elementManager.addElement(new p.elements.effects.EffectBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,asset:"poof",origin:0.5,x:e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x,
y:e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().y,lifetime:0.25,vX:e.WorkinCloud.get_instance().get_random().getRandomFloat(-200,200),vY:e.WorkinCloud.get_instance().get_random().getRandomFloat(-100,100),rotation:e.WorkinCloud.get_instance().get_random().getRandomFloat(0,360),scale:e.WorkinCloud.get_instance().get_random().getRandomFloat(0.5,0.9),rotate:120}))}else{e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_SCORE,this._jerkScoreValue);e.WorkinCloud.get_instance().get_sound().playSound("note"+
this._jerkScoreValue,0.5);e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_JERK_COUNT,-1);for(d=0;4>d;)d++,this._elementManager.addElement(new p.elements.effects.EffectBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,asset:"poof",origin:0.5,x:this._jerks[b].get_pos().x,y:this._jerks[b].get_pos().y-50,lifetime:0.25,vX:e.WorkinCloud.get_instance().get_random().getRandomFloat(-200,200),vY:e.WorkinCloud.get_instance().get_random().getRandomFloat(-100,100),rotation:e.WorkinCloud.get_instance().get_random().getRandomFloat(0,
360),scale:e.WorkinCloud.get_instance().get_random().getRandomFloat(0.5,0.9),rotate:120}))}if(0>=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_JERK_COUNT))if(e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_BOSS_ACTIVE)){e.WorkinCloud.get_instance().get_sound().playSound("cheer",0.5);for(var d=0,f=this._jerks;d<f.length;)m=f[d],++d,m.get_flagBoss()||m.cheer();this._levelEndSequence();e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BOSS_ACTIVE,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BONUS_ROBOT,
!1)}else if(0==e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_LEVEL)%10)e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_JERK_COUNT,1),this._jerks.push(this._elementManager.addElement(new p.elements.elements.fish.JerkFish({layer:c.ConstantsApp.LAYER_SCENE_FRONT,x:-250,y:c.ConstantsApp.STAGE_CENTER_Y+200,jerkVariety:6}))),e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BONUS_ROBOT,!0);else{e.WorkinCloud.get_instance().get_sound().playSound("cheer",0.5);d=0;for(f=this._jerks;d<
f.length;)m=f[d],++d,m.get_flagBoss()||m.cheer();if(0==e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_LEVEL)%5){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BONUS_ROUND,!0);d=0;for(f=this._obstacles;d<f.length;)m=f[d],++d,m.set_doDelete(!0);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BONUS,!0);this._timerPresent=0.25;this._timerBonusRound=8}else this._levelEndSequence()}}for(b=this._obstacles.length;0<b;)b--,this._obstacles[b].get_doDelete()||(this._obstacles[b].contains(e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x,
e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().y)&&(this._obstacles[b].set_doDelete(!0),this._obstacles[b].get_hurtOnTouch()&&(this._elementManager.addElement(new p.elements.effects.EffectBase({layer:c.ConstantsApp.LAYER_WORLD,asset:"player_hit",origin:0.5,x:c.ConstantsApp.STAGE_CENTER_X,y:c.ConstantsApp.STAGE_CENTER_Y,lifetime:0.25,fade:1})),e.WorkinCloud.get_instance().get_sound().playSound("doo",0.5),this._jerkScoreValue=1,e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_LIVES,
-1),0>=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_LIVES)&&(e.WorkinCloud.get_instance().get_sound().playSound("gameover",0.5),e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_GAME_LOSE,!0)))),this._obstacles[b].screenBounded()&&(this._obstacles[b].get_pos().x>c.ConstantsApp.STAGE_WIDTH+100&&0<this._obstacles[b].get_velocity().x&&this._obstacles[b].set_doDelete(!0),-100>this._obstacles[b].get_pos().x&&0>this._obstacles[b].get_velocity().x&&this._obstacles[b].set_doDelete(!0),-100>
this._obstacles[b].get_pos().y&&0>this._obstacles[b].get_velocity().y&&this._obstacles[b].set_doDelete(!0),this._obstacles[b].get_pos().y>c.ConstantsApp.STAGE_HEIGHT+100&&0<this._obstacles[b].get_velocity().y&&this._obstacles[b].set_doDelete(!0)))}this._timerPresent-=a;0>=this._timerPresent&&(this._timerPresent=e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_BONUS_ROUND)?0.25:e.WorkinCloud.get_instance().get_random().getRandomFloat(0.5,5),this._presents.push(this._elementManager.addElement(new p.elements.elements.pickups.GiftPickup({layer:c.ConstantsApp.LAYER_SCENE_FRONT,
asset:"gift_"+e.WorkinCloud.get_instance().get_random().getRandomInt(1,4),origin:0.5,x:e.WorkinCloud.get_instance().get_random().getRandomFloat(50,c.ConstantsApp.STAGE_WIDTH-50),y:-100}))));if(e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_BONUS_ROUND))this._timerBonusRound-=a,0>=this._timerBonusRound&&(e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BONUS_ROUND,!1),this._levelEndSequence());else if(this._obstacles.length<=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_JERKTONIUM)&&
(this._timerJerktonium-=a,0>=this._timerJerktonium))switch(this._timerJerktonium=e.WorkinCloud.get_instance().get_random().getRandomFloat(2,5),d=e.WorkinCloud.get_instance().get_random().getRandomInt(1,4),d){case 1:this._obstacles.push(this._elementManager.addElement(new p.elements.elements.pickups.ObstacleBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,asset:"jerktonium",origin:0.5,x:-100,y:e.WorkinCloud.get_instance().get_random().getRandomFloat(100,400),velX:250})));break;case 2:this._obstacles.push(this._elementManager.addElement(new p.elements.elements.pickups.ObstacleBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,
asset:"jerktonium",origin:0.5,x:c.ConstantsApp.STAGE_WIDTH+100,y:e.WorkinCloud.get_instance().get_random().getRandomFloat(100,400),velX:-250})));break;case 3:this._obstacles.push(this._elementManager.addElement(new p.elements.elements.pickups.ObstacleBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,asset:"jerktonium",origin:0.5,y:c.ConstantsApp.STAGE_HEIGHT+100,x:e.WorkinCloud.get_instance().get_random().getRandomFloat(100,400),velY:-250})));break;case 4:this._obstacles.push(this._elementManager.addElement(new p.elements.elements.pickups.ObstacleBase({layer:c.ConstantsApp.LAYER_SCENE_FRONT,
asset:"jerktonium",origin:0.5,y:-100,x:e.WorkinCloud.get_instance().get_random().getRandomFloat(100,400),velY:250})))}}},_setState:function(a){this._state=a},dispose:function(){p.World.get_tweener().stopAllTweens();this._elementManager.dispose();this._timeline=this._elementManager=null;this._removeEventListeners();this._poolManager.dispose();this._state=this._poolManager=null;this._dispatcher.dispose();this._transitionImage=this._dispatcher=null},start:function(){this._setState(p._World.WORLD_STATE._STATE_GAMEPLAY)},
__class__:p.World};p.elements={};p.elements.effects={};p.elements.effects.EFFECT_STATE=l["com.nick.spongebob.stop_motion_holiday.world.elements.effects.EFFECT_STATE"]={__ename__:"com,nick,spongebob,stop_motion_holiday,world,elements,effects,EFFECT_STATE".split(","),__constructs__:["_STATE_IN","_STATE_IDLE","_STATE_OUT"]};p.elements.effects.EFFECT_STATE._STATE_IN=["_STATE_IN",0];p.elements.effects.EFFECT_STATE._STATE_IN.toString=n;p.elements.effects.EFFECT_STATE._STATE_IN.__enum__=p.elements.effects.EFFECT_STATE;
p.elements.effects.EFFECT_STATE._STATE_IDLE=["_STATE_IDLE",1];p.elements.effects.EFFECT_STATE._STATE_IDLE.toString=n;p.elements.effects.EFFECT_STATE._STATE_IDLE.__enum__=p.elements.effects.EFFECT_STATE;p.elements.effects.EFFECT_STATE._STATE_OUT=["_STATE_OUT",2];p.elements.effects.EFFECT_STATE._STATE_OUT.toString=n;p.elements.effects.EFFECT_STATE._STATE_OUT.__enum__=p.elements.effects.EFFECT_STATE;j.AnimatedElement=function(a){if(null!=a.movie&&""!=a.movie&&(null==a.library||""==a.library)&&(null==
a.asset||""==a.asset))a.asset=a.movie;this._animations=new w.StringMap;this._queuedAnimations=[];this._currentAnimDef=null;this._lastFrame=-1;this._currentFrame=0;this._currentAnimation="";this._fps=3;this._animationStopped=!0;this._library="";this._loopComplete=!1;this._symbol="";this._workFrame=0;j.Element.call(this,a)};l["com.workinman.display.AnimatedElement"]=j.AnimatedElement;j.AnimatedElement.__name__=["com","workinman","display","AnimatedElement"];j.AnimatedElement.__super__=j.Element;j.AnimatedElement.prototype=
u(j.Element.prototype,{_onAnimationComplete:function(){},_setFrame:function(a){switch(this._format[1]){case 2:this._movieSprite.set_position(Math.floor(a)/this._frames*this._duration);break;default:this.setTextureAsset(this._currentAnimDef.get_frameIds()[Math.floor(a-1)])}},_runAnimation:function(a){if(""!=this._currentAnimation&&!0==this._doLoop()&&!1==this._animationStopped&&(this._currentFrame=!1==this._currentAnimDef.get_reverse()?this._currentFrame+this._fps*a:this._currentFrame-this._fps*a,
!1==this._currentAnimDef.get_reverse()?Math.floor(this._currentFrame)>this._currentAnimDef.get_end()&&(this._currentFrame=this._currentAnimDef.get_start()+(this._currentFrame-Math.floor(this._currentFrame)),this._loopComplete=!0):Math.ceil(this._currentFrame)<this._currentAnimDef.get_start()&&(this._currentFrame=this._currentAnimDef.get_end()+(this._currentFrame-Math.ceil(this._currentFrame)),this._loopComplete=!0),!0==this._loopComplete&&(this._loopComplete=!1,this._currentLoop--,!1==this._doLoop()&&
(this._animationStopped=!0,this._currentFrame=!1==this._currentAnimDef.get_reverse()?this._currentAnimDef.get_end():this._currentAnimDef.get_start(),0<this._queuedAnimations.length?(this._doAnimate(this._queuedAnimations[0].get_name(),this._queuedAnimations[0].get_loops(),this._queuedAnimations[0].get_force()),this._queuedAnimations[0].dispose(),this._queuedAnimations.splice(0,1)):this._onAnimationComplete())),this._workFrame=!1==this._currentAnimDef.get_reverse()?Math.floor(this._currentFrame):Math.ceil(this._currentFrame),
(this._format!=j.ELEMENT_FORMAT.MOVIE||null!=this._movieSprite)&&this._workFrame!=this._lastFrame))this._setFrame(this._workFrame),this._lastFrame=this._workFrame},_doLoop:function(){return 0<this._currentLoop||this._flagLoop},update:function(a){j.Element.prototype.update.call(this,a);this._runAnimation(a)},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.pop().dispose()},queueAnimation:function(a,b,d){null==d&&(d=!1);null==b&&(b=0);this._queuedAnimations.push(j.QueuedAnimation.request(a,
b,d));return this},hasAnimation:function(a){return this._animations.exists(a)},startAnimation:function(){this._animationStopped=!1},stopAnimation:function(){this._animationStopped=!0},setLoop:function(a){this._currentLoop=a;this._flagLoop=0==a;return this},_doAnimate:function(a,b,d){null==d&&(d=!1);null==b&&(b=0);this._currentAnimation==a&&!1==d||(null!=this._animations&&this._animations.exists(a)?(this._currentAnimDef=null,this._currentAnimDef=this._animations.get(a),this._currentFrame=!1==this._currentAnimDef.get_reverse()?
this._currentAnimDef.get_start():this._currentAnimDef.get_end(),this._currentAnimation=a,this.setLoop(b),this._animationStopped=!1,this._setFrame(this._currentFrame)):null)},animate:function(a,b,d){null==d&&(d=!1);null==b&&(b=0);this.clearQueue();this._doAnimate(a,b,d);return this},addAnimationFrames:function(a,b){this._animations.exists(a)&&this._animations.get(a).dispose();this._animations.set(a,j.AnimationDef.request(a,-1,-1,b));return this},addAnimationFlump:function(a,b,d){this._animations.exists(a)&&
this._animations.get(a).dispose();this._animations.set(a,j.AnimationDef.request(a,b-1,d-1));return this},_buildAnimationsFromLayers:function(a,b){for(var d=function(a){return function(){return a.iterator()}}(this._animations)();d.hasNext();)d.next().dispose();e.WorkinUtils.emptyMap(this._animations);for(var d=null,m=0,c=a.layers;m<c.length;){var f=c[m];++m;if(null!=d)break;for(var g=0,h=f.keyframes;g<h.length;){var i=h[g];++g;if(null!=i.label){d=f;break}}}b&&null;if(null!=d){m=0;for(c=d.keyframes;m<
c.length;)i=c[m],++m,this.addAnimationFlump(i.label,i.index+1,i.index+i.duration),b&&null}else null},setLibraryAndSymbol:function(a,b,d){if(""==b)for(var m=e.WorkinCloud.get_instance().get_assets().getLibrary(a)._symbols.iterator();m.hasNext();){var c=m.next();M.__instanceof(c,y.MovieSymbol)&&0<M.__cast(c,y.MovieSymbol).frames&&(b=c.get_name(),d&&null)}if(a==this._library&&b==this._symbol)return this;this._library=a;this._symbol=b;a=e.WorkinCloud.get_instance().get_assets().getLibrary(this._library)._symbols.get(this._symbol);
this._buildAnimationsFromLayers(a,d);this._duration=a.duration;this._frames=a.frames;this.setImageSprite(a.createSprite());this._movieSprite=this._imageSprite;this._movieSprite.set_paused(!0);return this},setSymbol:function(a){return this.setLibraryAndSymbol(this._library,a,!1)},set_animationFrameRelative:function(a){this._currentFrame=this._currentAnimDef.get_start()+a;return this.get_animationFrameRelative()},get_animationFrameRelative:function(){return this._currentFrame-this._currentAnimDef.get_start()|
0},set_animationFrame:function(a){this._currentFrame=a;this._setFrame(this._currentFrame);this.stopAnimation();return this._currentFrame|0},get_animationFrame:function(){return this._currentFrame|0},set_animationRatio:function(a){this._newFrame=Math.floor(a*(this._currentAnimDef.get_end()-this._currentAnimDef.get_start())+this._currentAnimDef.get_start());this._newFrame!=this._currentFrame&&this.set_animationFrame(this._newFrame);return this.get_animationRatio()},get_animationRatio:function(){return(this._currentFrame-
this._currentAnimDef.get_start())/(this._currentAnimDef.get_end()-this._currentAnimDef.get_end())},set_fps:function(a){return this._fps=a},get_fps:function(){return this._fps},get_currentId:function(){return this._currentAnimation},get_currentAnimation:function(){return this._currentAnimation},_cleanOldFormat:function(a){switch(a[1]){case 2:this._movieSprite=null;break;default:j.Element.prototype._cleanOldFormat.call(this,a)}},_determineFormat:function(a){M.__instanceof(a,y.MovieSprite)?this._setFormat(j.ELEMENT_FORMAT.MOVIE):
j.Element.prototype._determineFormat.call(this,a)},renew:function(a){j.Element.prototype.renew.call(this,a);a.library&&this.setLibraryAndSymbol(a.library,null!=a.movie?a.movie:"",null!=a.trace?a.trace:!1);a.fps&&(this._fps=a.fps)},dispose:function(){if(!this.get_isPooled()){this._movieSprite=null;for(var a=function(a){return function(){return a.iterator()}}(this._animations)();a.hasNext();)a.next().dispose();this._currentAnimDef=this._animations=null;this.clearQueue();this._queuedAnimations=null}j.Element.prototype.dispose.call(this)},
__class__:j.AnimatedElement,__properties__:u(j.Element.prototype.__properties__,{get_currentAnimation:"get_currentAnimation",get_currentId:"get_currentId",set_fps:"set_fps",get_fps:"get_fps",set_animationRatio:"set_animationRatio",get_animationRatio:"get_animationRatio",set_animationFrame:"set_animationFrame",get_animationFrame:"get_animationFrame",set_animationFrameRelative:"set_animationFrameRelative",get_animationFrameRelative:"get_animationFrameRelative"})});p.elements.effects.EffectBase=function(a){j.AnimatedElement.call(this,
a)};l["com.nick.spongebob.stop_motion_holiday.world.elements.effects.EffectBase"]=p.elements.effects.EffectBase;p.elements.effects.EffectBase.__name__="com,nick,spongebob,stop_motion_holiday,world,elements,effects,EffectBase".split(",");p.elements.effects.EffectBase.__super__=j.AnimatedElement;p.elements.effects.EffectBase.prototype=u(j.AnimatedElement.prototype,{_onAnimationComplete:function(){switch(this._currentAnimation){case "in":this._setState(p.elements.effects.EFFECT_STATE._STATE_IDLE);break;
case "out":this.set_doDelete(!0)}},update:function(a){j.AnimatedElement.prototype.update.call(this,a);switch(this._state[1]){case 1:-1<this._lifetime&&(this._lifetime-=a,0>=this._lifetime&&this._setState(p.elements.effects.EFFECT_STATE._STATE_OUT),this.updatePositionFromVelocity(a),this._render.rotation+=this._rotation*a,0<this._fade&&(this._render.alpha=this._lifetime/this._maxLifetime))}},_setState:function(a){this._state=a;switch(this._state[1]){case 0:this.hasAnimation("in")?this.animate("in"):
this._setState(p.elements.effects.EFFECT_STATE._STATE_IDLE);break;case 1:this.hasAnimation("idle")?this.animate("idle"):0>this._lifetime&&this._setState(p.elements.effects.EFFECT_STATE._STATE_OUT);break;case 2:this.hasAnimation("out")?this.animate("out"):this.set_doDelete(!0)}},renew:function(a){j.AnimatedElement.prototype.renew.call(this,a);this._lifetime=-1;a.lifetime&&(this._lifetime=a.lifetime);this._maxLifetime=this._lifetime;this._rotation=0;null!=a.rotate&&(this._rotation=a.rotate);this._fade=
0;null!=a.fade&&(this._fade=a.fade);null!=a.vX&&(this._velocity.x=a.vX);null!=a.vY&&(this._velocity.y=a.vY);this._setState(p.elements.effects.EFFECT_STATE._STATE_IN)},dispose:function(){this.get_isPooled()||(this._state=null);j.AnimatedElement.prototype.dispose.call(this)},__class__:p.elements.effects.EffectBase});p.elements.elements={};p.elements.elements.environment={};p.elements.elements.environment.SceneBackground=function(a){j.Element.call(this,a);this._fg=null};l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.environment.SceneBackground"]=
p.elements.elements.environment.SceneBackground;p.elements.elements.environment.SceneBackground.__name__="com,nick,spongebob,stop_motion_holiday,world,elements,elements,environment,SceneBackground".split(",");p.elements.elements.environment.SceneBackground.__super__=j.Element;p.elements.elements.environment.SceneBackground.prototype=u(j.Element.prototype,{changeScene:function(a){this._scene=a;this.setTextureAsset("bg_"+a);this._fg.setTextureAsset("fg_"+a)},addForeground:function(a){this._fg=a},getSpawnPoints:function(){switch(this._scene){case 1:return[{x:260,
y:500,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:420,y:470,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:630,y:460,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:770,y:500,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:50,y:215,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:220,y:115,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:160,y:410,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:620,y:270,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:800,y:200,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:825,y:400,layer:c.ConstantsApp.LAYER_SCENE_BACK}];
case 2:return[{x:150,y:500,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:350,y:490,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:495,y:475,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:670,y:510,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:85,y:210,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:165,y:330,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:280,y:285,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:555,y:230,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:680,y:350,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:900,y:240,layer:c.ConstantsApp.LAYER_SCENE_BACK}];
case 3:return[{x:200,y:463,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:360,y:475,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:550,y:440,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:670,y:510,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:85,y:275,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:225,y:335,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:385,y:160,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:615,y:160,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:765,y:350,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:860,y:400,layer:c.ConstantsApp.LAYER_SCENE_BACK}];
case 4:return[{x:290,y:510,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:430,y:470,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:600,y:475,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:775,y:510,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:225,y:320,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:195,y:460,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:457,y:337,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:550,y:130,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:750,y:285,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:850,y:390,layer:c.ConstantsApp.LAYER_SCENE_BACK}];
case 5:return[{x:290,y:510,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:430,y:470,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:600,y:475,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:775,y:510,layer:c.ConstantsApp.LAYER_SCENE_FRONT},{x:130,y:310,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:420,y:420,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:451,y:306,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:515,y:125,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:700,y:350,layer:c.ConstantsApp.LAYER_SCENE_BACK},{x:820,y:390,layer:c.ConstantsApp.LAYER_SCENE_BACK}]}return[{}]},
dispose:function(){this._fg.set_doDelete(!0);this._fg=null;j.Element.prototype.dispose.call(this)},__class__:p.elements.elements.environment.SceneBackground});p.elements.elements.environment.Snow=function(a){j.AnimatedElement.call(this,a);this.addAnimationFrames("idle",["sb_xmas_snow_01","sb_xmas_snow_02","sb_xmas_snow_03","sb_xmas_snow_04"]);this.animate("idle")};l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.environment.Snow"]=p.elements.elements.environment.Snow;p.elements.elements.environment.Snow.__name__=
"com,nick,spongebob,stop_motion_holiday,world,elements,elements,environment,Snow".split(",");p.elements.elements.environment.Snow.__super__=j.AnimatedElement;p.elements.elements.environment.Snow.prototype=u(j.AnimatedElement.prototype,{__class__:p.elements.elements.environment.Snow});p.elements.elements.fish={};p.elements.elements.fish.JERK_STATE=l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.fish.JERK_STATE"]={__ename__:"com,nick,spongebob,stop_motion_holiday,world,elements,elements,fish,JERK_STATE".split(","),
__constructs__:["_JS_IDLE_JERK","_JS_THROW","_JS_CHEER","_JS_CHEER_IDLE","_JS_IDLE_CURED"]};p.elements.elements.fish.JERK_STATE._JS_IDLE_JERK=["_JS_IDLE_JERK",0];p.elements.elements.fish.JERK_STATE._JS_IDLE_JERK.toString=n;p.elements.elements.fish.JERK_STATE._JS_IDLE_JERK.__enum__=p.elements.elements.fish.JERK_STATE;p.elements.elements.fish.JERK_STATE._JS_THROW=["_JS_THROW",1];p.elements.elements.fish.JERK_STATE._JS_THROW.toString=n;p.elements.elements.fish.JERK_STATE._JS_THROW.__enum__=p.elements.elements.fish.JERK_STATE;
p.elements.elements.fish.JERK_STATE._JS_CHEER=["_JS_CHEER",2];p.elements.elements.fish.JERK_STATE._JS_CHEER.toString=n;p.elements.elements.fish.JERK_STATE._JS_CHEER.__enum__=p.elements.elements.fish.JERK_STATE;p.elements.elements.fish.JERK_STATE._JS_CHEER_IDLE=["_JS_CHEER_IDLE",3];p.elements.elements.fish.JERK_STATE._JS_CHEER_IDLE.toString=n;p.elements.elements.fish.JERK_STATE._JS_CHEER_IDLE.__enum__=p.elements.elements.fish.JERK_STATE;p.elements.elements.fish.JERK_STATE._JS_IDLE_CURED=["_JS_IDLE_CURED",
4];p.elements.elements.fish.JERK_STATE._JS_IDLE_CURED.toString=n;p.elements.elements.fish.JERK_STATE._JS_IDLE_CURED.__enum__=p.elements.elements.fish.JERK_STATE;p.elements.elements.fish.JerkFish=function(a){a.originX=0.5;a.originY=0.9;j.AnimatedElement.call(this,a)};l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.fish.JerkFish"]=p.elements.elements.fish.JerkFish;p.elements.elements.fish.JerkFish.__name__="com,nick,spongebob,stop_motion_holiday,world,elements,elements,fish,JerkFish".split(",");
p.elements.elements.fish.JerkFish.__super__=j.AnimatedElement;p.elements.elements.fish.JerkFish.prototype=u(j.AnimatedElement.prototype,{cheer:function(){var a=this;this.set_state(p.elements.elements.fish.JERK_STATE._JS_CHEER);p.World.get_tweener().tween(this._pos,0.5,{y:this._pos.y-50},!0,f.tween.Ease.EASE_OUT,0);p.World.get_tweener().tween(this._pos,0.5,{y:this._pos.y},!1,f.tween.Ease.EASE_IN,0).onComplete(function(){a.set_state(p.elements.elements.fish.JERK_STATE._JS_CHEER_IDLE)})},cure:function(a){var b=
this;this.get_cured()||(this._health-=a,0>=this._health&&(this._flagBoss&&(e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_SCORE,10),e.WorkinCloud.get_instance().modifyInt(c.ConstantsApp.INT_JERK_COUNT,-1),e.WorkinCloud.get_instance().get_sound().playSound("explosion",0.5),this.set_doDelete(!0)),this.set_state(p.elements.elements.fish.JERK_STATE._JS_CHEER),p.World.get_tweener().tween(this._pos,0.5,{y:this._pos.y-50},!0,f.tween.Ease.EASE_OUT,0),p.World.get_tweener().tween(this._pos,0.5,{y:this._pos.y},
!1,f.tween.Ease.EASE_IN,0).onComplete(function(){b.set_state(p.elements.elements.fish.JERK_STATE._JS_IDLE_CURED)})))},update:function(a){j.AnimatedElement.prototype.update.call(this,a);switch(this._state[1]){case 0:3<e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_LEVEL)&&(this._throwTimer-=a,0>=this._throwTimer&&(this._throwTimer=e.WorkinCloud.get_instance().get_random().getRandomFloat(4,10),this.set_state(p.elements.elements.fish.JERK_STATE._JS_THROW)));this._flagBoss&&this.updatePositionFromVelocity(a);
break;case 3:this._timerCheer-=a,0>=this._timerCheer&&this.cheer()}},set_state:function(a){var b=this;this._state=a;switch(this._state[1]){case 0:this.animate("idle_jerk");break;case 1:e.WorkinCloud.get_instance().get_sound().playSound("whoosh",0.5);this.animate("throw");e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(c.ConstantsApp.EVENT_JERK_ROCK_THROW,{x:this._pos.x,y:this._pos.y-50}));p.World.get_tweener().tween(this._render,0.5,{y:this._pos.y-50},!0,f.tween.Ease.EASE_OUT,
0);p.World.get_tweener().tween(this._render,0.5,{y:this._pos.y+50},!1,f.tween.Ease.EASE_IN,0).onComplete(function(){b.set_state(p.elements.elements.fish.JERK_STATE._JS_IDLE_JERK)});break;case 2:this.animate("cheer");break;case 3:this.animate("idle_cured");this._timerCheer=e.WorkinCloud.get_instance().get_random().getRandomFloat(0,0.5);break;case 4:this.animate("idle_cured")}return this._state},get_state:function(){return this._state},dispose:function(){this._state=null;p.World.get_tweener().stop(this._render);
p.World.get_tweener().stop(this._pos);j.AnimatedElement.prototype.dispose.call(this)},renew:function(a){j.AnimatedElement.prototype.renew.call(this,a);var b=e.WorkinCloud.get_instance().get_random().getRandomInt(1,3);null!=a.jerkVariety&&0<a.jerkVariety&&(b=a.jerkVariety);this._health=0;this._flagBoss=!1;switch(b){case 1:this.addAnimationFrames("idle_jerk",["fish_1_jerk_1","fish_1_jerk_2"]);this.addAnimationFrames("throw",["fish_1_throw"]);this.addAnimationFrames("cheer",["fish_1_cheer"]);this.addAnimationFrames("idle_cured",
["fish_1_cured_1","fish_1_cured_2","fish_1_cured_1","fish_1_cured_3"]);break;case 2:this.addAnimationFrames("idle_jerk",["fish_2_jerk_1","fish_2_jerk_2"]);this.addAnimationFrames("throw",["fish_2_throw"]);this.addAnimationFrames("cheer",["fish_2_cheer"]);this.addAnimationFrames("idle_cured",["fish_2_cured_1","fish_2_cured_2","fish_2_cured_1","fish_2_cured_3"]);break;case 3:this.addAnimationFrames("idle_jerk",["fish_3_jerk_1","fish_3_jerk_2"]);this.addAnimationFrames("throw",["fish_3_throw"]);this.addAnimationFrames("cheer",
["fish_3_cheer"]);this.addAnimationFrames("idle_cured",["fish_3_cured_1","fish_3_cured_2","fish_3_cured_1","fish_3_cured_3"]);break;case 4:this.addAnimationFrames("idle_jerk",["patrick_jerk_1","patrick_jerk_2"]);this.addAnimationFrames("throw",["patrick_throw"]);this.addAnimationFrames("cheer",["patrick_cheer"]);this.addAnimationFrames("idle_cured",["patrick_cured_1","patrick_cured_2","patrick_cured_1","patrick_cured_3"]);break;case 5:this.addAnimationFrames("idle_jerk",["sandy_jerk_1","sandy_jerk_2"]);
this.addAnimationFrames("throw",["sandy_throw"]);this.addAnimationFrames("cheer",["sandy_cheer"]);this.addAnimationFrames("idle_cured",["sandy_cured_1","sandy_cured_2","sandy_cured_1","sandy_cured_3"]);break;case 6:this.addAnimationFrames("idle_jerk",["robot_walk_2","robot_walk_1","robot_walk_2","robot_walk_3"]),this.addAnimationFrames("throw",["robot_walk_2","robot_walk_1","robot_walk_2","robot_walk_3"]),this.addAnimationFrames("cheer",["robot_walk_2","robot_walk_1","robot_walk_2","robot_walk_3"]),
this.addAnimationFrames("idle_cured",["robot_walk_2","robot_walk_1","robot_walk_2","robot_walk_3"]),this._velocity.x=50,this._health=2,this._flagBoss=!0,e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_BOSS_ACTIVE,!0)}this._throwTimer=e.WorkinCloud.get_instance().get_random().getRandomFloat(4,10);this._timerCheer=0;this.set_state(p.elements.elements.fish.JERK_STATE._JS_IDLE_JERK)},get_cured:function(){return this._state!=p.elements.elements.fish.JERK_STATE._JS_IDLE_JERK},get_flagBoss:function(){return this._flagBoss},
__class__:p.elements.elements.fish.JerkFish,__properties__:u(j.AnimatedElement.prototype.__properties__,{get_flagBoss:"get_flagBoss",get_cured:"get_cured",set_state:"set_state",get_state:"get_state"})});p.elements.elements.pickups={};p.elements.elements.pickups.GiftPickup=function(a){j.Element.call(this,a)};l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.pickups.GiftPickup"]=p.elements.elements.pickups.GiftPickup;p.elements.elements.pickups.GiftPickup.__name__="com,nick,spongebob,stop_motion_holiday,world,elements,elements,pickups,GiftPickup".split(",");
p.elements.elements.pickups.GiftPickup.__super__=j.Element;p.elements.elements.pickups.GiftPickup.prototype=u(j.Element.prototype,{update:function(a){j.Element.prototype.update.call(this,a);this._render.rotation+=180*a*this._direction;this.updatePositionFromVelocity(a)},renew:function(a){j.Element.prototype.renew.call(this,a);this._velocity.to(0,200,0);this._direction=0.5<Math.random()?1:-1},__class__:p.elements.elements.pickups.GiftPickup});p.elements.elements.pickups.OBSTACLE_TYPE=l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.pickups.OBSTACLE_TYPE"]=
{__ename__:"com,nick,spongebob,stop_motion_holiday,world,elements,elements,pickups,OBSTACLE_TYPE".split(","),__constructs__:["_OT_ROCK","_OT_JERKTONIUM"]};p.elements.elements.pickups.OBSTACLE_TYPE._OT_ROCK=["_OT_ROCK",0];p.elements.elements.pickups.OBSTACLE_TYPE._OT_ROCK.toString=n;p.elements.elements.pickups.OBSTACLE_TYPE._OT_ROCK.__enum__=p.elements.elements.pickups.OBSTACLE_TYPE;p.elements.elements.pickups.OBSTACLE_TYPE._OT_JERKTONIUM=["_OT_JERKTONIUM",1];p.elements.elements.pickups.OBSTACLE_TYPE._OT_JERKTONIUM.toString=
n;p.elements.elements.pickups.OBSTACLE_TYPE._OT_JERKTONIUM.__enum__=p.elements.elements.pickups.OBSTACLE_TYPE;p.elements.elements.pickups.MOVEMENT_PATTERN=l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.pickups.MOVEMENT_PATTERN"]={__ename__:"com,nick,spongebob,stop_motion_holiday,world,elements,elements,pickups,MOVEMENT_PATTERN".split(","),__constructs__:["_MP_STRAIGHT","_MP_CIRCLE"]};p.elements.elements.pickups.MOVEMENT_PATTERN._MP_STRAIGHT=["_MP_STRAIGHT",0];p.elements.elements.pickups.MOVEMENT_PATTERN._MP_STRAIGHT.toString=
n;p.elements.elements.pickups.MOVEMENT_PATTERN._MP_STRAIGHT.__enum__=p.elements.elements.pickups.MOVEMENT_PATTERN;p.elements.elements.pickups.MOVEMENT_PATTERN._MP_CIRCLE=["_MP_CIRCLE",1];p.elements.elements.pickups.MOVEMENT_PATTERN._MP_CIRCLE.toString=n;p.elements.elements.pickups.MOVEMENT_PATTERN._MP_CIRCLE.__enum__=p.elements.elements.pickups.MOVEMENT_PATTERN;p.elements.elements.pickups.ObstacleBase=function(a){this._GRAVITY=250;var b=this;j.Element.call(this,a);null!=a.velX&&(this._velocity.x=
a.velX);null!=a.velY&&(this._velocity.y=a.velY);null!=a.velZ&&(this._velocity.z=a.velZ);this._type=null!=a.type?a.type:p.elements.elements.pickups.OBSTACLE_TYPE._OT_JERKTONIUM;this._movePattern=p.elements.elements.pickups.MOVEMENT_PATTERN._MP_STRAIGHT;null!=a.mPattern&&(this._movePattern=a.mPattern);this._swayY=this._swayX=0;this._frequency=2;switch(this._type[1]){case 0:this._render.scaleX=0.5;this._render.scaleY=0.5;this._velocity.y=(c.ConstantsApp.STAGE_HEIGHT-100-this._pos.y)/3-0.5*3*this._GRAVITY;
this._velocity.x=(150-this._pos.x)/3;p.World.get_tweener().tween(this._render,3,{scaleX:1.2,scaleY:1.2},!0,f.tween.Ease.EASE_LINEAR,0).onComplete(function(){b.set_doDelete(!0);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(c.ConstantsApp.EVENT_ROCK_HIT))});break;case 1:a.swayX&&(this._swayX=a.swayX),a.swayY&&(this._swayY=a.swayY),a.frequency&&(this._frequency=a.frequency)}this._originSwayX=this._pos.x;this._originSwayY=this._pos.y;this._theta=0;this._rotateSpeed=e.WorkinCloud.get_instance().get_random().getRandomFloat(-100,
100)};l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.pickups.ObstacleBase"]=p.elements.elements.pickups.ObstacleBase;p.elements.elements.pickups.ObstacleBase.__name__="com,nick,spongebob,stop_motion_holiday,world,elements,elements,pickups,ObstacleBase".split(",");p.elements.elements.pickups.ObstacleBase.__super__=j.Element;p.elements.elements.pickups.ObstacleBase.prototype=u(j.Element.prototype,{update:function(a){j.Element.prototype.update.call(this,a);switch(this._type[1]){case 0:this._velocity.y+=
this._GRAVITY*a;this.updatePositionFromVelocity(a);break;case 1:switch(this._movePattern[1]){case 0:this.updatePositionFromVelocity(a);break;case 1:this._theta+=a*this._frequency,this._pos.to(Math.cos(this._theta)*this._swayX+this._originSwayX,Math.sin(this._theta)*this._swayY+this._originSwayY)}this._render.rotation+=this._rotateSpeed*a}},dispose:function(){p.World.get_tweener().stop(this._render);this._type=null;j.Element.prototype.dispose.call(this)},screenBounded:function(){return this._movePattern==
p.elements.elements.pickups.MOVEMENT_PATTERN._MP_STRAIGHT},get_hurtOnTouch:function(){return this._type==p.elements.elements.pickups.OBSTACLE_TYPE._OT_JERKTONIUM},__class__:p.elements.elements.pickups.ObstacleBase,__properties__:u(j.Element.prototype.__properties__,{get_hurtOnTouch:"get_hurtOnTouch"})});p.elements.elements.player={};p.elements.elements.player.PLAYER_STATE=l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.player.PLAYER_STATE"]={__ename__:"com,nick,spongebob,stop_motion_holiday,world,elements,elements,player,PLAYER_STATE".split(","),
__constructs__:["_PS_IDLE","_PS_SING","_PS_THROW"]};p.elements.elements.player.PLAYER_STATE._PS_IDLE=["_PS_IDLE",0];p.elements.elements.player.PLAYER_STATE._PS_IDLE.toString=n;p.elements.elements.player.PLAYER_STATE._PS_IDLE.__enum__=p.elements.elements.player.PLAYER_STATE;p.elements.elements.player.PLAYER_STATE._PS_SING=["_PS_SING",1];p.elements.elements.player.PLAYER_STATE._PS_SING.toString=n;p.elements.elements.player.PLAYER_STATE._PS_SING.__enum__=p.elements.elements.player.PLAYER_STATE;p.elements.elements.player.PLAYER_STATE._PS_THROW=
["_PS_THROW",2];p.elements.elements.player.PLAYER_STATE._PS_THROW.toString=n;p.elements.elements.player.PLAYER_STATE._PS_THROW.__enum__=p.elements.elements.player.PLAYER_STATE;p.elements.elements.player.Player=function(a){j.AnimatedElement.call(this,a)};l["com.nick.spongebob.stop_motion_holiday.world.elements.elements.player.Player"]=p.elements.elements.player.Player;p.elements.elements.player.Player.__name__="com,nick,spongebob,stop_motion_holiday,world,elements,elements,player,Player".split(",");
p.elements.elements.player.Player.__super__=j.AnimatedElement;p.elements.elements.player.Player.prototype=u(j.AnimatedElement.prototype,{_onAnimationComplete:function(){j.AnimatedElement.prototype._onAnimationComplete.call(this);switch(this._currentAnimation){case "throw":this.set_state(p.elements.elements.player.PLAYER_STATE._PS_IDLE)}},set_state:function(a){this._state=a;switch(this._state[1]){case 0:this.animate("idle");break;case 1:this.animate("sing");break;case 2:this.animate("throw",1)}return this._state},
get_state:function(){return this._state},renew:function(a){j.AnimatedElement.prototype.renew.call(this,a);this.addAnimationFrames("idle",["sb_idle_1","sb_idle_2","sb_idle_1","sb_idle_3"]);this.addAnimationFrames("sing",["sb_sing_1","sb_sing_2","sb_sing_3","sb_sing_2"]);this.addAnimationFrames("throw",["sb_throw_1","sb_throw_2","sb_throw_3","sb_throw_4"]);this.set_state(p.elements.elements.player.PLAYER_STATE._PS_IDLE)},__class__:p.elements.elements.player.Player,__properties__:u(j.AnimatedElement.prototype.__properties__,
{set_state:"set_state",get_state:"get_state"})});r={Disposable:function(){}};l["flambe.util.Disposable"]=r.Disposable;r.Disposable.__name__=["flambe","util","Disposable"];r.Disposable.prototype={__class__:r.Disposable};P=function(){};l["flambe.Component"]=P;P.__name__=["flambe","Component"];P.__interfaces__=[r.Disposable];P.prototype={init:function(a,b){this.owner=a;this.next=b},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},
onAdded:function(){},__class__:P};Z={ComponentUpdater:function(){this._paused=!1}};l["com.workinman.components.ComponentUpdater"]=Z.ComponentUpdater;Z.ComponentUpdater.__name__=["com","workinman","components","ComponentUpdater"];Z.ComponentUpdater.__super__=P;Z.ComponentUpdater.prototype=u(P.prototype,{onUpdate:function(a){this._paused||e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventUpdate.request(a))},get_name:function(){return"ComponentUpdater_0"},__class__:Z.ComponentUpdater});
D={ConstantsCloud:function(){}};l["com.workinman.data.ConstantsCloud"]=D.ConstantsCloud;D.ConstantsCloud.__name__=["com","workinman","data","ConstantsCloud"];D.ConstantsCloud.getUniqueId=function(){return v.string(D.ConstantsCloud._uniqueId++)};D.ConstantsCloud.getSupportsAllAudio=function(){return k.html.WebAudioSound.get_supported()&&!(0<=z.window.navigator.userAgent.indexOf("Android"))};D.ConstantsCloud.getSupportsSingleMusicTrackOnly=function(){return 0<=z.window.navigator.userAgent.indexOf("Linux")};
D.ConstantsCloud.getSupportsNoAudio=function(){return!D.ConstantsCloud.getSupportsAllAudio()&&!D.ConstantsCloud.getSupportsSingleMusicTrackOnly()};e={pooling:{}};e.pooling.IStrictPoolable=function(){};l["com.workinman.utils.pooling.IStrictPoolable"]=e.pooling.IStrictPoolable;e.pooling.IStrictPoolable.__name__=["com","workinman","utils","pooling","IStrictPoolable"];e.pooling.IStrictPoolable.prototype={__class__:e.pooling.IStrictPoolable};e.pooling.PoolStrictBase=function(){};l["com.workinman.utils.pooling.PoolStrictBase"]=
e.pooling.PoolStrictBase;e.pooling.PoolStrictBase.__name__=["com","workinman","utils","pooling","PoolStrictBase"];e.pooling.PoolStrictBase.__interfaces__=[e.pooling.IStrictPoolable];e.pooling.PoolStrictBase.prototype={destroy:function(){this._returnFunction=null},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this))},poolActivate:function(){this._disposed=!1},create:function(){},get_poolKey:function(){return this._key},instance:function(a,b){this._returnFunction=b;this._key=
a;this.poolActivate();this.create();return this},__class__:e.pooling.PoolStrictBase,__properties__:{get_poolKey:"get_poolKey"}};j.QueuedAnimation=function(){};l["com.workinman.display.QueuedAnimation"]=j.QueuedAnimation;j.QueuedAnimation.__name__=["com","workinman","display","QueuedAnimation"];j.QueuedAnimation.__interfaces__=[e.pooling.IStrictPoolable];j.QueuedAnimation.request=function(a,b,d){return e.WorkinCloud.get_instance().get_pool().requestObject("QueuedAnimation",j.QueuedAnimation).init(a,
b,d)};j.QueuedAnimation.__super__=e.pooling.PoolStrictBase;j.QueuedAnimation.prototype=u(e.pooling.PoolStrictBase.prototype,{get_force:function(){return this._force},get_loops:function(){return this._loops},get_name:function(){return this._name},init:function(a,b,d){this._name=a;this._loops=b;this._force=d;return this},__class__:j.QueuedAnimation,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{get_name:"get_name",get_loops:"get_loops",get_force:"get_force"})});j.AnimationDef=function(){};
l["com.workinman.display.AnimationDef"]=j.AnimationDef;j.AnimationDef.__name__=["com","workinman","display","AnimationDef"];j.AnimationDef.__interfaces__=[e.pooling.IStrictPoolable];j.AnimationDef.request=function(a,b,d,m){null==d&&(d=-1);null==b&&(b=-1);return e.WorkinCloud.get_instance().get_pool().requestObject("AnimationDef",j.AnimationDef).init(a,b,d,m)};j.AnimationDef.__super__=e.pooling.PoolStrictBase;j.AnimationDef.prototype=u(e.pooling.PoolStrictBase.prototype,{get_frameIds:function(){return this._frameIds},
get_id:function(){return this._id},get_reverse:function(){return this._playReverse},get_end:function(){return this._endFrame},get_start:function(){return this._startFrame},destroy:function(){this._frameIds=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(;0<this._frameIds.length;)this._frameIds.pop();e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,d,m){null==d&&(d=-1);null==b&&(b=-1);this._id=a;this._playReverse=!1;if(null!=m){for(a=0;a<m.length;)b=
m[a],++a,this._frameIds.push(b);this._startFrame=1;this._endFrame=this._frameIds.length}else this._startFrame=b,this._endFrame=d,b>d&&(this._playReverse=!0,this._startFrame=d,this._endFrame=b);return this},create:function(){this._frameIds=[]},__class__:j.AnimationDef,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{get_start:"get_start",get_end:"get_end",get_reverse:"get_reverse",get_id:"get_id",get_frameIds:"get_frameIds"})});j.ELEMENT_FORMAT=l["com.workinman.display.ELEMENT_FORMAT"]=
{__ename__:["com","workinman","display","ELEMENT_FORMAT"],__constructs__:["EMPTY","TEXTURE","MOVIE","TEXT"]};j.ELEMENT_FORMAT.EMPTY=["EMPTY",0];j.ELEMENT_FORMAT.EMPTY.toString=n;j.ELEMENT_FORMAT.EMPTY.__enum__=j.ELEMENT_FORMAT;j.ELEMENT_FORMAT.TEXTURE=["TEXTURE",1];j.ELEMENT_FORMAT.TEXTURE.toString=n;j.ELEMENT_FORMAT.TEXTURE.__enum__=j.ELEMENT_FORMAT;j.ELEMENT_FORMAT.MOVIE=["MOVIE",2];j.ELEMENT_FORMAT.MOVIE.toString=n;j.ELEMENT_FORMAT.MOVIE.__enum__=j.ELEMENT_FORMAT;j.ELEMENT_FORMAT.TEXT=["TEXT",
3];j.ELEMENT_FORMAT.TEXT.toString=n;j.ELEMENT_FORMAT.TEXT.__enum__=j.ELEMENT_FORMAT;j.ElementManager=function(a,b,d,m,c){null==c&&(c="");null==m&&(m=!1);this._timeline=a;this._defaultLayer=c;this._layers=new w.StringMap;this._updateables=[];this._renderables=[];this._camera=new f.WorkinCamera(b,d);this._enablePointer=m;this._zSortLayers=new w.StringMap};l["com.workinman.display.ElementManager"]=j.ElementManager;j.ElementManager.__name__=["com","workinman","display","ElementManager"];j.ElementManager.prototype=
{renderElements:function(){for(var a=this._renderables.length;0<a--;)this._renderables[a].get_doDelete()?this._renderables.splice(a,1):this._renderables[a].renderPosition(this._camera)},updateElements:function(a){for(var b=this._updateables.length;0<b--;)this._updateables[b].get_doDelete()?(this._updateables[b].dispose(),this._updateables.splice(b,1)):this._updateables[b].update(a)},removeElement:function(a){a.get_root().parent.removeChild(a.get_root());var b=0;if(null!=a.get_updateable())for(b=this._updateables.length;0<
b--;)this._updateables[b]==a.get_updateable()&&this._updateables.splice(b,1);if(null!=a.get_handRender())for(b=this._renderables.length;0<b--;)this._renderables[b]==a.get_handRender()&&this._renderables.splice(b,1)},_addZSort:function(a){for(var b=this._zSortLayers.get(a.get_layer()),d=b.length;0<d--;)if(b[d]==a)return;b.push(a)},_addRender:function(a){for(var b=this._renderables.length;0<b--;)if(this._renderables[b]==a)return;this._renderables.push(a)},_addUpdate:function(a){for(var b=this._updateables.length;0<
b--;)if(this._updateables[b]==a)return;this._updateables.push(a)},addElement:function(a){!1==this._enablePointer&&a.disablePointerInput();a.disableSnapping();a.set_manager(this);if(null==a.get_root().parent){""==a.get_layer()&&""!=this._defaultLayer&&a.set_layer(this._defaultLayer);if(!1==this._layers.exists(a.get_layer()))return a;this._zSortLayers.exists(a.get_layer())&&this._addZSort(a);this._layers.get(a.get_layer()).addChild(a.get_root())}else a.get_root().parent.addChild(a.get_root());null!=
a.get_updateable()&&this._addUpdate(a.get_updateable());null!=a.get_handRender()&&this._addRender(a.get_handRender());a.applyRender();return a},addLayer:function(a,b){null==b&&(b=!1);if(this._layers.exists(a))this._timeline.removeChild(this._layers.get(a)),this._timeline.addChild(this._layers.get(a));else{var d=new L;this._timeline.addChild(d);this._layers.set(a,d);b&&this._zSortLayers.set(a,[])}},get_camera:function(){return this._camera},get_root:function(){return this._timeline},dispose:function(){for(;0<
this._updateables.length;)this._updateables.pop().dispose();this._timeline=this._updateables=null;for(var a=function(a){return function(){return a.iterator()}}(this._layers)();a.hasNext();)a.next().dispose();this._zSortLayers=this._renderables=this._layers=null;this._camera.dispose();this._defaultLayer=this._camera=null},__class__:j.ElementManager};j.PoolManager=function(){this._pools=new w.StringMap;this._flagAllPoolsFull=!1;this._numPools=0};l["com.workinman.display.PoolManager"]=j.PoolManager;
j.PoolManager.__name__=["com","workinman","display","PoolManager"];j.PoolManager.prototype={update:function(a){if(!this._flagAllPoolsFull){this._flagAllPoolsFull=!0;for(var b=function(a){return function(){return a.iterator()}}(this._pools)();b.hasNext();){var d=b.next();d.get_isPoolFull()||(this._flagAllPoolsFull=!1,d.update(a))}this._flagAllPoolsFull&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(j.PoolManager.ALL_POOLS_FULL))}},dispose:function(){for(var a=function(a){return function(){return a.iterator()}}(this._pools)();a.hasNext();)a.next().dispose();
this._pools=null},__class__:j.PoolManager};j.PoolData=function(){this._AVERAGE_DELAY_BETWEEN_CREATE_ELEMENTS=0.8;this._MAX_ELEMENTS_TO_CREATE_AT_ONCE=8};l["com.workinman.display.PoolData"]=j.PoolData;j.PoolData.__name__=["com","workinman","display","PoolData"];j.PoolData.prototype={dispose:function(){for(var a=0;a<this._elements.length;)this._elements[a].set_isPooled(!1),this._elements[a].dispose(),a++;this._class=this._elements=null},_addPoolElements:function(a){null==a&&(a=!0);for(var b=0;this._poolProgress<
this._poolElementsToAdd&&(!a||b<this._MAX_ELEMENTS_TO_CREATE_AT_ONCE);)b++,this._poolProgress++,this._elements.push(K.createInstance(this._class,[{pooled:!0}]));this._poolProgress<this._poolElementsToAdd?this._timerUpdateCreateElements=this._AVERAGE_DELAY_BETWEEN_CREATE_ELEMENTS+0.2*this._timerOffset:(this._timerUpdateCreateElements=0,this._flagPoolFull=!0)},update:function(a){this._flagPoolFull||(this._timerUpdateCreateElements-=a,0>=this._timerUpdateCreateElements&&this._addPoolElements())},get_isPoolFull:function(){return this._flagPoolFull},
__class__:j.PoolData};q={Sprite:function(){this._viewMatrixUpdateCount=this._parentViewMatrixUpdateCount=0;this.blendMode=this.scissor=this._viewMatrix=null;var a=this;this._flags=11;this._localMatrix=new H.Matrix;var b=function(){a._flags|=12};this.x=new N.AnimatedFloat(0,b);this.y=new N.AnimatedFloat(0,b);this.rotation=new N.AnimatedFloat(0,b);this.scaleX=new N.AnimatedFloat(1,b);this.scaleY=new N.AnimatedFloat(1,b);this.anchorX=new N.AnimatedFloat(0,b);this.anchorY=new N.AnimatedFloat(0,b);this.alpha=
new N.AnimatedFloat(1)}};l["flambe.display.Sprite"]=q.Sprite;q.Sprite.__name__=["flambe","display","Sprite"];q.Sprite.hitTest=function(a,b,d){var m=a._compMap.Sprite_1;if(null!=m){if(3!=(m._flags&3))return null;m.getLocalMatrix().inverseTransform(b,d,q.Sprite._scratchPoint)&&(b=q.Sprite._scratchPoint.x,d=q.Sprite._scratchPoint.y);var c=m.scissor;if(null!=c&&!c.contains(b,d))return null}a=q.Sprite.hitTestBackwards(a.firstChild,b,d);return null!=a?a:null!=m&&m.containsLocal(b,d)?m:null};q.Sprite.render=
function(a,b){var d=a._compMap.Sprite_1;if(null!=d){var m=d.alpha._value;if(0==(d._flags&1)||0>=m)return;b.save();1>m&&b.multiplyAlpha(m);null!=d.blendMode&&b.setBlendMode(d.blendMode);var m=d.getLocalMatrix(),c=m.m02,e=m.m12;0!=(d._flags&128)&&(c=Math.round(c),e=Math.round(e));b.transform(m.m00,m.m10,m.m01,m.m11,c,e);m=d.scissor;null!=m&&b.applyScissor(m.x,m.y,m.width,m.height);d.draw(b)}m=a._compMap.Director_3;if(null!=m){m=m.occludedScenes;for(c=0;c<m.length;)e=m[c],++c,q.Sprite.render(e,b)}for(m=
a.firstChild;null!=m;)c=m.next,q.Sprite.render(m,b),m=c;null!=d&&b.restore()};q.Sprite.hitTestBackwards=function(a,b,d){if(null!=a){var m=q.Sprite.hitTestBackwards(a.next,b,d);return null!=m?m:q.Sprite.hitTest(a,b,d)}return null};q.Sprite.__super__=P;q.Sprite.prototype=u(P.prototype,{set_pixelSnapping:function(a){this._flags=r.BitSets.set(this._flags,128,a);return a},set_pointerEnabled:function(a){this._flags=r.BitSets.set(this._flags,2,a);return a},set_visible:function(a){this._flags=r.BitSets.set(this._flags,
1,a);return a},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_1;if(null!=b)return b;a=a.parent}return null},isViewMatrixDirty:function(){if(0!=(this._flags&8))return!0;var a=this.getParentSprite();return null==a?!1:this._parentViewMatrixUpdateCount!=a._viewMatrixUpdateCount||a.isViewMatrixDirty()},draw:function(){},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);
this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},disablePointer:function(){this.set_pointerEnabled(!1);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},getViewMatrix:function(){if(this.isViewMatrixDirty()){var a=this.getParentSprite();this._viewMatrix=null!=a?H.Matrix.multiply(a.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix);
this._flags&=-9;null!=a&&(this._parentViewMatrixUpdateCount=a._viewMatrixUpdateCount);++this._viewMatrixUpdateCount}return this._viewMatrix},getLocalMatrix:function(){0!=(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&
0<=b&&b<this.getNaturalHeight()},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},get_name:function(){return"Sprite_1"},__class__:q.Sprite});q.ImageSprite=function(a){q.Sprite.call(this);this.texture=a};l["flambe.display.ImageSprite"]=q.ImageSprite;q.ImageSprite.__name__=["flambe","display","ImageSprite"];q.ImageSprite.__super__=q.Sprite;q.ImageSprite.prototype=u(q.Sprite.prototype,{getNaturalHeight:function(){return this.texture.get_height()},getNaturalWidth:function(){return this.texture.get_width()},
draw:function(a){a.drawImage(this.texture,0,0)},__class__:q.ImageSprite});j.SubImageSprite=function(a){q.ImageSprite.call(this,e.WorkinCloud.get_instance().get_assets().getTexture(a));this._rect=e.WorkinCloud.get_instance().get_assets().getSpriteRect(a)};l["com.workinman.display.SubImageSprite"]=j.SubImageSprite;j.SubImageSprite.__name__=["com","workinman","display","SubImageSprite"];j.SubImageSprite.__super__=q.ImageSprite;j.SubImageSprite.prototype=u(q.ImageSprite.prototype,{getNaturalHeight:function(){return null==
this.texture?0:null==this._rect?this.texture.get_height():this._rect.get_originalH()},getNaturalWidth:function(){return null==this.texture?0:null==this._rect?this.texture.get_width():this._rect.get_originalW()},setTexture:function(a){this.texture=e.WorkinCloud.get_instance().get_assets().getTexture(a);this._rect=e.WorkinCloud.get_instance().get_assets().getSpriteRect(a)},draw:function(a){null!=this.texture&&(null==this._rect?a.drawImage(this.texture,0,0):a.drawSubImage(this.texture,this._rect.get_offsetX(),
this._rect.get_offsetY(),this._rect.get_sourceX(),this._rect.get_sourceY(),this._rect.get_sourceWidth(),this._rect.get_sourceHeight()))},dispose:function(){this._rect=null;q.ImageSprite.prototype.dispose.call(this)},__class__:j.SubImageSprite});j.RenderSprite=function(a){if(null==a.asset)throw"[RenderableImageSprite](new) No asset passed to RenderableImageSprite! If you need an empty asset, use an Element instead!";j.SubImageSprite.call(this,a.asset);this._renderSprite=new q.Sprite;this._owner=(new L).add(this._renderSprite);
this._render=(new L).add(this);this._owner.addChild(this._render);this._children=[];this._renderable=j.Renderable.request();this._pos=f.WorkinPoint.request(null==a.x?0:a.x,null==a.y?0:a.y,null==a.z?0:a.z);this._camera=this._manager=null;this._keepAlive=this._doDelete=!1;this._useCamera=!0;this._disposed=!1;this._layer="";var b=this._oy=this._ox=0,d=0;null!=a.origin&&(d=b=a.origin);null!=a.originX&&(b=a.originX);null!=a.originY&&(d=a.originY);(b!=this._ox||d!=this._oy)&&this.setOrigin(b,d);null!=a.useCamera&&
(this._useCamera=a.useCamera);null!=a.layer&&(this._layer=a.layer)};l["com.workinman.display.RenderSprite"]=j.RenderSprite;j.RenderSprite.__name__=["com","workinman","display","RenderSprite"];j.RenderSprite.__interfaces__=[j.IRenderable];j.RenderSprite.__super__=j.SubImageSprite;j.RenderSprite.prototype=u(j.SubImageSprite.prototype,{disablePointerInput:function(){this._renderSprite.disablePointer();this.disablePointer();return this},addElement:function(a){a.set_usecamera(!1);this._children.push(a);
this.get_root().addChild(a.get_root());null!=this._manager&&this._manager.addElement(a);return a},setOrigin:function(a,b){this._ox=a;this._oy=b;this.x.set__(-this.getNaturalWidth()*this._ox);this.y.set__(-this.getNaturalHeight()*this._oy)},disableSnapping:function(){this._renderSprite.set_pixelSnapping(!1);this.set_pixelSnapping(!1);return this},applyRender:function(){this._applyRenderable()},set_usecamera:function(a){this._useCamera=a;return this.get_usecamera()},get_usecamera:function(){return this._useCamera},
set_manager:function(a){this._manager=a;this._camera=a.get_camera();for(a=0;a<this._children.length;)!0==this._children[a].get_doDelete()?this._children.splice(a,1):(null!=this._children[a].get_manager()&&this._children[a].get_manager().removeElement(this._children[a]),this._manager.addElement(this._children[a]),a++);return this.get_manager()},get_manager:function(){return this._manager},set_originY:function(a){this.setOrigin(this.get_originX(),a);return this.get_originY()},get_originY:function(){return this._oy},
set_originX:function(a){this.setOrigin(a,this.get_originY());return this.get_originX()},get_originX:function(){return this._ox},get_depth:function(){return-this._pos.z},get_root:function(){return this._owner},get_updateable:function(){return null},get_renderable:function(){return this._renderable},set_layer:function(a){this._layer=a;return this.get_layer()},get_layer:function(){return this._layer},get_handRender:function(){return null},set_keepAlive:function(a){this._keepAlive=a;return this.get_keepAlive()},
get_keepAlive:function(){return this._keepAlive},set_doDelete:function(a){this._doDelete=a;return this.get_doDelete()},get_doDelete:function(){return this._doDelete},set_pos:function(a){this._pos.toPoint(a);return this.get_pos()},get_pos:function(){return this._pos},destroy:function(){this.set_doDelete(!0);!0==this._keepAlive?this._owner.parent.removeChild(this._owner):null!=this.owner?(this.owner.dispose(),this.owner=null):(this._owner.dispose(),this.dispose(),this._owner=null)},_applyRenderable:function(){if(null==
this._camera||!1==this._useCamera)this._renderable.visible=!1,this._renderable.x=this._pos.x,this._renderable.y=this._pos.y,this._renderable.z=this._pos.z,j.RenderSprite._renderScale=1;else{this._renderable.z=this._pos.z-this._camera.get_pos().z;if(this._renderable.z<-this._camera.focalLength||!1==this._renderable.visible){this._renderSprite.set_visible(!1);return}j.RenderSprite._renderScale=0>=this._camera.focalLength?1:this._camera.focalLength/(this._camera.focalLength+this._renderable.z);this._renderable.x=
this._camera.get_worldCenterX()+(this._pos.x-this._camera.get_pos().x+this._camera.get_screenCenterX()-this._camera.get_worldCenterX())*j.RenderSprite._renderScale;this._renderable.y=this._camera.get_worldCenterY()+(this._pos.y-this._camera.get_pos().y+this._camera.get_screenCenterY()-this._camera.get_worldCenterY())*j.RenderSprite._renderScale}this._renderSprite.x.set__(this._renderable.x);this._renderSprite.y.set__(this._renderable.y);this._renderSprite.scaleX.set__(this._renderable.scaleX*j.RenderSprite._renderScale);
this._renderSprite.scaleY.set__(this._renderable.scaleY*j.RenderSprite._renderScale);this._renderSprite.rotation.set__(this._renderable.rotation);this._renderSprite.alpha.set__(this._renderable.alpha);this._renderSprite.set_visible(!0)},onUpdate:function(a){this._applyRenderable();this._doDelete&&this.destroy();j.SubImageSprite.prototype.onUpdate.call(this,a)},dispose:function(){this._disposed||(this._disposed=!0,this._renderable.dispose(),this._renderable=null,this._pos.dispose(),this._camera=this._manager=
this._children=this._render=this._renderSprite=this._owner=this._layer=this._pos=null,j.SubImageSprite.prototype.dispose.call(this))},__class__:j.RenderSprite,__properties__:{set_pos:"set_pos",get_pos:"get_pos",set_doDelete:"set_doDelete",get_doDelete:"get_doDelete",set_keepAlive:"set_keepAlive",get_keepAlive:"get_keepAlive",get_handRender:"get_handRender",set_layer:"set_layer",get_layer:"get_layer",get_renderable:"get_renderable",get_updateable:"get_updateable",get_root:"get_root",get_depth:"get_depth",
set_originX:"set_originX",get_originX:"get_originX",set_originY:"set_originY",get_originY:"get_originY",set_manager:"set_manager",get_manager:"get_manager",set_usecamera:"set_usecamera",get_usecamera:"get_usecamera"}});j.Renderable=function(){};l["com.workinman.display.Renderable"]=j.Renderable;j.Renderable.__name__=["com","workinman","display","Renderable"];j.Renderable.__interfaces__=[e.pooling.IStrictPoolable];j.Renderable.request=function(a,b){null==b&&(b=1);null==a&&(a=1);return e.WorkinCloud.get_instance().get_pool().requestObject("Renderable",
j.Renderable).init(a,b)};j.Renderable.__super__=e.pooling.PoolStrictBase;j.Renderable.prototype=u(e.pooling.PoolStrictBase.prototype,{init:function(a,b){this.rotation=this.z=this.y=this.x=0;this.scaleY=this.scaleX=1;this.width=a;this.height=b;this.alpha=1;this.visible=!0;return this},__class__:j.Renderable});j.WMSpriteRect=function(a,b,d,m,c,e,f,g){this._offsetX=a;this._offsetY=b;this._originalW=d;this._originalH=m;this._sourceX=c;this._sourceY=e;this._sourceWidth=f;this._sourceHeight=g};l["com.workinman.display.WMSpriteRect"]=
j.WMSpriteRect;j.WMSpriteRect.__name__=["com","workinman","display","WMSpriteRect"];j.WMSpriteRect.prototype={get_sourceHeight:function(){return this._sourceHeight},get_sourceWidth:function(){return this._sourceWidth},get_sourceY:function(){return this._sourceY},get_sourceX:function(){return this._sourceX},get_originalH:function(){return this._originalH},get_originalW:function(){return this._originalW},get_offsetY:function(){return this._offsetY},get_offsetX:function(){return this._offsetX},__class__:j.WMSpriteRect};
j.TEXT_JUSTIFICATION=l["com.workinman.display.TEXT_JUSTIFICATION"]={__ename__:["com","workinman","display","TEXT_JUSTIFICATION"],__constructs__:["JUST_LEFT","JUST_RIGHT","JUST_CENTER"]};j.TEXT_JUSTIFICATION.JUST_LEFT=["JUST_LEFT",0];j.TEXT_JUSTIFICATION.JUST_LEFT.toString=n;j.TEXT_JUSTIFICATION.JUST_LEFT.__enum__=j.TEXT_JUSTIFICATION;j.TEXT_JUSTIFICATION.JUST_RIGHT=["JUST_RIGHT",1];j.TEXT_JUSTIFICATION.JUST_RIGHT.toString=n;j.TEXT_JUSTIFICATION.JUST_RIGHT.__enum__=j.TEXT_JUSTIFICATION;j.TEXT_JUSTIFICATION.JUST_CENTER=
["JUST_CENTER",2];j.TEXT_JUSTIFICATION.JUST_CENTER.toString=n;j.TEXT_JUSTIFICATION.JUST_CENTER.__enum__=j.TEXT_JUSTIFICATION;j.TextBase=function(a,b,d,m,c){null==m&&(m="");null==c&&(c={});c.x=a;c.y=b;j.Element.call(this,c);""==m&&(m=D.ConstantsCloud.FONT_DEFAULT);this._textString=d;this._fontName=m;this._spacing=null!=c.spacing?c.spacing:0;this._width=null!=c.width?c.width:Math.POSITIVE_INFINITY;this._just=null!=c.just?c.just:j.TEXT_JUSTIFICATION.JUST_LEFT;this._just=null!=c.center?j.TEXT_JUSTIFICATION.JUST_CENTER:
this._just;this._textDisplay=[];this._textDisplay.push(new q.TextSprite(e.WorkinCloud.get_instance().get_assets().getFont(this._fontName),""));this.setImageSprite(this._textDisplay[0]);this._textDisplay[0].set_pointerEnabled(!1);this.renderPosition();this._renderTextToDisplay()};l["com.workinman.display.TextBase"]=j.TextBase;j.TextBase.__name__=["com","workinman","display","TextBase"];j.TextBase.__super__=j.Element;j.TextBase.prototype=u(j.Element.prototype,{_cleanUp:function(){if(null!=this._textDisplay)for(;1<
this._textDisplay.length;)this._textDisplay.pop().dispose()},_renderTextToDisplay:function(){this._textDisplay[0].set_text(this._textString);1==this._textDisplay.length&&(this._render.width=this._textDisplay[0].getNaturalWidth(),this._render.height=this._textDisplay[0].getNaturalHeight());this.setOrigin(this._originX,this._originY)},_renderFontToDisplay:function(){for(var a=0,b=this._textDisplay;a<b.length;){var d=b[a];++a;d.set_font(e.WorkinCloud.get_instance().get_assets().getFont(this._fontName))}},
set_text:function(a){this._textString=a;this._renderTextToDisplay();return this._textString},set_font:function(a){if(""==a)return"";this._fontName=a;this._renderFontToDisplay();return this._fontName},_updateTextDisplay:function(a,b){null==b&&(b=1);this._cleanUp();if(""==a)this._textDisplay[0].set_text(a);else{for(var a=T.replace(a,"<br>","\\r\\n"),d=[],m=this._textDisplay[0]._font.getGlyphs(a),c=0,f=0,g=0;f<m.length;){var h=m[f];f++;if(f==m.length)c+=h.width*b;else if(c+=h.xAdvance*b+h.getKerning(m[f].charCode)*
b,f<m.length-1&&(92==m[f-1].charCode||47==m[f-1].charCode)&&114==m[f].charCode&&(92==m[f+1].charCode||47==m[f+1].charCode)&&110==m[f+2].charCode)c=f-1,d.push(a.substring(g,c)),g=c+4,c=0;c>=this._width/this._render.scaleX&&(h=!0,c=a.lastIndexOf(" ",f),-1==c?(h=!1,c=f-1):c++,d.push(a.substring(g,c)+(h?"":"-")),g=c,c=0);f==m.length&&d.push(a.substring(g,f))}this._textDisplay[0].set_text(d.shift());for(m=this._render.height=0;m<d.length;)f=d[m],++m,this._textDisplay.push(new q.TextSprite(e.WorkinCloud.get_instance().get_assets().getFont(this._fontName),
f)),this.addTextDisplay(this._textDisplay[this._textDisplay.length-1]);this._render.height+=0==this._spacing?this._textDisplay[0].getNaturalHeight():this._spacing;this._imageSprite.x.set__(-(this._originX*this._textDisplay[0].getNaturalWidth()));this._imageSprite.y.set__(-(this._originY*this._render.height))}},addTextDisplay:function(a){switch(this._just[1]){case 2:a.x.set__((this._textDisplay[0].getNaturalWidth()-a.getNaturalWidth())/2);break;case 1:a.x.set__(this._textDisplay[0].getNaturalWidth()-
a.getNaturalWidth())}a.y.set__(this._render.height+(0==this._spacing?a.getNaturalHeight():this._spacing));this._render.height+=0==this._spacing?a.getNaturalHeight():this._spacing;this._render.width=Math.max(this._render.width,a.getNaturalWidth());this._imageEntity.addChild((new L).add(a))},_cleanOldFormat:function(a){switch(a[1]){case 3:break;default:j.Element.prototype._cleanOldFormat.call(this,a)}},_determineFormat:function(a){M.__instanceof(a,q.TextSprite)?this._setFormat(j.ELEMENT_FORMAT.TEXT):
j.Element.prototype._determineFormat.call(this,a)},dispose:function(){this._cleanUp();this._just=this._textDisplay=null;j.Element.prototype.dispose.call(this)},__class__:j.TextBase});j.TextLocalized=function(a,b,d,m,c){null==m&&(m="");this._flagLocalize=null!=c&&!1==c.doLocalize?!1:!0;j.TextBase.call(this,a,b,d,m,c)};l["com.workinman.display.TextLocalized"]=j.TextLocalized;j.TextLocalized.__name__=["com","workinman","display","TextLocalized"];j.TextLocalized.__super__=j.TextBase;j.TextLocalized.prototype=
u(j.TextBase.prototype,{_renderTextToDisplay:function(){if(this._flagLocalize){var a=e.WorkinCloud.get_instance().get_localize().getLocalizeData(this._textString);this._offsetX=a.get_offsetX();this._offsetY=a.get_offsetY();this._render.scaleX=a.get_scale();this._render.scaleY=a.get_scale();a.get_fontName()!=this._fontName&&this.set_font(a.get_fontName());this._updateTextDisplay(a.get_string());a.dispose();this.renderPosition()}else j.TextBase.prototype._renderTextToDisplay.call(this)},swapTextToDisplay:function(a){this._textString=
a;this._renderTextToDisplay()},__class__:j.TextLocalized});o={WMEvent:function(){}};l["com.workinman.events.WMEvent"]=o.WMEvent;o.WMEvent.__name__=["com","workinman","events","WMEvent"];o.WMEvent.__interfaces__=[e.pooling.IStrictPoolable];o.WMEvent.request=function(a){return e.WorkinCloud.get_instance().get_pool().requestObject("WMEvent",o.WMEvent).init(a)};o.WMEvent.__super__=e.pooling.PoolStrictBase;o.WMEvent.prototype=u(e.pooling.PoolStrictBase.prototype,{get_eventId:function(){return this._eventId},
init:function(a){this._eventId=a;return this},__class__:o.WMEvent,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{get_eventId:"get_eventId"})});o.WMEventData=function(){};l["com.workinman.events.WMEventData"]=o.WMEventData;o.WMEventData.__name__=["com","workinman","events","WMEventData"];o.WMEventData.__interfaces__=[e.pooling.IStrictPoolable];o.WMEventData.request=function(a,b){return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventData",o.WMEventData).initWithData(a,
b)};o.WMEventData.__super__=o.WMEvent;o.WMEventData.prototype=u(o.WMEvent.prototype,{get_data:function(){return this._data},initWithData:function(a,b){o.WMEvent.prototype.init.call(this,a);this._data=b;return this},dispose:function(){this._data=null;o.WMEvent.prototype.dispose.call(this)},__class__:o.WMEventData,__properties__:u(o.WMEvent.prototype.__properties__,{get_data:"get_data"})});o.WMEventDispatcher=function(){};l["com.workinman.events.WMEventDispatcher"]=o.WMEventDispatcher;o.WMEventDispatcher.__name__=
["com","workinman","events","WMEventDispatcher"];o.WMEventDispatcher.__interfaces__=[e.pooling.IStrictPoolable];o.WMEventDispatcher.request=function(){return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventDispatcher",o.WMEventDispatcher)};o.WMEventDispatcher.__super__=e.pooling.PoolStrictBase;o.WMEventDispatcher.prototype=u(e.pooling.PoolStrictBase.prototype,{dispatchEvent:function(a){this._eventTrackers.exists(a.get_eventId())&&this._eventTrackers.get(a.get_eventId()).dispatchEvent(a);
a.dispose()},removeEventListener:function(a,b){this._eventTrackers.exists(a)&&(this._eventTrackers.get(a).removeEventListener(b),this._eventTrackers.get(a).isEmtpy()&&(this._eventTrackers.get(a).dispose(),this._eventTrackers.remove(a)))},addEventListener:function(a,b){this._eventTrackers.exists(a)||this._eventTrackers.set(a,o._WMEventDispatcher.WMEventTracker.request());this._eventTrackers.get(a).addEventListener(b)},destroy:function(){this._eventTrackers=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},
dispose:function(){for(var a=function(a){return function(){return a.iterator()}}(this._eventTrackers)();a.hasNext();)a.next().dispose();e.WorkinUtils.emptyMap(this._eventTrackers);e.pooling.PoolStrictBase.prototype.dispose.call(this)},create:function(){this._eventTrackers=new w.StringMap},__class__:o.WMEventDispatcher});o._WMEventDispatcher={};o._WMEventDispatcher.WMEventTracker=function(){};l["com.workinman.events._WMEventDispatcher.WMEventTracker"]=o._WMEventDispatcher.WMEventTracker;o._WMEventDispatcher.WMEventTracker.__name__=
["com","workinman","events","_WMEventDispatcher","WMEventTracker"];o._WMEventDispatcher.WMEventTracker.__interfaces__=[e.pooling.IStrictPoolable];o._WMEventDispatcher.WMEventTracker.request=function(){return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventTracker",o._WMEventDispatcher.WMEventTracker)};o._WMEventDispatcher.WMEventTracker.__super__=e.pooling.PoolStrictBase;o._WMEventDispatcher.WMEventTracker.prototype=u(e.pooling.PoolStrictBase.prototype,{isEmtpy:function(){return null==
this._signal._head},dispatchEvent:function(a){this._signal.emit1(a)},removeEventListener:function(a){for(var b=this._signalTrackers.length;0<b--;)F.compareMethods(this._signalTrackers[b].get_listener(),a)&&(this._signalTrackers[b].dispose(),this._signalTrackers.splice(b,1))},addEventListener:function(a){this._signalTrackers.push(o._WMEventDispatcher.SignalTracker.request(a,this._signal.connect(a)))},destroy:function(){this._signal=this._signalTrackers=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},
dispose:function(){for(;0<this._signalTrackers.length;)this._signalTrackers.pop().dispose();e.pooling.PoolStrictBase.prototype.dispose.call(this)},create:function(){this._signalTrackers=[];this._signal=new r.Signal1},__class__:o._WMEventDispatcher.WMEventTracker});o._WMEventDispatcher.SignalTracker=function(){};l["com.workinman.events._WMEventDispatcher.SignalTracker"]=o._WMEventDispatcher.SignalTracker;o._WMEventDispatcher.SignalTracker.__name__=["com","workinman","events","_WMEventDispatcher","SignalTracker"];
o._WMEventDispatcher.SignalTracker.__interfaces__=[e.pooling.IStrictPoolable];o._WMEventDispatcher.SignalTracker.request=function(a,b){return e.WorkinCloud.get_instance().get_pool().requestObject("SignalTracker",o._WMEventDispatcher.SignalTracker).init(a,b)};o._WMEventDispatcher.SignalTracker.__super__=e.pooling.PoolStrictBase;o._WMEventDispatcher.SignalTracker.prototype=u(e.pooling.PoolStrictBase.prototype,{get_listener:function(){return this._function},dispose:function(){this._connection.dispose();
this._function=this._connection=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b){this._function=a;this._connection=b;return this},__class__:o._WMEventDispatcher.SignalTracker,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{get_listener:"get_listener"})});o.WMEventFlow=function(){};l["com.workinman.events.WMEventFlow"]=o.WMEventFlow;o.WMEventFlow.__name__=["com","workinman","events","WMEventFlow"];o.WMEventFlow.__interfaces__=[e.pooling.IStrictPoolable];
o.WMEventFlow.request=function(a,b){null==b&&(b=!1);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventFlow",o.WMEventFlow).initWithFlow(a,b)};o.WMEventFlow.__super__=o.WMEvent;o.WMEventFlow.prototype=u(o.WMEvent.prototype,{initWithFlow:function(a,b){o.WMEvent.prototype.init.call(this,o.WMEventFlow.EVENT_FLOW);this.flowId=a;this.targetScreen=b;return this},__class__:o.WMEventFlow});o.WMEventHash=function(){};l["com.workinman.events.WMEventHash"]=o.WMEventHash;o.WMEventHash.__name__=
["com","workinman","events","WMEventHash"];o.WMEventHash.__interfaces__=[e.pooling.IStrictPoolable];o.WMEventHash.request=function(a,b){return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventHash",o.WMEventHash).initWithHash(a,b)};o.WMEventHash.requestWithKeysAndValues=function(a,b){return o.WMEventHash.request(a,e.WorkinUtils.mapWithKeysAndValues(b))};o.WMEventHash.__super__=o.WMEvent;o.WMEventHash.prototype=u(o.WMEvent.prototype,{initWithHash:function(a,b){o.WMEvent.prototype.init.call(this,
a);for(var d=b.keys();d.hasNext();){var m=d.next(),c=b.get(m);this.hash.set(m,c)}return this},destroy:function(){this.hash=null;o.WMEvent.prototype.destroy.call(this)},dispose:function(){e.WorkinUtils.emptyMap(this.hash);o.WMEvent.prototype.dispose.call(this)},create:function(){this.hash=new w.StringMap},__class__:o.WMEventHash});o.WMEventInput=function(){};l["com.workinman.events.WMEventInput"]=o.WMEventInput;o.WMEventInput.__name__=["com","workinman","events","WMEventInput"];o.WMEventInput.__interfaces__=
[e.pooling.IStrictPoolable];o.WMEventInput.request=function(a,b,d,m,c,f,g){return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventInput",o.WMEventInput).initWithInput(a,b,d,m,g,c,f)};o.WMEventInput.__super__=o.WMEvent;o.WMEventInput.prototype=u(o.WMEvent.prototype,{initWithInput:function(a,b,d,m,c,f,g){o.WMEvent.prototype.init.call(this,o.WMEventInput.EVENT_INPUT);this.phase=a;this.input=b;this.x=d;this.y=m;this.rawX=f;this.rawY=g;this.swipe=c;null==this.swipe&&(this.swipe=e.SWIPE.SWIPE_NONE);
return this},__class__:o.WMEventInput});o.WMEventInterfaceChange=function(){};l["com.workinman.events.WMEventInterfaceChange"]=o.WMEventInterfaceChange;o.WMEventInterfaceChange.__name__=["com","workinman","events","WMEventInterfaceChange"];o.WMEventInterfaceChange.__interfaces__=[e.pooling.IStrictPoolable];o.WMEventInterfaceChange.request=function(a,b,d){null==b&&(b="");return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventInterfaceChange",o.WMEventInterfaceChange).initWithInterfaceChange(a,
b,d)};o.WMEventInterfaceChange.__super__=o.WMEvent;o.WMEventInterfaceChange.prototype=u(o.WMEvent.prototype,{destroy:function(){this.customData=null;o.WMEvent.prototype.destroy.call(this)},dispose:function(){e.WorkinUtils.emptyMap(this.customData);o.WMEvent.prototype.dispose.call(this)},initWithInterfaceChange:function(a,b,d){o.WMEvent.prototype.init.call(this,o.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT);this.flowId=a;this.screenId=b;if(null!=d)for(a=d.keys();a.hasNext();){var b=a.next(),m=d.get(b);
this.customData.set(b,m)}return this},create:function(){this.customData=new w.StringMap},__class__:o.WMEventInterfaceChange});o.WMEventScreenOut=function(){};l["com.workinman.events.WMEventScreenOut"]=o.WMEventScreenOut;o.WMEventScreenOut.__name__=["com","workinman","events","WMEventScreenOut"];o.WMEventScreenOut.__interfaces__=[e.pooling.IStrictPoolable];o.WMEventScreenOut.request=function(a,b){return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventScreenOut",o.WMEventScreenOut).initWithScreenOut(a,
b)};o.WMEventScreenOut.__super__=o.WMEvent;o.WMEventScreenOut.prototype=u(o.WMEvent.prototype,{initWithScreenOut:function(a,b){this.flowId=a;this.screenId=b;o.WMEvent.prototype.init.call(this,o.WMEventScreenOut.EVENT_SCREEN_OUTPUT);return this},__class__:o.WMEventScreenOut});o.WMEventUpdate=function(){};l["com.workinman.events.WMEventUpdate"]=o.WMEventUpdate;o.WMEventUpdate.__name__=["com","workinman","events","WMEventUpdate"];o.WMEventUpdate.__interfaces__=[e.pooling.IStrictPoolable];o.WMEventUpdate.request=
function(a){return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventUpdate",o.WMEventUpdate).initWithUpdate(a)};o.WMEventUpdate.__super__=o.WMEvent;o.WMEventUpdate.prototype=u(o.WMEvent.prototype,{get_dt:function(){return this._dt},initWithUpdate:function(a){o.WMEvent.prototype.init.call(this,o.WMEventUpdate.EVENT_UPDATE);this._dt=a;return this},__class__:o.WMEventUpdate,__properties__:u(o.WMEvent.prototype.__properties__,{get_dt:"get_dt"})});f={};f.InterceptResult=function(a,b){this._success=
a;this._result=f.WorkinPoint.request();this._line1=f.WorkinLine.request();this._line2=f.WorkinLine.request();null!=b&&this._result.toPoint(b)};l["com.workinman.math.InterceptResult"]=f.InterceptResult;f.InterceptResult.__name__=["com","workinman","math","InterceptResult"];f.InterceptResult.prototype={set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);return this._result},set_success:function(a){return this._success=a},__class__:f.InterceptResult};f.Side=l["com.workinman.math.Side"]=
{__ename__:["com","workinman","math","Side"],__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};f.Side.TOP=["TOP",0];f.Side.TOP.toString=n;f.Side.TOP.__enum__=f.Side;f.Side.RIGHT=["RIGHT",1];f.Side.RIGHT.toString=n;f.Side.RIGHT.__enum__=f.Side;f.Side.BOTTOM=["BOTTOM",2];f.Side.BOTTOM.toString=n;f.Side.BOTTOM.__enum__=f.Side;f.Side.LEFT=["LEFT",3];f.Side.LEFT.toString=n;f.Side.LEFT.__enum__=f.Side;f.WMRectangle=function(){};l["com.workinman.math.WMRectangle"]=f.WMRectangle;f.WMRectangle.__name__=["com",
"workinman","math","WMRectangle"];f.WMRectangle.__interfaces__=[e.pooling.IStrictPoolable];f.WMRectangle.request=function(a,b,d,m){null==m&&(m=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);return e.WorkinCloud.get_instance().get_pool().requestObject("WMRectangle",f.WMRectangle).init(a,b,d,m)};f.WMRectangle.fromRectangle=function(a){return f.WMRectangle.request(a.x,a.y,a.width,a.height)};f.WMRectangle.__super__=e.pooling.PoolStrictBase;f.WMRectangle.prototype=u(e.pooling.PoolStrictBase.prototype,
{toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+this._width+" height: "+this._height+" }"},sideLineIntercept:function(a,b,d){null==this._workLine?(this._setSideLine(b),null):this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,d)},_setSideLine:function(a){this._getWorkLine();switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),this.get_top(),
this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_left(),this.get_bottom())}},intersection:function(a){var b=f.WMRectangle.request();if(this.intersects(a)){b.set_x(this.get_left()>a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var d=this.get_right()<a.get_right()?this.get_right():
a.get_right(),a=this.get_bottom()<a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(d-b.get_x());b.set_height(a-b.get_y())}return b},intersects:function(a){return this.get_left()<a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()&&this.get_bottom()>a.get_top()},containsPoint:function(a){return this.contains(a.x,a.y)},toXYWH:function(a,b,d,m){this.toXY(a,b);this.toWH(d,m)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXY:function(a,b){this.set_x(a);this.set_y(b)},
contains:function(a,b){return a<this.get_left()||a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},copy:function(){return f.WMRectangle.request(this._x,this._y,this._width,this._height)},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},get_centerY:function(){return this._y+this._height/2},set_centerX:function(a){this._x=a-this._width/2;return this.get_centerX()},get_centerX:function(){return this._x+this._width/2},set_right:function(a){this._x=a-this._width;
return this.get_right()},get_right:function(){return this._x+this._width},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},get_bottom:function(){return this._y+this._height},set_height:function(a){return this._height=a},get_height:function(){return this._height},set_width:function(a){return this._width=a},get_width:function(){return this._width},set_left:function(a){return this._x=a},get_left:function(){return this._x},set_top:function(a){return this._y=a},get_top:function(){return this._y},
set_y:function(a){return this._y=a},get_y:function(){return this._y},set_x:function(a){return this._x=a},get_x:function(){return this._x},_getWorkLine:function(){null==this._workLine&&(this._workLine=f.WorkinLine.request());return this._workLine},dispose:function(){null!=this._workLine&&this._workLine.dispose();this._workLine=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,d,m){this._x=a;this._y=b;this._width=d;this._height=m;return this},create:function(){this._workLine=
null},__class__:f.WMRectangle,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{set_x:"set_x",get_x:"get_x",set_y:"set_y",get_y:"get_y",set_top:"set_top",get_top:"get_top",set_left:"set_left",get_left:"get_left",set_width:"set_width",get_width:"get_width",set_height:"set_height",get_height:"get_height",set_bottom:"set_bottom",get_bottom:"get_bottom",set_right:"set_right",get_right:"get_right",set_centerX:"set_centerX",get_centerX:"get_centerX",set_centerY:"set_centerY",get_centerY:"get_centerY"})});
f.WorkinCamera=function(a,b){this._screenCenterX=this._worldCenterX=a;this._screenCenterY=this._worldCenterY=b;this.focalLength=300;this._pos=f.WorkinPoint.request(a,b)};l["com.workinman.math.WorkinCamera"]=f.WorkinCamera;f.WorkinCamera.__name__=["com","workinman","math","WorkinCamera"];f.WorkinCamera.prototype={get_worldCenterY:function(){return this._worldCenterY},get_worldCenterX:function(){return this._worldCenterX},get_screenCenterY:function(){return this._screenCenterY},get_screenCenterX:function(){return this._screenCenterX},
get_pos:function(){return this._pos},dispose:function(){this._pos.dispose();this._pos=null},__class__:f.WorkinCamera};f.WorkinLine=function(){};l["com.workinman.math.WorkinLine"]=f.WorkinLine;f.WorkinLine.__name__=["com","workinman","math","WorkinLine"];f.WorkinLine.__interfaces__=[e.pooling.IStrictPoolable];f.WorkinLine.request=function(a,b,d,m){null==m&&(m=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinLine",f.WorkinLine).init(a,
b,d,m)};f.WorkinLine.__super__=e.pooling.PoolStrictBase;f.WorkinLine.prototype=u(e.pooling.PoolStrictBase.prototype,{toString:function(){return"[WorkinLine] ("+this._p0.x+", "+this._p0.y+", "+this._p0.z+") ~> ("+this._p1.x+", "+this._p1.y+", "+this._p1.z+") / Len: "+this._length},testPointSegmentIntercept:function(a,b){null==b&&(b=!1);this._xSegmentResult=0==this._parametricDenom.x?0:(a.x-this.get_p0().x)/this._parametricDenom.x;this._ySegmentResult=0==this._parametricDenom.y?0:(a.y-this.get_p0().y)/
this._parametricDenom.y;b&&null;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},testLineSegmentIntercept:function(a,b,d){var m=-a.get_vector().x*this._vector.y+this._vector.x*a.get_vector().y,c=this.get_p0().x-a.get_p0().x,e=this.get_p0().y-a.get_p0().y,b=(-this._vector.y*c+this._vector.x*e)/m,a=(a.get_vector().x*e-a.get_vector().y*c)/m;null==d&&(d=new f.InterceptResult(!1));d.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(d.set_success(!0),
a=f.WorkinPoint.request(this.get_p0().x+a*this._vector.x,this.get_p0().y+a*this._vector.y),d.set_result(a),a.dispose());return d},testLineIntercept:function(a,b){null==b&&(b=new f.InterceptResult(!1));this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var d=f.WorkinPoint.request((-1*a.get_yIntercept()- -1*this._yIntercept)*this._inverseDeterminate,(a.get_slope()*this._yIntercept-this.get_slope()*a.get_yIntercept())*this._inverseDeterminate,0);b.set_result(d);d.dispose();
return b},projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return f.WorkinLine.request().to(a.get_p0(),a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*a.get_length()-b*b))))},testLineDot:function(a){return this._vector.dot(a.get_normal())},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-this._p1.x)*(this._p0.x-this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector.to(this.get_p1().x-
this.get_p0().x,this.get_p1().y-this.get_p0().y);this._slope=this._vector.y/this._vector.x;0==this.get_vector().x&&(this._slope=1E5);this._yIntercept=this.get_p0().y-this._slope*this.get_p0().x;this._parametricDenom.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._vector.pseudoCross(this._normal);this._normal.normalize()},shiftEnd:function(a){this.set_length(this.get_length()+a)},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);
b.dispose();this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},rotate:function(a){this._vector.rotate(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},endTo:function(a,b,d){null==d&&(d=0);this._p1.to(a,b,d);this._calcProperties()},originToPoint:function(a){this._p0.toPoint(a);this._calcProperties()},originTo:function(a,
b,d){null==d&&(d=0);this._p0.to(a,b,d);this._calcProperties();return this},toFloats:function(a,b,d,m){this._p0.to(a,b);this._p1.to(d,m);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());this._p1.toPoint(a.get_p1());this._calcProperties();return this},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties();return this},copy:function(){return f.WorkinLine.request().to(this._p0,this._p1)},clean:function(){this._p0.clean();this._p1.clean();this._calcProperties()},
flip:function(){var a=this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},equals:function(a){return a.get_p0().equals(this.get_p0())&&a.get_p1().equals(this.get_p1())},getNewPoint:function(a,b){null==b&&(b=f.WorkinPoint.request());b.to(this.get_p0().x+this._vector.x*a,this.get_p0().y+this._vector.y*a);return b},recalculate:function(){this._calcProperties()},set_length:function(a){if(0==this.get_length())return this._length;this._p1.to(this._p0.x+this._vector.x*
(a/this.get_length()),this._p0.y+this._vector.y*(a/this.get_length()));this._calcProperties();return this._length},get_length:function(){return this._length},get_parametricDenom:function(){return this._parametricDenom},get_centerY:function(){return this._p0.y+this._vector.y/2},get_centerX:function(){return this._p0.x+this._vector.x/2},get_center:function(){return f.WorkinPoint.request(this._p0.x+this._vector.x/2,this._p0.y+this._vector.y/2)},get_vector:function(){return this._vector},get_normal:function(){return this._normal},
get_yIntercept:function(){return this._yIntercept},get_slope:function(){return this._slope},get_p1:function(){return this._p1},get_p0:function(){return this._p0},dispose:function(){this._p0.dispose();this._p0=null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;this._vector.dispose();this._vector=null;this._parametricDenom.dispose();this._parametricDenom=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,d,m){this._p0=f.WorkinPoint.request();this._p1=
f.WorkinPoint.request();this._normal=f.WorkinPoint.request();this._vector=f.WorkinPoint.request();this._parametricDenom=f.WorkinPoint.request();this.toFloats(a,b,d,m);this._calcProperties();return this},__class__:f.WorkinLine,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{get_p0:"get_p0",get_p1:"get_p1",get_slope:"get_slope",get_yIntercept:"get_yIntercept",get_normal:"get_normal",get_vector:"get_vector",get_center:"get_center",get_centerX:"get_centerX",get_centerY:"get_centerY",
get_parametricDenom:"get_parametricDenom",set_length:"set_length",get_length:"get_length"})});f.WorkinPoint=function(){};l["com.workinman.math.WorkinPoint"]=f.WorkinPoint;f.WorkinPoint.__name__=["com","workinman","math","WorkinPoint"];f.WorkinPoint.__interfaces__=[e.pooling.IStrictPoolable];f.WorkinPoint.request=function(a,b,d){null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinPoint",f.WorkinPoint).init(a,b,d)};f.WorkinPoint.__super__=
e.pooling.PoolStrictBase;f.WorkinPoint.prototype=u(e.pooling.PoolStrictBase.prototype,{dot:function(a){return this.x*a.x+this.y*a.y},toString:function(){return"{ WorkinPoint : "+this.x+" , "+this.y+" , "+this.z+" , len: "+this._length+"  }"},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.x*a.x+a.y*a.y);a.dispose();return b},rotateCopy:function(a){var b=Math.cos(a*Math.PI/180),a=Math.sin(a*Math.PI/180);return f.WorkinPoint.request(this.x*b-this.y*a,this.x*a-this.y*b)},
getAngleBetween:function(a){return 0==a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.x*this.x+a.y*this.y)/(a.get_length()*this.get_length()))},rotateTo:function(a){this.rotate(a-this.get_angle())},rotate:function(a){a*=Math.PI/180;this._workFloat=this.x*Math.cos(a)-this.y*Math.sin(a);this.y=this.y*Math.cos(a)+this.x*Math.sin(a);this.x=this._workFloat},calculateLength:function(){this._length=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},pseudoCross:function(a){a.to(this.y,
-this.x,this.z)},normalizeCopyTo:function(a){if(0==this._length)return f.WorkinPoint.request(0,0,0);this._workFloat=a/this._length;return f.WorkinPoint.request(this.x*this._workFloat,this.y*this._workFloat,this.z*this._workFloat)},normalizeCopy:function(){return 0==this._length?f.WorkinPoint.request(0,0,0):f.WorkinPoint.request(this.x/this._length,this.y/this._length,this.z/this._length)},normalizeTo:function(a){this.set_length(a)},normalize:function(){0!=this._length&&(this.x/=this._length,this.y/=
this._length,this.z/=this._length,this.calculateLength())},reverseCopy:function(){return f.WorkinPoint.request(-1*this.x,-1*this.y,-1*this.z)},set_length:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},get_length:function(){return this._length},equals:function(a){return this.x==a.x&&this.y==a.y&&this.z==a.z},copyAndResize:function(a){return 0==a?f.WorkinPoint.request(0,0):this.multiplyCopy(a/this._length)},copy:function(){return f.WorkinPoint.request(this.x,
this.y,this.z)},reverse:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z},divideCopy:function(a){return f.WorkinPoint.request(this.x/a,this.y/a,this.z/a)},divide:function(a){this.x/=a;this.y/=a;this.z/=a;this.clean();this.calculateLength()},multiplyCopy:function(a){return f.WorkinPoint.request(this.x*a,this.y*a,this.z*a)},multiply:function(a){this.x*=a;this.y*=a;this.z*=a;this.clean();this.calculateLength()},subtractPointCopy:function(a){return f.WorkinPoint.request(this.x-a.x,this.y-a.y,this.z-
a.z)},subtractCopy:function(a,b,d){null==d&&(d=0);return f.WorkinPoint.request(this.x-a,this.y-b,this.z-d)},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength()},subtract:function(a,b,d){null==d&&(d=0);this.x-=a;this.y-=b;this.z-=d;this.calculateLength()},addPointCopy:function(a){return f.WorkinPoint.request(this.x+a.x,this.y+a.y,this.z+a.z)},addCopy:function(a,b,d){null==d&&(d=0);return f.WorkinPoint.request(this.x+a,this.y+b,this.z+d)},addPoint:function(a){this.x+=
a.x;this.y+=a.y;this.z+=a.z;this.calculateLength()},add:function(a,b,d){null==d&&(d=0);this.x+=a;this.y+=b;this.z+=d;this.calculateLength()},toPoint:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.calculateLength()},to:function(a,b,d){null==d&&(d=0);this.x=a;this.y=b;this.z=d;this.calculateLength();return this},clean:function(){this.x=Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*this.z)/1E3},get_angle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},
init:function(a,b,d){return this.to(a,b,d)},__class__:f.WorkinPoint,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{get_angle:"get_angle",set_length:"set_length",get_length:"get_length",get_normalizedMagnitude:"get_normalizedMagnitude"})});f.tween={};f.tween.PennerEasing=function(){};l["com.workinman.math.tween.PennerEasing"]=f.tween.PennerEasing;f.tween.PennerEasing.__name__=["com","workinman","math","tween","PennerEasing"];f.tween.PennerEasing.easeInQuad=function(a,b,d,m){return d*
(a/=m)*a+b};f.tween.PennerEasing.easeOutQuad=function(a,b,d,m){return-d*(a/=m)*(a-2)+b};f.tween.PennerEasing.easeInOutQuad=function(a,b,d,m){return 1>(a/=m/2)?d/2*a*a+b:-d/2*(--a*(a-2)-1)+b};f.tween.PennerEasing.easeInExpo=function(a,b,d,m){return 0==a?b:d*Math.pow(2,10*(a/m-1))+b};f.tween.PennerEasing.easeOutExpo=function(a,b,d,m){return a==m?b+d:d*(-Math.pow(2,-10*a/m)+1)+b};f.tween.PennerEasing.easeInOutExpo=function(a,b,d,m){return 0==a?b:a==m?b+d:1>(a/=m/2)?d/2*Math.pow(2,10*(a-1))+b:d/2*(-Math.pow(2,
-10*--a)+2)+b};f.tween.PennerEasing.easeInElastic=function(a,b,d,m){return f.tween.PennerEasing.easeInElasticL(a,b,d,m)};f.tween.PennerEasing.easeInElasticL=function(a,b,d,m,c,e){null==e&&(e=-0.123456);null==c&&(c=-0.123456);if(0==a)return b;if(1==(a/=m))return b+d;-0.123456==e&&(e=0.3*m);-0.123456==c||c<Math.abs(d)?(c=d,d=e/4):d=e/(2*Math.PI)*Math.asin(d/c);return-(c*Math.pow(2,10*(a-=1))*Math.sin((a*m-d)*2*Math.PI/e))+b};f.tween.PennerEasing.easeOutElastic=function(a,b,d,c){return f.tween.PennerEasing.easeOutElasticL(a,
b,d,c)};f.tween.PennerEasing.easeOutElasticL=function(a,b,d,c,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(1==(a/=c))return b+d;-0.123456==f&&(f=0.3*c);-0.123456==e||e<Math.abs(d)?(e=d,g=f/4):g=f/(2*Math.PI)*Math.asin(d/e);return e*Math.pow(2,-10*a)*Math.sin((a*c-g)*2*Math.PI/f)+d+b};f.tween.PennerEasing.easeInOutElastic=function(a,b,d,c){return f.tween.PennerEasing.easeInOutElasticL(a,b,d,c)};f.tween.PennerEasing.easeInOutElasticL=function(a,b,d,c,e,f){null==f&&(f=
-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(2==(a/=c/2))return b+d;-0.123456==f&&(f=c*0.3*1.5);-0.123456==e||e<Math.abs(d)?(e=d,g=f/4):g=f/(2*Math.PI)*Math.asin(d/e);return 1>a?-0.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*c-g)*2*Math.PI/f)+b:0.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*c-g)*2*Math.PI/f)+d+b};f.tween.PennerEasing.easeInBack=function(a,b,d,c){return f.tween.PennerEasing.easeInBackL(a,b,d,c)};f.tween.PennerEasing.easeInBackL=function(a,b,d,c,e){null==e&&(e=-0.123456);-0.123456==
e&&(e=1.70158);return d*(a/=c)*a*((e+1)*a-e)+b};f.tween.PennerEasing.easeInOutBack=function(a,b,d,c){return f.tween.PennerEasing.easeInOutBackL(a,b,d,c)};f.tween.PennerEasing.easeInOutBackL=function(a,b,d,c,e){null==e&&(e=-0.123456);-0.123456==e&&(e=1.70158);return 1>(a/=c/2)?d/2*a*a*(((e*=1.525)+1)*a-e)+b:d/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b};f.tween.PennerEasing.easeOutBounce=function(a,b,d,c){return(a/=c)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*
(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b};f.tween.PennerEasing.easeInBounce=function(a,b,d,c){return d-f.tween.PennerEasing.easeOutBounce(c-a,0,d,c)+b};f.tween.PennerEasing.easeInOutBounce=function(a,b,d,c){return a<c/2?0.5*f.tween.PennerEasing.easeInBounce(2*a,0,d,c)+b:0.5*f.tween.PennerEasing.easeOutBounce(2*a-c,0,d,c)+0.5*d+b};f.tween.PennerEasing.easeInCubic=function(a,b,d,c){return d*(a/=c)*a*a+b};f.tween.PennerEasing.easeOutCubic=function(a,b,d,c){return d*((a=a/c-
1)*a*a+1)+b};f.tween.PennerEasing.easeInOutCubic=function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a*a+b:d/2*((a-=2)*a*a+2)+b};f.tween.PennerEasing.easeInQuart=function(a,b,d,c){return d*(a/=c)*a*a*a+b};f.tween.PennerEasing.easeOutQuart=function(a,b,d,c){return-d*((a=a/c-1)*a*a*a-1)+b};f.tween.PennerEasing.easeInOutQuart=function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a*a*a+b:-d/2*((a-=2)*a*a*a-2)+b};f.tween.PennerEasing.easeInQuint=function(a,b,d,c){return d*(a/=c)*a*a*a*a+b};f.tween.PennerEasing.easeOutQuint=
function(a,b,d,c){return d*((a=a/c-1)*a*a*a*a+1)+b};f.tween.PennerEasing.easeInOutQuint=function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a*a*a*a+b:d/2*((a-=2)*a*a*a*a+2)+b};f.tween.PennerEasing.easeInSine=function(a,b,d,c){return-d*Math.cos(a/c*(Math.PI/2))+d+b};f.tween.PennerEasing.easeOutSine=function(a,b,d,c){return d*Math.sin(a/c*(Math.PI/2))+b};f.tween.PennerEasing.easeInOutSine=function(a,b,d,c){return-d/2*(Math.cos(Math.PI*a/c)-1)+b};f.tween.PennerEasing.easeInCirc=function(a,b,d,c){return-d*(Math.sqrt(1-
(a/=c)*a)-1)+b};f.tween.PennerEasing.easeOutCirc=function(a,b,d,c){return d*Math.sqrt(1-(a=a/c-1)*a)+b};f.tween.PennerEasing.easeInOutCirc=function(a,b,d,c){return 1>(a/=c/2)?-d/2*(Math.sqrt(1-a*a)-1)+b:d/2*(Math.sqrt(1-(a-=2)*a)+1)+b};f.tween.Ease=l["com.workinman.math.tween.Ease"]={__ename__:["com","workinman","math","tween","Ease"],__constructs__:"EASE_IN,EASE_QUAD_IN,EASE_OUT,EASE_QUAD_OUT,EASE,EASE_QUAD,EASE_LINEAR,EASE_EXPO,EASE_EXPO_IN,EASE_EXPO_OUT,EASE_ELASTIC,EASE_ELASTIC_IN,EASE_ELASTIC_OUT,EASE_BUMP,EASE_BUMP_IN,EASE_BUMP_OUT,EASE_BOUNCE,EASE_BOUNCE_IN,EASE_BOUNCE_OUT,EASE_CUBIC,EASE_CUBIC_IN,EASE_CUBIC_OUT,EASE_SPACE,EASE_SPACE_IN,EASE_SPACE_OUT,EASE_BLAST,EASE_BLAST_IN,EASE_BLAST_OUT,EASE_WAVE,EASE_WAVE_IN,EASE_WAVE_OUT,EASE_CIRCLE,EASE_CIRCLE_IN,EASE_CIRCLE_OUT".split(",")};
f.tween.Ease.EASE_IN=["EASE_IN",0];f.tween.Ease.EASE_IN.toString=n;f.tween.Ease.EASE_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_QUAD_IN=["EASE_QUAD_IN",1];f.tween.Ease.EASE_QUAD_IN.toString=n;f.tween.Ease.EASE_QUAD_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_OUT=["EASE_OUT",2];f.tween.Ease.EASE_OUT.toString=n;f.tween.Ease.EASE_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_QUAD_OUT=["EASE_QUAD_OUT",3];f.tween.Ease.EASE_QUAD_OUT.toString=n;f.tween.Ease.EASE_QUAD_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE=
["EASE",4];f.tween.Ease.EASE.toString=n;f.tween.Ease.EASE.__enum__=f.tween.Ease;f.tween.Ease.EASE_QUAD=["EASE_QUAD",5];f.tween.Ease.EASE_QUAD.toString=n;f.tween.Ease.EASE_QUAD.__enum__=f.tween.Ease;f.tween.Ease.EASE_LINEAR=["EASE_LINEAR",6];f.tween.Ease.EASE_LINEAR.toString=n;f.tween.Ease.EASE_LINEAR.__enum__=f.tween.Ease;f.tween.Ease.EASE_EXPO=["EASE_EXPO",7];f.tween.Ease.EASE_EXPO.toString=n;f.tween.Ease.EASE_EXPO.__enum__=f.tween.Ease;f.tween.Ease.EASE_EXPO_IN=["EASE_EXPO_IN",8];f.tween.Ease.EASE_EXPO_IN.toString=
n;f.tween.Ease.EASE_EXPO_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_EXPO_OUT=["EASE_EXPO_OUT",9];f.tween.Ease.EASE_EXPO_OUT.toString=n;f.tween.Ease.EASE_EXPO_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_ELASTIC=["EASE_ELASTIC",10];f.tween.Ease.EASE_ELASTIC.toString=n;f.tween.Ease.EASE_ELASTIC.__enum__=f.tween.Ease;f.tween.Ease.EASE_ELASTIC_IN=["EASE_ELASTIC_IN",11];f.tween.Ease.EASE_ELASTIC_IN.toString=n;f.tween.Ease.EASE_ELASTIC_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_ELASTIC_OUT=["EASE_ELASTIC_OUT",
12];f.tween.Ease.EASE_ELASTIC_OUT.toString=n;f.tween.Ease.EASE_ELASTIC_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_BUMP=["EASE_BUMP",13];f.tween.Ease.EASE_BUMP.toString=n;f.tween.Ease.EASE_BUMP.__enum__=f.tween.Ease;f.tween.Ease.EASE_BUMP_IN=["EASE_BUMP_IN",14];f.tween.Ease.EASE_BUMP_IN.toString=n;f.tween.Ease.EASE_BUMP_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_BUMP_OUT=["EASE_BUMP_OUT",15];f.tween.Ease.EASE_BUMP_OUT.toString=n;f.tween.Ease.EASE_BUMP_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_BOUNCE=
["EASE_BOUNCE",16];f.tween.Ease.EASE_BOUNCE.toString=n;f.tween.Ease.EASE_BOUNCE.__enum__=f.tween.Ease;f.tween.Ease.EASE_BOUNCE_IN=["EASE_BOUNCE_IN",17];f.tween.Ease.EASE_BOUNCE_IN.toString=n;f.tween.Ease.EASE_BOUNCE_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_BOUNCE_OUT=["EASE_BOUNCE_OUT",18];f.tween.Ease.EASE_BOUNCE_OUT.toString=n;f.tween.Ease.EASE_BOUNCE_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_CUBIC=["EASE_CUBIC",19];f.tween.Ease.EASE_CUBIC.toString=n;f.tween.Ease.EASE_CUBIC.__enum__=f.tween.Ease;
f.tween.Ease.EASE_CUBIC_IN=["EASE_CUBIC_IN",20];f.tween.Ease.EASE_CUBIC_IN.toString=n;f.tween.Ease.EASE_CUBIC_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_CUBIC_OUT=["EASE_CUBIC_OUT",21];f.tween.Ease.EASE_CUBIC_OUT.toString=n;f.tween.Ease.EASE_CUBIC_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_SPACE=["EASE_SPACE",22];f.tween.Ease.EASE_SPACE.toString=n;f.tween.Ease.EASE_SPACE.__enum__=f.tween.Ease;f.tween.Ease.EASE_SPACE_IN=["EASE_SPACE_IN",23];f.tween.Ease.EASE_SPACE_IN.toString=n;f.tween.Ease.EASE_SPACE_IN.__enum__=
f.tween.Ease;f.tween.Ease.EASE_SPACE_OUT=["EASE_SPACE_OUT",24];f.tween.Ease.EASE_SPACE_OUT.toString=n;f.tween.Ease.EASE_SPACE_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_BLAST=["EASE_BLAST",25];f.tween.Ease.EASE_BLAST.toString=n;f.tween.Ease.EASE_BLAST.__enum__=f.tween.Ease;f.tween.Ease.EASE_BLAST_IN=["EASE_BLAST_IN",26];f.tween.Ease.EASE_BLAST_IN.toString=n;f.tween.Ease.EASE_BLAST_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_BLAST_OUT=["EASE_BLAST_OUT",27];f.tween.Ease.EASE_BLAST_OUT.toString=n;f.tween.Ease.EASE_BLAST_OUT.__enum__=
f.tween.Ease;f.tween.Ease.EASE_WAVE=["EASE_WAVE",28];f.tween.Ease.EASE_WAVE.toString=n;f.tween.Ease.EASE_WAVE.__enum__=f.tween.Ease;f.tween.Ease.EASE_WAVE_IN=["EASE_WAVE_IN",29];f.tween.Ease.EASE_WAVE_IN.toString=n;f.tween.Ease.EASE_WAVE_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_WAVE_OUT=["EASE_WAVE_OUT",30];f.tween.Ease.EASE_WAVE_OUT.toString=n;f.tween.Ease.EASE_WAVE_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_CIRCLE=["EASE_CIRCLE",31];f.tween.Ease.EASE_CIRCLE.toString=n;f.tween.Ease.EASE_CIRCLE.__enum__=
f.tween.Ease;f.tween.Ease.EASE_CIRCLE_IN=["EASE_CIRCLE_IN",32];f.tween.Ease.EASE_CIRCLE_IN.toString=n;f.tween.Ease.EASE_CIRCLE_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_CIRCLE_OUT=["EASE_CIRCLE_OUT",33];f.tween.Ease.EASE_CIRCLE_OUT.toString=n;f.tween.Ease.EASE_CIRCLE_OUT.__enum__=f.tween.Ease;f.tween.PennerManager=function(){};l["com.workinman.math.tween.PennerManager"]=f.tween.PennerManager;f.tween.PennerManager.__name__=["com","workinman","math","tween","PennerManager"];f.tween.PennerManager.getEaseFunction=
function(a){switch(a[1]){case 0:case 1:return f.tween.PennerManager._tweenEaseIn;case 2:case 3:return f.tween.PennerManager._tweenEaseOut;case 4:case 5:return f.tween.PennerManager._tweenEaseBoth;case 7:return f.tween.PennerManager._tweenExpoBoth;case 8:return f.tween.PennerManager._tweenExpoIn;case 9:return f.tween.PennerManager._tweenExpoOut;case 10:return f.tween.PennerManager._tweenElasticBoth;case 11:return f.tween.PennerManager._tweenElasticIn;case 12:return f.tween.PennerManager._tweenElasticOut;
case 13:return f.tween.PennerManager._tweenBumpBoth;case 14:return f.tween.PennerManager._tweenBumpIn;case 15:return f.tween.PennerManager._tweenBumpBoth;case 16:return f.tween.PennerManager._tweenBounceBoth;case 17:return f.tween.PennerManager._tweenBounceIn;case 18:return f.tween.PennerManager._tweenBounceOut;case 19:return f.tween.PennerManager._tweenCubicBoth;case 20:return f.tween.PennerManager._tweenCubicIn;case 21:return f.tween.PennerManager._tweenCubicOut;case 22:return f.tween.PennerManager._tweenSpaceBoth;
case 23:return f.tween.PennerManager._tweenSpaceIn;case 24:return f.tween.PennerManager._tweenSpaceOut;case 25:return f.tween.PennerManager._tweenBlastBoth;case 26:return f.tween.PennerManager._tweenBlastIn;case 27:return f.tween.PennerManager._tweenBlastOut;case 28:return f.tween.PennerManager._tweenWaveBoth;case 29:return f.tween.PennerManager._tweenWaveIn;case 30:return f.tween.PennerManager._tweenWaveOut;case 31:return f.tween.PennerManager._tweenCircleBoth;case 32:return f.tween.PennerManager._tweenCircleIn;
case 33:return f.tween.PennerManager._tweenCircleOut;case 6:return f.tween.PennerManager._tweenLinear}};f.tween.PennerManager._tweenLinear=function(a,b,d,c){return a+d/c*b};f.tween.PennerManager._tweenEaseBoth=function(a,b,d,c){return f.tween.PennerEasing.easeInOutQuad(d,a,b,c)};f.tween.PennerManager._tweenEaseIn=function(a,b,d,c){return f.tween.PennerEasing.easeInQuad(d,a,b,c)};f.tween.PennerManager._tweenEaseOut=function(a,b,d,c){return f.tween.PennerEasing.easeOutQuad(d,a,b,c)};f.tween.PennerManager._tweenExpoBoth=
function(a,b,d,c){return f.tween.PennerEasing.easeInOutExpo(d,a,b,c)};f.tween.PennerManager._tweenExpoIn=function(a,b,d,c){return f.tween.PennerEasing.easeInExpo(d,a,b,c)};f.tween.PennerManager._tweenExpoOut=function(a,b,d,c){return f.tween.PennerEasing.easeOutExpo(d,a,b,c)};f.tween.PennerManager._tweenElasticBoth=function(a,b,d,c){return f.tween.PennerEasing.easeInOutElastic(d,a,b,c)};f.tween.PennerManager._tweenElasticIn=function(a,b,d,c){return f.tween.PennerEasing.easeInElastic(d,a,b,c)};f.tween.PennerManager._tweenElasticOut=
function(a,b,d,c){return f.tween.PennerEasing.easeOutElastic(d,a,b,c)};f.tween.PennerManager._tweenBumpBoth=function(a,b,d,c){return f.tween.PennerEasing.easeInOutBack(d,a,b,c)};f.tween.PennerManager._tweenBumpIn=function(a,b,d,c){return f.tween.PennerEasing.easeInBack(d,a,b,c)};f.tween.PennerManager._tweenBounceBoth=function(a,b,d,c){return f.tween.PennerEasing.easeInOutBounce(d,a,b,c)};f.tween.PennerManager._tweenBounceIn=function(a,b,d,c){return f.tween.PennerEasing.easeInBounce(d,a,b,c)};f.tween.PennerManager._tweenBounceOut=
function(a,b,d,c){return f.tween.PennerEasing.easeOutBounce(d,a,b,c)};f.tween.PennerManager._tweenCubicBoth=function(a,b,d,c){return f.tween.PennerEasing.easeInOutCubic(d,a,b,c)};f.tween.PennerManager._tweenCubicIn=function(a,b,d,c){return f.tween.PennerEasing.easeInCubic(d,a,b,c)};f.tween.PennerManager._tweenCubicOut=function(a,b,d,c){return f.tween.PennerEasing.easeOutCubic(d,a,b,c)};f.tween.PennerManager._tweenSpaceBoth=function(a,b,d,c){return f.tween.PennerEasing.easeInOutQuart(d,a,b,c)};f.tween.PennerManager._tweenSpaceIn=
function(a,b,d,c){return f.tween.PennerEasing.easeInQuart(d,a,b,c)};f.tween.PennerManager._tweenSpaceOut=function(a,b,d,c){return f.tween.PennerEasing.easeOutQuart(d,a,b,c)};f.tween.PennerManager._tweenBlastBoth=function(a,b,d,c){return f.tween.PennerEasing.easeInOutQuint(d,a,b,c)};f.tween.PennerManager._tweenBlastIn=function(a,b,d,c){return f.tween.PennerEasing.easeInQuint(d,a,b,c)};f.tween.PennerManager._tweenBlastOut=function(a,b,d,c){return f.tween.PennerEasing.easeOutQuint(d,a,b,c)};f.tween.PennerManager._tweenWaveBoth=
function(a,b,d,c){return f.tween.PennerEasing.easeInOutSine(d,a,b,c)};f.tween.PennerManager._tweenWaveIn=function(a,b,d,c){return f.tween.PennerEasing.easeInSine(d,a,b,c)};f.tween.PennerManager._tweenWaveOut=function(a,b,d,c){return f.tween.PennerEasing.easeOutSine(d,a,b,c)};f.tween.PennerManager._tweenCircleBoth=function(a,b,d,c){return f.tween.PennerEasing.easeInOutCirc(d,a,b,c)};f.tween.PennerManager._tweenCircleIn=function(a,b,d,c){return f.tween.PennerEasing.easeInCirc(d,a,b,c)};f.tween.PennerManager._tweenCircleOut=
function(a,b,d,c){return f.tween.PennerEasing.easeOutCirc(d,a,b,c)};f.tween.TWEEN_DIR=l["com.workinman.math.tween.TWEEN_DIR"]={__ename__:["com","workinman","math","tween","TWEEN_DIR"],__constructs__:"TOP,TOP_RIGHT,RIGHT,BOTTOM_RIGHT,BOTTOM,BOTTOM_LEFT,LEFT,TOP_LEFT".split(",")};f.tween.TWEEN_DIR.TOP=["TOP",0];f.tween.TWEEN_DIR.TOP.toString=n;f.tween.TWEEN_DIR.TOP.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.TOP_RIGHT=["TOP_RIGHT",1];f.tween.TWEEN_DIR.TOP_RIGHT.toString=n;f.tween.TWEEN_DIR.TOP_RIGHT.__enum__=
f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.RIGHT=["RIGHT",2];f.tween.TWEEN_DIR.RIGHT.toString=n;f.tween.TWEEN_DIR.RIGHT.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.BOTTOM_RIGHT=["BOTTOM_RIGHT",3];f.tween.TWEEN_DIR.BOTTOM_RIGHT.toString=n;f.tween.TWEEN_DIR.BOTTOM_RIGHT.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.BOTTOM=["BOTTOM",4];f.tween.TWEEN_DIR.BOTTOM.toString=n;f.tween.TWEEN_DIR.BOTTOM.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.BOTTOM_LEFT=["BOTTOM_LEFT",5];f.tween.TWEEN_DIR.BOTTOM_LEFT.toString=
n;f.tween.TWEEN_DIR.BOTTOM_LEFT.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.LEFT=["LEFT",6];f.tween.TWEEN_DIR.LEFT.toString=n;f.tween.TWEEN_DIR.LEFT.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.TOP_LEFT=["TOP_LEFT",7];f.tween.TWEEN_DIR.TOP_LEFT.toString=n;f.tween.TWEEN_DIR.TOP_LEFT.__enum__=f.tween.TWEEN_DIR;f.tween.WorkinTweenUtils=function(){};l["com.workinman.math.tween.WorkinTweenUtils"]=f.tween.WorkinTweenUtils;f.tween.WorkinTweenUtils.__name__=["com","workinman","math","tween","WorkinTweenUtils"];
f.tween.WorkinTweenUtils.easeBounceIn=function(a,b,d,c){null==c&&(c=0);null==d&&(d=!0);f.tween.WorkinTweenUtils._storeScaleFlipState(a);d&&(a.get_renderable().visible=!0,a.get_renderable().scaleX=0.1*f.tween.WorkinTweenUtils._flipX,a.get_renderable().scaleY=0.1*f.tween.WorkinTweenUtils._flipY,a.get_renderable().alpha=0);b.tween(a.get_renderable(),0.15,{scaleX:1.1*f.tween.WorkinTweenUtils._flipX,scaleY:1.1*f.tween.WorkinTweenUtils._flipY,alpha:1},!0,f.tween.Ease.EASE_OUT,c);return b.tween(a.get_renderable(),
0.15,{scaleX:f.tween.WorkinTweenUtils._flipX,scaleY:f.tween.WorkinTweenUtils._flipY},!1,f.tween.Ease.EASE_IN)};f.tween.WorkinTweenUtils.easeBounceOut=function(a,b,d,c){null==c&&(c=0);null==d&&(d=!1);f.tween.WorkinTweenUtils._storeScaleFlipState(a);d&&(a.get_renderable().visible=!0,a.get_renderable().scaleX=f.tween.WorkinTweenUtils._flipX,a.get_renderable().scaleY=f.tween.WorkinTweenUtils._flipY,a.get_renderable().alpha=1);b.tween(a.get_renderable(),0.15,{scaleX:1.1*f.tween.WorkinTweenUtils._flipX,
scaleY:1.1*f.tween.WorkinTweenUtils._flipY},!0,f.tween.Ease.EASE_OUT,c);return b.tween(a.get_renderable(),0.15,{scaleX:0.1*f.tween.WorkinTweenUtils._flipX,scaleY:0.1*f.tween.WorkinTweenUtils._flipY,alpha:0},!1,f.tween.Ease.EASE_IN)};f.tween.WorkinTweenUtils.easeSlideInFromDir=function(a,b,d,c){null==c&&(c=0);f.tween.WorkinTweenUtils.get__workPoint().toPoint(a.get_pos());f.tween.WorkinTweenUtils._modifyWorkPointByDir(d);return f.tween.WorkinTweenUtils.easeSlideIn(a,b,f.tween.WorkinTweenUtils.get__workPoint().x,
f.tween.WorkinTweenUtils.get__workPoint().y,c)};f.tween.WorkinTweenUtils.easeSlideIn=function(a,b,d,c,e){null==e&&(e=0);f.tween.WorkinTweenUtils.get__workPoint().toPoint(a.get_pos());a.get_pos().x=d;a.get_pos().y=c;a.get_renderable().visible=!0;a.get_renderable().alpha=1;return b.tween(a.get_pos(),0.5,{x:f.tween.WorkinTweenUtils.get__workPoint().x,y:f.tween.WorkinTweenUtils.get__workPoint().y},!0,f.tween.Ease.EASE_OUT,e)};f.tween.WorkinTweenUtils.easeSlideOutToDir=function(a,b,d,c){null==c&&(c=0);
f.tween.WorkinTweenUtils.get__workPoint().toPoint(a.get_pos());f.tween.WorkinTweenUtils._modifyWorkPointByDir(d);return f.tween.WorkinTweenUtils.easeSlideOut(a,b,f.tween.WorkinTweenUtils.get__workPoint().x,f.tween.WorkinTweenUtils.get__workPoint().y,c)};f.tween.WorkinTweenUtils.easeSlideOut=function(a,b,d,c,e){null==e&&(e=0);a.get_renderable().visible=!0;a.get_renderable().alpha=1;return b.tween(a.get_pos(),0.5,{x:d,y:c},!0,f.tween.Ease.EASE_IN,e)};f.tween.WorkinTweenUtils._storeScaleFlipState=function(a){f.tween.WorkinTweenUtils._flipX=
0>a.get_renderable().scaleX?-1:1;f.tween.WorkinTweenUtils._flipY=0>a.get_renderable().scaleY?-1:1};f.tween.WorkinTweenUtils.get__workPoint=function(){null==f.tween.WorkinTweenUtils.__workPoint&&(f.tween.WorkinTweenUtils.__workPoint=f.WorkinPoint.request());return f.tween.WorkinTweenUtils.__workPoint};f.tween.WorkinTweenUtils._modifyWorkPointByDir=function(a){switch(a[1]){case 3:case 2:case 1:f.tween.WorkinTweenUtils.get__workPoint().x+=c.ConstantsApp.STAGE_WIDTH;break;case 5:case 6:case 7:f.tween.WorkinTweenUtils.get__workPoint().x-=
c.ConstantsApp.STAGE_WIDTH}switch(a[1]){case 7:case 0:case 1:f.tween.WorkinTweenUtils.get__workPoint().y-=c.ConstantsApp.STAGE_HEIGHT;break;case 5:case 4:case 3:f.tween.WorkinTweenUtils.get__workPoint().y+=c.ConstantsApp.STAGE_HEIGHT}};f.tween.WorkinTweener=function(){};l["com.workinman.math.tween.WorkinTweener"]=f.tween.WorkinTweener;f.tween.WorkinTweener.__name__=["com","workinman","math","tween","WorkinTweener"];f.tween.WorkinTweener.__interfaces__=[e.pooling.IStrictPoolable];f.tween.WorkinTweener.__properties__=
{get__nullTarget:"get__nullTarget"};f.tween.WorkinTweener.request=function(){return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweener",f.tween.WorkinTweener)};f.tween.WorkinTweener.get__nullTarget=function(){null==f.tween.WorkinTweener.__nullTarget&&(f.tween.WorkinTweener.__nullTarget={});return f.tween.WorkinTweener.__nullTarget};f.tween.WorkinTweener.__super__=e.pooling.PoolStrictBase;f.tween.WorkinTweener.prototype=u(e.pooling.PoolStrictBase.prototype,{stopAllTweens:function(){for(;0<
this._targets.length;)this._targets.pop().dispose()},stop:function(a){for(this._i=this._targets.length;0<this._i;)if(this._i--,this._targets[this._i].get_target()==a){this._targets[this._i].dispose();this._targets.splice(this._i,1);break}},timer:function(a,b){null==b&&(b=0);return this.tween(f.tween.WorkinTweener.get__nullTarget(),a,f.tween.WorkinTweener.get__nullTarget(),!0,null,b,"tim"+f.tween.WorkinTweener._uniqueTimer++)},tween:function(a,b,d,c,e,g,h){null==h&&(h="def");null==g&&(g=0);null==c&&
(c=!1);b=f.tween.WorkinTweenDef.request(a,b,d,e,g);d=0;for(e=this._targets;d<e.length;)if(g=e[d],++d,g.get_target()==a)return c&&g.clearTweens(h),g.addTween(b,h),b;a=f.tween.WorkinTweenTracker.request(a);this._targets.push(a);a.addTween(b,h);return b},hasTween:function(a){for(var b=0,d=this._targets;b<d.length;){var c=d[b];++b;if(c.get_target()==a)return!0}return!1},update:function(a){for(this._i=this._targets.length;0<this._i--;)this._targets[this._i].update(a),this._targets[this._i].get_isComplete()&&
(this._targets[this._i].dispose(),this._targets.splice(this._i,1))},destroy:function(){this._targets=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(;0<this._targets.length;)this._targets.pop().dispose();e.pooling.PoolStrictBase.prototype.dispose.call(this)},create:function(){this._targets=[]},__class__:f.tween.WorkinTweener});f.tween.WorkinTweenTracker=function(){};l["com.workinman.math.tween.WorkinTweenTracker"]=f.tween.WorkinTweenTracker;f.tween.WorkinTweenTracker.__name__=
["com","workinman","math","tween","WorkinTweenTracker"];f.tween.WorkinTweenTracker.__interfaces__=[e.pooling.IStrictPoolable];f.tween.WorkinTweenTracker.request=function(a){return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweenTracker",f.tween.WorkinTweenTracker).init(a)};f.tween.WorkinTweenTracker.__super__=e.pooling.PoolStrictBase;f.tween.WorkinTweenTracker.prototype=u(e.pooling.PoolStrictBase.prototype,{addTween:function(a,b){if(null==this._tweens.get(b)){this._threadCount++;
var d=[];this._tweens.set(b,d);d}this._tweens.get(b).push(a)},_runRemoval:function(){for(;0<f.tween.WorkinTweenTracker._tweenRemoval.length;)this._tweens.remove(f.tween.WorkinTweenTracker._tweenRemoval.pop()),this._threadCount--},clearTweens:function(a){if(null!=this._tweens.get(a)){for(;0<this._tweens.get(a).length;)this._tweens.get(a).pop().dispose();f.tween.WorkinTweenTracker._tweenRemoval.push(a);this._runRemoval()}},clearAllTweens:function(){for(var a=this._tweens.keys();a.hasNext();){var b=
a.next();f.tween.WorkinTweenTracker._tweenUpdate.push(b)}for(;0<f.tween.WorkinTweenTracker._tweenUpdate.length;)this.clearTweens(f.tween.WorkinTweenTracker._tweenUpdate.pop())},set_isComplete:function(a){return this._isComplete=a},get_isComplete:function(){return this._isComplete},get_target:function(){return this._target},_dispatchTweensAllComplete:function(a){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(D.ConstantsCloud.EVENT_TWEENS_COMPLETE,{target:a}))},_updateThread:function(a,
b){1>this._tweens.get(b).length?f.tween.WorkinTweenTracker._tweenRemoval.push(b):(this._tweens.get(b)[0].update(a),this._tweens.get(b)[0].get_isComplete()&&(this._tweens.get(b)[0].dispose(),this._tweens.get(b).splice(0,1),this._updateThread(a,b)))},update:function(a){for(var b=this._tweens.keys();b.hasNext();){var d=b.next();f.tween.WorkinTweenTracker._tweenUpdate.push(d)}for(;0<f.tween.WorkinTweenTracker._tweenUpdate.length;)this._updateThread(a,f.tween.WorkinTweenTracker._tweenUpdate.pop());this._runRemoval();
1>this._threadCount&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},destroy:function(){this._tweens=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){this.clearAllTweens();this._target=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a){this._target=a;this._isComplete=!1;this._threadCount=0;return this},create:function(){this._tweens=new w.StringMap},__class__:f.tween.WorkinTweenTracker,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,
{get_target:"get_target",set_isComplete:"set_isComplete",get_isComplete:"get_isComplete"})});f.tween.WorkinTweenDef=function(){};l["com.workinman.math.tween.WorkinTweenDef"]=f.tween.WorkinTweenDef;f.tween.WorkinTweenDef.__name__=["com","workinman","math","tween","WorkinTweenDef"];f.tween.WorkinTweenDef.__interfaces__=[e.pooling.IStrictPoolable];f.tween.WorkinTweenDef.request=function(a,b,d,c,g){return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweenDef",f.tween.WorkinTweenDef).init(a,
b,d,c,g)};f.tween.WorkinTweenDef.__super__=e.pooling.PoolStrictBase;f.tween.WorkinTweenDef.prototype=u(e.pooling.PoolStrictBase.prototype,{onComplete:function(a,b){null==b&&(b=[]);this._completionHandler=a;this._completionArgs=b;return this},ease:function(a){this._easeFunction=f.tween.PennerManager.getEaseFunction(a);return this},delay:function(a){this._delay=a;return this},get_ratio:function(){return this._ratio},set_isComplete:function(a){this._isComplete=a;return this.get_isComplete()},get_isComplete:function(){return this._isComplete},
update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;if(null==this._target)this._isComplete=!0;else if(!1==this._started&&this._start(),this._progress+=a,this._progress>this._duration&&(this._progress=this._duration),this._ratio=Math.floor(1E3*(this._progress/this._duration))/1E3,this._progress>=this._duration){for(var a=0,b=F.fields(this._dest);a<b.length;){var d=b[a];++a;this._target[d]=F.field(this._dest,d)}null!=this._completionHandler&&this._completionHandler.apply(this._completionHandler,
this._completionArgs);this._isComplete=!0}else{a=0;for(b=F.fields(this._dest);a<b.length;)d=b[a],++a,this._diff=F.field(this._dest,d)-F.field(this._origin,d),this._target[d]=this._easeFunction(F.field(this._origin,d),this._diff,this._progress,this._duration)}},_start:function(){this._isComplete=!1;this._started=!0;for(var a=0,b=F.fields(this._dest);a<b.length;){var d=b[a];++a;null!=F.field(this._target,d)&&(this._origin[d]=F.field(this._target,d))}},destroy:function(){this._origin=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},
dispose:function(){e.WorkinUtils.removePropertiesFromDynamic(this._origin);this._dest=this._target=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,d,c,e){this._target=a;this._duration=b;this._delay=e;this._dest=d;this._easeFunction=f.tween.PennerManager.getEaseFunction(null==c?f.tween.Ease.EASE_LINEAR:c);this._isComplete=!1;this._completionArgs=this._completionHandler=null;this._progress=0;this._started=!1;return this},create:function(){this._origin={}},__class__:f.tween.WorkinTweenDef,
__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{set_isComplete:"set_isComplete",get_isComplete:"get_isComplete",get_ratio:"get_ratio"})});S={WMSharedObject:function(){this._dispatcher=o.WMEventDispatcher.request();this._data={};this.sharedKey=""}};l["com.workinman.net.WMSharedObject"]=S.WMSharedObject;S.WMSharedObject.__name__=["com","workinman","net","WMSharedObject"];S.WMSharedObject.getLocalStorage=function(){return z.window.localStorage};S.WMSharedObject.getLocal=function(a){try{var b=
new S.WMSharedObject;b.sharedKey=a;var d=S.WMSharedObject.getLocalStorage().getItem(b.sharedKey);b.set_data(""==d||null==d?{}:R.run(d));return b}catch(c){return b=new S.WMSharedObject,b.sharedKey="",b}};S.WMSharedObject.prototype={flush:function(){var a=U.run(this.get_data());S.WMSharedObject.getLocalStorage().setItem(this.sharedKey,a);return S.SharedObjectFlushedStatus.FLUSHED},set_data:function(a){return this._data=a},get_data:function(){return this._data},dispose:function(){this._data=null;this._dispatcher.dispose();
this._dispatcher=null},__class__:S.WMSharedObject};S.SharedObjectFlushedStatus=function(){};l["com.workinman.net.SharedObjectFlushedStatus"]=S.SharedObjectFlushedStatus;S.SharedObjectFlushedStatus.__name__=["com","workinman","net","SharedObjectFlushedStatus"];i={ServiceAnalytics:function(){}};l["com.workinman.services.ServiceAnalytics"]=i.ServiceAnalytics;i.ServiceAnalytics.__name__=["com","workinman","services","ServiceAnalytics"];i.ServiceAnalytics.onAnalyticsLoad=function(){i.ServiceAnalytics._flagLoaded||
(i.ServiceAnalytics._flagLoaded=!0,Q.delay(i.ServiceAnalytics._runQueuedCommands,1E3))};i.ServiceAnalytics.init=function(a,b){null==b&&(b="");i.ServiceAnalytics._flagInitted=!0;i.ServiceAnalytics._queuedCommands=[];"x"==a.toLowerCase()&&(i.ServiceAnalytics.OPTION_ENABLE_TRACKING=!1);i.ServiceAnalytics.OPTION_ENABLE_TRACKING&&(""==b&&(b=i.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID),i.ServiceAnalytics._flagStarted=!1,i.ServiceAnalytics._appId=a,i.ServiceAnalytics._sharedObjectId=b,i.ServiceAnalytics._sharedObjectData=
e.WorkinCloud.get_instance().sharedObjectGetData(i.ServiceAnalytics._sharedObjectId),i.ServiceAnalytics._generateSessionID(),null==i.ServiceAnalytics._sharedObjectData.userID||14>v.string(i.ServiceAnalytics._sharedObjectData.userID).length?(i.ServiceAnalytics._generateOfflineIDs(),i.ServiceAnalytics._sharedObjectData.userID=i.ServiceAnalytics._offlineUserId,i.ServiceAnalytics._sharedObjectData.trackingID=i.ServiceAnalytics._offlineTrackingId,e.WorkinCloud.get_instance().sharedObjectSetData(i.ServiceAnalytics._sharedObjectId,
i.ServiceAnalytics._sharedObjectData)):(i.ServiceAnalytics._offlineUserId=i.ServiceAnalytics._sharedObjectData.userID,i.ServiceAnalytics._offlineTrackingId=i.ServiceAnalytics._sharedObjectData.trackingID),eval("\t\t\t\t\n\t\t\t\twindow._pnConfig = new Array();\n\t\t\t\twindow._pnConfig['userId'] = '"+i.ServiceAnalytics._offlineUserId+"';\n\t\t\t\t\n\t\t\t\tvar _pnAPIURL = document.location.protocol + '//js.a.playnomics.net/v1/api?a="+i.ServiceAnalytics._appId+"';\n\t\t\t\tvar _pnAPI = document.createElement('script');\t\t\t\t\n\t\t\t\t_pnAPI.type = 'text/javascript'; \n\t\t\t\t_pnAPI.async = false; \n\t\t\t\t_pnAPI.src = _pnAPIURL;\n\t\t\t\twindow.pnCallbackReference = _pnAPI;\t\t\t\t\n\t\t\t"),
eval("window.pnCallbackReference").addEventListener("load",i.ServiceAnalytics.onAnalyticsLoad,!1),eval("document.body.appendChild(window.pnCallbackReference);"),i.ServiceAnalytics.sendUserInfo(),i.ServiceAnalytics.sendMilestone("custom1"))};i.ServiceAnalytics._runQueuedCommands=function(){for(;0<i.ServiceAnalytics._queuedCommands.length;)i.ServiceAnalytics.sendPlaynomicsEvent(i.ServiceAnalytics._queuedCommands[0].method,i.ServiceAnalytics._queuedCommands[0].params),i.ServiceAnalytics._queuedCommands.shift()};
i.ServiceAnalytics.sendUserInfo=function(){i.ServiceAnalytics.sendPlaynomicsEvent("pnUserInfo",["update",null,null,"","","html5"])};i.ServiceAnalytics.sendMilestone=function(a){i.ServiceAnalytics.sendPlaynomicsEvent("pnMilestone",[v.string(Math.floor(6012+999999999*Math.random())),a])};i.ServiceAnalytics.sendPlaynomicsEvent=function(a,b){if(i.ServiceAnalytics.OPTION_ENABLE_TRACKING&&i.ServiceAnalytics._flagInitted)if(i.ServiceAnalytics._flagLoaded){var d,c="";for(d=0;d<b.length;)c+="'"+b[d]+"'",d++,
d<b.length&&(c+=",");eval(a+"("+c+")")}else i.ServiceAnalytics._queuedCommands.push({method:a,params:b})};i.ServiceAnalytics.enableCanadaTracking=function(a){i.ServiceAnalytics._flagCanadaTrackingEnabled=!0;i.ServiceAnalytics._canadaShowGameTitle=a};i.ServiceAnalytics.sendCanadaTrackingCall=function(a){if(i.ServiceAnalytics._flagCanadaTrackingEnabled)try{eval("trackFlashEvent('"+i.ServiceAnalytics._canadaShowGameTitle+"', '"+a+"', 'true');")}catch(b){}};i.ServiceAnalytics._generateSessionID=function(){for(var a=
"",b=11;-1<b;)a+=Math.floor(10*Math.random()),b--;i.ServiceAnalytics._sessionId=a};i.ServiceAnalytics._generateOfflineIDs=function(){i.ServiceAnalytics._offlineUserId="";i.ServiceAnalytics._offlineTrackingId="";for(var a=15;-1<a;){if(0.66>Math.random())i.ServiceAnalytics._offlineUserId+=v.string(Math.floor(10*Math.random()));else switch(Math.floor(10*Math.random())){case 0:i.ServiceAnalytics._offlineUserId+="a";break;case 1:i.ServiceAnalytics._offlineUserId+="b";break;case 2:i.ServiceAnalytics._offlineUserId+=
"c";break;case 3:i.ServiceAnalytics._offlineUserId+="d";break;case 4:i.ServiceAnalytics._offlineUserId+="e";break;case 5:i.ServiceAnalytics._offlineUserId+="f";break;case 6:i.ServiceAnalytics._offlineUserId+="g";break;case 7:i.ServiceAnalytics._offlineUserId+="h";break;case 8:i.ServiceAnalytics._offlineUserId+="i";break;case 9:i.ServiceAnalytics._offlineUserId+="j";break;default:i.ServiceAnalytics._offlineUserId+="z"}a--}i.ServiceAnalytics._offlineTrackingId="";for(a=15;-1<a;)i.ServiceAnalytics._offlineTrackingId+=
Math.floor(10*Math.random()),a--};i.ANALYTICS_EVENTS=l["com.workinman.services.ANALYTICS_EVENTS"]={__ename__:["com","workinman","services","ANALYTICS_EVENTS"],__constructs__:"GAME_LOAD,CLICK_TO_PLAY,VOLUME_BUTTON,ENTER_CODE_BUTTON,CODE_SUCCESS,CODE_FAIL,CODE_CLICK_BACK,LEVEL_LOAD,CLICK_MAP,LEVEL_START,COINS_COLLECTED,LEVEL_QUIT,LEVEL_LOSE,LEVEL_WIN,LEVEL_TIME,LIFE_LOST,LIFE_COLLECTED,PAUSE_BUTTON,MENU_RESUME,MENU_HELP,MENU_VOLUME,MENU_QUIT,GAME_OVER_SCREEN,PLAY_AGAIN,LEVEL_COMPLETE".split(",")};i.ANALYTICS_EVENTS.GAME_LOAD=
["GAME_LOAD",0];i.ANALYTICS_EVENTS.GAME_LOAD.toString=n;i.ANALYTICS_EVENTS.GAME_LOAD.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.CLICK_TO_PLAY=["CLICK_TO_PLAY",1];i.ANALYTICS_EVENTS.CLICK_TO_PLAY.toString=n;i.ANALYTICS_EVENTS.CLICK_TO_PLAY.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.VOLUME_BUTTON=["VOLUME_BUTTON",2];i.ANALYTICS_EVENTS.VOLUME_BUTTON.toString=n;i.ANALYTICS_EVENTS.VOLUME_BUTTON.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.ENTER_CODE_BUTTON=["ENTER_CODE_BUTTON",3];i.ANALYTICS_EVENTS.ENTER_CODE_BUTTON.toString=
n;i.ANALYTICS_EVENTS.ENTER_CODE_BUTTON.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.CODE_SUCCESS=["CODE_SUCCESS",4];i.ANALYTICS_EVENTS.CODE_SUCCESS.toString=n;i.ANALYTICS_EVENTS.CODE_SUCCESS.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.CODE_FAIL=["CODE_FAIL",5];i.ANALYTICS_EVENTS.CODE_FAIL.toString=n;i.ANALYTICS_EVENTS.CODE_FAIL.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.CODE_CLICK_BACK=["CODE_CLICK_BACK",6];i.ANALYTICS_EVENTS.CODE_CLICK_BACK.toString=n;i.ANALYTICS_EVENTS.CODE_CLICK_BACK.__enum__=
i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LEVEL_LOAD=["LEVEL_LOAD",7];i.ANALYTICS_EVENTS.LEVEL_LOAD.toString=n;i.ANALYTICS_EVENTS.LEVEL_LOAD.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.CLICK_MAP=["CLICK_MAP",8];i.ANALYTICS_EVENTS.CLICK_MAP.toString=n;i.ANALYTICS_EVENTS.CLICK_MAP.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LEVEL_START=["LEVEL_START",9];i.ANALYTICS_EVENTS.LEVEL_START.toString=n;i.ANALYTICS_EVENTS.LEVEL_START.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.COINS_COLLECTED=["COINS_COLLECTED",
10];i.ANALYTICS_EVENTS.COINS_COLLECTED.toString=n;i.ANALYTICS_EVENTS.COINS_COLLECTED.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LEVEL_QUIT=["LEVEL_QUIT",11];i.ANALYTICS_EVENTS.LEVEL_QUIT.toString=n;i.ANALYTICS_EVENTS.LEVEL_QUIT.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LEVEL_LOSE=["LEVEL_LOSE",12];i.ANALYTICS_EVENTS.LEVEL_LOSE.toString=n;i.ANALYTICS_EVENTS.LEVEL_LOSE.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LEVEL_WIN=["LEVEL_WIN",13];i.ANALYTICS_EVENTS.LEVEL_WIN.toString=n;i.ANALYTICS_EVENTS.LEVEL_WIN.__enum__=
i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LEVEL_TIME=["LEVEL_TIME",14];i.ANALYTICS_EVENTS.LEVEL_TIME.toString=n;i.ANALYTICS_EVENTS.LEVEL_TIME.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LIFE_LOST=["LIFE_LOST",15];i.ANALYTICS_EVENTS.LIFE_LOST.toString=n;i.ANALYTICS_EVENTS.LIFE_LOST.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LIFE_COLLECTED=["LIFE_COLLECTED",16];i.ANALYTICS_EVENTS.LIFE_COLLECTED.toString=n;i.ANALYTICS_EVENTS.LIFE_COLLECTED.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.PAUSE_BUTTON=
["PAUSE_BUTTON",17];i.ANALYTICS_EVENTS.PAUSE_BUTTON.toString=n;i.ANALYTICS_EVENTS.PAUSE_BUTTON.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.MENU_RESUME=["MENU_RESUME",18];i.ANALYTICS_EVENTS.MENU_RESUME.toString=n;i.ANALYTICS_EVENTS.MENU_RESUME.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.MENU_HELP=["MENU_HELP",19];i.ANALYTICS_EVENTS.MENU_HELP.toString=n;i.ANALYTICS_EVENTS.MENU_HELP.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.MENU_VOLUME=["MENU_VOLUME",20];i.ANALYTICS_EVENTS.MENU_VOLUME.toString=
n;i.ANALYTICS_EVENTS.MENU_VOLUME.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.MENU_QUIT=["MENU_QUIT",21];i.ANALYTICS_EVENTS.MENU_QUIT.toString=n;i.ANALYTICS_EVENTS.MENU_QUIT.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.GAME_OVER_SCREEN=["GAME_OVER_SCREEN",22];i.ANALYTICS_EVENTS.GAME_OVER_SCREEN.toString=n;i.ANALYTICS_EVENTS.GAME_OVER_SCREEN.__enum__=i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.PLAY_AGAIN=["PLAY_AGAIN",23];i.ANALYTICS_EVENTS.PLAY_AGAIN.toString=n;i.ANALYTICS_EVENTS.PLAY_AGAIN.__enum__=
i.ANALYTICS_EVENTS;i.ANALYTICS_EVENTS.LEVEL_COMPLETE=["LEVEL_COMPLETE",24];i.ANALYTICS_EVENTS.LEVEL_COMPLETE.toString=n;i.ANALYTICS_EVENTS.LEVEL_COMPLETE.__enum__=i.ANALYTICS_EVENTS;i.ServiceKontagent=function(){};l["com.workinman.services.ServiceKontagent"]=i.ServiceKontagent;i.ServiceKontagent.__name__=["com","workinman","services","ServiceKontagent"];i.ServiceKontagent.init=function(a,b,d){null==d&&(d="");"x"==a.toLowerCase()&&(i.ServiceKontagent.OPTION_ENABLE_TRACKING=!1);if(i.ServiceKontagent.OPTION_ENABLE_TRACKING&&
(""==d&&(d=i.ServiceKontagent._DEFAULT_SHARED_OBJECT_ID),!i.ServiceKontagent._flagInitted)){var c=i.ServiceKontagent._callKontagentMethod("getDeviceInfo()");""==c||0==v.parseInt(c)||(i.ServiceKontagent._flagInitted=!0,i.ServiceKontagent._appId=a,i.ServiceKontagent._sharedObjectId=d,i.ServiceKontagent._timerHeartbeat=new Q(3E4),i.ServiceKontagent._timerHeartbeat.run=i.ServiceKontagent._onHeartbeat,i.ServiceKontagent._timerMetrics=new Q(1E3),i.ServiceKontagent._timerMetrics.run=i.ServiceKontagent._onQueueMetrics,
i.ServiceKontagent._timerMetrics.stop(),i.ServiceKontagent._countMetrics=new w.StringMap,i.ServiceKontagent._callKontagentMethod("setup('"+i.ServiceKontagent._appId+"',"+v.string(b)+")"),a=e.WorkinCloud.get_instance().sharedObjectGetData(i.ServiceKontagent._sharedObjectId),null==a||0==F.fields(a).length?i.ServiceKontagent._generateOfflineIDs():(i.ServiceKontagent._offlineUserId=a.a+a.ppb,i.ServiceKontagent._offlineTrackingId=a.b+a.ppa,null),i.ServiceKontagent._callKontagentMethod("trackUserInformation('"+
i.ServiceKontagent._offlineTrackingId+"',"+v.string(c)+")"),i.ServiceKontagent._queueMetrics=[])}};i.ServiceKontagent._onHeartbeat=function(){i.ServiceKontagent._callKontagentMethod("trackPageRequest('"+i.ServiceKontagent._offlineTrackingId+"')")};i.ServiceKontagent._onQueueMetrics=function(){if(0<i.ServiceKontagent._queueMetrics.length){for(var a=i.ServiceKontagent._queueMetrics.shift(),b="{",d=F.fields(a),c=0;c<d.length;){var e=d[c];++c;b+="'"+v.string(e)+"':'"+v.string(F.field(a,e))+"',"}b=A.substr(b,
0,b.length-1);i.ServiceKontagent._callKontagentMethod("trackEvent('"+i.ServiceKontagent._offlineTrackingId+"','"+v.string(a.name)+"',"+(b+"}")+")")}else i.ServiceKontagent._timerMetrics.stop()};i.ServiceKontagent._generateOfflineIDs=function(){i.ServiceKontagent._offlineUserId="";for(var a=16;-1<a;){if(0.66>Math.random())i.ServiceKontagent._offlineUserId+=v.string(Math.floor(10*Math.random()));else switch(Math.floor(10*Math.random())){case 0:i.ServiceKontagent._offlineUserId+="a";break;case 1:i.ServiceKontagent._offlineUserId+=
"b";break;case 2:i.ServiceKontagent._offlineUserId+="c";break;case 3:i.ServiceKontagent._offlineUserId+="d";break;case 4:i.ServiceKontagent._offlineUserId+="e";break;case 5:i.ServiceKontagent._offlineUserId+="f";break;case 6:i.ServiceKontagent._offlineUserId+="g";break;case 7:i.ServiceKontagent._offlineUserId+="h";break;case 8:i.ServiceKontagent._offlineUserId+="i";break;case 9:i.ServiceKontagent._offlineUserId+="j"}a--}i.ServiceKontagent._offlineTrackingId="";for(a=8;-1<a;)i.ServiceKontagent._offlineTrackingId+=
v.string(Math.floor(10*Math.random())),a--;8<i.ServiceKontagent._offlineTrackingId.length&&(i.ServiceKontagent._offlineTrackingId=i.ServiceKontagent._offlineTrackingId.substring(0,8));a={a:A.substr(i.ServiceKontagent._offlineUserId,0,8),b:A.substr(i.ServiceKontagent._offlineTrackingId,0,8),ppa:A.substr(i.ServiceKontagent._offlineTrackingId,8,i.ServiceKontagent._offlineTrackingId.length),ppb:A.substr(i.ServiceKontagent._offlineUserId,8,i.ServiceKontagent._offlineUserId.length)};e.WorkinCloud.get_instance().sharedObjectSetData(i.ServiceKontagent._sharedObjectId,
a);i.ServiceKontagent._callKontagentMethod("trackApplicationAdded('"+i.ServiceKontagent._offlineTrackingId+"')");null};i.ServiceKontagent._callKontagentMethod=function(a){try{var b=eval("kontagentProxy."+a);return null==b?"":b}catch(d){}return""};i.ServiceKontagent.sendMetric=function(a,b){if(i.ServiceKontagent._flagInitted){var d={name:v.string(a)};switch(a[1]){case 0:d.subtype1=i.ServiceKontagent.ST1_PRE_PLAY;d.subtype2=i.ServiceKontagent.ST2_SCREEN_TITLE;d.value=b;break;case 1:d.subtype1=i.ServiceKontagent.ST1_PRE_PLAY;
d.subtype2=i.ServiceKontagent.ST2_SCREEN_TITLE;break;case 2:d.subtype1=i.ServiceKontagent.ST1_PRE_PLAY;d.subtype2=i.ServiceKontagent.ST2_SCREEN_TITLE;break;case 3:d.subtype1=i.ServiceKontagent.ST1_PRE_PLAY;d.subtype2=i.ServiceKontagent.ST2_SCREEN_CODE;break;case 4:d.subtype1=i.ServiceKontagent.ST1_PRE_PLAY;d.subtype2=i.ServiceKontagent.ST2_SCREEN_CODE;break;case 5:d.subtype1=i.ServiceKontagent.ST1_PRE_PLAY;d.subtype2=i.ServiceKontagent.ST2_SCREEN_CODE;break;case 6:d.subtype1=i.ServiceKontagent.ST1_PRE_PLAY;
d.subtype2=i.ServiceKontagent.ST2_SCREEN_CODE;break;case 7:d.subtype1=i.ServiceKontagent.ST1_LEVEL_RESULTS;d.subtype2=i.ServiceKontagent.ST2_LEVEL_LOAD;d.value=b;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 8:d.subtype1=i.ServiceKontagent.ST1_LEVEL_RESULTS;d.subtype2=i.ServiceKontagent.ST2_LEVEL_LOAD;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 9:d.subtype1=i.ServiceKontagent.ST1_LEVEL_RESULTS;d.subtype2=i.ServiceKontagent.ST2_LEVEL_LOAD;
d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 10:d.subtype1=i.ServiceKontagent.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);d.value=i.ServiceKontagent._countMetrics.get(d.name);var m=d.name;i.ServiceKontagent._countMetrics.set(m,0);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 11:d.subtype1=i.ServiceKontagent.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
d.value=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_SCORE);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 12:d.subtype1=i.ServiceKontagent.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);d.value=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_SCORE);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 13:d.subtype1=i.ServiceKontagent.ST1_LEVEL_RESULTS;
d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);d.value=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_SCORE);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 14:d.subtype1=i.ServiceKontagent.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);d.value=b;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 15:d.subtype1=i.ServiceKontagent.ST1_IN_PLAY;
d.subtype2=i.ServiceKontagent.ST2_GAME_LIVES;d.value=i.ServiceKontagent._countMetrics.get(d.name);m=d.name;i.ServiceKontagent._countMetrics.set(m,0);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 16:d.subtype1=i.ServiceKontagent.ST1_IN_PLAY;d.subtype2=i.ServiceKontagent.ST2_GAME_LIVES;d.value=i.ServiceKontagent._countMetrics.get(d.name);m=d.name;i.ServiceKontagent._countMetrics.set(m,0);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
break;case 17:d.subtype1=i.ServiceKontagent.ST1_UI;d.subtype2=i.ServiceKontagent.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 18:d.subtype1=i.ServiceKontagent.ST1_UI;d.subtype2=i.ServiceKontagent.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 19:d.subtype1=i.ServiceKontagent.ST1_UI;d.subtype2=i.ServiceKontagent.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
break;case 20:d.subtype1=i.ServiceKontagent.ST1_UI;d.subtype2=i.ServiceKontagent.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 21:d.subtype1=i.ServiceKontagent.ST1_UI;d.subtype2=i.ServiceKontagent.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 24:d.name=b;d.subtype1=i.ServiceKontagent.ST1_POST_PLAY;d.subtype2=i.ServiceKontagent.ST2_LEVEL_COMPLETE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
break;case 22:d.subtype1=i.ServiceKontagent.ST1_POST_PLAY;d.subtype2=i.ServiceKontagent.ST2_SCREEN_END;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 23:d.subtype1=i.ServiceKontagent.ST1_POST_PLAY,d.subtype2=i.ServiceKontagent.ST2_SCREEN_END,d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID)}i.ServiceKontagent._queueMetrics.push(d);i.ServiceKontagent._timerMetrics.run()}};i.ServiceNickAvatar=function(){this._url="";this._flagEnabled=
!1;this._avatarsLoaded=[];this._avatarsToLoad=[]};l["com.workinman.services.ServiceNickAvatar"]=i.ServiceNickAvatar;i.ServiceNickAvatar.__name__=["com","workinman","services","ServiceNickAvatar"];i.ServiceNickAvatar.get_instance=function(){null==i.ServiceNickAvatar._instance&&(i.ServiceNickAvatar._instance=new i.ServiceNickAvatar);return i.ServiceNickAvatar._instance};i.ServiceNickAvatar.prototype={disable:function(){this._flagEnabled=!1},enable:function(a){""!=a&&(this._flagEnabled=!0,this._url=
a)},__class__:i.ServiceNickAvatar};i.ServiceNickLeaderboard=function(){this._flagEnabled=!1;this._scoreArray=[];this._gameKeyword=""};l["com.workinman.services.ServiceNickLeaderboard"]=i.ServiceNickLeaderboard;i.ServiceNickLeaderboard.__name__=["com","workinman","services","ServiceNickLeaderboard"];i.ServiceNickLeaderboard.get_instance=function(){null==i.ServiceNickLeaderboard._instance&&(i.ServiceNickLeaderboard._instance=new i.ServiceNickLeaderboard);return i.ServiceNickLeaderboard._instance};i.ServiceNickLeaderboard.prototype=
{disable:function(){this._flagEnabled=!1},enable:function(a,b){""!=a&&(this._flagEnabled=!0,this.setKeyword(b),this._url=a)},setKeyword:function(a){""!=this._gameKeyword&&this._gameKeyword!=a&&(this._scoreArray=[]);this._gameKeyword=a},__class__:i.ServiceNickLeaderboard};i.ServiceOmniture=function(){};l["com.workinman.services.ServiceOmniture"]=i.ServiceOmniture;i.ServiceOmniture.__name__=["com","workinman","services","ServiceOmniture"];i.ServiceOmniture.init=function(){i.ServiceOmniture._flagInitted=
!0};e.JSEmbedProxy=function(){};l["com.workinman.utils.JSEmbedProxy"]=e.JSEmbedProxy;e.JSEmbedProxy.__name__=["com","workinman","utils","JSEmbedProxy"];e.JSEmbedProxy.alertOn=function(a){e.JSEmbedProxy.callJSEmbedMethod("addAlert('"+a+"', '')")};e.JSEmbedProxy.alertOff=function(){e.JSEmbedProxy.callJSEmbedMethod("removeAlert('')")};e.JSEmbedProxy.get_exists=function(){return e.JSEmbedProxy.callJSEmbedMethod("exists()")};e.JSEmbedProxy.get_base=function(){return e.JSEmbedProxy.callJSEmbedMethod("baseUrl()")};
e.JSEmbedProxy.get_isCrossdomain=function(){return e.JSEmbedProxy.callJSEmbedMethod("isBaseCrossdomain()")};e.JSEmbedProxy.get_scaleType=function(){return e.JSEmbedProxy.callJSEmbedMethod("scaleType()")};e.JSEmbedProxy.get_canvasScale=function(){return v.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("canvasScale()"))};e.JSEmbedProxy.get_canvasWidth=function(){return v.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("canvasWidth()"))};e.JSEmbedProxy.get_canvasHeight=function(){return v.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("canvasHeight()"))};
e.JSEmbedProxy.get_scaledWidth=function(){return v.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("scaledWidth()"))};e.JSEmbedProxy.get_scaledHeight=function(){return v.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("scaledHeight()"))};e.JSEmbedProxy.get_contentOffsetX=function(){return v.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("contentOffsetX()"))};e.JSEmbedProxy.get_contentOffsetY=function(){return v.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("contentOffsetY()"))};e.JSEmbedProxy.get_isPaused=function(){return e.JSEmbedProxy.callJSEmbedMethod("isPaused()")};
e.JSEmbedProxy.get_allowPortrait=function(){return e.JSEmbedProxy.callJSEmbedMethod("allowPortrait()")};e.JSEmbedProxy.get_isPortrait=function(){return e.JSEmbedProxy.callJSEmbedMethod("isPortrait()")};e.JSEmbedProxy.pause=function(){e.JSEmbedProxy.callJSEmbedMethod("pause()")};e.JSEmbedProxy.unpause=function(){e.JSEmbedProxy.callJSEmbedMethod("unpause()")};e.JSEmbedProxy.callJSEmbedMethod=function(a){try{var b=eval("jsembed."+a);return null==b?"":b}catch(d){}return""};e.WMAchievementManager=function(){this._achievements=
new w.StringMap;this._flagInitted=!1};l["com.workinman.utils.WMAchievementManager"]=e.WMAchievementManager;e.WMAchievementManager.__name__=["com","workinman","utils","WMAchievementManager"];e.WMAchievementManager.prototype={_onUpdateDisplay:function(a){for(var b,d=this._achievements.keys();d.hasNext();){var m=d.next();b=this._achievements.get(m);b.get_valueId()==a.get_data().valueID&&!b.achieved&&e.WorkinCloud.get_instance().getValue(b.get_valueId())>=b.get_value()&&(b.achieved=!0,this._sharedObjectSetData(),
this._setScore(),this.lastAchievedId=m,e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(c.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP)))}},_addEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(j.Display.EVENT_UPDATE_DISPLAY,t(this,this._onUpdateDisplay))},_sharedObjectSetData:function(){for(var a={},b,d=this._achievements.keys();d.hasNext();){var c=d.next();b=this._achievements.get(c);a[c]={valueId:b.get_valueId(),value:b.get_value(),
points:b.get_points(),achieved:b.achieved}}e.WorkinCloud.get_instance().sharedObjectSetData(this._sharedObjectId,a)},_setScore:function(){for(var a=0,b=function(a){return function(){return a.iterator()}}(this._achievements)();b.hasNext();){var d=b.next();d.achieved&&(a+=d.get_points())}this.points=a},getAchieved:function(a){return this._achievements.get(a).achieved},getPoints:function(a){return this._achievements.get(a).get_points()},getIcon:function(a){return c.Achievements.ICON_BASE+a},getLocalizationDescID:function(a){return c.Achievements.LOCALIZATION_DESC_BASE+
a},getLocalizationNameID:function(a){return c.Achievements.LOCALIZATION_NAME_BASE+a},getAchievements:function(){for(var a=[],b=this._achievements.keys();b.hasNext();){var d=b.next();a.push(d)}return a},addAchievement:function(a,b,d,c,f){null==f&&(f=!1);b=new e._WMAchievementManager.AchievementDef(b,d,c,f);this._achievements.set(a,b);b},init:function(){if(!this._flagInitted&&(this._sharedObjectId=c.ConstantsApp.ACHIEVEMENTS_ID,"X"!=this._sharedObjectId)){this._flagInitted=!0;for(var a,b=0,d=K.allEnums(c.Achievement);b<
d.length;)a=d[b],++b,a=c.Achievements.achievmentData(a),this.addAchievement(a.id,a.valueId,a.value,a.points);a=e.WorkinCloud.get_instance().sharedObjectGetData(this._sharedObjectId);if(0<F.fields(a).length){b=0;for(d=F.fields(a);b<d.length;){var m=d[b];++b;var f=F.field(a,m);this._achievements.get(m).achieved=f.achieved}}this._setScore();this._sharedObjectSetData();this._addEventListeners()}},__class__:e.WMAchievementManager};e._WMAchievementManager={};e._WMAchievementManager.AchievementDef=function(a,
b,d,c){this._valueId=a;this._value=b;this._points=d;this.achieved=c};l["com.workinman.utils._WMAchievementManager.AchievementDef"]=e._WMAchievementManager.AchievementDef;e._WMAchievementManager.AchievementDef.__name__=["com","workinman","utils","_WMAchievementManager","AchievementDef"];e._WMAchievementManager.AchievementDef.prototype={get_points:function(){return this._points},get_value:function(){return this._value},get_valueId:function(){return this._valueId},__class__:e._WMAchievementManager.AchievementDef};
e.WMAssetManager=function(){this.ID_MANIFEST_INDIVIDUAL="WMManifestIndividual";this._baseUrl="";this._assets=new w.StringMap;this._flump=new w.StringMap;this._packs=new w.StringMap;this._chunks=new w.StringMap;this._manifests=new w.StringMap;this._sheets=new w.StringMap;this._flagBaseIsCrossdomain=!1;this._loadingProgress=this._loadingTotal=this._manifestsLoaded=this._manifestsMax=0;this._loadingCallback=null;this._loadingPackProgress=new w.StringMap;this._fontCache=new w.StringMap};l["com.workinman.utils.WMAssetManager"]=
e.WMAssetManager;e.WMAssetManager.__name__=["com","workinman","utils","WMAssetManager"];e.WMAssetManager.prototype={getLibrary:function(a){return!1==this._flump.exists(a)?null:this._flump.get(a)},getFont:function(a,b){null==b&&(b=!0);if(!1==this._assets.exists(a))return null;if(!1==b)return new q.Font(this._assets.get(a).get_pack(),a);if(!1==this._fontCache.exists(a)){var d=new q.Font(this._assets.get(a).get_pack(),a);this._fontCache.set(a,d);d}return this._fontCache.get(a)},getXML:function(a){if(!1==
this._assets.exists(a))return null;a=x.parse(this.getFile(a).toString());return new E.Fast(a.firstElement())},getFile:function(a){return!1==this._assets.exists(a)?null:this._assets.get(a).get_constructed()?this._assets.get(a).get_data():this._assets.get(a).get_pack().getFile(this._assets.get(a).get_path(),!0)},getSound:function(a){a=e.WorkinUtils.removeExtension(a);return!1==this._assets.exists(a)?null:this._assets.get(a).get_constructed()?this._assets.get(a).get_data():this._assets.get(a).get_pack().getSound(this._assets.get(a).get_path(),
!0)},getSpriteRect:function(a){a=e.WorkinUtils.removeExtension(a);return!1==this._sheets.exists(a)?null:this._sheets.get(a).get_rect()},getTexture:function(a){a=e.WorkinUtils.removeExtension(a);return this._sheets.exists(a)?!1==this._assets.exists(this._sheets.get(a).get_atlas())?null:this._assets.get(this._sheets.get(a).get_atlas()).get_pack().getTexture(this._assets.get(this._sheets.get(a).get_atlas()).get_path(),!0):!1==this._assets.exists(a)?null:!0==this._assets.get(a).get_constructed()?this._assets.get(a).get_data():
this._assets.get(a).get_pack().getTexture(this._assets.get(a).get_path(),!0)},hasAsset:function(a){return this._sheets.exists(a)?!0:this._assets.exists(a)},_addSpritesheet:function(a,b,d){this._sheets.exists(a)&&this._sheets.get(a).dispose();this._sheets.set(a,new e._WMAssetManager.SpriteSheetDef(a,b,d))},_splitTextureBrackets:function(a){for(var b=a.length;0<b--;)if("{"==a.charAt(b)||"}"==a.charAt(b))a=a.substring(0,b)+a.substring(b+1,a.length);return a.split(",")},_parseSpritesheet:function(a){for(var b=
this.getFile(a+".plist"),d="",c=null,f=e.WorkinUtils.parsePropertyList(this.getFile(a+".plist").toString()).frames,g=F.fields(f),h=c=null,i=null,c=null,k=0;k<g.length;)d=g[k],++k,c=F.field(f,d),d=e.WorkinUtils.removeExtension(d),h=this._splitTextureBrackets(c.sourceColorRect),i=this._splitTextureBrackets(c.sourceSize),c=this._splitTextureBrackets(c.frame),c=new j.WMSpriteRect(v.parseInt(h[0]),v.parseInt(h[1]),v.parseInt(i[0]),v.parseInt(i[1]),v.parseInt(c[0]),v.parseInt(c[1]),v.parseInt(c[2]),v.parseInt(c[3])),
h=null,this._addSpritesheet(d,a,c),-1<d.indexOf("/")&&(h=d.split("/"),this._addSpritesheet(h[h.length-1],a,c));b.dispose()},_onAllLoadComplete:function(){if(null!=this._loadingCallback){var a=this._loadingCallback;this._loadingCallback=null;a()}},isLoading:function(){return this._manifestsLoaded<this._manifestsMax},_addPack:function(a){for(var b=null,d="",c=d="",f=A.iter(a.get_manifest()._entries);f.hasNext();){b=f.next();new e._WMAssetManager.AssetDef(b.name,b.format,this._assets,a);for(var b=b.name.split("/"),
d=b[b.length-1],c="",g=0,h=b.length-1;g<h;){var i=g++;""!=c&&(c+="/");c+=b[i]}"library.json"==d&&this._flump.set(b[b.length-2],new y.Library(a,b[b.length-2]));b=d.split(".");d=b[b.length-1];"plist"==d&&this._parseSpritesheet(0<c.length?c+"/"+b[0]:b[0])}},isPackLoaded:function(a){return this._packs.exists(a)},_loadingError:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(D.ConstantsCloud.EVENT_FILES_ERROR))},_loadManifest:function(a,b){var d=this,c=C._platform.loadAssetPack(a);
this._loadingTotal+=c._total;this._loadingPackProgress.set(b,0);c.error.connect(t(this,this._loadingError));c.progressChanged.connect(function(){var a=c._progress-d._loadingPackProgress.get(b);d._loadingPackProgress.set(b,c._progress);d._loadingProgress+=a;a=Math.round(100*(d._loadingProgress/d._loadingTotal));e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(D.ConstantsCloud.EVENT_FILES_LOADING,{value:a}))});c.get(function(a){d._addPack(a);d._packs.set(b,a);d._manifestsLoaded+=
1;d._manifestsLoaded>=d._manifestsMax&&d._onAllLoadComplete()})},_loadPack:function(a){var b=s.Manifest.build(a);""!=this._baseUrl&&(this._flagBaseIsCrossdomain?b.set_externalBasePath(this._baseUrl):b.set_relativeBasePath(this._baseUrl));this._loadManifest(b,a)},load:function(a,b,d,c,f){null==f&&(f=0);var g=this;if(null==a)throw"[WMAssetManager](load) Callback is null!";null==b&&(b=[]);null==d&&(d=[]);null==c&&(c=[]);for(var h=!0,i=0;i<b.length;){var j=b[i];++i;!1==this.isChunkLoaded(j)&&(h=!1)}for(i=
0;i<d.length;)j=d[i],++i,!1==this.isPackLoaded(j)&&(h=!1);0<c.length&&(h=!1);if(h)d=c=b=null,a();else if(!1==this.isLoading()&&e.WorkinCloud.get_instance().setInt(D.ConstantsCloud.INT_LOADING_PROGRESS,0),0<f)Q.delay(function(){g.load(a,b,d,c,0)},f);else{this._loadingCallback=a;for(i=0;i<b.length;)j=b[i],++i,this._addChunkToPackList(j,d,null);e.WorkinUtils.removeDuplicatesFromStringArray(d);for(i=0;i<d.length;)j=d[i],++i,!1==this.isPackLoaded(j)&&this._manifestsMax++;for(i=0;i<c.length;)f=c[i],++i,
this._manifestsMax++;for(i=0;i<d.length;)j=d[i],++i,!1==this.isPackLoaded(j)&&this._loadPack(j);f="";for(i=0;i<c.length;)f=c[i],++i,f=""==f?this.ID_MANIFEST_INDIVIDUAL:f,!1==this._manifests.exists(f)?null:this._loadManifest(this._manifests.get(f),f);c=d=b=f=null}},_parseChunk:function(a,b){for(var d=[],c=[],f=b.nodes.resolve("chunk").iterator();f.hasNext();){var g=f.next();d.push(g.get_innerData().toString())}for(f=b.nodes.resolve("pack").iterator();f.hasNext();)g=f.next(),c.push(g.get_innerData().toString());
return new e._WMAssetManager.ChunkDef(a,c,d)},_arrayContainsChunk:function(a,b){for(var d=0;d<a.length;){var c=a[d];++d;if(c==b)return!0}return!1},_addChunkToPackList:function(a,b,d){if(!1!=this._chunks.exists(a)){null==d&&(d=[a]);for(var c=0,f=this._chunks.get(a).get_chunkIds();c<f.length;){var g=f[c];++c;!1==this._arrayContainsChunk(d,g)&&(d.push(g),this._addChunkToPackList(g,b,d))}c=0;for(f=this._chunks.get(a).get_packIds();c<f.length;)a=f[c],++c,e.WorkinUtils.addStringToArrayWithoutDuplicates(a,
b)}},isChunkLoaded:function(a){if(!1==this._chunks.exists(a))return!1;for(var b=0,a=this._chunks.get(a).get_packIds();b<a.length;){var d=a[b];++b;if(!1==this.isPackLoaded(d))return!1}return!0},addChunk:function(a,b){var d=this._parseChunk(a,b);this._chunks.set(a,d)},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=!0;this.set_baseUrl(a)},set_baseUrl:function(a){return this._baseUrl=a},__class__:e.WMAssetManager};e._WMAssetManager={};e._WMAssetManager.AssetDef=function(a,b,d,c){this._constructed=
!1;this._path=a;a=a.split("/");this._id=a[a.length-1];this._data=this._pack=null;this._format=this._id;if(null!=b)switch(b[1]){case 2:this._format+=".png";break;case 3:this._format+=".jpg"}M.__instanceof(c,s.AssetPack)?this._pack=c:(this._constructed=!0,this._data=c);this._hash=d;this._hash.set(this._path,this);this._path!=this._id&&this._hash.set(this._id,this);this._format!=this._id&&this._hash.set(this._format,this)};l["com.workinman.utils._WMAssetManager.AssetDef"]=e._WMAssetManager.AssetDef;
e._WMAssetManager.AssetDef.__name__=["com","workinman","utils","_WMAssetManager","AssetDef"];e._WMAssetManager.AssetDef.prototype={get_pack:function(){return this._pack},get_path:function(){return this._path},get_data:function(){return this._data},get_constructed:function(){return this._constructed},__class__:e._WMAssetManager.AssetDef};e._WMAssetManager.ChunkDef=function(a,b,d){this._id=a;this._packs=b;this._chunks=d};l["com.workinman.utils._WMAssetManager.ChunkDef"]=e._WMAssetManager.ChunkDef;e._WMAssetManager.ChunkDef.__name__=
["com","workinman","utils","_WMAssetManager","ChunkDef"];e._WMAssetManager.ChunkDef.prototype={get_chunkIds:function(){return this._chunks},get_packIds:function(){return this._packs},__class__:e._WMAssetManager.ChunkDef};e._WMAssetManager.SpriteSheetDef=function(a,b,d){this._id=a;this._rect=d;this._atlas=b};l["com.workinman.utils._WMAssetManager.SpriteSheetDef"]=e._WMAssetManager.SpriteSheetDef;e._WMAssetManager.SpriteSheetDef.__name__=["com","workinman","utils","_WMAssetManager","SpriteSheetDef"];
e._WMAssetManager.SpriteSheetDef.prototype={get_rect:function(){return this._rect},get_atlas:function(){return this._atlas},dispose:function(){this._atlas=this._rect=this._id=null},__class__:e._WMAssetManager.SpriteSheetDef};e.WMInput=function(){this._multiTouchAvail=!1;this._inputDown=new w.StringMap;this._keyCodes=new w.StringMap;this._virtualCodes=new w.StringMap;this._keyDown=new w.StringMap;this._virtualDown=new w.StringMap;this._touchList=new w.StringMap;this._touchRemoval=[];this.registerInput("input_click");
this._scale=1;this._offset=f.WorkinPoint.request();this._pointer=e.WMPointer.request("",0)};l["com.workinman.utils.WMInput"]=e.WMInput;e.WMInput.__name__=["com","workinman","utils","WMInput"];e.WMInput.prototype={_onPointerUp:function(a){this._inputDown.set("input_click",!1);this._pointer.end(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").end(this._pointer.get_currentPos().x,this._pointer.get_currentPos().y);
e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventInput.request(0,"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,a.viewX,a.viewY,this._pointer.get_swipe()))},_onPointerMove:function(a){this._pointer.move(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").move(this._pointer.get_currentPos().x,this._pointer.get_currentPos().y);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventInput.request(2,
"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,a.viewX,a.viewY,this._pointer.get_swipe()))},_onPointerDown:function(a){this._inputDown.set("input_click",!0);this._pointer.begin(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));if(!1==this._multiTouchAvail){var b=e.WMPointer.request("const",0);b.begin(this._pointer.get_currentPos().x,this._pointer.get_currentPos().y);this._touchList.set("const",b)}e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventInput.request(1,
"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,a.viewX,a.viewY,this._pointer.get_swipe()))},_onTouchUp:function(a){var b=this._touchList.get(v.string(a.id));b.end(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));0<b.get_index()&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventInput.request(0,"input_click",b.get_currentPos().x,b.get_currentPos().y,a.viewX,a.viewY,b.get_swipe()))},_onTouchMove:function(a){var b=this._touchList.get(v.string(a.id));
b.move(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));0<b.get_index()&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventInput.request(2,"input_click",b.get_currentPos().x,b.get_currentPos().y,a.viewX,a.viewY,b.get_swipe()))},_onTouchDown:function(a){this._searchIndex=0;this._searchFound=!1;do{this._searchFound=!0;for(var b=function(a){return function(){return a.iterator()}}(this._touchList)();b.hasNext();)if(this._searchIndex==b.next().get_index()){this._searchIndex++;
this._searchFound=!1;break}}while(!1==this._searchFound);b=e.WMPointer.request(v.string(a.id),this._searchIndex);this._touchList.set(b.get_id(),b);b.begin(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));0<this._searchIndex&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventInput.request(1,"input_click",b.get_currentPos().x,b.get_currentPos().y,a.viewX,a.viewY,b.get_swipe()));b=null},_sanitizeY:function(a,b,d){null==d&&(d=!0);return d&&e.JSEmbedProxy.get_exists()&&
e.JSEmbedProxy.get_isPortrait()?this._sanitizeY(b,e.JSEmbedProxy.get_canvasHeight()*D.ConstantsCloud.scaleFactor-a,!1):b/this._scale+this._offset.y},_sanitizeX:function(a,b,d){null==d&&(d=!0);return d&&e.JSEmbedProxy.get_exists()&&e.JSEmbedProxy.get_isPortrait()?this._sanitizeX(b,a,!1):a/this._scale+this._offset.x},_isInputDown:function(a){for(var b=0,d=this._keyCodes.get(a);b<d.length;){var c=d[b];++b;if(!0==this._keyDown.get(c))return!0}b=0;for(d=this._virtualCodes.get(a);b<d.length;)if(a=d[b],
++b,!0==this._virtualDown.get(a))return!0;return!1},_onKeyUp:function(a){this._keyDown.exists(v.string(a.key))&&this._keyDown.set(v.string(a.key),!1);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(D.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY,{key:a.key,state:0}))},_onKeyDown:function(a){this._keyDown.exists(v.string(a.key))&&this._keyDown.set(v.string(a.key),!0);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(D.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY,
{key:a.key,state:1}))},getInput:function(a){return this._inputDown.get(a)},registerInput:function(a,b,d){!1==this._inputDown.exists(a)&&(this._inputDown.set(a,!1),this._keyCodes.set(a,[]),this._virtualCodes.set(a,[]));if(null!=b)for(var c=0;c<b.length;){var e=b[c];++c;this._keyCodes.get(a).push(v.string(e));this._keyDown.set(v.string(e),!1)}if(null!=d)for(c=0;c<d.length;)b=d[c],++c,this._virtualCodes.get(a).push(b),this._virtualDown.set(b,!1)},doDepthTestOnWorldCoordinates:function(a,b){return q.Sprite.hitTest(C.root,
a,b)},prime:function(){this._multiTouchAvail=C._platform.getTouch().get_supported();C._platform.getKeyboard().down.connect(t(this,this._onKeyDown));C._platform.getKeyboard().up.connect(t(this,this._onKeyUp));this._multiTouchAvail&&(C._platform.getTouch().down.connect(t(this,this._onTouchDown)),C._platform.getTouch().move.connect(t(this,this._onTouchMove)),C._platform.getTouch().up.connect(t(this,this._onTouchUp)));C._platform.getPointer().down.connect(t(this,this._onPointerDown));C._platform.getPointer().move.connect(t(this,
this._onPointerMove));C._platform.getPointer().up.connect(t(this,this._onPointerUp))},get_pointer:function(){return this._pointer},get_offset:function(){return this._offset},set_scale:function(a){this._scale=a;0==this._scale&&(this._scale=0.01);return this._scale},update:function(a){for(var b=this._inputDown.keys();b.hasNext();){var d=b.next();"input_click"!=d&&(!0==this._inputDown.get(d)?!1==this._isInputDown(d)&&(this._inputDown.set(d,!1),e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventInput.request(0,
d,0,0,0,0))):!0==this._isInputDown(d)&&(this._inputDown.set(d,!0),e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventInput.request(1,d,0,0,0,0))))}this._pointer.update(a);for(b=function(a){return function(){return a.iterator()}}(this._touchList)();b.hasNext();)d=b.next(),d.get_phase()==o.WMEventInput.PHASE_UP?this._touchRemoval.push(d.get_id()):d.update(a);for(;0<this._touchRemoval.length;)this._touchList.get(this._touchRemoval[this._touchRemoval.length-1]).dispose(),this._touchList.remove(this._touchRemoval[this._touchRemoval.length-
1]),this._touchRemoval.pop()},__class__:e.WMInput};e.SWIPE=l["com.workinman.utils.SWIPE"]={__ename__:["com","workinman","utils","SWIPE"],__constructs__:["SWIPE_NONE","SWIPE_LEFT","SWIPE_RIGHT","SWIPE_UP","SWIPE_DOWN"]};e.SWIPE.SWIPE_NONE=["SWIPE_NONE",0];e.SWIPE.SWIPE_NONE.toString=n;e.SWIPE.SWIPE_NONE.__enum__=e.SWIPE;e.SWIPE.SWIPE_LEFT=["SWIPE_LEFT",1];e.SWIPE.SWIPE_LEFT.toString=n;e.SWIPE.SWIPE_LEFT.__enum__=e.SWIPE;e.SWIPE.SWIPE_RIGHT=["SWIPE_RIGHT",2];e.SWIPE.SWIPE_RIGHT.toString=n;e.SWIPE.SWIPE_RIGHT.__enum__=
e.SWIPE;e.SWIPE.SWIPE_UP=["SWIPE_UP",3];e.SWIPE.SWIPE_UP.toString=n;e.SWIPE.SWIPE_UP.__enum__=e.SWIPE;e.SWIPE.SWIPE_DOWN=["SWIPE_DOWN",4];e.SWIPE.SWIPE_DOWN.toString=n;e.SWIPE.SWIPE_DOWN.__enum__=e.SWIPE;e.WMPointer=function(){};l["com.workinman.utils.WMPointer"]=e.WMPointer;e.WMPointer.__name__=["com","workinman","utils","WMPointer"];e.WMPointer.__interfaces__=[e.pooling.IStrictPoolable];e.WMPointer.request=function(a,b){return e.WorkinCloud.get_instance().get_pool().requestObject("WMPointer",e.WMPointer).init(a,
b)};e.WMPointer.__super__=e.pooling.PoolStrictBase;e.WMPointer.prototype=u(e.pooling.PoolStrictBase.prototype,{update:function(a){this._resetDeltaLine=!0;this._timer-=a;0>this._timer&&(this._timer=e.WMPointer._DELTA_TIMEOUT,this._deltaLine.originToPoint(this._current))},_updateInfo:function(a,b){this._last.toPoint(this._current);this._current.to(a,b);this._current.x+=this._camera.get_pos().x-this._camera.get_screenCenterX();this._current.y+=this._camera.get_pos().y-this._camera.get_screenCenterY();
this._delta.toPoint(this._current);this._delta.subtractPoint(this._last);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._motionDelta.get_p1(),this._current)},_testSwipe:function(){!1==this._consumed?(this._workPoint.to(this._origin.x-this._current.x,this._origin.y-this._current.y),this._swipe=Math.abs(this._workPoint.x)>=e.WMPointer._DELTA_ALLOWANCE&&Math.abs(this._workPoint.y)<e.WMPointer._DELTA_ALLOWANCE?0<this._workPoint.x?e.SWIPE.SWIPE_LEFT:e.SWIPE.SWIPE_RIGHT:Math.abs(this._workPoint.y)>=
e.WMPointer._DELTA_ALLOWANCE&&Math.abs(this._workPoint.x)<e.WMPointer._DELTA_ALLOWANCE?0<this._workPoint.y?e.SWIPE.SWIPE_UP:e.SWIPE.SWIPE_DOWN:e.SWIPE.SWIPE_NONE):this._swipe=e.SWIPE.SWIPE_NONE},end:function(a,b){this._phase=o.WMEventInput.PHASE_UP;this._updateInfo(a,b);this._testSwipe();this._line.endToPoint(this._current)},move:function(a,b){this._updateInfo(a,b);!1!=e.WorkinCloud.get_instance().get_input().getInput("input_click")&&(this._phase=o.WMEventInput.PHASE_MOVE,this._testSwipe(),this._line.endToPoint(this._current))},
begin:function(a,b){this._origin.to(a,b);this._origin.x+=this._camera.get_pos().x-this._camera.get_screenCenterX();this._origin.y+=this._camera.get_pos().y-this._camera.get_screenCenterY();this._current.toPoint(this._origin);this._last.toPoint(this._origin);this._delta.to(0,0);this._line.to(this._origin,this._current);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._origin,this._current);this._consumed=!1;this._phase=o.WMEventInput.PHASE_DOWN;this._swipe=e.SWIPE.SWIPE_NONE},
setCamera:function(a){null!=a?this._camera=a:(this._personalCamera.get_pos().to(0,0),this._camera=this._personalCamera)},get_deltaLine:function(){if(!1==this._resetDeltaLine)return this._deltaLine;this._deltaLine.endToPoint(this._current);this._resetDeltaLine=!1;return this._deltaLine},get_motionDelta:function(){return this._motionDelta},set_index:function(a){return this._index=a},get_index:function(){return this._index},get_id:function(){return this._id},set_consumed:function(a){return this._consumed=
a},get_consumed:function(){return this._consumed},get_swipe:function(){return this._swipe},get_line:function(){return this._line},get_deltaPos:function(){return this._delta},get_lastPos:function(){return this._last},get_currentPos:function(){return this._current},get_originPos:function(){return this._origin},get_phase:function(){return this._phase},destroy:function(){this._personalCamera.dispose();this._personalCamera=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){this._motionDelta.dispose();
this._motionDelta=null;this._workPoint.dispose();this._workPoint=null;this._origin.dispose();this._origin=null;this._current.dispose();this._current=null;this._last.dispose();this._last=null;this._delta.dispose();this._delta=null;this._line.dispose();this._line=null;this._deltaLine.dispose();this._camera=this._deltaLine=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b){this._origin=f.WorkinPoint.request();this._current=f.WorkinPoint.request();this._last=f.WorkinPoint.request();
this._delta=f.WorkinPoint.request();this._workPoint=f.WorkinPoint.request();this._motionDelta=f.WorkinLine.request();this._line=f.WorkinLine.request();this._deltaLine=f.WorkinLine.request();this._camera=this._personalCamera;this._resetDeltaLine=!0;this._timer=e.WMPointer._DELTA_TIMEOUT;this._id=a;this._index=b;this._phase=o.WMEventInput.PHASE_UP;this._swipe=e.SWIPE.SWIPE_NONE;this._consumed=!1;return this},create:function(){this._personalCamera=new f.WorkinCamera(0,0)},__class__:e.WMPointer,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,
{get_phase:"get_phase",get_originPos:"get_originPos",get_currentPos:"get_currentPos",get_lastPos:"get_lastPos",get_deltaPos:"get_deltaPos",get_line:"get_line",get_swipe:"get_swipe",set_consumed:"set_consumed",get_consumed:"get_consumed",get_id:"get_id",set_index:"set_index",get_index:"get_index",get_motionDelta:"get_motionDelta",get_deltaLine:"get_deltaLine"})});e.WMLocalize=function(){};l["com.workinman.utils.WMLocalize"]=e.WMLocalize;e.WMLocalize.__name__=["com","workinman","utils","WMLocalize"];
e.WMLocalize.prototype={getString:function(a,b){null==b&&(b="");var d=this.getLocalizeData(a,b),c=d.get_string();d.dispose();return c},getLocalizeData:function(a,b){null==b&&(b="");""==b&&(b=D.ConstantsCloud.LOCALIZATION_XML_PATH+"translation_"+e.WorkinCloud.get_instance().getString(D.ConstantsCloud.STRING_REGION_ID)+".xml");for(var d=e.WorkinCloud.get_instance().get_assets().getXML(b).nodes.resolve("string").iterator();d.hasNext();){var c=d.next();if(c.att.resolve("id")==a)return e.WMLocalizedData.request(c.att.resolve("id"),
c.get_innerData(),c.att.resolve("fontName"),v.parseFloat(c.att.resolve("fontScale")),v.parseFloat(c.att.resolve("offsetX")),v.parseFloat(c.att.resolve("offsetY")))}return e.WMLocalizedData.request(a,"","",1,0,0)},__class__:e.WMLocalize};e.WMLocalizedData=function(){};l["com.workinman.utils.WMLocalizedData"]=e.WMLocalizedData;e.WMLocalizedData.__name__=["com","workinman","utils","WMLocalizedData"];e.WMLocalizedData.__interfaces__=[e.pooling.IStrictPoolable];e.WMLocalizedData.request=function(a,b,d,
c,f,g){return e.WorkinCloud.get_instance().get_pool().requestObject("WMLocalizedData",e.WMLocalizedData).init(a,b,d,c,f,g)};e.WMLocalizedData.__super__=e.pooling.PoolStrictBase;e.WMLocalizedData.prototype=u(e.pooling.PoolStrictBase.prototype,{get_offsetY:function(){return this._offsetY},get_offsetX:function(){return this._offsetX},get_scale:function(){return this._scale},get_fontName:function(){return this._fontName},get_string:function(){return this._string},get_id:function(){return this._id},init:function(a,
b,d,c,e,f){this._id=a;this._string=b;this._fontName=d;this._scale=c;this._offsetX=e;this._offsetY=f;return this},__class__:e.WMLocalizedData,__properties__:u(e.pooling.PoolStrictBase.prototype.__properties__,{get_id:"get_id",get_string:"get_string",get_fontName:"get_fontName",get_scale:"get_scale",get_offsetX:"get_offsetX",get_offsetY:"get_offsetY"})});e.WMRandom=function(){this._sessions=new w.StringMap;this._randomSeeds=new w.StringMap};l["com.workinman.utils.WMRandom"]=e.WMRandom;e.WMRandom.__name__=
["com","workinman","utils","WMRandom"];e.WMRandom.prototype={getRandomInt:function(a,b,d){null==d&&(d="");return Math.floor(this.getRandomFloat(a,b,d))},getRandomFloat:function(a,b,d){null==d&&(d="");return a+this.random(d)*(b+1-a)},random:function(a){null==a&&(a="");return""==a||null==this._randomSeeds.get(a)?Math.random():this._randomSeeds.get(a).random()},__class__:e.WMRandom};e.WeightTracker=function(){};l["com.workinman.utils.WeightTracker"]=e.WeightTracker;e.WeightTracker.__name__=["com","workinman",
"utils","WeightTracker"];e.WMSeededRandom=function(){};l["com.workinman.utils.WMSeededRandom"]=e.WMSeededRandom;e.WMSeededRandom.__name__=["com","workinman","utils","WMSeededRandom"];e.WMSeededRandom.prototype={random:function(){return this._randomInt()/1073741823},_randomInt:function(){return this.set_seed(16807*this.get_seed()%2147483647)&1073741823},set_seed:function(a){this._seed=a;return this.get_seed()},get_seed:function(){return this._seed},__class__:e.WMSeededRandom};e.WMSound=function(){this._musicId=
"";this._musicGain=1;this._musicPlaying=null;this._flagSystemMute=this._flagMuted=!1;this._mixer=new I.Mixer;this._sounds=new w.StringMap;this._soundRemoval=[];this._tween=f.tween.WorkinTweener.request();this.__voCallback=null;this._voQueue=[];this._voTimeoutList=new w.StringMap;this._voTimeoutRemove=[];this._voCurrent=null;this._voQueueTimer=-1};l["com.workinman.utils.WMSound"]=e.WMSound;e.WMSound.__name__=["com","workinman","utils","WMSound"];e.WMSound.prototype={_purgeVOCallback:function(a){if(null==
this.__voCallback)this.__voCallback=a;else{var b=this.__voCallback;this.__voCallback=a;b()}},_continueVO:function(){var a="";if(0<this._voQueue.length){null!=this._musicPlaying&&this._tween.tween(this._musicPlaying,0.15,{volume:0.25},!0,f.tween.Ease.EASE);null!=this._voCurrent&&this._voCurrent.id!=this._voQueue[0]&&(this._voCurrent.doDelete=!0,this._voCurrent.volume=0);var a=this._voQueue.shift(),b=v.parseFloat(a);!1==Math.isNaN(b)?(e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(D.ConstantsCloud.EVENT_VO_PAUSED)),
this._voQueueTimer=b):(e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(D.ConstantsCloud.EVENT_VO_STARTED)),this._voCurrent=this.playSound(a,1.2,!0,t(this,this._continueVO)))}else null!=this._musicPlaying&&this._tween.tween(this._musicPlaying,0.2,{volume:1},!0,f.tween.Ease.EASE),e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(D.ConstantsCloud.EVENT_VO_ENDED)),this._purgeVOCallback(null)},update:function(a){D.ConstantsCloud.getSupportsSingleMusicTrackOnly()&&
null!=this._musicPlaying&&0.95<=this._musicPlaying.get_playback().get_position()/this._musicPlaying.get_sound().get_duration()&&F.setProperty(this._musicPlaying.get_playback(),"position",0);for(var b=function(a){return function(){return a.iterator()}}(this._sounds)();b.hasNext();){var d=b.next();d.doDelete?(d.dispose(),this._soundRemoval.push(d.id)):d.update(a)}for(;0<this._soundRemoval.length;)this._sounds.remove(this._soundRemoval.pop());null!=this._musicPlaying&&this._musicPlaying.update(a);this._tween.update(a);
0<this._voQueueTimer&&(this._voQueueTimer-=a,0>=this._voQueueTimer&&(this._voQueueTimer=-1,this._continueVO()));for(b=this._voTimeoutList.keys();b.hasNext();){var c=d=b.next(),e=this._voTimeoutList.get(c)-a;this._voTimeoutList.set(c,e);e;0>=this._voTimeoutList.get(d)&&this._voTimeoutRemove.push(d)}for(;0<this._voTimeoutRemove.length;)this._voTimeoutList.remove(this._voTimeoutRemove.pop())},_muteMusic:function(a){""!=this._musicId&&(a?this._musicPlaying=null:(null!=this._musicPlaying&&(this._musicPlaying.dispose(),
this._musicPlaying.doDelete=!0,this._musicPlaying=null),a=e.WorkinCloud.get_instance().get_assets().getSound(this._musicId),null!=a&&(this._musicPlaying=a=new e.SoundDef(this._musicId,this._mixer.newSound(a,1),!0),a.playSound(this._musicGain,null))))},playMusic:function(a,b){null==b&&(b=1);if(!(D.ConstantsCloud.getSupportsNoAudio()||D.ConstantsCloud.getSupportsSingleMusicTrackOnly()&&null!=this._musicPlaying)&&this._musicId!=a)if(this._musicId=a,this._musicGain=b,!(this.getMute()||""==a)){null!=this._musicPlaying&&
this._musicPlaying.dispose();var d=e.WorkinCloud.get_instance().get_assets().getSound(a);null==d?this._musicId="":(this._musicPlaying=d=new e.SoundDef(a,this._mixer.newSound(d,1),!0),d.playSound(b,null))}},_muteAllToggle:function(a){if(D.ConstantsCloud.getSupportsSingleMusicTrackOnly())null!=this._musicPlaying&&(this._musicPlaying.volume=a?0:0.5);else if(a){null!=this._musicPlaying&&(this._musicPlaying.dispose(),this._musicPlaying.doDelete=!0);for(a=function(a){return function(){return a.iterator()}}(this._sounds)();a.hasNext();){var b=
a.next();!1==b.get_forceOn()&&(b.dispose(),b.doDelete=!0)}this._muteMusic(!0)}else a||this._muteMusic(!1)},playSound:function(a,b,d,c){null==d&&(d=!1);null==b&&(b=1);if((this.getMute()||!1==D.ConstantsCloud.getSupportsAllAudio())&&!1==d)return null!=c&&c(),null;if(this._sounds.exists(a))return this._sounds.get(a).playSound(b,c);var f=e.WorkinCloud.get_instance().get_assets().getSound(a);if(null==f)return null;d=new e.SoundDef(a,this._mixer.newSound(f,4),!1,d);this._sounds.set(a,d);return d.playSound(b,
c)},setMute:function(a){this._flagMuted=a;this._flagSystemMute||this._muteAllToggle(this._flagMuted)},getMute:function(){return this._flagSystemMute||this._flagMuted},__class__:e.WMSound};e.SoundDef=function(a,b,d,c){null==c&&(c=!1);null==d&&(d=!1);this._complete=null;this.doDelete=!1;this.id=a;this.isMusic=d;this._maxVol=this.volume=1;this._flagPlayed=this._flagHasSound=!1;this._sound=b;this._force=c};l["com.workinman.utils.SoundDef"]=e.SoundDef;e.SoundDef.__name__=["com","workinman","utils","SoundDef"];
e.SoundDef.prototype={playSound:function(a,b){null==a&&(a=1);if(null==this._sound)return null;this._maxVol=a;this.volume=1;this.isMusic?this._playback=this._sound.loop(a):(null!=b&&(this._complete=b),this._playback=this._sound.play(a));return this},update:function(){this._playback.volume.set__(this._maxVol*this.volume);if(this._playback.get_paused()||this._playback.get_ended())if(this.doDelete=!0,null!=this._complete){var a=this._complete;this._complete=null;a()}},get_playback:function(){return this._playback},
get_sound:function(){return this._sound},get_forceOn:function(){return this._force},dispose:function(){null!=this._playback&&(this._playback.dispose(),this._playback=null);null!=this._sound&&this._sound.dispose()},__class__:e.SoundDef};e.WorkinCloud=function(){this._TIMER_STACK=0.1;this._poolStore=new e.pooling.PoolStore;this._values=new w.StringMap;this._defaults=new w.StringMap};l["com.workinman.utils.WorkinCloud"]=e.WorkinCloud;e.WorkinCloud.__name__=["com","workinman","utils","WorkinCloud"];e.WorkinCloud.get_instance=
function(){null==e.WorkinCloud.__instance&&(e.WorkinCloud.__instance=new e.WorkinCloud,e.WorkinCloud.__instance.init());return e.WorkinCloud.__instance};e.WorkinCloud.prototype={_updateStack:function(a){1>this._stack.length||this._flagStackPaused||(this._timerStack-=a,0>this._timerStack&&(this._stack[0](),this._stack.shift(),this._timerStack=this._TIMER_STACK))},unpauseStack:function(){this._flagStackPaused=!1},pauseStack:function(){this._flagStackPaused=!0},update:function(a){this._updateStack(a);
this._input.update(a)},stack:function(a){this._timerStack=this._TIMER_STACK;for(var b=0;b<a.length;){var d=a[b];++b;this._stack.push(d)}},_updateDisplays:function(a){this._dispatcher.dispatchEvent(o.WMEventData.request(j.Display.EVENT_UPDATE_DISPLAY,{valueID:a}))},sharedObjectSetData:function(a,b){try{var d=S.WMSharedObject.getLocal(a);d.set_data(b);d.flush();d.dispose()}catch(c){null}},sharedObjectGetData:function(a){try{var b=S.WMSharedObject.getLocal(a),d=b.get_data();b.dispose();return d}catch(c){return{}}},
resetValue:function(a){var b=this._defaults.get(a);this._values.set(a,b);this._updateDisplays(a)},modifyValue:function(a,b){null==b&&(b=1);this._values.set(a,this.getFloat(a)+b);this._updateDisplays(a);return this.getFloat(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},getValue:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},getString:function(a){return this._values.get(a)},
setString:function(a,b){this.setValue(a,b)},getInt:function(a){return this._values.get(a)},modifyInt:function(a,b){return Math.floor(this.modifyValue(a,b))},setInt:function(a,b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},getBool:function(a){return this._values.get(a)},setBool:function(a,b){this.setValue(a,b)},get_achievements:function(){return this._achievements},get_pool:function(){return this._poolStore},get_localize:function(){return this._localize},get_random:function(){return this._random},
get_sound:function(){return this._sound},get_assets:function(){return this._assets},get_input:function(){return this._input},get_dispatcher:function(){return this._dispatcher},init:function(){this._dispatcher=o.WMEventDispatcher.request();this._input=new e.WMInput;this._assets=new e.WMAssetManager;this._sound=new e.WMSound;this._random=new e.WMRandom;this._localize=new e.WMLocalize;this._achievements=new e.WMAchievementManager;this._stack=[];this._timerStack=-1;this._flagStackPaused=!1;this.setString(D.ConstantsCloud.STRING_REGION_ID,
"en")},__class__:e.WorkinCloud};e.WorkinUtils=function(){};l["com.workinman.utils.WorkinUtils"]=e.WorkinUtils;e.WorkinUtils.__name__=["com","workinman","utils","WorkinUtils"];e.WorkinUtils.mapWithKeysAndValues=function(a){for(var b=new w.StringMap,d=0;d<a.length-1;)b.set(a[d],a[d+1]),d+=2;return b};e.WorkinUtils.emptyMap=function(a){for(var b=a.keys();b.hasNext();){var d=b.next();e.WorkinUtils._mapEmpty.push(d)}for(;0<e.WorkinUtils._mapEmpty.length;)a.remove(e.WorkinUtils._mapEmpty.pop())};e.WorkinUtils.removePropertiesFromDynamic=
function(a){for(var b=0,d=F.fields(a);b<d.length;){var c=d[b];++b;F.deleteField(a,c)}};e.WorkinUtils.parsePropertyList=function(a){return e.PropertyList.parse(a)};e.WorkinUtils.clamp=function(a,b,d,c){null==c&&(c=!1);c?a>d?a=b:a<b&&(a=d):a>d?a=d:a<b&&(a=b);return a};e.WorkinUtils.removeExtension=function(a){var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};e.WorkinUtils.addStringToArrayWithoutDuplicates=function(a,b){for(var d=0;d<b.length;){var c=b[d];++d;if(c==a)return}b.push(a)};e.WorkinUtils.removeDuplicatesFromStringArray=
function(a){for(var b=[],d=0;d<a.length;){var c=a[d];++d;e.WorkinUtils.addStringToArrayWithoutDuplicates(c,b)}return b};e.PropertyList=function(){};l["com.workinman.utils.PropertyList"]=e.PropertyList;e.PropertyList.__name__=["com","workinman","utils","PropertyList"];e.PropertyList.parse=function(a){var a=new E.Fast(x.parse(a).firstElement()),b={};a.hasNode.resolve("dict")?b=e.PropertyList._parseDict(a.node.resolve("dict")):a.hasNode.resolve("array")&&(b=e.PropertyList._parseValue(a.node.resolve("array")));
return b};e.PropertyList._parseDate=function(a){if(!e.PropertyList._dateRegex.match(a))throw'Invalid date "'+a+'" (only yyyy-mm-dd and yyyy-mm-ddThh:mm:ssZ supported)';a=e.PropertyList._dateRegex.matched(1);null!=e.PropertyList._dateRegex.matched(2)&&(a+=" "+e.PropertyList._dateRegex.matched(2));return A.strDate(a)};e.PropertyList._parseDict=function(a){for(var b=null,d={},a=a.get_elements();a.hasNext();){var c=a.next();"key"==c.get_name()?b=c.get_innerData():null!=b&&(d[b]=e.PropertyList._parseValue(c))}return d};
e.PropertyList._parseValue=function(a){var b=null;switch(a.get_name()){case "array":b=[];for(a=a.get_elements();a.hasNext();){var d=a.next();b.push(e.PropertyList._parseValue(d))}break;case "dict":b=e.PropertyList._parseDict(a);break;case "date":b=e.PropertyList._parseDate(a.get_innerData());break;case "string":b=a.get_innerData();break;case "data":b=a.get_innerData();break;case "true":b=!0;break;case "false":b=!1;break;case "real":b=v.parseFloat(a.get_innerData());break;case "integer":b=v.parseInt(a.get_innerData())}return b};
e.pooling.LOG_LEVEL=l["com.workinman.utils.pooling.LOG_LEVEL"]={__ename__:["com","workinman","utils","pooling","LOG_LEVEL"],__constructs__:["NONE","NO_STACK","NEW_STACK","ALL_STACK"]};e.pooling.LOG_LEVEL.NONE=["NONE",0];e.pooling.LOG_LEVEL.NONE.toString=n;e.pooling.LOG_LEVEL.NONE.__enum__=e.pooling.LOG_LEVEL;e.pooling.LOG_LEVEL.NO_STACK=["NO_STACK",1];e.pooling.LOG_LEVEL.NO_STACK.toString=n;e.pooling.LOG_LEVEL.NO_STACK.__enum__=e.pooling.LOG_LEVEL;e.pooling.LOG_LEVEL.NEW_STACK=["NEW_STACK",2];e.pooling.LOG_LEVEL.NEW_STACK.toString=
n;e.pooling.LOG_LEVEL.NEW_STACK.__enum__=e.pooling.LOG_LEVEL;e.pooling.LOG_LEVEL.ALL_STACK=["ALL_STACK",3];e.pooling.LOG_LEVEL.ALL_STACK.toString=n;e.pooling.LOG_LEVEL.ALL_STACK.__enum__=e.pooling.LOG_LEVEL;e.pooling.PoolStore=function(){this._pools=new w.StringMap};l["com.workinman.utils.pooling.PoolStore"]=e.pooling.PoolStore;e.pooling.PoolStore.__name__=["com","workinman","utils","pooling","PoolStore"];e.pooling.PoolStore.prototype={tracePoolReport:function(){for(var a="\nPool Report:\n\n",b=0,
d=this._pools.keys();d.hasNext();){var c=d.next(),a=a+("\t"+c+"\n"),b=this._pools.get(c).get_created()-this._pools.get(c).get_numPooled(),a=a+("\t\tTotal Created: "+this._pools.get(c).get_created()+" \t\tPool: "+this._pools.get(c).get_numPooled()+" \t\t\tLoose: "+b+" \t\t\tChange: "+(b-this._pools.get(c).get_loose()));this._pools.get(c).set_loose(b);a+="\n"}null},_testPool:function(a,b,d,c){null==c&&(c=-1);!1==this._pools.exists(a)&&this._initPool(a,b,d,c)},_logReturn:function(a,b){switch(b.get_log()[1]){case 0:case 2:break;
case 3:null;break;default:null}},_returnObject:function(a){if(!1!=this._pools.exists(a.get_poolKey())){var b=this._pools.get(a.get_poolKey());b.poolObject(a);this._logReturn(a.get_poolKey(),b)}},_logCreate:function(a,b){switch(b.get_log()[1]){case 1:null;break;case 2:1>b.get_numPooled()&&null;break;case 3:null}},requestObject:function(a,b,d,c){null==c&&(c=-1);this._testPool(a,b,d,c);d=this._pools.get(a);this._logCreate(a,d);if(0<d.get_numPooled())a=d.givePool(),a.poolActivate();else{d.incrementCreated();
if(0<d.get_cap()&&d.get_created()>d.get_cap())throw"Too many instances of "+v.string(b)+" allocated - currently at "+d.get_created();a=K.createEmptyInstance(b).instance(a,t(this,this._returnObject))}return a},_initPool:function(a,b,d,c){null==c&&(c=-1);!0!=this._pools.exists(a)&&(null==d&&(d=e.pooling.LOG_LEVEL.NONE),this._pools.set(a,new e.pooling.PoolTracker(b,d,c)))},__class__:e.pooling.PoolStore};e.pooling.PoolTracker=function(a,b,d){this._pool=[];this._class=a;this._log=b;this._created=this._max=
0;this._cap=d;this._loose=0};l["com.workinman.utils.pooling.PoolTracker"]=e.pooling.PoolTracker;e.pooling.PoolTracker.__name__=["com","workinman","utils","pooling","PoolTracker"];e.pooling.PoolTracker.prototype={givePool:function(){return this._pool.pop()},poolObject:function(a){this._pool.push(a);this._max=H.FMath.max(this._max,this._pool.length)},incrementCreated:function(){this._created++},set_loose:function(a){this._loose=a;return this.get_loose()},get_loose:function(){return this._loose},get_cap:function(){return this._cap},
get_created:function(){return this._created},get_numPooled:function(){return this._pool.length},get_log:function(){return this._log},__class__:e.pooling.PoolTracker};L=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};l["flambe.Entity"]=L;L.__name__=["flambe","Entity"];L.__interfaces__=[r.Disposable];L.prototype={dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},
disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},removeChild:function(a){for(var b=null,d=this.firstChild;null!=d;){var c=d.next;if(d==a){null==b?this.firstChild=c:b.next=c;d.parent=null;d.next=null;break}b=d;d=c}},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var d=null,c=this.firstChild;null!=c;)d=c,c=c.next;null!=d?d.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},remove:function(a){for(var b=
null,d=this.firstComponent;null!=d;){var c=d.next;if(d==a)return null==b?this.firstComponent=c:b.init(this,c),delete this._compMap[d.get_name()],d.onRemoved(),d.init(null,null),!0;b=d;d=c}return!1},add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),d=this._compMap[b];null!=d&&this.remove(d);this._compMap[b]=a;b=null;for(d=this.firstComponent;null!=d;)b=d,d=d.next;null!=b?b.next=a:this.firstComponent=a;a.init(this,null);a.onAdded();return this},__class__:L};k={Platform:function(){}};
l["flambe.platform.Platform"]=k.Platform;k.Platform.__name__=["flambe","platform","Platform"];k.Platform.prototype={__class__:k.Platform};k.html={};k.html.HtmlPlatform=function(){};l["flambe.platform.html.HtmlPlatform"]=k.html.HtmlPlatform;k.html.HtmlPlatform.__name__=["flambe","platform","html","HtmlPlatform"];k.html.HtmlPlatform.__interfaces__=[k.Platform];k.html.HtmlPlatform.prototype={createRenderer:function(a){return new k.html.CanvasRenderer(a)},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/
b.height},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getRenderer:function(){return this._renderer},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new k.BasicKeyboard;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getTouch:function(){return this._touch},
getPointer:function(){return this._pointer},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;C.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getTime:function(){return Date.now()/1E3},getStage:function(){return this._stage},loadAssetPack:function(a){return(new k.html.HtmlAssetPackLoader(this,a)).promise},useMonotonicTimer:function(){var a=this;this._lastUpdate=Date.now();var b=k.html.HtmlUtil.loadExtension("requestAnimationFrame").value;
if(null!=b){var d=z.window.performance,c=null!=d&&k.html.HtmlUtil.polyfill("now",d);this.inRecursiveUpdate=!0;c?this._lastUpdate=d.now():null;var e=null,e=function(f){a.update(c?d.now():f);b(e,a.canvas)};b(e,this.canvas)}else this.useIntervalTimer()},useIntervalTimer:function(){var a=this;z.window.setInterval(function(){a.update(Date.now())},16)},init:function(){var a=this;k.html.HtmlUtil.fixAndroidMath();this.canvas=null;try{this.canvas=z.window.flambe.canvas}catch(b){}this.canvas.setAttribute("tabindex",
"0");this.canvas.style.outlineStyle="none";this.canvas.setAttribute("moz-opaque","true");this._stage=new k.html.HtmlStage(this.canvas);this._pointer=new k.BasicPointer;this._mouse=new k.html.HtmlMouse(this._pointer,this.canvas);this._renderer=this.createRenderer(this.canvas);this.mainLoop=new k.MainLoop;this.canUseMonotonicTimer=this.inRecursiveUpdate=this.musicPlaying=!1;this._canvas=this.canvas;this._container=this.canvas.parentElement;this._container.style.overflow="hidden";this._container.style.position=
"relative";this._container.style.msTouchAction="none";var d=0,c=function(b){if(!(1E3>b.timeStamp-d)){var c=a.canvas.getBoundingClientRect(),e=a.getX(b,c),c=a.getY(b,c);switch(b.type){case "mousedown":b.target==a.canvas&&(b.preventDefault(),a._mouse.submitDown(e,c,b.button),a.canvas.focus());break;case "mousemove":a._mouse.submitMove(e,c);break;case "mouseup":a._mouse.submitUp(e,c,b.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(e,c,"mousewheel"==b.type?b.wheelDelta/40:
-b.detail)&&b.preventDefault()}}};z.window.addEventListener("mousedown",c,!1);z.window.addEventListener("mousemove",c,!1);z.window.addEventListener("mouseup",c,!1);this.canvas.addEventListener("mousewheel",c,!1);this.canvas.addEventListener("DOMMouseScroll",c,!1);var e="undefined"!=typeof z.window.ontouchstart,c="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(e||c){var f=new k.BasicTouch(this._pointer,e?4:z.navigator.msMaxTouchPoints);this._touch=f;c=function(b){var c=
e?b.changedTouches:[b],g=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();k.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&k.html.HtmlUtil.hideMobileBrowser();for(b=0;b<c.length;){var m=c[b];++b;var h=a.getX(m,g),i=a.getY(m,g),m=(e?m.identifier:m.pointerId)|0;f.submitDown(m,h,i)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)m=c[b],++b,h=a.getX(m,g),i=a.getY(m,
g),m=(e?m.identifier:m.pointerId)|0,f.submitMove(m,h,i);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":b.preventDefault();for(b=0;b<c.length;)m=c[b],++b,h=a.getX(m,g),i=a.getY(m,g),m=(e?m.identifier:m.pointerId)|0,f.submitUp(m,h,i)}};e?(this.canvas.addEventListener("touchstart",c,!1),this.canvas.addEventListener("touchmove",c,!1),this.canvas.addEventListener("touchend",c,!1),this.canvas.addEventListener("touchcancel",c,!1)):(this.canvas.addEventListener("MSPointerDown",
c,!1),this.canvas.addEventListener("MSPointerMove",c,!1),this.canvas.addEventListener("MSPointerUp",c,!1),this.canvas.addEventListener("pointerdown",c,!1),this.canvas.addEventListener("pointermove",c,!1),this.canvas.addEventListener("pointerup",c,!1))}else this._touch=new k.DummyTouch;var g=z.window.onerror;z.window.onerror=function(a,b,d){C.uncaughtError.emit1(a);return null!=g?g(a,b,d):!1};var h=k.html.HtmlUtil.loadExtension("hidden",z.document);null!=h.value?(c=function(){C.hidden.set__(F.field(z.document,
h.field))},c(null),z.document.addEventListener(h.prefix+"visibilitychange",c,!1)):(c=function(a){C.hidden.set__("pagehide"==a.type)},z.window.addEventListener("pageshow",c,!1),z.window.addEventListener("pagehide",c,!1));C.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this.escapeUpdateLoop=this._skipFrame=!1;this.useMonotonicTimer();null},__class__:k.html.HtmlPlatform};r.Value=function(a,b){this._value=a;this._changed=null!=b?new r.Signal2(b):null};l["flambe.util.Value"]=r.Value;
r.Value.__name__=["flambe","util","Value"];r.Value.prototype={get_changed:function(){null==this._changed&&(this._changed=new r.Signal2);return this._changed},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit2(a,b));return a},watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},__class__:r.Value};r.SignalConnection=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};l["flambe.util.SignalConnection"]=
r.SignalConnection;r.SignalConnection.__name__=["flambe","util","SignalConnection"];r.SignalConnection.__interfaces__=[r.Disposable];r.SignalConnection.prototype={dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},once:function(){this.stayInList=!1;return this},__class__:r.SignalConnection};r.SignalBase=function(a){this._head=null!=a?new r.SignalConnection(this,a):null;this._deferredTasks=null};l["flambe.util.SignalBase"]=r.SignalBase;r.SignalBase.__name__=["flambe",
"util","SignalBase"];r.SignalBase.prototype={listRemove:function(a){for(var b=null,d=this._head;null!=d;){if(d==a){a=d._next;null==b?this._head=a:b._next=a;break}b=d;d=d._next}},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var d=null,c=this._head;null!=c;)d=c,c=c._next;null!=d?d._next=a:this._head=a}},didEmit:function(a){for(this._head=a;null!=this._deferredTasks;)this._deferredTasks.fn(),this._deferredTasks=this._deferredTasks.next},willEmit:function(){var a=this._head;this._head=
r.SignalBase.DISPATCHING_SENTINEL;return a},defer:function(a){for(var b=null,d=this._deferredTasks;null!=d;)b=d,d=d.next;a=new r._SignalBase.Task(a);null!=b?b.next=a:this._deferredTasks=a},emit2:function(a,b){for(var d=this.willEmit(),c=d;null!=c;)c._listener(a,b),c.stayInList||c.dispose(),c=c._next;this.didEmit(d)},emit1:function(a){for(var b=this.willEmit(),d=b;null!=d;)d._listener(a),d.stayInList||d.dispose(),d=d._next;this.didEmit(b)},emit0:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),
b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},disconnect:function(a){var b=this;this._head==r.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},connectImpl:function(a,b){var d=this,c=new r.SignalConnection(this,a);this._head==r.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){d.listAdd(c,b)}):this.listAdd(c,b);return c},__class__:r.SignalBase};r.Signal2=function(a){r.SignalBase.call(this,a)};l["flambe.util.Signal2"]=r.Signal2;r.Signal2.__name__=
["flambe","util","Signal2"];r.Signal2.__super__=r.SignalBase;r.Signal2.prototype=u(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal2});r.Signal1=function(a){r.SignalBase.call(this,a)};l["flambe.util.Signal1"]=r.Signal1;r.Signal1.__name__=["flambe","util","Signal1"];r.Signal1.__super__=r.SignalBase;r.Signal1.prototype=u(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal1});N={AnimatedFloat:function(a,
b){this._behavior=null;r.Value.call(this,a,b)}};l["flambe.animation.AnimatedFloat"]=N.AnimatedFloat;N.AnimatedFloat.__name__=["flambe","animation","AnimatedFloat"];N.AnimatedFloat.__super__=r.Value;N.AnimatedFloat.prototype=u(r.Value.prototype,{update:function(a){null!=this._behavior&&(r.Value.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},set__:function(a){this._behavior=null;return r.Value.prototype.set__.call(this,a)},__class__:N.AnimatedFloat});
C=function(){};l["flambe.System"]=C;C.__name__=["flambe","System"];C.init=function(){C._calledInit||(C._platform.init(),C._calledInit=!0)};B=function(){this._realDt=0};l["flambe.SpeedAdjuster"]=B;B.__name__=["flambe","SpeedAdjuster"];B.__super__=P;B.prototype=u(P.prototype,{onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},get_name:function(){return"SpeedAdjuster_4"},__class__:B});N.Behavior=function(){};l["flambe.animation.Behavior"]=N.Behavior;N.Behavior.__name__=
["flambe","animation","Behavior"];N.Behavior.prototype={__class__:N.Behavior};s={Asset:function(){}};l["flambe.asset.Asset"]=s.Asset;s.Asset.__name__=["flambe","asset","Asset"];s.Asset.__interfaces__=[r.Disposable];s.Asset.prototype={__class__:s.Asset};s.AssetFormat=l["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};s.AssetFormat.WEBP=["WEBP",0];s.AssetFormat.WEBP.toString=n;s.AssetFormat.WEBP.__enum__=
s.AssetFormat;s.AssetFormat.JXR=["JXR",1];s.AssetFormat.JXR.toString=n;s.AssetFormat.JXR.__enum__=s.AssetFormat;s.AssetFormat.PNG=["PNG",2];s.AssetFormat.PNG.toString=n;s.AssetFormat.PNG.__enum__=s.AssetFormat;s.AssetFormat.JPG=["JPG",3];s.AssetFormat.JPG.toString=n;s.AssetFormat.JPG.__enum__=s.AssetFormat;s.AssetFormat.GIF=["GIF",4];s.AssetFormat.GIF.toString=n;s.AssetFormat.GIF.__enum__=s.AssetFormat;s.AssetFormat.DDS=["DDS",5];s.AssetFormat.DDS.toString=n;s.AssetFormat.DDS.__enum__=s.AssetFormat;
s.AssetFormat.PVR=["PVR",6];s.AssetFormat.PVR.toString=n;s.AssetFormat.PVR.__enum__=s.AssetFormat;s.AssetFormat.PKM=["PKM",7];s.AssetFormat.PKM.toString=n;s.AssetFormat.PKM.__enum__=s.AssetFormat;s.AssetFormat.MP3=["MP3",8];s.AssetFormat.MP3.toString=n;s.AssetFormat.MP3.__enum__=s.AssetFormat;s.AssetFormat.M4A=["M4A",9];s.AssetFormat.M4A.toString=n;s.AssetFormat.M4A.__enum__=s.AssetFormat;s.AssetFormat.OPUS=["OPUS",10];s.AssetFormat.OPUS.toString=n;s.AssetFormat.OPUS.__enum__=s.AssetFormat;s.AssetFormat.OGG=
["OGG",11];s.AssetFormat.OGG.toString=n;s.AssetFormat.OGG.__enum__=s.AssetFormat;s.AssetFormat.WAV=["WAV",12];s.AssetFormat.WAV.toString=n;s.AssetFormat.WAV.__enum__=s.AssetFormat;s.AssetFormat.Data=["Data",13];s.AssetFormat.Data.toString=n;s.AssetFormat.Data.__enum__=s.AssetFormat;s.AssetEntry=function(a,b,d,c){this.name=a;this.url=b;this.format=d;this.bytes=c};l["flambe.asset.AssetEntry"]=s.AssetEntry;s.AssetEntry.__name__=["flambe","asset","AssetEntry"];s.AssetEntry.prototype={__class__:s.AssetEntry};
s.AssetPack=function(){};l["flambe.asset.AssetPack"]=s.AssetPack;s.AssetPack.__name__=["flambe","asset","AssetPack"];s.AssetPack.__interfaces__=[r.Disposable];s.AssetPack.prototype={__class__:s.AssetPack};s.File=function(){};l["flambe.asset.File"]=s.File;s.File.__name__=["flambe","asset","File"];s.File.__interfaces__=[s.Asset];s.File.prototype={__class__:s.File};M=void 0;z=void 0;z=function(){};l["js.Browser"]=z;z.__name__=["js","Browser"];s.Manifest=function(){this._entries=[]};l["flambe.asset.Manifest"]=
s.Manifest;s.Manifest.__name__=["flambe","asset","Manifest"];s.Manifest.build=function(a,b){null==b&&(b=!0);var d=F.field(ca.Meta.getType(s.Manifest).assets[0],a);if(null==d){if(b)throw r.Strings.withFields("Missing asset pack",["name",a]);return null}var c=new s.Manifest;c.set_relativeBasePath("assets");for(var e=0;e<d.length;){var f=d[e];++e;var g=f.name,h=a+"/"+g+"?v="+v.string(f.md5),i=s.Manifest.inferFormat(g);i!=s.AssetFormat.Data&&(g=r.Strings.removeFileExtension(g));c.add(g,h,f.bytes,i)}return c};
s.Manifest.inferFormat=function(a){a=r.Strings.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return s.AssetFormat.GIF;case "jpg":case "jpeg":return s.AssetFormat.JPG;case "jxr":case "wdp":return s.AssetFormat.JXR;case "png":return s.AssetFormat.PNG;case "webp":return s.AssetFormat.WEBP;case "dds":return s.AssetFormat.DDS;case "pvr":return s.AssetFormat.PVR;case "pkm":return s.AssetFormat.PKM;case "m4a":return s.AssetFormat.M4A;case "mp3":return s.AssetFormat.MP3;case "ogg":return s.AssetFormat.OGG;
case "opus":return s.AssetFormat.OPUS;case "wav":return s.AssetFormat.WAV}else null;return s.AssetFormat.Data};s.Manifest.prototype={set_externalBasePath:function(a){this._externalBasePath=a;null!=a&&null;return a},get_externalBasePath:function(){return this._externalBasePath},set_relativeBasePath:function(a){this._relativeBasePath=a;null!=a&&null;return a},get_relativeBasePath:function(){return this._relativeBasePath},getFullURL:function(a){var b=null!=this.get_externalBasePath()&&s.Manifest._supportsCrossOrigin?
this.get_externalBasePath():this.get_relativeBasePath(),d=null!=this.get_externalBasePath()?this.get_externalBasePath():this.get_relativeBasePath();a.format==s.AssetFormat.Data&&(d=b);return null!=d?r.Strings.joinPath(d,a.url):a.url},iterator:function(){return A.iter(this._entries)},add:function(a,b,d,c){null==d&&(d=0);null==c&&(c=s.Manifest.inferFormat(b));a=new s.AssetEntry(a,b,c,d);this._entries.push(a);return a},__class__:s.Manifest};J={Benchmark:function(){}};l["flambe.debug.Benchmark"]=J.Benchmark;
J.Benchmark.__name__=["flambe","debug","Benchmark"];J.Benchmark.start=function(a){J.Benchmark._calledStart=!0;J.Benchmark._calledCleanup=!1;J.Benchmark._fn=a;J.Benchmark._root=new L;J.Benchmark._sprites=[];J.Benchmark._timeStart=C._platform.getTime();C.root.addChild(J.Benchmark._root);Q.delay(J.Benchmark.benchmark,1E3)};J.Benchmark.benchmark=function(){for(var a,b=0;250>b;)b++,a=new q.Sprite,a.set_pointerEnabled(!1),J.Benchmark._root.add(a),J.Benchmark._sprites.push(a);5E3>J.Benchmark._sprites.length?
Q.delay(J.Benchmark.benchmark,100):J.Benchmark.cleanup()};J.Benchmark.cleanup=function(){for(var a=0,b=J.Benchmark._sprites.length;a<b;){var d=a++;J.Benchmark._root.remove(J.Benchmark._sprites[d])}C.root.removeChild(J.Benchmark._root);J.Benchmark._sprites=null;a=C._platform.getTime()-J.Benchmark._timeStart;a=Math.round(1E4*(1/a));J.Benchmark._benchmark=a;J.Benchmark._calledCleanup=!0;null!=J.Benchmark._fn&&J.Benchmark._fn.apply(null,[J.Benchmark._benchmark])};q.BlendMode=l["flambe.display.BlendMode"]=
{__ename__:["flambe","display","BlendMode"],__constructs__:["Normal","Add","Mask","Copy"]};q.BlendMode.Normal=["Normal",0];q.BlendMode.Normal.toString=n;q.BlendMode.Normal.__enum__=q.BlendMode;q.BlendMode.Add=["Add",1];q.BlendMode.Add.toString=n;q.BlendMode.Add.__enum__=q.BlendMode;q.BlendMode.Mask=["Mask",2];q.BlendMode.Mask.toString=n;q.BlendMode.Mask.__enum__=q.BlendMode;q.BlendMode.Copy=["Copy",3];q.BlendMode.Copy.toString=n;q.BlendMode.Copy.__enum__=q.BlendMode;q.FillSprite=function(a,b,d){q.Sprite.call(this);
this.color=a;this.width=new N.AnimatedFloat(b);this.height=new N.AnimatedFloat(d)};l["flambe.display.FillSprite"]=q.FillSprite;q.FillSprite.__name__=["flambe","display","FillSprite"];q.FillSprite.__super__=q.Sprite;q.FillSprite.prototype=u(q.Sprite.prototype,{onUpdate:function(a){q.Sprite.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},getNaturalHeight:function(){return this.height._value},getNaturalWidth:function(){return this.width._value},draw:function(a){a.fillRect(this.color,
0,0,this.width._value,this.height._value)},__class__:q.FillSprite});q.Glyph=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};l["flambe.display.Glyph"]=q.Glyph;q.Glyph.__name__=["flambe","display","Glyph"];q.Glyph.prototype={setKerning:function(a,b){null==this._kernings&&(this._kernings=new w.IntMap);this._kernings.set(a,b)},getKerning:function(a){return null!=this._kernings?this._kernings.get(a)|0:0},draw:function(a,
b,d){0<this.width&&a.drawSubImage(this.page,b+this.xOffset,d+this.yOffset,this.x,this.y,this.width,this.height)},__class__:q.Glyph};q.Font=function(a,b){this.name=b;this._pack=a;this.reload()};l["flambe.display.Font"]=q.Font;q.Font.__name__=["flambe","display","Font"];q.Font.prototype={reload:function(){this._glyphs=new w.IntMap;this._glyphs.set(q.Font.NEWLINE.charCode,q.Font.NEWLINE);for(var a=new q._Font.ConfigParser(this._pack.getFile(this.name+".fnt").toString()),b=new w.IntMap,d=this.name.lastIndexOf("/"),
d=0<=d?A.substr(this.name,0,d+1):"",c=a.keywords();c.hasNext();)switch(c.next()){case "info":for(var e=a.pairs();e.hasNext();){var f=e.next();switch(f.key){case "size":this.size=f.getInt()}}break;case "page":for(var e=0,g=null,h=a.pairs();h.hasNext();)switch(f=h.next(),f.key){case "id":e=f.getInt();break;case "file":g=f.getString()}b.set(e,this._pack.getTexture(d+r.Strings.removeFileExtension(g)));break;case "char":e=null;for(g=a.pairs();g.hasNext();)switch(f=g.next(),f.key){case "id":e=new q.Glyph(f.getInt());
break;case "x":e.x=f.getInt();break;case "y":e.y=f.getInt();break;case "width":e.width=f.getInt();break;case "height":e.height=f.getInt();break;case "page":e.page=b.get(f.getInt());break;case "xoffset":e.xOffset=f.getInt();break;case "yoffset":e.yOffset=f.getInt();break;case "xadvance":e.xAdvance=f.getInt()}this._glyphs.set(e.charCode,e);break;case "kerning":e=null;g=-1;for(h=a.pairs();h.hasNext();)switch(f=h.next(),f.key){case "first":e=this._glyphs.get(f.getInt());break;case "second":g=f.getInt();
break;case "amount":e.setKerning(g,f.getInt())}}},layoutText:function(a,b,d){null==d&&(d=0);null==b&&(b=q.TextAlign.Left);return new q.TextLayout(this,a,b,d)},getGlyphs:function(a){for(var b=[],d=0,c=a.length;d<c;){var e=d++,e=this._glyphs.get(a.charCodeAt(e));null!=e?b.push(e):null}return b},__class__:q.Font};q.TextAlign=l["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};q.TextAlign.Left=["Left",0];q.TextAlign.Left.toString=n;q.TextAlign.Left.__enum__=
q.TextAlign;q.TextAlign.Center=["Center",1];q.TextAlign.Center.toString=n;q.TextAlign.Center.__enum__=q.TextAlign;q.TextAlign.Right=["Right",2];q.TextAlign.Right.toString=n;q.TextAlign.Right.__enum__=q.TextAlign;q.TextLayout=function(a,b,d,c){this.lines=0;var e=this;this._font=a;this._glyphs=[];this._offsets=[];this.bounds=new H.Rectangle;for(var f=[],g=b.length,h=0;h<g;){var i=h++,j=b.charCodeAt(i),j=a._glyphs.get(j);null!=j?this._glyphs.push(j):null}for(var b=-1,k=0,l=0,g=a._glyphs.get(10),h=function(){e.bounds.width=
H.FMath.max(e.bounds.width,k);e.bounds.height+=l;f[e.lines]=k;l=k=0;++e.lines},i=0;i<this._glyphs.length;){j=this._glyphs[i];this._offsets[i]=k;var n=0<c&&k+j.width>c;n||j==g?(n&&(0<=b?(this._glyphs[b]=g,k=this._offsets[b],i=b):this._glyphs.splice(i,0,g)),b=-1,l=a.size,h()):(32==j.charCode&&(b=i),k+=j.xAdvance,l=H.FMath.max(l,j.height+j.yOffset),i+1<this._glyphs.length&&(k+=j.getKerning(this._glyphs[i+1].charCode)));++i}h();for(var i=0,b=q.TextLayout.getAlignOffset(d,f[0],c),g=1.79769313486231E308,
h=-1.79769313486231E308,o=n=0,p=this._glyphs.length;o<p;){j=this._glyphs[o];10==j.charCode&&(i+=a.size,++n,b=q.TextLayout.getAlignOffset(d,f[n],c));this._offsets[o]+=b;var r=i+j.yOffset,g=g<r?g:r,h=H.FMath.max(h,r+j.height);++o}this.bounds.x=q.TextLayout.getAlignOffset(d,this.bounds.width,c);this.bounds.y=g;this.bounds.height=h-g};l["flambe.display.TextLayout"]=q.TextLayout;q.TextLayout.__name__=["flambe","display","TextLayout"];q.TextLayout.getAlignOffset=function(a,b,d){switch(a[1]){case 0:return 0;
case 2:return d-b;case 1:return(d-b)/2}};q.TextLayout.prototype={draw:function(a){for(var b=0,d=0,c=this._glyphs.length;d<c;){var e=this._glyphs[d];10==e.charCode?b+=this._font.size:e.draw(a,this._offsets[d],b);++d}},__class__:q.TextLayout};q._Font={};q._Font.ConfigParser=function(a){this._configText=a;this._keywordPattern=new V("([a-z]+)(.*)","");this._pairPattern=new V('([a-z]+)=("[^"]*"|[^\\s]+)',"")};l["flambe.display._Font.ConfigParser"]=q._Font.ConfigParser;q._Font.ConfigParser.__name__=["flambe",
"display","_Font","ConfigParser"];q._Font.ConfigParser.advance=function(a,b){var d=b.matchedPos();return A.substr(a,d.pos+d.len,a.length)};q._Font.ConfigParser.prototype={pairs:function(){var a=this,b=this._pairText;return{next:function(){b=q._Font.ConfigParser.advance(b,a._pairPattern);return new q._Font.ConfigPair(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},keywords:function(){var a=this,b=this._configText;return{next:function(){b=q._Font.ConfigParser.advance(b,
a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},__class__:q._Font.ConfigParser};q._Font.ConfigPair=function(a,b){this.key=a;this._value=b};l["flambe.display._Font.ConfigPair"]=q._Font.ConfigPair;q._Font.ConfigPair.__name__=["flambe","display","_Font","ConfigPair"];q._Font.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:A.substr(this._value,1,this._value.length-
2)},getInt:function(){return v.parseInt(this._value)},__class__:q._Font.ConfigPair};q.Graphics=function(){};l["flambe.display.Graphics"]=q.Graphics;q.Graphics.__name__=["flambe","display","Graphics"];q.Graphics.prototype={__class__:q.Graphics};q.Orientation=l["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};q.Orientation.Portrait=["Portrait",0];q.Orientation.Portrait.toString=n;q.Orientation.Portrait.__enum__=q.Orientation;q.Orientation.Landscape=
["Landscape",1];q.Orientation.Landscape.toString=n;q.Orientation.Landscape.__enum__=q.Orientation;q.TextSprite=function(a,b){null==b&&(b="");this._layout=null;var d=this;q.Sprite.call(this);this._font=a;this._text=b;this._align=q.TextAlign.Left;this._flags|=64;this.wrapWidth=new N.AnimatedFloat(0,function(){d._flags|=64})};l["flambe.display.TextSprite"]=q.TextSprite;q.TextSprite.__name__=["flambe","display","TextSprite"];q.TextSprite.__super__=q.Sprite;q.TextSprite.prototype=u(q.Sprite.prototype,
{onUpdate:function(a){q.Sprite.prototype.onUpdate.call(this,a);this.wrapWidth.update(a)},updateLayout:function(){0!=(this._flags&64)&&(this._flags&=-65,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value))},set_font:function(a){a!=this._font&&(this._font=a,this._flags|=64);return a},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=64);return a},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},getNaturalHeight:function(){this.updateLayout();
return this._layout.lines*this._font.size},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},draw:function(a){this.updateLayout();this._layout.draw(a,this._align)},__class__:q.TextSprite});q.Texture=function(){};l["flambe.display.Texture"]=q.Texture;q.Texture.__name__=["flambe","display","Texture"];q.Texture.__interfaces__=[s.Asset];q.Texture.prototype={__class__:q.Texture};g={};g.Key=l["flambe.input.Key"]={__ename__:["flambe",
"input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
g.Key.A=["A",0];g.Key.A.toString=n;g.Key.A.__enum__=g.Key;g.Key.B=["B",1];g.Key.B.toString=n;g.Key.B.__enum__=g.Key;g.Key.C=["C",2];g.Key.C.toString=n;g.Key.C.__enum__=g.Key;g.Key.D=["D",3];g.Key.D.toString=n;g.Key.D.__enum__=g.Key;g.Key.E=["E",4];g.Key.E.toString=n;g.Key.E.__enum__=g.Key;g.Key.F=["F",5];g.Key.F.toString=n;g.Key.F.__enum__=g.Key;g.Key.G=["G",6];g.Key.G.toString=n;g.Key.G.__enum__=g.Key;g.Key.H=["H",7];g.Key.H.toString=n;g.Key.H.__enum__=g.Key;g.Key.I=["I",8];g.Key.I.toString=n;g.Key.I.__enum__=
g.Key;g.Key.J=["J",9];g.Key.J.toString=n;g.Key.J.__enum__=g.Key;g.Key.K=["K",10];g.Key.K.toString=n;g.Key.K.__enum__=g.Key;g.Key.L=["L",11];g.Key.L.toString=n;g.Key.L.__enum__=g.Key;g.Key.M=["M",12];g.Key.M.toString=n;g.Key.M.__enum__=g.Key;g.Key.N=["N",13];g.Key.N.toString=n;g.Key.N.__enum__=g.Key;g.Key.O=["O",14];g.Key.O.toString=n;g.Key.O.__enum__=g.Key;g.Key.P=["P",15];g.Key.P.toString=n;g.Key.P.__enum__=g.Key;g.Key.Q=["Q",16];g.Key.Q.toString=n;g.Key.Q.__enum__=g.Key;g.Key.R=["R",17];g.Key.R.toString=
n;g.Key.R.__enum__=g.Key;g.Key.S=["S",18];g.Key.S.toString=n;g.Key.S.__enum__=g.Key;g.Key.T=["T",19];g.Key.T.toString=n;g.Key.T.__enum__=g.Key;g.Key.U=["U",20];g.Key.U.toString=n;g.Key.U.__enum__=g.Key;g.Key.V=["V",21];g.Key.V.toString=n;g.Key.V.__enum__=g.Key;g.Key.W=["W",22];g.Key.W.toString=n;g.Key.W.__enum__=g.Key;g.Key.X=["X",23];g.Key.X.toString=n;g.Key.X.__enum__=g.Key;g.Key.Y=["Y",24];g.Key.Y.toString=n;g.Key.Y.__enum__=g.Key;g.Key.Z=["Z",25];g.Key.Z.toString=n;g.Key.Z.__enum__=g.Key;g.Key.Number0=
["Number0",26];g.Key.Number0.toString=n;g.Key.Number0.__enum__=g.Key;g.Key.Number1=["Number1",27];g.Key.Number1.toString=n;g.Key.Number1.__enum__=g.Key;g.Key.Number2=["Number2",28];g.Key.Number2.toString=n;g.Key.Number2.__enum__=g.Key;g.Key.Number3=["Number3",29];g.Key.Number3.toString=n;g.Key.Number3.__enum__=g.Key;g.Key.Number4=["Number4",30];g.Key.Number4.toString=n;g.Key.Number4.__enum__=g.Key;g.Key.Number5=["Number5",31];g.Key.Number5.toString=n;g.Key.Number5.__enum__=g.Key;g.Key.Number6=["Number6",
32];g.Key.Number6.toString=n;g.Key.Number6.__enum__=g.Key;g.Key.Number7=["Number7",33];g.Key.Number7.toString=n;g.Key.Number7.__enum__=g.Key;g.Key.Number8=["Number8",34];g.Key.Number8.toString=n;g.Key.Number8.__enum__=g.Key;g.Key.Number9=["Number9",35];g.Key.Number9.toString=n;g.Key.Number9.__enum__=g.Key;g.Key.Numpad0=["Numpad0",36];g.Key.Numpad0.toString=n;g.Key.Numpad0.__enum__=g.Key;g.Key.Numpad1=["Numpad1",37];g.Key.Numpad1.toString=n;g.Key.Numpad1.__enum__=g.Key;g.Key.Numpad2=["Numpad2",38];
g.Key.Numpad2.toString=n;g.Key.Numpad2.__enum__=g.Key;g.Key.Numpad3=["Numpad3",39];g.Key.Numpad3.toString=n;g.Key.Numpad3.__enum__=g.Key;g.Key.Numpad4=["Numpad4",40];g.Key.Numpad4.toString=n;g.Key.Numpad4.__enum__=g.Key;g.Key.Numpad5=["Numpad5",41];g.Key.Numpad5.toString=n;g.Key.Numpad5.__enum__=g.Key;g.Key.Numpad6=["Numpad6",42];g.Key.Numpad6.toString=n;g.Key.Numpad6.__enum__=g.Key;g.Key.Numpad7=["Numpad7",43];g.Key.Numpad7.toString=n;g.Key.Numpad7.__enum__=g.Key;g.Key.Numpad8=["Numpad8",44];g.Key.Numpad8.toString=
n;g.Key.Numpad8.__enum__=g.Key;g.Key.Numpad9=["Numpad9",45];g.Key.Numpad9.toString=n;g.Key.Numpad9.__enum__=g.Key;g.Key.NumpadAdd=["NumpadAdd",46];g.Key.NumpadAdd.toString=n;g.Key.NumpadAdd.__enum__=g.Key;g.Key.NumpadDecimal=["NumpadDecimal",47];g.Key.NumpadDecimal.toString=n;g.Key.NumpadDecimal.__enum__=g.Key;g.Key.NumpadDivide=["NumpadDivide",48];g.Key.NumpadDivide.toString=n;g.Key.NumpadDivide.__enum__=g.Key;g.Key.NumpadEnter=["NumpadEnter",49];g.Key.NumpadEnter.toString=n;g.Key.NumpadEnter.__enum__=
g.Key;g.Key.NumpadMultiply=["NumpadMultiply",50];g.Key.NumpadMultiply.toString=n;g.Key.NumpadMultiply.__enum__=g.Key;g.Key.NumpadSubtract=["NumpadSubtract",51];g.Key.NumpadSubtract.toString=n;g.Key.NumpadSubtract.__enum__=g.Key;g.Key.F1=["F1",52];g.Key.F1.toString=n;g.Key.F1.__enum__=g.Key;g.Key.F2=["F2",53];g.Key.F2.toString=n;g.Key.F2.__enum__=g.Key;g.Key.F3=["F3",54];g.Key.F3.toString=n;g.Key.F3.__enum__=g.Key;g.Key.F4=["F4",55];g.Key.F4.toString=n;g.Key.F4.__enum__=g.Key;g.Key.F5=["F5",56];g.Key.F5.toString=
n;g.Key.F5.__enum__=g.Key;g.Key.F6=["F6",57];g.Key.F6.toString=n;g.Key.F6.__enum__=g.Key;g.Key.F7=["F7",58];g.Key.F7.toString=n;g.Key.F7.__enum__=g.Key;g.Key.F8=["F8",59];g.Key.F8.toString=n;g.Key.F8.__enum__=g.Key;g.Key.F9=["F9",60];g.Key.F9.toString=n;g.Key.F9.__enum__=g.Key;g.Key.F10=["F10",61];g.Key.F10.toString=n;g.Key.F10.__enum__=g.Key;g.Key.F11=["F11",62];g.Key.F11.toString=n;g.Key.F11.__enum__=g.Key;g.Key.F12=["F12",63];g.Key.F12.toString=n;g.Key.F12.__enum__=g.Key;g.Key.F13=["F13",64];g.Key.F13.toString=
n;g.Key.F13.__enum__=g.Key;g.Key.F14=["F14",65];g.Key.F14.toString=n;g.Key.F14.__enum__=g.Key;g.Key.F15=["F15",66];g.Key.F15.toString=n;g.Key.F15.__enum__=g.Key;g.Key.Left=["Left",67];g.Key.Left.toString=n;g.Key.Left.__enum__=g.Key;g.Key.Up=["Up",68];g.Key.Up.toString=n;g.Key.Up.__enum__=g.Key;g.Key.Right=["Right",69];g.Key.Right.toString=n;g.Key.Right.__enum__=g.Key;g.Key.Down=["Down",70];g.Key.Down.toString=n;g.Key.Down.__enum__=g.Key;g.Key.Alt=["Alt",71];g.Key.Alt.toString=n;g.Key.Alt.__enum__=
g.Key;g.Key.Backquote=["Backquote",72];g.Key.Backquote.toString=n;g.Key.Backquote.__enum__=g.Key;g.Key.Backslash=["Backslash",73];g.Key.Backslash.toString=n;g.Key.Backslash.__enum__=g.Key;g.Key.Backspace=["Backspace",74];g.Key.Backspace.toString=n;g.Key.Backspace.__enum__=g.Key;g.Key.CapsLock=["CapsLock",75];g.Key.CapsLock.toString=n;g.Key.CapsLock.__enum__=g.Key;g.Key.Comma=["Comma",76];g.Key.Comma.toString=n;g.Key.Comma.__enum__=g.Key;g.Key.Command=["Command",77];g.Key.Command.toString=n;g.Key.Command.__enum__=
g.Key;g.Key.Control=["Control",78];g.Key.Control.toString=n;g.Key.Control.__enum__=g.Key;g.Key.Delete=["Delete",79];g.Key.Delete.toString=n;g.Key.Delete.__enum__=g.Key;g.Key.End=["End",80];g.Key.End.toString=n;g.Key.End.__enum__=g.Key;g.Key.Enter=["Enter",81];g.Key.Enter.toString=n;g.Key.Enter.__enum__=g.Key;g.Key.Equals=["Equals",82];g.Key.Equals.toString=n;g.Key.Equals.__enum__=g.Key;g.Key.Escape=["Escape",83];g.Key.Escape.toString=n;g.Key.Escape.__enum__=g.Key;g.Key.Home=["Home",84];g.Key.Home.toString=
n;g.Key.Home.__enum__=g.Key;g.Key.Insert=["Insert",85];g.Key.Insert.toString=n;g.Key.Insert.__enum__=g.Key;g.Key.LeftBracket=["LeftBracket",86];g.Key.LeftBracket.toString=n;g.Key.LeftBracket.__enum__=g.Key;g.Key.Minus=["Minus",87];g.Key.Minus.toString=n;g.Key.Minus.__enum__=g.Key;g.Key.PageDown=["PageDown",88];g.Key.PageDown.toString=n;g.Key.PageDown.__enum__=g.Key;g.Key.PageUp=["PageUp",89];g.Key.PageUp.toString=n;g.Key.PageUp.__enum__=g.Key;g.Key.Period=["Period",90];g.Key.Period.toString=n;g.Key.Period.__enum__=
g.Key;g.Key.Quote=["Quote",91];g.Key.Quote.toString=n;g.Key.Quote.__enum__=g.Key;g.Key.RightBracket=["RightBracket",92];g.Key.RightBracket.toString=n;g.Key.RightBracket.__enum__=g.Key;g.Key.Semicolon=["Semicolon",93];g.Key.Semicolon.toString=n;g.Key.Semicolon.__enum__=g.Key;g.Key.Shift=["Shift",94];g.Key.Shift.toString=n;g.Key.Shift.__enum__=g.Key;g.Key.Slash=["Slash",95];g.Key.Slash.toString=n;g.Key.Slash.__enum__=g.Key;g.Key.Space=["Space",96];g.Key.Space.toString=n;g.Key.Space.__enum__=g.Key;g.Key.Tab=
["Tab",97];g.Key.Tab.toString=n;g.Key.Tab.__enum__=g.Key;g.Key.Menu=["Menu",98];g.Key.Menu.toString=n;g.Key.Menu.__enum__=g.Key;g.Key.Search=["Search",99];g.Key.Search.toString=n;g.Key.Search.__enum__=g.Key;g.Key.Unknown=function(a){a=["Unknown",100,a];a.__enum__=g.Key;a.toString=n;return a};g.KeyboardEvent=function(){this.init(0,null)};l["flambe.input.KeyboardEvent"]=g.KeyboardEvent;g.KeyboardEvent.__name__=["flambe","input","KeyboardEvent"];g.KeyboardEvent.prototype={init:function(a,b){this.id=
a;this.key=b},__class__:g.KeyboardEvent};g.MouseButton=l["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};g.MouseButton.Left=["Left",0];g.MouseButton.Left.toString=n;g.MouseButton.Left.__enum__=g.MouseButton;g.MouseButton.Middle=["Middle",1];g.MouseButton.Middle.toString=n;g.MouseButton.Middle.__enum__=g.MouseButton;g.MouseButton.Right=["Right",2];g.MouseButton.Right.toString=n;g.MouseButton.Right.__enum__=g.MouseButton;g.MouseButton.Unknown=
function(a){a=["Unknown",3,a];a.__enum__=g.MouseButton;a.toString=n;return a};g.MouseCursor=l["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};g.MouseCursor.Default=["Default",0];g.MouseCursor.Default.toString=n;g.MouseCursor.Default.__enum__=g.MouseCursor;g.MouseCursor.Button=["Button",1];g.MouseCursor.Button.toString=n;g.MouseCursor.Button.__enum__=g.MouseCursor;g.MouseCursor.None=["None",2];g.MouseCursor.None.toString=n;g.MouseCursor.None.__enum__=
g.MouseCursor;g.MouseEvent=function(){this.init(0,0,0,null)};l["flambe.input.MouseEvent"]=g.MouseEvent;g.MouseEvent.__name__=["flambe","input","MouseEvent"];g.MouseEvent.prototype={init:function(a,b,d,c){this.id=a;this.viewX=b;this.viewY=d;this.button=c},__class__:g.MouseEvent};g.EventSource=l["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};g.EventSource.Mouse=function(a){a=["Mouse",0,a];a.__enum__=g.EventSource;a.toString=n;return a};g.EventSource.Touch=
function(a){a=["Touch",1,a];a.__enum__=g.EventSource;a.toString=n;return a};g.PointerEvent=function(){this.init(0,0,0,null,null)};l["flambe.input.PointerEvent"]=g.PointerEvent;g.PointerEvent.__name__=["flambe","input","PointerEvent"];g.PointerEvent.prototype={init:function(a,b,d,c,e){this.id=a;this.viewX=b;this.viewY=d;this.hit=c;this.source=e;this._stopped=!1},__class__:g.PointerEvent};g.TouchPoint=function(a){this.id=a;this._source=g.EventSource.Touch(this)};l["flambe.input.TouchPoint"]=g.TouchPoint;
g.TouchPoint.__name__=["flambe","input","TouchPoint"];g.TouchPoint.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:g.TouchPoint};H.FMath=function(){};l["flambe.math.FMath"]=H.FMath;H.FMath.__name__=["flambe","math","FMath"];H.FMath.max=function(a,b){return a>b?a:b};H.FMath.clamp=function(a,b,d){return a<b?b:a>d?d:a};H.Matrix=function(){this.identity()};l["flambe.math.Matrix"]=H.Matrix;H.Matrix.__name__=["flambe","math","Matrix"];H.Matrix.multiply=function(a,b,d){null==d&&(d=new H.Matrix);
var c=a.m00*b.m00+a.m01*b.m10,e=a.m00*b.m01+a.m01*b.m11,f=a.m00*b.m02+a.m01*b.m12+a.m02;d.m00=c;d.m01=e;d.m02=f;c=a.m10*b.m00+a.m11*b.m10;e=a.m10*b.m01+a.m11*b.m11;f=a.m10*b.m02+a.m11*b.m12+a.m12;d.m10=c;d.m11=e;d.m12=f;return d};H.Matrix.prototype={clone:function(a){null==a&&(a=new H.Matrix);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},inverseTransform:function(a,b,d){var c=this.determinant();if(0==c)return!1;a-=this.m02;b-=this.m12;d.x=(a*this.m11-b*this.m01)/c;d.y=(b*
this.m00-a*this.m10)/c;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},compose:function(a,b,d,c,e){var f=Math.sin(e),e=Math.cos(e);this.set(e*d,f*d,-f*c,e*c,a,b)},identity:function(){this.set(1,0,0,1,0,0)},set:function(a,b,d,c,e,f){this.m00=a;this.m01=d;this.m02=e;this.m10=b;this.m11=c;this.m12=f},__class__:H.Matrix};H.Rectangle=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==
b&&(b=0);null==a&&(a=0);this.set(a,b,d,c)};l["flambe.math.Rectangle"]=H.Rectangle;H.Rectangle.__name__=["flambe","math","Rectangle"];H.Rectangle.prototype={contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},set:function(a,b,d,c){this.x=a;this.y=b;this.width=d;this.height=c},__class__:H.Rectangle};k.BasicAsset=function(){this._disposed=
!1};l["flambe.platform.BasicAsset"]=k.BasicAsset;k.BasicAsset.__name__=["flambe","platform","BasicAsset"];k.BasicAsset.__interfaces__=[s.Asset];k.BasicAsset.prototype={onDisposed:function(){null},dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},__class__:k.BasicAsset};k.BasicAssetPackLoader=function(a,b){var d=this;this.manifest=b;this._platform=a;this.promise=new r.Promise;this._bytesLoaded=new w.StringMap;this._pack=new k._BasicAssetPackLoader.BasicAssetPack(b,this);var c=
da.array(b);if(0==c.length)this.handleSuccess();else{for(var e=new w.StringMap,f=0;f<c.length;){var g=c[f];++f;var h=e.get(g.name);null==h&&(h=[],e.set(g.name,h));h.push(g)}this._assetsRemaining=da.count(e);for(c=function(){return function(a){return function(){return function(){return a.iterator()}}()}}()(e)();c.hasNext();)h=c.next(),h=[h],this.pickBestEntry(h[0],function(a){return function(c){if(null!=c){var e=b.getFullURL(c);try{d.loadEntry(e,c)}catch(f){d.handleError(c,"Unexpected error: "+v.string(f))}e=
d.promise;e.set_total(e._total+c.bytes)}else c=a[0][0],k.BasicAssetPackLoader.isAudio(c.format)?d.handleLoad(c,k.DummySound.getInstance()):d.handleError(c,"Could not find a supported format to load")}}(h))}};l["flambe.platform.BasicAssetPackLoader"]=k.BasicAssetPackLoader;k.BasicAssetPackLoader.__name__=["flambe","platform","BasicAssetPackLoader"];k.BasicAssetPackLoader.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};k.BasicAssetPackLoader.prototype=
{handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},handleError:function(a,b){this.promise.error.emit1(r.Strings.withFields(b,["url",a.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var d=0,c=function(a){return function(){return a.iterator()}}(this._bytesLoaded)();c.hasNext();)var e=c.next(),d=d+e;this.promise.set_progress(d)},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,
a.bytes);var d;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:d=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:d=this._pack.sounds;break;case 13:d=this._pack.files}d.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},getAssetFormats:function(){null},loadEntry:function(){null},pickBestEntry:function(a,b){this.getAssetFormats(function(d){for(var c=0;c<d.length;){var e=d[c];++c;for(var f=0;f<a.length;){var g=a[f];++f;
if(g.format==e){b(g);return}}}b(null)})},onDisposed:function(){},__class__:k.BasicAssetPackLoader};k._BasicAssetPackLoader={};k._BasicAssetPackLoader.BasicAssetPack=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new w.StringMap;this.sounds=new w.StringMap;this.files=new w.StringMap};l["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=k._BasicAssetPackLoader.BasicAssetPack;k._BasicAssetPackLoader.BasicAssetPack.__name__=["flambe","platform","_BasicAssetPackLoader",
"BasicAssetPack"];k._BasicAssetPackLoader.BasicAssetPack.__interfaces__=[s.AssetPack];k._BasicAssetPackLoader.BasicAssetPack.prototype={get_manifest:function(){return this._manifest},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=function(a){return function(){return a.iterator()}}(this.textures)();a.hasNext();)a.next().dispose();this.textures=null;for(a=function(a){return function(){return a.iterator()}}(this.sounds)();a.hasNext();)a.next().dispose();this.sounds=null;for(a=function(a){return function(){return a.iterator()}}(this.files)();a.hasNext();)a.next().dispose();
this.files=null;this.loader.onDisposed()}},getFile:function(a,b){null==b&&(b=!0);var d=this.files.get(a);if(null==d&&b)throw r.Strings.withFields("Missing file",["name",a]);return d},getSound:function(a,b){null==b&&(b=!0);var d=this.sounds.get(a);if(null==d&&b)throw r.Strings.withFields("Missing sound",["name",a]);return d},getTexture:function(a,b){null==b&&(b=!0);var d=this.textures.get(a);if(null==d&&b)throw r.Strings.withFields("Missing texture",["name",a]);return d},__class__:k._BasicAssetPackLoader.BasicAssetPack,
__properties__:{get_manifest:"get_manifest"}};k.BasicFile=function(a){k.BasicAsset.call(this);this._content=a};l["flambe.platform.BasicFile"]=k.BasicFile;k.BasicFile.__name__=["flambe","platform","BasicFile"];k.BasicFile.__interfaces__=[s.File];k.BasicFile.__super__=k.BasicAsset;k.BasicFile.prototype=u(k.BasicAsset.prototype,{onDisposed:function(){this._content=null},toString:function(){return this._content},__class__:k.BasicFile});B={KeyboardSystem:function(){}};l["flambe.subsystem.KeyboardSystem"]=
B.KeyboardSystem;B.KeyboardSystem.__name__=["flambe","subsystem","KeyboardSystem"];B.KeyboardSystem.prototype={__class__:B.KeyboardSystem};k.BasicKeyboard=function(){this.down=new r.Signal1;this.up=new r.Signal1;this.backButton=new r.Signal0;this._keyStates=new w.IntMap};l["flambe.platform.BasicKeyboard"]=k.BasicKeyboard;k.BasicKeyboard.__name__=["flambe","platform","BasicKeyboard"];k.BasicKeyboard.__interfaces__=[B.KeyboardSystem];k.BasicKeyboard.prototype={submitUp:function(a){this._keyStates.exists(a)&&
(this._keyStates.remove(a),k.BasicKeyboard._sharedEvent.init(k.BasicKeyboard._sharedEvent.id+1,k.KeyCodes.toKey(a)),this.up.emit1(k.BasicKeyboard._sharedEvent))},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit0(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),k.BasicKeyboard._sharedEvent.init(k.BasicKeyboard._sharedEvent.id+1,k.KeyCodes.toKey(a)),this.down.emit1(k.BasicKeyboard._sharedEvent));return!0},__class__:k.BasicKeyboard};B.MouseSystem=
function(){};l["flambe.subsystem.MouseSystem"]=B.MouseSystem;B.MouseSystem.__name__=["flambe","subsystem","MouseSystem"];k.BasicMouse=function(a){this._pointer=a;this._source=g.EventSource.Mouse(k.BasicMouse._sharedEvent);this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1;this.scroll=new r.Signal1;this._y=this._x=0;this._cursor=g.MouseCursor.Default;this._buttonStates=new w.IntMap};l["flambe.platform.BasicMouse"]=k.BasicMouse;k.BasicMouse.__name__=["flambe","platform","BasicMouse"];
k.BasicMouse.__interfaces__=[B.MouseSystem];k.BasicMouse.prototype={prepare:function(a,b,d){this._x=a;this._y=b;k.BasicMouse._sharedEvent.init(k.BasicMouse._sharedEvent.id+1,a,b,d)},submitScroll:function(a,b,d){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit1(d);return!0},submitUp:function(a,b,d){this._buttonStates.exists(d)&&(this._buttonStates.remove(d),this.prepare(a,b,k.MouseCodes.toButton(d)),this._pointer.submitUp(a,b,this._source),this.up.emit1(k.BasicMouse._sharedEvent))},
submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit1(k.BasicMouse._sharedEvent)},submitDown:function(a,b,d){this._buttonStates.exists(d)||(this._buttonStates.set(d,!0),this.prepare(a,b,k.MouseCodes.toButton(d)),this._pointer.submitDown(a,b,this._source),this.down.emit1(k.BasicMouse._sharedEvent))},__class__:k.BasicMouse};B.PointerSystem=function(){};l["flambe.subsystem.PointerSystem"]=B.PointerSystem;B.PointerSystem.__name__=["flambe","subsystem",
"PointerSystem"];B.PointerSystem.prototype={__class__:B.PointerSystem};k.BasicPointer=function(a,b,d){null==d&&(d=!1);null==b&&(b=0);null==a&&(a=0);this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1;this._x=a;this._y=b;this._isDown=d};l["flambe.platform.BasicPointer"]=k.BasicPointer;k.BasicPointer.__name__=["flambe","platform","BasicPointer"];k.BasicPointer.__interfaces__=[B.PointerSystem];k.BasicPointer.prototype={prepare:function(a,b,d,c){this._x=a;this._y=b;k.BasicPointer._sharedEvent.init(k.BasicPointer._sharedEvent.id+
1,a,b,d,c)},submitUp:function(a,b,d){if(this._isDown){this._isDown=!1;var c=[],e=q.Sprite.hitTest(C.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&c.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,d);for(a=0;a<c.length;)if(g=c[a],++a,g=g._pointerUp,null!=g&&(g.emit1(k.BasicPointer._sharedEvent),k.BasicPointer._sharedEvent._stopped))return;this.up.emit1(k.BasicPointer._sharedEvent)}},submitMove:function(a,b,d){var c=[],e=q.Sprite.hitTest(C.root,a,b);if(null!=e){var f=
e.owner;do{var g=f._compMap.Sprite_1;null!=g&&c.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,d);for(a=0;a<c.length;)if(g=c[a],++a,g=g._pointerMove,null!=g&&(g.emit1(k.BasicPointer._sharedEvent),k.BasicPointer._sharedEvent._stopped))return;this.move.emit1(k.BasicPointer._sharedEvent)},submitDown:function(a,b,d){if(!this._isDown){this._isDown=!0;var c=[],e=q.Sprite.hitTest(C.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&c.push(g);f=f.parent}while(null!=f)}this.prepare(a,
b,e,d);for(a=0;a<c.length;)if(g=c[a],++a,g=g._pointerDown,null!=g&&(g.emit1(k.BasicPointer._sharedEvent),k.BasicPointer._sharedEvent._stopped))return;this.down.emit1(k.BasicPointer._sharedEvent)}},__class__:k.BasicPointer};B.TouchSystem=function(){};l["flambe.subsystem.TouchSystem"]=B.TouchSystem;B.TouchSystem.__name__=["flambe","subsystem","TouchSystem"];B.TouchSystem.prototype={__class__:B.TouchSystem};k.BasicTouch=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new w.IntMap;
this._points=[];this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1};l["flambe.platform.BasicTouch"]=k.BasicTouch;k.BasicTouch.__name__=["flambe","platform","BasicTouch"];k.BasicTouch.__interfaces__=[B.TouchSystem];k.BasicTouch.prototype={submitUp:function(a,b,d){var c=this._pointMap.get(a);null!=c&&(c.init(b,d),this._pointMap.remove(a),A.remove(this._points,c),this._pointerTouch==c&&(this._pointerTouch=null,this._pointer.submitUp(b,d,c._source)),this.up.emit1(c))},submitMove:function(a,
b,d){a=this._pointMap.get(a);null!=a&&(a.init(b,d),this._pointerTouch==a&&this._pointer.submitMove(b,d,a._source),this.move.emit1(a))},submitDown:function(a,b,d){if(!this._pointMap.exists(a)){var c=new g.TouchPoint(a);c.init(b,d);this._pointMap.set(a,c);this._points.push(c);null==this._pointerTouch&&(this._pointerTouch=c,this._pointer.submitDown(b,d,c._source));this.down.emit1(c)}},get_supported:function(){return!0},__class__:k.BasicTouch,__properties__:{get_supported:"get_supported"}};I={Sound:function(){}};
l["flambe.sound.Sound"]=I.Sound;I.Sound.__name__=["flambe","sound","Sound"];I.Sound.__interfaces__=[s.Asset];I.Sound.prototype={__class__:I.Sound};k.DummySound=function(){k.BasicAsset.call(this);this._playback=new k.DummyPlayback(this)};l["flambe.platform.DummySound"]=k.DummySound;k.DummySound.__name__=["flambe","platform","DummySound"];k.DummySound.__interfaces__=[I.Sound];k.DummySound.getInstance=function(){null==k.DummySound._instance&&(k.DummySound._instance=new k.DummySound);return k.DummySound._instance};
k.DummySound.__super__=k.BasicAsset;k.DummySound.prototype=u(k.BasicAsset.prototype,{get_duration:function(){return 0},loop:function(){return this._playback},play:function(){return this._playback},__class__:k.DummySound,__properties__:{get_duration:"get_duration"}});I.Playback=function(){};l["flambe.sound.Playback"]=I.Playback;I.Playback.__name__=["flambe","sound","Playback"];I.Playback.__interfaces__=[r.Disposable];I.Playback.prototype={__class__:I.Playback};k.DummyPlayback=function(a){this._sound=
a;this.volume=new N.AnimatedFloat(0)};l["flambe.platform.DummyPlayback"]=k.DummyPlayback;k.DummyPlayback.__name__=["flambe","platform","DummyPlayback"];k.DummyPlayback.__interfaces__=[I.Playback];k.DummyPlayback.prototype={dispose:function(){},get_position:function(){return 0},get_ended:function(){return!0},get_paused:function(){return!0},__class__:k.DummyPlayback,__properties__:{get_paused:"get_paused",get_ended:"get_ended",get_position:"get_position"}};k.DummyTouch=function(){this.down=new r.Signal1;
this.move=new r.Signal1;this.up=new r.Signal1};l["flambe.platform.DummyTouch"]=k.DummyTouch;k.DummyTouch.__name__=["flambe","platform","DummyTouch"];k.DummyTouch.__interfaces__=[B.TouchSystem];k.DummyTouch.prototype={get_supported:function(){return!1},__class__:k.DummyTouch,__properties__:{get_supported:"get_supported"}};k.EventGroup=function(){this._entries=[]};l["flambe.platform.EventGroup"]=k.EventGroup;k.EventGroup.__name__=["flambe","platform","EventGroup"];k.EventGroup.__interfaces__=[r.Disposable];
k.EventGroup.prototype={dispose:function(){for(var a=0,b=this._entries;a<b.length;){var d=b[a];++a;d.dispatcher.removeEventListener(d.type,d.listener,!1)}this._entries=[]},addDisposingListener:function(a,b,d){var c=this;this.addListener(a,b,function(a){c.dispose();d(a)})},addListener:function(a,b,d){a.addEventListener(b,d,!1);this._entries.push(new k._EventGroup.Entry(a,b,d))},__class__:k.EventGroup};k._EventGroup={};k._EventGroup.Entry=function(a,b,d){this.dispatcher=a;this.type=b;this.listener=
d};l["flambe.platform._EventGroup.Entry"]=k._EventGroup.Entry;k._EventGroup.Entry.__name__=["flambe","platform","_EventGroup","Entry"];k._EventGroup.Entry.prototype={__class__:k._EventGroup.Entry};k.InternalGraphics=function(){};l["flambe.platform.InternalGraphics"]=k.InternalGraphics;k.InternalGraphics.__name__=["flambe","platform","InternalGraphics"];k.InternalGraphics.__interfaces__=[q.Graphics];k.InternalGraphics.prototype={__class__:k.InternalGraphics};k.KeyCodes=function(){};l["flambe.platform.KeyCodes"]=
k.KeyCodes;k.KeyCodes.__name__=["flambe","platform","KeyCodes"];k.KeyCodes.toKey=function(a){switch(a){case 65:return g.Key.A;case 66:return g.Key.B;case 67:return g.Key.C;case 68:return g.Key.D;case 69:return g.Key.E;case 70:return g.Key.F;case 71:return g.Key.G;case 72:return g.Key.H;case 73:return g.Key.I;case 74:return g.Key.J;case 75:return g.Key.K;case 76:return g.Key.L;case 77:return g.Key.M;case 78:return g.Key.N;case 79:return g.Key.O;case 80:return g.Key.P;case 81:return g.Key.Q;case 82:return g.Key.R;
case 83:return g.Key.S;case 84:return g.Key.T;case 85:return g.Key.U;case 86:return g.Key.V;case 87:return g.Key.W;case 88:return g.Key.X;case 89:return g.Key.Y;case 90:return g.Key.Z;case 48:return g.Key.Number0;case 49:return g.Key.Number1;case 50:return g.Key.Number2;case 51:return g.Key.Number3;case 52:return g.Key.Number4;case 53:return g.Key.Number5;case 54:return g.Key.Number6;case 55:return g.Key.Number7;case 56:return g.Key.Number8;case 57:return g.Key.Number9;case 96:return g.Key.Numpad0;
case 97:return g.Key.Numpad1;case 98:return g.Key.Numpad2;case 99:return g.Key.Numpad3;case 100:return g.Key.Numpad4;case 101:return g.Key.Numpad5;case 102:return g.Key.Numpad6;case 103:return g.Key.Numpad7;case 104:return g.Key.Numpad8;case 105:return g.Key.Numpad9;case 107:return g.Key.NumpadAdd;case 110:return g.Key.NumpadDecimal;case 111:return g.Key.NumpadDivide;case 108:return g.Key.NumpadEnter;case 106:return g.Key.NumpadMultiply;case 109:return g.Key.NumpadSubtract;case 112:return g.Key.F1;
case 113:return g.Key.F2;case 114:return g.Key.F3;case 115:return g.Key.F4;case 116:return g.Key.F5;case 117:return g.Key.F6;case 118:return g.Key.F7;case 119:return g.Key.F8;case 120:return g.Key.F9;case 121:return g.Key.F10;case 122:return g.Key.F11;case 123:return g.Key.F12;case 37:return g.Key.Left;case 38:return g.Key.Up;case 39:return g.Key.Right;case 40:return g.Key.Down;case 18:return g.Key.Alt;case 192:return g.Key.Backquote;case 220:return g.Key.Backslash;case 8:return g.Key.Backspace;case 20:return g.Key.CapsLock;
case 188:return g.Key.Comma;case 15:return g.Key.Command;case 17:return g.Key.Control;case 46:return g.Key.Delete;case 35:return g.Key.End;case 13:return g.Key.Enter;case 187:return g.Key.Equals;case 27:return g.Key.Escape;case 36:return g.Key.Home;case 45:return g.Key.Insert;case 219:return g.Key.LeftBracket;case 189:return g.Key.Minus;case 34:return g.Key.PageDown;case 33:return g.Key.PageUp;case 190:return g.Key.Period;case 222:return g.Key.Quote;case 221:return g.Key.RightBracket;case 186:return g.Key.Semicolon;
case 16:return g.Key.Shift;case 191:return g.Key.Slash;case 32:return g.Key.Space;case 9:return g.Key.Tab;case 16777234:return g.Key.Menu;case 16777247:return g.Key.Search}return g.Key.Unknown(a)};k.MainLoop=function(){this._tickables=[]};l["flambe.platform.MainLoop"]=k.MainLoop;k.MainLoop.__name__=["flambe","platform","MainLoop"];k.MainLoop.updateEntity=function(a,b){var d=a._compMap.SpeedAdjuster_4;if(null!=d&&(d._realDt=b,b*=d.scale._value,0>=b)){d.onUpdate(b);return}for(var c=a.firstComponent;null!=
c;)d=c.next,c.onUpdate(b),c=d;for(c=a.firstChild;null!=c;)d=c.next,k.MainLoop.updateEntity(c,b),c=d};k.MainLoop.prototype={addTickable:function(a){this._tickables.push(a)},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),q.Sprite.render(C.root,b),a.didRender())},update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var d=this._tickables[b];null==d||d.update(a)?this._tickables.splice(b,1):++b}C.volume.update(a);k.MainLoop.updateEntity(C.root,a)}},__class__:k.MainLoop};
k.MouseCodes=function(){};l["flambe.platform.MouseCodes"]=k.MouseCodes;k.MouseCodes.__name__=["flambe","platform","MouseCodes"];k.MouseCodes.toButton=function(a){switch(a){case 0:return g.MouseButton.Left;case 1:return g.MouseButton.Middle;case 2:return g.MouseButton.Right}return g.MouseButton.Unknown(a)};k.Renderer=function(){};l["flambe.platform.Renderer"]=k.Renderer;k.Renderer.__name__=["flambe","platform","Renderer"];k.Renderer.prototype={__class__:k.Renderer};k.Tickable=function(){};l["flambe.platform.Tickable"]=
k.Tickable;k.Tickable.__name__=["flambe","platform","Tickable"];k.Tickable.prototype={__class__:k.Tickable};k.html.CanvasGraphics=function(a){this._firstDraw=!1;this._canvasCtx=a.getContext("2d")};l["flambe.platform.html.CanvasGraphics"]=k.html.CanvasGraphics;k.html.CanvasGraphics.__name__=["flambe","platform","html","CanvasGraphics"];k.html.CanvasGraphics.__interfaces__=[k.InternalGraphics];k.html.CanvasGraphics.prototype={didRender:function(){},willRender:function(){this._firstDraw=!0},applyScissor:function(a,
b,d,c){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,d|0,c|0);this._canvasCtx.clip()},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="destination-in";break;case 3:b="copy"}this._canvasCtx.globalCompositeOperation=b},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},fillRect:function(a,b,d,c,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,d,c,e),this._canvasCtx.globalCompositeOperation=
"source-over"):(this._canvasCtx.fillStyle="#"+("00000"+a.toString(16)).slice(-6),this._canvasCtx.fillRect(b|0,d|0,c|0,e|0))},drawSubImage:function(a,b,d,c,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubImage(a,b,d,c,e,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,c|0,e|0,f|0,g|0,b|0,d|0,f|0,g|0)},drawImage:function(a,b,d){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation=
"copy",this.drawImage(a,b,d),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,b|0,d|0)},restore:function(){this._canvasCtx.restore()},transform:function(a,b,d,c,e,f){this._canvasCtx.transform(a,b,d,c,e,f)},save:function(){this._canvasCtx.save()},__class__:k.html.CanvasGraphics};k.html.CanvasRenderer=function(a){this.graphics=new k.html.CanvasGraphics(a);C.hasGPU.set__(!0)};l["flambe.platform.html.CanvasRenderer"]=k.html.CanvasRenderer;k.html.CanvasRenderer.__name__=
["flambe","platform","html","CanvasRenderer"];k.html.CanvasRenderer.__interfaces__=[k.Renderer];k.html.CanvasRenderer.prototype={didRender:function(){this.graphics.didRender()},willRender:function(){this.graphics.willRender()},createCompressedTexture:function(){return null},getCompressedTextureFormats:function(){return[]},createTexture:function(a){return new k.html.CanvasTexture(k.html.CanvasRenderer.CANVAS_TEXTURES?k.html.HtmlUtil.createCanvas(a):a)},__class__:k.html.CanvasRenderer};k.html.CanvasTexture=
function(a){this.pattern=this._graphics=null;k.BasicAsset.call(this);this.image=a};l["flambe.platform.html.CanvasTexture"]=k.html.CanvasTexture;k.html.CanvasTexture.__name__=["flambe","platform","html","CanvasTexture"];k.html.CanvasTexture.__interfaces__=[q.Texture];k.html.CanvasTexture.__super__=k.BasicAsset;k.html.CanvasTexture.prototype=u(k.BasicAsset.prototype,{onDisposed:function(){this.image.dispose&&this.image.dispose();this._graphics=this.pattern=this.image=null},get_height:function(){return this.image.height},
get_width:function(){return this.image.width},__class__:k.html.CanvasTexture,__properties__:{get_width:"get_width",get_height:"get_height"}});k.html.HtmlAssetPackLoader=function(a,b){k.BasicAssetPackLoader.call(this,a,b)};l["flambe.platform.html.HtmlAssetPackLoader"]=k.html.HtmlAssetPackLoader;k.html.HtmlAssetPackLoader.__name__=["flambe","platform","html","HtmlAssetPackLoader"];k.html.HtmlAssetPackLoader.detectImageFormats=function(a){var b=[s.AssetFormat.PNG,s.AssetFormat.JPG,s.AssetFormat.GIF],
d=2,c=z.document.createElement("img");c.onload=c.onerror=function(){1==c.width&&b.unshift(s.AssetFormat.WEBP);--d;0==d&&a(b)};c.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var e=z.document.createElement("img");e.onload=e.onerror=function(){1==e.width&&b.unshift(s.AssetFormat.JXR);--d;0==d&&a(b)};e.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};
k.html.HtmlAssetPackLoader.detectAudioFormats=function(){var a=z.document.createElement("audio");if(null==a||null==t(a,a.canPlayType))return[];var b=new V("\\b(iPhone|iPod|iPad|Windows Phone)\\b",""),d=z.navigator.userAgent;if(!k.html.WebAudioSound.get_supported()&&b.match(d))return[];for(var b=[{format:s.AssetFormat.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:s.AssetFormat.MP3,mimeType:"audio/mpeg"},{format:s.AssetFormat.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:s.AssetFormat.OGG,mimeType:"audio/ogg; codecs=vorbis"},
{format:s.AssetFormat.WAV,mimeType:"audio/wav"}],d=[],c=0;c<b.length;){var e=b[c];++c;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){}""!=f&&d.push(e.format)}return d};k.html.HtmlAssetPackLoader.supportsBlob=function(){if(k.html.HtmlAssetPackLoader._detectBlobSupport){k.html.HtmlAssetPackLoader._detectBlobSupport=!1;if((new V("\\bSilk\\b","")).match(z.navigator.userAgent)||null==z.window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";
if("blob"!=a.responseType)return!1;k.html.HtmlAssetPackLoader._URL=k.html.HtmlUtil.loadExtension("URL").value}return null!=k.html.HtmlAssetPackLoader._URL&&null!=k.html.HtmlAssetPackLoader._URL.createObjectURL};k.html.HtmlAssetPackLoader.__super__=k.BasicAssetPackLoader;k.html.HtmlAssetPackLoader.prototype=u(k.BasicAssetPackLoader.prototype,{download:function(a,b,d,c){var e=this,f=null,g=null,h=0,i=!1,j=function(){i&&(i=!1,z.window.clearInterval(h))},k=3,l=function(){--k;return 0<=k?(g(),!0):!1},
g=function(){j();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=d;var g=0;f.onprogress=function(a){i||(i=!0,h=z.window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!l()&&(j(),e.handleError(b,"Download stalled"))},1E3));g=Date.now();e.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=f.status||!l())j(),e.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);j();c(a)};f.send()};g()},getAssetFormats:function(a){var b=
this;null==k.html.HtmlAssetPackLoader._supportedFormats&&(k.html.HtmlAssetPackLoader._supportedFormats=new r.Promise,k.html.HtmlAssetPackLoader.detectImageFormats(function(a){k.html.HtmlAssetPackLoader._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(k.html.HtmlAssetPackLoader.detectAudioFormats()).concat([s.AssetFormat.Data]))}));k.html.HtmlAssetPackLoader._supportedFormats.get(a)},loadEntry:function(a,b){var d=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var c=
z.document.createElement("img"),e=new k.EventGroup;e.addDisposingListener(c,"load",function(){k.html.HtmlAssetPackLoader.supportsBlob()&&k.html.HtmlAssetPackLoader._URL.revokeObjectURL(c.src);var a=d._platform.getRenderer().createTexture(c);null!=a?d.handleLoad(b,a):d.handleTextureError(b)});e.addDisposingListener(c,"error",function(){d.handleError(b,"Failed to load image")});k.html.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"blob",function(a){c.src=k.html.HtmlAssetPackLoader._URL.createObjectURL(a)}):
c.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=d._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?d.handleLoad(b,a):d.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(k.html.WebAudioSound.get_supported())this.download(a,b,"arraybuffer",function(a){k.html.WebAudioSound.ctx.decodeAudioData(a,function(a){d.handleLoad(b,new k.html.WebAudioSound(a))},function(){d.handleLoad(b,k.DummySound.getInstance())})});else{var f=z.document.createElement("audio");
f.preload="auto";var g=++k.html.HtmlAssetPackLoader._mediaRefCount;null==k.html.HtmlAssetPackLoader._mediaElements&&(k.html.HtmlAssetPackLoader._mediaElements=new w.IntMap);k.html.HtmlAssetPackLoader._mediaElements.set(g,f);e=new k.EventGroup;e.addDisposingListener(f,"canplaythrough",function(){k.html.HtmlAssetPackLoader._mediaElements.remove(g);d.handleLoad(b,new k.html.HtmlSound(f))});e.addDisposingListener(f,"error",function(){k.html.HtmlAssetPackLoader._mediaElements.remove(g);var a=f.error.code;
3==a||4==a?d.handleLoad(b,k.DummySound.getInstance()):d.handleError(b,"Failed to load audio: "+f.error.code)});e.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;d.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,b,"text",function(a){d.handleLoad(b,new k.BasicFile(a))})}},__class__:k.html.HtmlAssetPackLoader});k.html.HtmlMouse=function(a,b){k.BasicMouse.call(this,a);this._canvas=b};l["flambe.platform.html.HtmlMouse"]=
k.html.HtmlMouse;k.html.HtmlMouse.__name__=["flambe","platform","html","HtmlMouse"];k.html.HtmlMouse.__super__=k.BasicMouse;k.html.HtmlMouse.prototype=u(k.BasicMouse.prototype,{__class__:k.html.HtmlMouse});k.html.HtmlSound=function(a){k.BasicAsset.call(this);this.audioElement=a};l["flambe.platform.html.HtmlSound"]=k.html.HtmlSound;k.html.HtmlSound.__name__=["flambe","platform","html","HtmlSound"];k.html.HtmlSound.__interfaces__=[I.Sound];k.html.HtmlSound.__super__=k.BasicAsset;k.html.HtmlSound.prototype=
u(k.BasicAsset.prototype,{onDisposed:function(){this.audioElement.dispose&&this.audioElement.dispose();this.audioElement=null},get_duration:function(){return this.audioElement.duration},loop:function(a){null==a&&(a=1);return new k.html._HtmlSound.HtmlPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new k.html._HtmlSound.HtmlPlayback(this,a,!1)},__class__:k.html.HtmlSound,__properties__:{get_duration:"get_duration"}});k.html._HtmlSound={};k.html._HtmlSound.HtmlPlayback=function(a,b,d){var c=
this;this._sound=a;this._tickableAdded=!1;this._clonedElement=z.document.createElement("audio");this._clonedElement.loop=d;this._clonedElement.src=a.audioElement.src;this.volume=new N.AnimatedFloat(b,function(){c.updateVolume()});this.updateVolume();this.playAudio();C.hidden._value&&this.set_paused(!0)};l["flambe.platform.html._HtmlSound.HtmlPlayback"]=k.html._HtmlSound.HtmlPlayback;k.html._HtmlSound.HtmlPlayback.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];k.html._HtmlSound.HtmlPlayback.__interfaces__=
[k.Tickable,I.Playback];k.html._HtmlSound.HtmlPlayback.prototype={updateVolume:function(){this._clonedElement.volume=C.volume._value*this.volume._value},playAudio:function(){var a=this;this._clonedElement.loop&&!k.html.HtmlPlatform.instance.musicPlaying&&(k.html.HtmlPlatform.instance.musicPlaying=!0,this._clonedElement.play(),this._tickableAdded||(k.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=C.volume.get_changed().connect(function(){a.updateVolume()}),
this._hideBinding=C.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)})))},dispose:function(){this.set_paused(!0)},update:function(a){this.volume.update(a);return this._clonedElement.ended||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},get_position:function(){return this._clonedElement.currentTime},get_ended:function(){return this._clonedElement.ended},
set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_paused:function(){return this._clonedElement.paused},__class__:k.html._HtmlSound.HtmlPlayback,__properties__:{set_paused:"set_paused",get_paused:"get_paused",get_ended:"get_ended",get_position:"get_position"}};B.StageSystem=function(){};l["flambe.subsystem.StageSystem"]=B.StageSystem;B.StageSystem.__name__=["flambe","subsystem","StageSystem"];k.html.HtmlStage=function(a){var b=this;
this._canvas=a;this.resize=new r.Signal0;this.scaleFactor=k.html.HtmlStage.computeScaleFactor();1!=this.scaleFactor&&(k.html.HtmlUtil.setVendorStyle(this._canvas,"transform-origin","top left"),k.html.HtmlUtil.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));k.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&(z.window.addEventListener("orientationchange",function(){k.html.HtmlUtil.callLater(t(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());z.window.addEventListener("resize",
t(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new r.Value(null);null!=z.window.orientation&&(z.window.addEventListener("orientationchange",t(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new r.Value(!1);k.html.HtmlUtil.addVendorListener(z.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};l["flambe.platform.html.HtmlStage"]=k.html.HtmlStage;k.html.HtmlStage.__name__=["flambe","platform","html",
"HtmlStage"];k.html.HtmlStage.__interfaces__=[B.StageSystem];k.html.HtmlStage.computeScaleFactor=function(){if(-1!=eval("navigator.userAgent.toLowerCase();").indexOf("ipad"))return 1;var a=z.window.devicePixelRatio;null==a&&(a=1);var b=z.document.createElement("canvas").getContext("2d"),b=k.html.HtmlUtil.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);return a/b};k.html.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==k.html.HtmlUtil.loadFirstExtension(["fullscreen",
"fullScreen","isFullScreen"],z.document).value)},onOrientationChange:function(){this.orientation.set__(k.html.HtmlUtil.orientation(z.window.orientation))},hideMobileBrowser:function(){var a=this,b=z.document.documentElement.style;b.height=z.window.innerHeight+100+"px";b.width=z.window.innerWidth+"px";b.overflow="visible";k.html.HtmlUtil.callLater(function(){k.html.HtmlUtil.hideMobileBrowser();k.html.HtmlUtil.callLater(function(){b.height=z.window.innerHeight+"px";a.onWindowResize(null)},100)})},resizeCanvas:function(a,
b){var d=this.scaleFactor*a,c=this.scaleFactor*b;if(this._canvas.width==d&&this._canvas.height==c)return!1;this._canvas.width=d|0;this._canvas.height=c|0;this.resize.emit0();return!0},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},__class__:k.html.HtmlStage};k.html.HtmlUtil=function(){};l["flambe.platform.html.HtmlUtil"]=k.html.HtmlUtil;
k.html.HtmlUtil.__name__=["flambe","platform","html","HtmlUtil"];k.html.HtmlUtil.callLater=function(a,b){null==b&&(b=0);z.window.setTimeout(a,b)};k.html.HtmlUtil.hideMobileBrowser=function(){z.window.scrollTo(1,0)};k.html.HtmlUtil.loadExtension=function(a,b){null==b&&(b=z.window);var d=F.field(b,a);if(null!=d)return{prefix:"",field:a,value:d};for(var d=a.charAt(0).toUpperCase()+A.substr(a,1,null),c=0,e=k.html.HtmlUtil.VENDOR_PREFIXES;c<e.length;){var f=e[c];++c;var g=f+d,h=F.field(b,g);if(null!=h)return{prefix:f,
field:g,value:h}}return{prefix:null,field:null,value:null}};k.html.HtmlUtil.loadFirstExtension=function(a,b){for(var d=0;d<a.length;){var c=a[d];++d;c=k.html.HtmlUtil.loadExtension(c,b);if(null!=c.field)return c}return{prefix:null,field:null,value:null}};k.html.HtmlUtil.polyfill=function(a,b){null==b&&(b=z.window);var d=k.html.HtmlUtil.loadExtension(a,b).value;if(null==d)return!1;b[a]=d;return!0};k.html.HtmlUtil.setVendorStyle=function(a,b,d){for(var a=a.style,c=0,e=k.html.HtmlUtil.VENDOR_PREFIXES;c<
e.length;){var f=e[c];++c;a.setProperty("-"+f+"-"+b,d)}a.setProperty(b,d)};k.html.HtmlUtil.addVendorListener=function(a,b,d,c){for(var e=0,f=k.html.HtmlUtil.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,d,c)}a.addEventListener(b,d,c)};k.html.HtmlUtil.orientation=function(a){switch(a){case -90:case 90:return q.Orientation.Landscape;default:return q.Orientation.Portrait}};k.html.HtmlUtil.createEmptyCanvas=function(a,b){var d=z.document.createElement("canvas");d.width=a;d.height=
b;return d};k.html.HtmlUtil.createCanvas=function(a){var b=k.html.HtmlUtil.createEmptyCanvas(a.width,a.height),d=b.getContext("2d");d.save();d.globalCompositeOperation="copy";d.drawImage(a,0,0);d.restore();return b};k.html.HtmlUtil.fixAndroidMath=function(){if(0<=z.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};k.html.WebAudioSound=function(a){k.BasicAsset.call(this);this.buffer=a};l["flambe.platform.html.WebAudioSound"]=
k.html.WebAudioSound;k.html.WebAudioSound.__name__=["flambe","platform","html","WebAudioSound"];k.html.WebAudioSound.__interfaces__=[I.Sound];k.html.WebAudioSound.get_supported=function(){if(k.html.WebAudioSound._detectSupport){k.html.WebAudioSound._detectSupport=!1;var a=k.html.HtmlUtil.loadExtension("AudioContext").value;null!=a&&(k.html.WebAudioSound.ctx=new a,k.html.WebAudioSound.gain=null!=k.html.WebAudioSound.ctx.createGainNode?k.html.WebAudioSound.ctx.createGainNode():k.html.WebAudioSound.ctx.createGain(),
k.html.WebAudioSound.gain.connect(k.html.WebAudioSound.ctx.destination),C.volume.watch(function(a){k.html.WebAudioSound.gain.gain.value=a}))}return null!=k.html.WebAudioSound.ctx};k.html.WebAudioSound.__super__=k.BasicAsset;k.html.WebAudioSound.prototype=u(k.BasicAsset.prototype,{onDisposed:function(){this.buffer=null},get_duration:function(){return this.buffer.duration},loop:function(a){null==a&&(a=1);return new k.html._WebAudioSound.WebAudioPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new k.html._WebAudioSound.WebAudioPlayback(this,
a,!1)},__class__:k.html.WebAudioSound,__properties__:{get_duration:"get_duration"}});k.html._WebAudioSound={};k.html._WebAudioSound.WebAudioPlayback=function(a,b,d){var c=this;this._ended=!1;this._sound=a;this._head=k.html.WebAudioSound.gain;this._sourceNode=k.html.WebAudioSound.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=d;this._sourceNode.onended=t(this,this._endedEvent);null!=this._sourceNode.noteOn?this._sourceNode.noteOn(0):this._sourceNode.start(0);this.playAudio();
this.volume=new N.AnimatedFloat(b,function(a){c.setVolume(a)});1!=b&&this.setVolume(b);C.hidden._value&&this.set_paused(!0)};l["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=k.html._WebAudioSound.WebAudioPlayback;k.html._WebAudioSound.WebAudioPlayback.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];k.html._WebAudioSound.WebAudioPlayback.__interfaces__=[k.Tickable,I.Playback];k.html._WebAudioSound.WebAudioPlayback.prototype={playAudio:function(){var a=this;this._sourceNode.connect(this._head);
this._startedAt=k.html.WebAudioSound.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(k.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=C.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},setVolume:function(a){null==this._gainNode&&(this._gainNode=
null!=k.html.WebAudioSound.ctx.createGainNode?k.html.WebAudioSound.ctx.createGainNode():k.html.WebAudioSound.ctx.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},dispose:function(){this.set_paused(!0);null!=this._sourceNode&&(this._sourceNode.disconnect(),this._sourceNode=this._sourceNode.onended=null);null!=this._gainNode&&(this._gainNode.disconnect(),this._gainNode=null);this._tickableAdded=!1;null!=this._hideBinding&&(this._hideBinding.dispose(),this._hideBinding=null)},
update:function(a){this.volume.update(a);return 0<=this._pausedAt||this.get_ended()?(this._tickableAdded=!1,null!=this._hideBinding&&this._hideBinding.dispose(),!0):!1},get_position:function(){return this.get_ended()?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(k.html.WebAudioSound.ctx.currentTime-this._startedAt)%this._sound.get_duration()},get_ended:function(){return null==this._sourceNode||null!=this._sourceNode.playbackState&&3==this._sourceNode.playbackState?!0:this._ended},set_paused:function(a){a!=
0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_paused:function(){return 0<=this._pausedAt},_endedEvent:function(){this._ended=!0},__class__:k.html._WebAudioSound.WebAudioPlayback,__properties__:{set_paused:"set_paused",get_paused:"get_paused",get_ended:"get_ended",get_position:"get_position"}};B={Director:function(){this._transitor=null}};l["flambe.scene.Director"]=B.Director;B.Director.__name__=["flambe","scene","Director"];
B.Director.__super__=P;B.Director.prototype=u(P.prototype,{completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a],b=b._compMap.Scene_5;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];b=this.get_topScene();null!=b&&this.show(b)},show:function(a){a=a._compMap.Scene_5;null!=
a&&a.shown.emit0()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var d=b[a];++a;d.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},get_name:function(){return"Director_3"},__class__:B.Director});B._Director=
{};B._Director.Transitor=function(){};l["flambe.scene._Director.Transitor"]=B._Director.Transitor;B._Director.Transitor.__name__=["flambe","scene","_Director","Transitor"];B._Director.Transitor.prototype={complete:function(){this._transition.complete();this._onComplete()},update:function(a){return this._transition.update(a)},__class__:B._Director.Transitor};B.Scene=function(){};l["flambe.scene.Scene"]=B.Scene;B.Scene.__name__=["flambe","scene","Scene"];B.Scene.__super__=P;B.Scene.prototype=u(P.prototype,
{get_name:function(){return"Scene_5"},__class__:B.Scene});B.Transition=function(){};l["flambe.scene.Transition"]=B.Transition;B.Transition.__name__=["flambe","scene","Transition"];B.Transition.prototype={complete:function(){},update:function(){return!0},__class__:B.Transition};I.Mixer=function(){this._sounds=[]};l["flambe.sound.Mixer"]=I.Mixer;I.Mixer.__name__=["flambe","sound","Mixer"];I.Mixer.__super__=P;I.Mixer.prototype=u(P.prototype,{onRemoved:function(){this.stopAll();this._sounds=[]},stopAll:function(){for(var a=
0,b=this._sounds;a<b.length;){var d=b[a];++a;d.dispose()}},newSound:function(a,b){null==b&&(b=2147483647);var d=new I._Mixer.MixerSound(a,b);this._sounds.push(d);return d},get_name:function(){return"Mixer_2"},__class__:I.Mixer});I._Mixer={};I._Mixer.MixerSound=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};l["flambe.sound._Mixer.MixerSound"]=I._Mixer.MixerSound;I._Mixer.MixerSound.__name__=["flambe","sound","_Mixer","MixerSound"];I._Mixer.MixerSound.__interfaces__=[r.Disposable,
I.Sound];I._Mixer.MixerSound.prototype={dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var d=b[a];++a;d.dispose()}this._source=null;this._playbacks=[]},get_duration:function(){return this._source.get_duration()},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var d=a++,c=this._playbacks[d];if(null==c||c.get_ended())return d}return-1},playOrLoop:function(a,b){var d=this.findOpenChannel();if(0>d)return new k.DummyPlayback(this);var c=b?this._source.loop(a):this._source.play(a);
return this._playbacks[d]=c},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},__class__:I._Mixer.MixerSound,__properties__:{get_duration:"get_duration"}};y={BitmapSprite:function(a){q.Sprite.call(this);this.symbol=a;this.anchorX.set__(a.anchorX);this.anchorY.set__(a.anchorY)}};l["flambe.swf.BitmapSprite"]=y.BitmapSprite;y.BitmapSprite.__name__=["flambe","swf","BitmapSprite"];y.BitmapSprite.__super__=q.Sprite;y.BitmapSprite.prototype=
u(q.Sprite.prototype,{getNaturalHeight:function(){return this.symbol.height},getNaturalWidth:function(){return this.symbol.width},draw:function(a){a.drawSubImage(this.symbol.atlas,0,0,this.symbol.x,this.symbol.y,this.symbol.width,this.symbol.height)},__class__:y.BitmapSprite});y.Symbol=function(){};l["flambe.swf.Symbol"]=y.Symbol;y.Symbol.__name__=["flambe","swf","Symbol"];y.Symbol.prototype={__class__:y.Symbol};y.BitmapSymbol=function(a,b){this._name=a.symbol;this.atlas=b;var d=a.rect;this.x=d[0];
this.y=d[1];this.width=d[2];this.height=d[3];d=a.origin;null!=d?(this.anchorX=d[0],this.anchorY=d[1]):this.anchorY=this.anchorX=0};l["flambe.swf.BitmapSymbol"]=y.BitmapSymbol;y.BitmapSymbol.__name__=["flambe","swf","BitmapSymbol"];y.BitmapSymbol.__interfaces__=[y.Symbol];y.BitmapSymbol.prototype={get_name:function(){return this._name},createSprite:function(){return new y.BitmapSprite(this)},__class__:y.BitmapSymbol,__properties__:{get_name:"get_name"}};y.Library=function(a,b){this._symbols=new w.StringMap;
var d=W.parse(a.getFile(b+"/library.json").toString());this.frameRate=d.frameRate;for(var c=[],e=0,f=d.movies;e<f.length;){var g=f[e];++e;g=new y.MovieSymbol(this,g);c.push(g);this._symbols.set(g.get_name(),g)}e=d.textureGroups;(1!=e[0].scaleFactor||1<e.length)&&null;g=e[0].atlases;for(e=0;e<g.length;){d=g[e];++e;for(var h=a.getTexture(b+"/"+r.Strings.removeFileExtension(d.file)),f=0,d=d.textures;f<d.length;){var i=d[f];++f;i=new y.BitmapSymbol(i,h);this._symbols.set(i.get_name(),i)}}for(e=0;e<c.length;){g=
c[e];++e;f=0;for(d=g.layers;f<d.length;){g=d[f];++f;g=g.keyframes;h=g.length;for(i=0;i<h;){var j=i++,k=g[j];if(null!=k.symbolName){var l=this._symbols.get(k.symbolName);k.symbol=l}if(1==k.duration&&j+1<h&&(j=g[j+1],!j.visible||null==j.symbolName))k.visible=!1}}}};l["flambe.swf.Library"]=y.Library;y.Library.__name__=["flambe","swf","Library"];y.Library.prototype={__class__:y.Library};y.MovieSprite=function(a){this._looped=null;q.Sprite.call(this);this.symbol=a;this.speed=new N.AnimatedFloat(1);this._animators=
Array(a.layers.length);for(var b=0,d=this._animators.length;b<d;){var c=b++;this._animators[c]=new y._MovieSprite.LayerAnimator(a.layers[c])}this._position=this._frame=0;this["goto"](1)};l["flambe.swf.MovieSprite"]=y.MovieSprite;y.MovieSprite.__name__=["flambe","swf","MovieSprite"];y.MovieSprite.__super__=q.Sprite;y.MovieSprite.prototype=u(q.Sprite.prototype,{rewind:function(){this._position=0;this._flags|=32},set_paused:function(a){this._flags=r.BitSets.set(this._flags,16,a);return a},set_position:function(a){return this._position=
H.FMath.clamp(a,0,this.symbol.duration)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,d=this._animators;b<d.length;){var c=d[b];++b;c.needsKeyframeUpdate=!0;c.keyframeIdx=0}b=0;for(d=this._animators;b<d.length;)c=d[b],++b,c.composeFrame(a);this._frame=a}},onUpdate:function(a){q.Sprite.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&48){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=this.symbol.duration,
null!=this._looped&&this._looped.emit0());break;case 32:this._flags&=-33}this["goto"](this._position*this.symbol.frameRate)},onRemoved:function(){q.Sprite.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var d=b[a];++a;this.owner.removeChild(d.content)}},onAdded:function(){q.Sprite.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var d=b[a];++a;this.owner.addChild(d.content)}},__class__:y.MovieSprite});y._MovieSprite={};y._MovieSprite.LayerAnimator=
function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=!1;this.layer=a;this.content=new L;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var b=0,d=this._sprites.length;b<d;){var c=b++,e=a.keyframes[c];this._sprites[c]=0<c&&a.keyframes[c-1].symbol==e.symbol?this._sprites[c-1]:null==e.symbol?new q.Sprite:e.symbol.createSprite()}this.content.add(this._sprites[0])}};l["flambe.swf._MovieSprite.LayerAnimator"]=y._MovieSprite.LayerAnimator;y._MovieSprite.LayerAnimator.__name__=
["flambe","swf","_MovieSprite","LayerAnimator"];y._MovieSprite.LayerAnimator.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,d=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_1.set_visible(!1),this.keyframeIdx=d,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<d&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var c;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,c=this._sprites[this.keyframeIdx],c!=this.content._compMap.Sprite_1&&
(K.getClass(c)==y.MovieSprite&&c.rewind(),this.content.add(c))):c=this.content._compMap.Sprite_1;var e=b[this.keyframeIdx],f=e.visible&&null!=e.symbol;c.set_visible(f);if(f){var f=e.x,g=e.y,h=e.scaleX,i=e.scaleY,j=e.skewX,k=e.skewY,l=e.alpha;if(e.tweened&&this.keyframeIdx<d){a=(a-e.index)/e.duration;d=e.ease;if(0!=d){var n;0>d?(n=1-a,n=1-n*n,d=-d):n=a*a;a=d*n+(1-d)*a}b=b[this.keyframeIdx+1];f+=(b.x-f)*a;g+=(b.y-g)*a;h+=(b.scaleX-h)*a;i+=(b.scaleY-i)*a;j+=(b.skewX-j)*a;k+=(b.skewY-k)*a;l+=(b.alpha-
l)*a}b=c.getLocalMatrix();a=Math.sin(j);j=Math.cos(j);d=Math.sin(k);k=Math.cos(k);b.set(k*h,d*h,-a*i,j*i,f,g);b.translate(-e.pivotX,-e.pivotY);c.alpha.set__(l)}}}},__class__:y._MovieSprite.LayerAnimator};y.MovieSymbol=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var d=0,c=this.layers.length;d<c;){var e=d++,f=new y.MovieLayer(b.layers[e]);this.frames=Math.max(f.frames,this.frames);this.layers[e]=f}this.duration=this.frames/this.frameRate};
l["flambe.swf.MovieSymbol"]=y.MovieSymbol;y.MovieSymbol.__name__=["flambe","swf","MovieSymbol"];y.MovieSymbol.__interfaces__=[y.Symbol];y.MovieSymbol.prototype={createSprite:function(){return new y.MovieSprite(this)},get_name:function(){return this._name},__class__:y.MovieSymbol,__properties__:{get_name:"get_name"}};y.MovieLayer=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var d=0,c=this.keyframes.length;d<c;){var e=d++,b=new y.MovieKeyframe(a.keyframes[e],
b);this.keyframes[e]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+(b.duration|0):0};l["flambe.swf.MovieLayer"]=y.MovieLayer;y.MovieLayer.__name__=["flambe","swf","MovieLayer"];y.MovieLayer.prototype={__class__:y.MovieLayer};y.MovieKeyframe=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;
this.label=a.label;this.symbolName=a.ref;var d=a.loc;null!=d&&(this.x=d[0],this.y=d[1]);d=a.scale;null!=d&&(this.scaleX=d[0],this.scaleY=d[1]);d=a.skew;null!=d&&(this.skewX=d[0],this.skewY=d[1]);d=a.pivot;null!=d&&(this.pivotX=d[0],this.pivotY=d[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=a.ease&&(this.ease=a.ease)};l["flambe.swf.MovieKeyframe"]=y.MovieKeyframe;y.MovieKeyframe.__name__=["flambe","swf","MovieKeyframe"];
y.MovieKeyframe.prototype={__class__:y.MovieKeyframe};r.BitSets=function(){};l["flambe.util.BitSets"]=r.BitSets;r.BitSets.__name__=["flambe","util","BitSets"];r.BitSets.set=function(a,b,d){return d?a|b:a&~b};r.Promise=function(){this.success=new r.Signal1;this.error=new r.Signal1;this.progressChanged=new r.Signal0;this.hasResult=!1;this._total=this._progress=0};l["flambe.util.Promise"]=r.Promise;r.Promise.__name__=["flambe","util","Promise"];r.Promise.prototype={set_total:function(a){this._total!=
a&&(this._total=a,this.progressChanged.emit0());return a},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit0());return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit1(a);return a},__class__:r.Promise};r.Signal0=function(a){r.SignalBase.call(this,a)};l["flambe.util.Signal0"]=r.Signal0;
r.Signal0.__name__=["flambe","util","Signal0"];r.Signal0.__super__=r.SignalBase;r.Signal0.prototype=u(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal0});r._SignalBase={};r._SignalBase.Task=function(a){this.next=null;this.fn=a};l["flambe.util._SignalBase.Task"]=r._SignalBase.Task;r._SignalBase.Task.__name__=["flambe","util","_SignalBase","Task"];r._SignalBase.Task.prototype={__class__:r._SignalBase.Task};r.Strings=function(){};l["flambe.util.Strings"]=
r.Strings;r.Strings.__name__=["flambe","util","Strings"];r.Strings.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?A.substr(a,b+1,null):null};r.Strings.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?A.substr(a,0,b):a};r.Strings.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=A.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=A.substr(a,b+1,null));return r.Strings.getFileExtension(a)};r.Strings.joinPath=function(a,b){47!=a.charCodeAt(a.length-1)&&(a+=
"/");return a+b};r.Strings.withFields=function(a,b){var d=b.length;if(0<d){for(var a=a+(0<a.length?" [":"["),c=0;c<d;){0<c&&(a+=", ");var e=b[c],f=b[c+1];if(M.__instanceof(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+v.string(f);c+=2}a+="]"}return a};E=void 0;w=void 0;Q=void 0;R=void 0;U=void 0;ca=void 0;W=void 0;X=void 0;W=function(){};l["haxe.Json"]=W;W.__name__=["haxe","Json"];W.parse=function(a){return(new W).doParse(a)};W.prototype={parseNumber:function(a){for(var b=this.pos-1,d=45==a,c=!d,
e=48==a,f=!1,g=!1,h=!1,i=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:e&&!f&&this.invalidNumber(b);d&&(d=!1,e=!0);c=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:e&&!f&&this.invalidNumber(b);d&&(d=!1);c=!0;e=!1;break;case 46:(d||f)&&this.invalidNumber(b);c=!1;f=!0;break;case 101:case 69:(d||e||g)&&this.invalidNumber(b);c=!1;g=!0;break;case 43:case 45:(!g||h)&&this.invalidNumber(b);c=!1;h=!0;break;default:c||this.invalidNumber(b),this.pos--,i=!0}if(i)break}a=
v.parseFloat(A.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+A.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new Y;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\u0008";break;case 102:b.b+="\u000c";break;case 47:case 92:case 34:b.b+=
String.fromCharCode(c);break;case 117:a=v.parseInt("0x"+A.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var e=this.str.charCodeAt(this.pos++);
switch(e){case 32:case 13:case 10:case 9:break;case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(e=this.str.charCodeAt(this.pos++),e){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&
this.invalidChar(),this.pos--,b.push(this.parseRec()),a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||
108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:W};U=function(){this.buf=
new Y;this.cache=[];this.useCache=U.USE_CACHE;this.useEnumIndex=U.USE_ENUM_INDEX;this.shash=new w.StringMap;this.scount=0};l["haxe.Serializer"]=U;U.__name__=["haxe","Serializer"];U.run=function(a){var b=new U;b.serialize(a);return b.toString()};U.prototype={serialize:function(a){var b=K["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=v.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=
v.string(a)):this.buf.b+=v.string(0>a?"m":"p");break;case 3:this.buf.b+=v.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var e=a.length,f=0;f<e;)b=f++,null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=v.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=v.string(c)));this.buf.b+="h";break;case aa:this.buf.b+=
"l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=v.string(A.dateStr(a));break;case w.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));this.buf.b+="h";break;case w.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=v.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case w.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=
c.next(),e=F.field(b,"__id__"),F.deleteField(b,"__id__"),this.serialize(b),b.__id__=e,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case X.Bytes:b=0;c=a.length-2;e=new Y;for(f=U.BASE64;b<c;){var g=a.b[b++],h=a.b[b++],i=a.b[b++];e.b+=v.string(f.charAt(g>>2));e.b+=v.string(f.charAt((g<<4|h>>4)&63));e.b+=v.string(f.charAt((h<<2|i>>6)&63));e.b+=v.string(f.charAt(i&63))}b==c?(g=a.b[b++],h=a.b[b++],e.b+=v.string(f.charAt(g>>2)),e.b+=v.string(f.charAt((g<<4|h>>4)&63)),e.b+=v.string(f.charAt(h<<2&63))):
b==c+1&&(g=a.b[b++],e.b+=v.string(f.charAt(g>>2)),e.b+=v.string(f.charAt(g<<4&63)));b=e.b;this.buf.b+="s";this.buf.b+=v.string(b.length);this.buf.b+=":";this.buf.b+=v.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(K.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(K.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+=
"o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=v.string(this.useEnumIndex?"j":"w");this.serializeString(K.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=v.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";e=a.length;this.buf.b+=v.string(e-2);for(f=2;f<e;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+v.string(a);}},serializeFields:function(a){for(var b=
0,c=F.fields(a);b<c.length;){var e=c[b];++b;this.serializeString(e);this.serialize(F.field(a,e))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,e=this.cache.length;c<e;){var f=c++,g=this.cache[f];if(typeof g==b&&g==a)return this.buf.b+="r",this.buf.b+=v.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=v.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=T.urlEncode(a),this.buf.b+=v.string(a.length),
this.buf.b+=":",this.buf.b+=v.string(a))},toString:function(){return this.buf.b},__class__:U};Q=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};l["haxe.Timer"]=Q;Q.__name__=["haxe","Timer"];Q.delay=function(a,b){var c=new Q(b);c.run=function(){c.stop();a()};return c};Q.prototype={run:function(){null},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:Q};R=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=R.DEFAULT_RESOLVER;
null==a&&(a=K,R.DEFAULT_RESOLVER=a);this.setResolver(a)};l["haxe.Unserializer"]=R;R.__name__=["haxe","Unserializer"];R.initCodes=function(){for(var a=[],b=0,c=R.BASE64.length;b<c;){var e=b++;a[R.BASE64.charCodeAt(e)]=e}return a};R.run=function(a){return(new R(a)).unserialize()};R.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=
this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return v.parseFloat(A.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=A.substr(this.buf,this.pos,b);this.pos+=b;a=T.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=K.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),e=K.getEnumConstructs(a)[c];if(null==e)throw"Unknown enum index "+
b+"@"+c;b=this.unserializeEnum(a,e);this.cache.push(b);return b;case 108:b=new aa;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new w.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new w.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new w.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=A.strDate(A.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";e=R.CODES;null==e&&(e=R.initCodes(),R.CODES=e);for(var a=this.pos,f=b&3,g=
a+(b-f),h=X.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),i=0;a<g;){var j=e[c.charCodeAt(a++)],k=e[c.charCodeAt(a++)];h.b[i++]=(j<<2|k>>4)&255;j=e[c.charCodeAt(a++)];h.b[i++]=(k<<4|j>>2)&255;k=e[c.charCodeAt(a++)];h.b[i++]=(j<<6|k)&255}2<=f&&(j=e[c.charCodeAt(a++)],k=e[c.charCodeAt(a++)],h.b[i++]=(j<<2|k>>4)&255,3==f&&(j=e[c.charCodeAt(a++)],h.b[i++]=(k<<4|j>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=K.createEmptyInstance(a);
this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return K.createEnum(a,b);for(var e=[];0<c--;)e.push(this.unserialize());return K.createEnum(a,b,e)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";
if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!M.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(45==e){if(this.pos!=c)break;b=!0}else{if(48>e||57<e)break;a=10*a+(e-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},
__class__:R};w={IntMap:function(){this.h={}}};l["haxe.ds.IntMap"]=w.IntMap;w.IntMap.__name__=["haxe","ds","IntMap"];w.IntMap.__interfaces__=[ba];w.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return A.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:w.IntMap};w.ObjectMap=function(){this.h=
{};this.h.__keys__={}};l["haxe.ds.ObjectMap"]=w.ObjectMap;w.ObjectMap.__name__=["haxe","ds","ObjectMap"];w.ObjectMap.__interfaces__=[ba];w.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return A.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++w.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:w.ObjectMap};w.StringMap=function(){this.h={}};l["haxe.ds.StringMap"]=w.StringMap;w.StringMap.__name__=
["haxe","ds","StringMap"];w.StringMap.__interfaces__=[ba];w.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return A.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+
a]},set:function(a,b){this.h["$"+a]=b},__class__:w.StringMap};X={Bytes:function(a,b){this.length=a;this.b=b}};l["haxe.io.Bytes"]=X.Bytes;X.Bytes.__name__=["haxe","io","Bytes"];X.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new X.Bytes(a,b)};X.Bytes.prototype={__class__:X.Bytes};ca={Meta:function(){}};l["haxe.rtti.Meta"]=ca.Meta;ca.Meta.__name__=["haxe","rtti","Meta"];ca.Meta.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};E={_Fast:{}};E._Fast.NodeAccess=
function(a){this.__x=a};l["haxe.xml._Fast.NodeAccess"]=E._Fast.NodeAccess;E._Fast.NodeAccess.__name__=["haxe","xml","_Fast","NodeAccess"];E._Fast.NodeAccess.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==x.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new E.Fast(b)},__class__:E._Fast.NodeAccess};E._Fast.AttribAccess=function(a){this.__x=a};l["haxe.xml._Fast.AttribAccess"]=E._Fast.AttribAccess;E._Fast.AttribAccess.__name__=
["haxe","xml","_Fast","AttribAccess"];E._Fast.AttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==x.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:E._Fast.AttribAccess};E._Fast.HasAttribAccess=function(a){this.__x=a};l["haxe.xml._Fast.HasAttribAccess"]=E._Fast.HasAttribAccess;E._Fast.HasAttribAccess.__name__=["haxe","xml","_Fast","HasAttribAccess"];E._Fast.HasAttribAccess.prototype=
{__class__:E._Fast.HasAttribAccess};E._Fast.HasNodeAccess=function(a){this.__x=a};l["haxe.xml._Fast.HasNodeAccess"]=E._Fast.HasNodeAccess;E._Fast.HasNodeAccess.__name__=["haxe","xml","_Fast","HasNodeAccess"];E._Fast.HasNodeAccess.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:E._Fast.HasNodeAccess};E._Fast.NodeListAccess=function(a){this.__x=a};l["haxe.xml._Fast.NodeListAccess"]=E._Fast.NodeListAccess;E._Fast.NodeListAccess.__name__=["haxe","xml","_Fast","NodeListAccess"];
E._Fast.NodeListAccess.prototype={resolve:function(a){for(var b=new aa,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new E.Fast(c))}return b},__class__:E._Fast.NodeListAccess};E.Fast=function(a){if(a.nodeType!=x.Document&&a.nodeType!=x.Element)throw"Invalid nodeType "+v.string(a.nodeType);this.x=a;this.node=new E._Fast.NodeAccess(a);this.nodes=new E._Fast.NodeListAccess(a);this.att=new E._Fast.AttribAccess(a);this.has=new E._Fast.HasAttribAccess(a);this.hasNode=new E._Fast.HasNodeAccess(a)};
l["haxe.xml.Fast"]=E.Fast;E.Fast.__name__=["haxe","xml","Fast"];E.Fast.prototype={get_elements:function(){var a=this.x.elements();return{hasNext:t(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new E.Fast(b)}}},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==x.PCData&&c.nodeType==x.CData&&""==T.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==x.PCData&&""==T.trim(b.get_nodeValue())&&
null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=x.PCData&&b.nodeType!=x.CData)throw this.get_name()+" does not have data";return b.get_nodeValue()},get_name:function(){return this.x.nodeType==x.Document?"Document":this.x.get_nodeName()},__class__:E.Fast};E.Parser=function(){};l["haxe.xml.Parser"]=E.Parser;E.Parser.__name__=["haxe","xml","Parser"];E.Parser.parse=function(a){var b=x.createDocument();E.Parser.doParse(a,0,b);return b};E.Parser.doParse=
function(a,b,c){null==b&&(b=0);for(var e=null,f=1,g=1,h=null,i=0,j=0,k=0,l=a.charCodeAt(b),n=new Y;l==l;){switch(f){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:f=g;continue}break;case 1:switch(l){case 60:f=0;g=2;break;default:i=b;f=13;continue}break;case 13:60==l?(f=x.createPCData(n.b+A.substr(a,i,b-i)),n=new Y,c.addChild(f),j++,f=0,g=2):38==l&&(n.addSub(a,i,b-i),f=18,g=13,i=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(f=x.createCData(A.substr(a,i,b-i)),
c.addChild(f),j++,b+=2,f=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=A.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=A.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;f=15}i=b+1;break;case 63:f=14;i=b;break;case 47:if(null==c)throw"Expected node name";i=b+1;f=0;g=10;break;default:f=
3;i=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(b==i)throw"Expected node name";e=x.createElement(A.substr(a,i,b-i));c.addChild(e);f=0;g=4;continue}break;case 4:switch(l){case 47:f=11;j++;break;case 62:f=9;j++;break;default:f=5;i=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(i==b)throw"Expected attribute name";h=A.substr(a,i,b-i);if(e.exists(h))throw"Duplicate attribute";f=0;g=6;continue}break;
case 6:switch(l){case 61:f=0;g=7;break;default:throw"Expected =";}break;case 7:switch(l){case 34:case 39:f=8;i=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(i)&&(g=A.substr(a,i+1,b-i-1),e.set(h,g),f=0,g=4);break;case 9:i=b=E.Parser.doParse(a,b,e);f=1;break;case 11:switch(l){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==j&&c.addChild(x.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==
l||46==l||95==l||45==l)){if(i==b)throw"Expected node name";if(A.substr(a,i,b-i)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;g=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(x.createComment(A.substr(a,i,b-i))),b+=2,f=1);break;case 16:91==l?k++:93==l?k--:62==l&&0==k&&(c.addChild(x.createDocType(A.substr(a,i,b-i))),f=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,f=A.substr(a,i+1,b-i-2),c.addChild(x.createProcessingInstruction(f)),f=
1);break;case 18:59==l&&(i=A.substr(a,i,b-i),35==i.charCodeAt(0)?(i=120==i.charCodeAt(1)?v.parseInt("0"+A.substr(i,1,i.length-1)):v.parseInt(A.substr(i,1,i.length-1)),n.b+=v.string(String.fromCharCode(i))):n.b=E.Parser.escapes.exists(i)?n.b+v.string(E.Parser.escapes.get(i)):n.b+v.string("&"+i+";"),i=b+1,f=g)}l=a.charCodeAt(++b)}1==f&&(i=b,f=13);if(13==f)return(b!=i||0==j)&&c.addChild(x.createPCData(n.b+A.substr(a,i,b-i))),b;throw"Unexpected end";};M=function(){};l["js.Boot"]=M;M.__name__=["js","Boot"];
M.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",e=2,f=a.length;e<f;)var g=e++,c=2!=g?c+(","+M.__string_rec(a[g],b)):c+M.__string_rec(a[g],b);return c+")"}e=a.length;c="[";b+="\t";for(f=0;f<e;)g=f++,c+=(0<g?",":"")+M.__string_rec(a[g],b);return c+"]"}try{f=a.toString}catch(h){return"???"}if(null!=
f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;f=null;c="{\n";b+="\t";e=null!=a.hasOwnProperty;for(f in a)if(!e||a.hasOwnProperty(f))"prototype"==f||"__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+M.__string_rec(a[f],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};M.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;
if(null!=c)for(var e=0,f=c.length;e<f;){var g=e++,g=c[g];if(g==b||M.__interfLoop(g,b))return!0}return M.__interfLoop(a.__super__,b)};M.__instanceof=function(a,b){if(null==b)return!1;switch(b){case ia:return(a|0)===a;case fa:return"number"==typeof a;case ga:return"boolean"==typeof a;case String:return"string"==typeof a;case ja:return!0;default:if(null!=a){if("function"==typeof b){if(a instanceof b)return b==Array?null==a.__enum__:!0;if(M.__interfLoop(a.__class__,b))return!0}}else return!1;return b==
ka&&null!=a.__name__||b==la&&null!=a.__ename__?!0:a.__enum__==b}};M.__cast=function(a,b){if(M.__instanceof(a,b))return a;throw"Cannot cast "+v.string(a)+" to "+v.string(b);};var ha=0;Array.prototype.indexOf&&(A.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0});Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;l.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=
function(a){return isNaN(a)};String.prototype.__class__=l.String=String;String.__name__=["String"];Array.prototype.__class__=l.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=l.Date=Date;Date.__name__=["Date"];var ia=l.Int={__name__:["Int"]},ja=l.Dynamic={__name__:["Dynamic"]},fa=l.Float=Number;fa.__name__=["Float"];var ga=l.Bool=Boolean;ga.__ename__=["Bool"];var ka=l.Class={__name__:["Class"]},la={};x.Element="element";x.PCData="pcdata";x.CData="cdata";x.Comment="comment";x.DocType=
"doctype";x.ProcessingInstruction="processingInstruction";x.Document="document";"undefined"!=typeof JSON&&(W=JSON);c.Achievements.LOCALIZATION_NAME_BASE="achievement_name_";c.Achievements.LOCALIZATION_DESC_BASE="achievement_desc_";c.Achievements.ICON_BASE="achievement_icon_";c.ConstantsApp.OPTION_SILENCE_AUDIO=!1;c.ConstantsApp.OPTION_DEBUG_FLAG=!1;c.ConstantsApp.GAME_VERSION="1.0.0";c.ConstantsApp.STAGE_WIDTH=960;c.ConstantsApp.STAGE_HEIGHT=560;c.ConstantsApp.STAGE_CENTER_X=480;c.ConstantsApp.STAGE_CENTER_Y=
280;c.ConstantsApp.ACHIEVEMENTS_ID="X";c.ConstantsApp.LAYER_BG="layer_bg";c.ConstantsApp.LAYER_SCENE_BACK="layer_scene_back";c.ConstantsApp.LAYER_SCENE_MID="layer_scene_mid";c.ConstantsApp.LAYER_SCENE_FRONT="layer_scene_front";c.ConstantsApp.LAYER_WORLD="layer_world";c.ConstantsApp.LAYER_SNOW="layer_snow";c.ConstantsApp.EVENT_PAUSE="eventPause";c.ConstantsApp.EVENT_UNPAUSE="eventUnpause";c.ConstantsApp.EVENT_MUTE_TOGGLE="EVENT_MUTE_TOGGLE";c.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE="EVENT_WORLD_GENERATION_COMPLETE";
c.ConstantsApp.EVENT_RESIZE_CANVAS="EVENT_RESIZE_CANVAS";c.ConstantsApp.EVENT_JERK_ROCK_THROW="EVENT_JERK_ROCK_THROW";c.ConstantsApp.EVENT_ROCK_HIT="EVENT_ROCK_HIT";c.ConstantsApp.EVENT_ITEM_SELECT="EVENT_ITEM_SELECT";c.ConstantsApp.BOOL_GAME_LOSE="bool_game_lose";c.ConstantsApp.BOOL_GAME_WIN="bool_game_win";c.ConstantsApp.BOOL_LEVEL_LOSE="bool_level_lose";c.ConstantsApp.BOOL_LEVEL_WIN="bool_level_win";c.ConstantsApp.BOOL_PAUSED="bool_paused";c.ConstantsApp.BOOL_TOUCH_DEVICE="bool_touch_device";c.ConstantsApp.BOOL_ORIENTATION_ALERT=
"bool_orientation_alert";c.ConstantsApp.BOOL_CODE_SCREEN_OPEN="bool_code_screen_open";c.ConstantsApp.BOOL_CODE_UNLOCK="bool_code_unlock";c.ConstantsApp.BOOL_ALLOW_UNLOCK="bool_allow_unlock";c.ConstantsApp.BOOL_LOW_QUALITY_MOBILE="bool_low_quality_mobile";c.ConstantsApp.BOOL_JSEMBED_EXISTS="bool_jsembed_exists";c.ConstantsApp.BOOL_BONUS_ROUND="bool_bonus";c.ConstantsApp.BOOL_BONUS="bool_bonus_popup";c.ConstantsApp.BOOL_BONUS_ROBOT="bool_bonus_robot";c.ConstantsApp.BOOL_BOSS_ACTIVE="bool_boss_active";
c.ConstantsApp.INT_HEALTH="int_health";c.ConstantsApp.INT_LIVES="int_lives";c.ConstantsApp.INT_SCORE="int_score";c.ConstantsApp.INT_LOADING_SCORE="int_load_score";c.ConstantsApp.INT_ACHIEVEMENT_SCORE="int_achievement_score";c.ConstantsApp.INT_CURRENCY="int_currency";c.ConstantsApp.INT_GAME_CLASS="int_game_class";c.ConstantsApp.INT_LEVEL="int_level";c.ConstantsApp.INT_JERK_COUNT="int_jerks";c.ConstantsApp.INT_QUALITY="int_quality";c.ConstantsApp.INT_JERKTONIUM="int_jerktonium";c.ConstantsApp.STRING_UNLOCK_CODE=
"string_unlock_code";c.ConstantsApp.STRING_LEVEL_ID="string_level_id";c.ConstantsApp.STRING_SCALE_TYPE="string_scale_type";c.ConstantsApp.INPUT_CLICK="input_click";c.ConstantsApp.INPUT_SPACE="input_space";c.ConstantsApp.INPUT_UP="input_up";c.ConstantsApp.INPUT_DOWN="input_down";c.ConstantsApp.INPUT_LEFT="input_left";c.ConstantsApp.INPUT_RIGHT="input_right";c.ConstantsApp.INPUT_SHIFT="input_shift";c.ConstantsApp.INPUT_CONTROL="input_control";c.ConstantsApp.INPUT_F="input_f";c.ConstantsApp.INPUT_M=
"input_m";c.ConstantsApp.INPUT_V="input_v";c.ConstantsApp.INPUT_Y="input_y";c.ConstantsApp.VIRTUAL_JUMP="v_jump";c.ConstantsApp.VIRTUAL_FLASH="v_flash";c.ConstantsApp.CONFIG_XML_PATH="config/config.xml";c.ConstantsApp.OPTION_HAS_MENU_MUSIC=!0;c.ConstantsApp.benchmarkGoal=2E3;c.ConstantsScreen.SCREEN_MINIGAME="minigame";c.ConstantsScreen.SCREEN_SPLASH="splash";c.ConstantsScreen.SCREEN_HELP="help";c.ConstantsScreen.SCREEN_SHOP="shop";c.ConstantsScreen.SCREEN_GAMEPLAY_HUD="gameplayhud";c.ConstantsScreen.SCREEN_GAMEPLAY_MENU=
"gameplaymenu";c.ConstantsScreen.SCREEN_QUIT_CONFIRM="quitconfirm";c.ConstantsScreen.SCREEN_END_GAME="endgame";c.ConstantsScreen.SCREEN_CUTSCENE_BORDERS="cutsceneborders";c.ConstantsScreen.SCREEN_PAUSE_ALERT="pause";c.ConstantsScreen.SCREEN_ENTER_CODE="entercode";c.ConstantsScreen.SCREEN_ACHIEVEMENTS="achievements";c.ConstantsScreen.SCREEN_ACHIEVEMENT_POPUP="achievementpopup";c.ConstantsScreen.SCREEN_DEBUG="debug";c.ConstantsScreen.EVENT_INITIAL_LOAD_COMPLETE="EVENT_INITIAL_LOAD_COMPLETE";c.ConstantsScreen.CHANGE_OPEN_BEGIN=
0;c.ConstantsScreen.CHANGE_OPEN_COMPLETE=1;c.ConstantsScreen.CHANGE_CLOSE_BEGIN=2;c.ConstantsScreen.CHANGE_CLOSE_COMPLETE=3;c.ConstantsScreen.OUTPUT_OPENED=0;c.ConstantsScreen.OUTPUT_CLOSED=1;c.ConstantsScreen.CONDITION_CLOSED_ALL=0;c.ConstantsScreen.CONDITION_CLOSED_SPECIFIC=1;c.ConstantsScreen.CONDITION_IMMEDIATE=4;c.ConstantsScreen.FLOW_SPLASH_PLAY="FLOW_SPLASH_PLAY";c.ConstantsScreen.FLOW_SPLASH_CLICKTRAY="FLOW_SPLASH_CLICKTRAY";c.ConstantsScreen.FLOW_HELP_CLOSE="FLOW_HELP_CLOSE";c.ConstantsScreen.FLOW_SHOP=
"FLOW_SHOP";c.ConstantsScreen.FLOW_SHOP_CLOSE="FLOW_SHOP_CLOSE";c.ConstantsScreen.FLOW_GAMEPLAY_MENU="FLOW_GAMEPLAY_MENU";c.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE="FLOW_GAMEPLAY_MENU_CLOSE";c.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP="FLOW_GAMEPLAY_MENU_HELP";c.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT="FLOW_GAMEPLAY_MENU_QUIT";c.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES="FLOW_GAMEPLAY_QUIT_YES";c.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO="FLOW_GAMEPLAY_QUIT_NO";c.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN=
"FLOW_END_GAME_PLAY_AGAIN";c.ConstantsScreen.FLOW_BRANCH_GAME_WIN="FLOW_BRANCH_GAME_WIN";c.ConstantsScreen.FLOW_BRANCH_GAME_LOSE="FLOW_BRANCH_GAME_LOSE";c.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN="FLOW_BRANCH_LEVEL_WIN";c.ConstantsScreen.FLOW_BRANCH_LEVEL_LOSE="FLOW_BRANCH_LEVEL_LOSE";c.ConstantsScreen.FLOW_ENTER_CODE_CLOSE="FLOW_ENTER_CODE_CLOSE";c.ConstantsScreen.FLOW_ENTER_CODE_OPEN="FLOW_ENTER_CODE_OPEN";c.ConstantsScreen.FLOW_LOAD_CLOSE="FLOW_LOAD_CLOSE";c.ConstantsScreen.FLOW_MINIGAME_CLOSE="FLOW_MINIGAME_CLOSE";
c.ConstantsScreen.FLOW_MINIGAME_OVER="FLOW_MINIGAME_OVER";c.ConstantsScreen.FLOW_LOADING_DONE="FLOW_LOADING_DONE";c.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP="FLOW_ACHIEVEMENT_POPUP";c.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP_CLOSE="FLOW_ACHIEVEMENT_POPUP_CLOSE";c.ConstantsScreen.FLOW_ACHIEVEMENT="FLOW_ACHIEVEMENT";c.ConstantsScreen.FLOW_ACHIEVEMENT_CLOSE="FLOW_ACHIEVEMENT_CLOSE";c.ConstantsScreen.FLOW_DEBUG_CLOSE="FLOW_CLOSE_DEBUG";j.Element._renderScale=1;h.buttons.ButtonBase.OVER="workinBtnOver";h.buttons.ButtonBase.OUT=
"workinBtnOut";h.buttons.ButtonBase.UP="workinBtnUp";h.buttons.ButtonBase.DOWN="workinBtnDown";h.buttons.ButtonBase.CLICK="workinBtnClick";h.buttons.ButtonBase.CANCEL_DRAG="workinBtnCancelDrag";h.buttons.ButtonBase._scratchPoint=new H.Point;j.Display.EVENT_UPDATE_DISPLAY="event_update_display";h.screens.ScreenEndGame.UI_EVENT_CLICK_MENU="onGameplayClickMenu";h.screens.ScreenGameplayHUD.UI_EVENT_CLICK_MENU="onGameplayClickMenu";h.screens.data.ScreenStateData.ACTION_STOP=0;h.screens.data.ScreenStateData.ACTION_OPENED=
1;h.screens.data.ScreenStateData.ACTION_EVENT=2;h.screens.data.ScreenStateData.ACTION_NEW_STATE=3;h.screens.data.ScreenStateData.ACTION_CLOSED=4;h.screens.data.ScreenStateData.ACTION_FLOW=5;h.screens.minigames.ProtectBurger._ORBIT_RADIUS=40;D.ConstantsCloud.FONT_DEFAULT="Basic";D.ConstantsCloud.STRING_REGION_ID="cloudregionid";D.ConstantsCloud.INT_LOADING_PROGRESS="int_loading_progress";D.ConstantsCloud.LOCALIZATION_XML_PATH="config/";D.ConstantsCloud.EVENT_FILES_LOADING="EVENT_FILES_LOADING";D.ConstantsCloud.EVENT_FILES_ERROR=
"EVENT_FILES_ERROR";D.ConstantsCloud.EVENT_TWEENS_COMPLETE="EVENT_TWEENS_COMPLETE";D.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY="EVENT_INPUT_ARBITRARY_KEY";D.ConstantsCloud.EVENT_VO_STARTED="EVENT_VO_STARTED";D.ConstantsCloud.EVENT_VO_PAUSED="EVENT_VO_PAUSED";D.ConstantsCloud.EVENT_VO_ENDED="EVENT_VO_ENDED";D.ConstantsCloud.scaleFactor=1;D.ConstantsCloud._uniqueId=0;j.PoolManager.ALL_POOLS_FULL="PoolManager_ALL_POOLS_FULL";q.Sprite._scratchPoint=new H.Point;j.RenderSprite.NAME="Sprite_1";j.RenderSprite._renderScale=
1;o.WMEventFlow.EVENT_FLOW="Nflow";o.WMEventInput.EVENT_INPUT="eventinput";o.WMEventInput.PHASE_DOWN=1;o.WMEventInput.PHASE_UP=0;o.WMEventInput.PHASE_MOVE=2;o.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT="Neio";o.WMEventScreenOut.EVENT_SCREEN_OUTPUT="Neso";o.WMEventUpdate.EVENT_UPDATE="eventupdate";f.tween.WorkinTweener._uniqueTimer=0;f.tween.WorkinTweenTracker._tweenRemoval=[];f.tween.WorkinTweenTracker._tweenUpdate=[];i.ServiceAnalytics._offlineUserId="";i.ServiceAnalytics._offlineTrackingId="";
i.ServiceAnalytics._appId="";i.ServiceAnalytics._sessionId="";i.ServiceAnalytics._canadaShowGameTitle="";i.ServiceAnalytics._flagInitted=!1;i.ServiceAnalytics._flagStarted=!1;i.ServiceAnalytics._flagLoaded=!1;i.ServiceAnalytics._flagCanadaTrackingEnabled=!1;i.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID="nkcimocuresid";i.ServiceAnalytics.OPTION_ENABLE_TRACKING=!0;i.ServiceKontagent._flagInitted=!1;i.ServiceKontagent._appId="";i.ServiceKontagent._offlineUserId="";i.ServiceKontagent._offlineTrackingId=
"";i.ServiceKontagent._DEFAULT_SHARED_OBJECT_ID="nkcimocuresid";i.ServiceKontagent.OPTION_ENABLE_TRACKING=!0;i.ServiceKontagent.ST1_PRE_PLAY="Pre-play";i.ServiceKontagent.ST1_IN_PLAY="In-play";i.ServiceKontagent.ST1_POST_PLAY="Post-play";i.ServiceKontagent.ST1_LEVEL_RESULTS="Level_Results";i.ServiceKontagent.ST1_UI="UI";i.ServiceKontagent.ST2_SCREEN_TITLE="Title_screen";i.ServiceKontagent.ST2_SCREEN_CODE="Enter_code_screen";i.ServiceKontagent.ST2_SCREEN_PAUSE="Pause_screen";i.ServiceKontagent.ST2_SCREEN_END=
"Game_over_screen";i.ServiceKontagent.ST2_LEVEL_LOAD="Level_load";i.ServiceKontagent.ST2_LEVEL_COMPLETE="Level_complete";i.ServiceKontagent.ST2_GAME_LIVES="Lives count";i.ServiceOmniture._flagInitted=!1;e.WMPointer._DELTA_ALLOWANCE=30;e.WMPointer._DELTA_TIMEOUT=0.2;e.WorkinUtils._mapEmpty=[];e.PropertyList._dateRegex=new V("(\\d{4}-\\d{2}-\\d{2})(?:T(\\d{2}:\\d{2}:\\d{2})Z)?","");k.html.HtmlPlatform.instance=new k.html.HtmlPlatform;r.SignalBase.DISPATCHING_SENTINEL=new r.SignalConnection(null,null);
C.root=new L;C.uncaughtError=new r.Signal1;C.hidden=new r.Value(!1);C.hasGPU=new r.Value(!1);C.volume=new N.AnimatedFloat(1);C._platform=k.html.HtmlPlatform.instance;C._calledInit=!1;z.window="undefined"!=typeof window?window:null;z.document="undefined"!=typeof window?window.document:null;z.navigator="undefined"!=typeof window?window.navigator:null;s.Manifest.__meta__={obj:{assets:[{fonts_en_simple:[{bytes:12013,md5:"4a54a5c541320230c767d4e659620407",name:"Basic.fnt"},{bytes:56453,md5:"c3dd81ee3923ce1e1c5d474e61c429bf",
name:"Basic.png"}],preload:[{bytes:6794,md5:"39b4d765fb3fbc0d17bac88a3543b93b",name:"debug/debug_button.png"},{bytes:130916,md5:"f337a66f2e627f8de28248b381d9fb02",name:"load_widget/loading_overlay.jpg"},{bytes:8377,md5:"005ea73fdd2ec45881889880eda497ae",name:"spritesheets/loading_faceplate.png"},{bytes:8426,md5:"eb6f77f47ab4e814c8e2e66fec94f89e",name:"spritesheets/loading_spinner.png"},{bytes:14380,md5:"fc3ed1c1a6fadbf6d5c1554d8af42425",name:"spritesheets/text_box_1.png"}],minigame_slots:[{bytes:20681,
md5:"5080190ba23ad46333062d87f5345a85",name:"club.png"},{bytes:27925,md5:"1a3dc44a49703b4b6bd4d905b18a1a1c",name:"diamond.png"},{bytes:16938,md5:"c5e50433959371dab2ac84f589d0d20c",name:"heart.png"},{bytes:42643,md5:"f5c284850603bc10f5f0ba7df3489ee0",name:"slot_overlay.png"},{bytes:23458,md5:"3f982151a487d5b27a695711f1f4fa19",name:"spade.png"},{bytes:59408,md5:"26b627861212332b78194d552d4725d3",name:"testgamebg.jpg"}],gameplay_soundfx:[{bytes:6940,md5:"61886a33b432e562afe75da61b480a4f",name:"button.mp3"},
{bytes:6625,md5:"7d3e0a7e98f335a0a762bc042ed6d3d2",name:"button.ogg"},{bytes:39840,md5:"1af575f1bba0d3f7ea5b76265d03876e",name:"cheer.mp3"},{bytes:54861,md5:"3abbc77b7133b5ff3ff07aa4208be7da",name:"cheer.ogg"},{bytes:7377,md5:"d63f71820434541d043dc4a3f21aab15",name:"clank.mp3"},{bytes:7832,md5:"4a2d6a03b90f1589b1707185cc4a01b6",name:"clank.ogg"},{bytes:5989,md5:"2dc361c9c4841dca534f199f94dde53d",name:"collect.mp3"},{bytes:4826,md5:"60d7dabb61a5f49adcbbae7bb32ab76f",name:"collect.ogg"},{bytes:9276,
md5:"0b793aecdb3280550e551262588ab91e",name:"doo.mp3"},{bytes:8801,md5:"024a2b128a99f451c0837d98534bb6ab",name:"doo.ogg"},{bytes:12560,md5:"24348503411e0b858e0e20517b2cd6a9",name:"explosion.mp3"},{bytes:10034,md5:"4e0a424f0303de68395001a0789b1045",name:"explosion.ogg"},{bytes:11793,md5:"2d67cd511aca3c51dc224edfb253eb0e",name:"gameover.mp3"},{bytes:14458,md5:"4e5f25caf955b8a6d573c845d0241476",name:"gameover.ogg"},{bytes:8256,md5:"667bc74f4973dae5d3037010926b1c6a",name:"hit.mp3"},{bytes:7332,md5:"f509502310a4a7181622a6dda3ceeaed",
name:"hit.ogg"},{bytes:143400,md5:"9c01b38ed8b5a054e4050fc3d40f82ca",name:"music.mp3"},{bytes:207822,md5:"bf3de5b98c2b9e79fe89969feb4cc15c",name:"music.ogg"},{bytes:14384,md5:"c5f997092e618208ba9a8ce56fb8e407",name:"note1.mp3"},{bytes:11804,md5:"d4b7edae64a2ed0c48375f3547bc0a1b",name:"note1.ogg"},{bytes:12848,md5:"8b698580fc36c9582c92d4df88e643f2",name:"note10.mp3"},{bytes:10183,md5:"e5262d85beec884fac8b36eb5e992bf8",name:"note10.ogg"},{bytes:14568,md5:"2d25caed630c677da71fbea7aa7522c4",name:"note11.mp3"},
{bytes:11249,md5:"c54453ace84cc40cac9ac93d26958925",name:"note11.ogg"},{bytes:13032,md5:"74518bff6bd962705c911f53f4c484f2",name:"note12.mp3"},{bytes:10126,md5:"b990a1f478c9b8ce975713d949f4586f",name:"note12.ogg"},{bytes:14376,md5:"a535d1d7900fd0c1a03485cf45a8df4f",name:"note2.mp3"},{bytes:11551,md5:"f089cdcd383cc9b68e371a7764111d7a",name:"note2.ogg"},{bytes:15344,md5:"021b307b11d752b52a1b04d0a8383539",name:"note3.mp3"},{bytes:12285,md5:"61566e837a5a8f3ab52ba703f5e0f41e",name:"note3.ogg"},{bytes:14952,
md5:"fc2e6f5a688fa6b24a35a0d6eed3b2f3",name:"note4.mp3"},{bytes:11957,md5:"aa5a1f9f5f4f4abab34302cf4b1b46e8",name:"note4.ogg"},{bytes:14568,md5:"885607dc957a82f6fc9161d9abd75dbd",name:"note5.mp3"},{bytes:11446,md5:"54a40e589f51af1fa75de173a68ab652",name:"note5.ogg"},{bytes:13808,md5:"785e4fc37596a7a1d99d5b15e5cc67aa",name:"note6.mp3"},{bytes:11313,md5:"34f3ec5fe8d7717305d41f43491579c1",name:"note6.ogg"},{bytes:16872,md5:"2dd6b9ae34d9f5734ee13b51c04dccaa",name:"note7.mp3"},{bytes:13875,md5:"3abbd091bf6ed12e29361b82b305d913",
name:"note7.ogg"},{bytes:12848,md5:"56a247ca259c53db30d347903bafc316",name:"note8.mp3"},{bytes:10315,md5:"6776f859b21f12c146d3332ace90c942",name:"note8.ogg"},{bytes:13032,md5:"d2965345a79f6a9f3f4bca29c3536eb7",name:"note9.mp3"},{bytes:10150,md5:"58f90bf99a21ad0049c000a43b2463b2",name:"note9.ogg"},{bytes:7392,md5:"91d4d128540ba227a9c57d9cab5defca",name:"stomp.mp3"},{bytes:6024,md5:"4a83911d3f15d51ced5b153d910c684c",name:"stomp.ogg"},{bytes:14898,md5:"f7ebbb67b14da5e3140b296632cdd27a",name:"transform.mp3"},
{bytes:13724,md5:"77973398de8c385424cf0329ce95ee40",name:"transform.ogg"},{bytes:6613,md5:"409331e114fb2afb04173fafd7d5df55",name:"whoosh.mp3"},{bytes:5224,md5:"82a1641e88b7550d9cfd4628171ea1e0",name:"whoosh.ogg"}],initial_music:[{bytes:143400,md5:"9c01b38ed8b5a054e4050fc3d40f82ca",name:"game.mp3"},{bytes:207822,md5:"bf3de5b98c2b9e79fe89969feb4cc15c",name:"game.ogg"}],gameplay_sd:[],gameplay_hd:[],gameplay_music:[],gameplay_universal:[{bytes:110438,md5:"ad73ec411c169d64d6d4062538418ce5",name:"elements/scenery/bg_1.jpg"},
{bytes:101430,md5:"df651e67b58649e84fd159e272bdbaed",name:"elements/scenery/bg_2.jpg"},{bytes:123459,md5:"e77fbc53721d3fda2eda1b9513e82091",name:"elements/scenery/bg_3.jpg"},{bytes:120239,md5:"1086522e417c847dffaad8d3dd1a62d7",name:"elements/scenery/bg_4.jpg"},{bytes:117962,md5:"1e0a1fed8358742a950f6127095ce6e2",name:"elements/scenery/bg_5.jpg"},{bytes:588942,md5:"d900a433cb42541d3fc24c4fa31a9c56",name:"elements/scenery/fg_1.png"},{bytes:299689,md5:"d88044fa63f187230cb7d79196bd7036",name:"elements/scenery/fg_2.png"},
{bytes:334536,md5:"bf7bed47cec2311aa89e7a710badeeee",name:"elements/scenery/fg_3.png"},{bytes:279110,md5:"a5419c1058fd3e8e7c3a137485b5e9d1",name:"elements/scenery/fg_4.png"},{bytes:261491,md5:"651f29413a67e652df060b71abf67d58",name:"elements/scenery/fg_5.png"},{bytes:113237,md5:"ca416eb7c40e2cbdd773d91f37ce33d4",name:"elements/scenery/sb_xmas_snow_01.png"},{bytes:132588,md5:"2794a44064a251a569a33ca4158a2533",name:"elements/scenery/sb_xmas_snow_02.png"},{bytes:132734,md5:"e2d779f5c28af1d958dd590aa1b63f88",
name:"elements/scenery/sb_xmas_snow_03.png"},{bytes:137455,md5:"6400d00649702f17c36328d04e634de3",name:"elements/scenery/sb_xmas_snow_04.png"},{bytes:5449,md5:"da2989863cbad3d8ff1ad18c68cc1cca",name:"player_hit.jpg"},{bytes:7410,md5:"9da641ec6d34538baebf214db37c9961",name:"spritesheets/stop_motion_sheet0.plist"},{bytes:1030286,md5:"25ad97cd6ce406f54c417b12d28ddc6d",name:"spritesheets/stop_motion_sheet0.png"},{bytes:12696,md5:"5c5aa4f5b3ca9cd2ddbb3bfa4d37a135",name:"spritesheets/stop_motion_sheet1.plist"},
{bytes:845185,md5:"b175687f4d56a1b371e62ffc2d059939",name:"spritesheets/stop_motion_sheet1.png"},{bytes:17432,md5:"6f1f87f7bd316de3e30e65ed8d339824",name:"spritesheets/stop_motion_sheet2.plist"},{bytes:553474,md5:"4e5579729c32e4336e3be2103e848513",name:"spritesheets/stop_motion_sheet2.png"},{bytes:158229,md5:"f47eb63b951a3389efc2a2607849a6fd",name:"ui/end_screen/gameover_screen.jpg"},{bytes:12804,md5:"0b8f3abf072768847b8a22cd93f1f5e7",name:"ui/gameplay_hud/button_pause_down.png"},{bytes:12804,md5:"0b8f3abf072768847b8a22cd93f1f5e7",
name:"ui/gameplay_hud/button_pause_over.png"},{bytes:12804,md5:"0b8f3abf072768847b8a22cd93f1f5e7",name:"ui/gameplay_hud/button_pause_up.png"},{bytes:28545,md5:"c6c16496236c49cff57698190734bf37",name:"ui/gameplay_hud/gameplay_hud.png"},{bytes:14465,md5:"c0759a5b1e570fa2a5a45a4d8a944b5b",name:"ui/gameplay_hud/jerk_counter.png"},{bytes:4568,md5:"c2707e2bb37490b053ff9db38cc8b312",name:"ui/gameplay_hud/life_0.png"},{bytes:9303,md5:"fb96d482fa498f1522e0ce4b6a448542",name:"ui/gameplay_hud/life_1.png"},{bytes:10363,
md5:"d72244fe699f140a6da5d314ffb485ec",name:"ui/gameplay_hud/life_2.png"},{bytes:9482,md5:"3743194f6c9222f7136b0a818380c0e1",name:"ui/gameplay_hud/life_3.png"},{bytes:192989,md5:"d28da24d20e9bebd7a9a9665823687ec",name:"ui/gameplay_hud/popup.png"},{bytes:8914,md5:"27233c1c11c09a66be1a7588ecda896e",name:"ui/help/help_btn_back.png"},{bytes:154618,md5:"c7a26d7ca818f49abbbc2421db5e3070",name:"ui/help/help_menu.jpg"},{bytes:7304,md5:"9cf04e2d212f7bad0c20ae0b52c4f84b",name:"ui/menu/menu_btn_check.png"},
{bytes:6579,md5:"7d1941f40a3d6df98811bbb4641e7d9a",name:"ui/menu/menu_btn_help.png"},{bytes:6952,md5:"c9e6abea05ee4497d5c7866e44689ca1",name:"ui/menu/menu_btn_quit.png"},{bytes:6570,md5:"a57b483663be387deda00a8e1f8ca680",name:"ui/menu/menu_btn_resume.png"},{bytes:6379,md5:"49bd5e8c4d6c2fc00eafa85ae09d8a06",name:"ui/menu/menu_btn_sound_off.png"},{bytes:8086,md5:"b467392bd20c80fc4959aefe064edfd2",name:"ui/menu/menu_btn_sound_on.png"},{bytes:167420,md5:"fc3ce11940bd9f8cc34504457619898d",name:"ui/menu/menu_container.png"},
{bytes:4984,md5:"46fe40415384eee9332f0bafee0df5b3",name:"ui/quit_confirm/menu_btn_check_qc.png"},{bytes:5196,md5:"86f78c813155e6dc09487e40db1f41d9",name:"ui/quit_confirm/menu_btn_quit_qc.png"},{bytes:105992,md5:"fffc2f6e841a273bd3a641eadc5b246a",name:"ui/quit_confirm/quit_screen_part.png"}],initial_universal:[{bytes:3196,md5:"83c0614f8fedfca361c0be574daef4ec",name:"ui/general/button_vol_off.png"},{bytes:4090,md5:"e34fdec8a926f54921d325b35463a7f3",name:"ui/general/button_vol_on.png"}],minigame_pong:[{bytes:4941,
md5:"1adbb2b25a2a302330e6595c538b8b03",name:"PongBall.png"},{bytes:7388,md5:"81e27c7243071dabfedd94973302acf4",name:"PongPaddle.png"},{bytes:35358,md5:"8f18517550d8dcae8cb816480178ca28",name:"testgamebg.jpg"}],air:[{bytes:4912,md5:"dc1b6528f2e9312e068aad2f53366b7e",name:"Default-568h@2x.png"},{bytes:4588,md5:"6617a9132c7566551711a15f42584d38",name:"Default.png"},{bytes:34016,md5:"0c8d573ff622474a53b7e4c76b75cda7",name:"icons/icon128.png"},{bytes:3411,md5:"9160a9857f1d99d4d1a5722de41941ba",name:"icons/icon16.png"},
{bytes:6111,md5:"db4c0e02b46c24bfabbcf33c6807fbb8",name:"icons/icon32.png"},{bytes:9187,md5:"e310873f7870789ec2ddffb01e3b9c23",name:"icons/icon48.png"}],bootstrap:[{bytes:2114,md5:"ba9e6829ba32e427142251a85cbd4fbb",name:"audio/silent.mp3"},{bytes:5514,md5:"3526550092a0e091f382852de5ef2315",name:"audio/silent.ogg"},{bytes:3684,md5:"5527e13b98eca9df24c123b22d2cb942",name:"config/config.xml"},{bytes:7329,md5:"f8535f14579faaeb737882ecd5bec341",name:"config/translation_cn.xml"},{bytes:7328,md5:"09d064e899c6abedac2d074cef200c4e",
name:"config/translation_en.xml"},{bytes:7329,md5:"f8535f14579faaeb737882ecd5bec341",name:"config/translation_jp.xml"},{bytes:7329,md5:"f8535f14579faaeb737882ecd5bec341",name:"config/translation_kr.xml"},{bytes:7329,md5:"f8535f14579faaeb737882ecd5bec341",name:"config/translation_la.xml"},{bytes:7329,md5:"f8535f14579faaeb737882ecd5bec341",name:"config/translation_ru.xml"},{bytes:173297,md5:"e326ec2b9dbe1c60e4a2eaaa06e9a885",name:"ui/splash/splash_bg.jpg"}],minigame_whack:[{bytes:15385,md5:"8353f3174a574ee446cab8ce046d7f88",
name:"hambaga.png"},{bytes:14317,md5:"5af8b6172eb0f52ad92c39c8bc1b3708",name:"spatula.png"},{bytes:14419,md5:"81bf31678aa8d69c31ddfec624ea6cd3",name:"target.png"},{bytes:365486,md5:"06b9be718d8483076268d69833a80b89",name:"testgamebg.jpg"}],initial_sd:[],initial_hd:[],fonts_ru:[{bytes:33150,md5:"b9f630028c1bbd7d75d198eefd35d528",name:"Basic.fnt"},{bytes:519820,md5:"c8cd4bb39e359243bc623111f08501ac",name:"Basic.png"},{bytes:33156,md5:"610cf454e8dceb675b137eae9819469e",name:"Basic_White.fnt"},{bytes:421273,
md5:"e643ae2d6fa5f8222795f77e3921983e",name:"Basic_White.png"}],fonts_la:[{bytes:24900,md5:"0060e24ec493bb8a3561a9795275bba1",name:"Basic.fnt"},{bytes:421006,md5:"286d7bf2fbed7816bf7a0f759ec3a7c7",name:"Basic.png"},{bytes:24906,md5:"f7510365a57919ed2860a4e9851aabcf",name:"Basic_White.fnt"},{bytes:380342,md5:"787fa20c061df76dabb0b2a23dfab176",name:"Basic_White.png"}],fonts_kr:[{bytes:24900,md5:"0060e24ec493bb8a3561a9795275bba1",name:"Basic.fnt"},{bytes:421006,md5:"286d7bf2fbed7816bf7a0f759ec3a7c7",
name:"Basic.png"},{bytes:24906,md5:"f7510365a57919ed2860a4e9851aabcf",name:"Basic_White.fnt"},{bytes:380342,md5:"787fa20c061df76dabb0b2a23dfab176",name:"Basic_White.png"}],fonts_jp:[{bytes:24900,md5:"0060e24ec493bb8a3561a9795275bba1",name:"Basic.fnt"},{bytes:421006,md5:"286d7bf2fbed7816bf7a0f759ec3a7c7",name:"Basic.png"},{bytes:24906,md5:"f7510365a57919ed2860a4e9851aabcf",name:"Basic_White.fnt"},{bytes:380342,md5:"787fa20c061df76dabb0b2a23dfab176",name:"Basic_White.png"}],fonts_en:[{bytes:11773,md5:"814e075e574a0adb500a4ab584556174",
name:"Basic.fnt"},{bytes:231612,md5:"32200800b3f947f3a46748759621e5b2",name:"Basic.png"},{bytes:11779,md5:"9f41cf70ecd15b44b7d419e91a9b3407",name:"Basic_White.fnt"},{bytes:208786,md5:"3f641f6d5d34e00aaa6e409a7f6657dd",name:"Basic_White.png"}],fonts_cn:[{bytes:24900,md5:"0060e24ec493bb8a3561a9795275bba1",name:"Basic.fnt"},{bytes:421006,md5:"286d7bf2fbed7816bf7a0f759ec3a7c7",name:"Basic.png"},{bytes:24906,md5:"f7510365a57919ed2860a4e9851aabcf",name:"Basic_White.fnt"},{bytes:380342,md5:"787fa20c061df76dabb0b2a23dfab176",
name:"Basic_White.png"}],minigame_universal:[{bytes:352583,md5:"5d3fffa0a35c6294f18c9e199db1c984",name:"minigame_overlay.png"},{bytes:7768,md5:"a8ca758c1464de41c73477e16b573974",name:"minigame_underlay.jpg"}],initial_soundfx:[]}]}};P=s.Manifest;ba=(new V("\\b(Android)\\b","")).match(z.window.navigator.userAgent)?!1:null!=(new XMLHttpRequest).withCredentials;P._supportsCrossOrigin=ba;J.Benchmark._calledStart=!1;J.Benchmark._calledCleanup=!1;q.Font.NEWLINE=new q.Glyph(10);k.BasicKeyboard._sharedEvent=
new g.KeyboardEvent;k.BasicMouse._sharedEvent=new g.MouseEvent;k.BasicPointer._sharedEvent=new g.PointerEvent;k.html.CanvasRenderer.CANVAS_TEXTURES=(new V("(iPhone|iPod|iPad)","")).match(z.window.navigator.userAgent);k.html.HtmlAssetPackLoader._mediaRefCount=0;k.html.HtmlAssetPackLoader._detectBlobSupport=!0;k.html.HtmlUtil.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];k.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=z.window.top==z.window&&(new V("Mobile(/.*)? Safari","")).match(z.navigator.userAgent);
k.html.WebAudioSound._detectSupport=!0;U.USE_CACHE=!1;U.USE_ENUM_INDEX=!1;U.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";R.DEFAULT_RESOLVER=K;R.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";w.ObjectMap.count=0;E.Parser.escapes=function(){var a=new w.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);O.main()})();
