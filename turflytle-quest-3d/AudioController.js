pc.script.attribute("isTitleScreen","boolean",!1),pc.script.create("AudioController",function(a){var b=function(a){this.entity=a},c={missionStart:["mikey- turflytle is on the patrol buzz buzz","mikey- its go time","mikey- turflytle to teh rescue!"],initialTakeoff:["mikey- hello NYC!","mikey- the reutn of truflytle dawg"],attacked:["mikey- ahh buzz buzz help","mikey- flying lose control","Mikey- yell"],tenRings:["mikey- buzz buzz 4","mikey- woohoo"],missionFail:["mikey- well that was kind of harsh, defeat","mikey- aww space apples"],hitEnemy:["mikey- turtle power!","mikey- attack sounds 2","mikey- attack sounds","mikey- buzzzz"],bossDefeated:["mikey- aww yea ninja"],bossMissionStart:["mikey- turflytletime to take out nemisis"],missionComplete:["mikey- happy 2","mikey- turflytle awesome","mikey- this is a partay!","mikey- winning fight sounds","Mikey- that wasnt so hard was it"],collideBuilding:["mikey- hit"],fly60Secs:["mikey- buzz buzz 3"],fly3Mins:["Mikey- this is the coolest thing ever"],fly8Mins:["mikey- singing i love hot suace"]},d={titleScreen:["tmntsg_showtheme_openingloopv1"],stinger:["tmnt_turtleflymusic_stingerv1","tmnt_turtleflymusic_stingerv2","tmnt_turtleflymusic_stingerv3","tmnt_turtleflymusic_stingerv4"],flying:["tmnt_turtleflymusicloop_level1"],nonBattle:["tmnt_turtleflymusicloop_level2"],battle:["tmnt_turtleflymusicloop_level3"]},e={kraangShoot:{list:["turtlefly_shootv1"],loop:!1},collideBuilding:{list:["turtlefly_landv3"],loop:!1},collectMutagen:{list:["turtlefly_getmutagenv1"],loop:!1},dash:{list:["turtlefly_turtletakeoffv1"],loop:!1},missionComplete:{list:["tmnt_turtleflymusic_stingerv1","tmnt_turtleflymusic_stingerv2","tmnt_turtleflymusic_stingerv3"],loop:!1},missionFail:{list:["tmnt_turtleflymusic_stingerv4"],loop:!1},smashEnemy:{list:["turtlefly_shipimpactv6"],loop:!1},damageEnmey:{list:["turtlefly_shipimpactv6"],loop:!1},attacked:{list:["turtlefly_shipimpactv3"],loop:!1},ring:{list:["turtlefly_explosionv1"],loop:!1},takeoff:{list:["turtlefly_turtletakeoffv1"],loop:!1},buttonClick:{list:["turtlefly_buttonv3"],loop:!1},cancelButton:{list:["turtlefly_buttonv2"],loop:!1},run:{list:["turtlefly_runningv1"],loop:!0},bg:{list:["tmntsg_bg_ambient_cityv1"],loop:!0},wind:{list:["turtlefly_windgustv1"],loop:!0},scrapeBuilding:{list:["turtlefly_scrapev2"],loop:!0},scrapeForceField:{list:["turtlefly_electricscrapev1"],loop:!0},close:{list:["turtlefly_electricscrapev2"],loop:!0},countdown:{list:["turtlefly_timerunningoutalarmv1"],loop:!0},carEngine:{list:["turtlefly_carengineeloopv1"],loop:!0},carHorn:{list:["turtlefly_carhornv1","turtlefly_carhornv2"]}};return b.prototype={initialize:function(){this.sfxEntity=this.entity.findByName("SFX"),this.sfxComponent=this.sfxEntity.audiosource,this.isTitleScreen||(this.musicEntity=this.entity.findByName("Music"),this.voEntity=this.entity.findByName("VO"),this.loopedSFX_PlayerEntity=this.entity.findByName("LoopedSFX_Player"),this.loopedSFX_KraangEntity=this.entity.findByName("LoopedSFX_Kraang"),this.loopedSFX_CityEntity=this.entity.findByName("LoopedSFX_City"),this.loopedSFX_CountdownEntity=this.entity.findByName("LoopedSFX_Countdown"),this.musicComponent=this.musicEntity.audiosource||null,this.voComponent=this.voEntity.audiosource,this.loopedSFX_PlayerComponent=this.loopedSFX_PlayerEntity.audiosource,this.loopedSFX_KraangComponent=this.loopedSFX_KraangEntity.audiosource,this.loopedSFX_CityComponent=this.loopedSFX_CityEntity.audiosource,this.loopedSFX_CountdownComponent=this.loopedSFX_CountdownEntity.audiosource,this.levelControllerScript=a.root.findByName("Master").script.LevelController,this.playerScript=a.root.findByName("Player").script.PlayerController,this.missionControllerScript=a.root.findByName("Missions").script.MissionManager,navigator.isCocoonJS?e.scrapeBuilding.loop=!1:e.scrapeBuilding.player=this.loopedSFX_PlayerComponent,e.scrapeForceField.player=this.loopedSFX_PlayerComponent,e.run.player=this.loopedSFX_PlayerComponent,e.wind.player=this.loopedSFX_PlayerComponent,e.bg.player=this.loopedSFX_CityComponent,e.carEngine.player=this.loopedSFX_CityComponent,e.countdown.player=this.loopedSFX_CountdownComponent,e.close.player=this.loopedSFX_KraangComponent)},onEnable:function(){this.isTitleScreen||(this.levelControllerScript.on("playAudio",this._onPlay,this),this.playerScript.on("playAudio",this._onPlay,this),this.missionControllerScript.on("playAudio",this._onPlay,this),this.playerScript.on("adjustVolume",this.adjustVolume,this))},onDisable:function(){this.isTitleScreen||(this.levelControllerScript.off("playAudio",this._onPlay,this),this.playerScript.off("playAudio",this._onPlay,this),this.missionControllerScript.off("playAudio",this._onPlay,this),this.playerScript.off("adjustVolume",this.adjustVolume,this))},update:function(a){},_onPlay:function(a,b,c){switch(a){case"VO":this._playVO(b,c);break;case"Music":this._playMusic(b);break;case"SFX":this._playSFX(b,c)}},_playVO:function(a,b){if(textDic.VO&&(b=b||!1,b||!this.voComponent.channel||!this.voComponent.channel.source)){var d=c[a],e=Math.floor(pc.math.random(0,d.length));this.voComponent.play(d[e]+"."+window.AUDIO_TYPE),this._assert(this.voComponent,d[e])}},_playSFX:function(a,b){var c=b?e[b]:e[a];switch(a){case"stop":if(!c){console.warn(b+" entry does not exist, so can't stop it");break}c.loop?c.player&&c.player.stop():this.sfxComponent.stop();break;case"pause":if(!c){console.warn(b+" entry does not exist, so can't pause it");break}c.loop?c.player&&c.player.pause():this.sfxComponent.pause();break;case"resume":if(!c){console.warn(b+" entry does not exist, so can't resume it");break}c.loop?c.player&&c.player.unpause():this.sfxComponent.unpause();break;default:if(!c){console.warn(a+" entry does not exist");break}var d=c.list,f=Math.floor(pc.math.random(0,d.length)),g=c.loop&&c.player?c.player:this.sfxComponent;g===this.loopedSFX_CityComponent&&("carEngine"===a||(g.volume=1));var f=1===c.list.length?0:Math.floor(pc.math.random(0,d.length));g.play(d[f]+"."+window.AUDIO_TYPE),this._assert(g,d[f])}},_playMusic:function(a){var b=0,c=d[a];"stinger"===a?(this.musicComponent.loop=!1,b=Math.floor(pc.math.random(0,c.length))):this.musicComponent.loop=!0,this.musicComponent.play(c[b]+"."+window.AUDIO_TYPE),this._assert(this.musicComponent,c[b])},adjustVolume:function(a,b,c){var d;switch(a){case"SFX":var f=e[b];f.player?d=f.player:console.warn(b+" does not exist")}if(0===c&&d.stop(),0!==c&&!d.data.channel){var g=e[b].list[0];d.play(g+"."+window.AUDIO_TYPE),this._assert(d,g)}d.volume=c},_assert:function(a,b){a.data.channel||console.warn(b+" does not exist")}},b});