pc.script.attribute("displayName","string",""),pc.script.attribute("unlockNextMission","string",""),pc.script.attribute("time","number",30,{displayName:"Time(Second)"}),pc.script.create("MissionBoss",function(a){var b=function(a){this.entity=a,this.type=MissionTypes.BOSS};return b.prototype={initialize:function(){this.displayName=textDic.Mission.Boss.value,this.missionManager=a.root.findByName("Missions").script.MissionManager,this.missionManager.registerMission(this),this.popup=a.root.findByName("PopupMessage").script.PopupMessage,this.start=this.entity.findByName("Start"),this.startBodyWrapper=this.start.script?this.start.script.BodyWrapper:this.start.findByName("Collision").script.BodyWrapper,this.boss=this.entity.findByName("Boss"),this.boss.script.Boss.on("kill",this._onKill,this),this._initializePath()},update:function(a){PAUSE||this.start.rotateLocal(0,.1,0)},onEnable:function(){this.startBodyWrapper&&this.startBodyWrapper.on("onCollisionEnter",this.onCollisionEnter,this)},onDisable:function(){this.startBodyWrapper&&this.startBodyWrapper.off("onCollisionEnter",this.onCollisionEnter,this)},onCollisionEnter:function(a){"Player"!==a.name||this.boss.enabled||(pc.Utils.debug("MissionBoss","onCollisionEnter",this.displayName+" Started!"),this.missionManager.showMission(this))},_initializePath:function(){for(var a=this.entity.findByName("Path"),b=[],c=a.getChildren(),d=0;d<c.length;d++)b.push(c[d]);this.boss.script.Boss.initializePath(b)},_onKill:function(){this.missionManager&&this.missionManager.missionComplete(this)},disableMission:function(){this.entity.enabled=!1},enableMission:function(){this.entity.enabled=!0},startMission:function(){this.boss.enabled=!0,this.boss.script.Boss.reset()},destroyMission:function(){this.startBodyWrapper&&nick.engine.removeBody(this.startBodyWrapper.body),this.boss.script.Boss.removeBody(),this.entity.destroy()},failMission:function(){this.entity.enabled=!0,this.boss.enabled=!1}},b});