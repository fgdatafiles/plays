/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){var O,c,da,h,w,e,C,k,l,p,ca,g,W,J,F,T,V,X,ga,E,u,Z,$,ea,A,y,B,P,o,i,f,M,N,r,U,I,q,L,R,D;function z(a,b){function d(){}d.prototype=a;var j=new d,c;for(c in b)j[c]=b[c];b.toString!==Object.prototype.toString&&(j.toString=b.toString);return j}function ia(a){return a instanceof Array?function(){return H.iter(a)}:"function"==typeof a.iterator?x(a,a.iterator):a.iterator}function x(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=ma++);var d;null==a.hx__closures__?a.hx__closures__=
{}:d=a.hx__closures__[b.__id__];null==d&&(d=function(){return d.method.apply(d.scope,arguments)},d.scope=a,d.method=b,a.hx__closures__[b.__id__]=d);return d}var m={},n=function(){return A.__string_rec(this,"")},Y=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};m.EReg=Y;Y.__name__=["EReg"];Y.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];
else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:Y};var H=function(){};m.HxOverrides=H;H.__name__=["HxOverrides"];H.dateStr=function(a){var b=a.getMonth()+1,d=a.getDate(),j=a.getHours(),c=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>d?"0"+d:""+d)+" "+(10>j?"0"+j:""+j)+":"+(10>c?"0"+c:""+c)+":"+(10>e?"0"+e:""+e)};H.strDate=function(a){switch(a.length){case 8:var a=
a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};H.cca=function(a,b){var d=a.charCodeAt(b);return d!=d?void 0:d};H.substr=function(a,b,d){if(null!=b&&0!=b&&null!=d&&0>d)return"";null==d&&(d=a.length);0>b?(b=a.length+b,0>b&&(b=
0)):0>d&&(d=a.length+d-b);return a.substr(b,d)};H.remove=function(a,b){for(var d=0,j=a.length;d<j;){if(a[d]==b)return a.splice(d,1),!0;d++}return!1};H.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var ha=function(){};m.Lambda=ha;ha.__name__=["Lambda"];ha.array=function(a){for(var b=[],a=ia(a)();a.hasNext();){var d=a.next();b.push(d)}return b};ha.count=function(a,b){var d=0;if(null==b)for(var j=ia(a)();j.hasNext();)j.next(),
d++;else for(j=ia(a)();j.hasNext();){var c=j.next();b(c)&&d++}return d};var aa=function(){this.length=0};m.List=aa;aa.__name__=["List"];aa.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:aa};var fa=function(){};
m.IMap=fa;fa.__name__=["IMap"];var v=function(){};m.Reflect=v;v.__name__=["Reflect"];v.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};v.field=function(a,b){var d=null;try{d=a[b]}catch(j){}return d};v.setProperty=function(a,b,d){var j;if(a.__properties__&&(j=a.__properties__["set_"+b]))a[j](d);else a[b]=d};v.fields=function(a){var b=[];if(null!=a){var d=Object.prototype.hasOwnProperty,j;for(j in a)"__id__"!=j&&"hx__closures__"!=j&&d.call(a,j)&&b.push(j)}return b};v.isFunction=
function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};v.compareMethods=function(a,b){return a==b?!0:!v.isFunction(a)||!v.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};v.deleteField=function(a,b){if(!v.hasField(a,b))return!1;delete a[b];return!0};v.copy=function(a){for(var b={},d=0,j=v.fields(a);d<j.length;){var c=j[d];++d;b[c]=v.field(a,c)}return b};var t=function(){};m.Std=t;t.__name__=["Std"];t.string=function(a){return A.__string_rec(a,"")};t["int"]=function(a){return a|
0};t.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==H.cca(a,1)||88==H.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};t.parseFloat=function(a){return parseFloat(a)};var ba=function(){this.b=""};m.StringBuf=ba;ba.__name__=["StringBuf"];ba.prototype={addSub:function(a,b,d){this.b+=null==d?H.substr(a,b,null):H.substr(a,b,d)},__class__:ba};var Q=function(){};m.StringTools=Q;Q.__name__=["StringTools"];Q.urlEncode=function(a){return encodeURIComponent(a)};Q.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};
Q.htmlUnescape=function(a){return a.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")};Q.startsWith=function(a,b){return a.length>=b.length&&H.substr(a,0,b.length)==b};Q.isSpace=function(a,b){var d=H.cca(a,b);return 8<d&&14>d||32==d};Q.ltrim=function(a){for(var b=a.length,d=0;d<b&&Q.isSpace(a,d);)d++;return 0<d?H.substr(a,d,b-d):a};Q.rtrim=function(a){for(var b=a.length,d=0;d<b&&Q.isSpace(a,b-d-1);)d++;return 0<d?H.substr(a,
0,b-d):a};Q.trim=function(a){return Q.ltrim(Q.rtrim(a))};Q.replace=function(a,b,d){return a.split(b).join(d)};var K=m.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};K.TNull=["TNull",0];K.TNull.toString=n;K.TNull.__enum__=K;K.TInt=["TInt",1];K.TInt.toString=n;K.TInt.__enum__=K;K.TFloat=["TFloat",2];K.TFloat.toString=n;K.TFloat.__enum__=K;K.TBool=["TBool",3];K.TBool.toString=n;K.TBool.__enum__=K;K.TObject=["TObject",4];
K.TObject.toString=n;K.TObject.__enum__=K;K.TFunction=["TFunction",5];K.TFunction.toString=n;K.TFunction.__enum__=K;K.TClass=function(a){a=["TClass",6,a];a.__enum__=K;a.toString=n;return a};K.TEnum=function(a){a=["TEnum",7,a];a.__enum__=K;a.toString=n;return a};K.TUnknown=["TUnknown",8];K.TUnknown.toString=n;K.TUnknown.__enum__=K;var S=function(){};m.Type=S;S.__name__=["Type"];S.getClass=function(a){return null==a?null:a.__class__};S.getClassName=function(a){return a.__name__.join(".")};S.getEnumName=
function(a){return a.__ename__.join(".")};S.resolveClass=function(a){a=m[a];return null==a||!a.__name__?null:a};S.resolveEnum=function(a){a=m[a];return null==a||!a.__ename__?null:a};S.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};S.createEnum=function(a,b,d){var j=v.field(a,b);if(null==j)throw"No such constructor "+b;if(v.isFunction(j)){if(null==d)throw"Constructor "+b+" need parameters";return j.apply(a,d)}if(null!=d&&0!=d.length)throw"Constructor "+b+" does not need parameters";
return j};S.getEnumConstructs=function(a){return a.__constructs__.slice()};S["typeof"]=function(a){switch(typeof a){case "boolean":return K.TBool;case "string":return K.TClass(String);case "number":return Math.ceil(a)==a%2147483648?K.TInt:K.TFloat;case "object":if(null==a)return K.TNull;var b=a.__enum__;if(null!=b)return K.TEnum(b);a=a.__class__;return null!=a?K.TClass(a):K.TObject;case "function":return a.__name__||a.__ename__?K.TObject:K.TFunction;case "undefined":return K.TNull;default:return K.TUnknown}};
m.XmlType={__ename__:["XmlType"],__constructs__:[]};var G=function(){};m.Xml=G;G.__name__=["Xml"];G.parse=function(a){return J.Parser.parse(a)};G.createElement=function(a){var b=new G;b.nodeType=G.Element;b._children=[];b._attributes=new F.StringMap;b.set_nodeName(a);return b};G.createPCData=function(a){var b=new G;b.nodeType=G.PCData;b.set_nodeValue(a);return b};G.createCData=function(a){var b=new G;b.nodeType=G.CData;b.set_nodeValue(a);return b};G.createComment=function(a){var b=new G;b.nodeType=
G.Comment;b.set_nodeValue(a);return b};G.createDocType=function(a){var b=new G;b.nodeType=G.DocType;b.set_nodeValue(a);return b};G.createProcessingInstruction=function(a){var b=new G;b.nodeType=G.ProcessingInstruction;b.set_nodeValue(a);return b};G.createDocument=function(){var a=new G;a.nodeType=G.Document;a._children=[];return a};G.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&H.remove(a._parent._children,a);a._parent=this;this._children.push(a)},firstElement:function(){if(null==
this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var d=this._children[a];if(d.nodeType==G.Element)return d;a++}return null},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,d=this.x.length;b<d;){var j=this.x[b];if(j.nodeType==G.Element&&j._nodeName==a)break;b++}this.cur=b;return b<d},next:function(){for(var b=this.cur,d=this.x.length;b<d;){var j=this.x[b];b++;if(j.nodeType==G.Element&&
j._nodeName==a)return this.cur=b,j}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&!(this.x[a].nodeType==G.Element);)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var d=this.x[a],a=a+1;if(d.nodeType==G.Element)return this.cur=a,d}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<
this.x.length},next:function(){return this.x[this.cur++]}}},exists:function(a){if(this.nodeType!=G.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=G.Element)throw"bad nodeType";this._attributes.set(a,b)},get:function(a){if(this.nodeType!=G.Element)throw"bad nodeType";return this._attributes.get(a)},set_nodeValue:function(a){if(this.nodeType==G.Element||this.nodeType==G.Document)throw"bad nodeType";return this._nodeValue=a},get_nodeValue:function(){if(this.nodeType==
G.Element||this.nodeType==G.Document)throw"bad nodeType";return this._nodeValue},set_nodeName:function(a){if(this.nodeType!=G.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=G.Element)throw"bad nodeType";return this._nodeName},__class__:G};O=function(){};c=void 0;da=void 0;h=void 0;w=void 0;m["com.nick.engines.quiz_2014.DocumentApp"]=O;O.__name__=["com","nick","engines","quiz_2014","DocumentApp"];O.main=function(){B.init();O._fillEntity=new P;O._fillSprite=
new o.FillSprite(16777215,2048,1024);O._fillEntity.add(O._fillSprite);B.root.addChild(O._fillEntity);e.JSEmbedProxy.get_exists()?e.JSEmbedProxy.get_isCrossdomain()?e.WorkinCloud.get_instance().get_assets().setCrossdomainBaseUrl(O.appendAssetsToUrl(e.JSEmbedProxy.get_base())):e.WorkinCloud.get_instance().get_assets().set_baseUrl(O.trimUrl(e.JSEmbedProxy.get_base())):e.WorkinCloud.get_instance().get_assets().set_baseUrl("");var a=e.WorkinCloud.get_instance().get_assets().get_baseUrl(),a=Q.replace(a,
"assets/","");"/"==a.charAt(0)&&(a=y.location.host+a);c.ConstantsApp.BASE_URL=a;e.WorkinCloud.get_instance().log("[DocumentApp](main) Load bootstrap");e.WorkinCloud.get_instance().get_dispatcher().addEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,O._onBootstrapLoad);e.WorkinCloud.get_instance().get_assets().addPackDef("bootstrap");e.WorkinCloud.get_instance().get_assets().loadPack("bootstrap")};O._onBootstrapLoad=function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,
O._onBootstrapLoad);O._initQuiz();e.WorkinCloud.get_instance().log("[DocumentApp](_onBootstrapLoad) Load fonts");e.WorkinCloud.get_instance().get_dispatcher().addEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,O._onFontLoad);e.WorkinCloud.get_instance().get_assets().addPackDef("fonts_"+e.WorkinCloud.get_instance().getString(C.ConstantsCloud.STRING_REGION_ID));e.WorkinCloud.get_instance().get_assets().loadPack("fonts_"+e.WorkinCloud.get_instance().getString(C.ConstantsCloud.STRING_REGION_ID))};O._onFontLoad=
function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,O._onFontLoad);O._initServices();T.delay(O._initMain,800)};O._initMain=function(){O._main=new da};O._initQuiz=function(){var a=e.WorkinCloud.get_instance().get_assets().getXML(c.ConstantsApp.CONFIG_XML_PATH);c.ConstantsApp.OPTION_DEBUG="true"==a.node.resolve("debug").att.resolve("enabled").toString();e.WorkinCloud.get_instance().setString(C.ConstantsCloud.STRING_REGION_ID,t.string(a.node.resolve("localization").node.resolve("region").get_innerData()));
e.WorkinCloud.get_instance().log("[Main] Localization : Set Region: "+e.WorkinCloud.get_instance().getString(C.ConstantsCloud.STRING_REGION_ID))};O.changeColor=function(a){a!=c.ConstantsApp.COLOR_NONE&&(O._fillSprite.color=a)};O._initServices=function(){for(var a=e.WorkinCloud.get_instance().get_assets().getXML(c.ConstantsApp.CONFIG_XML_PATH).node.resolve("services").nodes.resolve("service").iterator();a.hasNext();){var b=a.next();switch(b.att.resolve("type").toString()){case "nickanalytics":"true"==
b.att.resolve("enabled").toString()&&e.WorkinCloud.get_instance().log("[DocumentApp](_initServices) initNickAnalytics");break;case "analytics":"true"==b.att.resolve("enabled").toString()&&(e.WorkinCloud.get_instance().log("[DocumentApp](_initServices) initAnalytics"),k.ServiceAnalytics.init(b.att.resolve("id").toString()));break;case "canadaTracking":"true"==b.att.resolve("enabled").toString()&&(e.WorkinCloud.get_instance().log("[DocumentApp](_initServices) initCanadaTracking"),k.ServiceAnalytics.enableCanadaTracking(b.att.resolve("showGameTitle").toString()))}}};
O.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=H.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=H.substr(a,b,a.length-b);return a=O.appendAssetsToUrl(a)};O.appendAssetsToUrl=function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};da=function(){this._MIN_FPS=1/15;this._RATE_REFRESH_SCALE=0.4;e.WorkinCloud.get_instance().log("[Main] Constructed");
this._root=B.root;this._timeline=new P;this._root.addChild(this._timeline);B.uncaughtError.connect(x(this,this.errorHandler));e.WorkinCloud.get_instance().get_input().prime();this._scaleSprite=new o.Sprite;this._timeline.add(this._scaleSprite);this._layerWorld=new P;this._layerUI=new P;this._timeline.addChild(this._layerWorld);this._timeline.addChild(this._layerUI);this._dt=0;this._timerRefreshScale=0.0010;this._isUIActive=this._isWorldActive=!1;this._flagFirstPlay=!0;this._flagInitialLoadComplete=
this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._flagJSEmbedExists=this._flagJSEmbedPauseState=!1;e.WorkinCloud.get_instance().set_debugText(new l.DebugElement({pointerEnabled:!1,visible:c.ConstantsApp.OPTION_DEBUG}));this._layerUI.addChild(e.WorkinCloud.get_instance().get_debugText().get_root());e.WorkinCloud.get_instance().get_debugText().addText("Version: "+c.ConstantsApp.VERSION);e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_SCALE_TYPE,"none");if(A.__instanceof(B._platform.getStage(),
i.html.HtmlStage)){var a=B._platform.getStage();c.ConstantsApp.scaleFactor=a.scaleFactor}this._flagJSEmbedExists=e.JSEmbedProxy.get_exists();e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS,this._flagJSEmbedExists);this._flagJSEmbedExists&&e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_SCALE_TYPE,e.JSEmbedProxy.get_scaleType());c.ConstantsApp.OPTION_FILL_TO_CANVAS="fillto"==e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_SCALE_TYPE)||"fit"==e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_SCALE_TYPE);
c.ConstantsApp.OPTION_FILL_CANVAS="fill"==e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_SCALE_TYPE)||"fillto"==e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_SCALE_TYPE);c.ConstantsApp.OPTION_FILL_CANVAS="none"!=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_SCALE_TYPE);this._flagJSEmbedExists&&!c.ConstantsApp.OPTION_FILL_CANVAS&&(c.ConstantsApp.STAGE_WIDTH=1024,c.ConstantsApp.STAGE_HEIGHT=640);this._canvasDimensions={width:c.ConstantsApp.get_CANVAS_WIDTH(),
height:c.ConstantsApp.get_CANVAS_HEIGHT()};this._flowstack=[];this._addEventListeners();this._beginEngine()};m["com.nick.engines.quiz_2014.Main"]=da;da.__name__=["com","nick","engines","quiz_2014","Main"];da.prototype={_disposeWorld:function(){this._isWorldActive&&(e.WorkinCloud.get_instance().log("[Main](_disposeWorld)"),this._isWorldActive=!1,this._world.dispose(),this._world=null)},_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0,e.WorkinCloud.get_instance().get_sound().playSound("audio/silent"))},
_onEventFilesLoading:function(a){e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LOADING_PROGRESS,a.get_data().value)},_onEventInput:function(a){this._handleWebAudioUnlock();e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)||this._isWorldActive&&this._world.handleInput(a)},_onMuteToggle:function(){e.WorkinCloud.get_instance().get_sound().setMute(!e.WorkinCloud.get_instance().get_sound().getMute());k.ServiceNickAnalytics.sendMetric(k.ANALYTICS_EVENTS.VOLUME_BUTTON)},
_enableInput:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(p.WMEventInput.EVENT_INPUT,x(this,this._onEventInput))},_addEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(p.WMEventUpdate.EVENT_UPDATE,x(this,this._onEventUpdate));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_MUTE_TOGGLE,x(this,this._onMuteToggle));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE,
x(this,this._onWorldGenerationComplete));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(C.ConstantsCloud.EVENT_FILES_LOADING,x(this,this._onEventFilesLoading))},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UNPAUSE))},_pauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!0);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_PAUSE))},
_hideOrientationAlert:function(){e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(e.WorkinCloud.get_instance().log("[Main](_showOrientationAlert) Back to landscape."),e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT,!1),e.JSEmbedProxy.unpause(),e.JSEmbedProxy.alertOff(),this._flagGameplayPaused||this._unpauseGameplay())},_showOrientationAlert:function(){e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)||(e.WorkinCloud.get_instance().log("[Main](_showOrientationAlert) Portrait mode!"),
e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT,!0),e.JSEmbedProxy.pause(),this._pauseGameplay(!1))},_onEventUpdate:function(a){this._dt=a.get_dt();this._dt=Math.round(1E3*this._dt)/1E3;this._dt>this._MIN_FPS&&(this._dt=this._MIN_FPS);this._timerAnalytics+=this._dt;if(this._flagJSEmbedExists&&(e.JSEmbedProxy.get_isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=e.JSEmbedProxy.get_isPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay()),
this._timerRefreshScale-=this._dt,0>=this._timerRefreshScale)){this._timerRefreshScale=this._RATE_REFRESH_SCALE;if(this._flagJSEmbedExists)if(c.ConstantsApp.OPTION_FILL_TO_CANVAS)a=c.ConstantsApp.get_CANVAS_SCALE(),a!=this._scaleSprite.scaleX._value&&(this._scaleSprite.scaleX.set__(this._scaleSprite.scaleY.set__(a)),e.WorkinCloud.get_instance().get_input().set_scale(a),c.ConstantsApp.OPTION_FILL_CANVAS&&(this._scaleSprite.x.set__(-1*c.ConstantsApp.get_CANVAS_LEFT_ABSOLUTE()),this._scaleSprite.y.set__(-1*
c.ConstantsApp.get_CANVAS_TOP_ABSOLUTE()),e.WorkinCloud.get_instance().get_input().get_offset().to(c.ConstantsApp.get_CANVAS_LEFT(),c.ConstantsApp.get_CANVAS_TOP())),e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(c.ConstantsApp.EVENT_RESIZE_CANVAS,{scale:a})));else if(c.ConstantsApp.get_CANVAS_WIDTH()!=this._canvasDimensions.width||c.ConstantsApp.get_CANVAS_HEIGHT()!=this._canvasDimensions.height)this._canvasDimensions={width:c.ConstantsApp.get_CANVAS_WIDTH(),height:c.ConstantsApp.get_CANVAS_HEIGHT()},
e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(c.ConstantsApp.EVENT_RESIZE_CANVAS,{}));if(this._flagOrientationAlert&&this._flagInitialLoadComplete){if(e.JSEmbedProxy.get_canvasHeight()>e.JSEmbedProxy.get_canvasWidth()){this._showOrientationAlert();return}if(e.WorkinCloud.get_instance().getValue(c.ConstantsApp.BOOL_ORIENTATION_ALERT)){this._hideOrientationAlert();return}}}e.WorkinCloud.get_instance().update(this._dt);this._isWorldActive&&(this._world.update(this._dt),
this._world.render());e.WorkinCloud.get_instance().get_sound().update(this._dt)},_generateWorld:function(){this._isWorldActive&&this._disposeWorld();e.WorkinCloud.get_instance().log("[Main](_generateWorld)");this._isWorldActive=!0;this._world=new h.World(this._layerWorld)},_enableSplash:function(){e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_TOUCH_DEVICE)||c.ConstantsApp.OPTION_HAS_MENU_MUSIC&&e.WorkinCloud.get_instance().get_sound().playMusic("audio/menu",0.5);this._enableInput();k.ServiceAnalytics.sendMilestone("custom2")},
_onWorldGenerationCompleteDelay:function(){this._world.start();this._unpauseGameplay();k.ServiceAnalytics.sendMilestone("custom6");this._timerAnalytics=0;k.ServiceNickAnalytics.sendMetric(k.ANALYTICS_EVENTS.LEVEL_START)},_onWorldGenerationComplete:function(){T.delay(x(this,this._onWorldGenerationCompleteDelay),300);k.ServiceNickAnalytics.sendMetric(k.ANALYTICS_EVENTS.LEVEL_LOAD,this._timerAnalytics)},_registerInput:function(){e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_LEFT,
[f.Key.Left,f.Key.A]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_RIGHT,[f.Key.Right,f.Key.D]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_UP,[f.Key.Up,f.Key.W],[c.ConstantsApp.VIRTUAL_JUMP]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_DOWN,[f.Key.Down,f.Key.S]);e.WorkinCloud.get_instance().get_input().registerInput(c.ConstantsApp.INPUT_SPACE,[f.Key.Z,f.Key.Space],[c.ConstantsApp.VIRTUAL_FLASH])},_setDefaults:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PAUSED,
!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_UI_PAUSED,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_GAME_WIN,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_GAME_LOSE,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LEVEL_WIN,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LEVEL_LOSE,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_CODE_SCREEN_OPEN,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT,
!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_CODE_UNLOCK,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PRELOAD_LOADED,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_INITIAL_LOADED,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_GAMEPLAY_LOADED,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_TOUCH_DEVICE,B._platform.getTouch().get_supported());e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_RESULTS,!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_SHARE,
!1);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_OMNITURE_ENABLED,!0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_HEALTH,3);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LIVES,3);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_SCORE,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LOADING_PROGRESS,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LOADING_SCORE,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_ACHIEVEMENT_SCORE,0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_QUALITY,
0);e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_COLOR_THRESHOLD,150);e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_LEVEL_ID,"level1");e.WorkinCloud.get_instance().get_sound().setMute(c.ConstantsApp.OPTION_SILENCE_AUDIO)},_beginEngine:function(){e.WorkinCloud.get_instance().log("[Main](_beginEngine)");this._timeline.add(new ca.ComponentUpdater);this._parseConfigXML();var a=this._parseConfigQuizXML();this._setDefaults();this._registerInput();a||this._beginPreload()},_startGame:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_INITIAL_LOADED,
!0);this._flagInitialLoadComplete=!0;T.delay(x(this,this._enableSplash),1200);k.ServiceNickAnalytics.sendMetric(k.ANALYTICS_EVENTS.GAME_LOAD,this._timerAnalytics)},_onEventFilesLoaded:function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(C.ConstantsCloud.EVENT_FILES_ERROR,x(this,this._onEventFilesError));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,x(this,this._onEventFilesLoaded));e.WorkinCloud.get_instance().log("[Main](_onEventFilesLoaded) Initial load complete!");
this._startGame()},_onEventFilesError:function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(C.ConstantsCloud.EVENT_FILES_ERROR,x(this,this._onEventFilesError));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,x(this,this._onEventFilesLoaded));e.WorkinCloud.get_instance().log("[Main](_onEventFilesError) Initial load failed!");e.WorkinCloud.get_instance().get_debugText().addText("One of the loadStart files has failed to load.  All other loadStart files will not appear.");
this._startGame()},_eventLoadCompleteInitial:function(){e.WorkinCloud.get_instance().log("[Main](_eventLoadCompleteInitial) Initial load complete!");e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);e.WorkinCloud.get_instance().get_dispatcher().addEventListener(C.ConstantsCloud.EVENT_FILES_ERROR,x(this,this._onEventFilesError));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,
x(this,this._onEventFilesLoaded));e.WorkinCloud.get_instance().get_assets().loadFiles("initial_images")},_loadChunksDelayCallback:function(){this._loadChunks(this._loadChunksCurrent,this._loadCallbackMethod,0,!1)},_loadChunks:function(a,b,d){null==d&&(d=0);for(var j=0,s=!0;j<a.length;)e.WorkinCloud.get_instance().get_assets().isChunkLoaded(a[j])||(s=!1),j++;if(s)return!0;e.WorkinCloud.get_instance().get_assets().isLoading()||e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_LOADING_PROGRESS,
0);this._loadChunksCurrent=a;this._loadCallbackMethod=b;if(0<d)return T.delay(x(this,this._loadChunksDelayCallback),d),!1;e.WorkinCloud.get_instance().get_dispatcher().addEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);for(j=0;j<a.length;)e.WorkinCloud.get_instance().get_assets().isChunkLoaded(a[j])||e.WorkinCloud.get_instance().get_assets().loadChunk(a[j]),j++;return!1},_determineLoadProcess:function(a){e.WorkinCloud.get_instance().log("[Main](_determineLoadProcess) Performance benchmark: "+
a);a=a<c.ConstantsApp.benchmarkGoal?0:1;e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_QUALITY,a);this._beginInitialLoad(a)},_beginInitialLoad:function(a){e.WorkinCloud.get_instance().log("[Main](_beginInitialLoad) Beginning initial load.");if(0==a)a="initial_sd";else if(1==a)a="initial_hd";else throw"[Main](_beginInitialLoad) Error: Not expecting quality flag "+a+". Nothing loaded.";var b;b=C.ConstantsCloud.getSupportsAllAudio()?"initial_audio_with_soundfx":"initial_audio_only_music";this._loadChunks([a,
b],x(this,this._eventLoadCompleteInitial),1200,!1)},_onPreloadFinished:function(){e.WorkinCloud.get_instance().log("[Main](_onPreloadFinished) Preload complete!");e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,x(this,this._onPreloadFinished));e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PRELOAD_LOADED,!0);var a=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_QUALITY);-1==a?M.Benchmark.start(x(this,this._determineLoadProcess)):
this._beginInitialLoad(a)},_beginPreload:function(){this._timerAnalytics=0;e.WorkinCloud.get_instance().log("[Main](_beginPreload) Beginning preload");e.WorkinCloud.get_instance().get_dispatcher().addEventListener(C.ConstantsCloud.EVENT_FILES_LOADED,x(this,this._onPreloadFinished));this._isWorldActive?e.WorkinCloud.get_instance().log("[Main](_gotoAndPlayGame) World already exists. Using existing world instead of creating a new one."):this._generateWorld();e.WorkinCloud.get_instance().get_assets().loadChunk("preload")},
_addFile:function(a,b){""==a||null==a||Q.startsWith(a,"template_")||e.WorkinCloud.get_instance().get_assets().addFile(b+a,e.WorkinUtils.removeExtension(a),!1,"initial_images",e.WorkinUtils.getExtension(a))},_parseQuizXML:function(a,b,d){null==d&&(d=!1);var j=e.WorkinCloud.get_instance().get_assets().get_baseUrl(),j=-1==j.indexOf("assets")?j+("assets/"+c.ConstantsApp.FOLDER):j+c.ConstantsApp.FOLDER;b.offset=a.has.resolve("offsetX")&&a.has.resolve("offsetY")?{x:t.parseInt(a.att.resolve("offsetX").toString()),
y:t.parseInt(a.att.resolve("offsetY").toString())}:{x:0,y:0};b.x=a.has.resolve("x")?t.parseInt(a.att.resolve("x").toString()):null;b.y=a.has.resolve("y")?t.parseInt(a.att.resolve("y").toString()):null;b.url=a.has.resolve("url")?a.att.resolve("url").toString():"";b.shadow=a.has.resolve("shadow")?"true"==a.att.resolve("shadow").toString():!1;b.text=a.has.resolve("text")?a.att.resolve("text").toString():"";b.textSpacing=a.has.resolve("textSpacing")?t.parseFloat(a.att.resolve("textSpacing").toString()):
C.ConstantsCloud.FONT_DEFAULT_SPACING;b.textWidth=a.has.resolve("textWidth")?t.parseFloat(a.att.resolve("textWidth").toString()):c.ConstantsApp.MIN_TEXT_WIDTH;a.has.resolve("textAlign")&&(b.textAlign=a.att.resolve("textAlign").toString());a.has.resolve("bgColor")?(b.bgColor=e.WorkinUtils.getColor(a.att.resolve("bgColor").toString()),b.bgColorHex=e.WorkinUtils.getColorHex(a.att.resolve("bgColor").toString())):(b.bgColor=c.ConstantsApp.COLOR_NONE,b.bgColorHex="white");a.has.resolve("textColor")?(b.textColor=
e.WorkinUtils.getColor(a.att.resolve("textColor").toString()),b.textColorHex=e.WorkinUtils.getColorHex(a.att.resolve("textColor").toString())):b.textColor=c.ConstantsApp.COLOR_NONE;b.textColor==c.ConstantsApp.COLOR_NONE&&(b.textColor=C.ConstantsCloud.FONT_DEFAULT_COLOR);b.image=a.has.resolve("image")?a.att.resolve("image").toString():"";b.imageText=a.has.resolve("imageText")?a.att.resolve("imageText").toString():"";a.has.resolve("video")?a.has.resolve("formats")?b.video={asset:a.att.resolve("video").toString(),
formats:a.att.resolve("formats").toString()}:(e.WorkinCloud.get_instance().get_debugText().addText("WARNING: video formats does not exist for video:"+a.att.resolve("video").toString()),b.video={}):b.video={};b.tail=a.has.resolve("tail")?"true"==a.att.resolve("tail").toString():!1;a.has.resolve("gif")&&(b.gif=a.att.resolve("gif").toString());a.has.resolve("fontName")?(b.fontName=a.att.resolve("fontName").toString(),""!=b.fontName&&null==e.WorkinCloud.get_instance().get_assets().getFont(b.fontName)&&
(e.WorkinCloud.get_instance().get_assets().addFile(j+t.string(b.fontName)+".png",b.fontName,!1,"initial_images","png"),e.WorkinCloud.get_instance().get_assets().addFile(j+t.string(b.fontName)+".fnt",t.string(b.fontName)+".fnt",!1,"initial_images","data"))):b.fontName="";if(a.has.resolve("fontScale")){var s=a.att.resolve("fontScale").toString();""==s&&(s=""+C.ConstantsCloud.FONT_DEFAULT_SCALE);b.fontScale=t.parseFloat(s)}else b.fontScale=C.ConstantsCloud.FONT_DEFAULT_SCALE;b.videoStill=a.has.resolve("videoStill")?
a.att.resolve("videoStill").toString():"";b.videoUrl=a.has.resolve("videoUrl")?a.att.resolve("videoUrl").toString():"";b.textRot=a.has.resolve("textRot")?t.parseInt(a.att.resolve("textRot").toString()):0;b.addTop=a.has.resolve("addTop")?"true"==a.att.resolve("addTop").toString():!1;b.descriptions=this._parseQuizDescriptions(a);if(a.has.resolve("loadStart")||d)this._addFile(b.image,j),this._addFile(b.imageText,j);return b},_parseQuizDescriptions:function(a){for(var b=[],a=a.nodes.resolve("descriptions").iterator();a.hasNext();){var d=
a.next();b.push(this._parseQuizXML(d,{}))}return b},_checkExtensions:function(a,b,d,j){for(var c=[],f,h=0;h<d.length;){var g=d[h];++h;f=!0;for(var i=0;i<j.length;){var l=j[i];++i;if(null==v.field(b,g)||""==v.field(b,g)||e.WorkinUtils.getExtension(v.field(b,g))==l||Q.startsWith(v.field(b,g),"template_"))f=!1}f&&c.push("ERROR: "+a+" has invalid extension : "+t.string(v.field(b,g))+". Field must have extension(s):'"+j.join(", ")+"'")}return c},_checkString:function(a,b,d,j,c){null==c&&(c=!0);for(var e=
[],f,h=0;h<d.length;){var g=d[h];++h;if(c)for(var i=0;i<j.length;){var l=j[i];++i;v.field(b,g)==l&&e.push("ERROR: "+a+" has invalid "+g+": "+t.string(v.field(b,g))+". Field cannot have value(s):'"+j.join(",")+"'")}else{f=!0;for(i=0;i<j.length;)if(l=j[i],++i,v.field(b,g)==l||Q.startsWith(v.field(b,g),"template_"))f=!1;f&&e.push("ERROR: "+a+" has invalid "+g+": "+t.string(v.field(b,g))+". Field must have value(s):'"+j.join(", ")+"'")}}return e},_parseConfigQuizXML:function(){e.WorkinCloud.get_instance().log("[Main](_parseConfigQuizXML) Parse Quiz XML: "+
c.ConstantsApp.QUIZ_XML_PATH);e.WorkinCloud.get_instance().log("[Main](_parseConfigQuizXML) test XML well formed");for(var a=[],b=!1,d=e.WorkinCloud.get_instance().get_assets().getFile(c.ConstantsApp.QUIZ_XML_PATH).toString(),j=d.split("\n"),s="",f="",h,g="",i=0,l=j.length;i<l;){var k=i++,g=j[k].indexOf("<");h=j[k].indexOf("/");if(-1!=g&&h!=g+1&&(h=j[k].indexOf(">",g),s=-1==h?j[k]:j[k].substring(g+1,j[k].indexOf(">",g)),-1!=s.indexOf(" ")&&(s=j[k].substring(g+1,j[k].indexOf(" ",g))),-1!=s.indexOf("\t")&&
(s=j[k].substring(g+1,j[k].indexOf(">",g))),0!=s.indexOf("!"))){if(""==f){g="</"+s+">";h=d.indexOf(g);if(h+g.length!=d.length){a.push("ERROR: XML is not well formed. Only one root element is allowed. Error begins at '"+H.substr(d,h+g.length,50)+"...'");break}f=s}h=0;for(var g=j[k].indexOf('"'),m;-1!=g;)h++,m=j[k].indexOf('"',g+1),m>g&&j[k].substring(g,m),g=m;if(0!=h%2){a.push("ERROR: XML is not well formed. Missing end quotes. Line "+(k+1));break}g="<"+s;m=d.indexOf(j[k]);m+=g.length;g="</"+s+">";
h=d.indexOf(g);-1==h&&(g="/>",h=d.indexOf(g,m),g="<",-1!=d.substring(m,h).indexOf(g)&&a.push("ERROR: XML is not well formed. Element "+s+" is missing a closing tag </"+s+"> or />. Line "+(k+1)))}}if(0<a.length)return e.WorkinCloud.get_instance().get_debugText().addText(a.shift()),!0;e.WorkinCloud.get_instance().log("[Main](_parseConfigQuizXML) test xml errors");if(eval("typeof window.DOMParser !== 'undefined'"))k=(new DOMParser).parseFromString(d,"text/xml"),0<k.getElementsByTagName("parsererror").length&&
a.push(k.getElementsByTagName("parsererror")[0].textContent);else try{var n=new ActiveXObject("Microsoft.XMLDOM");n.async="false";var o=n.loadXML(e.WorkinCloud.get_instance().get_assets().getFile(c.ConstantsApp.QUIZ_XML_PATH).toString());0!=o.parseError.errorCode&&a.push("XML Parsing error:"+o.parseError.reason+"\r\n Line number "+o.parseError.line)}catch(p){null}if(0<a.length)return a=Q.replace(a.shift(),"\n"," "),-1!=a.indexOf("Below")?a=a.substring(0,a.indexOf("Below")):-1!=a.lastIndexOf(":")&&
(a=a.substring(0,a.lastIndexOf(":"))),e.WorkinCloud.get_instance().get_debugText().addText(a),!0;e.WorkinCloud.get_instance().log("[Main](_parseConfigQuizXML) parse xml");s=e.WorkinCloud.get_instance().get_assets().getXML(c.ConstantsApp.QUIZ_XML_PATH);k=!0;f=!1;h={text:"",image:"",bgColor:c.ConstantsApp.COLOR_NONE,textColor:c.ConstantsApp.COLOR_NONE,shadow:!1,fontName:"",fontScale:"",video:{},imageText:""};n=[];j={};l={};c.ConstantsApp.MAX_TEXT_WIDTH=800;c.ConstantsApp.MIN_TEXT_WIDTH=400;s.node.resolve("quiz").has.resolve("maxTextWidth")?
c.ConstantsApp.MAX_TEXT_WIDTH=t.parseInt(s.node.resolve("quiz").att.resolve("maxTextWidth")):e.WorkinCloud.get_instance().get_debugText().addText("WARNING: quiz maxTextWidth does not exist. Default set to 800.");s.node.resolve("quiz").has.resolve("minTextWidth")?c.ConstantsApp.MIN_TEXT_WIDTH=t.parseInt(s.node.resolve("quiz").att.resolve("minTextWidth")):e.WorkinCloud.get_instance().get_debugText().addText("WARNING: quiz minTextWidth does not exist. Default set to 400.");null==c.ConstantsApp.SWF_ID&&
(c.ConstantsApp.SWF_ID=s.node.resolve("quiz").has.resolve("swfID")?s.node.resolve("quiz").att.resolve("swfID").toString():"game-play-container",c.ConstantsApp.BASE_URL=e.WorkinUtils.getBaseURL(c.ConstantsApp.SWF_ID));d=e.WorkinCloud.get_instance().get_assets().get_baseUrl();d=-1==d.indexOf("assets")?d+("assets/"+c.ConstantsApp.FOLDER):d+c.ConstantsApp.FOLDER;s.node.resolve("quiz").has.resolve("auto")&&(k="true"==s.node.resolve("quiz").att.resolve("auto").toString());o=155;s.node.resolve("quiz").has.resolve("headerHeight")&&
(o=t.parseInt(s.node.resolve("quiz").att.resolve("headerHeight").toString()));s.node.resolve("quiz").has.resolve("bottomHeight")&&(c.ConstantsApp.BOTTOM_HEIGHT=t.parseInt(s.node.resolve("quiz").att.resolve("bottomHeight").toString()));k?e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LOCALIZE,!1):e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LOCALIZE,!0);j=this._parseQuizXML(s.node.resolve("quiz"),{});""!=j.image?c.ConstantsApp.BG_IMAGE=j.image:k&&(c.ConstantsApp.BG_IMAGE="background.jpg",
this._addFile(c.ConstantsApp.BG_IMAGE,d));O.changeColor(j.bgColor);s.node.resolve("quiz").has.resolve("localize")&&e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LOCALIZE,"true"==s.node.resolve("quiz").att.resolve("localize").toString());s.node.resolve("quiz").has.resolve("fontDefault")&&""!=s.node.resolve("quiz").att.resolve("fontDefault").toString()&&(C.ConstantsCloud.FONT_DEFAULT=s.node.resolve("quiz").att.resolve("fontDefault").toString(),null==e.WorkinCloud.get_instance().get_assets().getFont(s.node.resolve("quiz").att.resolve("fontDefault").toString())&&
(e.WorkinCloud.get_instance().get_assets().addFile(d+C.ConstantsCloud.FONT_DEFAULT+".png",C.ConstantsCloud.FONT_DEFAULT,!1,"initial_images","png"),e.WorkinCloud.get_instance().get_assets().addFile(d+C.ConstantsCloud.FONT_DEFAULT+".fnt",C.ConstantsCloud.FONT_DEFAULT+".fnt",!1,"initial_images","data")));s.node.resolve("quiz").has.resolve("fontDefaultScale")&&""!=s.node.resolve("quiz").att.resolve("fontDefaultScale").toString()&&(C.ConstantsCloud.FONT_DEFAULT_SCALE=t.parseFloat(s.node.resolve("quiz").att.resolve("fontDefaultScale").toString()));
s.node.resolve("quiz").has.resolve("fontDefaultColor")&&""!=s.node.resolve("quiz").att.resolve("fontDefaultColor").toString()&&(C.ConstantsCloud.FONT_DEFAULT_COLOR=e.WorkinUtils.getColor(s.node.resolve("quiz").att.resolve("fontDefaultColor").toString()));s.node.resolve("quiz").has.resolve("textDefaultSpacing")&&""!=s.node.resolve("quiz").att.resolve("textDefaultSpacing").toString()&&(C.ConstantsCloud.FONT_DEFAULT_SPACING=t.parseFloat(s.node.resolve("quiz").att.resolve("FONT_DEFAULT_SPACING").toString()));
s.node.resolve("quiz").has.resolve("orientationLocked")&&(c.ConstantsApp.ORIENTATION_LOCKED="true"==s.node.resolve("quiz").att.resolve("orientationLocked").toString());s.node.resolve("quiz").has.resolve("orientationAlert")&&(this._flagOrientationAlert="true"==s.node.resolve("quiz").att.resolve("orientationAlert").toString());j={};for(l=s.node.resolve("quiz").node.resolve("strings").nodes.resolve("string").iterator();l.hasNext();)i=l.next(),i.has.resolve("id")?j[i.att.resolve("id").toString()]=this._parseQuizXML(i,
{},!0):a.push("ERROR: string id does not exist");j.left=v.copy(h);j.right=v.copy(h);j.page_select=v.copy(h);j.logo_start=v.copy(h);j.logo_start.enabled=!1;j.logo_end=v.copy(h);j.logo_end.enabled=!1;j.banner=v.copy(h);j.banner.enabled=!1;k&&(j.submit=v.copy(h),j.replay=v.copy(h),j.share=v.copy(h),j.more=v.copy(h),j.take=v.copy(h),j.copy=v.copy(h),j.close=v.copy(h),j.done_meter=v.copy(h),j.done_sort=v.copy(h),j.cyoe_ending=v.copy(h),j.cyoe_return=v.copy(h));for(var i=["start","logo_start","logo_end",
"banner"],g=[{btn:"page_arrow",def:!1},{btn:"share",def:!0},{btn:"more",def:!0},{btn:"logo_start",def:!1},{btn:"logo_end",def:!1},{btn:"banner",def:!1}],q=s.node.resolve("quiz").node.resolve("buttons").nodes.resolve("button").iterator();q.hasNext();){var r=q.next();if(r.has.resolve("id")){j[r.att.resolve("id").toString()]=this._parseQuizXML(r,{},!1);for(l=0;l<i.length;){var u=i[l];++l;if(r.att.resolve("id").toString()==u){var w=m=0;r.has.resolve("x")?m=t.parseInt(r.att.resolve("x").toString()):e.WorkinCloud.get_instance().get_debugText().addText("WARNING: "+
u+" x doesn't exist. Default set to 0");r.has.resolve("y")?w=t.parseInt(r.att.resolve("y").toString()):e.WorkinCloud.get_instance().get_debugText().addText("WARNING: "+u+" y doesn't exist. Default set to 0");v.field(j,u).x=m;v.field(j,u).y=w}}for(l=0;l<g.length;)u=g[l],++l,r.att.resolve("id").toString()==u.btn&&(m=!0,r.has.resolve("enabled")?m="true"==r.att.resolve("enabled").toString():(m=u.def,e.WorkinCloud.get_instance().get_debugText().addText("WARNING: "+t.string(u.btn)+" enabled doesn't exist. Default set to "+
t.string(m))),v.field(j,u.btn).enabled=m)}else a.push("ERROR: button id does not exist")}k&&(j.start.image="btn_start",j.submit.image="btn_submit",j.replay.image="btn_replay",j.share.image="btn_share",j.more.image="btn_more",j.take.image="btn_take",j.done_sort.image="btn_sort",j.done_meter.image="btn_meter",j.copy.image="btn_copy",j.close.image="btn_close",j.cyoe_ending.image="btn_cyoe_ending",j.cyoe_return.image="btn_cyoe_return",j.logo_start.image="btn_logo_start",j.logo_end.image="btn_logo_end",
j.banner.image="btn_banner",""==j.page_arrow.image&&(j.page_arrow.image="template_btn_arrow.png"),""==j.page.image&&(j.page.image="template_circle_empty.png"),j.page.bgColor==c.ConstantsApp.COLOR_NONE&&(j.page.bgColor=e.WorkinUtils.getColor("0xffffff")),j.page_done.bgColor==c.ConstantsApp.COLOR_NONE&&(j.page_done.bgColor=e.WorkinUtils.getColor("0x505050")),null==j.page_arrow.enabled&&(j.page_arrow.enabled=!1),null==j.share.enabled&&(j.share.enabled=!0),null==j.more.enabled&&(j.more.enabled=!0),null==
j.logo_start.enabled&&(j.logo_start.enabled=!1),null==j.logo_end.enabled&&(j.logo_end.enabled=!1),null==j.banner.enabled&&(j.banner.enabled=!1));j.left.image=j.right.image=j.page_arrow.image;j.left.bgColor=j.right.bgColor=j.page_arrow.bgColor;l=0;for(i=v.fields(j);l<i.length;)g=i[l],++l,""!=v.field(j,g).image&&""==e.WorkinUtils.getExtension(v.field(j,g).image)?null!=v.field(j,g).enabled&&!1==v.field(j,g).enabled||(this._addFile(t.string(v.field(j,g).image)+"_up.png",d),this._addFile(t.string(v.field(j,
g).image)+"_over.png",d),this._addFile(t.string(v.field(j,g).image)+"_down.png",d)):this._addFile(v.field(j,g).image,d);c.ConstantsApp.EXTRA_DATA=j;c.ConstantsApp.QUIZ_DATA={};c.ConstantsApp.QUIZ_DATA.splash={image:"",x:0,y:0};c.ConstantsApp.QUIZ_DATA.title=c.ConstantsApp.QUIZ_DATA.description=c.ConstantsApp.QUIZ_DATA.submit=c.ConstantsApp.QUIZ_DATA.description_submit=c.ConstantsApp.QUIZ_DATA.result=v.copy(h);k&&(c.ConstantsApp.QUIZ_DATA.splash.image="splash.jpg",this._addFile(c.ConstantsApp.QUIZ_DATA.splash.image,
d));for(j=s.node.resolve("quiz").nodes.resolve("prompt").iterator();j.hasNext();)l=j.next(),l.hasNode.resolve("splash")&&(c.ConstantsApp.QUIZ_DATA.splash=this._parseQuizXML(l.node.resolve("splash"),{})),l.hasNode.resolve("title")&&(c.ConstantsApp.QUIZ_DATA.title=this._parseQuizXML(l.node.resolve("title"),{})),l.hasNode.resolve("description_title")&&(c.ConstantsApp.QUIZ_DATA.description=this._parseQuizXML(l.node.resolve("description_title"),{})),l.hasNode.resolve("submit")&&(c.ConstantsApp.QUIZ_DATA.submit=
this._parseQuizXML(l.node.resolve("submit"),{})),l.hasNode.resolve("submit_header")&&(m=!1,l.node.resolve("submit_header").has.resolve("enabled")?m="true"==l.node.resolve("submit_header").att.resolve("enabled").toString():e.WorkinCloud.get_instance().get_debugText().addText("WARNING: submit header enabled does not exist. Default to false"),c.ConstantsApp.QUIZ_DATA.submit_header=this._parseQuizXML(l.node.resolve("submit_header"),{enabled:m})),l.hasNode.resolve("description_submit")&&(c.ConstantsApp.QUIZ_DATA.description_submit=
this._parseQuizXML(l.node.resolve("description_submit"),{})),l.hasNode.resolve("result")&&(c.ConstantsApp.QUIZ_DATA.result=this._parseQuizXML(l.node.resolve("result"),{})),l.hasNode.resolve("result_header")&&(m=!1,l.node.resolve("result_header").has.resolve("enabled")?m="true"==l.node.resolve("result_header").att.resolve("enabled").toString():e.WorkinCloud.get_instance().get_debugText().addText("WARNING: result header enabled does not exist. Default to false"),c.ConstantsApp.QUIZ_DATA.result_header=
this._parseQuizXML(l.node.resolve("result_header"),{enabled:m})),c.ConstantsApp.QUIZ_DATA.descriptions=this._parseQuizDescriptions(l);for(i=s.node.resolve("quiz").nodes.resolve("question").iterator();i.hasNext();){g=i.next();g.has.resolve("type")?j={type:g.att.resolve("type").toString()}:(j={type:1},e.WorkinCloud.get_instance().get_debugText().addText("WARNING: question #"+(n.length+1)+" type does not exist. Default set to 1 (favorite)"));g.has.resolve("textId")&&(j.textId=g.att.resolve("textId").toString());
j.maxChoices=g.has.resolve("maxChoices")?t.parseInt(g.att.resolve("maxChoices")):1;j.timer=g.has.resolve("timer")?t.parseInt(g.att.resolve("timer").toString()):0;k&&(j.header={enabled:!1,height:o},null==j.prefixImage&&g.has.resolve("prefixImage")?j.prefixImage=g.att.resolve("prefixImage").toString():null==j.prefixImage&&(j.prefixImage=""),null==j.prefixImageText&&g.has.resolve("prefixImageText")?j.prefixImageText=g.att.resolve("prefixImageText").toString():null==j.prefixImageText&&(j.prefixImageText=
""));g.hasNode.resolve("header")&&(g.node.resolve("header").has.resolve("image")||e.WorkinCloud.get_instance().get_debugText().addText("WARNING: question #"+(n.length+1)+" header image does not exist."),m=!0,g.node.resolve("header").has.resolve("enabled")?m="true"==g.node.resolve("header").att.resolve("enabled").toString():e.WorkinCloud.get_instance().get_debugText().addText("WARNING: question #"+(n.length+1)+" header enabled does not exist. Default to true"),j.header=this._parseQuizXML(g.node.resolve("header"),
{enabled:m}),k&&(j.header.height=o));h=[];for(m=g.nodes.resolve("answer").iterator();m.hasNext();)q=m.next(),q.has.resolve("value")?l={value:q.att.resolve("value").toString()}:(l={value:1},e.WorkinCloud.get_instance().get_debugText().addText("WARNING: question #"+(n.length+1)+" answer #"+(h.length+1)+" value does not exist. Default set to 1")),h.push(this._parseQuizXML(q,l)),k&&""!=j.prefixImage&&null==l.gif&&(l.image=t.string(j.prefixImage)+"_a"+h.length+".png");j.answers=h;j=this._parseQuizXML(g,
j);if(j.type==c.ConstantsApp.QUESTION_TYPE_FAVORITE)j.pos=g.has.resolve("pos")?g.att.resolve("pos").toString():c.ConstantsApp.TEXT_POSITION_BOTTOM;else if(j.type==c.ConstantsApp.QUESTION_TYPE_METER){if(j.meter=g.hasNode.resolve("meter")?{type:g.node.resolve("meter").att.resolve("type").toString()}:{type:c.ConstantsApp.METER_TYPE_HORIZONTAL},k)for(l=0;l<h.length;)g=h[l],++l,this._addFile(g.image,d)}else if(j.type==c.ConstantsApp.QUESTION_TYPE_FLOW){m=1;for(g=g.nodes.resolve("question").iterator();g.hasNext();){q=
g.next();q.has.resolve("id")?l={id:q.att.resolve("id").toString()}:(l={id:1},e.WorkinCloud.get_instance().get_debugText().addText("ERROR: question #"+(n.length+1)+" sub question #"+(h.length+1)+" id does not exist. Default set to 1"));q.has.resolve("end")?(l.end=q.att.resolve("end").toString(),l.value=q.att.resolve("value").toString()):l.end=!1;r=[];for(u=q.nodes.resolve("answer").iterator();u.hasNext();){var w=u.next(),x={id:1};w.has.resolve("id")?x={id:w.att.resolve("id").toString()}:e.WorkinCloud.get_instance().get_debugText().addText("ERROR: question #"+
(n.length+1)+" sub question #"+(h.length+1)+" answer #"+(r.length+1)+" id does not exist. Default set to 1");r.push(this._parseQuizXML(w,x))}l.answers=r;h.push(this._parseQuizXML(q,l));k&&""!=j.prefixImage&&"true"==h[h.length-1].end&&(h[h.length-1].image=l.image=t.string(j.prefixImage)+"_a"+m+".png",m++)}}else j.type==c.ConstantsApp.QUESTION_TYPE_SORT?(g.hasNode.resolve("sort")?(h=l="",m=1,q=2,r="true",u="false",g.node.resolve("sort").has.resolve("textLeft")&&(l=g.node.resolve("sort").att.resolve("textLeft").toString()),
g.node.resolve("sort").has.resolve("textRight")&&(h=g.node.resolve("sort").att.resolve("textLeft").toString()),g.node.resolve("sort").has.resolve("valueLeft")?m=t.parseInt(g.node.resolve("sort").att.resolve("valueLeft").toString()):e.WorkinCloud.get_instance().get_debugText().addText("WARNING: question #"+(n.length+1)+" valueLeft doesn't exist. Default set to 1."),g.node.resolve("sort").has.resolve("valueRight")?q=t.parseInt(g.node.resolve("sort").att.resolve("valueRight").toString()):e.WorkinCloud.get_instance().get_debugText().addText("WARNING: question #"+
(n.length+1)+" valueRight doesn't exist. Default set to 2."),g.node.resolve("sort").has.resolve("countLeft")?r=g.node.resolve("sort").att.resolve("countLeft").toString():e.WorkinCloud.get_instance().get_debugText().addText("WARNING: question #"+(n.length+1)+" countLeft doesn't exist. Default set to true."),g.node.resolve("sort").has.resolve("countRight")?u=g.node.resolve("sort").att.resolve("countRight").toString():e.WorkinCloud.get_instance().get_debugText().addText("WARNING: question #"+(n.length+
1)+" countRight doesn't exist. Default set to false."),j.sort={textLeft:l,textRight:h,valueLeft:m,valueRight:q,countLeft:r,countRight:u},j.sort=this._parseQuizXML(g.node.resolve("sort"),j.sort)):j.sort={image:"",textLeft:"",textRight:"",valueLeft:1,valueRight:2,countLeft:!0,countRight:!1},k&&""!=j.prefixImage&&(j.sort.image=t.string(j.prefixImage)+"_bg.png",this._addFile(j.sort.image,d))):j.type==c.ConstantsApp.QUESTION_TYPE_CYOE&&(f||(f=!0,l=y.document.createElement("script"),l.setAttribute("id",
"quiz_js"),l.setAttribute("type","text/javascript"),l.setAttribute("src",c.ConstantsApp.BASE_URL+"embed/quizembed.js"),l.setAttribute("base",c.ConstantsApp.BASE_URL),y.document.getElementsByTagName("head")[0].appendChild(l)),k&&""!=j.prefixImage&&(j.videoStill=t.string(j.prefixImage)+"_q.png",j.answers[0].videoStill=t.string(j.prefixImage)+"_a1.png",j.answers[1].videoStill=t.string(j.prefixImage)+"_a2.png",this._addFile(j.videoStill,d)));n.push(j)}c.ConstantsApp.QUESTION_DATA=n;j={};for(s=s.node.resolve("quiz").nodes.resolve("results").iterator();s.hasNext();){f=
s.next();n=[];for(o=f.nodes.resolve("result").iterator();o.hasNext();)l=o.next(),l.has.resolve("id")?j={id:l.att.resolve("id").toString()}:(j={id:n.length+1},e.WorkinCloud.get_instance().get_debugText().addText("WARNING: result #"+(n.length+1)+" id does not exist. Default set to "+(n.length+1))),v.hasField(c.ConstantsApp.EXTRA_DATA,"result_"+t.string(j.id))||a.push("ERROR: result #"+(n.length+1)+". Quiz does not have <string id='result_"+t.string(j.id)+"' text='VALUE' />"),n.push(this._parseQuizXML(l,
j)),k&&f.has.resolve("prefixImage")&&(j.image=f.att.resolve("prefixImage").toString()+"_"+t.string(j.id)+".png",this._addFile(j.image,d),n[n.length-1].image=j.image);f.has.resolve("type")?j={type:f.att.resolve("type").toString(),results:n}:(j={type:"1",results:n},e.WorkinCloud.get_instance().get_debugText().addText("WARNING: results id does not exist. Default set to 1"));0==n.length&&a.push("ERROR: There are no results. Add <result id='1' /> ")}c.ConstantsApp.RESULT_DATA=j;e.WorkinCloud.get_instance().log("[Main](_parseConfigQuizXML) test xml values");
i=0;for(l=c.ConstantsApp.EXTRA_DATA.length;i<l;)k=i++,a=a.concat(this._checkExtensions("Button #"+(k+1),c.ConstantsApp.EXTRA_DATA[k],["image"],["png","jpg"]));i=0;for(l=c.ConstantsApp.RESULT_DATA.length;i<l;)k=i++,a=a.concat(this._checkExtensions("Result #"+(k+1),c.ConstantsApp.RESULT_DATA[k],["image","imageText"],["png","jpg"]));a=a.concat(this._checkExtensions("Prompt splash",c.ConstantsApp.QUIZ_DATA.splash,["image","imageText"],["png","jpg"]));a=a.concat(this._checkExtensions("Prompt title",c.ConstantsApp.QUIZ_DATA.title,
["image","imageText"],["png","jpg"]));a=a.concat(this._checkExtensions("Prompt description_title",c.ConstantsApp.QUIZ_DATA.description,["image","imageText"],["png","jpg"]));a=a.concat(this._checkExtensions("Prompt description video",c.ConstantsApp.QUIZ_DATA.description.video,["asset"],[""]));a=a.concat(this._checkExtensions("Prompt submit",c.ConstantsApp.QUIZ_DATA.submit,["image","imageText"],["png","jpg"]));a=a.concat(this._checkExtensions("Prompt description_submit",c.ConstantsApp.QUIZ_DATA.description_submit,
["image","imageText"],["png","jpg"]));a=a.concat(this._checkExtensions("Prompt description_submit video",c.ConstantsApp.QUIZ_DATA.description_submit.video,["asset"],[""]));a=a.concat(this._checkExtensions("Prompt result",c.ConstantsApp.QUIZ_DATA.result,["image","imageText"],["png","jpg"]));i=0;for(l=c.ConstantsApp.QUESTION_DATA.length;i<l;)switch(k=i++,d=c.ConstantsApp.QUESTION_DATA[k].answers.length,a=a.concat(this._checkExtensions("Question #"+(k+1),c.ConstantsApp.QUESTION_DATA[k],["image","imageText"],
["png","jpg"])),v.hasField(c.ConstantsApp.QUESTION_DATA[k],"header")&&(a=a.concat(this._checkExtensions("Question #"+(k+1),c.ConstantsApp.QUESTION_DATA[k].header,["image"],["png","jpg"]))),a=a.concat(this._checkExtensions("Question #"+(k+1)+" video",c.ConstantsApp.QUESTION_DATA[k].video,["asset"],[""])),c.ConstantsApp.QUESTION_DATA[k].maxChoices>d&&(e.WorkinCloud.get_instance().get_debugText().addText("WARNING: Question #"+(k+1)+" maxChoices is greater than the number of options. Default set to 1."),
c.ConstantsApp.QUESTION_DATA[k].maxChoices=1),c.ConstantsApp.QUESTION_DATA[k].type){case c.ConstantsApp.QUESTION_TYPE_FAVORITE:case c.ConstantsApp.QUESTION_TYPE_LIST:case c.ConstantsApp.QUESTION_TYPE_SORT:for(j=0;j<d;)s=j++,v.hasField(c.ConstantsApp.QUESTION_DATA[k].answers[s],"gif")?""!=e.WorkinUtils.getExtension(c.ConstantsApp.QUESTION_DATA[k].answers[s].gif)&&a.push("Question #"+(k+1)+" answer #"+(s+1)+" gifs should not include extension"):(a=a.concat(this._checkString("Question #"+(k+1)+" answer #"+
(s+1),c.ConstantsApp.QUESTION_DATA[k].answers[s],["image"],[""])),a=a.concat(this._checkExtensions("Question #"+(k+1)+" answer #"+(s+1),c.ConstantsApp.QUESTION_DATA[k].answers[s],["image"],["png","jpg"])));(2>d||8<d)&&a.push("ERROR: Question #"+(k+1)+" has "+d+" answers. Requires 2-8.");break;case c.ConstantsApp.QUESTION_TYPE_METER:for(j=0;j<d;)s=j++,a=a.concat(this._checkString("Question #"+(k+1)+" answer #"+(s+1),c.ConstantsApp.QUESTION_DATA[k].answers[s],["text","image"],[""])),a=a.concat(this._checkExtensions("Question #"+
(k+1)+" answer #"+(s+1),c.ConstantsApp.QUESTION_DATA[k].answers[s],["image"],["png","jpg"]));(3>d||5<d)&&a.push("ERROR: Question #"+(k+1)+" has "+d+" answers. Requires 3-5.");break;case c.ConstantsApp.QUESTION_TYPE_TEXT:for(j=0;j<d;)s=j++,a=a.concat(this._checkString("Question #"+(k+1)+" answer #"+(s+1),c.ConstantsApp.QUESTION_DATA[k].answers[s],["text"],[""]));(2>d||4<d)&&a.push("ERROR: Question #"+(k+1)+" has "+d+" answers. Requires 2-4.");break;case c.ConstantsApp.QUESTION_TYPE_FLOW:for(j=0;j<
d;){s=j++;f=c.ConstantsApp.QUESTION_DATA[k].answers[s].answers.length;(1==f||2<f)&&a.push("ERROR: Question #"+(k+1)+" sub question #"+(s+1)+" has "+f+" answers. Requires 2.");for(n=0;n<f;)o=n++,a=a.concat(this._checkExtensions("Question #"+(k+1)+" answer #"+(o+1),c.ConstantsApp.QUESTION_DATA[k].answers[s],["image","imageText"],["png","jpg"]))}break;case c.ConstantsApp.QUESTION_TYPE_CYOE:for(j=0;j<d;)s=j++,a=a.concat(this._checkString("Question #"+(k+1)+" answer #"+(s+1),c.ConstantsApp.QUESTION_DATA[k].answers[s],
["videoUrl","videoStill","text"],[""]));2!=d&&a.push("ERROR: Question #"+(k+1)+" has "+d+" answers. Requires 2.");break;default:a.push("Question #"+(k+1)+" has invalid type: "+c.ConstantsApp.QUESTION_DATA[k].type)}for(;0<a.length;)b=!0,e.WorkinCloud.get_instance().get_debugText().addText(a.shift());return b},_parseConfigXML:function(){e.WorkinCloud.get_instance().log("[Main](_parseConfigXML) Parse Config XML: "+c.ConstantsApp.CONFIG_XML_PATH);for(var a=e.WorkinCloud.get_instance().get_assets().getXML(c.ConstantsApp.CONFIG_XML_PATH),
b=a.node.resolve("packs").nodes.resolve("pack").iterator();b.hasNext();){for(var d=b.next(),j=[],s=d.nodes.resolve("flump").iterator();s.hasNext();){var f=s.next();j.push(f.att.resolve("id").toString())}for(var s=[],h=d.nodes.resolve("tiles").iterator();h.hasNext();){var g=h.next();if(g.has.resolve("num"))for(var f=t.parseInt(g.att.resolve("num")),i=0;i<f;){var l=i++;s.push(g.att.resolve("id").toString()+l)}else s.push(g.att.resolve("id").toString())}e.WorkinCloud.get_instance().get_assets().addPackDef(d.att.resolve("id").toString(),
j,s)}for(b=a.node.resolve("chunks").nodes.resolve("chunk").iterator();b.hasNext();)d=b.next(),e.WorkinCloud.get_instance().get_assets().addChunk(d.att.resolve("id").toString(),d);b=!1;B._platform.getTouch().get_supported()&&(b="false"==a.node.resolve("quality").att.resolve("forceLowQualityMobile")?!1:!0);e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_LOW_QUALITY_MOBILE,b);!0==b?e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_QUALITY,0):e.WorkinCloud.get_instance().setInt(c.ConstantsApp.INT_QUALITY,
t.parseInt(a.node.resolve("quality").att.resolve("index")));a.hasNode.resolve("unlockCode")?e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_UNLOCK_CODE,a.node.resolve("unlockCode").get_innerData()):e.WorkinCloud.get_instance().setString(c.ConstantsApp.STRING_UNLOCK_CODE,"000000");e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ALLOW_UNLOCK,!1);a.hasNode.resolve("unlockEnabled")&&e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_ALLOW_UNLOCK,"true"==a.node.resolve("unlockEnabled").get_innerData())},
errorHandler:function(a){e.WorkinCloud.get_instance().log("Error:"+a)},__class__:da};c={ConstantsApp:function(){}};m["com.nick.engines.quiz_2014.data.ConstantsApp"]=c.ConstantsApp;c.ConstantsApp.__name__="com,nick,engines,quiz_2014,data,ConstantsApp".split(",");c.ConstantsApp.get_CANVAS_SCALE=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)?1:e.JSEmbedProxy.get_canvasScale()*c.ConstantsApp.scaleFactor};c.ConstantsApp.get_CANVAS_WIDTH=function(){return c.ConstantsApp.OPTION_FILL_TO_CANVAS||
!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?c.ConstantsApp.STAGE_WIDTH:e.JSEmbedProxy.get_scaledWidth()*c.ConstantsApp.scaleFactor};c.ConstantsApp.get_CANVAS_HEIGHT=function(){return c.ConstantsApp.OPTION_FILL_TO_CANVAS||!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?c.ConstantsApp.STAGE_HEIGHT:c.ConstantsApp.ORIENTATION_LOCKED&&e.JSEmbedProxy.get_scaledHeight()*c.ConstantsApp.scaleFactor>
c.ConstantsApp.get_CANVAS_WIDTH()?c.ConstantsApp.STAGE_HEIGHT/c.ConstantsApp.STAGE_WIDTH*c.ConstantsApp.get_CANVAS_WIDTH():e.JSEmbedProxy.get_scaledHeight()*c.ConstantsApp.scaleFactor};c.ConstantsApp.get_CANVAS_CENTER_X=function(){return c.ConstantsApp.get_CANVAS_WIDTH()/2};c.ConstantsApp.get_CANVAS_CENTER_Y=function(){return c.ConstantsApp.get_CANVAS_HEIGHT()/2};c.ConstantsApp.get_CANVAS_LEFT_ABSOLUTE=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?
0:-e.JSEmbedProxy.get_contentOffsetX()};c.ConstantsApp.get_CANVAS_TOP_ABSOLUTE=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?0:-e.JSEmbedProxy.get_contentOffsetY()};c.ConstantsApp.get_CANVAS_LEFT=function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?0:-(e.JSEmbedProxy.get_contentOffsetX()/c.ConstantsApp.get_CANVAS_SCALE())};c.ConstantsApp.get_CANVAS_TOP=
function(){return!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_JSEMBED_EXISTS)||!c.ConstantsApp.OPTION_FILL_CANVAS?0:-(e.JSEmbedProxy.get_contentOffsetY()/c.ConstantsApp.get_CANVAS_SCALE())};w={buttons:{}};w.buttons.ButtonState=m["com.nick.engines.quiz_2014.ui.buttons.ButtonState"]={__ename__:"com,nick,engines,quiz_2014,ui,buttons,ButtonState".split(","),__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};w.buttons.ButtonState._STATE_UP=["_STATE_UP",0];w.buttons.ButtonState._STATE_UP.toString=
n;w.buttons.ButtonState._STATE_UP.__enum__=w.buttons.ButtonState;w.buttons.ButtonState._STATE_DOWN=["_STATE_DOWN",1];w.buttons.ButtonState._STATE_DOWN.toString=n;w.buttons.ButtonState._STATE_DOWN.__enum__=w.buttons.ButtonState;w.buttons.ButtonState._STATE_OVER=["_STATE_OVER",2];w.buttons.ButtonState._STATE_OVER.toString=n;w.buttons.ButtonState._STATE_OVER.__enum__=w.buttons.ButtonState;w.buttons.ButtonState._STATE_CLICK=["_STATE_CLICK",3];w.buttons.ButtonState._STATE_CLICK.toString=n;w.buttons.ButtonState._STATE_CLICK.__enum__=
w.buttons.ButtonState;l={};e=void 0;C=void 0;k=void 0;p=void 0;ca=void 0;g=void 0;W=void 0;l.IPoolable=function(){};m["com.workinman.display.IPoolable"]=l.IPoolable;l.IPoolable.__name__=["com","workinman","display","IPoolable"];l.Poolable=function(){this._flagPooled=!0;this._flagActive=!1};m["com.workinman.display.Poolable"]=l.Poolable;l.Poolable.__name__=["com","workinman","display","Poolable"];l.Poolable.__interfaces__=[l.IPoolable];l.Poolable.prototype={set_isPooled:function(a){return this._flagPooled=
a},get_isPooled:function(){return this._flagPooled},release:function(){this._flagActive=!1},renew:function(){this._flagActive=!0},__class__:l.Poolable};l.Element=function(a){l.Poolable.call(this,a);this._rootEntity=new P;this._rootSprite=new o.Sprite;this._rootEntity.add(this._rootSprite);this._imageEntity=new P;this._rootEntity.addChild(this._imageEntity);this._imageSprite=new o.Sprite;this._imageEntity.add(this._imageSprite);this._format=l.ELEMENT_FORMAT.EMPTY;this._elements=[];this._pos=g.WorkinPoint.request();
this._velocity=g.WorkinPoint.request();this._render=l.Renderable.request();this._originX=this._originY=this._offsetX=this._offsetY=0;this._uniqueId=C.ConstantsCloud.getUniqueId();this._layer="";this._useCamera=!0;this._flagResize=this._doDelete=!1;this._showSpinner=this._isLoadedAll=this._isLoaded=!0;!0==a.pooled?this.set_isPooled(!0):(this.set_isPooled(!1),this.renew(a));this._addEventListeners()};m["com.workinman.display.Element"]=l.Element;l.Element.__name__=["com","workinman","display","Element"];
l.Element.__super__=l.Poolable;l.Element.prototype=z(l.Poolable.prototype,{onResizeScaleFull:function(a,b){null==b&&(b=0);null==a&&(a=2);this._render.scaleX=this._render.scaleY=(c.ConstantsApp.get_CANVAS_WIDTH()-c.ConstantsApp.SPACING*a)/this._render.width;0<b&&this._render.height*this._render.scaleY>b&&(this._render.scaleX=this._render.scaleY=b/this._render.height)},onResizeScale:function(a,b){null==b&&(b=0);null==a&&(a=2);this._render.scaleX=c.ConstantsApp.get_CANVAS_WIDTH()-c.ConstantsApp.SPACING*
a<this._render.width?this._render.scaleY=(c.ConstantsApp.get_CANVAS_WIDTH()-c.ConstantsApp.SPACING*a)/this._render.width:this._render.scaleY=1;0<b&&this._render.height*this._render.scaleY>b&&(this._render.scaleX=this._render.scaleY=b/this._render.height)},onResize:function(){},_onEventResizeCanvas:function(){0==this._originX?this.get_pos().x=c.ConstantsApp.get_CANVAS_LEFT():0.5==this._originX&&(this.get_pos().x=c.ConstantsApp.get_CANVAS_CENTER_X());0==this._originY?this.get_pos().y=c.ConstantsApp.get_CANVAS_TOP():
1==this._originY?this.get_pos().y=c.ConstantsApp.get_CANVAS_HEIGHT():0.5==this._originY&&(this.get_pos().y=c.ConstantsApp.get_CANVAS_CENTER_Y())},_removeEventListeners:function(){this._flagResize&&e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_RESIZE_CANVAS,x(this,this._onEventResizeCanvas))},_addEventListeners:function(){this._flagResize&&e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_RESIZE_CANVAS,x(this,this._onEventResizeCanvas))},
setRenderOffset:function(a,b){this._offsetX=a;this._offsetY=b;return this},contains:function(a,b){return a>=this._render.x-this._originX*this._render.width&&b>=this._render.y-this._originY*this._render.height&&a<=this._render.x-this._originX*this._render.width+this._render.width&&b<=this._render.y-this._originY*this._render.height+this._render.height},setOrigin:function(a,b){this._originX=a;this._originY=b;0==this._render.width&&(this._render.width=this._imageSprite.getNaturalWidth());0==this._render.height&&
(this._render.height=this._imageSprite.getNaturalHeight());this._imageSprite.x.set__(-(this._originX*this._render.width));this._imageSprite.y.set__(-(this._originY*this._render.height))},applyRenderable:function(){this._rootSprite.x.set__(this._render.x);this._rootSprite.y.set__(this._render.y);this._rootSprite.scaleX.set__(this._render.scaleX);this._rootSprite.scaleY.set__(this._render.scaleY);this._rootSprite.rotation.set__(this._render.rotation);this._rootSprite.alpha.set__(this._render.alpha);
this._rootSprite.set_visible(this._render.visible)},renderPosition:function(a){null==a||!1==this._useCamera?(this._render.x=this._pos.x+this._offsetX,this._render.y=this._pos.y+this._offsetY):(this._render.x=this._pos.x-a.get_pos().x+a.get_screenCenterX()+this._offsetX,this._render.y=this._pos.y-a.get_pos().y+a.get_screenCenterY()+this._offsetY);for(var b=0,d=this._elements;b<d.length;){var j=d[b];++b;j.renderPosition(a)}this.applyRenderable()},isChild:function(a){for(var b=0,d=this._elements;b<d.length;){var j=
d[b];++b;if(j==a)return!0}return!1},addElement:function(a,b){null==b&&(b=!0);a.get_isLoaded()||(this._isLoadedAll=!1);this._elements.push(a);this._rootEntity.addChild(a.get_root(),b);return a},removeElement:function(a,b){null==b&&(b=!0);for(this._i=this._elements.length;0<this._i--;)if(this._elements[this._i].get_uniqueId()==a.get_uniqueId()&&(this._elements.splice(this._i,1),a.get_root().parent.removeChild(a.get_root()),b))return a.dispose(),null;return a},updatePositionFromVelocity:function(a){this._pos.x+=
this._velocity.x*a;this._pos.y+=this._velocity.y*a},update:function(a){for(var b=0,d=this._elements;b<d.length;){var j=d[b];++b;j.update(a)}this.updatePositionFromVelocity(a);!this._isLoadedDispatched&&!this._isLoaded&&e.WorkinCloud.get_instance().get_assets().hasAsset(this._loadAsset)&&(this._isLoadedDispatched=!0,h.World.get_tweener().timer(0.5).onComplete(x(this,this._addLoadedAsset)));if(!this._isLoadedAll){this._isLoadedAll=!0;b=0;for(d=this._elements;b<d.length;)j=d[b],++b,j.get_isLoaded()||
(this._isLoadedAll=!1);this._isLoadedAll&&this._onAssetLoaded()}},orientTexture:function(a){this._orientTexture(a)},_orientTexture:function(a){a&&(this._render.width=this._imageSprite.getNaturalWidth(),this._render.height=this._imageSprite.getNaturalHeight());this._imageSprite.x.set__(-(this._originX*this._render.width));this._imageSprite.y.set__(-(this._originY*this._render.height))},setImageSprite:function(a){this._determineFormat(a);this._imageEntity.remove(this._imageSprite);this._imageSprite.dispose();
this._imageSprite=a;this._orientTexture(!0);this._imageEntity.add(this._imageSprite);this._format==l.ELEMENT_FORMAT.TEXTURE&&(this._textureSprite=this._imageSprite)},setTextureAsset:function(a){if(""==a||!1==e.WorkinCloud.get_instance().get_assets().hasAsset(a))""!=a&&(e.WorkinCloud.get_instance().log("[Element](setTextureAsset) No asset named '"+a+"' exists!"),e.WorkinCloud.get_instance().get_debugText().addText("No asset named '"+a+"' exists!"),this.setTextureAsset("template_broken"));else switch(this._asset=
a,this._format[1]){case 1:this._textureSprite.texture=e.WorkinCloud.get_instance().get_assets().getTexture(a);this._orientTexture(!0);break;default:this.setImageSprite(new o.ImageSprite(e.WorkinCloud.get_instance().get_assets().getTexture(a)))}},setLoadAsset:function(a){this._loadAsset=a;e.WorkinCloud.get_instance().get_assets().hasAsset(this._loadAsset)?this.setTextureAsset(this._loadAsset):(this._isLoaded=this._isLoadedDispatched=!1,null!=this._loadSpinner?this._loadSpinner.get_renderable().alpha=
this._showSpinner?1:0:this._loadSpinner=this.addElement(new h.elements.LoadingSpinner({originX:0.5,originY:0.5})),e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(c.ConstantsApp.EVENT_ADD_FILE,{file:this._loadAsset})))},_addLoadedAsset:function(){this._isLoaded=!0;this.setTextureAsset(this._loadAsset);null!=this._loadSpinner&&(this._loadSpinner.get_renderable().alpha=0);this._orientTexture(!0);this._onAssetLoaded()},_onAssetLoaded:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(c.ConstantsApp.EVENT_ASSET_LOADED,
{element:this}))},_setFormat:function(a){this._format!=a&&(this._cleanOldFormat(a),this._format=a)},_cleanOldFormat:function(){switch(this._format[1]){case 0:break;case 1:this._textureSprite=null;break;default:null}},_determineFormat:function(a){A.__instanceof(a,o.ImageSprite)?this._setFormat(l.ELEMENT_FORMAT.TEXTURE):this._setFormat(l.ELEMENT_FORMAT.EMPTY)},get_texture:function(){return this._textureSprite.texture},get_offsetY:function(){return this._offsetY},get_offsetX:function(){return this._offsetX},
get_originY:function(){return this._originY},get_originX:function(){return this._originX},get_isLoadedAll:function(){return this._isLoadedAll},get_isLoaded:function(){return this._isLoaded},get_asset:function(){return this._asset},get_uniqueId:function(){return this._uniqueId},set_layer:function(a){return this._layer=a},get_layer:function(){return this._layer},get_depth:function(){return-this._pos.z},get_rootSprite:function(){return this._rootSprite},get_root:function(){return this._rootEntity},get_renderable:function(){return this._render},
set_doDelete:function(a){return this._doDelete=a},get_doDelete:function(){return this._doDelete},set_velocity:function(a){this._velocity.toPoint(a);return this._velocity},get_velocity:function(){return this._velocity},set_pos:function(a){this._pos.toPoint(a);return this._pos},get_pos:function(){return this._pos},dispose:function(){if(this.get_isPooled())this.release();else if(null!=this._elements){for(var a=0,b=this._elements;a<b.length;){var d=b[a];++a;d.dispose()}this._elements=this._format=null;
this._removeEventListeners();this._rootEntity.dispose();this._rootEntity=null;this._rootSprite.dispose();this._rootSprite=null;this._imageEntity.dispose();this._imageEntity=null;this._imageSprite.dispose();this._textureSprite=this._imageSprite=null;this._pos.dispose();this._pos=null;this._velocity.dispose();this._velocity=null;this._render.dispose();this._render=null}},release:function(){this.get_isPooled()&&l.Poolable.prototype.release.call(this)},renew:function(a){a.asset&&this.setTextureAsset(a.asset);
this._doDelete=!1;this._render.width=0;this._render.height=0;a.layer&&(this._layer=a.layer);null!=a.x&&(this._pos.x=a.x);null!=a.y&&(this._pos.y=a.y);null!=a.z&&(this._pos.z=a.z);null!=a.rot&&(this._render.rotation=a.rot);null!=a.alpha&&(this._render.alpha=a.alpha);null!=a.scale&&(this._render.scaleX=this._render.scaleY=a.scale);null!=a.scaleX&&(this._render.scaleX=a.scaleX);null!=a.scaleY&&(this._render.scaleY=a.scaleY);null!=a.useCamera&&(this._useCamera=a.useCamera);if(null!=a.origin){if(A.__instanceof(a.origin,
g.WorkinPoint))throw"ERROR: Do not send a WorkinPoint as an origin. Send originX and originY separately, or send a float that will apply to both x and y.";a.originX=a.originY=a.origin}null==a.originX&&(a.originX=0);null==a.originY&&(a.originY=0);null!=a.resize&&(this._flagResize=a.resize);null!=a.pointerEnabled&&this._rootSprite.set_pointerEnabled(a.pointerEnabled);null!=a.visible&&this._rootSprite.set_visible(a.visible);this.setOrigin(a.originX,a.originY);null!=a.showSpinner&&(this._showSpinner=
a.showSpinner);if(a.loadAsset){var b=a.loadAsset;this._loadAsset=b[0];null==this._loadAsset&&(this._loadAsset="");if(e.WorkinCloud.get_instance().get_assets().hasAsset(this._loadAsset)||""==this._loadAsset)this.setTextureAsset(this._loadAsset);else{this._isLoadedDispatched=!1;this._loadSpinner=this.addElement(new h.elements.LoadingSpinner({originX:0.5,originY:0.5,alpha:this._showSpinner?1:0}));this._isLoaded=!1;this._showSpinner&&(this._render.width=this._loadSpinner.get_renderable().width,this._render.height=
this._loadSpinner.get_renderable().height);for(var d=0;d<b.length;){var j=b[d];++d;e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(c.ConstantsApp.EVENT_ADD_FILE,{file:j}))}}}l.Poolable.prototype.renew.call(this,a)},__class__:l.Element,__properties__:{set_pos:"set_pos",get_pos:"get_pos",set_velocity:"set_velocity",get_velocity:"get_velocity",set_doDelete:"set_doDelete",get_doDelete:"get_doDelete",get_renderable:"get_renderable",get_root:"get_root",get_rootSprite:"get_rootSprite",
get_depth:"get_depth",set_layer:"set_layer",get_layer:"get_layer",get_uniqueId:"get_uniqueId",get_asset:"get_asset",get_isLoaded:"get_isLoaded",get_isLoadedAll:"get_isLoadedAll",get_originX:"get_originX",get_originY:"get_originY",get_offsetX:"get_offsetX",get_offsetY:"get_offsetY",get_texture:"get_texture"}});w.buttons.ButtonBase=function(a,b,d,j,c,f,h,i,k){null==k&&(k="");null==i&&(i="");null==h&&(h="");null==f&&(f="");null==c&&(c=0.5);null==j&&(j=0.5);this._DEBUG_SHOW_HITBOX=!1;l.Element.call(this,
{x:a,y:b,asset:this._assetUp,originX:j,originY:c});this._dispatcher=p.WMEventDispatcher.request();this._tween=d;this._hitTestResult=!1;this._parentOffsetY=this._parentOffsetX=0;this._containsInput=!1;this._flagCanEnable=!0;this._assetUp=""==f?this._getDefaultAssetUp():f;this._assetOver=""==h?this._getDefaultAssetOver():h;this._assetDown=""==i?this._getDefaultAssetDown():i;this._assetDisabled=""==k?this._getDefaultAssetDisabled():k;this._state=w.buttons.ButtonState._STATE_UP;this._flagDragged=!1;this.enable();
this._buildHitBox();e.WorkinCloud.get_instance().get_dispatcher().addEventListener(p.WMEventInput.EVENT_INPUT,x(this,this._onEventInput));this._buttonScaleBase=g.WorkinPoint.request(1,1)};m["com.nick.engines.quiz_2014.ui.buttons.ButtonBase"]=w.buttons.ButtonBase;w.buttons.ButtonBase.__name__="com,nick,engines,quiz_2014,ui,buttons,ButtonBase".split(",");w.buttons.ButtonBase.__super__=l.Element;w.buttons.ButtonBase.prototype=z(l.Element.prototype,{_renderDisabled:function(){this.setTextureAsset(this._assetDisabled)},
_renderReturnUp:function(){this._tween.tween(this._render,0.15,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y},!0).ease(g.tween.Ease.EASE_QUAD_OUT);this._renderUp()},_renderDown:function(){this._tween.tween(this._render,0.15,{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y},!0).ease(g.tween.Ease.EASE_QUAD_OUT);this.setTextureAsset(this._assetDown)},_renderOut:function(){this._tween.tween(this._render,0.5,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y},
!0).ease(g.tween.Ease.EASE_ELASTIC_OUT)},_renderOver:function(){this._tween.tween(this._render,0.15,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y},!0).ease(g.tween.Ease.EASE_QUAD_IN)},_renderUp:function(){this.setTextureAsset(this._assetUp)},setScale:function(a,b){this._buttonScaleBase.x=a;this._buttonScaleBase.y=b;this._render.scaleX=this._buttonScaleBase.x;this._render.scaleY=this._buttonScaleBase.y},_playSoundClick:function(){},update:function(a){l.Element.prototype.update.call(this,
a)},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(w.buttons.ButtonBase.CANCEL_DRAG)},_onOut:function(){this._flagEnabled&&(this._renderOut(),this._dispatch(w.buttons.ButtonBase.OUT))},_onOver:function(){this._renderOver();this._dispatch(w.buttons.ButtonBase.OVER)},_onUp:function(){this._flagEnabled&&!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(w.buttons.ButtonBase.UP))},
_onDown:function(){this._flagEnabled&&!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(this._renderDown(),this._dispatch(w.buttons.ButtonBase.DOWN))},_doClick:function(){this._dispatch(w.buttons.ButtonBase.CLICK);""!=this.get__clickFlow()&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventFlow.request(this.get__clickFlow()));""!=this.get__clickEvent()&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(this.get__clickEvent()))},
_click:function(){var a=this;if(!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(this._playSoundClick(),this._doClick(),null!=this._tween))this._tween.tween(this._render,0.1,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y},!0).ease(g.tween.Ease.EASE_QUAD_IN).onComplete(function(){if(a._flagEnabled)a._tween.tween(a._render,0.4,{scaleX:a._buttonScaleBase.x,scaleY:a._buttonScaleBase.y},!0).ease(g.tween.Ease.EASE_ELASTIC_OUT).onComplete(function(){a._containsInput?
(a._state=w.buttons.ButtonState._STATE_OVER,a._renderOver()):a._state=w.buttons.ButtonState._STATE_UP});else a._render.scaleX=a._buttonScaleBase.x,a._render.scaleY=a._buttonScaleBase.y})},_dispatch:function(a){this.get__DO_DISPATCH()&&null!=this._dispatcher&&this._dispatcher.dispatchEvent(p.WMEvent.request(a))},get__clickFlow:function(){return""},get__clickEvent:function(){return""},get__DO_DISPATCH:function(){return!0},_getDefaultAssetDisabled:function(){return""},_getDefaultAssetDown:function(){return""},
_getDefaultAssetOver:function(){return""},_getDefaultAssetUp:function(){return""},depthTest:function(a,b){if(!this._flagEnabled)return!1;var d=e.WorkinCloud.get_instance().get_input().doDepthTestOnWorldCoordinates(a,b);this._hitTestResult=!1;d==this._imageSprite&&(this._hitTestResult=!0);!1==this._hitTestResult&&null!=this._hitBox&&d==this._hitBox&&(this._hitTestResult=!0);return this._hitTestResult},_onEventInput:function(a){switch(a.input){case c.ConstantsApp.INPUT_CLICK:switch(this._hitRect.toXY(this._pos.x-
this._render.width*this._originX+this._parentOffsetX,this._pos.y-this._render.height*this._originY+this._parentOffsetY),this._containsInput=this._hitRect.contains(a.x,a.y),a.phase){case p.WMEventInput.PHASE_DOWN:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&this.depthTest(a.x,a.y)&&(this._state=w.buttons.ButtonState._STATE_DOWN,this._onDown(a.x,a.y))}break;case p.WMEventInput.PHASE_MOVE:switch(this._state[1]){case 0:this._containsInput&&this.depthTest(a.x,a.y)&&(this._state=w.buttons.ButtonState._STATE_OVER,
this._onOver());break;case 2:!1==this._containsInput&&(this._state=w.buttons.ButtonState._STATE_UP,this._onOut())}break;case p.WMEventInput.PHASE_UP:switch(this._state[1]){case 1:this._containsInput?(this._state=w.buttons.ButtonState._STATE_CLICK,this._onUp(a.x,a.y)):(this._state=w.buttons.ButtonState._STATE_UP,this._renderReturnUp())}}}},_buildHitBox:function(){this._hitRect=g.WMRectangle.request(0,0,this._render.width,this._render.height);if(this._DEBUG_SHOW_HITBOX){this._hitBox=new o.FillSprite(16711680,
this._render.width|0,this._render.height|0);this._hitBox.alpha.set__(0.5);var a=new P;a.add(this._hitBox);this._imageEntity.addChild(a)}},disable:function(){this._flagEnabled=!1;this._renderDisabled();null!=this._tween&&this._tween.stop(this._render);this._render.scaleX=this._buttonScaleBase.x;this._render.scaleY=this._buttonScaleBase.y},enable:function(){this._flagCanEnable&&(this._flagEnabled=!0,this._renderUp())},get_hitRect:function(){return this._hitRect},get_dispatcher:function(){return this._dispatcher},
dispose:function(){this._tween=null;this.disable();e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(p.WMEventInput.EVENT_INPUT,x(this,this._onEventInput));null!=this._hitBox&&(this._hitBox.dispose(),this._hitBox=null);this._hitRect.dispose();this._hitRect=null;this._buttonScaleBase.dispose();this._state=this._buttonScaleBase=null;this._dispatcher.dispose();this._dispatcher=null;l.Element.prototype.dispose.call(this)},setParentOffsetScale:function(a,b){this._parentOffsetScaleX=a;this._parentOffsetScaleY=
b},setParentOffsetFloats:function(a,b){this._parentOffsetX=a;this._parentOffsetY=b;return this},setParentOffset:function(a){this._parentOffsetX=a.get_pos().x;this._parentOffsetY=a.get_pos().y;return this},set_canEnable:function(a){return this._flagCanEnable=a},__class__:w.buttons.ButtonBase});l.Display=function(a,b,d,j,c,e){null==e&&(e="");null==c&&(c=0);null==j&&(j=0);null==d&&(d="");this._flagLocked=!1;l.Element.call(this,{x:a,y:b,asset:d,originX:j,originY:c,layer:e});this._addEventListeners()};
m["com.workinman.display.Display"]=l.Display;l.Display.__name__=["com","workinman","display","Display"];l.Display.__super__=l.Element;l.Display.prototype=z(l.Element.prototype,{dispose:function(){l.Element.prototype.dispose.call(this)},_updateValue:function(){return""},_refresh:function(){},_onUpdateDisplay:function(a){this._flagLocked||a.get_data().valueID==this._updateValue()&&this._refresh()},_removeEventListeners:function(){l.Element.prototype._removeEventListeners.call(this);e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(l.Display.EVENT_UPDATE_DISPLAY,
x(this,this._onUpdateDisplay))},_addEventListeners:function(){l.Element.prototype._addEventListeners.call(this);e.WorkinCloud.get_instance().get_dispatcher().addEventListener(l.Display.EVENT_UPDATE_DISPLAY,x(this,this._onUpdateDisplay))},__class__:l.Display});w.display={};w.display.DisplayLoadingProgress=function(a,b,d,j,c){null==c&&(c="");null==j&&(j=!1);l.Display.call(this,a,b,"",0.5,0.5,c);this._minigameStyle=j;this._tween=d;this._active=!1;this._spinnerOrigin=-50;this._scale=this._minigameStyle?
3:1;this._loadMin=-1;this.addElement(new l.Element({asset:"loading_backplate",originX:0.5,originY:0.5,scale:this._scale,y:5}));this._bar=this.addElement(new l.Element({asset:"loading_fill",originX:0,originY:0.5,scale:this._scale,scaleX:0,y:5}));this._bar.get_pos().x-=this._bar.get_renderable().width/2;this._render.width=this._bar.get_renderable().width;this.addElement(new l.Element({asset:"loading_faceplate",originX:0.5,originY:0.5,scale:this._scale,y:5}));this._minigameStyle||(this._text=this.addElement(new l.TextBase(0,
this._spinnerOrigin,"","futura_bold",{originX:0.5,originY:0.5,scale:0.35,y:-5})),this._text.get_pos().x=-this._bar.get_renderable().width/2);this._render.alpha=0;this._flagResize=!0;this.onResizeScale(4)};m["com.nick.engines.quiz_2014.ui.display.DisplayLoadingProgress"]=w.display.DisplayLoadingProgress;w.display.DisplayLoadingProgress.__name__="com,nick,engines,quiz_2014,ui,display,DisplayLoadingProgress".split(",");w.display.DisplayLoadingProgress.__super__=l.Display;w.display.DisplayLoadingProgress.prototype=
z(l.Display.prototype,{_removeEventListeners:function(){l.Display.prototype._removeEventListeners.call(this);e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_RESIZE_CANVAS,x(this,this._onEventResizeCanvas))},_addEventListeners:function(){l.Display.prototype._addEventListeners.call(this);e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_RESIZE_CANVAS,x(this,this._onEventResizeCanvas))},_updateValue:function(){return c.ConstantsApp.INT_LOADING_PROGRESS},
_refresh:function(){this._text.set_text(Math.min(100,e.WorkinCloud.get_instance().getInt(this._updateValue()))+"%");this._bar.get_renderable().scaleX=e.WorkinCloud.get_instance().getInt(this._updateValue())/100;this._loadMin=N.FMath.max(this._loadMin,this._bar.get_renderable().scaleX);this._bar.get_renderable().scaleX=N.FMath.clamp(this._bar.get_renderable().scaleX,this._loadMin,1);1<this._bar.get_renderable().scaleX&&(this._bar.get_renderable().scaleX=1);this._text.get_pos().x=-this._bar.get_renderable().width/
2+this._bar.get_renderable().scaleX*this._bar.get_renderable().width},tweenOut:function(){!1!=this._active&&(this._render.alpha=0,this._active=!1)},tweenIn:function(){this._active||(this._tween.tween(this.get_renderable(),0.15,{scaleX:1.1*this._render.scaleX,scaleY:1.1*this._render.scaleY,alpha:1},!0,g.tween.Ease.EASE_OUT),this._tween.tween(this.get_renderable(),0.15,{scaleX:this._render.scaleX,scaleY:this._render.scaleY},!1,g.tween.Ease.EASE_IN),this._active=!0)},update:function(a){l.Display.prototype.update.call(this,
a)},get_active:function(){return this._active},dispose:function(){this._text=this._bar=this._spinner=this._tween=null;l.Display.prototype.dispose.call(this)},__class__:w.display.DisplayLoadingProgress});w.display.DisplayOrientationAlert=function(a,b,d,j,c){null==c&&(c="");l.Display.call(this,a,b,"",0.5,0.5,c);this._bg=new o.FillSprite(0,2048,1024);this.get_root().addChild((new P).add(this._bg));this._render.visible=!1};m["com.nick.engines.quiz_2014.ui.display.DisplayOrientationAlert"]=w.display.DisplayOrientationAlert;
w.display.DisplayOrientationAlert.__name__="com,nick,engines,quiz_2014,ui,display,DisplayOrientationAlert".split(",");w.display.DisplayOrientationAlert.__super__=l.Display;w.display.DisplayOrientationAlert.prototype=z(l.Display.prototype,{_updateValue:function(){return c.ConstantsApp.BOOL_ORIENTATION_ALERT},_refresh:function(){this._render.visible=e.WorkinCloud.get_instance().getBool(this._updateValue());this._bg.width.set__(c.ConstantsApp.get_CANVAS_WIDTH());this._bg.height.set__(c.ConstantsApp.get_CANVAS_HEIGHT());
this._bg.x.set__(-Math.floor(this._bg.width._value/2));this._bg.y.set__(-Math.floor(this._bg.height._value/2));if(null==this._text){var a=this.addElement(new h.elements.Text({originX:0.5,originY:0.5}));this._text=new l.TextLocalized(0,0,c.ConstantsApp.EXTRA_DATA.orientation_landscape.text,c.ConstantsApp.EXTRA_DATA.orientation_landscape.fontName,{originX:0.5,originY:0.5,width:c.ConstantsApp.EXTRA_DATA.orientation_landscape.textWidth,scale:c.ConstantsApp.EXTRA_DATA.orientation_landscape.fontScale,spacing:c.ConstantsApp.EXTRA_DATA.orientation_landscape.textSpacing});
a.addText(this._text,c.ConstantsApp.EXTRA_DATA.orientation_landscape.textColor)}},dispose:function(){l.Display.prototype.dispose.call(this);this._text=this._bg=null},__class__:w.display.DisplayOrientationAlert});h={_World:{}};h._World.WORLD_STATE=m["com.nick.engines.quiz_2014.world._World.WORLD_STATE"]={__ename__:"com,nick,engines,quiz_2014,world,_World,WORLD_STATE".split(","),__constructs__:["_STATE_INITIALIZING","_STATE_GAMEPLAY","_STATE_RESULT","_STATE_RESULT_START"]};h._World.WORLD_STATE._STATE_INITIALIZING=
["_STATE_INITIALIZING",0];h._World.WORLD_STATE._STATE_INITIALIZING.toString=n;h._World.WORLD_STATE._STATE_INITIALIZING.__enum__=h._World.WORLD_STATE;h._World.WORLD_STATE._STATE_GAMEPLAY=["_STATE_GAMEPLAY",1];h._World.WORLD_STATE._STATE_GAMEPLAY.toString=n;h._World.WORLD_STATE._STATE_GAMEPLAY.__enum__=h._World.WORLD_STATE;h._World.WORLD_STATE._STATE_RESULT=["_STATE_RESULT",2];h._World.WORLD_STATE._STATE_RESULT.toString=n;h._World.WORLD_STATE._STATE_RESULT.__enum__=h._World.WORLD_STATE;h._World.WORLD_STATE._STATE_RESULT_START=
["_STATE_RESULT_START",3];h._World.WORLD_STATE._STATE_RESULT_START.toString=n;h._World.WORLD_STATE._STATE_RESULT_START.__enum__=h._World.WORLD_STATE;h.World=function(a){this._TIME_FILE=this._DELAY_NEXT_PAGE=0.5;this._dispatcher=p.WMEventDispatcher.request();this._timeline=a;this._flagMouseDown=this._loadComplete=this._preloadAdded=!1;this._pageClick=this._pageNum=0;h.World._baseUrl=e.WorkinCloud.get_instance().get_assets().get_baseUrl();h.World._baseUrl=-1==h.World._baseUrl.indexOf("assets")?h.World._baseUrl+
("assets/"+c.ConstantsApp.FOLDER):h.World._baseUrl+c.ConstantsApp.FOLDER;this._elementManager=new l.ElementManager(this._timeline,c.ConstantsApp.STAGE_CENTER_X,c.ConstantsApp.STAGE_CENTER_Y);this._elementManager.addLayer(c.ConstantsApp.LAYER_WORLD,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_BG,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_PLAYER,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_OVER,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_FG,!0);this._elementManager.addLayer(c.ConstantsApp.LAYER_UI,
!0);this._addEventListeners();this._setState(h._World.WORLD_STATE._STATE_INITIALIZING)};m["com.nick.engines.quiz_2014.world.World"]=h.World;h.World.__name__="com,nick,engines,quiz_2014,world,World".split(",");h.World.get_tweener=function(){null==h.World.__tween&&(h.World.__tween=g.tween.WorkinTweener.request());return h.World.__tween};h.World.get_baseUrl=function(){return h.World._baseUrl};h.World.prototype={_onGenerationComplete:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE));
e.WorkinUtils.sendOmniture("Quiz start")},_initWorld:function(){var a=this;this._files=[];this._pages=[];""!=c.ConstantsApp.BG_IMAGE&&(this._bg=this._elementManager.addElement(new l.Element({layer:c.ConstantsApp.LAYER_BG,asset:c.ConstantsApp.BG_IMAGE,originX:0.5,x:c.ConstantsApp.get_CANVAS_CENTER_X(),resize:!0})));this._quiz=this._elementManager.addElement(new l.Element({layer:c.ConstantsApp.LAYER_PLAYER}));this._pages.push(this._quiz.addElement(new h.elements.PagePrompt({y:0,originX:0.5,prompt:!0})));
for(var b=0,d=c.ConstantsApp.QUESTION_DATA.length;b<d;){var j=b++;switch(c.ConstantsApp.QUESTION_DATA[j].type){case c.ConstantsApp.QUESTION_TYPE_FAVORITE:this._pages.push(this._quiz.addElement(new h.elements.PageFavorite({x:c.ConstantsApp.get_CANVAS_CENTER_X(),y:0,originX:0.5,id:j})));break;case c.ConstantsApp.QUESTION_TYPE_METER:this._pages.push(this._quiz.addElement(new h.elements.PageMeter({x:c.ConstantsApp.get_CANVAS_CENTER_X(),y:0,originX:0.5,id:j})));break;case c.ConstantsApp.QUESTION_TYPE_TEXT:this._pages.push(this._quiz.addElement(new h.elements.PageText({x:c.ConstantsApp.get_CANVAS_CENTER_X(),
y:0,originX:0.5,id:j})));break;case c.ConstantsApp.QUESTION_TYPE_LIST:this._pages.push(this._quiz.addElement(new h.elements.PageList({x:c.ConstantsApp.get_CANVAS_CENTER_X(),y:0,originX:0.5,id:j})));break;case c.ConstantsApp.QUESTION_TYPE_FLOW:this._pages.push(this._quiz.addElement(new h.elements.PageFlow({x:c.ConstantsApp.get_CANVAS_CENTER_X(),y:0,originX:0.5,id:j})));break;case c.ConstantsApp.QUESTION_TYPE_SORT:this._pages.push(this._quiz.addElement(new h.elements.PageSort({x:c.ConstantsApp.get_CANVAS_CENTER_X(),
y:0,originX:0.5,id:j})));break;case c.ConstantsApp.QUESTION_TYPE_CYOE:this._pages.push(this._quiz.addElement(new h.elements.PageCyoe({x:c.ConstantsApp.get_CANVAS_CENTER_X(),y:0,originX:0.5,id:j})))}}this._pages.push(this._quiz.addElement(new h.elements.PageFooter({y:0,originX:0.5,footer:!0})));c.ConstantsApp.EXTRA_DATA.banner.enabled&&(d=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.banner.image,c.ConstantsApp.EXTRA_DATA.banner.bgColor,c.ConstantsApp.EXTRA_DATA.banner.text,c.ConstantsApp.EXTRA_DATA.banner.textColor,
c.ConstantsApp.EXTRA_DATA.banner.shadow,c.ConstantsApp.EXTRA_DATA.banner.fontName,c.ConstantsApp.EXTRA_DATA.banner.fontScale,c.ConstantsApp.EXTRA_DATA.banner.textSpacing),d.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventBannerClick)),d.set_layer(c.ConstantsApp.LAYER_FG),d.set_flagResult(!0),this._banner=d,this._elementManager.addElement(d));this._btnsHud=[];var e,f=this._elementManager.addElement(new l.Element({layer:c.ConstantsApp.LAYER_FG,resize:!0,originX:0.5,
originY:1,x:c.ConstantsApp.get_CANVAS_CENTER_X(),y:c.ConstantsApp.get_CANVAS_HEIGHT()})),b=this._pages.length;this._circles=[];for(var g=300/b,i=-g*(b-1)/2,m=Math.min(g/40,1),d=0;d<b;)j=d++,e=f.addElement(new h.elements.ButtonPage(i+j*g,-20,h.World.get_tweener(),0.5,0.5)),j=e.addElement(new h.elements.ColorableElement({colorMaskAsset:c.ConstantsApp.EXTRA_DATA.page.image,originX:0.5,originY:0.5,color:c.ConstantsApp.EXTRA_DATA.page.bgColor}),!1),e.get_renderable().width=j.get_renderable().width,e.get_renderable().height=
j.get_renderable().height,e.setScale(m,m),this._circles.push(e),e.setParentOffset(f),e.set_flagResult(!0);for(d=0;d<b;)j=[d++],this._circles[j[0]].get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,function(b){return function(){a._onEventCircleClick(b[0])}}(j));this._circles[0].setColor(c.ConstantsApp.EXTRA_DATA.page_done.bgColor);this._circles[0].glow.get_renderable().alpha=1;this._hud=f;c.ConstantsApp.EXTRA_DATA.page_arrow.enabled?(d=f.addElement(new h.elements.ButtonGameplay(-170,-20,
h.World.get_tweener(),0.5,0.5,c.ConstantsApp.EXTRA_DATA.left.image,c.ConstantsApp.EXTRA_DATA.left.image,c.ConstantsApp.EXTRA_DATA.left.image)),d.get_renderable().rotation=180,j=d.addElement(new h.elements.ColorableElement({colorMaskAsset:c.ConstantsApp.EXTRA_DATA.left.image,originX:0.5,originY:0.5,color:c.ConstantsApp.EXTRA_DATA.left.bgColor})),d.get_renderable().width=j.get_renderable().width,d.get_renderable().height=j.get_renderable().height,d.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,
x(this,this._onEventClickLeft)),d.setParentOffset(f),d.set_flagResult(!0),this._btnsHud.push(d),d=f.addElement(new h.elements.ButtonGameplay(170,-20,h.World.get_tweener(),0.5,0.5,c.ConstantsApp.EXTRA_DATA.right.image,c.ConstantsApp.EXTRA_DATA.right.image,c.ConstantsApp.EXTRA_DATA.right.image)),j=d.addElement(new h.elements.ColorableElement({colorMaskAsset:c.ConstantsApp.EXTRA_DATA.right.image,originX:0.5,originY:0.5,color:c.ConstantsApp.EXTRA_DATA.right.bgColor})),d.get_renderable().width=j.get_renderable().width,
d.get_renderable().height=j.get_renderable().height,d.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventClickRight)),d.setParentOffset(f),d.set_flagResult(!0),this._btnsHud.push(d),this._hud.get_renderable().width=2*d.get_pos().x+d.get_renderable().width+c.ConstantsApp.SPACING,h.World.HEIGHT_HUD=-2*d.get_pos().y):(this._hud.get_renderable().width=340,h.World.HEIGHT_HUD=50);0!=c.ConstantsApp.BOTTOM_HEIGHT&&(h.World.HEIGHT_HUD=c.ConstantsApp.BOTTOM_HEIGHT);d=this._hud.get_renderable().visible=
!1;try{d=B._platform.getExternal().call("eval",["window.self !== window.top"])}catch(n){null}f=-1;try{var j="",j=d?B._platform.getExternal().call("eval",["parent.window.location.href"]):B._platform.getExternal().call("eval",["window.location.href"]),o=j.indexOf("result=");-1!=o&&(f=t.parseInt(j.substring(o+7)))}catch(p){null}if(-1!=f&&f<=c.ConstantsApp.RESULT_DATA.results.length){o=c.ConstantsApp.RESULT_DATA.results;b=0;for(d=o.length;b<d;)if(j=b++,o[j].id==f){f=j;break}this._initResult(f)}this._onResize();
k.ServiceAnalytics.sendCanadaTrackingCall("play")},_initResult:function(a){this._pages.push(this._quiz.addElement(new h.elements.PageResult({y:0,originX:0.5,result:!0,id:a,share:!0})));this._pageNum=this._pages.length-1;e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_RESULTS,!0);this._setState(h._World.WORLD_STATE._STATE_RESULT_START);this._hud.get_renderable().visible=!1;for(var b=0,d=this._circles;b<d.length;){var j=d[b];++b;j.disable()}b=0;for(d=this._btnsHud;b<d.length;)j=d[b],++b,j.disable();
this._onResize();e.WorkinUtils.sendOmniture("Shared result "+a)},handleInput:function(a){if(!(e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_PAUSED)||this._state==h._World.WORLD_STATE._STATE_INITIALIZING)){for(var b=0,d=this._pages;b<d.length;){var j=d[b];++b;j.handleInput(a)}switch(a.input){case c.ConstantsApp.INPUT_LEFT:switch(a.phase){case p.WMEventInput.PHASE_DOWN:this._scrollLeft()}break;case c.ConstantsApp.INPUT_RIGHT:switch(a.phase){case p.WMEventInput.PHASE_DOWN:this._scrollRight()}break;
case c.ConstantsApp.INPUT_CLICK:switch(a.phase){case p.WMEventInput.PHASE_UP:a.swipe==e.SWIPE.SWIPE_LEFT&&e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_TOUCH_DEVICE)?this._scrollRight():a.swipe==e.SWIPE.SWIPE_RIGHT&&e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_TOUCH_DEVICE)&&this._scrollLeft()}}}},_onEventBannerClick:function(){T.delay(function(){var a=c.ConstantsApp.EXTRA_DATA.banner.url,a=Q.htmlUnescape(a);B._platform.getWeb().openBrowser(a)},500);e.WorkinUtils.sendOmniture("Button banner")},
_onTakeQuiz:function(){this._quiz.removeElement(this._pages.pop());this._pageNum=0;this._hud.get_renderable().visible=!1;for(var a=0,b=this._circles;a<b.length;){var d=b[a];++a;d.enable()}a=0;for(b=this._btnsHud;a<b.length;)d=b[a],++a,d.enable();this._onResize();e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_RESULTS,!1);this._setState(h._World.WORLD_STATE._STATE_GAMEPLAY)},_onEventClickRight:function(){this._scrollRight()},_onEventClickLeft:function(){this._scrollLeft()},_onNextPage:function(){this._circles[this._pageNum].setColor(c.ConstantsApp.EXTRA_DATA.page_done.bgColor);
this._scrollRight(this._DELAY_NEXT_PAGE)},_onReplay:function(){this._quiz.removeElement(this._pages.pop());this._pages.push(this._pageFooter);this._quiz.addElement(this._pageFooter);for(var a=this._pageNum=this._circles[this._pageNum].glow.get_renderable().alpha=0,b=this._pages.length;a<b;){var d=a++;this._circles[d].setColor(c.ConstantsApp.EXTRA_DATA.page.bgColor);this._pages[d].reset()}this._circles[0].setColor(c.ConstantsApp.EXTRA_DATA.page_done.bgColor);this._circles[0].glow.get_renderable().alpha=
1;this._onResize();e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_RESULTS,!1);this._setState(h._World.WORLD_STATE._STATE_GAMEPLAY);k.ServiceAnalytics.sendCanadaTrackingCall("replay")},_onSubmit:function(){for(var a=new F.IntMap,b=!0,d,j=this._pages.length,s=0,f=this._pages;s<f.length;){d=f[s];++s;d=d.getSelected();for(var g=0;g<d.length;){var i=d[g];++g;a.exists(i)?a.set(i,a.get(i)+1):(b=!1,a.set(i,1))}0==d.length&&j--}if(!(b&&1==c.ConstantsApp.RESULT_DATA.type)){b=0;if(1==c.ConstantsApp.RESULT_DATA.type){d=
s=0;for(f=a.keys();f.hasNext();)g=f.next(),a.get(g)>s?(s=a.get(g),d=g):a.get(g)==s&&0.5<Math.random()&&(s=a.get(g),d=g);f=0;for(s=c.ConstantsApp.RESULT_DATA.results.length;f<s;)a=f++,c.ConstantsApp.RESULT_DATA.results[a].id==d&&(b=a)}else{d=null!=a.get(1)?a.get(1):0;g=Math.POSITIVE_INFINITY;f=0;for(s=c.ConstantsApp.RESULT_DATA.results.length;f<s;)a=f++,Math.abs(c.ConstantsApp.RESULT_DATA.results[a].id-d)<g?(g=Math.abs(c.ConstantsApp.RESULT_DATA.results[a].id-d),b=a):Math.abs(c.ConstantsApp.RESULT_DATA.results[a].id-
d)==g&&c.ConstantsApp.RESULT_DATA.results[a].id<d&&(g=Math.abs(c.ConstantsApp.RESULT_DATA.results[a].id-d),b=a)}this._pageFooter=this._pages.pop();this._quiz.removeElement(this._pageFooter,!1);this._pages.push(this._quiz.addElement(new h.elements.PageResult({y:0,originX:0.5,result:!0,id:b})));this._pages[this._pages.length-1].get_pos().x=this._pageFooter.get_pos().x;this._pages[this._pages.length-1].get_pos().y=this._pageFooter.get_pos().y;e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_RESULTS,
!0);this._setState(h._World.WORLD_STATE._STATE_RESULT);this._hud.get_renderable().visible=!1;this._onResize();e.WorkinUtils.sendOmniture("Quiz complete");e.WorkinUtils.sendOmniture("Answered "+j+" / "+(this._pages.length-2));e.WorkinUtils.sendOmniture("Result "+b)}},_onStart:function(){this._scrollRight()},_onUpdatePage:function(){this._updatePages()},_onEventResizeCanvas:function(){this._onResize()},_onAddFile:function(a){this._state==h._World.WORLD_STATE._STATE_RESULT_START?this._files.unshift(a.get_data().file):
this._files.push(a.get_data().file)},_enableHud:function(){for(var a=0,b=this._btnsHud;a<b.length;){var d=b[a];++a;d.enable()}a=0;for(b=this._circles;a<b.length;)d=b[a],++a,d.enable()},_disableHud:function(){for(var a=0,b=this._btnsHud;a<b.length;){var d=b[a];++a;d.disable()}a=0;for(b=this._circles;a<b.length;)d=b[a],++a,d.disable()},_onDisableHud:function(){this._disableHud()},_onEnableHud:function(){this._enableHud()},_onShareClose:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_SHARE,
!1);this._pageShare.get_pos().x=-1E4;this._onResize()},_onShare:function(a){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_SHARE,!0);null==this._pageShare&&(this._pageShare=this._elementManager.addElement(new h.elements.PageShare({layer:c.ConstantsApp.LAYER_FG,text:a.get_data().text})));this._pageShare.updateText(a.get_data().text);this._pageShare.get_pos().x=0;this._pageShare.show();this._onResize()},_unpauseUI:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_UI_PAUSED,
!1)},_pauseUI:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_UI_PAUSED,!0)},_unpause:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PAUSED,!1)},_pause:function(){e.WorkinCloud.get_instance().setBool(c.ConstantsApp.BOOL_PAUSED,!0)},_onUnpause:function(){this._unpause()},_onPause:function(){this._pause()},_removeEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_PAUSE,x(this,this._onPause));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_UNPAUSE,
x(this,this._onUnpause));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_ADD_FILE,x(this,this._onAddFile));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_RESIZE_CANVAS,x(this,this._onEventResizeCanvas));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_START,x(this,this._onStart));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_SUBMIT,x(this,this._onSubmit));
e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_REPLAY,x(this,this._onReplay));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_NEXT_PAGE,x(this,this._onNextPage));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_UPDATE_PAGE,x(this,this._onUpdatePage));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_TAKE_QUIZ,x(this,this._onTakeQuiz));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_ENABLE_HUD,
x(this,this._onEnableHud));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_DISABLE_HUD,x(this,this._onDisableHud));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_SHARE,x(this,this._onShare));e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_SHARE_CLOSE,x(this,this._onShareClose))},_addEventListeners:function(){e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_PAUSE,
x(this,this._onPause));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_UNPAUSE,x(this,this._onUnpause));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_ADD_FILE,x(this,this._onAddFile));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_RESIZE_CANVAS,x(this,this._onEventResizeCanvas));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_START,x(this,this._onStart));
e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_SUBMIT,x(this,this._onSubmit));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_REPLAY,x(this,this._onReplay));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_NEXT_PAGE,x(this,this._onNextPage));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_UPDATE_PAGE,x(this,this._onUpdatePage));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_TAKE_QUIZ,
x(this,this._onTakeQuiz));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_ENABLE_HUD,x(this,this._onEnableHud));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_DISABLE_HUD,x(this,this._onDisableHud));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_SHARE,x(this,this._onShare));e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_SHARE_CLOSE,x(this,this._onShareClose))},
_onResize:function(){if(null!=this._pages){null!=this._bg&&(this._bg.get_renderable().scaleX=this._bg.get_renderable().scaleY=c.ConstantsApp.get_CANVAS_WIDTH()/this._bg.get_renderable().width);null!=this._banner&&(this._banner.onResizeScale(2),null!=this._bg&&this._banner.setScale(this._bg.get_renderable().scaleX,this._bg.get_renderable().scaleX),this._banner.get_pos().to(c.ConstantsApp.EXTRA_DATA.banner.x/1024*c.ConstantsApp.get_CANVAS_WIDTH(),c.ConstantsApp.EXTRA_DATA.banner.y/720*c.ConstantsApp.get_CANVAS_HEIGHT()*
Math.min(1,this._banner.get_renderable().scaleY)));this._hud.onResizeScale();h.World.HUD_SCALE=this._hud.get_renderable().scaleY;for(var a=0,b=this._btnsHud;a<b.length;){var d=b[a];++a;d.setParentOffsetScale(this._hud.get_renderable().scaleX,this._hud.get_renderable().scaleY);d.setParentOffsetFloats(c.ConstantsApp.get_CANVAS_CENTER_X(),c.ConstantsApp.get_CANVAS_HEIGHT())}a=0;for(b=this._circles;a<b.length;)d=b[a],++a,d.setParentOffsetScale(this._hud.get_renderable().scaleX,this._hud.get_renderable().scaleY),
d.setParentOffsetFloats(c.ConstantsApp.get_CANVAS_CENTER_X(),c.ConstantsApp.get_CANVAS_HEIGHT());b=0;for(a=this._pages.length;b<a;)d=b++,this._pages[d].get_pos().x=d*c.ConstantsApp.get_CANVAS_WIDTH(),this._pages[d].onResize();this._quiz.get_pos().x=c.ConstantsApp.get_CANVAS_CENTER_X()-this._pages[this._pageNum].get_pos().x;this._updatePages();if(null!=this._pageShare)this._pageShare.onResizeScale()}},_updatePages:function(){null!=this._circles&&null!=this._circles[this._pageNum]&&(this._circles[this._pageNum].glow.get_renderable().alpha=
1);for(var a=0,b=this._pages.length;a<b;){var d=a++;this._pages[d].updateButtons(this._pages[d].get_pos().x+this._quiz.get_pos().x,0)}},_scrollStop:function(){this._pages[this._pageNum].startTimer();this._updatePages();this._unpauseUI();this._hud.get_renderable().visible=0!=this._pageNum},_scroll:function(a,b){this._pauseUI();h.World.get_tweener().tween(this._quiz.get_pos(),a,{x:c.ConstantsApp.get_CANVAS_CENTER_X()-this._pages[this._pageNum].get_pos().x},!0,g.tween.Ease.EASE_OUT,b).onComplete(x(this,
this._scrollStop))},_onEventCircleClick:function(a){this._hud.get_renderable().visible&&this._pageNum!=a&&(this._circles[this._pageNum].glow.get_renderable().alpha=0,this._pages[this._pageNum].leavePage(),this._pageNum=a,this._scroll(0.2,0))},_scrollLeft:function(){var a=this._pageNum-1;0>a||(this._circles[this._pageNum].glow.get_renderable().alpha=0,this._pages[this._pageNum].leavePage(),this._pageNum=a,this._scroll(0.2,0))},_scrollRight:function(a){null==a&&(a=0);var b=this._pageNum+1;b>=this._pages.length||
(this._circles[this._pageNum].glow.get_renderable().alpha=0,this._pages[this._pageNum].leavePage(),this._pageNum=b,this._scroll(0.2,a))},_tryLoadComplete:function(){!this._loadComplete&&e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_PRELOAD_LOADED)&&e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_INITIAL_LOADED)&&(this._loadComplete=!0,this._tryRemoveLoader(),e.WorkinCloud.get_instance().stack([x(this,this._initWorld),x(this,this._onGenerationComplete)]))},_tryRemoveLoader:function(){null==
this._loadWidget||!1==this._loadWidget.get_active()||this._loadWidget.tweenOut()},_tryAddLoader:function(){null==this._loadWidget&&(this._loadWidget=this._elementManager.addElement(new w.display.DisplayLoadingProgress(c.ConstantsApp.get_CANVAS_CENTER_X(),c.ConstantsApp.get_CANVAS_CENTER_Y(),h.World.get_tweener(),!1,c.ConstantsApp.LAYER_FG)),this._loadWidget.tweenIn(),this._elementManager.addElement(new w.display.DisplayOrientationAlert(c.ConstantsApp.get_CANVAS_CENTER_X(),c.ConstantsApp.get_CANVAS_CENTER_Y(),
h.World.get_tweener(),!1,c.ConstantsApp.LAYER_UI)))},_tryPreload:function(){!this._preloadAdded&&e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_PRELOAD_LOADED)&&(this._preloadAdded=!0,this._tryAddLoader())},render:function(){this._elementManager.renderElements()},update:function(a){null!=this._loadWidget&&this._loadWidget.update(a);if(!0!=e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_PAUSED))switch(h.World.get_tweener().update(a),this._state[1]){case 0:this._tryPreload();this._tryLoadComplete();
break;case 1:case 2:case 3:this._elementManager.updateElements(a),this._timerFile-=a,0>=this._timerFile&&0<this._files.length&&(Q.startsWith(this._files[0],"http://")?e.WorkinCloud.get_instance().get_assets().addFile(this._files[0],e.WorkinUtils.removeExtension(this._files[0]),!0,e.WorkinUtils.removeExtension(this._files[0]),e.WorkinUtils.getExtension(this._files[0])):e.WorkinCloud.get_instance().get_assets().addFile(h.World._baseUrl+this._files[0],e.WorkinUtils.removeExtension(this._files[0]),!0,
e.WorkinUtils.removeExtension(this._files[0]),e.WorkinUtils.getExtension(this._files[0])),this._files.shift(),this._timerFile=this._TIME_FILE)}},_setState:function(a){this._state=a;switch(a[1]){case 0:this._tryPreload();break;case 1:this._timerFile=this._TIME_FILE}},dispose:function(){h.World.get_tweener().stopAllTweens();this._elementManager.dispose();this._timeline=this._elementManager=null;this._removeEventListeners();this._state=null;this._dispatcher.dispose();this._banner=this._pageShare=this._bg=
this._hud=this._btnsHud=this._quiz=this._pageFooter=this._pages=this._files=this._dispatcher=null},start:function(){this._setState(h._World.WORLD_STATE._STATE_GAMEPLAY)},__class__:h.World};h.elements={};h.elements.Arrow=function(a){this._LINE_WIDTH=5;l.Element.call(this,a);this._lines=[];for(var b=0;2>b;)b++,a=new l.Element({}),a.get_root().addChild((new P).add(new o.FillSprite(0,1,1))),this._lines.push(this.addElement(a));this._arrow=new l.Element({originY:1,originX:0.5});a=this._arrow.addElement(new l.Element({originX:0.5,
x:-this._LINE_WIDTH/2}));b=new o.FillSprite(0,this._LINE_WIDTH,20);a.get_root().addChild((new P).add(b));a.get_renderable().rotation=135;a=this._arrow.addElement(new l.Element({originX:0.5,x:-this._LINE_WIDTH/2}));b=new o.FillSprite(0,this._LINE_WIDTH,16);a.get_root().addChild((new P).add(b));a.get_renderable().rotation=-135;this.addElement(this._arrow)};m["com.nick.engines.quiz_2014.world.elements.Arrow"]=h.elements.Arrow;h.elements.Arrow.__name__="com,nick,engines,quiz_2014,world,elements,Arrow".split(",");
h.elements.Arrow.__super__=l.Element;h.elements.Arrow.prototype=z(l.Element.prototype,{updateArrow:function(a,b,d){this.get_pos().to(a.get_pos().x,a.get_pos().y);b.get_pos().x>a.get_pos().x+a.get_renderable().width/2&&b.get_pos().x<a.get_pos().x+a.get_renderable().width/2+c.ConstantsApp.SPACING||b.get_pos().x<a.get_pos().x-a.get_renderable().width/2&&b.get_pos().x>a.get_pos().x-a.get_renderable().width/2-c.ConstantsApp.SPACING?(this._lines[0].get_pos().to(0,0),this._lines[0].get_renderable().scaleX=
this._LINE_WIDTH,this._lines[0].get_renderable().scaleY=b.get_pos().y-b.get_renderable().height*b.get_originY()-a.get_pos().y,this._lines[1].get_pos().to(0,0),this._lines[1].get_renderable().scaleX=0,this._lines[1].get_renderable().scaleY=0,d&&(this._lines[0].get_renderable().scaleY-=c.ConstantsApp.SPACING,this._arrow.get_pos().to(this._lines[0].get_renderable().scaleX+this._LINE_WIDTH/2,this._lines[0].get_renderable().scaleY))):b.get_pos().x<a.get_pos().x-a.get_renderable().width/2||b.get_pos().x>
a.get_pos().x+a.get_renderable().width/2?(this._lines[0].get_pos().to(0,0),this._lines[0].get_renderable().scaleX=b.get_pos().x-a.get_pos().x,this._lines[0].get_renderable().scaleY=this._LINE_WIDTH,this._lines[1].get_pos().to(this._lines[0].get_renderable().scaleX,0),this._lines[1].get_renderable().scaleX=this._LINE_WIDTH,this._lines[1].get_renderable().scaleY=b.get_pos().y-b.get_renderable().height*b.get_originY()-a.get_pos().y,d&&(this._lines[1].get_renderable().scaleY-=c.ConstantsApp.SPACING,this._arrow.get_pos().to(this._lines[0].get_renderable().scaleX+
this._LINE_WIDTH/2,this._lines[1].get_renderable().scaleY))):(b.get_pos().x==a.get_pos().x?(this._lines[0].get_pos().to(0,0),this._lines[0].get_renderable().scaleX=this._LINE_WIDTH,this._lines[0].get_renderable().scaleY=b.get_pos().y-b.get_renderable().height*b.get_originY()*b.get_renderable().scaleY-a.get_pos().y):(this._lines[0].get_pos().to(b.get_pos().x-a.get_pos().x,0),this._lines[0].get_renderable().scaleX=this._LINE_WIDTH,this._lines[0].get_renderable().scaleY=b.get_pos().y-b.get_renderable().height*
b.get_originY()-a.get_pos().y),this._lines[1].get_pos().to(0,0),this._lines[1].get_renderable().scaleX=0,this._lines[1].get_renderable().scaleY=0,d&&(this._lines[0].get_renderable().scaleY-=c.ConstantsApp.SPACING,this._arrow.get_pos().to(this._lines[0].get_renderable().scaleX+this._LINE_WIDTH/2,this._lines[0].get_renderable().scaleY)));this._arrow.get_renderable().visible=d},__class__:h.elements.Arrow});h.elements.BitmapLayer=function(a,b,d){this._maxSize=2048;l.Element.call(this,a);this._bitmapTexture=
B.createTexture(Math.floor(Math.min(this._maxSize,b)),Math.floor(Math.min(this._maxSize,d)));this.setImageSprite(new o.ImageSprite(this._bitmapTexture));this._prevScale={x:1,y:1}};m["com.nick.engines.quiz_2014.world.elements.BitmapLayer"]=h.elements.BitmapLayer;h.elements.BitmapLayer.__name__="com,nick,engines,quiz_2014,world,elements,BitmapLayer".split(",");h.elements.BitmapLayer.__super__=l.Element;h.elements.BitmapLayer.prototype=z(l.Element.prototype,{colorMask:function(a,b,d){if(null==b)a=e.WorkinCloud.get_instance().get_assets().getTexture(a),
this._bitmapTexture.get_graphics().setAlpha(0),this._bitmapTexture.get_graphics().fillRect(16777215,0,0,a.get_width(),a.get_height()),this._bitmapTexture.get_graphics().setAlpha(1),this._bitmapTexture.get_graphics().setBlendMode(o.BlendMode.Normal),this._bitmapTexture.get_graphics().fillRect(d,0,0,a.get_width(),a.get_height()),this._bitmapTexture.get_graphics().setBlendMode(o.BlendMode.Mask),this._bitmapTexture.get_graphics().drawImage(a,0,0),this._bitmapTexture.get_graphics().setBlendMode(o.BlendMode.Normal),
this._render.width=a.get_width(),this._render.height=a.get_height();else if(A.__instanceof(b,l.TextBase)){this.get_renderable().width=b.get_renderable().width*b.get_renderable().scaleX;this.get_renderable().height=b.get_renderable().height*b.get_renderable().scaleY;a=A.__cast(b,l.TextBase);this._bitmapTexture.get_graphics().setBlendMode(o.BlendMode.Mask);this._bitmapTexture.get_graphics().setAlpha(0);this._bitmapTexture.get_graphics().fillRect(16777215,0,0,this._bitmapTexture.get_width(),this._bitmapTexture.get_height());
this._bitmapTexture.get_graphics().setAlpha(1);null==this._textTexture?(this._textTexture=B.createTexture(this._bitmapTexture.get_width(),this._bitmapTexture.get_height()),this._bitmapTexture.get_graphics().scale(b.get_renderable().scaleX,b.get_renderable().scaleY)):(this._textTexture.dispose(),this._textTexture=B.createTexture(this._bitmapTexture.get_width(),this._bitmapTexture.get_height()));this._prevScale={x:b.get_renderable().scaleX,y:b.get_renderable().scaleY};this._textTexture.get_graphics().setBlendMode(o.BlendMode.Mask);
this._textTexture.get_graphics().setAlpha(0);this._textTexture.get_graphics().fillRect(16777215,0,0,this._bitmapTexture.get_width(),this._bitmapTexture.get_height());this._textTexture.get_graphics().setAlpha(1);this._textTexture.get_graphics().setBlendMode(o.BlendMode.Normal);for(var j=b=0,c=a.get_textDisplay();j<c.length;){var f=c[j];++j;var g=f,h=g._font.getGlyphs(g._text);if(0!=h.length){var i=0,k=0;for(a.get_just()==l.TEXT_JUSTIFICATION.JUST_CENTER?k=a.get_renderable().width/2-f.getNaturalWidth()/
2:a.get_just()==l.TEXT_JUSTIFICATION.JUST_RIGHT&&(k=a.get_renderable().width-f.getNaturalWidth());i<h.length;)f=h[i],this._textTexture.get_graphics().drawSubImage(f.page,k+f.xOffset,b+f.yOffset,f.x,f.y,f.width,f.height),k+=f.xAdvance,i<h.length-1&&(k+=f.getKerning(h[i+1].charCode)),i++;b+=g.getNaturalHeight()+a.get_spacing()}}this._bitmapTexture.get_graphics().setBlendMode(o.BlendMode.Normal);this._bitmapTexture.get_graphics().fillRect(d,0,0,this._bitmapTexture.get_width(),this._bitmapTexture.get_height());
this._bitmapTexture.get_graphics().setBlendMode(o.BlendMode.Mask);this._bitmapTexture.get_graphics().drawImage(this._textTexture,0,0);this._bitmapTexture.get_graphics().setBlendMode(o.BlendMode.Normal)}this._orientTexture(!1)},updateTexture:function(a,b){if(a>this._bitmapTexture.get_width()||b>this._bitmapTexture.get_height())this._bitmapTexture.dispose(),this._bitmapTexture=B.createTexture(Math.floor(Math.min(this._maxSize,a)),Math.floor(Math.min(this._maxSize,b))),this._bitmapTexture.get_graphics().scale(this._prevScale.x,
this._prevScale.y),this.setImageSprite(new o.ImageSprite(this._bitmapTexture))},dispose:function(){null!=this._bitmapTexture&&this._bitmapTexture.dispose();this._bitmapTexture=null;null!=this._textTexture&&this._textTexture.dispose();this._prevScale=this._textTexture=null;l.Element.prototype.dispose.call(this)},__class__:h.elements.BitmapLayer});h.elements.ButtonGameplay=function(a,b,d,j,c,e,f,h,g){null==g&&(g="");null==h&&(h="");null==f&&(f="");null==e&&(e="");null==c&&(c=0.5);null==j&&(j=0.5);w.buttons.ButtonBase.call(this,
a,b,d,j,c,e,f,h,g);this._flagShare=this._flagDown=this._flagMoved=this._flagDrag=this._flagFlick=this._flagResult=this._isSelected=!1;this._originPos={x:this.get_pos().x,y:this.get_pos().y};this._parentOffsetScaleX=this._parentOffsetScaleY=1;this.questionY=0};m["com.nick.engines.quiz_2014.world.elements.ButtonGameplay"]=h.elements.ButtonGameplay;h.elements.ButtonGameplay.__name__="com,nick,engines,quiz_2014,world,elements,ButtonGameplay".split(",");h.elements.ButtonGameplay.__super__=w.buttons.ButtonBase;
h.elements.ButtonGameplay.prototype=z(w.buttons.ButtonBase.prototype,{_onEventInput:function(a){if(!(e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_UI_PAUSED)||!0==e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_PAUSED)))if(!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_RESULTS)||this._flagResult)if((!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_SHARE)||this._flagShare)&&this._flagEnabled)switch(a.input){case c.ConstantsApp.INPUT_CLICK:this._hitRect.set_width(this._render.width*
this._render.scaleX);this._hitRect.set_height(this._render.height*this._render.scaleY);this._hitRect.toXY(this._pos.x-this._hitRect.get_width()*this._originX+this._parentOffsetX,this._pos.y-this._hitRect.get_height()*this._originY+this._parentOffsetY);this._containsInput=this._hitRect.contains(a.x,a.y);if(1!=this._parentOffsetScaleX||1!=this._parentOffsetScaleY){var b=this._hitRect;b.set_width(b.get_width()*this._parentOffsetScaleX);b=this._hitRect;b.set_height(b.get_height()*this._parentOffsetScaleY);
this._hitRect.toXY(this._pos.x*this._parentOffsetScaleX-this._hitRect.get_width()*this._originX+this._parentOffsetX,this._pos.y*this._parentOffsetScaleY-this._hitRect.get_height()*this._originY+this._parentOffsetY);this._containsInput=this._hitRect.contains(a.x,a.y)}switch(a.phase){case p.WMEventInput.PHASE_DOWN:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&(this._state=w.buttons.ButtonState._STATE_DOWN,this._onDown(a.x,a.y),this._flagDrag&&(this._flagDown=!0,this._startPos={x:this.get_pos().x,
y:this.get_pos().y},this._flagMoved||(this._originPos={x:this.get_pos().x,y:this.get_pos().y},this._flagMoved=!0,this.setScale(1.1*this._buttonScaleBase.x,1.1*this._buttonScaleBase.y))))}break;case p.WMEventInput.PHASE_MOVE:switch(this._state[1]){case 0:this._containsInput&&(this._state=w.buttons.ButtonState._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=w.buttons.ButtonState._STATE_UP,this._onOut());break;case 1:if(this._flagDown&&this._flagDrag)a=e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().y-
e.WorkinCloud.get_instance().get_input().get_pointer().get_originPos().y,b=e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x-e.WorkinCloud.get_instance().get_input().get_pointer().get_originPos().x,this.get_pos().x=this._startPos.x+b,this.get_pos().y=this._startPos.y+a,this.get_pos().x-this._hitRect.get_width()/2-c.ConstantsApp.SPACING<-c.ConstantsApp.get_CANVAS_CENTER_X()?this.get_pos().x=-c.ConstantsApp.get_CANVAS_CENTER_X()+this._hitRect.get_width()/2+c.ConstantsApp.SPACING:
this.get_pos().x+this._hitRect.get_width()/2+c.ConstantsApp.SPACING>c.ConstantsApp.get_CANVAS_CENTER_X()&&(this.get_pos().x=c.ConstantsApp.get_CANVAS_CENTER_X()-this._hitRect.get_width()/2-c.ConstantsApp.SPACING),this.get_pos().y<this._originPos.y?this.get_pos().y=this._originPos.y:this.get_pos().y+this._hitRect.get_height()/2>c.ConstantsApp.get_CANVAS_HEIGHT()-h.World.HEIGHT_HUD-this.questionY-this._originPos.y&&(this.get_pos().y=c.ConstantsApp.get_CANVAS_HEIGHT()-h.World.HEIGHT_HUD-this._hitRect.get_height()/
2-this.questionY-this._originPos.y);else if(!this._containsInput&&this._flagFlick&&(a=e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().y-e.WorkinCloud.get_instance().get_input().get_pointer().get_originPos().y,b=e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x-e.WorkinCloud.get_instance().get_input().get_pointer().get_originPos().x,(30<Math.abs(a)||30<Math.abs(b))&&!this._flagMoved))this._flagMoved=!0,this.disable(),this._render.scaleX=this._render.scaleY=
this._buttonScaleBase.x,this._dispatch(w.buttons.ButtonBase.FLICK),this._velocity.x=7*e.WorkinCloud.get_instance().get_input().get_pointer().get_line().get_vector().x,this._velocity.y=7*e.WorkinCloud.get_instance().get_input().get_pointer().get_line().get_vector().y}break;case p.WMEventInput.PHASE_UP:switch(this._flagDown=!1,this._state[1]){case 1:this._containsInput?(this._state=w.buttons.ButtonState._STATE_CLICK,this._onUp(a.x,a.y)):(this._state=w.buttons.ButtonState._STATE_UP,this._renderReturnUp())}}}},
onResizeScale:function(a,b){null==b&&(b=0);null==a&&(a=2);w.buttons.ButtonBase.prototype.onResizeScale.call(this,a,b);this._buttonScaleBase.x=this._render.scaleX;this._buttonScaleBase.y=this._render.scaleY},reset:function(){this._flagMoved=!1;this.enable();this._render.visible=!0;this._render.alpha=1;this._render.rotation=0;this._pos.to(this._originPos.x,this._originPos.y);this._state=w.buttons.ButtonState._STATE_UP;this._renderUp()},deselect:function(){this._isSelected=!1;null!=this._overlay&&(this._overlay.get_renderable().alpha=
0);this._render.alpha=1},select:function(a){a?(this._isSelected=!0,this._render.alpha=1,this._render.scaleX=this._buttonScaleBase.x,this._render.scaleY=this._buttonScaleBase.y):(this._isSelected=!1,this._render.alpha=0.3)},toggleOverlay:function(a){null==this._overlay?this._render.alpha=a?0.3:1:this._overlay.get_renderable().alpha=a?0.7:0},addOverlay:function(){},_renderOut:function(){w.buttons.ButtonBase.prototype._renderOut.call(this);null!=this._color&&this._color.changeAsset(this._assetUp)},_renderOver:function(){w.buttons.ButtonBase.prototype._renderOver.call(this);
null!=this._color&&this._color.changeAsset(this._assetOver)},_renderDown:function(){this._tween.tween(this._render,0.15,{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y},!0).ease(g.tween.Ease.EASE_QUAD_OUT);null!=this._color?this._color.changeAsset(this._assetDown):this.setTextureAsset(this._assetDown)},_renderUp:function(){null!=this._color?this._color.changeAsset(this._assetUp):this.setTextureAsset(this._assetUp)},addColorableElement:function(a){this._color=a},update:function(a){w.buttons.ButtonBase.prototype.update.call(this,
a);if(null!=this._overlay&&(this._overlay.get_renderable().width*this._overlay.get_renderable().scaleX!=this._render.width||this._overlay.get_renderable().height*this._overlay.get_renderable().scaleY!=this._render.height))this._overlay.get_renderable().scaleX=this._render.width/this._overlay.get_renderable().width,this._overlay.get_renderable().scaleY=this._render.height/this._overlay.get_renderable().height;if(this._flagFlick&&this._flagMoved&&0!=this._velocity.x&&(this._render.rotation+=10*this._velocity.x/
Math.abs(this._velocity.x),this.get_pos().x<-c.ConstantsApp.get_CANVAS_WIDTH()||this.get_pos().x>c.ConstantsApp.get_CANVAS_WIDTH()||this.get_pos().y<-c.ConstantsApp.get_CANVAS_HEIGHT()||this.get_pos().y>c.ConstantsApp.get_CANVAS_HEIGHT()))this._velocity.to(0,0),this._render.alpha=0},dispose:function(){this._originPos=this._startPos=this._color=this._overlay=null;w.buttons.ButtonBase.prototype.dispose.call(this)},set_flagShare:function(a){return this._flagShare=a},set_flagDrag:function(a){return this._flagDrag=
a},set_flagFlick:function(a){return this._flagFlick=a},set_flagResult:function(a){return this._flagResult=a},get_flagMoved:function(){return this._flagMoved},get_isSelected:function(){return this._isSelected},__class__:h.elements.ButtonGameplay});h.elements.ButtonPage=function(a,b,d,j,e,f,g,i,l){null==l&&(l="");null==i&&(i="");null==g&&(g="");null==f&&(f="");null==e&&(e=0.5);null==j&&(j=0.5);h.elements.ButtonGameplay.call(this,a,b,d,j,e,f,g,i,l);this.glow=this.addElement(new h.elements.ColorableElement({colorMaskAsset:"template_circle_filled",
originX:0.5,originY:0.5,color:c.ConstantsApp.EXTRA_DATA.page_select.bgColor,alpha:0}))};m["com.nick.engines.quiz_2014.world.elements.ButtonPage"]=h.elements.ButtonPage;h.elements.ButtonPage.__name__="com,nick,engines,quiz_2014,world,elements,ButtonPage".split(",");h.elements.ButtonPage.__super__=h.elements.ButtonGameplay;h.elements.ButtonPage.prototype=z(h.elements.ButtonGameplay.prototype,{_renderDown:function(){this._tween.tween(this._render,0.15,{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y},
!0).ease(g.tween.Ease.EASE_QUAD_OUT);this.setTextureAsset(this._assetDown)},_renderUp:function(){this.setTextureAsset(this._assetUp)},setColor:function(a){if(null==this._color)for(var b=0,d=this._elements;b<d.length;){var j=d[b];++b;A.__instanceof(j,h.elements.ColorableElement)&&(this._color=A.__cast(j,h.elements.ColorableElement))}this._color.changeColor(a,!0)},setTextureAsset:function(a){h.elements.ButtonGameplay.prototype.setTextureAsset.call(this,a);this._assetUp=this._assetOver=this._assetDown=
this._assetDisabled=a},dispose:function(){h.elements.ButtonGameplay.prototype.dispose.call(this);this._color=this.glow=null},__class__:h.elements.ButtonPage});h.elements.ButtonSlider=function(a,b,d,j,e,f,g,i,l,k,m,n,o,p){null==p&&(p="");null==o&&(o="");null==n&&(n="");null==k&&(k="");null==l&&(l=0.5);null==i&&(i=0.5);h.elements.ButtonGameplay.call(this,e,f,g,i,l,k,n,o,p);this._id=a;this._text=m;this._flagDown=!1;b==c.ConstantsApp.METER_TYPE_VERTICAL?(this._flagCurve=!1,this._flagVertical=!0):b==c.ConstantsApp.METER_TYPE_HORIZONTAL?
this._flagVertical=this._flagCurve=!1:this._flagCurve=!0;this._radius=d;this._originPos={x:this.get_pos().x,y:this.get_pos().y+this._radius+this.get_renderable().height/4};this._sections=j;this._flagVertical?this.get_pos().y+=this.get_renderable().height/4+this._radius:this.get_pos().y+=this.get_renderable().height/4;this._startPos={x:this.get_pos().x,y:this.get_pos().y};this.get_dispatcher().addEventListener(w.buttons.ButtonBase.DOWN,x(this,this._onEventClickDown));this.get_dispatcher().addEventListener(w.buttons.ButtonBase.UP,
x(this,this._onEventClickUp));this.get_dispatcher().addEventListener(w.buttons.ButtonBase.OUT,x(this,this._onEventClickUp))};m["com.nick.engines.quiz_2014.world.elements.ButtonSlider"]=h.elements.ButtonSlider;h.elements.ButtonSlider.__name__="com,nick,engines,quiz_2014,world,elements,ButtonSlider".split(",");h.elements.ButtonSlider.__super__=h.elements.ButtonGameplay;h.elements.ButtonSlider.prototype=z(h.elements.ButtonGameplay.prototype,{_onEventInput:function(a){h.elements.ButtonGameplay.prototype._onEventInput.call(this,
a);switch(a.input){case c.ConstantsApp.INPUT_CLICK:switch(a.phase){case p.WMEventInput.PHASE_UP:this._onClickUp()}}},_onClickUp:function(a){null==a&&(a=!0);a&&(this._flagDown=!1);var b=-1;if(this._flagCurve){for(var d=-Math.acos((this.get_pos().x-this._originPos.x)/this._radius),j=Math.PI/(this._sections-1),e=Math.POSITIVE_INFINITY,f=0,g=this._sections;f<g;){var h=f++,i=0-j*h;Math.abs(i-d)<e&&(e=Math.abs(i-d),b=h)}d=-j*b;a&&(this.get_pos().x=this._originPos.x+this._radius*Math.cos(d),this.get_pos().y=
this._originPos.y+this._radius*Math.sin(d))}else{d=2*this._radius/(this._sections-1);e=Math.POSITIVE_INFINITY;f=0;for(g=this._sections;f<g;)h=f++,this._flagVertical?(j=this._originPos.y+this._radius-d*h,Math.abs(j-this.get_pos().y)<e&&(e=Math.abs(j-this.get_pos().y),b=h)):(j=this._originPos.x+this._radius-d*h,Math.abs(j-this.get_pos().x)<e&&(e=Math.abs(j-this.get_pos().x),b=h));a&&(this._flagVertical?(this.get_pos().x=this._startPos.x,this.get_pos().y=this._originPos.y+this._radius-d*b):(this.get_pos().x=
this._originPos.x+this._radius-d*b,this.get_pos().y=this._startPos.y))}null!=this._text&&(this._text.changeText(c.ConstantsApp.QUESTION_DATA[this._id].answers[b].text),this._text.get_pos().x=this.get_pos().x);this.setTextureAsset(c.ConstantsApp.QUESTION_DATA[this._id].answers[b].image);this._assetUp=this._assetOver=this._assetDown=c.ConstantsApp.QUESTION_DATA[this._id].answers[b].image},center:function(){this.get_pos().x=this._originPos.x;this._onClickUp(!0)},_onEventClickUp:function(){this._onClickUp()},
_onEventClickDown:function(){this._flagDown=!0;this._startPos={x:this.get_pos().x,y:this.get_pos().y}},update:function(a){h.elements.ButtonGameplay.prototype.update.call(this,a);if(this._flagDown){var a=e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().y-e.WorkinCloud.get_instance().get_input().get_pointer().get_originPos().y,b=e.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x-e.WorkinCloud.get_instance().get_input().get_pointer().get_originPos().x;this._flagCurve?
(a=this._startPos.x+b,a>this._originPos.x+this._radius?a=this._originPos.x+this._radius:a<this._originPos.x-this._radius&&(a=this._originPos.x-this._radius),this.get_pos().x=a,a=-Math.acos((this.get_pos().x-this._originPos.x)/this._radius),this.get_pos().y=this._originPos.y+this._radius*Math.sin(a)):this._flagVertical?(a=this._startPos.y+a,a>this._originPos.y+this._radius?a=this._originPos.y+this._radius:a<this._originPos.y-this._radius&&(a=this._originPos.y-this._radius),this.get_pos().x=this._startPos.x,
this.get_pos().y=a):(a=this._startPos.x+b,a>this._originPos.x+this._radius?a=this._originPos.x+this._radius:a<this._originPos.x-this._radius&&(a=this._originPos.x-this._radius),this.get_pos().y=this._startPos.y,this.get_pos().x=a);this._onClickUp(!1)}},dispose:function(){h.elements.ButtonGameplay.prototype.dispose.call(this);this._text=this._startPos=this._originPos=null},__class__:h.elements.ButtonSlider});h.elements.ColorableElement=function(a){this.PADDING=50;l.Element.call(this,a);this._colorMaskAsset=
null!=a.colorMaskAsset?a.colorMaskAsset:"";this._colorMaskElement=null!=a.colorMaskElement?a.colorMaskElement:null;this._color=a.color;if(a.color==c.ConstantsApp.COLOR_NONE)this.setTextureAsset(this._colorMaskAsset),null!=this._colorMaskElement&&(this.addElement(this._colorMaskElement),this.get_renderable().width=this._colorMaskElement.get_renderable().width*this._colorMaskElement.get_renderable().scaleX,this.get_renderable().height=this._colorMaskElement.get_renderable().height*this._colorMaskElement.get_renderable().scaleY);
else{var b=new l.Element({asset:a.colorMaskAsset});null!=this._colorMaskElement&&(b=this._colorMaskElement,this._render.width=this._colorMaskElement.get_renderable().width*this._colorMaskElement.get_renderable().scaleX,this._render.height=this._colorMaskElement.get_renderable().height*this._colorMaskElement.get_renderable().scaleY);0==b.get_renderable().width||0==b.get_renderable().height?this._color=c.ConstantsApp.COLOR_NONE:this._colorLayer=this.addElement(new h.elements.BitmapLayer({originX:a.originX,
originY:a.originY},(b.get_renderable().width|0)+this.PADDING,(b.get_renderable().height|0)+this.PADDING,!0),!0);A.__instanceof(b,l.TextBase)&&this.setRenderOffset(b.get_offsetX(),b.get_offsetY())}this.changeColor(this._color,!0)};m["com.nick.engines.quiz_2014.world.elements.ColorableElement"]=h.elements.ColorableElement;h.elements.ColorableElement.__name__="com,nick,engines,quiz_2014,world,elements,ColorableElement".split(",");h.elements.ColorableElement.__super__=l.Element;h.elements.ColorableElement.prototype=
z(l.Element.prototype,{changeAsset:function(a){this._colorMaskAsset=a;this._color==c.ConstantsApp.COLOR_NONE?this.setTextureAsset(this._colorMaskAsset):null!=this._colorMaskElement&&this._colorMaskElement.setTextureAsset(this._colorMaskAsset);this.updateColor()},updateColor:function(){this._color==c.ConstantsApp.COLOR_NONE||!e.WorkinCloud.get_instance().get_assets().hasAsset(this._colorMaskAsset)&&null==this._colorMaskElement?null!=this._colorMaskElement&&(this._render.width=this._colorMaskElement.get_renderable().width*
this._colorMaskElement.get_renderable().scaleX,this._render.height=this._colorMaskElement.get_renderable().height*this._colorMaskElement.get_renderable().scaleY):null!=this._colorLayer&&(null!=this._colorMaskElement&&this._colorLayer.updateTexture((this._colorMaskElement.get_renderable().width|0)+this.PADDING,(this._colorMaskElement.get_renderable().height|0)+this.PADDING),this._colorLayer.get_renderable().alpha=1,this._colorLayer.colorMask(this._colorMaskAsset,this._colorMaskElement,this._color,
0,0,1),""!=this._colorMaskAsset&&(this._render.width=this._colorLayer.get_renderable().width,this._render.height=this._colorLayer.get_renderable().height))},changeColor:function(a,b){null==b&&(b=!1);null==a&&(a=-1);b&&a!=c.ConstantsApp.COLOR_NONE&&(this._color=a,this.updateColor())},dispose:function(){this._colorMaskElement=this._colorLayer=null;l.Element.prototype.dispose.call(this)},__class__:h.elements.ColorableElement});h.elements.ContainerFlowChart=function(a,b){this._spacingMult=1;this.useArrow=
!1;this.root=a;this.children=b;this._spacingMult=3;this.arrows=[]};m["com.nick.engines.quiz_2014.world.elements.ContainerFlowChart"]=h.elements.ContainerFlowChart;h.elements.ContainerFlowChart.__name__="com,nick,engines,quiz_2014,world,elements,ContainerFlowChart".split(",");h.elements.ContainerFlowChart.prototype={show:function(){this.root.get_renderable().alpha=1;for(var a=[],b=0,d=this.children;b<d.length;){var j=d[b];++b;a.push(j)}return a},hide:function(){this.root.get_renderable().alpha=0;for(var a=
[],b=0,d=this.children;b<d.length;){var j=d[b];++b;a.push(j)}return a},startShow:function(a){for(var b=0,d=this.children;b<d.length;){var j=d[b];++b;if(A.__instanceof(j,h.elements.ButtonGameplay)&&A.__cast(j,h.elements.ButtonGameplay).idLink==a)return j}return null},startHide:function(a){for(var b=0,d=this.children;b<d.length;){var j=d[b];++b;if(A.__instanceof(j,h.elements.ButtonGameplay)&&A.__cast(j,h.elements.ButtonGameplay).idLink!=a)return j}return null},toggle:function(a){for(var b=0,d=this.children;b<
d.length;){var j=d[b];++b;A.__instanceof(j,h.elements.ButtonGameplay)&&A.__cast(j,h.elements.ButtonGameplay).toggleOverlay(a)}A.__instanceof(this.root,h.elements.Image)&&A.__cast(this.root,h.elements.Image).toggleOverlay(a)},disableButtons:function(){for(var a=0,b=this.children;a<b.length;){var d=b[a];++a;A.__instanceof(d,h.elements.ButtonGameplay)&&A.__cast(d,h.elements.ButtonGameplay).disable()}},enableButtons:function(){for(var a=0,b=this.children;a<b.length;){var d=b[a];++a;A.__instanceof(d,h.elements.ButtonGameplay)&&
A.__cast(d,h.elements.ButtonGameplay).enable()}},resetButtons:function(){for(var a=0,b=this.children;a<b.length;){var d=b[a];++a;A.__instanceof(d,h.elements.ButtonGameplay)&&(A.__cast(d,h.elements.ButtonGameplay).deselect(),A.__cast(d,h.elements.ButtonGameplay).reset())}},updateArrows:function(){for(var a=0,b=this.arrows.length;a<b;){var d=a++;this.arrows[d].updateArrow(this.root,this.children[d],this.useArrow);this.arrows[d].get_renderable().alpha=this.children[d].get_renderable().alpha}1==this.children.length&&
0<this.arrows.length&&(this.arrows[0].get_renderable().alpha=this.root.get_renderable().alpha)},update:function(){null!=this.text&&A.__instanceof(this.root,h.elements.ButtonGameplay)&&(A.__cast(this.root,h.elements.ButtonGameplay).get_hitRect().set_width(this.root.get_renderable().width=this.text.get_renderable().width),A.__cast(this.root,h.elements.ButtonGameplay).get_hitRect().set_height(this.root.get_renderable().height=this.text.get_renderable().height));if(1==this.children.length)this.root.get_pos().x=
this.children[0].get_pos().x,this.root.get_pos().y=this.children[0].get_pos().y-this.children[0].get_renderable().height*this.children[0].get_renderable().scaleY*this.children[0].get_originY()-this.root.get_renderable().height*this.root.get_originY()-this._spacingMult*c.ConstantsApp.SPACING,this.width=this.children[0].get_renderable().width;else if(2==this.children.length){this.root.get_pos().x=(this.children[0].get_pos().x+this.children[1].get_pos().x)/2;this.root.get_pos().y=this.children[0].get_pos().y-
this.children[0].get_renderable().height/2-this.root.get_renderable().height/2-this._spacingMult*c.ConstantsApp.SPACING;var a=Math.min(this.children[0].get_pos().y,this.children[1].get_pos().y);this.children[0].get_pos().y=this.children[1].get_pos().y=a;this.width=this.children[1].get_pos().x-this.children[0].get_pos().x+this.children[0].get_renderable().width/2+this.children[1].get_renderable().width/2}},__class__:h.elements.ContainerFlowChart};h.elements.DisplayTimer=function(a){a.asset="template_clockBG";
l.Element.call(this,a);for(var b=a.timer,d=[],j=180*(2*Math.PI/b)/Math.PI,c=0;c<b;){var e=c++,f=Math.floor(j/10);d.push(this.addElement(new l.Element({originX:0.5,originY:1,rot:5+180*2*Math.PI/b*e/Math.PI})));for(var g=0;g<f;){var h=g++;d[e].addElement(new l.Element({asset:"template_clockFill",originX:0.5,originY:1,rot:10*h}))}f=j-10*f;0<f&&d[e].addElement(new l.Element({asset:"template_clockFill",originX:0.5,originY:1,rot:j-f-10}))}this._arr=d;this.addElement(new l.Element({asset:"template_clockFG",
originX:0.5,originY:0.5}));this._text=this.addElement(new l.TextBase(0,0,""+t.string(a.timer),"",{originX:0.5,originY:0.5,scale:0.7}))};m["com.nick.engines.quiz_2014.world.elements.DisplayTimer"]=h.elements.DisplayTimer;h.elements.DisplayTimer.__name__="com,nick,engines,quiz_2014,world,elements,DisplayTimer".split(",");h.elements.DisplayTimer.__super__=l.Element;h.elements.DisplayTimer.prototype=z(l.Element.prototype,{updateTimer:function(a){a|=0;this._text.set_text(""+a);for(var a=this._arr.length-
a,b=0;b<a;)this._arr[b++].get_renderable().alpha=0},dispose:function(){this._text=null;l.Element.prototype.dispose.call(this)},__class__:h.elements.DisplayTimer});h.elements.GameplayElement=function(a){l.Element.call(this,a);null!=a.hitbox&&this._addHitbox()};m["com.nick.engines.quiz_2014.world.elements.GameplayElement"]=h.elements.GameplayElement;h.elements.GameplayElement.__name__="com,nick,engines,quiz_2014,world,elements,GameplayElement".split(",");h.elements.GameplayElement.__super__=l.Element;
h.elements.GameplayElement.prototype=z(l.Element.prototype,{_addHitbox:function(){this._hitbox=g.WMRectangle.request(0,0,this._render.width,this._render.height)},get_hitbox:function(){return this._hitbox},__class__:h.elements.GameplayElement});h.elements.GifElement=function(a){l.Element.call(this,a);this._bitmapTexture=B.createTexture(this._render.width|0,this._render.height|0);this.setImageSprite(new o.ImageSprite(this._bitmapTexture));this._isLoaded=this._isPlaying=!1;this._div=y.document.createElement("img");
this._div.src=h.World.get_baseUrl()+t.string(a.video)+".gif";y.document.body.appendChild(this._div);this._div.style.position="absolute";this._div.style.top="-10000px";this._bitmapTexture=i.html.HtmlPlatform.instance.getRenderer().createTexture(this._div);A.__cast(this._imageSprite,o.ImageSprite).texture=this._bitmapTexture};m["com.nick.engines.quiz_2014.world.elements.GifElement"]=h.elements.GifElement;h.elements.GifElement.__name__="com,nick,engines,quiz_2014,world,elements,GifElement".split(",");
h.elements.GifElement.__super__=l.Element;h.elements.GifElement.prototype=z(l.Element.prototype,{update:function(a){l.Element.prototype.update.call(this,a);0==this._render.width&&(this._render.width=this._div.width,this._render.height=this._div.height,0!=this._render.width&&(this._isPlaying=!0,this._orientTexture(!1),this._isLoaded=!0,e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(c.ConstantsApp.EVENT_ASSET_LOADED,{element:this}))));this._isPlaying&&(this._bitmapTexture=
i.html.HtmlPlatform.instance.getRenderer().createTexture(this._div),A.__cast(this._imageSprite,o.ImageSprite).texture=this._bitmapTexture)},__class__:h.elements.GifElement});h.elements.Image=function(a,b,d,j,c,e,f,g,i,k){null==k&&(k="");null==i&&(i="");null==g&&(g="");null==f&&(f="");null==e&&(e=0.5);null==c&&(c=0.5);h.elements.ButtonGameplay.call(this,b,d,j,c,e,f,g,i,k);this._image=this.addElement(new l.Element({originX:this._originX,originY:this._originY,loadAsset:a}))};m["com.nick.engines.quiz_2014.world.elements.Image"]=
h.elements.Image;h.elements.Image.__name__="com,nick,engines,quiz_2014,world,elements,Image".split(",");h.elements.Image.__super__=h.elements.ButtonGameplay;h.elements.Image.prototype=z(h.elements.ButtonGameplay.prototype,{_updateTextPos:function(){null!=this._text&&(0<this._render.width&&this._text.get_renderable().width!=this._render.width&&(this._text.get_renderable().width=this._render.width,this._text.updateText()),this._textPos==c.ConstantsApp.TEXT_POSITION_MIDDLE?this._text.get_pos().y=0:this._textPos==
c.ConstantsApp.TEXT_POSITION_TOP?(this._text.get_pos().y=-this._render.height/2-this._text.get_renderable().height/2-c.ConstantsApp.SPACING/2,this._render.height+=this._text.get_renderable().height+c.ConstantsApp.SPACING/2,this._offsetY=this._text.get_renderable().height/2+c.ConstantsApp.SPACING/2):this._textPos==c.ConstantsApp.TEXT_POSITION_QUARTER?this._text.get_pos().y=-this._render.height/4-this._text.get_renderable().height/2:this._textPos==c.ConstantsApp.TEXT_POSITION_THREE_QUARTER?this._text.get_pos().y=
this._image.get_renderable().height/4+this._text.get_renderable().height/2:(this._text.get_pos().y=this._image.get_renderable().height/2+this._text.get_renderable().height/2+c.ConstantsApp.SPACING/2,this._render.height=this._image.get_renderable().height+this._text.get_renderable().height+c.ConstantsApp.SPACING/2,this._offsetY=-this._text.get_renderable().height/2-c.ConstantsApp.SPACING/2),null!=this._posOffset&&(this._text.get_pos().x+=this._posOffset.x,this._text.get_pos().y+=this._posOffset.y),
null!=this._overlay&&this._overlay.setRenderOffset(this._offsetX,-this._offsetY))},addText:function(a,b,d,j,e,f,g,i,k){null==k&&(k=0);null==i&&(i=0);null==f&&(f=1);null==e&&(e="");this._text=this.addElement(new h.elements.Text({originX:0.5,originY:0.5,rot:k}));this._text.addText(new l.TextLocalized(0,0,a,e,{originX:0.5,originY:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,scale:f,spacing:i}),d);j!=c.ConstantsApp.COLOR_NONE&&this._text.addBackground(j);this._textPos=b;this._posOffset=g;this._updateTextPos()},
_onAssetLoaded:function(){null!=this.video?(this.get_renderable().width=this.video.get_renderable().width,this.get_renderable().height=this.video.get_renderable().height):(this.get_renderable().width=this._image.get_renderable().width,this.get_renderable().height=this._image.get_renderable().height);this.enable();this._updateTextPos();h.elements.ButtonGameplay.prototype._onAssetLoaded.call(this)},dispose:function(){h.elements.ButtonGameplay.prototype.dispose.call(this);this._posOffset=this._text=
this._image=null},__class__:h.elements.Image});h.elements.LayoutManager=function(){};m["com.nick.engines.quiz_2014.world.elements.LayoutManager"]=h.elements.LayoutManager;h.elements.LayoutManager.__name__="com,nick,engines,quiz_2014,world,elements,LayoutManager".split(",");h.elements.LayoutManager.grid=function(a,b,d,j,c,e,f,g,h){null==h&&(h=!0);null==f&&(f=!1);null==e&&(e=0);null==c&&(c=0);var i=[];i.push({x:0,y:0});i[0].x+=d[0].get_renderable().width*d[0].get_renderable().scaleX*d[0].get_originX();
i[0].y+=d[0].get_renderable().height*d[0].get_renderable().scaleY*d[0].get_originY();for(var l=0,k=0,m=0,n=0,o=0,p=0,q=0,r=0,u=0,t=0;t<d.length;)l=d[t],++t,l.get_renderable().width>m&&(m=l.get_renderable().width),l.get_renderable().height>n&&(n=l.get_renderable().height),l.get_renderable().scaleX>o&&(o=l.get_renderable().scaleX),l.get_renderable().scaleY>p&&(p=l.get_renderable().scaleY),Math.abs(l.get_offsetY())>u&&(u=Math.abs(l.get_offsetY()));for(t=0;t<d.length;)if(l=d[t],++t,Math.abs(l.get_offsetY())==
u){u=l.get_offsetY();break}f?(c*=o,e*=p,q=m*o*a+c*(a-1),r=n*p*b+e*(b-1)):(q=d[0].get_renderable().width*d[0].get_renderable().scaleX+c,r=d[0].get_renderable().height*d[0].get_renderable().scaleY);for(var w=r,x=1,t=d.length;x<t;){var v=x++,l=v%a,k=Math.floor(v/a);f||(m=d[v-1].get_renderable().width,n=d[v-1].get_renderable().height,o=d[v-1].get_renderable().scaleX,p=d[v-1].get_renderable().scaleY);i.push({x:0,y:0});i[v].x=1==a||0==l?i[0].x:i[v-1].x-d[v-1].get_renderable().width*d[v-1].get_renderable().scaleX*
d[v-1].get_originX()+m*o+c+d[v].get_renderable().width*d[v].get_renderable().scaleX*d[v].get_originX();1==b||0==k?(f||(r=Math.max(r,w),q+=d[v].get_renderable().width*d[v].get_renderable().scaleX+c),w=d[v].get_renderable().height*d[v].get_renderable().scaleY,i[v].y=i[0].y,i[v].y+=d[v].get_renderable().height*d[v].get_renderable().scaleY*(d[v].get_originY()-d[0].get_originY())):1<a?(w+=d[v].get_renderable().height*d[v].get_renderable().scaleY,i[v].y=i[v-a].y+n*p+e):(w+=d[v].get_renderable().height*
d[v].get_renderable().scaleY+e,i[v].y=i[v-1].y-d[v-1].get_renderable().height*d[v-1].get_renderable().scaleY*d[v-1].get_originY()+n*p+e+d[v].get_renderable().height*d[v].get_renderable().scaleY*d[v].get_originY())}f||(r=Math.max(r,w),q-=c);x=0;for(t=d.length;x<t;){v=x++;if(null==j||!0==j[v].x)d[v].get_pos().x=i[v].x;if(null==j||!0==j[v].y)d[v].get_pos().y=i[v].y-u}null!=g&&(g.get_renderable().width=q,g.get_renderable().height=r,h&&(g.get_pos().x=-g.get_renderable().width*g.get_renderable().scaleX*
g.get_originX()))};h.elements.LayoutManager.gridScale=function(a,b,d,j,c,e,f,g,i){null==g&&(g=!1);null==f&&(f=0);null==e&&(e=0);for(var a=a/b-e,l=0;l<j.length;){var k=j[l];++l;var m=a/k.get_renderable().width;1<m&&(m=1);A.__instanceof(k,w.buttons.ButtonBase)?A.__cast(k,w.buttons.ButtonBase).setScale(m,m):(k.get_renderable().scaleX=m,k.get_renderable().scaleY=m)}h.elements.LayoutManager.grid(b,d,j,c,e,f,g,i)};h.elements.LayoutManager.gridRatio=function(a,b,d,j,c,e,f,g){null==f&&(f=-1);null==c&&(c=
0);null==j&&(j=0);0>=a&&(a=10);0>=b&&(b=10);for(var i=0,l=0,k=0;k<d.length;){var m=d[k];++k;m.get_renderable().width>i&&(i=m.get_renderable().width);m.get_renderable().height>l&&(l=m.get_renderable().height)}0==i&&(i=h.elements.LayoutManager._DEFAULT_WIDTH);0==l&&(l=h.elements.LayoutManager._DEFAULT_HEIGHT);var i=i+j,l=l+c,k=d.length,n=b/a*(i/l),o=Math.sqrt(n*k);Math.sqrt(k/n);n=Math.round(Math.round(10*o)/10);o=Math.ceil(k/n);0<f&&(o=f);var p;p=Math.min(a/(i*o),b/(l*n));if(-1==f)for(;i*o*p>a;)n++,
o=Math.ceil(k/n),f=a/(i*o),p=b/(l*n),p=Math.min(f,p);1<p&&(p=1);for(k=0;k<d.length;)m=d[k],++k,A.__instanceof(m,w.buttons.ButtonBase)?A.__cast(m,w.buttons.ButtonBase).setScale(p,p):(m.get_renderable().scaleX=p,m.get_renderable().scaleY=p);h.elements.LayoutManager.grid(o,n,d,g,j,c,!0,e)};h.elements.LoadingSpinner=function(a){this._ROT=250;l.Element.call(this,a);this._spinner=this.addElement(new l.Element({asset:"loading_spinner",originX:a.originX,originY:a.originY}));this._render.width=this._spinner.get_renderable().width;
this._render.height=this._spinner.get_renderable().height};m["com.nick.engines.quiz_2014.world.elements.LoadingSpinner"]=h.elements.LoadingSpinner;h.elements.LoadingSpinner.__name__="com,nick,engines,quiz_2014,world,elements,LoadingSpinner".split(",");h.elements.LoadingSpinner.__super__=l.Element;h.elements.LoadingSpinner.prototype=z(l.Element.prototype,{update:function(a){l.Element.prototype.update.call(this,a);this._spinner.get_renderable().rotation+=this._ROT*a},dispose:function(){l.Element.prototype.dispose.call(this);
this._spinner=null},__class__:h.elements.LoadingSpinner});h.elements.Page=function(a){this._MAX_SELECT=1;l.Element.call(this,a);this._id=a.id;this._transitionPos={x:0,y:0};this._flagTimer=this._flagTransition=!1;this._timer=0;this._flagShare=!1;this._numSelected=0;this._containers=[];this._choices=[];this._arrSelected=[];this._videos=[];this._descriptions=[]};m["com.nick.engines.quiz_2014.world.elements.Page"]=h.elements.Page;h.elements.Page.__name__="com,nick,engines,quiz_2014,world,elements,Page".split(",");
h.elements.Page.createButton=function(a,b,d,j,c,e,f,g,i){null==i&&(i=0);null==g&&(g=0);null==f&&(f=1);null==e&&(e="");null==c&&(c=!0);var k=new h.elements.ButtonGameplay(0,0,h.World.get_tweener(),0.5,0.5,a+"_up.png",a+"_over.png",a+"_down.png"),a=k.addElement(new h.elements.ColorableElement({colorMaskAsset:a+"_up.png",originX:0.5,originY:0.5,color:b}));k.addColorableElement(a);k.get_renderable().width=a.get_renderable().width;k.get_renderable().height=a.get_renderable().height;c&&(a=k.addElement(new l.Element({asset:"template_btn_shadow",
originX:0.5,originY:0.5,y:k.get_renderable().height/2}),!1),a.get_renderable().scaleX=k.get_renderable().width/(0.92*a.get_renderable().width),a.get_renderable().scaleY=k.get_renderable().height/(2.6*a.get_renderable().height));d=new l.TextLocalized(0,0,d,e,{originX:0.5,originY:0.5,pointerEnabled:!1,scale:f,spacing:g});k.addElement(new h.elements.ColorableElement({colorMaskElement:d,originX:0.5,originY:0.5,color:j,pointerEnabled:!1,rot:i}));return k};h.elements.Page.__super__=l.Element;h.elements.Page.prototype=
z(l.Element.prototype,{handleInput:function(a){for(var b=0,d=this._videos;b<d.length;){var j=d[b];++b;j.handleInput(a)}},_onEventAssetLoaded:function(a){for(var b=0,d=this._elements;b<d.length;){var j=d[b];++b;if(a.get_data().element==j){this.onResize();e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));break}}b=0;for(d=this._choices;b<d.length;)if(j=d[b],++b,a.get_data().element==j){this.onResize();e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));
break}b=0;for(d=this._containers;b<d.length;)if(j=d[b],++b,a.get_data().element==j){this.onResize();e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));break}},_removeEventListeners:function(){l.Element.prototype._removeEventListeners.call(this);e.WorkinCloud.get_instance().get_dispatcher().removeEventListener(c.ConstantsApp.EVENT_ASSET_LOADED,x(this,this._onEventAssetLoaded))},_addEventListeners:function(){l.Element.prototype._addEventListeners.call(this);
e.WorkinCloud.get_instance().get_dispatcher().addEventListener(c.ConstantsApp.EVENT_ASSET_LOADED,x(this,this._onEventAssetLoaded))},_onEventMeterClick:function(){this._nextPage()},_onEventFlick:function(){var a=this;this.onResize();this._numSelected=this._choices.length;for(var b=this._choices[0],d=0,j=this._choices;d<j.length;){var s=j[d];++d;s.get_flagMoved()?(this._numSelected--,s.disable()):b=s}if(1==this._numSelected){d=0;for(j=this._choices;d<j.length;)s=j[d],++d,s.disable();this._flagTransition=
!0;h.World.get_tweener().tween(this._container.get_pos(),0.2,{x:-b.get_pos().x}).onComplete(function(){a._flagTransition=!1;a._nextPage()});this._arrSelected.push(b.id)}else e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));b=null},_onEventOver:function(a){this._container.isChild(this._choices[a])&&(this._container.removeElement(this._choices[a],!1),this._container.addElement(this._choices[a]))},_onEventSelectClick:function(a){var b=this;
if(!(this._type==c.ConstantsApp.QUESTION_TYPE_LIST||this._type==c.ConstantsApp.QUESTION_TYPE_SORT||this._type==c.ConstantsApp.QUESTION_TYPE_METER))if(this._type==c.ConstantsApp.QUESTION_TYPE_FLOW){this._flowContainers[this._flowQuestions[this._flowNum]].disableButtons();this._hideChain(this._flowContainers[this._flowQuestions[this._flowNum]].startHide(this._choices[a].idLink));this._showChain(this._flowContainers[this._flowQuestions[this._flowNum]].startShow(this._choices[a].idLink));this._flowNum=
this._choices[a].idLink;this._flowContainers[this._flowQuestions[this._flowNum]].enableButtons();this._flowContainers[this._flowQuestions[this._flowNum]].toggle(!1);this._flagTransition=!0;var d={x:this._container.get_renderable().scaleX,y:this._container.get_renderable().scaleY},j={x:this._container.get_pos().x,y:this._container.get_pos().y};this.onResize();var e={x:this._container.get_renderable().scaleX,y:this._container.get_renderable().scaleY};this._container.get_pos().to(j.x,j.y);this._container.get_renderable().scaleX=
d.x;this._container.get_renderable().scaleY=d.y;h.World.get_tweener().tween(this._container.get_renderable(),0.5,{scaleX:e.x,scaleY:e.y});h.World.get_tweener().tween(this._container.get_pos(),0.5,this._transitionPos).onComplete(function(){b._flagTransition=!1;b.onResize();0==b._flowContainers[b._flowQuestions[b._flowNum]].children.length&&(b._arrSelected.push(a),b._numSelected++,b._nextPage())});e=d=j=null}else{this._choices[a].get_isSelected()?(H.remove(this._arrSelected,a),this._numSelected--):
(this._numSelected==this._MAX_SELECT?this._arrSelected.shift():this._numSelected++,this._arrSelected.push(a));d=0;for(j=this._choices.length;d<j;)e=d++,0<this._numSelected?H.remove(this._arrSelected,e)?(this._arrSelected.push(e),this._choices[e].select(!0,this._numSelected==this._MAX_SELECT)):this._choices[e].select(!1,this._numSelected==this._MAX_SELECT):this._choices[e].deselect();this._numSelected==this._MAX_SELECT&&this._nextPage()}},_showChain:function(a){for(var b=0,d=this._flowContainers;b<
d.length;){var j=d[b];++b;if(j.root==a){a=j.show();for(b=0;b<a.length;)d=a[b],++b,this._showChain(d);break}}},_hideChain:function(a){for(var b=0,d=this._flowContainers;b<d.length;){var j=d[b];++b;if(j.root==a){a=j.hide();for(b=0;b<a.length;)d=a[b],++b,this._hideChain(d);break}}},_nextPage:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_NEXT_PAGE));this.stopTimer()},leavePage:function(){for(var a=0,b=this._videos;a<b.length;){var d=b[a];
++a;d.pause()}},stopTimer:function(){if(this._flagTimer){this._flagTimer=!1;for(var a=0,b=this._choices;a<b.length;){var d=b[a];++a;d.disable()}e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_ENABLE_HUD))}},startTimer:function(){!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_RESULTS)&&0<this._timer&&(this._flagTimer=!0,e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_DISABLE_HUD)))},reset:function(){this._numSelected=
0;this._arrSelected=[];null!=this._clock&&(this._timer=c.ConstantsApp.QUESTION_DATA[this._id].timer,this._clock.updateTimer(this._timer));for(var a=0,b=this._choices.length;a<b;){var d=a++;this._choices[d].deselect();this._choices[d].reset()}},getSelected:function(){for(var a=[],b,d=0,j=this._arrSelected;d<j.length;)b=j[d],++d,b=c.ConstantsApp.QUESTION_DATA[this._id].answers[b].value,0<b&&a.push(b);if(this._type==c.ConstantsApp.QUESTION_TYPE_SORT)if(1==c.ConstantsApp.RESULT_DATA.type){j=0;for(d=this._choices.length-
1;j<d;){var e=j++;b=c.ConstantsApp.QUESTION_DATA[this._id].answers[e].value;(this._choices[e].get_flagMoved()&&0>this._choices[e].get_pos().x&&"true"==c.ConstantsApp.QUESTION_DATA[this._id].sort.countLeft||this._choices[e].get_flagMoved()&&0<=this._choices[e].get_pos().x&&"true"==c.ConstantsApp.QUESTION_DATA[this._id].sort.countRight)&&a.push(b)}}else{j=0;for(d=this._choices.length-1;j<d;)e=j++,b=c.ConstantsApp.QUESTION_DATA[this._id].answers[e].value,(this._choices[e].get_flagMoved()&&0>this._choices[e].get_pos().x&&
b==c.ConstantsApp.QUESTION_DATA[this._id].sort.valueLeft||this._choices[e].get_flagMoved()&&0<=this._choices[e].get_pos().x&&b==c.ConstantsApp.QUESTION_DATA[this._id].sort.valueRight)&&a.push(1)}return a},updateButtons:function(a,b){for(var d=0,j=this._choices;d<j.length;){var c=j[d];++d;c.setParentOffsetFloats(a+this._container.get_pos().x,b+this._container.get_pos().y)}d=0;for(j=this._videos;d<j.length;)c=j[d],++d,c.offset={x:a+this._container.get_pos().x-c.get_hitbox().get_width()*c.get_originX(),
y:b+this._container.get_pos().y-c.get_hitbox().get_height()*c.get_originY()},this._container.isChild(c)||(c.offset={x:a-c.get_hitbox().get_width()*c.get_originX(),y:b-c.get_hitbox().get_height()*c.get_originY()})},onResizeFinish:function(a,b){null==b&&(b=0);a&&(this._type==c.ConstantsApp.QUESTION_TYPE_PROMPT?this._container.get_pos().y=(c.ConstantsApp.get_CANVAS_HEIGHT()-b)/2+b-this._container.get_renderable().height*this._container.get_renderable().scaleY/2:this._container.get_pos().y=(c.ConstantsApp.get_CANVAS_HEIGHT()-
h.World.HEIGHT_HUD*h.World.HUD_SCALE-b)/2+b-this._container.get_renderable().height*this._container.get_renderable().scaleY/2,e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE)))},onResize:function(){if(null!=this._header&&(this._header.onResizeScale(0),this._type!=c.ConstantsApp.QUESTION_TYPE_PROMPT)){var a=this._id;if(this._type==c.ConstantsApp.QUESTION_TYPE_FOOTER||this._type==c.ConstantsApp.QUESTION_TYPE_RESULT)a=0;c.ConstantsApp.QUESTION_DATA[a].header&&
c.ConstantsApp.QUESTION_DATA[a].header.height&&(this._header.get_renderable().height=c.ConstantsApp.QUESTION_DATA[a].header.height*c.ConstantsApp.get_CANVAS_WIDTH()/1024)}if(null!=this._question)this._question.onResizeScale();this._question.onResize();h.elements.LayoutManager.grid(1,3,[this._header,this._question,this._container],[{x:!1,y:!0},{x:!1,y:!0},{x:!1,y:!0}]);null!=this._clock&&this._clock.get_pos().to(c.ConstantsApp.get_CANVAS_CENTER_X()-this._clock.get_renderable().width/2-c.ConstantsApp.SPACING,
this._clock.get_renderable().height/2+c.ConstantsApp.SPACING)},_centerY:function(){var a=this._question.get_renderable().height*this._question.get_renderable().scaleY;null!=this._header&&(a+=this._header.get_renderable().height*this._header.get_renderable().scaleY);return a},update:function(a){l.Element.prototype.update.call(this,a);this._flagTimer&&(this._timer-=a,this._clock.updateTimer(this._timer),0>=this._timer&&this._nextPage())},dispose:function(){l.Element.prototype.dispose.call(this);this._descriptions=
this._transitionPos=this._splash=this._flowScissor=this._clock=this._meterBtn=this._sortBtn=this._sortBg=this._sort=this._videos=this._arrSelected=this._containers=this._choices=this._container=this._question=this._header=null},_createAsset:function(a,b,d){return null!=b&&null!=d?(this._videos.push(new h.elements.VideoElement({video:b,formats:d,originX:0.5,originY:0.5})),this._videos[this._videos.length-1]):""!=a?new l.Element({loadAsset:[a]}):null},_pageDescriptions:function(a,b){var d=0,j;null!=
a&&(d=a.length);for(var c=0;c<d;){var e=c++;j=this._createAsset(a[e].image,a[e].video.asset,a[e].video.formats);null==j&&(j=this.addElement(new l.Element({origin:0.5})));if(a[e].text){var f=j.addElement(new h.elements.Text({originX:0.5,originY:0.5,rot:a[e].textRot}));f.addText(new l.TextLocalized(0,0,a[e].text,a[e].fontName,{originX:0.5,originY:0.5,width:a[e].textWidth,scale:a[e].fontScale,spacing:a[e].textSpacing}),a[e].textColor);j.get_renderable().width=f.get_renderable().width}j.setOrigin(0.5,
0.5);null!=a[e].x&&null!=a[e].y&&j.get_pos().to(a[e].x,a[e].y);this._descriptions.push(b.addElement(j,a[e].addTop));j.get_renderable().width>b.get_renderable().width&&(b.get_renderable().width=j.get_renderable().width)}},_pageDefaultImage:function(){var a,b;if(this._type==c.ConstantsApp.QUESTION_TYPE_FAVORITE||this._type==c.ConstantsApp.QUESTION_TYPE_LIST||this._type==c.ConstantsApp.QUESTION_TYPE_SORT){for(var d=c.ConstantsApp.QUESTION_DATA[this._id].answers.length,j=0;j<d;){var e=j++;a=this._container.addElement(new h.elements.Image([c.ConstantsApp.QUESTION_DATA[this._id].answers[e].image],
0,0,h.World.get_tweener(),0.5,0.5,""));a.disable();a.setParentOffsetFloats(c.ConstantsApp.get_CANVAS_CENTER_X(),this.get_pos().y);a.id=e;c.ConstantsApp.QUESTION_DATA[this._id].answers[e].gif&&(b=a.addElement(new h.elements.GifElement({x:0,y:0,video:c.ConstantsApp.QUESTION_DATA[this._id].answers[e].gif,originX:0.5,originY:0.5})),A.__cast(a,h.elements.Image).video=b);""!=c.ConstantsApp.QUESTION_DATA[this._id].answers[e].text&&A.__cast(a,h.elements.Image).addText(c.ConstantsApp.QUESTION_DATA[this._id].answers[e].text,
c.ConstantsApp.QUESTION_DATA[this._id].pos,c.ConstantsApp.QUESTION_DATA[this._id].answers[e].textColor,c.ConstantsApp.QUESTION_DATA[this._id].answers[e].bgColor,c.ConstantsApp.QUESTION_DATA[this._id].answers[e].fontName,c.ConstantsApp.QUESTION_DATA[this._id].answers[e].fontScale,c.ConstantsApp.QUESTION_DATA[this._id].answers[e].offset,c.ConstantsApp.QUESTION_DATA[this._id].answers[e].textSpacing,c.ConstantsApp.QUESTION_DATA[this._id].answers[e].textRot);this._type==c.ConstantsApp.QUESTION_TYPE_LIST?
(a.set_flagFlick(!0),this._numSelected=d):this._type==c.ConstantsApp.QUESTION_TYPE_SORT&&a.set_flagDrag(!0);this._pageDescriptions(c.ConstantsApp.QUESTION_DATA[this._id].answers[e].descriptions,a);this._choices.push(a)}this._type==c.ConstantsApp.QUESTION_TYPE_SORT&&(b=this._container.addElement(new l.Element({originX:0.5,y:0}),!1),""!=c.ConstantsApp.QUESTION_DATA[this._id].sort.image&&(this._sortBg=b.addElement(new l.Element({loadAsset:[c.ConstantsApp.QUESTION_DATA[this._id].sort.image],originX:0.5,
showSpinner:!1})),this._containers.push(this._sortBg)),""!=c.ConstantsApp.QUESTION_DATA[this._id].sort.textLeft&&(a=b.addElement(new h.elements.Text({originX:0.5,originY:0,x:0,y:c.ConstantsApp.SPACING})),a.addText(new l.TextLocalized(0,0,c.ConstantsApp.QUESTION_DATA[this._id].sort.textLeft,c.ConstantsApp.QUESTION_DATA[this._id].sort.fontName,{originX:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,scale:c.ConstantsApp.QUESTION_DATA[this._id].sort.fontScale,spacing:c.ConstantsApp.QUESTION_DATA[this._id].sort.textSpacing}),
c.ConstantsApp.QUESTION_DATA[this._id].sort.textColor),a.get_pos().x=-a.get_renderable().width/2-2*c.ConstantsApp.SPACING,a=b.addElement(new h.elements.Text({originX:0.5,originY:0,x:0,y:c.ConstantsApp.SPACING})),a.addText(new l.TextLocalized(0,0,c.ConstantsApp.QUESTION_DATA[this._id].sort.textRight,c.ConstantsApp.QUESTION_DATA[this._id].sort.fontName,{originX:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,scale:c.ConstantsApp.QUESTION_DATA[this._id].sort.fontScale,spacing:c.ConstantsApp.QUESTION_DATA[this._id].sort.textSpacing}),
c.ConstantsApp.QUESTION_DATA[this._id].sort.textColor),a.get_pos().x=a.get_renderable().width/2+2*c.ConstantsApp.SPACING),this._sort=b,a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.done_sort.image,c.ConstantsApp.EXTRA_DATA.done_sort.bgColor,c.ConstantsApp.EXTRA_DATA.done_sort.text,c.ConstantsApp.EXTRA_DATA.done_sort.textColor,c.ConstantsApp.EXTRA_DATA.done_sort.shadow,c.ConstantsApp.EXTRA_DATA.done_sort.fontName,c.ConstantsApp.EXTRA_DATA.done_sort.fontScale,c.ConstantsApp.EXTRA_DATA.done_sort.textSpacing),
a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventMeterClick)),this._sortBtn=a,this._container.addElement(a),this._choices.push(a))}},_pageDefault:function(){var a;this._type=c.ConstantsApp.QUESTION_DATA[this._id].type;A.__instanceof(c.ConstantsApp.QUESTION_DATA[this._id].maxChoices,ja)&&(this._MAX_SELECT=c.ConstantsApp.QUESTION_DATA[this._id].maxChoices);this._header=c.ConstantsApp.QUESTION_DATA[this._id].header&&c.ConstantsApp.QUESTION_DATA[this._id].header.enabled?
this.addElement(new l.Element({loadAsset:[c.ConstantsApp.QUESTION_DATA[this._id].header.image],originX:0.5,showSpinner:!1})):this.addElement(new l.Element({originX:0.5}));null!=this._header&&c.ConstantsApp.QUESTION_DATA[this._id].header&&c.ConstantsApp.QUESTION_DATA[this._id].header.height&&(this._header.get_renderable().height=c.ConstantsApp.QUESTION_DATA[this._id].header.height);null!=this._header&&c.ConstantsApp.QUESTION_DATA[this._id].header&&c.ConstantsApp.QUESTION_DATA[this._id].header.text&&
this._header.addElement(new h.elements.Text({originX:0.5,originY:0.5,y:this._header.get_renderable().height/2})).addText(new l.TextLocalized(0,0,c.ConstantsApp.QUESTION_DATA[this._id].header.text,c.ConstantsApp.QUESTION_DATA[this._id].header.fontName,{originX:0.5,originY:0.5,width:960,scale:c.ConstantsApp.QUESTION_DATA[this._id].header.fontScale,spacing:c.ConstantsApp.QUESTION_DATA[this._id].header.textSpacing}),c.ConstantsApp.QUESTION_DATA[this._id].header.textColor);this._question=this.addElement(new h.elements.Question({id:this._id,
originX:0.5,bgColor:c.ConstantsApp.QUESTION_DATA[this._id].bgColor,textColor:c.ConstantsApp.QUESTION_DATA[this._id].textColor,text:c.ConstantsApp.QUESTION_DATA[this._id].text,tail:c.ConstantsApp.QUESTION_DATA[this._id].tail,image:c.ConstantsApp.QUESTION_DATA[this._id].image,fontName:c.ConstantsApp.QUESTION_DATA[this._id].fontName,fontScale:c.ConstantsApp.QUESTION_DATA[this._id].fontScale,textSpacing:c.ConstantsApp.QUESTION_DATA[this._id].textSpacing}));c.ConstantsApp.QUESTION_DATA[this._id].video.asset&&
(a=this.addElement(new h.elements.VideoElement({x:0,y:c.ConstantsApp.SPACING,video:c.ConstantsApp.QUESTION_DATA[this._id].video.asset,formats:c.ConstantsApp.QUESTION_DATA[this._id].video.formats,originX:0.5,originY:0.5})),this._videos.push(a),this._question.addVideo(a));this._container=this.addElement(new l.Element({originX:0.5}));c.ConstantsApp.QUESTION_DATA[this._id].timer&&(this._timer=c.ConstantsApp.QUESTION_DATA[this._id].timer,this._clock=this.addElement(new h.elements.DisplayTimer({x:300,y:50,
originX:0.5,originY:0.5,timer:this._timer})))},_pageDefaultFinish:function(){for(var a=this,b=0,d=this._choices;b<d.length;){var j=[d[b]];++b;j[0].get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,function(b){return function(){a._onEventSelectClick(b[0].id)}}(j));j[0].get_dispatcher().addEventListener(w.buttons.ButtonBase.FLICK,x(this,this._onEventFlick));j[0].get_dispatcher().addEventListener(w.buttons.ButtonBase.OVER,function(b){return function(){a._onEventOver(b[0].id)}}(j))}},__class__:h.elements.Page});
h.elements._PageCyoe={};h.elements._PageCyoe.CYOE_STATE=m["com.nick.engines.quiz_2014.world.elements._PageCyoe.CYOE_STATE"]={__ename__:"com,nick,engines,quiz_2014,world,elements,_PageCyoe,CYOE_STATE".split(","),__constructs__:["_STATE_SELECT_CLIP","_STATE_WATCH_CLIP","_STATE_SELECT_ENDING","_STATE_WATCH_ENDING","_STATE_AFTER_ENDING"]};h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_CLIP=["_STATE_SELECT_CLIP",0];h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_CLIP.toString=n;h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_CLIP.__enum__=
h.elements._PageCyoe.CYOE_STATE;h.elements._PageCyoe.CYOE_STATE._STATE_WATCH_CLIP=["_STATE_WATCH_CLIP",1];h.elements._PageCyoe.CYOE_STATE._STATE_WATCH_CLIP.toString=n;h.elements._PageCyoe.CYOE_STATE._STATE_WATCH_CLIP.__enum__=h.elements._PageCyoe.CYOE_STATE;h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_ENDING=["_STATE_SELECT_ENDING",2];h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_ENDING.toString=n;h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_ENDING.__enum__=h.elements._PageCyoe.CYOE_STATE;h.elements._PageCyoe.CYOE_STATE._STATE_WATCH_ENDING=
["_STATE_WATCH_ENDING",3];h.elements._PageCyoe.CYOE_STATE._STATE_WATCH_ENDING.toString=n;h.elements._PageCyoe.CYOE_STATE._STATE_WATCH_ENDING.__enum__=h.elements._PageCyoe.CYOE_STATE;h.elements._PageCyoe.CYOE_STATE._STATE_AFTER_ENDING=["_STATE_AFTER_ENDING",4];h.elements._PageCyoe.CYOE_STATE._STATE_AFTER_ENDING.toString=n;h.elements._PageCyoe.CYOE_STATE._STATE_AFTER_ENDING.__enum__=h.elements._PageCyoe.CYOE_STATE;h.elements.PageCyoe=function(a){h.elements.Page.call(this,a);this._pageDefault();this._textId=
c.ConstantsApp.QUESTION_DATA[this._id].textId;a=v.field(c.ConstantsApp.EXTRA_DATA,this._textId+"_1");a=this._container.addElement(new h.elements.VideoStill([c.ConstantsApp.QUESTION_DATA[this._id].videoStill],0,0,h.World.get_tweener(),0.5,0.5,{text:a.text,fontName:a.fontName,fontScale:a.fontScale,textColor:a.textColor,spacing:a.textSpacing},""));a.disable();a.setParentOffsetFloats(c.ConstantsApp.get_CANVAS_CENTER_X(),this.get_pos().y);a.id=-1;this._choices.push(a);for(var b=c.ConstantsApp.QUESTION_DATA[this._id].answers.length,
d=0;d<b;){var j=d++,a=this._container.addElement(new h.elements.VideoStill([c.ConstantsApp.QUESTION_DATA[this._id].answers[j].videoStill],0,0,h.World.get_tweener(),0.5,0.5,{text:c.ConstantsApp.QUESTION_DATA[this._id].answers[j].text,fontName:c.ConstantsApp.QUESTION_DATA[this._id].answers[j].fontName,fontScale:c.ConstantsApp.QUESTION_DATA[this._id].answers[j].fontScale,textColor:c.ConstantsApp.QUESTION_DATA[this._id].answers[j].textColor,spacing:c.ConstantsApp.QUESTION_DATA[this._id].answers[j].textSpacing},
""));a.disable();a.setParentOffsetFloats(c.ConstantsApp.get_CANVAS_CENTER_X(),this.get_pos().y);a.id=j;this._choices.push(a)}a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.cyoe_ending.image,c.ConstantsApp.EXTRA_DATA.cyoe_ending.bgColor,c.ConstantsApp.EXTRA_DATA.cyoe_ending.text,c.ConstantsApp.EXTRA_DATA.cyoe_ending.textColor,c.ConstantsApp.EXTRA_DATA.cyoe_ending.shadow,c.ConstantsApp.EXTRA_DATA.cyoe_ending.fontName,c.ConstantsApp.EXTRA_DATA.cyoe_ending.fontScale,c.ConstantsApp.EXTRA_DATA.cyoe_ending.textSpacing);
a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventClickBack));this._container.addElement(a);this._choices.push(a);a.id=-2;a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.cyoe_return.image,c.ConstantsApp.EXTRA_DATA.cyoe_return.bgColor,c.ConstantsApp.EXTRA_DATA.cyoe_return.text,c.ConstantsApp.EXTRA_DATA.cyoe_return.textColor,c.ConstantsApp.EXTRA_DATA.cyoe_return.shadow,c.ConstantsApp.EXTRA_DATA.cyoe_return.fontName,c.ConstantsApp.EXTRA_DATA.cyoe_return.fontScale,
c.ConstantsApp.EXTRA_DATA.cyoe_return.textSpacing);a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventClickFwd));this._container.addElement(a);this._choices.push(a);a.id=-2;this._pageDefaultFinish();this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_CLIP)};m["com.nick.engines.quiz_2014.world.elements.PageCyoe"]=h.elements.PageCyoe;h.elements.PageCyoe.__name__="com,nick,engines,quiz_2014,world,elements,PageCyoe".split(",");h.elements.PageCyoe.__super__=h.elements.Page;
h.elements.PageCyoe.prototype=z(h.elements.Page.prototype,{_onVideoEnded:function(){switch(this._state[1]){case 1:e.QuizEmbed.hideVideo();this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_ENDING);break;case 3:e.QuizEmbed.hideVideo(),this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_AFTER_ENDING)}},_onVideoReady:function(){switch(this._state[1]){case 1:case 3:e.QuizEmbed.showVideo()}},_removeEventListeners:function(){h.elements.Page.prototype._removeEventListeners.call(this);eval("wmvideojs").onVideoJSReady=
null;eval("wmvideojs").onVideoJSEnded=null},_addEventListeners:function(){h.elements.Page.prototype._addEventListeners.call(this);eval("wmvideojs").onVideoJSReady=x(this,this._onVideoReady);eval("wmvideojs").onVideoJSEnded=x(this,this._onVideoEnded)},_onEventClickFwd:function(){this._state==h.elements._PageCyoe.CYOE_STATE._STATE_AFTER_ENDING&&this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_CLIP)},_onEventClickBack:function(){this._state==h.elements._PageCyoe.CYOE_STATE._STATE_AFTER_ENDING&&
this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_ENDING)},_onEventSelectClick:function(a){if(-2!=a)switch(this._state[1]){case 0:this._container.get_renderable().alpha=0;this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_WATCH_CLIP);e.QuizEmbed.addVideo(c.ConstantsApp.QUESTION_DATA[this._id].videoUrl);break;case 2:this._container.get_renderable().alpha=0,this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_WATCH_ENDING),e.QuizEmbed.addVideo(c.ConstantsApp.QUESTION_DATA[this._id].answers[a].videoUrl),
a=v.field(c.ConstantsApp.EXTRA_DATA,this._textId+"_"+(a+3)),this._question.changeText(a.text,a.fontName,a.fontScale)}},leavePage:function(){switch(this._state[1]){case 1:e.QuizEmbed.pauseVideo();e.QuizEmbed.hideVideo();this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_CLIP);break;case 3:e.QuizEmbed.pauseVideo(),e.QuizEmbed.hideVideo(),this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_ENDING)}},reset:function(){h.elements.Page.prototype.reset.call(this);this._setState(h.elements._PageCyoe.CYOE_STATE._STATE_SELECT_CLIP)},
onResize:function(){h.elements.Page.prototype.onResize.call(this);var a=!0,b=this._centerY();switch(this._state[1]){case 0:this._choices[0].get_pos().to(0,0);this._container.get_renderable().width=this._choices[0].get_renderable().width;this._container.get_renderable().height=this._choices[0].get_renderable().height;this._container.onResizeScale(4,c.ConstantsApp.get_CANVAS_HEIGHT()-h.World.HEIGHT_HUD-this._container.get_pos().y);a=!1;this._container.get_pos().x=0;this._container.get_pos().y=(c.ConstantsApp.get_CANVAS_HEIGHT()-
h.World.HEIGHT_HUD*h.World.HUD_SCALE-b)/2+b;break;case 2:if(!this._flagTransition){for(var d=[],j=1,e=this._choices.length-2;j<e;){var f=j++;d.push(this._choices[f])}h.elements.LayoutManager.gridRatio(c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING,c.ConstantsApp.get_CANVAS_HEIGHT()-this._container.get_pos().y-h.World.HEIGHT_HUD,d,2*c.ConstantsApp.SPACING,2*c.ConstantsApp.SPACING,this._container)}break;case 4:this._flagTransition||(d=[],d.push(this._choices[this._choices.length-2]),d.push(this._choices[this._choices.length-
1]),h.elements.LayoutManager.gridRatio(c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING,c.ConstantsApp.get_CANVAS_HEIGHT()-this._container.get_pos().y-h.World.HEIGHT_HUD,d,2*c.ConstantsApp.SPACING,2*c.ConstantsApp.SPACING,this._container))}this.onResizeFinish(a,b)},_setState:function(a){var b=this;this._state=a;for(var d=0,j=this._choices.length;d<j;){var s=d++;this._choices[s].reset();this._choices[s].get_renderable().alpha=0;this._choices[s].disable();this._choices[s].get_pos().to(-2E3,
-2E3)}switch(a[1]){case 0:this._question.changeText(c.ConstantsApp.QUESTION_DATA[this._id].text,c.ConstantsApp.QUESTION_DATA[this._id].fontName,c.ConstantsApp.QUESTION_DATA[this._id].fontScale);this._container.get_renderable().alpha=1;this._choices[0].get_pos().to(0,0);this._choices[0].get_renderable().alpha=1;this._choices[0].enable();this.onResize();e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));break;case 2:j=v.field(c.ConstantsApp.EXTRA_DATA,
this._textId+"_2");this._question.changeText(j.text,j.fontName,j.fontScale);this._container.get_renderable().alpha=1;this.onResize();this._flagTransition=!0;for(var d=this._choices.length-3,a=Math.floor(d/2),f=0,g=0,j=0;j<a;)s=j++,f=this._choices[s+1].get_pos().x,g=this._choices[s+1].get_pos().y,this._choices[s+1].get_pos().x=f-c.ConstantsApp.get_CANVAS_WIDTH(),h.World.get_tweener().tween(this._choices[s+1].get_pos(),0.5,{x:f,y:g});for(j=a;j<d;)s=j++,f=this._choices[s+1].get_pos().x,g=this._choices[s+
1].get_pos().y,this._choices[s+1].get_pos().x=f+c.ConstantsApp.get_CANVAS_WIDTH(),h.World.get_tweener().tween(this._choices[s+1].get_pos(),0.5,{x:f,y:g}).onComplete(function(){b._flagTransition=!1});d=1;for(j=this._choices.length-2;d<j;)s=d++,this._choices[s].get_renderable().alpha=1,this._choices[s].enable();e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));break;case 4:this._container.get_renderable().alpha=1;this.onResize();this._flagTransition=
!0;g=f=0;f=this._choices[this._choices.length-2].get_pos().x;this._choices[this._choices.length-2].get_pos().x=f-c.ConstantsApp.get_CANVAS_WIDTH();h.World.get_tweener().tween(this._choices[this._choices.length-2].get_pos(),0.5,{x:f});f=this._choices[this._choices.length-1].get_pos().x;this._choices[this._choices.length-1].get_pos().x=f+c.ConstantsApp.get_CANVAS_WIDTH();h.World.get_tweener().tween(this._choices[this._choices.length-1].get_pos(),0.5,{x:f}).onComplete(function(){b._flagTransition=!1});
d=this._choices.length-3;for(j=this._choices.length;d<j;)s=d++,this._choices[s].get_renderable().alpha=1,this._choices[s].enable();e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));break;default:j=0;for(d=this._choices;j<d.length;)s=d[j],++j,s.disable()}},__class__:h.elements.PageCyoe});h.elements.PageFavorite=function(a){h.elements.Page.call(this,a);this._pageDefault();this._pageDefaultImage();this._pageDefaultFinish()};m["com.nick.engines.quiz_2014.world.elements.PageFavorite"]=
h.elements.PageFavorite;h.elements.PageFavorite.__name__="com,nick,engines,quiz_2014,world,elements,PageFavorite".split(",");h.elements.PageFavorite.__super__=h.elements.Page;h.elements.PageFavorite.prototype=z(h.elements.Page.prototype,{onResize:function(){h.elements.Page.prototype.onResize.call(this);for(var a=this._centerY(),b=1,d=this._choices.length;b<d;){var j=b++;this._choices[0].get_isLoaded()&&!this._choices[j].get_isLoadedAll()&&(this._choices[j].get_renderable().width=this._choices[0].get_renderable().width,
this._choices[j].get_renderable().height=this._choices[0].get_renderable().height,this._choices[j].orientTexture(!1))}h.elements.LayoutManager.gridRatio(c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING,c.ConstantsApp.get_CANVAS_HEIGHT()-this._container.get_pos().y-h.World.HEIGHT_HUD,this._choices,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,this._container);this.onResizeFinish(!0,a)},__class__:h.elements.PageFavorite});h.elements.PageFlow=function(a){h.elements.Page.call(this,a);this._pageDefault();
var b,d;this.removeElement(this._container,!1);this._flowScissor=this.addElement(new l.Element({resize:!0}),!1);this._flowScissor.addElement(this._container);this._flowScissor.get_rootSprite().scissor=new N.Rectangle(c.ConstantsApp.SPACING,0,c.ConstantsApp.get_CANVAS_WIDTH()-c.ConstantsApp.SPACING,c.ConstantsApp.get_CANVAS_HEIGHT());var a=c.ConstantsApp.QUESTION_DATA[this._id].answers.length,j=[],e=[];this._flowEnd=[];this._flowContainers=[];this._flowQuestions=[];for(var f=this._flowNum=0;f<a;){var g=
f++;e.push(c.ConstantsApp.QUESTION_DATA[this._id].answers[g].id);if("true"==c.ConstantsApp.QUESTION_DATA[this._id].answers[g].end)b=this._container.addElement(new h.elements.Image([c.ConstantsApp.QUESTION_DATA[this._id].answers[g].image],0,0,h.World.get_tweener(),0.5,0.5,"")),b.set_canEnable(!1),b.disable(),b.setParentOffsetFloats(c.ConstantsApp.get_CANVAS_CENTER_X(),this.get_pos().y),b.id=g,b.addOverlay(c.ConstantsApp.QUESTION_DATA[this._id].overlay),""!=c.ConstantsApp.QUESTION_DATA[this._id].answers[g].text&&
A.__cast(b,h.elements.Image).addText(c.ConstantsApp.QUESTION_DATA[this._id].answers[g].text,c.ConstantsApp.QUESTION_DATA[this._id].pos,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].textColor,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].bgColor,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].fontName,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].fontScale,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].offset,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].textSpacing),this._containers.push(b),
j.push(b),this._flowEnd.push(b);else{var i=this._container.addElement(new h.elements.Text({originX:0.5,originY:0.5}));""!=c.ConstantsApp.QUESTION_DATA[this._id].answers[g].imageText?i.addImage(new l.Element({loadAsset:[c.ConstantsApp.QUESTION_DATA[this._id].answers[g].imageText],showSpinner:!1,originX:0.5,originY:0.5})):i.addBackground(c.ConstantsApp.QUESTION_DATA[this._id].answers[g].bgColor);i.addText(new l.TextLocalized(0,0,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].text,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].fontName,
{originX:0.5,originY:0.5,width:c.ConstantsApp.MIN_TEXT_WIDTH,scale:c.ConstantsApp.QUESTION_DATA[this._id].answers[g].fontScale,spacing:c.ConstantsApp.QUESTION_DATA[this._id].answers[g].textSpacing}),c.ConstantsApp.QUESTION_DATA[this._id].answers[g].textColor);this._containers.push(i);j.push(i)}}for(var k,f=0;f<a;){for(var g=f++,i=c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers.length,m=[],n=0,o=0;o<i;){var p=o++;b=this._container.addElement(new h.elements.ButtonGameplay(0,0,h.World.get_tweener(),
0.5,0.5,""));d=this.addElement(new h.elements.Text({originX:0.5,originY:0.5}));""!=c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].imageText?d.addImage(new l.Element({loadAsset:[c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].imageText],showSpinner:!1,originX:0.5,originY:0.5})):d.addBackground(c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].bgColor);""!=c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].text&&d.addText(new l.TextLocalized(0,0,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].text,
c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].fontName,{originX:0.5,originY:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,scale:c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].fontScale}),c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].textColor);b.addElement(d);b.get_hitRect().set_width(b.get_renderable().width=d.get_renderable().width);b.get_hitRect().set_height(b.get_renderable().height=d.get_renderable().height);b.setParentOffsetFloats(c.ConstantsApp.get_CANVAS_CENTER_X(),
this.get_pos().y);b.id=this._choices.length;b.addOverlay(c.ConstantsApp.QUESTION_DATA[this._id].overlay);b.disable();this._choices.push(b);m.push(b);d.get_renderable().width*b.get_renderable().scaleX>n&&(n=d.get_renderable().width*b.get_renderable().scaleX);0==p&&this._flowContainers.push(null);for(var q=0,r=e.length;q<r;)k=q++,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].answers[p].id==e[k]&&(b.idLink=k,this._flowContainers.push(new h.elements.ContainerFlowChart(b,[j[k]],!0)),this._flowContainers[this._flowContainers.length-
1].text=d,this._flowContainers[this._flowContainers.length-1].useArrow=!0,k=new h.elements.Arrow({}),this._container.addElement(k,!1),this._flowContainers[this._flowContainers.length-1].arrows=[k])}for(o=0;o<i;)p=o++,A.__cast(this._flowContainers[this._flowContainers.length-1-p].text,h.elements.Text).updateFill(n),A.__cast(this._flowContainers[this._flowContainers.length-1-p].root,h.elements.ButtonGameplay).get_hitRect().set_width(this._flowContainers[this._flowContainers.length-1-p].root.get_renderable().width=
n);if(0==i)this._flowContainers.push(new h.elements.ContainerFlowChart(j[g],m)),this._flowQuestions.push(this._flowContainers.length-1);else{this._flowContainers[this._flowContainers.length-i-1]=new h.elements.ContainerFlowChart(j[g],m);this._flowQuestions.push(this._flowContainers.length-i-1);g=[];for(o=0;o<i;)o++,k=new h.elements.Arrow({}),this._container.addElement(k,!1),g.push(k);this._flowContainers[this._flowContainers.length-i-1].arrows=g}}o=1;for(f=this._flowQuestions.length;o<f;)g=o++,this._flowContainers[this._flowQuestions[g]].toggle(!0);
this._flowContainers[this._flowQuestions[this._flowNum]].enableButtons();this._pageDefaultFinish()};m["com.nick.engines.quiz_2014.world.elements.PageFlow"]=h.elements.PageFlow;h.elements.PageFlow.__name__="com,nick,engines,quiz_2014,world,elements,PageFlow".split(",");h.elements.PageFlow.__super__=h.elements.Page;h.elements.PageFlow.prototype=z(h.elements.Page.prototype,{onResize:function(){h.elements.Page.prototype.onResize.call(this);for(var a=!0,b=this._centerY(),a=!1,d=1,j=this._flowEnd.length;d<
j;){var s=d++;this._flowEnd[0].get_isLoaded()&&!this._flowEnd[s].get_isLoadedAll()&&(this._flowEnd[s].get_renderable().width=this._flowEnd[0].get_renderable().width,this._flowEnd[s].get_renderable().height=this._flowEnd[0].get_renderable().height,this._choices[s].orientTexture(!1))}d=2*c.ConstantsApp.SPACING;this._flowContainers[this._flowContainers.length-this._flowEnd.length-1].root.get_renderable().width>this._flowEnd[0].get_renderable().width&&(d+=this._flowContainers[this._flowContainers.length-
this._flowEnd.length-1].root.get_renderable().width-this._flowEnd[0].get_renderable().width);h.elements.LayoutManager.gridScale(c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING,this._flowEnd.length,1,this._flowEnd,null,d,2*c.ConstantsApp.SPACING,!0,this._container);for(s=this._flowContainers.length;0<s--;)this._flowContainers[s].update();this._container.get_renderable().width=this._flowContainers[this._flowQuestions[this._flowNum]].width;this._container.onResizeScale(2);null!=this._container&&
null!=this._flowQuestions&&0<this._flowQuestions.length&&(this._transitionPos.x=-this._flowContainers[this._flowQuestions[this._flowNum]].root.get_pos().x*this._container.get_renderable().scaleX,this._transitionPos.y=-this._flowContainers[this._flowQuestions[this._flowNum]].root.get_pos().y*this._container.get_renderable().scaleY+this._container.get_pos().y*this._container.get_renderable().scaleY+c.ConstantsApp.SPACING+(c.ConstantsApp.get_CANVAS_HEIGHT()-h.World.HEIGHT_HUD-this._container.get_pos().y*
this._container.get_renderable().scaleY)/2,this._flagTransition||this._container.get_pos().to(this._transitionPos.x,this._transitionPos.y));j=0;for(d=this._choices;j<d.length;){s=d[j];++j;s.setParentOffsetScale(this._container.get_renderable().scaleX,this._container.get_renderable().scaleY);for(var f=0,g=this._choices;f<g.length;){var i=g[f];++f;s!=i&&s.get_pos().x==i.get_pos().x&&s.get_pos().y==i.get_pos().y&&(s.get_pos().x-=s.get_renderable().width/2+c.ConstantsApp.SPACING/2,i.get_pos().x+=i.get_renderable().width/
2+c.ConstantsApp.SPACING/2)}}for(s=this._flowContainers.length;0<s--;)this._flowContainers[s].updateArrows();this._flowScissor.get_rootSprite().scissor.set(c.ConstantsApp.SPACING-c.ConstantsApp.get_CANVAS_CENTER_X(),b+c.ConstantsApp.SPACING,c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING,c.ConstantsApp.get_CANVAS_HEIGHT()-b-h.World.HEIGHT_HUD*h.World.HUD_SCALE-2*c.ConstantsApp.SPACING);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));
this.onResizeFinish(a,b)},reset:function(){h.elements.Page.prototype.reset.call(this);this._flowNum=0;this._showChain(this._flowContainers[this._flowQuestions[this._flowNum]].children[0]);this._showChain(this._flowContainers[this._flowQuestions[this._flowNum]].children[1]);for(var a=1,b=this._flowQuestions.length;a<b;){var d=a++;this._flowContainers[this._flowQuestions[d]].resetButtons();this._flowContainers[this._flowQuestions[d]].disableButtons();this._flowContainers[this._flowQuestions[d]].toggle(!0)}this._flowContainers[this._flowQuestions[this._flowNum]].resetButtons();
this._flowContainers[this._flowQuestions[this._flowNum]].enableButtons()},__class__:h.elements.PageFlow});h.elements.PageFooter=function(a){h.elements.Page.call(this,a);this._type=c.ConstantsApp.QUESTION_TYPE_FOOTER;this._header=c.ConstantsApp.QUIZ_DATA.submit_header&&c.ConstantsApp.QUIZ_DATA.submit_header.enabled?this.addElement(new l.Element({loadAsset:[c.ConstantsApp.QUIZ_DATA.submit_header.image],originX:0.5,showSpinner:!1})):this.addElement(new l.Element({originX:0.5}));null!=this._header&&c.ConstantsApp.QUIZ_DATA.submit_header&&
c.ConstantsApp.QUIZ_DATA.submit_header.height&&(this._header.get_renderable().height=c.ConstantsApp.QUIZ_DATA.submit_header.height);null!=this._header&&c.ConstantsApp.QUIZ_DATA.submit_header&&c.ConstantsApp.QUIZ_DATA.submit_header.text&&this._header.addElement(new h.elements.Text({originX:0.5,originY:0.5,y:this._header.get_renderable().height/2})).addText(new l.TextLocalized(0,0,c.ConstantsApp.QUIZ_DATA.submit_header.text,c.ConstantsApp.QUIZ_DATA.submit_header.fontName,{originX:0.5,originY:0.5,width:960,
scale:c.ConstantsApp.QUIZ_DATA.submit_header.fontScale,spacing:c.ConstantsApp.QUIZ_DATA.submit_header.textSpacing}),c.ConstantsApp.QUIZ_DATA.submit_header.textColor);this._question=this.addElement(new h.elements.Question({id:this._id,originX:0.5,text:c.ConstantsApp.QUIZ_DATA.submit.text,tail:c.ConstantsApp.QUIZ_DATA.submit.tail,textColor:c.ConstantsApp.QUIZ_DATA.submit.textColor,bgColor:c.ConstantsApp.QUIZ_DATA.submit.bgColor,image:c.ConstantsApp.QUIZ_DATA.submit.image,fontName:c.ConstantsApp.QUIZ_DATA.submit.fontName,
fontScale:c.ConstantsApp.QUIZ_DATA.submit.fontScale,spacing:c.ConstantsApp.QUIZ_DATA.submit.textSpacing}));this._container=this.addElement(new l.Element({originX:0.5,y:0}));a=this._createAsset(c.ConstantsApp.QUIZ_DATA.description_submit.image,c.ConstantsApp.QUIZ_DATA.description_submit.video.asset,c.ConstantsApp.QUIZ_DATA.description_submit.video.formats);null!=a&&this._containers.push(this._container.addElement(a));a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.submit.image,c.ConstantsApp.EXTRA_DATA.submit.bgColor,
c.ConstantsApp.EXTRA_DATA.submit.text,c.ConstantsApp.EXTRA_DATA.submit.textColor,c.ConstantsApp.EXTRA_DATA.submit.shadow,c.ConstantsApp.EXTRA_DATA.submit.fontName,c.ConstantsApp.EXTRA_DATA.submit.fontScale,c.ConstantsApp.EXTRA_DATA.submit.textSpacing,c.ConstantsApp.EXTRA_DATA.submit.textRot);this._pageDescriptions(c.ConstantsApp.EXTRA_DATA.submit.descriptions,a);a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventSubmitClick));this._container.addElement(a);this._container.get_renderable().width=
a.get_renderable().width;this._container.get_renderable().height=a.get_renderable().height;this._choices.push(a);this._containers.push(a)};m["com.nick.engines.quiz_2014.world.elements.PageFooter"]=h.elements.PageFooter;h.elements.PageFooter.__name__="com,nick,engines,quiz_2014,world,elements,PageFooter".split(",");h.elements.PageFooter.__super__=h.elements.Page;h.elements.PageFooter.prototype=z(h.elements.Page.prototype,{_onEventSubmitClick:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_SUBMIT))},
onResize:function(){c.ConstantsApp.QUESTION_DATA[0].header&&c.ConstantsApp.QUESTION_DATA[0].header.height&&(this._header.get_renderable().height=c.ConstantsApp.QUESTION_DATA[0].header.height*Math.min(1,c.ConstantsApp.get_CANVAS_HEIGHT()/560));h.elements.Page.prototype.onResize.call(this);var a=!0,b=this._centerY();this._container.onResizeScale(4,c.ConstantsApp.get_CANVAS_HEIGHT()-h.World.HEIGHT_HUD-this._container.get_pos().y);1==this._containers.length?(a=!1,this._container.get_pos().y=(c.ConstantsApp.get_CANVAS_HEIGHT()-
h.World.HEIGHT_HUD*h.World.HUD_SCALE-b)/2+b):(h.elements.LayoutManager.grid(1,2,[this._containers[0],this._containers[1]],null,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!1,this._container),this._containers[1].get_pos().y+=this._containers[1].get_renderable().height/2,this._containers[1].get_pos().x+=this._containers[0].get_renderable().width/2);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));this.onResizeFinish(a,b)},__class__:h.elements.PageFooter});
h.elements.PageList=function(a){h.elements.Page.call(this,a);this._pageDefault();this._pageDefaultImage();this._pageDefaultFinish()};m["com.nick.engines.quiz_2014.world.elements.PageList"]=h.elements.PageList;h.elements.PageList.__name__="com,nick,engines,quiz_2014,world,elements,PageList".split(",");h.elements.PageList.__super__=h.elements.Page;h.elements.PageList.prototype=z(h.elements.Page.prototype,{onResize:function(){h.elements.Page.prototype.onResize.call(this);for(var a=this._centerY(),b=
1,d=this._choices.length;b<d;){var j=b++;this._choices[0].get_isLoaded()&&!this._choices[j].get_isLoadedAll()&&(this._choices[j].get_renderable().width=this._choices[0].get_renderable().width,this._choices[j].get_renderable().height=this._choices[0].get_renderable().height,this._choices[j].orientTexture(!1))}for(var e=[],f=this._choices[0],b=0,d=this._choices.length;b<d;)j=b++,this._choices[j].get_flagMoved()?e.push({x:!1,y:!1}):(e.push({x:!0,y:!0}),f=this._choices[j]);1<this._numSelected&&!this._flagTransition?
h.elements.LayoutManager.gridScale(c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING,this._choices.length,1,this._choices,e,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!0,this._container):this._flagTransition||h.elements.LayoutManager.gridScale(c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING,1,1,[f],null,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!0,this._container);this.onResizeFinish(!0,a)},reset:function(){h.elements.Page.prototype.reset.call(this);this._numSelected=this._choices.length;
this._flagTransition=!1},__class__:h.elements.PageList});h.elements.PageMeter=function(a){h.elements.Page.call(this,a);this._pageDefault();var b,d;b=Math.floor(c.ConstantsApp.QUESTION_DATA[this._id].answers.length/2);c.ConstantsApp.QUESTION_DATA[this._id].meter.type==c.ConstantsApp.METER_TYPE_VERTICAL?(a=this._container.addElement(new l.Element({asset:"template_meter2",originX:0.5,rot:90})),a.get_pos().y+=a.get_renderable().width/2,a.get_pos().x+=a.get_renderable().height/2):a=c.ConstantsApp.QUESTION_DATA[this._id].meter.type==
c.ConstantsApp.METER_TYPE_HORIZONTAL?this._container.addElement(new l.Element({asset:"template_meter2",originX:0.5})):this._container.addElement(new l.Element({asset:"template_meter",originX:0.5}));var j=a.get_renderable().height;c.ConstantsApp.QUESTION_DATA[this._id].meter.type==c.ConstantsApp.METER_TYPE_VERTICAL&&(j=a.get_renderable().width/2);d=null;""!=c.ConstantsApp.QUESTION_DATA[this._id].answers[0].text&&(d=this._container.addElement(new h.elements.Text({originX:0.5,originY:0.5,y:a.get_pos().y+
j})),""!=c.ConstantsApp.QUESTION_DATA[this._id].answers[b].imageText?d.addImage(new l.Element({loadAsset:[c.ConstantsApp.QUESTION_DATA[this._id].answers[b].imageText],showSpinner:!1,originX:0.5,originY:0.5})):d.addBackground(c.ConstantsApp.QUESTION_DATA[this._id].answers[b].bgColor),d.addText(new l.TextLocalized(0,0,c.ConstantsApp.QUESTION_DATA[this._id].answers[b].text,c.ConstantsApp.QUESTION_DATA[this._id].answers[b].fontName,{originX:0.5,originY:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,scale:c.ConstantsApp.QUESTION_DATA[this._id].answers[b].fontScale,
spacing:c.ConstantsApp.QUESTION_DATA[this._id].answers[b].textSpacing}),c.ConstantsApp.QUESTION_DATA[this._id].answers[b].textColor),d.get_pos().y+=d.get_renderable().height/2+c.ConstantsApp.SPACING,j+=d.get_renderable().height+c.ConstantsApp.SPACING,this._container.addElement(d));b=this._container.addElement(new h.elements.ButtonSlider(this._id,c.ConstantsApp.QUESTION_DATA[this._id].meter.type,a.get_renderable().width/2,c.ConstantsApp.QUESTION_DATA[this._id].answers.length,a.get_pos().x,a.get_pos().y+
10,h.World.get_tweener(),0.5,0.5,c.ConstantsApp.QUESTION_DATA[this._id].answers[b].image,d));this._choices.push(b);null!=d&&c.ConstantsApp.QUESTION_DATA[this._id].meter.type==c.ConstantsApp.METER_TYPE_HORIZONTAL&&(b=(b.get_renderable().height-j+d.get_renderable().height+c.ConstantsApp.SPACING)/2,d.get_pos().y+=b,j+=b);this._container.get_renderable().height=a.get_pos().y+j;b=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.done_meter.image,c.ConstantsApp.EXTRA_DATA.done_meter.bgColor,c.ConstantsApp.EXTRA_DATA.done_meter.text,
c.ConstantsApp.EXTRA_DATA.done_meter.textColor,c.ConstantsApp.EXTRA_DATA.done_meter.shadow,c.ConstantsApp.EXTRA_DATA.done_meter.fontName,c.ConstantsApp.EXTRA_DATA.done_meter.fontScale,c.ConstantsApp.EXTRA_DATA.done_meter.textSpacing);b.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventMeterClick));b.get_pos().y+=a.get_pos().y+j+c.ConstantsApp.SPACING+b.get_renderable().height/2;this._container.get_renderable().height+=b.get_renderable().height+c.ConstantsApp.SPACING;
this._container.addElement(b);this._meterBtn=b;this._choices.push(b);this._pageDefaultFinish()};m["com.nick.engines.quiz_2014.world.elements.PageMeter"]=h.elements.PageMeter;h.elements.PageMeter.__name__="com,nick,engines,quiz_2014,world,elements,PageMeter".split(",");h.elements.PageMeter.__super__=h.elements.Page;h.elements.PageMeter.prototype=z(h.elements.Page.prototype,{onResize:function(){h.elements.Page.prototype.onResize.call(this);var a=this._centerY();this._meterBtn.get_pos().to(0,(c.ConstantsApp.get_CANVAS_HEIGHT()-
h.World.HEIGHT_HUD-this._meterBtn.get_renderable().height*this._meterBtn.get_renderable().scaleY)/2-c.ConstantsApp.SPACING);this.onResizeFinish(!0,a)},reset:function(){h.elements.Page.prototype.reset.call(this);A.__cast(this._choices[0],h.elements.ButtonSlider).center()},__class__:h.elements.PageMeter});h.elements.PagePrompt=function(a){h.elements.Page.call(this,a);this._type=c.ConstantsApp.QUESTION_TYPE_PROMPT;""!=c.ConstantsApp.QUIZ_DATA.splash.image&&(this._splash=this.addElement(new l.Element({originX:0.5,
loadAsset:[c.ConstantsApp.QUIZ_DATA.splash.image],showSpinner:!1})));this._header=this.addElement(new l.Element({originX:0.5}));this._question=this.addElement(new h.elements.Question({id:this._id,originX:0.5,text:c.ConstantsApp.QUIZ_DATA.title.text,tail:c.ConstantsApp.QUIZ_DATA.title.tail,textColor:c.ConstantsApp.QUIZ_DATA.title.textColor,bgColor:c.ConstantsApp.QUIZ_DATA.title.bgColor,image:c.ConstantsApp.QUIZ_DATA.title.image,fontName:c.ConstantsApp.QUIZ_DATA.title.fontName,fontScale:c.ConstantsApp.QUIZ_DATA.title.fontScale,
spacing:c.ConstantsApp.QUIZ_DATA.title.textSpacing}));this._container=this.addElement(new l.Element({originX:0.5}));a=this._createAsset(c.ConstantsApp.QUIZ_DATA.description.image,c.ConstantsApp.QUIZ_DATA.description.video.asset,c.ConstantsApp.QUIZ_DATA.description.video.formats);null!=a&&this._containers.push(this._container.addElement(a));if(""!=c.ConstantsApp.QUIZ_DATA.description.text||""!=c.ConstantsApp.QUIZ_DATA.description.imageText)a=this._container.addElement(new h.elements.Text({originX:0.5,
originY:0.5})),""!=c.ConstantsApp.QUIZ_DATA.description.imageText?a.addImage(new l.Element({loadAsset:[c.ConstantsApp.QUIZ_DATA.description.imageText],showSpinner:!1,originX:0.5,originY:0.5})):a.addBackground(c.ConstantsApp.QUIZ_DATA.description.bgColor),""!=c.ConstantsApp.QUIZ_DATA.description.text&&a.addText(new l.TextLocalized(0,0,c.ConstantsApp.QUIZ_DATA.description.text,c.ConstantsApp.QUIZ_DATA.description.fontName,{originX:0.5,originY:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,scale:c.ConstantsApp.QUIZ_DATA.description.fontScale,
spacing:c.ConstantsApp.QUIZ_DATA.description.textSpacing}),c.ConstantsApp.QUIZ_DATA.description.textColor),this._containers.push(a);this._pageDescriptions(c.ConstantsApp.QUIZ_DATA.descriptions,this._container);a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.start.image,c.ConstantsApp.EXTRA_DATA.start.bgColor,c.ConstantsApp.EXTRA_DATA.start.text,c.ConstantsApp.EXTRA_DATA.start.textColor,c.ConstantsApp.EXTRA_DATA.start.shadow,c.ConstantsApp.EXTRA_DATA.start.fontName,c.ConstantsApp.EXTRA_DATA.start.fontScale,
c.ConstantsApp.EXTRA_DATA.start.textSpacing,c.ConstantsApp.EXTRA_DATA.start.textRot);this._pageDescriptions(c.ConstantsApp.EXTRA_DATA.start.descriptions,a);a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventStartClick));this._containers.push(a);this._container.addElement(a);this._choices.push(a);c.ConstantsApp.EXTRA_DATA.logo_start.enabled&&(a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.logo_start.image,c.ConstantsApp.EXTRA_DATA.logo_start.bgColor,c.ConstantsApp.EXTRA_DATA.logo_start.text,
c.ConstantsApp.EXTRA_DATA.logo_start.textColor,c.ConstantsApp.EXTRA_DATA.logo_start.shadow,c.ConstantsApp.EXTRA_DATA.logo_start.fontName,c.ConstantsApp.EXTRA_DATA.logo_start.fontScale,c.ConstantsApp.EXTRA_DATA.logo_start.textSpacing),a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventLogoClick)),this._container.addElement(a),this._choices.push(a))};m["com.nick.engines.quiz_2014.world.elements.PagePrompt"]=h.elements.PagePrompt;h.elements.PagePrompt.__name__="com,nick,engines,quiz_2014,world,elements,PagePrompt".split(",");
h.elements.PagePrompt.__super__=h.elements.Page;h.elements.PagePrompt.prototype=z(h.elements.Page.prototype,{_onEventLogoClick:function(){T.delay(function(){var a=c.ConstantsApp.EXTRA_DATA.logo_start.url,a=Q.htmlUnescape(a);B._platform.getWeb().openBrowser(a)},500);e.WorkinUtils.sendOmniture("Button logo")},_onEventStartClick:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_START))},onResize:function(){h.elements.Page.prototype.onResize.call(this);
var a=!0,b=!1,d=this._centerY();if(null!=this._splash)this._splash.onResizeScale(0);if(1==this._containers.length)a=b=!1;else if(2==this._containers.length)b=!0,h.elements.LayoutManager.grid(1,1,[this._containers[0]],null,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!1,this._container,!1),this._containers[1].get_pos().x=this._containers[0].get_pos().x+this._containers[0].get_renderable().width*(0.5-this._containers[0].get_originX()),this._containers[1].get_pos().y=this._containers[0].get_pos().y+
this._containers[0].get_renderable().height*(1-this._containers[0].get_originY())+this._containers[1].get_renderable().height*this._containers[1].get_originY()+c.ConstantsApp.SPACING;else{b=!0;h.elements.LayoutManager.grid(2,1,[this._containers[0],this._containers[1]],null,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!1,this._container);this._containers[2].get_pos().x=this._container.get_renderable().width/2;this._containers[2].get_pos().y=this._containers[1].get_pos().y+this._containers[1].get_renderable().height/
2+this._containers[2].get_renderable().height*this._containers[2].get_originY()+c.ConstantsApp.SPACING;var j=this._containers[0].get_renderable().height*this._containers[0].get_renderable().scaleY,e=this._containers[1].get_renderable().height*this._containers[1].get_renderable().scaleY;j>e?this._containers[1].get_pos().y=this._containers[0].get_pos().y-j*this._containers[0].get_originY()+0.5*j+e*(this._containers[1].get_originY()-0.5):e>j&&(this._containers[0].get_pos().y=this._containers[1].get_pos().y-
e*this._containers[1].get_originY()+0.5*e+j*(this._containers[0].get_originY()-0.5))}1==this._containers.length?(A.__cast(this._containers[0],h.elements.ButtonGameplay).setScale(this._splash.get_renderable().scaleX,this._splash.get_renderable().scaleY),this._container.get_renderable().height=this._containers[0].get_renderable().height*this._containers[0].get_renderable().scaleX,this._container.get_renderable().width=this._containers[0].get_renderable().width*this._containers[0].get_renderable().scaleY,
this._container.get_pos().to(0,0),this._containers[0].get_pos().to(-(this._splash.get_renderable().width*this._splash.get_renderable().scaleX)/2+c.ConstantsApp.EXTRA_DATA.start.x*this._splash.get_renderable().scaleX,c.ConstantsApp.EXTRA_DATA.start.y*this._splash.get_renderable().scaleY)):(this._container.get_renderable().height+=2*c.ConstantsApp.SPACING+this._containers[this._containers.length-1].get_renderable().height,this._container.onResizeScale(2,c.ConstantsApp.get_CANVAS_HEIGHT()-this._container.get_pos().y));
c.ConstantsApp.EXTRA_DATA.logo_start.enabled&&(j=this._choices[this._choices.length-1],j.get_pos().to(-(this._splash.get_renderable().width*this._splash.get_renderable().scaleX)/2+c.ConstantsApp.EXTRA_DATA.logo_start.x*this._splash.get_renderable().scaleX,c.ConstantsApp.EXTRA_DATA.logo_start.y/720*c.ConstantsApp.get_CANVAS_HEIGHT()),j.setScale(this._splash.get_renderable().scaleX,this._splash.get_renderable().scaleY));j=0;for(e=this._descriptions.length;j<e;){var f=j++;null!=c.ConstantsApp.QUIZ_DATA.descriptions[f]&&
null!=c.ConstantsApp.QUIZ_DATA.descriptions[f].x&&null!=c.ConstantsApp.QUIZ_DATA.descriptions[f].y&&this._descriptions[f].get_pos().to(-(this._splash.get_renderable().width*this._splash.get_renderable().scaleX)/2+c.ConstantsApp.QUIZ_DATA.descriptions[f].x*this._splash.get_renderable().scaleX,c.ConstantsApp.QUIZ_DATA.descriptions[f].y*this._splash.get_renderable().scaleY);this._descriptions[f].get_renderable().scaleX=this._splash.get_renderable().scaleX;this._descriptions[f].get_renderable().scaleY=
this._splash.get_renderable().scaleY}b&&(this._container.get_pos().x=-this._container.get_renderable().width*this._container.get_renderable().scaleX*this._container.get_originX());e=0;for(j=this._choices;e<j.length;)b=j[e],++e,b.setParentOffsetScale(this._container.get_renderable().scaleX,this._container.get_renderable().scaleY);this.onResizeFinish(a,d)},__class__:h.elements.PagePrompt});h.elements.PageResult=function(a){h.elements.Page.call(this,a);this._id=a.id;this._type=c.ConstantsApp.QUESTION_TYPE_RESULT;
this._shareEnabled=c.ConstantsApp.EXTRA_DATA.share.enabled;this._moreEnabled=c.ConstantsApp.EXTRA_DATA.more.enabled;var b;this._header=c.ConstantsApp.QUIZ_DATA.result_header&&c.ConstantsApp.QUIZ_DATA.result_header.enabled?this.addElement(new l.Element({loadAsset:[c.ConstantsApp.QUIZ_DATA.result_header.image],originX:0.5,showSpinner:!1})):this.addElement(new l.Element({originX:0.5}));null!=this._header&&c.ConstantsApp.QUIZ_DATA.result_header&&c.ConstantsApp.QUIZ_DATA.result_header.height&&(this._header.get_renderable().height=
c.ConstantsApp.QUIZ_DATA.result_header.height);null!=this._header&&c.ConstantsApp.QUIZ_DATA.result_header&&c.ConstantsApp.QUIZ_DATA.result_header.text&&this._header.addElement(new h.elements.Text({originX:0.5,originY:0.5,y:this._header.get_renderable().height/2})).addText(new l.TextLocalized(0,0,c.ConstantsApp.QUIZ_DATA.result_header.text,c.ConstantsApp.QUIZ_DATA.result_header.fontName,{originX:0.5,originY:0.5,width:960,scale:c.ConstantsApp.QUIZ_DATA.result_header.fontScale,spacing:c.ConstantsApp.QUIZ_DATA.result_header.textSpacing}),
c.ConstantsApp.QUIZ_DATA.result_header.textColor);this._question=this.addElement(new h.elements.Question({id:this._id,originX:0.5,text:c.ConstantsApp.QUIZ_DATA.result.text,tail:c.ConstantsApp.QUIZ_DATA.result.tail,textColor:c.ConstantsApp.QUIZ_DATA.result.textColor,bgColor:c.ConstantsApp.QUIZ_DATA.result.bgColor,image:c.ConstantsApp.QUIZ_DATA.result.image,fontName:c.ConstantsApp.QUIZ_DATA.result.fontName,fontScale:c.ConstantsApp.QUIZ_DATA.result.fontScale}));this._container=this.addElement(new l.Element({originX:0.5,
y:200}));b=this._createAsset(c.ConstantsApp.RESULT_DATA.results[this._id].image,c.ConstantsApp.RESULT_DATA.results[this._id].video.asset,c.ConstantsApp.RESULT_DATA.results[this._id].video.formats);null!=b&&(this._containers.push(this._container.addElement(b)),this._pageDescriptions(c.ConstantsApp.RESULT_DATA.results[this._id].descriptions,b));b=this._container.addElement(new h.elements.Text({originX:0.5,originY:0.5}));var d=v.field(c.ConstantsApp.EXTRA_DATA,"result_"+c.ConstantsApp.RESULT_DATA.results[this._id].id);
""!=d.imageText&&b.addImage(new l.Element({loadAsset:[d.imageText],showSpinner:!1,originX:0.5,originY:0.5}));""!=d.text&&b.addText(new l.TextLocalized(0,0,d.text,d.fontName,{originX:0.5,originY:0.5,width:d.textWidth,scale:d.fontScale,just:d.textAlign,spacing:d.textSpacing}),d.textColor);this._containers.push(b);b=this._container.addElement(new h.elements.Text({originX:0.5,originY:0.5}));""!=c.ConstantsApp.RESULT_DATA.results[a.id].imageText?b.addImage(new l.Element({loadAsset:[c.ConstantsApp.RESULT_DATA.results[this._id].imageText],
showSpinner:!1,originX:0.5,originY:0.5})):b.addBackground(c.ConstantsApp.RESULT_DATA.results[this._id].bgColor);""!=c.ConstantsApp.RESULT_DATA.results[this._id].text&&b.addText(new l.TextLocalized(0,0,c.ConstantsApp.RESULT_DATA.results[this._id].text,c.ConstantsApp.RESULT_DATA.results[this._id].fontName,{originX:0.5,originY:0.5,width:c.ConstantsApp.RESULT_DATA.results[this._id].textWidth,scale:c.ConstantsApp.RESULT_DATA.results[this._id].fontScale,spacing:c.ConstantsApp.RESULT_DATA.results[this._id].textSpacing,
just:c.ConstantsApp.RESULT_DATA.results[this._id].textAlign}),c.ConstantsApp.RESULT_DATA.results[this._id].textColor);this._containers.push(b);a.share?(this._flagShare=!0,a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.take.image,c.ConstantsApp.EXTRA_DATA.take.bgColor,c.ConstantsApp.EXTRA_DATA.take.text,c.ConstantsApp.EXTRA_DATA.take.textColor,c.ConstantsApp.EXTRA_DATA.take.shadow,c.ConstantsApp.EXTRA_DATA.take.fontName,c.ConstantsApp.EXTRA_DATA.take.fontScale,c.ConstantsApp.EXTRA_DATA.take.textSpacing,
c.ConstantsApp.EXTRA_DATA.take.textRot),a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventTakeClick)),a.set_flagResult(!0),this._container.addElement(a),this._choices.push(a),this._containers.push(a)):(this._shareEnabled&&(a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.share.image,c.ConstantsApp.EXTRA_DATA.share.bgColor,c.ConstantsApp.EXTRA_DATA.share.text,c.ConstantsApp.EXTRA_DATA.share.textColor,c.ConstantsApp.EXTRA_DATA.share.shadow,c.ConstantsApp.EXTRA_DATA.share.fontName,
c.ConstantsApp.EXTRA_DATA.share.fontScale,c.ConstantsApp.EXTRA_DATA.share.textSpacing,c.ConstantsApp.EXTRA_DATA.share.textRot),a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventShareClick)),a.set_flagResult(!0),this._container.addElement(a),this._choices.push(a),this._containers.push(a)),a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.replay.image,c.ConstantsApp.EXTRA_DATA.replay.bgColor,c.ConstantsApp.EXTRA_DATA.replay.text,c.ConstantsApp.EXTRA_DATA.replay.textColor,
c.ConstantsApp.EXTRA_DATA.replay.shadow,c.ConstantsApp.EXTRA_DATA.replay.fontName,c.ConstantsApp.EXTRA_DATA.replay.fontScale,c.ConstantsApp.EXTRA_DATA.replay.textSpacing,c.ConstantsApp.EXTRA_DATA.replay.textRot),a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventReplayClick)),a.set_flagResult(!0),this._container.addElement(a),this._choices.push(a),this._containers.push(a),this._moreEnabled&&(a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.more.image,c.ConstantsApp.EXTRA_DATA.more.bgColor,
c.ConstantsApp.EXTRA_DATA.more.text,c.ConstantsApp.EXTRA_DATA.more.textColor,c.ConstantsApp.EXTRA_DATA.more.shadow,c.ConstantsApp.EXTRA_DATA.more.fontName,c.ConstantsApp.EXTRA_DATA.more.fontScale,c.ConstantsApp.EXTRA_DATA.more.textSpacing,c.ConstantsApp.EXTRA_DATA.more.textRot),a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventMoreClick)),a.set_flagResult(!0),this._container.addElement(a),this._choices.push(a),this._containers.push(a)));c.ConstantsApp.EXTRA_DATA.logo_end.enabled&&
(a=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.logo_end.image,c.ConstantsApp.EXTRA_DATA.logo_end.bgColor,c.ConstantsApp.EXTRA_DATA.logo_end.text,c.ConstantsApp.EXTRA_DATA.logo_end.textColor,c.ConstantsApp.EXTRA_DATA.logo_end.shadow,c.ConstantsApp.EXTRA_DATA.logo_end.fontName,c.ConstantsApp.EXTRA_DATA.logo_end.fontScale,c.ConstantsApp.EXTRA_DATA.logo_end.textSpacing),a.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventLogoClick)),a.set_flagResult(!0),this._container.addElement(a),
this._choices.push(a))};m["com.nick.engines.quiz_2014.world.elements.PageResult"]=h.elements.PageResult;h.elements.PageResult.__name__="com,nick,engines,quiz_2014,world,elements,PageResult".split(",");h.elements.PageResult.__super__=h.elements.Page;h.elements.PageResult.prototype=z(h.elements.Page.prototype,{_onEventLogoClick:function(){T.delay(function(){var a=c.ConstantsApp.EXTRA_DATA.logo_end.url,a=Q.htmlUnescape(a);B._platform.getWeb().openBrowser(a)},500);e.WorkinUtils.sendOmniture("Button logo end")},
_onEventMoreClick:function(){T.delay(function(){var a=c.ConstantsApp.EXTRA_DATA.more.url,a=Q.htmlUnescape(a);B._platform.getWeb().openBrowser(a)},500);e.WorkinUtils.sendOmniture("Button more")},_onEventTakeClick:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_TAKE_QUIZ));e.WorkinUtils.sendOmniture("Button take quiz")},_onEventReplayClick:function(){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_REPLAY));
e.WorkinUtils.sendOmniture("Button replay")},_onEventShareClick:function(){navigator.isCocoonJS?CocoonJS.App.showTextDialog(c.ConstantsApp.EXTRA_DATA.share_header.text,c.ConstantsApp.EXTRA_DATA.share_copy.text,c.ConstantsApp.BASE_URL+"result"+c.ConstantsApp.RESULT_DATA.results[this._id].id+".html",CocoonJS.App.KeyboardType.URL,c.ConstantsApp.EXTRA_DATA.cocoon_ok.text,c.ConstantsApp.EXTRA_DATA.cocoon_cancel.text):e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(c.ConstantsApp.EVENT_SHARE,
{text:c.ConstantsApp.BASE_URL+"result"+c.ConstantsApp.RESULT_DATA.results[this._id].id+".html"}));e.WorkinUtils.sendOmniture("Button share")},onResize:function(){h.elements.Page.prototype.onResize.call(this);this._centerY();this._question.onResize();h.elements.LayoutManager.grid(2,1,[this._containers[0],this._containers[1]],null,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!1,this._container);var a=this._containers[1].get_pos().x,b=this._containers[3].get_pos().y,d=this._containers[1].get_renderable().width*
this._containers[1].get_renderable().scaleX;this._containers[2].get_renderable().width>this._containers[1].get_renderable().width&&(d=this._containers[2].get_renderable().width*this._containers[2].get_renderable().scaleX,h.elements.LayoutManager.grid(2,1,[this._containers[0],this._containers[2]],null,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!1,this._container),a=this._containers[2].get_pos().x);0==d&&(d=this._containers[0].get_renderable().width*this._containers[0].get_renderable().scaleX,a=
this._containers[0].get_pos().x+d/2);h.elements.LayoutManager.grid(1,3,[this._containers[1],this._containers[2],this._containers[3]],null,c.ConstantsApp.SPACING,2*c.ConstantsApp.SPACING,!1,null);b=this._containers[3].get_pos().y-c.ConstantsApp.SPACING;this._containers[1].get_pos().x=this._containers[2].get_pos().x=a;if(this._flagShare)this._containers[3].get_pos().to(a,b);else if(1==this._containers.length-3)this._containers[3].get_pos().x=this._containers[2].get_pos().x,this._containers[3].get_pos().y=
b;else if(2==this._containers.length-3){h.elements.LayoutManager.grid(2,1,[this._containers[3],this._containers[4]],null,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!1,null);var j=this._containers[3].get_renderable().width+this._containers[4].get_renderable().width+c.ConstantsApp.SPACING;if(j>d)for(var f=0;2>f;){var g=f++;this._choices[g].setScale(d/j,d/j)}this._containers[3].get_pos().y=this._containers[4].get_pos().y=b;this._containers[3].get_pos().x=a-j/2+this._containers[3].get_renderable().width*
this._containers[3].get_renderable().scaleX/2+c.ConstantsApp.SPACING/2;this._containers[4].get_pos().x=a+j/2-this._containers[4].get_renderable().width*this._containers[4].get_renderable().scaleX/2+c.ConstantsApp.SPACING/2}else{j=this._containers[3].get_renderable().width+this._containers[4].get_renderable().width+this._containers[5].get_renderable().width+2*c.ConstantsApp.SPACING;if(j>d)for(f=0;3>f;)g=f++,this._choices[g].setScale(d/j,d/j);this._containers[3].get_pos().y=this._containers[4].get_pos().y=
this._containers[5].get_pos().y=b;this._containers[3].get_pos().x=a-d/2+this._containers[3].get_renderable().width*this._containers[3].get_renderable().scaleX*this._containers[3].get_originY();this._containers[4].get_pos().x=this._containers[3].get_pos().x+this._containers[3].get_renderable().width*this._containers[3].get_renderable().scaleX*this._containers[3].get_originY()+this._containers[4].get_renderable().width*this._containers[4].get_renderable().scaleX*this._containers[4].get_originY()+c.ConstantsApp.SPACING;
this._containers[5].get_pos().x=this._containers[4].get_pos().x+this._containers[4].get_renderable().width*this._containers[4].get_renderable().scaleX*this._containers[4].get_originY()+this._containers[5].get_renderable().width*this._containers[5].get_renderable().scaleX*this._containers[5].get_originY()+c.ConstantsApp.SPACING}b=this._containers[1].get_renderable().height*this._containers[1].get_renderable().scaleY+3*c.ConstantsApp.SPACING+this._containers[2].get_renderable().height*this._containers[2].get_renderable().scaleY+
this._containers[3].get_renderable().height*this._containers[3].get_renderable().scaleY;a=1;for(f=this._containers.length;a<f;)g=a++,this._containers[g].get_pos().y+=c.ConstantsApp.SPACING;if(b>this._containers[0].get_renderable().height)this._containers[0].get_pos().y=b/2-this._containers[0].get_renderable().height*this._containers[0].get_renderable().scaleY*(0.5-this._containers[0].get_originY());else{j=1;0==this._containers[1].get_renderable().height&&0==this._containers[2].get_renderable().height&&
(j=-1,b=this._containers[0].get_renderable().height*this._containers[0].get_renderable().scaleY+this._containers[3].get_renderable().height*this._containers[3].get_renderable().scaleY+c.ConstantsApp.SPACING);a=3;for(f=this._containers.length;a<f;)g=a++,this._containers[g].get_pos().y=this._containers[0].get_renderable().height-j*this._containers[g].get_renderable().height*this._containers[g].get_originY()*this._containers[g].get_renderable().scaleY,-1==j&&(this._containers[g].get_pos().y+=c.ConstantsApp.SPACING)}this._container.get_renderable().height=
Math.max(b,this._containers[0].get_renderable().height);this._container.get_renderable().width=this._containers[0].get_renderable().width+c.ConstantsApp.SPACING+Math.max(this._containers[1].get_renderable().width,this._containers[2].get_renderable().width);null!=A.__cast(this._containers[1],h.elements.Text).get_text()?this._containers[1].get_pos().x+=(A.__cast(this._containers[1],h.elements.Text).get_text().get_originX()-0.5)*d+(0.5-A.__cast(this._containers[1],h.elements.Text).get_text().get_originX())*
this._containers[1].get_renderable().width:this._containers[1].get_pos().x+=(A.__cast(this._containers[1],h.elements.Text).get_originX()-0.5)*d+(0.5-A.__cast(this._containers[1],h.elements.Text).get_originX())*this._containers[1].get_renderable().width;b=this._centerY();this._container.onResizeScaleFull(2,c.ConstantsApp.get_CANVAS_HEIGHT()-b-4*c.ConstantsApp.SPACING);this._container.get_pos().x=-this._container.get_renderable().width*this._container.get_renderable().scaleX*this._container.get_originX();
this._container.get_pos().y=(c.ConstantsApp.get_CANVAS_HEIGHT()-b)/2+b-this._container.get_renderable().height*this._container.get_renderable().scaleY/2;c.ConstantsApp.EXTRA_DATA.logo_end.enabled&&this._choices[this._choices.length-1].get_pos().to(-(c.ConstantsApp.get_CANVAS_CENTER_X()-this._container.get_renderable().width*this._container.get_renderable().scaleX/2)+c.ConstantsApp.EXTRA_DATA.logo_end.x/1024*c.ConstantsApp.get_CANVAS_WIDTH(),-this._container.get_pos().y/this._container.get_renderable().scaleY+
c.ConstantsApp.EXTRA_DATA.logo_end.y/720*c.ConstantsApp.get_CANVAS_HEIGHT()/this._container.get_renderable().scaleY);f=0;for(a=this._choices;f<a.length;)d=a[f],++f,d.setParentOffsetScale(this._container.get_renderable().scaleX,this._container.get_renderable().scaleY);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_UPDATE_PAGE));this.onResizeFinish(!0,b)},__class__:h.elements.PageResult});h.elements.PageShare=function(a){l.Element.call(this,a);this._text=
a.text;this._bg=this.addElement(new l.Element({resize:!0,x:c.ConstantsApp.get_CANVAS_LEFT(),y:c.ConstantsApp.get_CANVAS_TOP(),alpha:0.5}));this._bg.get_root().addChild((new P).add(new o.FillSprite(0,1,1)));this._bg2=this.addElement(new l.Element({x:c.ConstantsApp.get_CANVAS_CENTER_X(),y:c.ConstantsApp.get_CANVAS_CENTER_Y()}));""==c.ConstantsApp.EXTRA_DATA.share_popup.image&&this._bg2.get_root().addChild((new P).add(new o.FillSprite(16777215,1,1)));this._container=this.addElement(new l.Element({asset:c.ConstantsApp.EXTRA_DATA.share_popup.image,
originX:0.5,originY:0,x:c.ConstantsApp.get_CANVAS_CENTER_X(),y:c.ConstantsApp.get_CANVAS_CENTER_Y()}));a=this._container.get_renderable().width;0==a&&(a=c.ConstantsApp.MIN_TEXT_WIDTH);this._container.get_renderable().width=a;a=0;this._buttons=[];var b=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.close.image,c.ConstantsApp.EXTRA_DATA.close.bgColor,c.ConstantsApp.EXTRA_DATA.close.text,c.ConstantsApp.EXTRA_DATA.close.textColor,!1);b.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,
x(this,this._onEventCloseClick));b.get_pos().y=b.get_renderable().height/2+c.ConstantsApp.SPACING/2;b.get_pos().x=this._container.get_renderable().width/2-b.get_renderable().width/2-c.ConstantsApp.SPACING/2;b.set_flagShare(!0);b.set_flagResult(!0);b.get_renderable();this._container.addElement(b);this._buttons.push(b);b=this._container.addElement(new h.elements.Text({originX:0.5,originY:0.5,y:2*c.ConstantsApp.SPACING}));b.addText(new l.TextLocalized(0,0,c.ConstantsApp.EXTRA_DATA.share_header.text,
c.ConstantsApp.EXTRA_DATA.share_header.fontName,{originX:0.5,originY:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,scale:c.ConstantsApp.EXTRA_DATA.share_header.fontScale,spacing:c.ConstantsApp.EXTRA_DATA.share_header.textSpacing}),c.ConstantsApp.EXTRA_DATA.share_header.textColor);b.get_pos().y+=b.get_renderable().height/2;a=2*c.ConstantsApp.SPACING+b.get_renderable().height;b=this._container.addElement(new h.elements.Text({originX:0.5,originY:0.5,y:a+2*c.ConstantsApp.SPACING}));b.addText(new l.TextLocalized(0,
0,c.ConstantsApp.EXTRA_DATA.share_copy.text,c.ConstantsApp.EXTRA_DATA.share_copy.fontName,{originX:0.5,originY:0.5,width:this._container.get_renderable().width,scale:c.ConstantsApp.EXTRA_DATA.share_copy.fontScale,spacing:c.ConstantsApp.EXTRA_DATA.share_copy.textSpacing}),c.ConstantsApp.EXTRA_DATA.share_copy.textColor);b.get_pos().y+=b.get_renderable().height/2;a+=b.get_renderable().height+2*c.ConstantsApp.SPACING;this._divY=a+2*c.ConstantsApp.SPACING;this._divX=20;this._div=y.document.createElement("input");
this._div.type="text";this._div.style.display="block";this._div.value=this._text;this._div.style.width=this._container.get_renderable().width-this._divX+"px";this._div.style.backgroundColor=c.ConstantsApp.EXTRA_DATA.share_popup.bgColorHex;this._div.style.border="5px solid "+t.string(c.ConstantsApp.EXTRA_DATA.share_popup.bgColorHex);this._div.style.color=c.ConstantsApp.EXTRA_DATA.share_link.textColorHex;this._div.style.font=c.ConstantsApp.EXTRA_DATA.share_link.text;this._div.style.margin=this._divY+
"px auto 0";this._div.style.pointerEvents="auto";this._div.style.textAlign=c.ConstantsApp.EXTRA_DATA.share_link.textAlign;this._divHolder=y.document.createElement("div");this._divHolder.id="div_game_share";this._divHolder.style.cssText=y.document.getElementsByTagName("canvas")[0].parentElement.style.cssText;this._divHolder.style.position="absolute";this._divHolder.style.top="0px";this._divHolder.style.width=y.document.getElementsByTagName("canvas")[0].parentElement.offsetWidth+"px";this._divHolder.style.height=
y.document.getElementsByTagName("canvas")[0].parentElement.offsetHeight+"px";this._divHolder.style.backgroundColor="";this._divHolder.style.pointerEvents="none";this._divHolder.appendChild(this._div);y.document.getElementsByTagName("canvas")[0].parentNode.appendChild(this._divHolder);a+=this._div.offsetHeight+2*c.ConstantsApp.SPACING;b=-1;b=eval("navigator.appVersion.indexOf('MSIE');");-1!=b&&(b=h.elements.Page.createButton(c.ConstantsApp.EXTRA_DATA.copy.image,c.ConstantsApp.EXTRA_DATA.copy.bgColor,
c.ConstantsApp.EXTRA_DATA.copy.text,c.ConstantsApp.EXTRA_DATA.copy.textColor,c.ConstantsApp.EXTRA_DATA.copy.shadow,c.ConstantsApp.EXTRA_DATA.copy.fontName,c.ConstantsApp.EXTRA_DATA.copy.fontScale,c.ConstantsApp.EXTRA_DATA.copy.textSpacing),b.get_dispatcher().addEventListener(w.buttons.ButtonBase.CLICK,x(this,this._onEventCopyClick)),b.get_pos().y=a+c.ConstantsApp.SPACING+b.get_renderable().height/2,b.set_flagShare(!0),b.set_flagResult(!0),a+=b.get_renderable().height+c.ConstantsApp.SPACING,this._container.addElement(b),
this._buttons.push(b));0==this._container.get_renderable().height&&(this._container.get_renderable().height=a);""==c.ConstantsApp.EXTRA_DATA.share_popup.image&&(this._bg2.get_renderable().scaleX=this._bg2.get_renderable().width=this._container.get_renderable().width+3*c.ConstantsApp.SPACING,this._bg2.get_renderable().scaleY=this._bg2.get_renderable().height=this._container.get_renderable().height+3*c.ConstantsApp.SPACING)};m["com.nick.engines.quiz_2014.world.elements.PageShare"]=h.elements.PageShare;
h.elements.PageShare.__name__="com,nick,engines,quiz_2014,world,elements,PageShare".split(",");h.elements.PageShare.__super__=l.Element;h.elements.PageShare.prototype=z(l.Element.prototype,{_onEventCopyClick:function(){B._platform.getExternal().call("function(){ if(window.clipboardData){ window.clipboardData.setData('Text', "+this._text+"); }")},_onEventCloseClick:function(){this._divHolder.style.display="none";e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(c.ConstantsApp.EVENT_SHARE_CLOSE))},
updateText:function(a){this._text=a},show:function(){this._divHolder.style.display="block";this._div.value=this._text},updateButtons:function(){for(var a=0,b=this._buttons;a<b.length;){var d=b[a];++a;d.setParentOffsetFloats(this._container.get_pos().x,this._container.get_pos().y);d.setParentOffsetScale(this._container.get_renderable().scaleX,this._container.get_renderable().scaleY)}},onResizeScale:function(){this._bg.get_renderable().scaleX=c.ConstantsApp.get_CANVAS_WIDTH();this._bg.get_renderable().scaleY=
c.ConstantsApp.get_CANVAS_HEIGHT();this._container.onResizeScale(4,c.ConstantsApp.get_CANVAS_HEIGHT()-4*c.ConstantsApp.SPACING);""==c.ConstantsApp.EXTRA_DATA.share_popup.image&&(this._bg2.get_renderable().scaleX=this._bg2.get_renderable().width=this._container.get_renderable().width*this._container.get_renderable().scaleX+3*c.ConstantsApp.SPACING,this._bg2.get_renderable().scaleY=this._bg2.get_renderable().height=this._container.get_renderable().height*this._container.get_renderable().scaleY+3*c.ConstantsApp.SPACING);
this._bg2.get_pos().to(c.ConstantsApp.get_CANVAS_CENTER_X(),c.ConstantsApp.get_CANVAS_CENTER_Y());this._container.get_pos().to(c.ConstantsApp.get_CANVAS_CENTER_X(),c.ConstantsApp.get_CANVAS_CENTER_Y()-this._container.get_renderable().height*this._container.get_renderable().scaleY/2);var a=eval('document.getElementsByTagName("canvas")[0].getBoundingClientRect().width;')/c.ConstantsApp.get_CANVAS_WIDTH();this._divHolder.style.width=y.document.getElementsByTagName("canvas")[0].parentElement.offsetWidth+
"px";this._divHolder.style.height=y.document.getElementsByTagName("canvas")[0].parentElement.offsetHeight+"px";this._divHolder.style.left="0px";this._div.style.margin=this._container.get_pos().y*(1==a?1:a)+this._divY*(1==a?this._container.get_renderable().scaleY:a)+"px auto 0";this._div.style.width=this._container.get_renderable().width*(1==a?this._container.get_renderable().scaleX:a)-this._divX+"px";this.updateButtons()},dispose:function(){l.Element.prototype.dispose.call(this);this._div=this._container=
this._buttons=this._bg2=this._bg=null},__class__:h.elements.PageShare});h.elements.PageSort=function(a){h.elements.Page.call(this,a);this._pageDefault();this._pageDefaultImage();this._pageDefaultFinish()};m["com.nick.engines.quiz_2014.world.elements.PageSort"]=h.elements.PageSort;h.elements.PageSort.__name__="com,nick,engines,quiz_2014,world,elements,PageSort".split(",");h.elements.PageSort.__super__=h.elements.Page;h.elements.PageSort.prototype=z(h.elements.Page.prototype,{onResize:function(){h.elements.Page.prototype.onResize.call(this);
for(var a=this._centerY(),b=1,d=this._choices.length;b<d;){var j=b++;this._choices[0].get_isLoaded()&&!this._choices[j].get_isLoadedAll()&&(this._choices[j].get_renderable().width=this._choices[0].get_renderable().width,this._choices[j].get_renderable().height=this._choices[0].get_renderable().height,this._choices[j].orientTexture(!1))}for(var e=[],f=this._choices[0].get_renderable().scaleX,b=0,d=this._choices.length-1;b<d;)j=b++,this._choices[j].get_flagMoved()?e.push({x:!1,y:!1}):e.push({x:!0,y:!0}),
this._choices[j].questionY=this._container.get_pos().y;for(var g=[],b=0,d=this._choices.length-1;b<d;)j=b++,g.push(this._choices[j]);h.elements.LayoutManager.gridScale(c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING,this._choices.length-1,1,g,e,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!0,this._container);b=0;for(d=this._choices.length-1;b<d;)j=b++,this._choices[j].get_flagMoved()?this._choices[j].get_pos().multiply(this._choices[0].get_renderable().scaleX/f):this._choices[j].get_pos().x-=
this._container.get_renderable().width/2;this._container.get_pos().x=0;this._sort.get_pos().y=this._container.get_renderable().height+c.ConstantsApp.SPACING;if(null!=this._sortBg)this._sortBg.onResizeScale(0);this._sortBtn.get_pos().to(0,c.ConstantsApp.get_CANVAS_HEIGHT()-c.ConstantsApp.SPACING-h.World.HEIGHT_HUD-this._sortBtn.get_renderable().height/2-this._container.get_pos().y);this.onResizeFinish(!1,a)},__class__:h.elements.PageSort});h.elements.PageText=function(a){h.elements.Page.call(this,
a);this._pageDefault();for(var b,d=c.ConstantsApp.QUESTION_DATA[this._id].answers.length,j=[],e=0,f=0;f<d;){var g=f++,a=this._container.addElement(new h.elements.ButtonGameplay(0,0,h.World.get_tweener(),0.5,0.5,""));b=this.addElement(new h.elements.Text({originX:0.5,originY:0.5}));""!=c.ConstantsApp.QUESTION_DATA[this._id].answers[g].imageText?b.addImage(new l.Element({loadAsset:[c.ConstantsApp.QUESTION_DATA[this._id].answers[g].imageText],showSpinner:!1,originX:0.5,originY:0.5})):b.addBackground(c.ConstantsApp.QUESTION_DATA[this._id].answers[g].bgColor);
b.addText(new l.TextLocalized(0,0,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].text,c.ConstantsApp.QUESTION_DATA[this._id].answers[g].fontName,{originX:0.5,originY:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,scale:c.ConstantsApp.QUESTION_DATA[this._id].answers[g].fontScale,center:!0,spacing:c.ConstantsApp.QUESTION_DATA[this._id].answers[g].textSpacing}),c.ConstantsApp.QUESTION_DATA[this._id].answers[g].textColor);j.push(b);a.addElement(b);a.get_hitRect().set_width(a.get_renderable().width=b.get_renderable().width);
a.get_hitRect().set_height(a.get_renderable().height=b.get_renderable().height);b.get_renderable().width*a.get_renderable().scaleX>e&&(e=b.get_renderable().width*a.get_renderable().scaleX);a.setParentOffsetFloats(c.ConstantsApp.get_CANVAS_CENTER_X(),this.get_pos().y);a.id=g;a.addOverlay(c.ConstantsApp.QUESTION_DATA[this._id].overlay);this._choices.push(a)}for(f=0;f<d;)g=f++,j[g].updateFill(e),this._choices[g].get_hitRect().set_width(this._choices[g].get_renderable().width=e);this._pageDefaultFinish()};
m["com.nick.engines.quiz_2014.world.elements.PageText"]=h.elements.PageText;h.elements.PageText.__name__="com,nick,engines,quiz_2014,world,elements,PageText".split(",");h.elements.PageText.__super__=h.elements.Page;h.elements.PageText.prototype=z(h.elements.Page.prototype,{onResize:function(){h.elements.Page.prototype.onResize.call(this);for(var a=this._centerY(),b=0,d=this._choices;b<d.length;){var j=d[b];++b;j.onResizeScale(2)}h.elements.LayoutManager.gridRatio(c.ConstantsApp.get_CANVAS_WIDTH(),
c.ConstantsApp.get_CANVAS_HEIGHT()-this._container.get_pos().y-h.World.HEIGHT_HUD,this._choices,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,this._container);h.elements.LayoutManager.grid(1,this._choices.length,this._choices,null,c.ConstantsApp.SPACING,c.ConstantsApp.SPACING,!1,this._container);this.onResizeFinish(!0,a)},__class__:h.elements.PageText});h.elements.Question=function(a){l.Element.call(this,a);this._id=a.id;this._videoLoaded=this._flagVideo=!1;this._tailHeight=0;if(""!=a.text){var b=
new l.TextLocalized(0,0,a.text,a.fontName,{originX:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,center:!0,scale:a.fontScale,spacing:a.textSpacing}),d=this.addElement(new h.elements.ColorableElement({colorMaskElement:b,originX:0.5,x:a.tx,y:0,color:a.textColor}));this._render.width=d.get_renderable().width;this._render.height=d.get_renderable().height*d.get_renderable().scaleY+c.ConstantsApp.SPACING;d.get_pos().y=this._render.height/2-d.get_renderable().height*d.get_renderable().scaleY/2;d.setRenderOffset(b.get_offsetX(),
b.get_offsetY());this._textBg=d;this._text=b}""!=a.image?(this._image=this.addElement(new l.Element({loadAsset:[a.image],originX:this._originX,originY:this._originY}),!1),this._render.height=this._image.get_renderable().height):a.bgColor!=c.ConstantsApp.COLOR_NONE&&(this._bg=new o.FillSprite(t.parseInt(a.bgColor),c.ConstantsApp.get_CANVAS_WIDTH(),this._render.height),this._rootEntity.addChild((new P).add(this._bg),!1),this._bg.x.set__(-c.ConstantsApp.get_CANVAS_CENTER_X()),!0==a.tail&&(a=new o.FillSprite(t.parseInt(a.bgColor),
50,50),b=Math.floor(Math.sqrt(a.width._value*a.width._value+a.height._value*a.height._value)),a.rotation.set__(45),a.y.set__(this._render.height-b/2-1),this._render.height+=Math.floor(b/2),this._tailHeight=Math.floor(b/2),this._rootEntity.addChild((new P).add(a),!1),this._tail=a));this._startHeight=this._render.height};m["com.nick.engines.quiz_2014.world.elements.Question"]=h.elements.Question;h.elements.Question.__name__="com,nick,engines,quiz_2014,world,elements,Question".split(",");h.elements.Question.__super__=
l.Element;h.elements.Question.prototype=z(l.Element.prototype,{onResizeScale:function(a){null==a&&(a=0);null!=this._text&&(this._textBg.get_renderable().scaleX=this._textBg.get_renderable().scaleY=1,this._flagVideo&&c.ConstantsApp.get_CANVAS_WIDTH()/2+2*c.ConstantsApp.SPACING<this._text.get_renderable().width*this._text.get_renderable().scaleX?(this._textBg.get_renderable().scaleX=this._textBg.get_renderable().scaleY=(c.ConstantsApp.get_CANVAS_WIDTH()/2-2*c.ConstantsApp.SPACING)/(this._text.get_renderable().width*
this._text.get_renderable().scaleX),this._textBg.get_pos().x=-this._textBg.get_renderable().width*this._textBg.get_renderable().scaleX*this._text.get_renderable().scaleX/2-c.ConstantsApp.SPACING):!this._flagVideo&&c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING<this._textBg.get_renderable().width?this._textBg.get_renderable().scaleX=this._textBg.get_renderable().scaleY=(c.ConstantsApp.get_CANVAS_WIDTH()-2*c.ConstantsApp.SPACING)/this._textBg.get_renderable().width:this._flagVideo&&(this._textBg.get_pos().x=
-this._textBg.get_renderable().width*this._textBg.get_renderable().scaleX*this._text.get_renderable().scaleX/2-c.ConstantsApp.SPACING),this._textBg.get_pos().y=this._startHeight/2-this._textBg.get_renderable().height*this._textBg.get_renderable().scaleY/2);if(null!=this._video&&(c.ConstantsApp.get_CANVAS_WIDTH()/2+2*c.ConstantsApp.SPACING<this._video.get_renderable().width?this._video.get_renderable().scaleX=this._video.get_renderable().scaleY=(c.ConstantsApp.get_CANVAS_WIDTH()/2-2*c.ConstantsApp.SPACING)/
this._video.get_renderable().width:this._video.get_renderable().scaleX=this._video.get_renderable().scaleY=1,null!=this._text&&(this._video.get_pos().x=-this._textBg.get_pos().x),this._video.get_pos().y=(this._render.height-this._tailHeight)/2+this.get_pos().y,!this._videoLoaded&&null!=this._video&&this._video.get_isLoaded())){this._videoLoaded=!0;var b=this._video.get_renderable().height*this._video.get_renderable().scaleY-this._startHeight;0<b&&this.addHeight(b+c.ConstantsApp.SPACING);null!=this._text&&
(this._video.get_pos().x=-this._textBg.get_pos().x)}null!=this._image&&(this._image.onResizeScale(a),this._render.scaleX=this._render.scaleY=this._image.get_renderable().scaleX,this._image.get_renderable().scaleX=this._image.get_renderable().scaleY=1)},changeText:function(a,b,d){null==d&&(d=1);null==b&&(b="");this._text.get_renderable().scaleX=this._text.get_renderable().scaleY=d;this._text.set_font(b);this._text.set_text(a)},addHeight:function(a){this._flagVideo=!0;if(null!=this._bg){var b=this._bg.height;
b.set__(b._value+(this._tailHeight+a))}this._render.height+=a;this._startHeight+=a;null!=this._text&&(this._text.set_width(c.ConstantsApp.MAX_TEXT_WIDTH/2),this._textBg.updateColor(),this._textBg.get_pos().y=this._startHeight/2-this._text.get_renderable().height*this._text.get_renderable().scaleY/2,this._textBg.get_pos().x=-this._textBg.get_renderable().width*this._textBg.get_renderable().scaleX/2-c.ConstantsApp.SPACING);null!=this._tail&&(this._tail.y.set__(this._render.height-this._tailHeight-1),
this._render.height+=this._tailHeight)},addVideo:function(a){this._video=a},onResize:function(){null!=this._bg&&(this._bg.width.set__(c.ConstantsApp.get_CANVAS_WIDTH()),this._bg.x.set__(-c.ConstantsApp.get_CANVAS_CENTER_X()))},dispose:function(){l.Element.prototype.dispose.call(this);null!=this._bg&&this._bg.dispose();this._text=this._bg=null;null!=this._tail&&this._tail.dispose();this._image=this._video=this._tail=null},__class__:h.elements.Question});h.elements.Text=function(a){l.Element.call(this,
a)};m["com.nick.engines.quiz_2014.world.elements.Text"]=h.elements.Text;h.elements.Text.__name__="com,nick,engines,quiz_2014,world,elements,Text".split(",");h.elements.Text.__super__=l.Element;h.elements.Text.prototype=z(l.Element.prototype,{_onAssetLoaded:function(){null!=this._text&&(this._text.get_renderable().alpha=1);null!=this._image&&(this._render.width=this._image.get_renderable().width,this._render.height=this._image.get_renderable().height,this.updateText());l.Element.prototype._onAssetLoaded.call(this)},
updateText:function(){null!=this._fill&&null!=this._text&&(this._render.width=this._text.get_renderable().width*this._text.get_renderable().scaleX,this._render.height=this._text.get_renderable().height*this._text.get_renderable().scaleY,this._fill.width.set__(this._render.width=100*Math.round(this._render.width/100)+100),this._fill.height.set__(this._render.height+=c.ConstantsApp.SPACING),this._fill.x.set__(-this._fill.width._value/2),this._fill.y.set__(-this._fill.height._value/2));null!=this._text&&
this._color.updateColor()},changeText:function(a){this._text.set_text(a);this.updateText()},updateFill:function(a){null!=this._fill&&(this._fill.width.set__(this._render.width=a),this._fill.x.set__(-this._fill.width._value/2),null!=this._text&&(this._text.set_width(this._render.width-2*c.ConstantsApp.SPACING),this._color.updateColor()))},addText:function(a,b){this._text=a;this._offsetX=this._text.get_offsetX();this._offsetY=this._text.get_offsetY();this._isLoadedAll||(this._text.get_renderable().alpha=
0);if(null==this._image||!this._image.get_isLoaded())this._render.width=this._text.get_renderable().width*this._text.get_renderable().scaleX,this._render.height=this._text.get_renderable().height*this._text.get_renderable().scaleY;null!=this._fill&&(this._fill.width.set__(this._render.width=100*Math.round(this._render.width/100)+100),this._fill.height.set__(this._render.height+=c.ConstantsApp.SPACING),this._fill.x.set__(-this._fill.width._value/2),this._fill.y.set__(-this._fill.height._value/2));
this._color=this.addElement(new h.elements.ColorableElement({colorMaskElement:this._text,originX:this._originX,originY:this._originY,color:b}));this.updateText()},addBackground:function(a){a!=c.ConstantsApp.COLOR_NONE&&(this._fill=new o.FillSprite(a,0,0),this._rootEntity.addChild((new P).add(this._fill)))},addImage:function(a){this._image=this.addElement(a);this._image.get_isLoaded()&&(this._render.width=this._image.get_renderable().width,this._render.height=this._image.get_renderable().height,this.updateText())},
get_text:function(){return this._text},dispose:function(){l.Element.prototype.dispose.call(this);this._image=this._text=null;null!=this._fill&&this._fill.dispose();this._color=this._fill=null},__class__:h.elements.Text});h.elements.VideoElement=function(a){this._MAX_HEIGHT=200;this._MAX_WIDTH=360;a.hitbox=!0;h.elements.GameplayElement.call(this,a);this._isPlaying=!1;this._hitbox.set_width(100);this._hitbox.set_height(100);this._isLoaded=!1;this.offset={x:0,y:0};this._videoAsset=a.video;this._videoFormats=
a.formats;this._render.width=this._MAX_WIDTH;this._render.height=this._MAX_HEIGHT;this._bitmapTexture=B.createTexture(this._render.width|0,this._render.height|0);this.setImageSprite(new o.ImageSprite(this._bitmapTexture));a=new o.FillSprite(0,this._MAX_WIDTH,this._MAX_HEIGHT);a.x.set__(-this._MAX_WIDTH/2);a.y.set__(-this._MAX_HEIGHT/2);this.get_root().addChild((new P).add(a),!1);this._initVideo()};m["com.nick.engines.quiz_2014.world.elements.VideoElement"]=h.elements.VideoElement;h.elements.VideoElement.__name__=
"com,nick,engines,quiz_2014,world,elements,VideoElement".split(",");h.elements.VideoElement.__super__=h.elements.GameplayElement;h.elements.VideoElement.prototype=z(h.elements.GameplayElement.prototype,{_onLoaded:function(){this._checkLoaded(this._video.videoWidth,this._video.videoHeight)},_onEnded:function(){this._isPlaying=!1;this._button.get_renderable().alpha=1},_onClick:function(){this._flagReady&&(this._isPlaying?this.pause():(this._video.play(),this._isPlaying=!0,this._button.get_renderable().alpha=
0))},handleInput:function(a){if(!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_UI_PAUSED))switch(this.get_hitbox().toXY(this.offset.x+this.get_pos().x,this.offset.y+this.get_pos().y),a.input){case c.ConstantsApp.INPUT_CLICK:switch(a.phase){case p.WMEventInput.PHASE_DOWN:this._hitbox.contains(a.x,a.y)&&this._onClick()}}},pause:function(){this._flagReady&&this._isPlaying&&(this._video.pause(),this._isPlaying=!1,this._button.get_renderable().alpha=1)},_checkLoaded:function(a,b){0!=a&&(this._render.width=
a,this._render.height=b,this._render.width>this._MAX_WIDTH&&(this._video.width=Math.floor(this._render.width=this._MAX_WIDTH),this._render.height=this._MAX_HEIGHT,this._imageSprite.scaleX.set__(this._imageSprite.scaleY.set__(this._MAX_WIDTH/a)),this._render.height=this._imageSprite.scaleY._value*b,this._hitbox.set_width(this._render.width),this._hitbox.set_height(this._render.height)));0!=this._render.width&&(this.removeElement(this._loadSpinner),this._button.get_renderable().alpha=1,this._orientTexture(!1),
this._isLoaded=this._flagReady=!0,this._button.get_renderable().height>this._render.height&&(this._button.get_renderable().scaleX=this._button.get_renderable().scaleY=this._render.height/this._button.get_renderable().height),e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(c.ConstantsApp.EVENT_ASSET_LOADED,{element:this,asset:"HERE"})))},update:function(a){h.elements.GameplayElement.prototype.update.call(this,a);this._flagReady&&this._isPlaying&&(this._bitmapTexture=
i.html.HtmlPlatform.instance.getRenderer().createTexture(this._video),A.__cast(this._bitmapTexture,i.html.CanvasTexture).image.width=this._render.width,A.__cast(this._bitmapTexture,i.html.CanvasTexture).image.height=this._render.height,A.__cast(this._imageSprite,o.ImageSprite).texture=this._bitmapTexture)},dispose:function(){h.elements.GameplayElement.prototype.dispose.call(this);this._bitmapTexture=this._formatsAccepted=this._video=this._button=null},_initVideo:function(){var a=this._videoFormats.split(",");
this._formatsAccepted=["webm","mp4","ogg","ogv"];this._video=y.document.createElement("video");for(var b,d=0,j=this._formatsAccepted;d<j.length;){var f=j[d];++d;if(H.remove(a,f)){b=f;"ogv"==f&&(b="ogg");try{this._video.innerHTML+="<source src='"+c.ConstantsApp.BASE_URL+"assets/gameplay_images/"+this._videoAsset+"."+f+"' type='video/"+b+"'>"}catch(g){null}}}y.document.body.appendChild(this._video);this._video.style.position="absolute";this._video.style.top="-10000px";this._video.onended=x(this,this._onEnded);
this._video.onloadedmetadata=x(this,this._onLoaded);this._bitmapTexture=i.html.HtmlPlatform.instance.getRenderer().createTexture(this._video);A.__cast(this._imageSprite,o.ImageSprite).texture=this._bitmapTexture;this._loadSpinner=this.addElement(new h.elements.LoadingSpinner({asset:"loading_spinner",originX:0.5,originY:0.5}));this._button=this.addElement(new l.Element({x:0,y:0,originX:0.5,originY:0.5,asset:"template_btn_play",alpha:0}));this._flagReady=!1;e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_TOUCH_DEVICE)&&
-1!=y.window.navigator.userAgent.indexOf("Safari")&&-1==y.window.navigator.userAgent.indexOf("Chrome")&&this._checkLoaded(this._MAX_WIDTH,this._MAX_HEIGHT)},__class__:h.elements.VideoElement});h.elements.VideoStill=function(a,b,d,j,c,e,f,g,i,k,m){null==m&&(m="");null==k&&(k="");null==i&&(i="");null==g&&(g="");null==e&&(e=0.5);null==c&&(c=0.5);h.elements.Image.call(this,["template_bg_video"],b,d,j,c,e,g,i,k,m);this.addElement(new l.Element({loadAsset:a,originX:0.5,originY:0.5,y:-40}));this._pData=
f};m["com.nick.engines.quiz_2014.world.elements.VideoStill"]=h.elements.VideoStill;h.elements.VideoStill.__name__="com,nick,engines,quiz_2014,world,elements,VideoStill".split(",");h.elements.VideoStill.__super__=h.elements.Image;h.elements.VideoStill.prototype=z(h.elements.Image.prototype,{_onAssetLoaded:function(){h.elements.Image.prototype._onAssetLoaded.call(this);this.addElement(new l.Element({x:0,y:0,originX:0.5,originY:0.5,asset:"template_btn_play"}));var a=new l.TextLocalized(0,0,this._pData.text,
this._pData.fontName,{originX:0.5,width:c.ConstantsApp.MAX_TEXT_WIDTH,center:!0,scale:this._pData.fontScale,spacing:this._pData.spacing});this.addElement(new h.elements.ColorableElement({colorMaskElement:a,originX:0.5,x:0,y:100,color:this._pData.textColor}));this._pData=null},__class__:h.elements.VideoStill});B=void 0;P=void 0;o=void 0;i=void 0;f=void 0;M=void 0;N=void 0;r=void 0;U=void 0;I=void 0;q=void 0;L=void 0;R=void 0;D=void 0;D=void 0;D=void 0;r={Disposable:function(){}};m["flambe.util.Disposable"]=
r.Disposable;r.Disposable.__name__=["flambe","util","Disposable"];r.Disposable.prototype={__class__:r.Disposable};U=function(){};m["flambe.Component"]=U;U.__name__=["flambe","Component"];U.__interfaces__=[r.Disposable];U.prototype={init:function(a,b){this.owner=a;this.next=b},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},onAdded:function(){},__class__:U};ca={ComponentUpdater:function(){this._paused=!1}};
m["com.workinman.components.ComponentUpdater"]=ca.ComponentUpdater;ca.ComponentUpdater.__name__=["com","workinman","components","ComponentUpdater"];ca.ComponentUpdater.__super__=U;ca.ComponentUpdater.prototype=z(U.prototype,{onUpdate:function(a){this._paused||e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventUpdate.request(a))},get_name:function(){return"ComponentUpdater_0"},__class__:ca.ComponentUpdater});C={ConstantsCloud:function(){}};m["com.workinman.data.ConstantsCloud"]=C.ConstantsCloud;
C.ConstantsCloud.__name__=["com","workinman","data","ConstantsCloud"];C.ConstantsCloud.getUniqueId=function(){return t.string(C.ConstantsCloud._uniqueId++)};C.ConstantsCloud.getSupportsAllAudio=function(){return i.html.WebAudioSound.get_supported()&&!(0<=y.window.navigator.userAgent.indexOf("Android"))};C.ConstantsCloud.getSupportsSingleMusicTrackOnly=function(){return 0<=y.window.navigator.userAgent.indexOf("Linux")};C.ConstantsCloud.getSupportsNoAudio=function(){return!C.ConstantsCloud.getSupportsAllAudio()&&
!C.ConstantsCloud.getSupportsSingleMusicTrackOnly()};l.AnimatedElement=function(a){if(null!=a.movie&&""!=a.movie&&(null==a.library||""==a.library)&&(null==a.asset||""==a.asset))a.asset=a.movie;this._animations=new F.StringMap;this._queuedAnimations=[];this._currentAnimDef=null;this._lastFrame=-1;this._currentFrame=0;this._currentAnimation="";this._fps=24;this._animationStopped=!0;this._library="";this._loopComplete=!1;this._symbol="";this._workFrame=0;l.Element.call(this,a)};m["com.workinman.display.AnimatedElement"]=
l.AnimatedElement;l.AnimatedElement.__name__=["com","workinman","display","AnimatedElement"];l.AnimatedElement.__super__=l.Element;l.AnimatedElement.prototype=z(l.Element.prototype,{_onAnimationComplete:function(){},_setFrame:function(a){switch(this._format[1]){case 2:this._movieSprite.set_position(Math.floor(a)/this._frames*this._duration);break;default:this.setTextureAsset(this._currentAnimDef.get_frameIds()[Math.floor(a-1)])}},_runAnimation:function(a){if(""!=this._currentAnimation&&!0==this._doLoop()&&
!1==this._animationStopped&&(this._currentFrame=!1==this._currentAnimDef.get_reverse()?this._currentFrame+this._fps*a:this._currentFrame-this._fps*a,!1==this._currentAnimDef.get_reverse()?Math.floor(this._currentFrame)>this._currentAnimDef.get_end()&&(this._currentFrame=this._currentAnimDef.get_start()+(this._currentFrame-Math.floor(this._currentFrame)),this._loopComplete=!0):Math.ceil(this._currentFrame)<this._currentAnimDef.get_start()&&(this._currentFrame=this._currentAnimDef.get_end()+(this._currentFrame-
Math.ceil(this._currentFrame)),this._loopComplete=!0),!0==this._loopComplete&&(this._loopComplete=!1,this._currentLoop--,!1==this._doLoop()&&(this._animationStopped=!0,this._currentFrame=!1==this._currentAnimDef.get_reverse()?this._currentAnimDef.get_end():this._currentAnimDef.get_start(),0<this._queuedAnimations.length?(this._doAnimate(this._queuedAnimations[0].get_name(),this._queuedAnimations[0].get_loops(),this._queuedAnimations[0].get_force()),this._queuedAnimations[0].dispose(),this._queuedAnimations.splice(0,
1)):this._onAnimationComplete())),this._workFrame=!1==this._currentAnimDef.get_reverse()?Math.floor(this._currentFrame):Math.ceil(this._currentFrame),(this._format!=l.ELEMENT_FORMAT.MOVIE||null!=this._movieSprite)&&this._workFrame!=this._lastFrame))this._setFrame(this._workFrame),this._lastFrame=this._workFrame},_doLoop:function(){return 0<this._currentLoop||this._flagLoop},update:function(a){l.Element.prototype.update.call(this,a);this._runAnimation(a)},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.pop().dispose()},
queueAnimation:function(a,b,d){null==d&&(d=!1);null==b&&(b=0);this._queuedAnimations.push(l.QueuedAnimation.request(a,b,d));return this},hasAnimation:function(a){return this._animations.exists(a)},startAnimation:function(){this._animationStopped=!1},stopAnimation:function(){this._animationStopped=!0},setLoop:function(a){this._currentLoop=a;this._flagLoop=0==a;return this},_doAnimate:function(a,b,d){null==d&&(d=!1);null==b&&(b=0);this._currentAnimation==a&&!1==d||(null!=this._animations&&this._animations.exists(a)?
(this._currentAnimDef=null,this._currentAnimDef=this._animations.get(a),this._currentFrame=!1==this._currentAnimDef.get_reverse()?this._currentAnimDef.get_start():this._currentAnimDef.get_end(),this._currentAnimation=a,this.setLoop(b),this._animationStopped=!1,this._setFrame(this._currentFrame)):e.WorkinCloud.get_instance().log("[AnimatedElement](_doAnimate) Animation not found: "+a))},animate:function(a,b,d){null==d&&(d=!1);null==b&&(b=0);this.clearQueue();this._doAnimate(a,b,d);return this},addAnimationFrames:function(a,
b){this._animations.set(a,l.AnimationDef.request(a,-1,-1,b));return this},addAnimationFlump:function(a,b,d){this._animations.set(a,l.AnimationDef.request(a,b-1,d-1));return this},_buildAnimationsFromLayers:function(a,b){for(var d=function(a){return function(){return a.iterator()}}(this._animations)();d.hasNext();)d.next().dispose();e.WorkinUtils.emptyMap(this._animations);for(var d=null,c=0,f=a.layers;c<f.length;){var g=f[c];++c;if(null!=d)break;for(var h=0,i=g.keyframes;h<i.length;){var k=i[h];++h;
if(null!=k.label){d=g;break}}}b&&null;if(null!=d){c=0;for(f=d.keyframes;c<f.length;)k=f[c],++c,this.addAnimationFlump(k.label,k.index+1,k.index+k.duration),b&&null}else null},setLibraryAndSymbol:function(a,b,d){if(""==b)for(var c=e.WorkinCloud.get_instance().get_assets().getLibrary(a)._symbols.iterator();c.hasNext();){var f=c.next();A.__instanceof(f,I.MovieSymbol)&&0<A.__cast(f,I.MovieSymbol).frames&&(b=f.get_name(),d&&null)}if(a==this._library&&b==this._symbol)return this;this._library=a;this._symbol=
b;a=e.WorkinCloud.get_instance().get_assets().getLibrary(this._library)._symbols.get(this._symbol);this._buildAnimationsFromLayers(a,d);this._duration=a.duration;this._frames=a.frames;this.setImageSprite(a.createSprite());this._movieSprite=this._imageSprite;this._movieSprite.set_paused(!0);return this},setSymbol:function(a){return this.setLibraryAndSymbol(this._library,a,!1)},set_animationFrameRelative:function(a){this._currentFrame=this._currentAnimDef.get_start()+a;return this.get_animationFrameRelative()},
get_animationFrameRelative:function(){return this._currentFrame-this._currentAnimDef.get_start()|0},set_animationFrame:function(a){this._currentFrame=a;this._setFrame(this._currentFrame);this.stopAnimation();return this._currentFrame|0},get_animationFrame:function(){return this._currentFrame|0},set_animationRatio:function(a){this._newFrame=Math.floor(a*(this._currentAnimDef.get_end()-this._currentAnimDef.get_start())+this._currentAnimDef.get_start());this._newFrame!=this._currentFrame&&this.set_animationFrame(this._newFrame);
return this.get_animationRatio()},get_animationRatio:function(){return(this._currentFrame-this._currentAnimDef.get_start())/(this._currentAnimDef.get_end()-this._currentAnimDef.get_end())},set_fps:function(a){return this._fps=a},get_fps:function(){return this._fps},get_currentId:function(){return this._currentAnimation},get_currentAnimation:function(){return this._currentAnimation},_cleanOldFormat:function(a){switch(a[1]){case 2:this._movieSprite=null;break;default:l.Element.prototype._cleanOldFormat.call(this,
a)}},_determineFormat:function(a){A.__instanceof(a,I.MovieSprite)?this._setFormat(l.ELEMENT_FORMAT.MOVIE):l.Element.prototype._determineFormat.call(this,a)},renew:function(a){l.Element.prototype.renew.call(this,a);a.library&&this.setLibraryAndSymbol(a.library,null!=a.movie?a.movie:"",null!=a.trace?a.trace:!1);a.fps&&(this._fps=a.fps)},dispose:function(){if(!this.get_isPooled()){this._movieSprite=null;for(var a=function(a){return function(){return a.iterator()}}(this._animations)();a.hasNext();)a.next().dispose();
this._currentAnimDef=this._animations=null;this.clearQueue();this._queuedAnimations=null}l.Element.prototype.dispose.call(this)},__class__:l.AnimatedElement,__properties__:z(l.Element.prototype.__properties__,{get_currentAnimation:"get_currentAnimation",get_currentId:"get_currentId",set_fps:"set_fps",get_fps:"get_fps",set_animationRatio:"set_animationRatio",get_animationRatio:"get_animationRatio",set_animationFrame:"set_animationFrame",get_animationFrame:"get_animationFrame",set_animationFrameRelative:"set_animationFrameRelative",
get_animationFrameRelative:"get_animationFrameRelative"})});e={pooling:{}};e.pooling.IStrictPoolable=function(){};m["com.workinman.utils.pooling.IStrictPoolable"]=e.pooling.IStrictPoolable;e.pooling.IStrictPoolable.__name__=["com","workinman","utils","pooling","IStrictPoolable"];e.pooling.IStrictPoolable.prototype={__class__:e.pooling.IStrictPoolable};e.pooling.PoolStrictBase=function(){};m["com.workinman.utils.pooling.PoolStrictBase"]=e.pooling.PoolStrictBase;e.pooling.PoolStrictBase.__name__=["com",
"workinman","utils","pooling","PoolStrictBase"];e.pooling.PoolStrictBase.__interfaces__=[e.pooling.IStrictPoolable];e.pooling.PoolStrictBase.prototype={destroy:function(){this._returnFunction=null},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this.poolId(),this))},poolId:function(){throw"The poolId() must be redefined in each subclass";},poolActivate:function(){this._disposed=!1},build:function(a){this._returnFunction=a;this.poolActivate();return this},__class__:e.pooling.PoolStrictBase};
l.QueuedAnimation=function(){};m["com.workinman.display.QueuedAnimation"]=l.QueuedAnimation;l.QueuedAnimation.__name__=["com","workinman","display","QueuedAnimation"];l.QueuedAnimation.__interfaces__=[e.pooling.IStrictPoolable];l.QueuedAnimation.request=function(a,b,d){e.WorkinCloud.get_instance().get_pool().initPool("QueuedAnimation",l.QueuedAnimation);return e.WorkinCloud.get_instance().get_pool().requestObject("QueuedAnimation").init(a,b,d)};l.QueuedAnimation.__super__=e.pooling.PoolStrictBase;
l.QueuedAnimation.prototype=z(e.pooling.PoolStrictBase.prototype,{get_force:function(){return this._force},get_loops:function(){return this._loops},get_name:function(){return this._name},init:function(a,b,d){this._name=a;this._loops=b;this._force=d;return this},poolId:function(){return"QueuedAnimation"},__class__:l.QueuedAnimation,__properties__:{get_name:"get_name",get_loops:"get_loops",get_force:"get_force"}});l.AnimationDef=function(){};m["com.workinman.display.AnimationDef"]=l.AnimationDef;l.AnimationDef.__name__=
["com","workinman","display","AnimationDef"];l.AnimationDef.__interfaces__=[e.pooling.IStrictPoolable];l.AnimationDef.request=function(a,b,d,c){null==d&&(d=-1);null==b&&(b=-1);e.WorkinCloud.get_instance().get_pool().initPool("AnimationDef",l.AnimationDef);return e.WorkinCloud.get_instance().get_pool().requestObject("AnimationDef").init(a,b,d,c)};l.AnimationDef.__super__=e.pooling.PoolStrictBase;l.AnimationDef.prototype=z(e.pooling.PoolStrictBase.prototype,{get_frameIds:function(){return this._frameIds},
get_id:function(){return this._id},get_reverse:function(){return this._playReverse},get_end:function(){return this._endFrame},get_start:function(){return this._startFrame},destroy:function(){this._frameIds=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(;0<this._frameIds.length;)this._frameIds.pop();e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,d,c){null==d&&(d=-1);null==b&&(b=-1);this._id=a;this._playReverse=!1;if(null!=c){for(a=0;a<c.length;)b=
c[a],++a,this._frameIds.push(b);this._startFrame=1;this._endFrame=this._frameIds.length}else this._startFrame=b,this._endFrame=d,b>d&&(this._playReverse=!0,this._startFrame=d,this._endFrame=b);return this},build:function(a){this._frameIds=[];return e.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"AnimationDef"},__class__:l.AnimationDef,__properties__:{get_start:"get_start",get_end:"get_end",get_reverse:"get_reverse",get_id:"get_id",get_frameIds:"get_frameIds"}});l.DebugElement=
function(a){l.Element.call(this,a);this._fill=new o.FillSprite(0,960,0);this._fill.alpha.set__(0.5);this._rootEntity.addChild((new P).add(this._fill));this._text=this.addElement(new l.TextBase(0,0,"","",{pointerEnabled:!1,scale:0.2,width:960,originX:0,just:"left"}))};m["com.workinman.display.DebugElement"]=l.DebugElement;l.DebugElement.__name__=["com","workinman","display","DebugElement"];l.DebugElement.__super__=l.Element;l.DebugElement.prototype=z(l.Element.prototype,{addText:function(a){var b=
this._text;b.set_text(b.get_text()+(a+"/r/n"));this._text.updateTextDisplay();this._fill.height.set__(0.2*this._text.get_renderable().height)},__class__:l.DebugElement});l.ELEMENT_FORMAT=m["com.workinman.display.ELEMENT_FORMAT"]={__ename__:["com","workinman","display","ELEMENT_FORMAT"],__constructs__:["EMPTY","TEXTURE","MOVIE","TEXT"]};l.ELEMENT_FORMAT.EMPTY=["EMPTY",0];l.ELEMENT_FORMAT.EMPTY.toString=n;l.ELEMENT_FORMAT.EMPTY.__enum__=l.ELEMENT_FORMAT;l.ELEMENT_FORMAT.TEXTURE=["TEXTURE",1];l.ELEMENT_FORMAT.TEXTURE.toString=
n;l.ELEMENT_FORMAT.TEXTURE.__enum__=l.ELEMENT_FORMAT;l.ELEMENT_FORMAT.MOVIE=["MOVIE",2];l.ELEMENT_FORMAT.MOVIE.toString=n;l.ELEMENT_FORMAT.MOVIE.__enum__=l.ELEMENT_FORMAT;l.ELEMENT_FORMAT.TEXT=["TEXT",3];l.ELEMENT_FORMAT.TEXT.toString=n;l.ELEMENT_FORMAT.TEXT.__enum__=l.ELEMENT_FORMAT;l.ElementManager=function(a,b,d){this._timeline=a;this._layers=new F.StringMap;this._elements=[];this._camera=new g.WorkinCamera(b,d);this._zSortLayers=new F.StringMap};m["com.workinman.display.ElementManager"]=l.ElementManager;
l.ElementManager.__name__=["com","workinman","display","ElementManager"];l.ElementManager.prototype={renderElements:function(){for(var a=this._elements.length;0<a--;)this._elements[a].renderPosition(this._camera)},updateElements:function(a){for(var b=this._elements.length;0<b;)b--,this._elements[b].update(a),this._elements[b].get_doDelete()&&this.removeElementAtIndex(b)},removeElementAtIndex:function(a,b){null==b&&(b=!0);this._elements[a].get_root().parent.removeChild(this._elements[a].get_root());
var d=0;if(this._zSortLayers.exists(this._elements[a].get_layer()))for(d=this._zSortLayers.get(this._elements[a].get_layer()).length;0<d--;)this._zSortLayers.get(this._elements[a].get_layer())[d]==this._elements[a]&&this._zSortLayers.get(this._elements[a].get_layer()).splice(d,1);b&&(this._elements[a].set_doDelete(!0),this._elements[a].dispose());this._elements.splice(a,1)},addElement:function(a){if(!1==this._layers.exists(a.get_layer()))return e.WorkinCloud.get_instance().log("[ElementManager](addElement) Trying to add element to non-existant layer '"+
a.get_layer()+"'!"),a;for(var b=0;b<this._elements.length;){if(this._elements[b].get_uniqueId()==a.get_uniqueId())return this._layers.get(a.get_layer()).addChild(a.get_root()),a;b++}this._elements.push(a);this._layers.get(a.get_layer()).addChild(a.get_root());this._zSortLayers.exists(a.get_layer())&&this._zSortLayers.get(a.get_layer()).push(a);return a},addLayer:function(a,b){null==b&&(b=!1);if(this._layers.exists(a))this._timeline.removeChild(this._layers.get(a)),this._timeline.addChild(this._layers.get(a));
else{var d=new P;this._timeline.addChild(d);this._layers.set(a,d);b&&this._zSortLayers.set(a,[])}},dispose:function(){for(;0<this._elements.length;)this.removeElementAtIndex(this._elements.length-1);this._elements=null;this._camera.dispose();this._camera=null;for(var a=function(a){return function(){return a.iterator()}}(this._layers)();a.hasNext();)a.next().dispose();this._timeline=this._layers=null},__class__:l.ElementManager};l.Renderable=function(){};m["com.workinman.display.Renderable"]=l.Renderable;
l.Renderable.__name__=["com","workinman","display","Renderable"];l.Renderable.__interfaces__=[e.pooling.IStrictPoolable];l.Renderable.request=function(a,b){null==b&&(b=1);null==a&&(a=1);e.WorkinCloud.get_instance().get_pool().initPool("Renderable",l.Renderable);return e.WorkinCloud.get_instance().get_pool().requestObject("Renderable").init(a,b)};l.Renderable.__super__=e.pooling.PoolStrictBase;l.Renderable.prototype=z(e.pooling.PoolStrictBase.prototype,{init:function(a,b){this.rotation=this.z=this.y=
this.x=0;this.scaleY=this.scaleX=1;this.width=a;this.height=b;this.alpha=1;this.visible=!0;return this},poolId:function(){return"Renderable"},__class__:l.Renderable});l.TEXT_JUSTIFICATION=m["com.workinman.display.TEXT_JUSTIFICATION"]={__ename__:["com","workinman","display","TEXT_JUSTIFICATION"],__constructs__:["JUST_LEFT","JUST_RIGHT","JUST_CENTER"]};l.TEXT_JUSTIFICATION.JUST_LEFT=["JUST_LEFT",0];l.TEXT_JUSTIFICATION.JUST_LEFT.toString=n;l.TEXT_JUSTIFICATION.JUST_LEFT.__enum__=l.TEXT_JUSTIFICATION;
l.TEXT_JUSTIFICATION.JUST_RIGHT=["JUST_RIGHT",1];l.TEXT_JUSTIFICATION.JUST_RIGHT.toString=n;l.TEXT_JUSTIFICATION.JUST_RIGHT.__enum__=l.TEXT_JUSTIFICATION;l.TEXT_JUSTIFICATION.JUST_CENTER=["JUST_CENTER",2];l.TEXT_JUSTIFICATION.JUST_CENTER.toString=n;l.TEXT_JUSTIFICATION.JUST_CENTER.__enum__=l.TEXT_JUSTIFICATION;l.TextBase=function(a,b,d,c,f){null==c&&(c="");null==f&&(f={});f.x=a;f.y=b;l.Element.call(this,f);""==c&&(c=C.ConstantsCloud.FONT_DEFAULT);this._textString=d;this._fontName=c;this._spacing=
null!=f.spacing?f.spacing:0;this._width=null!=f.width?f.width:Math.POSITIVE_INFINITY;"left"==f.just?(this._just=l.TEXT_JUSTIFICATION.JUST_LEFT,this.setOrigin(0,this._originY)):"right"==f.just?(this._just=l.TEXT_JUSTIFICATION.JUST_RIGHT,this.setOrigin(1,this._originY)):(this._just=l.TEXT_JUSTIFICATION.JUST_CENTER,this.setOrigin(0.5,this._originY));this._textDisplay=[];null==e.WorkinCloud.get_instance().get_assets().getFont(this._fontName)&&(this._fontName=C.ConstantsCloud.FONT_DEFAULT);this._textDisplay.push(new o.TextSprite(e.WorkinCloud.get_instance().get_assets().getFont(this._fontName),
""));this.setImageSprite(this._textDisplay[0]);this._textDisplay[0].set_pointerEnabled(!1);this.renderPosition();this._renderTextToDisplay()};m["com.workinman.display.TextBase"]=l.TextBase;l.TextBase.__name__=["com","workinman","display","TextBase"];l.TextBase.__super__=l.Element;l.TextBase.prototype=z(l.Element.prototype,{updateTextDisplay:function(){this._updateTextDisplay(this._textString)},_cleanUp:function(){if(null!=this._textDisplay)for(;1<this._textDisplay.length;)this._textDisplay.pop().dispose()},
_renderTextToDisplay:function(){this._textDisplay[0].set_text(this._textString);1==this._textDisplay.length&&(this._render.width=this._textDisplay[0].getNaturalWidth(),this._render.height=this._textDisplay[0].getNaturalHeight());this.setOrigin(this._originX,this._originY)},_renderFontToDisplay:function(){for(var a=0,b=this._textDisplay;a<b.length;){var d=b[a];++a;d.set_font(e.WorkinCloud.get_instance().get_assets().getFont(this._fontName))}},set_text:function(a){this._textString=a;this._renderTextToDisplay();
return this._textString},get_text:function(){return this._textString},set_font:function(a){if(""==a)return"";this._fontName=a;this._renderFontToDisplay();return this._fontName},set_width:function(a){this._width=a;this._renderTextToDisplay();return this._width},get_spacing:function(){return this._spacing},get_just:function(){return this._just},get_textDisplay:function(){return this._textDisplay},_updateTextDisplay:function(a,b){null==b&&(b=1);this._cleanUp();if(""==a)this._textDisplay[0].set_text(a);
else{for(var a=Q.replace(a,"<br>","\\r\\n"),d=[],c=this._textDisplay[0]._font.getGlyphs(a),f=0,g=0,h=0,i=0;g<c.length;){var k=c[g];g++;if(g==c.length)f+=k.width*b;else if(f+=k.xAdvance*b+k.getKerning(c[g].charCode)*b,g<c.length-1&&(92==c[g-1].charCode||47==c[g-1].charCode)&&114==c[g].charCode&&(92==c[g+1].charCode||47==c[g+1].charCode)&&110==c[g+2].charCode)f=g-1,d.push(a.substring(h,f)),h=f+4,f=0;f*this._render.scaleX>=this._width&&(k=!0,f=a.lastIndexOf(" ",g),-1==f?(k=!1,f=g-1):f==g&&i+1!=h?f=i+
1:f<h?(f=a.lastIndexOf("-",g),-1==f?(k=!1,f=g-1):f++):f==i&&g>f?(f+=1,f==h&&(f=g-1)):f==i&&(f=a.lastIndexOf(" ",i-1)+1),d.push(a.substring(h,f)+(k?"":"-")),g=h=f,f=0);g==c.length?d.push(a.substring(h,g)):32==c[g].charCode&&(i=g)}this._textDisplay[0].set_text(d.shift());this._render.width=this._textDisplay[0].getNaturalWidth();this._render.height=0;c=this._textDisplay[0].getNaturalWidth();for(g=0;g<d.length;)h=d[g],++g,this._textDisplay.push(new o.TextSprite(e.WorkinCloud.get_instance().get_assets().getFont(this._fontName),
h)),this.addTextDisplay(this._textDisplay[this._textDisplay.length-1]),c=Math.max(c,this._textDisplay[this._textDisplay.length-1].getNaturalWidth());this._render.height+=this._textDisplay[0].getNaturalHeight();this._imageSprite.x.set__(-(this._originX*this._textDisplay[0].getNaturalWidth())-this._textDisplay[0].getLayout().bounds.x);this._imageSprite.y.set__(-(this._originY*this._render.height)+this._textDisplay[0].getLayout().bounds.y)}},addTextDisplay:function(a){switch(this._just[1]){case 2:a.x.set__((this._textDisplay[0].getNaturalWidth()-
a.getNaturalWidth())/2);break;case 1:a.x.set__(this._textDisplay[0].getNaturalWidth()-a.getNaturalWidth())}a.y.set__(this._render.height+a.getNaturalHeight()+this._spacing);this._render.height+=a.getNaturalHeight()+this._spacing;this._render.width=Math.max(this._render.width,a.getNaturalWidth());this._imageEntity.addChild((new P).add(a))},_cleanOldFormat:function(a){switch(a[1]){case 3:break;default:l.Element.prototype._cleanOldFormat.call(this,a)}},_determineFormat:function(a){A.__instanceof(a,o.TextSprite)?
this._setFormat(l.ELEMENT_FORMAT.TEXT):l.Element.prototype._determineFormat.call(this,a)},dispose:function(){this._cleanUp();this._just=this._textDisplay=null;l.Element.prototype.dispose.call(this)},__class__:l.TextBase});l.TextLocalized=function(a,b,d,c,e){null==c&&(c="");this._flagLocalize=null!=e&&!1==e.doLocalize?!1:!0;l.TextBase.call(this,a,b,d,c,e)};m["com.workinman.display.TextLocalized"]=l.TextLocalized;l.TextLocalized.__name__=["com","workinman","display","TextLocalized"];l.TextLocalized.__super__=
l.TextBase;l.TextLocalized.prototype=z(l.TextBase.prototype,{_renderTextToDisplay:function(){if(!this._flagLocalize||!e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_LOCALIZE))l.TextBase.prototype._renderTextToDisplay.call(this),this.updateTextDisplay();else{var a=e.WorkinCloud.get_instance().get_localize().getLocalizeData(this._textString);this._offsetX=a.get_offsetX();this._offsetY=a.get_offsetY();this._render.scaleX=a.get_scale();this._render.scaleY=a.get_scale();a.get_fontName()!=this._fontName&&
this.set_font(a.get_fontName());this._updateTextDisplay(a.get_string());a.dispose();this.renderPosition()}},__class__:l.TextLocalized});p={WMEvent:function(){}};m["com.workinman.events.WMEvent"]=p.WMEvent;p.WMEvent.__name__=["com","workinman","events","WMEvent"];p.WMEvent.__interfaces__=[e.pooling.IStrictPoolable];p.WMEvent.request=function(a){e.WorkinCloud.get_instance().get_pool().initPool("WMEvent",p.WMEvent);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEvent").init(a)};p.WMEvent.__super__=
e.pooling.PoolStrictBase;p.WMEvent.prototype=z(e.pooling.PoolStrictBase.prototype,{get_eventId:function(){return this._eventId},init:function(a){this._eventId=a;return this},poolId:function(){return"WMEvent"},__class__:p.WMEvent,__properties__:{get_eventId:"get_eventId"}});p.WMEventData=function(){};m["com.workinman.events.WMEventData"]=p.WMEventData;p.WMEventData.__name__=["com","workinman","events","WMEventData"];p.WMEventData.__interfaces__=[e.pooling.IStrictPoolable];p.WMEventData.request=function(a,
b){e.WorkinCloud.get_instance().get_pool().initPool("WMEventData",p.WMEventData);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventData").initWithData(a,b)};p.WMEventData.__super__=p.WMEvent;p.WMEventData.prototype=z(p.WMEvent.prototype,{get_data:function(){return this._data},initWithData:function(a,b){p.WMEvent.prototype.init.call(this,a);this._data=b;return this},dispose:function(){this._data=null;p.WMEvent.prototype.dispose.call(this)},poolId:function(){return"WMEventData"},
__class__:p.WMEventData,__properties__:z(p.WMEvent.prototype.__properties__,{get_data:"get_data"})});p.WMEventDispatcher=function(){};m["com.workinman.events.WMEventDispatcher"]=p.WMEventDispatcher;p.WMEventDispatcher.__name__=["com","workinman","events","WMEventDispatcher"];p.WMEventDispatcher.__interfaces__=[e.pooling.IStrictPoolable];p.WMEventDispatcher.request=function(){e.WorkinCloud.get_instance().get_pool().initPool("WMEventDispatcher",p.WMEventDispatcher);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventDispatcher")};
p.WMEventDispatcher.__super__=e.pooling.PoolStrictBase;p.WMEventDispatcher.prototype=z(e.pooling.PoolStrictBase.prototype,{dispatchEvent:function(a){this._eventTrackers.exists(a.get_eventId())&&this._eventTrackers.get(a.get_eventId()).dispatchEvent(a);a.dispose()},removeEventListener:function(a,b){this._eventTrackers.exists(a)&&(this._eventTrackers.get(a).removeEventListener(b),this._eventTrackers.get(a).isEmtpy()&&(this._eventTrackers.get(a).dispose(),this._eventTrackers.remove(a)))},addEventListener:function(a,
b){this._eventTrackers.exists(a)||this._eventTrackers.set(a,p._WMEventDispatcher.WMEventTracker.request());this._eventTrackers.get(a).addEventListener(b)},destroy:function(){this._eventTrackers=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(var a=function(a){return function(){return a.iterator()}}(this._eventTrackers)();a.hasNext();)a.next().dispose();e.WorkinUtils.emptyMap(this._eventTrackers);e.pooling.PoolStrictBase.prototype.dispose.call(this)},poolId:function(){return"WMEventDispatcher"},
build:function(a){this._eventTrackers=new F.StringMap;return e.pooling.PoolStrictBase.prototype.build.call(this,a)},__class__:p.WMEventDispatcher});p._WMEventDispatcher={};p._WMEventDispatcher.WMEventTracker=function(){};m["com.workinman.events._WMEventDispatcher.WMEventTracker"]=p._WMEventDispatcher.WMEventTracker;p._WMEventDispatcher.WMEventTracker.__name__=["com","workinman","events","_WMEventDispatcher","WMEventTracker"];p._WMEventDispatcher.WMEventTracker.__interfaces__=[e.pooling.IStrictPoolable];
p._WMEventDispatcher.WMEventTracker.request=function(){e.WorkinCloud.get_instance().get_pool().initPool("WMEventTracker",p._WMEventDispatcher.WMEventTracker);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventTracker")};p._WMEventDispatcher.WMEventTracker.__super__=e.pooling.PoolStrictBase;p._WMEventDispatcher.WMEventTracker.prototype=z(e.pooling.PoolStrictBase.prototype,{isEmtpy:function(){return null==this._signal._head},dispatchEvent:function(a){this._signal.emit1(a)},removeEventListener:function(a){for(var b=
this._signalTrackers.length;0<b--;)v.compareMethods(this._signalTrackers[b].get_listener(),a)&&(this._signalTrackers[b].dispose(),this._signalTrackers.splice(b,1))},addEventListener:function(a){this._signalTrackers.push(p._WMEventDispatcher.SignalTracker.request(a,this._signal.connect(a)))},destroy:function(){this._signal=this._signalTrackers=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(;0<this._signalTrackers.length;)this._signalTrackers.pop().dispose();e.pooling.PoolStrictBase.prototype.dispose.call(this)},
build:function(a){this._signalTrackers=[];this._signal=new r.Signal1;return e.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WMEventTracker"},__class__:p._WMEventDispatcher.WMEventTracker});p._WMEventDispatcher.SignalTracker=function(){};m["com.workinman.events._WMEventDispatcher.SignalTracker"]=p._WMEventDispatcher.SignalTracker;p._WMEventDispatcher.SignalTracker.__name__=["com","workinman","events","_WMEventDispatcher","SignalTracker"];p._WMEventDispatcher.SignalTracker.__interfaces__=
[e.pooling.IStrictPoolable];p._WMEventDispatcher.SignalTracker.request=function(a,b){e.WorkinCloud.get_instance().get_pool().initPool("SignalTracker",p._WMEventDispatcher.SignalTracker);return e.WorkinCloud.get_instance().get_pool().requestObject("SignalTracker").init(a,b)};p._WMEventDispatcher.SignalTracker.__super__=e.pooling.PoolStrictBase;p._WMEventDispatcher.SignalTracker.prototype=z(e.pooling.PoolStrictBase.prototype,{get_listener:function(){return this._function},dispose:function(){this._connection.dispose();
this._function=this._connection=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b){this._function=a;this._connection=b;return this},poolId:function(){return"SignalTracker"},__class__:p._WMEventDispatcher.SignalTracker,__properties__:{get_listener:"get_listener"}});p.WMEventFlow=function(){};m["com.workinman.events.WMEventFlow"]=p.WMEventFlow;p.WMEventFlow.__name__=["com","workinman","events","WMEventFlow"];p.WMEventFlow.__interfaces__=[e.pooling.IStrictPoolable];p.WMEventFlow.request=
function(a,b){null==b&&(b=!1);e.WorkinCloud.get_instance().get_pool().initPool("WMEventFlow",p.WMEventFlow);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventFlow").initWithFlow(a,b)};p.WMEventFlow.__super__=p.WMEvent;p.WMEventFlow.prototype=z(p.WMEvent.prototype,{initWithFlow:function(a,b){p.WMEvent.prototype.init.call(this,p.WMEventFlow.EVENT_FLOW);this.flowId=a;this.targetScreen=b;return this},poolId:function(){return"WMEventFlow"},__class__:p.WMEventFlow});p.WMEventHash=function(){};
m["com.workinman.events.WMEventHash"]=p.WMEventHash;p.WMEventHash.__name__=["com","workinman","events","WMEventHash"];p.WMEventHash.__interfaces__=[e.pooling.IStrictPoolable];p.WMEventHash.request=function(a,b){e.WorkinCloud.get_instance().get_pool().initPool("WMEventHash",p.WMEventHash);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventHash").initWithHash(a,b)};p.WMEventHash.requestWithKeysAndValues=function(a,b){return p.WMEventHash.request(a,e.WorkinUtils.mapWithKeysAndValues(b))};
p.WMEventHash.__super__=p.WMEvent;p.WMEventHash.prototype=z(p.WMEvent.prototype,{initWithHash:function(a,b){p.WMEvent.prototype.init.call(this,a);for(var d=b.keys();d.hasNext();){var c=d.next(),e=b.get(c);this.hash.set(c,e)}return this},destroy:function(){this.hash=null;p.WMEvent.prototype.destroy.call(this)},dispose:function(){e.WorkinUtils.emptyMap(this.hash);p.WMEvent.prototype.dispose.call(this)},poolId:function(){return"WMEventHash"},build:function(a){this.hash=new F.StringMap;return p.WMEvent.prototype.build.call(this,
a)},__class__:p.WMEventHash});p.WMEventInput=function(){};m["com.workinman.events.WMEventInput"]=p.WMEventInput;p.WMEventInput.__name__=["com","workinman","events","WMEventInput"];p.WMEventInput.__interfaces__=[e.pooling.IStrictPoolable];p.WMEventInput.request=function(a,b,d,c,f){e.WorkinCloud.get_instance().get_pool().initPool("WMEventInput",p.WMEventInput);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventInput").initWithInput(a,b,d,c,f)};p.WMEventInput.__super__=p.WMEvent;p.WMEventInput.prototype=
z(p.WMEvent.prototype,{poolId:function(){return"WMEventInput"},initWithInput:function(a,b,d,c,f){p.WMEvent.prototype.init.call(this,p.WMEventInput.EVENT_INPUT);this.phase=a;this.input=b;this.x=d;this.y=c;this.swipe=f;null==this.swipe&&(this.swipe=e.SWIPE.SWIPE_NONE);return this},__class__:p.WMEventInput});p.WMEventUpdate=function(){};m["com.workinman.events.WMEventUpdate"]=p.WMEventUpdate;p.WMEventUpdate.__name__=["com","workinman","events","WMEventUpdate"];p.WMEventUpdate.__interfaces__=[e.pooling.IStrictPoolable];
p.WMEventUpdate.request=function(a){e.WorkinCloud.get_instance().get_pool().initPool("WMEventUpdate",p.WMEventUpdate);return e.WorkinCloud.get_instance().get_pool().requestObject("WMEventUpdate").initWithUpdate(a)};p.WMEventUpdate.__super__=p.WMEvent;p.WMEventUpdate.prototype=z(p.WMEvent.prototype,{get_dt:function(){return this._dt},poolId:function(){return"WMEventUpdate"},initWithUpdate:function(a){p.WMEvent.prototype.init.call(this,p.WMEventUpdate.EVENT_UPDATE);this._dt=a;return this},__class__:p.WMEventUpdate,
__properties__:z(p.WMEvent.prototype.__properties__,{get_dt:"get_dt"})});g={};g.InterceptResult=function(a,b){this._success=a;this._result=g.WorkinPoint.request();this._line1=g.WorkinLine.request();this._line2=g.WorkinLine.request();null!=b&&this._result.toPoint(b)};m["com.workinman.math.InterceptResult"]=g.InterceptResult;g.InterceptResult.__name__=["com","workinman","math","InterceptResult"];g.InterceptResult.prototype={set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);
return this._result},set_success:function(a){return this._success=a},__class__:g.InterceptResult};g.Side=m["com.workinman.math.Side"]={__ename__:["com","workinman","math","Side"],__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};g.Side.TOP=["TOP",0];g.Side.TOP.toString=n;g.Side.TOP.__enum__=g.Side;g.Side.RIGHT=["RIGHT",1];g.Side.RIGHT.toString=n;g.Side.RIGHT.__enum__=g.Side;g.Side.BOTTOM=["BOTTOM",2];g.Side.BOTTOM.toString=n;g.Side.BOTTOM.__enum__=g.Side;g.Side.LEFT=["LEFT",3];g.Side.LEFT.toString=
n;g.Side.LEFT.__enum__=g.Side;g.WMRectangle=function(){};m["com.workinman.math.WMRectangle"]=g.WMRectangle;g.WMRectangle.__name__=["com","workinman","math","WMRectangle"];g.WMRectangle.__interfaces__=[e.pooling.IStrictPoolable];g.WMRectangle.request=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);e.WorkinCloud.get_instance().get_pool().initPool("WMRectangle",g.WMRectangle);return e.WorkinCloud.get_instance().get_pool().requestObject("WMRectangle").init(a,b,d,c)};g.WMRectangle.fromRectangle=
function(a){return g.WMRectangle.request(a.x,a.y,a.width,a.height)};g.WMRectangle.__super__=e.pooling.PoolStrictBase;g.WMRectangle.prototype=z(e.pooling.PoolStrictBase.prototype,{toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+this._width+" height: "+this._height+" }"},sideLineIntercept:function(a,b,d){null==this._workLine?(this._setSideLine(b),null):this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,d)},_setSideLine:function(a){this._getWorkLine();
switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),this.get_top(),this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_left(),this.get_bottom())}},intersection:function(a){var b=g.WMRectangle.request();if(this.intersects(a)){b.set_x(this.get_left()>
a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var d=this.get_right()<a.get_right()?this.get_right():a.get_right(),a=this.get_bottom()<a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(d-b.get_x());b.set_height(a-b.get_y())}return b},intersects:function(a){return this.get_left()<a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()&&this.get_bottom()>a.get_top()},containsPoint:function(a){return this.contains(a.x,
a.y)},toXYWH:function(a,b,d,c){this.toXY(a,b);this.toWH(d,c)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXY:function(a,b){this.set_x(a);this.set_y(b)},contains:function(a,b){return a<this.get_left()||a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},copy:function(){return g.WMRectangle.request(this._x,this._y,this._width,this._height)},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},get_centerY:function(){return this._y+this._height/2},set_centerX:function(a){this._x=
a-this._width/2;return this.get_centerX()},get_centerX:function(){return this._x+this._width/2},set_right:function(a){this._x=a-this._width;return this.get_right()},get_right:function(){return this._x+this._width},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},get_bottom:function(){return this._y+this._height},set_height:function(a){return this._height=a},get_height:function(){return this._height},set_width:function(a){return this._width=a},get_width:function(){return this._width},
set_left:function(a){return this._x=a},get_left:function(){return this._x},set_top:function(a){return this._y=a},get_top:function(){return this._y},set_y:function(a){return this._y=a},get_y:function(){return this._y},set_x:function(a){return this._x=a},get_x:function(){return this._x},_getWorkLine:function(){null==this._workLine&&(this._workLine=g.WorkinLine.request());return this._workLine},dispose:function(){null!=this._workLine&&this._workLine.dispose();this._workLine=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},
init:function(a,b,d,c){this._x=a;this._y=b;this._width=d;this._height=c;return this},build:function(a){this._workLine=null;return e.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WMRectangle"},__class__:g.WMRectangle,__properties__:{set_x:"set_x",get_x:"get_x",set_y:"set_y",get_y:"get_y",set_top:"set_top",get_top:"get_top",set_left:"set_left",get_left:"get_left",set_width:"set_width",get_width:"get_width",set_height:"set_height",get_height:"get_height",set_bottom:"set_bottom",
get_bottom:"get_bottom",set_right:"set_right",get_right:"get_right",set_centerX:"set_centerX",get_centerX:"get_centerX",set_centerY:"set_centerY",get_centerY:"get_centerY"}});g.WorkinCamera=function(a,b){this._screenCenterX=this._worldCenterX=a;this._screenCenterY=this._worldCenterY=b;this._focalLength=300;this._pos=g.WorkinPoint.request(a,b)};m["com.workinman.math.WorkinCamera"]=g.WorkinCamera;g.WorkinCamera.__name__=["com","workinman","math","WorkinCamera"];g.WorkinCamera.prototype={get_screenCenterY:function(){return this._screenCenterY},
get_screenCenterX:function(){return this._screenCenterX},get_pos:function(){return this._pos},dispose:function(){this._pos.dispose();this._pos=null},__class__:g.WorkinCamera};g.WorkinLine=function(){};m["com.workinman.math.WorkinLine"]=g.WorkinLine;g.WorkinLine.__name__=["com","workinman","math","WorkinLine"];g.WorkinLine.__interfaces__=[e.pooling.IStrictPoolable];g.WorkinLine.request=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);e.WorkinCloud.get_instance().get_pool().initPool("WorkinLine",
g.WorkinLine);return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinLine").init(a,b,d,c)};g.WorkinLine.__super__=e.pooling.PoolStrictBase;g.WorkinLine.prototype=z(e.pooling.PoolStrictBase.prototype,{toString:function(){return"[WorkinLine] ("+this._p0.x+", "+this._p0.y+", "+this._p0.z+") ~> ("+this._p1.x+", "+this._p1.y+", "+this._p1.z+") / Len: "+this._length},testPointSegmentIntercept:function(a,b){null==b&&(b=!1);this._xSegmentResult=0==this._parametricDenom.x?0:(a.x-this.get_p0().x)/
this._parametricDenom.x;this._ySegmentResult=0==this._parametricDenom.y?0:(a.y-this.get_p0().y)/this._parametricDenom.y;b&&null;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},testLineSegmentIntercept:function(a,b,d){var c=-a.get_vector().x*this._vector.y+this._vector.x*a.get_vector().y,e=this.get_p0().x-a.get_p0().x,f=this.get_p0().y-a.get_p0().y,b=(-this._vector.y*e+this._vector.x*f)/c,a=(a.get_vector().x*f-a.get_vector().y*e)/c;null==
d&&(d=new g.InterceptResult(!1));d.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(d.set_success(!0),a=g.WorkinPoint.request(this.get_p0().x+a*this._vector.x,this.get_p0().y+a*this._vector.y),d.set_result(a),a.dispose());return d},testLineIntercept:function(a,b){null==b&&(b=new g.InterceptResult(!1));this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var d=g.WorkinPoint.request((-1*a.get_yIntercept()- -1*this._yIntercept)*this._inverseDeterminate,(a.get_slope()*this._yIntercept-
this.get_slope()*a.get_yIntercept())*this._inverseDeterminate,0);b.set_result(d);d.dispose();return b},projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return g.WorkinLine.request().to(a.get_p0(),a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*a.get_length()-b*b))))},testLineDot:function(a){return this._vector.dot(a.get_normal())},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-this._p1.x)*(this._p0.x-
this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._slope=this._vector.y/this._vector.x;0==this.get_vector().x&&(this._slope=1E5);this._yIntercept=this.get_p0().y-this._slope*this.get_p0().x;this._parametricDenom.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._vector.pseudoCross(this._normal);this._normal.normalize()},shiftEnd:function(a){this.set_length(this.get_length()+
a)},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);b.dispose();this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},rotate:function(a){this._vector.rotate(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},endTo:function(a,b,d){null==d&&(d=0);this._p1.to(a,b,d);
this._calcProperties()},originToPoint:function(a){this._p0.toPoint(a);this._calcProperties()},originTo:function(a,b,d){null==d&&(d=0);this._p0.to(a,b,d);this._calcProperties();return this},toFloats:function(a,b,d,c){this._p0.to(a,b);this._p1.to(d,c);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());this._p1.toPoint(a.get_p1());this._calcProperties();return this},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties();return this},copy:function(){return g.WorkinLine.request().to(this._p0,
this._p1)},clean:function(){this._p0.clean();this._p1.clean();this._calcProperties()},flip:function(){var a=this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},equals:function(a){return a.get_p0().equals(this.get_p0())&&a.get_p1().equals(this.get_p1())},getNewPoint:function(a){return g.WorkinPoint.request(this.get_p0().x+this._vector.x*a,this.get_p0().y+this._vector.y*a)},recalculate:function(){this._calcProperties()},set_length:function(a){if(0==this.get_length())return this._length;
this._p1.to(this._p0.x+this._vector.x*(a/this.get_length()),this._p0.y+this._vector.y*(a/this.get_length()));this._calcProperties();return this._length},get_length:function(){return this._length},get_parametricDenom:function(){return this._parametricDenom},get_centerY:function(){return this._p0.y+this._vector.y/2},get_centerX:function(){return this._p0.x+this._vector.x/2},get_center:function(){return g.WorkinPoint.request(this._p0.x+this._vector.x/2,this._p0.y+this._vector.y/2)},get_vector:function(){return this._vector},
get_normal:function(){return this._normal},get_yIntercept:function(){return this._yIntercept},get_slope:function(){return this._slope},get_p1:function(){return this._p1},get_p0:function(){return this._p0},dispose:function(){this._p0.dispose();this._p0=null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;this._vector.dispose();this._vector=null;this._parametricDenom.dispose();this._parametricDenom=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,
b,d,c){this._p0=g.WorkinPoint.request();this._p1=g.WorkinPoint.request();this._normal=g.WorkinPoint.request();this._vector=g.WorkinPoint.request();this._parametricDenom=g.WorkinPoint.request();this.toFloats(a,b,d,c);this._calcProperties();return this},build:function(a){return e.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WorkinLine"},__class__:g.WorkinLine,__properties__:{get_p0:"get_p0",get_p1:"get_p1",get_slope:"get_slope",get_yIntercept:"get_yIntercept",get_normal:"get_normal",
get_vector:"get_vector",get_center:"get_center",get_centerX:"get_centerX",get_centerY:"get_centerY",get_parametricDenom:"get_parametricDenom",set_length:"set_length",get_length:"get_length"}});g.WorkinPoint=function(){};m["com.workinman.math.WorkinPoint"]=g.WorkinPoint;g.WorkinPoint.__name__=["com","workinman","math","WorkinPoint"];g.WorkinPoint.__interfaces__=[e.pooling.IStrictPoolable];g.WorkinPoint.request=function(a,b,d){null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);e.WorkinCloud.get_instance().get_pool().initPool("WorkinPoint",
g.WorkinPoint);return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinPoint").init(a,b,d)};g.WorkinPoint.__super__=e.pooling.PoolStrictBase;g.WorkinPoint.prototype=z(e.pooling.PoolStrictBase.prototype,{dot:function(a){return this.x*a.x+this.y*a.y},toString:function(){return"{ WorkinPoint : "+this.x+" , "+this.y+" , "+this.z+" , len: "+this._length+"  }"},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.x*a.x+a.y*a.y);a.dispose();return b},rotateCopy:function(a){var b=
Math.cos(a*Math.PI/180),a=Math.sin(a*Math.PI/180);return g.WorkinPoint.request(this.x*b-this.y*a,this.x*a-this.y*b)},getAngleBetween:function(a){return 0==a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.x*this.x+a.y*this.y)/(a.get_length()*this.get_length()))},rotateTo:function(a){this.rotate(a-this.get_angle())},rotate:function(a){a*=Math.PI/180;this._workFloat=this.x*Math.cos(a)-this.y*Math.sin(a);this.y=this.y*Math.cos(a)+this.x*Math.sin(a);this.x=this._workFloat},calculateLength:function(){this._length=
Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},pseudoCross:function(a){a.to(this.y,-this.x,this.z)},normalizeCopyTo:function(a){if(0==this._length)return g.WorkinPoint.request(0,0,0);this._workFloat=a/this._length;return g.WorkinPoint.request(this.x*this._workFloat,this.y*this._workFloat,this.z*this._workFloat)},normalizeCopy:function(){return 0==this._length?g.WorkinPoint.request(0,0,0):g.WorkinPoint.request(this.x/this._length,this.y/this._length,this.z/this._length)},normalizeTo:function(a){this.set_length(a)},
normalize:function(){0!=this._length&&(this.x/=this._length,this.y/=this._length,this.z/=this._length,this.calculateLength())},reverseCopy:function(){return g.WorkinPoint.request(-1*this.x,-1*this.y,-1*this.z)},set_length:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},get_length:function(){return this._length},equals:function(a){return this.x==a.x&&this.y==a.y&&this.z==a.z},copyAndResize:function(a){return 0==a?g.WorkinPoint.request(0,
0):this.multiplyCopy(a/this._length)},copy:function(){return g.WorkinPoint.request(this.x,this.y,this.z)},reverse:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z},divideCopy:function(a){return g.WorkinPoint.request(this.x/a,this.y/a,this.z/a)},divide:function(a){this.x/=a;this.y/=a;this.z/=a;this.clean();this.calculateLength()},multiplyCopy:function(a){return g.WorkinPoint.request(this.x*a,this.y*a,this.z*a)},multiply:function(a){this.x*=a;this.y*=a;this.z*=a;this.clean();this.calculateLength()},
subtractPointCopy:function(a){return g.WorkinPoint.request(this.x-a.x,this.y-a.y,this.z-a.z)},subtractCopy:function(a,b,d){null==d&&(d=0);return g.WorkinPoint.request(this.x-a,this.y-b,this.z-d)},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength()},subtract:function(a,b,d){null==d&&(d=0);this.x-=a;this.y-=b;this.z-=d;this.calculateLength()},addPointCopy:function(a){return g.WorkinPoint.request(this.x+a.x,this.y+a.y,this.z+a.z)},addCopy:function(a,b,d){null==d&&(d=
0);return g.WorkinPoint.request(this.x+a,this.y+b,this.z+d)},addPoint:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.calculateLength()},add:function(a,b,d){null==d&&(d=0);this.x+=a;this.y+=b;this.z+=d;this.calculateLength()},toPoint:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.calculateLength()},to:function(a,b,d){null==d&&(d=0);this.x=a;this.y=b;this.z=d;this.calculateLength();return this},clean:function(){this.x=Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*
this.z)/1E3},get_angle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},init:function(a,b,d){return this.to(a,b,d)},poolId:function(){return"WorkinPoint"},__class__:g.WorkinPoint,__properties__:{get_angle:"get_angle",set_length:"set_length",get_length:"get_length",get_normalizedMagnitude:"get_normalizedMagnitude"}});g.tween={};g.tween.PennerEasing=function(){};m["com.workinman.math.tween.PennerEasing"]=g.tween.PennerEasing;g.tween.PennerEasing.__name__=["com","workinman","math","tween","PennerEasing"];
g.tween.PennerEasing.easeInQuad=function(a,b,d,c){return d*(a/=c)*a+b};g.tween.PennerEasing.easeOutQuad=function(a,b,d,c){return-d*(a/=c)*(a-2)+b};g.tween.PennerEasing.easeInOutQuad=function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a+b:-d/2*(--a*(a-2)-1)+b};g.tween.PennerEasing.easeInExpo=function(a,b,d,c){return 0==a?b:d*Math.pow(2,10*(a/c-1))+b};g.tween.PennerEasing.easeOutExpo=function(a,b,d,c){return a==c?b+d:d*(-Math.pow(2,-10*a/c)+1)+b};g.tween.PennerEasing.easeInOutExpo=function(a,b,d,c){return 0==
a?b:a==c?b+d:1>(a/=c/2)?d/2*Math.pow(2,10*(a-1))+b:d/2*(-Math.pow(2,-10*--a)+2)+b};g.tween.PennerEasing.easeInElastic=function(a,b,d,c){return g.tween.PennerEasing.easeInElasticL(a,b,d,c)};g.tween.PennerEasing.easeInElasticL=function(a,b,d,c,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);if(0==a)return b;if(1==(a/=c))return b+d;-0.123456==f&&(f=0.3*c);-0.123456==e||e<Math.abs(d)?(e=d,d=f/4):d=f/(2*Math.PI)*Math.asin(d/e);return-(e*Math.pow(2,10*(a-=1))*Math.sin((a*c-d)*2*Math.PI/f))+b};g.tween.PennerEasing.easeOutElastic=
function(a,b,d,c){return g.tween.PennerEasing.easeOutElasticL(a,b,d,c)};g.tween.PennerEasing.easeOutElasticL=function(a,b,d,c,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(1==(a/=c))return b+d;-0.123456==f&&(f=0.3*c);-0.123456==e||e<Math.abs(d)?(e=d,g=f/4):g=f/(2*Math.PI)*Math.asin(d/e);return e*Math.pow(2,-10*a)*Math.sin((a*c-g)*2*Math.PI/f)+d+b};g.tween.PennerEasing.easeInOutElastic=function(a,b,d,c){return g.tween.PennerEasing.easeInOutElasticL(a,b,d,c)};g.tween.PennerEasing.easeInOutElasticL=
function(a,b,d,c,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(2==(a/=c/2))return b+d;-0.123456==f&&(f=c*0.3*1.5);-0.123456==e||e<Math.abs(d)?(e=d,g=f/4):g=f/(2*Math.PI)*Math.asin(d/e);return 1>a?-0.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*c-g)*2*Math.PI/f)+b:0.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*c-g)*2*Math.PI/f)+d+b};g.tween.PennerEasing.easeInBack=function(a,b,d,c){return g.tween.PennerEasing.easeInBackL(a,b,d,c)};g.tween.PennerEasing.easeInBackL=function(a,b,d,c,
e){null==e&&(e=-0.123456);-0.123456==e&&(e=1.70158);return d*(a/=c)*a*((e+1)*a-e)+b};g.tween.PennerEasing.easeInOutBack=function(a,b,d,c){return g.tween.PennerEasing.easeInOutBackL(a,b,d,c)};g.tween.PennerEasing.easeInOutBackL=function(a,b,d,c,e){null==e&&(e=-0.123456);-0.123456==e&&(e=1.70158);return 1>(a/=c/2)?d/2*a*a*(((e*=1.525)+1)*a-e)+b:d/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b};g.tween.PennerEasing.easeOutBounce=function(a,b,d,c){return(a/=c)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/
2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b};g.tween.PennerEasing.easeInBounce=function(a,b,d,c){return d-g.tween.PennerEasing.easeOutBounce(c-a,0,d,c)+b};g.tween.PennerEasing.easeInOutBounce=function(a,b,d,c){return a<c/2?0.5*g.tween.PennerEasing.easeInBounce(2*a,0,d,c)+b:0.5*g.tween.PennerEasing.easeOutBounce(2*a-c,0,d,c)+0.5*d+b};g.tween.PennerEasing.easeInCubic=function(a,b,d,c){return d*(a/=c)*a*a+b};g.tween.PennerEasing.easeOutCubic=
function(a,b,d,c){return d*((a=a/c-1)*a*a+1)+b};g.tween.PennerEasing.easeInOutCubic=function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a*a+b:d/2*((a-=2)*a*a+2)+b};g.tween.PennerEasing.easeInQuart=function(a,b,d,c){return d*(a/=c)*a*a*a+b};g.tween.PennerEasing.easeOutQuart=function(a,b,d,c){return-d*((a=a/c-1)*a*a*a-1)+b};g.tween.PennerEasing.easeInOutQuart=function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a*a*a+b:-d/2*((a-=2)*a*a*a-2)+b};g.tween.PennerEasing.easeInQuint=function(a,b,d,c){return d*(a/=c)*a*a*a*a+b};
g.tween.PennerEasing.easeOutQuint=function(a,b,d,c){return d*((a=a/c-1)*a*a*a*a+1)+b};g.tween.PennerEasing.easeInOutQuint=function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a*a*a*a+b:d/2*((a-=2)*a*a*a*a+2)+b};g.tween.PennerEasing.easeInSine=function(a,b,d,c){return-d*Math.cos(a/c*(Math.PI/2))+d+b};g.tween.PennerEasing.easeOutSine=function(a,b,d,c){return d*Math.sin(a/c*(Math.PI/2))+b};g.tween.PennerEasing.easeInOutSine=function(a,b,d,c){return-d/2*(Math.cos(Math.PI*a/c)-1)+b};g.tween.PennerEasing.easeInCirc=
function(a,b,d,c){return-d*(Math.sqrt(1-(a/=c)*a)-1)+b};g.tween.PennerEasing.easeOutCirc=function(a,b,d,c){return d*Math.sqrt(1-(a=a/c-1)*a)+b};g.tween.PennerEasing.easeInOutCirc=function(a,b,d,c){return 1>(a/=c/2)?-d/2*(Math.sqrt(1-a*a)-1)+b:d/2*(Math.sqrt(1-(a-=2)*a)+1)+b};g.tween.Ease=m["com.workinman.math.tween.Ease"]={__ename__:["com","workinman","math","tween","Ease"],__constructs__:"EASE_IN,EASE_QUAD_IN,EASE_OUT,EASE_QUAD_OUT,EASE,EASE_QUAD,EASE_LINEAR,EASE_EXPO,EASE_EXPO_IN,EASE_EXPO_OUT,EASE_ELASTIC,EASE_ELASTIC_IN,EASE_ELASTIC_OUT,EASE_BUMP,EASE_BUMP_IN,EASE_BUMP_OUT,EASE_BOUNCE,EASE_BOUNCE_IN,EASE_BOUNCE_OUT,EASE_CUBIC,EASE_CUBIC_IN,EASE_CUBIC_OUT,EASE_SPACE,EASE_SPACE_IN,EASE_SPACE_OUT,EASE_BLAST,EASE_BLAST_IN,EASE_BLAST_OUT,EASE_WAVE,EASE_WAVE_IN,EASE_WAVE_OUT,EASE_CIRCLE,EASE_CIRCLE_IN,EASE_CIRCLE_OUT".split(",")};
g.tween.Ease.EASE_IN=["EASE_IN",0];g.tween.Ease.EASE_IN.toString=n;g.tween.Ease.EASE_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_QUAD_IN=["EASE_QUAD_IN",1];g.tween.Ease.EASE_QUAD_IN.toString=n;g.tween.Ease.EASE_QUAD_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_OUT=["EASE_OUT",2];g.tween.Ease.EASE_OUT.toString=n;g.tween.Ease.EASE_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE_QUAD_OUT=["EASE_QUAD_OUT",3];g.tween.Ease.EASE_QUAD_OUT.toString=n;g.tween.Ease.EASE_QUAD_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE=
["EASE",4];g.tween.Ease.EASE.toString=n;g.tween.Ease.EASE.__enum__=g.tween.Ease;g.tween.Ease.EASE_QUAD=["EASE_QUAD",5];g.tween.Ease.EASE_QUAD.toString=n;g.tween.Ease.EASE_QUAD.__enum__=g.tween.Ease;g.tween.Ease.EASE_LINEAR=["EASE_LINEAR",6];g.tween.Ease.EASE_LINEAR.toString=n;g.tween.Ease.EASE_LINEAR.__enum__=g.tween.Ease;g.tween.Ease.EASE_EXPO=["EASE_EXPO",7];g.tween.Ease.EASE_EXPO.toString=n;g.tween.Ease.EASE_EXPO.__enum__=g.tween.Ease;g.tween.Ease.EASE_EXPO_IN=["EASE_EXPO_IN",8];g.tween.Ease.EASE_EXPO_IN.toString=
n;g.tween.Ease.EASE_EXPO_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_EXPO_OUT=["EASE_EXPO_OUT",9];g.tween.Ease.EASE_EXPO_OUT.toString=n;g.tween.Ease.EASE_EXPO_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE_ELASTIC=["EASE_ELASTIC",10];g.tween.Ease.EASE_ELASTIC.toString=n;g.tween.Ease.EASE_ELASTIC.__enum__=g.tween.Ease;g.tween.Ease.EASE_ELASTIC_IN=["EASE_ELASTIC_IN",11];g.tween.Ease.EASE_ELASTIC_IN.toString=n;g.tween.Ease.EASE_ELASTIC_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_ELASTIC_OUT=["EASE_ELASTIC_OUT",
12];g.tween.Ease.EASE_ELASTIC_OUT.toString=n;g.tween.Ease.EASE_ELASTIC_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE_BUMP=["EASE_BUMP",13];g.tween.Ease.EASE_BUMP.toString=n;g.tween.Ease.EASE_BUMP.__enum__=g.tween.Ease;g.tween.Ease.EASE_BUMP_IN=["EASE_BUMP_IN",14];g.tween.Ease.EASE_BUMP_IN.toString=n;g.tween.Ease.EASE_BUMP_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_BUMP_OUT=["EASE_BUMP_OUT",15];g.tween.Ease.EASE_BUMP_OUT.toString=n;g.tween.Ease.EASE_BUMP_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE_BOUNCE=
["EASE_BOUNCE",16];g.tween.Ease.EASE_BOUNCE.toString=n;g.tween.Ease.EASE_BOUNCE.__enum__=g.tween.Ease;g.tween.Ease.EASE_BOUNCE_IN=["EASE_BOUNCE_IN",17];g.tween.Ease.EASE_BOUNCE_IN.toString=n;g.tween.Ease.EASE_BOUNCE_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_BOUNCE_OUT=["EASE_BOUNCE_OUT",18];g.tween.Ease.EASE_BOUNCE_OUT.toString=n;g.tween.Ease.EASE_BOUNCE_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE_CUBIC=["EASE_CUBIC",19];g.tween.Ease.EASE_CUBIC.toString=n;g.tween.Ease.EASE_CUBIC.__enum__=g.tween.Ease;
g.tween.Ease.EASE_CUBIC_IN=["EASE_CUBIC_IN",20];g.tween.Ease.EASE_CUBIC_IN.toString=n;g.tween.Ease.EASE_CUBIC_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_CUBIC_OUT=["EASE_CUBIC_OUT",21];g.tween.Ease.EASE_CUBIC_OUT.toString=n;g.tween.Ease.EASE_CUBIC_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE_SPACE=["EASE_SPACE",22];g.tween.Ease.EASE_SPACE.toString=n;g.tween.Ease.EASE_SPACE.__enum__=g.tween.Ease;g.tween.Ease.EASE_SPACE_IN=["EASE_SPACE_IN",23];g.tween.Ease.EASE_SPACE_IN.toString=n;g.tween.Ease.EASE_SPACE_IN.__enum__=
g.tween.Ease;g.tween.Ease.EASE_SPACE_OUT=["EASE_SPACE_OUT",24];g.tween.Ease.EASE_SPACE_OUT.toString=n;g.tween.Ease.EASE_SPACE_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE_BLAST=["EASE_BLAST",25];g.tween.Ease.EASE_BLAST.toString=n;g.tween.Ease.EASE_BLAST.__enum__=g.tween.Ease;g.tween.Ease.EASE_BLAST_IN=["EASE_BLAST_IN",26];g.tween.Ease.EASE_BLAST_IN.toString=n;g.tween.Ease.EASE_BLAST_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_BLAST_OUT=["EASE_BLAST_OUT",27];g.tween.Ease.EASE_BLAST_OUT.toString=n;g.tween.Ease.EASE_BLAST_OUT.__enum__=
g.tween.Ease;g.tween.Ease.EASE_WAVE=["EASE_WAVE",28];g.tween.Ease.EASE_WAVE.toString=n;g.tween.Ease.EASE_WAVE.__enum__=g.tween.Ease;g.tween.Ease.EASE_WAVE_IN=["EASE_WAVE_IN",29];g.tween.Ease.EASE_WAVE_IN.toString=n;g.tween.Ease.EASE_WAVE_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_WAVE_OUT=["EASE_WAVE_OUT",30];g.tween.Ease.EASE_WAVE_OUT.toString=n;g.tween.Ease.EASE_WAVE_OUT.__enum__=g.tween.Ease;g.tween.Ease.EASE_CIRCLE=["EASE_CIRCLE",31];g.tween.Ease.EASE_CIRCLE.toString=n;g.tween.Ease.EASE_CIRCLE.__enum__=
g.tween.Ease;g.tween.Ease.EASE_CIRCLE_IN=["EASE_CIRCLE_IN",32];g.tween.Ease.EASE_CIRCLE_IN.toString=n;g.tween.Ease.EASE_CIRCLE_IN.__enum__=g.tween.Ease;g.tween.Ease.EASE_CIRCLE_OUT=["EASE_CIRCLE_OUT",33];g.tween.Ease.EASE_CIRCLE_OUT.toString=n;g.tween.Ease.EASE_CIRCLE_OUT.__enum__=g.tween.Ease;g.tween.PennerManager=function(){};m["com.workinman.math.tween.PennerManager"]=g.tween.PennerManager;g.tween.PennerManager.__name__=["com","workinman","math","tween","PennerManager"];g.tween.PennerManager.getEaseFunction=
function(a){switch(a[1]){case 0:case 1:return g.tween.PennerManager._tweenEaseIn;case 2:case 3:return g.tween.PennerManager._tweenEaseOut;case 4:case 5:return g.tween.PennerManager._tweenEaseBoth;case 7:return g.tween.PennerManager._tweenExpoBoth;case 8:return g.tween.PennerManager._tweenExpoIn;case 9:return g.tween.PennerManager._tweenExpoOut;case 10:return g.tween.PennerManager._tweenElasticBoth;case 11:return g.tween.PennerManager._tweenElasticIn;case 12:return g.tween.PennerManager._tweenElasticOut;
case 13:return g.tween.PennerManager._tweenBumpBoth;case 14:return g.tween.PennerManager._tweenBumpIn;case 15:return g.tween.PennerManager._tweenBumpBoth;case 16:return g.tween.PennerManager._tweenBounceBoth;case 17:return g.tween.PennerManager._tweenBounceIn;case 18:return g.tween.PennerManager._tweenBounceOut;case 19:return g.tween.PennerManager._tweenCubicBoth;case 20:return g.tween.PennerManager._tweenCubicIn;case 21:return g.tween.PennerManager._tweenCubicOut;case 22:return g.tween.PennerManager._tweenSpaceBoth;
case 23:return g.tween.PennerManager._tweenSpaceIn;case 24:return g.tween.PennerManager._tweenSpaceOut;case 25:return g.tween.PennerManager._tweenBlastBoth;case 26:return g.tween.PennerManager._tweenBlastIn;case 27:return g.tween.PennerManager._tweenBlastOut;case 28:return g.tween.PennerManager._tweenWaveBoth;case 29:return g.tween.PennerManager._tweenWaveIn;case 30:return g.tween.PennerManager._tweenWaveOut;case 31:return g.tween.PennerManager._tweenCircleBoth;case 32:return g.tween.PennerManager._tweenCircleIn;
case 33:return g.tween.PennerManager._tweenCircleOut;case 6:return g.tween.PennerManager._tweenLinear}};g.tween.PennerManager._tweenLinear=function(a,b,d,c){return a+d/c*b};g.tween.PennerManager._tweenEaseBoth=function(a,b,d,c){return g.tween.PennerEasing.easeInOutQuad(d,a,b,c)};g.tween.PennerManager._tweenEaseIn=function(a,b,d,c){return g.tween.PennerEasing.easeInQuad(d,a,b,c)};g.tween.PennerManager._tweenEaseOut=function(a,b,d,c){return g.tween.PennerEasing.easeOutQuad(d,a,b,c)};g.tween.PennerManager._tweenExpoBoth=
function(a,b,d,c){return g.tween.PennerEasing.easeInOutExpo(d,a,b,c)};g.tween.PennerManager._tweenExpoIn=function(a,b,d,c){return g.tween.PennerEasing.easeInExpo(d,a,b,c)};g.tween.PennerManager._tweenExpoOut=function(a,b,d,c){return g.tween.PennerEasing.easeOutExpo(d,a,b,c)};g.tween.PennerManager._tweenElasticBoth=function(a,b,d,c){return g.tween.PennerEasing.easeInOutElastic(d,a,b,c)};g.tween.PennerManager._tweenElasticIn=function(a,b,d,c){return g.tween.PennerEasing.easeInElastic(d,a,b,c)};g.tween.PennerManager._tweenElasticOut=
function(a,b,d,c){return g.tween.PennerEasing.easeOutElastic(d,a,b,c)};g.tween.PennerManager._tweenBumpBoth=function(a,b,d,c){return g.tween.PennerEasing.easeInOutBack(d,a,b,c)};g.tween.PennerManager._tweenBumpIn=function(a,b,d,c){return g.tween.PennerEasing.easeInBack(d,a,b,c)};g.tween.PennerManager._tweenBounceBoth=function(a,b,d,c){return g.tween.PennerEasing.easeInOutBounce(d,a,b,c)};g.tween.PennerManager._tweenBounceIn=function(a,b,d,c){return g.tween.PennerEasing.easeInBounce(d,a,b,c)};g.tween.PennerManager._tweenBounceOut=
function(a,b,d,c){return g.tween.PennerEasing.easeOutBounce(d,a,b,c)};g.tween.PennerManager._tweenCubicBoth=function(a,b,d,c){return g.tween.PennerEasing.easeInOutCubic(d,a,b,c)};g.tween.PennerManager._tweenCubicIn=function(a,b,d,c){return g.tween.PennerEasing.easeInCubic(d,a,b,c)};g.tween.PennerManager._tweenCubicOut=function(a,b,d,c){return g.tween.PennerEasing.easeOutCubic(d,a,b,c)};g.tween.PennerManager._tweenSpaceBoth=function(a,b,d,c){return g.tween.PennerEasing.easeInOutQuart(d,a,b,c)};g.tween.PennerManager._tweenSpaceIn=
function(a,b,d,c){return g.tween.PennerEasing.easeInQuart(d,a,b,c)};g.tween.PennerManager._tweenSpaceOut=function(a,b,d,c){return g.tween.PennerEasing.easeOutQuart(d,a,b,c)};g.tween.PennerManager._tweenBlastBoth=function(a,b,d,c){return g.tween.PennerEasing.easeInOutQuint(d,a,b,c)};g.tween.PennerManager._tweenBlastIn=function(a,b,d,c){return g.tween.PennerEasing.easeInQuint(d,a,b,c)};g.tween.PennerManager._tweenBlastOut=function(a,b,d,c){return g.tween.PennerEasing.easeOutQuint(d,a,b,c)};g.tween.PennerManager._tweenWaveBoth=
function(a,b,d,c){return g.tween.PennerEasing.easeInOutSine(d,a,b,c)};g.tween.PennerManager._tweenWaveIn=function(a,b,d,c){return g.tween.PennerEasing.easeInSine(d,a,b,c)};g.tween.PennerManager._tweenWaveOut=function(a,b,d,c){return g.tween.PennerEasing.easeOutSine(d,a,b,c)};g.tween.PennerManager._tweenCircleBoth=function(a,b,d,c){return g.tween.PennerEasing.easeInOutCirc(d,a,b,c)};g.tween.PennerManager._tweenCircleIn=function(a,b,d,c){return g.tween.PennerEasing.easeInCirc(d,a,b,c)};g.tween.PennerManager._tweenCircleOut=
function(a,b,d,c){return g.tween.PennerEasing.easeOutCirc(d,a,b,c)};g.tween.WorkinTweener=function(){};m["com.workinman.math.tween.WorkinTweener"]=g.tween.WorkinTweener;g.tween.WorkinTweener.__name__=["com","workinman","math","tween","WorkinTweener"];g.tween.WorkinTweener.__interfaces__=[e.pooling.IStrictPoolable];g.tween.WorkinTweener.__properties__={get__nullTarget:"get__nullTarget"};g.tween.WorkinTweener.request=function(){e.WorkinCloud.get_instance().get_pool().initPool("WorkinTweener",g.tween.WorkinTweener);
return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweener")};g.tween.WorkinTweener.get__nullTarget=function(){null==g.tween.WorkinTweener.__nullTarget&&(g.tween.WorkinTweener.__nullTarget={});return g.tween.WorkinTweener.__nullTarget};g.tween.WorkinTweener.__super__=e.pooling.PoolStrictBase;g.tween.WorkinTweener.prototype=z(e.pooling.PoolStrictBase.prototype,{stopAllTweens:function(){for(;0<this._targets.length;)this._targets.pop().dispose()},stop:function(a){for(this._i=this._targets.length;0<
this._i;)if(this._i--,this._targets[this._i].get_target()==a){this._targets[this._i].dispose();this._targets.splice(this._i,1);break}},timer:function(a,b){null==b&&(b=0);return this.tween(g.tween.WorkinTweener.get__nullTarget(),a,g.tween.WorkinTweener.get__nullTarget(),!0,null,b,"tim"+g.tween.WorkinTweener._uniqueTimer++)},tween:function(a,b,d,c,e,f,h){null==h&&(h="def");null==f&&(f=0);null==c&&(c=!1);b=g.tween.WorkinTweenDef.request(a,b,d,e,f);d=0;for(e=this._targets;d<e.length;)if(f=e[d],++d,f.get_target()==
a)return c&&f.clearTweens(h),f.addTween(b,h),b;a=g.tween.WorkinTweenTracker.request(a);this._targets.push(a);a.addTween(b,h);return b},update:function(a){for(this._i=this._targets.length;0<this._i--;)this._targets[this._i].update(a),this._targets[this._i].get_isComplete()&&(this._targets[this._i].dispose(),this._targets.splice(this._i,1))},destroy:function(){this._targets=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(;0<this._targets.length;)this._targets.pop().dispose();
e.pooling.PoolStrictBase.prototype.dispose.call(this)},build:function(a){this._targets=[];return e.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WorkinTweener"},__class__:g.tween.WorkinTweener});g.tween.WorkinTweenTracker=function(){};m["com.workinman.math.tween.WorkinTweenTracker"]=g.tween.WorkinTweenTracker;g.tween.WorkinTweenTracker.__name__=["com","workinman","math","tween","WorkinTweenTracker"];g.tween.WorkinTweenTracker.__interfaces__=[e.pooling.IStrictPoolable];
g.tween.WorkinTweenTracker.request=function(a){e.WorkinCloud.get_instance().get_pool().initPool("WorkinTweenTracker",g.tween.WorkinTweenTracker);return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweenTracker").init(a)};g.tween.WorkinTweenTracker.__super__=e.pooling.PoolStrictBase;g.tween.WorkinTweenTracker.prototype=z(e.pooling.PoolStrictBase.prototype,{addTween:function(a,b){if(null==this._tweens.get(b)){this._threadCount++;var d=[];this._tweens.set(b,d);d}this._tweens.get(b).push(a)},
_runRemoval:function(){for(;0<g.tween.WorkinTweenTracker._tweenRemoval.length;)this._tweens.remove(g.tween.WorkinTweenTracker._tweenRemoval.pop()),this._threadCount--},clearTweens:function(a){if(null!=this._tweens.get(a)){for(;0<this._tweens.get(a).length;)this._tweens.get(a).pop().dispose();g.tween.WorkinTweenTracker._tweenRemoval.push(a);this._runRemoval()}},clearAllTweens:function(){for(var a=this._tweens.keys();a.hasNext();){var b=a.next();g.tween.WorkinTweenTracker._tweenUpdate.push(b)}for(;0<
g.tween.WorkinTweenTracker._tweenUpdate.length;)this.clearTweens(g.tween.WorkinTweenTracker._tweenUpdate.pop())},set_isComplete:function(a){return this._isComplete=a},get_isComplete:function(){return this._isComplete},get_target:function(){return this._target},_dispatchTweensAllComplete:function(a){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(C.ConstantsCloud.EVENT_TWEENS_COMPLETE,{target:a}))},_updateThread:function(a,b){1>this._tweens.get(b).length?g.tween.WorkinTweenTracker._tweenRemoval.push(b):
(this._tweens.get(b)[0].update(a),this._tweens.get(b)[0].get_isComplete()&&(this._tweens.get(b)[0].dispose(),this._tweens.get(b).splice(0,1),this._updateThread(a,b)))},update:function(a){for(var b=this._tweens.keys();b.hasNext();){var d=b.next();g.tween.WorkinTweenTracker._tweenUpdate.push(d)}for(;0<g.tween.WorkinTweenTracker._tweenUpdate.length;)this._updateThread(a,g.tween.WorkinTweenTracker._tweenUpdate.pop());this._runRemoval();1>this._threadCount&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},
destroy:function(){this._tweens=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){this.clearAllTweens();this._target=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a){this._target=a;this._isComplete=!1;this._threadCount=0;return this},build:function(a){this._tweens=new F.StringMap;return e.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WorkinTweenTracker"},__class__:g.tween.WorkinTweenTracker,__properties__:{get_target:"get_target",
set_isComplete:"set_isComplete",get_isComplete:"get_isComplete"}});g.tween.WorkinTweenDef=function(){};m["com.workinman.math.tween.WorkinTweenDef"]=g.tween.WorkinTweenDef;g.tween.WorkinTweenDef.__name__=["com","workinman","math","tween","WorkinTweenDef"];g.tween.WorkinTweenDef.__interfaces__=[e.pooling.IStrictPoolable];g.tween.WorkinTweenDef.request=function(a,b,d,c,f){e.WorkinCloud.get_instance().get_pool().initPool("WorkinTweenDef",g.tween.WorkinTweenDef);return e.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweenDef").init(a,
b,d,c,f)};g.tween.WorkinTweenDef.__super__=e.pooling.PoolStrictBase;g.tween.WorkinTweenDef.prototype=z(e.pooling.PoolStrictBase.prototype,{onComplete:function(a,b){null==b&&(b=[]);this._completionHandler=a;this._completionArgs=b;return this},ease:function(a){this._easeFunction=g.tween.PennerManager.getEaseFunction(a);return this},delay:function(a){this._delay=a;return this},get_ratio:function(){return this._ratio},set_isComplete:function(a){this._isComplete=a;return this.get_isComplete()},get_isComplete:function(){return this._isComplete},
update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;if(null==this._target)this._isComplete=!0;else if(!1==this._started&&this._start(),this._progress+=a,this._progress>this._duration&&(this._progress=this._duration),this._ratio=Math.floor(1E3*(this._progress/this._duration))/1E3,this._progress>=this._duration){for(var a=0,b=v.fields(this._dest);a<b.length;){var d=b[a];++a;this._target[d]=v.field(this._dest,d)}null!=this._completionHandler&&this._completionHandler.apply(this._completionHandler,
this._completionArgs);this._isComplete=!0}else{a=0;for(b=v.fields(this._dest);a<b.length;)d=b[a],++a,this._diff=v.field(this._dest,d)-v.field(this._origin,d),this._target[d]=this._easeFunction(v.field(this._origin,d),this._diff,this._progress,this._duration)}},_start:function(){this._isComplete=!1;this._started=!0;for(var a=0,b=v.fields(this._dest);a<b.length;){var d=b[a];++a;null!=v.field(this._target,d)&&(this._origin[d]=v.field(this._target,d))}},destroy:function(){this._origin=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},
dispose:function(){e.WorkinUtils.removePropertiesFromDynamic(this._origin);this._dest=this._target=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,d,c,e){this._target=a;this._duration=b;this._delay=e;this._dest=d;this._easeFunction=g.tween.PennerManager.getEaseFunction(null==c?g.tween.Ease.EASE_LINEAR:c);this._isComplete=!1;this._completionArgs=this._completionHandler=null;this._progress=0;this._started=!1;return this},build:function(a){this._origin={};return e.pooling.PoolStrictBase.prototype.build.call(this,
a)},poolId:function(){return"WorkinTweenDef"},__class__:g.tween.WorkinTweenDef,__properties__:{set_isComplete:"set_isComplete",get_isComplete:"get_isComplete",get_ratio:"get_ratio"}});W={WMSharedObject:function(){this._dispatcher=p.WMEventDispatcher.request();this._data={};this.sharedKey=""}};m["com.workinman.net.WMSharedObject"]=W.WMSharedObject;W.WMSharedObject.__name__=["com","workinman","net","WMSharedObject"];W.WMSharedObject.getLocalStorage=function(){return y.window.localStorage};W.WMSharedObject.getLocal=
function(a,b){try{var d=y.window.location.href;null==b&&(b=d);var c=new W.WMSharedObject;c.sharedKey=b+":"+a;var e=W.WMSharedObject.getLocalStorage().getItem(c.sharedKey);c.set_data(""==e||null==e?{}:V.run(e));return c}catch(f){return c=new W.WMSharedObject,c.sharedKey="",c}};W.WMSharedObject.prototype={flush:function(){var a=X.run(this.get_data());W.WMSharedObject.getLocalStorage().setItem(this.sharedKey,a);return W.SharedObjectFlushedStatus.FLUSHED},set_data:function(a){return this._data=a},get_data:function(){return this._data},
dispose:function(){this._data=null;this._dispatcher.dispose();this._dispatcher=null},__class__:W.WMSharedObject};W.SharedObjectFlushedStatus=function(){};m["com.workinman.net.SharedObjectFlushedStatus"]=W.SharedObjectFlushedStatus;W.SharedObjectFlushedStatus.__name__=["com","workinman","net","SharedObjectFlushedStatus"];k={ServiceAnalytics:function(){}};m["com.workinman.services.ServiceAnalytics"]=k.ServiceAnalytics;k.ServiceAnalytics.__name__=["com","workinman","services","ServiceAnalytics"];k.ServiceAnalytics.onAnalyticsLoad=
function(){k.ServiceAnalytics._flagLoaded||(e.WorkinCloud.get_instance().log("[ServiceAnalytics](onAnalyticsLoad) Load complete"),k.ServiceAnalytics._flagLoaded=!0,T.delay(k.ServiceAnalytics._runQueuedCommands,1E3))};k.ServiceAnalytics.init=function(a,b){null==b&&(b="");k.ServiceAnalytics._flagInitted=!0;k.ServiceAnalytics._queuedCommands=[];"x"==a.toLowerCase()&&(k.ServiceAnalytics.OPTION_ENABLE_TRACKING=!1);k.ServiceAnalytics.OPTION_ENABLE_TRACKING&&(""==b&&(b=k.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID),
k.ServiceAnalytics._flagStarted=!1,e.WorkinCloud.get_instance().log("[ServiceAnalytics](initAnalytics)"),k.ServiceAnalytics._appId=a,k.ServiceAnalytics._sharedObjectId=b,k.ServiceAnalytics._sharedObjectData=e.WorkinCloud.get_instance().sharedObjectGetData(k.ServiceAnalytics._sharedObjectId),k.ServiceAnalytics._generateSessionID(),null==k.ServiceAnalytics._sharedObjectData.userID||14>t.string(k.ServiceAnalytics._sharedObjectData.userID).length?(k.ServiceAnalytics._generateOfflineIDs(),k.ServiceAnalytics._sharedObjectData.userID=
k.ServiceAnalytics._offlineUserId,k.ServiceAnalytics._sharedObjectData.trackingID=k.ServiceAnalytics._offlineTrackingId,e.WorkinCloud.get_instance().sharedObjectSetData(k.ServiceAnalytics._sharedObjectId,k.ServiceAnalytics._sharedObjectData)):(k.ServiceAnalytics._offlineUserId=k.ServiceAnalytics._sharedObjectData.userID,k.ServiceAnalytics._offlineTrackingId=k.ServiceAnalytics._sharedObjectData.trackingID),eval("\t\t\t\t\n\t\t\t\twindow._pnConfig = new Array();\n\t\t\t\twindow._pnConfig['userId'] = '"+
k.ServiceAnalytics._offlineUserId+"';\n\t\t\t\t\n\t\t\t\tvar _pnAPIURL = document.location.protocol + '//js.a.playnomics.net/v1/api?a="+k.ServiceAnalytics._appId+"';\n\t\t\t\tvar _pnAPI = document.createElement('script');\t\t\t\t\n\t\t\t\t_pnAPI.type = 'text/javascript'; \n\t\t\t\t_pnAPI.async = false; \n\t\t\t\t_pnAPI.src = _pnAPIURL;\n\t\t\t\twindow.pnCallbackReference = _pnAPI;\t\t\t\t\n\t\t\t"),eval("window.pnCallbackReference").addEventListener("load",k.ServiceAnalytics.onAnalyticsLoad,!1),eval("document.body.appendChild(window.pnCallbackReference);"),
k.ServiceAnalytics.sendUserInfo(),k.ServiceAnalytics.sendMilestone("custom1"))};k.ServiceAnalytics._runQueuedCommands=function(){for(;0<k.ServiceAnalytics._queuedCommands.length;)k.ServiceAnalytics.sendPlaynomicsEvent(k.ServiceAnalytics._queuedCommands[0].method,k.ServiceAnalytics._queuedCommands[0].params),k.ServiceAnalytics._queuedCommands.shift()};k.ServiceAnalytics.sendUserInfo=function(){k.ServiceAnalytics.sendPlaynomicsEvent("pnUserInfo",["update",null,null,"","","html5"])};k.ServiceAnalytics.sendMilestone=
function(a){k.ServiceAnalytics.sendPlaynomicsEvent("pnMilestone",[t.string(Math.floor(6012+999999999*Math.random())),a])};k.ServiceAnalytics.sendPlaynomicsEvent=function(a,b){if(k.ServiceAnalytics.OPTION_ENABLE_TRACKING&&k.ServiceAnalytics._flagInitted)if(k.ServiceAnalytics._flagLoaded){e.WorkinCloud.get_instance().log("[ServiceAnalytics](sendPlaynomicsEvent) "+a);var d,c="";for(d=0;d<b.length;)c+="'"+b[d]+"'",d++,d<b.length&&(c+=",");eval(a+"("+c+")")}else k.ServiceAnalytics._queuedCommands.push({method:a,
params:b})};k.ServiceAnalytics.enableCanadaTracking=function(a){k.ServiceAnalytics._flagCanadaTrackingEnabled=!0;k.ServiceAnalytics._canadaShowGameTitle=a};k.ServiceAnalytics.sendCanadaTrackingCall=function(a){if(k.ServiceAnalytics._flagCanadaTrackingEnabled)try{eval("trackFlashEvent('"+k.ServiceAnalytics._canadaShowGameTitle+"', '"+a+"', 'true');")}catch(b){}};k.ServiceAnalytics._generateSessionID=function(){for(var a="",b=11;-1<b;)a+=Math.floor(10*Math.random()),b--;k.ServiceAnalytics._sessionId=
a};k.ServiceAnalytics._generateOfflineIDs=function(){k.ServiceAnalytics._offlineUserId="";k.ServiceAnalytics._offlineTrackingId="";for(var a=15;-1<a;){if(0.66>Math.random())k.ServiceAnalytics._offlineUserId+=t.string(Math.floor(10*Math.random()));else switch(Math.floor(10*Math.random())){case 0:k.ServiceAnalytics._offlineUserId+="a";break;case 1:k.ServiceAnalytics._offlineUserId+="b";break;case 2:k.ServiceAnalytics._offlineUserId+="c";break;case 3:k.ServiceAnalytics._offlineUserId+="d";break;case 4:k.ServiceAnalytics._offlineUserId+=
"e";break;case 5:k.ServiceAnalytics._offlineUserId+="f";break;case 6:k.ServiceAnalytics._offlineUserId+="g";break;case 7:k.ServiceAnalytics._offlineUserId+="h";break;case 8:k.ServiceAnalytics._offlineUserId+="i";break;case 9:k.ServiceAnalytics._offlineUserId+="j";break;default:k.ServiceAnalytics._offlineUserId+="z"}a--}k.ServiceAnalytics._offlineTrackingId="";for(a=15;-1<a;)k.ServiceAnalytics._offlineTrackingId+=Math.floor(10*Math.random()),a--};k.ANALYTICS_EVENTS=m["com.workinman.services.ANALYTICS_EVENTS"]=
{__ename__:["com","workinman","services","ANALYTICS_EVENTS"],__constructs__:"GAME_LOAD,CLICK_TO_PLAY,VOLUME_BUTTON,ENTER_CODE_BUTTON,CODE_SUCCESS,CODE_FAIL,CODE_CLICK_BACK,LEVEL_LOAD,CLICK_MAP,LEVEL_START,COINS_COLLECTED,LEVEL_QUIT,LEVEL_LOSE,LEVEL_WIN,LEVEL_TIME,LIFE_LOST,LIFE_COLLECTED,PAUSE_BUTTON,MENU_RESUME,MENU_HELP,MENU_VOLUME,MENU_QUIT,GAME_OVER_SCREEN,PLAY_AGAIN,LEVEL_COMPLETE".split(",")};k.ANALYTICS_EVENTS.GAME_LOAD=["GAME_LOAD",0];k.ANALYTICS_EVENTS.GAME_LOAD.toString=n;k.ANALYTICS_EVENTS.GAME_LOAD.__enum__=
k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.CLICK_TO_PLAY=["CLICK_TO_PLAY",1];k.ANALYTICS_EVENTS.CLICK_TO_PLAY.toString=n;k.ANALYTICS_EVENTS.CLICK_TO_PLAY.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.VOLUME_BUTTON=["VOLUME_BUTTON",2];k.ANALYTICS_EVENTS.VOLUME_BUTTON.toString=n;k.ANALYTICS_EVENTS.VOLUME_BUTTON.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.ENTER_CODE_BUTTON=["ENTER_CODE_BUTTON",3];k.ANALYTICS_EVENTS.ENTER_CODE_BUTTON.toString=n;k.ANALYTICS_EVENTS.ENTER_CODE_BUTTON.__enum__=k.ANALYTICS_EVENTS;
k.ANALYTICS_EVENTS.CODE_SUCCESS=["CODE_SUCCESS",4];k.ANALYTICS_EVENTS.CODE_SUCCESS.toString=n;k.ANALYTICS_EVENTS.CODE_SUCCESS.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.CODE_FAIL=["CODE_FAIL",5];k.ANALYTICS_EVENTS.CODE_FAIL.toString=n;k.ANALYTICS_EVENTS.CODE_FAIL.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.CODE_CLICK_BACK=["CODE_CLICK_BACK",6];k.ANALYTICS_EVENTS.CODE_CLICK_BACK.toString=n;k.ANALYTICS_EVENTS.CODE_CLICK_BACK.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LEVEL_LOAD=["LEVEL_LOAD",
7];k.ANALYTICS_EVENTS.LEVEL_LOAD.toString=n;k.ANALYTICS_EVENTS.LEVEL_LOAD.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.CLICK_MAP=["CLICK_MAP",8];k.ANALYTICS_EVENTS.CLICK_MAP.toString=n;k.ANALYTICS_EVENTS.CLICK_MAP.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LEVEL_START=["LEVEL_START",9];k.ANALYTICS_EVENTS.LEVEL_START.toString=n;k.ANALYTICS_EVENTS.LEVEL_START.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.COINS_COLLECTED=["COINS_COLLECTED",10];k.ANALYTICS_EVENTS.COINS_COLLECTED.toString=n;k.ANALYTICS_EVENTS.COINS_COLLECTED.__enum__=
k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LEVEL_QUIT=["LEVEL_QUIT",11];k.ANALYTICS_EVENTS.LEVEL_QUIT.toString=n;k.ANALYTICS_EVENTS.LEVEL_QUIT.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LEVEL_LOSE=["LEVEL_LOSE",12];k.ANALYTICS_EVENTS.LEVEL_LOSE.toString=n;k.ANALYTICS_EVENTS.LEVEL_LOSE.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LEVEL_WIN=["LEVEL_WIN",13];k.ANALYTICS_EVENTS.LEVEL_WIN.toString=n;k.ANALYTICS_EVENTS.LEVEL_WIN.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LEVEL_TIME=["LEVEL_TIME",14];
k.ANALYTICS_EVENTS.LEVEL_TIME.toString=n;k.ANALYTICS_EVENTS.LEVEL_TIME.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LIFE_LOST=["LIFE_LOST",15];k.ANALYTICS_EVENTS.LIFE_LOST.toString=n;k.ANALYTICS_EVENTS.LIFE_LOST.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LIFE_COLLECTED=["LIFE_COLLECTED",16];k.ANALYTICS_EVENTS.LIFE_COLLECTED.toString=n;k.ANALYTICS_EVENTS.LIFE_COLLECTED.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.PAUSE_BUTTON=["PAUSE_BUTTON",17];k.ANALYTICS_EVENTS.PAUSE_BUTTON.toString=n;k.ANALYTICS_EVENTS.PAUSE_BUTTON.__enum__=
k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.MENU_RESUME=["MENU_RESUME",18];k.ANALYTICS_EVENTS.MENU_RESUME.toString=n;k.ANALYTICS_EVENTS.MENU_RESUME.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.MENU_HELP=["MENU_HELP",19];k.ANALYTICS_EVENTS.MENU_HELP.toString=n;k.ANALYTICS_EVENTS.MENU_HELP.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.MENU_VOLUME=["MENU_VOLUME",20];k.ANALYTICS_EVENTS.MENU_VOLUME.toString=n;k.ANALYTICS_EVENTS.MENU_VOLUME.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.MENU_QUIT=["MENU_QUIT",
21];k.ANALYTICS_EVENTS.MENU_QUIT.toString=n;k.ANALYTICS_EVENTS.MENU_QUIT.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.GAME_OVER_SCREEN=["GAME_OVER_SCREEN",22];k.ANALYTICS_EVENTS.GAME_OVER_SCREEN.toString=n;k.ANALYTICS_EVENTS.GAME_OVER_SCREEN.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.PLAY_AGAIN=["PLAY_AGAIN",23];k.ANALYTICS_EVENTS.PLAY_AGAIN.toString=n;k.ANALYTICS_EVENTS.PLAY_AGAIN.__enum__=k.ANALYTICS_EVENTS;k.ANALYTICS_EVENTS.LEVEL_COMPLETE=["LEVEL_COMPLETE",24];k.ANALYTICS_EVENTS.LEVEL_COMPLETE.toString=
n;k.ANALYTICS_EVENTS.LEVEL_COMPLETE.__enum__=k.ANALYTICS_EVENTS;k.ServiceNickAnalytics=function(){};m["com.workinman.services.ServiceNickAnalytics"]=k.ServiceNickAnalytics;k.ServiceNickAnalytics.__name__=["com","workinman","services","ServiceNickAnalytics"];k.ServiceNickAnalytics.sendMetric=function(a,b){if(k.ServiceNickAnalytics._flagInitted){var d={name:t.string(a)};switch(a[1]){case 0:d.subtype1=k.ServiceNickAnalytics.ST1_PRE_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_TITLE;d.value=b;break;
case 1:d.subtype1=k.ServiceNickAnalytics.ST1_PRE_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_TITLE;break;case 2:d.subtype1=k.ServiceNickAnalytics.ST1_PRE_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_TITLE;break;case 3:d.subtype1=k.ServiceNickAnalytics.ST1_PRE_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_CODE;break;case 4:d.subtype1=k.ServiceNickAnalytics.ST1_PRE_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_CODE;break;case 5:d.subtype1=k.ServiceNickAnalytics.ST1_PRE_PLAY;d.subtype2=
k.ServiceNickAnalytics.ST2_SCREEN_CODE;break;case 6:d.subtype1=k.ServiceNickAnalytics.ST1_PRE_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_CODE;break;case 7:d.subtype1=k.ServiceNickAnalytics.ST1_LEVEL_RESULTS;d.subtype2=k.ServiceNickAnalytics.ST2_LEVEL_LOAD;d.value=b;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 8:d.subtype1=k.ServiceNickAnalytics.ST1_LEVEL_RESULTS;d.subtype2=k.ServiceNickAnalytics.ST2_LEVEL_LOAD;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
break;case 9:d.subtype1=k.ServiceNickAnalytics.ST1_LEVEL_RESULTS;d.subtype2=k.ServiceNickAnalytics.ST2_LEVEL_LOAD;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 10:d.subtype1=k.ServiceNickAnalytics.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);d.value=k.ServiceNickAnalytics._countMetrics.get(d.name);var j=d.name;k.ServiceNickAnalytics._countMetrics.set(j,0);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
break;case 11:d.subtype1=k.ServiceNickAnalytics.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);d.value=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_SCORE);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 12:d.subtype1=k.ServiceNickAnalytics.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);d.value=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_SCORE);
d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 13:d.subtype1=k.ServiceNickAnalytics.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);d.value=e.WorkinCloud.get_instance().getInt(c.ConstantsApp.INT_SCORE);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 14:d.subtype1=k.ServiceNickAnalytics.ST1_LEVEL_RESULTS;d.subtype2=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
d.value=b;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 15:d.subtype1=k.ServiceNickAnalytics.ST1_IN_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_GAME_LIVES;d.value=k.ServiceNickAnalytics._countMetrics.get(d.name);j=d.name;k.ServiceNickAnalytics._countMetrics.set(j,0);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 16:d.subtype1=k.ServiceNickAnalytics.ST1_IN_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_GAME_LIVES;d.value=
k.ServiceNickAnalytics._countMetrics.get(d.name);j=d.name;k.ServiceNickAnalytics._countMetrics.set(j,0);d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 17:d.subtype1=k.ServiceNickAnalytics.ST1_UI;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 18:d.subtype1=k.ServiceNickAnalytics.ST1_UI;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
break;case 19:d.subtype1=k.ServiceNickAnalytics.ST1_UI;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 20:d.subtype1=k.ServiceNickAnalytics.ST1_UI;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 21:d.subtype1=k.ServiceNickAnalytics.ST1_UI;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_PAUSE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);
break;case 24:d.name=b;d.subtype1=k.ServiceNickAnalytics.ST1_POST_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_LEVEL_COMPLETE;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 22:d.subtype1=k.ServiceNickAnalytics.ST1_POST_PLAY;d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_END;d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID);break;case 23:d.subtype1=k.ServiceNickAnalytics.ST1_POST_PLAY,d.subtype2=k.ServiceNickAnalytics.ST2_SCREEN_END,
d.level=e.WorkinCloud.get_instance().getString(c.ConstantsApp.STRING_LEVEL_ID)}k.ServiceNickAnalytics._queueMetrics.push(d);k.ServiceNickAnalytics._timerMetrics.run()}};e.JSEmbedProxy=function(){};m["com.workinman.utils.JSEmbedProxy"]=e.JSEmbedProxy;e.JSEmbedProxy.__name__=["com","workinman","utils","JSEmbedProxy"];e.JSEmbedProxy.alertOff=function(){e.JSEmbedProxy.callJSEmbedMethod("removeAlert('')")};e.JSEmbedProxy.get_exists=function(){return e.JSEmbedProxy.callJSEmbedMethod("exists()")};e.JSEmbedProxy.get_base=
function(){return e.JSEmbedProxy.callJSEmbedMethod("baseUrl()")};e.JSEmbedProxy.get_isCrossdomain=function(){return e.JSEmbedProxy.callJSEmbedMethod("isBaseCrossdomain()")};e.JSEmbedProxy.get_scaleType=function(){return e.JSEmbedProxy.callJSEmbedMethod("scaleType()")};e.JSEmbedProxy.get_canvasScale=function(){return t.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("canvasScale()"))};e.JSEmbedProxy.get_canvasWidth=function(){return t.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("canvasWidth()"))};e.JSEmbedProxy.get_canvasHeight=
function(){return t.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("canvasHeight()"))};e.JSEmbedProxy.get_scaledWidth=function(){return t.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("scaledWidth()"))};e.JSEmbedProxy.get_scaledHeight=function(){return t.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("scaledHeight()"))};e.JSEmbedProxy.get_contentOffsetX=function(){return t.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("contentOffsetX()"))};e.JSEmbedProxy.get_contentOffsetY=function(){return t.parseFloat(e.JSEmbedProxy.callJSEmbedMethod("contentOffsetY()"))};
e.JSEmbedProxy.get_isPaused=function(){return e.JSEmbedProxy.callJSEmbedMethod("isPaused()")};e.JSEmbedProxy.pause=function(){e.JSEmbedProxy.callJSEmbedMethod("pause()")};e.JSEmbedProxy.unpause=function(){e.JSEmbedProxy.callJSEmbedMethod("unpause()")};e.JSEmbedProxy.callJSEmbedMethod=function(a){try{var b=eval("jsembed."+a);return null==b?"":b}catch(d){}return""};e.QuizEmbed=function(){};m["com.workinman.utils.QuizEmbed"]=e.QuizEmbed;e.QuizEmbed.__name__=["com","workinman","utils","QuizEmbed"];e.QuizEmbed.addVideo=
function(a){e.QuizEmbed._callVideoJSMethod(".addVideo('"+a+"');")};e.QuizEmbed.hideVideo=function(){e.QuizEmbed._callVideoJSMethod(".hideVideo();")};e.QuizEmbed.showVideo=function(){e.QuizEmbed._callVideoJSMethod(".show();")};e.QuizEmbed.pauseVideo=function(){e.QuizEmbed._callVideoJSMethod(".pause();")};e.QuizEmbed._callVideoJSMethod=function(a){return eval("wmvideojs"+a)};e.WMAssetManager=function(){this.ID_MANIFEST_INDIVIDUAL="WMManifestIndividual";this._LOADING_CHANCES=3;this._baseUrl="";this._assets=
new F.StringMap;this._defs=new F.StringMap;this._flump=new F.StringMap;this._packs=new F.StringMap;this._chunks=new F.StringMap;this._manifests=new F.StringMap;this._flagBaseIsCrossdomain=!1;this._loadingProgress=this._loadingTotal=this._packsLoaded=this._packsMax=this._loadingChances=0;this._loadingPackProgress=new F.StringMap;this._fontCache=new F.StringMap;this._loaders=[]};m["com.workinman.utils.WMAssetManager"]=e.WMAssetManager;e.WMAssetManager.__name__=["com","workinman","utils","WMAssetManager"];
e.WMAssetManager.prototype={getLibrary:function(a){return!1==this._flump.exists(a)?(e.WorkinCloud.get_instance().log("[WMAssetManager](getLibrary) no library named "+a+" exists! Is it defined in config.xml?"),null):this._flump.get(a)},getFont:function(a,b){null==b&&(b=!0);if(!1==this._assets.exists(a))return e.WorkinCloud.get_instance().log("[WMAssetManager](getFont) no asset named "+a+" exists! Returning null."),null;if(!1==b)return new o.Font(this._assets.get(a).get_pack(),a);if(!1==this._fontCache.exists(a)){var d=
new o.Font(this._assets.get(a).get_pack(),a);this._fontCache.set(a,d);d}return this._fontCache.get(a)},getXML:function(a){if(!1==this._assets.exists(a))return e.WorkinCloud.get_instance().log("[WMAssetManager](getXML) No asset named "+a+" exists! Returning null."),null;a=G.parse(this.getFile(a).toString());return new J.Fast(a.firstElement())},getFile:function(a){return!1==this._assets.exists(a)?(e.WorkinCloud.get_instance().log("[WMAssetManager](getFile) No asset named "+a+" exists! Returning null."),
null):this._assets.get(a).get_constructed()?this._assets.get(a).get_data():this._assets.get(a).get_pack().getFile(this._assets.get(a).get_path(),!0)},getSound:function(a){a=e.WorkinUtils.removeExtension(a);return!1==this._assets.exists(a)?(e.WorkinCloud.get_instance().log("[AssetManager](getSound) No asset named "+a+" exists! Returning null."),null):this._assets.get(a).get_constructed()?this._assets.get(a).get_data():this._assets.get(a).get_pack().getSound(this._assets.get(a).get_path(),!0)},getTexture:function(a){a=
e.WorkinUtils.removeExtension(a);return!1==this._assets.exists(a)?(e.WorkinCloud.get_instance().log("[WMAssetManager](getTexture) No asset named "+a+" exists! Returning null."),null):!0==this._assets.get(a).get_constructed()?this._assets.get(a).get_data():this._assets.get(a).get_pack().getTexture(this._assets.get(a).get_path(),!0)},hasAsset:function(a){a=e.WorkinUtils.removeExtension(a);return this._assets.exists(a)},_parseSpritesheet:function(a){for(var b=this.getFile(a+".plist"),d=e.WorkinUtils.parsePropertyList(this.getFile(a+
".plist").toString()),a=this.getTexture(a),c="",f=new N.Rectangle(0,0,0,0),g,d=d.frames,h=v.fields(d),i=0;i<h.length;){c=h[i];++i;g=v.field(d,c);c=e.WorkinUtils.removeExtension(c);g=g.frame;var k=g.split("{");g="";for(var l=0;l<k.length;){var m=k[l];++l;g+=m}k=g.split("}");g="";for(l=0;l<k.length;)m=k[l],++l,g+=m;k=g.split(",");f.x=t.parseFloat(k[0]);f.y=t.parseFloat(k[1]);f.width=t.parseFloat(k[2]);f.height=t.parseFloat(k[3]);g=B.createTexture(f.width|0,f.height|0);g.get_graphics().drawSubImage(a,
0,0,f.x|0,f.y|0,f.width|0,f.height|0);this.addConstructedAsset(c,g)}b.dispose();a.dispose()},_onAllLoadComplete:function(){e.WorkinCloud.get_instance().log("[WMAssetManager](_onAllLoadComplete) All packs loaded!");for(e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(C.ConstantsCloud.EVENT_FILES_LOADED));0<this._loaders.length;)this._loaders.pop()},isLoading:function(){return this._packsLoaded<this._packsMax},addConstructedAsset:function(a,b){new e._WMAssetManager.AssetDef(a,
this._assets,b)},addPack:function(a){for(var b=H.iter(a.get_manifest()._entries);b.hasNext();){var d=b.next();new e._WMAssetManager.AssetDef(d.name,this._assets,a)}},isPackLoaded:function(a){return this._packs.exists(a)},loadFiles:function(a){null==a&&(a="");a=""==a?this.ID_MANIFEST_INDIVIDUAL:a;this._manifests.exists(a)?(this.addPackDef(a),this._loadManifest(this._manifests.get(a),a,null,!1)):e.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError)<Individual> No files queued for manifest ["+
a+"]. Use addFile.")},addFile:function(a,b,d,c,e){null==e&&(e="");null==c&&(c="");null==d&&(d=!1);null==b&&(b="");c=""==c?this.ID_MANIFEST_INDIVIDUAL:c;this._manifests.exists(c)||this._manifests.set(c,new q.Manifest);var f=null;if("webp"==e)f=q.AssetFormat.WEBP;else if("jxr"==e)f=q.AssetFormat.JXR;else if("png"==e)f=q.AssetFormat.PNG;else if("jpg"==e)f=q.AssetFormat.JPG;else if("gif"==e)f=q.AssetFormat.GIF;else if("dds"==e)f=q.AssetFormat.DDS;else if("pvr"==e)f=q.AssetFormat.PVR;else if("pkm"==e)f=
q.AssetFormat.PKM;else if("mp3"==e)f=q.AssetFormat.MP3;else if("m4a"==e)f=q.AssetFormat.M4A;else if("opus"==e)f=q.AssetFormat.OPUS;else if("ogg"==e)f=q.AssetFormat.OGG;else if("wav"==e)f=q.AssetFormat.WAV;else if("data"==e)f=q.AssetFormat.Data;else if(""!=e)throw"[WMAssetManager](addFile) Error: Invalid asset type of "+e;""==e?this._manifests.get(c).add(""==b?a:b,a):this._manifests.get(c).add(""==b?a:b,a,null,f);d&&this.loadFiles(c)},_loadManifest:function(a,b,d,c){null==c&&(c=!0);null==d&&(d="");
var f=this,g=B._platform.loadAssetPack(a);this._loadingTotal+=g._total;this._loadingPackProgress.set(b,0);g.error.connect(function(a){e.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError) Loading failed with error: "+a);e.WorkinCloud.get_instance().get_debugText().addText(a);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEvent.request(C.ConstantsCloud.EVENT_FILES_ERROR));f._loadingChances--;!0==c?0<=f._loadingChances?T.delay(function(){e.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError) Retrying. With "+
f._loadingChances+" more chances.");f.loadPack(b,d,!1)},500):e.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError) Loading attempts timed out."):e.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError) Loading failed, not attempting to retry.")});g.progressChanged.connect(function(){var a=g._progress-f._loadingPackProgress.get(b);f._loadingPackProgress.set(b,g._progress);f._loadingProgress+=a;a=Math.round(100*(f._loadingProgress/f._loadingTotal));e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(C.ConstantsCloud.EVENT_FILES_LOADING,
{value:a}))});this._loaders.push(g.get(function(a){f.addPack(a);f._packs.set(b,a);f._packsLoaded++;for(var d=0,c=f._defs.get(b).get_flump();d<c.length;){var e=c[d];++d;f._flump.exists(e)||f._flump.set(e,new I.Library(a,e))}d=0;for(c=f._defs.get(b).get_tiles();d<c.length;)a=c[d],++d,f._parseSpritesheet(a);f._packsLoaded>=f._packsMax&&f._onAllLoadComplete()}))},loadPack:function(a,b,d){null==d&&(d=!0);null==b&&(b="");!1==this._defs.exists(a)&&e.WorkinCloud.get_instance().log("[WMAssetManager](loadPack) Can't load pack "+
a+". Define the pack in config.xml.");e.WorkinCloud.get_instance().log("[WMAssetManager](loadPack) Loading pack "+a);d&&(this._loadingChances=this._LOADING_CHANCES,this._packsMax++);d=q.Manifest.build(a);""!=this._baseUrl&&(this._flagBaseIsCrossdomain?d.set_externalBasePath(this._baseUrl):d.set_relativeBasePath(this._baseUrl));this._loadManifest(d,a,b)},addPackDef:function(a,b,d){null==b&&(b=[]);null==d&&(d=[]);this._defs.set(a,new e._WMAssetManager.PackDef(a,b,d))},_parseChunk:function(a,b){for(var d=
[],c=[],f=b.nodes.resolve("chunk").iterator();f.hasNext();){var g=f.next();d.push(g.get_innerData().toString())}for(f=b.nodes.resolve("pack").iterator();f.hasNext();)g=f.next(),c.push(g.get_innerData().toString());return new e._WMAssetManager.ChunkDef(a,c,d)},loadChunk:function(a){e.WorkinCloud.get_instance().log("[WMAssetManager](loadChunk) Loading chunk "+a);!1==this._chunks.exists(a)&&e.WorkinCloud.get_instance().log("[WMAssetManager](loadChunk) Chunk "+a+" isn't defined.");for(var b=0,d=this._chunks.get(a).get_chunkIds();b<
d.length;){var c=d[b];++b;this.loadChunk(c)}this._packsLoaded>=this._packsMax&&(this._loadingProgress=this._loadingTotal=0,e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(C.ConstantsCloud.EVENT_FILES_LOADING,{value:0})));b=0;for(d=this._chunks.get(a).get_packIds();b<d.length;)c=d[b],++b,!1==this.isPackLoaded(c)&&this.loadPack(c)},isChunkLoaded:function(a){if(!1==this._chunks.exists(a))return e.WorkinCloud.get_instance().log("[WMAssetManager](isChunkLoaded) Chunk "+
a+" isn't defined."),!1;for(var b=0,a=this._chunks.get(a).get_packIds();b<a.length;){var d=a[b];++b;if(!1==this.isPackLoaded(d))return!1}return!0},addChunk:function(a,b){var d=this._parseChunk(a,b);this._chunks.set(a,d)},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=!0;this.set_baseUrl(a)},set_baseUrl:function(a){this._baseUrl=a;e.WorkinCloud.get_instance().log("[WMAssetManager](setBaseUrl) Base Url set to '"+a+"'");return this._baseUrl},get_baseUrl:function(){return this._baseUrl},
__class__:e.WMAssetManager};e._WMAssetManager={};e._WMAssetManager.AssetDef=function(a,b,d){this._constructed=!1;this._path=a;a=a.split("/");this._id=a[a.length-1];this._data=this._pack=null;A.__instanceof(d,q.AssetPack)?this._pack=d:(this._constructed=!0,this._data=d);this._hash=b;this._hash.set(this._path,this);this._path!=this._id&&this._hash.set(this._id,this)};m["com.workinman.utils._WMAssetManager.AssetDef"]=e._WMAssetManager.AssetDef;e._WMAssetManager.AssetDef.__name__=["com","workinman","utils",
"_WMAssetManager","AssetDef"];e._WMAssetManager.AssetDef.prototype={get_pack:function(){return this._pack},get_path:function(){return this._path},get_data:function(){return this._data},get_constructed:function(){return this._constructed},__class__:e._WMAssetManager.AssetDef};e._WMAssetManager.PackDef=function(a,b,d){this._id=a;this._flump=b;this._tiles=d};m["com.workinman.utils._WMAssetManager.PackDef"]=e._WMAssetManager.PackDef;e._WMAssetManager.PackDef.__name__=["com","workinman","utils","_WMAssetManager",
"PackDef"];e._WMAssetManager.PackDef.prototype={get_tiles:function(){return this._tiles},get_flump:function(){return this._flump},__class__:e._WMAssetManager.PackDef};e._WMAssetManager.ChunkDef=function(a,b,d){this._id=a;this._packs=b;this._chunks=d};m["com.workinman.utils._WMAssetManager.ChunkDef"]=e._WMAssetManager.ChunkDef;e._WMAssetManager.ChunkDef.__name__=["com","workinman","utils","_WMAssetManager","ChunkDef"];e._WMAssetManager.ChunkDef.prototype={get_chunkIds:function(){return this._chunks},
get_packIds:function(){return this._packs},__class__:e._WMAssetManager.ChunkDef};e.WMInput=function(){this._multiTouchAvail=!1;this._inputDown=new F.StringMap;this._keyCodes=new F.StringMap;this._virtualCodes=new F.StringMap;this._keyDown=new F.StringMap;this._virtualDown=new F.StringMap;this._touchList=new F.StringMap;this._touchRemoval=[];this.registerInput("input_click");this._scale=1;this._offset=g.WorkinPoint.request();this._pointer=e.WMPointer.request("",0)};m["com.workinman.utils.WMInput"]=
e.WMInput;e.WMInput.__name__=["com","workinman","utils","WMInput"];e.WMInput.prototype={_onMouseScroll:function(a){e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(p.WMEventInput.PHASE_MOVE,"input_scroll",0,a))},_onPointerUp:function(a){this._inputDown.set("input_click",!1);this._pointer.end(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").end(this._pointer.get_currentPos().x,
this._pointer.get_currentPos().y);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(0,"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,this._pointer.get_swipe()))},_onPointerMove:function(a){this._pointer.move(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").move(this._pointer.get_currentPos().x,this._pointer.get_currentPos().y);
e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(2,"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,this._pointer.get_swipe()))},_onPointerDown:function(a){this._inputDown.set("input_click",!0);this._pointer.begin(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);!1==this._multiTouchAvail&&(a=this._requestPointer("const",0),a.begin(this._pointer.get_currentPos().x,this._pointer.get_currentPos().y),this._touchList.set("const",
a));e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(1,"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,this._pointer.get_swipe()))},_onTouchUp:function(a){var b=this._touchList.get(t.string(a.id));b.end(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);0<b.get_index()&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(0,"input_click",b.get_currentPos().x,b.get_currentPos().y,b.get_swipe()))},
_onTouchMove:function(a){var b=this._touchList.get(t.string(a.id));b.move(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);0<b.get_index()&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(2,"input_click",b.get_currentPos().x,b.get_currentPos().y,b.get_swipe()))},_onTouchDown:function(a){this._searchIndex=0;this._searchFound=!1;do{this._searchFound=!0;for(var b=function(a){return function(){return a.iterator()}}(this._touchList)();b.hasNext();)if(this._searchIndex==
b.next().get_index()){this._searchIndex++;this._searchFound=!1;break}}while(!1==this._searchFound);b=this._requestPointer(t.string(a.id),this._searchIndex);this._touchList.set(b.get_id(),b);b.begin(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);0<this._searchIndex&&e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(1,"input_click",b.get_currentPos().x,b.get_currentPos().y,b.get_swipe()));b=null},_isInputDown:function(a){for(var b=0,d=this._keyCodes.get(a);b<
d.length;){var c=d[b];++b;if(!0==this._keyDown.get(c))return!0}b=0;for(d=this._virtualCodes.get(a);b<d.length;)if(a=d[b],++b,!0==this._virtualDown.get(a))return!0;return!1},_onKeyUp:function(a){this._keyDown.exists(t.string(a.key))&&this._keyDown.set(t.string(a.key),!1);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(C.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY,{key:a.key,state:0}))},_onKeyDown:function(a){this._keyDown.exists(t.string(a.key))&&this._keyDown.set(t.string(a.key),
!0);e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(p.WMEventData.request(C.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY,{key:a.key,state:1}))},getInput:function(a){return this._inputDown.get(a)},registerInput:function(a,b,d){!1==this._inputDown.exists(a)&&(this._inputDown.set(a,!1),this._keyCodes.set(a,[]),this._virtualCodes.set(a,[]));if(null!=b)for(var c=0;c<b.length;){var e=b[c];++c;this._keyCodes.get(a).push(t.string(e));this._keyDown.set(t.string(e),!1)}if(null!=d)for(c=0;c<d.length;)b=
d[c],++c,this._virtualCodes.get(a).push(b),this._virtualDown.set(b,!1)},doDepthTestOnWorldCoordinates:function(a,b){return o.Sprite.hitTest(B.root,(a-this._offset.x)*this._scale,(b-this._offset.y)*this._scale)},prime:function(){this._multiTouchAvail=B._platform.getTouch().get_supported();B._platform.getKeyboard().down.connect(x(this,this._onKeyDown));B._platform.getKeyboard().up.connect(x(this,this._onKeyUp));this._multiTouchAvail&&(B._platform.getTouch().down.connect(x(this,this._onTouchDown)),B._platform.getTouch().move.connect(x(this,
this._onTouchMove)),B._platform.getTouch().up.connect(x(this,this._onTouchUp)));B._platform.getPointer().down.connect(x(this,this._onPointerDown));B._platform.getPointer().move.connect(x(this,this._onPointerMove));B._platform.getPointer().up.connect(x(this,this._onPointerUp));B._platform.getMouse().scroll.connect(x(this,this._onMouseScroll))},_requestEvent:function(a,b,d,c,e){return p.WMEventInput.request(a,b,d,c,e)},_requestPointer:function(a,b){return e.WMPointer.request(a,b)},get_pointer:function(){return this._pointer},
get_offset:function(){return this._offset},set_scale:function(a){this._scale=a;0==this._scale&&(this._scale=0.01);return this._scale},update:function(a){for(var b=this._inputDown.keys();b.hasNext();){var d=b.next();"input_click"!=d&&(!0==this._inputDown.get(d)?!1==this._isInputDown(d)&&(this._inputDown.set(d,!1),e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(0,d,0,0))):!0==this._isInputDown(d)&&(this._inputDown.set(d,!0),e.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(1,
d,0,0))))}this._pointer.update(a);for(b=function(a){return function(){return a.iterator()}}(this._touchList)();b.hasNext();)d=b.next(),d.get_phase()==p.WMEventInput.PHASE_UP?this._touchRemoval.push(d.get_id()):d.update(a);for(;0<this._touchRemoval.length;)this._touchList.get(this._touchRemoval[this._touchRemoval.length-1]).dispose(),this._touchList.remove(this._touchRemoval[this._touchRemoval.length-1]),this._touchRemoval.pop()},__class__:e.WMInput};e.SWIPE=m["com.workinman.utils.SWIPE"]={__ename__:["com",
"workinman","utils","SWIPE"],__constructs__:["SWIPE_NONE","SWIPE_LEFT","SWIPE_RIGHT","SWIPE_UP","SWIPE_DOWN"]};e.SWIPE.SWIPE_NONE=["SWIPE_NONE",0];e.SWIPE.SWIPE_NONE.toString=n;e.SWIPE.SWIPE_NONE.__enum__=e.SWIPE;e.SWIPE.SWIPE_LEFT=["SWIPE_LEFT",1];e.SWIPE.SWIPE_LEFT.toString=n;e.SWIPE.SWIPE_LEFT.__enum__=e.SWIPE;e.SWIPE.SWIPE_RIGHT=["SWIPE_RIGHT",2];e.SWIPE.SWIPE_RIGHT.toString=n;e.SWIPE.SWIPE_RIGHT.__enum__=e.SWIPE;e.SWIPE.SWIPE_UP=["SWIPE_UP",3];e.SWIPE.SWIPE_UP.toString=n;e.SWIPE.SWIPE_UP.__enum__=
e.SWIPE;e.SWIPE.SWIPE_DOWN=["SWIPE_DOWN",4];e.SWIPE.SWIPE_DOWN.toString=n;e.SWIPE.SWIPE_DOWN.__enum__=e.SWIPE;e.WMPointer=function(){};m["com.workinman.utils.WMPointer"]=e.WMPointer;e.WMPointer.__name__=["com","workinman","utils","WMPointer"];e.WMPointer.__interfaces__=[e.pooling.IStrictPoolable];e.WMPointer.request=function(a,b){e.WorkinCloud.get_instance().get_pool().initPool("WMPointer",e.WMPointer);return e.WorkinCloud.get_instance().get_pool().requestObject("WMPointer").init(a,b)};e.WMPointer.__super__=
e.pooling.PoolStrictBase;e.WMPointer.prototype=z(e.pooling.PoolStrictBase.prototype,{update:function(a){this._resetDeltaLine=!0;this._timer-=a;0>this._timer&&(this._timer=e.WMPointer._DELTA_TIMEOUT,this._deltaLine.originToPoint(this._current))},_updateInfo:function(a,b){this._last.toPoint(this._current);this._current.to(a,b);this._current.x+=this._camera.get_pos().x-this._camera.get_screenCenterX();this._current.y+=this._camera.get_pos().y-this._camera.get_screenCenterY();this._delta.toPoint(this._current);
this._delta.subtractPoint(this._last);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._motionDelta.get_p1(),this._current)},_testSwipe:function(){!1==this._consumed?(this._workPoint.to(this._origin.x-this._current.x,this._origin.y-this._current.y),this._swipe=Math.abs(this._workPoint.x)>=e.WMPointer._DELTA_ALLOWANCE&&Math.abs(this._workPoint.y)<e.WMPointer._DELTA_ALLOWANCE?0<this._workPoint.x?e.SWIPE.SWIPE_LEFT:e.SWIPE.SWIPE_RIGHT:Math.abs(this._workPoint.y)>=e.WMPointer._DELTA_ALLOWANCE&&
Math.abs(this._workPoint.x)<e.WMPointer._DELTA_ALLOWANCE?0<this._workPoint.y?e.SWIPE.SWIPE_UP:e.SWIPE.SWIPE_DOWN:e.SWIPE.SWIPE_NONE):this._swipe=e.SWIPE.SWIPE_NONE},end:function(a,b){this._phase=p.WMEventInput.PHASE_UP;this._updateInfo(a,b);this._testSwipe();this._line.endToPoint(this._current)},move:function(a,b){this._updateInfo(a,b);!1!=e.WorkinCloud.get_instance().get_input().getInput("input_click")&&(this._phase=p.WMEventInput.PHASE_MOVE,this._testSwipe(),this._line.endToPoint(this._current))},
begin:function(a,b){this._origin.to(a,b);this._origin.x+=this._camera.get_pos().x-this._camera.get_screenCenterX();this._origin.y+=this._camera.get_pos().y-this._camera.get_screenCenterY();this._current.toPoint(this._origin);this._last.toPoint(this._origin);this._delta.to(0,0);this._line.to(this._origin,this._current);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._origin,this._current);this._consumed=!1;this._phase=p.WMEventInput.PHASE_DOWN;this._swipe=e.SWIPE.SWIPE_NONE},
setCamera:function(a){null!=a?this._camera=a:(this._personalCamera.get_pos().to(0,0),this._camera=this._personalCamera)},get_deltaLine:function(){if(!1==this._resetDeltaLine)return this._deltaLine;this._deltaLine.endToPoint(this._current);this._resetDeltaLine=!1;return this._deltaLine},get_motionDelta:function(){return this._motionDelta},set_index:function(a){return this._index=a},get_index:function(){return this._index},get_id:function(){return this._id},set_consumed:function(a){return this._consumed=
a},get_consumed:function(){return this._consumed},get_swipe:function(){return this._swipe},get_line:function(){return this._line},get_deltaPos:function(){return this._delta},get_lastPos:function(){return this._last},get_currentPos:function(){return this._current},get_originPos:function(){return this._origin},get_phase:function(){return this._phase},destroy:function(){this._personalCamera.dispose();this._personalCamera=null;e.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){this._motionDelta.dispose();
this._motionDelta=null;this._workPoint.dispose();this._workPoint=null;this._origin.dispose();this._origin=null;this._current.dispose();this._current=null;this._last.dispose();this._last=null;this._delta.dispose();this._delta=null;this._line.dispose();this._line=null;this._deltaLine.dispose();this._camera=this._deltaLine=null;e.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b){this._origin=g.WorkinPoint.request(0,0);this._current=g.WorkinPoint.request(0,0);this._last=g.WorkinPoint.request(0,
0);this._delta=g.WorkinPoint.request(0,0);this._workPoint=g.WorkinPoint.request(0,0);this._motionDelta=g.WorkinLine.request();this._line=g.WorkinLine.request();this._deltaLine=g.WorkinLine.request();this._camera=this._personalCamera;this._resetDeltaLine=!0;this._timer=e.WMPointer._DELTA_TIMEOUT;this._id=a;this._index=b;this._phase=p.WMEventInput.PHASE_UP;this._swipe=e.SWIPE.SWIPE_NONE;this._consumed=!1;return this},build:function(a){this._personalCamera=new g.WorkinCamera(0,0);return e.pooling.PoolStrictBase.prototype.build.call(this,
a)},poolId:function(){return"WMPointer"},__class__:e.WMPointer,__properties__:{get_phase:"get_phase",get_originPos:"get_originPos",get_currentPos:"get_currentPos",get_lastPos:"get_lastPos",get_deltaPos:"get_deltaPos",get_line:"get_line",get_swipe:"get_swipe",set_consumed:"set_consumed",get_consumed:"get_consumed",get_id:"get_id",set_index:"set_index",get_index:"get_index",get_motionDelta:"get_motionDelta",get_deltaLine:"get_deltaLine"}});e.WMLocalize=function(){};m["com.workinman.utils.WMLocalize"]=
e.WMLocalize;e.WMLocalize.__name__=["com","workinman","utils","WMLocalize"];e.WMLocalize.prototype={getLocalizeData:function(a,b){null==b&&(b="");""==b&&(b=C.ConstantsCloud.LOCALIZATION_XML_PATH+"translation_"+e.WorkinCloud.get_instance().getString(C.ConstantsCloud.STRING_REGION_ID)+".xml");for(var d=e.WorkinCloud.get_instance().get_assets().getXML(b).nodes.resolve("string").iterator();d.hasNext();){var c=d.next();if(c.att.resolve("id")==a)return e.WMLocalizedData.request(c.att.resolve("id"),c.get_innerData(),
c.att.resolve("fontName"),t.parseFloat(c.att.resolve("fontScale")),t.parseFloat(c.att.resolve("offsetX")),t.parseFloat(c.att.resolve("offsetY")))}e.WorkinCloud.get_instance().log("[WMLocalize] ERROR: No localization data for : "+a);return e.WMLocalizedData.request(a,"","",1,0,0)},__class__:e.WMLocalize};e.WMLocalizedData=function(){};m["com.workinman.utils.WMLocalizedData"]=e.WMLocalizedData;e.WMLocalizedData.__name__=["com","workinman","utils","WMLocalizedData"];e.WMLocalizedData.__interfaces__=
[e.pooling.IStrictPoolable];e.WMLocalizedData.request=function(a,b,d,c,f,g){e.WorkinCloud.get_instance().get_pool().initPool("WMLocalizedData",e.WMLocalizedData);return e.WorkinCloud.get_instance().get_pool().requestObject("WMLocalizedData").init(a,b,d,c,f,g)};e.WMLocalizedData.__super__=e.pooling.PoolStrictBase;e.WMLocalizedData.prototype=z(e.pooling.PoolStrictBase.prototype,{get_offsetY:function(){return this._offsetY},get_offsetX:function(){return this._offsetX},get_scale:function(){return this._scale},
get_fontName:function(){return this._fontName},get_string:function(){return this._string},get_id:function(){return this._id},init:function(a,b,d,c,e,f){this._id=a;this._string=b;this._fontName=d;this._scale=c;this._offsetX=e;this._offsetY=f;return this},poolId:function(){return"WMLocalizedData"},__class__:e.WMLocalizedData,__properties__:{get_id:"get_id",get_string:"get_string",get_fontName:"get_fontName",get_scale:"get_scale",get_offsetX:"get_offsetX",get_offsetY:"get_offsetY"}});e.WMRandom=function(){this._sessions=
new F.StringMap;this._randomSeeds=new F.StringMap};m["com.workinman.utils.WMRandom"]=e.WMRandom;e.WMRandom.__name__=["com","workinman","utils","WMRandom"];e.WMRandom.prototype={__class__:e.WMRandom};e.WeightTracker=function(){};m["com.workinman.utils.WeightTracker"]=e.WeightTracker;e.WeightTracker.__name__=["com","workinman","utils","WeightTracker"];e.WMSeededRandom=function(){};m["com.workinman.utils.WMSeededRandom"]=e.WMSeededRandom;e.WMSeededRandom.__name__=["com","workinman","utils","WMSeededRandom"];
e.WMSound=function(){this._musicId="";this._musicGain=1;this._musicPlaying=null;this._flagSystemMute=this._flagMuted=!1;this._mixer=new L.Mixer;this._sounds=[]};m["com.workinman.utils.WMSound"]=e.WMSound;e.WMSound.__name__=["com","workinman","utils","WMSound"];e.WMSound.prototype={get_musicPlaying:function(){return this._musicPlaying},update:function(a){C.ConstantsCloud.getSupportsSingleMusicTrackOnly()&&null!=this._musicPlaying&&0.95<=this._musicPlaying.get_playback().get_position()/this._musicPlaying.get_sound().get_duration()&&
v.setProperty(this._musicPlaying.get_playback(),"position",0);for(var b=0;b<this._sounds.length;){if(this._sounds[b].get_fade()==e.WMSound.FADE_OUT){if(0<this._sounds[b].get_playback().volume._value){var d=this._sounds[b].get_playback().volume;d.set__(d._value-a*this._sounds[b].get_fadeSpeed());0>=this._sounds[b].get_playback().volume._value&&(this._sounds[b].setFade(e.WMSound.FADE_NONE),this._sounds[b].get_playback().volume.set__(0))}}else this._sounds[b].get_fade()==e.WMSound.FADE_IN&&this._sounds[b].get_playback().volume._value<
this._sounds[b].volume&&(d=this._sounds[b].get_playback().volume,d.set__(d._value+a*this._sounds[b].get_fadeSpeed()),this._sounds[b].get_playback().volume._value>=this._sounds[b].volume&&(this._sounds[b].setFade(e.WMSound.FADE_NONE),this._sounds[b].get_playback().volume.set__(this._sounds[b].volume)));b++}null!=this.get_musicPlaying()&&(this.get_musicPlaying().get_fade()==e.WMSound.FADE_OUT?0<this.get_musicPlaying().get_playback().volume._value&&(d=this.get_musicPlaying().get_playback().volume,d.set__(d._value-
a*this.get_musicPlaying().get_fadeSpeed()),0>=this.get_musicPlaying().get_playback().volume._value&&(this.get_musicPlaying().setFade(e.WMSound.FADE_NONE),this.get_musicPlaying().get_playback().volume.set__(0))):this.get_musicPlaying().get_fade()==e.WMSound.FADE_IN&&this.get_musicPlaying().get_playback().volume._value<this.get_musicPlaying().volume&&(d=this.get_musicPlaying().get_playback().volume,d.set__(d._value+a*this.get_musicPlaying().get_fadeSpeed()),this.get_musicPlaying().get_playback().volume._value>=
this.get_musicPlaying().volume&&(this.get_musicPlaying().setFade(e.WMSound.FADE_NONE),this.get_musicPlaying().get_playback().volume.set__(this.get_musicPlaying().volume))))},_muteMusic:function(a){""!=this._musicId&&(a?this._musicPlaying=null:(a=e.WorkinCloud.get_instance().get_assets().getSound(this._musicId),null==a?e.WorkinCloud.get_instance().log("[WMSound](_muteMusic) Sound asset "+this._musicId+" not found."):(this._musicPlaying=a=new e._WMSound.SoundDef(this._musicId,this._mixer.newSound(a,
1),!0),a.playSound(this._musicGain))))},playMusic:function(a,b){null==b&&(b=1);if(!(C.ConstantsCloud.getSupportsNoAudio()||C.ConstantsCloud.getSupportsSingleMusicTrackOnly()&&null!=this._musicPlaying)&&this._musicId!=a)if(this._musicId=a,this._musicGain=b,!(this.getMute()||""==a)){null!=this._musicPlaying&&this._musicPlaying.dispose();var d=e.WorkinCloud.get_instance().get_assets().getSound(a);null==d?(this._musicId="",e.WorkinCloud.get_instance().log('[WMSound](playSound) Sound asset "'+a+'" not found.')):
(this._musicPlaying=d=new e._WMSound.SoundDef(a,this._mixer.newSound(d,1),!0),d.playSound(b))}},_muteAllToggle:function(a){if(C.ConstantsCloud.getSupportsSingleMusicTrackOnly())null!=this._musicPlaying&&this.get_musicPlaying().get_playback().volume.set__(a?0:0.5);else if(a){for(this._mixer.stopAll();0<this._sounds.length;)this._sounds.splice(0,1);this._muteMusic(!0)}else a||this._muteMusic(!1)},playSound:function(a,b){null==b&&(b=1);if(C.ConstantsCloud.getSupportsAllAudio()&&!this.getMute()){for(var d=
0;d<this._sounds.length;){if(this._sounds[d].id==a){this._sounds[d].playSound(b);return}d++}d=e.WorkinCloud.get_instance().get_assets().getSound(a);null==d?e.WorkinCloud.get_instance().log('[WMSound](playSound) Sound asset "'+a+'" not found.'):(d=new e._WMSound.SoundDef(a,this._mixer.newSound(d,4),!1),this._sounds.push(d),d.playSound(b))}},setMute:function(a){this._flagMuted=a;this._flagSystemMute||this._muteAllToggle(this._flagMuted)},getMute:function(){return this._flagSystemMute||this._flagMuted},
__class__:e.WMSound};e._WMSound={};e._WMSound.SoundDef=function(a,b,d){null==d&&(d=!1);this.id=a;this.isMusic=d;this.volume=1;this._flagPlayed=this._flagHasSound=!1;this._sound=b;this._fade=e.WMSound.FADE_NONE;this._fadeSpeed=1};m["com.workinman.utils._WMSound.SoundDef"]=e._WMSound.SoundDef;e._WMSound.SoundDef.__name__=["com","workinman","utils","_WMSound","SoundDef"];e._WMSound.SoundDef.prototype={playSound:function(a){null==a&&(a=1);null==this._sound?e.WorkinCloud.get_instance().log("[WMSound](playSound) Sound is null."):
(this.volume=a,this._playback=this.isMusic?this._sound.loop(a):this._sound.play(a))},setFade:function(a,b){null==b&&(b=1);this._fade=a;this._fadeSpeed=b},get_fadeSpeed:function(){return this._fadeSpeed},get_fade:function(){return this._fade},get_playback:function(){return this._playback},get_sound:function(){return this._sound},dispose:function(){null!=this._playback&&(this._playback.dispose(),this._playback=null);null!=this._sound&&this._sound.dispose()},__class__:e._WMSound.SoundDef};e.WorkinCloud=
function(){this._TIMER_STACK=0.1;this._poolStore=new e.pooling.PoolStore;this._values=new F.StringMap;this._defaults=new F.StringMap};m["com.workinman.utils.WorkinCloud"]=e.WorkinCloud;e.WorkinCloud.__name__=["com","workinman","utils","WorkinCloud"];e.WorkinCloud.get_instance=function(){null==e.WorkinCloud.__instance&&(e.WorkinCloud.__instance=new e.WorkinCloud,e.WorkinCloud.__instance.init());return e.WorkinCloud.__instance};e.WorkinCloud.prototype={_updateStack:function(a){1>this._stack.length||
this._flagStackPaused||(this._timerStack-=a,0>this._timerStack&&(this._stack[0](),this._stack.shift(),this._timerStack=this._TIMER_STACK))},update:function(a){this._updateStack(a);this._input.update(a)},stack:function(a){this._timerStack=this._TIMER_STACK;for(var b=0;b<a.length;){var d=a[b];++b;this._stack.push(d)}},_updateDisplays:function(a){this._dispatcher.dispatchEvent(p.WMEventData.request(l.Display.EVENT_UPDATE_DISPLAY,{valueID:a}))},sharedObjectSetData:function(a,b){try{var d=W.WMSharedObject.getLocal(a);
d.set_data(b);d.flush();d.dispose()}catch(c){null}},sharedObjectGetData:function(a){try{var b=W.WMSharedObject.getLocal(a),d=b.get_data();b.dispose();return d}catch(c){return{}}},resetValue:function(a){var b=this._defaults.get(a);this._values.set(a,b);this._updateDisplays(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},getValue:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},
getString:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,b)},getInt:function(a){return this._values.get(a)},setInt:function(a,b){this.setValue(a,b)},getBool:function(a){return this._values.get(a)},setBool:function(a,b){this.setValue(a,b)},get_pool:function(){return this._poolStore},get_localize:function(){return this._localize},get_sound:function(){return this._sound},get_assets:function(){return this._assets},get_input:function(){return this._input},get_dispatcher:function(){return this._dispatcher},
get_debugText:function(){return this._debugText},set_debugText:function(a){return this._debugText=a},log:function(){null},init:function(){this._dispatcher=p.WMEventDispatcher.request();this._input=new e.WMInput;this._assets=new e.WMAssetManager;this._sound=new e.WMSound;this._random=new e.WMRandom;this._localize=new e.WMLocalize;this._stack=[];this._timerStack=-1;this._flagStackPaused=!1;this.setString(C.ConstantsCloud.STRING_REGION_ID,"en")},__class__:e.WorkinCloud};e.WorkinUtils=function(){};m["com.workinman.utils.WorkinUtils"]=
e.WorkinUtils;e.WorkinUtils.__name__=["com","workinman","utils","WorkinUtils"];e.WorkinUtils.sendOmniture=function(a){if(e.WorkinCloud.get_instance().getBool(c.ConstantsApp.BOOL_OMNITURE_ENABLED))try{eval("pageNameAppend('"+a+"')")}catch(b){}};e.WorkinUtils.mapWithKeysAndValues=function(a){for(var b=new F.StringMap,d=0;d<a.length-1;)b.set(a[d],a[d+1]),d+=2;return b};e.WorkinUtils.emptyMap=function(a){for(var b=a.keys();b.hasNext();){var d=b.next();e.WorkinUtils._mapEmpty.push(d)}for(;0<e.WorkinUtils._mapEmpty.length;)a.remove(e.WorkinUtils._mapEmpty.pop())};
e.WorkinUtils.removePropertiesFromDynamic=function(a){for(var b=0,d=v.fields(a);b<d.length;){var c=d[b];++b;v.deleteField(a,c)}};e.WorkinUtils.parsePropertyList=function(a){return e.PropertyList.parse(a)};e.WorkinUtils.removeExtension=function(a){if(null==a)return"";var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};e.WorkinUtils.getExtension=function(a){if(null==a)return"";var b=a.lastIndexOf(".");if(0>b)return"";var d=a.lastIndexOf("?");return d>b?a.substring(b+1,d):a.substring(b+1,a.length)};
e.WorkinUtils.getColor=function(a){"#"==a.charAt(0)&&(a="0x"+H.substr(a,1,null));return null==t.parseInt(a)?c.ConstantsApp.COLOR_NONE:t.parseInt(a)};e.WorkinUtils.getColorHex=function(a){"0"==a.charAt(0)&&(a="#"+H.substr(a,2,null));return a};e.WorkinUtils.getBaseURL=function(){return""};e.PropertyList=function(){};m["com.workinman.utils.PropertyList"]=e.PropertyList;e.PropertyList.__name__=["com","workinman","utils","PropertyList"];e.PropertyList.parse=function(a){var a=new J.Fast(G.parse(a).firstElement()),
b={};a.hasNode.resolve("dict")?b=e.PropertyList._parseDict(a.node.resolve("dict")):a.hasNode.resolve("array")&&(b=e.PropertyList._parseValue(a.node.resolve("array")));return b};e.PropertyList._parseDate=function(a){if(!e.PropertyList._dateRegex.match(a))throw'Invalid date "'+a+'" (only yyyy-mm-dd and yyyy-mm-ddThh:mm:ssZ supported)';a=e.PropertyList._dateRegex.matched(1);null!=e.PropertyList._dateRegex.matched(2)&&(a+=" "+e.PropertyList._dateRegex.matched(2));return H.strDate(a)};e.PropertyList._parseDict=
function(a){for(var b=null,d={},a=a.get_elements();a.hasNext();){var c=a.next();"key"==c.get_name()?b=c.get_innerData():null!=b&&(d[b]=e.PropertyList._parseValue(c))}return d};e.PropertyList._parseValue=function(a){var b=null;switch(a.get_name()){case "array":b=[];for(a=a.get_elements();a.hasNext();){var d=a.next();b.push(e.PropertyList._parseValue(d))}break;case "dict":b=e.PropertyList._parseDict(a);break;case "date":b=e.PropertyList._parseDate(a.get_innerData());break;case "string":b=a.get_innerData();
break;case "data":b=a.get_innerData();break;case "true":b=!0;break;case "false":b=!1;break;case "real":b=t.parseFloat(a.get_innerData());break;case "integer":b=t.parseInt(a.get_innerData())}return b};e.pooling.LOG_LEVEL=m["com.workinman.utils.pooling.LOG_LEVEL"]={__ename__:["com","workinman","utils","pooling","LOG_LEVEL"],__constructs__:["NONE","NO_STACK","NEW_STACK","ALL_STACK"]};e.pooling.LOG_LEVEL.NONE=["NONE",0];e.pooling.LOG_LEVEL.NONE.toString=n;e.pooling.LOG_LEVEL.NONE.__enum__=e.pooling.LOG_LEVEL;
e.pooling.LOG_LEVEL.NO_STACK=["NO_STACK",1];e.pooling.LOG_LEVEL.NO_STACK.toString=n;e.pooling.LOG_LEVEL.NO_STACK.__enum__=e.pooling.LOG_LEVEL;e.pooling.LOG_LEVEL.NEW_STACK=["NEW_STACK",2];e.pooling.LOG_LEVEL.NEW_STACK.toString=n;e.pooling.LOG_LEVEL.NEW_STACK.__enum__=e.pooling.LOG_LEVEL;e.pooling.LOG_LEVEL.ALL_STACK=["ALL_STACK",3];e.pooling.LOG_LEVEL.ALL_STACK.toString=n;e.pooling.LOG_LEVEL.ALL_STACK.__enum__=e.pooling.LOG_LEVEL;e.pooling.PoolStore=function(){this._pools=new F.StringMap};m["com.workinman.utils.pooling.PoolStore"]=
e.pooling.PoolStore;e.pooling.PoolStore.__name__=["com","workinman","utils","pooling","PoolStore"];e.pooling.PoolStore.prototype={_testPool:function(a){if(!1==this._pools.exists(a))throw"Using pool "+a+" before it has been initialized is not allowed!";},_logReturn:function(a,b){switch(b.get_log()[1]){case 0:break;case 3:null;break;default:null}},_returnObject:function(a,b){this._testPool(a);var d=this._pools.get(a);d.poolObject(b);this._logReturn(a,d)},_logCreate:function(a,b){switch(b.get_log()[1]){case 1:null;
break;case 2:null;break;case 3:null}},requestObject:function(a){this._testPool(a);var b=this._pools.get(a);this._logCreate(a,b);if(0<b.get_numPooled())return this._result=b.givePool(),this._result.poolActivate(),this._result;b.incrementCreated();if(0<b.get_cap()&&b.get_created()>b.get_cap())throw"Too many instances of "+a+" allocated - currently at "+b.get_created();this._poolClass=b.get_className();return S.createEmptyInstance(this._poolClass).build(x(this,this._returnObject))},initPool:function(a,
b,d,c){null==c&&(c=-1);!0!=this._pools.exists(a)&&(null==d&&(d=e.pooling.LOG_LEVEL.NONE),this._pools.set(a,new e.pooling.PoolTracker(b,d,c)))},__class__:e.pooling.PoolStore};e.pooling.PoolTracker=function(a,b,d){this._pool=[];this._class=a;this._log=b;this._created=this._max=0;this._cap=d;this._loose=0};m["com.workinman.utils.pooling.PoolTracker"]=e.pooling.PoolTracker;e.pooling.PoolTracker.__name__=["com","workinman","utils","pooling","PoolTracker"];e.pooling.PoolTracker.prototype={givePool:function(){return this._pool.pop()},
poolObject:function(a){this._pool.push(a);this._max=N.FMath.max(this._max,this._pool.length)},incrementCreated:function(){this._created++},get_cap:function(){return this._cap},get_created:function(){return this._created},get_numPooled:function(){return this._pool.length},get_log:function(){return this._log},get_className:function(){return this._class},__class__:e.pooling.PoolTracker};P=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};m["flambe.Entity"]=P;
P.__name__=["flambe","Entity"];P.__interfaces__=[r.Disposable];P.prototype={dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},removeChild:function(a){for(var b=null,d=this.firstChild;null!=d;){var c=d.next;if(d==a){null==b?this.firstChild=c:b.next=c;d.parent=null;d.next=null;break}b=d;d=c}},addChild:function(a,b){null==
b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var d=null,c=this.firstChild;null!=c;)d=c,c=c.next;null!=d?d.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},remove:function(a){for(var b=null,d=this.firstComponent;null!=d;){var c=d.next;if(d==a)return null==b?this.firstComponent=c:b.init(this,c),delete this._compMap[d.get_name()],d.onRemoved(),d.init(null,null),!0;b=d;d=c}return!1},add:function(a){null!=a.owner&&a.owner.remove(a);var b=
a.get_name(),d=this._compMap[b];null!=d&&this.remove(d);this._compMap[b]=a;b=null;for(d=this.firstComponent;null!=d;)b=d,d=d.next;null!=b?b.next=a:this.firstComponent=a;a.init(this,null);a.onAdded();return this},__class__:P};i={Platform:function(){}};m["flambe.platform.Platform"]=i.Platform;i.Platform.__name__=["flambe","platform","Platform"];i.Platform.prototype={__class__:i.Platform};i.html={};i.html.HtmlPlatform=function(){};m["flambe.platform.html.HtmlPlatform"]=i.html.HtmlPlatform;i.html.HtmlPlatform.__name__=
["flambe","platform","html","HtmlPlatform"];i.html.HtmlPlatform.__interfaces__=[i.Platform];i.html.HtmlPlatform.prototype={createRenderer:function(a){return new i.html.CanvasRenderer(a)},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getRenderer:function(){return this._renderer},getExternal:function(){null==this._external&&(this._external=new i.html.HtmlExternal);return this._external},getWeb:function(){null==
this._web&&(this._web=new i.html.HtmlWeb(this._container));return this._web},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new i.BasicKeyboard;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getTouch:function(){return this._touch},getMouse:function(){return this._mouse},
getPointer:function(){return this._pointer},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;B.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getTime:function(){return Date.now()/1E3},getStage:function(){return this._stage},loadAssetPack:function(a){return(new i.html.HtmlAssetPackLoader(this,a)).promise},useMonotonicTimer:function(){var a=this;this._lastUpdate=Date.now();var b=i.html.HtmlUtil.loadExtension("requestAnimationFrame").value;
if(null!=b){var d=y.window.performance,c=null!=d&&i.html.HtmlUtil.polyfill("now",d);this.inRecursiveUpdate=!0;c?this._lastUpdate=d.now():null;var e=null,e=function(f){a.update(c?d.now():f);b(e,a.canvas)};b(e,this.canvas)}else this.useIntervalTimer()},useIntervalTimer:function(){var a=this;y.window.setInterval(function(){a.update(Date.now())},16)},init:function(){var a=this;i.html.HtmlUtil.fixAndroidMath();this.canvas=null;try{this.canvas=y.window.flambe.canvas}catch(b){}this.canvas.setAttribute("tabindex",
"0");this.canvas.style.outlineStyle="none";this.canvas.setAttribute("moz-opaque","true");this._stage=new i.html.HtmlStage(this.canvas);this._pointer=new i.BasicPointer;this._mouse=new i.html.HtmlMouse(this._pointer,this.canvas);this._renderer=this.createRenderer(this.canvas);this.mainLoop=new i.MainLoop;this.canUseMonotonicTimer=this.inRecursiveUpdate=this.musicPlaying=!1;this._canvas=this.canvas;this._container=this.canvas.parentElement;this._container.style.overflow="hidden";this._container.style.position=
"relative";this._container.style.msTouchAction="none";var d=0,c=function(b){if(!(1E3>b.timeStamp-d)){var c=a.canvas.getBoundingClientRect(),e=a.getX(b,c),c=a.getY(b,c);switch(b.type){case "mousedown":b.target==a.canvas&&(b.preventDefault(),a._mouse.submitDown(e,c,b.button),a.canvas.focus());break;case "mousemove":a._mouse.submitMove(e,c);break;case "mouseup":a._mouse.submitUp(e,c,b.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(e,c,"mousewheel"==b.type?b.wheelDelta/40:
-b.detail)&&b.preventDefault()}}};y.window.addEventListener("mousedown",c,!1);y.window.addEventListener("mousemove",c,!1);y.window.addEventListener("mouseup",c,!1);this.canvas.addEventListener("mousewheel",c,!1);this.canvas.addEventListener("DOMMouseScroll",c,!1);var e="undefined"!=typeof y.window.ontouchstart,c="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(e||c){var f=new i.BasicTouch(this._pointer,e?4:y.navigator.msMaxTouchPoints);this._touch=f;c=function(b){var c=
e?b.changedTouches:[b],j=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":b.preventDefault();i.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&i.html.HtmlUtil.hideMobileBrowser();for(b=0;b<c.length;){var g=c[b];++b;var h=a.getX(g,j),k=a.getY(g,j),g=(e?g.identifier:g.pointerId)|0;f.submitDown(g,h,k)}break;case "touchmove":case "MSPointerMove":b.preventDefault();for(b=0;b<c.length;)g=c[b],++b,h=a.getX(g,j),k=a.getY(g,j),g=(e?g.identifier:g.pointerId)|0,
f.submitMove(g,h,k);break;case "touchend":case "touchcancel":case "MSPointerUp":b.preventDefault();for(b=0;b<c.length;)g=c[b],++b,h=a.getX(g,j),k=a.getY(g,j),g=(e?g.identifier:g.pointerId)|0,f.submitUp(g,h,k)}};e?(this.canvas.addEventListener("touchstart",c,!1),this.canvas.addEventListener("touchmove",c,!1),this.canvas.addEventListener("touchend",c,!1),this.canvas.addEventListener("touchcancel",c,!1)):(this.canvas.addEventListener("MSPointerDown",c,!1),this.canvas.addEventListener("MSPointerMove",
c,!1),this.canvas.addEventListener("MSPointerUp",c,!1))}else this._touch=new i.DummyTouch;var g=y.window.onerror;y.window.onerror=function(a,b,d){B.uncaughtError.emit1(a);return null!=g?g(a,b,d):!1};var h=i.html.HtmlUtil.loadExtension("hidden",y.document);null!=h.value?(c=function(){B.hidden.set__(v.field(y.document,h.field))},c(null),y.document.addEventListener(h.prefix+"visibilitychange",c,!1)):(c=function(a){B.hidden.set__("pagehide"==a.type)},y.window.addEventListener("pageshow",c,!1),y.window.addEventListener("pagehide",
c,!1));B.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this.escapeUpdateLoop=this._skipFrame=!1;this.useMonotonicTimer();null},__class__:i.html.HtmlPlatform};r.Value=function(a,b){this._value=a;this._changed=null!=b?new r.Signal2(b):null};m["flambe.util.Value"]=r.Value;r.Value.__name__=["flambe","util","Value"];r.Value.prototype={get_changed:function(){null==this._changed&&(this._changed=new r.Signal2);return this._changed},set__:function(a){var b=this._value;a!=b&&(this._value=
a,null!=this._changed&&this._changed.emit2(a,b));return a},watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},__class__:r.Value};r.SignalConnection=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};m["flambe.util.SignalConnection"]=r.SignalConnection;r.SignalConnection.__name__=["flambe","util","SignalConnection"];r.SignalConnection.__interfaces__=[r.Disposable];r.SignalConnection.prototype={dispose:function(){null!=this._signal&&(this._signal.disconnect(this),
this._signal=null)},once:function(){this.stayInList=!1;return this},__class__:r.SignalConnection};r.SignalBase=function(a){this._head=null!=a?new r.SignalConnection(this,a):null;this._deferredTasks=null};m["flambe.util.SignalBase"]=r.SignalBase;r.SignalBase.__name__=["flambe","util","SignalBase"];r.SignalBase.prototype={listRemove:function(a){for(var b=null,d=this._head;null!=d;){if(d==a){a=d._next;null==b?this._head=a:b._next=a;break}b=d;d=d._next}},listAdd:function(a,b){if(b)a._next=this._head,
this._head=a;else{for(var d=null,c=this._head;null!=c;)d=c,c=c._next;null!=d?d._next=a:this._head=a}},didEmit:function(a){for(this._head=a;null!=this._deferredTasks;)this._deferredTasks.fn(),this._deferredTasks=this._deferredTasks.next},willEmit:function(){var a=this._head;this._head=r.SignalBase.DISPATCHING_SENTINEL;return a},defer:function(a){for(var b=null,d=this._deferredTasks;null!=d;)b=d,d=d.next;a=new r._SignalBase.Task(a);null!=b?b.next=a:this._deferredTasks=a},emit2:function(a,b){for(var d=
this.willEmit(),c=d;null!=c;)c._listener(a,b),c.stayInList||c.dispose(),c=c._next;this.didEmit(d)},emit1:function(a){for(var b=this.willEmit(),d=b;null!=d;)d._listener(a),d.stayInList||d.dispose(),d=d._next;this.didEmit(b)},emit0:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},disconnect:function(a){var b=this;this._head==r.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},connectImpl:function(a,
b){var d=this,c=new r.SignalConnection(this,a);this._head==r.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){d.listAdd(c,b)}):this.listAdd(c,b);return c},__class__:r.SignalBase};r.Signal2=function(a){r.SignalBase.call(this,a)};m["flambe.util.Signal2"]=r.Signal2;r.Signal2.__name__=["flambe","util","Signal2"];r.Signal2.__super__=r.SignalBase;r.Signal2.prototype=z(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal2});r.Signal1=function(a){r.SignalBase.call(this,
a)};m["flambe.util.Signal1"]=r.Signal1;r.Signal1.__name__=["flambe","util","Signal1"];r.Signal1.__super__=r.SignalBase;r.Signal1.prototype=z(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal1});R={AnimatedFloat:function(a,b){this._behavior=null;r.Value.call(this,a,b)}};m["flambe.animation.AnimatedFloat"]=R.AnimatedFloat;R.AnimatedFloat.__name__=["flambe","animation","AnimatedFloat"];R.AnimatedFloat.__super__=r.Value;R.AnimatedFloat.prototype=
z(r.Value.prototype,{update:function(a){null!=this._behavior&&(r.Value.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},set__:function(a){this._behavior=null;return r.Value.prototype.set__.call(this,a)},__class__:R.AnimatedFloat});B=function(){};m["flambe.System"]=B;B.__name__=["flambe","System"];B.init=function(){B._calledInit||(B._platform.init(),B._calledInit=!0)};B.createTexture=function(a,b){return B._platform.getRenderer().createEmptyTexture(a,
b)};D=function(){this._realDt=0};m["flambe.SpeedAdjuster"]=D;D.__name__=["flambe","SpeedAdjuster"];D.__super__=U;D.prototype=z(U.prototype,{onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},get_name:function(){return"SpeedAdjuster_5"},__class__:D});R.Behavior=function(){};m["flambe.animation.Behavior"]=R.Behavior;R.Behavior.__name__=["flambe","animation","Behavior"];R.Behavior.prototype={__class__:R.Behavior};q={Asset:function(){}};m["flambe.asset.Asset"]=
q.Asset;q.Asset.__name__=["flambe","asset","Asset"];q.Asset.__interfaces__=[r.Disposable];q.Asset.prototype={__class__:q.Asset};q.AssetFormat=m["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data,ZIP,TAR".split(",")};q.AssetFormat.WEBP=["WEBP",0];q.AssetFormat.WEBP.toString=n;q.AssetFormat.WEBP.__enum__=q.AssetFormat;q.AssetFormat.JXR=["JXR",1];q.AssetFormat.JXR.toString=n;q.AssetFormat.JXR.__enum__=q.AssetFormat;
q.AssetFormat.PNG=["PNG",2];q.AssetFormat.PNG.toString=n;q.AssetFormat.PNG.__enum__=q.AssetFormat;q.AssetFormat.JPG=["JPG",3];q.AssetFormat.JPG.toString=n;q.AssetFormat.JPG.__enum__=q.AssetFormat;q.AssetFormat.GIF=["GIF",4];q.AssetFormat.GIF.toString=n;q.AssetFormat.GIF.__enum__=q.AssetFormat;q.AssetFormat.DDS=["DDS",5];q.AssetFormat.DDS.toString=n;q.AssetFormat.DDS.__enum__=q.AssetFormat;q.AssetFormat.PVR=["PVR",6];q.AssetFormat.PVR.toString=n;q.AssetFormat.PVR.__enum__=q.AssetFormat;q.AssetFormat.PKM=
["PKM",7];q.AssetFormat.PKM.toString=n;q.AssetFormat.PKM.__enum__=q.AssetFormat;q.AssetFormat.MP3=["MP3",8];q.AssetFormat.MP3.toString=n;q.AssetFormat.MP3.__enum__=q.AssetFormat;q.AssetFormat.M4A=["M4A",9];q.AssetFormat.M4A.toString=n;q.AssetFormat.M4A.__enum__=q.AssetFormat;q.AssetFormat.OPUS=["OPUS",10];q.AssetFormat.OPUS.toString=n;q.AssetFormat.OPUS.__enum__=q.AssetFormat;q.AssetFormat.OGG=["OGG",11];q.AssetFormat.OGG.toString=n;q.AssetFormat.OGG.__enum__=q.AssetFormat;q.AssetFormat.WAV=["WAV",
12];q.AssetFormat.WAV.toString=n;q.AssetFormat.WAV.__enum__=q.AssetFormat;q.AssetFormat.Data=["Data",13];q.AssetFormat.Data.toString=n;q.AssetFormat.Data.__enum__=q.AssetFormat;q.AssetFormat.ZIP=["ZIP",14];q.AssetFormat.ZIP.toString=n;q.AssetFormat.ZIP.__enum__=q.AssetFormat;q.AssetFormat.TAR=["TAR",15];q.AssetFormat.TAR.toString=n;q.AssetFormat.TAR.__enum__=q.AssetFormat;q.AssetEntry=function(a,b,d,c){this.name=a;this.url=b;this.format=d;this.bytes=c};m["flambe.asset.AssetEntry"]=q.AssetEntry;q.AssetEntry.__name__=
["flambe","asset","AssetEntry"];q.AssetEntry.prototype={__class__:q.AssetEntry};q.AssetPack=function(){};m["flambe.asset.AssetPack"]=q.AssetPack;q.AssetPack.__name__=["flambe","asset","AssetPack"];q.AssetPack.__interfaces__=[r.Disposable];q.AssetPack.prototype={__class__:q.AssetPack};q.File=function(){};m["flambe.asset.File"]=q.File;q.File.__name__=["flambe","asset","File"];q.File.__interfaces__=[q.Asset];q.File.prototype={__class__:q.File};A=void 0;y=void 0;y=function(){};m["js.Browser"]=y;y.__name__=
["js","Browser"];q.Manifest=function(){this._entries=[]};m["flambe.asset.Manifest"]=q.Manifest;q.Manifest.__name__=["flambe","asset","Manifest"];q.Manifest.build=function(a,b){null==b&&(b=!0);var d=v.field(ga.Meta.getType(q.Manifest).assets[0],a);if(null==d){if(b)throw r.Strings.withFields("Missing asset pack",["name",a]);return null}var c=new q.Manifest;c.set_relativeBasePath("assets");for(var e=0;e<d.length;){var f=d[e];++e;var g=f.name,h=a+"/"+g+"?v="+t.string(f.md5),i=q.Manifest.inferFormat(g);
i!=q.AssetFormat.Data&&(g=r.Strings.removeFileExtension(g));c.add(g,h,f.bytes,i)}return c};q.Manifest.inferFormat=function(a){a=r.Strings.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return q.AssetFormat.GIF;case "jpg":case "jpeg":return q.AssetFormat.JPG;case "jxr":case "wdp":return q.AssetFormat.JXR;case "png":return q.AssetFormat.PNG;case "webp":return q.AssetFormat.WEBP;case "dds":return q.AssetFormat.DDS;case "pvr":return q.AssetFormat.PVR;case "pkm":return q.AssetFormat.PKM;
case "m4a":return q.AssetFormat.M4A;case "mp3":return q.AssetFormat.MP3;case "ogg":return q.AssetFormat.OGG;case "opus":return q.AssetFormat.OPUS;case "wav":return q.AssetFormat.WAV;case "zip":return q.AssetFormat.ZIP;case "tar":return q.AssetFormat.TAR}else null;return q.AssetFormat.Data};q.Manifest.prototype={set_externalBasePath:function(a){this._externalBasePath=a;null!=a&&null;return a},get_externalBasePath:function(){return this._externalBasePath},set_relativeBasePath:function(a){this._relativeBasePath=
a;null!=a&&null;return a},get_relativeBasePath:function(){return this._relativeBasePath},getFullURL:function(a){var b=null!=this.get_externalBasePath()&&q.Manifest._supportsCrossOrigin?this.get_externalBasePath():this.get_relativeBasePath(),d=null!=this.get_externalBasePath()?this.get_externalBasePath():this.get_relativeBasePath();a.format==q.AssetFormat.Data&&(d=b);return null!=d?r.Strings.joinPath(d,a.url):a.url},iterator:function(){return H.iter(this._entries)},add:function(a,b,d,c){null==d&&(d=
0);null==c&&(c=q.Manifest.inferFormat(b));a=new q.AssetEntry(a,b,c,d);this._entries.push(a);return a},__class__:q.Manifest};M={Benchmark:function(){}};m["flambe.debug.Benchmark"]=M.Benchmark;M.Benchmark.__name__=["flambe","debug","Benchmark"];M.Benchmark.start=function(a){M.Benchmark._calledStart=!0;M.Benchmark._calledCleanup=!1;M.Benchmark._fn=a;M.Benchmark._root=new P;M.Benchmark._sprites=[];M.Benchmark._timeStart=B._platform.getTime();B.root.addChild(M.Benchmark._root);T.delay(M.Benchmark.benchmark,
1E3)};M.Benchmark.benchmark=function(){for(var a,b=0;250>b;)b++,a=new o.Sprite,a.set_pointerEnabled(!1),M.Benchmark._root.add(a),M.Benchmark._sprites.push(a);5E3>M.Benchmark._sprites.length?T.delay(M.Benchmark.benchmark,100):M.Benchmark.cleanup()};M.Benchmark.cleanup=function(){for(var a=0,b=M.Benchmark._sprites.length;a<b;){var d=a++;M.Benchmark._root.remove(M.Benchmark._sprites[d])}B.root.removeChild(M.Benchmark._root);M.Benchmark._sprites=null;a=B._platform.getTime()-M.Benchmark._timeStart;a=Math.round(1E4*
(1/a));M.Benchmark._benchmark=a;M.Benchmark._calledCleanup=!0;null!=M.Benchmark._fn&&M.Benchmark._fn.apply(null,[M.Benchmark._benchmark])};o={};o.BlendMode=m["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:["Normal","Add","Mask","Copy"]};o.BlendMode.Normal=["Normal",0];o.BlendMode.Normal.toString=n;o.BlendMode.Normal.__enum__=o.BlendMode;o.BlendMode.Add=["Add",1];o.BlendMode.Add.toString=n;o.BlendMode.Add.__enum__=o.BlendMode;o.BlendMode.Mask=["Mask",2];o.BlendMode.Mask.toString=
n;o.BlendMode.Mask.__enum__=o.BlendMode;o.BlendMode.Copy=["Copy",3];o.BlendMode.Copy.toString=n;o.BlendMode.Copy.__enum__=o.BlendMode;N={Point:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b}};m["flambe.math.Point"]=N.Point;N.Point.__name__=["flambe","math","Point"];N.Point.prototype={__class__:N.Point};o.Sprite=function(){this.blendMode=this.scissor=null;var a=this;this._flags=139;this._localMatrix=new N.Matrix;var b=function(){a._flags|=12};this.x=new R.AnimatedFloat(0,b);this.y=new R.AnimatedFloat(0,
b);this.rotation=new R.AnimatedFloat(0,b);this.scaleX=new R.AnimatedFloat(1,b);this.scaleY=new R.AnimatedFloat(1,b);this.anchorX=new R.AnimatedFloat(0,b);this.anchorY=new R.AnimatedFloat(0,b);this.alpha=new R.AnimatedFloat(1)};m["flambe.display.Sprite"]=o.Sprite;o.Sprite.__name__=["flambe","display","Sprite"];o.Sprite.hitTest=function(a,b,d){var c=a._compMap.Sprite_2;if(null!=c){if(3!=(c._flags&3))return null;c.getLocalMatrix().inverseTransform(b,d,o.Sprite._scratchPoint)&&(b=o.Sprite._scratchPoint.x,
d=o.Sprite._scratchPoint.y);var e=c.scissor;if(null!=e&&!e.contains(b,d))return null}a=o.Sprite.hitTestBackwards(a.firstChild,b,d);return null!=a?a:null!=c&&c.containsLocal(b,d)?c:null};o.Sprite.render=function(a,b){var d=a._compMap.Sprite_2;if(null!=d){var c=d.alpha._value;if(0==(d._flags&1)||0>=c)return;b.save();1>c&&b.multiplyAlpha(c);null!=d.blendMode&&b.setBlendMode(d.blendMode);var c=d.getLocalMatrix(),e=c.m02,f=c.m12;0!=(d._flags&128)&&(e=Math.round(e),f=Math.round(f));b.transform(c.m00,c.m10,
c.m01,c.m11,e,f);c=d.scissor;null!=c&&b.applyScissor(c.x,c.y,c.width,c.height);d.draw(b)}c=a._compMap.Director_3;if(null!=c){c=c.occludedScenes;for(e=0;e<c.length;)f=c[e],++e,o.Sprite.render(f,b)}for(c=a.firstChild;null!=c;)e=c.next,o.Sprite.render(c,b),c=e;null!=d&&b.restore()};o.Sprite.hitTestBackwards=function(a,b,d){if(null!=a){var c=o.Sprite.hitTestBackwards(a.next,b,d);return null!=c?c:o.Sprite.hitTest(a,b,d)}return null};o.Sprite.__super__=U;o.Sprite.prototype=z(U.prototype,{set_pointerEnabled:function(a){this._flags=
r.BitSets.set(this._flags,2,a);return a},set_visible:function(a){this._flags=r.BitSets.set(this._flags,1,a);return a},draw:function(){},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},getLocalMatrix:function(){0!=(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/
180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},get_name:function(){return"Sprite_2"},__class__:o.Sprite});o.FillSprite=function(a,b,d){o.Sprite.call(this);this.color=a;this.width=new R.AnimatedFloat(b);this.height=new R.AnimatedFloat(d)};m["flambe.display.FillSprite"]=o.FillSprite;
o.FillSprite.__name__=["flambe","display","FillSprite"];o.FillSprite.__super__=o.Sprite;o.FillSprite.prototype=z(o.Sprite.prototype,{onUpdate:function(a){o.Sprite.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},getNaturalHeight:function(){return this.height._value},getNaturalWidth:function(){return this.width._value},draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},__class__:o.FillSprite});o.Glyph=function(a){this._kernings=null;this.xOffset=
this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};m["flambe.display.Glyph"]=o.Glyph;o.Glyph.__name__=["flambe","display","Glyph"];o.Glyph.prototype={setKerning:function(a,b){null==this._kernings&&(this._kernings=new F.IntMap);this._kernings.set(a,b)},getKerning:function(a){return null!=this._kernings?this._kernings.get(a)|0:0},draw:function(a,b,d){0<this.width&&a.drawSubImage(this.page,b+this.xOffset,d+this.yOffset,this.x,this.y,this.width,this.height)},
__class__:o.Glyph};o.Font=function(a,b){this.name=b;this._pack=a;this.reload()};m["flambe.display.Font"]=o.Font;o.Font.__name__=["flambe","display","Font"];o.Font.prototype={reload:function(){this._glyphs=new F.IntMap;this._glyphs.set(o.Font.NEWLINE.charCode,o.Font.NEWLINE);for(var a=new o._Font.ConfigParser(this._pack.getFile(this.name+".fnt").toString()),b=new F.IntMap,d=this.name.lastIndexOf("/"),d=0<=d?H.substr(this.name,0,d+1):"",c=a.keywords();c.hasNext();)switch(c.next()){case "info":for(var e=
a.pairs();e.hasNext();){var f=e.next();switch(f.key){case "size":this.size=f.getInt()}}break;case "page":for(var e=0,g=null,h=a.pairs();h.hasNext();)switch(f=h.next(),f.key){case "id":e=f.getInt();break;case "file":g=f.getString()}b.set(e,this._pack.getTexture(d+r.Strings.removeFileExtension(g)));break;case "char":e=null;for(g=a.pairs();g.hasNext();)switch(f=g.next(),f.key){case "id":e=new o.Glyph(f.getInt());break;case "x":e.x=f.getInt();break;case "y":e.y=f.getInt();break;case "width":e.width=f.getInt();
break;case "height":e.height=f.getInt();break;case "page":e.page=b.get(f.getInt());break;case "xoffset":e.xOffset=f.getInt();break;case "yoffset":e.yOffset=f.getInt();break;case "xadvance":e.xAdvance=f.getInt()}this._glyphs.set(e.charCode,e);break;case "kerning":for(var e=null,h=g=0,i=a.pairs();i.hasNext();)switch(f=i.next(),f.key){case "first":e=this._glyphs.get(f.getInt());break;case "second":g=f.getInt();break;case "amount":h=f.getInt()}null!=e&&0!=h&&e.setKerning(g,h)}},layoutText:function(a,
b,d){null==d&&(d=0);null==b&&(b=o.TextAlign.Left);return new o.TextLayout(this,a,b,d)},getGlyphs:function(a){for(var b=[],d=0,c=a.length;d<c;){var e=d++,e=this._glyphs.get(a.charCodeAt(e));null!=e?b.push(e):null}return b},__class__:o.Font};o.TextAlign=m["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};o.TextAlign.Left=["Left",0];o.TextAlign.Left.toString=n;o.TextAlign.Left.__enum__=o.TextAlign;o.TextAlign.Center=["Center",1];o.TextAlign.Center.toString=
n;o.TextAlign.Center.__enum__=o.TextAlign;o.TextAlign.Right=["Right",2];o.TextAlign.Right.toString=n;o.TextAlign.Right.__enum__=o.TextAlign;o.TextLayout=function(a,b,d,c){this.lines=0;var e=this;this._font=a;this._glyphs=[];this._offsets=[];this.bounds=new N.Rectangle;for(var f=[],g=b.length,h=0;h<g;){var i=h++,k=b.charCodeAt(i),k=a._glyphs.get(k);null!=k?this._glyphs.push(k):null}for(var b=-1,l=0,m=0,g=a._glyphs.get(10),h=function(){e.bounds.width=N.FMath.max(e.bounds.width,l);e.bounds.height+=m;
f[e.lines]=l;m=l=0;++e.lines},i=0;i<this._glyphs.length;){k=this._glyphs[i];this._offsets[i]=l;var n=0<c&&l+k.width>c;n||k==g?(n&&(0<=b?(this._glyphs[b]=g,l=this._offsets[b],i=b):this._glyphs.splice(i,0,g)),b=-1,m=a.size,h()):(32==k.charCode&&(b=i),l+=k.xAdvance,m=N.FMath.max(m,k.height+k.yOffset),i+1<this._glyphs.length&&(l+=k.getKerning(this._glyphs[i+1].charCode)));++i}h();for(var i=0,b=o.TextLayout.getAlignOffset(d,f[0],c),g=1.79769313486231E308,h=-1.79769313486231E308,p=n=0,q=this._glyphs.length;p<
q;){k=this._glyphs[p];10==k.charCode&&(i+=a.size,++n,b=o.TextLayout.getAlignOffset(d,f[n],c));this._offsets[p]+=b;var r=i+k.yOffset,g=g<r?g:r,h=N.FMath.max(h,r+k.height);++p}this.bounds.x=o.TextLayout.getAlignOffset(d,this.bounds.width,c);this.bounds.y=g;this.bounds.height=h-g};m["flambe.display.TextLayout"]=o.TextLayout;o.TextLayout.__name__=["flambe","display","TextLayout"];o.TextLayout.getAlignOffset=function(a,b,d){switch(a[1]){case 0:return 0;case 2:return d-b;case 1:return(d-b)/2}};o.TextLayout.prototype=
{draw:function(a){for(var b=0,d=0,c=this._glyphs.length;d<c;){var e=this._glyphs[d];10==e.charCode?b+=this._font.size:e.draw(a,this._offsets[d],b);++d}},__class__:o.TextLayout};o._Font={};o._Font.ConfigParser=function(a){this._configText=a;this._keywordPattern=new Y("([a-z]+)(.*)","");this._pairPattern=new Y('([a-z]+)=("[^"]*"|[^\\s]+)',"")};m["flambe.display._Font.ConfigParser"]=o._Font.ConfigParser;o._Font.ConfigParser.__name__=["flambe","display","_Font","ConfigParser"];o._Font.ConfigParser.advance=
function(a,b){var d=b.matchedPos();return H.substr(a,d.pos+d.len,a.length)};o._Font.ConfigParser.prototype={pairs:function(){var a=this,b=this._pairText;return{next:function(){b=o._Font.ConfigParser.advance(b,a._pairPattern);return new o._Font.ConfigPair(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},keywords:function(){var a=this,b=this._configText;return{next:function(){b=o._Font.ConfigParser.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);
return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},__class__:o._Font.ConfigParser};o._Font.ConfigPair=function(a,b){this.key=a;this._value=b};m["flambe.display._Font.ConfigPair"]=o._Font.ConfigPair;o._Font.ConfigPair.__name__=["flambe","display","_Font","ConfigPair"];o._Font.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:H.substr(this._value,1,this._value.length-2)},getInt:function(){return t.parseInt(this._value)},__class__:o._Font.ConfigPair};
o.Graphics=function(){};m["flambe.display.Graphics"]=o.Graphics;o.Graphics.__name__=["flambe","display","Graphics"];o.Graphics.prototype={__class__:o.Graphics};o.ImageSprite=function(a){o.Sprite.call(this);this.texture=a};m["flambe.display.ImageSprite"]=o.ImageSprite;o.ImageSprite.__name__=["flambe","display","ImageSprite"];o.ImageSprite.__super__=o.Sprite;o.ImageSprite.prototype=z(o.Sprite.prototype,{getNaturalHeight:function(){return this.texture.get_height()},getNaturalWidth:function(){return this.texture.get_width()},
draw:function(a){a.drawImage(this.texture,0,0)},__class__:o.ImageSprite});o.Orientation=m["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};o.Orientation.Portrait=["Portrait",0];o.Orientation.Portrait.toString=n;o.Orientation.Portrait.__enum__=o.Orientation;o.Orientation.Landscape=["Landscape",1];o.Orientation.Landscape.toString=n;o.Orientation.Landscape.__enum__=o.Orientation;o.TextSprite=function(a,b){null==b&&(b="");this._layout=
null;var d=this;o.Sprite.call(this);this._font=a;this._text=b;this._align=o.TextAlign.Left;this._flags|=64;this.wrapWidth=new R.AnimatedFloat(0,function(){d._flags|=64})};m["flambe.display.TextSprite"]=o.TextSprite;o.TextSprite.__name__=["flambe","display","TextSprite"];o.TextSprite.__super__=o.Sprite;o.TextSprite.prototype=z(o.Sprite.prototype,{onUpdate:function(a){o.Sprite.prototype.onUpdate.call(this,a);this.wrapWidth.update(a)},updateLayout:function(){0!=(this._flags&64)&&(this._flags&=-65,this._layout=
this._font.layoutText(this._text,this._align,this.wrapWidth._value))},set_font:function(a){a!=this._font&&(this._font=a,this._flags|=64);return a},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=64);return a},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},getNaturalHeight:function(){this.updateLayout();return this._layout.lines*this._font.size},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:
this._layout.bounds.width},draw:function(a){this.updateLayout();this._layout.draw(a,this._align)},getLayout:function(){return this._layout},__class__:o.TextSprite});o.Texture=function(){};m["flambe.display.Texture"]=o.Texture;o.Texture.__name__=["flambe","display","Texture"];o.Texture.__interfaces__=[q.Asset];o.Texture.prototype={__class__:o.Texture};f={};f.Key=m["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
f.Key.A=["A",0];f.Key.A.toString=n;f.Key.A.__enum__=f.Key;f.Key.B=["B",1];f.Key.B.toString=n;f.Key.B.__enum__=f.Key;f.Key.C=["C",2];f.Key.C.toString=n;f.Key.C.__enum__=f.Key;f.Key.D=["D",3];f.Key.D.toString=n;f.Key.D.__enum__=f.Key;f.Key.E=["E",4];f.Key.E.toString=n;f.Key.E.__enum__=f.Key;f.Key.F=["F",5];f.Key.F.toString=n;f.Key.F.__enum__=f.Key;f.Key.G=["G",6];f.Key.G.toString=n;f.Key.G.__enum__=f.Key;f.Key.H=["H",7];f.Key.H.toString=n;f.Key.H.__enum__=f.Key;f.Key.I=["I",8];f.Key.I.toString=n;f.Key.I.__enum__=
f.Key;f.Key.J=["J",9];f.Key.J.toString=n;f.Key.J.__enum__=f.Key;f.Key.K=["K",10];f.Key.K.toString=n;f.Key.K.__enum__=f.Key;f.Key.L=["L",11];f.Key.L.toString=n;f.Key.L.__enum__=f.Key;f.Key.M=["M",12];f.Key.M.toString=n;f.Key.M.__enum__=f.Key;f.Key.N=["N",13];f.Key.N.toString=n;f.Key.N.__enum__=f.Key;f.Key.O=["O",14];f.Key.O.toString=n;f.Key.O.__enum__=f.Key;f.Key.P=["P",15];f.Key.P.toString=n;f.Key.P.__enum__=f.Key;f.Key.Q=["Q",16];f.Key.Q.toString=n;f.Key.Q.__enum__=f.Key;f.Key.R=["R",17];f.Key.R.toString=
n;f.Key.R.__enum__=f.Key;f.Key.S=["S",18];f.Key.S.toString=n;f.Key.S.__enum__=f.Key;f.Key.T=["T",19];f.Key.T.toString=n;f.Key.T.__enum__=f.Key;f.Key.U=["U",20];f.Key.U.toString=n;f.Key.U.__enum__=f.Key;f.Key.V=["V",21];f.Key.V.toString=n;f.Key.V.__enum__=f.Key;f.Key.W=["W",22];f.Key.W.toString=n;f.Key.W.__enum__=f.Key;f.Key.X=["X",23];f.Key.X.toString=n;f.Key.X.__enum__=f.Key;f.Key.Y=["Y",24];f.Key.Y.toString=n;f.Key.Y.__enum__=f.Key;f.Key.Z=["Z",25];f.Key.Z.toString=n;f.Key.Z.__enum__=f.Key;f.Key.Number0=
["Number0",26];f.Key.Number0.toString=n;f.Key.Number0.__enum__=f.Key;f.Key.Number1=["Number1",27];f.Key.Number1.toString=n;f.Key.Number1.__enum__=f.Key;f.Key.Number2=["Number2",28];f.Key.Number2.toString=n;f.Key.Number2.__enum__=f.Key;f.Key.Number3=["Number3",29];f.Key.Number3.toString=n;f.Key.Number3.__enum__=f.Key;f.Key.Number4=["Number4",30];f.Key.Number4.toString=n;f.Key.Number4.__enum__=f.Key;f.Key.Number5=["Number5",31];f.Key.Number5.toString=n;f.Key.Number5.__enum__=f.Key;f.Key.Number6=["Number6",
32];f.Key.Number6.toString=n;f.Key.Number6.__enum__=f.Key;f.Key.Number7=["Number7",33];f.Key.Number7.toString=n;f.Key.Number7.__enum__=f.Key;f.Key.Number8=["Number8",34];f.Key.Number8.toString=n;f.Key.Number8.__enum__=f.Key;f.Key.Number9=["Number9",35];f.Key.Number9.toString=n;f.Key.Number9.__enum__=f.Key;f.Key.Numpad0=["Numpad0",36];f.Key.Numpad0.toString=n;f.Key.Numpad0.__enum__=f.Key;f.Key.Numpad1=["Numpad1",37];f.Key.Numpad1.toString=n;f.Key.Numpad1.__enum__=f.Key;f.Key.Numpad2=["Numpad2",38];
f.Key.Numpad2.toString=n;f.Key.Numpad2.__enum__=f.Key;f.Key.Numpad3=["Numpad3",39];f.Key.Numpad3.toString=n;f.Key.Numpad3.__enum__=f.Key;f.Key.Numpad4=["Numpad4",40];f.Key.Numpad4.toString=n;f.Key.Numpad4.__enum__=f.Key;f.Key.Numpad5=["Numpad5",41];f.Key.Numpad5.toString=n;f.Key.Numpad5.__enum__=f.Key;f.Key.Numpad6=["Numpad6",42];f.Key.Numpad6.toString=n;f.Key.Numpad6.__enum__=f.Key;f.Key.Numpad7=["Numpad7",43];f.Key.Numpad7.toString=n;f.Key.Numpad7.__enum__=f.Key;f.Key.Numpad8=["Numpad8",44];f.Key.Numpad8.toString=
n;f.Key.Numpad8.__enum__=f.Key;f.Key.Numpad9=["Numpad9",45];f.Key.Numpad9.toString=n;f.Key.Numpad9.__enum__=f.Key;f.Key.NumpadAdd=["NumpadAdd",46];f.Key.NumpadAdd.toString=n;f.Key.NumpadAdd.__enum__=f.Key;f.Key.NumpadDecimal=["NumpadDecimal",47];f.Key.NumpadDecimal.toString=n;f.Key.NumpadDecimal.__enum__=f.Key;f.Key.NumpadDivide=["NumpadDivide",48];f.Key.NumpadDivide.toString=n;f.Key.NumpadDivide.__enum__=f.Key;f.Key.NumpadEnter=["NumpadEnter",49];f.Key.NumpadEnter.toString=n;f.Key.NumpadEnter.__enum__=
f.Key;f.Key.NumpadMultiply=["NumpadMultiply",50];f.Key.NumpadMultiply.toString=n;f.Key.NumpadMultiply.__enum__=f.Key;f.Key.NumpadSubtract=["NumpadSubtract",51];f.Key.NumpadSubtract.toString=n;f.Key.NumpadSubtract.__enum__=f.Key;f.Key.F1=["F1",52];f.Key.F1.toString=n;f.Key.F1.__enum__=f.Key;f.Key.F2=["F2",53];f.Key.F2.toString=n;f.Key.F2.__enum__=f.Key;f.Key.F3=["F3",54];f.Key.F3.toString=n;f.Key.F3.__enum__=f.Key;f.Key.F4=["F4",55];f.Key.F4.toString=n;f.Key.F4.__enum__=f.Key;f.Key.F5=["F5",56];f.Key.F5.toString=
n;f.Key.F5.__enum__=f.Key;f.Key.F6=["F6",57];f.Key.F6.toString=n;f.Key.F6.__enum__=f.Key;f.Key.F7=["F7",58];f.Key.F7.toString=n;f.Key.F7.__enum__=f.Key;f.Key.F8=["F8",59];f.Key.F8.toString=n;f.Key.F8.__enum__=f.Key;f.Key.F9=["F9",60];f.Key.F9.toString=n;f.Key.F9.__enum__=f.Key;f.Key.F10=["F10",61];f.Key.F10.toString=n;f.Key.F10.__enum__=f.Key;f.Key.F11=["F11",62];f.Key.F11.toString=n;f.Key.F11.__enum__=f.Key;f.Key.F12=["F12",63];f.Key.F12.toString=n;f.Key.F12.__enum__=f.Key;f.Key.F13=["F13",64];f.Key.F13.toString=
n;f.Key.F13.__enum__=f.Key;f.Key.F14=["F14",65];f.Key.F14.toString=n;f.Key.F14.__enum__=f.Key;f.Key.F15=["F15",66];f.Key.F15.toString=n;f.Key.F15.__enum__=f.Key;f.Key.Left=["Left",67];f.Key.Left.toString=n;f.Key.Left.__enum__=f.Key;f.Key.Up=["Up",68];f.Key.Up.toString=n;f.Key.Up.__enum__=f.Key;f.Key.Right=["Right",69];f.Key.Right.toString=n;f.Key.Right.__enum__=f.Key;f.Key.Down=["Down",70];f.Key.Down.toString=n;f.Key.Down.__enum__=f.Key;f.Key.Alt=["Alt",71];f.Key.Alt.toString=n;f.Key.Alt.__enum__=
f.Key;f.Key.Backquote=["Backquote",72];f.Key.Backquote.toString=n;f.Key.Backquote.__enum__=f.Key;f.Key.Backslash=["Backslash",73];f.Key.Backslash.toString=n;f.Key.Backslash.__enum__=f.Key;f.Key.Backspace=["Backspace",74];f.Key.Backspace.toString=n;f.Key.Backspace.__enum__=f.Key;f.Key.CapsLock=["CapsLock",75];f.Key.CapsLock.toString=n;f.Key.CapsLock.__enum__=f.Key;f.Key.Comma=["Comma",76];f.Key.Comma.toString=n;f.Key.Comma.__enum__=f.Key;f.Key.Command=["Command",77];f.Key.Command.toString=n;f.Key.Command.__enum__=
f.Key;f.Key.Control=["Control",78];f.Key.Control.toString=n;f.Key.Control.__enum__=f.Key;f.Key.Delete=["Delete",79];f.Key.Delete.toString=n;f.Key.Delete.__enum__=f.Key;f.Key.End=["End",80];f.Key.End.toString=n;f.Key.End.__enum__=f.Key;f.Key.Enter=["Enter",81];f.Key.Enter.toString=n;f.Key.Enter.__enum__=f.Key;f.Key.Equals=["Equals",82];f.Key.Equals.toString=n;f.Key.Equals.__enum__=f.Key;f.Key.Escape=["Escape",83];f.Key.Escape.toString=n;f.Key.Escape.__enum__=f.Key;f.Key.Home=["Home",84];f.Key.Home.toString=
n;f.Key.Home.__enum__=f.Key;f.Key.Insert=["Insert",85];f.Key.Insert.toString=n;f.Key.Insert.__enum__=f.Key;f.Key.LeftBracket=["LeftBracket",86];f.Key.LeftBracket.toString=n;f.Key.LeftBracket.__enum__=f.Key;f.Key.Minus=["Minus",87];f.Key.Minus.toString=n;f.Key.Minus.__enum__=f.Key;f.Key.PageDown=["PageDown",88];f.Key.PageDown.toString=n;f.Key.PageDown.__enum__=f.Key;f.Key.PageUp=["PageUp",89];f.Key.PageUp.toString=n;f.Key.PageUp.__enum__=f.Key;f.Key.Period=["Period",90];f.Key.Period.toString=n;f.Key.Period.__enum__=
f.Key;f.Key.Quote=["Quote",91];f.Key.Quote.toString=n;f.Key.Quote.__enum__=f.Key;f.Key.RightBracket=["RightBracket",92];f.Key.RightBracket.toString=n;f.Key.RightBracket.__enum__=f.Key;f.Key.Semicolon=["Semicolon",93];f.Key.Semicolon.toString=n;f.Key.Semicolon.__enum__=f.Key;f.Key.Shift=["Shift",94];f.Key.Shift.toString=n;f.Key.Shift.__enum__=f.Key;f.Key.Slash=["Slash",95];f.Key.Slash.toString=n;f.Key.Slash.__enum__=f.Key;f.Key.Space=["Space",96];f.Key.Space.toString=n;f.Key.Space.__enum__=f.Key;f.Key.Tab=
["Tab",97];f.Key.Tab.toString=n;f.Key.Tab.__enum__=f.Key;f.Key.Menu=["Menu",98];f.Key.Menu.toString=n;f.Key.Menu.__enum__=f.Key;f.Key.Search=["Search",99];f.Key.Search.toString=n;f.Key.Search.__enum__=f.Key;f.Key.Unknown=function(a){a=["Unknown",100,a];a.__enum__=f.Key;a.toString=n;return a};f.KeyboardEvent=function(){this.init(0,null)};m["flambe.input.KeyboardEvent"]=f.KeyboardEvent;f.KeyboardEvent.__name__=["flambe","input","KeyboardEvent"];f.KeyboardEvent.prototype={init:function(a,b){this.id=
a;this.key=b},__class__:f.KeyboardEvent};f.MouseButton=m["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};f.MouseButton.Left=["Left",0];f.MouseButton.Left.toString=n;f.MouseButton.Left.__enum__=f.MouseButton;f.MouseButton.Middle=["Middle",1];f.MouseButton.Middle.toString=n;f.MouseButton.Middle.__enum__=f.MouseButton;f.MouseButton.Right=["Right",2];f.MouseButton.Right.toString=n;f.MouseButton.Right.__enum__=f.MouseButton;f.MouseButton.Unknown=
function(a){a=["Unknown",3,a];a.__enum__=f.MouseButton;a.toString=n;return a};f.MouseCursor=m["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};f.MouseCursor.Default=["Default",0];f.MouseCursor.Default.toString=n;f.MouseCursor.Default.__enum__=f.MouseCursor;f.MouseCursor.Button=["Button",1];f.MouseCursor.Button.toString=n;f.MouseCursor.Button.__enum__=f.MouseCursor;f.MouseCursor.None=["None",2];f.MouseCursor.None.toString=n;f.MouseCursor.None.__enum__=
f.MouseCursor;f.MouseEvent=function(){this.init(0,0,0,null)};m["flambe.input.MouseEvent"]=f.MouseEvent;f.MouseEvent.__name__=["flambe","input","MouseEvent"];f.MouseEvent.prototype={init:function(a,b,d,c){this.id=a;this.viewX=b;this.viewY=d;this.button=c},__class__:f.MouseEvent};f.EventSource=m["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};f.EventSource.Mouse=function(a){a=["Mouse",0,a];a.__enum__=f.EventSource;a.toString=n;return a};f.EventSource.Touch=
function(a){a=["Touch",1,a];a.__enum__=f.EventSource;a.toString=n;return a};f.PointerEvent=function(){this.init(0,0,0,null,null)};m["flambe.input.PointerEvent"]=f.PointerEvent;f.PointerEvent.__name__=["flambe","input","PointerEvent"];f.PointerEvent.prototype={init:function(a,b,d,c,e){this.id=a;this.viewX=b;this.viewY=d;this.hit=c;this.source=e;this._stopped=!1},__class__:f.PointerEvent};f.TouchPoint=function(a){this.id=a;this._source=f.EventSource.Touch(this)};m["flambe.input.TouchPoint"]=f.TouchPoint;
f.TouchPoint.__name__=["flambe","input","TouchPoint"];f.TouchPoint.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:f.TouchPoint};N.FMath=function(){};m["flambe.math.FMath"]=N.FMath;N.FMath.__name__=["flambe","math","FMath"];N.FMath.max=function(a,b){return a>b?a:b};N.FMath.clamp=function(a,b,d){return a<b?b:a>d?d:a};N.Matrix=function(){this.identity()};m["flambe.math.Matrix"]=N.Matrix;N.Matrix.__name__=["flambe","math","Matrix"];N.Matrix.prototype={inverseTransform:function(a,b,
d){var c=this.determinant();if(0==c)return!1;a-=this.m02;b-=this.m12;d.x=(a*this.m11-b*this.m01)/c;d.y=(b*this.m00-a*this.m10)/c;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},compose:function(a,b,d,c,e){var f=Math.sin(e),e=Math.cos(e);this.set(e*d,f*d,-f*c,e*c,a,b)},identity:function(){this.set(1,0,0,1,0,0)},set:function(a,b,d,c,e,f){this.m00=a;this.m01=d;this.m02=e;this.m10=b;this.m11=
c;this.m12=f},__class__:N.Matrix};N.Rectangle=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,d,c)};m["flambe.math.Rectangle"]=N.Rectangle;N.Rectangle.__name__=["flambe","math","Rectangle"];N.Rectangle.prototype={contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},set:function(a,b,d,c){this.x=
a;this.y=b;this.width=d;this.height=c},__class__:N.Rectangle};i.BasicAsset=function(){this._disposed=!1};m["flambe.platform.BasicAsset"]=i.BasicAsset;i.BasicAsset.__name__=["flambe","platform","BasicAsset"];i.BasicAsset.__interfaces__=[q.Asset];i.BasicAsset.prototype={onDisposed:function(){null},dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},__class__:i.BasicAsset};i.BasicAssetPackLoader=function(a,b){var d=this;this.manifest=b;this._platform=a;this.promise=new r.Promise;
this._bytesLoaded=new F.StringMap;this._pack=new i._BasicAssetPackLoader.BasicAssetPack(b,this);var c=ha.array(b);if(0==c.length)this.handleSuccess();else{for(var e=new F.StringMap,f=0;f<c.length;){var g=c[f];++f;var h=e.get(g.name);null==h&&(h=[],e.set(g.name,h));h.push(g)}this._assetsRemaining=ha.count(e);for(c=function(){return function(a){return function(){return function(){return a.iterator()}}()}}()(e)();c.hasNext();)h=c.next(),h=[h],this.pickBestEntry(h[0],function(a){return function(c){if(null!=
c){var e=b.getFullURL(c);try{d.loadEntry(e,c)}catch(f){d.handleError(c,"Unexpected error: "+t.string(f))}e=d.promise;e.set_total(e._total+c.bytes)}else c=a[0][0],i.BasicAssetPackLoader.isAudio(c.format)?d.handleLoad(c,i.DummySound.getInstance()):d.handleError(c,"Could not find a supported format to load")}}(h))}};m["flambe.platform.BasicAssetPackLoader"]=i.BasicAssetPackLoader;i.BasicAssetPackLoader.__name__=["flambe","platform","BasicAssetPackLoader"];i.BasicAssetPackLoader.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;
default:return!1}};i.BasicAssetPackLoader.prototype={handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},handleError:function(a,b){this.promise.error.emit1(r.Strings.withFields(b,["url",a.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var d=0,c=function(a){return function(){return a.iterator()}}(this._bytesLoaded)();c.hasNext();)var e=c.next(),d=d+e;this.promise.set_progress(d)},
handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var d;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:d=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:d=this._pack.sounds;break;case 13:d=this._pack.files;break;case 14:case 15:d=this._pack.files}d.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},getAssetFormats:function(){null},loadEntry:function(){null},pickBestEntry:function(a,b){this.getAssetFormats(function(d){for(var c=
0;c<d.length;){var e=d[c];++c;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==e){b(g);return}}}b(null)})},onDisposed:function(){},__class__:i.BasicAssetPackLoader};i._BasicAssetPackLoader={};i._BasicAssetPackLoader.BasicAssetPack=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new F.StringMap;this.sounds=new F.StringMap;this.files=new F.StringMap};m["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=i._BasicAssetPackLoader.BasicAssetPack;i._BasicAssetPackLoader.BasicAssetPack.__name__=
["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];i._BasicAssetPackLoader.BasicAssetPack.__interfaces__=[q.AssetPack];i._BasicAssetPackLoader.BasicAssetPack.prototype={get_manifest:function(){return this._manifest},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=function(a){return function(){return a.iterator()}}(this.textures)();a.hasNext();)a.next().dispose();this.textures=null;for(a=function(a){return function(){return a.iterator()}}(this.sounds)();a.hasNext();)a.next().dispose();
this.sounds=null;for(a=function(a){return function(){return a.iterator()}}(this.files)();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},getFile:function(a,b){null==b&&(b=!0);var d=this.files.get(a);if(null==d&&b)throw r.Strings.withFields("Missing file",["name",a]);return d},getSound:function(a,b){null==b&&(b=!0);var d=this.sounds.get(a);if(null==d&&b)throw r.Strings.withFields("Missing sound",["name",a]);return d},getTexture:function(a,b){null==b&&(b=!0);var d=this.textures.get(a);
if(null==d&&b)throw r.Strings.withFields("Missing texture",["name",a]);return d},__class__:i._BasicAssetPackLoader.BasicAssetPack,__properties__:{get_manifest:"get_manifest"}};i.BasicFile=function(a){i.BasicAsset.call(this);this._content=a};m["flambe.platform.BasicFile"]=i.BasicFile;i.BasicFile.__name__=["flambe","platform","BasicFile"];i.BasicFile.__interfaces__=[q.File];i.BasicFile.__super__=i.BasicAsset;i.BasicFile.prototype=z(i.BasicAsset.prototype,{onDisposed:function(){this._content=null},toString:function(){return this._content},
__class__:i.BasicFile});D={KeyboardSystem:function(){}};m["flambe.subsystem.KeyboardSystem"]=D.KeyboardSystem;D.KeyboardSystem.__name__=["flambe","subsystem","KeyboardSystem"];D.KeyboardSystem.prototype={__class__:D.KeyboardSystem};i.BasicKeyboard=function(){this.down=new r.Signal1;this.up=new r.Signal1;this.backButton=new r.Signal0;this._keyStates=new F.IntMap};m["flambe.platform.BasicKeyboard"]=i.BasicKeyboard;i.BasicKeyboard.__name__=["flambe","platform","BasicKeyboard"];i.BasicKeyboard.__interfaces__=
[D.KeyboardSystem];i.BasicKeyboard.prototype={submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),i.BasicKeyboard._sharedEvent.init(i.BasicKeyboard._sharedEvent.id+1,i.KeyCodes.toKey(a)),this.up.emit1(i.BasicKeyboard._sharedEvent))},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit0(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),i.BasicKeyboard._sharedEvent.init(i.BasicKeyboard._sharedEvent.id+1,i.KeyCodes.toKey(a)),
this.down.emit1(i.BasicKeyboard._sharedEvent));return!0},__class__:i.BasicKeyboard};D.MouseSystem=function(){};m["flambe.subsystem.MouseSystem"]=D.MouseSystem;D.MouseSystem.__name__=["flambe","subsystem","MouseSystem"];D.MouseSystem.prototype={__class__:D.MouseSystem};i.BasicMouse=function(a){this._pointer=a;this._source=f.EventSource.Mouse(i.BasicMouse._sharedEvent);this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1;this.scroll=new r.Signal1;this._y=this._x=0;this._cursor=f.MouseCursor.Default;
this._buttonStates=new F.IntMap};m["flambe.platform.BasicMouse"]=i.BasicMouse;i.BasicMouse.__name__=["flambe","platform","BasicMouse"];i.BasicMouse.__interfaces__=[D.MouseSystem];i.BasicMouse.prototype={prepare:function(a,b,d){this._x=a;this._y=b;i.BasicMouse._sharedEvent.init(i.BasicMouse._sharedEvent.id+1,a,b,d)},submitScroll:function(a,b,d){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit1(d);return!0},submitUp:function(a,b,d){this._buttonStates.exists(d)&&(this._buttonStates.remove(d),
this.prepare(a,b,i.MouseCodes.toButton(d)),this._pointer.submitUp(a,b,this._source),this.up.emit1(i.BasicMouse._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit1(i.BasicMouse._sharedEvent)},submitDown:function(a,b,d){this._buttonStates.exists(d)||(this._buttonStates.set(d,!0),this.prepare(a,b,i.MouseCodes.toButton(d)),this._pointer.submitDown(a,b,this._source),this.down.emit1(i.BasicMouse._sharedEvent))},__class__:i.BasicMouse};
D.PointerSystem=function(){};m["flambe.subsystem.PointerSystem"]=D.PointerSystem;D.PointerSystem.__name__=["flambe","subsystem","PointerSystem"];D.PointerSystem.prototype={__class__:D.PointerSystem};i.BasicPointer=function(a,b,d){null==d&&(d=!1);null==b&&(b=0);null==a&&(a=0);this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1;this._x=a;this._y=b;this._isDown=d};m["flambe.platform.BasicPointer"]=i.BasicPointer;i.BasicPointer.__name__=["flambe","platform","BasicPointer"];i.BasicPointer.__interfaces__=
[D.PointerSystem];i.BasicPointer.prototype={prepare:function(a,b,d,c){this._x=a;this._y=b;i.BasicPointer._sharedEvent.init(i.BasicPointer._sharedEvent.id+1,a,b,d,c)},submitUp:function(a,b,d){if(this._isDown){this._isDown=!1;var c=[],e=o.Sprite.hitTest(B.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_2;null!=g&&c.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,d);for(a=0;a<c.length;)if(g=c[a],++a,g=g._pointerUp,null!=g&&(g.emit1(i.BasicPointer._sharedEvent),i.BasicPointer._sharedEvent._stopped))return;
this.up.emit1(i.BasicPointer._sharedEvent)}},submitMove:function(a,b,d){var c=[],e=o.Sprite.hitTest(B.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_2;null!=g&&c.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,d);for(a=0;a<c.length;)if(g=c[a],++a,g=g._pointerMove,null!=g&&(g.emit1(i.BasicPointer._sharedEvent),i.BasicPointer._sharedEvent._stopped))return;this.move.emit1(i.BasicPointer._sharedEvent)},submitDown:function(a,b,d){if(!this._isDown){this._isDown=!0;var c=[],e=o.Sprite.hitTest(B.root,
a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_2;null!=g&&c.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,d);for(a=0;a<c.length;)if(g=c[a],++a,g=g._pointerDown,null!=g&&(g.emit1(i.BasicPointer._sharedEvent),i.BasicPointer._sharedEvent._stopped))return;this.down.emit1(i.BasicPointer._sharedEvent)}},__class__:i.BasicPointer};D.TouchSystem=function(){};m["flambe.subsystem.TouchSystem"]=D.TouchSystem;D.TouchSystem.__name__=["flambe","subsystem","TouchSystem"];D.TouchSystem.prototype=
{__class__:D.TouchSystem};i.BasicTouch=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new F.IntMap;this._points=[];this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1};m["flambe.platform.BasicTouch"]=i.BasicTouch;i.BasicTouch.__name__=["flambe","platform","BasicTouch"];i.BasicTouch.__interfaces__=[D.TouchSystem];i.BasicTouch.prototype={submitUp:function(a,b,d){var c=this._pointMap.get(a);null!=c&&(c.init(b,d),this._pointMap.remove(a),H.remove(this._points,
c),this._pointerTouch==c&&(this._pointerTouch=null,this._pointer.submitUp(b,d,c._source)),this.up.emit1(c))},submitMove:function(a,b,d){a=this._pointMap.get(a);null!=a&&(a.init(b,d),this._pointerTouch==a&&this._pointer.submitMove(b,d,a._source),this.move.emit1(a))},submitDown:function(a,b,d){if(!this._pointMap.exists(a)){var c=new f.TouchPoint(a);c.init(b,d);this._pointMap.set(a,c);this._points.push(c);null==this._pointerTouch&&(this._pointerTouch=c,this._pointer.submitDown(b,d,c._source));this.down.emit1(c)}},
get_supported:function(){return!0},__class__:i.BasicTouch,__properties__:{get_supported:"get_supported"}};L={Sound:function(){}};m["flambe.sound.Sound"]=L.Sound;L.Sound.__name__=["flambe","sound","Sound"];L.Sound.__interfaces__=[q.Asset];L.Sound.prototype={__class__:L.Sound};i.DummySound=function(){i.BasicAsset.call(this);this._playback=new i.DummyPlayback(this)};m["flambe.platform.DummySound"]=i.DummySound;i.DummySound.__name__=["flambe","platform","DummySound"];i.DummySound.__interfaces__=[L.Sound];
i.DummySound.getInstance=function(){null==i.DummySound._instance&&(i.DummySound._instance=new i.DummySound);return i.DummySound._instance};i.DummySound.__super__=i.BasicAsset;i.DummySound.prototype=z(i.BasicAsset.prototype,{get_duration:function(){return 0},loop:function(){return this._playback},play:function(){return this._playback},__class__:i.DummySound,__properties__:{get_duration:"get_duration"}});L.Playback=function(){};m["flambe.sound.Playback"]=L.Playback;L.Playback.__name__=["flambe","sound",
"Playback"];L.Playback.__interfaces__=[r.Disposable];L.Playback.prototype={__class__:L.Playback};i.DummyPlayback=function(a){this._sound=a;this.volume=new R.AnimatedFloat(0)};m["flambe.platform.DummyPlayback"]=i.DummyPlayback;i.DummyPlayback.__name__=["flambe","platform","DummyPlayback"];i.DummyPlayback.__interfaces__=[L.Playback];i.DummyPlayback.prototype={dispose:function(){},get_position:function(){return 0},get_ended:function(){return!0},__class__:i.DummyPlayback,__properties__:{get_ended:"get_ended",
get_position:"get_position"}};i.DummyTouch=function(){this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1};m["flambe.platform.DummyTouch"]=i.DummyTouch;i.DummyTouch.__name__=["flambe","platform","DummyTouch"];i.DummyTouch.__interfaces__=[D.TouchSystem];i.DummyTouch.prototype={get_supported:function(){return!1},__class__:i.DummyTouch,__properties__:{get_supported:"get_supported"}};i.EventGroup=function(){this._entries=[]};m["flambe.platform.EventGroup"]=i.EventGroup;i.EventGroup.__name__=
["flambe","platform","EventGroup"];i.EventGroup.__interfaces__=[r.Disposable];i.EventGroup.prototype={dispose:function(){for(var a=0,b=this._entries;a<b.length;){var d=b[a];++a;d.dispatcher.removeEventListener(d.type,d.listener,!1)}this._entries=[]},addDisposingListener:function(a,b,d){var c=this;this.addListener(a,b,function(a){c.dispose();d(a)})},addListener:function(a,b,d){a.addEventListener(b,d,!1);this._entries.push(new i._EventGroup.Entry(a,b,d))},__class__:i.EventGroup};i._EventGroup={};i._EventGroup.Entry=
function(a,b,d){this.dispatcher=a;this.type=b;this.listener=d};m["flambe.platform._EventGroup.Entry"]=i._EventGroup.Entry;i._EventGroup.Entry.__name__=["flambe","platform","_EventGroup","Entry"];i._EventGroup.Entry.prototype={__class__:i._EventGroup.Entry};i.InternalGraphics=function(){};m["flambe.platform.InternalGraphics"]=i.InternalGraphics;i.InternalGraphics.__name__=["flambe","platform","InternalGraphics"];i.InternalGraphics.__interfaces__=[o.Graphics];i.InternalGraphics.prototype={__class__:i.InternalGraphics};
i.KeyCodes=function(){};m["flambe.platform.KeyCodes"]=i.KeyCodes;i.KeyCodes.__name__=["flambe","platform","KeyCodes"];i.KeyCodes.toKey=function(a){switch(a){case 65:return f.Key.A;case 66:return f.Key.B;case 67:return f.Key.C;case 68:return f.Key.D;case 69:return f.Key.E;case 70:return f.Key.F;case 71:return f.Key.G;case 72:return f.Key.H;case 73:return f.Key.I;case 74:return f.Key.J;case 75:return f.Key.K;case 76:return f.Key.L;case 77:return f.Key.M;case 78:return f.Key.N;case 79:return f.Key.O;
case 80:return f.Key.P;case 81:return f.Key.Q;case 82:return f.Key.R;case 83:return f.Key.S;case 84:return f.Key.T;case 85:return f.Key.U;case 86:return f.Key.V;case 87:return f.Key.W;case 88:return f.Key.X;case 89:return f.Key.Y;case 90:return f.Key.Z;case 48:return f.Key.Number0;case 49:return f.Key.Number1;case 50:return f.Key.Number2;case 51:return f.Key.Number3;case 52:return f.Key.Number4;case 53:return f.Key.Number5;case 54:return f.Key.Number6;case 55:return f.Key.Number7;case 56:return f.Key.Number8;
case 57:return f.Key.Number9;case 96:return f.Key.Numpad0;case 97:return f.Key.Numpad1;case 98:return f.Key.Numpad2;case 99:return f.Key.Numpad3;case 100:return f.Key.Numpad4;case 101:return f.Key.Numpad5;case 102:return f.Key.Numpad6;case 103:return f.Key.Numpad7;case 104:return f.Key.Numpad8;case 105:return f.Key.Numpad9;case 107:return f.Key.NumpadAdd;case 110:return f.Key.NumpadDecimal;case 111:return f.Key.NumpadDivide;case 108:return f.Key.NumpadEnter;case 106:return f.Key.NumpadMultiply;case 109:return f.Key.NumpadSubtract;
case 112:return f.Key.F1;case 113:return f.Key.F2;case 114:return f.Key.F3;case 115:return f.Key.F4;case 116:return f.Key.F5;case 117:return f.Key.F6;case 118:return f.Key.F7;case 119:return f.Key.F8;case 120:return f.Key.F9;case 121:return f.Key.F10;case 122:return f.Key.F11;case 123:return f.Key.F12;case 37:return f.Key.Left;case 38:return f.Key.Up;case 39:return f.Key.Right;case 40:return f.Key.Down;case 18:return f.Key.Alt;case 192:return f.Key.Backquote;case 220:return f.Key.Backslash;case 8:return f.Key.Backspace;
case 20:return f.Key.CapsLock;case 188:return f.Key.Comma;case 15:return f.Key.Command;case 17:return f.Key.Control;case 46:return f.Key.Delete;case 35:return f.Key.End;case 13:return f.Key.Enter;case 187:return f.Key.Equals;case 27:return f.Key.Escape;case 36:return f.Key.Home;case 45:return f.Key.Insert;case 219:return f.Key.LeftBracket;case 189:return f.Key.Minus;case 34:return f.Key.PageDown;case 33:return f.Key.PageUp;case 190:return f.Key.Period;case 222:return f.Key.Quote;case 221:return f.Key.RightBracket;
case 186:return f.Key.Semicolon;case 16:return f.Key.Shift;case 191:return f.Key.Slash;case 32:return f.Key.Space;case 9:return f.Key.Tab;case 16777234:return f.Key.Menu;case 16777247:return f.Key.Search}return f.Key.Unknown(a)};i.MainLoop=function(){this._tickables=[]};m["flambe.platform.MainLoop"]=i.MainLoop;i.MainLoop.__name__=["flambe","platform","MainLoop"];i.MainLoop.updateEntity=function(a,b){var d=a._compMap.SpeedAdjuster_5;if(null!=d&&(d._realDt=b,b*=d.scale._value,0>=b)){d.onUpdate(b);return}for(var c=
a.firstComponent;null!=c;)d=c.next,c.onUpdate(b),c=d;for(c=a.firstChild;null!=c;)d=c.next,i.MainLoop.updateEntity(c,b),c=d};i.MainLoop.prototype={addTickable:function(a){this._tickables.push(a)},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),o.Sprite.render(B.root,b),a.didRender())},update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var d=this._tickables[b];null==d||d.update(a)?this._tickables.splice(b,1):++b}B.volume.update(a);i.MainLoop.updateEntity(B.root,
a)}},__class__:i.MainLoop};i.MouseCodes=function(){};m["flambe.platform.MouseCodes"]=i.MouseCodes;i.MouseCodes.__name__=["flambe","platform","MouseCodes"];i.MouseCodes.toButton=function(a){switch(a){case 0:return f.MouseButton.Left;case 1:return f.MouseButton.Middle;case 2:return f.MouseButton.Right}return f.MouseButton.Unknown(a)};i.Renderer=function(){};m["flambe.platform.Renderer"]=i.Renderer;i.Renderer.__name__=["flambe","platform","Renderer"];i.Renderer.prototype={__class__:i.Renderer};i.Tickable=
function(){};m["flambe.platform.Tickable"]=i.Tickable;i.Tickable.__name__=["flambe","platform","Tickable"];i.Tickable.prototype={__class__:i.Tickable};i.html.CanvasGraphics=function(a){this._firstDraw=!1;this._canvasCtx=a.getContext("2d")};m["flambe.platform.html.CanvasGraphics"]=i.html.CanvasGraphics;i.html.CanvasGraphics.__name__=["flambe","platform","html","CanvasGraphics"];i.html.CanvasGraphics.__interfaces__=[i.InternalGraphics];i.html.CanvasGraphics.prototype={didRender:function(){},willRender:function(){this._firstDraw=
!0},applyScissor:function(a,b,d,c){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,d|0,c|0);this._canvasCtx.clip()},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="destination-in";break;case 3:b="copy"}this._canvasCtx.globalCompositeOperation=b},setAlpha:function(a){this._canvasCtx.globalAlpha=a},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},fillRect:function(a,b,d,c,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation=
"copy",this.fillRect(a,b,d,c,e),this._canvasCtx.globalCompositeOperation="source-over"):(this._canvasCtx.fillStyle="#"+("00000"+a.toString(16)).slice(-6),this._canvasCtx.fillRect(b|0,d|0,c|0,e|0))},drawSubImage:function(a,b,d,c,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubImage(a,b,d,c,e,f,g),this._canvasCtx.globalCompositeOperation="source-over"):0==f||0==g?this._canvasCtx.drawImage(a.image,c|0,e|0,t["int"](a.image.width),t["int"](a.image.height),
b|0,d|0,t["int"](a.image.width),t["int"](a.image.height)):this._canvasCtx.drawImage(a.image,c|0,e|0,f|0,g|0,b|0,d|0,f|0,g|0)},drawImage:function(a,b,d){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawImage(a,b,d),this._canvasCtx.globalCompositeOperation="source-over"):0!=a.image.width&&0!=a.image.height&&this._canvasCtx.drawImage(a.image,b|0,d|0)},restore:function(){this._canvasCtx.restore()},transform:function(a,b,d,c,e,f){this._canvasCtx.transform(a,
b,d,c,e,f)},scale:function(a,b){this._canvasCtx.scale(a,b)},save:function(){this._canvasCtx.save()},__class__:i.html.CanvasGraphics};i.html.CanvasRenderer=function(a){this.graphics=new i.html.CanvasGraphics(a);B.hasGPU.set__(!0)};m["flambe.platform.html.CanvasRenderer"]=i.html.CanvasRenderer;i.html.CanvasRenderer.__name__=["flambe","platform","html","CanvasRenderer"];i.html.CanvasRenderer.__interfaces__=[i.Renderer];i.html.CanvasRenderer.prototype={didRender:function(){this.graphics.didRender()},
willRender:function(){this.graphics.willRender()},createCompressedTexture:function(){return null},getCompressedTextureFormats:function(){return[]},createEmptyTexture:function(a,b){return new i.html.CanvasTexture(i.html.HtmlUtil.createEmptyCanvas(a,b))},createTexture:function(a){return new i.html.CanvasTexture(i.html.CanvasRenderer.CANVAS_TEXTURES?i.html.HtmlUtil.createCanvas(a):a)},__class__:i.html.CanvasRenderer};i.html.CanvasTexture=function(a){this.pattern=this._graphics=null;i.BasicAsset.call(this);
this.image=a};m["flambe.platform.html.CanvasTexture"]=i.html.CanvasTexture;i.html.CanvasTexture.__name__=["flambe","platform","html","CanvasTexture"];i.html.CanvasTexture.__interfaces__=[o.Texture];i.html.CanvasTexture.__super__=i.BasicAsset;i.html.CanvasTexture.prototype=z(i.BasicAsset.prototype,{onDisposed:function(){this.image.dispose&&this.image.dispose();this._graphics=this.pattern=this.image=null},getContext2d:function(){A.__instanceof(this.image,HTMLCanvasElement)||(this.image=i.html.HtmlUtil.createCanvas(this.image));
return this.image.getContext("2d")},get_graphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new i.html._CanvasTexture.InternalGraphics(this));return this._graphics},get_height:function(){return this.image.height},get_width:function(){return this.image.width},__class__:i.html.CanvasTexture,__properties__:{get_width:"get_width",get_height:"get_height",get_graphics:"get_graphics"}});i.html._CanvasTexture={};i.html._CanvasTexture.InternalGraphics=function(a){i.html.CanvasGraphics.call(this,
a.image);this._renderTarget=a};m["flambe.platform.html._CanvasTexture.InternalGraphics"]=i.html._CanvasTexture.InternalGraphics;i.html._CanvasTexture.InternalGraphics.__name__=["flambe","platform","html","_CanvasTexture","InternalGraphics"];i.html._CanvasTexture.InternalGraphics.__super__=i.html.CanvasGraphics;i.html._CanvasTexture.InternalGraphics.prototype=z(i.html.CanvasGraphics.prototype,{fillRect:function(a,b,d,c,e){i.html.CanvasGraphics.prototype.fillRect.call(this,a,b,d,c,e);this._renderTarget.pattern=
null},drawSubImage:function(a,b,d,c,e,f,g){i.html.CanvasGraphics.prototype.drawSubImage.call(this,a,b,d,c,e,f,g);this._renderTarget.pattern=null},drawImage:function(a,b,d){i.html.CanvasGraphics.prototype.drawImage.call(this,a,b,d);this._renderTarget.pattern=null},__class__:i.html._CanvasTexture.InternalGraphics});i.html.HtmlAssetPackLoader=function(a,b){i.BasicAssetPackLoader.call(this,a,b)};m["flambe.platform.html.HtmlAssetPackLoader"]=i.html.HtmlAssetPackLoader;i.html.HtmlAssetPackLoader.__name__=
["flambe","platform","html","HtmlAssetPackLoader"];i.html.HtmlAssetPackLoader.detectImageFormats=function(a){var b=[q.AssetFormat.PNG,q.AssetFormat.JPG,q.AssetFormat.GIF],d=2;T.delay(function(){b.unshift(q.AssetFormat.WEBP);--d;0==d&&a(b)},90);T.delay(function(){b.unshift(q.AssetFormat.JXR);--d;0==d&&a(b)},100)};i.html.HtmlAssetPackLoader.detectAudioFormats=function(){var a=y.document.createElement("audio");if(null==a||null==x(a,a.canPlayType))return[];var b=new Y("\\b(iPhone|iPod|iPad)\\b",""),d=
y.window.navigator.userAgent;if(!i.html.WebAudioSound.get_supported()&&b.match(d))return[];for(var b=[{format:q.AssetFormat.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:q.AssetFormat.MP3,mimeType:"audio/mpeg"},{format:q.AssetFormat.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:q.AssetFormat.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:q.AssetFormat.WAV,mimeType:"audio/wav"}],d=[],c=0;c<b.length;){var e=b[c];++c;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){}""!=f&&d.push(e.format)}return d};
i.html.HtmlAssetPackLoader.detectArchiveFormats=function(){return[q.AssetFormat.ZIP,q.AssetFormat.TAR]};i.html.HtmlAssetPackLoader.supportsBlob=function(){if(i.html.HtmlAssetPackLoader._detectBlobSupport){if(!i.html.HtmlAssetPackLoader.verifyBlobBrowserCompatibility())return i.html.HtmlAssetPackLoader._URL=null,i.html.HtmlAssetPackLoader._detectBlobSupport=!1;i.html.HtmlAssetPackLoader._detectBlobSupport=!1;var a=new XMLHttpRequest;a.open("GET",".",!0);a.responseType="blob";if(""!=a.responseType&&
"blob"!=a.responseType)return!1;i.html.HtmlAssetPackLoader._URL=i.html.HtmlUtil.loadExtension("URL").value}return null!=i.html.HtmlAssetPackLoader._URL&&null!=i.html.HtmlAssetPackLoader._URL.createObjectURL};i.html.HtmlAssetPackLoader.verifyBlobBrowserCompatibility=function(){return-1!=y.window.navigator.userAgent.toLowerCase().indexOf("silk")||-1!=y.window.navigator.userAgent.toLowerCase().indexOf("applewebkit/534.30")||-1!=y.window.navigator.userAgent.toLowerCase().indexOf("applewebkit/535.19")||
-1!=y.window.navigator.userAgent.toLowerCase().indexOf("IEMobile/10.0")||-1!=y.window.navigator.userAgent.toLowerCase().indexOf("IEMobile/9.0")?!1:!0};i.html.HtmlAssetPackLoader.__super__=i.BasicAssetPackLoader;i.html.HtmlAssetPackLoader.prototype=z(i.BasicAssetPackLoader.prototype,{download:function(a,b,d,c){var e=this,f=new XMLHttpRequest,g=0,h=function(){g=Date.now();f.open("GET",a,!0);f.responseType=d;""==f.responseType&&(f.responseType="arraybuffer");f.send()},i=0;if("undefined"!=typeof f.onprogress){var k=
4;f.onprogress=function(a){g=Date.now();e.handleProgress(b,a.loaded)};i=y.window.setInterval(function(){1<=f.readyState&&5E3<Date.now()-g&&(f.abort(),--k,0<k?h():(y.window.clearInterval(i),e.handleError(b,"Request timed out")))},1E3)}f.onload=function(){y.window.clearInterval(i);var a=f.response;null==a?a=f.responseText:"blob"==d&&"arraybuffer"==f.responseType&&(a=new Blob([f.response]));c(a)};f.onerror=function(){y.window.clearInterval(i);e.handleError(b,"Failed to load asset: error #"+f.status)};
h();return f},getAssetFormats:function(a){var b=this;null==i.html.HtmlAssetPackLoader._supportedFormats&&(i.html.HtmlAssetPackLoader._supportedFormats=new r.Promise,i.html.HtmlAssetPackLoader.detectImageFormats(function(a){i.html.HtmlAssetPackLoader._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(i.html.HtmlAssetPackLoader.detectAudioFormats()).concat(i.html.HtmlAssetPackLoader.detectArchiveFormats()).concat([q.AssetFormat.Data]))}));i.html.HtmlAssetPackLoader._supportedFormats.get(a)},
getArchiveEntryData:function(a,b){var d="",c=q.Manifest.inferFormat(a.fileName),e="",e="";0<a.fileName.indexOf("/")?e=a.fileName.substr("/"==a.fileName.charAt(0)?1:0,a.fileName.length):(e=H.substr(b.name,0<b.name.lastIndexOf("/")?b.name.lastIndexOf("/")+1:0,b.name.length),e=e+"/"+t.string(a.fileName));switch(c[1]){case 2:d="image/png";break;case 3:d="image/jpeg";break;case 1:d="image/vnd.ms-photo";break;case 4:d="image/gif";break;case 0:d="image/webp";break;case 9:d="audio/mp4";break;case 8:d="audio/mpeg";
break;case 11:case 10:d="audio/ogg";break;case 12:d="audio/wave";break;case 14:d="application/zip";break;case 5:case 6:case 7:d="application/octet-stream";break;case 15:d="application/x-tar";break;case 13:d=""}""!=d&&(e=r.Strings.removeFileExtension(e));return{type:d,format:c,name:e}},loadEntry:function(a,b){var d=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var c=y.document.createElement("img"),e=new i.EventGroup;e.addDisposingListener(c,"load",function(){i.html.HtmlAssetPackLoader.supportsBlob()&&
i.html.HtmlAssetPackLoader._URL.revokeObjectURL(c.src);var a=d._platform.getRenderer().createTexture(c);null!=a?d.handleLoad(b,a):d.handleTextureError(b)});e.addDisposingListener(c,"error",function(){d.handleError(b,"Failed to load image")});i.html.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"blob",function(a){c.src=i.html.HtmlAssetPackLoader._URL.createObjectURL(a)}):c.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=d._platform.getRenderer().createCompressedTexture(b.format,
null);null!=a?d.handleLoad(b,a):d.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(i.html.WebAudioSound.get_supported())this.download(a,b,"arraybuffer",function(a){i.html.WebAudioSound.ctx.decodeAudioData(a,function(a){d.handleLoad(b,new i.html.WebAudioSound(a))},function(){d.handleLoad(b,i.DummySound.getInstance())})});else{var f=y.document.createElement("audio");f.preload="auto";var g=++i.html.HtmlAssetPackLoader._mediaRefCount;null==i.html.HtmlAssetPackLoader._mediaElements&&
(i.html.HtmlAssetPackLoader._mediaElements=new F.IntMap);i.html.HtmlAssetPackLoader._mediaElements.set(g,f);e=new i.EventGroup;e.addDisposingListener(f,"canplaythrough",function(){i.html.HtmlAssetPackLoader._mediaElements.remove(g);d.handleLoad(b,new i.html.HtmlSound(f))});e.addDisposingListener(f,"error",function(){i.html.HtmlAssetPackLoader._mediaElements.remove(g);var a=f.error.code;3==a||4==a?d.handleLoad(b,i.DummySound.getInstance()):d.handleError(b,"Failed to load audio: "+f.error.code)});e.addListener(f,
"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;d.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,b,"text",function(a){d.handleLoad(b,new i.BasicFile(a))});break;case 14:i.html.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"arraybuffer",function(a){for(var a=E.Bytes.ofData(new Uint8Array(a)),c,a=(new u.Reader(new E.BytesInput(a))).read().iterator();a.hasNext();){var e=a.next();c=r.Strings.getUrlExtension(e.fileName);
if("."==e.fileName.charAt(0)||0<=e.fileName.indexOf("/."))c="";if(!(""==c||null==c)){d._assetsRemaining+=1;c=d.promise;c.set_total(c._total+e.dataSize);c=d.getArchiveEntryData(e,b);var f=new Uint8Array(e.data.b),f=new Blob([f.buffer],{type:c.type});c.format==q.AssetFormat.Data&&(f=new Blob([u.Reader.unzip(e)],{type:c.type}));f=i.html.HtmlAssetPackLoader._URL.createObjectURL(f);e=d.manifest.add(c.name,e.fileName,e.dataSize,c.format);d.loadEntry(f,e)}}d.handleLoad(b,new i.BasicFile(""))}):null;break;
case 15:i.html.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"arraybuffer",function(a){for(var a=E.Bytes.ofData(new Uint8Array(a)),c,a=(new ea.Reader(new E.BytesInput(a))).read().iterator();a.hasNext();){var e=a.next();c=r.Strings.getUrlExtension(e.fileName);if("."==e.fileName.charAt(0)||0<=e.fileName.indexOf("/."))c="";if(!(""==c||null==c)){d._assetsRemaining+=1;c=d.promise;c.set_total(c._total+e.fileSize);c=d.getArchiveEntryData(e,b);var f=new Uint8Array(e.data.b),f=new Blob([f.buffer],{type:c.type});
c.format==q.AssetFormat.Data&&(f=new Blob([e.data],{type:c.type}));f=i.html.HtmlAssetPackLoader._URL.createObjectURL(f);e=d.manifest.add(c.name,e.fileName,e.fileSize,c.format);d.loadEntry(f,e)}}d.handleLoad(b,new i.BasicFile(""))}):null}},__class__:i.html.HtmlAssetPackLoader});D.ExternalSystem=function(){};m["flambe.subsystem.ExternalSystem"]=D.ExternalSystem;D.ExternalSystem.__name__=["flambe","subsystem","ExternalSystem"];D.ExternalSystem.prototype={__class__:D.ExternalSystem};i.html.HtmlExternal=
function(){};m["flambe.platform.html.HtmlExternal"]=i.html.HtmlExternal;i.html.HtmlExternal.__name__=["flambe","platform","html","HtmlExternal"];i.html.HtmlExternal.__interfaces__=[D.ExternalSystem];i.html.HtmlExternal.prototype={call:function(a,b){null==b&&(b=[]);return v.field(y.window,a).apply(null,b)},__class__:i.html.HtmlExternal};i.html.HtmlMouse=function(a,b){i.BasicMouse.call(this,a);this._canvas=b};m["flambe.platform.html.HtmlMouse"]=i.html.HtmlMouse;i.html.HtmlMouse.__name__=["flambe","platform",
"html","HtmlMouse"];i.html.HtmlMouse.__super__=i.BasicMouse;i.html.HtmlMouse.prototype=z(i.BasicMouse.prototype,{__class__:i.html.HtmlMouse});i.html.HtmlSound=function(a){i.BasicAsset.call(this);this.audioElement=a};m["flambe.platform.html.HtmlSound"]=i.html.HtmlSound;i.html.HtmlSound.__name__=["flambe","platform","html","HtmlSound"];i.html.HtmlSound.__interfaces__=[L.Sound];i.html.HtmlSound.__super__=i.BasicAsset;i.html.HtmlSound.prototype=z(i.BasicAsset.prototype,{onDisposed:function(){this.audioElement.dispose&&
this.audioElement.dispose();this.audioElement=null},get_duration:function(){return this.audioElement.duration},loop:function(a){null==a&&(a=1);return new i.html._HtmlSound.HtmlPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new i.html._HtmlSound.HtmlPlayback(this,a,!1)},__class__:i.html.HtmlSound,__properties__:{get_duration:"get_duration"}});i.html._HtmlSound={};i.html._HtmlSound.HtmlPlayback=function(a,b,d){var c=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=y.document.createElement("audio");
this._clonedElement.loop=d;this._clonedElement.src=a.audioElement.src;this.volume=new R.AnimatedFloat(b,function(){c.updateVolume()});this.updateVolume();this.playAudio();B.hidden._value&&this.set_paused(!0)};m["flambe.platform.html._HtmlSound.HtmlPlayback"]=i.html._HtmlSound.HtmlPlayback;i.html._HtmlSound.HtmlPlayback.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];i.html._HtmlSound.HtmlPlayback.__interfaces__=[i.Tickable,L.Playback];i.html._HtmlSound.HtmlPlayback.prototype={updateVolume:function(){this._clonedElement.volume=
B.volume._value*this.volume._value},playAudio:function(){var a=this;this._clonedElement.loop&&!i.html.HtmlPlatform.instance.musicPlaying&&(i.html.HtmlPlatform.instance.musicPlaying=!0,this._clonedElement.play(),this._tickableAdded||(i.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=B.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=B.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):
a.set_paused(a._wasPaused)})))},dispose:function(){this._clonedElement.volume=0;this.set_paused(!0)},update:function(a){this.volume.update(a);return this._clonedElement.ended||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},get_position:function(){return this._clonedElement.currentTime},get_ended:function(){return this._clonedElement.ended},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());
return a},__class__:i.html._HtmlSound.HtmlPlayback,__properties__:{get_ended:"get_ended",get_position:"get_position"}};D.StageSystem=function(){};m["flambe.subsystem.StageSystem"]=D.StageSystem;D.StageSystem.__name__=["flambe","subsystem","StageSystem"];i.html.HtmlStage=function(a){var b=this;this._canvas=a;this.resize=new r.Signal0;this.scaleFactor=i.html.HtmlStage.computeScaleFactor();1!=this.scaleFactor&&(i.html.HtmlUtil.setVendorStyle(this._canvas,"transform-origin","top left"),i.html.HtmlUtil.setVendorStyle(this._canvas,
"transform","scale("+1/this.scaleFactor+")"));i.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&(y.window.addEventListener("orientationchange",function(){i.html.HtmlUtil.callLater(x(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());y.window.addEventListener("resize",x(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new r.Value(null);null!=y.window.orientation&&(y.window.addEventListener("orientationchange",x(this,this.onOrientationChange),!1),this.onOrientationChange(null));
this.fullscreen=new r.Value(!1);i.html.HtmlUtil.addVendorListener(y.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};m["flambe.platform.html.HtmlStage"]=i.html.HtmlStage;i.html.HtmlStage.__name__=["flambe","platform","html","HtmlStage"];i.html.HtmlStage.__interfaces__=[D.StageSystem];i.html.HtmlStage.computeScaleFactor=function(){var a=y.window.devicePixelRatio;null==a&&(a=1);var b=y.document.createElement("canvas").getContext("2d"),b=i.html.HtmlUtil.loadExtension("backingStorePixelRatio",
b).value;null==b&&(b=1);a/=b;b=y.window.screen.height;return 1136<a*y.window.screen.width||1136<a*b?1:a};i.html.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==i.html.HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],y.document).value)},onOrientationChange:function(){this.orientation.set__(i.html.HtmlUtil.orientation(y.window.orientation))},hideMobileBrowser:function(){var a=this,b=y.document.documentElement.style;b.height=y.window.innerHeight+100+"px";
b.width=y.window.innerWidth+"px";b.overflow="visible";i.html.HtmlUtil.callLater(function(){i.html.HtmlUtil.hideMobileBrowser();i.html.HtmlUtil.callLater(function(){b.height=y.window.innerHeight+"px";a.onWindowResize(null)},100)})},resizeCanvas:function(a,b){var d=this.scaleFactor*a,c=this.scaleFactor*b;if(this._canvas.width==d&&this._canvas.height==c)return!1;this._canvas.width=d|0;this._canvas.height=c|0;this.resize.emit0();return!0},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();
this.resizeCanvas(a.width,a.height)},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},__class__:i.html.HtmlStage};i.html.HtmlUtil=function(){};m["flambe.platform.html.HtmlUtil"]=i.html.HtmlUtil;i.html.HtmlUtil.__name__=["flambe","platform","html","HtmlUtil"];i.html.HtmlUtil.callLater=function(a,b){null==b&&(b=0);y.window.setTimeout(a,b)};i.html.HtmlUtil.hideMobileBrowser=function(){y.window.scrollTo(1,0)};i.html.HtmlUtil.loadExtension=function(a,b){null==
b&&(b=y.window);var d=v.field(b,a);if(null!=d)return{prefix:"",field:a,value:d};for(var d=a.charAt(0).toUpperCase()+H.substr(a,1,null),c=0,e=i.html.HtmlUtil.VENDOR_PREFIXES;c<e.length;){var f=e[c];++c;var g=f+d,h=v.field(b,g);if(null!=h)return{prefix:f,field:g,value:h}}return{prefix:null,field:null,value:null}};i.html.HtmlUtil.loadFirstExtension=function(a,b){for(var d=0;d<a.length;){var c=a[d];++d;c=i.html.HtmlUtil.loadExtension(c,b);if(null!=c.field)return c}return{prefix:null,field:null,value:null}};
i.html.HtmlUtil.polyfill=function(a,b){null==b&&(b=y.window);var d=i.html.HtmlUtil.loadExtension(a,b).value;if(null==d)return!1;b[a]=d;return!0};i.html.HtmlUtil.setVendorStyle=function(a,b,d){for(var a=a.style,c=0,e=i.html.HtmlUtil.VENDOR_PREFIXES;c<e.length;){var f=e[c];++c;a.setProperty("-"+f+"-"+b,d)}a.setProperty(b,d)};i.html.HtmlUtil.addVendorListener=function(a,b,d,c){for(var e=0,f=i.html.HtmlUtil.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,d,c)}a.addEventListener(b,d,
c)};i.html.HtmlUtil.orientation=function(a){switch(a){case -90:case 90:return o.Orientation.Landscape;default:return o.Orientation.Portrait}};i.html.HtmlUtil.createEmptyCanvas=function(a,b){var d=y.document.createElement("canvas");d.width=a;d.height=b;return d};i.html.HtmlUtil.createCanvas=function(a){var b=i.html.HtmlUtil.createEmptyCanvas(a.width,a.height),d=b.getContext("2d");d.save();d.globalCompositeOperation="copy";d.drawImage(a,0,0);d.restore();return b};i.html.HtmlUtil.fixAndroidMath=function(){if(0<=
y.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};D.WebSystem=function(){};m["flambe.subsystem.WebSystem"]=D.WebSystem;D.WebSystem.__name__=["flambe","subsystem","WebSystem"];D.WebSystem.prototype={__class__:D.WebSystem};i.html.HtmlWeb=function(a){this._container=a};m["flambe.platform.html.HtmlWeb"]=i.html.HtmlWeb;i.html.HtmlWeb.__name__=["flambe","platform","html","HtmlWeb"];i.html.HtmlWeb.__interfaces__=
[D.WebSystem];i.html.HtmlWeb.prototype={openBrowser:function(a){y.window.open(a,"_blank")},__class__:i.html.HtmlWeb};i.html.WebAudioSound=function(a){i.BasicAsset.call(this);this.buffer=a};m["flambe.platform.html.WebAudioSound"]=i.html.WebAudioSound;i.html.WebAudioSound.__name__=["flambe","platform","html","WebAudioSound"];i.html.WebAudioSound.__interfaces__=[L.Sound];i.html.WebAudioSound.get_supported=function(){if(i.html.WebAudioSound._detectSupport){i.html.WebAudioSound._detectSupport=!1;var a=
i.html.HtmlUtil.loadExtension("AudioContext").value;null!=a&&(i.html.WebAudioSound.ctx=new a,i.html.WebAudioSound.gain=null!=i.html.WebAudioSound.ctx.createGainNode?i.html.WebAudioSound.ctx.createGainNode():i.html.WebAudioSound.ctx.createGain(),i.html.WebAudioSound.gain.connect(i.html.WebAudioSound.ctx.destination),B.volume.watch(function(a){i.html.WebAudioSound.gain.gain.value=a}))}return null!=i.html.WebAudioSound.ctx};i.html.WebAudioSound.__super__=i.BasicAsset;i.html.WebAudioSound.prototype=z(i.BasicAsset.prototype,
{onDisposed:function(){this.buffer=null},get_duration:function(){return this.buffer.duration},loop:function(a){null==a&&(a=1);return new i.html._WebAudioSound.WebAudioPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new i.html._WebAudioSound.WebAudioPlayback(this,a,!1)},__class__:i.html.WebAudioSound,__properties__:{get_duration:"get_duration"}});i.html._WebAudioSound={};i.html._WebAudioSound.WebAudioPlayback=function(a,b,d){var c=this;this._sound=a;this._head=i.html.WebAudioSound.gain;
this._sourceNode=i.html.WebAudioSound.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=d;null!=this._sourceNode.noteOn?this._sourceNode.noteOn(0):this._sourceNode.start(0);this.playAudio();this.volume=new R.AnimatedFloat(b,function(a){c.setVolume(a)});1!=b&&this.setVolume(b);B.hidden._value&&this.set_paused(!0)};m["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=i.html._WebAudioSound.WebAudioPlayback;i.html._WebAudioSound.WebAudioPlayback.__name__=["flambe","platform",
"html","_WebAudioSound","WebAudioPlayback"];i.html._WebAudioSound.WebAudioPlayback.__interfaces__=[i.Tickable,L.Playback];i.html._WebAudioSound.WebAudioPlayback.prototype={playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=i.html.WebAudioSound.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(i.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=B.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,
a.set_paused(!0)):a.set_paused(a._wasPaused)}))},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},setVolume:function(a){null==this._gainNode&&(this._gainNode=null!=i.html.WebAudioSound.ctx.createGainNode?i.html.WebAudioSound.ctx.createGainNode():i.html.WebAudioSound.ctx.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},dispose:function(){this.set_paused(!0);null!=this._sourceNode&&(this._sourceNode.disconnect(),
this._sourceNode=null);null!=this._gainNode&&(this._gainNode.disconnect(),this._gainNode=null);this._tickableAdded=!1;null!=this._hideBinding&&(this._hideBinding.dispose(),this._hideBinding=null)},update:function(a){this.volume.update(a);return 0<=this._pausedAt||null==this._sourceNode||3==this._sourceNode.playbackState?(this._tickableAdded=!1,null!=this._hideBinding&&this._hideBinding.dispose(),!0):!1},get_position:function(){return null==this._sourceNode||3==this._sourceNode.playbackState?this._sound.get_duration():
0<=this._pausedAt?this._pausedAt:(i.html.WebAudioSound.ctx.currentTime-this._startedAt)%this._sound.get_duration()},get_ended:function(){return null==this._sourceNode?!0:3==this._sourceNode.playbackState},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},__class__:i.html._WebAudioSound.WebAudioPlayback,__properties__:{get_ended:"get_ended",get_position:"get_position"}};D={Director:function(){this._transitor=
null}};m["flambe.scene.Director"]=D.Director;D.Director.__name__=["flambe","scene","Director"];D.Director.__super__=U;D.Director.prototype=z(U.prototype,{completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a],b=b._compMap.Scene_4;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-
1):[];b=this.get_topScene();null!=b&&this.show(b)},show:function(a){a=a._compMap.Scene_4;null!=a&&a.shown.emit0()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var d=b[a];++a;d.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},
get_name:function(){return"Director_3"},__class__:D.Director});D._Director={};D._Director.Transitor=function(){};m["flambe.scene._Director.Transitor"]=D._Director.Transitor;D._Director.Transitor.__name__=["flambe","scene","_Director","Transitor"];D._Director.Transitor.prototype={complete:function(){this._transition.complete();this._onComplete()},update:function(a){return this._transition.update(a)},__class__:D._Director.Transitor};D.Scene=function(){};m["flambe.scene.Scene"]=D.Scene;D.Scene.__name__=
["flambe","scene","Scene"];D.Scene.__super__=U;D.Scene.prototype=z(U.prototype,{get_name:function(){return"Scene_4"},__class__:D.Scene});D.Transition=function(){};m["flambe.scene.Transition"]=D.Transition;D.Transition.__name__=["flambe","scene","Transition"];D.Transition.prototype={complete:function(){},update:function(){return!0},__class__:D.Transition};L.Mixer=function(){this._sounds=[]};m["flambe.sound.Mixer"]=L.Mixer;L.Mixer.__name__=["flambe","sound","Mixer"];L.Mixer.__super__=U;L.Mixer.prototype=
z(U.prototype,{onRemoved:function(){this.stopAll();this._sounds=[]},stopAll:function(){for(var a=0,b=this._sounds;a<b.length;){var d=b[a];++a;d.dispose()}},newSound:function(a,b){null==b&&(b=2147483647);var d=new L._Mixer.MixerSound(a,b);this._sounds.push(d);return d},get_name:function(){return"Mixer_1"},__class__:L.Mixer});L._Mixer={};L._Mixer.MixerSound=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};m["flambe.sound._Mixer.MixerSound"]=L._Mixer.MixerSound;L._Mixer.MixerSound.__name__=
["flambe","sound","_Mixer","MixerSound"];L._Mixer.MixerSound.__interfaces__=[r.Disposable,L.Sound];L._Mixer.MixerSound.prototype={dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var d=b[a];++a;d.dispose()}this._source=null;this._playbacks=[]},get_duration:function(){return this._source.get_duration()},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var d=a++,c=this._playbacks[d];if(null==c||c.get_ended())return d}return-1},playOrLoop:function(a,b){var d=this.findOpenChannel();
if(0>d)return new i.DummyPlayback(this);var c=b?this._source.loop(a):this._source.play(a);return this._playbacks[d]=c},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},__class__:L._Mixer.MixerSound,__properties__:{get_duration:"get_duration"}};I={BitmapSprite:function(a){o.Sprite.call(this);this.symbol=a;this.anchorX.set__(a.anchorX);this.anchorY.set__(a.anchorY)}};m["flambe.swf.BitmapSprite"]=I.BitmapSprite;I.BitmapSprite.__name__=
["flambe","swf","BitmapSprite"];I.BitmapSprite.__super__=o.Sprite;I.BitmapSprite.prototype=z(o.Sprite.prototype,{getNaturalHeight:function(){return this.symbol.height},getNaturalWidth:function(){return this.symbol.width},draw:function(a){a.drawSubImage(this.symbol.atlas,0,0,this.symbol.x,this.symbol.y,this.symbol.width,this.symbol.height)},__class__:I.BitmapSprite});I.Symbol=function(){};m["flambe.swf.Symbol"]=I.Symbol;I.Symbol.__name__=["flambe","swf","Symbol"];I.Symbol.prototype={__class__:I.Symbol};
I.BitmapSymbol=function(a,b){this._name=a.symbol;this.atlas=b;var d=a.rect;this.x=d[0];this.y=d[1];this.width=d[2];this.height=d[3];d=a.origin;null!=d?(this.anchorX=d[0],this.anchorY=d[1]):this.anchorY=this.anchorX=0};m["flambe.swf.BitmapSymbol"]=I.BitmapSymbol;I.BitmapSymbol.__name__=["flambe","swf","BitmapSymbol"];I.BitmapSymbol.__interfaces__=[I.Symbol];I.BitmapSymbol.prototype={get_name:function(){return this._name},createSprite:function(){return new I.BitmapSprite(this)},__class__:I.BitmapSymbol,
__properties__:{get_name:"get_name"}};I.Library=function(a,b){this._symbols=new F.StringMap;var d=Z.parse(a.getFile(b+"/library.json").toString());this.frameRate=d.frameRate;for(var c=[],e=0,f=d.movies;e<f.length;){var g=f[e];++e;g=new I.MovieSymbol(this,g);c.push(g);this._symbols.set(g.get_name(),g)}e=d.textureGroups;(1!=e[0].scaleFactor||1<e.length)&&null;g=e[0].atlases;for(e=0;e<g.length;){d=g[e];++e;for(var h=a.getTexture(b+"/"+r.Strings.removeFileExtension(d.file)),f=0,d=d.textures;f<d.length;){var i=
d[f];++f;i=new I.BitmapSymbol(i,h);this._symbols.set(i.get_name(),i)}}for(e=0;e<c.length;){g=c[e];++e;f=0;for(d=g.layers;f<d.length;){g=d[f];++f;g=g.keyframes;h=g.length;for(i=0;i<h;){var k=i++,l=g[k];if(null!=l.symbolName){var m=this._symbols.get(l.symbolName);l.symbol=m}if(1==l.duration&&k+1<h&&(k=g[k+1],!k.visible||null==k.symbolName))l.visible=!1}}}};m["flambe.swf.Library"]=I.Library;I.Library.__name__=["flambe","swf","Library"];I.Library.prototype={__class__:I.Library};I.MovieSprite=function(a){this._looped=
null;o.Sprite.call(this);this.symbol=a;this.speed=new R.AnimatedFloat(1);this._animators=Array(a.layers.length);for(var b=0,d=this._animators.length;b<d;){var c=b++;this._animators[c]=new I._MovieSprite.LayerAnimator(a.layers[c])}this._position=this._frame=0;this["goto"](1)};m["flambe.swf.MovieSprite"]=I.MovieSprite;I.MovieSprite.__name__=["flambe","swf","MovieSprite"];I.MovieSprite.__super__=o.Sprite;I.MovieSprite.prototype=z(o.Sprite.prototype,{rewind:function(){this._position=0;this._flags|=32},
set_paused:function(a){this._flags=r.BitSets.set(this._flags,16,a);return a},set_position:function(a){return this._position=N.FMath.clamp(a,0,this.symbol.duration)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,d=this._animators;b<d.length;){var c=d[b];++b;c.needsKeyframeUpdate=!0;c.keyframeIdx=0}b=0;for(d=this._animators;b<d.length;)c=d[b],++b,c.composeFrame(a);this._frame=a}},onUpdate:function(a){o.Sprite.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&
48){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=this.symbol.duration,null!=this._looped&&this._looped.emit0());break;case 32:this._flags&=-33}this["goto"](this._position*this.symbol.frameRate)},onRemoved:function(){o.Sprite.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var d=b[a];++a;this.owner.removeChild(d.content)}},onAdded:function(){o.Sprite.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var d=
b[a];++a;this.owner.addChild(d.content)}},__class__:I.MovieSprite});I._MovieSprite={};I._MovieSprite.LayerAnimator=function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=!1;this.layer=a;this.content=new P;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var b=0,d=this._sprites.length;b<d;){var c=b++,e=a.keyframes[c];this._sprites[c]=0<c&&a.keyframes[c-1].symbol==e.symbol?this._sprites[c-1]:null==e.symbol?new o.Sprite:e.symbol.createSprite()}this.content.add(this._sprites[0])}};
m["flambe.swf._MovieSprite.LayerAnimator"]=I._MovieSprite.LayerAnimator;I._MovieSprite.LayerAnimator.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];I._MovieSprite.LayerAnimator.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_2.set_visible(!1),this.keyframeIdx=c,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=
!0;var e;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,e=this._sprites[this.keyframeIdx],e!=this.content._compMap.Sprite_2&&(S.getClass(e)==I.MovieSprite&&e.rewind(),this.content.add(e))):e=this.content._compMap.Sprite_2;var f=b[this.keyframeIdx],g=f.visible&&null!=f.symbol;e.set_visible(g);if(g){var g=f.x,h=f.y,i=f.scaleX,k=f.scaleY,l=f.skewX,m=f.skewY,n=f.alpha;if(f.tweened&&this.keyframeIdx<c){a=(a-f.index)/f.duration;c=f.ease;if(0!=c){var o;0>c?(o=1-a,o=1-o*o,c=-c):o=a*a;a=c*o+(1-c)*a}b=
b[this.keyframeIdx+1];g+=(b.x-g)*a;h+=(b.y-h)*a;i+=(b.scaleX-i)*a;k+=(b.scaleY-k)*a;l+=(b.skewX-l)*a;m+=(b.skewY-m)*a;n+=(b.alpha-n)*a}b=e.getLocalMatrix();a=Math.sin(l);l=Math.cos(l);c=Math.sin(m);m=Math.cos(m);b.set(m*i,c*i,-a*k,l*k,g,h);b.translate(-f.pivotX,-f.pivotY);e.alpha.set__(n)}}}},__class__:I._MovieSprite.LayerAnimator};I.MovieSymbol=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,e=this.layers.length;c<e;){var f=c++,
g=new I.MovieLayer(b.layers[f]);this.frames=Math.max(g.frames,this.frames);this.layers[f]=g}this.duration=this.frames/this.frameRate};m["flambe.swf.MovieSymbol"]=I.MovieSymbol;I.MovieSymbol.__name__=["flambe","swf","MovieSymbol"];I.MovieSymbol.__interfaces__=[I.Symbol];I.MovieSymbol.prototype={createSprite:function(){return new I.MovieSprite(this)},get_name:function(){return this._name},__class__:I.MovieSymbol,__properties__:{get_name:"get_name"}};I.MovieLayer=function(a){this.empty=!0;this.name=
a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,e=this.keyframes.length;c<e;){var f=c++,b=new I.MovieKeyframe(a.keyframes[f],b);this.keyframes[f]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+(b.duration|0):0};m["flambe.swf.MovieLayer"]=I.MovieLayer;I.MovieLayer.__name__=["flambe","swf","MovieLayer"];I.MovieLayer.prototype={__class__:I.MovieLayer};I.MovieKeyframe=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=
this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=
a.tweened);null!=a.ease&&(this.ease=a.ease)};m["flambe.swf.MovieKeyframe"]=I.MovieKeyframe;I.MovieKeyframe.__name__=["flambe","swf","MovieKeyframe"];I.MovieKeyframe.prototype={__class__:I.MovieKeyframe};r.BitSets=function(){};m["flambe.util.BitSets"]=r.BitSets;r.BitSets.__name__=["flambe","util","BitSets"];r.BitSets.set=function(a,b,c){return c?a|b:a&~b};r.Promise=function(){this.success=new r.Signal1;this.error=new r.Signal1;this.progressChanged=new r.Signal0;this.hasResult=!1;this._total=this._progress=
0};m["flambe.util.Promise"]=r.Promise;r.Promise.__name__=["flambe","util","Promise"];r.Promise.prototype={set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit0());return a},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit0());return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=
!0;this.success.emit1(a);return a},__class__:r.Promise};r.Signal0=function(a){r.SignalBase.call(this,a)};m["flambe.util.Signal0"]=r.Signal0;r.Signal0.__name__=["flambe","util","Signal0"];r.Signal0.__super__=r.SignalBase;r.Signal0.prototype=z(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal0});r._SignalBase={};r._SignalBase.Task=function(a){this.next=null;this.fn=a};m["flambe.util._SignalBase.Task"]=r._SignalBase.Task;r._SignalBase.Task.__name__=
["flambe","util","_SignalBase","Task"];r._SignalBase.Task.prototype={__class__:r._SignalBase.Task};r.Strings=function(){};m["flambe.util.Strings"]=r.Strings;r.Strings.__name__=["flambe","util","Strings"];r.Strings.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?H.substr(a,b+1,null):null};r.Strings.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?H.substr(a,0,b):a};r.Strings.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=H.substr(a,0,b));b=a.lastIndexOf("/");
0<=b&&(a=H.substr(a,b+1,null));return r.Strings.getFileExtension(a)};r.Strings.joinPath=function(a,b){47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};r.Strings.withFields=function(a,b){var c=b.length;if(0<c){for(var a=a+(0<a.length?" [":"["),e=0;e<c;){0<e&&(a+=", ");var f=b[e],g=b[e+1];if(A.__instanceof(g,Error)){var h=g.stack;null!=h&&(g=h)}a+=f+"="+t.string(g);e+=2}a+="]"}return a};ea=void 0;ea={Reader:function(a){this.i=a}};m["format.tar.Reader"]=ea.Reader;ea.Reader.__name__=["format","tar",
"Reader"];ea.Reader.prototype={parseOctal:function(a){for(var b=0,c=0,e=a.length;c<e;){var f=c++,f=a.b[f];if(0==f)break;if(32!=f){if(48>f||55<f)throw"Invalid octal char";b=8*b+(f-48)}}return b},readPad:function(a){this.i.read(512*Math.ceil(a/512)-a)},readEntryHeader:function(){var a=this.i,b=a.readUntil(0);if(0==b.length){for(b=0;1023>b;)if(b++,0!=a.readByte())throw"Invalid TAR end";return null}a.read(99-b.length);var c=this.parseOctal(a.read(8)),e=this.parseOctal(a.read(8)),f=this.parseOctal(a.read(8)),
g=this.parseOctal(a.read(12)),h=this.parseOctal(a.read(8)),h=512*h+this.parseOctal(a.read(4));a.read(8);a.readByte();var i=a.readUntil(0);a.read(99-i.length);a.readString(8);i=a.readUntil(0);a.read(31-i.length);var k=a.readUntil(0);a.read(31-k.length);this.parseOctal(a.read(8));this.parseOctal(a.read(8));var l=a.readUntil(0);a.read(166-l.length);a=new Date;a.setTime(1E3*h);return{fileName:b,fileSize:g,fileTime:a,fmod:c,uid:e,uname:i,gid:f,gname:k,data:null}},read:function(){var a=new aa;for(E.Bytes.alloc(65536);;){var b=
this.readEntryHeader();if(null==b)break;var c=b.fileSize;b.data=this.i.read(c);this.readPad(c);a.add(b)}return a},__class__:ea.Reader};J=void 0;F=void 0;T=void 0;V=void 0;X=void 0;ga=void 0;E=void 0;u=void 0;Z=void 0;$=void 0;Z=function(){};m["haxe.Json"]=Z;Z.__name__=["haxe","Json"];Z.parse=function(a){return(new Z).doParse(a)};Z.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,e=!c,f=48==a,g=!1,h=!1,i=!1,k=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!g&&this.invalidNumber(b);
c&&(c=!1,f=!0);e=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&!g&&this.invalidNumber(b);c&&(c=!1);e=!0;f=!1;break;case 46:(c||g)&&this.invalidNumber(b);e=!1;g=!0;break;case 101:case 69:(c||f||h)&&this.invalidNumber(b);e=!1;h=!0;break;case 43:case 45:(!h||i)&&this.invalidNumber(b);e=!1;i=!0;break;default:e||this.invalidNumber(b),this.pos--,k=!0}if(k)break}a=t.parseFloat(H.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+
a+": "+H.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new ba;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\u0008";break;case 102:b.b+="\u000c";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=t.parseInt("0x"+H.substr(this.str,this.pos,4));this.pos+=4;b.b+=
String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var e=this.str.charCodeAt(this.pos++);switch(e){case 32:case 13:case 10:case 9:break;case 125:return(null!=c||!1==a)&&this.invalidChar(),
b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(e=this.str.charCodeAt(this.pos++),e){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),a=!0}break;case 116:a=this.pos;if(114!=
this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=
a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:Z};X=function(){this.buf=new ba;this.cache=[];this.useCache=X.USE_CACHE;this.useEnumIndex=X.USE_ENUM_INDEX;
this.shash=new F.StringMap;this.scount=0};m["haxe.Serializer"]=X;X.__name__=["haxe","Serializer"];X.run=function(a){var b=new X;b.serialize(a);return b.toString()};X.prototype={serialize:function(a){var b=S["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=t.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=t.string(a)):this.buf.b+=t.string(0>a?"m":"p");break;case 3:this.buf.b+=
t.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var e=a.length,f=0;f<e;)b=f++,null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=t.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=t.string(c)));this.buf.b+="h";break;case aa:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+=
"h";break;case Date:this.buf.b+="v";this.buf.b+=t.string(H.dateStr(a));break;case F.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));this.buf.b+="h";break;case F.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=t.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case F.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),e=v.field(b,"__id__"),v.deleteField(b,"__id__"),this.serialize(b),
b.__id__=e,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case E.Bytes:b=0;c=a.length-2;e=new ba;for(f=X.BASE64;b<c;){var g=a.b[b++],h=a.b[b++],i=a.b[b++];e.b+=t.string(f.charAt(g>>2));e.b+=t.string(f.charAt((g<<4|h>>4)&63));e.b+=t.string(f.charAt((h<<2|i>>6)&63));e.b+=t.string(f.charAt(i&63))}b==c?(g=a.b[b++],h=a.b[b++],e.b+=t.string(f.charAt(g>>2)),e.b+=t.string(f.charAt((g<<4|h>>4)&63)),e.b+=t.string(f.charAt(h<<2&63))):b==c+1&&(g=a.b[b++],e.b+=t.string(f.charAt(g>>2)),e.b+=t.string(f.charAt(g<<
4&63)));b=e.b;this.buf.b+="s";this.buf.b+=t.string(b.length);this.buf.b+=":";this.buf.b+=t.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(S.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(S.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&
this.serializeRef(a))break;this.cache.pop();this.buf.b+=t.string(this.useEnumIndex?"j":"w");this.serializeString(S.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=t.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";e=a.length;this.buf.b+=t.string(e-2);for(f=2;f<e;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+t.string(a);}},serializeFields:function(a){for(var b=0,c=v.fields(a);b<c.length;){var e=c[b];
++b;this.serializeString(e);this.serialize(v.field(a,e))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,e=this.cache.length;c<e;){var f=c++,g=this.cache[f];if(typeof g==b&&g==a)return this.buf.b+="r",this.buf.b+=t.string(f),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=t.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=Q.urlEncode(a),this.buf.b+=t.string(a.length),this.buf.b+=":",this.buf.b+=
t.string(a))},toString:function(){return this.buf.b},__class__:X};T=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};m["haxe.Timer"]=T;T.__name__=["haxe","Timer"];T.delay=function(a,b){var c=new T(b);c.run=function(){c.stop();a()};return c};T.prototype={run:function(){null},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:T};V=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=V.DEFAULT_RESOLVER;null==a&&(a=S,V.DEFAULT_RESOLVER=
a);this.setResolver(a)};m["haxe.Unserializer"]=V;V.__name__=["haxe","Unserializer"];V.initCodes=function(){for(var a=[],b=0,c=V.BASE64.length;b<c;){var e=b++;a[V.BASE64.charCodeAt(e)]=e}return a};V.run=function(a){return(new V(a)).unserialize()};V.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=
b&&58>b||101==b||69==b)this.pos++;else break}return t.parseFloat(H.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=H.substr(this.buf,this.pos,b);this.pos+=b;a=Q.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==
b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==
a)throw"Class not found "+b;b=S.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),e=S.getEnumConstructs(a)[c];if(null==e)throw"Unknown enum index "+b+"@"+c;b=this.unserializeEnum(a,
e);this.cache.push(b);return b;case 108:b=new aa;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new F.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new F.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);if(104!=b)throw"Invalid IntMap format";
return c;case 77:c=new F.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=H.strDate(H.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";e=V.CODES;null==e&&(e=V.initCodes(),V.CODES=e);for(var a=this.pos,f=b&3,g=a+(b-f),h=E.Bytes.alloc(3*(b>>2)+(2<=f?
f-1:0)),i=0;a<g;){var k=e[c.charCodeAt(a++)],l=e[c.charCodeAt(a++)];h.b[i++]=(k<<2|l>>4)&255;k=e[c.charCodeAt(a++)];h.b[i++]=(l<<4|k>>2)&255;l=e[c.charCodeAt(a++)];h.b[i++]=(k<<6|l)&255}2<=f&&(k=e[c.charCodeAt(a++)],l=e[c.charCodeAt(a++)],h.b[i++]=(k<<2|l>>4)&255,3==f&&(k=e[c.charCodeAt(a++)],h.b[i++]=(l<<4|k>>2)&255));this.pos+=b;this.cache.push(h);return h;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=S.createEmptyInstance(a);this.cache.push(b);
b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return S.createEnum(a,b);for(var e=[];0<c--;)e.push(this.unserialize());return S.createEnum(a,b,e)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==
this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!A.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(45==e){if(this.pos!=c)break;b=!0}else{if(48>e||57<e)break;a=10*a+(e-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},__class__:V};
$={Adler32:function(){this.a1=1;this.a2=0}};m["haxe.crypto.Adler32"]=$.Adler32;$.Adler32.__name__=["haxe","crypto","Adler32"];$.Adler32.read=function(a){var b=new $.Adler32,c=a.readByte(),e=a.readByte(),f=a.readByte(),a=a.readByte();b.a1=f<<8|a;b.a2=c<<8|e;return b};$.Adler32.prototype={equals:function(a){return a.a1==this.a1&&a.a2==this.a2},update:function(a,b,c){for(var e=this.a1,f=this.a2,g=b,b=b+c;g<b;)c=g++,e=(e+a.b[c])%65521,f=(f+e)%65521;this.a1=e;this.a2=f},__class__:$.Adler32};F={IntMap:function(){this.h=
{}}};m["haxe.ds.IntMap"]=F.IntMap;F.IntMap.__name__=["haxe","ds","IntMap"];F.IntMap.__interfaces__=[fa];F.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return H.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:F.IntMap};F.ObjectMap=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=
F.ObjectMap;F.ObjectMap.__name__=["haxe","ds","ObjectMap"];F.ObjectMap.__interfaces__=[fa];F.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return H.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++F.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:F.ObjectMap};F.StringMap=function(){this.h={}};m["haxe.ds.StringMap"]=F.StringMap;F.StringMap.__name__=["haxe","ds","StringMap"];F.StringMap.__interfaces__=
[fa];F.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return H.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+
a]=b},__class__:F.StringMap};E={Bytes:function(a,b){this.length=a;this.b=b}};m["haxe.io.Bytes"]=E.Bytes;E.Bytes.__name__=["haxe","io","Bytes"];E.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new E.Bytes(a,b)};E.Bytes.ofData=function(a){return new E.Bytes(a.length,a)};E.Bytes.prototype={toString:function(){return this.readString(0,this.length)},readString:function(a,b){if(0>a||0>b||a+b>this.length)throw E.Error.OutsideBounds;for(var c="",e=this.b,f=String.fromCharCode,g=a,h=a+
b;g<h;){var i=e[g++];if(128>i){if(0==i)break;c+=f(i)}else if(224>i)c+=f((i&63)<<6|e[g++]&127);else if(240>i)var k=e[g++],c=c+f((i&31)<<12|(k&127)<<6|e[g++]&127);else var k=e[g++],l=e[g++],c=c+f((i&15)<<18|(k&127)<<12|l<<6&127|e[g++]&127)}return c},blit:function(a,b,c,e){if(0>a||0>c||0>e||a+e>this.length||c+e>b.length)throw E.Error.OutsideBounds;var f=this.b,b=b.b;if(f==b&&a>c)for(var g=e;0<g;)g--,f[g+a]=b[g+c];else for(var h=0;h<e;)g=h++,f[g+a]=b[g+c]},__class__:E.Bytes};E.BytesBuffer=function(){this.b=
[]};m["haxe.io.BytesBuffer"]=E.BytesBuffer;E.BytesBuffer.__name__=["haxe","io","BytesBuffer"];E.BytesBuffer.prototype={getBytes:function(){var a=new E.Bytes(this.b.length,this.b);this.b=null;return a},addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw E.Error.OutsideBounds;for(var a=a.b,e=b,b=b+c;e<b;)c=e++,this.b.push(a[c])},add:function(a){for(var b=a.b,c=0,a=a.length;c<a;){var e=c++;this.b.push(b[e])}},__class__:E.BytesBuffer};E.Input=function(){};m["haxe.io.Input"]=E.Input;E.Input.__name__=
["haxe","io","Input"];E.Input.prototype={readString:function(a){var b=E.Bytes.alloc(a);this.readFullBytes(b,0,a);return b.toString()},readInt32:function(){var a=this.readByte(),b=this.readByte(),c=this.readByte(),e=this.readByte();return this.bigEndian?e|c<<8|b<<16|a<<24:a|b<<8|c<<16|e<<24},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},readInt16:function(){var a=this.readByte(),b=this.readByte(),a=this.bigEndian?b|a<<8:a|b<<8;return 0!=(a&32768)?
a-65536:a},readUntil:function(a){for(var b=new ba,c;(c=this.readByte())!=a;)b.b+=String.fromCharCode(c);return b.b},read:function(a){for(var b=E.Bytes.alloc(a),c=0;0<a;){var e=this.readBytes(b,c,a);if(0==e)throw E.Error.Blocked;c+=e;a-=e}return b},readFullBytes:function(a,b,c){for(;0<c;)var e=this.readBytes(a,b,c),b=b+e,c=c-e},readBytes:function(a,b,c){var e=c,f=a.b;if(0>b||0>c||b+c>a.length)throw E.Error.OutsideBounds;for(;0<e;)f[b]=this.readByte(),b++,e--;return c},readByte:function(){throw"Not implemented";
},__class__:E.Input};E.BytesInput=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw E.Error.OutsideBounds;this.b=a.b;this.pos=b;this.len=c};m["haxe.io.BytesInput"]=E.BytesInput;E.BytesInput.__name__=["haxe","io","BytesInput"];E.BytesInput.__super__=E.Input;E.BytesInput.prototype=z(E.Input.prototype,{readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw E.Error.OutsideBounds;if(0==this.len&&0<c)throw new E.Eof;this.len<c&&(c=this.len);for(var e=this.b,a=a.b,
f=0;f<c;){var g=f++;a[b+g]=e[this.pos+g]}this.pos+=c;this.len-=c;return c},readByte:function(){if(0==this.len)throw new E.Eof;this.len--;return this.b[this.pos++]},__class__:E.BytesInput});E.Eof=function(){};m["haxe.io.Eof"]=E.Eof;E.Eof.__name__=["haxe","io","Eof"];E.Eof.prototype={toString:function(){return"Eof"},__class__:E.Eof};E.Error=m["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};E.Error.Blocked=["Blocked",0];E.Error.Blocked.toString=
n;E.Error.Blocked.__enum__=E.Error;E.Error.Overflow=["Overflow",1];E.Error.Overflow.toString=n;E.Error.Overflow.__enum__=E.Error;E.Error.OutsideBounds=["OutsideBounds",2];E.Error.OutsideBounds.toString=n;E.Error.OutsideBounds.__enum__=E.Error;E.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=E.Error;a.toString=n;return a};ga={Meta:function(){}};m["haxe.rtti.Meta"]=ga.Meta;ga.Meta.__name__=["haxe","rtti","Meta"];ga.Meta.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};J=
{_Fast:{}};J._Fast.NodeAccess=function(a){this.__x=a};m["haxe.xml._Fast.NodeAccess"]=J._Fast.NodeAccess;J._Fast.NodeAccess.__name__=["haxe","xml","_Fast","NodeAccess"];J._Fast.NodeAccess.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==G.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new J.Fast(b)},__class__:J._Fast.NodeAccess};J._Fast.AttribAccess=function(a){this.__x=a};m["haxe.xml._Fast.AttribAccess"]=J._Fast.AttribAccess;
J._Fast.AttribAccess.__name__=["haxe","xml","_Fast","AttribAccess"];J._Fast.AttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==G.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:J._Fast.AttribAccess};J._Fast.HasAttribAccess=function(a){this.__x=a};m["haxe.xml._Fast.HasAttribAccess"]=J._Fast.HasAttribAccess;J._Fast.HasAttribAccess.__name__=["haxe","xml","_Fast","HasAttribAccess"];
J._Fast.HasAttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==G.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__class__:J._Fast.HasAttribAccess};J._Fast.HasNodeAccess=function(a){this.__x=a};m["haxe.xml._Fast.HasNodeAccess"]=J._Fast.HasNodeAccess;J._Fast.HasNodeAccess.__name__=["haxe","xml","_Fast","HasNodeAccess"];J._Fast.HasNodeAccess.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:J._Fast.HasNodeAccess};J._Fast.NodeListAccess=
function(a){this.__x=a};m["haxe.xml._Fast.NodeListAccess"]=J._Fast.NodeListAccess;J._Fast.NodeListAccess.__name__=["haxe","xml","_Fast","NodeListAccess"];J._Fast.NodeListAccess.prototype={resolve:function(a){for(var b=new aa,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new J.Fast(c))}return b},__class__:J._Fast.NodeListAccess};J.Fast=function(a){if(a.nodeType!=G.Document&&a.nodeType!=G.Element)throw"Invalid nodeType "+t.string(a.nodeType);this.x=a;this.node=new J._Fast.NodeAccess(a);
this.nodes=new J._Fast.NodeListAccess(a);this.att=new J._Fast.AttribAccess(a);this.has=new J._Fast.HasAttribAccess(a);this.hasNode=new J._Fast.HasNodeAccess(a)};m["haxe.xml.Fast"]=J.Fast;J.Fast.__name__=["haxe","xml","Fast"];J.Fast.prototype={get_elements:function(){var a=this.x.elements();return{hasNext:x(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new J.Fast(b)}}},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=
a.next(),c=a.next();if(null!=c){if(b.nodeType==G.PCData&&c.nodeType==G.CData&&""==Q.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==G.PCData&&""==Q.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=G.PCData&&b.nodeType!=G.CData)throw this.get_name()+" does not have data";return b.get_nodeValue()},get_name:function(){return this.x.nodeType==G.Document?"Document":this.x.get_nodeName()},__class__:J.Fast};J.Parser=
function(){};m["haxe.xml.Parser"]=J.Parser;J.Parser.__name__=["haxe","xml","Parser"];J.Parser.parse=function(a){var b=G.createDocument();J.Parser.doParse(a,0,b);return b};J.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var e=null,f=1,g=1,h=null,i=0,k=0,l=0,m=a.charCodeAt(b),n=new ba;m==m;){switch(f){case 0:switch(m){case 10:case 13:case 9:case 32:break;default:f=g;continue}break;case 1:switch(m){case 60:f=0;g=2;break;default:i=b;f=13;continue}break;case 13:60==m?(f=G.createPCData(n.b+H.substr(a,
i,b-i)),n=new ba,c.addChild(f),k++,f=0,g=2):38==m&&(n.addSub(a,i,b-i),f=18,g=13,i=b+1);break;case 17:93==m&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(f=G.createCData(H.substr(a,i,b-i)),c.addChild(f),k++,b+=2,f=1);break;case 2:switch(m){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=H.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=H.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=
a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;f=15}i=b+1;break;case 63:f=14;i=b;break;case 47:if(null==c)throw"Expected node name";i=b+1;f=0;g=10;break;default:f=3;i=b;continue}break;case 3:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(b==i)throw"Expected node name";e=G.createElement(H.substr(a,i,b-i));c.addChild(e);f=0;g=4;continue}break;case 4:switch(m){case 47:f=11;k++;break;case 62:f=9;k++;break;default:f=5;i=b;continue}break;case 5:if(!(97<=
m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(i==b)throw"Expected attribute name";h=H.substr(a,i,b-i);if(e.exists(h))throw"Duplicate attribute";f=0;g=6;continue}break;case 6:switch(m){case 61:f=0;g=7;break;default:throw"Expected =";}break;case 7:switch(m){case 34:case 39:f=8;i=b;break;default:throw'Expected "';}break;case 8:m==a.charCodeAt(i)&&(g=H.substr(a,i+1,b-i-1),e.set(h,g),f=0,g=4);break;case 9:i=b=J.Parser.doParse(a,b,e);f=1;break;case 11:switch(m){case 62:f=1;break;
default:throw"Expected >";}break;case 12:switch(m){case 62:return 0==k&&c.addChild(G.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(i==b)throw"Expected node name";if(H.substr(a,i,b-i)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;g=12;continue}break;case 15:45==m&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(G.createComment(H.substr(a,i,b-i))),b+=2,f=1);break;case 16:91==m?l++:93==
m?l--:62==m&&0==l&&(c.addChild(G.createDocType(H.substr(a,i,b-i))),f=1);break;case 14:63==m&&62==a.charCodeAt(b+1)&&(b++,f=H.substr(a,i+1,b-i-2),c.addChild(G.createProcessingInstruction(f)),f=1);break;case 18:59==m&&(i=H.substr(a,i,b-i),35==i.charCodeAt(0)?(i=120==i.charCodeAt(1)?t.parseInt("0"+H.substr(i,1,i.length-1)):t.parseInt(H.substr(i,1,i.length-1)),n.b+=t.string(String.fromCharCode(i))):n.b=J.Parser.escapes.exists(i)?n.b+t.string(J.Parser.escapes.get(i)):n.b+t.string("&"+i+";"),i=b+1,f=g)}m=
a.charCodeAt(++b)}1==f&&(i=b,f=13);if(13==f)return(b!=i||0==k)&&c.addChild(G.createPCData(n.b+H.substr(a,i,b-i))),b;throw"Unexpected end";};u={};u.ExtraField=m["haxe.zip.ExtraField"]={__ename__:["haxe","zip","ExtraField"],__constructs__:["FUnknown","FInfoZipUnicodePath","FUtf8"]};u.ExtraField.FUnknown=function(a,b){var c=["FUnknown",0,a,b];c.__enum__=u.ExtraField;c.toString=n;return c};u.ExtraField.FInfoZipUnicodePath=function(a,b){var c=["FInfoZipUnicodePath",1,a,b];c.__enum__=u.ExtraField;c.toString=
n;return c};u.ExtraField.FUtf8=["FUtf8",2];u.ExtraField.FUtf8.toString=n;u.ExtraField.FUtf8.__enum__=u.ExtraField;u.Huffman=m["haxe.zip.Huffman"]={__ename__:["haxe","zip","Huffman"],__constructs__:["Found","NeedBit","NeedBits"]};u.Huffman.Found=function(a){a=["Found",0,a];a.__enum__=u.Huffman;a.toString=n;return a};u.Huffman.NeedBit=function(a,b){var c=["NeedBit",1,a,b];c.__enum__=u.Huffman;c.toString=n;return c};u.Huffman.NeedBits=function(a,b){var c=["NeedBits",2,a,b];c.__enum__=u.Huffman;c.toString=
n;return c};u.HuffTools=function(){};m["haxe.zip.HuffTools"]=u.HuffTools;u.HuffTools.__name__=["haxe","zip","HuffTools"];u.HuffTools.prototype={make:function(a,b,c,e){var f=[],g=[];if(32<e)throw"Invalid huffman";for(var h=0;h<e;){var i=h++;f.push(0);g.push(0)}for(h=0;h<c;){i=h++;i=a[i+b];if(i>=e)throw"Invalid huffman";f[i]++}for(var k=0,l=1,h=e-1;l<h;)i=l++,k=k+f[i]<<1,g[i]=k;f=new F.IntMap;for(h=0;h<c;)i=h++,k=a[i+b],0!=k&&(l=g[k-1],g[k-1]=l+1,f.set(l<<5|k,i));return this.treeCompress(u.Huffman.NeedBit(this.treeMake(f,
e,0,1),this.treeMake(f,e,1,1)))},treeMake:function(a,b,c,e){if(e>b)throw"Invalid huffman";var f=c<<5|e;if(a.exists(f))return u.Huffman.Found(a.get(f));c<<=1;e+=1;return u.Huffman.NeedBit(this.treeMake(a,b,c,e),this.treeMake(a,b,c|1,e))},treeWalk:function(a,b,c,e,f){switch(f[1]){case 1:var g=f[3],h=f[2];0<e?(this.treeWalk(a,b,c+1,e-1,h),this.treeWalk(a,b|1<<c,c+1,e-1,g)):a[b]=this.treeCompress(f);break;default:a[b]=this.treeCompress(f)}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;
if(1==b){switch(a[1]){case 1:b=a[3];a=u.Huffman.NeedBit(this.treeCompress(a[2]),this.treeCompress(b));break;default:throw"assert";}return a}for(var c=1<<b,e=[],f=0;f<c;)f++,e.push(u.Huffman.Found(-1));this.treeWalk(e,0,0,b,a);return u.Huffman.NeedBits(b,e)},treeDepth:function(a){var b;switch(a[1]){case 0:b=0;break;case 2:throw"assert";case 1:b=a[3],a=this.treeDepth(a[2]),b=this.treeDepth(b),b=1+(a<b?a:b)}return b},__class__:u.HuffTools};u._InflateImpl={};u._InflateImpl.Window=function(a){this.buffer=
E.Bytes.alloc(65536);this.pos=0;a&&(this.crc=new $.Adler32)};m["haxe.zip._InflateImpl.Window"]=u._InflateImpl.Window;u._InflateImpl.Window.__name__=["haxe","zip","_InflateImpl","Window"];u._InflateImpl.Window.prototype={checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},available:function(){return this.pos},getLastChar:function(){return this.buffer.b[this.pos-1]},addByte:function(a){65536==this.pos&&this.slide();this.buffer.b[this.pos]=a&255;this.pos++},addBytes:function(a,
b,c){65536<this.pos+c&&this.slide();this.buffer.blit(this.pos,a,b,c);this.pos+=c},slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=E.Bytes.alloc(65536);this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);this.buffer=a},__class__:u._InflateImpl.Window};u._InflateImpl.State=m["haxe.zip._InflateImpl.State"]={__ename__:["haxe","zip","_InflateImpl","State"],__constructs__:"Head,Block,CData,Flat,Crc,Dist,DistOne,Done".split(",")};u._InflateImpl.State.Head=["Head",0];u._InflateImpl.State.Head.toString=
n;u._InflateImpl.State.Head.__enum__=u._InflateImpl.State;u._InflateImpl.State.Block=["Block",1];u._InflateImpl.State.Block.toString=n;u._InflateImpl.State.Block.__enum__=u._InflateImpl.State;u._InflateImpl.State.CData=["CData",2];u._InflateImpl.State.CData.toString=n;u._InflateImpl.State.CData.__enum__=u._InflateImpl.State;u._InflateImpl.State.Flat=["Flat",3];u._InflateImpl.State.Flat.toString=n;u._InflateImpl.State.Flat.__enum__=u._InflateImpl.State;u._InflateImpl.State.Crc=["Crc",4];u._InflateImpl.State.Crc.toString=
n;u._InflateImpl.State.Crc.__enum__=u._InflateImpl.State;u._InflateImpl.State.Dist=["Dist",5];u._InflateImpl.State.Dist.toString=n;u._InflateImpl.State.Dist.__enum__=u._InflateImpl.State;u._InflateImpl.State.DistOne=["DistOne",6];u._InflateImpl.State.DistOne.toString=n;u._InflateImpl.State.DistOne.__enum__=u._InflateImpl.State;u._InflateImpl.State.Done=["Done",7];u._InflateImpl.State.Done.toString=n;u._InflateImpl.State.Done.__enum__=u._InflateImpl.State;u.InflateImpl=function(a,b,c){null==c&&(c=
!0);null==b&&(b=!0);this["final"]=!1;this.htools=new u.HuffTools;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.dist=this.len=0;this.state=b?u._InflateImpl.State.Head:u._InflateImpl.State.Block;this.input=a;this.needed=this.nbits=this.bits=0;this.output=null;this.outpos=0;this.lengths=[];for(a=0;19>a;)a++,this.lengths.push(-1);this.window=new u._InflateImpl.Window(c)};m["haxe.zip.InflateImpl"]=u.InflateImpl;u.InflateImpl.__name__=["haxe","zip","InflateImpl"];u.InflateImpl.prototype=
{inflateLoop:function(){switch(this.state[1]){case 0:var a=this.input.readByte();if(8!=(a&15)||7!=a>>4)throw"Invalid data";var b=this.input.readByte();if(0!=((a<<8)+b)%31)throw"Invalid data";if(0!=(b&32))throw"Unsupported dictionary";this.state=u._InflateImpl.State.Block;return!0;case 4:a=this.window.checksum();if(null==a)return this.state=u._InflateImpl.State.Done,!0;b=$.Adler32.read(this.input);if(!a.equals(b))throw"Invalid CRC";this.state=u._InflateImpl.State.Done;return!0;case 7:return!1;case 1:switch(this["final"]=
this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=65535-this.len)throw"Invalid data";this.state=u._InflateImpl.State.Flat;a=this.inflateLoop();this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=u._InflateImpl.State.CData,!0;case 2:for(var a=this.getBits(5)+257,b=this.getBits(5)+1,c=this.getBits(4)+4,e=0;e<c;){var f=e++;this.lengths[u.InflateImpl.CODE_LENGTHS_POS[f]]=this.getBits(3)}for(e=c;19>
e;)f=e++,this.lengths[u.InflateImpl.CODE_LENGTHS_POS[f]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);c=[];f=0;for(e=a+b;f<e;)f++,c.push(0);this.inflateLengths(c,a+b);this.huffdist=this.htools.make(c,a,b,16);this.huffman=this.htools.make(c,0,a,16);this.state=u._InflateImpl.State.CData;return!0;default:throw"Invalid data";}case 3:return a=this.len<this.needed?this.len:this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this["final"]?u._InflateImpl.State.Crc:
u._InflateImpl.State.Block),0<this.needed;case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&(this.state=u._InflateImpl.State.CData),0<this.needed;case 5:for(;0<this.len&&0<this.needed;)a=this.len<this.dist?this.len:this.dist,a=this.needed<a?this.needed:a,this.addDist(this.dist,a),this.len-=a;0==this.len&&(this.state=u._InflateImpl.State.CData);return 0<this.needed;case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;
if(256==b)this.state=this["final"]?u._InflateImpl.State.Crc:u._InflateImpl.State.Block;else{b-=257;a=u.InflateImpl.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw"Invalid data";this.len=u.InflateImpl.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);a=u.InflateImpl.DIST_EXTRA_BITS_TBL[b];if(-1==a)throw"Invalid data";this.dist=u.InflateImpl.DIST_BASE_VAL_TBL[b]+this.getBits(a);if(this.dist>this.window.available())throw"Invalid data";this.state=1==this.dist?
u._InflateImpl.State.DistOne:u._InflateImpl.State.Dist}return!0}},inflateLengths:function(a,b){for(var c=0,e=0;c<b;){var f=this.applyHuffman(this.huffman);switch(f){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:e=f;a[c]=f;c++;break;case 16:f=c+3+this.getBits(2);if(f>b)throw"Invalid data";for(;c<f;)a[c]=e,c++;break;case 17:c+=3+this.getBits(3);if(c>b)throw"Invalid data";break;case 18:c+=11+this.getBits(7);if(c>b)throw"Invalid data";
break;default:throw"Invalid data";}}},applyHuffman:function(a){var b;switch(a[1]){case 0:b=a=a[2];break;case 1:b=a[3];a=a[2];b=this.applyHuffman(this.getBit()?b:a);break;case 2:b=a[3],a=a[2],b=this.applyHuffman(b[this.getBits(a)])}return b},addDist:function(a,b){this.addBytes(this.window.buffer,this.window.pos-a,b)},addDistOne:function(a){for(var b=this.window.getLastChar(),c=0;c<a;)c++,this.addByte(b)},addByte:function(a){this.window.addByte(a);this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},
addBytes:function(a,b,c){this.window.addBytes(a,b,c);this.output.blit(this.outpos,a,b,c);this.needed-=c;this.outpos+=c},resetBits:function(){this.nbits=this.bits=0},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var a=1==(this.bits&1);this.nbits--;this.bits>>=1;return a},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=
8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},readBytes:function(a,b,c){this.needed=c;this.outpos=b;this.output=a;if(0<c)for(;this.inflateLoop(););return c-this.needed},buildFixedHuffman:function(){if(null!=u.InflateImpl.FIXED_HUFFMAN)return u.InflateImpl.FIXED_HUFFMAN;for(var a=[],b=0;288>b;){var c=b++;a.push(143>=c?8:255>=c?9:279>=c?7:8)}u.InflateImpl.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return u.InflateImpl.FIXED_HUFFMAN},__class__:u.InflateImpl};u.Reader=function(a){this.i=
a};m["haxe.zip.Reader"]=u.Reader;u.Reader.__name__=["haxe","zip","Reader"];u.Reader.unzip=function(a){if(!a.compressed)return a.data;throw"No uncompress support";};u.Reader.prototype={read:function(){for(var a=new aa,b=null;;){var c=this.readEntryHeader();if(null==c)break;if(0>c.dataSize){null==b&&(b=E.Bytes.alloc(65536));for(var e=new E.BytesBuffer,f=new u.InflateImpl(this.i,!1,!1);;){var g=f.readBytes(b,0,65536);e.addBytes(b,0,g);if(65536>g)break}c.data=e.getBytes();c.crc32=this.i.readInt32();134695760==
c.crc32&&(c.crc32=this.i.readInt32());c.dataSize=this.i.readInt32();c.fileSize=this.i.readInt32();c.dataSize=c.fileSize;c.compressed=!1}else c.data=this.i.read(c.dataSize);a.add(c)}return a},readEntryHeader:function(){var a=this.i,b=a.readInt32();if(33639248==b||101010256==b)return null;if(67324752!=b)throw"Invalid Zip Data";a.readUInt16();var b=a.readUInt16(),c=0!=(b&2048);if(0!=(b&63479))throw"Unsupported flags "+b;var e=a.readUInt16(),f=0!=e;if(f&&8!=e)throw"Unsupported compression "+e;var e=this.readZipDate(),
g=a.readInt32(),h=a.readInt32(),i=a.readInt32(),k=a.readInt16(),l=a.readInt16(),a=a.readString(k),l=this.readExtraFields(l);c&&l.push(u.ExtraField.FUtf8);0!=(b&8)&&(h=-1);return{fileName:a,fileSize:i,fileTime:e,compressed:f,dataSize:h,data:null,crc32:g,extraFields:l}},readExtraFields:function(a){for(var b=new aa;0<a;){if(4>a)throw"Invalid extra fields data";var c=this.i.readUInt16(),e=this.i.readUInt16();if(a<e)throw"Invalid extra fields data";switch(c){case 28789:var f=this.i.readByte();if(1!=f){var g=
new E.BytesBuffer;g.b.push(f);g.add(this.i.read(e-1));b.add(u.ExtraField.FUnknown(c,g.getBytes()))}else c=this.i.readInt32(),f=this.i.read(e-5).toString(),b.add(u.ExtraField.FInfoZipUnicodePath(f,c));break;default:b.add(u.ExtraField.FUnknown(c,this.i.read(e)))}a-=4+e}return b},readZipDate:function(){var a=this.i.readUInt16(),b=a>>11&31,c=a>>5&63,a=a&31,e=this.i.readUInt16();return new Date((e>>9)+1980,(e>>5&15)-1,e&31,b,c,a<<1)},__class__:u.Reader};A=function(){};m["js.Boot"]=A;A.__name__=["js","Boot"];
A.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",e=2,f=a.length;e<f;)var g=e++,c=2!=g?c+(","+A.__string_rec(a[g],b)):c+A.__string_rec(a[g],b);return c+")"}e=a.length;c="[";b+="\t";for(f=0;f<e;)g=f++,c+=(0<g?",":"")+A.__string_rec(a[g],b);return c+"]"}try{f=a.toString}catch(h){return"???"}if(null!=
f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;f=null;c="{\n";b+="\t";e=null!=a.hasOwnProperty;for(f in a)if(!e||a.hasOwnProperty(f))"prototype"==f||"__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+A.__string_rec(a[f],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};A.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;
if(null!=c)for(var e=0,f=c.length;e<f;){var g=e++,g=c[g];if(g==b||A.__interfLoop(g,b))return!0}return A.__interfLoop(a.__super__,b)};A.__instanceof=function(a,b){if(null==b)return!1;switch(b){case ja:return(a|0)===a;case ka:return"number"==typeof a;case la:return"boolean"==typeof a;case String:return"string"==typeof a;case na:return!0;default:if(null!=a){if("function"==typeof b){if(a instanceof b)return b==Array?null==a.__enum__:!0;if(A.__interfLoop(a.__class__,b))return!0}}else return!1;return b==
oa&&null!=a.__name__||b==pa&&null!=a.__ename__?!0:a.__enum__==b}};A.__cast=function(a,b){if(A.__instanceof(a,b))return a;throw"Cannot cast "+t.string(a)+" to "+t.string(b);};var ma=0;Array.prototype.indexOf&&(H.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0});Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;m.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=
function(a){return isNaN(a)};String.prototype.__class__=m.String=String;String.__name__=["String"];Array.prototype.__class__=m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var ja=m.Int={__name__:["Int"]},na=m.Dynamic={__name__:["Dynamic"]},ka=m.Float=Number;ka.__name__=["Float"];var la=m.Bool=Boolean;la.__ename__=["Bool"];var oa=m.Class={__name__:["Class"]},pa={};G.Element="element";G.PCData="pcdata";G.CData="cdata";G.Comment="comment";G.DocType=
"doctype";G.ProcessingInstruction="processingInstruction";G.Document="document";"undefined"!=typeof JSON&&(Z=JSON);c.ConstantsApp.VERSION="1.5";c.ConstantsApp.STAGE_WIDTH=960;c.ConstantsApp.STAGE_HEIGHT=560;c.ConstantsApp.STAGE_CENTER_X=480;c.ConstantsApp.STAGE_CENTER_Y=280;c.ConstantsApp.QUESTION_TYPE_PROMPT="prompt";c.ConstantsApp.QUESTION_TYPE_FOOTER="footer";c.ConstantsApp.QUESTION_TYPE_RESULT="result";c.ConstantsApp.QUESTION_TYPE_FAVORITE="1";c.ConstantsApp.QUESTION_TYPE_METER="2";c.ConstantsApp.QUESTION_TYPE_TEXT=
"3";c.ConstantsApp.QUESTION_TYPE_LIST="4";c.ConstantsApp.QUESTION_TYPE_FLOW="5";c.ConstantsApp.QUESTION_TYPE_SORT="6";c.ConstantsApp.QUESTION_TYPE_CYOE="7";c.ConstantsApp.TEXT_POSITION_BOTTOM="bottom";c.ConstantsApp.TEXT_POSITION_TOP="top";c.ConstantsApp.TEXT_POSITION_MIDDLE="middle";c.ConstantsApp.TEXT_POSITION_QUARTER="1/4";c.ConstantsApp.TEXT_POSITION_THREE_QUARTER="3/4";c.ConstantsApp.METER_TYPE_VERTICAL="vertical";c.ConstantsApp.METER_TYPE_HORIZONTAL="horizontal";c.ConstantsApp.COLOR_NONE=-1;
c.ConstantsApp.SPACING=15;c.ConstantsApp.MAX_TEXT_WIDTH=10;c.ConstantsApp.MIN_TEXT_WIDTH=10;c.ConstantsApp.BG_IMAGE="";c.ConstantsApp.BASE_URL="";c.ConstantsApp.SWF_ID="";c.ConstantsApp.FOLDER="gameplay_images/";c.ConstantsApp.ORIENTATION_LOCKED=!1;c.ConstantsApp.BOTTOM_HEIGHT=0;c.ConstantsApp.LAYER_WORLD="layer_world";c.ConstantsApp.LAYER_BG="layer_bg";c.ConstantsApp.LAYER_PLAYER="layer_player";c.ConstantsApp.LAYER_OVER="layer_over";c.ConstantsApp.LAYER_FG="layer_fg";c.ConstantsApp.LAYER_UI="layer_ui";
c.ConstantsApp.EVENT_PAUSE="eventPause";c.ConstantsApp.EVENT_UNPAUSE="eventUnpause";c.ConstantsApp.EVENT_MUTE_TOGGLE="EVENT_MUTE_TOGGLE";c.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE="EVENT_WORLD_GENERATION_COMPLETE";c.ConstantsApp.EVENT_RESIZE_CANVAS="EVENT_RESIZE_CANVAS";c.ConstantsApp.EVENT_ADD_FILE="EVENT_ADD_FILE";c.ConstantsApp.EVENT_START="EVENT_START";c.ConstantsApp.EVENT_SUBMIT="EVENT_SUBMIT";c.ConstantsApp.EVENT_REPLAY="EVENT_REPLAY";c.ConstantsApp.EVENT_NEXT_PAGE="EVENT_NEXT_PAGE";c.ConstantsApp.EVENT_UPDATE_PAGE=
"EVENT_UPDATE_PAGE";c.ConstantsApp.EVENT_ASSET_LOADED="EVENT_ASSET_LOADED";c.ConstantsApp.EVENT_TAKE_QUIZ="EVENT_TAKE_QUIZ";c.ConstantsApp.EVENT_DISABLE_HUD="EVENT_DISABLE_HUD";c.ConstantsApp.EVENT_ENABLE_HUD="EVENT_ENABLE_HUD";c.ConstantsApp.EVENT_SHARE="EVENT_SHARE";c.ConstantsApp.EVENT_SHARE_CLOSE="EVENT_SHARE_CLOSE";c.ConstantsApp.BOOL_GAME_LOSE="bool_game_lose";c.ConstantsApp.BOOL_GAME_WIN="bool_game_win";c.ConstantsApp.BOOL_LEVEL_LOSE="bool_level_lose";c.ConstantsApp.BOOL_LEVEL_WIN="bool_level_win";
c.ConstantsApp.BOOL_PAUSED="bool_paused";c.ConstantsApp.BOOL_UI_PAUSED="bool_ui_paused";c.ConstantsApp.BOOL_TOUCH_DEVICE="bool_touch_device";c.ConstantsApp.BOOL_ORIENTATION_ALERT="bool_orientation_alert";c.ConstantsApp.BOOL_CODE_SCREEN_OPEN="bool_code_screen_open";c.ConstantsApp.BOOL_CODE_UNLOCK="bool_code_unlock";c.ConstantsApp.BOOL_ALLOW_UNLOCK="bool_allow_unlock";c.ConstantsApp.BOOL_PRELOAD_LOADED="bool_preload_loaded";c.ConstantsApp.BOOL_INITIAL_LOADED="bool_initial_loaded";c.ConstantsApp.BOOL_GAMEPLAY_LOADED=
"bool_gameplay_loaded";c.ConstantsApp.BOOL_LOW_QUALITY_MOBILE="bool_low_quality_mobile";c.ConstantsApp.BOOL_JSEMBED_EXISTS="bool_jsembed_exists";c.ConstantsApp.BOOL_RESULTS="bool_results";c.ConstantsApp.BOOL_SHARE="bool_share";c.ConstantsApp.BOOL_LOCALIZE="bool_localize";c.ConstantsApp.BOOL_OMNITURE_ENABLED="bool_omniture_enabled";c.ConstantsApp.INT_HEALTH="int_health";c.ConstantsApp.INT_LIVES="int_lives";c.ConstantsApp.INT_SCORE="int_score";c.ConstantsApp.INT_LOADING_SCORE="int_load_score";c.ConstantsApp.INT_ACHIEVEMENT_SCORE=
"int_achievement_score";c.ConstantsApp.INT_LOADING_PROGRESS="int_loading_progress";c.ConstantsApp.INT_COLOR_THRESHOLD="INT_COLOR_THRESHOLD";c.ConstantsApp.INT_QUALITY="int_quality";c.ConstantsApp.STRING_UNLOCK_CODE="string_unlock_code";c.ConstantsApp.STRING_LEVEL_ID="string_level_id";c.ConstantsApp.STRING_SCALE_TYPE="string_scale_type";c.ConstantsApp.INPUT_CLICK="input_click";c.ConstantsApp.INPUT_SPACE="input_space";c.ConstantsApp.INPUT_UP="input_up";c.ConstantsApp.INPUT_DOWN="input_down";c.ConstantsApp.INPUT_LEFT=
"input_left";c.ConstantsApp.INPUT_RIGHT="input_right";c.ConstantsApp.VIRTUAL_JUMP="v_jump";c.ConstantsApp.VIRTUAL_FLASH="v_flash";c.ConstantsApp.CONFIG_XML_PATH="config/config.xml";c.ConstantsApp.QUIZ_XML_PATH="config/quiz.xml";c.ConstantsApp.OPTION_DEBUG=!1;c.ConstantsApp.OPTION_SILENCE_AUDIO=!1;c.ConstantsApp.OPTION_HAS_MENU_MUSIC=!1;c.ConstantsApp.OPTION_SHOW_LOADING_ON_WORLD_GEN_ALWAYS=!0;c.ConstantsApp.scaleFactor=1;c.ConstantsApp.benchmarkGoal=2E3;w.buttons.ButtonBase.OVER="workinBtnOver";w.buttons.ButtonBase.OUT=
"workinBtnOut";w.buttons.ButtonBase.UP="workinBtnUp";w.buttons.ButtonBase.DOWN="workinBtnDown";w.buttons.ButtonBase.CLICK="workinBtnClick";w.buttons.ButtonBase.CANCEL_DRAG="workinBtnCancelDrag";w.buttons.ButtonBase.FLICK="workinBtnFlick";l.Display.EVENT_UPDATE_DISPLAY="event_update_display";h.World._baseUrl="";h.World.HEIGHT_HUD=40;h.World.HUD_SCALE=1;h.elements.LayoutManager._DEFAULT_WIDTH=50;h.elements.LayoutManager._DEFAULT_HEIGHT=50;C.ConstantsCloud.FONT_DEFAULT="futura_bold";C.ConstantsCloud.FONT_DEFAULT_SCALE=
1;C.ConstantsCloud.FONT_DEFAULT_COLOR=-1;C.ConstantsCloud.FONT_DEFAULT_SPACING=0;C.ConstantsCloud.STRING_REGION_ID="cloudregionid";C.ConstantsCloud.LOCALIZATION_XML_PATH="config/";C.ConstantsCloud.EVENT_FILES_LOADED="EVENT_WORKINCLOUD_FILES_LOADED";C.ConstantsCloud.EVENT_FILES_LOADING="EVENT_FILES_LOADING";C.ConstantsCloud.EVENT_FILES_ERROR="EVENT_FILES_ERROR";C.ConstantsCloud.EVENT_TWEENS_COMPLETE="EVENT_TWEENS_COMPLETE";C.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY="EVENT_INPUT_ARBITRARY_KEY";C.ConstantsCloud._uniqueId=
0;l.QueuedAnimation._poolId="QueuedAnimation";l.AnimationDef._poolId="AnimationDef";l.Renderable._poolId="Renderable";p.WMEvent._poolId="WMEvent";p.WMEventData._poolId="WMEventData";p.WMEventDispatcher._poolId="WMEventDispatcher";p._WMEventDispatcher.WMEventTracker._poolId="WMEventTracker";p._WMEventDispatcher.SignalTracker._poolId="SignalTracker";p.WMEventFlow._poolId="WMEventFlow";p.WMEventFlow.EVENT_FLOW="Nflow";p.WMEventHash._poolId="WMEventHash";p.WMEventInput._poolId="WMEventInput";p.WMEventInput.EVENT_INPUT=
"eventinput";p.WMEventInput.PHASE_DOWN=1;p.WMEventInput.PHASE_UP=0;p.WMEventInput.PHASE_MOVE=2;p.WMEventUpdate._poolId="WMEventUpdate";p.WMEventUpdate.EVENT_UPDATE="eventupdate";g.WMRectangle._poolId="WMRectangle";g.WorkinLine._poolId="WorkinLine";g.WorkinPoint._poolId="WorkinPoint";g.tween.WorkinTweener._poolId="WorkinTweener";g.tween.WorkinTweener._uniqueTimer=0;g.tween.WorkinTweenTracker._poolId="WorkinTweenTracker";g.tween.WorkinTweenTracker._tweenRemoval=[];g.tween.WorkinTweenTracker._tweenUpdate=
[];g.tween.WorkinTweenDef._poolId="WorkinTweenDef";k.ServiceAnalytics._offlineUserId="";k.ServiceAnalytics._offlineTrackingId="";k.ServiceAnalytics._appId="";k.ServiceAnalytics._sessionId="";k.ServiceAnalytics._canadaShowGameTitle="";k.ServiceAnalytics._flagInitted=!1;k.ServiceAnalytics._flagStarted=!1;k.ServiceAnalytics._flagLoaded=!1;k.ServiceAnalytics._flagCanadaTrackingEnabled=!1;k.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID="nkcimocuresid";k.ServiceAnalytics.OPTION_ENABLE_TRACKING=!0;k.ServiceNickAnalytics._flagInitted=
!1;k.ServiceNickAnalytics.ST1_PRE_PLAY="Pre-play";k.ServiceNickAnalytics.ST1_IN_PLAY="In-play";k.ServiceNickAnalytics.ST1_POST_PLAY="Post-play";k.ServiceNickAnalytics.ST1_LEVEL_RESULTS="Level_Results";k.ServiceNickAnalytics.ST1_UI="UI";k.ServiceNickAnalytics.ST2_SCREEN_TITLE="Title_screen";k.ServiceNickAnalytics.ST2_SCREEN_CODE="Enter_code_screen";k.ServiceNickAnalytics.ST2_SCREEN_PAUSE="Pause_screen";k.ServiceNickAnalytics.ST2_SCREEN_END="Game_over_screen";k.ServiceNickAnalytics.ST2_LEVEL_LOAD="Level_load";
k.ServiceNickAnalytics.ST2_LEVEL_COMPLETE="Level_complete";k.ServiceNickAnalytics.ST2_GAME_LIVES="Lives count";e.WMPointer._poolId="WMPointer";e.WMPointer._DELTA_ALLOWANCE=30;e.WMPointer._DELTA_TIMEOUT=0.2;e.WMLocalizedData._poolId="WMLocalizedData";e.WMSound.FADE_NONE=0;e.WMSound.FADE_IN=1;e.WMSound.FADE_OUT=-1;e.WorkinUtils._mapEmpty=[];e.PropertyList._dateRegex=new Y("(\\d{4}-\\d{2}-\\d{2})(?:T(\\d{2}:\\d{2}:\\d{2})Z)?","");i.html.HtmlPlatform.instance=new i.html.HtmlPlatform;r.SignalBase.DISPATCHING_SENTINEL=
new r.SignalConnection(null,null);B.root=new P;B.uncaughtError=new r.Signal1;B.hidden=new r.Value(!1);B.hasGPU=new r.Value(!1);B.volume=new R.AnimatedFloat(1);B._platform=i.html.HtmlPlatform.instance;B._calledInit=!1;y.window="undefined"!=typeof window?window:null;y.document="undefined"!=typeof window?window.document:null;y.location="undefined"!=typeof window?window.location:null;y.navigator="undefined"!=typeof window?window.navigator:null;q.Manifest.__meta__={obj:{assets:[{gameplay_images:[{bytes:13509,
md5:"a03662453b60ea6a6c992be70a7c4b03",name:"background.jpg"},{bytes:3783,md5:"a18c4e837e4fede6580e1ab04aef8652",name:"bg_share.png"},{bytes:3037,md5:"6492459dd699da4c15a0d4750ffc3168",name:"btn_close_down.png"},{bytes:3037,md5:"6492459dd699da4c15a0d4750ffc3168",name:"btn_close_over.png"},{bytes:3037,md5:"6492459dd699da4c15a0d4750ffc3168",name:"btn_close_up.png"},{bytes:2382,md5:"511b08d9c10611a1afe77966fab4769b",name:"btn_copy_down.png"},{bytes:2346,md5:"0579994f8ff3ce91bb119b7881a5a33a",name:"btn_copy_over.png"},
{bytes:2369,md5:"3f9ec7aae9bb83a45686d5e5d6ec1a41",name:"btn_copy_up.png"},{bytes:5170,md5:"23c7a57b47c86c83e42c8acf730f7389",name:"btn_cyoe_ending_down.png"},{bytes:5170,md5:"23c7a57b47c86c83e42c8acf730f7389",name:"btn_cyoe_ending_over.png"},{bytes:5674,md5:"4468cdd8373dc57f0594b17494037db1",name:"btn_cyoe_ending_up.png"},{bytes:4611,md5:"9e0096d5c3d412557a89dcc7d13f414c",name:"btn_cyoe_return_down.png"},{bytes:4611,md5:"9e0096d5c3d412557a89dcc7d13f414c",name:"btn_cyoe_return_over.png"},{bytes:5021,
md5:"62db275b6b8a67b908041b504760ace8",name:"btn_cyoe_return_up.png"},{bytes:4158,md5:"aeadb1f061626ea51e876b790acc23b2",name:"btn_logo_end_down.png"},{bytes:4158,md5:"aeadb1f061626ea51e876b790acc23b2",name:"btn_logo_end_over.png"},{bytes:4158,md5:"aeadb1f061626ea51e876b790acc23b2",name:"btn_logo_end_up.png"},{bytes:4158,md5:"aeadb1f061626ea51e876b790acc23b2",name:"btn_logo_start_down.png"},{bytes:4158,md5:"aeadb1f061626ea51e876b790acc23b2",name:"btn_logo_start_over.png"},{bytes:4158,md5:"aeadb1f061626ea51e876b790acc23b2",
name:"btn_logo_start_up.png"},{bytes:4365,md5:"2e77518d3f3f33017840c3f4c8522f6c",name:"btn_meter_down.png"},{bytes:4365,md5:"2e77518d3f3f33017840c3f4c8522f6c",name:"btn_meter_over.png"},{bytes:4709,md5:"f698517e6c9979486e6b220219744dec",name:"btn_meter_up.png"},{bytes:5294,md5:"e72491e7bce7612a09adcf91e756ab51",name:"btn_more_down.png"},{bytes:5294,md5:"e72491e7bce7612a09adcf91e756ab51",name:"btn_more_over.png"},{bytes:5705,md5:"b752587c55e16fe50f0d3e1811f20f72",name:"btn_more_up.png"},{bytes:3129,
md5:"b10334cd6bf5eb2775576ba32fdbb2a8",name:"btn_replay_down.png"},{bytes:3129,md5:"b10334cd6bf5eb2775576ba32fdbb2a8",name:"btn_replay_over.png"},{bytes:3388,md5:"53e892e3d035241ad9d3f81d56811d8b",name:"btn_replay_up.png"},{bytes:3152,md5:"d54b7e0a109e30d5aca0e61a89b20ed2",name:"btn_share_down.png"},{bytes:3152,md5:"d54b7e0a109e30d5aca0e61a89b20ed2",name:"btn_share_over.png"},{bytes:3411,md5:"dbfcf8cba03a813a19829cad98e5bb0b",name:"btn_share_up.png"},{bytes:2846,md5:"3928c25f138bf0159c266c5b991e35d5",
name:"btn_sort_down.png"},{bytes:2846,md5:"3928c25f138bf0159c266c5b991e35d5",name:"btn_sort_over.png"},{bytes:3082,md5:"b8a5165d73c5bd528fa8aa415a8d469f",name:"btn_sort_up.png"},{bytes:2952,md5:"efa0fe9ccae9aed1aa6d57846bdb4210",name:"btn_start_down.png"},{bytes:2952,md5:"efa0fe9ccae9aed1aa6d57846bdb4210",name:"btn_start_over.png"},{bytes:3222,md5:"ba53fb190b39b56cdae26cebadfd6393",name:"btn_start_up.png"},{bytes:6565,md5:"d804cfb063068ea7a040a0f24080a899",name:"btn_submit_down.png"},{bytes:6565,
md5:"d804cfb063068ea7a040a0f24080a899",name:"btn_submit_over.png"},{bytes:7034,md5:"d21b931a96039817b29431fa47133ecb",name:"btn_submit_up.png"},{bytes:4265,md5:"f1cf5683f80655a5e1aa9862f14e2b66",name:"btn_take_down.png"},{bytes:4265,md5:"f1cf5683f80655a5e1aa9862f14e2b66",name:"btn_take_over.png"},{bytes:4605,md5:"b124f1be0aff76adf4997cb71f1a815c",name:"btn_take_up.png"},{bytes:11963,md5:"5017260ef4585aed5f8eb712782ee75b",name:"gif_8_1.gif"},{bytes:104322,md5:"c094c5d89bf26c4b3bdfe4f3778cb735",name:"gif_8_2.gif"},
{bytes:80232,md5:"8dff6ad21460a00fd951b8f0026a5c5c",name:"gif_8_3.gif"},{bytes:28457,md5:"2f2fc87654d0068f2645173086e2f24f",name:"question_10_a1.png"},{bytes:37472,md5:"6009b81b6c714a25af18864c7992eec5",name:"question_10_a2.png"},{bytes:33469,md5:"91d07f7e67ee0884d6958ecf784a2ae4",name:"question_10_a3.png"},{bytes:29004,md5:"36c8c494f1ca4b126c7b208faf7963e6",name:"question_10_a4.png"},{bytes:2194,md5:"82f4ea4d6d83b8c54a2ccd5879a0fb28",name:"question_1_a1.png"},{bytes:1983,md5:"f68867917a1105d0a6679befcedbb47e",
name:"question_1_a2.png"},{bytes:1919,md5:"3394aae80583be9bd25656545ab411e3",name:"question_1_a3.png"},{bytes:1915,md5:"5615b5e8622adcac04051f89a39d1345",name:"question_1_a4.png"},{bytes:1978,md5:"95f01d8d93cec38da74cbb79fe1d145f",name:"question_1_a5.png"},{bytes:1845,md5:"fbaa7fdfd87db3c880fd5ff9651bdaaa",name:"question_1_a6.png"},{bytes:1975,md5:"117228e1fd2157b52dbf3a411e05af61",name:"question_1_a7.png"},{bytes:1977,md5:"893780b2db5d9716a58b530304fd66a9",name:"question_1_a8.png"},{bytes:2895,md5:"aaadce973e2193297409147713578941",
name:"question_2_a1.png"},{bytes:3242,md5:"1706ba507e42f60b01deb36b080d456c",name:"question_2_a2.png"},{bytes:2885,md5:"13b21f06154eabfbf4bb8f9174888ae6",name:"question_2_a3.png"},{bytes:3245,md5:"07554f147d45dbb3b7ef37075ac23106",name:"question_2_a4.png"},{bytes:3098,md5:"829ccc6b17c6cca335ebc3101a42f940",name:"question_2_a5.png"},{bytes:2194,md5:"82f4ea4d6d83b8c54a2ccd5879a0fb28",name:"question_4_a1.png"},{bytes:1983,md5:"f68867917a1105d0a6679befcedbb47e",name:"question_4_a2.png"},{bytes:1919,md5:"3394aae80583be9bd25656545ab411e3",
name:"question_4_a3.png"},{bytes:1915,md5:"5615b5e8622adcac04051f89a39d1345",name:"question_4_a4.png"},{bytes:2194,md5:"82f4ea4d6d83b8c54a2ccd5879a0fb28",name:"question_5_a1.png"},{bytes:1983,md5:"f68867917a1105d0a6679befcedbb47e",name:"question_5_a2.png"},{bytes:1919,md5:"3394aae80583be9bd25656545ab411e3",name:"question_5_a3.png"},{bytes:1915,md5:"5615b5e8622adcac04051f89a39d1345",name:"question_5_a4.png"},{bytes:2194,md5:"82f4ea4d6d83b8c54a2ccd5879a0fb28",name:"question_6_a1.png"},{bytes:1983,md5:"f68867917a1105d0a6679befcedbb47e",
name:"question_6_a2.png"},{bytes:1919,md5:"3394aae80583be9bd25656545ab411e3",name:"question_6_a3.png"},{bytes:1915,md5:"5615b5e8622adcac04051f89a39d1345",name:"question_6_a4.png"},{bytes:1978,md5:"95f01d8d93cec38da74cbb79fe1d145f",name:"question_6_a5.png"},{bytes:1845,md5:"fbaa7fdfd87db3c880fd5ff9651bdaaa",name:"question_6_a6.png"},{bytes:1849,md5:"dd2227ce708dec0f0539778d38b0dde8",name:"question_6_bg.png"},{bytes:2194,md5:"82f4ea4d6d83b8c54a2ccd5879a0fb28",name:"question_7_a1.png"},{bytes:1983,md5:"f68867917a1105d0a6679befcedbb47e",
name:"question_7_a2.png"},{bytes:35846,md5:"e27f6d6dcf612daa900c8fc3d296b3ca",name:"question_7_a3.png"},{bytes:40593,md5:"cd9508209aeaad8e1eae18ace3e5ac52",name:"question_7_a4.png"},{bytes:25930,md5:"c878a6ad06d3fdca3b9769645bd37837",name:"question_8_a1.png"},{bytes:35163,md5:"a21d237a555ec9f84d142d8346ba9ce4",name:"question_8_a2.png"},{bytes:29680,md5:"b5d65003f12318213217d82bea3b8c53",name:"question_8_a3.png"},{bytes:27235,md5:"7b223cb3b818a76b42161bc64d1385d3",name:"question_8_a4.png"},{bytes:31065,
md5:"dadf5d7a6464b2287963c2486e1caba8",name:"question_9_a1.png"},{bytes:37843,md5:"51f21aea4b33740a9bf82c8decfec781",name:"question_9_a2.png"},{bytes:28981,md5:"f1568802e5327e778c6c9ae134231420",name:"question_9_a3.png"},{bytes:38075,md5:"ab4f3495dc442e579ad4ccd401e1c1db",name:"question_9_a4.png"},{bytes:2403,md5:"097d96faa5d2e9c8184a8d856641ab8b",name:"result_1.png"},{bytes:2475,md5:"678d737bd5e8effdcdeeda051fb74618",name:"result_2.png"},{bytes:2407,md5:"290998c9f994ce416c40b160ed98af4e",name:"result_3.png"},
{bytes:2408,md5:"b85005336710f837d56c2414ed1d279f",name:"result_4.png"},{bytes:40777,md5:"7a2e287f2ce2a48dae4db9ff59f05e45",name:"splash.jpg"},{bytes:5975598,md5:"fbdb0829fa82729eb361033b74205f9c",name:"video_7.flv"},{bytes:4975640,md5:"6a73f17cda2d7d8823536d45ae5a8a98",name:"video_7.mp4"},{bytes:7414897,md5:"2a4042b3d3c8d4977859128578bb6897",name:"video_7.ogv"},{bytes:8260477,md5:"34ca6d1663c7d537284ed7d15e2c8425",name:"video_7.webm"}],fonts_en_simple:[{bytes:12024,md5:"6408d205ceda8eb401cdd6ac35bd0053",
name:"futura_bold.fnt"},{bytes:61784,md5:"bf263936d5b9ac18a663053699bb797d",name:"futura_bold.png"},{bytes:12026,md5:"75ceb4a01d9d7a2cdbecdc6322ab9861",name:"futura_medium.fnt"},{bytes:62794,md5:"dfc8358ccbd01d3657b7ad1b8bc224b2",name:"futura_medium.png"}],preload:[{bytes:1119,md5:"9cf74aa04b709c390f8b39e5f0ca6107",name:"load_widget/loading_backplate.png"},{bytes:1595,md5:"9f9b050bea66549c0d6e8e06ec26c216",name:"load_widget/loading_faceplate.png"},{bytes:6186,md5:"7b7ccb3ea857715ab809f793617b2346",
name:"load_widget/loading_fill.png"},{bytes:2188,md5:"7fd567f090613a20825acabeef503edd",name:"load_widget/loading_spinner.png"}],initial_music:[],initial_universal:[{bytes:4764,md5:"46e0bd9bcbd034f40e60e035244b9d75",name:"template/template_bg_video.png"},{bytes:994,md5:"c775bbf17ae0625d70a066455481a40d",name:"template/template_broken.png"},{bytes:423,md5:"ea18d3eb92c91cadbf5d182368534929",name:"template/template_btn_arrow.png"},{bytes:2155,md5:"83622e9a30d9a4ffb67a4898e56580f3",name:"template/template_btn_directional_backing.png"},
{bytes:1470,md5:"3dbcc672ae1869fb61947a21785cffbf",name:"template/template_btn_mid.png"},{bytes:10509,md5:"b4835323f6ce025afef23aa08d604711",name:"template/template_btn_play.png"},{bytes:4943,md5:"506817b879e00388381d22adb72c9b20",name:"template/template_btn_shadow.png"},{bytes:450,md5:"54ae1497d5721f6213b7a364685b3b00",name:"template/template_circle_empty.png"},{bytes:295,md5:"68e0fddbd0f7335f889ee56dbeba1ebb",name:"template/template_circle_filled.png"},{bytes:2234,md5:"64136b5dc2b715725bd2d91dc90f1e77",
name:"template/template_clockBG.png"},{bytes:5037,md5:"2c5ca2e97d927ca3a05a202ac2adda1b",name:"template/template_clockFG.png"},{bytes:280,md5:"ce78fc9e8a28ece85436c76ebdc43e4b",name:"template/template_clockFill.png"},{bytes:15427,md5:"6daf00d81d82226b2471ca012adefe90",name:"template/template_meter.png"},{bytes:2603,md5:"edcea790340f2255f246231501792d78",name:"template/template_meter2.png"},{bytes:313,md5:"ec98d379cc2ae6ac45999b8bb00fe983",name:"template/template_overlay.png"},{bytes:892,md5:"243692710daf12abd3da09820251cdd6",
name:"template/template_overlay_image.png"},{bytes:328,md5:"7da7073ee11443c3f4b8c526daaf415a",name:"template/template_overlay_text.png"},{bytes:365,md5:"65eda18a7ac9bede562da87ceffa988c",name:"template/template_shadow.png"},{bytes:12528,md5:"9563746c3682921ea6bfb2516d24c471",name:"template/template_video_shadow.png"},{bytes:13235,md5:"538ebfe82f9316f9a911340318adeddf",name:"ui/general/button_vol_off.png"},{bytes:13067,md5:"f48080d1ef78e458e1e262d6c7425ea1",name:"ui/general/button_vol_on.png"}],air:[{bytes:4912,
md5:"dc1b6528f2e9312e068aad2f53366b7e",name:"Default-568h@2x.png"},{bytes:4588,md5:"6617a9132c7566551711a15f42584d38",name:"Default.png"},{bytes:34016,md5:"0c8d573ff622474a53b7e4c76b75cda7",name:"icons/icon128.png"},{bytes:3411,md5:"9160a9857f1d99d4d1a5722de41941ba",name:"icons/icon16.png"},{bytes:6111,md5:"db4c0e02b46c24bfabbcf33c6807fbb8",name:"icons/icon32.png"},{bytes:9187,md5:"e310873f7870789ec2ddffb01e3b9c23",name:"icons/icon48.png"}],bootstrap:[{bytes:2114,md5:"ba9e6829ba32e427142251a85cbd4fbb",
name:"audio/silent.mp3"},{bytes:5514,md5:"3526550092a0e091f382852de5ef2315",name:"audio/silent.ogg"},{bytes:2356,md5:"4f6ff6b5a1850da66ba030c0d4d17b89",name:"config/config.xml"},{bytes:5543,md5:"4c7596e988250e51598df40458fb60c0",name:"config/quiz.xml"},{bytes:9035,md5:"6f57d738b49b499da8bbbc09af05005c",name:"config/translation_cn.xml"},{bytes:9035,md5:"6f57d738b49b499da8bbbc09af05005c",name:"config/translation_en.xml"},{bytes:9035,md5:"6f57d738b49b499da8bbbc09af05005c",name:"config/translation_jp.xml"},
{bytes:9035,md5:"6f57d738b49b499da8bbbc09af05005c",name:"config/translation_kr.xml"},{bytes:9035,md5:"6f57d738b49b499da8bbbc09af05005c",name:"config/translation_la.xml"},{bytes:9035,md5:"6f57d738b49b499da8bbbc09af05005c",name:"config/translation_ru.xml"},{bytes:9035,md5:"6f57d738b49b499da8bbbc09af05005c",name:"config/translation_zh.xml"}],initial_sd:[],initial_hd:[],fonts_zh:[{bytes:24901,md5:"755d8963ed5da6eacd2967e4555cd530",name:"futura_bold.fnt"},{bytes:138576,md5:"5224438e1ca4dc04b881dee4df18270d",
name:"futura_bold.png"},{bytes:25153,md5:"f75a71c17a749758715ac0762380ec87",name:"futura_medium.fnt"},{bytes:136098,md5:"34df5f1c920abb6e13abd8bed04a4af5",name:"futura_medium.png"},{bytes:7730,md5:"0ef232e10d242f55ab6c749bd8b15c31",name:"simsum.fnt"},{bytes:59984,md5:"72d4e43f36dc6fd26590324e4150d276",name:"simsum.png"}],fonts_ru:[{bytes:33152,md5:"8772dd0349b482c2940c127121951a75",name:"futura_bold.fnt"},{bytes:185897,md5:"6dfb6144069ca94f1a74b36fee46c61b",name:"futura_bold.png"},{bytes:33156,md5:"44d2f98540202dd1612eba11e94719fe",
name:"futura_medium.fnt"},{bytes:178178,md5:"af7c05a977c4179bef10a0a60165fae8",name:"futura_medium.png"}],fonts_la:[{bytes:24901,md5:"755d8963ed5da6eacd2967e4555cd530",name:"futura_bold.fnt"},{bytes:138576,md5:"5224438e1ca4dc04b881dee4df18270d",name:"futura_bold.png"},{bytes:33404,md5:"e2ba645169933a3a0aea662bed554d41",name:"futura_medium.fnt"},{bytes:184266,md5:"e0122862c11a9624cc222cf5c628f3a2",name:"futura_medium.png"}],fonts_kr:[{bytes:24901,md5:"755d8963ed5da6eacd2967e4555cd530",name:"futura_bold.fnt"},
{bytes:138576,md5:"5224438e1ca4dc04b881dee4df18270d",name:"futura_bold.png"},{bytes:25153,md5:"f75a71c17a749758715ac0762380ec87",name:"futura_medium.fnt"},{bytes:136098,md5:"34df5f1c920abb6e13abd8bed04a4af5",name:"futura_medium.png"}],fonts_jp:[{bytes:24901,md5:"755d8963ed5da6eacd2967e4555cd530",name:"futura_bold.fnt"},{bytes:138576,md5:"5224438e1ca4dc04b881dee4df18270d",name:"futura_bold.png"},{bytes:25153,md5:"f75a71c17a749758715ac0762380ec87",name:"futura_medium.fnt"},{bytes:136098,md5:"34df5f1c920abb6e13abd8bed04a4af5",
name:"futura_medium.png"}],fonts_en:[{bytes:24901,md5:"755d8963ed5da6eacd2967e4555cd530",name:"futura_bold.fnt"},{bytes:138576,md5:"5224438e1ca4dc04b881dee4df18270d",name:"futura_bold.png"},{bytes:25153,md5:"f75a71c17a749758715ac0762380ec87",name:"futura_medium.fnt"},{bytes:136098,md5:"34df5f1c920abb6e13abd8bed04a4af5",name:"futura_medium.png"}],fonts_cn:[{bytes:24901,md5:"755d8963ed5da6eacd2967e4555cd530",name:"futura_bold.fnt"},{bytes:138576,md5:"5224438e1ca4dc04b881dee4df18270d",name:"futura_bold.png"},
{bytes:25153,md5:"f75a71c17a749758715ac0762380ec87",name:"futura_medium.fnt"},{bytes:136098,md5:"34df5f1c920abb6e13abd8bed04a4af5",name:"futura_medium.png"}],initial_soundfx:[]}]}};U=q.Manifest;fa=(new Y("\\b(Android)\\b","")).match(y.window.navigator.userAgent)?!1:null!=(new XMLHttpRequest).withCredentials;U._supportsCrossOrigin=fa;M.Benchmark._calledStart=!1;M.Benchmark._calledCleanup=!1;o.Sprite._scratchPoint=new N.Point;o.Font.NEWLINE=new o.Glyph(10);i.BasicKeyboard._sharedEvent=new f.KeyboardEvent;
i.BasicMouse._sharedEvent=new f.MouseEvent;i.BasicPointer._sharedEvent=new f.PointerEvent;i.html.CanvasRenderer.CANVAS_TEXTURES=(new Y("(iPhone|iPod|iPad)","")).match(y.window.navigator.userAgent);i.html.HtmlAssetPackLoader._mediaRefCount=0;i.html.HtmlAssetPackLoader._detectBlobSupport=!0;i.html.HtmlUtil.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];i.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=y.window.top==y.window&&(new Y("Mobile(/.*)? Safari","")).match(y.navigator.userAgent);i.html.WebAudioSound._detectSupport=
!0;X.USE_CACHE=!1;X.USE_ENUM_INDEX=!1;X.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";V.DEFAULT_RESOLVER=S;V.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";F.ObjectMap.count=0;J.Parser.escapes=function(){var a=new F.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);u.InflateImpl.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,
4,5,5,5,5,0,-1,-1];u.InflateImpl.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];u.InflateImpl.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];u.InflateImpl.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];u.InflateImpl.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];O.main()})();
