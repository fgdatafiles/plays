function n(){return function(){}}function s(D){return function(r){this[D]=r}}function y(D){return function(){return this[D]}}function C(D){return function(){return D}}
(function(D){function r(){}function z(){}function A(){}function E(){this.b=""}function q(){}function B(){}function G(){}function k(){}function u(){}function F(b,a){a=a.split("u").join("");this.TA=RegExp(b,a)}function m(b,a){function d(){}d.prototype=b;var c=new d,g;for(g in a)c[g]=a[g];a.toString!==Object.prototype.toString&&(c.toString=a.toString);return c}function l(b,a){if(null==a)return null;null==a.Eo&&(a.Eo=J++);var d;null==b.Lq?b.Lq={}:d=b.Lq[a.Eo];null==d&&(d=function(){return d.method.apply(d.scope,
arguments)},d.scope=b,d.method=a,b.Lq[a.Eo]=d);return d}F.k=!0;F.prototype={replace:function(b,a){return b.replace(this.TA,a)},l:F};u.k=!0;u.ph=function(b,a){var d=b.charCodeAt(a);return d!=d?void 0:d};u.substr=function(b,a,d){if(null!=a&&0!=a&&null!=d&&0>d)return"";null==d&&(d=b.length);0>a?(a=b.length+a,0>a&&(a=0)):0>d&&(d=b.length+d-a);return b.substr(a,d)};u.indexOf=function(b,a,d){var c=b.length;0>d&&(d+=c,0>d&&(d=0));for(;d<c;){if(b[d]===a)return d;d++}return-1};u.remove=function(b,a){var d=
u.indexOf(b,a,0);if(-1==d)return!1;b.splice(d,1);return!0};k.k=!0;k.LJ=n();k.iC=function(){var b=document.createElement("canvas");if(null==b.getContext||null==b.getContext("2d").fillText)return!1;b=window.audioContextInstance;return a.j.nb()&&null==b?!1:!0};k.jC=function(){return null!=w.me.Dl()&&null!=w.me.El()&&null!=navigator.cookieEnabled&&navigator.cookieEnabled};k.s=D.runGame=function(b){k.iC()?k.jC()?(k.wi=k.oa().createElement("div"),window.SL="0",k.wi.style.position="absolute",k.wi.className=
"container",k.wi.style.marginTop="0px",k.wi.style.width=k.Sc+"px",k.wi.style.height=k.Rc+"px",b.appendChild(k.wi),k.of=k.ka().parentElement.getAttribute("data-base-url"),k.Cl=q.wa(k.ka().parentElement.getAttribute("data-width")),k.Bl=q.wa(k.ka().parentElement.getAttribute("data-height")),b=k.Ay(k.Ua().location.href),""==b&&(b="en-us"),k.In=b,k.Ss=k.Cl,k.Rs=k.Bl,a.g.SoundManager.s(),k.Zj=new a.j("CHANGE_ME_game_id",new c.Xj.vk),k.Zj.s(),window.cB=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||function(){window.setTimeout(k.update,1E3/(a.j.nb()?k.aw:k.$v))}}(),k.update()):window.location.href="cookies.html":window.location.href="unsupported.html"};k.Ay=function(b){b=b.split("?");if(2>b.length)return"";b=b[1].split("&");for(var a=b.length,d=0;d<a;){var c=d++;if(A.Br(b[c],"locale")&&(c=b[c].split("="),!(2>c.length)))return c[1]}return""};k.update=function(){k.Zj.update();k.Zj.Va();k.Zj.Tb();"1"==a.ta.za("debugDraw")&&k.Zj.wb();k.Cl=q.wa(k.ka().parentElement.getAttribute("data-width"));
k.Bl=q.wa(k.ka().parentElement.getAttribute("data-height"));if(k.Cl!=k.Ss||k.Bl!=k.Rs)k.Zj.$n(),k.Ss=k.Cl,k.Rs=k.Bl;window.cB(k.update)};k.oa=function(){return window.document};k.Ua=function(){return window};k.Ha=function(){return k.canvas};k.ka=function(){return k.wi};k.JG=function(){for(var b=k.Ua().location.href.split("/"),a="",d=0,c=b.length-1;d<c;)var g=d++,a=a+(b[g]+"/");return a};G.k=!0;Math.k=!0;B.k=!0;B.field=function(b,a){try{return b[a]}catch(d){return null}};B.setProperty=function(b,a,
d){var c;if(b.Fr&&(c=b.Fr["set_"+a]))b[c](d);else b[a]=d};B.Nq=function(b){return"function"==typeof b&&!(b.k||b.xj)};B.Bt=function(b,a){return b==a?!0:B.Nq(b)&&B.Nq(a)?b.scope==a.scope&&b.method==a.method&&null!=b.method:!1};q.k=!0;q.Hi=function(b){return w.Ad.Ik(b,"")};q.Yb=function(b){var a=parseInt(b,10);0!=a||120!=u.ph(b,1)&&88!=u.ph(b,1)||(a=parseInt(b));return isNaN(a)?null:a};q.wa=function(b){return parseFloat(b)};E.k=!0;E.prototype={add:function(b){this.b+=q.Hi(b)},ix:function(b,a,d){this.b=
null==d?this.b+u.substr(b,a,null):this.b+u.substr(b,a,d)},l:E};A.k=!0;A.Br=function(b,a){return b.length>=a.length&&u.substr(b,0,a.length)==a};A.replace=function(b,a,d){return b.split(a).join(d)};A.Tx=function(b,a){return b.charCodeAt(a)};z.k=!0;z.uh=function(b){return null==b?null:b instanceof Array&&null==b.Id?Array:b.l};z.eu=function(b){return b.C};z.Bx=function(b,a){var d=B.field(b,a);if(null==d)throw"No such constructor "+a;if(B.Nq(d))throw"Constructor "+a+" need parameters";return d};r.k=!0;
r.parse=function(b){return v.xml.hg.parse(b)};r.createElement=function(b){var a=new r;a.nodeType=r.Df;a.Ga=[];a.Io=new v.nd.qd;a.jv(b);return a};r.lq=function(b){var a=new r;a.nodeType=r.Tv;a.rk(b);return a};r.xx=function(b){var a=new r;a.nodeType=r.xv;a.rk(b);return a};r.createComment=function(b){var a=new r;a.nodeType=r.Dv;a.rk(b);return a};r.zx=function(b){var a=new r;a.nodeType=r.Hv;a.rk(b);return a};r.createProcessingInstruction=function(b){var a=new r;a.nodeType=r.Vv;a.rk(b);return a};r.createDocument=
function(){var b=new r;b.nodeType=r.uo;b.Ga=[];return b};r.prototype={Iq:function(){if(this.nodeType!=r.Df)throw"bad nodeType";return this.vp},jv:function(b){if(this.nodeType!=r.Df)throw"bad nodeType";return this.vp=b},ju:function(){if(this.nodeType==r.Df||this.nodeType==r.uo)throw"bad nodeType";return this.Ew},rk:function(b){if(this.nodeType==r.Df||this.nodeType==r.uo)throw"bad nodeType";return this.Ew=b},get:function(b){if(this.nodeType!=r.Df)throw"bad nodeType";return this.Io.get(b)},set:function(b,
a){if(this.nodeType!=r.Df)throw"bad nodeType";this.Io.set(b,a)},mb:function(b){if(this.nodeType!=r.Df)throw"bad nodeType";return this.Io.mb(b)},la:function(b){if(null==this.Ga)throw"bad nodetype";return{Hn:0,x:this.Ga,Sb:function(){for(var a=this.Hn,d=this.x.length;a<d;){var c=this.x[a];if(c.nodeType==r.Df&&c.vp==b)break;a++}this.Hn=a;return a<d},next:function(){for(var a=this.Hn,d=this.x.length;a<d;){var c=this.x[a];a++;if(c.nodeType==r.Df&&c.vp==b)return this.Hn=a,c}return null}}},firstChild:function(){if(null==
this.Ga)throw"bad nodetype";return this.Ga[0]},H:function(b){if(null==this.Ga)throw"bad nodetype";null!=b.ld&&u.remove(b.ld.Ga,b);b.ld=this;this.Ga.push(b)},l:r,Fr:{rk:"set_nodeValue",ju:"get_nodeValue",jv:"set_nodeName",Iq:"get_nodeName"}};var a={AssetType:{xj:!0,Er:["Image","Audio","Other","Javascript","Css"]}};a.AssetType.Image=["Image",0];a.AssetType.Image.Id=a.AssetType;a.AssetType.Audio=["Audio",1];a.AssetType.Audio.Id=a.AssetType;a.AssetType.Other=["Other",2];a.AssetType.Other.Id=a.AssetType;
a.AssetType.Javascript=["Javascript",3];a.AssetType.Javascript.Id=a.AssetType;a.AssetType.Wl=["Css",4];a.AssetType.Wl.Id=a.AssetType;a.Sl=function(b,a,d){this.name=b;this.type=d;this.source=a};a.Sl.k=!0;a.Sl.prototype={l:a.Sl};a.p={};a.p.oe=function(){this.og=[]};a.p.oe.k=!0;a.p.oe.prototype={addEventListener:function(b,e){this.lu(b,e)||this.og.push(new a.p.Zl(b,e))},lu:function(b,a){for(var d=this.og.length-1;0<=d;){if(this.og[d].qq==b&&B.Bt(this.og[d].action,a))return!0;d--}return!1},dispatchEvent:function(b){b.target=
this;for(var a=[],d=this.og.length,c=0;c<d;){var g=c++;a.push(this.og[g])}for(d=a.length-1;0<=d;)c=a[d],c.qq==b.getName()&&c.action(b),d--},removeEventListener:function(b,a){if(this.lu(b,a))for(var d=this.og.length-1;0<=d;){var c=this.og[d];if(c.qq==b&&B.Bt(c.action,a)){this.og.splice(d,1);break}d--}},l:a.p.oe};a.ua=function(){this.Sm=0;this.hb=this.Rf=!0;this.ll=this.sg=!1;a.p.oe.call(this);this.Sm=a.ua.rw++;this.ji=new v.nd.qd;this.si=[]};a.ua.k=!0;a.ua.C=a.p.oe;a.ua.prototype=m(a.p.oe.prototype,
{s:function(){this.ll=!0;this.dispatchEvent(new a.p.Ee("initialize"))},update:function(){this.ll&&this.hb||(this.s(),this.hb&&this.Dg())},Tb:n(),Va:n(),Dg:function(){this.hb=!0;this.ye()},rh:function(){this.hb=!1;this.ze()},ye:function(){this.dispatchEvent(new a.p.Ee("activate"))},ze:function(){this.dispatchEvent(new a.p.Ee("deactivate"))},wb:n(),ib:n(),setProperty:function(b,a){this.ji.set(b,a)},za:function(b){return this.ji.get(b)},xJ:function(b){return this.ji.mb(b)},YH:y("sg"),xt:function(b){this.si.push(b)},
DK:function(b){for(var a=this.si.length,d=0;d<a;){var c=d++;this.si[c]==b&&this.si.splice(c,1)}},ou:function(b){for(var a=this.si.length,d=0;d<a;){var c=d++;if(this.si[c]==b)return!0}return!1},VI:y("si"),getName:y("Qd"),nk:s("Qd"),WH:y("Sm"),ny:y("hb"),T:function(b){this.ll||this.s();!this.hb&&b&&this.Dg();this.hb&&!b&&this.rh();this.hb=b},bv:s("Rf"),ak:y("Rf"),D:function(){this.T(!1);this.sg=!0},qc:function(){this.dispatchEvent(new a.p.Ee("destroy"))},l:a.ua});a.h=function(b,e){a.ua.call(this);b.dx(this);
this.nk(e)};a.h.k=!0;a.h.C=a.ua;a.h.prototype=m(a.ua.prototype,{zH:y("f"),qr:s("f"),Fl:function(b){return this.f.L(b)},v:function(){return this.f.v()},D:function(){a.ua.prototype.D.call(this)},qc:function(){a.ua.prototype.qc.call(this)},l:a.h});a.Ef=function(){this.ws=!1;this.Ym=!0;this.ld=null;a.ua.call(this);this.da=new a.Vector3D;this._rotation=new a.Vector3D;this.w=new a.Vector3D(1,1,1);this.Ta=[];this.Ga=[]};a.Ef.k=!0;a.Ef.C=a.ua;a.Ef.prototype=m(a.ua.prototype,{s:function(){a.ua.prototype.s.call(this);
for(var b=this.Ta.length,e=0;e<b;){var d=e++,d=this.Ta[d];d.hb&&d.s()}},ZH:y("ws"),cL:s("ws"),v:y("Pm"),Ll:s("Pm"),wJ:function(b){for(var a=this.Ga.length,d=0;d<a;){var c=d++;if(this.Ga[c]==b)return!0}return!1},removeChild:function(b){for(var a=this.Ga.length,d=0;d<a;){var c=d++,g=this.Ga[c];if(g==b){g.ur(null);this.Ga.splice(c,1);break}}},H:function(b){b==this&&a.B.Ba.log("Cannot parent an Entity to itself.");null!=b.getParent()&&b.getParent().removeChild(b);this.Ga.push(b);b.ur(this)},CJ:function(b,
e){b==this&&a.B.Ba.log("Cannot parent an Entity to itself.");null!=b.getParent()&&b.getParent().removeChild(b);this.Ga.splice(e,0,b);b.ur(this)},cG:function(){for(var b=this.Ga.length,a=0;a<b;){var d=a++;this.Ga[d].D()}this.Ga=[]},getParent:y("ld"),BI:function(){return null!=this.getParent()?this.getParent():this},ur:function(b){this.ld=b;null!=this.getParent()?this.dispatchEvent(new a.p.Ra("addedToParent",{parent:this.getParent()})):this.dispatchEvent(new a.p.Ra("removedFromParent"));this.dispatchEvent(new a.p.Ra("displayUpdate"))},
q:function(){var b=this.da.ga();if(null!=this.ld){var a=this.ld.q(),d=this.ld.W(),c=this.ld.dd(),g=Math.sin(c.z),c=Math.cos(c.z),h=b.x*g+b.y*c;b.x=(b.x*c-b.y*g)*d.x+a.x;b.y=h*d.y+a.y;b.z+=a.z}return b},T:function(b){a.ua.prototype.T.call(this,b);for(var e=this.Ga.length,d=0;d<e;){var c=d++;this.Ga[c].T(b)}},ny:y("hb"),UG:y("Ga"),Ux:function(b){for(var a=this.Ga.length,d=0;d<a;){var c=d++,c=this.Ga[c];if(c.getName()==b)return c;c=c.Ux(b);if(null!=c)return c}return null},ag:function(){return null!=
this.ld?this.ld.ag()&&this.Ym:this.Ym},Dg:function(){a.ua.prototype.Dg.call(this);for(var b=this.Ga.length,e=0;e<b;){var d=e++;this.Ga[d].Dg()}this.dispatchEvent(new a.p.Ra("displayUpdate"))},rh:function(){a.ua.prototype.rh.call(this);for(var b=this.Ga.length,e=0;e<b;){var d=e++;this.Ga[d].rh()}this.dispatchEvent(new a.p.Ra("displayUpdate"))},xb:function(b){(this.Ym=b)?this.dispatchEvent(new a.p.Ra("visibilityOn")):this.dispatchEvent(new a.p.Ra("visibilityOff"));this.dispatchEvent(new a.p.Ra("displayUpdate"))},
Ka:function(){return this.da.ga()},yI:y("da"),setPosition:function(b,e,d){null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);this.da=new a.Vector3D(b,e,d);this.dispatchEvent(new a.p.Ra("displayUpdate"))},translate:function(b,e,d){null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);this.da.x+=b;this.da.y+=e;this.da.z+=d;this.dispatchEvent(new a.p.Ra("displayUpdate"))},GI:y("_rotation"),qy:function(){return this._rotation.ga()},dd:function(){var b=this._rotation.ga();if(null!=this.ld){var a=this.ld.dd();b.x+=a.x;
b.y+=a.y;b.z+=a.z}return b},yh:function(b,e,d){null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);this._rotation=new a.Vector3D(b,e,d);this.dispatchEvent(new a.p.Ra("displayUpdate"))},By:y("w"),W:function(){var b=this.w.ga();if(null!=this.ld){var a=this.ld.W();b.x*=a.x;b.y*=a.y;b.z*=a.z}return b},Y:function(b,e,d){null==d&&(d=1);null==e&&(e=1);null==b&&(b=1);this.w=new a.Vector3D(b,e,d);this.dispatchEvent(new a.p.Ra("displayUpdate"))},update:function(){a.ua.prototype.update.call(this);for(var b=this.Ta.length;0<
b--;){var e=this.Ta[b];e.sg&&(e.qc(),this.Ta.splice(b,1))}b=this.Ta.length;for(e=0;e<b;){var d=e++,d=this.Ta[d];d.hb&&d.ak()&&d.update()}},Va:function(){a.ua.prototype.Va.call(this);for(var b=this.Ta.length,e=0;e<b;){var d=e++;this.Ta[d].Va()}},Tb:function(){a.ua.prototype.Tb.call(this);for(var b=this.Ta.length,e=0;e<b;){var d=e++,d=this.Ta[d];d.hb&&d.ak()&&d.Tb()}},wb:function(){a.ua.prototype.wb.call(this);for(var b=this.Ta.length,e=0;e<b;){var d=e++,d=this.Ta[d];d.hb&&d.wb()}b=a.j.instance.Da("debug").Ha().getContext("2d");
b.save();null!=a.e.Camera.ud()&&(e=a.e.Camera.ud().f,d=a.e.Camera.ud()._zoomScale,b.translate(-e.q().x*d,-e.q().y*d),b.scale(d,d));b.beginPath();b.globalAlpha=0.65;b.lineWidth=1;b.strokeStyle="#44FF44";b.moveTo(this.q().x,this.q().y-10);b.lineTo(this.q().x,this.q().y+10);b.moveTo(this.q().x-10,this.q().y);b.lineTo(this.q().x+10,this.q().y);b.moveTo(this.q().x-10,this.q().y-10);b.lineTo(this.q().x+10,this.q().y+10);b.moveTo(this.q().x+10,this.q().y-10);b.lineTo(this.q().x-10,this.q().y+10);b.stroke();
b.restore();a.j.instance.Da("debug").qk(!0)},dx:function(b){for(var a=this.Ta.length,d=0;d<a;){var c=d++;if(this.Ta[c]==b)return null}this.Ta.push(b);b.qr(this);return b},fH:function(b){for(var a=this.Ta.length,d=0;d<a;){var c=d++;if(this.Ta[c].getName()==b)return this.Ta[c]}return null},L:function(b){for(var a=this.Ta.length,d=0;d<a;){var c=d++;if(z.uh(this.Ta[c])==b)return this.Ta[c]}return null},gH:function(b){for(var a=this.Ta.length,d=0;d<a;){var c=d++;if(z.eu(z.uh(this.Ta[c]))==b)return this.Ta[c]}return null},
Eb:function(b){var a=[],d=this.Rt(b);null!=d&&(a=a.concat(d));for(var d=this.Ga.length,c=0;c<d;){var g=c++,g=this.Ga[g].Eb(b);null!=g&&(a=a.concat(g))}return a},Rt:function(b){for(var a=[],d=this.Ta.length,c=0;c<d;){var g=c++;z.uh(this.Ta[g])==b?a.push(this.Ta[g]):z.eu(z.uh(this.Ta[g]))==b&&a.push(this.Ta[g])}return 0<a.length?a:null},ib:function(b,a){for(var d=this.Ta.length-1;0<=d;){var c=this.Ta[d];c.hb&&c.ib(b,a);d--}},ak:function(){return null!=this.ld?this.Rf&&this.ld.ak():this.Rf},D:function(){a.ua.prototype.D.call(this);
null!=this.Pm&&this.Pm.gB(this);null!=this.getParent()&&this.getParent().removeChild(this);for(var b=this.Ta.length;0<b--;){var e=this.Ta[b];e.D();e.qc()}for(b=this.Ga.length;0<b--;)e=this.Ga[b],e.D(),e.qc()},qc:function(){a.ua.prototype.qc.call(this);this.Pm=null},l:a.Ef});a.ta=n();a.ta.k=!0;a.ta.za=function(b){return a.ta.ji.get(b)};a.ta.setProperty=function(b,e){a.ta.ji.set(b,q.Hi(e))};a.ta.OA=function(b){for(b=r.parse(b).la("gameConfig").next().la("property");b.Sb();){var e=b.next(),d=e.get("name"),
e=e.get("value");a.ta.ji.set(d,e)}};a.ta.prototype={l:a.ta};a.Rg=function(){this.Ia=this.Jm=this.Om=this.ic=this.Lf=this.Mb=this.ae=this.J=this.ih=this.wc=this.qi=null;a.Ef.call(this)};a.Rg.k=!0;a.Rg.su=function(b){return b.t(new a.Rg)};a.Rg.C=a.Ef;a.Rg.prototype=m(a.Ef.prototype,{hu:function(){var b=this.Rn();null==b&&(this.ih=new a.e.Ge(this));return b.hu()},zr:function(b,e,d){var c=this.Rn();null==c&&(this.ih=new a.e.Ge(this));return c.zr(b,e,d)},BG:function(){var b=this.Rn();null==b&&(this.ih=
new a.e.Ge(this));return b.Jk.z},JK:function(b){var e=this.Rn();null==e&&(this.ih=new a.e.Ge(this));return e.fo(new a.Vector3D(0,0,b))},KH:function(){return null!=this.Ia?this.Ia:this.Ia=this.L(a.e.GameImage)},LH:function(){return null!=this.Om?this.Om:this.Om=this.L(a.e.Yd)},CH:function(){return null!=this.Jm?this.Jm:this.Jm=this.L(a.Lc.FlashAnimation)},ZI:function(){return null!=this.ic?this.ic:this.ic=this.L(a.e.Wa)},pH:function(){return null!=this.Lf?this.Lf:this.Lf=this.L(a.e.Dd)},Ot:function(){return null!=
this.Mb?this.Mb:this.Mb=this.L(a.e.ba)},$G:function(){return null!=this.ae?this.ae:this.ae=this.L(a.e.Bd)},bJ:function(){return null!=this.J?this.J:this.J=this.L(a.e.ma)},Rn:function(){return null!=this.ih?this.ih:this.ih=this.L(a.e.Ge)},UL:function(b,e,d,c,g,h){null==this.J&&(this.J=new a.e.ma(this));this.wc=[];this.wc.push(this.J.I(this.da,"x",this.da.x,b,d,g,c,h));this.wc.push(this.J.I(this.da,"y",this.da.y,e,d,g,c))},WL:function(b,e,d,c){null==this.J&&(this.J=new a.e.ma(this));this.wc=[];this.wc.push(this.J.I(this._rotation,
"z",this._rotation.z,a.B.aa.yc(b),e,c,d))},VL:function(b,e,d,c,g,h,p){null==this.J&&(this.J=new a.e.ma(this));this.wc=[];this.wc.push(this.J.I(this.da,"x",this.da.x,b,c,h,g,p));this.wc.push(this.J.I(this.da,"y",this.da.y,e,c,h,g));this.wc.push(this.J.I(this._rotation,"z",this._rotation.z,a.B.aa.yc(d),c,h,g))},XL:function(b,e,d,c,g,h){null==this.J&&(this.J=new a.e.ma(this));this.wc=[];this.wc.push(this.J.I(this.w,"x",this.w.x,b,d,g,c,h));this.wc.push(this.J.I(this.w,"y",this.w.y,e,d,g,c))},NF:function(){if(null!=
this.wc){for(var b=this.wc.length,a=0;a<b;){var d=a++;this.J.Px(this.wc[d])}this.wc=null}},KL:function(){if(null!=this.wc){for(var b=this.wc.length,a=0;a<b;){var d=a++;this.wc[d].lv()}this.wc=null}},xK:function(b,e){null==e&&(e=!1);this.WB();this.qi=a.g.SoundManager.ob(b,!1,e)},WB:function(){null!=this.qi&&this.qi.stop();this.qi=null},D:function(){a.Ef.prototype.D.call(this);null!=this.qi&&(this.qi.stop(),this.qi=null)},l:a.Rg});a.j=function(b,e){this.Mp=this.Kp=0;this.Rf=!0;this.el=!1;this.Sj=null;
this.lg=0;this.vs=!1;this.hc=this.Od=this.nc=this.ce=null;this.os=b;this.Sj=new a.m(1,1);this.hc=[];a.j.instance=this;this.nc=[];this.Od=[];this.ce=[];this.us=e};a.j.k=!0;a.j.Jy=function(){return a.j.nt};a.j.AL=function(b){a.j.nt=b};a.j.Ac=function(){return Math.min(2,a.j.kd-a.j.tl)*a.j.Jy()};a.j.zI=function(){return a.j.tl};a.j.au=function(){return a.j.kd-a.j.tl};a.j.Vy=function(){return window.isStandalone};a.j.GJ=function(){var b=k.Ua().navigator.platform;return-1!=b.indexOf("iPhone")||-1!=b.indexOf("iPod")||
-1!=b.indexOf("iPad")?!0:!1};a.j.nb=function(){var b=k.Ua().navigator.platform;return-1!=b.indexOf("iPhone")||-1!=b.indexOf("iPod")||-1!=b.indexOf("iPad")||-1!=b.indexOf("android")||-1!=b.indexOf("Linux")?!0:!1};a.j.Oq=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("msie")};a.j.Mq=function(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")};a.j.Yy=function(){return-1<navigator.userAgent.toLowerCase().indexOf("safari/")};a.j.sH=C(1);a.j.prototype={s:function(){a.j.tl=v.Th.Ol();
a.j.kd=v.Th.Ol();this.Kc(this.us);this.us.s();k.ka().focus();this.Mp=k.Ua().innerWidth;this.Kp=k.Ua().innerHeight;k.Ua().addEventListener("pageshow",l(this,this.hk),!1);k.Ua().addEventListener("resize",l(this,this.$n),!1);window.onfocus=l(this,this.Vq);window.onblur=l(this,this.Wq);k.oa().addEventListener("webkitvisibilitychange",l(this,this.IA),!1);k.Ua().addEventListener("pagehide",l(this,this.Wq),!1);a.j.nb()?this.hk():this.gv(1,1)},update:function(){a.j.kd=v.Th.Ol();this.el||this.Vq();if(this.Rf){for(var b=
0,b=this.Od.length;0<b--;){var e=this.Od[b];e.sg&&(e.qc(),this.Od.splice(b,1))}b=this.Od.length;for(e=0;e<b;){var d=e++,d=this.Od[d];d.hb&&d.update()}a.g.SoundManager.update();for(b=this.hc.length;0<b--;)e=this.hc[b],e.sg&&(e.qc(),this.hc.splice(b,1));b=this.hc.length;for(e=0;e<b;)d=e++,this.hc[d].hb&&this.hc[d].update();for(b=this.nc.length;0<b--;)e=this.nc[b],e.sg&&(e.qc(),u.remove(this.nc,e));b=this.nc.length;for(e=0;e<b;)d=e++,this.nc[d].update()}if(!this.vs)for(b=this.ce.length;0<b--;)e=this.ce[b],
null!=e&&(e.Ii-=a.j.Ac(),0>=e.Ii&&(e.gr?e.fq(e.gr):e.fq(),this.ce.splice(b,1)));if(this.Mp!=k.Ua().innerWidth||this.Kp!=k.Ua().innerHeight)this.hk(),this.Mp=k.Ua().innerWidth,this.Kp=k.Ua().innerHeight;a.j.tl=a.j.kd},Tb:function(){for(var b=this.Od.length,a=0;a<b;){var d=a++,d=this.Od[d];d.hb&&d.Tb()}b=this.hc.length;for(a=0;a<b;)d=a++,this.hc[d].hb&&this.hc[d].Tb()},fC:function(){var b="container";1==this.lg&&(b+=" portrait");k.ka().className=b},Va:function(){for(var b=this.nc.length,a=0;a<b;){var d=
a++,d=this.nc[d];d.Jo&&d.yl&&d.clear()}b=this.hc.length;for(a=0;a<b;)d=a++,this.hc[d].Va();b=this.Od.length;for(a=0;a<b;)d=a++,this.Od[d].Va();b=this.nc.length;for(a=0;a<b;)d=a++,d=this.nc[d],"debug"!=d.getName()&&d.Va()},wb:function(){for(var b=this.hc.length,a=0;a<b;){var d=a++;this.hc[d].wb()}b=this.Od.length;for(a=0;a<b;)d=a++,this.Od[d].wb();b=this.nc.length;for(a=0;a<b;)d=a++,d=this.nc[d],"debug"==d.getName()&&d.Va(),d.wb()},Kc:function(b){for(var a=this.hc.length,d=0;d<a;){var c=d++;if(b==
this.hc[c])return b}this.hc.push(b);return b},jr:function(b,a){null==a&&(a=!0);a&&(b.D(),b.qc());for(var d=this.hc.length,c=0;c<d;){var g=c++;if(b==this.hc[g]){this.hc.splice(g,1);break}}},he:function(b){this.Od.push(b);b.s()},CB:s("vs"),mq:function(){this.ce=[]},Pl:function(b,a,d){null==d&&(d=!0);null!=b&&this.jr(b,d);null!=a&&this.Kc(a)},Eg:function(b,a){null==a&&(a=!1);a?this.nc.splice(0,0,b):this.nc.push(b)},ru:function(b,a){this.nc.splice(u.indexOf(this.nc,a,0)+1,0,b)},Su:function(b){b.D();u.remove(this.nc,
b)},Da:function(b){for(var a=this.nc.length,d=0;d<a;){var c=d++,c=this.nc[c];if(c.getName()==b)return c}return null},jb:function(b,a){for(var d=this.Od.length-1;0<=d;)this.Od[d].ib(b,a),d--;for(d=this.hc.length-1;0<=d;)this.hc[d].ib(b,a),d--},ek:function(b,e,d){b=new a.e.xk(b,e,d);this.ce.push(b);return b},Ox:function(b){u.remove(this.ce,b)},hk:function(){var b=this;this.ek(1,function(){var e=!1,e=a.j.nb()?k.Ua().innerWidth>k.Ua().innerHeight:!0;"HORIZONTAL"==a.ta.za("forceOrientation")?(b.lg=0,e=
!0):"VERTICAL"==a.ta.za("forceOrientation")?(b.lg=1,e=!1):b.lg=e?0:1;b.$n();b.jb("onOrientationChanged",{Wy:e})})},gv:function(b,a){this.fC();this.Sj.x=b;this.Sj.y=a;this.sA()},fb:function(){return a.j.Vy()?new a.m(0.91*this.Sj.x,0.91*this.Sj.y):this.Sj},Rb:function(){return 0==this.lg?new a.m(k.Sc,k.Rc):new a.m(k.Dh,k.Ch)},cu:function(){var b=k.Ua().innerWidth,e=k.Ua().innerHeight;return 0==this.lg?new a.m(b/2-k.Sc*this.fb().x/2,e/2-k.Rc*this.fb().y/2):new a.m(b/2-k.Dh*this.fb().x/2,e/2-k.Ch*this.fb().y/
2)},IA:function(){k.oa().webkitHidden?this.Wq():this.Vq()},Vq:function(){if(!this.el){a.g.bb.n().Et();a.g.SoundManager.Uu();this.Rf=this.el=!0;var b=this.Da("master").Ha();if(null!=b){var e=b.width;b.width=0;b.width=e}this.jb("onFocusGained")}},Wq:function(){a.g.SoundManager.Ku();this.el&&(a.g.bb.n().Sx(),this.Rf=this.el=!1,this.jb("onFocusLost"))},$n:function(){var b=1,e=b;a.j.nb()||"1"==a.ta.za("scaleToScreenOnDesktop")?e=b=0==this.lg?Math.min(k.Ua().innerHeight/k.Rc,k.Ua().innerWidth/k.Sc):Math.min(k.Ua().innerHeight/
k.Ch,k.Ua().innerWidth/k.Dh):(e=k.Cl/k.Sc,b=k.Bl/k.Rc);this.jb("onResizedWindow");this.gv(e,b)},sA:function(){var b,e;b=k.Ua().innerWidth;e=k.Ua().innerHeight;a.j.nb()&&this.pu();0==this.lg?(k.ka().style.width=k.Sc+"px",k.ka().style.height=k.Rc+"px"):(k.ka().style.width=k.Dh+"px",k.ka().style.height=k.Ch+"px");for(var d=this.nc.length,c=0;c<d;){var g=c++,g=this.nc[g],h,p;0==this.lg?(g.Ha().style.width=1*k.Sc*this.fb().x+"px",g.Ha().style.height=1*k.Rc*this.fb().y+"px",g.zh(k.Sc,k.Rc),h=k.Sc*this.fb().x,
p=k.Rc*this.fb().y):(g.Ha().style.width=1*k.Dh*this.fb().x+"px",g.Ha().style.height=1*k.Ch*this.fb().y+"px",g.zh(k.Dh,k.Ch),h=k.Dh*this.fb().x,p=k.Ch*this.fb().y);g.ka().style.width=h+"px";g.ka().style.height=p+"px";g.ka().style.left=b/2-h/2+"px";g.ka().style.top=e/2-p/2+"px"}this.jb("onScreenScaleUpdated")},XB:function(){this.Rf=!1},dB:function(){this.Rf=!0},pu:function(){this.Un()&&!window.location.hash&&(document.height<window.outerHeight&&(document.body.style.height=window.outerHeight+50+"px"),
setTimeout(function(){window.scrollTo(0,1)},50))},Un:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("iphone")||-1!=navigator.userAgent.toLowerCase().indexOf("ipod")||-1!=navigator.userAgent.toLowerCase().indexOf("android")||-1!=navigator.userAgent.toLowerCase().indexOf("Linux")?!0:!1},l:a.j};a.P=function(){this.Ye=this.Zk=null;this.hi=!1;this.kd=0;a.ua.call(this);this.Nb=[];this.Ye=[];this.Zk=[]};a.P.k=!0;a.P.C=a.ua;a.P.prototype=m(a.ua.prototype,{tI:y("hi"),s:function(){a.ua.prototype.s.call(this)},
UJ:n(),update:function(){a.ua.prototype.update.call(this);for(var b=this.Zk.length,e=0;e<b;){var d=e++,d=this.Zk[d];d.qc();u.remove(this.Nb,d)}a.B.vf.clear(this.Zk);e=0;if(!this.hi){a.B.vf.clear(this.Ye);b=this.Nb.length;for(d=0;d<b;){var c=d++,c=this.Nb[c];null!=c&&c.hb&&(this.Ye.push(c),e++,c.ak()&&c.update())}this.kd+=a.j.Ac()}"1"==a.ta.za("debugCheats")&&a.g.bb.n().Hl(105)&&(a.B.Ba.log(this.Nb),a.B.Ba.log(this.Ye),a.g.N.JA(),a.B.Ba.log("Active entities: "+e))},Tb:function(){a.ua.prototype.Tb.call(this);
if(!this.hi)for(var b=this.Ye.length,e=0;e<b;){var d=e++,d=this.Ye[d];d.ak()&&d.Tb()}},Va:function(){a.ua.prototype.Va.call(this);for(var b=this.Ye.length,e=0;e<b;){var d=e++,d=this.Ye[d];d.ag()&&d.hb&&d.Va()}},wb:function(){a.ua.prototype.wb.call(this);for(var b=this.Nb.length,e=0;e<b;){var d=e++,d=this.Nb[d];d.hb&&d.ag()&&d.wb()}},t:function(b){null==b&&(b=new a.Ef);b.Ll(this);this.Nb.push(b);return b},CK:function(b){u.remove(this.Nb,b)},QH:function(b){return-1!=a.B.vf.indexOf(this.Nb,b)},yH:y("Nb"),
xG:function(b){for(var a=this.Nb.length,d=0;d<a;){var c=d++,c=this.Nb[c];if(c.getName()==b)return c}return null},jy:function(b,a){null==a&&(a=!0);for(var d=[],c=this.Nb.length,g=0;g<c;){var h=g++,h=this.Nb[h];(!a||h.hb)&&h.ou(b)&&d.push(h)}return d},YG:function(b,e,d){null==d&&(d=!0);e=this.jy(e);for(var c=-1,g=null,h=e.length,p=0;p<h;){var t=p++,t=e[t];if(!d||t.hb){var k=t.q(),k=(new a.Vector3D(k.x-b.x,k.y-b.y,k.z-b.z)).Nc();if(-1==c||k<c)c=k,g=t}}return g},LL:function(){this.Nb.sort(function(b,
a){var d=b.q(),c=a.q();return d.z==c.z?b.Sm>a.Sm?1:-1:d.z<c.z?1:-1})},ib:function(b,e){a.ua.prototype.ib.call(this,b,e);if(!this.hi)for(var d=this.Ye.length-1;0<=d;)this.Ye[d].hb&&this.Ye[d].ib(b,e),d--},pause:function(){this.hi=!0},resume:function(){this.hi=!1},jc:function(b,a){null==a&&(a=!1);u.remove(this.Nb,b)&&this.Nb.push(b);if(a)for(var d=b.Ga,c=d.length,g=0;g<c;){var h=g++;this.jc(d[h],!0)}},iB:function(b,a){null==a&&(a=!1);u.remove(this.Nb,b)&&this.Nb.splice(0,0,b);if(a)for(var d=b.Ga,c=
d.length,g=0;g<c;){var h=g++;this.iB(d[h],!0)}},qu:function(b,e){u.remove(this.Nb,b)&&this.Nb.splice(a.B.vf.indexOf(this.Nb,e)+1,0,b)},gB:function(b){this.Zk.push(b)},D:function(){a.ua.prototype.D.call(this);for(var b=this.Nb.length-1;0<=b;)this.Nb[b].D(),this.Nb[b].qc(),b--;this.sg=!0},l:a.P});a.rb=function(b,e,d,c,g){null==g&&(g=!1);this.Yr=null;this.yl=!1;this.Qk=this.Pk=0;this.Jo=!0;this.Mr="#000000";a.ua.call(this);this.nk(b);this.Xr=k.ka();this._canvas=k.oa().createElement("canvas");this._canvas.width=
e;this._canvas.height=d;this.Qk=e;this.Pk=d;this._canvas.setAttribute("webkitTransform","translate3d(0px, 0px, 0px);");this._canvas.style.position="absolute";this.Yr=this._canvas.getContext("2d");g?(a.rb.eh=this,this.Xr.appendChild(this._canvas)):this._canvas.style.visibility="hidden"};a.rb.k=!0;a.rb.ry=function(){return a.rb.eh};a.rb.C=a.ua;a.rb.prototype=m(a.ua.prototype,{GG:y("Mr"),lB:s("Mr"),WG:y("yj"),qB:s("yj"),getContext:y("Yr"),oJ:y("yl"),qk:s("yl"),clear:function(b){null==b&&(b=!1);if(a.rb.eh!=
this||b)b=this._canvas.getContext("2d"),null==this.yj?b.clearRect(0,0,this._canvas.width,this._canvas.height):b.clearRect(this.yj.u.x,this.yj.u.y,this.yj.M.x,this.yj.M.y),this.yl=!1},Va:function(){a.ua.prototype.Va.call(this);this.yl&&a.rb.eh!=this&&(null!=this.Ab&&(a.rb.eh.getContext().save(),this.Ab(a.rb.eh.getContext()),a.rb.eh.getContext().clip()),a.rb.eh.getContext().drawImage(this._canvas,0,0,this.Qk,this.Pk),null!=this.Ab&&a.rb.eh.getContext().restore())},Ct:function(b){null!=this.Ab&&(b.getContext("2d").save(),
this.Ab(b.getContext("2d")),b.getContext("2d").clip());b.getContext("2d").drawImage(this._canvas,0,0,this.Qk,this.Pk);null!=this.Ab&&b.getContext("2d").restore()},$:function(){return new a.m(this.Qk,this.Pk)},zh:function(b,a){this.Qk=b;this.Pk=a;this._canvas.width=b;this._canvas.height=a},update:function(){a.ua.prototype.update.call(this)},Cq:y("Ab"),Fi:s("Ab"),ka:y("Xr"),Ha:y("_canvas"),FG:y("Jo"),kB:s("Jo"),D:function(){a.ua.prototype.D.call(this);null!=this.Ha().parentNode&&this.Ha().parentNode.removeChild(this.Ha())},
l:a.rb});a.LoadBatch=function(b){null==b&&(b=!1);this.gn=!1;this.Zr=0;this.an=!1;this.Xa=0;this.Gs=null;this.Fa=[];b&&(this.gn=!0)};a.LoadBatch.k=!0;a.LoadBatch.prototype={Me:function(b,e,d){this.Fa.push(new a.Sl(b,e,d))},by:function(b){for(var a=this.Fa.length,d=0;d<a;){var c=d++,c=this.Fa[c];if(c.name==b)return c}return null},gz:function(){this.Xa--;this.$c();a.j.instance.jb("onFileLoaded",{progress:this.Fa.length-this.Xa,total:this.Fa.length});this.od()},$c:function(){a.j.instance.jb("onFileLoaded",
{progress:this.Fa.length-this.Xa,total:this.Fa.length});!this.gn||(this.an||0<this.Xa)||(this.an=!0,this.Gs())},load:function(b){this.Gs=b;this.Xa=this.Fa.length;this.an=!1;this.Zr=0;0==this.Fa.length?(b(),this.an=!0):(this.od(),a.j.instance.CB(!1),a.j.instance.ek(3,l(this,this.Zz)))},unload:function(){for(var b=this.Fa.length,e=0;e<b;){var d=e++;a.g.N.cC(this.Fa[d].name)}},od:function(){if(!(0>=this.Xa&&this.gn)){for(var b=null;null==b&&0<this.Xa;)if(b=this.Fa[this.Zr++],null==b)this.Xa--,this.$c();
else break;if(!(0>=this.Xa))switch(b.source=A.replace(b.source,"${locale}",k.In),b.type[1]){case 4:var e;e=k.oa().createElement("link");e.rel="stylesheet";e.type="text/css";e.href=b.source;e.id=b.name;k.oa().head.appendChild(e);this.$c();this.od();break;case 1:if(!a.j.nb()||a.g.SoundManager.bk()){e=null;var d=this;if(a.g.N.Sd(b.name)){d.Xa--;d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od();break}e=-1<navigator.userAgent.toLowerCase().indexOf("firefox");"mp3"==
u.substr(b.source,b.source.length-3,3)&&(e&&!a.g.SoundManager.Gq())&&(b.source=A.replace(b.source,"mp3","ogg"));if(!a.g.SoundManager.bk()||e)a.g.SoundManager.Gq()?(e=soundManager.createSound({id:b.name,url:b.source,autoLoad:!0,onload:function(){d.Xa--;d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od()}}),a.g.N.Ud(b.name,e)):(e=document.createElement("audio"),e.src=b.source,e.preload=!0,e.autoplay=!1,e.id=b.name,e.addEventListener("canplay",function(){d.Xa--;
d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od()},!1),e.addEventListener("onerror",function(){d.Xa--;console.log("File not found: "+b.source);d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od()}),e.addEventListener("stalled",function(){d.Xa--;console.log("File not found: "+b.source);d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od()}),e.addEventListener("emptied",function(){d.Xa--;
d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od()}),e.addEventListener("canplaythrough",function(){d.Xa--;d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od()}),e.addEventListener("suspend",function(){d.Xa--;d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od()}),a.g.N.Ud(b.name,e),e.load());else{var c=new XMLHttpRequest;c.open("GET",b.source,!0);c.responseType="arraybuffer";a.g.N.Ud(b.name+
"_src",b.source);c.onload=function(){a.g.SoundManager.Mt().decodeAudioData(c.response,function(e){a.g.N.Ud(b.name,e);d.Xa--;d.$c();a.j.instance.jb("onFileLoaded",{progress:d.Fa.length-d.Xa,total:d.Fa.length});d.od()})};c.send()}}else a.g.N.Ud(b.name,b.source),this.Xa--,this.$c(),this.od();break;case 0:e=k.oa().createElement("img");a.g.N.Ud(b.name,e);var g=this;e.addEventListener("load",l(this,this.gz));e.addEventListener("onerror",function(){g.Xa--;alert("file not found: "+b.source);g.$c();a.j.instance.jb("onFileLoaded",
{progress:g.Fa.length-g.Xa,total:g.Fa.length});g.od()});e.id=b.name;e.src=b.source;break;case 2:var h;h=new XMLHttpRequest;var p=this;h.onload=function(){a.g.N.Ud(b.name,h.responseText);p.Xa--;p.$c();a.j.instance.jb("onFileLoaded",{progress:p.Fa.length-p.Xa,total:p.Fa.length});p.od()};h.onerror=function(){p.Xa--;alert("File not found: "+b.source);p.$c();p.od()};h.open("GET",b.source,!0);h.send();break;case 3:e=k.oa().createElement("script"),e.type="text/javascript",e.src=b.source,e.id=b.name,k.oa().body.appendChild(e),
this.$c(),this.od()}}},Zz:function(){this.gn=!0;this.$c()},sx:function(b){for(var a=b.Fa.length,d=0;d<a;){var c=d++;this.Fa.push(b.Fa[c])}},l:a.LoadBatch};a.Ma=n();a.Ma.k=!0;a.Ma.Uy=function(){var b=a.g.N.na("strings");a.Ma.ZB=r.parse(b).la("strings").next()};a.Ma.Gb=function(b){try{return a.Ma.ZB.la(b).next().firstChild().ju()}catch(e){return"*"+b+"*"}};a.Ma.prototype={l:a.Ma};a.Z=function(){a.ua.call(this)};a.Z.k=!0;a.Z.C=a.ua;a.Z.prototype=m(a.ua.prototype,{l:a.Z});a.Co=function(){this.Di=null;
this.Ft=-1;this.At=this.zt=null;this.Di=new a.m};a.Co.k=!0;a.Co.prototype={l:a.Co};a.hd=function(b,e,d,c){null==c&&(c=0);null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);this.u=new a.m(b,e);this.M=new a.m(d,c)};a.hd.k=!0;a.hd.prototype={ga:function(){return new a.hd(this.u.x,this.u.y,this.M.x,this.M.y)},my:function(b){return!(this.u.x>b.u.x+b.M.x||this.u.x+this.M.x<b.u.x||this.u.y>b.u.y+b.M.y||this.u.y+this.M.y<b.u.y)},ux:function(b){return b.x>this.u.x&&b.y>this.u.y&&b.x<this.u.x+this.M.x&&b.y<this.u.y+
this.M.y},l:a.hd};a.hm=function(){this.$e={};this.load()};a.hm.k=!0;a.hm.prototype={setItem:function(b,a){this.$e[b]=a;this.save()},getItem:function(b,a){if(Object.prototype.hasOwnProperty.call(this.$e,b))return B.field(this.$e,b);this.setItem(b,a);return a},save:function(){var b=a.j.instance.os+"Data";if(null!=w.me.El())try{w.me.El().setItem(b,JSON.stringify(this.$e))}catch(e){a.B.Ba.log("Error saving to session storage")}if(null!=w.me.Dl())try{w.me.Dl().setItem(b,JSON.stringify(this.$e))}catch(d){a.B.Ba.log("Error saving to local storage")}},
load:function(){var b=a.j.instance.os+"Data";if(null!=w.me.El()||null!=w.me.Dl()){var e=null;try{e=w.me.El().getItem(b)}catch(d){a.B.Ba.log("Failed to get item from session storage")}if(null==e)try{e=w.me.Dl().getItem(b)}catch(c){a.B.Ba.log("Failed to get item from session storage")}null!=e&&(this.$e=JSON.parse(e))}},l:a.hm};a.m=function(b,a){null==a&&(a=0);null==b&&(b=0);this.x=this.y=0;this.x=b;this.y=a};a.m.k=!0;a.m.prototype={ga:function(){return new a.m(this.x,this.y)},Nc:function(){return Math.sqrt(this.x*
this.x+this.y*this.y)},xd:function(b,a){this.x*=b;this.y*=a},xi:function(b){return this.x*b.x+this.y*b.y},wh:function(){var b=this.Nc();return new a.m(this.x/b,this.y/b)},l:a.m};a.Vector3D=function(b,a,d){null==d&&(d=0);null==a&&(a=0);null==b&&(b=0);this.x=this.y=this.z=0;this.x=b;this.y=a;this.z=d};a.Vector3D.k=!0;a.Vector3D.prototype={add:function(b){return new a.Vector3D(this.x+b.x,this.y+b.y,this.z+b.z)},$B:function(b){return new a.Vector3D(this.x-b.x,this.y-b.y,this.z-b.z)},xd:function(b){this.x*=
b;this.y*=b;this.z*=b},Nc:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},ga:function(){return new a.Vector3D(this.x,this.y,this.z)},wh:function(){var b=this.Nc();return new a.Vector3D(this.x/b,this.y/b,this.z/b)},l:a.Vector3D};a.audio={};a.audio.gb=function(b,a,d){this.Uk=-1;this.ll=!1;this.jh=b;this.wn=a;this.ff=d;this.s()};a.audio.gb.k=!0;a.audio.gb.prototype={s:function(){this.ll=!0},play:n(),resume:n(),update:function(){this.Uk+=a.j.au()},pause:n(),stop:function(){a.g.SoundManager.Ig(this)},
setVolume:s("wn"),cv:s("ff"),Eq:C(1),l:a.audio.gb};a.audio.Yi=function(b,e,d){a.audio.gb.call(this,b,e,d)};a.audio.Yi.k=!0;a.audio.Yi.C=a.audio.gb;a.audio.Yi.prototype=m(a.audio.gb.prototype,{s:function(){a.audio.gb.prototype.s.call(this);this.Ca=soundManager.createSound({id:this.jh});this.Ca.setVolume(100*this.wn)},play:function(b){null==b&&(b=0);a.audio.gb.prototype.play.call(this,b);a.B.Ba.log("FlashSoundData::play()");var e=this;this.Ca.play({onfinish:function(){e.ff&&e.play(0);a.g.SoundManager.Ig(e)},
onstop:function(){a.g.SoundManager.Ig(e)}})},pause:function(){a.audio.gb.prototype.pause.call(this);a.B.Ba.log("FlashSoundData::pause()");this.Ca.pause()},stop:function(){a.audio.gb.prototype.stop.call(this);a.B.Ba.log("FlashSoundData::stop()");this.Ca.stop()},resume:function(){a.audio.gb.prototype.resume.call(this);this.Ca.resume()},setVolume:function(b){a.audio.gb.prototype.setVolume.call(this,b);a.B.Ba.log("FlashSoundData::setVolume()");this.Ca.setVolume(100*b)},l:a.audio.Yi});a.audio.dj=function(b,
e,d){a.audio.gb.call(this,b,e,d)};a.audio.dj.k=!0;a.audio.dj.C=a.audio.gb;a.audio.dj.prototype=m(a.audio.gb.prototype,{s:function(){a.audio.gb.prototype.s.call(this)},play:function(b){null==b&&(b=0);a.audio.gb.prototype.play.call(this,b);this.Ca=a.g.N.na(this.jh);this.Ca.play();this.Ca.addEventListener("ended",l(this,this.er),!1);this.Ca.loop=this.ff;this.Ca.volume=this.wn},resume:function(){a.audio.gb.prototype.resume.call(this);this.Ca.play()},pause:function(){a.audio.gb.prototype.pause.call(this);
this.Ca.pause()},stop:function(){a.audio.gb.prototype.stop.call(this);this.Ca.pause()},er:function(){a.g.SoundManager.Ig(this)},setVolume:function(b){a.audio.gb.prototype.setVolume.call(this,b);this.Ca.volume=b},l:a.audio.dj});a.audio.wj=function(b,e,d){null==d&&(d=!1);null==e&&(e=1);this.Ca=null;a.audio.gb.call(this,b,e,d)};a.audio.wj.k=!0;a.audio.wj.C=a.audio.gb;a.audio.wj.prototype=m(a.audio.gb.prototype,{s:function(){a.audio.gb.prototype.s.call(this);a.B.Ba.log("WebkitSoundData::init()");this.Uh=
a.g.SoundManager.Mt();this.Ca=this.Uh.createBufferSource();this.Ca.buffer=a.g.N.na(this.jh);this.Nm=null!=this.Uh.createGain?this.Uh.createGain():this.Uh.createGainNode();this.Ca.connect(this.Nm);this.Nm.connect(this.Uh.destination,0);this.Ca.loop=this.ff;this.Ca.id=this.jh;this.setVolume(this.wn)},play:function(b){null==b&&(b=0);a.audio.gb.prototype.play.call(this,b);a.B.Ba.log("WebkitSoundData::play()");this.Uk=b;try{null!=this.Ca.start?this.Ca.start(b):0==b?this.Ca.noteOn():this.Ca.noteGrainOn(b)}catch(e){this.Ca.noteOn(0)}},
pause:function(){a.audio.gb.prototype.pause.call(this);null!=this.Ca&&(a.B.Ba.log("WebkitSoundData::pause()"),null!=this.Ca.stop?this.Ca.stop(0):this.Ca.noteOff(0),this.Ca=null,a.g.SoundManager.Ig(this))},resume:function(){a.audio.gb.prototype.resume.call(this);a.B.Ba.log("WebkitSoundData::resume()");this.stop();this.s();this.play(this.Uk)},stop:function(){a.audio.gb.prototype.stop.call(this);null!=this.Ca&&(a.B.Ba.log("WebkitSoundData::stop()"),null!=this.Ca.stop?this.Ca.stop(0):this.Ca.noteOff(0),
this.Ca=null,a.g.SoundManager.Ig(this))},Eq:function(){return this.Ca.buffer.duration},update:function(){a.audio.gb.prototype.update.call(this);this.Uk>this.Eq()&&!this.ff&&a.g.SoundManager.Ig(this)},er:function(){a.B.Ba.log("onSoundComplete()")},setVolume:function(b){a.audio.gb.prototype.setVolume.call(this,b);if(null!=this.Ca&&null!=this.Ca.gain||null!=this.Nm)this.Nm.gain.value=b},l:a.audio.wj});a.Cb={};a.Cb.Qe=function(){this.Pq=[];this.u=new a.m;this.M=new a.m};a.Cb.Qe.k=!0;a.Cb.Qe.prototype=
{ga:function(){var b=new a.Cb.Qe;b.u=this.u.ga();b.M=this.M.ga();for(var e=this.Pq.length,d=0;d<e;){var c=d++;b.Pq.push(this.Pq[c])}return b},sd:C(!1),bg:C(-1),l:a.Cb.Qe};a.Cb.Ng=function(){a.Cb.Qe.call(this)};a.Cb.Ng.k=!0;a.Cb.Ng.C=a.Cb.Qe;a.Cb.Ng.prototype=m(a.Cb.Qe.prototype,{sd:function(b){a.Cb.Qe.prototype.sd.call(this,b);return b.x>=this.u.x&&b.y>=this.u.y&&b.x<=this.u.x+this.M.x&&b.y<=this.u.y+this.M.y},RF:C(!0),bg:function(b,e,d,c){null==c&&(c=!1);for(var g=new a.m,h=[new a.m(this.u.x,this.u.y),
new a.m(this.u.x+this.M.x,this.u.y),new a.m(this.u.x+this.M.x,this.u.y+this.M.y),new a.m(this.u.x,this.u.y+this.M.y)],p=-1,t=0,k=h.length-1;t<k;){var l=t++,l=a.B.aa.Wn(b,e,h[l],h[l+1],g);if(0<l)if(c){if(-1==p||l<p)d.x=g.x,d.y=g.y,p=l}else return d.x=g.x,d.y=g.y,l}b=a.B.aa.Wn(b,e,h[0],h[h.length-1],g);if(0<b)if(c){if(-1==p||b<p)d.x=g.x,d.y=g.y,p=b}else return d.x=g.x,d.y=g.y,b;return p},ga:C(null),l:a.Cb.Ng});a.Cb.hj=function(){this.Sf=this.qg=null;a.Cb.Qe.call(this);this.Sf=new a.m(999999,999999);
this.qg=new a.m(-999999,-999999);this.md=[]};a.Cb.hj.k=!0;a.Cb.hj.C=a.Cb.Qe;a.Cb.hj.prototype=m(a.Cb.Qe.prototype,{$:function(){return new a.m(this.qg.x-this.Sf.x,this.qg.y-this.Sf.y)},Bn:function(b,e){this.md.push(new a.m(b,e));b<this.Sf.x&&(this.Sf.x=b);e<this.Sf.y&&(this.Sf.y=e);b>this.qg.x&&(this.qg.x=b);e>this.qg.y&&(this.qg.y=e)},xI:y("md"),sd:function(b){for(var a=this.md.length,d=0,c=!1,g=null,h=null;d<a;){g=this.md[d].ga();h=this.md[(d+1)%a].ga();g.x+=this.u.x;g.y+=this.u.y;h.x+=this.u.x;
h.y+=this.u.y;if(0==d)c=0<(b.y-g.y)*(h.x-g.x)-(b.x-g.x)*(h.y-g.y);else if(c&&0>(b.y-g.y)*(h.x-g.x)-(b.x-g.x)*(h.y-g.y)||!c&&0<(b.y-g.y)*(h.x-g.x)-(b.x-g.x)*(h.y-g.y))return!1;d++}return!0},bg:function(b,e,d,c,g){null==c&&(c=!1);var h=new a.hd;h.u=this.Sf.ga();h.M=new a.m(this.qg.x-this.Sf.x,this.qg.y-this.Sf.y);h.u.x+=this.u.x;h.u.y+=this.u.y;if(!h.my(new a.hd(b.x<e.x?b.x:e.x,b.y<e.y?b.y:e.y,Math.abs(e.x-b.x),Math.abs(e.y-b.y))))return-1;for(var h=new a.m,p=this.md,t=-1,k=0,l=p.length-1;k<l;){var m=
k++,q=p[m].ga();q.x+=this.u.x;q.y+=this.u.y;var r=p[m+1].ga();r.x+=this.u.x;r.y+=this.u.y;m=a.B.aa.Wn(b,e,q,r,h);if(0<m)if(c){if(-1==t||m<t)d.x=h.x,d.y=h.y,null!=g&&(t=(new a.m(r.y-q.y,q.x-r.x)).wh(),g.x=t.x,g.y=t.y,0<(new a.m(e.x-b.x,e.y-b.y)).xi(g)&&(g.x*=-1,g.y*=-1)),t=m}else return d.x=h.x,d.y=h.y,null!=g&&(d=(new a.m(r.y-q.y,q.x-r.x)).wh(),g.x=d.x,g.y=d.y,0<(new a.m(e.x-b.x,e.y-b.y)).xi(g)&&(g.x*=-1,g.y*=-1)),m}k=p[0].ga();k.x+=this.u.x;k.y+=this.u.y;l=p[p.length-1].ga();l.x+=this.u.x;l.y+=this.u.y;
p=a.B.aa.Wn(b,e,k,l,h);if(0<p)if(c){if(-1==t||p<t)d.x=h.x,d.y=h.y,null!=g&&(d=(new a.m(l.y-k.y,k.x-l.x)).wh(),g.x=d.x,g.y=d.y,0<(new a.m(e.x-b.x,e.y-b.y)).xi(g)&&(g.x*=-1,g.y*=-1)),t=p}else return d.x=h.x,d.y=h.y,null!=g&&(d=(new a.m(l.y-k.y,k.x-l.x)).wh(),g.x=d.x,g.y=d.y,0<(new a.m(e.x-b.x,e.y-b.y)).xi(g)&&(g.x*=-1,g.y*=-1)),p;return t},ga:C(null),l:a.Cb.hj});a.e={};a.e.uf=function(b,e){this.Lm=30;this.ff=!0;this.ii=0;this.Qd=b;this.jg=[];null==e||(this.ii=e);this.va=new a.m};a.e.uf.k=!0;a.e.uf.Ju=
function(b,e){for(var d=r.parse(e),c=d.la("animation").next().get("name"),c=new a.e.uf(c,d.la("animation").next().get("length")),d=d.la("animation").next().la("keyframe");d.Sb();){var g=d.next(),g=new a.e.Lc.Ki(g.get("index"),g.get("spriteIndex"),b);c.hq(g)}a.g.zd.n().hr(c);return c};a.e.uf.MJ=function(b,e,d,c,g){null==g&&(g=0);null==c&&(c=-1);var h=a.ab.Uc.n().Ai(e);-1==c&&(c=h.pc.length);b=new a.e.uf(b,c*d);for(h=0;h<c;){var p=h++;b.hq(new a.e.Lc.Ki(g,p,e));g+=d}a.g.zd.n().hr(b);return b};a.e.uf.bz=
function(b,e,d,c){var g,h;null==h&&(h=0);null==g&&(g=-1);null==c&&(c=!1);var p=a.ab.Uc.n().Ai(e),t=p.pc.length;-1==g&&(g=t);for(var k=0,l=0;l<g;){var m=l++;A.Br(p.Fq(m).getName(),"")&&k++}b=new a.e.uf(b,k*d);for(l=k=0;l<t&&!(m=l++,A.Br(p.Fq(m).getName(),"")&&(b.hq(new a.e.Lc.Ki(h,m,e)),h+=d,k++,k>=g)););b.cv(c);a.g.zd.n().hr(b);return b};a.e.uf.prototype={Nc:function(){return this.ii/this.Lm},getName:y("Qd"),cv:s("ff"),Za:y("va"),Zb:function(b,a){this.va.x=b;this.va.y=a},hq:function(b){this.jg.push(b);
var a=b.q();this.ii=Math.max(this.ii,b.q());a>this.ii&&(this.ii=a)},Fy:function(b){for(var a=this.jg.length,d=this.jg[0].Wp,c=0;c<a;){var g=c++;if(b>=this.jg[g].q()/this.Lm)d=this.jg[g].Wp;else break}return d},Hy:function(b){for(var a=this.jg.length,d=this.jg[0].Tj,c=0;c<a;){var g=c++;if(b>=this.jg[g].q()/this.Lm)d=this.jg[g].Tj;else break}return d},l:a.e.uf};a.e.ba=function(b,e,d,c,g){this.rd=this.op=this.rg=!1;this.ep=!0;this.yp=this.Ep=this.Hp=this.Fp=this.Hs=this.Gp=null;a.h.call(this,b,"Button");
this.ha=new a.Cb.Ng;this.lc=e;this.Ze=d;this.r=g;this.tf(c)};a.e.ba.k=!0;a.e.ba.mI=function(){return a.e.ba.sp};a.e.ba.EB=function(){a.e.ba.sp=!1};a.e.ba.ZF=function(b){return new a.e.ba(b.f,b.$(),new a.m(0,0))};a.e.ba.$F=function(b,e,d){null==d&&(d=0);e=k.oa().getElementById(e);var c=e.clientWidth+d,g=e.clientHeight+d;return new a.e.ba(b,new a.m(c,g),new a.m(e.offsetLeft-b.q().x-d/2+c/2,e.offsetTop-b.q().y-d/2+g/2))};a.e.ba.YF=function(b,e,d,c){null==c&&(c=0);e=k.oa().getElementById(e);var g=q.Yb(e.style.width)+
c,h=q.Yb(e.style.height)+c,p=a.e.gd.du(e).y-c/2;return new a.e.ba(b,new a.m(g,h),new a.m(a.e.gd.du(e).x-c/2-b.q().x+g/2,p-b.q().y+h/2),d)};a.e.ba.Dn=function(b){return new a.e.ba(b.f,b.$(),null)};a.e.ba.C=a.h;a.e.ba.prototype=m(a.h.prototype,{mL:s("yp"),tf:s("Ep"),qL:s("Fp"),dv:s("Hp"),rL:s("Gp"),$H:y("op"),Vd:s("op"),getData:y("$e"),bH:y("lc"),setData:s("$e"),s:function(){a.h.prototype.s.call(this);this.f.Ka();this.f.q();this.Ah()},update:function(){a.h.prototype.update.call(this);this.rg=!1;!1==
this.f.ag()&&(this.rg=!0);this.Ah()},Zb:function(b,e){this.Ze=new a.m(b,e)},Za:y("Ze"),Ah:function(){var b=this.f.q();this.ha.u.x=b.x-this.lc.x/2*this.f.W().x;this.ha.u.y=b.y-this.lc.y/2*this.f.W().y;this.ha.M.x=this.lc.x*this.f.W().x;this.ha.M.y=this.lc.y*this.f.W().y;null!=this.Ze&&(this.ha.u.x+=this.Ze.x,this.ha.u.y+=this.Ze.y)},$q:function(b){b=b.ga();b.x>a.j.instance.Rb().x||(0>b.x||b.y>a.j.instance.Rb().y||0>b.y)||(null!=this.r&&(b.x+=this.r.f.q().x*this.r._zoomScale,b.y+=this.r.f.q().y*this.r._zoomScale,
b.xd(1/this.r._zoomScale,1/this.r._zoomScale)),this.ha.sd(b)&&(this.f.dispatchEvent(new a.p.Ra("mouseClick",{button:this,Yj:this.f})),null!=this.yp&&this.yp(this)))},Hb:function(b){b=b.ga();if(b.x>a.j.instance.Rb().x||0>b.x||b.y>a.j.instance.Rb().y||0>b.y)return!1;null!=this.r&&(b.x+=this.r.f.q().x*this.r._zoomScale,b.y+=this.r.f.q().y*this.r._zoomScale,b.xd(1/this.r._zoomScale,1/this.r._zoomScale));return this.ha.sd(b)?(this.f.dispatchEvent(new a.p.Ra("mouseDown",{button:this,Yj:this.f})),null!=
this.Ep&&this.Ep(this),a.j.nb()&&(this.rd=!0),!0):!1},gk:function(b){b=b.ga();null!=this.r&&(b.x+=this.r.f.q().x*this.r._zoomScale,b.y+=this.r.f.q().y*this.r._zoomScale,b.xd(1/this.r._zoomScale,1/this.r._zoomScale));this.ha.sd(b)?(this.f.dispatchEvent(new a.p.Ra("mouseOver",{button:this,Yj:this.f})),this.rd||this.vd(b),this.rd=!0,this.f.dispatchEvent(new a.p.Ra("mouseMove",{button:this,Yj:this.f})),null!=this.Fp&&this.Fp(this)):this.rd&&!a.j.nb()&&(this.Td(b),this.rd=!1)},wd:function(b){b=b.ga();
null!=this.r&&(b.x+=this.r.f.q().x*this.r._zoomScale,b.y+=this.r.f.q().y*this.r._zoomScale,b.xd(1/this.r._zoomScale,1/this.r._zoomScale));this.ha.sd(b)&&(this.f.dispatchEvent(new a.p.Ra("mouseUp",{button:this,Yj:this.f})),null!=this.Hp&&this.Hp(this))},vd:function(b){b=b.ga();null!=this.r&&(b.x+=this.r.f.q().x*this.r._zoomScale,b.y+=this.r.f.q().y*this.r._zoomScale,b.xd(1/this.r._zoomScale,1/this.r._zoomScale));this.ep&&(a.e.ba.sp=!0,k.oa().body.style.cursor="pointer");this.f.dispatchEvent(new a.p.Ra("mouseOver",
{button:this,Yj:this.f}));null!=this.Hs&&this.Hs(this);this.rd=!0},Td:function(b){null!=b&&(b=b.ga(),null!=this.r&&(b.x+=this.r.f.q().x*this.r._zoomScale,b.y+=this.r.f.q().y*this.r._zoomScale,b.xd(1/this.r._zoomScale,1/this.r._zoomScale)),this.ep&&!a.e.ba.sp&&(k.oa().body.style.cursor="default"),this.f.dispatchEvent(new a.p.Ra("mouseOut",{button:this,Yj:this.f})),null!=this.Gp&&this.Gp(this),this.rd=!1)},kC:function(b){var e=!1;if(null!=b&&null!=b.touches){for(var d=b.touches.length,c=0;c<d;){var g=
c++,g=b.touches[g],h=a.j.instance.cu();this.ha.sd(new a.m((g.pageX-h.x)/a.j.instance.fb().x,(g.pageY-h.y)/a.j.instance.fb().y))&&(e=!0)}!e&&this.rd?this.Td(null):e&&!this.rd&&this.vd(null)}},tB:function(b,a){this.lc=b;this.Ze=a},ib:function(b,e){a.h.prototype.ib.call(this,b,e);if((!e||!e.xh)&&(this.f.ag()&&this.hb)&&!this.rg)switch(b){case "mouseClick":this.$q(e);break;case "mouseDown":this.Hb(e)&&this.op&&(e.xh=!0);break;case "mouseUp":this.wd(e);break;case "mouseMove":this.gk(e);break;case "verifyTouches":this.kC(e)}},
Dg:function(){a.h.prototype.Dg.call(this);this.rg=!0},rh:function(){a.h.prototype.rh.call(this);this.rd&&this.ep&&(k.oa().body.style.cursor="default")},wb:function(){a.h.prototype.wb.call(this);var b=a.j.instance.Da("debug").Ha().getContext("2d");b.save();if(null!=a.e.Camera.ud()){var e=a.e.Camera.ud().f;b.translate(-e.q().x,-e.q().y)}b.beginPath();b.lineWidth=1;b.strokeStyle="#FF0000";b.moveTo(this.ha.u.x,this.ha.u.y);b.lineTo(this.ha.u.x+this.ha.M.x,this.ha.u.y);b.lineTo(this.ha.u.x+this.ha.M.x,
this.ha.u.y+this.ha.M.y);b.lineTo(this.ha.u.x,this.ha.u.y+this.ha.M.y);b.lineTo(this.ha.u.x,this.ha.u.y);b.stroke();b.restore()},D:function(){a.h.prototype.D.call(this);this.rd&&this.Td(null)},l:a.e.ba});a.e.Camera=function(b){this.va=null;this._zoomScale=1;this.ra=this.tb=this.sn=null;a.h.call(this,b,"Camera");this.va=new a.m;this.wg=a.j.instance.Rb().x;this.vg=a.j.instance.Rb().y;null==a.e.Camera.Em&&(a.e.Camera.Em=this)};a.e.Camera.k=!0;a.e.Camera.ud=function(){return a.e.Camera.Em};a.e.Camera.C=
a.h;a.e.Camera.prototype=m(a.h.prototype,{Bi:y("ra"),Nl:function(b){null!=this.ra&&this.ra.removeEventListener("destroy",l(this,this.Il));this.ra=b;null!=this.ra&&this.ra.addEventListener("destroy",l(this,this.Il))},Zb:s("va"),Za:y("va"),tJ:y("_zoomScale"),QB:s("_zoomScale"),cI:function(){return new a.m(this.wg,this.vg)},DB:function(b,a){this.wg=b;this.vg=a},s:function(){a.h.prototype.s.call(this);this.sn=this.Fl(a.e.Ph)},OI:y("sn"),KJ:function(){null!=this.ra&&this.f.setPosition(this.ra.q().x-this.wg/
this._zoomScale/2+this.va.x/this._zoomScale,this.ra.q().y-this.vg/this._zoomScale/2+this.va.y/this._zoomScale,this.f.q().z)},zc:function(){var b=this.f.q();return new a.Vector3D(b.x-this.wg/this._zoomScale/2,b.y-this.vg/this._zoomScale/2,b.z)},update:function(){a.h.prototype.update.call(this);null!=this.ra&&(null==this.sn?this.f.setPosition(this.ra.q().x-this.wg/this._zoomScale/2+this.va.x/this._zoomScale,this.ra.q().y-this.vg/this._zoomScale/2+this.va.y/this._zoomScale,this.f.q().z):this.sn.Nl(this.ra.q().x-
this.wg/this._zoomScale/2+this.va.x/this._zoomScale,this.ra.q().y-this.vg/this._zoomScale/2+this.va.y/this._zoomScale,this.f.q().z));this.eC()},eC:function(){if(null!=this.tb){var b=this.f.q().ga(),e=this.wg/2/this._zoomScale,d=this.vg/2/this._zoomScale,c=new a.m(b.x+e,b.y+d),g=!1;c.x-e<this.tb.u.x&&(c.x=this.tb.u.x+e,g=!0);c.y-d<this.tb.u.y&&(c.y=this.tb.u.y+d,g=!0);c.x+e>this.tb.u.x+this.tb.M.x&&(c.x=this.tb.u.x+this.tb.M.x-e,g=!0);c.y+d>this.tb.u.y+this.tb.M.y&&(c.y=this.tb.u.y+this.tb.M.y-d,g=
!0);b.x=c.x-e;b.y=c.y-d;g&&this.f.setPosition(b.x,b.y,b.z)}},zy:function(b,e){if(null!=this.tb){var d=new a.Vector3D(b,e),c=this.wg/2/this._zoomScale,g=this.vg/2/this._zoomScale,h=new a.m(b,e);h.x-c<this.tb.u.x&&(h.x=this.tb.u.x+c);h.y-g<this.tb.u.y&&(h.y=this.tb.u.y+g);h.x+c>this.tb.u.x+this.tb.M.x&&(h.x=this.tb.u.x+this.tb.M.x-c);d.y+g>this.tb.u.y+this.tb.M.y&&(h.y=this.tb.u.y+this.tb.M.y-g);b=h.x;e=h.y}return new a.m(b,e)},NG:y("tb"),MK:function(b,e,d,c){this.tb=new a.hd(b,e,d-b,c-e)},mJ:function(){var b=
this.f.q();return new a.hd(b.x,b.y,2*(this.wg/2/this._zoomScale),2*(this.vg/2/this._zoomScale))},eG:function(){this.tb=null},D:function(){a.h.prototype.D.call(this);a.e.Camera.Em==this&&(a.e.Camera.Em=null)},Il:function(){this.Nl(null)},l:a.e.Camera});a.e.Bd=function(b,e){this.va=this.Ap=this.Dp=this.Bp=null;a.h.call(this,b,"Collider");this.va=e};a.e.Bd.k=!0;a.e.Bd.C=a.h;a.e.Bd.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);a.g.pe.n().WA(this)},wq:C(null),sd:C(!1),update:function(){a.h.prototype.update.call(this)},
bg:function(b,e){a.g.pe.n().dispatchEvent(new a.p.ij("raycastCheck",b,e));return-1},wb:function(){a.h.prototype.wb.call(this)},nL:s("Ap"),oL:s("Bp"),pL:s("Dp"),XJ:function(b){this.hb&&null!=this.Ap&&this.Ap(b,this)},aK:function(b){this.hb&&null!=this.Dp&&this.Dp(b,this)},YJ:function(b){this.hb&&null!=this.Bp&&this.Bp(b,this)},qc:function(){a.h.prototype.qc.call(this);a.g.pe.n().Ru(this)},l:a.e.Bd});a.e.xk=function(b,a,d,c){null==c&&(c=!1);this.Xy=this.Tu=!1;this.Ii=b;this.fq=a;this.gr=d;this.Tu=c;
this.duration=b};a.e.xk.k=!0;a.e.xk.prototype={update:function(){this.Xy||(this.Ii-=a.j.Ac())},l:a.e.xk};a.e.Dd=function(b){a.h.call(this,b,"DeferredActionComponent");this.ce=[]};a.e.Dd.k=!0;a.e.Dd.C=a.h;a.e.Dd.prototype=m(a.h.prototype,{update:function(){a.h.prototype.update.call(this);for(var b=this.ce.length-1;0<=b;){var e=this.ce[b];e.update();0>=e.Ii&&(e.fq(e.gr),e.Tu?e.Ii=e.duration:u.remove(this.ce,e));b--}},nf:function(b,e,d){b=new a.e.xk(b,e,d);this.ce.push(b);return b},BK:function(b){u.remove(this.ce,
b)},mq:function(){this.ce=[]},l:a.e.Dd});a.e.pd=function(b,e,d,c,g){this.rg=this.gp=!1;this.Pp=!0;this.Nd=!1;a.h.call(this,b,"Draggable");this.lc=e;this.ha=new a.Cb.Ng;this.Ze=null!=d?d:new a.m;this.r=c;this.ae=g};a.e.pd.k=!0;a.e.pd.JB=function(){a.e.pd.Np=!1};a.e.pd.Pu=function(){a.e.pd.Np=!0};a.e.pd.C=a.h;a.e.pd.prototype=m(a.h.prototype,{UH:y("gp"),$u:s("gp"),s:function(){a.h.prototype.s.call(this);this.Ah()},update:function(){a.h.prototype.update.call(this);this.rg=!1;!1==this.f.ag()&&(this.rg=
!0);a.e.pd.Np&&this.wd(new a.m(this.f.q().x,this.f.q().y))},Tb:function(){a.h.prototype.Tb.call(this)},Dg:function(){a.h.prototype.Dg.call(this);this.rg=!0},Ah:function(){this.gp?(this.ha.u.x=this.f.q().x-this.lc.x/2,this.ha.u.y=this.f.q().y-this.lc.y/2,this.ha.M.x=Math.max(150,this.lc.x),this.ha.M.y=Math.max(150,this.lc.y)):(this.ha.u.x=this.f.q().x-this.lc.x*this.f.W().x/2,this.ha.u.y=this.f.q().y-this.lc.y*this.f.W().y/2,this.ha.M.x=Math.max(150,this.lc.x*this.f.W().x),this.ha.M.y=Math.max(150,
this.lc.y*this.f.W().y));null!=this.Ze&&(this.ha.u.x+=this.Ze.x,this.ha.u.y+=this.Ze.y)},vr:s("Pp"),AI:y("Pp"),sB:function(b){this.Ze=b.ga();this.Ah()},VB:function(b,e){null==e&&(e=0);null==b&&(b=0);this.f.q();this.cl=new a.Vector3D(b,e);this.Nd=!0;this.hn=this.f.q().ga();this.dispatchEvent(new a.e.eg("startDragging"))},Hb:function(b){b.ga();b=a.g.bb.n().Oc();null!=this.r&&(b.x+=this.r.f.q().x,b.y+=this.r.f.q().y);return this.ha.sd(b)?(this.Nd=!0,this.hn=this.f.q().ga(),this.cl=new a.Vector3D(this.f.q().x-
b.x,this.f.q().y-b.y),this.dispatchEvent(new a.e.eg("startDragging")),!0):!1},wd:function(b){b=b.ga();this.Nd&&(null!=this.r&&(b.x+=this.r.f.q().x,b.y+=this.r.f.q().y),a.j.instance.jb("droppedDraggable",{draggable:this,position:b}),this.Nd=!1,this.Pp&&this.f.setPosition(this.hn.x,this.hn.y,this.hn.z),this.dispatchEvent(new a.e.eg("stopDragging")));this.Ah()},gk:function(b){b=b.ga();if(this.Nd){var e=new a.Vector3D;null!=this.f.getParent()&&(e=this.f.getParent().q());this.f.Ka();if(null!=this.r){var d=
new a.m(this.r.f.q().x,this.r.f.q().y);b.x+=d.x;b.y+=d.y}null!=this.f.getParent()?(d=this.f.getParent().W(),this.f.setPosition((b.x+this.cl.x-e.x)/d.x,(b.y+this.cl.y-e.y)/d.y,this.f.q().z)):this.f.setPosition(b.x+this.cl.x-e.x,b.y+this.cl.y-e.y,this.f.q().z)}this.Ah()},ar:function(){this.Nd&&this.wd(null)},wb:function(){a.h.prototype.wb.call(this);var b=a.j.instance.Da("debug").Ha().getContext("2d");b.save();if(null!=a.e.Camera.ud()){var e=a.e.Camera.ud().f;b.translate(-e.q().x,-e.q().y)}b.beginPath();
b.lineWidth=1;b.strokeStyle="#FFFF00";b.moveTo(this.ha.u.x,this.ha.u.y);b.lineTo(this.ha.u.x+this.ha.M.x,this.ha.u.y);b.lineTo(this.ha.u.x+this.ha.M.x,this.ha.u.y+this.ha.M.y);b.lineTo(this.ha.u.x,this.ha.u.y+this.ha.M.y);b.lineTo(this.ha.u.x,this.ha.u.y);b.stroke();b.restore()},vH:y("Nd"),ib:function(b,e){a.h.prototype.ib.call(this,b,e);if((!e||!e.xh)&&(this.f.ag()&&this.hb)&&!this.rg)switch(b){case "mouseDown":this.Hb(e)&&(e.xh=!0);break;case "mouseUp":this.wd(e);break;case "mouseMove":this.gk(e);
break;case "mouseLeave":this.ar()}},l:a.e.pd});a.p.O=s("Qd");a.p.O.k=!0;a.p.O.prototype={getName:y("Qd"),l:a.p.O};a.e.eg=function(b){a.p.O.call(this,b)};a.e.eg.k=!0;a.e.eg.C=a.p.O;a.e.eg.prototype=m(a.p.O.prototype,{l:a.e.eg});a.e.Fh=function(b,e,d){this.$o=this.ap=!0;this.va=this.ra=null;a.h.call(this,b,"FollowEntity");this.Nl(e);this.va=null!=d?d:new a.Vector3D;this.uk()};a.e.Fh.k=!0;a.e.Fh.C=a.h;a.e.Fh.prototype=m(a.h.prototype,{Za:y("va"),Zb:s("va"),Bi:y("ra"),Nl:function(b){null!=this.ra&&this.ra.removeEventListener("destroy",
l(this,this.Il));this.ra=b;this.ra.addEventListener("destroy",l(this,this.Il))},EH:y("$o"),WK:s("$o"),FH:y("ap"),XK:s("ap"),update:function(){a.h.prototype.update.call(this);this.uk()},uk:function(){var b=this.ra.q();this.$o||(b.x=this.f.q().x);this.ap||(b.y=this.f.q().y);this.f.setPosition(b.x+this.va.x,b.y+this.va.y,b.z+this.va.z)},Il:n(),l:a.e.Fh});a.e.GameImage=function(b,e,d,c){this.fe=this._rotation=this.pc=this.qa=this.ea=this.Ya=this.$g=this.Wc=null;this._alpha=1;this.Ab=null;this.Ob="";a.h.call(this,
b,"GameImage");this.Ob=e;this.K=d;this.Wh=new a.m(1,1);this.Tf=new a.m;this.r=c;this.va=new a.m;this.w=new a.Vector3D(1,1,1);this.fe=new a.m;this._rotation=new a.Vector3D(0,0,0);this.Wc=null};a.e.GameImage.k=!0;a.e.GameImage.C=a.h;a.e.GameImage.prototype=m(a.h.prototype,{XG:y("Wc"),rB:function(b){1>b.M.x&&(b.M.x=1);1>b.M.y&&(b.M.y=1);this.Wc=b},Nn:y("r"),sf:s("r"),Tt:y("qa"),Ae:s("qa"),dd:y("_rotation"),yh:s("_rotation"),LB:s("pc"),Ei:function(b){a.g.N.Sd(b)&&""!=b&&(this.Ob=b,this.Ya=this.$f(),this.$g=
null)},$f:function(){return a.g.N.na(this.Ob)},Dy:y("fe"),wr:function(b,e){this.fe=new a.m(b,e)},xL:s("Ob"),Za:y("va"),Zb:function(b,e){this.va=new a.m(b,e)},S:function(){""!=this.Ob&&(this.$(),this.Zb(-this.Ya.width/2,-this.Ya.height/2))},sq:y("_alpha"),kb:s("_alpha"),yy:y("Tf"),IB:function(b,e){this.Tf=new a.m(b,e)},Xt:y("K"),Kg:function(b){this.K=b;this.ea=null},ke:y("Ob"),$:function(){if(null!=this.$g)return this.$g;null==this.Ya&&(this.Ya=this.$f());var b=this.f.W();return null!=this.pc?this.$g=
new a.m(this.pc.qa.M.x*Math.abs(b.x*this.w.x),this.pc.qa.M.y*Math.abs(b.y*this.w.y)):""==this.Ob?new a.m(0,0):this.$g=new a.m(this.Ya.width*Math.abs(b.x*this.w.x),this.Ya.height*Math.abs(b.y*this.w.y))},Cq:y("Ab"),Fi:s("Ab"),Y:function(b,e,d){null==d&&(d=1);null==e&&(e=1);null==b&&(b=1);this.w=new a.Vector3D(b,e,d)},W:y("w"),OG:y("Wh"),NK:s("Wh"),Kl:function(b){if(0!=this._alpha&&(""!=this.Ob||null!=this.pc)){var e=this.f,d=e.q(),c=1,g=new a.m(0,0),h=new a.m(1,1);null!=this.r&&(g=this.r.f,c=this.r._zoomScale,
g=g.q(),g=new a.m(-(g.x/this.Wh.x)*h.x,-(g.y/this.Wh.y)*h.y),g.xd(c,c));this.ea=b.getContext("2d");this.ea.save();null!=this.Ab&&(this.ea.scale(1,1),this.ea.translate(g.x/h.x*c,g.y/h.y*c),this.Ab(this.ea,this),this.ea.clip(),this.ea.scale(1/(1*a.j.instance.fb().x),1/(1*a.j.instance.fb().y)),this.ea.translate(-g.x*h.x*c,-g.y*h.y*c));b=e.W().ga();b.x*=this.w.x;b.y*=this.w.y;this.ea.setTransform(1,this.fe.x/b.x,this.fe.y/b.y,1,1*Math.floor(d.x*h.x*c+g.x),1*Math.floor(d.y*h.y*c+g.y));0!=e.dd().z+this._rotation.z&&
this.ea.rotate(e.dd().z+this._rotation.z);this.ea.scale(b.x*c,b.y*c);e=this.va.ga();null!=this.pc&&(e.x+=this.pc.Za().x,e.y+=this.pc.Za().y);this.ea.translate(1*Math.floor(e.x*h.x),1*Math.floor(e.y*h.y));this.ea.globalAlpha=this._alpha;this.ea.scale(1*h.x,1*h.y);if(null==this.pc&&null==this.qa)if(null==this.Ya&&(this.Ya=this.$f()),null==this.Wc)if(a.j.Mq())try{this.ea.drawImage(this.Ya,0,0)}catch(p){a.B.Ba.log("Error: Failed to draw "+this.Ob)}else this.ea.drawImage(this.Ya,0,0);else this.Wc.u.x=
Math.max(0,this.Wc.u.x),this.Wc.u.y=Math.max(0,this.Wc.u.y),this.Wc.M.x=Math.min(this.Wc.M.x,this.Ya.width),this.Wc.M.y=Math.min(this.Wc.M.y,this.Ya.height),this.ea.drawImage(this.Ya,this.Wc.u.x,this.Wc.u.y,this.Wc.M.x,this.Wc.M.y,0,0,this.Wc.M.x,this.Wc.M.y);else null==this.pc&&null!=this.qa?(null==this.Ya&&(this.Ya=a.g.N.na(this.Ob)),this.ea.drawImage(this.Ya,this.qa.u.x,this.qa.u.y,this.qa.M.x,this.qa.M.y,0,0,this.qa.M.x,this.qa.M.y)):(h=this.pc.qa,e=a.ab.Uc.n().Ai(this.pc.Tj),this.ea.drawImage(e.Ya,
h.u.x,h.u.y,h.M.x,h.M.y,0,0,h.M.x,h.M.y));this.K.qk(!0);this.ea.restore()}},Va:function(){a.h.prototype.Va.call(this);this.Kl(this.K.Ha())},yK:function(){a.h.prototype.Va.call(this);this.ea=this.K.Ha().getContext("2d");null!=this.Ab&&(this.Ab(this.ea,this),this.ea.clip());this.ea.scale(this.w.x,this.w.y);this.ea.rotate(this._rotation.z);if(null==this.pc&&null==this.qa)null==this.Ya&&(this.Ya=a.g.N.na(this.Ob));else if(null==this.pc&&null!=this.qa)null==this.Ya&&(this.Ya=a.g.N.na(this.Ob)),this.ea.drawImage(this.Ya,
Math.floor(this.qa.u.x),Math.floor(this.qa.u.y),Math.floor(this.qa.M.x),Math.floor(this.qa.M.y),this.va.x,this.va.y,Math.floor(this.qa.M.x)+2,Math.floor(this.qa.M.y)+2);else{var b=this.pc.qa,e=a.ab.Uc.n().Ai(this.pc.Tj);null==this.Ya&&(this.Ya=a.g.N.na(e.ke()));this.ea.drawImage(this.Ya,b.u.x,b.u.y,b.M.x,b.M.y,this.va.x,this.va.y,b.M.x,b.M.y)}this.ea.rotate(-this._rotation.z);this.ea.scale(1/this.w.x,this.w.y);this.K.qk(!0)},D:function(){a.h.prototype.D.call(this)},qc:function(){a.h.prototype.qc.call(this);
this.r=null},l:a.e.GameImage});a.e.Yd=function(b,e,d,c){this.fe=this._rotation=this.ea=null;this._alpha=1;this.de=null;this.tg=!0;this.Ab=null;this.cq=1;this.da=0;a.h.call(this,b,"GameSprite");this.ac=e;this.Wh=new a.m(1,1);this.K=d;this.Tf=new a.m;this.va=new a.m;this.r=c;this.w=new a.Vector3D(1,1,1);this.fe=new a.m;this._rotation=new a.Vector3D(0,0,0)};a.e.Yd.k=!0;a.e.Yd.C=a.h;a.e.Yd.prototype=m(a.h.prototype,{Nn:y("r"),sf:s("r"),IB:s("Tf"),yy:y("Tf"),Za:y("va"),Zb:function(b,a){this.va.x=b;this.va.y=
a},fJ:y("cq"),BL:s("cq"),Xt:y("K"),Kg:s("K"),Cq:y("Ab"),Fi:s("Ab"),update:function(){a.h.prototype.update.call(this);if(this.tg){var b=a.g.zd.n().Mn(this.ac);this.da+=a.j.Ac()*this.cq;this.da>=b.Nc()&&(b.ff?this.da-=b.Nc():(this.da=b.Nc(),this.stop()),null!=this.de&&(b=this.de,this.de=null,b(this.f)))}},sq:y("_alpha"),kb:s("_alpha"),setPosition:s("da"),q:y("da"),jB:function(b,a,d){null==d&&(d=!1);if(this.ac!=b||d)this.da=0;this.ac=b;this.de=a;this.tg=!0},CG:y("ac"),$x:function(){var b=a.g.zd.n().Mn(this.ac);
return null==b?0:b.Lm},EG:function(){var b=a.g.zd.n().Mn(this.ac);return null==b?0:b.ii},play:function(){this.tg=!0},stop:function(){this.tg=!1},playing:y("tg"),GB:s("de"),vy:y("de"),Va:function(){a.h.prototype.Va.call(this);var b=this.f,e=b.q(),d=a.g.zd.n().Mn(this.ac);if(null!=d){var c=d.Fy(this.da),g=d.Hy(this.da),c=a.ab.Uc.n().Ai(g).Fq(c),h=1,p=new a.m(0,0),g=new a.m(1,1);this.K.Ha().getContext("2d");this.f.dd();this.f.W();null!=this.r&&(p=this.r.f,h=this.r._zoomScale,p=p.q(),p=new a.m(-(p.x/
this.Wh.x)*g.x,-(p.y/this.Wh.y)*g.y),p.xd(h,h));null==this.ea&&(this.ea=this.K.Ha().getContext("2d"));var t=b.W().ga();t.x*=this.w.x;t.y*=this.w.y;this.ea.save();null!=this.Ab&&(this.ea.translate(p.x/g.x*h,p.y/g.y*h),this.Ab(this.ea,this),this.ea.clip(),this.ea.translate(-p.x*g.x*h,-p.y*g.y*h));this.ea.setTransform(1,this.fe.x/t.x,this.fe.y/t.y,1,1*Math.floor(e.x*g.x*h+p.x),1*Math.floor(e.y*g.y*h+p.y));this.ea.rotate(b.dd().z+this._rotation.z);this.ea.scale(t.x*h,t.y*h);b=this.va.ga();null!=c&&(b.x+=
c.Za().x+d.Za().x,b.y+=c.Za().y+d.Za().y);this.ea.translate(1*Math.floor(b.x*g.x),1*Math.floor(b.y*g.y));this.ea.globalAlpha=this._alpha;this.ea.scale(1*g.x,1*g.y);d=c.qa;b=a.ab.Uc.n().Ai(c.Tj);this.ea.drawImage(b.Ya,d.u.x,d.u.y,d.M.x,d.M.y,0,0,d.M.x,d.M.y);this.K.qk(!0);this.ea.restore()}},l:a.e.Yd});a.e.gd=function(b,e,d,c){null==c&&(c="");null==d&&(d="");this.Hr=!1;this.kg="";this.Fb=null;this.Um=!0;a.h.call(this,b,"HtmlElements");this.hl=d;this.kg=c;this.K=e;this.lo()};a.e.gd.k=!0;a.e.gd.JL=function(b,
e){null==e&&(e=!0);var d=a.e.gd.vq(k.ka(),b);null!=d?d.style.display=e?"block":"none":a.B.Ba.log("Could not find element with id of "+b+" to "+(e?"show":"hide"))};a.e.gd.du=function(b){for(var e=q.Yb(b.style.top),d=q.Yb(b.style.left);;)if(null!=b.parentNode&&Object.prototype.hasOwnProperty.call(b.parentNode,"style")&&"layer"!=b.parentElement.className)e+=q.Yb(b.parentElement.style.top),d+=q.Yb(b.parentElement.style.left),b=b.parentElement;else break;return new a.m(d,e)};a.e.gd.UK=function(b,e){var d=
k.oa().getElementById(b);null==d?a.B.Ba.log("Could not find '"+b+"' on the page!"):d.innerHTML=e};a.e.gd.vq=function(b,e){for(var d=b.children.length,c=0;c<d;){var g=c++,g=b.children[g];if(g.id==e||g.hasChildNodes()&&(g=a.e.gd.vq(g,e),null!=g))return g}return null};a.e.gd.C=a.h;a.e.gd.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.f.addEventListener("displayUpdate",l(this,this.fk))},TG:function(b){return k.oa().getElementById(b)},OK:function(b,e){var d=a.e.gd.vq(this.Ut(),
b);null!=d&&(d.innerHTML=e);this.hl=this.Ut().innerHTML},Ut:function(){null==this.Fb&&this.Um&&this.lo();return this.Fb},update:function(){a.h.prototype.update.call(this);null!=this.Fb&&this.Um&&this.lo();null!=this.Fb&&this.Hr&&this.uk();this.Fb.style.display=this.f.ag()?"block":"none"},lo:function(){a.B.Ba.log("updateHtml");null!=this.Fb&&null!=this.Fb.parentNode&&this.Fb.parentNode.removeChild(this.Fb);this.Um=!1;this.Fb=k.oa().createElement("div");this.Fb.className=this.kg;this.Fb.innerHTML=this.hl;
this.Fb.style.position="absolute";this.Fb.style.webkitTransform="translate(0, 0px) scale("+this.f.W().x*a.j.instance.fb().x+","+this.f.W().y*a.j.instance.fb().y+")";this.Fb.style.transform="translate(0, 0px) scale("+this.f.W().x*a.j.instance.fb().x+","+this.f.W().y*a.j.instance.fb().y+")";this.K.ka().appendChild(this.Fb);this.uk()},uk:function(){this.Fb.style.left=this.f.q().x*a.j.instance.fb().x-(this.Sr?this.Fb.clientWidth/2:0)+"px";this.Fb.style.top=this.f.q().y*a.j.instance.fb().y-(this.Sr?this.Fb.clientHeight/
2:0)+"px"},BB:function(b){null==this.Fb&&this.Um&&this.lo();this._id=b;this.Fb.id=b},zq:y("_id"),TH:y("hl"),aL:s("hl"),PK:s("kg"),VG:y("kg"),KF:function(b){this.kg=0<this.kg.length?this.kg+(" "+b):b},AK:function(b){this.kg=A.replace(this.kg,b,"")},zG:function(){this.hl=this.Fb.innerHTML},OF:function(b){null==b&&(b=!0);this.Sr=b;this.uk()},$:function(){return new a.m(this.Fb.clientWidth*a.j.instance.fb().y,this.Fb.clientHeight*a.j.instance.fb().y)},D:function(){a.h.prototype.D.call(this);null!=this.Fb.parentNode&&
this.K.ka().removeChild(this.Fb)},ib:function(b,e){a.h.prototype.ib.call(this,b,e)},fk:n(),MF:function(b){null==b&&(b=!0);this.Hr=b},l:a.e.gd});a.e.Nh=function(b,e,d,c,g,h,p,t,k){null==k&&(k=0);null==t&&(t=0);null==p&&(p=!1);this.Zp=1;this.cn=0;this.dp=!1;this.ki="";this.ra=null;this.lh=this.Ys=this.qm=this.xg=0;a.h.call(this,b,"PropertySineWave");this.qm=c;this.xg=g;this.Ys=h;this.ki=d;this.ra=e;this.dp=p;this.lh=t;this.cn=k};a.e.Nh.k=!0;a.e.Nh.C=a.h;a.e.Nh.prototype=m(a.h.prototype,{RI:y("Zp"),
yr:s("Zp"),kI:y("xg"),fL:s("xg"),lI:y("cn"),gL:s("cn"),IG:y("qm"),LK:s("qm"),update:function(){a.h.prototype.update.call(this);0<this.xg&&(this.xg-=this.cn*a.j.Ac(),0>this.xg&&(this.xg=0),this.lh+=this.Ys*a.j.Ac(),this.lh>=(this.dp?Math.PI:2*Math.PI)&&(this.lh=this.dp?this.lh-Math.PI:this.lh-2*Math.PI),B.setProperty(this.ra,this.ki,this.qm+Math.sin(this.lh)*this.xg*this.Zp))},l:a.e.Nh});a.e.Ge=function(b,e){this.bc=this.Jk=this.fi=null;a.h.call(this,b,"SimpleMovement");this.bc=new a.Vector3D;this.Jk=
new a.Vector3D;null!=e&&(this.fi=e.ga())};a.e.Ge.k=!0;a.e.Ge.C=a.h;a.e.Ge.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this)},update:function(){a.h.prototype.update.call(this);null!=this.fi&&(this.bc.x+=this.fi.x*a.j.Ac(),this.bc.y+=this.fi.y*a.j.Ac(),this.bc.z+=this.fi.z*a.j.Ac());var b=this.bc.ga();b.xd(a.j.Ac());var e=this.Jk.ga();e.xd(a.j.Ac());var d=this.f.Ka(),c=this.f.qy();this.f.setPosition(d.x+b.x,d.y+b.y,d.z+b.z);this.f.yh(c.x+e.x,c.y+e.y,c.z+e.z)},rJ:function(b){return a.B.aa.Lt(b,
new a.m(this.bc.x,this.bc.y))},rh:function(){a.h.prototype.rh.call(this);this.bc.x=0;this.bc.y=0;this.bc.z=0},OH:function(){return this.fi.ga()},YK:function(b){this.fi=new a.Vector3D(b.x,b.y,b.z)},hu:y("bc"),LF:function(b,e,d){null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);this.bc=this.bc.add(new a.Vector3D(b,e,d))},zr:function(b,e,d){null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);this.bc=new a.Vector3D(b,e,d)},CL:function(b){this.bc.x=b},NB:function(b){this.bc.y=b},DL:function(b){this.bc.z=b},iJ:function(){return this.bc.x},
jJ:function(){return this.bc.y},kJ:function(){return this.bc.z},AG:y("Jk"),fo:s("Jk"),l:a.e.Ge});a.e.Ph=function(b,e){null==e&&(e=0.5);this.rn=1;this.un=null;a.h.call(this,b,"SlackMovement");this.rn=e};a.e.Ph.k=!0;a.e.Ph.C=a.h;a.e.Ph.prototype=m(a.h.prototype,{NI:y("rn"),wL:s("rn"),update:function(){a.h.prototype.update.call(this);if(null!=this.un){var b=this.un.$B(this.f.q()),e=b.Nc();0!=e&&(b=b.wh(),b.xd(e*this.rn),5E-5>b.x&&-5E-5<b.x&&(b.x=0),5E-5>b.y&&-5E-5<b.y&&(b.y=0),5E-5>b.z&&-5E-5<b.z&&(b.z=
0),e=this.f.q().ga(),this.f.setPosition(e.x+b.x,e.y+b.y,e.z+b.z))}},Bi:y("un"),Nl:function(b,e,d){this.un=new a.Vector3D(b,e,d)},l:a.e.Ph});a.e.Wa=function(b,e,d){this.kh=this.So=null;this.rs="";this.Ab=null;this._alpha=1;this.rt=-1;this.Oj=8;this.He=1024;this.vn="middle";this.ge="center";this.Im="white";this.bp="league_gothic";this.Pf="16pt";this.Xb="";a.h.call(this,b,"TextField");this.K=e;this.Tf=new a.m;this.r=d;null==a.e.Wa.cs&&(a.e.Wa.cs=k.Ua().getComputedStyle(k.oa().body));this.fe=new a.m(0,
0)};a.e.Wa.k=!0;a.e.Wa.C=a.h;a.e.Wa.prototype=m(a.h.prototype,{sq:y("_alpha"),kb:s("_alpha"),Dy:y("fe"),wr:s("fe"),Cq:y("Ab"),Fi:s("Ab"),Vt:function(){return this.Pf+" "+this.bp},GH:y("bp"),yd:s("bp"),IH:y("Pf"),Pc:function(b){this.Pf=b;this.ov()},fI:y("Oj"),dL:s("Oj"),BH:y("Im"),le:s("Im"),sy:y("He"),Lg:s("He"),pJ:y("rt"),FL:s("rt"),Iy:y("Xb"),pb:function(b){this.rs=this.Xb=b;this.ov()},YI:y("vn"),zL:s("vn"),pk:s("ge"),XI:y("ge"),$I:function(){var b=this.K.Ha().getContext("2d");b.font=this.Vt();
b.fillStyle=this.Im;b.textAlign=this.ge;b.textBaseline=this.vn;b.globalAlpha=this._alpha;for(var a=this.Xb.split("\n"),d=a.length,c=0,g=0;g<d;){for(var h=g++,p="",h=a[h].split(" "),t=this.Pf.substring(0,this.Pf.length-2),k=0,l=h.length;k<l;){var m=k++,p=p+h[m]+" ";b.measureText(p).width>this.He&&(p=h[m]+" ",c+=parseFloat(t)+parseFloat(this.Oj))}c+=parseFloat(t)+parseFloat(this.Oj)}return c},mC:function(b,a,d){for(var c=this.Xb.split("\\n"),g=c.length,h=0;h<g;){for(var p=h++,t="",p=c[p].split(" "),
k=this.Pf.substring(0,this.Pf.length-2),l=0,m=p.length;l<m;){var q=l++,r=t+p[q]+" ";d.measureText(r).width>this.He?(d.fillText(t,b,a),t=p[q]+" ",a+=parseFloat(k)+parseFloat(this.Oj)):t=r}d.fillText(t,b,a);a+=parseFloat(k)+parseFloat(this.Oj)}},Va:function(){a.h.prototype.Va.call(this);var b=this.K.Ha().getContext("2d"),e=this.f.q().ga(),d=this.f.dd().z,c=this.f.W();b.save();null!=this.Ab&&(b.scale(1,1),this.Ab(b,this),b.clip(),b.scale(1,1));if(null!=this.r){var g=this.r.f;b.translate(1*-g.q().x,1*
-g.q().y)}b.setTransform(1,a.B.aa.yc(this.fe.x),a.B.aa.yc(this.fe.y),1,1*(e.x+this.Tf.x),1*(e.y+this.Tf.y));b.rotate(d);b.translate(-(1*(e.x+this.Tf.x)*c.x),1*-((e.y+this.Tf.y)*c.y));b.scale(1*c.x,1*c.y);b.zJ=!0;b.font=this.Vt();b.fillStyle=this.Im;b.textAlign=this.ge;b.textBaseline=this.vn;b.globalAlpha=this._alpha;this.mC(e.x,e.y,b);this.K.qk(!0);b.restore()},ov:function(){var b;b=k.oa().createElement("div");b.innerHTML=this.rs;var e=r.parse(b.outerHTML);if(e.la("div").Sb()){e=e.la("div").next();
if(e.la("font").Sb()){var d=e.la("font").next();d.mb("size")&&(-1!=d.get("size").indexOf("px")?this.Pf=q.Yb(d.get("size"))+"px":this.Pf=q.Yb(d.get("size"))+"pt")}e.la("span").Sb()&&(e=e.la("span").next(),e.mb("class")||e.mb("id")||e.mb("style"))&&(null==this.kh&&(this.kh=k.oa().createElement("span"),this.kh.style.display="none",e.mb("id")&&(this.kh.id=e.get("id")),e.mb("class")&&(this.kh.className=e.get("class")),e.mb("style")&&(this.kh.style.cssText=e.get("style")),this.So=k.Ua().getComputedStyle(this.kh),
k.ka().appendChild(this.kh)),this.So.fontSize!=a.e.Wa.cs.fontSize&&(this.Pf=this.So.fontSize))}this.Xb=a.j.Mq()?b.textContent:b.innerText},l:a.e.Wa});a.e.ma=function(b){this.mf=null;a.h.call(this,b,"Tweener");this.mf=[]};a.e.ma.k=!0;a.e.ma.C=a.h;a.e.ma.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this)},gu:function(b){for(var a=this.mf.length,d=0;d<a;){var c=d++,c=this.mf[c];if(c.ki==b)return c}return null},I:function(b,e,d,c,g,h,p,t,k,l){null==l&&(l=!1);null==p&&(p=0);b=new a.e.A.mm(b,
e,d,c,g,h,p,t,k,l);this.mf.push(b);return b},SB:function(){for(var b=this.mf.length,a=0;a<b;){var d=a++;this.mf[d].lv()}},Px:function(b){u.remove(this.mf,b)},Zf:function(){this.mf=[]},update:function(){a.h.prototype.update.call(this);for(var b=this.mf.length-1;0<=b;){var e=this.mf[b];e.update(a.j.Ac());e.Tm&&this.mf.splice(b,1);b--}},l:a.e.ma});a.e.buttons={};a.e.buttons.Qc=function(b,e,d,c){this.bn=!1;this.Fc=!0;this.Xe=this.kl=this.Jd=null;this.Xo=0;a.h.call(this,b,"ButtonActionDelay");this.Xo=
d;this.Xe=e;this.kl=c};a.e.buttons.Qc.k=!0;a.e.buttons.Qc.yq=function(){return a.e.buttons.Qc.Vk};a.e.buttons.Qc.C=a.h;a.e.buttons.Qc.prototype=m(a.h.prototype,{XH:y("kl"),av:s("kl"),oI:y("Xe"),FB:s("Xe"),s:function(){a.h.prototype.s.call(this);this.Jd=new a.e.Dd(this.f);this.f.addEventListener("mouseUp",l(this,this.Hb))},Hb:function(){this.Fc&&!a.e.buttons.Qc.Vk&&(this.Fc=!1,this.bn=!0,null!=this.kl&&this.kl(),this.Jd.nf(this.Xo,l(this,this.$z)))},Tb:function(){a.h.prototype.update.call(this);this.bn&&
(a.e.buttons.Qc.Vk=!0);this.bn=!1},$z:function(){this.bn=a.e.buttons.Qc.Vk=!1;null!=this.Xe&&this.Xe();this.Fc=!0},D:function(){a.h.prototype.D.call(this);0<=this.Xo&&(a.e.buttons.Qc.Vk=!1)},l:a.e.buttons.Qc});a.e.buttons.dg=function(b,e,d,c,g){null==g&&(g=!0);this.Gr=!0;this.Lk=this.J=null;this.lp=!1;a.h.call(this,b,"ButtonMouseDownPulse");this.nn=e;this.on=d;this.mn=c;this.Gr=g;this.f.addEventListener("mouseDown",l(this,this.Hb))};a.e.buttons.dg.k=!0;a.e.buttons.dg.C=a.h;a.e.buttons.dg.prototype=
m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.Lk=this.Fl(a.e.buttons.wf);this.J=new a.e.ma(this.f)},Fg:function(){this.f.removeEventListener("mouseDown",l(this,this.Hb))},Gg:function(){this.f.addEventListener("mouseDown",l(this,this.Hb))},Hb:function(){if(!this.lp&&!a.e.buttons.Qc.yq()){var b=this.f.L(a.R.Ea);this.lp=!0;null!=this.Lk&&this.Lk.T(!1);null!=b?(this.J.I(b.w,"x",this.nn,this.on,this.mn,a.e.A.G.bd,0,l(this,this.Fu)),this.J.I(b.w,"y",this.nn,this.on,this.mn,a.e.A.G.bd,0)):
(this.J.I(this.f.w,"x",this.nn,this.on,this.mn,a.e.A.G.bd,0,l(this,this.Fu)),this.J.I(this.f.w,"y",this.nn,this.on,this.mn,a.e.A.G.bd,0))}},Fu:function(){this.Gr||(this.lp=!1,null!=this.Lk&&this.Lk.T(!0))},l:a.e.buttons.dg});a.e.buttons.ed=function(b,e,d){this.Ia=null;a.h.call(this,b,"ButtonMouseOverImage");this.ai=e;this.rp=d;this.f.addEventListener("mouseOver",l(this,this.vd));this.f.addEventListener("mouseOut",l(this,this.Td))};a.e.buttons.ed.k=!0;a.e.buttons.ed.C=a.h;a.e.buttons.ed.prototype=
m(a.h.prototype,{ke:function(){return this.Ia.ke()},Be:function(b){this.ai=b;this.mo(this.ai)},Ce:function(b){this.rp=b;this.mo(this.rp)},s:function(){a.h.prototype.s.call(this);this.Ia=this.Fl(a.e.GameImage);this.Ia.Ei(this.ai);this.Ia.S()},Fg:function(){this.f.removeEventListener("mouseOver",l(this,this.vd));this.f.removeEventListener("mouseOut",l(this,this.Td))},Gg:function(){this.f.addEventListener("mouseOver",l(this,this.vd));this.f.addEventListener("mouseOut",l(this,this.Td))},vd:function(){this.mo(this.rp)},
Td:function(){this.mo(this.ai)},mo:function(b){if(null==this.Ia&&(this.Ia=this.Fl(a.e.GameImage),null==this.Ia))return;this.Ia.ke()!=b&&(this.Ia.T(!0),this.Ia.Ei(b),this.Ia.S())},l:a.e.buttons.ed});a.e.buttons.wf=function(b,e,d,c,g){null==d&&(d=0.35);null==e&&(e=1.25);this.re=this.se=1;this.Mb=this.J=null;a.h.call(this,b,"ButtonMouseOverScale");this.pn=e;this.Jc=d;this.Qj=c;this.Pj=g;null==this.Qj&&(this.Qj=a.e.A.G.Qa);null==this.Pj&&(this.Pj=a.e.A.G.Qa);this.re=this.f.w.x;this.se=this.f.w.y;this.f.addEventListener("mouseOver",
l(this,this.vd));this.f.addEventListener("mouseOut",l(this,this.Td))};a.e.buttons.wf.k=!0;a.e.buttons.wf.C=a.h;a.e.buttons.wf.prototype=m(a.h.prototype,{ze:function(){a.h.prototype.ze.call(this);this.J.T(!1)},ye:function(){a.h.prototype.ye.call(this);this.J.T(!0)},s:function(){a.h.prototype.s.call(this);this.J=new a.e.ma(this.f);var b=this.f.L(a.R.Ea);null!=b&&(this.re=b.w.x,this.se=b.w.y)},Fg:function(){this.Td(null);this.f.removeEventListener("mouseOver",l(this,this.vd))},Gg:function(){this.f.addEventListener("mouseOver",
l(this,this.vd))},vd:function(){if(!a.j.nb()){var b=this.f.L(a.R.Ea);if(!a.e.buttons.Qc.yq())if(this.J.Zf(),null!=b){var e=b.w.y;this.J.I(b.w,"x",b.w.x,this.pn,this.Jc,this.Qj);this.J.I(b.w,"y",e,this.pn,this.Jc,this.Qj)}else b=this.f.w.y,this.J.I(this.f.w,"x",this.f.w.x,this.pn,this.Jc,this.Qj),this.J.I(this.f.w,"y",b,this.pn,this.Jc,this.Qj)}},Td:function(){if(!a.j.nb()&&null!=this.J){var b=this.f.L(a.R.Ea);this.J.Zf();if(null!=b){var e=b.w.y;this.J.I(b.w,"x",b.w.x,this.re,this.Jc,this.Pj);this.J.I(b.w,
"y",e,this.se,this.Jc,this.Pj)}else b=this.f.w.y,this.J.I(this.f.w,"x",this.f.w.x,this.re,this.Jc,this.Pj),this.J.I(this.f.w,"y",b,this.se,this.Jc,this.Pj)}},l:a.e.buttons.wf});a.e.buttons.Mi=function(b,e,d){a.h.call(this,b,"ButtonSoundPlay");this.jh=e;this.Gw=d};a.e.buttons.Mi.k=!0;a.e.buttons.Mi.C=a.h;a.e.buttons.Mi.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.f.addEventListener("mouseUp",l(this,this.Hb));this.f.addEventListener("mouseOver",l(this,this.vd))},Hb:function(){""!=
this.jh&&a.g.SoundManager.ob(this.jh)},vd:function(){""!=this.jh&&a.g.SoundManager.ob(this.Gw)},D:function(){a.h.prototype.D.call(this);this.f.removeEventListener("mouseDown",l(this,this.Hb))},l:a.e.buttons.Mi});a.e.td={};a.e.td.Li=function(b,e,d){a.e.Bd.call(this,b,d);this.ya=e};a.e.td.Li.k=!0;a.e.td.Li.C=a.e.Bd;a.e.td.Li.prototype=m(a.e.Bd.prototype,{update:function(){a.e.Bd.prototype.update.call(this);var b=this.f.q().ga(),e;e=null!=this.va?this.va:new a.Vector3D;this.ya.u.x=b.x-this.ya.M.x/2+
e.x*this.f.W().x;this.ya.u.y=b.y-this.ya.M.y/2+e.y*this.f.W().y},sd:function(b){return this.ya.sd(b)},bg:function(b,a,d,c,g){null==c&&(c=!1);return this.ya.bg(b,a,d,c,g)},wb:function(){a.e.Bd.prototype.wb.call(this);var b=a.j.instance.Da("debug").Ha().getContext("2d");b.save();if(null!=a.e.Camera.ud()){var e=a.e.Camera.ud().f,d=a.e.Camera.ud()._zoomScale;b.translate(-e.q().x*d,-e.q().y*d);b.scale(d,d)}b.beginPath();b.lineWidth=1;b.strokeStyle="#FF0000";b.moveTo(this.ya.u.x,this.ya.u.y);b.lineTo(this.ya.u.x+
this.ya.M.x,this.ya.u.y);b.lineTo(this.ya.u.x+this.ya.M.x,this.ya.u.y+this.ya.M.y);b.lineTo(this.ya.u.x,this.ya.u.y+this.ya.M.y);b.lineTo(this.ya.u.x,this.ya.u.y);b.stroke();b.restore()},wq:y("ya"),l:a.e.td.Li});a.e.td.Tg=function(b,e,d){a.e.Bd.call(this,b,d);this.ya=e};a.e.td.Tg.k=!0;a.e.td.Tg.C=a.e.Bd;a.e.td.Tg.prototype=m(a.e.Bd.prototype,{update:function(){a.e.Bd.prototype.update.call(this);var b=this.f.q().ga(),e;e=null!=this.va?this.va:new a.Vector3D;this.ya.u.x=b.x-this.ya.M.x/2+e.x*this.f.W().x;
this.ya.u.y=b.y-this.ya.M.y/2+e.y*this.f.W().y},sd:function(b){return this.ya.sd(b)},bg:function(b,a,d,c,g){null==c&&(c=!1);return this.ya.bg(b,a,d,c,g)},wb:function(){a.e.Bd.prototype.wb.call(this);var b=a.j.instance.Da("debug").Ha().getContext("2d");b.save();if(null!=a.e.Camera.ud()){var e=a.e.Camera.ud().f,c=a.e.Camera.ud()._zoomScale;b.translate(-e.q().x*c,-e.q().y*c);b.scale(c,c)}b.beginPath();b.lineWidth=1;b.strokeStyle="#FF0000";e=this.ya.md.length;for(c=0;c<e;){var f=c++;0==f?b.moveTo(this.ya.u.x+
this.ya.md[f].x,this.ya.u.y+this.ya.md[f].y):b.lineTo(this.ya.u.x+this.ya.md[f].x,this.ya.u.y+this.ya.md[f].y)}b.lineTo(this.ya.u.x+this.ya.md[0].x,this.ya.u.y+this.ya.md[0].y);b.stroke();b.restore()},wq:y("ya"),l:a.e.td.Tg});a.e.Lc={};a.e.Lc.Ki=function(b,a,c){this.da=this.Wp=0;this.da=b;this.Wp=a;this.Tj=c};a.e.Lc.Ki.k=!0;a.e.Lc.Ki.prototype={q:y("da"),l:a.e.Lc.Ki};a.e.A={};a.e.A.G=n();a.e.A.G.k=!0;a.e.A.G.Qa=function(b,a,c,f){return a+c*(b/f)};a.e.A.G.mG=function(b,a,c,f){b/=f;return c*b*b*b+a};
a.e.A.G.It=function(b,a,c,f){b/=f;b--;return c*(b*b*b+1)+a};a.e.A.G.ad=function(b,a,c,f){b/=f;return c*b*b+a};a.e.A.G.pf=function(b,a,c,f){b/=f;return-c*b*(b-2)+a};a.e.A.G.Ht=function(b,a,c,f){b/=f;return c*b*b*b*b*b+a};a.e.A.G.Db=function(b,a,c,f){b/=f;b--;return c*(b*b*b*b*b+1)+a};a.e.A.G.nG=function(b,a,c,f){b/=f;return 0.36363636363636365>b?c*7.5625*b*b+a:0.7272727272727273>b?c*(7.5625*(b-=0.5454545454545454)*b+0.75)+a:0.9090909090909091>b?c*(7.5625*(b-=0.8181818181818182)*b+0.9375)+a:c*(7.5625*
(b-=0.9545454545454546)*b+0.984375)+a};a.e.A.G.lG=function(b,a,c,f){return c*(b/=f)*b*(2.70158*b-1.70158)+a};a.e.A.G.bd=function(b,a,c,f){return c*((b=b/f-1)*b*(3.70158*b+2.70158)+1)+a};a.e.A.gg=function(b){a.h.call(this,b,"GroupFader");this.J=new a.e.ma(this.f)};a.e.A.gg.k=!0;a.e.A.gg.C=a.h;a.e.A.gg.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this)},th:function(b,e,c,f,g,h){null==h&&(h=0);this.J.SB();null==g&&(g=a.e.A.G.Qa);for(var p=this.f.Eb(a.e.GameImage),t=p.length,k=0;k<t;){var l=
k++;this.J.I(p[l],"_alpha",b,e,c,g,h,f)}p=this.f.Eb(a.e.Wa);t=p.length;for(k=0;k<t;)l=k++,this.J.I(p[l],"_alpha",b,e,c,g,h,f)},l:a.e.A.gg});a.e.A.mm=function(b,a,c,f,g,h,p,t,k,l){null==l&&(l=!1);this.ff=!1;this.kd=0;this.Tm=!1;this.Xe=this.Ms=null;this.Tr=this.Fm=0;this.ra=this.hs=null;this.ki="";this.Mo=this.Yk=this.Nf=0;this.ra=b;this.ki=a;this.Mo=c;this.Yk=f;this.Nf=g;this.hs=h;this.Fm=p;this.Xe=t;this.Ms=k;this.ff=l};a.e.A.mm.k=!0;a.e.A.mm.prototype={update:function(b){this.Tr=this.Yk-this.Mo;
this.kd+=b;this.kd<this.Fm||(!this.Tm&&this.fu()>=this.Nf&&(this.ff?this.kd-=this.Nf:(this.Tm=!0,this.kd=this.Nf+this.Fm),null!=this.Xe&&(b=this.Xe,this.Xe=null,b(this.Ms))),b=0,b=this.hs(this.fu(),this.Mo,this.Tr,this.Nf),B.setProperty(this.ra,this.ki,b))},lv:function(){B.setProperty(this.ra,this.ki,this.Yk);this.Tm=!0;this.kd=this.Nf},fu:function(){return Math.max(0,this.kd-this.Fm)},l:a.e.A.mm};a.je={};a.je.Xl=function(b){this.wp=0;this.wl=1;a.Z.call(this);this.K=b};a.je.Xl.k=!0;a.je.Xl.C=a.Z;
a.je.Xl.prototype=m(a.Z.prototype,{s:function(){a.Z.prototype.s.call(this);this.bs=new a.je.Pg(this.K);a.j.instance.Kc(this.bs)},update:function(){a.Z.prototype.update.call(this);this.wp++;this.wl-=a.j.au();0>=this.wl&&(this.bs.yB(this.wp),this.wp=0,this.wl+=1)},l:a.je.Xl});a.je.Pg=function(b){a.P.call(this);a.je.Pg.ca=this;this.K=b};a.je.Pg.k=!0;a.je.Pg.n=function(){return a.je.Pg.ca};a.je.Pg.C=a.P;a.je.Pg.prototype=m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);var b=this.t();b.setPosition(50,
50);this.ol=new a.e.Wa(b,this.K);this.ol.pb("");this.ol.le("#FF5555");this.ol.Pc("30pt");this.ol.pk("left");b=this.t();b.setPosition(50,100);this.pl=new a.e.Wa(b,this.K);this.pl.pb("");this.pl.le("#FF5555");this.pl.Pc("30pt");this.pl.pk("left")},yB:function(b){this.ol.pb(b+" FPS")},VK:function(b){this.pl.pb(b)},l:a.je.Pg});a.p.Ra=function(b,e){this.data=null;a.p.O.call(this,b);this.data=e};a.p.Ra.k=!0;a.p.Ra.C=a.p.O;a.p.Ra.prototype=m(a.p.O.prototype,{l:a.p.Ra});a.p.Zl=function(b,a){this.qq=b;this.action=
a};a.p.Zl.k=!0;a.p.Zl.prototype={l:a.p.Zl};a.p.Ee=function(b){a.p.O.call(this,b)};a.p.Ee.k=!0;a.p.Ee.C=a.p.O;a.p.Ee.prototype=m(a.p.O.prototype,{l:a.p.Ee});a.p.ij=function(b,e,c){this.start=this.end=null;a.p.O.call(this,b);this.start=e;this.end=c};a.p.ij.k=!0;a.p.ij.C=a.p.O;a.p.ij.prototype=m(a.p.O.prototype,{l:a.p.ij});a.Lc={};a.Lc.FlashAnimation=function(b,e,c,f,g,h){this.Ts=0;this.de=this._parts=this._partInstances=this.r=null;this._alpha=1;this.ft=null;this.ac="";this.bf=null;this.Vm=this.tg=
!0;this.ns=0;this.Ww=1;this.da=0;this._animation=null;a.h.call(this,b,"FlashAnimation");this._animation=JSON.parse(a.g.N.na(e));this.ac=f;this.bf=[];this._parts=this._animation.parts;this._partInstances=this._animation.part_instances;this.K=g;this.r=h;this.ft=a.ab.Uc.n().Ai(c)};a.Lc.FlashAnimation.k=!0;a.Lc.FlashAnimation.C=a.h;a.Lc.FlashAnimation.prototype=m(a.h.prototype,{vy:y("de"),GB:s("de"),Nn:y("r"),sf:s("r"),s:function(){a.h.prototype.s.call(this);this.ns=this._animation.framerate;this.generateEntitiesForFrame(this.ac,
0)},DG:function(){return this.Jq(this.ac)?this.da/(this.tq()-1):0},KK:function(b){this.da=(this.tq()-1)*b},tq:function(){return this.Jq(this.ac)?this._animation.animations[this.ac].frames.length:0},Jq:function(b){return null!=this._animation.animations[b]&&void 0!=this._animation.animations[b]},sq:y("_alpha"),kb:function(b){this._alpha=b;this.generateEntitiesForFrame(this.ac,Math.floor(this.da))},eL:s("Vm"),iI:y("Vm"),jH:y("ac"),jB:function(b,a,c){null==c&&(c=!1);null==a&&(a=!0);if(this.ac!=b||c)this.Vm=
a,this.ac=b,this.da=0,this.tg=!0,this.generateEntitiesForFrame(this.ac,0)},update:function(){a.h.prototype.update.call(this);if(""==this.f.getName())throw"Please name all entities (uniquely by entity 'type') that use the FlashAnimation component!";if(this.tg){this.da+=a.j.Ac()*this.ns*this.Ww;var b=this.tq()-1;if(this.da>b)if(this.Vm)this.da-=b,null!=this.de&&this.de();else{this.da=b-1;this.tg=!1;null!=this.de&&(b=this.de,this.de=null,b());if(this.sw){this.f.D();return}if(this.uw){this.D();return}}if(null!=
this.r){var b=this.f.q(),e=this.r.f.q();e.x+=a.j.instance.Rb().x/2;e.y+=a.j.instance.Rb().y/2;if(1500<(new a.Vector3D(e.x-b.x,e.y-b.y)).Nc())return}this.generateEntitiesForFrame(this.ac,Math.floor(this.da))}},nq:function(b){null==b&&(b=!1);if(null!=this.bf){for(var e=this.bf.length,c=0;c<e;){var f=c++;b&&this.bf[f].D()}a.B.vf.clear(this.bf)}},xy:function(b){return this._parts[this.$t(b)]},$t:function(b){return this._partInstances[b]},yG:function(){this.generateEntitiesForFrame(this.ac,Math.floor(this.da))},
generateEntitiesForFrame:function(b,e){if(this.Jq(b)){var c=this._animation.animations[b].frames[e];if(null!=c){var f=this.f,g=this.f.getName()+"_"+b+"_"+e;if(!a.Lc.FlashAnimation.um.mb(g)){this.nq();for(var h=[],p=c.instances.length,t=0;t<p;){var k=t++,l=c.instances[k],k=l.i,m=this.xy(k),q=this.$t(k),r;r=null!=l.x?l.x:0;var u;u=null!=l.y?l.y:0;var v;v=null!=l.a?l.a:1;var k=null!=l.b?l.b:0,w;w=null!=l.c?l.c:0;var A;A=null!=l.d?l.d:1;var l=null!=l.o?l.o:1,B=m.regx,m=m.regy,z=new a.Ef;z.Ll(null);z.setPosition(r,
u,0);z.Y(v,A);z.bv(!1);r=this.ft.Gy(q+".png");q=new a.e.GameImage(z,"",this.K,this.r);q.LB(r);r=r.qa;q.Zb(r.M.x*-B,r.M.y*-m);f.W();z.setProperty("sX",k);z.setProperty("sY",w);z.setProperty("alpha",l);q.wr(w,k);q.kb(l*this._alpha);f.H(z);this.bf.push(z);h.push(z)}a.Lc.FlashAnimation.um.set(g,h)}}}},aB:function(){a.h.prototype.Va.call(this);var b=this.f.getName()+"_"+this.ac+"_"+Math.floor(this.da);if(null!=this.bf){if(null!=this.r){var e=this.f.q(),c=this.r.f.q();c.x+=a.j.instance.Rb().x/2;c.y+=a.j.instance.Rb().y/
2;if(1500<(new a.Vector3D(c.x-e.x,c.y-e.y)).Nc())return}if(a.Lc.FlashAnimation.um.mb(b)){if(Math.floor(this.da)!=this.Ts)for(this.nq(),b=a.Lc.FlashAnimation.um.get(b),e=b.length,c=0;c<e;){var f=c++,f=b[f];f.Ll(null);this.bf.push(f)}b=this.bf.length;for(e=0;e<b;){c=e++;c=this.bf[c];this.f.H(c);var f=c.L(a.e.GameImage),g=c.za("sX"),h=c.za("sY"),p=c.za("alpha"),t=this.f.W();c.Ll(this.v());f.kb(this._alpha*p);f.wr(g*t.y,h*t.x);f.qr(c);f.sf(this.r);c.Va();f.qr(null);f.sf(null);c.Ll(null);c.getParent().removeChild(c)}}}},
Tb:function(){a.h.prototype.Tb.call(this);this.Ts=Math.floor(this.da)},TK:s("uw"),SK:s("sw"),Va:function(){a.h.prototype.Va.call(this);this.aB()},D:function(){a.h.prototype.D.call(this);this.nq(!1);this.bf=null},l:a.Lc.FlashAnimation});a.font={};a.font.$l=function(b,e,c){this.pg=this.Dj=this.xm=this.Zm=null;this.Qd=b;this.Ob=c;b=r.parse(a.g.N.na(e));this.xm=[];this.Zm=[];this.NA(b)};a.font.$l.k=!0;a.font.$l.prototype={getName:y("Qd"),nk:s("Qd"),ke:y("Ob"),NA:function(b){var e=b.la("font").next().la("info").next(),
c=new a.font.cm;c.bx="1"==e.get("aa");c.bold="1"==e.get("bold");c.charset=e.get("charset");c.face=e.get("face");c.Zy="1"==e.get("italic");c.outline="1"==e.get("outline");var f=e.get("padding").split(",");c.paddingBottom=parseInt(f[0]);c.paddingLeft=parseInt(f[1]);c.paddingRight=parseInt(f[2]);c.paddingTop=parseInt(f[3]);c.size=parseInt(e.get("size"));c.TB="1"==e.get("smooth");f=e.get("spacing").split(",");c.Gi=parseInt(f[0]);c.Ar=parseInt(f[1]);c.YB=parseInt(e.get("stretchH"));c.bC="1"==e.get("unicode");
this.pg=c;e=b.la("font").next().la("common").next();c=new a.font.bm;c.kx=parseFloat(e.get("alphaChnl"));c.jq=parseInt(e.get("base"));c.VA=parseFloat(e.get("redChnl"));c.Py=parseFloat(e.get("greenChnl"));c.mx=parseFloat(e.get("blueChnl"));c.lineHeight=parseFloat(e.get("lineHeight"));c.LA="1"==e.get("packed");c.MA=1;c.eB=parseFloat(e.get("scaleH"));c.fB=parseFloat(e.get("scaleW"));this.Dj=c;for(e=b.la("font").next().la("chars").next().la("char");e.Sb();)c=e.next(),f=new a.font.am,f.id=parseInt(c.get("id")),
f.x=parseInt(c.get("x")),f.y=parseInt(c.get("y")),f.width=parseInt(c.get("width")),f.height=parseInt(c.get("height")),f.rv=parseInt(c.get("xoffset")),f.sv=parseInt(c.get("yoffset")),f.ro=parseInt(c.get("xadvance")),this.xm.push(f);if(b.la("font").next().la("kernings").Sb())for(b=b.la("font").next().la("kernings").next().la("kerning");b.Sb();)e=b.next(),c=new a.font.dm,c.Wx=parseInt(e.get("first")),c.hB=parseInt(e.get("second")),c.lx=parseInt(e.get("amount")),this.Zm.push(c)},Pt:function(b){for(var a=
this.xm.length,c=0;c<a;){var f=c++,f=this.xm[f];if(f.id==b)return f}return null},Bq:function(b,a){for(var c=this.Zm.length,f=0;f<c;){var g=f++,g=this.Zm[g];if(g.Wx==b&&g.hB==a)return g.lx}return 0},l:a.font.$l};a.font.am=function(){this.id=this.x=this.y=this.width=this.height=this.rv=this.sv=this.ro=0};a.font.am.k=!0;a.font.am.prototype={l:a.font.am};a.font.bm=function(){this.VA=this.Py=this.mx=0;this.kx=1;this.LA=0;this.MA=1;this.fB=this.eB=1024;this.jq=25;this.lineHeight=32};a.font.bm.k=!0;a.font.bm.prototype=
{l:a.font.bm};a.font.Zi=n();a.font.Zi.k=!0;a.font.Zi.VF=function(b,e,c,f){e=new a.font.$l(e,c,f);b.ZA(e);return e};a.font.Zi.WF=function(b,e,c,f){b=b.t();new a.font.$i(b,a.g.Tc.n().Wt(e),c,f);return b};a.font.Zi.XF=function(b,e,c,f){if("0"==a.ta.za("spriteFontReplace"))return null;b=b.t();(new a.font.$i(b,a.g.Tc.n().Wt(e),null,f)).bB(c);return b};a.font.Zi.prototype={l:a.font.Zi};a.font.cm=function(){this.paddingTop=this.paddingLeft=this.paddingRight=this.paddingBottom=this.Ar=this.Gi=this.outline=
1;this.TB=this.bx=!0;this.YB=100;this.bC=!0;this.charset="";this.bold=this.Zy=!1};a.font.cm.k=!0;a.font.cm.prototype={l:a.font.cm};a.font.dm=n();a.font.dm.k=!0;a.font.dm.prototype={l:a.font.dm};a.font.$i=function(b,e,c,f){this.Us=this.Vs="";this.bl=!1;this.ge="center";this.ql=this.ub=this.Lp=null;this.He=375;this.uc=null;a.h.call(this,b,"FontRender");this.uc=e;this.Xb="";this.K=c;this.r=f;this.ql=[]};a.font.$i.k=!0;a.font.$i.C=a.h;a.font.$i.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);
this.tu()},update:function(){a.h.prototype.update.call(this);null!=this.ub&&(this.pb(this.ub.innerHTML),"none"==this.ub.parentElement.style.display&&this.kr(),this.ub.style.left==this.Us&&this.ub.style.top==this.Vs||this.fk());this.Lp!=this.Xb&&this.fk();this.bl&&(this.bl=!1,this.kr(),this.tu())},Iy:y("Xb"),pb:function(b){this.Xb=b;this.Xb=A.replace(this.Xb,"&amp;","&");this.bl=!0},jL:function(b){this.Lp=this.Xb=b;this.bl=!0},tu:function(){this.kr();for(var b=this.Xb.length,e=new a.m(0,this.uc.Dj.jq),
c=[],f=0,g=!1,h=0;h<b;){var p=u.ph(this.Xb,h),t=u.ph(this.Xb,h+1);if("<br>"==this.Xb.substring(h,h+4)||"<br/>"==this.Xb.substring(h,h+5))e.x=0,e.y+=this.uc.Dj.lineHeight,h+=4,"center"==this.ge?this.Cn(c,f):"right"==this.ge&&this.co(c,f),f=0,c=[];else{g&&(e.x+this.Ly(this.Ky(h)+15)>this.He&&(e.x=0,e.y+=this.uc.Dj.lineHeight+this.uc.pg.Ar,"center"==this.ge?this.Cn(c,f):"right"==this.ge&&this.co(c,f),f=0,c=[]),g=!1);var k=this.f.v().t();k.bv(!1);this.f.H(k);k.setPosition(Math.ceil(e.x),Math.ceil(e.y));
var l=this.uc.Pt(p);if(null!=l){var m=new a.e.GameImage(k,this.uc.ke(),this.K,this.r);m.Zb(l.rv,Math.ceil(l.sv-this.uc.Dj.jq));m.Ae(new a.hd(l.x,l.y,l.width,l.height));e.x+=Math.ceil(l.ro+this.uc.pg.Gi);f+=Math.ceil(l.ro+this.uc.pg.Gi);c.push(k);h<b-1&&(e.x+=this.uc.Bq(p,u.ph(this.Xb,h+1))+this.uc.pg.Gi,f+=this.uc.Bq(p,u.ph(this.Xb,h+1))+this.uc.pg.Gi);32!=t&&e.x+15>this.He&&(e.x=0,e.y+=this.uc.Dj.lineHeight+this.uc.pg.Ar,"center"==this.ge?this.Cn(c,f):"right"==this.ge&&this.co(c,f),f=0,c=[]);32==
p&&(g=!0)}this.ql.push(k);h++}}"center"==this.ge?this.Cn(c,f):"right"==this.ge&&this.co(c,f);this.Lp=this.Xb},Cn:function(b,a){for(var c=this.He/2,f=b.length,g=0;g<f;){var h=g++,h=b[h];h.setPosition(c-a/2+h.Ka().x,h.Ka().y,h.Ka().z)}},co:function(b,a){for(var c=this.He,f=b.length,g=0;g<f;){var h=g++,h=b[h];h.setPosition(c-a+h.Ka().x,h.Ka().y,h.Ka().z)}},Ky:function(b){for(var a=this.Xb.split(" "),c=0,f=0,g=0;g<b;)g++,c++,c>a[f].length&&(c=0,f++);return a[f]},Ly:function(b){for(var a=0,c=b.length,
f=0;f<c;){var g=f++,h=u.ph(b,g),p=this.uc.Pt(h);null!=p&&(a+=p.ro+this.uc.pg.Gi,g<c-1&&(a+=this.uc.Bq(h,u.ph(b,g+1))+this.uc.pg.Gi))}return a},kr:function(){for(var b=this.ql.length,a=0;a<b;){var c=a++;this.ql[c].D()}this.ql=[]},Va:function(){a.h.prototype.Va.call(this)},bB:function(b,e){null==e&&(e=!0);if(a.g.Tc.n().iy(b))e&&this.f.D();else{null!=this.K&&a.j.instance.Su(this.K);var c=k.oa().getElementById(b);if(null==c)a.B.Ba.log("Could not find '"+b+"' on the page!");else{this.ub=c;a.g.Tc.n().YA(this.ub.id,
this);this.Xb=c.innerHTML;c.style.display="none";var f=new a.rb("temp",q.Yb(c.style.width),q.Yb(c.style.height)+q.Yb(c.style.top));this.K=f;this.K.ka().style.zIndex=c.style.zIndex;a.j.instance.Eg(f);this.ge=c.style.textAlign;this.fk()}}},fk:function(){if(null!=this.ub){this.K.ka().style.left=Math.ceil(q.Yb(this.ub.style.left))+"px";this.K.ka().style.top=Math.ceil(q.Yb(this.ub.style.top))+"px";null!=this.ub.style.webkitTransform?this.K.ka().style.webkitTransform=this.ub.style.webkitTransform:null!=
this.ub.style.transform&&(this.K.ka().style.transform=this.ub.style.transform);this.K.ka().style.width=q.Yb(this.ub.style.width)+"px";this.K.ka().style.height=q.Yb(this.ub.style.height)+q.Yb(this.ub.style.top)+"px";this.K.Ha().style.width=q.Yb(this.ub.style.width)+"px";this.K.Ha().style.height=q.Yb(this.ub.style.height)+q.Yb(this.ub.style.top)+"px";if("none"!=this.ub.style.transform&&null!=this.ub.style.transform&&("none"==this.K.ka().style.webkitTransform||null==this.K.ka().style.webkitTransform)){var b=
this.ub.style.transform.split(" ")[0].split(","),e=(new F("^\\D+","g")).replace(b[0],""),b=parseInt(b[1]);this.K.ka().style.left=parseInt(e)+"px";this.K.ka().style.top=b+"px"}this.K.Ha().width=parseInt(this.K.Ha().style.width);this.K.Ha().height=parseInt(this.K.Ha().style.height);this.f.Y(1/a.j.instance.fb().x,1/a.j.instance.fb().y);this.He=Math.ceil(q.Yb(this.ub.style.width));this.bl=!0;this.Us=this.ub.style.left;this.Vs=this.ub.style.top}},ib:function(b,e){a.h.prototype.ib.call(this,b,e);switch(b){case "onScreenScaleUpdated":this.fk()}},
D:function(){a.h.prototype.D.call(this);null!=this.K&&null!=this.ub&&a.j.instance.Su(this.K);null!=this.ub&&a.g.Tc.n().dC(this.ub.id)},Lg:s("He"),sy:y("He"),l:a.font.$i});a.$j={};a.$j.Bk=function(){this.yg=null;a.P.call(this)};a.$j.Bk.k=!0;a.$j.Bk.C=a.P;a.$j.Bk.prototype=m(a.P.prototype,{s:function(){a.P.prototype.s.call(this)},hk:function(b){a.j.nb()&&!a.j.instance.Un()?b&&0==a.ta.za("isLandscapeAllowedIPad")?this.io(1):b||0!=a.ta.za("isPortraitAllowedIPad")?this.Kq():this.io(0):a.j.nb()&&(b&&0==
a.ta.za("isLandscapeAllowedIPhone")?this.io(1):b||0!=a.ta.za("isPortraitAllowedIPhone")?this.Kq():this.io(0))},io:function(b){a.B.Ba.log("showOrientationScreen()");this.Kq(!1);a.j.instance.XB();a.g.bb.n().mk(!0);a.g.SoundManager.Ku();switch(b){case 0:this.yg=this.t();a.j.instance.Un()?new a.e.gd(this.yg,a.j.instance.Da("orientation"),a.g.N.na("iphoneLandscapeHtml")):new a.e.gd(this.yg,a.j.instance.Da("orientation"),a.g.N.na("ipadLandscapeHtml"));break;case 1:this.yg=this.t(),a.j.instance.Un()?new a.e.gd(this.yg,
a.j.instance.Da("orientation"),a.g.N.na("iphonePortraitHtml")):new a.e.gd(this.yg,a.j.instance.Da("orientation"),a.g.N.na("ipadPortraitHtml"))}},Kq:function(b){null==b&&(b=!0);a.B.Ba.log("hideOrientationScreen()");null!=this.yg&&(this.yg.D(),this.yg=null);b&&(a.j.instance.dB(),a.g.bb.n().mk(!1),a.g.SoundManager.Uu())},ib:function(b,e){a.P.prototype.ib.call(this,b,e);switch(b){case "onOrientationChanged":this.hk(e.Wy)}},l:a.$j.Bk});a.g={};a.g.Mg=function(){a.Z.call(this);a.g.Mg.ca=this};a.g.Mg.k=!0;
a.g.Mg.n=function(){return a.g.Mg.ca};a.g.Mg.C=a.Z;a.g.Mg.prototype=m(a.Z.prototype,{bI:y("yw"),aJ:y("Yw"),FI:y("Lw"),s:function(){var b=this;a.Z.prototype.s.call(this);k.Ua().addEventListener("deviceorientation",function(a){b.yz(a.alpha,a.gamma,a.beta)})},yz:function(b,a,c){this.yw=a;this.Yw=c;this.Lw=b},l:a.g.Mg});a.g.zd=function(){this.Jr=new v.nd.qd};a.g.zd.k=!0;a.g.zd.n=function(){null==a.g.zd.ca&&(a.g.zd.ca=new a.g.zd);return a.g.zd.ca};a.g.zd.prototype={Mn:function(b){return this.Jr.get(b)},
hr:function(b){var a=b.getName();this.Jr.set(a,b)},l:a.g.zd};a.g.N=n();a.g.N.k=!0;a.g.N.JA=function(){a.B.Ba.log(a.g.N.oh)};a.g.N.na=function(b){return a.g.N.oh.mb(b)?a.g.N.oh.get(b):(a.B.Ba.log(b+" does not exist in asset list!"),null)};a.g.N.Sd=function(b){return a.g.N.oh.mb(b)};a.g.N.cC=function(b){a.g.N.oh.set(b,null);a.g.N.oh.remove(b)};a.g.N.jo=function(b){a.g.N.na(b).unload()};a.g.N.Ud=function(b,e,c){null==c&&(c=!0);a.g.N.oh.mb(b)&&!c||a.g.N.oh.set(b,e)};a.g.N.prototype={l:a.g.N};a.g.Cf=function(){a.Z.call(this);
a.g.Cf.ca=this};a.g.Cf.k=!0;a.g.Cf.n=function(){return a.g.Cf.ca};a.g.Cf.C=a.Z;a.g.Cf.prototype=m(a.Z.prototype,{update:function(){a.Z.prototype.update.call(this);"1"==a.ta.za("debugCheats")&&(a.g.bb.n().Hl(104)&&a.ta.setProperty("debugDraw","1"==a.ta.za("debugDraw")?"0":"1"),a.g.bb.n().Hl(101)&&this.dispatchEvent(new a.g.Te("beatLevel")),a.g.bb.n().Hl(102)&&this.dispatchEvent(new a.g.Te("failLevel")),a.g.bb.n().Hl(100)&&c.X.n().Ie.setItem("tutorialComplete",!1))},D:function(){a.Z.prototype.D.call(this);
a.g.Cf.ca=null},l:a.g.Cf});a.g.Te=function(b){a.p.O.call(this,b)};a.g.Te.k=!0;a.g.Te.C=a.p.O;a.g.Te.prototype=m(a.p.O.prototype,{l:a.g.Te});a.g.Tc=function(){this.di=null;a.Z.call(this);this.di=[];a.g.Tc.ca=this};a.g.Tc.k=!0;a.g.Tc.n=function(){return a.g.Tc.ca};a.g.Tc.C=a.Z;a.g.Tc.prototype=m(a.Z.prototype,{ZA:function(b){this.ly(b)||this.di.push(b)},YL:function(b){u.remove(this.di,b)},ly:function(b){for(var a=this.di.length,c=0;c<a;){var f=c++;if(b==this.di[f])return!0}return!1},YA:function(b,e){a.g.Tc.Hm.set(b,
e)},HH:function(b){return a.g.Tc.Hm.get(b)},iy:function(b){return a.g.Tc.Hm.mb(b)},dC:function(b){a.g.Tc.Hm.remove(b)},Wt:function(b){for(var a=this.di.length,c=0;c<a;){var f=c++,f=this.di[f];if(f.getName()==b)return f}return null},l:a.g.Tc});a.g.bb=function(){this.Kj=this.Lj=null;this.ef=this.ml=!1;this.Gc=null;a.Z.call(this);a.g.bb.ca=this;this.Gc=new a.m(0,0);this.Kj=[];this.Lj=[];for(var b=0;255>b;)b++,this.Kj.push(!1),this.Lj.push(!1)};a.g.bb.k=!0;a.g.bb.n=function(){return a.g.bb.ca};a.g.bb.C=
a.Z;a.g.bb.prototype=m(a.Z.prototype,{s:function(){a.Z.prototype.s.call(this);k.Ua().addEventListener("mousemove",l(this,this.gk));k.Ua().addEventListener("mousedown",l(this,this.Hb));k.Ua().addEventListener("mouseup",l(this,this.wd));k.Ua().addEventListener("mouseleave",l(this,this.ar));k.Ua().addEventListener("mouseout",l(this,this.Td));k.oa().addEventListener("keydown",l(this,this.Sz));k.oa().addEventListener("keyup",l(this,this.Uz));k.oa().addEventListener("keypress",l(this,this.Tz));k.Ua().addEventListener("click",
l(this,this.$q));document.addEventListener("touchstart",l(this,this.Hb));document.addEventListener("touchend",l(this,this.wd));document.addEventListener("touchmove",l(this,this.gk))},update:function(){a.Z.prototype.update.call(this)},Tb:function(){a.Z.prototype.Tb.call(this);for(var b=this.Lj.length,e=0;e<b;){var c=e++;this.Lj[c]=!1}a.e.ba.EB();a.e.pd.JB()},Oc:function(){var b=a.j.instance.cu();return new a.m((this.Gc.x-b.x)/a.j.instance.fb().x,(this.Gc.y-b.y)/a.j.instance.fb().y)},gk:function(b){if(!this.ef)if(a.j.nb()){for(var e=
b.changedTouches,c=e.length,f=0;f<c;){var g=f++,g=e[g],h=g.pageY-k.ka().offsetParent.offsetTop;this.Gc.x=g.pageX-k.ka().offsetParent.offsetLeft;this.Gc.y=h;a.j.instance.jb("mouseMove",this.Oc())}a.j.instance.jb("verifyTouches",b)}else e=b.pageY-k.ka().offsetParent.offsetTop,this.Gc.x=b.pageX-k.ka().offsetParent.offsetLeft,this.Gc.y=e,a.j.instance.jb("mouseMove",this.Oc())},Hb:function(b){a.j.instance.pu();if(!this.ef)if(a.j.nb()){this.ml=!0;b=b.changedTouches;for(var e=b.length,c=0;c<e;){var f=c++,
f=b[f],g=f.pageY-k.ka().offsetParent.offsetTop;this.Gc.x=f.pageX-k.ka().offsetParent.offsetLeft;this.Gc.y=g;a.j.instance.jb("mouseDown",this.Oc())}}else this.ml=!0,e=b.pageY-k.ka().offsetParent.offsetTop,this.Gc.x=b.pageX-k.ka().offsetParent.offsetLeft,this.Gc.y=e,a.j.instance.jb("mouseDown",this.Oc())},wd:function(b){if(!this.ef){if(a.j.nb())0==b.touches.length&&(this.ml=!1);else{this.ml=!1;var e;e=b.pageX-k.ka().offsetParent.offsetLeft;b=b.pageY-k.ka().offsetParent.offsetTop;this.Gc.x=e;this.Gc.y=
b}a.j.instance.jb("mouseUp",this.Oc())}},$q:function(b){if(!this.ef){var e=b.pageY-k.ka().offsetParent.offsetTop;this.Gc.x=b.pageX-k.ka().offsetParent.offsetLeft;this.Gc.y=e;a.j.instance.jb("mouseClick",this.Oc())}},ar:function(b){if(!this.ef){var e=b.pageY-k.ka().offsetParent.offsetTop;this.Gc.x=b.pageX-k.ka().offsetParent.offsetLeft;this.Gc.y=e;a.j.instance.jb("mouseLeave",this.Oc())}},Td:function(b){if(!this.ef){var e=b.pageY-k.ka().offsetParent.offsetTop;this.Gc.x=b.pageX-k.ka().offsetParent.offsetLeft;
this.Gc.y=e;a.j.instance.jb("mouseOut",this.Oc())}},Sz:function(b){b.stopPropagation();this.ef||this.Kj[b.keyCode]||(this.Kj[b.keyCode]=!0,this.Lj[b.keyCode]=!0,a.j.instance.jb("keyDown",b.keyCode))},Uz:function(b){this.ef||(this.Kj[b.keyCode]=!1,a.j.instance.jb("keyUp",b.keyCode))},Tz:function(b){b.stopPropagation();this.ef||a.j.instance.jb("keyPressed",b.keyCode)},Et:function(){document.onkeydown=function(b){b.preventDefault();return!1}},Sx:function(){document.onkeydown=null},VH:y("ef"),mk:s("ef"),
HJ:function(b){return this.Kj[b]},Hl:function(b){return this.Lj[b]},IJ:y("ml"),l:a.g.bb});a.g.gm=n();a.g.gm.k=!0;a.g.gm.prototype={l:a.g.gm};a.g.pe=function(){this.jd=this.Rj=null;a.Z.call(this);a.g.pe.ca=this;this.Rj=[];this.jd=[];this.addEventListener("raycastCheck",l(this,this.gA))};a.g.pe.k=!0;a.g.pe.n=function(){return a.g.pe.ca};a.g.pe.UF=function(b,e,c,f,g,h,p,k){null==k&&(k=!0);h=h.t();h.setPosition(b,e,c);c=new a.Cb.Ng;c.u=new a.m(b,e);c.M=new a.m(f,g);b=new a.e.td.Li(h,c,k?new a.Vector3D:
new a.Vector3D(0.5*c.M.x,0.5*c.M.y));if(null!=p)for(e=p.length,f=0;f<e;)g=f++,b.xt(p[g]);return h};a.g.pe.TF=function(b,c,d,f,g,h,p){null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);var k=new a.Cb.Ng;k.M=new a.m(c,d);b=new a.e.td.Li(b,k,new a.Vector3D(f,g,h));if(null!=p)for(c=p.length,d=0;d<c;)f=d++,b.xt(p[f]);return b};a.g.pe.C=a.Z;a.g.pe.prototype=m(a.Z.prototype,{update:function(){a.Z.prototype.update.call(this)},WA:function(b){for(var a=this.jd.length,c=0;c<a;){var f=c++;if(this.jd[f]==b)return}this.jd.push(b)},
Ru:function(b){for(var a=this.jd.length,c=0;c<a;){var f=c++;if(this.jd[f]==b){this.jd.splice(f,1);break}}},aH:y("jd"),bg:function(b,c,d,f,g){null==f&&(f=!0);for(var h=-1,p=null,k=null,l=0,m=0,q=this.jd.length,r=0;r<q;){var v=r++;m++;v=this.jd[v];if(!1!=v.hb){if(null!=g){for(var w=!1,z=g.length,A=0;A<z;){var B=A++;if(v.ou(g[B])){w=!0;break}}if(!w)continue}l++;w=new a.m;if(f){if(z=new a.m,A=v.bg(b,c,w,f,z),-1==h&&0<A||0<A&&A<h)d.Ft=A,d.zt=v,d.At=w,k=d.Di=z,p=w,h=A,u.remove(this.jd,v),this.jd.unshift(v)}else if(z=
new a.m,A=v.bg(b,c,w,f,z),0<A){d.Ft=A;d.zt=v;d.At=w;k=d.Di=z;p=w;h=A;u.remove(this.jd,v);this.jd.unshift(v);break}}}this.Rj.push({start:b,end:c,Ry:p,Di:k});return h},wb:function(){a.Z.prototype.wb.call(this);for(var b=this.Rj.length,c=0;c<b;){var d=c++,f=this.Rj[d],g=f.start,h=f.end,d=f.Ry,p=a.j.instance.Da("debug").Ha().getContext("2d");p.save();if(null!=a.e.Camera.ud()){var k=a.e.Camera.ud().f,l=a.e.Camera.ud()._zoomScale;p.translate(-k.q().x*l,-k.q().y*l);p.scale(l,l)}null==d?(p.beginPath(),p.globalAlpha=
1,p.lineWidth=1,p.strokeStyle="#AAAAFF",p.moveTo(g.x,g.y),p.lineTo(h.x,h.y),p.stroke()):(p.beginPath(),p.globalAlpha=1,p.lineWidth=1,p.strokeStyle="#AAAAFF",p.moveTo(g.x,g.y),p.lineTo(d.x,d.y),p.stroke(),p.beginPath(),p.globalAlpha=1,p.lineWidth=1,p.strokeStyle="#FFFF00",p.moveTo(d.x,d.y),p.lineTo(h.x,h.y),p.stroke(),null!=f.Di&&(g=(new a.m(h.x-d.x,h.y-d.y)).Nc(),f=new a.m(d.x+f.Di.x*g,d.y+f.Di.y*g),p.beginPath(),p.globalAlpha=1,p.lineWidth=1,p.strokeStyle="#FF00FF",p.moveTo(d.x,d.y),p.lineTo(f.x,
f.y),p.stroke()));p.restore()}this.Rj=[]},dG:function(){for(var b=this.jd.length-1;0<=b;)this.Ru(this.jd[b]),b--;this.jd=[]},gA:function(b){this.Rj.push({start:b.start,end:b.end})},l:a.g.pe});a.g.SoundManager=n();a.g.SoundManager.k=!0;a.g.SoundManager.s=function(){if(a.j.nb())a.g.SoundManager.Uh=window.audioContextInstance,a.g.SoundManager.np=null!=window.audioContextInstance;else try{a.j.Yy()?a.g.SoundManager.ui=!1:soundManager.setup({url:"soundmanager2_flash9.swf",flashVersion:9,onready:a.g.SoundManager.zA,
ontimeout:a.g.SoundManager.AA,useHighPerformance:!0})}catch(b){if(w.Ad.dw(b))a.g.SoundManager.ui=!1;else throw b;}a.g.SoundManager.Hc=new a.B.Hk(null)};a.g.SoundManager.zA=function(){a.g.SoundManager.ui=!1};a.g.SoundManager.AA=function(){a.g.SoundManager.ui=!1};a.g.SoundManager.qK=function(){a.B.Ba.log("onSwfLoaded()")};a.g.SoundManager.Mt=function(){return a.g.SoundManager.Uh};a.g.SoundManager.bk=function(){return a.g.SoundManager.np&&!a.g.SoundManager.ui};a.g.SoundManager.bL=function(b){a.g.SoundManager.np=
b};a.g.SoundManager.we=function(){return a.g.SoundManager.up};a.g.SoundManager.Ml=function(b){a.g.SoundManager.up=b;a.g.SoundManager.tr(a.g.SoundManager.rl);a.g.SoundManager.bk()||(a.j.nb()&&b?a.g.SoundManager.Hc.get().pause():a.j.nb()&&!b&&a.g.SoundManager.Hc.get().play())};a.g.SoundManager.Ey=function(){return a.g.SoundManager.Up};a.g.SoundManager.xr=function(b){a.g.SoundManager.Up=b;a.g.SoundManager.iv(a.g.SoundManager.tn)};a.g.SoundManager.vh=function(){return a.g.SoundManager.ys};a.g.SoundManager.hL=
function(b){a.g.SoundManager.ys=b;a.g.SoundManager.tr(a.g.SoundManager.rl);a.g.SoundManager.iv(a.g.SoundManager.tn)};a.g.SoundManager.Pn=function(){return a.g.SoundManager.we()?0:a.g.SoundManager.rl};a.g.SoundManager.tr=function(b){a.g.SoundManager.rl=b;null!=a.g.SoundManager.Hc&&null!=a.g.SoundManager.Hc.get()&&a.g.SoundManager.Hc.get().setVolume(a.g.SoundManager.up?0:a.g.SoundManager.Pn()*a.g.SoundManager.vh())};a.g.SoundManager.Sn=function(){return a.g.SoundManager.Ey()?0:a.g.SoundManager.tn};
a.g.SoundManager.iv=function(b){a.g.SoundManager.tn=b;b=a.g.SoundManager.ue.length;for(var c=0;c<b;){var d=c++;a.g.SoundManager.ue[d].setVolume(a.g.SoundManager.Up?0:a.g.SoundManager.Sn()*a.g.SoundManager.vh())}};a.g.SoundManager.ob=function(b,c,d){null==d&&(d=!1);null==c&&(c=!1);if(!a.g.SoundManager.bk()&&a.j.nb()&&!c||!a.g.N.Sd(b))return null;b=a.g.SoundManager.bk()?new a.audio.wj(b,a.g.SoundManager.Sn()*a.g.SoundManager.vh(),d):a.g.SoundManager.Gq()?new a.audio.Yi(b,a.g.SoundManager.vh()*a.g.SoundManager.Sn(),
d):new a.audio.dj(b,a.g.SoundManager.vh()*a.g.SoundManager.Sn(),d);b.play();a.g.SoundManager.ue.push(b);return b};a.g.SoundManager.update=function(){for(var b=a.g.SoundManager.ue.length,c=0;c<b;){var d=c++,d=a.g.SoundManager.ue[d];null!=d&&d.update()}};a.g.SoundManager.er=function(b){a.g.SoundManager.Ig(b.currentTarget)};a.g.SoundManager.Ig=function(b){u.remove(a.g.SoundManager.ue,b)};a.g.SoundManager.Ku=function(){null!=a.g.SoundManager.Hc.get()&&a.g.SoundManager.Hc.get().pause();for(var b=a.g.SoundManager.ue.length,
c=0;c<b;){var d=c++;a.g.SoundManager.ue[d].pause()}};a.g.SoundManager.Uu=function(){for(var b=a.g.SoundManager.ue.length,c=[].concat(a.g.SoundManager.ue),d=0;d<b;){var f=d++;c[f].resume()}null!=a.g.SoundManager.Hc.get()&&a.g.SoundManager.Hc.get().resume()};a.g.SoundManager.QA=function(){a.j.nb()&&a.g.SoundManager.Lu(!0)};a.g.SoundManager.Lu=function(b){null==b&&(b=!0);if(!a.j.nb()||b)a.g.N.Sd("music_anything_is_possible")?(null!=a.g.SoundManager.Hc&&null!=a.g.SoundManager.Hc.get()&&a.g.SoundManager.Hc.get().stop(),
a.g.SoundManager.bk()?(b=new a.audio.wj("music_anything_is_possible",a.g.SoundManager.vh()*a.g.SoundManager.Pn(),!0),b.play(0),a.g.SoundManager.Hc.set(b)):a.g.SoundManager.ui?(b=new a.audio.Yi("music_anything_is_possible",a.g.SoundManager.Pn()*a.g.SoundManager.vh(),!0),b.play(),a.g.SoundManager.Hc.set(b)):(a.g.SoundManager.Hc.set(new a.audio.dj("music_anything_is_possible",a.g.SoundManager.vh()*a.g.SoundManager.Pn(),!0)),a.g.SoundManager.Hc.get().play()),a.g.SoundManager.tr(a.g.SoundManager.rl)):
a.B.Ba.log("music_anything_is_possible doesn't exist!")};a.g.SoundManager.PL=function(){null!=a.g.SoundManager.Hc&&null!=a.g.SoundManager.Hc.get()&&a.g.SoundManager.Hc.get().stop()};a.g.SoundManager.OL=function(){for(var b=a.g.SoundManager.ue.length-1;0<=b;){var c=a.g.SoundManager.ue[b];c.stop();a.g.SoundManager.Ig(c);b--}a.g.SoundManager.ue=[]};a.g.SoundManager.Gq=function(){return a.g.SoundManager.ui};a.g.SoundManager.DH=function(){return a.g.SoundManager.EF};a.g.SoundManager.prototype={l:a.g.SoundManager};
a.g.Yg=function(){this.ip=!1;this.Le=null;a.Z.call(this);a.g.Yg.ca=this};a.g.Yg.k=!0;a.g.Yg.n=function(){return a.g.Yg.ca};a.g.Yg.C=a.Z;a.g.Yg.prototype=m(a.Z.prototype,{RA:function(b,c,d,f){null==f&&(f=!1);null==d&&(d=!1);null==c&&(c=!1);if(!this.ip||c)this.Cr(),this.Le=a.g.SoundManager.ob(b,d,f),c&&(a.j.instance.ek(this.Le.Eq(),l(this,this.Jz)),this.ip=!0)},Jz:function(){this.ip=!1},Cr:function(){null!=this.Le&&(this.Le.stop(),this.Le=null)},l:a.g.Yg});a.Ub={};a.Ub.Gd=function(b,c,d){null==d&&(d=
!0);a.P.call(this);this.ww=b;this.Xw=c;this.tw=d};a.Ub.Gd.k=!0;a.Ub.Gd.C=a.P;a.Ub.Gd.prototype=m(a.P.prototype,{ik:function(){this.tw&&this.ww.D();a.j.instance.Kc(this.Xw);this.dispatchEvent(new a.Ub.Xg("midpoint"))},Jl:function(){this.D();this.dispatchEvent(new a.Ub.Xg("complete"))},l:a.Ub.Gd});a.Ub.Xg=function(b){a.p.O.call(this,b)};a.Ub.Xg.k=!0;a.Ub.Xg.C=a.p.O;a.Ub.Xg.prototype=m(a.p.O.prototype,{l:a.Ub.Xg});a.$a={};a.$a.Yl=function(b){this.UB=b;this.Kb=[]};a.$a.Yl.k=!0;a.$a.Yl.prototype={l:a.$a.Yl};
a.$a.Hf=function(b,c){null==c&&(c=!0);null==b&&(b=!0);this.Le=this.Vp=this.Am=null;a.Z.call(this);this.Vp=new a.$a.jm;this.qt=b;this.jt=c;this.Am=[];a.$a.Hf.ca=this};a.$a.Hf.k=!0;a.$a.Hf.n=function(){return a.$a.Hf.ca};a.$a.Hf.C=a.Z;a.$a.Hf.prototype=m(a.Z.prototype,{nJ:y("qt"),EL:s("qt"),UI:y("jt"),yL:s("jt"),s:function(){a.Z.prototype.s.call(this)},setup:function(){this.PA()},PA:function(){for(var b=r.parse(a.g.N.na("speechMap")).la("speech_map").next().la("dialogue");b.Sb();){for(var c=b.next(),
d=new a.$a.Yl(c.get("soundName")),c=c.la("subtitle");c.Sb();){var f=c.next(),g=new a.$a.lm(f.get("stringId"),q.wa(f.get("time")),q.wa(f.get("duration")));a.B.Ba.log(q.wa(f.get("duration")));d.Kb.push(g)}this.Vp.Kn.push(d)}},Cr:function(){null!=this.Le&&(this.Le.stop(),this.Le=null)},RA:function(b){var c=this;null!=this.Le&&this.Cr();if("0"==a.ta.za("speechMode")||"2"==a.ta.za("speechMode"))this.Le=a.g.SoundManager.ob(b);if("1"==a.ta.za("speechMode")||"2"==a.ta.za("speechMode")){var d=this.Vp.hy(b);
if(null!=d){for(;0<this.Am.length;)b=this.Am.pop(),a.j.instance.Ox(b);b=d.Kb.length;for(var f=0;f<b;){var g=f++,g=[d.Kb[g]];this.Am.push(a.j.instance.ek(g[0].time,function(b){return function(){c.Qx(b[0])}}(g)))}}else a.B.Ba.log("WARNING: '"+b+"' has no subtitles.")}return this.Le},Qx:function(b){a.B.Ba.log(a.Ma.Gb(b.nv));this.dispatchEvent(new a.$a.sj("showSubtitle",b.duration,a.Ma.Gb(b.nv)))},l:a.$a.Hf});a.$a.jm=function(){this.Kn=[]};a.$a.jm.k=!0;a.$a.jm.prototype={hy:function(b){for(var a=this.Kn.length,
c=0;c<a;){var f=c++;if(this.Kn[f].UB==b)return this.Kn[f]}return null},l:a.$a.jm};a.$a.lm=function(b,a,c){this.nv=b;this.time=a;this.duration=c};a.$a.lm.k=!0;a.$a.lm.prototype={l:a.$a.lm};a.$a.sj=function(b,c,d){this.Nf=0;a.p.O.call(this,b);this.Nf=c;this.it=d};a.$a.sj.k=!0;a.$a.sj.C=a.p.O;a.$a.sj.prototype=m(a.p.O.prototype,{wH:y("Nf"),TI:y("it"),l:a.$a.sj});a.ab={};a.ab.Fk=function(b,c,d,f){this.Qd=b;this.qa=c.ga();this.Tj=d;this.va=null==f||Math.uu(f.x)&&Math.uu(f.y)?new a.m:new a.m(f.x,f.y)};
a.ab.Fk.k=!0;a.ab.Fk.prototype={Tt:y("qa"),Zb:function(b,a){this.va.x=b;this.va.y=a},Za:y("va"),getName:y("Qd"),l:a.ab.Fk};a.ab.Rh=function(b,c){this.Ya=null;this.pc=[];this.et=new v.nd.qd;this.Qd=b;null==c?this.Ob=b:(this.Ob=c,this.Ya=a.g.N.na(this.Ob))};a.ab.Rh.k=!0;a.ab.Rh.Ju=function(b,c,d){d=r.parse(d);c=new a.ab.Rh(b,c);for(d=d.la("TextureAtlas").next().la("sprite");d.Sb();){var f=d.next(),f=new a.ab.Fk(f.get("n"),new a.hd(f.get("x"),f.get("y"),f.get("w"),f.get("h")),b,new a.m(q.wa(f.get("oX")),
q.wa(f.get("oY"))));c.wt(f)}a.ab.Uc.n().Ou(c);return c};a.ab.Rh.prototype={getName:y("Qd"),ke:y("Ob"),wt:function(b){this.pc.push(b);var a=b.getName();this.et.set(a,b)},Fq:function(b){return this.pc[b]},Gy:function(b){return this.et.get(b)},l:a.ab.Rh};a.ab.Uc=function(){this.gt=new v.nd.qd};a.ab.Uc.k=!0;a.ab.Uc.n=function(){null==a.ab.Uc.ca&&(a.ab.Uc.ca=new a.ab.Uc);return a.ab.Uc.ca};a.ab.Uc.bG=function(b,c,d,f,g){var h=a.g.N.na(b),p=Math.floor(h.width/d),h=Math.floor(h.height/f);c=new a.ab.Rh(b,
c);for(var k=0;k<h;)for(var l=k++,m=0;m<p;){var q=m++,q=new a.ab.Fk(b+q+"-"+l,new a.hd(q*d,l*f,d,f),b,g);c.wt(q)}a.ab.Uc.n().Ou(c)};a.ab.Uc.prototype={Ai:function(b){return this.gt.get(b)},Ou:function(b){var a=b.getName();this.gt.set(a,b)},l:a.ab.Uc};a.Ql={};a.Ql.fm=n();a.Ql.fm.k=!0;a.Ql.fm.prototype={l:a.Ql.fm};a.R={};a.R.Zd={xj:!0,Er:["Left","Center","Right"]};a.R.Zd.yo=["Left",0];a.R.Zd.yo.Id=a.R.Zd;a.R.Zd.Eh=["Center",1];a.R.Zd.Eh.Id=a.R.Zd;a.R.Zd.Xv=["Right",2];a.R.Zd.Xv.Id=a.R.Zd;a.R.$d={xj:!0,
Er:["Top","Center","Bottom"]};a.R.$d.Do=["Top",0];a.R.$d.Do.Id=a.R.$d;a.R.$d.Eh=["Center",1];a.R.$d.Eh.Id=a.R.$d;a.R.$d.so=["Bottom",2];a.R.$d.so.Id=a.R.$d;a.R.Ea=function(b,c){this.Zw=!0;this.sl=this.Jp=!1;this.fa=this.qa=this.Na=this.w=null;a.h.call(this,b,"UiElement");this.MB(c);this.qa=new a.m(0,0);this.w=new a.m(1,1);this.fp=a.R.Zd.Eh;this.dq=a.R.$d.Eh};a.R.Ea.k=!0;a.R.Ea.C=a.h;a.R.Ea.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);if(null==this.Na){var b=this.Fl(a.e.GameImage);
null!=b?this.zh(b.$()):this.zh(new a.m(0,0))}this.ko()},By:y("w"),$:y("Na"),wI:y("Jp"),tL:s("Jp"),zh:function(b){null==this.Na&&(this.Na=new a.m);this.Na.x=b.x;this.Na.y=b.y},dJ:y("fa"),Y:function(b,c){null==c&&(c=1);null==b&&(b=1);this.w=new a.m(b,c)},MB:function(b){null!=this.fa&&this.fa.removeEventListener("updateDisplay",l(this,this.Iu));this.fa=b;this.fa.addEventListener("updateDisplay",l(this,this.Iu));this.fa.f.H(this.f)},SH:y("fp"),AB:function(b){this.fp=b;this.sl=!0},lJ:y("dq"),OB:function(b){this.dq=
b;this.sl=!0},Tt:y("qa"),iH:y("qa"),Ae:s("qa"),eo:function(b,a){this.AB(b);this.OB(a)},update:function(){a.h.prototype.update.call(this)},Tb:function(){a.h.prototype.Tb.call(this);(this.sl||this.Zw)&&this.ko()},Iu:function(){this.sl=!0},ko:function(){this.fa.$();a.j.instance.Rb();this.fa.$();a.j.instance.Rb();var b=this.fa.$().x/2*this.qa.x,c=this.fa.$().y/2*this.qa.y;this.Jp?this.f.Y(this.w.x,this.w.y):this.f.Y(this.w.x/this.fa.f.W().x,this.w.y/this.fa.f.W().y);var d=this.Na.ga();switch(this.fp[1]){case 0:b+=
d.x/2/this.fa.f.W().x;break;case 2:b-=d.x/2/this.fa.f.W().x}switch(this.dq[1]){case 0:c+=d.y/2/this.fa.f.W().y;break;case 2:c-=d.y/2/this.fa.f.W().y}this.f.setPosition(b,c);this.sl=!1},wb:function(){a.h.prototype.wb.call(this);if(null!=this.Na){var b=a.j.instance.Da("debug").Ha().getContext("2d");b.save();var c=this.f.q();b.beginPath();b.lineWidth=1;b.strokeStyle="#0000FF";b.moveTo(c.x-this.Na.x/2,c.y-this.Na.y/2);b.lineTo(c.x+this.Na.x/2,c.y-this.Na.y/2);b.lineTo(c.x+this.Na.x/2,c.y+this.Na.y/2);
b.lineTo(c.x-this.Na.x/2,c.y+this.Na.y/2);b.lineTo(c.x-this.Na.x/2,c.y-this.Na.y/2);b.stroke();b.restore()}},l:a.R.Ea});a.R.tj=function(b,c){a.h.call(this,b,"UiPanel");this.Na=c;this.xn=k.Ua()};a.R.tj.k=!0;a.R.tj.C=a.h;a.R.tj.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.zh(this.Na)},$:y("Na"),zh:function(b){this.Na=b;this.ko()},Rb:function(){var b=this.Na.ga();b.x*=this.xn.innerWidth/this.Na.x;b.y*=this.xn.innerHeight/this.Na.y;return b},ko:function(){this.dispatchEvent(new a.R.uj("updateDisplay"));
this.f.Y(1/a.j.instance.fb().x,1/a.j.instance.fb().y)},wb:function(){a.h.prototype.wb.call(this);var b=a.j.instance.Da("debug").Ha().getContext("2d");b.save();var c=this.f.q();b.beginPath();b.lineWidth=1;b.strokeStyle="#FF0000";b.moveTo(c.x-this.Na.x/2,c.y-this.Na.y/2);b.lineTo(c.x+this.Na.x/2,c.y-this.Na.y/2);b.lineTo(c.x+this.Na.x/2,c.y+this.Na.y/2);b.lineTo(c.x-this.Na.x/2,c.y+this.Na.y/2);b.lineTo(c.x-this.Na.x/2,c.y-this.Na.y/2);b.stroke();b.restore()},l:a.R.tj});a.R.uj=function(b){a.p.O.call(this,
b)};a.R.uj.k=!0;a.R.uj.C=a.p.O;a.R.uj.prototype=m(a.p.O.prototype,{l:a.R.uj});a.B={};a.B.vf=n();a.B.vf.k=!0;a.B.vf.indexOf=function(b,a){for(var c=b.length,f=0;f<c;){var g=f++;if(b[g]==a)return g}return-1};a.B.vf.clear=function(b){b.length=0};a.B.vf.prototype={l:a.B.vf};a.B.Ba=n();a.B.Ba.k=!0;a.B.Ba.log=n();a.B.Ba.alert=n();a.B.aa=n();a.B.aa.k=!0;a.B.aa.yc=function(b){return 0.0174532925*b};a.B.aa.Mu=function(b){return 57.2957795*b};a.B.aa.Bc=function(b,a){return b+Math.random()*(a-b)};a.B.aa.UA=
function(b){return Math.floor(a.B.aa.Bc(0,b))};a.B.aa.ZG=function(b,c,d){c=new a.m(c.x-b.x,c.y-b.y);d=(new a.m(d.x-b.x,d.y-b.y)).xi(c)/c.xi(c);0>d&&(d=0);1<d&&(d=1);d=new a.m(c.x*d,c.y*d);return new a.m(b.x+d.x,b.y+d.y)};a.B.aa.Wn=function(b,c,d,f,g){var h=(c.x-b.x)*(f.y-d.y)-(c.y-b.y)*(f.x-d.x),p=(c.x-b.x)*(f.y-d.y)-(c.y-b.y)*(f.x-d.x);if(0==h||0==p)return-2;f=((b.y-d.y)*(f.x-d.x)-(b.x-d.x)*(f.y-d.y))/h;d=((b.y-d.y)*(c.x-b.x)-(b.x-d.x)*(c.y-b.y))/p;return 0<f&&1>f&&0<d&&1>d?(d=(new a.m(b.x-c.x,b.y-
c.y)).Nc()*f,c=new a.m(c.x-b.x,c.y-b.y),c.xd(f,f),c=new a.m(b.x+c.x,b.y+c.y),g.x=c.x,g.y=c.y,d):-1};a.B.aa.kq=function(b,a,c){return b<a?a:b>c?c:b};a.B.aa.CI=function(b,c){var d=a.B.aa.yc(c),f=Math.cos(d),d=Math.sin(d),g=new a.m(b.x,b.y);g.x=g.x*f-g.y*d;g.y=g.x*d+g.y*f;return g};a.B.aa.Lt=function(b,c){return a.B.aa.Mu(Math.atan2(b.x*c.y-b.y*c.x,b.xi(c)))};a.B.Ug=n();a.B.Ug.k=!0;a.B.Ug.NL=function(b){a.B.Ug.Ws.set(b,v.Th.Ol())};a.B.Ug.RL=function(b){return v.Th.Ol()-a.B.Ug.Ws.get(b)};a.B.Ug.prototype=
{l:a.B.Ug};a.B.km=n();a.B.km.k=!0;a.B.km.SF=function(b){var c=a.Ma.Gb("GAMEPLAY_SCREEN_TIMER"),c=A.replace(c,"%N",Math.floor(b/60));b=q.Hi(Math.floor(b%60));2>b.length&&(b="0"+b);return c=A.replace(c,"%M",b)};a.B.km.prototype={l:a.B.km};a.B.Hk=function(b){this.mh=null;a.p.oe.call(this);this.mh=b};a.B.Hk.k=!0;a.B.Hk.C=a.p.oe;a.B.Hk.prototype=m(a.p.oe.prototype,{set:function(b){var c=this.mh;this.mh=b;this.mh!=c&&this.dispatchEvent(new a.B.vj("change",this.mh,c))},get:y("mh"),l:a.B.Hk});a.B.vj=function(b,
c,d){a.p.O.call(this,b);this.value=c;this.oldValue=d};a.B.vj.k=!0;a.B.vj.C=a.p.O;a.B.vj.prototype=m(a.p.O.prototype,{l:a.B.vj});var c={Wd:function(b,c){a.Ub.Gd.call(this,b,c)}};c.Wd.k=!0;c.Wd.cc=function(b,e){var d=new c.Wd(b,e);a.j.instance.Kc(d)};c.Wd.C=a.Ub.Gd;c.Wd.prototype=m(a.Ub.Gd.prototype,{s:function(){var b=this;a.Ub.Gd.prototype.s.call(this);a.g.bb.n().mk(!0);var e=this.t();e.setPosition(512,384);var d=new a.e.GameImage(e,"blackSquare",c.U.ec());d.S();d.Y(200,200);this.J=new a.e.ma(e);
this.J.I(d,"_alpha",0,1,0.2,a.e.A.G.Qa,0,function(){b.ik()});this.J.I(d,"_alpha",1,0,0.2,a.e.A.G.Qa,0.2,function(){b.Jl()})},ik:function(){a.Ub.Gd.prototype.ik.call(this);a.g.bb.n().mk(!1)},l:c.Wd});c.Pe=function(b,c){this.Fc=!0;this.Oo=[];this.mg=0;this.Mk=[new a.m(-0.65,-0.125),new a.m(-0.215,-0.125),new a.m(0.215,-0.125),new a.m(0.65,-0.125),new a.m(-0.65,0.45),new a.m(-0.215,0.45),new a.m(0.215,0.45),new a.m(0.65,0.45)];a.P.call(this);this.Is=b;this.fh=c};c.Pe.k=!0;c.Pe.show=function(b,e){var d=
new c.Pe(b,e);a.j.instance.Kc(d)};c.Pe.C=a.P;c.Pe.prototype=m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);this.fa=c.V.ie(this);var b=a.j.instance.Da("uiFront");this.Fj=new a.e.A.gg(this.fa.f);var e=this.t();new c.cd.ig(e,"screenBg",b);new a.R.Ea(e,this.fa);b=this.fa.f;this.Ds=c.V.qh(this.fa,0.1,0.85,"nextButton","nextButton",null,c.U.ec(),"ui_click_1",null,!1,0.15,l(this,this.aA));this.Qs=c.V.qh(this.fa,-0.1,0.85,"prevButton","prevButton",null,c.U.ec(),"ui_click_1",null,!1,0.15,l(this,
this.eA));new c.mj(b,l(this,this.xu));e=this.t();new c.cj(e,a.Ma.Gb("CHOOSE_BARBIE_SCREEN_HEADER"),c.U.ec());(new a.R.Ea(e,this.fa)).Ae(new a.m(0,-0.55));this.Fj.th(0,1,0.35,null,a.e.A.G.Qa,0);e=c.V.qh(this.fa,-0.9,-0.48,"backButton2","backButton2",l(this,this.xu),c.U.ec(),"ui_click_1",null,!1,0.15,null);b.H(e);this.rq()},px:function(){for(var b=this.Oo.length,a=0;a<b;){var c=a++;this.Oo[c].D()}},rq:function(){var b=this;this.px();for(var e=this.fa.f,d=0;8>d;){var f=d++,g=[c.Pe.tv[8*this.mg+f]];if(a.g.N.Sd("choosePhoto"+
(g[0]+1)+"Thumb")){var h="choosePhoto"+(g[0]+1)+"Thumb",f=c.V.qh(this.fa,this.Mk[f].x,this.Mk[f].y,h,h,function(c){return function(){b.Fc&&(b.wA(c[0]),a.g.SoundManager.ob("ui_click_1"),b.Fc=!0)}}(g),c.U.ec(),""),g=f.L(a.e.ba);g.lc.x=165;g.lc.y=165;f.yh(0,0,a.B.aa.yc(a.B.aa.Bc(-3,3)));e.H(f);this.Oo.push(f)}}e=this.Ds.L(a.e.buttons.ed);e.Be("nextButton");e.Ce("nextButton");e=this.Qs.L(a.e.buttons.ed);e.Be("prevButton");e.Ce("prevButton");5<=this.mg?(e=this.Ds.L(a.e.buttons.ed),e.Be("nextButtonGrey"),
e.Ce("nextButtonGrey")):0==this.mg&&(e=this.Qs.L(a.e.buttons.ed),e.Be("prevButtonGrey"),e.Ce("prevButtonGrey"))},aA:function(){this.mg++;5<this.mg?this.mg=5:this.rq()},eA:function(){this.mg--;0>this.mg?this.mg=0:this.rq()},wA:function(b){var e;e=window.document.createElement("img");e.src=a.g.N.na("photo"+q.Hi(b+1)).src;c.comicCreator.ia.n().Nu(e);this.dispatchEvent(new c.comicCreator.sa.sc("nextClick"));null!=this.Is&&this.Is();c.utag.Hd.n().Ci("games","choose photo","choose canned barbie image",
"[Game Title]");this.sh()},xu:function(){this.Fc&&(this.Fc=!1,null!=this.fh&&this.fh(),this.sh())},sh:function(){var b=this;this.Fj.th(1,0,0.35,function(){b.D()},a.e.A.G.Qa,0)},l:c.Pe});c.rc=function(){a.P.call(this);c.rc.ca=this;a.ta.za("emailSharingEnabled")};c.rc.k=!0;c.rc.n=function(){return c.rc.ca};c.rc.Tq=function(b){b.target.D();a.j.instance.Kc(new c.rc)};c.rc.C=a.P;c.rc.prototype=m(a.P.prototype,{MG:y("tm"),s:function(){var b=this;a.P.prototype.s.call(this);var e=c.V.ie(this),d=a.j.instance.Da("ui"),
f=this.t(),g=this.t();new c.cd.ig(g,"screenBg",d);new a.R.Ea(g,e);g=this.t();(new a.e.GameImage(g,"recapLeftBg",d)).S();f.H(g);e=new a.R.Ea(g,e);e.Ae(new a.m(-1,1));e.eo(a.R.Zd.yo,a.R.$d.so);e=this.t();(new a.e.GameImage(e,"gameLogo",d)).S();e.setPosition(185,200);var e=c.X.n().lb.dc().Pb,g=c.X.n().lb.dc().Wb,h=new a.rb("temp",e,g),p=this.t();p.setPosition(10,10);p.Y(0.8,0.8);var t=new c.comicCreator.Re(p,h,c.X.n().lb.dc());t.Ln();t.yi(c.X.n().lb);t.tk();this.li=k.oa().createElement("canvas");this.li.width=
526;this.li.height=526;this.li.setAttribute("webkitTransform","translate3d(0px, 0px, 0px);");this.li.style.position="absolute";a.j.instance.ek(0.35,function(){t.Kl(b.li);b.li.getContext("2d").drawImage(a.g.N.na("printableCopyright"),410,495);p.D();h.D()});e=c.V.kc(this,110,465,"backButton","backButton",l(this,this.Dz),c.U.xe());f.H(e);e=c.V.kc(this,110,595,"saveButton","saveButton",null,c.U.xe(),"",!1,0.35,l(this,this.mA));f.H(e);e=c.V.kc(this,240,a.j.nb()?465:595,"homeButtonLarge","homeButtonLarge",
l(this,this.Xq),c.U.xe(),null,!1);f.H(e);a.j.nb()||(e=c.V.kc(this,240,465,"printButton","printButton",null,c.U.xe(),"",!1,0.35,l(this,this.fA)),f.H(e));this.Pw=this.t();this.ah=this.t();c.Pa.sb.n();f=c.X.n().lb.dc();e=new c.comicCreator.Re(this.ah,c.U.xe(),f,null);e.yi(c.X.n().lb);e.Ln();this.ah.setPosition(685-f.Pb/2,85);this.tm=this.t();this.tm.xb(!1);new a.e.GameImage(this.tm,"screenBg",d)},Xq:function(){a.j.instance.Kc(new c.Lh(this,a.Ma.Gb("GAMEPLAY_SCREEN_QUIT_CONFIRM"),a.Ma.Gb("GAMEPLAY_SCREEN_QUIT_CONFIRM_TEXT"),
l(this,this.vz)));this.pause()},vz:function(){c.xa.cc(this,new c.We)},pK:function(){c.Pa.sb.n().Xu(c.Pa.sb.n().be+1);c.xa.cc(this,new c.comicCreator.ne)},update:function(){a.P.prototype.update.call(this)},tK:function(){var b=new c.comicCreator.Se;b.addEventListener("closeClick",c.rc.Tq);a.j.instance.Pl(this,b);a.g.SoundManager.ob("ui_click_1")},bK:function(){this.oc=new c.Ue;c.xa.cc(this,this.oc);a.g.N.na("menusLoadBatch").load(l(this,this.Wz))},Wz:function(){this.oc.D();a.j.instance.Pl(this,new c.Lb)},
fA:function(){a.j.instance.Kc(new c.comicCreator.Mh);c.utag.Hd.n().Ci("games","print","[Game Title]","[Game Title]")},nK:n(),oK:function(){this.resume();this.Pw.xb(!0);this.No.style.display="block";this.tm.xb(!1)},Dz:function(){c.xa.cc(this,new c.comicCreator.ne)},D:function(){a.P.prototype.D.call(this);null!=this.No&&(k.ka().removeChild(this.No),this.No=null);c.rc.ca=null},mA:function(){var b=new c.SaveState(this.li);a.j.instance.Kc(b);c.utag.Hd.n().Ci("games","download","[Game Title]","[Game Title]")},
l:c.rc});c.Ul=function(){a.P.call(this)};c.Ul.k=!0;c.Ul.C=a.P;c.Ul.prototype=m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);this.fa=c.V.ie(this);var b=a.j.instance.Da("ui"),e=this.t(),e=new a.e.GameImage(e,"editPaneBg",b);e.Y(100,100);e.S();e.kb(0.8);e=c.V.Fn(this,this.fa,0,0);(new a.e.GameImage(e,"comicStarterBg",b)).S();e=this.t();(new a.R.Ea(e,this.fa)).Ae(new a.m(0.05,-0.55));e=new a.e.Wa(e,b);e.pb(a.Ma.Gb("COMIC_CREATOR_HEADER"));e.Pc("36px");e.yd("league_gothic");c.V.En(0.1,-0.125,
"TEMPLATE_SELECT_STARTER","comicStarterButton",this.fa,b,l(this,this.CA),"ui_click_1");c.V.En(0.1,0.125,"TEMPLATE_SELECT_BLANK","comicStarterButton",this.fa,b,l(this,this.hz),"ui_click_1")},CA:function(){this.dispatchEvent(new c.Og("selectStarter"))},hz:function(){this.dispatchEvent(new c.Og("selectBlank"))},l:c.Ul});c.Og=function(b){a.p.O.call(this,b)};c.Og.k=!0;c.Og.C=a.p.O;c.Og.prototype=m(a.p.O.prototype,{l:c.Og});c.Vl=function(b){a.P.call(this);this.Ns=b};c.Vl.k=!0;c.Vl.C=a.P;c.Vl.prototype=
m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);var b=c.V.ie(this),e=a.j.instance.Da("uiFront"),d=this.t(),d=new a.e.GameImage(d,"screenBg",e);d.Y(100,100);d.S();d.kb(0.8);d=c.V.Fn(this,b,0,0);(new a.e.GameImage(d,"dialogBg",e)).S();var f=this.t();f.setPosition(25,-60);var g=new a.e.Wa(f,e);g.pb(a.Ma.Gb("GAMEPLAY_SCREEN_QUIT_CONFIRM_TEXT"));g.Pc("24px");g.yd("league_gothic");g.le("#000000");g.Lg(450);d.H(f);d=this.t();(new a.R.Ea(d,b)).Ae(new a.m(0.05,-0.55));b=new a.e.Wa(d,e);b.pb(a.Ma.Gb("GAMEPLAY_SCREEN_QUIT_CONFIRM"));
b.Pc("36px");b.yd("league_gothic");c.V.kc(this,100,77,"doneUi","doneUi",l(this,this.fr),e);c.V.kc(this,-100,77,"doneUi","doneUi",l(this,this.Zn),e)},fr:function(){this.oc=new c.Ue;c.xa.cc(this,this.oc);a.g.N.na("menusLoadBatch").load(l(this,this.Yz));this.Ns.D()},Yz:function(){c.xa.cc(this.oc,new c.We)},Zn:function(){this.Ns.resume();a.j.instance.jr(this)},l:c.Vl});c.fg=n();c.fg.k=!0;c.fg.Dt=function(b,c,d){d=d.t();d.setPosition(b,c,0);b=new a.e.Camera(d);new a.e.Ph(d,0.2);b.QB(1);b.Zb(new a.m(0,
0));new a.e.ma(d);return b};c.fg.vx=function(b,c,d,f){var g=!0;null==g&&(g=!0);null==f&&(f=2);a.ab.Rh.Ju(b,b,a.g.N.na(c));a.e.uf.bz(b,b,f,g).Zb(d.x,d.y)};c.fg.aG=function(b,e,d){var f=d.t();f.setPosition(b,e);b=d.t();f.H(b);e=new a.e.GameImage(b,"cameraFlash2",c.U.xq());e.S();var g=new a.e.ma(b);g.I(b.w,"x",0,1,0.15,a.e.A.G.Db,0);g.I(b.w,"y",0,1,0.15,a.e.A.G.Db,0);g.I(e,"_alpha",1,0,0.15,a.e.A.G.Qa,0.15);b=d.t();f.H(b);e=new a.e.GameImage(b,"cameraFlash3",c.U.xq());e.S();g=new a.e.ma(b);g.I(b.w,"x",
0,1.75,0.15,a.e.A.G.Db,0);g.I(b.w,"y",0,1.75,0.15,a.e.A.G.Db,0);g.I(e,"_alpha",1,0,0.15,a.e.A.G.Qa,0.15);d=d.t();f.H(d);b=new a.e.GameImage(d,"cameraFlashCircle",c.U.xq());b.S();e=new a.e.ma(d);e.I(d.w,"x",0,0.5,0.15*1.5,a.e.A.G.Db,0);e.I(d.w,"y",0,0.5,0.15*1.5,a.e.A.G.Db,0);b.kb(0.5);e.I(b,"_alpha",0.5,0,0.3,a.e.A.G.Qa,0.15,function(){f.D()});a.g.SoundManager.ob("ui_camera_1");return f};c.fg.prototype={l:c.fg};c.xo=n();c.xo.k=!0;c.X=function(){this.$r="";this.Uo=1;a.p.oe.call(this);c.X.ca=this;this.pt=
new c.nm;this.Ie=new a.hm};c.X.k=!0;c.X.n=function(){null==c.X.ca&&(c.X.ca=new c.X);return c.X.ca};c.X.bu=function(b){return"levelScore"+(null==b?"null":""+b)};c.X.MH=C("barbie-photobooth");c.X.C=a.p.oe;c.X.prototype=m(a.p.oe.prototype,{II:y("Ie"),getUserData:y("pt"),setUserData:s("pt"),uy:function(){return q.Yb(a.ta.za("numLevels"))},Dq:function(){return this.Ie.getItem("numLevelsUnlocked",1)},kL:function(b){this.Ie.setItem("numLevelsUnlocked",Math.min(this.uy(),Math.max(b,this.Dq())))},KB:function(b,
a){b>this.Cy(a)&&this.Ie.setItem(c.X.bu(a),b)},Cy:function(b){return this.Ie.getItem(c.X.bu(b),0)},uL:function(b){this.KB(b,this.Uo)},uB:s("Uo"),nH:y("Uo"),PH:function(){return this.Ie.getItem("hasBeatenGame",!1)},ZK:function(b){this.Ie.setItem("hasBeatenGame",b)},RH:function(){return this.Ie.getItem("hasStartedGame",!1)},$K:function(b){this.Ie.setItem("hasStartedGame",b)},lH:y("lb"),Jg:s("lb"),kH:y("$r"),QK:s("$r"),l:c.X});c.cj=function(b,c,d){a.h.call(this,b,"HeadingText");this.Xb=c;this.K=d};c.cj.k=
!0;c.cj.C=a.h;c.cj.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);var b=this.v().t();b.setPosition(0,5);(new a.e.GameImage(b,"uiHeaderLine",this.K)).S();this.f.H(b);b=this.v().t();b.setPosition(0,-2);var c=new a.e.Wa(b,this.K);c.pb(this.Xb);c.Pc("48px");this.f.H(b)},l:c.cj});c.Ak=n();c.Ak.k=!0;c.Ak.dz=function(b,a){var c=0.75;null==c&&(c=1);var f;f=k.oa().createElement("canvas");f.width=a.width;f.height=a.height;var g;g=k.oa().createElement("canvas");g.width=f.width;g.height=f.height;
var h;h=k.oa().createElement("canvas");h.width=a.width;h.height=a.height;var p=g.getContext("2d"),t=h.getContext("2d"),l=f.getContext("2d");p.drawImage(b,0,0,f.width,f.height);t.drawImage(a,0,0,f.width,f.height);g=p.getImageData(0,0,g.width,g.height);h=t.getImageData(0,0,h.width,h.height);for(var t=l.getImageData(0,0,f.width,f.height),p=h.data.length,m=0;m<p;)t.data[m]=h.data[m]*(g.data[m]*c+h.data[m]*(1-c))/255,t.data[m+1]=h.data[m+1]*(g.data[m+1]*c+h.data[m]*(1-c))/255,t.data[m+2]=h.data[m+2]*(g.data[m+
2]*c+h.data[m]*(1-c))/255,t.data[m+3]=h.data[m+3]*g.data[m+3]/255,m+=4;l.putImageData(t,0,0);c=k.oa().createElement("img");c.width=f.width;c.height=f.height;c.src=f.toDataURL("image/png");return c};c.Ak.prototype={l:c.Ak};c.Hh=function(b,c,d){this.Zo=!0;this.$h=0;a.h.call(this,b,"ImagesSlideShow");this.K=d;this.df=c;this.Jd=new a.e.Dd(this.f);b=this.v().t();this.jl=new a.e.GameImage(b,this.df[this.$h],this.K);this.jl.S();this.f.H(b);b=this.v().t();this.Hj=new a.e.GameImage(b,this.df[this.$h+1],this.K);
this.Hj.kb(0);this.Hj.S();this.f.H(b);this.J=new a.e.ma(this.f)};c.Hh.k=!0;c.Hh.C=a.h;c.Hh.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.mv()},mv:function(){this.Jd.nf(2,l(this,this.Fz))},Fz:function(){this.$h++;this.$h>this.df.length-1&&(this.$h=0);this.Zo?(this.J.I(this.jl,"_alpha",1,0,0.75,a.e.A.G.Qa,0),this.J.I(this.Hj,"_alpha",0,1,0.75,a.e.A.G.Qa,0),this.Hj.Ei(this.df[this.$h]),this.Hj.S()):(this.J.I(this.jl,"_alpha",0,1,0.75,a.e.A.G.Qa,0),this.J.I(this.Hj,"_alpha",
1,0,0.75,a.e.A.G.Qa,0),this.jl.Ei(this.df[this.$h]),this.jl.S());this.Zo=!this.Zo;this.mv()},l:c.Hh});c.U=n();c.U.k=!0;c.U.JH=function(){null==c.U.ms&&(c.U.ms=a.j.instance.Da("defaultFront"));return c.U.ms};c.U.xq=function(){null==c.U.bi&&(c.U.bi=a.j.instance.Da("default"));return c.U.bi};c.U.Hg=function(){null==c.U.Nr&&(c.U.Nr=a.j.instance.Da("defaultBg"));return c.U.Nr};c.U.xe=function(){null==c.U.Ke&&(c.U.Ke=a.j.instance.Da("ui"));return c.U.Ke};c.U.ec=function(){null==c.U.xl&&(c.U.xl=a.j.instance.Da("uiFront"));
return c.U.xl};c.U.Qn=function(){null==c.U.Ks&&(c.U.Ks=a.j.instance.Da("orientation"));return c.U.Ks};c.U.prototype={l:c.U};c.Ue=function(){this.pm=this.$p=0;a.P.call(this)};c.Ue.k=!0;c.Ue.C=a.P;c.Ue.prototype=m(a.P.prototype,{An:function(b,c){null==this.Jd&&(this.Jd=new a.e.Dd(this.t()));this.Jd.nf(b,c)},s:function(){a.P.prototype.s.call(this);var b=c.V.ie(this),e=a.j.instance.Da("ui");this.vb=this.t();var d=this.t();new c.cd.ig(d,"screenBg",e);new a.R.Ea(d,b);e=this.t();b=new a.R.Ea(e,b);b.Ae(new a.m(0,
0));d=new a.e.GameImage(e,"gameLogo",c.U.xe());d.S();var f=d.Za();d.Zb(f.x+20,f.y-20);d=this.t();d.setPosition(0,200);e.H(d);(new a.e.GameImage(d,"loadingBackground",c.U.xe())).S();f=this.t();f.setPosition(-1,-3);this.en=new a.e.GameImage(f,"loadingMeter",c.U.xe());this.en.S();d.H(f);this.J=new a.e.ma(e);b.Y(0,0);this.J.I(b.w,"x",0.5,1,0.65,a.e.A.G.bd,0.6);this.J.I(b.w,"y",0.5,1,0.65,a.e.A.G.bd,0.6);this.qv(0)},update:function(){a.P.prototype.update.call(this);if(null!=this.en){var b=this.$p-this.pm;
this.pm=0.01<b?this.pm+0.05*b:this.$p;this.en.rB(new a.hd(0,0,267*this.pm,this.en.$().y))}},Gz:function(b,a){this.qv(b/a)},qv:s("$p"),ib:function(b,c){a.P.prototype.ib.call(this,b,c);switch(b){case "onFileLoaded":this.Gz(c.progress,c.total)}},D:function(){a.P.prototype.D.call(this);a.g.SoundManager.ob("ui_complete_1")},l:c.Ue});c.Ih=function(b,c,d){null==d&&(d=735);null==c&&(c=220);a.h.call(this,b,"OffscreenImageHide");this.Cs=c;this.As=d};c.Ih.k=!0;c.Ih.C=a.h;c.Ih.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);
this.Ya=this.f.L(a.e.GameImage)},update:function(){a.h.prototype.update.call(this);var b=this.f.q();if(b.y>this.As||b.y<this.Cs)this.f.xb(!1);else{this.f.xb(!0);for(var b=Math.min(Math.abs(b.y-this.Cs),Math.abs(b.y-this.As)),c=this.f.Rt(a.e.GameImage),d=c.length,f=0;f<d;){var g=f++,g=c[g];if(50>b){var h=b/50;g.kb(h);g.Y(h,h)}else g.kb(1),g.Y(1,1)}}},l:c.Ih});c.xa=function(b,c){a.Ub.Gd.call(this,b,c);var d;d=window.document.createElement("img");d.src=a.rb.ry().Ha().toDataURL("image/png");a.g.N.Ud("screenSnap",
d,!0)};c.xa.k=!0;c.xa.cc=function(b,e){var d=a.j.nb()?new c.Wd(b,e):new c.xa(b,e);a.j.instance.Kc(d)};c.xa.C=a.Ub.Gd;c.xa.prototype=m(a.Ub.Gd.prototype,{s:function(){var b=this;a.Ub.Gd.prototype.s.call(this);a.g.bb.n().mk(!0);this.fa=c.V.ie(this);this.J=new a.e.ma(this.fa.f);this.hf=this.t();this.ee=new a.R.Ea(this.hf,this.fa);var e=this.t(),d=this.t();this.hf.H(d);this.hf.H(e);(new a.e.GameImage(e,"whiteBg",c.U.Qn())).S();this.Ip=new a.e.GameImage(d,"screenSnap",c.U.Qn());this.Ip.S();var d=a.j.instance.Rb().x+
40,f=a.j.instance.Rb().y+40;e.Y(d/10,f/10);a.g.SoundManager.ob("ui_camera_1");this.Jd=new a.e.Dd(this.hf);this.Jd.nf(0.6,function(){b.ik()});this.vm=this.t();e=new a.e.GameImage(this.vm,"whiteBg",c.U.Qn());e.S();this.J.I(e,"_alpha",0,1,0.2,a.e.A.G.Qa,0);this.J.I(e,"_alpha",1,0,0.25,a.e.A.G.Qa,0.2,function(){b.vm.D()});(new a.R.Ea(this.vm,this.fa)).Y(200,200)},ik:function(){var b=this;a.Ub.Gd.prototype.ik.call(this);switch(c.xa.Dm){case 0:this.J.I(this.ee.w,"x",1,1.5,0.65,a.e.A.G.Qa,0);this.J.I(this.ee.w,
"y",1,1.5,0.65,a.e.A.G.Qa,0);this.J.I(this.ee.qa,"x",0,2.5,0.65,a.e.A.G.ad,0);this.J.I(this.ee.f._rotation,"z",0,a.B.aa.yc(90),0.65,a.e.A.G.ad,0,function(){b.Jl()});break;case 1:this.J.I(this.ee.w,"x",1,1.5,0.65,a.e.A.G.Qa,0);this.J.I(this.ee.w,"y",1,1.5,0.65,a.e.A.G.Qa,0);this.J.I(this.ee.qa,"x",0,-2.5,0.65,a.e.A.G.ad,0);this.J.I(this.ee.f._rotation,"z",0,a.B.aa.yc(-90),0.65,a.e.A.G.ad,0,function(){b.Jl()});break;case 2:this.J.I(this.ee.w,"x",1,0,0.65,a.e.A.G.ad,0);this.J.I(this.ee.w,"y",1,0,0.65,
a.e.A.G.ad,0);this.J.I(this.ee.f._rotation,"z",0,a.B.aa.yc(45),0.65,a.e.A.G.ad,0,function(){b.Jl()});break;case 3:for(var e=1/3,d=0;3>d;)for(var f=d++,g=0;3>g;){var h=g++,p=this.t(),k=new a.e.GameImage(p,"screenSnap",c.U.Qn());k.S();p.setPosition(h*k.$().x-2*k.$().x/2,f*k.$().y-2*k.$().y/2);p.Y(1.01,1.01,1.01);this.hf.H(p)}(new a.e.A.gg(this.hf)).th(1,0,0.3,null,a.e.A.G.Qa,0.63);this.J.I(this.ee.w,"x",1,e,0.3,a.e.A.G.It,0.33);this.J.I(this.ee.w,"y",1,e,0.3,a.e.A.G.It,0.33);this.J.I(this.ee.f._rotation,
"z",0,a.B.aa.yc(0),0.3,a.e.A.G.ad,0.63,function(){b.Jl()})}c.xa.Dm++;1<c.xa.Dm&&(c.xa.Dm=0);a.g.bb.n().mk(!1)},Tb:function(){a.Ub.Gd.prototype.Tb.call(this);null!=this.Ip&&this.Ip.S();this.jc(this.vm)},l:c.xa});c.Lh=function(b,e,d,f){a.P.call(this);this.Os=b;this.jw=d;this.Js=f;e=c.V.ie(this);d=a.j.instance.Da("uiFront");b=c.V.Fn(this,e,0,0);this.J=new a.e.ma(b);f=this.t();this.gf=new a.e.GameImage(f,"overlayBlack",d);this.gf.S();this.gf.kb(1);(new a.R.Ea(f,e)).Y(150,150);this.J.I(this.gf,"_alpha",
0,0.65,0.35,a.e.A.G.Qa);this.jc(b);(new a.e.GameImage(b,"dialogBg",d)).S();f=this.t();f.setPosition(0,-100);var g=new a.e.Wa(f,d);g.pb(this.jw);g.Pc("32px");g.le("#FFFFFF");g.yd("league_gothic");g.Lg(500);b.H(f);f=this.t();f.setPosition(0,-245);g=new a.e.Wa(f,d);g.yd("league_gothic");g.Pc("54px");g.le("#ffffff");g.pb(a.Ma.Gb("GAMEPLAY_SCREEN_QUIT_CONFIRM"));b.H(f);f=c.V.kc(this,300,-250,"closeButton","closeButton",l(this,this.Zn),d);b.H(f);f=c.V.En(-0.28,0.55,"GAMEPLAY_SCREEN_QUIT_CONFIRM_YES","textButton1",
e,d,l(this,this.fr),"ui_pop_1");this.st=f.f.Eb(a.e.Wa)[0];g=f.f;f.D();g.setPosition(0,65);e=c.V.En(0.39,0.55,"GAMEPLAY_SCREEN_QUIT_CONFIRM_NO","textButton2",e,d,l(this,this.Zn),"ui_pop_1");this.Dw=e.f.Eb(a.e.Wa)[0];d=e.f;e.D();d.setPosition(0,150);this.Fj=new a.e.A.gg(b);b.H(f.f);b.H(e.f);this.Fj.th(0,1,0.35);this.ti=b.L(a.R.Ea);this.J.I(this.ti.qa,"y",-1,0,0.5,a.e.A.G.pf)};c.Lh.k=!0;c.Lh.C=a.P;c.Lh.prototype=m(a.P.prototype,{IL:function(b){this.st.pb(b)},iL:function(b){this.Dw.pb(b)},NJ:function(){var b=
this.st.f.getParent().L(a.e.buttons.Qc);b.av(b.Xe);b.FB(null)},s:function(){a.P.prototype.s.call(this);a.g.SoundManager.ob("ui_swish_1")},fr:function(){var b=this;this.Os.resume();null!=this.Js&&this.Js();this.Fj.th(1,0,0.35,function(){b.D()});this.J.I(this.ti.qa,"y",0,1,0.5,a.e.A.G.ad);this.J.I(this.ti.w,"x",1,0.5,0.5,a.e.A.G.ad);this.J.I(this.ti.w,"y",1,0.5,0.5,a.e.A.G.ad);this.J.I(this.gf,"_alpha",0.65,0,0.35,a.e.A.G.Qa);a.g.SoundManager.ob("ui_swish_2")},Zn:function(){var b=this;this.Os.resume();
this.Fj.th(1,0,0.35,function(){b.D()});this.J.I(this.ti.qa,"y",0,1,0.5,a.e.A.G.ad);this.J.I(this.ti.w,"x",1,0.5,0.5,a.e.A.G.ad);this.J.I(this.ti.w,"y",1,0.5,0.5,a.e.A.G.ad);this.J.I(this.gf,"_alpha",0.65,0,0.35,a.e.A.G.Qa);a.g.SoundManager.ob("ui_swish_2")},l:c.Lh});c.SaveState=function(b){a.P.call(this);this._canvas=b;this.Qq()};c.SaveState.k=!0;c.SaveState.C=a.P;c.SaveState.prototype=m(a.P.prototype,{Qq:function(){this._canvas.toBlob(function(b){saveAs(b,a.ta.za("imageExportFilename"))},"image/png");
this.D();a.j.instance.jr(this)},l:c.SaveState});c.mj=function(b,e){var d=this;a.h.call(this,b,"ScreenFraming");this.fa=b.L(a.R.tj);this.J=new a.e.ma(this.f);this.Uj=this.v().t();(new a.e.GameImage(this.Uj,"uiHeaderBg",c.U.ec())).S();var f=new a.R.Ea(this.Uj,this.fa);f.Ae(new a.m(0,-1));f.eo(a.R.Zd.Eh,a.R.$d.Do);f=this.v().t();(new a.e.GameImage(f,"uiHeaderLogo",c.U.ec())).S();this.Uj.H(f);f.setPosition(-160,25);this.Cp=e;null==this.Cp&&(this.Cp=function(){c.xa.cc(d.v(),new c.We)});var f=c.V.kc(this.v(),
368,-15,"homeButton","homeButton",this.Cp,c.U.ec(),null,!1),g=c.V.kc(this.v(),438,-15,"homeButton","homeButton",null,c.U.ec(),null,!1);this.Uj.H(f);this.Uj.H(g);new c.Qh(g,"soundButton","soundOffButton")};c.mj.k=!0;c.mj.C=a.h;c.mj.prototype=m(a.h.prototype,{gJ:y("Uj"),jI:y("FF"),Hg:y("Dc"),s:function(){a.h.prototype.s.call(this)},l:c.mj});c.im=function(b,c,d,f,g){null==g&&(g=!0);this.gh=0;this.mp=!0;a.h.call(this,b,"ScrollBar");this.Ob=c;this.K=f;this.Yc=d;this.mp=g;this.Ia=new a.e.GameImage(this.f,
this.Ob,this.K);this.Ia.S();this.Mb=new a.e.ba(this.f,new a.m(40,125),new a.m(5,0));this.Mb.Vd(!0);this.Mb.tf(l(this,this.Hb))};c.im.k=!0;c.im.C=a.h;c.im.prototype=m(a.h.prototype,{uI:y("gh"),sL:function(b){this.gh=b;this.mp?this.f.setPosition(this.f.Ka().x,this.Yc.u.y+this.Yc.M.y*b):this.f.setPosition(this.Yc.u.x+this.Yc.M.x*b,this.f.Ka().y)},s:function(){a.h.prototype.s.call(this)},Hb:function(){this.Pd=a.g.bb.n().Oc();this.Ir=this.f.Ka();a.e.pd.Pu()},wd:function(){null!=this.Pd&&(this.Pd=null)},
br:function(){if(null!=this.Pd){a.e.pd.Pu();var b=a.g.bb.n().Oc(),e=b.x-this.Pd.x,b=b.y-this.Pd.y,d=null;this.mp?(d=new a.m(this.f.Ka().x,this.Ir.y+b),d.y<this.Yc.u.y&&(d.y=this.Yc.u.y),d.y>this.Yc.u.y+this.Yc.M.y&&(d.y=this.Yc.u.y+this.Yc.M.y)):(d=new a.m(this.Ir.x+e,this.f.Ka().y),d.x<this.Yc.u.x&&(d.x=this.Yc.u.x),d.x>this.Yc.u.x+this.Yc.M.x&&(d.x=this.Yc.u.x+this.Yc.M.x));this.f.setPosition(d.x,d.y);this.gh=(d.y-this.Yc.u.y)/this.Yc.M.y;0>this.gh&&(this.gh=0);1<this.gh&&(this.gh=1);this.dispatchEvent(new c.nj("update",
this.gh))}},ib:function(b,c){a.h.prototype.ib.call(this,b,c);switch(b){case "mouseUp":this.wd();break;case "mouseMove":this.br()}},l:c.im});c.nj=function(b,c){a.p.O.call(this,b);this.mh=c};c.nj.k=!0;c.nj.C=a.p.O;c.nj.prototype=m(a.p.O.prototype,{hJ:y("mh"),l:c.nj});c.Qh=function(b,c,d){a.h.call(this,b,"SoundButton");this.dt=c;this.ct=d};c.Qh.k=!0;c.Qh.C=a.h;c.Qh.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.Mb=this.f.L(a.e.ba);this.kw=this.f.L(a.e.buttons.Qc);this.Or=this.f.L(a.e.buttons.ed);
this.kw.av(l(this,this.Au))},update:function(){a.h.prototype.update.call(this);this.Or.Be(a.g.SoundManager.we()?this.ct:this.dt);this.Or.Ce(a.g.SoundManager.we()?this.ct:this.dt)},Au:function(){a.g.SoundManager.Ml(!a.g.SoundManager.we());a.g.SoundManager.xr(a.g.SoundManager.we())},l:c.Qh});c.Vc=function(b,c,d,f,g){this.Jj=this.fl=!1;a.e.GameImage.call(this,b,c,d,f);this.Uw=g;a.g.N.Sd(c)&&this.Zq()};c.Vc.k=!0;c.Vc.C=a.e.GameImage;c.Vc.prototype=m(a.e.GameImage.prototype,{QI:y("Jj"),hI:y("fl"),$f:function(){if(this.Jj)return k.oa().createElement("img");
if(!a.g.N.Sd(this.Ob)||this.Jj){this.Jj=!0;this.xs=new a.LoadBatch(!0);var b=this.Uw.by(this.Ob);null==b&&a.B.Ba.log("No info found for "+this.Ob);this.xs.Me(b.name,b.source,b.type);this.xs.load(l(this,this.Zq));return k.oa().createElement("img")}return a.g.N.na(this.Ob)},Zq:function(){this.Jj=!1;this.Ya=this.$g=null;this.fl=!0;this.hb&&!this.f.sg&&this.dispatchEvent(new c.rj("loadComplete"))},update:function(){a.e.GameImage.prototype.update.call(this);!this.fl&&a.g.N.Sd(this.Ob)&&this.Zq()},Va:function(){this.Jj||
a.e.GameImage.prototype.Va.call(this)},s:function(){a.e.GameImage.prototype.s.call(this)},l:c.Vc});c.rj=function(b){a.p.O.call(this,b)};c.rj.k=!0;c.rj.C=a.p.O;c.rj.prototype=m(a.p.O.prototype,{l:c.rj});c.Lb=function(){this.dh=[];this.kt=[0,2,4,6,5,7,1,3];this.ni=0;this.Zg=this.Nk=null;this.Mk=[new a.m(-0.65,-0.125),new a.m(-0.215,-0.125),new a.m(0.215,-0.125),new a.m(0.65,-0.125),new a.m(-0.65,0.45),new a.m(-0.215,0.45),new a.m(0.215,0.45),new a.m(0.65,0.45)];this.Ij=!0;this.oc=null;a.P.call(this);
c.Lb.ca=this};c.Lb.k=!0;c.Lb.n=function(){return c.Lb.ca};c.Lb.C=a.P;c.Lb.prototype=m(a.P.prototype,{Tb:function(){a.P.prototype.Tb.call(this)},s:function(){a.P.prototype.s.call(this);this.fa=c.V.ie(this);var b=a.j.instance.Da("ui");this.vb=this.fa.f;this.Jd=new a.e.Dd(this.vb);this.Zg=this.t();this.fa.f.H(this.Zg);this.Nk=new a.e.ma(this.Zg);var e=this.t();new c.cd.ig(e,"screenBg",b);new a.R.Ea(e,this.fa);this.Xx();new c.mj(this.vb);e=this.t();new c.cj(e,a.Ma.Gb("TEMPLATE_SELECT_HEADING"),b);(new a.R.Ea(e,
this.fa)).Ae(new a.m(0,-0.55));a.g.SoundManager.ob("ui_swish_1")},Xx:function(){for(var b=this,e=a.j.instance.Da("ui"),d=c.Pa.sb.n(),f=d.Nj.length,g=0;g<f;){var h=g++,p=[h>=f],k=[this.kt[h]],l=[d.Nj[k[0]]];if(null!=l[0]||p[0]){p[0]&&c.Pa.sb.n();p[0]=!0;var m=c.V.qh(this.fa,this.Mk[h].x,this.Mk[h].y,"frameLayoutThumbnail"+(k[0]+1),"frameLayoutThumbnail"+(k[0]+1),function(){return function(a,e,d){return function(){d[0]?b.Cu(c.Pa.sb.n().Yt(e[0])):b.Cu(a[0])}}(l,k,p)}(this),e,"ui_click_1","",!1),q=m.L(a.R.Ea);
this.dh.push(m);m.nk("levelButton"+(h+1));m.L(a.e.GameImage).kb(0);this.Zg.H(m);(new a.e.A.gg(m)).th(0,1,0.35,null,a.e.A.G.Qa,0.65+0.1*h);var r=new a.e.ma(m);r.I(q.w,"x",1.45,1,0.5,a.e.A.G.bd,0.65+0.1*h);r.I(q.w,"y",1.45,1,0.5,a.e.A.G.bd,0.65+0.1*h);m.yh(0,0,a.B.aa.yc(a.B.aa.Bc(-3,3)))}}},no:function(b,c,d,f){if(null!=b){var g=b.L(a.e.buttons.ed),h=b.L(a.e.buttons.wf);b=b.L(a.e.buttons.dg);this.ni==f?(g.Be(c),g.Ce(c),h.Fg(),b.Fg()):(g.Be(d),g.Ce(d),h.Gg(),b.Gg())}},kK:function(){if(this.Ij&&0!=this.ni){this.ni--;
this.no(this.xw,"challengeScrollLeftGray","challengeScrollLeft",0);this.no(this.Kw,"challengeScrollRightGray","challengeScrollRight",1);var b=-400*this.ni;this.Nk.Zf();this.Nk.I(this.Zg.da,"x",this.Zg.da.x,b,0.35,a.e.A.G.pf)}},lK:function(){if(this.Ij&&1!=this.ni){this.ni++;this.no(this.Kw,"challengeScrollRightGray","challengeScrollRight",1);this.no(this.xw,"challengeScrollLeftGray","challengeScrollLeft",0);var b=-400*this.ni;this.Nk.Zf();this.Nk.I(this.Zg.da,"x",this.Zg.da.x,b,0.35,a.e.A.G.pf)}},
Cu:function(b){var e=this;if(this.Ij){for(var d=0,f=this.dh.length,g=0;g<f;){var h=g++;if(this.kt[h]==b.Jb)d=h;else{var p=this.dh[h],h=p.L(a.e.GameImage),p=p.L(a.e.ma);p.Zf();p.I(h,"_alpha",1,0,0.35,a.e.A.G.Qa,0)}}d=this.dh[d];f=new a.e.ma(d);g=d.L(a.R.Ea);d.L(a.e.ba).D();f.I(g.qa,"x",g.qa.x,0,0.65,a.e.A.G.Db,0.65);f.I(g.qa,"y",g.qa.y,0.2,0.65,a.e.A.G.Db,0.65);f.I(g.w,"x",1,2,0.65,a.e.A.G.Db,0.65);f.I(g.w,"y",1,2,0.65,a.e.A.G.Db,0.65);f.I(d._rotation,"z",d.dd().z,0,0.65,a.e.A.G.Db,0.65);this.Jd.nf(0.8+
0.65,function(){c.Pa.sb.n().Xu(b.Jb);c.X.n().uB(b.Jb+1);var a=c.Qb.Bf.n().Sk[b.Jb];c.X.n().Jg(new c.comicCreator.comicCompositions.ComicComposition("",a._id));e.Ny()});this.Ij=!1}},Ny:function(){var b=new c.comicCreator.ne;c.xa.cc(this,b);c.comicCreator.Ed.n().reset()},vJ:function(){this.oc=new c.Ue;c.xa.cc(this,this.oc);a.g.N.na("comicCreatorAssets").load(l(this,this.Sq))},Sq:function(){var b=this;this.oc.An(1,function(){c.xa.cc(b.oc,new c.comicCreator.ne)})},rK:function(){this.Ij&&(a.j.instance.Pl(this,
new c.We),this.D(),this.Ij=!1)},rG:function(b){this.dh[b].L(a.e.ba).T(!0);this.dh[b].L(a.e.ma).gu("_alpha").Yk=1},iG:function(b){this.dh[b].L(a.e.ba).T(!1);this.dh[b].L(a.e.ma).gu("_alpha").Yk=0.35},TL:function(b){b.beginPath();var c=new a.Vector3D(512,384);b.moveTo(c.x-460,c.y-255);b.lineTo(c.x+458,c.y-255);b.lineTo(c.x+458,c.y+329);b.lineTo(c.x-460,c.y+329);b.closePath()},QF:function(b){b.beginPath();var c=new a.Vector3D(512,384);b.moveTo(c.x-460,c.y-255);b.lineTo(c.x+458,c.y-255);b.lineTo(c.x+
458,c.y+330);b.lineTo(c.x-460,c.y+330);b.closePath()},D:function(){a.P.prototype.D.call(this);c.Lb.ca==this&&(c.Lb.ca=null)},l:c.Lb});c.We=function(){this.Fc=!0;a.P.call(this)};c.We.k=!0;c.We.C=a.P;c.We.prototype=m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);this.vb=this.t();a.g.N.jo("comicCreatorAssets");a.g.N.jo("streamingAssets");this.Cw=c.Zc.xf.n().py();this.Jx();a.g.SoundManager.Lu();var b=c.V.kc(this,935,60,"soundButton","soundButton",null,c.U.ec(),null,!1);new c.Qh(b,"soundButton",
"soundOffButton");b=this.t();b.setPosition(770,351);(new a.e.GameImage(b,"titleScreenLogo",c.U.xe())).S();this.vb.H(b);b=this.t();b.setPosition(310,386);this.vb.H(b);new c.Hh(b,["splashCareer1","splashCareer2","splashCareer3","splashCareer4"],c.U.xe())},sK:n(),Jx:function(){var b=c.V.ie(this),e=a.j.instance.Da("ui"),d=this.t();new a.e.GameImage(d,"splashBg",e);c.V.qh(b,0.75,0.75,"playButton","playButton",null,c.U.xe(),"ui_click_1","",!1,0.1,l(this,this.cA))},cA:function(){this.Fc&&(this.My(),this.Fc=
!1,a.g.SoundManager.QA(),c.utag.Hd.n().Ci("games","play","[Game Title]","[Game Title]"))},My:function(){this.oc=new c.Ue;c.xa.cc(this,this.oc);a.g.N.na("comicCreatorAssets").load(l(this,this.Vz))},Vz:function(){var b=this;this.oc.An(1,function(){return function(){c.xa.cc(b.oc,new c.Lb)}}(this))},xA:function(){this.Fc&&(a.g.SoundManager.Ml(!a.g.SoundManager.we()),a.g.SoundManager.xr(a.g.SoundManager.we()),this.qo())},uJ:function(){c.X.n().Jg(c.comicCreator.comicCompositions.zf.n().St(this.Cw.Wr));
this.oc=new c.Ue;c.xa.cc(this,this.oc);a.g.N.na("comicCreatorAssets").load(l(this,this.Sq))},Sq:function(){var b=this;this.oc.An(1,function(){return function(){c.xa.cc(b.oc,new c.comicCreator.ne)}}(this))},update:function(){a.P.prototype.update.call(this)},TJ:function(){this.BF.D();this.Fc=!0;this.Oy()},Oy:function(){c.xa.cc(this,new c.Lb)},qo:function(){var b=this.ul.L(a.e.buttons.ed);b.Be(a.g.SoundManager.we()?"splashSoundButtonOff":"splashSoundButtonOn");b.Ce(a.g.SoundManager.we()?"splashSoundButtonOff":
"splashSoundButtonOn")},lC:function(b){b.beginPath();var c=this.AF.q(),d=new a.Vector3D(0,0,0);c.x+=d.x;c.y+=d.y;b.moveTo(c.x,c.y+40);b.lineTo(c.x+499,c.y+7);b.lineTo(c.x+466,c.y+309);b.lineTo(c.x,c.y+309);b.fill();b.closePath()},HK:function(){"splashSoundButtonOn"==this.ul.L(a.e.buttons.ed).ke()?a.g.SoundManager.Ml(!1):a.g.SoundManager.Ml(!0)},l:c.We});c.V=n();c.V.k=!0;c.V.ie=function(b){var c=a.j.instance.Rb(),d=c.ga();c.x*=a.j.instance.fb().x;c.y*=a.j.instance.fb().y;b=b.t();c=new a.R.tj(b,c);
b.setPosition(d.x/2,d.y/2);return c};c.V.Kx=function(b,c,d,f,g,h,p,k,l,m,q,r){var u=a.Rg.su(b.v());(new a.R.Ea(u,b)).Ae(new a.m(c,d));b=new a.e.GameImage(u,f,r);a.e.ba.Dn(b);new a.e.buttons.dg(u,0.25,1,0.15,l);new a.e.buttons.wf(u,1.15,0.25,a.e.A.G.Db,a.e.A.G.Db);new a.e.buttons.Qc(u,h,p,k);new a.e.buttons.ed(u,f,g);new a.e.buttons.Mi(u,m,q);return u};c.V.qh=function(b,a,d,f,g,h,p,k,l,m,q,r){null==q&&(q=0.35);null==m&&(m=!0);null==l&&(l="");null==k&&(k="");return c.V.Kx(b,a,d,f,g,h,q,r,m,k,l,p)};
c.V.Lx=function(b,c,d,f,g,h,p,k,l,m,q,r){b=a.Rg.su(b);b.setPosition(c,d);c=new a.e.GameImage(b,f,r);a.e.ba.Dn(c);new a.e.buttons.dg(b,0.25,1,0.15,l);new a.e.buttons.wf(b,1.15,0.25,a.e.A.G.Db,a.e.A.G.Db);new a.e.buttons.Qc(b,h,p,k);new a.e.buttons.ed(b,f,g);new a.e.buttons.Mi(b,m,q);return b};c.V.kc=function(b,a,d,f,g,h,p,k,l,m,q){var r="ui_click_1";null==m&&(m=0.35);null==l&&(l=!0);null==k&&(k="");null==r&&(r="");return c.V.Lx(b,a,d,f,g,h,m,q,l,r,k,p)};c.V.En=function(b,e,d,f,g,h,p,k){var l,m;null==
m&&(m=!0);null==l&&(l="");null==k&&(k="");var q=g.v();b=c.V.qh(g,b,e,f,f,p,h,k,l,m,0.25,void 0);q=q.t();q.setPosition(0,-5);h=new a.e.Wa(q,h);h.pb(a.Ma.Gb(d));h.yd("league_gothic");h.le("#FFFFFF");h.Pc("36px");b.H(q);return b.L(a.R.Ea)};c.V.Fn=function(b,c,d,f){b=b.t();(new a.R.Ea(b,c)).Ae(new a.m(d,f));return b};c.V.Gn=function(b,e,d,f,g,h){var p;null==p&&(p=!0);null==h&&(h="default");b=c.V.Fn(b,e,d,f);""!=g&&(g=new a.e.GameImage(b,g,a.j.instance.Da(h)),p&&g.S());return b};c.V.prototype={l:c.V};
c.nm=function(){this.ym=[];this.ym=[]};c.nm.k=!0;c.nm.prototype={Vu:function(b,a){null==this.ym[c.Pa.sb.n().be]&&(this.ym[c.Pa.sb.n().be]=[]);this.ym[c.Pa.sb.n().be][b]=a},Wu:s("as"),l:c.nm};c.Xj={};c.Xj.vk=function(){a.P.call(this)};c.Xj.vk.k=!0;c.Xj.vk.C=a.P;c.Xj.vk.prototype=m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);this.gc=a.j.instance;var b=new a.g.pe;this.gc.he(b);b=new a.g.bb;this.gc.he(b);var c=new a.g.Tc;this.gc.he(c);c=new a.g.Cf;this.gc.he(c);c=new a.g.Yg;this.gc.he(c);c=
new a.$a.Hf;this.gc.he(c);c=new a.g.Mg;this.gc.he(c);b.Et();this.Ty();this.cy()},cy:function(){var b=new a.LoadBatch;b.Me("assetList",k.of+"asset_list.xml",a.AssetType.Other);b.Me("strings",k.of+"./strings/"+k.In+"/strings.xml",a.AssetType.Other);b.Me("gameConfig",k.of+"game_config.xml",a.AssetType.Other);b.Me("styleSheet",k.of+"./css/style.css",a.AssetType.Wl);b.Me("styleSheet",k.of+"./css/game.css",a.AssetType.Wl);b.Me("fonts",k.of+"./css/stylesheet.css",a.AssetType.Wl);b.Me("speechMap",k.of+"./media/xml/speech_map.xml",
a.AssetType.Other);b.Me("soundManager",k.of+"./js/soundmanager2-nodebug-jsmin.js",a.AssetType.Javascript);b.Me("ipadLandscapeHtml",k.of+"./media/html/ipad_landscape.html",a.AssetType.Other);b.Me("iphoneLandscapeHtml",k.of+"./media/html/iphone_landscape.html",a.AssetType.Other);b.load(l(this,this.fz))},fz:function(){a.ta.OA(a.g.N.na("gameConfig"));a.Ma.Uy();a.$a.Hf.n().setup();if(a.j.nb()||"NONE"!=a.ta.za("forceOrientation")){var b=new a.$j.Bk;this.gc.Kc(b);a.j.instance.hk()}b=a.g.N.na("assetList");
for(b=r.parse(b).la("loadBatches").next().la("loadBatch");b.Sb();){for(var c=new a.LoadBatch,d=b.next(),f=k.of+d.get("basePath"),g=d.la("asset");g.Sb();){var h=g.next();c.Me(h.get("name"),f+h.get("path"),z.Bx(a.AssetType,h.get("type")))}a.g.N.Ud(d.get("name"),c)}a.g.N.na("loadScreenBatchPreload").load(l(this,this.Xz))},Xz:function(){this.oc=new c.Ue;this.gc.Kc(this.oc);this.gc.$n();var b=new c.Qb.Bf;this.gc.he(b);b=new c.comicCreator.Q.$b;this.gc.he(b);b=new c.comicCreator.comicCompositions.zf;this.gc.he(b);
b=new c.Zc.xf;this.gc.he(b);b=new c.utag.Hd;this.gc.he(b);b=a.g.N.na("loadBatchPreload");b.sx(a.g.N.na("menusLoadBatch"));b.load(l(this,this.dA))},dA:function(){this.D();a.j.instance.he(new c.comicCreator.ia);c.xa.cc(this.oc,new c.We)},Ty:function(){this.gc.Eg(new a.rb("master",k.Sc,k.Rc,0,!0));this.gc.Eg(new a.rb("defaultBg",k.Sc,k.Rc));this.gc.Eg(new a.rb("default",k.Sc,k.Rc));this.gc.Eg(new a.rb("ui",k.Sc,k.Rc));this.gc.Eg(new a.rb("uiFront",k.Sc,k.Rc));this.gc.Eg(new a.rb("orientation",k.Sc,k.Rc));
this.gc.Eg(new a.rb("debug",k.Sc,k.Rc))},l:c.Xj.vk});c.Zc={};c.Zc.Oi=function(b,a,c,f,g,h,p,k){this._id=b;this.Wr=c;this.mt=g;this.Kr=k};c.Zc.Oi.k=!0;c.Zc.Oi.Mc=function(b){var a=b.get("id");b.get("title");var d=b.get("compositionId");b.get("youtubeId");var f=b.get("thumbnail");b.get("printable");b.get("printableThumbnail");b="TRUE"==b.get("available").toUpperCase()?!0:!1;return new c.Zc.Oi(a,0,d,0,f,0,0,b)};c.Zc.Oi.prototype={zq:y("_id"),l:c.Zc.Oi};c.Zc.xf=function(){a.Z.call(this);c.Zc.xf.ca=this;
this.Jf=[];for(var b=r.parse(a.g.N.na("comicChallenges")).firstChild().la("challenge");b.Sb();){var e=b.next(),e=c.Zc.Oi.Mc(e);this.Jf.push(e)}};c.Zc.xf.k=!0;c.Zc.xf.n=function(){return c.Zc.xf.ca};c.Zc.xf.C=a.Z;c.Zc.xf.prototype=m(a.Z.prototype,{SG:y("Jf"),DJ:function(b){for(var a=this.Nt(),c=a.length,f=0;f<c;){var g=f++;if(a[g]._id==b)return!0}return!1},Nt:function(){for(var b=[],a=this.Jf.length,c=0;c<a;){var f=c++;this.Jf[f].Kr&&b.push(this.Jf[f])}return b},eJ:function(){for(var b=[],a=this.Jf.length,
c=0;c<a;){var f=c++;this.Jf[f].Kr||b.push(this.Jf[f])}return b},py:function(){var b=this.Nt();return b[b.length-1]},RG:function(b){for(var a=this.Jf.length,c=0;c<a;){var f=c++,f=this.Jf[f];if(f.Wr==b)return f}return null},l:c.Zc.xf});c.comicCreator={};c.comicCreator.Re=function(b,c,d,f,g,h){this.fw=!0;this.jn=null;this.kf=-1;a.h.call(this,b,"Comic");this.kn=c;this.Sa=[];this.r=f;this.dn=g;this.zw=h;this.Yx(d)};c.comicCreator.Re.k=!0;c.comicCreator.Re.C=a.h;c.comicCreator.Re.prototype=m(a.h.prototype,
{Nn:y("r"),dH:y("Wf"),pI:y("jn"),ev:s("jn"),qI:y("kn"),sI:y("Sa"),zi:function(){return-1==this.kf?null:this.Sa[this.kf]},Yx:function(b){this.Wf=b;var a=this.v().t(),d=new c.Vc(a,"whiteBg",this.kn,this.r,c.comicCreator.Q.$b.n().dk());d.Fi(this.dn);d.Zb(b.gw,b.hw);a.Y(1/d.$().x*b.Pb,1/d.$().y*b.Wb);this.f.H(a);a=b.Zh.length;for(d=0;d<a;){var f=d++,f=c.comicCreator.wk.yx(this.v(),this.kn,b.Zh[f],f,this.r,this.zw);this.f.H(f.f);f.addEventListener("click",l(this,this.rz));f.addEventListener("sceneEntitySelected",
l(this,this.tz));f.addEventListener("sceneEntityDeselected",l(this,this.sz));this.Sa.push(f)}},sz:function(){if(null!=this.v())for(var b=this.zi(),a=this.Sa.length,c=0;c<a;){var f=c++,f=this.Sa[f];b!=f&&this.v().jc(f.f,!0)}},oG:function(){for(var b=this.Sa.length,a=0;a<b;){var c=a++;this.Sa[c].Zu(!0)}},Ln:function(){for(var b=this.Sa.length,a=0;a<b;){var c=a++;this.Sa[c].Zu(!1)}},tk:function(){for(var b=this.Sa.length,a=0;a<b;){var c=a++;this.Sa[c].tk(!0)}},bo:function(){for(var b=this.Sa.length,
a=0;a<b;){var c=a++;this.Sa[c].bo()}},rz:function(b){var c=a.g.bb.n().Oc();(null==this.jn||this.jn.ux(c))&&this.kk(b.target.Jb)},tz:function(b){var a=this.zi();b=b.bt;null!=a&&null!=b&&this.fw&&a.Jb!=b._paneIndex&&this.kk(b._paneIndex)},SA:function(){this.kk(this.kf-1);this.Sa[this.kf].Rl()},ez:function(){this.kk(this.kf+1);this.Sa[this.kf].Rl()},kk:function(b){0>b||b>this.Sa.length-1||this.kf==b||(-1!=this.kf&&this.Sa[this.kf].Nx(),this.kf=b,this.Sa[this.kf].select(),this.dispatchEvent(new c.comicCreator.Ti("paneSelect",
this.Sa[b],b)))},qf:function(){for(var b=new c.comicCreator.comicCompositions.ComicComposition(c.X.n().lb._id,c.X.n().lb.dc()._id),a=this.Sa.length,d=0;d<a;){for(var f=d++,g=this.Sa[f],h=g.ck(),k=h.length,l=0;l<k;){var m=l++;b.zl(h[m])}h=g.mc.Ka();g=g.mc.w;b.zj[f]=new c.comicCreator.comicCompositions.Si(h.x,h.y,g.x,g.y)}return b},kv:function(){for(var b=this.Sa.length,a=0;a<b;){var c=a++;this.Sa[c].Rl(!0)}},Kl:function(b){var c=this.f.q();a.j.instance.Va();b.getContext("2d").fillStyle="#FFFFFF";b.getContext("2d").fillRect(this.f.q().x,
this.f.q().y,this.Wf.Pb*this.f.W().x,this.Wf.Wb*this.f.W().y);for(var d=this.Sa.length,f=0;f<d;){var g=f++;this.Sa[g].Bb.Ct(b)}this.f.setPosition(c.x,c.y)},yJ:function(b){var e=new c.comicCreator.Qi(this);a.j.instance.Kc(e);e.addEventListener("capture",b)},WJ:n(),yi:function(b){for(var a=b.ck().length,d=0;d<a;){var f=d++,f=b.ck()[f],g=this.Sa[f._paneIndex],h=g.iq(c.comicCreator.Q.$b.n().uq(f._assetName),f._x,f._y,this.kn,!1);h.f.yh(0,0,f.dd());h.f.Y(f._scaleX,f._scaleY);g.Rl(!0)}a=b.zj.length;for(d=
0;d<a;)f=d++,g=this.Sa[f],h=b.zj[f],g.mc.setPosition(h.x,h.y),g.mc.Y(h.lr,h.mr),new c.comicCreator.Cd(g.f,this,f)},EK:function(b){b.clear();b.Ha().getContext("2d").fillStyle="#FFFFFF";b.Ha().getContext("2d").fillRect(0,0,this.Wf.Pb,this.Wf.Wb);for(var a=this.Sa.length,c=0;c<a;){var f=c++;this.Sa[f].Bb.Ct(b.Ha())}k.Ua().open(b.Ha().toDataURL("image/png"),"_blank","")},l:c.comicCreator.Re});c.comicCreator.Pi=function(b,c){this.$e="";a.p.O.call(this,b);this.$e=c};c.comicCreator.Pi.k=!0;c.comicCreator.Pi.C=
a.p.O;c.comicCreator.Pi.prototype=m(a.p.O.prototype,{getData:y("$e"),l:c.comicCreator.Pi});c.comicCreator.Qi=function(b){this.eq=3;a.P.call(this);var e=this.t();this.Vr=c.X.n().lb.dc().Pb;this.Ur=c.X.n().lb.dc().Wb;this.aq=new a.rb("temp",this.Vr,this.Ur);a.j.instance.Eg(this.aq,!0);this.ja=new c.comicCreator.Re(e,this.aq,b.qf().dc());this.ja.yi(b.qf());this.ja.kv();this._canvas=k.oa().createElement("canvas");this._canvas.width=this.Vr;this._canvas.height=this.Ur;this._canvas.setAttribute("webkitTransform",
"translate3d(0px, 0px, 0px);");this._canvas.style.position="absolute";this.s();for(b=0;100>b;)b++,this.update()};c.comicCreator.Qi.k=!0;c.comicCreator.Qi.C=a.P;c.comicCreator.Qi.prototype=m(a.P.prototype,{Va:function(){a.P.prototype.Va.call(this);this.eq--;if(0==this.eq){this.ja.Kl(this._canvas);var b=this._canvas.toDataURL("image/jpeg");this.aq.D();this.dispatchEvent(new c.comicCreator.Pi("capture",b));this.D()}},l:c.comicCreator.Qi});c.comicCreator.Ib=function(b){this.Nd=this.kp=this.Rr=!1;a.h.call(this,
b,"ComicCreator")};c.comicCreator.Ib.k=!0;c.comicCreator.Ib.IK=function(b){c.comicCreator.Ib.vl=new c.Ue;c.xa.cc(b,c.comicCreator.Ib.vl);a.g.N.na("comicCreatorAssets").load(c.comicCreator.Ib.oz)};c.comicCreator.Ib.oz=function(){a.g.N.jo("streamingAssets");c.comicCreator.Ib.vl.An(1,function(){c.xa.cc(c.comicCreator.Ib.vl,new c.comicCreator.ne)})};c.comicCreator.Ib.Tq=function(b){b.target.D();a.j.instance.Kc(new c.comicCreator.ne)};c.comicCreator.Ib.C=a.h;c.comicCreator.Ib.prototype=m(a.h.prototype,
{oH:y("bi"),cJ:y("Ke"),s:function(){var b=this;a.h.prototype.s.call(this);null!=c.comicCreator.Ib.vl&&(c.comicCreator.Ib.vl=null);a.g.N.jo("menusLoadBatch");this.rm=a.j.instance.Da("defaultBg");this.bi=a.j.instance.Da("default");this.Ke=a.j.instance.Da("ui");this.xl=a.j.instance.Da("uiFront");this.Sy();var e=c.V.ie(this.v());this.Dc=this.v().t();this.Dc.Y(1,1);new c.cd.ig(this.Dc,"screenBg",this.rm);new a.R.Ea(this.Dc,e);new a.e.GameImage(this.Dc,"screenBg",this.rm);e=this.v().t();e.setPosition(338,
98);this.ja=new c.comicCreator.Re(e,this.bi,c.X.n().lb.dc(),this.Kf,null,null);c.X.n().lb.dc();this.Kf.Zb(new a.m(-338,-98));null!=c.X.n().lb&&this.ja.yi(c.X.n().lb);this.ja.addEventListener("paneSelect",l(this,this.Bu));this.ja.ev(new a.hd(338,98,686,528));e=this.v().t();this.cf=new c.comicCreator.F.pa(e,this.Ke,this.rm,this.xl);this.cf.addEventListener("backButtonClick",l(this,this.Lz));this.cf.addEventListener("finishClick",l(this,this.Nz));this.cf.addEventListener("previousPanelClick",l(this,
this.Qz));this.cf.addEventListener("nextPanelClick",l(this,this.Pz));this.cf.addEventListener("previewClick",l(this,this.Rz));this.cf.addEventListener("resetClick",l(this,this.hA));this.cf.addEventListener("soundButtonClick",l(this,this.yA));this.cf.addEventListener("helpClick",l(this,this.Iz));this.cf.addEventListener("homeButtonClick",l(this,this.Kz));this.cf.addEventListener("itemDockClick",l(this,this.Oz));a.g.Cf.n().addEventListener("comicSnapshot",l(this,this.uz));e=this.v().t();e.setPosition(a.j.instance.Rb().x/
2,a.j.instance.Rb().y/2);this.vw=new a.e.ba(e,new a.m(1024,768));this.vw.tf(l(this,this.pz));this.cf.addEventListener("dropAsset",l(this,this.Mz));c.comicCreator.qb.Ne().addEventListener("startManipulation",l(this,this.Gu));c.comicCreator.qb.Ne().addEventListener("stopManipulation",l(this,this.Hu));c.comicCreator.qb.Ne().addEventListener("doneClick",l(this,this.Ez));var d="comicCompositionThumbnail"+c.X.n().getUserData().as+"_"+c.Pa.sb.n().be,e=c.comicCreator.Q.$b.n().uq(d+"_Background");if(null==
e){var e=new c.comicCreator.Q.Xd(d+"_Background","","","","",1),f=a.g.N.na(d+"_Background");if(null!=f){var g=Math.max(this.ja.Wf.Pb/f.width,this.ja.Wf.Wb/f.height),d=new c.comicCreator.Q.cg(d+"_Background",-f.width/2,-f.height/2);d.Y(g,g);e.zn(d);g=new c.comicCreator.comicCompositions.yf(650,250,0,g,g,0,c.comicCreator.ia.ve());c.X.n().lb.zl(g);e.oB("background");c.comicCreator.Q.$b.n().gq(e);this.pq(650,250,e)}}e=!0;g=this.ja.Sa.length;for(d=0;d<g;)if(f=d++,null!=this.ja.Sa[f].Hg()){e=!1;break}this.Lf=
new a.e.Dd(this.f);e&&this.Lf.nf(1.5,function(){b.ja.Sa[0].f.Eb(c.comicCreator.Cd)[0].Yn()})},gK:function(){var b=c.comicCreator.Q.$b.n().uq(c.comicCreator.ia.ve());null==b&&(b=new c.comicCreator.Q.Xd(c.comicCreator.ia.ve(),"","","","",1));b.ut(new c.comicCreator.Q.Gh(c.comicCreator.ia.ve(),1,1));var a=c.comicCreator.ia.On(),d=new c.comicCreator.Q.cg(c.comicCreator.ia.ve(),-a.width/2,-a.height/2),a=Math.max(686/a.width,528/a.height);d.Y(a,a);b.zn(d);d=new c.comicCreator.comicCompositions.yf(650,250,
0,a,a,0,c.comicCreator.ia.ve());c.X.n().lb.zl(d);c.comicCreator.Q.$b.n().gq(b);this.pq(650,250,b)},Sy:function(){c.X.n().lb.dc();this.Kf=c.fg.Dt(-42,-31,this.v());this.Kf.DB(686,528);this.nw=this.v().t()},Gu:function(){this.kp=!0},Hu:function(){this.kp=!1},Ez:function(){null!=this.ja.zi()&&this.ja.zi().Jn()},pz:function(){this.Rr&&(this.Pd=a.g.bb.n().Oc(),this.Pr=this.Kf.f.q(),this.Nd=!0)},qz:function(){this.Rr&&(this.Nd=!1)},update:function(){a.h.prototype.update.call(this);if(this.Nd&&!this.kp){var b=
a.g.bb.n().Oc(),b=new a.m(this.Pd.x-b.x,this.Pd.y-b.y);this.Kf.f.setPosition(this.Pr.x+b.x,this.Pr.y+b.y)}},Mz:function(b){this.pq(b.q().x,b.q().y,b.cb)},Xn:function(b){b=b.zc();b=this.Kf.zy(b.x,b.y);this.nw.setPosition(b.x,b.y)},pq:function(b,e,d,f){null==f&&(f=!0);for(var g=this.ja.Sa.length,h=0;h<g;){var k=h++,k=this.ja.Sa[k];if(k.Vn(b,e,!0)&&(null!=k.Hg()||"background"==d.te)){b=new a.m(b,e);b.x-=k.f.q().x;b.y-=k.f.q().y;b.x+=this.Kf.f.q().x;b.y+=this.Kf.f.q().y;b.x-=k.mc.Ka().x;b.y-=k.mc.Ka().y;
b.x/=k.mc.W().x;b.y/=k.mc.W().y;b=k.iq(d,b.x,b.y,this.bi,!0);b.f.Y(b.f.w.x/k.mc.W().x,b.f.w.y/k.mc.W().y);null!=b&&(b=this.v().t(),e=a.g.bb.n().Oc(),b.setPosition(e.x,e.y),(new c.jk.zk(b,this.xl)).Rx(),b.D(),a.g.SoundManager.ob("ui_burst_1"));f&&(this.ja.kk(k.Jb),this.Xn(k));""!=d.te&&("frames"!=d.te&&"filters"!=d.te)&&k.Qu();break}}},Bu:function(b){this.Xn(b.eb);a.g.SoundManager.ob("panel_change_1")},ib:function(b,c){a.h.prototype.ib.call(this,b,c);switch(b){case "mouseUp":this.qz()}},D:function(){a.h.prototype.D.call(this);
c.comicCreator.qb.Ne().removeEventListener("startManipulation",l(this,this.Gu));c.comicCreator.qb.Ne().removeEventListener("stopManipulation",l(this,this.Hu))},Lz:function(){a.j.instance.Pl(this.v(),new c.Lb)},Qz:function(){this.ja.SA();this.Xn(this.ja.zi())},Pz:function(){this.ja.ez();this.Xn(this.ja.zi())},Nz:function(){this.Lf.mq();c.X.n().Jg(this.ja.qf());c.Pa.sb.n();var b=c.X.n().getUserData();b.Vu(b.as,this.ja.qf());c.X.n();c.xa.cc(this.v(),new c.rc)},fK:function(){c.xa.cc(this.v(),new c.comicCreator.ne)},
Rz:function(){c.X.n().Jg(this.ja.qf());var b=new c.comicCreator.Se;b.addEventListener("closeClick",c.comicCreator.Ib.Tq);a.j.instance.Pl(this.v(),b)},uz:n(),hA:function(){a.j.instance.Kc(new c.Lh(this.v(),a.Ma.Gb("CLEAR_COMIC_HEADER"),a.Ma.Gb("CLEAR_COMIC_BODY"),l(this,this.iA)));this.v().pause()},iA:function(){this.ja.f.D();var b=this.v().t();b.setPosition(338,98);this.ja=new c.comicCreator.Re(b,this.bi,c.X.n().lb.dc(),this.Kf,null,null);b=c.X.n().lb;if(null!=b){var e=b.dc()._id,b=c.comicCreator.comicCompositions.zf.n().St(b._id);
null==b&&(b=new c.comicCreator.comicCompositions.ComicComposition("",e));c.X.n().Jg(b);var e=c.X.n().lb.dc().Zh[0].zc().x,d=c.X.n().lb.dc().Zh[0].zc().y;b.zl(new c.comicCreator.comicCompositions.yf(e,d,0,1,1,0,this.ja.Wf.iw));this.ja.yi(b)}this.ja.addEventListener("paneSelect",l(this,this.Bu));this.ja.ev(new a.hd(338,98,686,528));this.ja.kk(0)},yA:function(){a.g.SoundManager.Ml(!a.g.SoundManager.we());a.g.SoundManager.xr(a.g.SoundManager.we())},Iz:n(),Kz:function(){a.j.instance.Kc(new c.Lh(this.v(),
a.Ma.Gb("GAMEPLAY_SCREEN_QUIT_CONFIRM"),a.Ma.Gb("GAMEPLAY_SCREEN_QUIT_CONFIRM_TEXT"),l(this,this.wz)));this.v().pause()},wz:function(){c.xa.cc(this.v(),new c.Lb)},Oz:function(){var b=this.ja.zi();null!=b&&b.Jn()},aM:n(),bM:function(b){b.beginPath();var a=this.xn.q(),c=this.Kf.f.q();a.x+=c.x;a.y+=c.y;b.moveTo(a.x-349.5,a.y-317.5);b.lineTo(a.x+349.5,a.y-317.5);b.lineTo(a.x+349.5,a.y+317.5);b.lineTo(a.x-349.5,a.y+317.5);b.closePath()},lC:function(b){b.beginPath();var c=this.xn.q(),d=new a.Vector3D(0,
0,0);c.x+=d.x;c.y+=d.y;b.moveTo(c.x-349.5,c.y-317.5);b.lineTo(c.x+349.5,c.y-317.5);b.lineTo(c.x+349.5,c.y+317.5);b.lineTo(c.x-349.5,c.y+317.5);b.closePath()},l:c.comicCreator.Ib});c.comicCreator.wk=n();c.comicCreator.wk.k=!0;c.comicCreator.wk.yx=function(b,a,d,f,g,h){b=b.t();b.setPosition(d._x,d._y);return new c.comicCreator.De(b,f,d,a,g,h)};c.comicCreator.wk.prototype={l:c.comicCreator.wk};c.comicCreator.ne=function(){a.P.call(this)};c.comicCreator.ne.k=!0;c.comicCreator.ne.C=a.P;c.comicCreator.ne.prototype=
m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);var b=this.t();new c.comicCreator.Ib(b)},l:c.comicCreator.ne});c.comicCreator.De=function(b,e,d,f,g,h){this.Qf=!0;this.Xm=this.Wm=!1;a.h.call(this,b,"ComicPane");this.mc=this.v().t();this.f.H(this.mc);this.Jb=e;this.Bb=new a.rb("comicPane"+this.Jb,k.Sc,k.Rc);this.Bb.lB("#FFFFFF");this.Bb.Fi(l(this,this.wu));this.Bb.kB(!1);a.j.instance.ru(this.Bb,f);this.Ab=h;this.tc=d;this.Ja=[];this.r=g;this.Aw=a.ta.za("maxNumObjectsPerPane");this.K=this.Bb;
this.Ab=h;this.md=this.tc.Uf;b=new a.Cb.hj;e=this.tc.Uf.length;for(d=0;d<e;)f=d++,f=this.tc.Uf[f],b.Bn(f.x,f.y);b.Bn(this.tc.Uf[0].x,this.tc.Uf[0].y);this.ae=new a.e.td.Tg(this.f,b);this.Wj=this.v().t();this.Wj.setPosition(this.zc().x/2,this.zc().y/2);(new a.e.GameImage(this.Wj,"overlayBlack",this.Bb,this.r)).S();this.Wj.Y(100,100);this.f.H(this.Wj);b=this.v().t();this.f.H(b);this.sm=new a.e.GameImage(b,"overlay",this.Bb,this.r);this.sm.S();this.sm.Y(150,150);this.sm.kb(0);this.J=new a.e.ma(this.f);
this.Xk=this.v().t();this.Xk.setPosition(this.tc.zc().x,this.tc.zc().y);this.f.H(this.Xk);this.Wk=this.v().t();(new a.e.GameImage(this.Wk,"editIcon",this.Bb,this.r)).S();this.Xk.H(this.Wk);new a.e.ba(this.Wk,new a.m(this.$().x,this.$().y),null,null,this.r);new c.cd.Bh(this.Wk,0);b=new a.Cb.hj;e=this.tc.Uf.length;for(d=0;d<e;)f=d++,f=this.tc.Uf[f],b.Bn(f.x,f.y);b.Bn(this.tc.Uf[0].x,this.tc.Uf[0].y);this.ae=new a.e.td.Tg(this.f,b);this.Lf=new a.e.Dd(this.f)};c.comicCreator.De.k=!0;c.comicCreator.De.C=
a.h;c.comicCreator.De.prototype=m(a.h.prototype,{hH:y("mc"),xH:y("Qf"),Zu:function(b){this.Qf=b;b=this.Ja.length;for(var a=0;a<b;){var c=a++;this.Ja[c].T(this.Qf)}this.Wk.xb(this.Qf)},$:function(){return this.ae.wq().$()},Aq:y("Jb"),s:function(){a.h.prototype.s.call(this);this.Ia=this.f.L(a.e.GameImage);null!=c.comicCreator.F.pa.n()&&c.comicCreator.F.pa.n().addEventListener("clearFiltersClick",l(this,this.lz))},lz:function(b){this.Jb==b.Ls&&this.qx()},qx:function(){for(var b=this.Ja.length,a=0;a<
b;){var c=a++,c=this.Ja[c];0<c.cb.ci.length?(c.D(),u.remove(this.Ja,c)):0<c.cb.ei.length&&(c.D(),u.remove(this.Ja,c))}null!=this.Of&&this.Of.D();null!=this.Md&&this.Md.D();this.lk(null);this.rr(null)},update:function(){a.h.prototype.update.call(this);this.v().qu(this.Wj,this.f);null!=this.Md&&this.v().jc(this.Md,!0)},Rl:function(){this.Xm||(this.Xm=!0)},az:function(b){null==b&&(b=!1);if(this.Xm){for(var c=this.Xk.Eb(a.e.GameImage),d=c.length,f=0;f<d;){var g=f++,g=c[g];b&&g.kb(1)}this.Xm=!1}},zc:function(){var b=
this.f.q();b.x+=this.tc.zc().x;b.y+=this.tc.zc().y;return b},rf:function(){return this.tc.zc().ga()},Au:n(),iq:function(b,e,d,f,g){null==g&&(g=!1);var h=this,k=0<b.Vh.length,t=0<b.ei.length,m=0<b.ci.length;if(this.Ja.length>=this.Aw&&!k&&!t)return null;var q=c.comicCreator.Q.Xd.Kt(this.v(),b,f,this.r);q.setPosition(e,d);q.addEventListener("destroy",l(this,this.rA));q.Y(b.Cj,b.Cj,b.Cj);var r=new c.comicCreator.Ve(q,this.r,b,this.ae);r.HB(this.Jb);if(k||m||t){r.f.setPosition(this.tc.zc().x,this.tc.zc().y);
b=this.Ja.length;for(e=0;e<b;)d=e++,d=this.Ja[d],k&&d.ku()?d.f.D():t&&d.nu()?d.f.D():m&&d.mu()&&d.f.D();b=this.Ja.length;for(e=0;e<b;)if(d=e++,d=this.Ja[d],k&&d.ku()){d.f.D();u.remove(this.Ja,d);break}else if(t&&d.nu()){d.f.D();u.remove(this.Ja,d);break}else if(m&&d.mu()){d.f.D();u.remove(this.Ja,d);break}r.pr(!1);if(m)q.Eb(a.e.GameImage)[0].f.D();else for(k=q.Eb(a.e.GameImage),t=k.length,m=0;m<t;)b=m++,k[b].f.D()}else{k=q.Eb(c.Vc);if(null!=k)for(t=k.length,m=0;m<t;)b=m++,b=k[b],b.sf(this.r),b.Kg(this.Bb);
k=q.Eb(a.e.Yd);if(null!=k)for(t=k.length,m=0;m<t;)b=m++,b=k[b],b.sf(this.r),b.Kg(this.Bb);k=q.Eb(c.comicCreator.Fd);if(null!=k)for(t=k.length,m=0;m<t;)b=m++,b=k[b],b.sf(this.r),b.Kg(this.Bb)}this.mc.H(q);r.addEventListener("select",l(this,this.dr));this.Ja.push(r);r.select();g?(g=r.sk(),null!=g&&g.L(c.comicCreator.qb).ho(new a.m(this.mc.q().x,this.mc.q().y))):r.Oe();g=r.cb.Vh.length;for(q=0;q<g;)k=q++,k=r.cb.Vh[k],t=k.Al(this.v(),this.r,this.Bb),t.Y(k.W().x,k.W().y),this.nr(t),u.remove(this.Ja,r),
this.Ja.splice(0,0,r);g=r.cb.ei.length;if(0<g){q=this.v().t();for(k=0;k<g;)t=k++,m=r.cb.ei[t],"frameClear"==m._assetName?null!=this.Md&&(this.Md.D(),this.Md=null):(t=m.Al(this.v(),this.r,f),t.Y(m.W().x,m.W().y),b=t.L(a.e.GameImage),"right"==m.om?(t.translate(this.$().x,0),b.Zb(-b.$().x,b.Za().y)):"left"!=m.om&&"center"==m.om&&(t.translate(0.5*this.$().x,0),b.Zb(0.5*-b.$().x,b.Za().y)),"top"!=m.Ho&&"bottom"==m.Ho&&(t.translate(0,this.$().y),b.Zb(b.Za().x,-b.$().y)),0<m.Pb&&0<m.Wb&&(b=this.$().x/m.Pb,
m=this.$().y/m.Wb,t.Y(b,m)),q.H(t));this.rr(q)}g=r.cb.ci.length;for(q=0;q<g;){var k=q++,v=[r.cb.ci[k]];if("filterClear"==v[0]._assetName){var w=[this.v().t()];w[0].setPosition(this.rf().x,this.rf().y);this.f.H(w[0]);(new a.e.GameImage(w[0],"filterLoadingBg",this.Bb,this.r)).S();var A=[this.Hg().L(c.Vc)];this.Lf.nf(0.05,function(){return function(b,c){return function(){a.g.N.Sd(b[0].ke()+"original")&&(b[0].$f().src=a.g.N.na(b[0].ke()+"original").src);c[0].D()}}(A,w)}(this))}else{var z=[v[0].Al(this.v(),
this.r,f)];z[0].Y(v[0].W().x,v[0].W().y);this.lk(z[0]);var B=[this.v().t()];this.f.H(B[0]);(new a.e.GameImage(B[0],"filterLoadingBg",this.Bb,this.r)).S();B[0].setPosition(this.rf().x,this.rf().y);null!=this.Hg()&&this.Lf.nf(0.05,function(){return function(b,e,d){return function(){var f=h.Hg().L(c.Vc);if(!a.g.N.Sd(f.ke()+"original")){var g=a.g.N.na(f.ke());a.g.N.Ud(f.ke()+"original",g)}g=c.Ak.dz(a.g.N.na(d[0]._assetName),a.g.N.na(f.ke()+"original"));f.$f().src=g.src;b[0].D();h.lk(null);e[0].D();r.D();
u.remove(h.Ja,r)}}(B,z,v)}(this))}}return r},Hg:y("Dc"),nr:function(b){if(null!=this.Dc){var e=new a.e.ma(this.Dc),d=this.Dc.Eb(a.e.GameImage)[0];e.I(d,"_alpha",1,0,0.35,a.e.A.G.Qa,0,function(){d.D()})}this.Dc=b;this.Xk.xb(null==this.Dc);if(null!=b){this.mc.H(this.Dc);this.Dc.setPosition(this.tc.zc().x-this.$().x/2,this.tc.zc().y-this.$().y/2);e=this.Dc.Eb(a.e.GameImage);if(null!=e)for(var f=e.length,g=0;g<f;){var h=g++,h=e[h];h.sf(this.r);h.Kg(this.Bb)}b=b.Eb(a.e.Yd);if(null!=b)for(e=b.length,f=
0;f<e;)g=f++,g=b[g],g.sf(this.r),g.Kg(this.Bb);b=new c.comicCreator.Ve(this.Dc,this.r,null,null);b.pr(!1);this.Dc.setProperty("SceneEntity",b);c.comicCreator.ia.fv();this.v().qu(this.Dc,this.Wj)}},SJ:function(){this.Qu()},Qu:function(){if(null!=this.Dc){var b=this.Dc.za("SceneEntity");null!=b&&b.D()}c.comicCreator.ia.fv()},rr:function(b){null!=this.Md&&this.Md.D();this.Md=b;null!=b?c.comicCreator.Ed.n().tt(this.Jb):c.comicCreator.Ed.n().ir(this.Jb);if(null!=this.Md){this.f.H(this.Md);b=this.Md.Eb(a.e.GameImage);
for(var e=b.length,d=0;d<e;){var f=d++,f=b[f];f.Kg(this.K);f.sf(this.r)}}},lk:function(b){null!=this.Of&&this.Of.D();this.Of=b;null!=b?c.comicCreator.Ed.n().tt(this.Jb):c.comicCreator.Ed.n().ir(this.Jb);null!=this.Of&&(this.mc.H(this.Of),this.Of.setPosition(this.tc.zc().x,this.tc.zc().y),b=this.Of.L(a.e.GameImage),null!=b&&b.Fi(l(this,this.wu)))},dr:function(b){if(this.Qf){null!=this.pi&&this.pi.Oe();this.pi=b=b.target;var e=b.sk();null!=e&&e.L(c.comicCreator.qb).ho(new a.m(this.mc.q().x,this.mc.q().y));
this.v().jc(this.sm.f);this.v().jc(b.f,!0);this.dispatchEvent(new c.comicCreator.Af("sceneEntitySelected",this.pi))}},rA:function(b){b=b.target;this.pi==b.L(c.comicCreator.Ve)&&this.Jn();u.remove(this.Ja,b.L(c.comicCreator.Ve))},select:function(){if(this.Qf&&!this.Wm){for(var b=this.Ja.length,a=0;a<b;){var c=a++;this.Ja[c].T(!0)}this.Rl(0==this.Jb);this.Wm=!0}},Nx:function(){if(this.Qf&&this.Wm){for(var b=this.Ja.length,a=0;a<b;){var c=a++;this.Ja[c].T(!1)}0==b&&this.az();null!=this.pi&&this.pi.Oe();
this.pi=null;this.Wm=!1}},wu:function(b){null!=this.Ab&&(this.Ab(b),b.clip());b.beginPath();var c;c=null!=this.r?this.r.f.q():new a.Vector3D(0,0,0);var d=this.f.q();d.x=Math.round(d.x)-c.x;d.y=Math.round(d.y)-c.y;null!=this.r&&(d.x*=this.r._zoomScale,d.y*=this.r._zoomScale);c=this.md[0].ga();c.xd(this.f.W().x,this.f.W().y);c.x+=d.x;c.y+=d.y;b.moveTo(c.x,c.y);for(var f=this.md.length,g=1;g<f;){var h=g++,h=this.md[h].ga();h.xd(this.f.W().x,this.f.W().y);h.x+=d.x;h.y+=d.y;b.lineTo(h.x,h.y)}b.lineWidth=
2;b.strokeStyle="#FFFFFF";b.lineTo(c.x,c.y);b.closePath();b.stroke()},Hb:function(b){this.Qf&&(b=b.ga(),this.Vn(b.x,b.y)&&this.Yn())},Vn:function(b,c,d){null==d&&(d=!0);null!=this.r&&d&&(b+=this.r.f.q().x,c+=this.r.f.q().y);return this.ae.sd(new a.m(b,c))?!0:!1},Yn:function(){this.Qf&&(this.Jn(),this.Vx())},Vx:function(){this.dispatchEvent(new c.comicCreator.Af("click"))},Jn:function(){for(var b=this.Ja.length,a=0;a<b;){var d=a++;this.Ja[d].Oe()}this.dispatchEvent(new c.comicCreator.Af("sceneEntityDeselected"))},
ck:function(){for(var b=[],a=this.Ja.length,d=0;d<a;){var f=d++,f=this.Ja[f],f=new c.comicCreator.comicCompositions.yf(f.f.Ka().x,f.f.Ka().y,f.f.dd().z,f.f.w.x,f.f.w.y,this.Jb,f.cb.getName());b.push(f)}return b},HG:function(){for(var b=[],a=this.Ja.length,d=0;d<a;){var f=d++,f=this.Ja[f],g=new c.comicCreator.comicCompositions.yf(f.f.Ka().x,f.f.Ka().y,f.f.dd().z,f.f.w.x,f.f.w.y,this.Jb,f.cb.getName());0<f.cb.Vh.length&&b.push(g)}return b},ty:function(){for(var b=[],a=this.Ja.length,d=0;d<a;){var f=
d++,f=this.Ja[f],g=new c.comicCreator.comicCompositions.yf(f.f.Ka().x,f.f.Ka().y,f.f.dd().z,f.f.w.x,f.f.w.y,this.Jb,f.cb.getName());0==f.cb.Vh.length&&(0==f.cb.ci.length&&0==f.cb.ei.length)&&b.push(g)}return b},tk:function(b){null==b&&(b=!1);for(var a=this.Ja.length,c=0;c<a;){var f=c++;this.Ja[f].tk(b)}},bo:function(){for(var b=this.Ja.length,a=0;a<b;){var c=a++;this.Ja[c].bo()}},vG:n(),wG:n(),WI:y("Bb"),ib:function(b,c){a.h.prototype.ib.call(this,b,c);if(!c||!c.xh)switch(b){case "mouseDown":this.Hb(c)}},
clear:function(){this.Ja=[]},qc:function(){a.h.prototype.qc.call(this);this.K.D()},l:c.comicCreator.De});c.comicCreator.Af=function(b,c){a.p.O.call(this,b);this.bt=c};c.comicCreator.Af.k=!0;c.comicCreator.Af.C=a.p.O;c.comicCreator.Af.prototype=m(a.p.O.prototype,{KI:y("bt"),l:c.comicCreator.Af});c.comicCreator.Ti=function(b,c,d){a.p.O.call(this,b);this.eb=c;this.Jb=d};c.comicCreator.Ti.k=!0;c.comicCreator.Ti.C=a.p.O;c.comicCreator.Ti.prototype=m(a.p.O.prototype,{Aq:y("Jb"),cH:y("eb"),l:c.comicCreator.Ti});
c.comicCreator.Ui=function(b){a.p.O.call(this,b)};c.comicCreator.Ui.k=!0;c.comicCreator.Ui.C=a.p.O;c.comicCreator.Ui.prototype=m(a.p.O.prototype,{l:c.comicCreator.Ui});c.comicCreator.Se=function(){a.P.call(this)};c.comicCreator.Se.k=!0;c.comicCreator.Se.C=a.P;c.comicCreator.Se.prototype=m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);var b=a.j.instance.Da("ui");this.vb=this.t();this.ah=this.t();this.vb.H(this.ah);this.vb.setPosition(a.j.instance.Rb().x/2,a.j.instance.Rb().y/2);this.fa=c.V.ie(this);
this.r=c.fg.Dt(0,0,this);var e=c.V.Gn(this,this.fa,-0.0048828125,-0.8502604166666666,"","ui"),d=this.t();d.setPosition(0,-3,0);e.H(d);e=new a.e.Wa(d,b);e.pb(a.Ma.Gb("COMIC_PREVIEW"));e.Pc("36px");e.yd("league_gothic");e=this.t();this.vb.H(e);this.ja=new c.comicCreator.Re(e,a.j.instance.Da("ui"),c.X.n().lb.dc(),this.r);this.ja.yi(c.X.n().lb);this.ja.kv();this.ja.Ln();a.j.instance.Rb();var d=new a.m(c.X.n().lb.dc().Pb,c.X.n().lb.dc().Wb),f;f=d.x>d.y?750/d.x:600/d.y;f=Math.min(f,1);this.ah=this.t();
this.ah.Y(f,f);this.ah.setPosition(a.j.instance.Rb().x/2-d.x/2*f+0,a.j.instance.Rb().y/2-d.y/2*f+35);this.ah.H(e);c.V.Gn(this,this.fa,0,0,"screenBg","default").L(a.R.Ea).Y(2,2);c.V.qh(this.fa,-0.86328125,-0.8619791666666666,"backButton","backButton",l(this,this.Rq),b,"ui_click_1")},Rq:function(){this.dispatchEvent(new c.comicCreator.Ui("closeClick"))},l:c.comicCreator.Se});c.comicCreator.Cd=function(b,c,d){this.eb=this.zb=this.r=null;a.h.call(this,b,"ContentDraggablePanel");this.ja=c;this._paneIndex=
d;this.r=c.r};c.comicCreator.Cd.k=!0;c.comicCreator.Cd.C=a.h;c.comicCreator.Cd.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.eb=this.f.L(c.comicCreator.De);this.ae=this.f.L(a.e.td.Tg);this.eb.addEventListener("sceneEntitySelected",l(this,this.dr))},dr:function(){this.Oe()},Hb:function(b){if(!this.eb.Qf)return!1;b=b.ga();return this.Vn(b.x,b.y)?this.Yn():!1},Yn:function(){var b=this;null==this.eb&&(this.eb=this.f.L(c.comicCreator.De));if(this.v().hi||0<this.eb.ty().length)return!1;
null==this.eb.Hg()?(this.v().pause(),c.comicCreator.sa.Kh.show(function(){function a(){if(null!=f){var e=new c.comicCreator.Q.cg(c.comicCreator.ia.ve(),-f.width/2,-f.height/2),h=b.eb.$().x/f.width,k=b.eb.$().y/f.height,h=Math.max(h,k);e.Y(h,h);d.zn(e);c.comicCreator.Q.$b.n().gq(d);b.eb.iq(d,0,0,c.U.ec(),!1);b.eb.Hg().L(c.comicCreator.Ve).pr(!1);b.sk(b.eb.mc);f.onload=null;f.onchange=null}}var d=new c.comicCreator.Q.Xd(c.comicCreator.ia.ve(),c.comicCreator.ia.ve(),"background","","",1),f=c.comicCreator.ia.On();
null!=f&&(0==f.width||null==f.width||0==f.height||null==f.height?(f.onload=a,f.onchange=a):a());b.v().resume();c.X.n().Jg(b.ja.qf())},function(){b.v().resume()}),a.g.SoundManager.ob("ui_click_1")):this.sk(this.eb.mc);return!0},sk:function(b){var e=this;if(null!=this.zb&&c.comicCreator.Cd.Mj==this.zb)return this.zb;this.Oe();this.zb=this.v().t();c.comicCreator.Cd.Mj=this.zb;this.f.H(this.zb);b.za("baseScale");b.Eb(a.e.GameImage)[0].$f();var d=new c.comicCreator.Vg(this.zb,c.U.ec(),85,85,this.r,b.w.x,
1,2),f=b.W().x;b.Y(1,1);0<b.Eb(a.e.Fh).length&&b.Eb(a.e.Fh)[0].D();var g=new a.e.pd(b,new a.m(250,250),null,this.r,b.L(a.e.td.Tg));g.vr(!1);g.$u(!0);this.v().jc(this.zb);b.Y(f,f);f=b.q();this.zb.setPosition(f.x,f.y);null!=this.Xc&&(this.Xc.f.D(),this.Xc=null);this.Xc=new c.comicCreator.qb(this.zb,b,g,null,d,this.r,c.U.ec());this.Xc.wB(!1);this.Xc.KA(function(){e.Oe();e.eb.rr(null);e.eb.lk(null);e.eb.nr(null);e.eb.clear();c.X.n().Jg(e.ja.qf())});this.eb.$();this.eb.$();d=b.Eb(c.Vc)[0];d.$();b.W();
d.$();b.W();this.Xc.addEventListener("doneClick",function(){e.Oe()});this.Xc.addEventListener("deleteClick",function(){for(var b=e.ja.qf().ck(),a=b.length,d=0;d<a;){var f=d++,f=b[f],g=e.ja.qf().ck();u.remove(g,f)}e.eb.nr(null);c.X.n().Jg(e.ja.qf());e.Oe()});return this.zb},ML:function(){c.X.n();var b=c.Pa.sb.n().be,a=c.X.n().getUserData();a.Vu(b,null);a.Wu(b);c.X.n().Jg(this.ja.qf());c.xa.cc(this.v(),new c.comicCreator.ne)},Vn:function(b,c,d){null==d&&(d=!0);null!=this.r&&d&&(b+=this.r.f.q().x,c+=
this.r.f.q().y);return this.ae.sd(new a.m(b,c))?!0:!1},Oe:function(){null!=this.zb&&(this.zb.D(),this.Xc=this.zb=null);null!=c.comicCreator.Cd.Mj&&(c.comicCreator.Cd.Mj.D(),c.comicCreator.Cd.Mj=null)},update:function(){a.h.prototype.update.call(this);if(null!=this.Xc){var b=this.eb.$().x,e=this.eb.$().y,d=this.Xc.Bi().Eb(c.Vc)[0],f=d.$().x*this.Xc.Bi().W().x,d=d.$().y*this.Xc.Bi().W().y;this.Xc.Yu(new a.hd(this.eb.rf().x-(f-b)/2,this.eb.rf().y-(d-e)/2,Math.max(0,f-b),Math.max(0,d-e)));this.eb.rf();
b=this.Xc.Bi().Ka();this.Xc.ho(new a.m(this.eb.rf().x-b.x,this.eb.rf().y-b.y));this.Xc.Ld.sB(new a.m(this.eb.rf().x-b.x,this.eb.rf().y-b.y))}},ib:function(b,c){a.h.prototype.ib.call(this,b,c);if(!c||!c.xh)switch(b){case "mouseDown":this.Hb(c)&&(c.xh=!0)}},D:function(){a.h.prototype.D.call(this);c.comicCreator.Cd.Mj==this.zb&&(c.comicCreator.Cd.Mj=null)},l:c.comicCreator.Cd});c.comicCreator.qb=function(b,c,d,f,g,h,k){this.zp=null;this.Qm=new a.m(0,0);this.Kd=null;this.es=this.Yo=!0;a.h.call(this,b,
"EntityManipulator");this.Ld=d;this.Ic=f;this.xc=g;this.ra=c;this.r=h;this.K=k;null!=this.xc&&this.xc.addEventListener("scaleUpdate",l(this,this.qA));null!=this.Ic&&this.Ic.addEventListener("rotationUpdate",l(this,this.lA));this.Ld.addEventListener("startDragging",l(this,this.Bz));this.Ld.addEventListener("stopDragging",l(this,this.Cz));null!=this.xc&&(this.xc.addEventListener("startDrag",l(this,this.oA)),this.xc.addEventListener("stopDrag",l(this,this.pA)));null!=this.Ic&&(this.Ic.addEventListener("startDragging",
l(this,this.jA)),this.Ic.addEventListener("stopDragging",l(this,this.kA)));this.fc=this.v().t();this.af=this.v().t()};c.comicCreator.qb.k=!0;c.comicCreator.qb.Ne=function(){null==c.comicCreator.qb.is&&(c.comicCreator.qb.is=new a.p.oe);return c.comicCreator.qb.is};c.comicCreator.qb.C=a.h;c.comicCreator.qb.prototype=m(a.h.prototype,{uH:y("Ld"),Bi:y("ra"),JI:y("xc"),NH:y("Qm"),ho:s("Qm"),tH:y("Kd"),Yu:s("Kd"),qH:y("Yo"),RK:s("Yo"),rH:y("es"),wB:s("es"),s:function(){a.h.prototype.s.call(this);this.hh=
this.v().t();this.f.H(this.hh);(new a.e.GameImage(this.hh,"selectUi",this.K,this.r)).S();if(null!=this.fc){this.fc.setPosition(90,-90);this.f.H(this.fc);var b=new a.e.ba(this.fc,new a.m(85,85),null,null,this.r);b.Vd(!0);null==this.zp?b.tf(l(this,this.xz)):b.tf(this.zp);(new a.e.GameImage(this.fc,"trashUi",this.K,this.r)).S()}this.af.setPosition(-90,90);this.f.H(this.af);b=new a.e.ba(this.af,new a.m(50,50),null,null,this.r);b.Vd(!0);b.tf(l(this,this.zz));(new a.e.GameImage(this.af,"doneUi",this.K,
this.r)).S();b=new a.e.ma(this.f);b.I(this.f.w,"x",0.1,1,0.35,a.e.A.G.bd);b.I(this.f.w,"y",0.1,1,0.35,a.e.A.G.bd)},update:function(){a.h.prototype.update.call(this);var b=this.ra.Ka();this.Ld.Ah();null!=this.Kd&&(b.x>this.Kd.u.x+this.Kd.M.x&&(b.x=this.Kd.u.x+this.Kd.M.x),b.y>this.Kd.u.y+this.Kd.M.y&&(b.y=this.Kd.u.y+this.Kd.M.y),b.y<this.Kd.u.y&&(b.y=this.Kd.u.y),b.x<this.Kd.u.x&&(b.x=this.Kd.u.x),this.ra.setPosition(b.x,b.y));var c=this.ra.getParent().W();this.f.setPosition(b.x*c.x+this.Qm.x,b.y*
c.y+this.Qm.y)},Tb:function(){a.h.prototype.Tb.call(this);null!=this.Ic&&this.v().jc(this.Ic.f);this.v().jc(this.f);null!=this.xc&&this.v().jc(this.xc.f.Ga[0]);this.v().jc(this.af);null!=this.fc&&this.v().jc(this.fc)},KA:function(b){var c=this.fc.L(a.e.ba);null!=c&&c.tf(b);this.zp=b},xz:function(){var b=this;this.dispatchEvent(new c.comicCreator.fd("deleteClick",this));if(this.Yo){this.f.D();(new a.e.A.gg(this.ra)).th(1,0.5,0.35,function(){b.ra.D()});var e=new a.e.ma(this.ra);e.I(this.ra.w,"x",this.ra.w.x,
0,0.35,a.e.A.G.Ht);e.I(this.ra.w,"y",this.ra.w.y,0,0.35,a.e.A.G.Ht);a.g.SoundManager.ob("ui_trash_1")}},zz:function(){c.comicCreator.qb.Ne().dispatchEvent(new c.comicCreator.fd("doneClick",this));this.dispatchEvent(new c.comicCreator.fd("doneClick",this));a.g.SoundManager.ob("ui_click_1")},ye:function(){a.h.prototype.ye.call(this);null!=this.xc&&this.xc.T(!0);null!=this.Ic&&this.Ic.T(!0);this.Ld.T(!0)},ze:function(){a.h.prototype.ze.call(this);null!=this.xc&&this.xc.T(!1);null!=this.Ic&&this.Ic.T(!1);
this.Ld.T(!1)},oA:function(){null!=this.Ic&&this.Ic.T(!1);this.Ld.T(!1);null!=this.fc&&this.fc.T(!1);this.af.T(!1);this.hh.T(!1);c.comicCreator.qb.Ne().dispatchEvent(new c.comicCreator.fd("startManipulation",this))},pA:function(){null!=this.Ic&&this.Ic.T(!0);this.Ld.T(!0);null!=this.fc&&this.fc.T(!0);this.af.T(!0);this.hh.T(!0);c.comicCreator.qb.Ne().dispatchEvent(new c.comicCreator.fd("stopManipulation",this));a.g.SoundManager.ob("ui_place_1")},jA:function(){null!=this.xc&&this.xc.T(!1);this.Ld.T(!1);
null!=this.fc&&this.fc.T(!1);this.af.T(!1);this.hh.T(!1);c.comicCreator.qb.Ne().dispatchEvent(new c.comicCreator.fd("startManipulation",this))},kA:function(){null!=this.xc&&this.xc.T(!0);this.Ld.T(!0);null!=this.fc&&this.fc.T(!0);this.af.T(!0);this.hh.T(!0);c.comicCreator.qb.Ne().dispatchEvent(new c.comicCreator.fd("stopManipulation",this));a.g.SoundManager.ob("ui_place_1")},Bz:function(){null!=this.xc&&this.xc.T(!1);null!=this.Ic&&this.Ic.T(!1);null!=this.fc&&this.fc.T(!1);this.af.T(!1);this.hh.T(!1);
c.comicCreator.qb.Ne().dispatchEvent(new c.comicCreator.fd("startManipulation",this));a.g.SoundManager.ob("ui_place_1")},Cz:function(){null!=this.xc&&this.xc.T(!0);null!=this.Ic&&this.Ic.T(!0);null!=this.fc&&this.fc.T(!0);this.af.T(!0);this.hh.T(!0);c.comicCreator.qb.Ne().dispatchEvent(new c.comicCreator.fd("stopManipulation",this));this.f.Ka();a.g.SoundManager.ob("ui_place_1")},qA:function(b){b=b.W();null!=this.ra.getParent()&&(b/=this.ra.getParent().w.x);this.ra.Y(b,b)},lA:function(b){this.ra.yh(0,
0,a.B.aa.yc(b.Zs))},fG:function(){this.fc.D();this.fc=null},D:function(){a.h.prototype.D.call(this)},l:c.comicCreator.qb});c.comicCreator.fd=function(b,c){a.p.O.call(this,b);this.Xc=c};c.comicCreator.fd.k=!0;c.comicCreator.fd.C=a.p.O;c.comicCreator.fd.prototype=m(a.p.O.prototype,{AH:y("Xc"),l:c.comicCreator.fd});c.comicCreator.Ed=function(){c.comicCreator.Ed.ca=this;this.Rk=[]};c.comicCreator.Ed.k=!0;c.comicCreator.Ed.n=function(){null==c.comicCreator.Ed.ca&&(c.comicCreator.Ed.ca=new c.comicCreator.Ed);
return c.comicCreator.Ed.ca};c.comicCreator.Ed.prototype={tt:function(b){this.ir(b);this.Rk.push(b)},ir:function(b){u.remove(this.Rk,b)},oy:function(){return this.Rk[this.Rk.length-1]},reset:function(){this.Rk=[]},l:c.comicCreator.Ed};c.comicCreator.Sg=function(b){a.h.call(this,b,"PhotoFrameSelectionList")};c.comicCreator.Sg.k=!0;c.comicCreator.Sg.C=a.h;c.comicCreator.Sg.prototype=m(a.h.prototype,{s:function(){var b=this;a.h.prototype.s.call(this);this.Mm=[];for(var e=c.Pa.sb.n().fy().lt.length,d=
0;d<e;){var f=[d++],g=this.v().t();g.setPosition(-(125*(e-1)/2)+125*f[0],0*f[0]);this.f.H(g);(new a.e.GameImage(g,"",c.U.ec(),null)).S();this.Mm.push(g);new a.e.ba(g,new a.m(100,100),null,function(a){return function(){b.dispatchEvent(new c.comicCreator.gj("select",a[0]))}}(f));this.gC(f[0])}},gC:function(b,e){null==e&&(e="");var d;d=a.g.N.Sd("comicCompositionThumbnail"+b+"_"+c.Pa.sb.n().be)?"comicCompositionThumbnail"+b+"_"+c.Pa.sb.n().be:a.g.N.Sd("comicCompositionThumbnail"+b+"_"+c.Pa.sb.n().be+
"_Background")?"comicCompositionThumbnail"+b+"_"+c.Pa.sb.n().be+"_Background":"frameSelectionTemp";""!=e&&(d=e);var f=this.Mm[b].L(a.e.GameImage);f.Ei(d);f.S();var g=d=1;if(100<f.$().x||100<f.$().y)d=100/f.$().x,g=100/f.$().y;f=this.Mm[b].L(a.e.ba);f.lc.x/=d;f.lc.y/=g;this.Mm[b].Y(d,g)},l:c.comicCreator.Sg});c.comicCreator.gj=function(b,c){a.p.O.call(this,b);this.Sp=c};c.comicCreator.gj.k=!0;c.comicCreator.gj.C=a.p.O;c.comicCreator.gj.prototype=m(a.p.O.prototype,{MI:y("Sp"),vL:s("Sp"),l:c.comicCreator.gj});
c.comicCreator.ia=function(){a.Z.call(this);c.comicCreator.ia.ca=this};c.comicCreator.ia.k=!0;c.comicCreator.ia.vI=function(){return c.comicCreator.ia.Ps};c.comicCreator.ia.fv=function(){c.comicCreator.ia.Ps=!0};c.comicCreator.ia.Zt=function(){return++c.comicCreator.ia.Bj};c.comicCreator.ia.gy=function(){return c.comicCreator.ia.Bj};c.comicCreator.ia.FK=function(){c.comicCreator.ia.Bj=-1};c.comicCreator.ia.n=function(){return c.comicCreator.ia.ca};c.comicCreator.ia.On=function(){return a.g.N.Sd(c.comicCreator.ia.ve())?
a.g.N.na(c.comicCreator.ia.ve()):null};c.comicCreator.ia.rx=function(){c.comicCreator.ia.Bj=-1};c.comicCreator.ia.aI=function(){return a.g.N.Sd(c.comicCreator.ia.ve()+"original")?a.g.N.na(c.comicCreator.ia.ve()+"original"):null};c.comicCreator.ia.ve=function(){return"rPhoto"+c.comicCreator.ia.gy()};c.comicCreator.ia.C=a.Z;c.comicCreator.ia.prototype=m(a.Z.prototype,{$A:function(b){var e;e=k.oa().createElement("img");try{e.src=b;var d=q.Hi(c.comicCreator.ia.Zt());a.g.N.Ud("rPhoto"+d,e);e=k.oa().createElement("img");
e.src=b;a.g.N.Ud("rPhoto"+d+"original",e)}catch(f){}},Nu:function(b){var e=q.Hi(c.comicCreator.ia.Zt());a.g.N.Ud("rPhoto"+e,b);var d;d=k.oa().createElement("img");d.src=b.src;a.g.N.Ud("rPhoto"+e+"original",d)},zK:function(b,e){c.comicCreator.ia.Bj=e;var d;d=k.oa().createElement("img");d.src=b.$f().src;a.g.N.Ud("rPhoto"+c.comicCreator.ia.Bj+"original",d)},l:c.comicCreator.ia});c.comicCreator.Mh=function(){this.eq=3;a.P.call(this);var b=this.t(),e=c.X.n().lb.dc().Pb,d=c.X.n().lb.dc().Wb;this.Jw=new a.rb("temp",
e,d);this.ja=new c.comicCreator.Re(b,this.Jw,c.X.n().lb.dc());this.ja.Ln();this.ja.yi(c.X.n().lb);this.ja.tk();a.j.instance.ek(0.35,l(this,this.Qq));this._canvas=k.oa().createElement("canvas");this._canvas.width=526;this._canvas.height=526;this._canvas.setAttribute("webkitTransform","translate3d(0px, 0px, 0px);");this._canvas.style.position="absolute"};c.comicCreator.Mh.k=!0;c.comicCreator.Mh.C=a.P;c.comicCreator.Mh.prototype=m(a.P.prototype,{Qq:function(){var b=this;this._canvas.style.width="100%";
this._canvas.style.height="100%";this._canvas.getContext("2d").fillStyle="#FFFFFF";this._canvas.getContext("2d").fillRect(0,0,this.ja.Wf.Pb,this.ja.Wf.Wb);this.ja.f.setPosition(5,5);this.ja.f.Y(0.8,0.8);this.ja.Kl(this._canvas);this._canvas.getContext("2d").drawImage(a.g.N.na("printableCopyright"),410,495);var c=this._canvas.toDataURL("image/jpeg"),d=k.oa().getElementById("PrintingStateIFrame");null!=d&&null!=d&&d.parentNode.removeChild(d);this.Md=d=k.oa().createElement("iframe");d.id="PrintingStateIFrame";
d.style.position="fixed";d.style.right="0";d.style.bottom="0";d.style.width="100%";d.style.height="90%";d.style.visibility="hidden";k.oa().body.appendChild(d);if(null==d.contentWindow.document.body)d.onload=function(){d.contentWindow.document.body.style.width="100%";d.contentWindow.document.body.style.height="90%";d.contentWindow.document.body.style.display="table";var a=d.contentWindow.document.createElement("div");a.style.height="100%";a.style.width="100%";a.style.display="table-cell";a.style.verticalAlign=
"middle";d.contentWindow.document.body.appendChild(a);var f=d.contentWindow.document.createElement("img");a.appendChild(f);f.style.margin="auto";f.style.display="block";f.style.position="relative";f.src=c;f.onload=function(){d.contentWindow.focus();d.contentWindow.print();b.D()};null!=b._canvas.parentNode&&b._canvas.parentNode.removeChild(b._canvas)};else{d.contentWindow.document.body.style.width="100%";d.contentWindow.document.body.style.height="90%";d.contentWindow.document.body.style.display="table";
var f=d.contentWindow.document.createElement("div");f.style.height="100%";f.style.width="100%";f.style.display="table-cell";f.style.verticalAlign="middle";d.contentWindow.document.body.appendChild(f);var g=d.contentWindow.document.createElement("img");f.appendChild(g);g.style.margin="auto";g.style.display="block";g.style.position="relative";g.src=c;g.onload=function(){d.contentWindow.focus();d.contentWindow.print();b.D()};null!=this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)}},
D:function(){a.P.prototype.D.call(this);this.Md.parentElement.removeChild(this.Md)},l:c.comicCreator.Mh});c.comicCreator.Ff=function(b,c,d,f){this.Vo=this.tp=0;this.Rm=this.J=null;this.ps=0;this.rd=this.nl=!1;this.Bo=-15;a.h.call(this,b,"RotationGizmo");this.Ag=c;this.dl=d;this.r=f};c.comicCreator.Ff.k=!0;c.comicCreator.Ff.FJ=function(){return c.comicCreator.Ff.jp};c.comicCreator.Ff.C=a.h;c.comicCreator.Ff.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.J=new a.e.ma(this.f);
this.Ia=new a.e.GameImage(this.f,"rotateUi",a.j.instance.Da("ui"),this.r);this.Ia.S();var b=this.Ia.Za();b.x-=(new a.m(this.Ag,this.Ag)).Nc()/2;b.y-=(new a.m(this.Ag,this.Ag)).Nc()/2},wb:function(){a.h.prototype.wb.call(this);var b=a.j.instance.Da("debug").Ha().getContext("2d"),c=this.f.q();null!=this.r&&(c.x-=this.r.f.q().x,c.y-=this.r.f.q().y);b.save();b.strokeStyle="#FF0000";b.lineWidth=1;b.beginPath();b.arc(c.x,c.y,this.Ag-this.dl/2,0,2*Math.PI,!1);b.stroke();b.beginPath();b.arc(c.x,c.y,this.Ag+
this.dl/2,0,2*Math.PI,!1);b.stroke();b.restore()},update:function(){a.h.prototype.update.call(this)},DI:y("nl"),Hb:function(b){var e=this.f.q();b=b.ga();null!=this.r&&(b.x+=this.r.f.q().x,b.y+=this.r.f.q().y);return this.vu(b.x,b.y)?(this.Rm=new a.m(b.x-e.x,b.y-e.y),this.Rm=this.Rm.wh(),this.nl=!0,this.dispatchEvent(new c.comicCreator.Gf("startDragging")),c.comicCreator.Ff.jp=!0):!1},wd:function(){this.nl&&(this.nl=c.comicCreator.Ff.jp=!1,this.ps=this.Vo,this.dispatchEvent(new c.comicCreator.Gf("stopDragging")),
this.tp+=this.Ia.dd().z,this.J.I(this.Ia.dd(),"z",this.Ia.dd().z,0,0.35,a.e.A.G.Db))},br:function(b){b=b.ga();null!=this.r&&(b.x+=this.r.f.q().x,b.y+=this.r.f.q().y);if(this.nl){var e=this.f.q();b=new a.m(b.x-e.x,b.y-e.y);b=b.wh();b=a.B.aa.Lt(this.Rm,b);0==Math.floor(b)%7&&a.g.SoundManager.ob("ui_rotate_1");this.Vo=b=this.ps+a.B.aa.yc(b);this.dispatchEvent(new c.comicCreator.jj("rotationUpdate",a.B.aa.Mu(this.Vo)));this.Ia.yh(new a.Vector3D(0,0,b-this.tp))}else this.vu(b.x,b.y)?(this.rd||(k.oa().body.style.cursor=
"pointer"),this.rd=!0):(this.rd&&(k.oa().body.style.cursor="default"),this.rd=!1)},vu:function(b,c){var d=new a.m(b,c),f=this.f.q(),d=(new a.m(d.x-f.x,d.y-f.y)).Nc();return d<this.Ag+this.Bo+this.dl/2&&d>this.Ag+this.Bo-this.dl/2},JJ:function(b,c){var d=new a.m(b,c),f=this.f.q();return(new a.m(d.x-f.x,d.y-f.y)).Nc()<this.Ag+this.Bo+this.dl/2},ze:function(){a.h.prototype.ze.call(this);this.Ia.kb(0)},ye:function(){a.h.prototype.ye.call(this);this.Ia.kb(1)},ib:function(b,c){a.h.prototype.ib.call(this,
b,c);if(null==c||!c.xh)switch(b){case "mouseDown":this.Hb(c)&&(c.QL=!0,c.xh=!0);break;case "mouseMove":this.br(c);break;case "mouseUp":this.wd(c)}},D:function(){a.h.prototype.D.call(this)},l:c.comicCreator.Ff});c.comicCreator.Gf=function(b){a.p.O.call(this,b)};c.comicCreator.Gf.k=!0;c.comicCreator.Gf.C=a.p.O;c.comicCreator.Gf.prototype=m(a.p.O.prototype,{l:c.comicCreator.Gf});c.comicCreator.jj=function(b,c){a.p.O.call(this,b);this.Zs=c};c.comicCreator.jj.k=!0;c.comicCreator.jj.C=a.p.O;c.comicCreator.jj.prototype=
m(a.p.O.prototype,{EI:y("Zs"),l:c.comicCreator.jj});c.comicCreator.Vg=function(b,c,d,f,g,h,k,l){null==l&&(l=1);null==k&&(k=0.08);null==h&&(h=1);null==f&&(f=50);null==d&&(d=50);this.zs=1;this.Bs=0.35;this.qp=this.ng=1;this.Nd=!1;a.h.call(this,b,"ScaleGizmo");this.Gj=new a.m(d,f);this.r=g;this.ng=this.qp=h;this.Bs=k;this.zs=l;this.K=c};c.comicCreator.Vg.k=!0;c.comicCreator.Vg.C=a.h;c.comicCreator.Vg.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.J=new a.e.ma(this.f);this.Vf=
this.v().t();this.f.H(this.Vf);this.Vf.setPosition(this.Gj.x,this.Gj.y);this.Mb=new a.e.ba(this.Vf,new a.m(80,80),null,null,this.r);this.Mb.tf(l(this,this.BA));this.Mb.Vd(!0);this.Ia=new a.e.GameImage(this.Vf,"scaleUi",this.K,this.r);this.Ia.S()},update:function(){a.h.prototype.update.call(this);if(this.Nd){var b=a.g.bb.n().Oc();null!=this.r&&(b.x+=this.r.f.q().x,b.y+=this.r.f.q().y);var b=(new a.m(this.f.q().x-b.x,this.f.q().y-b.y)).Nc(),e=b-this.Bw;0==Math.floor(b)%7&&a.g.SoundManager.ob("ui_scale_1");
this.ng=a.B.aa.kq(this.qp+0.01*e,this.Bs,this.zs);this.dispatchEvent(new c.comicCreator.kj("scaleUpdate",this.ng));this.Vf.setPosition(this.Gj.x+e,this.Gj.y+e)}},BA:function(){this.Nd=!0;this.Pd=a.g.bb.n().Oc();this.J.Zf();null!=this.r&&(this.Pd.x+=this.r.f.q().x,this.Pd.y+=this.r.f.q().y);this.Bw=(new a.m(this.f.q().x-this.Pd.x,this.f.q().y-this.Pd.y)).Nc();this.dispatchEvent(new c.comicCreator.Wg("startDrag"))},wd:function(){this.qp=this.ng;this.Nd=!1;this.dispatchEvent(new c.comicCreator.Wg("stopDrag"));
this.J.I(this.Vf.da,"x",this.Vf.Ka().x,this.Gj.x,0.35,a.e.A.G.Db);this.J.I(this.Vf.da,"y",this.Vf.Ka().y,this.Gj.y,0.35,a.e.A.G.Db)},ye:function(){a.h.prototype.ye.call(this);this.Ia.T(!0);this.Ia.kb(1)},ze:function(){a.h.prototype.ze.call(this);this.Ia.T(!1);this.Ia.kb(0)},ib:function(b,c){a.h.prototype.ib.call(this,b,c);switch(b){case "mouseUp":this.wd()}},D:function(){a.h.prototype.D.call(this);this.Vf.D()},l:c.comicCreator.Vg});c.comicCreator.Wg=function(b){a.p.O.call(this,b)};c.comicCreator.Wg.k=
!0;c.comicCreator.Wg.C=a.p.O;c.comicCreator.Wg.prototype=m(a.p.O.prototype,{l:c.comicCreator.Wg});c.comicCreator.kj=function(b,c){a.p.O.call(this,b);this.w=c};c.comicCreator.kj.k=!0;c.comicCreator.kj.C=a.p.O;c.comicCreator.kj.prototype=m(a.p.O.prototype,{W:y("w"),l:c.comicCreator.kj});c.comicCreator.Ve=function(b,c,d,f){this.Ok=!0;a.h.call(this,b,"SceneEntity");this.r=c;this.cb=d;this.ae=f;this.Mb=new a.e.ba(this.f,new a.m(250,250),null,l(this,this.Hb),this.r);this.Mb.Vd(!0);this.Ok||this.Mb.T(!1)};
c.comicCreator.Ve.k=!0;c.comicCreator.Ve.C=a.h;c.comicCreator.Ve.prototype=m(a.h.prototype,{mu:function(){return 0<this.cb.ci.length},nu:function(){return 0<this.cb.ei.length},ku:function(){return 0<this.cb.Vh.length},PG:y("Ok"),pr:function(b){this.Ok=b;null!=this.Mb&&this.Mb.T(b)},Qt:y("cb"),wy:y("_paneIndex"),HB:s("_paneIndex"),s:function(){a.h.prototype.s.call(this)},ye:function(){a.h.prototype.ye.call(this);this.Mb.T(!0)},ze:function(){a.h.prototype.ze.call(this);this.Mb.T(!1);this.Oe()},tk:function(b){null==
b&&(b=!1);for(var c=this.cb.Kk,d=c.length,f=0;f<d;)for(var g=f++,h=c[g]._assetName,k=this.f.Eb(a.e.Yd),l=k.length,m=0;m<l;){var q=m++;k[q].ac==h&&(b&&k[q].setPosition(c[g].ds/k[q].$x()),k[q].stop())}},bo:function(){for(var b=this.cb.Kk,c=b.length,d=0;d<c;)for(var f=d++,f=b[f]._assetName,g=this.f.Eb(a.e.Yd),h=g.length,k=0;k<h;){var l=k++;g[l].ac==f&&g[l].play()}},sk:function(){if(null!=this.zb||!this.Ok)return null;this.hC();return this.zb},hC:function(){null!=this.zb&&this.Oe();this.zb=this.v().t();
var b=new c.comicCreator.Ff(this.zb,125,54,this.r),e=new c.comicCreator.Vg(this.zb,c.U.xe(),85,85,this.r,this.f.getParent().W().x*this.f.w.x,0.25,1);e.addEventListener("scaleUpdate",l(this,this.nA));var d=this.f.w.x;this.f.Y(1,1);this.gs=new a.m(250,250);this.Ld=new a.e.pd(this.f,this.gs,null,this.r,this.ae);this.Ld.vr(!1);this.Ld.$u(!0);this.v().jc(this.zb);this.f.Y(d,d);d=this.f.q();this.zb.setPosition(d.x,d.y);b=new c.comicCreator.qb(this.zb,this.f,this.Ld,b,e,this.r,c.U.xe());e=this.f.getParent().getParent().L(c.comicCreator.De);
null!=e&&b.Yu(new a.hd(-e.$().x/2,-e.$().y/2,e.$().x,e.$().y));this.v().jc(this.f,!0)},Oe:function(){null!=this.zb&&(this.zb.D(),this.zb=null)},nA:function(){if(null!=this.Mb){var b=this.gs.ga();b.xd(1,1);b.x=a.B.aa.kq(b.x,0.08,600);b.y=a.B.aa.kq(b.y,0.08,600);this.Mb.tB(b,null)}},Hb:function(){null==this.zb&&(this.Ok&&this.sk().L(c.comicCreator.qb).ho(new a.m(this.f.getParent().q().x,this.f.getParent().q().y)),this.select())},select:function(){this.dispatchEvent(new c.comicCreator.lj("select"))},
l:c.comicCreator.Ve});c.comicCreator.lj=function(b){a.p.O.call(this,b)};c.comicCreator.lj.k=!0;c.comicCreator.lj.C=a.p.O;c.comicCreator.lj.prototype=m(a.p.O.prototype,{l:c.comicCreator.lj});c.comicCreator.oj=function(b){this.Rp=[];this.Tp=0;var e=this;a.h.call(this,b,"SeasonSelector");var d=this.v().t();new a.e.ba(d,new a.m(300,40),null,l(this,this.vA));this.Mf=this.v().t();(new a.e.GameImage(this.Mf,"seasonSelectorDropDown",c.U.ec())).S();b.H(this.Mf);this.Mf.setPosition(-1,130);b.H(d);(new a.e.GameImage(d,
"seasonSelector",c.U.ec())).S();b=this.v().t();(new a.e.ba(b,new a.m(350,350),null,null,null)).Vd(!0);this.Mf.H(b);for(b=0;null!=a.ta.za("seasonCategory"+b);){var d=a.ta.za("seasonCategory"+b),f=this.v().t();f.setPosition(0,-65+60*b);var g=this.v().t();g.setPosition(0,0);var h=new a.e.Wa(g,c.U.ec());h.yd("league_gothic");h.pb(a.Ma.Gb("SEASON_"+a.ta.za("seasonCategory"+b).toUpperCase()));h.pk("center");h.Pc("28px");h.le("#FFFFFF");f.H(g);(new a.e.GameImage(f,"seasonSelectorDropDownEntry",c.U.ec(),
null)).S();(new a.e.ba(f,new a.m(250,45),null,function(b){return function(){e.hv(b[0]);e.Mf.xb(!1)}}([b]))).Vd(!0);this.Rp.push(d);b++;this.Mf.H(f)}b=this.v().t();b.setPosition(-120,0);this.f.H(b);this.ic=new a.e.Wa(b,c.U.ec());this.ic.pk("left");this.ic.Pc("24px");this.Mf.xb(!1);this.v().jc(this.f,!0);this.hv(0)};c.comicCreator.oj.k=!0;c.comicCreator.oj.C=a.h;c.comicCreator.oj.prototype=m(a.h.prototype,{hv:function(b){this.Tp=b;this.ic.pb(a.Ma.Gb("SEASON_"+this.Rp[this.Tp].toUpperCase()));this.dispatchEvent(new c.comicCreator.pj("seasonSelect",
this.Rp[this.Tp]))},vA:function(){this.Mf.ag()?this.Mf.xb(!1):this.Mf.xb(!0);this.v().jc(this.f,!0)},l:c.comicCreator.oj});c.comicCreator.pj=function(b,c){a.p.O.call(this,b);this.Qp=c};c.comicCreator.pj.k=!0;c.comicCreator.pj.C=a.p.O;c.comicCreator.pj.prototype=m(a.p.O.prototype,{LI:y("Qp"),l:c.comicCreator.pj});c.comicCreator.Fd=function(b,c,d){a.h.call(this,b,"Spawner");this.K=c;this.r=d};c.comicCreator.Fd.k=!0;c.comicCreator.Fd.C=a.h;c.comicCreator.Fd.prototype=m(a.h.prototype,{Xt:y("K"),Kg:s("K"),
Nn:y("r"),sf:s("r"),l:c.comicCreator.Fd});c.comicCreator.Q={};c.comicCreator.Q.Ji=function(b,a,c,f,g,h){this._assetName=b;this.ax=a;this.Xf=c;this.Yf=f;this.Vw=g;this.ds=h};c.comicCreator.Q.Ji.k=!0;c.comicCreator.Q.Ji.Mc=function(b){var a=b.get("assetName"),d=b.get("xml"),f=q.wa(b.get("xOffset")),g=q.wa(b.get("yOffset")),h=q.wa(b.get("speed"));b=q.wa(b.get("defaultFrame"));return new c.comicCreator.Q.Ji(a,d,f,g,h,b)};c.comicCreator.Q.Ji.prototype={Za:function(){return new a.m(this.Xf,this.Yf)},l:c.comicCreator.Q.Ji};
c.comicCreator.Q.cg=function(b,c,d){this.w=new a.m(1,1);this._assetName=b;this.Xf=c;this.Yf=d};c.comicCreator.Q.cg.k=!0;c.comicCreator.Q.cg.Mc=function(b){var a=b.get("assetName"),d=q.wa(b.get("xOffset")),f=q.wa(b.get("yOffset"));b.get("parallax");return new c.comicCreator.Q.cg(a,d,f)};c.comicCreator.Q.cg.prototype={W:y("w"),Y:function(b,c){this.w=new a.m(b,c)},Za:function(){return new a.m(this.Xf,this.Yf)},Al:function(b,a,d){b=b.t();(new c.Vc(b,this._assetName,d,a,c.comicCreator.Q.$b.n().dk())).Zb(this.Za().x,
this.Za().y);return b},l:c.comicCreator.Q.cg};c.comicCreator.Q.Xd=function(b,a,c,f,g,h){null==g&&(g="");null==f&&(f="");this.Jb=-1;this.Qd=b;this.mt=a;this.te=c;this.Sw=f;this.Tw=g;this.Cj=h;this.hp=[];this.Vh=[];this.Kk=[];this.cp=[];this.ei=[];this.ci=[]};c.comicCreator.Q.Xd.k=!0;c.comicCreator.Q.Xd.Mc=function(b){var a=b.get("name"),d=b.get("thumbnail"),f=b.get("category"),g=b.get("sound"),h=b.get("soundDrop"),k;k=b.mb("dragScale")?q.wa(b.get("dragScale")):0.5;var l;l=b.mb("exclusiveToLocales")?
b.get("exclusiveToLocales").split(","):null;var m;m=b.mb("filter")?b.get("filter"):"";a=new c.comicCreator.Q.Xd(a,d,f,g,h,k);a.lk(m);a.xB(l);for(l=b.la("image");l.Sb();)m=l.next(),a.ut(c.comicCreator.Q.Gh.Mc(m));for(l=b.la("background");l.Sb();)m=l.next(),a.zn(c.comicCreator.Q.cg.Mc(m));for(l=b.la("animation");l.Sb();)m=l.next(),a.cx(c.comicCreator.Q.Ji.Mc(m));for(l=b.la("glamFactoryFunction");l.Sb();)m=l.next(),a.gx(c.comicCreator.Q.bj.Mc(m));for(l=b.la("frame");l.Sb();)m=l.next(),a.fx(c.comicCreator.Q.aj.Mc(m));
for(b=b.la("filter");b.Sb();)l=b.next(),a.ex(c.comicCreator.Q.Xi.Mc(l));return a};c.comicCreator.Q.Xd.Kt=function(b,e,d,f){for(var g=b.t(),h=e.hp.length,k=0;k<h;){var l=k++,l=e.hp[l],m=b.t();m.setPosition(l.Za().x,l.Za().y);new c.Vc(m,l._assetName,d,f,c.comicCreator.Q.$b.n().dk());g.H(m)}h=e.Kk.length;for(k=0;k<h;)l=k++,l=e.Kk[l],m=b.t(),c.fg.vx(l._assetName,l.ax,l.Za(),l.Vw),(new a.e.Yd(m,l._assetName,d,f)).setPosition(l.ds),g.H(m);h=e.cp.length;for(k=0;k<h;)l=k++,l=c.Aa.Cc.wx(e.cp[l].functionName,
b,d,f),g.H(l);return g};c.comicCreator.Q.Xd.Zx=function(b,a,d){b=b.t();(new c.Vc(b,a.mt,d,null,c.comicCreator.Q.$b.n().dk())).S();return b};c.comicCreator.Q.Xd.prototype={Aq:y("Jb"),nk:s("Qd"),getName:y("Qd"),dy:y("te"),oB:s("te"),lk:s("Of"),xB:s("js"),cz:function(b){b=b.split(",");for(var a=b.length,c=b.length,f=0;f<c;){f++;for(var g=this.Of.split(","),h=g.length,k=0;k<h;){var l=k++;if(0<=u.indexOf(b,g[l],0)){a--;break}}}return 0==a},ut:function(b){this.hp.push(b)},zn:function(b){this.Vh.push(b)},
cx:function(b){this.Kk.push(b)},fx:function(b){this.ei.push(b)},ex:function(b){this.ci.push(b)},gx:function(b){this.cp.push(b)},l:c.comicCreator.Q.Xd};c.comicCreator.Q.$b=function(){this.Yp=null;a.Z.call(this);c.comicCreator.Q.$b.ca=this;this.Xh=[]};c.comicCreator.Q.$b.k=!0;c.comicCreator.Q.$b.n=function(){return c.comicCreator.Q.$b.ca};c.comicCreator.Q.$b.C=a.Z;c.comicCreator.Q.$b.prototype=m(a.Z.prototype,{dk:function(){null==this.Yp&&(this.Yp=a.g.N.na("streamingAssets"));return this.Yp},QG:y("wm"),
s:function(){a.Z.prototype.s.call(this);this.setup()},gq:function(b,a){null==a&&(a=!1);a?this.Xh.splice(0,0,b):this.Xh.push(b)},uq:function(b){for(var a=this.Xh.length,c=0;c<a;){var f=c++,f=this.Xh[f];if(f.getName()==b)return f}return null},ay:function(b){for(var a=[],c=this.Xh.length,f=0;f<c;){var g=f++,g=this.Xh[g];g.te==b&&a.push(g)}return a},setup:function(){for(var b=r.parse(a.g.N.na("comicAssetDefinitions")).firstChild().la("asset");b.Sb();){var e=b.next(),e=c.comicCreator.Q.Xd.Mc(e);this.Xh.push(e)}this.wm=
[];for(b=0;null!=a.ta.za("category"+b);)this.wm.push(a.ta.za("category"+b)),b++},l:c.comicCreator.Q.$b});c.comicCreator.Q.Xi=function(b,c,d){this.w=new a.m(1,1);this._assetName=b;this.Xf=c;this.Yf=d};c.comicCreator.Q.Xi.k=!0;c.comicCreator.Q.Xi.Mc=function(b){var a=b.get("assetName"),d=q.wa(b.get("xOffset")),f=q.wa(b.get("yOffset"));b.get("parallax");return new c.comicCreator.Q.Xi(a,d,f)};c.comicCreator.Q.Xi.prototype={W:y("w"),Y:function(b,c){this.w=new a.m(b,c)},Za:function(){return new a.m(this.Xf,
this.Yf)},Al:function(b){return b.t()},l:c.comicCreator.Q.Xi};c.comicCreator.Q.aj=function(b,c,d,f,g){this.om=this.Ho="";this.Pb=this.Wb=0;this.w=new a.m(1,1);this._assetName=b;this.Xf=c;this.Yf=d;this.om=f;this.Ho=g};c.comicCreator.Q.aj.k=!0;c.comicCreator.Q.aj.Mc=function(b){var a=b.get("assetName"),d=q.wa(b.get("xOffset")),f=q.wa(b.get("yOffset"));b.get("parallax");var g;g=b.mb("anchorHorizontal")?b.get("anchorHorizontal"):"";var h;h=b.mb("anchorVertical")?b.get("anchorVertical"):"";var k;k=b.mb("width")?
q.wa(b.get("width")):0;var l;l=b.mb("height")?q.wa(b.get("height")):0;var m;m=b.mb("scaleX")?q.wa(b.get("scaleX")):1;b=b.mb("scaleY")?q.wa(b.get("scaleY")):1;a=new c.comicCreator.Q.aj(a,d,f,g,h);a.PB(k);a.zB(l);a.Y(m,b);return a};c.comicCreator.Q.aj.prototype={PB:s("Pb"),zB:s("Wb"),W:y("w"),Y:function(b,c){this.w=new a.m(b,c)},Za:function(){return new a.m(this.Xf,this.Yf)},Al:function(b,c,d){b=b.t();(new a.e.GameImage(b,this._assetName,d,c)).Zb(this.Za().x,this.Za().y);return b},l:c.comicCreator.Q.aj};
c.comicCreator.Q.bj=s("functionName");c.comicCreator.Q.bj.k=!0;c.comicCreator.Q.bj.Mc=function(b){b=b.get("functionName");return new c.comicCreator.Q.bj(b)};c.comicCreator.Q.bj.prototype={l:c.comicCreator.Q.bj};c.comicCreator.Q.Gh=function(b,a,c){this._assetName=b;this.Xf=a;this.Yf=c};c.comicCreator.Q.Gh.k=!0;c.comicCreator.Q.Gh.Mc=function(b){var a=b.get("assetName"),d=0,f=0;b.mb("xOffset")&&(d=q.wa(b.get("xOffset")));b.mb("yOffset")&&(f=q.wa(b.get("yOffset")));return new c.comicCreator.Q.Gh(a,d,
f)};c.comicCreator.Q.Gh.prototype={Za:function(){return new a.m(this.Xf,this.Yf)},Zb:function(b,a){this.Xf=b;this.Yf=a},l:c.comicCreator.Q.Gh};c.comicCreator.comicCompositions={};c.comicCreator.comicCompositions.yf=function(b,a,c,f,g,h,k){this._x=b;this._y=a;this._rotation=c;this._scaleX=f;this._scaleY=g;this._paneIndex=h;this._assetName=k};c.comicCreator.comicCompositions.yf.k=!0;c.comicCreator.comicCompositions.yf.prototype={dd:y("_rotation"),wy:y("_paneIndex"),l:c.comicCreator.comicCompositions.yf};
c.comicCreator.comicCompositions.ComicComposition=function(b,a){this._id=b;this._placements=[];this.zj=[];this._comicTemplateName=a;for(var d=this.dc().Zh.length,f=0;f<d;){var g=f++,g=this.dc().Zh[g];this.zj.push(new c.comicCreator.comicCompositions.Si(g.zc().x,g.zc().y,1,1))}};c.comicCreator.comicCompositions.ComicComposition.k=!0;c.comicCreator.comicCompositions.ComicComposition.ky=function(b){b=b.get("data");return c.comicCreator.comicCompositions.ComicComposition.Mx(b)};c.comicCreator.comicCompositions.ComicComposition.uG=
function(b){return JSON.stringify(b)};c.comicCreator.comicCompositions.ComicComposition.Mx=function(b){var a=JSON.parse(b);b=new c.comicCreator.comicCompositions.ComicComposition(a._id,a._comicTemplateName);for(var d=a._placements,f=d.length,g=0;g<f;){var h=g++,h=d[h];b.zl(new c.comicCreator.comicCompositions.yf(q.wa(h._x),q.wa(h._y),q.wa(h._rotation),q.wa(h._scaleX),q.wa(h._scaleY),h._paneIndex,h._assetName))}a=a.zj;d=a.length;for(f=0;f<d;)g=f++,h=a[g],b.zj[g]=new c.comicCreator.comicCompositions.Si(q.wa(h.x),
q.wa(h.y),q.wa(h.lr),q.wa(h.mr));return b};c.comicCreator.comicCompositions.ComicComposition.prototype={dc:function(){return c.Qb.Bf.n().ey(this._comicTemplateName)},zq:y("_id"),zl:function(b){this._placements.push(b)},ck:y("_placements"),l:c.comicCreator.comicCompositions.ComicComposition};c.comicCreator.comicCompositions.zf=function(){a.Z.call(this);c.comicCreator.comicCompositions.zf.ca=this;this.Ro=[]};c.comicCreator.comicCompositions.zf.k=!0;c.comicCreator.comicCompositions.zf.n=function(){return c.comicCreator.comicCompositions.zf.ca};
c.comicCreator.comicCompositions.zf.C=a.Z;c.comicCreator.comicCompositions.zf.prototype=m(a.Z.prototype,{s:function(){a.Z.prototype.s.call(this);this.setup()},setup:function(){for(var b=r.parse(a.g.N.na("comicCompositions")).firstChild().la("composition");b.Sb();){var e=b.next(),e=c.comicCreator.comicCompositions.ComicComposition.ky(e);this.Ro.push(e)}},St:function(b){for(var a=this.Ro.length,c=0;c<a;){var f=c++,f=this.Ro[f];if(f._id==b)return f}return null},l:c.comicCreator.comicCompositions.zf});
c.comicCreator.comicCompositions.Si=function(b,a,c,f){this.lr=this.mr=1;this.x=this.y=0;this.x=b;this.y=a;this.lr=c;this.mr=f};c.comicCreator.comicCompositions.Si.k=!0;c.comicCreator.comicCompositions.Si.prototype={l:c.comicCreator.comicCompositions.Si};c.comicCreator.F={};c.comicCreator.F.Tl=function(b){a.p.O.call(this,b)};c.comicCreator.F.Tl.k=!0;c.comicCreator.F.Tl.C=a.p.O;c.comicCreator.F.Tl.prototype=m(a.p.O.prototype,{l:c.comicCreator.F.Tl});c.comicCreator.F.pa=function(b,e,d,f){this.Yh=[];
this.Wo="";a.h.call(this,b,"Hud");c.comicCreator.F.pa.ca=this;this.K=e;this.rm=d;this.Ke=f;this.tx()};c.comicCreator.F.pa.k=!0;c.comicCreator.F.pa.n=function(){return c.comicCreator.F.pa.ca};c.comicCreator.F.pa.C=a.h;c.comicCreator.F.pa.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.qo()},tx:function(){this.fa=c.V.ie(this.v());var b=new a.e.ma(this.f),e=this.v().t(),d=new a.e.GameImage(e,"editorLeftBg",this.K);d.S();d.Zb(d.Za().x,d.Za().y+1);d=new a.R.Ea(e,this.fa);d.eo(a.R.Zd.yo,
a.R.$d.so);d.Ae(new a.m(-1.7,1));b.I(d.qa,"x",-1.7,-1,0.85,a.e.A.G.Db,0.4);(new a.e.Dd(this.v().t())).nf(0.4,function(){a.g.SoundManager.ob("ui_swish_2")});d=this.v().t();d.setPosition(512,384);var f=new a.e.GameImage(d,"screenBg",this.K);f.S();b.I(f,"_alpha",1,0,0.35,a.e.A.G.Qa,0.6);b.I(d.w,"x",1.5,1,2,a.e.A.G.Qa);b.I(d.w,"y",1.5,1,2,a.e.A.G.Qa);this.ug=this.v().t();this.ug.setPosition(-25,-385);e.H(this.ug);e=this.v().t();this.ug.H(e);e.setPosition(45,55);this.bh=new c.comicCreator.F.Oa.Fe(e,this.K,
5,200,!1,l(this,this.$y));(new a.e.GameImage(e,"itemsListBg",this.K)).Zb(-88,100);d=this.v().t();this.ug.H(d);d.setPosition(0,0);this.Po=new c.comicCreator.F.Oa.Fe(e,this.K,-50,0,!1,null);this.Rw=this.v().t();this.Rw.setPosition(335,625);e=170;d=c.comicCreator.Q.$b.n().wm.length;for(f=0;f<d;){var g=f++,h=this.v().t();h.nk("tab"+g);this.Po.vt(h,!0);this.Yh.push(h);var k=c.comicCreator.Q.$b.n().wm[g],m;m=k==a.ta.za("defaultCategory")?"comicCreatorCategoryButtonSelected":"comicCreatorCategoryButton";
(new a.e.GameImage(h,m,this.K)).Zb(-54,-50);h.Y(0,0);b.I(h.w,"x",0.65,1,0.35,a.e.A.G.bd,0.65+0.15*g);b.I(h.w,"y",0.65,1,0.35,a.e.A.G.bd,0.65+0.15*g);g=new c.comicCreator.F.Oa.Ni(h,k,100,100,"category_"+k,1,this.K);g.vB("comicCreatorCategoryButton");k==a.ta.za("defaultCategory")&&(this.Aj=g);h.addEventListener("mouseDown",l(this,this.GA));h.setPosition(-100,e);e+=102;g.or(k==a.ta.za("defaultCategory"))}this.oi=c.V.kc(this.v(),72,140,"scrollUpButton","scrollUpButton",l(this,this.uA),this.Ke,"",!1,0.05);
this.ug.H(this.oi);this.oi.L(a.e.ba).Vd(!0);this.mi=c.V.kc(this.v(),72,680,"scrollDownButton","scrollDownButton",l(this,this.tA),this.Ke,"",!1,0.05);this.ug.H(this.mi);e=c.V.kc(this.v(),-108,145,"categoryScrollUpButton","categoryScrollUpButton",l(this,this.jz),this.Ke,"",!1,0.05);this.ug.H(e);e.L(a.e.ba).Vd(!0);e=c.V.kc(this.v(),-108,675,"categoryScrollDownButton","categoryScrollDownButton",l(this,this.iz),this.Ke,"",!1,0.05);this.ug.H(e);e.L(a.e.ba).Vd(!0);this.mi.L(a.e.ba).Vd(!0);e=this.v().t();
d=new a.R.Ea(e,this.fa);d.eo(a.R.Zd.Eh,a.R.$d.Do);d.Ae(new a.m(0,-1.35));(new a.e.GameImage(e,"uiHeaderBg",this.K)).S();b.I(d.qa,"y",-1.35,-1,0.85,a.e.A.G.Db,0.35);b=this.v().t();(new a.e.GameImage(b,"uiHeaderLogo",c.U.ec())).S();e.H(b);b.setPosition(-160,25);this.gl=c.V.kc(this.v(),303,-25,"homeButton","homeButton",l(this,this.Xq),this.K,"",!1,0.05);this.ul=c.V.kc(this.v(),368,-25,"soundButton","soundButton",null,this.K,"",!1,0.05);new c.Qh(this.ul,"soundButton","soundOffButton");this.$k=c.V.kc(this.v(),
453,-5,"comicCreatorFinishButton","comicCreatorFinishButton",l(this,this.Hz),this.K,"",!1);e.H(this.gl);e.H(this.ul);e.H(this.$k);this.sr(a.ta.za("defaultCategory"),this.Wo)},mK:function(b){this.Wo=b.Qp;this.sr(this.Aj.te,b.Qp);this.po();this.oo()},uA:function(){this.bh.scroll(-420);this.po();this.oo()},tA:function(){this.bh.scroll(420);this.po();this.oo()},jz:function(){this.Po.scroll(-105)},iz:function(){this.Po.scroll(105)},po:function(){var b=this.oi.L(a.e.ba),c=this.oi.L(a.e.buttons.ed),d=this.oi.L(a.e.buttons.wf),
f=this.oi.L(a.e.buttons.dg);this.bh.ox()?(c.Be("scrollUpButton"),c.Ce("scrollUpButton"),d.Gg(),f.Gg(),b.T(!0)):(c.Be("scrollUpButtonDisabled"),c.Ce("scrollUpButtonDisabled"),d.Fg(),f.Fg(),b.T(!1))},oo:function(){var b=this.mi.L(a.e.ba),c=this.mi.L(a.e.buttons.ed),d=this.mi.L(a.e.buttons.wf),f=this.mi.L(a.e.buttons.dg);this.bh.nx()?(c.Be("scrollDownButton"),c.Ce("scrollDownButton"),d.Gg(),f.Gg(),b.T(!0)):(c.Be("scrollDownButtonDisabled"),c.Ce("scrollDownButtonDisabled"),d.Fg(),f.Fg(),b.T(!1))},qG:function(){this.gl.L(a.e.ba).T(!0);
this.gl.L(a.e.GameImage).kb(1)},hG:function(){this.gl.L(a.e.ba).T(!1);this.gl.L(a.e.GameImage).kb(0.5)},pG:function(){this.$k.L(a.e.ba).T(!0);this.$k.L(a.e.GameImage).kb(1)},gG:function(){this.$k.L(a.e.ba).T(!1);this.$k.L(a.e.GameImage).kb(0.5)},sG:function(){this.Op.L(a.e.ba).T(!0);this.Op.L(a.e.GameImage).kb(1)},jG:function(){this.Op.L(a.e.ba).T(!1);this.Op.L(a.e.GameImage).kb(0.5)},tG:function(){for(var b=this.Yh.length,c=0;c<b;){var d=c++;this.Yh[d].L(a.e.ba).T(!0);this.Yh[d].L(a.e.GameImage).kb(1)}},
kG:function(){for(var b=this.Yh.length,c=0;c<b;){var d=c++;this.Yh[d].L(a.e.ba).T(!1);this.Yh[d].L(a.e.GameImage).kb(0.5)}},update:function(){a.h.prototype.update.call(this);null!=this.To&&this.v().jc(this.To,!0);null!=this.Ow&&this.v().jc(this.Ow.f)},ZJ:function(){this.dispatchEvent(new c.comicCreator.F.yb("helpClick"))},Xq:function(){this.dispatchEvent(new c.comicCreator.F.yb("homeButtonClick"))},jK:function(){this.dispatchEvent(new c.comicCreator.F.yb("resetClick"))},xA:function(){this.dispatchEvent(new c.comicCreator.F.yb("soundButtonClick"));
this.qo()},sr:function(b,a){this.bh.yt();c.Zc.xf.n();c.X.n();for(var d=c.comicCreator.Q.$b.n().ay(b),f=d.length,g=0,h=0;h<f;){var m=h++,m=d[m];if(!(null!=m.js&&0>u.indexOf(m.js,k.In,0))&&m.cz(a+",general")){var t=c.comicCreator.Q.Xd.Zx(this.v(),m,this.Ke);this.bh.vt(t);g++;(new c.comicCreator.F.Oa.yk(t,m)).addEventListener("mouseDown",l(this,this.Az));new c.cd.Bh(t,0.1)}}this.bh.pv();this.v().jc(this.oi);this.v().jc(this.mi);this.po();this.oo()},Az:function(b){if("frameClear"==b.cb.getName())this.dispatchEvent(new c.comicCreator.F.ej("clearFiltersClick",
c.comicCreator.Ed.n().oy()));else{var e=b.target.f;b=b.cb;var d=c.comicCreator.Q.Xd.Kt(this.v(),b,this.Ke);d.setPosition(e.q().x,e.q().y);d.Y(b.Cj,b.Cj,b.Cj);e=new a.e.ma(d);e.I(d.w,"x",0,d.W().x,0.35,a.e.A.G.bd);e.I(d.w,"y",0,d.W().y,0.35,a.e.A.G.bd);e=new a.e.pd(d,new a.m(100,100));e.addEventListener("stopDragging",l(this,this.DA));e.VB(0,0);e.vr(!1);e.setProperty("asset",b);this.To=d;a.g.SoundManager.ob(b.Sw);this.dispatchEvent(new c.comicCreator.F.yb("itemDockClick"))}},DA:function(b){b=b.target;
var e=b.za("asset");a.g.SoundManager.ob(e.Tw);b.f.D();this.dispatchEvent(new c.comicCreator.F.fj("dropAsset",a.g.bb.n().Oc().x,a.g.bb.n().Oc().y,e));this.To=null},GA:function(b){b=b.target.L(c.comicCreator.F.Oa.Ni);null!=this.Aj&&this.Aj!=b&&this.Aj.or(!1);this.bh.yt();this.sr(b.te,this.Wo);this.Aj=b;this.Aj.or(!0);c.utag.Hd.n().Ci("games","select category","select sticker category "+b.te,"[Game Title]");this.dispatchEvent(new c.comicCreator.F.yb("itemDockClick"))},RJ:function(){this.dispatchEvent(new c.comicCreator.F.yb("backButtonClick"))},
iK:function(){this.dispatchEvent(new c.comicCreator.F.yb("previousPanelClick"))},dK:function(){this.dispatchEvent(new c.comicCreator.F.yb("nextPanelClick"))},hK:function(){this.dispatchEvent(new c.comicCreator.F.yb("previewClick"))},Hz:function(){this.dispatchEvent(new c.comicCreator.F.yb("finishClick"))},QJ:function(){this.dispatchEvent(new c.comicCreator.F.yb("avatarCreatorClick"))},$y:function(b){b.beginPath();var a=this.ug.q();b.moveTo(a.x-25,a.y+135);b.lineTo(a.x+165,a.y+135);b.lineTo(a.x+165,
a.y+700);b.lineTo(a.x-25,a.y+700);b.closePath()},qo:function(){var b=this.ul.L(a.e.buttons.ed);b.Be(a.g.SoundManager.we()?"comicCreatorSoundOff":"comicCreatorSoundOn");b.Ce(a.g.SoundManager.we()?"comicCreatorSoundOff":"comicCreatorSoundOn")},D:function(){a.h.prototype.D.call(this);c.comicCreator.F.pa.ca==this&&(c.comicCreator.F.pa.ca=null)},l:c.comicCreator.F.pa});c.comicCreator.F.ej=function(b,c){a.p.O.call(this,b);this.Ls=c};c.comicCreator.F.ej.k=!0;c.comicCreator.F.ej.C=a.p.O;c.comicCreator.F.ej.prototype=
m(a.p.O.prototype,{rI:y("Ls"),l:c.comicCreator.F.ej});c.comicCreator.F.fj=function(b,c,d,f){a.p.O.call(this,b);this._x=c;this._y=d;this.cb=f};c.comicCreator.F.fj.k=!0;c.comicCreator.F.fj.C=a.p.O;c.comicCreator.F.fj.prototype=m(a.p.O.prototype,{Qt:y("cb"),q:function(){return new a.m(this._x,this._y)},l:c.comicCreator.F.fj});c.comicCreator.F.yb=function(b){a.p.O.call(this,b)};c.comicCreator.F.yb.k=!0;c.comicCreator.F.yb.C=a.p.O;c.comicCreator.F.yb.prototype=m(a.p.O.prototype,{l:c.comicCreator.F.yb});
c.comicCreator.F.Oa={};c.comicCreator.F.Oa.Ni=function(b,c,d,f,g,h,k){a.h.call(this,b,"CategoryTab");this.te=c;this.ss=g;this.ts=h;this.K=k;this.mw=d;this.lw=f;a.g.N.Sd(this.ss)?(this.il=new a.e.GameImage(this.f,this.ss,this.K),this.il.Y(this.ts,this.ts),this.il.S(),this.il.Zb(this.il.Za().x,this.il.Za().y)):(b=new a.e.Wa(this.f,this.K),b.pb(this.te),b.Pc("16px"),b.le("#000000"));this.Mb=new a.e.ba(this.f,new a.m(this.mw,this.lw));this.Mb.Vd(!0);this.Mb.tf(function(){a.g.SoundManager.ob("ui_click_1")});
this.Ia=this.f.L(a.e.GameImage);this.J=new a.e.ma(this.f)};c.comicCreator.F.Oa.Ni.k=!0;c.comicCreator.F.Oa.Ni.C=a.h;c.comicCreator.F.Oa.Ni.prototype=m(a.h.prototype,{dy:y("te"),vB:s("ai"),s:function(){a.h.prototype.s.call(this)},update:function(){a.h.prototype.update.call(this);if(null!=this.jf){var b=this.f.L(a.e.GameImage);this.jf.L(a.e.GameImage).Y(b.W().x,b.W().y);null!=this.jf&&this.jf.Y(this.f.W().x,this.f.W().y)}},or:function(b){this.Ia.Ei(!0==b?this.ai+"Selected":this.ai);null==this.jf&&b?
(this.jf=this.v().t(),this.jf.setPosition(8,0),(new a.e.GameImage(this.jf,"comicCreatorCategoryButtonSelectedPointer",this.K)).S(),this.f.H(this.jf),this.v().jc(this.f),this.J.I(this.f.w,"x",0.5,1,0.15,a.e.A.G.bd),this.J.I(this.f.w,"y",0.5,1,0.15,a.e.A.G.bd)):null==this.jf||b||(this.jf.D(),this.jf=null)},l:c.comicCreator.F.Oa.Ni});c.comicCreator.F.Oa.yk=function(b,c){a.h.call(this,b,"DraggableItemThumbnail");this.cb=c};c.comicCreator.F.Oa.yk.k=!0;c.comicCreator.F.Oa.yk.C=a.h;c.comicCreator.F.Oa.yk.prototype=
m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);var b=new a.e.ba(this.f,new a.m(150,150));b.Vd(!0);b.tf(l(this,this.Hb));b.dv(l(this,this.wd))},Hb:function(){this.dispatchEvent(new c.comicCreator.F.Oa.Qg("mouseDown",this.cb));a.g.SoundManager.ob("ui_click_1")},wd:function(){this.dispatchEvent(new c.comicCreator.F.Oa.Qg("mouseUp",this.cb))},l:c.comicCreator.F.Oa.yk});c.comicCreator.F.Oa.Qg=function(b,c){this.cb=null;a.p.O.call(this,b);this.cb=c};c.comicCreator.F.Oa.Qg.k=!0;c.comicCreator.F.Oa.Qg.C=
a.p.O;c.comicCreator.F.Oa.Qg.prototype=m(a.p.O.prototype,{Qt:y("cb"),l:c.comicCreator.F.Oa.Qg});c.comicCreator.F.Oa.Fe=function(b,c,d,f,g,h){null==g&&(g=!1);this.Ec=0;this.Es=4;this.yn=0;this.Cg=105;this.ri=155;this.Xp=5;this.Qr=!1;this.xp=20;a.h.call(this,b,"ItemList");this.K=c;this.Qr=g;this.vc=[];this.Gm=[];this.Je=this.v().t();this.J=new a.e.ma(this.f);this.Xp=d;this.ri=f;this.Je.setPosition(this.Xp,this.ri);this.dn=h;this.Bb=new a.rb("itemListLayer",k.Sc,k.Rc);this.Bb.qB(new a.hd(0,0,350,this.Bb.Ha().height));
a.j.instance.ru(this.Bb,c);this.Bb.Fi(h)};c.comicCreator.F.Oa.Fe.k=!0;c.comicCreator.F.Oa.Fe.C=a.h;c.comicCreator.F.Oa.Fe.prototype=m(a.h.prototype,{qJ:y("yn"),GL:s("yn"),sJ:y("Cg"),HL:s("Cg"),nI:function(){return this.vc.length},gI:y("vc"),s:function(){a.h.prototype.s.call(this);this.f.H(this.Je);this.pv()},vt:function(b,e){null==e&&(e=!0);var d=this;b.setPosition(this.xp+this.vc.length*this.yn,this.vc.length*this.Cg);var f=0,g=0;e&&new c.Ih(b);(function(){if(null!=d.dn){var e=b.Eb(a.e.GameImage);
if(null!=e)for(var k=e.length,l=0;l<k;){var m=l++,m=e[m];m.Kg(d.Bb);m.Y(1,1);f<m.$().x&&(f=m.$().x);g<m.$().y&&(g=m.$().y);m.f!=b&&1==k&&m.f.setPosition(0,0);1==k&&m.S();if(z.uh(m)==c.Vc){var q=m;null==q||(q.fl||null!=b.za("loadingImage"))||(q=d.v().t(),(new a.e.GameImage(q,"loadingArrow",d.Bb)).S(),b.setProperty("loadingImage",q),new a.e.Fh(q,b),(new a.e.Ge(q)).fo(new a.Vector3D(0,0,a.B.aa.yc(360))))}m.addEventListener("loadComplete",function(){return function(){d.refresh()}}(this))}e=b.Eb(a.e.Yd);
if(null!=e)for(k=e.length,l=0;l<k;)m=l++,e[m].stop(),g=f=100}f>g?93.75<f&&b.Y(93.75/f,93.75/f):93.75<g&&b.Y(93.75/g,93.75/g)})();0<this.vc.length&&this.Qr&&this.Ax(this.vc.length*this.yn,this.vc.length*this.Cg-this.Cg/2);this.vc.push(b);this.Je.H(b)},refresh:function(){for(var b=this.vc.length,e=0;e<b;){var d=e++,f=0,g=0,d=this.vc[d];if(null!=this.dn){var h=d.Eb(a.e.GameImage);if(null!=h)for(var k=h.length,l=0;l<k;){var m=l++,m=h[m];m.Y(1,1);f<m.$().x&&(f=m.$().x);g<m.$().y&&(g=m.$().y);m.f!=d&&1==
k&&m.f.setPosition(0,0);1==k&&m.S();z.uh(m)==c.Vc&&(null!=m&&m.fl&&null!=d.za("loadingImage"))&&(d.za("loadingImage").D(),d.setProperty("loadingImage",null))}h=d.Eb(a.e.Yd);if(null!=h)for(k=h.length,l=0;l<k;)f=l++,h[f].stop(),g=f=100}f>g?93.75<f&&d.Y(93.75/f,93.75/f):93.75<g&&d.Y(93.75/g,93.75/g);f=d.L(c.cd.Bh);f.mB(d.w.x);f.nB(d.w.y)}},yt:function(){this.Ec=0;for(var b=this.vc.length,a=0;a<b;){var c=a++;this.vc[c].D()}this.vc=[];b=this.Gm.length;for(a=0;a<b;)c=a++,this.Gm[c].D();this.Gm=[];this.Je.setPosition(this.Xp,
this.ri)},scrollTo:function(b,c){null==c&&(c=1);var d=-(this.vc.length*this.Cg);this.Ec=(d+420)*b;0<this.Ec&&(this.Ec=0);this.Ec<d&&(this.Ec=d);this.oq(this.Ec);this.J.Zf();0<c?this.J.I(this.Je.da,"y",this.Je.Ka().y,this.ri+this.Ec,c,a.e.A.G.Db,0):this.Je.setPosition(this.Je.Ka().x,this.ri+this.Ec)},ox:function(){return 0!=this.Ec&&this.vc.length>this.Es},nx:function(){return this.Ec>-(this.vc.length*this.Cg)+420&&this.vc.length>this.Es},scroll:function(b,c){null==c&&(c=1);this.Ec-=b;0<this.Ec&&(this.Ec=
0);var d=-(this.vc.length*this.Cg);this.Ec<d+420&&(this.Ec=d+420);this.oq(this.Ec);this.J.Zf();this.J.I(this.Je.da,"y",this.Je.Ka().y,this.ri+this.Ec,c,a.e.A.G.Db,0)},pv:function(){this.oq(this.Je.Ka().y-this.ri)},oq:function(b){var c=-b-this.Cg-165;b=420-b+165;for(var d=0,f=this.vc.length;d<f;){var g=d++,h=this.vc[g],g=h.Ka().y>=c&&h.Ka().y<=b,h=h.Eb(a.e.ba);null!=h&&0<h.length&&h[0].T(g)}},Ax:function(b,e){var d=this.v().t();d.setPosition(7+b,e);(new a.e.GameImage(d,"dotDividersWhite",this.Bb)).S();
new c.Ih(d);this.Gm.push(d);this.Je.H(d)},qc:function(){a.h.prototype.qc.call(this);this.Bb.D()},l:c.comicCreator.F.Oa.Fe});c.comicCreator.sa={};c.comicCreator.sa.Wi=function(b){this.bq=3;a.h.call(this,b,"Countdown");var e=this.v().t();this.ic=new a.e.Wa(e,c.U.ec());this.ic.yd("league_gothic");this.ic.Pc("128px");this.ic.pb("0");b.H(e)};c.comicCreator.sa.Wi.k=!0;c.comicCreator.sa.Wi.C=a.h;c.comicCreator.sa.Wi.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this)},update:function(){a.h.prototype.update.call(this);
this.bq-=a.j.Ac();var b=Math.ceil(this.bq);this.ic.pb(null==b?"null":""+b);0>=b&&this.f.D()},l:c.comicCreator.sa.Wi});c.comicCreator.sa.Jh=function(b,c){this.Go=!1;this.Fc=!0;a.h.call(this,b,"PhotoSelectDialog");this.K=c;this.J=new a.e.ma(this.f);this.Go="1"==a.ta.za("browsePhotosButtonAllowed")};c.comicCreator.sa.Jh.k=!0;c.comicCreator.sa.Jh.C=a.h;c.comicCreator.sa.Jh.prototype=m(a.h.prototype,{s:function(){var b=this;a.h.prototype.s.call(this);(new a.e.Dd(this.f)).nf(0.35,function(){b.zu()})},BJ:function(){this.fa=
c.V.ie(this.v());this.Vj=c.V.ie(this.v());this.zg=this.v().t();this.nh=this.v().t();this.f.H(this.zg);this.f.H(this.nh);this.nh.xb(!1);this.Vj.f.xb(!1);var b=c.V.Gn(this.v(),this.fa,0,0,"overlayBlack",this.K.getName());(new a.R.Ea(b,this.fa)).Y(200,200);this.gf=b.L(a.e.GameImage);this.gf.S();this.gf.kb(0.6);a.e.ba.Dn(b.L(a.e.GameImage)).Vd(!0);this.fa.f.H(b);b=this.v().t();b.setPosition(9,-12);(new a.e.GameImage(b,"dialogBg",this.K)).S();this.zg.H(b);b=this.v().t();b.setPosition(0,-250);var e=new a.e.Wa(b,
this.K);e.yd("league_gothic");e.Pc("54px");e.le("#ffffff");e.pb(a.Ma.Gb("PHOTO_SELECT_HEADING"));this.zg.H(b);this.qw=c.V.kc(this.v(),310,-260,"closeButton","closeButton",l(this,this.Rq),this.K);this.zg.H(this.qw);this.Go&&(this.ln=c.V.kc(this.v(),0,-50,"browseButton","browseButton",null,this.K,null,!1,0.15,null),b=this.v().t(),b.setPosition(37,4),this.ln.H(b),b=new a.e.Wa(b,this.K),b.yd("league_gothic"),b.le("#FFFFFF"),b.Pc("32px"),b.pk("center"),b.pb(a.Ma.Gb("PHOTO_SELECT_FILE")),a.j.Oq()?this.ln.Ot().tf(l(this,
this.Eu)):this.ln.Ot().dv(l(this,this.Eu)),this.zg.H(this.ln));this.Qo=c.V.kc(this.v(),0,65,"chooseBarbieButton","chooseBarbieButton",l(this,this.zu),this.K,null,!1,0.35,null);b=this.v().t();b.setPosition(37,4);this.Qo.H(b);b=new a.e.Wa(b,this.K);b.yd("league_gothic");b.le("#FFFFFF");b.Pc("32px");b.pk("center");b.pb(a.Ma.Gb("PHOTO_SELECT_CHOOSE"));this.Go||this.Qo.translate(0,-60);this.zg.H(this.Qo);b=this.v().t();this.hf=new a.e.GameImage(b,"",this.K);this.hf.S();b.setPosition(6.5,-7);this.zg.H(b);
b=this.v().t();b.setPosition(0,135);this.f.H(b);b=c.V.Gn(this.v(),this.Vj,0,0,"overlayBlack",this.K.getName());(new a.R.Ea(b,this.Vj)).Y(200,200);this.gf=b.L(a.e.GameImage);this.gf.S();this.gf.kb(0.6);a.e.ba.Dn(b.L(a.e.GameImage)).Vd(!0);this.Vj.f.H(b);b=this.v().t();b.setPosition(9,-12);(new a.e.GameImage(b,"dialogBg",this.K)).S();this.nh.H(b);b=this.v().t();b.setPosition(0,-250);e=new a.e.Wa(b,this.K);e.yd("league_gothic");e.Pc("54px");e.le("#ffffff");e.pb(a.Ma.Gb("PHOTO_SELECT_WEBCAM_PHOTO"));
this.nh.H(b);b=c.V.kc(this.v(),310,-260,"closeButton","closeButton",l(this,this.nz),this.K,"",!1);this.nh.H(b);b=c.V.kc(this.v(),0,180,"webcamButton","webcamButton",null,this.K,null,!1,0.15,l(this,this.HA));e=this.v().t();e.setPosition(0,4);b.H(e);e=new a.e.Wa(e,this.K);e.yd("league_gothic");e.le("#FFFFFF");e.Pc("32px");e.pb(a.Ma.Gb("PHOTO_SELECT_TAKE_PHOTO"));this.nh.H(b)},nz:function(){null!=this.zm&&(this.zm.f.removeEventListener("destroy",l(this,this.Uq)),this.zm.f.D(),this.zm=null);this.Fc=!0;
this.Qy()},uK:function(){this.RB()},RB:function(){a.B.Ba.log("showWebcamUi()");this.fa.f.xb(!1);this.Vj.f.xb(!0);this.zg.xb(!1);this.nh.xb(!0)},Qy:function(){a.B.Ba.log("hideWebcamUi()");this.fa.f.xb(!0);this.Vj.f.xb(!1);this.zg.xb(!0);this.nh.xb(!1)},Rq:function(){c.comicCreator.ia.rx();this.sh()},eK:function(b){c.X.n().getUserData().Wu(b.Sp)},zu:function(){c.Pe.show(l(this,this.kz),l(this,this.yu));this.dispatchEvent(new c.comicCreator.sa.sc("showGhostScreen"));this.v().pause()},kz:function(){this.v().dispatchEvent(new c.comicCreator.sa.sc("nextClick"));
this.dispatchEvent(new c.comicCreator.sa.sc("dismissGhostScreen"));this.sh();this.yu()},yu:function(){this.dispatchEvent(new c.comicCreator.sa.sc("cancel"))},sh:function(){this.dispatchEvent(new c.comicCreator.sa.sc("close"))},vK:function(){this.$w.pb("");this.IF.xb(!0);this.HF.xb(!0)},wK:function(){a.j.nb()||null!=this.v()&&this.$w.pb(a.Ma.Gb("PHOTO_SELECT_NO_WEBCAM"))},Eu:function(){this.Fc&&(a.j.Oq()&&(this.gi.style.visibility="inherit",this.gi.style.opacity="0.0"),this.gi.click(),a.j.Oq()&&(this.gi.style.visibility=
"hidden"))},HA:function(){if(this.Fc){this.Fc=!1;var b=this.v().t();b.setPosition(15,-30);this.f.H(b);this.zm=new c.comicCreator.sa.Wi(b);b.addEventListener("destroy",l(this,this.Uq))}},Uq:function(b){b.target.removeEventListener("destroy",l(this,this.Uq));b=this.JF.aC();c.comicCreator.ia.n().Nu(b);this.v().dispatchEvent(new c.comicCreator.sa.sc("nextClick"));c.utag.Hd.n().Ci("games","choose photo","take own photo","[Game Title]");this.sh()},$J:function(b){if(null==b.target.files)this.Fc=!0;else{b=
b.target.files[0];var a=new FileReader;a.addEventListener("load",l(this,this.bA),!1);a.readAsDataURL(b)}},bA:function(b){b=b.target.result;c.comicCreator.ia.n().$A(b);b=c.comicCreator.ia.On();null!=b&&b.addEventListener("load",l(this,this.Yq),!1)},PF:n(),Yq:function(){c.comicCreator.ia.On().removeEventListener("load",l(this,this.Yq),!1);null!=this.hf&&null!=this.hf.$f()&&this.hf.$f().removeEventListener("load",l(this,this.Yq),!1);c.utag.Hd.n().Ci("games","choose photo","choose from library","[Game Title]");
null!=this.v()&&(this.v().dispatchEvent(new c.comicCreator.sa.sc("nextClick")),this.sh())},cK:function(){this.v().dispatchEvent(new c.comicCreator.sa.sc("nextClick"));this.sh()},D:function(){a.h.prototype.D.call(this);null!=this.gi&&(this.gi.parentNode.removeChild(this.gi),this.gi=null)},l:c.comicCreator.sa.Jh});c.comicCreator.sa.sc=function(b){a.p.O.call(this,b)};c.comicCreator.sa.sc.k=!0;c.comicCreator.sa.sc.C=a.p.O;c.comicCreator.sa.sc.prototype=m(a.p.O.prototype,{l:c.comicCreator.sa.sc});c.comicCreator.sa.Kh=
function(b,e){a.P.call(this);this.vb=this.t();this.vb.setPosition(a.j.instance.Rb().x/2,a.j.instance.Rb().y/2);var d=new c.comicCreator.sa.Jh(this.vb,c.U.ec());this.addEventListener("nextClick",l(this,this.ao));d.addEventListener("showGhostScreen",l(this,this.Du));d.addEventListener("dismissGhostScreen",l(this,this.ao));d.addEventListener("close",l(this,this.mz));d.addEventListener("cancel",e);this.fh=b;this.Fs=e};c.comicCreator.sa.Kh.k=!0;c.comicCreator.sa.Kh.show=function(b,e){var d=new c.comicCreator.sa.Kh(b,
e);a.j.instance.Kc(d);return d};c.comicCreator.sa.Kh.C=a.P;c.comicCreator.sa.Kh.prototype=m(a.P.prototype,{Du:function(b){b.target.removeEventListener("showGhostScreen",l(this,this.Du));this.dispatchEvent(new c.comicCreator.sa.sc("showGhostScreen"))},ao:function(b){this.removeEventListener("nextClick",l(this,this.ao));b.target.removeEventListener("dismissGhostScreen",l(this,this.ao));null!=this.fh&&(this.fh(),this.fh=null)},mz:function(){this.D();null!=this.fh&&this.fh()},VJ:function(){this.D();null!=
this.Fs&&this.Fs()},l:c.comicCreator.sa.Kh});c.Qb={};c.Qb.Ri=function(b,a,c){this._x=b;this._y=a;this.Ya=c;this.Uf=[]};c.Qb.Ri.k=!0;c.Qb.Ri.Mc=function(b){var e=q.wa(b.get("x")),d=q.wa(b.get("y")),f=b.get("image");b.get("sceneEntityScale");b.mb("parallax")&&b.get("parallax");var e=new c.Qb.Ri(e,d,f),d=!0,g=f=0,h=0,k=0;for(b=b.la("polygon").next().la("point");b.Sb();){var l=b.next(),m=q.wa(l.get("x")),l=q.wa(l.get("y"));e.Uf.push(new a.m(m,l));if(d||m<f)f=m;if(d||l<g)g=l;if(d||m>h)h=m;if(d||l>k)k=
l;d=!1}e.pB((f+h)/2,(g+k)/2);return e};c.Qb.Ri.prototype={Ei:s("Ya"),zc:function(){return new a.m(this.ow,this.pw)},pB:function(b,a){this.ow=b;this.pw=a},l:c.Qb.Ri};c.Qb.Vi=function(b,a,c,f,g,h,k,l,m){this._id=b;this.Zh=[];this.Pb=c;this.Wb=f;this.iw=g;this.gw=k;this.hw=l;this.$m=m};c.Qb.Vi.k=!0;c.Qb.Vi.Mc=function(b){var a=b.get("id");b.get("thumbnailName");var d=q.wa(b.get("width")),f=q.wa(b.get("height")),g=b.get("baseBackgroundAsset");b.get("backgroundName");var h=q.wa(b.get("backgroundOffsetX")),
k=q.wa(b.get("backgroundOffsetY")),l=q.Yb(b.get("level")),a=new c.Qb.Vi(a,0,d,f,g,0,h,k,l);for(b=b.la("panel");b.Sb();)d=b.next(),d=c.Qb.Ri.Mc(d),a.hx(d);return a};c.Qb.Vi.prototype={zq:y("_id"),BB:s("_id"),hx:function(b){this.Zh.push(b)},l:c.Qb.Vi};c.Qb.Bf=function(){a.Z.call(this);c.Qb.Bf.ca=this;this.Sk=[]};c.Qb.Bf.k=!0;c.Qb.Bf.n=function(){return c.Qb.Bf.ca};c.Qb.Bf.C=a.Z;c.Qb.Bf.prototype=m(a.Z.prototype,{eH:y("Sk"),s:function(){a.Z.prototype.s.call(this);this.setup()},setup:function(){for(var b=
r.parse(a.g.N.na("comicTemplateDefinitions")).firstChild().la("template");b.Sb();){var e=b.next(),e=c.Qb.Vi.Mc(e);this.Sk.push(e);c.Pa.sb.n().XA(e)}},ey:function(b){for(var a=this.Sk.length,c=0;c<a;){var f=c++,f=this.Sk[f];if(f._id==b)return f}return null},l:c.Qb.Bf});c.cd={};c.cd.Bh=function(b,c,d,f,g,h,k){null==k&&(k=2);null==h&&(h=8);null==g&&(g=4);null==f&&(f=3);null==d&&(d=0.15);null==c&&(c=1.25);this.al=0;this.at=this.re=this.se=1;this.$s=20;this.Mb=this.J=null;a.h.call(this,b,"ButtonMouseOverScale");
this.qn=c;this.Jc=d;this.$s=f;this.at=g;this.ks=h;this.Km=k;this.re=this.f.w.x;this.se=this.f.w.y;this.f.addEventListener("mouseOver",l(this,this.vd));this.f.addEventListener("mouseOut",l(this,this.Td));this.Mw=new a.e.Nh(this.f,this.f._rotation,"z",0,a.B.aa.yc(this.$s),this.at,!1,0,0);this.Hw=new a.e.Nh(this.f,this.f.da,"x",this.f.Ka().x,this.ks,this.Km+0.2*this.Km,!1,0,0);this.Iw=new a.e.Nh(this.f,this.f.da,"y",this.f.Ka().y,this.ks,this.Km-0.2*this.Km,!1,Math.PI,0);new a.e.ma(this.f)};c.cd.Bh.k=
!0;c.cd.Bh.C=a.h;c.cd.Bh.prototype=m(a.h.prototype,{KG:y("re"),mB:s("re"),LG:y("se"),nB:s("se"),ze:function(){a.h.prototype.ze.call(this);this.J.T(!1)},ye:function(){a.h.prototype.ye.call(this);this.J.T(!0)},s:function(){a.h.prototype.s.call(this);this.J=new a.e.ma(this.f);var b=this.f.L(a.R.Ea);null!=b&&(this.re=b.w.x,this.se=b.w.y)},Fg:function(){this.Td(null);this.f.removeEventListener("mouseOver",l(this,this.vd))},Gg:function(){this.f.addEventListener("mouseOver",l(this,this.vd))},update:function(){a.h.prototype.update.call(this);
this.Mw.yr(this.al);this.Hw.yr(this.al);this.Iw.yr(this.al)},vd:function(){if(!a.j.nb()){var b=this.f.L(a.R.Ea);if(!a.e.buttons.Qc.yq()){this.J.Zf();if(null!=b){var c=b.w.y;this.J.I(b.w,"x",b.w.x,this.re+this.qn,this.Jc,a.e.A.G.Db);this.J.I(b.w,"y",c,this.se+this.qn,this.Jc,a.e.A.G.Db)}else b=this.f.w.y,this.J.I(this.f.w,"x",this.f.w.x,this.re+this.qn,this.Jc,a.e.A.G.Db),this.J.I(this.f.w,"y",b,this.se+this.qn,this.Jc,a.e.A.G.Db);this.J.I(this,"_floatStrength",this.al,1,this.Jc,a.e.A.G.Db)}}},Td:function(){if(!a.j.nb()&&
null!=this.J){var b=this.f.L(a.R.Ea);this.J.Zf();if(null!=b){var c=b.w.y;this.J.I(b.w,"x",b.w.x,this.re,this.Jc,a.e.A.G.ad);this.J.I(b.w,"y",c,this.se,this.Jc,a.e.A.G.ad)}else b=this.f.w.y,this.J.I(this.f.w,"x",this.f.w.x,this.re,this.Jc,a.e.A.G.ad),this.J.I(this.f.w,"y",b,this.se,this.Jc,a.e.A.G.ad);this.J.I(this,"_floatStrength",this.al,0,this.Jc,a.e.A.G.Db)}},l:c.cd.Bh});c.cd.ig=function(b,c,d){this.Qw=0;this.fs=1024;a.h.call(this,b,"ScrollingBackground");this.vb=this.v().t();this.f.H(this.vb);
this.Lr=this.v().t();(new a.e.GameImage(this.Lr,c,d)).S();this.Ko=this.v().t();b=new a.e.GameImage(this.Ko,c,d);this.Ko.setPosition(b.$().x,0);b.S();this.Lo=this.v().t();c=new a.e.GameImage(this.Lo,c,d);this.Lo.setPosition(2*c.$().x,0);c.S();this.vb.H(this.Lr);this.vb.H(this.Ko);this.vb.H(this.Lo)};c.cd.ig.k=!0;c.cd.ig.C=a.h;c.cd.ig.prototype=m(a.h.prototype,{update:function(){a.h.prototype.update.call(this);this.vb.translate(this.Qw*a.j.Ac(),0);this.vb.q().x<-this.fs&&this.vb.translate(this.fs)},
l:c.cd.ig});c.Aa={};c.Aa.Cc=n();c.Aa.Cc.k=!0;c.Aa.Cc.wx=function(b,a,d,f){switch(b){case "glamParticles01":return c.Aa.Cc.Ex(a,d,f);case "glamParticles02":return c.Aa.Cc.Fx(a,d,f);case "glamParticles03":return c.Aa.Cc.Gx(a,d,f);case "glamSpiral01":return c.Aa.Cc.Hx(a,d,f);case "glamSpiral02":return c.Aa.Cc.Ix(a,d,f);case "glamBarbieEmblem":return c.Aa.Cc.Cx(a,d,f);case "glamBarbieLetters":return c.Aa.Cc.Dx(a,d,f)}return null};c.Aa.Cc.Ex=function(b,a,d){b=b.t();new c.Aa.Oh(b,["glamSparkle01","glamSparkle01",
"glamSparkle04Squish"],a,d);return b};c.Aa.Cc.Fx=function(b,a,d){b=b.t();new c.Aa.Oh(b,["glamSparkle02","glamSparkle02","glamSparkle04Squish"],a,d);return b};c.Aa.Cc.Gx=function(b,a,d){b=b.t();new c.Aa.Oh(b,["glamSparkle03","glamSparkle03","glamSparkle04Squish"],a,d);return b};c.Aa.Cc.Hx=function(b,a,d){b=b.t();new c.Aa.qj(b,["glamSparkle01","glamSparkle02","glamSparkle03"],a,d);return b};c.Aa.Cc.Ix=function(b,a,d){b=b.t();new c.Aa.qj(b,["glamCircle01","glamCircle02","glamCircle03"],a,d);return b};
c.Aa.Cc.Cx=function(b,c,d){b=b.t();new a.e.Yd(b,"glam_barbie_emblem",c,d);return b};c.Aa.Cc.Dx=function(b,c,d){b=b.t();new a.e.Yd(b,"glam_barbie_letters",c,d);return b};c.Aa.Cc.prototype={l:c.Aa.Cc};c.Aa.Oh=function(a,e,d,f){this.lf=0;this.Mv=720;this.Qv=360;this.Dk=100;this.Ck=125;this.Kv=1;this.Ov=0.5;this.Lv=200;this.Pv=50;this.zo=1;this.Ao=0.5;this.Gk=0.2;c.comicCreator.Fd.call(this,a,d,f);this.df=e;this.lf=this.Gk};c.Aa.Oh.k=!0;c.Aa.Oh.C=c.comicCreator.Fd;c.Aa.Oh.prototype=m(c.comicCreator.Fd.prototype,
{s:function(){c.comicCreator.Fd.prototype.s.call(this);this.vb=this.v().t();this.f.H(this.vb)},update:function(){c.comicCreator.Fd.prototype.update.call(this);0<this.vb.Ga.length&&(this.K=this.vb.Ga[0].L(c.Vc).K);this.lf-=a.j.Ac();0>=this.lf&&this.cr()},cr:function(){var b=this.v().t();this.vb.H(b);var e=a.B.aa.Bc(-this.Ck/2,this.Ck/2),d=a.B.aa.Bc(-this.Dk/2,this.Dk/2),f=a.B.aa.Bc(this.Ov,this.Kv),g=this.df[a.B.aa.UA(this.df.length)],h=a.B.aa.yc(a.B.aa.Bc(this.Qv,this.Mv)),k=a.B.aa.Bc(this.Ao,this.zo);
0.5<a.B.aa.Bc(0,1)||(h=-h);g=new c.Vc(b,g,this.K,this.r,c.comicCreator.Q.$b.n().dk());g.S();g.kb(0);b.setPosition(e,d);b.Y(0,0,0);e=new a.e.Ge(b);e.NB(-a.B.aa.Bc(this.Pv,this.Lv));e.fo(new a.Vector3D(0,0,h));h=new a.e.ma(b);h.I(g,"_alpha",0,1,0.3*k,a.e.A.G.Qa,0);h.I(g,"_alpha",1,0,0.3*k,a.e.A.G.Qa,0.7*k,function(){b.D()});h.I(b.w,"x",0,f,0.35,a.e.A.G.bd);h.I(b.w,"y",0,f,0.35,a.e.A.G.bd);this.lf=this.Gk},l:c.Aa.Oh});c.Aa.Ek=function(b,c,d,f){this.Tk=this.ng=this.Cm=0;this.Xs=50;this.ot=360;a.h.call(this,
b,"SpiralFromCenter");this.ot=c;this.Xs=d;this.Nw=f};c.Aa.Ek.k=!0;c.Aa.Ek.C=a.h;c.Aa.Ek.prototype=m(a.h.prototype,{update:function(){a.h.prototype.update.call(this);this.Tk-=this.ot*a.j.Ac();this.Cm+=this.Xs*a.j.Ac();var b=Math.sin(a.B.aa.yc(this.Tk))*this.Cm,c=Math.cos(a.B.aa.yc(this.Tk))*this.Cm;this.ng+=this.Nw*a.j.Ac();this.f.yh(0,0,0.5*-a.B.aa.yc(this.Tk));this.f.setPosition(b,c);this.f.Y(this.ng,this.ng)},l:c.Aa.Ek});c.Aa.qj=function(a,e,d,f){this.Ck=this.Dk=this.lf=this.Bm=0;this.Ao=this.zo=
2.25;this.Gk=0.25;c.comicCreator.Fd.call(this,a,d,f);this.df=e;this.lf=this.Gk};c.Aa.qj.k=!0;c.Aa.qj.C=c.comicCreator.Fd;c.Aa.qj.prototype=m(c.comicCreator.Fd.prototype,{s:function(){c.comicCreator.Fd.prototype.s.call(this);this.vb=this.v().t();this.f.H(this.vb)},update:function(){c.comicCreator.Fd.prototype.update.call(this);this.lf-=a.j.Ac();0>=this.lf&&this.cr()},cr:function(){var b=this.v().t();this.vb.H(b);var e=a.B.aa.Bc(-this.Ck/2,this.Ck/2),d=a.B.aa.Bc(-this.Dk/2,this.Dk/2),f=this.df[this.Bm],
g=a.B.aa.Bc(this.Ao,this.zo);this.Bm++;this.Bm>=this.df.length&&(this.Bm=0);f=new c.Vc(b,f,this.K,this.r,c.comicCreator.Q.$b.n().dk());f.S();f.kb(0);b.setPosition(e,d);b.Y(0,0,0);new c.Aa.Ek(b,360,45,1);e=new a.e.ma(b);e.I(f,"_alpha",0,1,0.3*g,a.e.A.G.Qa,0);e.I(f,"_alpha",1,0,0.3*g,a.e.A.G.Qa,0.7*g,function(){b.D()});this.lf=this.Gk},l:c.Aa.qj});c.Pa={};c.Pa.em=function(a){this.lt=[];this.Jb=a};c.Pa.em.k=!0;c.Pa.em.prototype={Aq:y("Jb"),jx:function(a){this.lt.push(a)},getName:function(){return a.Ma.Gb("LEVEL_"+
(this.Jb+1)+"_NAME")},l:c.Pa.em};c.Pa.sb=function(){this.be=0;a.Z.call(this);this.Nj=[]};c.Pa.sb.k=!0;c.Pa.sb.n=function(){null==c.Pa.sb.ca&&(c.Pa.sb.ca=new c.Pa.sb,a.j.instance.he(c.Pa.sb.ca));return c.Pa.sb.ca};c.Pa.sb.C=a.Z;c.Pa.sb.prototype=m(a.Z.prototype,{HI:function(){return 5<=this.be},XA:function(a){if(!(0>a.$m)){var e=this.Yt(a.$m-1);null==e&&(e=new c.Pa.em(a.$m-1),this.Nj[a.$m-1]=e);e.jx(a)}},Yt:function(a){return this.Nj[a]},eI:y("Nj"),dI:function(b){return a.Ma.Gb("LEVEL_"+(b+1)+"_NAME")},
Dq:function(){return c.X.n().Ie.getItem("numLevelsUnlocked",1)},lL:function(a){a<=this.Dq()||c.X.n().Ie.setItem("numLevelsUnlocked",a)},mH:y("be"),Xu:s("be"),fy:function(){return this.Nj[this.be]},l:c.Pa.sb});c.jk={};c.jk.zk=function(b,c){a.h.call(this,b,"GemBurst");this.K=c};c.jk.zk.k=!0;c.jk.zk.C=a.h;c.jk.zk.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this)},Rx:function(){for(var b=this.f.q(),c=0;30>c;){c++;var d=[this.v().t()],f=0.7+a.B.aa.Bc(-0.35,0.35);d[0].Y(f,f);d[0].setPosition(b.x+
a.B.aa.Bc(-20,20),b.y+a.B.aa.Bc(-20,20));var g=new a.e.GameImage(d[0],"starParticle",this.K);g.S();var h=new a.e.ma(d[0]);h.I(g,"_alpha",1,0,0.35,a.e.A.G.Qa,a.B.aa.Bc(0.5,0.7),function(a){return function(){a[0].D()}}(d));h.I(d[0].w,"x",0,f,0.15,a.e.A.G.pf);h.I(d[0].w,"y",0,f,0.15,a.e.A.G.pf);d=new a.e.Ge(d[0],new a.Vector3D(0,500));d.zr(a.B.aa.Bc(-300,300),a.B.aa.Bc(-300,300));d.fo(new a.Vector3D(0,0,a.B.aa.yc(a.B.aa.Bc(720,1080))))}var k=this.v().t(),c=new a.e.GameImage(k,"burstGlow",this.K);c.S();
d=new a.e.ma(k);d.I(k.w,"x",0,3.5,0.35,a.e.A.G.pf);d.I(k.w,"y",0,3.5,0.35,a.e.A.G.pf);d.I(c,"_alpha",0.85,0,0.15,a.e.A.G.pf,0.15,function(){k.D()});k.setPosition(b.x,b.y);var l=this.v().t(),c=new a.e.GameImage(l,"burstGlow",this.K);c.S();d=new a.e.ma(l);d.I(l.w,"x",0,7.5,0.65,a.e.A.G.pf);d.I(l.w,"y",0,7.5,0.65,a.e.A.G.pf);d.I(c,"_alpha",0.5,0,0.45,a.e.A.G.pf,0.15,function(){l.D()});l.setPosition(b.x,b.y)},l:c.jk.zk});c.Kb={};c.Kb.qe=function(b,c){this.ic=this.Bg=this.K=this.Jd=null;a.h.call(this,
b,"SubtitleDisplay");this.K=c};c.Kb.qe.k=!0;c.Kb.qe.C=a.h;c.Kb.qe.prototype=m(a.h.prototype,{s:function(){a.h.prototype.s.call(this);this.qs=this.v().t();this.qs.Y(1.2666666666666666,1.2666666666666666);this.qs.setPosition(0,-10);this.ls=this.v().t();this.ls.Y(1.2666666666666666,1.2666666666666666);this.ls.setPosition(0,548);var b=this.v().t();b.xb(!1);b.setPosition(378,453);this.Bg=new a.e.Wa(b,this.K);this.Bg.yd("Arial Black, Arial");this.Bg.le("#000000");this.Bg.Lg(650);b=this.v().t();b.xb(!1);
b.setPosition(375,450);this.ic=new a.e.Wa(b,this.K);this.ic.yd("Arial Black, Arial");this.ic.Lg(650);this.Jd=new a.e.Dd(this.f);a.$a.Hf.n().addEventListener("showSubtitle",l(this,this.FA))},AJ:function(){this.ic.Lg(950);this.Bg.Lg(950)},GK:function(){this.ic.Lg(650);this.Bg.Lg(650)},FA:function(a){this.Jd.mq();var c=a.it;this.ic.pb(c);this.ic.f.xb(!0);this.Bg.pb(c);this.Bg.f.xb(!0);this.Jd.nf(a.Nf,l(this,this.EA))},EA:function(){this.ic.f.xb(!1);this.Bg.f.xb(!1)},l:c.Kb.qe});c.Kb.Sh=function(){this.ht=
null;a.P.call(this);c.Kb.Sh.ca=this};c.Kb.Sh.k=!0;c.Kb.Sh.n=function(){return c.Kb.Sh.ca};c.Kb.Sh.C=a.P;c.Kb.Sh.prototype=m(a.P.prototype,{s:function(){a.P.prototype.s.call(this);var b=this.t();this.ht=new c.Kb.qe(b,a.j.instance.Da("subtitles"))},SI:y("ht"),l:c.Kb.Sh});c.utag={};c.utag.Hd=function(){this.Ej="YCBA Photo Booth";a.Z.call(this);c.utag.Hd.ca=this;this.vi=window.utag};c.utag.Hd.k=!0;c.utag.Hd.n=function(){return c.utag.Hd.ca};c.utag.Hd.C=a.Z;c.utag.Hd.prototype=m(a.Z.prototype,{link:function(a,
c){var d={};d.event_id=A.replace(a,"[Game Title]",this.Ej);d.event_category_id=c;null!=this.vi&&this.vi.link(d)},Ci:function(a,c,d,f,g){null==g&&(g="");var h={};a=A.replace(a,"[Game Title]",this.Ej);c=A.replace(c,"[Game Title]",this.Ej);d=A.replace(d,"[Game Title]",this.Ej);f=A.replace(f,"[Game Title]",this.Ej);h.eve_cat=a;h.eve_act=c;h.eve_lab=d;h.eve_des=f;h.eve_pos=g;console.log(JSON.stringify(h));null!=this.vi&&this.vi.link(h)},view:function(a){var c={};a=A.replace(a,"[Game Title]",this.Ej);a=
A.replace(a,"[locale]",k.In);c.page_id=a;null!=this.vi&&null!=this.vi.view&&this.vi.view(c)},l:c.utag.Hd});c.La={};c.La.Vb=function(b,c){this.Wb=480;this.Pb=640;a.h.call(this,b,"WebcamDisplay");this.K=c};c.La.Vb.k=!0;c.La.Vb.C=a.h;c.La.Vb.prototype=m(a.h.prototype,{$:function(){return new a.m(this.Pb,this.Wb)},zh:function(a,c){this.Pb=a;this.Wb=c},s:function(){var b=this;a.h.prototype.s.call(this);a.j.nb()||(navigator.Hq=navigator.Hq||navigator.$L||navigator.OJ||navigator.PJ,null==c.La.Vb.Rd?null!=
navigator.Hq?navigator.Hq({audio:!1,ZL:!0},function(a){b.sg?a.iu()[0].stop():(null==c.La.Vb.Rd&&(c.La.Vb.Rd=k.oa().createElement("video"),c.La.Vb.Rd.autoplay=!0,c.La.Vb.Rd.src=URL.createObjectURL(a)),c.La.Vb.pp=a,b.dispatchEvent(new c.La.If("display")))},function(){return function(){b.dispatchEvent(new c.La.If("fail"))}}(this)):this.dispatchEvent(new c.La.If("fail")):(this.dispatchEvent(new c.La.If("display")),c.La.Vb.pp.iu()[0].enabled=!0,c.La.Vb.Rd.play()))},Va:function(){a.h.prototype.Va.call(this);
if(this.f.ag()&&null!=c.La.Vb.Rd){0==this.Pb&&(this.Pb=c.La.Vb.Rd.videoWidth);0==this.Wb&&(this.Wb=c.La.Vb.Rd.videoHeight);this.xp=-this.Pb/2;this.Fw=-this.Wb/2;null==this.ea&&(this.ea=this.K.Ha().getContext("2d"));var b=this.f,e=this.f.q(),d=this.f.W();this.ea.save();this.ea.setTransform(1,0/d.x,0/d.y,1,1*Math.floor(e.x),1*Math.floor(e.y));this.ea.rotate(b.dd().z);this.ea.translate(1*Math.floor(this.xp),1*Math.floor(this.Fw));this.ea.globalAlpha=1;this.ea.scale(d.x,d.y);if(a.j.Mq())try{this.ea.drawImage(c.La.Vb.Rd,
0,0,this.Pb,this.Wb)}catch(f){}else this.ea.drawImage(c.La.Vb.Rd,0,0,this.Pb,this.Wb);this.K.qk(!0);this.ea.restore()}},aC:function(){var a;a=k.oa().createElement("canvas");a.width=this.Pb;a.height=this.Wb;a.getContext("2d").drawImage(c.La.Vb.Rd,0,0,c.La.Vb.Rd.videoWidth,c.La.Vb.Rd.videoHeight,0,0,this.Pb,this.Wb);var e;e=k.oa().createElement("img");e.src=a.toDataURL();e.width=this.Pb;e.height=this.Wb;return e},D:function(){a.h.prototype.D.call(this);null!=c.La.Vb.Rd&&c.La.Vb.Rd.pause();null!=c.La.Vb.pp&&
(c.La.Vb.pp.iu()[0].enabled=!1)},l:c.La.Vb});c.La.If=function(b){a.p.O.call(this,b)};c.La.If.k=!0;c.La.If.C=a.p.O;c.La.If.prototype=m(a.p.O.prototype,{l:c.La.If});var v={Th:n()};v.Th.k=!0;v.Th.Ol=function(){return(new Date).getTime()/1E3};v.nd={};v.nd.qd=function(){this.Gl={}};v.nd.qd.k=!0;v.nd.qd.ew=[G];v.nd.qd.prototype={set:function(a,c){this.Gl["$"+a]=c},get:function(a){return this.Gl["$"+a]},mb:function(a){return this.Gl.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.Gl.hasOwnProperty(a))return!1;
delete this.Gl[a];return!0},l:v.nd.qd};v.Tn={};v.Tn.vo=n();v.Tn.vo.k=!0;v.Tn.vo.prototype={toString:C("Eof"),l:v.Tn.vo};v.xml={};v.xml.hg=n();v.xml.hg.k=!0;v.xml.hg.parse=function(a){var c=r.createDocument();v.xml.hg.Gt(a,0,c);return c};v.xml.hg.Gt=function(a,c,d){null==c&&(c=0);for(var f=null,g=1,h=1,k=null,l=0,m=0,w=0,x=a.charCodeAt(c),z=new E;x==x;){switch(g){case 0:switch(x){case 10:case 13:case 9:case 32:break;default:g=h;continue}break;case 1:switch(x){case 60:g=0;h=2;break;default:l=c;g=13;
continue}break;case 13:60==x?(h=r.lq(z.b+u.substr(a,l,c-l)),z=new E,d.H(h),m++,g=0,h=2):38==x&&(z.ix(a,l,c-l),g=18,h=13,l=c+1);break;case 17:93==x&&(93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2))&&(g=r.xx(u.substr(a,l,c-l)),d.H(g),m++,c+=2,g=1);break;case 2:switch(x){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=u.substr(a,c,6).toUpperCase())throw"Expected <![CDATA[";c+=5;g=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=u.substr(a,c+2,6).toUpperCase())throw"Expected <!DOCTYPE";
c+=8;g=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw"Expected \x3c!--";c+=2;g=15}l=c+1;break;case 63:g=14;l=c;break;case 47:if(null==d)throw"Expected node name";l=c+1;g=0;h=10;break;default:g=3;l=c;continue}break;case 3:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)){if(c==l)throw"Expected node name";f=r.createElement(u.substr(a,l,c-l));d.H(f);g=0;h=4;continue}break;case 4:switch(x){case 47:g=11;m++;break;case 62:g=9;m++;break;default:g=5;l=c;continue}break;
case 5:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)){if(l==c)throw"Expected attribute name";k=u.substr(a,l,c-l);if(f.mb(k))throw"Duplicate attribute";g=0;h=6;continue}break;case 6:switch(x){case 61:g=0;h=7;break;default:throw"Expected =";}break;case 7:switch(x){case 34:case 39:g=8;l=c;break;default:throw'Expected "';}break;case 8:x==a.charCodeAt(l)&&(f.set(k,u.substr(a,l+1,c-l-1)),g=0,h=4);break;case 9:l=c=v.xml.hg.Gt(a,c,f);g=1;break;case 11:switch(x){case 62:g=1;break;
default:throw"Expected >";}break;case 12:switch(x){case 62:return 0==m&&d.H(r.lq("")),c;default:throw"Expected >";}case 10:if(!(97<=x&&122>=x||65<=x&&90>=x||48<=x&&57>=x||58==x||46==x||95==x||45==x)){if(l==c)throw"Expected node name";if(u.substr(a,l,c-l)!=d.Iq())throw"Expected </"+d.Iq()+">";g=0;h=12;continue}break;case 15:45==x&&(45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2))&&(d.H(r.createComment(u.substr(a,l,c-l))),c+=2,g=1);break;case 16:91==x?w++:93==x?w--:62==x&&0==w&&(d.H(r.zx(u.substr(a,l,
c-l))),g=1);break;case 14:63==x&&62==a.charCodeAt(c+1)&&(c++,d.H(r.createProcessingInstruction(u.substr(a,l+1,c-l-2))),g=1);break;case 18:59==x&&(l=u.substr(a,l,c-l),35==l.charCodeAt(0)?z.add(String.fromCharCode(120==l.charCodeAt(1)?q.Yb("0"+u.substr(l,1,l.length-1)):q.Yb(u.substr(l,1,l.length-1)))):v.xml.hg.Jt.mb(l)?z.add(v.xml.hg.Jt.get(l)):z.b+=q.Hi("&"+l+";"),l=c+1,g=h)}x=A.Tx(a,++c)}1==g&&(l=c,g=13);if(13==g)return c==l&&0!=m||d.H(r.lq(z.b+u.substr(a,l,c-l))),c;throw"Unexpected end";};var w=
{Ad:n()};w.Ad.k=!0;w.Ad.uh=function(a){return a instanceof Array&&null==a.Id?Array:a.l};w.Ad.Ik=function(a,c){if(null==a)return"null";if(5<=c.length)return"<...>";var d=typeof a;"function"==d&&(a.k||a.xj)&&(d="object");switch(d){case "object":if(a instanceof Array){if(a.Id){if(2==a.length)return a[0];d=a[0]+"(";c+="\t";for(var f=2,g=a.length;f<g;)var h=f++,d=2!=h?d+(","+w.Ad.Ik(a[h],c)):d+w.Ad.Ik(a[h],c);return d+")"}d=a.length;f="[";c+="\t";for(g=0;g<d;)h=g++,f+=(0<h?",":"")+w.Ad.Ik(a[h],c);return f+
"]"}try{f=a.toString}catch(k){return"???"}if(null!=f&&f!=Object.toString&&(d=a.toString(),"[object Object]"!=d))return d;d=null;f="{\n";c+="\t";g=null!=a.hasOwnProperty;for(d in a)g&&!a.hasOwnProperty(d)||("prototype"==d||"__class__"==d||"__super__"==d||"__interfaces__"==d||"__properties__"==d)||(2!=f.length&&(f+=", \n"),f+=c+d+" : "+w.Ad.Ik(a[d],c));c=c.substring(1);return f+("\n"+c+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};w.Ad.Fo=function(a,c){if(null==
a)return!1;if(a==c)return!0;var d=a.ew;if(null!=d)for(var f=0,g=d.length;f<g;){var h=f++,h=d[h];if(h==c||w.Ad.Fo(h,c))return!0}return w.Ad.Fo(a.C,c)};w.Ad.dw=function(a){var c=String;if(null==c)return!1;switch(c){case K:return(a|0)===a;case H:return"number"==typeof a;case I:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.Id;case L:return!0;default:if(null!=a){if("function"==typeof c&&(a instanceof c||w.Ad.Fo(w.Ad.uh(a),c)))return!0}else return!1;
return c==M&&null!=a.k||c==N&&null!=a.xj?!0:a.Id==c}};w.me=n();w.me.k=!0;w.me.Dl=function(){try{var a=window.localStorage;a.getItem("");return a}catch(c){return null}};w.me.El=function(){try{var a=window.sessionStorage;a.getItem("");return a}catch(c){return null}};var J=0;Array.prototype.indexOf&&(u.indexOf=function(a,c,d){return Array.prototype.indexOf.call(a,c,d)});Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.EJ=function(a){return isFinite(a)};
Math.uu=function(a){return isNaN(a)};String.prototype.l=String;String.k=!0;Array.k=!0;Date.prototype.l=Date;Date.k=["Date"];var K={k:["Int"]},L={k:["Dynamic"]},H=Number;H.k=["Float"];var I=Boolean;I.xj=["Bool"];var M={k:["Class"]},N={};r.Df="element";r.Tv="pcdata";r.xv="cdata";r.Dv="comment";r.Hv="doctype";r.Vv="processingInstruction";r.uo="document";w.HD=window.jQuery;k.$v=60;k.aw=60;k.Sc=1024;k.Rc=768;k.Dh=640;k.Ch=960;k.sC="#000000";a.ua.rw=0;a.ta.ji=new v.nd.qd;a.j.hE=0;a.j.iE=1;a.j.SD=2;a.j.pE=
30;a.j.nt=1;a.j.DF=-1;a.j.tl=0;a.j.kd=0;a.rb.CF=0;a.LoadBatch.WD=3;a.e.pd.Np=!1;a.e.eg.Yv="startDragging";a.e.eg.Zv="stopDragging";a.e.Ph.iD=5E-5;a.e.Wa.SC="white";a.e.buttons.Qc.Vk=!1;a.p.Ra.uF="visibilityOff";a.p.Ra.vF="visibilityOn";a.p.Ra.$C="displayUpdate";a.p.Ra.oC="addedToParent";a.p.Ra.vE="removedFromParent";a.p.Ra.Rv="mouseDown";a.p.Ra.Sv="mouseUp";a.p.Ra.YD="mouseMove";a.p.Ra.ZD="mouseOut";a.p.Ra.$D="mouseOver";a.p.Ra.XD="mouseClick";a.p.Ee.XC="destroy";a.p.Ee.nC="activate";a.p.Ee.RC="deactivate";
a.p.Ee.AD="initialize";a.p.ij.Wv="raycastCheck";a.Lc.FlashAnimation.um=new v.nd.qd;a.g.N.oh=new v.nd.qd;a.g.Te.uC="beatLevel";a.g.Te.lD="failLevel";a.g.Te.mF="turboStart";a.g.Te.lF="turboEnd";a.g.Te.NC="comicSnapshot";a.g.Tc.Hm=new v.nd.qd;a.g.gm.Wv="raycastCheck";a.g.SoundManager.ys=1;a.g.SoundManager.rl=0.55;a.g.SoundManager.tn=1;a.g.SoundManager.up=!1;a.g.SoundManager.Up=!1;a.g.SoundManager.ue=[];a.g.SoundManager.np=!1;a.g.SoundManager.ui=!1;a.g.SoundManager.GF=new v.nd.qd;a.Ub.Xg.UD="midpoint";
a.Ub.Xg.OC="complete";a.$a.sj.TE="showSubtitle";a.Ql.fm.BD="initialized";a.R.uj.pF="updateDisplay";a.B.Ug.Ws=new v.nd.qd;a.B.vj.JC="change";c.Wd.bw=2;c.Wd.vv=-1E3;c.Wd.wv=384;c.Wd.uv=3500;c.Wd.cw=0.325;c.Wd.Iv=7.3;c.Wd.wo=0;c.Pe.fE=8;c.Pe.eE=6;c.Pe.tv=[42,43,44,45,38,39,40,41,24,25,26,27,28,29,30,31,32,33,34,35,36,37,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23];c.rc.Cv=790;c.rc.Bv=600;c.rc.zv=0;c.rc.Av=35;c.rc.Nv=1;c.rc.xC=1;c.rc.wC=685;c.rc.yC=85;c.Og.QE="selectStarter";c.Og.PE=
"selectBlank";c.xo.yF="league_gothic";c.xo.zF="league_gothic";c.X.dE="numLevelsUnlocked";c.X.ID="levelScore";c.X.qD="hasBeatenGame";c.X.rD="hasStartedGame";c.Hh.jF=2;c.Hh.wo=0.75;c.Ih.hD=50;c.xa.bw=2;c.xa.vv=-1E3;c.xa.wv=384;c.xa.uv=3500;c.xa.cw=0.325;c.xa.Iv=7.3;c.xa.wo=0;c.xa.kF=0.6;c.xa.oE=40;c.xa.Dm=0;c.nj.oF="update";c.rj.ND="loadComplete";c.Lb.cE=0;c.Lb.zC=0.65;c.Lb.AC=0.1;c.Lb.lE=-0.4921875;c.Lb.mE=-0.23046875;c.Lb.jE=0.6;c.Lb.kE=0.65;c.Lb.RD=1;c.Lb.FE=400;c.Lb.JE=0.35;c.Lb.gE=2;c.We.EE=50;
c.We.DE=64;c.comicCreator.Pi.EC="capture";c.comicCreator.Qi.Uv="PrintingStateIFrame";c.comicCreator.Ib.sF=338;c.comicCreator.Ib.tF=98;c.comicCreator.Ib.rF=686;c.comicCreator.Ib.qF=528;c.comicCreator.Ib.dD=1024;c.comicCreator.Ib.cD=768;c.comicCreator.Ib.BC=100;c.comicCreator.Ib.CC=100;c.comicCreator.Ib.wF=690;c.comicCreator.Ib.xF=373;c.comicCreator.De.mD=0.75;c.comicCreator.De.jD=0.15;c.comicCreator.De.wo=0.35;c.comicCreator.De.vC=0.8;c.comicCreator.Af.KC="click";c.comicCreator.Af.CE="sceneEntitySelected";
c.comicCreator.Af.BE="sceneEntityDeselected";c.comicCreator.Ti.nE="paneSelect";c.comicCreator.Ui.MC="closeClick";c.comicCreator.Se.Cv=750;c.comicCreator.Se.Bv=600;c.comicCreator.Se.zv=0;c.comicCreator.Se.Av=35;c.comicCreator.Se.Nv=1;c.comicCreator.Cd.Ev=250;c.comicCreator.Cd.Jv=600;c.comicCreator.qb.TC=90;c.comicCreator.qb.UC=-90;c.comicCreator.qb.Fv=-90;c.comicCreator.qb.Gv=90;c.comicCreator.fd.YE="startManipulation";c.comicCreator.fd.$E="stopManipulation";c.comicCreator.fd.bD="doneClick";c.comicCreator.fd.VC=
"deleteClick";c.comicCreator.Sg.aF=125;c.comicCreator.Sg.bF=0;c.comicCreator.Sg.gF=100;c.comicCreator.Sg.hF=100;c.comicCreator.gj.Dr="select";c.comicCreator.ia.Bj=25;c.comicCreator.ia.Ps=!1;c.comicCreator.Mh.uE=1850;c.comicCreator.Mh.Uv="PrintingStateIFrame";c.comicCreator.Ff.jp=!1;c.comicCreator.Gf.Yv="startDragging";c.comicCreator.Gf.Zv="stopDragging";c.comicCreator.Gf.Dr="select";c.comicCreator.Gf.WC="deselect";c.comicCreator.jj.yE="rotationUpdate";c.comicCreator.Vg.nF=0.35;c.comicCreator.Vg.zE=
0.01;c.comicCreator.Wg.XE="startDrag";c.comicCreator.Wg.ZE="stopDrag";c.comicCreator.kj.AE="scaleUpdate";c.comicCreator.Ve.Ev=250;c.comicCreator.Ve.Jv=600;c.comicCreator.lj.Dr="select";c.comicCreator.oj.fD=60;c.comicCreator.oj.eD=-65;c.comicCreator.pj.OE="seasonSelect";c.comicCreator.F.pa.VD=4;c.comicCreator.F.pa.rC=1;c.comicCreator.F.pa.KE=72;c.comicCreator.F.pa.LE=140;c.comicCreator.F.pa.GE=72;c.comicCreator.F.pa.HE=680;c.comicCreator.F.pa.qC=40;c.comicCreator.F.pa.FD=45;c.comicCreator.F.pa.GD=
55;c.comicCreator.F.pa.ME=0;c.comicCreator.F.pa.NE=0;c.comicCreator.F.pa.HC=-100;c.comicCreator.F.pa.IC=170;c.comicCreator.F.pa.GC=102;c.comicCreator.F.pa.DD=-0.7;c.comicCreator.F.pa.ED=-1;c.comicCreator.F.pa.qE=168;c.comicCreator.F.pa.rE=0;c.comicCreator.F.pa.yD=303;c.comicCreator.F.pa.zD=-25;c.comicCreator.F.pa.VE=368;c.comicCreator.F.pa.WE=-25;c.comicCreator.F.pa.Fv=453;c.comicCreator.F.pa.Gv=-5;c.comicCreator.F.pa.PC=1;c.comicCreator.F.pa.QC=-1;c.comicCreator.F.pa.uD=0;c.comicCreator.F.pa.vD=
-1;c.comicCreator.F.pa.JD=-1;c.comicCreator.F.pa.KD=1;c.comicCreator.F.pa.LD=420;c.comicCreator.F.pa.FC=105;c.comicCreator.F.ej.yv="clearFiltersClick";c.comicCreator.F.fj.gD="dropAsset";c.comicCreator.F.yb.tC="backButtonClick";c.comicCreator.F.yb.tE="previousPanelClick";c.comicCreator.F.yb.bE="nextPanelClick";c.comicCreator.F.yb.sE="previewClick";c.comicCreator.F.yb.nD="finishClick";c.comicCreator.F.yb.pC="avatarCreatorClick";c.comicCreator.F.yb.wE="resetClick";c.comicCreator.F.yb.wD="helpClick";
c.comicCreator.F.yb.UE="soundButtonClick";c.comicCreator.F.yb.xD="homeButtonClick";c.comicCreator.F.yb.CD="itemDockClick";c.comicCreator.F.yb.yv="clearFiltersClick";c.comicCreator.F.Oa.Qg.Rv="mouseDown";c.comicCreator.F.Oa.Qg.Sv="mouseUp";c.comicCreator.F.Oa.Fe.xE=360;c.comicCreator.F.Oa.Fe.IE=1;c.comicCreator.F.Oa.Fe.TD=93.75;c.comicCreator.F.Oa.Fe.OD=93.75;c.comicCreator.F.Oa.Fe.aD=7;c.comicCreator.F.Oa.Fe.MD=420;c.comicCreator.sa.Wi.iF=3;c.comicCreator.sa.Jh.QD=225;c.comicCreator.sa.Jh.PD=225;
c.comicCreator.sa.sc.aE="nextClick";c.comicCreator.sa.sc.RE="showDialog";c.comicCreator.sa.sc.SE="showGhostScreen";c.comicCreator.sa.sc.YC="dismissGhostScreen";c.comicCreator.sa.sc.LC="close";c.comicCreator.sa.sc.DC="cancel";c.Kb.qe.sD=0;c.Kb.qe.tD=-10;c.Kb.qe.oD=0;c.Kb.qe.pD=548;c.Kb.qe.eF=375;c.Kb.qe.fF=450;c.Kb.qe.cF=3;c.Kb.qe.dF=3;c.La.If.ZC="display";c.La.If.kD="fail";v.xml.hg.Jt=function(){var a=new v.nd.qd;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");
a.set("nbsp",String.fromCharCode(160));return a}(this)})("undefined"!=typeof window?window:exports);
