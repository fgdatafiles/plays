!function(){var a=include("createjs.Bitmap"),b=include("createjs.Tween"),c=include("createjs.Ease"),d=include("springroll.DelayedCall"),e=function(a){this._hidden=!0,this._enabled=!0,this._delayedCall=null,this._stage=a,this.init()},f=e.prototype;f.init=function(){this.saucer=new a(images.loadingSaucer),this.saucer.regX=this.saucer.image.width/2,this.saucer.regY=this.saucer.image.height/2,this.saucer.scaleX=this.saucer.scaleY=.5,this.saucer.visible=!1,this._stage.addChild(this.saucer)},f.show=function(){this._delayedCall&&this._delayedCall.destroy(),this._hidden=!1;var a=this,d=this.getOffScreenPos();this.saucer.x=d.x,this.saucer.y=d.y,this.saucer.visible=!0,b.get(this.saucer,{override:!0}).to({x:650,y:360},1e3,c.cubicOut).call(a._afterShow.bind(a)),app.sound.play("saucerSound")},f._afterShow=function(){var a=this;b.get(this.saucer,{override:!0,loop:!0}).to({y:370},400,c.cubicOut()).to({y:360},400,c.cubicOut()),this._delayedCall=new d(function(){a.hide()},2500)},f.hide=function(){if(this._delayedCall&&this._delayedCall.destroy(),!this._hidden){this._hidden=!0;var a=this.getOffScreenPos();b.get(this.saucer,{override:!0}).to({x:a.x,y:a.y},1e3,c.cubicOut),app.sound.play("saucerSound")}},f.getOffScreenPos=function(){var a,b;return Math.random()>.5?(a=1280*Math.random(),b=Math.random()>.5?-100:800):(b=600*Math.random(),a=Math.random()>.5?-100:1400),{x:a,y:b}},Object.defineProperty(f,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=a;var b=this;this._enabled?(this._delayedCall&&this._delayedCall.destroy(),this._delayedCall=new d(function(){b.show()},5e3+1e4*Math.random())):this.hide()}}),namespace("MCO.misc").ToSaucer=e}(),function(){function a(){this._lastComplete?app.analyticEvent("leaving game; ","after successfully completing : ",this._const):app.analyticEvent("leaving game; ","after failing to complete : ",this._const)}var b=function(){this._pageOpened=Date.now(),this._const="none",this._lastComplete=!1,this._loggedFirstPlanet=!1,window.onbeforeunload=a},c=b.prototype;c.leaveLoadingScreen=function(){app.analyticEvent("loading time",this._pageOpened-Date.now())},c.enterConstScreen=function(a){this._const=a,this._lastComplete=!1,this.loggedFirstPlanet||(this._loggedFirstPlanet=!0,app.analyticEvent("first constellation: ",a))},c.leaveConstScreen=function(a){this._lastComplete=a},namespace("MCO").Analytics=b}(),function(){function a(){this._lastComplete?app.analyticEvent("leaving game; ","after successfully completing : ",this._const):app.analyticEvent("leaving game; ","after failing to complete : ",this._const)}var b=function(){this._pageOpened=Date.now(),this._const="none",this._lastComplete=!1,this._loggedFirstPlanet=!1,window.onbeforeunload=a},c=b.prototype;c.leaveLoadingScreen=function(){app.analyticEvent("loading time",this._pageOpened-Date.now())},c.enterConstScreen=function(a){this._const=a,this._lastComplete=!1,this.loggedFirstPlanet||(this._loggedFirstPlanet=!0,app.analyticEvent("first constellation: ",a))},c.leaveConstScreen=function(a){this._lastComplete=a},namespace("MCO").Analytics=b}();var MCO=MCO||{};MCO.TimeOutTimer=function(a,b,c,d){var e={};return e.time=a,e.sounds=b,e.isActive=c||!1,e.progress=0,e.callback=d||null,app.sound.preload(e.sounds),e.updateTimer=function(a){e.isActive&&(e.progress+=a,e.progress>=e.time&&e.playVO())},app.on("update",e.updateTimer),e.resetProgress=function(){e.progress=0},window.addEventListener("mousedown",e.resetProgress),window.addEventListener("touchstart",e.resetProgress,!1),e.setActive=function(a){e.isActive=a,a&&e.resetProgress()},e.playVO=function(){if(!app.captions.playing){var a=e.sounds[Math.floor(Math.random()*e.sounds.length)];app.voPlayer.play(a),e.callback&&e.callback()}e.resetProgress()},e.destroy=function(){app.off("update",e.updateTimer),window.removeEventListener("mousedown",e.resetProgress),window.removeEventListener("touchstart",e.resetProgress,!1),app.sound.unload(e.sounds)},e};var MCO=MCO||{};MCO.AdvancedTimeOutTimer=function(a,b,c){var d={};d.time=a,d.isActive=c||!1,d.progress=0,d.sounds=[],d.callbacks={},d.constVO=null,d.voID=0;for(var e=b.length-1;e>=0;e--)d.sounds.push(b[e].name),d.callbacks[b[e].name]=b[e].callback;return app.sound.preload(d.sounds),d.updateTimer=function(a){d.isActive&&(d.progress+=a,d.progress>=d.time&&d.playVO())},app.on("update",d.updateTimer),d.reset=function(){d.progress=0,d.voID=0},d.resetProgress=function(){d.progress=0},window.addEventListener("mousedown",d.resetProgress),window.addEventListener("touchstart",d.resetProgress,!1),d.setActive=function(a){d.isActive=a,a&&d.resetProgress()},d.addConstTO=function(a){d.voID=-1,d.progress=d.time,app.sound.unload(d.constVO);var b=""+a+"TO";app.sound.preload([b]),d.constVO=b},d.playVO=function(){app.captions.playing||(-1===d.voID?d.playConstVO():d.playBtnVO(),d.voID++,d.voID>=d.sounds.length&&(d.voID=0))},d.playConstVO=function(){if(""!==d.constVO){app.voPlayer.play(d.constVO);var a=app.sound._sounds[d.constVO].duration||15;d.progress=-a}else d.playBtnVO()},d.playBtnVO=function(){var a=d.sounds[d.voID];app.voPlayer.play(a),d.callbacks[a]&&d.callbacks[a](1e3),d.progress=-5},d.destroy=function(){app.off("update",updateTimer),window.removeEventListener("mousedown",d.resetProgress),window.removeEventListener("touchstart",d.resetProgress,!1),app.sound.unload(sounds)},d},function(){var a=function(a){b.loadSounds(),this.tier1Sounds=["2.2_wa01"],this.tier2Sounds=["2.2_wa02_alt_click","2.2_wa02_alt_tap"],this.tier3Sounds=["2.2b_to01_click_alt","2.2b_to01_click","2.2b_to01_tap"]},b=a.prototype;b.loadSounds=function(){app.sound.preload(this.tier1Sounds),app.sound.preload(this.tier2Sounds),app.sound.preload(this.tier3Sounds)},b.play=function(a){if(!app.captions.playing){var b=null;1===a?(b=this.tier1Sounds[Math.floor(Math.random()*this.tier1Sounds.length)],app.voPlayer.play(b)):2===a?(b=this.tier2Sounds[Math.floor(Math.random()*this.tier2Sounds.length)],app.voPlayer.play(b)):a>=3&&(b=this.tier3Sounds[Math.floor(Math.random()*this.tier3Sounds.length)],app.voPlayer.play(b))}},b.destroy=function(){app.sound.unload(this.tier1Sounds),app.sound.unload(this.tier2Sounds),app.sound.unload(this.tier3Sounds)},namespace("MCO").WASoundBox=a}(),function(){var a=include("springroll.DelayedCall"),b=function(a){this.sounds=["3.0_constellation_intro_all_1","3.0_constellation_intro_all_2","3.0_constellation_intro_all_3","2.4_ursamajor","2.4_ursaminor","2.4_cassiopeia","2.4_cygnus","2.4_leo","2.4_scorpius","2.4_taurus","2.4_orion"],app.sound.preload(this.sounds)},c=b.prototype,d=[];c.reset=function(){c.clearDelayedCalls()},c.cancel=function(){c.clearDelayedCalls()},c.clearDelayedCalls=function(){for(var a=d.length-1;a>=0;a--)d[a].destroy();d=[]},c.play=function(b,e,f){c.name=b.toLowerCase(),c.callback=e,this.introPlayed?c._addName():(this.introPlayed=!0,d.push(new a(function(){app.voPlayer.play("2.4_"+c.name,function(){app.voPlayer.play("3.0_constellation_intro_all_3",c._addName)})},f||0)))},c._addName=function(){app.voPlayer.play("2.4_"+c.name,c._onComplete)},c._onComplete=function(b){new a(function(){c.callback&&c.callback()},500)},c.playName=function(a){app.voPlayer.play("2.4_"+a.toLowerCase())},c.destroy=function(){app.sound.unload(this.sounds)},namespace("MCO").PayoffIntro=b}(),function(){var a={Cassiopeia:!1,UrsaMinor:!1,Leo:!1,Taurus:!1,Cygnus:!1,Scorpius:!1,Orion:!1,UrsaMajor:!1};namespace("MCO").completedConstellations=a}(),namespace("MCO").constellations=["Cassiopeia","UrsaMinor","Leo","Taurus","Cygnus","Scorpius","Orion","UrsaMajor"],"undefined"==typeof MCO&&(MCO={}),MCO.Line=function(a){var b=include("createjs.Bitmap");this._img=new b(images.line01),a.addChild(this._img)},MCO.Line.prototype._active=!0,Object.defineProperty(MCO.Line.prototype,"active",{get:function(){return this._active},set:function(a){this._img.visible=a,this._active=a}}),MCO.Line.prototype.init=function(a){this.x=a.pos1.x,this.y=a.pos1.y,this.setPoints(a.pos1,a.pos2),this.active=!0},Object.defineProperty(MCO.Line.prototype,"alpha",{get:function(){return this._img.alpha},set:function(a){this._img.alpha=a}}),MCO.Line.prototype.addCircle=function(a,b){var c=app.display.stage,d=new createjs.Shape;d.graphics.beginFill("red").drawCircle(a,b,7),d.alpha=.5,c.addChild(d)},MCO.Line.prototype.setPoints=function(a,b){var c=1,d=Math.dist(a.x,a.y,b.x,b.y);this._img.scaleX=c,this._img.scaleY=d,this._img.regX=this._img.image.width/2,this._img.regY=0,this._img.x=this.x,this._img.y=this.y;var e=Math.atan2(b.y-a.y,b.x-a.x);e*=57.296,this._img.rotation=e-90},"undefined"==typeof MCO&&(MCO={}),MCO.DottedLine=function(a){var b=include("createjs.Container");this._cont=new b;for(var c=null,d=0;30>d;d++)c=this.getPiece(),this._pieceLength||(this._pieceLength=c.image.width,this._pieceHeight=c.image.height),c.x=c.image.width*d,this._cont.addChild(c);a.addChild(this._cont)},MCO.DottedLine.prototype.getPiece=function(){var a=include("createjs.Bitmap");return new a(images.dotLine)},MCO.DottedLine.prototype._active=!0,Object.defineProperty(MCO.DottedLine.prototype,"active",{get:function(){return this._active},set:function(a){this._cont.visible=a,this._active=a}}),Object.defineProperty(MCO.DottedLine.prototype,"alpha",{get:function(){return this._cont.alpha},set:function(a){this._cont.alpha=a}}),MCO.DottedLine.prototype.init=function(a){this.x=a.pos1.x,this.y=a.pos1.y,this.isCorrect=a.isCorrect,this.setPoints(a.pos1,a.pos2),this.active=!0,this.ids=a.ids||[]},MCO.DottedLine.prototype.adjustLength=function(a){for(var b=a/this._pieceLength-1,c=0;c<this._cont.children.length;c++)b>=c?this._cont.children[c].visible=!0:this._cont.children[c].visible=!1},MCO.DottedLine.prototype.setPoints=function(a,b){this.adjustLength(Math.dist(a.x,a.y,b.x,b.y)),this._cont.regX=-this._pieceLength/4,this._cont.regY=this._pieceHeight/2,this._cont.x=this.x,this._cont.y=this.y;var c=Math.atan2(b.y-a.y,b.x-a.x);c*=57.296,this._cont.rotation=c},function(){var a=include("createjs.Container"),b=include("MCO.Line"),c=include("MCO.DottedLine"),d=function(d,e,f){this.lineType=e,this.lineArray=[],this.lineCont=new a,this.lineConstructor=null,e===MCO.Lines.LINE_COMPLETE?this.lineConstructor=b:e===MCO.Lines.LINE_HINT&&(this.lineConstructor=c),d.addChild(this.lineCont)},e=d.prototype;e.clearLines=function(){for(var a=this.lineArray.length-1;a>=0;a--)this.lineArray[a].active=!1},e.getLine=function(){for(var a=0;a<this.lineArray.length;a++)if(!this.lineArray[a].active)return this.lineArray[a];var b=new this.lineConstructor(this.lineCont);return this.lineArray.push(b),b},e.addLine=function(a,b,c){var d=this.getLine(),e={pos1:{x:a.x,y:a.y},pos2:{x:b.x,y:b.y},lineType:this.lineType||"",ids:c};d.init(e)},e.fillOutConst=function(a,b){for(var c=a.connections.length-1;c>=0;c--){var d=b.getStarByID(a.connections[c][0]),e=b.getStarByID(a.connections[c][1]),f=[a.connections[c][0],a.connections[c][1]];this.addLine(d,e,f)}},e.showLines=function(a){for(i=0;i<this.lineArray.length;i++)for(var b=0;b<a.length;b++)this.lineArray[i].ids.indexOf(a[b])>=0&&(this.lineArray[i].alpha=!0)},e.showAllLines=function(){for(i=0;i<this.lineArray.length;i++)this.lineArray[i].visible=!0},e.fadeLines=function(a){for(i=0;i<this.lineArray.length;i++)this.lineArray[i].alpha=Math.max(0,this.lineArray[i].alpha-5e-4*a)},e.allHidden=function(){for(i=0;i<this.lineArray.length;i++)if(this.lineArray[i].alpha>0)return!1;return!0},Object.defineProperty(e,"alpha",{set:function(a){for(i=0;i<this.lineArray.length;i++)this.lineArray[i].alpha=a}}),namespace("MCO").LineManager=d}();var MCO=MCO||{};MCO.NullPayoff=function(a){var b={};return b.load=function(){},b.reset=function(){},b.play=function(){},b.cancleAnimation=function(){},b.destroy=function(a){},b.gotoFinalFrame=function(){},b};var MCO=MCO||{};MCO.CassiopeiaPayoff=function(a,b,c,d){var e,f,g,h,i,j,k=include("createjs.Tween"),l=include("createjs.Ease"),m=include("createjs.Bitmap"),n=include("springroll.DelayedCall"),o={},p=[],q=[],r=[],s=!1,t=null,u=d;return o.load=function(){app.loader.load("assets/images/cassiopeia1.png",function(a){t=f=new m(a.content),r.push(f),app.loader.load("assets/images/cassiopeia2.png",function(a){g=new m(a.content),r.push(g),app.loader.load("assets/images/cassiopeia3.png",function(a){h=new m(a.content),r.push(h),app.loader.load("assets/images/cassiopeia4.png",function(a){e=new m(a.content),r.push(e),setTimeout(o.afterLoad,50)})})})}),o.addSparkle(),app.sound.preload(["3.1_cas_01","3.1_cas_02","3.1_cas_03","3.1_cas_04"]),app.sound.preload(["sfxCassio_01","sfxCassio_02","sfxCassio_03"])},o.afterLoad=function(){s=!0,o.initImages(r),o.reset(),j&&o.play()},o.reset=function(){s&&(o.cancleAnimation(),b.x=b.y=0,f.x=MCO.HALF_GAME_WIDTH+20,f.y=f.originalY=MCO.HALF_GAME_HEIGHT-29,f.rotation=158,f.alpha=0,e.x=MCO.HALF_GAME_WIDTH+20,e.y=e.originalY=MCO.HALF_GAME_HEIGHT-29,e.rotation=158,e.alpha=0,g.x=MCO.HALF_GAME_WIDTH,g.y=MCO.HALF_GAME_HEIGHT,g.alpha=0,h.x=MCO.HALF_GAME_WIDTH,h.y=MCO.HALF_GAME_HEIGHT+50,h.alpha=0)},o.cancleAnimation=function(a){a&&(j=!1),b.x=b.y=0;for(var c=q.length-1;c>=0;c--)q[c].destroy();if(q=[],s)for(var d=r.length-1;d>=0;d--)k.removeTweens(r[d]);p=[]},o.destroy=function(a){o.cancleAnimation(!0);for(var b=r.length-1;b>=0;b--)a.removeChild(r[b]),r[b]=null;o=null,app.sound.unload(["3.1_cas_01","3.1_cas_02","3.1_cas_03","3.1_cas_04"]),app.sound.unload(["sfxCassio_01","sfxCassio_02","sfxCassio_03"])},o.gotoFinalFrame=function(){s&&(o.reset(),f.alpha=1)},o.play=function(a){s?(this.onConstellationComplete(),q.push(new n(function(){p=[],q=[],o.playAnims(),o.playSounds()},a||0))):j=!0},o.onConstellationComplete=function(){s&&(i.instance.gotoAndPlay(0),p.push(k.get(t).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,l.cubicInOut)))},o.playAnims=function(){q.push(new n(function(){p.push(k.get(f).to({y:f.originalY-700},1100*MCO.DEBUG_TIME_SCALE,l.cubicInOut)),p.push(k.get(b).to({y:-700,alpha:.2},1300*MCO.DEBUG_TIME_SCALE,l.cubicInOut)),c.panCam(700,1300)},4e3)),q.push(new n(function(){i.instance.gotoAndPlay(0),p.push(k.get(g).to({alpha:1},2e3*MCO.DEBUG_TIME_SCALE,l.cubicInOut))},4500)),q.push(new n(function(){p.push(k.get(g).to({alpha:0},1e3*MCO.DEBUG_TIME_SCALE,l.cubicInOut))},11100)),q.push(new n(function(){i.instance.gotoAndPlay(0),p.push(k.get(h).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE,l.cubicInOut))},12e3)),q.push(new n(function(){p.push(k.get(h).to({alpha:0},1e3*MCO.DEBUG_TIME_SCALE,l.cubicInOut))},18500)),q.push(new n(function(){f.rotation=0,f.alpha=0,f.y=f.originalY,e.rotation=0,e.y=e.originalY,i.instance.gotoAndPlay(0),p.push(k.get(e).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE,l.cubicInOut))},19e3)),q.push(new n(function(){p.push(k.get(f).to({rotation:158,alpha:1},1300*MCO.DEBUG_TIME_SCALE,l.cubicInOut)),p.push(k.get(e).to({rotation:158,alpha:0},1300*MCO.DEBUG_TIME_SCALE,l.cubicInOut)),p.push(k.get(b).to({y:0,alpha:.75},2e3*MCO.DEBUG_TIME_SCALE,l.cubicInOut)),c.panCam(-700,2e3)},23500)),q.push(new n(function(){u&&u()},3e4))},o.playSounds=function(){q.push(new n(function(){app.voPlayer.play("3.1_cas_01")},1)),q.push(new n(function(){app.sound.play("sfxCassio_01",{volume:.5})},6500)),q.push(new n(function(){app.voPlayer.play("3.1_cas_02")},5500)),q.push(new n(function(){app.voPlayer.play("3.1_cas_03")},12e3)),q.push(new n(function(){app.sound.play("sfxCassio_02",{volume:.5})},12e3)),q.push(new n(function(){app.voPlayer.play("3.1_cas_04")},18400)),q.push(new n(function(){app.sound.play("sfxCassio_03",{volume:.5})},24500))},o.addSparkle=function(){i=new lib.Sparkle,i.x=300,i.y=100,i.instance.loop=!1,i.instance.framerate=12,i.instance.gotoAndStop(0),a.addChild(i)},o.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},o.load(),o},MCO.CygnusPayoff=function(a,b,c,d){var e,f,g,h,i,j,k,l=include("createjs.Tween"),m=include("createjs.Ease"),n=include("createjs.Bitmap"),o=include("springroll.DelayedCall"),p={},q=[],r=[],s=[],t=!1,u=null,v=d;return p.load=function(){app.loader.load("assets/images/Cygnus1.png",function(a){u=f=new n(a.content),s.push(f),app.loader.load("assets/images/Cygnus2.png",function(a){g=new n(a.content),s.push(g),app.loader.load("assets/images/Cygnus3-bears.png",function(a){h=new n(a.content),s.push(h),app.loader.load("assets/images/Cygnus3-horses.png",function(a){i=new n(a.content),s.push(i),app.loader.load("assets/images/Cygnus4-clr.png",function(a){e=new n(a.content),s.push(e),app.loader.load("assets/images/Cygnus3-lions.png",function(a){j=new n(a.content),s.push(j),setTimeout(p.afterLoad,50)})})})})})}),p.addSparkle(),app.sound.preload(["3.1_cyg_01","3.1_cyg_01_alt","3.1_cyg_02_alt","3.1_cyg_03_alt","3.1_cyg_04"]),app.sound.preload(["sfxCyg_01","sfxCyg_02"])},p.afterLoad=function(){t=!0,p.initImages(s),p.reset(),k&&p.play()},p.reset=function(){t&&(p.cancleAnimation(),b.x=b.y=0,f.x=MCO.HALF_GAME_WIDTH,f.y=f.originalY=MCO.HALF_GAME_HEIGHT,f.alpha=0,e.x=MCO.HALF_GAME_WIDTH,e.y=e.originalY=MCO.HALF_GAME_HEIGHT,e.alpha=0,g.x=MCO.HALF_GAME_WIDTH,g.y=MCO.HALF_GAME_HEIGHT,g.alpha=0,h.x=MCO.HALF_GAME_WIDTH,h.y=MCO.HALF_GAME_HEIGHT+50,h.alpha=0,i.x=MCO.HALF_GAME_WIDTH+50,i.y=MCO.HALF_GAME_HEIGHT+30,i.scaleX=i.scaleY=.9,i.alpha=0,j.x=MCO.HALF_GAME_WIDTH,j.y=MCO.HALF_GAME_HEIGHT+10,j.alpha=0)},p.cancleAnimation=function(a){if(a&&(k=!1),t){b.x=b.y=0;for(var c=r.length-1;c>=0;c--)r[c].destroy();for(var d=s.length-1;d>=0;d--)l.removeTweens(s[d]);q=[],r=[]}},p.destroy=function(a){p.cancleAnimation(!0);for(var b=s.length-1;b>=0;b--)a.removeChild(s[b]),s[b]=null;p=null,app.sound.unload(["3.1_cyg_01","3.1_cyg_01_alt","3.1_cyg_02_alt","3.1_cyg_03_alt","3.1_cyg_04"]),app.sound.unload(["sfxCyg_01","sfxCyg_02"])},p.gotoFinalFrame=function(){t&&(p.reset(),f.alpha=1)},p.play=function(a){t?(this.onConstellationComplete(),r.push(new o(function(){q=[],r=[],p.playAnims(),p.playSounds()},a||0))):k=!0},p.onConstellationComplete=function(){t&&(sparkel.instance.gotoAndPlay(0),q.push(l.get(u).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)))},p.playAnims=function(){r.push(new o(function(){q.push(l.get(f).to({y:f.originalY-700,alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),q.push(l.get(b).to({y:-700,alpha:.2},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),c.panCam(700,1300)},16e3)),r.push(new o(function(){sparkel.instance.gotoAndPlay(0),q.push(l.get(g).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},17e3)),r.push(new o(function(){q.push(l.get(g).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},25e3)),r.push(new o(function(){sparkel.instance.gotoAndPlay(0),q.push(l.get(i).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},25500)),r.push(new o(function(){q.push(l.get(i).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},26200)),r.push(new o(function(){sparkel.instance.gotoAndPlay(0),q.push(l.get(h).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},27e3)),r.push(new o(function(){q.push(l.get(h).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},28200)),r.push(new o(function(){sparkel.instance.gotoAndPlay(0),q.push(l.get(j).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},29e3)),r.push(new o(function(){q.push(l.get(j).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},33e3)),r.push(new o(function(){q.push(l.get(e).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},34e3)),r.push(new o(function(){q.push(l.get(e).to({alpha:0},1300*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),f.alpha=0,f.y=f.originalY,q.push(l.get(f).to({alpha:1},1300*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),q.push(l.get(b).to({y:0,alpha:.75},1300*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),c.panCam(-700,1300)},4e4)),r.push(new o(function(){v&&v()},44e3))},p.playSounds=function(){r.push(new o(function(){app.voPlayer.play("3.1_cyg_01")},1)),r.push(new o(function(){app.voPlayer.play("3.1_cyg_01_alt")},8300)),r.push(new o(function(){app.voPlayer.play("3.1_cyg_02_alt")},14300)),r.push(new o(function(){app.voPlayer.play("3.1_cyg_03_alt")},24700)),r.push(new o(function(){app.voPlayer.play("3.1_cyg_04")},33200)),r.push(new o(function(){app.sound.play("sfxCyg_01",{volume:.5})},17e3)),r.push(new o(function(){app.sound.play("sfxCyg_02",{volume:.5})},25600))},p.addSparkle=function(){sparkel=new lib.Sparkle,sparkel.x=300,sparkel.y=100,sparkel.instance.loop=!1,sparkel.instance.framerate=12,sparkel.instance.gotoAndStop(0),a.addChild(sparkel)},p.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},p.load(),p};var MCO=MCO||{};MCO.LeoPayoff=function(a,b,c,d){var e,f,g,h,i=include("createjs.Tween"),j=include("createjs.Ease"),k=include("createjs.Bitmap"),l=include("springroll.DelayedCall"),m={},n=[],o=[],p=[],q=!1,r=null,s=d;return m.load=function(){app.loader.load("assets/images/leo1.png",function(a){r=e=new k(a.content),p.push(e),app.loader.load("assets/images/leo2.png",function(a){f=new k(a.content),p.push(f),app.loader.load("assets/images/leo3.png",function(a){g=new k(a.content),p.push(g),setTimeout(m.afterLoad,50)})})}),m.addSparkle(),app.sound.preload(["3.1_leo_01","3.1_leo_02","3.1_leo_03","3.1_leo_04"]),app.sound.preload(["sfxLeo_herc","sfxLeo_lion","sfxLeo_kitty","sfxLeo_cheers","sfxLeo_end"])},m.afterLoad=function(){q=!0,m.initImages(p),m.reset(),h&&m.play()},m.reset=function(){q&&(m.cancleAnimation(),b.x=b.y=0,e.x=MCO.HALF_GAME_WIDTH-47,e.y=e.originalY=MCO.HALF_GAME_HEIGHT+9,e.alpha=0,f.x=MCO.HALF_GAME_WIDTH,f.y=MCO.HALF_GAME_HEIGHT,f.scaleX=f.scaleY=.8,f.alpha=0,g.x=MCO.HALF_GAME_WIDTH,g.y=MCO.HALF_GAME_HEIGHT+20,g.scaleX=g.scaleY=.8,g.alpha=0)},m.cancleAnimation=function(a){if(a&&(h=!1),q){b.x=b.y=0;for(var c=o.length-1;c>=0;c--)o[c].destroy();for(var d=p.length-1;d>=0;d--)i.removeTweens(p[d]);n=[],o=[]}},m.destroy=function(a){m.cancleAnimation(!0);for(var b=p.length-1;b>=0;b--)a.removeChild(p[b]),p[b]=null;m=null,app.sound.unload(["3.1_leo_01","3.1_leo_02","3.1_leo_03","3.1_leo_04"]),app.sound.unload(["sfxLeo_herc","sfxLeo_lion","sfxLeo_kitty","sfxLeo_cheers","sfxLeo_end"])},m.gotoFinalFrame=function(){q&&(m.reset(),e.alpha=1)},m.play=function(a){q?(this.onConstellationComplete(),o.push(new l(function(){n=[],o=[],m.playAnims(),m.playSounds()},a||0))):h=!0},m.onConstellationComplete=function(){q&&(sparkel.instance.gotoAndPlay(0),n.push(i.get(r).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut)))},m.playAnims=function(){o.push(new l(function(){n.push(i.get(e).to({y:e.originalY-750},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut)),n.push(i.get(b).to({y:-750,alpha:.2},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut)),c.panCam(750,1300)},8500)),o.push(new l(function(){sparkel.instance.gotoAndPlay(0),n.push(i.get(f).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},1e4)),o.push(new l(function(){n.push(i.get(f).to({alpha:0},1e3*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},16e3)),o.push(new l(function(){sparkel.instance.gotoAndPlay(0),n.push(i.get(g).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},16500)),o.push(new l(function(){n.push(i.get(g).to({alpha:0},1e3*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},24e3)),o.push(new l(function(){n.push(i.get(e).to({y:e.originalY},1300*MCO.DEBUG_TIME_SCALE,j.cubicInOut)),n.push(i.get(b).to({y:0,alpha:.75},1300*MCO.DEBUG_TIME_SCALE,j.cubicInOut)),c.panCam(-750,1300)},24500)),o.push(new l(function(){s&&s()},37e3))},m.playSounds=function(){o.push(new l(function(){app.voPlayer.play("3.1_leo_01")},1)),o.push(new l(function(){app.voPlayer.play("3.1_leo_02")},7700)),o.push(new l(function(){app.voPlayer.play("3.1_leo_03")},15500)),o.push(new l(function(){app.voPlayer.play("3.1_leo_04")},25e3)),o.push(new l(function(){app.sound.play("sfxLeo_lion",{volume:.4})},12e3)),o.push(new l(function(){app.sound.play("sfxLeo_herc",{volume:.5})},16500)),o.push(new l(function(){app.sound.play("sfxLeo_kitty",{volume:.5})},19500)),o.push(new l(function(){app.sound.play("sfxLeo_cheers",{volume:.5})},22200)),o.push(new l(function(){app.sound.play("sfxLeo_end",{volume:.5})},2500))},m.addSparkle=function(){sparkel=new lib.Sparkle,sparkel.x=300,sparkel.y=100,sparkel.instance.loop=!1,sparkel.instance.framerate=12,sparkel.instance.gotoAndStop(0),a.addChild(sparkel)},m.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},m.load(),m},MCO.OrionPayoff=function(a,b,c,d){var e,f,g,h,i,j,k,l=include("createjs.Tween"),m=include("createjs.Ease"),n=include("createjs.Bitmap"),o=include("springroll.DelayedCall"),p={},q=[],r=[],s=[],t=!1,u=null,v=d;return p.load=function(){app.loader.load("assets/images/orion1.png",function(a){u=e=new n(a.content),s.push(e),app.loader.load("assets/images/orion2a.png",function(a){f=new n(a.content),s.push(f),app.loader.load("assets/images/orion2b.png",function(a){g=new n(a.content),s.push(g),app.loader.load("assets/images/orion2c.png",function(a){h=new n(a.content),s.push(h),app.loader.load("assets/images/orion2d.png",function(a){i=new n(a.content),s.push(i),app.loader.load("assets/images/orion3.png",function(a){j=new n(a.content),s.push(j),setTimeout(p.afterLoad,50)})})})})})}),p.addSparkle(),app.sound.preload(["3.1_ori_01","3.1_ori_02","3.1_ori_03","3.1_ori_04"]),app.sound.preload(["sfxOri","sfxOri_battle","sfxOri_inSky","sfxOri_scorp"])},p.afterLoad=function(){t=!0,p.initImages(s),p.reset(),k&&p.play()},p.reset=function(){t&&(p.cancleAnimation(),b.x=b.y=0,e.x=MCO.HALF_GAME_WIDTH-50,e.y=e.originalY=MCO.HALF_GAME_HEIGHT+10,e.scaleX=e.scaleY=1.2,e.alpha=0,f.x=MCO.HALF_GAME_WIDTH,f.y=MCO.HALF_GAME_HEIGHT+120,f.alpha=0,g.x=MCO.HALF_GAME_WIDTH-350,g.y=MCO.HALF_GAME_HEIGHT-120,g.alpha=0,h.x=MCO.HALF_GAME_WIDTH-100,h.y=MCO.HALF_GAME_HEIGHT-240,h.scaleX=h.scaleY=.9,h.alpha=0,i.x=MCO.HALF_GAME_WIDTH+250,i.y=MCO.HALF_GAME_HEIGHT-140,i.alpha=0,j.x=MCO.HALF_GAME_WIDTH,j.y=MCO.HALF_GAME_HEIGHT,j.scaleX=j.scaleY=.95,j.alpha=0)},p.cancleAnimation=function(a){if(a&&(k=!1),t){b.x=b.y=0;for(var c=r.length-1;c>=0;c--)r[c].destroy();for(var d=s.length-1;d>=0;d--)l.removeTweens(s[d]);q=[],r=[]}},p.destroy=function(a){p.cancleAnimation(!0);for(var b=s.length-1;b>=0;b--)a.removeChild(s[b]),s[b]=null;p=null,app.sound.unload(["3.1_ori_01","3.1_ori_02","3.1_ori_03","3.1_ori_04"]),app.sound.unload(["sfxOri","sfxOri_battle","sfxOri_inSky","sfxOri_scorp"])},p.gotoFinalFrame=function(){t&&(p.reset(),e.alpha=1)},p.play=function(a){t?(this.onConstellationComplete(),r.push(new o(function(){q=[],r=[],p.playAnims(),p.playSounds()},a||0))):k=!0},p.onConstellationComplete=function(){t&&(sparkel.instance.gotoAndPlay(0),q.push(l.get(u).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)))},p.playAnims=function(){r.push(new o(function(){q.push(l.get(e).to({y:e.originalY-700,alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),q.push(l.get(b).to({y:-700,alpha:.2},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),c.panCam(700,1300)},6e3)),r.push(new o(function(){sparkel.instance.gotoAndPlay(0),q.push(l.get(f).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},7e3)),r.push(new o(function(){q.push(l.get(g).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},12e3)),r.push(new o(function(){q.push(l.get(h).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},12500)),r.push(new o(function(){q.push(l.get(i).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},13e3)),r.push(new o(function(){q.push(l.get(f).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),q.push(l.get(g).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),q.push(l.get(h).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),q.push(l.get(i).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},19e3)),r.push(new o(function(){sparkel.instance.gotoAndPlay(0),q.push(l.get(j).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},2e4)),r.push(new o(function(){q.push(l.get(j).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,m.cubicInOut))},34e3)),r.push(new o(function(){q.push(l.get(e).to({y:e.originalY,alpha:1},1300*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),q.push(l.get(b).to({y:0,alpha:.75},1300*MCO.DEBUG_TIME_SCALE,m.cubicInOut)),c.panCam(-700,1300)},35e3)),r.push(new o(function(){v&&v()},36e3))},p.playSounds=function(){r.push(new o(function(){app.voPlayer.play("3.1_ori_01")},1)),r.push(new o(function(){app.voPlayer.play("3.1_ori_02")},5100)),r.push(new o(function(){app.voPlayer.play("3.1_ori_03")},15500)),r.push(new o(function(){app.voPlayer.play("3.1_ori_04",{volume:.5})},25500)),r.push(new o(function(){app.sound.play("sfxOri",{volume:.5})},12300)),r.push(new o(function(){app.sound.play("sfxOri_scorp",{volume:.5})},21e3)),r.push(new o(function(){app.sound.play("sfxOri_battle",{volume:.3})},27e3)),r.push(new o(function(){app.sound.play("sfxOri_inSky",{volume:.3})},32e3))},p.addSparkle=function(){sparkel=new lib.Sparkle,sparkel.x=300,sparkel.y=100,sparkel.instance.loop=!1,sparkel.instance.framerate=12,sparkel.instance.gotoAndStop(0),a.addChild(sparkel)},p.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},p.load(),p};var MCO=MCO||{};MCO.ScorpiusPayoff=function(a,b,c,d){var e,f,g,h,i=include("createjs.Tween"),j=include("createjs.Ease"),k=include("createjs.Bitmap"),l=include("springroll.DelayedCall"),m={},n=[],o=[],p=[],q=!1,r=null,s=d;return m.load=function(){app.loader.load("assets/images/scorpius1.png",function(a){r=e=new k(a.content),p.push(e),app.loader.load("assets/images/scorpius2.png",function(a){f=new k(a.content),p.push(f),app.loader.load("assets/images/scorpius3.png",function(a){g=new k(a.content),p.push(g),setTimeout(m.afterLoad,50)})})}),m.addSparkle(),app.sound.preload(["3.1_sco_01","3.1_sco_02","3.1_sco_03","3.1_sco_04"]),app.sound.preload(["sfxSco_enter","sfxSco_battle","sfxSco_end"])},m.afterLoad=function(){q=!0,m.initImages(p),m.reset(),h&&m.play()},m.reset=function(){q&&(m.cancleAnimation(),b.x=b.y=0,e.x=MCO.HALF_GAME_WIDTH,e.y=e.originalY=MCO.HALF_GAME_HEIGHT-20,e.rotation=20,e.alpha=0,f.x=MCO.HALF_GAME_WIDTH,f.y=MCO.HALF_GAME_HEIGHT,f.scaleX=f.scaleY=.95,f.alpha=0,g.x=MCO.HALF_GAME_WIDTH,g.y=MCO.HALF_GAME_HEIGHT,g.alpha=0)},m.cancleAnimation=function(a){if(a&&(h=!1),q){b.x=b.y=0;for(var c=o.length-1;c>=0;c--)o[c].destroy();for(var d=p.length-1;d>=0;d--)i.removeTweens(p[d]);n=[],o=[]}},m.destroy=function(a){m.cancleAnimation(!0);for(var b=p.length-1;b>=0;b--)a.removeChild(p[b]),p[b]=null;m=null,app.sound.unload(["3.1_sco_01","3.1_sco_01","3.1_sco_01","3.1_sco_04"]),app.sound.unload(["sfxSco_enter","sfxSco_battle","sfxSco_end"])},m.gotoFinalFrame=function(){q&&(m.reset(),e.alpha=1)},m.play=function(a){q?(this.onConstellationComplete(),o.push(new l(function(){n=[],o=[],m.playAnims(),m.playSounds()},a||0))):h=!0},m.onConstellationComplete=function(){q&&(sparkel.instance.gotoAndPlay(0),n.push(i.get(r).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut)))},m.playAnims=function(){o.push(new l(function(){n.push(i.get(e).to({y:e.originalY-700},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut)),n.push(i.get(b).to({y:-700,alpha:.2},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut)),c.panCam(700,1300)},9e3)),o.push(new l(function(){sparkel.instance.gotoAndPlay(0),n.push(i.get(f).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},1e4)),o.push(new l(function(){n.push(i.get(f).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},16e3)),o.push(new l(function(){sparkel.instance.gotoAndPlay(0),n.push(i.get(g).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},17e3)),o.push(new l(function(){n.push(i.get(g).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},29e3)),o.push(new l(function(){sparkel.instance.gotoAndPlay(0),n.push(i.get(f).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},3e4)),o.push(new l(function(){n.push(i.get(f).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,j.cubicInOut))},35e3)),o.push(new l(function(){n.push(i.get(e).to({y:e.originalY},1300*MCO.DEBUG_TIME_SCALE,j.cubicInOut)),n.push(i.get(b).to({y:0,alpha:.75},1300*MCO.DEBUG_TIME_SCALE,j.cubicInOut)),c.panCam(-700,1300)},36e3)),o.push(new l(function(){s&&s()},46e3))},m.playSounds=function(){o.push(new l(function(){app.voPlayer.play("3.1_sco_01")},1)),o.push(new l(function(){app.voPlayer.play("3.1_sco_02")},8e3)),o.push(new l(function(){
app.voPlayer.play("3.1_sco_03")},24500)),o.push(new l(function(){app.voPlayer.play("3.1_sco_04")},35500)),o.push(new l(function(){app.sound.play("sfxSco_enter",{volume:.5})},6500)),o.push(new l(function(){app.sound.play("sfxSco_battle",{volume:.5})},32e3)),o.push(new l(function(){app.sound.play("sfxSco_end",{volume:.5})},36e3))},m.addSparkle=function(){sparkel=new lib.Sparkle,sparkel.x=300,sparkel.y=100,sparkel.instance.loop=!1,sparkel.instance.framerate=12,sparkel.instance.gotoAndStop(0),a.addChild(sparkel)},m.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},m.load(),m};var MCO=MCO||{};MCO.TaurusPayoff=function(a,b,c,d){var e,f,g,h,i,j=include("createjs.Tween"),k=include("createjs.Ease"),l=include("createjs.Bitmap"),m=include("springroll.DelayedCall"),n={},o=[],p=[],q=[],r=!1,s=null,t=d;return n.load=function(){app.loader.load("assets/images/taurus1.png",function(a){s=e=new l(a.content),q.push(e),app.loader.load("assets/images/taurus2A.png",function(a){f=new l(a.content),q.push(f),app.loader.load("assets/images/taurus2B.png",function(a){g=new l(a.content),q.push(g),app.loader.load("assets/images/taurus4.png",function(a){h=new l(a.content),q.push(h),setTimeout(n.afterLoad,50)})})})}),n.addSparkle(),app.sound.preload(["3.1_tau_01","3.1_tau_02","3.1_tau_03"]),app.sound.preload(["sfxTau_flowers","sfxTau_friends","sfxTau_moo","sfxTau_sad","sfxTau_stomp"])},n.afterLoad=function(){r=!0,n.initImages(q),n.reset(),i&&n.play()},n.reset=function(){r&&(n.cancleAnimation(),b.x=b.y=0,e.x=MCO.HALF_GAME_WIDTH+65,e.y=e.originalY=MCO.HALF_GAME_HEIGHT+45,e.scaleY=.9,e.alpha=0,f.x=MCO.HALF_GAME_WIDTH,f.y=MCO.HALF_GAME_HEIGHT,f.alpha=0,g.x=MCO.HALF_GAME_WIDTH,g.y=MCO.HALF_GAME_HEIGHT,g.alpha=0,h.x=MCO.HALF_GAME_WIDTH,h.y=MCO.HALF_GAME_HEIGHT,h.alpha=0)},n.cancleAnimation=function(a){a&&(i=!1),b.x=b.y=0;for(var c=p.length-1;c>=0;c--)p[c].destroy();if(p=[],r)for(var d=q.length-1;d>=0;d--)j.removeTweens(q[d]);o=[]},n.destroy=function(a){n.cancleAnimation(!0);for(var b=q.length-1;b>=0;b--)a.removeChild(q[b]),q[b]=null;n=null,app.sound.unload(["3.1_tau_01","3.1_tau_02","3.1_tau_03"]),app.sound.unload(["sfxTau_flowers","sfxTau_friends","sfxTau_moo","sfxTau_sad","sfxTau_stomp"])},n.gotoFinalFrame=function(){r&&(n.reset(),e.alpha=1)},n.play=function(a){r?(this.onConstellationComplete(),p.push(new m(function(){o=[],p=[],n.playAnims(),n.playSounds()},a||0))):i=!0},n.onConstellationComplete=function(){r&&(sparkel.instance.gotoAndPlay(0),o.push(j.get(s).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)))},n.playAnims=function(){p.push(new m(function(){o.push(j.get(e).to({y:e.originalY-700,alpha:0},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(b).to({y:-700,alpha:.2},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),c.panCam(700,1300)},7500)),p.push(new m(function(){o.push(j.get(f).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),sparkel.instance.gotoAndPlay(0)},8e3)),p.push(new m(function(){o.push(j.get(f).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},15e3)),p.push(new m(function(){sparkel.instance.gotoAndPlay(0),o.push(j.get(g).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},16e3)),p.push(new m(function(){o.push(j.get(g).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},20500)),p.push(new m(function(){sparkel.instance.gotoAndPlay(0),o.push(j.get(h).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},21e3)),p.push(new m(function(){o.push(j.get(h).to({alpha:0},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},29e3)),p.push(new m(function(){o.push(j.get(e).to({y:e.originalY,alpha:1},1300*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(b).to({y:0,alpha:.75},1300*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),c.panCam(-700,1300)},3e4)),p.push(new m(function(){t&&t()},33e3))},n.playSounds=function(){p.push(new m(function(){app.voPlayer.play("3.1_tau_01")},1)),p.push(new m(function(){app.voPlayer.play("3.1_tau_02")},7700)),p.push(new m(function(){app.voPlayer.play("3.1_tau_03")},20500)),p.push(new m(function(){app.sound.play("sfxTau_moo",{volume:.4})},6500)),p.push(new m(function(){app.sound.play("sfxTau_stomp",{volume:.5})},8e3)),p.push(new m(function(){app.sound.play("sfxTau_sad",{volume:.5})},15e3)),p.push(new m(function(){app.sound.play("sfxTau_friends",{volume:.5})},17e3)),p.push(new m(function(){app.sound.play("sfxTau_flowers",{volume:.5})},23e3))},n.addSparkle=function(){sparkel=new lib.Sparkle,sparkel.x=300,sparkel.y=100,sparkel.instance.loop=!1,sparkel.instance.framerate=12,sparkel.instance.gotoAndStop(0),a.addChild(sparkel)},n.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},n.load(),n};var MCO=MCO||{};MCO.UrsaMajorPayoff=function(a,b,c,d){var e,f,g,h,i,j=include("createjs.Tween"),k=include("createjs.Ease"),l=include("createjs.Bitmap"),m=include("springroll.DelayedCall"),n={},o=[],p=[],q=!1,r=d,s=null;return n.load=function(){app.loader.load("assets/images/ursamaj1.png",function(a){s=f=new l(a.content),app.loader.load("assets/images/ursamaj2.png",function(a){g=new l(a.content),app.loader.load("assets/images/ursamaj3-bear.png",function(a){i=new l(a.content),app.loader.load("assets/images/ursaminor2-arcas.png",function(a){h=new l(a.content),setTimeout(n.afterLoad,50)})})})}),n.addSparkle(),app.sound.preload(["3.1_uma_01","3.1_uma_02","3.1_uma_03","3.1_uma_04"]),app.sound.preload(["sfxUMaj_callisto","sfxUMaj_enter","sfxUMaj_saved","sfxUMaj_hunter","sfxUMaj_end"])},n.afterLoad=function(){q=!0,n.initImages([f,g,h,i]),n.reset(),e&&n.play()},n.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},n.reset=function(){q&&(n.cancleAnimation(),b.x=b.y=0,f.originalX=f.x=MCO.HALF_GAME_WIDTH-20,f.originalY=f.y=MCO.HALF_GAME_HEIGHT+18,f.alpha=0,g.x=MCO.HALF_GAME_WIDTH+50,g.y=1150,g.scaleX=g.scaleY=1,g.alpha=0,i.x=MCO.HALF_GAME_WIDTH+180,i.y=MCO.HALF_GAME_HEIGHT+50,i.scaleX=i.scaleY=.9,i.alpha=0,h.x=MCO.HALF_GAME_WIDTH-350,h.y=320,h.scaleX=h.scaleY=1,h.alpha=0)},n.cancleAnimation=function(a){if(a&&(e=!1),q){b.x=b.y=0;for(var c=p.length-1;c>=0;c--)p[c].destroy();j.removeTweens(f),j.removeTweens(i),j.removeTweens(g),j.removeTweens(h),o=[],p=[]}},n.destroy=function(a){n.cancleAnimation(!0),a.removeChild(f),a.removeChild(i),a.removeChild(g),a.removeChild(h),n=f=i=g=h=null,app.sound.unload(["3.1_uma_01","3.1_uma_02","3.1_uma_03","3.1_uma_04"]),app.sound.unload(["sfxUMaj_callisto","sfxUMaj_enter","sfxUMaj_saved","sfxUMaj_hunter","sfxUMaj_end"])},n.gotoFinalFrame=function(){q&&(n.reset(),f.alpha=1)},n.play=function(a){q?(this.onConstellationComplete(),p.push(new m(function(){o=[],p=[],n.playAnims(),n.playSounds()},a||0))):e=!0},n.onConstellationComplete=function(){q&&(sparkel.instance.gotoAndPlay(0),o.push(j.get(s).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)))},n.playAnims=function(){p.push(new m(function(){o.push(j.get(f).to({y:f.originalY-700},1300*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(b).to({y:-700,alpha:.2},1300*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),c.panCam(700,1300)},6e3*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){g.alpha=1,sparkel.instance.gotoAndPlay(0),o.push(j.get(g).to({y:g.y-750},1300*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},7500*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){o.push(j.get(g).to({alpha:0},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(i).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},1e4*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){sparkel.instance.gotoAndPlay(0),o.push(j.get(h).to({alpha:1,scaleX:1.08,scaleY:1.08,x:h.x+20,y:h.y-20},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},13500*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){o.push(j.get(i).to({alpha:0},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},2e4*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){o.push(j.get(f).to({y:f.originalY},1500*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(b).to({y:0,alpha:.75},1500*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(h).to({y:h.y+700,alpha:0},1500*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),c.panCam(-700,1500)},22e3*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){r&&r()},3e4))},n.playSounds=function(){p.push(new m(function(){app.voPlayer.play("3.1_uma_01")},1)),p.push(new m(function(){app.voPlayer.play("3.1_uma_02")},4700)),p.push(new m(function(){app.voPlayer.play("3.1_uma_03")},14e3)),p.push(new m(function(){app.voPlayer.play("3.1_uma_04")},24e3)),p.push(new m(function(){app.sound.play("sfxUMaj_enter",{volume:.4})},3500)),p.push(new m(function(){app.sound.play("sfxUMaj_callisto",{volume:.5})},7500)),p.push(new m(function(){app.sound.play("sfxUMaj_hunter",{volume:.4})},15e3)),p.push(new m(function(){app.sound.play("sfxUMaj_saved",{volume:.5})},21e3)),p.push(new m(function(){app.sound.play("sfxUMaj_end",{volume:.5})},26e3))},n.addSparkle=function(){sparkel=new lib.Sparkle,sparkel.x=300,sparkel.y=100,sparkel.instance.loop=!1,sparkel.instance.framerate=12,sparkel.instance.gotoAndStop(0),a.addChild(sparkel)},n.load(),n};var MCO=MCO||{};MCO.UrsaMinorPayoff=function(a,b,c,d){var e,f,g,h,i,j=include("createjs.Tween"),k=include("createjs.Ease"),l=include("createjs.Bitmap"),m=include("springroll.DelayedCall"),n={},o=[],p=[],q=[],r=!1,s=null,t=d;return n.load=function(){app.loader.load("assets/images/ursaminor1.png",function(a){s=e=new l(a.content),q.push(e),app.loader.load("assets/images/ursaminor2-arcas.png",function(a){f=new l(a.content),q.push(f),app.loader.load("assets/images/ursaminor2-bear.png",function(a){g=new l(a.content),q.push(g),app.loader.load("assets/images/ursaminor3.png",function(a){h=new l(a.content),q.push(h),setTimeout(n.afterLoad,50)})})})}),n.addSparkle(),app.sound.preload(["3.1_umi_01","3.1_umi_02","3.1_umi_03","3.1_umi_04"]),app.sound.preload(["sfxUMin_Hunter","sfxUMin_joins","sfxUMin_mother","sfxUMin_Shoot"])},n.afterLoad=function(){r=!0,n.initImages(q),n.reset(),i&&n.play()},n.reset=function(){r&&(n.cancleAnimation(),b.x=b.y=0,e.x=MCO.HALF_GAME_WIDTH-42,e.y=e.originalY=MCO.HALF_GAME_HEIGHT+5,e.alpha=0,f.x=MCO.HALF_GAME_WIDTH,f.y=MCO.HALF_GAME_HEIGHT,f.scaleX=f.scaleY=1.2,f.alpha=0,g.x=MCO.HALF_GAME_WIDTH+400,g.y=MCO.HALF_GAME_HEIGHT+200,g.scaleX=g.scaleY=1,g.alpha=0,h.x=MCO.HALF_GAME_WIDTH,h.y=MCO.HALF_GAME_HEIGHT,h.alpha=0)},n.cancleAnimation=function(a){if(a&&(i=!1),r){b.x=b.y=0;for(var c=p.length-1;c>=0;c--)p[c].destroy();for(var d=q.length-1;d>=0;d--)j.removeTweens(q[d]);o=[],p=[]}},n.destroy=function(a){n.cancleAnimation(!0);for(var b=q.length-1;b>=0;b--)a.removeChild(q[b]),q[b]=null;n=null,app.sound.unload(["3.1_umi_01","3.1_umi_02","3.1_umi_03","3.1_umi_04"]),app.sound.unload(["sfxUMin_Hunter","sfxUMin_joins","sfxUMin_mother","sfxUMin_Shoot"])},n.gotoFinalFrame=function(){r&&(n.reset(),e.alpha=1)},n.play=function(a){r?(this.onConstellationComplete(),p.push(new m(function(){o=[],p=[],n.playAnims(),n.playSounds()},a||0))):i=!0},n.onConstellationComplete=function(){r&&(sparkel.instance.gotoAndPlay(0),o.push(j.get(s).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)))},n.playAnims=function(){p.push(new m(function(){o.push(j.get(e).to({y:e.originalY-700},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(b).to({y:-700,alpha:.2},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),c.panCam(700,1300)},5e3)),p.push(new m(function(){sparkel.instance.gotoAndPlay(0),o.push(j.get(f).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},6500)),p.push(new m(function(){var a=f.x,b=f.y;o.push(j.get(f).to({x:a-280,y:b-140,scaleX:.9,scaleY:.9},5e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},7500)),p.push(new m(function(){var a=g.x,b=g.y;o.push(j.get(g).to({x:a-210,y:b-120,alpha:1,scaleX:.9,scaleY:.9},3e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},1e4)),p.push(new m(function(){var a=f.x,b=f.y;o.push(j.get(f).to({x:a+20,y:b+20,scaleX:1,scaleY:1},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},19e3)),p.push(new m(function(){o.push(j.get(g).to({alpha:0},2e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(f).to({alpha:0},2e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},23500)),p.push(new m(function(){sparkel.instance.gotoAndPlay(0),o.push(j.get(h).to({alpha:1},2e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},24500)),p.push(new m(function(){c.panCam(-700,2e3),o.push(j.get(h).to({alpha:0},1750*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),e.alpha=0,o.push(j.get(e).to({alpha:1,y:e.originalY},2e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(b).to({y:0,alpha:.75},2e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},33e3)),p.push(new m(function(){t&&t()},44e3))},n.playSounds=function(){p.push(new m(function(){app.voPlayer.play("3.1_umi_01")},1)),p.push(new m(function(){app.voPlayer.play("3.1_umi_02")},6900)),p.push(new m(function(){app.voPlayer.play("3.1_umi_03")},19100)),p.push(new m(function(){app.voPlayer.play("3.1_umi_04")},30500)),p.push(new m(function(){app.sound.play("sfxUMin_Hunter",{volume:.65})},8700)),p.push(new m(function(){app.sound.play("sfxUMin_mother",{volume:.4})},12900)),p.push(new m(function(){app.sound.play("sfxUMin_Shoot",{volume:.4})},22e3)),p.push(new m(function(){app.sound.play("sfxUMin_joins",{volume:.5})},3e4))},n.addSparkle=function(){sparkel=new lib.Sparkle,sparkel.x=300,sparkel.y=100,sparkel.instance.loop=!1,sparkel.instance.framerate=12,sparkel.instance.gotoAndStop(0),a.addChild(sparkel)},n.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},n.load(),n},function(){var a=function(a){function b(a){var b=a+"Payoff";return b[0]=b[0].toUpperCase(),MCO[b]?MCO[b]:void 0}this.name=a.name,this.stars=a.stars,this.connections=a.connections,this.payoff=b(this.name),this.pendingConnections=[],this.completedConnections=[],this.tryConnect=function(a,b,c,d){if(a&&b){var e=this.getPendingID(a.id,b.id);if(-1!==e)return this.completedConnections.push([a.id,b.id]),this.pendingConnections.splice(e,1),void c(a,b)}d(a)},this.getPendingID=function(a,b){for(var c=0;c<this.pendingConnections.length;c++){if(this.pendingConnections[c][0]===a&&this.pendingConnections[c][1]===b)return c;if(this.pendingConnections[c][0]===b&&this.pendingConnections[c][1]===a)return c}return-1},this.isStarComplete=function(a){for(var b=this.pendingConnections.length-1;b>=0;b--)if(this.pendingConnections[b][0]===a.id||this.pendingConnections[b][1]===a.id)return!1;return!0},this.isComplete=function(){return this.completedConnections.length>0&&0===this.pendingConnections.length?!0:!1},this.resetProgress=function(){this.completedConnections=[],this.pendingConnections=[];for(var a=this.connections.length-1;a>=0;a--)this.pendingConnections.push([this.connections[a][0],this.connections[a][1]])},this.resetProgress()};namespace("MCO").Constellation=a}(),function(){var a=function(a){var b=include("createjs.Container"),c=include("MCO.StarState"),d=include("createjs.Tween"),e=include("springroll.DelayedCall"),f={},g=new b,h=[];this.lastStar=null,a.addChild(g);var i=function(a,b){var c=j(),d=MCO.mathUtils.rndIntRange(1,9);c.init(b,a.x,a.y,d),c.setState("greyOut")};f.getCont=function(){return g};var j=function(){for(var a=0;a<h.length;a++)if(!h[a].getActive())return h[a];var b=MCO.utils.extend(new lib.LayeredStar,new c);return b.setFramerate(20),h.push(b),g.addChild(b),b};return f.setConstStarPositions=function(a){for(var b=0;b<a.stars.length;b++)i(a.stars[b],b)},f.flyIn=function(a,b){g.x=Math.cos(a.angle)*a.distance,g.y=Math.sin(a.angle)*a.distance,d.get(g).to({x:0,y:0},a.time*MCO.DEBUG_TIME_SCALE,createjs.Ease.getBackInOut(.5)).call(b)},f.flyOut=function(a,b){var c=-Math.cos(a.angle)*a.distance,e=-Math.sin(a.angle)*a.distance;d.get(g).to({x:c,y:e},a.time*MCO.DEBUG_TIME_SCALE,createjs.Ease.getBackInOut(.5)).call(b)},f.clearStars=function(){for(var a=0;a<h.length;a++)h[a].setActive(!1)},Object.defineProperty(f,"alpha",{set:function(a){g.alpha=a},get:function(a){return g.alpha}}),f.setState=function(a,b){a.setState(b)},f.setStateAll=function(a){for(var b=h.length-1;b>=0;b--)h[b].getActive()&&this.setState(h[b],a)},f.resetStars=function(){this.clearLastStar(),g.alpha=1;for(var a=0;a<h.length;a++)h[a].getActive()?h[a].setState("idle"):h[a].setState("greyOut")},f.clearLastStar=function(a){this.lastStar&&this.lastStar.setState("idle"),this.lastStar=null},f.tryActivate=function(a){this.lastStar&&this.lastStar.setState("idle"),this.lastStar=a,a.setState("active")},f.getStarAtPoint=function(a){for(var b=45,c=0;c<h.length;c++)if(Math.dist(a.x,a.y,h[c].x,h[c].y)<b)return h[c];return null},f.flashIdleStars=function(){for(var a=0;a<h.length;a++){"idle"===h[a].state&&f.delayedFlash(h[a],150*Math.random())}},f.delayedFlash=function(a,b){new e(function(){a.flash()},b)},f.flashPossibleNext=function(a){if(this.lastStar)for(var b,c=a.pendingConnections.length-1;c>=0;c--)a.pendingConnections[c][0]===this.lastStar.id&&(b=this.getStarByID(a.pendingConnections[c][1]),b.flash()),a.pendingConnections[c][1]===this.lastStar.id&&(b=this.getStarByID(a.pendingConnections[c][0]),b.flash())},f.getStarByID=function(a){return h[a]},f};namespace("MCO").StarManager=a}(),"undefined"==typeof MCO&&(MCO={}),MCO.StarState=function(){var a={init:function(a,b,c,d){this.id=a,this.x=b,this.y=c,this.soundID=d,this.active=!0,this.visible=this.active,this.anim=null},setActive:function(a){this.active=this.visible=a},getActive:function(){return this.active},flash:function(){this.playAnim("active",1.5)},setFramerate:function(a){this.framerate=a,this.instance.framerate=a,this.instance_1.framerate=a},onAfterCA:function(){"idle"===this.state&&this.playAnim(this.state)},setState:function(a){a!==this.state&&(this.state=a,this.playAnim(this.state))},playAnim:function(a,b){this.anim!==a&&(this.anim=a,"idle"===this.anim?(this.gotoAndStop("default"),this.scaleX=this.scaleY=b||1.2,this.alpha=1):"active"===this.anim?(this.gotoAndStop("CA"),this.instance_1.gotoAndPlay(0),this.scaleX=this.scaleY=b||1.2,this.alpha=1):"greyOut"===this.anim&&(this.gotoAndStop("inactive"),this.scaleX=this.scaleY=b||.9))}};return a},"undefined"==typeof MCO&&(MCO={}),MCO.NavigationButton=function(a,b,c){function d(a,b,c){l=g.get(a).wait(c||0).to({scaleX:i,scaleY:i},150*MCO.DEBUG_TIME_SCALE)}var e=include("springroll.Button"),f=include("springroll.DelayedCall"),g=include("createjs.Tween"),h=include("createjs.Ease");b=b||{};var i=b.scale||.8,j=b.name+"_btn";MCO.completedConstellations[b.name]&&(j+="_done");var k=new e(images[j]);k.name=b.name,k.on("click",c),k.regX=k.regY=75,k.jiggeling=!1,k.delayedCalls=[],k.scaleX=k.scaleY=0;var l=null;return k.x=b.x||0,k.y=b.y||0,a.addChild(k),d(k,l,b.delay),k.removeButton=function(b,d){k.enabled=!1,k.off("click",c),k._listeners=[],l=g.get(this).wait(d||0).to({scaleX:0,scaleY:0},150*MCO.DEBUG_TIME_SCALE);for(var e=k.delayedCalls.length-1;e>=0;e--)k.delayedCalls[e].destroy();k.delayedCalls=[],new f(function(){g.removeTweens(k),a.removeChild(k)},d+175)},k.jiggle=function(){if(!k.jiggeling){var a=0,b=75;k.jiggeling=!0,k.delayedCalls=[],g.get(k).to({rotation:20},b*MCO.DEBUG_TIME_SCALE,h.cubicInOut),a+=b,k.delayedCalls.push(new f(function(){g.get(k).to({rotation:-15},b*MCO.DEBUG_TIME_SCALE,h.cubicInOut)},a)),a+=b,k.delayedCalls.push(new f(function(){g.get(k).to({rotation:10},b*MCO.DEBUG_TIME_SCALE,h.cubicInOut)},a)),a+=b,k.delayedCalls.push(new f(function(){g.get(k).to({rotation:-5},b*MCO.DEBUG_TIME_SCALE,h.cubicInOut)},a)),a+=b,k.delayedCalls.push(new f(function(){g.get(k).to({rotation:0},b*MCO.DEBUG_TIME_SCALE,h.cubicInOut)},a)),a+=b,k.delayedCalls.push(new f(function(){k.jiggeling=!1},a))}},k.moveBtnTo=function(a,b,c){new f(function(){k.x=a,k.y=b},c)},k},"undefined"==typeof MCO&&(MCO={}),MCO.RoundButton=function(a,b){var c=include("springroll.easeljs.Button"),d=include("springroll.DelayedCall"),e=include("createjs.Tween");b=b||{};var f=b.scale||1,g=null,h=null,i=new c(b.img,{text:b.name||"",font:"45px Arial"});return i.regX=i.regY=i.height/2,i.x=b.x=b.x||0,i.y=b.y=b.y||0,a.addChild(i),i.setButtonPos=function(a,c){i.x=b.x=a,i.y=b.y=c},i.show=function(a){h&&h.destroy(),g=e.get(this).wait(a||0).to({scaleX:f,scaleY:f},150*MCO.DEBUG_TIME_SCALE)},i.hide=function(a){h&&h.destroy(),g=e.get(this).wait(a||0).to({scaleX:0,scaleY:0},150*MCO.DEBUG_TIME_SCALE)},i.highLight=function(a){a=a||0;var b=i.scaleX;g=e.get(i).wait(a).to({scaleX:1.5*b,scaleY:1.5*b},300*MCO.DEBUG_TIME_SCALE),h=new d(function(){g=e.get(i).to({scaleX:b,scaleY:b},300*MCO.DEBUG_TIME_SCALE)},a+2e3)},i.jiggle=function(){for(var a=7,c=50;a>0;)i.moveBtnTo(b.x+(a%1?a:-a),b.y+(Math.random()>.5?a:-a),c),a-=1,c+=25;new d(function(){i.x=b.x,i.y=b.y},c)},i.moveBtnTo=function(a,b,c){new d(function(){i.x=a,i.y=b},c)},i},function(){var a=include("MCO.RoundButton"),b=include("createjs.Bitmap"),c=function(c,d){var e=new a(c,d);e.soundIcon=new b(images.soundIcon),e.soundIcon.x=20,e.soundIcon.y=22,e.soundIcon.visible=!app.sound.getMute(),e.addChild(e.soundIcon),e.soundOffIcon=new b(images.soundOffIcon),e.soundOffIcon.x=20,e.soundOffIcon.y=22,e.soundOffIcon.visible=app.sound.getMute(),e.addChild(e.soundOffIcon);var f=function(){app.sound.setMute(!app.sound.getMute()),e.soundIcon.visible=!app.sound.getMute(),e.soundOffIcon.visible=app.sound.getMute()};return e.on("click",f),e};namespace("MCO").SoundBtn=c}(),function(){var a=include("springroll.easeljs.BasePanel");window.MCO=MCO||{},MCO.GAME_WIDTH=1280,MCO.GAME_HEIGHT=800,MCO.HALF_GAME_WIDTH=MCO.GAME_WIDTH/2,MCO.HALF_GAME_HEIGHT=MCO.GAME_HEIGHT/2;var b=1067,c=720,d=MCO.GAME_WIDTH-b,e=MCO.GAME_HEIGHT-c,f=function(){a.call(this)},g=(a.prototype,extend(f,a));g.onResize=function(){var a=window.innerWidth,b=window.innerHeight;window.scrollTo(0,1),this.scaleDynamic(a,b),this.resizeCaptions()},g.scaleDynamic=function(a,f){var g,h,i,j,k,l;if(1.5>a/f){g=a/b;var m=f-c*g;l=e*g,m>l&&(m=l),j=b*g,k=c*g+m,h=-(d*g)/2,i=1-m/l,i*=-(e*g)/2}else{g=f/c;var n=a-b*g;l=d*g,n>l&&(n=l),j=b*g+n,k=c*g,h=1-n/l,h*=-(d*g)/2,i=-(e*g)/2}j=Math.floor(j),k=Math.floor(k),app.display.resize(j,k),MCO.GAME_SCALE=g,MCO.OFFSET={x:h,y:i};var o=app.manager.currentState.panel;o.scaleX=g,o.scaleY=g,o.x=h,o.y=i,app.transition.scaleX=1.5*g,app.transition.scaleY=2*g},g.resizeCaptions=function(){/Mobile/i.test(navigator.userAgent)&&!/ipad/i.test(navigator.userAgent)?this.setCaptionSize("md"):"undefined"!=typeof window.orientation?this.setCaptionSize("xl"):MCO.GAME_SCALE<.3?this.setCaptionSize("sm"):MCO.GAME_SCALE<.4?this.setCaptionSize("md"):MCO.GAME_SCALE<.5?this.setCaptionSize("lg"):this.setCaptionSize("xl")},g.setCaptionSize=function(a){if(this.captionSize!==a){this.captionSize=a;var b=document.getElementById("captions");b.className="size-"+a+" bg-none color-white edge-uniform font-arial align-bottom"}},namespace("MCO").ScalePanel=f}(),function(){function a(a){c(),b(a)}function b(a){K&&(j.fadeLines(a),j.allHidden()&&(K=!1))}function c(){var a=app.display.stage,b=MCO.utils.getScaledPoint(a.mouseX,a.mouseY);J&&!L&&H&&!H.isComplete()&&e(b),"undefined"==typeof window.orientation&&d(b)}function d(a){h.getStarAtPoint(a)&&!I.inProgress?document.body.style.cursor="pointer":document.body.style.cursor="auto"}function e(a){var b=h.getStarAtPoint(a);b&&"idle"===b.state&&(K=!0,O=0,H.tryConnect(b,h.lastStar,C.onConnectSuccess,C.onConnectFailed))}function f(){J=!1}var g,h,i,j,k,l,m,n,o,p=include("createjs.Container"),q=include("MCO.Constellation"),r=include("MCO.StarManager"),s=include("MCO.LineManager"),t=include("springroll.DelayedCall"),u=include("MCO.NullPayoff"),v=include("MCO.TimeOutTimer"),w=include("MCO.AdvancedTimeOutTimer"),x=include("MCO.WASoundBox"),y=include("MCO.PayoffIntro"),z=include("MCO.completedConstellations"),A=include("createjs.Tween"),B=function(a,b,c){p.call(this),D=this,D.completeCallback=null,D.gotoConstCallback=null,E=a,app.display.stage.addEventListener("stagemouseup",f)},C=(p.prototype,extend(B,p)),D=null,E=null,F={},G="",H=null,I=new u,J=!1,K=!1,L=!0,M=[],N=0,O=0;C.setup=function(b,c){g=new p,this.addChild(g),j=new s(g,MCO.Lines.LINE_HINT),i=new s(g,MCO.Lines.LINE_COMPLETE),h=new r(g),g.starManager=h,app.sound.preload(["2.1_intro","2.1_intro_ALT"]),l=new v(12e3,["2.2b_to03_click","2.2b_to03_tap"],!1,C.toCallback);var d=[{name:"3.3_playagain02_click",callback:c},{name:"3.3_new_click",callback:b}];m=new w(9e3,d),n=new x(!0),o=new x(!1),payoffIntro=new y,app.on("update",a)},C.onEnterNavigation=function(){L=!0,app.analytics.leaveConstScreen(G,C.constComplete()),I.cancleAnimation(!0),payoffIntro.cancel(),l.setActive(!1),m.setActive(!1),app.voPlayer.stop();for(var a=M.length-1;a>=0;a--)M[a].destroy();M=[]},C.goToSameConst=function(){L=!1,D.gotoConstCallback(),l.setActive(!0),m.setActive(!1),app.analytics.enterConstScreen(G)},C.goToNewConst=function(a,b){this.hideVisualElements(),I.destroy(this),I=new u,G=a,k=b,l.setActive(!0),m.setActive(!1),h.flyOut(k,C.tearDownConst.bind(this))},C.hideVisualElements=function(){i.clearLines(),j.clearLines()},C.tearDownConst=function(){h.clearStars(),F[G]?(H=F[G],this.flyStarsIn()):this.makeNewConst(),I=new H.payoff(this,g,E,C.onPayoffComplete)},C.makeNewConst=function(){H=new q(app.config.constellations[G]),F[G]=H,this.flyStarsIn()},C.flyStarsIn=function(){h.alpha=.5,h.setConstStarPositions(H),h.flyIn(k,C.afterFlyIn),j.alpha=0,i.alpha=0,h.alpha=1},C.afterFlyIn=function(){L=!1,C.resetLevel(),D.gotoConstCallback(),h.flashIdleStars(),new t(function(){C.playIntroVo()},100),app.analytics.enterConstScreen(G);try{app.sound.play("chord")}catch(a){Console.warn(a)}},C.playIntroVo=function(){Math.random()>.5?app.voPlayer.play("2.1_intro"):app.voPlayer.play("2.1_intro_ALT")},C.resetLevel=function(){H.resetProgress(),h.resetStars(),i.clearLines(),j.clearLines(),j.fillOutConst(H,h),g.alpha=i.alpha=j.alpha=1,N=0,O=0,app.voPlayer.stop(),l.setActive(!0),m.setActive(!1),I.reset(),I.inProgress=!1,payoffIntro.reset()},C.onConnectSuccess=function(a,b){N=0,O=0,i.addLine(a,b),H.isComplete()?C.onConstellationComplete():(H.isStarComplete(a)?(a.setState("greyOut"),h.clearLastStar()):h.tryActivate(a),H.isStarComplete(b)&&b.setState("greyOut"),C.playNote(a.soundID))},C.onConnectFailed=function(a){h.tryActivate(a),C.onWA(a),C.playNote(a.soundID)},C.onWA=function(a){C.constComplete()||(a?(N++,4===N?n.play(1):7===N?(n.play(2),h&&h.lastStar&&(K=!1,j.showLines([h.lastStar.id]))):N>=8&&(n.play(3),K=!1,j.alpha=1)):(O++,3===O?(h&&h.lastStar&&(K=!1,j.showLines([h.lastStar.id])),o.play(O)):O>=4&&(K=!1,j.alpha=1,o.play(O))))},C.onConstellationComplete=function(){l.setActive(!1),payoffIntro.playName(G),z[G]=!0,new t(function(){h.setStateAll("idle")},20),app.voPlayer.stop(),I.inProgress=!0,I.onConstellationComplete(),payoffIntro.play(G,C.onPayoffIntroComplete,500),D.completeCallback();try{app.sound.play("chord")}catch(a){Console.warn(a)}},C.onPayoffIntroComplete=function(){I.play(0)},C.onPayoffComplete=function(){A.get(h).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE),C.triggerTOs(),I.inProgress=!1},C.triggerTOs=function(){m.reset(),m.voID=0,m.playVO(),M.push(new t(function(){m.playVO()},4e3)),M.push(new t(function(){m.setActive(!0),m.addConstTO(G)},9e3))},C.onMouseDown=function(){L||(J=!0,C.showPossibilities())},C.toCallback=function(){C.showPossibilities()},C.showPossibilities=function(){var a=app.display.stage,b=MCO.utils.getScaledPoint(a.mouseX,a.mouseY),c=h.getStarAtPoint(b);c?(c===h.lastStar?(h.flashPossibleNext(H),C.onWA(c)):"greyOut"===c.state&&(h.lastStar?h.flashPossibleNext(H):h.flashIdleStars(),C.onWA(c)),C.playNote(c.soundID)):(h.lastStar?h.flashPossibleNext(H):h.flashIdleStars(),C.onWA(null))},C.teardown=function(){l.destroy(),app.display.stage.removeEventListener("stagemouseup",f)},C.playNote=function(a){var b="note"+a;try{app.sound.play(b)}catch(c){Console.warn(c)}},C.constComplete=function(){return H?H.isComplete():!1},namespace("MCO").ConstellationCont=B}(),function(){function a(a){h.bgClickCallback&&h.bgClickCallback(a)}var b,c=include("createjs.Bitmap"),d=include("createjs.Tween"),e=include("createjs.Ease"),f=include("createjs.Container"),g=function(){f.call(this),this.setup()},h=(f.prototype,extend(g,f)),i=!0,j=null,k={x:0,y:0},l=0,m=0;h.setup=function(){b=[],this.addBgImg(0,0),this.addBgImg(0,MCO.GAME_HEIGHT),this.addBgImg(MCO.GAME_WIDTH,MCO.GAME_HEIGHT),this.addBgImg(MCO.GAME_WIDTH,0),i&&app.on("update",this.update.bind(this)),window.addEventListener("camPanUp",h.panUp),window.addEventListener("camPanDown",h.panDown)},h.addBgImg=function(d,e){var f=new c(images.paralaxBG);b.push(f),f.x=d,f.y=e,f.addEventListener("mousedown",a),this.addChild(f)},h.cancleTween=function(){d.removeTweens(k),j=null,k.x=k.y=0,l=m=0},h.setCallback=function(a){h.bgClickCallback=a},h.panCam=function(a,b){h.cancleTween(),j=d.get(k).to({y:+a},b*MCO.DEBUG_TIME_SCALE,e.cubicInOut)},h.update=function(a){this.moveBG(l-k.x,m-k.y),l=k.x,m=k.y},h.scrollTo=function(a){h.cancleTween();var b=Math.cos(a.angle)*a.distance*2,c=Math.sin(a.angle)*a.distance*2;j=d.get(k).to({x:b,y:c},2*a.time*MCO.DEBUG_TIME_SCALE,createjs.Ease.getBackInOut(.2))},h.moveBG=function(a,c){for(var d=b.length-1;d>=0;d--)h.moveImg(b[d],a,c)},h.moveImg=function(a,b,c){a.x=Math.ceil(a.x+b),a.x<-MCO.GAME_WIDTH?a.x+=2*MCO.GAME_WIDTH:a.x>MCO.GAME_WIDTH&&(a.x-=2*MCO.GAME_WIDTH),a.y=Math.ceil(a.y+c),a.y<-MCO.GAME_HEIGHT?a.y+=2*MCO.GAME_HEIGHT:a.y>MCO.GAME_HEIGHT&&(a.y-=2*MCO.GAME_HEIGHT)},namespace("MCO").BackgroundCont=g}(),function(){var a,b,c,d,e,f,g=include("createjs.Container"),h=include("MCO.RoundButton"),i=include("MCO.NavigationButton"),j=include("springroll.DelayedCall"),k=function(b,c){g.call(this),e=this,a=b,d=c,l.addNavButton(),l.onResize(),this.setup()},l=(g.prototype,extend(k,g));l.setup=function(){l.loadConstBtnLayout()},l.loadConstBtnLayout=function(){app.loader.load("assets/config/constellationButtons.json",function(a){f=a,l.addConstButtons()})},l.addNavButton=function(){b=new h(e,{scale:1,img:images.telescopeBtn}),this.navBtn=b,b.on("click",this.onNavBtn),b.hide()},l.addConstButtons=function(){c=[];var a=f.content.scale,b=f.content.buttons,d=1;for(var e in b)l.addConstBtn(e,b[e],a,50*d),d++},l.addConstBtn=function(a,b,d,g){var h={x:b.x+f.content.offsetX,y:b.y+f.content.offsetY,name:a,scale:d,delay:g||0},j=new i(e,h,l.onSelectConst);j.constellationName=a,c.push(j)},l.onSelectConst=function(){a.goToConst(this.constellationName),l.removeConstButtons(),app.sound.play("click")},l.onNavBtn=function(a){b.hide(),l.addConstButtons(),d(),app.sound.play("click")},l.showNavBtn=function(){b.show()},l.removeConstButtons=function(){for(var a=0,b=c.length-1;b>=0;b--)c[b].removeButton(l,a),a+=50;c=[]},l.onResize=function(){l.placeNavBtn()},l.placeNavBtn=function(){if(b){new j(function(){var a=95+-MCO.OFFSET.x/MCO.GAME_SCALE,c=110+-MCO.OFFSET.y/MCO.GAME_SCALE;b.setButtonPos(a,c)},50)}},l.onCenterTouch=function(){l.jiggleUncompletedButtons()},l.jiggleUncompletedButtons=function(){for(var a=c.length-1;a>=0;a--)MCO.completedConstellations[c[a].name]||c[a].jiggle()},namespace("MCO").NavigationCont=k}(),function(){var a=include("MCO.ScalePanel"),b=include("createjs.Bitmap"),c=include("springroll.easeljs.Button"),d=include("createjs.Container"),e=include("createjs.Tween"),f=include("createjs.Ease"),g=include("springroll.DelayedCall"),h=function(b){a.call(this),j.loadCompleteCallback=b},i=a.prototype,j=extend(h,a);j.playAfterPan=!1,j.panComplete=!1,j.loadComplete=!1,j.loadCompleteCallback=null;var k,l,m,n,o,p,q,r=0,s=.01,t=0,u=0,v=0,w=.2*Math.random();j.setup=function(){k=new d,this.addChild(k),l=new b(images.titleImg),l.y-=MCO.GAME_HEIGHT,k.addChild(l),o=new b(images.loadingBar),o.x=390,o.y=367-MCO.GAME_HEIGHT,o.scaleX=1,k.addChild(o),p=new b(images.loadingSaucer),p.regX=images.loadingSaucer.width/2,p.x=q=400,p.y=u=175-MCO.GAME_HEIGHT,k.addChild(p),m=this.playBtn=new c(images.playBtn),m.x=198,m.y=455,k.addChild(m),n=this.skipBtn=new c(images.skipBtn),this.onResize(),n.alpha=0,k.addChild(n),j.updateLoadingBar(),app.on("update",j.updateLoadingProgress)},j.tryPlayVideo=function(){l.visible=!1,o.visible=!1,p.visible=!1,new g(function(){e.get(n).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE)},1e3)},j.panUp=function(){e.get(k).to({y:MCO.GAME_HEIGHT},2e3*MCO.DEBUG_TIME_SCALE,f.cubicInOut).call(j.onFinishPan);
},j.onFinishPan=function(){j.panComplete=!0},j.speedUpCompletion=function(){s=.5},j.updateLoadingBar=function(a){a||(j.panComplete&&(w+=Math.random()*s,w=Math.min(w,1),w>=1&&!j.loadComplete&&(j.loadComplete=!0,j.loadCompleteCallback&&setTimeout(function(){j.loadCompleteCallback()},300))),1>w&&setTimeout(function(){j.updateLoadingBar()},300+500*Math.random()))},j.updateLoadingProgress=function(a){var b=w?560*w:0;r=b,t=b+q,lerp=MCO.mathUtils.lerp,p.x=Math.ceil(lerp(p.x,t,.025)),v+=.007*a,p.y=u+20*Math.sin(v),o.scaleX=Math.ceil(lerp(o.scaleX,r,.05))},j.onResize=function(){if(this.skipBtn){var a=this;new g(function(){var b=-MCO.OFFSET.x/MCO.GAME_SCALE+80,c=-MCO.OFFSET.y/MCO.GAME_SCALE+80;a.skipBtn.x=MCO.GAME_WIDTH-200-b,a.skipBtn.y=MCO.GAME_HEIGHT-900-c},50)}i.onResize()},namespace("MCO").TitlePanel=h}(),function(){var a,b,c,d,e,f,g,h,i,j=include("MCO.ScalePanel"),k=include("MCO.RoundButton"),l=include("MCO.NavigationCont"),m=include("MCO.ConstellationCont"),n=include("MCO.BackgroundCont"),o=include("MCO.TimeOutTimer"),p=include("createjs.Tween"),q=include("MCO.misc.ToSaucer"),r=function(){j.call(this),this.navCont=null,this.frame=null},s=j.prototype,t=extend(r,j),u=.45,v=1.2;t.setup=function(){c=new n,b=new m(c),b.completeCallback=this.onConstComplete,b.gotoConstCallback=this.afterGoToConst,c.setCallback(b.onMouseDown),this.addChild(c),this.saucer=new q(this),this.addChild(b),h=new lib.TelescopeFrame,h.x=MCO.HALF_GAME_WIDTH,h.y=MCO.HALF_GAME_HEIGHT,h.scaleX=h.scaleY=u,h.instance_1.alpha=.02,this.frame=h,this.addChild(h),this.onPanComplete(),i=new o(12e3,["4.1_instux01-2","4.1_instux01-3"],!0,t.onMenuTO);var d=this.onNavBtn.bind(this);g=new l(this,d),this.navCont=g,this.addChild(g),a=new k(this,{img:images.replayBtn}),a.regX=a.regY=images.replayBtn.width/2,a.on("click",this.onReplay),a.visible=!1;var e=function(){return t.highlightButton(g.navBtn)},f=function(){return t.highlightButton(a)};b.setup(e,f),bedloopGame=app.sound.play("bedloopGame",{loop:-1}),bedloopMenu=app.sound.play("bedloopMenu",{loop:-1}),bedloopGame.volume=0,bedloopMenu.volume=.4,t.onResize()},t.onNavBtn=function(){this.enterNavigation()},t.enterNavigation=function(){b.onEnterNavigation(),a.visible=!1,t.zoomTo(u,500),h.instance_1.visible=!0,f=p.get(b).to({alpha:0},500*MCO.DEBUG_TIME_SCALE),bedloopGame.volume=0,bedloopMenu.volume=.4,i.setActive(!0),this.saucer.enabled=!0,this.playIntro()},t.playIntro=function(){try{t.gameComplete?app.voPlayer.play("2.2_wa02_alt_end_1"):Math.random()>.5?app.voPlayer.play("4.1_instux01-2"):app.voPlayer.play("4.1_instux01-3")}catch(a){Console.warn(a)}},Object.defineProperty(t,"gameComplete",{get:function(){for(var a=MCO.constellations.length-1;a>=0;a--)if(!MCO.completedConstellations[MCO.constellations[a]])return!1;return!0}}),t.leaveNavigation=function(){i.setActive(!1),this.saucer.enabled=!1},t.onMenuTO=function(){g.jiggleUncompletedButtons()},t.toggleCC=function(){app.captions.mute=!app.captions.mute},t.highlightButton=function(a,b){a&&a.highLight(b)},t.goToConst=function(d){if(this.leaveNavigation(),t.zoomTo(v,1e3),h.instance_1.visible=!1,f=p.get(b).to({alpha:1},500*MCO.DEBUG_TIME_SCALE),b.currentConst!==d){var e=MCO.mathUtils.rndRange(0,2*Math.PI),g=900,i=MCO.mathUtils.rndRange(500,1e3),j={angle:e,distance:g,time:i};c.scrollTo(j),b.goToNewConst(d,j)}else b.goToSameConst(),b.constComplete()&&(a.visible=!0)},t.afterGoToConst=function(){g.showNavBtn(),bedloopGame.volume=.3,bedloopMenu.volume=0},t.onReplay=function(){a.visible=!1,b.resetLevel()},t.OnPreviewAnim=function(){b.playAnim()},t.onConstComplete=function(){a.visible=!0},t.zoomTo=function(a,b){e=p.get(h).to({scaleX:a,scaleY:a},b*MCO.DEBUG_TIME_SCALE,createjs.Ease.getBackInOut(1.002))},t.panToPos=function(a,b,c,e){d=e?p.get(h).to({x:a,y:b},c*MCO.DEBUG_TIME_SCALE,createjs.Ease.getBackInOut(1.02)).call(this.onPanComplete.bind(this)):p.get(h).to({x:a,y:b},c*MCO.DEBUG_TIME_SCALE,createjs.Ease.sineInOut(2))},t.onResize=function(b,c){if(s.onResize.call(this,b,c),g&&g.onResize(b,c),a){var d=95+-MCO.OFFSET.x/MCO.GAME_SCALE,e=260+-MCO.OFFSET.y/MCO.GAME_SCALE;a.setButtonPos(d,e)}},t.onPanComplete=function(){var a=MCO.mathUtils.rndIntRange(-50,50)+MCO.HALF_GAME_WIDTH,b=MCO.mathUtils.rndIntRange(-50,50)+MCO.HALF_GAME_HEIGHT,c=MCO.mathUtils.rndIntRange(5e3,1e4);this.panToPos(a,b,c,!0)},t.teardown=function(){s.teardown.call(this),b.teardown()},namespace("MCO").GamePanel=r}(),function(){function a(){i.removeEventListener("canplaythrough",a,!1),i.removeEventListener("load",a,!1),j.onCompleteLoad()}function b(a,b,c){var d=document.createElement("source");d.src=b,d.type=c,a.appendChild(d)}var c=include("springroll.DelayedCall"),d=!1,e=!1,f=!1,g=!1,h=function(a,b){window.addEventListener("resize",j.onResize),window.addEventListener("orientationchange",j.onResize),app.container.on("soundMuted",k),j.loadCompleteCallback=a,j.endedCallback=b,document.getElementById("videoarea").style.visibility="hidden",this.heartbeat=null},i=null,j=h.prototype;j.loadCompleteCallback=null;var k=function(a){setTimeout(function(){i.muted=app.sound.getMute()},20)};j.endVideo=function(){g=!0,this.removeHeartbeat(),this.endedCallback&&this.endedCallback()},j.addVideo=function(){var a=!!document.createElement("video").canPlayType;a?(i=document.createElement("video"),i.setAttribute("id","video"),i.setAttribute("width",Math.ceil(app.display.width)+"px"),i.setAttribute("height",Math.ceil(app.display.width/1.5)+"px"),document.getElementById("videoarea").appendChild(i),i.muted=app.sound.getMute(),this.endVideo=this.endVideo.bind(this),i.addEventListener("ended",this.endVideo,!1),b(i,"assets/video/Intro.mp4","video/mp4"),b(i,"assets/video/Intro.ogv","video/ogv"),j.onResize()):endVideo()},j.startLoading=function(){!d&&i&&(d=!0,i.play(),4!==i.readyState?(i.addEventListener("canplaythrough",a,!1),i.addEventListener("load",a,!1)):j.onCompleteLoad(),setTimeout(function(){j.pause()},1))},j.onContentLoaded=function(){f=!0},j.onCompleteLoad=function(){e=!0,j.loadCompleteCallback(),this.iosHeartbeat()},j.onResize=function(){i&&(i.width=app.display.width,i.height=i.width/1.5)},j.pause=function(){i&&i.pause()},j.iosHeartbeat=function(){this.tryPlayVideo();var a=this;this.heartbeat=new c(function(){a.iosHeartbeat()},1e3)},j.removeHeartbeat=function(){this.heartbeat&&this.heartbeat.destroy()},j.tryPlayVideo=function(){i&&e&&f&&(document.getElementById("videoarea").style.visibility="visible",g||i.play())},j.onLeaveIntro=function(){j.removeVideo(!0)},j.removeVideo=function(b){if(app.container.off("soundMuted",k),window.removeEventListener("resize",j.onResize),window.removeEventListener("orientationchange",j.onResize),i){i.removeEventListener("canplaythrough",a,!1),i.removeEventListener("load",a,!1),i.removeEventListener("ended",this.endVideo,!1),i.pause();var c=i.parentNode;c.removeChild(i),b&&c.parentNode.removeChild(c)}i=null,this.removeHeartbeat()},namespace("MCO").NativePlayer=h}(),function(){function a(){f=!0,i.endedCallback&&i.endedCallback()}var b=null,c="assets/video/Intro.ogv",d=!1,e=!1,f=!1,g=function(a,b){i.loadCompleteCallback=a,i.endedCallback=b,app.container.on("soundMuted",h)},h=function(a){setTimeout(function(){b.muted=app.sound.getMute()},20)},i=g.prototype;i.loadCompleteCallback=null,i.startLoading=function(){e||(e=!0,i.play(),i.mockLoad())},i.mockLoad=function(){d?i.videoReadyCallback():setTimeout(function(){i.mockLoad()},100)},i.onContentLoaded=function(){},i.videoReadyCallback=function(){d=!0,i.loadCompleteCallback()},i.play=function(){b&&(b.stop(),b.parentNode.removeChild(b));var d={readyCallback:i.videoReadyCallback};b=new OGVPlayer(d),setTimeout(function(){b.muted=app.sound.getMute()},20),b.src=c,document.getElementById("videoarea").appendChild(b),b.addEventListener("ended",a,!1),app.triggerResize(),i.tryPlayVideo(),b.pause()},i.pause=function(){b&&b.pause()},i.tryPlayVideo=function(){b&&b.play()},i.onLeaveIntro=function(){i.removeVideo(!0)},i.removeVideo=function(a){if(app.container.off("soundMuted",h),b){b.stop();var c=b.parentNode;c.removeChild(b),a&&c.parentNode.removeChild(c)}b=null},namespace("MCO").OvgPlayer=g}(),function(){var a=include("springroll.easeljs.BaseState"),b=include("MCO.GamePanel"),c=function(c){a.call(this,new b,c),e=e.bind(this)},d=(a.prototype,extend(c,a));d.enterDone=function(){this.panel.frame.instance_1.addEventListener("mousedown",e),this._introPlayed||(this._introPlayed=!0,app.voPlayer.play("4.1_instux01-3"))};var e=function(){this.panel.saucer.hide(),this.panel.navCont.onCenterTouch()};namespace("MCO").GameState=c}(),function(){function a(){j.panel.removeEventListener("click",a),j.startPreload(),k.startLoading(),j.panel.panUp()}function b(){c()}function c(){l=!0,k.onLeaveIntro();var a=this;window.removeEventListener("blur",a.onBlur,!1),window.removeEventListener("focus",a.onFocus,!1),j.panel.skipBtn.removeEventListener("click",b),app.analytics.leaveLoadingScreen(),j.manager.next()}var d=include("MCO.TitlePanel"),e=include("MCO.OvgPlayer"),f=include("MCO.NativePlayer"),g=include("springroll.easeljs.BaseState"),h=include("springroll.DelayedCall"),i=function(a){g.call(this,new d(j.onLoadBarComplete),a),j.panel=this.panel},j=(g.prototype,extend(i,g)),k=null,l=!1;j.panel=null,j.videoLoaded=!1,j.contentloaded=!1,j.enterDone=function(){/iPhone|iPod/.test(navigator.platform)?k=new e(j.onVideoCompleteLoad,j.onEnded):(k=new f(j.onVideoCompleteLoad,j.onEnded),k.addVideo()),j.panel.on("click",a),j.manager=this.manager;var b=this;window.addEventListener("blur",b.onBlur,!1),window.addEventListener("focus",b.onFocus,!1)},j.onBlur=function(){k.pause()},j.onFocus=function(){k.tryPlayVideo()},j.startPreload=function(){var a=[],b=["4.1_instux01-2","4.1_instux01-3"];a.push(new springroll.SoundListTask("preloadingSounds",b)),springroll.TaskManager.process(a,function(){j.onContentLoaded()})},j.onVideoCompleteLoad=function(){j.videoLoaded=!0,j.tryPlayVideo()},j.onEnded=function(){new h(function(){c()},500)},j.onContentLoaded=function(){j.contentloaded=!0,j.tryPlayVideo()},j.onLoadBarComplete=function(){k.onContentLoaded(),j.tryPlayVideo()},j.tryPlayVideo=function(){l||j.videoLoaded&&j.contentloaded&&(j.panel.loadComplete?(k.tryPlayVideo(),j.panel.tryPlayVideo(),j.panel.skipBtn.on("click",b),document.getElementById("videoarea").style.visibility="visible"):j.panel.speedUpCompletion())},namespace("MCO").TitleState=i}(),function(){var a=function(a){function b(a){var b=a+"Payoff";return b[0]=b[0].toUpperCase(),MCO[b]?MCO[b]:void 0}this.name=a.name,this.stars=a.stars,this.connections=a.connections,this.payoff=b(this.name),this.pendingConnections=[],this.completedConnections=[],this.tryConnect=function(a,b,c,d){if(a&&b){var e=this.getPendingID(a.id,b.id);if(-1!==e)return this.completedConnections.push([a.id,b.id]),this.pendingConnections.splice(e,1),void c(a,b)}d(a)},this.getPendingID=function(a,b){for(var c=0;c<this.pendingConnections.length;c++){if(this.pendingConnections[c][0]===a&&this.pendingConnections[c][1]===b)return c;if(this.pendingConnections[c][0]===b&&this.pendingConnections[c][1]===a)return c}return-1},this.isStarComplete=function(a){for(var b=this.pendingConnections.length-1;b>=0;b--)if(this.pendingConnections[b][0]===a.id||this.pendingConnections[b][1]===a.id)return!1;return!0},this.isComplete=function(){return this.completedConnections.length>0&&0===this.pendingConnections.length?!0:!1},this.resetProgress=function(){this.completedConnections=[],this.pendingConnections=[];for(var a=this.connections.length-1;a>=0;a--)this.pendingConnections.push([this.connections[a][0],this.connections[a][1]])},this.resetProgress()};namespace("MCO").Constellation=a}();var MCO=MCO||{};MCO.NullPayoff=function(a){var b={};return b.load=function(){},b.reset=function(){},b.play=function(){},b.cancleAnimation=function(){},b.destroy=function(a){},b.gotoFinalFrame=function(){},b};var MCO=MCO||{};MCO.UrsaMajorPayoff=function(a,b,c,d){var e,f,g,h,i,j=include("createjs.Tween"),k=include("createjs.Ease"),l=include("createjs.Bitmap"),m=include("springroll.DelayedCall"),n={},o=[],p=[],q=!1,r=d,s=null;return n.load=function(){app.loader.load("assets/images/ursamaj1.png",function(a){s=f=new l(a.content),app.loader.load("assets/images/ursamaj2.png",function(a){g=new l(a.content),app.loader.load("assets/images/ursamaj3-bear.png",function(a){i=new l(a.content),app.loader.load("assets/images/ursaminor2-arcas.png",function(a){h=new l(a.content),setTimeout(n.afterLoad,50)})})})}),n.addSparkle(),app.sound.preload(["3.1_uma_01","3.1_uma_02","3.1_uma_03","3.1_uma_04"]),app.sound.preload(["sfxUMaj_callisto","sfxUMaj_enter","sfxUMaj_saved","sfxUMaj_hunter","sfxUMaj_end"])},n.afterLoad=function(){q=!0,n.initImages([f,g,h,i]),n.reset(),e&&n.play()},n.initImages=function(b){for(var c=b.length-1;c>=0;c--)b[c].regX=b[c].image.width/2,b[c].regY=b[c].image.height/2,b[c].alpha=0,a.addChild(b[c])},n.reset=function(){q&&(n.cancleAnimation(),b.x=b.y=0,f.originalX=f.x=MCO.HALF_GAME_WIDTH-20,f.originalY=f.y=MCO.HALF_GAME_HEIGHT+18,f.alpha=0,g.x=MCO.HALF_GAME_WIDTH+50,g.y=1150,g.scaleX=g.scaleY=1,g.alpha=0,i.x=MCO.HALF_GAME_WIDTH+180,i.y=MCO.HALF_GAME_HEIGHT+50,i.scaleX=i.scaleY=.9,i.alpha=0,h.x=MCO.HALF_GAME_WIDTH-350,h.y=320,h.scaleX=h.scaleY=1,h.alpha=0)},n.cancleAnimation=function(a){if(a&&(e=!1),q){b.x=b.y=0;for(var c=p.length-1;c>=0;c--)p[c].destroy();j.removeTweens(f),j.removeTweens(i),j.removeTweens(g),j.removeTweens(h),o=[],p=[]}},n.destroy=function(a){n.cancleAnimation(!0),a.removeChild(f),a.removeChild(i),a.removeChild(g),a.removeChild(h),n=f=i=g=h=null,app.sound.unload(["3.1_uma_01","3.1_uma_02","3.1_uma_03","3.1_uma_04"]),app.sound.unload(["sfxUMaj_callisto","sfxUMaj_enter","sfxUMaj_saved","sfxUMaj_hunter","sfxUMaj_end"])},n.gotoFinalFrame=function(){q&&(n.reset(),f.alpha=1)},n.play=function(a){q?(this.onConstellationComplete(),p.push(new m(function(){o=[],p=[],n.playAnims(),n.playSounds()},a||0))):e=!0},n.onConstellationComplete=function(){q&&(sparkel.instance.gotoAndPlay(0),o.push(j.get(s).to({alpha:1},1100*MCO.DEBUG_TIME_SCALE,k.cubicInOut)))},n.playAnims=function(){p.push(new m(function(){o.push(j.get(f).to({y:f.originalY-700},1300*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(b).to({y:-700,alpha:.2},1300*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),c.panCam(700,1300)},6e3*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){g.alpha=1,sparkel.instance.gotoAndPlay(0),o.push(j.get(g).to({y:g.y-750},1300*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},7500*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){o.push(j.get(g).to({alpha:0},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(i).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},1e4*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){sparkel.instance.gotoAndPlay(0),o.push(j.get(h).to({alpha:1,scaleX:1.08,scaleY:1.08,x:h.x+20,y:h.y-20},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},13500*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){o.push(j.get(i).to({alpha:0},1e3*MCO.DEBUG_TIME_SCALE,k.cubicInOut))},2e4*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){o.push(j.get(f).to({y:f.originalY},1500*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(b).to({y:0,alpha:.75},1500*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),o.push(j.get(h).to({y:h.y+700,alpha:0},1500*MCO.DEBUG_TIME_SCALE,k.cubicInOut)),c.panCam(-700,1500)},22e3*MCO.DEBUG_TIME_SCALE)),p.push(new m(function(){r&&r()},3e4))},n.playSounds=function(){p.push(new m(function(){app.voPlayer.play("3.1_uma_01")},1)),p.push(new m(function(){app.voPlayer.play("3.1_uma_02")},4700)),p.push(new m(function(){app.voPlayer.play("3.1_uma_03")},14e3)),p.push(new m(function(){app.voPlayer.play("3.1_uma_04")},24e3)),p.push(new m(function(){app.sound.play("sfxUMaj_enter",{volume:.4})},3500)),p.push(new m(function(){app.sound.play("sfxUMaj_callisto",{volume:.5})},7500)),p.push(new m(function(){app.sound.play("sfxUMaj_hunter",{volume:.4})},15e3)),p.push(new m(function(){app.sound.play("sfxUMaj_saved",{volume:.5})},21e3)),p.push(new m(function(){app.sound.play("sfxUMaj_end",{volume:.5})},26e3))},n.addSparkle=function(){sparkel=new lib.Sparkle,sparkel.x=300,sparkel.y=100,sparkel.instance.loop=!1,sparkel.instance.framerate=12,sparkel.instance.gotoAndStop(0),a.addChild(sparkel)},n.load(),n},"undefined"==typeof MCO&&(MCO={}),MCO.DottedLine=function(a){var b=include("createjs.Container");this._cont=new b;for(var c=null,d=0;30>d;d++)c=this.getPiece(),this._pieceLength||(this._pieceLength=c.image.width,this._pieceHeight=c.image.height),c.x=c.image.width*d,this._cont.addChild(c);a.addChild(this._cont)},MCO.DottedLine.prototype.getPiece=function(){var a=include("createjs.Bitmap");return new a(images.dotLine)},MCO.DottedLine.prototype._active=!0,Object.defineProperty(MCO.DottedLine.prototype,"active",{get:function(){return this._active},set:function(a){this._cont.visible=a,this._active=a}}),Object.defineProperty(MCO.DottedLine.prototype,"alpha",{get:function(){return this._cont.alpha},set:function(a){this._cont.alpha=a}}),MCO.DottedLine.prototype.init=function(a){this.x=a.pos1.x,this.y=a.pos1.y,this.isCorrect=a.isCorrect,this.setPoints(a.pos1,a.pos2),this.active=!0,this.ids=a.ids||[]},MCO.DottedLine.prototype.adjustLength=function(a){for(var b=a/this._pieceLength-1,c=0;c<this._cont.children.length;c++)b>=c?this._cont.children[c].visible=!0:this._cont.children[c].visible=!1},MCO.DottedLine.prototype.setPoints=function(a,b){this.adjustLength(Math.dist(a.x,a.y,b.x,b.y)),this._cont.regX=-this._pieceLength/4,this._cont.regY=this._pieceHeight/2,this._cont.x=this.x,this._cont.y=this.y;var c=Math.atan2(b.y-a.y,b.x-a.x);c*=57.296,this._cont.rotation=c},function(){var a=include("createjs.Container"),b=include("MCO.Line"),c=include("MCO.DottedLine"),d=function(d,e,f){this.lineType=e,this.lineArray=[],this.lineCont=new a,this.lineConstructor=null,e===MCO.Lines.LINE_COMPLETE?this.lineConstructor=b:e===MCO.Lines.LINE_HINT&&(this.lineConstructor=c),d.addChild(this.lineCont)},e=d.prototype;e.clearLines=function(){for(var a=this.lineArray.length-1;a>=0;a--)this.lineArray[a].active=!1},e.getLine=function(){for(var a=0;a<this.lineArray.length;a++)if(!this.lineArray[a].active)return this.lineArray[a];var b=new this.lineConstructor(this.lineCont);return this.lineArray.push(b),b},e.addLine=function(a,b,c){var d=this.getLine(),e={pos1:{x:a.x,y:a.y},pos2:{x:b.x,y:b.y},lineType:this.lineType||"",ids:c};d.init(e)},e.fillOutConst=function(a,b){for(var c=a.connections.length-1;c>=0;c--){var d=b.getStarByID(a.connections[c][0]),e=b.getStarByID(a.connections[c][1]),f=[a.connections[c][0],a.connections[c][1]];this.addLine(d,e,f)}},e.showLines=function(a){for(i=0;i<this.lineArray.length;i++)for(var b=0;b<a.length;b++)this.lineArray[i].ids.indexOf(a[b])>=0&&(this.lineArray[i].alpha=!0)},e.showAllLines=function(){for(i=0;i<this.lineArray.length;i++)this.lineArray[i].visible=!0},e.fadeLines=function(a){for(i=0;i<this.lineArray.length;i++)this.lineArray[i].alpha=Math.max(0,this.lineArray[i].alpha-5e-4*a)},e.allHidden=function(){for(i=0;i<this.lineArray.length;i++)if(this.lineArray[i].alpha>0)return!1;return!0},Object.defineProperty(e,"alpha",{set:function(a){for(i=0;i<this.lineArray.length;i++)this.lineArray[i].alpha=a}}),namespace("MCO").LineManager=d}(),namespace("MCO.Lines").LINE_COMPLETE=0,namespace("MCO.Lines").LINE_USER=1,namespace("MCO.Lines").LINE_HINT=2,function(){function a(a){h.bgClickCallback&&h.bgClickCallback(a)}var b,c=include("createjs.Bitmap"),d=include("createjs.Tween"),e=include("createjs.Ease"),f=include("createjs.Container"),g=function(){f.call(this),this.setup()},h=(f.prototype,extend(g,f)),i=!0,j=null,k={x:0,y:0},l=0,m=0;h.setup=function(){b=[],this.addBgImg(0,0),this.addBgImg(0,MCO.GAME_HEIGHT),this.addBgImg(MCO.GAME_WIDTH,MCO.GAME_HEIGHT),this.addBgImg(MCO.GAME_WIDTH,0),i&&app.on("update",this.update.bind(this)),window.addEventListener("camPanUp",h.panUp),window.addEventListener("camPanDown",h.panDown)},h.addBgImg=function(d,e){var f=new c(images.paralaxBG);b.push(f),f.x=d,f.y=e,f.addEventListener("mousedown",a),this.addChild(f)},h.cancleTween=function(){d.removeTweens(k),j=null,k.x=k.y=0,l=m=0},h.setCallback=function(a){h.bgClickCallback=a},h.panCam=function(a,b){h.cancleTween(),j=d.get(k).to({y:+a},b*MCO.DEBUG_TIME_SCALE,e.cubicInOut)},h.update=function(a){this.moveBG(l-k.x,m-k.y),l=k.x,m=k.y},h.scrollTo=function(a){h.cancleTween();var b=Math.cos(a.angle)*a.distance*2,c=Math.sin(a.angle)*a.distance*2;j=d.get(k).to({x:b,y:c},2*a.time*MCO.DEBUG_TIME_SCALE,createjs.Ease.getBackInOut(.2))},h.moveBG=function(a,c){for(var d=b.length-1;d>=0;d--)h.moveImg(b[d],a,c)},h.moveImg=function(a,b,c){a.x=Math.ceil(a.x+b),a.x<-MCO.GAME_WIDTH?a.x+=2*MCO.GAME_WIDTH:a.x>MCO.GAME_WIDTH&&(a.x-=2*MCO.GAME_WIDTH),a.y=Math.ceil(a.y+c),a.y<-MCO.GAME_HEIGHT?a.y+=2*MCO.GAME_HEIGHT:a.y>MCO.GAME_HEIGHT&&(a.y-=2*MCO.GAME_HEIGHT)},namespace("MCO").BackgroundCont=g}(),function(){function a(a){c(),b(a)}function b(a){K&&(j.fadeLines(a),j.allHidden()&&(K=!1))}function c(){var a=app.display.stage,b=MCO.utils.getScaledPoint(a.mouseX,a.mouseY);J&&!L&&H&&!H.isComplete()&&e(b),"undefined"==typeof window.orientation&&d(b)}function d(a){h.getStarAtPoint(a)&&!I.inProgress?document.body.style.cursor="pointer":document.body.style.cursor="auto"}function e(a){var b=h.getStarAtPoint(a);b&&"idle"===b.state&&(K=!0,O=0,H.tryConnect(b,h.lastStar,C.onConnectSuccess,C.onConnectFailed))}function f(){J=!1}var g,h,i,j,k,l,m,n,o,p=include("createjs.Container"),q=include("MCO.Constellation"),r=include("MCO.StarManager"),s=include("MCO.LineManager"),t=include("springroll.DelayedCall"),u=include("MCO.NullPayoff"),v=include("MCO.TimeOutTimer"),w=include("MCO.AdvancedTimeOutTimer"),x=include("MCO.WASoundBox"),y=include("MCO.PayoffIntro"),z=include("MCO.completedConstellations"),A=include("createjs.Tween"),B=function(a,b,c){p.call(this),D=this,D.completeCallback=null,D.gotoConstCallback=null,E=a,app.display.stage.addEventListener("stagemouseup",f)},C=(p.prototype,extend(B,p)),D=null,E=null,F={},G="",H=null,I=new u,J=!1,K=!1,L=!0,M=[],N=0,O=0;C.setup=function(b,c){g=new p,this.addChild(g),j=new s(g,MCO.Lines.LINE_HINT),i=new s(g,MCO.Lines.LINE_COMPLETE),h=new r(g),g.starManager=h,app.sound.preload(["2.1_intro","2.1_intro_ALT"]),l=new v(12e3,["2.2b_to03_click","2.2b_to03_tap"],!1,C.toCallback);var d=[{name:"3.3_playagain02_click",callback:c},{name:"3.3_new_click",callback:b}];m=new w(9e3,d),n=new x(!0),o=new x(!1),payoffIntro=new y,app.on("update",a)},C.onEnterNavigation=function(){L=!0,app.analytics.leaveConstScreen(G,C.constComplete()),I.cancleAnimation(!0),payoffIntro.cancel(),l.setActive(!1),m.setActive(!1),app.voPlayer.stop();for(var a=M.length-1;a>=0;a--)M[a].destroy();M=[]},C.goToSameConst=function(){L=!1,D.gotoConstCallback(),l.setActive(!0),m.setActive(!1),app.analytics.enterConstScreen(G)},C.goToNewConst=function(a,b){this.hideVisualElements(),I.destroy(this),I=new u,G=a,k=b,l.setActive(!0),m.setActive(!1),h.flyOut(k,C.tearDownConst.bind(this))},C.hideVisualElements=function(){i.clearLines(),j.clearLines()},C.tearDownConst=function(){h.clearStars(),F[G]?(H=F[G],this.flyStarsIn()):this.makeNewConst(),I=new H.payoff(this,g,E,C.onPayoffComplete)},C.makeNewConst=function(){H=new q(app.config.constellations[G]),F[G]=H,this.flyStarsIn()},C.flyStarsIn=function(){h.alpha=.5,h.setConstStarPositions(H),h.flyIn(k,C.afterFlyIn),j.alpha=0,i.alpha=0,h.alpha=1},C.afterFlyIn=function(){L=!1,C.resetLevel(),D.gotoConstCallback(),h.flashIdleStars(),new t(function(){C.playIntroVo()},100),app.analytics.enterConstScreen(G);try{app.sound.play("chord")}catch(a){Console.warn(a)}},C.playIntroVo=function(){Math.random()>.5?app.voPlayer.play("2.1_intro"):app.voPlayer.play("2.1_intro_ALT")},C.resetLevel=function(){H.resetProgress(),h.resetStars(),i.clearLines(),j.clearLines(),j.fillOutConst(H,h),g.alpha=i.alpha=j.alpha=1,N=0,O=0,app.voPlayer.stop(),l.setActive(!0),m.setActive(!1),I.reset(),I.inProgress=!1,payoffIntro.reset()},C.onConnectSuccess=function(a,b){N=0,O=0,i.addLine(a,b),H.isComplete()?C.onConstellationComplete():(H.isStarComplete(a)?(a.setState("greyOut"),h.clearLastStar()):h.tryActivate(a),H.isStarComplete(b)&&b.setState("greyOut"),C.playNote(a.soundID))},C.onConnectFailed=function(a){h.tryActivate(a),C.onWA(a),C.playNote(a.soundID)},C.onWA=function(a){C.constComplete()||(a?(N++,4===N?n.play(1):7===N?(n.play(2),h&&h.lastStar&&(K=!1,j.showLines([h.lastStar.id]))):N>=8&&(n.play(3),K=!1,j.alpha=1)):(O++,3===O?(h&&h.lastStar&&(K=!1,j.showLines([h.lastStar.id])),o.play(O)):O>=4&&(K=!1,j.alpha=1,o.play(O))))},C.onConstellationComplete=function(){l.setActive(!1),payoffIntro.playName(G),z[G]=!0,new t(function(){h.setStateAll("idle")},20),app.voPlayer.stop(),I.inProgress=!0,I.onConstellationComplete(),payoffIntro.play(G,C.onPayoffIntroComplete,500),D.completeCallback();try{app.sound.play("chord")}catch(a){Console.warn(a)}},C.onPayoffIntroComplete=function(){I.play(0)},C.onPayoffComplete=function(){A.get(h).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE),C.triggerTOs(),I.inProgress=!1},C.triggerTOs=function(){m.reset(),m.voID=0,m.playVO(),M.push(new t(function(){m.playVO()},4e3)),M.push(new t(function(){m.setActive(!0),m.addConstTO(G)},9e3))},C.onMouseDown=function(){L||(J=!0,C.showPossibilities())},C.toCallback=function(){C.showPossibilities()},C.showPossibilities=function(){var a=app.display.stage,b=MCO.utils.getScaledPoint(a.mouseX,a.mouseY),c=h.getStarAtPoint(b);c?(c===h.lastStar?(h.flashPossibleNext(H),C.onWA(c)):"greyOut"===c.state&&(h.lastStar?h.flashPossibleNext(H):h.flashIdleStars(),C.onWA(c)),C.playNote(c.soundID)):(h.lastStar?h.flashPossibleNext(H):h.flashIdleStars(),C.onWA(null))},C.teardown=function(){l.destroy(),app.display.stage.removeEventListener("stagemouseup",f)},C.playNote=function(a){var b="note"+a;try{app.sound.play(b)}catch(c){Console.warn(c)}},C.constComplete=function(){return H?H.isComplete():!1},namespace("MCO").ConstellationCont=B}(),function(){var a,b,c,d,e,f,g,h,i,j=include("MCO.ScalePanel"),k=include("MCO.RoundButton"),l=include("MCO.NavigationCont"),m=include("MCO.ConstellationCont"),n=include("MCO.BackgroundCont"),o=include("MCO.TimeOutTimer"),p=include("createjs.Tween"),q=include("MCO.misc.ToSaucer"),r=function(){j.call(this),this.navCont=null,this.frame=null},s=j.prototype,t=extend(r,j),u=.45,v=1.2;t.setup=function(){c=new n,b=new m(c),b.completeCallback=this.onConstComplete,b.gotoConstCallback=this.afterGoToConst,c.setCallback(b.onMouseDown),this.addChild(c),this.saucer=new q(this),this.addChild(b),h=new lib.TelescopeFrame,h.x=MCO.HALF_GAME_WIDTH,h.y=MCO.HALF_GAME_HEIGHT,h.scaleX=h.scaleY=u,h.instance_1.alpha=.02,this.frame=h,this.addChild(h),this.onPanComplete(),i=new o(12e3,["4.1_instux01-2","4.1_instux01-3"],!0,t.onMenuTO);var d=this.onNavBtn.bind(this);g=new l(this,d),this.navCont=g,this.addChild(g),a=new k(this,{img:images.replayBtn}),a.regX=a.regY=images.replayBtn.width/2,a.on("click",this.onReplay),a.visible=!1;var e=function(){return t.highlightButton(g.navBtn)},f=function(){return t.highlightButton(a)};b.setup(e,f),bedloopGame=app.sound.play("bedloopGame",{loop:-1}),bedloopMenu=app.sound.play("bedloopMenu",{loop:-1}),bedloopGame.volume=0,bedloopMenu.volume=.4,t.onResize()},t.onNavBtn=function(){this.enterNavigation()},t.enterNavigation=function(){b.onEnterNavigation(),a.visible=!1,t.zoomTo(u,500),h.instance_1.visible=!0,f=p.get(b).to({alpha:0},500*MCO.DEBUG_TIME_SCALE),bedloopGame.volume=0,bedloopMenu.volume=.4,i.setActive(!0),this.saucer.enabled=!0,this.playIntro()},t.playIntro=function(){try{t.gameComplete?app.voPlayer.play("2.2_wa02_alt_end_1"):Math.random()>.5?app.voPlayer.play("4.1_instux01-2"):app.voPlayer.play("4.1_instux01-3")}catch(a){Console.warn(a)}},Object.defineProperty(t,"gameComplete",{get:function(){for(var a=MCO.constellations.length-1;a>=0;a--)if(!MCO.completedConstellations[MCO.constellations[a]])return!1;return!0}}),t.leaveNavigation=function(){i.setActive(!1),this.saucer.enabled=!1},t.onMenuTO=function(){g.jiggleUncompletedButtons()},t.toggleCC=function(){app.captions.mute=!app.captions.mute},t.highlightButton=function(a,b){a&&a.highLight(b)},t.goToConst=function(d){if(this.leaveNavigation(),t.zoomTo(v,1e3),h.instance_1.visible=!1,f=p.get(b).to({alpha:1},500*MCO.DEBUG_TIME_SCALE),b.currentConst!==d){var e=MCO.mathUtils.rndRange(0,2*Math.PI),g=900,i=MCO.mathUtils.rndRange(500,1e3),j={angle:e,distance:g,time:i};c.scrollTo(j),b.goToNewConst(d,j)}else b.goToSameConst(),b.constComplete()&&(a.visible=!0)},t.afterGoToConst=function(){g.showNavBtn(),bedloopGame.volume=.3,bedloopMenu.volume=0},t.onReplay=function(){a.visible=!1,b.resetLevel()},t.OnPreviewAnim=function(){b.playAnim()},t.onConstComplete=function(){a.visible=!0},t.zoomTo=function(a,b){e=p.get(h).to({scaleX:a,scaleY:a},b*MCO.DEBUG_TIME_SCALE,createjs.Ease.getBackInOut(1.002))},t.panToPos=function(a,b,c,e){d=e?p.get(h).to({x:a,y:b},c*MCO.DEBUG_TIME_SCALE,createjs.Ease.getBackInOut(1.02)).call(this.onPanComplete.bind(this)):p.get(h).to({x:a,y:b},c*MCO.DEBUG_TIME_SCALE,createjs.Ease.sineInOut(2))},t.onResize=function(b,c){if(s.onResize.call(this,b,c),g&&g.onResize(b,c),a){var d=95+-MCO.OFFSET.x/MCO.GAME_SCALE,e=260+-MCO.OFFSET.y/MCO.GAME_SCALE;a.setButtonPos(d,e)}},t.onPanComplete=function(){var a=MCO.mathUtils.rndIntRange(-50,50)+MCO.HALF_GAME_WIDTH,b=MCO.mathUtils.rndIntRange(-50,50)+MCO.HALF_GAME_HEIGHT,c=MCO.mathUtils.rndIntRange(5e3,1e4);this.panToPos(a,b,c,!0)},t.teardown=function(){s.teardown.call(this),b.teardown()},namespace("MCO").GamePanel=r}(),function(){var a,b,c,d,e,f,g=include("createjs.Container"),h=include("MCO.RoundButton"),i=include("MCO.NavigationButton"),j=include("springroll.DelayedCall"),k=function(b,c){g.call(this),e=this,a=b,d=c,l.addNavButton(),l.onResize(),this.setup()},l=(g.prototype,extend(k,g));l.setup=function(){l.loadConstBtnLayout()},l.loadConstBtnLayout=function(){app.loader.load("assets/config/constellationButtons.json",function(a){f=a,l.addConstButtons()})},l.addNavButton=function(){b=new h(e,{scale:1,img:images.telescopeBtn}),this.navBtn=b,b.on("click",this.onNavBtn),b.hide()},l.addConstButtons=function(){c=[];var a=f.content.scale,b=f.content.buttons,d=1;for(var e in b)l.addConstBtn(e,b[e],a,50*d),d++},l.addConstBtn=function(a,b,d,g){var h={x:b.x+f.content.offsetX,y:b.y+f.content.offsetY,name:a,scale:d,delay:g||0},j=new i(e,h,l.onSelectConst);j.constellationName=a,c.push(j)},l.onSelectConst=function(){a.goToConst(this.constellationName),l.removeConstButtons(),app.sound.play("click")},l.onNavBtn=function(a){b.hide(),l.addConstButtons(),d(),app.sound.play("click")},l.showNavBtn=function(){b.show()},l.removeConstButtons=function(){for(var a=0,b=c.length-1;b>=0;b--)c[b].removeButton(l,a),a+=50;c=[]},l.onResize=function(){l.placeNavBtn()},l.placeNavBtn=function(){if(b){new j(function(){var a=95+-MCO.OFFSET.x/MCO.GAME_SCALE,c=110+-MCO.OFFSET.y/MCO.GAME_SCALE;b.setButtonPos(a,c)},50)}},l.onCenterTouch=function(){l.jiggleUncompletedButtons()},l.jiggleUncompletedButtons=function(){for(var a=c.length-1;a>=0;a--)MCO.completedConstellations[c[a].name]||c[a].jiggle()},namespace("MCO").NavigationCont=k}(),function(){var a=include("springroll.easeljs.BasePanel");window.MCO=MCO||{},MCO.GAME_WIDTH=1280,MCO.GAME_HEIGHT=800,MCO.HALF_GAME_WIDTH=MCO.GAME_WIDTH/2,MCO.HALF_GAME_HEIGHT=MCO.GAME_HEIGHT/2;var b=1067,c=720,d=MCO.GAME_WIDTH-b,e=MCO.GAME_HEIGHT-c,f=function(){a.call(this)},g=(a.prototype,extend(f,a));g.onResize=function(){var a=window.innerWidth,b=window.innerHeight;window.scrollTo(0,1),this.scaleDynamic(a,b),this.resizeCaptions()},g.scaleDynamic=function(a,f){var g,h,i,j,k,l;if(1.5>a/f){g=a/b;var m=f-c*g;l=e*g,m>l&&(m=l),j=b*g,k=c*g+m,h=-(d*g)/2,i=1-m/l,i*=-(e*g)/2}else{g=f/c;var n=a-b*g;l=d*g,n>l&&(n=l),j=b*g+n,k=c*g,h=1-n/l,h*=-(d*g)/2,i=-(e*g)/2}j=Math.floor(j),k=Math.floor(k),app.display.resize(j,k),MCO.GAME_SCALE=g,MCO.OFFSET={x:h,y:i};var o=app.manager.currentState.panel;o.scaleX=g,o.scaleY=g,o.x=h,o.y=i,app.transition.scaleX=1.5*g,app.transition.scaleY=2*g},g.resizeCaptions=function(){/Mobile/i.test(navigator.userAgent)&&!/ipad/i.test(navigator.userAgent)?this.setCaptionSize("md"):"undefined"!=typeof window.orientation?this.setCaptionSize("xl"):MCO.GAME_SCALE<.3?this.setCaptionSize("sm"):MCO.GAME_SCALE<.4?this.setCaptionSize("md"):MCO.GAME_SCALE<.5?this.setCaptionSize("lg"):this.setCaptionSize("xl");
},g.setCaptionSize=function(a){if(this.captionSize!==a){this.captionSize=a;var b=document.getElementById("captions");b.className="size-"+a+" bg-none color-white edge-uniform font-arial align-bottom"}},namespace("MCO").ScalePanel=f}(),function(){var a=include("MCO.ScalePanel"),b=include("createjs.Bitmap"),c=include("springroll.easeljs.Button"),d=include("createjs.Container"),e=include("createjs.Tween"),f=include("createjs.Ease"),g=include("springroll.DelayedCall"),h=function(b){a.call(this),j.loadCompleteCallback=b},i=a.prototype,j=extend(h,a);j.playAfterPan=!1,j.panComplete=!1,j.loadComplete=!1,j.loadCompleteCallback=null;var k,l,m,n,o,p,q,r=0,s=.01,t=0,u=0,v=0,w=.2*Math.random();j.setup=function(){k=new d,this.addChild(k),l=new b(images.titleImg),l.y-=MCO.GAME_HEIGHT,k.addChild(l),o=new b(images.loadingBar),o.x=390,o.y=367-MCO.GAME_HEIGHT,o.scaleX=1,k.addChild(o),p=new b(images.loadingSaucer),p.regX=images.loadingSaucer.width/2,p.x=q=400,p.y=u=175-MCO.GAME_HEIGHT,k.addChild(p),m=this.playBtn=new c(images.playBtn),m.x=198,m.y=455,k.addChild(m),n=this.skipBtn=new c(images.skipBtn),this.onResize(),n.alpha=0,k.addChild(n),j.updateLoadingBar(),app.on("update",j.updateLoadingProgress)},j.tryPlayVideo=function(){l.visible=!1,o.visible=!1,p.visible=!1,new g(function(){e.get(n).to({alpha:1},1e3*MCO.DEBUG_TIME_SCALE)},1e3)},j.panUp=function(){e.get(k).to({y:MCO.GAME_HEIGHT},2e3*MCO.DEBUG_TIME_SCALE,f.cubicInOut).call(j.onFinishPan)},j.onFinishPan=function(){j.panComplete=!0},j.speedUpCompletion=function(){s=.5},j.updateLoadingBar=function(a){a||(j.panComplete&&(w+=Math.random()*s,w=Math.min(w,1),w>=1&&!j.loadComplete&&(j.loadComplete=!0,j.loadCompleteCallback&&setTimeout(function(){j.loadCompleteCallback()},300))),1>w&&setTimeout(function(){j.updateLoadingBar()},300+500*Math.random()))},j.updateLoadingProgress=function(a){var b=w?560*w:0;r=b,t=b+q,lerp=MCO.mathUtils.lerp,p.x=Math.ceil(lerp(p.x,t,.025)),v+=.007*a,p.y=u+20*Math.sin(v),o.scaleX=Math.ceil(lerp(o.scaleX,r,.05))},j.onResize=function(){if(this.skipBtn){var a=this;new g(function(){var b=-MCO.OFFSET.x/MCO.GAME_SCALE+80,c=-MCO.OFFSET.y/MCO.GAME_SCALE+80;a.skipBtn.x=MCO.GAME_WIDTH-200-b,a.skipBtn.y=MCO.GAME_HEIGHT-900-c},50)}i.onResize()},namespace("MCO").TitlePanel=h}(),function(){var a=function(a){function b(){a.manager&&a.manager.currentState&&a.manager.currentState.panel.onResize(),a.displays.forEach(function(a){a.render(0,!0)})}var c=include("createjs.Sound"),d=include("springroll.Application");window.removeEventListener("resize",a.triggerResize),window.addEventListener("resize",b),d.instance.triggerResize=b,a.sound.setMute=function(a){c.setMute(a)},a.sound.getMute=function(){return c.getMute()},a.sound.toggleMute=function(){c.setMute(!c.getMute())}};namespace("MCO").SpringRollPatch=a}(),document.addEventListener("touchmove",function(a){a.preventDefault()}),function(){var a=function(a){function b(){a.manager&&a.manager.currentState&&a.manager.currentState.panel.onResize(),a.displays.forEach(function(a){a.render(0,!0)})}var c=include("createjs.Sound"),d=include("springroll.Application");window.removeEventListener("resize",a.triggerResize),window.addEventListener("resize",b),d.instance.triggerResize=b,a.sound.setMute=function(a){c.setMute(a)},a.sound.getMute=function(){return c.getMute()},a.sound.toggleMute=function(){c.setMute(!c.getMute())}};namespace("MCO").SpringRollPatch=a}(),document.addEventListener("touchmove",function(a){a.preventDefault()}),function(){var a=include("springroll.easeljs.BaseState"),b=include("MCO.GamePanel"),c=function(c){a.call(this,new b,c),e=e.bind(this)},d=(a.prototype,extend(c,a));d.enterDone=function(){this.panel.frame.instance_1.addEventListener("mousedown",e),this._introPlayed||(this._introPlayed=!0,app.voPlayer.play("4.1_instux01-3"))};var e=function(){this.panel.saucer.hide(),this.panel.navCont.onCenterTouch()};namespace("MCO").GameState=c}(),function(){function a(){j.panel.removeEventListener("click",a),j.startPreload(),k.startLoading(),j.panel.panUp()}function b(){c()}function c(){l=!0,k.onLeaveIntro();var a=this;window.removeEventListener("blur",a.onBlur,!1),window.removeEventListener("focus",a.onFocus,!1),j.panel.skipBtn.removeEventListener("click",b),app.analytics.leaveLoadingScreen(),j.manager.next()}var d=include("MCO.TitlePanel"),e=include("MCO.OvgPlayer"),f=include("MCO.NativePlayer"),g=include("springroll.easeljs.BaseState"),h=include("springroll.DelayedCall"),i=function(a){g.call(this,new d(j.onLoadBarComplete),a),j.panel=this.panel},j=(g.prototype,extend(i,g)),k=null,l=!1;j.panel=null,j.videoLoaded=!1,j.contentloaded=!1,j.enterDone=function(){/iPhone|iPod/.test(navigator.platform)?k=new e(j.onVideoCompleteLoad,j.onEnded):(k=new f(j.onVideoCompleteLoad,j.onEnded),k.addVideo()),j.panel.on("click",a),j.manager=this.manager;var b=this;window.addEventListener("blur",b.onBlur,!1),window.addEventListener("focus",b.onFocus,!1)},j.onBlur=function(){k.pause()},j.onFocus=function(){k.tryPlayVideo()},j.startPreload=function(){var a=[],b=["4.1_instux01-2","4.1_instux01-3"];a.push(new springroll.SoundListTask("preloadingSounds",b)),springroll.TaskManager.process(a,function(){j.onContentLoaded()})},j.onVideoCompleteLoad=function(){j.videoLoaded=!0,j.tryPlayVideo()},j.onEnded=function(){new h(function(){c()},500)},j.onContentLoaded=function(){j.contentloaded=!0,j.tryPlayVideo()},j.onLoadBarComplete=function(){k.onContentLoaded(),j.tryPlayVideo()},j.tryPlayVideo=function(){l||j.videoLoaded&&j.contentloaded&&(j.panel.loadComplete?(k.tryPlayVideo(),j.panel.tryPlayVideo(),j.panel.skipBtn.on("click",b),document.getElementById("videoarea").style.visibility="visible"):j.panel.speedUpCompletion())},namespace("MCO").TitleState=i}(),function(){var a=function(a,c,f){d=a,e=c,isActive=f||!1,b.loadSounds(c),app.on("update",b.update),window.addEventListener("mousedown",b.resetProgress),window.addEventListener("touchstart",b.resetProgress,!1)},b=a.prototype,c=0,d=0,e=0;b.loadSounds=function(a){app.sound.preload(a)},b.update=function(a){isActive&&(c+=a,c>=d&&b.playVO())},b.setActive=function(a){isActive=a,a&&b.resetProgress()},b.playVO=function(){if(!app.captions.playing){var a=e[Math.floor(Math.random()*e.length)];app.voPlayer.play(a)}b.resetProgress()},b.resetProgress=function(){c=0},b.destroy=function(){app.off("update",b.update),window.removeEventListener("mousedown",b.resetProgress),window.removeEventListener("touchstart",b.resetProgress,!1),app.sound.unload(this.sounds)},namespace("MCO").ConstCompleteTO=a}(),function(){var a=include("MCO.RoundButton"),b=include("createjs.Bitmap"),c=function(c,d){var e=new a(c,d);e.soundIcon=new b(images.soundIcon),e.soundIcon.x=20,e.soundIcon.y=22,e.soundIcon.visible=!app.sound.getMute(),e.addChild(e.soundIcon),e.soundOffIcon=new b(images.soundOffIcon),e.soundOffIcon.x=20,e.soundOffIcon.y=22,e.soundOffIcon.visible=app.sound.getMute(),e.addChild(e.soundOffIcon);var f=function(){app.sound.setMute(!app.sound.getMute()),e.soundIcon.visible=!app.sound.getMute(),e.soundOffIcon.visible=app.sound.getMute()};return e.on("click",f),e};namespace("MCO").SoundBtn=c}(),function(){var a=include("createjs.Point"),b=b||{};b.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},b.getScaledPoint=function(b,c){var d=b/MCO.GAME_SCALE,e=c/MCO.GAME_SCALE;return d-=MCO.OFFSET.x/MCO.GAME_SCALE,e-=MCO.OFFSET.y/MCO.GAME_SCALE,new a(d,e)},b.getScaledPoint=function(b,c){var d=b/MCO.GAME_SCALE,e=c/MCO.GAME_SCALE;return d-=MCO.OFFSET.x/MCO.GAME_SCALE,e-=MCO.OFFSET.y/MCO.GAME_SCALE,new a(d,e)},namespace("MCO").utils=b}(),function(){var a=a||{};a.rndBool=function(){return Math.random()>.5},a.rndRange=function(a,b){if(isNaN(a)||isNaN(b))throw"Function expects two numbers";return Math.random()*(b-a)+a},a.rndIntRange=function(a,b){if(isNaN(a)||isNaN(b))throw"Function expects two numbers";return a=Math.floor(a),b=Math.floor(b),Math.floor(Math.random()*(b-a)+a)},a.lerp=function(a,b,c){return c=Math.min(c,1),a+c*(b-a)},namespace("MCO").mathUtils=a}(),function(){function a(){i.removeEventListener("canplaythrough",a,!1),i.removeEventListener("load",a,!1),j.onCompleteLoad()}function b(a,b,c){var d=document.createElement("source");d.src=b,d.type=c,a.appendChild(d)}var c=include("springroll.DelayedCall"),d=!1,e=!1,f=!1,g=!1,h=function(a,b){window.addEventListener("resize",j.onResize),window.addEventListener("orientationchange",j.onResize),app.container.on("soundMuted",k),j.loadCompleteCallback=a,j.endedCallback=b,document.getElementById("videoarea").style.visibility="hidden",this.heartbeat=null},i=null,j=h.prototype;j.loadCompleteCallback=null;var k=function(a){setTimeout(function(){i.muted=app.sound.getMute()},20)};j.endVideo=function(){g=!0,this.removeHeartbeat(),this.endedCallback&&this.endedCallback()},j.addVideo=function(){var a=!!document.createElement("video").canPlayType;a?(i=document.createElement("video"),i.setAttribute("id","video"),i.setAttribute("width",Math.ceil(app.display.width)+"px"),i.setAttribute("height",Math.ceil(app.display.width/1.5)+"px"),document.getElementById("videoarea").appendChild(i),i.muted=app.sound.getMute(),this.endVideo=this.endVideo.bind(this),i.addEventListener("ended",this.endVideo,!1),b(i,"assets/video/Intro.mp4","video/mp4"),b(i,"assets/video/Intro.ogv","video/ogv"),j.onResize()):endVideo()},j.startLoading=function(){!d&&i&&(d=!0,i.play(),4!==i.readyState?(i.addEventListener("canplaythrough",a,!1),i.addEventListener("load",a,!1)):j.onCompleteLoad(),setTimeout(function(){j.pause()},1))},j.onContentLoaded=function(){f=!0},j.onCompleteLoad=function(){e=!0,j.loadCompleteCallback(),this.iosHeartbeat()},j.onResize=function(){i&&(i.width=app.display.width,i.height=i.width/1.5)},j.pause=function(){i&&i.pause()},j.iosHeartbeat=function(){this.tryPlayVideo();var a=this;this.heartbeat=new c(function(){a.iosHeartbeat()},1e3)},j.removeHeartbeat=function(){this.heartbeat&&this.heartbeat.destroy()},j.tryPlayVideo=function(){i&&e&&f&&(document.getElementById("videoarea").style.visibility="visible",g||i.play())},j.onLeaveIntro=function(){j.removeVideo(!0)},j.removeVideo=function(b){if(app.container.off("soundMuted",k),window.removeEventListener("resize",j.onResize),window.removeEventListener("orientationchange",j.onResize),i){i.removeEventListener("canplaythrough",a,!1),i.removeEventListener("load",a,!1),i.removeEventListener("ended",this.endVideo,!1),i.pause();var c=i.parentNode;c.removeChild(i),b&&c.parentNode.removeChild(c)}i=null,this.removeHeartbeat()},namespace("MCO").NativePlayer=h}(),function(){function a(){f=!0,i.endedCallback&&i.endedCallback()}var b=null,c="assets/video/Intro.ogv",d=!1,e=!1,f=!1,g=function(a,b){i.loadCompleteCallback=a,i.endedCallback=b,app.container.on("soundMuted",h)},h=function(a){setTimeout(function(){b.muted=app.sound.getMute()},20)},i=g.prototype;i.loadCompleteCallback=null,i.startLoading=function(){e||(e=!0,i.play(),i.mockLoad())},i.mockLoad=function(){d?i.videoReadyCallback():setTimeout(function(){i.mockLoad()},100)},i.onContentLoaded=function(){},i.videoReadyCallback=function(){d=!0,i.loadCompleteCallback()},i.play=function(){b&&(b.stop(),b.parentNode.removeChild(b));var d={readyCallback:i.videoReadyCallback};b=new OGVPlayer(d),setTimeout(function(){b.muted=app.sound.getMute()},20),b.src=c,document.getElementById("videoarea").appendChild(b),b.addEventListener("ended",a,!1),app.triggerResize(),i.tryPlayVideo(),b.pause()},i.pause=function(){b&&b.pause()},i.tryPlayVideo=function(){b&&b.play()},i.onLeaveIntro=function(){i.removeVideo(!0)},i.removeVideo=function(a){if(app.container.off("soundMuted",h),b){b.stop();var c=b.parentNode;c.removeChild(b),a&&c.parentNode.removeChild(c)}b=null},namespace("MCO").OvgPlayer=g}(),function(){var a=include("springroll.Application"),b=include("springroll.EaselJSDisplay"),c=include("lib.Transition"),d=include("MCO.TitleState"),e=include("MCO.GameState"),f=include("springroll.ListTask"),g=include("MCO.SpringRollPatch"),h=include("MCO.Analytics"),i=new a({name:"MCO",fps:30,canvasId:"stage",resizeElement:"content",transition:new c,configPath:"assets/config/config.json",manifestsPath:"assets/config/manifests.json",captionsPath:"assets/config/captions.json",display:b,displayOptions:{clearView:!0},state:"title",transitionSounds:{"in":"transition",out:"transition"}});i.once("manifestLoaded",function(a){a.addTask(new f("UI",this.manifests.UI,function(a){for(var b in a)images[b]=a[b].content}))}),i.on("init",function(){i.analytics=new h;new g(i);i.voPlayer.captions.selfUpdate=!0;var a=this.config.assets;this.states={title:new d({next:"game",manifest:a.title}),game:new e({manifest:a.game})},this.container.on({soundMuted:j.bind(this),captionsMuted:k.bind(this),pause:l.bind(this)}),i.triggerResize()});var j=function(a){},k=function(a){},l=function(a){};window.MCO=MCO||{},MCO.DEBUG_TIME_SCALE=1,window.app=i}();