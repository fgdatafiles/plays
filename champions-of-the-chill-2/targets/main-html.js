/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(ke){function r(a,b){function c(){}c.prototype=a;var d=new c,g;for(g in b)d[g]=b[g];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function se(a){return a instanceof Array?function(){return t.iter(a)}:"function"==typeof a.iterator?p(a,a.iterator):a.iterator}function p(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=ze++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var f={},j=function(){return A.__string_rec(this,"")},hb=function(a,b){this.r=RegExp(a,b.split("u").join(""))};f.EReg=hb;hb.__name__=["EReg"];hb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new n("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new n("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:hb};var t=function(){};f.HxOverrides=t;t.__name__=["HxOverrides"];t.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new n("Invalid date format : "+
a);}};t.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};t.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};t.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};t.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var zc=function(){};f.Lambda=zc;zc.__name__=["Lambda"];zc.array=function(a){for(var b=[],a=se(a)();a.hasNext();){var c=
a.next();b.push(c)}return b};zc.count=function(a,b){var c=0;if(null==b)for(var d=se(a)();d.hasNext();)d.next(),++c;else for(d=se(a)();d.hasNext();){var g=d.next();b(g)&&++c}return c};var Ha=function(){this.length=0};f.List=Ha;Ha.__name__=["List"];Ha.prototype={add:function(a){a=new Ac(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},push:function(a){this.h=a=new Ac(a,this.h);null==this.q&&(this.q=a);this.length++},pop:function(){if(null==this.h)return null;var a=this.h.item;this.h=
this.h.next;null==this.h&&(this.q=null);this.length--;return a},isEmpty:function(){return null==this.h},iterator:function(){return new Rb(this.h)},__class__:Ha};var Ac=function(a,b){this.item=a;this.next=b};f["_List.ListNode"]=Ac;Ac.__name__=["_List","ListNode"];Ac.prototype={__class__:Ac};var Rb=function(a){this.head=a};f["_List.ListIterator"]=Rb;Rb.__name__=["_List","ListIterator"];Rb.prototype={hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;
return a},__class__:Rb};var O=function(){};f.Main=O;O.__name__=["Main"];O.onSuccess=function(a){O.bootstrapPack=a;if(l._platform.getTouch().get_supported())l._platform.getTouch().down.connect(function(){O.bootstrapPack.getSound("empty").play()}).once();l._platform.getStage().resize.connect(O.onResize);var b=K.fromBrowser(),c=b.query;if(null!=v.mute?c.existsReserved("mute"):c.h.hasOwnProperty("mute"))b=b.query,dc.stringToBool(null!=v.mute?b.getReserved("mute"):b.h.mute)&&y.mute(!0);O.onResize();b=
new Ia(a,"transition");U.defaultTransition(Bc,[b.createSprite("Transition",!0)]);U.init(a,Sb,["title_scene","global"]);a=new h;b=new oa(O.bootstrapPack.getFile("winter_sports.xml"));l.root.add(b);l.root.addChild(a,!1)};O.setBgLoop=function(a,b){null==b&&(b=1);null!=O.bgLoop&&O.bgLoop.dispose();null==a?O.bgLoop=null:(O.bgLoop=a.loop(),O.bgLoop.volume.set__(b))};O.setupConfig=function(){var a=new W,b="xml/config.xml";null!=I.externalBase?b=I.externalBase+"../xml/config.xml":null!=I.relativeBase&&(b=
Na.BASE_URL,"/"==b.charAt(b.length-1)&&(b=t.substr(b,0,-1)),b=b.split("/"),"assets"==b[b.length-1]&&b.pop(),b=b.join("/")+"/xml/config.xml");a.add("xml/config.xml",b);l._platform.loadAssetPack(a).get(function(a){oa.setConfig(a.getFile("xml/config.xml"));a.dispose();a="latin"==oa.charset?"strings/strings.xml":"strings/strings_ru.xml";o.init(O.localizationLoaded,new Cc,a)})};O.localizationLoaded=function(){var a=W.fromAssets("bootstrap");null!=I.externalBase?a.set_remoteBase(I.externalBase):null!=I.relativeBase&&
a.set_localBase(I.relativeBase);l._platform.loadAssetPack(a).get(O.onSuccess);Oa.sendGameEvent("onLoadingStart")};O.main=function(){l.init();Na.setupBaseURL();l.root.add(new Dc);var a=Na.BASE_URL;0<a.length&&"/"==a.charAt(a.length-1)&&(a=t.substr(a,0,-1));a=a.split("/");"assets"==a[a.length-1]&&a.pop();a=a.join("/");null!=a&&0<a.length&&(a+="/",aa.startsWith(a,"http://")||aa.startsWith(a,"https://")?(I.externalBase=a+"assets/",o.externalBase=a):(I.relativeBase=a+"assets/",o.relativeBase=a));O.setupConfig()};
O.onResize=function(){if(!(null==U.director||null==U.director.owner))if(null!=O.resizeScreen&&(O.resizeScreen.dispose(),O.resizeScreen=null),l._platform.getStage().get_height()>l._platform.getStage().get_width()){var a="orientation_iphone";640<l._platform.getStage().get_width()&&(a="orientation_ipad");l.root.add(new Ya(0));O.resizeScreen=(new h).add(new V(0,l._platform.getStage().get_width(),l._platform.getStage().get_height())).addChild(Tb.center((new h).add(new k(O.bootstrapPack.getTexture(a)))));
l.root.addChild(O.resizeScreen)}else a=l.root._compMap.SpeedAdjuster_21,null!=a&&a.dispose()};Math.__name__=["Math"];var ga=function(){};f.Reflect=ga;ga.__name__=["Reflect"];ga.field=function(a,b){try{return a[b]}catch(c){return null}};ga.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};ga.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};ga.deleteField=function(a,
b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var z=function(){};f.Std=z;z.__name__=["Std"];z.string=function(a){return A.__string_rec(a,"")};z.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==t.cca(a,1)||88==t.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};z.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var ib=function(){this.b=""};f.StringBuf=ib;ib.__name__=["StringBuf"];ib.prototype={__class__:ib};var aa=function(){};f.StringTools=aa;aa.__name__=
["StringTools"];aa.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};aa.startsWith=function(a,b){return a.length>=b.length?t.substr(a,0,b.length)==b:!1};aa.isSpace=function(a,b){var c=t.cca(a,b);return 8<c&&14>c?!0:32==c};aa.ltrim=function(a){for(var b=a.length,c=0;c<b&&aa.isSpace(a,c);)++c;return 0<c?t.substr(a,c,b-c):a};aa.rtrim=function(a){for(var b=a.length,c=0;c<b&&aa.isSpace(a,
b-c-1);)++c;return 0<c?t.substr(a,0,b-c):a};aa.trim=function(a){return aa.ltrim(aa.rtrim(a))};aa.replace=function(a,b,c){return a.split(b).join(c)};var E=f.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};E.TNull=["TNull",0];E.TNull.toString=j;E.TNull.__enum__=E;E.TInt=["TInt",1];E.TInt.toString=j;E.TInt.__enum__=E;E.TFloat=["TFloat",2];E.TFloat.toString=j;E.TFloat.__enum__=E;E.TBool=["TBool",3];E.TBool.toString=j;E.TBool.__enum__=
E;E.TObject=["TObject",4];E.TObject.toString=j;E.TObject.__enum__=E;E.TFunction=["TFunction",5];E.TFunction.toString=j;E.TFunction.__enum__=E;E.TClass=function(a){a=["TClass",6,a];a.__enum__=E;a.toString=j;return a};E.TEnum=function(a){a=["TEnum",7,a];a.__enum__=E;a.toString=j;return a};E.TUnknown=["TUnknown",8];E.TUnknown.toString=j;E.TUnknown.__enum__=E;var P=function(){};f.Type=P;P.__name__=["Type"];P.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};P.getEnumName=function(a){return a.__ename__.join(".")};
P.resolveClass=function(a){a=f[a];return null==a||!a.__name__?null:a};P.resolveEnum=function(a){a=f[a];return null==a||!a.__ename__?null:a};P.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],
b[11],b[12],b[13]);default:throw new n("Too many arguments");}};P.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};P.createEnum=function(a,b,c){var d=ga.field(a,b);if(null==d)throw new n("No such constructor "+b);if(ga.isFunction(d)){if(null==c)throw new n("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new n("Constructor "+b+" does not need parameters");return d};P["typeof"]=function(a){switch(typeof a){case "boolean":return E.TBool;
case "function":return a.__name__||a.__ename__?E.TObject:E.TFunction;case "number":return Math.ceil(a)==a%2147483648?E.TInt:E.TFloat;case "object":if(null==a)return E.TNull;var b=a.__enum__;if(null!=b)return E.TEnum(b);a=A.getClass(a);return null!=a?E.TClass(a):E.TObject;case "string":return E.TClass(String);case "undefined":return E.TNull;default:return E.TUnknown}};var m=function(a){this.nodeType=a;this.children=[];this.attributeMap=new Q};f.Xml=m;m.__name__=["Xml"];m.parse=function(a){return sb.parse(a)};
m.createElement=function(a){var b=new m(m.Element);if(b.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};m.createPCData=function(a){var b=new m(m.PCData);if(b.nodeType==m.Document||b.nodeType==m.Element)throw new n("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};m.createCData=function(a){var b=new m(m.CData);if(b.nodeType==m.Document||b.nodeType==m.Element)throw new n("Bad node type, unexpected "+b.nodeType);b.nodeValue=
a;return b};m.createComment=function(a){var b=new m(m.Comment);if(b.nodeType==m.Document||b.nodeType==m.Element)throw new n("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};m.createDocType=function(a){var b=new m(m.DocType);if(b.nodeType==m.Document||b.nodeType==m.Element)throw new n("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};m.createProcessingInstruction=function(a){var b=new m(m.ProcessingInstruction);if(b.nodeType==m.Document||b.nodeType==m.Element)throw new n("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};m.createDocument=function(){return new m(m.Document)};m.prototype={get:function(a){if(this.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=v[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+this.nodeType);var c=this.attributeMap;null!=v[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=
m.Element)throw new n("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},attributes:function(){if(this.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},elements:function(){if(this.nodeType!=m.Document&&this.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=[],b=0,c=this.children;b<
c.length;){var d=c[b];++b;d.nodeType==m.Element&&a.push(d)}return t.iter(a)},elementsNamed:function(a){if(this.nodeType!=m.Document&&this.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,d=this.children;c<d.length;){var g=d[c];++c;var B;if(g.nodeType==m.Element){if(g.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+g.nodeType);B=g.nodeName==a}else B=!1;B&&b.push(g)}return t.iter(b)},firstElement:function(){if(this.nodeType!=
m.Document&&this.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==m.Element)return c}return null},addChild:function(a){if(this.nodeType!=m.Document&&this.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=
m.Document&&this.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+this.nodeType);return t.remove(this.children,a)?(a.parent=null,!0):!1},__class__:m};var Za=function(){};f["flambe.util.Disposable"]=Za;Za.__name__=["flambe","util","Disposable"];Za.prototype={__class__:Za};var s=function(){this._flags=0;this.owner=this.next=null};f["flambe.Component"]=s;s.__name__=["flambe","Component"];s.__interfaces__=[Za];s.prototype={onAdded:function(){},onRemoved:function(){},
onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:s};var J=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};f["flambe.math.Point"]=J;J.__name__=["flambe","math","Point"];J.prototype={__class__:J};var i=function(){this._sinCache=this._cosCache=0;this.blendMode=this.scissor=null;var a=this;s.call(this);this._flags|=182;this._localMatrix=new Pa;var b=function(){a._flags|=
24};this.x=new x(0,b);this.y=new x(0,b);this.rotation=new x(0,function(){a._flags|=152});this.scaleX=new x(1,b);this.scaleY=new x(1,b);this.anchorX=new x(0,b);this.anchorY=new x(0,b);this.alpha=new x(1)};f["flambe.display.Sprite"]=i;i.__name__=["flambe","display","Sprite"];i.hitTest=function(a,b,c){var d=a._compMap.Sprite_1;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,i._scratchPoint)&&(b=i._scratchPoint.x,c=i._scratchPoint.y);var g=d.scissor;if(null!=g&&!g.contains(b,
c))return null}a=i.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};i.getBounds=function(a,b){null==b&&(b=new $a);b.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);i.getBoundsImpl(a,null,b);b.width-=b.x;b.height-=b.y;return b};i.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var d=c.alpha._value;if(0==(c._flags&2)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);
var d=c.getLocalMatrix(),g=d.m02,B=d.m12;0!=(c._flags&32)&&(g=Math.round(g),B=Math.round(B));b.transform(d.m00,d.m10,d.m01,d.m11,g,B);d=c.scissor;null!=d&&b.applyScissor(d.x,d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_22;if(null!=d){d=d.occludedScenes;for(g=0;g<d.length;)B=d[g],++g,i.render(B,b)}for(d=a.firstChild;null!=d;)g=d.next,i.render(d,b),d=g;null!=c&&b.restore()};i.hitTestBackwards=function(a,b,c){if(null!=a){var d=i.hitTestBackwards(a.next,b,c);return null!=d?d:i.hitTest(a,b,c)}return null};
i.getBoundsImpl=function(a,b,c){var d=a._compMap.Sprite_1;if(null!=d){var b=null!=b?Pa.multiply(b,d.getLocalMatrix()):d.getLocalMatrix(),g=d.getNaturalWidth(),d=d.getNaturalHeight();0<g&&0<d&&(i.extendRect(b,0,0,c),i.extendRect(b,g,0,c),i.extendRect(b,g,d,c),i.extendRect(b,0,d,c))}g=a._compMap.Director_22;if(null!=g)for(var g=g.occludedScenes,d=0,B=g.length;d<B;)i.getBoundsImpl(g[d],b,c),++d;for(a=a.firstChild;null!=a;)g=a.next,i.getBoundsImpl(a,b,c),a=g};i.extendRect=function(a,b,c,d){a=a.transform(b,
c,i._scratchPoint);b=a.x;c=a.y;b<d.x&&(d.x=b);c<d.y&&(d.y=c);b>d.width&&(d.width=b);c>d.height&&(d.height=c)};i.__super__=s;i.prototype=r(s.prototype,{get_name:function(){return"Sprite_1"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b?b<this.getNaturalHeight():!1},getLocalMatrix:function(){if(0!=(this._flags&8)){if(0!=((this._flags&=-9)&128)){this._flags&=-129;var a=3.141592653589793*this.rotation._value/
180;this._sinCache=Math.sin(a);this._cosCache=Math.cos(a)}var a=this.scaleX._value,b=this.scaleY._value;this._localMatrix.set(this._cosCache*a,this._sinCache*a,-this._sinCache*b,this._cosCache*b,this.x._value,this.y._value);this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value)}return this._localMatrix},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/
2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setRotation:function(a){this.rotation.set__(a);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=
null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_1;if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new M);return this._pointerDown},get_pointerMove:function(){null==
this._pointerMove&&(this._pointerMove=new M);return this._pointerMove},get_pointerUp:function(){null==this._pointerUp&&(this._pointerUp=new M);return this._pointerUp},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=l._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;null!=a._hoverConnection&&(a._hoverConnection.dispose(),a._hoverConnection=
null)}))},set_visible:function(a){this._flags=ec.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=ec.set(this._flags,4,a);return a},set_pixelSnapping:function(a){this._flags=ec.set(this._flags,32,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||
null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){1==a.source[1]&&(null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null));null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:i});var Qa=function(a,b,c,d){i.call(this);this._pack=a;this.id=c;this._holder=new h;this._imageDir=b;this._iconId=d;this.select=new M};
f["com.nick.wintersports.components.Button"]=Qa;Qa.__name__=["com","nick","wintersports","components","Button"];Qa.__super__=i;Qa.prototype=r(i.prototype,{onAdded:function(){var a=new N;this.owner.add(a);this.build();a.connect2(this._hitArea._compMap.ButtonMode2_13.over.get_changed(),p(this,this.onOverChanged));a.connect1(this._hitArea._compMap.Sprite_1.get_pointerDown(),p(this,this.onDown));a.connect1(this._hitArea._compMap.Sprite_1.get_pointerUp(),p(this,this.onUp))},build:function(){this._holder.add(new i);
this.owner.addChild(this._holder);var a=new k(this._pack.getTexture(this._imageDir+"/down"));a.disablePointer();a.set_visible(!1);this._down=(new h).add(a);this._holder.addChild(this._down);var b=new k(this._pack.getTexture(this._imageDir+"/over"));b.disablePointer();b.set_visible(!1);this._over=(new h).add(b);this._holder.addChild(this._over);b=new k(this._pack.getTexture(this._imageDir+"/out"));b.disablePointer();this._out=(new h).add(b);this._holder.addChild(this._out);null!=this._iconId&&(b="sound"==
this._iconId?new Ec(this._pack,this._imageDir):new k(this._pack.getTexture(this._imageDir+"/icon_"+this._iconId)),this._icon=(new h).add(b),this._holder.addChild(this._icon));a=new V(4539796,a.getNaturalWidth(),a.getNaturalHeight());a.setXY(4,4);a.alpha.set__(0);this._hitArea=(new h).add(a);this.owner.addChild(this._hitArea);this.owner.add(new wa);this._hitArea.add(new X)},onOverChanged:function(a){this._holder._compMap.Sprite_1.setXY(0,0);a?(this._down._compMap.Sprite_1.set_visible(!1),this._over._compMap.Sprite_1.set_visible(!0),
this._out._compMap.Sprite_1.set_visible(!1)):(this._down._compMap.Sprite_1.set_visible(!1),this._over._compMap.Sprite_1.set_visible(!1),this._out._compMap.Sprite_1.set_visible(!0))},onDown:function(){this._isDown=!1;this._holder._compMap.Sprite_1.setXY(1,1);this._down._compMap.Sprite_1.set_visible(!0);this._over._compMap.Sprite_1.set_visible(!1);this._out._compMap.Sprite_1.set_visible(!1)},onUp:function(){var a=this;this._isDown=!0;this._holder._compMap.Sprite_1.setXY(0,0);this._down._compMap.Sprite_1.set_visible(!1);
this._over._compMap.Sprite_1.set_visible(!0);this._out._compMap.Sprite_1.set_visible(!1);var b=function(){a.select.emit(a)};if(this._isDown){var c=this.owner._compMap.TimeUtil_15;c.clear(this._asynchTimeoutId,!1);this._asynchTimeoutId=c.timeout(b,0.1)}},dispose:function(){i.prototype.dispose.call(this);this.select=this._icon=this._pack=this._hitArea=this._out=this._over=this._holder=this._down=null},__class__:Qa});var Fb=function(a,b){i.call(this);this._pack=a;this._globalPack=b};f["com.nick.wintersports.components.CharacterChooserPrompt"]=
Fb;Fb.__name__=["com","nick","wintersports","components","CharacterChooserPrompt"];Fb.__super__=i;Fb.prototype=r(i.prototype,{onAdded:function(){var a=this,b=new N;null==b&&(b=new N,this.owner.add(b));this._entity=(new h).add(new i);this.selectionSig=new M;var c=new V(10278143,1366,768);c.alpha.set__(0.56);this._entity.addChild((new h).add(c));c=new k(this._pack.getTexture("menuBg"));c.centerAnchor();c.x.set__(693);c.y.set__(443);c=(new h).add(c);this._entity.addChild(c);this._heading=new h;c.addChild(this._heading);
this._body=new h;c.addChild(this._body);var d=["spongeBob","turtles","breadWinners","winx"];this._btns=[];for(var g,B,e,f=0,ba=d.length;f<ba;){var j=f++;B=Math.floor(j/2);e=j%2;g=new Fc(this._pack,this._globalPack,"characterChooserPrompt."+d[j],j);g.setXY(160*e+92,126*B+90);this._btns[j]=(new h).add(g);c.addChild(this._btns[j]);b.add(g.select.connect(function(b){a.buttonPressed(b.id)}))}this.set_visible(!1);this.owner.addChild(this._entity)},prompt:function(a){null==a&&(a=!0);var b=o.getField("characterChooserPrompt.heading",
0,w.Center);b.setXY(230,46);this._heading.add(b);this.set_visible(!0);a&&(this.alpha.set__(0),this.alpha.animateTo(1,0.5))},buttonPressed:function(a){this.selectionSig.emit(a)},dispose:function(){i.prototype.dispose.call(this);this._heading=this._body=this._entity=this._globalPack=this._pack=this.selectionSig=null;y.breakUpArray(this._btns);this._btns=null},__class__:Fb});var Gb=function(a){i.call(this);this._globalPack=a};f["com.nick.wintersports.components.DistanceProgress"]=Gb;Gb.__name__=["com",
"nick","wintersports","components","DistanceProgress"];Gb.__super__=i;Gb.prototype=r(i.prototype,{onAdded:function(){var a=new k(this._globalPack.getTexture("distance_progress/backing"));this._backing=(new h).add(a);this.owner.addChild(this._backing);a=new k(this._globalPack.getTexture("distance_progress/bar"));a.setXY(55,9);a.scissor=new $a(0,a.getNaturalHeight(),a.getNaturalWidth(),a.getNaturalHeight());this._bar=(new h).add(a);this.owner.addChild(this._bar)},setLoc:function(a){null!=this._text&&
this._text.dispose();a=o.getField(a,0,w.Right);a.rotation.set__(-90);a.setXY(16,66);this._text=(new h).add(a);this.owner.addChild(this._text)},update:function(a){var b=this._bar._compMap.Sprite_1,c=b.getNaturalHeight(),d=b.getNaturalHeight();b.scissor.y=c-0.8203*d*Math.min(1,a)},dispose:function(){i.prototype.dispose.call(this);this._text=this._bar=this._backing=this._globalPack=null},__class__:Gb});var Gc=function(a,b,c,d){null==c&&(c=-1);i.call(this);this._pack=a;this.id=c;this._path=null==d?"ui/stub_btn_":
d;a=o.getField(b,0,w.Center);this._text=new h;this._down=new h;this._over=new h;this._out=new h;this._holder=new h;this._hitArea=new h;this.select=new M;this._text.add(a)};f["com.nick.wintersports.components.EnterCodeButton"]=Gc;Gc.__name__=["com","nick","wintersports","components","EnterCodeButton"];Gc.__super__=i;Gc.prototype=r(i.prototype,{onAdded:function(){var a=new N;this.owner.add(a);this.owner.add(new wa);this.build();a.connect2(this._hitArea._compMap.ButtonMode2_13.over.get_changed(),p(this,
this.onOverChanged));a.connect1(this._hitArea._compMap.Sprite_1.get_pointerDown(),p(this,this.onDown));a.connect1(this._hitArea._compMap.Sprite_1.get_pointerUp(),p(this,this.onUp))},build:function(){var a=new k(this._pack.getTexture(this._path+"down")),b=new k(this._pack.getTexture(this._path+"over")),c=new k(this._pack.getTexture(this._path+"out")),d=new i,g=new V(4539796,a.getNaturalWidth(),a.getNaturalHeight());g.setXY(4,4);g.alpha.set__(0);a.disablePointer();b.disablePointer();c.disablePointer();
a.set_visible(!1);b.set_visible(!1);this._down.add(a);this._over.add(b);this._out.add(c);this._hitArea.add(g);a=90-i.getBounds(this._text).height/2;this._text._compMap.Sprite_1.setXY(g.width._value/2-2,a).disablePointer();this.owner.addChild(this._hitArea);this._holder.add(d);this._holder.addChild(this._down);this._holder.addChild(this._over);this._holder.addChild(this._out);this._holder.addChild(this._text);this.owner.addChild(this._holder);this._hitArea.add(new X)},onOverChanged:function(a){this._holder._compMap.Sprite_1.setXY(0,
0);a?(this._down._compMap.Sprite_1.set_visible(!1),this._over._compMap.Sprite_1.set_visible(!0),this._out._compMap.Sprite_1.set_visible(!1)):(this._down._compMap.Sprite_1.set_visible(!1),this._over._compMap.Sprite_1.set_visible(!1),this._out._compMap.Sprite_1.set_visible(!0))},onDown:function(){this._isDown=!0;this._holder._compMap.Sprite_1.setXY(1,1);this._down._compMap.Sprite_1.set_visible(!0);this._over._compMap.Sprite_1.set_visible(!1);this._out._compMap.Sprite_1.set_visible(!1)},onUp:function(){var a=
this;this._holder._compMap.Sprite_1.setXY(0,0);this._down._compMap.Sprite_1.set_visible(!1);this._over._compMap.Sprite_1.set_visible(!0);this._out._compMap.Sprite_1.set_visible(!1);var b=function(){a.select.emit(a)};if(this._isDown){this._pack.getSound("sound/button_click").play();var c=this.owner._compMap.TimeUtil_15;c.clear(this._asynchTimeoutId,!1);this._asynchTimeoutId=c.timeout(b,0.1)}this._isDown=!1},dispose:function(){i.prototype.dispose.call(this);this.select=this._pack=this._hitArea=this._text=
this._out=this._over=this._holder=this._down=null},__class__:Gc});var Hb=function(){i.call(this)};f["com.nick.wintersports.components.GameContainer"]=Hb;Hb.__name__=["com","nick","wintersports","components","GameContainer"];Hb.__super__=i;Hb.prototype=r(i.prototype,{setUpdateFunction:function(a){this._onUpdateFunction=a},onUpdate:function(a){null!=this._onUpdateFunction&&this._onUpdateFunction(a)},dispose:function(){i.prototype.dispose.call(this);this._onUpdateFunction=null},__class__:Hb});var oa=
function(a){s.call(this);if(null!=oa._instance)throw new n("Already instantiated.");oa._instance=this;this._gameNames=["HockeyGameScene","BobsledGameScene","SnowboardGameScene","SkiJumpGameScene"];this._fDoc=a;this._xDoc=m.parse(this._fDoc.toString());this._xUnstoredData=ca.doRetNodes(ca.getNew(this._xDoc).child(function(a){if(a.nodeType==m.Element){if(a.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+a.nodeType);return"unstoredData"==a.nodeName}return!1})).next();this._shownInstructions=
[]};f["com.nick.wintersports.components.GameTracker"]=oa;oa.__name__=["com","nick","wintersports","components","GameTracker"];oa.setConfig=function(a){a=m.parse(a.toString()).firstElement().firstElement();if(a.nodeType!=m.Document&&a.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+a.nodeType);for(a=t.iter(a.children);a.hasNext();){var b=a.next(),c;if(b.nodeType==m.Element){if(b.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+b.nodeType);
c="region"==b.nodeName}else c=!1;c&&(oa.charset=b.get("charset"));if(b.nodeType==m.Element){if(b.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+b.nodeType);c="canadaTracking"==b.nodeName}else c=!1;c&&(oa.doCanadaTracking="true"==b.get("enabled"));if(b.nodeType==m.Element){if(b.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+b.nodeType);c="levels"==b.nodeName}else c=!1;c&&(oa.levelsUnlocked=z.parseInt(b.get("enabled")))}};oa.__super__=s;oa.prototype=
r(s.prototype,{get_name:function(){return"GameTracker_12"},onAdded:function(){var a=new N;this.owner.add(a);a.connect1(l._platform.getKeyboard().down,p(this,this.onKeyDown))},loadState:function(a){null==a&&(a=!1);null==l._platform.getStorage().get("nick_winter_sports")||a?this.resetGame():(this._xStoredState=m.parse(l._platform.getStorage().get("nick_winter_sports")).elements().next(),null==this._xStoredState.get("chosenCharacter")&&this.setUserCharacter(0))},storeState:function(){l._platform.getStorage().set("nick_winter_sports",
fc.print(this._xStoredState))},initialize:function(){this.savedStateExisted=null!=l._platform.getStorage().get("nick_winter_sports")},onKeyDown:function(a){l._platform.getKeyboard().isDown(e.Shift)&&a.key!=e.X&&a.key==e.C&&l._platform.getStorage().remove("nick_winter_sports")},setInstructionsShown:function(a){0>this._shownInstructions.indexOf(a)&&this._shownInstructions.push(a)},getInstructionsShown:function(a){return 0<=this._shownInstructions.indexOf(a)},get_characterSelected:function(){return-1!=
z.parseInt(this._xStoredState.get("chosenCharacter"))},setUserCharacter:function(a){this._xStoredState.set("chosenCharacter",null==a?"null":""+a);this.storeState()},getCharacterIds:function(){var a=[0,1,2,3],b=z.parseInt(this._xStoredState.get("chosenCharacter"));a.splice(a.indexOf(b),1);a.unshift(b);return a},allGameCheatUnlocked:function(){var a;return a=(a=(a=(a=this.getGameCheatUnlocked("HockeyGameScene"))?this.getGameCheatUnlocked("BobsledGameScene"):!1)?this.getGameCheatUnlocked("SnowboardGameScene"):
!1)?this.getGameCheatUnlocked("SkiJumpGameScene"):!1},determineAndRecordMedal:function(a,b){var c=this.getGameMedalThresholds(a),d=0;c.reverse();for(var g=0,B=c.length;g<B;){var e=g++;if(c[e]<=b){d=3-e;break}}this.distributeOpponentMedals(a,d);this.addMedal(a,d);return d},distributeOpponentMedals:function(a,b){var c=[0,1,2,3];c.splice(c.indexOf(b),1);c.sort(function(){return 0.5>Math.random()?-1:1});this._xStoredState.elementsNamed("opponents").next();for(var d=1;4>d;){var g=d++;this.addMedal(a,c[g-
1],g)}},getGameMedalThresholds:function(a){for(var a=this._getGame(a,this._xUnstoredData).get("medalThresholds").toString().split(","),b=[],c=0,d=a.length;c<d;){var g=c++;b[g]=z.parseInt(a[g])}return b},getMedalPoints:function(a){for(var a=this.getMedalCount(a),b=[],c=0,d=a.length;c<d;){var g=c++;b[g]=0}c=0;for(d=a.length;c<d;)g=c++,b[g]+=g*a[g];return b},getMedalPointTotal:function(a){for(var a=this.getMedalPoints(a),b=0,c=0,d=a.length;c<d;)var g=c++,b=b+a[g];return b},getPlacement:function(a){return this.getContestantOrder().indexOf(a)},
getContestantOrder:function(){var a=[],b,c=[];for(b=0;4>b;){var d=b++;a[d]=this.getMedalPointTotal(d)}b=a.concat([]);b.sort(function(a,b){return a==b?0:a<b?1:-1});for(var d=0,g=a.length;d<g;){var B=d++,e=b.indexOf(a[B]);c[e]=B;b[e]=-1}return c},getMedalCount:function(a){if(0>a||3<a)throw new n("Out of range: "+a);var b=[0,0,0,0];this._xStoredState.elementsNamed("games").next().elements();for(var c=0,d=this._gameNames.length;c<d;)for(var g=this.getMedalsEarned(this._gameNames[c++],a),B=0;3>B;){var e=
B++;0<=g[e]&&b[g[e]]++}return b},getTotalGamePlays:function(){for(var a=this.getMedalCount(0),b=0,c=0,d=a.length;c<d;)var g=c++,b=b+a[g];return b},getGamesComplete:function(){return this.getTotalGamePlays()==3*this._gameNames.length},getMedalsEarned:function(a,b){return this.strToIntArr(this._getGame(a,this._xStoredState,b).get("medalsEarned"))},strToIntArr:function(a){for(var a=a.split(","),b=[],c=0,d=a.length;c<d;){var g=c++;b[g]=z.parseInt(a[g])}return b},getGameUnlocked:function(a){a=this._getGame(a,
this._xUnstoredData).get("index").toString();a=z.parseInt(a);return oa.levelsUnlocked>=a},getGameGameCheatCode:function(a){return this._getGame(a,this._xUnstoredData).get("cheatCode").toString()},getGameCheatUnlocked:function(a){return dc.stringToBool(z.string(this._getGame(a,this._xStoredState).get("cheatUnlocked")))},setGameCheatUnlocked:function(a,b){this._getGame(a,this._xStoredState).set("cheatUnlocked",b?"1":"0");this.storeState()},_getGame:function(a,b,c){null==c&&(c=0);if(null==a)throw new n("Must be valid id.");
var d=b.elementsNamed("games").next();0==c?b=d:(b=b.elementsNamed("opponents").next(),b=ca.doRetNodes(ca.getNew(b).desc(function(a){return ca.doGetAttribs(ca.getNew(a).a(function(a){return"id"==a}))==z.string(c-1)})).next());b=ca.doRetNodes(ca.getNew(b).desc(function(b){return ca.doGetAttribs(ca.getNew(b).a(function(a){return"id"==a}))==a})).next();if(null==b)throw new n("Node by id '"+a+"' doesn't exist.");return b},getMedals:function(a,b){null==b&&(b=0);for(var c=this._getGame(a,this._xStoredState,
b).get("medalsEarned").toString().split(","),d=[],g=0,B=c.length;g<B;){var e=g++;d[e]=z.parseInt(c[e])}return d},addMedal:function(a,b,c){null==c&&(c=0);var d=this.getMedals(a,c);if(3<b)throw new n("Medal out of range 0-3.");if(-1!=d[d.length-1])throw new n("Only three medals allowed per game.");for(var g=0,B=d.length;g<B;){var e=g++;if(-1==d[e]){d[e]=b;break}}this._getGame(a,this._xStoredState,c).set("medalsEarned",d.join(","));this.storeState()},clearGameMedals:function(a){for(var b=0;4>b;){var c=
b++;this._getGame(a,this._xStoredState,c).set("medalsEarned","-1,-1,-1")}this.storeState()},clearAllMedals:function(){for(var a=0,b=this._gameNames.length;a<b;)this.clearGameMedals(this._gameNames[a++]);this.storeState()},resetGame:function(){l._platform.getStorage().remove("nick_winter_sports");this._xStoredState=ca.doRetNodes(ca.getNew(this._xDoc).child(function(a){if(a.nodeType==m.Element){if(a.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+a.nodeType);return"initialStoredState"==
a.nodeName}return!1})).next();this.storeState()},dispose:function(){s.prototype.dispose.call(this);this._shownInstructions=this._gameNames=this._gamesNode=this._xUnstoredData=this._xStoredState=this._xDoc=this._fDoc=null},__class__:oa});var Y=function(a,b){this._pageNumber=0;i.call(this);this._pack=a;this._globalPack=b};f["com.nick.wintersports.components.InstructionScreen"]=Y;Y.__name__=["com","nick","wintersports","components","InstructionScreen"];Y.__super__=i;Y.prototype=r(i.prototype,{onAdded:function(){var a=
this,b=this.owner._compMap.Disposer_18;null==b&&(b=new N,this.owner.add(b));this._rootContainer=(new h).add(new i);this.doneSignal=new ia;var c=new k(this._globalPack.getTexture("instructions_scene/bg"));c.x.set__(683-c.getNaturalWidth()/2);c.y.set__(384-c.getNaturalHeight()/2);this._rootContainer.addChild((new h).add(c));this._heading=new h;this._rootContainer.addChild(this._heading);this._body=new h;this._rootContainer.addChild(this._body);c=o.getField("instructions.title",420,w.Center);c.setXY(450,
85);c.setScale(0.85);this._panel1=new h;this._panel2=new h;this._panel3=new h;this._rootContainer.addChild((new h).add(c));this._rootContainer.addChild(this._panel1);this._rootContainer.addChild(this._panel2);this._rootContainer.addChild(this._panel3);c=new V(10278143,1366,768);c.alpha.set__(0);this._rootContainer.addChild((new h).add(c));var d=new ja(this._globalPack,"instructions.button");d.setXY(540,675);this._rootContainer.addChild((new h).add(d));b.add(d.select.connect(function(){a.nextOperation()}));
this.ready();this.owner.addChild(this._rootContainer);fa.get_mobile()&&b.add(c.get_pointerUp().connect(function(){a.nextOperation()}))},nextOperation:function(){this._pageNumber++},pageOne:function(){},show:function(){this.pageOne();this._pageNumber=0;this.set_visible(!0)},ready:function(){},done:function(){this.set_visible(!1);this.doneSignal.emit()},dispose:function(){i.prototype.dispose.call(this);this._btn=this._panel3=this._panel2=this._panel1=this._heading=this._body=this._rootContainer=this._globalPack=
this._pack=this.doneSignal=null},__class__:Y});var Ec=function(a,b){i.call(this);this._pack=a;this._imageDir=b};f["com.nick.wintersports.components.MuteButtonIcon"]=Ec;Ec.__name__=["com","nick","wintersports","components","MuteButtonIcon"];Ec.__super__=i;Ec.prototype=r(i.prototype,{onAdded:function(){var a=this.owner._compMap.Disposer_18;null==a&&(a=new N,this.owner.add(a));var b=new k(this._pack.getTexture(this._imageDir+"/icon_sound_on"));this._soundOn=(new h).add(b);this.owner.addChild(this._soundOn);
b=new k(this._pack.getTexture(this._imageDir+"/icon_sound_off"));this._soundOff=(new h).add(b);this.owner.addChild(this._soundOff);a.connect2(y.muted.get_changed(),p(this,this.onMuteChanged));this.onMuteChanged(y.muted._value,!1)},onMuteChanged:function(a){var b=this._soundOn._compMap.Sprite_1,c=this._soundOff._compMap.Sprite_1;a?(b.set_visible(!1),c.set_visible(!0)):(b.set_visible(!0),c.set_visible(!1))},dispose:function(){i.prototype.dispose.call(this);this._soundOff=this._soundOn=this._pack=null},
__class__:Ec});var tb=function(a){i.call(this);this._globalPack=a;this.removed=new ia;this.quit=new ia;this.gotoInstructions=new ia};f["com.nick.wintersports.components.PauseScreen"]=tb;tb.__name__=["com","nick","wintersports","components","PauseScreen"];tb.__super__=i;tb.prototype=r(i.prototype,{onAdded:function(){var a=new N;this.owner.add(a);var b=new V(10278143,1366,768);b.alpha.set__(0.56);this._overlay=(new h).add(b);this.owner.addChild(this._overlay);b=new k(this._globalPack.getTexture("pause_screen/ice_panel"));
b.setXY(683-b.getNaturalWidth()/2,150);this._ice=(new h).add(b);this.owner.addChild(this._ice);this._buttons=[];for(var c=["play","help","sound","close"],d,g,B=0;4>B;){var e=B++;d=Math.floor(e/2);g=e%2;b=new Qa(this._globalPack,"pause_screen/btns",e,c[e]);b.setXY(192*g+482,162*d+240);this._buttons[e]=(new h).add(b);this.owner.addChild(this._buttons[e]);a.connect1(b.select,p(this,this.handleButtonSelect))}},handleButtonSelect:function(a){if(0==a.id)this.set_visible(!1),this.removed.emit();else if(1==
a.id)this.set_visible(!1),this.gotoInstructions.emit();else if(2==a.id)y.mute(!y.muted._value);else if(3==a.id)this.quit.emit();else throw new n("Oops.");},dispose:function(){i.prototype.dispose.call(this);this.gotoInstructions=this.removed=this.quit=this._ice=this._overlay=this._globalPack=null;y.breakUpArray(this._buttons);this._buttons=null},__class__:tb});var jb=function(a){i.call(this);this._globalPack=a};f["com.nick.wintersports.components.Prompt"]=jb;jb.__name__=["com","nick","wintersports",
"components","Prompt"];jb.__super__=i;jb.prototype=r(i.prototype,{onAdded:function(){var a=this,b=new N;null==b&&(b=new N,this.owner.add(b));this._entity=(new h).add(new i);this.selectionSig=new M;var c=new V(10278143,1366,768);c.alpha.set__(0.56);this._entity.addChild((new h).add(c));c=new k(this._globalPack.getTexture("prompt/ice"));c.x.set__(683-c.getNaturalWidth()/2);c.y.set__(384-c.getNaturalHeight()/2);c=(new h).add(c);this._entity.addChild(c);this._heading=new h;c.addChild(this._heading);this._body=
new h;c.addChild(this._body);var d=new ja(this._globalPack,"prompt.yes");d.setXY(136,240);var g=(new h).add(d);c.addChild(g);b.add(d.select.connect(function(){a.buttonPressed(!0)}));d=new ja(this._globalPack,"prompt.no");d.setXY(136,320);g=(new h).add(d);c.addChild(g);b.add(d.select.connect(function(){a.buttonPressed(!1)}));this.set_visible(!1);this.owner.addChild(this._entity)},prompt:function(a,b){null==b&&(b=!0);var c=o.getField(a+"Heading",0,w.Center);c.y.set__(50);c.x.set__(296);this._heading.add(c);
c=o.getField(a+"Body",0,w.Center);c.y.set__(136);c.x.set__(296);this._body.add(c);this.set_visible(!0);b&&(this.alpha.set__(0),this.alpha.animateTo(1,0.5))},buttonPressed:function(a){this.selectionSig.emit(a)},dispose:function(){i.prototype.dispose.call(this);this._heading=this._body=this._entity=this._globalPack=this.selectionSig=null},__class__:jb});var kb=function(a,b,c){this._iceCenter=300;i.call(this);this._globalPack=a;this._className=c;this.removed=new ia;this._locNodeName=b;this.set_visible(!1);
this._medalIds=["none","bronze","silver","gold"]};f["com.nick.wintersports.components.ResultsScreen"]=kb;kb.__name__=["com","nick","wintersports","components","ResultsScreen"];kb.__super__=i;kb.prototype=r(i.prototype,{onAdded:function(){var a=new N;this.owner.add(a);var b=new V(10278143,1366,768);b.alpha.set__(0.56);this._overlay=(new h).add(b);this.owner.addChild(this._overlay);b=new k(this._globalPack.getTexture("results_screen/ice_panel"));b.setXY(683-b.getNaturalWidth()/2,55);this._ice=(new h).add(b);
this.owner.addChild(this._ice);var c;this._ltFields=[];this._rtFields=[];var b=[this._locNodeName+".resultsLine1",this._locNodeName+".resultsLine2","resultsScreen.finalScore"],d,g,B;this._medalLayers=[];for(d=0;4>d;){var e=d++;this._medalLayers[e]=(new h).add(new i);if(0<e){B=[];c=[];for(var f=0;2>f;){var ba=f++;g=new k(this._globalPack.getTexture("large_medals/"+this._medalIds[e]));g.setXY(40+416*ba,54);B[ba]=(new h).add(g);this._medalLayers[e].addChild(B[ba]);g=new k(this._globalPack.getTexture("large_medals/ribbon"));
g.setXY(67+416*ba,0);c[ba]=(new h).add(g);this._medalLayers[e].addChild(c[ba])}B=o.getField("resultsScreen.youveWon",0,w.Center);B.setXY(this._iceCenter,64);c=o.getField("medals."+this._medalIds[e],0,w.Center);c.setXY(this._iceCenter,96);c=(new h).add(c);this._medalLayers[e].addChild(c)}else B=o.getField("resultsScreen.noMedal",0,w.Center),B.setXY(this._iceCenter,84);this._youveWon=(new h).add(B);this._medalLayers[e].addChild(this._youveWon);this._ice.addChild(this._medalLayers[e])}for(e=0;3>e;)B=
e++,d=84*B+253,c=o.getField(b[B],0,w.Left),c.setXY(445,d),this._ltFields[B]=(new h).add(c),this.owner.addChild(this._ltFields[B]),c=o.getField("resultsScreen.scoreNumber",0,w.Right),c.setXY(912,d),this._rtFields[B]=(new h).add(c),this.owner.addChild(this._rtFields[B]);this._buttons=[];d=fa.test("iPod")||fa.test("iPhone")?560:620;e=["nextRound","backToHub"];B=["ui/stub_btn_","ui/stub_btn_"];for(c=0;2>c;)f=c++,b=new ja(this._globalPack,"resultsScreen."+e[f],f,B[f]),b.setXY(340+340*f,d),a.connect1(b.select,
p(this,this.handleButtonSelect)),this._buttons[f]=(new h).add(b),this.owner.addChild(this._buttons[f]);a=this._buttons[0]._compMap.Sprite_1;this._nextBtnText=(a instanceof ja?a:null).get_text();a=new ub(this._globalPack);this._confettiLayer=(new h).add(a);this.owner.addChild(this._confettiLayer)},update:function(a,b,c){var d=this._rtFields[0]._compMap.Sprite_1;(d instanceof ra?d:null).set_text(null==a?"null":""+a);a=this._rtFields[1]._compMap.Sprite_1;(a instanceof ra?a:null).set_text(null==b?"null":
""+b);b=this._rtFields[2]._compMap.Sprite_1;(b instanceof ra?b:null).set_text(null==c?"null":""+c);b=l.root._compMap.GameTracker_12;c=b.determineAndRecordMedal(this._className,c);b=b.getMedals(this._className);for(a=0;4>a;)this._medalLayers[a++]._compMap.Sprite_1.set_visible(!1);this._medalLayers[c]._compMap.Sprite_1.set_visible(!0);a=this._confettiLayer._compMap.Sprite_1;a=a instanceof ub?a:null;0<c&&a.start();-1!=b.indexOf(-1)?(c=b.indexOf(-1)+1,b=this._buttons[0]._compMap.Sprite_1,(b instanceof
ja?b:null).set_text(this._nextBtnText+" "+(null==c?"null":""+c)+"/3")):(c=this._buttons[0]._compMap.Sprite_1,(c instanceof ja?c:null).set_visible(!1),c=this._buttons[1]._compMap.Sprite_1,(c instanceof ja?c:null).x.set__(520))},handleButtonSelect:function(a){if(0==a.id)this.hide();else if(1==a.id)T["goto"](Ja);else throw new n("Oops.");},show:function(){this.set_visible(!0);this._globalPack.getSound("sound/winMedal").play()},hide:function(){this.set_visible(!1);var a=this._confettiLayer._compMap.Sprite_1;
(a instanceof ub?a:null).stop();this.removed.emit()},dispose:function(){i.prototype.dispose.call(this);this._rects=this._ice=this._overlay=this._confettiLayer=this._youveWon=this._globalPack=null;y.breakUpArray(this._buttons);this._buttons=null;y.breakUpArray(this._ltFields);this._ltFields=null;y.breakUpArray(this._rtFields);this._rtFields=null;y.breakUpArray(this._medalLayers);this.removed=this._medalLayers=null},__class__:kb});var Ra=function(a,b){i.call(this);this._id=b;this._globalPack=a};f["com.nick.wintersports.components.Score"]=
Ra;Ra.__name__=["com","nick","wintersports","components","Score"];Ra.__super__=i;Ra.prototype=r(i.prototype,{onAdded:function(){var a=new k(this._globalPack.getTexture("hud/score_time"));a.disablePointer();a.centerAnchor();a.anchorY.set__(0);this._img=(new h).add(a);this.owner.addChild(this._img);var b=o.getField(this._id,0,w.Center),c=(new h).add(b),a=i.getBounds(c);b.y.set__(18-a.height/2);this.owner.addChild(c);b=o.getField("global.scoreReadout",0,w.Center);this._readout=(new h).add(b);a=i.getBounds(this._readout);
b.y.set__(66-a.height/2);this.owner.addChild(this._readout)},updateReadout:function(a){this.value=a;a=this._readout._compMap.Sprite_1;(a instanceof ra?a:null).set_text(z.string(this.value))},dispose:function(){i.prototype.dispose.call(this);this._readout=this._globalPack=this._img=null},__class__:Ra});var ja=function(a,b,c,d){null==c&&(c=-1);i.call(this);this._pack=a;this.id=c;this._path=null==d?"ui/stub_btn_":d;a=o.getField(b,0,w.Center);this._text=new h;this._down=new h;this._over=new h;this._out=
new h;this._holder=new h;this._hitArea=new h;this.select=new M;this._text.add(a)};f["com.nick.wintersports.components.StubButton"]=ja;ja.__name__=["com","nick","wintersports","components","StubButton"];ja.__super__=i;ja.prototype=r(i.prototype,{onAdded:function(){var a=new N;this.owner.add(a);this.owner.add(new wa);this.build();a.connect2(this._hitArea._compMap.ButtonMode2_13.over.get_changed(),p(this,this.onOverChanged));a.connect1(this._hitArea._compMap.Sprite_1.get_pointerDown(),p(this,this.onDown));
a.connect1(this._hitArea._compMap.Sprite_1.get_pointerUp(),p(this,this.onUp))},build:function(){var a=new k(this._pack.getTexture(this._path+"down")),b=new k(this._pack.getTexture(this._path+"over")),c=new k(this._pack.getTexture(this._path+"out")),d=new i,g=new V(4539796,a.getNaturalWidth(),a.getNaturalHeight());g.setXY(4,4);g.alpha.set__(0);a.disablePointer();b.disablePointer();c.disablePointer();a.set_visible(!1);b.set_visible(!1);this._down.add(a);this._over.add(b);this._out.add(c);this._hitArea.add(g);
a=35.5-i.getBounds(this._text).height/2;this._text._compMap.Sprite_1.setXY(g.width._value/2-2,a).disablePointer();this.owner.addChild(this._hitArea);this._holder.add(d);this._holder.addChild(this._down);this._holder.addChild(this._over);this._holder.addChild(this._out);this._holder.addChild(this._text);this.owner.addChild(this._holder);this._hitArea.add(new X)},onOverChanged:function(a){this._holder._compMap.Sprite_1.setXY(0,0);a?(this._down._compMap.Sprite_1.set_visible(!1),this._over._compMap.Sprite_1.set_visible(!0),
this._out._compMap.Sprite_1.set_visible(!1)):(this._down._compMap.Sprite_1.set_visible(!1),this._over._compMap.Sprite_1.set_visible(!1),this._out._compMap.Sprite_1.set_visible(!0))},onDown:function(){this._isDown=!0;this._holder._compMap.Sprite_1.setXY(1,1);this._down._compMap.Sprite_1.set_visible(!0);this._over._compMap.Sprite_1.set_visible(!1);this._out._compMap.Sprite_1.set_visible(!1)},set_text:function(a){var b=this._text._compMap.Sprite_1;(b instanceof ra?b:null).set_text(a);return a},get_text:function(){var a=
this._text._compMap.Sprite_1;return(a instanceof ra?a:null)._text},onUp:function(){var a=this;this._holder._compMap.Sprite_1.setXY(0,0);this._down._compMap.Sprite_1.set_visible(!1);this._over._compMap.Sprite_1.set_visible(!0);this._out._compMap.Sprite_1.set_visible(!1);var b=function(){a.select.emit(a)};if(this._isDown){this._pack.getSound("sound/button_click").play();var c=this.owner._compMap.TimeUtil_15;c.clear(this._asynchTimeoutId,!1);this._asynchTimeoutId=c.timeout(b,0.1)}this._isDown=!1},dispose:function(){i.prototype.dispose.call(this);
this.select=this._pack=this._hitArea=this._text=this._out=this._over=this._holder=this._down=null},__class__:ja});var Hc=function(a,b){Y.call(this,a,b)};f["com.nick.wintersports.components.bobsled.BobsledInstructions"]=Hc;Hc.__name__="com,nick,wintersports,components,bobsled,BobsledInstructions".split(",");Hc.__super__=Y;Hc.prototype=r(Y.prototype,{ready:function(){var a=this,b=this.owner._compMap.Disposer_18;this._graphic1=new k(this._pack.getTexture("panel1"));this._graphic2=new k(this._pack.getTexture("panel2"));
this._graphic3=new k(this._pack.getTexture("panel3"));this._txt1=o.getField("bobsledGameScene.instructionsPanel1",350,w.Center);this._txt2=o.getField("bobsledGameScene.instructionsPanel2",350,w.Center);this._txt3=o.getField("bobsledGameScene.instructionsPanel3",350,w.Center);this._graphic1.setXY(355,390).centerAnchor();this._graphic2.setXY(720,390).centerAnchor();this._graphic3.setXY(1030,390).centerAnchor();this._txt1.setXY(15,245).setScale(0.5);this._txt2.setXY(-20,245).setScale(0.5);this._txt3.setXY(0,
245).setScale(0.5);this._panel1.add(this._graphic1).addChild((new h).add(this._txt1));this._panel2.add(this._graphic2).addChild((new h).add(this._txt2));this._panel3.add(this._graphic3).addChild((new h).add(this._txt3));var c=new ja(this._globalPack,"instructions.nextPage");c.setXY(540,675);this._nxt=new h;this._rootContainer.addChild(this._nxt.add(c));b.add(c.select.connect(function(){a.nextOperation()}));c=new Qa(this._globalPack,"pause_screen/btns",null,"close");c.setXY(990,2);this._muteButton=
(new h).add(c);this._rootContainer.addChild(this._muteButton);b.add(c.select.connect(function(){a.done()}).once())},nextOperation:function(){0==this._pageNumber?this.pageTwo():1==this._pageNumber&&this.done();Y.prototype.nextOperation.call(this)},pageOne:function(){this._nxt._compMap.Sprite_1.set_visible(!0);this._graphic1.texture=this._pack.getTexture("panel1");this._graphic2.texture=this._pack.getTexture("panel2");this._graphic3.texture=this._pack.getTexture("panel3");this._txt1.set_text(o.getField("bobsledGameScene.instructionsPanel1",
350,w.Center)._text);this._txt2.set_text(o.getField("bobsledGameScene.instructionsPanel2",350,w.Center)._text);this._txt3.set_text(o.getField("bobsledGameScene.instructionsPanel3",350,w.Center)._text)},pageTwo:function(){this._nxt._compMap.Sprite_1.set_visible(!1);this._muteButton._compMap.Sprite_1.set_visible(!1);this._graphic1.texture=this._pack.getTexture("panel4");this._graphic2.texture=this._pack.getTexture("panel5");this._graphic3.texture=this._pack.getTexture("panel6");this._graphic2.setXY(700,
390).centerAnchor();this._txt2.setXY(0,245).setScale(0.5);this._txt1.set_text(o.getField("bobsledGameScene.instructionsPanel4",350,w.Center)._text);this._txt2.set_text(o.getField("bobsledGameScene.instructionsPanel5",350,w.Center)._text);this._txt3.set_text(o.getField("bobsledGameScene.instructionsPanel6",350,w.Center)._text)},show:function(){Y.prototype.show.call(this)},dispose:function(){Y.prototype.dispose.call(this);this._nxt=this._muteButton=this._txt3=this._txt2=this._txt1=this._graphic3=this._graphic2=
this._graphic1=null},__class__:Hc});var pa=function(a,b){i.call(this);this._pack=a;this._lib=b;this._collision=this._idle=null};f["com.nick.wintersports.components.bobsled.Obstacle"]=pa;pa.__name__="com,nick,wintersports,components,bobsled,Obstacle".split(",");pa.__super__=i;pa.prototype=r(i.prototype,{onAdded:function(){null!=this._idle&&(this.owner.addChild(this._idle),this._idle._compMap.Sprite_1.disablePointer());null!=this._collision&&(this._collision._compMap.Sprite_1.disablePointer(),this.owner.addChild(this._collision))},
playCollision:function(){},get_view:function(){return this._idle._compMap.Sprite_1},dispose:function(){i.prototype.dispose.call(this);this._collision=this._idle=this._lib=this._pack=this.view=null},__class__:pa});var ab=function(a,b){pa.call(this,a,b);var c=new k(a.getTexture("boost"));c.centerAnchor();c.anchorY.set__(0);c.disablePointer();this._idle=(new h).add(c)};f["com.nick.wintersports.components.bobsled.BoostStrip"]=ab;ab.__name__="com,nick,wintersports,components,bobsled,BoostStrip".split(",");
ab.__super__=pa;ab.prototype=r(pa.prototype,{__class__:ab});var Ub=function(a,b){pa.call(this,a,b);this.variant=0.5>Math.random()?"ice_rock":"pipe";var c=new k(a.getTexture(this.variant));c.centerAnchor();c.anchorY.set__(0);c.disablePointer();this._idle=(new h).add(c)};f["com.nick.wintersports.components.bobsled.GroundObstacle"]=Ub;Ub.__name__="com,nick,wintersports,components,bobsled,GroundObstacle".split(",");Ub.__super__=pa;Ub.prototype=r(pa.prototype,{__class__:Ub});var Vb=function(a,b){pa.call(this,
a,b);var c=new k(a.getTexture("pizza"));c.centerAnchor();c.anchorY.set__(0);c.disablePointer();this._idle=(new h).add(c)};f["com.nick.wintersports.components.bobsled.Pizza"]=Vb;Vb.__name__="com,nick,wintersports,components,bobsled,Pizza".split(",");Vb.__super__=pa;Vb.prototype=r(pa.prototype,{__class__:Vb});var bb=function(a,b){this.sploded=!1;pa.call(this,a,b);var c;0.6666666666>Math.random()?(c="FootHit",this.variant="foot",this.type=1):(c="ShredderHit",this.variant="shredder",this.type=2);var d=
new k(a.getTexture(this.variant));d.setXY(-d.getNaturalWidth()/2,0);d.disablePointer();this._idle=(new h).add(d);c=b.createSprite(c,!0);c.set_paused(!0);c.disablePointer();c.set_visible(!1);this._loopedSignal=c.get_looped().connect(p(this,this.destroy));this._collision=(new h).add(c)};f["com.nick.wintersports.components.bobsled.Villain"]=bb;bb.__name__="com,nick,wintersports,components,bobsled,Villain".split(",");bb.__super__=pa;bb.prototype=r(pa.prototype,{playCollision:function(){pa.prototype.playCollision.call(this);
this.sploded=!0;this._idle._compMap.Sprite_1.set_visible(!1);var a=this._collision._compMap.Sprite_1,a=a instanceof Z?a:null;a.set_position(0);a.set_paused(!1);a.set_visible(!0)},destroy:function(){null!=this.owner.parent&&this.owner.parent.dispose()},dispose:function(){pa.prototype.dispose.call(this);this._loopedSignal.dispose();this._loopedSignal=null},__class__:bb});var Ic=function(a,b){Y.call(this,a,b)};f["com.nick.wintersports.components.hockey.HockeyInstructions"]=Ic;Ic.__name__="com,nick,wintersports,components,hockey,HockeyInstructions".split(",");
Ic.__super__=Y;Ic.prototype=r(Y.prototype,{ready:function(){var a=new k(this._pack.getTexture("panel1")),b=new k(this._pack.getTexture("panel2")),c=new k(this._pack.getTexture("panel3")),d=o.getField("hockeyGameScene.instructionsPanel1",350,w.Center),g=o.getField("hockeyGameScene.instructionsPanel2",350,w.Center),e=o.getField("hockeyGameScene.instructionsPanel3",350,w.Center);a.setXY(360,390).centerAnchor();b.setXY(700,390).centerAnchor();c.setXY(1030,390).centerAnchor();d.setXY(30,265).setScale(0.5);
g.setXY(30,265).setScale(0.5);e.setXY(30,265).setScale(0.5);this._panel1.add(a).addChild((new h).add(d));this._panel2.add(b).addChild((new h).add(g));this._panel3.add(c).addChild((new h).add(e))},nextOperation:function(){this.done();Y.prototype.nextOperation.call(this)},__class__:Ic});var Ib=function(a){i.call(this);this._lib=a;this._hitAreas=[]};f["com.nick.wintersports.components.hockey.Patrick"]=Ib;Ib.__name__="com,nick,wintersports,components,hockey,Patrick".split(",");Ib.__super__=i;Ib.prototype=
r(i.prototype,{onAdded:function(){var a=new i;this._container=(new h).add(a);this.owner.addChild(this._container);a=this._lib.createSprite("Patrick",!0);a.disablePointer();a.anchorY.set__(100);this._movie=(new h).add(a);this._container.addChild(this._movie);this._hitAreas[0]=this.generateFill(-40,-112,92,116);this._hitAreas[1]=this.generateFill(-20,-164,44,52);this._hitAreas[2]=this.generateFill(-16,-214,32,50);this._hitAreas[3]=this.generateFill(25,-126,76,24,28);this._hitAreas[4]=this.generateFill(25,
-125,76,24,10);this._hitAreas[5]=this.generateFill(-74,-64,88,28,-52);this._hitAreas[6]=this.generateFill(-84,-112,88,16,46);this.setPositionPause(0);this.owner.add(new wa)},testHitSprite:function(a){for(var b=0,c=this._hitAreas.length;b<c;)if(this._hitAreas[b++]==a)return!0;return!1},generateFill:function(a,b,c,d,g){null==g&&(g=0);c=new V(153,c,d);c.setXY(a,b);c.alpha.set__(0);c.rotation.set__(g);a=(new h).add(c);this._container.addChild(a);return a},onUpdate:function(a){i.prototype.onUpdate.call(this,
a)},respond:function(a){y.getSafeArea();this._container._compMap.Sprite_1.x.animateTo(0.7*Math.max(-200,Math.min(200,a-this.x._value)),1+1.5*Math.random(),F.sineOut)},setPositionPause:function(a,b){null==b&&(b=!0);var c=this._movie._compMap.Sprite_1,c=c instanceof Z?c:null;c.set_position(a);c.set_paused(b);c.onUpdate(0)},reactToPuckHit:function(){var a=this,b=this.owner._compMap.TimeUtil_15;this.setPositionPause(0.1);b.clear(this._puckReactTo,!1);this._puckReactTo=b.timeout(function(){a.setPositionPause(0)},
0.3)},dispose:function(){i.prototype.dispose.call(this);this._lib=this._container=this._movie=null;y.breakUpArray(this._hitAreas);this._hitAreas=null},__class__:Ib});var lb=function(a,b){this._showY=10;i.call(this);this._pack=a;this._hitAreas=[];this._imgs=[];this.index=b;this.hidden=new M};f["com.nick.wintersports.components.hockey.Plankton"]=lb;lb.__name__="com,nick,wintersports,components,hockey,Plankton".split(",");lb.__super__=i;lb.prototype=r(i.prototype,{onAdded:function(){var a=new i;this._container=
(new h).add(a);this.owner.addChild(this._container);for(a=0;3>a;){var b=a++,c=new k(this._pack.getTexture("plankton"+b));c.centerAnchor();c.anchorY.set__(0);this._imgs[b]=(new h).add(c)}for(a=0;3>a;)this._container.addChild(this._imgs[2-a++]);this._showY=-this._imgs[2]._compMap.Sprite_1.getNaturalHeight();a=this._imgs[1]._compMap.Sprite_1;b=a instanceof k?a:null;b.set_visible(!0);a=b.getNaturalWidth();b=b.getNaturalHeight();this.scissor=new $a(-a/2,-b,a,b);for(a=0;3>a;)b=a++,this._hitAreas[b]=this.generateFill(17*
b+59),this._imgs[b].addChild(this._hitAreas[b]);this.owner.add(new wa)},show:function(a){var b=this;this.set_visible(!0);this.size=Math.floor(2*Math.random())+1;for(var c=0;3>c;){var d=c++;this._imgs[d]._compMap.Sprite_1.set_visible(this.size==d)}var g=this.owner._compMap.TimeUtil_15;g.clear(this._hideTimeoutId,!1);this._container._compMap.Sprite_1.y.animateTo(this._showY,0.5,F.expoOut);this._hideTimeoutId=g.timeout(function(){b._container._compMap.Sprite_1.y.animateTo(0,0.5,F.expoOut);g.timeout(function(){b.hidden.emit(b)},
1)},a)},reset:function(){this.owner._compMap.TimeUtil_15.clear(this._hideTimeoutId,!1);this._container._compMap.Sprite_1.y.set__(0)},testHitSprite:function(a){for(var b=0,c=this._hitAreas.length;b<c;)if(this._hitAreas[b++]==a)return!0;return!1},generateFill:function(a){a=new V(153,a,a);a.centerAnchor();a.setXY(46,46);a.alpha.set__(0);return(new h).add(a)},onUpdate:function(a){i.prototype.onUpdate.call(this,a)},dispose:function(){i.prototype.dispose.call(this);this._last=this._pack=this._container=
null;y.breakUpArray(this._imgs);this._imgs=null;y.breakUpArray(this._hitAreas);this.hidden=this._hitAreas=null},__class__:lb});var gc=function(a){i.call(this);this._pack=a;a=new k(this._pack.getTexture("target_orange"));a.centerAnchor();a.disablePointer();this._hit=(new h).add(a);a=new k(this._pack.getTexture("target"));a.centerAnchor();a.disablePointer();this._block=(new h).add(a)};f["com.nick.wintersports.components.hockey.Rectile"]=gc;gc.__name__="com,nick,wintersports,components,hockey,Rectile".split(",");
gc.__super__=i;gc.prototype=r(i.prototype,{onAdded:function(){this.owner.addChild(this._hit);this.owner.addChild(this._block);this.disablePointer()},set_block:function(a){this._hit._compMap.Sprite_1.set_visible(!a);this._block._compMap.Sprite_1.set_visible(a);return a},dispose:function(){i.prototype.dispose.call(this);this._block=this._hit=this._pack=null},__class__:gc});var Jb=function(a){i.call(this);this._lib=a};f["com.nick.wintersports.components.hockey.SpongeBob"]=Jb;Jb.__name__="com,nick,wintersports,components,hockey,SpongeBob".split(",");
Jb.__super__=i;Jb.prototype=r(i.prototype,{onAdded:function(){var a=new N;this.owner.add(new N);var b=this._lib.createSprite("SpongeBob",!0);b.disablePointer();this._movie=(new h).add(b);this.owner.addChild(this._movie);a.connect0(b.get_looped(),p(this,this.onLooped));this.setPositionPause(0)},onLooped:function(){this.setPositionPause(0)},setPositionPause:function(a,b){null==b&&(b=!0);var c=this._movie._compMap.Sprite_1,c=c instanceof Z?c:null;c.set_position(a);c.set_paused(b);c.onUpdate(0)},proceedFrom:function(a){isNaN(a)?
(a=this._movie._compMap.Sprite_1,(a instanceof Z?a:null).set_paused(!1)):this.setPositionPause(a,!1)},dispose:function(){i.prototype.dispose.call(this);this._lib=this._movie=this._img=null},__class__:Jb});var Jc=function(a,b,c){i.call(this);this._globalPack=a;this._id=c;this._index=b};f["com.nick.wintersports.components.hub.LeaderPanel"]=Jc;Jc.__name__="com,nick,wintersports,components,hub,LeaderPanel".split(",");Jc.__super__=i;Jc.prototype=r(i.prototype,{onAdded:function(){i.prototype.onAdded.call(this);
var a=new k(this._globalPack.getTexture("leaderboard/panel"));this._backing=(new h).add(a);this.owner.addChild(this._backing);0==this._id&&(a=new k(this._globalPack.getTexture("leaderboard/panel_you")),this.owner.addChild((new h).add(a)));var b=l.root._compMap.GameTracker_12.getCharacterIds(),a=new k(this._globalPack.getTexture("contestant_flags/"+b[this._id]));a.setXY(46,4);this._flag=(new h).add(a);this.owner.addChild(this._flag);var c=o.getField("hubScene.opponent0",0,w.Center);c.set_text(z.string(this._index+
1));this._number=(new h).add(c);a=i.getBounds(this._number);c.setXY(22,26-a.height/2);this.owner.addChild(this._number);b=o.getField(0!=this._id?"hubScene.opponent"+b[this._id]:"hubScene.you",0,w.Left);this._name=(new h).add(b);a=i.getBounds(this._name);b.setXY(116,26-a.height/2);this.owner.addChild(this._name);for(var b=["gold","silver","bronze"],c=l.root._compMap.GameTracker_12.getMedalCount(this._id),d=0;3>d;){var g=d++,a=c.length-g-1,e=new k(this._globalPack.getTexture("small_medals/"+b[g]));
e.setXY(218+63*g,12);this.owner.addChild((new h).add(e));e=o.getField("hubScene.opponent0",0,w.Center);e.set_text(z.string(c[a]));var q=(new h).add(e),a=i.getBounds(q);e.setXY(259+63*g,26-a.height/2);this.owner.addChild(q)}},dispose:function(){i.prototype.dispose.call(this);this._flag=this._backing=this._globalPack=this._name=this._number=null},__class__:Jc});var hc=function(a){i.call(this);this._globalPack=a;this._panels=[]};f["com.nick.wintersports.components.hub.Leaderboard"]=hc;hc.__name__="com,nick,wintersports,components,hub,Leaderboard".split(",");
hc.__super__=i;hc.prototype=r(i.prototype,{onAdded:function(){i.prototype.onAdded.call(this);for(var a=l.root._compMap.GameTracker_12.getContestantOrder(),b=0;4>b;){var c=b++,d=new Jc(this._globalPack,c,a[c]);d.y.set__(54*c);this._panels[c]=(new h).add(d);this.owner.addChild(this._panels[c])}},dispose:function(){i.prototype.dispose.call(this);this._panels=this._globalPack=null},__class__:hc});var vb=function(a,b,c,d){this.active=this.selected=!1;i.call(this);this.id=d;this._pack=a;this._globalPack=
b;this._lib=c;this._medalIds=["none","bronze","silver","gold"];this._animationIds=["Bob","Turts","Breadwinners","Winx"];this._medals=[];this._characterPositions=[new J(70,-66),new J(12,-96),new J(66,-92),new J(52,-102)];this._signPositions=[new J(-101,-69),new J(-134,-105),new J(-87,-105),new J(-92,-108)];this.select=new ia};f["com.nick.wintersports.components.hub.Node"]=vb;vb.__name__="com,nick,wintersports,components,hub,Node".split(",");vb.__super__=i;vb.prototype=r(i.prototype,{onAdded:function(){var a=
this.owner._compMap.Disposer_18;this.owner.add(new sa);null==a&&(a=new N,this.owner.add(a));var b=new Ia(this._pack,"lib");this.owner.add(new wa);var c=new k(this._pack.getTexture("unlit"));c.centerAnchor();this._unlit=(new h).add(c);this.owner.addChild(this._unlit);c=b.createSprite("ButtonDeselected");c.set_visible(!1);c.centerAnchor();this._light=(new h).add(c);this.owner.addChild(this._light);b=b.createSprite("ButtonSelected");b.alpha.set__(0);b.centerAnchor();this._selected=(new h).add(b);this.owner.addChild(this._selected);
b=[];if(4>this.id)for(c=0;3>c;){var d=c++,g=new k(this._pack.getTexture("blank_medal"));g.setXY(-44+30*d,33);b[d]=(new h).add(g);this.owner.addChild(b[d])}b=null;4>this.id&&(b=new k(this._pack.getTexture("locked_sign")),b.setXY(this._signPositions[this.id].x,this._signPositions[this.id].y),b.disablePointer(),this._lockedSign=(new h).add(b),this.owner.addChild(this._lockedSign),b=this._lib.createSprite(this._animationIds[this.id]+"Normal",!0),b.setXY(this._characterPositions[this.id].x,this._characterPositions[this.id].y),
b.disablePointer(),this._character=(new h).add(b),this.owner.addChild(this._character),c=this._lib.createSprite(this._animationIds[this.id]+"Highlight",!0),c.alpha.set__(0),c.disablePointer(),c.setXY(this._characterPositions[this.id].x,this._characterPositions[this.id].y),this._characterLit=(new h).add(c),this.owner.addChild(this._characterLit),1<this.id&&(d=this._lib.createSprite(this._animationIds[this.id]+"Locked",!0),d.set_visible(!1),d.disablePointer(),d.setXY(this._characterPositions[this.id].x,
this._characterPositions[this.id].y),this._characterLocked=(new h).add(d),this.owner.addChild(this._characterLocked)),c.set_position(this.id/4*c.symbol.duration),b.set_position(this.id/4*c.symbol.duration));a.connect1(this.get_pointerUp(),p(this,this.pointerUpFunc))},pointerUpFunc:function(){this.active&&this.select.emit()},set_selected:function(a){var b=null;null!=this._characterLit&&(b=this._characterLit._compMap.Sprite_1);this.active&&(this.selected=a,this._selected._compMap.Sprite_1.alpha.set__(a?
1:0),a?null!=b&&b.alpha.set__(1):(this.owner._compMap.Script_16.stopAll(),null!=b&&b.alpha.set__(0)));return this.selected},set_active:function(a){this.active=a;this._light._compMap.Sprite_1.set_visible(a);null!=this._lockedSign&&this._lockedSign._compMap.Sprite_1.set_visible(!a);null!=this._character&&this._character._compMap.Sprite_1.set_visible(a);null!=this._characterLit&&this._characterLit._compMap.Sprite_1.set_visible(a);null!=this._characterLocked&&this._characterLocked._compMap.Sprite_1.set_visible(!a);
return a},setMedals:function(a){for(var b=0;3>b;){var c=b++;null==this._medals[c]&&(this._medals[c]=new h);if(-1!=a[c]){var d=new k(this._globalPack.getTexture("small_medals/"+this._medalIds[a[c]]));d.setXY(-44+30*c,33);this._medals[c].add(d);this.owner.addChild(this._medals[c])}else null!=this._medals[c]._compMap.Sprite_1&&this._medals[c]._compMap.Sprite_1.dispose()}},dispose:function(){i.prototype.dispose.call(this);this._characterLocked=this._signPositions=this._characterPositions=this.select=
this._animationIds=this._medalIds=this._lib=this._lockedSign=this._characterLit=this._character=this._selected=this._unlit=this._light=this._globalPack=this._pack=null;y.breakUpArray(this._medals);this._medals=null},__class__:vb});var ub=function(a){i.call(this);this._confetti=[];this._globalPack=a};f["com.nick.wintersports.components.results.ConfettiLayer"]=ub;ub.__name__="com,nick,wintersports,components,results,ConfettiLayer".split(",");ub.__super__=i;ub.prototype=r(i.prototype,{onAdded:function(){this.owner.add(new wa)},
addConfetti:function(){for(var a=0;3>a;){var b=a++,c=4*Math.random()+5,b=100+455.3333333333333*b+100*Math.random(),d=new k(this._globalPack.getTexture("results_screen/confetti"));d.disablePointer();d.rotation.set__(90*Math.floor(4*Math.random()));d.centerAnchor();d.setXY(b,-300);d.y.animateTo(1068,c);c=(new h).add(d);this.owner.addChild(c);this._confetti.push(c);c=this._confetti.length;b=0;for(d=this._confetti.length;b<d;)b++,--c,1068<=this._confetti[c]._compMap.Sprite_1.y._value&&(this._confetti[c].dispose(),
this._confetti.splice(c,1))}},start:function(){var a=this.owner._compMap.TimeUtil_15;this.addConfetti();a.interval(p(this,this.addConfetti),2.5)},stop:function(){for(this.owner._compMap.TimeUtil_15.clearAll();null!=this.owner.firstChild;)this.owner.removeChild(this.owner.firstChild)},dispose:function(){i.prototype.dispose.call(this);this._globalPack=null;y.breakUpArray(this._confetti);this._confetti=null},__class__:ub});var Kc=function(a,b){Y.call(this,a,b)};f["com.nick.wintersports.components.ski.SkiInstructions"]=
Kc;Kc.__name__="com,nick,wintersports,components,ski,SkiInstructions".split(",");Kc.__super__=Y;Kc.prototype=r(Y.prototype,{ready:function(){var a=this,b=this.owner._compMap.Disposer_18,c=l._platform.getTouch().get_supported()?"_mobile":"";this._graphic1=new k(this._pack.getTexture("panel1"));this._graphic2=new k(this._pack.getTexture("panel2"+c));this._graphic3=new k(this._pack.getTexture("panel3"));this._txt1=o.getField("skiJumpGameScene.instructionsPanel1"+c,0,w.Center);this._txt2=o.getField("skiJumpGameScene.instructionsPanel2"+
c,0,w.Center);this._txt3=o.getField("skiJumpGameScene.instructionsPanel3"+c,0,w.Center);this._graphic1.setXY(355,360).centerAnchor();this._graphic2.setXY(680,380).centerAnchor();this._graphic3.setXY(1030,380).centerAnchor();this._txt1.setXY(355,520);this._txt2.setXY(700,520);this._txt3.setXY(1030,520);this._panel1.add(new i).addChild((new h).add(this._graphic1)).addChild((new h).add(this._txt1));this._panel2.add(new i).addChild((new h).add(this._graphic2)).addChild((new h).add(this._txt2));this._panel3.add(new i).addChild((new h).add(this._graphic3)).addChild((new h).add(this._txt3));
c=new ja(this._globalPack,"instructions.button");c.setXY(540,675);this._nxt=new h;this._rootContainer.addChild(this._nxt.add(c));b.add(c.select.connect(function(){a.nextOperation()}));c=new Qa(this._globalPack,"pause_screen/btns",null,"close");c.setXY(990,2);this._muteButton=(new h).add(c);this._rootContainer.addChild(this._muteButton);b.add(c.select.connect(function(){a.done()}).once())},nextOperation:function(){0==this._pageNumber&&this.done();Y.prototype.nextOperation.call(this)},pageOne:function(){this._nxt._compMap.Sprite_1.set_visible(!0);
var a=l._platform.getTouch().get_supported()?"_mobile":"";this._graphic1.texture=this._pack.getTexture("panel1");this._graphic2.texture=this._pack.getTexture("panel2"+a);this._graphic3.texture=this._pack.getTexture("panel3");this._graphic1.setXY(355,360).centerAnchor();this._graphic2.setXY(700,380).centerAnchor();this._graphic3.setXY(1030,380).centerAnchor();this._txt1.setXY(355,520);this._txt2.setXY(700,520);this._txt3.setXY(1030,520);this._txt1.set_text(o.getField("skiJumpGameScene.instructionsPanel1"+
a)._text);this._txt2.set_text(o.getField("skiJumpGameScene.instructionsPanel2"+a)._text);this._txt3.set_text(o.getField("skiJumpGameScene.instructionsPanel3"+a)._text)},dispose:function(){Y.prototype.dispose.call(this);this._nxt=this._muteButton=this._txt3=this._txt2=this._txt1=this._graphic3=this._graphic2=this._graphic1=null},__class__:Kc});var Lc=function(a,b,c){this._position=this._nTreeDist=this._nFlagDist=0;this._bReset=!0;s.call(this);this._pack=a;this._nTreeDist=650*Math.random()+50;this._nFlagDist=
500;this._entity=(new h).add(new i);this._aHillElements=[];this.set_position(0);for(var d=a.getTexture("hillTile"),g=0,e=0,q=0,f=Math.ceil(b/d.get_width())+1;q<f;){var ba=q++;this._entity.addChild((new h).add((new k(d)).setXY(g,e)));g=Math.round(d.get_width()*(ba+1));e=Math.round(c*(ba+1))}this._nParallaxWidth=b;this._nResetDist=d.get_width()<b?d.get_width():b;this.slope=c/this._nResetDist;d=a.getTexture("hillCap");this._endCap=(new k(d)).setXY(g,e);this._entity.addChild((new h).add(this._endCap));
this._nTotalWidth=g+d.get_width()};f["com.nick.wintersports.components.ski.SnowHill"]=Lc;Lc.__name__="com,nick,wintersports,components,ski,SnowHill".split(",");Lc.__super__=s;Lc.prototype=r(s.prototype,{get_name:function(){return"SnowHill_4"},onAdded:function(){this.owner.addChild(this._entity)},onUpdate:function(){this._bReset||this._entity._compMap.Sprite_1.x._value<-this._nTotalWidth&&this.startResetting()},startResetting:function(){this._bReset=!0;this._position=this._nParallaxWidth},get_slope:function(){return this.slope},
get_position:function(){return this._position},set_position:function(a){var b=a-this._position;this._position=a;var c=this._entity._compMap.Sprite_1;c.x.set__(this._position);c.y.set__(this._position*this.get_slope());this._bReset&&0>this._position&&(this._nTreeDist+=b,0>this._nTreeDist&&(this._nTreeDist=650*Math.random()+50,this.addBgTree()),c.x.set__(c.x._value%this._nResetDist),c.y.set__(c.y._value%(this.get_slope()*this._nResetDist)));for(var a=0,d=this._aHillElements.length;a<d;){var c=this._aHillElements[a++]._compMap.Sprite_1,
g=c.x;g.set__(g._value+b);c=c.y;c.set__(c._value+b*this.get_slope())}if(0<this._aHillElements.length)for(c=this._aHillElements[0]._compMap.Sprite_1;null!=c&&c.x._value<-c.getNaturalWidth();)this._aHillElements[0].dispose(),this._aHillElements.splice(0,1),c=0<this._aHillElements.length?this._aHillElements[0]._compMap.Sprite_1:null;return this._position},addGap:function(a){var b=this._entity._compMap.Sprite_1;a._compMap.Sprite_1.setXY(b.x._value+this._endCap.x._value,b.y._value+this._endCap.y._value+
30);this.owner.addChild(a);this._aHillElements.push(a)},addBgTree:function(){var a=(new k(this._pack.getTexture("tree"))).setXY(this._nParallaxWidth,this._nParallaxWidth*this.get_slope()-275),a=(new h).add(a);this.owner.addChild(a,!1);this._aHillElements.push(a)},dispose:function(){s.prototype.dispose.call(this);this._pack=this._endCap=this._entity=null;y.breakUpArray(this._aHillElements);this._aHillElements=null},__class__:Lc});var Mc=function(a,b,c){this._position=0;this._bReset=!0;s.call(this);
this._pack=a;this._entity=(new h).add(new i);this.starCollected=new ia;this._aHillElements=[];this.set_position(0);var d=a.getTexture("starPath");this._lib=new Ia(a,"lib");for(var a=d.get_width(),g=0,e=0,q=0,f=Math.ceil(b/a)+1;q<f;){var ba=q++;this._entity.addChild((new h).add((new k(d)).setXY(g,e)));g=Math.ceil(a*(ba+1));e=Math.ceil(c*(ba+1))}this._nParallaxWidth=b;this._nYOffset=c;this._nResetDist=a<b?a:b;this.slope=c/this._nResetDist;this._nTotalWidth=g+a};f["com.nick.wintersports.components.ski.StarPath"]=
Mc;Mc.__name__="com,nick,wintersports,components,ski,StarPath".split(",");Mc.__super__=s;Mc.prototype=r(s.prototype,{get_name:function(){return"StarPath_10"},onAdded:function(){this.owner.addChild(this._entity);this.owner.add(new N)},onUpdate:function(){this._bReset||this._entity._compMap.Sprite_1.x._value<-this._nTotalWidth&&this.startResetting()},startResetting:function(){this._bReset=!0;this._position=this._nParallaxWidth},get_slope:function(){return this.slope},get_position:function(){return this._position},
set_position:function(a){var b=a-this._position;this._position=a;var c=this._entity._compMap.Sprite_1;c.x.set__(this._position);c.y.set__(this._position*this.get_slope());this._bReset&&0>this._position&&(c.x.set__(c.x._value%this._nResetDist),c.y.set__(c.y._value%(this.get_slope()*this._nResetDist)));for(var a=0,d=this._aHillElements.length;a<d;){var c=this._aHillElements[a++]._compMap.Sprite_1,g=c.x;g.set__(g._value+b);c=c.y;c.set__(c._value+b*this.get_slope())}if(0<this._aHillElements.length)for(c=
this._aHillElements[0]._compMap.Sprite_1;null!=c&&c.x._value<-c.getNaturalWidth();)this._aHillElements[0].dispose(),this._aHillElements.splice(0,1),c=0<this._aHillElements.length?this._aHillElements[0]._compMap.Sprite_1:null;return this._position},addStar:function(){var a=this,b=this._lib.createSprite("powerup"),c=(new h).add(b).add(new Nc);this.owner._compMap.Disposer_18.add(b.get_pointerDown().connect(function(){a.onStarClicked(c)}).once());b.setXY(1366,this._nParallaxWidth*this.get_slope()+z.random(180)+
this._nYOffset-30);this.owner.addChild(c);this._aHillElements.push(c)},onStarClicked:function(a){t.remove(this._aHillElements,a);a.dispose();this.starCollected.emit()},dispose:function(){s.prototype.dispose.call(this);this._pack=this._endCap=this._entity=this.starCollected=null;y.breakUpArray(this._aHillElements);this._aHillElements=null},__class__:Mc});var wb=function(a,b){null==b&&(b=0);null==a&&(a=0);this._sCurClip="";this._nOffsetX=this._nOffsetY=0;s.call(this);this._map=new Q;this._entity=new h;
this._nOffsetX=a;this._nOffsetY=b;this._disposer=new N;this._entity.add(this._disposer)};f["com.nick.wintersports.components.snowboard.CharacterAnimation"]=wb;wb.__name__="com,nick,wintersports,components,snowboard,CharacterAnimation".split(",");wb.__super__=s;wb.prototype=r(s.prototype,{get_name:function(){return"CharacterAnimation_9"},add:function(a,b,c,d){null==d&&(d=!1);null==c&&(c="");var g=this,e=this._map;null!=v[a]?e.setReserved(a,b):e.h[a]=b;A.__instanceof(b,Z)&&(b.set_paused(!0),b.set_position(0),
""!=c&&this._disposer.connect0(b.get_looped(),function(){g.play(c)}),d&&this._disposer.connect0(b.get_looped(),function(){b.set_paused(!0);b.set_position(b.symbol.duration);b.onUpdate(0)}));b.setXY(this._nOffsetX,this._nOffsetY)},play:function(a){this.current=a;var b=null,c=null;""!=this._sCurClip&&(b=this._sCurClip,c=this._map,b=null!=v[b]?c.getReserved(b):c.h[b],A.__instanceof(b,Z)&&(c=b,c.set_paused(!0),c.set_position(0)),this._entity.remove(b));b=this._map;b=null!=v[a]?b.getReserved(a):b.h[a];
A.__instanceof(b,Z)&&b.set_paused(!1);this._sCurClip=a;this._entity.add(b)},onAdded:function(){this.owner.addChild(this._entity)},dispose:function(){s.prototype.dispose.call(this);for(var a=this._map.keys();a.hasNext();)this._map.remove(a.next());this._disposer=this._entity=this._map=null},__class__:wb});var mb=function(a,b,c){null==c&&(c=0);null==b&&(b=0);this._target=null;s.call(this);this._target=a;this._pOffset=new J(b,c)};f["com.nick.wintersports.components.snowboard.Collider"]=mb;mb.__name__=
"com,nick,wintersports,components,snowboard,Collider".split(",");mb.__super__=s;mb.prototype=r(s.prototype,{get_name:function(){return"Collider_7"},onUpdate:function(){if(null!=this._collisonOccured){var a=this.owner._compMap.ColliderBody_8,b=this._target._compMap.ColliderBody_8;if(!(null==a||null==b)){var c=this._target._compMap.Sprite_1.x._value+b.get_offset().x,d=this._target._compMap.Sprite_1.y._value+b.get_offset().y,g=this.owner._compMap.Sprite_1.x._value+a.get_offset().x,e=this.owner._compMap.Sprite_1.y._value+
a.get_offset().y,c=g-c+this._pOffset.x,d=e-d+this._pOffset.y,a=a.get_radius()+b.get_radius();c*c+d*d<a*a&&this._collisonOccured.emit(this.owner,this._target)}}},get_collisonOccured:function(){null==this._collisonOccured&&(this._collisonOccured=new Kb);return this._collisonOccured},dispose:function(){s.prototype.dispose.call(this);this._pOffset=this._collisonOccured=this._target=this.collisonOccured=null},__class__:mb});var Sa=function(a,b,c){null==c&&(c=0);null==b&&(b=0);this._radius=0;s.call(this);
this._radius=a;this._offset=new J(b,c)};f["com.nick.wintersports.components.snowboard.ColliderBody"]=Sa;Sa.__name__="com,nick,wintersports,components,snowboard,ColliderBody".split(",");Sa.__super__=s;Sa.prototype=r(s.prototype,{get_name:function(){return"ColliderBody_8"},get_radius:function(){return this._radius},get_offset:function(){return this._offset},dispose:function(){s.prototype.dispose.call(this);this._offset=null},__class__:Sa});var nb=function(a){s.call(this);this.label=a};f["com.nick.wintersports.components.snowboard.Label"]=
nb;nb.__name__="com,nick,wintersports,components,snowboard,Label".split(",");nb.__super__=s;nb.prototype=r(s.prototype,{get_name:function(){return"Label_6"},get_label:function(){return this.label},__class__:nb});var Oc=function(){this.length=25E3;this._position=0;s.call(this);this._aObjects=[];this.objectReady=new M};f["com.nick.wintersports.components.snowboard.ObstacleGenerator"]=Oc;Oc.__name__="com,nick,wintersports,components,snowboard,ObstacleGenerator".split(",");Oc.__super__=s;Oc.prototype=
r(s.prototype,{get_name:function(){return"ObstacleGenerator_5"},clearObstacles:function(){this._aObjects.splice(0,this._aObjects.length);this._nLastObjectPos=this._position=0},generateObstacles:function(){this._nLastObjectPos=0;for(var a=null,b,c=0,d=0,g=-1E5;this._nLastObjectPos<this.length-1E3;){b=Math.floor(8*Math.random());if(1>b){if("gap"==a||this._nLastObjectPos>this.length-6E3)continue;b="gap";c=Math.max(1287,1200)}else if(2>b){if("monster"==a||this._nLastObjectPos>this.length-3E3)continue;
b="monster";c=300*Math.random()+400}else b=4>b?"fridge":"IceBread",c=200*Math.random()+100,150<c&&(c+=300+250*Math.random());400>Math.abs(this._nLastObjectPos+c-g)&&(c=1600);"monster"==b&&(g=this._nLastObjectPos+c+887);150>d&&150>c&&(c+=350);"gap"==a&&(c=4400);this.addObstacle(b,c);a=b;d=c}this._aObjects.push(new ic("finish",-this.length+809))},addObstacle:function(a,b){this._nLastObjectPos+=b;this._nLastObjectPos<this.length-1E3&&("gap"==a&&this._aObjects.push(new ic("jumpWall",-this._nLastObjectPos)),
this._aObjects.push(new ic(a,-this._nLastObjectPos)))},get_position:function(){return this._position},set_position:function(a){this._position=a;0<this._aObjects.length&&this._aObjects[0].nPosition>this._position&&(this.objectReady.emit(this._aObjects[0].sName),this._aObjects.splice(0,1));return this._position},dispose:function(){s.prototype.dispose.call(this);this.objectReady=null;y.breakUpArray(this._aObjects);this._aObjects=null},__class__:Oc});var ic=function(a,b){this.sName=a;this.nPosition=b};
f["com.nick.wintersports.components.snowboard.Obstacle"]=ic;ic.__name__="com,nick,wintersports,components,snowboard,Obstacle".split(",");ic.prototype={__class__:ic};var Pc=function(a,b,c){this._position=this._nTreeDist=this._nFlagDist=0;this._bReset=!0;s.call(this);this._pack=a;this._nTreeDist=650*Math.random()+50;this._nFlagDist=500;this._entity=(new h).add(new i);this._aHillElements=[];this.set_position(0);for(var d=a.getTexture("hillTile"),g=0,e=0,q=0,f=Math.ceil(b/d.get_width())+1;q<f;){var ba=
q++;this._entity.addChild((new h).add((new k(d)).setXY(g,e)));g=Math.round(d.get_width()*(ba+1));e=Math.round(c*(ba+1))}this._nParallaxWidth=b;this._nResetDist=d.get_width()<b?d.get_width():b;this.slope=c/this._nResetDist;d=a.getTexture("hillCap");this._endCap=(new k(d)).setXY(g,e);this._entity.addChild((new h).add(this._endCap));a=a.getTexture("hillCap2");c=(new k(a)).setXY(-668,c-678);this._entity.addChild((new h).add(c));this._nTotalWidth=g+d.get_width()+a.get_width()};f["com.nick.wintersports.components.snowboard.SnowHill"]=
Pc;Pc.__name__="com,nick,wintersports,components,snowboard,SnowHill".split(",");Pc.__super__=s;Pc.prototype=r(s.prototype,{get_name:function(){return"SnowHill_24"},onAdded:function(){this.owner.addChild(this._entity)},onUpdate:function(){this._bReset||this._entity._compMap.Sprite_1.x._value<-this._nTotalWidth&&this.startResetting()},stopResetting:function(){for(this._bReset=!1;this._position<-this._nResetDist;)this._position+=this._nResetDist},startResetting:function(){this._bReset=!0;this._position=
this._nParallaxWidth+515},get_slope:function(){return this.slope},get_position:function(){return this._position},set_position:function(a){var b=a-this._position;this._position=a;var c=this._entity._compMap.Sprite_1;c.x.set__(this._position);c.y.set__(this._position*this.get_slope());this._bReset&&0>this._position&&(this._nFlagDist+=b,0>this._nFlagDist&&(this._nFlagDist=500,this.addBgFlag()),this._nTreeDist+=b,0>this._nTreeDist&&(this._nTreeDist=650*Math.random()+50,this.addBgTree()),c.x.set__(c.x._value%
this._nResetDist),c.y.set__(c.y._value%(this.get_slope()*this._nResetDist)));for(var a=0,d=this._aHillElements.length;a<d;){var c=this._aHillElements[a++]._compMap.Sprite_1,g=c.x;g.set__(g._value+b);c=c.y;c.set__(c._value+b*this.get_slope())}if(0<this._aHillElements.length)for(c=this._aHillElements[0]._compMap.Sprite_1;null!=c&&c.x._value<-c.getNaturalWidth();)this._aHillElements[0].dispose(),this._aHillElements.splice(0,1),c=0<this._aHillElements.length?this._aHillElements[0]._compMap.Sprite_1:null;
return this._position},addObstacle:function(a,b,c){null==c&&(c=0);null==b&&(b=0);a._compMap.Sprite_1.setXY(this._nParallaxWidth+b,this._nParallaxWidth*this.get_slope()+c);this.owner.addChild(a);this._aHillElements.push(a)},addGap:function(a){this.stopResetting();var b=this._entity._compMap.Sprite_1;a._compMap.Sprite_1.setXY(b.x._value+this._endCap.x._value-50,b.y._value+this._endCap.y._value);this.owner.addChild(a);this._aHillElements.push(a)},addBgTree:function(){var a=(new k(this._pack.getTexture("tree"))).setXY(this._nParallaxWidth,
this._nParallaxWidth*this.get_slope()-175),a=(new h).add(a);this.owner.addChild(a,!1);this._aHillElements.push(a)},addBgFlag:function(){var a=(new k(this._pack.getTexture("flag"))).setXY(this._nParallaxWidth,this._nParallaxWidth*this.get_slope()-175),a=(new h).add(a);this.owner.addChild(a,!1);this._aHillElements.push(a)},dispose:function(){s.prototype.dispose.call(this);this._entity=null;y.breakUpArray(this._aHillElements);this._pack=this._endCap=this._aHillElements=null},__class__:Pc});var Qc=function(a,
b){Y.call(this,a,b)};f["com.nick.wintersports.components.snowboard.SnowboardInstructions"]=Qc;Qc.__name__="com,nick,wintersports,components,snowboard,SnowboardInstructions".split(",");Qc.__super__=Y;Qc.prototype=r(Y.prototype,{ready:function(){var a=this,b=this.owner._compMap.Disposer_18,c=l._platform.getTouch().get_supported()?"_mobile":"";this._graphic1=new k(this._pack.getTexture("panel1"+c));this._graphic2=new k(this._pack.getTexture("panel2"+c));this._graphic3=new k(this._pack.getTexture("panel3"));
this._txt1=o.getField("snowboardGameScene.instructionsPanel1"+c,0,w.Center);this._txt2=o.getField("snowboardGameScene.instructionsPanel2"+c,0,w.Center);this._txt3=o.getField("snowboardGameScene.instructionsPanel3"+c,0,w.Center);this._graphic1.setXY(355,360).centerAnchor();this._graphic2.setXY(700,380).centerAnchor();this._graphic3.setXY(1030,380).centerAnchor();this._txt1.setXY(355,520);this._txt2.setXY(700,520);this._txt3.setXY(1030,520);this._panel1.add(new i).addChild((new h).add(this._graphic1)).addChild((new h).add(this._txt1));
this._panel2.add(new i).addChild((new h).add(this._graphic2)).addChild((new h).add(this._txt2));this._panel3.add(new i).addChild((new h).add(this._graphic3)).addChild((new h).add(this._txt3));c=new ja(this._globalPack,"instructions.nextPage");c.setXY(540,675);this._nxt=new h;this._rootContainer.addChild(this._nxt.add(c));b.add(c.select.connect(function(){a.nextOperation()}));c=new Qa(this._globalPack,"pause_screen/btns",null,"close");c.setXY(990,2);this._muteButton=(new h).add(c);this._rootContainer.addChild(this._muteButton);
b.add(c.select.connect(function(){a.done()}).once())},nextOperation:function(){0==this._pageNumber?this.pageTwo():1==this._pageNumber&&this.done();Y.prototype.nextOperation.call(this)},pageOne:function(){this._nxt._compMap.Sprite_1.set_visible(!0);var a=l._platform.getTouch().get_supported()?"_mobile":"";this._graphic1.texture=this._pack.getTexture("panel1"+a);this._graphic2.texture=this._pack.getTexture("panel2"+a);this._graphic3.texture=this._pack.getTexture("panel3");this._graphic1.setXY(355,360).centerAnchor();
this._graphic2.setXY(700,380).centerAnchor();this._graphic3.setXY(1030,380).centerAnchor();this._txt1.setXY(355,520);this._txt2.setXY(700,520);this._txt3.setXY(1030,520);this._txt1.set_text(o.getField("snowboardGameScene.instructionsPanel1"+a)._text);this._txt2.set_text(o.getField("snowboardGameScene.instructionsPanel2"+a)._text);this._txt3.set_text(o.getField("snowboardGameScene.instructionsPanel3"+a)._text)},pageTwo:function(){this._nxt._compMap.Sprite_1.set_visible(!1);this._muteButton._compMap.Sprite_1.set_visible(!1);
var a=l._platform.getTouch().get_supported()?"_mobile":"";this._graphic1.texture=this._pack.getTexture("panel4");this._graphic2.texture=this._pack.getTexture("panel2"+a);this._graphic3.texture=this._pack.getTexture("panel6");this._txt1.set_text(o.getField("snowboardGameScene.instructionsPanel4"+a)._text);this._txt2.set_text(o.getField("snowboardGameScene.instructionsPanel5"+a)._text);this._txt3.set_text(o.getField("snowboardGameScene.instructionsPanel6"+a)._text)},dispose:function(){Y.prototype.dispose.call(this);
this._nxt=this._muteButton=this._txt3=this._txt2=this._txt1=this._graphic3=this._graphic2=this._graphic1=null},__class__:Qc});var Fc=function(a,b,c,d){null==d&&(d=-1);i.call(this);this._pack=a;this._globalPack=b;this.id=d;this._path="flags/"+d+"_";a=o.getField(c,0,w.Center);this._text=new h;this._down=new h;this._over=new h;this._out=new h;this._holder=new h;this._hitArea=new h;this.select=new M;this._text.add(a)};f["com.nick.wintersports.components.title.ChooserButton"]=Fc;Fc.__name__="com,nick,wintersports,components,title,ChooserButton".split(",");
Fc.__super__=i;Fc.prototype=r(i.prototype,{onAdded:function(){var a=new N;this.owner.add(a);this.owner.add(new wa);this.build();a.connect2(this._hitArea._compMap.ButtonMode2_13.over.get_changed(),p(this,this.onOverChanged));a.connect1(this._hitArea._compMap.Sprite_1.get_pointerDown(),p(this,this.onDown));a.connect1(this._hitArea._compMap.Sprite_1.get_pointerUp(),p(this,this.onUp))},build:function(){var a=new k(this._pack.getTexture(this._path+"down")),b=new k(this._pack.getTexture(this._path+"over")),
c=new k(this._pack.getTexture(this._path+"out")),d=new i,g=new V(4539796,a.getNaturalWidth(),a.getNaturalHeight());g.setXY(4,4);g.alpha.set__(0);a.disablePointer();b.disablePointer();c.disablePointer();a.set_visible(!1);b.set_visible(!1);this._down.add(a);this._over.add(b);this._out.add(c);this._hitArea.add(g);this._text._compMap.Sprite_1.setXY(g.width._value/2-2,90).disablePointer();this.owner.addChild(this._hitArea);this._holder.add(d);this._holder.addChild(this._down);this._holder.addChild(this._over);
this._holder.addChild(this._out);this._holder.addChild(this._text);this.owner.addChild(this._holder);this._hitArea.add(new X)},onOverChanged:function(a){this._holder._compMap.Sprite_1.setXY(0,0);a?(this._down._compMap.Sprite_1.set_visible(!1),this._over._compMap.Sprite_1.set_visible(!0),this._out._compMap.Sprite_1.set_visible(!1)):(this._down._compMap.Sprite_1.set_visible(!1),this._over._compMap.Sprite_1.set_visible(!1),this._out._compMap.Sprite_1.set_visible(!0))},onDown:function(){this._isDown=
!0;this._holder._compMap.Sprite_1.setXY(1,1);this._down._compMap.Sprite_1.set_visible(!0);this._over._compMap.Sprite_1.set_visible(!1);this._out._compMap.Sprite_1.set_visible(!1)},onUp:function(){var a=this;this._holder._compMap.Sprite_1.setXY(0,0);this._down._compMap.Sprite_1.set_visible(!1);this._over._compMap.Sprite_1.set_visible(!0);this._out._compMap.Sprite_1.set_visible(!1);var b=function(){a.select.emit(a)};if(this._isDown){this._globalPack.getSound("sound/button_click").play();var c=this.owner._compMap.TimeUtil_15;
c.clear(this._asynchTimeoutId,!1);this._asynchTimeoutId=c.timeout(b,0.1)}this._isDown=!1},dispose:function(){i.prototype.dispose.call(this);this.select=this._globalPack=this._pack=this._hitArea=this._text=this._out=this._over=this._holder=this._down=null},__class__:Fc});var Lb=function(a){null==a&&(a=!0);s.call(this);this.opaque=a;this.shown=new ia;this.hidden=new ia};f["flambe.scene.Scene"]=Lb;Lb.__name__=["flambe","scene","Scene"];Lb.__super__=s;Lb.prototype=r(s.prototype,{get_name:function(){return"Scene_0"},
__class__:Lb});var Da=function(){Lb.call(this);this._assets=new I};f["s2.scene.BaseScene"]=Da;Da.__name__=["s2","scene","BaseScene"];Da.__super__=Lb;Da.prototype=r(Lb.prototype,{onAdded:function(){var a=new N;this.owner.add(a);this._ltContainer=(new h).add(new i);this._rtContainer=(new h).add(new i);var b=new V(2104601,1366,768);this._backing=new h;this._backing.add(b);this._backing.add(new xb);this._backing.addChild(this._ltContainer);this._backing.addChild(this._rtContainer);this.owner.addChild(this._backing);
null!=this._assets&&this._assets.dispose();this.owner.add(this._assets);this._assets.ready?this.internal_assetsReady():a.connect0(this._assets.success,p(this,this.internal_assetsReady));var b=U.director.get_topScene(),b=null!=b?b._compMap.Scene_0:null,c=null,c=null!=b?b.hidden.connect(p(this,this.internal_onShown)).once():this.shown.connect(p(this,this.internal_onShown)).once();a.add(c);a.connect0(l._platform.getStage().resize,p(this,this.posContainer));this.posContainer();a.connect0(l._platform.getStage().resize,
p(this,this.onResize))},assetsReady:function(){},onShown:function(){},internal_onShown:function(){this.isShown=!0;if(this._assets.ready)this.onShown()},internal_assetsReady:function(){this.assetsReady();if(this.isShown)this.onShown()},posContainer:function(){this._ltContainer._compMap.Sprite_1.x.set__(y.getSafeArea().x);this._rtContainer._compMap.Sprite_1.x.set__(y.getSafeArea().x+y.getSafeArea().width)},onResize:function(){},dispose:function(){Lb.prototype.dispose.call(this);this._assets=this._rtContainer=
this._ltContainer=this._backing=null},__class__:Da});var da=function(){Da.call(this);this._className=P.getClassName(A.getClass(this));this._className=t.substr(this._className,this._className.lastIndexOf(".")+1,null);this._locNodeName=t.substr(this._className,0,1).toLowerCase()+t.substr(this._className,1,null);this._manifestId=this._className.replace(/(.)([A-Z])/g,"$1_$2").toLowerCase();this._assets.require("global");this._assets.require(this._manifestId)};f["com.nick.wintersports.scenes.AppScene"]=
da;da.__name__=["com","nick","wintersports","scenes","AppScene"];da.__super__=Da;da.prototype=r(Da.prototype,{assetsReady:function(){Da.prototype.assetsReady.call(this);this._pack=this._assets.get(this._manifestId);this._globalPack=this._assets.get("global");this._globalLib=new Ia(this._globalPack,"lib");null==this.owner._compMap.Disposer_18&&this.owner.add(new N);this._backing.add(new k(this._pack.getTexture("bg"))).add(new xb)},dispose:function(){Da.prototype.dispose.call(this);this._globalLib=
this._lib=this._globalPack=this._pack=null},__class__:da});var H=function(){this._powerupActive=!1;this._prevSpeedAdjusterScale=1;da.call(this);this._gameContainer=new h};f["com.nick.wintersports.scenes.GameScene"]=H;H.__name__=["com","nick","wintersports","scenes","GameScene"];H.__super__=da;H.prototype=r(da.prototype,{assetsReady:function(){da.prototype.assetsReady.call(this);this._lib=new Ia(this._pack,"lib");Oa.sendGameEvent("onLevelStart",this._trackingLevelName);this._gameContainer.add(new Hb);
this._gameContainer.add(new Ya);this._gameContainer.add(new wa);var a=new kb(this._globalPack,this._locNodeName,this._className);this._resultsScreen=(new h).add(a)},finishAssetsReady:function(){var a=this,b=this.owner._compMap.Disposer_18;this._gameContainer._compMap.Sprite_1.scissor=new $a(0,0,1366,768);this._backing.addChild(this._gameContainer);this._backing.addChild(this._ltContainer);this._backing.addChild(this._rtContainer);this.addScoreboards();var c=this._resultsScreen._compMap.Sprite_1,c=
c instanceof kb?c:null;c.set_visible(!1);this._backing.addChild(this._resultsScreen);b.connect0(c.removed,p(this,this.onStartOrRestart));c=new jb(this._globalPack);this._prompt=(new h).add(c);this._backing.addChild(this._prompt);b.connect1(c.selectionSig,function(b){if(b)T["goto"](Ja);else b=a._pauseScreen._compMap.Sprite_1,(b instanceof tb?b:null).set_visible(!0),a._prompt._compMap.Sprite_1.set_visible(!1)});c=new tb(this._globalPack);c.set_visible(!1);this._pauseScreen=(new h).add(c);this._backing.addChild(this._pauseScreen);
b.connect0(c.removed,p(this,this.onPauseScreenRemoved));b.connect0(c.gotoInstructions,p(this,this.onGotoInstructions));b.connect0(c.quit,p(this,this.onPauseScreenQuit));var d=l.root._compMap.GameTracker_12;if(null!=this._instructionScreen)if(c=this._instructionScreen._compMap.Sprite_1,c=c instanceof Y?c:null,c.set_visible(!1),this._backing.addChild(this._instructionScreen),b.connect0(c.doneSignal,function(){d.getInstructionsShown(a._className)?a.unpauseGame():(d.setInstructionsShown(a._className),
a.onStartOrRestart())}),d.getInstructionsShown(this._className))this.onStartOrRestart();else c.set_visible(!0);else this.onStartOrRestart()},onStartOrRestart:function(){this._gameContainer._compMap.TimeUtil_15.clearAll();this.setScore(0);this._resultsScreen._compMap.Sprite_1.set_visible(!1);l.root._compMap.GameTracker_12.getGameCheatUnlocked(this._className)&&this._gameContainer._compMap.TimeUtil_15.timeout(p(this,this.offerPowerup),10);if(null!=this._hitEffects)for(var a=0,b=this._hitEffects.length;a<
b;){var c=a++;this._hitEffects[c].dispose();this._hitEffects[c]=null}this._hitEffects=[]},addScoreboards:function(){var a=this.owner._compMap.Disposer_18,b=l.root._compMap.GameTracker_12,c=new Ra(this._globalPack,this._locNodeName+".rtReadout");c.setXY(100,8);this._timeDisplay=(new h).add(c);this._ltContainer.addChild(this._timeDisplay);c=new Ra(this._globalPack,this._locNodeName+".ltReadout");c.setXY(-100,8);this._scoreDisplay=(new h).add(c);this._rtContainer.addChild(this._scoreDisplay);c=new k(this._globalPack.getTexture("hud/indicator_backing"));
c.setXY(200,30);var c=(new h).add(c),b=new k(this._globalPack.getTexture("contestant_flags/"+b.getCharacterIds()[0])),d=(new h).add(b);b.setXY(4,4);c.addChild(d);this._ltContainer.addChild(c);b=new Qa(this._globalPack,"pause_btn");b.setXY(-290,2);this._pauseButton=(new h).add(b);this._rtContainer.addChild(this._pauseButton);c=new ja(this._globalPack,"global.powerupAvailabeButton");c.setXY(527,668);c.set_visible(!1);this._powerupButton=(new h).add(c);this._backing.addChild(this._powerupButton);a.add(c.select.connect(p(this,
this.onPowerupButtonSelected)));a.connect1(b.select,p(this,this.onPauseSelect))},onPowerupButtonSelected:function(){this.beginPowerup()},addHitEffect:function(a,b,c,d,g){var e=this,b=c.createSprite(b,!0);b.setXY(d,g);b.disablePointer();var q=(new h).add(b);this.owner._compMap.Disposer_18.add(b.get_looped().connect(function(){e._hitEffects.splice(e._hitEffects.indexOf(q),1);q.dispose()}).once());this._hitEffects.push(q);if(null==a)throw new n("null layer.");a.addChild(q)},addPointEffect:function(a,
b,c,d){this.addHitEffect(a,"Score"+(null==b?"null":""+b)+"points",this._globalLib,c,d)},offerPowerup:function(){var a=this._powerupButton._compMap.Sprite_1,a=a instanceof ja?a:null;a.set_visible(!0);var b=this._gameContainer._compMap.TimeUtil_15,c=a.alpha;this._blinkTimeoutId=b.interval(function(){c.set__(0==c._value?1:0)},0.2);this._terminatePowerupOfferId=b.timeout(p(this,this.terminatePowerupOffer),10)},terminatePowerupOffer:function(){this._powerupButton._compMap.Sprite_1.set_visible(!1);this._gameContainer._compMap.TimeUtil_15.clear(this._blinkTimeoutId);
this._gameContainer._compMap.TimeUtil_15.clear(this._terminatePowerupOfferId)},beginPowerup:function(){this.terminatePowerupOffer();this._gameContainer._compMap.TimeUtil_15.timeout(p(this,this.concludePowerup),20);this._powerupActive=!0},concludePowerup:function(){this._powerupActive=!1},pauseGame:function(){var a=this._gameContainer._compMap.SpeedAdjuster_21;this._prevSpeedAdjusterScale=a.scale._value;a.scale.set__(0)},unpauseGame:function(){this._gameContainer._compMap.SpeedAdjuster_21.scale.set__(this._prevSpeedAdjusterScale);
Oa.sendGameEvent("onResume")},onPauseSelect:function(){var a=this._pauseScreen._compMap.Sprite_1;(a instanceof tb?a:null).set_visible(!0);this.pauseGame();Oa.sendGameEvent("onPause")},onGotoInstructions:function(){var a=this._instructionScreen._compMap.Sprite_1;(a instanceof Y?a:null).show()},onPauseScreenQuit:function(){var a=this._pauseScreen._compMap.Sprite_1;(a instanceof tb?a:null).set_visible(!1);a=this._prompt._compMap.Sprite_1;(a instanceof jb?a:null).prompt("prompt.quitGame",!1)},onPauseScreenRemoved:function(){var a=
this._pauseScreen._compMap.Sprite_1;(a instanceof tb?a:null).set_visible(!1);this._prompt._compMap.Sprite_1.set_visible(!1);this.unpauseGame()},updateScore:function(a){this.setScore(this._totalScore+=a)},setScore:function(a){this._totalScore=a;a=this._scoreDisplay._compMap.Sprite_1;(a instanceof Ra?a:null).updateReadout(this._totalScore)},dispose:function(){Oa.sendGameEvent("onLevelComplete",this._trackingLevelName);this._instructionScreen=this._gameContainer=this._timeDisplay=this._scoreDisplay=
this._powerupButton=this._pauseButton=this._prompt=this._pauseScreen=this._resultsScreen=null;y.breakUpArray(this._hitEffects);this._hitEffects=null;da.prototype.dispose.call(this)},__class__:H});var cb=function(){this._minSpeed=0.6;this._elapsedSeconds=this._trackSegmentsPassed=0;this._horizonLine=380;H.call(this);this._trackingLevelName="bobsled";this._trackObjects=[];this._hitEffects=[];this._obstacleXY=new J(683,this._horizonLine);this._sledXY=new J(683,this._horizonLine-30);this._targetSeconds=
64};f["com.nick.wintersports.scenes.BobsledGameScene"]=cb;cb.__name__=["com","nick","wintersports","scenes","BobsledGameScene"];cb.__super__=H;cb.prototype=r(H.prototype,{assetsReady:function(){H.prototype.assetsReady.call(this);this._track=(new h).add(new i);this._track.add(new Hb);this._gameContainer.addChild(this._track);this._depthLayers=[];for(var a=0;5>a;){var b=a++;this._depthLayers[b]=new h;this._track.addChild(this._depthLayers[b])}this._depthLayers[1].add(new k(this._pack.getTexture("edge_overlay")));
this._track.add(new Ya(0));this._track.add(new wa);a=new jc(this._lib);b=new i;b.disablePointer();b.centerAnchor();b.anchorY.set__(-320);b.x.set__(this._sledXY.x);b.y.set__(this._sledXY.y);b.rotation.set__(0);this._sled=(new h).add(b).add(a);a=new k(this._pack.getTexture("pizza_arms"));a.setXY(-100,-180);a.set_visible(!1);this._pizzaArms=(new h).add(a);this._sled.addChild(this._pizzaArms);this._depthLayers[3].addChild(this._sled);O.setBgLoop(this._pack.getSound("sound/track"),0.85);a=new Gb(this._globalPack);
a.setXY(-99,109);this._progress=(new h).add(a);a.setLoc("bobsledGameScene.distance");this._rtContainer.addChild(this._progress);a=new V(11354926,4,4);a.centerAnchor();this._scorePlacementTest=(new h).add(a);a=new V(11354926,4,4);a.centerAnchor();this._hit1=(new h).add(a);a=new V(153,4,4);a.centerAnchor();this._hit2=(new h).add(a);a=new Hc(this._pack,this._globalPack);this._instructionScreen=(new h).add(a);this._instructionScreen.add(a);a=this._track._compMap.Sprite_1;(a instanceof Hb?a:null).setUpdateFunction(p(this,
this.update));this.finishAssetsReady()},update:function(a){this._totalSeconds+=a;a=this._progress._compMap.Sprite_1;(a instanceof Gb?a:null).update(this._totalSeconds/this._targetSeconds)},onStartOrRestart:function(){var a=this;H.prototype.onStartOrRestart.call(this);for(var b=this._totalSeconds=0,c=this._trackObjects.length;b<c;){var d=b++;null!=this._trackObjects[d].parent&&(this._trackObjects[d].parent.removeChild(this._trackObjects[d]),this._trackObjects[d]=null)}this._boostStripsPlaced=0;this._trackObjects=
[];this._tapActive=!1;this._villainsHit=this._elapsedSeconds=this._numObstaclesPlaced=0;this._sled._compMap.MoviePlayer_3.loop("BobsledRun");b=this._timeDisplay._compMap.Sprite_1;(b instanceof Ra?b:null).updateReadout(this._elapsedSeconds);var g=new N;this._gameContainer.add(g);var b=this._track._compMap.TimeUtil_15,e=this._gameContainer._compMap.TimeUtil_15;this._track._compMap.SpeedAdjuster_21.scale.set__(0);this._trackSegmentsPassed=0;b.interval(p(this,this.ringInterval),0.8);this.timeoutObstacleInterval();
var q=new N,f=new N;this.owner._compMap.Disposer_18.add(q);this.owner._compMap.Disposer_18.add(f);var b=fa.get_mobile()?".tap":".click",ba=o.getField(this._locNodeName+b+"Start",0,w.Center);ba.setXY(683,384);this._gameContainer.addChild((new h).add(ba));var i=o.getField(this._locNodeName+b+"Faster",0,w.Center);i.set_visible(!1);i.setXY(683,384);this._gameContainer.addChild((new h).add(i));for(var j=-1,c=0;3>c;)d=c++,b=new k(this._pack.getTexture("ring_flags")),b.centerAnchor(),this.attachObject((new h).add(b),
0,0.5+0.2*d);var l=function(){f.dispose();a._tapActive=!1;e.clear(j);i.set_visible(!1);a._sled._compMap.MoviePlayer_3.loop("BobsledNormal");var b=a._backing._compMap.Sprite_1.get_pointerMove();g.connect1(b,p(a,a.onMouseMove))},n=function(){if(a._tapActive){var b=a._track._compMap.SpeedAdjuster_21.scale;b.set__(b._value+0.09)}},m=function(){a._elapsedSecondsId=e.interval(p(a,a.handleElapsedSeconds),1);q.dispose();a._tapActive=!0;e.timeout(l,2)},r=function(){var b=a._tapActive?i:ba;b.set_visible(0==
(b._flags&2));a._tapActive&&ba.set_visible(!1)};e.timeout(function(){var b=a._track._compMap.Sprite_1.get_pointerUp();q.connect1(b,m);b=a._track._compMap.Sprite_1.get_pointerUp();f.connect1(b,n);j=e.interval(r,0.2)},0.5)},beginPowerup:function(){H.prototype.beginPowerup.call(this);this._sled._compMap.MoviePlayer_3.loop("BobsledPowerup")},concludePowerup:function(){this._sled._compMap.MoviePlayer_3.loop("BobsledNormal");H.prototype.concludePowerup.call(this)},handleElapsedSeconds:function(){this._elapsedSeconds++;
var a=this._timeDisplay._compMap.Sprite_1;(a instanceof Ra?a:null).updateReadout(this._elapsedSeconds)},onMouseMove:function(a){0!=a.viewX&&(a=a.viewX/l._platform.getStage().get_width(),a=Math.max(Math.min(1.2*a-0.1,1),0),this._sled._compMap.Sprite_1.rotation.animateTo(-(180*a-90),0.1,F.sineOut))},timeoutObstacleInterval:function(){this._obstacleTimeoutId=this._track._compMap.TimeUtil_15.timeout(p(this,this.obstacleInterval),0.5*Math.random()+0.5)},obstacleInterval:function(){var a=Math.floor(5*Math.random()),
b=140*Math.random()-90+20;15<this._elapsedSeconds&&1>this._boostStripsPlaced?(a=new ab(this._pack,this._lib),b=0):30<this._elapsedSeconds&&2>this._boostStripsPlaced?(a=new ab(this._pack,this._lib),b=0):a=4<=a||1>this._numObstaclesPlaced?new Vb(this._pack,this._lib):2<=a?new bb(this._pack,this._lib):new Ub(this._pack,this._lib);this.attachImage(a,b);this.timeoutObstacleInterval()},ringInterval:function(){this._trackSegmentsPassed++;var a;80==this._trackSegmentsPassed?a=new k(this._pack.getTexture("finish_line")):
80<this._trackSegmentsPassed?(a=new k(this._pack.getTexture("ring_flags")),this.endGame()):78<this._trackSegmentsPassed?(a=new k(this._pack.getTexture("ring_flags")),this._track._compMap.TimeUtil_15.clear(this._obstacleTimeoutId)):a=new k(this._pack.getTexture("ring_flags"));a.centerAnchor();a.disablePointer();this.attachObject((new h).add(a),0)},attachImage:function(a,b,c){a.anchorY.set__(-480+a.get_view().getNaturalHeight());a.y.set__(-250);a.rotation.set__(b);(null==a?null:A.getClass(a))==ab&&
this._boostStripsPlaced++;this.attachObject((new h).add(a),2,c);return b},attachObject:function(a,b,c){null==b&&(b=2);var d=a._compMap.Sprite_1,g=new i;g.setXY(this._obstacleXY.x,this._obstacleXY.y);g.alpha.set__(0);g.setScale(0.056);g.scaleX.animateTo(20,2,F.expoIn);g.scaleY.animateTo(20,2,F.expoIn);g.alpha.animateTo(1,0.3);null!=c&&(g.scaleX.update(c),g.scaleY.update(c),g.alpha.update(c));c=(new h).add(g);c.addChild(a);this._trackObjects.splice(0,0,c);this._depthLayers[b].addChild(c);this.orderDepth();
a=null==d?null:A.getClass(d);2==b&&(this._numObstaclesPlaced++,this._track._compMap.TimeUtil_15.timeout(p(this,this.respondToSled),1.06,[c]));a==bb&&this._powerupActive&&this._track._compMap.TimeUtil_15.timeout(p(this,this.respondToSled),1.2,[c,!0]);this._track._compMap.TimeUtil_15.timeout(p(this,this.forceRemove),2,[c])},respondToSled:function(a,b){null==b&&(b=!1);var c=a._compMap.Sprite_1,d=this._track._compMap.SpeedAdjuster_21,g=a.firstChild._compMap.Sprite_1,e=this._sled._compMap.Sprite_1,q=this._scorePlacementTest._compMap.Sprite_1,
f=this._hit1._compMap.Sprite_1,h=this._hit2._compMap.Sprite_1;f.x.set__(this._sledXY.x+150*Math.cos((e.rotation._value+90)*Math.PI/180));f.y.set__(this._sledXY.y+150*Math.sin((e.rotation._value+90)*Math.PI/180));h.x.set__(c.x._value+400*Math.cos((g.rotation._value+90)*Math.PI/180));h.y.set__(c.y._value+400*Math.sin((g.rotation._value+90)*Math.PI/180)-250*c.scaleY._value);q.x.set__(this._sledXY.x+140*Math.cos((e.rotation._value+90)*Math.PI/180));q.y.set__(this._sledXY.y+140*Math.sin((e.rotation._value+
90)*Math.PI/180));var i=Math.abs(1.6*g.rotation._value-this._sled._compMap.Sprite_1.rotation._value),e=null==g?null:A.getClass(g),j,f=!1,h=null;e==bb?(h=g,j=b?53:32,f=32>i):(j=e==ab?32:24,f=!0);if(i<j&&!(e==bb&&h.sploded)){this.remove(c.owner);c=d.scale._value;switch(e){case ab:this._pack.getSound("sound/boost").play();this.sledHitAnimation(-25,!1);d.scale.set__(c+0.6);this.throwUpMikesysArms();break;case Ub:this._pack.getSound("sound/ice_hit").play();d.scale.set__(Math.max(c-0.15,0.1));this.sledHitAnimation(100,
!0);break;case Vb:this._pack.getSound("sound/pizza_hit").play();d.scale.set__(c+0.15);this.throwUpMikesysArms();break;case bb:this._pack.getSound("sound/snowman_hit").play(),h.playCollision(),this._villainsHit++,2==h.type?(f&&d.scale.set__(Math.max(c-0.075,0.1)),this.addPointEffect(this._track,100,q.x._value,q.y._value),this.updateScore(100)):(this.updateScore(50),this.addPointEffect(this._track,50,q.x._value,q.y._value)),f&&this.sledHitAnimation(25,!1),this.throwUpMikesysArms()}c>d.scale._value&&
d.scale._value<this._minSpeed&&d.scale.animateTo(this._minSpeed,2)}else c.disablePointer(),e!=ab&&(this._depthLayers[3].addChild(a),this.orderDepth());this._track._compMap.TimeUtil_15.timeout(function(){g.alpha.animateTo(0,0.5,F.sineOut)},0.3)},endGame:function(){this._gameContainer._compMap.Disposer_18.dispose();this._sled._compMap.Sprite_1.rotation.animateTo(0,0.7,F.sineOut);this._track._compMap.SpeedAdjuster_21.scale.animateTo(0,1.5);this._track._compMap.TimeUtil_15.clearAll();this._gameContainer._compMap.TimeUtil_15.clear(this._elapsedSecondsId);
var a=Math.max(0,54-this._elapsedSeconds),a=50*Math.floor(50*a/50);this.updateScore(a);this._backing._compMap.Sprite_1.onUpdate(0);var b=this._resultsScreen._compMap.Sprite_1,b=b instanceof kb?b:null;b.update(this._villainsHit,a,this._totalScore);b.show()},orderDepth:function(){for(var a=0,b=this._trackObjects.length;a<b;){var c=a++;this._trackObjects[c].parent.addChild(this._trackObjects[c])}},remove:function(a){t.remove(this._trackObjects,a);var b;null!=a.firstChild?(b=a.firstChild._compMap.Sprite_1,
b=(null==b?null:A.getClass(b))!=bb):b=!0;b?a.dispose():a._compMap.Sprite_1.disablePointer()},forceRemove:function(a){t.remove(this._trackObjects,a);a.dispose()},throwUpMikesysArms:function(){var a=this._pizzaArms._compMap.Sprite_1;a.set_visible(!0);this._track._compMap.TimeUtil_15.clear(this._armsRemoveTimoutId,!1);this._armsRemoveTimoutId=this._track._compMap.TimeUtil_15.timeout(function(){a.set_visible(!1)},1)},sledHitAnimation:function(a,b){var c=this._sled._compMap.Sprite_1,d=c.x._value,g=c.y._value,
e=-a*Math.sin(c.rotation._value*Math.PI/180),q=a*Math.cos(c.rotation._value*Math.PI/180),f=this._sled._compMap.Script_16;null==f&&(f=new sa,this._sled.add(f));var h=null,h=b?new Rc([new yb(new ka([new ob(c.alpha,0,0.1),new ob(c.alpha,1,0.1)]),3),new ka([new Ta(d+e,g+q,0.1,F.quadOut,F.quadOut),new Ta(d,g,0.1,F.quadOut,F.quadIn)])]):new ka([new Ta(d+e,g+q,0.1,F.quadOut,F.quadOut),new Ta(d,g,0.1,F.quadOut,F.quadIn)]);f.run(h)},dispose:function(){H.prototype.dispose.call(this);this._scorePlacementTest=
this._hit2=this._hit1=this._powerupWeapons=this._track=this._progress=this._pizzaArms=this._sled=this._sledXY=this._obstacleXY=null;y.breakUpArray(this._depthLayers);this._depthLayers=null;y.breakUpArray(this._trackObjects);this._trackObjects=null},__class__:cb});var kc=function(a){i.call(this);this._pack=a;this.allCodesEntered=new ia;this.codeUnlocked=new ia;this._gameIDs=["HockeyGameScene","BobsledGameScene","SnowboardGameScene","SkiJumpGameScene"]};f["com.nick.wintersports.scenes.CodeScreen"]=
kc;kc.__name__=["com","nick","wintersports","scenes","CodeScreen"];kc.__super__=i;kc.prototype=r(i.prototype,{onAdded:function(){var a=this,b=new N;null==b&&(b=new N,this.owner.add(b));this._entity=(new h).add(new i);var c=new V(16776956,1366,768);c.alpha.set__(0.84);this._entity.addChild((new h).add(c));var c=new k(this._pack.getTexture("enterCode/controller")),d=(new h).add(c);c.x.set__(y.getSafeArea().x+(y.getSafeArea().width-c.getNaturalWidth())/2);le.bottom(d,85);this._entity.addChild(d);for(var g=
0;3>g;){var e=[g++],c=(new V(16711935,85,85)).setXY(446+89*e[0],126);c.alpha.set__(0);d.addChild((new h).add(c));b.connect1(c.get_pointerDown(),function(b){return function(){a.handleButtonDown(b[0])}}(e))}c=o.getField("enterCode.enterCode",0,w.Center);c.x.set__(683);c.y.set__(d._compMap.Sprite_1.y._value-c.getNaturalHeight()+8);this._entity.addChild((new h).add(c));c=new Qa(this._pack,"close_btn");c.x.set__(y.getSafeArea().x+y.getSafeArea().width-82);c.y.set__(10);b.connect1(c.select,function(){a.handleButtonDown(3)});
d=(new h).add(c);this._entity.addChild(d);b=new k(this._pack.getTexture("enterCode/cheatUnlockBg"));b.centerAnchor();b.anchorY.set__(0);b.setXY(683,128);this._announcement=(new h).add(b);this._entity.addChild(this._announcement);b=o.getField("enterCode.announcement",0,w.Center);this._announcementText=(new h).add(b);this.positionText();this._announcement.addChild(this._announcementText);this.set_visible(!1);this.owner.addChild(this._entity)},positionText:function(){var a=this._announcementText._compMap.Sprite_1,
b=this._announcement._compMap.Sprite_1;(a instanceof ra?a:null).setXY(b.getNaturalWidth()/2,b.getNaturalHeight()/2-20)},handleButtonDown:function(a){switch(a){case 0:this._sCode+="1";break;case 1:this._sCode+="2";break;case 2:this._sCode+="3";break;case 3:this.set_visible(!1)}for(var a=!1,b=0,c=this._gameIDs.length;b<c&&!(a=this.checkCode(this._gameIDs[b++])););a?this._gameTracker.allGameCheatUnlocked()&&this.allCodesEntered.emit():6==this._sCode.length?(this.announce("unknownCode"),a=this._announcementText._compMap.Sprite_1,
a=a instanceof ra?a:null,a.set_text(a._text+z.string(this._sCode)),this._sCode=""):(a=this._announcementText._compMap.Sprite_1,(a instanceof ra?a:null).set_text(this._sCode.toString()))},set_visible:function(a){if(a){this._sCode="";var b=this._announcementText._compMap.Sprite_1;(b instanceof ra?b:null).set_text("")}return i.prototype.set_visible.call(this,a)},checkCode:function(a){var b=!1;this._gameTracker=l.root._compMap.GameTracker_12;this._gameTracker.getGameUnlocked(a)&&this._gameTracker.getGameGameCheatCode(a)==
this._sCode&&(b=!0,this._gameTracker.getGameCheatUnlocked(a)?this.announce("alreadyUnlocked"+a,!0):(this._gameTracker.setGameCheatUnlocked(a,!0),this._pack.getSound("sound/code_unlock").play(),this.announce(a),this.codeUnlocked.emit()),this._sCode="");return b},announce:function(a,b){null==b&&(b=!1);this._announcementText.add(o.getField("enterCode."+a,0,w.Center));this.positionText();if(b){var c=this._announcement._compMap.Sprite_1;c.alpha.set__(0);c.alpha.animateTo(1,0.5)}},dispose:function(){i.prototype.dispose.call(this);
this._gameTracker=this._gameIDs=this._announcementText=this._announcement=this._sCode=this._entity=this._pack=this.allCodesEntered=null},__class__:kc});var zb=function(){this._okToShoot=!0;this._depthEnabled=!1;this._trajectoryDepthCheck2=0.52;this._trajectoryDepthCheck1=0.62;H.call(this);this._trackingLevelName="hockey";this._assets.autoCacheResults=!0;this._down=new J;this._target=new J;this._puckPos=new J(683,568);this._availablePlankton=[];this._pucks=[];this._hitEffects=[];var a=K.fromBrowser(),
b=a.query;if(null!=v.hockeyDepthEnabled?b.existsReserved("hockeyDepthEnabled"):b.h.hasOwnProperty("hockeyDepthEnabled"))a=a.query,this._depthEnabled=dc.stringToBool(null!=v.hockeyDepthEnabled?a.getReserved("hockeyDepthEnabled"):a.h.hockeyDepthEnabled)};f["com.nick.wintersports.scenes.HockeyGameScene"]=zb;zb.__name__=["com","nick","wintersports","scenes","HockeyGameScene"];zb.__super__=H;zb.prototype=r(H.prototype,{assetsReady:function(){H.prototype.assetsReady.call(this);var a=this.owner._compMap.Disposer_18;
this._depthLayers=[];for(var b=0;5>b;){var c=b++;this._depthLayers[c]=new h;this._gameContainer.addChild(this._depthLayers[c])}b=new k(this._pack.getTexture("goal"));b.y.set__(76);b.x.set__(683);b.centerAnchor();b.anchorY.set__(0);this._goal=(new h).add(b);this._depthLayers[1].addChild(this._goal);b=new V(10027008,278,158);b.y.set__(114);b.x.set__(683);b.centerAnchor();b.anchorY.set__(0);b.alpha.set__(0);this._goalRect=(new h).add(b);this._depthLayers[1].addChild(this._goalRect);this._plankton=[];
for(var d=0;4>d;){var g=d++,c=2>g?0:376,b=new lb(this._pack,g);b.x.set__(156*g+c+272);b.y.set__(320);b.hidden.connect(p(this,this.handlePlanktonHidden));this._plankton[g]=(new h).add(b);this._availablePlankton.push(this._plankton[g]);this._depthLayers[2].addChild(this._plankton[g])}b=new Ib(this._lib);b.setXY(683,316);this._patrick=(new h).add(b);this._depthLayers[2].addChild(this._patrick);b=new Sc(1366,768);this._interact=(new h).add(b);this._depthLayers[4].addChild(this._interact);b=new gc(this._pack);
b.set_visible(!1);b.set_block(!1);this._rectile=(new h).add(b);this._depthLayers[4].addChild(this._rectile);this._trajectoryIndicators=[];for(c=0;10>c;)d=c++,b=new k(this._pack.getTexture("shot_path_indicator")),b.disablePointer(),b.centerAnchor(),b.setScale(0.1*(10-d)+0.7),this._trajectoryIndicators[d]=(new h).add(b);b=0;for(c=this._trajectoryIndicators.length;b<c;)this._depthLayers[4].addChild(this._trajectoryIndicators[this._trajectoryIndicators.length-b++-1]);b=new k(this._pack.getTexture("puck"));
b.x.set__(this._puckPos.x);b.y.set__(this._puckPos.y);b.set_visible(!1);b.centerAnchor();b.disablePointer();this._staticPuck=(new h).add(b);this._depthLayers[3].addChild(this._staticPuck);b=new Jb(this._lib);b.setXY(this._puckPos.x,this._puckPos.y);b.disablePointer();this._spongeBob=(new h).add(b);this._depthLayers[4].addChild(this._spongeBob);a.connect1(this._interact._compMap.Sprite_1.get_pointerDown(),p(this,this.onInteractPointerDn));O.setBgLoop(this._pack.getSound("sound/track"),1);a=new Ic(this._pack,
this._globalPack);this._instructionScreen=(new h).add(a);this._instructionScreen.add(a);this.finishAssetsReady();this._interact.addChild(this._powerupButton)},onStartOrRestart:function(){H.prototype.onStartOrRestart.call(this);var a=this._spongeBob._compMap.Sprite_1;(a instanceof Jb?a:null).setPositionPause(0);this._staticPuck._compMap.Sprite_1.set_visible(!1);this._gameContainer._compMap.TimeUtil_15.timeout(p(this,this.showPlankton),2);for(var a=0,b=this._pucks.length;a<b;){var c=a++;this._pucks[c].dispose();
this._pucks[c]=null}for(a=0;4>a;)b=this._plankton[a++]._compMap.Sprite_1,(b instanceof lb?b:null).reset();this._pucks=[];this._goalsScored=this._planktonHit=0;this._pointerDown=!1;this._gameContainer._compMap.SpeedAdjuster_21.scale.set__(1);this._secondsRemaining=60;this._decrementSecondsIntervalId=this._gameContainer._compMap.TimeUtil_15.interval(p(this,this.decrementSeconds),1);this.resetShot()},onInteractPointerDn:function(a){this._pointerDown=!0;this._down.x=a.viewX;this._down.y=a.viewY;this._staticPuck._compMap.Sprite_1.set_visible(!0);
this.owner._compMap.Disposer_18.add(l._platform.getPointer().up.connect(p(this,this.onInteractPointerUp)).once())},onInteractPointerUp:function(){this.determinePowerAndLift();this._pointerDown=!1;this._staticPuck._compMap.Sprite_1.set_visible(!1);if(0<this._power&&this._okToShoot)if(this._numPucks++,this._powerupActive)for(var a=0;3>a;)this.shot(a++);else this.shot(1)},shot:function(a){var b=this._spongeBob._compMap.Sprite_1,c=b instanceof Jb?b:null,b=this._gameContainer._compMap.TimeUtil_15,d=new k(this._pack.getTexture("puck"));
d.x.set__(this._puckPos.x);d.y.set__(this._puckPos.y);d.centerAnchor();d.disablePointer();var g=(new h).add(d);this._pucks.push(g);this._depthLayers[3].addChild(g);45<this._lift?c.proceedFrom():0<this._lift?c.proceedFrom(0.13):c.proceedFrom(0.18);d.x.animateTo(this._target.x+75*a-75,this._tweenDuration,this._easeX);d.y.animateTo(this._target.y,this._tweenDuration,this._easeY);d.scaleX.animateTo(0.35,this._tweenDuration,F.circOut);d.scaleY.animateTo(0.35,this._tweenDuration,F.circOut);a=0;this._pack.getSound("sound/shot").play();
this._depthEnabled?(a=b.timeout(p(this,this.checkLayer1),this._tweenDuration*this._trajectoryDepthCheck1,[g]),b.timeout(p(this,this.checkLayer2),this._tweenDuration*this._trajectoryDepthCheck2,[g,a]),b.timeout(p(this,this.removePuck),this._tweenDuration+0.1,[g])):b.timeout(p(this,this.doInOrder),this._tweenDuration,[g]);this._okToShoot=!1;b.timeout(p(this,this.resetShot),0.4)},resetShot:function(){this._okToShoot=!0},doInOrder:function(a){this.checkLayer2(a);null!=a._compMap.Sprite_1&&this.checkLayer1(a);
null!=a._compMap.Sprite_1&&this.removePuck(a)},removePuck:function(a){if(null!=a.parent){var b=a._compMap.Sprite_1;null!=a.parent&&this.addHitEffect(a.parent,"HitAnimation",this._lib,b.x._value,b.y._value);this._pack.getSound("sound/missHit").play();this._pucks.splice(this._pucks.indexOf(a),1);this._numPucks--;a.dispose()}},checkLayer1:function(a){var b=a._compMap.Sprite_1,c=this.testHitLayer1(b.x._value,b.y._value);c==this._goalRect._compMap.Sprite_1?(this._pack.getSound("sound/goal").play(),this.addHitEffect(this._gameContainer,
"Score50points",this._globalLib,b.x._value,b.y._value),this.removePuck(a),this._goalsScored++,this.updateScore(50)):c==this._goal._compMap.Sprite_1?(b.y.animateTo(30,0.3,F.expoOut),b.rotation.animateTo(360,0.3),b.scaleX.animateTo(0.1,0.3),b.scaleY.animateTo(0.1,0.3),this._pack.getSound("sound/hitPole").play()):this._depthLayers[0].addChild(a)},checkLayer2:function(a,b){null==b&&(b=-1);var c=a._compMap.Sprite_1,d=this._gameContainer._compMap.TimeUtil_15,g=this.testHitLayer2(c.x._value,c.y._value),
e=this._patrick._compMap.Sprite_1,e=e instanceof Ib?e:null;if(g==e)this.removePuck(a),-1!=b&&d.clear(b),e.reactToPuckHit(),this._pack.getSound("sound/goalieBlock").play();else if(A.__instanceof(g,lb)){g.set_visible(!1);this._planktonHit++;d.clear(this._showPlanktonTO,!1);d.timeout(p(this,this.showPlankton),Math.random()+1);e=50*(2-g.size)+50;if(0==g.index||3==g.index)e+=50;this.addPointEffect(this._gameContainer,e,c.x._value,c.y._value);this.updateScore(e);this._pack.getSound("sound/bonusHit").play();
this.removePuck(a);-1!=b&&d.clear(b)}else this._depthLayers[1].addChild(a)},testHitLayer1:function(a,b){var c=i.hitTest(this._depthLayers[1],a,b);if(null!=c){var d=this._goalRect._compMap.Sprite_1,g=this._goal._compMap.Sprite_1;if(c==d)return d;if(c==g)return g}return null},testHitLayer2:function(a,b){var c=i.hitTest(this._depthLayers[2],a,b);if(null!=c){var d=this._patrick._compMap.Sprite_1,d=d instanceof Ib?d:null,g;if(d.testHitSprite(c.owner))return d;for(var d=0,e=this._plankton.length;d<e;)if(g=
this._plankton[d++]._compMap.Sprite_1,g=g instanceof lb?g:null,g.testHitSprite(c.owner))return g}return null},determinePowerAndLift:function(){this._power=l._platform.getPointer().get_y()-this._down.y;this._lift=Math.max(0,this._power-90)},onUpdate:function(a){this.determinePowerAndLift();this._target.x=683-2*(l._platform.getPointer().get_x()-this._down.x);this._target.y=212-this._lift;var b=this._gameContainer._compMap.SpeedAdjuster_21;if(null!=b&&0!=b.scale._value)if(!this._pointerDown||0>=this._power||
!this._okToShoot){if(null!=this._trajectoryIndicators){this._rectile._compMap.Sprite_1.set_visible(!1);for(var b=0,c=this._trajectoryIndicators.length;b<c;)this._trajectoryIndicators[b++]._compMap.Sprite_1.set_visible(!1)}}else{b=this._spongeBob._compMap.Sprite_1;b=b instanceof Jb?b:null;45<this._lift?b.setPositionPause(0.09):0<this._lift?b.setPositionPause(0.06):b.setPositionPause(0.02);if(null!=this._patrick&&(this._pointerDown||0<this._numPucks))b=this._patrick._compMap.Sprite_1,(b instanceof Ib?
b:null).respond(this._target.x);this._easePct=Math.min(this._lift/150,1);c=F.quadOut;this._combinedEase=new Tc(c,F.backOut,this._easePct);b=new Tc(F.linear,F.sineIn,0.5);this._easeX=c;this._easeY=0<this._lift?(Uc=this._combinedEase,p(Uc,Uc.ease)):c;this._tweenDuration=2-0.006*this._power;this._depthEnabled||(this._tweenDuration*=0.5);var d;d=this._puckPos.x+(this._target.x-this._puckPos.x)*(0,this._easeX)(this._trajectoryDepthCheck1*this._tweenDuration/this._tweenDuration);var g=this._puckPos.y+(this._target.y-
this._puckPos.y)*(0,this._easeY)(this._trajectoryDepthCheck1*this._tweenDuration/this._tweenDuration),e=this._puckPos.x+(this._target.x-this._puckPos.x)*(0,this._easeX)(this._trajectoryDepthCheck2*this._tweenDuration/this._tweenDuration),q=this._puckPos.y+(this._target.y-this._puckPos.y)*(0,this._easeY)(this._trajectoryDepthCheck2*this._tweenDuration/this._tweenDuration),c=1,f=null,h=this.testHitLayer2(e,q),i=this._rectile._compMap.Sprite_1,i=i instanceof gc?i:null;if(this._depthEnabled)null!=h?(i.set_block(!1),
f=new J(e,q),c=this._trajectoryDepthCheck2,this._depthLayers[4].addChild(this._rectile)):null!=this.testHitLayer1(d,g)?(i.set_block(!1),f=new J(d,g),c=this._trajectoryDepthCheck1,this._depthLayers[4].addChild(this._rectile)):(i.set_block(!1),i.set_visible(!1));else if(null!=this.testHitLayer2(this._target.x,this._target.y)||null!=this.testHitLayer1(this._target.x,this._target.y))f=new J(this._target.x,this._target.y);null!=f?(i.setXY(f.x,f.y),i.set_visible(!0)):i.set_visible(!1);if(null!=this._trajectoryIndicators){g=
0;for(e=this._trajectoryIndicators.length;g<e;)q=g++,d=this._trajectoryIndicators[q]._compMap.Sprite_1,q=0+1*p(b,b.ease)((q+1)/this._trajectoryIndicators.length),f=q*this._trajectoryIndicators.length,d.set_visible(this._pointerDown),q>c-0.1&&d.set_visible(!1),d.x.set__(this._puckPos.x+(this._target.x-this._puckPos.x)*(0,this._easeX)(f/this._trajectoryIndicators.length)),d.y.set__(this._puckPos.y+(this._target.y-this._puckPos.y)*(0,this._easeY)(f/this._trajectoryIndicators.length))}}H.prototype.onUpdate.call(this,
a)},showPlankton:function(){var a=this._gameContainer._compMap.TimeUtil_15;a.clear(this._showPlanktonTO,!1);if(0<this._availablePlankton.length){var b=this._availablePlankton[Math.floor(Math.random()*this._availablePlankton.length)]._compMap.Sprite_1,b=b instanceof lb?b:null;b.show(6);t.remove(this._availablePlankton,b.owner)}this._showPlanktonTO=a.timeout(p(this,this.showPlankton),Math.random()+6+0.5)},handlePlanktonHidden:function(a){this._availablePlankton.push(a.owner)},decrementSeconds:function(){this._secondsRemaining--;
var a=this._timeDisplay._compMap.Sprite_1;(a instanceof Ra?a:null).updateReadout(this._secondsRemaining);0>=this._secondsRemaining&&(this._globalPack.getSound("sound/timeUp").play(),this._gameContainer._compMap.TimeUtil_15.clear(this._decrementSecondsIntervalId),this._gameContainer._compMap.SpeedAdjuster_21.scale.set__(0),a=this._resultsScreen._compMap.Sprite_1,a=a instanceof kb?a:null,a.update(this._goalsScored,this._planktonHit,this._totalScore),a.show())},dispose:function(){H.prototype.dispose.call(this);
this._staticPuck=this._rectile=this._spongeBob=this._easeY=this._easeX=this._combinedEase=this._patrick=this._goal=this._goalRect=this._interact=this._target=this._down=this._puckPos=null;y.breakUpArray(this._pucks);this._pucks=null;y.breakUpArray(this._depthLayers);this._depthLayers=null;y.breakUpArray(this._plankton);this._plankton=null;y.breakUpArray(this._availablePlankton);this._availablePlankton=null;y.breakUpArray(this._trajectoryIndicators);this._trajectoryIndicators=null},__class__:zb});
var Sc=function(a,b){i.call(this);this._width=a;this._height=b};f["com.nick.wintersports.scenes.BlankSprite"]=Sc;Sc.__name__=["com","nick","wintersports","scenes","BlankSprite"];Sc.__super__=i;Sc.prototype=r(i.prototype,{getNaturalHeight:function(){return this._height},getNaturalWidth:function(){return this._width},__class__:Sc});var Ja=function(){this._allUnlocked=!1;da.call(this);this._sceneOrder=[zb,cb,C,L,db];this._sceneClassNames=[];this._sceneNodeNames=[];for(var a=0,b=this._sceneOrder.length;a<
b;){var c=a++,d=P.getClassName(this._sceneOrder[c]);this._sceneClassNames[c]=t.substr(d,d.lastIndexOf(".")+1,null);this._sceneNodeNames[c]=t.substr(this._sceneClassNames[c],0,1).toLowerCase()+t.substr(this._sceneClassNames[c],1,null)}this._hubPoints=[new J(328,348),new J(506,540),new J(686,348),new J(1016,348),new J(857,447)];this._nodes=[];this._paths=[];this._gameInfos=[]};f["com.nick.wintersports.scenes.HubScene"]=Ja;Ja.__name__=["com","nick","wintersports","scenes","HubScene"];Ja.__super__=da;
Ja.prototype=r(da.prototype,{assetsReady:function(){var a=this;da.prototype.assetsReady.call(this);this._lib=new Ia(this._pack,"lib");var b=this.owner._compMap.Disposer_18;this.owner.add(new sa);this._backing.add(new k(this._pack.getTexture("bg"))).add(new xb);var c=this._lib.createSprite("WaveLayout",!0);this._backing.addChild((new h).add(c));for(var d=0;4>d;){var g=d++,c=new k(this._pack.getTexture("path"+(null==g?"null":""+g)));c.setXY(304,324);c.set_visible(!1);this._paths[g]=(new h).add(c);this._backing.addChild(this._paths[g])}var e=
l.root._compMap.GameTracker_12,c=K.fromBrowser(),d=c.query;if(null!=v.allUnlocked?d.existsReserved("allUnlocked"):d.h.hasOwnProperty("allUnlocked"))c=c.query,this._allUnlocked=dc.stringToBool(null!=v.allUnlocked?c.getReserved("allUnlocked"):c.h.allUnlocked);c=new k(this._pack.getTexture("foreground"));c.disablePointer();this._foreground=(new h).add(c);this._backing.addChild(this._foreground);c=new k(this._pack.getTexture("info_panel"));c.disablePointer();c.setXY(204,681);c.set_visible(!1);this._infoPanel=
(new h).add(c);this._backing.addChild(this._infoPanel);c=new Gc(this._globalPack,"hubScene.enterCodeButton",0,"ui/enter_code_");c.setXY(230,-2);this._enterCodeBtn=(new h).add(c);b.connect1(c.select,function(){a.showEnterCode()});this._backing.addChild(this._enterCodeBtn);c.set_visible(!1);this._sceneNodeNames.push("cleared");d=0;for(g=this._sceneNodeNames.length;d<g;){var q=d++,c=o.getField("hubScene."+this._sceneNodeNames[q],0,w.Center);c.disablePointer();c.setXY(465,699);c.set_visible(!1);this._gameInfos[q]=
(new h).add(c);this._backing.addChild(this._gameInfos[q])}d=0;for(g=this._hubPoints.length;d<g;)if(q=d++,c=new vb(this._pack,this._globalPack,this._lib,q),c.setXY(this._hubPoints[q].x,this._hubPoints[q].y),this._nodes[q]=(new h).add(c),this._backing.addChild(this._nodes[q]),null!=this._sceneClassNames[q]){var f=[c];b.connect1(c.get_pointerDown(),function(b){return function(){a.handleNodeSelect(b[0])}}(f));q<this._hubPoints.length-1&&c.set_active(this._allUnlocked||e.getGameUnlocked(this._sceneClassNames[q]));
0<q&&this._paths[q-1]._compMap.Sprite_1.set_visible(c.active)}this.updateMedals();var b=this.owner._compMap.Disposer_18,i=new jb(this._globalPack);this._prompt=(new h).add(i);this._backing.addChild(this._prompt);b.connect1(i.selectionSig,function(b){b&&(e.clearGameMedals(a._sceneClassNames[a._selectedGame]),a.updateMedals(),a.setInfoText(a._selectedGame));i.set_visible(!1)});c=new Qa(this._globalPack,"mute_sound_btn",null,"sound");c.setXY(1120,2);this._muteButton=(new h).add(c);this._backing.addChild(this._muteButton);
b.add(c.select.connect(function(){y.mute(!y.muted._value)}));c=new kc(this._globalPack);this._enterCodeScreen=(new h).add(c);this._backing.addChild(this._enterCodeScreen);b.connect0(c.allCodesEntered,p(this,this.hideEnterCodeBtn));b.connect0(c.codeUnlocked,p(this,this.updateNodeUnlock));Ja.BEEN_SHOWN?O.setBgLoop(this._globalPack.getSound("sound/titleTrack"),1):Ja.BEEN_SHOWN=!0},updateMedals:function(){for(var a=l.root._compMap.GameTracker_12,b=0,c=this._nodes.length-1;b<c;){var d=b++,g;null!=this._sceneClassNames[d]&&
(g=a.getMedals(this._sceneClassNames[d]),d=this._nodes[d]._compMap.Sprite_1,(d instanceof vb?d:null).setMedals(g))}null==this._leaderboard&&(this._leaderboard=new h);b=new hc(this._globalPack);b.setXY(758,536);this._leaderboard.add(b);null==this._leaderboard.parent&&this._backing.addChild(this._leaderboard);b=this._nodes[this._nodes.length-1]._compMap.Sprite_1;b=b instanceof vb?b:null;b.set_active(this._allUnlocked||a.getGamesComplete());this._paths[this._paths.length-1]._compMap.Sprite_1.set_visible(b.active)},
handleNodeSelect:function(a){var b;this._selectedGame=a.id;for(var c=0,d=this._nodes.length;c<d;)b=this._nodes[c++]._compMap.Sprite_1,b=b instanceof vb?b:null,b!=a&&b.selected&&b.set_selected(!1);c=!1;4>a.id&&(c=l.root._compMap.GameTracker_12.getMedals(this._sceneClassNames[a.id]),c=-1==c.indexOf(-1));c?(this.setInfoText(-1),d=this._prompt._compMap.Sprite_1,(d instanceof jb?d:null).prompt("prompt.clearMedals")):this.setInfoText(a.id);if(a.selected){if(!c)T["goto"](this._sceneOrder[a.id])}else this._globalPack.getSound("sound/level_selected").play(),
a.set_selected(!0)},setInfoText:function(a){-1==a&&(a=this._gameInfos.length-1);for(var b=0,c=this._gameInfos.length;b<c;)this._gameInfos[b++]._compMap.Sprite_1.set_visible(!1);null!=this._gameInfos[a]&&this._gameInfos[a]._compMap.Sprite_1.set_visible(!0);this._infoPanel._compMap.Sprite_1.set_visible(null!=this._gameInfos[a])},showEnterCode:function(){this._enterCodeScreen._compMap.Sprite_1.set_visible(!0)},hideEnterCodeBtn:function(){this._enterCodeBtn._compMap.Sprite_1.set_visible(!1)},updateNodeUnlock:function(){for(var a=
0,b=this._nodes.length;a<b;){var c=this._nodes[a++]._compMap.Sprite_1;(c instanceof vb?c:null).set_active(!0)}},dispose:function(){da.prototype.dispose.call(this);this._muteButton=this._prompt=this._leaderboard=this._enterCodeScreen=this._enterCodeBtn=this._infoPanel=this._foreground=this._hubPoints=this._sceneOrder=this._sceneNodeNames=this._sceneClassNames=null;y.breakUpArray(this._nodes);this._nodes=null;y.breakUpArray(this._paths);this._paths=null;y.breakUpArray(this._gameInfos);this._gameInfos=
null},__class__:Ja});var db=function(){da.call(this);this._medalIds=["none","bronze","silver","gold"];this._medalLayers=[];this._chars=[]};f["com.nick.wintersports.scenes.MedalCeremonyScene"]=db;db.__name__=["com","nick","wintersports","scenes","MedalCeremonyScene"];db.__super__=da;db.prototype=r(da.prototype,{assetsReady:function(){da.prototype.assetsReady.call(this);var a=this.owner._compMap.Disposer_18;this._lib=new Ia(this._pack,"lib");var b;b=l.root._compMap.GameTracker_12;for(var c=b.getCharacterIds(),
d=b.getContestantOrder(),g=0;4>g;){var e=g++;b=this._lib.createSprite(db._charLinkages[c[d[e]]],!0);b.setXY(db._podiumPoints[e].x,db._podiumPoints[e].y);b.set_position(e/4*b.symbol.duration);this._chars[e]=(new h).add(b);this._backing.addChild(this._chars[e])}for(var q,c=0;4>c;){b=c++;this._medalLayers[b]=(new h).add(new i);if(0<b){d=[];g=[];for(e=0;2>e;){var f=e++;q=new k(this._globalPack.getTexture("large_medals/"+this._medalIds[b]));q.setXY(470+416*f,54);d[f]=(new h).add(q);this._medalLayers[b].addChild(d[f]);
q=new k(this._globalPack.getTexture("large_medals/ribbon"));q.setXY(497+416*f,0);g[f]=(new h).add(q);this._medalLayers[b].addChild(g[f])}d=o.getField("medalsScreen.youveWon",0,w.Center);d.setXY(724,64);g=o.getField("medals."+this._medalIds[b],0,w.Center);g.setXY(724,96);g=(new h).add(g);this._medalLayers[b].addChild(g)}else d=o.getField("medalsScreen.noMedal",0,w.Center),d.setXY(724,84);this._youveWon=(new h).add(d);this._medalLayers[b].addChild(this._youveWon);this._backing.addChild(this._medalLayers[b])}c=
l.root._compMap.GameTracker_12;b=3-c.getPlacement(0);for(d=0;4>d;)this._medalLayers[d++]._compMap.Sprite_1.set_visible(!1);this._medalLayers[b]._compMap.Sprite_1.set_visible(!0);this._leaderboard=new h;d=new hc(this._globalPack);d.setXY(186,536);this._leaderboard.add(d);this._backing.addChild(this._leaderboard);d=new ja(this._globalPack,"medalsScreen.playAgain");d.setXY(852,684);this._playAgainBtn=(new h).add(d);this._backing.addChild(this._playAgainBtn);a.add(d.get_pointerUp().connect(p(this,this.onPlayAgainSelect)).once());
a=new ub(this._globalPack);this._confettiLayer=(new h).add(a);this._backing.addChild(this._confettiLayer);a=this._confettiLayer._compMap.Sprite_1;a=a instanceof ub?a:null;0<b&&a.start();c.resetGame()},onPlayAgainSelect:function(){T["goto"](Sb);oa.doCanadaTracking&&l._platform.getExternal().call("trackFlashEvent",["Champions of the Chill","replay","true"])},dispose:function(){da.prototype.dispose.call(this);this._playAgainBtn=this._confettiLayer=this._youveWon=this._medalIds=this._leaderboard=null;
y.breakUpArray(this._chars);this._chars=null;y.breakUpArray(this._medalLayers);this._medalLayers=null},__class__:db});var L=function(){this._nGeeseDodged=this._nTimesHit=0;this._bAnimateKiko=this._bKikoFollow=!1;this._nDistance=0;this._heroJumping=this._bUseMagic=!1;this._heroHeight=this._applyForce=0;this._bInjured=this._bGameStarted=this._bGameCurrentlyEnding=this._bEndGame=this._bPaused=!1;H.call(this);this._trackingLevelName="skijump";this._nHeroSpeed=300;this._heroMagic=new ha(0);this._clouds=
new h;this._aObstacles=[];this._spawnObstacle=1;this._obstacleContainer=(new h).add(new i)};f["com.nick.wintersports.scenes.SkiJumpGameScene"]=L;L.__name__=["com","nick","wintersports","scenes","SkiJumpGameScene"];L.__super__=H;L.prototype=r(H.prototype,{assetsReady:function(){var a=this.owner._compMap.Disposer_18;this._pack=this._assets.get("ski_jump_game_scene");this._globalPack=this._assets.get("global");this._lib=new Ia(this._pack,"lib");this._heroHeight=L.pHeroStart.y;var b=(new i).setXY(L.pHeroStart.x,
L.pHeroStart.y),c=new jc(this._lib);c.loop("MainPlayer");var d=new Sa(40,15);this._hero=(new h).add(b).add(c).add(d).add(new sa);b=new G(this._pack,"particle");this._magicParticles=(new h).add(b.createEmitter().setXY(-20,-20).setRotation(-30));this._magicParticles._compMap.Sprite_1.set_visible(!1);this._hero.addChild(this._magicParticles);this._kiko=(new h).add(this._lib.createSprite("Kiko",!0).setXY(-200,800).disablePointer());this._snowHill=new Lc(this._pack,1366,380);b=new Vc(1366,2E4);b.addLayer(this._pack.getTexture("cloudTile"),
0.5,null,!0,null,0);this._clouds.add((new i).setXY(0,-2E4)).add(b);this._backing.addChild(this._clouds);this._backing.addChild((new h).add(this._snowHill).add((new i).setXY(0,132)));this._backing.addChild(this._obstacleContainer);this._starPath=(new h).add((new i).setXY(0,-200));this._backing.addChild(this._starPath);this._backing.addChild(this._kiko);this._backing.addChild(this._hero);b=this._lib.createSprite("MagicMeter",!0);b.set_paused(!0);b.setXY(1024-b.getNaturalWidth(),150);this._magicMeter=
(new h).add(b);this._backing.addChild(this._magicMeter);a.connect2(this._heroMagic.get_changed(),p(this,this.onMagicChanged));this.onMagicChanged(this._heroMagic._value,0);this._nAngle=90-180*Math.atan2(1,this._snowHill.get_slope())/Math.PI;a=this._nAngle-90;L.pJumpValues=new J(Math.cos(a),Math.sin(a));a=l._platform.getTouch().get_supported()?"_mobile":"";this._txtUseMagic=(new h).add(o.getField("skiJumpGameScene.useMagic"+a,0,w.Center).setXY(680,500));this._txtUseMagic._compMap.Sprite_1.alpha.set_behavior(new Wc(0,
1,1,0.4));H.prototype.assetsReady.call(this);a=new Kc(this._pack,this._globalPack);this._instructionScreen=(new h).add(a);this._instructionScreen.add(a);O.setBgLoop(this._pack.getSound("sound/WinxMusic"),0.7);this.addScoreboards();this.finishAssetsReady()},onStartOrRestart:function(){var a=this;H.prototype.onStartOrRestart.call(this);this._bEndGame=this._bGameCurrentlyEnding=this._bInjured=!1;this.setScore(0);this._bGameStarted=!0;this._nDistance=this._applyForce=this._heroHeight=0;this._bKikoFollow=
this._bAnimateKiko=!1;this._heroMagic.set__(0);this._spawnObstacle=1;this.setDistance();this._starPath._compMap.Sprite_1.set_visible(!0);this._starPath.disposeChildren();this._starPath.add(new Mc(this._pack,1157,164));this.addEventListeners();var b=new sa,c=new Ua(3);b.run(new ka([c,new yb(new ka([new ya((Uc=this._starPath._compMap.StarPath_10,p(Uc,Uc.addStar))),new Ua(0.3)]),10),new ya(function(){a.onStarsComplete()})]));this._starPath.add(b)},endGame:function(){this.removeEventListeners();var a=
this._resultsScreen._compMap.Sprite_1,a=a instanceof kb?a:null,b=Math.floor(this._nDistance),c=this.getBonus();a.update(b,c,b+c);a.show()},getBonus:function(){return 10*Math.floor((this._nGeeseDodged-3*this._nTimesHit)/3)},onStarCollected:function(){var a=this._heroMagic;a.set__(a._value+0.1);this._nHeroSpeed+=50;this._pack.getSound("sound/PickUp").play(1)},onStarsComplete:function(){this.addObstacle("gap")},onMagicChanged:function(a){var b=this._magicMeter._compMap.Sprite_1,b=b instanceof Z?b:null;
b.set_paused(!1);b.set_position((1-a)*b.symbol.duration);b.onUpdate(0);b.set_paused(!0)},addObstacle:function(a,b){null==b&&(b=0);var c=null,d=null,g=null,c=null;"gap"==a?(c=new k(this._pack.getTexture("ramp")),d=new Sa(c.getNaturalWidth()/2,c.getNaturalWidth()/2+100),g=new mb(this._hero,0,132),this.owner._compMap.Disposer_18.connect2(g.get_collisonOccured(),p(this,this.heroCollisionDetected)),c=(new h).add(c).add(d).add(g).add(new nb("ramp")),this._snowHill.addGap(c)):(c=this._lib.createSprite(a,
!1),null==c&&(c=(new k(this._pack.getTexture(a))).centerAnchor()),d=this._heroHeight-375,c.setXY(1600,(-25<d?d:-25)+b),c.disablePointer(),c=(new h).add(c),d=i.getBounds(c),d=new Sa(d.height/2,0,0),g=new mb(this._hero,0,0),this.owner._compMap.Disposer_18.connect2(g.get_collisonOccured(),p(this,this.heroCollisionDetected)),c.add(d).add(g).add(new nb(a)),this._obstacleContainer.addChild(c),this._aObstacles.push(c))},addRandomObstacle:function(a){null==a&&(a=0);if(this._powerupActive)this.addObstacle("star",
a);else{var b=["Geese","FoxPlane","Balloon"];this.addObstacle(b[z.random(b.length)],a)}},addEventListeners:function(){null==this._disposer&&(this._disposer=new N);this._disposer.connect1(l._platform.getKeyboard().down,p(this,this.handleKeyDown));this._disposer.connect1(l._platform.getKeyboard().up,p(this,this.handleKeyUp));this._disposer.connect1(l._platform.getPointer().down,p(this,this.handlePointerDown));this._disposer.connect1(l._platform.getPointer().up,p(this,this.handlePointerUp));null!=this._starPath&&
null!=this._starPath._compMap.Sprite_1&&0!=(this._starPath._compMap.Sprite_1._flags&2)&&this._disposer.connect0(this._starPath._compMap.StarPath_10.starCollected,p(this,this.onStarCollected))},removeEventListeners:function(){null!=this._disposer&&(this._disposer.dispose(),this._disposer=null)},handleKeyDown:function(a){this._heroJumping&&96==a.key[1]&&(0<this._heroMagic._value&&(0<this._applyForce&&(this._applyForce=0),this._bUseMagic=!0,this._pack.getSound("sound/Fly").play(1)),null!=this._txtUseMagic.parent&&
this._txtUseMagic.parent.removeChild(this._txtUseMagic))},handleKeyUp:function(){this._bUseMagic=!1},handlePointerDown:function(){this._heroJumping&&(0<this._heroMagic._value&&(0<this._applyForce&&(this._applyForce=0),this._bUseMagic=!0,this._pack.getSound("sound/Fly").play(1)),null!=this._txtUseMagic.parent&&this._txtUseMagic.parent.removeChild(this._txtUseMagic))},handlePointerUp:function(){this._bUseMagic=!1},checkLanding:function(){this._nHeroSpeed=300;this._heroHeight=L.pHeroStart.y;this._hero._compMap.MoviePlayer_3.loop("MainPlayer").play("MainPlayer");
this._pack.getSound("sound/Land").play(1);this._snowHill.owner._compMap.Sprite_1.setXY(0,132);var a=new sa;a.run(new ka([new Ua(1),new ya(p(this,this.endGame))]));this.owner.add(a)},heroCollisionDetected:function(a){a._compMap.Collider_7.dispose();var b=a._compMap.Label_6.get_label();if("ramp"==b)this._hero._compMap.Script_16.stopAll(),this._nHeroSpeed+=250,this.launchHero(15,2),0<this._heroMagic._value&&this._backing.addChild(this._txtUseMagic);else if("star"==b)b=this._heroMagic,b.set__(b._value+
0.1),this._pack.getSound("sound/PickUp").play(1),a._compMap.Sprite_1.set_visible(!1);else if(this.heroInjured(),b=a._compMap.Sprite_1,b=b instanceof Z?b:null,null!=b){var c=this._lib.createSprite(b.symbol._name+"Hit",!1);null!=c&&(c.setXY(b.x._value,b.y._value),a.add(c))}},heroInjured:function(){var a=this;this._bInjured=!0;this._nTimesHit++;this._hero._compMap.Sprite_1.y._value!=L.pHeroStart.y&&this._hero._compMap.Script_16.stopAll();this._pack.getSound("sound/Hit_Obstacle").play(1);var b=this._nHeroSpeed-
50;this._nHeroSpeed=300<b?b:300;this._applyForce+=4.9;var b=this._hero._compMap.Script_16,c=new ob(this._hero._compMap.Sprite_1.alpha,0,0.1);b.run(new ka([new yb(new ka([c,new ob(this._hero._compMap.Sprite_1.alpha,1,0.1)]),3),new ya(function(){a._bInjured=!1})]))},launchHero:function(a){this._pack.getSound("sound/Big_Jump1").play();this._starPath._compMap.Sprite_1.set_visible(!1);this._hero._compMap.MoviePlayer_3.loop("MainPlayerJump").play("MainPlayerJump");this._heroJumping=!0;this._heroHeight=
L.pHeroStart.y;this._applyForce=-(a*(1+this._heroMagic._value))},onUpdate:function(a){if(!this._bGameCurrentlyEnding&&!this._bPaused){this._bEndGame&&(this._bGameCurrentlyEnding=!0,this.endGame());if(null!=this._snowHill){var b=this._snowHill;b.set_position(b.get_position()-this._nHeroSpeed*a)}null!=this._starPath&&null!=this._starPath._compMap.StarPath_10&&0!=(this._starPath._compMap.Sprite_1._flags&2)&&(b=this._starPath._compMap.StarPath_10,b.set_position(b.get_position()-400*a));null!=this._clouds._compMap.Parallax_2&&
(b=this._clouds._compMap.Parallax_2.get_position(),b.set__(b._value+this._nHeroSpeed*a));null!=this._scoreDisplay&&this.setScore(Math.floor(this._nDistance+this.getBonus()));var c=this._heroHeight-L.pHeroStart.y,b=this._heroHeight;if(this._heroJumping){var d=this._hero._compMap.Sprite_1,g=this._heroHeight;d.y.set__(350<g?g:350);this._bUseMagic&&0<this._heroMagic._value?(this._hero._compMap.MoviePlayer_3.loop("MainPlayerFly",!1),g=this._magicParticles._compMap.Sprite_1,(g instanceof ea?g:null).set_visible(!0),
g=this._heroMagic,g.set__(g._value-0.1*a),this._applyForce+=-19.6*a,g=this._nHeroSpeed+250*a,this._nHeroSpeed=1500>g?g:1500):(this._applyForce+=9.8*a,0>=this._applyForce?this._hero._compMap.MoviePlayer_3.loop("MainPlayerJump",!1):this._hero._compMap.MoviePlayer_3.loop("MainPlayerFall",!1),g=this._magicParticles._compMap.Sprite_1,(g instanceof ea?g:null).set_visible(!1));this._applyForce=Xc.clamp(this._applyForce,-50,50);this._heroHeight+=this._applyForce;g=this._nHeroSpeed-=9.8*a;this._nHeroSpeed=
300<g?g:300;this._snowHill.owner._compMap.Sprite_1.setXY(0,-c+132);!1==this._bAnimateKiko&&-2E3>this._heroHeight?this.animateKiko(!0):this._bAnimateKiko&&-2E3<=this._heroHeight&&this.animateKiko(!1);this._heroHeight>=L.pHeroStart.y&&(this._heroJumping=!1,d.y.set__(L.pHeroStart.y),this.checkLanding());d=this._clouds._compMap.Sprite_1;null!=d&&d.setXY(0,-c-2E4);0>=this._spawnObstacle?(this.addRandomObstacle(700*Math.random()),this.addRandomObstacle(-1E3),-732>this._heroHeight&&this.addRandomObstacle(1500),
this._spawnObstacle=3):this._spawnObstacle-=a;this._nDistance+=0.01*this._nHeroSpeed*a}c=0;for(d=this._aObstacles.length;c<d;){var g=this._aObstacles[c++]._compMap.Sprite_1,e=g.x;e.set__(e._value-0.8*this._nHeroSpeed*a);g=g.y;g.set__(g._value+(b-this._heroHeight))}if(0<this._aObstacles.length)for(g=this._aObstacles[0]._compMap.Sprite_1;null!=g&&g.x._value<-g.getNaturalWidth();)this._aObstacles[0].dispose(),this._aObstacles.splice(0,1),this._powerupActive||this._nGeeseDodged++,g=0<this._aObstacles.length?
this._aObstacles[0]._compMap.Sprite_1:null;this._bGameStarted&&this.setDistance()}},animateKiko:function(a){this._bAnimateKiko=a;var b=this._kiko._compMap.Sprite_1;a?(b.x.animateTo(this._hero._compMap.Sprite_1.x._value-170,2),b.y.set__(800),b.y.animateTo(300,2),b.rotation.set__(-30),b.rotation.animateTo(0,2)):(b.x.animateTo(-200,2),b.y.animateTo(-100,0.5),b.rotation.animateTo(-30,0.1))},setDistance:function(){if(this._bGameStarted){var a=this._timeDisplay._compMap.Sprite_1;(a instanceof Ra?a:null).updateReadout(Math.floor(this._nDistance))}},
onPauseSelect:function(a){H.prototype.onPauseSelect.call(this,a);this._bPaused=!0;this._kiko.add(new Ya(0));this._starPath.add(new Ya(0));this.removeEventListeners()},onPauseScreenRemoved:function(){H.prototype.onPauseScreenRemoved.call(this);this.addEventListeners()},unpauseGame:function(){H.prototype.unpauseGame.call(this);this._bPaused=!1;this._kiko._compMap.SpeedAdjuster_21.dispose();this._starPath._compMap.SpeedAdjuster_21.dispose()},dispose:function(){H.prototype.dispose.call(this);null!=this._disposer&&
(this._disposer.dispose(),this._disposer=null);this._txtUseMagic=this._magicParticles=this._kiko=this._obstacleContainer=this._clouds=this._magicMeter=this._heroMagic=this._hero=this._starPath=this._snowHill=null;y.breakUpArray(this._aObstacles);this._aObstacles=null},__class__:L});var C=function(){this._bHeroCanJump=!0;this._flipDirection=this._heroJumping=!1;this._nTime=this._flipCount=0;this._bRotateBack=this._bRotateFront=this._bInjured=this._bGameStarted=this._bGameCurrentlyEnding=this._bEndGame=
!1;H.call(this);this._trackingLevelName="snowboard";this._nHeroSpeed=500;this._frontFlipCalloutText=[];this._backFlipCalloutText=[]};f["com.nick.wintersports.scenes.SnowboardGameScene"]=C;C.__name__=["com","nick","wintersports","scenes","SnowboardGameScene"];C.__super__=H;C.prototype=r(H.prototype,{assetsReady:function(){H.prototype.assetsReady.call(this);for(var a=this.owner._compMap.Disposer_18,b=1;5>b;){var c=b++;this._frontFlipCalloutText[c]=o.getField("snowboardGameScene.frontFlip"+c,680,w.Center)._text}for(b=
1;5>b;)c=b++,this._backFlipCalloutText[c]=o.getField("snowboardGameScene.backFlip"+c,680,w.Center)._text;this._follower=new h;b=(new i).setXY(C.pHeroStart.x+-150,C.pHeroStart.y+25);c=new wb;c.add("idle",this._lib.createSprite("Swaysway",!0));c.play("idle");this._follower.add(b).add(c).add(new sa).add(new Ya);b=(new i).setXY(C.pHeroStart.x,C.pHeroStart.y);c=new wb;c.add("idle",this._lib.createSprite("MainPlayer",!0));c.add("jump",this._lib.createSprite("MainPlayerJump",!0));c.add("1Flip",this._lib.createSprite("MainPlayerPose1",
!0));c.add("2Flip",this._lib.createSprite("MainPlayerPose2",!0));c.add("3Flip",this._lib.createSprite("MainPlayerPose3",!0));c.play("idle");var d=new Sa(40,15);this._hero=(new h).add(c).add(b).add(d).add(new sa);this._snowHill=new Pc(this._pack,1336,380);this._bonusBg=(new h).add(this._lib.createSprite("BonusFlash",!0));b=this._bonusBg._compMap.Sprite_1;(b instanceof Z?b:null).set_paused(!0);b=this._bonusBg._compMap.Sprite_1;(b instanceof Z?b:null).set_visible(!1);this._gameContainer.addChild(this._bonusBg);
b=(new G(this._pack,"breadParticle")).createEmitter();this._breadParticle=(new h).add(b.setXY(500,200));this._gameContainer.addChild(this._breadParticle);this._gameContainer.addChild((new h).add(this._snowHill).add((new i).setXY(0,132)));this._gameContainer.addChild(this._hero);this._gameContainer.addChild(this._follower);this._trickCallout=new k(this._pack.getTexture("trick_callout"));this._trickText=o.getField("snowboardGameScene.frontFlip1",680,w.Center);b=(new h).add(new sa);b.add(this._trickCallout).addChild((new h).add(this._trickText));
this._gameContainer.addChild(b);this._trickCallout.centerAnchor();this._trickCallout.x.set__(683);this._trickCallout.y.set__(768-this._trickCallout.getNaturalHeight()/2);this._trickCallout.set_visible(!1);this._trickText.setXY(185,60);this._nAngle=90-180*Math.atan2(1,this._snowHill.get_slope())/Math.PI;b=this._nAngle-90;C.pJumpValues=new J(Math.cos(b),Math.sin(b));this._obstacleGenerator=new Oc;this.owner.add(this._obstacleGenerator);a.connect1(this._obstacleGenerator.objectReady,p(this,this.addObstacle));
this.addScoreboards();a=new Gb(this._globalPack);a.setXY(-99,109);this._progress=(new h).add(a);a.setLoc("snowboardGameScene.distance");this._rtContainer.addChild(this._progress);O.setBgLoop(this._pack.getSound("sound/track"),1);a=new V(153,1366,768);a.alpha.set__(0);this._interact=(new h).add(a);this._gameContainer.addChild(this._interact);a=new Qc(this._pack,this._globalPack);this._instructionScreen=(new h).add(a);this._instructionScreen.add(a);a=this._gameContainer._compMap.Sprite_1;(a instanceof
Hb?a:null).setUpdateFunction(p(this,this.onUpdateFunction));this.finishAssetsReady()},onStartOrRestart:function(){H.prototype.onStartOrRestart.call(this);this._obstacleGenerator.clearObstacles();this._obstacleGenerator.generateObstacles();this._bEndGame=this._bGameCurrentlyEnding=this._bInjured=this._bRotateFront=this._bRotateBack=!1;this._totalFlips=this._nTime=0;this._bGameStarted=!0;var a=this._snowHill;a.set_position(a.get_position()-1E3);this.addEventListeners();this._gameContainer._compMap.SpeedAdjuster_21.scale.set__(1)},
endGame:function(){this.removeEventListeners();this._gameContainer._compMap.SpeedAdjuster_21.scale.set__(0);var a=Math.max(0,50-this._nTime),a=50*Math.floor(100*a/50),b=this._resultsScreen._compMap.Sprite_1,b=b instanceof kb?b:null;b.update(this._totalFlips,a,this._totalScore+a);b.show()},addObstacle:function(a){var b=null,c=null,d=null,b=null;if("gap"==a)b=new k(this._pack.getTexture("ramp")),c=new Sa(b.getNaturalWidth()/2,b.getNaturalWidth()/2+150),d=new mb(this._hero,0,132),this.owner._compMap.Disposer_18.connect2(d.get_collisonOccured(),
p(this,this.heroCollisionDetected)),b=(new h).add(b).add(c).add(d).add(new nb("ramp")),this._snowHill.addGap(b);else if("jumpWall"==a)b=new i,c=new Sa(300),d=new mb(this._hero),this.owner._compMap.Disposer_18.connect2(d.get_collisonOccured(),p(this,this.heroCollisionDetected)),b=(new h).add(b).add(c).add(d).add(new nb("jumpWall")),this._snowHill.addObstacle(b);else if("finish"==a)b=new k(this._pack.getTexture(a)),c=new Sa(b.getNaturalWidth()/2,b.getNaturalWidth()/2,b.getNaturalHeight()/2),d=new mb(this._hero,
0,132),this.owner._compMap.Disposer_18.connect2(d.get_collisonOccured(),p(this,this.heroCollisionDetected)),b=(new h).add(b).add(c).add(d).add(new nb(a)),this._snowHill.addObstacle(b,0,-95);else{var g=null;"monster"==a?(g=new wb(50,50),g.add("idle",this._lib.createSprite("Monster",!0)),g.add("hit",this._lib.createSprite("Monstercopy",!0)),g.play("idle"),b=new i):"IceBread"==a?(g=new wb(50,50),g.add("idle",this._lib.createSprite("IceNormal",!0)),g.add("hit",this._lib.createSprite("IceHit",!0),"",!0),
g.play("idle"),b=new i):"fridge"==a?(g=new wb(50,50),g.add("idle",this._lib.createSprite("FridgeNormal",!0)),g.add("hit",this._lib.createSprite("FridgeHit",!0)),g.play("idle"),b=new i):b=new k(this._pack.getTexture(a));c=new Sa(b.getNaturalWidth()/2,b.getNaturalWidth()/2,b.getNaturalHeight()/2);d=new mb(this._hero,0,132);this.owner._compMap.Disposer_18.connect2(d.get_collisonOccured(),p(this,this.heroCollisionDetected));b=(new h).add(b).add(c).add(d).add(new nb(a));("monster"==a||"IceBread"==a||"fridge"==
a)&&b.add(g);this._snowHill.addObstacle(b)}},addEventListeners:function(){null==this._listenerDisposer&&(this._listenerDisposer=new N);this._listenerDisposer.connect1(l._platform.getKeyboard().down,p(this,this.handleKeyDown));this._listenerDisposer.connect1(l._platform.getKeyboard().up,p(this,this.handleKeyUp));this._listenerDisposer.connect1(this._interact._compMap.Sprite_1.get_pointerDown(),p(this,this.handlePointerDown));this._listenerDisposer.connect1(l._platform.getPointer().up,p(this,this.handlePointerUp))},
removeEventListeners:function(){null!=this._listenerDisposer&&(this._listenerDisposer.dispose(),this._listenerDisposer=null)},handleKeyDown:function(a){var b=this._hero._compMap.Sprite_1;switch(a.key[1]){case 67:if(C.pHeroStart.y==b.y._value)break;this._bRotateBack=!0;this._bRotateFront=!1;break;case 69:if(C.pHeroStart.y==b.y._value)break;this._bRotateBack=!1;this._bRotateFront=!0;break;case 96:if(C.pHeroStart.y!=b.y._value||this._bInjured)break;this._pack.getSound("sound/normal_jump").play();this.regularJump()}},
regularJump:function(){this._bHeroCanJump&&this._pack.getSound("sound/normal_jump").play();this._powerupActive?this.launchHero(200,0.55):this.launchHero(200)},handleKeyUp:function(a){switch(a.key[1]){case 67:this._bRotateBack=!1;break;case 69:this._bRotateFront=!1}},handlePointerDown:function(a){this._hero._compMap.Sprite_1.y._value==C.pHeroStart.y?this.regularJump():a.viewX<l._platform.getStage().get_width()/2?(this._bRotateBack=!0,this._bRotateFront=!1):(this._bRotateBack=!1,this._bRotateFront=
!0)},handlePointerUp:function(){this._bRotateFront=this._bRotateBack=!1},checkLanding:function(){this._heroJumping=!1;for(var a=this._hero._compMap.Sprite_1,b=a.rotation._value;0>b;)b+=360;b%=360;60<b&&340>b?this.heroInjured():this._bInjured||(this._nHeroSpeed=500,0<this._flipCount&&this.trickCallout());this._bHeroCanJump?(a.rotation.set__(0),this._hero._compMap.CharacterAnimation_9.play("idle")):(this._hero._compMap.CharacterAnimation_9.play("1Flip"),this._hero._compMap.Sprite_1.rotation.set__(20));
this._bRotateBack=this._bRotateFront=!1},heroCollisionDetected:function(a){a._compMap.Collider_7.dispose();var b=a._compMap.Label_6.get_label(),c=this._hero._compMap.Sprite_1;if("ramp"==b)this._bHeroCanJump=!0,this._pack.getSound("sound/big_jump").play(),this._nHeroSpeed=1E3,this.launchHero(300,2.3,!0),this._hero._compMap.Sprite_1.rotation.set__(0);else if("monster"==b)this._hero._compMap.Sprite_1.y._value==C.pHeroStart.y?(this._pack.getSound("sound/big_jump").play(),this._nHeroSpeed=750,this.launchHero(400,
this._powerupActive?1:0.45),c.rotation.set__(0),this.updateScore(50),this.addPointEffect(this._gameContainer,50,c.x._value,c.y._value)):this.heroInjured(),a._compMap.CharacterAnimation_9.play("hit");else if("IceBread"==b)this._powerupActive||this.heroInjured(),a._compMap.CharacterAnimation_9.play("hit");else if("fridge"==b)this._powerupActive||this.heroInjured(),a._compMap.CharacterAnimation_9.play("hit");else if("jumpWall"==b)this._bHeroCanJump=!1,this._hero._compMap.Sprite_1.x._value==C.pHeroStart.x&&
(this._hero._compMap.CharacterAnimation_9.play("1Flip"),this._hero._compMap.Sprite_1.rotation.set__(20));else if("finish"!=b)throw new n("Oops.");},trickCallout:function(){var a=this;this._pack.getSound("sound/trick_powerup").play();var b=this._trickCallout.owner._compMap.Script_16;b.stopAll();b.run(new ka([new ya(function(){a._trickCallout.set_visible(!0)}),new Ua(1),new ya(function(){a._trickCallout.set_visible(!1)})]));this._flipCount=Math.round(Math.min(4,this._flipCount));this._totalFlips+=this._flipCount;
b=Math.floor(100*this._flipCount);this.updateScore(b);var c=this._hero._compMap.Sprite_1;this.addPointEffect(this._gameContainer,b,c.x._value,c.y._value-50);this._flipDirection?this._trickText.set_text(this._backFlipCalloutText[this._flipCount]):this._trickText.set_text(this._frontFlipCalloutText[this._flipCount])},addPointEffect:function(a,b,c,d){a.addChild(this._breadParticle);H.prototype.addPointEffect.call(this,a,b,c,d);a=this._breadParticle._compMap.Sprite_1;a=a instanceof ea?a:null;a.duration=
0.002*b;a.setXY(c,d);a.restart()},heroInjured:function(){var a=this;this._pack.getSound("sound/hit_object").play();this._bInjured=!0;var b=this._hero._compMap.Sprite_1;this._nHeroSpeed=0;this._follower._compMap.SpeedAdjuster_21.scale.animateTo(0,0.25);b.setXY(C.pHeroStart.x,C.pHeroStart.y);this._bRotateFront=this._bRotateBack=!1;b.rotation.set__(0);this._hero._compMap.CharacterAnimation_9.play("idle");var b=this._hero._compMap.Script_16,c=new ob(this._hero._compMap.Sprite_1.alpha,0,0.1);b.run(new ka([new yb(new ka([c,
new ob(this._hero._compMap.Sprite_1.alpha,1,0.1)]),3),new ya(function(){a._nHeroSpeed=500;a._bInjured=!1;a._follower._compMap.SpeedAdjuster_21.scale.animateTo(1,0.25)})]))},launchHero:function(a,b,c){null==c&&(c=!1);null==b&&(b=0.25);var d=this;if(this._bHeroCanJump||c)this._hero._compMap.CharacterAnimation_9.play("jump"),this._heroJumping=c,this._hero._compMap.Script_16.run(new ka([new Ta(C.pHeroStart.x-a*C.pJumpValues.x,C.pHeroStart.y-a*C.pJumpValues.y,0.25,F.quadOut,F.quadOut),new Ua(b),new Ta(C.pHeroStart.x,
C.pHeroStart.y,0.5,F.quadIn,F.quadIn),new ya(p(this,this.checkLanding))])),c&&this._follower._compMap.Script_16.run(new ka([new Ta(-100,C.pHeroStart.y+25-150,0.75,F.quadOut,F.quadOut),new Ua(b),new ya(function(){d._follower._compMap.Sprite_1.y.set__(C.pHeroStart.y+25-250)}),new Ta(C.pHeroStart.x+-150,C.pHeroStart.y+25,0.75,F.quadIn,F.quadIn)]))},onUpdateFunction:function(a){if(!this._bGameCurrentlyEnding){this._bEndGame&&(this._bGameCurrentlyEnding=!0,this.endGame());if(null!=this._snowHill){var b=
this._snowHill;b.set_position(b.get_position()-this._nHeroSpeed*a)}null!=this._obstacleGenerator&&(b=this._obstacleGenerator,b.set_position(b.get_position()-this._nHeroSpeed*a),this._obstacleGenerator.get_position()<-this._obstacleGenerator.length&&(this._bEndGame=!0));this._heroJumping&&this._snowHill.owner._compMap.Sprite_1.setXY(0,132-(this._hero._compMap.Sprite_1.y._value-C.pHeroStart.y));b=null!=this._hero?this._hero._compMap.Sprite_1:null;if(null!=b){var c=0;this._bRotateBack?(this._flipDirection=
!0,c-=10):this._bRotateFront&&(this._flipDirection=!1,c+=10);var d=b.rotation;d.set__(d._value+c);this._flipCount=Math.floor(Math.round(Math.abs(b.rotation._value)/360));b=this._hero._compMap.CharacterAnimation_9;1<=this._flipCount&&(c=Math.min(3,this._flipCount)+"Flip",b.current!=c&&b.play(c))}b=this._progress._compMap.Sprite_1;(b instanceof Gb?b:null).update(-this._obstacleGenerator.get_position()/this._obstacleGenerator.length);this._bGameStarted&&(this._nTime+=a,this.setTime())}},setTime:function(){if(this._bGameStarted){var a=
this._timeDisplay._compMap.Sprite_1;(a instanceof Ra?a:null).updateReadout(Math.floor(this._nTime))}},onPauseSelect:function(a){H.prototype.onPauseSelect.call(this,a);null!=this._listenerDisposer&&(this._listenerDisposer.dispose(),this._listenerDisposer=null)},unpauseGame:function(){H.prototype.unpauseGame.call(this);this.addEventListeners()},beginPowerup:function(){H.prototype.beginPowerup.call(this);var a=this._bonusBg._compMap.Sprite_1;(a instanceof Z?a:null).set_paused(!1);a=this._bonusBg._compMap.Sprite_1;
(a instanceof Z?a:null).set_visible(!0)},concludePowerup:function(){H.prototype.concludePowerup.call(this);var a=this._bonusBg._compMap.Sprite_1;(a instanceof Z?a:null).set_paused(!0);a=this._bonusBg._compMap.Sprite_1;(a instanceof Z?a:null).set_visible(!1)},dispose:function(){H.prototype.dispose.call(this);this._breadParticle=this._bonusBg=this._trickText=this._trickCallout=this._hero=this._snowHill=this._progress=this._interact=this._follower=this._obstacleGenerator=this._frontFlipCalloutText=this._backFlipCalloutText=
null;null!=this._listenerDisposer&&(this._listenerDisposer.dispose(),this._listenerDisposer=null)},__class__:C});var Sb=function(){da.call(this)};f["com.nick.wintersports.scenes.TitleScene"]=Sb;Sb.__name__=["com","nick","wintersports","scenes","TitleScene"];Sb.__super__=da;Sb.prototype=r(da.prototype,{assetsReady:function(){var a=this;da.prototype.assetsReady.call(this);Oa.sendGameEvent("onTitleScreenStart");var b=this.owner._compMap.Disposer_18;this.owner.add(new sa);var c=l.root._compMap.GameTracker_12;
c.initialize();c.loadState();this._backing.add(new k(this._pack.getTexture("bg"))).add(new xb);var d=fa.get_mobile()?"title.tapToPlay":"title.clickToPlay",d=o.getField(d,0,w.Center);d.setXY(683,695);this._tapToPlay=(new h).add(d);this._backing.addChild(this._tapToPlay);this._menu=(new h).add(new i);d=(new h).add(new V(10278143,1366,768));d._compMap.Sprite_1.alpha.set__(0.56);this._menu.addChild(d);this._menu.addChild((new h).add((new k(this._pack.getTexture("menuBg"))).setXY(460,233)));this._btns=
[];for(var g=["continue","newGame"],e=0,q=g.length;e<q;){var f=e++,ba=g[f],d=new ja(this._globalPack,"title."+ba,f);this._btns[f]=(new h).add(d);!c.get_characterSelected()&&"continue"==ba&&d.setAlpha(0.7).disablePointer();b.connect1(d.select,p(this,this.onButtonClick))}g=0;for(e=this._btns.length;g<e;)q=g++,d=this._btns[q]._compMap.Sprite_1,d=d instanceof ja?d:null,d.setXY(524,388+80*q-80*(this._btns.length-1)/2),this._menu.addChild(this._btns[q]);d=new V(0,1366,768);d.alpha.set__(0);this._backingOverlay=
(new h).add(d);this._backing.addChild(this._backingOverlay);this._menu._compMap.Sprite_1.set_visible(!1);this._backing.addChild(this._menu);g=new Fb(this._pack,this._globalPack);this._chooserPrompt=(new h).add(g);this._backing.addChild(this._chooserPrompt);b.connect1(g.selectionSig,function(a){c.clearAllMedals();c.setUserCharacter(a);oa.doCanadaTracking&&l._platform.getExternal().call("trackFlashEvent",["Champions of the Chill","play","true"]);T["goto"](Ja)});this._topLayer=(new h).add((new i).disablePointer());
this._topLayer.addChild((new h).add((new k(this._pack.getTexture("logo"))).setXY(185,15)));this._topLayer.addChild((new h).add((new k(this._pack.getTexture("titleBg"))).setXY(285,-25)));this._topLayer.addChild((new h).add(o.getField("title.heading1",0,w.Center).setXY(692,70)));this._topLayer.addChild((new h).add(o.getField("title.heading2",0,w.Center).setXY(692,115)));this._backing.addChild(this._topLayer);g=new Qa(this._globalPack,"mute_sound_btn",null,"sound");g.setXY(1120,2);this._muteButton=(new h).add(g);
this._backing.addChild(this._muteButton);b.add(g.select.connect(function(){y.mute(!y.muted._value)}));g=new kc(this._globalPack);this._enterCodeScreen=(new h).add(g);this._backing.addChild(this._enterCodeScreen);b.connect0(g.allCodesEntered,p(this,this.hideEnterCodeBtn));var j=new jb(this._globalPack);this._prompt=(new h).add(j);this._backing.addChild(this._prompt);b.connect1(j.selectionSig,function(b){b&&(a._menu._compMap.Sprite_1.set_visible(!1),b=a._chooserPrompt._compMap.Sprite_1,(b instanceof
Fb?b:null).prompt(!1),c.resetGame());j.set_visible(!1)});b.add(d.get_pointerUp().connect(p(this,this.screenClicked)));O.setBgLoop(this._globalPack.getSound("sound/titleTrack"),1);b=new wa;this.owner.add(b);this._tapToggleTO=b.interval(p(this,this.toggleTap),0.5)},toggleTap:function(){var a=this._tapToPlay._compMap.Sprite_1;a.set_visible(0==(a._flags&2))},onButtonClick:function(a){var b=l.root._compMap.GameTracker_12;0==a.id?b.get_characterSelected()?(oa.doCanadaTracking&&l._platform.getExternal().call("trackFlashEvent",
["Champions of the Chill","play","true"]),T["goto"](Ja)):(this._menu._compMap.Sprite_1.set_visible(!1),a=this._chooserPrompt._compMap.Sprite_1,(a instanceof Fb?a:null).prompt(!1)):1==a.id&&(b.get_characterSelected()?(a=this._prompt._compMap.Sprite_1,(a instanceof jb?a:null).prompt("prompt.quitGame",!1)):b.get_characterSelected()?(oa.doCanadaTracking&&l._platform.getExternal().call("trackFlashEvent",["Champions of the Chill","play","true"]),T["goto"](Ja)):(this._menu._compMap.Sprite_1.set_visible(!1),
a=this._chooserPrompt._compMap.Sprite_1,(a instanceof Fb?a:null).prompt(!1)))},screenClicked:function(){this.owner._compMap.TimeUtil_15.clear(this._tapToggleTO);this._tapToPlay._compMap.Sprite_1.set_visible(!1);this._menu._compMap.Sprite_1.set_visible(!0)},hideEnterCodeBtn:function(){this._btns[this._btns.length-1]._compMap.Sprite_1.set_visible(!1)},dispose:function(){da.prototype.dispose.call(this);Oa.sendGameEvent("onTitleScreenEnd");this._muteButton=this._chooserPrompt=this._prompt=this._backingOverlay=
this._enterCodeScreen=this._menu=this._topLayer=this._tapToPlay=null;y.breakUpArray(this._btns);this._btns=null},__class__:Sb});var N=function(){s.call(this);this._disposables=[]};f["flambe.Disposer"]=N;N.__name__=["flambe","Disposer"];N.__super__=s;N.prototype=r(s.prototype,{get_name:function(){return"Disposer_18"},add:function(a){this._disposables.push(a);return this},connect0:function(a,b){this.add(a.connect(b));return this},connect1:function(a,b){this.add(a.connect(b));return this},connect2:function(a,
b){this.add(a.connect(b));return this},onRemoved:function(){this.freeDisposables()},dispose:function(){s.prototype.dispose.call(this);this.freeDisposables()},freeDisposables:function(){var a=this._disposables;this._disposables=[];for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}},__class__:N});var h=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};f["flambe.Entity"]=h;h.__name__=["flambe","Entity"];h.__interfaces__=[Za];h.prototype={add:function(a){null!=
a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,
c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},
dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:h};var me=function(){};f["flambe.util.PackageLog"]=me;me.__name__=["flambe","util","PackageLog"];var Hd=function(){};f["flambe.platform.Platform"]=Hd;Hd.__name__=["flambe","platform","Platform"];Hd.prototype={__class__:Hd};var Ab=function(){};f["flambe.platform.html.HtmlPlatform"]=Ab;Ab.__name__=["flambe","platform","html","HtmlPlatform"];
Ab.__interfaces__=[Hd];Ab.prototype={init:function(){var a=this;D.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new Wb(b);this._pointer=new ta;this._mouse=new Yc(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new Xb;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow=
"hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,g=function(c){if(!(1E3>c.timeStamp-d)){var g=b.getBoundingClientRect(),e=a.getX(c,g),g=a.getY(c,g);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(e,g,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(e,g);break;case "mouseup":a._mouse.submitUp(e,g,c.button);break;case "DOMMouseScroll":case "mousewheel":a._mouse.submitScroll(e,g,"mousewheel"==c.type?
c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",g,!1);window.addEventListener("mousemove",g,!1);window.addEventListener("mouseup",g,!1);b.addEventListener("mousewheel",g,!1);b.addEventListener("DOMMouseScroll",g,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var e="undefined"!=typeof window.ontouchstart,g="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(e||g){var q=new Zc(this._pointer,e?4:window.navigator.msMaxTouchPoints);
this._touch=q;g=function(b){var c=e?b.changedTouches:[b],g=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "MSPointerMove":case "pointermove":case "touchmove":b.preventDefault();for(b=0;b<c.length;){var f=c[b];++b;var h=a.getX(f,g),i=a.getY(f,g);q.submitMove((e?f.identifier:f.pointerId)|0,h,i)}break;case "MSPointerUp":case "pointerup":case "touchcancel":case "touchend":for(b=0;b<c.length;)f=c[b],++b,h=a.getX(f,g),i=a.getY(f,g),q.submitUp((e?f.identifier:f.pointerId)|0,h,i);break;
case "MSPointerDown":case "pointerdown":case "touchstart":b.preventDefault();D.SHOULD_HIDE_MOBILE_BROWSER&&D.hideMobileBrowser();for(b=0;b<c.length;)f=c[b],++b,h=a.getX(f,g),i=a.getY(f,g),q.submitDown((e?f.identifier:f.pointerId)|0,h,i)}};e?(b.addEventListener("touchstart",g,!1),b.addEventListener("touchmove",g,!1),b.addEventListener("touchend",g,!1),b.addEventListener("touchcancel",g,!1)):(b.addEventListener("MSPointerDown",g,!1),b.addEventListener("MSPointerMove",g,!1),b.addEventListener("MSPointerUp",
g,!1))}else this._touch=new $c;var f=window.onerror;window.onerror=function(a,b,c){l.uncaughtError.emit(a);return null!=f?f(a,b,c):!1};var h=D.loadExtension("hidden",window.document);null!=h.value?(g=function(){l.hidden.set__(ga.field(window.document,h.field))},g(null),window.document.addEventListener(h.prefix+"visibilitychange",g,!1)):(g=function(a){l.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",g,!1),window.addEventListener("pagehide",g,!1));l.hidden.get_changed().connect(function(b){b||
(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var i=D.loadExtension("requestAnimationFrame").value;if(null!=i){var j=window.performance,n=null!=j&&D.polyfill("now",j);n&&(this._lastUpdate=j.now());var m=null,m=function(c){c=n?j.now():c;a.update(c);i(m,b)};i(m,b)}else window.setInterval(function(){var b=Date.now();a.update(b)},16);this._renderer.get_type()},loadAssetPack:function(a){return(new R(this,a)).promise},getStage:function(){return this._stage},getStorage:function(){if(null==
this._storage){var a=ne.getLocalStorage();this._storage=null!=a?new ad(a):new bd}return this._storage},getLocale:function(){var a=window.navigator.language;null==a&&(a=window.navigator.userLanguage);return a},createLogHandler:function(){return null},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;l.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},
getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new Va;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getExternal:function(){null==this._external&&(this._external=new cd);return this._external},getRenderer:function(){return this._renderer},
getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){try{var b=oe.getContextWebGL(a,{alpha:!1,depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=b&&!D.detectSlowDriver(b))return new dd(this._stage,b)}catch(c){}return new Yb(a)},__class__:Ab};var ha=function(a,b){this._value=a;this._changed=null!=b?new Kb(b):null};f["flambe.util.Value"]=ha;ha.__name__=["flambe","util","Value"];
ha.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new Kb);return this._changed},__class__:ha};var Zb=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};f["flambe.util.SignalConnection"]=Zb;Zb.__name__=["flambe","util","SignalConnection"];Zb.__interfaces__=
[Za];Zb.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:Zb};var ma=function(a){this._head=null!=a?new Zb(this,a):null;this._deferredTasks=null};f["flambe.util.SignalBase"]=ma;ma.__name__=["flambe","util","SignalBase"];ma.prototype={connectImpl:function(a,b){var c=this,d=new Zb(this,a);this._head==ma.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},disconnect:function(a){var b=
this;this._head==ma.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new Id(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=ma.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,
d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:ma};var Kb=function(a){ma.call(this,a)};f["flambe.util.Signal2"]=Kb;Kb.__name__=["flambe","util","Signal2"];Kb.__super__=ma;Kb.prototype=r(ma.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==ma.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,
b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),d.stayInList||d.dispose(),d=d._next;this.didEmit(c)},__class__:Kb});var M=function(a){ma.call(this,a)};f["flambe.util.Signal1"]=M;M.__name__=["flambe","util","Signal1"];M.__super__=ma;M.prototype=r(ma.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==ma.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},
emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:M});var x=function(a,b){this._behavior=null;ha.call(this,a,b)};f["flambe.animation.AnimatedFloat"]=x;x.__name__=["flambe","animation","AnimatedFloat"];x.__super__=ha;x.prototype=r(ha.prototype,{set__:function(a){this._behavior=null;return ha.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(ha.prototype.set__.call(this,this._behavior.update(a)),
this._behavior.isComplete()&&(this._behavior=null))},animateTo:function(a,b,c){this.set_behavior(new Mb(this._value,a,b,c))},set_behavior:function(a){this._behavior=a;this.update(0);return a},__class__:x});var l=function(){};f["flambe.System"]=l;l.__name__=["flambe","System"];l.init=function(){l._calledInit||(l._platform.init(),l._calledInit=!0)};var Jd=function(a){this._handler=a};f["flambe.util.Logger"]=Jd;Jd.__name__=["flambe","util","Logger"];Jd.prototype={__class__:Jd};var ed=function(){};f["flambe.Log"]=
ed;ed.__name__=["flambe","Log"];ed.__super__=me;ed.prototype=r(me.prototype,{__class__:ed});var Ya=function(a){null==a&&(a=1);this._realDt=0;s.call(this);this.scale=new x(a)};f["flambe.SpeedAdjuster"]=Ya;Ya.__name__=["flambe","SpeedAdjuster"];Ya.__super__=s;Ya.prototype=r(s.prototype,{get_name:function(){return"SpeedAdjuster_21"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:Ya});var fd=function(){};f["flambe.animation.Behavior"]=fd;fd.__name__=
["flambe","animation","Behavior"];fd.prototype={__class__:fd};var F=function(){};f["flambe.animation.Ease"]=F;F.__name__=["flambe","animation","Ease"];F.linear=function(a){return a};F.quadIn=function(a){return a*a};F.quadOut=function(a){return a*(2-a)};F.sineIn=function(a){return 1-Math.cos(1.5707963267948966*a)};F.sineOut=function(a){return Math.sin(1.5707963267948966*a)};F.circOut=function(a){--a;return Math.sqrt(1-a*a)};F.expoIn=function(a){return Math.pow(2,10*(a-1))};F.expoOut=function(a){return-Math.pow(2,
-10*a)+1};F.backOut=function(a){return 1- --a*a*(-2.70158*a-1.70158)};var Mb=function(a,b,c,d){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=d?d:F.linear};f["flambe.animation.Tween"]=Mb;Mb.__name__=["flambe","animation","Tween"];Mb.__interfaces__=[fd];Mb.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},
__class__:Mb};var Nb=function(){};f["flambe.asset.Asset"]=Nb;Nb.__name__=["flambe","asset","Asset"];Nb.__interfaces__=[Za];Nb.prototype={__class__:Nb};var u=f["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};u.WEBP=["WEBP",0];u.WEBP.toString=j;u.WEBP.__enum__=u;u.JXR=["JXR",1];u.JXR.toString=j;u.JXR.__enum__=u;u.PNG=["PNG",2];u.PNG.toString=j;u.PNG.__enum__=u;u.JPG=["JPG",3];u.JPG.toString=
j;u.JPG.__enum__=u;u.GIF=["GIF",4];u.GIF.toString=j;u.GIF.__enum__=u;u.DDS=["DDS",5];u.DDS.toString=j;u.DDS.__enum__=u;u.PVR=["PVR",6];u.PVR.toString=j;u.PVR.__enum__=u;u.PKM=["PKM",7];u.PKM.toString=j;u.PKM.__enum__=u;u.MP3=["MP3",8];u.MP3.toString=j;u.MP3.__enum__=u;u.M4A=["M4A",9];u.M4A.toString=j;u.M4A.__enum__=u;u.OPUS=["OPUS",10];u.OPUS.toString=j;u.OPUS.__enum__=u;u.OGG=["OGG",11];u.OGG.toString=j;u.OGG.__enum__=u;u.WAV=["WAV",12];u.WAV.toString=j;u.WAV.__enum__=u;u.Data=["Data",13];u.Data.toString=
j;u.Data.__enum__=u;var Kd=function(a,b,c,d){this.name=a;this.url=b;this.format=c;this.bytes=d};f["flambe.asset.AssetEntry"]=Kd;Kd.__name__=["flambe","asset","AssetEntry"];Kd.prototype={__class__:Kd};var gd=function(){};f["flambe.asset.AssetPack"]=gd;gd.__name__=["flambe","asset","AssetPack"];gd.__interfaces__=[Za];gd.prototype={__class__:gd};var hd=function(){};f["flambe.asset.File"]=hd;hd.__name__=["flambe","asset","File"];hd.__interfaces__=[Nb];hd.prototype={__class__:hd};var W=function(){this._localBase=
this._remoteBase=null;this._entries=[]};f["flambe.asset.Manifest"]=W;W.__name__=["flambe","asset","Manifest"];W.fromAssets=function(a,b){null==b&&(b=!0);var c=ga.field(lc.getType(W).assets[0],a);if(null==c){if(b)throw new n(na.withFields("Missing asset pack",["name",a]));return null}var d=new W;d.set_localBase("assets");for(var g=0;g<c.length;){var e=c[g];++g;var q=e.name,f=a+"/"+q+"?v="+z.string(e.md5),h=W.inferFormat(q);h!=u.Data&&(q=na.removeFileExtension(q));d.add(q,f,e.bytes,h)}return d};W.fromAssetsLocalized=
function(a,b,c){null==c&&(c=!0);null==b&&(b=l._platform.getLocale());if(null!=b)for(b=b.split("-");0<b.length;){var d=W.fromAssets(a+"_"+b.join("-"),!1);if(null!=d)return d;b.pop()}return W.fromAssets(a,c)};W.exists=function(a){var b=lc.getType(W).assets[0];return Object.prototype.hasOwnProperty.call(b,a)};W.inferFormat=function(a){a=na.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "dds":return u.DDS;case "gif":return u.GIF;case "jpeg":case "jpg":return u.JPG;case "jxr":case "wdp":return u.JXR;
case "m4a":return u.M4A;case "mp3":return u.MP3;case "ogg":return u.OGG;case "opus":return u.OPUS;case "pkm":return u.PKM;case "png":return u.PNG;case "pvr":return u.PVR;case "wav":return u.WAV;case "webp":return u.WEBP}return u.Data};W.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=W.inferFormat(b));a=new Kd(a,b,d,c);this._entries.push(a);return a},iterator:function(){return t.iter(this._entries)},getFullURL:function(a){var b=null!=this.get_remoteBase()&&W._supportsCrossOrigin?this.get_remoteBase():
this.get_localBase();return null!=b?na.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&!aa.startsWith(a,"http://")&&aa.startsWith(a,"https://");return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&(aa.startsWith(a,"http://")||aa.startsWith(a,"https://"));return this._remoteBase=a},__class__:W};var $=f["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};
$.Normal=["Normal",0];$.Normal.toString=j;$.Normal.__enum__=$;$.Add=["Add",1];$.Add.toString=j;$.Add.__enum__=$;$.Multiply=["Multiply",2];$.Multiply.toString=j;$.Multiply.__enum__=$;$.Screen=["Screen",3];$.Screen.toString=j;$.Screen.__enum__=$;$.Mask=["Mask",4];$.Mask.toString=j;$.Mask.__enum__=$;$.Copy=["Copy",5];$.Copy.toString=j;$.Copy.__enum__=$;var eb=f["flambe.display.EmitterType"]={__ename__:["flambe","display","EmitterType"],__constructs__:["Gravity","Radial"]};eb.Gravity=["Gravity",0];eb.Gravity.toString=
j;eb.Gravity.__enum__=eb;eb.Radial=["Radial",1];eb.Radial.toString=j;eb.Radial.__enum__=eb;var G=function(a,b){this._file=a.getFile(b+".pex");for(var c=m.parse(this._file.toString()),d=0,g=0,e=b.lastIndexOf("/"),e=0<=e?t.substr(b,0,e+1):"",c=c.firstElement().elements();c.hasNext();){var q=c.next();if(q.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+q.nodeType);switch(q.nodeName.toLowerCase()){case "angle":this.angle=G.getFloat(q,"value");break;case "anglevariance":this.angleVariance=
G.getFloat(q,"value");break;case "blendfuncdestination":g=G.getFloat(q,"value")|0;break;case "blendfuncsource":d=G.getFloat(q,"value")|0;break;case "duration":this.duration=G.getFloat(q,"value");break;case "emittertype":this.type=0==(G.getFloat(q,"value")|0)?eb.Gravity:eb.Radial;break;case "finishcolor":this.alphaEnd=G.getFloat(q,"alpha");break;case "finishcolorvariance":this.alphaEndVariance=G.getFloat(q,"alpha");break;case "finishparticlesize":this.sizeEnd=G.getFloat(q,"value");break;case "finishparticlesizevariance":this.sizeEndVariance=
G.getFloat(q,"value");break;case "gravity":this.gravityX=G.getFloat(q,"x");this.gravityY=G.getFloat(q,"y");break;case "maxparticles":this.maxParticles=G.getFloat(q,"value")|0;break;case "maxradius":this.maxRadius=G.getFloat(q,"value");break;case "maxradiusvariance":this.maxRadiusVariance=G.getFloat(q,"value");break;case "minradius":this.minRadius=G.getFloat(q,"value");break;case "particlelifespan":this.lifespan=G.getFloat(q,"value");break;case "particlelifespanvariance":this.lifespanVariance=G.getFloat(q,
"value");break;case "radialacceleration":this.radialAccel=G.getFloat(q,"value");break;case "radialaccelvariance":this.radialAccelVariance=G.getFloat(q,"value");break;case "rotatepersecond":this.rotatePerSecond=G.getFloat(q,"value");break;case "rotatepersecondvariance":this.rotatePerSecondVariance=G.getFloat(q,"value");break;case "rotationend":this.rotationEnd=G.getFloat(q,"value");break;case "rotationendvariance":this.rotationEndVariance=G.getFloat(q,"value");break;case "rotationstart":this.rotationStart=
G.getFloat(q,"value");break;case "rotationstartvariance":this.rotationStartVariance=G.getFloat(q,"value");break;case "sourcepositionvariance":this.emitXVariance=G.getFloat(q,"x");this.emitYVariance=G.getFloat(q,"y");break;case "speed":this.speed=G.getFloat(q,"value");break;case "speedvariance":this.speedVariance=G.getFloat(q,"value");break;case "startcolor":this.alphaStart=G.getFloat(q,"alpha");break;case "startcolorvariance":this.alphaStartVariance=G.getFloat(q,"alpha");break;case "startparticlesize":this.sizeStart=
G.getFloat(q,"value");break;case "startparticlesizevariance":this.sizeStartVariance=G.getFloat(q,"value");break;case "tangentialacceleration":this.tangentialAccel=G.getFloat(q,"value");break;case "tangentialaccelvariance":this.tangentialAccelVariance=G.getFloat(q,"value");break;case "texture":this.texture=a.getTexture(e+na.removeFileExtension(q.get("name")))}}0>=this.lifespan&&(this.lifespan=this.duration);1==d&&1==g?this.blendMode=$.Add:1==d&&771==g&&(this.blendMode=null)};f["flambe.display.EmitterMold"]=
G;G.__name__=["flambe","display","EmitterMold"];G.getFloat=function(a,b){return parseFloat(a.get(b))};G.prototype={createEmitter:function(){return new ea(this)},__class__:G};var ea=function(a){this._emitElapsed=this._totalElapsed=0;this.enabled=!0;this.numParticles=0;i.call(this);this.texture=a.texture;this.blendMode=a.blendMode;this.type=a.type;this.alphaEnd=new x(a.alphaEnd);this.alphaEndVariance=new x(a.alphaEndVariance);this.alphaStart=new x(a.alphaStart);this.alphaStartVariance=new x(a.alphaStartVariance);
this.angle=new x(a.angle);this.angleVariance=new x(a.angleVariance);this.duration=a.duration;this.emitXVariance=new x(a.emitXVariance);this.emitYVariance=new x(a.emitYVariance);this.gravityX=new x(a.gravityX);this.gravityY=new x(a.gravityY);this.maxRadius=new x(a.maxRadius);this.maxRadiusVariance=new x(a.maxRadiusVariance);this.minRadius=new x(a.minRadius);this.lifespan=new x(a.lifespan);this.lifespanVariance=new x(a.lifespanVariance);this.radialAccel=new x(a.radialAccel);this.radialAccelVariance=
new x(a.radialAccelVariance);this.rotatePerSecond=new x(a.rotatePerSecond);this.rotatePerSecondVariance=new x(a.rotatePerSecondVariance);this.rotationEnd=new x(a.rotationEnd);this.rotationEndVariance=new x(a.rotationEndVariance);this.rotationStart=new x(a.rotationStart);this.rotationStartVariance=new x(a.rotationStartVariance);this.sizeEnd=new x(a.sizeEnd);this.sizeEndVariance=new x(a.sizeEndVariance);this.sizeStart=new x(a.sizeStart);this.sizeStartVariance=new x(a.sizeStartVariance);this.speed=new x(a.speed);
this.speedVariance=new x(a.speedVariance);this.tangentialAccel=new x(a.tangentialAccel);this.tangentialAccelVariance=new x(a.tangentialAccelVariance);this.emitX=new x(0);this.emitY=new x(0);this._particles=Array(a.maxParticles);for(var a=0,b=this._particles.length;a<b;)this._particles[a]=new Ld,++a};f["flambe.display.EmitterSprite"]=ea;ea.__name__=["flambe","display","EmitterSprite"];ea.random=function(a,b){0!=b&&(a+=b*(2*Math.random()-1));return a};ea.__super__=i;ea.prototype=r(i.prototype,{restart:function(){this.enabled=
!0;this._totalElapsed=0},onUpdate:function(a){i.prototype.onUpdate.call(this,a);this.alphaEnd.update(a);this.alphaEndVariance.update(a);this.alphaStart.update(a);this.alphaStartVariance.update(a);this.angle.update(a);this.angleVariance.update(a);this.emitX.update(a);this.emitXVariance.update(a);this.emitY.update(a);this.emitYVariance.update(a);this.gravityX.update(a);this.gravityY.update(a);this.lifespan.update(a);this.lifespanVariance.update(a);this.maxRadius.update(a);this.maxRadiusVariance.update(a);
this.minRadius.update(a);this.radialAccel.update(a);this.radialAccelVariance.update(a);this.rotatePerSecond.update(a);this.rotatePerSecondVariance.update(a);this.rotationEnd.update(a);this.rotationEndVariance.update(a);this.rotationStart.update(a);this.rotationStartVariance.update(a);this.sizeEnd.update(a);this.sizeEndVariance.update(a);this.sizeStart.update(a);this.sizeStartVariance.update(a);this.speed.update(a);this.speedVariance.update(a);this.tangentialAccel.update(a);this.tangentialAccelVariance.update(a);
for(var b=this.type==eb.Gravity,c=0;c<this.numParticles;){var d=this._particles[c];if(d.life>a){if(b){d.x+=d.velX*a;d.y+=d.velY*a;var g=this.gravityX._value,e=-this.gravityY._value;if(0!=d.radialAccel||0!=d.tangentialAccel)var q=d.x-d.emitX,f=d.y-d.emitY,h=Math.sqrt(q*q+f*f),q=q/h,f=f/h,g=g+q*d.radialAccel,e=e+f*d.radialAccel,h=q,g=g+-f*d.tangentialAccel,e=e+h*d.tangentialAccel;d.velX+=g*a;d.velY+=e*a}else d.radialRotation+=d.velRadialRotation*a,g=d.radialRadius+=d.velRadialRadius*a,d.x=this.emitX._value-
Math.cos(d.radialRotation)*g,d.y=this.emitY._value-Math.sin(d.radialRotation)*g,g<this.minRadius._value&&(d.life=0);d.scale+=d.velScale*a;d.rotation+=d.velRotation*a;d.alpha+=d.velAlpha*a;d.life-=a;++c}else--this.numParticles,c!=this.numParticles&&(this._particles[c]=this._particles[this.numParticles],this._particles[this.numParticles]=d)}if(this.enabled){if(0<this.duration&&(this._totalElapsed+=a,this._totalElapsed>=this.duration)){this.enabled=!1;return}b=this.lifespan._value/this._particles.length;
for(this._emitElapsed+=a;this._emitElapsed>=b;)this.numParticles<this._particles.length&&this.initParticle(this._particles[this.numParticles])&&++this.numParticles,this._emitElapsed-=b}},draw:function(a){for(var b=-this.texture.get_width()/2,c=0,d=this.numParticles;c<d;){var g=this._particles[c];a.save();a.translate(g.x,g.y);1>g.alpha&&a.multiplyAlpha(g.alpha);0!=g.rotation&&a.rotate(g.rotation);1!=g.scale&&a.scale(g.scale,g.scale);a.drawTexture(this.texture,b,b);a.restore();++c}},initParticle:function(a){a.life=
ea.random(this.lifespan._value,this.lifespanVariance._value);if(0>=a.life)return!1;a.emitX=this.emitX._value;a.emitY=this.emitY._value;var b=-(3.141592653589793*ea.random(this.angle._value,this.angleVariance._value)/180),c=ea.random(this.speed._value,this.speedVariance._value);a.velX=c*Math.cos(b);a.velY=c*Math.sin(b);a.radialAccel=ea.random(this.radialAccel._value,this.radialAccelVariance._value);a.tangentialAccel=ea.random(this.tangentialAccel._value,this.tangentialAccelVariance._value);a.radialRadius=
ea.random(this.maxRadius._value,this.maxRadiusVariance._value);a.velRadialRadius=-a.radialRadius/a.life;a.radialRotation=b;a.velRadialRotation=3.141592653589793*ea.random(this.rotatePerSecond._value,this.rotatePerSecondVariance._value)/180;this.type==eb.Gravity?(a.x=ea.random(this.emitX._value,this.emitXVariance._value),a.y=ea.random(this.emitY._value,this.emitYVariance._value)):(b=a.radialRadius,a.x=this.emitX._value-Math.cos(a.radialRotation)*b,a.y=this.emitY._value-Math.sin(a.radialRotation)*b);
c=this.texture.get_width();b=ea.random(this.sizeStart._value,this.sizeStartVariance._value)/c;c=ea.random(this.sizeEnd._value,this.sizeEndVariance._value)/c;a.scale=b;a.velScale=(c-b)/a.life;b=ea.random(this.rotationStart._value,this.rotationStartVariance._value);c=ea.random(this.rotationEnd._value,this.rotationEndVariance._value);a.rotation=b;a.velRotation=(c-b)/a.life;b=ea.random(this.alphaStart._value,this.alphaStartVariance._value);c=ea.random(this.alphaEnd._value,this.alphaEndVariance._value);
a.alpha=b;a.velAlpha=(c-b)/a.life;return!0},__class__:ea});var Ld=function(){this.emitX=this.emitY=this.x=this.velX=this.y=this.velY=this.radialRadius=this.velRadialRadius=this.radialRotation=this.velRadialRotation=this.radialAccel=this.tangentialAccel=this.scale=this.velScale=this.rotation=this.velRotation=this.alpha=this.velAlpha=this.life=0};f["flambe.display._EmitterSprite.Particle"]=Ld;Ld.__name__=["flambe","display","_EmitterSprite","Particle"];Ld.prototype={__class__:Ld};var V=function(a,b,
c){i.call(this);this.color=a;this.width=new x(b);this.height=new x(c)};f["flambe.display.FillSprite"]=V;V.__name__=["flambe","display","FillSprite"];V.__super__=i;V.prototype=r(i.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){i.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:V});var id=function(a){this._kernings=
null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};f["flambe.display.Glyph"]=id;id.__name__=["flambe","display","Glyph"];id.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?this._kernings.h[a]|0:0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new Ka);this._kernings.h[a]=b},
__class__:id};var $b=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};f["flambe.display.Font"]=$b;$b.__name__=["flambe","display","Font"];$b.prototype={disposeFiles:function(){this._file.dispose();return this},layoutText:function(a,b,c,d,g){null==g&&(g=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=w.Left);return new Ob(this,a,b,c,d,g)},reload:function(){this._glyphs=new Ka;this._glyphs.h[$b.NEWLINE.charCode]=$b.NEWLINE;for(var a=new ac(this._file.toString()),b=new Ka,
c=this.name.lastIndexOf("/"),c=0<=c?t.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "char":for(var g=null,e=a.pairs();e.hasNext();){var f=e.next();switch(f.key){case "height":g.height=f.getInt();break;case "id":g=new id(f.getInt());break;case "page":f=f.getInt();g.page=b.h[f];break;case "width":g.width=f.getInt();break;case "x":g.x=f.getInt();break;case "xadvance":g.xAdvance=f.getInt();break;case "xoffset":g.xOffset=f.getInt();break;case "y":g.y=f.getInt();break;case "yoffset":g.yOffset=
f.getInt()}}this._glyphs.set(g.charCode,g);break;case "common":for(g=a.pairs();g.hasNext();)e=g.next(),"lineHeight"==e.key&&(this.lineHeight=e.getInt());break;case "info":for(g=a.pairs();g.hasNext();)e=g.next(),"size"==e.key&&(this.size=e.getInt());break;case "kerning":for(var g=null,f=e=0,h=a.pairs();h.hasNext();){var i=h.next();switch(i.key){case "amount":f=i.getInt();break;case "first":g=this._glyphs.get(i.getInt());break;case "second":e=i.getInt()}}null!=g&&0!=f&&g.setKerning(e,f);break;case "page":g=
0;e=null;for(f=a.pairs();f.hasNext();)switch(h=f.next(),h.key){case "file":e=h.getString();break;case "id":g=h.getInt()}e=this._pack.getTexture(c+na.removeFileExtension(e));b.h[g]=e}},__class__:$b};var w=f["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};w.Left=["Left",0];w.Left.toString=j;w.Left.__enum__=w;w.Center=["Center",1];w.Center.toString=j;w.Center.__enum__=w;w.Right=["Right",2];w.Right.toString=j;w.Right.__enum__=w;var Ob=
function(a,b,c,d,g,e){this.lines=0;var f=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+e);this.bounds=new $a;for(var h=[],e=0,i=b.length;e<i;){var j=e++,j=b.charCodeAt(j),j=a._glyphs.get(j);null!=j&&this._glyphs.push(j)}for(var b=-1,l=0,n=0,a=a._glyphs.get(10),e=function(){var a=f.bounds.width;f.bounds.width=a>l?a:l;f.bounds.height+=n;h[f.lines]=l;n=l=0;++f.lines},i=0;i<this._glyphs.length;){j=this._glyphs[i];this._offsets[i]=Math.round(l);var m=0<d&&
l+j.width>d;m||j==a?(m&&(0<=b?(this._glyphs[b]=a,l=this._offsets[b],i=b):this._glyphs.splice(i,0,a)),b=-1,n=this._lineOffset,e()):(32==j.charCode&&(b=i),l+=j.xAdvance+g,m=j.height+j.yOffset,n>m||(n=m),i+1<this._glyphs.length&&(l+=j.getKerning(this._glyphs[i+1].charCode)));++i}e();g=0;a=Ob.getAlignOffset(c,h[0],d);b=1.79769313486231E308;e=-1.79769313486231E308;j=i=0;for(m=this._glyphs.length;j<m;){var o=this._glyphs[j];10==o.charCode&&(g+=this._lineOffset,++i,a=Ob.getAlignOffset(c,h[i],d));this._offsets[j]+=
a;var k=g+o.yOffset,b=b<k?b:k,o=k+o.height;e>o||(e=o);++j}this.bounds.x=Ob.getAlignOffset(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=e-b};f["flambe.display.TextLayout"]=Ob;Ob.__name__=["flambe","display","TextLayout"];Ob.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 1:return Math.round((c-b)/2);case 2:return c-b}};Ob.prototype={draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var g=this._glyphs[c];10==g.charCode?b+=this._lineOffset:g.draw(a,this._offsets[c],
b);++c}},__class__:Ob};var ac=function(a){this._configText=a;this._keywordPattern=new hb("([A-Za-z]+)(.*)","");this._pairPattern=new hb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};f["flambe.display._Font.ConfigParser"]=ac;ac.__name__=["flambe","display","_Font","ConfigParser"];ac.advance=function(a,b){var c=b.matchedPos();return t.substr(a,c.pos+c.len,a.length)};ac.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=ac.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);
return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=ac.advance(b,a._pairPattern);return new Md(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:ac};var Md=function(a,b){this.key=a;this._value=b};f["flambe.display._Font.ConfigPair"]=Md;Md.__name__=["flambe","display","_Font","ConfigPair"];Md.prototype={getInt:function(){return z.parseInt(this._value)},
getString:function(){return 34!=this._value.charCodeAt(0)?null:t.substr(this._value,1,this._value.length-2)},__class__:Md};var Nd=function(){};f["flambe.display.Graphics"]=Nd;Nd.__name__=["flambe","display","Graphics"];Nd.prototype={__class__:Nd};var k=function(a){i.call(this);this.texture=a};f["flambe.display.ImageSprite"]=k;k.__name__=["flambe","display","ImageSprite"];k.__super__=i;k.prototype=r(i.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=
this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:k});var Bb=f["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};Bb.Portrait=["Portrait",0];Bb.Portrait.toString=j;Bb.Portrait.__enum__=Bb;Bb.Landscape=["Landscape",1];Bb.Landscape.toString=j;Bb.Landscape.__enum__=Bb;var jd=function(a,b,c){null==c&&(c=-1);null==b&&(b=-1);i.call(this);this.texture=a;0>
b&&(b=null!=a?a.get_width():0);this.width=new x(b);0>c&&(c=null!=a?a.get_height():0);this.height=new x(c)};f["flambe.display.PatternSprite"]=jd;jd.__name__=["flambe","display","PatternSprite"];jd.__super__=i;jd.prototype=r(i.prototype,{draw:function(a){null!=this.texture&&a.drawPattern(this.texture,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){i.prototype.onUpdate.call(this,
a);this.width.update(a);this.height.update(a)},__class__:jd});var kd=function(){};f["flambe.display.Texture"]=kd;kd.__name__=["flambe","display","Texture"];kd.__interfaces__=[Nb];kd.prototype={__class__:kd};var pe=function(){};f["flambe.display.SubTexture"]=pe;pe.__name__=["flambe","display","SubTexture"];pe.__interfaces__=[kd];var ra=function(a,b){null==b&&(b="");this._layout=null;var c=this;i.call(this);this._font=a;this._text=b;this._align=w.Left;this._flags|=256;var d=function(){c._flags|=256};
this.wrapWidth=new x(0,d);this.letterSpacing=new x(0,d);this.lineSpacing=new x(0,d)};f["flambe.display.TextSprite"]=ra;ra.__name__=["flambe","display","TextSprite"];ra.__super__=i;ra.prototype=r(i.prototype,{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),
b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=256);return a},set_align:function(a){a!=this._align&&(this._align=a,this._flags|=256);return a},updateLayout:function(){0!=(this._flags&256)&&(this._flags&=-257,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){i.prototype.onUpdate.call(this,
a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:ra});var e=f["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
e.A=["A",0];e.A.toString=j;e.A.__enum__=e;e.B=["B",1];e.B.toString=j;e.B.__enum__=e;e.C=["C",2];e.C.toString=j;e.C.__enum__=e;e.D=["D",3];e.D.toString=j;e.D.__enum__=e;e.E=["E",4];e.E.toString=j;e.E.__enum__=e;e.F=["F",5];e.F.toString=j;e.F.__enum__=e;e.G=["G",6];e.G.toString=j;e.G.__enum__=e;e.H=["H",7];e.H.toString=j;e.H.__enum__=e;e.I=["I",8];e.I.toString=j;e.I.__enum__=e;e.J=["J",9];e.J.toString=j;e.J.__enum__=e;e.K=["K",10];e.K.toString=j;e.K.__enum__=e;e.L=["L",11];e.L.toString=j;e.L.__enum__=
e;e.M=["M",12];e.M.toString=j;e.M.__enum__=e;e.N=["N",13];e.N.toString=j;e.N.__enum__=e;e.O=["O",14];e.O.toString=j;e.O.__enum__=e;e.P=["P",15];e.P.toString=j;e.P.__enum__=e;e.Q=["Q",16];e.Q.toString=j;e.Q.__enum__=e;e.R=["R",17];e.R.toString=j;e.R.__enum__=e;e.S=["S",18];e.S.toString=j;e.S.__enum__=e;e.T=["T",19];e.T.toString=j;e.T.__enum__=e;e.U=["U",20];e.U.toString=j;e.U.__enum__=e;e.V=["V",21];e.V.toString=j;e.V.__enum__=e;e.W=["W",22];e.W.toString=j;e.W.__enum__=e;e.X=["X",23];e.X.toString=
j;e.X.__enum__=e;e.Y=["Y",24];e.Y.toString=j;e.Y.__enum__=e;e.Z=["Z",25];e.Z.toString=j;e.Z.__enum__=e;e.Number0=["Number0",26];e.Number0.toString=j;e.Number0.__enum__=e;e.Number1=["Number1",27];e.Number1.toString=j;e.Number1.__enum__=e;e.Number2=["Number2",28];e.Number2.toString=j;e.Number2.__enum__=e;e.Number3=["Number3",29];e.Number3.toString=j;e.Number3.__enum__=e;e.Number4=["Number4",30];e.Number4.toString=j;e.Number4.__enum__=e;e.Number5=["Number5",31];e.Number5.toString=j;e.Number5.__enum__=
e;e.Number6=["Number6",32];e.Number6.toString=j;e.Number6.__enum__=e;e.Number7=["Number7",33];e.Number7.toString=j;e.Number7.__enum__=e;e.Number8=["Number8",34];e.Number8.toString=j;e.Number8.__enum__=e;e.Number9=["Number9",35];e.Number9.toString=j;e.Number9.__enum__=e;e.Numpad0=["Numpad0",36];e.Numpad0.toString=j;e.Numpad0.__enum__=e;e.Numpad1=["Numpad1",37];e.Numpad1.toString=j;e.Numpad1.__enum__=e;e.Numpad2=["Numpad2",38];e.Numpad2.toString=j;e.Numpad2.__enum__=e;e.Numpad3=["Numpad3",39];e.Numpad3.toString=
j;e.Numpad3.__enum__=e;e.Numpad4=["Numpad4",40];e.Numpad4.toString=j;e.Numpad4.__enum__=e;e.Numpad5=["Numpad5",41];e.Numpad5.toString=j;e.Numpad5.__enum__=e;e.Numpad6=["Numpad6",42];e.Numpad6.toString=j;e.Numpad6.__enum__=e;e.Numpad7=["Numpad7",43];e.Numpad7.toString=j;e.Numpad7.__enum__=e;e.Numpad8=["Numpad8",44];e.Numpad8.toString=j;e.Numpad8.__enum__=e;e.Numpad9=["Numpad9",45];e.Numpad9.toString=j;e.Numpad9.__enum__=e;e.NumpadAdd=["NumpadAdd",46];e.NumpadAdd.toString=j;e.NumpadAdd.__enum__=e;e.NumpadDecimal=
["NumpadDecimal",47];e.NumpadDecimal.toString=j;e.NumpadDecimal.__enum__=e;e.NumpadDivide=["NumpadDivide",48];e.NumpadDivide.toString=j;e.NumpadDivide.__enum__=e;e.NumpadEnter=["NumpadEnter",49];e.NumpadEnter.toString=j;e.NumpadEnter.__enum__=e;e.NumpadMultiply=["NumpadMultiply",50];e.NumpadMultiply.toString=j;e.NumpadMultiply.__enum__=e;e.NumpadSubtract=["NumpadSubtract",51];e.NumpadSubtract.toString=j;e.NumpadSubtract.__enum__=e;e.F1=["F1",52];e.F1.toString=j;e.F1.__enum__=e;e.F2=["F2",53];e.F2.toString=
j;e.F2.__enum__=e;e.F3=["F3",54];e.F3.toString=j;e.F3.__enum__=e;e.F4=["F4",55];e.F4.toString=j;e.F4.__enum__=e;e.F5=["F5",56];e.F5.toString=j;e.F5.__enum__=e;e.F6=["F6",57];e.F6.toString=j;e.F6.__enum__=e;e.F7=["F7",58];e.F7.toString=j;e.F7.__enum__=e;e.F8=["F8",59];e.F8.toString=j;e.F8.__enum__=e;e.F9=["F9",60];e.F9.toString=j;e.F9.__enum__=e;e.F10=["F10",61];e.F10.toString=j;e.F10.__enum__=e;e.F11=["F11",62];e.F11.toString=j;e.F11.__enum__=e;e.F12=["F12",63];e.F12.toString=j;e.F12.__enum__=e;e.F13=
["F13",64];e.F13.toString=j;e.F13.__enum__=e;e.F14=["F14",65];e.F14.toString=j;e.F14.__enum__=e;e.F15=["F15",66];e.F15.toString=j;e.F15.__enum__=e;e.Left=["Left",67];e.Left.toString=j;e.Left.__enum__=e;e.Up=["Up",68];e.Up.toString=j;e.Up.__enum__=e;e.Right=["Right",69];e.Right.toString=j;e.Right.__enum__=e;e.Down=["Down",70];e.Down.toString=j;e.Down.__enum__=e;e.Alt=["Alt",71];e.Alt.toString=j;e.Alt.__enum__=e;e.Backquote=["Backquote",72];e.Backquote.toString=j;e.Backquote.__enum__=e;e.Backslash=
["Backslash",73];e.Backslash.toString=j;e.Backslash.__enum__=e;e.Backspace=["Backspace",74];e.Backspace.toString=j;e.Backspace.__enum__=e;e.CapsLock=["CapsLock",75];e.CapsLock.toString=j;e.CapsLock.__enum__=e;e.Comma=["Comma",76];e.Comma.toString=j;e.Comma.__enum__=e;e.Command=["Command",77];e.Command.toString=j;e.Command.__enum__=e;e.Control=["Control",78];e.Control.toString=j;e.Control.__enum__=e;e.Delete=["Delete",79];e.Delete.toString=j;e.Delete.__enum__=e;e.End=["End",80];e.End.toString=j;e.End.__enum__=
e;e.Enter=["Enter",81];e.Enter.toString=j;e.Enter.__enum__=e;e.Equals=["Equals",82];e.Equals.toString=j;e.Equals.__enum__=e;e.Escape=["Escape",83];e.Escape.toString=j;e.Escape.__enum__=e;e.Home=["Home",84];e.Home.toString=j;e.Home.__enum__=e;e.Insert=["Insert",85];e.Insert.toString=j;e.Insert.__enum__=e;e.LeftBracket=["LeftBracket",86];e.LeftBracket.toString=j;e.LeftBracket.__enum__=e;e.Minus=["Minus",87];e.Minus.toString=j;e.Minus.__enum__=e;e.PageDown=["PageDown",88];e.PageDown.toString=j;e.PageDown.__enum__=
e;e.PageUp=["PageUp",89];e.PageUp.toString=j;e.PageUp.__enum__=e;e.Period=["Period",90];e.Period.toString=j;e.Period.__enum__=e;e.Quote=["Quote",91];e.Quote.toString=j;e.Quote.__enum__=e;e.RightBracket=["RightBracket",92];e.RightBracket.toString=j;e.RightBracket.__enum__=e;e.Semicolon=["Semicolon",93];e.Semicolon.toString=j;e.Semicolon.__enum__=e;e.Shift=["Shift",94];e.Shift.toString=j;e.Shift.__enum__=e;e.Slash=["Slash",95];e.Slash.toString=j;e.Slash.__enum__=e;e.Space=["Space",96];e.Space.toString=
j;e.Space.__enum__=e;e.Tab=["Tab",97];e.Tab.toString=j;e.Tab.__enum__=e;e.Menu=["Menu",98];e.Menu.toString=j;e.Menu.__enum__=e;e.Search=["Search",99];e.Search.toString=j;e.Search.__enum__=e;e.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e;a.toString=j;return a};var Od=function(){this.init(0,null)};f["flambe.input.KeyboardEvent"]=Od;Od.__name__=["flambe","input","KeyboardEvent"];Od.prototype={init:function(a,b){this.id=a;this.key=b},__class__:Od};var ua=f["flambe.input.MouseButton"]={__ename__:["flambe",
"input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};ua.Left=["Left",0];ua.Left.toString=j;ua.Left.__enum__=ua;ua.Middle=["Middle",1];ua.Middle.toString=j;ua.Middle.__enum__=ua;ua.Right=["Right",2];ua.Right.toString=j;ua.Right.__enum__=ua;ua.Unknown=function(a){a=["Unknown",3,a];a.__enum__=ua;a.toString=j;return a};var va=f["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};va.Default=["Default",0];va.Default.toString=
j;va.Default.__enum__=va;va.Button=["Button",1];va.Button.toString=j;va.Button.__enum__=va;va.None=["None",2];va.None.toString=j;va.None.__enum__=va;var Pd=function(){this.init(0,0,0,null)};f["flambe.input.MouseEvent"]=Pd;Pd.__name__=["flambe","input","MouseEvent"];Pd.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:Pd};var ld=f["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};ld.Mouse=function(a){a=
["Mouse",0,a];a.__enum__=ld;a.toString=j;return a};ld.Touch=function(a){a=["Touch",1,a];a.__enum__=ld;a.toString=j;return a};var Qd=function(){this.init(0,0,0,null,null)};f["flambe.input.PointerEvent"]=Qd;Qd.__name__=["flambe","input","PointerEvent"];Qd.prototype={init:function(a,b,c,d,g){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=g;this._stopped=!1},__class__:Qd};var Rd=function(a){this.id=a;this._source=ld.Touch(this)};f["flambe.input.TouchPoint"]=Rd;Rd.__name__=["flambe","input",
"TouchPoint"];Rd.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:Rd};var Xc=function(){};f["flambe.math.FMath"]=Xc;Xc.__name__=["flambe","math","FMath"];Xc.clamp=function(a,b,c){return a<b?b:a>c?c:a};var Pa=function(){this.identity()};f["flambe.math.Matrix"]=Pa;Pa.__name__=["flambe","math","Matrix"];Pa.multiply=function(a,b,c){null==c&&(c=new Pa);var d=a.m00*b.m00+a.m01*b.m10,g=a.m00*b.m01+a.m01*b.m11,e=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=g;c.m02=e;d=a.m10*b.m00+a.m11*b.m10;
g=a.m10*b.m01+a.m11*b.m11;e=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=g;c.m12=e;return c};Pa.prototype={set:function(a,b,c,d,g,e){this.m00=a;this.m01=c;this.m02=g;this.m10=b;this.m11=d;this.m12=e},identity:function(){this.set(1,0,0,1,0,0)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m01/a,-this.m10/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-
this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new J);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},transformArray:function(a,b,c){for(var d=0;d<b;){var g=a[d],e=a[d+1];c[d++]=g*this.m00+e*this.m01+this.m02;c[d++]=g*this.m10+e*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=
(b*this.m00-a*this.m10)/d;return!0},clone:function(a){null==a&&(a=new Pa);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:Pa};var $a=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};f["flambe.math.Rectangle"]=$a;$a.__name__=["flambe","math","Rectangle"];$a.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<
a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&(a=new $a);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},__class__:$a};var qa=function(){this._disposed=!1};f["flambe.platform.BasicAsset"]=qa;qa.__name__=["flambe","platform","BasicAsset"];qa.__interfaces__=[Nb];qa.prototype={dispose:function(){this._disposed||
(this._disposed=!0,this.onDisposed())},onDisposed:function(){},__class__:qa};var Pb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new md;this._bytesLoaded=new Q;this._pack=new nd(b,this);var d=zc.array(b);if(0==d.length)this.handleSuccess();else{for(var g=new Q,e=0;e<d.length;){var f=d[e];++e;var h=f.name,h=null!=v[h]?g.getReserved(h):g.h[h];if(null==h){var h=[],i=f.name;null!=v[i]?g.setReserved(i,h):g.h[i]=h}h.push(f)}this._assetsRemaining=zc.count(g);for(d=new pb(g,g.arrayKeys());d.hasNext();)g=
[d.next()],this.pickBestEntry(g[0],function(a){return function(d){if(null!=d){var g=b.getFullURL(d);try{c.loadEntry(g,d)}catch(e){e instanceof n&&(e=e.val),c.handleError(d,"Unexpected error: "+z.string(e))}g=c.promise;g.set_total(g._total+d.bytes)}else d=a[0][0],Pb.isAudio(d.format)?(g=La.getInstance(),c.handleLoad(d,g)):c.handleError(d,"Could not find a supported format to load")}}(g))}};f["flambe.platform.BasicAssetPackLoader"]=Pb;Pb.__name__=["flambe","platform","BasicAssetPackLoader"];Pb.isAudio=
function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Pb.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var g=c[d];++d;for(var e=0;e<a.length;){var f=a[e];++e;if(f.format==g){b(f);return}}}b(null)})},loadEntry:function(){},getAssetFormats:function(){},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=
this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}var d=a.name;null!=v[d]?c.setReserved(d,b):c.h[d]=b;this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){var c=a.name,d=this._bytesLoaded;null!=v[c]?d.setReserved(c,b):d.h[c]=b;c=0;d=this._bytesLoaded;for(d=new pb(d,d.arrayKeys());d.hasNext();)var g=d.next(),c=c+g;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},
handleError:function(a,b){this.promise.error.emit(na.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Pb};var nd=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new Q;this.sounds=new Q;this.files=new Q};f["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=nd;nd.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];nd.__interfaces__=[gd];nd.prototype=
{getTexture:function(a,b){null==b&&(b=!0);var c=this.textures,c=null!=v[a]?c.getReserved(a):c.h[a];if(null==c&&b)throw new n(na.withFields("Missing texture",["name",a]));return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds,c=null!=v[a]?c.getReserved(a):c.h[a];if(null==c&&b)throw new n(na.withFields("Missing sound",["name",a]));return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files,c=null!=v[a]?c.getReserved(a):c.h[a];if(null==c&&b)throw new n(na.withFields("Missing file",["name",
a]));return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures,a=new pb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.textures=null;a=this.sounds;for(a=new pb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.sounds=null;a=this.files;for(a=new pb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},get_manifest:function(){return this._manifest},__class__:nd};var mc=function(a){this._disposed=!1;this._content=a};f["flambe.platform.BasicFile"]=
mc;mc.__name__=["flambe","platform","BasicFile"];mc.__interfaces__=[hd];mc.__super__=qa;mc.prototype=r(qa.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:mc});var Sd=function(){};f["flambe.subsystem.KeyboardSystem"]=Sd;Sd.__name__=["flambe","subsystem","KeyboardSystem"];Sd.prototype={__class__:Sd};var Va=function(){this.down=new M;this.up=new M;this.backButton=new ia;this._keyStates=new Ka};f["flambe.platform.BasicKeyboard"]=Va;Va.__name__=
["flambe","platform","BasicKeyboard"];Va.__interfaces__=[Sd];Va.prototype={isDown:function(a){return this._keyStates.exists(nc.toKeyCode(a))},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||(this._keyStates.h[a]=!0,Va._sharedEvent.init(Va._sharedEvent.id+1,nc.toKey(a)),this.down.emit(Va._sharedEvent));return!0},submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),Va._sharedEvent.init(Va._sharedEvent.id+
1,nc.toKey(a)),this.up.emit(Va._sharedEvent))},__class__:Va};var Td=function(){};f["flambe.subsystem.MouseSystem"]=Td;Td.__name__=["flambe","subsystem","MouseSystem"];Td.prototype={__class__:Td};var za=function(a){this._pointer=a;this._source=ld.Mouse(za._sharedEvent);this.down=new M;this.move=new M;this.up=new M;this.scroll=new M;this._y=this._x=0;this._cursor=va.Default;this._buttonStates=new Ka};f["flambe.platform.BasicMouse"]=za;za.__name__=["flambe","platform","BasicMouse"];za.__interfaces__=
[Td];za.prototype={get_supported:function(){return!0},set_cursor:function(a){return this._cursor=a},submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.h[c]=!0,this.prepare(a,b,Ud.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(za._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(za._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),
this.prepare(a,b,Ud.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(za._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;za._sharedEvent.init(za._sharedEvent.id+1,a,b,c)},__class__:za};var Vd=function(){};f["flambe.subsystem.PointerSystem"]=Vd;Vd.__name__=["flambe","subsystem","PointerSystem"];Vd.prototype={__class__:Vd};var ta=function(a,b,c){null==c&&(c=
!1);null==b&&(b=0);null==a&&(a=0);this.down=new M;this.move=new M;this.up=new M;this._x=a;this._y=b;this._isDown=c};f["flambe.platform.BasicPointer"]=ta;ta.__name__=["flambe","platform","BasicPointer"];ta.__interfaces__=[Vd];ta.prototype={get_x:function(){return this._x},get_y:function(){return this._y},submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],g=i.hitTest(l.root,a,b);if(null!=g)for(var e=g.owner;;){var f=e._compMap.Sprite_1;null!=f&&d.push(f);e=
e.parent;if(null==e)break}this.prepare(a,b,g,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(ta._sharedEvent),ta._sharedEvent._stopped)return;this.down.emit(ta._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var d=[],g=i.hitTest(l.root,a,b);if(null!=g)for(var e=g.owner;;){var f=e._compMap.Sprite_1;null!=f&&d.push(f);e=e.parent;if(null==e)break}this.prepare(a,b,g,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(ta._sharedEvent),ta._sharedEvent._stopped)return;this.move.emit(ta._sharedEvent)}},
submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],g=i.hitTest(l.root,a,b);if(null!=g)for(var e=g.owner;;){var f=e._compMap.Sprite_1;null!=f&&d.push(f);e=e.parent;if(null==e)break}this.prepare(a,b,g,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(ta._sharedEvent),ta._sharedEvent._stopped)return;this.up.emit(ta._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;ta._sharedEvent.init(ta._sharedEvent.id+1,a,b,c,d)},__class__:ta};var fb=function(a,b,
c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};f["flambe.platform.BasicTexture"]=fb;fb.__name__=["flambe","platform","BasicTexture"];fb.__interfaces__=[pe];fb.__super__=qa;fb.prototype=r(qa.prototype,{subTexture:function(a,b,c,d){c=this.root.createTexture(c,d);c._parent=this;c._x=a;c._y=b;c.rootX=this.rootX+a;c.rootY=this.rootY+b;return c},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},
get_height:function(){return this._height},__class__:fb});var od=function(){};f["flambe.subsystem.TouchSystem"]=od;od.__name__=["flambe","subsystem","TouchSystem"];od.prototype={__class__:od};var Zc=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new Ka;this._points=[];this.down=new M;this.move=new M;this.up=new M};f["flambe.platform.BasicTouch"]=Zc;Zc.__name__=["flambe","platform","BasicTouch"];Zc.__interfaces__=[od];Zc.prototype={get_supported:function(){return!0},
submitDown:function(a,b,c){if(!this._pointMap.h.hasOwnProperty(a)){var d=new Rd(a);d.init(b,c);this._pointMap.h[a]=d;this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.h[a];null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=this._pointMap.h[a];null!=d&&(d.init(b,c),this._pointMap.remove(a),t.remove(this._points,
d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:Zc};var bc=function(){};f["flambe.sound.Sound"]=bc;bc.__name__=["flambe","sound","Sound"];bc.__interfaces__=[Nb];bc.prototype={__class__:bc};var La=function(){this._disposed=!1;this._playback=new pd(this)};f["flambe.platform.DummySound"]=La;La.__name__=["flambe","platform","DummySound"];La.__interfaces__=[bc];La.getInstance=function(){null==La._instance&&(La._instance=new La);return La._instance};
La.__super__=qa;La.prototype=r(qa.prototype,{play:function(){return this._playback},loop:function(){return this._playback},onDisposed:function(){},__class__:La});var cc=function(){};f["flambe.sound.Playback"]=cc;cc.__name__=["flambe","sound","Playback"];cc.__interfaces__=[Za];cc.prototype={__class__:cc};var pd=function(a){this._sound=a;this.volume=new x(0);this._complete=new ha(!0)};f["flambe.platform.DummyPlayback"]=pd;pd.__name__=["flambe","platform","DummyPlayback"];pd.__interfaces__=[cc];pd.prototype=
{dispose:function(){},__class__:pd};var qd=function(){};f["flambe.subsystem.StorageSystem"]=qd;qd.__name__=["flambe","subsystem","StorageSystem"];qd.prototype={__class__:qd};var bd=function(){this.clear()};f["flambe.platform.DummyStorage"]=bd;bd.__name__=["flambe","platform","DummyStorage"];bd.__interfaces__=[qd];bd.prototype={set:function(a,b){var c=this._hash;null!=v[a]?c.setReserved(a,b):c.h[a]=b;return!0},get:function(a,b){var c=this._hash;return(null!=v[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?
(c=this._hash,null!=v[a]?c.getReserved(a):c.h[a]):b},remove:function(a){this._hash.remove(a)},clear:function(){this._hash=new Q},__class__:bd};var $c=function(){this.down=new M;this.move=new M;this.up=new M};f["flambe.platform.DummyTouch"]=$c;$c.__name__=["flambe","platform","DummyTouch"];$c.__interfaces__=[od];$c.prototype={get_supported:function(){return!1},__class__:$c};var oc=function(){this._entries=[]};f["flambe.platform.EventGroup"]=oc;oc.__name__=["flambe","platform","EventGroup"];oc.__interfaces__=
[Za];oc.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new Wd(a,b,c))},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:oc};var Wd=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};f["flambe.platform._EventGroup.Entry"]=Wd;Wd.__name__=["flambe",
"platform","_EventGroup","Entry"];Wd.prototype={__class__:Wd};var pc=function(){};f["flambe.platform.InternalGraphics"]=pc;pc.__name__=["flambe","platform","InternalGraphics"];pc.__interfaces__=[Nd];pc.prototype={__class__:pc};var Xd=function(){};f["flambe.subsystem.RendererSystem"]=Xd;Xd.__name__=["flambe","subsystem","RendererSystem"];Xd.prototype={__class__:Xd};var qc=function(){};f["flambe.platform.InternalRenderer"]=qc;qc.__name__=["flambe","platform","InternalRenderer"];qc.__interfaces__=[Xd];
qc.prototype={__class__:qc};var nc=function(){};f["flambe.platform.KeyCodes"]=nc;nc.__name__=["flambe","platform","KeyCodes"];nc.toKey=function(a){switch(a){case 8:return e.Backspace;case 9:return e.Tab;case 13:return e.Enter;case 15:return e.Command;case 16:return e.Shift;case 17:return e.Control;case 18:return e.Alt;case 20:return e.CapsLock;case 27:return e.Escape;case 32:return e.Space;case 33:return e.PageUp;case 34:return e.PageDown;case 35:return e.End;case 36:return e.Home;case 37:return e.Left;
case 38:return e.Up;case 39:return e.Right;case 40:return e.Down;case 45:return e.Insert;case 46:return e.Delete;case 48:return e.Number0;case 49:return e.Number1;case 50:return e.Number2;case 51:return e.Number3;case 52:return e.Number4;case 53:return e.Number5;case 54:return e.Number6;case 55:return e.Number7;case 56:return e.Number8;case 57:return e.Number9;case 65:return e.A;case 66:return e.B;case 67:return e.C;case 68:return e.D;case 69:return e.E;case 70:return e.F;case 71:return e.G;case 72:return e.H;
case 73:return e.I;case 74:return e.J;case 75:return e.K;case 76:return e.L;case 77:return e.M;case 78:return e.N;case 79:return e.O;case 80:return e.P;case 81:return e.Q;case 82:return e.R;case 83:return e.S;case 84:return e.T;case 85:return e.U;case 86:return e.V;case 87:return e.W;case 88:return e.X;case 89:return e.Y;case 90:return e.Z;case 96:return e.Numpad0;case 97:return e.Numpad1;case 98:return e.Numpad2;case 99:return e.Numpad3;case 100:return e.Numpad4;case 101:return e.Numpad5;case 102:return e.Numpad6;
case 103:return e.Numpad7;case 104:return e.Numpad8;case 105:return e.Numpad9;case 106:return e.NumpadMultiply;case 107:return e.NumpadAdd;case 108:return e.NumpadEnter;case 109:return e.NumpadSubtract;case 110:return e.NumpadDecimal;case 111:return e.NumpadDivide;case 112:return e.F1;case 113:return e.F2;case 114:return e.F3;case 115:return e.F4;case 116:return e.F5;case 117:return e.F6;case 118:return e.F7;case 119:return e.F8;case 120:return e.F9;case 121:return e.F10;case 122:return e.F11;case 123:return e.F12;
case 186:return e.Semicolon;case 187:return e.Equals;case 188:return e.Comma;case 189:return e.Minus;case 190:return e.Period;case 191:return e.Slash;case 192:return e.Backquote;case 219:return e.LeftBracket;case 220:return e.Backslash;case 221:return e.RightBracket;case 222:return e.Quote;case 16777234:return e.Menu;case 16777247:return e.Search}return e.Unknown(a)};nc.toKeyCode=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;
case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;
case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;
case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;
case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return a[2]}};var Xb=function(){this._tickables=[]};f["flambe.platform.MainLoop"]=Xb;Xb.__name__=["flambe","platform","MainLoop"];Xb.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_21;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=
c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,Xb.updateEntity(c,b),c=d};Xb.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}l.volume.update(a);Xb.updateEntity(l.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),i.render(l.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:Xb};
var Yd=function(){};f["flambe.platform.MathUtil"]=Yd;Yd.__name__=["flambe","platform","MathUtil"];Yd.nextPowerOfTwo=function(a){for(var b=1;b<a;)b<<=1;return b};var Ud=function(){};f["flambe.platform.MouseCodes"]=Ud;Ud.__name__=["flambe","platform","MouseCodes"];Ud.toButton=function(a){switch(a){case 0:return ua.Left;case 1:return ua.Middle;case 2:return ua.Right}return ua.Unknown(a)};var rd=function(){};f["flambe.platform.TextureRoot"]=rd;rd.__name__=["flambe","platform","TextureRoot"];rd.prototype=
{__class__:rd};var sd=function(){};f["flambe.platform.Tickable"]=sd;sd.__name__=["flambe","platform","Tickable"];sd.prototype={__class__:sd};var td=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};f["flambe.platform.html.CanvasGraphics"]=td;td.__name__=["flambe","platform","html","CanvasGraphics"];td.__interfaces__=[pc];td.prototype={save:function(){this._canvasCtx.save()},translate:function(a,b){this._canvasCtx.translate(a|0,b|0)},scale:function(a,b){this._canvasCtx.scale(a,
b)},rotate:function(a){this._canvasCtx.rotate(3.141592653589793*a/180)},transform:function(a,b,c,d,g,e){this._canvasCtx.transform(a,b,c,d,g,e)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,g,e,f){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,g,e,f),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,
a.rootX+d|0,a.rootY+g|0,e|0,f|0,b|0,c|0,e|0,f|0)},drawPattern:function(a,b,c,d,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawPattern(a,b,c,d,g),this._canvasCtx.globalCompositeOperation="source-over"):(this._canvasCtx.fillStyle=a.getPattern(),this._canvasCtx.fillRect(b|0,c|0,d|0,g|0))},fillRect:function(a,b,c,d,g){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,g),this._canvasCtx.globalCompositeOperation=
"source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+z.string(a);this._canvasCtx.fillStyle="#"+z.string(a);this._canvasCtx.fillRect(b|0,c|0,d|0,g|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();
this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},onResize:function(){},__class__:td};var Yb=function(a){this.graphics=new td(a,!1);this._hasGPU=new ha(!0)};f["flambe.platform.html.CanvasRenderer"]=Yb;Yb.__name__=["flambe","platform","html","CanvasRenderer"];Yb.__interfaces__=[qc];Yb.prototype={get_type:function(){return Ma.Canvas},createTextureFromImage:function(a){a=new rc(Yb.CANVAS_TEXTURES?D.createCanvas(a):a);return a.createTexture(a.width,
a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Yb};var ud=function(a,b,c){this._rootUpdateCount=0;this._pattern=null;fb.call(this,a,b,c)};f["flambe.platform.html.CanvasTexture"]=ud;ud.__name__=["flambe","platform","html","CanvasTexture"];ud.__super__=fb;ud.prototype=r(fb.prototype,{getPattern:function(){if(this._rootUpdateCount!=this.root.updateCount||
null==this._pattern)this._rootUpdateCount=this.root.updateCount,this._pattern=this.root.createPattern(this.rootX,this.rootY,this._width,this._height);return this._pattern},__class__:ud});var rc=function(a){this._graphics=null;this.updateCount=0;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};f["flambe.platform.html.CanvasTextureRoot"]=rc;rc.__name__=["flambe","platform","html","CanvasTextureRoot"];rc.__interfaces__=[rd];rc.__super__=qa;rc.prototype=r(qa.prototype,{createTexture:function(a,
b){return new ud(this,a,b)},createPattern:function(a,b,c,d){var g=this.getContext2d(),e=this.image;if(0!=a||0!=b||c!=this.width||d!=this.height)e=D.createEmptyCanvas(c,d),c=e.getContext("2d",null),c.globalCompositeOperation="copy",c.drawImage(this.image,-a,-b);return g.createPattern(e,"repeat")},getContext2d:function(){A.__instanceof(this.image,HTMLCanvasElement)||(this.image=D.createCanvas(this.image));return this.image.getContext("2d",null)},onDisposed:function(){this._graphics=this.image=null},
__class__:rc});var R=function(a,b){Pb.call(this,a,b)};f["flambe.platform.html.HtmlAssetPackLoader"]=R;R.__name__=["flambe","platform","html","HtmlAssetPackLoader"];R.detectImageFormats=function(a){var b=[u.PNG,u.JPG,u.GIF],c=2,d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(u.WEBP);c-=1;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var g=window.document.createElement("img");g.onload=g.onerror=function(){1==g.width&&
b.unshift(u.JXR);c-=1;0==c&&a(b)};g.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};R.detectAudioFormats=function(){var a=window.document.createElement("audio");if(null==a||null==p(a,a.canPlayType))return[];var b=new hb("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!S.get_supported()&&b.match(c))return[];for(var b=
[{format:u.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:u.MP3,mimeType:"audio/mpeg"},{format:u.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:u.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:u.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var g=b[d];++d;var e="";try{e=a.canPlayType(g.mimeType)}catch(f){}""!=e&&c.push(g.format)}return c};R.supportsBlob=function(){if(R._detectBlobSupport){R._detectBlobSupport=!1;if((new hb("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;
var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;R._URL=D.loadExtension("URL").value}return null!=R._URL?null!=R._URL.createObjectURL:!1};R.__super__=Pb;R.prototype=r(Pb.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d=window.document.createElement("img"),g=new oc;g.addDisposingListener(d,"load",function(){R.supportsBlob()&&R._URL.revokeObjectURL(d.src);var a=
c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});g.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});R.supportsBlob()?this.download(a,b,"blob",function(a){d.src=R._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(S.get_supported())this.download(a,
b,"arraybuffer",function(a){S.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new S(a))},function(){var a=La.getInstance();c.handleLoad(b,a)})});else{var e=window.document.createElement("audio");e.preload="auto";var f=++R._mediaRefCount;null==R._mediaElements&&(R._mediaElements=new Ka);R._mediaElements.set(f,e);g=new oc;g.addDisposingListener(e,"canplaythrough",function(){R._mediaElements.remove(f);c.handleLoad(b,new sc(e))});g.addDisposingListener(e,"error",function(){R._mediaElements.remove(f);
var a=e.error.code;3==a||4==a?(a=La.getInstance(),c.handleLoad(b,a)):c.handleError(b,"Failed to load audio: "+e.error.code)});g.addListener(e,"progress",function(){if(0<e.buffered.length&&0<e.duration){var a=e.buffered.end(0)/e.duration;c.handleProgress(b,a*b.bytes|0)}});e.src=a;e.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new mc(a))})}},getAssetFormats:function(a){var b=this;null==R._supportedFormats&&(R._supportedFormats=new md,R.detectImageFormats(function(a){R._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(R.detectAudioFormats()).concat([u.Data]))}));
R._supportedFormats.get(a)},download:function(a,b,c,d){var g=this,e=null,f=null,h=0,i=!1,j=function(){i&&(i=!1,window.clearInterval(h))},l=3,m=function(){l-=1;return 0<=l?(f(),!0):!1},f=function(){j();null!=e&&e.abort();e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType=c;var f=0;e.onprogress=function(a){i||(i=!0,h=window.setInterval(function(){4!=e.readyState&&5E3<Date.now()-f&&!m()&&(j(),g.handleError(b,"Download stalled"))},1E3));f=Date.now();g.handleProgress(b,a.loaded)};e.onerror=function(){if(0!=
e.status||!m())j(),g.handleError(b,"HTTP error "+e.status)};e.onload=function(){var a=e.response;null==a&&(a=e.responseText);j();d(a)};e.send()};f()},__class__:R});var Zd=function(){};f["flambe.subsystem.ExternalSystem"]=Zd;Zd.__name__=["flambe","subsystem","ExternalSystem"];Zd.prototype={__class__:Zd};var cd=function(){};f["flambe.platform.html.HtmlExternal"]=cd;cd.__name__=["flambe","platform","html","HtmlExternal"];cd.__interfaces__=[Zd];cd.prototype={call:function(a,b){null==b&&(b=[]);for(var c=
window,d=c,g=0,e=a.split(".");g<e.length;){var f=e[g];++g;c=d;d=ga.field(c,f)}return d.apply(c,b)},__class__:cd};var Yc=function(a,b){za.call(this,a);this._canvas=b};f["flambe.platform.html.HtmlMouse"]=Yc;Yc.__name__=["flambe","platform","html","HtmlMouse"];Yc.__super__=za;Yc.prototype=r(za.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this._canvas.style.cursor=b;return za.prototype.set_cursor.call(this,a)},__class__:Yc});var sc=function(a){this._disposed=
!1;this.audioElement=a};f["flambe.platform.html.HtmlSound"]=sc;sc.__name__=["flambe","platform","html","HtmlSound"];sc.__interfaces__=[bc];sc.__super__=qa;sc.prototype=r(qa.prototype,{play:function(a){null==a&&(a=1);return new tc(this,a,!1)},loop:function(a){null==a&&(a=1);return new tc(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:sc});var tc=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=
c;this._clonedElement.src=a.audioElement.src;this.volume=new x(b,function(){d.updateVolume()});this.updateVolume();this._complete=new ha(!1);this.playAudio();l.hidden._value&&this.set_paused(!0)};f["flambe.platform.html._HtmlSound.HtmlPlayback"]=tc;tc.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];tc.__interfaces__=[sd,cc];tc.prototype={set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},update:function(a){this.volume.update(a);
this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(Ab.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=l.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=
l.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=l.volume._value*this.volume._value},__class__:tc};var $d=function(){};f["flambe.subsystem.StageSystem"]=$d;$d.__name__=["flambe","subsystem","StageSystem"];$d.prototype={__class__:$d};var Wb=function(a){var b=this;this._canvas=a;this.resize=new ia;this.scaleFactor=Wb.computeScaleFactor();1!=this.scaleFactor&&(D.setVendorStyle(this._canvas,
"transform-origin","top left"),D.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));D.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){D.callLater(p(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",p(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new ha(null);null!=window.orientation&&(window.addEventListener("orientationchange",p(this,this.onOrientationChange),!1),this.onOrientationChange(null));
this.fullscreen=new ha(!1);D.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};f["flambe.platform.html.HtmlStage"]=Wb;Wb.__name__=["flambe","platform","html","HtmlStage"];Wb.__interfaces__=[$d];Wb.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),b=D.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<
a*window.screen.width||1136<a*b?1:a};Wb.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=
this,b=window.document.documentElement.style;b.height=z.string(window.innerHeight+100)+"px";b.width=z.string(window.innerWidth)+"px";b.overflow="visible";D.callLater(function(){D.hideMobileBrowser();D.callLater(function(){b.height=z.string(window.innerHeight)+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(D.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==D.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],
window.document).value)},__class__:Wb};var ad=function(a){this._storage=a};f["flambe.platform.html.HtmlStorage"]=ad;ad.__name__=["flambe","platform","html","HtmlStorage"];ad.__interfaces__=[qd];ad.prototype={set:function(a,b){var c;try{var d=new Ea;d.useCache=!0;d.useEnumIndex=!1;d.serialize(b);c=d.toString()}catch(g){return!1}try{this._storage.setItem("flambe:"+a,c)}catch(e){return e instanceof n&&(e=e.val),!1}return!0},get:function(a,b){var c=null;try{c=this._storage.getItem("flambe:"+a)}catch(d){d instanceof
n&&(d=d.val)}if(null!=c)try{return xa.run(c)}catch(g){}return b},remove:function(a){try{this._storage.removeItem("flambe:"+a)}catch(b){b instanceof n&&(b=b.val)}},__class__:ad};var D=function(){};f["flambe.platform.html.HtmlUtil"]=D;D.__name__=["flambe","platform","html","HtmlUtil"];D.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};D.hideMobileBrowser=function(){window.scrollTo(1,0)};D.loadExtension=function(a,b){null==b&&(b=window);var c=ga.field(b,a);if(null!=c)return{prefix:"",field:a,
value:c};for(var c=a.charAt(0).toUpperCase()+t.substr(a,1,null),d=0,g=D.VENDOR_PREFIXES;d<g.length;){var e=g[d];++d;var f=e+c,h=ga.field(b,f);if(null!=h)return{prefix:e,field:f,value:h}}return{prefix:null,field:null,value:null}};D.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=D.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};D.polyfill=function(a,b){null==b&&(b=window);var c=D.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;
return!0};D.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,g=D.VENDOR_PREFIXES;d<g.length;){var e=g[d];++d;a.setProperty("-"+e+"-"+b,c)}a.setProperty(b,c)};D.addVendorListener=function(a,b,c,d){for(var g=0,e=D.VENDOR_PREFIXES;g<e.length;){var f=e[g];++g;a.addEventListener(f+b,c,d)}a.addEventListener(b,c,d)};D.orientation=function(a){switch(a){case -90:case 90:return Bb.Landscape;default:return Bb.Portrait}};D.createEmptyCanvas=function(a,b){var c=window.document.createElement("canvas");c.width=
a;c.height=b;return c};D.createCanvas=function(a){var b=D.createEmptyCanvas(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};D.detectSlowDriver=function(a){if(0<=window.navigator.platform.indexOf("Win")&&null!=window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var c=a[b];++b;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};D.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=
Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var S=function(a){this._disposed=!1;this.buffer=a};f["flambe.platform.html.WebAudioSound"]=S;S.__name__=["flambe","platform","html","WebAudioSound"];S.__interfaces__=[bc];S.get_supported=function(){if(S._detectSupport){S._detectSupport=!1;var a=D.loadExtension("AudioContext").value;null!=a&&(S.ctx=new a,S.gain=S.createGain(),S.gain.connect(S.ctx.destination),l.volume.watch(function(a){S.gain.gain.value=
a}))}return null!=S.ctx};S.createGain=function(){return null!=S.ctx.createGain?S.ctx.createGain():S.ctx.createGainNode()};S.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};S.__super__=qa;S.prototype=r(qa.prototype,{play:function(a){null==a&&(a=1);return new uc(this,a,!1)},loop:function(a){null==a&&(a=1);return new uc(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:S});var uc=function(a,b,c){var d=this;this._sound=a;this._head=
S.gain;this._complete=new ha(!1);this._sourceNode=S.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete.set__(!0)};S.start(this._sourceNode,0);this.playAudio();this.volume=new x(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b);l.hidden._value&&this.set_paused(!0)};f["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=uc;uc.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];uc.__interfaces__=
[sd,cc];uc.prototype={set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(S.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=
!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=S.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=S.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||
(Ab.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=l.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:uc};var ae=function(a){this._quads=this._maxQuads=this._dataOffset=this._backbufferWidth=this._backbufferHeight=0;this._pendingSetScissor=!1;this._lastBlendMode=this._lastRenderTarget=this._lastShader=this._lastTexture=this._lastScissor=this._currentBlendMode=this._currentShader=this._currentTexture=
this._currentRenderTarget=null;this._gl=a;a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);this._vertexBuffer=a.createBuffer();a.bindBuffer(34962,this._vertexBuffer);this._quadIndexBuffer=a.createBuffer();a.bindBuffer(34963,this._quadIndexBuffer);this._drawTextureShader=new vd(a);this._drawPatternShader=new wd(a);this._fillRectShader=new xd(a);this.resize(16)};f["flambe.platform.html.WebGLBatcher"]=ae;ae.__name__=["flambe","platform","html","WebGLBatcher"];ae.prototype={resizeBackbuffer:function(a,
b){this._gl.viewport(0,0,a,b);this._backbufferWidth=a;this._backbufferHeight=b},willRender:function(){},didRender:function(){this.flush()},bindTexture:function(a){this.flush();this._currentTexture=this._lastTexture=null;this._gl.bindTexture(3553,a)},deleteTexture:function(a){null!=this._lastTexture&&this._lastTexture.root==a&&(this.flush(),this._currentTexture=this._lastTexture=null);this._gl.deleteTexture(a.nativeTexture)},deleteFramebuffer:function(a){a==this._lastRenderTarget&&(this.flush(),this._currentRenderTarget=
this._lastRenderTarget=null);this._gl.deleteFramebuffer(a.framebuffer)},prepareDrawTexture:function(a,b,c,d){d!=this._lastTexture&&(this.flush(),this._lastTexture=d);return this.prepareQuad(5,a,b,c,this._drawTextureShader)},prepareDrawPattern:function(a,b,c,d){d!=this._lastTexture&&(this.flush(),this._lastTexture=d);return this.prepareQuad(5,a,b,c,this._drawPatternShader)},prepareFillRect:function(a,b,c){return this.prepareQuad(6,a,b,c,this._fillRectShader)},prepareQuad:function(a,b,c,d,g){b!=this._lastRenderTarget&&
(this.flush(),this._lastRenderTarget=b);c!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=c);g!=this._lastShader&&(this.flush(),this._lastShader=g);if(null!=d||null!=this._lastScissor)if(null==d||null==this._lastScissor||!this._lastScissor.equals(d))this.flush(),this._lastScissor=null!=d?d.clone(this._lastScissor):null,this._pendingSetScissor=!0;this._quads>=this._maxQuads&&this.resize(2*this._maxQuads);++this._quads;b=this._dataOffset;this._dataOffset+=4*a;return b},flush:function(){if(!(1>
this._quads)){this._lastRenderTarget!=this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget);if(this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode[1]){case 0:this._gl.blendFunc(1,771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(774,771);break;case 3:this._gl.blendFunc(1,769);break;case 4:this._gl.blendFunc(0,770);break;case 5:this._gl.blendFunc(1,0)}this._currentBlendMode=this._lastBlendMode}this._pendingSetScissor&&(null!=this._lastScissor?
(this._gl.enable(3089),this._gl.scissor(this._lastScissor.x|0,this._lastScissor.y|0,this._lastScissor.width|0,this._lastScissor.height|0)):this._gl.disable(3089),this._pendingSetScissor=!1);this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture);this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader);if(this._lastShader==this._drawPatternShader){var a=
this._lastTexture,b=a.root;this._drawPatternShader.setRegion(a.rootX/b.width,a.rootY/b.height,a._width/b.width,a._height/b.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040);this._gl.drawElements(4,6*this._quads,5123,0);this._dataOffset=this._quads=0}},resize:function(a){this.flush();if(!(1024<a)){this._maxQuads=a;this.data=new te(24*a);this._gl.bufferData(34962,4*this.data.length,35040);for(var b=new Uint16Array(6*a),c=0;c<a;){var d=c++;b[6*d]=4*d;b[6*d+1]=4*d+1;b[6*
d+2]=4*d+2;b[6*d+3]=4*d+2;b[6*d+4]=4*d+3;b[6*d+5]=4*d}this._gl.bufferData(34963,b,35044)}},bindRenderTarget:function(a){null!=a?(this._gl.bindFramebuffer(36160,a.framebuffer),this._gl.viewport(0,0,a.width,a.height)):(this._gl.bindFramebuffer(36160,null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight));this._lastRenderTarget=this._currentRenderTarget=a},__class__:ae};var Wa=function(a,b){this._inverseProjection=this._stateList=null;null==Wa._scratchQuadArray&&(Wa._scratchQuadArray=
new te(8));this._batcher=a;this._renderTarget=b};f["flambe.platform.html.WebGLGraphics"]=Wa;Wa.__name__=["flambe","platform","html","WebGLGraphics"];Wa.__interfaces__=[pc];Wa.prototype={save:function(){var a=this._stateList,b=this._stateList.next;null==b&&(b=new yd,b.prev=a,a.next=b);a.matrix.clone(b.matrix);b.alpha=a.alpha;b.blendMode=a.blendMode;b.scissor=null!=a.scissor?a.scissor.clone(b.scissor):null;this._stateList=b},translate:function(a,b){var c=this._stateList.matrix;c.m02+=c.m00*a+c.m01*
b;c.m12+=c.m10*a+c.m11*b},scale:function(a,b){var c=this._stateList.matrix;c.m00*=a;c.m10*=a;c.m01*=b;c.m11*=b},rotate:function(a){var b=this._stateList.matrix,a=3.141592653589793*a/180,c=Math.sin(a),a=Math.cos(a),d=b.m00,g=b.m10,e=b.m01,f=b.m11;b.m00=d*a+e*c;b.m10=g*a+f*c;b.m01=e*a-d*c;b.m11=f*a-g*c},transform:function(a,b,c,d,g,e){var f=this._stateList;Wa._scratchMatrix.set(a,b,c,d,g,e);Pa.multiply(f.matrix,Wa._scratchMatrix,f.matrix)},restore:function(){this._stateList=this._stateList.prev},drawTexture:function(a,
b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,g,e,f){var h=this._stateList,i=a.root,b=this.transformQuad(b,c,e,f),c=i.width,i=i.height,d=(a.rootX+d)/c,g=(a.rootY+g)/i,e=d+e/c,f=g+f/i,c=h.alpha,a=this._batcher.prepareDrawTexture(this._renderTarget,h.blendMode,h.scissor,a),h=this._batcher.data;h[a]=b[0];h[++a]=b[1];h[++a]=d;h[++a]=g;h[++a]=c;h[++a]=b[2];h[++a]=b[3];h[++a]=e;h[++a]=g;h[++a]=c;h[++a]=b[4];h[++a]=b[5];h[++a]=e;h[++a]=f;h[++a]=c;h[++a]=
b[6];h[++a]=b[7];h[++a]=d;h[++a]=f;h[++a]=c},drawPattern:function(a,b,c,d,g){var e=this._stateList,f=a.root,b=this.transformQuad(b,c,d,g),d=d/f.width,g=g/f.height,f=e.alpha,a=this._batcher.prepareDrawPattern(this._renderTarget,e.blendMode,e.scissor,a),e=this._batcher.data;e[a]=b[0];e[++a]=b[1];e[++a]=0;e[++a]=0;e[++a]=f;e[++a]=b[2];e[++a]=b[3];e[++a]=d;e[++a]=0;e[++a]=f;e[++a]=b[4];e[++a]=b[5];e[++a]=d;e[++a]=g;e[++a]=f;e[++a]=b[6];e[++a]=b[7];e[++a]=0;e[++a]=g;e[++a]=f},fillRect:function(a,b,c,d,
e){var f=this._stateList,b=this.transformQuad(b,c,d,e),c=(a&16711680)/16711680,d=(a&65280)/65280,a=(a&255)/255,e=f.alpha,f=this._batcher.prepareFillRect(this._renderTarget,f.blendMode,f.scissor),h=this._batcher.data;h[f]=b[0];h[++f]=b[1];h[++f]=c;h[++f]=d;h[++f]=a;h[++f]=e;h[++f]=b[2];h[++f]=b[3];h[++f]=c;h[++f]=d;h[++f]=a;h[++f]=e;h[++f]=b[4];h[++f]=b[5];h[++f]=c;h[++f]=d;h[++f]=a;h[++f]=e;h[++f]=b[6];h[++f]=b[7];h[++f]=c;h[++f]=d;h[++f]=a;h[++f]=e},multiplyAlpha:function(a){this._stateList.alpha*=
a},setBlendMode:function(a){this._stateList.blendMode=a},applyScissor:function(a,b,c,d){var e=this._stateList,f=Wa._scratchQuadArray;f[0]=a;f[1]=b;f[2]=a+c;f[3]=b+d;e.matrix.transformArray(f,4,f);this._inverseProjection.transformArray(f,4,f);a=f[0];b=f[1];c=f[2]-a;d=f[3]-b;0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);e.applyScissor(a,b,c,d)},willRender:function(){this._batcher.willRender()},didRender:function(){this._batcher.didRender()},onResize:function(a,b){this._stateList=new yd;var c=null!=this._renderTarget?
-1:1;this._stateList.matrix.set(2/a,0,0,-2*c/b,-1,c);this._inverseProjection=new Pa;this._inverseProjection.set(2/a,0,0,2/b,-1,-1);this._inverseProjection.invert()},transformQuad:function(a,b,c,d){var c=a+c,d=b+d,e=Wa._scratchQuadArray;e[0]=a;e[1]=b;e[2]=c;e[3]=b;e[4]=c;e[5]=d;e[6]=a;e[7]=d;this._stateList.matrix.transformArray(e,8,e);return e},__class__:Wa};var yd=function(){this.scissor=this.prev=this.next=null;this.matrix=new Pa;this.alpha=1;this.blendMode=$.Normal};f["flambe.platform.html._WebGLGraphics.DrawingState"]=
yd;yd.__name__=["flambe","platform","html","_WebGLGraphics","DrawingState"];yd.prototype={applyScissor:function(a,b,c,d){if(null!=this.scissor)var e=this.scissor.x,e=e>a?e:a,f=this.scissor.y,f=f>b?f:b,h=this.scissor.x+this.scissor.width,c=a+c,i=this.scissor.y+this.scissor.height,d=b+d,a=e,b=f,c=(h<c?h:c)-e,d=(i<d?i:d)-f;else this.scissor=new $a;this.scissor.set(Math.round(a),Math.round(b),Math.round(c),Math.round(d))},__class__:yd};var dd=function(a,b){var c=this;this._hasGPU=new ha(!0);this.gl=b;
b.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();c._hasGPU.set__(!1)},!1);b.canvas.addEventListener("webglcontextrestore",function(){c.init();c._hasGPU.set__(!0)},!1);a.resize.connect(p(this,this.onResize));this.init()};f["flambe.platform.html.WebGLRenderer"]=dd;dd.__name__=["flambe","platform","html","WebGLRenderer"];dd.__interfaces__=[qc];dd.prototype={get_type:function(){return Ma.WebGL},createTextureFromImage:function(a){if(this.gl.isContextLost())return null;var b=
new Qb(this,a.width,a.height);b.uploadImageData(a);return b.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){this.gl.isContextLost();return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},onResize:function(){var a=this.gl.canvas.width,b=this.gl.canvas.height;this.batcher.resizeBackbuffer(a,b);this.graphics.onResize(a,b)},init:function(){this.batcher=new ae(this.gl);this.graphics=
new Wa(this.batcher,null);this.onResize()},__class__:dd};var zd=function(a,b,c){fb.call(this,a,b,c)};f["flambe.platform.html.WebGLTexture"]=zd;zd.__name__=["flambe","platform","html","WebGLTexture"];zd.__super__=fb;zd.prototype=r(fb.prototype,{__class__:zd});var Qb=function(a,b,c){this.framebuffer=this._graphics=null;this._disposed=!1;this._renderer=a;b=Yd.nextPowerOfTwo(b);this.width=2>b?2:b;c=Yd.nextPowerOfTwo(c);this.height=2>c?2:c;c=a.gl;this.nativeTexture=c.createTexture();a.batcher.bindTexture(this.nativeTexture);
c.texParameteri(3553,10242,33071);c.texParameteri(3553,10243,33071);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729)};f["flambe.platform.html.WebGLTextureRoot"]=Qb;Qb.__name__=["flambe","platform","html","WebGLTextureRoot"];Qb.__interfaces__=[rd];Qb.drawBorder=function(a,b,c){var d=a.getContext("2d",null);d.drawImage(a,b-1,0,1,c,b,0,1,c);d.drawImage(a,0,c-1,b,1,0,c,b,1)};Qb.__super__=qa;Qb.prototype=r(qa.prototype,{createTexture:function(a,b){return new zd(this,a,b)},uploadImageData:function(a){if(this.width!=
a.width||this.height!=a.height){var b=D.createEmptyCanvas(this.width,this.height);b.getContext("2d",null).drawImage(a,0,0);Qb.drawBorder(b,a.width,a.height);a=b}this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,6408,5121,a)},onDisposed:function(){var a=this._renderer.batcher;a.deleteTexture(this);null!=this.framebuffer&&a.deleteFramebuffer(this);this._graphics=this.framebuffer=this.nativeTexture=null},__class__:Qb});var Aa=function(a,b,c){c="#ifdef GL_ES\nprecision mediump float;\n#endif\n"+
c;this._gl=a;this._program=a.createProgram();a.attachShader(this._program,Aa.createShader(a,35633,b));a.attachShader(this._program,Aa.createShader(a,35632,c));a.linkProgram(this._program);a.useProgram(this._program)};f["flambe.platform.shader.ShaderGL"]=Aa;Aa.__name__=["flambe","platform","shader","ShaderGL"];Aa.createShader=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};Aa.prototype={useProgram:function(){this._gl.useProgram(this._program)},prepare:function(){},
getAttribLocation:function(a){return this._gl.getAttribLocation(this._program,a)},getUniformLocation:function(a){return this._gl.getUniformLocation(this._program,a)},__class__:Aa};var wd=function(a){Aa.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}","varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.u_region=this.getUniformLocation("u_region");this.setTexture(0)};f["flambe.platform.shader.DrawPatternGL"]=wd;wd.__name__=["flambe","platform","shader","DrawPatternGL"];wd.__super__=Aa;wd.prototype=r(Aa.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},setRegion:function(a,b,c,d){this._gl.uniform4f(this.u_region,
a,b,c,d)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},__class__:wd});var vd=function(a){Aa.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, v_uv) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.setTexture(0)};f["flambe.platform.shader.DrawTextureGL"]=vd;vd.__name__=["flambe","platform","shader","DrawTextureGL"];vd.__super__=Aa;vd.prototype=
r(Aa.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},__class__:vd});var xd=function(a){Aa.call(this,a,"attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_rgb=this.getAttribLocation("a_rgb");this.a_alpha=this.getAttribLocation("a_alpha")};f["flambe.platform.shader.FillRectGL"]=xd;xd.__name__=["flambe","platform","shader","FillRectGL"];xd.__super__=Aa;xd.prototype=r(Aa.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_rgb);this._gl.enableVertexAttribArray(this.a_alpha);
this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,24,0);this._gl.vertexAttribPointer(this.a_rgb,3,5126,!1,24,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,24,20)},__class__:xd});var Ad=function(){this._transitor=null;s.call(this);this.scenes=[];this.occludedScenes=[];this._root=new h};f["flambe.scene.Director"]=Ad;Ad.__name__=["flambe","scene","Director"];Ad.__super__=s;Ad.prototype=r(s.prototype,{get_name:function(){return"Director_22"},pushScene:function(a,b){var c=this;this.completeTransition();
var d=this.get_topScene();null!=d?this.playTransition(d,a,b,function(){c.hide(d)}):(this.add(a),this.invalidateVisibility())},unwindToScene:function(a,b){var c=this;this.completeTransition();var d=this.get_topScene();if(null!=d){if(d!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.playTransition(d,a,b,function(){c.hideAndDispose(d)})}}else this.pushScene(a,b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();
for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=this.get_topScene();null!=b&&this._root.removeChild(b);t.remove(this.scenes,a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_0;null!=a&&a.hidden.emit()},
hideAndDispose:function(a){this.hide(a);a.dispose()},show:function(a){a=a._compMap.Scene_0;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_0;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},
playTransition:function(a,b,c,d){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new be(a,b,c,d),this._transitor.init(this)):(d(),this.invalidateVisibility())},__class__:Ad});var be=function(a,b,c,d){this._from=a;this._to=b;this._transition=c;this._onComplete=d};f["flambe.scene._Director.Transitor"]=be;be.__name__=["flambe","scene","_Director","Transitor"];be.prototype={init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},
complete:function(){this._transition.complete();this._onComplete()},__class__:be};var vc=function(){};f["flambe.scene.Transition"]=vc;vc.__name__=["flambe","scene","Transition"];vc.prototype={init:function(a,b,c){this._director=a;this._from=b;this._to=c},update:function(){return!0},complete:function(){},__class__:vc};var qb=function(){};f["flambe.script.Action"]=qb;qb.__name__=["flambe","script","Action"];qb.prototype={__class__:qb};var ob=function(a,b,c,d){this._value=a;this._to=b;this._seconds=
c;this._easing=d};f["flambe.script.AnimateTo"]=ob;ob.__name__=["flambe","script","AnimateTo"];ob.__interfaces__=[qb];ob.prototype={update:function(a){null==this._tween&&(this._tween=new Mb(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:ob};var ya=function(a){this._fn=a};f["flambe.script.CallFunction"]=
ya;ya.__name__=["flambe","script","CallFunction"];ya.__interfaces__=[qb];ya.prototype={update:function(){this._fn();return 0},__class__:ya};var Ua=function(a){this._duration=a;this._elapsed=0};f["flambe.script.Delay"]=Ua;Ua.__name__=["flambe","script","Delay"];Ua.__interfaces__=[qb];Ua.prototype={update:function(a){this._elapsed+=a;if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:Ua};var Ta=function(a,b,c,d,e){this._x=a;this._y=b;
this._seconds=c;this._easingX=d;this._easingY=e};f["flambe.script.MoveTo"]=Ta;Ta.__name__=["flambe","script","MoveTo"];Ta.__interfaces__=[qb];Ta.prototype={update:function(a,b){var c=b._compMap.Sprite_1;null==this._tweenX&&(this._tweenX=new Mb(c.x._value,this._x,this._seconds,this._easingX),c.x.set_behavior(this._tweenX),c.x.update(a),this._tweenY=new Mb(c.y._value,this._y,this._seconds,null!=this._easingY?this._easingY:this._easingX),c.y.set_behavior(this._tweenY),c.y.update(a));if(c.x._behavior!=
this._tweenX&&c.y._behavior!=this._tweenY){var c=this._tweenX.elapsed,d=this._tweenY.elapsed,c=(c>d?c:d)-this._seconds;this._tweenY=this._tweenX=null;return 0<c?Math.max(0,a-c):0}return-1},__class__:Ta};var Rc=function(a){this._completedActions=[];this._runningActions=null!=a?a.slice():[]};f["flambe.script.Parallel"]=Rc;Rc.__name__=["flambe","script","Parallel"];Rc.__interfaces__=[qb];Rc.prototype={update:function(a,b){for(var c=!0,d=0,e=0,f=this._runningActions.length;e<f;){var h=e++,i=this._runningActions[h];
if(null!=i){var j=i.update(a,b);0<=j?(this._runningActions[h]=null,this._completedActions.push(i),j>d&&(d=j)):c=!1}}return c?(this._runningActions=this._completedActions,this._completedActions=[],d):-1},__class__:Rc};var yb=function(a,b){null==b&&(b=-1);this._action=a;this._remaining=this._count=b};f["flambe.script.Repeat"]=yb;yb.__name__=["flambe","script","Repeat"];yb.__interfaces__=[qb];yb.prototype={update:function(a,b){if(0==this._count)return 0;var c=this._action.update(a,b);return 0<this._count&&
0<=c&&0==--this._remaining?(this._remaining=this._count,c):-1},__class__:yb};var sa=function(){s.call(this);this.stopAll()};f["flambe.script.Script"]=sa;sa.__name__=["flambe","script","Script"];sa.__super__=s;sa.prototype=r(s.prototype,{get_name:function(){return"Script_16"},run:function(a){a=new Bd(a);this._handles.push(a);return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,
1):++b}},__class__:sa});var Bd=function(a){this.removed=!1;this.action=a};f["flambe.script._Script.Handle"]=Bd;Bd.__name__=["flambe","script","_Script","Handle"];Bd.__interfaces__=[Za];Bd.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:Bd};var ka=function(a){this._idx=0;this._runningActions=null!=a?a.slice():[]};f["flambe.script.Sequence"]=ka;ka.__name__=["flambe","script","Sequence"];ka.__interfaces__=[qb];ka.prototype={add:function(a){this._runningActions.push(a);return this},
removeAll:function(){this._idx=0;this._runningActions=[]},update:function(a,b){for(var c=0;;){var d=this._runningActions[this._idx];if(null!=d)if(d=d.update(a-c,b),0<=d)c+=d;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>a)return-1}return c},__class__:ka};var Ma=f["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem","RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};Ma.Stage3D=["Stage3D",0];Ma.Stage3D.toString=j;Ma.Stage3D.__enum__=
Ma;Ma.WebGL=["WebGL",1];Ma.WebGL.toString=j;Ma.WebGL.__enum__=Ma;Ma.Canvas=["Canvas",2];Ma.Canvas.toString=j;Ma.Canvas.__enum__=Ma;var wc=function(){};f["flambe.swf.Symbol"]=wc;wc.__name__=["flambe","swf","Symbol"];wc.prototype={__class__:wc};var Cd=function(a,b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0};f["flambe.swf.BitmapSymbol"]=Cd;Cd.__name__=["flambe","swf","BitmapSymbol"];
Cd.__interfaces__=[wc];Cd.prototype={createSprite:function(){var a=new k(this.texture);a.setAnchor(this.anchorX,this.anchorY);return a},__class__:Cd};var qe=function(a,b){this.name=a;var c=1/b.length;this.frames=[];for(var d=0;d<b.length;){var e=b[d];++d;this.frames.push(new ce(e,c))}};f["flambe.swf.Flipbook"]=qe;qe.__name__=["flambe","swf","Flipbook"];qe.prototype={__class__:qe};var ce=function(a,b){this.label=null;this.anchorX=this.anchorY=0;this.texture=a;this.duration=b};f["flambe.swf.FlipbookFrame"]=
ce;ce.__name__=["flambe","swf","FlipbookFrame"];ce.prototype={toSymbol:function(){return new Dd(this)},__class__:ce};var Dd=function(a){this._texture=a.texture;this._anchorX=a.anchorX;this._anchorY=a.anchorY};f["flambe.swf._Flipbook.FrameSymbol"]=Dd;Dd.__name__=["flambe","swf","_Flipbook","FrameSymbol"];Dd.__interfaces__=[wc];Dd.prototype={createSprite:function(){var a=new k(this._texture);a.setAnchor(this._anchorX,this._anchorY);return a},__class__:Dd};var Ia=function(a,b){this._file=a.getFile(b+
"/library.json");var c=JSON.parse(this._file.toString());this._symbols=new Q;this.frameRate=c.frameRate;for(var d=[],e=0,f=c.movies;e<f.length;){var h=f[e];++e;h=new xc(this,h);d.push(h);var i=h._name,j=this._symbols;null!=v[i]?j.setReserved(i,h):j.h[i]=h}c=c.textureGroups[0].atlases;for(e=0;e<c.length;){i=c[e];++e;f=a.getTexture(b+"/"+na.removeFileExtension(i.file));h=0;for(i=i.textures;h<i.length;){j=i[h];++h;var j=new Cd(j,f),l=j._name,m=this._symbols;null!=v[l]?m.setReserved(l,j):m.h[l]=j}}for(c=
0;c<d.length;){f=d[c];++c;e=0;for(f=f.layers;e<f.length;){h=f[e];++e;h=h.keyframes;i=h.length;j=0;for(l=i;j<l;){var n=j++,m=h[n];if(null!=m.symbolName){var o=m.symbolName,k=this._symbols,o=null!=v[o]?k.getReserved(o):k.h[o];m.symbol=o}if(m.tweened&&1==m.duration&&n+1<i&&(n=h[n+1],!n.visible||null==n.symbolName))m.visible=!1}}}};f["flambe.swf.Library"]=Ia;Ia.__name__=["flambe","swf","Library"];Ia.fromFlipbooks=function(a){var b=P.createEmptyInstance(Ia);b._symbols=new Q;b.frameRate=60;b._file=null;
for(var c=0;c<a.length;){var d=a[c];++c;for(var e=[],f=0,h=d.frames;f<h.length;){var i=h[f];++f;e.push({duration:i.duration*b.frameRate,label:i.label,pivot:[i.anchorX,i.anchorY],ref:""})}e=new xc(b,{id:d.name,layers:[{name:"flipbook",flipbook:!0,keyframes:e}]});f=d.name;h=b._symbols;null!=v[f]?h.setReserved(f,e):h.h[f]=e;e=e.layers[0].keyframes;f=0;for(h=d.frames.length;f<h;){var i=f++,j=d.frames[i].toSymbol();e[i].symbol=j}}return b};Ia.prototype={createSprite:function(a,b){null==b&&(b=!0);var c=
this._symbols,c=null!=v[a]?c.getReserved(a):c.h[a];if(null==c){if(b)throw new n(na.withFields("Missing symbol",["name",a]));return null}return c.createSprite()},__class__:Ia};var jc=function(a){this._oneshotSprite=this._loopingSprite=null;s.call(this);this._lib=a;this._root=new h;this.movie=new ha(null);this.setCache(!0)};f["flambe.swf.MoviePlayer"]=jc;jc.__name__=["flambe","swf","MoviePlayer"];jc.__super__=s;jc.prototype=r(s.prototype,{get_name:function(){return"MoviePlayer_3"},setCache:function(a){this._cache=
a?new Q:null;return this},play:function(a,b){null==b&&(b=!0);if(b||null==this._oneshotSprite||this._oneshotSprite.symbol._name!=a)this._oneshotSprite=this.playFromCache(a);return this},loop:function(a,b){null==b&&(b=!0);if(b||null==this._loopingSprite||this._loopingSprite.symbol._name!=a)this._oneshotSprite=null,this._loopingSprite=this.playFromCache(a);return this},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this._root.dispose();this._oneshotSprite=this._loopingSprite=
null;this.movie.set__(null)},onUpdate:function(a){null!=this._oneshotSprite&&this._oneshotSprite._position+a>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=null,this.setCurrent(this._loopingSprite))},playFromCache:function(a){var b;if(null!=this._cache)if(b=this._cache,b=null!=v[a]?b.getReserved(a):b.h[a],null!=b)b.set_position(0);else{b=this.createMovie(a);var c=this._cache;null!=v[a]?c.setReserved(a,b):c.h[a]=b}else b=this.createMovie(a);return this.setCurrent(b)},createMovie:function(a){a=
this._lib.createSprite(a,!0);null!=this._decorator&&this._decorator(a);return a},setCurrent:function(a){this._root.add(a);return this.movie.set__(a)},__class__:jc});var Z=function(a){this._looped=null;i.call(this);this.symbol=a;this.speed=new x(1);this._animators=Array(a.layers.length);for(var b=0,c=this._animators.length;b<c;){var d=b++;this._animators[d]=new de(a.layers[d])}this._position=this._frame=0;this["goto"](1)};f["flambe.swf.MovieSprite"]=Z;Z.__name__=["flambe","swf","MovieSprite"];Z.__super__=
i;Z.prototype=r(i.prototype,{onAdded:function(){i.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.addChild(c.content)}},onRemoved:function(){i.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.content)}},onUpdate:function(a){i.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&768){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=
this.symbol.duration,null!=this._looped&&this._looped.emit());break;case 512:this._flags&=-513}this["goto"](this._position*this.symbol.frameRate)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<c.length;){var d=c[b];++b;d.needsKeyframeUpdate=!0;d.keyframeIdx=0}b=0;for(c=this._animators;b<c.length;)d=c[b],++b,d.composeFrame(a);this._frame=a}},set_position:function(a){return this._position=Xc.clamp(a,0,this.symbol.duration)},set_paused:function(a){this._flags=
ec.set(this._flags,256,a);return a},get_looped:function(){null==this._looped&&(this._looped=new ia);return this._looped},set_pixelSnapping:function(a){for(var b=0,c=this._animators;b<c.length;){var d=c[b];++b;d.setPixelSnapping(a)}return i.prototype.set_pixelSnapping.call(this,a)},rewind:function(){this._position=0;this._flags|=512},__class__:Z});var de=function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=!1;this.layer=a;this.content=new h;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);
for(var b=0,c=this._sprites.length;b<c;){var d=b++,e=a.keyframes[d];this._sprites[d]=0<d&&a.keyframes[d-1].symbol==e.symbol?this._sprites[d-1]:null==e.symbol?new i:e.symbol.createSprite()}this.content.add(this._sprites[0])}};f["flambe.swf._MovieSprite.LayerAnimator"]=de;de.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];de.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_1.set_visible(!1),
this.keyframeIdx=c,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var d;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,d=this._sprites[this.keyframeIdx],d!=this.content._compMap.Sprite_1&&((null==d?null:A.getClass(d))==Z&&d.rewind(),this.content.add(d))):d=this.content._compMap.Sprite_1;var e=b[this.keyframeIdx],f=e.visible&&null!=e.symbol;d.set_visible(f);if(f){var f=e.x,h=e.y,i=e.scaleX,j=e.scaleY,l=
e.skewX,m=e.skewY,n=e.alpha;if(e.tweened&&this.keyframeIdx<c){a=(a-e.index)/e.duration;c=e.ease;if(0!=c){var o;0>c?(o=1-a,o=1-o*o,c=-c):o=a*a;a=c*o+(1-c)*a}b=b[this.keyframeIdx+1];f+=(b.x-f)*a;h+=(b.y-h)*a;i+=(b.scaleX-i)*a;j+=(b.scaleY-j)*a;l+=(b.skewX-l)*a;m+=(b.skewY-m)*a;n+=(b.alpha-n)*a}b=d.getLocalMatrix();a=0;c=1;o=0;var k=1;0!=l&&(a=Math.sin(l),c=Math.cos(l));0!=m&&(o=Math.sin(m),k=Math.cos(m));b.set(k*i,o*i,-a*j,c*j,f,h);b.translate(-e.pivotX,-e.pivotY);d.alpha.set__(n)}}}},setPixelSnapping:function(a){if(null!=
this._sprites)for(var b=0,c=this._sprites;b<c.length;){var d=c[b];++b;d.set_pixelSnapping(a)}},__class__:de};var xc=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var e=c++,f=new ee(b.layers[e]);this.frames=Math.max(f.frames,this.frames);this.layers[e]=f}this.duration=this.frames/this.frameRate};f["flambe.swf.MovieSymbol"]=xc;xc.__name__=["flambe","swf","MovieSymbol"];xc.__interfaces__=[wc];xc.prototype=
{createSprite:function(){return new Z(this)},__class__:xc};var ee=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,d=this.keyframes.length;c<d;){var e=c++,b=new fe(a.keyframes[e],b);this.keyframes[e]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+b.duration:0};f["flambe.swf.MovieLayer"]=ee;ee.__name__=["flambe","swf","MovieLayer"];ee.prototype={__class__:ee};var fe=function(a,b){this.ease=0;this.visible=this.tweened=
!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=
a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=a.ease&&(this.ease=a.ease)};f["flambe.swf.MovieKeyframe"]=fe;fe.__name__=["flambe","swf","MovieKeyframe"];fe.prototype={__class__:fe};var ec=function(){};f["flambe.util.BitSets"]=ec;ec.__name__=["flambe","util","BitSets"];ec.set=function(a,b,c){return c?a|b:a&~b};var ue=function(){};f["flambe.util.LogHandler"]=ue;ue.__name__=["flambe","util","LogHandler"];var md=function(){this.success=new M;this.error=new M;this.progressChanged=new ia;this.hasResult=
!1;this._total=this._progress=0};f["flambe.util.Promise"]=md;md.__name__=["flambe","util","Promise"];md.prototype={get_result:function(){if(!this.hasResult)throw new n("Promise result not yet available");return this._result},set_result:function(a){if(this.hasResult)throw new n("Promise result already assigned");this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=
a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:md};var ia=function(a){ma.call(this,a)};f["flambe.util.Signal0"]=ia;ia.__name__=["flambe","util","Signal0"];ia.__super__=ma;ia.prototype=r(ma.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==ma.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=
this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:ia});var Id=function(a){this.next=null;this.fn=a};f["flambe.util._SignalBase.Task"]=Id;Id.__name__=["flambe","util","_SignalBase","Task"];Id.prototype={__class__:Id};var na=function(){};f["flambe.util.Strings"]=na;na.__name__=["flambe","util","Strings"];na.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?t.substr(a,b+1,null):null};na.removeFileExtension=function(a){var b=a.lastIndexOf(".");
return 0<b?t.substr(a,0,b):a};na.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=t.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=t.substr(a,b+1,null));return na.getFileExtension(a)};na.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};na.withFields=function(a,b){var c=b.length;if(0<c){for(var a=a+(0<a.length?" [":"["),d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(A.__instanceof(f,Error)){var h=f.stack;null!=h&&(f=h)}a+=e+"="+z.string(f);d+=2}a+="]"}return a};
var Na=function(){};f["flambesdk.BaseUtils"]=Na;Na.__name__=["flambesdk","BaseUtils"];Na.setupBaseURL=function(){Na.BASE_URL=Fa.get_exists()?Fa.get_isCrossdomain()?Na.appendAssetsToUrl(Fa.get_base()):Na.trimUrl(Fa.get_base()):""};Na.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=t.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=t.substr(a,b,a.length-b);return a=Na.appendAssetsToUrl(a)};
Na.appendAssetsToUrl=function(a){"/"!=a.charAt(a.length-1)&&(a+="/");return a+"assets/"};var Dc=function(){s.call(this);this.sdk=new Cb;ge.set_onSuspendToggle(function(a){l.root.add(new Ya(a?0:1))})};f["flambesdk.SDKComponent"]=Dc;Dc.__name__=["flambesdk","SDKComponent"];Dc.__super__=s;Dc.prototype=r(s.prototype,{get_name:function(){return"SDKComponent_20"},__class__:Dc});var yc=function(){};f["haxe.IMap"]=yc;yc.__name__=["haxe","IMap"];yc.prototype={__class__:yc};var Ea=function(){this.buf=new ib;
this.cache=[];this.useCache=Ea.USE_CACHE;this.useEnumIndex=Ea.USE_ENUM_INDEX;this.shash=new Q;this.scount=0};f["haxe.Serializer"]=Ea;Ea.__name__=["haxe","Serializer"];Ea.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=v[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=v[a]?b.setReserved(a,c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=z.string(a.length);
this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=ga.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(ga.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=P["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==
a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(A.__instanceof(a,ve))a=P.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(A.__instanceof(a,we))this.buf.b+="B",this.serializeString(P.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;
case 5:throw new n("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=z.string(a.getTime());
break;case Ha:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Ka:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case gb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=ga.field(c,"__id__"),ga.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Q:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=
b.next(),this.serializeString(c),this.serialize(null!=v[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case Xa:this.buf.b+="s";this.buf.b+=z.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=Ea.BASE64_CODES;if(null==b){for(var b=Array(Ea.BASE64.length),e=0,f=Ea.BASE64.length;e<f;){var h=e++;b[h]=t.cca(Ea.BASE64,h)}Ea.BASE64_CODES=b}for(;c<d;)e=a.b[c++],f=a.b[c++],h=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>2]),this.buf.b+=String.fromCharCode(b[(e<<4|f>>4)&63]),this.buf.b+=
String.fromCharCode(b[(f<<2|h>>6)&63]),this.buf.b+=String.fromCharCode(b[h&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(P.getClassName(b)),this.useCache&&this.cache.push(a),
a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(P.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=z.string(this.useEnumIndex?"j":"w");this.serializeString(P.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=z.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=z.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);
this.useCache&&this.cache.push(a);break;default:throw new n("Cannot serialize "+z.string(a));}},__class__:Ea};var Ed=function(){};f["haxe._Unserializer.DefaultResolver"]=Ed;Ed.__name__=["haxe","_Unserializer","DefaultResolver"];Ed.prototype={resolveClass:function(a){return P.resolveClass(a)},resolveEnum:function(a){return P.resolveEnum(a)},__class__:Ed};var xa=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=xa.DEFAULT_RESOLVER;null==a&&(a=new Ed,xa.DEFAULT_RESOLVER=
a);this.resolver=a};f["haxe.Unserializer"]=xa;xa.__name__=["haxe","Unserializer"];xa.initCodes=function(){for(var a=[],b=0,c=xa.BASE64.length;b<c;){var d=b++;a[xa.BASE64.charCodeAt(d)]=d}return a};xa.run=function(a){return(new xa(a)).unserialize()};xa.prototype={readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(t.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new n("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new n("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new n("Invalid enum format");
var c=this.readDigits();if(0==c)return P.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return P.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new n("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new n("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new n("Class not found "+
a);a=P.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new n("Invalid custom data");return a;case 77:a=new gb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new n("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;
break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new Q;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),c=this.unserialize();null!=v[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new n("Class not found "+a);a=P.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();
case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new n("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];if(null==d)throw new n("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new Ha;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;
case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Ka;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new n("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new n("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||
this.length-this.pos<a)throw new n("Invalid bytes length");var e=xa.CODES;null==e&&(e=xa.initCodes(),xa.CODES=e);for(var f=this.pos,h=a&3,i=f+(a-h),b=new Xa(new he(3*(a>>2)+(2<=h?h-1:0))),c=0;f<i;){var j=e[d.charCodeAt(f++)],l=e[d.charCodeAt(f++)];b.b[c++]=(j<<2|l>>4)&255;j=e[d.charCodeAt(f++)];b.b[c++]=(l<<4|j>>2)&255;l=e[d.charCodeAt(f++)];b.b[c++]=(j<<6|l)&255}2<=h&&(l=e[d.charCodeAt(f++)],i=e[d.charCodeAt(f++)],b.b[c++]=(l<<2|i>>4)&255,3==h&&(d=e[d.charCodeAt(f++)],b.b[c++]=(i<<4|d>>2)&255));
this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=t.strDate(t.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),
a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new n("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw n.wrap(this.unserialize());case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new n("Invalid string length");b=t.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new n("Invalid char "+
this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:xa};var Ka=function(){this.h={}};f["haxe.ds.IntMap"]=Ka;Ka.__name__=["haxe","ds","IntMap"];Ka.__interfaces__=[yc];Ka.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return t.iter(a)},__class__:Ka};
var gb=function(){this.h={__keys__:{}}};f["haxe.ds.ObjectMap"]=gb;gb.__name__=["haxe","ds","ObjectMap"];gb.__interfaces__=[yc];gb.assignId=function(a){return a.__id__=++gb.count};gb.getId=function(a){return a.__id__};gb.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++gb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];
delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return t.iter(a)},__class__:gb};var pb=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};f["haxe.ds._StringMap.StringMapIterator"]=pb;pb.__name__=["haxe","ds","_StringMap","StringMapIterator"];pb.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=v[b]?a.getReserved(b):
a.h[b]},__class__:pb};var Q=function(){this.h={}};f["haxe.ds.StringMap"]=Q;Q.__name__=["haxe","ds","StringMap"];Q.__interfaces__=[yc];Q.prototype={set:function(a,b){null!=v[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=v[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=v[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==
this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=v[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return t.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new pb(this,this.arrayKeys())},
__class__:Q};var Xa=function(a){this.length=a.byteLength;this.b=new re(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};f["haxe.io.Bytes"]=Xa;Xa.__name__=["haxe","io","Bytes"];Xa.alloc=function(a){return new Xa(new he(a))};Xa.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|
d&63))}return new Xa((new re(b)).buffer)};Xa.ofData=function(a){var b=a.hxBytes;return null!=b?b:new Xa(a)};Xa.fastGet=function(a,b){return a.bytes[b]};Xa.prototype={__class__:Xa};var Fd=function(){};f["haxe.io.FPHelper"]=Fd;Fd.__name__=["haxe","io","FPHelper"];Fd.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Fd.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/0.6931471805599453);-127>
c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};var lc=function(){};f["haxe.rtti.Meta"]=lc;lc.__name__=["haxe","rtti","Meta"];lc.getType=function(a){a=lc.getMeta(a);return null==a||null==a.obj?{}:a.obj};lc.getMeta=function(a){return a.__meta__};var la=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++,d=b.charCodeAt(d);10==d?(this.lineNumber++,
this.positionAtLine=0):13!=d&&this.positionAtLine++}};f["haxe.xml.XmlParserException"]=la;la.__name__=["haxe","xml","XmlParserException"];la.prototype={toString:function(){return P.getClassName(A.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:la};var sb=function(){};f["haxe.xml.Parser"]=sb;sb.__name__=["haxe","xml","Parser"];sb.parse=function(a,b){null==b&&(b=!1);var c=m.createDocument();sb.doParse(a,b,0,c);return c};sb.doParse=function(a,b,c,
d){null==c&&(c=0);for(var e=null,f=1,h=1,i=null,j=0,l=0,o=0,k=a.charCodeAt(c),p=new ib,r=1,s=-1;k==k;){switch(f){case 0:switch(k){case 9:case 10:case 13:case 32:break;default:f=h;continue}break;case 1:if(60==k)f=0,h=2;else{j=c;f=13;continue}break;case 2:switch(k){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=t.substr(a,c,6).toUpperCase())throw new n(new la("Expected <![CDATA[",a,c));c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=t.substr(a,c+2,6).toUpperCase())throw new n(new la("Expected <!DOCTYPE",
a,c));c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new n(new la("Expected <\!--",a,c));c+=2;f=15}j=c+1;break;case 47:if(null==d)throw new n(new la("Expected node name",a,c));j=c+1;f=0;h=10;break;case 63:f=14;j=c;break;default:f=3;j=c;continue}break;case 3:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(c==j)throw new n(new la("Expected node name",a,c));e=m.createElement(t.substr(a,j,c-j));d.addChild(e);++l;f=0;h=4;continue}break;case 4:switch(k){case 47:f=
11;break;case 62:f=9;break;default:f=5;j=c;continue}break;case 5:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(j==c)throw new n(new la("Expected attribute name",a,c));i=t.substr(a,j,c-j);if(e.exists(i))throw new n(new la("Duplicate attribute ["+i+"]",a,c));f=0;h=6;continue}break;case 6:if(61==k)f=0,h=7;else throw new n(new la("Expected =",a,c));break;case 7:switch(k){case 34:case 39:p=new ib;f=8;j=c+1;s=k;break;default:throw new n(new la('Expected "',a,c));}break;
case 8:switch(k){case 38:r=c-j;p.b+=null==r?t.substr(a,j,null):t.substr(a,j,r);f=18;r=8;j=c+1;break;case 60:case 62:if(b)throw new n(new la("Invalid unescaped "+String.fromCharCode(k)+" in attribute value",a,c));k==s&&(h=c-j,p.b+=null==h?t.substr(a,j,null):t.substr(a,j,h),h=p.b,p=new ib,e.set(i,h),f=0,h=4);break;default:k==s&&(h=c-j,p.b+=null==h?t.substr(a,j,null):t.substr(a,j,h),h=p.b,p=new ib,e.set(i,h),f=0,h=4)}break;case 9:j=c=sb.doParse(a,b,c,e);f=1;break;case 10:if(!(97<=k&&122>=k||65<=k&&90>=
k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(j==c)throw new n(new la("Expected node name",a,c));h=t.substr(a,j,c-j);if(d.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+d.nodeType);if(h!=d.nodeName){if(d.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+d.nodeType);throw new n(new la("Expected </"+d.nodeName+">",a,c));}f=0;h=12;continue}break;case 11:if(62==k)f=1;else throw new n(new la("Expected >",a,c));break;case 12:if(62==k)return 0==
l&&d.addChild(m.createPCData("")),c;throw new n(new la("Expected >",a,c));case 13:60==k?(h=c-j,p.b+=null==h?t.substr(a,j,null):t.substr(a,j,h),h=m.createPCData(p.b),p=new ib,d.addChild(h),++l,f=0,h=2):38==k&&(r=c-j,p.b+=null==r?t.substr(a,j,null):t.substr(a,j,r),f=18,r=13,j=c+1);break;case 14:63==k&&62==a.charCodeAt(c+1)&&(++c,k=t.substr(a,j+1,c-j-2),d.addChild(m.createProcessingInstruction(k)),++l,f=1);break;case 15:45==k&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(d.addChild(m.createComment(t.substr(a,
j,c-j))),++l,c+=2,f=1);break;case 16:91==k?++o:93==k?--o:62==k&&0==o&&(d.addChild(m.createDocType(t.substr(a,j,c-j))),++l,f=1);break;case 17:93==k&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(k=m.createCData(t.substr(a,j,c-j)),d.addChild(k),++l,c+=2,f=1);break;case 18:if(59==k){j=t.substr(a,j,c-j);if(35==j.charCodeAt(0))j=120==j.charCodeAt(1)?z.parseInt("0"+t.substr(j,1,j.length-1)):z.parseInt(t.substr(j,1,j.length-1)),p.b+=String.fromCharCode(j);else if(k=sb.escapes,null!=v[j]?k.existsReserved(j):
k.h.hasOwnProperty(j))k=sb.escapes,j=null!=v[j]?k.getReserved(j):k.h[j],p.b+=z.string(j);else{if(b)throw new n(new la("Undefined entity: "+j,a,c));p.b+=z.string("&"+j+";")}j=c+1;f=r}else if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)&&35!=k){if(b)throw new n(new la("Invalid character in entity: "+String.fromCharCode(k),a,c));p.b+="&";k=c-j;p.b+=null==k?t.substr(a,j,null):t.substr(a,j,k);j=c--;f=r}}k=a.charCodeAt(++c)}1==f&&(j=c,f=13);if(13==f){if(c!=j||0==l)b=c-j,p.b+=
null==b?t.substr(a,j,null):t.substr(a,j,b),d.addChild(m.createPCData(p.b));return c}if(!b&&18==f&&13==r)return p.b+="&",b=c-j,p.b+=null==b?t.substr(a,j,null):t.substr(a,j,b),d.addChild(m.createPCData(p.b)),c;throw new n(new la("Unexpected end",a,c));};var fc=function(a){this.output=new ib;this.pretty=a};f["haxe.xml.Printer"]=fc;fc.__name__=["haxe","xml","Printer"];fc.print=function(a,b){null==b&&(b=!1);var c=new fc(b);c.writeNode(a,"");return c.output.b};fc.prototype={writeNode:function(a,b){switch(a.nodeType){case 0:this.output.b+=
z.string(b+"<");if(a.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+a.nodeType);this.output.b+=z.string(a.nodeName);for(var c=a.attributes();c.hasNext();){var d=c.next();this.output.b+=z.string(" "+d+'="');d=aa.htmlEscape(a.get(d),!0);this.output.b+=z.string(d);this.output.b+='"'}if(this.hasChildren(a)){this.output.b+=">";this.pretty&&(this.output.b+="\n");if(a.nodeType!=m.Document&&a.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+
a.nodeType);for(c=t.iter(a.children);c.hasNext();)this.writeNode(c.next(),this.pretty?b+"\t":b);this.output.b+=z.string(b+"</");if(a.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+a.nodeType);this.output.b+=z.string(a.nodeName);this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(a.nodeType==m.Document||a.nodeType==m.Element)throw new n("Bad node type, unexpected "+a.nodeType);c=a.nodeValue;0!=c.length&&(c=b+aa.htmlEscape(c),
this.output.b+=z.string(c),this.pretty&&(this.output.b+="\n"));break;case 2:this.output.b+=z.string(b+"<![CDATA[");if(a.nodeType==m.Document||a.nodeType==m.Element)throw new n("Bad node type, unexpected "+a.nodeType);c=aa.trim(a.nodeValue);this.output.b+=z.string(c);this.output.b+="]]\>";this.pretty&&(this.output.b+="\n");break;case 3:if(a.nodeType==m.Document||a.nodeType==m.Element)throw new n("Bad node type, unexpected "+a.nodeType);c=a.nodeValue;c=c.replace(/[\n\r\t]+/g,"");this.output.b+=null==
b?"null":""+b;c=aa.trim("<\!--"+c+"--\>");this.output.b+=z.string(c);this.pretty&&(this.output.b+="\n");break;case 4:if(a.nodeType==m.Document||a.nodeType==m.Element)throw new n("Bad node type, unexpected "+a.nodeType);this.output.b+=z.string("<!DOCTYPE "+a.nodeValue+">");this.pretty&&(this.output.b+="\n");break;case 5:if(a.nodeType==m.Document||a.nodeType==m.Element)throw new n("Bad node type, unexpected "+a.nodeType);this.output.b+=z.string("<?"+a.nodeValue+"?>");this.pretty&&(this.output.b+="\n");
break;case 6:if(a.nodeType!=m.Document&&a.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+a.nodeType);for(c=t.iter(a.children);c.hasNext();)this.writeNode(c.next(),b)}},hasChildren:function(a){if(a.nodeType!=m.Document&&a.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+a.nodeType);for(a=t.iter(a.children);a.hasNext();){var b=a.next();switch(b.nodeType){case 0:case 1:return!0;case 2:case 3:if(b.nodeType==m.Document||
b.nodeType==m.Element)throw new n("Bad node type, unexpected "+b.nodeType);if(0!=aa.ltrim(b.nodeValue).length)return!0}}return!1},__class__:fc};var n=function(a){Error.call(this);this.val=a;this.message=""+a;Error.captureStackTrace&&Error.captureStackTrace(this,n)};f["js._Boot.HaxeError"]=n;n.__name__=["js","_Boot","HaxeError"];n.wrap=function(a){return a instanceof Error?a:new n(a)};n.__super__=Error;n.prototype=r(Error.prototype,{__class__:n});var A=function(){};f["js.Boot"]=A;A.__name__=["js",
"Boot"];A.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=A.__nativeClassName(a);return null!=a?A.__resolveNativeClass(a):null};A.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,
e=a.length;d<e;)var f=d++,c=2!=f?c+(","+A.__string_rec(a[f],b)):c+A.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+A.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(h){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==
c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+A.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return""+a}};A.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||A.__interfLoop(f,b))return!0}return A.__interfLoop(a.__super__,b)};A.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case xe:return"boolean"==
typeof a;case Ae:return!0;case ye:return"number"==typeof a;case Be:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||A.__interfLoop(A.getClass(a),b))return!0}else{if("object"==typeof b&&A.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==ve&&null!=a.__name__||b==we&&null!=a.__ename__?!0:a.__enum__==b}};A.__nativeClassName=function(a){a=A.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==
a||"Math"==a||"JSON"==a?null:a};A.__isNativeObj=function(a){return null!=A.__nativeClassName(a)};A.__resolveNativeClass=function(a){return ke[a]};var ne=function(){};f["js.Browser"]=ne;ne.__name__=["js","Browser"];ne.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};var oe=function(){};f["js.html._CanvasElement.CanvasUtil"]=oe;oe.__name__=["js","html","_CanvasElement","CanvasUtil"];oe.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<
d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var Ba=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;)this.a[b++]=0;this.byteLength=a}};f["js.html.compat.ArrayBuffer"]=Ba;Ba.__name__=["js","html","compat","ArrayBuffer"];Ba.sliceImpl=function(a,b){var c=new re(this,a,null==b?null:b-a),d=new he(c.byteLength);(new re(d)).set(c);return d};Ba.prototype={slice:function(a,b){return new Ba(this.a.slice(a,
b))},__class__:Ba};var Db=function(){};f["js.html.compat.Float32Array"]=Db;Db.__name__=["js","html","compat","Float32Array"];Db._new=function(a,b,c){var d;if("number"==typeof a){d=[];for(b=0;b<a;){var e=b++;d[e]=0}d.byteLength=d.length<<2;d.byteOffset=0;a=[];b=0;for(e=d.length<<2;b<e;)b++,a.push(0);d.buffer=new Ba(a)}else if(A.__instanceof(a,Ba)){null==b&&(b=0);null==c&&(c=a.byteLength-b>>2);d=[];for(e=0;e<c;){e++;var f=a.a[b++]|a.a[b++]<<8|a.a[b++]<<16|a.a[b++]<<24;d.push(Fd.i32ToFloat(f))}d.byteLength=
d.length<<2;d.byteOffset=b;d.buffer=a}else if(a instanceof Array&&null==a.__enum__){d=a.slice();a=[];for(b=0;b<d.length;)e=d[b],++b,e=Fd.floatToI32(e),a.push(e&255),a.push(e>>8&255),a.push(e>>16&255),a.push(e>>>24);d.byteLength=d.length<<2;d.byteOffset=0;d.buffer=new Ba(a)}else throw new n("TODO "+z.string(a));d.subarray=Db._subarray;d.set=Db._set;return d};Db._set=function(a,b){if(A.__instanceof(a.buffer,Ba)){if(a.byteLength+b>this.byteLength)throw new n("set() outside of range");for(var c=0,d=a.byteLength;c<
d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new n("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new n("TODO");};Db._subarray=function(a,b){var c=Db._new(this.slice(a,b));c.byteOffset=4*a;return c};var Eb=function(){};f["js.html.compat.Uint8Array"]=Eb;Eb.__name__=["js","html","compat","Uint8Array"];Eb._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;
c.byteOffset=0;c.buffer=new Ba(c)}else if(A.__instanceof(a,Ba))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Ba(c);else throw new n("TODO "+z.string(a));c.subarray=Eb._subarray;c.set=Eb._set;return c};Eb._set=function(a,b){if(A.__instanceof(a.buffer,Ba)){if(a.byteLength+b>this.byteLength)throw new n("set() outside of range");
for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new n("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new n("TODO");};Eb._subarray=function(a,b){var c=Eb._new(this.slice(a,b));c.byteOffset=a;return c};var Cb=function(){Cb.eval("nick_sdk_client.SDK.initialize")};f["nicksdk.SDK"]=Cb;Cb.__name__=["nicksdk","SDK"];Cb.eval=function(a,b){null==b&&(b=[]);for(var c=null,d=null,e=
0,f=a.split(".");e<f.length;){var h=f[e];++e;c=d;d=null==c?ga.field(window,h):ga.field(c,h)}e=null;null!=d&&(e=d.apply(c,b));return e};Cb.bind=function(a,b){for(var c=null,d=null,e="",f=0,h=a.split(".");f<h.length;){var i=h[f];++f;c=d;e=i;d=null==c?ga.field(window,i):ga.field(c,i)}null!=c&&(c[e]=b)};Cb.prototype={__class__:Cb};var Oa=function(){};f["nicksdk.event.GameEventEmitter"]=Oa;Oa.__name__=["nicksdk","event","GameEventEmitter"];Oa.sendGameEvent=function(a,b){Oa.callExternal(a,b)};Oa.callExternal=
function(a,b){Cb.eval("nick_sdk_client.GameEventEmitter.sendGameEvent",[a,b])};var ge=function(){};f["nicksdk.event.GameEventListener"]=ge;ge.__name__=["nicksdk","event","GameEventListener"];ge.set_onSuspendToggle=function(a){ge.onSuspendToggle=a;Cb.bind("nick_sdk_client.GameEventListener.onSuspendToggle",a);return a};var Fa=function(){};f["nicksdk.jsembed.JSEmbedProxy"]=Fa;Fa.__name__=["nicksdk","jsembed","JSEmbedProxy"];Fa.get_exists=function(){return Fa.callJSEmbedMethod("exists()")};Fa.get_base=
function(){return Fa.callJSEmbedMethod("baseUrl()")};Fa.get_isCrossdomain=function(){return Fa.callJSEmbedMethod("isBaseCrossdomain()")};Fa.callJSEmbedMethod=function(a){try{var b=Fa.eval("eval",["jsembed."+a]);return null==b?"":b}catch(c){return""}};Fa.eval=function(a,b){null==b&&(b=[]);for(var c=null,d=0,e=a.split(".");d<e.length;)c=e[d],++d,c=ga.field(window,c);return c.apply(null,b)};var Tc=function(a,b,c){this.ease1=a;this.ease2=b;this.percent=c};f["s2.animation.CombinedEase"]=Tc;Tc.__name__=
["s2","animation","CombinedEase"];Tc.prototype={ease:function(a){var b=this.ease1(a),a=this.ease2(a);return b+(a-b)*this.percent},__class__:Tc};var Wc=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);this.start=a;this.end=b;this.cycles=e;this.speed=new x(d);this.steps=c;this._count=1.5707963267948966+f*(3.141592653589793/d);this._distance=0.5*(a-b);this._center=b+this._distance};f["s2.animation.SineSteps"]=Wc;Wc.__name__=["s2","animation","SineSteps"];Wc.__interfaces__=[fd];Wc.prototype=
{update:function(a){this.speed.update(a);this._count+=a*(3.141592653589793/this.speed._value);if(this.isComplete())return this._center+3.141592653589793*this._distance;a=this.steps;return this._center+Math.round(Math.sin(this._count)*a)/a*this._distance},isComplete:function(){return 0<this.cycles?0.5*((this._count-1.5707963267948966)/3.141592653589793)>=this.cycles:!1},__class__:Wc};var xb=function(a){null==a&&(a=!0);s.call(this);this._baseSizeAsWidest=a};f["s2.display.AutoFillScreen"]=xb;xb.__name__=
["s2","display","AutoFillScreen"];xb.__super__=s;xb.prototype=r(s.prototype,{get_name:function(){return"AutoFillScreen_17"},onAdded:function(){s.prototype.onAdded.call(this);var a=this.owner._compMap.Disposer_18;null==a&&(a=new N,this.owner.add(a));var b=this.owner._compMap.Sprite_1,c=b.getNaturalWidth(),d=b.getNaturalHeight();if(null!=b){b.anchorX.set__(c/2);b.anchorY.set__(d/2);var c=l._platform.getStage().get_width(),d=l._platform.getStage().get_height(),e=1.7786458333333333*l._platform.getStage().get_height(),
e=(this._baseSizeAsWidest?Math.min(e,c):c)/b.getNaturalWidth(),f=d/b.getNaturalHeight();b.setScale(e>f?e:f);b.setXY(0.5*c,0.5*d)}a.connect0(l._platform.getStage().resize,p(this,this.onResize))},onResize:function(){if(null!=this.owner){var a=this.owner._compMap.Sprite_1;if(null!=a){var b=l._platform.getStage().get_width(),c=l._platform.getStage().get_height(),d=1.7786458333333333*l._platform.getStage().get_height(),d=(this._baseSizeAsWidest?Math.min(d,b):b)/a.getNaturalWidth(),e=c/a.getNaturalHeight();
a.setScale(d>e?d:e);a.setXY(0.5*b,0.5*c)}}},__class__:xb});var Nc=function(){s.call(this);this._reuse=new J;this.over=new ha(!1)};f["s2.display.ButtonMode"]=Nc;Nc.__name__=["s2","display","ButtonMode"];Nc.__super__=s;Nc.prototype=r(s.prototype,{get_name:function(){return"ButtonMode_11"},onAdded:function(){l._platform.getMouse().get_supported()&&(this._sprite=this.owner._compMap.Sprite_1,this._moveDispose=this._sprite.get_pointerMove().connect(p(this,this.onMove)))},onUpdate:function(){null==this._sprite&&
l._platform.getMouse().get_supported()&&(this._sprite=this.owner._compMap.Sprite_1)},onRemoved:function(){this.over.set__(!1);null!=this._moveDispose&&this._moveDispose.dispose();null!=this._globalDispose&&this._globalDispose.dispose();this._sprite=null;l._platform.getMouse().set_cursor(va.Default)},onMove:function(a){a._stopped=!0;this.over._value||(this.over.set__(!0),l._platform.getMouse().set_cursor(va.Button),this._globalDispose=l._platform.getPointer().move.connect(p(this,this.onSystemMove)))},
onSystemMove:function(a){a._stopped=!0;this.over._value&&(this.over.set__(!1),l._platform.getMouse().set_cursor(va.Default),this._globalDispose.dispose())},__class__:Nc});var X=function(){s.call(this);X.inited||X.initialize()};f["s2.display.ButtonMode2"]=X;X.__name__=["s2","display","ButtonMode2"];X.initialize=function(){X.inited=!0;var a=l.root;X.staticChanged=new M;X.staticDisposer=new N;null==a._compMap.Sprite_1&&l.root.add(new i);X.staticDisposer.connect1(l.root._compMap.Sprite_1.get_pointerMove(),
X.onPointerMove);X.staticDisposer.connect1(X.staticChanged,X.staticOnChanged)};X.staticOnChanged=function(a){null!=a.owner._compMap.ButtonMode2_13?l._platform.getMouse().set_cursor(va.Button):l._platform.getMouse().set_cursor(va.Default)};X.onPointerMove=function(a){X.currentTarget!=a.hit&&X.staticChanged.emit(a.hit);X.currentTarget=a.hit};X.__super__=s;X.prototype=r(s.prototype,{get_name:function(){return"ButtonMode2_13"},onAdded:function(){null==this.owner._compMap.Disposer_18&&this.owner.add(new N);
this.owner._compMap.Disposer_18.connect1(X.staticChanged,p(this,this.onChanged));this.over=new ha(!1)},onChanged:function(a){a==this.owner._compMap.Sprite_1?this.over._value||this.over.set__(!0):this.over._value&&this.over.set__(!1)},__class__:X});var Tb=function(){};f["s2.display.LayoutUtil"]=Tb;Tb.__name__=["s2","display","LayoutUtil"];Tb.centerX=function(a,b){null==b&&(b=0);var c=a._compMap.Sprite_1;if(null!=c){var d=i.getBounds(a);c.x.set__(Math.round(0.5*l._platform.getStage().get_width()-0.5*
d.width-d.x-b))}return a};Tb.centerY=function(a,b){null==b&&(b=0);var c=a._compMap.Sprite_1;if(null!=c){var d=i.getBounds(a);c.y.set__(Math.round(0.5*l._platform.getStage().get_height()-0.5*d.height-d.y-b))}return a};Tb.center=function(a,b,c){null==c&&(c=0);null==b&&(b=0);Tb.centerX(a,b);return Tb.centerY(a,c)};var Vc=function(a,b,c){null==c&&(c=1);null==b&&(b=-1);null==a&&(a=-1);s.call(this);this._scale=c;this._position=new x(0);this.width=0>a?l._platform.getStage().get_width():a;this.height=0>b?
l._platform.getStage().get_height():b};f["s2.display.Parallax"]=Vc;Vc.__name__=["s2","display","Parallax"];Vc.__super__=s;Vc.prototype=r(s.prototype,{get_name:function(){return"Parallax_2"},addLayer:function(a,b,c,d,e,f,i){null==i&&(i=1);null==f&&(f=0);null==e&&(e=0);null==d&&(d=!1);null==c&&(c=!0);var j=a.get_width()*this._scale,k=a.get_height()*this._scale,j=c?Math.ceil(this.width/j)+1:1,d=d?Math.ceil((this.height-f)/k)+1:1,d=new jd(a,j*a.get_width(),d*a.get_height()),k=new h;d.y.set__(Math.round(f));
d.x.set__(this._offsetX=e);d.alpha.set__(i);d.anchorX.set__(c?0:-this.width/this._scale);d.setScale(this._scale);k.add(d);null!=this.owner&&this.owner.addChild(k);a=new ie(d,c?a.get_width()*this._scale:this.width+a.get_width(),b);a.next=this._head;this._head=a;return this},get_position:function(){return this._position},onUpdate:function(a){this._position.update(a);for(var a=this._head,b=this._position._value;null!=a;)a.sprite.x.set__(-((b+this._offsetX)*a.speed)%a.width),a=a.next},onAdded:function(){for(var a=
this._head;null!=a;)this.owner.addChild(a.sprite.owner,!1),a=a.next},onRemoved:function(){for(var a=this._head;null!=a;)this.owner.removeChild(a.sprite.owner),a=a.next},__class__:Vc});var ie=function(a,b,c){this.sprite=a;this.width=b;this.speed=c};f["s2.display.ParallaxLayer"]=ie;ie.__name__=["s2","display","ParallaxLayer"];ie.prototype={__class__:ie};var I=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!1);this.loadedBytes=this.totalBytes=0;this.releaseCacheOnRemove=this._isLoading=this.ready=!1;
this._nLoaded=this._nNeeded=0;s.call(this);this.progressed=new Kb;this.success=new ia;this._suffix=d;this._manifests=new Q;this._packsReady=new Q;this._packsLoading=[];this.autoCacheResults=b;this.releaseCacheOnRemove=c;this._nLoaded=this._nNeeded=0;if(null!=a){b=0;for(c=a.length;b<c;)d=b++,this.require(a[d])}};f["s2.loading.Assets"]=I;I.__name__=["s2","loading","Assets"];I.getCached=function(a){null==I._cache&&(I._cache=new Q);var b=I._cache;return(null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?
(b=I._cache,null!=v[a]?b.getReserved(a):b.h[a]):null};I.cache=function(a,b){null==I._cache&&(I._cache=new Q);var c=I._cache;null!=v[a]?c.setReserved(a,b):c.h[a]=b};I.release=function(a){var b;null!=I._cache?(b=I._cache,b=null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a)):b=!1;b&&I._cache.remove(a)};I.__super__=s;I.prototype=r(s.prototype,{get_name:function(){return"Assets_19"},require:function(a){var b=null==this._suffix?"":"_"+this._suffix;if(W.exists(a+b))this.addManifest(W.fromAssets(a+b),a);
else if(W.exists(a))this.addManifest(W.fromAssets(a),a);else throw new n("The directory "+a+" does not exist in the manifest."+(null==this._suffix?"":" Also attempted path "+a+b));return this},addManifest:function(a,b){var c=this._manifests;if(null!=v[b]?c.existsReserved(b):c.h.hasOwnProperty(b))throw new n("Asset key for manifest "+b+" already exists.");this._nNeeded++;null!=I.externalBase?a.set_remoteBase(I.externalBase):null!=I.relativeBase&&a.set_localBase(I.relativeBase);c=this._manifests;null!=
v[b]?c.setReserved(b,a):c.h[b]=a;return this},onAdded:function(){this.load()},load:function(){this.loadedBytes=this.totalBytes=0;this.ready=!1;for(var a=this._manifests.keys();a.hasNext();){var b=a.next(),c=I.getCached(b);if(null!=c){var d=this._manifests,e=c.get_manifest();null!=v[b]?d.setReserved(b,e):d.h[b]=e;this.onSuccess(c)}else if(c=this._manifests,b=null!=v[b]?c.getReserved(b):c.h[b],b=l._platform.loadAssetPack(b),b.hasResult)this.onSuccess(b.get_result());else this._isLoading=!0,this.totalBytes+=
b._total,this._packsLoading.push(b),b.get(p(this,this.onSuccess))}},onUpdate:function(){if(!this.ready){for(var a=0,b=0,c=this._packsLoading.length;b<c;)var d=b++,a=a+this._packsLoading[d]._progress;a!=this.loadedBytes&&this.progressed.emit(a,this.totalBytes);this.loadedBytes=a}},onRemoved:function(){if(this.releaseCacheOnRemove)for(var a=this._manifests.keys();a.hasNext();){var b=a.next();I.release(b)}this.ready=this._isLoading=!1;this._packsLoading=[];this._packsReady=new Q},get:function(a){if(this.ready){var b=
this._packsReady,c=a+(null==this._suffix?"":"_"+this._suffix),b=null!=v[c]?b.getReserved(c):b.h[c];if(null!=b)return b;b=this._packsReady;b=null!=v[a]?b.getReserved(a):b.h[a];if(null!=b)return b;throw new n("Asset pack "+a+" not part of this asset requirement.");}throw new n("Can't get an asset pack before all packs are loaded and ready.");},onSuccess:function(a){this._nLoaded++;this._manifests.keys();for(var b=this._manifests.keys();b.hasNext();){var c=b.next(),d=this._manifests;if((null!=v[c]?d.getReserved(c):
d.h[c])==a.get_manifest())this.autoCacheResults&&I.cache(c,a),d=this._packsReady,null!=v[c]?d.setReserved(c,a):d.h[c]=a}this._nLoaded==this._nNeeded&&(this.progressed.emit(this.totalBytes,this.totalBytes),this._isLoading=!1,this.ready=!0,this.success.emit())},__class__:I});var je=function(){};f["s2.localization.LocaleParser"]=je;je.__name__=["s2","localization","LocaleParser"];je.prototype={__class__:je};var Cc=function(){};f["s2.localization.DisneyParser"]=Cc;Cc.__name__=["s2","localization","DisneyParser"];
Cc.__interfaces__=[je];Cc.prototype={parseFonts:function(a){var b=new W,c=[];if(A.__instanceof(a,m))for(a=a.firstElement().elements();a.hasNext();)for(var d=a.next().elements();d.hasNext();){var e=this.getXmlString(d.next(),"font");null!=e&&-1==c.indexOf(e)&&(b.add(e+".fnt",e+".fnt"),c.push(e))}return b},parseDefinitions:function(a){for(var b=new W,c=t.iter(a.get_manifest()._entries);c.hasNext();){var d=c.next();b.add(d.url,d.name);for(var e=a.getFile(d.name).toString(),f=0;;){var h=e.indexOf('file="',
f),f=-1;-1<h&&(h+=6,f=e.indexOf('"',h),h=e.substring(h,f),b.add(h.split(".")[0],h));if(!(-1<f))break}a.getFile(d.name).dispose()}return b},parseStrings:function(a,b){var c=new Q,d=new Q;if(A.__instanceof(a,m))for(var e=a.firstElement().elements();e.hasNext();){var f=e.next(),h=f.elements();if(f.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+f.nodeType);for(f=f.nodeName;h.hasNext();){var i=h.next(),j=this.getXmlString(i,"font"),k=null;null!=j&&(k=(null!=v[j]?d.existsReserved(j):
d.h.hasOwnProperty(j))?null!=v[j]?d.getReserved(j):d.h[j]:(new $b(b,j)).disposeFiles());if(i.nodeType!=m.Element)throw new n("Bad node type, expected Element but found "+i.nodeType);var l=f+"."+i.nodeName,o=this.getXmlFloat(i,"lineHeight",0),p=this.getXmlFloat(i,"fontScale",1);if(i.nodeType!=m.Document&&i.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+i.nodeType);var r=i.children[0];if(r.nodeType==m.Document||r.nodeType==m.Element)throw new n("Bad node type, unexpected "+
r.nodeType);i={id:l,font:k,lineHeight:o,scale:p,text:r.nodeValue,offsetX:this.getXmlFloat(i,"offsetX",0),offsetY:this.getXmlFloat(i,"offsetY",0),spacing:this.getXmlFloat(i,"spacing",0)};null!=v[j]?d.setReserved(j,k):d.h[j]=k;j=i.id;null!=v[j]?c.setReserved(j,i):c.h[j]=i}}return c},getXmlString:function(a,b,c){a=a.get(b);return null!=a&&""!=a?a:c},getXmlFloat:function(a,b,c){a=this.getXmlString(a,b);return null!=a?parseFloat(a):c},__class__:Cc};var o=function(){};f["s2.localization.Locale"]=o;o.__name__=
["s2","localization","Locale"];o.init=function(a,b,c,d){null==d&&(d="assets/fonts");null==c&&(c="xml/translation.xml");o._formats=new Q;o._xmlPath=c;o._fontDirectory=d;o._onReady=a;o._parser=b;a=new W;b=c;null!=o.externalBase?b=o.externalBase+o._xmlPath:null!=o.relativeBase&&(b=o.relativeBase+o._xmlPath);a.add(c,b);l._platform.loadAssetPack(a).get(o.onXmlSuccess)};o.getField=function(a,b,c){null==b&&(b=0);var d=o._formats;if(null!=v[a]?d.existsReserved(a):d.h.hasOwnProperty(a))return d=o._formats,
a=null!=v[a]?d.getReserved(a):d.h[a],d=new Gd(a.font,a.scale,a.offsetX,a.offsetY,a.text),d.wrapWidth.set__(b/a.scale),d.letterSpacing.set__(a.spacing),d.set_align(c),d.set_pixelSnapping(!1),d;throw new n("No string id : '"+a+"' exists.");};o.onXmlSuccess=function(a){a=a.getFile(o._xmlPath);o._x=m.parse(a.toString());a.dispose();a=o.prepManifest(o._parser.parseFonts(o._x));l._platform.loadAssetPack(a).get(o.onDefinitionLoadSuccess)};o.onDefinitionLoadSuccess=function(a){a=o.prepManifest(o._parser.parseDefinitions(a));
l._platform.loadAssetPack(a).get(o.onAtlasLoadSuccess)};o.prepManifest=function(a){null!=o.externalBase?a.set_remoteBase(o.externalBase+o._fontDirectory):null!=o.relativeBase?a.set_localBase(o.relativeBase+o._fontDirectory):a.set_localBase(o._fontDirectory);return a};o.onAtlasLoadSuccess=function(a){o._formats=o._parser.parseStrings(o._x,a);a=o._formats;for(a=new pb(a,a.arrayKeys());a.hasNext();){var b=a.next(),c=aa.replace(b.text,"<br>","\n");c!=b.text&&(b.text=c)}o.loading=!1;null!=o._onReady&&
o._onReady.apply(null,[]);o._onReady=null};var Gd=function(a,b,c,d,e){null==e&&(e="");null==d&&(d=0);null==c&&(c=0);null==b&&(b=1);ra.call(this,a,e);this._fontScale=b;this._offsetX=c;this._offsetY=d};f["s2.localization.LocalizationTextSprite"]=Gd;Gd.__name__=["s2","localization","LocalizationTextSprite"];Gd.__super__=ra;Gd.prototype=r(ra.prototype,{getLocalMatrix:function(){if(0!=(this._flags&8)){if(0!=((this._flags&=-9)&128)){this._flags&=-129;var a=3.141592653589793*this.rotation._value/180;this._sinCache=
Math.sin(a);this._cosCache=Math.cos(a)}var a=this.scaleX._value*this._fontScale,b=this.scaleY._value*this._fontScale;this._localMatrix.set(this._cosCache*a,this._sinCache*a,-this._sinCache*b,this._cosCache*b,this.x._value+this._offsetX,this.y._value+this._offsetY);this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value)}return this._localMatrix},updateLayout:function(){0!=(this._flags&256)&&(this._flags&=-257,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,
this.letterSpacing._value,this.lineSpacing._value))},__class__:Gd});var Bc=function(a,b){null==b&&(b=-1);this._obscured=0>b?a.symbol.duration/2:b;this._elapsed=0;this._movie=a;this._movie.get_looped().connect(p(this,this.movieLooped)).once()};f["s2.scene.MovieTransition"]=Bc;Bc.__name__=["s2","scene","MovieTransition"];Bc.__super__=vc;Bc.prototype=r(vc.prototype,{movieLooped:function(){this._elapsed=this._movie.symbol.duration;this._to._compMap.Sprite_1.alpha.set__(1);this._holder.dispose()},init:function(a,
b,c){vc.prototype.init.call(this,a,b,c);this._movie.setScale(Math.max(l._platform.getStage().get_height()/768,l._platform.getStage().get_width()/1024));this._holder=(new h).add(this._movie);this._movie.set_position(0);b=this._to._compMap.Sprite_1;null==b&&(c=this._to,b=new i,c.add(b));b.alpha.set__(0);a.owner.addChild(this._holder)},update:function(a){this._elapsed+=a;this._elapsed>=this._obscured&&this._to._compMap.Sprite_1.alpha.set__(1);return this._elapsed>=this._movie.symbol.duration},complete:function(){this.movieLooped()},
__class__:Bc});var rb=function(a,b){Da.call(this);this._packsToPreload=b;this._pack=a;this.success=new M};f["s2.scene.PreloadScene"]=rb;rb.__name__=["s2","scene","PreloadScene"];rb.__super__=Da;rb.prototype=r(Da.prototype,{onAdded:function(){Da.prototype.onAdded.call(this);var a=new I(this._packsToPreload,!0);this._backing.add(new V(7911903,1368,768)).add(new xb);this._backing.addChild((new h).add((new k(this._pack.getTexture("loader/plankton"))).setXY(602,231)));this._fill=(new h).add((new k(this._pack.getTexture("loader/fill"))).setXY(557,
420));this._backing.addChild(this._fill);this._backing.addChild((new h).add((new k(this._pack.getTexture("loader/globe"))).setXY(557,175)));this._backing.addChild((new h).add(o.getField("loading.loading",0,w.Center).setXY(679,444)));if(a.ready)this.onSuccess();else this._successHandle=a.success.connect(p(this,this.onSuccess)),this._progressHandle=a.progressed.connect(p(this,this.onProgress));this.owner.add(a)},onRemoved:function(){this.disposeDisposables()},disposeDisposables:function(){null!=this._successHandle&&
this._successHandle.dispose();null!=this._progressHandle&&this._progressHandle.dispose()},onProgress:function(a,b){this._fill._compMap.Sprite_1.y.animateTo(420-244*Xc.clamp(a/b,0,1),0.2)},onSuccess:function(){for(var a=this.owner._compMap.Assets_19,b=new Q,c=0,d=this._packsToPreload.length;c<d;){var e=this._packsToPreload[c++],f=a.get(e);null!=v[e]?b.setReserved(e,f):b.h[e]=f}this.success.emit(b)},dispose:function(){Da.prototype.dispose.call(this);this._fill=this._pack=this._packsToPreload=this.success=
null;this.disposeDisposables();this._progressHandle=this._successHandle=null},__class__:rb});var Ga=f["s2.scene.ReleaseAssets"]={__ename__:["s2","scene","ReleaseAssets"],__constructs__:["TRUE","FALSE","AUTO"]};Ga.TRUE=["TRUE",0];Ga.TRUE.toString=j;Ga.TRUE.__enum__=Ga;Ga.FALSE=["FALSE",1];Ga.FALSE.toString=j;Ga.FALSE.__enum__=Ga;Ga.AUTO=["AUTO",2];Ga.AUTO.toString=j;Ga.AUTO.__enum__=Ga;var T=function(){s.call(this)};f["s2.scene.SceneControl"]=T;T.__name__=["s2","scene","SceneControl"];T._internal_goto=
function(a,b){T._prevScene=T._currScene;T._currScene=a;null==T._entity&&(T._entity=new h,T._entity.add(new wa),l.root.addChild(T._entity));null==T._entity._compMap.Script_16&&T._entity.add(new sa);T._entity._compMap.Script_16.stopAll();var c=/(.)([A-Z])/g,d=null;if(null!=T._prevScene)var d=P.getClassName(T._prevScene),e=d.lastIndexOf(".")+1,d=t.substr(d,e,null),d=d.replace(c,"$1_$2").toLowerCase();var f=P.getClassName(T._currScene),e=f.lastIndexOf(".")+1,f=t.substr(f,e,null),f=f.replace(c,"$1_$2").toLowerCase(),
c=function(){b&&T._entity._compMap.TimeUtil_15.timeout(function(){null!=d&&I.release(d);var a=new I([f],!0);T._entity.add(a)},2);U["goto"](T._currScene)};if(null==I.getCached(f)){e=U["goto"](rb,null,[O.bootstrapPack,[f]]);null==e._compMap.Disposer_18&&e.add(new N);var i=e._compMap.Scene_0;e._compMap.Disposer_18.connect1((i instanceof rb?i:null).success,c)}else c(null)};T["goto"]=function(a,b){null==b&&(b=Ga.AUTO);var c=!0;b==Ga.AUTO?c=!1:b==Ga.FALSE&&(c=!1);T._internal_goto(a,c)};T.__super__=s;T.prototype=
r(s.prototype,{get_name:function(){return"SceneControl_14"},__class__:T});var U=function(){};f["s2.scene.Scenes"]=U;U.__name__=["s2","scene","Scenes"];U.init=function(a,b,c){U.SceneOnLoad=b;U.director=new Ad;l.root.addChild((new h).add(U.director),!1);a=new rb(a,c);a.success.connect(U.preloadComplete).once();U.director.pushScene((new h).add(a))};U["goto"]=function(a,b,c){null==c&&(c=[]);null==b&&null!=U._DefaultTransition&&(b=P.createInstance(U._DefaultTransition,U._DefaultTransitionParams));for(var d=
P.getClassName(a),e=0,f=U.director.scenes;e<f.length;){var i=f[e];++e;for(var j=i.firstComponent;null!=j;){if(A.__instanceof(j,a)&&P.getClassName(null==j?null:A.getClass(j))==d)return U.director.unwindToScene(i,b),i;j=j.next}}a=P.createInstance(a,c);a=(new h).add(a);U.director.unwindToScene(a,b);return a};U.preloadComplete=function(){Oa.sendGameEvent("onLoadingEnd");if(null!=U.SceneOnLoad)U["goto"](U.SceneOnLoad);U.SceneOnLoad=null};U.defaultTransition=function(a,b){U._DefaultTransition=a;U._DefaultTransitionParams=
null!=b?b:[]};var le=function(){};f["s2.util.Layout"]=le;le.__name__=["s2","util","Layout"];le.bottom=function(a,b){null==b&&(b=0);var c=a._compMap.Sprite_1;if(null!=c){var d=i.getBounds(a);c.y.set__(y.getSafeArea().height-d.height-d.y-b)}return a};var fa=function(){};f["s2.util.Sniffer"]=fa;fa.__name__=["s2","util","Sniffer"];fa.test=function(a,b){null==b&&(b=!0);return b?0<=fa.get_userAgent().indexOf(a):0<=fa.get_userAgent().toLowerCase().indexOf(a.toLowerCase())};fa.get_userAgent=function(){null==
fa._userAgent&&(fa._userAgent=window.navigator.userAgent);return fa._userAgent};fa.get_mobile=function(){if(!fa._mobileTest){fa._mobileTest=!0;for(var a="Mini,Mobile,Phone,Tablet,Android,iOS".split(","),b=["ARM","BlackBerry","Palm","webOS"],c=0;c<a.length;){var d=a[c];++c;if(fa.test(d.toLowerCase(),!1)){fa._mobile=!0;break}}for(a=0;a<b.length;)if(c=b[a],++a,fa.test(c)){fa._mobile=!0;break}}return fa._mobile};var dc=function(){};f["s2.util.StringUtil"]=dc;dc.__name__=["s2","util","StringUtil"];dc.stringToBool=
function(a){if(null==a)return!1;switch(a.toLowerCase()){case "0":return!1;case "1":return!0;case "false":return!1;case "n":return!1;case "no":return!1;case "true":return!0;case "y":return!0;case "yes":return!0;default:return!1}};var wa=function(){this._curr=0;s.call(this);this._seqs=[]};f["s2.util.TimeUtil"]=wa;wa.__name__=["s2","util","TimeUtil"];wa.__super__=s;wa.prototype=r(s.prototype,{get_name:function(){return"TimeUtil_15"},timeout:function(a,b,c){this._curr++;var d=this.owner._compMap.Script_16;
null==d&&(d=new sa,this.owner.add(d));var e=new ka;e.add(new Ua(b));e.add(new ya(function(){a.apply(null,c)}));this._seqs[this._curr]=e;d.run(e);return this._curr},interval:function(a,b,c){this._curr++;var d=this.owner._compMap.Script_16;null==d&&(d=new sa,this.owner.add(d));var e=new ka,f=new ka;f.add(new Ua(b));f.add(new ya(function(){a.apply(null,c)}));b=new yb(f,-1);e.add(b);this._seqs[this._curr]=e;d.run(e);return this._curr},clear:function(a,b){null==b&&(b=!0);var c=this._seqs[a];if(null==c){if(b)throw new n("No timer or interval by id: "+
a);}else c.removeAll(),this._seqs[a]=null},clearAll:function(){for(var a=0,b=this._seqs.length;a<b;){var c=a++;null!=this._seqs[c]&&this.clear(c)}this._seqs=[]},dispose:function(){this.clearAll();s.prototype.dispose.call(this)},__class__:wa});var K=function(a){null==K._parts&&(K._parts="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","));this.url=a;this.query=new Q;var b=new hb("^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?://)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)",
"");b.match(a);for(var a=0,c=K._parts.length;a<c;){var d=a++,e=b.matched(d);if(null!=e)if("query"!=K._parts[d])this[K._parts[d]]=e;else for(var d=e.split("&"),e=0,f=d.length;e<f;){var h=e++,i=d[h].split("="),h=this.query,j=i[0],i=i[1];null!=v[j]?h.setReserved(j,i):h.h[j]=i}}};f["s2.util.URLParser"]=K;K.__name__=["s2","util","URLParser"];K.init=function(){null==K._parts&&(K._parts="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","));return K._parts};
K.parse=function(a){null==K._parts&&(K._parts="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","));return new K(a)};K.get_browser=function(){if(null!=K._browser)return K._browser;K._browser=K.parse(z.string(window.location));return K._browser};K.fromBrowser=function(){null==K._browser&&(K._browser=K.parse(z.string(window.location)));return K._browser};K.prototype={toString:function(){null==K._parts&&(K._parts="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","));
for(var a="For Url -> "+this.url+"\n",b=0,c=K._parts.length;b<c;)var d=b++,a=a+(K._parts[d]+": "+z.string(ga.field(this,K._parts[d]))+(d==K._parts.length-1?"":"\n"));return a},getQueryFloat:function(a,b){var c=this.query;return(null!=v[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.query,parseFloat(null!=v[a]?c.getReserved(a):c.h[a])):b},getQueryInt:function(a,b){var c=this.query;return(null!=v[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.query,z.parseInt(null!=v[a]?c.getReserved(a):
c.h[a])):b},getQueryString:function(a,b){var c=this.query;return(null!=v[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.query,null!=v[a]?c.getReserved(a):c.h[a]):b},getQueryBool:function(a,b){var c=this.query;return(null!=v[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.query,"true"==(null!=v[a]?c.getReserved(a):c.h[a]).toLowerCase()):b},__class__:K};var y=function(){};f["s2.util.Utils"]=y;y.__name__=["s2","util","Utils"];y.getSafeArea=function(a){null==a&&(a=!0);var b=new $a,c=y.get_aspectRatio(),
d=l._platform.getStage().get_width()/1366,e=l._platform.getStage().get_height()/768;d<e?(b.width=768*c,b.height=b.width/c):(b.height=1366/c,b.width=b.height*c);b.x=(1366-b.width)/2;b.y=(768-b.height)/2;a&&(b.x=Math.round(b.x),b.y=Math.round(b.y),b.width=Math.round(b.width),b.height=Math.round(b.height));return b};y.get_aspectRatio=function(){return l._platform.getStage().get_width()/l._platform.getStage().get_height()};y.breakUpArray=function(a,b){null==b&&(b=!1);if(b||null!=a)for(var c=0,d=a.length;c<
d;){var e=c++;a[e]=null}};y.mute=function(a){a!=y.muted._value&&(l.volume.set__(a?0:1),y.muted.set__(a))};var ca=function(a){null!=a&&this.setXml(a)};f["xmlTools.E4X"]=ca;ca.__name__=["xmlTools","E4X"];ca.getNew=function(a){var b;0<ca._pool.length?(b=ca._pool.pop(),b.setXml(a)):b=new ca(a);return b};ca.doRetNodes=function(a){var b=a.retNodes();ca._pool.push(a);return b};ca.doGetAttribs=function(a){var b=a.getAttribsStr();ca._pool.push(a);return b};ca.prototype={setXml:function(a){this._attributes=
new Ha;this._texts=new Ha;this._root=a;this._retState=Ca.Node;this._nodes=new Ha;null!=a&&a.nodeType==m.Document?this._nodes.add(a.firstElement()):null!=a&&this._nodes.add(a)},child:function(a){for(var b=new Rb(this._nodes.h),c,d=new Ha,e,f;b.hasNext();)if(e=b.next(),e.nodeType==m.Element){f=0;if(e.nodeType!=m.Document&&e.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+e.nodeType);for(c=t.iter(e.children);c.hasNext();)e=c.next(),null!=a?a(e,f)&&d.add(e):d.add(e),
++f}this._nodesStrValid=!1;this._nodes=d;this._retState=Ca.Node;return this},desc:function(a){var b=new Rb(this._nodes.h),c=new Ha,d,e=new Ha;if(b.hasNext())for(;;){d=b.next();null!=a?a(d)&&c.add(d):c.add(d);if(d.nodeType==m.Element){if(d.nodeType!=m.Document&&d.nodeType!=m.Element)throw new n("Bad node type, expected Element or Document but found "+d.nodeType);d=t.iter(d.children);d.hasNext()&&(b.hasNext()&&e.push(b),b=d)}if(!b.hasNext())if(0==e.length)break;else b=e.pop()}this._nodesStrValid=!1;
this._nodes=c;this._retState=Ca.Node;return this},a:function(a){for(var b=this._nodes.h,c,d,e=null,f=new Ha,h,i,j=new Ha;null!=b;)if(c=b.item,b=b.next,d=c,d.nodeType==m.Element){c=d.attributes();for(e=null;c.hasNext();)null==a?(null==e&&(e=new Q),h=c.next(),i=d.get(h),null!=v[h]?e.setReserved(h,i):e.h[h]=i,j.add(d)):(h=c.next(),i=d.get(h),a(h,i,d)&&(null==e&&(e=new Q),null!=v[h]?e.setReserved(h,i):e.h[h]=i,j.add(d)));null!=e&&f.add(e)}this._attrStrValid=!1;this._attributes=f;this._nodesStrValid=!1;
this._nodes=j;this._retState=Ca.Attribute;return this},retNodes:function(){return new Rb(this._nodes.h)},getAttribsStr:function(){if(!this._attrStrValid&&(this._attrStrValid=!0,this._attributesStr=null,this.hasAttribs()))for(var a=this._attributes.h,b=!0;null!=a;)for(var c=a.item,a=a.next,d=c.keys();d.hasNext();){var e=d.next();b?(this._attributesStr=null!=v[e]?c.getReserved(e):c.h[e],b=!1):this._attributesStr+=" "+(null!=v[e]?c.getReserved(e):c.h[e])}return this._attributesStr},hasAttribs:function(){return null!=
this._attributes?!this._attributes.isEmpty():!1},__class__:ca};var Ca=f["xmlTools.E4XReturnState"]={__ename__:["xmlTools","E4XReturnState"],__constructs__:["Node","Attribute","Text"]};Ca.Node=["Node",0];Ca.Node.toString=j;Ca.Node.__enum__=Ca;Ca.Attribute=["Attribute",1];Ca.Attribute.toString=j;Ca.Attribute.__enum__=Ca;Ca.Text=["Text",2];Ca.Text.toString=j;Ca.Text.__enum__=Ca;var Uc,ze=0;f.Math=Math;String.prototype.__class__=f.String=String;String.__name__=["String"];f.Array=Array;Array.__name__=
["Array"];Date.prototype.__class__=f.Date=Date;Date.__name__=["Date"];var Be=f.Int={__name__:["Int"]},Ae=f.Dynamic={__name__:["Dynamic"]},ye=f.Float=Number;ye.__name__=["Float"];var xe=f.Bool=Boolean;xe.__ename__=["Bool"];var ve=f.Class={__name__:["Class"]},we={};db._charLinkages=["BobNormal","TurtsNormal","BreadwinnersNormal","WinxNormal"];db._podiumPoints=[new J(354,280),new J(584,368),new J(812,410),new J(1040,528)];var v={},he=ke.ArrayBuffer||Ba;null==he.prototype.slice&&(he.prototype.slice=Ba.sliceImpl);
var te=ke.Float32Array||Db._new,re=ke.Uint8Array||Eb._new;m.Element=0;m.PCData=1;m.CData=2;m.Comment=3;m.DocType=4;m.ProcessingInstruction=5;m.Document=6;i._scratchPoint=new J;ab.NAME="Sprite_1";Ub.NAME="Sprite_1";Vb.NAME="Sprite_1";bb.NAME="Sprite_1";lb.NAME="Sprite_1";cb.NAME="Scene_0";cb._bonusFactor=50;cb._shredderPoints=100;cb._footPoints=50;cb._totalRings=80;cb._ringSpacing=0.8;zb.NAME="Scene_0";zb._gameDuration=60;zb._planktonPoints=100;zb._goalPoints=50;Ja.NAME="Scene_0";Ja.BEEN_SHOWN=!1;
db.NAME="Scene_0";L.NAME="Scene_0";L.NORMAL_SPEED=300;L.MAX_SPEED=1500;L.HURT_SPEED=50;L.RAMP_SPEED=250;L.MONSTER_SPEED=750;L.STAR_MAGIC_AMOUNT=0.1;L.STAR_SPEED_AMOUNT=50;L.GRAVITY_PER_SEC=9.8;L.MAX_FORCE=50;L.MAGIC_PER_SEC=0.1;L.MAGIC_BOOST_AMOUNT=-19.6;L.CLOUD_OFFSET=2E4;L.KIKO_HEIGHT=-2E3;L.JUMP_HEIGHT=200;L.MAX_JUMP_HEIGHT=350;L.RAMP_HEIGHT=15;L.ROTATION_SPEED=10;L.ROTATION_THRESHOLD=60;L.OBSTACLE_SPAWN=3;L.pHeroStart=new J(400,360);C.NAME="Scene_0";C.NORMAL_SPEED=500;C.HURT_SPEED=0;C.RAMP_SPEED=
1E3;C.MONSTER_SPEED=750;C.JUMP_HEIGHT=200;C.MONSTER_HEIGHT=400;C.RAMP_HEIGHT=300;C.ROTATION_SPEED=10;C.ROTATION_THRESHOLD=60;C.SWAY_OFFSET_X=-150;C.SWAY_OFFSET_Y=25;C.RAMP_OFFSET_X=150;C.FLIP_POINT_VALUE=100;C._bonusFactor=100;C.pHeroStart=new J(600,475);Sb.NAME="Scene_0";Ab.instance=new Ab;ma.DISPATCHING_SENTINEL=new Zb(null,null);l.root=new h;l.uncaughtError=new M;l.hidden=new ha(!1);l.volume=new x(1);l._platform=Ab.instance;l._calledInit=!1;ed.logger=new Jd(l._platform.createLogHandler("flambe"));
W.__meta__={obj:{assets:[{hub_scene:[{bytes:4304,md5:"ab70690f8dca668bded5aa629ba3de43",name:"bg.png"},{bytes:154,md5:"ebaffb72998cb55a51c145aa45d8dcbf",name:"blank_medal.png"},{bytes:14963,md5:"23b1a6ad357f46332fa900d151a34a0a",name:"foreground.png"},{bytes:307,md5:"d8b37e1e42f92b43cd92b65f98b640f0",name:"info_panel.png"},{bytes:159038,md5:"cc93a110a938232d29c515a63a0882de",name:"lib/atlas0.png"},{bytes:10838,md5:"ae078bf9d6a95d8635243915d19fc91d",name:"lib/atlas1.png"},{bytes:13503,md5:"71ffcd5d1f040dbaac12a6a863e5e19c",
name:"lib/library.json"},{bytes:339,md5:"31fa388d45a0d48a06bc1926910a7d65",name:"locked_sign.png"},{bytes:160,md5:"5689949ef2ed715dc7fa8f554a1fd28d",name:"node_light.png"},{bytes:339,md5:"a3978840d64907add244be8aafa40133",name:"path0.png"},{bytes:336,md5:"94aca53501ed55c43c3b8decfc8cfbd7",name:"path1.png"},{bytes:255,md5:"ce2797c27c9de8e5257fa7f9d8f6d0ea",name:"path2.png"},{bytes:292,md5:"27dbf48661b1e08b94c725c0b733f4de",name:"path3.png"},{bytes:297,md5:"5001d48659488816ceaa32c8e05e7a93",name:"selected.png"},
{bytes:369,md5:"d92840e3bcb9671af316c357b75d0fd3",name:"unlit.png"}],snowboard_game_scene:[{bytes:51459,md5:"2a9509e2d77c1c6323c10a552eb862f0",name:"bg.jpg"},{bytes:1991,md5:"f08a9709efb4b8c64025ac257435af40",name:"breadParticle.pex"},{bytes:291,md5:"1770e6b963ada6a13904a47ead76ee2a",name:"finish.png"},{bytes:224,md5:"cda49f5201bf2505695d00d6bf79791f",name:"flag.png"},{bytes:536,md5:"725ce60faa01f1c6bcf06cf39a022fe4",name:"hero_jump.png"},{bytes:487,md5:"dc63d78dcf28792104985e51c06c1f32",name:"hero_normal.png"},
{bytes:4320,md5:"dbe6acbde316066a538635c63d063201",name:"hillCap.png"},{bytes:9106,md5:"26b96e00c14c611a3e22ae3fa406b7c4",name:"hillCap2.png"},{bytes:5819,md5:"56b7dcd39a01c6afa752d81d538c10e8",name:"hillTile.png"},{bytes:58894,md5:"aaa36fe281f623c474bb087073d0bb05",name:"lib/atlas0.png"},{bytes:4395,md5:"5b3a62e735f92324148b7a319ec3efba",name:"lib/atlas1.png"},{bytes:2240,md5:"6f75fbb764add0efa0dcfabacd670b1a",name:"lib/atlas2.png"},{bytes:735,md5:"fab339a9d79abdd7626b8247006ba7cd",name:"lib/atlas3.png"},
{bytes:531,md5:"351ad8e852af153c39275a29b7c6c787",name:"lib/atlas4.png"},{bytes:16754,md5:"19cb979ce77048edb033ac16bcd2e0b8",name:"lib/library.json"},{bytes:26513,md5:"8cafda3b69bda6a72d22e7c211a8029b",name:"panel1.png"},{bytes:26377,md5:"2848b74090be1cd43bebc58725215364",name:"panel1_mobile.png"},{bytes:25045,md5:"ae62a8d7e3f2d2d6a565095ed17b83cb",name:"panel2.png"},{bytes:24848,md5:"9d2c08b5ebc3af5359e9daa674f02f62",name:"panel2_mobile.png"},{bytes:21170,md5:"fdb5cdf5598e6a89642a72007765647d",name:"panel3.png"},
{bytes:26349,md5:"fdd696e851738f76b96e69bc5f1cc2cf",name:"panel4.png"},{bytes:2503,md5:"3936a9211538781bc09a89decbf91833",name:"panel6.png"},{bytes:16050,md5:"dd14b98d6752ecf1ad9da0cc90a40002",name:"particleTexture.png"},{bytes:563,md5:"d9ce66ef0b5462d00e5b86e2486db025",name:"ramp.png"},{bytes:9613,md5:"e76016937afac2fbba63906de44c2a46",name:"sound/big_jump.mp3"},{bytes:13833,md5:"de17267fb0ff9b5ce427084a6e23fed2",name:"sound/big_jump.ogg"},{bytes:9613,md5:"5fe06ff3f077c79138f31f5b485d86c7",name:"sound/hit_object.mp3"},
{bytes:11981,md5:"9169059d6fe8c65e637046778a0721aa",name:"sound/hit_object.ogg"},{bytes:4179,md5:"d1950f54378e1610cc3137e4559cb605",name:"sound/normal_jump.mp3"},{bytes:7114,md5:"218389e37e3675c93022471429dd0c1a",name:"sound/normal_jump.ogg"},{bytes:491102,md5:"1f3a8edbc3b778c92dce0269099821fe",name:"sound/track.mp3"},{bytes:502201,md5:"097b1b0d663714de8de76ea41c3d0e06",name:"sound/track.ogg"},{bytes:19226,md5:"894452e2326e1859c81f6956474f979c",name:"sound/trick_powerup.mp3"},{bytes:22507,md5:"158e43c79b320c7ac441ab90be4eff28",
name:"sound/trick_powerup.ogg"},{bytes:474,md5:"2fc9d96c0e0d0b836bdb0e1be3d05114",name:"tree.png"},{bytes:49632,md5:"3c46438b7e68ebb0ec63db4e323e17f9",name:"trick_callout.png"}],medal_ceremony_scene:[{bytes:37431,md5:"93e13d6304e72a15db55b46e63d8eb54",name:"bg.png"},{bytes:39721,md5:"3e2f62150683850fe5b74898bad54cd7",name:"lib/atlas0.png"},{bytes:4142,md5:"f1d61240671887d759a47c26f8112613",name:"lib/library.json"}],bobsled_game_scene:[{bytes:58537,md5:"69684bd96d4596d000f2b43fa30deff0",name:"bg.png"},
{bytes:247,md5:"3c5f14345f4b725e04b57673962f2718",name:"boost.png"},{bytes:1309,md5:"c38dabb9cd799c38f8f58e53ec54e2a7",name:"edge_overlay.png"},{bytes:3084,md5:"823a87c4c62a55b800b799c1005c58ac",name:"finish_line.png"},{bytes:17441,md5:"5ffc57cc2c2c18236f70c5572c92ff68",name:"foot.png"},{bytes:676,md5:"6dc52e2a337098814ebe3db9ec11ee10",name:"ice_rock.png"},{bytes:37849,md5:"c7021b3cf62ffd779df724de64234efe",name:"lib/atlas0.png"},{bytes:39980,md5:"358c211ef3a1f2b173d7758de5462388",name:"lib/atlas1.png"},
{bytes:16469,md5:"f8a2c093a8c5112a1089000950c36b86",name:"lib/atlas2.png"},{bytes:9409,md5:"957003bc832b15187d2126b67e6bd385",name:"lib/atlas3.png"},{bytes:6549,md5:"a4fad0329f8de4c60b493e429c3eaa3f",name:"lib/library.json"},{bytes:27378,md5:"4c7ede2c48ee6b94ca615fb170dcf7af",name:"panel1.png"},{bytes:7832,md5:"3dbbdc5734dc687365b31f790a2adcd3",name:"panel2.png"},{bytes:14667,md5:"866b7c2de93ee9bc2982fe64dcde234c",name:"panel3.png"},{bytes:16108,md5:"7636f498aa75d4e0c427aa6bd3596995",name:"panel4.png"},
{bytes:4065,md5:"242df7cf26c219d3f97f0144203080e7",name:"panel5.png"},{bytes:311,md5:"e0c59b1bb3ad4911a42102ffd2c24669",name:"panel6.png"},{bytes:676,md5:"6dc52e2a337098814ebe3db9ec11ee10",name:"pipe.png"},{bytes:324,md5:"dfd98993838103d64129a3f8c6770c38",name:"pizza.png"},{bytes:15222,md5:"3b6c8e6ed7c43b46321720ccbaaa44e9",name:"pizza_arms.png"},{bytes:3077,md5:"dcabd758be65a2efa22943e872ef122a",name:"ring_flags.png"},{bytes:13672,md5:"b38f0163d3eabd440ca3f1bb57441496",name:"shredder.png"},{bytes:20280,
md5:"625b8d98355ad395b8f238a1a034660b",name:"sound/boost.mp3"},{bytes:95335,md5:"dfdef1191d3a4d167d1cc72d006601d3",name:"sound/boost.ogg"},{bytes:23150,md5:"64994d5941c91505408110ec911de2b8",name:"sound/ice_hit.mp3"},{bytes:24768,md5:"a326d68e3a70806d665660fda834c141",name:"sound/ice_hit.ogg"},{bytes:60179,md5:"0f8e36e53db4de01b988ce856b91e1c5",name:"sound/pizza_hit.mp3"},{bytes:138760,md5:"87d07eb9e8f9319b8e65312f3f0da1e8",name:"sound/pizza_hit.ogg"},{bytes:23857,md5:"29715cd0dbb8f35df2d12c8073e9eb27",
name:"sound/snowman_hit.mp3"},{bytes:33614,md5:"949444029fb2c24d624fb2df3e6642ec",name:"sound/snowman_hit.ogg"},{bytes:391790,md5:"9c40c97a2beec6d85b1ccf97ff67b72a",name:"sound/track.mp3"},{bytes:977517,md5:"88cd6d0595f458f6b99b7441c3ace86f",name:"sound/track.ogg"}],instruction_scene:[{bytes:248840,md5:"041f3461868834c8ebdb3021372e8abc",name:"bg.jpg"},{bytes:17457,md5:"faa16184165214130765993a580c3377",name:"instruction_graphic.png"}],global:[{bytes:267,md5:"bb5b84999ebc2f83233c918ed4648f5f",name:"close_btn/down.png"},
{bytes:267,md5:"e321a79792ab46f68cabc6650cbe943d",name:"close_btn/out.png"},{bytes:374,md5:"2d1d65e8485ba39b5b5047c64f14baaa",name:"close_btn/over.png"},{bytes:15444,md5:"bbc6cf68b6aa594a97f86c6acf766e3a",name:"contestant_flags/0.png"},{bytes:15442,md5:"4afc657f6e398fc177191f457ff6e6b9",name:"contestant_flags/1.png"},{bytes:15421,md5:"23686acf173520358bd4f36f74fea441",name:"contestant_flags/2.png"},{bytes:15448,md5:"3990e87988154ce064bf3a382382312c",name:"contestant_flags/3.png"},{bytes:421,md5:"8600f80e0321573c50f35bbb14ed7c79",
name:"distance_progress/backing.png"},{bytes:150,md5:"61a71bc5f4e97a5de28430fa12436e55",name:"distance_progress/bar.png"},{bytes:197,md5:"bd8c515dccfb61a9717236e4e973016b",name:"enter_code_btn/down.png"},{bytes:197,md5:"bd8c515dccfb61a9717236e4e973016b",name:"enter_code_btn/out.png"},{bytes:318,md5:"34b58e79c07c870dbc73b7716d468d9c",name:"enter_code_btn/over.png"},{bytes:319,md5:"0dfcf727003bd170bfec120cd0ee1324",name:"enterCode/cheatUnlockBg.png"},{bytes:267,md5:"1391b6d060084ba9d0cab651590ef723",
name:"enterCode/close.png"},{bytes:1893,md5:"0ae3a05ee128bac7478fe5a35d94db93",name:"enterCode/controller.png"},{bytes:133,md5:"4f75ccc7cb20c332b02ef00ddd2fd1c6",name:"hud/indicator_backing.png"},{bytes:181,md5:"269d8f303f2cf4e9464326ba527b27a9",name:"hud/score_time.png"},{bytes:117885,md5:"682e312ed30e1fb401f574e5d64c833f",name:"instructions_scene/bg.png"},{bytes:5500,md5:"a38b5e784f20507d84441215e56ba28d",name:"instructions_scene/closeBtn.png"},{bytes:552,md5:"0f3469de5110793f1fc6ec681b0302f8",
name:"large_medals/bronze.png"},{bytes:532,md5:"6060a24063eb997849cd7bb7021afe7f",name:"large_medals/gold.png"},{bytes:165,md5:"585ca45141b54b6f02d7227cbcbbeca7",name:"large_medals/ribbon.png"},{bytes:536,md5:"2693ae015905d4794c5f77f00f328045",name:"large_medals/silver.png"},{bytes:283,md5:"0bda2499bb58d0872a802d53ee1343d6",name:"leaderboard/panel.png"},{bytes:206,md5:"47cbf802702f720c0b84d37e43a1d9f7",name:"leaderboard/panel_you.png"},{bytes:2211,md5:"542d85dd7c8dc7f5f21767c2fc3ccfb0",name:"lib/atlas0.png"},
{bytes:16967,md5:"fd26d93567098181de082011292840a7",name:"lib/library.json"},{bytes:188,md5:"57b9f2e5b1e32d46083defcc493ff44b",name:"mute_sound_btn/down.png"},{bytes:158,md5:"7b1787e5d888cdb35ea4b421cf011feb",name:"mute_sound_btn/icon_sound_off.png"},{bytes:152,md5:"f1da763e0e2440e07cb35e6eab509bcc",name:"mute_sound_btn/icon_sound_on.png"},{bytes:188,md5:"7f9742d93765ec22bf1fa122e9c70029",name:"mute_sound_btn/out.png"},{bytes:300,md5:"6f5d2219f4716f03914db0b3aebb012a",name:"mute_sound_btn/over.png"},
{bytes:197,md5:"f1b2a60f75b2b0a412c8b37118e208e9",name:"pause_btn/down.png"},{bytes:197,md5:"bd8c515dccfb61a9717236e4e973016b",name:"pause_btn/out.png"},{bytes:318,md5:"7eace8dd2b5a9dbd809f47c3276bc4ac",name:"pause_btn/over.png"},{bytes:1177,md5:"293a9c2cfedec86d6caf1e9303f710df",name:"pause_screen/btns/down.png"},{bytes:289,md5:"d7597feee13ab46dcf758088f590d379",name:"pause_screen/btns/icon_close.png"},{bytes:291,md5:"ec25731933a766efde7bf030dc82f092",name:"pause_screen/btns/icon_help.png"},{bytes:286,
md5:"8e660e587002cc82db515ebdaca0abcd",name:"pause_screen/btns/icon_play.png"},{bytes:299,md5:"b0c02a7c21231d6add9abecea3944fd0",name:"pause_screen/btns/icon_sound_off.png"},{bytes:349,md5:"60957dfdb8781b4e67f31ac5299ea99e",name:"pause_screen/btns/icon_sound_on.png"},{bytes:5360,md5:"e016839a64de1b0d950538864eb06349",name:"pause_screen/btns/out.png"},{bytes:4534,md5:"623867585a2692736fa6b38a26c9f590",name:"pause_screen/btns/over.png"},{bytes:72372,md5:"666ca098aa89ffd05c04c48c0feed771",name:"pause_screen/ice_panel.png"},
{bytes:72372,md5:"666ca098aa89ffd05c04c48c0feed771",name:"prompt/ice.png"},{bytes:2223,md5:"c8e0714a23a54b5ce1921fa61ab08d3f",name:"results_screen/confetti.png"},{bytes:42627,md5:"081fcbfcd87aa27f4812d52b06f0fe0a",name:"results_screen/ice_panel.png"},{bytes:189,md5:"1820a5fe517c31dd62d3ad3787a7572b",name:"small_medals/bronze.png"},{bytes:189,md5:"5ebfa12d1e309dfd4d8b7f6d9a5c5753",name:"small_medals/gold.png"},{bytes:170,md5:"2ad58d68e1b58269a5d6bae0e4846add",name:"small_medals/none.png"},{bytes:189,
md5:"62510535af0db95be0eebd2e851fe8c5",name:"small_medals/silver.png"},{bytes:5307,md5:"c9b298b6e561a82d0e960f36edb6bc00",name:"sound/button_click.mp3"},{bytes:21670,md5:"6d3ca3bde6451a6309c28b11d3c72376",name:"sound/button_click.ogg"},{bytes:14485,md5:"6ccd0536ab77d759a0d89e01a80e8e00",name:"sound/code_unlock.mp3"},{bytes:51483,md5:"2ede3039770ab691c34e56b5dbc77669",name:"sound/code_unlock.ogg"},{bytes:74940,md5:"954b238cc7b524d61c49ca1b3a574239",name:"sound/crowd.mp3"},{bytes:125446,md5:"e1376d496945b0e2344cd04276796ca5",
name:"sound/crowd.ogg"},{bytes:5646,md5:"4936f8548284e4d6bf129fe27aff6ee6",name:"sound/level_selected.mp3"},{bytes:19540,md5:"88d9b3a8530e2eb61d4e14f2960858ed",name:"sound/level_selected.ogg"},{bytes:50651,md5:"19bb98f5329483bfd178704ce01fdea1",name:"sound/timeUp.mp3"},{bytes:98108,md5:"4e7cd5a5e7c68982bd20a68652f9e126",name:"sound/timeUp.ogg"},{bytes:582575,md5:"1949a9193515e2d5fc267313373313ad",name:"sound/titleTrack.mp3"},{bytes:1193279,md5:"a248b84aeb36f5ad5d12d5462c67a00d",name:"sound/titleTrack.ogg"},
{bytes:99132,md5:"72a93f388727b5da9882a6dc3d99634e",name:"sound/winMedal.mp3"},{bytes:115163,md5:"e70abbc48413518465f13d8933f9cd3b",name:"sound/winMedal.ogg"},{bytes:264,md5:"bed7beef22c14f5e53e95491a84f6265",name:"ui/blue_btn_down.png"},{bytes:264,md5:"bed7beef22c14f5e53e95491a84f6265",name:"ui/blue_btn_out.png"},{bytes:358,md5:"5d0d8f4c5cc8f879f8f9788739ac3536",name:"ui/blue_btn_over.png"},{bytes:385,md5:"00c985c8b237b26999c1d494c25c4e8c",name:"ui/enter_code_down.png"},{bytes:385,md5:"00c985c8b237b26999c1d494c25c4e8c",
name:"ui/enter_code_out.png"},{bytes:478,md5:"4b8c76a1c6fccd962a54a947aee97942",name:"ui/enter_code_over.png"},{bytes:211,md5:"39ef36e3cb75a0ba1b378550608377cd",name:"ui/stub_btn_down.png"},{bytes:211,md5:"6a9a49c8302cfecb56e4d4bde8c6f09a",name:"ui/stub_btn_out.png"},{bytes:333,md5:"d24db9ff167f843660abcf476f9a8b9c",name:"ui/stub_btn_over.png"}],ski_jump_game_scene:[{bytes:47309,md5:"ca23e44d4a264ecc8c4a2e19dece6123",name:"bg.jpg"},{bytes:828,md5:"be103a0be91425f730642dbd0a1328ba",name:"cloudTile.png"},
{bytes:7265,md5:"f178c865766c58ae6ddd0ed8f3717d03",name:"flag.png"},{bytes:4250,md5:"b27e4c7fe335df4913f20cb8d67e5e79",name:"fogTile.png"},{bytes:4320,md5:"dbe6acbde316066a538635c63d063201",name:"hillCap.png"},{bytes:3890,md5:"b24307bb7379b11ad93eeb6b8c10c7ae",name:"hillTile.png"},{bytes:25513,md5:"a194ec8431fe2b0310b3ebd2f7e37b68",name:"lib/atlas0.png"},{bytes:14431,md5:"8a97b50e8af5d73afc22de2bfb41c5ee",name:"lib/atlas1.png"},{bytes:1075,md5:"e1e9a8a9be647d9f34bd41a020bfa30e",name:"lib/atlas2.png"},
{bytes:9768,md5:"a8dac3804d6ffe328dca7280774de54c",name:"lib/library.json"},{bytes:968,md5:"537bf4e67687905b5e6b925c821db7a9",name:"panel1.png"},{bytes:1555,md5:"ea7b68e5c071b4ae56c747b2ddf16f3c",name:"panel2.png"},{bytes:1732,md5:"adc057e02b342c69f8ea033192d05fac",name:"panel2_mobile.png"},{bytes:8953,md5:"e9b772e0d162e1ad6ec05dae1c071cb5",name:"panel3.png"},{bytes:1443,md5:"0332fe5295962ee55cf6484fcd8b319d",name:"particle.pex"},{bytes:563,md5:"d9ce66ef0b5462d00e5b86e2486db025",name:"ramp.png"},
{bytes:28487,md5:"05e2cbae49c6b4e7742f5e4191ef33ce",name:"sound/Big_Jump1.mp3"},{bytes:29159,md5:"d6ee7e2d7203763b038d61530c7ff8fc",name:"sound/Big_Jump1.ogg"},{bytes:20023,md5:"56b7e61912e40f561db7ed53b94e745e",name:"sound/Fly.mp3"},{bytes:20847,md5:"032e16ae47701b0d8bd93335595a8a7e",name:"sound/Fly.ogg"},{bytes:16238,md5:"f939ccf4b393e635045777bccc8dc692",name:"sound/Hit_Obstacle.mp3"},{bytes:18712,md5:"bdeeb902c025f408d6787af5177a7769",name:"sound/Hit_Obstacle.ogg"},{bytes:23726,md5:"f950c65ae25e040931b35d2ec61581c3",
name:"sound/Land.mp3"},{bytes:24896,md5:"beefb29288baefef15cae68c86185d63",name:"sound/Land.ogg"},{bytes:28526,md5:"b4b7f097080a14f6977350d5a7f3cddf",name:"sound/PickUp.mp3"},{bytes:17892,md5:"21ba28255d0dccdf1399642cebea1579",name:"sound/PickUp.ogg"},{bytes:623726,md5:"f3af2adce5414fa750c736af02bbf2ef",name:"sound/WinxMusic.mp3"},{bytes:479890,md5:"35d10c8dc864a6a6f8e2d6b1efc14120",name:"sound/WinxMusic.ogg"},{bytes:4974,md5:"58397fedf3a383659bd8a6f9f1ca3442",name:"star.png"},{bytes:647,md5:"8088c700a50f0b594e877be6da7bdcd2",
name:"starPath.png"},{bytes:565,md5:"3711b848e3874832e5a29954a057f217",name:"texture.png"},{bytes:2256,md5:"5aea254f5dca142c967af48e5cb72a49",name:"tree.png"}],fonts:[{bytes:29799,md5:"804a4c937c2516487eb00db0e4d9928d",name:"cyrillic_diphtong_pixel_28_white.fnt"},{bytes:12364,md5:"5d0ffcb1333fbd9fa1fbc68c50adc385",name:"cyrillic_diphtong_pixel_28_white.png"},{bytes:46436,md5:"7090c833b9be72233c4c82be153390ab",name:"cyrillic_zerbydoo_42_white_stroke.fnt"},{bytes:42952,md5:"9049e631260aefb6e9d57b7ac3ff2e6e",
name:"cyrillic_zerbydoo_42_white_stroke.png"},{bytes:46305,md5:"2b1f9ad72361b5a71bde7df762d8d051",name:"cyrillic_zerbydoo_54_orange.fnt"},{bytes:23473,md5:"b7a597f9bbb395987d2c34747f6019a5",name:"cyrillic_zerbydoo_54_orange.png"},{bytes:30532,md5:"db7c9bb95c946a4b07631151786d7bc8",name:"diphtong_pixel_28_white.fnt"},{bytes:5111,md5:"00a0e222d0f2a51aca4eda5eb49cf7d2",name:"diphtong_pixel_28_white.png"},{bytes:31158,md5:"0b163cd8b6b4e3665e00411976c5cc93",name:"play_28_white.fnt"},{bytes:17297,md5:"08039afd47549dcb0c6894462587aa64",
name:"play_28_white.png"},{bytes:31166,md5:"8d5131d12c2062fb558dfea82fc43a42",name:"play_42_white_stroke.fnt"},{bytes:49409,md5:"bb32ad90d4ba0a2725b61d0e9943071c",name:"play_42_white_stroke.png"},{bytes:31160,md5:"42bef6951ff998dbfbb160a4a54bb1ee",name:"play_54_orange.fnt"},{bytes:36785,md5:"ee494c4eeae61a2bd3ea5fb2d7136663",name:"play_54_orange.png"},{bytes:47887,md5:"f0cdf9c826d51c670e937312ca4bad09",name:"zerbydoo_42_white_stroke.fnt"},{bytes:21888,md5:"2f2d33922d5fd9b11c30c10c6c6e2702",name:"zerbydoo_42_white_stroke.png"},
{bytes:44843,md5:"80b7f327d94e887614ce8309be83dd84",name:"zerbydoo_54_orange.fnt"},{bytes:14522,md5:"13969c972827ed8e41c0f46d2732f2f1",name:"zerbydoo_54_orange.png"}],bootstrap:[{bytes:288,md5:"5b2de37068d39d45771e6ce7cf247958",name:"empty.mp3"},{bytes:4435,md5:"db402228bb9a528056a8ab34e4433e25",name:"empty.ogg"},{bytes:194,md5:"2d827b2f28b1ec01efb638edfb383f84",name:"loader/fill.png"},{bytes:775,md5:"f04d0d431a3bac936a9e0f83e32098b0",name:"loader/globe.png"},{bytes:3158,md5:"06c6b82ff5aa233a1819a754a155038c",
name:"loader/loading.jpg"},{bytes:880,md5:"06ce99f39e6c793767ec4b696831d485",name:"loader/plankton.png"},{bytes:143,md5:"0f95023ca862c1a150a832deeab21ed0",name:"loader_bar/progress.png"},{bytes:149,md5:"2482e4702783e5184ebca767eda77b60",name:"loader_bar/total.png"},{bytes:6597,md5:"3586306863563ba726a26e90c25e88af",name:"orientation_ipad.png"},{bytes:7909,md5:"d937b5f1a9cc9b7a82334f8dca1a390d",name:"orientation_iphone.png"},{bytes:3981,md5:"197629aa38fbdd89ca073c170c7ddb63",name:"rotate_msg.png"},
{bytes:510,md5:"61c41196a09124b9079abb19dc03e321",name:"transition/atlas0.png"},{bytes:534,md5:"ed2eacf722c940044683d80b4fce194a",name:"transition/library.json"},{bytes:2E3,md5:"b2259debf6b3cb5ab0c8b405025578e0",name:"winter_sports.xml"}],hockey_game_scene:[{bytes:74529,md5:"7b64cfb61f81c1f5db45503ba782d140",name:"bg.png"},{bytes:551,md5:"c9f67e108b872937a5f77a049b044a00",name:"goal.png"},{bytes:13275,md5:"71e6ad3e8d4cea85d8842d79674c653d",name:"lib/atlas0.png"},{bytes:27770,md5:"031ace2fe2e2978d7f5d52e7900fa0dd",
name:"lib/atlas1.png"},{bytes:3206,md5:"4760de3e641f3a7068ca8b0ab232b086",name:"lib/library.json"},{bytes:6048,md5:"b9fa56d500225fce7597c9654899bf39",name:"panel1.png"},{bytes:1897,md5:"fa243c373bc72bab0dd2f5ad04dd1168",name:"panel2.png"},{bytes:883,md5:"18ac912f19ae13ab788619e888cfc4b8",name:"panel3.png"},{bytes:778,md5:"7d06c416bd0767a6277de343edc3d602",name:"patrick.png"},{bytes:299,md5:"8e31440a1defd9d0d006c8cfdbc147be",name:"plankton0.png"},{bytes:355,md5:"26d99ed45c5df0fe2dc0ac2cf2b0bf6d",name:"plankton1.png"},
{bytes:411,md5:"39208f86c0c0cebcaa8fcc4302988265",name:"plankton2.png"},{bytes:164,md5:"fe9abccc0c1459e48ccab65c1a550826",name:"puck.png"},{bytes:1038,md5:"90592ffae39a238715c0858cbab8ff14",name:"shot_path_indicator.png"},{bytes:53255,md5:"4cdd56f8216ea4fe79a004041e94e288",name:"sound/bonusHit.mp3"},{bytes:95052,md5:"6c27dae388a47ab015ce9e6f7dd77557",name:"sound/bonusHit.ogg"},{bytes:29678,md5:"fd29c5cd1526ceba90170e400bc8aca3",name:"sound/goal.mp3"},{bytes:27726,md5:"5505ed9342d0f60ad4d5c9a347ddf450",
name:"sound/goal.ogg"},{bytes:27821,md5:"f93ef64fc0eda133437d4bcb42e22102",name:"sound/goalieBlock.mp3"},{bytes:28741,md5:"66289c88d9814225e680d69b3f110ce7",name:"sound/goalieBlock.ogg"},{bytes:18871,md5:"2d97a82fb7aec5f3b43e175c0b3dde1b",name:"sound/hitPole.mp3"},{bytes:14343,md5:"424f590ad2373a7d809d02fb5fe30bf3",name:"sound/hitPole.ogg"},{bytes:35219,md5:"0dcd5d653a99d076242c45b01c3e6bfb",name:"sound/missHit.mp3"},{bytes:30236,md5:"9b090563d356b4df5a4b8de719c57133",name:"sound/missHit.ogg"},{bytes:32825,
md5:"b132d9c5efa7ba5e58dbe81bfe450f99",name:"sound/shot.mp3"},{bytes:38170,md5:"36e4dc8d9bbbb0f2da793dc12b9e6883",name:"sound/shot.ogg"},{bytes:1074102,md5:"5824c14b08fd0cd2a01fee7118b5259a",name:"sound/track.mp3"},{bytes:2262526,md5:"0ad671db752afc74957bc2ae1a4ad72e",name:"sound/track.ogg"},{bytes:1686,md5:"efdb196b4ad024d88f248a8488429b74",name:"sponge_bob.png"},{bytes:730,md5:"840c93fb922cb956a6626f484abb60a3",name:"target.png"},{bytes:730,md5:"8574d8dce17f730208d2bd8c52ffa38b",name:"target_orange.png"}],
title_scene:[{bytes:422140,md5:"3edf2721e9c6fcf71010878678c3f2bf",name:"bg.png"},{bytes:367,md5:"85e64639ebcccad2a85a00918e83f6a8",name:"flags/0_down.png"},{bytes:367,md5:"85e64639ebcccad2a85a00918e83f6a8",name:"flags/0_out.png"},{bytes:422,md5:"40d34d7fa7cb669bac7bbf883730eaf8",name:"flags/0_over.png"},{bytes:15103,md5:"64920817cd6244397b7555a9efbca72b",name:"flags/1_down.png"},{bytes:15103,md5:"64920817cd6244397b7555a9efbca72b",name:"flags/1_out.png"},{bytes:15558,md5:"bca465bc919af6ea33280cb49c4f17e9",
name:"flags/1_over.png"},{bytes:15076,md5:"1e55152bd4cdf3c51a1f0e3011801e2a",name:"flags/2_down.png"},{bytes:15076,md5:"1e55152bd4cdf3c51a1f0e3011801e2a",name:"flags/2_out.png"},{bytes:15534,md5:"2c58828d670ce528e16c589df636e832",name:"flags/2_over.png"},{bytes:15121,md5:"c15e3e470002a89d0ae77cc7499e2959",name:"flags/3_down.png"},{bytes:15121,md5:"c15e3e470002a89d0ae77cc7499e2959",name:"flags/3_out.png"},{bytes:15578,md5:"1908063ad8fd0a4f927d336201723bfe",name:"flags/3_over.png"},{bytes:602,md5:"c7521f55936ea367b9b59de5982eaeb3",
name:"logo.png"},{bytes:51798,md5:"c45d7dc6bb7eaa1f822cce3b43bdac8f",name:"menuBg.png"},{bytes:42970,md5:"b6ff8993c847e0a12bb2a640b0d3380b",name:"titleBg.png"}]}]}};W._supportsCrossOrigin=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;$b.NEWLINE=new id(10);Va._sharedEvent=new Od;za._sharedEvent=new Pd;ta._sharedEvent=new Qd;Yb.CANVAS_TEXTURES=(new hb("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);R._mediaRefCount=0;R._detectBlobSupport=
!0;D.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];D.SHOULD_HIDE_MOBILE_BROWSER=window.top==window?(new hb("Mobile(/.*)? Safari","")).match(window.navigator.userAgent):!1;S._detectSupport=!0;Wa._scratchMatrix=new Pa;Z.NAME="Sprite_1";Z.PAUSED=256;Z.SKIP_NEXT=512;Z.NEXT_FLAG=1024;Na.BASE_URL="";Ea.USE_CACHE=!1;Ea.USE_ENUM_INDEX=!1;Ea.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";xa.DEFAULT_RESOLVER=new Ed;xa.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
gb.count=0;sb.escapes=function(){var a=new Q;null!=v.lt?a.setReserved("lt","<"):a.h.lt="<";null!=v.gt?a.setReserved("gt",">"):a.h.gt=">";null!=v.amp?a.setReserved("amp","&"):a.h.amp="&";null!=v.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=v.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);A.__toStr={}.toString;Db.BYTES_PER_ELEMENT=4;Eb.BYTES_PER_ELEMENT=1;X.inited=!1;o.loading=!0;rb.NAME="Scene_0";rb.Y_BASE=420;rb.Y_RANGE=244;fa._mobile=!1;fa._mobileTest=!1;y.muted=new ha(!1);ca._pool=
[];O.main()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
