/* Created by Olphabet */
var TProject;!function(a){var b=function(){function b(c,d,e,f,g,h){var i=this;this.mRotation=0,this.mParent=null,this.movieClip=null,this.mGpxMounted=null,this.mMount=!1,this.mzLinkPoints=null,this.mTime=0,this.mTime_Rot=0,this.mDeleted=!1,this.mPause=!1,this._movieClipTest=null,this.game=c,this._charName=d;var j="",k="";switch(this._charName){case"mc_boss_01":j="mc_boss_01_a1",k="mc_boss_01_a1/INTRO/mc_10001";break;case"mc_shoot_enemy":j="mc_boss_01_a2",k="mc_boss_01_a2/SHOOT_1/mc_10001";break;default:console.log("ДОБАВЬ ВСЮ ХУЙНЮ ДЛЯ "+this._charName)}this.movieClip=this.game.make.sprite(g,h),this.movieClip.anchor.set(.5),this._movieClipTest=this.game.make.sprite(g,h,j,k),this._movieClipTest.anchor.set(.5),this.movieClip.addChild(this._movieClipTest),this._bossAnimationOffcet=new Phaser.Point(0,0),this.setVelocity(0,0),this.setWorldLimit(b.DEF_WORLD_LIMIT_UP,b.DEF_WORLD_LIMIT_DOWN,b.DEF_WORLD_LIMIT_LEFT,b.DEF_WORLD_LIMIT_RIGHT),this.mResponseMode=b.RESPONSE_MODE_KILL,this.mState=a.GameConfig.ST_BEGIN,"mc_shoot_enemy"==this._charName?this.createShootPoly():"mc_boss_01"==this._charName&&this.createBoss1Poly(),a.BaseGame.GAME_LAYER.addChild(this.movieClip),setTimeout(function(){i._testG=i.game.add.graphics(0,0)},50)}return b.prototype.createBoss1Poly=function(){this._bodyPoly=[],this._bodyPoly.push(new a.MPolygon([0,0,44.85,0,44.85,73.1,0,73.1])),this._headPoly=[],this._headPoly.push(new a.MPolygon([0,8,43.5,8,43.5,0,0,0])),this._absorbsPoly=[],this._absorbsPoly.push(new a.MPolygon([0,81.3,50,81.3,50,0,0,0])),this._bodyPolyOffcet=new Phaser.Point(0,0),this._headPolyOffcet=new Phaser.Point(0,0),this._absorbsPolyOffcet=new Phaser.Point(0,0)},b.prototype.createShootPoly=function(){this._shootPoly=[];this._shootPoly.push(new a.MPolygon([-this._movieClipTest.width/2.13*.2+0,this._movieClipTest.height/1.11*1.4-10,this._movieClipTest.width/1.89*.2+0,this._movieClipTest.height/1.11*1.4-10,this._movieClipTest.width/1.89*.2+0,-this._movieClipTest.height/10*1.4-10,-this._movieClipTest.width/2.13*.2+0,-this._movieClipTest.height/10*1.4-10]))},b.prototype.changeAnimation=function(b,c){var d=this;void 0===c&&(c=!0);var e=null;switch(b){case"INTRO":this._bossAnimationOffcet.set(59.45,18.1),this._movieClipTest.loadTexture("mc_boss_01_a1"),this._movieClipTest.animations.add("INTRO",Phaser.Animation.generateFrameNames("mc_boss_01_a1/INTRO/mc_1",1,106,"",4)),this._movieClipTest.anchor.set(.61,.63),e=function(){a.GameConfig.BOSS.onAnimationEnd()};break;case"TRANS":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(18.8,0),this._bossAnimationOffcet.set(43.7,42.7),this._movieClipTest.loadTexture("mc_boss_01_a1"),this._movieClipTest.animations.add("TRANS",Phaser.Animation.generateFrameNames("mc_boss_01_a1/TRANS/mc_1",1,54,"",4)),this._movieClipTest.anchor.set(.67,.8),e=function(){a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("TRANS")};break;case"DIE3":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(18.8,0),this._bossAnimationOffcet.set(38.45,41.15),this._movieClipTest.loadTexture("mc_boss_01_a1"),this._movieClipTest.animations.add("DIE3",Phaser.Animation.generateFrameNames("mc_boss_01_a1/DIE3/mc_1",1,40,"",4)),this._movieClipTest.anchor.set(.52,.35),e=function(){a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("DIE3")};break;case"DIE":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(18.8,0),this._bossAnimationOffcet.set(45.45,54.25),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_boss_01_a2/DIE/mc_1",1,69,"",4)),this._movieClipTest.anchor.set(.61,.6),e=function(){a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("DIE")};break;case"HIT":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(14.8,2),this._bossAnimationOffcet.set(58.2,40.85),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_boss_01_a2/HIT/mc_1",1,28,"",4)),this._movieClipTest.anchor.set(.59,.44),e=function(){a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("HIT")};break;case"HOPE":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(18.8,0),this._bossAnimationOffcet.set(45.6,54.9),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("HOPE",Phaser.Animation.generateFrameNames("mc_boss_01_a2/HOPE/mc_1",1,30,"",4)),this._movieClipTest.anchor.set(.49,.53),e=function(){a.clsFla.endAnimationBossHope(),d._movieClipTest.animations.stop("HOPE")};break;case"LEFT":this._bodyPolyOffcet=new Phaser.Point(18.75,8.25),this._headPolyOffcet=new Phaser.Point(19.7,0),this._absorbsPolyOffcet=new Phaser.Point(-999,-999),this._bossAnimationOffcet.set(41.55,53.15),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("LEFT",Phaser.Animation.generateFrameNames("mc_boss_01_a2/LEFT/mc_1",1,20,"",4)),this._movieClipTest.anchor.set(.46,.53),e=function(){};break;case"RIGHT":this._bodyPolyOffcet=new Phaser.Point(18.75,8.25),this._headPolyOffcet=new Phaser.Point(19.7,0),this._absorbsPolyOffcet=new Phaser.Point(-999,-999),this._bossAnimationOffcet.set(41.9,53.15),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("RIGHT",Phaser.Animation.generateFrameNames("mc_boss_01_a2/RIGHT/mc_1",1,20,"",4)),this._movieClipTest.anchor.set(.54,.53),e=function(){};break;case"SHOOT":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(14.8,2),this._bossAnimationOffcet.set(63.2,45.85),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("SHOOT",Phaser.Animation.generateFrameNames("mc_boss_01_a2/SHOOT/mc_1",1,37,"",4)),this._movieClipTest.anchor.set(.63,.39),e=function(){console.log("SHOOTEND"),a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("SHOOT")};break;case"STAND":this._bodyPolyOffcet=new Phaser.Point(18.75,8.25),this._headPolyOffcet=new Phaser.Point(19.7,0),this._absorbsPolyOffcet=new Phaser.Point(-999,-999),this._bossAnimationOffcet.set(41.2,48.05),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_boss_01_a2/STAND/mc_1",1,55,"",4)),this._movieClipTest.anchor.set(.5),e=function(){};break;case"SHOOT_1":this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("SHOOT_1",Phaser.Animation.generateFrameNames("mc_boss_01_a2/SHOOT_1/mc_1",1,3,"",4)),this._movieClipTest.anchor.set(.73,.5),e=function(){};break;default:console.log("Не могу найти анимацию: "+b)}"SHOOT"==b?(this._movieClipTest.animations.getAnimation("SHOOT").enableUpdate=!0,this._movieClipTest.animations.getAnimation("SHOOT").onUpdate.add(function(b,c){198==c.index&&a.GameConfig.BOSS.shoot()}),this._movieClipTest.animations.play(b,60,!1).onComplete.add(function(){e()})):null!=e?(console.log("запускаем анимацию "+b),this._movieClipTest.animations.play(b,60,c).onComplete.add(function(){e()})):this._movieClipTest.animations.play(b,60,c),this._movieClipTest.position=this._bossAnimationOffcet},Object.defineProperty(b.prototype,"poly",{get:function(){return this._shootPoly},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"headP",{get:function(){return this._headPoly},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bodyP",{get:function(){return this._bodyPoly},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"absorbsP",{get:function(){return this._absorbsPoly},enumerable:!0,configurable:!0}),b.prototype.setVelocity=function(b,c){this.mVelX=b,this.mVelY=c,this.mTime=a.GameConfig.TIMER},b.prototype.setRotation=function(b,c){c?(this.mRotation=b,this.mTime_Rot=a.GameConfig.TIMER):this.movieClip.angle=b},b.prototype.setWorldLimit=function(a,b,c,d){this.mWorldLimitUp=a,this.mWorldLimitDown=b,this.mWorldLimitLeft=c,this.mWorldLimitRight=d},b.prototype.setResponseMode=function(a){this.mResponseMode=a},b.prototype.mount=function(a,b,c){this.mMount||(this.mGpxMounted=a,this.mMount_x=b,this.mMount_y=c,this.mMount=!0)},b.prototype.isMounted=function(){return this.mMount},b.prototype.dismount=function(){this.mGpxMounted=null,this.mMount=!1},b.prototype.getX=function(){return this.movieClip.x},b.prototype.getY=function(){return this.movieClip.y},b.prototype.setPosition=function(a,b){this.movieClip.x=a,this.movieClip.y=b},b.prototype.setScale=function(a){this.movieClip.scale.x=a,this.movieClip.scale.y=a},b.prototype.resize=function(a,b){this.movieClip.width=a,this.movieClip.height=b},b.prototype.addLinkPoint=function(a,b){null==this.mzLinkPoints&&(this.mzLinkPoints=[]);var c=this.mzLinkPoints.length;return this.mzLinkPoints[c]=[a,b],c},b.prototype.getLinkPoint=function(a){return null==this.mzLinkPoints?null:this.mzLinkPoints[a]},b.prototype.onWordLimit=function(){switch(console.log("LIMIT!"),this.mResponseMode){case b.RESPONSE_MODE_KILL:this.setVelocity(0,0),this.mState=a.GameConfig.ST_KILL;break;case b.RESPONSE_MODE_RIGID:this.movieClip.x<this.mWorldLimitLeft?this.movieClip.x=this.mWorldLimitLeft:this.movieClip.x>this.mWorldLimitRight&&(this.movieClip.x=this.mWorldLimitRight),this.movieClip.y<this.mWorldLimitUp?this.movieClip.y=this.mWorldLimitUp:this.movieClip.y>this.mWorldLimitDown&&(this.movieClip.y=this.mWorldLimitDown)}},b.prototype.checkWorldLimit=function(){this.movieClip.x<this.mWorldLimitLeft||this.movieClip.x>this.mWorldLimitRight?this.onWordLimit():(this.movieClip.y<this.mWorldLimitUp||this.movieClip.y>this.mWorldLimitDown)&&this.onWordLimit()},b.prototype.setPause=function(b){this.mPause=b,this.mPause||(this.mTime=a.GameConfig.TIMER,this.mTime_Rot=a.GameConfig.TIMER)},b.prototype.updateManual=function(){if(!this.mPause&&this.mState!=a.GameConfig.ST_KILL){if(this.mMount)this.movieClip.x=this.mGpxMounted.clip.x+this.mMount_x,this.movieClip.y=this.mGpxMounted.clip.y+this.mMount_y;else{if(this.mVelX||this.mVelY){var b=(a.GameConfig.TIMER-this.mTime)/100;this.mTime=a.GameConfig.TIMER,this.mVelX&&(this.movieClip.x+=this.mVelX*b),this.mVelY&&(this.movieClip.y+=this.mVelY*b)}if(this.mRotation){var b=(a.GameConfig.TIMER-this.mTime_Rot)/1e3;this.mTime_Rot=a.GameConfig.TIMER,this.movieClip.angle+=this.mRotation*b}}switch(this.checkWorldLimit(),this._charName){case"mc_boss_01":this._bodyPoly[0].x=this.movieClip.x+this._bodyPolyOffcet.x,this._bodyPoly[0].y=this.movieClip.y+this._bodyPolyOffcet.y,this._headPoly[0].x=this.movieClip.x+this._headPolyOffcet.x,this._headPoly[0].y=this.movieClip.y+this._headPolyOffcet.y,this._absorbsPoly[0].x=this.movieClip.x+this._absorbsPolyOffcet.x,this._absorbsPoly[0].y=this.movieClip.y+this._absorbsPolyOffcet.y,this._testG&&(this._testG.clear(),this._bodyPoly[0].debugDraw(this._testG),this._headPoly[0].debugDraw(this._testG),this._absorbsPoly[0].debugDraw(this._testG));break;case"mc_shoot_enemy":this._shootPoly[0].x=this.movieClip.x,this._shootPoly[0].y=this.movieClip.y,this._testG&&(this._testG.clear(),this._shootPoly[0].debugDraw(this._testG))}}},b.prototype.free=function(){this.mDeleted||(this.movieClip.destroy(!0),this.movieClip=null,this.dismount(),console.log("UDALENIE"),this.mzLinkPoints&&(delete this.mzLinkPoints,this.mzLinkPoints=null),this.mDeleted=!0)},Object.defineProperty(b.prototype,"attack",{get:function(){return this.myAttack},set:function(a){this.myAttack=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_parent",{get:function(){return this.mParent},set:function(a){this.mParent=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"STATE",{get:function(){return this.mState},set:function(a){this.mState=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"clip",{get:function(){return this.movieClip},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_velX",{get:function(){return this.mVelX},set:function(a){this.mVelX=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_velY",{get:function(){return this.mVelY},set:function(a){this.mVelY=a},enumerable:!0,configurable:!0}),b}();b.DEF_WORLD_LIMIT_UP=-125,b.DEF_WORLD_LIMIT_DOWN=525,b.DEF_WORLD_LIMIT_LEFT=-125,b.DEF_WORLD_LIMIT_RIGHT=725,b.RESPONSE_MODE_KILL=1,b.RESPONSE_MODE_RIGID=2,a.clsMCE=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c,d,e,f){this.mDist=0,this.mController=null,this.mGpx=null,this.mActive=!1,this.mActor=null,this.mzAttakPositions=null,this.mCurrPosition=-1,this.mSubAction=null,this.mTime=0,this.mActor=b,this.mGpx=this.mActor.gpx,this.mIniX=this.mGpx.getX(),this.mIniY=this.mGpx.getY(),this.mState=a.GameConfig.ST_BEGIN,this.mSubState=a.GameConfig.ST_BEGIN,this.mOldState=a.GameConfig.ST_INDEF,this.mVel=Math.abs(d),this.mEndX=c[0],this.mEndY=c[1],this.mDist=a.GameConfig.VectorLength(this.mIniX-this.mEndX,this.mIniY-this.mEndY);var g=Math.atan2(this.mEndY-this.mIniY,this.mEndX-this.mIniX);this.mVelX=this.mVel*Math.cos(g),this.mVelY=this.mVel*Math.sin(g),this.mActive=e,this.mController=f}return b.prototype.isEnd=function(){this.mGpx._velX!=this.mVelX&&(this.mGpx._velX=this.mVelX),this.mGpx._velY!=this.mVelY&&(this.mGpx._velY=this.mVelY);var b=this.mGpx.getX(),c=this.mGpx.getY();return a.GameConfig.VectorLength(b-this.mIniX,c-this.mIniY)>=this.mDist},b.prototype.updateManual=function(){switch(this.mState){case a.GameConfig.ST_BEGIN:this.mGpx.setVelocity(this.mVelX,this.mVelY),this.mState=a.GameConfig.ST_MOVE_TO_END;break;case a.GameConfig.ST_MOVE_TO_END:this.isEnd()&&(this.mGpx.setVelocity(0,0),this.mGpx.setPosition(this.mEndX,this.mEndY),this.mState=a.GameConfig.ST_END);break;case a.GameConfig.ST_END:this.mState=a.GameConfig.ST_FINISH,this.mController.subUpdate(this)}},b.prototype.addAttackPosition=function(a,b){if(this.mzAttakPositions){var c=this.mzAttakPositions.length;this.mzAttakPositions[c]=[a,b]}},b.prototype.free=function(){},b.prototype.subUpdate=function(b){switch(b.mState){case a.GameConfig.ST_FINISH:this.mSubAction.free(),this.mSubAction=null,this.onSubActionEnd()}},b.prototype.onSubActionEnd=function(){},b.prototype.onHit=function(a){},b.prototype.onAnimationEnd=function(){},Object.defineProperty(b.prototype,"active",{get:function(){return this.mActive},set:function(a){this.mActive=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"STATE",{get:function(){return this.mState},set:function(a){this.mState=a},enumerable:!0,configurable:!0}),b}();a.clsAcbMoveTo=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b){this.mGpx=null,this.mActive=!1,this.mActor=null,this.mzAttakPositions=null,this.mCurrPosition=-1,this.mSubAction=null,this.mTime=0,this.mActor=b,this.mGpx=this.mActor.gpx,this.mIniX=this.mGpx.getX(),this.mIniY=this.mGpx.getY(),this.mState=a.GameConfig.ST_BEGIN,this.mSubState=a.GameConfig.ST_BEGIN,this.mOldState=a.GameConfig.ST_INDEF}return b.prototype.addAttackPosition=function(a,b){if(this.mzAttakPositions){var c=this.mzAttakPositions.length;this.mzAttakPositions[c]=[a,b]}},b.prototype.free=function(){},b.prototype.subUpdate=function(b){switch(b.mState){case a.GameConfig.ST_FINISH:this.mSubAction.free(),this.mSubAction=null,this.onSubActionEnd()}},b.prototype.updateManual=function(){},b.prototype.onSubActionEnd=function(){},b.prototype.onHit=function(a){},b.prototype.onAnimationEnd=function(){},Object.defineProperty(b.prototype,"active",{get:function(){return this.mActive},set:function(a){this.mActive=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"STATE",{get:function(){return this.mState},set:function(a){this.mState=a},enumerable:!0,configurable:!0}),b}();a.clsAction=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g){var h=b.call(this,d)||this;return h.mZ=0,h.mTimeRest=0,h.mTimeShot=0,h.mPause=!1,h.mBondsSet=null,h.mIndexBonds=0,h.nPointBoss=0,h.bOrder=!1,h.nCountShootPlayer=0,h.nTimeActivateOmnitrix=null,h.mzNewPositions=null,h.mzAux=[[0,0],[0,0],[0,0],[0,0]],h.game=c,h.mzAttakPositions=[],h.mState=a.GameConfig.ST_INIT,h.mStateShot=a.GameConfig.ST_STAND,h.mTimeShot=a.GameConfig.TIMER,h.nRotateLeft=e,h.nRotateRight=f,h.nVarRotateLeft=e,h.nVarRotateRight=f,h.nSpeedBoss=g,h.setBondsToLoosen(),h}return __extends(c,b),c.prototype.free=function(){this.mzAttakPositions&&(this.mzAttakPositions=[],this.mzAttakPositions=null),this.mzNewPositions&&(this.mzNewPositions=[],this.mzNewPositions=null),this.mzAux&&(delete this.mzAux,this.mzAux=null),this.mBondsSet&&(a.GameConfig.clearSimSet(this.mBondsSet),this.mBondsSet=null)},c.prototype.setBondsToLoosen=function(){this.mBondsSet||(this.mBondsSet=new a.clsSimSet("this.mBondsSet"),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.HEATBLAST)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.B_OMNI)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.XLR8)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.B_MULTI)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.STINKFLY)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.B_OMNI)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.WILDVINE)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.B_MULTI)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.HEATBLAST)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.B_OMNI)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.RIPJAWS)),this.mBondsSet.add(new a.clsNodeBond(a.GameConfig.B_MULTI)))},c.prototype.loosenBond=function(){this.mIndexBonds>=this.mBondsSet.getCount()&&(this.mIndexBonds=0);var a=this.mBondsSet.getObject(this.mIndexBonds);this.mActor.loosenBondBoss(a.getTypeBond()),this.mIndexBonds++},c.prototype.updateManual=function(){if(this.mState==a.GameConfig.ST_INIT&&(this.mTimeShot=a.GameConfig.TIMER),1==a.GameConfig.COLLISIONBOSS&&a.GameConfig.GAME.mzBalls[0].mGpx.y>c.LIMIT_BLOCKS&&(a.GameConfig.COLLISIONBOSS=!1,this.mAuxOldState!=a.GameConfig.ST_DIE&&this.RestoreBlock()),null!=this.nTimeActivateOmnitrix&&(a.BaseGame.Z_KEY_DOWN?(a.GameConfig.GAME.activateOnmitrix(),this.nTimeActivateOmnitrix=null,this.mPause=!0,this.mActor.gpx.setVelocity(0,0),this.mAuxOldState=a.GameConfig.ST_DIE,a.SoundMixer.play("boss_die",.8),a.GameConfig.COLLISIONBOSS=!1,this.mActor.orderDie()):1e3*this.game.time.totalElapsedSeconds()-this.nTimeActivateOmnitrix>=c.TIME_ACTIVATE_OMNI&&(this.mZ++,2==this.mZ?(a.GameConfig.GAME.activateOnmitrix(),this.nTimeActivateOmnitrix=null,this.mPause=!0,this.mActor.gpx.setVelocity(0,0),this.mAuxOldState=a.GameConfig.ST_DIE,a.GameConfig.COLLISIONBOSS=!1,this.mActor.orderDie()):(a.GameConfig.APLICATE_OMNI=!1,a.GameConfig.GAME.createMessage(375,150,"mc_msn_activate_omni"),this.nTimeActivateOmnitrix=1e3*this.game.time.totalElapsedSeconds()))),this.updateShot(),!this.mPause&&(a.GameConfig.ONMITRIX==c.nActiveOmnitrix&&this.hopeActivateOmnitrix(),!this.mPause))switch(this.mState){case a.GameConfig.ST_INIT:this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttakPositions[0],c.VELOCITY_INTRO,!0,this),this.mActor.orderIntro(),this.mOldState=this.mState,this.mNextState=a.GameConfig.ST_INDEF,this.mState=a.GameConfig.ST_SUB_ACTION;break;case a.GameConfig.ST_ROTATE_LEFT:0!=this.nVarRotateLeft&&(this.nPointBoss++,this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttakPositions[this.nPointBoss],this.nSpeedBoss,!0,this),this.mOldState=this.mState,this.mzAttakPositions[this.nPointBoss][0]-this.mzAttakPositions[this.nPointBoss-1][0]<=0?(this.bOrder=!0,this.mActor.orderLeft()):(this.bOrder=!1,this.mActor.orderRight()),this.mNextState=a.GameConfig.ST_ROTATE_LEFT,this.mState=a.GameConfig.ST_SUB_ACTION),this.nPointBoss==this.mzAttakPositions.length-1&&(this.nVarRotateLeft--,this.nVarRotateLeft<0?(this.nVarRotateLeft=this.nRotateLeft,this.mOldState=a.GameConfig.ST_CHANGE,this.mNextState=a.GameConfig.ST_ROTATE_RIGHT,this.onSubActionEnd()):0==this.nVarRotateLeft||(this.nPointBoss=0));break;case a.GameConfig.ST_ROTATE_RIGHT:0!=this.nVarRotateRight&&(this.nPointBoss--,this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttakPositions[this.nPointBoss],this.nSpeedBoss,!0,this),this.mOldState=this.mState,this.mzAttakPositions[this.nPointBoss][0]-this.mzAttakPositions[this.nPointBoss+1][0]<=0?(this.bOrder=!0,this.mActor.orderLeft()):(this.bOrder=!1,this.mActor.orderRight()),this.mNextState=a.GameConfig.ST_ROTATE_RIGHT,this.mState=a.GameConfig.ST_SUB_ACTION),0==this.nPointBoss&&(this.nVarRotateRight--,this.nVarRotateRight<0?(this.nVarRotateRight=this.nRotateRight,this.mOldState=a.GameConfig.ST_ROTATE_LEFT,this.mNextState=a.GameConfig.ST_ROTATE_LEFT,this.onSubActionEnd()):0==this.nVarRotateRight||(this.nPointBoss=this.mzAttakPositions.length));break;case a.GameConfig.ST_REST:this.mOldState=this.mState,this.mTimeRest<=(a.GameConfig.TIMER-this.mTime)/1e3&&(this.mState=this.mNextState);break;case a.GameConfig.ST_SUB_ACTION:this.mSubAction.active&&this.mSubAction.updateManual()}},c.prototype.addNewPosition=function(a,b){if(this.mzNewPositions){var c=this.mzNewPositions.length;this.mzNewPositions[c]=[a,b]}},c.prototype.changeTrajectory=function(){for(var a=0;a<this.mzAttakPositions.length;a++)this.mzAttakPositions[a]=this.mzNewPositions[a]},c.prototype.RestoreTrajectory=function(){for(var a=0;a<this.mzAttakPositions.length;a++)this.mzAttakPositions[a]=this.mzAux[a]},c.prototype.storeTrajectory=function(){for(var a=0;a<this.mzAttakPositions.length;a++)this.mzAux[a]=this.mzAttakPositions[a]},c.prototype.updateShot=function(){if(this.mOldState!=a.GameConfig.ST_INIT&&this.mAuxOldState!=a.GameConfig.ST_DIE&&this.mAuxOldState!=a.GameConfig.ST_HOPE)switch(this.mStateShot){case a.GameConfig.ST_STAND:c.SHOT_FREQUENCY<=(a.GameConfig.TIMER-this.mTimeShot)/1e3&&(this.mPause=!0,this.mStateShot=a.GameConfig.ST_FIRE,this.mActor.gpx.setVelocity(0,0),this.mActor.orderFire(),this.mTimeShot=a.GameConfig.TIMER)}},c.prototype.hopeActivateOmnitrix=function(){this.mPause=!0,this.mActor.gpx.setVelocity(0,0),this.mActor.orderDieHope(),this.mActor.gpx.setPause(!0),this.mAuxOldState=a.GameConfig.ST_HOPE,this.nTimeActivateOmnitrix=1e3*this.game.time.totalElapsedSeconds(),a.GameConfig.BOSSHOPE=!0},c.prototype.onSubActionEnd=function(){if(this.mState=this.mNextState,this.mState==a.GameConfig.ST_REST)switch(this.mActor.orderStand(),this.mTimeRest=c.TIME_REST_END,this.mTime=a.GameConfig.TIMER,this.mOldState){case a.GameConfig.ST_ROTATE_LEFT:this.mNextState=a.GameConfig.ST_ROTATE_LEFT;break;case a.GameConfig.ST_CHANGE:this.mNextState=a.GameConfig.ST_ROTATE_RIGHT}},c.prototype.onAnimationEnd=function(){if(this.mAuxOldState!=a.GameConfig.ST_HOPE){if(this.mAuxOldState==a.GameConfig.ST_DIE)return void(this.mActor.STATE=a.GameConfig.ST_DIE);if(this.mAuxOldState==a.GameConfig.ST_HIT&&(this.mAuxOldState=0,this.mStateShot=a.GameConfig.ST_HIT,this.mActor.gpx.setPause(!1)),this.mPause&&(this.mStateShot==a.GameConfig.ST_FIRE||this.mStateShot==a.GameConfig.ST_HIT))switch(this.mPause=!1,this.mStateShot==a.GameConfig.ST_FIRE&&(this.mTimeShot=a.GameConfig.TIMER),this.mStateShot=a.GameConfig.ST_STAND,this.mOldState){case a.GameConfig.ST_ROTATE_LEFT:case a.GameConfig.ST_ROTATE_RIGHT:1==this.bOrder?this.mActor.orderLeft():this.mActor.orderRight(),this.mActor.gpx.setVelocity(0,0)}this.mOldState==a.GameConfig.ST_INIT&&(this.mOldState=a.GameConfig.ST_ROTATE_LEFT,this.mNextState=a.GameConfig.ST_REST,this.onSubActionEnd())}},c.prototype.onHit=function(b){this.mAuxOldState!=a.GameConfig.ST_DIE&&this.mAuxOldState!=a.GameConfig.ST_HIT&&(1==a.GameConfig.COLLISION_SHOOT_PLAYER?(this.nCountShootPlayer++,a.GameConfig.COLLISION_SHOOT_PLAYER=!1,this.nCountShootPlayer%c.EQUIV_BALL==0?(this.loosenBond(),this.hitBoss(b)):this.hitBoss(b)):(1!=a.GameConfig.COLLISIONBOSS&&(a.GameConfig.COLLISIONBOSS=!0,this.DestroyBlock()),this.loosenBond(),this.hitBoss(b)))},c.prototype.hitBoss=function(b){this.mPause=!0,this.mActor.gpx.setVelocity(0,0),this.mActor.orderHit(),this.mAuxOldState=a.GameConfig.ST_HIT,this.mActor.gpx.setPause(!0),a.SoundMixer.play("boss_hit",.8)},c.prototype.DestroyBlock=function(){for(var b=0;b<a.GameConfig.GAME.mzActors.length;b++)a.GameConfig.GAME.mzActors[b].idClass==a.GameConfig.CLASS_RESTORES&&a.GameConfig.GAME.mzActors[b].updateLife(6)},c.prototype.RestoreBlock=function(){for(var b=0;b<a.GameConfig.GAME.mzActors.length;b++)a.GameConfig.GAME.mzActors[b].idClass==a.GameConfig.CLASS_RESTORES&&a.GameConfig.GAME.mzActors[b].restore()},c}(a.clsAction);b.VELOCITY_INTRO=28,b.VELOCITY_END=17,b.TIME_REST_INI=4,b.TIME_REST_END=2,b.SHOT_FREQUENCY=5,b.SHOT_REST=.5,b.EQUIV_BALL=5,b.LIMIT_BLOCKS=260,b.nActiveOmnitrix=4,b.TIME_ACTIVATE_OMNI=10,a.clsActionBoss_01=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g){var h=b.call(this,c,e,f)||this;return h.mPosX=0,h.mPosY=0,h.mIniX=0,h.mIniY=0,h.mEndX=0,h.mEndY=0,h.mGpx=null,h.mAction=null,h.mHealth=0,h.mInitHealth=0,h.mArmsSet=null,h.mInvincible=!1,h.mCollisionOn=!0,h.mDeleted=!1,h.mTransform=null,h.mInitColor=null,h.onHitFx=0,h.mGpx=new a.clsMCE(c,d,d+g,g,e,f),h.mIniX=e,h.mIniY=f,h.mGpx.setPosition(h.mIniX,h.mIniY),h.mState=a.GameConfig.ST_BEGIN,h}return __extends(c,b),c.prototype.addArm=function(b){return this.mArmsSet||(this.mArmsSet=new a.clsSimSet("this.mArmsSet")),this.mArmsSet.add(b),this.mArmsSet.getCount()-1},c.prototype.getCountArms=function(){return this.mArmsSet.getCount()},c.prototype.getArm=function(a){return this.mArmsSet.getObject(a)},c.prototype.setInitHealt=function(a){this.mHealth=a,this.mInitHealth=a},c.prototype.disableCollision=function(a){this.mCollisionOn=!a},c.prototype.free=function(){this.mDeleted||(this.onHitFx,this.mGpx.free(),delete this.mGpx,this.mGpx=null,this.mAction&&(this.mAction.free(),delete this.mAction,this.mAction=null),this.mArmsSet&&(a.GameConfig.clearSimSet(this.mArmsSet),this.mArmsSet.free(),delete this.mArmsSet,this.mArmsSet=null),this.mDeleted=!0)},c.prototype.onAnimationEnd=function(){this.mAction&&this.mAction.active&&this.mAction.onAnimationEnd()},c.prototype.processHit=function(b,c,d){if(!this.mInvincible){if(this.mHealth>0)switch(this.processHitFX(),b){case a.GameConfig.DAMAGE_FIXED:this.mHealth-=c;break;case a.GameConfig.DAMAGE_TOTAL:this.mHealth=0}this.mAction&&this.mAction.active&&this.mAction.onHit(d)}},c.prototype.processHitFX=function(){},c.prototype.restoreHitFX=function(){this.onHitFx=0},c.prototype.updateManual=function(){this.mGpx&&this.mGpx.updateManual(),this.mAction&&this.mAction.active&&this.mAction.updateManual(),this.mArmsSet&&a.GameConfig.updateObjectsSet(this.mArmsSet)},Object.defineProperty(c.prototype,"action",{get:function(){return this.mAction},set:function(a){this.mAction=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"gpx",{get:function(){return this.mGpx},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"health",{get:function(){return this.mHealth},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"initHealth",{get:function(){return this.mInitHealth},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"STATE",{get:function(){return this.mState},set:function(a){this.mState=a},enumerable:!0,configurable:!0}),c.prototype.isCollisionActive=function(){return this.mCollisionOn},c.prototype.setInvincible=function(a){this.mInvincible=a},c.prototype.isInvincible=function(){return this.mInvincible},c.prototype.shoot=function(){},c.prototype.orderIntro=function(){},c.prototype.orderStand=function(){},c.prototype.orderLeft=function(){},c.prototype.orderRight=function(){},c.prototype.orderFire=function(){},c.prototype.orderFireRight=function(){},c.prototype.orderFireSpecial=function(){},c.prototype.orderHit=function(){},c.prototype.orderHitShoot=function(){},c.prototype.orderDie=function(){},c.prototype.orderDieHope=function(){},c.prototype.orderDieTotal=function(){},c.prototype.orderTransformation=function(){},c.prototype.orderReload=function(){},c.prototype.orderFist=function(){},c.prototype.loosenBond=function(a,b,c){},c.prototype.loosenBondBoss=function(a){},c.prototype.getPoints=function(){},c.prototype.getVectors=function(){},c}(Phaser.Sprite);a.clsActor=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(c){this.mDeleted=!1,this.mGpxBullet=null,this.mBulletSet=null,this.mOwner=null,this.mAttack=null,this.game=c,this.mState=a.GameConfig.ST_BEGIN,b.mDepth=a.GameConfig.DEPTH_BULLET_MIN,this.mBulletSet=new a.clsSimSet("mBulletSet")}return b.prototype.setAttack=function(a){this.mAttack||(this.mAttack=a)},b.prototype.myShoot=function(c,d,e,f,g){b.mDepth>a.GameConfig.DEPTH_BULLET_MAX&&(b.mDepth=a.GameConfig.DEPTH_BULLET_MIN);var h=new a.clsMCE(this.game,this.mNameMCArms,this.mNameMCArms+b.mDepth,b.mDepth,0,0);return f&&h.setScale(f),b.mDepth++,h.setPosition(c,d),h.setRotation(e,!1),h.attack=this.mAttack,h.attack.create(this.mVelocity,this.mDamage,e),h.attack.bullet=h,h.attack.objetive=g,h.attack.active=!0,this.mBulletSet.add(h),h},b.prototype.updateManual=function(){for(var b=0;b<this.mBulletSet.getCount();b++)this.mGpxBullet=this.mBulletSet.getObject(b),this.mGpxBullet.attack.active&&this.mGpxBullet.attack.updateManual(),this.mGpxBullet.updateManual(),this.mGpxBullet.STATE==a.GameConfig.ST_KILL&&(this.mBulletSet.removeIndex(b),this.mGpxBullet.free(),delete this.mGpxBullet,b--)},b.prototype.free=function(){this.mDeleted||(a.GameConfig.clearSimSet(this.mBulletSet),this.mBulletSet.free(),delete this.mBulletSet,this.mBulletSet=null,this.mAttack&&(this.mAttack.free(),delete this.mAttack,this.mAttack=null),this.mDeleted=!0)},b}();b.mDepth=0,a.clsArm=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d){var e=a.call(this,b)||this;return e.mVelocity=c,e.mDamage=d,e.mNameMCArms="mc_shoot_enemy",e}return __extends(b,a),b.prototype.shoot=function(b,c,d,e){a.prototype.myShoot.call(this,b,c,d,0,e).changeAnimation("SHOOT_1")},b}(a.clsArm);b.VELOCITY=20,b.DAMAGE=-5,a.clsArmFire=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){this.mVelocity=0,this.mDamage=0,this.mBullet=null,this.mOwner=null,this.mAngRad=0,this.mObjetive=null,this.mIniX=0,this.mIniY=0,this.mActive=!1,this.mState=a.GameConfig.ST_INDEF}return b.prototype.create=function(b,c,d){this.mVelocity=b,this.mDamage=c,this.mAngRad=a.GameConfig.DegToRad(d),this.mState=a.GameConfig.ST_BEGIN},b.prototype.toAttack=function(){this.mIniX=this.mBullet.getX(),this.mIniY=this.mBullet.getY(),this.mBullet.setVelocity(this.mVelocity*Math.cos(this.mAngRad),this.mVelocity*Math.sin(this.mAngRad)),this.mState=a.GameConfig.ST_MOVE_TO_END},b.prototype.updateManual=function(){switch(this.mState){case a.GameConfig.ST_BEGIN:this.toAttack()}this.checkCollisionObjetive()},
b.prototype.checkCollisionObjetive=function(){if(this.mObjetive){if(!this.mObjetive.isCollisionActive())return;this.hitTestPhaserEdition(this.mBullet,this.mBullet.poly,this.mObjetive,this.mObjetive.poly)&&(this.mObjetive.processHit(this.mDamage),this.mBullet.STATE=a.GameConfig.ST_KILL)}},b.prototype.hitTestPhaserEdition=function(b,c,d,e){for(var f=e.length,g=0;g<c.length;g++)for(var h=0;h<e.length;h++){if(!(b.getX()<d.x+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.getX()>d.x-.6*a.BaseGame.MAX_OBJ_WIDTH&&b.getY()<d.y+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.getY()>d.y-.6*a.BaseGame.MAX_OBJ_WIDTH))return!1;if(c[g].hit(e[h]))return!0;if(0==--f)return!1}},b.prototype.free=function(){this.mBullet=null,this.mOwner=null},Object.defineProperty(b.prototype,"active",{get:function(){return this.mActive},set:function(a){this.mActive=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bullet",{get:function(){return this.mBullet},set:function(a){this.mBullet=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"objetive",{get:function(){return this.mObjetive},set:function(a){this.mObjetive=a},enumerable:!0,configurable:!0}),b}();a.clsAttack=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h){var i=b.call(this,c,e,f)||this;i.STATE=0,i.mTime=0,i._ballPoly=null,i._collisionPoly=null,i._canColisionCheck=!0,i._colisionDeley=0,i._colisionDeleyMax=4,i.id=d,i.mGpx=i.game.make.sprite(0,0,"atlas","Hero_balls/mc_ball_1000"+a.GameConfig.ACTIVE_PLAYER),i.mGpx.anchor.set(.42,.48),a.BaseGame.GAME_LAYER.addChild(i.mGpx),i.r=7.5,i.vx=0,i.vy=0,i.vBall={p0:{x:e,y:f},p1:{x:0,y:0},vx:g,vy:h,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},i.mzCollision=[],i.myActers=[],i.myDamage=2,i.mTime=a.GameConfig.TIMER;var j=-2,k=-3,l=.3;return i._ballPoly=[],i._ballPoly.push(new a.MPolygon([-i.mGpx.width/2.5*l+j,-i.mGpx.height/2.86*l+k,i.mGpx.width/1.66*l+j,-i.mGpx.height/2.86*l+k,i.mGpx.width/1.66*l+j,i.mGpx.height/1.33*l+k,-i.mGpx.width/2.5*l+j,i.mGpx.height/1.33*l+k])),l*=2.4,j*=2.4,k*=2.4,i._collisionPoly=[],i._collisionPoly.push(new a.MPolygon([-i.mGpx.width/2.5*l+j,-i.mGpx.height/2.86*l+k,i.mGpx.width/1.66*l+j,-i.mGpx.height/2.86*l+k,i.mGpx.width/1.66*l+j,i.mGpx.height/1.33*l+k,-i.mGpx.width/2.5*l+j,i.mGpx.height/1.33*l+k])),i}return __extends(c,b),c.prototype.start=function(){this.mGpx.x=c.X_INI,this.mGpx.y=c.Y_INI,this.vBall={p0:{x:c.X_INI,y:c.Y_INI},p1:{x:0,y:0},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},this.startBall=!0,this._ballPoly[0].x=this.mGpx.x,this._ballPoly[0].y=this.mGpx.y,this._collisionPoly[0].x=this.mGpx.x,this._collisionPoly[0].y=this.mGpx.y},c.prototype.initMove=function(){this.vBall.vy=c.V,this.vBall.vx=0,this.startBall=!1},c.prototype.setVector=function(a,b){this.vBall.vx=a,this.vBall.vy=b},c.prototype.changeBallSkin=function(a){this.mGpx.frameName="Hero_balls/mc_ball_1000"+a},c.prototype.checkBounce=function(a){Math.abs(a.vy)<c.Vmin&&(a.vy>0?a.vy=c.Vmin:a.vy=-c.Vmin),Math.abs(a.vx)<c.Vmin&&(a.vx>0?a.vx=c.Vmin:a.vx=-c.Vmin)},c.prototype.hitTestPhaserEdition=function(b,c,d,e,f){void 0===f&&(f=!1);for(var g=e.length,h=0;h<c.length;h++)for(var i=0;i<e.length;i++)if(f){if(c[h].hit(e[i]))return!0;if(0==--g)return!1}else{if(!(b.x<d.x+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.x>d.x-.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y<d.y+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y>d.y-.6*a.BaseGame.MAX_OBJ_WIDTH))return!1;if(c[h].hit(e[i]))return!0;if(0==--g)return!1}},c.prototype.hitCurrentPointPhaserEdition=function(b,c,d,e){void 0===e&&(e=!1);for(var f=d.length,g=0;g<d.length;g++)for(var h=0;h<d.length;h++)if(e){if(d[g].contains(b.x,b.y))return!0;if(0==--f)return!1}else{if(!(b.x<c.x+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.x>c.x-.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y<c.y+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y>c.y-.6*a.BaseGame.MAX_OBJ_WIDTH))return!1;if(d[g].contains(b.x,b.y))return!0;if(0==--f)return!1}},Object.defineProperty(c.prototype,"poly",{get:function(){return this._ballPoly},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"collisionPoly",{get:function(){return this._collisionPoly},enumerable:!0,configurable:!0}),c.prototype.updateManual=function(){if(this.updateObject(this.vBall),this._colisionDeley>0&&0==--this._colisionDeley&&(this._canColisionCheck=!0),a.GameConfig.GAME.clearArray(this.mzCollision),a.GameConfig.GAME.clearArray(this.myActers),a.GameConfig.BOSS&&a.GameConfig.GAME.checkCollisionBoss(this,this.myDamage),this._canColisionCheck){for(var b=0;b<a.GameConfig.GAME.mzActors.length;b++)a.GameConfig.GAME.mzActors[b]&&this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.GAME.mzActors[b].mGpx,a.GameConfig.GAME.mzActors[b].poly,a.GameConfig.GAME.mzActors[b].idClass==a.GameConfig.CLASS_SHAPE&&a.GameConfig.GAME.mzActors[b].myType>5)&&(a.GameConfig.ACTIVE_PLAYER!=a.GameConfig.CANNONBOLT?a.GameConfig.GAME.mzActors[b].classRotate?a.GameConfig.GAME.mzActors[b].activeCollision&&a.GameConfig.GAME.addCollision(this.id+"."+a.GameConfig.GAME.mzActors[b].id+"."+a.GameConfig.GAME.mzActors[b].nP+"."+b):a.GameConfig.GAME.addCollision(this.id+"."+a.GameConfig.GAME.mzActors[b].id+"."+a.GameConfig.GAME.mzActors[b].nP+"."+b):a.GameConfig.GAME.mzActors[b].idClass!=a.GameConfig.CLASS_BLOCK&&a.GameConfig.GAME.mzActors[b].idClass!=a.GameConfig.CLASS_ENEMY&&a.GameConfig.GAME.addCollision(this.id+"."+a.GameConfig.GAME.mzActors[b].id+"."+a.GameConfig.GAME.mzActors[b].nP+"."+b));for(var d=0;d<a.GameConfig.GAME.blockCollision.length;d++){var e=a.GameConfig.GAME.blockCollision[d],f=e.split(".");parseInt(f[0])==this.id&&a.GameConfig.GAME.mzActors[parseInt(f[3])]&&(this.mzCollision.push([parseInt(f[1]),parseInt(f[2])]),this.myActers.push(a.GameConfig.GAME.mzActors[parseInt(f[3])]))}}if(0!=this.mzCollision.length)for(var g=0;g<this.mzCollision.length;g++)for(var h=1;h<=this.mzCollision[g][1];h++){var i=a.GameConfig.GAME.findIntersection(this.vBall,a.GameConfig.GAME.block["B"+this.mzCollision[g][0]]["V"+h]);i=a.GameConfig.GAME.updateVector(i,!1);var j=this.r-i.len;if(j>=0){this._canColisionCheck=!1,this._colisionDeley=this._colisionDeleyMax,this.myActers[g].updateLife(this.myDamage),this.myActers[g].idClass!=a.GameConfig.CLASS_BLOCK&&this.myActers[g].idClass!=a.GameConfig.CLASS_ENEMY||(a.GameConfig.LAST_CRASH_TIME=a.GameConfig.TIMER),this.vBall.p1.x+=i.dx*j,this.vBall.p1.y+=i.dy*j;var k={p0:{x:0,y:0},p1:{x:0,y:0},vx:0,vy:0,len:0,rx:0,ry:0,lx:i.dx,ly:i.dy,dx:i.lx,dy:i.ly},l=a.GameConfig.GAME.bounce(this.vBall,k);0==l.vx&&0==l.vy?(this.vBall.vx=-this.vBall.vx,this.vBall.vy=-this.vBall.vy):(this.vBall.vx=l.vx,this.vBall.vy=l.vy),this.checkBounce(this.vBall),a.GameConfig.GAME.createEffect(this.vBall.p1.x,this.vBall.p1.y,"Hit_ball/mc_hit_ball_10001");break}}if(a.GameConfig.ACTIVE_PLAYER==a.GameConfig.CANNONBOLT)for(var m=0;m<a.GameConfig.GAME.mzActors.length;m++)a.GameConfig.GAME.mzActors[m]&&(a.GameConfig.GAME.mzActors[m].idClass!=a.GameConfig.CLASS_BLOCK&&a.GameConfig.GAME.mzActors[m].idClass!=a.GameConfig.CLASS_ENEMY||this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.GAME.mzActors[m].mGpx,a.GameConfig.GAME.mzActors[m].poly)&&(a.GameConfig.GAME.mzActors[m].free(),a.SoundMixer.play("blockRemove",.6)));if(this.vBall.p1.x<c.LF&&(this.vBall.p1.x=c.LF,this.vBall.vx=-this.vBall.vx,a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"Hit_ball_wall/mc_hit_ball_wall_10001"),a.SoundMixer.play("wallBounce",.4),this.checkBounce(this.vBall)),this.vBall.p1.x>c.LR&&(this.vBall.p1.x=c.LR,this.vBall.vx=-this.vBall.vx,a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"Hit_ball_wall/mc_hit_ball_wall_10001"),a.SoundMixer.play("wallBounce",.4),this.checkBounce(this.vBall)),this.vBall.p1.y<c.LU){if(1!=a.GameConfig.COLLISIONUPWORLD)return this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL,void(a.GameConfig.GENERATOR&&(a.GameConfig.GENERATOR.inProgress()||a.GameConfig.GENERATOR.inProgress()||a.GameConfig.GENERATOR.generateBall()));this.vBall.p1.y=c.LU,this.vBall.vy=-this.vBall.vy,a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"Hit_ball_wall/mc_hit_ball_wall_10001"),a.SoundMixer.play("wallBounce",.4)}if(this.vBall.p1.y>c.LD){if(!a.GameConfig.ACTIVEBARRIER)return void this.free();this.vBall.p1.y=c.LD,this.vBall.vy=-this.vBall.vy,a.GameConfig.GAME.removeBarrier()}if(this.vBall.p1.y>c.LD_PLAYER&&this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.PLAYER.mGpx,a.GameConfig.PLAYER.paddlePoly)){this.vBall.p1.y=c.LD_PLAYER,this.vBall.vy=-this.vBall.vy;var n=(this.mGpx.x-a.GameConfig.PLAYER.mGpx.x)/(a.GameConfig.PLAYER._paddle.width/2),o=-30-75*(1-n);o>-30&&(o=-30),o<-150&&(o=-150),o*=Math.PI/180;var p=Math.sqrt(Math.pow(this.vBall.vx,2)+Math.pow(this.vBall.vy,2));this.vBall.vx=p*Math.cos(o),this.vBall.vy=-Math.abs(p*Math.sin(o)),this.vBall.vx<0?a.GameConfig.PLAYER.changeAnimation("PUNCH_R"):a.GameConfig.PLAYER.changeAnimation("PUNCH_L"),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_PUNCH}var q=this.mGpx.x,r=this.mGpx.y,s=this.vBall.vx,t=this.vBall.vy;this.startBall||(this.mGpx.x=this.vBall.p1.x,this.mGpx.y=this.vBall.p1.y,this.vBall.p0=this.vBall.p1,a.GameConfig.LAST_CLICK_TIME=a.GameConfig.TIMER,this._ballPoly[0].x=this.mGpx.x,this._ballPoly[0].y=this.mGpx.y,this._collisionPoly[0].x=this.mGpx.x,this._collisionPoly[0].y=this.mGpx.y);for(var m=0;m<this.myActers.length;m++)a.GameConfig.GAME.mzActors[m]&&(this.myActers[m].idClass!=a.GameConfig.CLASS_SHAPE&&this.myActers[m].idClass!=a.GameConfig.CLASS_INDESTRUCTIBLE||this.hitCurrentPointPhaserEdition(this.mGpx,this.myActers[m],this.myActers[m].poly,this.myActers[m].idClass==a.GameConfig.CLASS_SHAPE&&this.myActers[m].myType>5)&&(this.mGpx.x=q-s,this.mGpx.y=r-t,this.vBall.p0.x=this.mGpx.x,this.vBall.p0.y=this.mGpx.y,this.vBall.vx=-s,this.vBall.vy=-t))},c.prototype.updateObject=function(b){var c=(a.GameConfig.TIMER-this.mTime)/40;this.mTime=a.GameConfig.TIMER,c>1.5&&(c=1.5),b.p0&&(b.p1={x:0,y:0},b.p1.x=b.p0.x+b.vx*c,b.p1.y=b.p0.y+b.vy*c,b.len=Math.sqrt(b.vx*b.vx+b.vy*b.vy),b.dx=b.vx/b.len,b.dy=b.vy/b.len,b.rx=-b.vy,b.ry=b.vx,b.lx=b.vy,b.ly=-b.vx)},c.prototype.free=function(){a.GameConfig.GAME.mzBalls.length>1||a.GameConfig.PLAYER_WINNER?(this.vBall={},this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL):a.GameConfig.GENERATOR?(a.GameConfig.GENERATOR.inProgress()||(a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_DIE&&a.GameConfig.GAME.diePlayer(2),a.GameConfig.GENERATOR.generateBall()),this.vBall={},this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL):(this.mGpx.alpha=0,a.GameConfig.INITBALL=!0,this.start(),a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_DIE&&a.GameConfig.GAME.diePlayer(2))},c}(Phaser.Sprite);b.X_INI=379,b.Y_INI=285,b.LF=171,b.LR=574,b.LU=10,b.LD=390,b.SPEED_MIN=4.9,b.SPEED_MAX=6,b.V=6.5,b.Vmin=1.5,b.LD_PLAYER=310,a.clsBall=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h){var i=b.call(this,c,d,e)||this;i.STATE=0,i.loseBono=!1,i.nP=4,i._blockPoly=null,i.isHide=!1,i.myType=g;i.myType;switch(i.BW=40,i.BH=20,i.PRICE_HIT=100,i.PRICE_BREAK=200,2!=i.myType&&4!=i.myType&&6!=i.myType&&8!=i.myType&&10!=i.myType||(i.BW=40,i.BH=40,e+=10),9!=i.myType&&10!=i.myType||(i.BW=40,i.PRICE_HIT=0,i.PRICE_BREAK=0),i.initValues(h),i.mGpx=i.game.make.sprite(0,0,"atlas","Blocks/block_"+g+"/mc_block_"+g+"_10001"),i.mGpx.anchor.set(.5),a.BaseGame.GAME_LAYER.addChild(i.mGpx),i.myType){case 1:i.mGpx.animations.add("STATE_2",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",1,1,"",4)),i.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_2",1,1,"",4));break;case 2:i.mGpx.animations.add("STATE_3",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",1,1,"",4)),i.mGpx.animations.add("STATE_2",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_2",1,1,"",4)),i.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_3",1,1,"",4));break;case 3:i.mGpx.animations.add("STATE_2",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",1,10,"",4)),i.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_2",1,10,"",4));break;case 4:i.mGpx.animations.add("STATE_3",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",1,10,"",4)),i.mGpx.animations.add("STATE_2",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_2",1,15,"",4)),i.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_3",1,15,"",4));break;case 7:i.mGpx.animations.add("STATE_3",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",1,1,"",4)),i.mGpx.animations.add("STATE_2",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_2",1,1,"",4)),i.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_3",1,1,"",4));break;case 8:i.mGpx.animations.add("STATE_4",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_4",0,0,"",4)),i.mGpx.animations.add("STATE_3",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_3",1,26,"",4)),i.mGpx.animations.add("STATE_2",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_2",1,1,"",4)),i.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",1,1,"",4));break;case 13:i.mGpx.animations.add("STATE_2",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_2",1,1,"",4)),i.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",2,2,"",4)),i.mGpx.animations.add("RESTORE",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_restore_1",1,19,"",4)),i.mGpx.animations.add("HIDE",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",2,2,"",4));break;case 15:case 16:i.mGpx.animations.add("STATE_2",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_2",1,10,"",4)),i.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",1,10,"",4)),i.mGpx.animations.add("RESTORE",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_restore_1",1,13,"",4)),i.mGpx.animations.add("HIDE",Phaser.Animation.generateFrameNames("Blocks/block_"+g+"/mc_block_"+g+"_1",1,1,"",4))}i.oX=d,i.oY=e,i.id=f,i.mGpx.x=d,i.mGpx.y=e,i.ang=Math.atan(i.BH/i.BW),i.len=Math.sqrt(i.BW/2*(i.BW/2)+i.BH/2*(i.BH/2)),i.sn=-Math.sin(i.ang)*i.len,i.cs=-Math.cos(i.ang)*i.len,i.getPoints(),i.getVectors(),9==i.myType||10==i.myType||12==i.myType?i.mIdClass=a.GameConfig.CLASS_INDESTRUCTIBLE:i.mIdClass=a.GameConfig.CLASS_BLOCK,i._blockPoly=[],i._blockPoly.push(new a.MPolygon([-i.mGpx.width/2+1,-i.mGpx.height/2+1,i.mGpx.width/2-1,-i.mGpx.height/2+1,i.mGpx.width/2-1,i.mGpx.height/2-1,-i.mGpx.width/2+1,i.mGpx.height/2-1])),i._blockPoly[0].x=i.mGpx.x,i._blockPoly[0].y=i.mGpx.y;for(var j=1;j<=i.life;j+=2)if(i.life==j||i.life==j+1){var k;k=j%2==0?j/2:(j+1)/2,i.changeAnimation("STATE_"+k)}return 13==i.myType&&i.changeAnimation("STATE_2"),i}return __extends(c,b),Object.defineProperty(c.prototype,"poly",{get:function(){if(this.isHide){var b=[];return b.push(new a.MPolygon([-997,-997,-999,-997,-999,-999,-997,-997])),b}return this._blockPoly},enumerable:!0,configurable:!0}),c.prototype.changeAnimation=function(a){var b=this;"RESTORE"==a?(this.mGpx.visible=!0,this.mGpx.animations.play(a,60,!1).onComplete.addOnce(function(){b.changeAnimation("STATE_2"),b.isHide=!1})):"HIDE"==a?(this.isHide=!0,this.mGpx.visible=!1,this.mGpx.animations.play(a,60,!0)):this.mGpx.animations.play(a,60,!0)},c.prototype.initValues=function(b){switch(this.life=4,this.impactBono=0,this.idBono=void 0==b?0:b,this.myType){case a.GameConfig.BLOCK1:this.life=4;break;case a.GameConfig.BLOCK2:this.life=6;break;case a.GameConfig.BLOCK3:this.life=4,this.impactBono=2;break;case a.GameConfig.BLOCK4:this.life=6,this.impactBono=4;break;case a.GameConfig.BLOCK5:this.life=2;break;case a.GameConfig.BLOCK6:this.life=4;break;case a.GameConfig.BLOCK7:this.life=6;break;case a.GameConfig.BLOCK8:this.life=8;break;case a.GameConfig.BLOCK9:case a.GameConfig.BLOCK10:this.life=2e4;break;case 12:this.life=2e4,this.BW=200,this.BH=20;break;case 13:this.life=2}},c.prototype.updateManual=function(){},c.prototype.getPoints=function(){this.m=this.mGpx.angle*(Math.PI/180),this.oX=this.mGpx.x,this.oY=this.mGpx.y,this.p1x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p1y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.cs=-1*this.cs,this.p2x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p2y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.sn=-1*this.sn,this.p3x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p3y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.cs=-1*this.cs,this.p4x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p4y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m))},c.prototype.updateLife=function(b){if(this.life-=b,this.life<=0)a.GameConfig.GAME.updateScore(this.PRICE_BREAK),a.SoundMixer.play("blockRemove",.6),this.free();else if(a.GameConfig.GAME.updateScore(this.PRICE_HIT),9==this.myType||10==this.myType)a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"Hit_indestructible/mc_hit_indestructible_10001"),a.SoundMixer.play("notRemoveHit",.6);else if(12==this.myType)a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"Hit_indestructible_100x20/mc_hit_indestructible_100x20_10003"),a.SoundMixer.play("notRemoveHit",.6);else for(var c=1;c<=this.life;c+=2)if(this.life==c||this.life==c+1){var d;d=c%2==0?c/2:(c+1)/2,this.changeAnimation("STATE_"+d),a.SoundMixer.play("snd_crash",.6)}},c.prototype.getVectors=function(){a.GameConfig.GAME.block["B"+this.id]={},a.GameConfig.GAME.block["B"+this.id].V1={p0:{x:this.p1x,y:this.p1y},p1:{x:this.p4x,y:this.p4y},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},a.GameConfig.GAME.block["B"+this.id].V2={p0:{x:this.p4x,y:this.p4y},p1:{x:this.p3x,y:this.p3y},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},a.GameConfig.GAME.block["B"+this.id].V3={p0:{x:this.p3x,y:this.p3y},p1:{x:this.p2x,y:this.p2y},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},a.GameConfig.GAME.block["B"+this.id].V4={p0:{x:this.p2x,y:this.p2y},p1:{x:this.p1x,y:this.p1y},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0};for(var b=1;b<5;b++)a.GameConfig.GAME.updateVector(a.GameConfig.GAME.block["B"+this.id]["V"+b],!0)},c.prototype.drawVector=function(){},c.prototype.free=function(){0!=this.idBono&&this.mGpx&&a.GameConfig.GAME.createBonus(this.mGpx.x,this.mGpx.y,this.idBono),this.myType!=a.GameConfig.BLOCK9&&this.myType!=a.GameConfig.BLOCK10&&12!=this.myType&&(this.myType==a.GameConfig.BLOCK5||this.myType==a.GameConfig.BLOCK6?a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"Fx_bomb/mc_fx_bomb_10001",this.id):a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"DestroyNormal/mc_destroy_normal_10001")),this.mGpx.visible=!1,this.STATE=a.GameConfig.ST_KILL},Object.defineProperty(c.prototype,"idClass",{get:function(){return this.mIdClass},enumerable:!0,configurable:!0}),c}(Phaser.Sprite);a.clsBlock=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h,i){var j=b.call(this,c,d,e,f,g,h)||this;return j.mTimeRest=0,j.mFreqMS=0,j.mActive=!0,j.setFreqRestored(),j.mIdClass=a.GameConfig.CLASS_RESTORES,j.mTimeRest=a.GameConfig.TIMER,j.life=i,j.nlifeBlock=i,j}return __extends(c,b),c.prototype.setFreqRestored=function(){this.mFreqMS=1e3*c.FREQ_RESTORED},c.prototype.updateManual=function(){this.mActive||1!=a.GameConfig.COLLISIONBOSS&&a.GameConfig.TIMER-this.mTimeRest>=this.mFreqMS&&this.restore()},c.prototype.updateLife=function(b){if(this.life-=b,this.life<=0)a.GameConfig.GAME.updateScore(this.PRICE_BREAK),this.destroyMe(),a.SoundMixer.play("blockRemove",.6);else{a.GameConfig.GAME.updateScore(this.PRICE_HIT);for(var c=1;c<=this.life;c+=2)if(this.life==c||this.life==c+1){var d;d=c%2==0?c/2:(c+1)/2,this.changeAnimation("STATE_"+d),a.SoundMixer.play("snd_crash",.6)}}},c.prototype.destroyMe=function(){this.id!=a.GameConfig.oldIdBlockDestroy&&(this.mActive=!1,this.changeAnimation("HIDE"),this.mTimeRest=a.GameConfig.TIMER,a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"DestroyNormal/mc_destroy_normal_10001"),a.GameConfig.oldIdBlockDestroy=this.id,1==a.GameConfig.COLLISIONBOSS||a.GameConfig.BOSSHOPE||(15==this.myType&&a.GameConfig.GAME.createBonus(this.mGpx.x,this.mGpx.y,a.GameConfig.getRandomNums([2,2,3,7,7])),16==this.myType&&a.GameConfig.GAME.createBonus(this.mGpx.x,this.mGpx.y,a.GameConfig.getRandomNums([4,4,5]))))},c.prototype.restore=function(){this.changeAnimation("RESTORE"),this.mActive=!0,this.life=this.nlifeBlock,this.id==a.GameConfig.oldIdBlockDestroy&&(a.GameConfig.oldIdBlockDestroy=null)},c.prototype.free=function(){this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL},Object.defineProperty(c.prototype,"active",{get:function(){return this.mActive},set:function(a){this.mActive=a},enumerable:!0,configurable:!0}),c}(a.clsBlock);b.FREQ_RESTORED=5,a.clsBlockRestored=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f){var g=b.call(this,c,d,e)||this;return g._blockPoly=null,g.mGpx=g.game.make.sprite(d,e,"atlas","mc_bonus/mc_bonus_BONO1"),g.mGpx.anchor.set(.5),a.BaseGame.GAME_LAYER.addChild(g.mGpx),g.mGpx.x=d,g.mGpx.y=e,g.speed=2.5,g.mIdClass=a.GameConfig.CLASS_BONUS,a.GameConfig.BOSS||f==a.GameConfig.B_ALL_OMNI?g.myType=f:g.checkBonus(),g.changeAnimationState("mc_bonus_BONO"+g.myType),g._blockPoly=[],g._blockPoly.push(new a.MPolygon([-g.mGpx.width/2+1,-g.mGpx.height/2+1,g.mGpx.width/2-1,-g.mGpx.height/2+1,g.mGpx.width/2-1,g.mGpx.height/2-1,-g.mGpx.width/2+1,g.mGpx.height/2-1])),g._blockPoly[0].x=g.mGpx.x,g._blockPoly[0].y=g.mGpx.y,g}return __extends(c,b),Object.defineProperty(c.prototype,"poly",{get:function(){return this._blockPoly},enumerable:!0,configurable:!0}),c.prototype.changeAnimationState=function(a){this.mGpx.frameName="mc_bonus/"+a},c.prototype.checkBonus=function(){for(var b=0,c=0,d=0,e=0;e<a.GameConfig.GAME.mzObjects.length;e++)a.GameConfig.GAME.mzObjects[e].idClass==a.GameConfig.CLASS_BONUS&&(a.GameConfig.GAME.mzObjects[e].myType>=2&&a.GameConfig.GAME.mzObjects[e].myType<=7&&b++,a.GameConfig.GAME.mzObjects[e].myType==a.GameConfig.B_BARRIER&&c++,a.GameConfig.GAME.mzObjects[e].myType==a.GameConfig.B_MULTI&&d++);1==a.GameConfig.ACTIVE_PLAYER&&0==b?a.GameConfig.LEVEL>=1&&a.GameConfig.LEVEL<=4?this.myType=a.GameConfig.getRandomNums([2,2,4,4,7,5,6]):a.GameConfig.LEVEL>=5&&a.GameConfig.LEVEL<=10?this.myType=a.GameConfig.getRandomNums([2,3,4,5,6,6,7,7]):this.myType=a.GameConfig.getRandomNums([2,3,4,5,5,6,6,6,7,7,7]):a.GameConfig.ACTIVEBARRIER||0!=c?a.GameConfig.GAME.mzBalls.length<3&&0==d?this.myType=a.GameConfig.B_MULTI:a.GameConfig.ONMITRIX<4?this.myType=a.GameConfig.B_OMNI:this.myType=a.GameConfig.B_LIFE:this.myType=a.GameConfig.B_BARRIER},c.prototype.hitTestPhaserEdition=function(b,c,d,e){for(var f=e.length,g=0;g<c.length;g++)for(var h=0;h<e.length;h++){if(!(b.x<d.x+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.x>d.x-.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y<d.y+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y>d.y-.6*a.BaseGame.MAX_OBJ_WIDTH))return!1;if(c[g].hit(e[h]))return!0;if(0==--f)return!1}},c.prototype.updateManual=function(){if(this.mGpx.y+=this.speed,this._blockPoly[0].x=this.mGpx.x,this._blockPoly[0].y=this.mGpx.y,this.mGpx.y>400&&this.free(),this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.PLAYER.mGpx,a.GameConfig.PLAYER._hitPolygon)){var b=this.myType;switch(b){case a.GameConfig.B_LIFE:a.GameConfig.PLAYER_LIFE<9&&(a.GameConfig.GAME.createMessage(375,150,"mc_msn_extraLife"),a.GameConfig.GAME.updateScore(a.GameConfig.PRICE_LIFE),a.GameConfig.GAME.updateLife(1));break;case a.GameConfig.B_SCORE:a.GameConfig.GAME.takenScore();break;case a.GameConfig.B_OMNI:a.GameConfig.GAME.takenOmnitrix();break;case a.GameConfig.B_MULTI:a.GameConfig.GAME.takenMultiBall();break;case a.GameConfig.B_BARRIER:a.GameConfig.GAME.takenBarrier(!0);break;case a.GameConfig.B_ALL_OMNI:a.GameConfig.GAME.takenAllOmnitrix();break;default:a.GameConfig.GAME.takenAlien(b)}this.free()}},c.prototype.updateLife=function(){},c.prototype.free=function(){this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL},c.prototype.freeDiePlayer=function(){a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"Fx_shoot_player/mc_fx_shoot_player_10001"),this.free()},Object.defineProperty(c.prototype,"idClass",{get:function(){return this.mIdClass},enumerable:!0,configurable:!0}),c}(Phaser.Sprite);a.clsBonus=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f){var g=b.call(this,c,d,e,f,a.GameConfig.DEPTH_BOSS)||this;return g.mContBullet=0,g.mCurrArm=0,g.nCountShoot=0,g.mGpx.setResponseMode(a.clsMCE.RESPONSE_MODE_RIGID),g}return __extends(c,b),c.prototype.shoot=function(){this.mCurrArm>=this.getCountArms()&&(this.mCurrArm=0);var b=this.getArm(this.mCurrArm);b&&b.shoot(this.mGpx.getX()+c.BULLET_X,this.mGpx.getY()+c.BULLET_Y,90,a.GameConfig.PLAYER),this.mCurrArm++},c.prototype.shootSpecial=function(){var b=a.GameConfig.SHOOT_NORMAL;switch(++this.nCountShoot){case 1:var d=-105,e=30,f=2;break;case 2:var d=-90,e=0,f=1;break;case 3:var d=-105,e=30,f=2;break;case 4:var d=-90,e=0,f=1;this.nCountShoot=0}a.GameConfig.GAME.shootEnemy(5,this.mGpx.getX()+c.BULLET_X_UP,this.mGpx.getY()+c.BULLET_Y_UP,b,d,e,f,70)},c.prototype.fist=function(){var b=a.GameConfig.SHOOT_NORMAL;a.GameConfig.GAME.shootEnemy(6,this.mGpx.getX()+c.BULLET_X_UP,this.mGpx.getY()+c.BULLET_Y_UP,b,-90,0,1,100)},c.prototype.loosenBond=function(b,c,d){a.GameConfig.GAME.createBonus(b,c,d)},c.prototype.loosenBondBoss=function(b){b==a.GameConfig.B_MULTI&&a.GameConfig.GAME.mzBalls.length>2&&(b=a.GameConfig.B_EMPTY),a.GameConfig.GAME.createBonus(this.mGpx.getX()+c.BOND_X,this.mGpx.getY()+c.BOND_Y,b)},c.prototype.getX=function(){return this.mGpx.getX()},c.prototype.getY=function(){return this.mGpx.getY()},c.prototype.getWidth=function(){return this.mGpx.clip.width},c.prototype.getHeight=function(){return this.mGpx.clip.height},c.prototype.orderIntro=function(){this.mGpx.changeAnimation("INTRO",!1)},c.prototype.orderStand=function(){this.mGpx.changeAnimation("STAND")},c.prototype.orderLeft=function(){this.mGpx.changeAnimation("LEFT")},c.prototype.orderRight=function(){this.mGpx.changeAnimation("RIGHT")},c.prototype.orderFire=function(){this.mGpx.changeAnimation("SHOOT",!1)},c.prototype.orderFireRight=function(){this.mGpx.changeAnimation("SHOOT_R",!1)},c.prototype.orderFireSpecial=function(){this.mGpx.changeAnimation("SHOOT_E",!1)},c.prototype.orderHit=function(){this.mGpx.changeAnimation("HIT",!1)},c.prototype.orderHitShoot=function(){this.mGpx.changeAnimation("HIT2",!1)},c.prototype.orderDie=function(){this.mGpx.changeAnimation("DIE",!1)},c.prototype.orderDieHope=function(){this.mGpx.changeAnimation("HOPE",!1)},c.prototype.orderDieTotal=function(){this.mGpx.changeAnimation("DIE3",!1)},c.prototype.orderTransformation=function(){this.mGpx.changeAnimation("TRANS",!1)},Object.defineProperty(c.prototype,"life",{get:function(){return this.nLife},set:function(a){this.nLife=a},enumerable:!0,configurable:!0}),c.prototype.orderReload=function(){this.mGpx.changeAnimation("RELOAD")},c.prototype.orderFist=function(){this.mGpx.changeAnimation("FIST")},c}(a.clsActor);b.BULLET_X=35,b.BULLET_Y=160,b.BULLET_X_UP=55,b.BULLET_Y_UP=100,b.BOND_X=25,b.BOND_Y=110,b.BULLET_MAX=3,b.FREQ_SHOOT=200,b.DAMAGE_BOSS=-25,b.DAMAGE_BULLET=-20,a.clsBoss_01=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=b.call(this,c,d,e)||this;q.speedResize=0,q.dir=0,q.timeControl=0,q.STATE=0,q.f_update=!0,q._blockPoly=null,q.myType=h,q.angleBase=i,q.angleRange=j,q.time=l,q.cSwitch=m,q.STATE=a.GameConfig.CLOSE,q.speed=3*q.dir,q.dir=parseInt(k),void 0==q.dir&&(q.dir=1),q.angleEnd=q.angleBase+j*q.dir,q.mGpx=q.game.make.sprite(d,e,"atlas","Blocks/Door_1/mc_door_1_10001"),q.mGpx.anchor.set(.5),a.BaseGame.GAME_LAYER.addChild(q.mGpx),q.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/Door_1/mc_door_1_1",1,15,"",4)),q.mGpx.animations.add("STATE_0",Phaser.Animation.generateFrameNames("Blocks/Door_1/mc_door_1_1",15,15,"",4)),q.changeAnimationState("STATE_"+a.GameConfig.ON),q.Xo=d,q.Yo=e,q.mGpx.x=q.Xo,q.mGpx.y=q.Yo,q.id=g,q.nP=f,q.myAngle=360/q.nP,q.mGpx.angle=q.angleBase,q.pointSP=[],q.pointSP.push(q.game.make.sprite(q.mGpx.width/2-1,-q.mGpx.height/2+1)),q.pointSP.push(q.game.make.sprite(q.mGpx.width/2-1,q.mGpx.height/2-1)),q.pointSP.push(q.game.make.sprite(-q.mGpx.width/2+1,q.mGpx.height/2-1)),q.pointSP.push(q.game.make.sprite(-q.mGpx.width/2+1,-q.mGpx.height/2+1));for(var r=0;r<q.nP;r++)q.pointSP[r].anchor.set(.5),q.mGpx.addChild(q.pointSP[r]);q._blockPoly=[],q._blockPoly.push(new a.MPolygon([q.mGpx.width/2-1,-q.mGpx.height/2+1,q.mGpx.width/2-1,q.mGpx.height/2-1,-q.mGpx.width/2+1,q.mGpx.height/2-1,-q.mGpx.width/2+1,-q.mGpx.height/2+1])),q.point=[];for(var r=0;r<q.nP;r++)q.point.push([]),q.point[r]=[],q.point[r].push(0),q.point[r].push(0);return q.getPoints(),q.getVectors(),q.mNameClip="mc_door_"+q.myType,q.mIdClass=a.GameConfig.CLASS_DOOR,q.nTimeOpen=n,q.nTimeClose=o,q.timeControl=1e3*q.game.time.totalElapsedSeconds(),q.timeIni=q.timeControl,q.flagTimeInterval=p,q._blockPoly[0].x=q.mGpx.x,q._blockPoly[0].y=q.mGpx.y,q}return __extends(c,b),Object.defineProperty(c.prototype,"poly",{get:function(){return this._blockPoly},enumerable:!0,configurable:!0}),c.prototype.changeAnimationState=function(a){this.mGpx.animations.play(a,60,!0)},c.prototype.updateLife=function(){},c.prototype.updateManual=function(){0==this.flagTimeInterval&&(this.game.time.totalElapsedSeconds()-this.timeControl>=this.nTimeOpen||this.timeControl==this.timeIni)&&(this.STATE=a.GameConfig.CLOSE)&&(this.STATE=a.GameConfig.CHANGE_OPEN,this.speedRotation=2*this.dir,this.flagTimeInterval=!0,this.timeControl=this.game.time.totalElapsedSeconds()),
this.cSwitch.STATE==a.GameConfig.ON&&this.STATE==a.GameConfig.CLOSE&&(this.STATE=a.GameConfig.CHANGE_OPEN,this.speedRotation=2*this.dir),this.STATE==a.GameConfig.CHANGE_OPEN&&(this.mGpx.angle+=this.speedRotation,this.speedRotation>0&&this.mGpx.angle>this.angleEnd&&(this.mGpx.angle=this.angleEnd,this.STATE=a.GameConfig.OPEN,this.initTime=1),this.speedRotation<0&&this.mGpx.angle<this.angleEnd&&(this.mGpx.angle=this.angleEnd,this.STATE=a.GameConfig.OPEN,this.initTime=1),this._blockPoly[0].angle=this.mGpx.rotation,this.getPoints(),this.getVectors()),this.STATE==a.GameConfig.OPEN&&(this.changeAnimationState("STATE_"+a.GameConfig.OFF),1==this.flagTimeInterval?this.game.time.totalElapsedSeconds()-this.timeControl>=this.nTimeClose&&(this.STATE=a.GameConfig.CHANGE_CLOSE,this.speedRotation=-this.speedRotation,this.flagTimeInterval=!1,this.timeControl=this.game.time.totalElapsedSeconds()):0!=this.time&&++this.initTime%this.time==0&&(this.STATE=a.GameConfig.CHANGE_CLOSE,this.speedRotation=-this.speedRotation)),this.STATE==a.GameConfig.CHANGE_CLOSE&&(this.mGpx.angle+=this.speedRotation,this.speedRotation>0?this.mGpx.angle>this.angleBase&&(this.mGpx.angle=this.angleBase,this.STATE=a.GameConfig.CLOSE,null!=this.cSwitch&&this.cSwitch.updateState(a.GameConfig.OFF)):this.mGpx.angle<this.angleBase&&(this.mGpx.angle=this.angleBase,this.STATE=a.GameConfig.CLOSE,null!=this.cSwitch&&this.cSwitch.updateState(a.GameConfig.OFF),this.changeAnimationState("STATE_"+a.GameConfig.ON)),this._blockPoly[0].angle=this.mGpx.rotation,this.getPoints(),this.getVectors())},c.prototype.getPoints=function(){this.m=this.mGpx.angle*(Math.PI/180),this.Xo=this.mGpx.x,this.Yo=this.mGpx.y;for(var a=0;a<this.nP;a++)this.point[a][0]=this.Xo+1*(this.pointSP[a].x*Math.cos(this.m)-this.pointSP[a].y*Math.sin(this.m)),this.point[a][1]=this.Yo+1*(this.pointSP[a].x*Math.sin(this.m)+this.pointSP[a].y*Math.cos(this.m))},c.prototype.getVectors=function(){a.GameConfig.GAME.block["B"+this.id]={},a.GameConfig.GAME.block["B"+this.id].V1={p0:{x:this.point[0][0],y:this.point[0][1]},p1:{x:this.point[this.nP-1][0],y:this.point[this.nP-1][1]},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0};for(var b=2,c=this.nP-1;c>0;c--)a.GameConfig.GAME.block["B"+this.id]["V"+b]={p0:{x:this.point[c][0],y:this.point[c][1]},p1:{x:this.point[c-1][0],y:this.point[c-1][1]},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},b++;for(var d=1;d<=this.nP;d++)a.GameConfig.GAME.updateVector(a.GameConfig.GAME.block["B"+this.id]["V"+d],!0)},c.prototype.drawVector=function(){},c.prototype.free=function(){this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL},Object.defineProperty(c.prototype,"idClass",{get:function(){return this.mIdClass},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"nameClip",{get:function(){return this.mNameClip},set:function(a){this.mNameClip=a},enumerable:!0,configurable:!0}),c}(Phaser.Sprite);a.clsDoor=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h,i,j,k){var l=b.call(this,c,d,e)||this;l.STATE=0,l.loseBono=!1,l.nP=4,l.f_update=!0,l._blockPoly=null,l._isRobot=!0,l.myType=Number(g),l.typeShoot=i,l.interFrans=0;var m="mc_enemy_"+l.myType;if(l.idBono=h,l.oX=d,l.oY=e+10,l.initValues(),l.limit=k,l.move=void 0==j?0:j,l.limit>0?l.speedMove=2:l.speedMove=-2,1==l.move?(l.limitIni=l.oX,l.limit=l.limitIni+l.limit):2==l.move&&(l.limitIni=l.oY,l.limit=l.limitIni+l.limit),l.limitIni>l.limit){var n;n=l.limitIni,l.limitIni=l.limit,l.limit=n}switch(m){case"mc_enemy_1":l.mGpx=l.game.make.sprite(d,e,"atlas","Enemy_1/stand/mc_enemy_10001"),l.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Enemy_1/stand/mc_enemy_1",1,13,"",4)),l.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("Enemy_1/shoot/mc_enemy_1",14,21,"",4)),l.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("Enemy_1/hit/mc_enemy_1",22,37,"",4)),l._shadowXOffcet=1.9,l._shadowYOffcet=7.25,l._shadow=l.game.make.sprite(d+l._shadowXOffcet,e+l._shadowYOffcet,"atlas","Enemy_1/enemy_1_shadow"),l._shadow.anchor.set(.5);break;case"mc_enemy_2":l.mGpx=l.game.make.sprite(d,e,"atlas","Enemy_2/stand/mc_enemy_10001"),l.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Enemy_2/stand/mc_enemy_1",1,40,"",4)),l.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("Enemy_2/shoot/mc_enemy_1",1,11,"",4)),l.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("Enemy_2/hit/mc_enemy_1",1,5,"",4)),l._shadowXOffcet=.95,l._shadowYOffcet=11.95,l._shadow=l.game.make.sprite(d+l._shadowXOffcet,e+l._shadowYOffcet,"atlas","Enemy_2/enemy_2_shadow"),l._shadow.anchor.set(.5);break;case"mc_enemy_3":l.mGpx=l.game.make.sprite(d,e,"atlas","Enemy_2/stand/mc_enemy_10001"),l.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Enemy_3/stand/mc_enemy_1",1,30,"",4)),l.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("Enemy_3/shoot/mc_enemy_1",1,7,"",4)),l.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("Enemy_3/hit/mc_enemy_1",1,14,"",4)),l._isRobot=!1,l._shadowXOffcet=1,l._shadowYOffcet=24.05,l._shadow=l.game.make.sprite(d+l._shadowXOffcet,e+l._shadowYOffcet,"atlas","Enemy_3/enemy_3_shadow"),l._shadow.anchor.set(.5)}a.BaseGame.GAME_LAYER.addChild(l._shadow),a.BaseGame.GAME_LAYER.addChild(l.mGpx),l.mGpx.anchor.set(.5),l.changeAnimationState("STAND"),l.id=f,l.mGpx.x=l.oX,l.mGpx.y=l.oY,l.ang=Math.atan(l.BH/l.BW),l.len=Math.sqrt(l.BW/2*(l.BW/2)+l.BH/2*(l.BH/2)),l.sn=-Math.sin(l.ang)*l.len,l.cs=-Math.cos(l.ang)*l.len,l.getPoints(),l.getVectors(),l.mIdClass=a.GameConfig.CLASS_ENEMY;var o=0,p=0,q=0,r=0;return 1==l.myType?(o=0,p=-8,q=.7,r=.6):2==l.myType?(o=0,p=-2,q=1.05,r=1.05):3==l.myType&&(o=0,p=-2,q=1.05,r=1.05),l._blockPoly=[],l._blockPoly.push(new a.MPolygon([l.mGpx.width/2*q-1+o,-l.mGpx.height/2*r+1+p,l.mGpx.width/2*q-1+o,l.mGpx.height/2*r-1+p,-l.mGpx.width/2*q+1+o,l.mGpx.height/2*r-1+p,-l.mGpx.width/2*q+1+o,-l.mGpx.height/2*r+1+p])),l}return __extends(c,b),Object.defineProperty(c.prototype,"poly",{get:function(){return this._blockPoly},enumerable:!0,configurable:!0}),c.prototype.changeAnimationState=function(b){var c=this,d=null;switch(b){case"SHOOT":d=function(){c.changeAnimationState("STAND")};break;case"HIT":this._isRobot?a.SoundMixer.play("robotHit",.8):a.SoundMixer.play("zizjaHit",.8),d=function(){c.changeAnimationState("STAND")}}this.mGpx.animations.currentAnim.name!=b&&(null!=d?this.mGpx.animations.play(b,60,!1).onComplete.add(function(){d()}):this.mGpx.animations.play(b,60,!0))},c.prototype.initValues=function(){switch(this.myType){case a.GameConfig.ENEMY_ROBOT:this.life=8,this.price_die=400,this.oX+=20,this.BW=80,this.BH=40,this.interFrans=0,this.frans=300;break;case a.GameConfig.ENEMY_MEGAWHATT:this.life=4,this.price_die=400,this.BW=40,this.BH=40,this.frans=300,this.interFrans=0;break;case a.GameConfig.ENEMY_LIMAX:this.life=12,this.oX+=20,this.oY+=10,this.price_die=400,this.BW=60,this.BH=60;break;default:this.life=4,this.price_die=400,this.BW=40,this.BH=40,this.frans=200}},c.prototype.hitTestPhaserEdition=function(b,c,d,e){for(var f=e.length,g=0;g<c.length;g++)for(var h=0;h<e.length;h++){if(!(b.x<d.x+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.x>d.x-.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y<d.y+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y>d.y-.6*a.BaseGame.MAX_OBJ_WIDTH))return!1;if(c[g].hit(e[h]))return!0;if(0==--f)return!1}},c.prototype.updateManual=function(){for(var b=0;b<a.GameConfig.GAME.mzBalls.length;b++)if(this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.GAME.mzBalls[b].mGpx,a.GameConfig.GAME.mzBalls[b].poly)){var c=a.GameConfig.GAME.mzBalls[b].id+"."+this.id+"."+this.nP+"."+b;a.GameConfig.GAME.addCollision(c)}1==this.move&&this.moveHorizontal(),2==this.move&&this.moveVertical(),this._blockPoly[0].x=this.mGpx.x,this._blockPoly[0].y=this.mGpx.y,this._shadow.x=this.mGpx.x+this._shadowXOffcet,this._shadow.y=this.mGpx.y+this._shadowYOffcet},c.prototype.moveHorizontal=function(){(this.mGpx.x<this.limitIni||this.mGpx.x>this.limit)&&(this.speedMove=-this.speedMove),this.mGpx.x+=this.speedMove,this.getPoints(),this.getVectors()},c.prototype.moveVertical=function(){(this.mGpx.y<this.limitIni||this.mGpx.y>this.limit)&&(this.speedMove=-this.speedMove),this.mGpx.y+=this.speedMove,this.getPoints(),this.getVectors()},c.prototype.getPoints=function(){this.m=this.mGpx.angle*(Math.PI/180),this.oX=this.mGpx.x,this.oY=this.mGpx.y,this.p1x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p1y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.cs=-1*this.cs,this.p2x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p2y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.sn=-1*this.sn,this.p3x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p3y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.cs=-1*this.cs,this.p4x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p4y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m))},c.prototype.updateLife=function(b){this.life-=b,this.life<=0?(a.GameConfig.GAME.updateScore(this.price_die),this.free()):(a.GameConfig.GAME.updateScore(c.PRICE_HIT),this.changeAnimationState("HIT"))},c.prototype.getVectors=function(){a.GameConfig.GAME.block["B"+this.id]={},a.GameConfig.GAME.block["B"+this.id].V1={p0:{x:this.p1x,y:this.p1y},p1:{x:this.p4x,y:this.p4y},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},a.GameConfig.GAME.block["B"+this.id].V2={p0:{x:this.p4x,y:this.p4y},p1:{x:this.p3x,y:this.p3y},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},a.GameConfig.GAME.block["B"+this.id].V3={p0:{x:this.p3x,y:this.p3y},p1:{x:this.p2x,y:this.p2y},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0},a.GameConfig.GAME.block["B"+this.id].V4={p0:{x:this.p2x,y:this.p2y},p1:{x:this.p1x,y:this.p1y},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0};for(var b=1;b<5;b++)a.GameConfig.GAME.updateVector(a.GameConfig.GAME.block["B"+this.id]["V"+b],!0)},c.prototype.shoot=function(){this.changeAnimationState("SHOOT");var b=this.mGpx.x,c=this.mGpx.y+20,d=a.GameConfig.SHOOT_NORMAL,e=70;this.myType==a.GameConfig.ENEMY_ROBOT?(e=50,a.GameConfig.GAME.shootEnemy(2,b,c,d,270,0,1,e)):a.GameConfig.GAME.shootEnemy(this.typeShoot,b,c,d,270,0,1,e)},c.prototype.drawVector=function(){this._vectorGraph||(this._vectorGraph=this.game.add.graphics(0,0)),this._vectorGraph.beginFill(16724736,.2),this._vectorGraph.moveTo(this.p1x,this.p1y),this._vectorGraph.lineTo(this.p2x,this.p2y),this._vectorGraph.lineTo(this.p3x,this.p3y),this._vectorGraph.lineTo(this.p4x,this.p4y),this._vectorGraph.lineTo(this.p1x,this.p1y),this._vectorGraph.endFill()},c.prototype.free=function(){a.GameConfig.GAME.createBonus(this.mGpx.x,this.mGpx.y,this.idBono),a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"DestroyNormal/mc_destroy_normal_10001"),this.mGpx.destroy(!0),this._shadow.destroy(!0),this.STATE=a.GameConfig.ST_KILL;for(var b=0;b<a.GameConfig.GAME.mzEnemy.length;b++)a.GameConfig.GAME.mzEnemyID[b]==this.id&&(a.GameConfig.GAME.mzEnemy.splice(b,1),a.GameConfig.MAX_ENEMY-=1,a.GameConfig.UPD_ENEMY=a.GameConfig.MAX_ENEMY,b--)},Object.defineProperty(c.prototype,"idClass",{get:function(){return this.mIdClass},enumerable:!0,configurable:!0}),c}(Phaser.Sprite);b.PRICE_HIT=200,a.clsEnemy=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){}return b.diePlayer=function(){if(a.GameConfig.PLAYER_LIFE<0)return void a.GameConfig.GAME.endGame();a.GameConfig.PLAYER.changeCharacter(1),a.GameConfig.PLAYER.changeAnimation("STAND"),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_NORMAL,a.GameConfig.GAME.setGamePause(!1),a.GameConfig.GAME.mzBalls[0].mGpx.alpha=1,a.GameConfig.GAME.setBrightPaddle(!0)},b.playerEndWalk=function(){a.GameConfig.PLAYER.changeAnimation("STAND")},b.playerEndPunch=function(){a.GameConfig.PLAYER.changeAnimation("STAND"),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_NORMAL},b.playerEndShoot=function(){a.GameConfig.PLAYER.changeAnimation("STAND"),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_NORMAL},b.endChangeBen=function(){},b.endAnimationBossHope=function(){a.GameConfig.GAME.createMessage(375,150,"mc_msn_activate_omni")},b.mediumFadeOut=function(){a.GameConfig.GAME.freeWorld(),a.GameConfig.MODE_GAME==a.GameConfig.MODE_HISTORY?(a.GameConfig.LEVEL++,a.GameConfig.LEVEL>15&&a.GameConfig.GAME.winGame(),a.GameConfig.GAME.initGame()):(a.GameConfig.LEVEL++,a.GameConfig.GAME._freeGameLevel++,a.GameConfig.GAME.initGame())},b.endMessageZ=function(b){a.GameConfig.GAME.setGamePause(!1),b.destroy(!0),a.GameConfig.APLICATE_OMNI=!0,a.GameConfig.GAME.changeEternalBarrier()},b.endMessage=function(b){b.destroy(!0),a.GameConfig.GAME.setGamePause(!1)},b.endStartMessage=function(b){b.destroy(!0),a.GameConfig.GAME.setGamePause(!1),a.GameConfig.GAME.startLevel()},b.endMessageClear=function(b){a.GameConfig.GAME.free(),b.destroy(!0),a.GameConfig.GAME.updateScore(a.GameConfig.PRICE_LEVELCLEAR),a.GameConfig.GAME.createFadeOut()},b.endAnimationWin=function(){a.GameConfig.GAME.createMessage(375,150,"mc_msn_cleared")},b.endBright=function(){a.GameConfig.PLAYER.changeCharacter(a.GameConfig.ACTIVE_PLAYER),a.GameConfig.PLAYER.updateData(),a.GameConfig.GAME.setGamePause(!1),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_NORMAL},b.endBrightRed=function(){a.GameConfig.ACTIVE_PLAYER=a.GameConfig.BEN,a.GameConfig.PLAYER.changeCharacter(1),a.GameConfig.PLAYER.updateData(),a.GameConfig.PLAYER_WINNER||a.GameConfig.PLAYER.changeAnimation("DIE"),a.GameConfig.GAME.updateFace()},b.endBrightRedNormal=function(){a.GameConfig.ACTIVE_PLAYER=a.GameConfig.BEN,a.GameConfig.PLAYER.changeCharacter(1),a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_WIN&&(a.GameConfig.GAME.setGamePause(!1),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_NORMAL),a.GameConfig.GAME.updateFace(),a.GameConfig.PLAYER.updateData()},b}();a.clsFla=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(c,d,e,f,g,h){this.mRotation=0,this.mParent=null,this.movieClip=null,this.mGpxMounted=null,this.mMount=!1,this.mzLinkPoints=null,this.mTime=0,this.mTime_Rot=0,this.mDeleted=!1,this.mPause=!1,this._movieClipTest=null,this.game=c,this._charName=d;var i="",j="";switch(this.movieClip=this.game.make.sprite(g,h),this.movieClip.anchor.set(.5),this._charName){case"mc_boss_01":this._shadow=this.game.make.sprite(g,h,"mc_boss_01_a2","mc_boss_01_a2/STAND/shadow_vilgax"),this._shadow.anchor.set(.5),this._shadow.alpha=0,this.movieClip.addChild(this._shadow),i="mc_boss_01_a1",j="mc_boss_01_a1/INTRO/mc_10001";break;case"mc_shoot_enemy":i="mc_boss_01_a2",j="mc_boss_01_a2/SHOOT_1/mc_10001";break;default:console.log("ДОБАВЬ ВСЮ ХУЙНЮ ДЛЯ "+this._charName)}this._movieClipTest=this.game.make.sprite(g,h,i,j),this._movieClipTest.anchor.set(.5),this.movieClip.addChild(this._movieClipTest),this._bossAnimationOffcet=new Phaser.Point(0,0),this.setVelocity(0,0),this.setWorldLimit(b.DEF_WORLD_LIMIT_UP,b.DEF_WORLD_LIMIT_DOWN,b.DEF_WORLD_LIMIT_LEFT,b.DEF_WORLD_LIMIT_RIGHT),this.mResponseMode=b.RESPONSE_MODE_KILL,this.mState=a.GameConfig.ST_BEGIN,"mc_shoot_enemy"==this._charName?this.createShootPoly():"mc_boss_01"==this._charName&&this.createBoss1Poly(),a.BaseGame.GAME_LAYER.addChild(this.movieClip)}return b.prototype.createBoss1Poly=function(){this._bodyPoly=[],this._bodyPoly.push(new a.MPolygon([0,0,44.85,0,44.85,73.1,0,73.1])),this._headPoly=[],this._headPoly.push(new a.MPolygon([0,8,43.5,8,43.5,0,0,0])),this._absorbsPoly=[],this._absorbsPoly.push(new a.MPolygon([0,81.3,50,81.3,50,0,0,0])),this._bodyPolyOffcet=new Phaser.Point(0,0),this._headPolyOffcet=new Phaser.Point(0,0),this._absorbsPolyOffcet=new Phaser.Point(0,0)},b.prototype.createShootPoly=function(){this._shootPoly=[];this._shootPoly.push(new a.MPolygon([-this._movieClipTest.width/2.13*.2+0,this._movieClipTest.height/1.11*1.4-10,this._movieClipTest.width/1.89*.2+0,this._movieClipTest.height/1.11*1.4-10,this._movieClipTest.width/1.89*.2+0,-this._movieClipTest.height/10*1.4-10,-this._movieClipTest.width/2.13*.2+0,-this._movieClipTest.height/10*1.4-10]))},b.prototype.changeAnimation=function(b,c){var d=this;void 0===c&&(c=!0);var e=null;switch(b){case"INTRO":this._bossAnimationOffcet.set(59.45,18.1),this._movieClipTest.loadTexture("mc_boss_01_a1"),this._movieClipTest.animations.add("INTRO",Phaser.Animation.generateFrameNames("mc_boss_01_a1/INTRO/mc_1",1,106,"",4)),this._movieClipTest.anchor.set(.61,.63),e=function(){a.GameConfig.BOSS.onAnimationEnd()};break;case"TRANS":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(18.8,0),this._shadow.loadTexture("mc_boss_01_a1","mc_boss_01_a1/TRANS/shadow_vilgax"),this._shadowXOffcet=41.6,this._shadowYOffcet=103.55,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(43.7,42.7),this._movieClipTest.loadTexture("mc_boss_01_a1"),this._movieClipTest.animations.add("TRANS",Phaser.Animation.generateFrameNames("mc_boss_01_a1/TRANS/mc_1",1,54,"",4)),this._movieClipTest.anchor.set(.67,.8),e=function(){a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("TRANS")};break;case"DIE3":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(18.8,0),this._shadow.loadTexture("mc_boss_01_a1","mc_boss_01_a1/DIE3/shadow_vilgax"),this._shadowXOffcet=45.85,this._shadowYOffcet=97.65,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(38.45,41.15),this._movieClipTest.loadTexture("mc_boss_01_a1"),this._movieClipTest.animations.add("DIE3",Phaser.Animation.generateFrameNames("mc_boss_01_a1/DIE3/mc_1",1,40,"",4)),this._movieClipTest.anchor.set(.52,.35),e=function(){a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("DIE3")};break;case"DIE":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(18.8,0),this._shadow.loadTexture("mc_boss_01_a2","mc_boss_01_a2/DIE/shadow_vilgax"),this._shadowXOffcet=44.85,this._shadowYOffcet=99.65,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(45.45,54.25),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_boss_01_a2/DIE/mc_1",1,69,"",4)),this._movieClipTest.anchor.set(.61,.6),e=function(){a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("DIE")};break;case"HIT":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(14.8,2),this._shadow.loadTexture("mc_boss_01_a2","mc_boss_01_a2/HIT/shadow_vilgax"),this._shadowXOffcet=37.95,this._shadowYOffcet=87.9,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(58.2,40.85),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_boss_01_a2/HIT/mc_1",1,28,"",4)),this._movieClipTest.anchor.set(.59,.44),e=function(){a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("HIT")};break;case"HOPE":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(18.8,0),this._shadow.loadTexture("mc_boss_01_a2","mc_boss_01_a2/HOPE/shadow_vilgax"),this._shadowXOffcet=45.85,this._shadowYOffcet=97.65,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(45.6,54.9),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("HOPE",Phaser.Animation.generateFrameNames("mc_boss_01_a2/HOPE/mc_1",1,30,"",4)),this._movieClipTest.anchor.set(.49,.53),e=function(){a.clsFla.endAnimationBossHope(),d._movieClipTest.animations.stop("HOPE")};break;case"LEFT":this._bodyPolyOffcet=new Phaser.Point(18.75,8.25),this._headPolyOffcet=new Phaser.Point(19.7,0),this._absorbsPolyOffcet=new Phaser.Point(-999,-999),this._shadow.loadTexture("mc_boss_01_a2","mc_boss_01_a2/LEFT/shadow_vilgax"),this._shadowXOffcet=47.5,this._shadowYOffcet=89.1,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(41.55,53.15),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("LEFT",Phaser.Animation.generateFrameNames("mc_boss_01_a2/LEFT/mc_1",1,20,"",4)),this._movieClipTest.anchor.set(.46,.53),e=function(){};break;case"RIGHT":this._bodyPolyOffcet=new Phaser.Point(18.75,8.25),this._headPolyOffcet=new Phaser.Point(19.7,0),this._absorbsPolyOffcet=new Phaser.Point(-999,-999),this._shadow.loadTexture("mc_boss_01_a2","mc_boss_01_a2/RIGHT/shadow_vilgax"),this._shadowXOffcet=31.6,this._shadowYOffcet=89.1,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(41.9,53.15),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("RIGHT",Phaser.Animation.generateFrameNames("mc_boss_01_a2/RIGHT/mc_1",1,20,"",4)),this._movieClipTest.anchor.set(.54,.53),e=function(){};break;case"SHOOT":this._bodyPolyOffcet=new Phaser.Point(-999,-999),this._headPolyOffcet=new Phaser.Point(-999,-999),this._absorbsPolyOffcet=new Phaser.Point(14.8,2),this._shadow.loadTexture("mc_boss_01_a2","mc_boss_01_a2/SHOOT/shadow_vilgax"),this._shadowXOffcet=37.05,this._shadowYOffcet=101.9,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(63.2,45.85),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("SHOOT",Phaser.Animation.generateFrameNames("mc_boss_01_a2/SHOOT/mc_1",1,37,"",4)),this._movieClipTest.anchor.set(.63,.39),e=function(){console.log("SHOOTEND"),a.GameConfig.BOSS.onAnimationEnd(),d._movieClipTest.animations.stop("SHOOT")};break;case"STAND":this._bodyPolyOffcet=new Phaser.Point(18.75,8.25),this._headPolyOffcet=new Phaser.Point(19.7,0),this._absorbsPolyOffcet=new Phaser.Point(-999,-999),this._shadow.loadTexture("mc_boss_01_a2","mc_boss_01_a2/STAND/shadow_vilgax"),this._shadowXOffcet=33.5,this._shadowYOffcet=91.1,this._shadow.x=this._shadowXOffcet,this._shadow.y=this._shadowYOffcet,this._shadow.anchor.set(.5),this._shadow.alpha=1,this._bossAnimationOffcet.set(41.2,48.05),this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_boss_01_a2/STAND/mc_1",1,55,"",4)),this._movieClipTest.anchor.set(.5),e=function(){};break;case"SHOOT_1":this._movieClipTest.loadTexture("mc_boss_01_a2"),this._movieClipTest.animations.add("SHOOT_1",Phaser.Animation.generateFrameNames("mc_boss_01_a2/SHOOT_1/mc_1",1,3,"",4)),this._movieClipTest.anchor.set(.73,.5),e=function(){};break;default:console.log("Не могу найти анимацию: "+b)}"SHOOT"==b?(this._movieClipTest.animations.getAnimation("SHOOT").enableUpdate=!0,this._movieClipTest.animations.getAnimation("SHOOT").onUpdate.add(function(b,c){198==c.index&&a.GameConfig.BOSS.shoot()}),this._movieClipTest.animations.play(b,60,!1).onComplete.add(function(){e()})):null!=e?(console.log("запускаем анимацию "+b),this._movieClipTest.animations.play(b,60,c).onComplete.add(function(){e()})):this._movieClipTest.animations.play(b,60,c),this._movieClipTest.position=this._bossAnimationOffcet},Object.defineProperty(b.prototype,"poly",{get:function(){return this._shootPoly},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"headP",{get:function(){return this._headPoly},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"bodyP",{get:function(){return this._bodyPoly},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"absorbsP",{get:function(){return this._absorbsPoly},enumerable:!0,configurable:!0}),b.prototype.setVelocity=function(b,c){this.mVelX=b,this.mVelY=c,this.mTime=a.GameConfig.TIMER},b.prototype.setRotation=function(b,c){c?(this.mRotation=b,this.mTime_Rot=a.GameConfig.TIMER):this.movieClip.angle=b},b.prototype.setWorldLimit=function(a,b,c,d){this.mWorldLimitUp=a,this.mWorldLimitDown=b,this.mWorldLimitLeft=c,this.mWorldLimitRight=d},b.prototype.setResponseMode=function(a){this.mResponseMode=a},b.prototype.mount=function(a,b,c){this.mMount||(this.mGpxMounted=a,this.mMount_x=b,this.mMount_y=c,this.mMount=!0)},b.prototype.isMounted=function(){return this.mMount},b.prototype.dismount=function(){this.mGpxMounted=null,this.mMount=!1},b.prototype.getX=function(){return this.movieClip.x},b.prototype.getY=function(){return this.movieClip.y},b.prototype.setPosition=function(a,b){this.movieClip.x=a,this.movieClip.y=b},b.prototype.setScale=function(a){this.movieClip.scale.x=a,this.movieClip.scale.y=a},b.prototype.resize=function(a,b){this.movieClip.width=a,this.movieClip.height=b},b.prototype.addLinkPoint=function(a,b){null==this.mzLinkPoints&&(this.mzLinkPoints=[]);var c=this.mzLinkPoints.length;return this.mzLinkPoints[c]=[a,b],c},b.prototype.getLinkPoint=function(a){return null==this.mzLinkPoints?null:this.mzLinkPoints[a]},b.prototype.onWordLimit=function(){switch(console.log("LIMIT!"),this.mResponseMode){case b.RESPONSE_MODE_KILL:this.setVelocity(0,0),this.mState=a.GameConfig.ST_KILL;break;case b.RESPONSE_MODE_RIGID:this.movieClip.x<this.mWorldLimitLeft?this.movieClip.x=this.mWorldLimitLeft:this.movieClip.x>this.mWorldLimitRight&&(this.movieClip.x=this.mWorldLimitRight),this.movieClip.y<this.mWorldLimitUp?this.movieClip.y=this.mWorldLimitUp:this.movieClip.y>this.mWorldLimitDown&&(this.movieClip.y=this.mWorldLimitDown)}},b.prototype.checkWorldLimit=function(){this.movieClip.x<this.mWorldLimitLeft||this.movieClip.x>this.mWorldLimitRight?this.onWordLimit():(this.movieClip.y<this.mWorldLimitUp||this.movieClip.y>this.mWorldLimitDown)&&this.onWordLimit()},b.prototype.setPause=function(b){this.mPause=b,this.mPause||(this.mTime=a.GameConfig.TIMER,this.mTime_Rot=a.GameConfig.TIMER)},b.prototype.updateManual=function(){if(!this.mPause&&this.mState!=a.GameConfig.ST_KILL){if(this.mMount)this.movieClip.x=this.mGpxMounted.clip.x+this.mMount_x,this.movieClip.y=this.mGpxMounted.clip.y+this.mMount_y;else{if(this.mVelX||this.mVelY){var b=(a.GameConfig.TIMER-this.mTime)/100;this.mTime=a.GameConfig.TIMER,this.mVelX&&(this.movieClip.x+=this.mVelX*b),this.mVelY&&(this.movieClip.y+=this.mVelY*b)}if(this.mRotation){var b=(a.GameConfig.TIMER-this.mTime_Rot)/1e3;this.mTime_Rot=a.GameConfig.TIMER,this.movieClip.angle+=this.mRotation*b}}switch(this.checkWorldLimit(),this._charName){case"mc_boss_01":this._bodyPoly[0].x=this.movieClip.x+this._bodyPolyOffcet.x,this._bodyPoly[0].y=this.movieClip.y+this._bodyPolyOffcet.y,this._headPoly[0].x=this.movieClip.x+this._headPolyOffcet.x,this._headPoly[0].y=this.movieClip.y+this._headPolyOffcet.y,this._absorbsPoly[0].x=this.movieClip.x+this._absorbsPolyOffcet.x,this._absorbsPoly[0].y=this.movieClip.y+this._absorbsPolyOffcet.y;break;case"mc_shoot_enemy":this._shootPoly[0].x=this.movieClip.x,this._shootPoly[0].y=this.movieClip.y}}},b.prototype.free=function(){this.mDeleted||(this.movieClip.destroy(!0),this.movieClip=null,this.dismount(),console.log("UDALENIE"),this.mzLinkPoints&&(delete this.mzLinkPoints,this.mzLinkPoints=null),this.mDeleted=!0)},Object.defineProperty(b.prototype,"attack",{get:function(){return this.myAttack},set:function(a){this.myAttack=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_parent",{get:function(){return this.mParent},set:function(a){this.mParent=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"STATE",{get:function(){return this.mState},set:function(a){this.mState=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"clip",{get:function(){return this.movieClip},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_velX",{get:function(){return this.mVelX},set:function(a){this.mVelX=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_velY",{get:function(){return this.mVelY},set:function(a){this.mVelY=a},enumerable:!0,configurable:!0}),b}();b.DEF_WORLD_LIMIT_UP=-125,b.DEF_WORLD_LIMIT_DOWN=525,b.DEF_WORLD_LIMIT_LEFT=-125,b.DEF_WORLD_LIMIT_RIGHT=725,b.RESPONSE_MODE_KILL=1,b.RESPONSE_MODE_RIGID=2,a.clsMCE=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(c){this.mNodeSet=null,this.mTypeNode=b.NODE_SIMPLE,this.mTypeBond=c,this.mIndex=a.GameConfig.ST_INDEF}return b.prototype.getTypeBond=function(){if(this.mTypeNode==b.NODE_SIMPLE)return this.mTypeBond;this.mIndex>=this.mNodeSet.getCount()&&(this.mIndex=0);var a=this.mNodeSet.getObject(this.mIndex);return this.mIndex++,a.getTypeBond()},b.prototype.addBond=function(c){c&&(this.mTypeNode==b.NODE_SIMPLE&&(this.mTypeNode=b.NODE_COMPOSED,this.mIndex=0),this.mNodeSet||(this.mNodeSet=new a.clsSimSet("this.mNodeSet")),this.mNodeSet.add(c))},b.prototype.free=function(){this.mNodeSet&&(a.GameConfig.clearSimSet(this.mNodeSet),delete this.mNodeSet,this.mNodeSet=null)},Object.defineProperty(b.prototype,"nodeSet",{get:function(){return this.mNodeSet},enumerable:!0,configurable:!0}),b}();b.NODE_SIMPLE=1,b.NODE_COMPOSED=2,a.clsNodeBond=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c,d,e,f){var g=this;this.game=b,this.mGpx=this.game.add.sprite(0,0,"UI_PLANK","mc_panel_info_1"),a.BaseGame.MAIN_UI_LAYER.addChild(this.mGpx),this.createScore(),this.createBonus(),a.GameConfig.MODE_GAME==a.GameConfig.MODE_HISTORY?this.createLevel():a.GameConfig.MODE_GAME==a.GameConfig.MODE_FREEPLAY&&this.createLevelNum(),this.createEnergy(),this.createFace(),this.createLife(),this.createOmni(),this.mGpx.x=c,this.mGpx.y=d,this.updateLifes(e),this.updateScore(f),this.btn_help=new a.OButton(this.game,"UI_PLANK",["btn_panel_help_10001","btn_panel_help_10002","btn_panel_help_10003"],function(){if(!a.GameConfig.PAUSE){a.GameConfig.GAME.setGamePause(!0);var b=new a.tutorialWindow(g.game,function(){a.GameConfig.GAME.setGamePause(!1),b.destroy(!0)});g.game.stage.addChild(b)}}),this.btn_help.x=97.85,this.btn_help.y=385.5,this.mGpx.addChild(this.btn_help),this.btn_sound=new a.OButton(this.game,"UI_PLANK",["btn_panel_sound_10001","btn_panel_sound_10002","btn_panel_sound_10003"],function(){a.SoundMixer._playMusic=!a.SoundMixer._playMusic,a.SoundMixer._playMusic?a.SoundMixer.on():a.SoundMixer.off()}),this.btn_sound.x=57.3,this.btn_sound.y=385.5,this.mGpx.addChild(this.btn_sound)}return b.prototype.createEnergy=function(){this.mc_energy=this.game.make.sprite(7.7,221.4,"UI_PLANK","mc_energy_1"),this.mc_energy.anchor.set(0,.5),this.mGpx.addChild(this.mc_energy),this.mc_energyPlank=this.game.make.sprite(75.05,279.7,"UI_PLANK","mc_energy_plank_1"),this.mc_energyPlank.anchor.set(.5),this.mGpx.addChild(this.mc_energyPlank)},b.prototype.createOmni=function(){var b=this;this.mc_omni=this.game.make.sprite(81.9,332.5,"UI_PLANK","mc_panel_omni_10001"),this.mc_omni.anchor.set(.5),this.mGpx.addChild(this.mc_omni),this.mc_omni.animations.add("OMNI_0",Phaser.Animation.generateFrameNames("mc_panel_omni_1",1,9,"",4)),this.mc_omni.animations.add("OMNI_1",Phaser.Animation.generateFrameNames("mc_panel_omni_1",10,19,"",4)),this.mc_omni.animations.add("OMNI_2",Phaser.Animation.generateFrameNames("mc_panel_omni_1",20,29,"",4)),
this.mc_omni.animations.add("OMNI_3",Phaser.Animation.generateFrameNames("mc_panel_omni_1",30,39,"",4)),this.mc_omni.animations.add("OMNI_4",Phaser.Animation.generateFrameNames("mc_panel_omni_1",40,49,"",4)),this.mc_omni.animations.add("OMNI_5",Phaser.Animation.generateFrameNames("mc_panel_omni_1",50,70,"",4)),this.game.device.desktop||(this.omniBTN=new a.OButton(this.game,"UI_PLANK",["omnixBtn","omnixBtn","omnixBtn"],function(){b.omniBTN.visible=!1,b.omniBTN.enabled=!1,a.GameConfig.BOSS?a.GameConfig.BOSS&&a.GameConfig.APLICATE_OMNI&&a.GameConfig.GAME.activateOnmitrix():a.GameConfig.GAME.activateOnmitrix()}),this.omniBTN.anchor.set(.5),this.omniBTN.x=-5,this.omniBTN.y=-5,this.omniBTN.alpha=.8,this.omniBTN.visible=!1,this.omniBTN.enabled=!1,this.mc_omni.addChild(this.omniBTN))},b.prototype.createLevel=function(){this.mc_level=this.game.make.sprite(74.8,97.7,"UI_PLANK","mc_panel_name_level_10001"),this.mc_level.anchor.set(.5),this.mGpx.addChild(this.mc_level)},b.prototype.createLevelNum=function(){this.mc_levelTitle=this.game.make.sprite(55.45,94.75,"UI_PLANK","mc_panel_name_level_free_1"),this.mc_levelTitle.anchor.set(.5),this.mGpx.addChild(this.mc_levelTitle),this.mc_numLevel_u=this.game.make.sprite(109.3,95.2,"UI_PLANK","mc_panel_number_10001"),this.mc_numLevel_u.anchor.set(.5),this.mGpx.addChild(this.mc_numLevel_u),this.mc_numLevel_d=this.game.make.sprite(94.2,95.25,"UI_PLANK","mc_panel_number_10001"),this.mc_numLevel_d.anchor.set(.5),this.mGpx.addChild(this.mc_numLevel_d)},b.prototype.createLife=function(){this.mc_life=this.game.make.sprite(83.55,266.2,"UI_PLANK","mc_panel_number_10001"),this.mc_life.anchor.set(.5),this.mGpx.addChild(this.mc_life)},b.prototype.createFace=function(){this.mc_face=this.game.make.sprite(78.1,162.35,"UI_PLANK","mc_panel_head_10015"),this.mc_face.anchor.set(.5),this.mGpx.addChild(this.mc_face),this.mc_face.animations.add("HEAD1",Phaser.Animation.generateFrameNames("mc_panel_head_1",1,15,"",4)),this.mc_face.animations.add("HEAD2",Phaser.Animation.generateFrameNames("mc_panel_head_1",16,30,"",4)),this.mc_face.animations.add("HEAD3",Phaser.Animation.generateFrameNames("mc_panel_head_1",31,45,"",4)),this.mc_face.animations.add("HEAD4",Phaser.Animation.generateFrameNames("mc_panel_head_1",46,60,"",4)),this.mc_face.animations.add("HEAD5",Phaser.Animation.generateFrameNames("mc_panel_head_1",61,75,"",4)),this.mc_face.animations.add("HEAD6",Phaser.Animation.generateFrameNames("mc_panel_head_1",76,90,"",4)),this.mc_face.animations.add("HEAD7",Phaser.Animation.generateFrameNames("mc_panel_head_1",91,105,"",4))},b.prototype.createScore=function(){this.mc_vd_u=this.game.make.sprite(118.9,22.2,"UI_PLANK","mc_panel_number_10001"),this.mc_vd_u.anchor.set(.5),this.mGpx.addChild(this.mc_vd_u),this.mc_vd_d=this.game.make.sprite(104.1,22.25,"UI_PLANK","mc_panel_number_10001"),this.mc_vd_d.anchor.set(.5),this.mGpx.addChild(this.mc_vd_d),this.mc_vd_c=this.game.make.sprite(89.4,22.25,"UI_PLANK","mc_panel_number_10001"),this.mc_vd_c.anchor.set(.5),this.mGpx.addChild(this.mc_vd_c),this.mc_vd_m=this.game.make.sprite(74.75,22.25,"UI_PLANK","mc_panel_number_10001"),this.mc_vd_m.anchor.set(.5),this.mGpx.addChild(this.mc_vd_m),this.mc_vd_ml=this.game.make.sprite(60.05,22.25,"UI_PLANK","mc_panel_number_10001"),this.mc_vd_ml.anchor.set(.5),this.mGpx.addChild(this.mc_vd_ml),this.mc_vd_mll=this.game.make.sprite(45.45,22.25,"UI_PLANK","mc_panel_number_10001"),this.mc_vd_mll.anchor.set(.5),this.mGpx.addChild(this.mc_vd_mll),this.mc_vd_mlll=this.game.make.sprite(30.8,22.25,"UI_PLANK","mc_panel_number_10001"),this.mc_vd_mlll.anchor.set(.5),this.mGpx.addChild(this.mc_vd_mlll)},b.prototype.createBonus=function(){this.mc_bonus=this.game.make.sprite(74.95,59.5,"UI_PLANK","mc_bonus_10002"),this.mc_bonus.anchor.set(.5),this.mGpx.addChild(this.mc_bonus),this.mc_bonus.animations.add("BONUS_14",Phaser.Animation.generateFrameNames("mc_bonus_1",2,16,"",4)),this.mc_bonus.animations.add("BONUS_11",Phaser.Animation.generateFrameNames("mc_bonus_1",17,31,"",4))},b.prototype.updateScore=function(a){b.v_u=a%10,b.v_d=Math.floor(a/10)%10,b.v_c=Math.floor(a/100)%10,b.v_m=Math.floor(a/1e3)%10,b.v_ml=Math.floor(a/1e4)%10,b.v_mll=Math.floor(a/1e5)%10,b.v_mlll=Math.floor(a/1e6),this.mc_vd_u.frameName=b.v_u+1<9?"mc_panel_number_1000"+(b.v_u+1):"mc_panel_number_10010",this.mc_vd_d.frameName=b.v_d+1<9?"mc_panel_number_1000"+(b.v_d+1):"mc_panel_number_10010",this.mc_vd_c.frameName=b.v_c+1<9?"mc_panel_number_1000"+(b.v_c+1):"mc_panel_number_10010",this.mc_vd_m.frameName=b.v_m+1<9?"mc_panel_number_1000"+(b.v_m+1):"mc_panel_number_10010",this.mc_vd_ml.frameName=b.v_ml+1<9?"mc_panel_number_1000"+(b.v_ml+1):"mc_panel_number_10010",this.mc_vd_mll.frameName=b.v_mll+1<9?"mc_panel_number_1000"+(b.v_mll+1):"mc_panel_number_10010",this.mc_vd_mlll.frameName=b.v_mlll+1<9?"mc_panel_number_1000"+(b.v_mlll+1):"mc_panel_number_10010"},b.prototype.updateLifes=function(a){this.mc_life.frameName=9==a?"mc_panel_number_10010":"mc_panel_number_1000"+(a+1)},b.prototype.updateFace=function(a){this.mc_face.animations.play("HEAD"+a)},b.prototype.updateBonus=function(a){switch(a){case 11:this.mc_bonus.animations.play("BONUS_11",60,!1),this.mc_bonus.alpha=1;break;case 14:this.mc_bonus.animations.play("BONUS_14",60,!1),this.mc_bonus.alpha=1;break;default:this.mc_bonus.alpha=0}},b.prototype.updateOmni=function(a){var b=this;4==a?this.mc_omni.animations.play("OMNI_"+a,60,!1).onComplete.addOnce(function(){b.updateOmni(a+1)}):5==a?(this.mc_omni.animations.play("OMNI_"+a,60,!0),this.game.device.desktop||(this.omniBTN.visible=!0,this.omniBTN.enabled=!0)):this.mc_omni.animations.play("OMNI_"+a,60,!1)},b.prototype.updateNameLevel=function(a){this.mc_level.frameName="mc_panel_name_level_1000"+a},b.prototype.updateNumLevel=function(a){var b=a%10,c=Math.floor(a/10)%10;this.mc_numLevel_u.frameName=b+1<9?"mc_panel_number_1000"+(b+1):"mc_panel_number_10010",this.mc_numLevel_d.frameName=c+1<9?"mc_panel_number_1000"+(c+1):"mc_panel_number_10010"},b.prototype.updateManual=function(){switch(a.GameConfig.ACTIVE_PLAYER){case a.GameConfig.BEN:this.mc_energy.width=b.W_INI;break;case a.GameConfig.HEATBLAST:this.mc_energy.width-=.4;break;case a.GameConfig.RIPJAWS:this.mc_energy.width-=.25;break;case a.GameConfig.STINKFLY:this.mc_energy.width-=.3;break;case a.GameConfig.XLR8:this.mc_energy.width-=.35;break;case a.GameConfig.CANNONBOLT:this.mc_energy.width-=.5;break;case a.GameConfig.WILDVINE:this.mc_energy.width-=.4;break;default:this.mc_energy.width=135}a.GameConfig.ACTIVE_PLAYER!=a.GameConfig.BEN&&this.mc_energy.width<1&&a.GameConfig.GAME.changeBen()},b.prototype.free=function(){this.mGpx.destroy(!0)},b}();b.W_INI=135,a.clsPanel=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f){var g=b.call(this,c,e,f)||this;return g.shooter=!1,g.mInvincible=!1,g.mCollisionOn=!0,g._paddlePolygon=null,g._hitPolygon=null,g._bonusPolygon=null,g._shadowXoff=-30.9,g._shadow=g.game.make.sprite(e+g._shadowXoff,f+41.6,"PlayerBenHeatblast","Ben_Hero_Correct/Shadow/ben_shadow"),g._shadow.anchor.set(.07,0),g._paddle=g.game.make.sprite(e,f,"PlayerBenHeatblast","Ben_Hero_Correct/Paddle/paddle_ben_10001"),a.BaseGame.GAME_LAYER.addChild(g._shadow),a.BaseGame.GAME_LAYER.addChild(g._paddle),g.mGpx=g.game.make.sprite(0,0,"PlayerBenHeatblast","Ben_Hero_Correct/Stand/mc_player_1_ben_10001"),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_NORMAL,g.mGpx.x=e,g.mGpx.y=f,a.BaseGame.GAME_LAYER.addChild(g.mGpx),g.changeCharacter(d),g.sizePad=g._paddle.width,g.updateData(),g}return __extends(c,b),Object.defineProperty(c.prototype,"paddlePoly",{get:function(){return this._paddlePolygon},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hitPoly",{get:function(){return this._hitPolygon},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"poly",{get:function(){return this._hitPolygon},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"bonusPoly",{get:function(){return this._bonusPolygon},enumerable:!0,configurable:!0}),c.prototype.changeCharacter=function(b){var c=0,d=0,e=0,f=0;switch(b){case 1:this.mGpx.loadTexture("PlayerBenHeatblast"),this._paddle.loadTexture("PlayerBenHeatblast"),this.mGpx.animations.add("CHANGE",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Change/mc_player_1_ben_1",98,111,"",4)),this.mGpx.animations.add("DIE",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Die/mc_player_1_ben_1",112,130,"",4)),this.mGpx.animations.add("DIE2",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Die2/mc_player_1_ben_1",131,169,"",4)),this.mGpx.animations.add("PUNCH_L",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Punch_l/mc_player_1_ben_1",90,97,"",4)),this.mGpx.animations.add("PUNCH_R",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Punch_r/mc_player_1_ben_1",82,89,"",4)),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Stand/mc_player_1_ben_1",1,40,"",4)),this.mGpx.animations.add("WALK_L",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Walk_l/mc_player_1_ben_1",61,81,"",4)),this.mGpx.animations.add("WALK_R",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Walk_r/mc_player_1_ben_1",41,60,"",4)),this.mGpx.animations.add("WIN",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Win/mc_player_1_ben_1",170,219,"",4)),this._paddle.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Hero_Correct/Paddle/paddle_ben_1",1,50,"",4)),this._shadow.loadTexture("PlayerBenHeatblast","Ben_Hero_Correct/Shadow/ben_shadow"),this._shadowXoff=-30.9,this._shadow.x=this.mGpx.x+this._shadowXoff,this._shadow.y=this.mGpx.y+41.6,this._shadow.anchor.set(.07,0),this._paddle.anchor.set(.5,.3),this.mGpx.anchor.set(.55,.27),c=-7,d=0,e=.6,f=.35,this._paddlePolygon=[],this._paddlePolygon.push(this.createPoly(e,c,f,d)),c=-1,d=18,e=.125,f=.15,this._hitPolygon=[],this._hitPolygon.push(this.createPoly(e,c,f,d)),c=-3,d=17,e=.35,f=.25,this._bonusPolygon=[],this._bonusPolygon.push(this.createPoly(e,c,f,d)),a.GameConfig.GAME.ShowHideAttackBtn(!1);break;case 2:this.mGpx.loadTexture("PlayerBenHeatblast"),this._paddle.loadTexture("PlayerBenHeatblast"),this.mGpx.frameName="Ben_Heatblast_Correct/Stand/mc_player_2_heatblast_10001",this.mGpx.animations.add("CHANGE",Phaser.Animation.generateFrameNames("Ben_Heatblast_Correct/Change/mc_player_2_heatblast_1",89,100,"",4)),this.mGpx.animations.add("PUNCH_L",Phaser.Animation.generateFrameNames("Ben_Heatblast_Correct/Punch_l/mc_player_2_heatblast_1",78,88,"",4)),this.mGpx.animations.add("PUNCH_R",Phaser.Animation.generateFrameNames("Ben_Heatblast_Correct/Punch_r/mc_player_2_heatblast_1",67,77,"",4)),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Heatblast_Correct/Stand/mc_player_2_heatblast_1",1,30,"",4)),this.mGpx.animations.add("WALK_L",Phaser.Animation.generateFrameNames("Ben_Heatblast_Correct/Walk_l/mc_player_2_heatblast_1",49,66,"",4)),this.mGpx.animations.add("WALK_R",Phaser.Animation.generateFrameNames("Ben_Heatblast_Correct/Walk_r/mc_player_2_heatblast_1",31,48,"",4)),this.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("Ben_Heatblast_Correct/Shoot/mc_player_2_heatblast_1",101,112,"",4)),this._paddle.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Heatblast_Correct/Paddle/mc_paddle_animate_heatblast_1",1,50,"",4)),this._shadow.loadTexture("PlayerBenHeatblast","Ben_Heatblast_Correct/Shadow/heat_blast_shadow"),this._shadowXoff=-.75,this._shadow.x=this.mGpx.x+this._shadowXoff,this._shadow.y=this.mGpx.y+59.7,this._shadow.anchor.set(.5),this._paddle.anchor.set(.55,.45),this.mGpx.anchor.set(.55,.47),c=-14,d=0,e=.8,f=.35,this._paddlePolygon=[],this._paddlePolygon.push(this.createPoly(e,c,f,d)),c=-10,d=12,e=.2,f=.2,this._hitPolygon=[],this._hitPolygon.push(this.createPoly(e,c,f,d)),c=-12,d=17,e=.55,f=.3,this._bonusPolygon=[],this._bonusPolygon.push(this.createPoly(e,c,f,d)),a.GameConfig.GAME.ShowHideAttackBtn(!0);break;case 3:this.mGpx.loadTexture("PlayerCannonRipStink","Ben_Ripjaws_Correct/Stand/mc_player_3_ripjaws0001"),this._paddle.loadTexture("PlayerCannonRipStink"),this.mGpx.animations.add("CHANGE",Phaser.Animation.generateFrameNames("Ben_Ripjaws_Correct/Change/mc_player_3_ripjaws",83,118,"",4)),this.mGpx.animations.add("PUNCH_L",Phaser.Animation.generateFrameNames("Ben_Ripjaws_Correct/Punch_l/mc_player_3_ripjaws",75,82,"",4)),this.mGpx.animations.add("PUNCH_R",Phaser.Animation.generateFrameNames("Ben_Ripjaws_Correct/Punch_r/mc_player_3_ripjaws",67,74,"",4)),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Ripjaws_Correct/Stand/mc_player_3_ripjaws",1,35,"",4)),this.mGpx.animations.add("WALK_L",Phaser.Animation.generateFrameNames("Ben_Ripjaws_Correct/Walk_l/mc_player_3_ripjaws",52,66,"",4)),this.mGpx.animations.add("WALK_R",Phaser.Animation.generateFrameNames("Ben_Ripjaws_Correct/Walk_r/mc_player_3_ripjaws",36,51,"",4)),this._paddle.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Ripjaws_Correct/Paddle/mc_paddle_animate_ripjaws_1",1,50,"",4)),this._shadow.loadTexture("PlayerCannonRipStink","Ben_Ripjaws_Correct/Shadow/ripjaws_shadow"),this._shadowXoff=-4,this._shadow.x=this.mGpx.x+this._shadowXoff,this._shadow.y=this.mGpx.y+46.15,this._shadow.anchor.set(.5),this._paddle.anchor.set(.52,.4),this.mGpx.anchor.set(.53,.27),c=-12,d=0,e=.36,f=.35,this._paddlePolygon=[],this._paddlePolygon.push(this.createPoly(e,c,f,d)),c=-3,d=15,e=.05,f=.15,this._hitPolygon=[],this._hitPolygon.push(this.createPoly(e,c,f,d)),c=-7,d=17,e=.25,f=.3,this._bonusPolygon=[],this._bonusPolygon.push(this.createPoly(e,c,f,d));break;case 4:this.mGpx.loadTexture("PlayerCannonRipStink","Ben_Stinkfly_Correct/Stand/mc_player_4_stinkfly_10001"),this._paddle.loadTexture("PlayerCannonRipStink"),this.mGpx.animations.add("CHANGE",Phaser.Animation.generateFrameNames("Ben_Stinkfly_Correct/Change/mc_player_4_stinkfly_1",85,124,"",4)),this.mGpx.animations.add("PUNCH_L",Phaser.Animation.generateFrameNames("Ben_Stinkfly_Correct/Punch_l/mc_player_4_stinkfly_1",77,84,"",4)),this.mGpx.animations.add("PUNCH_R",Phaser.Animation.generateFrameNames("Ben_Stinkfly_Correct/Punch_r/mc_player_4_stinkfly_1",69,76,"",4)),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Stinkfly_Correct/Stand/mc_player_4_stinkfly_1",1,40,"",4)),this.mGpx.animations.add("WALK_L",Phaser.Animation.generateFrameNames("Ben_Stinkfly_Correct/Walk_l/mc_player_4_stinkfly_1",55,68,"",4)),this.mGpx.animations.add("WALK_R",Phaser.Animation.generateFrameNames("Ben_Stinkfly_Correct/Walk_r/mc_player_4_stinkfly_1",41,54,"",4)),this.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("Ben_Stinkfly_Correct/Shoot/mc_player_4_stinkfly_1",125,132,"",4)),this._paddle.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Stinkfly_Correct/Paddle/mc_paddle_animate_stinkfly_1",1,50,"",4)),this._shadow.loadTexture("PlayerCannonRipStink","Ben_Stinkfly_Correct/Shadow/shadow_stinkfly"),this._shadowXoff=-.7,this._shadow.x=this.mGpx.x+this._shadowXoff,this._shadow.y=this.mGpx.y+31.05,this._shadow.anchor.set(.5),this._paddle.anchor.set(.5,.55),this.mGpx.anchor.set(.5,.25),c=-15,d=0,e=.53,f=.32,this._paddlePolygon=[],this._paddlePolygon.push(this.createPoly(e,c,f,d)),c=-3,d=15,e=.08,f=.18,this._hitPolygon=[],this._hitPolygon.push(this.createPoly(e,c,f,d)),c=-7,d=17,e=.25,f=.3,this._bonusPolygon=[],this._bonusPolygon.push(this.createPoly(e,c,f,d)),a.GameConfig.GAME.ShowHideAttackBtn(!0);break;case 5:this.mGpx.loadTexture("PlayerWildvineXlr","Ben_Xlr8_Correct/Stand/mc_player_5_XLR8_10001"),this._paddle.loadTexture("PlayerWildvineXlr"),this.mGpx.animations.add("CHANGE",Phaser.Animation.generateFrameNames("Ben_Xlr8_Correct/Change/mc_player_5_XLR8_1",84,124,"",4)),this.mGpx.animations.add("PUNCH_L",Phaser.Animation.generateFrameNames("Ben_Xlr8_Correct/Punch_l/mc_player_5_XLR8_1",78,83,"",4)),this.mGpx.animations.add("PUNCH_R",Phaser.Animation.generateFrameNames("Ben_Xlr8_Correct/Punch_r/mc_player_5_XLR8_1",71,77,"",4)),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Xlr8_Correct/Stand/mc_player_5_XLR8_1",1,40,"",4)),this.mGpx.animations.add("WALK_L",Phaser.Animation.generateFrameNames("Ben_Xlr8_Correct/Walk_l/mc_player_5_XLR8_1",56,70,"",4)),this.mGpx.animations.add("WALK_R",Phaser.Animation.generateFrameNames("Ben_Xlr8_Correct/Walk_r/mc_player_5_XLR8_1",41,55,"",4)),this._paddle.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Xlr8_Correct/Paddle/mc_paddle_animate_xlr8_1",1,50,"",4)),this._shadow.loadTexture("PlayerWildvineXlr","Ben_Xlr8_Correct/Shadow/shadow_xlr8"),this._shadowXoff=-43.65,this._shadow.x=this.mGpx.x+this._shadowXoff,this._shadow.y=this.mGpx.y+35.15,this._shadow.anchor.set(0),this._paddle.anchor.set(.55,.4),this.mGpx.anchor.set(.51,.2),c=-12,d=7,e=.62,f=.38,this._paddlePolygon=[],this._paddlePolygon.push(this.createPoly(e,c,f,d)),c=-3,d=20,e=.15,f=.16,this._hitPolygon=[],this._hitPolygon.push(this.createPoly(e,c,f,d)),c=-7,d=17,e=.4,f=.35,this._bonusPolygon=[],this._bonusPolygon.push(this.createPoly(e,c,f,d));break;case 6:this.mGpx.loadTexture("PlayerCannonRipStink","Ben_CannonBolt_Correct/Stand/mc_player_6_canonBolt_10001"),this._paddle.loadTexture("PlayerCannonRipStink"),this.mGpx.animations.add("CHANGE",Phaser.Animation.generateFrameNames("Ben_CannonBolt_Correct/Change/mc_player_6_canonBolt_1",110,172,"",4)),this.mGpx.animations.add("PUNCH_L",Phaser.Animation.generateFrameNames("Ben_CannonBolt_Correct/Punch_l/mc_player_6_canonBolt_1",102,109,"",4)),this.mGpx.animations.add("PUNCH_R",Phaser.Animation.generateFrameNames("Ben_CannonBolt_Correct/Punch_r/mc_player_6_canonBolt_1",94,101,"",4)),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_CannonBolt_Correct/Stand/mc_player_6_canonBolt_1",1,62,"",4)),this.mGpx.animations.add("WALK_L",Phaser.Animation.generateFrameNames("Ben_CannonBolt_Correct/Walk_l/mc_player_6_canonBolt_1",79,93,"",4)),this.mGpx.animations.add("WALK_R",Phaser.Animation.generateFrameNames("Ben_CannonBolt_Correct/Walk_r/mc_player_6_canonBolt_1",63,78,"",4)),this._paddle.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_CannonBolt_Correct/Paddle/mc_paddle_animate_cannonBolt_1",1,50,"",4)),this._shadow.loadTexture("PlayerCannonRipStink","Ben_CannonBolt_Correct/Shadow/shadow_cannonball"),this._shadowXoff=2.55,this._shadow.x=this.mGpx.x+this._shadowXoff,this._shadow.y=this.mGpx.y+59.95,this._shadow.anchor.set(.5),this._paddle.anchor.set(.5,.5),this.mGpx.anchor.set(.5,.41),c=-17,d=7,e=.6,f=.38,this._paddlePolygon=[],this._paddlePolygon.push(this.createPoly(e,c,f,d)),c=-5,d=20,e=.2,f=.2,this._hitPolygon=[],this._hitPolygon.push(this.createPoly(e,c,f,d)),c=-7,d=17,e=.43,f=.35,this._bonusPolygon=[],this._bonusPolygon.push(this.createPoly(e,c,f,d));break;case 7:this.mGpx.loadTexture("PlayerWildvineXlr","Ben_Wildvine_Correct/Stand/mc_player_7_wildvine_10001"),this._paddle.loadTexture("PlayerWildvineXlr"),this.mGpx.animations.add("CHANGE",Phaser.Animation.generateFrameNames("Ben_Wildvine_Correct/Change/mc_player_7_wildvine_1",72,95,"",4)),this.mGpx.animations.add("PUNCH_L",Phaser.Animation.generateFrameNames("Ben_Wildvine_Correct/Punch_l/mc_player_7_wildvine_1",64,71,"",4)),this.mGpx.animations.add("PUNCH_R",Phaser.Animation.generateFrameNames("Ben_Wildvine_Correct/Punch_r/mc_player_7_wildvine_1",55,63,"",4)),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Wildvine_Correct/Stand/mc_player_7_wildvine_1",1,23,"",4)),this.mGpx.animations.add("WALK_L",Phaser.Animation.generateFrameNames("Ben_Wildvine_Correct/Walk_l/mc_player_7_wildvine_1",40,54,"",4)),this.mGpx.animations.add("WALK_R",Phaser.Animation.generateFrameNames("Ben_Wildvine_Correct/Walk_r/mc_player_7_wildvine_1",24,39,"",4)),this.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("Ben_Wildvine_Correct/Shoot/mc_player_7_wildvine_1",96,102,"",4)),this._paddle.animations.add("STAND",Phaser.Animation.generateFrameNames("Ben_Wildvine_Correct/Paddle/mc_paddle_animate_wildvine_1",1,50,"",4)),this._shadow.loadTexture("PlayerWildvineXlr","Ben_Wildvine_Correct/Shadow/shadow_wildvine"),this._shadowXoff=-1.15,this._shadow.x=this.mGpx.x+this._shadowXoff,this._shadow.y=this.mGpx.y+48.25,this._shadow.anchor.set(.5),this._paddle.anchor.set(.5,.55),this.mGpx.anchor.set(.5,.33),c=-10,d=0,e=.66,f=.32,this._paddlePolygon=[],this._paddlePolygon.push(this.createPoly(e,c,f,d)),c=-3,d=15,e=.16,f=.18,this._hitPolygon=[],this._hitPolygon.push(this.createPoly(e,c,f,d)),c=-7,d=20,e=.45,f=.3,this._bonusPolygon=[],this._bonusPolygon.push(this.createPoly(e,c,f,d)),a.GameConfig.GAME.ShowHideAttackBtn(!0)}this.changeAnimation("STAND"),this._paddle.animations.play("STAND",60,!0),this._paddlePolygon[0].x=this._paddle.x,this._paddlePolygon[0].y=this._paddle.y,this._hitPolygon[0].x=this._paddle.x,this._hitPolygon[0].y=this._paddle.y,this._bonusPolygon[0].x=this._paddle.x,this._bonusPolygon[0].y=this._paddle.y},c.prototype.createPoly=function(b,c,d,e){return new a.MPolygon([-this._paddle.width/2.5*b+c,-this._paddle.height/2.86*d+e,this._paddle.width/1.66*b+c,-this._paddle.height/2.86*d+e,this._paddle.width/1.66*b+c,this._paddle.height/1.33*d+e,-this._paddle.width/2.5*b+c,this._paddle.height/1.33*d+e])},c.prototype.changeAnimation=function(b,c){void 0===c&&(c=!0);var d=null;switch(b){case"DIE2":case"DIE":a.SoundMixer.play("benAttacked",.8),d=function(){a.clsFla.diePlayer()};break;case"PUNCH_L":case"PUNCH_R":a.SoundMixer.play("ballKick",.8),d=function(){a.clsFla.playerEndPunch()};break;case"WALK_L":case"WALK_R":d=function(){a.clsFla.playerEndWalk()};break;case"SHOOT":d=function(){a.clsFla.playerEndShoot()};break;case"CHANGE":d=function(){a.clsFla.endChangeBen()};break;case"WIN":d=function(){a.clsFla.endAnimationWin()}}this.mGpx.animations.currentAnim.name!=b&&("WIN"==b?(this.mGpx.animations.getAnimation("WIN").enableUpdate=!0,this.mGpx.animations.play(b,60,!1).onUpdate.add(function(a,b){404==b.index&&d()})):null!=d?this.mGpx.animations.play(b,60,!1).onComplete.add(function(){d()}):this.mGpx.animations.play(b,60,c))},c.prototype.disableCollision=function(a){this.mCollisionOn=!a,this.mCollisionOn?this.mGpx.alpha=100:this.mGpx.alpha=50},c.prototype.isCollisionActive=function(){return this.mCollisionOn},c.prototype.setInvincible=function(a){this.mInvincible=a},c.prototype.isInvincible=function(){return this.mInvincible},c.prototype.updateData=function(){switch(this.shooter=!1,this.speed=5,a.GameConfig.ACTIVE_PLAYER){case a.GameConfig.BEN:this.speed=13,this.snap=7,this.updateDataBall(a.GameConfig.BEN,2);break;case a.GameConfig.HEATBLAST:this.speed=17,this.snap=9,this.shooter=!0,this.updateDataBall(a.GameConfig.HEATBLAST,5);break;case a.GameConfig.RIPJAWS:this.speed=14,this.snap=7,this.updateDataBall(a.GameConfig.RIPJAWS,6);break;case a.GameConfig.STINKFLY:this.speed=19,this.snap=10,this.shooter=!0,this.updateDataBall(a.GameConfig.STINKFLY,5);break;case a.GameConfig.XLR8:this.speed=30,this.snap=20,this.updateDataBall(a.GameConfig.XLR8,6);break;case a.GameConfig.CANNONBOLT:this.speed=10,this.snap=5,this.updateDataBall(a.GameConfig.CANNONBOLT,10);break;case a.GameConfig.WILDVINE:this.speed=15,this.snap=7,this.shooter=!0,this.updateDataBall(a.GameConfig.WILDVINE,5)}this.sizePad=this._paddle.width},c.prototype.updateDataBall=function(b,c){for(var d=0;d<a.GameConfig.GAME.mzBalls.length;d++)a.GameConfig.GAME.mzBalls[d].changeBallSkin(b),a.GameConfig.GAME.mzBalls[d].myDamage=c},c.prototype.updateManual=function(){if(a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_DIE&&a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_CHANGE&&a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_WIN){if(a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_SHOOT&&a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_PUNCH)if(this.game.device.desktop){this.xEnd=a.GameConfig.GAME.xMouce;var b,d=this.xEnd-this.mGpx.x;d>this.snap?(b=this.speed,this.changeAnimation("WALK_R")):d<-this.snap?(b=-this.speed,this.changeAnimation("WALK_L")):(b=0,this.mGpx.x=this.xEnd),this.mGpx.x+=b,this.mGpx.x>c.LIMIT_RIGTH-this.sizePad/2&&(this.mGpx.x=c.LIMIT_RIGTH-this.sizePad/2),this.mGpx.x<c.LIMIT_LEFT+this.sizePad/2&&(this.mGpx.x=c.LIMIT_LEFT+this.sizePad/2)}else a.BaseGame.R_DIR_DOWN&&(a.GameConfig.STATE_PLAYER==a.GameConfig.ST_PLAYER_NORMAL&&this.changeAnimation("WALK_R"),this.mGpx.x+=this.speed,this.mGpx.x>c.LIMIT_RIGTH-this.sizePad/2&&(this.mGpx.x=c.LIMIT_RIGTH-this.sizePad/2)),a.BaseGame.L_DIR_DOWN&&(a.GameConfig.STATE_PLAYER==a.GameConfig.ST_PLAYER_NORMAL&&this.changeAnimation("WALK_L"),this.mGpx.x-=this.speed,this.mGpx.x<c.LIMIT_LEFT+this.sizePad/2&&(this.mGpx.x=c.LIMIT_LEFT+this.sizePad/2));this._shadow.x=this.mGpx.x+this._shadowXoff,this._paddle.x=this.mGpx.x,this._paddlePolygon[0].x=this._paddle.x,this._hitPolygon[0].x=this._paddle.x,this._bonusPolygon[0].x=this._paddle.x,a.GameConfig.MODEKEYBOARD}},c.prototype.shoot=function(){a.GameConfig.PLAYER.shooter&&a.GameConfig.STATE_PLAYER==a.GameConfig.ST_PLAYER_NORMAL&&(a.GameConfig.PLAYER.changeAnimation("SHOOT"),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_SHOOT,a.GameConfig.GAME.createBulletPlayer(this.mGpx.x,this.mGpx.y))},c.prototype.processHit=function(b,c){this.mInvincible||a.GameConfig.GAME.diePlayer(1)},c.prototype.free=function(){this._shadow.destroy(!0),this.mGpx.destroy(!0)},c}(Phaser.Sprite);b.LIMIT_LEFT=160,b.LIMIT_RIGTH=580,a.clsPlayer=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h,i,j){var k=b.call(this,c,0,0)||this;k.speedResize=0,k.speedRotation=0,k.dir=0,k.STATE=0,k.f_update=!0,k.speedBoss=!1,k._blockPoly=null,k.myType=h,k.mGpx=k.game.make.sprite(d,e),k._blockPoly=[],a.BaseGame.GAME_LAYER.addChild(k.mGpx),k.Xo=d,k.Yo=e,k.myScale=void 0==j?100:j,k.dir=i,void 0==k.dir&&(k.dir=1),k.initValues(k.myType),k.mGpx.x=k.Xo,k.mGpx.y=k.Yo,k.id=g,k.nP=f,k.myAngle=360/k.nP,k.loadAllGSheet(h),k.getPoints(),k.getVectors(),k.mIdClass=a.GameConfig.CLASS_SHAPE;for(var l=0;l<k._blockPoly.length;l++)k._blockPoly[l].x=k.mGpx.x,k._blockPoly[l].y=k.mGpx.y;return k}return __extends(c,b),c.prototype.updateLife=function(){},c.prototype.loadAllGSheet=function(b){this._blockPoly=[],this.pointSP=[],this.point=[];var c=!0;switch(b){case 1:this.mGpx.loadTexture("atlas","Blocks/shape_1/mc_shape1_10001"),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Blocks/shape_1/mc_shape1_1",1,27,"",4)),this.mGpx.anchor.set(.5),this.pointSP.push(this.game.make.sprite(this.mGpx.width/2-1,-this.mGpx.height/2+1)),this.pointSP.push(this.game.make.sprite(this.mGpx.width/2-1,this.mGpx.height/2-1)),this.pointSP.push(this.game.make.sprite(-this.mGpx.width/2+1,this.mGpx.height/2-1)),this.pointSP.push(this.game.make.sprite(-this.mGpx.width/2+1,-this.mGpx.height/2+1));for(var d=0;d<this.nP;d++)this.pointSP[d].anchor.set(.5),this.mGpx.addChild(this.pointSP[d]);for(var d=0;d<this.nP;d++)this.point.push([]),this.point[d]=[],this.point[d].push(0),this.point[d].push(0);this._blockPoly.push(new a.MPolygon([this.mGpx.width/2-1,-this.mGpx.height/2+1,this.mGpx.width/2-1,this.mGpx.height/2-1,-this.mGpx.width/2+1,this.mGpx.height/2-1,-this.mGpx.width/2+1,-this.mGpx.height/2+1]));break;case 2:this.mGpx.loadTexture("atlas","Blocks/shape_2/mc_shape2_20001"),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Blocks/shape_2/mc_shape2_2",1,9,"",4)),this.mGpx.anchor.set(.5,.67),this.pointSP.push(this.game.make.sprite(36.8,22.5)),this.pointSP.push(this.game.make.sprite(-37.75,20.85)),this.pointSP.push(this.game.make.sprite(0,-43.85));for(var d=0;d<this.nP;d++)this.pointSP[d].anchor.set(.5),this.mGpx.addChild(this.pointSP[d]);for(var d=0;d<this.nP;d++)this.point.push([]),this.point[d]=[],this.point[d].push(0),this.point[d].push(0);this._blockPoly.push(new a.MPolygon([36.8,22.5,-37.75,20.85,0,-43.85]));break;case 3:this.mGpx.loadTexture("atlas","Blocks/shape_3/mc_shape3_10001"),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Blocks/shape_3/mc_shape3_1",1,40,"",4)),this.mGpx.anchor.set(.5),this.pointSP.push(this.game.make.sprite(17.5,.2)),this.pointSP.push(this.game.make.sprite(8.5,17.45)),this.pointSP.push(this.game.make.sprite(-8.55,17.95)),this.pointSP.push(this.game.make.sprite(-17.7,0)),this.pointSP.push(this.game.make.sprite(-8.8,-17.5)),this.pointSP.push(this.game.make.sprite(8.8,-17.5));for(var d=0;d<this.nP;d++)this.pointSP[d].anchor.set(.5),this.mGpx.addChild(this.pointSP[d]);for(var d=0;d<this.nP;d++)this.point.push([]),this.point[d]=[],this.point[d].push(0),this.point[d].push(0);this._blockPoly.push(new a.MPolygon([17.5,.2,8.5,17.45,-8.55,17.95,-17.7,0,-8.8,-17.5,8.8,-17.5]));break;case 4:this.mGpx.loadTexture("atlas","Blocks/shape_4/mc_shape4_10001"),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Blocks/shape_4/mc_shape4_1",1,27,"",4)),this.mGpx.anchor.set(.5),this.pointSP.push(this.game.make.sprite(39.65,-4.6)),this.pointSP.push(this.game.make.sprite(39.45,4.85)),this.pointSP.push(this.game.make.sprite(5.2,5.5)),this.pointSP.push(this.game.make.sprite(5,40.25)),this.pointSP.push(this.game.make.sprite(-5.05,39.75)),this.pointSP.push(this.game.make.sprite(-5.5,4.9)),this.pointSP.push(this.game.make.sprite(-40,5)),this.pointSP.push(this.game.make.sprite(-40,-5)),this.pointSP.push(this.game.make.sprite(-5.05,-4.9)),this.pointSP.push(this.game.make.sprite(-5,-39.75)),this.pointSP.push(this.game.make.sprite(5,-39.75)),this.pointSP.push(this.game.make.sprite(5.5,-5.6));for(var d=0;d<this.nP;d++)this.pointSP[d].anchor.set(.5),this.mGpx.addChild(this.pointSP[d]);for(var d=0;d<this.nP;d++)this.point.push([]),this.point[d]=[],this.point[d].push(0),this.point[d].push(0);this._blockPoly.push(new a.MPolygon([5,-39.75,5,40.25,-5.05,39.75,-5,-39.75])),this._blockPoly.push(new a.MPolygon([39.65,-4.6,39.65,4.85,-40,5,-40,-5]));break;case 5:this.mGpx.loadTexture("atlas","Blocks/shape_5/mc_shape5_10001"),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Blocks/shape_5/mc_shape5_1",1,1,"",4)),this.mGpx.anchor.set(.39,.51),this.pointSP.push(this.game.make.sprite(39.65,-4.6)),this.pointSP.push(this.game.make.sprite(39.45,4.85)),this.pointSP.push(this.game.make.sprite(2.6,5.5)),this.pointSP.push(this.game.make.sprite(-17.75,36.1)),this.pointSP.push(this.game.make.sprite(-25.65,30.55)),this.pointSP.push(this.game.make.sprite(-7.1,.1)),this.pointSP.push(this.game.make.sprite(-23.45,33.45)),this.pointSP.push(this.game.make.sprite(-14.55,-38)),this.pointSP.push(this.game.make.sprite(2.7,-5.6));for(var d=0;d<this.nP;d++)this.pointSP[d].anchor.set(.5),this.mGpx.addChild(this.pointSP[d]);for(var d=0;d<this.nP;d++)this.point.push([]),this.point[d]=[],this.point[d].push(0),this.point[d].push(0);this._blockPoly.push(new a.MPolygon([39.65,-4.6,39.45,4.85,2.6,5.5,2.7,-5.6])),this._blockPoly.push(new a.MPolygon([2.6,5.5,-17.75,36.1,-25.65,30.55,-7.1,.1])),this._blockPoly.push(new a.MPolygon([-7.1,.1,-23.45,-33.45,-14.55,-38,2.7,-5.6]));break;case 11:c=!1,this.pointSP.push(this.game.make.sprite(452.65,.1)),this.pointSP.push(this.game.make.sprite(453,100.2)),this.pointSP.push(this.game.make.sprite(432.8,100.2)),this.pointSP.push(this.game.make.sprite(419.5,81.95)),this.pointSP.push(this.game.make.sprite(395.85,67.75)),this.pointSP.push(this.game.make.sprite(366.4,57.25)),this.pointSP.push(this.game.make.sprite(334.85,49.15)),
this.pointSP.push(this.game.make.sprite(334.85,49.15)),this.pointSP.push(this.game.make.sprite(308.15,44.75)),this.pointSP.push(this.game.make.sprite(278.6,41.4)),this.pointSP.push(this.game.make.sprite(246.8,39.85)),this.pointSP.push(this.game.make.sprite(215.25,39.7)),this.pointSP.push(this.game.make.sprite(186.85,41.05)),this.pointSP.push(this.game.make.sprite(157.45,43.4)),this.pointSP.push(this.game.make.sprite(126.2,47.8)),this.pointSP.push(this.game.make.sprite(96.3,54.2)),this.pointSP.push(this.game.make.sprite(67.6,63.7)),this.pointSP.push(this.game.make.sprite(40.2,76.75)),this.pointSP.push(this.game.make.sprite(21.8,100.2)),this.pointSP.push(this.game.make.sprite(0,100.05)),this.pointSP.push(this.game.make.sprite(0,0)),this.nP=this.pointSP.length;for(var d=0;d<this.nP;d++)this.pointSP[d].anchor.set(.5),this.mGpx.addChild(this.pointSP[d]);for(var d=0;d<this.nP;d++)this.point.push([]),this.point[d]=[],this.point[d].push(0),this.point[d].push(0);for(var e=1;e<this.pointSP.length-1;e++)this._blockPoly.push(new a.MPolygon([this.pointSP[e].x,0,this.pointSP[e].x,this.pointSP[e].y,this.pointSP[e+1].x,this.pointSP[e+1].y,this.pointSP[e+1].x,0]));break;case 12:this.mGpx.anchor.set(.5),this.pointSP.push(this.game.make.sprite(59.35,4.35)),this.pointSP.push(this.game.make.sprite(59.35,71.35)),this.pointSP.push(this.game.make.sprite(22.35,71.35)),this.pointSP.push(this.game.make.sprite(22.35,4.35));for(var d=0;d<this.nP;d++)this.pointSP[d].anchor.set(.5),this.mGpx.addChild(this.pointSP[d]);for(var d=0;d<this.nP;d++)this.point.push([]),this.point[d]=[],this.point[d].push(0),this.point[d].push(0);this._blockPoly.push(new a.MPolygon([59.35,4.35,59.35,71.35,22.35,71.35,22.35,4.35]))}c&&this.mGpx.animations.play("STAND",60,!0)},Object.defineProperty(c.prototype,"poly",{get:function(){return this._blockPoly},enumerable:!0,configurable:!0}),c.prototype.updateManual=function(){if(0!=this.speedRotation){this.mGpx.angle+=this.speedRotation;for(var a=0;a<this._blockPoly.length;a++)this._blockPoly[a].angle=this.mGpx.rotation;this.getPoints(),this.getVectors()}0!=this.speedResize&&(this.resize(),this.getPoints(),this.getVectors()),1==this.speedBoss&&(this.getPoints(),this.getVectors());for(var a=0;a<this._blockPoly.length;a++)this._blockPoly[a].x=this.mGpx.x,this._blockPoly[a].y=this.mGpx.y},c.prototype.initValues=function(b){switch(b){case a.GameConfig.SHAPE1:this.Yo+=10,this.speedRotation=1.5*this.dir;break;case a.GameConfig.SHAPE2:this.Yo+=10,this.speedRotation=1*this.dir;break;case a.GameConfig.SHAPE3:case 4:case 5:this.Yo+=10,this.speedRotation=1.5*this.dir;break;case 11:this.mGpx.alpha=0;break;case 12:case 13:this.speedRotation=0,this.speedBoss=!0;break;default:this.speedRotation=0}},c.prototype.getPoints=function(){this.m=this.mGpx.angle*(Math.PI/180),12!=this.myType&&13!=this.myType?(this.Xo=this.mGpx.x,this.Yo=this.mGpx.y):12==this.myType?1!=a.GameConfig.BOSSHOPE?(this.Xo=a.GameConfig.BOSS.mGpx.getX(),this.Yo=a.GameConfig.BOSS.mGpx.getY(),this.mGpx.x=this.Xo,this.mGpx.y=this.Yo):(this.Xo=a.GameConfig.BOSS.mGpx.getX(),this.Yo=35+a.GameConfig.BOSS.mGpx.getY(),this.mGpx.x=this.Xo,this.mGpx.y=this.Yo):13==this.myType&&(1!=a.GameConfig.BOSSFIRE?(this.Xo=a.GameConfig.BOSS.mGpx.getX(),this.Yo=a.GameConfig.BOSS.mGpx.getY(),this.mGpx.x=this.Xo,this.mGpx.y=this.Yo):(this.Xo=a.GameConfig.BOSS.mGpx.getX(),this.Yo=a.GameConfig.BOSS.mGpx.getY()-30,this.mGpx.x=this.Xo,this.mGpx.y=this.Yo));for(var b=0;b<this.nP;b++)this.point[b][0]=this.Xo+1*(this.pointSP[b].x*Math.cos(this.m)-this.pointSP[b].y*Math.sin(this.m)),this.point[b][1]=this.Yo+1*(this.pointSP[b].x*Math.sin(this.m)+this.pointSP[b].y*Math.cos(this.m))},c.prototype.getVectors=function(){a.GameConfig.GAME.block["B"+this.id]={},a.GameConfig.GAME.block["B"+this.id].V1={p0:{x:this.point[0][0],y:this.point[0][1]},p1:{x:this.point[this.nP-1][0],y:this.point[this.nP-1][1]}};for(var b=2,c=this.nP-1;c>0;c--)a.GameConfig.GAME.block["B"+this.id]["V"+b]={p0:{x:this.point[c][0],y:this.point[c][1]},p1:{x:this.point[c-1][0],y:this.point[c-1][1]}},b++;for(var d=1;d<=this.nP;d++)a.GameConfig.GAME.updateVector(a.GameConfig.GAME.block["B"+this.id]["V"+d],!0)},c.prototype.resize=function(){(this.mGpx.scale.x<50||this.mGpx.scale.x>200)&&(this.speedResize=-this.speedResize),this.mGpx.scale.x+=this.speedResize,this.mGpx.scale.y+=this.speedResize},c.prototype.free=function(){this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL},Object.defineProperty(c.prototype,"idClass",{get:function(){return this.mIdClass},enumerable:!0,configurable:!0}),c}(Phaser.Sprite);a.clsShape=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(d,e,f,g,h,i,j){var k=b.call(this,d,f,g)||this;k.STATE=0,k.mType=h,k.mDamage=50,void 0==e&&(e=1),k.mGpx=k.game.make.sprite(f,g,"atlas","Enemy_1/shoot_element/mc_shoot_smmal_enemy_element_10001"),k.mGpx.anchor.set(.53,.1),a.BaseGame.GAME_LAYER.addChild(k.mGpx),k.mGpx.x=f,k.mGpx.y=g,k.mSpeed=2,6==e?(k.mSpeed=8,c.LIMIT_Y_END=800):5==e&&(k.mSpeed=6),k.changeAnimationState("SHOOT_"+e),void 0==i&&(i=180),k.mAngleDir=i,k.mGpx.angle=90-k.mAngleDir,k.dy=a.GameConfig.PLAYER.mGpx.y-k.mGpx.y;var l=a.GameConfig.PLAYER.mGpx.x-k.mGpx.x,m=Math.atan(l/k.dy);k.mType==a.GameConfig.SHOOT_SPECIAL&&(k.mGpx.angle=180*Math.atan2(k.mGpx.y-a.GameConfig.PLAYER.mGpx.y,k.mGpx.x-a.GameConfig.PLAYER.mGpx.x)/Math.PI),k.dCos=Math.cos(m),k.dSin=Math.sin(m);return k._shootPoly=[],k._shootPoly.push(new a.MPolygon([-k.mGpx.width/2.13*.3+0,k.mGpx.height/1.11*.15+0,k.mGpx.width/1.89*.3+0,k.mGpx.height/1.11*.15+0,k.mGpx.width/1.89*.3+0,-k.mGpx.height/10*.15+0,-k.mGpx.width/2.13*.3+0,-k.mGpx.height/10*.15+0])),k._shootPoly[0].angle=k.mGpx.rotation,k}return __extends(c,b),c.prototype.changeAnimationState=function(a){switch(a){case"SHOOT_1":this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Enemy_1/shoot_element/mc_shoot_smmal_enemy_element_1",1,2,"",4));break;case"SHOOT_2":this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Enemy_2/shoot_element/mc_shoot_smmal_enemy_element_1",1,2,"",4));break;case"SHOOT_3":this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("Enemy_3/shoot_element/mc_shoot_smmal_enemy_element_10001",1,1,"",4))}this.mGpx.animations.play("STAND",60,!0)},Object.defineProperty(c.prototype,"poly",{get:function(){return this._shootPoly},enumerable:!0,configurable:!0}),c.prototype.updateManual=function(){this.mType==a.GameConfig.SHOOT_NORMAL&&this.normalMove(),this.mType==a.GameConfig.SHOOT_SPECIAL&&this.specialMove(),this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.PLAYER.mGpx,a.GameConfig.PLAYER._hitPolygon)&&(a.SoundMixer.play("robo_attack",.8),a.GameConfig.GAME.diePlayer(1),this.free()),(this.mGpx.x<=c.LIMIT_X_INI||this.mGpx.x>=c.LIMIT_X_END)&&this.free(),(this.mGpx.y<=c.LIMIT_Y_INI||this.mGpx.y>=c.LIMIT_Y_END)&&this.free(),this._shootPoly[0].x=this.mGpx.x,this._shootPoly[0].y=this.mGpx.y},c.prototype.hitTestPhaserEdition=function(b,c,d,e){for(var f=e.length,g=0;g<c.length;g++)for(var h=0;h<e.length;h++){if(!(b.x<d.x+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.x>d.x-.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y<d.y+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y>d.y-.6*a.BaseGame.MAX_OBJ_WIDTH))return!1;if(c[g].hit(e[h]))return!0;if(0==--f)return!1}},c.prototype.updateLife=function(){},c.prototype.normalMove=function(){this.mGpx.x+=this.mSpeed*Math.sin((this.mAngleDir+90)*(Math.PI/180)),this.mGpx.y+=this.mSpeed*Math.cos((this.mAngleDir+90)*(Math.PI/180))},c.prototype.specialMove=function(){this.dy>0&&(this.mGpx.y+=this.mSpeed*this.dCos,this.mGpx.x+=this.mSpeed*this.dSin),this.dy<0&&(this.mGpx.y-=this.mSpeed*this.dCos,this.mGpx.x-=this.mSpeed*this.dSin)},c.prototype.free=function(){this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL},c}(Phaser.Sprite);b.LIMIT_X_INI=150,b.LIMIT_X_END=600,b.LIMIT_Y_INI=0,b.LIMIT_Y_END=400,a.clsShootEnemy=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e){var f=b.call(this,c,d,e)||this;switch(f.nCountCollisionShoot=0,f.mGpx=f.game.make.sprite(0,0),f.mGpx.x=d,f.mGpx.y=e,a.BaseGame.GAME_LAYER.addChild(f.mGpx),f.speed=-10,a.GameConfig.ACTIVE_PLAYER){case a.GameConfig.HEATBLAST:f.mGpx.loadTexture("PlayerBenHeatblast","Ben_Heatblast_Correct/shoot_element/headblast_shoot"),f.mGpx.anchor.set(.5,.17),f.myDamage=4;break;case a.GameConfig.STINKFLY:f.mGpx.loadTexture("PlayerCannonRipStink","Ben_Stinkfly_Correct/shoot_element/stinkfly_shoot"),f.mGpx.anchor.set(.5,.17),f.myDamage=2;break;case a.GameConfig.WILDVINE:f.mGpx.loadTexture("PlayerCannonRipStink","Ben_Stinkfly_Correct/shoot_element/stinkfly_shoot"),f.mGpx.anchor.set(.5,.28),f.myDamage=4;break;default:f.mGpx.loadTexture("PlayerBenHeatblast","Ben_Heatblast_Correct/shoot_element/headblast_shoot"),f.mGpx.anchor.set(.5,.17),f.myDamage=4}return f._shootPoly=[],f._shootPoly.push(new a.MPolygon([-f.mGpx.width/2.13*.3+0,f.mGpx.height/1.11*.15+0,f.mGpx.width/1.89*.3+0,f.mGpx.height/1.11*.15+0,f.mGpx.width/1.89*.3+0,-f.mGpx.height/10*.15+0,-f.mGpx.width/2.13*.3+0,-f.mGpx.height/10*.15+0])),f}return __extends(c,b),Object.defineProperty(c.prototype,"poly",{get:function(){return this._shootPoly},enumerable:!0,configurable:!0}),c.prototype.updateLife=function(){},c.prototype.updateManual=function(){this.mGpx.y+=this.speed,this._shootPoly[0].x=this.mGpx.x,this._shootPoly[0].y=this.mGpx.y;for(var b=0;b<a.GameConfig.GAME.mzActors.length;b++)this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.GAME.mzActors[b],a.GameConfig.GAME.mzActors[b].poly,a.GameConfig.GAME.mzActors[b].idClass==a.GameConfig.CLASS_SHAPE&&a.GameConfig.GAME.mzActors[b].myType>5)&&(a.GameConfig.GAME.mzActors[b].updateLife(this.myDamage),a.GameConfig.GAME.mzActors[b].idClass==a.GameConfig.CLASS_SHAPE||a.GameConfig.GAME.mzActors[b].idClass==a.GameConfig.CLASS_DOOR||a.GameConfig.GAME.mzActors[b].idClass==a.GameConfig.CLASS_INDESTRUCTIBLE||this.free()),a.GameConfig.GAME.mzActors[b].idClass!=a.GameConfig.CLASS_SHAPE&&a.GameConfig.GAME.mzActors[b].idClass!=a.GameConfig.CLASS_DOOR&&a.GameConfig.GAME.mzActors[b].idClass!=a.GameConfig.CLASS_INDESTRUCTIBLE||this.hitCurrentPointPhaserEdition(this.mGpx,a.GameConfig.GAME.mzActors[b],a.GameConfig.GAME.mzActors[b].poly,a.GameConfig.GAME.mzActors[b].idClass==a.GameConfig.CLASS_SHAPE&&a.GameConfig.GAME.mzActors[b].myType>5)&&(a.GameConfig.GAME.createEffect(this.mGpx.x,this.mGpx.y,"Fx_shoot_player/mc_fx_shoot_player_10001"),this.free());a.GameConfig.BOSS&&(this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.BOSS.mGpx,a.GameConfig.BOSS.mGpx.bodyP,!0)?(this.free(),a.GameConfig.COLLISION_SHOOT_PLAYER=!0,a.GameConfig.BOSS.processHit(a.GameConfig.DAMAGE_FIXED,this.myDamage,a.GameConfig.HIT_BODY)):this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.BOSS.mGpx,a.GameConfig.BOSS.mGpx.headP,!0)?(a.GameConfig.COLLISION_SHOOT_PLAYER=!0,a.GameConfig.BOSS.processHit(a.GameConfig.DAMAGE_FIXED,2*this.myDamage,a.GameConfig.HIT_HEAD)):this.hitTestPhaserEdition(this.mGpx,this.poly,a.GameConfig.BOSS.mGpx,a.GameConfig.BOSS.mGpx.absorbsP,!0)&&this.free()),(this.mGpx.x<=c.LIMIT_X_INI||this.mGpx.x>=c.LIMIT_X_END)&&this.free(),(this.mGpx.y<=c.LIMIT_Y_INI||this.mGpx.y>=c.LIMIT_Y_END)&&this.free()},c.prototype.hitTestPhaserEdition=function(b,c,d,e,f){void 0===f&&(f=!1);for(var g=e.length,h=0;h<c.length;h++)for(var i=0;i<e.length;i++)if(f){if(c[h].hit(e[i]))return!0;if(0==--g)return!1}else{if(!(b.x<d.x+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.x>d.x-.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y<d.y+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y>d.y-.6*a.BaseGame.MAX_OBJ_WIDTH))return!1;if(c[h].hit(e[i]))return!0;if(0==--g)return!1}},c.prototype.hitCurrentPointPhaserEdition=function(b,c,d,e){void 0===e&&(e=!1);for(var f=d.length,g=0;g<d.length;g++)for(var h=0;h<d.length;h++)if(e){if(d[g].contains(b.x,b.y))return!0;if(0==--f)return!1}else{if(!(b.x<c.x+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.x>c.x-.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y<c.y+.6*a.BaseGame.MAX_OBJ_WIDTH&&b.y>c.y-.6*a.BaseGame.MAX_OBJ_WIDTH))return!1;if(d[g].contains(b.x,b.y))return!0;if(0==--f)return!1}},c.prototype.free=function(){this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL},c}(Phaser.Sprite);b.LIMIT_X_INI=150,b.LIMIT_X_END=600,b.LIMIT_Y_INI=0,b.LIMIT_Y_END=400,a.clsShootPlayer=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(a){this.mzSet=null,this.mzSet=[],this.mName=a}return a.prototype.add=function(a){this.mzSet.push(a)},a.prototype.getCount=function(){return this.mzSet.length},a.prototype.getIndexObject=function(a){for(var b=this.mzSet.length,c=0;c<b;c++)if(a==this.getObject(c))return c;return-1},a.prototype.getObject=function(a){return a>=0&&a<this.mzSet.length?this.mzSet[a]:null},a.prototype.removeIndex=function(a){var b=null;return a>=0&&a<this.mzSet.length&&(b=this.mzSet[a],this.mzSet.splice(a,1)),b},a.prototype.remove=function(a){for(var b=this.mzSet.length,c=0;c<b&&a!=this.mzSet[c];c++);c<b&&console.log(this.mzSet.splice(c,1))},a.prototype.echo=function(){for(var a=this.mzSet.length,b=0;b<a;b++);},a.prototype.free=function(){this.mzSet&&(this.mzSet=[],this.mzSet=null)},a}();a.clsSimSet=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g){var h=b.call(this,c,d,e)||this;return h.STATE=0,h.oldState=0,h.loseBono=!1,h.nP=4,h._blockPoly=null,h.myType=g,h.initValues(),h.mGpx=h.game.make.sprite(d,e,"atlas","Blocks/block_sw_1/mc_block_sw_1_10001"),h.mGpx.anchor.set(.5),a.BaseGame.GAME_LAYER.addChild(h.mGpx),h.oX=d,h.oY=e,h.id=f,h.STATE=a.GameConfig.OFF,h.oldState=a.GameConfig.OFF,h.mGpx.animations.add("STATE_0",Phaser.Animation.generateFrameNames("Blocks/block_sw_1/mc_block_sw_1_1",1,15,"",4)),h.mGpx.animations.add("STATE_1",Phaser.Animation.generateFrameNames("Blocks/block_sw_1/mc_block_sw_1_1",15,15,"",4)),h.changeAnimationState("STATE_"+h.STATE),h.mGpx.x=d,h.mGpx.y=e,h.ang=Math.atan(h.BH/h.BW),h.len=Math.sqrt(h.BW/2*(h.BW/2)+h.BH/2*(h.BH/2)),h.sn=-Math.sin(h.ang)*h.len,h.cs=-Math.cos(h.ang)*h.len,h.getPoints(),h.mNameClip="mc_block_sw_"+h.myType,h.mIdClass=a.GameConfig.CLASS_SWITCH,h._blockPoly=[],h._blockPoly.push(new a.MPolygon([-h.mGpx.width/2+1,-h.mGpx.height/2+1,h.mGpx.width/2-1,-h.mGpx.height/2+1,h.mGpx.width/2-1,h.mGpx.height/2-1,-h.mGpx.width/2+1,h.mGpx.height/2-1])),h._blockPoly[0].x=h.mGpx.x,h._blockPoly[0].y=h.mGpx.y,h}return __extends(c,b),Object.defineProperty(c.prototype,"poly",{get:function(){return this._blockPoly},enumerable:!0,configurable:!0}),c.prototype.changeAnimationState=function(a){this.mGpx.animations.play(a,60,!0)},c.prototype.initValues=function(){switch(this.myType){case 1:default:this.BW=40,this.BH=10}},c.prototype.getPoints=function(){this.m=this.mGpx.angle*(Math.PI/180),this.oX=this.mGpx.x,this.oY=this.mGpx.y,this.p1x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p1y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.cs=-1*this.cs,this.p2x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p2y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.sn=-1*this.sn,this.p3x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p3y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m)),this.cs=-1*this.cs,this.p4x=this.oX+(this.cs*Math.cos(this.m)-this.sn*Math.sin(this.m)),this.p4y=this.oY+(this.cs*Math.sin(this.m)+this.sn*Math.cos(this.m))},c.prototype.updateLife=function(){this.updateState(a.GameConfig.ON)},c.prototype.updateManual=function(){},c.prototype.updateState=function(b){this.oldState!=b&&(this.STATE=b,this.oldState=this.STATE,this.changeAnimationState("STATE_"+this.STATE),a.GameConfig.GAME.onActiveSwitch(this.STATE))},c.prototype.getVectors=function(){a.GameConfig.GAME.block["B"+this.id].V1={p0:{x:this.p1x,y:this.p1y},p1:{x:this.p4x,y:this.p4y}},a.GameConfig.GAME.block["B"+this.id].V2={p0:{x:this.p4x,y:this.p4y},p1:{x:this.p3x,y:this.p3y}},a.GameConfig.GAME.block["B"+this.id].V3={p0:{x:this.p3x,y:this.p3y},p1:{x:this.p2x,y:this.p2y}},a.GameConfig.GAME.block["B"+this.id].V4={p0:{x:this.p2x,y:this.p2y},p1:{x:this.p1x,y:this.p1y}};for(var b=1;b<5;b++)a.GameConfig.GAME.updateVector(a.GameConfig.GAME.block["B"+this.id]["V"+b],!0)},Object.defineProperty(c.prototype,"idClass",{get:function(){return this.mIdClass},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"nameClip",{get:function(){return this.mNameClip},set:function(a){this.mNameClip=a},enumerable:!0,configurable:!0}),c.prototype.free=function(){this.mGpx.destroy(!0),this.STATE=a.GameConfig.ST_KILL},c}(Phaser.Sprite);b.PRICE_HIT=100,b.PRICE_BREAK=200,a.clsSwitch=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d.mGpx=d.game.make.sprite(0,0,"LEVELS","level_comp_10001"),d.mGpx.scale.set(.983),d.mGpx.anchor.set(.14,.16),d.mGpx.x=150,d.mGpx.y=4,a.BaseGame.GAME_LAYER.addChild(d.mGpx),d}return __extends(c,b),c.prototype.reloadTexture=function(a){switch(a){case"mc_level_1":this.mGpx.frameName="level_comp_10001";break;case"mc_level_2":this.mGpx.frameName="level_comp_10002";break;case"mc_level_3":this.mGpx.frameName="level_comp_10003";break;case"mc_level_4":this.mGpx.frameName="level_comp_10004";break;case"mc_level_5":this.mGpx.frameName="level_comp_10005";break;case"mc_level_6":this.mGpx.frameName="level_comp_10006";break;case"mc_level_7":this.mGpx.frameName="level_comp_10007";break;case"mc_level_8":this.mGpx.frameName="level_comp_10008";break;case"mc_level_9":this.mGpx.frameName="level_comp_10009";break;case"mc_level_10":this.mGpx.frameName="level_comp_10010";break;case"mc_level_11":this.mGpx.frameName="level_comp_10011";break;case"mc_level_12":this.mGpx.frameName="level_comp_10012";break;case"mc_level_13":this.mGpx.frameName="level_comp_10013";break;case"mc_level_14":this.mGpx.frameName="level_comp_10014";break;case"mc_level_15":this.mGpx.frameName="level_comp_10015"}},c.prototype.free=function(){},c}(Phaser.Sprite);a.clsWorld=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a.enableDrag=function(a){a.inputEnabled=!0,a.input.enableDrag(),a.events.onDragUpdate.add(function(){console.log(a.x,a.y)},this)},a.getRandom=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},a.clearSimSet=function(a){for(var b=a.getCount(),c=b-1;c>=0;c--){var d=a.removeIndex(c);d.free(),d=null}},a.VectorLength=function(a,b){return Math.sqrt(a*a+b*b)},a.updateObjectsSet=function(b){for(var c=0;c<b.getCount();c++){var d=b.getObject(c);d.updateManual(),d.STATE==a.ST_KILL&&(b.remove(d),d.free(),d=null,c--)}},a.DegToRad=function(a){return a*Math.PI/180},a.RadToDeg=function(a){return 180*a/Math.PI},a.getRandomNums=function(b){var c=b.length;return b[a.getRandom(0,c-1)]},a.activeShape=function(){for(var b=0;b<a.SHAPE_ROTATE.length;b++)a.SHAPE_ROTATE[b].activeCollision&&a.SHAPE_ROTATE[b].disappear()},a.initRotate=function(){for(var b=0;b<a.SHAPE_ROTATE.length;b++)a.SHAPE_ROTATE[b].rotate()},a}();b.WIDTH=600,b.HEIGHT=400,b.PLAYER_VELOCITY_X=400,b.PLAYER_VELOCITY_Y=-400,b.INVINCIBILITY_TIME=1e3,b.ENEMY_MEGAWHATT=1,b.ENEMY_ROBOT=2,b.ENEMY_LIMAX=3,b.mzActorInLevel=[["0.0","1.1","0.0","1.3.4","0.0","0.0","1.3.10","0.0","1.1","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.7","1.1","1.1","0.0","0.0","1.1","1.1","1.7","1.1"],["1.2","1.1","1.1","3.1.14.1.1.120","0.0","0.0","0.0","1.1","1.1","1.2"],["0.0","1.1","1.3.11","0.0","0.0","0.0","0.0","1.3.5","1.1","0.0"],["1.1","1.1","1.1","1.2","1.1","1.1","1.2","1.1","1.1","1.1"],["1.7","1.7","1.7","0.0","1.1","1.1","0.0","1.7","1.7","1.7"],["1.1","1.3.2","1.1","1.1","1.1","1.1","1.1","1.1","1.3.13","1.1"]],b.mzActorInLevelTEST=[["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","1.1","0.0","0.0","0.0","0.5"]],b.BEN=1,b.HEATBLAST=2,b.RIPJAWS=3,b.STINKFLY=4,b.XLR8=5,b.CANNONBOLT=6,b.WILDVINE=7,b.ST_PLAYER_NORMAL=1,b.ST_PLAYER_PUNCH=2,b.ST_PLAYER_SHOOT=3,b.ST_PLAYER_DIE=4,b.ST_PLAYER_CHANGE=5,b.ST_PLAYER_WIN=6,b.MODE_HISTORY=1,b.MODE_FREEPLAY=2,b.B_LIFE=10,b.B_SCORE=11,b.B_OMNI=12,b.B_MULTI=13,b.B_BARRIER=14,b.B_ALL_OMNI=15,b.B_EMPTY=16,b.BLOCK1=1,b.BLOCK2=2,b.BLOCK3=3,b.BLOCK4=4,b.BLOCK5=5,b.BLOCK6=6,b.BLOCK7=7,b.BLOCK8=8,b.BLOCK9=9,b.BLOCK10=10,b.SHAPE1=1,b.SHAPE2=2,b.SHAPE3=3,b.SHAPE4=4,b.SHAPE5=5,b.SHAPE6=6,b.CLASS_SHAPE=10,b.CLASS_BLOCK=11,b.CLASS_ENEMY=12,b.CLASS_SWITCH=13,b.CLASS_DOOR=14,b.CLASS_RESTORES=16,b.CLASS_BONUS=17,b.CLASS_INDESTRUCTIBLE=18,b.ST_KILL=503,b.ST_DIE=504,b.ST_INDEF=-1,b.ST_INIT=1,b.ST_BEGIN=2,b.ST_STAND=3,b.ST_FIRE=49,b.ST_HIT=50,b.ST_UP=60,b.ST_DOWN=61,b.ST_RIGHT=62,b.ST_LEFT=63,b.ST_RIGHT_TOP=64,b.ST_RIGHT_BOTTOM=65,b.ST_LEFT_TOP=66,b.ST_LEFT_BOTTOM=67,b.ST_MOVE_TO_END=100,b.ST_FINISH=101,b.ST_END=102,b.ST_SUB_ACTION=200,b.ST_REST=210,b.ST_HOPE=505,b.MAX_TIME_WITHOUT_CRASHES=16e3,b.TIME_SHOOT_ENEMIES=9e3,b.TIME_MSN_CLICK=1e4,b.PRICE_MULTIBALL=500,b.PRICE_SCORE_X2=500,b.PRICE_ALIEN=1e3,b.PRICE_LIFE=1e3,b.PRICE_LEVELCLEAR=1e4,b.DEPTH_PLAYER=4e4,b.DEPTH_BRIGHT=40002,b.DEPTH_FADE_OUT=50005,b.DEPTH_BOSS=2e3,b.DEPTH_BULLET_MIN=60510,b.DEPTH_BULLET_MAX=60700,b.DEPTH_PANEL_INFO=69998,b.DEPTH_MESSAGE=69999,b.DEPTH_BARRIER=40001,b.DEPTH_CURSOR=50003,b.DEPTH_CURSOR2=50006,b.DEPTH_DEBUG=70001,b.PAUSE=!1,b.oldIdBlockDestroy=null,b.MIN_ENEMY=null,b.MAX_ENEMY=null,b.UPD_ENEMY=null,b.APLICATE_OMNI=!1,b.DAMAGE_TOTAL=2,b.LIFE_BOSS_01=40,b.DAMAGE_FIXED=1,b.HIT_BODY=1,b.HIT_HEAD=2,b.SCORE=0,b.SCORE_MULTIPLE=1,b.PLAYER_LIFE=0,b.ACTIVE_PLAYER=b.BEN,b.ONMITRIX=0,b.MODE_GAME=0,b.COLA=!1,b.TIMER=0,b.LAST_CRASH_TIME=0,b.LAST_CLICK_TIME=0,b.LAST_SHOOT_TIME=0,b.TIME_PAUSED=0,b.TIME_TMP=0,b.SHOOT_NORMAL=1,b.SHOOT_SPECIAL=2,b.ON=1,b.OFF=0,b.OPEN=80,b.CLOSE=81,b.CHANGE_OPEN=82,b.CHANGE_CLOSE=83,b.WAIT=84,b.INITBALL=!0,b.COLLISIONUPWORLD=!0,b.ACTIVEBARRIER=!1,b.PLAYER_WINNER=!1,b.PLAYER_INVINCIBLE=!1,b.COLLISION_SHOOT_PLAYER=!1,b.COLLISIONBOSS=!1,b.BOSSHOPE=!1,b.BOSSFIRE=!1,b.BOSSDIE=!1,b.ST_CHANGE=72,b.ST_ROTATE_RIGHT=73,b.ST_ROTATE_LEFT=74,b.ST_FIST_BOSS=75,b.ST_TRAY_FIST=76,b.ST_RESTORE_TRAY=78,b.ST_RELIVE=86,b.ST_TRANSFORMATION=87,b.ST_SHOT=89,b.ST_FIST=90,b.MODEKEYBOARD=!1,b.WORLD=null,b.PANEL_INFO=null,b.CURSOR=null,b.GENERATOR=null,b.GAME=null,b.BOSS=null,b.PLAYER=null,b.STATE_PLAYER=b.ST_PLAYER_NORMAL,b.LEVEL=1,b.SHAPE_ROTATE=[],a.GameConfig=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(){function a(a,b,c){this.cb=a,this.delay=b,this.index=c}return a}(),c=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;return b._mouseModule=40,b}return __extends(c,a),c.prototype.create=function(){var a=this;this.isPaused=!1,this._debugMode=!1,this.game.device.desktop?(this.game.input.keyboard.onDownCallback=this.onKeyDown,this.game.input.keyboard.onUpCallback=this.onKeyUp,this.game.onBlur.add(this.clearKeyBoard,this)):(this._downMouse=!1,this.game.input.onDown.add(function(b){a._downMouse=!0,a._mx=b.x,a._my=b.y}),this.game.input.onUp.add(function(b){0!=a._downMouse&&(a._downMouse=!1,a._mx-=b.x,a._my-=b.y,a._mx=Math.floor(a._mx/a._mouseModule),a._my=Math.floor(a._my/a._mouseModule),0==a._mx&&0==a._my||(Math.abs(a._mx)>=Math.abs(a._my)?a._mx<0?a.RightSwipe():a.LeftSwipe():a._my<0?a.UpSwipe():a.TopSwipe()))}))},c.prototype.setTimeout=function(a,c){return null==this._timeouts&&(this._timeouts=[]),this._timeouts.push(new b(a,c,this._timeouts.length)),this._timeouts.length-1},c.prototype.setPause=function(a){this.isPaused=a,dragonBones.PhaserFactory.DBLooping==a&&(a?dragonBones.PhaserFactory.stopLoop():dragonBones.PhaserFactory.startLoop())},c.prototype.LeftSwipe=function(){},c.prototype.RightSwipe=function(){},c.prototype.TopSwipe=function(){},c.prototype.UpSwipe=function(){},c.prototype.clearKeyBoard=function(){for(var a in c.keysDown)c.keysDown[a]=!1,c.keysPressed[a]=!1},c.prototype.clearTimeouts=function(a){if(void 0===a&&(a=-1),-1!=a){var b=void 0;for(b=0;b<this._timeouts.length&&this._timeouts[b].index!=a;b++);return void this._timeouts.splice(b,1)}for(;this._timeouts&&this._timeouts.length;)this._timeouts.pop().cb=null;this._timeouts=null},c.prototype.update=function(){for(var a=this.game.time.elapsedMS,b=0;this._timeouts&&b<this._timeouts.length;)this._timeouts[b].delay-=a,this._timeouts[b].delay<=0?(this._timeouts[b].cb(),this._timeouts[b].cb=null,this._timeouts.splice(b,1)):b++;for(var d in c.keysPressed)c.keysPressed[d]=!1},c.prototype.onKeyDown=function(a){c.ValidKeyCodes.indexOf(a.keyCode)>-1&&!c.keysDown[a.keyCode]&&(c.keysDown[a.keyCode]=!0,c.keysPressed[a.keyCode]=!0)},c.prototype.onKeyUp=function(a){c.ValidKeyCodes.indexOf(a.keyCode)>-1&&(c.keysDown[a.keyCode]=!1,c.keysPressed[a.keyCode]=!1)},c.prototype.isAnyKeyPressed=function(){for(var a in c.keysPressed)if(c.keysPressed[a])return!0;return!1},c.prototype.simulateKey=function(a,b){void 0===b&&(b=!0),b?c.ValidKeyCodes.indexOf(a)>-1&&!c.keysDown[a]&&(c.keysDown[a]=!0,c.keysPressed[a]=!0):c.ValidKeyCodes.indexOf(a)>-1&&(c.keysDown[a]=!1,c.keysPressed[a]=!1)},c.prototype.shutdown=function(){this.game.device.desktop?(this.game.input.keyboard.onDownCallback=null,this.game.input.keyboard.onUpCallback=null,this.game.onBlur.remove(this.clearKeyBoard,this)):(this.game.input.onDown.removeAll(),this.game.input.onUp.removeAll(),this._downMouse=!1),this.clearTimeouts(),this.free()},c.prototype.setDebugMode=function(){this.game.time.advancedTiming=!0,this._debugMode=!0},c.prototype.free=function(){},c.prototype.replay=function(){},c.prototype.render=function(){this._debugMode&&this.game.debug.text(""+this.game.time.fps,2,14,"#00ff00")},c}(Phaser.State);c.ValidKeyCodes=[Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.UP,Phaser.Keyboard.DOWN,Phaser.Keyboard.W,Phaser.Keyboard.A,Phaser.Keyboard.S,Phaser.Keyboard.D,Phaser.Keyboard.SPACEBAR],c.keysPressed={},c.keysDown={},a.AbstractGame=c;var d=function(a){function b(b,c,d,e,f){void 0===d&&(d=!1),void 0===e&&(e=0),void 0===f&&(f=0);var g=this;switch(g=a.call(this,b.game,e,f,"IngameUI","mobileButton")||this,c){case Phaser.Keyboard.LEFT:g.angle=-90;break;case Phaser.Keyboard.RIGHT:g.angle=90;break;case Phaser.Keyboard.UP:g.angle=0;break;case Phaser.Keyboard.DOWN:g.angle=180}return g._code=c,g._name=name,g.anchor.set(.5),g.inputEnabled=!1,g.defScale=1,g._sticky=d,g._agame=b,g.enabled=!0,g._agame.game.world.add(g),g}return __extends(b,a),Object.defineProperty(b.prototype,"enabled",{get:function(){return this.inputEnabled},set:function(a){a&&this.enabled||(this.inputEnabled=a,a?(this.events.onInputDown.add(this.down,this),this.events.onInputUp.add(this.up,this)):(this.events.onInputDown.removeAll(this),this.events.onInputUp.removeAll(this)))},enumerable:!0,configurable:!0}),b.prototype.update=function(){this._down&&this._sticky&&this.down()},b.prototype.testUp=function(){this.input.pointerDown()&&this._down&&this.up()},b.prototype.up=function(){this._agame.simulateKey(this._code,!1),this._down=!1,this.scale.set(this.defScale,1)},b.prototype.down=function(){if(!this._agame.isPaused){var a=!1;this._sticky&&(this._agame.simulateKey(this._code),a=!0),this._down||(this._down=!0,this.scale.set(.9*this.defScale,.9),a||this._agame.simulateKey(this._code))}},b.prototype.setPos=function(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.x=a,this.y=b},b}(Phaser.Sprite);a.SimpleButton=d}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){if(this._saveDataName="~NoName~",null!=a._instance)throw"Попытка создать дубликат SaveManager!";a._instance=this}return Object.defineProperty(a,"getInstance",{get:function(){return null==a._instance&&new a,a._instance},enumerable:!0,configurable:!0}),a.prototype.init=function(a,b){this._saveDataName=a,this._saveData=b},a.prototype.save=function(){return!!a._canSave&&(localStorage.setItem(this._saveDataName,JSON.stringify(this._saveData)),!0)},a.prototype.load=function(){if(a._canSave=!1,!this.isLocalStorageNameSupported())return void this._saveData.reset();a._canSave=!0;var b=JSON.parse(localStorage.getItem(this._saveDataName));return null==b?(this.save(),this._saveData):(this._saveData=b,this._saveData)},a.prototype.isLocalStorageNameSupported=function(){var a=window.localStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(a){return!1}},a}();a.SaveManager=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d,e){void 0===d&&(d=0);var f=a.call(this,b,0,0)||this;return b.world.add(f),f._images=[],f._images.push(new Phaser.Image(b,d,0,c,e)),f._imgWidth=f._images[0].width,f._images.push(new Phaser.Image(b,d+f._imgWidth-1,0,c,e)),f.addChild(f._images[0]),f.addChild(f._images[1]),f}return __extends(b,a),b.prototype.updateScroll=function(a){this._images[0].x-=a,this._images[1].x-=a,this._images[0].x<=-this._imgWidth&&(this._images[0].x=this._images[1].x+this._imgWidth-1),this._images[1].x<=-this._imgWidth&&(this._images[1].x=this._images[0].x+this._imgWidth-1)},b.prototype.free=function(){this.removeChild(this._images[0]),this.removeChild(this._images[1]),this._images.pop().destroy(!0),this._images.pop().destroy(!0),this._images=null},b.prototype.setPosition=function(a){this._images[0].x=a,this._images[1].x=a+this._imgWidth-1},b}(Phaser.Sprite);a.ParallaxImage=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){}return b.getLevelData=function(b){var c;if(a.GameConfig.MODE_GAME==a.GameConfig.MODE_HISTORY)switch(b){case 1:
c=[["0.0","1.1","0.0","1.3.4","0.0","0.0","1.3.10","0.0","1.1","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.7","1.1","1.1","0.0","0.0","1.1","1.1","1.7","1.1"],["1.2","1.1","1.1","3.1.14.1.1.120","0.0","0.0","0.0","1.1","1.1","1.2"],["0.0","1.1","1.3.11","0.0","0.0","0.0","0.0","1.3.5","1.1","0.0"],["1.1","1.1","1.1","1.2","1.1","1.1","1.2","1.1","1.1","1.1"],["1.7","1.7","1.7","0.0","1.1","1.1","0.0","1.7","1.7","1.7"],["1.1","1.3.2","1.1","1.1","1.1","1.1","1.1","1.1","1.3.13","1.1"]];break;case 2:c=[["0.0","0.0","1.1","0.0","1.9","1.9","0.0","1.1","0.0","0.0"],["0.0","0.0","1.1","0.0","0.0","0.0","0.0","1.1","0.0","0.0"],["0.0","0.0","1.1","1.3.2","1.2","1.2","1.3.13","1.1","0.0","0.0"],["0.0","0.0","1.1","1.7","0.0","0.0","1.7","1.1","0.0","0.0"],["1.1","1.2","1.7","3.2.14.1.1.80","0.0","0.0","0.0","1.7","1.2","1.1"],["0.0","0.0","1.7","0.0","0.0","0.0","0.0","1.7","0.0","1.1"],["1.1","0.0","1.1","1.7","1.2","1.2","1.7","1.1","0.0","1.1"],["1.3.13","1.1","0.0","1.1","0.0","0.0","1.1","0.0","1.1","1.3.12"],["1.1","0.0","1.1","0.0","1.7","1.7","0.0","1.1","0.0","1.1"],["1.1","0.0","0.0","1.7","1.1","1.1","1.7","0.0","0.0","1.1"],["0.0","1.1","1.3.11","1.1","0.0","0.0","1.1","1.3.4","1.1","0.0"]];break;case 3:c=[["0.0","0.0","1.2","1.1","1.3.3","1.3.10","1.1","1.2","0.0","0.0"],["0.0","0.0","0.0","1.2","3.2.14.1.2.40","0.0","1.2","0.0","0.0","0.0"],["0.0","0.0","1.1","0.0","0.0","0.0","0.0","1.1","0.0","0.0"],["0.0","0.0","1.1","1.2","0.0","0.0","1.2","1.1","0.0","0.0"],["1.7","1.7","1.1","0.0","0.0","0.0","0.0","1.1","1.7","1.7"],["1.2","1.3.13","1.2","0.0","1.7","1.7","0.0","1.2","1.3.12","1.2"],["0.0","1.1","0.0","1.1","0.0","0.0","1.1","0.0","1.1","0.0"],["1.1","0.0","0.0","1.7","1.1","1.1","1.7","0.0","0.0","1.1"],["0.0","0.0","1.7","0.0","0.0","0.0","0.0","1.7","0.0","0.0"],["1.1","1.7","1.3.14","0.0","1.7","1.7","0.0","1.3.3","1.7","1.1"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]];break;case 4:c=[["1.2","1.1","0.0","1.9","1.9","1.9","1.9","0.0","1.1","1.2"],["0.0","0.0","1.7","1.5","1.7","1.7","1.5","1.7","0.0","0.0"],["0.0","1.7","1.5","1.7","0.0","0.0","1.7","1.5","1.7","0.0"],["1.7","1.5","3.1.13.1.2.80","1.7","1.1","1.1","1.7","3.1.5.1.2.80","1.5","1.7"],["1.5","1.7","0.0","1.7","1.6","1.3.12","1.7","0.0","1.7","1.5"],["1.5","1.7","0.0","1.7","0.0","1.6","1.7","0.0","1.7","1.5"],["1.5","1.7","0.0","1.7","1.6","0.0","1.7","0.0","1.7","1.5"],["1.5","1.7","0.0","1.7","0.0","1.6","1.7","0.0","1.7","1.5"],["1.5","1.7","0.0","1.7","1.3.14","0.0","1.7","0.0","1.7","1.5"],["1.7","1.3.11","1.7","1.7","1.9","1.9","1.7","1.7","1.3.2","1.7"],["0.0","1.5","0.0","0.0","0.0","0.0","0.0","0.0","1.5","0.0"]];break;case 5:c=[["1.2","1.2","1.3.11","0.0","0.0","0.0","0.0","1.3.12","1.2","1.2"],["0.0","0.0","0.0","0.0","1.7","1.7","0.0","0.0","0.0","0.0"],["3.2.6.1.2.60","0.0","1.1","1.7","1.5","1.5","1.7","1.1","3.2.14.1.2.60","0.0"],["0.0","0.0","1.10","1.5","1.6","1.6","1.5","1.10","0.0","0.0"],["0.0","0.0","0.0","1.5","0.0","0.0","1.5","0.0","0.0","0.0"],["0.0","0.0","1.1","1.9","1.5","1.5","1.9","1.1","0.0","0.0"],["0.0","0.0","1.1","1.1","1.9","1.9","1.1","1.1","0.0","0.0"],["1.7","1.7","1.7","1.7","0.0","0.0","1.7","1.7","1.7","1.7"],["1.1","1.1","1.7","0.0","0.0","0.0","0.0","1.7","1.1","1.1"],["1.8","1.7","1.2","1.7","0.0","0.0","1.7","1.2","1.7","1.8"],["0.0","1.3.2","0.0","1.1","0.0","0.0","1.1","0.0","1.3.13","0.0"]];break;case 6:c=[["1.7","1.3.10","1.1","3.1.4.1.1.40","0.0","0.0","3.1.11.1.1.-40","1.1","1.3.13","1.7"],["1.5","1.7","1.7","0.0","0.0","0.0","0.0","1.7","1.7","1.5"],["1.8","1.5","1.7","1.7","1.7","1.7","1.7","1.7","1.5","1.8"],["0.0","1.8","1.5","1.7","1.7","1.7","1.7","1.5","1.8","0.0"],["1.3.7","0.0","1.8","1.5","1.7","1.7","1.5","1.8","0.0","1.3.2"],["1.7","0.0","0.0","1.10","1.5","1.5","1.10","0.0","0.0","1.7"],["1.5","1.7","0.0","0.0","1.9","1.9","0.0","0.0","1.7","1.5"],["1.7","1.7","1.7","1.7","0.0","0.0","1.7","1.7","1.7","1.7"],["1.8","1.5","1.8","1.1","1.7","1.7","1.1","1.8","1.5","1.8"],["0.0","1.9","0.0","1.1","1.1","1.1","1.1","0.0","1.9","0.0"],["1.1","1.3.2","1.1","0.0","1.7","1.7","0.0","1.1","1.3.14","1.1"]];break;case 7:c=[["1.2","1.3.12","1.2","1.7","1.5","1.5","1.7","1.2","1.3.10","1.2"],["0.0","1.1","0.0","1.5","1.1","1.1","1.5","0.0","1.1","0.0"],["3.3.6.1.1.100","0.0","0.0","0.0","0.0","0.0","0.0","0.0","3.3.14.1.1.-100","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.8","1.7","1.7","1.7","0.0","0.0","1.7","1.7","1.7","1.8"],["0.0","1.1","1.1","1.1","1.7","1.7","1.1","1.1","1.1","0.0"],["0.0","0.0","0.0","3.2.12.1.1.-120","0.0","3.2.13.1.1.120","","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.7","1.1","1.7","1.7","1.7","1.7","1.7","1.7","1.1","1.7"],["1.1","1.1","1.1","1.3.5","1.1","1.1","1.3.11","1.1","1.1","1.1"]];break;case 8:c=[["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]];break;case 9:c=[["1.1","3.3.13.1.2.40","0.0","1.1","0.0","0.0","1.1","3.3.12.1.2.40","0.0","1.1"],["1.1","0.0","0.0","1.1","0.0","0.0","1.1","0.0","0.0","1.1"],["1.1","0.0","0.0","1.1","3.2.5.1.2.-40","0.0","1.1","0.0","0.0","1.1"],["1.1","0.0","0.0","1.1","0.0","0.0","1.1","0.0","0.0","1.1"],["1.1","0.0","0.0","1.1","1.7","1.7","1.1","0.0","0.0","1.1"],["0.0","0.0","0.0","1.3.5","0.0","0.0","1.3.2","0.0","0.0","0.0"],["0.0","0.0","0.0","3.1.14.1.1.120","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.7","1.5","1.7","1.1","1.7","1.7","1.1","1.7","1.5","1.7"],["1.1","1.7","1.1","0.0","1.1","1.1","0.0","1.1","1.7","1.1"],["1.7","1.3.3","1.7","1.1","0.0","0.0","1.1","1.7","1.3.11","1.7"]];break;case 10:c=[["0.0","1.1","0.0","1.1","1.3.10","1.3.12","1.1","0.0","1.1","0.0"],["1.1","0.0","1.1","0.0","1.1","1.1","0.0","1.1","0.0","1.1"],["1.1","1.3.4","1.1","1.7","1.9","1.9","1.7","1.1","1.3.13","1.1"],["0.0","1.1","1.7","1.8","0.0","0.0","1.8","1.7","1.1","0.0"],["1.1","1.7","1.5","0.0","0.0","0.0","0.0","1.5","1.7","1.1"],["0.0","1.3.13","1.7","1.8","0.0","0.0","1.8","1.7","1.3.11","0.0"],["1.1","1.1","1.1","0.0","0.0","0.0","0.0","1.1","1.1","1.1"],["1.7","1.7","1.7","1.7","1.1","1.1","1.7","1.7","1.7","1.7"],["0.0","0.0","0.0","0.0","1.1","1.1","0.0","0.0","0.0","0.0"],["0.0","1.3.7","1.7","1.5","1.7","1.7","1.5","1.7","1.3.14","0.0"],["1.1","0.0","1.1","1.7","1.1","1.1","1.7","1.1","0.0","1.1"]];break;case 11:c=[["0.0","3.3.10.1.2.50","0.0","3.2.5.1.1.80","0.0","0.0","0.0","3.3.13.1.2.50","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","1.1","1.1","1.1","1.1","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","3.2.3.1.1.-80","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1"],["0.0","0.0","3.1.10.1.1.200","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","3.1.13.1.1.-200","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.3.7","1.1","1.1","1.1","1.1","1.1","1.1","1.3.3","1.1"]];break;case 12:c=[["0.0","0.0","0.0","3.2.10.1.1.80","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","1.5","1.1","1.7","1.7","1.1","1.5","0.0","0.0"],["0.0","3.1.3.1.1.-40","0.0","1.7","1.3.10","1.3.13","1.7","0.0","3.1.5.1.1.40","0.0"],["0.0","0.0","1.7","1.1","0.0","0.0","1.1","1.7","0.0","0.0"],["0.0","1.7","1.1","1.6","0.0","0.0","1.6","1.1","1.7","0.0"],["1.7","1.1","1.1","0.0","0.0","0.0","0.0","1.1","1.1","1.7"],["1.7","1.1","1.1","1.1","0.0","0.0","1.1","1.1","1.1","1.7"],["1.1","1.7","1.1","1.1","1.7","1.7","1.1","1.1","1.7","1.1"],["1.4.6","1.1","1.7","1.1","1.1","1.1","1.1","1.7","1.1","1.4.3"],["0.0","1.7","1.1","1.7","1.7","1.7","1.7","1.1","1.7","0.0"]];break;case 13:c=[["3.3.11.1.2.50","0.0","0.0","1.4.10","3.2.5.1.2.40","0.0","1.4.13","0.0","3.3.10.1.2.50","0.0"],["0.0","0.0","1.7","0.0","0.0","0.0","0.0","1.7","0.0","0.0"],["0.0","0.0","1.1","1.7","0.0","0.0","1.7","1.1","0.0","0.0"],["0.0","0.0","1.1","1.7","0.0","0.0","1.7","1.1","0.0","0.0"],["0.0","0.0","1.7","1.1","1.7","1.7","1.1","1.7","0.0","0.0"],["0.0","1.7","3.1.12.1.1.80","0.0","0.0","0.0","0.0","3.1.10.1.1.-80","1.7","0.0"],["1.7","1.1","0.0","0.0","0.0","0.0","0.0","0.0","1.1","1.7"],["0.0","1.7","1.1","1.1","1.1","1.1","1.1","1.1","1.7","0.0"],["1.1","0.0","1.7","1.1","1.7","1.7","1.1","1.7","0.0","1.1"],["1.7","1.1","0.0","1.7","1.5","1.5","1.7","0.0","1.1","1.7"],["1.7","1.7","1.3.2","0.0","1.7","1.7","0.0","1.3.5","1.7","1.7"]];break;case 14:c=[["1.1","1.7","1.1","0.0","1.4.2","1.4.10","0.0","1.1","1.7","1.1"],["1.7","1.5","1.7","1.7","0.0","0.0","1.7","1.7","1.5","1.7"],["1.1","1.9","1.1","0.0","1.7","1.7","0.0","1.1","1.9","1.1"],["3.2.13.1.2.60","0.0","0.0","1.7","0.0","0.0","1.7","0.0","3.2.5.1.2.60","0.0"],["0.0","0.0","1.7","0.0","0.0","0.0","0.0","1.7","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","1.7","0.0","0.0","0.0","0.0","1.7","0.0","0.0"],["1.1","0.0","0.0","1.7","0.0","0.0","1.7","0.0","0.0","1.1"],["1.7","1.1","0.0","0.0","1.3.7","1.3.14","0.0","0.0","1.1","1.7"],["0.0","1.7","1.1","1.1","1.7","1.7","1.1","1.1","1.7","0.0"]];break;case 15:c=[["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]];break;case 7357:c=[["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.1","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","3.3.6.1.1.100","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]]}else switch(b){case 1:c=[["1.1","0.0","0.0","1.5","1.4.7","1.4.11","1.5","0.0","0.0","1.1"],["0.0","0.0","1.5","1.1","0.0","0.0","1.1","1.5","0.0","0.0"],["0.0","1.5","1.1","0.0","1.1","1.1","0.0","1.1","1.5","0.0"],["1.1","0.0","1.3.12","0.0","1.7","1.7","0.0","1.3.14","0.0","1.1"],["0.0","1.7","0.0","1.5","1.8","1.8","1.5","0.0","1.7","0.0"],["1.7","1.5","1.1","1.3.12","0.0","0.0","1.3.6","1.1","1.5","1.7"],["1.1","1.7","1.1","1.1","1.1","1.1","1.1","1.1","1.7","1.1"],["0.0","0.0","0.0","1.3.4","1.5","1.5","1.3.13","0.0","0.0","0.0"],["1.1","1.1","0.0","0.0","1.7","1.7","0.0","0.0","1.1","1.1"],["1.9","0.0","0.0","0.0","1.9","1.9","0.0","0.0","0.0","1.9"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]];break;case 2:c=[["3.1.7.1.1.80","0.0","0.0","1.1","1.9","1.9","1.1","0.0","0.0","3.1.10.1.1.-80"],["0.0","0.0","0.0","0.0","1.7","1.7","0.0","0.0","0.0","0.0"],["1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1"],["1.7","1.1","1.1","1.1","0.0","0.0","1.1","1.1","1.1","1.7"],["1.9","1.1","0.0","0.0","0.0","0.0","0.0","0.0","1.1","1.9"],["1.7","1.1","0.0","0.0","0.0","0.0","0.0","0.0","1.1","1.7"],["1.1","1.1","1.1","1.3.12","0.0","0.0","1.3.14","1.1","1.1","1.1"],["1.1","0.0","0.0","1.1","1.1","1.1","1.1","0.0","0.0","1.1"],["1.1","1.3.13","0.0","0.0","1.7","1.7","0.0","0.0","1.3.13","1.1"],["1.7","1.5","1.7","0.0","1.3.4","1.3.11","0.0","1.7","1.5","1.7"],["0.0","1.7","0.0","0.0","0.0","0.0","0.0","0.0","1.7","0.0"]];break;case 3:c=[["1.5","1.1","1.9","1.1","1.5","1.5","1.1","1.9","1.1","1.5"],["1.7","1.5","1.7","1.1","1.7","1.7","1.1","1.7","1.5","1.7"],["1.3.5","1.7","1.7","1.7","1.1","1.1","1.7","1.7","1.7","1.3.13"],["0.0","0.0","3.2.6.1.1.150","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","1.8","1.7","1.4.12","1.4.14","1.7","1.8","0.0","0.0"],["0.0","0.0","0.0","1.1","0.0","0.0","1.1","0.0","0.0","0.0"],["1.1","1.5","1.7","1.5","1.7","1.7","1.5","1.7","1.5","1.1"],["1.7","1.7","1.5","1.7","1.7","1.7","1.7","1.5","1.7","1.7"],["1.1","1.2","1.7","1.1","1.1","1.1","1.1","1.7","1.2","1.1"],["1.7","0.0","1.3.11","1.1","0.0","0.0","1.1","1.3.2","0.0","1.7"]];break;case 4:c=[["1.3.12","1.1","0.0","0.0","1.8","1.8","0.0","0.0","1.1","1.3.10"],["1.7","0.0","0.0","1.5","0.0","0.0","1.5","0.0","0.0","1.7"],["1.3.11","0.0","1.7","1.7","1.5","1.5","1.7","1.7","0.0","1.3.7"],["0.0","1.5","1.1","1.7","0.0","0.0","1.7","1.1","1.5","0.0"],["1.3.12","1.7","1.1","0.0","0.0","0.0","0.0","1.1","1.7","1.3.6"],["0.0","1.7","1.1","0.0","0.0","0.0","0.0","1.1","1.7","0.0"],["1.1","1.1","1.1","1.1","0.0","0.0","1.1","1.1","1.1","1.1"],["1.7","1.1","1.1","0.0","1.7","1.7","0.0","1.1","1.1","1.7"],["3.1.4.1.1.120","0.0","0.0","0.0","1.8","1.8","0.0","0.0","0.0","3.1.13.1.1.-120"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.7","1.3.11","1.1","1.1","1.1","1.1","1.3.2","1.7","1.1"]];break;case 5:c=[["1.7","1.5","1.8","3.1.5.1.1.40","0.0","0.0","3.1.13.1.1.-40","1.8","1.5","1.7"],["1.5","1.7","0.0","0.0","0.0","0.0","0.0","0.0","1.7","1.5"],["1.7","1.5","1.7","0.0","1.5","1.5","0.0","1.7","1.5","1.7"],["1.3.12","1.7","1.5","1.7","1.7","1.7","1.7","1.5","1.7","1.3.3"],["1.2","0.0","1.7","1.7","1.8","1.8","1.7","1.7","0.0","1.2"],["0.0","1.3.14","1.7","1.5","0.0","0.0","1.5","1.7","1.3.12","0.0"],["0.0","1.7","1.5","1.7","0.0","0.0","1.7","1.5","1.7","0.0"],["1.3.13","1.5","1.7","1.1","0.0","0.0","1.1","1.7","1.5","1.3.14"],["1.5","1.7","1.1","0.0","0.0","0.0","0.0","1.1","1.7","1.5"],["1.7","1.1","1.3.4","0.0","1.8","1.8","0.0","1.3.11","1.1","1.7"],["1.1","0.0","0.0","1.1","0.0","0.0","1.1","0.0","0.0","1.1"]];break;case 6:c=[["1.7","1.3.10","1.7","0.0","1.1","1.1","0.0","1.7","1.3.5","1.7"],["1.1","1.5","0.0","0.0","0.0","0.0","0.0","0.0","1.5","1.1"],["1.7","0.0","1.7","1.5","1.7","1.7","1.5","1.7","0.0","1.7"],["3.1.14.1.1.80","0.0","0.0","1.7","1.5","1.5","1.7","0.0","0.0","3.1.12.1.1.-80"],["0.0","0.0","0.0","1.5","1.7","1.7","1.5","0.0","0.0","0.0"],["0.0","1.1","1.5","1.7","1.9","1.9","1.7","1.5","1.1","0.0"],["1.1","1.1","1.5","1.7","0.0","0.0","1.7","1.5","1.1","1.1"],["0.0","1.1","1.5","1.7","0.0","0.0","1.7","1.5","1.1","0.0"],["1.1","1.4.2","1.5","1.7","0.0","0.0","1.7","1.5","1.4.11","1.1"],["0.0","0.0","1.5","1.7","0.0","0.0","1.7","1.5","0.0","0.0"],["1.1","1.1","1.7","1.7","0.0","0.0","1.7","1.7","1.1","1.1"]];break;case 7:c=[["3.2.10.1.1.110","0.0","0.0","0.0","0.0","0.0","0.0","0.0","3.2.5.1.1.-110","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.3.11","1.7","1.5","1.7","1.1","1.1","1.7","1.5","1.7","1.3.10"],["0.0","0.0","0.0","1.5","0.0","0.0","1.5","0.0","0.0","0.0"],["0.0","0.0","1.5","0.0","1.7","1.7","0.0","1.5","0.0","0.0"],["0.0","0.0","1.7","1.5","0.0","0.0","1.5","1.7","0.0","0.0"],["0.0","0.0","1.1","1.7","1.3.6","1.3.14","1.7","1.1","0.0","0.0"],["0.0","1.1","0.0","1.1","0.0","0.0","1.1","0.0","1.1","0.0"],["1.1","0.0","1.1","0.0","1.7","1.7","0.0","1.1","0.0","1.1"],["0.0","1.3.4","0.0","1.1","0.0","0.0","1.1","0.0","1.3.13","0.0"],["0.0","1.1","0.0","0.0","0.0","0.0","0.0","0.0","1.1","0.0"]];break;case 8:c=[["1.1","1.1","1.7","1.7","1.5","1.5","1.7","1.7","1.1","1.1"],["1.1","1.3.12","1.7","1.5","1.7","1.7","1.5","1.7","1.3.7","1.1"],["0.0","1.7","1.7","1.7","0.0","0.0","1.7","1.7","1.7","0.0"],["1.1","1.5","1.1","1.7","1.5","1.5","1.7","1.1","1.5","1.1"],["1.1","1.7","1.1","1.1","1.7","1.7","1.1","1.1","1.7","1.1"],["1.1","1.2","3.1.14.1.1.80","0.0","0.0","0.0","0.0","3.1.3.1.1.-80","1.2","1.1"],["1.1","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.1"],["1.3.11","1.1","1.1","1.7","1.2","1.2","1.7","1.1","1.7","1.3.2"],["0.0","1.7","1.5","1.7","0.0","0.0","1.7","1.5","1.7","0.0"],["1.9","1.7","1.3.4","1.7","1.9","1.9","1.7","1.3.13","1.7","1.9"],["0.0","0.0","1.1","0.0","0.0","0.0","0.0","1.1","0.0","0.0"]];break;case 9:c=[["1.1","1.1","1.1","1.1","1.7","1.7","1.1","1.1","1.1","1.1"],["0.0","1.1","1.1","1.1","1.5","1.5","1.1","1.1","1.1","0.0"],["0.0","0.0","1.7","1.3.10","1.7","1.7","1.3.5","1.7","0.0","0.0"],["1.3.12","0.0","0.0","1.1","1.1","1.1","1.1","0.0","0.0","1.3.13"],["1.1","1.1","0.0","0.0","1.7","1.7","0.0","0.0","1.1","1.1"],["1.5","1.7","1.3.3","0.0","1.5","1.5","0.0","1.3.12","1.7","1.5"],["1.7","1.1","1.1","1.1","1.7","1.7","1.1","1.1","1.1","1.7"],["1.7","1.1","1.1","1.1","0.0","0.0","1.1","1.1","1.1","1.7"],["1.1","1.1","1.1","0.0","0.0","0.0","0.0","1.1","1.1","1.1"],["1.1","1.3.2","0.0","0.0","0.0","0.0","0.0","0.0","1.3.13","1.1"],["1.1","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.1"]];break;case 10:c=[["1.1","1.7","1.1","1.7","1.10","1.10","1.7","1.1","1.7","1.1"],["1.1","1.7","1.5","1.7","0.0","0.0","1.7","1.5","1.7","1.1"],["1.1","1.1","1.7","1.1","1.3.7","1.3.13","1.1","1.7","1.1","1.1"],["3.2.14.1.1.80","0.0","0.0","0.0","1.2","1.2","1.1","1.7","1.5","1.7"],["0.0","0.0","0.0","0.0","0.0","0.0","1.1","1.1","1.7","1.1"],["1.7","1.5","1.7","1.1","1.2","1.2","0.0","0.0","3.2.13.1.1.-80","0.0"],["1.1","1.7","1.1","1.1","0.0","0.0","0.0","0.0","0.0","0.0"],["1.3.11","1.1","1.1","1.1","0.0","0.0","1.1","1.1","1.1","1.3.12"],["1.7","1.5","1.7","1.7","0.0","0.0","1.7","1.7","1.5","1.7"],["1.1","1.7","1.8","1.5","0.0","0.0","1.5","1.8","1.7","1.1"],["1.9","1.3.13","0.0","1.7","0.0","0.0","1.7","0.0","1.3.4","1.9"]];break;case 11:c=[["3.1.7.1.1.80","0.0","0.0","1.1","1.7","1.7","1.1","0.0","0.0","3.1.12.1.1.-80"],["0.0","0.0","0.0","1.5","1.1","1.1","1.5","0.0","0.0","0.0"],["1.9","1.7","1.7","1.1","1.3.5","1.3.13","1.1","1.7","1.7","1.9"],["0.0","0.0","1.3.10","1.1","1.7","1.7","1.1","1.3.3","0.0","0.0"],["0.0","0.0","1.1","1.1","1.1","1.1","1.1","1.1","0.0","0.0"],["0.0","0.0","1.7","1.7","1.5","1.5","1.7","1.7","0.0","0.0"],["0.0","0.0","1.1","1.7","1.3.12","1.3.11","1.7","1.1","0.0","0.0"],["1.1","1.7","1.5","1.7","3.2.14.0","0.0","1.7","1.5","1.7","1.1"],["1.7","1.1","1.7","1.7","0.0","0.0","1.7","1.7","1.1","1.7"],["1.1","1.7","1.1","1.5","1.7","1.7","1.5","1.1","1.7","1.1"],["1.7","1.3.4","1.7","1.7","1.9","1.9","1.7","1.7","1.3.11","1.7"]];break;case 12:c=[["1.5","1.8","3.2.12.1.1.40","0.0","0.0","0.0","3.2.7.1.1.-40","0.0","1.8","1.5"],["1.1","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.1"],["1.1","1.5","1.7","1.1","1.7","1.7","1.1","1.7","1.5","1.1"],["3.1.6.1.2.50","1.8","1.5","1.1","0.0","0.0","1.1","1.5","1.8"],["0.0","0.0","1.1","0.0","1.7","1.7","0.0","1.1","0.0","0.0"],["0.0","1.5","0.0","1.7","1.2","1.2","1.7","0.0","1.5","3.1.14.1.2.-48"],["0.0","1.7","1.7","1.1","0.0","0.0","1.1","1.7","1.7","0.0"],["1.7","1.5","1.7","1.8","1.5","1.5","1.8","1.7","1.5","1.7"],["1.8","1.2","1.8","0.0","1.7","1.7","0.0","1.8","1.2","1.8"],["0.0","0.0","0.0","1.4.13","1.8","1.8","1.4.2","0.0","0.0","0.0"],["0.0","1.1","0.0","0.0","0.0","0.0","0.0","0.0","1.1","0.0"]];break;case 13:c=[["3.1.12.1.1.120","0.0","0.0","0.0","3.1.7.1.1.40","0.0","0.0","0.0","0.0","3.1.13.1.1.-120"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.1","1.7","1.5","1.7","1.7","1.5","1.7","1.1","1.1"],["1.1","0.0","1.1","1.7","0.0","0.0","1.7","1.1","0.0","1.1"],["0.0","1.7","1.3.3","1.7","0.0","0.0","1.7","1.3.14","1.7","0.0"],["1.1","1.7","1.5","1.7","0.0","0.0","1.7","1.5","1.7","1.1"],["0.0","1.1","1.7","1.1","0.0","0.0","1.1","1.7","1.1","0.0"],["0.0","1.7","0.0","1.7","1.7","1.7","1.7","0.0","1.7","0.0"],["1.1","1.7","1.5","1.7","1.1","1.1","1.7","1.5","1.7","1.1"],["0.0","1.7","1.7","0.0","0.0","0.0","0.0","1.7","1.7","0.0"],["1.9","1.7","1.3.11","1.7","1.1","1.1","1.7","1.3.2","1.7","1.9"]];break;case 14:c=[["1.1","1.9","0.0","0.0","1.10","1.10","0.0","0.0","1.9","1.1"],["1.7","1.5","1.7","0.0","0.0","0.0","0.0","1.7","1.5","1.7"],["1.7","1.3.13","1.7","0.0","0.0","0.0","0.0","1.7","1.3.5","1.7"],["0.0","1.1","1.1","3.2.10.1.0","0.0","3.2.14.1.0","0.0","1.1","1.1","0.0"],["0.0","1.1","1.7","0.0","0.0","0.0","0.0","1.7","1.1","0.0"],["0.0","0.0","3.1.3.1.2.40","1.6","1.8","1.8","1.6","3.1.12.1.2.40","0.0","0.0"],["1.7","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.7"],["1.5","0.0","0.0","1.8","1.2","1.2","1.8","0.0","0.0","1.5"],["1.7","1.7","0.0","0.0","0.0","0.0","0.0","0.0","1.7","1.7"],["1.7","1.5","1.7","1.7","1.3.2","1.3.13","1.7","1.7","1.5","1.7"],["1.1","1.7","1.1","0.0","1.1","1.1","0.0","1.1","1.7","1.1"]];break;case 15:c=[["3.2.13.1.1.80","0.0","0.0","0.0","1.8","1.8","0.0","0.0","3.2.6.1.1.-80"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.5","1.1","1.1","1.1","1.7","1.7","1.1","1.1","1.1","1.5"],["1.8","1.5","1.3.12","1.7","0.0","0.0","1.7","1.3.14","1.5","1.8"],["0.0","1.1","1.5","1.1","0.0","0.0","1.1","1.5","1.1","0.0"],["1.7","1.8","1.2","1.8","0.0","0.0","1.8","1.2","1.8","1.7"],["1.1","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.1"],["1.5","1.1","1.7","3.1.4.1.1.40","0.0","0.0","3.1.11.1.1.-40","1.7","1.1","1.5"],["1.1","1.7","1.5","0.0","0.0","0.0","0.0","1.5","1.7","1.1"],["1.8","1.1","1.7","1.1","1.7","1.7","1.1","1.7","1.1","1.8"],["0.0","1.7","1.3.13","1.7","1.1","1.1","1.7","1.3.2","1.7","0.0"]];break;case 16:c=[["1.1","1.1","1.1","0.0","0.0","0.0","0.0","1.1","1.1","1.1"],["1.7","1.5","0.0","0.0","1.1","1.1","0.0","0.0","1.5","1.7"],["1.1","0.0","0.0","1.3.13","1.1","1.1","1.3.5","0.0","0.0","1.1"],["1.7","1.1","1.1","1.1","0.0","0.0","1.1","1.1","1.1","1.7"],["3.2.12.1.1.80","0.0","0.0","0.0","1.7","1.7","0.0","0.0","3.2.6.1.1.-80"],["0.0","0.0","0.0","0.0","1.5","1.5","0.0","0.0","0.0","0.0"],["1.1","1.1","1.3.1","1.1","1.7","1.7","1.1","1.3.1","1.1","1.1"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.9","1.9","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","1.9","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]];break;case 17:c=[["3.2.1.1.2.100","0.0","1.1","0.0","1.2","1.2","0.0","1.1","3.2.1.1.2.100","0.0"],["0.0","0.0","0.0","1.7","0.0","0.0","1.7","0.0","0.0","0.0"],["0.0","0.0","1.7","1.5","1.7","1.7","1.5","1.7","0.0","0.0"],["0.0","0.0","0.0","1.7","1.6","1.6","1.7","0.0","0.0","0.0"],["0.0","0.0","0.0","1.7","0.0","0.0","1.7","0.0","0.0","0.0"],["0.0","0.0","1.7","1.5","1.7","1.7","1.5","1.7","0.0","0.0"],["0.0","0.0","1.3.5","1.7","0.0","0.0","1.7","1.3.7","0.0","0.0"],["1.7","1.7","1.7","1.7","0.0","0.0","1.7","1.7","1.7","1.7"],["1.1","1.1","1.7","0.0","0.0","0.0","0.0","1.7","1.1","1.1"],["1.2","1.7","1.2","0.0","0.0","0.0","0.0","1.2","1.7","1.2"],["0.0","1.3.1","0.0","1.7","0.0","0.0","1.7","0.0","1.3.2","0.0"]];break;case 18:c=[["0.0","0.0","1.1","0.0","1.1","1.1","0.0","1.1","0.0","0.0"],["0.0","0.0","1.7","1.3.1","1.7","1.7","1.3","1.7","0.0","0.0"],["0.0","0.0","3.3.1.1.2.60","0.0","0.0","0.0","3.3.1.1.2.60","0.0","0.0","0.0"],["0.0","0.0","0.0","00.","0.0","0.0","0.0","0.0","0.0","0.0"],["1.7","1.7","0.0","0.0","0.0","0.0","0.0","0.0","1.7","1.7"],["1.2","1.2","0.0","0.0","0.0","0.0","0.0","0.0","1.2","1.2"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.7","1.5","1.7","1.7","1.9","1.9","1.7","1.7","1.5","1.7"],["3.1.1.1.1.120","0.0","0.0","0.0","1.8","1.8","0.0","0.0","0.0","3.1.1.1.1.-120"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.3.1","1.1","1.1","1.7","1.7","1.1","1.1","1.3.2","1.1"]];break;case 19:c=[["1.1","1.7","0.0","1.1","3.2.1.1.0","0.0","1.1","0.0","1.7","1.1"],["1.7","1.5","1.7","1.1","0.0","0.0","1.1","1.7","1.5","1.7"],["0.0","1.7","1.3.1","1.7","1.5","1.5","1.7","1.3.1","1.7","0.0"],["1.1","1.1","1.1","1.7","1.7","1.7","1.7","1.1","1.1","1.1"],["3.1.12.1.1.120","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","3.1.6.1.1.-120"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.1","1.3.1","1.1","1.1","1.1","1.1","1.3.1","1.1","1.1"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.9","1.9"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.9","0.0"],["1.9","1.9","0.0","0.0","0.0","0.0","0.0","0.0","1.9","1.7"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]];break;case 20:c=[["3.1.1.1.1.120","0.0","0.0","0.0","3.2.1.1.0","0.0","0.0","0.0","0.0","3.1.1.1.1.-120"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.7","1.5","1.7","1.7","1.9","1.9","1.7","1.7","1.5","1.7"],["1.1","1.7","1.1","1.7","0.0","0.0","1.7","1.1","1.7","1.1"],["0.0","1.2","1.3.1","0.0","0.0","0.0","0.0","1.3.1","1.2","0.0"],["0.0","0.0","1.1","0.0","0.0","0.0","0.0","1.1","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.9","1.9","1.7","0.0","0.0","0.0","0.0","1.7","1.9","1.9"],["1.7","1.5","1.7","1.7","1.7","1.7","1.7","1.7","1.5","1.7"],["0.0","1.7","1.7","1.5","1.7","1.7","1.5","1.7","1.7","0.0"],["1.1","1.3.1","1.1","1.7","1.1","1.1","1.7","1.1","1.3.1","1.1"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]];break;case 21:c=[["3.1.1.1.1.120","0.0","0.0","0.0","1.10","1.10","0.0","0.0","0.0","3.1.1.1.1.-120"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7"],["3.3.1.1.1.80","0.0","0.0","0.0","1.7","1.7","0.0","0.0","3.3.1.1.1.-80","0.0"],["0.0","0.0","0.0","0.0","1.8","1.8","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1","1.1"],["3.2.1.1.1.80","0.0","0.0","0.0","1.8","1.8","0.0","0.0","3.2.1.1.1.-80","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.1","1.1","1.7","1.1","1.10","1.10","1.1","1.7","1.1","1.1"],["0.0","0.0","1.3.1","0.0","0.0","0.0","0.0","1.3.1","0.0","0.0"]];break;case 22:c=[["3.1.1.1.1.80","0.0","0.0","1.8","1.1","1.1","1.8","0.0","0.0","3.1.1.1.1.-80"],["0.0","0.0","0.0","0.0","1.1","1.1","0.0","0.0","0.0","0.0"],["1.7","1.7","1.7","1.3.2","1.5","1.5","1.3.1","1.7","1.7","1.7"],["0.0","3.3.1.1.0","0.0","1.7","1.7","1.7","1.7","3.3.1.1.0","0.0","0.0"],["0.0","0.0","0.0","1.1","1.7","1.7","1.1","0.0","0.0","0.0"],["0.0","0.0","0.0","1.1","1.5","1.5","1.1","0.0","0.0","0.0"],["1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7"],["1.1","1.1","1.1","1.7","3.3.1.1.0","0.0","1.7","1.1","1.1","1.1"],["1.5","1.7","1.7","0.0","0.0","0.0","0.0","1.7","1.7","1.5"],["1.1","1.7","0.0","0.0","0.0","0.0","0.0","0.0","1.7","1.1"],["1.3.1","0.0","0.0","0.0","1.7","1.7","0.0","0.0","0.0","1.3.2"]];break;case 23:c=[["3.2.1.1.1.80","0.0","0.0","0.0","1.2","1.2","0.0","0.0","3.2.1.1.1.-80","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.9","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.9"],["0.0","1.7","0.0","1.1","0.0","0.0","1.1","0.0","1.7","0.0"],["1.7","1.5","1.7","1.7","0.0","0.0","1.7","1.7","1.5","1.7"],["1.1","1.7","1.1","1.7","0.0","0.0","1.7","1.1","1.7","1.1"],["1.7","1.3.3","1.7","1.1","0.0","0.0","1.1","1.7","1.3.4","1.7"],["1.1","1.7","1.7","1.1","3.3.1.1.0","0.0","1.1","1.7","1.7","1.1"],["0.0","1.1","1.1","1.1","0.0","0.0","1.1","1.1","1.1","0.0"],["0.0","1.7","1.3.2","1.7","0.0","0.0","1.7","1.3.1","1.7","0.0"],["0.0","0.0","0.0","1.1","1.7","1.7","1.1","0.0","0.0","0.0"]];break;case 24:c=[["0.0","3.1.1.1.1.-40","1.1","1.7","1.1","1.1","1.7","1.1","3.1.1.1.1.40","0.0"],["0.0","0.0","1.7","1.5","1.7","1.7","1.5","1.7","0.0","0.0"],["1.9","1.9","1.7","1.3.3","1.1","1.1","1.3.2","1.7","1.9","1.9"],["0.0","0.0","0.0","1.1","0.0","0.0","1.1","0.0","0.0","0.0"],["0.0","0.0","1.5","1.7","3.2.1.1.0","0.0","1.7","1.5","0.0","0.0"],["0.0","0.0","1.7","1.1","0.0","0.0","1.1","1.7","0.0","0.0"],["0.0","0.0","1.7","1.3.3","0.0","0.0","1.3.4","1.7","0.0","0.0"],["1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7"],["1.7","1.5","1.7","1.1","1.1","1.1","1.1","1.7","1.5","1.7"],["0.0","1.7","1.3.1","1.1","0.0","0.0","1.1","1.3.2","1.7","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]];break;case 25:c=[["1.1","1.3.1","3.2.1.1.1.160","0.0","0.0","0.0","0.0","0.0","1.3.1","1.1"],["1.5","1.1","0.0","0.0","0.0","0.0","0.0","0.0","1.1","1.5"],["1.7","1.1","1.7","1.7","1.7","1.7","1.7","1.7","1.1","1.7"],["1.4.2","1.1","1.7","1.5","0.0","0.0","1.5","1.7","1.1","1.4.3"],["0.0","1.8","1.6","1.8","0.0","0.0","1.8","1.6","1.8","0.0"],["1.2","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.2"],["0.0","1.5","1.7","0.0","0.0","0.0","1.1","1.7","1.5","0.0"],["0.0","0.0","1.7","1.3.5","1.7","1.7","1.3.6","1.7","0.0","0.0"],["0.0","0.0","1.9","3.3.1.1.1.80","0.0","0.0","0.0","1.9","0.0","0.0"],["0.0","0.0","1.9","0.0","0.0","0.0","0.0","1.9","0.0","0.0"],["0.0","0.0","1.9","0.0","0.0","0.0","0.0","1.9","0.0","0.0"]];break;case 26:c=[["3.1.1.1.1.80","0.0","0.0","1.7","1.9","1.9","1.7","0.0","0.0","3.1.1.1.1.-80"],["0.0","0.0","0.0","1.5","1.8","1.8","1.5","0.0","0.0","0.0"],["1.1","1.7","1.7","1.7","0.0","0.0","1.7","1.7","1.7","1.1"],["0.0","1.7","1.1","3.2.1.1.2.20","0.0","0.0","0.0","1.1","1.7","0.0"],["1.7","1.5","1.7","0.0","0.0","3.2.1.1.2.-20","0.0","1.7","1.5","1.7"],["0.0","1.7","1.1","0.0","0.0","0.0","0.0","1.1","1.7","0.0"],["1.1","0.0","1.1","1.7","1.7","1.7","1.7","1.1","0.0","1.1"],["0.0","1.7","1.1","1.1","3.3.1.1.0","0.0","1.1","1.1","1.7","0.0"],["1.9","1.9","1.7","1.3.2","0.0","0.0","1.3.3","1.7","1.9","1.9"],["1.3.7","1.9","0.0","1.7","0.0","0.0","1.7","0.0","1.9","1.3.1"],["1.1","1.9","0.0","0.0","1.7","1.7","0.0","0.0","1.9","1.1"]];break;case 27:c=[["1.7","1.5","0.0","1.8","1.2","1.2","1.8","0.0","1.5","1.7"],["1.1","1.3.3","1.5","0.0","0.0","0.0","0.0","1.5","1.3.5","1.1"],["1.7","1.1","1.7","1.5","1.7","1.7","1.5","1.7","1.1","1.7"],["1.7","3.2.1.1.2.40","0.0","1.7","0.0","0.0","1.7","0.0","0.0","1.7"],["1.7","0.0","0.0","1.7","0.0","0.0","1.7","0.0","0.0","1.7"],["1.7","0.0","0.0","1.7","0.0","0.0","1.7","3.2.1.1.2.-40","0.0","1.7"],["1.7","0.0","0.0","1.7","0.0","0.0","1.7","0.0","0.0","1.7"],["1.1","1.1","1.7","1.5","1.7","1.7","1.5","1.7","1.1","1.1"],["0.0","0.0","1.1","1.7","1.7","1.7","1.7","1.1","0.0","0.0"],["0.0","0.0","1.9","0.0","1.7","1.7","0.0","1.9","0.0","0.0"],["0.0","0.0","1.9","1.3.2","0.0","0.0","1.3.4","1.9","0.0","0.0"]];break;case 28:
c=[["1.7","0.0","1.1","0.0","3.3.1.1.0","0.0","0.0","1.1","0.0","1.7"],["1.3.1","1.7","1.1","0.0","0.0","0.0","0.0","1.1","1.7","1.3.1"],["1.7","0.0","1.1","0.0","0.0","0.0","0.0","1.1","0.0","1.7"],["0.0","1.1","0.0","0.0","1.8","1.8","0.0","0.0","1.1","0.0"],["1.1","1.4.2","0.0","0.0","0.0","0.0","0.0","0.0","1.4.1","1.1"],["1.1","0.0","0.0","0.0","1.8","1.8","0.0","0.0","0.0","1.1"],["0.0","1.1","0.0","0.0","0.0","0.0","0.0","0.0","1.1","0.0"],["1.1","1.7","1.1","1.7","1.8","1.8","1.7","1.1","1.7","1.7"],["1.10","3.1.1.1.1.80","0.0","0.0","0.0","0.0","0.0","0.0","3.1.1.1.1.-80","1.10"],["0.0","0.0","0.0","0.0","1.5","1.5","0.0","0.0","0.0","0.0"],["1.1","1.1","1.3.2","1.1","1.7","1.7","1.1","1.3.1","1.1","1.1"]];break;case 29:c=[["1.1","1.1","1.1","1.3.3","1.1","1.1","1.3.2","1.1","1.1","1.1"],["1.5","3.1.1.1.1.40","0.0","1.1","1.7","1.7","1.1","3.1.1.1.1.40","0.0","1.5"],["1.1","0.0","0.0","1.5","1.7","1.7","1.5","0.0","0.0","1.1"],["1.7","0.0","0.0","1.7","3.3.1.1.0","0.0","1.7","0.0","0.0","1.7"],["1.7","0.0","0.0","1.7","0.0","0.0","1.7","0.0","0.0","1.7"],["1.7","0.0","0.0","1.7","0.0","0.0","1.7","0.0","0.0","1.7"],["1.9","0.0","0.0","1.9","1.9","1.9","1.9","0.0","0.0","1.9"],["1.7","1.1","0.0","1.7","1.6","1.6","1.7","0.0","1.1","1.7"],["0.0","1.7","1.1","1.1","0.0","0.0","1.1","1.1","1.7","0.0"],["0.0","1.3.2","1.7","1.1","1.7","1.7","1.1","1.7","1.3.6","0.0"],["0.0","0.0","0.0","0.0","1.1","1.1","0.0","0.0","0.0","0.0"]];break;case 30:c=[["1.7","1.5","1.7","1.1","3.3.1.1.0","0.0","1.1","1.7","1.5","1.7"],["1.2","1.7","1.2","1.8","0.0","0.0","1.8","1.2","1.7","1.2"],["0.0","1.3.1","0.0","0.0","0.0","0.0","0.0","0.0","1.3.2","0.0"],["1.1","1.1","1.1","1.7","1.1","1.1","1.7","1.1","1.1","1.1"],["3.1.1.1.1.40","0.0","1.8","3.2.1.1.1.80","0.0","0.0","0.0","1.8","3.1.1.1.1.40","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["1.3.2","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.7","1.3.3"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","1.9","1.9"],["0.0","0.0","0.0","0.0","1.9","1.9","1.9","1.9","1.9","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"]]}return c},b}();b.WIDTH=600,b.HEIGHT=400,b.PLAYER_VELOCITY_X=400,b.PLAYER_VELOCITY_Y=-400,b.INVINCIBILITY_TIME=1e3,b.ENEMY_MEGAWHATT=1,b.ENEMY_ROBOT=2,b.ENEMY_LIMAX=3,b.mzActorInLevelTEST=[["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0"],["0.0","0.0","0.0","0.0","0.0","1.1","0.0","0.0","0.0","0.5"]],a.LevelsH=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h){var i=b.call(this,c,d,e,"atlas","block_"+g+"/mc_block_"+g+"_10001")||this;return i._blockPoly=null,i.anchor.set(.5),i.BW=40,i.BH=20,i.x=d,i.y=e,2!=g&&4!=g&&6!=g&&8!=g&&10!=g||(i.BW=40,i.BH=40,i.y+=10),9!=g&&10!=g||(i.BW=40),i._blockPoly=[],i._blockPoly.push(new a.MPolygon([-i.width/2,-i.height/2,i.width/2,-i.height/2,i.width/2,i.height/2,-i.width/2,i.height/2])),i._blockPoly[0].x=i.x,i._blockPoly[0].y=i.y,setTimeout(function(){var a=i.game.add.graphics(0,0);i._blockPoly[0].debugDraw(a)},50),i}return __extends(c,b),Object.defineProperty(c.prototype,"poly",{get:function(){return this._blockPoly},enumerable:!0,configurable:!0}),c}(Phaser.Sprite);a.Brick=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o){return a.call(this,b,c,d,"atlas","Door_"+g+"/mc_door_"+g+"_10001")||this}return __extends(b,a),b}(Phaser.Sprite);a.Door=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(a,c,d,e,f,g,h,i,j){var k=b.call(this,a,c,d,"atlas","Enemy_"+f+"/stand/mc_enemy_10001")||this;k.anchor.set(.5,.2),k._type=f,k.initValue();var l=(k.x,d+10);if(k._limit=j,k._move=void 0==i?0:i,k._limit>0?k._speedMove=2:k._speedMove=-2,1==k._move?(k._limitIni=k.x,k._limit+=k._limitIni):2==k._move&&(k._limitIni=l,k._limit+=k._limitIni),k._limitIni>k._limit){var m=void 0;m=k._limitIni,k._limitIni=k._limit,k._limit=m}return k}return __extends(c,b),c.prototype.initValue=function(){switch(this._type){case a.GameConfig.ENEMY_ROBOT:case a.GameConfig.ENEMY_MEGAWHATT:this.life=4,this.priceDie=400;break;case a.GameConfig.ENEMY_LIMAX:this.life=12,this.priceDie=400;break;default:this.life=4,this.priceDie=400}},c.prototype.moveHorizontal=function(){(this.x<this._limitIni||this.x>this._limit)&&(this._speedMove=-this._speedMove),this.x+=this._speedMove},c.prototype.update=function(){1==this._move?this.moveHorizontal():this._move},c}(Phaser.Sprite);a.Enemy=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e){var f=b.call(this,c,d,e)||this;return f._shooter=!1,f._activePlayer=a.GameConfig.BEN,f._paddle=f.game.add.sprite(0,0,"player","Paddle/paddle_ben_10001"),f._paddle.anchor.set(.5,0),f.addChild(f._paddle),f._ben=f.game.add.sprite(-7,-25,"player","Stand/mc_player_1_ben_10001"),f._ben.anchor.set(.5,0),f.addChild(f._ben),a.GameConfig.enableDrag(f._ben),f.game.physics.enable(f,Phaser.Physics.ARCADE),f.body.collideWorldBounds=!0,f.updateData(),f}return __extends(c,b),Object.defineProperty(c.prototype,"invincible",{get:function(){return this._invincibility},enumerable:!0,configurable:!0}),c.prototype.updateDataBall=function(a,b){},c.prototype.update=function(){this.game.input.keyboard.isDown(Phaser.KeyCode.LEFT)&&(this.x-=this._speed),this.game.input.keyboard.isDown(Phaser.KeyCode.RIGHT)&&(this.x+=this._speed)},c.prototype.updateData=function(){switch(this._shooter=!1,this._speed=5,this._activePlayer){case a.GameConfig.BEN:this._speed=13,this._snap=7,this.updateDataBall(a.GameConfig.BEN,2);break;case a.GameConfig.HEATBLAST:this._speed=17,this._snap=9,this._shooter=!0,this.updateDataBall(a.GameConfig.HEATBLAST,5);break;case a.GameConfig.RIPJAWS:this._speed=14,this._snap=7,this.updateDataBall(a.GameConfig.RIPJAWS,6);break;case a.GameConfig.STINKFLY:this._speed=19,this._snap=10,this._shooter=!0,this.updateDataBall(a.GameConfig.STINKFLY,5);break;case a.GameConfig.XLR8:this._speed=30,this._snap=20,this.updateDataBall(a.GameConfig.XLR8,6);break;case a.GameConfig.CANNONBOLT:this._speed=10,this._snap=5,this.updateDataBall(a.GameConfig.CANNONBOLT,10);break;case a.GameConfig.WILDVINE:this._speed=15,this._snap=7,this._shooter=!0,this.updateDataBall(a.GameConfig.WILDVINE,5)}},c}(Phaser.Sprite);b.LEFT_LIMIT=160,b.RIGHT_LIMIT=580,a.Player=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c,d,"atlas","block_sw_"+f+"/mc_block_sw_"+f+"_10001")||this;return g.anchor.set(.5),g}return __extends(b,a),b}(Phaser.Sprite);a.Switch=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dragonBones;!function(a){var b=function(b){function c(a){var c=b.call(this,a)||this;return c._eventDispatcher=new EventEmitter,c}return __extends(c,b),c.prototype._onClear=function(){this._debugDrawer,this._armature=null,this._debugDrawer=null,this.destroy()},c.prototype._debugDraw=function(a){},c.prototype.hasEvent=function(a){return this._eventDispatcher.listeners(a,!0)},c.prototype.addEvent=function(a,b,c){this._eventDispatcher.addListener(a,b,c)},c.prototype.removeEvent=function(a,b,c){this._eventDispatcher.removeListener(a,b,c)},c.prototype._dispatchEvent=function(a,b){this._eventDispatcher.emit(a,b)},c.prototype.dispose=function(a){void 0===a&&(a=!0),this._armature&&(this._armature.dispose(),this._armature=null)},Object.defineProperty(c.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"animation",{get:function(){return this._armature.animation},enumerable:!0,configurable:!0}),c.prototype.advanceTimeBySelf=function(b){this._armature.clock=b?a.PhaserFactory._clock:null},c}(Phaser.Group);a.PhaserArmatureDisplay=b}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dragonBones;!function(a){var b=function(b){function c(d,e){void 0===d&&(d=null);var f=b.call(this,d)||this;return c._eventManager||(c._eventManager=new a.PhaserArmatureDisplay(e),c._clock=new a.WorldClock,c._game=e),f}return __extends(c,b),c._clockHandler=function(a){void 0===a&&(a=-1),null!=c._clock&&c._clock.advanceTime(a)},Object.defineProperty(c,"clock",{get:function(){return c._clock},enumerable:!0,configurable:!0}),Object.defineProperty(c,"factory",{get:function(){return c._factory||(c._factory=new c(null,this._game)),c._factory},enumerable:!0,configurable:!0}),c.startLoop=function(a){void 0===a&&(a=20),c._clockID=setInterval(function(){c._clockHandler()},a)},c.stopLoop=function(){-1!=c._clockID&&(clearInterval(c._clockID),c._clockID=-1)},Object.defineProperty(c,"DBLooping",{get:function(){return-1!=c._clockID},enumerable:!0,configurable:!0}),c.prototype._generateTextureAtlasData=function(b,c){return b?b.texture=c:b=a.BaseObject.borrowObject(a.PhaserTextureAtlasData),b},c.prototype._generateArmature=function(b){var d=a.BaseObject.borrowObject(a.Armature),e=new a.PhaserArmatureDisplay(c._game);return e._armature=d,d._init(b.armature,b.skin,e,e,c._eventManager),d},c.prototype._generateSlot=function(b,d,e){var f=a.BaseObject.borrowObject(a.PhaserSlot);f._init(d,new Phaser.Sprite(c._game,null,null),null);for(var g=[],h=0,i=d.displays.length;h<i;++h){var j=d.displays[h];switch(j.type){case 0:j.texture&&!b.textureAtlasName||(j.texture=this._getTextureData(b.textureAtlasName||b.dataName,j.path)),g.push(f.rawDisplay);break;case 2:j.texture&&!b.textureAtlasName||(j.texture=this._getTextureData(b.textureAtlasName||b.dataName,j.path)),!j.mesh&&j.share&&(j.mesh=d.getMesh(j.share)),g.push(f.meshDisplay);break;case 1:var k=this.buildArmature(j.path,b.dataName,null,b.textureAtlasName);if(k){if(k.inheritAnimation=j.inheritAnimation,!k.inheritAnimation){var l=d.slot.actions.length>0?d.slot.actions:k.armatureData.actions;if(l.length>0)for(var m=0,n=l.length;m<n;++m)k._bufferAction(l[m]);else k.animation.play()}j.armature=k.armatureData}g.push(k);break;default:g.push(null)}}return f._setDisplayList(g),f},c.prototype.buildArmatureDisplay=function(a,b,d,e){void 0===b&&(b=null),void 0===d&&(d=null),void 0===e&&(e=null);var f=this.buildArmature(a,b,d,e);if(f){var g=f.display;return c._clock.add(f),g}return null},c.prototype.getTextureDisplay=function(a,b){void 0===b&&(b=null);var c=this._getTextureData(b,a);if(c){if(!c.texture){var d=c.parent.texture,e=new PIXI.Rectangle(0,0,c.region.width,c.region.height);c.texture=new PIXI.Texture(d,null,c.region,e)}return new PIXI.Sprite(c.texture)}return null},Object.defineProperty(c.prototype,"soundEventManater",{get:function(){return c._eventManager},enumerable:!0,configurable:!0}),c}(a.BaseFactory);b._factory=null,b._eventManager=null,b._clock=null,b._clockID=-1,a.PhaserFactory=b}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dragonBones;!function(a){var b=function(b){function c(){var a=b.call(this)||this;return a._renderDisplayX=0,a._renderDisplayY=0,a}return __extends(c,b),c.toString=function(){return"[class dragonBones.PhaserSlot]"},c.prototype._onClear=function(){b.prototype._onClear.call(this),this._renderDisplay=null},c.prototype._initDisplay=function(a){},c.prototype._disposeDisplay=function(a){a&&a.destroy()},c.prototype._onUpdateDisplay=function(){this._renderDisplay=this._display?this._display:this._rawDisplay},c.prototype._addDisplay=function(){this._armature.display.addChild(this._renderDisplay),this._renderDisplayX=0*this.armature.getBone(this.name).origin.x,this._renderDisplayY=0*this.armature.getBone(this.name).origin.y},c.prototype._replaceDisplay=function(a){var b=this._armature.display,c=a;b.addChild(this._renderDisplay),b.swapChildren(this._renderDisplay,c),b.removeChild(c)},c.prototype._removeDisplay=function(){this._renderDisplay.parent.removeChild(this._renderDisplay)},c.prototype._updateZOrder=function(){this._armature.display.addChildAt(this._renderDisplay,this._zOrder)},c.prototype._updateVisible=function(){this._renderDisplay.visible=this._parent.visible},c.prototype._updateBlendMode=function(){switch(this._blendMode){case 0:this._renderDisplay.blendMode=PIXI.blendModes.NORMAL;break;case 1:this._renderDisplay.blendMode=PIXI.blendModes.ADD;break;case 3:this._renderDisplay.blendMode=PIXI.blendModes.DARKEN;break;case 4:this._renderDisplay.blendMode=PIXI.blendModes.DIFFERENCE;break;case 6:this._renderDisplay.blendMode=PIXI.blendModes.HARD_LIGHT;break;case 9:this._renderDisplay.blendMode=PIXI.blendModes.LIGHTEN;break;case 10:this._renderDisplay.blendMode=PIXI.blendModes.MULTIPLY;break;case 11:this._renderDisplay.blendMode=PIXI.blendModes.OVERLAY;break;case 12:this._renderDisplay.blendMode=PIXI.blendModes.SCREEN}},c.prototype._updateColor=function(){this._renderDisplay.alpha=this._colorTransform.alphaMultiplier},c.prototype._updateFrame=function(){var b=this._meshData&&this._display===this._meshDisplay,c=this._textureData;if(this._displayIndex>=0&&this._display&&c){var d=c.parent;this._armature.replacedTexture&&this._displayData&&d===this._displayData.texture.parent&&(d=this._armature._replaceTextureAtlasData,d||(d=a.BaseObject.borrowObject(a.PhaserTextureAtlasData),d.copyFrom(c.parent),d.texture=this._armature.replacedTexture,this._armature._replaceTextureAtlasData=d),c=d.getTexture(c.name));var e=d.texture;if(e){if(c.texture||(c.texture=new PIXI.Texture(e,c.region,c.region,new PIXI.Rectangle(0,0,c.region.width,c.region.height))),b){var f=this._renderDisplay,g=e?e.width:1,h=e?e.height:1;f.uvs=new Float32Array(this._meshData.uvs),f.vertices=new Float32Array(this._meshData.vertices),f.indices=new Uint16Array(this._meshData.vertexIndices);for(var i=0,j=f.uvs.length;i<j;i+=2){var k=f.uvs[i],l=f.uvs[i+1];f.uvs[i]=(c.region.x+k*c.region.width)/g,f.uvs[i+1]=(c.region.y+l*c.region.height)/h}f.texture=c.texture,f.dirty=!0}else{var m=this._renderDisplay;m.texture=c.texture}return void this._updateVisible()}}if(b){var f=this._renderDisplay;f.visible=!1,f.texture=null,f.x=0,f.y=0}else{var m=this._renderDisplay;m.visible=!1,m.texture=null,m.x=0,m.y=0}},c.prototype._updateMesh=function(){var a=this._renderDisplay,b=this._ffdVertices.length>0;if(this._meshData.skinned)for(var c=0,d=0,e=this._meshData.vertices.length;c<e;c+=2){for(var f=c/2,g=this._meshData.boneIndices[f],h=this._meshData.boneVertices[f],i=this._meshData.weights[f],j=0,k=0,l=0,m=g.length;l<m;++l){var n=this._meshBones[g[l]],o=n.globalTransformMatrix,p=i[l],q=0,r=0;b?(q=h[2*l]+this._ffdVertices[d],r=h[2*l+1]+this._ffdVertices[d+1]):(q=h[2*l],r=h[2*l+1]),j+=(o.a*q+o.c*r+o.tx)*p,k+=(o.b*q+o.d*r+o.ty)*p,d+=2}a.vertices[c]=j,a.vertices[c+1]=k}else if(b)for(var s=this._meshData.vertices,c=0,e=this._meshData.vertices.length;c<e;c+=2){var j=s[c]+this._ffdVertices[c],k=s[c+1]+this._ffdVertices[c+1];a.vertices[c]=j,a.vertices[c+1]=k}},c.prototype._updateTransform=function(a){if(a)this._renderDisplay.position.x=0,this._renderDisplay.position.y=0,this._renderDisplay.scale.x=1,this._renderDisplay.scale.y=1,this._renderDisplay.rotation=0,this._renderDisplay.skew.x=0,this._renderDisplay.skew.y=0,this._renderDisplay.pivot.x=0,this._renderDisplay.pivot.y=0;else{var b=this.globalTransformMatrix.tx-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),c=this.globalTransformMatrix.ty-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY);if(this._renderDisplay instanceof Phaser.Rope){this._renderDisplay.position.x=b||0,this._renderDisplay.position.y=c||0,this._renderDisplay.worldTransform.tx=this.globalTransformMatrix.tx,this._renderDisplay.worldTransform.ty=this.globalTransformMatrix.ty,this._renderDisplay.worldTransform.a=this.globalTransformMatrix.a,this._renderDisplay.worldTransform.b=this.globalTransformMatrix.b,this._renderDisplay.worldTransform.c=this.globalTransformMatrix.c,this._renderDisplay.worldTransform.d=this.globalTransformMatrix.d;var d=this._renderDisplay.parent.scale.x?this._renderDisplay.parent.scale.x:1,e=this._renderDisplay.parent.scale.y?this._renderDisplay.parent.scale.y:1;this._renderDisplay.worldTransform.scale(d,e),this._renderDisplay.worldTransform.translate(this._renderDisplay.parent.x,this._renderDisplay.parent.y)}else this.updateGlobalTransform(),this._renderDisplay.position.x=this._renderDisplayX+this.globalTransformMatrix.tx-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),this._renderDisplay.position.y=this._renderDisplayY+this.globalTransformMatrix.ty-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY),this._renderDisplay.scale.x=this.global.scaleX?this.global.scaleX:1,this._renderDisplay.scale.y=this.global.scaleY?this.global.scaleY:1,this._renderDisplay.rotation=this.global.skewX,this._renderDisplay.skew.x=0,this._renderDisplay.skew.y=this.global.skewY-this.global.skewX}},c}(a.Slot);a.PhaserSlot=b}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dragonBones;!function(a){var b=function(b){function d(){return b.call(this)||this}return __extends(d,b),d.toString=function(){return"[class dragonBones.PhaserTextureAtlasData]"},d.prototype._onClear=function(){b.prototype._onClear.call(this),this.texture&&(this.texture=null)},d.prototype.generateTexture=function(){return a.BaseObject.borrowObject(c)},d}(a.TextureAtlasData);a.PhaserTextureAtlasData=b;var c=function(a){function b(){return a.call(this)||this}return __extends(b,a),b.toString=function(){return"[class dragonBones.PhaserTextureData]"},b.prototype._onClear=function(){a.prototype._onClear.call(this),this.texture&&(this.texture.destroy(!0),this.texture=null)},b}(a.TextureData);a.PhaserTextureData=c}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d){var e=b.call(this,c,0,0)||this;return e._cb=d,e._state=0,e.back=e.game.make.sprite(0,0,"GAME_SCREENS","mc_instructions_1"),e.addChild(e.back),e._nextBtn=new a.OButton(e.game,"GAME_SCREENS",["btn_Next_10001","btn_Next_10002","btn_Next_10003"],function(){e._state++,1==e._state?(e.back.frameName="mc_instructions2_1",e._nextBtn.setNewFrames(["btn_Play_10001","btn_Play_10002","btn_Play_10003"]),e.game.device.desktop||(e._shootOver=e.game.make.sprite(453,213,"UI_PLANK","shootBtn"),e.back.addChild(e._shootOver))):2==e._state&&(e._nextBtn.enabled=!1,setTimeout(function(){e._cb()},5))}),e._nextBtn.x=300,e._nextBtn.y=370,e.addChild(e._nextBtn),e}return __extends(c,b),c}(Phaser.Sprite);a.tutorialWindow=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d){var e=a.call(this)||this;return e._eventsBounds=null,b instanceof dragonBones.PhaserFactory?(d&&d.world.add(e),e._visual=b.buildArmatureDisplay(c),e.addChild(e._visual)):e._visual=b,e._pausedTime=-1,e}return __extends(b,a),b.prototype.free=function(){this._eventsBounds&&this._eventsBounds.destroy(!0),this._visual.dispose(!0)},b.prototype.stopInteractive=function(){this._eventsBounds.inputEnabled=!1},b.prototype.addEvent=function(a,b,c){this._visual.addEvent(a,b,c||this)},b.prototype.removeEvent=function(a,b){this._visual.removeEvent(a,b,null)},b.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},b.prototype._play=function(a,b){if(a!=this._currentLabel||0!=this._playTimes||!this._visual.animation.isPlaying)return this._currentLabel=a,this._pausedTime=-1,this._currentAnimState=this._visual.animation.play(a,b),this._playTimes=this._currentAnimState.playTimes,this._currentAnimState},b.prototype.playEx=function(a,b,c,d){return this._nextState=b,this._cb=c,this._cbContext=d||this,this._play(a),(b||c)&&this.addEvent(1==this._playTimes?"complete":"loopComplete",this.completePlaying),this._currentAnimState},b.prototype.play=function(a,b,c,d){return"string"==typeof b?this.playEx(a,b,c,d):"function"==typeof b?this.playEx(a,null,b,c):this._play(a)},b.prototype.stop=function(){this._visual.animation.stop()},b.prototype.pause=function(){null==this._currentAnimState&&this._visual.animation.stop(),this._pausedTime=this._currentAnimState.currentTime,this._visual.animation.stop(this._currentLabel)},b.prototype.resume=function(){-1!=this._pausedTime&&(this._pausedTime=-1,this._visual.animation.gotoAndPlayByTime(this._currentLabel,this._pausedTime))},b.prototype.completePlaying=function(a){this.removeEvent("complete",this.completePlaying),this.removeEvent("loopComplete",this.completePlaying),a.label=this.currentLabel,"function"==typeof this._cb&&this._cb.bind(this._cbContext)(a),this._nextState?this.playEx(this._nextState,null,this._cb,this._cbContext):this._cb=null},b.prototype.getBone=function(a){var b=this._visual.armature.getSlot(a);return b.childArmature?b.childArmature.display:b.display},b.prototype.getBoneArmature=function(a){return this._visual.armature.getSlot(a).childArmature},b.prototype.getSlot=function(a,b){void 0===b&&(b=!1);var c=this._visual.armature.getSlot(a);return null==c?null:b||null!=c.childArmature?c.childArmature?c.childArmature.animation:c.armature.animation:null},b.prototype.setPos=function(a,b){this.x=a||this.x,this.y=b||this.y},b.prototype.createBounds=function(a){null!=this._eventsBounds&&(this.removeChild(this._eventsBounds),this._eventsBounds.destroy(!0));var b=this.getBounds();this._eventsBounds=new Phaser.Graphics(a,0,0),this._eventsBounds.beginFill(16711680,0),this._eventsBounds.drawRect(.5*-b.width,.5*-b.height,b.width,b.height),this._eventsBounds.endFill(),this.addChild(this._eventsBounds)},Object.defineProperty(b.prototype,"animation",{get:function(){return this._visual.animation},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"armature",{get:function(){return this._visual._armature},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"sprites",{get:function(){return this._visual.children},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"events",{get:function(){return this._eventsBounds?this._eventsBounds.events:null},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"input",{get:function(){return this._eventsBounds?this._eventsBounds.input:null},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inputEnabled",{get:function(){return!!this._eventsBounds&&this._eventsBounds.inputEnabled},set:function(a){this._eventsBounds.inputEnabled=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"currentLabel",{get:function(){return this._currentLabel},enumerable:!0,configurable:!0}),b.prototype.update=function(){},b.prototype.postUpdate=function(){},b}(PIXI.DisplayObjectContainer);a.DBSprite=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.loadFactory=function(a,b,c,d,e){d=d||"_tex",e=e||"_ske",c+=b,a.load.json(b+"textureData",c+d+".json"),a.load.json(b+"dragonBonesData",c+e+".json"),a.load.image(b+"texture",c+d+".png")},b.createFactory=function(a,b){var c=new dragonBones.PhaserFactory(null,a);return c.parseDragonBonesData(a.cache.getJSON(b+"dragonBonesData")),c.parseTextureAtlasData(a.cache.getJSON(b+"textureData"),a.cache.getBaseTexture(b+"texture")),c},b}(Phaser.State);a.Factories=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this._x=a,this._y=b}return a.prototype.rotate=function(b,c,d){void 0===c&&(c=0),void 0===d&&(d=0);var e=new a;return e.x=(this.x-c)*Math.cos(b)-(this.y-d)*Math.sin(b)+c,e.y=(this.y-d)*Math.cos(b)+(this.x-c)*Math.sin(b)+d,e},a.prototype.rotateX=function(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=0),(this.x-b)*Math.cos(a)-(this.y-c)*Math.sin(a)+b},a.prototype.rotateY=function(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=0),(this.y-c)*Math.cos(a)+(this.x-b)*Math.sin(a)+c},Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a},enumerable:!0,configurable:!0}),a}();a.MPoint=b;var c=function(){function a(a){void 0===a&&(a=null),this.setPoints(a),this.x=0,this.y=0,this.cx=0,this.cy=0,this.angle=0}return a.prototype.setPoints=function(a){if(null!=a){this._points=[];for(var c=0;c<.5*a.length;c++)this._points.push(new b(a[2*c],a[2*c+1]))}},Object.defineProperty(a.prototype,"error",{get:function(){return null==this._points},enumerable:!0,configurable:!0}),a.prototype.contains=function(a,b){for(var c=this._points.length,d=0;d<c;d++){var e=d<c-1?d+1:0;if((this.pointX(e)-this.pointX(d))*(this.pointY(e)-b)-(this.pointX(e)-a)*(this.pointY(e)-this.pointY(d))>0)return!1}return!0},a.prototype.hit=function(a){for(var b=0;b<a.length;b++)if(this.contains(a.pointX(b),a.pointY(b)))return!0;for(var b=0;b<this.length;b++)if(a.contains(this.pointX(b),this.pointY(b)))return!0;return!1},a.prototype.pointX=function(a){return 1*this._points[a].rotateX(this.angle,this.cx,this.cy)+this.x},a.prototype.pointY=function(a){return 1*this._points[a].rotateY(this.angle,this.cx,this.cy)+this.y},a.prototype.getPointByIndex=function(a){return new Phaser.Point(1*this._points[a].rotateX(this.angle,this.cx,this.cy)+this.x,1*this._points[a].rotateY(this.angle,this.cx,this.cy)+this.y)},a.prototype.debugDraw=function(a){a.lineStyle(.1,65280),a.beginFill(65280,.3);var b=this._points.length;b>1&&a.moveTo(this.pointX(0),this.pointY(0));for(var c=1;c<b;c++)a.lineTo(this.pointX(c),this.pointY(c));b>1&&a.lineTo(this.pointX(0),this.pointY(0)),a.endFill()},Object.defineProperty(a.prototype,"length",{get:function(){return this._points.length},enumerable:!0,configurable:!0}),a}();a.MPolygon=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d,e,f){void 0===e&&(e=null),void 0===f&&(f=!1);var g=this,h=null,i=null,j=null;return d.length>0&&(h=d[0],d.length>1?(i=d[1],j=d.length>2?d[2]:d[0]):(i=d[0],j=d[0])),g=a.call(this,b,0,0,c,null,null,i,h,j,null)||this,g._framesString=[h,i,j],g.soundOver="over",g.soundDown=null,g.anchor.setTo(.5),g._cb=e,g._deltaScale=.1,g._defaultScale=1,g._isDown=!1,g._isOver=!1,g._invert=f,g._invert?g.scale.set(-g._defaultScale,g._defaultScale):g.scale.set(g._defaultScale),g.onInputOver.add(g.over,g),g.onInputOut.add(g.out,g),g.onInputDown.add(g.down,g),g.onInputUp.add(g.up,g),g}return __extends(b,a),b.prototype.setCBContext=function(a){this._cntxt=a},b.prototype.setAnimationScale=function(a,b){void 0===a&&(a=0),void 0===b&&(b=1),this._deltaScale=a,this._defaultScale=b},b.prototype.setNewFrames=function(a){var b=null,c=null,d=null;a.length>0&&(b=a[0],a.length>1?(c=a[1],d=a.length>2?a[2]:a[0]):(c=a[0],d=a[0])),this._framesString=[b,c,d],this.setFrames(c,b,d)},b.prototype.over=function(){this._isDown,this._isOver=!0},b.prototype.out=function(){this._isDown||(this._invert?this.scale.set(-this._defaultScale,this._defaultScale):this.scale.set(this._defaultScale)),this._isOver=!1},b.prototype.up=function(){if(this._isDown){this._invert?this.scale.set(-this._defaultScale,this._defaultScale):this.scale.set(this._defaultScale);var a=this.game.device.desktop?this._isOver:this.input.pointerOver();this._isOver?this.frameName=this._framesString[1]:a&&(this.frameName=this._framesString[0]),this._isDown=!1,a&&null!=this._cb?(this._cntxt?this._cb.bind(this._cntxt)():this._cb(),
this.frameName=this._framesString[0]):0==a&&(this._invert?this.scale.set(-this._defaultScale,this._defaultScale):this.scale.set(this._defaultScale))}},b.prototype.down=function(){this._isDown||(this._invert?this.scale.set(-(this._defaultScale-this._deltaScale),this._defaultScale-this._deltaScale):this.scale.set(this._defaultScale-this._deltaScale),this._isDown=!0)},b.prototype.deleteFromParent=function(){this.parent&&this.parent.removeChild(this),this.onInputOver.remove(this.over,this),this.onInputOut.remove(this.out,this),this.onInputDown.remove(this.down,this),this.onInputUp.remove(this.up,this)},Object.defineProperty(b.prototype,"enabled",{set:function(a){this.inputEnabled=a,a||(this.frameName=this._framesString[0],this._invert?this.scale.set(-this._defaultScale,this._defaultScale):this.scale.set(this._defaultScale))},enumerable:!0,configurable:!0}),b}(Phaser.Button);a.OButton=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d,e,f){void 0===f&&(f=null);var g=this,h=null,i=null,j=null,k=null,l=null,m=null;return d.length>0&&(h=d[0],d.length>1?(i=d[1],j=d.length>2?d[2]:d[0]):(i=d[0],j=d[0])),e.length>0&&(k=e[0],e.length>1?(l=e[1],m=e.length>2?e[2]:e[0]):(l=e[0],m=e[0])),g=a.call(this,b,0,0,c,null,null,i,h,j,null)||this,g._framesString=[h,i,j,k,l,m],g._check=!0,g.soundOver="over",g.soundDown="click",g.anchor.setTo(.5),g._cb=f,g._deltaScale=.1,g._defaultScale=1,g._isDown=!1,g._isOver=!1,g.onInputOver.add(g.over,g),g.onInputOut.add(g.out,g),g.onInputDown.add(g.down,g),g.onInputUp.add(g.up,g),g}return __extends(b,a),b.prototype.setCheck=function(a){if(this._check!=a){this._check=a;var b=0;a||(b=3),this.setFrames(this._framesString[b+1],this._framesString[b],this._framesString[b+2],this._framesString[b])}},Object.defineProperty(b.prototype,"check",{get:function(){return this._check},enumerable:!0,configurable:!0}),b.prototype.setCBContext=function(a){this._cntxt=a},b.prototype.setAnimationScale=function(a,b){void 0===a&&(a=0),void 0===b&&(b=1),this._deltaScale=a,this._defaultScale=b},b.prototype.over=function(){this._isDown,this._isOver=!0},b.prototype.out=function(){this._isDown||this.scale.set(this._defaultScale),this._isOver=!1},b.prototype.up=function(){var a=this;if(this._isDown){this.scale.set(this._defaultScale);var b=this.game.device.desktop?this._isOver:this.input.pointerOver();this._isOver?this.frameName=this._framesString[1+(this._check?0:3)]:b&&setTimeout(function(){a.frameName=a._framesString[a._check?0:3]},5),this._isDown=!1,b&&null!=this._cb?(this.setCheck(!this.check),this._cntxt?this._cb.bind(this._cntxt)():this._cb(),this.frameName=this._framesString[this._check?0:3]):0==b&&this.scale.set(this._defaultScale)}},b.prototype.down=function(){this._isDown||(this.scale.set(this._defaultScale-this._deltaScale),this._isDown=!0)},b.prototype.deleteFromParent=function(){this.parent&&this.parent.removeChild(this),this.onInputOver.remove(this.over,this),this.onInputOut.remove(this.out,this),this.onInputDown.remove(this.down,this),this.onInputUp.remove(this.up,this)},Object.defineProperty(b.prototype,"enabled",{set:function(a){var b=this;this.inputEnabled=a,a||setTimeout(function(){b.frameName=b._framesString[b._check?0:3],b.scale.set(b._defaultScale)},5)},enumerable:!0,configurable:!0}),b}(Phaser.Button);a.OButtonCheck=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){this.currentLevel=0,this.firstGame=!0,this.playMusic=!0,this.playSFX=!0}return a}();a.SaveData=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a.init=function(b){a._audio=b.add.audioSprite("benten_fx")},a.play=function(b,c,d,e){if(void 0===c&&(c=.3),void 0===d&&(d=!1),void 0===e&&(e=!1),0==this._playMusic&&d)return a._bgKey=b,void(a._bgVolume=c);if(d)return a._bg&&a._bg.stop(),a._bgKey=b,a._bgVolume=c,a._bg=a._audio.play(b,c),a._bg.allowMultiple=!0,a._bg.loop=!0,a._bg;if(this._playMusic){var f=a._audio.play(b,c);return f.allowMultiple=!0,f.loop=e,f}},a.bgStop=function(){a._bg.stop()},a.on=function(){a._bgKey&&a.play(a._bgKey,a._bgVolume,!0,!0)},a.off=function(){a._audio.stop(null)},a}();b._playMusic=!0,a.SoundMixer=b}(TProject||(TProject={}));var Utils;!function(a){function b(a,b){return a+Math.random()*(b-a)}a.randomRange=b}(Utils||(Utils={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g){var h=b.call(this,c,e,f)||this;return h.mPosX=0,h.mPosY=0,h.mIniX=0,h.mIniY=0,h.mEndX=0,h.mEndY=0,h.mGpx=null,h.mAction=null,h.mHealth=0,h.mInitHealth=0,h.mArmsSet=null,h.mInvincible=!1,h.mCollisionOn=!0,h.mDeleted=!1,h.mColorHit=null,h.mTransform=null,h.mInitColor=null,h.onHitFx=0,mGpx=new a.clsMCE(c,d,d+g,g,e,f),h.mIniX=e,h.mIniY=f,mGpx.setPosition(h.mIniX,h.mIniY),h.mState=a.GameConfig.ST_BEGIN,h}return __extends(c,b),c.prototype.addArm=function(a){return this.mArmsSet||(this.mArmsSet=new clsSimSet("this.mArmsSet")),this.mArmsSet.add(a),this.mArmsSet.getCount()-1},c.prototype.getCountArms=function(){return this.mArmsSet.getCount()},c.prototype.getArm=function(a){return this.mArmsSet.getObject(a)},c.prototype.setInitHealt=function(a){this.mHealth=a,this.mInitHealth=a},c.prototype.disableCollision=function(a){this.mCollisionOn=!a},c.prototype.free=function(){this.mDeleted||(this.onHitFx&&clearInterval(this.onHitFx),mGpx.free(),delete mGpx,mGpx=null,this.mAction&&(this.mAction.free(),delete this.mAction,this.mAction=null),this.mArmsSet&&(a.GameConfig.clearSimSet(this.mArmsSet),this.mArmsSet.free(),delete this.mArmsSet,this.mArmsSet=null),this.mDeleted=!0)},c.prototype.onAnimationEnd=function(){this.mAction&&this.mAction.active&&this.mAction.onAnimationEnd()},c.prototype.processHit=function(b,c,d){if(!this.mInvincible){if(this.mHealth>0)switch(this.processHitFX(),b){case a.GameConfig.DAMAGE_FIXED:this.mHealth-=c;break;case a.GameConfig.DAMAGE_TOTAL:this.mHealth=0}this.mAction&&this.mAction.active&&this.mAction.onHit(d)}},c.prototype.processHitFX=function(){this.mColorHit||(this.mColorHit=new Color(mGpx.clip)),this.mInitColor=this.mColorHit.getTransform(),this.mTransform=this.mInitColor,this.mTransform={ra:180,ga:0,ba:0,aa:100},this.mColorHit.setTransform(this.mTransform),this.onHitFx=setInterval(this,"restoreHitFX",150)},c.prototype.restoreHitFX=function(){clearInterval(this.onHitFx),this.mColorHit.setTransform(this.mInitColor),this.onHitFx=0},c.prototype.manualUpdate=function(){mGpx&&mGpx.update(),this.mAction&&this.mAction.active&&this.mAction.update(),this.mArmsSet&&a.GameConfig.updateObjectsSet(this.mArmsSet)},Object.defineProperty(c.prototype,"action",{get:function(){return this.mAction},set:function(a){this.mAction=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"gpx",{get:function(){return mGpx},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"health",{get:function(){return this.mHealth},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"initHealth",{get:function(){return this.mInitHealth},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"STATE",{get:function(){return this.mState},set:function(a){this.mState=a},enumerable:!0,configurable:!0}),c.prototype.isCollisionActive=function(){return this.mCollisionOn},c.prototype.setInvincible=function(a){this.mInvincible=a},c.prototype.isInvincible=function(){return this.mInvincible},c.prototype.shoot=function(){},c.prototype.orderIntro=function(){},c.prototype.orderStand=function(){},c.prototype.orderLeft=function(){},c.prototype.orderRight=function(){},c.prototype.orderFire=function(){},c.prototype.orderFireRight=function(){},c.prototype.orderFireSpecial=function(){},c.prototype.orderHit=function(){},c.prototype.orderHitShoot=function(){},c.prototype.orderDie=function(){},c.prototype.orderDieHope=function(){},c.prototype.orderDieTotal=function(){},c.prototype.orderTransformation=function(){},c.prototype.orderReload=function(){},c.prototype.orderFist=function(){},c.prototype.loosenBond=function(a){},c.prototype.loosenBondBoss=function(a){},c.prototype.getPoints=function(){},c.prototype.getVectors=function(){},c}(Phaser.Sprite);a.clsActor=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a}();b.CURRENT_STATE="MainMenu",a.LocalConfig=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){this.game=new Phaser.Game(a.GameConfig.WIDTH,a.GameConfig.HEIGHT,Phaser.AUTO,"game_container",null,!1),this.game.state.add("Boot",a.Boot,!0),this.game.state.add("Preloader",a.Preloader),this.game.state.add("BaseGame",a.BaseGame),this.game.state.add("MainMenu",a.MainMenu)}return b.gotoFunction=function(a){var b=window[a];"function"==typeof b&&b()},b}();b.DEBUG=!0,a.Main=b}(TProject||(TProject={})),window.onload=function(){new TProject.Main;setTimeout("window.scrollTo(0, 1)",10),document.body.addEventListener("touchmove",function(a){a.preventDefault()},!1)};var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a.mEternalBarrier=!1,a.xIni=195,a.yIni=40,a.xMouce=0,a._gameStart=!0,a._gameSpeedMode=1,a}return __extends(c,b),c.prototype.create=function(){a.GameConfig.GAME=this,this._freeGameLevel=1,this.blockCollision=[],this.mzActors=[],this.mzBalls=[],this._fxArray=[],c.GAME_LAYER=this.game.add.sprite(0,0),c.FX_LAYER=this.game.add.sprite(0,0),c.UI_LAYER=this.game.add.sprite(0,0),c.END_GAME_OVER=this.game.add.sprite(0,0),c.MAIN_UI_LAYER=this.game.add.sprite(0,0),a.GameConfig.WORLD=new a.clsWorld(this.game),this.mzObjects=[],this.mzBullets=[],this.mzBulletsEnemy=[],this.mzEnemy=[],this.mzEnemyID=[],this.mzActorInLevel=[],this.initController(),a.GameConfig.PANEL_INFO=new a.clsPanel(this.game,0,0,a.GameConfig.PLAYER_LIFE,a.GameConfig.SCORE),this.initGame(),this._mc_barrier=this.game.make.sprite(372,392,"atlas","mc_barrier/mc_barrier_10001"),this._mc_barrier.anchor.set(.5),this._mc_barrier.exists=!1,this._mc_barrier.animations.add("START",Phaser.Animation.generateFrameNames("mc_barrier/mc_barrier_1",1,2,"",4)),this._mc_barrier.animations.add("LOOP",Phaser.Animation.generateFrameNames("mc_barrier/mc_barrier_1",3,11,"",4)),c.GAME_LAYER.addChild(this._mc_barrier),a.SoundMixer.play("a_sound_loop",.6,!0,!0)},c.prototype.initController=function(){var b=this;this.game.device.desktop?(console.log("init mouse"),this.game.input.enabled=!0,this.game.input.addMoveCallback(function(){b.xMouce=b.game.input.x},this),this.game.input.onDown.add(function(){a.GameConfig.MODE_KEYBOARD||a.GameConfig.PAUSE||b.xMouce>150&&(a.GameConfig.INITBALL?(a.GameConfig.GAME.mzBalls[0].initMove(),a.GameConfig.INITBALL=!1):a.GameConfig.PLAYER.shoot())}),this._zKey=this.game.input.keyboard.addKey(Phaser.Keyboard.Z),this._zKey.onDown.add(function(){c.Z_KEY_DOWN=!0,a.GameConfig.BOSS?a.GameConfig.BOSS&&a.GameConfig.APLICATE_OMNI&&a.GameConfig.GAME.activateOnmitrix():a.GameConfig.GAME.activateOnmitrix()}),this._zKey.onUp.add(function(){c.Z_KEY_DOWN=!1})):(console.log("init touch"),this._shootBtn=new a.OButton(this.game,"UI_PLANK",["shootBtn","shootBtn","shootBtn"],function(){a.GameConfig.PLAYER.shoot()}),this._shootBtn.anchor.set(.5),this._shootBtn.x=547,this._shootBtn.y=290,this._shootBtn.alpha=.5,this.ShowHideAttackBtn(!1),c.MAIN_UI_LAYER.addChild(this._shootBtn),this.game.input.onDown.add(function(d){a.GameConfig.PAUSE||d.x>150&&(a.GameConfig.INITBALL&&(a.GameConfig.GAME.mzBalls[0].initMove(),a.GameConfig.INITBALL=!1),0!=b._shootBtn.enabled&&b.checkButtonOverlapPos(d,b._shootBtn)||(d.x>=375?(c.R_DIR_DOWN=!0,c.L_DIR_DOWN=!1):(c.R_DIR_DOWN=!1,c.L_DIR_DOWN=!0)),0!=a.GameConfig.PANEL_INFO.omniBTN.enabled&&b.checkButtonOverlapPos(d,a.GameConfig.PANEL_INFO.omniBTN)||(c.Z_KEY_DOWN=!0))},this),this.game.input.onUp.add(function(a){c.R_DIR_DOWN=!1,c.L_DIR_DOWN=!1,c.Z_KEY_DOWN=!1},this))},c.prototype.checkButtonOverlapPos=function(a,b){return a.x<b.x+b.width/2&&a.x>b.x-b.width/2&&a.y<b.y+b.height/2&&a.y>b.y-b.height/2},c.prototype.ShowHideAttackBtn=function(a){this.game.device.desktop||(this._shootBtn.enabled=a,this._shootBtn.visible=a)},c.prototype.initGame=function(){a.GameConfig.MIN_ENEMY=0,a.GameConfig.MAX_ENEMY=-1,a.GameConfig.UPD_ENEMY=0,a.GameConfig.APLICATE_OMNI=!1,this.block={},this.numBlocks=0,this.numBalls=0,this.BW=40,this.BH=20,this.xIni=195,this.yIni=40,a.GameConfig.ACTIVE_PLAYER=a.GameConfig.BEN,a.GameConfig.PLAYER=new a.clsPlayer(this.game,a.GameConfig.ACTIVE_PLAYER,375,330),a.GameConfig.PLAYER_WINNER=!1,this.createMessage(375,150,"mc_msn_start"),a.GameConfig.INITBALL=!0,a.GameConfig.PLAYER_INVINCIBLE&&(a.GameConfig.PLAYER_INVINCIBLE=!1,a.GameConfig.PLAYER.mGpx.alpha=100),this.mEternalBarrier=!1,a.SoundMixer.play("start_level_snd",.8),this.removeBarrier(),a.GameConfig.INITBALL&&this.createBall(375,285),this.createLevel(),a.GameConfig.MODE_GAME==a.GameConfig.MODE_HISTORY?a.GameConfig.PANEL_INFO.updateNameLevel(a.GameConfig.LEVEL):a.GameConfig.PANEL_INFO.updateNumLevel(this._freeGameLevel)},c.prototype.createLevel=function(){if(a.GameConfig.MODE_GAME==a.GameConfig.MODE_HISTORY)switch(a.GameConfig.LEVEL){case 1:a.GameConfig.WORLD.reloadTexture("mc_level_1");var b=this.createSwitch(375,140,1);this.createDoor(215,92,4,1,0,90,1,0,b),this.createDoor(295,92,4,1,0,90,1,0,b),this.createDoor(375,92,4,1,0,90,1,0,b),this.createDoor(455,92,4,1,0,90,1,0,b),this.createDoor(535,92,4,1,0,90,1,0,b);break;case 2:a.GameConfig.WORLD.reloadTexture("mc_level_2"),this.createShape(215,60,4,1,-1,100),this.createShape(535,60,4,1,1,100);break;case 3:a.GameConfig.WORLD.reloadTexture("mc_level_3"),this.createShape(215,60,12,4,1,100),this.createShape(535,60,12,4,1,100);break;case 4:a.GameConfig.WORLD.reloadTexture("mc_level_4");break;case 5:a.GameConfig.WORLD.reloadTexture("mc_level_5"),this.createShape(375,200,9,5,1,100);break;case 6:a.GameConfig.WORLD.reloadTexture("mc_level_6");break;case 7:a.GameConfig.WORLD.reloadTexture("mc_level_7"),this.createShape(375,100,3,2,1,80);break;case 8:a.GameConfig.WORLD.reloadTexture("mc_level_8"),this.clearOnmitrix(),this.createShape(150,-30,20,11,1),this.createBlockrestored(195,240,13,0,2),this.createBlockrestored(235,220,13,0,2),this.createBlockrestored(275,240,15,0,2),this.createBlockrestored(315,220,13,0,2),this.createBlockrestored(355,240,13,0,2),this.createBlockrestored(395,240,13,0,2),this.createBlockrestored(435,220,13,0,2),this.createBlockrestored(475,240,16,0,2),this.createBlockrestored(515,220,13,0,2),this.createBlockrestored(555,240,13,0,2);break;case 9:a.GameConfig.WORLD.reloadTexture("mc_level_9"),this.createShape(255,145,3,2,1,65),this.createShape(495,145,3,2,-1,65);break;case 10:a.GameConfig.WORLD.reloadTexture("mc_level_10"),this.createShape(375,120,9,5,1,100);break;case 11:a.GameConfig.WORLD.reloadTexture("mc_level_11"),this.createShape(220,180,9,5,1,100),this.createShape(530,180,9,5,-1,100);break;case 12:a.GameConfig.WORLD.reloadTexture("mc_level_12"),this.createShape(375,140,3,2,1,70);break;case 13:a.GameConfig.WORLD.reloadTexture("mc_level_13");break;case 14:a.GameConfig.WORLD.reloadTexture("mc_level_14"),this.createShape(375,140,3,2,1,100);break;case 15:a.GameConfig.WORLD.reloadTexture("mc_level_8"),this.clearOnmitrix(),this.createShape(150,-30,20,11,1),this.createBlockrestored(195,240,13,0,2),this.createBlockrestored(235,220,13,0,2),this.createBlockrestored(275,240,15,0,2),this.createBlockrestored(315,220,13,0,2),this.createBlockrestored(355,240,13,0,2),this.createBlockrestored(395,240,13,0,2),this.createBlockrestored(435,220,13,0,2),this.createBlockrestored(475,240,16,0,2),this.createBlockrestored(515,220,13,0,2),this.createBlockrestored(555,240,13,0,2)}else switch(this._freeGameLevel){case 1:break;case 2:this.createShape(375,121,4,1,1,100);break;case 3:this.createShape(213,120,4,1,1,100),this.createShape(538,120,4,1,-1,100);break;case 4:this.createShape(375,120,4,1,1,100);break;case 5:break;case 6:this.createShape(375,200,12,4,1,100);break;case 7:this.createShape(213,120,4,1,1,100),this.createShape(538,120,4,1,-1,100);break;case 8:break;case 9:this.createShape(375,200,9,5,1,100);break;case 10:this.createShape(375,200,12,4,1,100);break;case 11:this.createShape(535,120,4,1,1,100),this.createShape(215,120,4,1,-1,100);break;case 12:break;case 13:this.createShape(375,120,9,5,1,100);break;case 14:break;case 15:this.createShape(375,120,12,4,-1,100);break;case 16:var b=this.createSwitch(196,220,1);this.createDoor(295,225,4,1,0,90,1,0,b),this.createDoor(375,225,4,1,0,90,1,0,b),this.createDoor(455,225,4,1,0,90,1,0,b),this.createDoor(535,225,4,1,0,90,1,0,b);break;case 17:this.createShape(375,200,3,2,1,80);break;case 18:this.createShape(215,55,3,2,1,80),this.createShape(535,55,3,2,-1,80);break;case 19:var b=this.createSwitch(555,200,1);this.createDoor(295,225,4,1,0,90,1,0,b),this.createDoor(375,225,4,1,0,90,1,0,b),this.createDoor(455,225,4,1,0,90,1,0,b);break;case 20:this.createShape(375,130,3,2,1,90);break;case 21:case 22:break;case 23:this.createShape(375,120,12,4,1,100);break;case 24:this.createShape(213,120,9,5,-1,100),this.createShape(538,120,9,5,1,100);break;case 25:this.createShape(213,200,3,2,1,80),this.createShape(538,200,3,2,-1,80),this.createShape(375,120,9,5,-1,100);break;case 26:break;case 27:var b=this.createSwitch(435,220,1),c=this.createSwitch(315,220,1);this.createDoor(215,245,4,1,0,90,1,0,c),this.createDoor(535,245,4,1,0,90,1,0,b),this.createShape(375,120,3,2,-1,80);break;case 28:this.createShape(455,120,12,4,1,100),this.createShape(295,120,12,4,-1,100);break;case 29:this.createShape(495,120,9,5,1,100),this.createShape(255,120,9,5,-1,100);break;case 30:var b=this.createSwitch(555,220,1);this.createDoor(215,225,4,1,0,90,1,0,b),this.createDoor(295,225,4,1,0,90,1,0,b);break;default:this._freeGameLevel=1}var d;if(d=a.GameConfig.MODE_GAME==a.GameConfig.MODE_HISTORY?a.LevelsH.getLevelData(a.GameConfig.LEVEL):a.LevelsH.getLevelData(this._freeGameLevel),d.length>0)for(var e=0;e<d.length;e++)for(var f=0;f<d[e].length;f++)if("0.0"!=d[e][f]){var g=d[e][f],h=g.split(".").map(function(a){return+a});switch(h[0]){case 1:this.createBlock(f*this.BW+this.xIni,e*this.BH+this.yIni,h[1],h[2]);break;case 2:console.log("case 2"),this.createShape(f*this.BW+this.xIni,e*this.BH+this.yIni,Number(h[2]),h[1],h[3]);break;case 3:this.numBlocks++,this.createEnemy(f*this.BW+this.xIni,e*this.BH+this.yIni,this.numBlocks,h[1],h[2],h[3],h[4],h[5]);break;case 4:console.log("case 4")}}},c.prototype.startLevel=function(){switch(a.GameConfig.LEVEL){case 8:case 15:this.createBoss01()}a.GameConfig.LAST_CLICK_TIME=a.GameConfig.TIMER,a.GameConfig.LAST_CRASH_TIME=a.GameConfig.TIMER,a.GameConfig.LAST_SHOOT_TIME=a.GameConfig.TIMER},c.prototype.createBoss01=function(){a.GameConfig.BOSS=new a.clsBoss_01(this.game,"mc_boss_01",c.BOSS_01_INIT_X,c.BOSS_01_INIT_Y),this.createShape(c.BOSS_01_INIT_X,c.BOSS_01_INIT_Y,4,12);var b=new a.clsArmFire(this.game,c.VELOCITY_ARMFIRE,c.DAMAGE_ARMFIRE);b.setAttack(new a.clsAttack),a.GameConfig.BOSS.addArm(b);var d=new a.clsActionBoss_01(this.game,a.GameConfig.BOSS,1,1,7);d.addAttackPosition(325,20),d.addAttackPosition(180,110),d.addAttackPosition(500,110),d.addAttackPosition(325,20),d.active=!0,a.GameConfig.BOSS.action=d},c.prototype.createBoss02=function(){},c.prototype.setGamePause=function(b){b?a.GameConfig.TIME_TMP=1e3*this.game.time.totalElapsedSeconds():a.GameConfig.TIME_PAUSED+=1e3*this.game.time.totalElapsedSeconds()-a.GameConfig.TIME_TMP,a.GameConfig.PAUSE=b},c.prototype.createShape=function(b,c,d,e,f,g){this.numBlocks++;var h=this.numBlocks,i=new a.clsShape(this.game,b,c,d,h,e,f,g);d=i.nP,this.mzActors.push(i),this.block["B"+h]={},this.block["B"+h].V1={p0:{x:i.point[0][0],y:i.point[0][1]},p1:{x:i.point[d-1][0],y:i.point[d-1][1]}};for(var j=2,k=d-1;k>0;k--)this.block["B"+h]["V"+j]={p0:{x:i.point[k][0],y:i.point[k][1]},p1:{x:i.point[k-1][0],y:i.point[k-1][1]}},j++;for(var l=1;l<=d;l++)this.updateVector(this.block["B"+h]["V"+l],!0)},c.prototype.createBlock=function(b,c,d,e){this.numBlocks++;var f=this.numBlocks,g=new a.clsBlock(this.game,b,c,f,d,e);this.mzActors.push(g),this.generateVectorTypeBlock(g)},c.prototype.createBallsGenerator=function(a,b,c,d,e,f,g,h){},c.prototype.createEnemy=function(b,c,d,e,f,g,h,i){var j=new a.clsEnemy(this.game,b,c,d,e,f,g,h,i);this.mzActors.push(j),this.mzEnemy.push(j),this.mzEnemyID.push(d),a.GameConfig.MAX_ENEMY+=1,this.generateVectorTypeBlock(j)},c.prototype.createSwitch=function(b,c,d){this.numBlocks++;var e=new a.clsSwitch(this.game,b,c,this.numBlocks,d);return this.mzActors.push(e),this.generateVectorTypeBlock(e),e},c.prototype.createBlockrestored=function(b,c,d,e,f){this.numBlocks++;var g=this.numBlocks,h=new a.clsBlockRestored(this.game,b,c,g,d,e,f);this.mzActors.push(h),this.generateVectorTypeBlock(h)},c.prototype.createBlockrestoredBoss=function(a,b,c,d,e){},c.prototype.createDoor=function(b,c,d,e,f,g,h,i,j,k,l,m){this.numBlocks++;var n=this.numBlocks,o=new a.clsDoor(this.game,b,c,d,this.numBlocks,e,f,g,h,i,j,k,l,m);this.mzActors.push(o),this.block["B"+n]={},this.block["B"+n].V1={p0:{x:o.point[0][0],y:o.point[0][1]},p1:{x:o.point[d-1][0],y:o.point[d-1][1]}};for(var p=2,q=d-1;q>0;q--)this.block["B"+n]["V"+p]={p0:{x:o.point[q][0],y:o.point[q][1]},p1:{x:o.point[q-1][0],y:o.point[q-1][1]}},p++;for(var r=1;r<=d;r++)this.updateVector(this.block["B"+n]["V"+r],!0)},c.prototype.createMine=function(a,b,c,d,e){},c.prototype.createShapeBoss=function(a,b,c,d,e,f,g){},c.prototype.generateVectorTypeBlock=function(a){this.block["B"+this.numBlocks]={},this.block["B"+this.numBlocks].V1={p0:{x:a.p1x,y:a.p1y},p1:{x:a.p4x,y:a.p4y}},this.block["B"+this.numBlocks].V2={p0:{x:a.p4x,y:a.p4y},p1:{x:a.p3x,y:a.p3y}},this.block["B"+this.numBlocks].V3={p0:{x:a.p3x,y:a.p3y},p1:{x:a.p2x,y:a.p2y}},this.block["B"+this.numBlocks].V4={p0:{x:a.p2x,y:a.p2y},p1:{x:a.p1x,y:a.p1y}};for(var b=1;b<5;b++)this.updateVector(this.block["B"+this.numBlocks]["V"+b],!0)},c.prototype.createBulletPlayer=function(b,c){var d=new a.clsShootPlayer(this.game,b,c);this.mzBullets.push(d)},c.prototype.createBall=function(b,c,d,e){this.numBalls++;var f=new a.clsBall(this.game,this.numBalls,b,c);a.GameConfig.INITBALL&&f.start(),this.mzBalls.push(f),void 0!=d&&void 0!=e&&f.setVector(d,e)},c.prototype.createBonus=function(b,c,d){if(void 0!=b&&void 0!=c){var e=new a.clsBonus(this.game,b,c,d);this.mzObjects.push(e)}},c.prototype.createEffect=function(b,d,e,f){var g=this;if(void 0!=b&&void 0!=d){var h=this.game.make.sprite(b,d,"atlas","Game_effects/"+e);switch(h.anchor.set(.5),c.FX_LAYER.addChild(h),e){case"DestroyNormal/mc_destroy_normal_10001":h.animations.add("action",Phaser.Animation.generateFrameNames("Game_effects/DestroyNormal/mc_destroy_normal_1",1,11,"",4));break;case"Fx_bomb/mc_fx_bomb_10001":h.animations.add("action",Phaser.Animation.generateFrameNames("Game_effects/Fx_bomb/mc_fx_bomb_1",1,15,"",4));break;case"Hit_indestructible/mc_hit_indestructible_10001":h.animations.add("action",Phaser.Animation.generateFrameNames("Game_effects/Hit_indestructible/mc_hit_indestructible_1",1,9,"",4));break;case"Hit_indestructible_100x20/mc_hit_indestructible_100x20_10003":h.animations.add("action",Phaser.Animation.generateFrameNames("Game_effects/Hit_indestructible_100x20/mc_hit_indestructible_100x20_1",3,19,"",4));break;case"Hit_ball/mc_hit_ball_10001":h.animations.add("action",Phaser.Animation.generateFrameNames("Game_effects/Hit_ball/mc_hit_ball_1",1,8,"",4));break;case"Hit_ball_wall/mc_hit_ball_wall_10001":h.animations.add("action",Phaser.Animation.generateFrameNames("Game_effects/Hit_ball_wall/mc_hit_ball_wall_1",1,8,"",4));break;case"Fx_shoot_player/mc_fx_shoot_player_10001":h.animations.add("action",Phaser.Animation.generateFrameNames("Game_effects/Fx_shoot_player/mc_fx_shoot_player_1",1,11,"",4));break;case"Fx_super_omni/mc_fx_super_omni_10001":h.alpha=.45,h.animations.add("action",Phaser.Animation.generateFrameNames("Game_effects/Fx_super_omni/mc_fx_super_omni_1",1,14,"",4));break;default:console.log("#### ERROR!! UNKNOW ANIMATION: "+e)}this._fxArray.push(h);var i=this._fxArray.length-1;"Fx_bomb/mc_fx_bomb_10001"==e?(h.animations.getAnimation("action").enableUpdate=!0,h.animations.play("action",60,!1).onUpdate.add(function(c,e){624==e.index&&(g.activateBomb(b,d,f),a.SoundMixer.play("destroyCell",.6))}),h.animations.getAnimation("action").onComplete.add(function(){g._fxArray.splice(i,1),h.destroy(!0)})):h.animations.play("action",60,!1,!1).onComplete.add(function(){g._fxArray.splice(i,1),h.destroy(!0)})}},c.prototype.activateBomb=function(b,c,d){var e=[];e.push(new a.MPolygon([b-25,c-25,b+25,c-25,b+25,c+25,b-25,c+25]));for(var f=0;f<this.mzActors.length;f++)this.mzActors[f].idClass!=a.GameConfig.CLASS_BLOCK&&this.mzActors[f].idClass!=a.GameConfig.CLASS_ENEMY||this.mzActors[f].id!=d&&this.bombHitPhaser(b,c,e,this.mzActors[f].mGpx,this.mzActors[f].poly)&&this.mzActors[f].updateLife(8);a.GameConfig.BOSS&&this.bombHitPhaser(b,c,e,a.GameConfig.BOSS.mGpx,a.GameConfig.BOSS.mGpx.bodyP)&&a.GameConfig.BOSS.processHit(0,0,a.GameConfig.HIT_BODY)},c.prototype.bombHitPhaser=function(a,b,d,e,f){return a<e.x+.6*c.MAX_OBJ_WIDTH&&a>e.x-.6*c.MAX_OBJ_WIDTH&&b<e.y+.6*c.MAX_OBJ_WIDTH&&b>e.y-.6*c.MAX_OBJ_WIDTH&&d[0].hit(f[0])},c.prototype.createMessage=function(b,d,e){var f=this;if(this.setGamePause(!0),"mc_msn_activate_omni"==e){var g=this.game.make.sprite(b,d,"msg_atlas",e);g.anchor.set(.5),c.UI_LAYER.addChild(g),this.game.add.tween(g).to({alpha:.1},400,Phaser.Easing.Linear.None,!0,250),this.game.add.tween(g.scale).to({x:1.8,y:1.8},650,Phaser.Easing.Linear.None,!0).onComplete.add(function(){a.clsFla.endMessageZ(g)})}else if("mc_msn_start"==e){var h=this.game.make.sprite(b,d,"msg_atlas",e);h.anchor.set(.5),h.alpha=0,c.UI_LAYER.addChild(h),this.game.add.tween(h).to({alpha:1},5,Phaser.Easing.Linear.None,!0,200,0,!0).yoyoDelay(200).onComplete.add(function(){f.game.add.tween(h).to({alpha:1},5,Phaser.Easing.Linear.None,!0,400,0,!0).yoyoDelay(200).onComplete.add(function(){setTimeout(function(){h.alpha=1,f.game.add.tween(h).to({alpha:0},380,Phaser.Easing.Sinusoidal.InOut,!0),f.game.add.tween(h.scale).to({alpha:0,x:1.8,y:1.8},400,Phaser.Easing.Sinusoidal.InOut,!0).onComplete.add(function(){a.clsFla.endStartMessage(h)})},200)})})}else if("mc_msn_cleared"==e){var i=this.game.make.sprite(b,d,"msg_atlas",e);i.anchor.set(.5),c.UI_LAYER.addChild(i),this.game.add.tween(i).to({alpha:.1},400,Phaser.Easing.Linear.None,!0,250),this.game.add.tween(i.scale).to({x:1.8,y:1.8},650,Phaser.Easing.Linear.None,!0).onComplete.add(function(){a.clsFla.endMessageClear(i)})}else{var j=this.game.make.sprite(b,d,"msg_atlas",e);j.anchor.set(.5),c.UI_LAYER.addChild(j),this.game.add.tween(j).to({alpha:.1},400,Phaser.Easing.Linear.None,!0,250),this.game.add.tween(j.scale).to({x:1.8,y:1.8},650,Phaser.Easing.Linear.None,!0).onComplete.add(function(){a.clsFla.endMessage(j)})}},c.prototype.createFadeOut=function(){var b=this,d=this.game.make.graphics(0,0);d.beginFill(0,1),d.drawRect(0,0,600,400),d.endFill(),d.alpha=0,c.END_GAME_OVER.addChild(d),this.game.add.tween(d).to({alpha:1},950,Phaser.Easing.Sinusoidal.InOut,!0).onComplete.addOnce(function(){a.clsFla.mediumFadeOut(),b.game.add.tween(d).to({alpha:0},450,Phaser.Easing.Sinusoidal.InOut,!0,300).onComplete.addOnce(function(){d.destroy()})})},c.prototype.createCursor=function(){},c.prototype.removeCursor=function(){},c.prototype.clearArray=function(a){var b=a.length;a.splice(0,b)},c.prototype.addCollision=function(a){for(var b=0,c=0;c<this.blockCollision.length;c++)this.blockCollision[c]==a&&b++;0==b&&this.blockCollision.push(a)},c.prototype.changeEternalBarrier=function(){this.mEternalBarrier=!0,this.takenBarrier(!0)},c.prototype.checkCollisionBoss=function(b,c){if(a.GameConfig.BOSS){if(!a.GameConfig.BOSS.isCollisionActive())return!1;if(!a.GameConfig.BOSS.mGpx.bodyP)return!1;if(this.hitTestPhaserEdition(b,b.poly,a.GameConfig.BOSS.mGpx,a.GameConfig.BOSS.mGpx.bodyP))return a.GameConfig.BOSS.processHit(a.GameConfig.DAMAGE_FIXED,c,a.GameConfig.HIT_BODY),!0;if(this.hitTestPhaserEdition(b,b.poly,a.GameConfig.BOSS.mGpx,a.GameConfig.BOSS.mGpx.headP))return a.GameConfig.BOSS.processHit(a.GameConfig.DAMAGE_FIXED,2*c,a.GameConfig.HIT_HEAD),!0;if(this.hitTestPhaserEdition(b,b.poly,a.GameConfig.BOSS.mGpx,a.GameConfig.BOSS.mGpx.absorbsP))return!0}return!1},c.prototype.hitTestPhaserEdition=function(a,b,d,e,f){void 0===f&&(f=!0);for(var g=e.length,h=0;h<b.length;h++)for(var i=0;i<e.length;i++)if(f){if(b[h].hit(e[i]))return!0;if(0==--g)return!1}else{if(!(a.x<d.x+.6*c.MAX_OBJ_WIDTH&&a.x>d.x-.6*c.MAX_OBJ_WIDTH&&a.y<d.y+.6*c.MAX_OBJ_WIDTH&&a.y>d.y-.6*c.MAX_OBJ_WIDTH))return!1;if(b[h].hit(e[i]))return!0;if(0==--g)return!1}},c.prototype.update=function(){if(!a.GameConfig.PAUSE){a.GameConfig.TIMER=a.GameConfig.TIMER=1e3*this.game.time.totalElapsedSeconds()-a.GameConfig.TIME_PAUSED,this.clearArray(this.blockCollision),a.GameConfig.PLAYER.updateManual(),a.GameConfig.BOSS&&a.GameConfig.BOSS.STATE!=a.GameConfig.ST_DIE&&a.GameConfig.BOSS.updateManual(),a.GameConfig.PLAYER_WINNER=!0,a.GameConfig.BOSS&&a.GameConfig.BOSS.STATE!=a.GameConfig.ST_DIE&&(a.GameConfig.PLAYER_WINNER=!1);for(var b=0,c=0;c<this.mzActors.length;c++)if(this.mzActors[c]){if(this.mzActors[c].updateManual(),this.mzActors[c].STATE==a.GameConfig.ST_KILL){this.mzActors.splice(c,1),c--;continue}this.mzActors[c].idClass!=a.GameConfig.CLASS_BLOCK&&this.mzActors[c].idClass!=a.GameConfig.CLASS_ENEMY||(b++,a.GameConfig.PLAYER_WINNER=!1)}if(a.GameConfig.GENERATOR&&a.GameConfig.GENERATOR.updateManual(),a.GameConfig.CURSOR&&a.GameConfig.CURSOR.updateManual(),a.GameConfig.PLAYER_WINNER&&this.takenCleared(),a.GameConfig.PANEL_INFO&&a.GameConfig.PANEL_INFO.updateManual(),!a.GameConfig.PLAYER_WINNER){for(var d=0;d<this.mzBalls.length;d++)this.mzBalls[d].updateManual(),this.mzBalls[d].STATE==a.GameConfig.ST_KILL&&(this.mzBalls.splice(d,1),d--);for(var d=0;d<this.mzObjects.length;d++)this.mzObjects[d]&&(this.mzObjects[d].updateManual(),this.mzObjects[d]&&this.mzObjects[d].STATE==a.GameConfig.ST_KILL&&(this.mzObjects.splice(d,1),d--))}for(var d=0;d<this.mzBullets.length;d++)this.mzBullets[d]&&(this.mzBullets[d].updateManual(),this.mzBullets[d]&&this.mzBullets[d].STATE==a.GameConfig.ST_KILL&&(this.mzBullets.splice(d,1),d--));for(var d=0;d<this.mzBulletsEnemy.length;d++)this.mzBulletsEnemy[d]&&(this.mzBulletsEnemy[d].updateManual(),this.mzBulletsEnemy[d]&&this.mzBulletsEnemy[d].STATE==a.GameConfig.ST_KILL&&(this.mzBulletsEnemy.splice(d,1),d--));a.GameConfig.TIMER-a.GameConfig.LAST_CRASH_TIME>a.GameConfig.MAX_TIME_WITHOUT_CRASHES&&(!a.GameConfig.INITBALL&&null==a.GameConfig.BOSS&&this.mzBalls.length<=1&&b<=5&&this.createBonus(a.GameConfig.getRandom(a.clsBall.LF,a.clsBall.LR),-56,a.GameConfig.B_ALL_OMNI),a.GameConfig.LAST_CRASH_TIME=a.GameConfig.TIMER),a.GameConfig.TIMER-a.GameConfig.LAST_SHOOT_TIME>a.GameConfig.TIME_SHOOT_ENEMIES&&0!=a.GameConfig.GAME.mzEnemy.length&&(a.GameConfig.GAME.mzEnemy[a.GameConfig.UPD_ENEMY]&&a.GameConfig.GAME.mzEnemy[a.GameConfig.UPD_ENEMY].shoot(),a.GameConfig.UPD_ENEMY+=1,a.GameConfig.UPD_ENEMY>a.GameConfig.MAX_ENEMY&&(a.GameConfig.UPD_ENEMY=a.GameConfig.MIN_ENEMY),
a.GameConfig.LAST_SHOOT_TIME=a.GameConfig.TIMER),a.GameConfig.TIMER-a.GameConfig.LAST_CLICK_TIME>a.GameConfig.TIME_MSN_CLICK&&(0!=b&&this.createMessage(375,180,"mc_msn_click"),a.GameConfig.LAST_CLICK_TIME=a.GameConfig.TIMER)}},c.prototype.diePlayer=function(b){if(!a.GameConfig.PLAYER_INVINCIBLE){if(this.updateLife(-1),a.GameConfig.GAME.setGamePause(!0),a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_DIE,this.setBrightPaddle(!1),a.GameConfig.ACTIVE_PLAYER==a.GameConfig.BEN)1==b?a.GameConfig.PLAYER.changeAnimation("DIE2"):a.GameConfig.PLAYER.changeAnimation("DIE");else{a.GameConfig.PLAYER.changeAnimation("CHANGE");var d=this.game.make.sprite(a.GameConfig.PLAYER.mGpx.x,a.GameConfig.PLAYER.mGpx.y+25,"atlas","BigFX/Player_bright_change_red/mc_player_bright_change_red0005");d.animations.add("IDLE",Phaser.Animation.generateFrameNames("BigFX/Player_bright_change_red/mc_player_bright_change_red",5,20,"",4)),d.animations.play("IDLE",60,!1).onComplete.addOnce(function(){d.destroy(!0),a.clsFla.endBrightRed()}),d.anchor.set(.5),c.FX_LAYER.addChild(d)}this.removeObjectsDie(),a.GameConfig.LAST_CLICK_TIME=a.GameConfig.TIMER,a.GameConfig.LAST_CRASH_TIME=a.GameConfig.TIMER,a.GameConfig.LAST_SHOOT_TIME=a.GameConfig.TIMER}},c.prototype.removeObjectsDie=function(){this.freeObjects();for(var b=0;b<this.mzObjects.length;b++)this.mzObjects[b].idClass==a.GameConfig.CLASS_BONUS&&this.mzObjects[b].freeDiePlayer();for(var b=1;b<this.mzBalls.length;b++)this.createEffect(this.mzBalls[b].mGpx.x,this.mzBalls[b].mGpx.y,"Fx_shoot_player/mc_fx_shoot_player_10001"),this.mzBalls[b].free();a.GameConfig.GENERATOR||(a.GameConfig.INITBALL=!0,this.mzBalls[0].start())},c.prototype.changeBen=function(){a.GameConfig.GAME.setGamePause(!0),a.GameConfig.ACTIVE_PLAYER=a.GameConfig.BEN,a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_CHANGE,a.GameConfig.PLAYER.changeAnimation("CHANGE");var b=this.game.make.sprite(a.GameConfig.PLAYER.mGpx.x,a.GameConfig.PLAYER.mGpx.y+25,"atlas","BigFX/Player_bright_change_red/mc_player_bright_change_red0005");b.animations.add("IDLE",Phaser.Animation.generateFrameNames("BigFX/Player_bright_change_red/mc_player_bright_change_red",5,20,"",4)),b.animations.play("IDLE",60,!1).onComplete.addOnce(function(){b.destroy(!0),a.clsFla.endBrightRedNormal()}),b.anchor.set(.5),a.SoundMixer.play("gotoBen",.8),c.FX_LAYER.addChild(b)},c.prototype.updateScore=function(b){a.GameConfig.SCORE+=b*a.GameConfig.SCORE_MULTIPLE,a.GameConfig.PANEL_INFO.updateScore(a.GameConfig.SCORE),a.GameConfig.SCORE>0&&a.GameConfig.SCORE%5e4==0&&this.updateLife(1)},c.prototype.updateLife=function(b){a.GameConfig.PLAYER_LIFE+=b,a.GameConfig.PLAYER_LIFE>10&&(a.GameConfig.PLAYER_LIFE=9),a.GameConfig.PLAYER_LIFE>=0&&a.GameConfig.PANEL_INFO.updateLifes(a.GameConfig.PLAYER_LIFE)},c.prototype.updateFace=function(){a.GameConfig.PANEL_INFO.updateFace(a.GameConfig.ACTIVE_PLAYER)},c.prototype.takenCleared=function(){a.GameConfig.STATE_PLAYER=a.GameConfig.ST_PLAYER_WIN,a.GameConfig.ACTIVE_PLAYER!=a.GameConfig.BEN?this.changeBen():a.GameConfig.PLAYER.changeAnimation("WIN"),a.SoundMixer.play("finalClearInLevel",.8),a.SoundMixer.play("winLevel",.8),this.removeCursor(),this.setBrightPaddle(!1),this.freeObjects()},c.prototype.takenScore=function(){var b=this;this.createMessage(375,150,"mc_msn_scoreMultiplier"),this.updateScore(a.GameConfig.PRICE_SCORE_X2),a.GameConfig.SCORE_MULTIPLE=2,a.GameConfig.PANEL_INFO.updateBonus(a.GameConfig.B_SCORE),setTimeout(function(){b.normalScore()},c.TIME_SCORE_X2)},c.prototype.normalScore=function(){a.GameConfig.SCORE_MULTIPLE=1,a.GameConfig.PANEL_INFO.updateBonus(0)},c.prototype.takenBarrier=function(b){var c=this;a.GameConfig.ACTIVEBARRIER||(b&&this.createMessage(375,150,"mc_msn_barrier"),a.SoundMixer.play("snd_barrier",.8),a.GameConfig.PANEL_INFO.updateBonus(a.GameConfig.B_BARRIER),this._mc_barrier.exists=!0,this._mc_barrier.animations.play("START",60).onComplete.addOnce(function(){c._mc_barrier.animations.play("LOOP",60,!0)}),a.GameConfig.ACTIVEBARRIER=!0)},c.prototype.removeBarrier=function(){this.mEternalBarrier||(this._mc_barrier&&(this._mc_barrier.exists=!1),a.GameConfig.PANEL_INFO.updateBonus(0),a.GameConfig.ACTIVEBARRIER=!1)},c.prototype.takenAlien=function(b){if(a.GameConfig.STATE_PLAYER!=a.GameConfig.ST_PLAYER_DIE){if(a.GameConfig.ACTIVE_PLAYER!=b){this.updateScore(a.GameConfig.PRICE_ALIEN),a.GameConfig.GAME.setGamePause(!0),a.GameConfig.ACTIVE_PLAYER=b;var d=this.game.make.sprite(a.GameConfig.PLAYER.mGpx.x,a.GameConfig.PLAYER.mGpx.y+25,"atlas","BigFX/Player_bright_change/mc_player_bright_change_10005");d.animations.add("IDLE",Phaser.Animation.generateFrameNames("BigFX/Player_bright_change/mc_player_bright_change_1",5,20,"",4)),d.animations.play("IDLE",60,!1).onComplete.addOnce(function(){d.destroy(!0),a.clsFla.endBright()}),d.anchor.set(.5),c.FX_LAYER.addChild(d),a.SoundMixer.play("take_alian",.8),this.updateFace(),a.GameConfig.PLAYER.changeAnimation("CHANGE"),a.GameConfig.STATE_PLAYER,a.GameConfig.ST_PLAYER_CHANGE}a.GameConfig.PANEL_INFO.mc_energy.width=135}},c.prototype.takenMultiBall=function(){this.createMessage(375,150,"mc_msn_multiball"),this.updateScore(a.GameConfig.PRICE_MULTIBALL);for(var b=this.mzBalls.length,c=0;c<b;c++){var d=a.clsBall.V,e=d*Math.cos(Math.PI/4),f=d*Math.sin(Math.PI/4);this.createBall(this.mzBalls[c].mGpx.x,this.mzBalls[c].mGpx.y,e,-f),this.createBall(this.mzBalls[c].mGpx.x,this.mzBalls[c].mGpx.y,-e,-f)}},c.prototype.takenAllOmnitrix=function(){a.GameConfig.ONMITRIX=4,this.createMessage(375,150,"mc_msn_omnitrix"),a.GameConfig.PANEL_INFO.updateOmni(5)},c.prototype.takenOmnitrix=function(){a.GameConfig.ONMITRIX<5&&4==++a.GameConfig.ONMITRIX&&(a.GameConfig.BOSS||this.createMessage(375,150,"mc_msn_omnitrix")),a.GameConfig.PANEL_INFO.updateOmni(a.GameConfig.ONMITRIX)},c.prototype.clearOnmitrix=function(){a.GameConfig.ONMITRIX=0,a.GameConfig.PANEL_INFO.updateOmni(a.GameConfig.ONMITRIX)},c.prototype.motionBack=function(){var a=this;this.numMotion++,this.numMotion<6?(c.GAME_LAYER.x=-3+this.game.rnd.integerInRange(0,6),c.GAME_LAYER.y=+this.game.rnd.integerInRange(0,6)-3,c.FX_LAYER.position.set(c.GAME_LAYER.x,c.GAME_LAYER.y),c.UI_LAYER.position.set(c.GAME_LAYER.x,c.GAME_LAYER.y),setTimeout(function(){a.motionBack()},50)):(this.numMotion=0,c.GAME_LAYER.x=0,c.GAME_LAYER.y=0,c.FX_LAYER.position.set(c.GAME_LAYER.x,c.GAME_LAYER.y),c.UI_LAYER.position.set(c.GAME_LAYER.x,c.GAME_LAYER.y))},c.prototype.activateOnmitrix=function(){a.GameConfig.ONMITRIX>=4&&this.onmiReady()},c.prototype.onmiReady=function(){a.GameConfig.ONMITRIX=0,a.GameConfig.PANEL_INFO.updateOmni(a.GameConfig.ONMITRIX);for(var b=0;b<this.mzActors.length;b++)this.mzActors[b].updateLife(6);this.createEffect(400,200,"Fx_super_omni/mc_fx_super_omni_10001"),this.numMotion=0,this.motionBack()},c.prototype.updateVector=function(a,b){return b?(a.vx=a.p1.x-a.p0.x,a.vy=a.p1.y-a.p0.y):(a.p1.x=a.p0.x+a.vx,a.p1.y=a.p0.y+a.vy),a.len=Math.sqrt(a.vx*a.vx+a.vy*a.vy),a.len>0?(a.dx=a.vx/a.len,a.dy=a.vy/a.len):(a.dx=0,a.dy=0),a.rx=-a.dy,a.ry=a.dx,a.lx=a.dy,a.ly=-a.dx,a},c.prototype.findIntersection=function(a,b){var c={p0:{x:0,y:0},p1:{x:0,y:0},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0};c.vx=a.p1.x-b.p0.x,c.vy=a.p1.y-b.p0.y;var d,e=c.vx*b.dx+c.vy*b.dy;if(e<0)d=c;else{var f={p0:{x:0,y:0},p1:{x:0,y:0},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0};f.vx=a.p1.x-b.p1.x,f.vy=a.p1.y-b.p1.y;var e=f.vx*b.dx+f.vy*b.dy;d=e>0?f:this.projectVector(c,b.lx,b.ly)}return d},c.prototype.bounce=function(a,b){var c=this.projectVector(a,b.dx,b.dy),d=this.projectVector(a,b.lx,b.ly),e={p0:{x:0,y:0},p1:{x:0,y:0},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0};return d.len=Math.sqrt(d.vx*d.vx+d.vy*d.vy),d.vx=b.lx*d.len,d.vy=b.ly*d.len,e.vx=c.vx+d.vx,e.vy=c.vy+d.vy,e},c.prototype.projectVector=function(a,b,c){var d=a.vx*b+a.vy*c,e={p0:{x:0,y:0},p1:{x:0,y:0},vx:0,vy:0,len:0,rx:0,ry:0,lx:0,ly:0,dx:0,dy:0};return e.vx=d*b,e.vy=d*c,e},c.prototype.startSound=function(a,b,c){a.stop(a,b),a.attachSound(b),void 0==c?a.start():a.start(0,c)},c.prototype.stopSound=function(a,b){a.stop(b)},c.prototype.shootEnemy=function(b,c,d,e,f,g,h,i){var j;void 0==f&&(f=180),0==h||1==h||void 0==h?(h=1,j=0):j=0==g||void 0==g?g:g/(h-1);for(var k=0;k<h;k++){var l=f+j*k,m=new a.clsShootEnemy(this.game,b,c,d,e,l,i);this.mzBulletsEnemy.push(m)}},c.prototype.onActiveSwitch=function(b){if(a.GameConfig.GENERATOR)switch(b){case a.GameConfig.ON:a.GameConfig.GENERATOR.setFreqMin();break;case a.GameConfig.OFF:a.GameConfig.GENERATOR.setFreqMax()}},c.prototype.activeBright=function(){for(var b=0;b<this.mzActors.length;b++)this.mzActors[b].idClass==a.GameConfig.CLASS_SWITCH&&this.createEffect(this.mzActors[b].mGpx.x,this.mzActors[b].mGpx.y,this.mzActors[b].nameClip+"_bright")},c.prototype.setBrightPaddle=function(b){a.GameConfig.PLAYER._paddle.alpha=b?50:0},c.prototype.freeObjects=function(){for(var a=0;a<this.mzBullets.length;a++)this.mzBullets[a].free();for(var a=0;a<this.mzBulletsEnemy.length;a++)this.mzBulletsEnemy[a].free();this.clearArray(this.mzBullets),this.clearArray(this.mzBulletsEnemy)},c.prototype.free=function(){for(this.freeObjects(),this.mEternalBarrier=!1,this.removeBarrier(),this.normalScore(),b=1;b<=this.numBlocks;b++)delete this.block["B"+b];for(var b=0;b<this.mzBalls.length;b++)this.mzBalls[b].free();for(var b=0;b<this._fxArray.length;b++)this._fxArray[b].destroy(!0);for(var b=0;b<this.mzObjects.length;b++)this.mzObjects[b].free();this.clearArray(this.mzObjects),this.clearArray(this.blockCollision),this.clearArray(this.mzBalls),this.clearArray(this.mzActorInLevel),this.clearArray(this._fxArray),a.GameConfig.GENERATOR&&(a.GameConfig.GENERATOR.active=!1),a.GameConfig.BOSS&&(a.GameConfig.BOSS.free(),delete a.GameConfig.BOSS,a.GameConfig.BOSS=null)},c.prototype.freeWorld=function(){for(var b=0;b<this.mzActors.length;b++)this.mzActors[b].free(),this.mzActors.splice(b,1),b--;this.clearArray(this.mzActors),a.GameConfig.GENERATOR&&(a.GameConfig.GENERATOR.free(),a.GameConfig.GENERATOR=null),a.GameConfig.WORLD.free(),a.GameConfig.PLAYER.free()},c.prototype.endGame=function(){var b=this;a.GameConfig.GAME.freeGame();var c=this.game.add.sprite(0,0,"GAME_SCREENS","mc_gameOver"),d=new a.OButton(this.game,"GAME_SCREENS",["btn_PlayAgain_10001","btn_PlayAgain_10002","btn_PlayAgain_10003"],function(){a.GameConfig.PLAYER_LIFE=5,a.GameConfig.ACTIVE_PLAYER=a.GameConfig.BEN,a.GameConfig.ONMITRIX=0,b.game.state.start("BaseGame",!0)});d.x=300,d.y=375,c.addChild(d),a.SoundMixer.play("snd_Gameover_fixed",.6,!0,!0)},c.prototype.winGame=function(){var b=this;a.GameConfig.GAME.freeGame();var c=this.game.add.sprite(0,0,"GAME_SCREENS","mc_win"),d=new a.OButton(this.game,"GAME_SCREENS",["btn_PlayAgain_10001","btn_PlayAgain_10002","btn_PlayAgain_10003"],function(){b.game.state.start("MainMenu",!0)});d.x=300,d.y=370,c.addChild(d)},c.prototype.exitGame=function(){a.GameConfig.GAME.freeGame(),this.game.state.start("MainMenu",!0)},c.prototype.freeGame=function(){this.freeWorld(),this.free(),this.removeCursor(),a.GameConfig.PANEL_INFO.free()},c.prototype.render=function(){},c}(a.AbstractGame);b.MAX_OBJ_WIDTH=100,b.Z_KEY_DOWN=!1,b.L_DIR_DOWN=!1,b.R_DIR_DOWN=!1,b.BOSS_01_INIT_X=325,b.BOSS_01_INIT_Y=20,b.BOSS_02_INIT_X=305,b.BOSS_02_INIT_Y=80,b.VELOCITY_ARMFIRE=20,b.DAMAGE_ARMFIRE=-5,b.TIME_SCORE_X2=1e4,a.BaseGame=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.preload=function(){this.game.load.onFileComplete.add(this.loadingUpdate,this),this.initSaveManager(),this.game.load.image("cn_logo",c.PATH_IMAGES+"Preloader/cnlogo.jpg"),this.game.load.atlas("preload",c.PATH_IMAGES+"Preloader/Preloader.png",c.PATH_IMAGES+"Preloader/Preloader.json")},c.prototype.create=function(){this.enabledMultitouch(!0),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.refresh(),this.game.input.touch.preventDefault=!1,this.game.device.desktop?this.game.input.mouse.enabled=!0:this.game.input.mouse.enabled=!1,this.game.stage.disableVisibilityChange=!0,this.game.stage.backgroundColor=000000,1!=window.DONT_USE_OPTIMIZATION_FOR_MOBILE&&(c.OPTIMIZATION=!this.game.device.desktop)},c.prototype.initSaveManager=function(){a.SaveManager.getInstance.init("benTen_Test_0001",c.GAME_DATA),c.GAME_DATA=a.SaveManager.getInstance.load()},c.prototype.loadingUpdate=function(a,b,c,d,e){a>=100&&(this.game.load.onFileComplete.removeAll(),this.game.state.start("Preloader",!0))},c.prototype.enabledMultitouch=function(a){a?(this.game.input.maxPointers=2,this.game.input.addPointer(),this.game.input.addPointer()):this.game.input.maxPointers=1},c}(Phaser.State);b.PATH_IMAGES="./assets/images/",b.PATH_FONTS="./assets/fonts/",b.PATH_SOUNDS="./assets/sounds/",b.PATH_SETTINGS="./assets/settings/",b.GAME_DATA=new a.SaveData,b.OPTIMIZATION=!1,a.Boot=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var c=this;b.prototype.create.call(this),this._bg=this.game.add.sprite(0,0,"GAME_SCREENS","main_menu_back"),this._storyBtn=new a.OButton(this.game,"GAME_SCREENS",["btn_StoryMode_10001","btn_StoryMode_10002","btn_StoryMode_10003"],function(){a.GameConfig.MODE_GAME=a.GameConfig.MODE_HISTORY,c.showInstr()}),this._storyBtn.x=401,this._storyBtn.y=338,this._bg.addChild(this._storyBtn),this._freeBtn=new a.OButton(this.game,"GAME_SCREENS",["btn_FreePlay_10001","btn_FreePlay_10002","btn_FreePlay_10003"],function(){a.GameConfig.MODE_GAME=a.GameConfig.MODE_FREEPLAY,c.showInstr()}),this._freeBtn.x=529,this._freeBtn.y=338,this._bg.addChild(this._freeBtn),a.GameConfig.SCORE=0,a.GameConfig.PLAYER_LIFE=5,a.GameConfig.ACTIVE_PLAYER=a.GameConfig.BEN,a.GameConfig.ONMITRIX=0,a.GameConfig.LEVEL=1,a.SoundMixer.play("menu_snd",.6,!0,!0),a.GameConfig.COLA=!1},c.prototype.showInstr=function(){var b=this;a.SoundMixer.bgStop(),this._storyBtn.enabled=!1,this._freeBtn.enabled=!1,this._tW=new a.tutorialWindow(this.game,function(){a.GameConfig.MODE_GAME==a.GameConfig.MODE_HISTORY?b.showComix():b.startGame(),b._tW.destroy(!0)}),this._bg.addChild(this._tW)},c.prototype.showComix=function(){var b=this,c=this.game.make.sprite(0,0,"GAME_SCREENS","mc_introduction_1");this._bg.addChild(c);var d=new a.OButton(this.game,"GAME_SCREENS",["btn_Play_10001","btn_Play_10002","btn_Play_10003"],function(){d.enabled=!1,b.startGame()});d.x=538,d.y=377,c.addChild(d)},c.prototype.shutdown=function(){this._bg.destroy(!0)},c.prototype.startGame=function(){this.game.state.start("BaseGame",!0)},c}(a.AbstractGame);a.MainMenu=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a._loadedAssets=!1,a._loadedFont=!0,a}return __extends(c,b),c.prototype.preload=function(){var b=this;this.game.load.onFileComplete.add(this.loadingUpdate,this),this._cnLogo=this.add.image(this.world.centerX-3,this.world.centerY-100+60,"cn_logo"),this._cnLogo.scale.set(.8),this._cnLogo.anchor.set(.5),this._loading=new a.ParallaxImage(this.game,"preload",0,"bgProress0000"),this._loading.anchor.set(.5),this._footer=this.add.image(this.world.centerX,this.world.centerY+120-20,"preload","preloaderFooter0000"),this._footer.anchor.set(.5),this._loading.x=this._footer.x-.5*this._footer.width-2,this._loading.y=this._footer.y-50,this._loadingMask=this.add.graphics(4,24),this._loadingMask.beginFill(16711680,.5),this._loadingMask.drawRect(0,0,this._footer.width-5,this._footer.height-5),this._loadingMask.endFill(),this._loading.addChild(this._loadingMask),this._loading.mask=this._loadingMask,this._loadingMask.scale.x=0,this._intervalId=setInterval(function(){b._loading.updateScroll(1.2)},20),this._loadedFont=!0,this.game.load.atlas("atlas",a.Boot.PATH_IMAGES+"FX_BLOCKS_ENEMY.png",a.Boot.PATH_IMAGES+"FX_BLOCKS_ENEMY.json"),this.game.load.atlas("PlayerBenHeatblast",a.Boot.PATH_IMAGES+"PlayerBenHeatblast.png",a.Boot.PATH_IMAGES+"PlayerBenHeatblast.json"),this.game.load.atlas("PlayerCannonRipStink",a.Boot.PATH_IMAGES+"PlayerCannonRipStink.png",a.Boot.PATH_IMAGES+"PlayerCannonRipStink.json"),this.game.load.atlas("PlayerWildvineXlr",a.Boot.PATH_IMAGES+"PlayerWildvineXlr.png",a.Boot.PATH_IMAGES+"PlayerWildvineXlr.json"),this.game.load.atlas("msg_atlas",a.Boot.PATH_IMAGES+"msg_atlas.png",a.Boot.PATH_IMAGES+"msg_atlas.json"),this.game.load.atlas("mc_boss_01_a1",a.Boot.PATH_IMAGES+"mc_boss_01_a1.png",a.Boot.PATH_IMAGES+"mc_boss_01_a1.json"),this.game.load.atlas("mc_boss_01_a2",a.Boot.PATH_IMAGES+"mc_boss_01_a2.png",a.Boot.PATH_IMAGES+"mc_boss_01_a2.json"),this.game.load.atlas("LEVELS",a.Boot.PATH_IMAGES+"LEVELS.png",a.Boot.PATH_IMAGES+"LEVELS.json"),this.game.load.atlas("UI_PLANK",a.Boot.PATH_IMAGES+"UI_PLANK.png",a.Boot.PATH_IMAGES+"UI_PLANK.json"),this.game.load.atlas("GAME_SCREENS",a.Boot.PATH_IMAGES+"GAME_SCREENS.png",a.Boot.PATH_IMAGES+"GAME_SCREENS.json"),this.game.load.audiosprite("benten_fx",[a.Boot.PATH_SOUNDS+"benten_fx.mp3",a.Boot.PATH_SOUNDS+"benten_fx.ogg"],a.Boot.PATH_SOUNDS+"benten_fx.json")},c.prototype.shutdown=function(){this._cnLogo.destroy(),this._cnLogo=null,this._loading.destroy(),this._loading=null,this._footer.destroy(),this._footer=null,this._loadingMask.destroy(),this._loadingMask=null},c.prototype.loadingUpdate=function(b,c,d,e,f){this._loadingMask.scale.x=b/100,b>=100&&(this.game.load.onFileComplete.removeAll(),dragonBones.PhaserFactory.startLoop(),this._loadedAssets=!0,a.SoundMixer.init(this.game),clearInterval(this._intervalId))},c.prototype.update=function(){var b=this;this._loadedAssets&&this._loadedFont&&(this._loadedAssets=!1,setTimeout(function(){b.game.state.start(a.LocalConfig.CURRENT_STATE,!0)},400))},c.prototype.fontsLoading=function(){var b=this;WebFont.load({custom:{families:["gumball_roundedregular"],urls:[a.Boot.PATH_FONTS+"stylesheet.css"]},active:function(){window.setTimeout(function(){b._loadedFont=!0},100)}})},c}(Phaser.State);a.Preloader=b}(TProject||(TProject={}));