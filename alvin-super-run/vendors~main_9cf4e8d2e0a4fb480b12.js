(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,function(t,e,r){var n=r(5),i=r(13),a=r(23),o=r(19),s=r(27),u=function(t,e,r){var c,l,h,f,p=t&u.F,d=t&u.G,g=t&u.S,v=t&u.P,m=t&u.B,y=d?n:g?n[e]||(n[e]={}):(n[e]||{}).prototype,b=d?i:i[e]||(i[e]={}),_=b.prototype||(b.prototype={});for(c in d&&(r=e),r)h=((l=!p&&y&&void 0!==y[c])?y:r)[c],f=m&&l?s(h,n):v&&"function"==typeof h?s(Function.call,h):h,y&&o(y,c,h,t&u.U),b[c]!=h&&a(b,c,f),v&&_[c]!=h&&(_[c]=h)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},,,,function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(8);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){var n=r(62)("wks"),i=r(40),a=r(5).Symbol,o="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=n},function(t,e,r){r.d(e,"a",(function(){return i}));var n=!0;class i{static isChromeIOs(){return Phaser.Device.mobileSafari&&/CriOS/i.test(navigator.userAgent)}static isProbablyIPadDesktopMode(){return Phaser.Device.safari&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>=1}static isIFrame(){return window.parent!==window}static getViewportSize(){return Phaser.Device.mobileSafari&&!i.isChromeIOs()?{width:window.innerWidth,height:window.innerHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}static isFullScreen(){try{if(i.isIFrame()){var t=window.parent.document.fullscreenElement||window.parent.document.webkitFullscreenElement||window.parent.document.mozFullScreenElement||window.parent.document.msFullscreenElement;return t&&t===window.frameElement}}catch(t){}return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}static canLockScreen(){return window.screen&&window.screen.orientation&&window.screen.orientation.lock}static getScreenOrientation(){var t=null;if(n)if(window.screen&&window.screen.orientation&&"string"==typeof window.screen.orientation.type)t=window.screen.orientation.type;else if("number"==typeof window.orientation)switch(window.orientation){case 90:t="landscape-primary";break;case-90:t="landscape-secondary";break;case 180:t="portrait-secondary";break;case 0:default:t="portrait-primary"}else console.warn("screen orientation not supported on this device"),n=!1;return t}static getAssetUrl(t){return console.warn("Utils.getAssetUrl() is deprecated. Transform happens in the loader."),t}static getGETParameters(){var t={};return window.location.search.substring(1).split("&").forEach(e=>{var r=e.split("=");2===r.length&&(t[r[0]]=decodeURIComponent(r[1]))}),t}}},function(t,e,r){var n=r(29),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){var n=t=>class extends t{constructor(...t){super(...t),this.shui={align:new Phaser.Point,position:new Phaser.Point,alignChildren:!1,autoUpdate:!0}}update(){if(this.shui.autoUpdate){var t=this.game;this.parent&&this.parent.shui&&this.parent.shui.alignChildren&&(t=this.parent.shui),this.position.x=this.shui.align.x*t.width+this.shui.position.x,this.position.y=this.shui.align.y*t.height+this.shui.position.y}super.update()}};class i extends(n(Phaser.Text)){constructor(t,e,r,n,i){super(t,0,0,n,i),this.shui.position.set(e,r)}}class a{constructor(t,e,r,n,i,a){this.button=t,this.name=e,this.key=r,this.baseFrame=n,this.downFrame=i,this.hoverFrame=a,this.baseText=null,this.downText=null,this.hoverText=null}setText(t,e=t,r=t){this.baseText=t,this.downText=e,this.hoverText=r}}class o extends(n(Phaser.Button)){constructor(t,e,r,n,i,a,o){super(t,0,0,n,null,null,o,i,a),void 0===Phaser.PointerMode.TOUCH&&console.warn("Phaser.PointerMode.TOUCH is undefined. Patch or upgrade Phaser. @see https://github.com/photonstorm/phaser-ce/issues/392"),this.forceOut=Phaser.PointerMode.CONTACT,this.justReleasedPreventsOver=Phaser.PointerMode.CONTACT,this.textAutoWrap=!0,this.shui.position.set(e,r),this.shui.baseText=null,this.shui.downText=null,this.shui.hoverText=null,this.shui.currenText=null,this.shui.states={},this.shui.currentState="default",this.shui.buttonState="base",this.addState("default",n,i,a,o);this.onInputOver.add(this._hoverHandler,this,100),this.onInputOut.add(this._outHandler,this,100),this.onInputDown.add(this._downHandler,this,100),this.onInputUp.add(this._upHandler,this,100)}update(){super.update(),this.shui.currenText&&this.shui.currenText.position.set(-this.width/this.scale.x*this.anchor.x+this.shui.currenText.shui.position.x,-this.height/this.scale.y*this.anchor.y+this.shui.currenText.shui.position.y)}addState(t,e,r,n,i){this.shui.states[t]=new a(this,t,e,r,n,i),this.shui.currentState===t&&this.useState(t)}setText(t,e,r=e,n=e){if(t in this.shui.states){var i=this.shui.states[t];for(var a of[e,r,n])a&&(this.textAutoWrap&&(a.wordWrap=!0,a.wordWrapWidth=this.width),a.setTextBounds(0,0,this.width,this.height));i.setText(e,r,n),this.shui.currentState===t&&this._setStateText()}else console.error("Button does not have a state named ".concat(t))}getStateNames(){return Object.keys(this.shui.states)}getCurrentState(){return console.warn("getCurrentState() is deprecated. Use getCurrentStateName()."),this.getCurrentStateName()}getCurrentStateName(){return this.shui.currentState}getState(t){return t=t||this.getCurrentStateName(),this.shui.states[t]}useState(t){if(t in this.shui.states){this.shui.currentState=t;var e=this.shui.states[t];switch(this.key!==e.key&&this.loadTexture(e.key),this.setFrames(e.hoverFrame,e.baseFrame,e.downFrame),this.shui.buttonState){case"base":this.changeStateFrame("Out");break;case"down":e.downFrame?this.changeStateFrame("Down"):this.changeStateFrame("Out");break;case"hover":e.hoverFrame?this.changeStateFrame("Over"):this.changeStateFrame("Out");break;default:console.warn("Unknown state in button"),this.changeStateFrame("Out")}this._setStateText()}else console.error("Button does not have a state named ".concat(t))}_setStateText(){var t=this.shui.states[this.shui.currentState];this.shui.baseText=t.baseText,this.shui.downText=t.downText,this.shui.hoverText=t.hoverText,this._updateText()}_updateText(){var t;switch(this.shui.currenText&&this.removeChild(this.shui.currenText),this.shui.buttonState){case"down":t=this.shui.downText;break;case"hover":t=this.shui.hoverText}t||(t=this.shui.baseText),t&&(this.shui.currenText=t,this.addChild(this.shui.currenText))}_hoverHandler(){this.shui.buttonState="hover",this._updateText()}_outHandler(){this.shui.buttonState="base",this._updateText()}_upHandler(t,e,r){r&&!0!==this.forceOut&&(this.forceOut&e.pointerMode)!==e.pointerMode?this.shui.buttonState="hover":this.shui.buttonState="base",this._updateText()}_downHandler(){this.shui.buttonState="down",this._updateText()}}class s extends(n(Phaser.Group)){constructor(t,e,r,n,i,a){super(t,e,r,n,i,a),this.anchor=new Phaser.Point,this.shui.alignChildren=!0,this._shuiWidth=100,this._shuiHeight=100,Object.defineProperty(this.shui,"width",{get:()=>this._shuiWidth,set:t=>{this._shuiWidth=t,this.debug&&this._drawDebug()}}),Object.defineProperty(this.shui,"height",{get:()=>this._shuiHeight,set:t=>{this._shuiHeight=t,this.debug&&this._drawDebug()}}),this._debugGraphic=null,this._debugColor=5635925,this._debugAlpha=.5}update(){this.shui.autoUpdate&&(this.pivot.x=this.shui.width*this.anchor.x,this.pivot.y=this.shui.height*this.anchor.y),super.update()}_drawDebug(){this._debugGraphic.clear(),this._debugGraphic.lineStyle(2,this._debugColor,this._debugAlpha),this._debugGraphic.drawRect(0,0,this.shui.width,this.shui.height)}get debug(){return null!==this._debugGraphic}set debug(t){!t&&this.debug?(this.remove.removeChild(this._debugGraphic),this._debugGraphic=null):t&&!this.debug&&(this._debugGraphic=new Phaser.Graphics(this.game),this._drawDebug(),this.add(this._debugGraphic))}}class u extends(n(Phaser.Image)){constructor(t,e,r,n,i){super(t,0,0,n,i),this.shui.position.set(e,r)}}class c extends(n(Phaser.Group)){constructor(t,e,r,n){super(t,null),this.shui.position.set(e,r),this.shui.inputField=new PhaserInput.InputField(t,0,0,n),this.add(this.shui.inputField),this.anchor=new Phaser.Point,this.TEXT_CHANGE_POLL_TIME=.1,this.maxChars=this.shui.inputField.inputOptions.max,this.txtChangePollTime=0}update(){this.pivot.set(this.width*this.anchor.x,this.height*this.anchor.y),super.update();var t=Math.min(.1,this.game.time.elapsedMS/1e3);if(this.txtChangePollTime-=t,this.txtChangePollTime<0&&(this.txtChangePollTime=this.TEXT_CHANGE_POLL_TIME,this.shui.inputField.value.length>this.maxChars)){var e=this.shui.inputField.value.slice(0,this.maxChars);this.shui.inputField.setText(e),this.shui.inputField.startFocus()}}}class l extends Phaser.Group{constructor(t,e){super(t,null,e.name),this.config=e,this.game=t,this.shui={},this.intendedWitdh=this.config.size.width,this.intendedHeight=this.config.size.height,this._childIdMap={}}add(t,e,r){return super.add(t,e,r),this._addChildToMap(t),t}remove(t,e,r){var n=t.name;super.remove(t,e,r),delete this._childIdMap[n]}getPackData(){return this.config.resources}setup(){this._addChildren(this,this.config.children)}clear(){this.removeAll(!0),this._childIdMap={}}getElementById(t){return t in this._childIdMap?this._childIdMap[t]:null}_addChildToMap(t){var e=t.name;0!==e.length?(e in this._childIdMap&&console.warn('Duplicate id "'.concat(e,'" in layout "').concat(this.config.name,'".')),this._childIdMap[e]=t):console.warn('Adding child w/o "name" to layout "'.concat(this.config.name,'".'))}_addChildren(t,e){for(var r of e)this._addChild(t,r)}_addChild(t,e){var r=null;switch(e.type){case"image":case"sprite":r=this._createImage(e);break;case"button":r=this._createButton(e);break;case"text":r=this._createText(e);break;case"area":r=this._createArea(e);break;case"group":r=this._createGroup(e);break;case"input":r=this._createInput(e);break;default:console.warn('Unsupported type "'.concat(e.type,'" in layout "').concat(this.config.name,'".'))}"angle"in e&&(r.angle=e.angle),"scale"in e&&r.scale.set(e.scale.x,e.scale.y),null!==r&&(r.name=e.id,"anchor"in r&&r.anchor.set(e.anchor.x,e.anchor.y),"shui"in r&&r.shui.align.set(e.align.x,e.align.y),t.add(r),!(t instanceof l)&&t instanceof Phaser.Group&&this._addChildToMap(r),"children"in e&&this._addChildren(r,e.children))}_createImage(t){return new u(this.game,t.position.x,t.position.y,t.key,t.frame)}_createButton(t){var e=t.key,r=new o(this.game,t.position.x,t.position.y);for(var n of(r.textAutoWrap=!1,t.states)){r.addState(n.name,"key"in n?n.key:e,n.baseFrame,n.downFrame,n.hoverFrame);var i=[];for(var a of["baseText","downText","hoverText"]){var s=null;n[a]&&(s=this._createText(n[a])),i.push(s)}r.setText(n.name,...i)}return r}_createText(t){var e=new i(this.game,t.position.x,t.position.y,t.text,t.style);return e.lineSpacing=t.lineSpacing,"padding"in t&&(e.padding.set(t.padding.x,t.padding.y),e.updateText()),e}_createArea(t){var e=new s(this.game,null,t.id);return e.shui.position.set(t.position.x,t.position.y),e.shui.width=t.width,e.shui.height=t.height,e}_createGroup(t){var e=new Phaser.Group(this.game,null,t.id);return e.position.set(t.position.x,t.position.y),e}_createInput(t){return new c(this.game,t.position.x,t.position.y,t.options)}}var h=r(25);class f extends h.a{constructor(t,e){super("layout",t,e)}loaderQueueFile(t,e,r){return this.phaserLoader.addToFileList("layout",t,e,null,r,".json")}loaderLoadFile(t){this.phaserLoader.xhrLoad(t,this.phaserLoader.transformUrl(t.url,t),"text",(t,e)=>{var r=JSON.parse(e.responseText);this.phaserLoader.cache.addLayout(t.key,t.url,r);var n=r.resources,i=Object.getOwnPropertyNames(n);i.length>2&&console.warn("More than one key found in layout resources.");var a=i.reduce((t,e)=>"meta"!==e?e:t),o="sheepUiLayout_".concat(a);n[o]=n[a],delete n[a],this.phaserLoader.pack(o,t.url,n),this.phaserLoader.asyncComplete(t)})}}e.a={Aligned:n,Area:s,Button:o,Image:u,Input:c,Layout:l,Text:i,Loaders:{LayoutLoader:f}}},function(t,e){var r=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(t,e,r){t.exports=!r(6)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(7),i=r(103),a=r(37),o=Object.defineProperty;e.f=r(14)?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),i)try{return o(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){r.r(e),r.d(e,"NONE",(function(){return n})),r.d(e,"SCALING_ENABLED_MOBILE",(function(){return i})),r.d(e,"SCALING_ENABLED_DESKTOP",(function(){return a})),r.d(e,"SCALING_ENABLED_IFRAME",(function(){return o})),r.d(e,"LOCK_ORIENTATION_MOBILE",(function(){return s})),r.d(e,"LOCK_ORIENTATION_DESKTOP",(function(){return u})),r.d(e,"FULLSCREEN_MOBILE",(function(){return c})),r.d(e,"FULLSCREEN_DESKTOP",(function(){return l}));var n=0,i=1,a=2,o=4,s=2,u=4,c=2,l=4},function(t,e,r){var n=r(35);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(200),i=r.n(n);var a=r(21),o=r(0),s=r(56);class u extends o.fb{constructor(t,e,r){super(),this._root=t,this.skinnedMesh=this._root.children.find(t=>"SkinnedMesh"===t.type),this.material=e,this.animations=r,this.add(this._root),this.mixer=new o.d(this._root);for(var n=0;n<this.animations.length;++n)this.mixer.clipAction(this.animations[n])}get material(){return this.skinnedMesh.material}set material(t){this.skinnedMesh.material=t}get animations(){return this._root.animations}set animations(t){this._root.animations=t}static createFromConfig(t,e){var r=t.cache.getThreeGltf(e.key),n=r.scene.getObjectByName(e.item),i=s.a.clone(n),o=t.cache.getLambdaMaterial(e.material),c=a.a.createFromConfig(t,o),l=new u(i,c,r.animations);return l.name=e.name,l}}class c{constructor(t){this._tileMap=t,this._lookup=this._tileMap.dataLayer.lookup,this._allFlags=this._tileMap.flags,this.x=-1,this.y=-1,this.index=-1}updateReference(t,e,r){this.x=t,this.y=e,this.index=r}copy(t){this.updateReference(t.x,t.y,t.index)}has(t){return-1!==this.index&&(this.value&this._allFlags[t])>0}set(t,e=!0){var r=this._allFlags[t];void 0!==r&&(e?this.value|=r:this.value&=~r)}get flags(){for(var t=[],e=Object.getOwnPropertyNames(this._allFlags),r=0;r<e.length;r++){var n=e[r];this.has(n)&&t.push(n)}return t}get isValid(){return-1!==this.x}get value(){return this._lookup[this.index]}set value(t){this._lookup[this.index]=t}}class l extends o.fb{constructor(t){super(),this.tileMap=t,this.flagVisibility={},this.pathColor="#34ebe8",this._createCanvas(),this._createPlane()}_createPlane(){this.texture=new o.k(this.canvas),this.texture.minFilter=o.ab,this.texture.magFilter=o.ab,this.material=new o.V({depthTest:!1,depthWrite:!1,opacity:.8,transparent:!0,map:this.texture}),this.geometry=new o.ib(this.tileMap.width,this.tileMap.height),this.mesh=new o.U(this.geometry,this.material),this.mesh.rotateX(-Math.PI/2),this.add(this.mesh)}_createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.width=this.tileMap.dataRows,this.canvas.height=this.tileMap.dataColumns,this.ctx=this.canvas.getContext("2d",{antialias:!1,alpha:!0})}update(t=[]){var e=this.tileMap.dataRows,r=this.tileMap.dataColumns;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.globalAlpha=.5;for(var n=Object.getOwnPropertyNames(this.tileMap.flags),i=0;i<n.length;i++){var a=n[i];if(!(a in this.flagVisibility)||this.flagVisibility[a]){this.ctx.fillStyle=this.tileMap.flagColors[a];for(var o=this.tileMap.getDataTileViewXY(0,0),s=0;s<e;s++)for(var u=0;u<r;u++)this.tileMap.getDataTileViewXY(u,s,o),o.has(a)&&this.ctx.fillRect(u,s,1,1)}}this.ctx.fillStyle=this.pathColor;for(var c=0;c<t.length;c++)for(var l=t[c],h=0;h<l.length;h++)this.ctx.fillRect(l[h].x,l[h].y,1,1);this.texture.needsUpdate=!0}setFlagVisibility(t,e=!0){this.flagVisibility[t]=e}dispose(){this.flagVisibility={},this.remove(this.mesh),this.canvas=null,this.material.dispose(),this.texture.dispose(),this.geometry.dispose(),this.material=null,this.texture=null,this.geometry=null}}class h{constructor(t){this._tileMap=t,this._tiles=this._tileMap.tiles,this._rotations=this._tileMap.tileRotations,this._objects=this._tileMap.objects.children,this.x=-1,this.y=-1,this.index=-1}updateReference(t,e,r){this.x=t,this.y=e,this.index=r}copy(t){this.updateReference(t.x,t.y,t.index)}get isValid(){return-1!==this.x}get value(){return this._tiles[this.index]}set value(t){if(t!==this._tiles[this.index]){this._tiles[this.index]=t;var e=this._tileMap._createMesh(this.x,this.y,this.index),r=this.object3D;r.parent=null,r.dispatchEvent({type:"removed"}),e.parent=this._tileMap,e.dispatchEvent({type:"added"}),this._objects[this.index]=e}}get rotation(){return this._rotations[this.index]}set rotation(t){this.object3D.rotation.set(0,Math.PI/2*t,0),this._rotations[this.index]=t}get object3D(){return this._objects[this.index]}}class f extends o.fb{constructor(t){super(),Object.assign(this,t),this._tmpVec3=new o.Ob,this._tmpVec2=new o.Nb,this.debug=null,this.objects=new o.fb,this.add(this.objects),this.updateGeometry(),this._computeFlags()}updateGeometry(){for(;this.objects.children.length>0;)this.remove(this.objects.children[0]);for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++){var r=t*this.columns+e,n=this._createMesh(e,t,r);this.objects.add(n)}}worldToTile(t,e,r=!1){this._tmpVec3.copy(t),this._tmpVec3.sub(this.position),e.x=Math.round((this._tmpVec3.x+this.halfWidth)/this.cellSize-.5),e.y=Math.round((this._tmpVec3.z+this.halfHeight)/this.cellSize-.5),(e.x<0||e.x>=this.columns||e.y<0||e.y>=this.rows)&&(e.x=-1,e.y=-1)}worldToDataTile(t,e){this._tmpVec3.copy(t),this._tmpVec3.sub(this.position),e.x=Math.round((this._tmpVec3.x+this.halfWidth)/(this.cellSize/this.dataLayer.resolution)-.5),e.y=Math.round((this._tmpVec3.z+this.halfHeight)/(this.cellSize/this.dataLayer.resolution)-.5),(e.x<0||e.x>=this.columns*this.dataLayer.resolution||e.y<0||e.y>=this.rows*this.dataLayer.resolution)&&(e.x=-1,e.y=-1)}getTileIndex(t,e){return e*this.columns+t}getDataTileIndex(t,e){return e*this.columns*this.dataLayer.resolution+t}getTileViewXY(t,e,r=null){r=r||new h(this);var n=-1;return-1!==t&&(n=this.getTileIndex(t,e)),r.updateReference(t,e,n),r}getTileViewWorld(t,e=null){return this.worldToTile(t,this._tmpVec2),this.getTileViewXY(this._tmpVec2.x,this._tmpVec2.y,e)}getDataTileViewXY(t,e,r=null){r=r||new c(this);var n=-1;return-1!==t&&(n=this.getDataTileIndex(t,e)),r.updateReference(t,e,n),r}getDataTileViewWorld(t,e=null){return this.worldToDataTile(t,this._tmpVec2),this.getDataTileViewXY(this._tmpVec2.x,this._tmpVec2.y,e)}addFlag(t,e="#000000"){if(!(t in this.flags)){var r=Object.getOwnPropertyNames(this.flags).length;if(r>31)throw new Error("Maximum number of flags is 32");this.flags[t]=1<<r,this.flagColors[t]=e}}enableDebug(){return this.debug||(this.debug=new l(this),this.add(this.debug)),this.debug.update(),this.debug}updateDebug(t=[]){this.debug?this.debug.update(t):console.warn("Debug not enabled")}disableDebug(){this.debug&&(this.remove(this.debug),this.debug.dispose(),this.debug=null)}_createMesh(t,e,r){var n,i=this.tiles[r],a=this.tileRotations[r],s=this.meshes[i];return(n=s?s.clone():new o.fb).rotation.set(0,Math.PI/2*a,0),n.position.set((t+.5)*this.cellSize-this.halfWidth,0,(e+.5)*this.cellSize-this.halfHeight),n}_computeFlags(){if(this.flags)throw new Error("flags can only be computed once");var t=this.dataLayer.properties,e=this.dataLayer.lookup,r=this.dataLayer.propertyColor;this.flags={},this.flagColors={},t.forEach(t=>{Array.isArray(t)&&t.forEach(t=>{this.addFlag(t,r[t])})});for(var n=0;n<e.length;n++){var i=t[e[n]],a=0;Array.isArray(i)&&i.forEach(t=>{a|=this.flags[t]}),e[n]=a}}get columns(){return this._columns}set columns(t){this._columns=t,this._width=this.columns*this.cellSize,this._halfWidth=.5*this.width}get rows(){return this._rows}set rows(t){this._rows=t,this._height=this.rows*this.cellSize,this._halfHeight=.5*this.height}get cellSize(){return this._cellSize}set cellSize(t){this._cellSize=t,this._width=this.columns*this.cellSize,this._halfWidth=.5*this.width,this._height=this.rows*this.cellSize,this._halfHeight=.5*this.height}get width(){return this._width}get height(){return this._height}get halfWidth(){return this._halfWidth}get halfHeight(){return this._halfHeight}get dataRows(){return this.rows*this.dataLayer.resolution}get dataColumns(){return this.columns*this.dataLayer.resolution}static createFromConfig(t,e){var r;if(e.material){var n=t.cache.getLambdaMaterial(e.material);r=a.a.createFromConfig(t,n)}else r=new o.X;var i=[];e.meshes.forEach(e=>{if(null!==e){var n=t.cache.getThreeGltf(e.key).scene.getObjectByName(e.item).clone();n.material=r,i.push(n)}else i.push(null)});var s={columns:e.columns,rows:e.rows,cellSize:e.cellSize,meshes:i,tiles:[...e.tiles],tileRotations:[...e.rotations],dataLayer:{resolution:e.dataLayer.resolution,properties:JSON.parse(JSON.stringify(e.dataLayer.properties)),lookup:[...e.dataLayer.lookup],propertyColor:JSON.parse(JSON.stringify(e.dataLayer.propertyColor))}};return new f(s)}}class p extends o.fb{constructor(t){if(super(),this.name=t.name,this.type="Sky",!t.mesh){var e=new o.j;this.mesh=new o.U(e.parse(p.defaultGeometry()))}this.add(this.mesh),this.material=t.material,this.mesh.frustumCulled=!1,this.mesh.renderOrder=-1,this.frustumCulled=!1,this.mesh.onBeforeRender=(t,e,r)=>{r.getWorldPosition(this.position),this.updateMatrixWorld(!0)}}set material(t){this._material=t||new o.X,this.mesh.material=this._material,this._material.depthTest=!1,this._material.needsUpdate=!0}get material(){return this._material}static defaultGeometry(){return JSON.parse('{"metadata":{"version":4.5,"type":"BufferGeometry","generator":"BufferGeometry.toJSON"},"uuid":"D75BF019-C481-4796-9EDC-72CCA3383907","type":"BufferGeometry","data":{"attributes":{"normal":{"itemSize":3,"type":"Float32Array","array":[-1.5258788721439487e-7,-4.768370942542788e-8,1,-7.152556946721234e-8,-1,-3.337861542718201e-8,7.152556946721234e-8,1,4.291534239087014e-8,-7.152556946721234e-8,-1,-3.337861542718201e-8,7.152556946721234e-8,1,4.291534239087014e-8,-7.152556946721234e-8,-1,-3.337861542718201e-8,1.5258788721439487e-7,4.768370942542788e-8,-1,1.5258788721439487e-7,4.768370942542788e-8,-1,1,0,1.4305113893442467e-7,1.5258788721439487e-7,4.768370942542788e-8,-1,-1,0,-1.4305113893442467e-7,-1,0,-1.4305113893442467e-7,-1.5258788721439487e-7,-4.768370942542788e-8,1,-1.5258788721439487e-7,-4.768370942542788e-8,1,-1,0,-1.4305113893442467e-7,-1,0,-1.4305113893442467e-7,1,0,1.4305113893442467e-7,1,0,1.4305113893442467e-7,-1.5258788721439487e-7,-4.768370942542788e-8,1,7.152556946721234e-8,1,4.291534239087014e-8,1,0,1.4305113893442467e-7,7.152556946721234e-8,1,4.291534239087014e-8,1.5258788721439487e-7,4.768370942542788e-8,-1,-7.152556946721234e-8,-1,-3.337861542718201e-8],"normalized":false},"position":{"itemSize":3,"type":"Float32Array","array":[10.000001907348633,10,-9.999999046325684,-9.999998092651367,10.000001907348633,-10.000000953674316,-9.999999046325684,-10,-10.000001907348633,10.000001907348633,10,-9.999999046325684,9.999998092651367,-10.000001907348633,10.000000953674316,9.999999046325684,10,10.000001907348633,-10.000000953674316,10.000000953674316,10,9.999998092651367,-10.000001907348633,10.000000953674316,-10.000000953674316,10.000000953674316,10,9.999999046325684,10,10.000001907348633,9.999998092651367,-10.000001907348633,10.000000953674316,10.000000953674316,-10.000000953674316,-10,-9.999999046325684,-10,-10.000001907348633,-9.999998092651367,10.000001907348633,-10.000000953674316,9.999999046325684,10,10.000001907348633,10.000001907348633,10,-9.999999046325684,-9.999998092651367,10.000001907348633,-10.000000953674316,-9.999999046325684,-10,-10.000001907348633,10.000000953674316,-10.000000953674316,-10,10.000000953674316,-10.000000953674316,-10,-10.000001907348633,-10,9.999999046325684,-10.000001907348633,-10,9.999999046325684,-10.000001907348633,-10,9.999999046325684,-10.000000953674316,10.000000953674316,10],"normalized":false},"uv":{"itemSize":2,"type":"Float32Array","array":[0.74951171875,0.5009765625,0.24951171875,0.0009765625,0.50048828125,0.0009765625,0.00048828125,0.0009765625,0.74951171875,0.4990234375,0.00048828125,0.4990234375,0.24951171875,0.5009765625,0.00048828125,0.9990234375,0.25048828125,0.5009765625,0.00048828125,0.5009765625,0.99951171875,0.9990234375,0.75048828125,0.9990234375,0.50048828125,0.9990234375,0.50048828125,0.5009765625,0.99951171875,0.5009765625,0.75048828125,0.5009765625,0.49951171875,0.5009765625,0.49951171875,0.9990234375,0.74951171875,0.9990234375,0.74951171875,0.0009765625,0.25048828125,0.9990234375,0.50048828125,0.4990234375,0.24951171875,0.9990234375,0.24951171875,0.4990234375],"normalized":false}},"index":{"type":"Uint16Array","array":[21,4,19,21,19,2,12,18,0,12,0,13,1,3,5,1,5,23,6,9,7,6,7,22,15,11,10,15,10,14,17,16,8,17,8,20]},"boundingSphere":{"center":[0,0,0],"radius":17.320509176897037}}}')}}var d=r(49);class g extends o.tb{constructor(t,e){if(super(),this.game=t,this.config=e,this.name=this.config.name,this.background=new o.m(this.config.properties.backgroundColor),this.voxelVolumeTexture=null,!0===this.config.properties.useVoxelVolume){var r=this.config.properties.voxelVolumeSettings,n=this.game.cache.getLambdaTexture(r.voxelMap);this.voxelVolumeTexture=d.a.createFromConfig(t,n)}}setup(){this._addChildren(this,this.config.children)}updateVoxelMaterials(){if(!0===this.config.properties.useVoxelVolume){var t={},e=this.config.properties.voxelVolumeSettings;this.traverse(r=>{if(r.material&&"ShaderMaterial"===r.material.type&&!t[r.material.uuid]){t[r.material.uuid]=!0;var n=r.material.uniforms;n.voxelMap&&(n.voxelMap.value=this.voxelVolumeTexture,n.density.value=e.density,n.zMultiplier.value=e.zMultiplier,n.offset.value[0]=e.offset.x,n.offset.value[1]=e.offset.y,n.offset.value[2]=e.offset.z,n.volResolution.value[0]=e.volResolution.x,n.volResolution.value[1]=e.volResolution.y,n.volume.value[0]=e.volume.x,n.volume.value[1]=e.volume.y,n.volume.value[2]=e.volume.z),r.material.needsUpdate=!0}})}}_addChildren(t,e){for(var r of e)this._addChild(t,r)}_addChild(t,e){var r=null;switch(e.type){case"AmbientLight":r=this._createAmbientLight(e);break;case"DirectionalLight":r=this._createDirectionalLight(e);break;case"LambdaSkinnedMesh":r=this._createLambdaSkinnedMesh(e);break;case"LambdaSky":r=this._createLambdaSky(e);break;case"LambdaTileMap":r=this._createLambdaTileMap(e);break;case"Mesh":r=this._createMesh(e);break;case"Object3D":r=this._createObject3D(e);break;default:console.warn('Unsupported type "'.concat(e.type,'" in scene "').concat(this.name,'".'))}null!==r&&(r.name=e.name,r.visible=e.visible,Object.assign(r.userData,e.userData),this._setPositionRotationScale(r,e),t.add(r),"children"in e&&this._addChildren(r,e.children))}_createAmbientLight(t){return new o.b(t.color,t.intensity)}_createDirectionalLight(t){return new o.q(t.color,t.intensity)}_createLambdaSkinnedMesh(t){return u.createFromConfig(this.game,t)}_createLambdaSky(t){return new p({material:this._getMaterial(t.material),name:t.name})}_createLambdaTileMap(t){return f.createFromConfig(this.game,t)}_createMesh(t){var e=this.game.cache.getThreeGltf(t.key).scene.getObjectByName(t.item).clone();return"material"in t&&(e.material=this._getMaterial(t.material)),e}_createObject3D(t){return new o.fb}_getMaterial(t){var e=this.game.cache.getLambdaMaterial(t);return a.a.createFromConfig(this.game,e)}_setPositionRotationScale(t,e){Array.isArray(e.position)?t.position.set(e.position[0],e.position[1],e.position[2]):t.position.set(e.position.x,e.position.y,e.position.z),Array.isArray(e.scale)?t.scale.set(e.scale[0],e.scale[1],e.scale[2]):t.scale.set(e.scale.x,e.scale.y,e.scale.z),Array.isArray(e.quaternion)?t.quaternion.set(e.quaternion[0],e.quaternion[1],e.quaternion[2],e.quaternion[3]):t.quaternion.set(e.quaternion.x,e.quaternion.y,e.quaternion.z,e.quaternion.w)}}var v=r(25);class m extends v.a{constructor(t,e){super("lambda material",t,e)}loaderQueueFile(t,e,r){return this.phaserLoader.addToFileList("lambdaMaterial",t,e,null,r,".json")}loaderProcessPack(t){this.phaserLoader.lambdaMaterial(t.key,t.url,t.overwrite)}loaderLoadFile(t){this.phaserLoader.xhrLoad(t,this.phaserLoader.transformUrl(t.url,t),"text",(t,e)=>{var r=JSON.parse(e.responseText);this.phaserLoader.cache.addLambdaMaterial(t.key,t.url,r);var n=r.resources,i=Object.getOwnPropertyNames(n);i.length>2&&console.warn("More than one key found in layout resources.");var a=i.reduce((t,e)=>"meta"!==e?e:t),o="lambdaMaterial_".concat(a);n[o]=n[a],delete n[a],this.phaserLoader.pack(o,t.url,n),this.phaserLoader.asyncComplete(t)})}}class y extends v.a{constructor(t,e){super("lambda scene",t,e)}loaderQueueFile(t,e,r){return this.phaserLoader.addToFileList("lambdaScene",t,e,null,r,".json")}loaderProcessPack(t){this.phaserLoader.lambdaScene(t.key,t.url,t.overwrite)}loaderLoadFile(t){this.phaserLoader.xhrLoad(t,this.phaserLoader.transformUrl(t.url,t),"text",(t,e)=>{var r=JSON.parse(e.responseText);this.phaserLoader.cache.addLambdaScene(t.key,t.url,r);var n=r.resources,i=Object.getOwnPropertyNames(n);i.length>2&&console.warn("More than one key found in layout resources.");var a=i.reduce((t,e)=>"meta"!==e?e:t),o="lambdaScene_".concat(a);n[o]=n[a],delete n[a],this.phaserLoader.pack(o,t.url,n),this.phaserLoader.asyncComplete(t)})}}class b extends v.a{constructor(t,e){super("lambda texture",t,e)}loaderQueueFile(t,e,r){return this.phaserLoader.addToFileList("lambdaTexture",t,e,null,r,".json")}loaderProcessPack(t){this.phaserLoader.lambdaTexture(t.key,t.url,t.overwrite)}loaderLoadFile(t){this.phaserLoader.xhrLoad(t,this.phaserLoader.transformUrl(t.url,t),"text",(t,e)=>{var r=JSON.parse(e.responseText);this.phaserLoader.cache.addLambdaTexture(t.key,t.url,r);var n=r.resources,i=Object.getOwnPropertyNames(n);i.length>2&&console.warn("More than one key found in layout resources.");var a=i.reduce((t,e)=>"meta"!==e?e:t),o="lambdaTexture_".concat(a);n[o]=n[a],delete n[a],this.phaserLoader.pack(o,t.url,n),this.phaserLoader.asyncComplete(t)})}}var _=r(202),w=r(102);w.a.setDecoderPath("gltf/");class x extends v.a{constructor(t,e){super("three gltf",t,e),this.threeGltfLoader=new _.a,this.threeGltfLoader.setDRACOLoader(new w.a)}loaderQueueFile(t,e,r){return this.phaserLoader.addToFileList("threeGltf",t,e,{},r,".glb")}loaderProcessPack(t){this.phaserLoader.threeGltf(t.key,t.url,t.overwrite)}loaderLoadFile(t){this.phaserLoader.xhrLoad(t,this.phaserLoader.transformUrl(t.url,t),"arraybuffer",(t,e)=>{this.threeGltfLoader.parse(e.response,"",e=>{this.phaserLoader.cache.addThreeGltf(t.key,t.url,e),this.phaserLoader.asyncComplete(t)},()=>{this.phaserLoader.asyncComplete(t,"Error loading three.js binary glTF")})})}}e.a={AStar:class{constructor(t,e=[],r=!0){this.worker=new i.a,this.tileMap=t,this.flagCost=null,this.easyTiles=null,this.easyTilesAcceptable=null,this.easyTileCosts=null,this._cornerCutting=!0,this._diagonals=!1,this.lastId=0,this.callbacks=[],this.worker.addEventListener("message",t=>{var e=t.data;switch(e.type){case"pathFound":this._handlePathFound(e.data);break;default:console.warn("Unhandled message",e)}}),this.updateMap(null,e,r)}findPath(t,e,r){var n=this.lastId;this.lastId++,this.callbacks[n]=r,this.worker.postMessage({type:"findPath",data:{id:n,fromX:t.x,fromY:t.y,toX:e.x,toY:e.y}})}updateMap(t,e,r=!0){t&&(this.tileMap=t),e&&this._convertFlagCost(e,r),this._buildEasyStarMap(),this.worker.postMessage({type:"init",data:{grid:this.easyTiles,acceptableTiles:this.easyTilesAcceptable,tileCosts:this.easyTileCosts}})}set cornerCutting(t){this._cornerCutting!==t&&(this._cornerCutting=t,this.worker.postMessage({type:"option",data:{name:"cornerCutting",value:t}}))}get cornerCutting(){return this._cornerCutting}set diagonals(t){this._diagonals!==t&&(this._diagonals=t,this.worker.postMessage({type:"option",data:{name:"diagonals",value:t}}))}get diagonals(){return this._diagonals}_handlePathFound(t){this.callbacks[t.id](t.path),delete this.callbacks[t.id]}_initWorker(){this.worker.postMessage({type:"init",data:{grid:this.easyTiles,acceptableTiles:this.easyTilesAcceptable,tileCosts:this.easyTileCosts}})}_convertFlagCost(t,e){this.flagCost=[],this.easyTileCosts=[],this.easyTilesAcceptable=[];for(var r=0;r<t.length;r++){var n=Object.getOwnPropertyNames(t[r]);if(1!==n.length)throw new Error("Only one cost per object is allowed!");var i=t[r][n[0]];i!==Number.POSITIVE_INFINITY&&this.easyTilesAcceptable.push(r),this.flagCost.push({flag:n[0],cost:i}),1!==i&&i!==Number.POSITIVE_INFINITY&&this.easyTileCosts.push([r,i])}e||this.easyTilesAcceptable.push(this.flagCost.length)}_buildEasyStarMap(){for(var t=this.tileMap.getDataTileViewXY(0,0),e=this.tileMap.dataColumns,r=this.tileMap.dataRows,n=new Array(e).fill(null).map(()=>new Array(r).fill(null)),i=0;i<e;i++)for(var a=0;a<r;a++){this.tileMap.getDataTileViewXY(i,a,t);for(var o=this.flagCost.length,s=0;s<this.flagCost.length;s++)if(t.has(this.flagCost[s].flag)){o=s;break}n[a][i]=o}this.easyTiles=n}},Material:a.a,Scene:g,SkinnedMesh:u,Texture:d.a,TileMap:f,Loaders:{MaterialLoader:m,SceneLoader:y,TextureLoader:b,ThreeGltfLoader:x}}},function(t,e,r){var n=r(5),i=r(23),a=r(22),o=r(40)("src"),s=r(215),u=(""+s).split("toString");r(13).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,r,s){var c="function"==typeof r;c&&(a(r,"name")||i(r,"name",e)),t[e]!==r&&(c&&(a(r,o)||i(r,o,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=r:s?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(t,e,r){var n=r(1),i=r(6),a=r(35),o=/"/g,s=function(t,e,r,n){var i=String(a(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(s),n(n.P+n.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",r)}},function(t,e,r){var n=r(0),i=r(49),a={},o={createFromConfig(t,e,r=!1){if(!r&&e.name in a)return a[e.name];var o=null;switch(e.type){case"MeshBasicMaterial":o=new n.V(e.properties);break;case"MeshLambertMaterial":o=new n.W(e.properties);break;case"ShaderMaterial":(o=new n.wb(e.properties)).vertexShader=t.cache.getShader(e.vertex),o.fragmentShader=t.cache.getShader(e.fragment);break;default:console.warn('Unsupported type "'.concat(e.type,'" in scene "').concat(e.name,'".'))}if(o){if(o.name=e.name,"uniforms"in e.properties){var s=e.properties.uniforms;Object.keys(s).forEach(e=>{var r=s[e];if("type"in r&&"t"===r.type){var n=t.cache.getLambdaTexture(r.value);r.value=i.a.createFromConfig(t,n)}})}if("map"in e.properties){var u=t.cache.getLambdaTexture(e.properties.map);o.map=i.a.createFromConfig(t,u)}}return r||(a[e.name]=o),o}};e.a=o},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(15),i=r(39);t.exports=r(14)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(57),i=r(35);t.exports=function(t){return n(i(t))}},function(t,e,r){r.d(e,"a",(function(){return wt}));var n=r(201),i="object"==typeof self&&self&&self.Object===Object&&self,a=(n.a||i||Function("return this")()).Symbol;var o=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i},s=Array.isArray,u=Object.prototype,c=u.hasOwnProperty,l=u.toString,h=a?a.toStringTag:void 0;var f=function(t){var e=c.call(t,h),r=t[h];try{t[h]=void 0;var n=!0}catch(t){}var i=l.call(t);return n&&(e?t[h]=r:delete t[h]),i},p=Object.prototype.toString;var d=function(t){return p.call(t)},g=a?a.toStringTag:void 0;var v=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?f(t):d(t)};var m=function(t){return null!=t&&"object"==typeof t};var y=function(t){return"symbol"==typeof t||m(t)&&"[object Symbol]"==v(t)},b=a?a.prototype:void 0,_=b?b.toString:void 0;var w=function t(e){if("string"==typeof e)return e;if(s(e))return o(e,t)+"";if(y(e))return _?_.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r};var x=function(t){return null==t?"":w(t)};var S=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a};var A=function(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:S(t,e,r)},E=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var O=function(t){return E.test(t)};var C=function(t){return t.split("")},T="[\\ud800-\\udfff]",L="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",P="\\ud83c[\\udffb-\\udfff]",k="[^\\ud800-\\udfff]",M="(?:\\ud83c[\\udde6-\\uddff]){2}",R="[\\ud800-\\udbff][\\udc00-\\udfff]",I="(?:"+L+"|"+P+")"+"?",F="[\\ufe0e\\ufe0f]?"+I+("(?:\\u200d(?:"+[k,M,R].join("|")+")[\\ufe0e\\ufe0f]?"+I+")*"),D="(?:"+[k+L+"?",L,M,R,T].join("|")+")",N=RegExp(P+"(?="+P+")|"+D+F,"g");var j=function(t){return t.match(N)||[]};var z=function(t){return O(t)?j(t):C(t)};var U=function(t){return function(e){e=x(e);var r=O(e)?z(e):void 0,n=r?r[0]:e.charAt(0),i=r?A(r,1).join(""):e.slice(1);return n[t]()+i}}("toUpperCase");var B=function(t){return U(x(t).toLowerCase())};var V=function(t,e,r,n){var i=-1,a=null==t?0:t.length;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r};var G=function(t){return function(e){return null==t?void 0:t[e]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),W=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,H=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var K=function(t){return(t=x(t))&&t.replace(W,G).replace(H,"")},X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Y=function(t){return t.match(X)||[]},q=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var J=function(t){return q.test(t)},Z="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$="["+Z+"]",Q="\\d+",tt="[\\u2700-\\u27bf]",et="[a-z\\xdf-\\xf6\\xf8-\\xff]",rt="[^\\ud800-\\udfff"+Z+Q+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",nt="(?:\\ud83c[\\udde6-\\uddff]){2}",it="[\\ud800-\\udbff][\\udc00-\\udfff]",at="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ot="(?:"+et+"|"+rt+")",st="(?:"+at+"|"+rt+")",ut="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ct="[\\ufe0e\\ufe0f]?"+ut+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",nt,it].join("|")+")[\\ufe0e\\ufe0f]?"+ut+")*"),lt="(?:"+[tt,nt,it].join("|")+")"+ct,ht=RegExp([at+"?"+et+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[$,at,"$"].join("|")+")",st+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[$,at+ot,"$"].join("|")+")",at+"?"+ot+"+(?:['’](?:d|ll|m|re|s|t|ve))?",at+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Q,lt].join("|"),"g");var ft=function(t){return t.match(ht)||[]};var pt=function(t,e,r){return t=x(t),void 0===(e=r?void 0:e)?J(t)?ft(t):Y(t):t.match(e)||[]},dt=RegExp("['’]","g");var gt=function(t){return function(e){return V(pt(K(e).replace(dt,"")),t,"")}},vt=gt((function(t,e,r){return e=e.toLowerCase(),t+(r?B(e):e)})),mt=gt((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var yt=null,bt=/\.(png|jpg|jpeg)$/i;class _t{static supportsWebp(){if(null===yt){var t=document.createElement("canvas");t.width=1,t.height=1,yt=t.toDataURL("image/webp").indexOf("image/webp")>-1}return yt}static getViewportSize(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}static getAssetUrl(t){var e=t;e.startsWith("./")&&(e=e.substring(2)),e.startsWith("assets/")&&(e=e.substring(7));var n=!1;if(_t.supportsWebp()){var i=e;e=e.replace(bt,".webp");try{e=r(136)("./".concat(e)),n=!0}catch(t){e=i}}return n||(e=r(136)("./".concat(e))),e}}class wt{constructor(t,e,r){this.mapKey=vt(t),this.cachekey=mt(t).toUpperCase(),this.functionKeyCache=U(this.mapKey),this.functionKeyLoader=this.mapKey,this.phaserLoader=e,this.phaserCache=r,this.phaserCache&&this._addCachePlugin(),this.phaserLoader&&this._addLoaderPlugin()}loaderQueueFile(...t){}loaderLoadFile(t){}loaderProcessPack(t){this.phaserLoader[this.mapKey](t.key,t.url,t.overwrite)}_addCachePlugin(){!function(t){if(!("_patchApplied"in Phaser.Cache)){Phaser.Cache._patchApplied=!0,Phaser.Cache._lastCacheIndex=32,Phaser.Cache.getNextCacheIndex=function(){return Phaser.Cache._lastCacheIndex++},Phaser.Cache._cacheMapReverse={image:Phaser.Cache.IMAGE,text:Phaser.Cache.TEXT,json:Phaser.Cache.JSON,xml:Phaser.Cache.XML,binary:Phaser.Cache.BINARY,spritesheet:Phaser.Cache.SPRITE_SHEET,video:Phaser.Cache.VIDEO,audio:Phaser.Cache.SOUND,audiosprite:Phaser.Cache.SOUND,tilemap:Phaser.Cache.TILEMAP,physics:Phaser.Cache.PHYSICS,bitmapfont:Phaser.Cache.BITMAPFONT,textureatlas:Phaser.Cache.IMAGE,shader:Phaser.Cache.SHADER};new wt("pack",null,t)}}(this.phaserCache);var t=this.mapKey,e=this.cachekey,r=this.functionKeyCache;e in Phaser.Cache?console.error("duplicate entry in cache tables, ignoring! (".concat(e,")")):(Phaser.Cache[e]=Phaser.Cache.getNextCacheIndex(),this.phaserCache._cache[t]={},this.phaserCache._cacheMap[Phaser.Cache[e]]=this.phaserCache._cache[t],Phaser.Cache._cacheMapReverse[t]=Phaser.Cache[e],Phaser.Cache.prototype["add".concat(r)]=function(e,r,n){this._cache[t][e]=n},Phaser.Cache.prototype["check".concat(r,"Key")]=function(t){return this.checkKey(Phaser.Cache[e],t)},Phaser.Cache.prototype["get".concat(r)]=function(t){return this.getItem(t,Phaser.Cache[e],"get".concat(r))},Phaser.Cache.prototype["remove".concat(r)]=function(e){delete this._cache[t][e]})}_addLoaderPlugin(){!function(t){if(!("_patchApplied"in Phaser.Loader)){Phaser.Loader._patchApplied=!0,Phaser.Loader.prototype._patchedLoaders={};var e={addFileToList:Phaser.Loader.prototype.addToFileList,loadFile:Phaser.Loader.prototype.loadFile,pack:Phaser.Loader.prototype.pack,processPack:Phaser.Loader.prototype.processPack};Phaser.Loader.prototype.addToFileList=function(t,r,n,i,a,o){if(!(t in Phaser.Cache._cacheMapReverse))throw new Error("".concat(t," is not in caches! File SHEEPCORE bug!"));return this.cache.checkKey(Phaser.Cache._cacheMapReverse[t],r)?this:e.addFileToList.call(this,t,r,n,i,a,o)},Phaser.Loader.prototype.loadFile=function(t){"url"in t&&(Array.isArray(t.url)?t.url=t.url.map(t=>this._prefixCdn(_t.getAssetUrl(t))):t.url=this._prefixCdn(_t.getAssetUrl(t.url))),"textureURL"in t&&(t.textureURL=this._prefixCdn(_t.getAssetUrl(t.textureURL))),"atlasURL"in t&&(t.atlasURL=this._prefixCdn(_t.getAssetUrl(t.atlasURL))),"jsonURL"in t&&(t.jsonURL=this._prefixCdn(_t.getAssetUrl(t.jsonURL))),"urls"in t&&(t.urls=t.urls.map(t=>this._prefixCdn(_t.getAssetUrl(t)))),t.type in this._patchedLoaders?this._patchedLoaders[t.type].loaderLoadFile(t):e.loadFile.call(this,t)},Phaser.Loader.prototype.pack=function(t,r,n,i){return this.cache.checkPackKey(t)?this:e.pack.call(this,t,r,n,i)},Phaser.Loader.prototype.processPack=function(t){var r=t.data[t.key];if(r){for(var n=0;n<r.length;n++){var i=r[n];i.type in this._patchedLoaders&&this._patchedLoaders[i.type].loaderProcessPack(i)}e.processPack.call(this,t),this.cache.addPack(t.key,t.url,r)}else console.warn("Phaser.Loader - ".concat(t.key,": pack has data, but not for pack key"))},Phaser.Loader.prototype.setCdn=function(t,e=[]){t.endsWith("/")||(t="".concat(t,"/")),this._cdnPrefix=t,this._cdnOverrides=e},Phaser.Loader.prototype._prefixCdn=function(t){if(this._cdnPrefix){var e=t.match(/\.[0-9a-z]+$/i)[0];if(e.length>0&&-1===this._cdnOverrides.indexOf(e))return this._cdnPrefix+t}return t}}}(this.phaserLoader);var t=this.functionKeyLoader;Phaser.Loader.prototype[t]=(...t)=>{this.loaderQueueFile(...t)},Phaser.Loader.prototype._patchedLoaders[this.mapKey]=this}}},function(t,e,r){var n=r(6);t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,r){var n=r(28);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(58),i=r(39),a=r(24),o=r(37),s=r(22),u=r(103),c=Object.getOwnPropertyDescriptor;e.f=r(14)?c:function(t,e){if(t=a(t),e=o(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e,r){var n=r(1),i=r(13),a=r(6);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],o={};o[t]=e(r),n(n.S+n.F*a((function(){r(1)})),"Object",o)}},function(t,e,r){var n=r(27),i=r(57),a=r(17),o=r(11),s=r(119);t.exports=function(t,e){var r=1==t,u=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var g,v,m=a(e),y=i(m),b=n(s,d,3),_=o(y.length),w=0,x=r?p(e,_):u?p(e,0):void 0;_>w;w++)if((f||w in y)&&(v=b(g=y[w],w,m),t))if(r)x[w]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:x.push(g)}else if(l)return!1;return h?-1:c||l?l:x}}},function(t,e,r){r(505);var n=r(10),i=Phaser.ScaleManager.prototype.resetCanvas,a=Phaser.ScaleManager.prototype.getParentBounds,o=Phaser.ScaleManager.prototype.updateLayout;Phaser.ScaleManager.prototype.resetCanvas=function(t,e){var r=this.game.canvas.style.display;if(this.game.canvas.style.display="none",this.game.three&&(this.game.three.renderer.domElement.style.display="none"),0!==this.game.fsGameRotated){var a=n.a.getViewportSize();this.game.canvas.style.width="".concat(a.height,"px"),this.game.canvas.style.height="".concat(a.width,"px");var o=this.game.fsGameRotated,s=0,u="";switch(o){case-90:s=-a.height,u="top right";break;case 90:s=-a.width,u="top left"}this.game.canvas.style.transform="rotate(".concat(o,"deg) translateY(").concat(s,"px)"),this.game.canvas.style.transformOrigin=u}else{if(Phaser.Device.mobileSafari&&n.a.isIFrame()){var c=n.a.getViewportSize();t="".concat(c.width,"px"),e="".concat(c.height,"px")}i.call(this,t,e),this.game.canvas.style.transform="",this.game.canvas.style.transformOrigin=""}this.game.canvas.style.display=r},Phaser.ScaleManager.prototype.getParentBounds=function(t){var e=a.call(this,t);if(0!==this.game.fsGameRotated){var r=e.width;e.width=e.height,e.height=r}return e},Phaser.ScaleManager.prototype.updateLayout=function(){PhaserInput.KeyboardOpen||o.call(this)},void 0===Phaser.PointerMode.TOUCH&&(Phaser.PointerMode.TOUCH=Phaser.PointerMode.CONTACT);var s=r(16);class u extends Phaser.State{constructor(){super(),this.createOnceRun=!1}init(...t){this.game.debug.isDisabled||(window.fsDebug.state=this),t.length>0&&(this.packs=t),this.game.isFullscreenEnabled()&&this.input.onUp.add(this.game.startFullscreen,this.game)}preload(){this.previousDisableVisibilityChange=this.game.stage.disableVisibilityChange,this.game.stage.disableVisibilityChange=!0,this.packs&&(this.game.preloadLayout&&(this.game.preloadLayout.setup(),this.game.world.add(this.game.preloadLayout)),this.packs.forEach(t=>{this.game.load.pack(t.key,t.url,t.data)})),this.game.localizer&&this.game.localizer.setLocale(this.game.fsConf.locale.locale,(t,e)=>{var r="locale/".concat(t,".csv");this.game.load.text(r,r),this.game.cache.checkTextKey(r)?e(this.game.cache.getText(r)):(this.game.load.text(r,r),this.game.load.onLoadComplete.addOnce(()=>{e(this.game.cache.getText(r))}))})}createOnce(){this.createOnceRun=!0}create(){this.game.preloadLayout&&(this.game.world.remove(this.game.preloadLayout),this.game.preloadLayout.clear()),this.game.stage.disableVisibilityChange=this.previousDisableVisibilityChange,this.createOnceRun||this.createOnce()}}class c{constructor(){this._store={}}getItem(t){return t in this._store?this._store[t]:null}setItem(t,e){this._store[t]=e.toString()}}e.a=Object.assign({Util:n.a,State:{Base:u},Storage:class{constructor(t,e=!1){this._prefix=t,this._storage=null,this.localStorageAvailable=!1,this.sessionStorageAvailable=!1,this._testStorage(),!e&&this.localStorageAvailable?this._storage=window.localStorage:this.sessionStorageAvailable?this._storage=window.sessionStorage:this._storage=new c}getItem(t,e=null){var r;try{r=this._storage.getItem(this._prefix+t),r=JSON.parse(r)}catch(t){r=e}return null===r?e:r}setItem(t,e){try{this._storage.setItem(this._prefix+t,JSON.stringify(e))}catch(t){console.error(t)}}_testStorage(){var t,e="test_".concat(Math.round(1e6*Math.random()).toString()),r="value_".concat(Math.round(1e6*Math.random()).toString()),n=this._storage;try{this._storage=window.localStorage,this.setItem(e,r),t=this.getItem(e),this.localStorageAvailable=t===r,this._storage.removeItem(this._prefix+e)}catch(t){this.localStorageAvailable=!1}try{this._storage=window.sessionStorage,this.setItem(e,r),t=this.getItem(e),this.sessionStorageAvailable=t===r,this._storage.removeItem(this._prefix+e)}catch(t){this.sessionStorageAvailable=!1}this._storage=n}}},s)},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){if(r(14)){var n=r(41),i=r(5),a=r(6),o=r(1),s=r(73),u=r(98),c=r(27),l=r(54),h=r(39),f=r(23),p=r(55),d=r(29),g=r(11),v=r(130),m=r(43),y=r(37),b=r(22),_=r(59),w=r(8),x=r(17),S=r(90),A=r(44),E=r(46),O=r(45).f,C=r(92),T=r(40),L=r(9),P=r(32),k=r(63),M=r(60),R=r(94),I=r(52),F=r(66),D=r(53),N=r(93),j=r(121),z=r(15),U=r(30),B=z.f,V=U.f,G=i.RangeError,W=i.TypeError,H=i.Uint8Array,K=Array.prototype,X=u.ArrayBuffer,Y=u.DataView,q=P(0),J=P(2),Z=P(3),$=P(4),Q=P(5),tt=P(6),et=k(!0),rt=k(!1),nt=R.values,it=R.keys,at=R.entries,ot=K.lastIndexOf,st=K.reduce,ut=K.reduceRight,ct=K.join,lt=K.sort,ht=K.slice,ft=K.toString,pt=K.toLocaleString,dt=L("iterator"),gt=L("toStringTag"),vt=T("typed_constructor"),mt=T("def_constructor"),yt=s.CONSTR,bt=s.TYPED,_t=s.VIEW,wt=P(1,(function(t,e){return Ot(M(t,t[mt]),e)})),xt=a((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),St=!!H&&!!H.prototype.set&&a((function(){new H(1).set({})})),At=function(t,e){var r=d(t);if(r<0||r%e)throw G("Wrong offset!");return r},Et=function(t){if(w(t)&&bt in t)return t;throw W(t+" is not a typed array!")},Ot=function(t,e){if(!w(t)||!(vt in t))throw W("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return Tt(M(t,t[mt]),e)},Tt=function(t,e){for(var r=0,n=e.length,i=Ot(t,n);n>r;)i[r]=e[r++];return i},Lt=function(t,e,r){B(t,e,{get:function(){return this._d[r]}})},Pt=function(t){var e,r,n,i,a,o,s=x(t),u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,f=C(s);if(null!=f&&!S(f)){for(o=f.call(s),n=[],e=0;!(a=o.next()).done;e++)n.push(a.value);s=n}for(h&&u>2&&(l=c(l,arguments[2],2)),e=0,r=g(s.length),i=Ot(this,r);r>e;e++)i[e]=h?l(s[e],e):s[e];return i},kt=function(){for(var t=0,e=arguments.length,r=Ot(this,e);e>t;)r[t]=arguments[t++];return r},Mt=!!H&&a((function(){pt.call(new H(1))})),Rt=function(){return pt.apply(Mt?ht.call(Et(this)):Et(this),arguments)},It={copyWithin:function(t,e){return j.call(Et(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return $(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(Et(this),arguments)},filter:function(t){return Ct(this,J(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){q(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Et(this),arguments)},lastIndexOf:function(t){return ot.apply(Et(this),arguments)},map:function(t){return wt(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Et(this),arguments)},reduceRight:function(t){return ut.apply(Et(this),arguments)},reverse:function(){for(var t,e=Et(this).length,r=Math.floor(e/2),n=0;n<r;)t=this[n],this[n++]=this[--e],this[e]=t;return this},some:function(t){return Z(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Et(this),t)},subarray:function(t,e){var r=Et(this),n=r.length,i=m(t,n);return new(M(r,r[mt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,g((void 0===e?n:m(e,n))-i))}},Ft=function(t,e){return Ct(this,ht.call(Et(this),t,e))},Dt=function(t){Et(this);var e=At(arguments[1],1),r=this.length,n=x(t),i=g(n.length),a=0;if(i+e>r)throw G("Wrong length!");for(;a<i;)this[e+a]=n[a++]},Nt={entries:function(){return at.call(Et(this))},keys:function(){return it.call(Et(this))},values:function(){return nt.call(Et(this))}},jt=function(t,e){return w(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},zt=function(t,e){return jt(t,e=y(e,!0))?h(2,t[e]):V(t,e)},Ut=function(t,e,r){return!(jt(t,e=y(e,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?B(t,e,r):(t[e]=r.value,t)};yt||(U.f=zt,z.f=Ut),o(o.S+o.F*!yt,"Object",{getOwnPropertyDescriptor:zt,defineProperty:Ut}),a((function(){ft.call({})}))&&(ft=pt=function(){return ct.call(this)});var Bt=p({},It);p(Bt,Nt),f(Bt,dt,Nt.values),p(Bt,{slice:Ft,set:Dt,constructor:function(){},toString:ft,toLocaleString:Rt}),Lt(Bt,"buffer","b"),Lt(Bt,"byteOffset","o"),Lt(Bt,"byteLength","l"),Lt(Bt,"length","e"),B(Bt,gt,{get:function(){return this[bt]}}),t.exports=function(t,e,r,u){var c=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=i[c],m=d||{},y=d&&E(d),b=!d||!s.ABV,x={},S=d&&d.prototype,C=function(t,r){B(t,r,{get:function(){return function(t,r){var n=t._d;return n.v[h](r*e+n.o,xt)}(this,r)},set:function(t){return function(t,r,n){var i=t._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[p](r*e+i.o,n,xt)}(this,r,t)},enumerable:!0})};b?(d=r((function(t,r,n,i){l(t,d,c,"_d");var a,o,s,u,h=0,p=0;if(w(r)){if(!(r instanceof X||"ArrayBuffer"==(u=_(r))||"SharedArrayBuffer"==u))return bt in r?Tt(d,r):Pt.call(d,r);a=r,p=At(n,e);var m=r.byteLength;if(void 0===i){if(m%e)throw G("Wrong length!");if((o=m-p)<0)throw G("Wrong length!")}else if((o=g(i)*e)+p>m)throw G("Wrong length!");s=o/e}else s=v(r),a=new X(o=s*e);for(f(t,"_d",{b:a,o:p,l:o,e:s,v:new Y(a)});h<s;)C(t,h++)})),S=d.prototype=A(Bt),f(S,"constructor",d)):a((function(){d(1)}))&&a((function(){new d(-1)}))&&F((function(t){new d,new d(null),new d(1.5),new d(t)}),!0)||(d=r((function(t,r,n,i){var a;return l(t,d,c),w(r)?r instanceof X||"ArrayBuffer"==(a=_(r))||"SharedArrayBuffer"==a?void 0!==i?new m(r,At(n,e),i):void 0!==n?new m(r,At(n,e)):new m(r):bt in r?Tt(d,r):Pt.call(d,r):new m(v(r))})),q(y!==Function.prototype?O(m).concat(O(y)):O(m),(function(t){t in d||f(d,t,m[t])})),d.prototype=S,n||(S.constructor=d));var T=S[dt],L=!!T&&("values"==T.name||null==T.name),P=Nt.values;f(d,vt,!0),f(S,bt,c),f(S,_t,!0),f(S,mt,d),(u?new d(1)[gt]==c:gt in S)||B(S,gt,{get:function(){return c}}),x[c]=d,o(o.G+o.W+o.F*(d!=m),x),o(o.S,c,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*a((function(){m.of.call(d,1)})),c,{from:Pt,of:kt}),"BYTES_PER_ELEMENT"in S||f(S,"BYTES_PER_ELEMENT",e),o(o.P,c,It),D(c),o(o.P+o.F*St,c,{set:Dt}),o(o.P+o.F*!L,c,Nt),n||S.toString==ft||(S.toString=ft),o(o.P+o.F*a((function(){new d(1).slice()})),c,{slice:Ft}),o(o.P+o.F*(a((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!a((function(){S.toLocaleString.call([1,2])}))),c,{toLocaleString:Rt}),I[c]=L?T:P,n||L||f(S,dt,P)}}else t.exports=function(){}},function(t,e,r){var n=r(8);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(40)("meta"),i=r(8),a=r(22),o=r(15).f,s=0,u=Object.isExtensible||function(){return!0},c=!r(6)((function(){return u(Object.preventExtensions({}))})),l=function(t){o(t,n,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[n].i},getWeak:function(t,e){if(!a(t,n)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[n].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!a(t,n)&&l(t),t}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e){t.exports=!1},function(t,e,r){var n=r(105),i=r(77);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(29),i=Math.max,a=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):a(t,e)}},function(t,e,r){var n=r(7),i=r(106),a=r(77),o=r(76)("IE_PROTO"),s=function(){},u=function(){var t,e=r(74)("iframe"),n=a.length;for(e.style.display="none",r(78).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[a[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=n(t),r=new s,s.prototype=null,r[o]=t):r=u(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(105),i=r(77).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){var n=r(22),i=r(17),a=r(76)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,r){var n=r(9)("unscopables"),i=Array.prototype;null==i[n]&&r(23)(i,n,{}),t.exports=function(t){i[n][t]=!0}},function(t,e,r){var n=r(8);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,r){var n=r(0),i={},a={createFromConfig(t,e,r=!1){if(!r&&e.name in i)return i[e.name];var a=t.cache.getImage(e.image),o=new n.Db(a,e.properties.mapping,e.properties.wrapS,e.properties.wrapT,e.properties.magFilter,e.properties.minFilter,e.properties.format,e.properties.type,e.properties.anisotropy,e.properties.encoding);return o.flipY=e.properties.flipY,o.needsUpdate=!0,r||(i[e.name]=o),o}};e.a=a},function(t,e,r){var n=r(15).f,i=r(22),a=r(9)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e,r){var n=r(1),i=r(35),a=r(6),o=r(80),s="["+o+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,r){var i={},s=a((function(){return!!o[t]()||"​"!="​"[t]()})),u=i[t]=s?e(h):o[t];r&&(i[r]=u),n(n.P+n.F*s,"String",i)},h=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,r){var n=r(5),i=r(15),a=r(14),o=r(9)("species");t.exports=function(t){var e=n[t];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(19);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},,function(t,e,r){var n=r(34);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var n=r(34),i=r(9)("toStringTag"),a="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:a?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,r){var n=r(7),i=r(28),a=r(9)("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||null==(r=n(o)[a])?e:i(r)}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(13),i=r(5),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(41)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){var n=r(24),i=r(11),a=r(43);t.exports=function(t){return function(e,r,o){var s,u=n(e),c=i(u.length),l=a(o,c);if(t&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(34);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(9)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},t(a)}catch(t){}return r}},function(t,e,r){var n=r(7);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,r){var n=r(59),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var a=r.call(t,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,r){r(123);var n=r(19),i=r(23),a=r(6),o=r(35),s=r(9),u=r(95),c=s("species"),l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var f=s(t),p=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=p?!a((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[c]=function(){return r}),r[f](""),!e})):void 0;if(!p||!d||"replace"===t&&!l||"split"===t&&!h){var g=/./[f],v=r(o,f,""[t],(function(t,e,r,n,i){return e.exec===u?p&&!i?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),m=v[0],y=v[1];n(String.prototype,t,m),i(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,r){var n=r(27),i=r(118),a=r(90),o=r(7),s=r(11),u=r(92),c={},l={};(e=t.exports=function(t,e,r,h,f){var p,d,g,v,m=f?function(){return t}:u(t),y=n(r,h,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(p=s(t.length);p>b;b++)if((v=e?y(o(d=t[b])[0],d[1]):y(t[b]))===c||v===l)return v}else for(g=m.call(t);!(d=g.next()).done;)if((v=i(g,y,d.value,e))===c||v===l)return v}).BREAK=c,e.RETURN=l},function(t,e,r){var n=r(5).navigator;t.exports=n&&n.userAgent||""},function(t,e,r){var n=r(5),i=r(1),a=r(19),o=r(55),s=r(38),u=r(70),c=r(54),l=r(8),h=r(6),f=r(66),p=r(50),d=r(81);t.exports=function(t,e,r,g,v,m){var y=n[t],b=y,_=v?"set":"add",w=b&&b.prototype,x={},S=function(t){var e=w[t];a(w,t,"delete"==t||"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof b&&(m||w.forEach&&!h((function(){(new b).entries().next()})))){var A=new b,E=A[_](m?{}:-0,1)!=A,O=h((function(){A.has(1)})),C=f((function(t){new b(t)})),T=!m&&h((function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)}));C||((b=e((function(e,r){c(e,b,t);var n=d(new y,e,b);return null!=r&&u(r,v,n[_],n),n}))).prototype=w,w.constructor=b),(O||T)&&(S("delete"),S("has"),v&&S("get")),(T||E)&&S(_),m&&w.clear&&delete w.clear}else b=g.getConstructor(e,t,v,_),o(b.prototype,r),s.NEED=!0;return p(b,t),x[t]=b,i(i.G+i.W+i.F*(b!=y),x),m||g.setStrong(b,t,v),b}},function(t,e,r){for(var n,i=r(5),a=r(23),o=r(40),s=o("typed_array"),u=o("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(n=i[f[h++]])?(a(n.prototype,s,!0),a(n.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,r){var n=r(8),i=r(5).document,a=n(i)&&n(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,r){e.f=r(9)},function(t,e,r){var n=r(62)("keys"),i=r(40);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var n=r(5).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(8),i=r(7),a=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(27)(Function.call,r(30).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return a(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:a}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,r){var n=r(8),i=r(79).set;t.exports=function(t,e,r){var a,o=e.constructor;return o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&n(a)&&i&&i(t,a),t}},function(t,e,r){var n=r(29),i=r(35);t.exports=function(t){var e=String(i(this)),r="",a=n(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,e,r){var n=r(29),i=r(35);t.exports=function(t){return function(e,r){var a,o,s=String(i(e)),u=n(r),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}},function(t,e,r){var n=r(41),i=r(1),a=r(19),o=r(23),s=r(52),u=r(117),c=r(50),l=r(46),h=r(9)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,r,d,g,v,m){u(r,e,d);var y,b,_,w=function(t){if(!f&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},x=e+" Iterator",S="values"==g,A=!1,E=t.prototype,O=E[h]||E["@@iterator"]||g&&E[g],C=O||w(g),T=g?S?w("entries"):C:void 0,L="Array"==e&&E.entries||O;if(L&&(_=l(L.call(new t)))!==Object.prototype&&_.next&&(c(_,x,!0),n||"function"==typeof _[h]||o(_,h,p)),S&&O&&"values"!==O.name&&(A=!0,C=function(){return O.call(this)}),n&&!m||!f&&!A&&E[h]||o(E,h,C),s[e]=C,s[x]=p,g)if(y={values:S?C:w("values"),keys:v?C:w("keys"),entries:T},m)for(b in y)b in E||a(E,b,y[b]);else i(i.P+i.F*(f||A),e,y);return y}},function(t,e,r){var n=r(88),i=r(35);t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,e,r){var n=r(8),i=r(34),a=r(9)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},function(t,e,r){var n=r(9)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,r){var n=r(52),i=r(9)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},function(t,e,r){var n=r(15),i=r(39);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},function(t,e,r){var n=r(59),i=r(9)("iterator"),a=r(52);t.exports=r(13).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||a[n(t)]}},function(t,e,r){var n=r(17),i=r(43),a=r(11);t.exports=function(t){for(var e=n(this),r=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>s;)e[s++]=t;return e}},function(t,e,r){var n=r(47),i=r(122),a=r(52),o=r(24);t.exports=r(86)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,e,r){var n,i,a=r(67),o=RegExp.prototype.exec,s=String.prototype.replace,u=o,c=(n=/a/,i=/b*/g,o.call(n,"a"),o.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(u=function(t){var e,r,n,i,u=this;return l&&(r=new RegExp("^"+u.source+"$(?!\\s)",a.call(u))),c&&(e=u.lastIndex),n=o.call(u,t),c&&n&&(u.lastIndex=u.global?n.index+n[0].length:e),l&&n&&n.length>1&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),t.exports=u},function(t,e,r){var n=r(85)(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},function(t,e,r){var n,i,a,o=r(27),s=r(111),u=r(78),c=r(74),l=r(5),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++v]=function(){s("function"==typeof t?t:Function(t),e)},n(v),v},p=function(t){delete m[t]},"process"==r(34)(h)?n=function(t){h.nextTick(o(y,t,1))}:g&&g.now?n=function(t){g.now(o(y,t,1))}:d?(a=(i=new d).port2,i.port1.onmessage=b,n=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,r){var n=r(5),i=r(14),a=r(41),o=r(73),s=r(23),u=r(55),c=r(6),l=r(54),h=r(29),f=r(11),p=r(130),d=r(45).f,g=r(15).f,v=r(93),m=r(50),y=n.ArrayBuffer,b=n.DataView,_=n.Math,w=n.RangeError,x=n.Infinity,S=y,A=_.abs,E=_.pow,O=_.floor,C=_.log,T=_.LN2,L=i?"_b":"buffer",P=i?"_l":"byteLength",k=i?"_o":"byteOffset";function M(t,e,r){var n,i,a,o=new Array(r),s=8*r-e-1,u=(1<<s)-1,c=u>>1,l=23===e?E(2,-24)-E(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===x?(i=t!=t?1:0,n=u):(n=O(C(t)/T),t*(a=E(2,-n))<1&&(n--,a*=2),(t+=n+c>=1?l/a:l*E(2,1-c))*a>=2&&(n++,a/=2),n+c>=u?(i=0,n=u):n+c>=1?(i=(t*a-1)*E(2,e),n+=c):(i=t*E(2,c-1)*E(2,e),n=0));e>=8;o[h++]=255&i,i/=256,e-=8);for(n=n<<e|i,s+=e;s>0;o[h++]=255&n,n/=256,s-=8);return o[--h]|=128*f,o}function R(t,e,r){var n,i=8*r-e-1,a=(1<<i)-1,o=a>>1,s=i-7,u=r-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===l)l=1-o;else{if(l===a)return n?NaN:c?-x:x;n+=E(2,e),l-=o}return(c?-1:1)*n*E(2,l-e)}function I(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function F(t){return[255&t]}function D(t){return[255&t,t>>8&255]}function N(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function j(t){return M(t,52,8)}function z(t){return M(t,23,4)}function U(t,e,r){g(t.prototype,e,{get:function(){return this[r]}})}function B(t,e,r,n){var i=p(+r);if(i+e>t[P])throw w("Wrong index!");var a=t[L]._b,o=i+t[k],s=a.slice(o,o+e);return n?s:s.reverse()}function V(t,e,r,n,i,a){var o=p(+r);if(o+e>t[P])throw w("Wrong index!");for(var s=t[L]._b,u=o+t[k],c=n(+i),l=0;l<e;l++)s[u+l]=c[a?l:e-l-1]}if(o.ABV){if(!c((function(){y(1)}))||!c((function(){new y(-1)}))||c((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var G,W=(y=function(t){return l(this,y),new S(p(t))}).prototype=S.prototype,H=d(S),K=0;H.length>K;)(G=H[K++])in y||s(y,G,S[G]);a||(W.constructor=y)}var X=new b(new y(2)),Y=b.prototype.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||u(b.prototype,{setInt8:function(t,e){Y.call(this,t,e<<24>>24)},setUint8:function(t,e){Y.call(this,t,e<<24>>24)}},!0)}else y=function(t){l(this,y,"ArrayBuffer");var e=p(t);this._b=v.call(new Array(e),0),this[P]=e},b=function(t,e,r){l(this,b,"DataView"),l(t,y,"DataView");var n=t[P],i=h(e);if(i<0||i>n)throw w("Wrong offset!");if(i+(r=void 0===r?n-i:f(r))>n)throw w("Wrong length!");this[L]=t,this[k]=i,this[P]=r},i&&(U(y,"byteLength","_l"),U(b,"buffer","_b"),U(b,"byteLength","_l"),U(b,"byteOffset","_o")),u(b.prototype,{getInt8:function(t){return B(this,1,t)[0]<<24>>24},getUint8:function(t){return B(this,1,t)[0]},getInt16:function(t){var e=B(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=B(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return I(B(this,4,t,arguments[1]))},getUint32:function(t){return I(B(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return R(B(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return R(B(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,F,e)},setUint8:function(t,e){V(this,1,t,F,e)},setInt16:function(t,e){V(this,2,t,D,e,arguments[2])},setUint16:function(t,e){V(this,2,t,D,e,arguments[2])},setInt32:function(t,e){V(this,4,t,N,e,arguments[2])},setUint32:function(t,e){V(this,4,t,N,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,z,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,j,e,arguments[2])}});m(y,"ArrayBuffer"),m(b,"DataView"),s(b.prototype,o.VIEW,!0),e.ArrayBuffer=y,e.DataView=b},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(135)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},,function(t,e,r){t.exports=!r(14)&&!r(6)((function(){return 7!=Object.defineProperty(r(74)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(5),i=r(13),a=r(41),o=r(75),s=r(15).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,r){var n=r(22),i=r(24),a=r(63)(!1),o=r(76)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)r!=o&&n(s,r)&&c.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~a(c,r)||c.push(r));return c}},function(t,e,r){var n=r(15),i=r(7),a=r(42);t.exports=r(14)?Object.defineProperties:function(t,e){i(t);for(var r,o=a(e),s=o.length,u=0;s>u;)n.f(t,r=o[u++],e[r]);return t}},function(t,e,r){var n=r(24),i=r(45).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return o.slice()}}(t):i(n(t))}},function(t,e,r){var n=r(14),i=r(42),a=r(64),o=r(58),s=r(17),u=r(57),c=Object.assign;t.exports=!c||r(6)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=c({},t)[r]||Object.keys(c({},e)).join("")!=n}))?function(t,e){for(var r=s(t),c=arguments.length,l=1,h=a.f,f=o.f;c>l;)for(var p,d=u(arguments[l++]),g=h?i(d).concat(h(d)):i(d),v=g.length,m=0;v>m;)p=g[m++],n&&!f.call(d,p)||(r[p]=d[p]);return r}:c},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,r){var n=r(28),i=r(8),a=r(111),o=[].slice,s={},u=function(t,e,r){if(!(e in s)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=o.call(arguments,1),s=function(){var n=r.concat(o.call(arguments));return this instanceof s?u(e,n.length,n):a(e,n,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(5).parseInt,i=r(51).trim,a=r(80),o=/^[-+]?0[xX]/;t.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(t,e){var r=i(String(t),3);return n(r,e>>>0||(o.test(r)?16:10))}:n},function(t,e,r){var n=r(5).parseFloat,i=r(51).trim;t.exports=1/n(r(80)+"-0")!=-1/0?function(t){var e=i(String(t),3),r=n(e);return 0===r&&"-"==e.charAt(0)?-0:r}:n},function(t,e,r){var n=r(34);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,r){var n=r(8),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,r){var n=r(44),i=r(39),a=r(50),o={};r(23)(o,r(9)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=n(o,{next:i(1,r)}),a(t,e+" Iterator")}},function(t,e,r){var n=r(7);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},function(t,e,r){var n=r(305);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){var n=r(28),i=r(17),a=r(57),o=r(11);t.exports=function(t,e,r,s,u){n(e);var c=i(t),l=a(c),h=o(c.length),f=u?h-1:0,p=u?-1:1;if(r<2)for(;;){if(f in l){s=l[f],f+=p;break}if(f+=p,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=p)f in l&&(s=e(s,l[f],f,c));return s}},function(t,e,r){var n=r(17),i=r(43),a=r(11);t.exports=[].copyWithin||function(t,e){var r=n(this),o=a(r.length),s=i(t,o),u=i(e,o),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?o:i(c,o))-u,o-s),h=1;for(u<s&&s<u+l&&(h=-1,u+=l-1,s+=l-1);l-- >0;)u in r?r[s]=r[u]:delete r[s],s+=h,u+=h;return r}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var n=r(95);r(1)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(t,e,r){r(14)&&"g"!=/./g.flags&&r(15).f(RegExp.prototype,"flags",{configurable:!0,get:r(67)})},function(t,e,r){var n,i,a,o,s=r(41),u=r(5),c=r(27),l=r(59),h=r(1),f=r(8),p=r(28),d=r(54),g=r(70),v=r(60),m=r(97).set,y=r(325)(),b=r(126),_=r(326),w=r(71),x=r(127),S=u.TypeError,A=u.process,E=A&&A.versions,O=E&&E.v8||"",C=u.Promise,T="process"==l(A),L=function(){},P=i=b.f,k=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[r(9)("species")]=function(t){t(L,L)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(L)instanceof e&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var r=t._c;y((function(){for(var n=t._v,i=1==t._s,a=0,o=function(e){var r,a,o,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&D(t),t._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),o=!0)),r===e.promise?c(S("Promise-chain cycle")):(a=M(r))?a.call(r,u,c):u(r)):c(n)}catch(t){l&&!o&&l.exit(),c(t)}};r.length>a;)o(r[a++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function(t){m.call(u,(function(){var e,r,n,i=t._v,a=F(t);if(a&&(e=_((function(){T?A.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)})),t._h=T||F(t)?2:1),t._a=void 0,a&&e.e)throw e.v}))},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){m.call(u,(function(){var e;T?A.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},j=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can't be resolved itself");(e=M(t))?y((function(){var n={_w:r,_d:!1};try{e.call(t,c(j,n,1),c(N,n,1))}catch(t){N.call(n,t)}})):(r._v=t,r._s=1,R(r,!1))}catch(t){N.call({_w:r,_d:!1},t)}}};k||(C=function(t){d(this,C,"Promise","_h"),p(t),n.call(this);try{t(c(j,this,1),c(N,this,1))}catch(t){N.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(55)(C.prototype,{then:function(t,e){var r=P(v(this,C));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=T?A.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new n;this.promise=t,this.resolve=c(j,t,1),this.reject=c(N,t,1)},b.f=P=function(t){return t===C||t===o?new a(t):i(t)}),h(h.G+h.W+h.F*!k,{Promise:C}),r(50)(C,"Promise"),r(53)("Promise"),o=r(13).Promise,h(h.S+h.F*!k,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!k),"Promise",{resolve:function(t){return x(s&&this===o?C:this,t)}}),h(h.S+h.F*!(k&&r(66)((function(t){C.all(t).catch(L)}))),"Promise",{all:function(t){var e=this,r=P(e),n=r.resolve,i=r.reject,a=_((function(){var r=[],a=0,o=1;g(t,!1,(function(t){var s=a++,u=!1;r.push(void 0),o++,e.resolve(t).then((function(t){u||(u=!0,r[s]=t,--o||n(r))}),i)})),--o||n(r)}));return a.e&&i(a.v),r.promise},race:function(t){var e=this,r=P(e),n=r.reject,i=_((function(){g(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},function(t,e,r){var n=r(28);function i(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)}t.exports.f=function(t){return new i(t)}},function(t,e,r){var n=r(7),i=r(8),a=r(126);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=a.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){var n=r(15).f,i=r(44),a=r(55),o=r(27),s=r(54),u=r(70),c=r(86),l=r(122),h=r(53),f=r(14),p=r(38).fastKey,d=r(48),g=f?"_s":"size",v=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,c){var l=t((function(t,n){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=n&&u(n,r,t[c],t)}));return a(l.prototype,{clear:function(){for(var t=d(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var r=d(this,e),n=v(r,t);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[g]--}return!!n},forEach:function(t){d(this,e);for(var r,n=o(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!v(d(this,e),t)}}),f&&n(l.prototype,"size",{get:function(){return d(this,e)[g]}}),l},def:function(t,e,r){var n,i,a=v(t,e);return a?a.v=r:(t._l=a={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[g]++,"F"!==i&&(t._i[i]=a)),t},getEntry:v,setStrong:function(t,e,r){c(t,e,(function(t,r){this._t=d(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))}),r?"entries":"values",!r,!0),h(e)}}},function(t,e,r){var n=r(55),i=r(38).getWeak,a=r(7),o=r(8),s=r(54),u=r(70),c=r(32),l=r(22),h=r(48),f=c(5),p=c(6),d=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},m=function(t,e){return f(t.a,(function(t){return t[0]===e}))};v.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var r=m(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,a){var c=t((function(t,n){s(t,c,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=n&&u(n,r,t[a],t)}));return n(c.prototype,{delete:function(t){if(!o(t))return!1;var r=i(t);return!0===r?g(h(this,e)).delete(t):r&&l(r,this._i)&&delete r[this._i]},has:function(t){if(!o(t))return!1;var r=i(t);return!0===r?g(h(this,e)).has(t):r&&l(r,this._i)}}),c},def:function(t,e,r){var n=i(a(e),!0);return!0===n?g(t).set(e,r):n[t._i]=r,t},ufstore:g}},function(t,e,r){var n=r(29),i=r(11);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length!");return r}},function(t,e,r){var n=r(45),i=r(64),a=r(7),o=r(5).Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(a(t)),r=i.f;return r?e.concat(r(t)):e}},function(t,e,r){var n=r(11),i=r(82),a=r(35);t.exports=function(t,e,r,o){var s=String(a(t)),u=s.length,c=void 0===r?" ":String(r),l=n(e);if(l<=u||""==c)return s;var h=l-u,f=i.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),o?f+s:s+f}},function(t,e,r){var n=r(14),i=r(42),a=r(24),o=r(58).f;t.exports=function(t){return function(e){for(var r,s=a(e),u=i(s),c=u.length,l=0,h=[];c>l;)r=u[l++],n&&!o.call(s,r)||h.push(t?[r,s[r]]:s[r]);return h}}},function(t,e){var r=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){t.exports=function(){return new Worker(r.p+"AStar.worker_09027e50c5799d691dcd.js")}},function(t,e,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(61))},,function(t,e,r){var n,i,a;
/* @license
Papa Parse
v5.3.0
https://github.com/mholt/PapaParse
License: MIT
*/i=[],void 0===(a="function"==typeof(n=function t(){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},r=!e.document&&!!e.postMessage,n=r&&/blob:/i.test((e.location||{}).protocol),i={},a=0,o={parse:function(r,n){var s=(n=n||{}).dynamicTyping||!1;if(w(s)&&(n.dynamicTypingFunction=s,s={}),n.dynamicTyping=s,n.transform=!!w(n.transform)&&n.transform,n.worker&&o.WORKERS_SUPPORTED){var u=function(){if(!o.WORKERS_SUPPORTED)return!1;var r,n,s=(r=e.URL||e.webkitURL||null,n=t.toString(),o.BLOB_URL||(o.BLOB_URL=r.createObjectURL(new Blob(["(",n,")();"],{type:"text/javascript"})))),u=new e.Worker(s);return u.onmessage=v,u.id=a++,i[u.id]=u}();return u.userStep=n.step,u.userChunk=n.chunk,u.userComplete=n.complete,u.userError=n.error,n.step=w(n.step),n.chunk=w(n.chunk),n.complete=w(n.complete),n.error=w(n.error),delete n.worker,void u.postMessage({input:r,config:n,workerId:u.id})}var p=null;return o.NODE_STREAM_INPUT,"string"==typeof r?p=n.download?new c(n):new h(n):!0===r.readable&&w(r.read)&&w(r.on)?p=new f(n):(e.File&&r instanceof File||r instanceof Object)&&(p=new l(n)),p.stream(r)},unparse:function(t,e){var r=!1,n=!0,i=",",a="\r\n",s='"',u=s+s,c=!1,l=null,h=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||o.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(i=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(r=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(c=e.skipEmptyLines),"string"==typeof e.newline&&(a=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(n=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");l=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+s),"boolean"==typeof e.escapeFormulae&&(h=e.escapeFormulae)}}();var f=new RegExp(d(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return g(null,t,c);if("object"==typeof t[0])return g(l||p(t[0]),t,c)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:p(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),g(t.fields||[],t.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(t){if("object"!=typeof t)return[];var e=[];for(var r in t)e.push(r);return e}function g(t,e,r){var o="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(s&&n){for(var c=0;c<t.length;c++)0<c&&(o+=i),o+=v(t[c],c);0<e.length&&(o+=a)}for(var l=0;l<e.length;l++){var h=s?t.length:e[l].length,f=!1,p=s?0===Object.keys(e[l]).length:0===e[l].length;if(r&&!s&&(f="greedy"===r?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===r&&s){for(var d=[],g=0;g<h;g++){var m=u?t[g]:g;d.push(e[l][m])}f=""===d.join("").trim()}if(!f){for(var y=0;y<h;y++){0<y&&!p&&(o+=i);var b=s&&u?t[y]:y;o+=v(e[l][b],y)}l<e.length-1&&(!r||0<h&&!p)&&(o+=a)}}return o}function v(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);!0===h&&"string"==typeof t&&null!==t.match(/^[=+\-@].*$/)&&(t="'"+t);var n=t.toString().replace(f,u);return"boolean"==typeof r&&r||"function"==typeof r&&r(t,e)||Array.isArray(r)&&r[e]||function(t,e){for(var r=0;r<e.length;r++)if(-1<t.indexOf(e[r]))return!0;return!1}(n,o.BAD_DELIMITERS)||-1<n.indexOf(i)||" "===n.charAt(0)||" "===n.charAt(n.length-1)?s+n+s:n}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!e.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=g,o.ParserHandle=p,o.NetworkStreamer=c,o.FileStreamer=l,o.StringStreamer=h,o.ReadableStreamStreamer=f,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var r=t.config||{},n=[];return this.each((function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)n.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},r)})})),i(),this;function i(){if(0!==n.length){var e,r,i,u=n[0];if(w(t.before)){var c=t.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return e=u.file,r=u.inputElem,i=c.reason,void(w(t.error)&&t.error({name:"AbortError"},e,r,i));if("skip"===c.action)return void a();"object"==typeof c.config&&(u.instanceConfig=s.extend(u.instanceConfig,c.config))}else if("skip"===c)return void a()}var l=u.instanceConfig.complete;u.instanceConfig.complete=function(t){w(l)&&l(t,u.file,u.inputElem),a()},o.parse(u.file,u.instanceConfig)}else w(t.complete)&&t.complete()}function a(){n.splice(0,1),i()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new p(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,r){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+t;this._partialLine="";var s=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=s.meta.cursor;this._finished||(this._partialLine=a.substring(u-this._baseIndex),this._baseIndex=u),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)e.postMessage({results:s,workerId:o.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!r){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){w(this._config.error)?this._config.error(t):n&&this._config.error&&e.postMessage({workerId:o.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=o.RemoteChunkSize),u.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=_(this._chunkLoaded,this),e.onerror=_(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}r&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var r=e.statusText||t;this._sendError(new Error(r))}}function l(t){var e,r;(t=t||{}).chunkSize||(t.chunkSize=o.LocalChunkSize),u.call(this,t);var n="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,r=t.slice||t.webkitSlice||t.mozSlice,n?((e=new FileReader).onload=_(this._chunkLoaded,this),e.onerror=_(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=r.call(t,this._start,i)}var a=e.readAsText(t,this._config.encoding);n||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,r=this._config.chunkSize;return r?(t=e.substring(0,r),e=e.substring(r)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function f(t){u.call(this,t=t||{});var e=[],r=!0,n=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=_((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=_((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=_((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=_((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(t){var e,r,n,i=Math.pow(2,53),a=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,c=this,l=0,h=0,f=!1,p=!1,v=[],m={data:[],errors:[],meta:{}};if(w(t.step)){var y=t.step;t.step=function(e){if(m=e,S())x();else{if(x(),0===m.data.length)return;l+=e.data.length,t.preview&&l>t.preview?r.abort():(m.data=m.data[0],y(m,c))}}}function _(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function x(){if(m&&n&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines)for(var e=0;e<m.data.length;e++)_(m.data[e])&&m.data.splice(e--,1);return S()&&function(){if(m)if(Array.isArray(m.data[0])){for(var e=0;S()&&e<m.data.length;e++)m.data[e].forEach(r);m.data.splice(0,1)}else m.data.forEach(r);function r(e,r){w(t.transformHeader)&&(e=t.transformHeader(e,r)),v.push(e)}}(),function(){if(!m||!t.header&&!t.dynamicTyping&&!t.transform)return m;function e(e,r){var n,i=t.header?{}:[];for(n=0;n<e.length;n++){var a=n,o=e[n];t.header&&(a=n>=v.length?"__parsed_extra":v[n]),t.transform&&(o=t.transform(o,a)),o=A(a,o),"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(o)):i[a]=o}return t.header&&(n>v.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+n,h+r):n<v.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+n,h+r)),i}var r=1;return!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(e),r=m.data.length):m.data=e(m.data,0),t.header&&m.meta&&(m.meta.fields=v),h+=r,m}()}function S(){return t.header&&0===v.length}function A(e,r){return n=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[n]&&(t.dynamicTyping[n]=t.dynamicTypingFunction(n)),!0===(t.dynamicTyping[n]||t.dynamicTyping)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(function(t){if(s.test(t)){var e=parseFloat(t);if(a<e&&e<i)return!0}return!1}(r)?parseFloat(r):u.test(r)?new Date(r):""===r?null:r):r;var n}function E(t,e,r,n){var i={type:t,code:e,message:r};void 0!==n&&(i.row=n),m.errors.push(i)}this.parse=function(i,a,s){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var r=new RegExp(d(e)+"([^]*?)"+d(e),"gm"),n=(t=t.replace(r,"")).split("\r"),i=t.split("\n"),a=1<i.length&&i[0].length<n[0].length;if(1===n.length||a)return"\n";for(var o=0,s=0;s<n.length;s++)"\n"===n[s][0]&&o++;return o>=n.length/2?"\r\n":"\r"}(i,u)),n=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(i),m.meta.delimiter=t.delimiter);else{var c=function(e,r,n,i,a){var s,u,c,l;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var h=0;h<a.length;h++){var f=a[h],p=0,d=0,v=0;c=void 0;for(var m=new g({comments:i,delimiter:f,newline:r,preview:10}).parse(e),y=0;y<m.data.length;y++)if(n&&_(m.data[y]))v++;else{var b=m.data[y].length;d+=b,void 0!==c?0<b&&(p+=Math.abs(b-c),c=b):c=b}0<m.data.length&&(d/=m.data.length-v),(void 0===u||p<=u)&&(void 0===l||l<d)&&1.99<d&&(u=p,s=f,l=d)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(n=!0,t.delimiter=o.DefaultDelimiter),m.meta.delimiter=t.delimiter}var l=b(t);return t.preview&&t.header&&l.preview++,e=i,r=new g(l),m=r.parse(e,a,s),x(),f?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,r.abort(),e=w(t.chunk)?"":e.substring(r.getCharIndex())},this.resume=function(){c.streamer._halted?(f=!1,c.streamer.parseChunk(e,!0)):setTimeout(c.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,r.abort(),m.meta.aborted=!0,w(t.complete)&&t.complete(m),e=""}}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,r=(t=t||{}).delimiter,n=t.newline,i=t.comments,a=t.step,s=t.preview,u=t.fastMode,c=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=","),i===r)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var l=0,h=!1;this.parse=function(t,o,f){if("string"!=typeof t)throw new Error("Input must be a string");var p=t.length,g=r.length,v=n.length,m=i.length,y=w(a),b=[],_=[],x=[],S=l=0;if(!t)return N();if(u||!1!==u&&-1===t.indexOf(e)){for(var A=t.split(n),E=0;E<A.length;E++){if(x=A[E],l+=x.length,E!==A.length-1)l+=n.length;else if(f)return N();if(!i||x.substring(0,m)!==i){if(y){if(b=[],R(x.split(r)),j(),h)return N()}else R(x.split(r));if(s&&s<=E)return b=b.slice(0,s),N(!0)}}return N()}for(var O=t.indexOf(r,l),C=t.indexOf(n,l),T=new RegExp(d(c)+d(e),"g"),L=t.indexOf(e,l);;)if(t[l]!==e)if(i&&0===x.length&&t.substring(l,l+m)===i){if(-1===C)return N();l=C+v,C=t.indexOf(n,l),O=t.indexOf(r,l)}else{if(-1!==O&&(O<C||-1===C)){if(!(O<L)){x.push(t.substring(l,O)),l=O+g,O=t.indexOf(r,l);continue}var P=z(O,L,C);if(P&&void 0!==P.nextDelim){O=P.nextDelim,L=P.quoteSearch,x.push(t.substring(l,O)),l=O+g,O=t.indexOf(r,l);continue}}if(-1===C)break;if(x.push(t.substring(l,C)),D(C+v),y&&(j(),h))return N();if(s&&b.length>=s)return N(!0)}else for(L=l,l++;;){if(-1===(L=t.indexOf(e,L+1)))return f||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:l}),F();if(L===p-1)return F(t.substring(l,L).replace(T,e));if(e!==c||t[L+1]!==c){if(e===c||0===L||t[L-1]!==c){-1!==O&&O<L+1&&(O=t.indexOf(r,L+1)),-1!==C&&C<L+1&&(C=t.indexOf(n,L+1));var k=I(-1===C?O:Math.min(O,C));if(t[L+1+k]===r){x.push(t.substring(l,L).replace(T,e)),t[l=L+1+k+g]!==e&&(L=t.indexOf(e,l)),O=t.indexOf(r,l),C=t.indexOf(n,l);break}var M=I(C);if(t.substring(L+1+M,L+1+M+v)===n){if(x.push(t.substring(l,L).replace(T,e)),D(L+1+M+v),O=t.indexOf(r,l),L=t.indexOf(e,l),y&&(j(),h))return N();if(s&&b.length>=s)return N(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:l}),L++}}else L++}return F();function R(t){b.push(t),S=l}function I(e){var r=0;if(-1!==e){var n=t.substring(L+1,e);n&&""===n.trim()&&(r=n.length)}return r}function F(e){return f||(void 0===e&&(e=t.substring(l)),x.push(e),l=p,R(x),y&&j()),N()}function D(e){l=e,R(x),x=[],C=t.indexOf(n,l)}function N(t){return{data:b,errors:_,meta:{delimiter:r,linebreak:n,aborted:h,truncated:!!t,cursor:S+(o||0)}}}function j(){a(N()),b=[],_=[]}function z(n,i,a){var o={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,i+1);if(i<n&&n<s&&(s<a||-1===a)){var u=t.indexOf(r,s);if(-1===u)return o;s<u&&(s=t.indexOf(e,s+1)),o=z(u,s,a)}else o={nextDelim:n,quoteSearch:i};return o}},this.abort=function(){h=!0},this.getCharIndex=function(){return l}}function v(t){var e=t.data,r=i[e.workerId],n=!1;if(e.error)r.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){n=!0,m(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(r.userStep)){for(var o=0;o<e.results.data.length&&(r.userStep({data:e.results.data[o],errors:e.results.errors,meta:e.results.meta},a),!n);o++);delete e.results}else w(r.userChunk)&&(r.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!n&&m(e.workerId,e.results)}function m(t,e){var r=i[t];w(r.userComplete)&&r.userComplete(e),r.terminate(),delete i[t]}function y(){throw new Error("Not implemented.")}function b(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=b(t[r]);return e}function _(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return n&&(e.onmessage=function(t){var r=t.data;if(void 0===o.WORKER_ID&&r&&(o.WORKER_ID=r.workerId),"string"==typeof r.input)e.postMessage({workerId:o.WORKER_ID,results:o.parse(r.input,r.config),finished:!0});else if(e.File&&r.input instanceof File||r.input instanceof Object){var n=o.parse(r.input,r.config);n&&e.postMessage({workerId:o.WORKER_ID,results:n,finished:!0})}}),(c.prototype=Object.create(u.prototype)).constructor=c,(l.prototype=Object.create(u.prototype)).constructor=l,(h.prototype=Object.create(h.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,o})?n.apply(e,i):n)||(t.exports=a)},function(t,e,r){var n;!function(){function i(t,e,r){return t.call.apply(t.bind,arguments)}function a(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function o(t,e,r){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:a).apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var c=!!window.FontFace;function l(t,e,r,n){if(e=t.c.createElement(e),r)for(var i in r)r.hasOwnProperty(i)&&("style"==i?e.style.cssText=r[i]:e.setAttribute(i,r[i]));return n&&e.appendChild(t.c.createTextNode(n)),e}function h(t,e,r){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(r,t.lastChild)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e,r){e=e||[],r=r||[];for(var n=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var a=!1,o=0;o<n.length;o+=1)if(e[i]===n[o]){a=!0;break}a||n.push(e[i])}for(e=[],i=0;i<n.length;i+=1){for(a=!1,o=0;o<r.length;o+=1)if(n[i]===r[o]){a=!0;break}a||e.push(n[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,e){for(var r=t.className.split(/\s+/),n=0,i=r.length;n<i;n++)if(r[n]==e)return!0;return!1}function g(t,e,r){function n(){s&&i&&a&&(s(o),s=null)}e=l(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,a=!0,o=null,s=r||null;c?(e.onload=function(){i=!0,n()},e.onerror=function(){i=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout((function(){i=!0,n()}),0),h(t,"head",e)}function v(t,e,r,n){var i=t.c.getElementsByTagName("head")[0];if(i){var a=l(t,"script",{src:e}),o=!1;return a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,r&&r(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&i.removeChild(a))},i.appendChild(a),setTimeout((function(){o||(o=!0,r&&r(Error("Script load timeout")))}),n||5e3),a}return null}function m(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,_(t)}}function b(t,e){t.c=e,_(t)}function _(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function x(t,e){this.c=t,this.f=4,this.a="n";var r=(e||"n4").match(/^([nio])([1-9])$/i);r&&(this.a=r[1],this.f=parseInt(r[2],10))}function S(t){var e=[];t=t.split(/,\s*/);for(var r=0;r<t.length;r++){var n=t[r].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function A(t){return t.a+t.f}function E(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function O(t){var e=4,r="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(r=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),r+e}function C(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function T(t){if(t.g){var e=d(t.f,t.a.c("wf","active")),r=[],n=[t.a.c("wf","loading")];e||r.push(t.a.c("wf","inactive")),p(t.f,r,n)}L(t,"inactive")}function L(t,e,r){t.j&&t.h[e]&&(r?t.h[e](r.c,A(r)):t.h[e]())}function P(){this.c={}}function k(t,e){this.c=t,this.f=e,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function M(t){h(t.c,"body",t.a)}function R(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(t.c)+";font-style:"+E(t)+";font-weight:"+t.f+"00;"}function I(t,e,r,n,i,a){this.g=t,this.j=e,this.a=n,this.c=r,this.f=i||3e3,this.h=a||void 0}function F(t,e,r,n,i,a,o){this.v=t,this.B=e,this.c=r,this.a=n,this.s=o||"BESbswy",this.f={},this.w=i||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new k(this.c,this.s),this.h=new k(this.c,this.s),this.j=new k(this.c,this.s),this.m=new k(this.c,this.s),t=R(t=new x(this.a.c+",serif",A(this.a))),this.g.a.style.cssText=t,t=R(t=new x(this.a.c+",sans-serif",A(this.a))),this.h.a.style.cssText=t,t=R(t=new x("serif",A(this.a))),this.j.a.style.cssText=t,t=R(t=new x("sans-serif",A(this.a))),this.m.a.style.cssText=t,M(this.g),M(this.h),M(this.j),M(this.m)}w.prototype.c=function(t){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},I.prototype.start=function(){var t=this.c.o.document,e=this,r=s(),n=new Promise((function(n,i){!function a(){s()-r>=e.f?i():t.fonts.load(function(t){return E(t)+" "+t.f+"00 300px "+S(t.c)}(e.a),e.h).then((function(t){1<=t.length?n():setTimeout(a,25)}),(function(){i()}))}()})),i=null,a=new Promise((function(t,r){i=setTimeout(r,e.f)}));Promise.race([a,n]).then((function(){i&&(clearTimeout(i),i=null),e.g(e.a)}),(function(){e.j(e.a)}))};var D={D:"serif",C:"sans-serif"},N=null;function j(){if(null===N){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);N=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return N}function z(t,e,r){for(var n in D)if(D.hasOwnProperty(n)&&e===t.f[D[n]]&&r===t.f[D[n]])return!0;return!1}function U(t){var e,r=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=r===t.f.serif&&n===t.f["sans-serif"])||(e=j()&&z(t,r,n)),e?s()-t.A>=t.w?j()&&z(t,r,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?B(t,t.v):B(t,t.B):function(t){setTimeout(o((function(){U(this)}),t),50)}(t):B(t,t.v)}function B(t,e){setTimeout(o((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),e(this.a)}),t),0)}function V(t,e,r){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=r}F.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),U(this)};var G=null;function W(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&p(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),L(t,"active")):T(t.a))}function H(t){this.j=t,this.a=new P,this.h=0,this.f=this.g=!0}function K(t,e,r,n,i){var a=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=i||null,s=n||{};if(0===r.length&&a)T(e.a);else{e.f+=r.length,a&&(e.j=a);var u,c=[];for(u=0;u<r.length;u++){var l=r[u],h=s[l.c],f=e.a,d=l;if(f.g&&p(f.f,[f.a.c("wf",d.c,A(d).toString(),"loading")]),L(f,"fontloading",d),f=null,null===G)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);G=d?42<parseInt(d[1],10):!g}else G=!1;f=G?new I(o(e.g,e),o(e.h,e),e.c,l,e.s,h):new F(o(e.g,e),o(e.h,e),e.c,l,e.s,t,h),c.push(f)}for(u=0;u<c.length;u++)c[u].start()}}),0)}function X(t,e){this.c=t,this.a=e}function Y(t,e){this.c=t,this.a=e}function q(t,e){this.c=t||J,this.a=[],this.f=[],this.g=e||""}V.prototype.g=function(t){var e=this.a;e.g&&p(e.f,[e.a.c("wf",t.c,A(t).toString(),"active")],[e.a.c("wf",t.c,A(t).toString(),"loading"),e.a.c("wf",t.c,A(t).toString(),"inactive")]),L(e,"fontactive",t),this.m=!0,W(this)},V.prototype.h=function(t){var e=this.a;if(e.g){var r=d(e.f,e.a.c("wf",t.c,A(t).toString(),"active")),n=[],i=[e.a.c("wf",t.c,A(t).toString(),"loading")];r||n.push(e.a.c("wf",t.c,A(t).toString(),"inactive")),p(e.f,n,i)}L(e,"fontinactive",t),W(this)},H.prototype.load=function(t){this.c=new u(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,r){var n=[],i=r.timeout;!function(t){t.g&&p(t.f,[t.a.c("wf","loading")]),L(t,"loading")}(e);n=function(t,e,r){var n,i=[];for(n in e)if(e.hasOwnProperty(n)){var a=t.c[n];a&&i.push(a(e[n],r))}return i}(t.a,r,t.c);var a=new V(t.c,e,i);for(t.h=n.length,e=0,r=n.length;e<r;e++)n[e].load((function(e,r,n){K(t,a,e,r,n)}))}(this,new C(this.c,t),t)},X.prototype.load=function(t){var e=this,r=e.a.projectId,n=e.a.version;if(r){var i=e.c.o;v(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(n?"?v="+n:""),(function(n){n?t([]):(i["__MonotypeConfiguration__"+r]=function(){return e.a},function e(){if(i["__mti_fntLst"+r]){var n,a=i["__mti_fntLst"+r](),o=[];if(a)for(var s=0;s<a.length;s++){var u=a[s].fontfamily;null!=a[s].fontStyle&&null!=a[s].fontWeight?(n=a[s].fontStyle+a[s].fontWeight,o.push(new x(u,n))):o.push(new x(u))}t(o)}else setTimeout((function(){e()}),50)}())})).id="__MonotypeAPIScript__"+r}else t([])},Y.prototype.load=function(t){var e,r,n=this.a.urls||[],i=this.a.families||[],a=this.a.testStrings||{},o=new m;for(e=0,r=n.length;e<r;e++)g(this.c,n[e],y(o));var s=[];for(e=0,r=i.length;e<r;e++)if((n=i[e].split(":"))[1])for(var u=n[1].split(","),c=0;c<u.length;c+=1)s.push(new x(n[0],u[c]));else s.push(new x(n[0]));b(o,(function(){t(s,a)}))};var J="https://fonts.googleapis.com/css";function Z(t){this.f=t,this.a=[],this.c={}}var $={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function rt(t,e){this.c=t,this.a=e}var nt={Arimo:!0,Cousine:!0,Tinos:!0};function it(t,e){this.c=t,this.a=e}function at(t,e){this.c=t,this.f=e,this.a=[]}rt.prototype.load=function(t){var e=new m,r=this.c,n=new q(this.a.api,this.a.text),i=this.a.families;!function(t,e){for(var r=e.length,n=0;n<r;n++){var i=e[n].split(":");3==i.length&&t.f.push(i.pop());var a="";2==i.length&&""!=i[1]&&(a=":"),t.a.push(i.join(a))}}(n,i);var a=new Z(i);!function(t){for(var e=t.f.length,r=0;r<e;r++){var n=t.f[r].split(":"),i=n[0].replace(/\+/g," "),a=["n4"];if(2<=n.length){var o;if(o=[],s=n[1])for(var s,u=(s=s.split(",")).length,c=0;c<u;c++){var l;if((l=s[c]).match(/^[\w-]+$/))if(null==(f=et.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":tt[l],null==(f=f[1])||""==f)f="4";else var h=Q[f],f=h||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&o.push(l)}0<o.length&&(a=o),3==n.length&&(o=[],0<(n=(n=n[2])?n.split(","):o).length&&(n=$[n[0]])&&(t.c[i]=n))}for(t.c[i]||(n=$[i])&&(t.c[i]=n),n=0;n<a.length;n+=1)t.a.push(new x(i,a[n]))}}(a),g(r,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,r=[],n=0;n<e;n++)r.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+r.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),y(e)),b(e,(function(){t(a.a,a.c,nt)}))},it.prototype.load=function(t){var e=this.a.id,r=this.c.o;e?v(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(r.Typekit&&r.Typekit.config&&r.Typekit.config.fn){e=r.Typekit.config.fn;for(var n=[],i=0;i<e.length;i+=2)for(var a=e[i],o=e[i+1],s=0;s<o.length;s++)n.push(new x(a,o[s]));try{r.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(n)}}),2e3):t([])},at.prototype.load=function(t){var e=this.f.id,r=this.c.o,n=this;e?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[e]=function(e,r){for(var i=0,a=r.fonts.length;i<a;++i){var o=r.fonts[i];n.a.push(new x(o.name,O("font-weight:"+o.weight+";font-style:"+o.style)))}t(n.a)},v(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var ot=new H(window);ot.a.c.custom=function(t,e){return new Y(e,t)},ot.a.c.fontdeck=function(t,e){return new at(e,t)},ot.a.c.monotype=function(t,e){return new X(e,t)},ot.a.c.typekit=function(t,e){return new it(e,t)},ot.a.c.google=function(t,e){return new rt(e,t)};var st={load:o(ot.load,ot)};void 0===(n=function(){return st}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){r.d(e,"a",(function(){return a}));var n=r(206),i=r.n(n);class a extends i.a{
/*!
 * ToggoApi
 * © Flying Sheep Studios
 * https://flying-sheep.com
 * @preserve
 */
constructor(t="fstest",e=600,r=600){super(),this._gameId=t,this._scoresToPull=null,this._toggoHighscore=null,this._toggoTracking=null,this._toggoAppMessage=null,this._nextMidrollTime=Date.now()/1e3+e,this._midRollInterval=r;try{"Highscore"in window.parent&&(this._toggoHighscore=new window.parent.Highscore,this._toggoHighscore.addEventListener(window.parent.Event.ERROR,t=>{if("string"==typeof t.object){const e=t.object.split("&");for(let t=0;t<e.length;t++)if(""!==e[t]){const r=e[t].split("=");if("written"===r[0]&&0===r[1])return void this.emitEvent(a.event.ERROR_BADWORD)}}this.emitEvent(a.event.ERROR)}),this._toggoHighscore.addEventListener(window.parent.Event.ADDED,()=>{this.emitEvent(a.event.ADDED)}),this._toggoHighscore.addEventListener(window.parent.Event.LOADED,t=>{this.emitEvent(a.event.LOADED,[this._parseResult(t.object)])}))}catch(t){}try{"AssistToggo"in window.parent&&(this._toggoTracking=window.parent.AssistToggo,"sendAppMessage"in window.parent.AssistToggo&&(this._toggoAppMessage=window.parent.AssistToggo.sendAppMessage))}catch(t){}}track(t){this._toggoTracking?this._toggoTracking.sendIVWTag(t,window.location):console.log("toggoTracking",t)}pushScore(t,e){this._toggoHighscore?this._toggoHighscore.addHighscoreTableData(this._gameId,t,e):(console.log("highscorePush",this._gameId,t,e),this.emitEvent(a.event.ADDED))}pullScores(t,e){t=t||10,e=e||a.sortOrder.DESC,this._scoresToPull=t,this._toggoHighscore?this._toggoHighscore.getHighscoreTableData(this._gameId,t,e):(console.log("highscorePull",this._gameId,t,e),this.emitEvent(a.event.LOADED,[this._parseResult([])]))}showMidRoll(){const t=Date.now()/1e3;t>this._nextMidrollTime?(this._toggoAppMessage?this._toggoAppMessage("startmidroll"):console.log("showMidRoll"),this._nextMidrollTime=t+this._midRollInterval):this._toggoAppMessage||console.log(`next midRoll in ${this._nextMidrollTime-t} seconds`)}_parseResult(t){const e=[];for(const r in t){const n=r.split("_"),i=n[0],o=n[1]-1;let s=t[r];i===a._fieldTranslationFsToEoa.position&&(s=s.replace(".","")),o in e||(e[o]={}),e[o][a._fieldTranslationEoaToFs[i]]=s}if(e.sort((t,e)=>t.position-e.position),this._scoresToPull&&e.length<this._scoresToPull){let t=0;e.length>0&&(t=e[e.length-1].position);do{t++,e.push({position:t,score:0,nickName:"Player"})}while(e.length<this._scoresToPull)}return e}}a.sortOrder={ASC:"ASC",DESC:"DESC"},a.event={ADDED:"added",LOADED:"loaded",ERROR:"error",ERROR_BADWORD:"error_badword"},a._fieldTranslationFsToEoa={position:"platz",score:"punkte",nickName:"nickname"},a._fieldTranslationEoaToFs={platz:"position",punkte:"score",nickname:"nickName"}},function(t,e,r){var n;
/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */!function(e){function i(){}var a=i.prototype,o=e.EventEmitter;function s(t,e){for(var r=t.length;r--;)if(t[r].listener===e)return r;return-1}function u(t){return function(){return this[t].apply(this,arguments)}}a.getListeners=function(t){var e,r,n=this._getEvents();if(t instanceof RegExp)for(r in e={},n)n.hasOwnProperty(r)&&t.test(r)&&(e[r]=n[r]);else e=n[t]||(n[t]=[]);return e},a.flattenListeners=function(t){var e,r=[];for(e=0;e<t.length;e+=1)r.push(t[e].listener);return r},a.getListenersAsObject=function(t){var e,r=this.getListeners(t);return r instanceof Array&&((e={})[t]=r),e||r},a.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var r,n=this.getListenersAsObject(t),i="object"==typeof e;for(r in n)n.hasOwnProperty(r)&&-1===s(n[r],e)&&n[r].push(i?e:{listener:e,once:!1});return this},a.on=u("addListener"),a.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},a.once=u("addOnceListener"),a.defineEvent=function(t){return this.getListeners(t),this},a.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},a.removeListener=function(t,e){var r,n,i=this.getListenersAsObject(t);for(n in i)i.hasOwnProperty(n)&&-1!==(r=s(i[n],e))&&i[n].splice(r,1);return this},a.off=u("removeListener"),a.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},a.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},a.manipulateListeners=function(t,e,r){var n,i,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=r.length;n--;)a.call(this,e,r[n]);else for(n in e)e.hasOwnProperty(n)&&(i=e[n])&&("function"==typeof i?a.call(this,n,i):o.call(this,n,i));return this},a.removeEvent=function(t){var e,r=typeof t,n=this._getEvents();if("string"===r)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},a.removeAllListeners=u("removeEvent"),a.emitEvent=function(t,e){var r,n,i,a,o=this.getListenersAsObject(t);for(a in o)if(o.hasOwnProperty(a))for(r=o[a].slice(0),i=0;i<r.length;i++)!0===(n=r[i]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},a.trigger=u("emitEvent"),a.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},a.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return e.EventEmitter=o,i},void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)}("undefined"!=typeof window?window:this||{})},,function(t,e,r){(function(t){var n,i,a=r(0),o={distributions:{BOX:1,SPHERE:2,DISC:3},valueOverLifetimeLength:4};
/**
@preserve
* shader-particle-engine 1.0.5
*
* (c) 2015 Luke Moody (http://www.github.com/squarefeet)
* Originally based on Lee Stemkoski's original work (https://github.com/stemkoski/stemkoski.github.com/blob/master/Three.js/js/ParticleEngine.js).
* shader-particle-engine may be freely distributed under the MIT license (See LICENSE at root of this repository.)
* License
* Copyright (C) 2015 Luke Moody
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*
* SheepFX
* SPE lib wrapper by Emil Larsson (emil@flying-sheep.com)
* Dependencies:
* three.js (v 81)
* SPE.js (v 1.0.5)
*/function s(){this.groups=[],this.screenScale=180}"function"==typeof define&&r(507)?define("spe",o):"undefined"!=typeof exports&&void 0!==t&&(t.exports=o),o.TypedArrayHelper=function(t,e,r,n){this.componentSize=r||1,this.size=e||1,this.TypedArrayConstructor=t||Float32Array,this.array=new t(e*this.componentSize),this.indexOffset=n||0},o.TypedArrayHelper.constructor=o.TypedArrayHelper,o.TypedArrayHelper.prototype.setSize=function(t,e){var r=this.array.length;return e||(t*=this.componentSize),t<r?this.shrink(t):t>r?this.grow(t):void console.info("TypedArray is already of size:",t+".","Will not resize.")},o.TypedArrayHelper.prototype.shrink=function(t){return this.array=this.array.subarray(0,t),this.size=t,this},o.TypedArrayHelper.prototype.grow=function(t){var e=this.array,r=new this.TypedArrayConstructor(t);return r.set(e),this.array=r,this.size=t,this},o.TypedArrayHelper.prototype.splice=function(t,e){t*=this.componentSize,e*=this.componentSize;for(var r=[],n=this.array,i=n.length,a=0;a<i;++a)(a<t||a>=e)&&r.push(n[a]);return this.setFromArray(0,r),this},o.TypedArrayHelper.prototype.setFromArray=function(t,e){var r=t+e.length;return r>this.array.length?this.grow(r):r<this.array.length&&this.shrink(r),this.array.set(e,this.indexOffset+t),this},o.TypedArrayHelper.prototype.setVec2=function(t,e){return this.setVec2Components(t,e.x,e.y)},o.TypedArrayHelper.prototype.setVec2Components=function(t,e,r){var n=this.array,i=this.indexOffset+t*this.componentSize;return n[i]=e,n[i+1]=r,this},o.TypedArrayHelper.prototype.setVec3=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},o.TypedArrayHelper.prototype.setVec3Components=function(t,e,r,n){var i=this.array,a=this.indexOffset+t*this.componentSize;return i[a]=e,i[a+1]=r,i[a+2]=n,this},o.TypedArrayHelper.prototype.setVec4=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},o.TypedArrayHelper.prototype.setVec4Components=function(t,e,r,n,i){var a=this.array,o=this.indexOffset+t*this.componentSize;return a[o]=e,a[o+1]=r,a[o+2]=n,a[o+3]=i,this},o.TypedArrayHelper.prototype.setMat3=function(t,e){return this.setFromArray(this.indexOffset+t*this.componentSize,e.elements)},o.TypedArrayHelper.prototype.setMat4=function(t,e){return this.setFromArray(this.indexOffset+t*this.componentSize,e.elements)},o.TypedArrayHelper.prototype.setColor=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},o.TypedArrayHelper.prototype.setNumber=function(t,e){return this.array[this.indexOffset+t*this.componentSize]=e,this},o.TypedArrayHelper.prototype.getValueAtIndex=function(t){return this.array[this.indexOffset+t]},o.TypedArrayHelper.prototype.getComponentValueAtIndex=function(t){return this.array.subarray(this.indexOffset+t*this.componentSize)},o.ShaderAttribute=function(t,e,r){var n=o.ShaderAttribute.typeSizeMap;this.type="string"==typeof t&&n.hasOwnProperty(t)?t:"f",this.componentSize=n[this.type],this.arrayType=r||Float32Array,this.typedArray=null,this.bufferAttribute=null,this.dynamicBuffer=!!e,this.updateMin=0,this.updateMax=0},o.ShaderAttribute.constructor=o.ShaderAttribute,o.ShaderAttribute.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},o.ShaderAttribute.prototype.setUpdateRange=function(t,e){this.updateMin=Math.min(t*this.componentSize,this.updateMin*this.componentSize),this.updateMax=Math.max(e*this.componentSize,this.updateMax*this.componentSize)},o.ShaderAttribute.prototype.flagUpdate=function(){var t=this.bufferAttribute,e=t.updateRange;e.offset=this.updateMin,e.count=Math.min(this.updateMax-this.updateMin+this.componentSize,this.typedArray.array.length),t.needsUpdate=!0},o.ShaderAttribute.prototype.resetUpdateRange=function(){this.updateMin=0,this.updateMax=0},o.ShaderAttribute.prototype.resetDynamic=function(){this.bufferAttribute.dynamic=this.dynamicBuffer},o.ShaderAttribute.prototype.splice=function(t,e){this.typedArray.splice(t,e),this.forceUpdateAll()},o.ShaderAttribute.prototype.forceUpdateAll=function(){this.bufferAttribute.array=this.typedArray.array,this.bufferAttribute.updateRange.offset=0,this.bufferAttribute.updateRange.count=-1,this.bufferAttribute.dynamic=!1,this.bufferAttribute.needsUpdate=!0},o.ShaderAttribute.prototype._ensureTypedArray=function(t){null!==this.typedArray&&this.typedArray.size===t*this.componentSize||(null!==this.typedArray&&this.typedArray.size!==t?this.typedArray.setSize(t):null===this.typedArray&&(this.typedArray=new o.TypedArrayHelper(this.arrayType,t,this.componentSize)))},o.ShaderAttribute.prototype._createBufferAttribute=function(t){if(this._ensureTypedArray(t),null!==this.bufferAttribute)return this.bufferAttribute.array=this.typedArray.array,parseFloat(a.pb)>=81&&(this.bufferAttribute.count=this.bufferAttribute.array.length/this.bufferAttribute.itemSize),void(this.bufferAttribute.needsUpdate=!0);this.bufferAttribute=new a.h(this.typedArray.array,this.componentSize),this.bufferAttribute.dynamic=this.dynamicBuffer},o.ShaderAttribute.prototype.getLength=function(){return null===this.typedArray?0:this.typedArray.array.length},o.shaderChunks={defines:["#define PACKED_COLOR_SIZE 256.0","#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:["uniform float deltaTime;","uniform float runTime;","uniform sampler2D texture;","uniform vec4 textureAnimation;","uniform float scale;"].join("\n"),attributes:["attribute vec4 acceleration;","attribute vec3 velocity;","attribute vec4 rotation;","attribute vec3 rotationCenter;","attribute vec4 params;","attribute vec4 size;","attribute vec4 angle;","attribute vec4 color;","attribute vec4 opacity;"].join("\n"),varyings:["varying vec4 vColor;","#ifdef SHOULD_ROTATE_TEXTURE","    varying float vAngle;","#endif","#ifdef SHOULD_CALCULATE_SPRITE","    varying vec4 vSpriteSheet;","#endif"].join("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {","    return max(sign(x - y), 0.0);","}","float when_lt(float x, float y) {","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}","float when_ge(float x, float y) {","  return 1.0 - when_lt(x, y);","}","float when_le(float x, float y) {","  return 1.0 - when_gt(x, y);","}","float and(float a, float b) {","    return a * b;","}","float or(float a, float b) {","    return min(a + b, 1.0);","}"].join("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   return c;","}"].join("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   c *= vec3( 2.0 );","   c -= vec3( 1.0 );","   return c;","}"].join("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","    highp float value = 0.0;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    float fIndex = 0.0;","    float shouldApplyValue = 0.0;","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","       fIndex = float( i );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    }","","    return value;","}"].join("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    return value;","}"].join("\n"),paramFetchingFunctions:["float getAlive() {","   return params.x;","}","float getAge() {","   return params.y;","}","float getMaxAge() {","   return params.z;","}","float getWiggle() {","   return params.w;","}"].join("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {","   return modelViewMatrix * vec4( position, 1.0 );","}","vec3 getVelocity( in float age ) {","   return velocity * age;","}","vec3 getAcceleration( in float age ) {","   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","       axis = normalize(axis);","       float s = sin(angle);","       float c = cos(angle);","       float oc = 1.0 - c;","","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","                   0.0,                                0.0,                                0.0,                                1.0);","   }","","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","      if( rotation.y == 0.0 ) {","           return pos;","      }","","      vec3 axis = unpackRotationAxis( rotation.x );","      vec3 center = rotationCenter;","      vec3 translated;","      mat4 rotationMatrix;","      float angle = 0.0;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      translated = rotationCenter - pos;","      rotationMatrix = getRotationMatrix( axis, angle );","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }","#endif"].join("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","","    #ifdef SHOULD_ROTATE_TEXTURE","       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;","       float c = cos( -vAngle );","       float s = sin( -vAngle );","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    #endif","","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = vSpriteSheet.x;","        float framesY = vSpriteSheet.y;","        float columnNorm = vSpriteSheet.z;","        float rowNorm = vSpriteSheet.w;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","    #endif","","    vec4 rotatedTexture = texture2D( texture, vUv );"].join("\n")},o.shaders={vertex:[o.shaderChunks.defines,o.shaderChunks.uniforms,o.shaderChunks.attributes,o.shaderChunks.varyings,a.ub.common,a.ub.logdepthbuf_pars_vertex,a.ub.fog_pars_vertex,o.shaderChunks.branchAvoidanceFunctions,o.shaderChunks.unpackColor,o.shaderChunks.unpackRotationAxis,o.shaderChunks.floatOverLifetime,o.shaderChunks.colorOverLifetime,o.shaderChunks.paramFetchingFunctions,o.shaderChunks.forceFetchingFunctions,o.shaderChunks.rotationFunctions,"void main() {","    highp float age = getAge();","    highp float alive = getAlive();","    highp float maxAge = getMaxAge();","    highp float positionInTime = (age / maxAge);","    highp float isAlive = when_gt( alive, 0.0 );","    #ifdef SHOULD_WIGGLE_PARTICLES","        float wiggleAmount = positionInTime * getWiggle();","        float wiggleSin = isAlive * sin( wiggleAmount );","        float wiggleCos = isAlive * cos( wiggleAmount );","    #endif","    vec3 vel = getVelocity( age );","    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );","    vec3 pos = vec3( position );","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","    force += vel;","    force *= drag;","    force += accel * age;","    pos += force;","    #ifdef SHOULD_WIGGLE_PARTICLES","        pos.x += wiggleSin;","        pos.y += wiggleCos;","        pos.z += wiggleSin;","    #endif","    #ifdef SHOULD_ROTATE_PARTICLES","        pos = getRotation( pos, positionInTime );","    #endif","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    #ifdef HAS_PERSPECTIVE","        float perspective = scale / length( mvPosition.xyz );","    #else","        float perspective = 1.0;","    #endif","    float pointSizePerspective = pointSize * perspective;","    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(","           positionInTime,","           unpackColor( color.x ),","           unpackColor( color.y ),","           unpackColor( color.z ),","           unpackColor( color.w )","       );","    #else","       vec3 c = vec3(1.0);","    #endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","    vColor = vec4( c, o );","    #ifdef SHOULD_ROTATE_TEXTURE","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    #endif","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = textureAnimation.x;","        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;","        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;","        float rowNorm = row / framesY;","        vSpriteSheet.x = 1.0 / framesX;","        vSpriteSheet.y = 1.0 / framesY;","        vSpriteSheet.z = columnNorm;","        vSpriteSheet.w = rowNorm;","    #endif","    gl_PointSize = pointSizePerspective;","    gl_Position = projectionMatrix * mvPosition;",a.ub.logdepthbuf_vertex,a.ub.fog_vertex,"}"].join("\n"),fragment:[o.shaderChunks.uniforms,a.ub.common,a.ub.fog_pars_fragment,a.ub.logdepthbuf_pars_fragment,o.shaderChunks.varyings,o.shaderChunks.branchAvoidanceFunctions,"void main() {","    vec3 outgoingLight = vColor.xyz;","    ","    #ifdef ALPHATEST","       if ( vColor.w < float(ALPHATEST) ) discard;","    #endif",o.shaderChunks.rotateTexture,a.ub.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",a.ub.fog_fragment,"}"].join("\n")},o.utils={types:{BOOLEAN:"boolean",STRING:"string",NUMBER:"number",OBJECT:"object"},ensureTypedArg:function(t,e,r){return typeof t===e?t:r},ensureArrayTypedArg:function(t,e,r){if(Array.isArray(t)){for(var n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return r;return t}return this.ensureTypedArg(t,e,r)},ensureInstanceOf:function(t,e,r){return void 0!==e&&t instanceof e?t:r},ensureArrayInstanceOf:function(t,e,r){if(Array.isArray(t)){for(var n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return r;return t}return this.ensureInstanceOf(t,e,r)},ensureValueOverLifetimeCompliance:function(t,e,r){e=e||3,r=r||3,!1===Array.isArray(t._value)&&(t._value=[t._value]),!1===Array.isArray(t._spread)&&(t._spread=[t._spread]);var n=this.clamp(t._value.length,e,r),i=this.clamp(t._spread.length,e,r),a=Math.max(n,i);t._value.length!==a&&(t._value=this.interpolateArray(t._value,a)),t._spread.length!==a&&(t._spread=this.interpolateArray(t._spread,a))},interpolateArray:function(t,e){for(var r=t.length,n=["function"==typeof t[0].clone?t[0].clone():t[0]],i=(r-1)/(e-1),a=1;a<e-1;++a){var o=a*i,s=Math.floor(o),u=Math.ceil(o),c=o-s;n[a]=this.lerpTypeAgnostic(t[s],t[u],c)}return n.push("function"==typeof t[r-1].clone?t[r-1].clone():t[r-1]),n},clamp:function(t,e,r){return Math.max(e,Math.min(t,r))},zeroToEpsilon:function(t,e){var r=t;return r=e?1e-5*Math.random()*10:1e-5,t<0&&t>-1e-5&&(r=-r),r},lerpTypeAgnostic:function(t,e,r){var n,i=this.types;return typeof t===i.NUMBER&&typeof e===i.NUMBER?t+(e-t)*r:t instanceof a.Nb&&e instanceof a.Nb?((n=t.clone()).x=this.lerp(t.x,e.x,r),n.y=this.lerp(t.y,e.y,r),n):t instanceof a.Ob&&e instanceof a.Ob?((n=t.clone()).x=this.lerp(t.x,e.x,r),n.y=this.lerp(t.y,e.y,r),n.z=this.lerp(t.z,e.z,r),n):t instanceof a.Pb&&e instanceof a.Pb?((n=t.clone()).x=this.lerp(t.x,e.x,r),n.y=this.lerp(t.y,e.y,r),n.z=this.lerp(t.z,e.z,r),n.w=this.lerp(t.w,e.w,r),n):t instanceof a.m&&e instanceof a.m?((n=t.clone()).r=this.lerp(t.r,e.r,r),n.g=this.lerp(t.g,e.g,r),n.b=this.lerp(t.b,e.b,r),n):void console.warn("Invalid argument types, or argument types do not match:",t,e)},lerp:function(t,e,r){return t+(e-t)*r},roundToNearestMultiple:function(t,e){var r;return 0===e||0===(r=Math.abs(t)%e)?t:t<0?-(Math.abs(t)-r):t+e-r},arrayValuesAreEqual:function(t){for(var e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:function(t,e){return t+e*(Math.random()-.5)},randomVector3:function(t,e,r,n,i){var a=r.x+(Math.random()*n.x-.5*n.x),o=r.y+(Math.random()*n.y-.5*n.y),s=r.z+(Math.random()*n.z-.5*n.z);i&&(a=.5*-i.x+this.roundToNearestMultiple(a,i.x),o=.5*-i.y+this.roundToNearestMultiple(o,i.y),s=.5*-i.z+this.roundToNearestMultiple(s,i.z)),t.typedArray.setVec3Components(e,a,o,s)},randomColor:function(t,e,r,n){var i=r.r+Math.random()*n.x,a=r.g+Math.random()*n.y,o=r.b+Math.random()*n.z;i=this.clamp(i,0,1),a=this.clamp(a,0,1),o=this.clamp(o,0,1),t.typedArray.setVec3Components(e,i,a,o)},randomColorAsHex:(i=new a.m,function(t,e,r,n){for(var a=r.length,o=[],s=0;s<a;++s){var u=n[s];i.copy(r[s]),i.r+=Math.random()*u.x-.5*u.x,i.g+=Math.random()*u.y-.5*u.y,i.b+=Math.random()*u.z-.5*u.z,i.r=this.clamp(i.r,0,1),i.g=this.clamp(i.g,0,1),i.b=this.clamp(i.b,0,1),o.push(i.getHex())}t.typedArray.setVec4Components(e,o[0],o[1],o[2],o[3])}),randomVector3OnSphere:function(t,e,r,n,i,a,o,s){var u=2*Math.random()-1,c=6.2832*Math.random(),l=Math.sqrt(1-u*u),h=this.randomFloat(n,i),f=0,p=0,d=0;o&&(h=Math.round(h/o)*o),f=l*Math.cos(c)*h,p=l*Math.sin(c)*h,d=u*h,f*=a.x,p*=a.y,d*=a.z,f+=r.x,p+=r.y,d+=r.z,t.typedArray.setVec3Components(e,f,p,d)},seededRandom:function(t){var e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc:function(t,e,r,n,i,a,o){var s=6.2832*Math.random(),u=Math.abs(this.randomFloat(n,i)),c=0,l=0,h=0;o&&(u=Math.round(u/o)*o),c=Math.cos(s)*u,l=Math.sin(s)*u,c*=a.x,l*=a.y,c+=r.x,l+=r.y,h+=r.z,t.typedArray.setVec3Components(e,c,l,h)},randomDirectionVector3OnSphere:(n=new a.Ob,function(t,e,r,i,a,o,s,u){n.copy(o),n.x-=r,n.y-=i,n.z-=a,n.normalize().multiplyScalar(-this.randomFloat(s,u)),t.typedArray.setVec3Components(e,n.x,n.y,n.z)}),randomDirectionVector3OnDisc:function(){var t=new a.Ob;return function(e,r,n,i,a,o,s,u){t.copy(o),t.x-=n,t.y-=i,t.z-=a,t.normalize().multiplyScalar(-this.randomFloat(s,u)),e.typedArray.setVec3Components(r,t.x,t.y,0)}}(),getPackedRotationAxis:function(){var t=new a.Ob,e=new a.Ob,r=new a.m,n=new a.Ob(1,1,1);return function(i,a){return t.copy(i).normalize(),e.copy(a).normalize(),t.x+=.5*-a.x+Math.random()*a.x,t.y+=.5*-a.y+Math.random()*a.y,t.z+=.5*-a.z+Math.random()*a.z,t.normalize().add(n).multiplyScalar(.5),r.setRGB(t.x,t.y,t.z),r.getHex()}}()},o.Group=function(t){var e=o.utils,r=e.types;(t=e.ensureTypedArg(t,r.OBJECT,{})).texture=e.ensureTypedArg(t.texture,r.OBJECT,{}),this.uuid=a.S.generateUUID(),this.fixedTimeStep=e.ensureTypedArg(t.fixedTimeStep,r.NUMBER,.016),this.texture=e.ensureInstanceOf(t.texture.value,a.Db,null),this.textureFrames=e.ensureInstanceOf(t.texture.frames,a.Nb,new a.Nb(1,1)),this.textureFrameCount=e.ensureTypedArg(t.texture.frameCount,r.NUMBER,this.textureFrames.x*this.textureFrames.y),this.textureLoop=e.ensureTypedArg(t.texture.loop,r.NUMBER,1),this.textureFrames.max(new a.Nb(1,1)),this.hasPerspective=e.ensureTypedArg(t.hasPerspective,r.BOOLEAN,!0),this.colorize=e.ensureTypedArg(t.colorize,r.BOOLEAN,!0),this.maxParticleCount=e.ensureTypedArg(t.maxParticleCount,r.NUMBER,null),this.blending=e.ensureTypedArg(t.blending,r.NUMBER,a.a),this.transparent=e.ensureTypedArg(t.transparent,r.BOOLEAN,!0),this.alphaTest=parseFloat(e.ensureTypedArg(t.alphaTest,r.NUMBER,0)),this.depthWrite=e.ensureTypedArg(t.depthWrite,r.BOOLEAN,!1),this.depthTest=e.ensureTypedArg(t.depthTest,r.BOOLEAN,!0),this.fog=e.ensureTypedArg(t.fog,r.BOOLEAN,!0),this.scale=e.ensureTypedArg(t.scale,r.NUMBER,300),this.emitters=[],this.emitterIDs=[],this._pool=[],this._poolCreationSettings=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!1,this.particleCount=0,this.uniforms={texture:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new a.Pb(this.textureFrames.x,this.textureFrames.y,this.textureFrameCount,Math.max(Math.abs(this.textureLoop),1))},fogColor:{type:"c",value:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:o.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this.textureFrames.y>1},this.attributes={position:new o.ShaderAttribute("v3",!0),acceleration:new o.ShaderAttribute("v4",!0),velocity:new o.ShaderAttribute("v3",!0),rotation:new o.ShaderAttribute("v4",!0),rotationCenter:new o.ShaderAttribute("v3",!0),params:new o.ShaderAttribute("v4",!0),size:new o.ShaderAttribute("v4",!0),angle:new o.ShaderAttribute("v4",!0),color:new o.ShaderAttribute("v4",!0),opacity:new o.ShaderAttribute("v4",!0)},this.attributeKeys=Object.keys(this.attributes),this.attributeCount=this.attributeKeys.length,this.material=new a.wb({uniforms:this.uniforms,vertexShader:o.shaders.vertex,fragmentShader:o.shaders.fragment,blending:this.blending,transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this.depthWrite,depthTest:this.depthTest,defines:this.defines,fog:this.fog}),this.geometry=new a.i,this.mesh=new a.kb(this.geometry,this.material),null===this.maxParticleCount&&console.warn("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},o.Group.constructor=o.Group,o.Group.prototype._updateDefines=function(){for(var t,e=this.emitters,r=e.length-1,n=this.defines;r>=0;--r)t=e[r],n.SHOULD_CALCULATE_SPRITE||(n.SHOULD_ROTATE_TEXTURE=n.SHOULD_ROTATE_TEXTURE||!!Math.max(Math.max.apply(null,t.angle.value),Math.max.apply(null,t.angle.spread))),n.SHOULD_ROTATE_PARTICLES=n.SHOULD_ROTATE_PARTICLES||!!Math.max(t.rotation.angle,t.rotation.angleSpread),n.SHOULD_WIGGLE_PARTICLES=n.SHOULD_WIGGLE_PARTICLES||!!Math.max(t.wiggle.value,t.wiggle.spread);this.material.needsUpdate=!0},o.Group.prototype._applyAttributesToGeometry=function(){var t,e,r=this.attributes,n=this.geometry,i=n.attributes;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],(e=i[a])?e.array=t.typedArray.array:n.addAttribute(a,t.bufferAttribute),t.bufferAttribute.needsUpdate=!0);this.geometry.setDrawRange(0,this.particleCount)},o.Group.prototype.addEmitter=function(t){if(t instanceof o.Emitter!=!1)if(this.emitterIDs.indexOf(t.uuid)>-1)console.error("Emitter already exists in this group. Will not add again.");else{if(null===t.group){var e=this.attributes,r=this.particleCount,n=r+t.particleCount;for(var i in this.particleCount=n,null!==this.maxParticleCount&&this.particleCount>this.maxParticleCount&&console.warn("SPE.Group: maxParticleCount exceeded. Requesting",this.particleCount,"particles, can support only",this.maxParticleCount),t._calculatePPSValue(t.maxAge._value+t.maxAge._spread),t._setBufferUpdateRanges(this.attributeKeys),t._setAttributeOffset(r),t.group=this,t.attributes=this.attributes,e)e.hasOwnProperty(i)&&e[i]._createBufferAttribute(null!==this.maxParticleCount?this.maxParticleCount:this.particleCount);for(var a=r;a<n;++a)t._assignPositionValue(a),t._assignForceValue(a,"velocity"),t._assignForceValue(a,"acceleration"),t._assignAbsLifetimeValue(a,"opacity"),t._assignAbsLifetimeValue(a,"size"),t._assignAngleValue(a),t._assignRotationValue(a),t._assignParamsValue(a),t._assignColorValue(a);return this._applyAttributesToGeometry(),this.emitters.push(t),this.emitterIDs.push(t.uuid),this._updateDefines(t),this.material.needsUpdate=!0,this.geometry.needsUpdate=!0,this._attributesNeedRefresh=!0,this}console.error("Emitter already belongs to another group. Will not add to requested group.")}else console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t)},o.Group.prototype.removeEmitter=function(t){var e=this.emitterIDs.indexOf(t.uuid);if(t instanceof o.Emitter!=!1)if(-1!==e){for(var r=t.attributeOffset,n=r+t.particleCount,i=this.attributes.params.typedArray,a=r;a<n;++a)i.array[4*a]=0,i.array[4*a+1]=0;for(var s in this.emitters.splice(e,1),this.emitterIDs.splice(e,1),this.attributes)this.attributes.hasOwnProperty(s)&&this.attributes[s].splice(r,n);this.particleCount-=t.particleCount,t._onRemove(),this._attributesNeedRefresh=!0}else console.error("Emitter does not exist in this group. Will not remove.");else console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t)},o.Group.prototype.getFromPool=function(){var t=this._pool,e=this._createNewWhenPoolEmpty;if(t.length)return t.pop();if(e){var r=new o.Emitter(this._poolCreationSettings);return this.addEmitter(r),r}return null},o.Group.prototype.releaseIntoPool=function(t){if(t instanceof o.Emitter!=!1)return t.reset(),this._pool.unshift(t),this;console.error("Argument is not instanceof SPE.Emitter:",t)},o.Group.prototype.getPool=function(){return this._pool},o.Group.prototype.addPool=function(t,e,r){var n;this._poolCreationSettings=e,this._createNewWhenPoolEmpty=!!r;for(var i=0;i<t;++i)n=Array.isArray(e)?new o.Emitter(e[i]):new o.Emitter(e),this.addEmitter(n),this.releaseIntoPool(n);return this},o.Group.prototype._triggerSingleEmitter=function(t){var e=this.getFromPool(),r=this;if(null!==e)return t instanceof a.Ob&&(e.position.value.copy(t),e.position.value=e.position.value),e.enable(),setTimeout((function(){e.disable(),r.releaseIntoPool(e)}),1e3*Math.max(e.duration,e.maxAge.value+e.maxAge.spread)),this;console.log("SPE.Group pool ran out.")},o.Group.prototype.triggerPoolEmitter=function(t,e){if("number"==typeof t&&t>1)for(var r=0;r<t;++r)this._triggerSingleEmitter(e);else this._triggerSingleEmitter(e);return this},o.Group.prototype._updateUniforms=function(t){this.uniforms.runTime.value+=t,this.uniforms.deltaTime.value=t},o.Group.prototype._resetBufferRanges=function(){for(var t=this.attributeKeys,e=this.attributeCount-1,r=this.attributes;e>=0;--e)r[t[e]].resetUpdateRange()},o.Group.prototype._updateBuffers=function(t){for(var e,r,n,i=this.attributeKeys,a=this.attributeCount-1,o=this.attributes,s=t.bufferUpdateRanges;a>=0;--a)r=s[e=i[a]],(n=o[e]).setUpdateRange(r.min,r.max),n.flagUpdate()},o.Group.prototype.tick=function(t){var e=this.emitters,r=e.length,n=t||this.fixedTimeStep,i=this.attributeKeys,a=this.attributes;if(this._updateUniforms(n),this._resetBufferRanges(),0!==r||!1!==this._attributesNeedRefresh||!1!==this._attributesNeedDynamicReset){for(var o,s=0;s<r;++s)(o=e[s]).tick(n),this._updateBuffers(o);if(!0===this._attributesNeedDynamicReset){for(s=this.attributeCount-1;s>=0;--s)a[i[s]].resetDynamic();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(s=this.attributeCount-1;s>=0;--s)a[i[s]].forceUpdateAll();this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!0}}},o.Group.prototype.dispose=function(){return this.geometry.dispose(),this.material.dispose(),this},o.Emitter=function(t){var e=o.utils,r=e.types,n=o.valueOverLifetimeLength;for(var i in(t=e.ensureTypedArg(t,r.OBJECT,{})).position=e.ensureTypedArg(t.position,r.OBJECT,{}),t.velocity=e.ensureTypedArg(t.velocity,r.OBJECT,{}),t.acceleration=e.ensureTypedArg(t.acceleration,r.OBJECT,{}),t.radius=e.ensureTypedArg(t.radius,r.OBJECT,{}),t.drag=e.ensureTypedArg(t.drag,r.OBJECT,{}),t.rotation=e.ensureTypedArg(t.rotation,r.OBJECT,{}),t.color=e.ensureTypedArg(t.color,r.OBJECT,{}),t.opacity=e.ensureTypedArg(t.opacity,r.OBJECT,{}),t.size=e.ensureTypedArg(t.size,r.OBJECT,{}),t.angle=e.ensureTypedArg(t.angle,r.OBJECT,{}),t.wiggle=e.ensureTypedArg(t.wiggle,r.OBJECT,{}),t.maxAge=e.ensureTypedArg(t.maxAge,r.OBJECT,{}),t.onParticleSpawn&&console.warn("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this.uuid=a.S.generateUUID(),this.type=e.ensureTypedArg(t.type,r.NUMBER,o.distributions.BOX),this.position={_value:e.ensureInstanceOf(t.position.value,a.Ob,new a.Ob),_spread:e.ensureInstanceOf(t.position.spread,a.Ob,new a.Ob),_spreadClamp:e.ensureInstanceOf(t.position.spreadClamp,a.Ob,new a.Ob),_distribution:e.ensureTypedArg(t.position.distribution,r.NUMBER,this.type),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1),_radius:e.ensureTypedArg(t.position.radius,r.NUMBER,10),_radiusScale:e.ensureInstanceOf(t.position.radiusScale,a.Ob,new a.Ob(1,1,1)),_distributionClamp:e.ensureTypedArg(t.position.distributionClamp,r.NUMBER,0)},this.velocity={_value:e.ensureInstanceOf(t.velocity.value,a.Ob,new a.Ob),_spread:e.ensureInstanceOf(t.velocity.spread,a.Ob,new a.Ob),_distribution:e.ensureTypedArg(t.velocity.distribution,r.NUMBER,this.type),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)},this.acceleration={_value:e.ensureInstanceOf(t.acceleration.value,a.Ob,new a.Ob),_spread:e.ensureInstanceOf(t.acceleration.spread,a.Ob,new a.Ob),_distribution:e.ensureTypedArg(t.acceleration.distribution,r.NUMBER,this.type),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)},this.drag={_value:e.ensureTypedArg(t.drag.value,r.NUMBER,0),_spread:e.ensureTypedArg(t.drag.spread,r.NUMBER,0),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)},this.wiggle={_value:e.ensureTypedArg(t.wiggle.value,r.NUMBER,0),_spread:e.ensureTypedArg(t.wiggle.spread,r.NUMBER,0)},this.rotation={_axis:e.ensureInstanceOf(t.rotation.axis,a.Ob,new a.Ob(0,1,0)),_axisSpread:e.ensureInstanceOf(t.rotation.axisSpread,a.Ob,new a.Ob),_angle:e.ensureTypedArg(t.rotation.angle,r.NUMBER,0),_angleSpread:e.ensureTypedArg(t.rotation.angleSpread,r.NUMBER,0),_static:e.ensureTypedArg(t.rotation.static,r.BOOLEAN,!1),_center:e.ensureInstanceOf(t.rotation.center,a.Ob,this.position._value.clone()),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)},this.maxAge={_value:e.ensureTypedArg(t.maxAge.value,r.NUMBER,2),_spread:e.ensureTypedArg(t.maxAge.spread,r.NUMBER,0)},this.color={_value:e.ensureArrayInstanceOf(t.color.value,a.m,new a.m),_spread:e.ensureArrayInstanceOf(t.color.spread,a.Ob,new a.Ob),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)},this.opacity={_value:e.ensureArrayTypedArg(t.opacity.value,r.NUMBER,1),_spread:e.ensureArrayTypedArg(t.opacity.spread,r.NUMBER,0),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)},this.size={_value:e.ensureArrayTypedArg(t.size.value,r.NUMBER,1),_spread:e.ensureArrayTypedArg(t.size.spread,r.NUMBER,0),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)},this.angle={_value:e.ensureArrayTypedArg(t.angle.value,r.NUMBER,0),_spread:e.ensureArrayTypedArg(t.angle.spread,r.NUMBER,0),_randomise:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)},this.particleCount=e.ensureTypedArg(t.particleCount,r.NUMBER,100),this.duration=e.ensureTypedArg(t.duration,r.NUMBER,null),this.isStatic=e.ensureTypedArg(t.isStatic,r.BOOLEAN,!1),this.activeMultiplier=e.ensureTypedArg(t.activeMultiplier,r.NUMBER,1),this.direction=e.ensureTypedArg(t.direction,r.NUMBER,1),this.alive=e.ensureTypedArg(t.alive,r.BOOLEAN,!0),this.particlesPerSecond=0,this.activationIndex=0,this.attributeOffset=0,this.attributeEnd=0,this.age=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.resetFlags={position:e.ensureTypedArg(t.position.randomise,r.BOOLEAN,!1)||e.ensureTypedArg(t.radius.randomise,r.BOOLEAN,!1),velocity:e.ensureTypedArg(t.velocity.randomise,r.BOOLEAN,!1),acceleration:e.ensureTypedArg(t.acceleration.randomise,r.BOOLEAN,!1)||e.ensureTypedArg(t.drag.randomise,r.BOOLEAN,!1),rotation:e.ensureTypedArg(t.rotation.randomise,r.BOOLEAN,!1),rotationCenter:e.ensureTypedArg(t.rotation.randomise,r.BOOLEAN,!1),size:e.ensureTypedArg(t.size.randomise,r.BOOLEAN,!1),color:e.ensureTypedArg(t.color.randomise,r.BOOLEAN,!1),opacity:e.ensureTypedArg(t.opacity.randomise,r.BOOLEAN,!1),angle:e.ensureTypedArg(t.angle.randomise,r.BOOLEAN,!1)},this.updateFlags={},this.updateCounts={},this.updateMap={maxAge:"params",position:"position",velocity:"velocity",acceleration:"acceleration",drag:"acceleration",wiggle:"params",rotation:"rotation",size:"size",color:"color",opacity:"opacity",angle:"angle"},this.updateMap)this.updateMap.hasOwnProperty(i)&&(this.updateCounts[this.updateMap[i]]=0,this.updateFlags[this.updateMap[i]]=!1,this._createGetterSetters(this[i],i));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,e.ensureValueOverLifetimeCompliance(this.color,n,n),e.ensureValueOverLifetimeCompliance(this.opacity,n,n),e.ensureValueOverLifetimeCompliance(this.size,n,n),e.ensureValueOverLifetimeCompliance(this.angle,n,n)},o.Emitter.constructor=o.Emitter,o.Emitter.prototype._createGetterSetters=function(t,e){var r=this;for(var n in t)if(t.hasOwnProperty(n)){var i=n.replace("_","");Object.defineProperty(t,i,{get:function(t){return function(){return this[t]}}(n),set:function(t){return function(n){var i=r.updateMap[e],a=this[t],s=o.valueOverLifetimeLength;"_rotationCenter"===t?(r.updateFlags.rotationCenter=!0,r.updateCounts.rotationCenter=0):"_randomise"===t?r.resetFlags[i]=n:(r.updateFlags[i]=!0,r.updateCounts[i]=0),r.group._updateDefines(),this[t]=n,Array.isArray(a)&&o.utils.ensureValueOverLifetimeCompliance(r[e],s,s)}}(n)})}},o.Emitter.prototype._setBufferUpdateRanges=function(t){this.attributeKeys=t,this.attributeCount=t.length;for(var e=this.attributeCount-1;e>=0;--e)this.bufferUpdateRanges[t[e]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},o.Emitter.prototype._calculatePPSValue=function(t){var e=this.particleCount;this.duration?this.particlesPerSecond=e/(t<this.duration?t:this.duration):this.particlesPerSecond=e/t},o.Emitter.prototype._setAttributeOffset=function(t){this.attributeOffset=t,this.activationIndex=t,this.activationEnd=t+this.particleCount},o.Emitter.prototype._assignValue=function(t,e){switch(t){case"position":this._assignPositionValue(e);break;case"velocity":case"acceleration":this._assignForceValue(e,t);break;case"size":case"opacity":this._assignAbsLifetimeValue(e,t);break;case"angle":this._assignAngleValue(e);break;case"params":this._assignParamsValue(e);break;case"rotation":this._assignRotationValue(e);break;case"color":this._assignColorValue(e)}},o.Emitter.prototype._assignPositionValue=function(t){var e=o.distributions,r=o.utils,n=this.position,i=this.attributes.position,a=n._value,s=n._spread;switch(n._distribution){case e.BOX:r.randomVector3(i,t,a,s,n._spreadClamp);break;case e.SPHERE:r.randomVector3OnSphere(i,t,a,n._radius,n._spread.x,n._radiusScale,n._spreadClamp.x,n._distributionClamp||this.particleCount);break;case e.DISC:r.randomVector3OnDisc(i,t,a,n._radius,n._spread.x,n._radiusScale,n._spreadClamp.x)}},o.Emitter.prototype._assignForceValue=function(t,e){var r,n,i,a,s,u=o.distributions,c=o.utils,l=this[e],h=l._value,f=l._spread;switch(l._distribution){case u.BOX:c.randomVector3(this.attributes[e],t,h,f);break;case u.SPHERE:n=(r=this.attributes.position.typedArray.array)[s=3*t],i=r[s+1],a=r[s+2],c.randomDirectionVector3OnSphere(this.attributes[e],t,n,i,a,this.position._value,l._value.x,l._spread.x);break;case u.DISC:n=(r=this.attributes.position.typedArray.array)[s=3*t],i=r[s+1],a=r[s+2],c.randomDirectionVector3OnDisc(this.attributes[e],t,n,i,a,this.position._value,l._value.x,l._spread.x)}if("acceleration"===e){var p=c.clamp(c.randomFloat(this.drag._value,this.drag._spread),0,1);this.attributes.acceleration.typedArray.array[4*t+3]=p}},o.Emitter.prototype._assignAbsLifetimeValue=function(t,e){var r,n=this.attributes[e].typedArray,i=this[e],a=o.utils;a.arrayValuesAreEqual(i._value)&&a.arrayValuesAreEqual(i._spread)?(r=Math.abs(a.randomFloat(i._value[0],i._spread[0])),n.setVec4Components(t,r,r,r,r)):n.setVec4Components(t,Math.abs(a.randomFloat(i._value[0],i._spread[0])),Math.abs(a.randomFloat(i._value[1],i._spread[1])),Math.abs(a.randomFloat(i._value[2],i._spread[2])),Math.abs(a.randomFloat(i._value[3],i._spread[3])))},o.Emitter.prototype._assignAngleValue=function(t){var e,r=this.attributes.angle.typedArray,n=this.angle,i=o.utils;i.arrayValuesAreEqual(n._value)&&i.arrayValuesAreEqual(n._spread)?(e=i.randomFloat(n._value[0],n._spread[0]),r.setVec4Components(t,e,e,e,e)):r.setVec4Components(t,i.randomFloat(n._value[0],n._spread[0]),i.randomFloat(n._value[1],n._spread[1]),i.randomFloat(n._value[2],n._spread[2]),i.randomFloat(n._value[3],n._spread[3]))},o.Emitter.prototype._assignParamsValue=function(t){this.attributes.params.typedArray.setVec4Components(t,this.isStatic?1:0,0,Math.abs(o.utils.randomFloat(this.maxAge._value,this.maxAge._spread)),o.utils.randomFloat(this.wiggle._value,this.wiggle._spread))},o.Emitter.prototype._assignRotationValue=function(t){this.attributes.rotation.typedArray.setVec3Components(t,o.utils.getPackedRotationAxis(this.rotation._axis,this.rotation._axisSpread),o.utils.randomFloat(this.rotation._angle,this.rotation._angleSpread),this.rotation._static?0:1),this.attributes.rotationCenter.typedArray.setVec3(t,this.rotation._center)},o.Emitter.prototype._assignColorValue=function(t){o.utils.randomColorAsHex(this.attributes.color,t,this.color._value,this.color._spread)},o.Emitter.prototype._resetParticle=function(t){for(var e,r,n=this.resetFlags,i=this.updateFlags,a=this.updateCounts,o=this.attributeKeys,s=this.attributeCount-1;s>=0;--s)r=i[e=o[s]],!0!==n[e]&&!0!==r||(this._assignValue(e,t),this._updateAttributeUpdateRange(e,t),!0===r&&a[e]===this.particleCount?(i[e]=!1,a[e]=0):1==r&&++a[e])},o.Emitter.prototype._updateAttributeUpdateRange=function(t,e){var r=this.bufferUpdateRanges[t];r.min=Math.min(e,r.min),r.max=Math.max(e,r.max)},o.Emitter.prototype._resetBufferRanges=function(){for(var t,e=this.bufferUpdateRanges,r=this.bufferUpdateKeys,n=this.bufferUpdateCount-1;n>=0;--n)e[t=r[n]].min=Number.POSITIVE_INFINITY,e[t].max=Number.NEGATIVE_INFINITY},o.Emitter.prototype._onRemove=function(){this.particlesPerSecond=0,this.attributeOffset=0,this.activationIndex=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.age=0},o.Emitter.prototype._decrementParticleCount=function(){--this.activeParticleCount},o.Emitter.prototype._incrementParticleCount=function(){++this.activeParticleCount},o.Emitter.prototype._checkParticleAges=function(t,e,r,n){for(var i,a,o,s,u=e-1;u>=t;--u)0!==(s=r[i=4*u])&&(o=r[i+1],a=r[i+2],1===this.direction?(o+=n)>=a&&(o=0,s=0,this._decrementParticleCount()):(o-=n)<=0&&(o=a,s=0,this._decrementParticleCount()),r[i]=s,r[i+1]=o,this._updateAttributeUpdateRange("params",u))},o.Emitter.prototype._activateParticles=function(t,e,r,n){for(var i,a,o=this.direction,s=t;s<e;++s)0!=r[i=4*s]&&1!==this.particleCount||(this._incrementParticleCount(),r[i]=1,this._resetParticle(s),a=n*(s-t),r[i+1]=-1===o?r[i+2]-a:a,this._updateAttributeUpdateRange("params",s))},o.Emitter.prototype.tick=function(t){if(!this.isStatic){null===this.paramsArray&&(this.paramsArray=this.attributes.params.typedArray.array);var e=this.attributeOffset,r=e+this.particleCount,n=this.paramsArray,i=this.particlesPerSecond*this.activeMultiplier*t,a=this.activationIndex;if(this._resetBufferRanges(),this._checkParticleAges(e,r,n,t),!1!==this.alive){if(null!==this.duration&&this.age>this.duration)return this.alive=!1,void(this.age=0);var o=1===this.particleCount?a:0|a,s=Math.min(o+i,this.activationEnd),u=s-this.activationIndex|0,c=u>0?t/u:0;this._activateParticles(o,s,n,c),this.activationIndex+=i,this.activationIndex>r&&(this.activationIndex=e),this.age+=t}else this.age=0}},o.Emitter.prototype.reset=function(t){if(this.age=0,this.alive=!1,!0===t){for(var e,r=this.attributeOffset,n=r+this.particleCount,i=this.paramsArray,a=this.attributes.params.bufferAttribute,o=n-1;o>=r;--o)i[e=4*o]=0,i[e+1]=0;a.updateRange.offset=0,a.updateRange.count=-1,a.needsUpdate=!0}return this},o.Emitter.prototype.enable=function(){return this.alive=!0,this},o.Emitter.prototype.disable=function(){return this.alive=!1,this},o.Emitter.prototype.remove=function(){return null!==this.group?this.group.removeEmitter(this):console.error("Emitter does not belong to a group, cannot remove."),this},s.prototype._finalize=function(t){for(var e=0;e<t.emitters.length;e++)0==t.emitters[e].duration&&t.emitters[e].activeMultiplier>9&&(t.emitters[e].particlesPerSecond=1e4);return this.groups.push(t),t.sheepfxID=this.groups.length-1,t.mesh.group=t,t.mesh.emitters=t.emitters,t.uniforms.scale.value=this.screenScale,t.fog=!1,t.mesh},s.prototype.effectFromJson=function(t,e,r){if(!t.emitter_length)return console.log("Error: Json file is not of type 'Effect'"),this.generateTemplate(e);var n,i=0;if(r)i=r;else for(var s=0;s<t.emitter_length;s++)i+=t["emitter_"+s.toString()].particleCount;n=t.texture&&t.texture.frames&&(1!=t.texture.frames.x||1!=t.texture.frames.y)?new o.Group({maxParticleCount:i,texture:{value:e,frames:(new a.Nb).copy(t.texture.frames),frameCount:t.texture.frameCount,loop:t.texture.loop},blending:t.blending,depthWrite:t.depthWrite,depthTest:t.depthTest,fog:!1}):new o.Group({maxParticleCount:i,texture:{value:e,frames:null,frameCount:null,loop:null},blending:t.blending,depthWrite:t.depthWrite,depthTest:t.depthTest,fog:!1});for(s=0;s<t.emitter_length;s++){var u=t["emitter_"+s.toString()];n.addEmitter(this.emitterFromJson(u))}return this._finalize(n)},s.prototype.emitterFromJson=function(t){if(!t.particleCount){console.log("Error: Json file is not of type 'Emitter'");var e=this.generateTemplate(t,null),r=e.emitters[0].copy();return this.remove(e),r}var n=t,i=[new a.m(n.color.value[0].x,n.color.value[0].y,n.color.value[0].z),new a.m(n.color.value[1].x,n.color.value[1].y,n.color.value[1].z),new a.m(n.color.value[2].x,n.color.value[2].y,n.color.value[2].z),new a.m(n.color.value[3].x,n.color.value[3].y,n.color.value[3].z)],s=[(new a.Ob).copy(n.color.spread[0]),(new a.Ob).copy(n.color.spread[1]),(new a.Ob).copy(n.color.spread[2]),(new a.Ob).copy(n.color.spread[3])];return new o.Emitter({type:n.type,particleCount:n.particleCount,duration:n.duration,isStatic:n.isStatic,activeMultiplier:n.activeMultiplier,direction:n.direction,maxAge:{value:n.maxAge.value,spread:n.maxAge.spread},position:{value:(new a.Ob).copy(n.position.value),spread:(new a.Ob).copy(n.position.spread),radius:n.position.radius,radiusScale:(new a.Ob).copy(n.position.radiusScale),distribution:n.position.distribution,randomise:!1},velocity:{value:(new a.Ob).copy(n.velocity.value),spread:(new a.Ob).copy(n.velocity.spread),distribution:n.velocity.distribution,randomise:!1},acceleration:{value:(new a.Ob).copy(n.acceleration.value),spread:(new a.Ob).copy(n.acceleration.spread),randomise:!1},drag:{value:n.drag.value,spread:n.drag.spread,randomise:!1},wiggle:{value:n.wiggle.value,spread:n.wiggle.spread},rotation:{axis:(new a.Ob).copy(n.rotation.axis),axisSpread:(new a.Ob).copy(n.rotation.axisSpread),angle:n.rotation.angle,angleSpread:n.rotation.angleSpread,static:n.rotation.static,center:(new a.Ob).copy(n.rotation.center),randomise:!1},color:{value:i,spread:s,randomise:!1},opacity:{value:[n.opacity.value[0],n.opacity.value[1],n.opacity.value[2],n.opacity.value[3]],spread:[n.opacity.spread[0],n.opacity.spread[1],n.opacity.spread[2],n.opacity.spread[3]],randomise:!1},size:{value:[n.size.value[0],n.size.value[1],n.size.value[2],n.size.value[3]],spread:[n.size.spread[0],n.size.spread[1],n.size.spread[2],n.size.spread[3]],randomise:!1},angle:{value:[n.angle.value[0],n.angle.value[1],n.angle.value[2],n.angle.value[3]],spread:[n.angle.spread[0],n.angle.spread[1],n.angle.spread[2],n.angle.spread[3]],randomise:!1}})},s.prototype.generateTemplate=function(t){var e=new o.Group({maxParticleCount:1e4,texture:{value:t,frames:null,frameCount:1,loop:1},blending:a.a,transparent:!0,depthWrite:!1,depthTest:!0,fog:!1,scale:100}),r=new o.Emitter({type:o.distributions.box,particleCount:400,duration:null,isStatic:!1,activeMultiplier:1,direction:1,maxAge:{value:2,spread:0},position:{value:new a.Ob(0,0,0),spread:new a.Ob(0,0,0),radius:1,radiusScale:new a.Ob(1,1,1),distribution:o.distributions.BOX,randomise:!1},velocity:{value:new a.Ob(0,.5,0),spread:new a.Ob(.2,0,.2),distribution:o.distributions.box,randomise:!1},acceleration:{value:new a.Ob(0,0,0),spread:new a.Ob(0,-.5,0),randomise:!1},drag:{value:0,spread:0,randomise:!1},wiggle:{value:0,spread:0},rotation:{axis:new a.Ob(0,0,0),axisSpread:new a.Ob(1,1,1),angle:0,angleSpread:0,static:!1,center:new a.Ob(0,0,0),randomise:!1},color:{value:[new a.m("blue"),new a.m("yellow"),new a.m("red"),new a.m("black")],spread:[new a.Ob(0,0,0),new a.Ob(0,0,0),new a.Ob(0,0,0),new a.Ob(0,0,0)],randomise:!1},opacity:{value:[0,1,1,0],spread:[0,0,0,0],randomise:!1},size:{value:[1,1,1,3],spread:[0,0,0,0],randomise:!1},angle:{value:[0,10],spread:[1,1],randomise:!1}});return e.addEmitter(r),this._finalize(e)},s.prototype.copyFX=function(t,e,r){var n=t.group,i=0;if(r)i=r;else for(var a=0;a<t.emitters.length;a++)i+=t.emitters[a].particleCount;var s=new o.Group({maxParticleCount:i,texture:{value:e,frames:n.textureFrames,frameCount:n.textureFrameCount,loop:n.textureLoop},blending:n.material.blending,depthWrite:n.material.depthWrite,depthTest:n.material.depthTest,fog:n.fog});for(a=0;a<t.emitters.length;a++){var u=t.emitters[a].copy();s.addEmitter(u)}return this._finalize(s)},s.prototype.remove=function(t){if(this.groups.length<=0&&console.info("SheepFX: Attempting to remove from empty list"),1==this.groups.length){for(this.groups.pop(),t.parent&&t.parent.remove(t);t.group.emitters.length>0;)t.group.removeEmitter(t.emitters[0]);t.group.dispose()}else{var e=t.group.sheepfxID,r=this.groups[e];for(this.groups[e]=this.groups[this.groups.length-1],this.groups[e].sheepfxID=e,this.groups.pop(),r.mesh.parent&&r.mesh.parent.remove(r.mesh);r.emitters.length>0;)r.removeEmitter(r.emitters[0]);r.dispose()}},s.prototype.removeAll=function(){for(;this.groups.length>0;)this.remove(this.groups[0].mesh)},s.prototype.update=function(t){for(var e=0;e<this.groups.length;e++)this.groups[e].tick(t)},s.prototype.setParticleSize=function(t){this.screenScale=.2*t;for(var e=0;e<this.groups.length;e++)this.groups[e].uniforms.scale.value=this.screenScale},s.prototype.getJSON=function(t,e,r){var n="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("get",t,!0),n.onreadystatechange=function(){var t,i;4==n.readyState&&(200==(t=n.status)?(i=JSON.parse(n.responseText),e&&e(i)):r&&r(t))},n.send()},a.kb.prototype.setEffectScale=function(t){var e=t/this._effectSize;this._effectSize=t;for(var r=0;r<this.emitters.length;r++){var n=this.emitters[r];n.position.spread&&(n.position.spread=n.position.spread.multiplyScalar(e)),n.position.radious&&(n.position.radious=n.position.radious.multiplyScalar(e)),n.velocity.value&&(n.velocity.value=n.velocity.value.multiplyScalar(e)),n.velocity.spread&&(n.velocity.spread=n.velocity.spread.multiplyScalar(e)),n.acceleration.value&&(n.acceleration.value=n.acceleration.value.multiplyScalar(e)),n.acceleration.spread&&(n.acceleration.spread=n.acceleration.spread.multiplyScalar(e)),n.drag.value&&(n.drag.value=n.drag.value*e),n.drag.spread&&(n.drag.spread=n.drag.spread*e),n.size.value&&(n.size.value[0]*=e,n.size.value[1]*=e,n.size.value[2]*=e,n.size.value[3]*=e,n.size.value=n.size.value),n.size.spread&&(n.size.spread[0]*=e,n.size.spread[1]*=e,n.size.spread[2]*=e,n.size.spread[3]*=e,n.size.spread=n.size.spread)}},a.kb.prototype.getEffectScale=function(){return this._effectSize},a.kb.prototype.reset=function(t){for(var e=0;e<this.group.emitters.length;e++)this.emitters[e].reset(!!t),this.emitters[e].alive=!0},o.Emitter.prototype.copy=function(t){t||(t=this.particleCount);var e=[new a.m(this.color.value[0].r,this.color.value[0].g,this.color.value[0].b),new a.m(this.color.value[1].r,this.color.value[1].g,this.color.value[1].b),new a.m(this.color.value[2].r,this.color.value[2].g,this.color.value[2].b),new a.m(this.color.value[3].r,this.color.value[3].g,this.color.value[3].b)],r=[(new a.Ob).copy(this.color.spread[0]),(new a.Ob).copy(this.color.spread[1]),(new a.Ob).copy(this.color.spread[2]),(new a.Ob).copy(this.color.spread[3])];return new o.Emitter({particleCount:t,type:this.type,duration:this.duration,isStatic:this.isStatic,activeMultiplier:this.activeMultiplier,direction:this.direction,maxAge:{value:this.maxAge.value,spread:this.maxAge.spread},position:{value:(new a.Ob).copy(this.position.value),spread:(new a.Ob).copy(this.position.spread),radius:this.position.radius,radiusScale:(new a.Ob).copy(this.position.radiusScale),distribution:this.position.distribution,randomise:!1},velocity:{value:(new a.Ob).copy(this.velocity.value),spread:(new a.Ob).copy(this.velocity.spread),distribution:this.velocity.distribution,randomise:!1},acceleration:{value:(new a.Ob).copy(this.acceleration.value),spread:(new a.Ob).copy(this.acceleration.spread),randomise:!1},drag:{value:this.drag.value,spread:this.drag.spread,randomise:!1},wiggle:{value:this.wiggle.value,spread:this.wiggle.spread},rotation:{axis:(new a.Ob).copy(this.rotation.axis),axisSpread:(new a.Ob).copy(this.rotation.axisSpread),angle:this.rotation.angle,angleSpread:this.rotation.angleSpread,static:this.rotation.static,center:(new a.Ob).copy(this.rotation.center),randomise:!1},color:{value:e,spread:r,randomise:!1},opacity:{value:[this.opacity.value[0],this.opacity.value[1],this.opacity.value[2],this.opacity.value[3]],spread:[this.opacity.spread[0],this.opacity.spread[1],this.opacity.spread[2],this.opacity.spread[3]],randomise:!1},size:{value:[this.size.value[0],this.size.value[1],this.size.value[2],this.size.value[3]],spread:[this.size.spread[0],this.size.spread[1],this.size.spread[2],this.size.spread[3]],randomise:!1},angle:{value:[this.angle.value[0],this.angle.value[1],this.angle.value[2],this.angle.value[3]],spread:[this.angle.spread[0],this.angle.spread[1],this.angle.spread[2],this.angle.spread[3]],randomise:!1}})},o.Emitter.prototype.setPosition=function(t,e,r){this.position.value=null==e?this.position.value.set(t.x,t.y,t.z):this.position.value.set(t,e,r)},o.Emitter.prototype.getPosition=function(){return this.position.value},e.a=s}).call(this,r(506)(t))},function(t,e,r){r.d(e,"a",(function(){return ft}));var n=r(18),i=r(0);class a{constructor(t){this.game=t,this.renderer=new i.Tb(t.fsConf.threeParameters),this.renderer.setSize(this.game.width,this.game.height,!1),this.renderer.domElement.style.display="none",this.game.fsConf.screenshot&&this._patchRenderer(),document.getElementById(t.fsConf.container3D).appendChild(this.renderer.domElement),this.styleObserver=new MutationObserver(()=>{this._copyPhaserStyles()})}show(){this._copyPhaserStyles(),this.styleObserver.observe(this.game.canvas,{attributes:!0,attributeFilter:["style"]})}hide(){this.styleObserver.disconnect(),this.renderer.domElement.style.display="none"}resize(){this.renderer.setSize(this.game.width,this.game.height,!1)}_copyPhaserStyles(){this.renderer.domElement.style.cssText=this.game.canvas.style.cssText}_patchRenderer(){this._originalRender=this.renderer.render,this._lastUsedScene=[],this._lastUsedCamera=[],this.renderer.render=(t,e,r,n)=>{this.game._screenshotPlugin._screenshotting&&(this._lastUsedScene.push(t),this._lastUsedCamera.push(e)),this._originalRender.call(this.renderer,t,e,r,n)}}}var o=r(10);class s extends Phaser.Plugin{constructor(t,e){super(t,e),this._screenshotting=!1}takeScreenshot(){this._screenshotting=!0}saveBlob(t,e){var r=document.createElement("a");document.body.appendChild(r),r.style="display: none";var n=window.URL.createObjectURL(t);r.href=n,r.download=e,r.click(),window.URL.revokeObjectURL(n),r.parentNode.removeChild(r)}preUpdate(){}postRender(){this._screenshotting&&(this._screenshotting=!1,this.game.canvas.toBlob(t=>{this.saveBlob(t,"screenshot.png")},"image/png"))}}class u extends s{constructor(t,e){super(t,e),this._depthBuffer=!1,this._setupDepth()}_setupDepth(){this.renderTarget=new i.Sb(this.game.fsConf.width,this.game.fsConf.height),this.renderTarget.texture.format=i.rb,this.renderTarget.texture.minFilter=i.ab,this.renderTarget.texture.magFilter=i.ab,this.renderTarget.texture.generateMipmaps=!1,this.renderTarget.stencilBuffer=!1,this.renderTarget.depthBuffer=!0;var t=new i.p(this.game.fsConf.width,this.game.fsConf.height);this.renderTarget.depthTexture=t,this.depthScene=new i.tb,this.depthCamera=new i.gb(-1,1,1,-1,0,1),i.Mb.merge([i.Lb.common]).map.value=this.renderTarget.depthTexture,this.depthQuad=new i.U(new i.ib(2,2),new i.wb({uniforms:{cameraNear:{value:null},cameraFar:{value:null},tDepth:{value:this.renderTarget.depthTexture}},vertexShader:"\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\t\t}\n\t\t\t\t",fragmentShader:"\n\t\t\t\t\t#include <packing>\n\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\tuniform sampler2D tDepth;\n\t\t\t\t\tuniform float cameraNear;\n\t\t\t\t\tuniform float cameraFar;\n\n\t\t\t\t\tfloat readDepth(sampler2D depthSampler, vec2 coord) {\n\t\t\t\t\t\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\n\t\t\t\t\t\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n\t\t\t\t\t\treturn viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tfloat depth = readDepth(tDepth, vUv);\n\t\t\t\t\t\tgl_FragColor.rgb = 1.0 - vec3(depth);\n\t\t\t\t\t\tgl_FragColor.a = 1.0;\n\t\t\t\t\t}\n\t\t\t\t"})),this.depthScene.add(this.depthQuad)}takeScreenshot(t=!1){this._screenshotting=!0,this._depthBuffer=t}preUpdate(){this._screenshotting&&(this.game.three._lastUsedScene.length=0,this.game.three._lastUsedCamera.length=0)}postRender(){if(this._screenshotting)if(this._screenshotting=!1,this._depthBuffer){this.game.three.renderer.domElement.toBlob(t=>{this.saveBlob(t,"screenshot_color.png")},"image/png"),this.game.three.renderer.setRenderTarget(this.renderTarget);for(var t=0;t<this.game.three._lastUsedScene.length;t++){var e=this.game.three._lastUsedScene[t],r=this.game.three._lastUsedCamera[t];this.depthQuad.material.uniforms.cameraNear.value=r.near,this.depthQuad.material.uniforms.cameraFar.value=r.far,0===t&&this.game.three.renderer.clear(),this.game.three._originalRender.call(this.game.three.renderer,e,r)}this.game.three.renderer.setRenderTarget(null),this.game.three._originalRender.call(this.game.three.renderer,this.depthScene,this.depthCamera),this.game.three.renderer.domElement.toBlob(t=>{this.saveBlob(t,"screenshot_depth.png")},"image/png")}else{var n=document.createElement("canvas");n.width=this.game.fsConf.width,n.height=this.game.fsConf.height;var i=n.getContext("2d");i.drawImage(this.game.three.renderer.domElement,0,0),i.drawImage(this.game.canvas,0,0),n.toBlob(t=>{this.saveBlob(t,"screenshot.png")},"image/png")}}}var c,l=r(12);function h(t){return t.type===c.literal}function f(t){return t.type===c.argument}function p(t){return t.type===c.number}function d(t){return t.type===c.date}function g(t){return t.type===c.time}function v(t){return t.type===c.select}function m(t){return t.type===c.plural}function y(t){return t.type===c.pound}function b(t){return!(!t||"object"!=typeof t||0!==t.type)}function _(t){return!(!t||"object"!=typeof t||1!==t.type)}!function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound"}(c||(c={}));var w,x=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S=function(){return(S=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},A=function(t){function e(r,n,i,a){var o=t.call(this)||this;return o.message=r,o.expected=n,o.found=i,o.location=a,o.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,e),o}return x(e,t),e.buildMessage=function(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function a(t){switch(t.type){case"literal":return'"'+n(t.text)+'"';case"class":var e=t.parts.map((function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)}));return"["+(t.inverted?"^":"")+e+"]";case"any":return"any character";case"end":return"end of input";case"other":return t.description}}return"Expected "+function(t){var e,r,n=t.map(a);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+(((o=e)?'"'+n(o)+'"':"end of input")+" found.");var o},e}(Error);var E=function(t,e){e=void 0!==e?e:{};var r,n={},i={start:xt},a=xt,o=gt("#",!1),s=mt("argumentElement"),u=gt("{",!1),l=gt("}",!1),h=mt("numberSkeletonId"),f=/^['\/{}]/,p=vt(["'","/","{","}"],!1,!1),d={type:"any"},g=mt("numberSkeletonTokenOption"),v=gt("/",!1),m=mt("numberSkeletonToken"),y=gt("::",!1),b=function(t){return Gt.pop(),t.replace(/\s*$/,"")},_=gt(",",!1),w=gt("number",!1),x=function(t,e,r){return S({type:"number"===e?c.number:"date"===e?c.date:c.time,style:r&&r[2],value:t},Ht())},E=gt("'",!1),O=/^[^']/,C=vt(["'"],!0,!1),T=/^[^a-zA-Z'{}]/,L=vt([["a","z"],["A","Z"],"'","{","}"],!0,!1),P=/^[a-zA-Z]/,k=vt([["a","z"],["A","Z"]],!1,!1),M=gt("date",!1),R=gt("time",!1),I=gt("plural",!1),F=gt("selectordinal",!1),D=gt("offset:",!1),N=gt("select",!1),j=gt("=",!1),z=mt("whitespace"),U=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,B=vt([["\t","\r"]," ",""," "," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),V=mt("syntax pattern"),G=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,W=vt([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),H=mt("optional whitespace"),K=mt("number"),X=gt("-",!1),Y=(mt("apostrophe"),mt("double apostrophes")),q=gt("''",!1),J=function(t){return!("{"===t||Wt()&&"#"===t||Gt.length>1&&"}"===t)},Z=gt("\n",!1),$=mt("argNameOrNumber"),Q=mt("argNumber"),tt=gt("0",!1),et=/^[1-9]/,rt=vt([["1","9"]],!1,!1),nt=/^[0-9]/,it=vt([["0","9"]],!1,!1),at=mt("argName"),ot=0,st=0,ut=[{line:1,column:1}],ct=0,lt=[],ht=0;if(void 0!==e.startRule){if(!(e.startRule in i))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=i[e.startRule]}function ft(){return t.substring(st,ot)}function pt(){return bt(st,ot)}function dt(t,e){throw function(t,e){return new A(t,[],"",e)}(t,e=void 0!==e?e:bt(st,ot))}function gt(t,e){return{type:"literal",text:t,ignoreCase:e}}function vt(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function mt(t){return{type:"other",description:t}}function yt(e){var r,n=ut[e];if(n)return n;for(r=e-1;!ut[r];)r--;for(n={line:(n=ut[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return ut[e]=n,n}function bt(t,e){var r=yt(t),n=yt(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function _t(t){ot<ct||(ot>ct&&(ct=ot,lt=[]),lt.push(t))}function wt(t,e,r){return new A(A.buildMessage(t,e),t,e,r)}function xt(){return St()}function St(){var t,e;for(t=[],e=At();e!==n;)t.push(e),e=At();return t}function At(){var e;return(e=function(){var t,e;t=ot,(e=Et())!==n&&(st=t,r=e,e=S({type:c.literal,value:r},Ht()));var r;return t=e}())===n&&(e=function(){var e,r,i,a;ht++,e=ot,123===t.charCodeAt(ot)?(r="{",ot++):(r=n,0===ht&&_t(u));r!==n&&Ft()!==n&&(i=Ut())!==n&&Ft()!==n?(125===t.charCodeAt(ot)?(a="}",ot++):(a=n,0===ht&&_t(l)),a!==n?(st=e,o=i,r=S({type:c.argument,value:o},Ht()),e=r):(ot=e,e=n)):(ot=e,e=n);var o;ht--,e===n&&(r=n,0===ht&&_t(s));return e}())===n&&(e=function(){var e;(e=function(){var e,r,i,a,o,s,c,h,f;e=ot,123===t.charCodeAt(ot)?(r="{",ot++):(r=n,0===ht&&_t(u));r!==n&&Ft()!==n&&(i=Ut())!==n&&Ft()!==n?(44===t.charCodeAt(ot)?(a=",",ot++):(a=n,0===ht&&_t(_)),a!==n&&Ft()!==n?("number"===t.substr(ot,6)?(o="number",ot+=6):(o=n,0===ht&&_t(w)),o!==n&&Ft()!==n?(s=ot,44===t.charCodeAt(ot)?(c=",",ot++):(c=n,0===ht&&_t(_)),c!==n&&(h=Ft())!==n&&(f=function(){var e,r,i;e=ot,"::"===t.substr(ot,2)?(r="::",ot+=2):(r=n,0===ht&&_t(y));r!==n&&(i=function(){var t,e,r;if(t=ot,e=[],(r=Tt())!==n)for(;r!==n;)e.push(r),r=Tt();else e=n;e!==n&&(st=t,e=S({type:0,tokens:e},Ht()));return t=e}())!==n?(st=e,e=r=i):(ot=e,e=n);e===n&&(e=ot,st=ot,Gt.push("numberArgStyle"),(r=(r=!0)?void 0:n)!==n&&(i=Et())!==n?(st=e,r=b(i),e=r):(ot=e,e=n));return e}())!==n?s=c=[c,h,f]:(ot=s,s=n),s===n&&(s=null),s!==n&&(c=Ft())!==n?(125===t.charCodeAt(ot)?(h="}",ot++):(h=n,0===ht&&_t(l)),h!==n?(st=e,r=x(i,o,s),e=r):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n);return e}())===n&&(e=function(){var e,r,i,a,o,s,c,h,f;e=ot,123===t.charCodeAt(ot)?(r="{",ot++):(r=n,0===ht&&_t(u));r!==n&&Ft()!==n&&(i=Ut())!==n&&Ft()!==n?(44===t.charCodeAt(ot)?(a=",",ot++):(a=n,0===ht&&_t(_)),a!==n&&Ft()!==n?("date"===t.substr(ot,4)?(o="date",ot+=4):(o=n,0===ht&&_t(M)),o===n&&("time"===t.substr(ot,4)?(o="time",ot+=4):(o=n,0===ht&&_t(R))),o!==n&&Ft()!==n?(s=ot,44===t.charCodeAt(ot)?(c=",",ot++):(c=n,0===ht&&_t(_)),c!==n&&(h=Ft())!==n&&(f=function(){var e,r,i;e=ot,"::"===t.substr(ot,2)?(r="::",ot+=2):(r=n,0===ht&&_t(y));r!==n&&(i=function(){var e,r,i,a;e=ot,r=ot,i=[],(a=Lt())===n&&(a=Pt());if(a!==n)for(;a!==n;)i.push(a),(a=Lt())===n&&(a=Pt());else i=n;r=i!==n?t.substring(r,ot):i;r!==n&&(st=e,r=S({type:1,pattern:r},Ht()));return e=r}())!==n?(st=e,e=r=i):(ot=e,e=n);e===n&&(e=ot,st=ot,Gt.push("dateOrTimeArgStyle"),(r=(r=!0)?void 0:n)!==n&&(i=Et())!==n?(st=e,r=b(i),e=r):(ot=e,e=n));return e}())!==n?s=c=[c,h,f]:(ot=s,s=n),s===n&&(s=null),s!==n&&(c=Ft())!==n?(125===t.charCodeAt(ot)?(h="}",ot++):(h=n,0===ht&&_t(l)),h!==n?(st=e,r=x(i,o,s),e=r):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n);return e}());return e}())===n&&(e=function(){var e,r,i,a,o,s,h,f,p,d,g;e=ot,123===t.charCodeAt(ot)?(r="{",ot++):(r=n,0===ht&&_t(u));if(r!==n)if(Ft()!==n)if((i=Ut())!==n)if(Ft()!==n)if(44===t.charCodeAt(ot)?(a=",",ot++):(a=n,0===ht&&_t(_)),a!==n)if(Ft()!==n)if("plural"===t.substr(ot,6)?(o="plural",ot+=6):(o=n,0===ht&&_t(I)),o===n&&("selectordinal"===t.substr(ot,13)?(o="selectordinal",ot+=13):(o=n,0===ht&&_t(F))),o!==n)if(Ft()!==n)if(44===t.charCodeAt(ot)?(s=",",ot++):(s=n,0===ht&&_t(_)),s!==n)if(Ft()!==n)if(h=ot,"offset:"===t.substr(ot,7)?(f="offset:",ot+=7):(f=n,0===ht&&_t(D)),f!==n&&(p=Ft())!==n&&(d=Dt())!==n?h=f=[f,p,d]:(ot=h,h=n),h===n&&(h=null),h!==n)if((f=Ft())!==n){if(p=[],(d=Mt())!==n)for(;d!==n;)p.push(d),d=Mt();else p=n;p!==n&&(d=Ft())!==n?(125===t.charCodeAt(ot)?(g="}",ot++):(g=n,0===ht&&_t(l)),g!==n?(st=e,r=function(t,e,r,n){return S({type:c.plural,pluralType:"plural"===e?"cardinal":"ordinal",value:t,offset:r?r[2]:0,options:n.reduce((function(t,e){var r=e.id,n=e.value,i=e.location;return r in t&&dt('Duplicate option "'+r+'" in plural element: "'+ft()+'"',pt()),t[r]={value:n,location:i},t}),{})},Ht())}(i,o,h,p),e=r):(ot=e,e=n)):(ot=e,e=n)}else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;return e}())===n&&(e=function(){var e,r,i,a,o,s,h,f,p;e=ot,123===t.charCodeAt(ot)?(r="{",ot++):(r=n,0===ht&&_t(u));if(r!==n)if(Ft()!==n)if((i=Ut())!==n)if(Ft()!==n)if(44===t.charCodeAt(ot)?(a=",",ot++):(a=n,0===ht&&_t(_)),a!==n)if(Ft()!==n)if("select"===t.substr(ot,6)?(o="select",ot+=6):(o=n,0===ht&&_t(N)),o!==n)if(Ft()!==n)if(44===t.charCodeAt(ot)?(s=",",ot++):(s=n,0===ht&&_t(_)),s!==n)if(Ft()!==n){if(h=[],(f=kt())!==n)for(;f!==n;)h.push(f),f=kt();else h=n;h!==n&&(f=Ft())!==n?(125===t.charCodeAt(ot)?(p="}",ot++):(p=n,0===ht&&_t(l)),p!==n?(st=e,r=function(t,e){return S({type:c.select,value:t,options:e.reduce((function(t,e){var r=e.id,n=e.value,i=e.location;return r in t&&dt('Duplicate option "'+r+'" in select element: "'+ft()+'"',pt()),t[r]={value:n,location:i},t}),{})},Ht())}(i,h),e=r):(ot=e,e=n)):(ot=e,e=n)}else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;else ot=e,e=n;return e}())===n&&(e=function(){var e,r;e=ot,35===t.charCodeAt(ot)?(r="#",ot++):(r=n,0===ht&&_t(o));r!==n&&(st=e,r=S({type:c.pound},Ht()));return e=r}()),e}function Et(){var t,e,r;if(t=ot,e=[],(r=Nt())===n&&(r=jt())===n&&(r=zt()),r!==n)for(;r!==n;)e.push(r),(r=Nt())===n&&(r=jt())===n&&(r=zt());else e=n;return e!==n&&(st=t,e=e.join("")),t=e}function Ot(){var e,r,i,a,o;if(ht++,e=ot,r=[],i=ot,a=ot,ht++,(o=Rt())===n&&(f.test(t.charAt(ot))?(o=t.charAt(ot),ot++):(o=n,0===ht&&_t(p))),ht--,o===n?a=void 0:(ot=a,a=n),a!==n?(t.length>ot?(o=t.charAt(ot),ot++):(o=n,0===ht&&_t(d)),o!==n?i=a=[a,o]:(ot=i,i=n)):(ot=i,i=n),i!==n)for(;i!==n;)r.push(i),i=ot,a=ot,ht++,(o=Rt())===n&&(f.test(t.charAt(ot))?(o=t.charAt(ot),ot++):(o=n,0===ht&&_t(p))),ht--,o===n?a=void 0:(ot=a,a=n),a!==n?(t.length>ot?(o=t.charAt(ot),ot++):(o=n,0===ht&&_t(d)),o!==n?i=a=[a,o]:(ot=i,i=n)):(ot=i,i=n);else r=n;return e=r!==n?t.substring(e,ot):r,ht--,e===n&&(r=n,0===ht&&_t(h)),e}function Ct(){var e,r,i;return ht++,e=ot,47===t.charCodeAt(ot)?(r="/",ot++):(r=n,0===ht&&_t(v)),r!==n&&(i=Ot())!==n?(st=e,e=r=i):(ot=e,e=n),ht--,e===n&&(r=n,0===ht&&_t(g)),e}function Tt(){var t,e,r,i;if(ht++,t=ot,Ft()!==n)if((e=Ot())!==n){for(r=[],i=Ct();i!==n;)r.push(i),i=Ct();r!==n?(st=t,t=function(t,e){return{stem:t,options:e}}(e,r)):(ot=t,t=n)}else ot=t,t=n;else ot=t,t=n;return ht--,t===n&&(n,0===ht&&_t(m)),t}function Lt(){var e,r,i,a;if(e=ot,39===t.charCodeAt(ot)?(r="'",ot++):(r=n,0===ht&&_t(E)),r!==n){if(i=[],(a=Nt())===n&&(O.test(t.charAt(ot))?(a=t.charAt(ot),ot++):(a=n,0===ht&&_t(C))),a!==n)for(;a!==n;)i.push(a),(a=Nt())===n&&(O.test(t.charAt(ot))?(a=t.charAt(ot),ot++):(a=n,0===ht&&_t(C)));else i=n;i!==n?(39===t.charCodeAt(ot)?(a="'",ot++):(a=n,0===ht&&_t(E)),a!==n?e=r=[r,i,a]:(ot=e,e=n)):(ot=e,e=n)}else ot=e,e=n;if(e===n)if(e=[],(r=Nt())===n&&(T.test(t.charAt(ot))?(r=t.charAt(ot),ot++):(r=n,0===ht&&_t(L))),r!==n)for(;r!==n;)e.push(r),(r=Nt())===n&&(T.test(t.charAt(ot))?(r=t.charAt(ot),ot++):(r=n,0===ht&&_t(L)));else e=n;return e}function Pt(){var e,r;if(e=[],P.test(t.charAt(ot))?(r=t.charAt(ot),ot++):(r=n,0===ht&&_t(k)),r!==n)for(;r!==n;)e.push(r),P.test(t.charAt(ot))?(r=t.charAt(ot),ot++):(r=n,0===ht&&_t(k));else e=n;return e}function kt(){var e,r,i,a,o,s,c;return e=ot,Ft()!==n&&(r=Vt())!==n&&Ft()!==n?(123===t.charCodeAt(ot)?(i="{",ot++):(i=n,0===ht&&_t(u)),i!==n?(st=ot,Gt.push("select"),(!0?void 0:n)!==n&&(a=St())!==n?(125===t.charCodeAt(ot)?(o="}",ot++):(o=n,0===ht&&_t(l)),o!==n?(st=e,s=r,c=a,Gt.pop(),e=S({id:s,value:c},Ht())):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n),e}function Mt(){var e,r,i,a,o,s,c;return e=ot,Ft()!==n&&(r=function(){var e,r,i,a;return e=ot,r=ot,61===t.charCodeAt(ot)?(i="=",ot++):(i=n,0===ht&&_t(j)),i!==n&&(a=Dt())!==n?r=i=[i,a]:(ot=r,r=n),(e=r!==n?t.substring(e,ot):r)===n&&(e=Vt()),e}())!==n&&Ft()!==n?(123===t.charCodeAt(ot)?(i="{",ot++):(i=n,0===ht&&_t(u)),i!==n?(st=ot,Gt.push("plural"),(!0?void 0:n)!==n&&(a=St())!==n?(125===t.charCodeAt(ot)?(o="}",ot++):(o=n,0===ht&&_t(l)),o!==n?(st=e,s=r,c=a,Gt.pop(),e=S({id:s,value:c},Ht())):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n)):(ot=e,e=n),e}function Rt(){var e;return ht++,U.test(t.charAt(ot))?(e=t.charAt(ot),ot++):(e=n,0===ht&&_t(B)),ht--,e===n&&(n,0===ht&&_t(z)),e}function It(){var e;return ht++,G.test(t.charAt(ot))?(e=t.charAt(ot),ot++):(e=n,0===ht&&_t(W)),ht--,e===n&&(n,0===ht&&_t(V)),e}function Ft(){var e,r,i;for(ht++,e=ot,r=[],i=Rt();i!==n;)r.push(i),i=Rt();return e=r!==n?t.substring(e,ot):r,ht--,e===n&&(r=n,0===ht&&_t(H)),e}function Dt(){var e,r,i,a,o;return ht++,e=ot,45===t.charCodeAt(ot)?(r="-",ot++):(r=n,0===ht&&_t(X)),r===n&&(r=null),r!==n&&(i=Bt())!==n?(st=e,a=r,e=r=(o=i)?a?-o:o:0):(ot=e,e=n),ht--,e===n&&(r=n,0===ht&&_t(K)),e}function Nt(){var e,r;return ht++,e=ot,"''"===t.substr(ot,2)?(r="''",ot+=2):(r=n,0===ht&&_t(q)),r!==n&&(st=e,r="'"),ht--,(e=r)===n&&(r=n,0===ht&&_t(Y)),e}function jt(){var e,r,i,a,o,s;if(e=ot,39===t.charCodeAt(ot)?(r="'",ot++):(r=n,0===ht&&_t(E)),r!==n)if((i=function(){var e,r,i,a;e=ot,r=ot,t.length>ot?(i=t.charAt(ot),ot++):(i=n,0===ht&&_t(d));i!==n?(st=ot,(a=(a="{"===(o=i)||"}"===o||Wt()&&"#"===o)?void 0:n)!==n?r=i=[i,a]:(ot=r,r=n)):(ot=r,r=n);var o;e=r!==n?t.substring(e,ot):r;return e}())!==n){for(a=ot,o=[],"''"===t.substr(ot,2)?(s="''",ot+=2):(s=n,0===ht&&_t(q)),s===n&&(O.test(t.charAt(ot))?(s=t.charAt(ot),ot++):(s=n,0===ht&&_t(C)));s!==n;)o.push(s),"''"===t.substr(ot,2)?(s="''",ot+=2):(s=n,0===ht&&_t(q)),s===n&&(O.test(t.charAt(ot))?(s=t.charAt(ot),ot++):(s=n,0===ht&&_t(C)));(a=o!==n?t.substring(a,ot):o)!==n?(39===t.charCodeAt(ot)?(o="'",ot++):(o=n,0===ht&&_t(E)),o===n&&(o=null),o!==n?(st=e,e=r=i+a.replace("''","'")):(ot=e,e=n)):(ot=e,e=n)}else ot=e,e=n;else ot=e,e=n;return e}function zt(){var e,r,i,a;return e=ot,r=ot,t.length>ot?(i=t.charAt(ot),ot++):(i=n,0===ht&&_t(d)),i!==n?(st=ot,(a=(a=J(i))?void 0:n)!==n?r=i=[i,a]:(ot=r,r=n)):(ot=r,r=n),r===n&&(10===t.charCodeAt(ot)?(r="\n",ot++):(r=n,0===ht&&_t(Z))),e=r!==n?t.substring(e,ot):r}function Ut(){var e,r;return ht++,e=ot,(r=Bt())===n&&(r=Vt()),e=r!==n?t.substring(e,ot):r,ht--,e===n&&(r=n,0===ht&&_t($)),e}function Bt(){var e,r,i,a,o;if(ht++,e=ot,48===t.charCodeAt(ot)?(r="0",ot++):(r=n,0===ht&&_t(tt)),r!==n&&(st=e,r=0),(e=r)===n){if(e=ot,r=ot,et.test(t.charAt(ot))?(i=t.charAt(ot),ot++):(i=n,0===ht&&_t(rt)),i!==n){for(a=[],nt.test(t.charAt(ot))?(o=t.charAt(ot),ot++):(o=n,0===ht&&_t(it));o!==n;)a.push(o),nt.test(t.charAt(ot))?(o=t.charAt(ot),ot++):(o=n,0===ht&&_t(it));a!==n?r=i=[i,a]:(ot=r,r=n)}else ot=r,r=n;r!==n&&(st=e,r=parseInt(r.join(""),10)),e=r}return ht--,e===n&&(r=n,0===ht&&_t(Q)),e}function Vt(){var e,r,i,a,o;if(ht++,e=ot,r=[],i=ot,a=ot,ht++,(o=Rt())===n&&(o=It()),ht--,o===n?a=void 0:(ot=a,a=n),a!==n?(t.length>ot?(o=t.charAt(ot),ot++):(o=n,0===ht&&_t(d)),o!==n?i=a=[a,o]:(ot=i,i=n)):(ot=i,i=n),i!==n)for(;i!==n;)r.push(i),i=ot,a=ot,ht++,(o=Rt())===n&&(o=It()),ht--,o===n?a=void 0:(ot=a,a=n),a!==n?(t.length>ot?(o=t.charAt(ot),ot++):(o=n,0===ht&&_t(d)),o!==n?i=a=[a,o]:(ot=i,i=n)):(ot=i,i=n);else r=n;return e=r!==n?t.substring(e,ot):r,ht--,e===n&&(r=n,0===ht&&_t(at)),e}var Gt=["root"];function Wt(){return"plural"===Gt[Gt.length-1]}function Ht(){return e&&e.captureLocation?{location:pt()}:{}}if((r=a())!==n&&ot===t.length)return r;throw r!==n&&ot<t.length&&_t({type:"end"}),wt(lt,ct<t.length?t.charAt(ct):null,ct<t.length?bt(ct,ct+1):bt(ct,ct))},O=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},C=/(^|[^\\])#/g;function T(t,e){var r=E(t,e);return e&&!1===e.normalizeHashtagInPlural||function t(e){e.forEach((function(e){(m(e)||v(e))&&Object.keys(e.options).forEach((function(r){for(var n,i=e.options[r],a=-1,o=void 0,s=0;s<i.value.length;s++){var u=i.value[s];if(h(u)&&C.test(u.value)){a=s,o=u;break}}if(o){var c=o.value.replace(C,"$1{"+e.value+", number}"),l=E(c);(n=i.value).splice.apply(n,O([a,1],l))}t(i.value)}))}))}(r),r}var L=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n};function P(t){return JSON.stringify(t.map((function(t){return t&&"object"==typeof t?(e=t,Object.keys(e).sort().map((function(t){var r;return(r={})[t]=e[t],r}))):t;var e})))}var k=function(t,e){return void 0===e&&(e={}),function(){for(var r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=P(n),o=a&&e[a];return o||(o=new((r=t).bind.apply(r,L([void 0],n))),a&&(e[a]=o)),o}},M=function(){return(M=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},R=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function I(t){var e={};return t.replace(R,(function(t){var r=t.length;switch(t[0]){case"G":e.era=4===r?"long":5===r?"narrow":"short";break;case"y":e.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""})),e}var F=/^\.(?:(0+)(\+|#+)?)?$/g,D=/^(@+)?(\+|#+)?$/g;function N(t){var e={};return t.replace(D,(function(t,r,n){return"string"!=typeof n?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):"+"===n?e.minimumSignificantDigits=r.length:"#"===r[0]?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),e}function j(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function z(t){var e=j(t);return e||{}}function U(t){for(var e={},r=0,n=t;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":e.style="percent";continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":e.useGrouping=!1;continue;case"precision-integer":e.maximumFractionDigits=0;continue;case"measure-unit":e.style="unit",e.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=M(M(M({},e),{notation:"scientific"}),i.options.reduce((function(t,e){return M(M({},t),z(e))}),{}));continue;case"engineering":e=M(M(M({},e),{notation:"engineering"}),i.options.reduce((function(t,e){return M(M({},t),z(e))}),{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue}if(F.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(F,(function(t,r,n){return"."===t?e.maximumFractionDigits=0:"+"===n?e.minimumFractionDigits=n.length:"#"===r[0]?e.maximumFractionDigits=r.length:(e.minimumFractionDigits=r.length,e.maximumFractionDigits=r.length+("string"==typeof n?n.length:0)),""})),i.options.length&&(e=M(M({},e),N(i.options[0])))}else if(D.test(i.stem))e=M(M({},e),N(i.stem));else{var a=j(i.stem);a&&(e=M(M({},e),a))}}return e}var B,V=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),G=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},W=function(t){function e(e,r){var n=t.call(this,e)||this;return n.variableId=r,n}return V(e,t),e}(Error);function H(t,e,r,n,i,a,o){if(1===t.length&&h(t[0]))return[{type:0,value:t[0].value}];for(var s,u=[],c=0,l=t;c<l.length;c++){var w=l[c];if(h(w))u.push({type:0,value:w.value});else if(y(w))"number"==typeof a&&u.push({type:0,value:r.getNumberFormat(e).format(a)});else{var x=w.value;if(!i||!(x in i))throw new W('The intl string context variable "'+x+'" was not provided to the string "'+o+'"');var S=i[x];if(f(w))S&&"string"!=typeof S&&"number"!=typeof S||(S="string"==typeof S||"number"==typeof S?String(S):""),u.push({type:1,value:S});else if(d(w)){var A="string"==typeof w.style?n.date[w.style]:void 0;u.push({type:0,value:r.getDateTimeFormat(e,A).format(S)})}else if(g(w)){A="string"==typeof w.style?n.time[w.style]:_(w.style)?I(w.style.pattern):void 0;u.push({type:0,value:r.getDateTimeFormat(e,A).format(S)})}else if(p(w)){A="string"==typeof w.style?n.number[w.style]:b(w.style)?U(w.style.tokens):void 0;u.push({type:0,value:r.getNumberFormat(e,A).format(S)})}else if(v(w)){if(!(E=w.options[S]||w.options.other))throw new RangeError('Invalid values for "'+w.value+'": "'+S+'". Options are "'+Object.keys(w.options).join('", "')+'"');u.push.apply(u,H(E.value,e,r,n,i))}else if(m(w)){var E;if(!(E=w.options["="+S])){if(!Intl.PluralRules)throw new W('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n');var O=r.getPluralRules(e,{type:w.pluralType}).select(S-(w.offset||0));E=w.options[O]||w.options.other}if(!E)throw new RangeError('Invalid values for "'+w.value+'": "'+S+'". Options are "'+Object.keys(w.options).join('", "')+'"');u.push.apply(u,H(E.value,e,r,n,i,S-(w.offset||0)))}else;}}return(s=u).length<2?s:s.reduce((function(t,e){var r=t[t.length-1];return r&&0===r.type&&0===e.type?r.value+=e.value:t.push(e),t}),[])}var K=/@@(\d+_\d+)@@/g,X=0;function Y(t,e){return t.split(K).filter(Boolean).map((function(t){return null!=e[t]?e[t]:t})).reduce((function(t,e){return t.length&&"string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t}),[])}var q=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,J=Date.now()+"@@",Z=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function $(t,e,r,n,i,a){var o=H(t,e,r,n,i,void 0,a),s={},u=o.reduce((function(t,e){if(0===e.type)return t+e.value;var r=Date.now()+"_"+ ++X;return s[r]=e.value,t+"@@"+r+"@@"}),"");if(!q.test(u))return Y(u,s);if(!i)throw new W("Message has placeholders but no values was given");if("undefined"==typeof DOMParser)throw new W("Cannot format XML message without DOMParser");B||(B=new DOMParser);var c=B.parseFromString('<formatted-message id="'+J+'">'+u+"</formatted-message>","text/html").getElementById(J);if(!c)throw new W("Malformed HTML message "+u);var l=Object.keys(i).filter((function(t){return!!c.getElementsByTagName(t).length}));if(!l.length)return Y(u,s);var h=l.filter((function(t){return t!==t.toLowerCase()}));if(h.length)throw new W("HTML tag must be lowercased but the following tags are not: "+h.join(", "));return Array.prototype.slice.call(c.childNodes).reduce((function(t,e){return t.concat(function t(e,r,n){var i=e.tagName,a=e.outerHTML,o=e.textContent,s=e.childNodes;if(!i)return Y(o||"",r);i=i.toLowerCase();var u=~Z.indexOf(i),c=n[i];if(c&&u)throw new W(i+" is a self-closing tag and can not be used, please use another tag name.");if(!s.length)return[a];var l=Array.prototype.slice.call(s).reduce((function(e,i){return e.concat(t(i,r,n))}),[]);return c?"function"==typeof c?[c.apply(void 0,l)]:[c]:G(["<"+i+">"],l,["</"+i+">"])}(e,s,i))}),[])}var Q=function(){return(Q=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function tt(t,e){return e?Object.keys(t).reduce((function(r,n){var i,a;return r[n]=(i=t[n],(a=e[n])?Q(Q(Q({},i||{}),a||{}),Object.keys(i).reduce((function(t,e){return t[e]=Q(Q({},i[e]),a[e]||{}),t}),{})):i),r}),Q({},t)):t}var et=function(){function t(e,r,n,i){var a,o=this;if(void 0===r&&(r=t.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(t){return function(t,e,r,n,i,a){var o=H(t,e,r,n,i,void 0,a);return 1===o.length?o[0].value:o.reduce((function(t,e){return t+e.value}),"")}(o.ast,o.locales,o.formatters,o.formats,t,o.message)},this.formatToParts=function(t){return H(o.ast,o.locales,o.formatters,o.formats,t,void 0,o.message)},this.formatHTMLMessage=function(t){return $(o.ast,o.locales,o.formatters,o.formats,t,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof e){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e,{normalizeHashtagInPlural:!1})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=tt(t.formats,n),this.locales=r,this.formatters=i&&i.formatters||(void 0===(a=this.formatterCache)&&(a={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:k(Intl.NumberFormat,a.number),getDateTimeFormat:k(Intl.DateTimeFormat,a.dateTime),getPluralRules:k(Intl.PluralRules,a.pluralRules)})}return t.defaultLocale=(new Intl.NumberFormat).resolvedOptions().locale,t.__parse=T,t.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),rt=r(203),nt=r.n(rt);class it{constructor(t,e,r){this._localizer=t,this._msgId=r,this._target=e,this.values=null,this.types=null,this._init(),this.format()}_init(){var t=this._localizer._getMsg(this._msgId);this.values={},this.types={},t.ast.forEach(t=>{t.type!==c.literal&&(this.values[t.value]=null,this.types[t.value]=c[t.type])})}changeMessage(t){t!==this._msgId&&(this._msgId=t,this._init())}format(){var t=this._localizer._getMsg(this._msgId);this._target.setText(t.format(this.values),!0)}}class at{constructor(t,e=t[0]){this._availableLocales=Intl.getCanonicalLocales(t),this._fallbackLocale=Intl.getCanonicalLocales(e)[0],-1===this._availableLocales.indexOf(this._fallbackLocale)&&(console.warn('"'.concat(this._fallbackLocale,'" not in available locales. Falling back to "').concat(this._availableLocales[0],'"')),this._fallbackLocale=this._availableLocales[0]),this._cache=new Map,this._localeData=new Map,this._formatters={getNumberFormat:k(Intl.NumberFormat),getDateTimeFormat:k(Intl.DateTimeFormat),getPluralRules:k(Intl.PluralRules)},this._buildLocaleTree()}get locale(){return this._locale}matchLocale(t){var e=(t=Intl.getCanonicalLocales(t)[0]).split("-"),r=e[0],n=e.length>1?e[1]:null;if(this._localeTree.has(r)){var i=this._localeTree.get(r);return i.has(n)?null===n?r:"".concat(r,"-").concat(n):i.has(null)?r:"".concat(r,"-").concat(i.values().next().value)}return this._fallbackLocale}setLocale(t,e){var r=Intl.getCanonicalLocales(t),n=this.matchLocale(r[0]);this.locale!==n&&e(n,t=>{var e=nt.a.parse(t);this._localeData=new Map(e.data),this._locale=n,this._cache.clear()})}formatById(t,e){return this._getMsg(t).format(e)}initGroup(t){t.forEach(t=>{t instanceof Phaser.Group?this.initGroup(t):(t instanceof l.a.Text||t instanceof l.a.Button)&&this.initElement(t)})}initElement(t,e){if(t instanceof l.a.Text)e=e||t.text,this._localeData.has(e)&&(t.shui.locale=new it(this,t,e));else if(t instanceof l.a.Button){t.getStateNames().forEach(r=>{var n=t.getState(r);n.baseText&&this.initElement(n.baseText,e),n.downText&&this.initElement(n.downText,e),n.hoverText&&this.initElement(n.hoverText,e)})}}_buildLocaleTree(){this._localeTree=new Map,this._availableLocales.forEach(t=>{var e=t.split("-"),r=e[0],n=e.length>1?e[1]:null;this._localeTree.has(r)||this._localeTree.set(r,new Set),this._localeTree.get(r).add(n)})}_getMsg(t){var e;if(this._cache.has(t))e=this._cache.get(t);else{if(!this._localeData.has(t))throw new Error("".concat(t," is not a valid message ID"));e=new et(this._localeData.get(t),this.locale,void 0,{formatters:this._formatters}),this._cache.set(t,e)}return e}}var ot=r(204),st=r.n(ot),ut=r(25);class ct extends ut.a{constructor(t,e){super("web font",t,e)}loaderQueueFile(t,e,r,n){return this.phaserLoader.addToFileList("webFont",t,e[0],{urls:e,families:r},n,".css")}loaderProcessPack(t){this.phaserLoader.webFont(t.key,t.urls,t.families,t.overwrite)}loaderLoadFile(t){var e=t.families.slice(),r=[];e.forEach(t=>{var e=t.split(":");if(e[1])for(var n=e[1].split(","),i=0;i<n.length;i+=1)r.push("".concat(e[0],":").concat(n[i]));else r.push("".concat(e[0],":n4"))});var n=!1;st.a.load({classes:!1,custom:{families:t.families,urls:t.urls},fontactive:(e,i)=>{var a="".concat(e,":").concat(i),o=r.indexOf(a);o>-1&&r.splice(o,1),0===r.length&&(n?this.phaserLoader.asyncComplete(t,"Error loading WebFont"):(this.phaserLoader.cache.addWebFont(t.key),this.phaserLoader.asyncComplete(t)))},fontinactive:(e,i)=>{var a="".concat(e,":").concat(i),o=r.indexOf(a);o>-1&&r.splice(o,1),n=!0,0===r.length&&(n?this.phaserLoader.asyncComplete(t,"Error loading WebFont"):(this.phaserLoader.cache.addWebFont(t.key),this.phaserLoader.asyncComplete(t)))}})}}var lt=r(16);class ht extends Phaser.Game{constructor(t){var e={};Phaser.Utils.mixin(ht.defaultConfig,e),Phaser.Utils.mixin(t,e),e.phaserParameters.enableDebug=e.enableDebug,Phaser.Device.onInitialized.add(()=>{this._onInit(e)}),e.phaserParameters.parent=e.container2D,e.phaserParameters.width=e.width,e.phaserParameters.height=e.height,super(e.phaserParameters),this._parseFlags(),this.fsConf=e,this.fsGameRotated=0,this.device.whenReady(()=>{this._whenReady()})}_onInit(t){var e;Phaser.Device.mspointer=!1,e="auto"===t.antialias?!Phaser.Device.iOS:t.antialias,this.antialias=e,this.hiResMode=t.hiResTestFunc(this),this.hiResMode&&(t.width=t.hiResWidth,t.height=t.hiResHeight),t.showHeader&&this._showHeader(t.enableDebug)}_whenReady(){this._addLoaderPlugins(),this._addLocalizer(),this._setupScreenshot(),this._applyCommonWorkarounds(),this._setupScaling(),this._setupDebug()}_addLoaderPlugins(){new ct(this.load,this.cache),new l.a.Loaders.LayoutLoader(this.load,this.cache),this.fsConf.cdnPrefix&&""!==this.fsConf.cdnPrefix&&this.load.setCdn(this.fsConf.cdnPrefix,this.fsConf.cdnExclude)}_addLocalizer(){var t=this.fsConf.locale;this.localizer=null,t.locales.length>0&&(this.localizer=new at(t.locales,t.fallbackLocale))}_parseFlags(){this.flags={};var t=document.location.hash.substring(1);t.length>0&&t.split(";").forEach(t=>{t.length>0&&(this.flags[t]=!0)})}_reloadWithFlags(){document.location.hash="#".concat(Object.getOwnPropertyNames(this.flags).join(";")),document.location.reload()}_setupScaling(){var t=this.isResponsiveEnabled();if(this.scale.compatibility.noMargins=t,this.device.mobileSafari||(this.scale.pageAlignVertically=!0),this.scale.pageAlignHorizontally=!0,(o.a.isProbablyIPadDesktopMode()||Phaser.Device.iOS)&&o.a.isIFrame()&&(this.scale.compatibility.scrollTo=new Phaser.Point(0,0)),this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.isFullscreenEnabled()&&(this.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.onFullScreenError.add(t=>{console.error("can't enter fullscreen",t.event),this.scale.fullScreenTarget=null,this.fsConf.fullscreen=lt.NONE})),!t)return this.scale.maxWidth=this.fsConf.width,void(this.scale.maxHeight=this.fsConf.height);this.scale.setResizeCallback(()=>{if(!PhaserInput.KeyboardOpen){var t=o.a.getViewportSize(),e=this.fsConf.width/this.fsConf.height,r=t.width/t.height,n=1,i=this.fsConf.width,a=this.fsConf.height;if(this.fsGameRotated=0,this.isLockOrientationEnabled()){var s=this.fsConf.width>this.fsConf.height,u=this.fsConf.height>this.fsConf.width;if(o.a.isFullScreen()&&o.a.canLockScreen()){if(o.a.isIFrame()){var c=window.frameElement;try{c.sandbox?/allow-orientation-lock/.test(c.sandbox)||(c.sandbox+=" allow-orientation-lock"):c.sandbox="allow-orientation-lock"}catch(t){console.warn("can't make iframe to allow orientation lock",t)}}var l="portrait";s&&(l="landscape"),window.screen.orientation.lock(l).catch(t=>{this.debug.isDisabled||console.warn("orientation lock failed",t)})}var h=t.width>t.height,f=t.height>t.width;if(s!==h||u!==f){r=t.height/t.width;var p=o.a.getScreenOrientation();u&&"landscape-primary"===p?this.fsGameRotated=-90:u&&"landscape-secondary"===p||s&&"portrait-primary"===p?this.fsGameRotated=90:s&&"portrait-secondary"===p&&(this.fsGameRotated=-90)}}e<r?(n=r/e,i=Math.floor(i*n)):e>r&&(n=e/r,a=Math.floor(a*n)),i===this.width&&a===this.height||(this.scale.setGameSize(i,a),this.scale.refresh(),this._onResize());var d=this.state.getCurrentState();d&&"resize"in d&&d.resize()}})}_setupScreenshot(){!this.fsConf.screenshot&&this.flags.screenshot&&(this.fsConf.screenshot=!0),this.fsConf.screenshot&&(this._screenshotPlugin=this.plugins.add(s)),document.addEventListener("keypress",t=>{switch(t.code){case"KeyS":t.ctrlKey&&t.shiftKey?(this.flags.screenshot=!0,this._reloadWithFlags()):t.shiftKey&&this.fsConf.screenshot&&(t.stopPropagation(),this.takeScreenshot())}})}_setupDebug(){if(!this.debug.isDisabled){this.time.advancedTiming=!0;var t=0,e=new Phaser.Text(this,0,0,"",{font:"bold ".concat(this.fsConf.debugSize," monospace"),fill:"#ffffff",stroke:"#000000",backgroundColor:"rgba(0, 0, 0, 0.5)",strokeThickness:4});e.lineSpacing=-12,this.stage.addChild(e),this.debug.extraText=null,e.update=()=>{(t+=this.time.elapsedMS)>500&&(t-=500,e.text="".concat(this.time.fps,"/").concat(this.time.suggestedFps," fps ").concat(o.a.getScreenOrientation(),"\nDisplay: ").concat(this.canvas.clientWidth,"x").concat(this.canvas.clientHeight,"@").concat(window.devicePixelRatio.toFixed(2),"\nPhaser:  ").concat(this.width,"x").concat(this.height,"@").concat(this.scale.scaleFactorInversed.x.toFixed(2)),this.debug.extraText&&(e.text+="\n".concat(this.debug.extraText)))},window.fsDebug={game:this}}}_applyCommonWorkarounds(){this.time.desiredFps=1e3,this.input.keyboard.addKeyCapture(Phaser.Keyboard.UP),this.input.keyboard.addKeyCapture(Phaser.Keyboard.DOWN),this.input.keyboard.addKeyCapture(Phaser.Keyboard.LEFT),this.input.keyboard.addKeyCapture(Phaser.Keyboard.RIGHT),this.input.keyboard.addKeyCapture(Phaser.Keyboard.SPACEBAR),this.onBlur.add(()=>{this.input.reset()});var t=o.a.isIFrame();if(this.device.iOS&&t&&(this.stage.disableVisibilityChange=!0),t){var e=document.createElement("input");document.body.appendChild(e),e.focus(),document.body.removeChild(e)}this.device.iOS&&(this.fsConf.fullscreen=lt.NONE),o.a.isProbablyIPadDesktopMode()&&(Phaser.Device.desktop=!1),this.fsConf.disableContextMenu&&document.body.addEventListener("contextmenu",t=>{t.preventDefault()})}_showHeader(t=!1){this.device.ie?console.log("A game by Flying Sheep Studios https://flying-sheep.com"):console.log("%c  A game by  %c Flying Sheep Studios %c  %c https://flying-sheep.com","line-height: 1.5; font-size: 100%; background: #474747; color: #fff;","line-height: 1.5; font-size: 150%; background: #33b3f2; color: #fff;","line-height: 1.5; font-size: 100%; background: #474747;","line-height: 1.5; font-size: 100%; background: #fff;"),t&&"fsVersion"in window&&console.log(window.fsVersion)}_onResize(){}startFullscreen(){if(!o.a.isFullScreen()&&this.isFullscreenEnabled()){if(o.a.isIFrame()&&this.fsConf.fullscreenForceIframe)if(window.frameElement)try{window.frameElement.allowfullscreen=!0,this.scale.fullScreenTarget=window.frameElement,window.frameElement.addEventListener("fullscreenerror",t=>{this.scale.fullScreenError(t)})}catch(t){console.warn("cant set allowfullscreen on iframe, fullscreen disabled"),this.fsConf.fullscreen=lt.NONE,this.scale.fullScreenTarget=null}else console.warn("cant access frameElement, fullscreen disabled"),this.fsConf.fullscreen=lt.NONE,this.scale.fullScreenTarget=null;else this.scale.fullScreenTarget=document.body;if(this.scale.fullScreenTarget)try{this.scale.startFullScreen()}catch(t){console.warn("error in startFullscreen. document.fullscreenEnabled: ".concat(document.fullscreenEnabled,", fullscreenTarget: ").concat(this.scale.fullScreenTarget),t),this.scale.fullScreenTarget=null,this.fsConf.fullscreen=lt.NONE}}}takeScreenshot(){this._screenshotPlugin?this._screenshotPlugin.takeScreenshot():console.warn("Screenshot mode disabled")}setLocale(t){this.localizer?this.fsConf.locale.locale=t:console.warn("Localizer not initialized. Are there locale files in your porject?")}isResponsiveEnabled(){return(this.fsConf.responsive&lt.SCALING_ENABLED_MOBILE)>0&&!this.device.desktop||(this.fsConf.responsive&lt.SCALING_ENABLED_DESKTOP)>0&&this.device.desktop||(this.fsConf.responsive&lt.SCALING_ENABLED_IFRAME)>0&&o.a.isIFrame()}isLockOrientationEnabled(){return((this.fsConf.lockOrientation&lt.LOCK_ORIENTATION_MOBILE)>0&&!this.device.desktop||(this.fsConf.lockOrientation&lt.LOCK_ORIENTATION_DESKTOP)>0&&this.device.desktop)&&this.isResponsiveEnabled()}isFullscreenEnabled(){return((this.fsConf.fullscreen&lt.FULLSCREEN_MOBILE)>0&&!this.device.desktop||(this.fsConf.fullscreen&lt.FULLSCREEN_DESKTOP)>0&&this.device.desktop)&&this.device.fullscreen&&this.isResponsiveEnabled()}}ht.hiResCheck=t=>{if(!t.device.desktop||o.a.isProbablyIPadDesktopMode())return t.fsConf.enableDebug&&console.log("no hires mode, mobile device"),!1;if(t.fsConf.width>=t.fsConf.hiResWidth||t.fsConf.height>=t.fsConf.hiResHeight)return t.fsConf.enableDebug&&console.log("no hires mode, hires resolution too small"),!1;var e=1|window.devicePixelRatio;return t.fsConf.hiResWidth*t.fsConf.hiResTolerance>document.documentElement.clientWidth*e||t.fsConf.hiResHeight*t.fsConf.hiResTolerance>document.documentElement.clientHeight*e?(t.fsConf.enableDebug&&console.log("no hires mode, screen to small"),!1):(t.fsConf.enableDebug&&console.log("hires mode enabled"),!0)},ht.defaultConfig={width:720,height:1280,hiResWidth:0,hiResHeight:0,hiResTolerance:.8,hiResTestFunc:ht.hiResCheck,responsive:lt.SCALING_ENABLED_MOBILE|lt.SCALING_ENABLED_IFRAME,lockOrientation:lt.LOCK_ORIENTATION_MOBILE,fullscreen:lt.FULLSCREEN_MOBILE,fullscreenForceIframe:!0,container2D:"container-2d",enableDebug:!0,debugSize:"16px",showHeader:!0,disableContextMenu:!0,antialias:"auto",phaserParameters:{renderer:Phaser.AUTO,enableDebug:!0,roundPixels:!0},locale:{locales:[],fallbackLocale:"en-US",locale:"de-DE"},screenshot:!1,screenshotLogarithmicDepthBuffer:!0,cdnPrefix:"",cdnExclude:!1};class ft extends ht{constructor(t){var e={};Phaser.Utils.mixin(ht.defaultConfig,e),Phaser.Utils.mixin(ft.defaultConfig,e),Phaser.Utils.mixin(t,e),e.phaserParameters.enableDebug=e.enableDebug,e.phaserParameters.transparent=!0,super(e),this.three=null}_onInit(t){var e;e="auto"===t.antialias?Phaser.Device.desktop:t.antialias,t.threeParameters.antialias=e,super._onInit(t)}_whenReady(){this._addLoaderPlugins(),this._addLocalizer(),this._setupScreenshot(),this._setupThree(),this._applyCommonWorkarounds(),this._setupScaling(),this._setupDebug()}_addLoaderPlugins(){super._addLoaderPlugins(),new n.a.Loaders.SceneLoader(this.load,this.cache),new n.a.Loaders.MaterialLoader(this.load,this.cache),new n.a.Loaders.TextureLoader(this.load,this.cache),new n.a.Loaders.ThreeGltfLoader(this.load,this.cache)}_setupThree(){this.device.webGL?(this.fsConf.screenshot&&this.fsConf.screenshotLogarithmicDepthBuffer&&(this.fsConf.threeParameters.logarithmicDepthBuffer=!0),this.three=new a(this)):(console.error("WebGL not supported"),this._showWebGlError())}_setupScreenshot(){!this.fsConf.screenshot&&this.flags.screenshot&&(this.fsConf.screenshot=!0),this.fsConf.screenshot&&(this.fsConf.screenshotLogarithmicDepthBuffer&&(this.fsConf.threeParameters.logarithmicDepthBuffer=!0),this._screenshotPlugin=this.plugins.add(u)),document.addEventListener("keypress",t=>{switch(t.code){case"KeyS":t.ctrlKey&&t.shiftKey?(this.flags.screenshot=!0,this._reloadWithFlags()):t.shiftKey&&this.fsConf.screenshot&&(t.stopPropagation(),this.takeScreenshot(!1));break;case"KeyD":t.shiftKey&&this.fsConf.screenshot&&(t.stopPropagation(),this.takeScreenshot(!0))}})}_setupDebug(){if(!this.debug.isDisabled){this.time.advancedTiming=!0;var t=0,e=new i.Nb,r=new Phaser.Text(this,0,0,"",{font:"bold ".concat(this.fsConf.debugSize," monospace"),fill:"#ffffff",stroke:"#000000",backgroundColor:"rgba(0, 0, 0, 0.5)",strokeThickness:4});r.lineSpacing=-12,this.stage.addChild(r),this.debug.extraText=null,r.update=()=>{if((t+=this.time.elapsedMS)>500){if(t-=500,r.text="".concat(this.time.fps,"/").concat(this.time.suggestedFps," fps ").concat(o.a.getScreenOrientation(),"\nDisplay: ").concat(this.canvas.clientWidth,"x").concat(this.canvas.clientHeight,"@").concat(window.devicePixelRatio.toFixed(2),"\nPhaser:  ").concat(this.width,"x").concat(this.height,"@").concat(this.scale.scaleFactorInversed.x.toFixed(2)),this.three){var n=this.three.renderer,i=n.info,a=n.getDrawingBufferSize(e);r.text+="\nThree:   ".concat(a.width,"x").concat(a.height,"\n== Memory ========\nPrograms:   ").concat(i.programs.length,"\nGeometries: ").concat(i.memory.geometries,"\nTextures:   ").concat(i.memory.textures,"\n== Render ========\nCalls:      ").concat(i.render.calls,"\nTriangles:  ").concat(i.render.triangles,"\nPoints:     ").concat(i.render.points,"\nLines:      ").concat(i.render.lines)}this.debug.extraText&&(r.text+="\n".concat(this.debug.extraText))}},window.fsDebug={game:this}}}_showWebGlError(){var t=new Phaser.Graphics(this);t.beginFill(0),t.drawRect(0,0,this.width,this.height),t.endFill(),t.inputEnabled=!0;var e=new Phaser.Text(this,this.width/2,this.height/2,"WebGL is not supported",{font:"bold 128px sans-serif",fill:"#ff0000",align:"center",wordWrap:!0,wordWrapWidth:Math.round(.8*this.width)});e.anchor.set(.5,.5),this.stage.addChild(t),this.stage.addChild(e),this.scale.onSizeChange.add(()=>{t.beginFill(0),t.drawRect(0,0,this.width,this.height),t.endFill(),e.position.set(this.width/2,this.height/2),e.wordWrapWidth=Math.round(.8*this.width)})}_onResize(){super._onResize(),this.three.resize()}takeScreenshot(t=!1){this._screenshotPlugin?this._screenshotPlugin.takeScreenshot(t):console.warn("Screenshot mode disabled")}}ft.defaultConfig={container3D:"container-3d",threeParameters:{},phaserParameters:{renderer:Phaser.CANVAS},screenshotLogarithmicDepthBuffer:!1}},,function(t,e,r){r(212);var n,i=(n=r(384))&&n.__esModule?n:{default:n};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(t,e,r){r(213),r(356),r(358),r(361),r(363),r(365),r(367),r(369),r(371),r(373),r(375),r(377),r(379),r(383)},function(t,e,r){r(214),r(217),r(218),r(219),r(220),r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(268),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(295),r(296),r(298),r(299),r(300),r(301),r(302),r(303),r(304),r(306),r(307),r(308),r(309),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(317),r(318),r(94),r(319),r(123),r(320),r(124),r(321),r(322),r(323),r(324),r(125),r(327),r(328),r(329),r(330),r(331),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),t.exports=r(13)},function(t,e,r){var n=r(5),i=r(22),a=r(14),o=r(1),s=r(19),u=r(38).KEY,c=r(6),l=r(62),h=r(50),f=r(40),p=r(9),d=r(75),g=r(104),v=r(216),m=r(65),y=r(7),b=r(8),_=r(17),w=r(24),x=r(37),S=r(39),A=r(44),E=r(107),O=r(30),C=r(64),T=r(15),L=r(42),P=O.f,k=T.f,M=E.f,R=n.Symbol,I=n.JSON,F=I&&I.stringify,D=p("_hidden"),N=p("toPrimitive"),j={}.propertyIsEnumerable,z=l("symbol-registry"),U=l("symbols"),B=l("op-symbols"),V=Object.prototype,G="function"==typeof R&&!!C.f,W=n.QObject,H=!W||!W.prototype||!W.prototype.findChild,K=a&&c((function(){return 7!=A(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=P(V,e);n&&delete V[e],k(t,e,r),n&&t!==V&&k(V,e,n)}:k,X=function(t){var e=U[t]=A(R.prototype);return e._k=t,e},Y=G&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},q=function(t,e,r){return t===V&&q(B,e,r),y(t),e=x(e,!0),y(r),i(U,e)?(r.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),r=A(r,{enumerable:S(0,!1)})):(i(t,D)||k(t,D,S(1,{})),t[D][e]=!0),K(t,e,r)):k(t,e,r)},J=function(t,e){y(t);for(var r,n=v(e=w(e)),i=0,a=n.length;a>i;)q(t,r=n[i++],e[r]);return t},Z=function(t){var e=j.call(this,t=x(t,!0));return!(this===V&&i(U,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,D)&&this[D][t])||e)},$=function(t,e){if(t=w(t),e=x(e,!0),t!==V||!i(U,e)||i(B,e)){var r=P(t,e);return!r||!i(U,e)||i(t,D)&&t[D][e]||(r.enumerable=!0),r}},Q=function(t){for(var e,r=M(w(t)),n=[],a=0;r.length>a;)i(U,e=r[a++])||e==D||e==u||n.push(e);return n},tt=function(t){for(var e,r=t===V,n=M(r?B:w(t)),a=[],o=0;n.length>o;)!i(U,e=n[o++])||r&&!i(V,e)||a.push(U[e]);return a};G||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(r){this===V&&e.call(B,r),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),K(this,t,S(1,r))};return a&&H&&K(V,t,{configurable:!0,set:e}),X(t)}).prototype,"toString",(function(){return this._k})),O.f=$,T.f=q,r(45).f=E.f=Q,r(58).f=Z,C.f=tt,a&&!r(41)&&s(V,"propertyIsEnumerable",Z,!0),d.f=function(t){return X(p(t))}),o(o.G+o.W+o.F*!G,{Symbol:R});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;et.length>rt;)p(et[rt++]);for(var nt=L(p.store),it=0;nt.length>it;)g(nt[it++]);o(o.S+o.F*!G,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=R(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!G,"Object",{create:function(t,e){return void 0===e?A(t):J(A(t),e)},defineProperty:q,defineProperties:J,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var at=c((function(){C.f(1)}));o(o.S+o.F*at,"Object",{getOwnPropertySymbols:function(t){return C.f(_(t))}}),I&&o(o.S+o.F*(!G||c((function(){var t=R();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(b(e)||void 0!==t)&&!Y(t))return m(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Y(e))return e}),n[1]=e,F.apply(I,n)}}),R.prototype[N]||r(23)(R.prototype,N,R.prototype.valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,r){t.exports=r(62)("native-function-to-string",Function.toString)},function(t,e,r){var n=r(42),i=r(64),a=r(58);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var o,s=r(t),u=a.f,c=0;s.length>c;)u.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,r){var n=r(1);n(n.S,"Object",{create:r(44)})},function(t,e,r){var n=r(1);n(n.S+n.F*!r(14),"Object",{defineProperty:r(15).f})},function(t,e,r){var n=r(1);n(n.S+n.F*!r(14),"Object",{defineProperties:r(106)})},function(t,e,r){var n=r(24),i=r(30).f;r(31)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(n(t),e)}}))},function(t,e,r){var n=r(17),i=r(46);r(31)("getPrototypeOf",(function(){return function(t){return i(n(t))}}))},function(t,e,r){var n=r(17),i=r(42);r(31)("keys",(function(){return function(t){return i(n(t))}}))},function(t,e,r){r(31)("getOwnPropertyNames",(function(){return r(107).f}))},function(t,e,r){var n=r(8),i=r(38).onFreeze;r(31)("freeze",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},function(t,e,r){var n=r(8),i=r(38).onFreeze;r(31)("seal",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},function(t,e,r){var n=r(8),i=r(38).onFreeze;r(31)("preventExtensions",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},function(t,e,r){var n=r(8);r(31)("isFrozen",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},function(t,e,r){var n=r(8);r(31)("isSealed",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},function(t,e,r){var n=r(8);r(31)("isExtensible",(function(t){return function(e){return!!n(e)&&(!t||t(e))}}))},function(t,e,r){var n=r(1);n(n.S+n.F,"Object",{assign:r(108)})},function(t,e,r){var n=r(1);n(n.S,"Object",{is:r(109)})},function(t,e,r){var n=r(1);n(n.S,"Object",{setPrototypeOf:r(79).set})},function(t,e,r){var n=r(59),i={};i[r(9)("toStringTag")]="z",i+""!="[object z]"&&r(19)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(t,e,r){var n=r(1);n(n.P,"Function",{bind:r(110)})},function(t,e,r){var n=r(15).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||r(14)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,r){var n=r(8),i=r(46),a=r(9)("hasInstance"),o=Function.prototype;a in o||r(15).f(o,a,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,r){var n=r(1),i=r(112);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(t,e,r){var n=r(1),i=r(113);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(t,e,r){var n=r(5),i=r(22),a=r(34),o=r(81),s=r(37),u=r(6),c=r(45).f,l=r(30).f,h=r(15).f,f=r(51).trim,p=n.Number,d=p,g=p.prototype,v="Number"==a(r(44)(g)),m="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var r,n,i,a=(e=m?e.trim():f(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var o,u=e.slice(2),c=0,l=u.length;c<l;c++)if((o=u.charCodeAt(c))<48||o>i)return NaN;return parseInt(u,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof p&&(v?u((function(){g.valueOf.call(r)})):"Number"!=a(r))?o(new d(y(e)),r,p):y(e)};for(var b,_=r(14)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(d,b=_[w])&&!i(p,b)&&h(p,b,l(d,b));p.prototype=g,g.constructor=p,r(19)(n,"Number",p)}},function(t,e,r){var n=r(1),i=r(29),a=r(114),o=r(82),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*c[r],c[r]=n%1e7,n=u(n/1e7)},f=function(t){for(var e=6,r=0;--e>=0;)r+=c[e],c[e]=u(r/t),r=r%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var r=String(c[t]);e=""===e?r:e+o.call("0",7-r.length)+r}return e},d=function(t,e,r){return 0===e?r:e%2==1?d(t,e-1,r*t):d(t*t,e/2,r)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(6)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,r,n,s,u=a(this,l),c=i(t),g="",v="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),r*=4503599627370496,(e=52-e)>0){for(h(0,r),n=c;n>=7;)h(1e7,0),n-=7;for(h(d(10,n,1),0),n=e-1;n>=23;)f(1<<23),n-=23;f(1<<n),h(1,1),f(2),v=p()}else h(0,r),h(1<<-e,0),v=p()+o.call("0",c);return v=c>0?g+((s=v.length)<=c?"0."+o.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):g+v}})},function(t,e,r){var n=r(1),i=r(6),a=r(114),o=1..toPrecision;n(n.P+n.F*(i((function(){return"1"!==o.call(1,void 0)}))||!i((function(){o.call({})}))),"Number",{toPrecision:function(t){var e=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,r){var n=r(1);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,r){var n=r(1),i=r(5).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,r){var n=r(1);n(n.S,"Number",{isInteger:r(115)})},function(t,e,r){var n=r(1);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,r){var n=r(1),i=r(115),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return i(t)&&a(t)<=9007199254740991}})},function(t,e,r){var n=r(1);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,r){var n=r(1);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,r){var n=r(1),i=r(113);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,r){var n=r(1),i=r(112);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,r){var n=r(1),i=r(116),a=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+a(t-1)*a(t+1))}})},function(t,e,r){var n=r(1),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,r){var n=r(1),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,r){var n=r(1),i=r(83);n(n.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,r){var n=r(1);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,r){var n=r(1),i=Math.exp;n(n.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,r){var n=r(1),i=r(84);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,r){var n=r(1);n(n.S,"Math",{fround:r(259)})},function(t,e,r){var n=r(83),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),u=i(2,-126);t.exports=Math.fround||function(t){var e,r,i=Math.abs(t),c=n(t);return i<u?c*(i/u/o+1/a-1/a)*u*o:(r=(e=(1+o/a)*i)-(e-i))>s||r!=r?c*(1/0):c*r}},function(t,e,r){var n=r(1),i=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var r,n,a=0,o=0,s=arguments.length,u=0;o<s;)u<(r=i(arguments[o++]))?(a=a*(n=u/r)*n+1,u=r):a+=r>0?(n=r/u)*n:r;return u===1/0?1/0:u*Math.sqrt(a)}})},function(t,e,r){var n=r(1),i=Math.imul;n(n.S+n.F*r(6)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var r=+t,n=+e,i=65535&r,a=65535&n;return 0|i*a+((65535&r>>>16)*a+i*(65535&n>>>16)<<16>>>0)}})},function(t,e,r){var n=r(1);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,r){var n=r(1);n(n.S,"Math",{log1p:r(116)})},function(t,e,r){var n=r(1);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,r){var n=r(1);n(n.S,"Math",{sign:r(83)})},function(t,e,r){var n=r(1),i=r(84),a=Math.exp;n(n.S+n.F*r(6)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},function(t,e,r){var n=r(1),i=r(84),a=Math.exp;n(n.S,"Math",{tanh:function(t){var e=i(t=+t),r=i(-t);return e==1/0?1:r==1/0?-1:(e-r)/(a(t)+a(-t))}})},function(t,e,r){var n=r(1);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,r){var n=r(1),i=r(43),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}})},function(t,e,r){var n=r(1),i=r(24),a=r(11);n(n.S,"String",{raw:function(t){for(var e=i(t.raw),r=a(e.length),n=arguments.length,o=[],s=0;r>s;)o.push(String(e[s++])),s<n&&o.push(String(arguments[s]));return o.join("")}})},function(t,e,r){r(51)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,r){var n=r(85)(!0);r(86)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})}))},function(t,e,r){var n=r(1),i=r(85)(!1);n(n.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,r){var n=r(1),i=r(11),a=r(87),o="".endsWith;n(n.P+n.F*r(89)("endsWith"),"String",{endsWith:function(t){var e=a(this,t,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(e.length),s=void 0===r?n:Math.min(i(r),n),u=String(t);return o?o.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,r){var n=r(1),i=r(87);n(n.P+n.F*r(89)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(1);n(n.P,"String",{repeat:r(82)})},function(t,e,r){var n=r(1),i=r(11),a=r(87),o="".startsWith;n(n.P+n.F*r(89)("startsWith"),"String",{startsWith:function(t){var e=a(this,t,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return o?o.call(e,n,r):e.slice(r,r+n.length)===n}})},function(t,e,r){r(20)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,r){r(20)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,r){r(20)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,r){r(20)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,r){r(20)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,r){r(20)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,r){r(20)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,r){r(20)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,r){r(20)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,r){r(20)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,r){r(20)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,r){r(20)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,r){r(20)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,r){var n=r(1);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,r){var n=r(1),i=r(17),a=r(37);n(n.P+n.F*r(6)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),r=a(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},function(t,e,r){var n=r(1),i=r(294);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,r){var n=r(6),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-50000000000001))}))||!n((function(){a.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),r=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(r>99?r:"0"+o(r))+"Z"}:a},function(t,e,r){var n=Date.prototype,i=n.toString,a=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(19)(n,"toString",(function(){var t=a.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,r){var n=r(9)("toPrimitive"),i=Date.prototype;n in i||r(23)(i,n,r(297))},function(t,e,r){var n=r(7),i=r(37);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(n(this),"number"!=t)}},function(t,e,r){var n=r(1);n(n.S,"Array",{isArray:r(65)})},function(t,e,r){var n=r(27),i=r(1),a=r(17),o=r(118),s=r(90),u=r(11),c=r(91),l=r(92);i(i.S+i.F*!r(66)((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,i,h,f=a(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g,m=0,y=l(f);if(v&&(g=n(g,d>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(r=new p(e=u(f.length));e>m;m++)c(r,m,v?g(f[m],m):f[m]);else for(h=y.call(f),r=new p;!(i=h.next()).done;m++)c(r,m,v?o(h,g,[i.value,m],!0):i.value);return r.length=m,r}})},function(t,e,r){var n=r(1),i=r(91);n(n.S+n.F*r(6)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)i(r,t,arguments[t++]);return r.length=e,r}})},function(t,e,r){var n=r(1),i=r(24),a=[].join;n(n.P+n.F*(r(57)!=Object||!r(26)(a)),"Array",{join:function(t){return a.call(i(this),void 0===t?",":t)}})},function(t,e,r){var n=r(1),i=r(78),a=r(34),o=r(43),s=r(11),u=[].slice;n(n.P+n.F*r(6)((function(){i&&u.call(i)})),"Array",{slice:function(t,e){var r=s(this.length),n=a(this);if(e=void 0===e?r:e,"Array"==n)return u.call(this,t,e);for(var i=o(t,r),c=o(e,r),l=s(c-i),h=new Array(l),f=0;f<l;f++)h[f]="String"==n?this.charAt(i+f):this[i+f];return h}})},function(t,e,r){var n=r(1),i=r(28),a=r(17),o=r(6),s=[].sort,u=[1,2,3];n(n.P+n.F*(o((function(){u.sort(void 0)}))||!o((function(){u.sort(null)}))||!r(26)(s)),"Array",{sort:function(t){return void 0===t?s.call(a(this)):s.call(a(this),i(t))}})},function(t,e,r){var n=r(1),i=r(32)(0),a=r(26)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,r){var n=r(8),i=r(65),a=r(9)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,r){var n=r(1),i=r(32)(1);n(n.P+n.F*!r(26)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,r){var n=r(1),i=r(32)(2);n(n.P+n.F*!r(26)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,r){var n=r(1),i=r(32)(3);n(n.P+n.F*!r(26)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,r){var n=r(1),i=r(32)(4);n(n.P+n.F*!r(26)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,r){var n=r(1),i=r(120);n(n.P+n.F*!r(26)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,r){var n=r(1),i=r(120);n(n.P+n.F*!r(26)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,r){var n=r(1),i=r(63)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!r(26)(a)),"Array",{indexOf:function(t){return o?a.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,r){var n=r(1),i=r(24),a=r(29),o=r(11),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!r(26)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),r=o(e.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,a(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,r){var n=r(1);n(n.P,"Array",{copyWithin:r(121)}),r(47)("copyWithin")},function(t,e,r){var n=r(1);n(n.P,"Array",{fill:r(93)}),r(47)("fill")},function(t,e,r){var n=r(1),i=r(32)(5),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),n(n.P+n.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(47)("find")},function(t,e,r){var n=r(1),i=r(32)(6),a="findIndex",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),n(n.P+n.F*o,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(47)(a)},function(t,e,r){r(53)("Array")},function(t,e,r){var n=r(5),i=r(81),a=r(15).f,o=r(45).f,s=r(88),u=r(67),c=n.RegExp,l=c,h=c.prototype,f=/a/g,p=/a/g,d=new c(f)!==f;if(r(14)&&(!d||r(6)((function(){return p[r(9)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")})))){c=function(t,e){var r=this instanceof c,n=s(t),a=void 0===e;return!r&&n&&t.constructor===c&&a?t:i(d?new l(n&&!a?t.source:t,e):l((n=t instanceof c)?t.source:t,n&&a?u.call(t):e),r?this:h,c)};for(var g=function(t){t in c||a(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},v=o(l),m=0;v.length>m;)g(v[m++]);h.constructor=c,c.prototype=h,r(19)(n,"RegExp",c)}r(53)("RegExp")},function(t,e,r){r(124);var n=r(7),i=r(67),a=r(14),o=/./.toString,s=function(t){r(19)(RegExp.prototype,"toString",t,!0)};r(6)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?s((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=o.name&&s((function(){return o.call(this)}))},function(t,e,r){var n=r(7),i=r(11),a=r(96),o=r(68);r(69)("match",1,(function(t,e,r,s){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=s(r,t,this);if(e.done)return e.value;var u=n(t),c=String(this);if(!u.global)return o(u,c);var l=u.unicode;u.lastIndex=0;for(var h,f=[],p=0;null!==(h=o(u,c));){var d=String(h[0]);f[p]=d,""===d&&(u.lastIndex=a(c,i(u.lastIndex),l)),p++}return 0===p?null:f}]}))},function(t,e,r){var n=r(7),i=r(17),a=r(11),o=r(29),s=r(96),u=r(68),c=Math.max,l=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(69)("replace",2,(function(t,e,r,d){return[function(n,i){var a=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(t,e){var i=d(r,t,this,e);if(i.done)return i.value;var h=n(t),f=String(this),p="function"==typeof e;p||(e=String(e));var v=h.global;if(v){var m=h.unicode;h.lastIndex=0}for(var y=[];;){var b=u(h,f);if(null===b)break;if(y.push(b),!v)break;""===String(b[0])&&(h.lastIndex=s(f,a(h.lastIndex),m))}for(var _,w="",x=0,S=0;S<y.length;S++){b=y[S];for(var A=String(b[0]),E=c(l(o(b.index),f.length),0),O=[],C=1;C<b.length;C++)O.push(void 0===(_=b[C])?_:String(_));var T=b.groups;if(p){var L=[A].concat(O,E,f);void 0!==T&&L.push(T);var P=String(e.apply(void 0,L))}else P=g(A,f,E,O,T,e);E>=x&&(w+=f.slice(x,E)+P,x=E+A.length)}return w+f.slice(x)}];function g(t,e,n,a,o,s){var u=n+t.length,c=a.length,l=p;return void 0!==o&&(o=i(o),l=f),r.call(s,l,(function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(u);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return r;if(l>c){var f=h(l/10);return 0===f?r:f<=c?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):r}s=a[l-1]}return void 0===s?"":s}))}}))},function(t,e,r){var n=r(7),i=r(109),a=r(68);r(69)("search",1,(function(t,e,r,o){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=o(r,t,this);if(e.done)return e.value;var s=n(t),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=a(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},function(t,e,r){var n=r(88),i=r(7),a=r(60),o=r(96),s=r(11),u=r(68),c=r(95),l=r(6),h=Math.min,f=[].push,p="length",d=!l((function(){RegExp(4294967295,"y")}));r(69)("split",2,(function(t,e,r,l){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return r.call(i,t,e);for(var a,o,s,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,l+"g");(a=c.call(g,i))&&!((o=g.lastIndex)>h&&(u.push(i.slice(h,a.index)),a[p]>1&&a.index<i[p]&&f.apply(u,a.slice(1)),s=a[0][p],h=o,u[p]>=d));)g.lastIndex===a.index&&g.lastIndex++;return h===i[p]?!s&&g.test("")||u.push(""):u.push(i.slice(h)),u[p]>d?u.slice(0,d):u}:"0".split(void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,n):g.call(String(i),r,n)},function(t,e){var n=l(g,t,this,e,g!==r);if(n.done)return n.value;var c=i(t),f=String(this),p=a(c,RegExp),v=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(d?"y":"g"),y=new p(d?c:"^(?:"+c.source+")",m),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===f.length)return null===u(y,f)?[f]:[];for(var _=0,w=0,x=[];w<f.length;){y.lastIndex=d?w:0;var S,A=u(y,d?f:f.slice(w));if(null===A||(S=h(s(y.lastIndex+(d?0:w)),f.length))===_)w=o(f,w,v);else{if(x.push(f.slice(_,w)),x.length===b)return x;for(var E=1;E<=A.length-1;E++)if(x.push(A[E]),x.length===b)return x;w=_=S}}return x.push(f.slice(_)),x}]}))},function(t,e,r){var n=r(5),i=r(97).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(34)(o);t.exports=function(){var t,e,r,c=function(){var n,i;for(u&&(n=o.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(c)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(c)}}else r=function(){i.call(n,c)};else{var h=!0,f=document.createTextNode("");new a(c).observe(f,{characterData:!0}),r=function(){f.data=h=!h}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var n=r(128),i=r(48);t.exports=r(72)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=n.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(i(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,r){var n=r(128),i=r(48);t.exports=r(72)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(i(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,r){var n,i=r(5),a=r(32)(0),o=r(19),s=r(38),u=r(108),c=r(129),l=r(8),h=r(48),f=r(48),p=!i.ActiveXObject&&"ActiveXObject"in i,d=s.getWeak,g=Object.isExtensible,v=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(l(t)){var e=d(t);return!0===e?v(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(h(this,"WeakMap"),t,e)}},b=t.exports=r(72)("WeakMap",m,y,c,!0,!0);f&&p&&(u((n=c.getConstructor(m,"WeakMap")).prototype,y),s.NEED=!0,a(["delete","has","get","set"],(function(t){var e=b.prototype,r=e[t];o(e,t,(function(e,i){if(l(e)&&!g(e)){this._f||(this._f=new n);var a=this._f[t](e,i);return"set"==t?this:a}return r.call(this,e,i)}))})))},function(t,e,r){var n=r(129),i=r(48);r(72)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(i(this,"WeakSet"),t,!0)}},n,!1,!0)},function(t,e,r){var n=r(1),i=r(73),a=r(98),o=r(7),s=r(43),u=r(11),c=r(8),l=r(5).ArrayBuffer,h=r(60),f=a.ArrayBuffer,p=a.DataView,d=i.ABV&&l.isView,g=f.prototype.slice,v=i.VIEW;n(n.G+n.W+n.F*(l!==f),{ArrayBuffer:f}),n(n.S+n.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||c(t)&&v in t}}),n(n.P+n.U+n.F*r(6)((function(){return!new f(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(o(this),t);for(var r=o(this).byteLength,n=s(t,r),i=s(void 0===e?r:e,r),a=new(h(this,f))(u(i-n)),c=new p(this),l=new p(a),d=0;n<i;)l.setUint8(d++,c.getUint8(n++));return a}}),r(53)("ArrayBuffer")},function(t,e,r){var n=r(1);n(n.G+n.W+n.F*!r(73).ABV,{DataView:r(98).DataView})},function(t,e,r){r(36)("Int8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(36)("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(36)("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0)},function(t,e,r){r(36)("Int16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(36)("Uint16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(36)("Int32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(36)("Uint32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(36)("Float32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){r(36)("Float64",8,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){var n=r(1),i=r(28),a=r(7),o=(r(5).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(6)((function(){o((function(){}))})),"Reflect",{apply:function(t,e,r){var n=i(t),u=a(r);return o?o(n,e,u):s.call(n,e,u)}})},function(t,e,r){var n=r(1),i=r(44),a=r(28),o=r(7),s=r(8),u=r(6),c=r(110),l=(r(5).Reflect||{}).construct,h=u((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),f=!u((function(){l((function(){}))}));n(n.S+n.F*(h||f),"Reflect",{construct:function(t,e){a(t),o(e);var r=arguments.length<3?t:a(arguments[2]);if(f&&!h)return l(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var u=r.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,r){var n=r(15),i=r(1),a=r(7),o=r(37);i(i.S+i.F*r(6)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,r){a(t),e=o(e,!0),a(r);try{return n.f(t,e,r),!0}catch(t){return!1}}})},function(t,e,r){var n=r(1),i=r(30).f,a=r(7);n(n.S,"Reflect",{deleteProperty:function(t,e){var r=i(a(t),e);return!(r&&!r.configurable)&&delete t[e]}})},function(t,e,r){var n=r(1),i=r(7),a=function(t){this._t=i(t),this._i=0;var e,r=this._k=[];for(e in t)r.push(e)};r(117)(a,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),n(n.S,"Reflect",{enumerate:function(t){return new a(t)}})},function(t,e,r){var n=r(30),i=r(46),a=r(22),o=r(1),s=r(8),u=r(7);o(o.S,"Reflect",{get:function t(e,r){var o,c,l=arguments.length<3?e:arguments[2];return u(e)===l?e[r]:(o=n.f(e,r))?a(o,"value")?o.value:void 0!==o.get?o.get.call(l):void 0:s(c=i(e))?t(c,r,l):void 0}})},function(t,e,r){var n=r(30),i=r(1),a=r(7);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(a(t),e)}})},function(t,e,r){var n=r(1),i=r(46),a=r(7);n(n.S,"Reflect",{getPrototypeOf:function(t){return i(a(t))}})},function(t,e,r){var n=r(1);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,r){var n=r(1),i=r(7),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return i(t),!a||a(t)}})},function(t,e,r){var n=r(1);n(n.S,"Reflect",{ownKeys:r(131)})},function(t,e,r){var n=r(1),i=r(7),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){i(t);try{return a&&a(t),!0}catch(t){return!1}}})},function(t,e,r){var n=r(15),i=r(30),a=r(46),o=r(22),s=r(1),u=r(39),c=r(7),l=r(8);s(s.S,"Reflect",{set:function t(e,r,s){var h,f,p=arguments.length<4?e:arguments[3],d=i.f(c(e),r);if(!d){if(l(f=a(e)))return t(f,r,s,p);d=u(0)}if(o(d,"value")){if(!1===d.writable||!l(p))return!1;if(h=i.f(p,r)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,n.f(p,r,h)}else n.f(p,r,u(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,r){var n=r(1),i=r(79);i&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,r){r(357),t.exports=r(13).Array.includes},function(t,e,r){var n=r(1),i=r(63)(!0);n(n.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(47)("includes")},function(t,e,r){r(359),t.exports=r(13).Array.flatMap},function(t,e,r){var n=r(1),i=r(360),a=r(17),o=r(11),s=r(28),u=r(119);n(n.P,"Array",{flatMap:function(t){var e,r,n=a(this);return s(t),e=o(n.length),r=u(n,0),i(r,n,n,e,0,1,t,arguments[1]),r}}),r(47)("flatMap")},function(t,e,r){var n=r(65),i=r(8),a=r(11),o=r(27),s=r(9)("isConcatSpreadable");t.exports=function t(e,r,u,c,l,h,f,p){for(var d,g,v=l,m=0,y=!!f&&o(f,p,3);m<c;){if(m in u){if(d=y?y(u[m],m,r):u[m],g=!1,i(d)&&(g=void 0!==(g=d[s])?!!g:n(d)),g&&h>0)v=t(e,r,d,a(d.length),v,h-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=d}v++}m++}return v}},function(t,e,r){r(362),t.exports=r(13).String.padStart},function(t,e,r){var n=r(1),i=r(132),a=r(71),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,r){r(364),t.exports=r(13).String.padEnd},function(t,e,r){var n=r(1),i=r(132),a=r(71),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,r){r(366),t.exports=r(13).String.trimLeft},function(t,e,r){r(51)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,r){r(368),t.exports=r(13).String.trimRight},function(t,e,r){r(51)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,r){r(370),t.exports=r(75).f("asyncIterator")},function(t,e,r){r(104)("asyncIterator")},function(t,e,r){r(372),t.exports=r(13).Object.getOwnPropertyDescriptors},function(t,e,r){var n=r(1),i=r(131),a=r(24),o=r(30),s=r(91);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),u=o.f,c=i(n),l={},h=0;c.length>h;)void 0!==(r=u(n,e=c[h++]))&&s(l,e,r);return l}})},function(t,e,r){r(374),t.exports=r(13).Object.values},function(t,e,r){var n=r(1),i=r(133)(!1);n(n.S,"Object",{values:function(t){return i(t)}})},function(t,e,r){r(376),t.exports=r(13).Object.entries},function(t,e,r){var n=r(1),i=r(133)(!0);n(n.S,"Object",{entries:function(t){return i(t)}})},function(t,e,r){r(125),r(378),t.exports=r(13).Promise.finally},function(t,e,r){var n=r(1),i=r(13),a=r(5),o=r(60),s=r(127);n(n.P+n.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then((function(){return r}))}:t,r?function(r){return s(e,t()).then((function(){throw r}))}:t)}})},function(t,e,r){r(380),r(381),r(382),t.exports=r(13)},function(t,e,r){var n=r(5),i=r(1),a=r(71),o=[].slice,s=/MSIE .\./.test(a),u=function(t){return function(e,r){var n=arguments.length>2,i=!!n&&o.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};i(i.G+i.B+i.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},function(t,e,r){var n=r(1),i=r(97);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,r){for(var n=r(94),i=r(42),a=r(19),o=r(5),s=r(23),u=r(52),c=r(9),l=c("iterator"),h=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),g=0;g<d.length;g++){var v,m=d[g],y=p[m],b=o[m],_=b&&b.prototype;if(_&&(_[l]||s(_,l,f),_[h]||s(_,h,m),u[m]=f,y))for(v in n)_[v]||a(_,v,n[v],!0)}},function(t,e,r){var n=function(t){var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),o=new S(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return E()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=_(o,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,o),a}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function f(){}function p(){}var d={};d[i]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==e&&r.call(v,i)&&(d=v);var m=p.prototype=h.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,a){function o(){return new e((function(n,o){!function n(i,a,o,s){var u=c(t[i],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(h).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(u.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=m.constructor=p,p.constructor=f,f.displayName=s(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,o,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new b(u(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(m),s(m,o,"Generator"),m[i]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=A,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){r(385),t.exports=r(134).global},function(t,e,r){var n=r(386);n(n.G,{global:r(99)})},function(t,e,r){var n=r(99),i=r(134),a=r(387),o=r(389),s=r(396),u=function(t,e,r){var c,l,h,f=t&u.F,p=t&u.G,d=t&u.S,g=t&u.P,v=t&u.B,m=t&u.W,y=p?i:i[e]||(i[e]={}),b=y.prototype,_=p?n:d?n[e]:(n[e]||{}).prototype;for(c in p&&(r=e),r)(l=!f&&_&&void 0!==_[c])&&s(y,c)||(h=l?_[c]:r[c],y[c]=p&&"function"!=typeof _[c]?r[c]:v&&l?a(h,n):m&&_[c]==h?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?a(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[c]=h,t&u.R&&b&&!b[c]&&o(b,c,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,r){var n=r(388);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var n=r(390),i=r(395);t.exports=r(101)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(391),i=r(392),a=r(394),o=Object.defineProperty;e.f=r(101)?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),i)try{return o(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(100);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){t.exports=!r(101)&&!r(135)((function(){return 7!=Object.defineProperty(r(393)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(100),i=r(99).document,a=n(i)&&n(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,r){var n=r(100);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},,,,,,,function(t,e){var r,n,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){Phaser.Pointer.prototype.move=function(t,e=!1){var r=this.game.input;if(!r.pollLocked){void 0===e&&(e=!1),void 0!==t.button&&(this.button=t.button),this.isMouse&&this.updateButtons(t),this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.screenX=t.screenX,this.screenY=t.screenY,this.isMouse&&r.mouse.locked&&!e&&(this.rawMovementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.rawMovementY=t.movementY||t.mozMovementY||t.webkitMovementY||0,this.movementX+=this.rawMovementX,this.movementY+=this.rawMovementY);var n,i=this.game.fsGameRotated;switch(i){case-90:n=(this.pageY-this.game.scale.offset.x)*r.scale.x,this.x=this.game.width-this.game.width*(n/this.game.width),this.y=(this.pageX-this.game.scale.offset.y)*r.scale.y;break;case 90:this.x=(this.pageY-this.game.scale.offset.x)*r.scale.x,n=(this.pageX-this.game.scale.offset.y)*r.scale.y,this.y=this.game.height-this.game.height*(n/this.game.height);break;default:this.x=(this.pageX-this.game.scale.offset.x)*r.scale.x,this.y=(this.pageY-this.game.scale.offset.y)*r.scale.y}this.position.setTo(this.x,this.y),this.circle.x=this.x,this.circle.y=this.y,(r.multiInputOverride===Phaser.Input.MOUSE_OVERRIDES_TOUCH||r.multiInputOverride===Phaser.Input.MOUSE_TOUCH_COMBINE||r.multiInputOverride===Phaser.Input.TOUCH_OVERRIDES_MOUSE&&0===r.totalActivePointers)&&(r.activePointer=this,r.x=this.x,r.y=this.y,r.position.setTo(r.x,r.y),r.circle.x=r.x,r.circle.y=r.y),this.withinGame=0!==i?this.game.scale.bounds.contains(this.pageY,this.pageX):this.game.scale.bounds.contains(this.pageX,this.pageY);for(var a=r.moveCallbacks.length;a--;)r.moveCallbacks[a].callback.call(r.moveCallbacks[a].context,this,this.x,this.y,e);return null===this.targetObject||this.game.paused&&!this.targetObject.noPause||!0!==this.targetObject.isDragged?r.interactiveItems.total>0&&this.processInteractiveObjects(e):!1===this.targetObject.update(this)&&(this.targetObject=null),this}}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){(function(e){t.exports=e}).call(this,{})}]]);