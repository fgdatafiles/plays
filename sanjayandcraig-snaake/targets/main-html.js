/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){var cb,Ja,na,Ka,ja,Aa,db,eb,fb,oa,La,Ba,D,F,ba,Ma,ca,Hb,Ib,gb,Jb,Ca,pa,Kb,Tb,hb,Na,Oa,ib,jb,kb,lb,mb,nb,c,ob,L,Y,pb,Pa,qb,rb,Lb,da,qa,S,O,u,ha,Qa,M,V,x,ka,sb,r,ia,Ra,Mb,z,ra,m,tb,Sa,Ta,T,G,sa,ub,Nb,Ob,e,Z,Ua,N,ta,Va,Wa,E,la,Xa,W,Da,vb,U,wb,ea,Ya,ma,xb,ua,Ea,Fa,yb,Za,$a,y,fa,J,Ga,va,I,zb,C,K,Ab,ab,wa,t,v,Pb,P,ga,xa,ya,R,Bb,n;function A(a,b){function d(){}d.prototype=a;var q=new d,c;for(c in b)q[c]=b[c];b.toString!==Object.prototype.toString&&(q.toString=b.toString);return q}
function Wb(a){return a instanceof Array?function(){return p.iter(a)}:"function"==typeof a.iterator?$(a,a.iterator):a.iterator}function $(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Zb++);var d;null==a.hx__closures__?a.hx__closures__={}:d=a.hx__closures__[b.__id__];null==d&&(d=function(){return d.method.apply(d.scope,arguments)},d.scope=a,d.method=b,a.hx__closures__[b.__id__]=d);return d}var g={},i=function(){return R.__string_rec(this,"")},za=function(a,b){b=b.split("u").join("");this.r=
RegExp(a,b)};g.EReg=za;za.__name__=["EReg"];za.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:za};var p=function(){};g.HxOverrides=p;p.__name__=["HxOverrides"];p.dateStr=function(a){var b=
a.getMonth()+1,d=a.getDate(),q=a.getHours(),c=a.getMinutes(),j=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>d?"0"+d:""+d)+" "+(10>q?"0"+q:""+q)+":"+(10>c?"0"+c:""+c)+":"+(10>j?"0"+j:""+j)};p.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),
new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};p.cca=function(a,b){var d=a.charCodeAt(b);return d!=d?void 0:d};p.substr=function(a,b,d){if(null!=b&&0!=b&&null!=d&&0>d)return"";null==d&&(d=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>d&&(d=a.length+d-b);return a.substr(b,d)};p.remove=function(a,b){for(var d=0,q=a.length;d<q;){if(a[d]==b)return a.splice(d,1),!0;d++}return!1};p.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},
next:function(){return this.arr[this.cur++]}}};var Qb=function(){};g.Lambda=Qb;Qb.__name__=["Lambda"];Qb.array=function(a){for(var b=[],a=Wb(a)();a.hasNext();){var d=a.next();b.push(d)}return b};Qb.count=function(a,b){var d=0;if(null==b)for(var q=Wb(a)();q.hasNext();)q.next(),d++;else for(q=Wb(a)();q.hasNext();){var c=q.next();b(c)&&d++}return d};var Rb=function(){this.length=0};g.List=Rb;Rb.__name__=["List"];Rb.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},
next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:Rb};var Ub=function(){};g.IMap=Ub;Ub.__name__=["IMap"];var Q=function(){};g.Reflect=Q;Q.__name__=["Reflect"];Q.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};Q.field=function(a,b){var d=null;try{d=a[b]}catch(q){}return d};Q.fields=function(a){var b=[];if(null!=a){var d=Object.prototype.hasOwnProperty,
q;for(q in a)"__id__"!=q&&"hx__closures__"!=q&&d.call(a,q)&&b.push(q)}return b};Q.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};Q.deleteField=function(a,b){if(!Q.hasField(a,b))return!1;delete a[b];return!0};var s=function(){};g.Std=s;s.__name__=["Std"];s.string=function(a){return R.__string_rec(a,"")};s.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==p.cca(a,1)||88==p.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};s.parseFloat=function(a){return parseFloat(a)};
var Ha=function(){this.b=""};g.StringBuf=Ha;Ha.__name__=["StringBuf"];Ha.prototype={addSub:function(a,b,d){this.b+=null==d?p.substr(a,b,null):p.substr(a,b,d)},__class__:Ha};var X=function(){};g.StringTools=X;X.__name__=["StringTools"];X.urlEncode=function(a){return encodeURIComponent(a)};X.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};X.isSpace=function(a,b){var d=p.cca(a,b);return 8<d&&14>d||32==d};X.ltrim=function(a){for(var b=a.length,d=0;d<b&&X.isSpace(a,d);)d++;return 0<
d?p.substr(a,d,b-d):a};X.rtrim=function(a){for(var b=a.length,d=0;d<b&&X.isSpace(a,b-d-1);)d++;return 0<d?p.substr(a,0,b-d):a};X.trim=function(a){return X.ltrim(X.rtrim(a))};var w=g.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};w.TNull=["TNull",0];w.TNull.toString=i;w.TNull.__enum__=w;w.TInt=["TInt",1];w.TInt.toString=i;w.TInt.__enum__=w;w.TFloat=["TFloat",2];w.TFloat.toString=i;w.TFloat.__enum__=w;w.TBool=["TBool",
3];w.TBool.toString=i;w.TBool.__enum__=w;w.TObject=["TObject",4];w.TObject.toString=i;w.TObject.__enum__=w;w.TFunction=["TFunction",5];w.TFunction.toString=i;w.TFunction.__enum__=w;w.TClass=function(a){a=["TClass",6,a];a.__enum__=w;a.toString=i;return a};w.TEnum=function(a){a=["TEnum",7,a];a.__enum__=w;a.toString=i;return a};w.TUnknown=["TUnknown",8];w.TUnknown.toString=i;w.TUnknown.__enum__=w;var H=function(){};g.Type=H;H.__name__=["Type"];H.getClass=function(a){return null==a?null:a.__class__};
H.getClassName=function(a){return a.__name__.join(".")};H.getEnumName=function(a){return a.__ename__.join(".")};H.resolveClass=function(a){a=g[a];return null==a||!a.__name__?null:a};H.resolveEnum=function(a){a=g[a];return null==a||!a.__ename__?null:a};H.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};H.createEnum=function(a,b,d){var q=Q.field(a,b);if(null==q)throw"No such constructor "+b;if(Q.isFunction(q)){if(null==d)throw"Constructor "+b+" need parameters";return q.apply(a,
d)}if(null!=d&&0!=d.length)throw"Constructor "+b+" does not need parameters";return q};H.getEnumConstructs=function(a){return a.__constructs__.slice()};H["typeof"]=function(a){switch(typeof a){case "boolean":return w.TBool;case "string":return w.TClass(String);case "number":return Math.ceil(a)==a%2147483648?w.TInt:w.TFloat;case "object":if(null==a)return w.TNull;var b=a.__enum__;if(null!=b)return w.TEnum(b);a=a.__class__;return null!=a?w.TClass(a):w.TObject;case "function":return a.__name__||a.__ename__?
w.TObject:w.TFunction;case "undefined":return w.TNull;default:return w.TUnknown}};g.XmlType={__ename__:["XmlType"],__constructs__:[]};var o=function(){};g.Xml=o;o.__name__=["Xml"];o.parse=function(a){return t.Parser.parse(a)};o.createElement=function(a){var b=new o;b.nodeType=o.Element;b._children=[];b._attributes=new v.StringMap;b.set_nodeName(a);return b};o.createPCData=function(a){var b=new o;b.nodeType=o.PCData;b.set_nodeValue(a);return b};o.createCData=function(a){var b=new o;b.nodeType=o.CData;
b.set_nodeValue(a);return b};o.createComment=function(a){var b=new o;b.nodeType=o.Comment;b.set_nodeValue(a);return b};o.createDocType=function(a){var b=new o;b.nodeType=o.DocType;b.set_nodeValue(a);return b};o.createProcessingInstruction=function(a){var b=new o;b.nodeType=o.ProcessingInstruction;b.set_nodeValue(a);return b};o.createDocument=function(){var a=new o;a.nodeType=o.Document;a._children=[];return a};o.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&
p.remove(a._parent._children,a);a._parent=this;this._children.push(a)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var d=this._children[a];if(d.nodeType==o.Element)return d;a++}return null},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,d=this.x.length;b<d;){var q=this.x[b];if(q.nodeType==o.Element&&q._nodeName==a)break;b++}this.cur=b;return b<
d},next:function(){for(var b=this.cur,d=this.x.length;b<d;){var q=this.x[b];b++;if(q.nodeType==o.Element&&q._nodeName==a)return this.cur=b,q}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},exists:function(a){if(this.nodeType!=o.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=o.Element)throw"bad nodeType";
this._attributes.set(a,b)},set_nodeValue:function(a){if(this.nodeType==o.Element||this.nodeType==o.Document)throw"bad nodeType";return this._nodeValue=a},get_nodeValue:function(){if(this.nodeType==o.Element||this.nodeType==o.Document)throw"bad nodeType";return this._nodeValue},set_nodeName:function(a){if(this.nodeType!=o.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=o.Element)throw"bad nodeType";return this._nodeName},__class__:o};var B,Cb,k,l,Sb;fa=
function(){};J=void 0;Ga=void 0;va=void 0;I=void 0;zb=void 0;C=void 0;K=void 0;Ab=void 0;ab=void 0;wa=void 0;g["flambe.util.Disposable"]=fa;fa.__name__=["flambe","util","Disposable"];fa.prototype={__class__:fa};B=function(){};g["flambe.Component"]=B;B.__name__=["flambe","Component"];B.__interfaces__=[fa];B.prototype={init:function(a,b){this.owner=a;this.next=b},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},
onAdded:function(){},__class__:B};Cb=function(){this._disposables=[]};g["flambe.Disposer"]=Cb;Cb.__name__=["flambe","Disposer"];Cb.__super__=B;Cb.prototype=A(B.prototype,{freeDisposables:function(){var a=this._disposables;this._disposables=[];for(var b=0;b<a.length;){var d=a[b];++b;d.dispose()}},dispose:function(){B.prototype.dispose.call(this);this.freeDisposables()},onRemoved:function(){this.freeDisposables()},add:function(a){this._disposables.push(a);return this},get_name:function(){return"Disposer_8"},
__class__:Cb});k=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};g["flambe.Entity"]=k;k.__name__=["flambe","Entity"];k.__interfaces__=[fa];k.prototype={dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},removeChild:function(a){for(var b=null,d=this.firstChild;null!=d;){var q=
d.next;if(d==a){null==b?this.firstChild=q:b.next=q;d.parent=null;d.next=null;break}b=d;d=q}},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var d=null,q=this.firstChild;null!=q;)d=q,q=q.next;null!=d?d.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},remove:function(a){for(var b=null,d=this.firstComponent;null!=d;){var q=d.next;if(d==a)return null==b?this.firstComponent=q:b.init(this,q),delete this._compMap[d.get_name()],
d.onRemoved(),d.init(null,null),!0;b=d;d=q}return!1},add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),d=this._compMap[b];null!=d&&this.remove(d);this._compMap[b]=a;b=null;for(d=this.firstComponent;null!=d;)b=d,d=d.next;null!=b?b.next=a:this.firstComponent=a;a.init(this,null);a.onAdded();return this},__class__:k};Ob=function(){};e=void 0;Z=void 0;Ua=void 0;N=void 0;ta=void 0;Va=void 0;Wa=void 0;E=void 0;la=void 0;Xa=void 0;W=void 0;Da=void 0;vb=void 0;U=void 0;wb=void 0;ea=void 0;
Ya=void 0;ma=void 0;xb=void 0;ua=void 0;Ea=void 0;Fa=void 0;yb=void 0;Za=void 0;$a=void 0;y=void 0;g["flambe.platform.Platform"]=Ob;Ob.__name__=["flambe","platform","Platform"];Ob.prototype={__class__:Ob};e={HtmlPlatform:function(){}};g["flambe.platform.html.HtmlPlatform"]=e.HtmlPlatform;e.HtmlPlatform.__name__=["flambe","platform","html","HtmlPlatform"];e.HtmlPlatform.__interfaces__=[Ob];e.HtmlPlatform.prototype={createRenderer:function(a){try{var b=Bb._CanvasElement.CanvasUtil.getContextWebGL(a,
{alpha:!1,depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=b)if(e.HtmlUtil.detectSlowDriver(b))null;else return new e.WebGLRenderer(this._stage,b)}catch(d){}return new e.CanvasRenderer(a)},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getRenderer:function(){return this._renderer},getMotion:function(){null==this._motion&&(this._motion=new e.HtmlMotion);return this._motion},getExternal:function(){null==
this._external&&(this._external=new e.HtmlExternal);return this._external},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new Z;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getTouch:function(){return this._touch},getPointer:function(){return this._pointer},
update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;l.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getStorage:function(){if(null==this._storage){var a=n.getLocalStorage();this._storage=null!=a?new e.HtmlStorage(a):new Ua}return this._storage},getStage:function(){return this._stage},loadAssetPack:function(a){return(new e.HtmlAssetPackLoader(this,a)).promise},init:function(){var a=this;e.HtmlUtil.fixAndroidMath();
var b=null;try{b=n.window.flambe.canvas}catch(d){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new e.HtmlStage(b);this._pointer=new N;this._mouse=new e.HtmlMouse(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new ta;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction=
"none";var q=0,c=function(d){if(!(1E3>d.timeStamp-q)){var c=b.getBoundingClientRect(),f=a.getX(d,c),c=a.getY(d,c);switch(d.type){case "mousedown":d.target==b&&(d.preventDefault(),a._mouse.submitDown(f,c,d.button),b.focus());break;case "mousemove":a._mouse.submitMove(f,c);break;case "mouseup":a._mouse.submitUp(f,c,d.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(f,c,"mousewheel"==d.type?d.wheelDelta/40:-d.detail)&&d.preventDefault()}}};n.window.addEventListener("mousedown",
c,!1);n.window.addEventListener("mousemove",c,!1);n.window.addEventListener("mouseup",c,!1);b.addEventListener("mousewheel",c,!1);b.addEventListener("DOMMouseScroll",c,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var j="undefined"!=typeof n.window.ontouchstart,c="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(j||c){var g=new Va(this._pointer,j?4:n.navigator.msMaxTouchPoints);this._touch=g;c=function(b){var d=j?b.changedTouches:[b],c=b.target.getBoundingClientRect();
q=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();e.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&e.HtmlUtil.hideMobileBrowser();for(b=0;b<d.length;){var f=d[b];++b;var bb=a.getX(f,c),i=a.getY(f,c),f=(j?f.identifier:f.pointerId)|0;g.submitDown(f,bb,i)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<d.length;)f=d[b],++b,bb=a.getX(f,c),i=a.getY(f,c),f=(j?f.identifier:f.pointerId)|0,g.submitMove(f,bb,i);break;
case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<d.length;)f=d[b],++b,bb=a.getX(f,c),i=a.getY(f,c),f=(j?f.identifier:f.pointerId)|0,g.submitUp(f,bb,i)}};j?(b.addEventListener("touchstart",c,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchend",c,!1),b.addEventListener("touchcancel",c,!1)):(b.addEventListener("MSPointerDown",c,!1),b.addEventListener("MSPointerMove",c,!1),b.addEventListener("MSPointerUp",c,!1))}else this._touch=new Wa;var bb=n.window.onerror;
n.window.onerror=function(a,b,d){l.uncaughtError.emit(a);return null!=bb?bb(a,b,d):!1};var i=e.HtmlUtil.loadExtension("hidden",n.document);null!=i.value?(c=function(){l.hidden.set__(Q.field(n.document,i.field))},c(null),n.document.addEventListener(i.prefix+"visibilitychange",c,!1)):(c=function(a){l.hidden.set__("pagehide"==a.type)},n.window.addEventListener("pageshow",c,!1),n.window.addEventListener("pagehide",c,!1));l.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=
!1;this._lastUpdate=Date.now();var h=e.HtmlUtil.loadExtension("requestAnimationFrame").value;if(null!=h){var k=n.window.performance,m=null!=k&&e.HtmlUtil.polyfill("now",k);m?this._lastUpdate=k.now():null;var o=null,o=function(d){a.update(m?k.now():d);h(o,b)};h(o,b)}else n.window.setInterval(function(){a.update(Date.now())},16);null},__class__:e.HtmlPlatform};J=function(a,b){this._value=a;this._changed=null!=b?new Ga(b):null};g["flambe.util.Value"]=J;J.__name__=["flambe","util","Value"];J.prototype=
{get_changed:function(){null==this._changed&&(this._changed=new Ga);return this._changed},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},__class__:J};va=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};g["flambe.util.SignalConnection"]=va;va.__name__=["flambe","util","SignalConnection"];va.__interfaces__=[fa];va.prototype=
{dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},once:function(){this.stayInList=!1;return this},__class__:va};I=function(a){this._head=null!=a?new va(this,a):null;this._deferredTasks=null};g["flambe.util.SignalBase"]=I;I.__name__=["flambe","util","SignalBase"];I.prototype={listRemove:function(a){for(var b=null,d=this._head;null!=d;){if(d==a){a=d._next;null==b?this._head=a:b._next=a;break}b=d;d=d._next}},listAdd:function(a,b){if(b)a._next=this._head,this._head=
a;else{for(var d=null,c=this._head;null!=c;)d=c,c=c._next;null!=d?d._next=a:this._head=a}},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},willEmit:function(){var a=this._head;this._head=I.DISPATCHING_SENTINEL;return a},defer:function(a){for(var b=null,d=this._deferredTasks;null!=d;)b=d,d=d.next;a=new zb.Task(a);null!=b?b.next=a:this._deferredTasks=a},disconnect:function(a){var b=this;this._head==I.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):
this.listRemove(a)},connectImpl:function(a,b){var d=this,c=new va(this,a);this._head==I.DISPATCHING_SENTINEL?this.defer(function(){d.listAdd(c,b)}):this.listAdd(c,b);return c},__class__:I};Ga=function(a){I.call(this,a)};g["flambe.util.Signal2"]=Ga;Ga.__name__=["flambe","util","Signal2"];Ga.__super__=I;Ga.prototype=A(I.prototype,{emitImpl:function(a,b){for(var d=this.willEmit(),c=d;null!=c;)c._listener(a,b),c.stayInList||c.dispose(),c=c._next;this.didEmit(d)},emit:function(a,b){var d=this;this._head==
I.DISPATCHING_SENTINEL?this.defer(function(){d.emitImpl(a,b)}):this.emitImpl(a,b)},connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:Ga});C=function(a){I.call(this,a)};g["flambe.util.Signal1"]=C;C.__name__=["flambe","util","Signal1"];C.__super__=I;C.prototype=A(I.prototype,{emitImpl:function(a){for(var b=this.willEmit(),d=b;null!=d;)d._listener(a),d.stayInList||d.dispose(),d=d._next;this.didEmit(b)},emit:function(a){var b=this;this._head==I.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):
this.emitImpl(a)},connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:C});G=function(a,b){this._behavior=null;J.call(this,a,b)};sa=void 0;ub=void 0;Nb=void 0;g["flambe.animation.AnimatedFloat"]=G;G.__name__=["flambe","animation","AnimatedFloat"];G.__super__=J;G.prototype=A(J.prototype,{set_behavior:function(a){this._behavior=a;this.update(0);return a},animateTo:function(a,b,d){this.set_behavior(new sa(this._value,a,b,d))},update:function(a){null!=this._behavior&&(J.prototype.set__.call(this,
this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},set__:function(a){this._behavior=null;return J.prototype.set__.call(this,a)},__class__:G});l=function(){};g["flambe.System"]=l;l.__name__=["flambe","System"];l.init=function(){l._calledInit||(l._platform.init(),l._calledInit=!0)};Sb=function(){this._realDt=0};g["flambe.SpeedAdjuster"]=Sb;Sb.__name__=["flambe","SpeedAdjuster"];Sb.__super__=B;Sb.prototype=A(B.prototype,{onUpdate:function(a){0<this._realDt&&(a=this._realDt,
this._realDt=0);this.scale.update(a)},get_name:function(){return"SpeedAdjuster_2"},__class__:Sb});ub=function(){};g["flambe.animation.Behavior"]=ub;ub.__name__=["flambe","animation","Behavior"];ub.prototype={__class__:ub};Nb=function(){};g["flambe.animation.Ease"]=Nb;Nb.__name__=["flambe","animation","Ease"];Nb.linear=function(a){return a};sa=function(a,b,d,c){this._from=a;this._to=b;this._duration=d;this.elapsed=0;this._easing=null!=c?c:Nb.linear};g["flambe.animation.Tween"]=sa;sa.__name__=["flambe",
"animation","Tween"];sa.__interfaces__=[ub];sa.prototype={isComplete:function(){return this.elapsed>=this._duration},update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},__class__:sa};ra=function(){};m=void 0;tb=void 0;Sa=void 0;Ta=void 0;T=void 0;g["flambe.asset.Asset"]=ra;ra.__name__=["flambe","asset","Asset"];ra.__interfaces__=[fa];ra.prototype={__class__:ra};m=g["flambe.asset.AssetFormat"]={__ename__:["flambe",
"asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};m.WEBP=["WEBP",0];m.WEBP.toString=i;m.WEBP.__enum__=m;m.JXR=["JXR",1];m.JXR.toString=i;m.JXR.__enum__=m;m.PNG=["PNG",2];m.PNG.toString=i;m.PNG.__enum__=m;m.JPG=["JPG",3];m.JPG.toString=i;m.JPG.__enum__=m;m.GIF=["GIF",4];m.GIF.toString=i;m.GIF.__enum__=m;m.DDS=["DDS",5];m.DDS.toString=i;m.DDS.__enum__=m;m.PVR=["PVR",6];m.PVR.toString=i;m.PVR.__enum__=m;m.PKM=["PKM",7];m.PKM.toString=i;m.PKM.__enum__=
m;m.MP3=["MP3",8];m.MP3.toString=i;m.MP3.__enum__=m;m.M4A=["M4A",9];m.M4A.toString=i;m.M4A.__enum__=m;m.OPUS=["OPUS",10];m.OPUS.toString=i;m.OPUS.__enum__=m;m.OGG=["OGG",11];m.OGG.toString=i;m.OGG.__enum__=m;m.WAV=["WAV",12];m.WAV.toString=i;m.WAV.__enum__=m;m.Data=["Data",13];m.Data.toString=i;m.Data.__enum__=m;tb=function(a,b,d,c){this.name=a;this.url=b;this.format=d;this.bytes=c};g["flambe.asset.AssetEntry"]=tb;tb.__name__=["flambe","asset","AssetEntry"];tb.prototype={__class__:tb};Sa=function(){};
g["flambe.asset.AssetPack"]=Sa;Sa.__name__=["flambe","asset","AssetPack"];Sa.__interfaces__=[fa];Sa.prototype={__class__:Sa};Ta=function(){};g["flambe.asset.File"]=Ta;Ta.__name__=["flambe","asset","File"];Ta.__interfaces__=[ra];Ta.prototype={__class__:Ta};R=void 0;Bb=void 0;n=void 0;n=function(){};g["js.Browser"]=n;n.__name__=["js","Browser"];n.getLocalStorage=function(){try{var a=n.window.localStorage;a.getItem("");return a}catch(b){return null}};T=function(){this._localBase=this._remoteBase=null;
this._entries=[]};g["flambe.asset.Manifest"]=T;T.__name__=["flambe","asset","Manifest"];T.fromAssets=function(a,b){null==b&&(b=!0);var d=Q.field(Pb.Meta.getType(T).assets[0],a);if(null==d){if(b)throw K.withFields("Missing asset pack",["name",a]);return null}var c=new T;c.set_localBase("assets");for(var f=0;f<d.length;){var j=d[f];++f;var e=j.name,g=a+"/"+e+"?v="+s.string(j.md5),i=T.inferFormat(e);i!=m.Data&&(e=K.removeFileExtension(e));c.add(e,g,j.bytes,i)}return c};T.inferFormat=function(a){a=K.getUrlExtension(a);
if(null!=a)switch(a.toLowerCase()){case "gif":return m.GIF;case "jpg":case "jpeg":return m.JPG;case "jxr":case "wdp":return m.JXR;case "png":return m.PNG;case "webp":return m.WEBP;case "dds":return m.DDS;case "pvr":return m.PVR;case "pkm":return m.PKM;case "m4a":return m.M4A;case "mp3":return m.MP3;case "ogg":return m.OGG;case "opus":return m.OPUS;case "wav":return m.WAV}else null;return m.Data};T.prototype={set_remoteBase:function(a){null!=a&&null;return this._remoteBase=a},get_remoteBase:function(){return this._remoteBase},
set_localBase:function(a){null!=a&&null;return this._localBase=a},get_localBase:function(){return this._localBase},getFullURL:function(a){var b=null!=this.get_remoteBase()&&T._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?K.joinPath(b,a.url):a.url},iterator:function(){return p.iter(this._entries)},add:function(a,b,d,c){null==d&&(d=0);null==c&&(c=T.inferFormat(b));a=new tb(a,b,c,d);this._entries.push(a);return a},__class__:T};O=void 0;u=void 0;ha=void 0;Qa=void 0;M=
void 0;V=void 0;x=void 0;ka=void 0;sb=void 0;r=void 0;ia=void 0;Ra=void 0;Mb=void 0;z=void 0;O=g["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:["Normal","Add","Mask","Copy"]};O.Normal=["Normal",0];O.Normal.toString=i;O.Normal.__enum__=O;O.Add=["Add",1];O.Add.toString=i;O.Add.__enum__=O;O.Mask=["Mask",2];O.Mask.toString=i;O.Mask.__enum__=O;O.Copy=["Copy",3];O.Copy.toString=i;O.Copy.__enum__=O;Lb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};
da=void 0;qa=void 0;S=void 0;g["flambe.math.Point"]=Lb;Lb.__name__=["flambe","math","Point"];Lb.prototype={__class__:Lb};u=function(){this.blendMode=this.scissor=null;var a=this;this._flags=139;this._localMatrix=new da;var b=function(){a._flags|=12};this.x=new G(0,b);this.y=new G(0,b);this.rotation=new G(0,b);this.scaleX=new G(1,b);this.scaleY=new G(1,b);this.anchorX=new G(0,b);this.anchorY=new G(0,b);this.alpha=new G(1)};g["flambe.display.Sprite"]=u;u.__name__=["flambe","display","Sprite"];u.hitTest=
function(a,b,d){var c=a._compMap.Sprite_0;if(null!=c){if(3!=(c._flags&3))return null;c.getLocalMatrix().inverseTransform(b,d,u._scratchPoint)&&(b=u._scratchPoint.x,d=u._scratchPoint.y);var f=c.scissor;if(null!=f&&!f.contains(b,d))return null}a=u.hitTestBackwards(a.firstChild,b,d);return null!=a?a:null!=c&&c.containsLocal(b,d)?c:null};u.render=function(a,b){var d=a._compMap.Sprite_0;if(null!=d){var c=d.alpha._value;if(0==(d._flags&1)||0>=c)return;b.save();1>c&&b.multiplyAlpha(c);null!=d.blendMode&&
b.setBlendMode(d.blendMode);var c=d.getLocalMatrix(),f=c.m02,j=c.m12;0!=(d._flags&128)&&(f=Math.round(f),j=Math.round(j));b.transform(c.m00,c.m10,c.m01,c.m11,f,j);c=d.scissor;null!=c&&b.applyScissor(c.x,c.y,c.width,c.height);d.draw(b)}c=a._compMap.Director_1;if(null!=c){c=c.occludedScenes;for(f=0;f<c.length;)j=c[f],++f,u.render(j,b)}for(c=a.firstChild;null!=c;)f=c.next,u.render(c,b),c=f;null!=d&&b.restore()};u.hitTestBackwards=function(a,b,d){if(null!=a){var c=u.hitTestBackwards(a.next,b,d);return null!=
c?c:u.hitTest(a,b,d)}return null};u.__super__=B;u.prototype=A(B.prototype,{onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&256)&&this._pointerOut.emit(a),this._flags&=-257,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},onHover:function(a){if(0==(this._flags&256)&&(this._flags|=256,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),
this.connectHover()},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},set_pixelSnapping:function(a){this._flags=Ab.set(this._flags,128,a);return a},set_visible:function(a){this._flags=Ab.set(this._flags,1,a);return a},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=l._platform.getPointer().move.connect(function(b){for(var d=
b.hit;null!=d;){if(d==a)return;d=d.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&256)&&a._pointerOut.emit(b);a._flags&=-257;a._hoverConnection.dispose();a._hoverConnection=null}))},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_0;if(null!=b)return b;a=a.parent}return null},draw:function(){},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);
this.anchorX.update(a);this.anchorY.update(a)},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onAdded:function(){0!=(this._flags&256)&&this.connectHover()},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},getLocalMatrix:function(){0!=
(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},get_name:function(){return"Sprite_0"},__class__:u});ha=function(a,
b,d){u.call(this);this.color=a;this.width=new G(b);this.height=new G(d)};g["flambe.display.FillSprite"]=ha;ha.__name__=["flambe","display","FillSprite"];ha.__super__=u;ha.prototype=A(u.prototype,{onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},getNaturalHeight:function(){return this.height._value},getNaturalWidth:function(){return this.width._value},draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},__class__:ha});Qa=
function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};g["flambe.display.Glyph"]=Qa;Qa.__name__=["flambe","display","Glyph"];Qa.prototype={setKerning:function(a,b){null==this._kernings&&(this._kernings=new v.IntMap);this._kernings.set(a,b)},getKerning:function(a){return null!=this._kernings?this._kernings.get(a)|0:0},draw:function(a,b,d){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,d+this.yOffset,
this.x,this.y,this.width,this.height)},__class__:Qa};M=function(a,b){this.name=b;this._pack=a;this.reload()};g["flambe.display.Font"]=M;M.__name__=["flambe","display","Font"];M.prototype={reload:function(){this._glyphs=new v.IntMap;this._glyphs.set(M.NEWLINE.charCode,M.NEWLINE);for(var a=new V.ConfigParser(this._pack.getFile(this.name+".fnt").toString()),b=new v.IntMap,d=this.name.lastIndexOf("/"),d=0<=d?p.substr(this.name,0,d+1):"",c=a.keywords();c.hasNext();)switch(c.next()){case "info":for(var f=
a.pairs();f.hasNext();){var j=f.next();switch(j.key){case "size":this.size=j.getInt()}}break;case "common":for(f=a.pairs();f.hasNext();)switch(j=f.next(),j.key){case "lineHeight":this.lineHeight=j.getInt()}break;case "page":for(var f=0,e=null,g=a.pairs();g.hasNext();)switch(j=g.next(),j.key){case "id":f=j.getInt();break;case "file":e=j.getString()}b.set(f,this._pack.getTexture(d+K.removeFileExtension(e)));break;case "char":f=null;for(e=a.pairs();e.hasNext();)switch(j=e.next(),j.key){case "id":f=new Qa(j.getInt());
break;case "x":f.x=j.getInt();break;case "y":f.y=j.getInt();break;case "width":f.width=j.getInt();break;case "height":f.height=j.getInt();break;case "page":f.page=b.get(j.getInt());break;case "xoffset":f.xOffset=j.getInt();break;case "yoffset":f.yOffset=j.getInt();break;case "xadvance":f.xAdvance=j.getInt()}this._glyphs.set(f.charCode,f);break;case "kerning":for(var f=null,g=e=0,i=a.pairs();i.hasNext();)switch(j=i.next(),j.key){case "first":f=this._glyphs.get(j.getInt());break;case "second":e=j.getInt();
break;case "amount":g=j.getInt()}null!=f&&0!=g&&f.setKerning(e,g)}},layoutText:function(a,b,d,c,f){null==f&&(f=0);null==c&&(c=0);null==d&&(d=0);null==b&&(b=x.Left);return new ka(this,a,b,d,c,f)},__class__:M};x=g["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};x.Left=["Left",0];x.Left.toString=i;x.Left.__enum__=x;x.Center=["Center",1];x.Center.toString=i;x.Center.__enum__=x;x.Right=["Right",2];x.Right.toString=i;x.Right.__enum__=x;ka=
function(a,b,d,c,f,j){this.lines=0;var e=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+j);this.bounds=new qa;for(var g=[],i=b.length,h=0;h<i;){var k=h++,j=b.charCodeAt(k),j=a._glyphs.get(j);null!=j?this._glyphs.push(j):null}for(var b=-1,m=0,l=0,a=a._glyphs.get(10),i=function(){e.bounds.width=S.max(e.bounds.width,m);e.bounds.height+=l;g[e.lines]=m;l=m=0;++e.lines},k=0;k<this._glyphs.length;)j=this._glyphs[k],this._offsets[k]=Math.round(m),(h=0<c&&m+j.width>
c)||j==a?(h&&(0<=b?(this._glyphs[b]=a,m=this._offsets[b],k=b):this._glyphs.splice(k,0,a)),b=-1,l=this._lineOffset,i()):(32==j.charCode&&(b=k),m+=j.xAdvance+f,l=S.max(l,j.height+j.yOffset),k+1<this._glyphs.length&&(m+=j.getKerning(this._glyphs[k+1].charCode))),++k;i();for(var f=0,k=ka.getAlignOffset(d,g[0],c),a=1.79769313486231E308,b=-1.79769313486231E308,h=i=0,n=this._glyphs.length;h<n;){j=this._glyphs[h];10==j.charCode&&(f+=this._lineOffset,++i,k=ka.getAlignOffset(d,g[i],c));this._offsets[h]+=k;
var o=f+j.yOffset,a=a<o?a:o,b=S.max(b,o+j.height);++h}this.bounds.x=ka.getAlignOffset(d,this.bounds.width,c);this.bounds.y=a;this.bounds.height=b-a};g["flambe.display.TextLayout"]=ka;ka.__name__=["flambe","display","TextLayout"];ka.getAlignOffset=function(a,b,d){switch(a[1]){case 0:return 0;case 2:return d-b;case 1:return Math.round((d-b)/2)}};ka.prototype={draw:function(a){for(var b=0,d=0,c=this._glyphs.length;d<c;){var f=this._glyphs[d];10==f.charCode?b+=this._lineOffset:f.draw(a,this._offsets[d],
b);++d}},__class__:ka};V={ConfigParser:function(a){this._configText=a;this._keywordPattern=new za("([A-Za-z]+)(.*)","");this._pairPattern=new za('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")}};g["flambe.display._Font.ConfigParser"]=V.ConfigParser;V.ConfigParser.__name__=["flambe","display","_Font","ConfigParser"];V.ConfigParser.advance=function(a,b){var d=b.matchedPos();return p.substr(a,d.pos+d.len,a.length)};V.ConfigParser.prototype={pairs:function(){var a=this,b=this._pairText;return{next:function(){b=V.ConfigParser.advance(b,
a._pairPattern);return new V.ConfigPair(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},keywords:function(){var a=this,b=this._configText;return{next:function(){b=V.ConfigParser.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},__class__:V.ConfigParser};V.ConfigPair=function(a,b){this.key=a;this._value=b};g["flambe.display._Font.ConfigPair"]=
V.ConfigPair;V.ConfigPair.__name__=["flambe","display","_Font","ConfigPair"];V.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:p.substr(this._value,1,this._value.length-2)},getInt:function(){return s.parseInt(this._value)},__class__:V.ConfigPair};sb=function(){};g["flambe.display.Graphics"]=sb;sb.__name__=["flambe","display","Graphics"];sb.prototype={__class__:sb};r=function(a){u.call(this);this.texture=a};g["flambe.display.ImageSprite"]=r;r.__name__=["flambe",
"display","ImageSprite"];r.__super__=u;r.prototype=A(u.prototype,{getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},__class__:r});ia=g["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};ia.Portrait=["Portrait",0];ia.Portrait.toString=i;ia.Portrait.__enum__=
ia;ia.Landscape=["Landscape",1];ia.Landscape.toString=i;ia.Landscape.__enum__=ia;Ra=function(){};g["flambe.display.Texture"]=Ra;Ra.__name__=["flambe","display","Texture"];Ra.__interfaces__=[ra];Ra.prototype={__class__:Ra};Mb=function(){};g["flambe.display.SubTexture"]=Mb;Mb.__name__=["flambe","display","SubTexture"];Mb.__interfaces__=[Ra];z=function(a,b){null==b&&(b="");this._layout=null;var d=this;u.call(this);this._font=a;this._text=b;this._align=x.Left;this._flags|=64;var c=function(){d._flags|=
64};this.wrapWidth=new G(0,c);this.letterSpacing=new G(0,c);this.lineSpacing=new G(0,c)};g["flambe.display.TextSprite"]=z;z.__name__=["flambe","display","TextSprite"];z.__super__=u;z.prototype=A(u.prototype,{onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},updateLayout:function(){0!=(this._flags&64)&&(this._flags&=-65,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,
this.lineSpacing._value))},set_align:function(a){a!=this._align&&(this._align=a,this._flags|=64);return a},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=64);return a},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?
this.wrapWidth._value:this._layout.bounds.width},draw:function(a){this.updateLayout();this._layout.draw(a)},__class__:z});mb=function(){this.init(0,0,0)};nb=void 0;c=void 0;ob=void 0;L=void 0;Y=void 0;pb=void 0;Pa=void 0;qb=void 0;rb=void 0;g["flambe.input.Acceleration"]=mb;mb.__name__=["flambe","input","Acceleration"];mb.prototype={init:function(a,b,d){this.x=a;this.y=b;this.z=d},__class__:mb};nb=function(){this.init(0,0,0)};g["flambe.input.Attitude"]=nb;nb.__name__=["flambe","input","Attitude"];
nb.prototype={init:function(a,b,d){this.pitch=a;this.roll=b;this.azimuth=d},__class__:nb};c=g["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
c.A=["A",0];c.A.toString=i;c.A.__enum__=c;c.B=["B",1];c.B.toString=i;c.B.__enum__=c;c.C=["C",2];c.C.toString=i;c.C.__enum__=c;c.D=["D",3];c.D.toString=i;c.D.__enum__=c;c.E=["E",4];c.E.toString=i;c.E.__enum__=c;c.F=["F",5];c.F.toString=i;c.F.__enum__=c;c.G=["G",6];c.G.toString=i;c.G.__enum__=c;c.H=["H",7];c.H.toString=i;c.H.__enum__=c;c.I=["I",8];c.I.toString=i;c.I.__enum__=c;c.J=["J",9];c.J.toString=i;c.J.__enum__=c;c.K=["K",10];c.K.toString=i;c.K.__enum__=c;c.L=["L",11];c.L.toString=i;c.L.__enum__=
c;c.M=["M",12];c.M.toString=i;c.M.__enum__=c;c.N=["N",13];c.N.toString=i;c.N.__enum__=c;c.O=["O",14];c.O.toString=i;c.O.__enum__=c;c.P=["P",15];c.P.toString=i;c.P.__enum__=c;c.Q=["Q",16];c.Q.toString=i;c.Q.__enum__=c;c.R=["R",17];c.R.toString=i;c.R.__enum__=c;c.S=["S",18];c.S.toString=i;c.S.__enum__=c;c.T=["T",19];c.T.toString=i;c.T.__enum__=c;c.U=["U",20];c.U.toString=i;c.U.__enum__=c;c.V=["V",21];c.V.toString=i;c.V.__enum__=c;c.W=["W",22];c.W.toString=i;c.W.__enum__=c;c.X=["X",23];c.X.toString=
i;c.X.__enum__=c;c.Y=["Y",24];c.Y.toString=i;c.Y.__enum__=c;c.Z=["Z",25];c.Z.toString=i;c.Z.__enum__=c;c.Number0=["Number0",26];c.Number0.toString=i;c.Number0.__enum__=c;c.Number1=["Number1",27];c.Number1.toString=i;c.Number1.__enum__=c;c.Number2=["Number2",28];c.Number2.toString=i;c.Number2.__enum__=c;c.Number3=["Number3",29];c.Number3.toString=i;c.Number3.__enum__=c;c.Number4=["Number4",30];c.Number4.toString=i;c.Number4.__enum__=c;c.Number5=["Number5",31];c.Number5.toString=i;c.Number5.__enum__=
c;c.Number6=["Number6",32];c.Number6.toString=i;c.Number6.__enum__=c;c.Number7=["Number7",33];c.Number7.toString=i;c.Number7.__enum__=c;c.Number8=["Number8",34];c.Number8.toString=i;c.Number8.__enum__=c;c.Number9=["Number9",35];c.Number9.toString=i;c.Number9.__enum__=c;c.Numpad0=["Numpad0",36];c.Numpad0.toString=i;c.Numpad0.__enum__=c;c.Numpad1=["Numpad1",37];c.Numpad1.toString=i;c.Numpad1.__enum__=c;c.Numpad2=["Numpad2",38];c.Numpad2.toString=i;c.Numpad2.__enum__=c;c.Numpad3=["Numpad3",39];c.Numpad3.toString=
i;c.Numpad3.__enum__=c;c.Numpad4=["Numpad4",40];c.Numpad4.toString=i;c.Numpad4.__enum__=c;c.Numpad5=["Numpad5",41];c.Numpad5.toString=i;c.Numpad5.__enum__=c;c.Numpad6=["Numpad6",42];c.Numpad6.toString=i;c.Numpad6.__enum__=c;c.Numpad7=["Numpad7",43];c.Numpad7.toString=i;c.Numpad7.__enum__=c;c.Numpad8=["Numpad8",44];c.Numpad8.toString=i;c.Numpad8.__enum__=c;c.Numpad9=["Numpad9",45];c.Numpad9.toString=i;c.Numpad9.__enum__=c;c.NumpadAdd=["NumpadAdd",46];c.NumpadAdd.toString=i;c.NumpadAdd.__enum__=c;c.NumpadDecimal=
["NumpadDecimal",47];c.NumpadDecimal.toString=i;c.NumpadDecimal.__enum__=c;c.NumpadDivide=["NumpadDivide",48];c.NumpadDivide.toString=i;c.NumpadDivide.__enum__=c;c.NumpadEnter=["NumpadEnter",49];c.NumpadEnter.toString=i;c.NumpadEnter.__enum__=c;c.NumpadMultiply=["NumpadMultiply",50];c.NumpadMultiply.toString=i;c.NumpadMultiply.__enum__=c;c.NumpadSubtract=["NumpadSubtract",51];c.NumpadSubtract.toString=i;c.NumpadSubtract.__enum__=c;c.F1=["F1",52];c.F1.toString=i;c.F1.__enum__=c;c.F2=["F2",53];c.F2.toString=
i;c.F2.__enum__=c;c.F3=["F3",54];c.F3.toString=i;c.F3.__enum__=c;c.F4=["F4",55];c.F4.toString=i;c.F4.__enum__=c;c.F5=["F5",56];c.F5.toString=i;c.F5.__enum__=c;c.F6=["F6",57];c.F6.toString=i;c.F6.__enum__=c;c.F7=["F7",58];c.F7.toString=i;c.F7.__enum__=c;c.F8=["F8",59];c.F8.toString=i;c.F8.__enum__=c;c.F9=["F9",60];c.F9.toString=i;c.F9.__enum__=c;c.F10=["F10",61];c.F10.toString=i;c.F10.__enum__=c;c.F11=["F11",62];c.F11.toString=i;c.F11.__enum__=c;c.F12=["F12",63];c.F12.toString=i;c.F12.__enum__=c;c.F13=
["F13",64];c.F13.toString=i;c.F13.__enum__=c;c.F14=["F14",65];c.F14.toString=i;c.F14.__enum__=c;c.F15=["F15",66];c.F15.toString=i;c.F15.__enum__=c;c.Left=["Left",67];c.Left.toString=i;c.Left.__enum__=c;c.Up=["Up",68];c.Up.toString=i;c.Up.__enum__=c;c.Right=["Right",69];c.Right.toString=i;c.Right.__enum__=c;c.Down=["Down",70];c.Down.toString=i;c.Down.__enum__=c;c.Alt=["Alt",71];c.Alt.toString=i;c.Alt.__enum__=c;c.Backquote=["Backquote",72];c.Backquote.toString=i;c.Backquote.__enum__=c;c.Backslash=
["Backslash",73];c.Backslash.toString=i;c.Backslash.__enum__=c;c.Backspace=["Backspace",74];c.Backspace.toString=i;c.Backspace.__enum__=c;c.CapsLock=["CapsLock",75];c.CapsLock.toString=i;c.CapsLock.__enum__=c;c.Comma=["Comma",76];c.Comma.toString=i;c.Comma.__enum__=c;c.Command=["Command",77];c.Command.toString=i;c.Command.__enum__=c;c.Control=["Control",78];c.Control.toString=i;c.Control.__enum__=c;c.Delete=["Delete",79];c.Delete.toString=i;c.Delete.__enum__=c;c.End=["End",80];c.End.toString=i;c.End.__enum__=
c;c.Enter=["Enter",81];c.Enter.toString=i;c.Enter.__enum__=c;c.Equals=["Equals",82];c.Equals.toString=i;c.Equals.__enum__=c;c.Escape=["Escape",83];c.Escape.toString=i;c.Escape.__enum__=c;c.Home=["Home",84];c.Home.toString=i;c.Home.__enum__=c;c.Insert=["Insert",85];c.Insert.toString=i;c.Insert.__enum__=c;c.LeftBracket=["LeftBracket",86];c.LeftBracket.toString=i;c.LeftBracket.__enum__=c;c.Minus=["Minus",87];c.Minus.toString=i;c.Minus.__enum__=c;c.PageDown=["PageDown",88];c.PageDown.toString=i;c.PageDown.__enum__=
c;c.PageUp=["PageUp",89];c.PageUp.toString=i;c.PageUp.__enum__=c;c.Period=["Period",90];c.Period.toString=i;c.Period.__enum__=c;c.Quote=["Quote",91];c.Quote.toString=i;c.Quote.__enum__=c;c.RightBracket=["RightBracket",92];c.RightBracket.toString=i;c.RightBracket.__enum__=c;c.Semicolon=["Semicolon",93];c.Semicolon.toString=i;c.Semicolon.__enum__=c;c.Shift=["Shift",94];c.Shift.toString=i;c.Shift.__enum__=c;c.Slash=["Slash",95];c.Slash.toString=i;c.Slash.__enum__=c;c.Space=["Space",96];c.Space.toString=
i;c.Space.__enum__=c;c.Tab=["Tab",97];c.Tab.toString=i;c.Tab.__enum__=c;c.Menu=["Menu",98];c.Menu.toString=i;c.Menu.__enum__=c;c.Search=["Search",99];c.Search.toString=i;c.Search.__enum__=c;c.Unknown=function(a){a=["Unknown",100,a];a.__enum__=c;a.toString=i;return a};ob=function(){this.init(0,null)};g["flambe.input.KeyboardEvent"]=ob;ob.__name__=["flambe","input","KeyboardEvent"];ob.prototype={init:function(a,b){this.id=a;this.key=b},__class__:ob};L=g["flambe.input.MouseButton"]={__ename__:["flambe",
"input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};L.Left=["Left",0];L.Left.toString=i;L.Left.__enum__=L;L.Middle=["Middle",1];L.Middle.toString=i;L.Middle.__enum__=L;L.Right=["Right",2];L.Right.toString=i;L.Right.__enum__=L;L.Unknown=function(a){a=["Unknown",3,a];a.__enum__=L;a.toString=i;return a};Y=g["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};Y.Default=["Default",0];Y.Default.toString=i;Y.Default.__enum__=
Y;Y.Button=["Button",1];Y.Button.toString=i;Y.Button.__enum__=Y;Y.None=["None",2];Y.None.toString=i;Y.None.__enum__=Y;pb=function(){this.init(0,0,0,null)};g["flambe.input.MouseEvent"]=pb;pb.__name__=["flambe","input","MouseEvent"];pb.prototype={init:function(a,b,d,c){this.id=a;this.viewX=b;this.viewY=d;this.button=c},__class__:pb};Pa=g["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};Pa.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Pa;a.toString=
i;return a};Pa.Touch=function(a){a=["Touch",1,a];a.__enum__=Pa;a.toString=i;return a};qb=function(){this.init(0,0,0,null,null)};g["flambe.input.PointerEvent"]=qb;qb.__name__=["flambe","input","PointerEvent"];qb.prototype={init:function(a,b,d,c,f){this.id=a;this.viewX=b;this.viewY=d;this.hit=c;this.source=f;this._stopped=!1},__class__:qb};rb=function(a){this.id=a;this._source=Pa.Touch(this)};g["flambe.input.TouchPoint"]=rb;rb.__name__=["flambe","input","TouchPoint"];rb.prototype={init:function(a,b){this.viewX=
a;this.viewY=b},__class__:rb};S=function(){};g["flambe.math.FMath"]=S;S.__name__=["flambe","math","FMath"];S.max=function(a,b){return a>b?a:b};S.min=function(a,b){return a<b?a:b};S.clamp=function(a,b,d){return a<b?b:a>d?d:a};da=function(){this.identity()};g["flambe.math.Matrix"]=da;da.__name__=["flambe","math","Matrix"];da.multiply=function(a,b,d){null==d&&(d=new da);var c=a.m00*b.m00+a.m01*b.m10,f=a.m00*b.m01+a.m01*b.m11,j=a.m00*b.m02+a.m01*b.m12+a.m02;d.m00=c;d.m01=f;d.m02=j;c=a.m10*b.m00+a.m11*
b.m10;f=a.m10*b.m01+a.m11*b.m11;j=a.m10*b.m02+a.m11*b.m12+a.m12;d.m10=c;d.m11=f;d.m12=j;return d};da.prototype={clone:function(a){null==a&&(a=new da);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},inverseTransform:function(a,b,d){var c=this.determinant();if(0==c)return!1;a-=this.m02;b-=this.m12;d.x=(a*this.m11-b*this.m01)/c;d.y=(b*this.m00-a*this.m10)/c;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},transformArray:function(a,b,d){for(var c=0;c<
b;){var f=a[c],j=a[c+1];d[c++]=f*this.m00+j*this.m01+this.m02;d[c++]=f*this.m10+j*this.m11+this.m12}},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m01/a,-this.m10/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},compose:function(a,b,d,c,f){var j=Math.sin(f),f=Math.cos(f);this.set(f*d,j*d,-j*c,f*c,a,b)},identity:function(){this.set(1,
0,0,1,0,0)},set:function(a,b,d,c,f,j){this.m00=a;this.m01=d;this.m02=f;this.m10=b;this.m11=c;this.m12=j},__class__:da};qa=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,d,c)};g["flambe.math.Rectangle"]=qa;qa.__name__=["flambe","math","Rectangle"];qa.prototype={equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},clone:function(a){null==a&&(a=new qa);a.set(this.x,this.y,this.width,this.height);return a},contains:function(a,
b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},set:function(a,b,d,c){this.x=a;this.y=b;this.width=d;this.height=c},__class__:qa};E=function(){this._disposed=!1};g["flambe.platform.BasicAsset"]=E;E.__name__=["flambe","platform","BasicAsset"];E.__interfaces__=[ra];E.prototype={onDisposed:function(){null},dispose:function(){this._disposed||(this._disposed=
!0,this.onDisposed())},__class__:E};la=function(a,b){var d=this;this.manifest=b;this._platform=a;this.promise=new ab;this._bytesLoaded=new v.StringMap;this._pack=new Xa.BasicAssetPack(b,this);var c=Qb.array(b);if(0==c.length)this.handleSuccess();else{for(var f=new v.StringMap,j=0;j<c.length;){var e=c[j];++j;var g=f.get(e.name);null==g&&(g=[],f.set(e.name,g));g.push(e)}this._assetsRemaining=Qb.count(f);for(c=function(){return function(a){return function(){return function(){return a.iterator()}}()}}()(f)();c.hasNext();)g=
c.next(),g=[g],this.pickBestEntry(g[0],function(a){return function(c){if(null!=c){var q=b.getFullURL(c);try{d.loadEntry(q,c)}catch(f){d.handleError(c,"Unexpected error: "+s.string(f))}q=d.promise;q.set_total(q._total+c.bytes)}else c=a[0][0],la.isAudio(c.format)?d.handleLoad(c,W.getInstance()):d.handleError(c,"Could not find a supported format to load")}}(g))}};g["flambe.platform.BasicAssetPackLoader"]=la;la.__name__=["flambe","platform","BasicAssetPackLoader"];la.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;
default:return!1}};la.prototype={handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},handleError:function(a,b){this.promise.error.emit(K.withFields(b,["url",a.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var d=0,c=function(a){return function(){return a.iterator()}}(this._bytesLoaded)();c.hasNext();)var f=c.next(),d=d+f;this.promise.set_progress(d)},
handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var d;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:d=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:d=this._pack.sounds;break;case 13:d=this._pack.files}d.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},getAssetFormats:function(){null},loadEntry:function(){null},pickBestEntry:function(a,b){this.getAssetFormats(function(d){for(var c=
0;c<d.length;){var f=d[c];++c;for(var j=0;j<a.length;){var e=a[j];++j;if(e.format==f){b(e);return}}}b(null)})},onDisposed:function(){},__class__:la};Xa={BasicAssetPack:function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new v.StringMap;this.sounds=new v.StringMap;this.files=new v.StringMap}};g["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=Xa.BasicAssetPack;Xa.BasicAssetPack.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];Xa.BasicAssetPack.__interfaces__=
[Sa];Xa.BasicAssetPack.prototype={dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=function(a){return function(){return a.iterator()}}(this.textures)();a.hasNext();)a.next().dispose();this.textures=null;for(a=function(a){return function(){return a.iterator()}}(this.sounds)();a.hasNext();)a.next().dispose();this.sounds=null;for(a=function(a){return function(){return a.iterator()}}(this.files)();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},getFile:function(a,
b){null==b&&(b=!0);var d=this.files.get(a);if(null==d&&b)throw K.withFields("Missing file",["name",a]);return d},getSound:function(a,b){null==b&&(b=!0);var d=this.sounds.get(a);if(null==d&&b)throw K.withFields("Missing sound",["name",a]);return d},getTexture:function(a,b){null==b&&(b=!0);var d=this.textures.get(a);if(null==d&&b)throw K.withFields("Missing texture",["name",a]);return d},__class__:Xa.BasicAssetPack};Da=function(a){E.call(this);this._content=a};g["flambe.platform.BasicFile"]=Da;Da.__name__=
["flambe","platform","BasicFile"];Da.__interfaces__=[Ta];Da.__super__=E;Da.prototype=A(E.prototype,{onDisposed:function(){this._content=null},toString:function(){return this._content},__class__:Da});Kb=function(){};Tb=void 0;hb=void 0;Na=void 0;Oa=void 0;ib=void 0;jb=void 0;kb=void 0;lb=void 0;g["flambe.subsystem.KeyboardSystem"]=Kb;Kb.__name__=["flambe","subsystem","KeyboardSystem"];Kb.prototype={__class__:Kb};Z=function(){this.down=new C;this.up=new C;this.backButton=new wa;this._keyStates=new v.IntMap};
g["flambe.platform.BasicKeyboard"]=Z;Z.__name__=["flambe","platform","BasicKeyboard"];Z.__interfaces__=[Kb];Z.prototype={submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),Z._sharedEvent.init(Z._sharedEvent.id+1,vb.toKey(a)),this.up.emit(Z._sharedEvent))},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),Z._sharedEvent.init(Z._sharedEvent.id+1,vb.toKey(a)),this.down.emit(Z._sharedEvent));
return!0},__class__:Z};Tb=function(){};g["flambe.subsystem.MouseSystem"]=Tb;Tb.__name__=["flambe","subsystem","MouseSystem"];U=function(a){this._pointer=a;this._source=Pa.Mouse(U._sharedEvent);this.down=new C;this.move=new C;this.up=new C;this.scroll=new C;this._y=this._x=0;this._cursor=Y.Default;this._buttonStates=new v.IntMap};g["flambe.platform.BasicMouse"]=U;U.__name__=["flambe","platform","BasicMouse"];U.__interfaces__=[Tb];U.prototype={prepare:function(a,b,d){this._x=a;this._y=b;U._sharedEvent.init(U._sharedEvent.id+
1,a,b,d)},submitScroll:function(a,b,d){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(d);return!0},submitUp:function(a,b,d){this._buttonStates.exists(d)&&(this._buttonStates.remove(d),this.prepare(a,b,wb.toButton(d)),this._pointer.submitUp(a,b,this._source),this.up.emit(U._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(U._sharedEvent)},submitDown:function(a,b,d){this._buttonStates.exists(d)||(this._buttonStates.set(d,
!0),this.prepare(a,b,wb.toButton(d)),this._pointer.submitDown(a,b,this._source),this.down.emit(U._sharedEvent))},__class__:U};hb=function(){};g["flambe.subsystem.PointerSystem"]=hb;hb.__name__=["flambe","subsystem","PointerSystem"];hb.prototype={__class__:hb};N=function(a,b,d){null==d&&(d=!1);null==b&&(b=0);null==a&&(a=0);this.down=new C;this.move=new C;this.up=new C;this._x=a;this._y=b;this._isDown=d};g["flambe.platform.BasicPointer"]=N;N.__name__=["flambe","platform","BasicPointer"];N.__interfaces__=
[hb];N.prototype={prepare:function(a,b,d,c){this._x=a;this._y=b;N._sharedEvent.init(N._sharedEvent.id+1,a,b,d,c)},submitUp:function(a,b,d){if(this._isDown){this.submitMove(a,b,d);this._isDown=!1;var c=[],f=u.hitTest(l.root,a,b);if(null!=f){var j=f.owner;do{var e=j._compMap.Sprite_0;null!=e&&c.push(e);j=j.parent}while(null!=j)}this.prepare(a,b,f,d);for(a=0;a<c.length;)if(e=c[a],++a,e.onPointerUp(N._sharedEvent),N._sharedEvent._stopped)return;this.up.emit(N._sharedEvent)}},submitMove:function(a,b,d){if(!(a==
this._x&&b==this._y)){var c=[],f=u.hitTest(l.root,a,b);if(null!=f){var j=f.owner;do{var e=j._compMap.Sprite_0;null!=e&&c.push(e);j=j.parent}while(null!=j)}this.prepare(a,b,f,d);for(a=0;a<c.length;)if(e=c[a],++a,e.onPointerMove(N._sharedEvent),N._sharedEvent._stopped)return;this.move.emit(N._sharedEvent)}},submitDown:function(a,b,d){if(!this._isDown){this.submitMove(a,b,d);this._isDown=!0;var c=[],f=u.hitTest(l.root,a,b);if(null!=f){var j=f.owner;do{var e=j._compMap.Sprite_0;null!=e&&c.push(e);j=j.parent}while(null!=
j)}this.prepare(a,b,f,d);for(a=0;a<c.length;)if(e=c[a],++a,e.onPointerDown(N._sharedEvent),N._sharedEvent._stopped)return;this.down.emit(N._sharedEvent)}},__class__:N};ea=function(a,b,d){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=0;E.call(this);this.root=a;this._width=b;this._height=d};g["flambe.platform.BasicTexture"]=ea;ea.__name__=["flambe","platform","BasicTexture"];ea.__interfaces__=[Mb];ea.__super__=E;ea.prototype=A(E.prototype,{get_height:function(){return this._height},get_width:function(){return this._width},
onDisposed:function(){null==this._parent&&this.root.dispose()},subTexture:function(a,b,d,c){d=this.root.createTexture(d,c);d._parent=this;d._x=a;d._y=b;d.rootX=this.rootX+a;d.rootY=this.rootY+b;return d},__class__:ea});Na=function(){};g["flambe.subsystem.TouchSystem"]=Na;Na.__name__=["flambe","subsystem","TouchSystem"];Na.prototype={__class__:Na};Va=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new v.IntMap;this._points=[];this.down=new C;this.move=new C;this.up=new C};
g["flambe.platform.BasicTouch"]=Va;Va.__name__=["flambe","platform","BasicTouch"];Va.__interfaces__=[Na];Va.prototype={submitUp:function(a,b,d){var c=this._pointMap.get(a);null!=c&&(c.init(b,d),this._pointMap.remove(a),p.remove(this._points,c),this._pointerTouch==c&&(this._pointerTouch=null,this._pointer.submitUp(b,d,c._source)),this.up.emit(c))},submitMove:function(a,b,d){a=this._pointMap.get(a);null!=a&&(a.init(b,d),this._pointerTouch==a&&this._pointer.submitMove(b,d,a._source),this.move.emit(a))},
submitDown:function(a,b,d){if(!this._pointMap.exists(a)){var c=new rb(a);c.init(b,d);this._pointMap.set(a,c);this._points.push(c);null==this._pointerTouch&&(this._pointerTouch=c,this._pointer.submitDown(b,d,c._source));this.down.emit(c)}},get_supported:function(){return!0},__class__:Va};Ca=function(){};pa=void 0;g["flambe.sound.Sound"]=Ca;Ca.__name__=["flambe","sound","Sound"];Ca.__interfaces__=[ra];Ca.prototype={__class__:Ca};W=function(){E.call(this);this._playback=new Ya(this)};g["flambe.platform.DummySound"]=
W;W.__name__=["flambe","platform","DummySound"];W.__interfaces__=[Ca];W.getInstance=function(){null==W._instance&&(W._instance=new W);return W._instance};W.__super__=E;W.prototype=A(E.prototype,{onDisposed:function(){},loop:function(){return this._playback},play:function(){return this._playback},__class__:W});pa=function(){};g["flambe.sound.Playback"]=pa;pa.__name__=["flambe","sound","Playback"];pa.__interfaces__=[fa];pa.prototype={__class__:pa};Ya=function(a){this._sound=a;this.volume=new G(0);this._complete=
new J(!0)};g["flambe.platform.DummyPlayback"]=Ya;Ya.__name__=["flambe","platform","DummyPlayback"];Ya.__interfaces__=[pa];Ya.prototype={dispose:function(){},__class__:Ya};Oa=function(){};g["flambe.subsystem.StorageSystem"]=Oa;Oa.__name__=["flambe","subsystem","StorageSystem"];Oa.prototype={__class__:Oa};Ua=function(){this.clear()};g["flambe.platform.DummyStorage"]=Ua;Ua.__name__=["flambe","platform","DummyStorage"];Ua.__interfaces__=[Oa];Ua.prototype={clear:function(){this._hash=new v.StringMap},
get:function(a,b){return this._hash.exists(a)?this._hash.get(a):b},set:function(a,b){this._hash.set(a,b);return!0},__class__:Ua};Wa=function(){this.down=new C;this.move=new C;this.up=new C};g["flambe.platform.DummyTouch"]=Wa;Wa.__name__=["flambe","platform","DummyTouch"];Wa.__interfaces__=[Na];Wa.prototype={get_supported:function(){return!1},__class__:Wa};ma=function(){this._entries=[]};g["flambe.platform.EventGroup"]=ma;ma.__name__=["flambe","platform","EventGroup"];ma.__interfaces__=[fa];ma.prototype=
{dispose:function(){for(var a=0,b=this._entries;a<b.length;){var d=b[a];++a;d.dispatcher.removeEventListener(d.type,d.listener,!1)}this._entries=[]},addDisposingListener:function(a,b,d){var c=this;this.addListener(a,b,function(a){c.dispose();d(a)})},addListener:function(a,b,d){a.addEventListener(b,d,!1);this._entries.push(new xb.Entry(a,b,d))},__class__:ma};xb={Entry:function(a,b,d){this.dispatcher=a;this.type=b;this.listener=d}};g["flambe.platform._EventGroup.Entry"]=xb.Entry;xb.Entry.__name__=["flambe",
"platform","_EventGroup","Entry"];xb.Entry.prototype={__class__:xb.Entry};ua=function(a){C.call(this,a);this.hasListenersValue=new J(null!=this._head)};g["flambe.platform.HeavySignal1"]=ua;ua.__name__=["flambe","platform","HeavySignal1"];ua.__super__=C;ua.prototype=A(C.prototype,{didEmit:function(a){C.prototype.didEmit.call(this,a);this.hasListenersValue.set__(null!=this._head)},disconnect:function(a){C.prototype.disconnect.call(this,a);this.hasListenersValue.set__(null!=this._head)},connect:function(a,
b){null==b&&(b=!1);var d=C.prototype.connect.call(this,a,b);this.hasListenersValue.set__(null!=this._head);return d},__class__:ua});Ea=function(){};g["flambe.platform.InternalGraphics"]=Ea;Ea.__name__=["flambe","platform","InternalGraphics"];Ea.__interfaces__=[sb];Ea.prototype={__class__:Ea};ib=function(){};g["flambe.subsystem.RendererSystem"]=ib;ib.__name__=["flambe","subsystem","RendererSystem"];ib.prototype={__class__:ib};Fa=function(){};g["flambe.platform.InternalRenderer"]=Fa;Fa.__name__=["flambe",
"platform","InternalRenderer"];Fa.__interfaces__=[ib];Fa.prototype={__class__:Fa};vb=function(){};g["flambe.platform.KeyCodes"]=vb;vb.__name__=["flambe","platform","KeyCodes"];vb.toKey=function(a){switch(a){case 65:return c.A;case 66:return c.B;case 67:return c.C;case 68:return c.D;case 69:return c.E;case 70:return c.F;case 71:return c.G;case 72:return c.H;case 73:return c.I;case 74:return c.J;case 75:return c.K;case 76:return c.L;case 77:return c.M;case 78:return c.N;case 79:return c.O;case 80:return c.P;
case 81:return c.Q;case 82:return c.R;case 83:return c.S;case 84:return c.T;case 85:return c.U;case 86:return c.V;case 87:return c.W;case 88:return c.X;case 89:return c.Y;case 90:return c.Z;case 48:return c.Number0;case 49:return c.Number1;case 50:return c.Number2;case 51:return c.Number3;case 52:return c.Number4;case 53:return c.Number5;case 54:return c.Number6;case 55:return c.Number7;case 56:return c.Number8;case 57:return c.Number9;case 96:return c.Numpad0;case 97:return c.Numpad1;case 98:return c.Numpad2;
case 99:return c.Numpad3;case 100:return c.Numpad4;case 101:return c.Numpad5;case 102:return c.Numpad6;case 103:return c.Numpad7;case 104:return c.Numpad8;case 105:return c.Numpad9;case 107:return c.NumpadAdd;case 110:return c.NumpadDecimal;case 111:return c.NumpadDivide;case 108:return c.NumpadEnter;case 106:return c.NumpadMultiply;case 109:return c.NumpadSubtract;case 112:return c.F1;case 113:return c.F2;case 114:return c.F3;case 115:return c.F4;case 116:return c.F5;case 117:return c.F6;case 118:return c.F7;
case 119:return c.F8;case 120:return c.F9;case 121:return c.F10;case 122:return c.F11;case 123:return c.F12;case 37:return c.Left;case 38:return c.Up;case 39:return c.Right;case 40:return c.Down;case 18:return c.Alt;case 192:return c.Backquote;case 220:return c.Backslash;case 8:return c.Backspace;case 20:return c.CapsLock;case 188:return c.Comma;case 15:return c.Command;case 17:return c.Control;case 46:return c.Delete;case 35:return c.End;case 13:return c.Enter;case 187:return c.Equals;case 27:return c.Escape;
case 36:return c.Home;case 45:return c.Insert;case 219:return c.LeftBracket;case 189:return c.Minus;case 34:return c.PageDown;case 33:return c.PageUp;case 190:return c.Period;case 222:return c.Quote;case 221:return c.RightBracket;case 186:return c.Semicolon;case 16:return c.Shift;case 191:return c.Slash;case 32:return c.Space;case 9:return c.Tab;case 16777234:return c.Menu;case 16777247:return c.Search}return c.Unknown(a)};ta=function(){this._tickables=[]};g["flambe.platform.MainLoop"]=ta;ta.__name__=
["flambe","platform","MainLoop"];ta.updateEntity=function(a,b){var d=a._compMap.SpeedAdjuster_2;if(null!=d&&(d._realDt=b,b*=d.scale._value,0>=b)){d.onUpdate(b);return}for(var c=a.firstComponent;null!=c;)d=c.next,c.onUpdate(b),c=d;for(c=a.firstChild;null!=c;)d=c.next,ta.updateEntity(c,b),c=d};ta.prototype={addTickable:function(a){this._tickables.push(a)},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),u.render(l.root,b),a.didRender())},update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=
0;b<this._tickables.length;){var d=this._tickables[b];null==d||d.update(a)?this._tickables.splice(b,1):++b}l.volume.update(a);ta.updateEntity(l.root,a)}},__class__:ta};yb=function(){};g["flambe.platform.MathUtil"]=yb;yb.__name__=["flambe","platform","MathUtil"];yb.nextPowerOfTwo=function(a){for(var b=1;b<a;)b<<=1;return b};wb=function(){};g["flambe.platform.MouseCodes"]=wb;wb.__name__=["flambe","platform","MouseCodes"];wb.toButton=function(a){switch(a){case 0:return L.Left;case 1:return L.Middle;
case 2:return L.Right}return L.Unknown(a)};Za=function(){};g["flambe.platform.TextureRoot"]=Za;Za.__name__=["flambe","platform","TextureRoot"];Za.prototype={__class__:Za};$a=function(){};g["flambe.platform.Tickable"]=$a;$a.__name__=["flambe","platform","Tickable"];$a.prototype={__class__:$a};e.CanvasGraphics=function(a){this._firstDraw=!1;this._canvasCtx=a.getContext("2d")};g["flambe.platform.html.CanvasGraphics"]=e.CanvasGraphics;e.CanvasGraphics.__name__=["flambe","platform","html","CanvasGraphics"];
e.CanvasGraphics.__interfaces__=[Ea];e.CanvasGraphics.prototype={onResize:function(){},didRender:function(){},willRender:function(){this._firstDraw=!0},applyScissor:function(a,b,d,c){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,d|0,c|0);this._canvasCtx.clip()},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="destination-in";break;case 3:b="copy"}this._canvasCtx.globalCompositeOperation=b},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=
a},fillRect:function(a,b,d,c,f){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,d,c,f),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+s.string(a);this._canvasCtx.fillStyle="#"+s.string(a);this._canvasCtx.fillRect(b|0,d|0,c|0,f|0)}},drawSubTexture:function(a,b,d,c,f,j,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,d,c,
f,j,e),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+c|0,a.rootY+f|0,j|0,e|0,b|0,d|0,j|0,e|0)},drawTexture:function(a,b,d){this.drawSubTexture(a,b,d,0,0,a.get_width(),a.get_height())},restore:function(){this._canvasCtx.restore()},transform:function(a,b,d,c,f,j){this._canvasCtx.transform(a,b,d,c,f,j)},save:function(){this._canvasCtx.save()},__class__:e.CanvasGraphics};e.CanvasRenderer=function(a){this.graphics=new e.CanvasGraphics(a);this._hasGPU=
new J(!0)};g["flambe.platform.html.CanvasRenderer"]=e.CanvasRenderer;e.CanvasRenderer.__name__=["flambe","platform","html","CanvasRenderer"];e.CanvasRenderer.__interfaces__=[Fa];e.CanvasRenderer.prototype={didRender:function(){this.graphics.didRender()},willRender:function(){this.graphics.willRender()},createCompressedTexture:function(){return null},getCompressedTextureFormats:function(){return[]},createTextureFromImage:function(a){a=new e.CanvasTextureRoot(e.CanvasRenderer.CANVAS_TEXTURES?e.HtmlUtil.createCanvas(a):
a);return a.createTexture(a.width,a.height)},__class__:e.CanvasRenderer};e.CanvasTexture=function(a,b,d){ea.call(this,a,b,d)};g["flambe.platform.html.CanvasTexture"]=e.CanvasTexture;e.CanvasTexture.__name__=["flambe","platform","html","CanvasTexture"];e.CanvasTexture.__super__=ea;e.CanvasTexture.prototype=A(ea.prototype,{__class__:e.CanvasTexture});e.CanvasTextureRoot=function(a){this._graphics=null;E.call(this);this.image=a;this.width=a.width;this.height=a.height};g["flambe.platform.html.CanvasTextureRoot"]=
e.CanvasTextureRoot;e.CanvasTextureRoot.__name__=["flambe","platform","html","CanvasTextureRoot"];e.CanvasTextureRoot.__interfaces__=[Za];e.CanvasTextureRoot.__super__=E;e.CanvasTextureRoot.prototype=A(E.prototype,{onDisposed:function(){this._graphics=this.image=null},createTexture:function(a,b){return new e.CanvasTexture(this,a,b)},__class__:e.CanvasTextureRoot});e.HtmlAssetPackLoader=function(a,b){la.call(this,a,b)};g["flambe.platform.html.HtmlAssetPackLoader"]=e.HtmlAssetPackLoader;e.HtmlAssetPackLoader.__name__=
["flambe","platform","html","HtmlAssetPackLoader"];e.HtmlAssetPackLoader.detectImageFormats=function(a){var b=[m.PNG,m.JPG,m.GIF],d=2,c=n.document.createElement("img");c.onload=c.onerror=function(){1==c.width&&b.unshift(m.WEBP);--d;0==d&&a(b)};c.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var f=n.document.createElement("img");f.onload=f.onerror=function(){1==f.width&&b.unshift(m.JXR);--d;0==d&&a(b)};f.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};
e.HtmlAssetPackLoader.detectAudioFormats=function(){var a=n.document.createElement("audio");if(null==a||null==$(a,a.canPlayType))return[];var b=new za("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),d=n.navigator.userAgent;if(!e.WebAudioSound.get_supported()&&b.match(d))return[];for(var b=[{format:m.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:m.MP3,mimeType:"audio/mpeg"},{format:m.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:m.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:m.WAV,mimeType:"audio/wav"}],
d=[],c=0;c<b.length;){var f=b[c];++c;var j="";try{j=a.canPlayType(f.mimeType)}catch(g){}""!=j&&d.push(f.format)}return d};e.HtmlAssetPackLoader.supportsBlob=function(){if(e.HtmlAssetPackLoader._detectBlobSupport){e.HtmlAssetPackLoader._detectBlobSupport=!1;if((new za("\\bSilk\\b","")).match(n.navigator.userAgent)||null==n.window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;e.HtmlAssetPackLoader._URL=
e.HtmlUtil.loadExtension("URL").value}return null!=e.HtmlAssetPackLoader._URL&&null!=e.HtmlAssetPackLoader._URL.createObjectURL};e.HtmlAssetPackLoader.__super__=la;e.HtmlAssetPackLoader.prototype=A(la.prototype,{download:function(a,b,d,c){var f=this,j=null,e=null,g=0,i=!1,h=function(){i&&(i=!1,n.window.clearInterval(g))},k=3,m=function(){--k;return 0<=k?(e(),!0):!1},e=function(){h();null!=j&&j.abort();j=new XMLHttpRequest;j.open("GET",a,!0);j.responseType=d;var e=0;j.onprogress=function(a){i||(i=
!0,g=n.window.setInterval(function(){4!=j.readyState&&5E3<Date.now()-e&&!m()&&(h(),f.handleError(b,"Download stalled"))},1E3));e=Date.now();f.handleProgress(b,a.loaded)};j.onerror=function(){if(0!=j.status||!m())h(),f.handleError(b,"HTTP error "+j.status)};j.onload=function(){var a=j.response;null==a&&(a=j.responseText);h();c(a)};j.send()};e()},getAssetFormats:function(a){var b=this;null==e.HtmlAssetPackLoader._supportedFormats&&(e.HtmlAssetPackLoader._supportedFormats=new ab,e.HtmlAssetPackLoader.detectImageFormats(function(a){e.HtmlAssetPackLoader._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(e.HtmlAssetPackLoader.detectAudioFormats()).concat([m.Data]))}));
e.HtmlAssetPackLoader._supportedFormats.get(a)},loadEntry:function(a,b){var d=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var c=n.document.createElement("img"),f=new ma;f.addDisposingListener(c,"load",function(){e.HtmlAssetPackLoader.supportsBlob()&&e.HtmlAssetPackLoader._URL.revokeObjectURL(c.src);var a=d._platform.getRenderer().createTextureFromImage(c);null!=a?d.handleLoad(b,a):d.handleTextureError(b)});f.addDisposingListener(c,"error",function(){d.handleError(b,"Failed to load image")});
e.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"blob",function(a){c.src=e.HtmlAssetPackLoader._URL.createObjectURL(a)}):c.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=d._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?d.handleLoad(b,a):d.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(e.WebAudioSound.get_supported())this.download(a,b,"arraybuffer",function(a){e.WebAudioSound.ctx.decodeAudioData(a,function(a){d.handleLoad(b,
new e.WebAudioSound(a))},function(){d.handleLoad(b,W.getInstance())})});else{var j=n.document.createElement("audio");j.preload="auto";var g=++e.HtmlAssetPackLoader._mediaRefCount;null==e.HtmlAssetPackLoader._mediaElements&&(e.HtmlAssetPackLoader._mediaElements=new v.IntMap);e.HtmlAssetPackLoader._mediaElements.set(g,j);f=new ma;f.addDisposingListener(j,"canplaythrough",function(){e.HtmlAssetPackLoader._mediaElements.remove(g);d.handleLoad(b,new e.HtmlSound(j))});f.addDisposingListener(j,"error",function(){e.HtmlAssetPackLoader._mediaElements.remove(g);
var a=j.error.code;3==a||4==a?d.handleLoad(b,W.getInstance()):d.handleError(b,"Failed to load audio: "+j.error.code)});f.addListener(j,"progress",function(){if(0<j.buffered.length&&0<j.duration){var a=j.buffered.end(0)/j.duration;d.handleProgress(b,a*b.bytes|0)}});j.src=a;j.load()}break;case 13:this.download(a,b,"text",function(a){d.handleLoad(b,new Da(a))})}},__class__:e.HtmlAssetPackLoader});jb=function(){};g["flambe.subsystem.ExternalSystem"]=jb;jb.__name__=["flambe","subsystem","ExternalSystem"];
jb.prototype={__class__:jb};e.HtmlExternal=function(){};g["flambe.platform.html.HtmlExternal"]=e.HtmlExternal;e.HtmlExternal.__name__=["flambe","platform","html","HtmlExternal"];e.HtmlExternal.__interfaces__=[jb];e.HtmlExternal.prototype={call:function(a,b){null==b&&(b=[]);for(var d=n.window,c=d,f=0,e=a.split(".");f<e.length;){var g=e[f];++f;d=c;c=Q.field(d,g)}return c.apply(d,b)},__class__:e.HtmlExternal};kb=function(){};g["flambe.subsystem.MotionSystem"]=kb;kb.__name__=["flambe","subsystem","MotionSystem"];
kb.prototype={__class__:kb};e.HtmlMotion=function(){var a=this,b=new ua;this.acceleration=b;var d=new ua;this.accelerationIncludingGravity=d;var c=new ua;this.attitude=c;if(this.get_accelerationSupported()){this._sharedAcceleration=new mb;this._sharedAccelerationIncludingGravity=new mb;var f=null,e=function(){null!=b._head||null!=d._head?null==f&&(f=new ma,f.addListener(n.window,"devicemotion",$(a,a.onDeviceMotion))):null!=f&&(f.dispose(),f=null)};b.hasListenersValue.get_changed().connect(e);d.hasListenersValue.get_changed().connect(e)}if(this.get_attitudeSupported()){this._sharedAttitude=
new nb;var g=null;c.hasListenersValue.get_changed().connect(function(b){b?(g=new ma,g.addListener(n.window,"deviceorientation",$(a,a.onDeviceOrientation))):(g.dispose(),g=null)})}};g["flambe.platform.html.HtmlMotion"]=e.HtmlMotion;e.HtmlMotion.__name__=["flambe","platform","html","HtmlMotion"];e.HtmlMotion.__interfaces__=[kb];e.HtmlMotion.initAcceleration=function(a,b){switch(n.window.orientation){case -90:a.init(b.y,-b.x,b.z);break;case 0:a.init(b.x,b.y,b.z);break;case 90:a.init(-b.y,b.x,b.z);break;
case 180:a.init(-b.x,-b.y,b.z)}};e.HtmlMotion.prototype={onDeviceOrientation:function(a){switch(n.window.orientation){case -90:this._sharedAttitude.init(a.gamma,-a.beta,a.alpha);break;case 0:this._sharedAttitude.init(a.beta,a.gamma,a.alpha);break;case 90:this._sharedAttitude.init(-a.gamma,a.beta,a.alpha);break;case 180:this._sharedAttitude.init(-a.beta,-a.gamma,a.alpha)}this.attitude.emit(this._sharedAttitude)},get_attitudeSupported:function(){return null!=n.window.DeviceOrientationEvent},onDeviceMotion:function(a){null!=
a.acceleration&&(e.HtmlMotion.initAcceleration(this._sharedAcceleration,a.acceleration),this.acceleration.emit(this._sharedAcceleration));null!=a.accelerationIncludingGravity&&(e.HtmlMotion.initAcceleration(this._sharedAccelerationIncludingGravity,a.accelerationIncludingGravity),this.accelerationIncludingGravity.emit(this._sharedAccelerationIncludingGravity))},get_accelerationSupported:function(){return null!=n.window.DeviceMotionEvent},__class__:e.HtmlMotion};e.HtmlMouse=function(a,b){U.call(this,
a);this._canvas=b};g["flambe.platform.html.HtmlMouse"]=e.HtmlMouse;e.HtmlMouse.__name__=["flambe","platform","html","HtmlMouse"];e.HtmlMouse.__super__=U;e.HtmlMouse.prototype=A(U.prototype,{__class__:e.HtmlMouse});e.HtmlSound=function(a){E.call(this);this.audioElement=a};g["flambe.platform.html.HtmlSound"]=e.HtmlSound;e.HtmlSound.__name__=["flambe","platform","html","HtmlSound"];e.HtmlSound.__interfaces__=[Ca];e.HtmlSound.__super__=E;e.HtmlSound.prototype=A(E.prototype,{onDisposed:function(){this.audioElement=
null},loop:function(a){null==a&&(a=1);return new e._HtmlSound.HtmlPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new e._HtmlSound.HtmlPlayback(this,a,!1)},__class__:e.HtmlSound});e._HtmlSound={};e._HtmlSound.HtmlPlayback=function(a,b,d){var c=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=n.document.createElement("audio");this._clonedElement.loop=d;this._clonedElement.src=a.audioElement.src;this.volume=new G(b,function(){c.updateVolume()});this.updateVolume();this._complete=
new J(!1);this.playAudio();l.hidden._value&&this.set_paused(!0)};g["flambe.platform.html._HtmlSound.HtmlPlayback"]=e._HtmlSound.HtmlPlayback;e._HtmlSound.HtmlPlayback.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];e._HtmlSound.HtmlPlayback.__interfaces__=[$a,pa];e._HtmlSound.HtmlPlayback.prototype={updateVolume:function(){this._clonedElement.volume=l.volume._value*this.volume._value},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(e.HtmlPlatform.instance.mainLoop.addTickable(this),
this._tickableAdded=!0,this._volumeBinding=l.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=l.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),
this._hideBinding.dispose(),!0):!1},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},__class__:e._HtmlSound.HtmlPlayback};lb=function(){};g["flambe.subsystem.StageSystem"]=lb;lb.__name__=["flambe","subsystem","StageSystem"];lb.prototype={__class__:lb};e.HtmlStage=function(a){var b=this;this._canvas=a;this.resize=new wa;this.scaleFactor=e.HtmlStage.computeScaleFactor();1!=this.scaleFactor&&(e.HtmlUtil.setVendorStyle(this._canvas,"transform-origin",
"top left"),e.HtmlUtil.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));e.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&(n.window.addEventListener("orientationchange",function(){e.HtmlUtil.callLater($(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());n.window.addEventListener("resize",$(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new J(null);null!=n.window.orientation&&(n.window.addEventListener("orientationchange",$(this,this.onOrientationChange),
!1),this.onOrientationChange(null));this.fullscreen=new J(!1);e.HtmlUtil.addVendorListener(n.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};g["flambe.platform.html.HtmlStage"]=e.HtmlStage;e.HtmlStage.__name__=["flambe","platform","html","HtmlStage"];e.HtmlStage.__interfaces__=[lb];e.HtmlStage.computeScaleFactor=function(){var a=n.window.devicePixelRatio;null==a&&(a=1);var b=n.document.createElement("canvas").getContext("2d"),b=e.HtmlUtil.loadExtension("backingStorePixelRatio",
b).value;null==b&&(b=1);a/=b;b=n.window.screen.height;return 1136<a*n.window.screen.width||1136<a*b?1:a};e.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==e.HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],n.document).value)},onOrientationChange:function(){this.orientation.set__(e.HtmlUtil.orientation(n.window.orientation))},hideMobileBrowser:function(){var a=this,b=n.document.documentElement.style;b.height=n.window.innerHeight+100+"px";b.width=n.window.innerWidth+
"px";b.overflow="visible";e.HtmlUtil.callLater(function(){e.HtmlUtil.hideMobileBrowser();e.HtmlUtil.callLater(function(){b.height=n.window.innerHeight+"px";a.onWindowResize(null)},100)})},resizeCanvas:function(a,b){var d=this.scaleFactor*a,c=this.scaleFactor*b;if(this._canvas.width==d&&this._canvas.height==c)return!1;this._canvas.width=d|0;this._canvas.height=c|0;this.resize.emit();return!0},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,
a.height)},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},__class__:e.HtmlStage};e.HtmlStorage=function(a){this._storage=a};g["flambe.platform.html.HtmlStorage"]=e.HtmlStorage;e.HtmlStorage.__name__=["flambe","platform","html","HtmlStorage"];e.HtmlStorage.__interfaces__=[Oa];e.HtmlStorage.prototype={get:function(a,b){var d=null;try{d=this._storage.getItem("flambe:"+a)}catch(c){null}if(null!=d)try{return P.run(d)}catch(f){null}return b},set:function(a,
b){var d;try{var c=new ga;c.useCache=!0;c.useEnumIndex=!1;c.serialize(b);d=c.toString()}catch(f){return!1}try{this._storage.setItem("flambe:"+a,d)}catch(e){return!1}return!0},__class__:e.HtmlStorage};e.HtmlUtil=function(){};g["flambe.platform.html.HtmlUtil"]=e.HtmlUtil;e.HtmlUtil.__name__=["flambe","platform","html","HtmlUtil"];e.HtmlUtil.callLater=function(a,b){null==b&&(b=0);n.window.setTimeout(a,b)};e.HtmlUtil.hideMobileBrowser=function(){n.window.scrollTo(1,0)};e.HtmlUtil.loadExtension=function(a,
b){null==b&&(b=n.window);var d=Q.field(b,a);if(null!=d)return{prefix:"",field:a,value:d};for(var d=a.charAt(0).toUpperCase()+p.substr(a,1,null),c=0,f=e.HtmlUtil.VENDOR_PREFIXES;c<f.length;){var j=f[c];++c;var g=j+d,i=Q.field(b,g);if(null!=i)return{prefix:j,field:g,value:i}}return{prefix:null,field:null,value:null}};e.HtmlUtil.loadFirstExtension=function(a,b){for(var d=0;d<a.length;){var c=a[d];++d;c=e.HtmlUtil.loadExtension(c,b);if(null!=c.field)return c}return{prefix:null,field:null,value:null}};
e.HtmlUtil.polyfill=function(a,b){null==b&&(b=n.window);var d=e.HtmlUtil.loadExtension(a,b).value;if(null==d)return!1;b[a]=d;return!0};e.HtmlUtil.setVendorStyle=function(a,b,d){for(var a=a.style,c=0,f=e.HtmlUtil.VENDOR_PREFIXES;c<f.length;){var j=f[c];++c;a.setProperty("-"+j+"-"+b,d)}a.setProperty(b,d)};e.HtmlUtil.addVendorListener=function(a,b,d,c){for(var f=0,j=e.HtmlUtil.VENDOR_PREFIXES;f<j.length;){var g=j[f];++f;a.addEventListener(g+b,d,c)}a.addEventListener(b,d,c)};e.HtmlUtil.orientation=function(a){switch(a){case -90:case 90:return ia.Landscape;
default:return ia.Portrait}};e.HtmlUtil.createEmptyCanvas=function(a,b){var d=n.document.createElement("canvas");d.width=a;d.height=b;return d};e.HtmlUtil.createCanvas=function(a){var b=e.HtmlUtil.createEmptyCanvas(a.width,a.height),d=b.getContext("2d");d.save();d.globalCompositeOperation="copy";d.drawImage(a,0,0);d.restore();return b};e.HtmlUtil.detectSlowDriver=function(a){if(0<=n.navigator.platform.indexOf("Win")&&null!=n.window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var d=
a[b];++b;if(0<=d.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};e.HtmlUtil.fixAndroidMath=function(){if(0<=n.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};e.WebAudioSound=function(a){E.call(this);this.buffer=a};g["flambe.platform.html.WebAudioSound"]=e.WebAudioSound;e.WebAudioSound.__name__=["flambe","platform","html","WebAudioSound"];e.WebAudioSound.__interfaces__=
[Ca];e.WebAudioSound.get_supported=function(){if(e.WebAudioSound._detectSupport){e.WebAudioSound._detectSupport=!1;var a=e.HtmlUtil.loadExtension("AudioContext").value;null!=a&&(e.WebAudioSound.ctx=new a,e.WebAudioSound.gain=e.WebAudioSound.createGain(),e.WebAudioSound.gain.connect(e.WebAudioSound.ctx.destination),l.volume.watch(function(a){e.WebAudioSound.gain.gain.value=a}))}return null!=e.WebAudioSound.ctx};e.WebAudioSound.createGain=function(){return null!=e.WebAudioSound.ctx.createGain?e.WebAudioSound.ctx.createGain():
e.WebAudioSound.ctx.createGainNode()};e.WebAudioSound.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};e.WebAudioSound.__super__=E;e.WebAudioSound.prototype=A(E.prototype,{onDisposed:function(){this.buffer=null},get_duration:function(){return this.buffer.duration},loop:function(a){null==a&&(a=1);return new e._WebAudioSound.WebAudioPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new e._WebAudioSound.WebAudioPlayback(this,a,!1)},__class__:e.WebAudioSound});e._WebAudioSound={};e._WebAudioSound.WebAudioPlayback=
function(a,b,d){var c=this;this._sound=a;this._head=e.WebAudioSound.gain;this._complete=new J(!1);this._sourceNode=e.WebAudioSound.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=d;this._sourceNode.onended=function(){c._complete.set__(!0)};e.WebAudioSound.start(this._sourceNode,0);this.playAudio();this.volume=new G(b,function(a){c.setVolume(a)});1!=b&&this.setVolume(b);l.hidden._value&&this.set_paused(!0)};g["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=e._WebAudioSound.WebAudioPlayback;
e._WebAudioSound.WebAudioPlayback.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];e._WebAudioSound.WebAudioPlayback.__interfaces__=[$a,pa];e._WebAudioSound.WebAudioPlayback.prototype={playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=e.WebAudioSound.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(e.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=l.hidden.get_changed().connect(function(b){b?
(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},setVolume:function(a){null==this._gainNode&&(this._gainNode=e.WebAudioSound.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&
this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(e.WebAudioSound.ctx.currentTime-this._startedAt)%this._sound.get_duration()},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},__class__:e._WebAudioSound.WebAudioPlayback};
e.WebGLBatcher=function(a){this._quads=this._maxQuads=this._dataOffset=this._backbufferWidth=this._backbufferHeight=0;this._pendingSetScissor=!1;this._lastBlendMode=this._lastRenderTarget=this._lastShader=this._lastTexture=this._lastScissor=this._currentBlendMode=this._currentShader=this._currentTexture=this._currentRenderTarget=null;this._gl=a;a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);this._vertexBuffer=a.createBuffer();a.bindBuffer(34962,this._vertexBuffer);this._quadIndexBuffer=
a.createBuffer();a.bindBuffer(34963,this._quadIndexBuffer);this._drawTextureShader=new y.DrawTextureGL(a);this._drawPatternShader=new y.DrawPatternGL(a);this._fillRectShader=new y.FillRectGL(a);this.resize(16)};g["flambe.platform.html.WebGLBatcher"]=e.WebGLBatcher;e.WebGLBatcher.__name__=["flambe","platform","html","WebGLBatcher"];e.WebGLBatcher.prototype={bindRenderTarget:function(a){null!=a?(this._gl.bindFramebuffer(36160,a.framebuffer),this._gl.viewport(0,0,a.width,a.height)):(this._gl.bindFramebuffer(36160,
null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight));this._lastRenderTarget=this._currentRenderTarget=a},resize:function(a){this.flush();if(!(1024<a)){this._maxQuads=a;this.data=new Float32Array(24*a);this._gl.bufferData(34962,4*this.data.length,35040);for(var b=new Uint16Array(6*a),d=0;d<a;){var c=d++;b[6*c]=4*c;b[6*c+1]=4*c+1;b[6*c+2]=4*c+2;b[6*c+3]=4*c+2;b[6*c+4]=4*c+3;b[6*c+5]=4*c}this._gl.bufferData(34963,b,35044)}},flush:function(){if(!(1>this._quads)){this._lastRenderTarget!=
this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget);if(this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode[1]){case 0:this._gl.blendFunc(1,771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(0,770);break;case 3:this._gl.blendFunc(1,0)}this._currentBlendMode=this._lastBlendMode}this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(this._lastScissor.x|0,this._lastScissor.y|0,this._lastScissor.width|0,
this._lastScissor.height|0)):this._gl.disable(3089),this._pendingSetScissor=!1);this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture);this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader);if(this._lastShader==this._drawPatternShader){var a=this._lastTexture,b=a.root;this._drawPatternShader.setRegion(a.rootX/b.width,a.rootY/b.height,
a._width/b.width,a._height/b.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040);this._gl.drawElements(4,6*this._quads,5123,0);this._dataOffset=this._quads=0}},prepareQuad:function(a,b,d,c,f){b!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=b);d!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=d);f!=this._lastShader&&(this.flush(),this._lastShader=f);if(null!=c||null!=this._lastScissor)if(null==c||null==this._lastScissor||!this._lastScissor.equals(c))this.flush(),
this._lastScissor=null!=c?c.clone(this._lastScissor):null,this._pendingSetScissor=!0;this._quads>=this._maxQuads&&this.resize(2*this._maxQuads);++this._quads;b=this._dataOffset;this._dataOffset+=4*a;return b},prepareFillRect:function(a,b,d){return this.prepareQuad(6,a,b,d,this._fillRectShader)},prepareDrawTexture:function(a,b,d,c){c!=this._lastTexture&&(this.flush(),this._lastTexture=c);return this.prepareQuad(5,a,b,d,this._drawTextureShader)},deleteFramebuffer:function(a){a==this._lastRenderTarget&&
(this.flush(),this._currentRenderTarget=this._lastRenderTarget=null);this._gl.deleteFramebuffer(a.framebuffer)},deleteTexture:function(a){null!=this._lastTexture&&this._lastTexture.root==a&&(this.flush(),this._currentTexture=this._lastTexture=null);this._gl.deleteTexture(a.nativeTexture)},bindTexture:function(a){this.flush();this._currentTexture=this._lastTexture=null;this._gl.bindTexture(3553,a)},didRender:function(){this.flush()},willRender:function(){},resizeBackbuffer:function(a,b){this._gl.viewport(0,
0,a,b);this._backbufferWidth=a;this._backbufferHeight=b},__class__:e.WebGLBatcher};e.WebGLGraphics=function(a,b){this._inverseProjection=this._stateList=null;null==e.WebGLGraphics._scratchQuadArray&&(e.WebGLGraphics._scratchQuadArray=new Float32Array(8));this._batcher=a;this._renderTarget=b};g["flambe.platform.html.WebGLGraphics"]=e.WebGLGraphics;e.WebGLGraphics.__name__=["flambe","platform","html","WebGLGraphics"];e.WebGLGraphics.__interfaces__=[Ea];e.WebGLGraphics.prototype={transformQuad:function(a,
b,d,c){var d=a+d,c=b+c,f=e.WebGLGraphics._scratchQuadArray;f[0]=a;f[1]=b;f[2]=d;f[3]=b;f[4]=d;f[5]=c;f[6]=a;f[7]=c;this._stateList.matrix.transformArray(f,8,f);return f},onResize:function(a,b){this._stateList=new e._WebGLGraphics.DrawingState;var d=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/a,0,0,-2*d/b,-1,d);this._inverseProjection=new da;this._inverseProjection.set(2/a,0,0,2/b,-1,-1);this._inverseProjection.invert()},didRender:function(){this._batcher.didRender()},willRender:function(){this._batcher.willRender()},
applyScissor:function(a,b,d,c){var f=this._stateList,j=e.WebGLGraphics._scratchQuadArray;j[0]=a;j[1]=b;j[2]=a+d;j[3]=b+c;f.matrix.transformArray(j,4,j);this._inverseProjection.transformArray(j,4,j);a=j[0];b=j[1];d=j[2]-a;c=j[3]-b;0>d&&(a+=d,d=-d);0>c&&(b+=c,c=-c);f.applyScissor(a,b,d,c)},setBlendMode:function(a){this._stateList.blendMode=a},multiplyAlpha:function(a){this._stateList.alpha*=a},fillRect:function(a,b,d,c,f){var e=this._stateList,b=this.transformQuad(b,d,c,f),d=(a&16711680)/16711680,c=
(a&65280)/65280,a=(a&255)/255,f=e.alpha,e=this._batcher.prepareFillRect(this._renderTarget,e.blendMode,e.scissor),g=this._batcher.data;g[e]=b[0];g[++e]=b[1];g[++e]=d;g[++e]=c;g[++e]=a;g[++e]=f;g[++e]=b[2];g[++e]=b[3];g[++e]=d;g[++e]=c;g[++e]=a;g[++e]=f;g[++e]=b[4];g[++e]=b[5];g[++e]=d;g[++e]=c;g[++e]=a;g[++e]=f;g[++e]=b[6];g[++e]=b[7];g[++e]=d;g[++e]=c;g[++e]=a;g[++e]=f},drawSubTexture:function(a,b,d,c,f,e,g){var i=this._stateList,h=a.root,b=this.transformQuad(b,d,e,g),d=h.width,h=h.height,c=(a.rootX+
c)/d,f=(a.rootY+f)/h,e=c+e/d,g=f+g/h,d=i.alpha,a=this._batcher.prepareDrawTexture(this._renderTarget,i.blendMode,i.scissor,a),i=this._batcher.data;i[a]=b[0];i[++a]=b[1];i[++a]=c;i[++a]=f;i[++a]=d;i[++a]=b[2];i[++a]=b[3];i[++a]=e;i[++a]=f;i[++a]=d;i[++a]=b[4];i[++a]=b[5];i[++a]=e;i[++a]=g;i[++a]=d;i[++a]=b[6];i[++a]=b[7];i[++a]=c;i[++a]=g;i[++a]=d},drawTexture:function(a,b,d){this.drawSubTexture(a,b,d,0,0,a.get_width(),a.get_height())},restore:function(){this._stateList=this._stateList.prev},transform:function(a,
b,d,c,f,j){var g=this._stateList;e.WebGLGraphics._scratchMatrix.set(a,b,d,c,f,j);da.multiply(g.matrix,e.WebGLGraphics._scratchMatrix,g.matrix)},save:function(){var a=this._stateList,b=this._stateList.next;null==b&&(b=new e._WebGLGraphics.DrawingState,b.prev=a,a.next=b);a.matrix.clone(b.matrix);b.alpha=a.alpha;b.blendMode=a.blendMode;b.scissor=null!=a.scissor?a.scissor.clone(b.scissor):null;this._stateList=b},__class__:e.WebGLGraphics};e._WebGLGraphics={};e._WebGLGraphics.DrawingState=function(){this.scissor=
this.prev=this.next=null;this.matrix=new da;this.alpha=1;this.blendMode=O.Normal};g["flambe.platform.html._WebGLGraphics.DrawingState"]=e._WebGLGraphics.DrawingState;e._WebGLGraphics.DrawingState.__name__=["flambe","platform","html","_WebGLGraphics","DrawingState"];e._WebGLGraphics.DrawingState.prototype={applyScissor:function(a,b,d,c){if(null!=this.scissor)var f=S.max(this.scissor.x,a),e=S.max(this.scissor.y,b),d=S.min(this.scissor.x+this.scissor.width,a+d),c=S.min(this.scissor.y+this.scissor.height,
b+c),a=f,b=e,d=d-f,c=c-e;else this.scissor=new qa;this.scissor.set(Math.round(a),Math.round(b),Math.round(d),Math.round(c))},__class__:e._WebGLGraphics.DrawingState};e.WebGLRenderer=function(a,b){var d=this;this._hasGPU=new J(!0);this.gl=b;b.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();d._hasGPU.set__(!1)},!1);b.canvas.addEventListener("webglcontextrestore",function(){d.init();d._hasGPU.set__(!0)},!1);a.resize.connect($(this,this.onResize));this.init()};g["flambe.platform.html.WebGLRenderer"]=
e.WebGLRenderer;e.WebGLRenderer.__name__=["flambe","platform","html","WebGLRenderer"];e.WebGLRenderer.__interfaces__=[Fa];e.WebGLRenderer.prototype={init:function(){this.batcher=new e.WebGLBatcher(this.gl);this.graphics=new e.WebGLGraphics(this.batcher,null);this.onResize()},onResize:function(){var a=this.gl.canvas.width,b=this.gl.canvas.height;this.batcher.resizeBackbuffer(a,b);this.graphics.onResize(a,b)},didRender:function(){this.graphics.didRender()},willRender:function(){this.graphics.willRender()},
createCompressedTexture:function(){this.gl.isContextLost();return null},getCompressedTextureFormats:function(){return[]},createTextureFromImage:function(a){if(this.gl.isContextLost())return null;var b=new e.WebGLTextureRoot(this,a.width,a.height);b.uploadImageData(a);return b.createTexture(a.width,a.height)},__class__:e.WebGLRenderer};e.WebGLTexture=function(a,b,d){ea.call(this,a,b,d)};g["flambe.platform.html.WebGLTexture"]=e.WebGLTexture;e.WebGLTexture.__name__=["flambe","platform","html","WebGLTexture"];
e.WebGLTexture.__super__=ea;e.WebGLTexture.prototype=A(ea.prototype,{__class__:e.WebGLTexture});e.WebGLTextureRoot=function(a,b,d){this.framebuffer=this._graphics=null;E.call(this);this._renderer=a;this.width=S.max(2,yb.nextPowerOfTwo(b));this.height=S.max(2,yb.nextPowerOfTwo(d));b=a.gl;this.nativeTexture=b.createTexture();a.batcher.bindTexture(this.nativeTexture);b.texParameteri(3553,10242,33071);b.texParameteri(3553,10243,33071);b.texParameteri(3553,10240,9729);b.texParameteri(3553,10241,9728)};
g["flambe.platform.html.WebGLTextureRoot"]=e.WebGLTextureRoot;e.WebGLTextureRoot.__name__=["flambe","platform","html","WebGLTextureRoot"];e.WebGLTextureRoot.__interfaces__=[Za];e.WebGLTextureRoot.drawBorder=function(a,b,d){var c=a.getContext("2d");c.drawImage(a,b-1,0,1,d,b,0,1,d);c.drawImage(a,0,d-1,b,1,0,d,b,1)};e.WebGLTextureRoot.__super__=E;e.WebGLTextureRoot.prototype=A(E.prototype,{onDisposed:function(){var a=this._renderer.batcher;a.deleteTexture(this);null!=this.framebuffer&&a.deleteFramebuffer(this);
this._graphics=this.framebuffer=this.nativeTexture=null},uploadImageData:function(a){if(this.width!=a.width||this.height!=a.height){var b=e.HtmlUtil.createEmptyCanvas(this.width,this.height);b.getContext("2d").drawImage(a,0,0);e.WebGLTextureRoot.drawBorder(b,a.width,a.height);a=b}this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,6408,5121,a)},createTexture:function(a,b){return new e.WebGLTexture(this,a,b)},__class__:e.WebGLTextureRoot});y={};y.ShaderGL=
function(a,b,d){d="#ifdef GL_ES\nprecision mediump float;\n#endif\n"+d;this._gl=a;this._program=a.createProgram();a.attachShader(this._program,y.ShaderGL.createShader(a,35633,b));a.attachShader(this._program,y.ShaderGL.createShader(a,35632,d));a.linkProgram(this._program);a.useProgram(this._program)};g["flambe.platform.shader.ShaderGL"]=y.ShaderGL;y.ShaderGL.__name__=["flambe","platform","shader","ShaderGL"];y.ShaderGL.createShader=function(a,b,d){b=a.createShader(b);a.shaderSource(b,d);a.compileShader(b);
return b};y.ShaderGL.prototype={getUniformLocation:function(a){return this._gl.getUniformLocation(this._program,a)},getAttribLocation:function(a){return this._gl.getAttribLocation(this._program,a)},prepare:function(){null},useProgram:function(){this._gl.useProgram(this._program)},__class__:y.ShaderGL};y.DrawPatternGL=function(a){y.ShaderGL.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.u_region=this.getUniformLocation("u_region");this.setTexture(0)};g["flambe.platform.shader.DrawPatternGL"]=
y.DrawPatternGL;y.DrawPatternGL.__name__=["flambe","platform","shader","DrawPatternGL"];y.DrawPatternGL.__super__=y.ShaderGL;y.DrawPatternGL.prototype=A(y.ShaderGL.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},
setRegion:function(a,b,d,c){this._gl.uniform4f(this.u_region,a,b,d,c)},setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},__class__:y.DrawPatternGL});y.DrawTextureGL=function(a){y.ShaderGL.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}","varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, v_uv) * v_alpha;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.setTexture(0)};g["flambe.platform.shader.DrawTextureGL"]=y.DrawTextureGL;y.DrawTextureGL.__name__=["flambe","platform","shader","DrawTextureGL"];y.DrawTextureGL.__super__=y.ShaderGL;y.DrawTextureGL.prototype=A(y.ShaderGL.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);
this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},__class__:y.DrawTextureGL});y.FillRectGL=function(a){y.ShaderGL.call(this,a,"attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_rgb=this.getAttribLocation("a_rgb");this.a_alpha=this.getAttribLocation("a_alpha")};g["flambe.platform.shader.FillRectGL"]=y.FillRectGL;y.FillRectGL.__name__=["flambe","platform","shader","FillRectGL"];y.FillRectGL.__super__=y.ShaderGL;y.FillRectGL.prototype=A(y.ShaderGL.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_rgb);
this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,24,0);this._gl.vertexAttribPointer(this.a_rgb,3,5126,!1,24,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,24,20)},__class__:y.FillRectGL});Hb=function(){this._transitor=null};Ib=void 0;gb=void 0;Jb=void 0;g["flambe.scene.Director"]=Hb;Hb.__name__=["flambe","scene","Director"];Hb.__super__=B;Hb.prototype=A(B.prototype,{completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),
this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a],b=b._compMap.Scene_3;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];b=this.get_topScene();null!=b&&this.show(b)},show:function(a){a=a._compMap.Scene_3;null!=a&&a.shown.emit()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},onUpdate:function(a){null!=this._transitor&&
this._transitor.update(a)&&this.completeTransition()},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var d=b[a];++a;d.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},get_name:function(){return"Director_1"},__class__:Hb});Ib={Transitor:function(){}};g["flambe.scene._Director.Transitor"]=Ib.Transitor;Ib.Transitor.__name__=["flambe","scene","_Director","Transitor"];Ib.Transitor.prototype=
{complete:function(){this._transition.complete();this._onComplete()},update:function(a){return this._transition.update(a)},__class__:Ib.Transitor};gb=function(){};g["flambe.scene.Scene"]=gb;gb.__name__=["flambe","scene","Scene"];gb.__super__=B;gb.prototype=A(B.prototype,{get_name:function(){return"Scene_3"},__class__:gb});Jb=function(){};g["flambe.scene.Transition"]=Jb;Jb.__name__=["flambe","scene","Transition"];Jb.prototype={complete:function(){},update:function(){return!0},__class__:Jb};oa=function(){};
La=void 0;Ba=void 0;D=void 0;F=void 0;ba=void 0;Ma=void 0;ca=void 0;g["flambe.script.Action"]=oa;oa.__name__=["flambe","script","Action"];oa.prototype={__class__:oa};La=function(a,b,d,c){this._value=a;this._by=b;this._seconds=d;this._easing=c};g["flambe.script.AnimateBy"]=La;La.__name__=["flambe","script","AnimateBy"];La.__interfaces__=[oa];La.prototype={update:function(a){null==this._tween&&(this._tween=new sa(this._value._value,this._value._value+this._by,this._seconds,this._easing),this._value.set_behavior(this._tween),
this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?a-b:0}return-1},__class__:La};Ba=function(a,b,d,c){this._value=a;this._to=b;this._seconds=d;this._easing=c};g["flambe.script.AnimateTo"]=Ba;Ba.__name__=["flambe","script","AnimateTo"];Ba.__interfaces__=[oa];Ba.prototype={update:function(a){null==this._tween&&(this._tween=new sa(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),
this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?a-b:0}return-1},__class__:Ba};D=function(a){this._fn=a};g["flambe.script.CallFunction"]=D;D.__name__=["flambe","script","CallFunction"];D.__interfaces__=[oa];D.prototype={update:function(){this._fn();return 0},__class__:D};F=function(a){this._duration=a;this._elapsed=0};g["flambe.script.Delay"]=F;F.__name__=["flambe","script","Delay"];F.__interfaces__=[oa];F.prototype=
{update:function(a){this._elapsed+=a;if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:F};ba=function(){this.stopAll()};g["flambe.script.Script"]=ba;ba.__name__=["flambe","script","Script"];ba.__super__=B;ba.prototype=A(B.prototype,{onUpdate:function(a){for(var b=0;b<this._handles.length;){var d=this._handles[b];d.removed||0<=d.action.update(a,this.owner)?this._handles.splice(b,1):++b}},stopAll:function(){this._handles=[]},run:function(a){a=
new Ma.Handle(a);this._handles.push(a);return a},get_name:function(){return"Script_6"},__class__:ba});Ma={Handle:function(a){this.removed=!1;this.action=a}};g["flambe.script._Script.Handle"]=Ma.Handle;Ma.Handle.__name__=["flambe","script","_Script","Handle"];Ma.Handle.__interfaces__=[fa];Ma.Handle.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:Ma.Handle};ca=function(a){this._idx=0;this._runningActions=null!=a?a.slice():[]};g["flambe.script.Sequence"]=ca;ca.__name__=["flambe",
"script","Sequence"];ca.__interfaces__=[oa];ca.prototype={update:function(a,b){for(var d=0;;){var c=this._runningActions[this._idx];if(null!=c)if(c=c.update(a-d,b),0<=c)d+=c;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(d>a)return-1}return d},__class__:ca};cb=function(){};Ja=void 0;na=void 0;Ka=void 0;ja=void 0;Aa=void 0;db=void 0;eb=void 0;fb=void 0;g["flambe.swf.Symbol"]=cb;cb.__name__=["flambe","swf","Symbol"];cb.prototype={__class__:cb};Ja=function(a,
b){this._name=a.symbol;var d=a.rect;this.texture=b.subTexture(d[0],d[1],d[2],d[3]);d=a.origin;null!=d?(this.anchorX=d[0],this.anchorY=d[1]):this.anchorY=this.anchorX=0};g["flambe.swf.BitmapSymbol"]=Ja;Ja.__name__=["flambe","swf","BitmapSymbol"];Ja.__interfaces__=[cb];Ja.prototype={createSprite:function(){var a=new r(this.texture);a.setAnchor(this.anchorX,this.anchorY);return a},__class__:Ja};na=function(a,b){this._symbols=new v.StringMap;var d=xa.parse(a.getFile(b+"/library.json").toString());this.frameRate=
d.frameRate;for(var c=[],f=0,e=d.movies;f<e.length;){var g=e[f];++f;g=new Ka(this,g);c.push(g);this._symbols.set(g._name,g)}f=d.textureGroups;(1!=f[0].scaleFactor||1<f.length)&&null;g=f[0].atlases;for(f=0;f<g.length;){d=g[f];++f;for(var i=a.getTexture(b+"/"+K.removeFileExtension(d.file)),e=0,d=d.textures;e<d.length;){var h=d[e];++e;h=new Ja(h,i);this._symbols.set(h._name,h)}}for(f=0;f<c.length;){g=c[f];++f;e=0;for(d=g.layers;e<d.length;){g=d[e];++e;g=g.keyframes;i=g.length;for(h=0;h<i;){var k=h++,
m=g[k];if(null!=m.symbolName){var l=this._symbols.get(m.symbolName);m.symbol=l}if(m.tweened&&1==m.duration&&k+1<i&&(k=g[k+1],!k.visible||null==k.symbolName))m.visible=!1}}}};g["flambe.swf.Library"]=na;na.__name__=["flambe","swf","Library"];na.prototype={createSprite:function(a,b){null==b&&(b=!0);var d=this._symbols.get(a);if(null==d){if(b)throw K.withFields("Missing symbol",["name",a]);return null}return d.createSprite()},__class__:na};ja=function(a){this._oneshotSprite=this._loopingSprite=null;this._lib=
a;this._root=new k;this.movie=new J(null);this.setCache(!0)};g["flambe.swf.MoviePlayer"]=ja;ja.__name__=["flambe","swf","MoviePlayer"];ja.__super__=B;ja.prototype=A(B.prototype,{setCurrent:function(a){this._root.add(a);return this.movie.set__(a)},createMovie:function(a){a=this._lib.createSprite(a,!0);null!=this._decorator&&this._decorator(a);return a},playFromCache:function(a){var b;null!=this._cache?(b=this._cache.get(a),null!=b?b.set_position(0):(b=this.createMovie(a),this._cache.set(a,b))):b=this.createMovie(a);
return this.setCurrent(b)},onUpdate:function(a){null!=this._oneshotSprite&&this._oneshotSprite._position+a>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=null,this.setCurrent(this._loopingSprite))},onRemoved:function(){this._root.dispose();this._oneshotSprite=this._loopingSprite=null;this.movie.set__(null)},onAdded:function(){this.owner.addChild(this._root)},loop:function(a,b){null==b&&(b=!0);if(b||null==this._loopingSprite||this._loopingSprite.symbol._name!=a)this._oneshotSprite=null,
this._loopingSprite=this.playFromCache(a);return this},play:function(a,b){null==b&&(b=!0);if(b||null==this._oneshotSprite||this._oneshotSprite.symbol._name!=a)this._oneshotSprite=this.playFromCache(a);return this},setCache:function(a){this._cache=a?new v.StringMap:null;return this},get_name:function(){return"MoviePlayer_7"},__class__:ja});Aa=function(a){this._looped=null;u.call(this);this.symbol=a;this.speed=new G(1);this._animators=Array(a.layers.length);for(var b=0,d=this._animators.length;b<d;){var c=
b++;this._animators[c]=new db.LayerAnimator(a.layers[c])}this._position=this._frame=0;this["goto"](1)};g["flambe.swf.MovieSprite"]=Aa;Aa.__name__=["flambe","swf","MovieSprite"];Aa.__super__=u;Aa.prototype=A(u.prototype,{rewind:function(){this._position=0;this._flags|=32},set_position:function(a){return this._position=S.clamp(a,0,this.symbol.duration)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,d=this._animators;b<d.length;){var c=d[b];++b;c.needsKeyframeUpdate=!0;c.keyframeIdx=
0}b=0;for(d=this._animators;b<d.length;)c=d[b],++b,c.composeFrame(a);this._frame=a}},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&48){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=this.symbol.duration,null!=this._looped&&this._looped.emit());break;case 32:this._flags&=-33}this["goto"](this._position*this.symbol.frameRate)},onRemoved:function(){u.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<
b.length;){var d=b[a];++a;this.owner.removeChild(d.content)}},onAdded:function(){u.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var d=b[a];++a;this.owner.addChild(d.content)}},__class__:Aa});db={LayerAnimator:function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=!1;this.layer=a;this.content=new k;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var b=0,d=this._sprites.length;b<d;){var c=b++,f=a.keyframes[c];this._sprites[c]=0<c&&a.keyframes[c-
1].symbol==f.symbol?this._sprites[c-1]:null==f.symbol?new u:f.symbol.createSprite()}this.content.add(this._sprites[0])}}};g["flambe.swf._MovieSprite.LayerAnimator"]=db.LayerAnimator;db.LayerAnimator.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];db.LayerAnimator.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,d=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_0.set_visible(!1),this.keyframeIdx=d,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<
d&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var c;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,c=this._sprites[this.keyframeIdx],c!=this.content._compMap.Sprite_0&&(H.getClass(c)==Aa&&c.rewind(),this.content.add(c))):c=this.content._compMap.Sprite_0;var f=b[this.keyframeIdx],e=f.visible&&null!=f.symbol;c.set_visible(e);if(e){var e=f.x,g=f.y,i=f.scaleX,h=f.scaleY,k=f.skewX,m=f.skewY,l=f.alpha;if(f.tweened&&this.keyframeIdx<d){a=(a-f.index)/f.duration;
d=f.ease;if(0!=d){var n;0>d?(n=1-a,n=1-n*n,d=-d):n=a*a;a=d*n+(1-d)*a}b=b[this.keyframeIdx+1];e+=(b.x-e)*a;g+=(b.y-g)*a;i+=(b.scaleX-i)*a;h+=(b.scaleY-h)*a;k+=(b.skewX-k)*a;m+=(b.skewY-m)*a;l+=(b.alpha-l)*a}b=c.getLocalMatrix();a=Math.sin(k);k=Math.cos(k);d=Math.sin(m);m=Math.cos(m);b.set(m*i,d*i,-a*h,k*h,e,g);b.translate(-f.pivotX,-f.pivotY);c.alpha.set__(l)}}}},__class__:db.LayerAnimator};Ka=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);
for(var d=0,c=this.layers.length;d<c;){var f=d++,e=new eb(b.layers[f]);this.frames=Math.max(e.frames,this.frames);this.layers[f]=e}this.duration=this.frames/this.frameRate};g["flambe.swf.MovieSymbol"]=Ka;Ka.__name__=["flambe","swf","MovieSymbol"];Ka.__interfaces__=[cb];Ka.prototype={createSprite:function(){return new Aa(this)},__class__:Ka};eb=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var d=0,c=this.keyframes.length;d<c;){var f=d++,b=new fb(a.keyframes[f],
b);this.keyframes[f]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+b.duration:0};g["flambe.swf.MovieLayer"]=eb;eb.__name__=["flambe","swf","MovieLayer"];eb.prototype={__class__:eb};fb=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var d=a.loc;
null!=d&&(this.x=d[0],this.y=d[1]);d=a.scale;null!=d&&(this.scaleX=d[0],this.scaleY=d[1]);d=a.skew;null!=d&&(this.skewX=d[0],this.skewY=d[1]);d=a.pivot;null!=d&&(this.pivotX=d[0],this.pivotY=d[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=a.ease&&(this.ease=a.ease)};g["flambe.swf.MovieKeyframe"]=fb;fb.__name__=["flambe","swf","MovieKeyframe"];fb.prototype={__class__:fb};Ab=function(){};g["flambe.util.BitSets"]=Ab;
Ab.__name__=["flambe","util","BitSets"];Ab.set=function(a,b,d){return d?a|b:a&~b};ab=function(){this.success=new C;this.error=new C;this.progressChanged=new wa;this.hasResult=!1;this._total=this._progress=0};g["flambe.util.Promise"]=ab;ab.__name__=["flambe","util","Promise"];ab.prototype={set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},get:function(a){return this.hasResult?
(a(this._result),null):this.success.connect(a).once()},set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit(a);return a},__class__:ab};wa=function(a){I.call(this,a)};g["flambe.util.Signal0"]=wa;wa.__name__=["flambe","util","Signal0"];wa.__super__=I;wa.prototype=A(I.prototype,{emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},emit:function(){var a=
this;this._head==I.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:wa});zb={Task:function(a){this.next=null;this.fn=a}};g["flambe.util._SignalBase.Task"]=zb.Task;zb.Task.__name__=["flambe","util","_SignalBase","Task"];zb.Task.prototype={__class__:zb.Task};K=function(){};g["flambe.util.Strings"]=K;K.__name__=["flambe","util","Strings"];K.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<
b?p.substr(a,b+1,null):null};K.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?p.substr(a,0,b):a};K.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=p.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=p.substr(a,b+1,null));return K.getFileExtension(a)};K.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};K.withFields=function(a,b){var d=b.length;if(0<d){for(var a=a+(0<a.length?" [":"["),c=0;c<d;){0<c&&(a+=", ");var f=b[c],e=b[c+1];if(R.__instanceof(e,
Error)){var g=e.stack;null!=g&&(e=g)}a+=f+"="+s.string(e);c+=2}a+="]"}return a};t=void 0;v=void 0;Pb=void 0;P=void 0;ga=void 0;xa=void 0;ya=void 0;xa=function(){};g["haxe.Json"]=xa;xa.__name__=["haxe","Json"];xa.parse=function(a){return(new xa).doParse(a)};xa.prototype={parseNumber:function(a){for(var b=this.pos-1,d=45==a,c=!d,f=48==a,e=!1,g=!1,i=!1,h=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:f&&!e&&this.invalidNumber(b);d&&(d=!1,f=!0);c=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f&&
!e&&this.invalidNumber(b);d&&(d=!1);c=!0;f=!1;break;case 46:(d||e)&&this.invalidNumber(b);c=!1;e=!0;break;case 101:case 69:(d||f||g)&&this.invalidNumber(b);c=!1;g=!0;break;case 43:case 45:(!g||i)&&this.invalidNumber(b);c=!1;i=!0;break;default:c||this.invalidNumber(b),this.pos--,h=!0}if(h)break}a=s.parseFloat(p.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+p.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=
this.pos,b=new Ha;;){var d=this.str.charCodeAt(this.pos++);if(34==d)break;if(92==d){b.addSub(this.str,a,this.pos-a-1);d=this.str.charCodeAt(this.pos++);switch(d){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\u0008";break;case 102:b.b+="\u000c";break;case 47:case 92:case 34:b.b+=String.fromCharCode(d);break;case 117:a=s.parseInt("0x"+p.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(d)+
" at position "+(this.pos-1);}a=this.pos}else if(d!=d)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},d=null,a=null;;){var c=this.str.charCodeAt(this.pos++);switch(c){case 32:case 13:case 10:case 9:break;case 125:return(null!=d||!1==a)&&this.invalidChar(),b;case 58:null==d&&this.invalidChar();b[d]=this.parseRec();d=null;a=!0;break;case 44:a?a=
!1:this.invalidChar();break;case 34:a&&this.invalidChar();d=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(c=this.str.charCodeAt(this.pos++),c){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=
a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);
default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:xa};ga=function(){this.buf=new Ha;this.cache=[];this.useCache=ga.USE_CACHE;this.useEnumIndex=ga.USE_ENUM_INDEX;this.shash=new v.StringMap;this.scount=0};g["haxe.Serializer"]=ga;ga.__name__=["haxe","Serializer"];ga.prototype={serialize:function(a){var b=H["typeof"](a);switch(b[1]){case 0:this.buf.b+=
"n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=s.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=s.string(a)):this.buf.b+=s.string(0>a?"m":"p");break;case 3:this.buf.b+=s.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var d=0;this.buf.b+="a";for(var c=a.length,f=0;f<c;)b=f++,null==a[b]?d++:(0<d&&(1==d?this.buf.b+="n":(this.buf.b+=
"u",this.buf.b+=s.string(d)),d=0),this.serialize(a[b]));0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=s.string(d)));this.buf.b+="h";break;case Rb:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=s.string(p.dateStr(a));break;case v.StringMap:this.buf.b+="b";for(d=a.keys();d.hasNext();)b=d.next(),this.serializeString(b),this.serialize(a.get(b));this.buf.b+="h";break;case v.IntMap:this.buf.b+="q";for(d=
a.keys();d.hasNext();)b=d.next(),this.buf.b+=":",this.buf.b+=s.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case v.ObjectMap:this.buf.b+="M";for(d=a.keys();d.hasNext();)b=d.next(),c=Q.field(b,"__id__"),Q.deleteField(b,"__id__"),this.serialize(b),b.__id__=c,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case ya.Bytes:b=0;d=a.length-2;c=new Ha;for(f=ga.BASE64;b<d;){var e=a.b[b++],g=a.b[b++],i=a.b[b++];c.b+=s.string(f.charAt(e>>2));c.b+=s.string(f.charAt((e<<4|g>>4)&63));c.b+=s.string(f.charAt((g<<
2|i>>6)&63));c.b+=s.string(f.charAt(i&63))}b==d?(e=a.b[b++],g=a.b[b++],c.b+=s.string(f.charAt(e>>2)),c.b+=s.string(f.charAt((e<<4|g>>4)&63)),c.b+=s.string(f.charAt(g<<2&63))):b==d+1&&(e=a.b[b++],c.b+=s.string(f.charAt(e>>2)),c.b+=s.string(f.charAt(e<<4&63)));b=c.b;this.buf.b+="s";this.buf.b+=s.string(b.length);this.buf.b+=":";this.buf.b+=s.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(H.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+=
"g"):(this.buf.b+="c",this.serializeString(H.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=s.string(this.useEnumIndex?"j":"w");this.serializeString(H.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=s.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";c=a.length;this.buf.b+=
s.string(c-2);for(f=2;f<c;)b=f++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+s.string(a);}},serializeFields:function(a){for(var b=0,c=Q.fields(a);b<c.length;){var e=c[b];++b;this.serializeString(e);this.serialize(Q.field(a,e))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,e=this.cache.length;c<e;){var f=c++,g=this.cache[f];if(typeof g==b&&g==a)return this.buf.b+="r",this.buf.b+=s.string(f),!0}this.cache.push(a);
return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=s.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=X.urlEncode(a),this.buf.b+=s.string(a.length),this.buf.b+=":",this.buf.b+=s.string(a))},toString:function(){return this.buf.b},__class__:ga};P=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=P.DEFAULT_RESOLVER;null==a&&(a=H,P.DEFAULT_RESOLVER=a);this.setResolver(a)};g["haxe.Unserializer"]=P;P.__name__=
["haxe","Unserializer"];P.initCodes=function(){for(var a=[],b=0,c=P.BASE64.length;b<c;){var e=b++;a[P.BASE64.charCodeAt(e)]=e}return a};P.run=function(a){return(new P(a)).unserialize()};P.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return s.parseFloat(p.substr(this.buf,
a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=p.substr(this.buf,this.pos,b);this.pos+=b;a=X.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):
a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=H.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);
return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),e=H.getEnumConstructs(a)[c];if(null==e)throw"Unknown enum index "+b+"@"+c;b=this.unserializeEnum(a,e);this.cache.push(b);return b;case 108:b=new Rb;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());
this.pos++;return b;case 98:c=new v.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new v.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new v.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,
this.unserialize());this.pos++;return c;case 118:return b=p.strDate(p.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";e=P.CODES;null==e&&(e=P.initCodes(),P.CODES=e);for(var a=this.pos,f=b&3,g=a+(b-f),i=ya.Bytes.alloc(3*(b>>2)+(2<=f?f-1:0)),h=0;a<g;){var k=e[c.charCodeAt(a++)],m=e[c.charCodeAt(a++)];i.b[h++]=(k<<2|m>>4)&255;k=e[c.charCodeAt(a++)];i.b[h++]=
(m<<4|k>>2)&255;m=e[c.charCodeAt(a++)];i.b[h++]=(k<<6|m)&255}2<=f&&(k=e[c.charCodeAt(a++)],m=e[c.charCodeAt(a++)],i.b[h++]=(k<<2|m>>4)&255,3==f&&(k=e[c.charCodeAt(a++)],i.b[h++]=(m<<4|k>>2)&255));this.pos+=b;this.cache.push(i);return i;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=H.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+
this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return H.createEnum(a,b);for(var e=[];0<c--;)e.push(this.unserialize());return H.createEnum(a,b,e)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!R.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();
a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(45==e){if(this.pos!=c)break;b=!0}else{if(48>e||57<e)break;a=10*a+(e-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},__class__:P};v={IntMap:function(){this.h={}}};g["haxe.ds.IntMap"]=v.IntMap;v.IntMap.__name__=["haxe","ds","IntMap"];v.IntMap.__interfaces__=[Ub];v.IntMap.prototype=
{keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return p.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:v.IntMap};v.ObjectMap=function(){this.h={};this.h.__keys__={}};g["haxe.ds.ObjectMap"]=v.ObjectMap;v.ObjectMap.__name__=["haxe","ds","ObjectMap"];v.ObjectMap.__interfaces__=[Ub];v.ObjectMap.prototype=
{keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return p.iter(a)},set:function(a,b){var c=null!=a.__id__?a.__id__:a.__id__=++v.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:v.ObjectMap};v.StringMap=function(){this.h={}};g["haxe.ds.StringMap"]=v.StringMap;v.StringMap.__name__=["haxe","ds","StringMap"];v.StringMap.__interfaces__=[Ub];v.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},
next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return p.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:v.StringMap};ya={Bytes:function(a,b){this.length=a;this.b=b}};g["haxe.io.Bytes"]=ya.Bytes;ya.Bytes.__name__=["haxe","io","Bytes"];ya.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new ya.Bytes(a,
b)};ya.Bytes.prototype={__class__:ya.Bytes};Pb={Meta:function(){}};g["haxe.rtti.Meta"]=Pb.Meta;Pb.Meta.__name__=["haxe","rtti","Meta"];Pb.Meta.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};t={_Fast:{}};t._Fast.NodeAccess=function(a){this.__x=a};g["haxe.xml._Fast.NodeAccess"]=t._Fast.NodeAccess;t._Fast.NodeAccess.__name__=["haxe","xml","_Fast","NodeAccess"];t._Fast.NodeAccess.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==
o.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new t.Fast(b)},__class__:t._Fast.NodeAccess};t._Fast.AttribAccess=function(a){this.__x=a};g["haxe.xml._Fast.AttribAccess"]=t._Fast.AttribAccess;t._Fast.AttribAccess.__name__=["haxe","xml","_Fast","AttribAccess"];t._Fast.AttribAccess.prototype={__class__:t._Fast.AttribAccess};t._Fast.HasAttribAccess=function(a){this.__x=a};g["haxe.xml._Fast.HasAttribAccess"]=t._Fast.HasAttribAccess;t._Fast.HasAttribAccess.__name__=["haxe",
"xml","_Fast","HasAttribAccess"];t._Fast.HasAttribAccess.prototype={__class__:t._Fast.HasAttribAccess};t._Fast.HasNodeAccess=function(a){this.__x=a};g["haxe.xml._Fast.HasNodeAccess"]=t._Fast.HasNodeAccess;t._Fast.HasNodeAccess.__name__=["haxe","xml","_Fast","HasNodeAccess"];t._Fast.HasNodeAccess.prototype={__class__:t._Fast.HasNodeAccess};t._Fast.NodeListAccess=function(a){this.__x=a};g["haxe.xml._Fast.NodeListAccess"]=t._Fast.NodeListAccess;t._Fast.NodeListAccess.__name__=["haxe","xml","_Fast","NodeListAccess"];
t._Fast.NodeListAccess.prototype={__class__:t._Fast.NodeListAccess};t.Fast=function(a){if(a.nodeType!=o.Document&&a.nodeType!=o.Element)throw"Invalid nodeType "+s.string(a.nodeType);this.x=a;this.node=new t._Fast.NodeAccess(a);this.nodes=new t._Fast.NodeListAccess(a);this.att=new t._Fast.AttribAccess(a);this.has=new t._Fast.HasAttribAccess(a);this.hasNode=new t._Fast.HasNodeAccess(a)};g["haxe.xml.Fast"]=t.Fast;t.Fast.__name__=["haxe","xml","Fast"];t.Fast.prototype={get_innerData:function(){var a=
this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==o.PCData&&c.nodeType==o.CData&&""==X.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==o.PCData&&""==X.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=o.PCData&&b.nodeType!=o.CData)throw this.get_name()+" does not have data";return b.get_nodeValue()},get_name:function(){return this.x.nodeType==
o.Document?"Document":this.x.get_nodeName()},__class__:t.Fast};t.Parser=function(){};g["haxe.xml.Parser"]=t.Parser;t.Parser.__name__=["haxe","xml","Parser"];t.Parser.parse=function(a){var b=o.createDocument();t.Parser.doParse(a,0,b);return b};t.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var e=null,f=1,g=1,i=null,h=0,k=0,m=0,l=a.charCodeAt(b),n=new Ha;l==l;){switch(f){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:f=g;continue}break;case 1:switch(l){case 60:f=0;g=2;break;default:h=
b;f=13;continue}break;case 13:60==l?(f=o.createPCData(n.b+p.substr(a,h,b-h)),n=new Ha,c.addChild(f),k++,f=0,g=2):38==l&&(n.addSub(a,h,b-h),f=18,g=13,h=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(f=o.createCData(p.substr(a,h,b-h)),c.addChild(f),k++,b+=2,f=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=p.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;f=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=p.substr(a,
b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;f=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;f=15}h=b+1;break;case 63:f=14;h=b;break;case 47:if(null==c)throw"Expected node name";h=b+1;f=0;g=10;break;default:f=3;h=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(b==h)throw"Expected node name";e=o.createElement(p.substr(a,h,b-h));c.addChild(e);f=0;g=4;continue}break;case 4:switch(l){case 47:f=11;k++;break;
case 62:f=9;k++;break;default:f=5;h=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected attribute name";i=p.substr(a,h,b-h);if(e.exists(i))throw"Duplicate attribute";f=0;g=6;continue}break;case 6:switch(l){case 61:f=0;g=7;break;default:throw"Expected =";}break;case 7:switch(l){case 34:case 39:f=8;h=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(h)&&(g=p.substr(a,h+1,b-h-1),e.set(i,g),f=0,g=4);break;case 9:h=b=
t.Parser.doParse(a,b,e);f=1;break;case 11:switch(l){case 62:f=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==k&&c.addChild(o.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected node name";if(p.substr(a,h,b-h)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";f=0;g=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(o.createComment(p.substr(a,
h,b-h))),b+=2,f=1);break;case 16:91==l?m++:93==l?m--:62==l&&0==m&&(c.addChild(o.createDocType(p.substr(a,h,b-h))),f=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,f=p.substr(a,h+1,b-h-2),c.addChild(o.createProcessingInstruction(f)),f=1);break;case 18:59==l&&(h=p.substr(a,h,b-h),35==h.charCodeAt(0)?(h=120==h.charCodeAt(1)?s.parseInt("0"+p.substr(h,1,h.length-1)):s.parseInt(p.substr(h,1,h.length-1)),n.b+=s.string(String.fromCharCode(h))):n.b=t.Parser.escapes.exists(h)?n.b+s.string(t.Parser.escapes.get(h)):
n.b+s.string("&"+h+";"),h=b+1,f=g)}l=a.charCodeAt(++b)}1==f&&(h=b,f=13);if(13==f)return(b!=h||0==k)&&c.addChild(o.createPCData(n.b+p.substr(a,h,b-h))),b;throw"Unexpected end";};R=function(){};g["js.Boot"]=R;R.__name__=["js","Boot"];R.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",
e=2,f=a.length;e<f;)var g=e++,c=2!=g?c+(","+R.__string_rec(a[g],b)):c+R.__string_rec(a[g],b);return c+")"}e=a.length;c="[";b+="\t";for(f=0;f<e;)g=f++,c+=(0<g?",":"")+R.__string_rec(a[g],b);return c+"]"}try{f=a.toString}catch(h){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;f=null;c="{\n";b+="\t";e=null!=a.hasOwnProperty;for(f in a)if(!e||a.hasOwnProperty(f))"prototype"==f||"__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f||(2!=c.length&&
(c+=", \n"),c+=b+f+" : "+R.__string_rec(a[f],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};R.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var e=0,f=c.length;e<f;){var g=e++,g=c[g];if(g==b||R.__interfLoop(g,b))return!0}return R.__interfLoop(a.__super__,b)};R.__instanceof=function(a,b){if(null==b)return!1;switch(b){case $b:return(a|0)===a;case Xb:return"number"==typeof a;
case Yb:return"boolean"==typeof a;case String:return"string"==typeof a;case ac:return!0;default:if(null!=a){if("function"==typeof b){if(a instanceof b)return b==Array?null==a.__enum__:!0;if(R.__interfLoop(a.__class__,b))return!0}}else return!1;return b==bc&&null!=a.__name__||b==cc&&null!=a.__ename__?!0:a.__enum__==b}};Bb={_CanvasElement:{}};Bb._CanvasElement.CanvasUtil=function(){};g["js.html._CanvasElement.CanvasUtil"]=Bb._CanvasElement.CanvasUtil;Bb._CanvasElement.CanvasUtil.__name__=["js","html",
"_CanvasElement","CanvasUtil"];Bb._CanvasElement.CanvasUtil.getContextWebGL=function(a,b){for(var c=0,e=["webgl","experimental-webgl"];c<e.length;){var f=e[c];++c;f=a.getContext(f,b);if(null!=f)return f}return null};var Db,h,Ia,aa,Eb,Fb,Gb,Vb;Db=function(a){this.waitTime=100;this.walkSpeed=140;this.topCat=a};g["project.Cat"]=Db;Db.__name__=["project","Cat"];Db.__super__=B;Db.prototype=A(B.prototype,{onUpdate:function(a){if(!this.isPaused)if(this.isWalking)switch(this.direction){case 1:if(200>this.thisSprite.y._value)this.wait();
else{var b=this.thisSprite.y;b.set__(b._value-this.walkSpeed*a)}break;case 2:1720<this.thisSprite.x._value?this.wait():(b=this.thisSprite.x,b.set__(b._value+this.walkSpeed*a));break;case 3:920<this.thisSprite.y._value?this.wait():(b=this.thisSprite.y,b.set__(b._value+this.walkSpeed*a));break;case 4:200>this.thisSprite.x._value?this.wait():(b=this.thisSprite.x,b.set__(b._value-this.walkSpeed*a))}else this.waited++,this.waited==this.waitTime&&(this.direction++,5==this.direction&&(this.direction=1),
a=this.thisSprite.rotation,a.set__(a._value+90),this.isWalking=!0,this.cat.loop("walk"))},pause:function(a){a?(this.isPaused=!0,this.cat.loop("idle")):(this.isPaused=!1,this.isWalking&&this.cat.loop("walk"))},wait:function(){this.isWalking=!1;this.waited=0;this.cat.loop("idle")},onAdded:function(){this.library=new na(h.pack,"cat");this.cat=new ja(this.library);this.cat.loop("walk");this.isWalking=!0;this.owner.add(this.cat).add(new u);this.thisSprite=this.owner._compMap.Sprite_0;this.thisSprite.set_pixelSnapping(!1);
this.thisSprite.centerAnchor();this.topCat?(this.thisSprite.x.set__(200),this.thisSprite.y.set__(200),this.thisSprite.rotation.set__(180),this.direction=2):(this.thisSprite.x.set__(1720),this.thisSprite.y.set__(920),this.thisSprite.rotation.set__(0),this.direction=4);this.isPaused=!0},get_name:function(){return"Cat_10"},__class__:Db});Ia=function(a,b){this.type=a;this.following=b};g["project.CraigSegment"]=Ia;Ia.__name__=["project","CraigSegment"];Ia.__super__=B;Ia.prototype=A(B.prototype,{updateFollow:function(a){this.following=
a},onAdded:function(){this.library=new na(h.pack,"snaake");this.snake=new ja(this.library);"HEAD"==this.type?this.snake.loop("head"):"BODY"==this.type?this.snake.loop("body"):"BODY1"==this.type?this.snake.loop("bodyLeft1"):"BODY2"==this.type?this.snake.loop("bodyLeft2"):"BODY3"==this.type?this.snake.loop("bodyRight1"):"BODY4"==this.type?this.snake.loop("bodyRight2"):"TAIL"==this.type&&this.snake.loop("tail");this.owner.add(this.snake).add(new u);this.thisSprite=this.owner._compMap.Sprite_0;this.thisSprite.set_pixelSnapping(!1);
this.thisSprite.centerAnchor();if("HEAD"==this.type){var a=this.thisSprite.anchorY;a.set__(a._value-8)}},get_name:function(){return"CraigSegment_9"},__class__:Ia});h=function(){};g["project.Ctx"]=h;h.__name__=["project","Ctx"];aa=function(){this.segmentDistance=9;this.rotateSpeed=2;this.startSpeed=4;this.pickupSize=20;this.mapWidth=this.mapHeight=10;this.tileSize=233;this.musicVolume=0.7;null};g["project.Game"]=aa;aa.__name__=["project","Game"];aa.__super__=B;aa.prototype=A(B.prototype,{randomNumber:function(a,
b){return Math.round(Math.random()*(b-a)+a)},stripLinebreaks:function(a){for(var b=[],b=a.split("-LBR-"),a="",c=0;c<b.length;){var e=b[c];++c;a+=e;a+="\n"}return p.substr(a,1,a.length-2)},showScore:function(){this.scoreText.set_text(s.string(this.score));this.snakeSpeedBonus+=0.0020},pauseGame:function(a){a?(this.inPlay=!1,h.testMode||(this.cat.owner._compMap.Cat_10.pause(!0),this.noodman.owner._compMap.Noodman_11.pause(!0))):(this.inPlay=!0,h.testMode||(this.cat.owner._compMap.Cat_10.pause(!1),this.noodman.owner._compMap.Noodman_11.pause(!1)))},
keyUpHandler:function(a){"GAME"==this.gameState&&a.key==c.Left?this.turningLeft=!1:"GAME"==this.gameState&&a.key==c.Right&&(this.turningRight=!1)},keyDownHandler:function(a){this.inPlay&&("GAME"==this.gameState&&a.key==c.Left?(this.turningLeft=!0,this.turningRight=!1):"GAME"==this.gameState&&a.key==c.Right&&(this.turningRight=!0,this.turningLeft=!1))},handleTouchUp:function(a){a.viewY>this.screenHeight/2&&(a.viewX<this.screenWidth/2?this.turningLeft=!1:this.turningRight=!1)},handleTouchDown:function(a){a.viewY>
this.screenHeight/2&&(a.viewX<this.screenWidth/2?(this.turningLeft=!0,this.turningRight=!1):(this.turningLeft=!1,this.turningRight=!0))},handleTilt:function(a){this.tiltAngle=a.roll;8<a.roll?(this.turningLeft=!1,this.turningRight=!0):(this.turningLeft=-8>a.roll?!0:!1,this.turningRight=!1)},updateDepths:function(){h.testMode?this.mapMC.addChild(this.sanjay.owner):(this.mapMC.addChild(this.sanjay.owner),this.mapMC.addChild(this.cat.owner),this.mapMC.addChild(this.noodman.owner),this.mapMC.addChild(this.shovelHandle.owner),
this.mapMC.addChild(this.shovelHandle2.owner));this.mapMC.addChild(this.facade.owner)},getSplats:function(){var a=this,b=new ba;b.run(new ca([new D(function(){a.getSplat()}),new F(this.randomNumber(1,3)/10),new D(function(){a.getSplat()}),new F(this.randomNumber(1,3)/10),new D(function(){a.getSplat()}),new F(this.randomNumber(1,3)/10),new D(function(){30<a.score&&a.getSplat()}),new F(this.randomNumber(1,3)/10),new D(function(){60<a.score&&a.getSplat()})]));this.snakeHead.owner.add(b)},getSplat:function(){h.muted||
(this.sfx=h.pack.getSound("audio/splat").play());var a=(new k).add(new Eb);this.game.addChild(a);aa.splats.push(a);a._compMap.Sprite_0.x.set__(this.randomNumber(150,this.screenWidth-150));a._compMap.Sprite_0.y.set__(this.randomNumber(150,this.screenHeight-150))},getPickup:function(){var a=(new k).add(new Fb);this.mapMC.addChild(a);aa.pickups.push(a);switch(this.randomNumber(1,4)){case 1:a._compMap.Sprite_0.x.set__(this.randomNumber(100,800));a._compMap.Sprite_0.y.set__(this.randomNumber(100,1020));
break;case 2:a._compMap.Sprite_0.x.set__(this.randomNumber(100,1820));a._compMap.Sprite_0.y.set__(this.randomNumber(1050,1020));break;case 3:a._compMap.Sprite_0.x.set__(this.randomNumber(100,1820));a._compMap.Sprite_0.y.set__(this.randomNumber(100,350));break;case 4:a._compMap.Sprite_0.x.set__(this.randomNumber(100,1820)),a._compMap.Sprite_0.y.set__(this.randomNumber(750,1020))}this.updateDepths()},grow:function(){if(!h.isMobile||60>this.score){var a=(new k).add(new Ia(this.segmentNames[this.segmentCount],
this.lastAdded));this.segmentCount++;this.segmentCount==this.segmentNames.length&&(this.segmentCount=0);var b=a._compMap.Sprite_0;b.x.set__(this.lastAdded.x._value);b.y.set__(this.lastAdded.y._value);b.rotation.set__(this.lastAdded.rotation._value);this.mapMC.addChild(a);this.segments.push(a);this.lastAdded=b;var c=a._compMap.CraigSegment_9.following,a=b.x._value-c.x._value,e=b.y._value-c.y._value,e=180*Math.atan2(a,e)/Math.PI;b.rotation.set__(-e);a=this.segmentDistance*-Math.sin(e*Math.PI/180);e=
this.segmentDistance*-Math.cos(e*Math.PI/180);this.tailAdded?(b.x.set__(c.x._value),b.y.set__(c.y._value)):(b.x.set__(c.x._value-a),b.y.set__(c.y._value-e));this.tailAdded&&(this.snakeTail.owner._compMap.CraigSegment_9.updateFollow(this.lastAdded),b=this.tail._compMap.CraigSegment_9.following,a=this.snakeTail.x._value-b.x._value,e=this.snakeTail.y._value-b.y._value,e=180*Math.atan2(a,e)/Math.PI,a=this.segmentDistance*-Math.sin(e*Math.PI/180),e=this.segmentDistance*-Math.cos(e*Math.PI/180),this.snakeTail.x.set__(b.x._value-
a),this.snakeTail.y.set__(b.y._value-e),this.updateDepths())}else null},grow8:function(){var a=this,b=new ba;b.run(new ca([new D(function(){a.grow()}),new F(0.2),new D(function(){a.grow()}),new F(0.2),new D(function(){a.grow()}),new F(0.2),new D(function(){a.grow()}),new F(0.2),new D(function(){a.grow();!h.muted&&a.inPlay&&(a.sfx=h.pack.getSound("audio/bigger").play())}),new F(0.2),new D(function(){a.grow()}),new F(0.2),new D(function(){a.grow()}),new F(0.2),new D(function(){a.grow()})]));this.mapMC.add(b)},
grow3:function(a){var b=this,c=new ba;c.run(new ca([new D(function(){b.grow()}),new F(0.2),new D(function(){b.grow()}),new F(0.2),new D(function(){b.grow();var c=b.randomNumber(1,5);!h.muted&&a&&3<c&&(b.sfx=h.pack.getSound("audio/yeah").play())})]));this.mapMC.add(c)},endGame:function(){var a=this;this.pauseGame(!0);var b=(new k).add(new ha(16777215,1336,1336));l.root.addChild(b);b._compMap.Sprite_0.alpha.set__(0);this.introLoop.volume.animateTo(0,0.5);var c=new ba;c.run(new ca([new F(0.5),new D(function(){a.introLoop.volume.set__(0);
h.muted||(a.introLoop=h.pack.getSound("audio/game-over").play())}),new Ba(b._compMap.Sprite_0.alpha,1,0.5),new D(function(){a.game.dispose();h.testMode?a.homeScreen():a.goScreen()}),new Ba(b._compMap.Sprite_0.alpha,0,0.5)]));l.root.add(c)},feedSound:function(){h.muted||(this.sfx=h.pack.getSound("audio/lick_gulp").play())},onUpdate:function(a){var b=this;if("HOME"!=this.gameState&&"GAME"==this.gameState&&this.inPlay){if(h.isMobile&&h.tiltControls){if(5<this.tiltAngle||-5>this.tiltAngle){var c=this.tiltAngle/
10;3.5<c?c=3.5:-3.5>c&&(c=-3.5);this.rotateSpeed=-c;this.headRotation-=this.rotateSpeed;c=this.snakeHead.rotation;c.set__(c._value-this.rotateSpeed)}}else this.turningLeft?(this.headRotation-=this.rotateSpeed,c=this.snakeHead.rotation,c.set__(c._value-this.rotateSpeed)):this.turningRight&&(this.headRotation+=this.rotateSpeed,c=this.snakeHead.rotation,c.set__(c._value+this.rotateSpeed));this.dx=(this.snakeSpeed+this.snakeSpeedBonus)*Math.sin(this.headRotation*Math.PI/180);this.dy=(this.snakeSpeed+
this.snakeSpeedBonus)*-Math.cos(this.headRotation*Math.PI/180);this.mapOffsetX=this.dx;this.mapOffsetY=this.dy;c=this.snakeHead.x;c.set__(c._value+this.dx*60*a);c=this.snakeHead.y;c.set__(c._value+this.dy*60*a);c=0;for(a=this.segments;c<a.length;){var e=a[c];++c;this.segmentSprite=e._compMap.Sprite_0;this.followSprite=e._compMap.CraigSegment_9.following;this.dx=this.segmentSprite.x._value-this.followSprite.x._value;this.dy=this.segmentSprite.y._value-this.followSprite.y._value;this.r=Math.atan2(this.dx,
this.dy)*this.rPi;this.segmentSprite.rotation.set__(-this.r);this.dx=this.segmentDistance*-Math.sin(this.r*this.dPi);this.dy=this.segmentDistance*-Math.cos(this.r*this.dPi);this.segmentSprite.x.set__(this.followSprite.x._value-this.dx);this.segmentSprite.y.set__(this.followSprite.y._value-this.dy)}c=this.tail._compMap.CraigSegment_9.following;this.dx=this.snakeTail.x._value-c.x._value;this.dy=this.snakeTail.y._value-c.y._value;a=Math.atan2(this.dx,this.dy)*this.rPi;this.snakeTail.rotation.set__(-a);
this.dx=6*-Math.sin(a*this.dPi);this.dy=6*-Math.cos(a*this.dPi);this.snakeTail.x.set__(c.x._value-this.dx);this.snakeTail.y.set__(c.y._value-this.dy);c=this.segments[6];this.sanjay.rotation.set__(c._compMap.Sprite_0.rotation._value);this.sanjay.x.set__(c._compMap.Sprite_0.x._value);this.sanjay.y.set__(c._compMap.Sprite_0.y._value);0>this.mapOffsetY?0>this.map.y._value&&200<this.snakeHead.y._value&&this.snakeHead.y._value<this.bottom-280&&(c=this.map.y,c.set__(c._value-this.mapOffsetY)):this.map.y._value>
-(1120-this.screenHeight)&&this.snakeHead.y._value<this.bottom-200&&280<this.snakeHead.y._value&&(c=this.map.y,c.set__(c._value-this.mapOffsetY));0<this.map.y._value?this.map.y.set__(0):this.map.y._value<-(1120-this.screenHeight)&&this.map.y.set__(-(1120-this.screenHeight));0>this.mapOffsetX?0>this.map.x._value&&200<this.snakeHead.x._value&&this.snakeHead.x._value<this.right-480&&(c=this.map.x,c.set__(c._value-this.mapOffsetX)):this.map.x._value>-(1920-this.screenWidth)&&this.snakeHead.x._value<this.right-
200&&480<this.snakeHead.x._value&&(c=this.map.x,c.set__(c._value-this.mapOffsetX));0<this.map.x._value?this.map.x.set__(0):this.map.x._value<-(1920-this.screenWidth)&&this.map.x.set__(-(1920-this.screenWidth));c=-this.snakeHead.rotation._value;this.dx=-46*Math.sin(c*Math.PI/180);this.dy=-46*Math.cos(c*Math.PI/180);this.collectX=this.snakeHead.x._value+this.dx;this.collectY=this.snakeHead.y._value+this.dy;this.dot.x.set__(this.collectX);this.dot.y.set__(this.collectY);c=0;for(a=aa.pickups;c<a.length;){var f=
a[c];++c;var g=f._compMap.Sprite_0,e=!1;if(this.collectX>g.x._value-this.pickupSize&&this.collectX<g.x._value+this.pickupSize&&this.collectY>g.y._value-this.pickupSize&&this.collectY<g.y._value+this.pickupSize)if(e=!0,g=f._compMap.Pickup_12.type,"pizzaslice"==g||"drumstick"==g||"wing"==g)this.feedSound(),this.score++,this.showScore(),this.grow3(!0);else if("pizza"==g){if(this.feedSound(),this.score+=3,this.showScore(),this.grow8(),!h.isMobile||60>this.score)this.snakeSpeed-=2,this.snakeSpeed<2+this.snakeSpeedBonus&&
(this.snakeSpeed=2+this.snakeSpeedBonus)}else"hotwings"==g?(this.feedSound(),this.score++,this.showScore(),this.grow3(!0),this.snakeSpeed+=2,9<this.snakeSpeed&&(this.snakeSpeed=9)):"blueberries"==g&&(h.muted||(g=new ba,g.run(new ca([new F(0.5),new D(function(){b.sfx=h.pack.getSound("audio/gross").play()})])),this.game.add(g)),this.getSplats(),this.feedSound(),this.score++,this.showScore(),this.grow3(!1));e&&(p.remove(aa.pickups,f),f.dispose(),this.getPickup())}c=0;for(a=aa.splats;c<a.length;)f=a[c],
++c,g=f._compMap.Sprite_0,e=!1,g.y._value>this.screenHeight+500&&(e=!0),e&&(p.remove(aa.splats,f),f.dispose());4<this.snakeSpeed?(this.snakeSpeed-=0.0020,this.rotateSpeed=this.snakeSpeed-1,5<this.rotateSpeed&&(this.rotateSpeed=5)):4>this.snakeSpeed&&(this.snakeSpeed+=0.0020);if(10>this.collectX||1830<this.collectX||10>this.collectY||1110<this.collectY)h.muted||(this.sfx=h.pack.getSound("audio/hit-metal-barrel").play()),this.endGame();else{c=0;for(a=this.segments;c<a.length;)e=a[c],++c,e=e._compMap.Sprite_0,
this.inPlay&&this.collectX>e.x._value-10&&this.collectX<e.x._value+10&&this.collectY>e.y._value-10&&this.collectY<e.y._value+10&&(h.muted||(this.sfx=h.pack.getSound("audio/splat").play()),this.endGame())}h.testMode||(this.collectX>this.shovel.x._value-16&&this.collectX<this.shovel.x._value+16&&this.collectY>this.shovel.y._value-16&&this.collectY<this.shovel.y._value+16?(h.muted||(this.sfx=h.pack.getSound("audio/hit-metal-barrel").play()),this.endGame()):this.collectX>this.shovel2.x._value-16&&this.collectX<
this.shovel2.x._value+16&&this.collectY>this.shovel2.y._value-16&&this.collectY<this.shovel2.y._value+16?(h.muted||(this.sfx=h.pack.getSound("audio/hit-metal-barrel").play()),this.endGame()):this.collectX>this.table.x._value-66&&this.collectX<this.table.x._value+66&&this.collectY>this.table.y._value-66&&this.collectY<this.table.y._value+66?(h.muted||(this.sfx=h.pack.getSound("audio/hit-metal-barrel").play()),this.endGame()):this.collectX>this.chair1.x._value-35&&this.collectX<this.chair1.x._value+
35&&this.collectY>this.chair1.y._value-50&&this.collectY<this.chair1.y._value+55?(h.muted||(this.sfx=h.pack.getSound("audio/hit-metal-barrel").play()),this.endGame()):this.collectX>this.chair2.x._value-45&&this.collectX<this.chair2.x._value+45&&this.collectY>this.chair2.y._value-44&&this.collectY<this.chair2.y._value+44&&(h.muted||(this.sfx=h.pack.getSound("audio/hit-metal-barrel").play()),this.endGame()),this.collectX>this.cat.x._value-30&&this.collectX<this.cat.x._value+30?this.collectY>this.cat.y._value-
20&&this.collectY<this.cat.y._value+20&&(h.muted||(this.sfx=h.pack.getSound("audio/cat").play()),this.endGame()):this.snakeHead.x._value>this.cat.x._value-30&&this.snakeHead.x._value<this.cat.x._value+30&&this.snakeHead.y._value>this.cat.y._value-20&&this.snakeHead.y._value<this.cat.y._value+20&&(h.muted||(this.sfx=h.pack.getSound("audio/cat").play()),this.endGame()),this.collectX>this.noodman.x._value-36&&this.collectX<this.noodman.x._value+36?this.collectY>this.noodman.y._value-30&&this.collectY<
this.noodman.y._value+30&&(h.muted||(this.sfx=h.pack.getSound("audio/noodman_scream").play()),this.endGame()):this.snakeHead.x._value>this.noodman.x._value-36&&this.snakeHead.x._value<this.noodman.x._value+36&&this.snakeHead.y._value>this.noodman.y._value-30&&this.snakeHead.y._value<this.noodman.y._value+30&&(h.muted||(this.sfx=h.pack.getSound("audio/noodman_scream").play()),this.endGame()))}},startGame:function(){var a=this;this.snakeSpeedBonus=this.score=0;this.snakeSpeed=this.startSpeed;this.turningRight=
this.turningLeft=!1;h.lastPickup=0;this.segments=[];this.segmentCount=0;aa.pickups=[];aa.splats=[];this.game=new k;l.root.addChild(this.game);this._disposer=this.game._compMap.Disposer_8;null==this._disposer&&this.owner.add(this._disposer=new Cb);this.screenWidth=l._platform.getStage().get_width();this.screenHeight=l._platform.getStage().get_height();if(this.screenHeight>this.screenWidth){var b=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=b}this.left=this.top=0;this.right=
1920;this.bottom=1120;this.scrollDown=this.scrollUp=this.scrollRight=this.scrollLeft=!1;this.mapMC=(new k).add(new r(h.pack.getTexture("background_topleft")));this.game.addChild(this.mapMC);this.map=this.mapMC._compMap.Sprite_0;this.map.x.set__(-960+this.screenWidth/2);this.map.y.set__(-560+this.screenHeight/2);b=(new k).add(new r(h.pack.getTexture("background_topright")));this.mapMC.addChild(b);b._compMap.Sprite_0.x.set__(960);b=(new k).add(new r(h.pack.getTexture("background_bottomleft")));this.mapMC.addChild(b);
b._compMap.Sprite_0.y.set__(560);b=(new k).add(new r(h.pack.getTexture("background_bottomright")));this.mapMC.addChild(b);b._compMap.Sprite_0.x.set__(960);b._compMap.Sprite_0.y.set__(560);this.mapMC._compMap.Sprite_0.scissor=new qa(0,0,this.tileSize*this.mapWidth,this.tileSize*this.mapHeight);this.snake=(new k).add(new Ia("HEAD",null));this.mapMC.addChild(this.snake);this.snakeHead=this.snake._compMap.Sprite_0;this.snakeHead.x.set__(this.right/2);this.snakeHead.y.set__(this.bottom/2);this.headRotation=
0;this.lastAdded=this.snakeHead;this.tailAdded=!1;this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.grow();this.tail=(new k).add(new Ia("TAIL",this.lastAdded));this.mapMC.addChild(this.tail);this.snakeTail=this.tail._compMap.Sprite_0;this.snakeTail.x.set__(this.snakeHead.x._value);this.snakeTail.y.set__(this.snakeHead.y._value+113);b=(new k).add(new r(h.pack.getTexture("sanjay")));this.mapMC.addChild(b);
this.sanjay=b._compMap.Sprite_0;this.sanjay.centerAnchor();this.sanjay.set_pixelSnapping(!1);this.sanjay.x.set__(this.snakeHead.x._value);this.sanjay.y.set__(this.snakeHead.y._value+62);b=(new k).add(new r(h.pack.getTexture("dot")));this.mapMC.addChild(b);this.dot=b._compMap.Sprite_0;this.dot.x.set__(960);this.dot.y.set__(560);this.dot.set_visible(!1);this.tailAdded=!0;h.testMode||(b=(new k).add(new Db(!0)),this.mapMC.addChild(b),this.cat=b._compMap.Sprite_0,b=(new k).add(new Gb),this.mapMC.addChild(b),
this.noodman=b._compMap.Sprite_0,b=(new k).add(new r(h.pack.getTexture("shovel"))),this.mapMC.addChild(b),this.shovel=b._compMap.Sprite_0,this.shovel.centerAnchor(),this.shovel.x.set__(this.randomNumber(550,800)),this.shovel.y.set__(this.randomNumber(350,770)),b=(new k).add(new r(h.pack.getTexture("shovelHandle"))),this.mapMC.addChild(b),this.shovelHandle=b._compMap.Sprite_0,this.shovelHandle.centerAnchor(),this.shovelHandle.x.set__(this.shovel.x._value),this.shovelHandle.y.set__(this.shovel.y._value),
b=(new k).add(new r(h.pack.getTexture("shovel"))),this.mapMC.addChild(b),this.shovel2=b._compMap.Sprite_0,this.shovel2.centerAnchor(),this.shovel2.x.set__(this.randomNumber(1050,1370)),this.shovel2.y.set__(this.randomNumber(350,770)),b=(new k).add(new r(h.pack.getTexture("shovelHandle"))),this.mapMC.addChild(b),this.shovelHandle2=b._compMap.Sprite_0,this.shovelHandle2.centerAnchor(),this.shovelHandle2.x.set__(this.shovel2.x._value),this.shovelHandle2.y.set__(this.shovel2.y._value),b=(new k).add(new r(h.pack.getTexture("table"))),
this.mapMC.addChild(b),this.table=b._compMap.Sprite_0,this.table.centerAnchor(),this.table.x.set__(this.randomNumber(1520,1600)),this.table.y.set__(this.randomNumber(550,650)),b=(new k).add(new r(h.pack.getTexture("chair1"))),this.mapMC.addChild(b),this.chair1=b._compMap.Sprite_0,this.chair1.centerAnchor(),this.chair1.x.set__(this.table.x._value+50),this.chair1.y.set__(this.table.y._value-160),b=(new k).add(new r(h.pack.getTexture("chair2"))),this.mapMC.addChild(b),this.chair2=b._compMap.Sprite_0,
this.chair2.centerAnchor(),this.chair2.x.set__(this.table.x._value-30),this.chair2.y.set__(this.table.y._value+140));b=(new k).add(new r(h.pack.getTexture("noodmanfacade")));this.mapMC.addChild(b);this.facade=b._compMap.Sprite_0;this.facade.centerAnchor();this.facade.x.set__(1782);this.facade.y.set__(758);b=(new k).add(new r(h.pack.getTexture("hud")));this.game.addChild(b);b._compMap.Sprite_0.x.set__(10);b._compMap.Sprite_0.y.set__(10);b=new M(h.pack,"scoreText");this.scoreText=new z(b,"0");this.scoreText.set_align(x.Center);
this.scoreText.x.set__(190);this.scoreText.y.set__(50);this.game.addChild((new k).add(this.scoreText));this.pauseBtn=(new k).add(new r(h.pack.getTexture("pause_button")));this.game.addChild(this.pauseBtn);this.pauseBtn._compMap.Sprite_0.centerAnchor();this.pauseBtn._compMap.Sprite_0.x.set__(this.screenWidth-48);this.pauseBtn._compMap.Sprite_0.y.set__(55);this.pauseBtn._compMap.Sprite_0.set_visible(!1);h.isMobile?h.tiltControls?(this._disposer.add(l._platform.getMotion().attitude.connect($(this,this.handleTilt))),
this.tiltAngle=0,this.pickupSize=26):(this._disposer.add(l._platform.getTouch().up.connect($(this,this.handleTouchUp))),this._disposer.add(l._platform.getTouch().down.connect($(this,this.handleTouchDown))),this.leftBtn=(new k).add(new r(h.pack.getTexture("btn_LEFT"))),this.game.addChild(this.leftBtn),this.leftBtn._compMap.Sprite_0.centerAnchor(),this.leftBtn._compMap.Sprite_0.x.set__(100),this.leftBtn._compMap.Sprite_0.y.set__(this.screenHeight-80),this.rightBtn=(new k).add(new r(h.pack.getTexture("btn_RIGHT"))),
this.game.addChild(this.rightBtn),this.rightBtn._compMap.Sprite_0.centerAnchor(),this.rightBtn._compMap.Sprite_0.x.set__(this.screenWidth-100),this.rightBtn._compMap.Sprite_0.y.set__(this.screenHeight-80)):(this._disposer.add(l._platform.getKeyboard().down.connect($(this,this.keyDownHandler))),this._disposer.add(l._platform.getKeyboard().up.connect($(this,this.keyUpHandler))));this.gameState="GAME";this.inPlay=!1;this.getPickup();this.getPickup();this.getPickup();this.getPickup();this.getPickup();
this.getPickup();this.getPickup();this.getPickup();this.bubble=(new k).add(new r(h.pack.getTexture("bubble")));this.mapMC.addChild(this.bubble);this.bubble._compMap.Sprite_0.x.set__(this.snakeHead.x._value+10);this.bubble._compMap.Sprite_0.y.set__(this.snakeHead.y._value-110);this.bubbleNumber=(new k).add(new r(h.pack.getTexture("3")));this.mapMC.addChild(this.bubbleNumber);this.bubbleNumber._compMap.Sprite_0.x.set__(this.snakeHead.x._value+47);this.bubbleNumber._compMap.Sprite_0.y.set__(this.snakeHead.y._value-
80);h.muted||(this.introLoop=h.pack.getSound("audio/in-game_intro").play(),this.introLoop.volume.set__(this.musicVolume),b=new ba,b.run(new ca([new F(0.7),new D(function(){a.bubbleNumber.dispose();a.bubbleNumber=(new k).add(new r(h.pack.getTexture("2")));a.mapMC.addChild(a.bubbleNumber);a.bubbleNumber._compMap.Sprite_0.x.set__(a.snakeHead.x._value+47);a.bubbleNumber._compMap.Sprite_0.y.set__(a.snakeHead.y._value-80)}),new F(0.7),new D(function(){a.bubbleNumber.dispose();a.bubbleNumber=(new k).add(new r(h.pack.getTexture("1")));
a.mapMC.addChild(a.bubbleNumber);a.bubbleNumber._compMap.Sprite_0.x.set__(a.snakeHead.x._value+47);a.bubbleNumber._compMap.Sprite_0.y.set__(a.snakeHead.y._value-80)}),new F(0.7),new D(function(){a.introLoop=h.pack.getSound("audio/in-game_loop").loop();a.introLoop.volume.set__(a.musicVolume);a.bubble.dispose();a.bubbleNumber.dispose();a.pauseBtn._compMap.Sprite_0.set_visible(!0);a.pauseGame(!1)})])),l.root.add(b));new M(h.pack,"tinyfont")},goScreen:function(){this.inPlay=!1;this.screenWidth=l._platform.getStage().get_width();
this.screenHeight=l._platform.getStage().get_height();if(this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=a}this.screenMC=(new k).add(new r(h.pack.getTexture("gameoverLeft")));l.root.addChild(this.screenMC);a=(new k).add(new r(h.pack.getTexture("gameoverRight")));this.screenMC.addChild(a);a._compMap.Sprite_0.x.set__(668);a=this.screenMC._compMap.Sprite_0.y;a.set__(a._value-(768-this.screenHeight));a=(new k).add(new r(h.pack.getTexture("score_box")));
this.screenMC.addChild(a);a._compMap.Sprite_0.centerAnchor();a._compMap.Sprite_0.x.set__(this.screenWidth-200);a._compMap.Sprite_0.y.set__(568);var b=new M(h.pack,"scoreTextBlack");this.scoreText=new z(b,s.string(this.score));this.scoreText.set_align(x.Center);this.scoreText.x.set__(a._compMap.Sprite_0.x._value-16);this.scoreText.y.set__(a._compMap.Sprite_0.y._value-16);this.screenMC.addChild((new k).add(this.scoreText));this.startBtn=(new k).add(new r(h.pack.getTexture("arrow_button")));this.screenMC.addChild(this.startBtn);
this.startBtn._compMap.Sprite_0.centerAnchor();this.startBtn._compMap.Sprite_0.x.set__(this.screenWidth-100);this.startBtn._compMap.Sprite_0.y.set__(703);a=(new k).add(new r(h.pack.getTexture("game_logo")));this.screenMC.addChild(a);a._compMap.Sprite_0.centerAnchor();a._compMap.Sprite_0.x.set__(this.screenWidth-250);a=a._compMap.Sprite_0.y;a.set__(a._value+(768-this.screenHeight+160));this.score>this.score1?(this.score3=this.score2,this.score2=this.score1,this.score1=this.score):this.score>this.score2?
(this.score3=this.score2,this.score2=this.score):this.score>this.score3&&(this.score3=this.score);a=l._platform.getStorage();a.set("snaakescore1",this.score1);a.set("snaakescore2",this.score2);a.set("snaakescore3",this.score3);this.gameState="GAMEOVER"},helpScreen:function(){this.inPlay=!1;this.screenWidth=l._platform.getStage().get_width();this.screenHeight=l._platform.getStage().get_height();if(this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=
a}this.screenMC=(new k).add(new r(h.pack.getTexture("homeLeft")));l.root.addChild(this.screenMC);a=(new k).add(new r(h.pack.getTexture("homeRight")));this.screenMC.addChild(a);a._compMap.Sprite_0.x.set__(668);a=this.screenMC._compMap.Sprite_0.y;a.set__(a._value-(768-this.screenHeight));a=h.isMobile?h.testMode?h.tiltControls?"instructions_test-mode":"instructions_test-mode2":h.tiltControls?"instructions_mobile_tilt":"instructions_mobile_touch":h.testMode?"instructions_test-mode2":"instructions_desktop";
a=(new k).add(new r(h.pack.getTexture(a)));this.screenMC.addChild(a);a._compMap.Sprite_0.centerAnchor();a._compMap.Sprite_0.x.set__(this.screenWidth/2);a._compMap.Sprite_0.y.set__(768-this.screenHeight/2);var b=new M(h.pack,"smallFont"),c=new M(h.pack,"smallFontWhite"),e=new M(h.pack,"medFont"),f=new M(h.pack,"largeFont");if(h.isMobile){if(!h.testMode)if(h.tiltControls){var g=(new k).add(new z(e));this.screenMC.addChild(g);g._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-80);g._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-
70);g._compMap.Sprite_0.set_align(x.Center);g._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("turnright").get_innerData()));f=(new k).add(new z(c));this.screenMC.addChild(f);f._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-80);f._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-40);f._compMap.Sprite_0.set_align(x.Center);f._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("tiltthisway").get_innerData()));f=(new k).add(new z(e));
this.screenMC.addChild(f);f._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value+320);f._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-70);f._compMap.Sprite_0.set_align(x.Center);f._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("turnleft").get_innerData()));f=(new k).add(new z(c));this.screenMC.addChild(f);f._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value+320);f._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-40);f._compMap.Sprite_0.set_align(x.Center);
f._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("tiltthisway").get_innerData()))}else g=(new k).add(new z(e)),this.screenMC.addChild(g),g._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-120),g._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-90),g._compMap.Sprite_0.set_align(x.Center),g._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("turnleft").get_innerData())),f=(new k).add(new z(c)),this.screenMC.addChild(f),f._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-
120),f._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-50),f._compMap.Sprite_0.set_align(x.Center),f._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("tapleft").get_innerData())),f=(new k).add(new z(e)),this.screenMC.addChild(f),f._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value+150),f._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-90),f._compMap.Sprite_0.set_align(x.Center),f._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("turnright").get_innerData())),
f=(new k).add(new z(c)),this.screenMC.addChild(f),f._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value+150),f._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-50),f._compMap.Sprite_0.set_align(x.Center),f._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("tapright").get_innerData()))}else h.testMode||(g=(new k).add(new z(f)),this.screenMC.addChild(g),g._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-230),g._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-
150),g._compMap.Sprite_0.set_align(x.Center),g._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("turnleft").get_innerData())),f=(new k).add(new z(f)),this.screenMC.addChild(f),f._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value+230),f._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-150),f._compMap.Sprite_0.set_align(x.Center),f._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("turnright").get_innerData())));c=(new k).add(new z(e));
this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-420);c._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+60);c._compMap.Sprite_0.set_align(x.Left);c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("eatthese").get_innerData()));c=(new k).add(new z(b));this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-420);c._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+90);c._compMap.Sprite_0.set_align(x.Left);
c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("togrowbigger").get_innerData()));c=(new k).add(new z(e));this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-240);c._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+60);c._compMap.Sprite_0.set_align(x.Left);c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("slowdown").get_innerData()));c=(new k).add(new z(b));this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-
240);c._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+90);c._compMap.Sprite_0.set_align(x.Left);c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("digest").get_innerData()));c=(new k).add(new z(e));this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-40);c._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+60);c._compMap.Sprite_0.set_align(x.Left);c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("speedup").get_innerData()));
c=(new k).add(new z(b));this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-40);c._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+90);c._compMap.Sprite_0.set_align(x.Left);c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("hot").get_innerData()));e=(new k).add(new z(e));this.screenMC.addChild(e);e._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value+160);e._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+60);e._compMap.Sprite_0.set_align(x.Left);
e._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("watchout").get_innerData()));b=(new k).add(new z(b));this.screenMC.addChild(b);b._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value+160);b._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+90);b._compMap.Sprite_0.set_align(x.Left);b._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("onpatrol").get_innerData()));this.startBtn=(new k).add(new r(h.pack.getTexture("arrow_button")));
this.screenMC.addChild(this.startBtn);this.startBtn._compMap.Sprite_0.centerAnchor();this.startBtn._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value+414);this.startBtn._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value+220);this.gameState="HELP"},controlsScreen:function(){this.inPlay=!1;this.screenWidth=l._platform.getStage().get_width();this.screenHeight=l._platform.getStage().get_height();if(this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=
a}this.screenMC=(new k).add(new r(h.pack.getTexture("homeLeft")));l.root.addChild(this.screenMC);a=(new k).add(new r(h.pack.getTexture("homeRight")));this.screenMC.addChild(a);a._compMap.Sprite_0.x.set__(668);a=this.screenMC._compMap.Sprite_0.y;a.set__(a._value-(768-this.screenHeight));this.help=(new k).add(new r(h.pack.getTexture("options_controls")));this.screenMC.addChild(this.help);this.help._compMap.Sprite_0.centerAnchor();this.help._compMap.Sprite_0.x.set__(this.screenWidth/2);this.help._compMap.Sprite_0.y.set__(768-
this.screenHeight/2);var a=new M(h.pack,"smallFontWhite"),b=new M(h.pack,"medFont"),c=(new k).add(new z(b));this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value-160);c._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value-220);c._compMap.Sprite_0.set_align(x.Center);c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("choosecontrols").get_innerData()));c=(new k).add(new z(b));this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value);
c._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value-220);c._compMap.Sprite_0.set_align(x.Left);c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("tilt").get_innerData()));c=(new k).add(new z(a));this.screenMC.addChild(c);c._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value+280);c._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value-160);c._compMap.Sprite_0.set_align(x.Center);c._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("tilthelp").get_innerData()));
b=(new k).add(new z(b));this.screenMC.addChild(b);b._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value);b._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value+30);b._compMap.Sprite_0.set_align(x.Left);b._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("touch").get_innerData()));a=(new k).add(new z(a));this.screenMC.addChild(a);a._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value+280);a._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value+
100);a._compMap.Sprite_0.set_align(x.Center);a._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("touchhelp").get_innerData()));this.startBtn=(new k).add(new r(h.pack.getTexture("arrow_button")));this.screenMC.addChild(this.startBtn);this.startBtn._compMap.Sprite_0.centerAnchor();this.startBtn._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value+414);this.startBtn._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value+220);this.startBtn._compMap.Sprite_0.set_visible(!1);
this.tick=(new k).add(new r(h.pack.getTexture("tick")));this.screenMC.addChild(this.tick);this.tick._compMap.Sprite_0.centerAnchor();this.tick._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value+390);this.tick._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value+130);this.tick._compMap.Sprite_0.set_visible(!1);this.tiltBtn=(new k).add(new r(h.pack.getTexture("controlBtn")));this.screenMC.addChild(this.tiltBtn);this.tiltBtn._compMap.Sprite_0.centerAnchor();this.tiltBtn._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value+
150);this.tiltBtn._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value-130);this.touchBtn=(new k).add(new r(h.pack.getTexture("controlBtn")));this.screenMC.addChild(this.touchBtn);this.touchBtn._compMap.Sprite_0.centerAnchor();this.touchBtn._compMap.Sprite_0.x.set__(this.help._compMap.Sprite_0.x._value+150);this.touchBtn._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value+130);this.gameState="CONTROLS"},homeScreen:function(){this.inPlay=!1;this.screenWidth=l._platform.getStage().get_width();
this.screenHeight=l._platform.getStage().get_height();if(this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=a}this.screenMC=(new k).add(new r(h.pack.getTexture("homeLeft")));l.root.addChild(this.screenMC);a=(new k).add(new r(h.pack.getTexture("homeRight")));this.screenMC.addChild(a);a._compMap.Sprite_0.x.set__(668);a=this.screenMC._compMap.Sprite_0.y;a.set__(a._value-(768-this.screenHeight));a=(new k).add(new r(h.pack.getTexture("game_logo")));
this.screenMC.addChild(a);a._compMap.Sprite_0.centerAnchor();a._compMap.Sprite_0.x.set__(this.screenWidth/2);a=a._compMap.Sprite_0.y;a.set__(a._value+(768-this.screenHeight+160));a=(new k).add(new r(h.pack.getTexture("scoreboard")));this.screenMC.addChild(a);a._compMap.Sprite_0.centerAnchor();a._compMap.Sprite_0.x.set__(this.screenWidth-200);a._compMap.Sprite_0.y.set__(568);var b=new M(h.pack,"smallFont"),b=(new k).add(new z(b));this.screenMC.addChild(b);b._compMap.Sprite_0.x.set__(a._compMap.Sprite_0.x._value-
123);b._compMap.Sprite_0.y.set__(a._compMap.Sprite_0.y._value-52);b._compMap.Sprite_0.set_align(x.Left);b._compMap.Sprite_0.set_text(this.stripLinebreaks(this.translationsXML.node.resolve("topscores").get_innerData()));b=l._platform.getStorage();this.score1=b.get("snaakescore1",0);this.score2=b.get("snaakescore2",0);this.score3=b.get("snaakescore3",0);var c=s.string(this.score1),e=s.string(this.score2),b=s.string(this.score3),f=new M(h.pack,"highscoreFont"),g=(new k).add(new z(f));a.addChild(g);g._compMap.Sprite_0.x.set__(60);
g._compMap.Sprite_0.y.set__(50);g._compMap.Sprite_0.set_text(c);c=(new k).add(new z(f));a.addChild(c);c._compMap.Sprite_0.x.set__(60);c._compMap.Sprite_0.y.set__(77);c._compMap.Sprite_0.set_text(e);e=(new k).add(new z(f));a.addChild(e);e._compMap.Sprite_0.x.set__(60);e._compMap.Sprite_0.y.set__(104);e._compMap.Sprite_0.set_text(b);this.startBtn=(new k).add(new r(h.pack.getTexture("arrow_button")));this.screenMC.addChild(this.startBtn);this.startBtn._compMap.Sprite_0.centerAnchor();this.startBtn._compMap.Sprite_0.x.set__(this.screenWidth-
90);this.startBtn._compMap.Sprite_0.y.set__(703);this.trialBtn=(new k).add(new r(h.pack.getTexture("BTN_test-run")));this.trialBtn._compMap.Sprite_0.centerAnchor();this.trialBtn._compMap.Sprite_0.x.set__(this.screenWidth-280);this.trialBtn._compMap.Sprite_0.y.set__(703);this.gameState="HOME"},onPointerMove:function(a){switch(this.gameState){case "HOME":a.hit==this.startBtn._compMap.Sprite_0?(this.startBtn._compMap.Sprite_0.scaleX.set__(1.1),this.startBtn._compMap.Sprite_0.scaleY.set__(1.1)):(this.startBtn._compMap.Sprite_0.scaleX.set__(1),
this.startBtn._compMap.Sprite_0.scaleY.set__(1));a.hit==this.trialBtn._compMap.Sprite_0?(this.trialBtn._compMap.Sprite_0.scaleX.set__(1.1),this.trialBtn._compMap.Sprite_0.scaleY.set__(1.1)):(this.trialBtn._compMap.Sprite_0.scaleX.set__(1),this.trialBtn._compMap.Sprite_0.scaleY.set__(1));break;case "CONTROLS":a.hit==this.startBtn._compMap.Sprite_0?(this.startBtn._compMap.Sprite_0.scaleX.set__(1.1),this.startBtn._compMap.Sprite_0.scaleY.set__(1.1)):(this.startBtn._compMap.Sprite_0.scaleX.set__(1),this.startBtn._compMap.Sprite_0.scaleY.set__(1));
break;case "HELP":a.hit==this.startBtn._compMap.Sprite_0?(this.startBtn._compMap.Sprite_0.scaleX.set__(1.1),this.startBtn._compMap.Sprite_0.scaleY.set__(1.1)):(this.startBtn._compMap.Sprite_0.scaleX.set__(1),this.startBtn._compMap.Sprite_0.scaleY.set__(1));break;case "GAME":a.hit==this.pauseBtn._compMap.Sprite_0?(this.pauseBtn._compMap.Sprite_0.scaleX.set__(1.1),this.pauseBtn._compMap.Sprite_0.scaleY.set__(1.1)):(this.pauseBtn._compMap.Sprite_0.scaleX.set__(1),this.pauseBtn._compMap.Sprite_0.scaleY.set__(1));
break;case "GAMEOVER":a.hit==this.startBtn._compMap.Sprite_0?(this.startBtn._compMap.Sprite_0.scaleX.set__(1.1),this.startBtn._compMap.Sprite_0.scaleY.set__(1.1)):(this.startBtn._compMap.Sprite_0.scaleX.set__(1),this.startBtn._compMap.Sprite_0.scaleY.set__(1))}},onPointerDown:function(a){switch(this.gameState){case "HOME":a.hit==this.startBtn._compMap.Sprite_0?(h.testMode=!1,this.screenMC.dispose(),h.isMobile?this.controlsScreen():this.helpScreen(),this.isTracking&&l._platform.getExternal().call("trackFlashEvent",
["Show Title: Snaake","play","true"])):a.hit==this.trialBtn._compMap.Sprite_0&&(h.testMode=!0,this.screenMC.dispose(),h.isMobile?this.controlsScreen():this.helpScreen());break;case "CONTROLS":a.hit==this.startBtn._compMap.Sprite_0?(this.screenMC.dispose(),this.helpScreen()):a.hit==this.tiltBtn._compMap.Sprite_0?(this.tick._compMap.Sprite_0.set_visible(!0),this.tick._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value-120),this.startBtn._compMap.Sprite_0.set_visible(!0),h.tiltControls=!0):
a.hit==this.touchBtn._compMap.Sprite_0&&(this.tick._compMap.Sprite_0.set_visible(!0),this.tick._compMap.Sprite_0.y.set__(this.help._compMap.Sprite_0.y._value+130),this.startBtn._compMap.Sprite_0.set_visible(!0),h.tiltControls=!1,this.rotateSpeed=2);break;case "HELP":this.screenMC.dispose();this.startGame();break;case "GAME":a.hit==this.pauseBtn._compMap.Sprite_0?this.inPlay?this.pauseGame(!0):this.pauseGame(!1):(this.pauseGame(!1),this.screenWidth=l._platform.getStage().get_width(),this.screenHeight=
l._platform.getStage().get_height(),this.screenHeight>this.screenWidth&&(a=this.screenWidth,this.screenWidth=this.screenHeight,this.screenHeight=a));break;case "DIED":this.game.dispose();this.startGame();break;case "GAMEOVER":this.screenMC.dispose(),this.homeScreen(),this.isTracking&&l._platform.getExternal().call("trackFlashEvent",["Show Title: Snaake","replay","true"])}},onAdded:function(){l._platform.getPointer().down.connect($(this,this.onPointerDown));l._platform.getPointer().move.connect($(this,
this.onPointerMove));l._platform.getTouch().get_supported();this.segmentNames="BODY,BODY1,BODY2,BODY,BODY3,BODY4".split(",");this.translationsXML=new t.Fast(o.parse(h.pack.getFile("translation.xml").toString()).firstElement());this.isTracking="YES"==(new t.Fast(o.parse(h.pack.getFile("config.xml").toString()).firstElement())).node.resolve("tracking").get_innerData()?!0:!1;this.rPi=180/Math.PI;this.dPi=Math.PI/180;this.homeScreen()},get_name:function(){return"Game_4"},__class__:aa});Vb=function(){};
g["project.Main"]=Vb;Vb.__name__=["project","Main"];Vb.main=function(){l.init();var a=l._platform.getStage().get_width(),b=l._platform.getStage().get_height();if(b>a)var c=a,a=b,b=c;b=new k;c=(new k).add(new ha(16777215,960,560));b.addChild(c);l.root.addChild(b);c=T.fromAssets("preloader");c.set_remoteBase(s.string(l._platform.getExternal().call("jsembed.baseUrl"))+"assets/");var c=l._platform.loadAssetPack(c),e=(new k).add((new ha(3355443,506,26)).centerAnchor().setXY(a/2,400));b.addChild(e);e=(new k).add((new ha(10066329,
500,20)).centerAnchor().setXY(a/2,400));b.addChild(e);var f=(new k).add(new ha(16496403,0,20));e.addChild(f);c.success.connect(function(b){var c=new k;c.add(new r(b.getTexture("game_logo")));c._compMap.Sprite_0.centerAnchor();c._compMap.Sprite_0.x.set__(a/2+10);c._compMap.Sprite_0.y.set__(200);l.root.addChild(c);b=T.fromAssets("mainassets");b.set_remoteBase(s.string(l._platform.getExternal().call("jsembed.baseUrl"))+"assets/");var d=l._platform.loadAssetPack(b);d.success.connect(function(a){l._platform.getTouch().get_supported()&&
(h.isMobile=!0);h.pack=a;l.root.add(new aa)});d.error.connect(function(){null});d.progressChanged.connect(function(){var a=d._progress/d._total;100<a&&(a=100);f._compMap.Sprite_0.width.set__(500*a)})});c.error.connect(function(){null});c.progressChanged.connect(function(){null})};Gb=function(){this.waitTime=100;this.walkSpeed=140};g["project.Noodman"]=Gb;Gb.__name__=["project","Noodman"];Gb.__super__=B;Gb.prototype=A(B.prototype,{onUpdate:function(a){if(!this.isPaused)if(this.isWalking)switch(this.direction){case 1:if(280>
this.thisSprite.y._value)this.wait();else{var b=this.thisSprite.y;b.set__(b._value-this.walkSpeed*a)}break;case 2:1440<this.thisSprite.x._value?this.wait():(b=this.thisSprite.x,b.set__(b._value+this.walkSpeed*a));break;case 3:840<this.thisSprite.y._value?this.wait():(b=this.thisSprite.y,b.set__(b._value+this.walkSpeed*a));break;case 4:480>this.thisSprite.x._value?this.wait():(b=this.thisSprite.x,b.set__(b._value-this.walkSpeed*a))}else this.waited++,this.waited==this.waitTime&&(this.direction--,0==
this.direction&&(this.direction=4),a=this.thisSprite.rotation,a.set__(a._value-90),this.isWalking=!0,this.movie.loop("walk"))},pause:function(a){a?(this.isPaused=!0,this.movie.loop("idle")):(this.isPaused=!1,this.isWalking&&this.movie.loop("walk"))},wait:function(){this.isWalking=!1;this.waited=0;this.movie.loop("idle")},onAdded:function(){this.library=new na(h.pack,"noodman");this.movie=new ja(this.library);this.movie.loop("walk");this.isWalking=!0;this.owner.add(this.movie).add(new u);this.thisSprite=
this.owner._compMap.Sprite_0;this.thisSprite.set_pixelSnapping(!1);this.thisSprite.centerAnchor();this.thisSprite.x.set__(480);this.thisSprite.y.set__(280);this.direction=3;this.isPaused=!0},get_name:function(){return"Noodman_11"},__class__:Gb});Fb=function(){switch(6>h.lastPickup&&!h.testMode?this.randomNumber(1,9):this.randomNumber(1,6)){case 1:this.type="pizzaslice";break;case 2:this.type="pizzaslice";break;case 3:this.type="wing";break;case 4:this.type="wing";break;case 5:this.type="drumstick";
break;case 6:this.type="drumstick";break;case 7:this.type="pizza";break;case 8:this.type="blueberries";break;case 9:this.type="hotwings"}};g["project.Pickup"]=Fb;Fb.__name__=["project","Pickup"];Fb.__super__=B;Fb.prototype=A(B.prototype,{randomNumber:function(a,b){return Math.round(Math.random()*(b-a)+a)},onAdded:function(){this.owner.add(new r(h.pack.getTexture(this.type)));this.thisSprite=this.owner._compMap.Sprite_0;this.thisSprite.centerAnchor()},get_name:function(){return"Pickup_12"},__class__:Fb});
Eb=function(){};g["project.Splat"]=Eb;Eb.__name__=["project","Splat"];Eb.__super__=B;Eb.prototype=A(B.prototype,{randomNumber:function(a,b){return Math.round(Math.random()*(b-a)+a)},onAdded:function(){var a=this;this.library=new na(h.pack,"splat");this.movie=new ja(this.library);this.movie.loop("splatstatic");this.movie.play("splat");this.owner.add(this.movie).add(new u);this.thisSprite=this.owner._compMap.Sprite_0;this.thisSprite.set_pixelSnapping(!1);this.thisSprite.centerAnchor();var b=this.randomNumber(25,
35)/10,c=new ba;c.run(new ca([new F(b),new D(function(){a.movie.loop("dripstatic");a.movie.play("drip")}),new La(this.thisSprite.y,1500,3)]));this.owner.add(c)},get_name:function(){return"Splat_13"},__class__:Eb});var Zb=0;Array.prototype.indexOf&&(p.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0});Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;g.Math=Math;Math.isFinite=function(a){return isFinite(a)};
Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=g.String=String;String.__name__=["String"];Array.prototype.__class__=g.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=g.Date=Date;Date.__name__=["Date"];var $b=g.Int={__name__:["Int"]},ac=g.Dynamic={__name__:["Dynamic"]},Xb=g.Float=Number;Xb.__name__=["Float"];var Yb=g.Bool=Boolean;Yb.__ename__=["Bool"];var bc=g.Class={__name__:["Class"]},cc={};o.Element="element";o.PCData="pcdata";o.CData="cdata";o.Comment="comment";
o.DocType="doctype";o.ProcessingInstruction="processingInstruction";o.Document="document";"undefined"!=typeof JSON&&(xa=JSON);e.HtmlPlatform.instance=new e.HtmlPlatform;I.DISPATCHING_SENTINEL=new va(null,null);l.root=new k;l.uncaughtError=new C;l.hidden=new J(!1);l.volume=new G(1);l._platform=e.HtmlPlatform.instance;l._calledInit=!1;n.window="undefined"!=typeof window?window:null;n.document="undefined"!=typeof window?window.document:null;n.navigator="undefined"!=typeof window?window.navigator:null;
T.__meta__={obj:{assets:[{preloader:[{bytes:42418,md5:"ee08a3c65c471377a48245316366e67a",name:"game_logo.png"}],mainassets:[{bytes:671,md5:"f7d222b20cdce4326897202a39d3701e",name:"1.png"},{bytes:671,md5:"a4a3762f36986f058ebd667fb5390000",name:"2.png"},{bytes:687,md5:"63abfe552089419b2b38eb9d4a92b2d8",name:"3.png"},{bytes:3503,md5:"822a2bafc0d24f3bac99fc03b0bcb60f",name:"arrow_button.png"},{bytes:8776,md5:"f29596aee08623a1fc42344a8339dff6",name:"audio/bigger.mp3"},{bytes:9090,md5:"84bfe04aa0dd01b4065a57a52238f6be",
name:"audio/bigger.ogg"},{bytes:40588,md5:"3c3bf638b9740e48db5232117b47b32f",name:"audio/bigger.wav"},{bytes:28838,md5:"fd7feb003640e362e96925eb8222c49d",name:"audio/cat.mp3"},{bytes:21866,md5:"306f6b49679cd35f87f6463c4167d177",name:"audio/cat.ogg"},{bytes:152792,md5:"6f91b2ca26c1ac2f94d30fe89aa6f675",name:"audio/cat.wav"},{bytes:54751,md5:"7090ba3bd8b86b484bff8c24f25cb2c3",name:"audio/game-over.mp3"},{bytes:40057,md5:"036452b84928aaae0cdfcbe1dd4cf798",name:"audio/game-over.ogg"},{bytes:295462,md5:"1a7f19ee87b366382a83d01cd47fb085",
name:"audio/game-over.wav"},{bytes:14209,md5:"90e89a61b1b1268ac3a7bcb87093a89d",name:"audio/gross.mp3"},{bytes:12911,md5:"048dd8a818f7142a22fd3def2618ca3d",name:"audio/gross.ogg"},{bytes:72362,md5:"cd9d8220b4cfecf3b53efffe4729a99c",name:"audio/gross.wav"},{bytes:41377,md5:"be9527b2a099caf41b3e7acceaa3a6f2",name:"audio/hit-metal-barrel.mp3"},{bytes:26923,md5:"944b181e290e93228c8abf48025d7532",name:"audio/hit-metal-barrel.ogg"},{bytes:220534,md5:"ca980733aa1d10498edad8aadb344e78",name:"audio/hit-metal-barrel.wav"},
{bytes:34271,md5:"9055966a6c9758192c68367a3c2a20d1",name:"audio/in-game_intro.mp3"},{bytes:27295,md5:"d7b7ec6a89163f3b0f68c79ae37eb5a3",name:"audio/in-game_intro.ogg"},{bytes:182528,md5:"86b125bb6bdb58a56f81d45dd43b5d94",name:"audio/in-game_intro.wav"},{bytes:405837,md5:"1a6a7a7f0f8abdf8ba7344818115f156",name:"audio/in-game_loop.mp3"},{bytes:299950,md5:"baab6babd30e906c580a9ba41309018e",name:"audio/in-game_loop.ogg"},{bytes:2230316,md5:"52b5259b8b043f5af36447fca6099f44",name:"audio/in-game_loop.wav"},
{bytes:12955,md5:"59848c38c1e3efc620bc981c3c12022f",name:"audio/lick_gulp.mp3"},{bytes:11246,md5:"a78b5708ee65a6db5486ec57637d8cf8",name:"audio/lick_gulp.ogg"},{bytes:63764,md5:"74a9b15b237c63e655fbdcae2dd3566b",name:"audio/lick_gulp.wav"},{bytes:20061,md5:"7c7952398d3828b32e592df61f4b8be5",name:"audio/noodman_scream.mp3"},{bytes:14400,md5:"867ce35e6b399d9956f8a4a8e3de03ed",name:"audio/noodman_scream.ogg"},{bytes:102956,md5:"c416d69e011286e4948cf9df2807fdf0",name:"audio/noodman_scream.wav"},{bytes:14209,
md5:"b04233b4ba664b9d958225e5133f779b",name:"audio/splat.mp3"},{bytes:11971,md5:"90dc224ae604ad67d493fc29ccc6ae92",name:"audio/splat.ogg"},{bytes:70946,md5:"8fd242c40b7b4045cabf537781e82516",name:"audio/splat.wav"},{bytes:28838,md5:"fb903be852191f8fe18caa0e4601ac5b",name:"audio/sweet.mp3"},{bytes:22393,md5:"26dc11d5dc09a9edfb34c844edd15de8",name:"audio/sweet.ogg"},{bytes:152024,md5:"9ad2c1b4b41e6d7bfe2e0959bb0d9339",name:"audio/sweet.wav"},{bytes:10030,md5:"bdb9010e8cdc93d4608c4473efc559af",name:"audio/yeah.mp3"},
{bytes:10371,md5:"096e99dd7bd96780e6094682a989486d",name:"audio/yeah.ogg"},{bytes:49332,md5:"440120e03c458b380b08cf9b28441463",name:"audio/yeah.wav"},{bytes:627333,md5:"6ca30552f99fcfaefd72b97dc1ef6c56",name:"background_bottomleft.png"},{bytes:518872,md5:"2d4e7ccedcbe65965458ea6c8a43ffd0",name:"background_bottomright.png"},{bytes:622073,md5:"8cd66fbfae61f24df697990473eefcfd",name:"background_topleft.png"},{bytes:534631,md5:"f68edf04acea5aded2550ae72b6d2dea",name:"background_topright.png"},{bytes:4979,
md5:"171963ebfa69613594d72c91198f45b3",name:"blueberries.png"},{bytes:3502,md5:"690d016e885142430171e56487e37ded",name:"BTN_back.png"},{bytes:2678,md5:"8a47a3f36b54c4c2f21d412badd8042f",name:"BTN_exit.png"},{bytes:2309,md5:"80de067ec64400fddb93c6d50eb7753f",name:"btn_LEFT.png"},{bytes:4159,md5:"1cf28ba5201c587a35a6ca5d734fb9cf",name:"BTN_play.png"},{bytes:2300,md5:"355313f78a3006bd51d81f5ce7a41089",name:"btn_RIGHT.png"},{bytes:4339,md5:"3466fcaa0aba8e610242119dd1ffb549",name:"BTN_test-run.png"},{bytes:1520,
md5:"a3e95834a1429dd1f2133f18a281318d",name:"bubble.png"},{bytes:29234,md5:"6041e07f347450c3165f712acb45ca7a",name:"cat/atlas0.png"},{bytes:2557,md5:"f1c9a33e2344059be488e8547c677b6f",name:"cat/library.json"},{bytes:24611,md5:"145ab0281f165d1b9965865cadcfd725",name:"chair1.png"},{bytes:23909,md5:"84f1ab90e7c3f7d18447124c90aab193",name:"chair2.png"},{bytes:89,md5:"459f226362eaeeedb9063e0ec5b48e7e",name:"config.xml"},{bytes:1693,md5:"93a2f8a7d8984c56d70c753b19459c39",name:"controlBtn.png"},{bytes:198141,
md5:"3aba0acc6d2c955f0554b39e422afaf8",name:"desktop.png"},{bytes:948,md5:"13a13a53e1fd0fc738bf9b747a03a0db",name:"dot.png"},{bytes:2534,md5:"850e4846bddd727c8546fe058759dd83",name:"drumstick.png"},{bytes:8333,md5:"b0cf0424a3558a0d59ccfde1a9b77d24",name:"game-over_bubble.png"},{bytes:42418,md5:"ee08a3c65c471377a48245316366e67a",name:"game_logo.png"},{bytes:535283,md5:"2080d8247154ab55676614c2df2c2f82",name:"gameoverLeft.png"},{bytes:568155,md5:"e9a558fb94a38ff929f7dae0c672071a",name:"gameoverRight.png"},
{bytes:1613,md5:"4d3a74752b7d928ff7eaa90d6ee74262",name:"highscoreFont.fnt"},{bytes:4480,md5:"924691ee944accb16403624a964f3603",name:"highscoreFont.png"},{bytes:558071,md5:"b16f008e9326198e5af51fa35de88f0a",name:"homeLeft.png"},{bytes:611104,md5:"4c81cd8ddb4c5fa7bb527fe333231557",name:"homeRight.png"},{bytes:6678,md5:"dd65fb165af6903d66d61c2e6d17123b",name:"hotwings.png"},{bytes:16994,md5:"d31c51dee46bfcf58987d12489c557a4",name:"hud.png"},{bytes:151441,md5:"b0b37b016b029016138f532b5104591b",name:"instructions_desktop.png"},
{bytes:154380,md5:"653cd2af8f9a460a68ac0184a2010e10",name:"instructions_mobile_tilt.png"},{bytes:143325,md5:"e7adcbf8a5ae4c6b54fe5913cbd6a4bc",name:"instructions_mobile_touch.png"},{bytes:141020,md5:"ac42dc63e3751f8f188752b96857ffbd",name:"instructions_test-mode.png"},{bytes:130895,md5:"154d2cb58bd284c1abd988454bd5dc5b",name:"instructions_test-mode2.png"},{bytes:48062,md5:"cddafef483c9f9893084c3e035910b95",name:"largeFont.fnt"},{bytes:127293,md5:"42d85ca3ba54b4ca583d10995d861b2b",name:"largeFont.png"},
{bytes:47381,md5:"6ab7c4d3ea017f9e1a78aec9cf0c9b61",name:"medFont.fnt"},{bytes:72423,md5:"babf38bbfa73f3a9b14c999490ef9ec3",name:"medFont.png"},{bytes:182555,md5:"ff3777cea066ca93d841bfb5024c69d5",name:"mobile.png"},{bytes:173151,md5:"5427eaf3a34cbd31be08108f6fdb81cf",name:"mobile2.png"},{bytes:2951,md5:"8043f93fe173000e3cb8a1fe3f0c456e",name:"music_btn_off.png"},{bytes:2651,md5:"259c53b2e19c32cc52fccf19e0c10fef",name:"music_btn_on.png"},{bytes:41060,md5:"a4eb036d71f7b8ac53fbaf28b6cddfaf",name:"noodman/atlas0.png"},
{bytes:12208,md5:"59b1062310cc88cbd304c354c853acbd",name:"noodman/atlas1.png"},{bytes:2431,md5:"49f8f85940d067330bbc12cb15a40d2c",name:"noodman/library.json"},{bytes:34068,md5:"7ad2de615d1b4838684d305b51bbe09a",name:"noodmanfacade.png"},{bytes:120187,md5:"9292ce521c6c3fd1aec6c44609a680f0",name:"options_controls.png"},{bytes:3103,md5:"aa277292a879dc05bd7701cc35a1a41a",name:"pause_button.png"},{bytes:7877,md5:"df4f4ffdc6e7a0d2f7f3463c67073b79",name:"pizza.png"},{bytes:4501,md5:"27d8f8d48d1844ab5d414805e218b046",
name:"pizzaslice.png"},{bytes:4249,md5:"cfdabed4a16d12392b17f6affc47d849",name:"sanjay.png"},{bytes:104034,md5:"17f76fbca9dc043220c07e9c36528136",name:"sanjaycraigbloat.png"},{bytes:8156,md5:"80e82866e9cde6495b0eb5bf19d295fa",name:"score_box.png"},{bytes:9236,md5:"32df62e078563d23f1f7e126d9ab6a0a",name:"scoreboard.png"},{bytes:1981,md5:"fdcef1ba710f55077a33658bd93db05c",name:"scoreText.fnt"},{bytes:6808,md5:"dbb0193bc61db5b4c6c55a14312f84f3",name:"scoreText.png"},{bytes:1986,md5:"5c37a0cf3ebce877193bc2c651605b93",
name:"scoreTextBlack.fnt"},{bytes:5993,md5:"fed80354146fa3032cedde29cded29ad",name:"scoreTextBlack.png"},{bytes:2850,md5:"383470e482d8cb0427e8ece0008fdebe",name:"settings_button.png"},{bytes:5678,md5:"40c160572db09d289e1d3c1bcb66d696",name:"shovel.png"},{bytes:4023,md5:"3614c4f4b9e30b6ae5dc54b2e8cc5fb9",name:"shovelHandle.png"},{bytes:44917,md5:"dc1752d706b23e324b42a331dcdae672",name:"smallFont.fnt"},{bytes:39088,md5:"c3f178c635b7b13c11987acabc7c0417",name:"smallFont.png"},{bytes:44922,md5:"1853ec5edac4d918e78480494b93c524",
name:"smallFontWhite.fnt"},{bytes:54437,md5:"b1dcc68f45e2c3e175986c98dea6bbe7",name:"smallFontWhite.png"},{bytes:2078,md5:"bf87731e3eaf87ab82d6ea1861a36034",name:"snaake/atlas0.png"},{bytes:1921,md5:"17b7e29c2fea45bdb573c7383f6da670",name:"snaake/library.json"},{bytes:24020,md5:"78439f27d567ba57d68f5b0dff089984",name:"splat/atlas0.png"},{bytes:2620,md5:"2a87766accb9697a598fc2945aa2ad68",name:"splat/library.json"},{bytes:36467,md5:"af019a06b34d0a4a4b103ea7725d9227",name:"table.png"},{bytes:4172,md5:"f3dc76e5f939d2e0906c6bfffe736b7b",
name:"tick.png"},{bytes:22499,md5:"6b1f975607029ae74049de5a34e1c816",name:"tinyfont.fnt"},{bytes:14541,md5:"afcec55cad32ec4ffedc4160f561b612",name:"tinyfont.png"},{bytes:1207,md5:"3aad5c3a37d79ea06c9db22486423e4c",name:"translation.xml"},{bytes:2329,md5:"6f6ecdb05a08388b2213b43f722e5d2f",name:"wing.png"}]}]}};T._supportsCrossOrigin=function(){var a;a=0<=n.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();u._scratchPoint=new Lb;M.NEWLINE=
new Qa(10);Z._sharedEvent=new ob;U._sharedEvent=new pb;N._sharedEvent=new qb;e.CanvasRenderer.CANVAS_TEXTURES=(new za("(iPhone|iPod|iPad)","")).match(n.window.navigator.userAgent);e.HtmlAssetPackLoader._mediaRefCount=0;e.HtmlAssetPackLoader._detectBlobSupport=!0;e.HtmlUtil.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];e.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=n.window.top==n.window&&(new za("Mobile(/.*)? Safari","")).match(n.navigator.userAgent);e.WebAudioSound._detectSupport=!0;e.WebGLGraphics._scratchMatrix=
new da;ga.USE_CACHE=!1;ga.USE_ENUM_INDEX=!1;ga.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";P.DEFAULT_RESOLVER=H;P.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";v.ObjectMap.count=0;t.Parser.escapes=function(){var a=new v.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);h.isMobile=!1;h.muted=!1;h.musicPlaying=!1;Vb.main()})();
