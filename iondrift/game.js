!function(e){"use strict";var s={},i=function(){return xi.__string_rec(this,"")};function t(t,e){function s(){}s.prototype=t;var i=new s;for(var n in e)i[n]=e[n];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}var g=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};(s.EReg=g).__name__=["EReg"],g.prototype={r:null,match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw new bi("EReg::matched")},__class__:g};var $=function(){};(s.HxOverrides=$).__name__=["HxOverrides"],$.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),s=new Date;return s.setTime(0),s.setUTCHours(e[0]),s.setUTCMinutes(e[1]),s.setUTCSeconds(e[2]),s;case 10:var i=t.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var n=t.split(" "),r=n[0].split("-"),a=n[1].split(":");return new Date(r[0],r[1]-1,r[2],a[0],a[1],a[2]);default:throw new bi("Invalid date format : "+t)}},$.cca=function(t,e){var s=t.charCodeAt(e);if(s==s)return s},$.substr=function(t,e,s){if(null==s)s=t.length;else if(s<0){if(0!=e)return"";s=t.length+s}return t.substr(e,s)},$.remove=function(t,e){var s=t.indexOf(e);return-1!=s&&(t.splice(s,1),!0)},$.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var w=function(){};(s.Lambda=w).__name__=["Lambda"],w.has=function(t,e){for(var s=sn(t)();s.hasNext();){if(s.next()==e)return!0}return!1},w.exists=function(t,e){for(var s=sn(t)();s.hasNext();){if(e(s.next()))return!0}return!1};var tt=function(){this.length=0};(s.List=tt).__name__=["List"],tt.prototype={h:null,q:null,length:null,add:function(t){var e=new n(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},push:function(t){var e=new n(t,this.h);this.h=e,null==this.q&&(this.q=e),this.length++},remove:function(t){for(var e=null,s=this.h;null!=s;){if(s.item==t)return null==e?this.h=s.next:e.next=s.next,this.q==s&&(this.q=e),this.length--,!0;s=(e=s).next}return!1},iterator:function(){return new r(this.h)},__class__:tt};var n=function(t,e){this.item=t,this.next=e};(s["_List.ListNode"]=n).__name__=["_List","ListNode"],n.prototype={item:null,next:null,__class__:n};var r=function(t){this.head=t};(s["_List.ListIterator"]=r).__name__=["_List","ListIterator"],r.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var t=this.head.item;return this.head=this.head.next,t},__class__:r},Math.__name__=["Math"];var Y=function(){};(s.Reflect=Y).__name__=["Reflect"],Y.field=function(t,e){try{return t[e]}catch(t){return null}},Y.fields=function(t){var e=[];if(null!=t){var s=Object.prototype.hasOwnProperty;for(var i in t)"__id__"!=i&&"hx__closures__"!=i&&s.call(t,i)&&e.push(i)}return e},Y.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},Y.compareMethods=function(t,e){return t==e||!(!Y.isFunction(t)||!Y.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},Y.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};var Q=function(){};(s.Std=Q).__name__=["Std"],Q.string=function(t){return xi.__string_rec(t,"")},Q.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=$.cca(t,1)&&88!=$.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},Q.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};var U=function(){this.b=""};(s.StringBuf=U).__name__=["StringBuf"],U.prototype={b:null,__class__:U};var y=function(){};(s.StringTools=y).__name__=["StringTools"],y.htmlEscape=function(t,e){return t=t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),e?t.split('"').join("&quot;").split("'").join("&#039;"):t},y.isSpace=function(t,e){var s=$.cca(t,e);return 8<s&&s<14||32==s},y.ltrim=function(t){for(var e=t.length,s=0;s<e&&y.isSpace(t,s);)++s;return 0<s?$.substr(t,s,e-s):t},y.rtrim=function(t){for(var e=t.length,s=0;s<e&&y.isSpace(t,e-s-1);)++s;return 0<s?$.substr(t,0,e-s):t},y.trim=function(t){return y.ltrim(y.rtrim(t))},y.replace=function(t,e,s){return t.split(e).join(s)},y.hex=function(t,e){for(var s="";s="0123456789ABCDEF".charAt(15&t)+s,0<(t>>>=4););if(null!=e)for(;s.length<e;)s="0"+s;return s};var a=s.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};a.TNull=["TNull",0],a.TNull.toString=i,(a.TNull.__enum__=a).TInt=["TInt",1],a.TInt.toString=i,(a.TInt.__enum__=a).TFloat=["TFloat",2],a.TFloat.toString=i,(a.TFloat.__enum__=a).TBool=["TBool",3],a.TBool.toString=i,(a.TBool.__enum__=a).TObject=["TObject",4],a.TObject.toString=i,(a.TObject.__enum__=a).TFunction=["TFunction",5],a.TFunction.toString=i,(a.TFunction.__enum__=a).TClass=function(t){var e=["TClass",6,t];return e.__enum__=a,e.toString=i,e},a.TEnum=function(t){var e=["TEnum",7,t];return e.__enum__=a,e.toString=i,e},a.TUnknown=["TUnknown",8],a.TUnknown.toString=i,a.TUnknown.__enum__=a;var et=function(){};(s.Type=et).__name__=["Type"],et.getEnum=function(t){return null==t?null:t.__enum__},et.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},et.getEnumName=function(t){return t.__ename__.join(".")},et.resolveClass=function(t){var e=s[t];return null!=e&&e.__name__?e:null},et.resolveEnum=function(t){var e=s[t];return null!=e&&e.__ename__?e:null},et.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},et.createEnum=function(t,e,s){var i=Y.field(t,e);if(null==i)throw new bi("No such constructor "+e);if(Y.isFunction(i)){if(null==s)throw new bi("Constructor "+e+" need parameters");return i.apply(t,s)}if(null!=s&&0!=s.length)throw new bi("Constructor "+e+" does not need parameters");return i},et.createEnumIndex=function(t,e,s){var i=t.__constructs__[e];if(null==i)throw new bi(e+" is not a valid enum constructor index");return et.createEnum(t,i,s)},et.getInstanceFields=function(t){var e=[];for(var s in t.prototype)e.push(s);return $.remove(e,"__class__"),$.remove(e,"__properties__"),e},et.typeof=function(t){switch(typeof t){case"boolean":return a.TBool;case"function":return t.__name__||t.__ename__?a.TObject:a.TFunction;case"number":return Math.ceil(t)==t%2147483648?a.TInt:a.TFloat;case"object":if(null==t)return a.TNull;var e=t.__enum__;if(null!=e)return a.TEnum(e);var s=xi.getClass(t);return null!=s?a.TClass(s):a.TObject;case"string":return a.TClass(String);case"undefined":return a.TNull;default:return a.TUnknown}},et.enumEq=function(t,e){if(t==e)return!0;try{if(t[0]!=e[0])return!1;for(var s=2,i=t.length;s<i;){var n=s++;if(!et.enumEq(t[n],e[n]))return!1}var r=t.__enum__;if(r!=e.__enum__||null==r)return!1}catch(t){return!1}return!0};var O=function(t){this.nodeType=t,this.children=[],this.attributeMap=new Ti};(s.Xml=O).__name__=["Xml"],O.parse=function(t){return Si.parse(t)},O.createElement=function(t){var e=new O(O.Element);if(e.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},O.createPCData=function(t){var e=new O(O.PCData);if(e.nodeType==O.Document||e.nodeType==O.Element)throw new bi("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},O.createCData=function(t){var e=new O(O.CData);if(e.nodeType==O.Document||e.nodeType==O.Element)throw new bi("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},O.createComment=function(t){var e=new O(O.Comment);if(e.nodeType==O.Document||e.nodeType==O.Element)throw new bi("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},O.createDocType=function(t){var e=new O(O.DocType);if(e.nodeType==O.Document||e.nodeType==O.Element)throw new bi("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},O.createProcessingInstruction=function(t){var e=new O(O.ProcessingInstruction);if(e.nodeType==O.Document||e.nodeType==O.Element)throw new bi("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},O.createDocument=function(){return new O(O.Document)},O.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(t){if(this.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=pn[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+this.nodeType);var s=this.attributeMap;null!=pn[t]?s.setReserved(t,e):s.h[t]=e},exists:function(t){if(this.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=pn[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},attributes:function(){if(this.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},elements:function(){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=[],e=0,s=this.children;e<s.length;){var i=s[e];++e,i.nodeType==O.Element&&t.push(i)}return $.iter(t)},firstElement:function(){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=0,e=this.children;t<e.length;){var s=e[t];if(++t,s.nodeType==O.Element)return s}return null},addChild:function(t){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+this.nodeType);return!!$.remove(this.children,t)&&!(t.parent=null)},__class__:O};var l=function(){};(s["awe6.interfaces.IPauseable"]=l).__name__=["awe6","interfaces","IPauseable"],l.prototype={isActive:null,pause:null,resume:null,__class__:l};var o=function(){};(s["awe6.interfaces.IDisposable"]=o).__name__=["awe6","interfaces","IDisposable"],o.prototype={isDisposed:null,dispose:null,__class__:o};var _=function(){};(s["awe6.interfaces.IUpdateable"]=_).__name__=["awe6","interfaces","IUpdateable"],_.prototype={update:null,__class__:_};var h=function(){};(s["awe6.interfaces.IProcess"]=h).__name__=["awe6","interfaces","IProcess"],h.__interfaces__=[l,o,_];var u=function(t){this._kernel=t,this._tools=this._kernel.tools,this._isEntity=xi.__instanceof(this,f),this._init()};(s["awe6.core.Process"]=u).__name__=["awe6","core","Process"],u.__interfaces__=[h],u.prototype={isActive:null,isDisposed:null,_kernel:null,_tools:null,_age:null,_updates:null,_isEntity:null,_isIsActiveSetterBypassed:null,_init:function(){this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this.isDisposed=!1,this._age=0,this._updates=0},dispose:function(){this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())},_disposer:function(){},getAge:function(t){return null==t&&(t=!0),t?this._age:this._updates},update:function(t){null==t&&(t=0),this.isActive&&!this.isDisposed&&(this._age+=t,this._updates++,this._updater(t))},_updater:function(t){null==t&&(t=0)},set_isActive:function(t){return this.isDisposed?this.isActive=!1:(t!=this.isActive&&(this._isIsActiveSetterBypassed?this.isActive=t:t?this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ee.RESUME,this,!0,!0,!0)):this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ee.PAUSE,this,!0,!0,!0))),this._isIsActiveSetterBypassed=!1,this.isActive)},pause:function(){this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ee.PAUSE,this,!0,!0,!0))},_pauser:function(){},resume:function(){this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ee.RESUME,this,!0,!0,!0))},_resumer:function(){},__class__:u};var c=function(){};(s["awe6.interfaces.IAgendaManager"]=c).__name__=["awe6","interfaces","IAgendaManager"],c.prototype={setAgenda:null,__class__:c};var p=function(){};(s["awe6.interfaces.IEntityCollection"]=p).__name__=["awe6","interfaces","IEntityCollection"],p.__interfaces__=[c],p.prototype={addEntity:null,removeEntity:null,getEntities:null,getEntitiesByClass:null,__class__:p};var d=function(){};(s["awe6.interfaces.IViewable"]=d).__name__=["awe6","interfaces","IViewable"],d.prototype={get_view:null,__class__:d};var f=function(){};(s["awe6.interfaces.IEntity"]=f).__name__=["awe6","interfaces","IEntity"],f.__interfaces__=[p,d,h],f.prototype={get_parent:null,id:null,remove:null,__class__:f};var v=function(t,e,s){null==this.get_view()&&(this.view=new Yt(t,s,0,this)),this.set_id(null==e?t.tools.createGuid():e),u.call(this,t)};(s["awe6.core.Entity"]=v).__name__=["awe6","core","Entity"],v.__interfaces__=[f],v.__super__=u,v.prototype=t(u.prototype,{id:null,agenda:null,parent:null,view:null,_entityAgendaPairs:null,_isAgendaDirty:null,_cachedEntities:null,_init:function(){u.prototype._init.call(this),this.agenda=Xt.ALWAYS,this._entityAgendaPairs=new Mi,this._isAgendaDirty=!0,this._cachedEntities=[]},_updater:function(t){null==t&&(t=0),u.prototype._updater.call(this,t),this._isAgendaDirty&&(this._cachedEntities=this._getEntities(this.get_agenda()),et.enumEq(this.get_agenda(),Xt.ALWAYS)||(this._cachedEntities=this._cachedEntities.concat(this._getEntities(Xt.ALWAYS))),this._isAgendaDirty=!1);for(var e=0,s=this._cachedEntities;e<s.length;){var i=s[e];++e,i.update(t)}},_disposer:function(){this.remove(),this._kernel.messenger.removeSubscribers(this),this._kernel.messenger.removeSubscribers(null,null,null,this,null);var t=this._getEntities();t.reverse();for(var e=0;e<t.length;){var s=t[e];++e,s.dispose()}for(var i=this._entityAgendaPairs.iterator();i.hasNext();){var n=i.next();this._entityAgendaPairs.remove(n)}this.get_view().dispose(),u.prototype._disposer.call(this)},addEntity:function(t,e,s,i){if(null==i&&(i=0),null==s&&(s=!1),this.isDisposed||null==t)return null;null==e&&(e=Xt.ALWAYS);for(var n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();if(r.entity==t&&et.enumEq(r.agenda,e))return t}(this._isAgendaDirty=!0,t.get_parent()!=this)&&(t.remove(s),xi.__instanceof(t,v)&&t._setParent(this));var a=new S(t,e),l=this._entityAgendaPairs;return l.head=new vi(a,l.head),s&&(et.enumEq(e,this.get_agenda())||e==Xt.ALWAYS?this.get_view().addChild(t.get_view(),i):(t.get_view().set_priority(i),a.isAddedToView=!0)),t},removeEntity:function(t,e,s){if(null==s&&(s=!1),!this.isDisposed&&null!=t){for(var i=!1,n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();r.entity!=t||null!=e&&!et.enumEq(r.agenda,e)||(this._entityAgendaPairs.remove(r),i=!0)}if(i){if(this._isAgendaDirty=!0,xi.__instanceof(t,v))t._setParent(null);s&&t.get_view().remove()}}},remove:function(t){null==t&&(t=!1),null!=this.get_parent()&&this.get_parent().removeEntity(this,null,t)},getEntities:function(t){return this._getEntities(t)},_getEntities:function(t){if(!this._isAgendaDirty&&(null==t||et.enumEq(t,this.get_agenda())))return this._cachedEntities;for(var e=[],s=this._entityAgendaPairs.iterator();s.hasNext();){var i=s.next();(null==t||et.enumEq(t,i.agenda))&&e.push(i.entity)}return e.reverse(),e},getEntitiesByClass:function(t,e,s,i,n){if(null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),n&&null!=this._kernel.scenes.get_scene())return this._kernel.scenes.get_scene().getEntitiesByClass(t,e,!0);for(var r=[],a=this._getEntities(e),l=0;l<a.length;){var o=a[l];++l,xi.__instanceof(o,t)&&r.push(o),s&&(r=r.concat(o.getEntitiesByClass(t,e,!0)))}return i&&null!=this.get_parent()&&(r=r.concat(this.get_parent().getEntitiesByClass(t,e,!1,!0))),r},setAgenda:function(t){if(null==t&&(t=Xt.ALWAYS),et.enumEq(this.get_agenda(),t))return!1;this._isAgendaDirty=!0;for(var e=this._entityAgendaPairs.iterator();e.hasNext();){var s=e.next(),i=et.enumEq(this.get_agenda(),s.agenda)&&s.entity.get_view().get_parent()==this.get_view();i&&s.entity.get_view().remove(),s.isAddedToView=s.isAddedToView||i}this.agenda=t;for(var n=this._entityAgendaPairs.iterator();n.hasNext();){var r=n.next();r.isAddedToView&&(et.enumEq(Xt.ALWAYS,r.agenda)||et.enumEq(this.get_agenda(),r.agenda))&&this.get_view().addChild(r.entity.get_view())}return!0},_setParent:function(t){this.parent=t},set_id:function(t){return this.id=t,this.id},get_agenda:function(){return this.agenda},get_parent:function(){return this.parent},get_view:function(){return this.view},__class__:v});var M=function(){};(s["awe6.interfaces.IPositionable"]=M).__name__=["awe6","interfaces","IPositionable"],M.prototype={set_y:null,set_x:null,x:null,y:null,__class__:M};var D=function(t,e,s,i,n,r,a,l,o,_,h){null==a&&(a=0),null==r&&(r=0),null==n&&(n=20),null==i&&(i=100),this._stateUp=new m(t,e),this._stateOver=new m(t,s),this.x=r,this.y=a,this.set_width(i),this.set_height(n),this._keyType=l,this.onClickCallback=o,this.onRollOverCallback=_,this.onRollOutCallback=h,v.call(this,t)};(s["awe6.core.BasicButton"]=D).__name__=["awe6","core","BasicButton"],D.__interfaces__=[M],D.__super__=v,D.prototype=t(v.prototype,{x:null,y:null,width:null,height:null,isOver:null,onClickCallback:null,onRollOverCallback:null,onRollOutCallback:null,_stateUp:null,_stateOver:null,_keyType:null,_init:function(){v.prototype._init.call(this),this.get_view().set_x(this.x),this.get_view().set_y(this.y),this.isOver=!1,this.addEntity(this._stateUp,Xt.SUB_TYPE(T.UP),!0),this.addEntity(this._stateOver,Xt.SUB_TYPE(T.OVER),!0),this.setAgenda(Xt.SUB_TYPE(T.UP))},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t);var e=this._kernel.inputs.mouse,s=this._isPointInsideRectangle(e.x+this.get_view().x-this.get_view().globalX,e.y+this.get_view().y-this.get_view().globalY,this.x,this.y,this.width,this.height);s&&e.set_cursorType(ie.BUTTON),s&&!this.isOver&&this.onRollOver(),!s&&this.isOver&&(e.set_cursorType(ie.AUTO),this.onRollOut()),this.isOver=s,this.isOver&&e.getIsButtonDown()&&this.setAgenda(Xt.SUB_TYPE(T.OVER)),this.isOver&&e.getIsButtonRelease()&&this.onClick(),null!=this._keyType&&this._kernel.inputs.keyboard.getIsKeyRelease(this._keyType)&&this.onClick()},_isPointInsideRectangle:function(t,e,s,i,n,r){return!(t<s)&&(!(e<i)&&(!(s+n<t)&&!(i+r<e)))},onClick:function(){this.setAgenda(Xt.SUB_TYPE(T.UP)),null!=this.onClickCallback&&this.onClickCallback()},onRollOver:function(){this.setAgenda(Xt.SUB_TYPE(T.OVER)),null!=this.onRollOverCallback&&this.onRollOverCallback()},onRollOut:function(){this.setAgenda(Xt.SUB_TYPE(T.UP)),null!=this.onRollOutCallback&&this.onRollOutCallback()},set_x:function(t){return this.x=t,null!=this.get_view()&&this.get_view().set_x(this.x),this.x},set_y:function(t){return this.y=t,null!=this.get_view()&&this.get_view().set_y(this.y),this.y},set_width:function(t){return this.width=t,this.width},set_height:function(t){return this.height=t,this.height},__class__:D});var m=function(t,e){v.call(this,t),this.view=e};(s["awe6.core._BasicButton._HelperState"]=m).__name__=["awe6","core","_BasicButton","_HelperState"],m.__super__=v,m.prototype=t(v.prototype,{__class__:m});var T=s["awe6.core._BasicButton._HelperEState"]={__ename__:["awe6","core","_BasicButton","_HelperEState"],__constructs__:["UP","OVER"]};T.UP=["UP",0],T.UP.toString=i,(T.UP.__enum__=T).OVER=["OVER",1],T.OVER.toString=i,T.OVER.__enum__=T;var E=function(){};(s["awe6.interfaces.IEncrypter"]=E).__name__=["awe6","interfaces","IEncrypter"],E.prototype={decrypt:null,__class__:E};var L=function(t){this._defaultSecret=t};(s["awe6.core.Encrypter"]=L).__name__=["awe6","core","Encrypter"],L.__interfaces__=[E],L.prototype={_defaultSecret:null,decrypt:function(t,e){null==e&&(e="");var s=""!=e?e:this._defaultSecret;return this._xor(t,s)},_xor:function(t,e){for(var s=new wi(new dn(t.length)),i=0,n=0,r=s.length;n<r;){var a=n++,l=t.b[a]^$.cca(e,i);s.b[a]=255&l,++i>=e.length&&(i=0)}return s},__class__:L};var S=function(t,e){this.entity=t,this.agenda=e,this.isAddedToView=!1};(s["awe6.core._Entity._HelperEntityAgendaPair"]=S).__name__=["awe6","core","_Entity","_HelperEntityAgendaPair"],S.prototype={entity:null,agenda:null,isAddedToView:null,__class__:S};var A=function(){};(s["awe6.interfaces.IInputJoypad"]=A).__name__=["awe6","interfaces","IInputJoypad"],A.prototype={getIsButtonDown:null,getIsButtonRelease:null,getButtonDownDuration:null,__class__:A};var b=function(t,e,s,i,n,r,a,l,o,_,h,u,c,p){this._kernel=t,this._keyUp=null!=e?e:te.UP,this._keyRight=null!=s?s:te.RIGHT,this._keyDown=null!=i?i:te.DOWN,this._keyLeft=null!=n?n:te.LEFT,this._keyPrimary=null!=r?r:te.SPACE,this._keySecondary=null!=a?a:te.Z,this._keyUpAlt=null!=l?l:te.W,this._keyRightAlt=null!=o?o:te.D,this._keyDownAlt=null!=_?_:te.S,this._keyLeftAlt=null!=h?h:te.A,this._keyPrimaryAlt=null!=u?u:te.Q,this._keySecondaryAlt=null!=c?c:te.E,this._joypadTouchType=null!=p?p:this._kernel.factory.joypadTouchType,this._isTouchEnabled=this._kernel.factory.joypadTouchType!=$t.DISABLED,this._joypadStateCache={age:0,isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:!1,isPrevUp:!1,isPrevRight:!1,isPrevDown:!1,isPrevLeft:!1}};(s["awe6.core.InputJoypad"]=b).__name__=["awe6","core","InputJoypad"],b.__interfaces__=[A],b.prototype={_kernel:null,_mouse:null,_isTouchEnabled:null,_keyUp:null,_keyRight:null,_keyDown:null,_keyLeft:null,_keyPrimary:null,_keySecondary:null,_keyUpAlt:null,_keyRightAlt:null,_keyDownAlt:null,_keyLeftAlt:null,_keyPrimaryAlt:null,_keySecondaryAlt:null,_joypadTouchType:null,_joypadStateCache:null,_checkKeyboard:function(t,e){switch(t[1]){case 0:return!!this._checkKeyboard(qt.PRIMARY,e)||this._checkKeyboard(qt.SECONDARY,e);case 1:return!!e(this._keyUp)||e(this._keyUpAlt);case 2:return!!e(this._keyRight)||e(this._keyRightAlt);case 3:return!!e(this._keyDown)||e(this._keyDownAlt);case 4:return!!e(this._keyLeft)||e(this._keyLeftAlt);case 5:return!!e(this._keyPrimary)||e(this._keyPrimaryAlt);case 6:return!!e(this._keySecondary)||e(this._keySecondaryAlt)}},getIsButtonDown:function(t){return!!this._checkKeyboard(t,an(nn=this._kernel.inputs.keyboard,nn.getIsKeyDown))||!!this._isTouchEnabled&&this._checkTouchIsDown(t)},getIsButtonRelease:function(t){return!!this._checkKeyboard(t,an(nn=this._kernel.inputs.keyboard,nn.getIsKeyRelease))||!!this._isTouchEnabled&&this._checkTouchIsRelease(t)},getButtonDownDuration:function(t,e,s){null==s&&(s=!1),null==e&&(e=!0);var i=an(nn=this._kernel.inputs.keyboard,nn.getKeyDownDuration);switch(t[1]){case 0:return 0|Math.max(Math.max(i(this._keyPrimary,e,s),i(this._keyPrimaryAlt,e,s)),Math.max(i(this._keySecondary,e,s),i(this._keySecondaryAlt,e,s)));case 1:return 0|Math.max(i(this._keyUp,e,s),i(this._keyUpAlt,e,s));case 2:return 0|Math.max(i(this._keyRight,e,s),i(this._keyRightAlt,e,s));case 3:return 0|Math.max(i(this._keyDown,e,s),i(this._keyDownAlt,e,s));case 4:return 0|Math.max(i(this._keyLeft,e,s),i(this._keyLeftAlt,e,s));case 5:return 0|Math.max(i(this._keyPrimary,e,s),i(this._keyPrimaryAlt,e,s));case 6:return 0|Math.max(i(this._keySecondary,e,s),i(this._keySecondaryAlt,e,s))}},_getTouchButtonPosition:function(t){switch(t[1]){case 1:return{x:.5*this._kernel.factory.width,y:.25*this._kernel.factory.height};case 2:return{x:.75*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 3:return{x:.5*this._kernel.factory.width,y:.75*this._kernel.factory.height};case 4:return{x:.25*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 0:case 5:case 6:return{x:.5*this._kernel.factory.width,y:.5*this._kernel.factory.height}}},_getClosestTouchButton:function(t,e){null==t&&(t=this._mouse.x),null==e&&(e=this._mouse.y);for(var s=99999999,i=qt.FIRE,n=0,r=[qt.FIRE,qt.UP,qt.RIGHT,qt.DOWN,qt.LEFT,qt.PRIMARY];n<r.length;){var a=r[n];++n;var l=this._getTouchButtonPosition(a),o=this._kernel.tools.distance(t,e,l.x,l.y,!0);o<s&&(s=o,i=a)}return i},_getTouchState:function(){var t;if(null!=this._mouse?t=!0:xi.__instanceof(this._kernel.inputs.mouse,Ot)?(this._mouse=xi.__cast(this._kernel.inputs.mouse,Ot),t=!0):t=!1,!t||this._mouse.getAge()==this._joypadStateCache.age)return this._joypadStateCache;var e={age:this._mouse.getAge(),isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:this._joypadStateCache.isFire,isPrevUp:this._joypadStateCache.isUp,isPrevRight:this._joypadStateCache.isRight,isPrevDown:this._joypadStateCache.isDown,isPrevLeft:this._joypadStateCache.isLeft},s=this._joypadTouchType;switch(s[1]){case 1:var i=this._getClosestTouchButton();e.isFire=i==qt.FIRE&&this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._mouse.getIsButtonDown()&&(e.isUp=i==qt.UP,e.isRight=i==qt.RIGHT,e.isDown=i==qt.DOWN,e.isLeft=i==qt.LEFT);break;case 2:var n=s[2];null==n&&(n=20),e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,e.isUp=this._mouse.getButtonDragHeight()<-n,e.isRight=this._mouse.getButtonDragWidth()>n,e.isDown=this._mouse.getButtonDragHeight()>n,e.isLeft=this._mouse.getButtonDragWidth()<-n;break;case 3:var r=s[2];if(e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._kernel.inputs.mouse.getIsButtonDown()){null==r&&(r=100);var a=this._mouse.getDeltaX(),l=this._mouse.getDeltaY();e.isUp=l<-r,e.isRight=r<a,e.isDown=r<l,e.isLeft=a<-r}}return this._joypadStateCache=e,this._joypadStateCache},_checkTouchIsDown:function(t){var e=this._getTouchState();switch(t[1]){case 1:return e.isUp;case 2:return e.isRight;case 3:return e.isDown;case 4:return e.isLeft;case 0:case 5:case 6:return e.isFire}},_checkTouchIsRelease:function(t){var e=this._getTouchState();switch(t[1]){case 1:return!e.isUp&&e.isPrevUp;case 2:return!e.isRight&&e.isPrevRight;case 3:return!e.isDown&&e.isPrevDown;case 4:return!e.isLeft&&e.isPrevLeft;case 0:case 5:case 6:return!e.isFire&&e.isPrevFire}},__class__:b};var x=function(){};(s["awe6.interfaces.IResettable"]=x).__name__=["awe6","interfaces","IResettable"],x.prototype={reset:null,__class__:x};var C=function(){};(s["awe6.interfaces.IInputManager"]=C).__name__=["awe6","interfaces","IInputManager"],C.__interfaces__=[x],C.prototype={joypad:null,keyboard:null,mouse:null,__class__:C};var N=function(t){u.call(this,t)};(s["awe6.core.InputManager"]=N).__name__=["awe6","core","InputManager"],N.__interfaces__=[C],N.__super__=u,N.prototype=t(u.prototype,{joypad:null,keyboard:null,mouse:null,_inputKeyboard:null,_inputMouse:null,_init:function(){u.prototype._init.call(this),this.joypad=this.createJoypad(),this.keyboard=this._inputKeyboard=new Ut(this._kernel),this.mouse=this._inputMouse=new Ot(this._kernel)},_updater:function(t){null==t&&(t=0),u.prototype._updater.call(this,t);var e=this._inputKeyboard;e.isActive&&!e.isDisposed&&(e._age+=t,e._updates++,e._updater(t));var s=this._inputMouse;s.isActive&&!s.isDisposed&&(s._age+=t,s._updates++,s._updater(t))},_disposer:function(){var t=this._inputKeyboard;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer());var e=this._inputMouse;e.isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),u.prototype._disposer.call(this)},createJoypad:function(t,e,s,i,n,r,a,l,o,_,h,u,c){return new b(this._kernel,t,e,s,i,n,r,a,l,o,_,h,u,c)},reset:function(){var t=this._inputKeyboard;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer());var e=this._inputMouse;return e.isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer()),this._init(),!0},__class__:N});var k=function(){};(s["awe6.interfaces.IMessageManager"]=k).__name__=["awe6","interfaces","IMessageManager"],k.__interfaces__=[x],k.prototype={removeSubscribers:null,sendMessage:null,__class__:k};var I=function(t){u.call(this,t)};(s["awe6.core.MessageManager"]=I).__name__=["awe6","core","MessageManager"],I.__interfaces__=[k],I.__super__=u,I.prototype=t(u.prototype,{_subscriptions:null,_messageQueue:null,_isVerbose:null,_init:function(){u.prototype._init.call(this),this._isVerbose=!1,this._subscriptions=new Mi,this._messageQueue=new tt},removeSubscribers:function(t,e,s,i,n){for(var r=this._getSubscriptions(t,e,s,i,n,!0).iterator();r.hasNext();){var a=r.next();this._subscriptions.remove(a),this._isVerbose&&hi.trace("Removing "+Q.string(a.sender)+":"+Q.string(a.message),{fileName:"MessageManager.hx",lineNumber:80,className:"awe6.core.MessageManager",methodName:"removeSubscribers"})}},sendMessage:function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),this._sendMessage(t,e,e,s,i,n)},reset:function(){return this.removeSubscribers(),this._messageQueue=new tt,!0},_updater:function(t){if(null==t&&(t=0),u.prototype._updater.call(this,t),this._isOkToSendMessage())for(var e=this._messageQueue.h;null!=e;){var s=e.item;e=e.next;var i=s;this._sendMessage(i.message,i.sender,i.target,i.isBubbleDown,i.isBubbleUp,i.isBubbleEverywhere),this._messageQueue.remove(i)}},_isOkToSendMessage:function(){return null!=this._kernel.scenes.get_scene()},_sendMessage:function(t,e,s,i,n,r){if(null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=!1),this._isVerbose&&hi.trace("Sending message: "+Q.string(t)+" from "+e.id+"("+Q.string(null==e?null:xi.getClass(e))+") via "+s.id+" ("+Q.string(null==s?null:xi.getClass(s))+")",{fileName:"MessageManager.hx",lineNumber:119,className:"awe6.core.MessageManager",methodName:"_sendMessage"}),this._isOkToSendMessage()){if(r){var a=this._kernel.scenes.get_scene().getEntities()[0];if(null!=a&&null!=a.get_parent())return void this._sendMessage(t,e,this._kernel.scenes.get_scene().getEntities()[0].get_parent(),!0)}for(var l=this._getSubscriptions(s,t,null,e).iterator();l.hasNext();){var o=l.next();if(!this._send(o,t,e))return}if(i)for(var _=s.getEntities(),h=0;h<_.length;){var u=_[h];++h,this._sendMessage(t,e,u,!0)}n&&null!=s.get_parent()&&xi.__instanceof(s.get_parent(),f)&&this._sendMessage(t,e,s.get_parent(),!1,!0)}else this._messageQueue.push(new B(t,e,s,i,n,r))},_send:function(t,e,s){var i=t.handler.apply(t.subscriber,[e,s]);return t.isRemovedAfterFirstSend&&this._subscriptions.remove(t),i},_getSubscriptions:function(t,e,s,i,n,r){null==r&&(r=!1);for(var a=new Mi,l=this._subscriptions.iterator();l.hasNext();){var o=l.next();if(null==t||t==o.subscriber||t==o.sender){if(null!=e&&!xi.__instanceof(e,o.messageClass)){var _=et.typeof(e);if(7==_[1]){_[2];if(et.getEnum(e)!=et.getEnum(o.message)||e[0]!=o.message[0]||e.slice(2).toString()!=o.message.slice(2).toString())continue}else if(e!=o.message)continue}if(null==s||Y.compareMethods(o.handler,s)){if(null!=i){if(r){if(null!=o.senderClassType)continue;if(null==o.sender)continue}if(null!=o.senderClassType&&!xi.__instanceof(i,o.senderClassType))continue;if(null!=o.sender&&o.sender!=i)continue}a.head=new vi(o,a.head)}}}return a},__class__:I});var P=function(t,e,s,i,n,r){null==r&&(r=!1),this.subscriber=t,this.message=e,this.handler=s,this.sender=i,this.senderClassType=n,this.isRemovedAfterFirstSend=r,this.messageClass=null==e?null:xi.getClass(e)};(s["awe6.core._MessageManager._HelperSubscription"]=P).__name__=["awe6","core","_MessageManager","_HelperSubscription"],P.prototype={subscriber:null,message:null,messageClass:null,handler:null,sender:null,senderClassType:null,isRemovedAfterFirstSend:null,__class__:P};var B=function(t,e,s,i,n,r){null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=!1),this.message=t,this.sender=e,this.target=s,this.isBubbleDown=i,this.isBubbleUp=n,this.isBubbleEverywhere=r};(s["awe6.core._MessageManager._HelperMessage"]=B).__name__=["awe6","core","_MessageManager","_HelperMessage"],B.prototype={message:null,sender:null,target:null,isBubbleDown:null,isBubbleUp:null,isBubbleEverywhere:null,__class__:B};var R=function(){};(s["awe6.interfaces.IScene"]=R).__name__=["awe6","interfaces","IScene"],R.__interfaces__=[d,p,h],R.prototype={type:null,isDisposable:null,isPauseable:null,isMuteable:null,isSessionSavedOnNext:null,__class__:R};var j=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),this.type=e,this.isPauseable=s,this.isMuteable=i,this.isSessionSavedOnNext=n,u.call(this,t)};(s["awe6.core.Scene"]=j).__name__=["awe6","core","Scene"],j.__interfaces__=[R],j.__super__=u,j.prototype=t(u.prototype,{type:null,isDisposable:null,isPauseable:null,isMuteable:null,isSessionSavedOnNext:null,view:null,_entity:null,_init:function(){u.prototype._init.call(this),this.isDisposable=!0,this._entity=new v(this._kernel),this.view=this._entity.get_view()},_updater:function(t){null==t&&(t=0),u.prototype._updater.call(this,t),this._entity.update(t)},_disposer:function(){this._entity.dispose(),this.get_view().dispose(),u.prototype._disposer.call(this)},addEntity:function(t,e,s,i){return null==i&&(i=0),null==s&&(s=!1),this._entity.addEntity(t,e,s,i)},removeEntity:function(t,e,s){null==s&&(s=!1),this._entity.removeEntity(t,e,s)},getEntities:function(t){return this._entity.getEntities(t)},getEntitiesByClass:function(t,e,s,i,n){return null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),this._entity.getEntitiesByClass(t,e,s,i,!1)},get_view:function(){return this.view},setAgenda:function(t){return this._entity.setAgenda(t)},__class__:j});var z=function(){};(s["awe6.interfaces.ISceneManager"]=z).__name__=["awe6","interfaces","ISceneManager"],z.prototype={get_scene:null,setScene:null,back:null,next:null,__class__:z};var F=function(t){u.call(this,t)};(s["awe6.core.SceneManager"]=F).__name__=["awe6","core","SceneManager"],F.__interfaces__=[z],F.__super__=u,F.prototype=t(u.prototype,{scene:null,view:null,_sceneTransition:null,_init:function(){u.prototype._init.call(this),this.view=new Yt(this._kernel)},_updater:function(t){null==t&&(t=0),u.prototype._updater.call(this,t),null!=this.get_scene()&&this.get_scene().update(t),null!=this._sceneTransition&&this._sceneTransition.update(t)},_disposer:function(){null!=this.get_scene()&&this.get_scene().dispose(),null!=this._sceneTransition&&this._sceneTransition.dispose(),this.view.dispose(),u.prototype._disposer.call(this)},setScene:function(t){var e=null;if(null!=this.get_scene()){e=this.get_scene().type;var s=this._kernel.factory.createSceneTransition(t,e);null!=this._sceneTransition&&this._sceneTransition.dispose(),this._sceneTransition=s,this._kernel.inputs.reset(),this.get_scene().isDisposable&&(this.get_scene().dispose(),this._kernel.messenger.reset()),this.scene=null}this._kernel.overlay.hideButtons(),this.scene=this._kernel.factory.createScene(t),this._kernel.overlay.showButton(ne.BACK,null!=this._kernel.factory.getBackSceneType(this.get_scene().type)),this._kernel.overlay.showButton(ne.MUTE,this.get_scene().isMuteable&&!this._kernel.audio.isMute),this._kernel.overlay.showButton(ne.UNMUTE,this.get_scene().isMuteable&&this._kernel.audio.isMute),this._kernel.overlay.showButton(ne.PAUSE,this.get_scene().isPauseable&&this._kernel.isActive),this._kernel.overlay.showButton(ne.UNPAUSE,this.get_scene().isPauseable&&!this._kernel.isActive),this.view.addChild(this.get_scene().get_view()),null!=this._sceneTransition&&this.get_scene().get_view().addChild(this._sceneTransition.get_view(),this._tools.BIG_NUMBER+1)},back:function(){var t=this._kernel.factory.getBackSceneType(this.get_scene().type);null!=t&&this.setScene(t)},next:function(){this.get_scene().isSessionSavedOnNext&&null!=this._kernel.get_session()&&this._kernel.get_session().save();var t=this._kernel.factory.getNextSceneType(this.get_scene().type);null!=t&&this.setScene(t)},get_scene:function(){return this.scene},__class__:F});var V=function(){};(s["awe6.interfaces.ITextStyle"]=V).__name__=["awe6","interfaces","ITextStyle"],V.prototype={font:null,size:null,color:null,align:null,spacingVertical:null,isBold:null,isItalic:null,filters:null,toString:null,clone:null,__class__:V};var H=function(t,e,s,i,n,r,a,l,o,_){null==o&&(o=0),null==n&&(n=!1),null==i&&(i=!1),this.font=null!=t?t:"_sans",this.size=null!=e?e:12,this.color=null!=s?s:0,this.isBold=i,this.isItalic=n,this.align=null!=r?r:ae.LEFT,this.spacingHorizontal=null!=a?a:0,this.spacingVertical=null!=l?l:0,this.thickness=o,this.filters=_};(s["awe6.core.TextStyle"]=H).__name__=["awe6","core","TextStyle"],H.__interfaces__=[V],H.prototype={font:null,size:null,color:null,align:null,spacingHorizontal:null,spacingVertical:null,isBold:null,isItalic:null,thickness:null,filters:null,toString:function(){return Q.string(this.font+","+this.size+","+this.color+","+Q.string(this.isBold)+","+Q.string(this.isItalic)+","+Q.string(this.align)+","+this.spacingHorizontal+","+this.spacingVertical+","+this.thickness+","+Q.string(this.filters))},clone:function(){return new H(this.font,this.size,this.color,this.isBold,this.isItalic,this.align,this.spacingHorizontal,this.spacingVertical,this.thickness,this.filters)},__class__:H};var W=function(){};(s["awe6.interfaces.ITools"]=W).__name__=["awe6","interfaces","ITools"],W.__interfaces__=[E],W.prototype={BIG_NUMBER:null,createGuid:null,toCamelCase:null,toConstCase:null,limit:null,range:null,distance:null,serialize:null,unserialize:null,__class__:W};var G=function(t){this._kernel=t,this.BIG_NUMBER=9999998,this._encrypter=this._kernel.factory.createEncrypter()};(s["awe6.core.Tools"]=G).__name__=["awe6","core","Tools"],G.__interfaces__=[W],G.prototype={BIG_NUMBER:null,_kernel:null,_encrypter:null,createGuid:function(t,e){return null==e&&(e=""),null==t&&(t=!1),t?e+$.substr(this._randomCharacter()+this._randomCharacter()+this._randomCharacter(),0,10):e+(this._randomCharacter()+this._randomCharacter()+"-")+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+this._randomCharacter()+this._randomCharacter()},_randomCharacter:function(){return $.substr(y.hex(0|65536*(1+Math.random()),1),1,null)},sortByPriority:function(t,e){var s=t.get_priority(),i=e.get_priority();return s<i?-1:i<s?1:0},_isCamelCase:function(t){return t.toUpperCase()!=t&&(!(-1<t.indexOf(" "))&&!(-1<t.indexOf("_")))},_isConstCase:function(t){return t.toUpperCase()==t&&!(-1<t.indexOf(" "))},toCamelCase:function(t,e){if(null==e&&(e=!1),null==t||""==t)return"";if(this._isCamelCase(t))return t;this._isConstCase(t)&&(t=this.fromConstCase(t));var s="";t=y.replace(t,"     "," "),t=y.replace(t,"    "," "),t=y.replace(t,"   "," "),t=y.replace(t,"  "," ");for(var i=(t=y.replace(t," ","_")).split("_"),n=0;n<i.length;){var r=i[n];++n,s+=e?r.charAt(0).toUpperCase()+$.substr(r,1,null).toLowerCase():r.toLowerCase(),e=!0}return s},fromCamelCase:function(t){if(null==t||""==t)return"";for(var e="",s=t.split(""),i="",n=0;n<s.length;){var r=s[n];++n,r.toLowerCase()!=r&&(e+=i),e+=r,i=" "}return e},toConstCase:function(t){if(null==t||""==t)return"";if(this._isConstCase(t))return t;this._isCamelCase(t)&&(t=this.fromCamelCase(t));return t=y.replace(t,"     "," "),t=y.replace(t,"    "," "),t=y.replace(t,"   "," "),t=y.replace(t,"  "," "),(t=y.replace(t," ","_")).toUpperCase()},fromConstCase:function(t){if(null==t||""==t)return"";for(var e="",s=t.split("_"),i="",n=0;n<s.length;){var r=s[n];++n,e+=i+(r.charAt(0).toUpperCase()+$.substr(r,1,null).toLowerCase()),i=" "}return e},limit:function(t,e,s){return s<t?s:t<e?e:t},range:function(t,e,s){var i=s-e;if(0==i)return t;var n=t-e;return n-Math.floor(n/i)*i+e},distance:function(t,e,s,i,n){null==n&&(n=!1);var r=s-t,a=i-e,l=r*r+a*a;return n?l:Math.sqrt(l)},shuffle:function(t){for(var e=t.slice(),s=e.length;1<s;){var i=Q.random(s),n=e[--s];e[s]=e[i],e[i]=n}return e},convertUpdatesToFormattedTime:function(t,e){var s=Math.round(1e3*t/this._kernel.factory.targetFramerate);return this.convertAgeToFormattedTime(s,e)},convertAgeToFormattedTime:function(t,e){if(null==e&&(e="'"),t<0)return"99"+e+"99"+e+"99";for(var s=t/1e3,i=Math.floor(s),n=Q.string(Math.round(100*(s-i))),r=0;59<i;)++r,i-=60;for(99<r&&(r=99);n.length<2;)n="0"+n;var a=null==i?"null":""+i;i<10&&(a="0"+a);var l=null==r?"null":""+r;return r<10&&(l="0"+l),0==i&&(a="00"),0==r&&(l="00"),Q.string(l+e+a+e+n)},serialize:function(t){return ci.run(t)},unserialize:function(t){return gi.run(t)},decrypt:function(t,e){return null==e&&(e=""),this._encrypter.decrypt(t,e)},__class__:G};var K=function(){};(s["awe6.interfaces.IAssetManager"]=K).__name__=["awe6","interfaces","IAssetManager"],K.prototype={getAsset:null,__class__:K};var X=function(){};(s["awe6.interfaces.IAssetManagerProcess"]=X).__name__=["awe6","interfaces","IAssetManagerProcess"],X.__interfaces__=[h,K];var J=function(t){u.call(this,t)};(s["awe6.core.drivers.AAssetManager"]=J).__name__=["awe6","core","drivers","AAssetManager"],J.__interfaces__=[X],J.__super__=u,J.prototype=t(u.prototype,{_packageId:null,_init:function(){this._packageId=this._kernel.getConfig("settings.assets.packages.default"),null==this._packageId&&(this._packageId="assets"),u.prototype._init.call(this)},getAsset:function(t,e,s){return null==e&&(e=this._packageId),this._driverGetAsset(t,e,s)},_driverGetAsset:function(t,e,s){return null},__class__:J});var Z=function(){};(s["awe6.interfaces.IAudioManager"]=Z).__name__=["awe6","interfaces","IAudioManager"],Z.prototype={set_isMute:null,isMute:null,start:null,stop:null,transform:null,__class__:Z};var q=function(t){u.call(this,t)};(s["awe6.core.drivers.AAudioManager"]=q).__name__=["awe6","core","drivers","AAudioManager"],q.__interfaces__=[Z],q.__super__=u,q.prototype=t(u.prototype,{isMute:null,_sounds:null,_packageId:null,_init:function(){u.prototype._init.call(this),this._sounds=[],this._packageId=this._kernel.getConfig("settings.assets.packages.audio"),null==this._packageId&&(this._packageId=this._kernel.getConfig("settings.assets.packages.default")),null==this._packageId&&(this._packageId="assets.audio"),this.set_isMute(!1)},_updater:function(t){null==t&&(t=0),u.prototype._updater.call(this,t);for(var e=0,s=this._sounds;e<s.length;){var i=s[e];++e,i.isDisposed&&$.remove(this._sounds,i)}},_disposer:function(){for(var t=0,e=this._sounds;t<e.length;){var s=e[t];++t,s.dispose()}this.set_isMute(!1),u.prototype._disposer.call(this)},start:function(t,e,s,i,n,r,a,l){if((null==a&&(a=!1),null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),null==e&&(e=Jt.DEFAULT),a)&&0!=this._getSounds(t,e).length)return;this._sounds.push(this._driverSoundFactory(t,e,s,i,n,r,l))},_driverSoundFactory:function(t,e,s,i,n,r,a){return null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),new st(this._kernel,t,this._packageId,e,s,i,n,r,a)},stop:function(t,e){for(var s=this._getSounds(t,e),i=0;i<s.length;){var n=s[i];++i,n.stop()}},transform:function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=0),null==s&&(s=1);for(var r=this._getSounds(t,e),a=0;a<r.length;){var l=r[a];++a,l.transform(s,i,n)}},set_isMute:function(t){return this.isMute=t,this._driverSetIsMute(t),this.isMute},_driverSetIsMute:function(t){},_getSounds:function(t,e){var s=[];if(null==t&&null==e)s=this._sounds.slice();else if(null==e)for(var i=0,n=this._sounds;i<n.length;){var r=n[i];++i,r.id==t&&s.push(r)}else if(null==t)for(var a=0,l=this._sounds;a<l.length;){var o=l[a];++a,et.enumEq(o.audioChannelType,e)&&s.push(o)}else for(var _=0,h=this._sounds;_<h.length;){var u=h[_];++_,u.id==t&&et.enumEq(u.audioChannelType,e)&&s.push(u)}return s},__class__:q});var st=function(t,e,s,i,n,r,a,l,o){null==l&&(l=0),null==a&&(a=1),null==r&&(r=0),null==n&&(n=1),this._kernel=t,this.isDisposed=!1,this.id=e,this._packageId=s,this.audioChannelType=null!=i?i:Jt.DEFAULT,-1==n&&(n=this._kernel.tools.BIG_NUMBER),this._loops=n,this._startTime=r,this._volume=a,this._pan=l,this._onCompleteCallback=o,this._init()};(s["awe6.core.drivers._AHelperSound"]=st).__name__=["awe6","core","drivers","_AHelperSound"],st.__interfaces__=[o],st.prototype={isDisposed:null,id:null,audioChannelType:null,_packageId:null,_loops:null,_startTime:null,_volume:null,_pan:null,_onCompleteCallback:null,_kernel:null,_init:function(){this._driverInit()},_driverInit:function(){},transform:function(t,e,s){null==s&&(s=!1),null==e&&(e=0),null==t&&(t=1),this.isDisposed||(s?(this._volume=t,this._pan=e):(this._volume=this._kernel.tools.limit(t,0,1),this._pan=this._kernel.tools.limit(e,-1,1)),this._driverTransform(s))},_driverTransform:function(t){null==t&&(t=!1)},stop:function(){this._driverStop(),this.dispose()},_driverStop:function(){},dispose:function(){this.isDisposed||(this.isDisposed=!0,this._driverStop())},__class__:st};var it=function(){};(s["awe6.interfaces.IFactory"]=it).__name__=["awe6","interfaces","IFactory"],it.prototype={id:null,isDebug:null,isEyeCandyOptionEnabled:null,isFullScreenOptionEnabled:null,width:null,height:null,bgColor:null,fullScreenType:null,joypadTouchType:null,targetFramerate:null,isFixedUpdates:null,config:null,startingSceneType:null,keyPause:null,keyMute:null,keyBack:null,keyNext:null,onInitComplete:null,createAssetManager:null,createEncrypter:null,createLogger:null,createOverlay:null,createPreloader:null,createScene:null,createSceneTransition:null,createSession:null,createTextStyle:null,getBackSceneType:null,getNextSceneType:null,__class__:it};var nt=function(t,e,s){null==e&&(e=!1),this._context=t,this.isDebug=e,this._config=s,this.config=new Ti,this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Zt.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=$t.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=re.GAME,this.keyPause=te.P,this.keyMute=te.M,this.keyNext=te.SPACE,this.keyBack=te.ESCAPE,this.keySpecial=te.CONTROL,this._configurer(!0),this._driverInit()};(s["awe6.core.drivers.AFactory"]=nt).__name__=["awe6","core","drivers","AFactory"],nt.__interfaces__=[o,it],nt.prototype={_context:null,_config:null,_kernel:null,_concreteKernel:null,_tools:null,isDisposed:null,id:null,version:null,author:null,isDebug:null,isDecached:null,isEyeCandyOptionEnabled:null,isFullScreenOptionEnabled:null,isResetSessionsOptionEnabled:null,width:null,height:null,bgColor:null,fullScreenType:null,joypadTouchType:null,secret:null,targetFramerate:null,isFixedUpdates:null,config:null,startingSceneType:null,keyPause:null,keyMute:null,keyBack:null,keyNext:null,keySpecial:null,_driverInit:function(){null!=this._config&&"<?xml"==$.substr(this._config,0,5)&&this._traverseElements(O.parse(this._config).firstElement().elements(),""),this._launchKernel()},_traverseElements:function(t,e){0!=e.length&&(e+=".");for(var s=t;s.hasNext();){var i=s.next();if(i.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+i.nodeType);var n,r=e+i.nodeName;if(i.elements().hasNext()&&this._traverseElements(i.elements(),r),i.nodeType!=O.Document&&i.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+i.nodeType);if(null!=i.children[0]){if(i.nodeType!=O.Document&&i.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+i.nodeType);n="<![CDATA["==$.substr(Ai.print(i.children[0]),0,9)}else n=!1;if(n){if(i.nodeType!=O.Document&&i.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+i.nodeType);var a=i.children[0];if(i.nodeType!=O.Document&&i.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+i.nodeType);var l=Ai.print(i.children[0]).split("<![CDATA[").join("").split("]]>").join("");if(a.nodeType==O.Document||a.nodeType==O.Element)throw new bi("Bad node type, unexpected "+a.nodeType);a.nodeValue=l}if(i.nodeType!=O.Document&&i.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+i.nodeType);if(null==i.children[0]){var o=this.config;null!=pn[r]?o.setReserved(r,""):o.h[r]=""}else{if(i.nodeType!=O.Document&&i.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+i.nodeType);var _=i.children[0].nodeType;if(_!=O.Element&&_!=O.Document){var h;if(i.nodeType!=O.Document&&i.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+i.nodeType);if(null==i.children[0])h="";else{if(i.nodeType!=O.Document&&i.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+i.nodeType);var u=i.children[0];if(u.nodeType==O.Document||u.nodeType==O.Element)throw new bi("Bad node type, unexpected "+u.nodeType);h=u.nodeValue}var c=this.config,p=h;null!=pn[r]?c.setReserved(r,p):c.h[r]=p}else{var d=this.config;null!=pn[r]?d.setReserved(r,""):d.h[r]=""}}for(var g=i.attributes();g.hasNext();){var w=g.next(),y=r+"."+w,f=this.config,v=i.get(w);null!=pn[y]?f.setReserved(y,v):f.h[y]=v}}},_configurer:function(t){null==t&&(t=!1)},_launchKernel:function(){null==this._concreteKernel&&(this._configurer(!1),this._concreteKernel=new Pt(this,this._context))},_getAssetUrls:function(){for(var t=[],e=0;e<1e3;){var s="settings.assets.url"+e++,i=this.config;if(null!=pn[s]?i.existsReserved(s):i.h.hasOwnProperty(s)){var n=this.config;t.push(Q.string(null!=pn[s]?n.getReserved(s):n.h[s]))}}return t},onInitComplete:function(t){null==this._kernel&&null!=t&&(this._kernel=t,this._tools=this._kernel.tools,this.id=$.substr(this._tools.toConstCase(y.trim(this.id)),0,16),this.version=$.substr(y.trim(this.version),0,16),this.author=$.substr(y.trim(this.author),0,16))},createAssetManager:function(){return xi.__instanceof(this._kernel.assets,X)?xi.__cast(this._kernel.assets,X):new Ct(this._kernel)},createEncrypter:function(){return new L(this.secret)},createLogger:function(){return null},createOverlay:function(){return new Bt(this._kernel)},createPreloader:function(){return new Rt(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){return null==t&&(t=this.startingSceneType),new j(this._kernel,t)},createSceneTransition:function(t,e){return new zt(this._kernel)},createSession:function(t){return new St(this._kernel,t)},createTextStyle:function(t){return new H},getBackSceneType:function(t){return null},getNextSceneType:function(t){return null},dispose:function(){if(!this.isDisposed&&null!=this._concreteKernel){this.isDisposed=!0,this._driverDisposer();var t=this._concreteKernel;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),this._concreteKernel=null,this._kernel=null,this.config=null}},_driverDisposer:function(){},__class__:nt};var rt=function(){};(s["awe6.interfaces.IInputKeyboard"]=rt).__name__=["awe6","interfaces","IInputKeyboard"],rt.prototype={getIsKeyDown:null,getIsKeyPress:null,getIsKeyRelease:null,getKeyDownDuration:null,__class__:rt};var at=function(t){u.call(this,t)};(s["awe6.core.drivers.AInputKeyboard"]=at).__name__=["awe6","core","drivers","AInputKeyboard"],at.__interfaces__=[rt],at.__super__=u,at.prototype=t(u.prototype,{_keys:null,_buffer:null,_init:function(){u.prototype._init.call(this),this._driverInit(),this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),u.prototype._updater.call(this,t);for(var e=new Ti,s=[],i=0,n=this._buffer;i<n.length;){var r=n[i];++i;var a=null==r.keyCode?"null":""+r.keyCode;(null!=pn[a]?e.existsReserved(a):e.h.hasOwnProperty(a))?s.push(r):r.isDown?this._keys[r.keyCode].isDown||(this._onDown(r.keyCode),null!=pn[a]?e.setReserved(a,!0):e.h[a]=!0):this._keys[r.keyCode].isDown&&(this._onUp(r.keyCode),null!=pn[a]?e.setReserved(a,!0):e.h[a]=!0)}this._buffer=s.slice();for(var l=0,o=this._keys;l<o.length;){var _=o[l];++l,_.isDown?_.updatesDown++:_.updatesUp++,_.isDown?_.timeDown+=t:_.timeUp+=t}},_disposer:function(){this._keys=null,u.prototype._disposer.call(this)},_addEvent:function(t,e){this._buffer.push(new ot(t,e))},_onDown:function(t){var e=this._keys[t];e.isUsed=!0,e.isDown=!0,e.timeUpPrevious=e.timeUp,e.updatesUpPrevious=e.updatesUp,e.updatesUp=0,e.timeUp=0},_onUp:function(t){var e=this._keys[t];e.isDown=!1,e.timeDownPrevious=e.timeDown,e.updatesDownPrevious=e.updatesDown,e.updatesDown=0,e.timeDown=0},_reset:function(t){this._buffer=[],this._keys=[];for(var e=0;e<256;){var s=e++;this._keys[s]=new lt(this._kernel)}},getIsKeyDown:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return this._keys[e].isDown},getIsKeyPress:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return 1==this._keys[e].updatesDown},getIsKeyRelease:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return!!this._keys[e].isUsed&&1==this._keys[e].updatesUp},getKeyDownDuration:function(t,e,s){if(null==s&&(s=!1),null==e&&(e=!0),null==t)return 0;var i=this.getKeyCode(t);return s?e?this._keys[i].timeDownPrevious:this._keys[i].updatesDownPrevious:e?this._keys[i].timeDown:this._keys[i].updatesDown},getKeyCode:function(t){switch(t[1]){case 0:return 144;case 1:return 12;case 2:return 47;case 3:return 18;case 4:return 8;case 5:return 20;case 6:return 17;case 7:return 46;case 8:return 40;case 9:return 35;case 10:return 13;case 11:return 27;case 12:return 112;case 13:return 121;case 14:return 122;case 15:return 123;case 16:return 124;case 17:return 125;case 18:return 126;case 19:return 113;case 20:return 114;case 21:return 115;case 22:return 116;case 23:return 117;case 24:return 118;case 25:return 119;case 26:return 120;case 27:return 36;case 28:return 45;case 29:return 37;case 30:return 96;case 31:return 97;case 32:return 98;case 33:return 99;case 34:return 100;case 35:return 101;case 36:return 102;case 37:return 103;case 38:return 104;case 39:return 105;case 40:return 107;case 41:return 110;case 42:return 111;case 43:return 108;case 44:return 106;case 45:return 109;case 46:return 34;case 47:return 33;case 48:return 39;case 49:return 16;case 50:return 32;case 51:return 9;case 52:return 38;case 53:return 65;case 54:return 66;case 55:return 67;case 56:return 68;case 57:return 69;case 58:return 70;case 59:return 71;case 60:return 72;case 61:return 73;case 62:return 74;case 63:return 75;case 64:return 76;case 65:return 77;case 66:return 78;case 67:return 79;case 68:return 80;case 69:return 81;case 70:return 82;case 71:return 83;case 72:return 84;case 73:return 85;case 74:return 86;case 75:return 87;case 76:return 88;case 77:return 89;case 78:return 90;case 79:return 48;case 80:return 49;case 81:return 50;case 82:return 51;case 83:return 52;case 84:return 53;case 85:return 54;case 86:return 55;case 87:return 56;case 88:return 57;case 89:return 186;case 90:return 187;case 91:return 189;case 92:return 191;case 93:return 222;case 94:return 219;case 95:return 221;case 96:return 220;case 97:return 192;case 98:return 223;case 99:return 0|t[2]}},getKey:function(t){var e=te.__constructs__.slice();e.pop();for(var s=0;s<e.length;){var i=e[s];++s;var n=et.createEnum(te,i);if(this.getKeyCode(n)==t)return n}return te.SUB_TYPE(t)},__class__:at});var lt=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};(s["awe6.core.drivers._AInputKeyboard._HelperKey"]=lt).__name__=["awe6","core","drivers","_AInputKeyboard","_HelperKey"],lt.prototype={isUsed:null,isDown:null,updatesDown:null,updatesUp:null,timeDown:null,timeUp:null,updatesDownPrevious:null,updatesUpPrevious:null,timeDownPrevious:null,timeUpPrevious:null,__class__:lt};var ot=function(t,e){this.keyCode=t,this.isDown=e};(s["awe6.core.drivers._AInputKeyboard._HelperKeyEvent"]=ot).__name__=["awe6","core","drivers","_AInputKeyboard","_HelperKeyEvent"],ot.prototype={keyCode:null,isDown:null,__class__:ot};var _t=function(){};(s["awe6.interfaces.IInputMouse"]=_t).__name__=["awe6","interfaces","IInputMouse"],_t.prototype={set_cursorType:null,x:null,y:null,isMoving:null,getIsButtonDown:null,getIsButtonRelease:null,__class__:_t};var ht=function(t){u.call(this,t)};(s["awe6.core.drivers.AInputMouse"]=ht).__name__=["awe6","core","drivers","AInputMouse"],ht.__interfaces__=[_t],ht.__super__=u,ht.prototype=t(u.prototype,{x:null,y:null,relativeX:null,relativeY:null,relativeCentralisedX:null,relativeCentralisedY:null,isWithinBounds:null,isMoving:null,scroll:null,isVisible:null,cursorType:null,_buffer:null,_xPrev:null,_yPrev:null,_deltaX:null,_deltaY:null,_deltaTimePrev:null,_deltaScroll:null,_scrollPrev:null,_stillUpdates:null,_stillDuration:null,_buttonLeft:null,_buttonMiddle:null,_buttonRight:null,_init:function(){u.prototype._init.call(this),this._driverInit(),this.x=this.y=this._xPrev=this._yPrev=this._deltaX=this._deltaY=this.scroll=this._deltaScroll=0,this.relativeX=this.relativeY=this.relativeCentralisedX=this.relativeCentralisedY=0,this.isMoving=!1,this._buffer=[],this._getPosition(),this.isMoving=!1,this.set_isVisible(!0),this.scroll=0,this.set_cursorType(ie.AUTO),this._scrollPrev=0,this._stillUpdates=0,this._stillDuration=0,this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),this._deltaTimePrev=t,u.prototype._updater.call(this,t),this._xPrev=this.x,this._yPrev=this.y,this._getPosition(),this._handleButton(se.LEFT,0<this._buffer.length?this._buffer.shift():this._buttonLeft.isDown,t),this._handleButton(se.MIDDLE,this._isMiddleDown(),t),this._handleButton(se.RIGHT,this._isRightDown(),t),this._deltaScroll=this.scroll-this._scrollPrev,this._scrollPrev=this.scroll,this._deltaX=this.x-this._xPrev,this._deltaY=this.y-this._yPrev,this.isMoving=this.x!=this._xPrev||this.y!=this._yPrev,this.isMoving?this._stillUpdates=this._stillDuration=0:(this._stillUpdates++,this._stillDuration+=t),this.relativeX=this.x/this._kernel.factory.width,this.relativeY=this.y/this._kernel.factory.height,this.relativeCentralisedX=2*(this.relativeX-.5),this.relativeCentralisedY=2*(this.relativeY-.5),this.isWithinBounds=this._isWithinBounds()},_isMiddleDown:function(){return!1},_isRightDown:function(){return!1},_isWithinBounds:function(){return!0},_getPosition:function(){this.x=0,this.y=0},_handleButton:function(t,e,s){null==s&&(s=0);var i=this._getButton(t);e?(i.isDown||(i.timeUpPrevious=i.timeUp,i.updatesUpPrevious=i.updatesUp,i.timeUp=i.updatesUp=0,i.clickX=this.x,i.clickY=this.y),i.timeDown+=s,i.updatesDown++,i.isDown=!0):(i.isDown&&(i.timeDownPrevious=i.timeDown,i.updatesDownPrevious=i.updatesDown,i.timeDown=i.updatesDown=0),i.timeUp+=s,i.updatesUp++,i.isDown=!1)},_disposer:function(){u.prototype._disposer.call(this)},_reset:function(t){this._buffer=[],this._buttonLeft=new ut(this._kernel),this._buttonMiddle=new ut(this._kernel),this._buttonRight=new ut(this._kernel)},_getButton:function(t){switch(null==t&&(t=se.LEFT),t[1]){case 0:return this._buttonLeft;case 1:return this._buttonMiddle;case 2:return this._buttonRight}},getDeltaX:function(t){null==t&&(t=!0);var e=this._deltaX;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getDeltaY:function(t){null==t&&(t=!0);var e=this._deltaY;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getIsButtonDown:function(t){return this._getButton(t).isDown},getIsButtonRelease:function(t){return 1==this._getButton(t).updatesUp},getButtonDownDuration:function(t,e,s){null==s&&(s=!1),null==e&&(e=!0);var i=this._getButton(t);return s?e?i.timeDownPrevious:i.updatesDownPrevious:e?i.timeDown:i.updatesDown},getButtonDragWidth:function(t){var e=this._getButton(t);return e.isDown?this.x-e.clickX:0},getButtonDragHeight:function(t){var e=this._getButton(t);return e.isDown?this.y-e.clickY:0},set_isVisible:function(t){return this.isVisible=t,this.isVisible},set_cursorType:function(t){return this.cursorType=t,this.cursorType},__class__:ht});var ut=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};(s["awe6.core.drivers._AInputMouse._HelperButton"]=ut).__name__=["awe6","core","drivers","_AInputMouse","_HelperButton"],ut.prototype={isDown:null,updatesDown:null,updatesUp:null,timeDown:null,timeUp:null,updatesDownPrevious:null,updatesUpPrevious:null,timeDownPrevious:null,timeUpPrevious:null,clickX:null,clickY:null,__class__:ut};var ct=function(){};(s["awe6.interfaces.ILogger"]=ct).__name__=["awe6","interfaces","ILogger"],ct.prototype={log:null,__class__:ct};var pt=function(){};(s["awe6.interfaces.IKernel"]=pt).__name__=["awe6","interfaces","IKernel"],pt.__interfaces__=[ct,l],pt.prototype={set_session:null,get_session:null,set_isFullScreen:null,set_isEyeCandy:null,isDebug:null,isLocal:null,isEyeCandy:null,isFullScreen:null,overlay:null,assets:null,audio:null,inputs:null,scenes:null,messenger:null,tools:null,factory:null,getConfig:null,getFramerate:null,onPreloaderComplete:null,__class__:pt};var dt=function(t,e){this.factory=t,this._context=e,this.tools=this._tools=new G(this),u.call(this,this)};(s["awe6.core.drivers.AKernel"]=dt).__name__=["awe6","core","drivers","AKernel"],dt.__interfaces__=[pt],dt.__super__=u,dt.prototype=t(u.prototype,{overlay:null,factory:null,isDebug:null,isLocal:null,tools:null,assets:null,audio:null,inputs:null,scenes:null,messenger:null,isEyeCandy:null,isFullScreen:null,session:null,_context:null,_view:null,_assetManagerProcess:null,_audioManager:null,_inputManager:null,_sceneManager:null,_messageManager:null,_overlayProcess:null,_logger:null,_isPreloaded:null,_preloader:null,_profiler:null,_processes:null,_helperFramerate:null,_init:function(){u.prototype._init.call(this),this._view=new Yt(this,this._context,0,this),this._processes=new tt,this._helperFramerate=new gt(this.factory.targetFramerate),this._isPreloaded=!1,this.isDebug=this.factory.isDebug,this.isLocal=this._driverGetIsLocal(),this._driverInit(),this.assets=this._assetManagerProcess=new Ct(this._kernel),this.audio=this._audioManager=new Nt(this._kernel),this.inputs=this._inputManager=new N(this._kernel),this.scenes=this._sceneManager=new F(this._kernel),this.messenger=this._messageManager=new I(this._kernel),this._view.addChild(this._sceneManager.view,1),this._addProcess(this._assetManagerProcess),this._addProcess(this._inputManager),this._addProcess(this._sceneManager),this._addProcess(this._messageManager),this._addProcess(this._audioManager),this.set_isEyeCandy(!0),this.set_isFullScreen(!1),this.factory.onInitComplete(this),this.set_session(this.factory.createSession()),this.get_session().reset(),this._preloader=this.factory.createPreloader(),this._addProcess(this._preloader),this._view.addChild(this._preloader.get_view(),2)},_driverGetIsLocal:function(){return!1},_driverInit:function(){},_driverDisposer:function(){},onPreloaderComplete:function(t){this._isPreloaded=!0,this._removeProcess(this._preloader),this._preloader=null,this._logger=this.factory.createLogger();var e=this.factory.createAssetManager();e!=this._assetManagerProcess&&(this._removeProcess(this._assetManagerProcess),this.assets=this._assetManagerProcess=e,this._addProcess(this._assetManagerProcess,!1)),this.overlay=this._overlayProcess=this.factory.createOverlay(),this._addProcess(this._overlayProcess,!0),this._view.addChild(this._overlayProcess.get_view(),3),this.isDebug&&(this._addProcess(this._profiler=new jt(this)),this._view.addChild(this._profiler.get_view(),this._tools.BIG_NUMBER)),this.scenes.setScene(this.factory.startingSceneType),this.overlay.flash()},_updater:function(t){null==t&&(t=0),this._helperFramerate.update();var e=this.factory.isFixedUpdates?1e3/this.factory.targetFramerate|0:this._helperFramerate.timeInterval;u.prototype._updater.call(this,e);for(var s=this._processes.h;null!=s;){var i=s.item;s=s.next,i.update(e)}var n=this._view;n.isActive&&!n.isDisposed&&(n._age+=e,n._updates++,n._updater(e))},_disposer:function(){for(var t=this._processes.h;null!=t;){var e=t.item;t=t.next;var s=e;this._removeProcess(s)}xi.__instanceof(this.factory,o)&&xi.__cast(this.factory,o).dispose(),this.factory=null;var i=this._view;i.isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer()),this._view=null,this._driverDisposer(),this.assets=this._assetManagerProcess=null,this.audio=this._audioManager=null,this.inputs=this._inputManager=null,this.scenes=this._sceneManager=null,this.messenger=this._messageManager=null,this.overlay=this._overlayProcess=null,this.tools=this._tools=null,this._logger=null,this._preloader=null,this.set_session(null),u.prototype._disposer.call(this)},getConfig:function(t){var e=this.factory.config;if(null!=pn[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var s=this.factory.config;return null!=pn[t]?s.getReserved(t):s.h[t]}return null},log:function(t){null!=this._logger?this._logger.log(t):this.isDebug&&hi.trace("LOG: "+Q.string(t),{fileName:"AKernel.hx",lineNumber:248,className:"awe6.core.drivers.AKernel",methodName:"log"})},getFramerate:function(t){return null==t&&(t=!0),t?this._helperFramerate.framerate:this.factory.targetFramerate},_addProcess:function(t,e){null==e&&(e=!0),null!=t&&(e?this._processes.add(t):this._processes.push(t))},_removeProcess:function(t){return null!=t&&(t.dispose(),this._processes.remove(t))},set_isEyeCandy:function(t){return this.factory.isEyeCandyOptionEnabled?(this.isEyeCandy=t,this._driverSetIsEyeCandy(t)):this.isEyeCandy=!0,this.isEyeCandy},_driverSetIsEyeCandy:function(t){},set_isFullScreen:function(t){return!this.factory.isFullScreenOptionEnabled||et.enumEq(this.factory.fullScreenType,Zt.DISABLED)?this.isFullScreen=!1:(this.isFullScreen=t,this._driverSetIsFullScreen(t)),this.isFullScreen},_driverSetIsFullScreen:function(t){},_pauser:function(){u.prototype._pauser.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().pause()},_resumer:function(){u.prototype._resumer.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().resume()},get_session:function(){return this.session},set_session:function(t){return this.session=t,this.get_session()},__class__:dt});var gt=function(t){this.framerate=t,this._timeAtLastUpdate=(new Date).getTime()/1e3*1e3|0};(s["awe6.core.drivers._AKernel._HelperFramerate"]=gt).__name__=["awe6","core","drivers","_AKernel","_HelperFramerate"],gt.prototype={framerate:null,timeInterval:null,_timeAtLastUpdate:null,update:function(){this.timeInterval=((new Date).getTime()/1e3*1e3|0)-this._timeAtLastUpdate,this.framerate=1e3/this.timeInterval,this._timeAtLastUpdate=(new Date).getTime()/1e3*1e3|0},__class__:gt};var wt=function(){};(s["awe6.interfaces.IOverlay"]=wt).__name__=["awe6","interfaces","IOverlay"],wt.prototype={get_pauseEntity:null,showButton:null,activateButton:null,hideButtons:null,flash:null,__class__:wt};var yt=function(){};(s["awe6.interfaces.IOverlayProcess"]=yt).__name__=["awe6","interfaces","IOverlayProcess"],yt.__interfaces__=[d,h,wt];var ft=function(t,e,s,i,n,r,a,l,o,_,h,u,c,p,d,g,w){null==w&&(w=.35),null==g&&(g=0),null==d&&(d=8),null==s&&(s=30),null==e&&(e=30),null==i&&(i=new Yt(t)),null==n&&(n=new Yt(t)),null==r&&(r=new Yt(t)),null==a&&(a=new Yt(t)),null==l&&(l=new Yt(t)),null==o&&(o=new Yt(t)),null==_&&(_=new Yt(t)),null==h&&(h=new Yt(t)),null==u&&(u=new Yt(t)),null==c&&(c=new Yt(t)),null==p&&(p=new Yt(t)),this._borderView=i,this._buttonBack=new D(t,n,r,e,s),this._buttonMute=new D(t,a,l,e,s),this._buttonUnmute=new D(t,o,_,e,s),this._buttonPause=new D(t,h,u,e,s),this._buttonUnpause=new D(t,c,p,e,s),this._pauseBlur=d,this._pauseColor=g,this._pauseAlpha=w,this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["awe6.core.drivers.AOverlay"]=ft).__name__=["awe6","core","drivers","AOverlay"],ft.__interfaces__=[yt],ft.__super__=v,ft.prototype=t(v.prototype,{pauseEntity:null,_borderView:null,_progressContext:null,_progressView:null,_pauseContext:null,_pauseView:null,_flashContext:null,_flashView:null,_context:null,_pauseColor:null,_pauseAlpha:null,_pauseBlur:null,_flashDuration:null,_flashAlpha:null,_flashStartingAlpha:null,_flashStartingDuration:null,_flashAsTime:null,_wasMute:null,_buttonBack:null,_buttonMute:null,_buttonUnmute:null,_buttonPause:null,_buttonUnpause:null,_init:function(){v.prototype._init.call(this),this.get_view().addChild(this._borderView,4),this._wasMute=this._kernel.audio.isMute,this._driverInit(),this._progressView=new Yt(this._kernel,this._progressContext),this._progressView.set_isVisible(!1),this._pauseView=new Yt(this._kernel,this._pauseContext),this._pauseView.set_isVisible(!1),this._flashView=new Yt(this._kernel,this._flashContext),this._flashView.set_isVisible(!1),this._flashStartingAlpha=1,this._flashAsTime=!0,this._flashDuration=this._flashStartingDuration=100;var t=an(this,this.activateButton);this._buttonBack.onClickCallback=function(){t(ne.BACK)};var e=an(this,this.activateButton);this._buttonMute.onClickCallback=function(){e(ne.MUTE)};var s=an(this,this.activateButton);this._buttonPause.onClickCallback=function(){s(ne.PAUSE)};var i=an(this,this.activateButton);this._buttonUnmute.onClickCallback=function(){i(ne.UNMUTE)};var n=an(this,this.activateButton);this._buttonUnpause.onClickCallback=function(){n(ne.UNPAUSE)},this.get_view().addChild(this._flashView,1),this.get_view().addChild(this._pauseView,2),this.get_view().addChild(this._progressView,3),this.addEntity(this._buttonBack,null,!0,21),this.addEntity(this._buttonUnmute,null,!0,22),this.addEntity(this._buttonMute,null,!0,23),this.addEntity(this._buttonUnpause,null,!0,24),this.addEntity(this._buttonPause,null,!0,25);var r=this._buttonBack.height,a=this._buttonBack.width,l=this._kernel.factory.width-4*a,o=r;this.positionButton(ne.BACK,l,o),this.positionButton(ne.MUTE,l+=a,o),this.positionButton(ne.UNMUTE,l,o),this.positionButton(ne.PAUSE,l+=a,o),this.positionButton(ne.UNPAUSE,l,o)},_driverInit:function(){this._progressContext=new createjs.Container,this._pauseContext=new createjs.Container,this._flashContext=new createjs.Container},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),0<this._flashDuration){this._flashDuration-=this._flashAsTime?t:1;this._tools;var e=this._flashStartingAlpha*(this._flashDuration/this._flashStartingDuration);this._flashAlpha=1<e?1:e<0?0:e}this._flashView.set_isVisible(0<this._flashAlpha),null!=this._kernel.factory.keyBack&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyBack)&&this.activateButton(this._kernel.isActive?ne.BACK:ne.UNPAUSE),null!=this._kernel.factory.keyPause&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyPause)&&this.activateButton(this._kernel.isActive?ne.PAUSE:ne.UNPAUSE),null!=this._kernel.factory.keyMute&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyMute)&&this.activateButton(this._kernel.audio.isMute?ne.UNMUTE:ne.MUTE),null==this.get_pauseEntity()||this._kernel.isActive||(this.get_pauseEntity().update(t),this._pauseView.update(t))},_disposer:function(){null!=this.get_pauseEntity()&&this.get_pauseEntity().dispose(),this.get_view().dispose(),v.prototype._disposer.call(this)},_getButton:function(t){switch(t[1]){case 0:return this._buttonBack;case 1:return this._buttonMute;case 2:return this._buttonUnmute;case 3:return this._buttonPause;case 4:return this._buttonUnpause;case 5:t[2];return null}},showButton:function(t,e){null==e&&(e=!0);var s=this._getButton(t);null!=s&&(e?this.addEntity(s,null,!0):this.removeEntity(s,null,!0))},positionButton:function(t,e,s,i,n){var r=this._getButton(t);null!=r&&(r.set_x(e),r.set_y(s),null!=i&&r.set_width(i),null!=n&&r.set_height(n))},hideButtons:function(){this.showButton(ne.BACK,!1),this.showButton(ne.MUTE,!1),this.showButton(ne.UNMUTE,!1),this.showButton(ne.PAUSE,!1),this.showButton(ne.UNPAUSE,!1)},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),t=null!=t?t:e?500:.5*this._kernel.factory.targetFramerate,this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e;this._tools;this._flashAlpha=this._flashStartingAlpha=1<s?1:s<0?0:s},activateButton:function(t){switch(t[1]){case 0:this._buttonBack.get_view().get_isInViewStack()&&(this._kernel.isActive||this.activateButton(ne.UNPAUSE),this._drawPause(!1),this._kernel.resume(),this._kernel.scenes.back());break;case 1:this._buttonMute.get_view().get_isInViewStack()&&(this.showButton(ne.MUTE,!1),this.showButton(ne.UNMUTE,!0),this._kernel.audio.set_isMute(!0));break;case 2:this._buttonUnmute.get_view().get_isInViewStack()&&!this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(ne.MUTE,!0),this.showButton(ne.UNMUTE,!1),this._kernel.audio.set_isMute(!1));break;case 3:this._buttonPause.get_view().get_isInViewStack()&&(this._kernel.pause(),this._drawPause(!0),this._wasMute=this._kernel.audio.isMute,this.showButton(ne.PAUSE,!1),this.showButton(ne.UNPAUSE,!0),this.activateButton(ne.MUTE));break;case 4:this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(ne.PAUSE,!0),this.showButton(ne.UNPAUSE,!1),this.activateButton(this._wasMute?ne.MUTE:ne.UNMUTE),this._kernel.resume(),this._drawPause(!1));break;case 5:t[2]}},_drawPause:function(t){null==t&&(t=!0),this._pauseView.set_isVisible(t)},get_pauseEntity:function(){return this.pauseEntity},set_pauseEntity:function(t){return null!=this.get_pauseEntity()&&this.get_pauseEntity().get_view().remove(),this.pauseEntity=t,this._pauseView.addChild(this.get_pauseEntity().get_view()),this.get_pauseEntity()},__class__:ft});var vt=function(){};(s["awe6.interfaces.IProgress"]=vt).__name__=["awe6","interfaces","IProgress"];var Mt=function(){};(s["awe6.interfaces.IPreloader"]=Mt).__name__=["awe6","interfaces","IPreloader"],Mt.__interfaces__=[vt,d,h];var Dt=function(t,e,s){null==s&&(s=!1),this._assets=e,this._isDecached=s,u.call(this,t)};(s["awe6.core.drivers.APreloader"]=Dt).__name__=["awe6","core","drivers","APreloader"],Dt.__interfaces__=[Mt],Dt.__super__=u,Dt.prototype=t(u.prototype,{view:null,progress:null,_assets:null,_isDecached:null,_encrypter:null,_currentProgress:null,_currentAsset:null,_isComplete:null,_init:function(){u.prototype._init.call(this),this.progress=0,null==this.get_view()&&(this.view=new Yt(this._kernel)),this._encrypter=this._tools,this._currentProgress=0,this._currentAsset=0,this._isComplete=!1,0<this._assets.length&&this._next()},_next:function(){if(this._currentAsset++,this._currentAsset>this._assets.length){if(!this._isComplete){try{var t=an(nn=this._kernel,nn.onPreloaderComplete),e=this;pi.delay(function(){t(e)},100)}catch(t){}this._isComplete=!0}}else this._driverLoad(this._assets[this._currentAsset-1]),this._currentProgress=0},_driverLoad:function(t){},_updater:function(t){null==t&&(t=0),u.prototype._updater.call(this,t),0==this._assets.length&&this._kernel.onPreloaderComplete(this),this.get_view().set_isVisible(100<this._age)},_disposer:function(){this.get_view().dispose(),this._driverDisposer(),u.prototype._disposer.call(this)},_driverDisposer:function(){},get_view:function(){return this.view},__class__:Dt});var mt=function(t){this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["awe6.core.drivers.AProfiler"]=mt).__name__=["awe6","core","drivers","AProfiler"],mt.__super__=v,mt.prototype=t(v.prototype,{_marginHeight:null,_marginColor:null,_backgroundColor:null,_fpsColor:null,_memoryColor:null,_fpsLabel:null,_memoryLabel:null,_context:null,_agePrev:null,_width:null,_height:null,_init:function(){v.prototype._init.call(this),this._marginHeight=25,this._marginColor=128,this._backgroundColor=-2147483520,this._fpsColor=16777215,this._memoryColor=16744448,this._fpsLabel="FPS",this._memoryLabel="MBs",this._width=60,this._height=50,this._agePrev=0},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._age<this._agePrev+250||(this._agePrev=this._age,this._driverUpdate())},_driverUpdate:function(){},__class__:mt});var Tt=function(){};(s["awe6.interfaces.ISceneTransition"]=Tt).__name__=["awe6","interfaces","ISceneTransition"],Tt.__interfaces__=[d,vt,h];var Et=function(t,e){null==e&&(e=500),this._duration=e,this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["awe6.core.drivers.ASceneTransition"]=Et).__name__=["awe6","core","drivers","ASceneTransition"],Et.__interfaces__=[Tt],Et.__super__=v,Et.prototype=t(v.prototype,{_duration:null,_context:null,_init:function(){v.prototype._init.call(this)},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._age>this._duration&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},get_progress:function(){this._tools;var t=this._age/this._duration;return 1<t?1:t<0?0:t},__class__:Et});var Lt=function(){};(s["awe6.interfaces.ISession"]=Lt).__name__=["awe6","interfaces","ISession"],Lt.prototype={reset:null,save:null,__class__:Lt};var St=function(t,e){null==e&&(e=""),this._kernel=t,""==e&&(e="DEBUG_AWE6"),this.id=e,this._tools=this._kernel.tools,this._version=1,this._init()};(s["awe6.core.drivers.ASession"]=St).__name__=["awe6","core","drivers","ASession"],St.__interfaces__=[Lt],St.prototype={_kernel:null,_tools:null,_data:null,_savedData:null,_version:null,id:null,loadCount:null,saveCount:null,_init:function(){this._driverLoad(),Y.field(this._savedData,"_____VERSION")!=this._version&&this._driverReset();var t=null!=Y.field(this._savedData,this.id);this._data={},this._resetter(),this._setter(),t&&(this._data=Y.field(this._savedData,this.id),this._getter(),this.loadCount++)},_driverLoad:function(){this._savedData={}},_driverSave:function(){},_driverReset:function(){this._savedData={}},_getter:function(){this.loadCount=this._data.loadCount,this.saveCount=this._data.saveCount},_setter:function(){this._data.loadCount=this.loadCount,this._data.saveCount=this.saveCount},_resetter:function(){this.loadCount=0,this.saveCount=0},reset:function(t){null==t&&(t=!1),this._data={},this._resetter(),this._setter(),t&&(this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave())},save:function(){this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave()},__class__:St};var At=function(){};(s["awe6.interfaces.IPriority"]=At).__name__=["awe6","interfaces","IPriority"],At.prototype={set_priority:null,get_priority:null,__class__:At};var bt=function(){};(s["awe6.interfaces.IView"]=bt).__name__=["awe6","interfaces","IView"],bt.__interfaces__=[_,o,M,At],bt.prototype={get_isInViewStack:null,set_isVisible:null,get_parent:null,globalX:null,globalY:null,addChild:null,removeChild:null,remove:null,__class__:bt};var xt=function(t,e,s,i){null==s&&(s=0),this.context=e,this.set_priority(s),this.owner=i,u.call(this,t)};(s["awe6.core.drivers.AView"]=xt).__name__=["awe6","core","drivers","AView"],xt.__interfaces__=[bt],xt.__super__=u,xt.prototype=t(u.prototype,{context:null,owner:null,globalX:null,globalY:null,priority:null,x:null,y:null,isVisible:null,parent:null,_isDirty:null,_children:null,_init:function(){u.prototype._init.call(this),this.globalX=0,this.globalY=0,this.set_x(0),this.set_y(0),this.set_isVisible(!0),this._isDirty=!0,this._children=[]},addChild:function(t,e){if(null==e&&(e=0),this.isDisposed||null==t)return null;if(t.get_parent()!=this&&(t.remove(),xi.__instanceof(t,xt))){var s=t;this._children.push(s),s._setParent(this)}return 0!=e&&t.set_priority(e),this._isDirty=!0,t},removeChild:function(t){if(!this.isDisposed&&null!=t){if(xi.__instanceof(t,xt)){var e=t;if(e.get_parent()!=this)return;$.remove(this._children,e),e._setParent(null)}this._isDirty=!0}},remove:function(){null!=this.get_parent()&&this.get_parent().removeChild(this)},clear:function(){for(var t=0,e=this._children;t<e.length;){var s=e[t];++t,this.removeChild(s)}},_updater:function(t){null==t&&(t=0),u.prototype._updater.call(this,t);for(var e=0,s=this._children;e<s.length;){var i=s[e];++e,i.isActive&&!i.isDisposed&&(i._age+=t,i._updates++,i._updater(t))}this._isDirty&&this._draw(),this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY},_disposer:function(){this.remove(),this._driverDisposer(),this.clear(),u.prototype._disposer.call(this)},_driverDisposer:function(){},_draw:function(){this.isDisposed||(this._children.sort(an(nn=this._tools,nn.sortByPriority)),this._driverDraw(),this._isDirty=!1)},_driverDraw:function(){},_setParent:function(t){this.parent=t},get_priority:function(){return this.priority},set_priority:function(t){if(t==this.get_priority())return this.get_priority();if(this.priority=t,xi.__instanceof(this.get_parent(),xt)){var e=this.get_parent();null!=e&&(e._isDirty=!0)}return this.get_priority()},set_isVisible:function(t){if(t==this.isVisible)return this.isVisible;if(this.isVisible=t,xi.__instanceof(this.get_parent(),xt)){var e=this.get_parent();null!=e&&e._draw()}return this.isVisible},get_parent:function(){return this.parent},get_isInViewStack:function(){return!!this.isVisible&&(this.owner==this._kernel||null!=this.get_parent()&&this.get_parent().get_isInViewStack())},set_x:function(t){return this.x=t,this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.x},set_y:function(t){return this.y=t,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY,this.y},__class__:xt});var Ct=function(t){J.call(this,t)};(s["awe6.core.drivers.createjs.AssetManager"]=Ct).__name__=["awe6","core","drivers","createjs","AssetManager"],Ct.__super__=J,Ct.prototype=t(J.prototype,{_driverGetAsset:function(t,e,s){var i=null;return null!=Ct.loadQueue&&(i=Ct.loadQueue.getResult(t)),i},__class__:Ct});var Nt=function(t){q.call(this,t)};(s["awe6.core.drivers.createjs.AudioManager"]=Nt).__name__=["awe6","core","drivers","createjs","AudioManager"],Nt.__super__=q,Nt.prototype=t(q.prototype,{_visibilityWasMute:null,_init:function(){q.prototype._init.call(this),this._visibilityWasMute=this.isMute,window.document.addEventListener("visibilitychange",an(this,this._onVisibilityChange))},_disposer:function(){window.document.removeEventListener("visibilitychange",an(this,this._onVisibilityChange)),q.prototype._disposer.call(this)},_driverSoundFactory:function(t,e,s,i,n,r,a){return null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==s&&(s=1),new kt(this._kernel,t,this._packageId,e,s,i,n,r,a)},_driverSetIsMute:function(t){try{createjs.Sound.muted=t}catch(t){}try{createjs.Sound.setMute(t)}catch(t){}},_onVisibilityChange:function(t){this._getVisibilityPropery()?(this._visibilityWasMute=this.isMute,this.set_isMute(!0)):this.set_isMute(this._visibilityWasMute)},_getVisibilityPropery:function(){for(var t=["hidden","mozHidden","msHidden","oHidden","webkitHidden"],e=0;e<t.length;){var s=t[e];++e;var i=window.document;if(Object.prototype.hasOwnProperty.call(i,s))return Y.field(window.document,s)}return window.document.hidden},__class__:Nt});var kt=function(t,e,s,i,n,r,a,l,o){null==l&&(l=0),null==a&&(a=1),null==r&&(r=0),null==n&&(n=1),st.call(this,t,e,s,i,1==n?0:n,r,a,l,o)};(s["awe6.core.drivers.createjs._HelperSound"]=kt).__name__=["awe6","core","drivers","createjs","_HelperSound"],kt.__super__=st,kt.prototype=t(st.prototype,{_sound:null,_driverInit:function(){try{this._sound=createjs.Sound.play("assets.audio."+this.id,null,0,this._startTime,this._loops,this._volume,this._pan),createjs.WebAudioPlugin.context&&"suspended"==createjs.WebAudioPlugin.context.state&&createjs.WebAudioPlugin.context.resume()}catch(t){}null!=this._sound?(this._sound.addEventListener("complete",an(this,this._onSoundComplete)),this._driverTransform()):this.dispose()},_driverTransform:function(t){null==t&&(t=!1),null!=this._sound&&(t&&(this._volume*=this._sound.volume,this._pan*=this._sound.pan),this._sound.volume=this._volume,this._sound.pan=this._pan)},_driverStop:function(){if(null!=this._sound)try{this._sound.stop()}catch(t){}},_onSoundComplete:function(t){null!=this._onCompleteCallback&&this._onCompleteCallback.apply(this,[]),this.dispose()},__class__:kt});var It=function(t,e,s){nt.call(this,t,e,s)};(s["awe6.core.drivers.createjs.Factory"]=It).__name__=["awe6","core","drivers","createjs","Factory"],It.__super__=nt,It.prototype=t(nt.prototype,{isNativeExperience:null,_countConfigsLoaded:null,_countConfigsToLoad:null,_driverInit:function(){this.isDebug||(hi.trace=function(t,e){xi.__trace(t,null)});var t=new createjs.Container;if(this._context.addChild(t),this._context=t,this._countConfigsLoaded=0,this._countConfigsToLoad=0,""!=this._config){var e=null!=this._config?this._config:"assets/__config.xml",s=this._context.getStage().canvas.getAttribute("config");null!=s&&""!=s&&(e=s),this._loadConfig(e)}else this._launchKernel()},_launchKernel:function(){this._displayCredits();var t=!0,e=this.config;if(null!=pn["settings.nativeExperience"]?e.existsReserved("settings.nativeExperience"):e.h.hasOwnProperty("settings.nativeExperience")){var s=this.config;t="true"==(null!=pn["settings.nativeExperience"]?s.getReserved("settings.nativeExperience"):s.h["settings.nativeExperience"])}var i=this._context.getStage().canvas.getAttribute("nativeExperience");null!=i&&""!=i&&(t="true"==i),this.isNativeExperience=t,nt.prototype._launchKernel.call(this);var n=this._concreteKernel.system.isDesktop,r="default",a=this.config;if(null!=pn["settings.fullScreen"]?a.existsReserved("settings.fullScreen"):a.h.hasOwnProperty("settings.fullScreen")){var l=this.config;r=null!=pn["settings.fullScreen"]?l.getReserved("settings.fullScreen"):l.h["settings.fullScreen"]}var o=this._context.getStage().canvas.getAttribute("fullScreen");null!=o&&""!=o&&(r=o),this._kernel.set_isFullScreen(n&&("desktop"==r||"all"==r)||!n&&("mobile"==r||"all"==r||"default"==r)),this._kernel.isFullScreen&&this.isNativeExperience&&!n&&(this._concreteKernel.system.requestFullScreen(),this._concreteKernel.system.requestLockScreen())},_displayCredits:function(){var t,e=this.config;if(null!=pn["settings.asciiArt"]?e.existsReserved("settings.asciiArt"):e.h.hasOwnProperty("settings.asciiArt")){var s=this.config;t=null!=pn["settings.asciiArt"]?s.getReserved("settings.asciiArt"):s.h["settings.asciiArt"]}else t="";hi.trace(t,{fileName:"Factory.hx",lineNumber:126,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),hi.trace(this.id+" v"+this.version+" by "+this.author,{fileName:"Factory.hx",lineNumber:127,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),hi.trace("Powered by awe6 (http://awe6.org)",{fileName:"Factory.hx",lineNumber:128,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),this.isDecached&&hi.trace("Note: decaching is currently enabled",{fileName:"Factory.hx",lineNumber:131,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),hi.trace("",{fileName:"Factory.hx",lineNumber:133,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"})},_loadConfig:function(t){if("<?xml"==$.substr(t,0,5))this._parseXml(t);else{this.isDecached&&(t+="?dc="+Q.random(99999));try{var e=new _i(t);e.onError=an(this,this._onIOError),e.onData=an(this,this._onComplete),e.request()}catch(t){return t instanceof bi&&(t=t.val),void this._onIOError(Q.string(t))}this._countConfigsToLoad++}},_parseXml:function(t){this._traverseElements(O.parse(t).firstElement().elements(),"");var e=this.config;if(!(null!=pn["settings.joinXml"]?!e.existsReserved("settings.joinXml"):!e.h.hasOwnProperty("settings.joinXml"))&&this._countConfigsLoaded<100){var s=this.config,i=null!=pn["settings.joinXml"]?s.getReserved("settings.joinXml"):s.h["settings.joinXml"];this.config.remove("settings.joinXml");for(var n=i.split(","),r=0;r<n.length;){var a=n[r];++r,this._loadConfig(a)}}this._countConfigsLoaded==this._countConfigsToLoad&&this._launchKernel()},_onIOError:function(t){hi.trace("IO Errors Occurred During Config Loading:"+t,{fileName:"Factory.hx",lineNumber:187,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),hi.trace("Double check your Config path.  Cross domain (or local) file loading of Config is a security risk and is, therefore, disabled on this browser.",{fileName:"Factory.hx",lineNumber:188,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),null!=this._config&&"<?xml"==$.substr(this._config,0,5)?(hi.trace("Embedded Config detected, using that to continue ...",{fileName:"Factory.hx",lineNumber:191,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),this._countConfigsLoaded=this._countConfigsToLoad,this._parseXml(this._config)):(hi.trace("Use a web server (or local server) to run over http and serve all files from the same domain.  Or embed the Config directlty in the code (e.g. as a Resource).",{fileName:"Factory.hx",lineNumber:197,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),hi.trace("Unable to continue without Config.",{fileName:"Factory.hx",lineNumber:198,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}))},_onComplete:function(t){if(this._countConfigsLoaded++,""!=t){var e=t;"<?xml"!=$.substr(e,0,5)&&(e=this.createEncrypter().decrypt(wi.ofString(e)).toString()),this._parseXml(e)}else this._onIOError(t)},_getAssetUrls:function(){for(var t=["bin/assets/audio/ButtonOver.mp3","bin/assets/audio/ButtonOver.ogg","bin/assets/audio/Crash.mp3","bin/assets/audio/Crash.ogg","bin/assets/audio/MusicLose.mp3","bin/assets/audio/MusicLose.ogg","bin/assets/audio/MusicMenu.mp3","bin/assets/audio/MusicMenu.ogg","bin/assets/audio/MusicTA.mp3","bin/assets/audio/MusicTA.ogg","bin/assets/audio/MusicTB.mp3","bin/assets/audio/MusicTB.ogg","bin/assets/audio/MusicTC.mp3","bin/assets/audio/MusicTC.ogg","bin/assets/audio/MusicWin.mp3","bin/assets/audio/MusicWin.ogg","bin/assets/audio/Silence.mp3","bin/assets/audio/Silence.ogg","bin/assets/audio/Start1.mp3","bin/assets/audio/Start1.ogg","bin/assets/audio/Start2.mp3","bin/assets/audio/Start2.ogg","bin/assets/audio/Transition.mp3","bin/assets/audio/Transition.ogg","bin/assets/audio/Turbo.mp3","bin/assets/audio/Turbo.ogg","bin/assets/Blank.png","bin/assets/fonts/__Orbitron-webfont.eot","bin/assets/fonts/__Orbitron-webfont.svg","bin/assets/fonts/__Orbitron-webfont.ttf","bin/assets/fonts/__Orbitron-webfont.woff","bin/assets/gui/ButtonOver.png","bin/assets/gui/ButtonUp.png","bin/assets/gui/Credits.png","bin/assets/gui/hud/LapLogBg.png","bin/assets/gui/hud/LapTimerBg.png","bin/assets/gui/hud/Navigator1.png","bin/assets/gui/hud/Navigator2.png","bin/assets/gui/hud/Navigator3.png","bin/assets/gui/hud/RadarNodeOpponent.png","bin/assets/gui/hud/RadarNodePlayer.png","bin/assets/gui/hud/RadarNodeWaypoint.png","bin/assets/gui/hud/RadarTA.png","bin/assets/gui/hud/RadarTB.png","bin/assets/gui/hud/RadarTC.png","bin/assets/gui/hud/SpeedoBg.png","bin/assets/gui/scenes/Bg.jpg","bin/assets/gui/scenes/ButtonSelectableLocked.png","bin/assets/gui/scenes/ButtonSelectableOver.png","bin/assets/gui/scenes/ButtonSelectablePulse.png","bin/assets/gui/scenes/ButtonSelectableSelected.png","bin/assets/gui/scenes/ButtonSelectableUnselected.png","bin/assets/gui/scenes/Fg.png","bin/assets/gui/scenes/GameModeRace.png","bin/assets/gui/scenes/GameModeTimeTrial.png","bin/assets/gui/scenes/PanelBgSession.png","bin/assets/gui/scenes/PanelBgTA.png","bin/assets/gui/scenes/PanelBgTB.png","bin/assets/gui/scenes/PanelBgTC.png","bin/assets/gui/scenes/PanelBgTrackTA.png","bin/assets/gui/scenes/PanelBgTrackTB.png","bin/assets/gui/scenes/PanelBgTrackTC.png","bin/assets/gui/scenes/PanelFg.png","bin/assets/gui/scenes/SessionBg.jpg","bin/assets/gui/scenes/SessionFg.png","bin/assets/gui/scenes/TipKeys.png","bin/assets/gui/scenes/TipTouch.png","bin/assets/locations/ground/TAGround.jpg","bin/assets/locations/ground/TASmooth.png","bin/assets/locations/ground/TBGround.jpg","bin/assets/locations/ground/TBSmooth.png","bin/assets/locations/ground/TCGround.jpg","bin/assets/locations/ground/TCSmooth.png","bin/assets/locations/lensflare/Lensflare1.png","bin/assets/locations/lensflare/Lensflare2.png","bin/assets/locations/lensflare/Lensflare3.png","bin/assets/locations/lensflare/Lensflare4.png","bin/assets/locations/lensflare/Lensflare5.png","bin/assets/locations/lensflare/Lensflare6.png","bin/assets/locations/lensflare/Lensflare7.png","bin/assets/locations/scenery/SA.png","bin/assets/locations/scenery/SB.png","bin/assets/locations/scenery/SC.png","bin/assets/locations/scenery/SD.png","bin/assets/locations/scenery/SE.png","bin/assets/locations/scenery/SF.png","bin/assets/locations/scenery/SG.png","bin/assets/locations/scenery/SH.png","bin/assets/locations/scenery/SI.png","bin/assets/locations/scenery/SJ.png","bin/assets/locations/scenery/SK.png","bin/assets/locations/scenery/SM.png","bin/assets/locations/scenery/SN.png","bin/assets/locations/scenery/SO.png","bin/assets/locations/sky/LAHorizon.jpg","bin/assets/locations/sky/LAMist.png","bin/assets/locations/sky/LARadial.png","bin/assets/locations/sky/LBHorizon.jpg","bin/assets/locations/sky/LBMist.png","bin/assets/locations/sky/LBRadial.png","bin/assets/locations/sky/LCHorizon.jpg","bin/assets/locations/sky/LCMist.png","bin/assets/locations/sky/LCRadial.png","bin/assets/locations/start/Countdown0.png","bin/assets/locations/start/Countdown1.png","bin/assets/locations/start/Countdown2.png","bin/assets/locations/start/Countdown3.png","bin/assets/locations/start/Countdown4.png","bin/assets/locations/start/Start.png","bin/assets/overlay/buttons/BackOver.png","bin/assets/overlay/buttons/BackUp.png","bin/assets/overlay/buttons/MuteOver.png","bin/assets/overlay/buttons/MuteUp.png","bin/assets/overlay/buttons/PauseOver.png","bin/assets/overlay/buttons/PauseUp.png","bin/assets/overlay/buttons/UnmuteOver.png","bin/assets/overlay/buttons/UnmuteUp.png","bin/assets/overlay/buttons/UnpauseOver.png","bin/assets/overlay/buttons/UnpauseUp.png","bin/assets/overlay/OverlayBackground.png","bin/assets/units/Afterburner1.png","bin/assets/units/Afterburner2.png","bin/assets/units/Shadows.png","bin/assets/units/UABodies.png","bin/assets/units/UBBodies.png","bin/assets/__Config.xml","bin/assets/__Icon128.png","bin/assets/__Icon196.png","bin/assets/__Icon256.png","bin/assets/__PreloaderBg.jpg","bin/assets/__PreloaderFg.png"],e=[],s=0,i=t.length;s<i;){var n=s++;t[n]=$.substr(t[n],4,null),("__"==$.substr(t[n],0,2)||-1<t[n].indexOf("/__"))&&e.push(t[n])}for(var r=0;r<e.length;){var a=e[r];++r,$.remove(t,a)}return t},_driverDisposer:function(){null!=this._context.parent&&this._context.parent.removeChild(this._context)},__class__:It});var Ut=function(t){at.call(this,t)};(s["awe6.core.drivers.createjs.InputKeyboard"]=Ut).__name__=["awe6","core","drivers","createjs","InputKeyboard"],Ut.__super__=at,Ut.prototype=t(at.prototype,{_document:null,_preventDefaultKeyCodes:null,_driverInit:function(){this._document=window.document,this._preventDefaultKeyCodes=[],this._document.addEventListener("keydown",an(this,this._onKeyDown)),this._document.addEventListener("keyup",an(this,this._onKeyUp))},_disposer:function(){this._document.removeEventListener("keydown",an(this,this._onKeyDown)),this._document.removeEventListener("keyup",an(this,this._onKeyUp)),at.prototype._disposer.call(this)},_onKeyDown:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!0))},_onKeyUp:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!1))},preventDefaultForKeys:function(t){if(null!=t)for(var e=0;e<t.length;){var s=t[e];++e;var i=this.getKeyCode(s);w.has(this._preventDefaultKeyCodes,i)||this._preventDefaultKeyCodes.push(i)}},allowDefaultForKeys:function(t){if(null!=t)for(var e=0;e<this._preventDefaultKeyCodes.length;){var s=this.getKey(this._preventDefaultKeyCodes[e]);w.has(t,s)?this._preventDefaultKeyCodes.splice(e,1):++e}},__class__:Ut});var Ot=function(t){ht.call(this,t)};(s["awe6.core.drivers.createjs.InputMouse"]=Ot).__name__=["awe6","core","drivers","createjs","InputMouse"],Ot.__super__=ht,Ot.prototype=t(ht.prototype,{_stage:null,_isTouch:null,_touchX:null,_touchY:null,_driverInit:function(){this._stage=this._kernel._stage,this._isTouch=createjs.Touch.isSupported()&&!this._kernel.system.isDesktop,this._isTouch?(createjs.Touch.enable(this._stage,!0),this._touchX=this._touchY=0,this._stage.canvas.addEventListener("touchstart",an(this,this._onTouchStart)),this._stage.canvas.addEventListener("touchmove",an(this,this._onTouch)),this._stage.canvas.addEventListener("touchend",an(this,this._onTouchEnd))):(this._stage.addEventListener("stagemousedown",an(this,this._onMouseDown)),this._stage.addEventListener("stagemouseup",an(this,this._onMouseUp))),window.focus()},_disposer:function(){this._isTouch?(createjs.Touch.disable(this._stage),this._stage.canvas.removeEventListener("touchstart",an(this,this._onTouchStart)),this._stage.canvas.removeEventListener("touchmove",an(this,this._onTouch)),this._stage.canvas.removeEventListener("touchend",an(this,this._onTouchEnd))):(this._stage.removeEventListener("stagemousedown",an(this,this._onMouseDown)),this._stage.removeEventListener("stagemouseup",an(this,this._onMouseUp))),ht.prototype._disposer.call(this)},_isWithinBounds:function(){return this._stage.mouseInBounds},_getPosition:function(){if(this._isTouch)this.x=this._touchX,this.y=this._touchY;else{this._tools;var t=this._stage.mouseX/this._stage.scaleX,e=this._kernel.factory.width;this.x=0|(e<t?e:t<0?0:t);this._tools;var s=this._stage.mouseY/this._stage.scaleY,i=this._kernel.factory.height;this.y=0|(i<s?i:s<0?0:s)}this.x=this.x==this._kernel.factory.width?this._xPrev:this.x,this.y=this.y==this._kernel.factory.height?this._yPrev:this.y},_onTouchStart:function(t){this._onMouseDown(t),this._onTouch(t),this.x=this._touchX,this.y=this._touchY},_onTouchEnd:function(t){this._onMouseUp(t),this._onTouch(t),Ot._isSoundTriggered||(this._kernel.audio.start("Silence"),Ot._isSoundTriggered=!0,this._kernel.isFullScreen&&this._kernel.factory.isNativeExperience&&(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen()))},_onTouch:function(t){try{this._tools;var e=(t.targetTouches[0].pageX-(0|this._stage.canvas.offsetLeft))/this._kernel._scaleX,s=this._kernel.factory.width;this._touchX=0|(s<e?s:e<0?0:e);this._tools;var i=(t.targetTouches[0].pageY-(0|this._stage.canvas.offsetTop))/this._kernel._scaleY,n=this._kernel.factory.height;this._touchY=0|(n<i?n:i<0?0:i)}catch(t){}this._stage.mouseInBounds&&t.preventDefault()},_onMouseDown:function(t){window.focus(),this.isActive&&(this._isTouch||2!=t.nativeEvent.button)&&this._buffer.push(!0)},_onMouseUp:function(t){this.isActive&&(this._isTouch||2!=t.nativeEvent.button)&&this._buffer.push(!1)},set_isVisible:function(t){return this._stage.cursor=t?"none":"auto",ht.prototype.set_isVisible.call(this,t)},set_cursorType:function(t){var e;switch(t[1]){case 0:e="crosshair";break;case 1:e="auto";break;case 2:case 3:e="pointer";break;case 4:e="text";break;case 5:e=t[2]}return this._stage.canvas.style.cursor=e,ht.prototype.set_cursorType.call(this,t)},__class__:Ot});var Pt=function(t,e){dt.call(this,t,e)};(s["awe6.core.drivers.createjs.Kernel"]=Pt).__name__=["awe6","core","drivers","createjs","Kernel"],Pt.__super__=dt,Pt.prototype=t(dt.prototype,{system:null,_stage:null,_stageDynamic:null,_scaleX:null,_scaleY:null,_prevWindowSize:null,_driverGetIsLocal:function(){var t;switch(window.location.protocol){case"http:":case"https:":t=!1;break;default:t=!0}return t},_driverInit:function(){this.system=new Vt(this),this._scaleX=this._scaleY=1,this._stage=this._stageDynamic=this._context.getStage(),this._stage.canvas.style.setProperty("-ms-touch-action","none",""),this._stage.canvas.style.setProperty("image-rendering","-o-crisp-edges",""),this._stage.canvas.style.setProperty("image-rendering","optimize-contrast",""),this._stage.canvas.style.setProperty("-ms-interpolation-mode","nearest-neighbor",""),this._stage.canvas.style.setProperty("-webkit-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("-moz-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("user-select","none",""),this._stage.canvas.style.setProperty("-webkit-touch-callout","none",""),this._stage.canvas.style.setProperty("-webkit-user-select","none",""),this._stage.canvas.style.setProperty("-moz-user-select","none",""),this._stage.canvas.style.setProperty("-ms-user-select","none",""),this._stage.tickOnUpdate=!1,this._stage.mouseEnabled=!1,this._stage.canvas.width=this.factory.width,this._stage.canvas.height=this.factory.height;var t=new createjs.Shape;t.graphics.beginFill("#"+$.substr(y.hex(this.factory.bgColor,8),2,6)),t.graphics.drawRect(0,0,this.factory.width,this.factory.height),t.graphics.endFill(),this._stage.addChildAt(t,0),createjs.Ticker.setFPS(this.factory.targetFramerate),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",an(this,this._onEnterFrame)),this._stage.canvas.addEventListener("contextmenu",an(this,this._onContextMenu),!1),window.addEventListener("unload",an(this,this._onUnload))},_onUnload:function(t){window.removeEventListener("unload",an(this,this._onUnload)),this.get_session().save()},_onContextMenu:function(t){if(t.preventDefault(),t.stopImmediatePropagation(),null!=this.overlay){var e=an(nn=this.overlay,nn.activateButton);pi.delay(function(){e(ne.PAUSE)},100)}},_driverDisposer:function(){this._stage.canvas.removeEventListener("contextmenu",an(this,this._onContextMenu))},_onEnterFrame:function(t){null!=t.paused&&1==t.paused?this._stage.tickOnUpdate=!1:(this._updates++,this._updater(0),this._stage.tickOnUpdate=this.isActive,this._stageDynamic.update(t));var e=Q.string(window.innerWidth)+":"+Q.string(window.innerHeight);this._prevWindowSize!=e&&this._driverSetIsFullScreen(this.isFullScreen)},_driverSetIsEyeCandy:function(t){},_driverSetIsFullScreen:function(t){this._prevWindowSize=Q.string(window.innerWidth)+":"+Q.string(window.innerHeight),this._scaleX=this._scaleY=1;var e=this.factory.width,s=this.factory.height,i=window.innerWidth,n=window.innerHeight,r=e<s,a=i<n;this.system.isRotated=!this.system.isDesktop&&r!=a;var l=0,o=0;if(t){var _=Math.min(i/e,n/s),h=this.factory.fullScreenType;switch(h[1]){case 0:case 1:break;case 2:this._scaleX=i/e,this._scaleY=n/s;break;case 3:this._scaleX=this._scaleY=_;break;case 4:_=_<.5?.25:_<1?.5:Math.floor(_),this._scaleX=this._scaleY=_;break;case 5:var u=h[2];if(null!=u.bleedWidth&&null!=u.bleedHeight){var c=e-2*Q.parseInt(Q.string(u.bleedWidth)+""),p=s-2*Q.parseInt(Q.string(u.bleedHeight)+""),d=Math.min(i/c,n/p);this._scaleX=this._scaleY=d}}l=Math.round((i-e*this._scaleX)/2),o=Math.round((n-s*this._scaleY)/2)}this._stage.canvas.style.setProperty("width",Math.round(e*this._scaleX)+"px",""),this._stage.canvas.style.setProperty("height",Math.round(s*this._scaleY)+"px",""),this._stage.canvas.style.setProperty("margin-left",l+"px",""),this._stage.canvas.style.setProperty("margin-top",o+"px","")},__class__:Pt});var Bt=function(t,e,s,i,n,r,a,l,o,_,h,u,c,p,d,g,w){ft.call(this,t,e,s,i,n,r,a,l,o,_,h,u,c,p,d,g,w)};(s["awe6.core.drivers.createjs.Overlay"]=Bt).__name__=["awe6","core","drivers","createjs","Overlay"],Bt.__super__=ft,Bt.prototype=t(ft.prototype,{_driverInit:function(){xi.__cast(this._borderView,Yt).context.mouseEnabled=!1,this._context.mouseEnabled=!1,this._pauseContext=new createjs.Container,this._pauseContext.mouseEnabled=!1;var t=new createjs.Shape;t.graphics.beginFill("#"+y.hex(this._pauseColor,6)),t.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),t.alpha=this._pauseAlpha,this._pauseContext.addChild(t),this._flashContext=new createjs.Container,this._flashContext.mouseEnabled=!1},_updater:function(t){null==t&&(t=0),ft.prototype._updater.call(this,t),this._flashContext.alpha=this._flashAlpha,this._flashContext.visible=0!=this._flashAlpha},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),this._flashContext.removeAllChildren();var n=new createjs.Shape;n.graphics.beginFill("#"+y.hex(i,6)),n.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),this._flashContext.addChild(n),t=null!=t?t:e?500:.5*this._kernel.factory.targetFramerate,this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e;this._tools;this._flashAlpha=this._flashStartingAlpha=1<s?1:s<0?0:s},__class__:Bt});var Rt=function(t,e,s){Dt.call(this,t,e,s)};(s["awe6.core.drivers.createjs.Preloader"]=Rt).__name__=["awe6","core","drivers","createjs","Preloader"],Rt.__super__=Dt,Rt.prototype=t(Dt.prototype,{_context:null,_system:null,_isDesktop:null,_loadQueue:null,_activePlugin:null,_validSoundFormat:null,_manifest:null,_isFastTestMode:null,_isSoundDisabled:null,_proprietaryAudioFormat:null,_audioHoldDelay:null,_completedDelay:null,_init:function(){this._context=new createjs.Container,this.view=new Yt(this._kernel,this._context),Dt.prototype._init.call(this),this._system=this._kernel.system,this._isDesktop=this._system.isDesktop,this._audioHoldDelay=0,this._completedDelay=0;var t=this._isDecached?"?dc="+Q.random(999999):"",e=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];null!=this._proprietaryAudioFormat&&""!=this._proprietaryAudioFormat&&w.has(e,this._proprietaryAudioFormat)||(this._proprietaryAudioFormat="mp3");var s=[];if(this._manifest=[],createjs.Sound.initializeDefaultPlugins()){this._audioHoldDelay=this._getAudioHoldDelay();var i=this._isSoundDisabled||this._system.isAndroid&&this._getIsStockAndroidBrowser();this._validSoundFormat=createjs.Sound.getCapability("ogg")?"ogg":createjs.Sound.getCapability(this._proprietaryAudioFormat)?this._proprietaryAudioFormat:"noValidFormat",this._activePlugin=createjs.Sound.activePlugin;for(var n=0,r=this._assets;n<r.length;){var a=r[n];++n;var l=$.substr(a,-3,null);if(w.has(e,l)&&(s.push(a),!i&&l==this._validSoundFormat)){var o="assets.audio."+$.substr(a.split("/").pop(),0,-4);this._isFastTestMode||this._manifest.push({src:a+t,id:o})}}}for(var _=0;_<s.length;){var h=s[_];++_,$.remove(this._assets,h)}for(var u=0,c=this._assets;u<c.length;){var p=c[u];++u,this._manifest.push({src:p+t,id:p})}this._loadQueue=new createjs.LoadQueue(!this._kernel.isLocal&&!this._isFastTestMode,""),this._loadQueue.setMaxConnections(10),this._loadQueue.installPlugin(createjs.Sound),this._manifest=this._tools.shuffle(this._manifest),this._loadQueue.addEventListener("complete",an(this,this._onComplete)),this._loadQueue.addEventListener("fileerror",an(this,this._onError)),this._loadQueue.addEventListener("error",an(this,this._onError));var d=an(nn=this._loadQueue,nn.loadManifest),g=this._manifest;pi.delay(function(){d(g)},200)},_next:function(){},get_progress:function(){return this._loadQueue.progress},_onComplete:function(t){this._isComplete||(this._isComplete=!0,Ct.loadQueue=this._loadQueue,this._completedDelay=this._audioHoldDelay,this._loadQueue.removeEventListener("complete",an(this,this._onComplete)),this._loadQueue.removeEventListener("fileerror",an(this,this._onError)),this._loadQueue.removeEventListener("error",an(this,this._onError)),0!=this._audioHoldDelay&&this._showAudioHoldMessage())},_onError:function(t){hi.trace([t,t.title,t.message,t.data],{fileName:"Preloader.hx",lineNumber:148,className:"awe6.core.drivers.createjs.Preloader",methodName:"_onError"})},_showAudioHoldMessage:function(){},_updater:function(t){null==t&&(t=0),Dt.prototype._updater.call(this,t),this._isComplete&&(this._completedDelay-=t,(0<=this._audioHoldDelay&&this._completedDelay<=0||this._kernel.inputs.keyboard.getIsKeyRelease(this._kernel.factory.keyNext)||this._kernel.inputs.mouse.getIsButtonRelease())&&(this._assets=[]))},_getIsStockAndroidBrowser:function(){var t=-1<this._system.userAgent.indexOf("Android")&&-1<this._system.userAgent.indexOf("Mozilla/5.0")&&-1<this._system.userAgent.indexOf("AppleWebKit"),e=new g("AppleWebKit/([\\d.]+)",""),s=e.match(this._system.userAgent),i=s?parseFloat(e.matched(1)):0,n=new g("Chrome/([\\d.]+)",""),r=n.match(this._system.userAgent),a=r?parseFloat(n.matched(1)):0;return!!t&&(!!(s&&i<537)||!!r&&a<37)},_getAudioHoldDelay:function(){if(this._isSoundDisabled)return 0;try{if("[WebAudioPlugin]"!=createjs.Sound.activePlugin||"suspended"!=createjs.Sound.activePlugin.context.state)return 0}catch(t){}var t=-1,e=this._kernel.factory.config;if(null!=pn["settings.audioHoldDelay"]?e.existsReserved("settings.audioHoldDelay"):e.h.hasOwnProperty("settings.audioHoldDelay")){var s=this._kernel.factory.config;t=Q.parseInt(null!=pn["settings.audioHoldDelay"]?s.getReserved("settings.audioHoldDelay"):s.h["settings.audioHoldDelay"])}try{var i=this._kernel.factory._context.getStage().canvas.getAttribute("audioHoldDelay");null!=i&&""!=i&&(t=Q.parseInt(i))}catch(t){}return t},__class__:Rt});var jt=function(t){mt.call(this,t)};(s["awe6.core.drivers.createjs.Profiler"]=jt).__name__=["awe6","core","drivers","createjs","Profiler"],jt.__super__=mt,jt.prototype=t(mt.prototype,{_fpsTextField:null,_memoryTextField:null,_isMemoryEnabled:null,_init:function(){mt.prototype._init.call(this),this._isMemoryEnabled=null!=window.performance&&null!=window.performance.memory,this._width=75,this._height=24,this._marginHeight=12;var t=new createjs.Shape;this._context.addChild(t),t.alpha=.25,this._isMemoryEnabled&&(t.graphics.beginFill("#"+y.hex(this._backgroundColor,6)),t.graphics.drawRect(0,0,this._width,this._height),t.graphics.endFill()),t.graphics.beginFill("#"+y.hex(this._marginColor,6)),t.graphics.drawRect(0,0,this._width,this._marginHeight),t.graphics.endFill(),t.cache(0,0,this._width,this._height),this._fpsTextField=new createjs.Text("","","#"+y.hex(this._fpsColor,6)),this._context.addChild(this._fpsTextField),this._isMemoryEnabled&&(this._memoryTextField=new createjs.Text("","","#"+y.hex(this._memoryColor,6)),this._memoryTextField.y=12,this._context.addChild(this._memoryTextField))},_driverUpdate:function(){var t=0|this._kernel.getFramerate(!0);Math.min(this._height,this._height/this._kernel.factory.targetFramerate*t);if(this._fpsTextField.text=this._fpsLabel+": "+t+" / "+this._kernel.factory.targetFramerate,this._isMemoryEnabled&&this._updates%this._kernel.factory.targetFramerate==0){var e=Math.round(window.performance.memory.usedJSHeapSize/1024/1024),s=Math.round(window.performance.memory.jsHeapSizeLimit/1024/1024);this._memoryTextField.text=this._memoryLabel+": "+e+" / "+s}},__class__:jt});var zt=function(t,e){Et.call(this,t,e)};(s["awe6.core.drivers.createjs.SceneTransition"]=zt).__name__=["awe6","core","drivers","createjs","SceneTransition"],zt.__super__=Et,zt.prototype=t(Et.prototype,{_init:function(){Et.prototype._init.call(this),this._kernel.scenes.get_scene().get_view().context.cache(0,0,this._kernel.factory.width,this._kernel.factory.height);var t=new createjs.Bitmap(this._kernel.scenes.get_scene().get_view().context.cacheCanvas);this._kernel.scenes.get_scene().get_view().context.uncache(),this._context.mouseEnabled=!1,this._context.addChild(t)},_updater:function(t){if(null==t&&(t=0),Et.prototype._updater.call(this,t),!this.isDisposed){var e=this.get_progress();this._context.alpha=1-e}},__class__:zt});var Ft=function(t,e){St.call(this,t,e)};(s["awe6.core.drivers.createjs.Session"]=Ft).__name__=["awe6","core","drivers","createjs","Session"],Ft.__super__=St,Ft.prototype=t(St.prototype,{_storage:null,_init:function(){var t=!0;null!=this._kernel.getConfig("settings.sessionSaved")&&(t="false"!=this._kernel.getConfig("settings.sessionSaved")),this._storage=t?Ci.getLocalStorage():Ci.getSessionStorage(),St.prototype._init.call(this)},_driverLoad:function(){if(this._savedData={},null!=window.document.cookie&&Ni.exists(this._kernel.factory.id)&&(this._savedData=this._tools.unserialize(Ni.get(this._kernel.factory.id)),this._driverSave(),Ni.remove(this._kernel.factory.id)),null!=this._storage)try{var t=this._storage.getItem(this._kernel.factory.id);null!=t&&(this._savedData=this._tools.unserialize(t))}catch(t){}},_driverReset:function(){if(null!=this._storage)try{this._storage.removeItem(this._kernel.factory.id)}catch(t){}this._savedData={}},_driverSave:function(){if(null!=this._storage)try{this._storage.setItem(this._kernel.factory.id,this._tools.serialize(this._savedData))}catch(t){}},__class__:Ft});var Vt=function(t){this._kernel=t,this.isRotated=!1,this.isAndroid=this.isChromeOs=this.isIos=this.isLinux=this.isMacOs=this.isSilk=this.isWindows=this.isWindowsPhone=this.isDesktop=!1,this.userAgent=window.navigator.userAgent,this.isSilk=new g("Silk","").match(this.userAgent),this.isCocoonjs=1==window.navigator.isCocoonJS,this.isCocoonjs&&this._cocoonOverrides(),this.isCrosswalk=new g("Crosswalk","").match(this.userAgent),this.isCordova=null!=window.cordova,new g("Android","").match(this.userAgent)?this.isAndroid=!0:new g("CrOS","").match(this.userAgent)?this.isChromeOs=!0:new g("iP[ao]d|iPhone","i").match(this.userAgent)?this.isIos=!0:new g("Linux","").match(this.userAgent)?this.isLinux=!0:new g("Mac OS","").match(this.userAgent)?this.isMacOs=!0:new g("Windows","").match(this.userAgent)&&(this.isWindows=!0,new g("Windows Phone","i").match(this.userAgent)&&(this.isWindowsPhone=!0)),(this.isWindows||this.isMacOs||this.isLinux&&!this.isSilk)&&(this.isDesktop=!0),this.isWindowsPhone&&(this.isDesktop=!1)};(s["awe6.core.drivers.createjs.System"]=Vt).__name__=["awe6","core","drivers","createjs","System"],Vt.prototype={userAgent:null,isAndroid:null,isChromeOs:null,isIos:null,isLinux:null,isMacOs:null,isSilk:null,isCocoonjs:null,isCrosswalk:null,isCordova:null,isWindows:null,isWindowsPhone:null,isDesktop:null,isRotated:null,_kernel:null,_cocoonOverrides:function(){Image.prototype.naturalWidth=function(){return this.width},Image.prototype.naturalHeight=function(){return this.height}},requestFullScreen:function(){try{var t=window.document.documentElement;null!=an(t,t.requestFullscreen)?t.requestFullscreen():null!=t.msRequestFullscreen?t.msRequestFullscreen():null!=t.mozRequestFullScreen?t.mozRequestFullScreen():null!=t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}catch(t){}},requestExitFullScreen:function(){try{var t=window.document;null!=an(t,t.exitFullscreen)?t.exitFullscreen():null!=t.msExitFullscreen?t.msExitFullscreen():null!=t.mozCancelFullScreen?t.mozCancelFullScreen():null!=t.webkitExitFullscreen&&t.webkitExitFullscreen()}catch(t){}},requestLockScreen:function(){if(!this.isDesktop)try{var t=this._kernel.factory.width<this._kernel.factory.height?"portrait-primary":"landscape-primary",e=window.screen;null!=e.orientation?null!=an(nn=e.orientation,nn.lock)?e.orientation.lock(t):null!=e.orientation.lockOrientation&&e.orientation.lockOrientation(t):null!=e.mozOrientation?e.mozLockOrientation(t):null!=e.msOrientation&&e.msLockOrientation(t)}catch(t){}},__class__:Vt};var Yt=function(t,e,s,i){xt.call(this,t,e,s,i)};(s["awe6.core.drivers.createjs.View"]=Yt).__name__=["awe6","core","drivers","createjs","View"],Yt.__super__=xt,Yt.prototype=t(xt.prototype,{_container:null,_init:function(){null==this.context&&(this.context=new createjs.Container),xt.prototype._init.call(this)},_driverDisposer:function(){if(null!=this.context&&null!=this.context.parent)try{this.context.parent.removeChild(this.context)}catch(t){}},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var s=t[e];++e,s.isVisible&&this._container.addChild(s.context)}},set_x:function(t){return this.context.x=t,xt.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,xt.prototype.set_y.call(this,t)},__class__:Yt});var Qt=function(t,e,s,i){if(null==i&&(i=!0),null==s&&(s=100),null==e&&(e=100),this.isFlippedX=!1,this.isFlippedY=!1,this.width=e,this.height=s,this._context=new createjs.Container,this.setPosition(0,0),i){var n=new createjs.Shape;n.graphics.beginFill("#FF0000"),n.graphics.drawRect(0,0,this.width,this.height),n.graphics.endFill(),n.visible=!1,this._context.addChild(n),this._context.mask=n}v.call(this,t,null,this._context)};(s["awe6.core.drivers.createjs.extras.gui.GuiEntity"]=Qt).__name__=["awe6","core","drivers","createjs","extras","gui","GuiEntity"],Qt.__interfaces__=[M],Qt.__super__=v,Qt.prototype=t(v.prototype,{width:null,height:null,x:null,y:null,_context:null,setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,this._context.x=this.x,this.x},set_y:function(t){return this.y=t,this._context.y=this.y,this.y},__class__:Qt});var Ht=function(t,e,s,i,n,r,a){null==a&&(a=!1),null==r&&(r=!1),null==i&&(i=""),this.textStyle=n,this._isMultiline=r,this._isCached=a,Qt.call(this,t,e,s,!1),this.set_text(i)};(s["awe6.core.drivers.createjs.extras.gui.Text"]=Ht).__name__=["awe6","core","drivers","createjs","extras","gui","Text"],Ht.__super__=Qt,Ht.prototype=t(Qt.prototype,{text:null,textStyle:null,_textField:null,_textFieldOutline:null,_isMultiline:null,_isCached:null,_isDirty:null,_prevTextStyle:null,_init:function(){Qt.prototype._init.call(this),this._textField=new createjs.Text,this._textField.text=this.text,this._draw(),this._context.addChild(this._textField),this._isDirty=!1,this._prevTextStyle=this.textStyle.toString()},_updater:function(t){null==t&&(t=0),Qt.prototype._updater.call(this,t),this._isDirty=this._isDirty||this._prevTextStyle!=this.textStyle.toString(),this._isDirty&&this._draw(),this._prevTextStyle=this.textStyle.toString()},_draw:function(){if(this._textField.lineWidth=this.width,this._prevTextStyle!=this.textStyle.toString()){switch(this.textStyle.align[1]){case 0:case 1:this._textField.textAlign="left";break;case 2:this._textField.textAlign="center",this._textField.x=.5*this.width;break;case 3:this._textField.textAlign="right",this._textField.x=this.width}var t=y.hex(this.textStyle.color,6);if(this._textField.color="#"+t,this._textField.font=(this.textStyle.isBold?"bold ":"")+(this.textStyle.isItalic?"italic ":"")+this.textStyle.size+"px '"+this.textStyle.font+"'",this._textField.lineHeight=this.textStyle.spacingVertical,null!=this.textStyle.filters){var e=this._textField;e.shadow=null;var s=this.textStyle.filters.slice();if(null!=this._textFieldOutline&&null!=this._textFieldOutline.parent&&this._textFieldOutline.parent.removeChild(this._textFieldOutline),this._textFieldOutline=null,2==s.length||6==s.length){this._textFieldOutline=this._textField.clone();var i=y.hex(s.shift(),6);this._textFieldOutline.color="#"+i;var n=s.shift();this._textFieldOutline.outline=2*n,this._context.addChildAt(this._textFieldOutline,0),e=this._textFieldOutline}4==s.length&&(e.shadow=new createjs.Shadow("#"+y.hex(s[0],6),s[1],s[2],s[3]))}}this._isCached&&this._context.cache(0,0,this.width,this.height),this._isDirty=!1},set_text:function(t){return null==t&&(t=""),this.text==t||(this.text=t,this._textField.text=this.text,null!=this._textFieldOutline&&(this._textFieldOutline.text=this.text),this._isDirty=!0),this.text},__class__:Ht});var Wt=function(t,e,s){null==s&&(s=1e3),this._callbackFunction=e,this._duration=s,v.call(this,t)};(s["awe6.extras.Delay"]=Wt).__name__=["awe6","extras","Delay"],Wt.__super__=v,Wt.prototype=t(v.prototype,{_callbackFunction:null,_duration:null,_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._duration-=t,this._duration<=0&&(null!=this._callbackFunction&&this._callbackFunction(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:Wt});var Gt=function(t,e,s,i){this._entity=e,this._field=s,this._callbackFunction=i,v.call(this,t)};(s["awe6.extras.Trigger"]=Gt).__name__=["awe6","extras","Trigger"],Gt.__super__=v,Gt.prototype=t(v.prototype,{_entity:null,_field:null,_callbackFunction:null,_previousValue:null,_init:function(){v.prototype._init.call(this),this._previousValue=this._getValue()},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._getValue()!=this._previousValue&&this.activate(!0),this._entity.isDisposed&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},_getValue:function(){return ci.run(Y.field(this._entity,this._field))},activate:function(t){null==t&&(t=!0),null!=this._callbackFunction&&this._callbackFunction(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())},__class__:Gt});var Kt=function(t,e,s,i){null==i&&(i=!0),null==s&&(s=100),null==e&&(e=100),this.isFlippedX=!1,this.isFlippedY=!1,this.width=e,this.height=s,this._context=new createjs.Container,this.setPosition(0,0),v.call(this,t,null,this._context)};(s["awe6.extras.gui.GuiEntity"]=Kt).__name__=["awe6","extras","gui","GuiEntity"],Kt.__interfaces__=[M],Kt.__super__=v,Kt.prototype=t(v.prototype,{width:null,height:null,x:null,y:null,_context:null,setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,this._context.x=this.x,this.x},set_y:function(t){return this.y=t,this._context.y=this.y,this.y},__class__:Kt});var Xt=s["awe6.interfaces.EAgenda"]={__ename__:["awe6","interfaces","EAgenda"],__constructs__:["ALWAYS","BIRTH","DEATH","STANDARD","ATTACK","DEFEND","SUB_TYPE"]};Xt.ALWAYS=["ALWAYS",0],Xt.ALWAYS.toString=i,(Xt.ALWAYS.__enum__=Xt).BIRTH=["BIRTH",1],Xt.BIRTH.toString=i,(Xt.BIRTH.__enum__=Xt).DEATH=["DEATH",2],Xt.DEATH.toString=i,(Xt.DEATH.__enum__=Xt).STANDARD=["STANDARD",3],Xt.STANDARD.toString=i,(Xt.STANDARD.__enum__=Xt).ATTACK=["ATTACK",4],Xt.ATTACK.toString=i,(Xt.ATTACK.__enum__=Xt).DEFEND=["DEFEND",5],Xt.DEFEND.toString=i,(Xt.DEFEND.__enum__=Xt).SUB_TYPE=function(t){var e=["SUB_TYPE",6,t];return e.__enum__=Xt,e.toString=i,e};var Jt=s["awe6.interfaces.EAudioChannel"]={__ename__:["awe6","interfaces","EAudioChannel"],__constructs__:["DEFAULT","EFFECTS","INTERFACE","MUSIC","SUB_TYPE"]};Jt.DEFAULT=["DEFAULT",0],Jt.DEFAULT.toString=i,(Jt.DEFAULT.__enum__=Jt).EFFECTS=["EFFECTS",1],Jt.EFFECTS.toString=i,(Jt.EFFECTS.__enum__=Jt).INTERFACE=["INTERFACE",2],Jt.INTERFACE.toString=i,(Jt.INTERFACE.__enum__=Jt).MUSIC=["MUSIC",3],Jt.MUSIC.toString=i,(Jt.MUSIC.__enum__=Jt).SUB_TYPE=function(t){var e=["SUB_TYPE",4,t];return e.__enum__=Jt,e.toString=i,e};var Zt=s["awe6.interfaces.EFullScreen"]={__ename__:["awe6","interfaces","EFullScreen"],__constructs__:["DISABLED","NO_SCALE","SCALE_ASPECT_RATIO_IGNORE","SCALE_ASPECT_RATIO_PRESERVE","SCALE_NEAREST_MULTIPLE","SUB_TYPE"]};Zt.DISABLED=["DISABLED",0],Zt.DISABLED.toString=i,(Zt.DISABLED.__enum__=Zt).NO_SCALE=["NO_SCALE",1],Zt.NO_SCALE.toString=i,(Zt.NO_SCALE.__enum__=Zt).SCALE_ASPECT_RATIO_IGNORE=["SCALE_ASPECT_RATIO_IGNORE",2],Zt.SCALE_ASPECT_RATIO_IGNORE.toString=i,(Zt.SCALE_ASPECT_RATIO_IGNORE.__enum__=Zt).SCALE_ASPECT_RATIO_PRESERVE=["SCALE_ASPECT_RATIO_PRESERVE",3],Zt.SCALE_ASPECT_RATIO_PRESERVE.toString=i,(Zt.SCALE_ASPECT_RATIO_PRESERVE.__enum__=Zt).SCALE_NEAREST_MULTIPLE=["SCALE_NEAREST_MULTIPLE",4],Zt.SCALE_NEAREST_MULTIPLE.toString=i,(Zt.SCALE_NEAREST_MULTIPLE.__enum__=Zt).SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=Zt,e.toString=i,e};var qt=s["awe6.interfaces.EJoypadButton"]={__ename__:["awe6","interfaces","EJoypadButton"],__constructs__:["FIRE","UP","RIGHT","DOWN","LEFT","PRIMARY","SECONDARY"]};qt.FIRE=["FIRE",0],qt.FIRE.toString=i,(qt.FIRE.__enum__=qt).UP=["UP",1],qt.UP.toString=i,(qt.UP.__enum__=qt).RIGHT=["RIGHT",2],qt.RIGHT.toString=i,(qt.RIGHT.__enum__=qt).DOWN=["DOWN",3],qt.DOWN.toString=i,(qt.DOWN.__enum__=qt).LEFT=["LEFT",4],qt.LEFT.toString=i,(qt.LEFT.__enum__=qt).PRIMARY=["PRIMARY",5],qt.PRIMARY.toString=i,(qt.PRIMARY.__enum__=qt).SECONDARY=["SECONDARY",6],qt.SECONDARY.toString=i,qt.SECONDARY.__enum__=qt;var $t=s["awe6.interfaces.EJoypadTouch"]={__ename__:["awe6","interfaces","EJoypadTouch"],__constructs__:["DISABLED","DPAD","JOYSTICK","SWIPE"]};$t.DISABLED=["DISABLED",0],$t.DISABLED.toString=i,($t.DISABLED.__enum__=$t).DPAD=["DPAD",1],$t.DPAD.toString=i,($t.DPAD.__enum__=$t).JOYSTICK=function(t){var e=["JOYSTICK",2,t];return e.__enum__=$t,e.toString=i,e},$t.SWIPE=function(t){var e=["SWIPE",3,t];return e.__enum__=$t,e.toString=i,e};var te=s["awe6.interfaces.EKey"]={__ename__:["awe6","interfaces","EKey"],__constructs__:["NUM_LOCK","CLEAR","HELP","ALT","BACKSPACE","CAPS_LOCK","CONTROL","DELETE","DOWN","END","ENTER","ESCAPE","F1","F10","F11","F12","F13","F14","F15","F2","F3","F4","F5","F6","F7","F8","F9","HOME","INSERT","LEFT","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PAGE_DOWN","PAGE_UP","RIGHT","SHIFT","SPACE","TAB","UP","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","NUMBER_0","NUMBER_1","NUMBER_2","NUMBER_3","NUMBER_4","NUMBER_5","NUMBER_6","NUMBER_7","NUMBER_8","NUMBER_9","COLON","EQUALS","HYPHEN","SLASH","TILDE","SQUARELEFT","SQUARERIGHT","BACKSLASH","APOSTROPHE","TOPLEFT","SUB_TYPE"]};te.NUM_LOCK=["NUM_LOCK",0],te.NUM_LOCK.toString=i,(te.NUM_LOCK.__enum__=te).CLEAR=["CLEAR",1],te.CLEAR.toString=i,(te.CLEAR.__enum__=te).HELP=["HELP",2],te.HELP.toString=i,(te.HELP.__enum__=te).ALT=["ALT",3],te.ALT.toString=i,(te.ALT.__enum__=te).BACKSPACE=["BACKSPACE",4],te.BACKSPACE.toString=i,(te.BACKSPACE.__enum__=te).CAPS_LOCK=["CAPS_LOCK",5],te.CAPS_LOCK.toString=i,(te.CAPS_LOCK.__enum__=te).CONTROL=["CONTROL",6],te.CONTROL.toString=i,(te.CONTROL.__enum__=te).DELETE=["DELETE",7],te.DELETE.toString=i,(te.DELETE.__enum__=te).DOWN=["DOWN",8],te.DOWN.toString=i,(te.DOWN.__enum__=te).END=["END",9],te.END.toString=i,(te.END.__enum__=te).ENTER=["ENTER",10],te.ENTER.toString=i,(te.ENTER.__enum__=te).ESCAPE=["ESCAPE",11],te.ESCAPE.toString=i,(te.ESCAPE.__enum__=te).F1=["F1",12],te.F1.toString=i,(te.F1.__enum__=te).F10=["F10",13],te.F10.toString=i,(te.F10.__enum__=te).F11=["F11",14],te.F11.toString=i,(te.F11.__enum__=te).F12=["F12",15],te.F12.toString=i,(te.F12.__enum__=te).F13=["F13",16],te.F13.toString=i,(te.F13.__enum__=te).F14=["F14",17],te.F14.toString=i,(te.F14.__enum__=te).F15=["F15",18],te.F15.toString=i,(te.F15.__enum__=te).F2=["F2",19],te.F2.toString=i,(te.F2.__enum__=te).F3=["F3",20],te.F3.toString=i,(te.F3.__enum__=te).F4=["F4",21],te.F4.toString=i,(te.F4.__enum__=te).F5=["F5",22],te.F5.toString=i,(te.F5.__enum__=te).F6=["F6",23],te.F6.toString=i,(te.F6.__enum__=te).F7=["F7",24],te.F7.toString=i,(te.F7.__enum__=te).F8=["F8",25],te.F8.toString=i,(te.F8.__enum__=te).F9=["F9",26],te.F9.toString=i,(te.F9.__enum__=te).HOME=["HOME",27],te.HOME.toString=i,(te.HOME.__enum__=te).INSERT=["INSERT",28],te.INSERT.toString=i,(te.INSERT.__enum__=te).LEFT=["LEFT",29],te.LEFT.toString=i,(te.LEFT.__enum__=te).NUMPAD_0=["NUMPAD_0",30],te.NUMPAD_0.toString=i,(te.NUMPAD_0.__enum__=te).NUMPAD_1=["NUMPAD_1",31],te.NUMPAD_1.toString=i,(te.NUMPAD_1.__enum__=te).NUMPAD_2=["NUMPAD_2",32],te.NUMPAD_2.toString=i,(te.NUMPAD_2.__enum__=te).NUMPAD_3=["NUMPAD_3",33],te.NUMPAD_3.toString=i,(te.NUMPAD_3.__enum__=te).NUMPAD_4=["NUMPAD_4",34],te.NUMPAD_4.toString=i,(te.NUMPAD_4.__enum__=te).NUMPAD_5=["NUMPAD_5",35],te.NUMPAD_5.toString=i,(te.NUMPAD_5.__enum__=te).NUMPAD_6=["NUMPAD_6",36],te.NUMPAD_6.toString=i,(te.NUMPAD_6.__enum__=te).NUMPAD_7=["NUMPAD_7",37],te.NUMPAD_7.toString=i,(te.NUMPAD_7.__enum__=te).NUMPAD_8=["NUMPAD_8",38],te.NUMPAD_8.toString=i,(te.NUMPAD_8.__enum__=te).NUMPAD_9=["NUMPAD_9",39],te.NUMPAD_9.toString=i,(te.NUMPAD_9.__enum__=te).NUMPAD_ADD=["NUMPAD_ADD",40],te.NUMPAD_ADD.toString=i,(te.NUMPAD_ADD.__enum__=te).NUMPAD_DECIMAL=["NUMPAD_DECIMAL",41],te.NUMPAD_DECIMAL.toString=i,(te.NUMPAD_DECIMAL.__enum__=te).NUMPAD_DIVIDE=["NUMPAD_DIVIDE",42],te.NUMPAD_DIVIDE.toString=i,(te.NUMPAD_DIVIDE.__enum__=te).NUMPAD_ENTER=["NUMPAD_ENTER",43],te.NUMPAD_ENTER.toString=i,(te.NUMPAD_ENTER.__enum__=te).NUMPAD_MULTIPLY=["NUMPAD_MULTIPLY",44],te.NUMPAD_MULTIPLY.toString=i,(te.NUMPAD_MULTIPLY.__enum__=te).NUMPAD_SUBTRACT=["NUMPAD_SUBTRACT",45],te.NUMPAD_SUBTRACT.toString=i,(te.NUMPAD_SUBTRACT.__enum__=te).PAGE_DOWN=["PAGE_DOWN",46],te.PAGE_DOWN.toString=i,(te.PAGE_DOWN.__enum__=te).PAGE_UP=["PAGE_UP",47],te.PAGE_UP.toString=i,(te.PAGE_UP.__enum__=te).RIGHT=["RIGHT",48],te.RIGHT.toString=i,(te.RIGHT.__enum__=te).SHIFT=["SHIFT",49],te.SHIFT.toString=i,(te.SHIFT.__enum__=te).SPACE=["SPACE",50],te.SPACE.toString=i,(te.SPACE.__enum__=te).TAB=["TAB",51],te.TAB.toString=i,(te.TAB.__enum__=te).UP=["UP",52],te.UP.toString=i,(te.UP.__enum__=te).A=["A",53],te.A.toString=i,(te.A.__enum__=te).B=["B",54],te.B.toString=i,(te.B.__enum__=te).C=["C",55],te.C.toString=i,(te.C.__enum__=te).D=["D",56],te.D.toString=i,(te.D.__enum__=te).E=["E",57],te.E.toString=i,(te.E.__enum__=te).F=["F",58],te.F.toString=i,(te.F.__enum__=te).G=["G",59],te.G.toString=i,(te.G.__enum__=te).H=["H",60],te.H.toString=i,(te.H.__enum__=te).I=["I",61],te.I.toString=i,(te.I.__enum__=te).J=["J",62],te.J.toString=i,(te.J.__enum__=te).K=["K",63],te.K.toString=i,(te.K.__enum__=te).L=["L",64],te.L.toString=i,(te.L.__enum__=te).M=["M",65],te.M.toString=i,(te.M.__enum__=te).N=["N",66],te.N.toString=i,(te.N.__enum__=te).O=["O",67],te.O.toString=i,(te.O.__enum__=te).P=["P",68],te.P.toString=i,(te.P.__enum__=te).Q=["Q",69],te.Q.toString=i,(te.Q.__enum__=te).R=["R",70],te.R.toString=i,(te.R.__enum__=te).S=["S",71],te.S.toString=i,(te.S.__enum__=te).T=["T",72],te.T.toString=i,(te.T.__enum__=te).U=["U",73],te.U.toString=i,(te.U.__enum__=te).V=["V",74],te.V.toString=i,(te.V.__enum__=te).W=["W",75],te.W.toString=i,(te.W.__enum__=te).X=["X",76],te.X.toString=i,(te.X.__enum__=te).Y=["Y",77],te.Y.toString=i,(te.Y.__enum__=te).Z=["Z",78],te.Z.toString=i,(te.Z.__enum__=te).NUMBER_0=["NUMBER_0",79],te.NUMBER_0.toString=i,(te.NUMBER_0.__enum__=te).NUMBER_1=["NUMBER_1",80],te.NUMBER_1.toString=i,(te.NUMBER_1.__enum__=te).NUMBER_2=["NUMBER_2",81],te.NUMBER_2.toString=i,(te.NUMBER_2.__enum__=te).NUMBER_3=["NUMBER_3",82],te.NUMBER_3.toString=i,(te.NUMBER_3.__enum__=te).NUMBER_4=["NUMBER_4",83],te.NUMBER_4.toString=i,(te.NUMBER_4.__enum__=te).NUMBER_5=["NUMBER_5",84],te.NUMBER_5.toString=i,(te.NUMBER_5.__enum__=te).NUMBER_6=["NUMBER_6",85],te.NUMBER_6.toString=i,(te.NUMBER_6.__enum__=te).NUMBER_7=["NUMBER_7",86],te.NUMBER_7.toString=i,(te.NUMBER_7.__enum__=te).NUMBER_8=["NUMBER_8",87],te.NUMBER_8.toString=i,(te.NUMBER_8.__enum__=te).NUMBER_9=["NUMBER_9",88],te.NUMBER_9.toString=i,(te.NUMBER_9.__enum__=te).COLON=["COLON",89],te.COLON.toString=i,(te.COLON.__enum__=te).EQUALS=["EQUALS",90],te.EQUALS.toString=i,(te.EQUALS.__enum__=te).HYPHEN=["HYPHEN",91],te.HYPHEN.toString=i,(te.HYPHEN.__enum__=te).SLASH=["SLASH",92],te.SLASH.toString=i,(te.SLASH.__enum__=te).TILDE=["TILDE",93],te.TILDE.toString=i,(te.TILDE.__enum__=te).SQUARELEFT=["SQUARELEFT",94],te.SQUARELEFT.toString=i,(te.SQUARELEFT.__enum__=te).SQUARERIGHT=["SQUARERIGHT",95],te.SQUARERIGHT.toString=i,(te.SQUARERIGHT.__enum__=te).BACKSLASH=["BACKSLASH",96],te.BACKSLASH.toString=i,(te.BACKSLASH.__enum__=te).APOSTROPHE=["APOSTROPHE",97],te.APOSTROPHE.toString=i,(te.APOSTROPHE.__enum__=te).TOPLEFT=["TOPLEFT",98],te.TOPLEFT.toString=i,(te.TOPLEFT.__enum__=te).SUB_TYPE=function(t){var e=["SUB_TYPE",99,t];return e.__enum__=te,e.toString=i,e};var ee=s["awe6.interfaces.EMessage"]={__ename__:["awe6","interfaces","EMessage"],__constructs__:["DISPOSE","INIT","PAUSE","RESUME","SUB_TYPE"]};ee.DISPOSE=["DISPOSE",0],ee.DISPOSE.toString=i,(ee.DISPOSE.__enum__=ee).INIT=["INIT",1],ee.INIT.toString=i,(ee.INIT.__enum__=ee).PAUSE=["PAUSE",2],ee.PAUSE.toString=i,(ee.PAUSE.__enum__=ee).RESUME=["RESUME",3],ee.RESUME.toString=i,(ee.RESUME.__enum__=ee).SUB_TYPE=function(t){var e=["SUB_TYPE",4,t];return e.__enum__=ee,e.toString=i,e};var se=s["awe6.interfaces.EMouseButton"]={__ename__:["awe6","interfaces","EMouseButton"],__constructs__:["LEFT","MIDDLE","RIGHT"]};se.LEFT=["LEFT",0],se.LEFT.toString=i,(se.LEFT.__enum__=se).MIDDLE=["MIDDLE",1],se.MIDDLE.toString=i,(se.MIDDLE.__enum__=se).RIGHT=["RIGHT",2],se.RIGHT.toString=i,se.RIGHT.__enum__=se;var ie=s["awe6.interfaces.EMouseCursor"]={__ename__:["awe6","interfaces","EMouseCursor"],__constructs__:["ARROW","AUTO","BUTTON","HAND","IBEAM","SUB_TYPE"]};ie.ARROW=["ARROW",0],ie.ARROW.toString=i,(ie.ARROW.__enum__=ie).AUTO=["AUTO",1],ie.AUTO.toString=i,(ie.AUTO.__enum__=ie).BUTTON=["BUTTON",2],ie.BUTTON.toString=i,(ie.BUTTON.__enum__=ie).HAND=["HAND",3],ie.HAND.toString=i,(ie.HAND.__enum__=ie).IBEAM=["IBEAM",4],ie.IBEAM.toString=i,(ie.IBEAM.__enum__=ie).SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=ie,e.toString=i,e};var ne=s["awe6.interfaces.EOverlayButton"]={__ename__:["awe6","interfaces","EOverlayButton"],__constructs__:["BACK","MUTE","UNMUTE","PAUSE","UNPAUSE","SUB_TYPE"]};ne.BACK=["BACK",0],ne.BACK.toString=i,(ne.BACK.__enum__=ne).MUTE=["MUTE",1],ne.MUTE.toString=i,(ne.MUTE.__enum__=ne).UNMUTE=["UNMUTE",2],ne.UNMUTE.toString=i,(ne.UNMUTE.__enum__=ne).PAUSE=["PAUSE",3],ne.PAUSE.toString=i,(ne.PAUSE.__enum__=ne).UNPAUSE=["UNPAUSE",4],ne.UNPAUSE.toString=i,(ne.UNPAUSE.__enum__=ne).SUB_TYPE=function(t){var e=["SUB_TYPE",5,t];return e.__enum__=ne,e.toString=i,e};var re=s["awe6.interfaces.EScene"]={__ename__:["awe6","interfaces","EScene"],__constructs__:["SPLASH","INTRO","SELECT_SESSION","SELECT_STORY","SELECT_LEVEL","INSTRUCTIONS","SETTINGS","MENU","AVATAR","SHOP","REWARDS","LEADERBOARD","GAME","INTERSTITIAL","CINEMATIC","RESULTS","EXIT","TEST","SUB_TYPE"]};re.SPLASH=["SPLASH",0],re.SPLASH.toString=i,(re.SPLASH.__enum__=re).INTRO=["INTRO",1],re.INTRO.toString=i,(re.INTRO.__enum__=re).SELECT_SESSION=["SELECT_SESSION",2],re.SELECT_SESSION.toString=i,(re.SELECT_SESSION.__enum__=re).SELECT_STORY=["SELECT_STORY",3],re.SELECT_STORY.toString=i,(re.SELECT_STORY.__enum__=re).SELECT_LEVEL=["SELECT_LEVEL",4],re.SELECT_LEVEL.toString=i,(re.SELECT_LEVEL.__enum__=re).INSTRUCTIONS=["INSTRUCTIONS",5],re.INSTRUCTIONS.toString=i,(re.INSTRUCTIONS.__enum__=re).SETTINGS=["SETTINGS",6],re.SETTINGS.toString=i,(re.SETTINGS.__enum__=re).MENU=["MENU",7],re.MENU.toString=i,(re.MENU.__enum__=re).AVATAR=["AVATAR",8],re.AVATAR.toString=i,(re.AVATAR.__enum__=re).SHOP=["SHOP",9],re.SHOP.toString=i,(re.SHOP.__enum__=re).REWARDS=["REWARDS",10],re.REWARDS.toString=i,(re.REWARDS.__enum__=re).LEADERBOARD=["LEADERBOARD",11],re.LEADERBOARD.toString=i,(re.LEADERBOARD.__enum__=re).GAME=["GAME",12],re.GAME.toString=i,(re.GAME.__enum__=re).INTERSTITIAL=["INTERSTITIAL",13],re.INTERSTITIAL.toString=i,(re.INTERSTITIAL.__enum__=re).CINEMATIC=["CINEMATIC",14],re.CINEMATIC.toString=i,(re.CINEMATIC.__enum__=re).RESULTS=["RESULTS",15],re.RESULTS.toString=i,(re.RESULTS.__enum__=re).EXIT=["EXIT",16],re.EXIT.toString=i,(re.EXIT.__enum__=re).TEST=["TEST",17],re.TEST.toString=i,(re.TEST.__enum__=re).SUB_TYPE=function(t){var e=["SUB_TYPE",18,t];return e.__enum__=re,e.toString=i,e};var ae=s["awe6.interfaces.ETextAlign"]={__ename__:["awe6","interfaces","ETextAlign"],__constructs__:["JUSTIFY","LEFT","CENTER","RIGHT"]};ae.JUSTIFY=["JUSTIFY",0],ae.JUSTIFY.toString=i,(ae.JUSTIFY.__enum__=ae).LEFT=["LEFT",1],ae.LEFT.toString=i,(ae.LEFT.__enum__=ae).CENTER=["CENTER",2],ae.CENTER.toString=i,(ae.CENTER.__enum__=ae).RIGHT=["RIGHT",3],ae.RIGHT.toString=i,ae.RIGHT.__enum__=ae;var le=s["awe6.interfaces.ETextStyle"]={__ename__:["awe6","interfaces","ETextStyle"],__constructs__:["BUTTON","BODY","HEADLINE","SUBHEAD","SMALLPRINT","OVERSIZED","SUB_TYPE"]};le.BUTTON=["BUTTON",0],le.BUTTON.toString=i,(le.BUTTON.__enum__=le).BODY=["BODY",1],le.BODY.toString=i,(le.BODY.__enum__=le).HEADLINE=["HEADLINE",2],le.HEADLINE.toString=i,(le.HEADLINE.__enum__=le).SUBHEAD=["SUBHEAD",3],le.SUBHEAD.toString=i,(le.SUBHEAD.__enum__=le).SMALLPRINT=["SMALLPRINT",4],le.SMALLPRINT.toString=i,(le.SMALLPRINT.__enum__=le).OVERSIZED=["OVERSIZED",5],le.OVERSIZED.toString=i,(le.OVERSIZED.__enum__=le).SUB_TYPE=function(t){var e=["SUB_TYPE",6,t];return e.__enum__=le,e.toString=i,e};var oe=function(t){Ct.call(this,t)};(s["b10ide.AssetManager"]=oe).__name__=["b10ide","AssetManager"],oe.__super__=Ct,oe.prototype=t(Ct.prototype,{overlayBackground:null,overlayBackOver:null,overlayBackUp:null,overlayMuteOver:null,overlayMuteUp:null,overlayPauseOver:null,overlayPauseUp:null,overlayUnmuteOver:null,overlayUnmuteUp:null,overlayUnpauseOver:null,overlayUnpauseUp:null,_init:function(){Ct.prototype._init.call(this),this.overlayBackground=this._createView(_e.OVERLAY_BACKGROUND),this.overlayBackUp=this._createView(_e.OVERLAY_BACK_UP),this.overlayBackOver=this._createView(_e.OVERLAY_BACK_OVER),this.overlayMuteUp=this._createView(_e.OVERLAY_MUTE_UP),this.overlayMuteOver=this._createView(_e.OVERLAY_MUTE_OVER),this.overlayUnmuteUp=this._createView(_e.OVERLAY_UNMUTE_UP),this.overlayUnmuteOver=this._createView(_e.OVERLAY_UNMUTE_OVER),this.overlayPauseUp=this._createView(_e.OVERLAY_PAUSE_UP),this.overlayPauseOver=this._createView(_e.OVERLAY_PAUSE_OVER),this.overlayUnpauseUp=this._createView(_e.OVERLAY_UNPAUSE_UP),this.overlayUnpauseOver=this._createView(_e.OVERLAY_UNPAUSE_OVER)},get_buttonOver:function(){return this._createView(_e.BUTTON_OVER)},get_buttonUp:function(){return this._createView(_e.BUTTON_UP)},_createView:function(t){var e,s=new createjs.Container;switch(t[1]){case 0:e="assets/overlay/OverlayBackground.png";break;case 1:e="assets/overlay/buttons/BackUp.png";break;case 2:e="assets/overlay/buttons/BackOver.png";break;case 3:e="assets/overlay/buttons/MuteUp.png";break;case 4:e="assets/overlay/buttons/MuteOver.png";break;case 5:e="assets/overlay/buttons/UnmuteUp.png";break;case 6:e="assets/overlay/buttons/UnmuteOver.png";break;case 7:e="assets/overlay/buttons/PauseUp.png";break;case 8:e="assets/overlay/buttons/PauseOver.png";break;case 9:e="assets/overlay/buttons/UnpauseUp.png";break;case 10:e="assets/overlay/buttons/UnpauseOver.png";break;case 11:e="assets/gui/ButtonUp.png";break;case 12:e="assets/gui/ButtonOver.png"}var i=new createjs.Bitmap(this.getAsset(e));return s.addChild(i),new Yt(this._kernel,s)},__class__:oe});var _e=s["b10ide.EAsset"]={__ename__:["b10ide","EAsset"],__constructs__:["OVERLAY_BACKGROUND","OVERLAY_BACK_UP","OVERLAY_BACK_OVER","OVERLAY_MUTE_UP","OVERLAY_MUTE_OVER","OVERLAY_UNMUTE_UP","OVERLAY_UNMUTE_OVER","OVERLAY_PAUSE_UP","OVERLAY_PAUSE_OVER","OVERLAY_UNPAUSE_UP","OVERLAY_UNPAUSE_OVER","BUTTON_UP","BUTTON_OVER"]};_e.OVERLAY_BACKGROUND=["OVERLAY_BACKGROUND",0],_e.OVERLAY_BACKGROUND.toString=i,(_e.OVERLAY_BACKGROUND.__enum__=_e).OVERLAY_BACK_UP=["OVERLAY_BACK_UP",1],_e.OVERLAY_BACK_UP.toString=i,(_e.OVERLAY_BACK_UP.__enum__=_e).OVERLAY_BACK_OVER=["OVERLAY_BACK_OVER",2],_e.OVERLAY_BACK_OVER.toString=i,(_e.OVERLAY_BACK_OVER.__enum__=_e).OVERLAY_MUTE_UP=["OVERLAY_MUTE_UP",3],_e.OVERLAY_MUTE_UP.toString=i,(_e.OVERLAY_MUTE_UP.__enum__=_e).OVERLAY_MUTE_OVER=["OVERLAY_MUTE_OVER",4],_e.OVERLAY_MUTE_OVER.toString=i,(_e.OVERLAY_MUTE_OVER.__enum__=_e).OVERLAY_UNMUTE_UP=["OVERLAY_UNMUTE_UP",5],_e.OVERLAY_UNMUTE_UP.toString=i,(_e.OVERLAY_UNMUTE_UP.__enum__=_e).OVERLAY_UNMUTE_OVER=["OVERLAY_UNMUTE_OVER",6],_e.OVERLAY_UNMUTE_OVER.toString=i,(_e.OVERLAY_UNMUTE_OVER.__enum__=_e).OVERLAY_PAUSE_UP=["OVERLAY_PAUSE_UP",7],_e.OVERLAY_PAUSE_UP.toString=i,(_e.OVERLAY_PAUSE_UP.__enum__=_e).OVERLAY_PAUSE_OVER=["OVERLAY_PAUSE_OVER",8],_e.OVERLAY_PAUSE_OVER.toString=i,(_e.OVERLAY_PAUSE_OVER.__enum__=_e).OVERLAY_UNPAUSE_UP=["OVERLAY_UNPAUSE_UP",9],_e.OVERLAY_UNPAUSE_UP.toString=i,(_e.OVERLAY_UNPAUSE_UP.__enum__=_e).OVERLAY_UNPAUSE_OVER=["OVERLAY_UNPAUSE_OVER",10],_e.OVERLAY_UNPAUSE_OVER.toString=i,(_e.OVERLAY_UNPAUSE_OVER.__enum__=_e).BUTTON_UP=["BUTTON_UP",11],_e.BUTTON_UP.toString=i,(_e.BUTTON_UP.__enum__=_e).BUTTON_OVER=["BUTTON_OVER",12],_e.BUTTON_OVER.toString=i,_e.BUTTON_OVER.__enum__=_e;var he=s["b10ide.EGameMode"]={__ename__:["b10ide","EGameMode"],__constructs__:["FLY_BY","TIME_TRIAL","RACE"]};he.FLY_BY=["FLY_BY",0],he.FLY_BY.toString=i,(he.FLY_BY.__enum__=he).TIME_TRIAL=["TIME_TRIAL",1],he.TIME_TRIAL.toString=i,(he.TIME_TRIAL.__enum__=he).RACE=["RACE",2],he.RACE.toString=i,he.RACE.__enum__=he;var ue=s["b10ide.ELevel"]={__ename__:["b10ide","ELevel"],__constructs__:["LEVEL_1","LEVEL_2","LEVEL_3","LEVEL_4","LEVEL_5","LEVEL_6"]};ue.LEVEL_1=["LEVEL_1",0],ue.LEVEL_1.toString=i,(ue.LEVEL_1.__enum__=ue).LEVEL_2=["LEVEL_2",1],ue.LEVEL_2.toString=i,(ue.LEVEL_2.__enum__=ue).LEVEL_3=["LEVEL_3",2],ue.LEVEL_3.toString=i,(ue.LEVEL_3.__enum__=ue).LEVEL_4=["LEVEL_4",3],ue.LEVEL_4.toString=i,(ue.LEVEL_4.__enum__=ue).LEVEL_5=["LEVEL_5",4],ue.LEVEL_5.toString=i,(ue.LEVEL_5.__enum__=ue).LEVEL_6=["LEVEL_6",5],ue.LEVEL_6.toString=i,ue.LEVEL_6.__enum__=ue;var ce=s["b10ide.ELocation"]={__ename__:["b10ide","ELocation"],__constructs__:["LA","LB","LC"]};ce.LA=["LA",0],ce.LA.toString=i,(ce.LA.__enum__=ce).LB=["LB",1],ce.LB.toString=i,(ce.LB.__enum__=ce).LC=["LC",2],ce.LC.toString=i,ce.LC.__enum__=ce;var pe=s["b10ide.EMedal"]={__ename__:["b10ide","EMedal"],__constructs__:["INCOMPLETE","BRONZE","SILVER","GOLD"]};pe.INCOMPLETE=["INCOMPLETE",0],pe.INCOMPLETE.toString=i,(pe.INCOMPLETE.__enum__=pe).BRONZE=["BRONZE",1],pe.BRONZE.toString=i,(pe.BRONZE.__enum__=pe).SILVER=["SILVER",2],pe.SILVER.toString=i,(pe.SILVER.__enum__=pe).GOLD=["GOLD",3],pe.GOLD.toString=i,pe.GOLD.__enum__=pe;var de=s["b10ide.EQuality"]={__ename__:["b10ide","EQuality"],__constructs__:["LOW","MEDIUM","HIGH"]};de.LOW=["LOW",0],de.LOW.toString=i,(de.LOW.__enum__=de).MEDIUM=["MEDIUM",1],de.MEDIUM.toString=i,(de.MEDIUM.__enum__=de).HIGH=["HIGH",2],de.HIGH.toString=i,de.HIGH.__enum__=de;var ge=s["b10ide.EScenery"]={__ename__:["b10ide","EScenery"],__constructs__:["SA","SB","SC","SD","SE","SF","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SY","SZ","AFTERBURNER","LOCATOR","START","BOOST","UNIT","WAYPOINT"]};ge.SA=["SA",0],ge.SA.toString=i,(ge.SA.__enum__=ge).SB=["SB",1],ge.SB.toString=i,(ge.SB.__enum__=ge).SC=["SC",2],ge.SC.toString=i,(ge.SC.__enum__=ge).SD=["SD",3],ge.SD.toString=i,(ge.SD.__enum__=ge).SE=["SE",4],ge.SE.toString=i,(ge.SE.__enum__=ge).SF=["SF",5],ge.SF.toString=i,(ge.SF.__enum__=ge).SG=["SG",6],ge.SG.toString=i,(ge.SG.__enum__=ge).SH=["SH",7],ge.SH.toString=i,(ge.SH.__enum__=ge).SI=["SI",8],ge.SI.toString=i,(ge.SI.__enum__=ge).SJ=["SJ",9],ge.SJ.toString=i,(ge.SJ.__enum__=ge).SK=["SK",10],ge.SK.toString=i,(ge.SK.__enum__=ge).SL=["SL",11],ge.SL.toString=i,(ge.SL.__enum__=ge).SM=["SM",12],ge.SM.toString=i,(ge.SM.__enum__=ge).SN=["SN",13],ge.SN.toString=i,(ge.SN.__enum__=ge).SO=["SO",14],ge.SO.toString=i,(ge.SO.__enum__=ge).SY=["SY",15],ge.SY.toString=i,(ge.SY.__enum__=ge).SZ=["SZ",16],ge.SZ.toString=i,(ge.SZ.__enum__=ge).AFTERBURNER=["AFTERBURNER",17],ge.AFTERBURNER.toString=i,(ge.AFTERBURNER.__enum__=ge).LOCATOR=["LOCATOR",18],ge.LOCATOR.toString=i,(ge.LOCATOR.__enum__=ge).START=["START",19],ge.START.toString=i,(ge.START.__enum__=ge).BOOST=["BOOST",20],ge.BOOST.toString=i,(ge.BOOST.__enum__=ge).UNIT=function(t){var e=["UNIT",21,t];return e.__enum__=ge,e.toString=i,e},ge.WAYPOINT=["WAYPOINT",22],ge.WAYPOINT.toString=i,ge.WAYPOINT.__enum__=ge;var we=s["b10ide.ETrack"]={__ename__:["b10ide","ETrack"],__constructs__:["UNKNOWN","TA","TB","TC","SERIAL"]};we.UNKNOWN=["UNKNOWN",0],we.UNKNOWN.toString=i,(we.UNKNOWN.__enum__=we).TA=["TA",1],we.TA.toString=i,(we.TA.__enum__=we).TB=["TB",2],we.TB.toString=i,(we.TB.__enum__=we).TC=["TC",3],we.TC.toString=i,(we.TC.__enum__=we).SERIAL=function(t){var e=["SERIAL",4,t];return e.__enum__=we,e.toString=i,e};var ye=s["b10ide.EUnit"]={__ename__:["b10ide","EUnit"],__constructs__:["UA","UB"]};ye.UA=["UA",0],ye.UA.toString=i,(ye.UA.__enum__=ye).UB=["UB",1],ye.UB.toString=i,ye.UB.__enum__=ye;var fe=function(t,e,s){It.call(this,t,e,s)};(s["b10ide.Factory"]=fe).__name__=["b10ide","Factory"],fe.__super__=It,fe.prototype=t(It.prototype,{_assetManager:null,_configurer:function(t){if(null==t&&(t=!1),t){this.id="ionDriftE";var e="11";null!=ui.getString("revision")&&(e=ui.getString("revision").split("\n")[0]),this.version="1.10."+e,this.author="http://b10b.com",this.isDecached=this.isDebug,this.width=480,this.height=320,this.bgColor=0,this.targetFramerate=20,this.joypadTouchType=$t.DISABLED,this.startingSceneType=re.SELECT_SESSION}},_launchKernel:function(){It.prototype._launchKernel.call(this),this._kernel.audio.set_isMute(this._kernel.isDebug)},createAssetManager:function(){return null==this._assetManager&&(this._assetManager=new oe(this._kernel)),this._assetManager},createLogger:function(){var t=Q.string(this._kernel.getConfig("settings.googleAnalytics.id"));return""!=t?new Te(this._kernel,t):It.prototype.createLogger.call(this)},createPreloader:function(){return new Ae(this._kernel,this._getAssetUrls(),this.isDecached)},createSession:function(t){return new Ce(this._kernel,t)},createOverlay:function(){return new Qe(this._kernel)},createSceneTransition:function(t,e){return new fs(this._kernel)},createTextStyle:function(t){null==t&&(t=le.BODY);var e=this._kernel.getConfig("settings.font.name");if(null==t)return new H(e,12,0,!1,!1,ae.LEFT,0,0,0,[]);switch(t[1]){case 0:return new H(e,12,16777215,!1,!1,ae.CENTER,0,0,0,[]);case 3:return new H(e,27,0,!1,!1,ae.LEFT,0,0,0,[]);case 4:return new H(e,13,0,!1,!1,ae.RIGHT,0,0,0,[]);case 5:return new H(e,34,0,!1,!1,ae.CENTER,0,0,0,[]);default:return new H(e,12,0,!1,!1,ae.LEFT,0,0,0,[])}},createScene:function(t){switch(t[1]){case 2:return new vs(this._kernel,t);case 5:return new ws(this._kernel,t);case 7:return new ys(this._kernel,t);case 12:return new gs(this._kernel,t)}return It.prototype.createScene.call(this,t)},getBackSceneType:function(t){switch(t[1]){case 5:case 12:return re.MENU;case 7:return re.SELECT_SESSION}return It.prototype.getBackSceneType.call(this,t)},getNextSceneType:function(t){switch(t[1]){case 2:return re.MENU;case 5:return re.GAME;case 7:return re.INSTRUCTIONS;case 12:return re.MENU}return It.prototype.getNextSceneType.call(this,t)},__class__:fe});var ve=function(){};(s["b10ide.IJoypadSnapshot"]=ve).__name__=["b10ide","IJoypadSnapshot"],ve.prototype={isUp:null,isRight:null,isDown:null,isLeft:null,isFire:null,toString:null,__class__:ve};var Me=function(){};(s["b10ide.IPosition2d"]=Me).__name__=["b10ide","IPosition2d"],Me.prototype={set_angle:null,x:null,y:null,angle:null,__class__:Me};var De=function(){};(s["b10ide.IPosition3d"]=De).__name__=["b10ide","IPosition3d"],De.__interfaces__=[Me],De.prototype={z:null,__class__:De};var me=function(){};(s["b10ide.IRecording"]=me).__name__=["b10ide","IRecording"];var Te=function(t,e){this._id=e,this._isTrackerEnabled=!t.isLocal&&"true"==t.getConfig("settings.googleAnalytics.enabled"),this._isTrackerEnabled&&(hi.trace("Google Analytics enabled with property ID "+this._id,{fileName:"LoggerGoogleAnalytics.hx",lineNumber:23,className:"b10ide.LoggerGoogleAnalytics",methodName:"new"}),qs.init(this._id,window.location.hostname))};(s["b10ide.LoggerGoogleAnalytics"]=Te).__name__=["b10ide","LoggerGoogleAnalytics"],Te.__interfaces__=[ct],Te.prototype={_id:null,_isTrackerEnabled:null,log:function(t){var e=$.substr(Q.string(t),0,25);if(this._isTrackerEnabled){var s=Q.string(t).split(": ");qs.trackEvent("Game",s[0],s[1])}else hi.trace("Logger ... "+e,{fileName:"LoggerGoogleAnalytics.hx",lineNumber:38,className:"b10ide.LoggerGoogleAnalytics",methodName:"log"})},__class__:Te};var Ee=function(){};(s["b10ide.Main"]=Ee).__name__=["b10ide","Main"],Ee.main=function(){var t=new createjs.Stage(window.document.getElementById("gameCanvas")),e=new createjs.Container;t.addChild(e),Ee.factory=new fe(e,!1,ui.getString("config"))};var Le=function(t,e,s,i){null==i&&(i=!1),this._width=e,this._height=s,this._isGravity=i,v.call(this,t)};(s["b10ide.Physics"]=Le).__name__=["b10ide","Physics"],Le.__super__=v,Le.prototype=t(v.prototype,{_width:null,_height:null,_isGravity:null,_world:null,_init:function(){if(v.prototype._init.call(this),this._world=new Zi(new qi(-this._tools.BIG_NUMBER,-this._tools.BIG_NUMBER,this._tools.BIG_NUMBER,this._tools.BIG_NUMBER),new tn),this._world.sleepEpsilon=0,this._isGravity){var t=this._world.gravity;t.x=0,t.y=.1}},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._world.step(t/10,5)},addRectangle:function(t,e,s,i,n,r,a,l,o){null==o&&(o=1),null==r&&(r=!1),null==n&&(n=0);var _=Ri.makeBox(s,i,null,null,a);return _.groups=o,this.addBody(t,e,_,n,r)},addCircle:function(t,e,s,i,n,r,a,l){null==l&&(l=1),null==n&&(n=!1),null==i&&(i=0);var o=new ji(s,new Xi(0,0),r);return o.groups=l,this.addBody(t,e,o,i,n,a)},addBody:function(t,e,s,i,n,r){null==n&&(n=!1),null==i&&(i=0),i+=.5*Math.PI;var a=new Bi(t,e,r);return a.addShape(s),a.setAngle(i),a.isStatic=n,a.setSpeed(0,0,0),this._world.addBody(a),a},removeBody:function(t){return this._world.removeBody(t)},updateBody:function(t){this._world.sync(t),this._world.activate(t)},__class__:Le});var Se=function(t,e,s,i,n,r){null==n&&(n=0),null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),this.x=e,this.y=s,this.z=i,this.set_angle(n),v.call(this,t,null,r)};(s["b10ide.Position"]=Se).__name__=["b10ide","Position"],Se.__interfaces__=[De],Se.__super__=v,Se.prototype=t(v.prototype,{x:null,y:null,z:null,angle:null,set_angle:function(t){return this.angle=t-Math.floor(t),this.angle},__class__:Se});var Ae=function(t,e,s){Rt.call(this,t,e,s)};(s["b10ide.Preloader"]=Ae).__name__=["b10ide","Preloader"],Ae.__super__=Rt,Ae.prototype=t(Rt.prototype,{_bg:null,_fg:null,_init:function(){var t=new createjs.Bitmap("assets/__PreloaderBg.jpg"),e=new createjs.Bitmap("assets/__PreloaderFg.png");Rt.prototype._init.call(this),this._bg=new createjs.Shape,this._bg.graphics.beginFill("#000000"),this._bg.graphics.drawRect(0,0,150,10),this._bg.graphics.endFill(),this._fg=new createjs.Shape,this._fg.graphics.beginFill("#df3e21"),this._fg.graphics.drawRect(0,0,150,10),this._fg.graphics.endFill(),this._bg.x=this._fg.x=295,this._bg.y=this._fg.y=285,this._context.addChild(t),this._context.addChild(e),this._context.addChild(this._bg),this._context.addChild(this._fg)},_updater:function(t){null==t&&(t=0),Rt.prototype._updater.call(this,t),this._fg.scaleX=this.get_progress()},_showAudioHoldMessage:function(){var t=new Je(this._kernel,this._kernel.factory.width,20,this._kernel.getConfig("gui.audioHoldMessage"),this._kernel.factory.createTextStyle(le.SUB_TYPE("PRELOADER")));t.setPosition(this._bg.x+5,this._bg.y-2),this.get_view().addChild(t.get_view()),this._context.removeChild(this._bg),this._context.removeChild(this._fg)},__class__:Ae});var be=function(t){this._originalMagicString=t,this.revert()};(s["b10ide.Recording"]=be).__name__=["b10ide","Recording"],be.__interfaces__=[me],be.prototype={trackType:null,unitType:null,x:null,y:null,z:null,angle:null,durationOfBestLap:null,_originalMagicString:null,_snapshots:null,_currentSnapshotIndex:null,revert:function(){this.trackType=we.UNKNOWN,this.unitType=ye.UA,this.x=this.y=this.z=0,this.angle=0,this.durationOfBestLap=99999999,this._snapshots=[],this._currentSnapshotIndex=0,null!=this._originalMagicString&&this._importer(this._originalMagicString)},configure:function(t,e,s,i,n,r){this._originalMagicString=null,this.revert(),this.trackType=t,0<this.trackType.slice(2).length&&(this.trackType=we.UNKNOWN),this.unitType=e,this.x=s,this.y=i,this.z=n,this.angle=r},addSnapshot:function(t){this._snapshots.push(t)},getNextSnapshot:function(){return this._currentSnapshotIndex>=this._snapshots.length?null:this._snapshots[this._currentSnapshotIndex++]},getDurationAsFrames:function(){return this._snapshots.length},getDurationOfBestLapAsFrames:function(){return this.durationOfBestLap},getSnapshotsAsString:function(t){null==t&&(t=!1);for(var e="",s=0,i=this._snapshots;s<i.length;){var n=i[s];++s,e+=n.toString()}return t&&(e=this._rle(e)),e},toString:function(){return Q.string(this.trackType)+":"+Q.string(this.unitType)+":"+this.x+":"+this.y+":"+this.z+":"+Math.round(256*this.angle)+":"+Q.string(this.durationOfBestLap)+"~"+this.getSnapshotsAsString(!0)},clone:function(){return new be(this.toString())},createJoypadSnapshot:function(t,e,s,i,n,r){return null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),null==e&&(e=!1),new xe(t,e,s,i,n,r)},_importer:function(t){var e=t,s=t.split("~"),i=s[0].split(":");this.trackType=et.createEnum(we,i[0]),this.unitType=et.createEnum(ye,i[1]),this.x=Q.parseInt(i[2]),this.y=Q.parseInt(i[3]),this.z=Q.parseInt(i[4]),this.angle=Q.parseInt(i[5])/256,this.durationOfBestLap=Q.parseInt(i[6]),this._snapshots=[];for(var n=this._unrle(s[1]).split(""),r=0;r<n.length;){var a=n[r];++r,this.addSnapshot(this.createJoypadSnapshot(a))}if(this._currentSnapshotIndex=0,this.toString()!=e)throw new bi("Invalid import data")},_rle:function(t){for(var e,s=$.substr(t,0,1),i=0,n="",r=1,a=t.length+1;r<a;){var l=r++;++i,s!=(e=$.substr(t,l,1))&&(n+=(null==i?"null":""+i)+(null==s?"null":""+s)+":",i=0,s=e)}return n},_unrle:function(t){for(var e,s,i="",n=t.split(":"),r=0,a=n.length-1;r<a;){var l=r++;if(e=$.substr(n[l],-1,1),0<(s=Q.parseInt($.substr(n[l],0,n[l].length-1))))for(var o=1,_=s+1;o<_;){o++;i+=null==e?"null":""+e}}return i},__class__:be};var xe=function(t,e,s,i,n,r){if(null==r&&(r=!1),null==n&&(n=!1),null==i&&(i=!1),null==s&&(s=!1),null==e&&(e=!1),this.isUp=e,this.isRight=s,this.isDown=i,this.isLeft=n,this.isFire=r,null!=t){var a=xe._stringToInt(t);this.isUp=0!=(1&a),this.isRight=0!=(2&a),this.isDown=0!=(4&a),this.isLeft=0!=(8&a),this.isFire=0!=(16&a)}};(s["b10ide._Recording._HelperJoypadSnapshot"]=xe).__name__=["b10ide","_Recording","_HelperJoypadSnapshot"],xe.__interfaces__=[ve],xe._intToString=function(t){return xe._CHARS[t]},xe._stringToInt=function(t){for(var e=0,s=xe._CHARS.length;e<s;){var i=e++;if(t==xe._CHARS[i])return i}return 0},xe._binaryToInt=function(t){for(var e=(null==t?"null":""+t).split(""),s=0,i=1,n=0;n<e.length;){var r=e[n];if(++n,"1"!=r&&"0"!=r)return-1;s+=i*Q.parseInt(r),i*=2}return s},xe.prototype={isUp:null,isRight:null,isDown:null,isLeft:null,isFire:null,toString:function(){var t=(this.isUp?"1":"0")+(this.isRight?"1":"0")+(this.isDown?"1":"0")+(this.isLeft?"1":"0")+(this.isFire?"1":"0");return xe._intToString(xe._binaryToInt(t))},__class__:xe};var Ce=function(t,e){this.medalLevel6=0,this.medalLevel5=0,this.medalLevel4=0,this.medalLevel3=0,this.medalLevel2=0,this.medalLevel1=0,Ft.call(this,t,e)};(s["b10ide.Session"]=Ce).__name__=["b10ide","Session"],Ce.__super__=Ft,Ce.prototype=t(Ft.prototype,{levelType:null,qualityType:null,isTouch:null,isDesktop:null,skill:null,medalLevel1:null,medalLevel2:null,medalLevel3:null,medalLevel4:null,medalLevel5:null,medalLevel6:null,durationLevel1:null,durationLevel2:null,durationLevel3:null,durationLevel4:null,durationLevel5:null,durationLevel6:null,_isTester:null,_init:function(){this._version=5,this._isTester=!1,Ft.prototype._init.call(this)},_getter:function(){Ft.prototype._getter.call(this),this.qualityType=et.createEnum(de,this._data.qualityType),this.levelType=et.createEnum(ue,this._data.levelType);for(var t=0,e=ue.__constructs__.slice();t<e.length;){var s=e[t];++t;var i="medal"+this._tools.toCamelCase(s,!0);this[i]=Y.field(this._data,i);var n="duration"+this._tools.toCamelCase(s,!0);this[n]=Y.field(this._data,n)}},_setter:function(){Ft.prototype._setter.call(this),this._data.qualityType=Q.string(this.qualityType),this._data.levelType=Q.string(this.levelType);for(var t=0,e=ue.__constructs__.slice();t<e.length;){var s=e[t];++t;var i="medal"+this._tools.toCamelCase(s,!0);this._data[i]=Y.field(this,i);var n="duration"+this._tools.toCamelCase(s,!0);this._data[n]=Y.field(this,n)}},_resetter:function(){Ft.prototype._resetter.call(this),this.levelType=ue.LEVEL_1,this.qualityType=de.MEDIUM,this.isTouch=this._kernel.inputs.mouse._isTouch,this.isDesktop=this._kernel.system.isDesktop,this.skill=this.getPercentageComplete(),this.medalLevel1=0,this.medalLevel2=0,this.medalLevel3=0,this.medalLevel4=0,this.medalLevel5=0,this.medalLevel6=0,this.durationLevel1=this._tools.BIG_NUMBER,this.durationLevel2=this._tools.BIG_NUMBER,this.durationLevel3=this._tools.BIG_NUMBER,this.durationLevel4=this._tools.BIG_NUMBER,this.durationLevel5=this._tools.BIG_NUMBER,this.durationLevel6=this._tools.BIG_NUMBER},getPercentageComplete:function(){return(this.medalLevel1+this.medalLevel2+this.medalLevel3+this.medalLevel4+this.medalLevel5+this.medalLevel6)/6},get_isTester:function(){return this._isTester},setIsTester:function(t){this._isTester=t},getMedal:function(t,e){var s="medal"+this._tools.toCamelCase(Q.string(t),!0),i=Y.field(this,s);return e[1]<=i},setMedal:function(t,e){if(!this.getMedal(t,e)){var s="medal"+this._tools.toCamelCase(Q.string(t),!0);this[s]=e[1],e!=pe.INCOMPLETE&&(this._kernel.log("Medal: "+this._tools.toCamelCase(Q.string(t),!0)+", "+this._tools.toCamelCase(Q.string(e),!0)),this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave())}},getLevelIsLocked:function(t){if(this.get_isTester())return!1;switch(t[1]){case 0:return!1;case 1:return!this.getMedal(ue.LEVEL_1,pe.BRONZE);case 2:return!this.getMedal(ue.LEVEL_2,pe.BRONZE);case 3:return!this.getMedal(ue.LEVEL_1,pe.BRONZE);case 4:return!this.getMedal(ue.LEVEL_2,pe.BRONZE);case 5:return!this.getMedal(ue.LEVEL_3,pe.BRONZE)}},getHighestLevelType:function(){return this.getLevelIsLocked(ue.LEVEL_6)?this.getLevelIsLocked(ue.LEVEL_5)?this.getLevelIsLocked(ue.LEVEL_4)?this.getLevelIsLocked(ue.LEVEL_3)?this.getLevelIsLocked(ue.LEVEL_2)?ue.LEVEL_1:ue.LEVEL_2:ue.LEVEL_3:ue.LEVEL_4:ue.LEVEL_5:ue.LEVEL_6},getDuration:function(t){switch(t[1]){case 0:return this.durationLevel1;case 1:return this.durationLevel2;case 2:return this.durationLevel3;case 3:return this.durationLevel4;case 4:return this.durationLevel5;case 5:return this.durationLevel6}},setDuration:function(t,e){if(!(this.getDuration(t)<e)){var s="duration"+this._tools.toCamelCase(Q.string(t),!0);this[s]=e}},__class__:Ce});var Ne=function(t){this._duration=40,v.call(this,t)};(s["b10ide.gui.Blinker"]=Ne).__name__=["b10ide","gui","Blinker"],Ne.__super__=v,Ne.prototype=t(v.prototype,{_duration:null,_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._setParentIsVisible(0<Math.cos(120*this._updates)),this._updates>this._duration&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},_disposer:function(){this._setParentIsVisible(!0),v.prototype._disposer.call(this)},_setParentIsVisible:function(t){var e=null;xi.__instanceof(this.get_parent(),f)&&(e=this.get_parent()),null!=e&&null!=e.get_view()&&e.get_view().set_isVisible(t)},__class__:Ne});var ke=function(t,e,s,i,n,r,a,l){null==i&&(i=0),null==s&&(s=0),null==e&&(e=""),this._title=e.toUpperCase(),this._assets=t.assets,D.call(this,t,this._assets.get_buttonUp(),this._assets.get_buttonOver(),140,40,s,i,n,r,a,l)};(s["b10ide.gui.Button"]=ke).__name__=["b10ide","gui","Button"],ke.__super__=D,ke.prototype=t(D.prototype,{_assets:null,_title:null,_text:null,_init:function(){D.prototype._init.call(this);var t=this._kernel.factory.createTextStyle(le.BUTTON);this._text=new Je(this._kernel,130,30,this._title,t),this._text.setPosition(5,13),this.addEntity(this._text,null,!0,5)},onRollOver:function(){this._kernel.audio.start("ButtonOver",Jt.INTERFACE,1,0,.2,0,!0),D.prototype.onRollOver.call(this)},__class__:ke});var Ie=function(t,e,s,i,n,r){null==r&&(r=100),null==n&&(n=100),null==i&&(i=0),null==s&&(s=0),this._selectableManager=e,this._x=s,this._y=i,this._width=n,this._height=r,this._sprite=new createjs.Container,this._selectedBitmap=new createjs.Bitmap(t.assets.getAsset("assets/Blank.png")),this._overBitmap=new createjs.Bitmap(t.assets.getAsset("assets/Blank.png")),this._overBitmap.visible=!1,this._pulseBitmap=new createjs.Bitmap(t.assets.getAsset("assets/Blank.png")),this._pulseBitmap.visible=!1,this._sprite.addChild(this._selectedBitmap),this._sprite.addChild(this._overBitmap),this._sprite.addChild(this._pulseBitmap),v.call(this,t,null,this._sprite)};(s["b10ide.gui.SelectableEntity"]=Ie).__name__=["b10ide","gui","SelectableEntity"],Ie.__super__=v,Ie.prototype=t(v.prototype,{isSelected:null,_selectableManager:null,_x:null,_y:null,_width:null,_height:null,_sprite:null,_selectedBitmap:null,_overBitmap:null,_pulseBitmap:null,_isPrevInsideBox:null,_init:function(){v.prototype._init.call(this),this.isSelected=!1},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),!this.get_isLocked()){this._pulseBitmap.alpha=Math.abs(Math.sin(this._age/2));var e=this._kernel.inputs.mouse,s=e.x>=this._x&&e.x<=this._x+this._width&&e.y>=this._y&&e.y<=this._y+this._height;if(!this._kernel.get_session().isDesktop||e.isMoving){if(!this.isSelected&&s)this.select();else this.isSelected;s&&!this._isPrevInsideBox&&(this._kernel.audio.start("ButtonOver",Jt.INTERFACE,1,0,.2,0,!0),e.set_cursorType(ie.BUTTON)),!s&&this._isPrevInsideBox&&e.set_cursorType(ie.AUTO)}this.isSelected&&s&&e.getIsButtonRelease()&&this.activate(),this._overBitmap.visible=s,this._isPrevInsideBox=s}},_disposer:function(){this._kernel.inputs.mouse.set_cursorType(ie.AUTO),v.prototype._disposer.call(this)},select:function(){this.isSelected||(this._kernel.audio.start("ButtonOver",Jt.INTERFACE,1,0,.2,0,!0),this._selectableManager.select(this),this.isSelected=!0,this._pulseBitmap.visible=!0)},deselect:function(){this.isSelected&&(this.isSelected=!1,this._pulseBitmap.visible=!1)},activate:function(){},get_isLocked:function(){return!1},__class__:Ie});var Ue=function(t,e,s,i,n){null==this._session&&(this._session=t.get_session()),this.type=s,Ie.call(this,t,e,i,n,90,70)};(s["b10ide.gui.ButtonSelectable"]=Ue).__name__=["b10ide","gui","ButtonSelectable"],Ue.__super__=Ie,Ue.prototype=t(Ie.prototype,{type:null,_session:null,_levelVo:null,_init:function(){Ie.prototype._init.call(this),this._overBitmap.image=this._kernel.assets.getAsset("assets/gui/scenes/ButtonSelectableOver.png"),this._pulseBitmap.image=this._kernel.assets.getAsset("assets/gui/scenes/ButtonSelectablePulse.png"),this._levelVo=new $e(this._kernel,this.type),this._sprite.x=this._x-35,this._sprite.y=this._y-6,this._selectify(!1)},select:function(){this.get_isLocked()||(Ie.prototype.select.call(this),this._selectify(!0))},deselect:function(){this.isSelected&&(Ie.prototype.deselect.call(this),this._selectify(!1))},_selectify:function(t){this._sprite.removeChild(this._selectedBitmap),this._selectedBitmap=new createjs.Bitmap(this._kernel.assets.getAsset(t?"assets/gui/scenes/ButtonSelectableSelected.png":"assets/gui/scenes/ButtonSelectableUnselected.png")),this._sprite.addChildAt(this._selectedBitmap,0)},__class__:Ue});var Oe=function(t,e,s,i,n){Ue.call(this,t,e,s,i,n)};(s["b10ide.gui.ButtonLevel"]=Oe).__name__=["b10ide","gui","ButtonLevel"],Oe.__super__=Ue,Oe.prototype=t(Ue.prototype,{_init:function(){Ue.prototype._init.call(this);var t=new Je(this._kernel,80,40,this._levelVo.title,this._kernel.factory.createTextStyle(le.SUBHEAD));t.setPosition(40,12),this.addEntity(t,null,!0);var e=new createjs.Bitmap(this._kernel.assets.getAsset(this._levelVo.gameModeType==he.RACE?"assets/gui/scenes/GameModeRace.png":"assets/gui/scenes/GameModeTimeTrial.png"));if(e.x=85,e.y=18,this._sprite.addChild(e),this.get_isLocked()){var s=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/scenes/ButtonSelectableLocked.png"));this._sprite.addChild(s)}else if(this._session.getMedal(this.type,pe.BRONZE)){var i=new Ze(this._kernel,70,20);i.configure(this._session.getDuration(this.type)),i.setPosition(40,50),this.addEntity(i,null,!0)}},activate:function(){Ue.prototype.activate.call(this),this.get_isLocked()||(this._session.levelType=this.type,this._kernel.scenes.next())},select:function(){this.get_isLocked()||Ue.prototype.select.call(this)},get_isLocked:function(){return this._session.getLevelIsLocked(this.type)},__class__:Oe});var Pe=function(t,e,s,i,n){this.type=s,this._session=t.get_session(),Ie.call(this,t,e,i,n,90,70)};(s["b10ide.gui.ButtonQuality"]=Pe).__name__=["b10ide","gui","ButtonQuality"],Pe.__super__=Ie,Pe.prototype=t(Ie.prototype,{type:null,_session:null,_init:function(){Ie.prototype._init.call(this),this._overBitmap.image=this._kernel.assets.getAsset("assets/gui/scenes/ButtonSelectableOver.png"),this._pulseBitmap.image=this._kernel.assets.getAsset("assets/gui/scenes/ButtonSelectablePulse.png"),this._sprite.x=this._x-35,this._sprite.y=this._y-6;var t=this._kernel.factory.createTextStyle(le.SUBHEAD);t.size=20;var e=new Je(this._kernel,80,40,Q.string(this._kernel.getConfig("gui.scenes.instructions.quality"+this._tools.toCamelCase(Q.string(this.type),!0)+".title")).toUpperCase(),t);e.setPosition(40,12),this.addEntity(e,null,!0);var s=new Je(this._kernel,80,40,Q.string(this._kernel.getConfig("gui.scenes.instructions.quality"+this._tools.toCamelCase(Q.string(this.type),!0)+".message")).toUpperCase(),this._kernel.factory.createTextStyle(le.BODY));s.setPosition(40,40),this.addEntity(s,null,!0),this._selectify(!1)},select:function(){this.get_isLocked()||(Ie.prototype.select.call(this),this._selectify(!0))},deselect:function(){this.isSelected&&(Ie.prototype.deselect.call(this),this._selectify(!1))},_selectify:function(t){this._sprite.removeChild(this._selectedBitmap),this._selectedBitmap=new createjs.Bitmap(this._kernel.assets.getAsset(t?"assets/gui/scenes/ButtonSelectableSelected.png":"assets/gui/scenes/ButtonSelectableUnselected.png")),this._sprite.addChildAt(this._selectedBitmap,0)},activate:function(){if(Ie.prototype.activate.call(this),!this.get_isLocked()){this._session.qualityType=this.type,this.get_parent().addEntity(new Wt(this._kernel,an(nn=this._kernel.scenes,nn.next),1)),this._kernel.audio.start("ButtonOver",Jt.INTERFACE,0,0,.35);for(var t=0,e=this.get_parent().getEntitiesByClass(Pe);t<e.length;){var s=e[t];++t,s.isDisposed||(s.isDisposed=!0,s.set_isActive(!1),s._disposer())}}},__class__:Pe});var Be=function(t,e,s,i,n){this._session=s,Ue.call(this,t,e,s.levelType,i,n)};(s["b10ide.gui.ButtonSession"]=Be).__name__=["b10ide","gui","ButtonSession"],Be.__super__=Ue,Be.prototype=t(Ue.prototype,{_init:function(){if(Ue.prototype._init.call(this),0<this._session.getPercentageComplete()&&this._session.getPercentageComplete()<1){var t=new Je(this._kernel,80,40,Math.round(100*this._session.getPercentageComplete())+"%",this._kernel.factory.createTextStyle(le.SUBHEAD));t.setPosition(40,12),this.addEntity(t,null,!0)}var e=1==this._session.getPercentageComplete()?this._kernel.getConfig("gui.scenes.selectSession.complete"):0==this._session.getPercentageComplete()?this._kernel.getConfig("gui.scenes.selectSession.new"):this._kernel.getConfig("gui.scenes.selectSession.continue"),s=new Je(this._kernel,80,20,e,this._kernel.factory.createTextStyle(le.BODY));s.setPosition(40,50),this.addEntity(s,null,!0)},activate:function(){Ue.prototype.activate.call(this);var t=this._kernel.inputs.keyboard;this._session.setIsTester(t.getIsKeyDown(te.SQUARELEFT)&&t.getIsKeyDown(te.SQUARERIGHT)),this._kernel.set_session(this._session),this._session.getLevelIsLocked(ue.LEVEL_2)?this._kernel.scenes.setScene(re.INSTRUCTIONS):this._kernel.scenes.next()},__class__:Be});var Re=function(t,e,s,i){null==i&&(i=!1),null==s&&(s=100),null==e&&(e=100),this.isFlippedX=!1,this.isFlippedY=!1,this.width=e,this.height=s,this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["b10ide.gui.GuiEntity"]=Re).__name__=["b10ide","gui","GuiEntity"],Re.__interfaces__=[M],Re.__super__=v,Re.prototype=t(v.prototype,{width:null,height:null,x:null,y:null,_context:null,setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,this._context.x=this.x,this.x},set_y:function(t){return this.y=t,this._context.y=this.y,this.y},__class__:Re});var je=function(t,e){this._session=t.get_session(),this._countdown=e,Re.call(this,t,t.factory.width,t.factory.height)};(s["b10ide.gui.Hud"]=je).__name__=["b10ide","gui","Hud"],je.__super__=Re,je.prototype=t(Re.prototype,{_session:null,_levelVo:null,_isTimeTrial:null,_countdown:null,_navigator:null,_speedo:null,_lapLog:null,_lapTimer:null,_radar:null,_replay:null,_replayText:null,_init:function(){Re.prototype._init.call(this),this._levelVo=new $e(this._kernel,this._session.levelType),this._isTimeTrial=this._levelVo.gameModeType==he.TIME_TRIAL,this.addEntity(this._speedo=new Xe(this._kernel),null,!0,1),this._speedo.setPosition(0,0),this.addEntity(this._navigator=new Ye(this._kernel),null,!0,2),this._navigator.setPosition(this._speedo.x+10,this._speedo.y+23),this.addEntity(this._radar=new Ge(this._kernel),null,!0),this._radar.setPosition(5,.5*(this._kernel.factory.height-this._radar.height)),this.addEntity(this._lapLog=new Fe(this._kernel),null,!0,5),this.addEntity(this._lapTimer=new Ve(this._kernel,this._isTimeTrial),null,!0,5);this._lapLog.setPosition(0,210),this._lapTimer.setPosition(this._kernel.factory.width-this._lapTimer.width,210),this.addEntity(this._replay=new ze(this._kernel,"assets/gui/scenes/Fg.png"),null,!0,10),this._replay.get_view().set_isVisible(!1);var t=this._kernel.factory.createTextStyle(le.BODY);t.color=14630433,t.align=ae.CENTER;var e=this._kernel.getConfig("gui.scenes.game.replay"+(this._session.isDesktop?"Keys":"Touch"));this._replayText=new Je(this._kernel,this.width,100,e.toUpperCase(),t),this._replayText.setPosition(0,this._kernel.factory.height-30),this._replayText.get_view().set_isVisible(!1),this.addEntity(this._replayText,null,!0,11)},setAsReplay:function(){this._lapLog.get_view().set_isVisible(!1),this._lapTimer.get_view().set_isVisible(!1),this._radar.get_view().set_isVisible(!1),this._speedo.get_view().set_isVisible(!1),this._replay.get_view().set_isVisible(!0),this._replayText.get_view().set_isVisible(!0)},configureNavigator:function(t,e){this._navigator.configure(t,e)},configureLapLog:function(t,e){this._lapLog.configure(t,e)},configureLapTimer:function(t,e,s){this._lapTimer.configure(t,e,s)},createRadar:function(t){this._radar.create(t)},configureRadar:function(t,e,s){this._radar.configure(t,e,this._navigator.wrongWayCount<1?null:s)},configureSpeedo:function(t){this._speedo.configure(t)},__class__:je});var ze=function(t,e){this._bitmapDataUrl=e,Re.call(this,t)};(s["b10ide.gui.Image"]=ze).__name__=["b10ide","gui","Image"],ze.__super__=Re,ze.prototype=t(Re.prototype,{_bitmapDataUrl:null,_bitmap:null,_init:function(){Re.prototype._init.call(this),this._context.mouseEnabled=!1,this._bitmap=new createjs.Bitmap(this._bitmapDataUrl),this._context.addChild(this._bitmap),this.width=this._bitmap.image.width,this.height=this._bitmap.image.height},__class__:ze});var Fe=function(t){Re.call(this,t,150,100)};(s["b10ide.gui.LapLog"]=Fe).__name__=["b10ide","gui","LapLog"],Fe.__super__=Re,Fe.prototype=t(Re.prototype,{_currentText:null,_totalText:null,_prevCurrentLap:null,_init:function(){Re.prototype._init.call(this),this._context.addChild(new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/LapLogBg.png")));var t=this._kernel.factory.createTextStyle(le.BODY);t.color=0,t.size=20;var e=this._kernel.getConfig("gui.scenes.game.lapLog.lap"),s=new Je(this._kernel,100,30,e,t);s.setPosition(15,40),this.addEntity(s,null,!0);var i=this._kernel.getConfig("gui.scenes.game.lapLog.of"),n=new Je(this._kernel,100,30,i,t);n.setPosition(15,59),this.addEntity(n,null,!0),(t=t.clone()).color=14630433,t.align=ae.CENTER,this._totalText=new Je(this._kernel,20,30,"0",t),this._totalText.setPosition(48,59),this.addEntity(this._totalText,null,!0),(t=t.clone()).size=60,this._currentText=new Je(this._kernel,60,80,"0",t),this._currentText.setPosition(63,25),this.addEntity(this._currentText,null,!0)},configure:function(t,e){t!=this._prevCurrentLap&&(this._totalText.set_text(null==e?"null":""+e),this._currentText.set_text(null==t?"null":""+t),t==e&&this._currentText.addEntity(new Ne(this._kernel)),this._prevCurrentLap=t)},__class__:Fe});var Ve=function(t,e){null==e&&(e=!1),this._isTimeTrial=e,Re.call(this,t,150,100)};(s["b10ide.gui.LapTimer"]=Ve).__name__=["b10ide","gui","LapTimer"],Ve.__super__=Re,Ve.prototype=t(Re.prototype,{_isTimeTrial:null,_timerTotal:null,_timerLast:null,_timerBest:null,_prevTotal:null,_prevLast:null,_prevBest:null,_isFinished:null,_init:function(){Re.prototype._init.call(this),this._isFinished=!1,this._prevTotal=this._prevLast=this._prevBest=0,this._context.addChild(new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/LapTimerBg.png")));var t=this._kernel.factory.createTextStyle(le.BODY);if(t.color=0,t.size=12,this._timerTotal=new Ze(this._kernel,100,30),this._timerTotal.setPosition(30,36),this.addEntity(this._timerTotal,null,!0),this._isTimeTrial){var e=this._kernel.getConfig("gui.scenes.game.lapTimer.remaining");t.color=14630433;var s=new Je(this._kernel,100,30,e,t);s.setPosition(28,45),this.addEntity(s,null,!0),this._timerTotal.setPosition(30,59)}else{this._timerLast=new Ze(this._kernel,60,20,14630433),this._timerLast.setPosition(70,57),this.addEntity(this._timerLast,null,!0),this._timerBest=new Ze(this._kernel,60,20,14630433),this._timerBest.setPosition(70,71),this.addEntity(this._timerBest,null,!0);var i=this._kernel.getConfig("gui.scenes.game.lapTimer.last"),n=new Je(this._kernel,100,30,i,t);n.setPosition(28,this._timerLast.y),this.addEntity(n,null,!0);var r=this._kernel.getConfig("gui.scenes.game.lapTimer.best"),a=new Je(this._kernel,100,30,r,t);a.setPosition(28,this._timerBest.y),this.addEntity(a,null,!0)}},configure:function(t,e,s){null==s&&(s=0),null==e&&(e=0),null==t&&(t=0);this._tools;var i=this._tools.BIG_NUMBER;t=0|(i<t?i:t<0?0:t);this._tools;var n=this._tools.BIG_NUMBER;e=0|(n<e?n:e<0?0:e);this._tools;var r=this._tools.BIG_NUMBER;if(s=0|(r<s?r:s<0?0:s),this._isTimeTrial)return this._timerTotal.configure(t),void(!this._isFinished&&t<=0&&(this._isFinished=!0,this._timerTotal.addEntity(new Ne(this._kernel))));this._timerTotal.configure(t),this._timerLast.configure(e),this._timerBest.configure(s),!this._isFinished&&0<t&&t==this._prevTotal&&(this._isFinished=!0,this._timerTotal.addEntity(new Ne(this._kernel))),s!=this._prevBest&&this._timerBest.addEntity(new Ne(this._kernel)),this._prevTotal=t,this._prevLast=e,this._prevBest=s},__class__:Ve});var Ye=function(t){Re.call(this,t,44,44)};(s["b10ide.gui.Navigator"]=Ye).__name__=["b10ide","gui","Navigator"],Ye.__super__=Re,Ye.prototype=t(Re.prototype,{wrongWayCount:null,_navigator:null,_count:null,_frame:null,_alpha:null,_bitmaps:null,_init:function(){Re.prototype._init.call(this),this._count=0,this._frame=4,this._alpha=0,this.wrongWayCount=0;var t=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/Navigator1.png")),e=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/Navigator2.png")),s=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/Navigator3.png")),i=new createjs.Bitmap(this._kernel.assets.getAsset("assets/Blank.png")),n=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/Navigator3.png"));n.scaleX=-1,n.x=this.width;var r=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/Navigator2.png"));r.scaleX=-1,r.x=this.width;var a=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/Navigator1.png"));a.scaleX=-1,a.x=this.width,this._bitmaps=[null,t,e,s,i,n,r,a]},configure:function(t,e){if(this.wrongWayCount*=.95,null!=t){if(this._alpha+=.5,null!=this._navigator){this._tools;var s=this._alpha;this._navigator.alpha=1<s?1:s<0?0:s}var i=e.x-t.x,n=e.y-t.y,r=.5+Math.atan2(n,i)/(2*Math.PI)-e.angle,a=(this._tools,r),l=4;if(.5<(r=a-1*Math.floor(a/1))&&r<=.65&&(l=1),.65<r&&r<=.9&&(l=2),.9<r&&r<=.975&&(l=3),r<.5&&.35<=r&&(l=7),r<.35&&.1<=r&&(l=6),r<.1&&.025<=r&&(l=5),4==l&&(this._alpha=-3),l!=this._frame){4!=l&&4!=this._frame?this._count--:(this._count=4,this._frame=l),null!=this._navigator&&this._context.removeChild(this._navigator),this._navigator=this._bitmaps[l];this._tools;var o=this._alpha;this._navigator.alpha=1<o?1:o<0?0:o,this._context.addChild(this._navigator)}2<this._alpha&&(1==l||7==l)&&this.wrongWayCount++}else this._context.visible=!1},__class__:Ye});var Qe=function(t){this._assetManager=t.assets,this._session=t.get_session(),Bt.call(this,t,40,40,null,this._assetManager.overlayBackUp,this._assetManager.overlayBackOver,this._assetManager.overlayMuteUp,this._assetManager.overlayMuteOver,this._assetManager.overlayUnmuteUp,this._assetManager.overlayUnmuteOver,this._assetManager.overlayPauseUp,this._assetManager.overlayPauseOver,this._assetManager.overlayUnpauseUp,this._assetManager.overlayUnpauseOver,4,0,.65)};(s["b10ide.gui.Overlay"]=Qe).__name__=["b10ide","gui","Overlay"],Qe.__super__=Bt,Qe.prototype=t(Bt.prototype,{_assetManager:null,_session:null,_init:function(){Bt.prototype._init.call(this);var t=this._kernel.factory.width-45;this.positionButton(ne.MUTE,-100,5),this.positionButton(ne.UNMUTE,-100,5),this.positionButton(ne.PAUSE,t,5),this.positionButton(ne.UNPAUSE,-100,5),this.positionButton(ne.BACK,-100,5),this._flashView.set_isVisible(!0),this.set_pauseEntity(new We(this._kernel))},flash:function(t,e,s,i){null==i&&(i=16777215),null==s&&(s=1),null==e&&(e=!0),this._flashContext.compositeOperation=0==i?"source-over":"lighter",Bt.prototype.flash.call(this,t,e,s,i)},__class__:Qe});var He=function(t,e){this._type=e,Re.call(this,t,160,320)};(s["b10ide.gui.Panel"]=He).__name__=["b10ide","gui","Panel"],He.__super__=Re,He.prototype=t(Re.prototype,{_type:null,_init:function(){var t;switch(Re.prototype._init.call(this),this._type){case"Session":t=this._kernel.assets.getAsset("assets/gui/scenes/PanelBgSession.png");break;case"TA":t=this._kernel.assets.getAsset("assets/gui/scenes/PanelBgTA.png");break;case"TB":t=this._kernel.assets.getAsset("assets/gui/scenes/PanelBgTB.png");break;case"TC":t=this._kernel.assets.getAsset("assets/gui/scenes/PanelBgTC.png");break;default:t=this._kernel.assets.getAsset("assets/gui/scenes/PanelBgTC.png")}switch(this._context.addChild(new createjs.Bitmap(t)),this._type){case"TA":t=this._kernel.assets.getAsset("assets/gui/scenes/PanelBgTrackTA.png");break;case"TB":t=this._kernel.assets.getAsset("assets/gui/scenes/PanelBgTrackTB.png");break;case"TC":t=this._kernel.assets.getAsset("assets/gui/scenes/PanelBgTrackTC.png");break;default:t=null}null!=t&&this._context.addChild(new createjs.Bitmap(t)),this._context.addChild(new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/scenes/PanelFg.png")))},__class__:He});var We=function(t){this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["b10ide.gui.PauseMenu"]=We).__name__=["b10ide","gui","PauseMenu"],We.__super__=v,We.prototype=t(v.prototype,{_context:null,_fullScreenButton:null,_isFullScreenClicked:null,_prevIsKernelActive:null,_init:function(){var t=this;v.prototype._init.call(this);var e=(this._kernel.factory.width-140)/2,s=(this._kernel.factory.height-200)/2;s+=30;this.addEntity(new ze(this._kernel,"assets/gui/Credits.png"),null,!0,10),this.addEntity(new ke(this._kernel,this._kernel.getConfig("gui.buttons.unpause"),e,s,null,function(){t._kernel.overlay.activateButton(ne.UNPAUSE)}),Xt.ALWAYS,!0,1),this.addEntity(new ke(this._kernel,this._kernel.getConfig("gui.buttons.audio"),e,s+=50,null,function(){t._kernel.overlay._wasMute=!t._kernel.overlay._wasMute,t._kernel.overlay.activateButton(ne.UNPAUSE)}),Xt.ALWAYS,!0,1),this.addEntity(this._fullScreenButton=new ke(this._kernel,this._kernel.getConfig("gui.buttons.fullScreen"),e,s+=50,null,function(){t._stageClick(),t._kernel.overlay.activateButton(ne.UNPAUSE)}),Xt.ALWAYS,!0,1),this.addEntity(new ke(this._kernel,this._kernel.getConfig("gui.buttons.back"),e,s+=50,null,function(){t._kernel.overlay.activateButton(ne.UNPAUSE),t._kernel.scenes.back()}),Xt.DEFEND,!0,1),this._kernel._stage.addEventListener("click",an(this,this._stageClick),!0)},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),this._isFullScreenClicked=!1,this._prevIsKernelActive!=this._kernel.isActive)for(var e=0,s=this.getEntitiesByClass(ke);e<s.length;){s[e];++e}this._prevIsKernelActive=this._kernel.isActive},_stageClick:function(t){this._kernel.isActive||this._isFullScreenClicked||this._fullScreenButton.isOver&&(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen(),this._isFullScreenClicked=!0,null!=t&&t.stopPropagation())},__class__:We});var Ge=function(t){Re.call(this,t,128,128)};(s["b10ide.gui.Radar"]=Ge).__name__=["b10ide","gui","Radar"],Ge.__super__=Re,Ge.prototype=t(Re.prototype,{_track:null,_map:null,_nodePlayer:null,_nodeOpponent:null,_nodeWaypoint:null,_init:function(){Re.prototype._init.call(this),this._map=new createjs.Bitmap(this._kernel.assets.getAsset("assets/Blank.png")),this._context.addChild(this._map),this._nodePlayer=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/RadarNodePlayer.png")),this._nodeOpponent=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/RadarNodeOpponent.png")),this._nodeWaypoint=new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/RadarNodeWaypoint.png"))},create:function(t){this._track=t,this._map.image=this._track.vo.textureRadar},configure:function(t,e,s){null!=this._nodePlayer.parent&&this._nodePlayer.parent.removeChild(this._nodePlayer),null!=this._nodeOpponent.parent&&this._nodeOpponent.parent.removeChild(this._nodeOpponent),null!=this._nodeWaypoint.parent&&this._nodeWaypoint.parent.removeChild(this._nodeWaypoint);var i=this.width/this._track.width;null!=s&&(this._context.addChild(this._nodeWaypoint),this._nodeWaypoint.x=s.x*i-12,this._nodeWaypoint.y=s.y*i-12),null!=e&&(this._context.addChild(this._nodeOpponent),this._nodeOpponent.x=e.x*i-12,this._nodeOpponent.y=e.y*i-12),this._context.addChild(this._nodePlayer),this._nodePlayer.x=t.x*i-12,this._nodePlayer.y=t.y*i-12},__class__:Ge});var Ke=function(t,e){null==e&&(e=[]),this.selectableEntities=e,v.call(this,t)};(s["b10ide.gui.SelectableManager"]=Ke).__name__=["b10ide","gui","SelectableManager"],Ke.__super__=v,Ke.prototype=t(v.prototype,{selectableEntities:null,verticalShunt:null,_selectedIndex:null,_prevSelectedIndex:null,_isDirty:null,_init:function(){v.prototype._init.call(this),this._selectedIndex=0,this._prevSelectedIndex=0,this.verticalShunt=0,this._isDirty=!0},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),0!=this.selectableEntities.length){this._kernel.inputs.joypad.getButtonDownDuration(qt.LEFT,!1)%8==1&&this._selectedIndex--,this._kernel.inputs.joypad.getButtonDownDuration(qt.RIGHT,!1)%8==1&&this._selectedIndex++,this._kernel.inputs.joypad.getButtonDownDuration(qt.UP,!1)%8==1&&(this._selectedIndex-=this.verticalShunt),this._kernel.inputs.joypad.getButtonDownDuration(qt.DOWN,!1)%8==1&&(this._selectedIndex+=this.verticalShunt);this._tools;var e,s=this._selectedIndex,i=this.selectableEntities.length;if(0==i)e=s;else{var n=s;e=n-Math.floor(n/i)*i}this._selectedIndex=0|e,this._isDirty=1==this._updates||this._prevSelectedIndex!=this._selectedIndex,this._isDirty&&(this.selectableEntities[this._prevSelectedIndex].deselect(),this.selectableEntities[this._selectedIndex].get_isLocked()&&(this._selectedIndex=this._prevSelectedIndex),this.selectableEntities[this._selectedIndex].select()),this._prevSelectedIndex=this._selectedIndex,this._kernel.inputs.keyboard.getIsKeyRelease(this._kernel.factory.keyNext)&&this.selectableEntities[this._selectedIndex].activate()}},select:function(t){this.deselect();for(var e=0,s=this.selectableEntities.length;e<s;){var i=e++;this.selectableEntities[i]==t&&(this._selectedIndex=i)}},deselect:function(){for(var t=0,e=this.selectableEntities;t<e.length;){var s=e[t];++t,s.isSelected&&s.deselect()}},__class__:Ke});var Xe=function(t){Re.call(this,t,150,100)};(s["b10ide.gui.Speedo"]=Xe).__name__=["b10ide","gui","Speedo"],Xe.__super__=Re,Xe.prototype=t(Re.prototype,{_text1:null,_text2:null,_text3:null,_kmh:null,_init:function(){Re.prototype._init.call(this),this._context.addChild(new createjs.Bitmap(this._kernel.assets.getAsset("assets/gui/hud/SpeedoBg.png")));var t=this._kernel.factory.createTextStyle(le.BODY);t.size=20,t.align=ae.CENTER;var e=60;this._text1=new Je(this._kernel,30,30,"0",t),this._text1.setPosition(e,24),this.addEntity(this._text1,null,!0),this._text2=new Je(this._kernel,30,30,"0",t),this._text2.setPosition(e+=17,24),this.addEntity(this._text2,null,!0),this._text3=new Je(this._kernel,30,30,"0",t),this._text3.setPosition(e+=17,24),this.addEntity(this._text3,null,!0);var s=this._kernel.factory.createTextStyle(le.BODY);s.size=12,s.color=14630433,s.align=ae.LEFT,this._kmh=new Je(this._kernel,40,this.height,Q.string(this._kernel.getConfig("gui.scenes.game.speedo")),s),this._kmh.setPosition(78,45),this.addEntity(this._kmh,null,!0)},configure:function(t){for(var e=null==t?"null":""+t;e.length<3;)e="0"+e;this._text1.set_text($.substr(e,0,1)),this._text2.set_text($.substr(e,1,1)),this._text3.set_text($.substr(e,2,1))},__class__:Xe});var Je=function(t,e,s,i,n,r,a,l){null==l&&(l=1),null==a&&(a=!1),null==r&&(r=!1),null==i&&(i=""),i=y.replace(i,"<BR/>","\n"),i=y.replace(i,"<br/>","\n"),Ht.call(this,t,e,s,i,n,r,a),this.set_alpha(l)};(s["b10ide.gui.Text"]=Je).__name__=["b10ide","gui","Text"],Je.__super__=Ht,Je.prototype=t(Ht.prototype,{_init:function(){Ht.prototype._init.call(this),this._textField.textBaseline="alphabetic",this._textField.y+=this.textStyle.size},set_alpha:function(t){return this._context.alpha=t},__class__:Je});var Ze=function(t,e,s,i,n){null==s&&(s=30),null==e&&(e=100),this._duration=n,this._color=i,Kt.call(this,t,e,s)};(s["b10ide.gui.TimerDisplay"]=Ze).__name__=["b10ide","gui","TimerDisplay"],Ze.__super__=Kt,Ze.prototype=t(Kt.prototype,{_color:null,_duration:null,_text1:null,_text2:null,_text3:null,_text4:null,_text5:null,_text6:null,_text7:null,_init:function(){Kt.prototype._init.call(this);var t=this.width/100,e=this._kernel.factory.createTextStyle(le.BODY);e.color=this._color,e.size=20*t,e.align=ae.CENTER,e.clone().align=ae.CENTER;var s=17*t,i=7*t,n=8*t,r=(this.width,3*t-n);this._text1=new Je(this._kernel,s+n,this.height,"",e),this._text1.setPosition(r,0),this.addEntity(this._text1,null,!0,1),r+=s,this._text2=new Je(this._kernel,s+n,this.height,"",e),this._text2.setPosition(r,0),this.addEntity(this._text2,null,!0,1),r+=s,this._text3=new Je(this._kernel,i+.85*n,this.height,":",e),this._text3.setPosition(r,0),this.addEntity(this._text3,null,!0,1),r+=i,this._text4=new Je(this._kernel,s+n,this.height,"",e),this._text4.setPosition(r,0),this.addEntity(this._text4,null,!0,1),r+=s,this._text5=new Je(this._kernel,s+n,this.height,"",e),this._text5.setPosition(r,0),this.addEntity(this._text5,null,!0,1),r+=s,this._text6=new Je(this._kernel,i+.85*n,this.height,".",e),this._text6.setPosition(r,0),this.addEntity(this._text6,null,!0,1),r+=i,this._text7=new Je(this._kernel,s+n,this.height,"",e),this._text7.setPosition(r,0),this.addEntity(this._text7,null,!0,1),this.configure(this._duration)},configure:function(t){null==t&&(t=0),this._duration=t;this._tools;var e=this._duration-1,s=this._tools.BIG_NUMBER,i=0|(s<e?s:e<0?0:e),n=this._tools.convertUpdatesToFormattedTime(i,":");this._text1.set_text($.substr(n,0,1)),this._text2.set_text($.substr(n,1,1)),this._text4.set_text($.substr(n,3,1)),this._text5.set_text($.substr(n,4,1)),this._text7.set_text($.substr(n,6,1))},__class__:Ze});var qe=function(t,e){this._levelType=e,Re.call(this,t,t.factory.width,t.factory.height)};(s["b10ide.gui.Tip"]=qe).__name__=["b10ide","gui","Tip"],qe.__super__=Re,qe.prototype=t(Re.prototype,{_levelType:null,_levelVo:null,_init:function(){Re.prototype._init.call(this),this._levelVo=new $e(this._kernel,this._levelType);var t=this._kernel.factory.createTextStyle(le.BODY);t.color=14630433,t.align=ae.CENTER;var e=this._kernel.getConfig("gui.scenes.instructions.tip"+(this._kernel.get_session().isDesktop?"Keys":"Touch")),s=new Je(this._kernel,this.width,100,e.toUpperCase(),t);s.setPosition(0,this.height-30),this.addEntity(s,null,!0,10);var i=new ze(this._kernel,"assets/gui/scenes/GameMode"+(this._levelVo.gameModeType==he.RACE?"Race":"TimeTrial")+".png");i.setPosition((this.width-24)/2,18),this.addEntity(i,null,!0,11);var n=this._kernel.factory.createTextStyle(le.BODY);n.size=14,n.align=ae.RIGHT;var r=Q.string(this._kernel.getConfig("gui.gameModes."+this._tools.toCamelCase(Q.string(this._levelVo.gameModeType))+".title")).toUpperCase(),a=new Je(this._kernel,this.width/2-20,30,r,n);a.setPosition(0,19),this.addEntity(a,null,!0,12);var l=this._kernel.factory.createTextStyle(le.BODY);l.size=14,l.color=14630433,l.align=ae.LEFT;var o=Q.string(this._kernel.getConfig("gui.gameModes."+this._tools.toCamelCase(Q.string(this._levelVo.gameModeType))+".subtitle")).toUpperCase(),_=new Je(this._kernel,this.width/2-20,30,o,l);_.setPosition(this.width/2+20,19),this.addEntity(_,null,!0,12);var h=new ze(this._kernel,"assets/gui/scenes/Tip"+(this._kernel.get_session().isDesktop?"Keys":"Touch")+".png");h.setPosition((this.width-256)/2,this.height-150),this.addEntity(h,null,!0,13)},__class__:qe});var $e=function(t,e){this._kernel=t,this._session=this._kernel.get_session(),this.type=e,null==this.type&&(this.type=ue.LEVEL_1),this.trackType=this._getTrackType(),this.playerType=this._getPlayerType(),this.opponentType=this._getOpponentType(),this.gameModeType=this._getGameModeType(),this.lapTotal=this._getLapTotal(),this.duration=this._getDuration(),this.title=this._getTitle(),this.audioIdMusic=this._getAudioIdMusic()};(s["b10ide.levels.LevelVo"]=$e).__name__=["b10ide","levels","LevelVo"],$e.prototype={type:null,trackType:null,playerType:null,opponentType:null,gameModeType:null,lapTotal:null,duration:null,title:null,audioIdMusic:null,_kernel:null,_session:null,_getTrackType:function(){switch(this.type[1]){case 0:return we.TA;case 1:return we.TB;case 2:return we.TC;case 3:return we.TA;case 4:return we.TB;case 5:return we.TC}},_getPlayerType:function(){return ye.UB},_getOpponentType:function(){this.type;return ye.UA},_getGameModeType:function(){switch(this.type[1]){case 3:case 4:case 5:return he.RACE;default:return he.TIME_TRIAL}},_getLapTotal:function(){switch(this.type[1]){case 3:case 4:case 5:return 5;default:return 2}},_getDuration:function(){if(this.gameModeType!=he.TIME_TRIAL)return 0;switch(this.type[1]){case 0:return 0|Math.min(this._session.getDuration(this.type),55*this._kernel.factory.targetFramerate+1);case 1:case 2:return 0|Math.min(this._session.getDuration(this.type),65*this._kernel.factory.targetFramerate+1);default:return 0}},_getTitle:function(){switch(this.type[1]){case 0:return this._kernel.getConfig("gui.levels.level1");case 1:return this._kernel.getConfig("gui.levels.level2");case 2:return this._kernel.getConfig("gui.levels.level3");case 3:return this._kernel.getConfig("gui.levels.level4");case 4:return this._kernel.getConfig("gui.levels.level5");case 5:return this._kernel.getConfig("gui.levels.level6")}},_getAudioIdMusic:function(){switch(this.type[1]){case 0:case 3:return"MusicTA";case 1:case 4:return"MusicTB";case 2:case 5:return"MusicTC"}},__class__:$e};var ts=function(t,e,s,i,n){null==n&&(n=0),null==i&&(i=0),Se.call(this,t,e,s,i,n)};(s["b10ide.locations.Camera"]=ts).__name__=["b10ide","locations","Camera"],ts.__super__=Se,ts.prototype=t(Se.prototype,{fov:null,roll:null,motionBlur:null,isReverseAngle:null,_moveSpeed:null,_moveAngle:null,_moveResistance:null,_dx:null,_dy:null,_dz:null,_joypad:null,_target:null,_shake:null,_init:function(){Se.prototype._init.call(this),this.set_fov(10),this.roll=0,this.set_motionBlur(0),this._dx=this._dy=this._dz=0,this._moveSpeed=2,this._moveAngle=.02,this._moveResistance=.9,this._shake=0,this._joypad=this._kernel.inputs.joypad,this.isReverseAngle=!1},_updater:function(t){null==t&&(t=0);this.set_roll(.25*this.roll);this.set_motionBlur(.75*this.motionBlur),this._shake*=.5,null!=this._target?this._followTarget():this._move();var e;this._tools,this._tools;e=this._updates%2!=0?1:0;var s=5*this._shake*(2*e-1),i=10<s?10:s<-10?-10:s;this.x+=i,this.y+=i,this.z+=i;this._tools;var n=this.z;this.z=100<n?100:n<15?15:n,Se.prototype._updater.call(this,t);this._tools;var r,a=this.angle,l=a;r=l-1*Math.floor(l/1),this.set_angle(r)},_move:function(){if(this._joypad.getIsButtonDown(qt.RIGHT)){this.set_angle(this.angle+this._moveAngle);this.set_roll(this.roll-1)}if(this._joypad.getIsButtonDown(qt.LEFT)){this.set_angle(this.angle-this._moveAngle);this.set_roll(this.roll+1)}var t=Math.sin(this.angle*Math.PI*2),e=Math.cos(this.angle*Math.PI*2);this._joypad.getIsButtonDown(qt.UP)&&(this._dx+=e*this._moveSpeed,this._dy+=t*this._moveSpeed),this._joypad.getIsButtonDown(qt.DOWN)&&(this._dx-=e*this._moveSpeed,this._dy-=t*this._moveSpeed),this._joypad.getIsButtonDown(qt.FIRE)?this._dz+=.25*this._moveSpeed:this._dz-=.5,this._dx*=this._moveResistance,this._dy*=this._moveResistance,this._dz=Math.min(this._dz,10),this.x+=this._dx,this.y+=this._dy,this.z+=this._dz,100<this.z&&(this._dz=0),this.z<15&&(this.z=15,Math.abs(this._dz)>this._moveSpeed?this._dz*=-.25:this._dz=0)},set_fov:function(t){this._tools;return this.fov=150<t?150:t<1?1:t,this.fov},set_roll:function(t){this._tools,this._tools;var e=.9*this.roll+.1*t;return this.roll=.35<e?.35:e<-.35?-.35:e,Math.abs(this.roll)<.01&&(this.roll=0),this.roll},set_motionBlur:function(t){var e;if(this._kernel.isEyeCandy){this._tools;e=1<t?1:t<0?0:t}else e=0;return this.motionBlur=e,Math.abs(this.motionBlur)<.01&&(this.motionBlur=0),this.motionBlur},setTarget:function(t,e,s){null==s&&(s=!1),null==e&&(e=!1),this._target=t,this.isReverseAngle=e,s&&(this.x=t.x,this.y=t.y,this.set_angle(t.angle+.0625))},_followTarget:function(){var t=.5+-.15*this.motionBlur,e=(this._tools,t*(this._updates/100));t=t<e?t:e<.05?.05:e,this._target.isFinished&&(t=.025);var s=this._target.angle,i=40-30*this._target.get_speedPerc();if(this.isReverseAngle||this._target.get_isReversing()){this._tools;var n=s+.5,r=n;s=r-1*Math.floor(r/1),i=420,s+=.25*(Math.sin(this._updates/80)-.5)}else s+=.025*(Math.sin(this._updates/40)-.5)*(1-this._target.get_speedPerc());i*=.125;var a=s+.5,l=Math.sin(a*Math.PI*2),o=Math.cos(a*Math.PI*2)*i,_=l*i,h=25;this._target.isFinished&&(h+=50);this._tools;this.x=this.x*(1-t)+(this._target.x+o)*t;this._tools;this.y=this.y*(1-t)+(this._target.y+_)*t;this._tools;this.z=this.z*(1-t)+(this._target.z+h)*t,a-=.5;this._tools;var u=this.angle+.5-a,c=u,p=c-1*Math.floor(c/1)-.5;this.set_angle(this.angle-.25*p);this.set_roll(this.roll+p)},shake:function(t){this._shake+=Math.min(Math.abs(this._shake)+Math.abs(t),100);this._tools;var e=this._shake;this._shake=10<e?10:e<0?0:e},__class__:ts});var es=function(t,e){this._world3d=e,v.call(this,t)};(s["b10ide.locations.Effects"]=es).__name__=["b10ide","locations","Effects"],es.__super__=v,es.prototype=t(v.prototype,{_world3d:null,_afterburners:null,_afterburnerIndex:null,_afterburnerMax:null,_afterburnersToChange:null,_init:function(){v.prototype._init.call(this),this._afterburners=[],this._afterburnerIndex=0,this._afterburnerMax=100,this._afterburnersToChange=[]},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t);for(var e=0,s=this._afterburnersToChange;e<s.length;){var i=s[e];++e,2<=i._updates&&(i.vo.sprite.children[0].visible=!1,i.vo.sprite.children[1].visible=!0)}for(var n=0,r=this._afterburnersToChange;n<r.length;){var a=r[n];++n,2<=a._updates&&$.remove(this._afterburnersToChange,a)}},addAfterburner:function(t,e,s,i,n,r,a,l){if(this._kernel.isEyeCandy){var o;if(this._afterburners.length<this._afterburnerMax)o=this._world3d.addScenery(ge.AFTERBURNER,t,e,s),this._afterburners.push(o);else{this._tools;var _,h=this._afterburnerIndex+1,u=this._afterburnerMax;if(0==u)_=h;else{var c=h;_=c-Math.floor(c/u)*u}this._afterburnerIndex=0|_,o=this._afterburners[this._afterburnerIndex]}o.x=t,o.y=e,o.z=s,o.vo.life=50*i|0,o.vo.sprite.children[0].visible=!0,o.vo.sprite.children[1].visible=!1,o._updates=0,this._afterburnersToChange.push(o)}},__class__:es});var ss=function(t,e,s,i,n){null==n&&(n=!0),this._world3d=e,this._texture=s,this._mist=i,this._isHorizon=n,this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["b10ide.locations.Horizon"]=ss).__name__=["b10ide","locations","Horizon"],ss.__super__=v,ss.prototype=t(v.prototype,{_context:null,_world3d:null,_texture:null,_mist:null,_isHorizon:null,_horizonContainer:null,_width2:null,_bitmap1:null,_bitmap2:null,_maxX:null,_init:function(){if(v.prototype._init.call(this),this._isHorizon){this._horizonContainer=new createjs.Container,this._width2=this._world3d.width/2|0,this._bitmap1=new createjs.Bitmap(this._texture.image),this._bitmap2=new createjs.Bitmap(this._texture.image),this._maxX=this._texture.image.width,this._bitmap2.x=-this._maxX,this._horizonContainer.addChild(this._bitmap1),this._horizonContainer.addChild(this._bitmap2),this._horizonContainer.cache(-this._maxX,0,2*this._maxX,this._texture.image.height),this._context.addChild(this._horizonContainer);var t=new createjs.Shape;t.graphics.rect(0,0,this._world3d.width,this._world3d.height),this._context.mask=t}this._context.addChild(this._mist)},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),this._isHorizon){this._tools;var e,s=this._world3d.camera.angle+.3,i=s;e=i-1*Math.floor(i/1);var n,r=(0|Math.ceil(e*this._maxX))+this._width2,a=(this._tools,-r),l=this._maxX;if(0==l)n=a;else{var o=a;n=o-Math.floor(o/l)*l}r=0|n,this._horizonContainer.x=r}},__class__:ss});var is=function(t,e,s,i,n,r){null==r&&(r=1),null==n&&(n=0),null==i&&(i=0),this._world3d=e,this._horizonWidth=s,this._x=i,this._y=n,this._brightness=r,this._sprite=new createjs.Container,v.call(this,t,null,this._sprite)};(s["b10ide.locations.Lensflare"]=is).__name__=["b10ide","locations","Lensflare"],is.__super__=v,is.prototype=t(v.prototype,{_world3d:null,_horizonWidth:null,_x:null,_y:null,_brightness:null,_max:null,_lenses:null,_hyp:null,_sprite:null,_init:function(){v.prototype._init.call(this);this._tools;var t=this._brightness;this._brightness=1<t?1:t<0?0:t,this._hyp=Math.sqrt(this._world3d.width*this._world3d.width+this._world3d.height*this._world3d.height),this._max=7,this._lenses=[];for(var e=[-.2,0,.25,.35,.55,.65,1],s=1,i=this._max+1;s<i;){var n=s++,r=new ns,a=new createjs.Bitmap(this._kernel.assets.getAsset("assets/locations/lensflare/Lensflare"+n+".png"));r.dev=e[n-1],r.mc=a,r.offset=.5*a.image.width|0,this._sprite.addChild(a),a.scaleX=a.scaleY=this._brightness,a.alpha=.75*this._brightness,this._lenses.push(r)}this._sprite.compositeOperation="lighter"},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),this._kernel.isEyeCandy){this._tools;var e,s=this._world3d.camera.angle+.3,i=s;e=i-1*Math.floor(i/1);this._tools;var n,r=this._x-e*this._horizonWidth,a=this._horizonWidth;if(0==a)n=r;else{var l=r;n=l-Math.floor(l/a)*a}var o=2*(n-.5*this._world3d.width),_=2*(this._y-.5*this._world3d.height),h=Math.sqrt(o*o+_*_)/this._hyp;if(1<h)this._sprite.visible=!1;else{this._sprite.visible=!0;for(var u=Math.min(2*(this._brightness-h*this._brightness),1),c=0,p=this._lenses;c<p.length;){var d=p[c];++c,d.mc.x=n+Math.round(d.dev*-o)-d.offset,d.mc.y=this._y+Math.round(d.dev*-_)-d.offset,d.mc.alpha=u}}}},__class__:is});var ns=function(){};(s["b10ide.locations._Lensflare._HelperLens"]=ns).__name__=["b10ide","locations","_Lensflare","_HelperLens"],ns.prototype={dev:null,mc:null,offset:null,__class__:ns};var rs=function(t,e){this._kernel=t,this.type=e,this.title=this._getTitle(),this.lensflarePositions=this._getLensflaresPositions(),this.textureHorizon=this._getTextureHorizon(),this.textureRadial=this._getTextureRadial(),this.textureMist=this._getTextureMist(),this.bgColor=this._getBgColor(),this.slip=this._getSlip(),this.bloomAlpha=this._getBloomAlpha(),this.bloomThreshold=this._getBloomThreshold()};(s["b10ide.locations.LocationVo"]=rs).__name__=["b10ide","locations","LocationVo"],rs.prototype={type:null,title:null,lensflarePositions:null,textureHorizon:null,textureRadial:null,textureMist:null,bgColor:null,slip:null,bloomAlpha:null,bloomThreshold:null,_kernel:null,_getTitle:function(){return""},_getLensflaresPositions:function(){var t=[];this.type;t.push(new as(390,75,1,0));for(var e=0;e<t.length;){var s=t[e];++e,s.set_angle(this._kernel.tools.range(.5+s.x/2800,0,1))}return t},_getTextureHorizon:function(){var t;switch(this.type[1]){case 0:t=this._kernel.assets.getAsset("assets/locations/sky/LAHorizon.jpg");break;case 1:t=this._kernel.assets.getAsset("assets/locations/sky/LBHorizon.jpg");break;case 2:t=this._kernel.assets.getAsset("assets/locations/sky/LCHorizon.jpg")}return new createjs.Bitmap(t)},_getTextureMist:function(){var t;switch(this.type[1]){case 0:t=this._kernel.assets.getAsset("assets/locations/sky/LAMist.png");break;case 1:t=this._kernel.assets.getAsset("assets/locations/sky/LBMist.png");break;case 2:t=this._kernel.assets.getAsset("assets/locations/sky/LCMist.png")}return new createjs.Bitmap(t)},_getTextureRadial:function(){var t;switch(this.type[1]){case 0:t=this._kernel.assets.getAsset("assets/locations/sky/LARadial.png");break;case 1:t=this._kernel.assets.getAsset("assets/locations/sky/LBRadial.png");break;case 2:t=this._kernel.assets.getAsset("assets/locations/sky/LCRadial.png")}return new createjs.Bitmap(t)},_getBgColor:function(){var t;switch(this.type[1]){case 0:t=6184542;break;case 1:t=528679;break;case 2:t=6184542}return t},_getSlip:function(){var t;switch(this.type[1]){case 0:case 1:case 2:t=1}return t},_getBloomAlpha:function(){var t;switch(this.type[1]){case 0:t=.5;break;case 1:t=.75;break;case 2:t=.5}return t},_getBloomThreshold:function(){var t;switch(this.type[1]){case 0:t=200;break;case 1:t=150;break;case 2:t=225}return t},__class__:rs};var as=function(t,e,s,i){null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.z=s,this.set_angle(i)};(s["b10ide.locations._LocationVo._HelperPosition"]=as).__name__=["b10ide","locations","_LocationVo","_HelperPosition"],as.__interfaces__=[De],as.prototype={x:null,y:null,z:null,angle:null,set_angle:function(t){return this.angle=t,this.angle},__class__:as};var ls=function(t,e,s,i,n,r,a,l){null==l&&(l=!1),null==a&&(a=0),null==r&&(r=1),this._world3d=e,this._texture=s,this._radial=i,this._horizonY=n,this._scaler=r,this._bgColor=a,this._isLowMemory=l,this._context=new createjs.Container,v.call(this,t,null,this._context)};(s["b10ide.locations.Plane"]=ls).__name__=["b10ide","locations","Plane"],ls.__super__=v,ls.prototype=t(v.prototype,{_world3d:null,_texture:null,_radial:null,_horizonY:null,_scaler:null,_bgColor:null,_isLowMemory:null,_context:null,_textureCanvas:null,_textureContext2d:null,_canvas:null,_context2d:null,_width:null,_height:null,_init:function(){v.prototype._init.call(this),this._width=this._world3d.width,this._height=this._world3d.height,this._textureCanvas=window.document.createElement("canvas"),this._textureCanvas.width=this._isLowMemory?384:1024,this._textureCanvas.height=this._isLowMemory?384:1024,this._textureContext2d=this._textureCanvas.getContext("2d",null),this._textureContext2d.imageSmoothingEnabled=1==this._scaler&&!this._isLowMemory,this._isLowMemory&&(this._textureContext2d.webkitImageSmoothingEnabled=!1),this._context.cache(0,0,this._width,this._height),this._canvas=this._context.cacheCanvas,this._context2d=this._canvas.getContext("2d",null);var t=y.hex(this._bgColor,6);this._context2d.fillStyle="#"+t,this._context2d.imageSmoothingEnabled=!1},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._textureCanvas.width=this._textureCanvas.width,this._textureContext2d=this._textureCanvas.getContext("2d",null),this._textureContext2d.save(),this._textureContext2d.translate(Math.round(this._textureCanvas.width/2),Math.round(this._textureCanvas.height)),this._textureContext2d.rotate((1-this._world3d.camera.angle-.25)*Math.PI*2),this._textureContext2d.translate(Math.round(-this._world3d.camera.x),Math.round(-this._world3d.camera.y)),this._textureContext2d.scale(1.40625,1.40625),this._textureContext2d.drawImage(this._texture.image,0,0),this._textureContext2d.restore(),this._isLowMemory&&this._textureContext2d.drawImage(this._radial.image,0,0),this._context2d.fillRect(0,0,this._width,this._height);for(var e=this._world3d.camera,s=Math.ceil(4*this._scaler),i=this._height-s,n=0,r=0,a=0,l=this._textureCanvas.width,o=Math.round(.5*l),_=2*e.z+this._textureCanvas.height,h=0,u=0,c=0,p=0,d=0,g=0,w=0,y=0,f=1;;){n=i-this._horizonY,r=e.z/n,a=Math.round(this._width*r),h=Math.round(_-this._world3d.falloff*r),u=o-a,c=2*a,p=Math.round(s*r*4*this._scaler*.5),d=0,g=i,w=this._width,y=s,u<0&&(f=l/c,c=l,w=w*f|0,d=Math.round(.5*(this._width-w)),u=0);try{this._context2d.drawImage(this._textureCanvas,u,h,c,p,d,g,w,y)}catch(t){}if(!((i-=s=Math.ceil(4*(n/(this._height-this._horizonY)+.001)*this._scaler))>=this._horizonY))break}},__class__:ls});var os=function(){};(s["b10ide.tracks.IScenery"]=os).__name__=["b10ide","tracks","IScenery"],os.__interfaces__=[De],os.prototype={type:null,__class__:os};var _s=function(t,e,s,i,n,r,a,l,o,_,h){if(null==o&&(o=0),null==l&&(l=0),this._world3d=e,this._physics=s,this._heightGround=i,this.type=n,null==_&&(_=ce.LA),this._locationType=_,this._reference=h,21==n[1]){var u=n[2];this._reference=u}Se.call(this,t,r,a,l,o)};(s["b10ide.locations.Scenery"]=_s).__name__=["b10ide","locations","Scenery"],_s.__interfaces__=[At,os],_s.__super__=Se,_s.prototype=t(Se.prototype,{type:null,vo:null,priority:null,sprite:null,displacedX:null,pan:null,depth:null,isVisible:null,_world3d:null,_physics:null,_heightGround:null,_locationType:null,_reference:null,_isAfterburner:null,_isWide:null,_init:function(){Se.prototype._init.call(this),this.vo=new us(this._kernel,this.type,this._locationType),this.sprite=new createjs.Container,this.sprite.mouseEnabled=!1,this.vo.sprite.x=this.vo.offsetX,this.vo.sprite.y=this.vo.offsetY,this.sprite.addChild(this.vo.sprite),this.sprite.visible=this.isVisible=!1,this._isAfterburner=this.type==ge.AFTERBURNER,this._isWide=this.type==ge.START,this.pan=0,this.depth=0,(this.displacedX=0)<this.vo.size&&null==this._reference&&this._physics.addCircle(this.x,this.y,this.vo.size,0,!0),this.isVisible=!1},_updater:function(t){if(null==t&&(t=0),Se.prototype._updater.call(this,t),this.pan=0,(this.isVisible||this._updates%this.vo.levelOfDetail==0)&&(this.isVisible=this.sprite.visible=!1,(this._kernel.isEyeCandy||!this.vo.isEyeCandy)&&!(0<this.vo.life&&this._updates>this.vo.life))){null!=this._reference&&(this.x=this._reference.x,this.y=this._reference.y,this.z=this._reference.z,this.set_angle(this._reference.angle));var e=this.x-this._world3d.camera.x,s=this.y-this._world3d.camera.y,i=e*this._world3d.cs,n=s*this._world3d.sn,r=e*this._world3d.sn,a=s*this._world3d.cs,l=i+n,o=this._world3d.clipDistance,_=(this._tools,1-(o-l)/o);if(this.depth=1<_?1:_<-1?-1:_,this.depth<0){this._tools;var h=4*this.depth;this.depth=1<h?1:h<-1?-1:h}if(!(l<-2*this._world3d.camera.z||l>o/this.vo.levelOfDetailDistance)){var u=this.z-this._world3d.camera.z,c=this._world3d.falloff/(l+2*this._world3d.camera.z);this.displacedX=2e-4*(a-r)*c;this._tools;var p=c*this.vo.scaler,d=400<p?400:p<1?1:p;if(!(d>this.vo.maxScale)&&(this.sprite.scaleX=this.sprite.scaleY=.01*d,this.sprite.x=.5*c*(a-r),this.sprite.y=c*-u,!(Math.abs(this.sprite.x)>.75*this._world3d.width)||this._isWide)){this.set_priority(1e3*(o-l)|0),this.sprite.alpha=.01*Math.min(1e3*(o/this.vo.levelOfDetailDistance-l)/(o/this.vo.levelOfDetailDistance*2),100),this.isVisible=this.sprite.visible=!0;this._tools;var g=this.sprite.x/(.6*this._world3d.width),w=1<g?1:g<-1?-1:g;if(this.pan=0!=w?w:1e-5,this.vo.isFlippable&&(this.sprite.scaleX*=Math.sin((this.angle-this._world3d.camera.angle)*Math.PI*2)),this._isAfterburner){this._tools;var y=(this.vo.life-this._updates)/25;this.vo.sprite.alpha=1<y?1:y<0?0:y}}}}},_disposer:function(){this.sprite.visible=!1,null!=this.sprite.parent&&this.sprite.parent.removeChild(this.sprite),Se.prototype._disposer.call(this)},get_priority:function(){return this.priority},set_priority:function(t){return this.priority=t,this.get_priority()},setReference:function(t){this._reference=t},__class__:_s});var hs=function(t,e,s,i,n,r){this._world3d=e,this._physics=s,this._heightGround=i,this._heightHorizon=n,null==r&&(r=ce.LA),this._locationType=r,this._sprite=new createjs.Container,v.call(this,t,null,this._sprite)};(s["b10ide.locations.SceneryCollection"]=hs).__name__=["b10ide","locations","SceneryCollection"],hs.__super__=v,hs.prototype=t(v.prototype,{_world3d:null,_physics:null,_heightGround:null,_heightHorizon:null,_sprite:null,_locationType:null,_sceneries:null,_visibleSceneries:null,_init:function(){v.prototype._init.call(this),this._sprite.x=this._world3d.width/2,this._sprite.y=this._heightHorizon,this._sceneries=[],this._visibleSceneries=[]},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._visibleSceneries=[];for(var e=0,s=this._sceneries;e<s.length;){var i=s[e];++e,i.isVisible&&this._visibleSceneries.push(i)}this._sprite.removeAllChildren();var n=new createjs.Container;this._sprite.addChild(n),this._visibleSceneries.sort(an(nn=this._tools,nn.sortByPriority));for(var r=0,a=this._visibleSceneries;r<a.length;){var l=a[r];++r,n.addChild(l.sprite)}},addScenery:function(t,e,s,i,n){null==n&&(n=0),null==i&&(i=0);var r=new _s(this._kernel,this._world3d,this._physics,this._heightGround,t,e,s,i,n,this._locationType);return this.addEntity(r,null,!1),this._sceneries.push(r),r},__class__:hs});var us=function(t,e,s){this._kernel=t,this._session=this._kernel.get_session(),this.type=e,null==s&&(s=ce.LA),this._locationType=s,this.size=this._getSize(),this.levelOfDetail=this.levelOfDetailDistance=this._getLevelOfDetail(),1<this.levelOfDetail&&(this.levelOfDetailDistance=1+(this.levelOfDetail-1)/2|0),this.isShadow=this._getIsShadow(),this.isBlurred=this._getIsBlurred(),this.isFlippable=this._getIsFlippable(),this.isEyeCandy=this._getIsEyeCandy(),this.scaler=this._getScaler(),this.offsetX=this._getOffset().x,this.offsetY=this._getOffset().y,this.sprite=this._getSprite(),this.life=this._getLife(),this.maxScale=this._getMaxScale()};(s["b10ide.locations.SceneryVo"]=us).__name__=["b10ide","locations","SceneryVo"],us.prototype={type:null,size:null,sprite:null,levelOfDetail:null,levelOfDetailDistance:null,isShadow:null,isBlurred:null,isFlippable:null,isEyeCandy:null,scaler:null,life:null,maxScale:null,offsetX:null,offsetY:null,_kernel:null,_session:null,_locationType:null,_getSize:function(){var t,e=this.type;switch(e[1]){case 0:t=36;break;case 1:t=24;break;case 2:t=25;break;case 3:t=14;break;case 4:t=42;break;case 5:t=23;break;case 6:t=28;break;case 7:t=16;break;case 8:t=20;break;case 9:t=6;break;case 10:case 11:case 12:t=0;break;case 13:case 14:t=6;break;case 17:t=0;break;case 19:t=6;break;case 20:t=0;break;case 21:t=e[2].vo.size;break;case 22:t=0;break;default:t=20}return t},_getLevelOfDetail:function(){var t,e=this.type;switch(e[1]){case 0:case 1:case 2:case 3:t=1;break;case 4:case 5:case 6:case 7:case 8:case 9:t=2;break;case 10:t=3;break;case 11:t=2;break;case 12:t=3;break;case 13:case 14:t=2;break;case 15:case 16:t=0;break;case 17:case 18:case 19:t=1;break;case 20:t=2;break;case 21:e[2];t=1;break;case 22:t=1}return t},_getIsShadow:function(){var t,e=this.type;switch(e[1]){case 15:case 16:case 20:t=!1;break;case 21:e[2];t=!1;break;case 22:t=!1;break;default:t=0<this.size}return t},_getIsBlurred:function(){var t;switch(this.type[1]){case 11:case 17:case 22:t=!1;break;default:t=!0}return t},_getIsFlippable:function(){var t;switch(this.type[1]){case 9:case 10:case 19:t=!0;break;default:t=!1}return t},_getIsEyeCandy:function(){var t;switch(this.type[1]){case 10:case 20:case 22:t=!1;break;default:t=0==this.size}return t},_getScaler:function(){var t,e=this.type;switch(e[1]){case 0:t=41.1764705882353;break;case 1:t=38.888888888888886;break;case 2:t=47.945205479452056;break;case 3:t=46.666666666666664;break;case 4:t=39.325842696629216;break;case 5:t=53.84615384615385;break;case 6:t=42.16867469879518;break;case 11:t=60;break;case 13:case 14:t=46.666666666666664;break;case 17:t=25;break;case 19:t=30;break;case 20:t=15;break;case 21:e[2];t=18.75;break;case 22:t=60;break;default:t=35}return t},_getLife:function(){this.type;return 0},_getMaxScale:function(){return 17==this.type[1]?1e3:300},_getOffset:function(){var t=this.type;switch(t[1]){case 9:return{x:-180,y:15};case 10:case 12:case 13:case 14:return{x:0,y:20};case 19:return{x:-245,y:15};case 21:t[2];return{x:0,y:55};default:return{x:0,y:10}}},_getSprite:function(){var t,e=this.type;switch(e[1]){case 17:var s=new createjs.Container;s.compositeOperation="lighter";var i=new createjs.Bitmap(this._kernel.assets.getAsset("assets/units/Afterburner1.png")),n=new createjs.Bitmap(this._kernel.assets.getAsset("assets/units/Afterburner2.png"));i.x-=125,n.visible=!1,s.addChild(i),s.addChild(n),t=s,this.offsetX-=50,this.offsetY-=135;break;case 18:case 20:case 22:t=new createjs.Bitmap(this._kernel.assets.getAsset("assets/Blank.png"));break;case 19:var r=new createjs.Container;r.addChild(new createjs.Bitmap(this._kernel.assets.getAsset("assets/locations/start/Start.png"))),t=r,this.offsetX-=275,this.offsetY-=250;break;case 21:t=e[2].vo.sprite,this.offsetY-=100;break;default:var a=this._kernel.assets.getAsset("assets/locations/scenery/"+Q.string(this.type)+".png");t=new createjs.Bitmap(a),this.offsetX-=.5*a.width,this.offsetY-=a.height}return t},__class__:us};var cs=function(t,e,s,i,n,r,a,l){this._world3d=e,this._horizonY=s,this._texture=i,this._graphics=n,this._y=r,this._width=a,this._height=l,this._drop=this._y-this._horizonY,this._matrix=new createjs.Matrix2D};(s["b10ide.locations.Strip"]=cs).__name__=["b10ide","locations","Strip"],cs.prototype={_world3d:null,_horizonY:null,_texture:null,_graphics:null,_y:null,_width:null,_height:null,_drop:null,_matrix:null,draw:function(t,e){var s=this._drop/(2*this._world3d.camera.z),i=s*this._world3d.cs,n=s*this._world3d.sn,r=n*this._world3d.camera.x,a=n*this._world3d.camera.y,l=i*this._world3d.camera.x,o=i*this._world3d.camera.y;i*=1.40625,n*=1.40625,this._matrix.identity(),this._matrix.a=-n,this._matrix.b=-i,this._matrix.c=i,this._matrix.d=-n,this._matrix.tx=.5*this._world3d.width-o+r,this._matrix.ty=this._world3d.height+this._world3d.camera.fov+a+l,t.beginBitmapFill(e.image,"repeat",this._matrix),t.rect(0,this._y,this._width,this._height)},__class__:cs};var ps=function(t,e,s,i){this._track=e,this._physics=s,this.camera=i,this._textureGround=this._track.vo.textureGround,this._sprite=new createjs.Container,this._session=t.get_session(),v.call(this,t,null,this._sprite)};(s["b10ide.locations.World3d"]=ps).__name__=["b10ide","locations","World3d"],ps.__super__=v,ps.prototype=t(v.prototype,{width:null,height:null,cs:null,sn:null,camera:null,falloff:null,clipDistance:null,effects:null,_track:null,_physics:null,_sceneryCollection:null,_sprite:null,_textureGround:null,_horizon:null,_heightGround:null,_heightHorizon:null,_session:null,_scaler:null,_strips:null,_shape:null,_plane:null,_isPlane:null,_isLowMemory:null,_clipCanvas:null,_clipContext2d:null,_init:function(){var t,e;switch(v.prototype._init.call(this),this._isPlane=this._session.qualityType!=de.HIGH,this._isPlane=!0,this._isLowMemory=this._getIsLowMemory(),this.cs=0,this.sn=-1,this._kernel.set_isEyeCandy(this._session.qualityType!=de.LOW),this._session.qualityType[1]){case 0:case 1:case 2:t=1}switch(this._scaler=t,this.falloff=2*this._heightGround+this.camera.fov+this.camera.fov|0,this._session.qualityType[1]){case 0:e=600;break;case 1:e=800;break;case 2:e=1e3}this.clipDistance=e,this.width=this._kernel.factory.width,this.height=this._kernel.factory.height,this._clipCanvas=window.document.createElement("canvas"),this._clipContext2d=this._clipCanvas.getContext("2d",null),this._clipContext2d.imageSmoothingEnabled=!1,this._heightHorizon=135,this._heightGround=this.height-this._heightHorizon,this._sceneryCollection=new hs(this._kernel,this,this._physics,this._heightGround,this._heightHorizon,this._track.vo.locationType),this._isPlane?this.addEntity(this._plane=new ls(this._kernel,this,this._textureGround,this._track.locationVo.textureRadial,this._heightHorizon,this._scaler,this._track.locationVo.bgColor,this._isLowMemory),null,!0,6):(this._shape=new createjs.Shape,this._sprite.addChild(this._shape),this._createStrips(this._scaler)),this.addEntity(this._horizon=new ss(this._kernel,this,this._track.locationVo.textureHorizon,this._track.locationVo.textureMist,this._kernel.isEyeCandy),null,!0,7),this._kernel.isEyeCandy&&this._createLensflares(),this.addEntity(this._sceneryCollection,null,!0,9),this._createScenery(),this._track.createBoosts(this),this._createBoundary(),this.addEntity(this.effects=new es(this._kernel,this)),this._kernel.overlay.flash()},_createStrips:function(t){null==t&&(t=1),this._strips=[];for(var e=3,s=this.height;;){var i=(s-this._heightHorizon)/this._heightGround,n=(this._tools,6*i);if(e=0|(6<n?6:n<1?1:n),this._session.qualityType!=de.HIGH&&(e=Math.ceil(e*t)),this._strips.push(new cs(this._kernel,this,this._heightHorizon,this._textureGround,this._shape.graphics,s-e,this.width,e)),!((s-=e)>=this._heightHorizon+5))break}this._strips.reverse()},_createLensflares:function(){for(var t=[],e=0,s=this._track.locationVo.lensflarePositions;e<s.length;){var i=s[e];++e;this._tools;var n=i.y,r=this._heightHorizon;t.push(new is(this._kernel,this,this._track.locationVo.textureHorizon.image.width,i.x-.5*this.width,r<n?r:n<-1/0?-1/0:n,i.z))}for(var a=0;a<t.length;){var l=t[a];++a,this.addEntity(l,null,!0,10)}},_createScenery:function(){for(var t=0,e=this._track.vo.scenery;t<e.length;){var s=e[t];++t,s.type!=ge.START&&s.type!=ge.BOOST&&s.type!=ge.SY&&s.type!=ge.SZ&&this.addScenery(s.type,s.x,s.y,s.z,s.angle),s.type==ge.SY&&this._physics.addCircle(s.x,s.y,25,0,!0,null,null,2),s.type==ge.SZ&&this._physics.addCircle(s.x,s.y,100,0,!0,null,null,2)}},_createBoundary:function(){this._physics.addRectangle(this._track.width+200,this._track.height/2,this._track.width+400,200,0,!0),this._physics.addRectangle(-200,this._track.height/2,this._track.width+400,200,0,!0),this._physics.addRectangle(this._track.width/2,this._track.height+200,200,this._track.height+400,0,!0),this._physics.addRectangle(this._track.width/2,-200,200,this._track.height+400,0,!0)},addScenery:function(t,e,s,i,n){return null==n&&(n=0),null==i&&(i=0),this._sceneryCollection.addScenery(t,e,s,i,n)},_updater:function(t){if(null==t&&(t=0),this.sn=Math.sin(this.camera.angle*Math.PI*2),this.cs=Math.cos(this.camera.angle*Math.PI*2),this.falloff=2*this._heightGround+this.camera.fov+this.camera.fov|0,!this._isPlane){this._shape.graphics.clear(),this._shape.graphics.beginFill("#"+y.hex(this._track.locationVo.bgColor,6)),this._shape.graphics.drawRect(0,0,this.width,this.height),this._shape.graphics.endFill();for(var e=0,s=this._strips;e<s.length;){var i=s[e];++e,i.draw(this._shape.graphics,this._textureGround)}}v.prototype._updater.call(this,t),this._drawCameraEffects()},_drawCameraEffects:function(){if(this._kernel.system.isDesktop&&this._session.qualityType==de.HIGH){this._sprite.cache(-70,-70,this.width+140,this.height+140);var t=this._sprite.cacheCanvas,e=t.getContext("2d",null);try{this._isLowMemory?(this._clipCanvas.width=this.width,this._clipCanvas.height=1,this._clipContext2d.drawImage(t,70,70,this.width,1,0,0,this.width,1),e.drawImage(this._clipCanvas,0,0,this.width,1,70,0,this.width,70),this._clipCanvas.width=this.width,this._clipCanvas.height=1,this._clipContext2d.drawImage(t,70,this.height+70-1,this.width,1,0,0,this.width,1),e.drawImage(this._clipCanvas,0,0,this.width,1,70,this.height+70-1,this.width,70),this._clipCanvas.width=1,this._clipCanvas.height=this.height+140,this._clipContext2d.drawImage(t,70,0,1,this.height+140,0,0,1,this.height+140),e.drawImage(this._clipCanvas,0,0,1,this.height+140,0,0,70,this.height+140),this._clipCanvas.width=1,this._clipCanvas.height=this.height+140,this._clipContext2d.drawImage(t,this.width+70-1,0,1,this.height+140,0,0,1,this.height+140),e.drawImage(this._clipCanvas,0,0,1,this.height+140,this.width+70,0,70,this.height+140)):(e.drawImage(t,70,70,this.width,1,70,0,this.width,70),e.drawImage(t,70,this.height+70-1,this.width,1,70,this.height+70-1,this.width,70),e.drawImage(t,70,0,1,this.height+140,0,0,70,this.height+140),e.drawImage(t,this.width+70-1,0,1,this.height+140,this.width+70,0,70,this.height+140))}catch(t){}this._sprite.regX=.5*this.width,this._sprite.regY=.5*this.height,this._sprite.x=.5*this.width,this._sprite.y=.5*this.height,this._sprite.rotation=50*this.camera.roll}},_disposer:function(){this._kernel.audio.stop(null,Jt.SUB_TYPE(this)),v.prototype._disposer.call(this)},getWorldCoords:function(t,e){var s={x:0,y:0};e<this._heightHorizon&&(e=this._heightHorizon);var i=e-this._heightHorizon+10,n=this.camera.z/i,r=this.falloff*n-2*this.camera.z,a=(t-.5*this.width)*n*2;this.camera.angle;return s.x=r*this.cs-a*this.sn+this.camera.x,s.y=a*this.cs+r*this.sn+this.camera.y,s},_getIsLowMemory:function(){var t=this._kernel.system;return!t.isDesktop&&(!!t.isIos||!(-1<t.userAgent.indexOf("Chrome")))},__class__:ps});var ds=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=!0),null==s&&(s=!1),this._session=t.get_session(),this._isMusic=!0,j.call(this,t,e,s,i,n)};(s["b10ide.scenes.AScene"]=ds).__name__=["b10ide","scenes","AScene"],ds.__super__=j,ds.prototype=t(j.prototype,{_session:null,_isMusic:null,_selectableManager:null,_init:function(){j.prototype._init.call(this),this._kernel.overlay.get_pauseEntity().setAgenda(Xt.STANDARD),this.isPauseable=!0,this.isMuteable=!0,this.addEntity(new ze(this._kernel,this._kernel.assets.getAsset("assets/gui/scenes/Bg.jpg")),null,!0,0),this.addEntity(new ze(this._kernel,this._kernel.assets.getAsset("assets/gui/scenes/Fg.png")),null,!0,2),this.addEntity(this._selectableManager=new Ke(this._kernel)),this._isMusic&&this._kernel.audio.start("MusicMenu",Jt.MUSIC,-1,0,.35,0,!0)},_disposer:function(){var t=this._session;t.saveCount++,t._setter(),t._savedData._____VERSION=t._version,t._savedData[t.id]=t._data,t._driverSave(),j.prototype._disposer.call(this)},__class__:ds});var gs=function(t,e,s,i,n){j.call(this,t,e,s,i,n)};(s["b10ide.scenes.Game"]=gs).__name__=["b10ide","scenes","Game"],gs.__super__=j,gs.prototype=t(j.prototype,{_session:null,_levelVo:null,_physics:null,_track:null,_camera:null,_world3d:null,_countdown:null,_player:null,_opponent:null,_opponentRecording:null,_hud:null,_isSinglePlayer:null,_init:function(){var t=this;j.prototype._init.call(this),this._kernel.overlay.get_pauseEntity().setAgenda(Xt.DEFEND),this._kernel.audio.stop(null,Jt.MUSIC),this.isPauseable=!0,this.isMuteable=!0,this._session=this._kernel.get_session(),this._session.skill=this._session.getPercentageComplete(),this._levelVo=new $e(this._kernel,this._session.levelType),this._isSinglePlayer=this._levelVo.gameModeType==he.TIME_TRIAL,this._kernel.log(Q.string(this._levelVo.type)),this.addEntity(this._track=new bs(this._kernel,this._levelVo.trackType,this._levelVo.lapTotal),null,!0,10),this.addEntity(this._physics=new Le(this._kernel,this._track.width,this._track.height,!1));var e=Math.cos(this._track.vo.startPosition2.angle*Math.PI*2),s=Math.sin(this._track.vo.startPosition2.angle*Math.PI*2),i=-500*e-0*s+this._track.vo.startPosition2.x,n=0*e+-500*s+this._track.vo.startPosition2.y;if(this.addEntity(this._camera=new ts(this._kernel,i,n,100,this._track.vo.startPosition2.angle)),this.addEntity(this._world3d=new ps(this._kernel,this._track,this._physics,this._camera),null,!0,1),this._levelVo.gameModeType!=he.FLY_BY){if(this._track.createWaypoints(this._world3d.addScenery(ge.WAYPOINT,0,0,0,0)),this.addEntity(this._countdown=new ms(this._kernel,this._world3d.addScenery(ge.START,this._track.vo.scenery[0].x,this._track.vo.scenery[0].y,0,this._track.vo.scenery[0].angle),this._track,this._kernel.isDebug?30:60)),this.addEntity(this._hud=new je(this._kernel,this._countdown),null,!0,2),this._hud.createRadar(this._track),!this._isSinglePlayer){var r=this._track.vo.startPosition1;this.addEntity(this._opponent=new Rs(this._kernel,this._levelVo.opponentType,this._world3d,this._track,this._physics,this._countdown,r.x,r.y,r.angle))}var a=this._track.vo.startPosition2;this.addEntity(this._player=new Rs(this._kernel,this._levelVo.playerType,this._world3d,this._track,this._physics,this._countdown,a.x,a.y,a.angle,null,!0,this._opponent,an(this,this._onComplete))),this._camera.setTarget(this._player,!1,!1),this.addEntity(new Gt(this._kernel,this._countdown,"isStarted",function(){t._kernel.audio.start(t._levelVo.audioIdMusic,Jt.MUSIC,-1,0,.6,0,!0)}))}},_onComplete:function(t){this._kernel.overlay.flash();var e=new Rs(this._kernel,this._player.type,this._world3d,this._track,this._physics,this._countdown,t.x,t.y,t.angle,t,!0,null,an(this,this._onComplete)),s=this._player;if(s.isDisposed||(s.isDisposed=!0,s.set_isActive(!1),s._disposer()),this._player=e,this.addEntity(this._player),!this._isSinglePlayer){this._opponentRecording=xi.__cast(this._opponent.recording.clone(),be);var i=new Rs(this._kernel,this._opponent.type,this._world3d,this._track,this._physics,this._countdown,this._opponentRecording.x,this._opponentRecording.y,this._opponentRecording.angle,this._opponentRecording),n=this._opponent;n.isDisposed||(n.isDisposed=!0,n.set_isActive(!1),n._disposer()),this._opponent=i,this.addEntity(this._opponent)}this._camera.setTarget(this._player,!0),this._hud.setAsReplay(),this._countdown.restart()},_updater:function(t){null==t&&(t=0),j.prototype._updater.call(this,t),this._levelVo.gameModeType!=he.FLY_BY&&(this._player.isRecording&&(this._kernel.inputs.keyboard.getIsKeyRelease(this._kernel.factory.keyNext)||!this._session.isDesktop&&this._kernel.inputs.mouse.getIsButtonRelease())&&this._kernel.scenes.next(),null!=this._hud&&(this._hud.configureRadar(this._player,this._isSinglePlayer?null:this._opponent,this._player.getWaypoint()),this._player.isRecording||(this._hud.configureLapTimer(this._levelVo.gameModeType==he.TIME_TRIAL?this._levelVo.duration-this._player.raceDuration:this._player.raceDuration,this._player.lapDurationLast,this._player.lapDurationBest),this._hud.configureLapLog(this._player.lap,this._track.lapTotal),this._hud.configureNavigator(this._player.getWaypoint(),this._player),this._hud.configureSpeedo(0|this._player.get_speedKmh()),this._kernel.overlay.showButton(ne.SUB_TYPE("RESTART"),!this._player.isFinished))))},_disposer:function(){this._kernel.audio.stop(null,Jt.MUSIC),j.prototype._disposer.call(this)},__class__:gs});var ws=function(t,e,s,i,n){ds.call(this,t,e,s,i,n)};(s["b10ide.scenes.Instructions"]=ws).__name__=["b10ide","scenes","Instructions"],ws.__super__=ds,ws.prototype=t(ds.prototype,{_init:function(){if(ds.prototype._init.call(this),this.addEntity(new qe(this._kernel,this._session.levelType),null,!0,2),this._kernel.system.isDesktop)this._session.qualityType=de.HIGH,this.addEntity(new Wt(this._kernel,an(nn=this._kernel.scenes,nn.next),2e3));else{for(var t=0,e=Math.round((this._kernel.factory.width-480)/2),s=null,i=0,n=de.__constructs__.slice();i<n.length;){var r=n[i];++i;var a=new Pe(this._kernel,this._selectableManager,et.createEnum(de,r),35+e+160*t,90);this.addEntity(a,null,!0,12),a.type==this._session.qualityType&&(s=a),++t}this._selectableManager.selectableEntities=this.getEntitiesByClass(Ie),this._selectableManager.select(s)}},__class__:ws});var ys=function(t,e,s,i,n){ds.call(this,t,e,s,i,n)};(s["b10ide.scenes.Menu"]=ys).__name__=["b10ide","scenes","Menu"],ys.__super__=ds,ys.prototype=t(ds.prototype,{_init:function(){ds.prototype._init.call(this);for(var t=0,e=0,s=Math.round((this._kernel.factory.width-480)/2),i=15+Math.round((this._kernel.factory.height-170)/2),n=null,r=0,a=ue.__constructs__.slice();r<a.length;){var l=a[r];++r;var o=new Oe(this._kernel,this._selectableManager,et.createEnum(ue,l),35+s+160*t,45+i+85*e);this.addEntity(o,null,!0,12),o.type==this._session.levelType&&(n=o),3==++t&&(t=0,++e)}for(var _=0;_<3;){var h=_++,u=s+160*h,c=new He(this._kernel,Q.string(et.createEnumIndex(we,h+1)));c.setPosition(u,0),this.addEntity(c,null,!0,4)}this._selectableManager.selectableEntities=this.getEntitiesByClass(Ie),this._selectableManager.verticalShunt=3,this._selectableManager.select(n)},__class__:ys});var fs=function(t,e){zt.call(this,t,e)};(s["b10ide.scenes.SceneTransition"]=fs).__name__=["b10ide","scenes","SceneTransition"],fs.__super__=zt,fs.prototype=t(zt.prototype,{_init:function(){zt.prototype._init.call(this),this._kernel.audio.start("Transition",Jt.INTERFACE,0,0,.35)},__class__:fs});var vs=function(t,e,s,i,n){ds.call(this,t,e,s,i,n)};(s["b10ide.scenes.SelectSession"]=vs).__name__=["b10ide","scenes","SelectSession"],vs.__super__=ds,vs.prototype=t(ds.prototype,{_buttonSession1:null,_init:function(){ds.prototype._init.call(this),this.isSessionSavedOnNext=!0,this.addEntity(new ze(this._kernel,this._kernel.assets.getAsset("assets/gui/scenes/SessionBg.jpg")),null,!0,1),this.addEntity(new ze(this._kernel,this._kernel.assets.getAsset("assets/gui/scenes/SessionFg.png")),null,!0,2);var t=new He(this._kernel,"Session");t.setPosition(this._kernel.factory.width-t.width,0),this.addEntity(t,null,!0,4);var e=35+(0|t.x);this._buttonSession1=this._createButtonSession(1,e,220),this.addEntity(this._buttonSession1,null,!0,11),this._selectableManager.selectableEntities=this.getEntitiesByClass(Ie),this._selectableManager.verticalShunt=-1},_createButtonSession:function(t,e,s,i){null==i&&(i=!1);var n=this._createSession(t);return new Be(this._kernel,this._selectableManager,n,e,s)},_createSession:function(t){return this._kernel.factory.createSession("Slot"+t)},__class__:vs});var Ms=function(t,e,s,i,n){null==n&&(n=0),this._world3d=e,this._x=s,this._y=i,this._z=n,v.call(this,t)};(s["b10ide.tracks.Boost"]=Ms).__name__=["b10ide","tracks","Boost"],Ms.__super__=v,Ms.prototype=t(v.prototype,{_world3d:null,_x:null,_y:null,_z:null,_size:null,_init:function(){v.prototype._init.call(this),this._size=50},getIsPositionOverBoost:function(t,e){var s=t-this._x,i=e-this._y;return Math.sqrt(s*s+i*i)<this._size},__class__:Ms});var Ds=function(t,e){this._session=t.get_session(),this._world3d=e,this._boosts=[],v.call(this,t)};(s["b10ide.tracks.BoostCollection"]=Ds).__name__=["b10ide","tracks","BoostCollection"],Ds.__super__=v,Ds.prototype=t(v.prototype,{_session:null,_world3d:null,_boosts:null,addBoost:function(t,e,s){null==s&&(s=0);var i=new Ms(this._kernel,this._world3d,t,e,s);return this.addEntity(i),this._boosts.push(i),i},getIsPositionOverBoost:function(t,e){for(var s=0,i=this._boosts;s<i.length;){var n=i[s];if(++s,n.getIsPositionOverBoost(t,e))return!0}return!1},__class__:Ds});var ms=function(t,e,s,i){null==i&&(i=100),this._scenery=e,this._track=s,this.duration=i,v.call(this,t)};(s["b10ide.tracks.CountDown"]=ms).__name__=["b10ide","tracks","CountDown"],ms.__super__=v,ms.prototype=t(v.prototype,{isStarted:null,duration:null,_scenery:null,_track:null,_sprite:null,_countdown:null,_countdown0:null,_countdown1:null,_countdown2:null,_countdown3:null,_countdown4:null,_init:function(){v.prototype._init.call(this),this._sprite=this._scenery.vo.sprite,this._countdown=new createjs.Container,this._countdown0=new createjs.Bitmap(this._kernel.assets.getAsset("assets/locations/start/Countdown0.png")),this._countdown1=new createjs.Bitmap(this._kernel.assets.getAsset("assets/locations/start/Countdown1.png")),this._countdown2=new createjs.Bitmap(this._kernel.assets.getAsset("assets/locations/start/Countdown2.png")),this._countdown3=new createjs.Bitmap(this._kernel.assets.getAsset("assets/locations/start/Countdown3.png")),this._countdown4=new createjs.Bitmap(this._kernel.assets.getAsset("assets/locations/start/Countdown4.png")),this._countdown.addChild(this._countdown0),this._countdown.addChild(this._countdown1),this._countdown.addChild(this._countdown2),this._countdown.addChild(this._countdown3),this._countdown.addChild(this._countdown4),this._sprite.addChildAt(this._countdown,0),this.restart()},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t);var e=this.duration-this._updates;20==e&&this._changeLights(1),15==e&&this._changeLights(2),10==e&&this._changeLights(3),5==e&&this._changeLights(4),this.isStarted=e<=5},_changeLights:function(t){switch(this._countdown0.visible=this._countdown1.visible=this._countdown2.visible=this._countdown3.visible=this._countdown4.visible=!1,t+2){case 2:this._countdown0.visible=!0;break;case 3:this._countdown0.visible=this._countdown1.visible=!0;break;case 4:this._countdown0.visible=this._countdown1.visible=this._countdown2.visible=!0;break;case 5:this._countdown0.visible=this._countdown1.visible=this._countdown2.visible=this._countdown3.visible=!0;break;default:this._countdown0.visible=this._countdown1.visible=this._countdown2.visible=this._countdown3.visible=this._countdown4.visible=!0}this._kernel.audio.start("Start"+(t<4?"1":"2"),Jt.INTERFACE,1,0,.5);var e=this._sprite.getBounds();this._sprite.cache(0,0,e.width,e.height)},restart:function(){this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ee.RESUME,this,!0,!0,!0)),this._updates=0,this.isStarted=!1,this._countdown1.visible=this._countdown2.visible=this._countdown3.visible=this._countdown4.visible=!1,this._countdown0.visible=!0;var t=this._sprite.getBounds();this._sprite.cache(0,0,t.width,t.height)},__class__:ms});var Ts=function(){};(s["b10ide.tracks.IHint"]=Ts).__name__=["b10ide","tracks","IHint"],Ts.__interfaces__=[Me];var Es=function(t,e,s,i,n){null==n&&(n=0),this.gate=e,Se.call(this,t,s,i,0,n)};(s["b10ide.tracks.Hint"]=Es).__name__=["b10ide","tracks","Hint"],Es.__interfaces__=[Ts],Es.__super__=Se,Es.prototype=t(Se.prototype,{gate:null,size:null,_init:function(){Se.prototype._init.call(this),this.size=100},getCollision:function(t,e,s){null==s&&(s=0);var i=t-this.x,n=e-this.y;return Math.sqrt(i*i+n*n)<this.size+s},__class__:Es});var Ls=function(){};(s["b10ide.tracks.ILightPatch"]=Ls).__name__=["b10ide","tracks","ILightPatch"],Ls.__interfaces__=[Me];var Ss=function(){};(s["b10ide.tracks.ITrackVo"]=Ss).__name__=["b10ide","tracks","ITrackVo"];var As=function(){};(s["b10ide.tracks.IWaypoint"]=As).__name__=["b10ide","tracks","IWaypoint"],As.__interfaces__=[Me];var bs=function(t,e,s){null==s&&(s=1),this.type=e,this.lapTotal=s,v.call(this,t)};(s["b10ide.tracks.Track"]=bs).__name__=["b10ide","tracks","Track"],bs.__super__=v,bs.prototype=t(v.prototype,{type:null,lapTotal:null,width:null,height:null,vo:null,locationVo:null,waypoints:null,hints:null,_textureSmooth:null,_boostCollection:null,_init:function(){v.prototype._init.call(this),this.waypoints=[],this.hints=[],this.vo=new xs(this._kernel,this.type),this.locationVo=new rs(this._kernel,this.vo.locationType),this._textureSmooth=this.vo.textureSmooth,this.width=2880,this.height=2880},createBoosts:function(t){this.addEntity(this._boostCollection=new Ds(this._kernel,t));for(var e=0,s=this.vo.scenery;e<s.length;){var i=s[e];++e,i.type==ge.BOOST&&this._addBoost(i.x,i.y,i.z)}},_addBoost:function(t,e,s){return null==s&&(s=0),null==this._boostCollection?null:this._boostCollection.addBoost(t,e,s)},createWaypoints:function(t){for(var e=[],s=this.vo.waypoints.slice(),i=[],n=this.vo.hints.slice(),r=1,a=this.lapTotal+1;r<a;){r++;e.pop(),e=e.concat(s),i.pop(),i=i.concat(n)}for(var l=0,o=0;o<e.length;){var _=e[o];++o;var h=new Os(this._kernel,t,l++,_.x,_.y,_.angle);this.waypoints.push(h),this.addEntity(h)}for(var u=0,c=0;c<i.length;){var p=i[c];++c;var d=new Es(this._kernel,u++,p.x,p.y,p.angle);this.hints.push(d),this.addEntity(d)}},getIsPositionOverSmooth:function(t,e){try{return this._textureSmooth.hitTest(t/5.625|0,e/5.625|0)}catch(t){return!0}},getIsPositionOverBoost:function(t,e){return this._boostCollection.getIsPositionOverBoost(t,e)},__class__:bs});var xs=function(t,e){this._kernel=t,this._resetCollections(),this.type=e,this.locationType=ce.LA;var s=this.type;switch(s[1]){case 0:break;case 1:this._setValuesFromSerial(this._kernel.getConfig("tracks.TA"));break;case 2:this._setValuesFromSerial(this._kernel.getConfig("tracks.TB"));break;case 3:this._setValuesFromSerial(this._kernel.getConfig("tracks.TC"));break;case 4:var i=s[2];this._setValuesFromSerial(i)}this.textureGround=this._getTextureGround(),this.textureSmooth=this._getTextureSmooth(),this.textureRadar=this._getTextureRadar(),this._setStartPositions()};(s["b10ide.tracks.TrackVo"]=xs).__name__=["b10ide","tracks","TrackVo"],xs.__interfaces__=[Ss],xs.prototype={type:null,lightPatches:null,hints:null,scenery:null,waypoints:null,locationType:null,textureGround:null,textureSmooth:null,textureRadar:null,startPosition:null,startPosition1:null,startPosition2:null,startPosition3:null,_kernel:null,_resetCollections:function(){this.lightPatches=[],this.hints=[],this.scenery=[],this.waypoints=[]},_setValuesFromSerial:function(t){this._resetCollections();for(var e=t.split("~"),s=e[0].split(":"),i=e[1].split(":"),n=e[2].split(":"),r=e[3].split(":"),a=0;a<s.length;){var l=s[a];if(++a,""!=l){var o=l.split(",");this.lightPatches.push(new Ns(Q.parseInt(o[0]),Q.parseInt(o[1])))}}for(var _=0;_<i.length;){var h=i[_];if(++_,""!=h){var u=h.split(",");this.hints.push(new ks(Q.parseInt(u[0]),Q.parseInt(u[1])))}}for(var c=0;c<n.length;){var p=n[c];if(++c,""!=p){var d=p.split(",");this.scenery.push(new Is(et.createEnum(ge,d[0]),Q.parseInt(d[1]),Q.parseInt(d[2]),Q.parseInt(d[3]),Q.parseInt(d[4])/256))}}for(var g=0;g<r.length;){var w=r[g];if(++g,""!=w){var y=w.split(",");this.waypoints.push(new Us(Q.parseInt(y[0]),Q.parseInt(y[1])))}}if(this.locationType=et.createEnum(ce,e[4]),this.hints.length<3)throw new bi("Must have >= 3 hints");if(this.waypoints.length<3)throw new bi("Must have >= 3 waypoints");if(this.scenery[0].type!=ge.START)throw new bi("First scenery element must be START")},_getTextureGround:function(){var t;switch(this.type[1]){case 1:t=this._kernel.assets.getAsset("assets/locations/ground/TAGround.jpg");break;case 2:t=this._kernel.assets.getAsset("assets/locations/ground/TBGround.jpg");break;case 3:t=this._kernel.assets.getAsset("assets/locations/ground/TCGround.jpg");break;default:t=this._kernel.assets.getAsset("assets/locations/ground/TCGround.jpg")}return new createjs.Bitmap(t)},_getTextureSmooth:function(){var t;switch(this.type[1]){case 1:t=this._kernel.assets.getAsset("assets/locations/ground/TASmooth.png");break;case 2:t=this._kernel.assets.getAsset("assets/locations/ground/TBSmooth.png");break;case 3:t=this._kernel.assets.getAsset("assets/locations/ground/TCSmooth.png");break;default:t=this._kernel.assets.getAsset("assets/locations/ground/TCSmooth.png")}return new createjs.Bitmap(t)},_getTextureRadar:function(){switch(this.type[1]){case 1:return this._kernel.assets.getAsset("assets/gui/hud/RadarTA.png");case 2:return this._kernel.assets.getAsset("assets/gui/hud/RadarTB.png");case 3:default:return this._kernel.assets.getAsset("assets/gui/hud/RadarTC.png")}},_setStartPositions:function(){var t=0<this.scenery.length?this.scenery[0]:new Is(ge.START,1440,1440,0,0);this.startPosition=new Cs(t.x,t.y,0,t.angle),this.startPosition1=this._translateStartPosition(this.startPosition.x,this.startPosition.y,this.startPosition.angle,-.07,120),this.startPosition2=this._translateStartPosition(this.startPosition.x,this.startPosition.y,this.startPosition.angle,.07,120),this.startPosition3=this._translateStartPosition(this.startPosition.x,this.startPosition.y,this.startPosition.angle,0,228);var e=this._translateStartPosition(this.startPosition.x,this.startPosition.y,this.startPosition.angle,-.25,200);t.x=e.x,t.y=e.y,t.set_angle(e.angle+.25)},_translateStartPosition:function(t,e,s,i,n){var r=new Se(this._kernel),a=Math.sin((s+.5+i)*Math.PI*2),l=Math.cos((s+.5+i)*Math.PI*2);return r.x=Math.round(t+a*n),r.y=Math.round(e-l*n),r.set_angle(s-.25),r},__class__:xs};var Cs=function(t,e,s,i){null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.z=s,i-=Math.floor(i),this.set_angle(i)};(s["b10ide.tracks._TrackVo._HelperPosition"]=Cs).__name__=["b10ide","tracks","_TrackVo","_HelperPosition"],Cs.__interfaces__=[De],Cs.prototype={x:null,y:null,z:null,angle:null,set_angle:function(t){return this.angle=t,this.angle},__class__:Cs};var Ns=function(t,e){Cs.call(this,t,e,0,0)};(s["b10ide.tracks._TrackVo._HelperLightPatch"]=Ns).__name__=["b10ide","tracks","_TrackVo","_HelperLightPatch"],Ns.__interfaces__=[Ls],Ns.__super__=Cs,Ns.prototype=t(Cs.prototype,{__class__:Ns});var ks=function(t,e){Cs.call(this,t,e,0,0)};(s["b10ide.tracks._TrackVo._HelperHint"]=ks).__name__=["b10ide","tracks","_TrackVo","_HelperHint"],ks.__interfaces__=[Ts],ks.__super__=Cs,ks.prototype=t(Cs.prototype,{__class__:ks});var Is=function(t,e,s,i,n){this.type=t,Cs.call(this,e,s,i,n)};(s["b10ide.tracks._TrackVo._HelperScenery"]=Is).__name__=["b10ide","tracks","_TrackVo","_HelperScenery"],Is.__interfaces__=[os],Is.__super__=Cs,Is.prototype=t(Cs.prototype,{type:null,__class__:Is});var Us=function(t,e){Cs.call(this,t,e,0,0)};(s["b10ide.tracks._TrackVo._HelperWaypoint"]=Us).__name__=["b10ide","tracks","_TrackVo","_HelperWaypoint"],Us.__interfaces__=[As],Us.__super__=Cs,Us.prototype=t(Cs.prototype,{__class__:Us});var Os=function(t,e,s,i,n,r){null==r&&(r=0),this._scenery=e,this.gate=s,Se.call(this,t,i,n,0,r)};(s["b10ide.tracks.Waypoint"]=Os).__name__=["b10ide","tracks","Waypoint"],Os.__interfaces__=[As],Os.__super__=Se,Os.prototype=t(Se.prototype,{gate:null,size:null,_scenery:null,_isVisible:null,_init:function(){Se.prototype._init.call(this),this.size=200,this._isVisible=!1,this._scenery.isVisible=this._isVisible},getCollision:function(t,e,s){null==s&&(s=0);var i=t-this.x,n=e-this.y;return Math.sqrt(i*i+n*n)<this.size+s},activate:function(){this._isVisible=!1,this._kernel.overlay.flash(20,!1,.5),this._kernel.audio.start("Waypoint",Jt.INTERFACE,1,0,.5)},show:function(){this._isVisible||(this._scenery.setReference(this),this._isVisible=!0)},__class__:Os});var Ps=function(t,e,s,i,n,r,a,l){null==l&&(l=!0),null==a&&(a=10),null==r&&(r=0),null==n&&(n=0),null==i&&(i=0),null==s&&(s=0),this.angleActual=0,this._physics=e,this.size=a,this._isCircle=l,Se.call(this,t,s,i,n,r)};(s["b10ide.units.ARigidBody"]=Ps).__name__=["b10ide","units","ARigidBody"],Ps.__super__=Se,Ps.prototype=t(Se.prototype,{angleActual:null,vz:null,size:null,_physics:null,_shape:null,_material:null,_properties:null,_body:null,_isCircle:null,_prevX:null,_prevY:null,_init:function(){Se.prototype._init.call(this),this._prevX=this.x,this._prevY=this.y,this.vz=0,this._isCircle?this._shape=new ji(this.size,new Xi(0,0)):this._shape=Ri.makeBox(2*this.size,1.5*this.size),(this._shape.owner=this)._material=new Fi(.125,0,1),this._properties=new Vi(.999,.999,0,50,10),this._shape.material=this._material,this._body=this._physics.addBody(this.x,this.y,this._shape,this.angle*Math.PI*2,!1,this._properties),this.setPosition(this.x,this.y,this.z,this.angle),this._body.setSpeed(0,0)},_updater:function(t){null==t&&(t=0),Se.prototype._updater.call(this,t),this._prevX=this.x,this._prevY=this.y,this.x=this._body.x,this.y=this._body.y,this.set_angle(this._body.a/(2*Math.PI)),this.z+=this.vz;this._tools;var e,s=Math.atan2(this._body.v.y,this._body.v.x)/(2*Math.PI)-.25,i=s;e=i-1*Math.floor(i/1),this.angleActual=e;for(var n=this._body.arbiters.iterator();n.hasNext();)n.next()},setPosition:function(t,e,s,i){if(this.x=t,this.y=e,null!=s&&(this.z=s),null!=i){this._tools;var n,r=i;n=r-1*Math.floor(r/1),this.set_angle(n)}null!=this._body&&(this._body.x=this.x,this._body.y=this.y,this._body.a=this.angle*Math.PI*2,this._physics.updateBody(this._body))},setVelocity:function(t,e,s,i){null==i&&(i=0),null==s&&(s=0),null==e&&(e=0),null==t&&(t=0),this._body.setSpeed(t,e,this._body.w+i),null!=s&&(this.vz=s)},set_angle:function(t){return null!=this._body&&(this._body.a=2*t*Math.PI),Se.prototype.set_angle.call(this,t)},get_speed:function(){var t=this._body.v;return Math.sqrt(t.x*t.x+t.y*t.y)},get_vx:function(){return this._body.v.x},get_vy:function(){return this._body.v.y},_disposer:function(){this._physics.removeBody(this._body),Se.prototype._disposer.call(this)},__class__:Ps});var Bs=function(t,e,s){v.call(this,t,e,s)};(s["b10ide.units.Randomizer"]=Bs).__name__=["b10ide","units","Randomizer"],Bs.__super__=v,Bs.prototype=t(v.prototype,{_NORMAL_DISTRIBUTION:null,_init:function(){v.prototype._init.call(this),this._NORMAL_DISTRIBUTION=[42,48,31,52,3,16,26,97,49,46,33,7,88,4,0,25,80,43,13,78,32,36,74,8,96,6,91,93,54,56,23,21,39,79,10,9,60,35,41,44,51,75,37,47,76,40,18,15,64,30,65,1,28,72,84,24,61,2,62,20,89,95,17,55,57,22,98,71,5,34,14,29,27,66,68,53,99,83,69,94,90,87,12,45,85,73,50,92,59,11,77,82,19,38,81,58,67,86,70,63]},getRandom:function(t){null==t&&(t=this._updates);this._tools;var e=t;return t=0|e-100*Math.floor(e/100),this._NORMAL_DISTRIBUTION[t]/100},__class__:Bs});var Rs=function(t,e,s,i,n,r,a,l,o,_,h,u,c){null==h&&(h=!1),this._session=t.get_session(),this.type=e,this._world3d=s,this._track=i,this._countdown=r,this.recording=_,this.isPlayer=h,this._opponent=u,this._onCompleteCallback=c,this.vo=new Qs(t,this.type),Ps.call(this,t,n,a,l,0,o,this.vo.size,!0)};(s["b10ide.units.Unit"]=Rs).__name__=["b10ide","units","Unit"],Rs.__super__=Ps,Rs.prototype=t(Ps.prototype,{type:null,isPlayer:null,vo:null,isRecording:null,isBot:null,isPlayerControlled:null,isOffroad:null,isFinished:null,recording:null,lap:null,raceDuration:null,lapDurationLast:null,lapDurationBest:null,_session:null,_world3d:null,_track:null,_countdown:null,_opponent:null,_onCompleteCallback:null,_scenery:null,_sprite:null,_joypad:null,_logic:null,_mechanics:null,_prevAfterburner:null,_isAutopilotTemp:null,_init:function(){Ps.prototype._init.call(this),this.lap=0,this.raceDuration=0,this.isRecording=null!=this.recording,this.isBot=!this.isPlayer&&!this.isRecording,this.isPlayerControlled=this.isPlayer&&!this.isRecording,this.isOffroad=!1,this.isFinished=!1,this._scenery=this._world3d.addScenery(ge.UNIT(this),this.x,this.y,this.angle),this._sprite=this.vo.sprite,this._shape.groups=this.isPlayer?3:1,this.isRecording||(this.recording=new be,this.recording.configure(this._track.type,this.type,0|this.x,0|this.y,0|this.z,this.angle),this.addEntity(this._logic=new zs(this._kernel,this,this._track,this.isBot)),this.addEntity(xi.__cast(this._joypad=new js(this._kernel,this,this._logic,this._world3d),js))),this.addEntity(this._mechanics=new Fs(this._kernel,this,this._world3d,this._track,this._body));var t=this._mechanics;t.isActive&&!t.isDisposed&&(t._pauser(),t._isIsActiveSetterBypassed=!0,t.set_isActive(!1),t._isEntity&&t._kernel.messenger.sendMessage(ee.PAUSE,t,!0,!0,!0)),this._isAutopilotTemp=!1,this._draw()},_updater:function(t){if(null==t&&(t=0),Ps.prototype._updater.call(this,t),this.isOffroad=!this._track.getIsPositionOverSmooth(this.x,this.y),this._countdown.isStarted){var e=this._mechanics;if(e.isActive||e.isDisposed||(e._resumer(),e._isIsActiveSetterBypassed=!0,e.set_isActive(!0),e._isEntity&&e._kernel.messenger.sendMessage(ee.RESUME,e,!0,!0,!0)),this.isRecording){var s=this.recording.getNextSnapshot();null!=s?this._mechanics.setInputs(s.isUp,s.isRight,s.isDown,s.isLeft,s.isFire):(this._mechanics.setInputs(!1,!1,!1,!1,!1),this.isPlayer&&this.replay())}else{var i=this._logic.isUp,n=this._logic.isRight,r=this._logic.isDown,a=this._logic.isLeft,l=this._logic.isFire;this._logic.isAutopilot||(i=this._joypad.getIsButtonDown(qt.UP),this.recording.getDurationAsFrames()<10&&this.recording.getDurationAsFrames()<this._joypad.getButtonDownDuration(qt.UP,!1)&&(i=!1),n=this._joypad.getIsButtonDown(qt.RIGHT),r=this._joypad.getIsButtonDown(qt.DOWN),a=this._joypad.getIsButtonDown(qt.LEFT),l=this._joypad.getIsButtonDown(qt.PRIMARY));var o=this.recording.createJoypadSnapshot(null,i,n,r,a,l);this.recording.addSnapshot(o),this._mechanics.setInputs(o.isUp,o.isRight,o.isDown,o.isLeft,o.isFire)}this.isFinished||this.raceDuration++}if(this._session.get_isTester()&&this.isPlayerControlled&&this._joypad.getIsButtonRelease(qt.SECONDARY)&&this._logic.set_isAutopilot(!this._logic.isAutopilot),this.vo.isFlying){var _=.75*(20-1.5*this.vo.vibrate);this.z+=3.5*Math.sin(this._updates/_)*(1/_)}this._draw();var h=this.x-this._world3d.camera.x,u=this.y-this._world3d.camera.y,c=Math.sqrt(h*h+u*u)/1e3;this._scenery.depth<0&&(c*=2);this._tools;c=1<c?1:c<0?0:c;var p=this._kernel.audio,d=this.get_speedPerc()*this.get_speedPerc()*.75*(1-c),g=(this._tools,2*this._scenery.pan);p.transform(null,Jt.SUB_TYPE(this),d,1<g?1:g<-1?-1:g)},_draw:function(){var t=this.angle-this._world3d.camera.angle;t-=this._scenery.displacedX;this._tools;var e=t;if(t=e-1*Math.floor(e/1),this.isPlayer){if(this._mechanics.isTurbo){var s=this._world3d.camera;s.set_motionBlur(s.motionBlur+.1);var i=this._world3d.camera;i.set_fov(i.fov-40)}var n=this._world3d.camera;n.set_roll(n.roll-this._mechanics.roll/50)}if(this.vo.isFlying&&this._kernel.isEyeCandy){var r=Math.abs(t-.5),a=this.x+Math.sin((this.angle+.75)*Math.PI*2)*this.vo.height*(this.isRecording?1:.5)*(1-r),l=this.y-Math.cos((this.angle+.75)*Math.PI*2)*this.vo.height*(this.isRecording?1:.5)*(1-r),o=this.z-10,_=null!=this._prevAfterburner?this._prevAfterburner.strength:0,h=(this._tools,this._tools,this._mechanics.isTurbo?1:this._mechanics.isAccelerating?.5*this.get_speedPerc():.25*this.get_speedPerc()),u=.9*_+.1*(1<h?1:h<0?0:h);null!=this._prevAfterburner&&this._world3d.effects.addAfterburner(a,l,o,u,a-this._prevAfterburner.x,l-this._prevAfterburner.y,o-this._prevAfterburner.z,u-this._prevAfterburner.strength),this._prevAfterburner={x:a,y:l,z:o,strength:u}}this._sprite.configure(t),this._sprite.setAltitude(this.z*(100/this._scenery.vo.scaler))},get_speedPerc:function(){return this._mechanics.getSpeedPerc(this.get_speed())},get_speedKmh:function(){return 50*this.get_speed()|0},get_isReversing:function(){this._tools;var t,e=this.angle-this.angleActual-.25,s=e;return t=s-1*Math.floor(s/1),.25<this.get_speedPerc()&&.4<t&&t<.6},finish:function(){if(!this.isRecording){if(this.isPlayer){var t,e=this._countdown;e.isActive&&!e.isDisposed&&(e._pauser(),e._isIsActiveSetterBypassed=!0,e.set_isActive(!1),e._isEntity&&e._kernel.messenger.sendMessage(ee.PAUSE,e,!0,!0,!0));var s=new $e(this._kernel,this._session.levelType);s.gameModeType==he.TIME_TRIAL?t=this.recording.getDurationAsFrames()<s.duration:(t=!this._opponent.isFinished,this._kernel.log(Q.string(Q.string(this._session.levelType)+":"+(t?"win":"loss")))),this._kernel.audio.stop(s.audioIdMusic,Jt.MUSIC),this._kernel.audio.start("Music"+(t?"Win":"Lose"),Jt.MUSIC);this._session.getHighestLevelType();this._session.setDuration(this._session.levelType,this.recording.getDurationAsFrames()),t&&this._session.setMedal(this._session.levelType,pe.BRONZE)}this.isFinished=!0}},shake:function(t){this.isPlayer&&this._world3d.camera.shake(t)},replay:function(){if(this.isPlayer){var t=this._onCompleteCallback,e=[xi.__cast(this.recording.clone(),be)];t.apply(this,e),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())}},getWaypoint:function(){return null==this._logic?null:this._logic.waypoint},_disposer:function(){this._kernel.audio.stop(null,Jt.SUB_TYPE(this));var t=this._scenery;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),Ps.prototype._disposer.call(this)},__class__:Rs});var js=function(t,e,s,i){this._unit=e,this._logic=s,this._world3d=i,v.call(this,t)};(s["b10ide.units.UnitJoypad"]=js).__name__=["b10ide","units","UnitJoypad"],js.__interfaces__=[A],js.__super__=v,js.prototype=t(v.prototype,{_stage:null,_unit:null,_logic:null,_world3d:null,_joypad:null,_isTouch:null,_screenPosition:null,_isLeft:null,_isRight:null,_isUp:null,_isDown:null,_rotation:null,_init:function(){v.prototype._init.call(this),this._stage=this._kernel._stage,this._joypad=this._kernel.inputs.joypad,this._isTouch=!this._kernel.get_session().isDesktop,this._rotation=0;this._isTouch},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),this._isTouch&&(this._isUp=this._isLeft=this._isDown=this._isRight=!1,this._kernel.inputs.mouse.getIsButtonDown())){this._screenPosition=this._world3d.getWorldCoords(this._kernel.inputs.mouse.x,0*this._kernel.inputs.mouse.y);var e,s=this._unit.x-this._screenPosition.x,i=this._unit.y-this._screenPosition.y,n=(Math.sqrt(s*s+i*i),Math.atan2(i,s)/(2*Math.PI)),r=(this._tools,this._unit.angle+.5-n),a=r;e=a-1*Math.floor(a/1);var l=this._unit._logic.dAngle,o=l;.5<l&&(o=-(1-l));this._tools;var _=e+.15*o,h=_;e=h-1*Math.floor(h/1);this._isLeft=e<.5&&.0125<e,this._isRight=.5<=e&&e<.9875,this._isUp=e<.025||.975<e}},_disposer:function(){this._isTouch;v.prototype._disposer.call(this)},getIsButtonDown:function(t){var e=!1;if(this._isTouch)switch(t[1]){case 1:e=this._isUp;break;case 2:e=this._isRight;break;case 3:e=this._isDown;break;case 4:e=this._isLeft;break;default:e=!1}return!!e||this._joypad.getIsButtonDown(t)},getIsButtonRelease:function(t){return this._joypad.getIsButtonRelease(t)},getButtonDownDuration:function(t,e,s){return null==s&&(s=!1),null==e&&(e=!0),this._joypad.getButtonDownDuration(t,e,s)},__class__:js});var zs=function(t,e,s,i){null==i&&(i=!1),this._unit=e,this._track=s,this.isAutopilot=i,v.call(this,t)};(s["b10ide.units.UnitLogic"]=zs).__name__=["b10ide","units","UnitLogic"],zs.__super__=v,zs.prototype=t(v.prototype,{hint:null,waypoint:null,isAutopilot:null,isUp:null,isRight:null,isDown:null,isLeft:null,isFire:null,dAngle:null,_unit:null,_track:null,_randomizer:null,_lapsLeft:null,_hints:null,_waypoints:null,_angleToHint:null,_isFinished:null,_currentLapDuration:null,_isWaypointVisible:null,_init:function(){v.prototype._init.call(this),this.dAngle=.5,this._isWaypointVisible=!1,this.addEntity(this._randomizer=new Bs(this._kernel)),this._isFinished=!1,this._currentLapDuration=0,this._lapsLeft=this._track.lapTotal+1,this._hints=this._track.hints.slice(),this._waypoints=this._track.waypoints.slice(),this.isUp=this.isRight=this.isDown=this.isLeft=this.isFire=!1,this._angleToHint=0,this._nextHint(),this._nextWaypoint()},_updater:function(t){if(null==t&&(t=0),v.prototype._updater.call(this,t),this.isUp=this.isRight=this.isDown=this.isLeft=this.isFire=!1,null!=this.hint){var e=this.hint.size*Math.pow(this._unit.get_speedPerc(),2)*(0<this._hints.length?2:0);this.hint.getCollision(this._unit.x,this._unit.y,e)&&this._nextHint(),this._navigate(),this.isAutopilot&&this._autopilot()}if(!this._isFinished){0<this._unit.lap&&this._currentLapDuration++;var s=this.waypoint.size*(this.isAutopilot&&0<this._waypoints.length?2:0);null!=this.waypoint&&this.waypoint.getCollision(this._unit.x,this._unit.y,s)&&(this._unit.isPlayerControlled&&this._isWaypointVisible&&this.waypoint.activate(),this._nextWaypoint()),this._checkLap()}},_navigate:function(){if(null!=this.hint){var t,e=this._unit.x-this.hint.x,s=this._unit.y-this.hint.y,i=(Math.sqrt(e*e+s*s),Math.atan2(s,e)/(2*Math.PI)),n=(this._tools,this._unit.angle+.5-i),r=n;t=r-1*Math.floor(r/1),this.dAngle=t}},_autopilot:function(){if(null!=this.hint){var t=this.dAngle;t<.5&&.025<t&&(this.isLeft=!0),.5<=t&&t<.975&&(this.isRight=!0),this.isUp=10*Math.abs(t-.5)>5*this._randomizer.getRandom(),this.isDown=!this.isUp&&!this._unit.get_isReversing()&&.25<this._unit.get_speedPerc()}},_checkLap:function(){if(!(this._waypoints.length<1)&&this._waypoints[this._waypoints.length-1].getCollision(this._unit.x,this._unit.y,0)){var t=this._waypoints.length/(this._track.waypoints.length-1)*this._track.lapTotal;Math.round(t)!=this._lapsLeft&&(this._checkBestLap(),this._lapsLeft--,this._unit.lap++)}},_checkBestLap:function(){var t=this._currentLapDuration;(this._currentLapDuration=0)!=this._unit.lap&&((this._unit.lapDurationLast=t)>this._unit.recording.getDurationOfBestLapAsFrames()||(this._unit.recording.durationOfBestLap=t,this._unit.lapDurationBest=t))},_nextHint:function(){0==this._hints.length&&(this._hints=this._track.hints.slice()),this.hint=this._hints.shift()},_nextWaypoint:function(){0!=this._waypoints.length?(this.waypoint=this._waypoints.shift(),this._unit.isPlayerControlled&&this._isWaypointVisible&&this.waypoint.show()):this._finish()},_finish:function(){this._isFinished||(this._isFinished=!0,this._checkBestLap(),this.waypoint=null,this._unit.finish(),this._unit.isPlayer&&(this.addEntity(new Wt(this._kernel,an(nn=this._unit,nn.replay),5e3)),this.set_isAutopilot(!0)))},set_isAutopilot:function(t){return this.isAutopilot=t,null==this.hint&&this._nextHint(),this.isAutopilot},__class__:zs});var Fs=function(t,e,s,i,n){this._session=t.get_session(),this._unit=e,this._world3d=s,this._track=i,this._body=n,v.call(this,t)};(s["b10ide.units.UnitMechanics"]=Fs).__name__=["b10ide","units","UnitMechanics"],Fs.__super__=v,Fs.prototype=t(v.prototype,{isHandbrake:null,isTurbo:null,isJumping:null,isSkidding:null,isAccelerating:null,roll:null,pitch:null,_session:null,_unit:null,_world3d:null,_track:null,_body:null,_isUp:null,_isRight:null,_isDown:null,_isLeft:null,_isFire:null,_randomizer:null,_performance:null,_tractionRate:null,_friction:null,_turboCount:null,_collisionCount:null,_stillCount:null,_speed:null,_traction:null,_prevSteerRate:null,_init:function(){v.prototype._init.call(this),this.isHandbrake=this.isTurbo=this.isJumping=this.isSkidding=this.isAccelerating=!1,this._turboCount=this._collisionCount=this._stillCount=0,this._tractionRate=1.25,this._friction=.975,this._performance=new Vs,this._isUp=this._isRight=this._isDown=this._isLeft=this._isFire=!1,this.addEntity(this._randomizer=new Bs(this._kernel)),this.configure(this._unit.vo.speed,this._unit.vo.acceleration,this._unit.vo.grip,this._unit.vo.steering,this._unit.vo.offroad)},_updater:function(t){null==t&&(t=0),v.prototype._updater.call(this,t),this._unit.isPlayer&&this._track.getIsPositionOverBoost(this._unit.x,this._unit.y)&&this.boost(),this._move(),null!=this._body.arbiters.head&&this._collide()},configure:function(t,e,s,i,n,r){null==r&&(r=1),null==n&&(n=5),null==i&&(i=5),null==s&&(s=5),null==e&&(e=5),null==t&&(t=5);this._tools;t=0|(10<t?10:t<0?0:t);this._tools;e=0|(10<e?10:e<0?0:e);this._tools;s=0|(10<s?10:s<0?0:s);this._tools;var a=10-i;i=0|(10<a?10:a<0?0:a);this._tools;n=0|(10<n?10:n<0?0:n);var l=r*(.4+.2*this._session.skill),o=1+this._track.locationVo.slip/500;this._performance.speedMax=(t+5)*l,this._performance.steer=1/(64*(.5+i/10))*o,this._performance.speedSlide=this._performance.speedMax*(.5+s/20),this._performance.tractionMax=100/(s+1.5),this._performance.tractionMin=this._track.locationVo.slip,this._performance.accel=l*(4*e+10)/60,this._performance.offroadFriction=(10-n)/10,this._traction=this._performance.tractionMin,this._speed=0,this._prevSteerRate=0,this.roll=this.pitch=0},setInputs:function(t,e,s,i,n){this._isUp=t,this._isRight=e,this._isDown=s,this._isLeft=i,this._isFire=n,this._isUp&&this._updates<10&&0==this._turboCount&&this.boost(.5*(4-this._updates/10*2)),this.isAccelerating=this._isUp},_collide:function(){if(!(0<this._collisionCount)&&(this._collisionCount=20,this._speed*=.5,this._unit.shake(this._unit.get_speed()),this._unit.isPlayer)){var t=this._kernel.audio,e=(this._tools,this._unit.get_speedPerc());t.start("Crash",Jt.EFFECTS,1,0,.5<e?.5:e<.1?.1:e)}},boost:function(t){null==t&&(t=1);var e=10*(t*=.5+.5*this._session.skill)|0;if(0==this._turboCount&&this._unit.isPlayer&&!this._unit.isFinished){this._tools;var s=3*e;this._kernel.overlay.flash(10<s?10:s<5?5:s,!1,.5);this._tools;this._kernel.audio.start("Turbo",Jt.EFFECTS,1,0,1<t?1:t<.5?.5:t)}this._turboCount=e},_move:function(){0<this._turboCount&&this._turboCount--,0<this._collisionCount&&this._collisionCount--,this._speed>this._performance.accel?this._stillCount=0:this._stillCount++;var t=!1,e=0,s=this._unit.vo.isFlying||this.isHandbrake;this.isTurbo=0<this._turboCount&&!this.isJumping;this._tools;var i=this._speed,n=0<i?1:0==i?0:-1;if(0==n&&(n=1),!this.isJumping)if(this._isLeft&&!this._isRight){if(this.roll-=4,t=!0,this.isSkidding){this._tools;var r=this._speed;e=-this._performance.steer*(0<r?1:0==r?0:-1)}else{var a=-this._performance.steer*Math.max(this._unit.get_speedPerc(),.5),l=(this._tools,this._speed);e=a*(0<l?1:0==l?0:-1)}s&&(e=-this._performance.steer*n)}else if(this._isRight&&!this._isLeft){if(this.roll+=4,t=!0,this.isSkidding){this._tools;var o=this._speed;e=this._performance.steer*(0<o?1:0==o?0:-1)}else{var _=this._performance.steer*Math.max(this._unit.get_speedPerc(),.5),h=(this._tools,this._speed);e=_*(0<h?1:0==h?0:-1)}s&&(e=this._performance.steer*n)}else this.roll*=.85;this.isHandbrake&&(e*=2);this._tools;var u=this._unit.vo.isFlying?.5:.35;e=e*(1-u)+this._prevSteerRate*u;var c,p=this._unit;if(p.set_angle(p.angle+e),this._body.w+=e,this._prevSteerRate=e,0<this._speed){this._tools;var d=this.roll;c=30<d?30:d<-30?-30:d}else{this._tools;var g=this.roll;c=15<g?15:g<-15?-15:g}if(this.roll=c,Math.abs(this._speed)<=.25*this._performance.speedMax&&(this.roll=0),this.isSkidding=t&&this._speed>this._performance.speedSlide||this.isHandbrake||this.isTurbo,this._isUp||this.isTurbo){var w=this.isTurbo?1:0;this._speed=Math.min(this._speed+this._performance.accel+this._performance.accel*w*(2+10*this._unit.get_speedPerc()),this._performance.speedMax+10*w),this._unit.get_speedPerc()<.75&&(this.pitch-=10,t||2*this._unit.vo.acceleration*this._unit.get_speedPerc()>this._unit.vo.grip&&(this.isSkidding=!0)),this.isTurbo&&(this.pitch-=10)}else if(this._isDown||this.isHandbrake){var y=this._unit.vo.isFlying;0<this._speed&&(y=this.isSkidding=!0),this._unit.vo.isFlying||10<this._stillCount&&(y=!0),y&&(this._speed=Math.max(this._speed-2*this._performance.accel,.35*-this._performance.speedMax),0<this._speed&&(this.pitch+=20)),this.isHandbrake&&this._speed<0&&(this._speed*=.5)}else this._speed*=this._friction,this._speed<0&&(this._speed*=.85);if(this.isJumping)if(this.roll=0,this._unit.vz-=1,this._unit.z<=0)this._unit.vz*=-.25,Math.abs(this._unit.vz)<2&&(this._unit.vz=0),this._unit.z=0,this.isJumping=0!=this._unit.vz,this.isSkidding=!0,this.pitch=0,this._speed*=.1;else{this._tools;var f=-5*this._unit.vz;this.pitch=30<f?30:f<-30?-30:f,this.isSkidding=!1}if(this.isSkidding?this._traction=Math.min(this._performance.tractionMax,this._traction*this._tractionRate*2):this._traction=Math.max(this._performance.tractionMin,this._traction/this._tractionRate),Math.abs(this._speed)<this._performance.accel&&(this._speed=0),!this.isJumping){var v=this._unit.angle,M=1-this._collisionCount/20,D=this._unit.get_vx()+M*((Math.cos(v*Math.PI*2)*this._speed-this._unit.get_vx())/this._traction),m=this._unit.get_vy()+M*((Math.sin(v*Math.PI*2)*this._speed-this._unit.get_vy())/this._traction);if(this._unit.setVelocity(D,m),this._unit.isOffroad){var T=Math.round((this._unit.get_speed()+5)/1*.5),E=1<this._unit.get_speed();this._updates%T==0&&E&&(this._unit.shake(.25*this._unit.get_speed()),this.pitch+=15*(this._randomizer.getRandom()-.5),this.roll+=15*(this._randomizer.getRandom()-.5));var L=1-1*this._performance.offroadFriction*.25;this._speed*=L}}this._tools;var S=.8*this.pitch;this.pitch=30<S?30:S<-30?-30:S},getSpeedPerc:function(t){null==t&&(t=this._unit.get_speed());this._tools;var e=t/this._performance.speedMax;return 1<e?1:e<0?0:e},__class__:Fs});var Vs=function(){};(s["b10ide.units._UnitMechanics._HelperPerformance"]=Vs).__name__=["b10ide","units","_UnitMechanics","_HelperPerformance"],Vs.prototype={speedMax:null,steer:null,speedSlide:null,tractionMax:null,tractionMin:null,accel:null,offroadFriction:null,__class__:Vs};var Ys=function(t,e){createjs.Container.call(this),this._kernel=t,this._vo=e,this._prevFrame=-1,this._frames=["01","02","03","04","05","06","07","08","10","12","14","16","20","24","28","32","36","40","44","48","52","56","58","60","61","62","63","64"];var s={};s.images=[this._vo.bodies],s.frames={width:256,height:134,count:28,regX:128,regY:67},this._spriteSheetBodies=new createjs.SpriteSheet(s);var i={};i.images=[this._vo.shadows],i.frames={width:256,height:134,count:28,regX:128,regY:67},this._spriteSheetShadows=new createjs.SpriteSheet(i),this.bodyBitmap=new createjs.Sprite(this._spriteSheetBodies,1),this.shadowBitmap=new createjs.Sprite(this._spriteSheetShadows,1),this.shadowBitmap.alpha=.3,this.addChild(this.shadowBitmap),this.addChild(this.bodyBitmap),this.configure(1)};(s["b10ide.units.UnitSprite"]=Ys).__name__=["b10ide","units","UnitSprite"],Ys.__super__=createjs.Container,Ys.prototype=t(createjs.Container.prototype,{bodyBitmap:null,shadowBitmap:null,_kernel:null,_vo:null,_prevFrame:null,_frames:null,_spriteSheetBodies:null,_spriteSheetShadows:null,configure:function(t){var e=Math.round(127*t)+1;if(e!=this._prevFrame){128==(this._prevFrame=e)&&(e=1);var s=64<(e=129-e);s&&(e=129-e),e<=60&&(56<=e?e=2*Math.ceil(e/2):16<=e?e=4*Math.ceil(e/4):8<=e&&(e=2*Math.ceil(e/2)));var i=this._frameToCell(e);this.bodyBitmap.gotoAndStop(i),this.shadowBitmap.gotoAndStop(i),this.bodyBitmap.scaleX=this.shadowBitmap.scaleX=1,s&&(this.bodyBitmap.scaleX=this.shadowBitmap.scaleX=-1)}},_frameToCell:function(t){for(var e=0,s=this._frames.length;e<s;){var i=e++;if(Q.parseInt(this._frames[i])==t)return i}return 0},setAltitude:function(t){this.shadowBitmap.y=t+10},__class__:Ys});var Qs=function(t,e){this._kernel=t,this.type=e,this.size=20,this.width=30,this.height=50,this.speed=this._getSpeed(),this.acceleration=this._getAcceleration(),this.grip=this._getGrip(),this.steering=this._getSteering(),this.offroad=5,this.vibrate=this._getVibrate(),this.isFlying=!0,this.bodies=this._getBodies(),this.shadows=this._kernel.assets.getAsset("assets/units/Shadows.png"),this.sprite=this._getSprite(),this.audioIdEngineMax=this._getAudioIdEngineMax()};(s["b10ide.units.UnitVo"]=Qs).__name__=["b10ide","units","UnitVo"],Qs.prototype={type:null,size:null,width:null,height:null,speed:null,acceleration:null,grip:null,steering:null,offroad:null,vibrate:null,isFlying:null,sprite:null,audioIdEngineMax:null,bodies:null,shadows:null,_kernel:null,_getSpeed:function(){switch(this.type[1]){case 0:return 4;case 1:return 5}},_getAcceleration:function(){switch(this.type[1]){case 0:return 6;case 1:return 5}},_getGrip:function(){switch(this.type[1]){case 0:return 6;case 1:return 8}},_getSteering:function(){switch(this.type[1]){case 0:return 5;case 1:return 3}},_getVibrate:function(){switch(this.type[1]){case 0:return 6;case 1:return 5}},_getAudioIdEngineMax:function(){switch(this.type[1]){case 0:return"EngineMaxOpponent";case 1:return"EngineMax"}},_getSprite:function(){return new Ys(this._kernel,this)},_getBodies:function(){switch(this.type[1]){case 0:return this._kernel.assets.getAsset("assets/units/UABodies.png");case 1:return this._kernel.assets.getAsset("assets/units/UBBodies.png")}},__class__:Qs};var Hs=function(t){switch(this.responseCount=0,"direct"!=t&&"organic"!=t&&"referral"!=t&&ti._raiseError("Campaign type has to be one of the Campaign::TYPE_* constant values.","Campaign.new"),this.type=t){case"direct":this.name="(direct)",this.source="(direct)",this.medium="(none)";break;case"organic":this.name="(organic)",this.medium="organic";break;case"referral":this.name="(referral)",this.medium="referral"}this.creationTime=new Ks};(s["googleAnalytics.Campaign"]=Hs).__name__=["googleAnalytics","Campaign"],Hs.prototype={type:null,creationTime:null,responseCount:null,id:null,source:null,gClickId:null,dClickId:null,name:null,medium:null,term:null,content:null,getCreationTime:function(){return this.creationTime},getResponseCount:function(){return this.responseCount},increaseResponseCount:function(t){null==t&&(t=1),this.responseCount+=t},getId:function(){return this.id},getSource:function(){return this.source},getGClickId:function(){return this.gClickId},getDClickId:function(){return this.dClickId},getName:function(){return this.name},getMedium:function(){return this.medium},getTerm:function(){return this.term},getContent:function(){return this.content},__class__:Hs};var Ws=function(t){null==t&&(t=!1),this.sitespeedSampleRate=1,this.endPointPath="/__utm.gif",this.endPointHost="www.google-analytics.com",this.urlScheme="http",this.errorSeverity=2,this.setUrlScheme("http"+(t?"s":""))};(s["googleAnalytics.Config"]=Ws).__name__=["googleAnalytics","Config"],Ws.prototype={errorSeverity:null,urlScheme:null,endPointHost:null,endPointPath:null,sitespeedSampleRate:null,getErrorSeverity:function(){return this.errorSeverity},getUrlScheme:function(){return this.urlScheme},setUrlScheme:function(t){return this.urlScheme=t},getEndPointHost:function(){return this.endPointHost},getEndPointPath:function(){return this.endPointPath},getSitespeedSampleRate:function(){return this.sitespeedSampleRate},__class__:Ws};var Gs=function(t,e,s,i){null==i&&(i=0),null==t&&(t=0),this.scope=3,0!=t&&this.setIndex(t),null!=e&&this.setName(e),null!=s&&this.setValue(s),0!=i&&this.setScope(i)};(s["googleAnalytics.CustomVariable"]=Gs).__name__=["googleAnalytics","CustomVariable"],Gs.prototype={index:null,name:null,value:null,scope:null,getIndex:function(){return this.index},setIndex:function(t){(t<1||5<t)&&ti._raiseError("Custom Variable index has to be between 1 and 5.","CustomVariable.setIndex"),this.index=t},getName:function(){return this.name},setName:function(t){this.name=t},getValue:function(){return this.value},setValue:function(t){this.value=t},getScope:function(){return this.scope},setScope:function(t){3!=t&&2!=t&&1!=t&&ti._raiseError("Custom Variable scope has to be one of the CustomVariable::SCOPE_* constant values.","CustomVariable.setScope"),this.scope=t},__class__:Gs};var Ks=function(t){this.date=null==t?Math.round((new Date).getTime())+"":t};(s["googleAnalytics.DateTime"]=Ks).__name__=["googleAnalytics","DateTime"],Ks.prototype={date:null,toString:function(){return this.date},__class__:Ks};var Xs=function(t,e,s,i,n){null==n&&(n=!1),null==i&&(i=0),this.noninteraction=!1,null!=t&&this.setCategory(t),null!=e&&this.setAction(e),null!=s&&this.setLabel(s),this.setValue(i),this.setNoninteraction(n)};(s["googleAnalytics.Event"]=Xs).__name__=["googleAnalytics","Event"],Xs.prototype={category:null,action:null,label:null,value:null,noninteraction:null,validate:function(){null!=this.category&&null!=this.action||ti._raiseError("Events need at least to have a category and action defined.","Event.validate")},getCategory:function(){return this.category},setCategory:function(t){this.category=t},getAction:function(){return this.action},setAction:function(t){this.action=t},getLabel:function(){return this.label},setLabel:function(t){this.label=t},getValue:function(){return this.value},setValue:function(t){this.value=t},getNoninteraction:function(){return this.noninteraction},setNoninteraction:function(t){this.noninteraction=t},__class__:Xs};var Js=function(t){this.setPath(t)};(s["googleAnalytics.Page"]=Js).__name__=["googleAnalytics","Page"],Js.prototype={path:null,title:null,charset:null,referrer:null,loadTime:null,setPath:function(t){null!=t&&"/"!=t.charAt(0)&&ti._raiseError('The page path should always start with a slash ("/").',"Page.setPath"),this.path=t},getPath:function(){return this.path},getTitle:function(){return this.title},getCharset:function(){return this.charset},getReferrer:function(){return this.referrer},getLoadTime:function(){return this.loadTime},__class__:Js};var Zs=function(){this.setSessionId(this.generateSessionId()),this.setTrackCount(0),this.setStartTime(new Ks)};(s["googleAnalytics.Session"]=Zs).__name__=["googleAnalytics","Session"],Zs.prototype={sessionId:null,trackCount:null,startTime:null,generateSessionId:function(){return ii.generate32bitRandom()},getSessionId:function(){return this.sessionId},setSessionId:function(t){this.sessionId=t},getTrackCount:function(){return this.trackCount},setTrackCount:function(t){this.trackCount=t},increaseTrackCount:function(t){null==t&&(t=1),this.trackCount+=t},getStartTime:function(){return this.startTime},setStartTime:function(t){this.startTime=t},__class__:Zs};var qs=function(){};(s["googleAnalytics.Stats"]=qs).__name__=["googleAnalytics","Stats"],qs.init=function(t,e,s){null==s&&(s=!1),null==qs.accountId&&(qs.accountId=t,qs.domainName=e,qs.tracker=new ti(t,e,new Ws(s)),qs.cache=new Ti,qs.session=new Zs,qs.loadVisitor())},qs.trackEvent=function(t,e,s,i){null==i&&(i=0);var n="event:"+t+"/"+e+"/"+s+":"+i,r=qs.cache;if(!(null!=pn[n]?r.existsReserved(n):r.h.hasOwnProperty(n))){var a=qs.cache,l=new $s(null,new Xs(t,e,s,i)),o=a;null!=pn[n]?o.setReserved(n,l):o.h[n]=l}qs.track(n)},qs.track=function(t){if(!qs.paused){var e=qs.cache;(null!=pn[t]?e.getReserved(t):e.h[t]).track(qs.tracker,qs.visitor,qs.session),qs.persistVisitor()}},qs.loadVisitor=function(){qs.visitor=new ei,qs.visitor.setUserAgent("-not-set- [haxe]"),qs.visitor.setScreenResolution("1024x768"),qs.visitor.setLocale("en_US"),qs.visitor.getUniqueId(),qs.visitor.addSession(qs.session),qs.persistVisitor()},qs.persistVisitor=function(){};var $s=function(t,e){this.page=t,this.event=e};(s["googleAnalytics._Stats.GATrackObject"]=$s).__name__=["googleAnalytics","_Stats","GATrackObject"],$s.prototype={event:null,page:null,track:function(t,e,s){null!=this.page&&t.trackPageview(this.page,s,e),null!=this.event&&t.trackEvent(this.event,s,e)},__class__:$s};var ti=function(t,e,s){this.allowHash=!0,this.customVariables=[],ti.setConfig(null!=s?s:new Ws),this.setAccountId(t),this.setDomainName(e)};(s["googleAnalytics.Tracker"]=ti).__name__=["googleAnalytics","Tracker"],ti.setConfig=function(t){ti.config=t},ti._raiseError=function(t,e){switch(t=e+"(): "+t,null!=ti.config?ti.config.getErrorSeverity():0){case 0:break;case 1:hi.trace(t,{fileName:"Tracker.hx",lineNumber:253,className:"googleAnalytics.Tracker",methodName:"_raiseError"});break;case 2:throw new bi(t)}},ti.prototype={accountId:null,domainName:null,allowHash:null,customVariables:null,campaign:null,setAccountId:function(t){new g("^(UA|MO)-[0-9]*-[0-9]*$","").match(t)||ti._raiseError('"'+t+'" is not a valid Google Analytics account ID.',"Tracker.setAccountId"),this.accountId=t},getAccountId:function(){return this.accountId},setDomainName:function(t){this.domainName=t},getDomainName:function(){return this.domainName},getAllowHash:function(){return this.allowHash},getCustomVariables:function(){return this.customVariables},getCampaign:function(){return this.campaign},trackPageview:function(t,e,s){var i=new li(ti.config);i.setPage(t),i.setSession(e),i.setVisitor(s),i.setTracker(this),i.send()},trackEvent:function(t,e,s){t.validate();var i=new ai(ti.config);i.setEvent(t),i.setSession(e),i.setVisitor(s),i.setTracker(this),i.send()},__class__:ti};var ei=function(){var t=new Ks;this.uniqueId=0,this.setFirstVisitTime(t),this.setPreviousVisitTime(t),this.setCurrentVisitTime(t),this.setVisitCount(1)};(s["googleAnalytics.Visitor"]=ei).__name__=["googleAnalytics","Visitor"],ei.prototype={uniqueId:null,firstVisitTime:null,previousVisitTime:null,currentVisitTime:null,visitCount:null,ipAddress:null,userAgent:null,locale:null,flashVersion:null,javaEnabled:null,screenColorDepth:null,screenResolution:null,generateHash:function(){return ii.generateHash(this.userAgent+this.screenResolution+this.screenColorDepth)},generateUniqueId:function(){return 2147483647&(ii.generate32bitRandom()^this.generateHash())},getUniqueId:function(){return 0==this.uniqueId&&(this.uniqueId=this.generateUniqueId()),this.uniqueId},addSession:function(t){var e=t.getStartTime();e!=this.currentVisitTime&&(this.previousVisitTime=this.currentVisitTime,this.currentVisitTime=e,++this.visitCount)},setFirstVisitTime:function(t){this.firstVisitTime=t},getFirstVisitTime:function(){return this.firstVisitTime},setPreviousVisitTime:function(t){this.previousVisitTime=t},getPreviousVisitTime:function(){return this.previousVisitTime},setCurrentVisitTime:function(t){this.currentVisitTime=t},getCurrentVisitTime:function(){return this.currentVisitTime},setVisitCount:function(t){this.visitCount=t},getVisitCount:function(){return this.visitCount},getIpAddress:function(){return this.ipAddress},setUserAgent:function(t){this.userAgent=t},getUserAgent:function(){return this.userAgent},setLocale:function(t){this.locale=t},getLocale:function(){return this.locale},getFlashVersion:function(){return this.flashVersion},getJavaEnabled:function(){return this.javaEnabled},getScreenColorDepth:function(){return this.screenColorDepth},setScreenResolution:function(t){this.screenResolution=t},getScreenResolution:function(){return this.screenResolution},__class__:ei};var si=function(){this.utmwv="5.2.5",this.utmr=this.utmcs=this.utmfl=this.utmje="0"};(s["googleAnalytics.internals.ParameterHolder"]=si).__name__=["googleAnalytics","internals","ParameterHolder"],si.prototype={utmwv:null,utmac:null,utmhn:null,utmvid:null,utmt:null,utms:null,utmn:null,utmcc:null,utme:null,utmni:null,utmp:null,utmdt:null,utmcs:null,utmr:null,utmip:null,utmul:null,utmfl:null,utmje:null,utmsc:null,utmsr:null,__utma:null,utmhid:null,__utmb:null,__utmc:null,__utmz:null,__utmv:null,toQueryString:function(){for(var t="",e=0,s=et.getInstanceFields(si);e<s.length;){var i=s[e];++e,"_"==i.charAt(0)||Y.isFunction(Y.field(this,i))||null==Y.field(this,i)||"null"==Y.field(this,i)||(t+=i+"="+y.replace(Q.string(Y.field(this,i))+"","&","%26")+"&")}return t},__class__:si};var ii=function(){};(s["googleAnalytics.internals.Util"]=ii).__name__=["googleAnalytics","internals","Util"],ii.encodeUriComponent=function(t){return ii.convertToUriComponentEncoding(encodeURIComponent(t))},ii.stringReplaceArray=function(t,e,s){for(var i=0,n=e.length;i<n;){var r=i++;null!=e[r]&&(t=y.replace(t+" ",e[r],s[r]))}return y.trim(t)},ii.convertToUriComponentEncoding=function(t){return ii.stringReplaceArray(t,["!","*","'","(",")"," ","+"],["%21","%2A","%27","%28","%29","%20","%20"])},ii.generate32bitRandom=function(){return Math.round(2147483647*Math.random())},ii.generateHash=function(t){var e,s,i=1;if(null!=t&&""!=t){i=0;for(var n=t.length-1;0<=n;)0!=(s=266338304&(i=(i<<6&268435455)+(e=$.cca(t,n))+(e<<14)))&&(i^=s>>21),--n}return i};var ni=function(){this.projectData=new Ti,this.KEY="k",this.VALUE="v",this.SET=["k","v"],this.DELIM_BEGIN="(",this.DELIM_END=")",this.DELIM_SET="*",this.DELIM_NUM_VALUE="!",this.MINIMUM=1,this.ESCAPE_CHAR_MAP=new Ti;var t=this.ESCAPE_CHAR_MAP;null!=pn["'"]?t.setReserved("'","'0"):t.h["'"]="'0";var e=this.ESCAPE_CHAR_MAP;null!=pn[")"]?e.setReserved(")","'1"):e.h[")"]="'1";var s=this.ESCAPE_CHAR_MAP;null!=pn["*"]?s.setReserved("*","'2"):s.h["*"]="'2";var i=this.ESCAPE_CHAR_MAP;null!=pn["!"]?i.setReserved("!","'3"):i.h["!"]="'3"};(s["googleAnalytics.internals.X10"]=ni).__name__=["googleAnalytics","internals","X10"],ni.prototype={projectData:null,KEY:null,VALUE:null,SET:null,DELIM_BEGIN:null,DELIM_END:null,DELIM_SET:null,DELIM_NUM_VALUE:null,ESCAPE_CHAR_MAP:null,MINIMUM:null,setKey:function(t,e,s){this.setInternal(t,this.KEY,e,s)},clearKey:function(t){this.clearInternal(t,this.KEY)},setValue:function(t,e,s){this.setInternal(t,this.VALUE,e,s)},clearValue:function(t){this.clearInternal(t,this.VALUE)},setInternal:function(t,e,s,i){var n=this.projectData;if(!(null!=pn[t]?n.existsReserved(t):n.h.hasOwnProperty(t))){var r=this.projectData,a=new Ti,l=r;null!=pn[t]?l.setReserved(t,a):l.h[t]=a}var o=this.projectData,_=null!=pn[t]?o.getReserved(t):o.h[t];if(!(null!=pn[e]?_.existsReserved(e):_.h.hasOwnProperty(e))){var h=[];null!=pn[e]?_.setReserved(e,h):_.h[e]=h}(null!=pn[e]?_.getReserved(e):_.h[e])[s]=i},clearInternal:function(t,e){var s,i=this.projectData;if(null!=pn[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var n=this.projectData,r=null!=pn[t]?n.getReserved(t):n.h[t];s=null!=pn[e]?r.existsReserved(e):r.h.hasOwnProperty(e)}else s=!1;if(s){var a=this.projectData;(null!=pn[t]?a.getReserved(t):a.h[t]).remove(e)}},escapeExtensibleValue:function(t){for(var e="",s=0,i=t.length;s<i;){var n=s++,r=t.charAt(n),a=this.ESCAPE_CHAR_MAP;if(null!=pn[r]?a.existsReserved(r):a.h.hasOwnProperty(r)){var l=this.ESCAPE_CHAR_MAP;e+=null!=pn[r]?l.getReserved(r):l.h[r]}else e+=r}return e},renderDataType:function(t){for(var e=[],s=0,i=0,n=t.length;i<n;){var r=i++,a=t[r];if(null!=a){var l="";r!=this.MINIMUM&&r-1!=s&&(l+=r,l+=this.DELIM_NUM_VALUE),l+=this.escapeExtensibleValue(a),e.push(l)}s=r}return this.DELIM_BEGIN+e.join(this.DELIM_SET)+this.DELIM_END},renderProject:function(t){for(var e="",s=!1,i=0,n=this.SET.length;i<n;){var r=i++,a=this.SET[r];if(null!=pn[a]?t.existsReserved(a):t.h.hasOwnProperty(a)){s&&(e+=this.SET[r]);var l=this.SET[r];e+=this.renderDataType(null!=pn[l]?t.getReserved(l):t.h[l]),s=!1}else s=!0}return e},renderUrlString:function(){for(var t="",e=this.projectData.keys();e.hasNext();){var s=e.next(),i=this.projectData;t+=s+this.renderProject(null!=pn[s]?i.getReserved(s):i.h[s])}return t},__class__:ni};var ri=function(t){this.setConfig(null!=t?t:new Ws)};(s["googleAnalytics.internals.request.Request"]=ri).__name__=["googleAnalytics","internals","request","Request"],ri.prototype={config:null,userAgent:null,tracker:null,visitor:null,session:null,setConfig:function(t){this.config=t},setUserAgent:function(t){this.userAgent=t},setTracker:function(t){this.tracker=t},setVisitor:function(t){this.visitor=t},setSession:function(t){this.session=t},increaseTrackCount:function(){this.session.increaseTrackCount(),500<this.session.getTrackCount()&&ti._raiseError("Google Analytics does not guarantee to process more than 500 requests per session.","Request.buildHttpRequest"),null!=this.tracker.getCampaign()&&this.tracker.getCampaign().increaseResponseCount()},send:function(){if(null!=this.config.getEndPointHost()){var t=this.buildParameters();null!=this.visitor&&(this.setUserAgent(this.visitor.getUserAgent()),t.utmvid=this.visitor.getUniqueId());var e=ii.convertToUriComponentEncoding(t.toQueryString()),s=this.config.getUrlScheme()+"://"+this.config.getEndPointHost()+this.config.getEndPointPath()+"?"+e;this.increaseTrackCount(),(new Image).src=s}},getType:function(){return null},buildParameters:function(){var t=new si;return t.utmac=this.tracker.getAccountId(),t.utmhn=this.tracker.getDomainName(),t.utmt=""+this.getType(),t.utmn=ii.generate32bitRandom(),t.utmip=this.visitor.getIpAddress(),t.utmhid=this.session.getSessionId(),t.utms=this.session.getTrackCount(),t=this.buildVisitorParameters(t),t=this.buildCustomVariablesParameter(t),t=this.buildCampaignParameters(t),t=this.buildCookieParameters(t)},buildVisitorParameters:function(t){return null!=this.visitor.getLocale()&&(t.utmul=y.replace(this.visitor.getLocale(),"_","-").toLowerCase()),null!=this.visitor.getFlashVersion()&&(t.utmfl=this.visitor.getFlashVersion()),t.utmje=this.visitor.getJavaEnabled()?"1":"0",null!=this.visitor.getScreenColorDepth()&&(t.utmsc=this.visitor.getScreenColorDepth()+"-bit"),t.utmsr=this.visitor.getScreenResolution(),t},buildCustomVariablesParameter:function(t){var e=this.tracker.getCustomVariables();if(null==e)return t;5<e.length&&ti._raiseError("The sum of all custom variables cannot exceed 5 in any given request.","Request.buildCustomVariablesParameter");var s,i,n=new ni;n.clearKey("8"),n.clearKey("9"),n.clearKey("11");for(var r=0;r<e.length;){var a=e[r];++r,s=ii.encodeUriComponent(a.getName()),i=ii.encodeUriComponent(a.getValue()),n.setKey("8",a.getIndex(),s),n.setKey("9",a.getIndex(),i),3!=a.getScope()&&n.setKey("11",a.getIndex(),a.getScope())}var l=n.renderUrlString();return null!=l&&(null==t.utme?t.utme=l:t.utme+=l),t},buildCookieParameters:function(t){var e=this.generateDomainHash();t.__utma=e+".",t.__utma+=this.visitor.getUniqueId()+".",t.__utma+=this.visitor.getFirstVisitTime().toString()+".",t.__utma+=this.visitor.getPreviousVisitTime().toString()+".",t.__utma+=this.visitor.getCurrentVisitTime().toString()+".",t.__utma+=this.visitor.getVisitCount(),t.__utmb=e+".",t.__utmb+=this.session.getTrackCount()+".",t.__utmb+="10.",t.__utmb+=this.session.getStartTime().toString(),t.__utmc=e;var s="__utma="+t.__utma+";";return null!=t.__utmz&&(s+="+__utmz="+t.__utmz+";"),null!=t.__utmv&&(s+="+__utmv="+t.__utmv+";"),t.utmcc=s,t},buildCampaignParameters:function(t){var e=this.tracker.getCampaign();if(null==e)return t;t.__utmz=this.generateDomainHash()+".",t.__utmz+=e.getCreationTime().toString()+".",t.__utmz+=this.visitor.getVisitCount()+".",t.__utmz+=e.getResponseCount()+".";var s="utmcid="+e.getId()+"|utmcsr="+e.getSource()+"|utmgclid="+e.getGClickId()+"|utmdclid="+e.getDClickId()+"|utmccn="+e.getName()+"|utmcmd="+e.getMedium()+"|utmctr="+e.getTerm()+"|utmcct="+e.getContent();return t.__utmz+=y.replace(y.replace(s,"+","%20")," ","%20"),t},generateDomainHash:function(){var t=1;return this.tracker.getAllowHash()&&(t=ii.generateHash(this.tracker.getDomainName())),t},__class__:ri};var ai=function(t){ri.call(this,t)};(s["googleAnalytics.internals.request.EventRequest"]=ai).__name__=["googleAnalytics","internals","request","EventRequest"],ai.__super__=ri,ai.prototype=t(ri.prototype,{event:null,getType:function(){return"event"},buildParameters:function(){var t=ri.prototype.buildParameters.call(this),e=new ni;e.clearKey("5"),e.clearValue("5"),e.setKey("5",1,this.event.getCategory()),e.setKey("5",2,this.event.getAction()),null!=this.event.getLabel()&&e.setKey("5",3,this.event.getLabel()),0!=this.event.getValue()&&e.setValue("5",1,this.event.getValue());var s=e.renderUrlString();return null!=s&&(null==t.utme?t.utme=s:t.utme+=s),this.event.getNoninteraction()&&(t.utmni=1),t},setEvent:function(t){this.event=t},__class__:ai});var li=function(t){ri.call(this,t)};(s["googleAnalytics.internals.request.PageviewRequest"]=li).__name__=["googleAnalytics","internals","request","PageviewRequest"],li.__super__=ri,li.prototype=t(ri.prototype,{page:null,getType:function(){return null},buildParameters:function(){var t=ri.prototype.buildParameters.call(this);return t.utmp=this.page.getPath(),t.utmdt=this.page.getTitle(),null!=this.page.getCharset()&&(t.utmcs=this.page.getCharset()),null!=this.page.getReferrer()&&(t.utmr=this.page.getReferrer()),0!=this.page.getLoadTime()&&t.utmn%100<this.config.getSitespeedSampleRate()&&(null==t.utme?t.utme="0":t.utme+=0),t},setPage:function(t){this.page=t},__class__:li});var oi=function(){};(s["haxe.IMap"]=oi).__name__=["haxe","IMap"];var _i=function(t){this.url=t,this.headers=new tt,this.params=new tt,this.async=!0,this.withCredentials=!1};(s["haxe.Http"]=_i).__name__=["haxe","Http"],_i.prototype={url:null,responseData:null,async:null,withCredentials:null,postData:null,headers:null,params:null,req:null,request:function(t){var i=this;i.responseData=null;var n=this.req=Ci.createXMLHttpRequest(),e=function(t){if(4==n.readyState){var e;try{e=n.status}catch(t){e=null}if(null!=e&&"undefined"!=typeof window){var s=window.location.protocol.toLowerCase();new g("^(?:about|app|app-storage|.+-extension|file|res|widget):$","").match(s)&&(e=null!=n.responseText?200:404)}if(null==e&&(e=null),null!=e&&i.onStatus(e),null!=e&&200<=e&&e<400)i.req=null,i.onData(i.responseData=n.responseText);else if(null==e)i.req=null,i.onError("Failed to connect or resolve host");else switch(e){case 12007:i.req=null,i.onError("Unknown host");break;case 12029:i.req=null,i.onError("Failed to connect to host");break;default:i.req=null,i.responseData=n.responseText,i.onError("Http Error #"+n.status)}}};this.async&&(n.onreadystatechange=e);var s=this.postData;if(null!=s)t=!0;else for(var r=this.params.h;null!=r;){var a=r.item;r=r.next;var l=a;null==s?s="":s+="&";var o=l.param,_=encodeURIComponent(o)+"=",h=l.value;s+=_+encodeURIComponent(h)}try{if(t)n.open("POST",this.url,this.async);else if(null!=s){var u=this.url.split("?").length<=1;n.open("GET",this.url+(u?"?":"&")+s,this.async),s=null}else n.open("GET",this.url,this.async)}catch(t){return t instanceof bi&&(t=t.val),i.req=null,void this.onError(t.toString())}n.withCredentials=this.withCredentials,!w.exists(this.headers,function(t){return"Content-Type"==t.header})&&t&&null==this.postData&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var c=this.headers.h;null!=c;){var p=c.item;c=c.next;var d=p;n.setRequestHeader(d.header,d.value)}n.send(s),this.async||e()},onData:function(t){},onError:function(t){},onStatus:function(t){},__class__:_i};var hi=function(){};(s["haxe.Log"]=hi).__name__=["haxe","Log"],hi.trace=function(t,e){xi.__trace(t,e)};var ui=function(){};(s["haxe.Resource"]=ui).__name__=["haxe","Resource"],ui.getString=function(t){for(var e=0,s=ui.content;e<s.length;){var i=s[e];if(++e,i.name==t)return null!=i.str?i.str:yi.decode(i.data).toString()}return null};var ci=function(){this.buf=new U,this.cache=[],this.useCache=ci.USE_CACHE,this.useEnumIndex=ci.USE_ENUM_INDEX,this.shash=new Ti,this.scount=0};(s["haxe.Serializer"]=ci).__name__=["haxe","Serializer"],ci.run=function(t){var e=new ci;return e.serialize(t),e.toString()},ci.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash,s=null!=pn[t]?e.getReserved(t):e.h[t];if(null!=s)return this.buf.b+="R",void(this.buf.b+=null==s?"null":""+s);var i=this.shash,n=this.scount++;null!=pn[t]?i.setReserved(t,n):i.h[t]=n,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=Q.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t},serializeRef:function(t){for(var e=typeof t,s=0,i=this.cache.length;s<i;){var n=s++,r=this.cache[n];if(typeof r==e&&r==t)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,s=Y.fields(t);e<s.length;){var i=s[e];++e,this.serializeString(i),this.serialize(Y.field(t,i))}this.buf.b+="g"},serialize:function(t){var e=et.typeof(t);switch(e[1]){case 0:this.buf.b+="n";break;case 1:var s=t;if(0==s)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==s?"null":""+s;break;case 2:var i=t;isNaN(i)?this.buf.b+="k":isFinite(i)?(this.buf.b+="d",this.buf.b+=null==i?"null":""+i):this.buf.b+=i<0?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(xi.__instanceof(t,un)){var n=et.getClassName(t);this.buf.b+="A",this.serializeString(n)}else if(xi.__instanceof(t,cn))this.buf.b+="B",this.serializeString(et.getEnumName(t));else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw new bi("Cannot serialize function");case 6:var r=e[2];if(r==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(r){case Array:var a=0;this.buf.b+="a";for(var l=0,o=t.length;l<o;){var _=l++;null==t[_]?++a:(0<a&&(1==a?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==a?"null":""+a),a=0),this.serialize(t[_]))}0<a&&(1==a?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==a?"null":""+a)),this.buf.b+="h";break;case Date:var h=t;this.buf.b+="v",this.buf.b+=Q.string(h.getTime());break;case tt:this.buf.b+="l";for(var u=t.h;null!=u;){var c=u.item;u=u.next;var p=c;this.serialize(p)}this.buf.b+="h";break;case Di:this.buf.b+="q";for(var d=t,g=d.keys();g.hasNext();){var w=g.next();this.buf.b+=":",this.buf.b+=null==w?"null":""+w,this.serialize(d.h[w])}this.buf.b+="h";break;case mi:this.buf.b+="M";for(var y=t,f=y.keys();f.hasNext();){var v=f.next(),M=Y.field(v,"__id__");Y.deleteField(v,"__id__"),this.serialize(v),v.__id__=M,this.serialize(y.h[v.__id__])}this.buf.b+="h";break;case Ti:this.buf.b+="b";for(var D=t,m=D.keys();m.hasNext();){var T=m.next();this.serializeString(T),this.serialize(null!=pn[T]?D.getReserved(T):D.h[T])}this.buf.b+="h";break;case wi:var E=t;this.buf.b+="s",this.buf.b+=Q.string(Math.ceil(8*E.length/6)),this.buf.b+=":";var L=0,S=E.length-2,A=ci.BASE64_CODES;if(null==A){var b=ci.BASE64.length;A=new Array(b);for(var x=0,C=ci.BASE64.length;x<C;){var N=x++;A[N]=$.cca(ci.BASE64,N)}ci.BASE64_CODES=A}for(;L<S;){var k=E.b[L++],I=E.b[L++],U=E.b[L++];this.buf.b+=String.fromCharCode(A[k>>2]),this.buf.b+=String.fromCharCode(A[63&(k<<4|I>>4)]),this.buf.b+=String.fromCharCode(A[63&(I<<2|U>>6)]),this.buf.b+=String.fromCharCode(A[63&U])}if(L==S){var O=E.b[L++],P=E.b[L++];this.buf.b+=String.fromCharCode(A[O>>2]),this.buf.b+=String.fromCharCode(A[63&(O<<4|P>>4)]),this.buf.b+=String.fromCharCode(A[P<<2&63])}else if(L==S+1){var B=E.b[L++];this.buf.b+=String.fromCharCode(A[B>>2]),this.buf.b+=String.fromCharCode(A[B<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(et.getClassName(r)),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(et.getClassName(r)),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:var R=e[2];if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=Q.string(this.useEnumIndex?"j":"w"),this.serializeString(et.getEnumName(R)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=Q.string(t[1])):this.serializeString(t[0]),this.buf.b+=":";var j=t.length;this.buf.b+=Q.string(j-2);for(var z=2,F=j;z<F;){var V=z++;this.serialize(t[V])}this.useCache&&this.cache.push(t);break;default:throw new bi("Cannot serialize "+Q.string(t))}},__class__:ci};var pi=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};(s["haxe.Timer"]=pi).__name__=["haxe","Timer"],pi.delay=function(t,e){var s=new pi(e);return s.run=function(){s.stop(),t()},s},pi.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:pi};var di=function(){};(s["haxe._Unserializer.DefaultResolver"]=di).__name__=["haxe","_Unserializer","DefaultResolver"],di.prototype={resolveClass:function(t){return et.resolveClass(t)},resolveEnum:function(t){return et.resolveEnum(t)},__class__:di};var gi=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var e=gi.DEFAULT_RESOLVER;null==e&&(e=new di,gi.DEFAULT_RESOLVER=e),this.resolver=e};(s["haxe.Unserializer"]=gi).__name__=["haxe","Unserializer"],gi.initCodes=function(){for(var t=[],e=0,s=gi.BASE64.length;e<s;){var i=e++;t[gi.BASE64.charCodeAt(i)]=i}return t},gi.run=function(t){return new gi(t).unserialize()},gi.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){for(var t=0,e=!1,s=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||57<i)break;t=10*t+(i-48),this.pos++}else{if(this.pos!=s)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(43<=e&&e<58||101==e||69==e))break;this.pos++}return parseFloat($.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw new bi("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw new bi("Invalid object key");var s=this.unserialize();t[e]=s}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw new bi("Invalid enum format");var s=this.readDigits();if(0==s)return et.createEnum(t,e);for(var i=[];0<s--;)i.push(this.unserialize());return et.createEnum(t,e,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var t=this.unserialize(),e=this.resolver.resolveClass(t);if(null==e)throw new bi("Class not found "+t);return e;case 66:var s=this.unserialize(),i=this.resolver.resolveEnum(s);if(null==i)throw new bi("Enum not found "+s);return i;case 67:var n=this.unserialize(),r=this.resolver.resolveClass(n);if(null==r)throw new bi("Class not found "+n);var a=et.createEmptyInstance(r);if(this.cache.push(a),a.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new bi("Invalid custom data");return a;case 77:var l=new mi;this.cache.push(l);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var o=this.unserialize();l.set(o,this.unserialize())}return this.pos++,l;case 82:var _=this.readDigits();if(_<0||_>=this.scache.length)throw new bi("Invalid string reference");return this.scache[_];case 97:this.buf;var h=[];for(this.cache.push(h);;){var u=this.buf.charCodeAt(this.pos);if(104==u){this.pos++;break}if(117==u){this.pos++;var c=this.readDigits();h[h.length+c-1]=null}else h.push(this.unserialize())}return h;case 98:var p=new Ti;this.cache.push(p);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var d=this.unserialize(),g=this.unserialize();null!=pn[d]?p.setReserved(d,g):p.h[d]=g}return this.pos++,p;case 99:var w=this.unserialize(),y=this.resolver.resolveClass(w);if(null==y)throw new bi("Class not found "+w);var f=et.createEmptyInstance(y);return this.cache.push(f),this.unserializeObject(f),f;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var v=this.unserialize(),M=this.resolver.resolveEnum(v);if(null==M)throw new bi("Enum not found "+v);this.pos++;var D=this.readDigits(),m=M.__constructs__.slice()[D];if(null==m)throw new bi("Unknown enum index "+v+"@"+D);var T=this.unserializeEnum(M,m);return this.cache.push(T),T;case 107:return NaN;case 108:var E=new tt;this.cache.push(E);for(this.buf;104!=this.buf.charCodeAt(this.pos);)E.add(this.unserialize());return this.pos++,E;case 109:return-1/0;case 110:return null;case 111:var L={};return this.cache.push(L),this.unserializeObject(L),L;case 112:return 1/0;case 113:var S=new Di;this.cache.push(S);this.buf;for(var A=this.buf.charCodeAt(this.pos++);58==A;){var b=this.readDigits(),x=this.unserialize();S.h[b]=x,A=this.buf.charCodeAt(this.pos++)}if(104!=A)throw new bi("Invalid IntMap format");return S;case 114:var C=this.readDigits();if(C<0||C>=this.cache.length)throw new bi("Invalid reference");return this.cache[C];case 115:var N=this.readDigits(),k=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<N)throw new bi("Invalid bytes length");var I=gi.CODES;null==I&&(I=gi.initCodes(),gi.CODES=I);for(var U=this.pos,O=3&N,P=U+(N-O),B=new wi(new dn(3*(N>>2)+(2<=O?O-1:0))),R=0;U<P;){var j=I[k.charCodeAt(U++)],z=I[k.charCodeAt(U++)];B.b[R++]=255&(j<<2|z>>4);var F=I[k.charCodeAt(U++)];B.b[R++]=255&(z<<4|F>>2);var V=I[k.charCodeAt(U++)];B.b[R++]=255&(F<<6|V)}if(2<=O){var Y=I[k.charCodeAt(U++)],Q=I[k.charCodeAt(U++)];if(B.b[R++]=255&(Y<<2|Q>>4),3==O){var H=I[k.charCodeAt(U++)];B.b[R++]=255&(Q<<4|H>>2)}}return this.pos+=N,this.cache.push(B),B;case 116:return!0;case 118:var W;if(48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4))W=$.strDate($.substr(this.buf,this.pos,19)),this.pos+=19;else{var G=this.readFloat();W=new Date(G)}return this.cache.push(W),W;case 119:var K=this.unserialize(),X=this.resolver.resolveEnum(K);if(null==X)throw new bi("Enum not found "+K);var J=this.unserializeEnum(X,this.unserialize());return this.cache.push(J),J;case 120:throw bi.wrap(this.unserialize());case 121:var Z=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<Z)throw new bi("Invalid string length");var q=$.substr(this.buf,this.pos,Z);return this.pos+=Z,q=decodeURIComponent(q.split("+").join(" ")),this.scache.push(q),q;case 122:return 0}throw this.pos--,new bi("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:gi};var wi=function(t){this.length=t.byteLength,this.b=new wn(t),(this.b.bufferValue=t).hxBytes=this,t.bytes=this.b};(s["haxe.io.Bytes"]=wi).__name__=["haxe","io","Bytes"],wi.alloc=function(t){return new wi(new dn(t))},wi.ofString=function(t){for(var e=[],s=0;s<t.length;){var i=t.charCodeAt(s++);55296<=i&&i<=56319&&(i=i-55232<<10|1023&t.charCodeAt(s++)),i<=127?e.push(i):(i<=2047?e.push(192|i>>6):(i<=65535?e.push(224|i>>12):(e.push(240|i>>18),e.push(128|i>>12&63)),e.push(128|i>>6&63)),e.push(128|63&i))}return new wi(new wn(e).buffer)},wi.ofData=function(t){var e=t.hxBytes;return null!=e?e:new wi(t)},wi.fastGet=function(t,e){return t.bytes[e]},wi.prototype={length:null,b:null,getString:function(t,e){if(t<0||e<0||t+e>this.length)throw new bi(Ei.OutsideBounds);for(var s="",i=this.b,n=String.fromCharCode,r=t,a=t+e;r<a;){var l=i[r++];if(l<128){if(0==l)break;s+=n(l)}else if(l<224)s+=n((63&l)<<6|127&i[r++]);else if(l<240){s+=n((31&l)<<12|(127&i[r++])<<6|127&i[r++])}else{var o=(15&l)<<18|(127&i[r++])<<12|(127&i[r++])<<6|127&i[r++];s+=n(55232+(o>>10)),s+=n(1023&o|56320)}}return s},toString:function(){return this.getString(0,this.length)},__class__:wi};var yi=function(){};(s["haxe.crypto.Base64"]=yi).__name__=["haxe","crypto","Base64"],yi.decode=function(t,e){if(null==e&&(e=!0),e)for(;61==$.cca(t,t.length-1);)t=$.substr(t,0,-1);return new fi(yi.BYTES).decodeBytes(wi.ofString(t))};var fi=function(t){for(var e=t.length,s=1;1<<s<e;)++s;if(8<s||e!=1<<s)throw new bi("BaseCode : base length must be a power of two.");this.base=t,this.nbits=s};(s["haxe.crypto.BaseCode"]=fi).__name__=["haxe","crypto","BaseCode"],fi.prototype={base:null,nbits:null,tbl:null,initTable:function(){for(var t=[],e=0;e<256;){t[e++]=-1}for(var s=0,i=this.base.length;s<i;){var n=s++;t[this.base.b[n]]=n}this.tbl=t},decodeBytes:function(t){var e=this.nbits;this.base;null==this.tbl&&this.initTable();for(var s=this.tbl,i=t.length*e>>3,n=new wi(new dn(i)),r=0,a=0,l=0,o=0;o<i;){for(;a<8;){a+=e,r<<=e;var _=s[t.b[l++]];if(-1==_)throw new bi("BaseCode : invalid encoded char");r|=_}a-=8,n.b[o++]=255&r>>a}return n},__class__:fi};var vi=function(t,e){this.elt=t,this.next=e};(s["haxe.ds.GenericCell"]=vi).__name__=["haxe","ds","GenericCell"],vi.prototype={elt:null,next:null,__class__:vi};var Mi=function(){};(s["haxe.ds.GenericStack"]=Mi).__name__=["haxe","ds","GenericStack"],Mi.prototype={head:null,remove:function(t){for(var e=null,s=this.head;null!=s;){if(s.elt==t){null==e?this.head=s.next:e.next=s.next;break}s=(e=s).next}return null!=s},iterator:function(){var e=this.head;return{hasNext:function(){return null!=e},next:function(){var t=e;return e=t.next,t.elt}}},__class__:Mi};var Di=function(){this.h={}};(s["haxe.ds.IntMap"]=Di).__name__=["haxe","ds","IntMap"],Di.__interfaces__=[oi],Di.prototype={h:null,remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return $.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t]}}},__class__:Di};var mi=function(){this.h={__keys__:{}}};(s["haxe.ds.ObjectMap"]=mi).__name__=["haxe","ds","ObjectMap"],mi.__interfaces__=[oi],mi.assignId=function(t){return t.__id__=++mi.count},mi.getId=function(t){return t.__id__},mi.prototype={h:null,set:function(t,e){var s=t.__id__||(t.__id__=++mi.count);this.h[s]=e,this.h.__keys__[s]=t},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return $.iter(t)},__class__:mi};var Ti=function(){this.h={}};(s["haxe.ds.StringMap"]=Ti).__name__=["haxe","ds","StringMap"],Ti.__interfaces__=[oi],Ti.prototype={h:null,rh:null,setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=pn[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return $.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:Ti};var Ei=s["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Ei.Blocked=["Blocked",0],Ei.Blocked.toString=i,(Ei.Blocked.__enum__=Ei).Overflow=["Overflow",1],Ei.Overflow.toString=i,(Ei.Overflow.__enum__=Ei).OutsideBounds=["OutsideBounds",2],Ei.OutsideBounds.toString=i,(Ei.OutsideBounds.__enum__=Ei).Custom=function(t){var e=["Custom",3,t];return e.__enum__=Ei,e.toString=i,e};var Li=function(t,e,s){this.xml=e,this.message=t,this.position=s,this.lineNumber=1;for(var i=this.positionAtLine=0,n=s;i<n;){var r=i++,a=e.charCodeAt(r);10==a?(this.lineNumber++,this.positionAtLine=0):13!=a&&this.positionAtLine++}};(s["haxe.xml.XmlParserException"]=Li).__name__=["haxe","xml","XmlParserException"],Li.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return et.getClassName(xi.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Li};var Si=function(){};(s["haxe.xml.Parser"]=Si).__name__=["haxe","xml","Parser"],Si.parse=function(t,e){null==e&&(e=!1);var s=O.createDocument();return Si.doParse(t,e,0,s),s},Si.doParse=function(t,e,s,i){null==s&&(s=0);for(var n=null,r=1,a=1,l=null,o=0,_=0,h=0,u=t.charCodeAt(s),c=new U,p=1,d=-1;u==u;){switch(r){case 0:switch(u){case 9:case 10:case 13:case 32:break;default:r=a;continue}break;case 1:if(60!=u){o=s,r=13;continue}r=0,a=2;break;case 2:switch(u){case 33:if(91==t.charCodeAt(s+1)){if("CDATA["!=$.substr(t,s+=2,6).toUpperCase())throw new bi(new Li("Expected <![CDATA[",t,s));r=17,o=(s+=5)+1}else if(68==t.charCodeAt(s+1)||100==t.charCodeAt(s+1)){if("OCTYPE"!=$.substr(t,s+2,6).toUpperCase())throw new bi(new Li("Expected <!DOCTYPE",t,s));r=16,o=(s+=8)+1}else{if(45!=t.charCodeAt(s+1)||45!=t.charCodeAt(s+2))throw new bi(new Li("Expected \x3c!--",t,s));r=15,o=(s+=2)+1}break;case 47:if(null==i)throw new bi(new Li("Expected node name",t,s));o=s+1,r=0,a=10;break;case 63:r=14,o=s;break;default:r=3,o=s;continue}break;case 3:if(!(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)){if(s==o)throw new bi(new Li("Expected node name",t,s));n=O.createElement($.substr(t,o,s-o)),i.addChild(n),++_,r=0,a=4;continue}break;case 4:switch(u){case 47:r=11;break;case 62:r=9;break;default:r=5,o=s;continue}break;case 5:if(!(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)){if(o==s)throw new bi(new Li("Expected attribute name",t,s));if(l=$.substr(t,o,s-o),n.exists(l))throw new bi(new Li("Duplicate attribute ["+l+"]",t,s));r=0,a=6;continue}break;case 6:if(61!=u)throw new bi(new Li("Expected =",t,s));r=0,a=7;break;case 7:switch(u){case 34:case 39:c=new U,r=8,o=s+1,d=u;break;default:throw new bi(new Li('Expected "',t,s))}break;case 8:switch(u){case 38:var g=s-o;c.b+=$.substr(t,o,null==g?null:g),r=18,p=8,o=s+1;break;case 60:case 62:if(e)throw new bi(new Li("Invalid unescaped "+String.fromCharCode(u)+" in attribute value",t,s));if(u==d){var w=s-o;c.b+=$.substr(t,o,null==w?null:w);var y=c.b;c=new U,n.set(l,y),r=0,a=4}break;default:if(u==d){var f=s-o;c.b+=$.substr(t,o,null==f?null:f);var v=c.b;c=new U,n.set(l,v),r=0,a=4}}break;case 9:o=s=Si.doParse(t,e,s,n),r=1;break;case 10:if(!(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)){if(o==s)throw new bi(new Li("Expected node name",t,s));var M=$.substr(t,o,s-o);if(i.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+i.nodeType);if(M!=i.nodeName){if(i.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+i.nodeType);throw new bi(new Li("Expected </"+i.nodeName+">",t,s))}r=0,a=12;continue}break;case 11:if(62!=u)throw new bi(new Li("Expected >",t,s));r=1;break;case 12:if(62==u)return 0==_&&i.addChild(O.createPCData("")),s;throw new bi(new Li("Expected >",t,s));case 13:if(60==u){var D=s-o;c.b+=$.substr(t,o,null==D?null:D);var m=O.createPCData(c.b);c=new U,i.addChild(m),++_,r=0,a=2}else if(38==u){var T=s-o;c.b+=$.substr(t,o,null==T?null:T),r=18,p=13,o=s+1}break;case 14:if(63==u&&62==t.charCodeAt(s+1)){var E=$.substr(t,o+1,++s-o-2);i.addChild(O.createProcessingInstruction(E)),++_,r=1}break;case 15:45==u&&45==t.charCodeAt(s+1)&&62==t.charCodeAt(s+2)&&(i.addChild(O.createComment($.substr(t,o,s-o))),++_,s+=2,r=1);break;case 16:91==u?++h:93==u?--h:62==u&&0==h&&(i.addChild(O.createDocType($.substr(t,o,s-o))),++_,r=1);break;case 17:if(93==u&&93==t.charCodeAt(s+1)&&62==t.charCodeAt(s+2)){var L=O.createCData($.substr(t,o,s-o));i.addChild(L),++_,s+=2,r=1}break;case 18:if(59==u){var S=$.substr(t,o,s-o);if(35==S.charCodeAt(0)){var A=120==S.charCodeAt(1)?Q.parseInt("0"+$.substr(S,1,S.length-1)):Q.parseInt($.substr(S,1,S.length-1));c.b+=String.fromCharCode(A)}else{var b=Si.escapes;if(null!=pn[S]?b.existsReserved(S):b.h.hasOwnProperty(S)){var x=Si.escapes,C=null!=pn[S]?x.getReserved(S):x.h[S];c.b+=Q.string(C)}else{if(e)throw new bi(new Li("Undefined entity: "+S,t,s));c.b+=Q.string("&"+S+";")}}o=s+1,r=p}else if(!(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)&&35!=u){if(e)throw new bi(new Li("Invalid character in entity: "+String.fromCharCode(u),t,s));c.b+="&";var N=s-o;c.b+=$.substr(t,o,null==N?null:N),o=s--,r=p}}u=t.charCodeAt(++s)}if(1==r&&(o=s,r=13),13==r){if(s!=o||0==_){var k=s-o;c.b+=$.substr(t,o,null==k?null:k),i.addChild(O.createPCData(c.b)),++_}return s}if(!e&&18==r&&13==p){c.b+="&";var I=s-o;return c.b+=$.substr(t,o,null==I?null:I),i.addChild(O.createPCData(c.b)),++_,s}throw new bi(new Li("Unexpected end",t,s))};var Ai=function(t){this.output=new U,this.pretty=t};(s["haxe.xml.Printer"]=Ai).__name__=["haxe","xml","Printer"],Ai.print=function(t,e){null==e&&(e=!1);var s=new Ai(e);return s.writeNode(t,""),s.output.b},Ai.prototype={output:null,pretty:null,writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=Q.string(e+"<"),t.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+t.nodeType);this.output.b+=Q.string(t.nodeName);for(var s=t.attributes();s.hasNext();){var i=s.next();this.output.b+=Q.string(" "+i+'="');var n=y.htmlEscape(t.get(i),!0);this.output.b+=Q.string(n),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=O.Document&&t.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+t.nodeType);for(var r=$.iter(t.children);r.hasNext();){var a=r.next();this.writeNode(a,this.pretty?e+"\t":e)}if(this.output.b+=Q.string(e+"</"),t.nodeType!=O.Element)throw new bi("Bad node type, expected Element but found "+t.nodeType);this.output.b+=Q.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==O.Document||t.nodeType==O.Element)throw new bi("Bad node type, unexpected "+t.nodeType);var l=t.nodeValue;if(0!=l.length){var o=e+y.htmlEscape(l);this.output.b+=Q.string(o),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=Q.string(e+"<![CDATA["),t.nodeType==O.Document||t.nodeType==O.Element)throw new bi("Bad node type, unexpected "+t.nodeType);var _=y.trim(t.nodeValue);this.output.b+=Q.string(_),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==O.Document||t.nodeType==O.Element)throw new bi("Bad node type, unexpected "+t.nodeType);var h=t.nodeValue,u=new RegExp("[\n\r\t]+","g".split("u").join(""));h="\x3c!--"+(h=h.replace(u,""))+"--\x3e",this.output.b+=null==e?"null":""+e;var c=y.trim(h);this.output.b+=Q.string(c),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==O.Document||t.nodeType==O.Element)throw new bi("Bad node type, unexpected "+t.nodeType);this.output.b+=Q.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==O.Document||t.nodeType==O.Element)throw new bi("Bad node type, unexpected "+t.nodeType);this.output.b+=Q.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=O.Document&&t.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+t.nodeType);for(var p=$.iter(t.children);p.hasNext();){var d=p.next();this.writeNode(d,e)}}},hasChildren:function(t){if(t.nodeType!=O.Document&&t.nodeType!=O.Element)throw new bi("Bad node type, expected Element or Document but found "+t.nodeType);for(var e=$.iter(t.children);e.hasNext();){var s=e.next();switch(s.nodeType){case 0:case 1:return!0;case 2:case 3:if(s.nodeType==O.Document||s.nodeType==O.Element)throw new bi("Bad node type, unexpected "+s.nodeType);if(0!=y.ltrim(s.nodeValue).length)return!0}}return!1},__class__:Ai};var bi=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,bi)};(s["js._Boot.HaxeError"]=bi).__name__=["js","_Boot","HaxeError"],bi.wrap=function(t){return t instanceof Error?t:new bi(t)},bi.__super__=Error,bi.prototype=t(Error.prototype,{val:null,__class__:bi});var xi=function(){};(s["js.Boot"]=xi).__name__=["js","Boot"],xi.__unhtml=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},xi.__trace=function(t,e){var s,i=null!=e?e.fileName+":"+e.lineNumber+": ":"";if(i+=xi.__string_rec(t,""),null!=e&&null!=e.customParams)for(var n=0,r=e.customParams;n<r.length;){var a=r[n];++n,i+=","+xi.__string_rec(a,"")}"undefined"!=typeof document&&null!=(s=document.getElementById("haxe:trace"))?s.innerHTML+=xi.__unhtml(i)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(i)},xi.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var s=xi.__nativeClassName(t);return null!=s?xi.__resolveNativeClass(s):null},xi.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var s=typeof t;switch("function"==s&&(t.__name__||t.__ename__)&&(s="object"),s){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var i=t[0]+"(";e+="\t";for(var n=2,r=t.length;n<r;){var a=n++;i+=2!=a?","+xi.__string_rec(t[a],e):xi.__string_rec(t[a],e)}return i+")"}var l="[";e+="\t";for(var o=0,_=t.length;o<_;){var h=o++;l+=(0<h?",":"")+xi.__string_rec(t[h],e)}return l+="]"}var u;try{u=t.toString}catch(t){return"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var c=t.toString();if("[object Object]"!=c)return c}var p=null,d="{\n";e+="\t";var g=null!=t.hasOwnProperty;for(var p in t)g&&!t.hasOwnProperty(p)||"prototype"!=p&&"__class__"!=p&&"__super__"!=p&&"__interfaces__"!=p&&"__properties__"!=p&&(2!=d.length&&(d+=", \n"),d+=e+p+" : "+xi.__string_rec(t[p],e));return d+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},xi.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var s=t.__interfaces__;if(null!=s)for(var i=0,n=s.length;i<n;){var r=s[i++];if(r==e||xi.__interfLoop(r,e))return!0}return xi.__interfLoop(t.__super__,e)},xi.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case hn:return"boolean"==typeof t;case on:return!0;case _n:return"number"==typeof t;case ln:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(xi.__interfLoop(xi.getClass(t),e))return!0}else if("object"==typeof e&&xi.__isNativeObj(e)&&t instanceof e)return!0;return e==un&&null!=t.__name__||(e==cn&&null!=t.__ename__||t.__enum__==e)}},xi.__cast=function(t,e){if(xi.__instanceof(t,e))return t;throw new bi("Cannot cast "+Q.string(t)+" to "+Q.string(e))},xi.__nativeClassName=function(t){var e=xi.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},xi.__isNativeObj=function(t){return null!=xi.__nativeClassName(t)},xi.__resolveNativeClass=function(t){return e[t]};var Ci=function(){};(s["js.Browser"]=Ci).__name__=["js","Browser"],Ci.getLocalStorage=function(){try{var t=window.localStorage;return t.getItem(""),t}catch(t){return null}},Ci.getSessionStorage=function(){try{var t=window.sessionStorage;return t.getItem(""),t}catch(t){return null}},Ci.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new bi("Unable to create XMLHttpRequest object.")};var Ni=function(){};(s["js.Cookie"]=Ni).__name__=["js","Cookie"],Ni.set=function(t,e,s,i,n){var r=t+"="+encodeURIComponent(e);if(null!=s){var a=(new Date).getTime()+1e3*s;r+=";expires="+new Date(a).toGMTString()}null!=i&&(r+=";path="+i),null!=n&&(r+=";domain="+n),window.document.cookie=r},Ni.all=function(){for(var t=new Ti,e=window.document.cookie.split(";"),s=0;s<e.length;){var i=e[s];++s;var n=(i=y.ltrim(i)).split("=");if(!(n.length<2)){var r=n[0],a=decodeURIComponent(n[1].split("+").join(" "));null!=pn[r]?t.setReserved(r,a):t.h[r]=a}}return t},Ni.get=function(t){var e=Ni.all();return null!=pn[t]?e.getReserved(t):e.h[t]},Ni.exists=function(t){var e=Ni.all();return null!=pn[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},Ni.remove=function(t,e,s){Ni.set(t,"",-10,e,s)};var ki=function(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var s=0,i=e;s<i;){var n=s++;this.a[n]=0}this.byteLength=e}};(s["js.html.compat.ArrayBuffer"]=ki).__name__=["js","html","compat","ArrayBuffer"],ki.sliceImpl=function(t,e){var s=new wn(this,t,null==e?null:e-t),i=new dn(s.byteLength);return new wn(i).set(s),i},ki.prototype={byteLength:null,a:null,slice:function(t,e){return new ki(this.a.slice(t,e))},__class__:ki};var Ii=function(){};(s["js.html.compat.Uint8Array"]=Ii).__name__=["js","html","compat","Uint8Array"],Ii._new=function(t,e,s){var i;if("number"==typeof t){i=[];for(var n=0,r=t;n<r;){i[n++]=0}i.byteLength=i.length,i.byteOffset=0,i.buffer=new ki(i)}else if(xi.__instanceof(t,ki)){var a=t;null==e&&(e=0),null==s&&(s=a.byteLength-e),(i=0==e?a.a:a.a.slice(e,e+s)).byteLength=i.length,i.byteOffset=e,i.buffer=a}else{if(!(t instanceof Array&&null==t.__enum__))throw new bi("TODO "+Q.string(t));(i=t.slice()).byteLength=i.length,i.byteOffset=0,i.buffer=new ki(i)}return i.subarray=Ii._subarray,i.set=Ii._set,i},Ii._set=function(t,e){if(xi.__instanceof(t.buffer,ki)){var s=t;if(t.byteLength+e>this.byteLength)throw new bi("set() outside of range");for(var i=0,n=t.byteLength;i<n;){var r=i++;this[r+e]=s[r]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new bi("TODO");var a=t;if(a.length+e>this.byteLength)throw new bi("set() outside of range");for(var l=0,o=a.length;l<o;){var _=l++;this[_+e]=a[_]}}},Ii._subarray=function(t,e){var s=Ii._new(this.slice(t,e));return s.byteOffset=t,s};var Ui=function(){};(s["phx.Allocator"]=Ui).__name__=["phx","Allocator"],Ui.prototype={contactPool:null,islandPool:null,__class__:Ui};var Oi=function(t){this.allocator=t};(s["phx.Arbiter"]=Oi).__name__=["phx","Arbiter"],Oi.prototype={contacts:null,friction:null,restitution:null,bias:null,maxDist:null,s1:null,s2:null,stamp:null,island:null,allocator:null,sleeping:null,assign:function(t,e){this.s1=t,this.s2=e;var s=t.material,i=e.material,n=t.body.properties,r=e.body.properties;this.restitution=s.restitution>i.restitution?s.restitution:i.restitution,this.friction=Math.sqrt(s.friction*i.friction),this.bias=n.biasCoef>r.biasCoef?n.biasCoef:r.biasCoef,this.maxDist=n.maxDist>r.maxDist?r.maxDist:n.maxDist},injectContact:function(t,e,s,i,n){for(var r=this.contacts;null!=r&&n!=r.hash;)r=r.next;if(null==r){var a=this.allocator,l=a.contactPool;null==l?r=new Qi:(a.contactPool=l.next,r=l),r.hash=n,r.jnAcc=r.jtAcc=0,r.next=this.contacts,this.contacts=r}r.px=t.x,r.py=t.y,r.nx=e.x*s,r.ny=e.y*s,r.dist=i,r.updated=!0},preStep:function(t){for(var e=this.s1.body,s=this.s2.body,i=e.invMass+s.invMass,n=this.contacts,r=null;null!=n;)if(n.updated){n.updated=!1,n.r1x=n.px-e.x,n.r1y=n.py-e.y,n.r2x=n.px-s.x,n.r2y=n.py-s.y,n.r1nx=-n.r1y,n.r1ny=n.r1x,n.r2nx=-n.r2y,n.r2ny=n.r2x;var a=n.r1x*n.ny-n.r1y*n.nx,l=n.r2x*n.ny-n.r2y*n.nx,o=i+e.invInertia*a*a+s.invInertia*l*l;n.nMass=1/o;var _=-n.ny,h=n.nx,u=n.r1x*h-n.r1y*_,c=n.r2x*h-n.r2y*_,p=i+e.invInertia*u*u+s.invInertia*c*c;n.tMass=1/p,n.bias=-this.bias*(n.dist+this.maxDist),n.jBias=0;var d=n.r2nx*s.w+s.v.x-(n.r1nx*e.w+e.v.x),g=n.r2ny*s.w+s.v.y-(n.r1ny*e.w+e.v.y);n.bounce=(n.nx*d+n.ny*g)*this.restitution*t;var w=n.nx*n.jnAcc+_*n.jtAcc,y=n.ny*n.jnAcc+h*n.jtAcc;e.v.x-=w*e.invMass,e.v.y-=y*e.invMass,e.w-=e.invInertia*(n.r1x*y-n.r1y*w),s.v.x+=w*s.invMass,s.v.y+=y*s.invMass,s.w+=s.invInertia*(n.r2x*y-n.r2y*w),n=(r=n).next}else{var f=n;n=n.next;var v=this.allocator;f.next=v.contactPool,v.contactPool=f,null==r?this.contacts=n:r.next=n}},applyImpulse:function(){for(var t=this.s1.body,e=this.s2.body,s=this.contacts;null!=s;){var i=(s.r2nx*e.w_bias+e.v_bias.x-(s.r1nx*t.w_bias+t.v_bias.x))*s.nx+(s.r2ny*e.w_bias+e.v_bias.y-(s.r1ny*t.w_bias+t.v_bias.y))*s.ny,n=(s.bias-i)*s.nMass,r=s.jBias;s.jBias=r+n,s.jBias<0&&(s.jBias=0),n=s.jBias-r;var a=s.nx*n,l=s.ny*n;t.v_bias.x-=a*t.invMass,t.v_bias.y-=l*t.invMass,t.w_bias-=t.invInertia*(s.r1x*l-s.r1y*a),e.v_bias.x+=a*e.invMass,e.v_bias.y+=l*e.invMass,e.w_bias+=e.invInertia*(s.r2x*l-s.r2y*a);var o=s.r2nx*e.w+e.v.x-(s.r1nx*t.w+t.v.x),_=s.r2ny*e.w+e.v.y-(s.r1ny*t.w+t.v.y),h=(s.bounce+(o*s.nx+_*s.ny))*s.nMass,u=s.jnAcc;s.jnAcc=u-h,s.jnAcc<0&&(s.jnAcc=0),h=s.jnAcc-u;var c=s.nx*_-s.ny*o,p=this.friction*s.jnAcc,d=c*s.tMass,g=s.jtAcc;s.jtAcc=g-d,s.jtAcc<-p?s.jtAcc=-p:s.jtAcc>p&&(s.jtAcc=p),d=s.jtAcc-g;var w=s.nx*h-s.ny*d,y=s.ny*h+s.nx*d;t.v.x-=w*t.invMass,t.v.y-=y*t.invMass,t.w-=t.invInertia*(s.r1x*y-s.r1y*w),e.v.x+=w*e.invMass,e.v.y+=y*e.invMass,e.w+=e.invInertia*(s.r2x*y-s.r2y*w),s=s.next}},__class__:Oi};var Pi=function(t,e){this.n=t,this.d=e};(s["phx.Axis"]=Pi).__name__=["phx","Axis"],Pi.prototype={n:null,d:null,next:null,__class__:Pi};var Bi=function(t,e,s){this.id=Bi.ID++,this.properties=null==s?Yi.DEFAULT_PROPERTIES:s,this.x=t,this.y=e,this.v=new Xi(0,0),this.f=new Xi(0,0),this.v_bias=new Xi(0,0),this.a=this.w=this.t=this.w_bias=0,this.rcos=1,this.rsin=0,this.shapes=new Mi,this.arbiters=new Mi};(s["phx.Body"]=Bi).__name__=["phx","Body"],Bi.prototype={id:null,mass:null,invMass:null,inertia:null,invInertia:null,x:null,y:null,v:null,f:null,v_bias:null,a:null,w:null,t:null,w_bias:null,rcos:null,rsin:null,motion:null,isStatic:null,island:null,shapes:null,arbiters:null,properties:null,addShape:function(t){var e=this.shapes;e.head=new vi(t,e.head),t.body=this},updatePhysics:function(){for(var t=0,e=0,s=this.shapes.iterator();s.hasNext();){var i=s.next(),n=i.area*i.material.density;t+=n,e+=i.calculateInertia()*n}0<t?(this.mass=t,this.invMass=1/t):(this.mass=1/0,this.invMass=0,this.isStatic=!0),0<e?(this.inertia=e,this.invInertia=1/e):(this.inertia=1/0,this.invInertia=0)},setAngle:function(t){this.a=t,this.rcos=Math.cos(t),this.rsin=Math.sin(t)},setSpeed:function(t,e,s){this.v.x=t,this.v.y=e,null!=s&&(this.w=s)},onDestroy:function(){},__class__:Bi};var Ri=function(t,e){this.id=Ri.ID++,this.groups=1,this.type=t,this.material=null==e?Yi.DEFAULT_MATERIAL:e,this.area=0,this.aabb=new qi(0,0,0,0)};(s["phx.Shape"]=Ri).__name__=["phx","Shape"],Ri.makeBox=function(t,e,s,i,n){return null==s&&(s=-t/2),null==i&&(i=-e/2),new Wi([new Xi(0,0),new Xi(0,e),new Xi(t,e),new Xi(t,0)],new Xi(s,i),n)},Ri.prototype={id:null,type:null,circle:null,segment:null,polygon:null,body:null,offset:null,aabb:null,material:null,area:null,groups:null,owner:null,update:function(){},calculateInertia:function(){return 1},__class__:Ri};var ji=function(t,e,s){Ri.call(this,0,s),(this.circle=this).offset=new Xi(e.x,e.y),this.c=new Xi(e.x,e.y),this.r=t,this.area=Math.PI*(this.r*this.r);var i=this.c;this.tC=new Xi(i.x,i.y)};(s["phx.Circle"]=ji).__name__=["phx","Circle"],ji.__super__=Ri,ji.prototype=t(Ri.prototype,{c:null,r:null,tC:null,update:function(){var t=this.c,e=this.body;this.tC.x=this.body.x+(t.x*e.rcos-t.y*e.rsin);var s=this.c,i=this.body;this.tC.y=this.body.y+(s.x*i.rsin+s.y*i.rcos),this.aabb.l=this.tC.x-this.r,this.aabb.r=this.tC.x+this.r,this.aabb.t=this.tC.y-this.r,this.aabb.b=this.tC.y+this.r},calculateInertia:function(){var t=this.offset,e=this.offset;return this.r*this.r*.5+(t.x*e.x+t.y*e.y)},__class__:ji});var zi=function(){};(s["phx.Collision"]=zi).__name__=["phx","Collision"],zi.prototype={poly2poly:function(t,e,s){for(var i=-1e99,n=null,r=t.tAxes;null!=r;){for(var a=r.n,l=r.d,o=e.tVerts,_=1e99;null!=o;){var h=a.x*o.x+a.y*o.y;h<_&&(_=h),o=o.next}var u=_-l;if(0<u)return!1;i<u&&(i=u,n=r),r=r.next}var c=-1e99,p=null;for(r=e.tAxes;null!=r;){for(var d=r.n,g=r.d,w=t.tVerts,y=1e99;null!=w;){var f=d.x*w.x+d.y*w.y;f<y&&(y=f),w=w.next}var v=y-g;if(0<v)return!1;c<v&&(c=v,p=r),r=r.next}return c<i?this.findVerts(s,t,e,n,1,i):this.findVerts(s,t,e,p,-1,c),!0},findVerts:function(t,e,s,i,n,r){for(var a=e.id>s.id?0:65e3,l=0,o=e.tVerts;null!=o;){if(this.polyContainsPoint(s,o)&&(t.injectContact(o,i.n,n,r,a),1<++l))return;++a,o=o.next}for(a=e.id>s.id?65e3:0,o=s.tVerts;null!=o;){if(this.polyContainsPoint(e,o)&&(t.injectContact(o,i.n,n,r,a),1<++l))return;++a,o=o.next}},circle2circleQuery:function(t,e,s,i,n){var r=i+n,a=s.x-e.x,l=s.y-e.y,o=a*a+l*l;if(r*r<=o)return!1;var _=Math.sqrt(o),h=_<1e-99?0:1/_,u=.5+(i-.5*r)*h;return t.injectContact(new Xi(e.x+a*u,e.y+l*u),new Xi(a*h,l*h),1,_-r,0),!0},circle2segment:function(t,e,s){var i=e.tN,n=t.tC,r=e.tA,a=e.tN,l=i.x*n.x+i.y*n.y-(r.x*a.x+r.y*a.y),o=(l<0?-l:l)-t.r-e.r;if(0<o)return!1;var _=e.tN,h=t.tC,u=-(_.x*h.y-_.y*h.x),c=e.tN,p=e.tA,d=-(c.x*p.y-c.y*p.x),g=e.tN,w=e.tB,y=-(g.x*w.y-g.y*w.x);if(u<d)return!(u<d-t.r)&&this.circle2circleQuery(s,t.tC,e.tA,t.r,e.r);if(u<y){var f;if(l<0)f=e.tN;else{var v=e.tN;f=new Xi(-1*v.x,-1*v.y)}var M=t.r+.5*o;return s.injectContact(new Xi(t.tC.x+f.x*M,t.tC.y+f.y*M),f,1,o,0),!0}return u<y+t.r&&this.circle2circleQuery(s,t.tC,e.tB,t.r,e.r)},findPolyPointsBehindSegment:function(t,e,s,i,n){for(var r=t.tN,a=t.tA,l=r.x*a.y-r.y*a.x,o=t.tN,_=t.tB,h=o.x*_.y-o.y*_.x,u=new Xi(t.tN.x*i,t.tN.y*i),c=t.tN,p=t.tA,d=(c.x*p.x+c.y*p.y)*i,g=e.tVerts,w=2;null!=g;){if(g.x*u.x+g.y*u.y<d+t.r){var y=t.tN,f=y.x*g.y-y.y*g.x;f<=l&&h<=f&&n.injectContact(g,u,1,s,w)}++w,g=g.next}},segment2poly:function(t,e,s){for(var i=t.tN,n=t.tA,r=i.x*n.x+i.y*n.y,a=t.tN,l=e.tVerts,o=1e99;null!=l;){var _=a.x*l.x+a.y*l.y;_<o&&(o=_),l=l.next}for(var h=o-r-t.r,u=t.tNneg,c=e.tVerts,p=1e99;null!=c;){var d=u.x*c.x+u.y*c.y;d<p&&(p=d),c=c.next}var g=p- -r-t.r;if(0<g||0<h)return!1;for(var w=e.tAxes,y=-1e99,f=null;null!=w;){var v=w.n,M=w.d,D=t.tA,m=v.x*D.x+v.y*D.y-t.r,T=t.tB,E=v.x*T.x+v.y*T.y-t.r,L=m<E?m-M:E-M;if(0<L)return!1;y<L&&(y=L,f=w),w=w.next}var S=f.n,A=new Xi(t.tA.x-S.x*t.r,t.tA.y-S.y*t.r),b=new Xi(t.tB.x-S.x*t.r,t.tB.y-S.y*t.r);return this.polyContainsPoint(e,A)&&s.injectContact(A,S,-1,y,0),this.polyContainsPoint(e,b)&&s.injectContact(b,S,-1,y,1),(y<=h||y<=g)&&(g<h?this.findPolyPointsBehindSegment(t,e,h,1,s):this.findPolyPointsBehindSegment(t,e,g,-1,s)),!0},circle2poly:function(t,e,s){for(var i=null,n=null,r=e.tAxes,a=e.tVerts,l=-1e99;null!=r;){var o=r.n,_=t.tC,h=o.x*_.x+o.y*_.y-r.d-t.r;if(0<h)return!1;l<h&&(l=h,i=r,n=a),r=r.next,a=a.next}var u=i.n,c=null==n.next?e.tVerts:n.next,p=t.tC,d=u.x*p.y-u.y*p.x;if(d<u.x*c.y-u.y*c.x)return this.circle2circleQuery(s,t.tC,c,t.r,0);if(d>=u.x*n.y-u.y*n.x)return this.circle2circleQuery(s,t.tC,n,t.r,0);var g=u.x*(t.r+.5*l),w=u.y*(t.r+.5*l);return s.injectContact(new Xi(t.tC.x-g,t.tC.y-w),u,-1,l,0),!0},polyContainsPoint:function(t,e){for(var s=t.tAxes;null!=s;){var i=s.n;if(i.x*e.x+i.y*e.y>s.d)return!1;s=s.next}return!0},__class__:zi};var Fi=function(t,e,s){this.restitution=t,this.friction=e,this.density=s};(s["phx.Material"]=Fi).__name__=["phx","Material"],Fi.prototype={restitution:null,friction:null,density:null,__class__:Fi};var Vi=function(t,e,s,i,n){this.id=Vi.PID++,this.count=0,this.linearFriction=t,this.angularFriction=e,this.biasCoef=s,this.maxMotion=i,this.maxDist=n};(s["phx.Properties"]=Vi).__name__=["phx","Properties"],Vi.prototype={linearFriction:null,angularFriction:null,biasCoef:null,maxMotion:null,maxDist:null,id:null,count:null,lfdt:null,afdt:null,__class__:Vi};var Yi=function(){};(s["phx.Const"]=Yi).__name__=["phx","Const"];var Qi=function(){};(s["phx.Contact"]=Qi).__name__=["phx","Contact"],Qi.prototype={px:null,py:null,nx:null,ny:null,dist:null,r1x:null,r1y:null,r2x:null,r2y:null,r1nx:null,r1ny:null,r2nx:null,r2ny:null,nMass:null,tMass:null,bounce:null,jnAcc:null,jtAcc:null,jBias:null,bias:null,hash:null,updated:null,next:null,__class__:Qi};var Hi=function(t){this.id=Hi.ID++,this.world=t,this.sleeping=!1,this.bodies=new Mi,this.joints=new Mi,this.arbiters=new Mi};(s["phx.Island"]=Hi).__name__=["phx","Island"],Hi.prototype={id:null,bodies:null,arbiters:null,joints:null,sleeping:null,energy:null,world:null,allocNext:null,solve:function(t,e,s){for(var i=this.world.gravity,n=this.bodies.iterator();n.hasNext();){var r=n.next(),a=r.v,l=r.properties;a.x=a.x*l.lfdt+(i.x+r.f.x*r.invMass)*t,a.y=a.y*l.lfdt+(i.y+r.f.y*r.invMass)*t,r.w=r.w*l.afdt+r.t*r.invInertia*t}for(var o=this.arbiters.iterator();o.hasNext();){o.next().preStep(t)}for(var _=this.joints.iterator();_.hasNext();){_.next().preStep(e)}for(var h=0,u=s;h<u;){h++;for(var c=this.arbiters.iterator();c.hasNext();){c.next().applyImpulse()}for(var p=this.joints.iterator();p.hasNext();){p.next().applyImpuse()}}for(var d=this.world.broadphase,g=0,w=0,y=Math,f=this.bodies.iterator();f.hasNext();){var v=f.next(),M=v.v.x*v.v.x+v.v.y*v.v.y+v.w*v.w*30;if(M>v.properties.maxMotion){var D=Math.sqrt(v.properties.maxMotion/M);v.v.x*=D,v.v.y*=D,v.w*=D,M*=D*D}v.x+=v.v.x*t+v.v_bias.x,v.y+=v.v.y*t+v.v_bias.y,v.a+=v.w*t+v.w_bias,v.rcos=y.cos(v.a),v.rsin=y.sin(v.a),v.motion=.95*v.motion+.050000000000000044*M,v.f.x=v.f.y=v.t=0,v.v_bias.x=v.v_bias.y=v.w_bias=0,g+=v.motion,++w;for(var m=v.shapes.iterator();m.hasNext();){var T=m.next();T.update(),d.syncShape(T)}}if(this.energy=g/y.sqrt(w),this.energy<this.world.sleepEpsilon){for(var E=this.bodies.iterator();E.hasNext();){var L=E.next();L.v.x=0,L.v.y=0,L.w=0}for(var S=this.arbiters.iterator();S.hasNext();){S.next().sleeping=!0}this.sleeping=!0}},__class__:Hi};var Wi=function(t,e,s){Ri.call(this,2,s),(this.polygon=this).offset=e,this.initVertexes(t)};(s["phx.Polygon"]=Wi).__name__=["phx","Polygon"],Wi.__super__=Ri,Wi.prototype=t(Ri.prototype,{verts:null,tVerts:null,vcount:null,axes:null,tAxes:null,initVertexes:function(t){var e=null,s=null,i=null,n=null,r=t.length;this.vcount=r,this.area=0;for(var a=null!=this.offset,l=0,o=r;l<o;){var _,h=l++,u=t[h],c=t[(h+1)%r],p=t[(h+2)%r];if(this.area+=c.x*(u.y-p.y),a){var d=this.offset;_=new Xi(u.x+d.x,u.y+d.y)}else _=u;var g=c.x-u.x,w=c.y-u.y,y=Math.sqrt(g*g+w*w),f=y<1e-99?0:1/y,v=new Xi(-w*f,g*f),M=new Pi(v,v.x*_.x+v.y*_.y),D=new Xi(_.x,_.y),m=M.n,T=new Pi(new Xi(m.x,m.y),M.d);0==h?(this.verts=_,this.tVerts=D,this.axes=M,this.tAxes=T):(e.next=_,s.next=D,i.next=M,n.next=T),e=_,s=D,i=M,n=T}this.area*=.5},update:function(){var t=this.verts,e=this.tVerts,s=this.body,i=this.aabb;for(i.l=i.t=1e99,i.r=i.b=-1e99;null!=t;)e.x=s.x+(t.x*s.rcos-t.y*s.rsin),e.y=s.y+(t.x*s.rsin+t.y*s.rcos),e.x<i.l&&(i.l=e.x),e.x>i.r&&(i.r=e.x),e.y<i.t&&(i.t=e.y),e.y>i.b&&(i.b=e.y),t=t.next,e=e.next;for(var n=this.axes,r=this.tAxes;null!=n;){var a=n.n;r.n.x=a.x*s.rcos-a.y*s.rsin,r.n.y=a.x*s.rsin+a.y*s.rcos,r.d=s.x*r.n.x+s.y*r.n.y+n.d,n=n.next,r=r.next}},calculateInertia:function(){for(var t=[],e=this.verts;null!=e;)t.push(new Xi(e.x+this.offset.x,e.y+this.offset.y)),e=e.next;for(var s=0,i=0,n=0,r=this.vcount;n<r;){var a=n++,l=t[a],o=t[(a+1)%this.vcount],_=o.x*l.y-o.y*l.x;s+=_*(l.x*l.x+l.y*l.y+(l.x*o.x+l.y*o.y)+(o.x*o.x+o.y*o.y)),i+=_}return s/(6*i)},__class__:Wi});var Gi=function(t,e,s,i){Ri.call(this,1,i),(this.segment=this).offset=new Xi(0,0),this.a=new Xi(t.x,t.y),this.b=new Xi(e.x,e.y),this.r=s;var n=new Xi(e.x-t.x,e.y-t.y),r=n.x,a=n.y,l=Math.sqrt(r*r+a*a),o=l<1e-99?0:1/l;this.n=new Xi(-a*o,r*o),this.area=s*Math.sqrt(n.x*n.x+n.y*n.y),this.tA=new Xi(0,0),this.tB=new Xi(0,0),this.tN=new Xi(0,0),this.tNneg=new Xi(0,0)};(s["phx.Segment"]=Gi).__name__=["phx","Segment"],Gi.__super__=Ri,Gi.prototype=t(Ri.prototype,{a:null,b:null,n:null,r:null,tA:null,tB:null,tN:null,tNneg:null,update:function(){var t=this.a,e=this.body;this.tA.x=this.body.x+(t.x*e.rcos-t.y*e.rsin);var s=this.a,i=this.body;this.tA.y=this.body.y+(s.x*i.rsin+s.y*i.rcos);var n=this.b,r=this.body;this.tB.x=this.body.x+(n.x*r.rcos-n.y*r.rsin);var a=this.b,l=this.body;this.tB.y=this.body.y+(a.x*l.rsin+a.y*l.rcos);var o=this.n,_=this.body;this.tN.x=o.x*_.rcos-o.y*_.rsin;var h=this.n,u=this.body;this.tN.y=h.x*u.rsin+h.y*u.rcos,this.tNneg.x=-this.tN.x,this.tNneg.y=-this.tN.y,this.tA.x<this.tB.x?(this.aabb.l=this.tA.x-this.r,this.aabb.r=this.tB.x+this.r):(this.aabb.l=this.tB.x-this.r,this.aabb.r=this.tA.x+this.r),this.tA.y<this.tB.y?(this.aabb.t=this.tA.y-this.r,this.aabb.b=this.tB.y+this.r):(this.aabb.t=this.tB.y-this.r,this.aabb.b=this.tA.y+this.r)},calculateInertia:function(){return 1},__class__:Gi});var Ki=function(){this.total=0,this.datas=new Ti,this.times=[],this.curs=[]};(s["phx.Timer"]=Ki).__name__=["phx","Timer"],Ki.prototype={times:null,curs:null,datas:null,total:null,start:function(t){this.times.push((new Date).getTime()/1e3),this.curs.push(t)},stop:function(){var t=1e3*((new Date).getTime()/1e3-this.times.pop()),e=this.curs.pop(),s=this.datas,i=null!=pn[e]?s.getReserved(e):s.h[e];if(null==i){i={total:0,avg:0};var n=this.datas;null!=pn[e]?n.setReserved(e,i):n.h[e]=i}i.total+=t,i.avg=.99*i.avg+.01*t,0==this.curs.length&&(this.total+=t)},__class__:Ki};var Xi=function(t,e){this.x=t,this.y=e};(s["phx.Vector"]=Xi).__name__=["phx","Vector"],Xi.prototype={x:null,y:null,next:null,__class__:Xi};var Ji=function(){};(s["phx.col.BroadCallback"]=Ji).__name__=["phx","col","BroadCallback"],Ji.prototype={onCollide:null,__class__:Ji};var Zi=function(t,e){this.bodies=new Mi,this.joints=new Mi,this.arbiters=new Mi,this.properties=new Di,this.gravity=new Xi(0,0),this.stamp=0,this.debug=!1,this.useIslands=!0,this.sleepEpsilon=.002,this.boundsCheck=120,this.allocator=new Ui,this.collision=new zi,this.staticBody=new Bi(0,0),this.staticBody.island=new Hi(this),this.staticBody.updatePhysics(),this.box=t,(this.broadphase=e).init(this.box,this,this.staticBody),this.timer=new Ki,this.islands=new Mi,this.waitingBodies=new Mi};(s["phx.World"]=Zi).__name__=["phx","World"],Zi.__interfaces__=[Ji],Zi.prototype={stamp:null,bodies:null,joints:null,arbiters:null,staticBody:null,allocator:null,broadphase:null,collision:null,timer:null,box:null,gravity:null,boundsCheck:null,useIslands:null,debug:null,testedCollisions:null,activeCollisions:null,sleepEpsilon:null,islands:null,properties:null,waitingBodies:null,buildIslands:function(){for(var t=new Mi,e=this.waitingBodies.iterator();e.hasNext();){var s=e.next();if(null==s.island&&!s.isStatic){var i,n=this.allocator,r=n.islandPool;null==r?i=new Hi(this):(n.islandPool=r.allocNext,i=r);var a=this.islands;for(a.head=new vi(i,a.head),t.head=new vi(s,t.head),s.island=i;;){var l,o=t.head;null==o?l=null:(t.head=o.next,l=o.elt);var _=l;if(null==_)break;var h=i.bodies;h.head=new vi(_,h.head);for(var u=_.arbiters.iterator();u.hasNext();){var c=u.next();if(null==c.island){var p=i.arbiters;p.head=new vi(c,p.head),c.island=i;var d=c.s1.body;null!=d.island||d.isStatic||(d.island=i,t.head=new vi(d,t.head));var g=c.s2.body;null!=g.island||g.isStatic||(g.island=i,t.head=new vi(g,t.head))}}}}}this.waitingBodies=new Mi},step:function(t,e){t<1e-99&&(t=0),this.timer.start("all");for(var s=0==t?0:1/t,i=this.properties.iterator();i.hasNext();){var n=i.next();n.lfdt=Math.pow(n.linearFriction,t),n.afdt=Math.pow(n.angularFriction,t)}if(this.timer.start("island"),this.useIslands)this.buildIslands();else{var r,a=this.allocator,l=a.islandPool;null==l?r=new Hi(this):(a.islandPool=l.allocNext,r=l),r.bodies=this.bodies,r.arbiters=this.arbiters,r.joints=this.joints,this.sleepEpsilon=0,this.islands=new Mi;var o=this.islands;o.head=new vi(r,o.head)}this.debug&&this.checkDatas(),this.timer.stop(),this.timer.start("solve");for(var _=this.islands.iterator();_.hasNext();){var h=_.next();h.sleeping||h.solve(t,s,e)}this.timer.stop();for(var u=this.arbiters.iterator();u.hasNext();){var c=u.next();if(3<this.stamp-c.stamp){for(var p=this.allocator,d=c.contacts;null!=d;){var g=d.next;d.next=p.contactPool,p.contactPool=d,d=g}var w=c.s1.body,y=c.s2.body;w.arbiters.remove(c),y.arbiters.remove(c),this.arbiters.remove(c);this.allocator;this.destroyIsland(w.island),this.destroyIsland(y.island)}}if(this.timer.start("col"),this.broadphase.commit(),this.testedCollisions=0,this.activeCollisions=0,this.debug&&!this.broadphase.validate())throw new bi("INVALID BF DATAS");if(this.broadphase.collide(),this.timer.stop(),this.stamp++,0<this.boundsCheck&&this.stamp%this.boundsCheck==0){for(var f=new Mi,v=this.bodies.iterator();v.hasNext();){var M=v.next();f.head=new vi(M,f.head)}for(var D=this.broadphase.pick(this.box).iterator();D.hasNext();){var m=D.next();f.remove(m.body)}for(var T=f.iterator();T.hasNext();){var E=T.next();this.removeBody(E)&&E.onDestroy()}}this.timer.stop()},destroyIsland:function(t){if(null!=t&&this.useIslands&&this.islands.remove(t)){for(var e=t.bodies.iterator();e.hasNext();){var s=e.next();s.island=null;var i=this.waitingBodies;i.head=new vi(s,i.head)}for(var n=t.arbiters.iterator();n.hasNext();){var r=n.next();r.sleeping=!1,r.island=null}for(var a=t.joints.iterator();a.hasNext();){a.next().island=null}var l=this.allocator;t.bodies.head=null,t.arbiters.head=null,t.joints.head=null,t.sleeping=!1,t.allocNext=l.islandPool,l.islandPool=t}},onCollide:function(t,e){var s=t.body,i=e.body;if(this.testedCollisions++,s==i||0==(t.groups&e.groups))return!1;if(-1==t.groups&&-1==e.groups)return!1;if(t.type>e.type){var n=t;t=e,e=n}for(var r=!0,a=null,l=s.arbiters.iterator();l.hasNext();){var o=l.next();if(o.s1==t&&o.s2==e||o.s1==e&&o.s2==t){a=o;break}}if(null==a)(a=new Oi(this.allocator)).assign(t,e),r=!1;else{if(a.sleeping)return a.stamp=this.stamp,!0;if(a.stamp==this.stamp)return!0}a.sleeping=!1,this.activeCollisions++;var _,h=this.collision;if(2==t.type&&2==e.type)_=h.poly2poly(t.polygon,e.polygon,a);else if(0==t.type)if(2==e.type)_=h.circle2poly(t.circle,e.polygon,a);else if(0==e.type){var u=t.circle,c=e.circle;_=h.circle2circleQuery(a,u.tC,c.tC,u.r,c.r)}else _=h.circle2segment(t.circle,e.segment,a);else _=1==t.type&&2==e.type&&h.segment2poly(t.segment,e.polygon,a);if(_)if(a.stamp=this.stamp,r)a.s1=t,a.s2=e;else{var p=this.arbiters;p.head=new vi(a,p.head);var d=s.island;if(d!=i.island)this.destroyIsland(d),this.destroyIsland(i.island);else if(null!=d){var g=d.arbiters;g.head=new vi(a,g.head),a.island=d}var w=e.body.arbiters;w.head=new vi(a,w.head);var y=t.body.arbiters;y.head=new vi(a,y.head)}else if(!r)this.allocator;return _},addBody:function(t){var e=this.bodies;e.head=new vi(t,e.head);var s=this.waitingBodies;if(s.head=new vi(t,s.head),t.properties.count++,t.motion=2*this.sleepEpsilon,this.properties.h[t.properties.id]=t.properties,t.isStatic){t.mass=1/0,t.invMass=0,t.inertia=1/0,t.invInertia=0;for(var i=t.shapes.iterator();i.hasNext();){i.next().update()}}else t.updatePhysics();for(var n=t.shapes.iterator();n.hasNext();){var r=n.next();this.broadphase.addShape(r)}},removeBody:function(t){if(!this.bodies.remove(t))return!1;t.properties.count--,0==t.properties.count&&this.properties.remove(t.properties.id);for(var e=t.shapes.iterator();e.hasNext();){var s=e.next();this.broadphase.removeShape(s)}this.destroyIsland(t.island),this.waitingBodies.remove(t);for(var i=t.arbiters.iterator();i.hasNext();){var n=i.next(),r=n.s1.body;(r==t?n.s2.body:r).arbiters.remove(n)}return!0},activate:function(t){var e=t.island;if(t.motion=2*this.sleepEpsilon,null!=e&&e.sleeping){e.sleeping=!1;for(var s=e.arbiters.iterator();s.hasNext();){s.next().sleeping=!1}}},sync:function(t){for(var e=t.shapes.iterator();e.hasNext();){var s=e.next();s.update(),this.broadphase.syncShape(s)}},checkBody:function(t,e){if(t.island!=e)throw new bi("ASSERT");for(var s=t.arbiters.iterator();s.hasNext();){var i=s.next();if(i.island!=e)throw new bi("ASSERT");if(i.s1.body.island!=e&&!i.s1.body.isStatic)throw new bi("ASSERT");if(i.s2.body.island!=e&&!i.s2.body.isStatic)throw new bi("ASSERT")}},checkDatas:function(){for(var t=this.waitingBodies.iterator();t.hasNext();){var e=t.next();this.checkBody(e,null)}for(var s=this.islands.iterator();s.hasNext();)for(var i=s.next(),n=i.bodies.iterator();n.hasNext();){var r=n.next();this.checkBody(r,i)}},__class__:Zi};var qi=function(t,e,s,i){this.l=t,this.t=e,this.r=s,this.b=i};(s["phx.col.AABB"]=qi).__name__=["phx","col","AABB"],qi.prototype={l:null,b:null,r:null,t:null,shape:null,prev:null,next:null,__class__:qi};var $i=function(){};(s["phx.col.BroadPhase"]=$i).__name__=["phx","col","BroadPhase"],$i.prototype={init:null,addShape:null,removeShape:null,syncShape:null,commit:null,collide:null,pick:null,validate:null,__class__:$i};var tn=function(){};(s["phx.col.SortedList"]=tn).__name__=["phx","col","SortedList"],tn.__interfaces__=[$i],tn.prototype={boxes:null,callb:null,init:function(t,e,s){this.callb=e,this.boxes=null},addSort:function(t){for(var e=this.boxes,s=null;null!=e&&e.t<t.t;)e=(s=e).next;t.prev=s,t.next=e,null==s?this.boxes=t:s.next=t,null!=e&&(e.prev=t)},addShape:function(t){var e=t.aabb;e.shape=t,this.addSort(e)},removeShape:function(t){var e=t.aabb,s=e.next,i=e.prev;null==i?this.boxes=s:i.next=s,null!=s&&(s.prev=i)},collide:function(){for(var t=this.boxes;null!=t;){for(var e=t.next,s=t.b;null!=e&&!(e.t>s);)t.l<=e.r&&e.l<=t.r&&t.t<=e.b&&e.t<=t.b&&this.callb.onCollide(t.shape,e.shape),e=e.next;t=t.next}},pick:function(t){for(var e=new Mi,s=this.boxes;null!=s&&!(s.t<=t.b);)s=s.next;for(;null!=s;)t.l>s.r||t.r<s.l||t.t>s.b||t.b<s.t||(e.head=new vi(s.shape,e.head)),s=s.next;return e},syncShape:function(t){var e=t.aabb,s=e.prev,i=e.next;null!=s&&s.t>e.t?(null!=(s.next=i)&&(i.prev=s),this.addSort(e)):null!=i&&i.t<e.t&&(null==s?this.boxes=i:s.next=i,i.prev=s,this.addSort(e))},commit:function(){},validate:function(){for(var t=this.boxes;null!=t;){var e=t.next;if(null!=e&&e.t<t.t)return!1;t=e}return!0},__class__:tn};var en=function(t,e,s,i){this.b1=t,this.b2=e,this.anchr1=s,this.anchr2=i};function sn(t){return t instanceof Array?function(){return $.iter(t)}:"function"==typeof t.iterator?an(t,t.iterator):t.iterator}(s["phx.joint.Joint"]=en).__name__=["phx","joint","Joint"],en.prototype={b1:null,b2:null,anchr1:null,anchr2:null,island:null,preStep:function(t){},applyImpuse:function(){},__class__:en};var nn,rn=0;function an(t,e){return null==e?null:(null==e.__id__&&(e.__id__=rn++),null==t.hx__closures__?t.hx__closures__={}:s=t.hx__closures__[e.__id__],null==s&&((s=function(){return s.method.apply(s.scope,arguments)}).scope=t,s.method=e,t.hx__closures__[e.__id__]=s),s);var s}s.Math=Math,String.prototype.__class__=s.String=String,String.__name__=["String"],s.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=s.Date=Date,Date.__name__=["Date"];var ln=s.Int={__name__:["Int"]},on=s.Dynamic={__name__:["Dynamic"]},_n=s.Float=Number;_n.__name__=["Float"];var hn=s.Bool=Boolean;hn.__ename__=["Bool"];var un=s.Class={__name__:["Class"]},cn={};ui.content=[{name:"revision",data:"Mzk4DQoyMDE5LzAxLzIzIDE2OjU2OjAwDQo"},{name:"config",data:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxkYXRhPg0KCTxzZXR0aW5ncz4NCgkJPGFzY2lpQXJ0Pg0KICAgXyAgICAgICAgICAgX19fICAgICAgXyBfX19fXyANCiAgKF8pX18gIF9fXyAgLyBfIFxfX19fKF8pIF8vIC9fDQogLyAvIF8gXC8gXyBcLyAvLyAvIF9fLyAvIF8vIF9fLw0KL18vXF9fXy9fLy9fL19fX18vXy8gL18vXy8gXF9fLyANCgkJPC9hc2NpaUFydD4NCgkJPGFzc2V0cz4NCgkJCTxwYWNrYWdlcyBkZWZhdWx0PSJhc3NldHMiIGF1ZGlvPSJhc3NldHMuYXVkaW8iIC8+DQoJCTwvYXNzZXRzPg0KCQk8Zm9udCBuYW1lPSJvcmJpdHJvbi13ZWJmb250IiAgLz4NCgkJPGdvb2dsZUFuYWx5dGljcyBpZD0iVUEtMjI0MDYzMzctNCIgZW5hYmxlZD0iZmFsc2UiIC8+DQoJCTxhdWRpb0hvbGREZWxheT41MDAwPC9hdWRpb0hvbGREZWxheT4NCgk8L3NldHRpbmdzPg0KCTx0cmFja3M+DQoJCTxUQT5+NjkxLDQ2MDoyNTEsMTMwNDo1MzMsMjA5OToxNDUwLDIzODU6MjQxOCwxOTk4OjI2MzAsMTIwODoyMjc1LDU3NToxMzc0LDQ4NTp+U1RBUlQsMTQ4Myw0ODksMCwxOTI6U0EsODA3LDk3NiwwLDA6U0EsNDQyLDI2MjYsMCwwOlNBLDIzOTQsMjk1LDAsMDpTQSwyNzA1LDI0MjksMCwwOlNBLDk1NCwxNDg3LDAsMDpTQSwxNDg5LDI3NzYsMCwwOlNCLDIwNjksOTg2LDAsMDpTQiwyNTA5LDI2MTMsMCwwOlNCLDgzMiwxNzMxLDAsMDpTQiwyNzYsNDU2LDAsMDpTQiwxMjc5LDIxOSwwLDA6U0IsMTU4OSw3NjcsMCwwOlNDLDI3NDMsNTU1LDAsMDpTQywxODc3LDE3MTIsMCwwOlNDLDEzMTIsODY3LDAsMDpTQyw0MzIsMjc4LDAsMDpTQyw3NjUsMjcxMywwLDA6U0MsMzAwNSwxNDIzLDAsMDpTQywyMDU4LDI4MjgsMCwwOlNDLC0xOTksMTkzNSwwLDA6U0MsLTE5OSwxMDIzLDAsMDpTRCwxNzQsNjA3LDAsMDpTRCwyMTYzLDI2MDMsMCwwOlNFLDE0MzAsMjEzNCwwLDA6U0UsMjU5NCwzODgsMCwwOlNGLDk5MCwyNTk2LDAsMDpTRiw3MDcsMjQ5MiwwLDA6U0YsNDQwLDIzNTcsMCwwOlNGLDE5NjksMjU4MSwwLDA6U0YsMjI0NywyNDYzLDAsMDpTRiwyNTA5LDIzMTEsMCwwOlNGLDEwMzgsMTU3LDAsMDpTRiwxNTkwLDE1NywwLDA6U0YsMTg4OCwyMDEsMCwwOlNGLDEwMzksODA4LDAsMDpTRiwxODg4LDgwOCwwLDA6U0gsNTYzLDEyNTAsMCwwOlNILDU2MywxNDgyLDAsMDpTSCw1NjMsMTY5NywwLDA6U0gsNTYzLDEwNDMsMCwwOlNILDYwNSw4NDAsMCwwOlNILDc3Myw3MjMsMCwwOlNILDY1MiwxODgzLDAsMDpTSCwyMzE0LDEyNTksMCwxMjg6U0gsMjMxNCwxNDkxLDAsMTI4OlNILDIzMTQsMTcwNiwwLDEyODpTSCwyMzE0LDEwNTIsMCwxMjg6U0gsMjI3Miw4NDksMCwxMjg6U0gsMjEwNCw3MzIsMCwxMjg6U0gsMjIyNSwxODkyLDAsMTI4OlNILDgyOSwxOTg4LDAsMDpTSCwyMDQ3LDE5OTUsMCwxMjg6U0gsMTg1OCwyMDc1LDAsMTI4OlNILDEwMTksMjA2NSwwLDA6U0gsMTIxNiwyMTI4LDAsMDpTSCwxNjYyLDIxMzgsMCwxMjg6U0ksMTIwLDExMjEsMCwwOlNJLDExMTUsNjkzLDAsMDpTSSwxMjc2LDY5MywwLDA6U0ksMTQzNyw2OTMsMCwwOlNJLDEyMCwxMzU0LDAsMDpTSSwxMjAsMTU3NSwwLDA6U0ksMTI5LDE4MDEsMCwwOlNJLDI3NTIsMTEyMSwwLDEyODpTSSwyNzUyLDEzNTQsMCwxMjg6U0ksMjc1MiwxNTc1LDAsMTI4OlNJLDI3NDMsMTgwMSwwLDEyODpTSSw5NTIsNjkzLDAsMDpTSSwxMTE1LDI4MiwwLDA6U0ksMTI3NiwyODIsMCwwOlNJLDE0MzcsMjgyLDAsMDpTSSw5NTIsMjgyLDAsMDpTSiwyMzY5LDE4MjUsMCwxMjg6U0osMjcxMSwxNDM1LDAsMDpTSiwyMzY5LDE2MDcsMCwxMjg6U0osMjcxMSwxNjUzLDAsMDpTSiwyNzExLDEwMDAsMCwwOlNKLDI3MTEsMTIxOCwwLDA6U0osMjM2OSwxMzg3LDAsMTI4OlNKLDIzNjksMTE1NywwLDEyODpTSiw1MDUsMTgyNSwwLDA6U0osMTYzLDE0MzUsMCwxMjg6U0osNTA1LDE2MDcsMCwwOlNKLDE2MywxNjUzLDAsMTI4OlNKLDE2MywxMDAwLDAsMTI4OlNKLDE2MywxMjE4LDAsMTI4OlNKLDUwNSwxMzg3LDAsMDpTSiw1MDUsMTE1NywwLDA6U0ssMjY4NSw4OTgsMCwwOlNLLDI2NjgsODE3LDAsMjQ5OlNLLDI2NDMsNzQxLDAsMjQyOlNLLDI2MDcsNjcxLDAsMjM1OlNLLDI1NjMsNjAwLDAsMjI4OlNLLDI1MDksNTM4LDAsMjIxOlNLLDI0NTAsNDg1LDAsMjE3OlNLLDIzODQsNDM1LDAsMjEwOlNLLDIzMTIsMzk4LDAsMjAzOlNLLDIyMzUsMzY5LDAsMjAwOlNLLDIxNTUsMzUwLDAsMTkyOlNLLDc0MCwzNDcsMCwxOTI6U0ssNjU5LDM2MywwLDE4NTpTSyw1ODIsMzg5LDAsMTc4OlNLLDUwOSw0MjUsMCwxNzE6U0ssNDQxLDQ3MiwwLDE2NDpTSywzODEsNTI1LDAsMTU3OlNLLDMyNSw1ODcsMCwxNTM6U0ssMjc4LDY1NCwwLDE0NjpTSywyNDAsNzI2LDAsMTM5OlNLLDIxMiw4MDMsMCwxMzY6U0ssMTk1LDg4MiwwLDEyODpTSywxNDgyLDI1MzcsMCw2NDpTSywxNTY0LDI1MzEsMCw2MDpTSywxNDAxLDI1MzQsMCw2NzpTSywxNjQ1LDI1MjIsMCw1NjpTSywxMzE5LDI1MjksMCw3MTpTSywxMjM5LDI1MTgsMCw3NDpTSywxNzI0LDI1MTAsMCw1MzpTTSw4ODUsMjA5MSwwLDA6U00sMTA4OCwyMTY4LDAsMDpTTSwxMzA2LDIyMTgsMCwwOlNNLDE1NTgsMjIxOCwwLDA6U00sMTc4OSwyMTczLDAsMDpTTSwxOTg0LDIwOTksMCwwOlNNLDEwMzIsNjQzLDAsMDpTTSwxMTk3LDY0MywwLDA6U00sMTM1OSw2NDMsMCwwOlNNLDE1MTYsNjQzLDAsMDpTTSwxNjc2LDY0MywwLDA6U00sODY2LDY0MywwLDA6U00sMTgzOCw2NDMsMCwwOlNNLDIwMTMsNjQzLDAsMDpTTSwxMDMzLDMyOSwwLDA6U00sMTE5OCwzMjksMCwwOlNNLDEzNjAsMzI5LDAsMDpTTSwxNTE3LDMyOSwwLDA6U00sMTY3NywzMjksMCwwOlNNLDg2NywzMjksMCwwOlNNLDE4MzksMzI5LDAsMDpTTSwyMDE0LDMyOSwwLDA6U04sMTc1LDIwMTksMCwwOlNOLDI2MTQsMjE5NiwwLDA6U08sMjcwOCwyMDE5LDAsMDpTTywzMjYsMjE5NiwwLDA6U1osNzA5LDIxMCwwLDA6U1osODEyLDgyLDAsMDpTWiwxMzc4LDE5NSwwLDA6U1osMTI3NCw1MSwwLDA6U1osMTUwNyw2NywwLDA6U1osMjQzNiwzMDgsMCwwOlNaLDIzODIsMTQ0LDAsMDpTWiwyMjU4LDEwLDAsMDpTWiwyNTkzLDMyMywwLDA6U1osMjc2OCwzMjMsMCwwOlNaLDI4ODEsNDQ5LDAsMDpTWiwyODM5LDEyMTMsMCwwOlNaLDI1NDIsMjI2MSwwLDA6U1osMjU0MiwyNDIwLDAsMDpTWiwyNTE4LDI1NzQsMCwwOlNaLDI1MTgsMjcxMywwLDA6U1osMjQ4MiwyODEwLDAsMDpTWiwyNzA2LDIwNTUsMCwwOlNaLDI4ODEsMjAxOSwwLDA6U1osMTQzNywyNjgyLDAsMDpTWiwxMzQ2LDI4MTAsMCwwOlNaLDE1NzcsMjgxMCwwLDA6U1osMjk3LDIyNjEsMCwwOlNaLDEyMCwyMjIwLDAsMDpTWiwzNjcsMjMyOCwwLDA6U1osNDMwLDI0ODIsMCwwOlNaLDQ2MiwyNjQxLDAsMDpTWiw0OTcsMjgxMCwwLDA6U1osLTUsMjEyOCwwLDA6U1osNDUsMTIxMywwLDA6U1osNDUsMTMxMywwLDA6U1osNDUsMTQxMywwLDA6U1osNTk1LDI2NywwLDA6U1osNDYyLDE0NCwwLDA6U1osMzIwLDM2LDAsMDpTWiw2MzAsMTI2OCwwLDA6U1osNzk1LDEyMTMsMCwwOlNaLDg0NiwxMDY0LDAsMDpTWiw4NjIsODg5LDAsMDpTWiw4NjIsNzc2LDAsMDpTWiw3NzQsMTMyMSwwLDA6U1osODk3LDE0MTMsMCwwOlNaLDg5NywxNTk4LDAsMDpTWiw4MTIsMTc2MiwwLDA6U1osNzQwLDE4NzAsMCwwOlNaLDk3NCwxNzA1LDAsMDpTWiwxMTMzLDE3MDUsMCwwOlNaLDEyODcsMTc4OSwwLDA6U1osMTM5MCwxOTI4LDAsMDpTWiwxNDQ2LDIwOTMsMCwwOlNaLDE1MjgsMTkyOCwwLDA6U1osMTYyOCwxODI4LDAsMDpTWiwxNzU3LDE3MDUsMCwwOlNaLDE5MTYsMTcwNSwwLDA6U1osMjA3NSwxNzA1LDAsMDpTWiwyMjE0LDE3ODksMCwwOlNaLDIwMTQsMTU2MiwwLDA6U1osMjA0NCwxMzk4LDAsMDpTWiwyMTQ0LDEyOTgsMCwwOlNaLDIyNjQsMTIyNiwwLDA6U1osMjEwOSw3OTAsMCwwOlNaLDEzODAsNzg1LDAsMDpTWiwxNTI4LDg3NywwLDA6U1osMTY3NCw5NDksMCwwOlNaLDE4MTgsOTQ5LDAsMDpTWiwxOTcyLDkwOCwwLDA6U1osMjAxOCw5NzYsMCwwOlNaLDIwNDQsMTE0OSwwLDA6U1osMTI0Niw5MDgsMCwwOlNaLDEwOTcsOTQ5LDAsMDpTWiw5NjIsODg5LDAsMDpCT09TVCwxNjEwLDI0MjksMCwyNDk6Qk9PU1QsMTg0Niw1MzcsMCwxMjg6Qk9PU1QsMTg0Niw0MzgsMCwxMjg6Qk9PU1QsNjU4LDIyMTQsMCwxNzpCT09TVCw3MjEsMjI0NCwwLDE3OkJPT1NULDc4NSwyMjczLDAsMTc6Qk9PU1QsMTY3OSwyNDE2LDAsMjQ5OkJPT1NULDE3NDgsMjQwNCwwLDI0OTpCT09TVCwxOTE2LDQzOCwwLDEyODpCT09TVCwxOTg2LDQzOCwwLDEyODpCT09TVCwxOTE2LDUzNywwLDEyODpCT09TVCwxOTg2LDUzNywwLDEyODp+NzYyLDQ5NzozMzAsMTMxMzo1NDIsMjA4OToxNDQ2LDIzOTM6MjQxOCwyMDA1OjI1NTgsMTIyMToyMjgyLDU0OToxMzc0LDQ4NTp+TEF+PC9UQT4NCgkJPFRCPn43NzksMjYwOjQwNSw2Nzc6NzIzLDEzMDY6MzY1LDIwODU6NjIyLDI0NDU6MjEwNCwyNTk5OjI1MzQsMjI0OToyNDAyLDE5MDM6MjE5NywxODE4OjE3NDksMjEyMjoxMjQwLDE4NDQ6MTIyMCwxNDgwOjI1MDQsODczOjI0NTgsNDczOjE1MTAsMzA4On5TVEFSVCwxNjA5LDMwOSwwLDE5MjpTQSw1OTksNjkzLDAsMDpTQSwyMzIzLDI3OTUsMCwwOlNBLDUxLDE2NTQsMCwwOlNCLDE3MjQsMTU0MiwwLDA6U0IsMjI4Miw2NiwwLDA6U0IsMTI4MywyODQ2LDAsMDpTQywxMDYsMzUwLDAsMDpTQywyMjYyLDE0MDUsMCwwOlNDLDE4MDEsMjg2MSwwLDA6U0MsMTI5Myw5NjcsMCwwOlNELDExOTIsMjA1MiwwLDA6U0QsMjcyNCwyNjEwLDAsMDpTRCwyNzI5LDI5MiwwLDA6U0QsMjE4LDI1ODAsMCwwOlNELDk3NSw2MTYsMCwwOlNELDY5NCwyMTQ3LDAsMDpTRCw5NzEsNzE4LDAsMDpTRCw5NzEsODIwLDAsMDpTRSwyMDY1LDkwLDAsMDpTRSw5NDQsMjkzMiwwLDA6U0YsNDU1LDEzMzUsMCwwOlNGLDM2MCwxNjIxLDAsMDpTRiwyNTcsMTkwMiwwLDA6U0YsMTY0LDIxODcsMCwwOlNGLDY1Nyw1MiwwLDA6U0YsOTU3LDMzLDAsMDpTRiwxMjU1LDMzLDAsMDpTRiwyNjk2LDE3MTYsMCwwOlNGLDI4MzMsMTk4NCwwLDA6U0csMjUwMywxMDgzLDAsMDpTRyw5NjcsMTg4MywwLDA6U0gsMTcwMiwxOTU1LDAsMDpTSCwxODI5LDE4MDIsMCwwOlNILDE5NDcsMTY0MCwwLDA6U0gsMTU4MywxNDU4LDAsMDpTSCwxNzY0LDEzNzQsMCwwOlNILDE5NDYsMTI5MCwwLDA6U0gsMjEyNywxMjA2LDAsMDpTSCwyMzA4LDExMjIsMCwwOlNILDE4NTYsNTM1LDAsMDpTSCwxNjU2LDUzNSwwLDA6U0gsMTQ1Niw1MzUsMCwwOlNILDE4NTYsODQsMCwwOlNILDE2NTYsODUsMCwwOlNILDE0NTYsODMsMCwwOlNILDI2MCwyMDU5LDAsMDpTSCwzNjMsMTc5MSwwLDA6U0gsNDcxLDE1MTAsMCwwOlNILDEwNzksNTM1LDAsMDpTSCw3MjMsNTUxLDAsMDpTSSw3MjQsMjAyMywwLDA6U0ksNzgyLDE4NzEsMCwwOlNJLDg0MywxNzIxLDAsMDpTSSw4OTcsMTU2OSwwLDA6U0ksMTQ0OSwxMDQyLDAsMDpTSSwxNjQ5LDk1MiwwLDA6U0ksMTg1NCw4NTksMCwwOlNJLDIwNzAsNzU4LDAsMDpTSSw4MDgsMTEwLDAsMDpTSSwxMDk3LDEwMywwLDA6U0ksOTY4LDIzMjksMCwwOlNJLDEyMDUsMjMyOSwwLDA6U0ksMTQyMywyMzMwLDAsMDpTSSw4OTksNTE2LDAsMDpTSSwxMjU3LDUxMCwwLDA6U0ksOTQxLDE0MTYsMCwwOlNJLDcyNCwyMjk1LDAsMDpTSSwyMzQwLDIyNzksMCwwOlNJLDIyNjEsMTk4NywwLDA6U0ksMjI5MSw1OTksMCwwOlNKLDEzMzksMTEzNCwwLDE3NTpTSiwxODM4LDEyNzcsMCw0NjpTSiwxNTM2LDEwNDEsMCwxNzU6U0osMTY0MCwxMzcwLDAsNDY6U0osMjIzMSwxMDkxLDAsNDY6U0osMjAzNCwxMTg0LDAsNDY6U0osMTczNSw5NDcsMCwxNzU6U0osMTk0Myw4NDksMCwxNzU6U0osMTU3MSwyMzYyLDAsMTkyOlNKLDExODEsMjcwNCwwLDY0OlNKLDEzNTMsMjM2MiwwLDE5MjpTSiwxMzk5LDI3MDQsMCw2NDpTSiw3NDYsMjcwNCwwLDY0OlNKLDk2NCwyNzA0LDAsNjQ6U0osMTEzMywyMzYyLDAsMTkyOlNKLDkwMywyMzYyLDAsMTkyOlNKLDIwNTcsMjcwNCwwLDY0OlNKLDIyMjksMjM2MiwwLDE5MjpTSiwxNjIyLDI3MDQsMCw2NDpTSiwxODQwLDI3MDQsMCw2NDpTSiwyMDA5LDIzNjIsMCwxOTI6U0osMTc3OSwyMzYyLDAsMTkyOlNKLDI0NCw5OTEsMCw5NTpTSiwzOTgsMTE0NSwwLDk1OlNKLDc2MCwxMDIzLDAsMjI0OlNKLDU5Nyw4NjEsMCwyMjQ6U0osMTkzMCw0ODEsMCw2NDpTSiwyMTQ4LDQ4MSwwLDY0OlNKLDIzMTcsMTM5LDAsMTkyOlNKLDIwODcsMTM5LDAsMTkyOlNLLDUzMSwyMTEsMCwxODI6U0ssNDU2LDIzNywwLDE4MjpTSywzODMsMjczLDAsMTcxOlNLLDMxOSwzMjMsMCwxNjE6U0ssMjY4LDM4NywwLDE1MDpTSywyMzQsNDYwLDAsMTUwOlNLLDIwNSw1MzUsMCwxMzk6U0ssMTg3LDYxNSwwLDEyOTpTSywxODUsNjk2LDAsMTMyOlNLLDE5Miw3NzcsMCwxMTc6U0ssMjE0LDg1NSwwLDEwNjpTSyw4MDIsMTA5OSwwLDIzNTpTSyw4NDAsMTE3MiwwLDI0NjpTSyw4NjcsMTI1MCwwLDA6U0ssODcyLDEzMzAsMCw0OlNLLDg2OCwxNDExLDAsMTA6U0ssMTAwMiwxNjg0LDAsMTE0OlNLLDk4MiwxNjA1LDAsMTE3OlNLLDk3NiwxNTI1LDAsMTM5OlNLLDk5NSwxNDQ1LDAsMTUwOlNLLDEwMzYsMTM3NSwwLDE2MTpTSywxMDg5LDEzMTMsMCwxNzE6U0ssMjgxLDIzMzAsMCwxMzU6U0ssMjkwLDI0MDksMCwxMjE6U0ssMzE4LDI0ODUsMCwxMTE6U0ssMzY1LDI1NTIsMCw5NjpTSyw0MjcsMjYwNiwwLDg5OlNLLDUwMiwyNjM5LDAsODE6U0ssNTgxLDI2NjMsMCw3MDpTSywyMzgxLDI2NjIsMCw1ODpTSywyNDYwLDI2NDEsMCw1MzpTSywyNTM1LDI2MTEsMCw0MjpTSywyNjA1LDI1NjcsMCwzMTpTSywyNjY2LDI1MTEsMCwyMTpTSywyNzExLDI0NDQsMCwyMTpTSywyNzQyLDIzNjgsMCwxMDpTSywyNzU2LDIyODcsMCwwOlNLLDI3NTEsMjIwNSwwLDI0NjpTSywyNTAwLDE2NzcsMCwyMjU6U0ssMjQ0MCwxNjI0LDAsMjE5OlNLLDIzNjcsMTU4NiwwLDIwOTpTSywyMjg3LDE1NjcsMCwxOTI6U0ssMjIwNSwxNTczLDAsMTgyOlNLLDIxMjgsMTYwMSwwLDE3NjpTSywyMDYwLDE2NDMsMCwxNjA6U0ssMTg5MSwyMjc1LDAsNDI6U0ssMTgxNywyMzEwLDAsNTM6U0ssMTczOCwyMzI1LDAsNjQ6U0ssMTY1OCwyMzI1LDAsNzQ6U0ssMTU3OCwyMzA2LDAsODU6U0ssMTUwNSwyMjY5LDAsODU6U0ssMjU2NSw4OTYsMCw0MjpTSywyNjI3LDg0MiwwLDMxOlNLLDI2NzgsNzc4LDAsMzE6U0ssMjcxNSw3MDMsMCwxMDpTSywyNzI5LDYyNCwwLDA6U0ssMjcyNSw1NDIsMCwyNDY6U0ssMjcwOCw0NjIsMCwyMzU6U0ssMjY3MSwzOTEsMCwyMzU6U0ssMjYyNywzMjEsMCwyMjU6U0ssMjU2OSwyNjIsMCwyMTQ6U0ssMjQ5OSwyMjIsMCwyMDM6U0ssMjQyNCwxOTYsMCwyMDM6U00sMTU1Niw0NzAsMCwwOlNNLDE3NTEsNDcwLDAsMDpTTSwxNTU2LDE0OCwwLDA6U00sMTc1MSwxNDgsMCwwOlNNLDE0MTAsMTQ2MywwLDA6U00sMTI4MSwxMTcwLDAsMDpTTSw4ODIsMjY5NywwLDA6U00sMTA5NywyNjk3LDAsMDpTTSwxMzE3LDI2OTcsMCwwOlNNLDE1MzYsMjY5NywwLDA6U00sMTc1OSwyNjk3LDAsMDpTTSwxOTc5LDI2OTcsMCwwOlNNLDIxOTUsMjY5NywwLDA6U00sMjEwNCwyMzc1LDAsMDpTTSwxODc2LDIzNzUsMCwwOlNNLDE2NTEsMjM3NSwwLDA6U00sMTM4NywxNzAwLDAsMDpTTSwxNDUzLDE3NzgsMCwwOlNNLDE1MTksMTg1NSwwLDA6U00sMTM1MCw0NzAsMCwwOlNNLDExNjUsNDcwLDAsMDpTTSw5ODUsNDcwLDAsMDpTTSw4MDcsNDgwLDAsMDpTTSwxMzYwLDE0OCwwLDA6U04sMjI1NiwyMTgxLDAsMDpTTiwxMTAwLDEwOTQsMCwwOlNPLDI4MDIsOTE5LDAsMDpTTyw1MDUsMjg0MywwLDA6U08sMTk3LDExNjAsMCwwOlNPLDEyODgsNjc5LDAsMDpTWiw5OTEsMTI4MSwwLDA6U1osNzE5LDYxOCwwLDA6U1osMTQ3OSw2MDksMCwwOlNaLDczNywyMjQ5LDAsMDpTWiw5OTksMTA4OCwwLDA6U1osODk0LDkzNywwLDA6U1osNzkxLDc4MiwwLDA6U1osODg3LDY5MywwLDA6U1osMTA2NSw3NDYsMCwwOlNaLDEyMzQsNzM3LDAsMDpTWiwxMzU0LDcyNCwwLDA6U1osMjI1Myw1ODUsMCwwOlNaLDIwOTEsNjMxLDAsMDpTWiwxOTA0LDY2NSwwLDA6U1osMTcwNiw2ODAsMCwwOlNaLDE1NDQsNzUyLDAsMDpTWiwxMzkwLDgwOSwwLDA6U1osMTIzNCw4OTMsMCwwOlNaLDExMDMsOTcyLDAsMDpTWiwyMjY0LDIwMzgsMCwwOlNaLDE3MDQsMTgyOSwwLDA6U1osMjE2NCwyMjQyLDAsMDpTWiwyMjIwLDIxNzcsMCwwOlNaLDgzNywyMDc5LDAsMDpTWiw5MDMsMTkwNywwLDA6U1osMTIwNywyMjI2LDAsMDpTWiwxMDM3LDIxNjQsMCwwOlNaLDg5MywyMTY0LDAsMDpTWiw5NjUsMjA2NiwwLDA6U1osMTQ0NCwxNTg1LDAsMDpTWiwxNTcwLDE3MTYsMCwwOlNaLDE3NjMsMTY3NywwLDA6U1osMjIzOSwxNDM4LDAsMDpTWiwyMDU0LDE0MzgsMCwwOlNaLDE5MTIsMTUwMCwwLDA6U1osMTc4OSwxNTU0LDAsMDpTWiwxNjIyLDE1ODUsMCwwOlNaLDE1MDYsMTQsMCwwOlNaLDUwNCw1OCwwLDA6U1osMjgyNiw0MjUsMCwwOlNaLDI0MjAsMTM5NywwLDA6U1osMjYwOCwxNDIzLDAsMDpTWiwyNzk4LDE0MjMsMCwwOlNaLDI1MiwyNTkzLDAsMDpTWiw4NywyNTQyLDAsMDpTWiw0MTMsMTM1NCwwLDA6U1osMjk1LDE0NjIsMCwwOlNaLDE0NiwxNTcyLDAsMDpTWiwyMzYsMTI4OCwwLDA6U1osNjcsMTIxNiwwLDA6U1osMjgsMTY4OCwwLDA6U1osNTg0LC0xOCwwLDA6U1osMjc2NywzMzgsMCwwOlNaLDI4MzksMjAwLDAsMDpTWiwyNTIsMjczMiwwLDA6U1osMzE2LDI4MDksMCwwOlNaLDkxOSwxNzI1LDAsMDpTWiwyMDkxLDI4MjUsMCwwOlNaLDIyOTEsMjc4MCwwLDA6U1osMjQ0NywyODY5LDAsMDpTWSw5NDAsMTM3OSwwLDA6U1ksOTMwLDE0NTAsMCwwOlNZLDkyNCwxNDg5LDAsMDpTWSw5MjIsMTUyNCwwLDA6U1ksOTE5LDE1OTEsMCwwOlNZLDkxNywxNjMxLDAsMDpTWSw5MzIsMTQxNywwLDA6U1ksOTIyLDE1NTUsMCwwOlNZLDEyOTksMjI4OSwwLDA6U1ksMTMyNywyMzAyLDAsMDpTWSwxMzYxLDIzMTIsMCwwOlNZLDEzOTQsMjMyMCwwLDA6U1ksMTQyNywyMzI3LDAsMDpTWSwxNDU4LDIzMzIsMCwwOlNZLDE0ODgsMjM0MywwLDA6U1ksMTUyNCwyMzQ4LDAsMDpTWSwxNTU0LDIzNTAsMCwwOlNZLDE1OTAsMjM1MCwwLDA6U1ksMTYzMSwyMzUwLDAsMDpTWSwxNjY3LDIzNTAsMCwwOlNZLDE3MDUsMjM1MCwwLDA6U1ksMTc0MywyMzUwLDAsMDpTWSwxNzc5LDIzNTAsMCwwOlNZLDE4MTcsMjM0OCwwLDA6U1ksMTg1MCwyMzQwLDAsMDpTWSwxODg2LDIzMzIsMCwwOlNZLDE5MjIsMjMyMCwwLDA6U1ksMTk1NywyMzEyLDAsMDpTWSwxOTkwLDIzMDQsMCwwOlNZLDIwMjYsMjMwNywwLDA6U1ksMjA1OSwyMzIwLDAsMDpTWSwyMDk4LDIzMjAsMCwwOkJPT1NULDg1NywyNTg1LDAsMDpCT09TVCwxMzkzLDEyNDMsMCwyMzk6Qk9PU1QsOTI3LDI1ODUsMCwwOkJPT1NULDk5NywyNTg1LDAsMDpCT09TVCwxNDU2LDEyMTMsMCwyMzk6Qk9PU1QsMTUyMCwxMTg0LDAsMjM5OkJPT1NULDE5ODcsMzYwLDAsMTI4OkJPT1NULDE5ODcsMjYxLDAsMTI4OkJPT1NULDIwNTcsMjYxLDAsMTI4OkJPT1NULDIxMjcsMjYxLDAsMTI4OkJPT1NULDIwNTcsMzYwLDAsMTI4OkJPT1NULDIxMjcsMzYwLDAsMTI4On41ODcsMzQ4OjY5NywxMjcyOjQ5NiwyNDI0OjIxNDcsMjUzNToyMjYxLDE3Mzg6MTY4MiwyMTI2OjExNDksMTUzNDoyNTM5LDUwMDoxNTA3LDMwOTp+TEJ+PC9UQj4NCgkJPFRDPn4yNTEwLDYxMjoyMTk2LDMzNjoxODM1LDY4NzoxNjg4LDEzNjY6MTIyNSwxNTUyOjEyNjUsOTUzOjEwNjgsNDM4OjY3OSw1NjY6NTUxLDk2Mjo0OTIsMTM1MzozMTYsMTcyNDo0ODksMjE0NDo2OTgsMjUzOToxMDY3LDI1ODQ6MTQ2NSwyMjU2OjE4NzQsMjIxNToyMjc4LDIzMjk6MjQ2MywxOTIxOjI1MTgsMTI3NDp+U1RBUlQsMjUyMiwxMzc5LDAsMjU2OlNBLDI5MjUsNjk4LDAsMDpTQSwxNjgwLDE3ODAsMCwwOlNBLDUzNiwxMzksMCwwOlNBLDE1NjEsMjY3MywwLDA6U0IsMjQ5Myw2MCwwLDA6U0IsMjc4NCwyMzM0LDAsMDpTQiw5MzIsMTc5OCwwLDA6U0IsMTIxOCw4NywwLDA6U0IsMjE5LDIyNzMsMCwwOlNDLDEyMjMsMTk5MCwwLDA6U0MsMjUwMCwyNjkyLDAsMDpTQywyMDA2LC0xOSwwLDA6U0QsMTg4MiwxMzM0LDAsMDpTRCwxOTI1LDExMzAsMCwwOlNELDE5OTcsOTM0LDAsMDpTRCwyMDYxLDcwNiwwLDA6U0QsOTI4LDIxODYsMCwwOlNELDExOTYsMjg5MSwwLDA6U0QsMzk2LDExNzIsMCwwOlNFLDI3NDQsMzA5LDAsMDpTRSw5NjYsMjAyMiwwLDA6U0UsMjEwMiwxMjU0LDAsMDpTRiwyMjQ0LDE2NjQsMCwwOlNGLDIyNDQsMTk1NywwLDA6U0YsMjc5OSwxNTcxLDAsMDpTRiwzMzcsOTcxLDAsMDpTRiwyMzYsMTI1NSwwLDA6U0YsMTQ2Miw0NDAsMCwwOlNHLDI2NzgsMjQ5NCwwLDA6U0csMTQ4NiwxOTI2LDAsMDpTRyw4NzUsODg4LDAsMDpTSCw4OTgsMTIyOSwwLDA6U0gsOTUwLDEwMzUsMCwwOlNILDk5OSw4NDAsMCwwOlNILDEzNTYsMTI3OSwwLDA6U0gsMTQwNywxMDgzLDAsMDpTSCwxNDYxLDg4OCwwLDA6U0gsMTQ5MCw2ODgsMCwwOlNILDM4NywyNDI1LDAsMDpTSCw0NTMsMjYxMywwLDA6U0gsNTg5LDI3NTYsMCwwOlNILDc1OSwyODQxLDAsMDpTSCwyMDU3LDI1OTksMCwwOlNILDE4ODcsMjQ5MCwwLDA6U0gsMTY5MCwyNDgzLDAsMDpTSCwxNTAyLDI1NTQsMCwwOlNILDEzNTgsMjY5MywwLDA6U0gsMjc0OSwxODE4LDAsMDpTSCwyNzQ5LDIwMTUsMCwwOlNILDI3NDMsNjE0LDAsMDpTSCwyNzQ5LDgxNSwwLDA6U0gsMjc0OSwxMDE3LDAsMDpTSCwyNzQ5LDEyMTYsMCwwOlNILDE3ODMsMjIwLDAsMDpTSCwxNjksMTQyNCwwLDA6U0ksMTcwMywzODAsMCwwOlNJLDE2MzYsNTY4LDAsMDpTSSwxNTY5LDc4OSwwLDA6U0ksMTUxMywxMDAyLDAsMDpTSSwxNDUyLDEyMDksMCwwOlNJLDIzMTQsOTQ0LDAsMDpTSSwyMzA4LDExNjIsMCwwOlNJLDIzMTIsMTM3NywwLDA6U0ksMzk1LDIyNTQsMCwwOlNJLDI2NywyMDg3LDAsMDpTSSw2NzksMTUwMiwwLDA6U0ksNzY5LDEzNjgsMCwwOlNJLDQzMCw0MzQsMCwwOlNJLDM5OCw1OTIsMCwwOlNJLDM5Miw3NDUsMCwwOlNJLDY2OCwxOTA5LDAsMDpTSSw1NDcsMTcyMCwwLDA6U0ksODg0LDIzNzksMCwwOlNJLDEzOTcsMjEwOCwwLDA6U0ksMjIxMiwyMTQ2LDAsMDpTSSwyMTg1LDUzNSwwLDA6U0osMTgwMywxMzU3LDAsMTI6U0osMTU5MCw4ODQsMCwxNDE6U0osMTg2NiwxMTQ4LDAsMTI6U0osMTUyOCwxMDkyLDAsMTQxOlNKLDE3MTcsNDY5LDAsMTQxOlNKLDE2NTQsNjc3LDAsMTQxOlNKLDE5MzEsOTM3LDAsMTI6U0osMTk5Nyw3MTgsMCwxMjpTSiwyNjkwLDExMDIsMCwwOlNKLDIzNDgsMTI3NCwwLDEyODpTSiwyNjkwLDY2NywwLDA6U0osMjY5MCw4ODUsMCwwOlNKLDIzNDgsMTA1NCwwLDEyODpTSiwyMzQ4LDgyNCwwLDEyODpTSiwzMzAsMjEwNSwwLDk5OlNKLDcwMSwyMDEzLDAsMjI4OlNKLDE4OCwxOTQwLDAsOTk6U0osNTU4LDE4NDYsMCwyMjg6U0osNzg1LDEwMDQsMCwwOlNKLDQzNyw3MzQsMCwxMjc6U0osNzgwLDc4NywwLDA6U0osNDQyLDk2NCwwLDEyNzpTSiwyNjkxLDE4NTAsMCwwOlNKLDIzNDksMjAyMiwwLDEyODpTSiwyNjkxLDE2MzMsMCwwOlNKLDIzNDksMTgwMiwwLDEyODpTSywyNjA3LDQwNSwwLDIzNTpTSywyNTY4LDMzMywwLDIyOTpTSywyNTE4LDI2OCwwLDIyNTpTSywyNDU2LDIxNSwwLDIxNDpTSywyMzg0LDE3NiwwLDIxMDpTSywyMzA3LDE1MiwwLDIwMzpTSywyMjI4LDEzNywwLDE5ODpTSywyMTQ4LDEzMiwwLDE5MjpTSywyMDY4LDEzNywwLDE4NzpTSywxOTg5LDE1OSwwLDE3ODpTSywxOTIwLDIwMSwwLDE2ODpTSywxMjE3LDE3NjAsMCw3NDpTSywxMjk2LDE3NzMsMCw2NDpTSywxMzc2LDE3NzMsMCw2NDpTSywxNDU1LDE3NTgsMCw1MzpTSywxNTMxLDE3MjgsMCw0MjpTSywxMTQwLDE3MzYsMCw4NTpTSywxMDcwLDE2OTMsMCw5NjpTSywxMDEzLDE2MzQsMCwxMDE6U0ssOTc2LDE5NCwwLDE5ODpTSywxMDU2LDIwOSwwLDIwMzpTSywxMTM0LDIzMywwLDIxNDpTSywxMjA1LDI2OCwwLDIxNDpTSywxMjcxLDMxNSwwLDIyNTpTSywxMzI1LDM3NSwwLDIyNTpTSywxMzY1LDQ0NCwwLDIzNTpTSywxMzkyLDUyMSwwLDI0NjpTSyw4OTUsMTg3LDAsMTkyOlNLLDgxMiwxOTQsMCwxODY6U0ssNzMyLDIxMSwwLDE3OTpTSyw2NTksMjQ0LDAsMTcxOlNLLDU5NCwyOTQsMCwxNjA6U0ssNTM5LDM1NiwwLDE1NDpTSywxMDAsMTY3OCwwLDEyODpTSywxMTgsMTU5NywwLDE0MzpTSywxNTQsMTUyNiwwLDE1MDpTSywxMDMsMTc1OCwwLDExNzpTSywxMzAsMTgzNiwwLDEwMTpTSyw5NzksMjgwMSwwLDY3OlNLLDEwNTksMjc5NSwwLDUzOlNLLDExMzcsMjc3MywwLDQ2OlNLLDkwMCwyNzk1LDAsNzQ6U0ssODIzLDI3NzUsMCw3NDpTSywxMjA1LDI3MzAsMCwzMTpTSywxMjMyLDIxOTcsMCwxNzQ6U0ssMTE2NywyMjQ3LDAsMTYwOlNLLDEzMTAsMjE3MywwLDE4ODpTSywxNzc1LDE5NTQsMCwxOTI6U0ssMTg1MywxOTY4LDAsMjA4OlNLLDE2OTUsMTk2NiwwLDE4MjpTSywyMzM5LDI1NDcsMCw0OTpTSywyMjU4LDI1NTQsMCw2NDpTSywyNDE3LDI1MjIsMCw0MjpTSywyMTc5LDI1NTAsMCw3MDpTSywyNDg0LDI0NzksMCwzMTpTSywyNTM5LDI0MjAsMCwyMTpTTSwyNjgwLDEwMzYsMCwwOlNNLDI2ODAsODQwLDAsMDpTTSwyNjg4LDEyNDEsMCwwOlNNLDI2NzMsNjQwLDAsMDpTTSwyMzU1LDY4MywwLDA6U00sMjAyNSw1NjYsMCwwOlNNLDE5NTcsNzk0LDAsMDpTTSwxODk1LDEwMDUsMCwwOlNNLDE4NDAsMTIxNiwwLDA6U00sMTc4MCwxNDIyLDAsMDpTTSwxNjk2LDE1OTYsMCwwOlNNLDE1NzgsMjQ2NiwwLDA6U00sMTk5MywyNDg3LDAsMDpTTSwxNTM5LDIwNzEsMCwwOlNNLDE2MDYsMTk5NiwwLDA6U00sMTk0NywxOTk2LDAsMDpTTSwyMDIxLDIwNjAsMCwwOlNNLDYwMSwxOTAzLDAsMDpTTSw3MzcsMjA3NywwLDA6U00sOTgyLDExNTksMCwwOlNNLDEwMzMsOTU3LDAsMDpTTSwxMDg4LDc1NiwwLDA6U00sNzYxLDcxOCwwLDA6U00sNzc0LDkzMywwLDA6U00sNTkxLDE1MzMsMCwwOlNNLDY4MiwxNDE3LDAsMDpTTSwxMDk3LDIzMDEsMCwwOlNNLDEwNDksMjM4OSwwLDA6U04sMjI3Myw2MDMsMCwwOlNOLDgzNywyMjIyLDAsMDpTTywyMTIxLDIwOTgsMCwwOlNaLDIxMTEsNjkzLDAsMDpTWiwyMjIyLDcwOSwwLDA6U1osMjIyMiwxMjYzLDAsMDpTWiwyMTUwLDEwODQsMCwwOlNaLDIxNTAsODg4LDAsMDpTWiwyODAyLDEyNjMsMCwwOlNaLDI4MDIsNjAxLDAsMDpTWiwxNTU5LDUzOSwwLDA6U1osMTQ3OSwzNjUsMCwwOlNaLDE1MDYsMTkxLDAsMDpTWiwxNTg5LDMyLDAsMDpTWiwxMzM1LDIxMSwwLDA6U1osMTI2OSw1NywwLDA6U1osMjQyNywyNjQwLDAsMDpTWiwyMzUwLDI4MTQsMCwwOlNaLDI1OTEsMjcxNywwLDA6U1osMjc3NCwyNzYzLDAsMDpTWiwxNDIxLDE4ODUsMCwwOlNaLDE1NzUsMTg5NSwwLDA6U1osNTEzLDI3ODAsMCwwOlNaLDg5MSwyMzE1LDAsMDpTWiw5NzQsMjE1NiwwLDA6U1osMTA2OSwyMDExLDAsMDpTWiwxMTk3LDE5MDIsMCwwOlNaLDEyOTcsMTkwOCwwLDA6U1osMTcyOSwxODU2LDAsMDpTWiwyMjE3LDIwNzIsMCwwOlNaLDIxNDAsMTg5NSwwLDA6U1osMTk5MSwxNzkyLDAsMDpTWiwxODYyLDE3NDEsMCwwOlNaLDIwMjIsMTYyMCwwLDA6U1osMjA2MiwxNDQ2LDAsMDpTWiwyMTExLDEzMjAsMCwwOlNaLDE3NzUsMjQ0OCwwLDA6U1osMTcyOSwyNjE0LDAsMDpTWiwxNjUyLDI3ODAsMCwwOlNaLDE3OTEsMjYxNCwwLDA6U1osMTg2MiwyNzgwLDAsMDpTWiwzNiwxNTM3LDAsMDpTWiw1NzMsMTY5NSwwLDA6U1osNzM3LDE3NzIsMCwwOlNaLDg2OSwxODg1LDAsMDpTWiw5NTEsMTk0MSwwLDA6U1osOTU2LDY0NSwwLDA6U1osODc0LDgxNCwwLDA6U1osMzE4LDk2OCwwLDA6U1osMTg1LDg1NSwwLDA6U1osNTEsNzM5LDAsMDpTWiwxODUsMTAzMiwwLDA6U1osMzYsMTEzNSwwLDA6U1osMzYsMTg5NiwwLDA6U1osLTI2LDE3MjAsMCwwOlNaLDM3MywyODE0LDAsMDpTWiw1NjUsMjg4MCwwLDA6U1osMjg3OSwxMzU2LDAsMDpTWiwyOTA1LDcyNCwwLDA6U1osMjExMSwxMjIwLDAsMDpTWSw4ODgsOTM1LDAsMDpTWSw4ODgsOTc0LDAsMDpTWSw4ODgsMTAxMywwLDA6U1ksODg4LDEwNTEsMCwwOlNZLDg3NiwxMDkzLDAsMDpTWSw4NzYsMTEzNSwwLDA6U1ksODYyLDExNzAsMCwwOlNZLDg0OSwxMjEzLDAsMDpTWSw4NDMsMTI1NywwLDA6U1ksODM4LDEyOTgsMCwwOlNZLDgzMSwxMzM4LDAsMDpTWSw4MjYsMTM3OSwwLDA6U1ksODI2LDE0MjMsMCwwOlNZLDgxNiwxNDU2LDAsMDpTWiw3NzksMTU2NSwwLDA6U1osNzEzLDE2NDYsMCwwOlNaLDgyMSwxNzI4LDAsMDpTWSwxMzQwLDE0MDEsMCwwOlNZLDEzNTQsMTM2MCwwLDA6U1ksMTM3MSwxMzE3LDAsMDpTWSwxMzgxLDEyNzUsMCwwOlNZLDEzOTQsMTIzMSwwLDA6U1ksMTQwMywxMTg5LDAsMDpTWSwxNDEwLDExNDgsMCwwOlNZLDE0MjIsMTEwNywwLDA6U1ksMTQzMSwxMDY4LDAsMDpTWSwxNDQ0LDEwMjcsMCwwOlNZLDE0NTAsOTg1LDAsMDpTWSwxNDY0LDk0MiwwLDA6U1ksMTQ3OCw5MDAsMCwwOlNZLDE0ODQsODU5LDAsMDpTWSwxNTAwLDgxOCwwLDA6U1ksMTUxMCw3NzcsMCwwOlNZLDE1MTgsNzM2LDAsMDpTWSwxNTI3LDY5NiwwLDA6U1ksMTUzOCw2NTIsMCwwOkJPT1NULDExNzEsMTI3NCwwLDIwMzpCT09TVCwyODMsMTg4MSwwLDMyOkJPT1NULDI0NzAsMTc5NiwwLDE5MjpCT09TVCwyNTY5LDE3OTYsMCwxOTI6Qk9PU1QsMjU2OSwxODY2LDAsMTkyOkJPT1NULDI1NjksMTkzNiwwLDE5MjpCT09TVCwyNDcwLDE4NjYsMCwxOTI6Qk9PU1QsMjQ3MCwxOTM2LDAsMTkyOkJPT1NULDMzMiwxOTMwLDAsMzI6Qk9PU1QsMzgyLDE5ODAsMCwzMjpCT09TVCwxMTg5LDEyMDcsMCwyMDM6Qk9PU1QsMTIwNywxMTM5LDAsMjAzOn4yNTE3LDY2MDoxODE4LDY4NzoxMjc0LDE2MTI6MTE5Niw0NzE6NjEzLDk1NToyNzMsMTcyMDo2OTgsMjU0NDoxNzc5LDIxNTI6MjMyMSwyMzU4OjI1MTcsMTI3Mzp+TEN+PC9UQz4NCgk8L3RyYWNrcz4NCgk8Z3VpPg0KCQk8YXVkaW9Ib2xkTWVzc2FnZT5QUkVTUyBUTyBDT05USU5VRTwvYXVkaW9Ib2xkTWVzc2FnZT4NCgkJPGJ1dHRvbnM+DQoJCQk8dW5wYXVzZT5SZXN1bWU8L3VucGF1c2U+DQoJCQk8cmVzdGFydD5SZXN0YXJ0PC9yZXN0YXJ0Pg0KCQkJPGF1ZGlvPlRvZ2dsZSBTb3VuZDwvYXVkaW8+DQoJCQk8ZnVsbFNjcmVlbj5GdWxsU2NyZWVuPC9mdWxsU2NyZWVuPg0KCQkJPGJhY2s+TWFpbiBNZW51PC9iYWNrPg0KCQk8L2J1dHRvbnM+DQoJCTxzY2VuZXM+DQoJCQk8c2VsZWN0U2Vzc2lvbj4NCgkJCQk8Y29tcGxldGU+UExBWTwvY29tcGxldGU+DQoJCQkJPGNvbnRpbnVlPkNPTlRJTlVFPC9jb250aW51ZT4NCgkJCQk8bmV3PlNUQVJUPC9uZXc+DQoJCQk8L3NlbGVjdFNlc3Npb24+DQoJCQk8Z2FtZT4NCgkJCQk8bGFwTG9nPg0KCQkJCQk8bGFwPkxBUDwvbGFwPg0KCQkJCQk8b2Y+T0Y8L29mPg0KCQkJCTwvbGFwTG9nPg0KCQkJCTxsYXBUaW1lcj4NCgkJCQkJPGxhc3Q+TEFTVDwvbGFzdD4NCgkJCQkJPGJlc3Q+QkVTVDwvYmVzdD4NCgkJCQkJPHJlbWFpbmluZz5USU1FIFRPIEJFQVQ8L3JlbWFpbmluZz4NCgkJCQk8L2xhcFRpbWVyPg0KCQkJCTxzcGVlZG8+S00vSDwvc3BlZWRvPg0KCQkJCTxyZXBsYXlLZXlzPlByZXNzIFNQQUNFIHRvIGV4aXQgcmVwbGF5PC9yZXBsYXlLZXlzPg0KCQkJCTxyZXBsYXlUb3VjaD5UQVAgdG8gZXhpdCByZXBsYXk8L3JlcGxheVRvdWNoPg0KCQkJPC9nYW1lPg0KCQkJPGluc3RydWN0aW9ucz4NCgkJCQk8cXVhbGl0eUhpZ2g+DQoJCQkJCTx0aXRsZT5IaWdoPC90aXRsZT4NCgkJCQkJPG1lc3NhZ2U+UXVhbGl0eSBncmFwaGljczwvbWVzc2FnZT4NCgkJCQk8L3F1YWxpdHlIaWdoPg0KCQkJCTxxdWFsaXR5TWVkaXVtPg0KCQkJCQk8dGl0bGU+TWVkPC90aXRsZT4NCgkJCQkJPG1lc3NhZ2U+RGVmYXVsdCBncmFwaGljczwvbWVzc2FnZT4NCgkJCQk8L3F1YWxpdHlNZWRpdW0+DQoJCQkJPHF1YWxpdHlMb3c+DQoJCQkJCTx0aXRsZT5Mb3c8L3RpdGxlPg0KCQkJCQk8bWVzc2FnZT5CYXNpYyBncmFwaGljczwvbWVzc2FnZT4NCgkJCQk8L3F1YWxpdHlMb3c+DQoJCQkJPHRpcEtleXM+VXNlIENVUlNPUlMgdG8gY29udHJvbCB5b3VyIHNoaXA8L3RpcEtleXM+DQoJCQkJPHRpcFRvdWNoPlVzZSBUT1VDSCB0byBjb250cm9sIHlvdXIgc2hpcDwvdGlwVG91Y2g+DQoJCQk8L2luc3RydWN0aW9ucz4NCgkJPC9zY2VuZXM+DQoJCTxnYW1lTW9kZXM+DQoJCQk8cmFjZSB0aXRsZT0iUmFjZSBFdmVudCIgc3VidGl0bGU9IkZpbmlzaCBGaXJzdCIgLz4NCgkJCTx0aW1lVHJpYWwgdGl0bGU9IlRpbWUgVHJpYWwgRXZlbnQiIHN1YnRpdGxlPSJCZWF0IHRoZSBjbG9jayIgLz4NCgkJPC9nYW1lTW9kZXM+DQoJCTxsZXZlbHM+DQoJCQk8bGV2ZWwxPjE8L2xldmVsMT4NCgkJCTxsZXZlbDI+MjwvbGV2ZWwyPg0KCQkJPGxldmVsMz4zPC9sZXZlbDM+DQoJCQk8bGV2ZWw0PjQ8L2xldmVsND4NCgkJCTxsZXZlbDU+NTwvbGV2ZWw1Pg0KCQkJPGxldmVsNj42PC9sZXZlbDY+DQoJCTwvbGV2ZWxzPg0KCTwvZ3VpPg0KPC9kYXRhPg0KDQo"}];var pn={},dn=e.ArrayBuffer||ki;null==dn.prototype.slice&&(dn.prototype.slice=ki.sliceImpl);var gn,wn=e.Uint8Array||Ii._new;O.Element=0,O.PCData=1,O.CData=2,O.Comment=3,O.DocType=4,O.ProcessingInstruction=5,O.Document=6,xe._CHARS=["1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","[","]","^","_","`","!","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","{","|","}","~","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qs.paused=!1,ci.USE_CACHE=!1,ci.USE_ENUM_INDEX=!1,ci.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",gi.DEFAULT_RESOLVER=new di,gi.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",yi.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yi.BYTES=wi.ofString(yi.CHARS),mi.count=0,Si.escapes=(gn=new Ti,null!=pn.lt?gn.setReserved("lt","<"):gn.h.lt="<",null!=pn.gt?gn.setReserved("gt",">"):gn.h.gt=">",null!=pn.amp?gn.setReserved("amp","&"):gn.h.amp="&",null!=pn.quot?gn.setReserved("quot",'"'):gn.h.quot='"',null!=pn.apos?gn.setReserved("apos","'"):gn.h.apos="'",gn),xi.__toStr={}.toString,Ii.BYTES_PER_ELEMENT=1,Bi.ID=0,Ri.ID=0,Vi.PID=0,Yi.DEFAULT_MATERIAL=new Fi(.001,.81,1),Yi.DEFAULT_PROPERTIES=new Vi(.999,.999,.1,1e99,.5),Hi.ID=0,Ee.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);