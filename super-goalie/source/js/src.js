var createLoaderOverlay=function(){var t=new PIXI.Container,e=new PIXI.spine.Spine(Game.animationList.loader_anim_2);e.state.setAnimation(0,"animation",!0),e.scale.set(.2);var a=new PIXI.Graphics;return a.beginFill(0,.5),a.drawRect(-2e3,-2e3,4e3,4e3),a.endFill(),t.addChild(a),t.addChild(e),t};(Game=Game||{}).Ads={screen:null,loaderOverlay:null,cb:function(){},checkShowAd:function(t,e){var a=Game.Storage.getItem("boomerang_all_stars_total_games_played");a=a||0,a++,Game.Storage.setItem("boomerang_all_stars_total_games_played",a),"yes"===Game.Storage.getItem("boomerang_sports_app_accept_policy_gdpr")&&Game.Config.showAds&&a%Game.Config.adFrequency==0?Game.Ads.showAd(t,function(){e()}):e()},showAd:function(t,e){Game.Ads.cb=e,Game.Ads.screen=t,Game.Ads.loaderOverlay=createLoaderOverlay(),Game.Ads.loaderOverlay.x=Game.webApp.screenWidth/2,Game.Ads.loaderOverlay.y=Game.webApp.screenHeight/2,Game.webApp.stage.addChild(Game.Ads.loaderOverlay),Game.Ads.screen.interactiveChildren=!1,Game.Ads.addListeners(),setTimeout(function(){AdMob.prepareInterstitial({adId:ads.VIDEO_ID,autoShow:!1})},100)},addListeners:function(){document.addEventListener("onAdFailLoad",Game.Ads.onAdFailLoad),document.addEventListener("onAdDismiss",Game.Ads.onAdDismiss),document.addEventListener("onAdPresent",Game.Ads.onAdPresent),document.addEventListener("onAdLoaded",Game.Ads.onAdLoaded)},removeListeners:function(){document.removeEventListener("onAdPresent",Game.Ads.onAdPresent),document.removeEventListener("onAdFailLoad",Game.Ads.onAdFailLoad),document.removeEventListener("onAdDismiss",Game.Ads.onAdFailLoad),document.removeEventListener("onAdLoaded",Game.Ads.onAdLoaded)},closeAd:function(){Game.webApp.juggler.channelPaused[0]=!1,CC.SoundJs.ad=!1,Game.Ads.loaderOverlay&&(Game.webApp.stage.removeChild(Game.Ads.loaderOverlay),Game.Ads.loaderOverlay.destroy()),Game.Ads.removeListeners(),Game.Ads.cb()},onAdFailLoad:function(){Game.Ads.closeAd()},onAdDismiss:function(){Game.Ads.closeAd()},onAdPresent:function(){Game.webApp.juggler.channelPaused[0]=!0,document.removeEventListener("onAdPresent",Game.Ads.onAdPresent),CC.SoundJs.ad=!0},onAdLoaded:function(){document.removeEventListener("onAdPresent",Game.Ads.onAdPresent),AdMob.showInterstitial()}},window.SkyGamesBridge=function(){var t={getItem:function(t,e){void 0!==window.androidBridge?e(window.androidBridge.getItem(t)):void 0!==window.iosBridge?window.iosBridge.getItem(t,e):e(window.localStorage.getItem(t))},setItem:function(t,e){void 0!==window.androidBridge?window.androidBridge.setItem(t,JSON.stringify(e)):void 0!==window.iosBridge?window.iosBridge.setItem(t,JSON.stringify(e)):window.localStorage.setItem(t,JSON.stringify(e))},closeGame:function(){void 0!==window.androidBridge?window.androidBridge.closeGame():void 0!==window.iosBridge&&window.iosBridge.closeGame()},trackAction:function(t,e){var a=JSON.stringify(e);void 0!==window.androidBridge?window.androidBridge.trackAction(t,a):void 0!==window.iosBridge&&window.iosBridge.trackAction(t,a)}};return t}();var URLQuery=[],Game=Game||{};function onPause(){CC.SoundJs.blur=!0}function onResume(){CC.SoundJs.blur=!1}Game.soundCache={},Game.isVideoAd=!1,Game.forceFullResolution=!1,Game.Storage={},Game.Storage.getItem=function(t){return localStorage.getItem(t)},Game.Storage.setItem=function(t,e){localStorage.setItem(t,e)},ifvisible.on("blur",function(){CC.SoundJs.blur=!0}),ifvisible.on("focus",function(){CC.SoundJs.blur=!1;var e=Game.sound.currentMusic;_.defer(function(){var t=createjs.Sound.activePlugin&&createjs.Sound.activePlugin.context;t&&("suspended"!==t.state&&"interrupted"!==t.state||t.resume()),e&&Game.sound.playMusic(Game.sound.currentMusic)})}),PIXI.settings.GC_MODE=PIXI.GC_MODES.AUTO;var startApp=function(){var t=document.getElementById("interactive-area");Game.webApp=new CC.WebApp(t,683,384),Game.webApp.screenWidthMax=683,Game.webApp.screenWidthMin=512,Game.audioLoaded=!1,Game.introFinished=!1,Game.loadLoaded=!1,Game.hasPlayedIntroVO=!1,PIXI.AUTO_PREVENT_DEFAULT=!1,Game.webApp.backgroundColor=0,Game.shuffleMode=!1,Game.shuffleOrder=[0,1,2,3,4,5,6],Game.shuffleManifests=["dat/manifests/manifest_pogo.json","dat/manifests/manifest_ring.json","dat/manifests/manifest_ball.json","dat/manifests/manifest_rocket.json","dat/manifests/manifest_goal.json","dat/manifests/manifest_goalie.json","dat/manifests/manifest_sky.json"],Game.shuffleOrderStadium=[0,1],Game.shuffleManifestsStadium=["dat/manifests/manifest_goal.json","dat/manifests/manifest_goalie.json"],Game.shuffleCurrent=0,Game.shuffleCurrentStadium=0,Game.scrambleShuffle=function(){if(Game.shuffleCurrent=0,Game.shuffleCurrentStadium=0,SS.isStadium)for(var t=0,e=2;t<e;++t);else for(t=0,e=7;t<e;++t)Game.shuffleOrder.push(Game.shuffleOrder.splice(Math.floor((e-t)*Math.random()),1)[0])};var e=localStorage.getItem("boomerang_all_stars_quickloader");null===e||"no"===e?Game.webApp.firstStart(Game.IntroScreen):(localStorage.setItem("boomerang_all_stars_quickloader","no"),Game.webApp.firstStart(Game.LoadScreen),Game.loader.updateBaseTextures()),Game.webApp.cssEnabled=!0,Game.webApp.resizeMethod=CC.WebApp.Resizer.FLEX_WIDTH},playApp=function(){switch(URLQuery[1]){case"pogo":Game.hardSwapScreen("dat/manifests/manifest_pogo.json",Game.PogoScreen,Game.LoadScreen),SS.setCurrentGame(0);break;case"ring":Game.hardSwapScreen("dat/manifests/manifest_ring.json",Game.RingScreen,Game.LoadScreen),SS.setCurrentGame(1);break;case"ball":Game.hardSwapScreen("dat/manifests/manifest_ball.json",Game.BallScreen,Game.LoadScreen),SS.setCurrentGame(2);break;case"rocket":case"racket":Game.hardSwapScreen("dat/manifests/manifest_rocket.json",Game.RocketScreen,Game.LoadScreen),SS.setCurrentGame(3);break;case"sky":Game.hardSwapScreen("dat/manifests/manifest_sky.json",Game.SkyScreen,Game.LoadScreen),SS.setCurrentGame(4);break;case"goal":Game.hardSwapScreen("dat/manifests/manifest_goalie.json",Game.GoalieScreen,Game.LoadScreen),SS.setCurrentGame(5);break;case"goal":case"uppy":Game.hardSwapScreen("dat/manifests/manifest_goal.json",Game.GoalScreen,Game.LoadScreen),SS.setCurrentGame(6);break;case"lead":Game.webApp.swapScreen(Game.LeaderScreen);break;case"select":Game.webApp.swapScreen(Game.SelectScreen);break;default:Game.webApp.swapScreen(Game.StartScreen)}};Game.manifestParseOptions={};var initApp=function(){Game.cordovaLang&&COPY_DECK.languages[Game.cordovaLang]&&(COPY_DECK.currentLanguage=Game.cordovaLang,SS.setLanguageRegion(COPY_DECK.currentLanguage));var t=localStorage.getItem("boomerang_all_stars_language_selection");if(null!==t)COPY_DECK.currentLanguage=t,SS.setLanguageRegion(COPY_DECK.currentLanguage);else if(SS.setLanguageRegion(COPY_DECK.currentLanguage),navigator.language){var e=navigator.language.toLowerCase();Game.cordovaLang=e}else navigator.globalization&&navigator.globalization.getPreferredLanguage(function(t){if(t)var e=t.value.toLowerCase();Game.cordovaLang=e},function(){});(URLQuery=window.location.href.split("?")).length<1&&(URLQuery=[0,"ball",0]),URLQuery.length<2&&(URLQuery=[0,URLQuery[1],0]),SS.setCurrentTeam(URLQuery[2]||0);var a=SS.regionCode;Game.cordovaLang&&COPY_DECK.languages[Game.cordovaLang]&&(a=Game.cordovaLang),"no"===a&&(a="no-no"),Game.manifestParseOptions.language=a;window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext;CC.isUsingWebAudio=createjs.Sound.activePlugin&&createjs.Sound.activePlugin.context,CC.ScaleFactor=exstractScaleFactor(),PIXI.settings.RESOLUTION=CC.ScaleFactor,SS.updateTeamScores(),document.addEventListener("deviceready",function(){document.addEventListener("pause",onPause,!1),document.addEventListener("resume",onResume,!1),document.addEventListener("backbutton",function(t){t.preventDefault()},!1)},!1),Game.hardSwapScreen=function(t,e,a,i){Game.singleHardLoad=!0,a=a||Game.LoadScreen,Game.loader.onManifestLoaded=function(){Game.webApp.deconstructDisplayObjects(Game.webApp.screenObject),Game.webApp.juggler.removeAll(),Game.animationList={},Game.webApp.pause(),Game.webApp.pauseUpdate(),Game.sound.purge(),Game.loader.unload()}.bind(this),Game.loader.onPreloadComplete=function(){Game.webApp.resumeUpdate(),Game.webApp.start(a)},Game.loader.onAssetsComplete=function(){Game.singleHardLoad&&(Game.singleHardLoad=!1,Game.webApp.swapScreen(e,i))},Game.loader.load(t)},Game.animationList={},Game.loader=new CC.Loader(assetsURL),Game.loader.updateTexturesOnLoadProgress=!1,Game.loaderMiddlewareFunction=function(t,e){var a=t.data;if(a&&a.data&&a.data.audioSprite){if(CC.SoundJs.loadedAudio[a.src])return void e();a.src="source/"+a.src,PIXI.utils.isMobile.android.device&&(a.src=a.src.replace("m4a","ogg")),"vo_menu"===t.name||"vo"===t.name||"sfx_common"===t.name?(setTimeout(function(){Game.sound.addSoundJSON(a)},5e3),e()):Game.sound.addSoundJSON(a,function(){e()})}else e()},Game.loader.pixiLoader.use(Game.loaderMiddlewareFunction),Game.loader.addScaleFactor(CC.ScaleFactor,"@"+CC.ScaleFactor+"x"),Game.sound=new CC.SoundJs,"yes"===localStorage.getItem("boomerang_all_stars_mute_music")&&Game.sound.muteMusic(),"yes"===localStorage.getItem("boomerang_all_stars_mute_sound")&&Game.sound.mute(!0),Game.loader.onPreloadProgress=function(t,e){if(e&&e.data&&e.data.skeleton){var a=e.name.split("/"),i=a[a.length-1].replace(".json","");Game.animationList[i]=e.spineData}},Game.loader.onPreloadComplete=function(){var t=(new Date).getTime();t=8e3-(t-=Game.firstLoadStartTimestamp),t=Math.max(0,t),setTimeout(startApp,t)},Game.firstLoad=!1;Game.loader.onAssetsProgress=function(t,e){if(e&&e.data&&e.data.skeleton){var a=e.name.split("/"),i=a[a.length-1].replace(".json","");Game.animationList[i]=e.spineData}if(e&&null!==e.name.match("boomerang_all_stars_"))for(var s in e.data)COPY_DECK.languages[e.data[s].language]=e.data[s].copy,COPY_DECK.languages[e.data[s].language].display_name=e.data[s].display_name},Game.loadLoaded=!0,Game.loader.onAssetsComplete=function(){Game.loadLoaded=!0,Game.audioLoaded=!0,Game.introFinished&&playApp()},addEventListener("click",function(){Game.sound.pause(!1)}),Game.loader.load("dat/manifests/manifest_menu.json",[{url:"anim/loader_anim_[n].json",id:"loader_anim_[n]",count:3},{url:"img/preload_atlas_[n]_[v].json",id:"preload_atlas_[n]",count:1},{url:"anim/cc_logo.json",id:"cc_logo",count:1}])};function webAudioTouchUnlock(i){return new Promise(function(t,e){if("suspended"===i.state&&"ontouchstart"in window){var a=function(){i.resume().then(function(){document.body.removeEventListener("touchstart",a),document.body.removeEventListener("touchend",a),t(!0)},function(t){e(t)})};document.body.addEventListener("touchstart",a,!1),document.body.addEventListener("touchend",a,!1)}else t(!1)})}var exstractScaleFactor=function(){var t=Math.max(window.innerHeight,window.innerWidth)*window.devicePixelRatio,e=2,a=navigator.userAgent;return null!==a.match(/iPad/i)&&t<1050&&(e=1),null!==a.match(/kindle|Silk/i)&&(e=1),isAmazon()&&(e=1),null!==a.match(/Nexus 7/)&&(e=1),null!==a.match(/Android/i)&&t<700&&(e=1),null!==a.match(/Hudl 2/i)&&(e=1),PIXI.utils.isMobile.android.device&&!PIXI.utils.isWebGLSupported()&&(e=1),e};function isSmartDevice(t){var e=t.navigator.userAgent||t.navigator.vendor||t.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)}function isAmazon(){return!!window.navigator.userAgent.match(/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA|KFFOWI)\b)/i)}WebFont.load({custom:{families:["fred_burger","fred_burger_shadow","fred_burger_ar","fred_burger_shadow_ar"]}}),(Game=Game||{}).ConfigOverrides={},Game=Game||{},console.log("Config Overrides",Game.ConfigOverrides),Game.Config=Object.assign({type:"single-web",showVersionNumber:!1,showCcSplashLogo:!1,enablePrivacyPanel:!1,showAds:!1,adFrequency:2,scoreBoardEnabled:!1,selectedGameOverride:6,gameClassName:"GoalieScreen",gameDataPath:"dat/manifests/manifest_goalie.json",splashTextureId:"splash_super_goalie.png",splashTitleConfig:{size:35,maxSize:170},showExitButton:!1,showNewGamesButton:!1,showSettingsButton:!0,showPrivacyPanel:!1,showLeaderBoard:!1,showScorePanel:!1,showMcdChannelInfo:!1,exitButtonCallback:null,showToggleSfx:!0,showToggleMusic:!0},Game.ConfigOverrides);var admobExport={AD_SIZE:{SMART_BANNER:"SMART_BANNER",BANNER:"BANNER",MEDIUM_RECTANGLE:"MEDIUM_RECTANGLE",FULL_BANNER:"FULL_BANNER",LARGE_BANNER:"LARGE_BANNER",LEADERBOARD:"LEADERBOARD",SKYSCRAPER:"SKYSCRAPER"},AD_POSITION:{NO_CHANGE:0,TOP_LEFT:1,TOP_CENTER:2,TOP_RIGHT:3,LEFT:4,CENTER:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM_CENTER:8,BOTTOM_RIGHT:9,POS_XY:10},setOptions:function(t){console.log("set ad options",t)},getAdSettings:function(t,e){console.log("getAdSettings"),t&&t()},prepareInterstitial:function(t,e,a){console.log("prepareInterstitial"),e&&e()},showInterstitial:function(t,e){console.log("showInterstitial"),t&&t()}};window.AdMob||(window.AdMob=admobExport);var SS={version:"0.0.12",applicationAccessKey:"562c56392d786cbae3497c84d3534511",scoreboardAvailable:!0,scoreboardStatic:"dat/database.json",scoreboardUrl:"http://boomerangallstars.dmti.cloud/",currentAccessToken:null,countryCode:"GB",selectedTeam:{id:0},currentSelectedTeam:"",currentSelectedGame:"",isStadium:!1,teams:[{name:"Looney Tunes",medalPosition:-1,scoreTotal:0},{name:"New Loony Tunes",medalPosition:-1,scoreTotal:0},{name:"The Tom and Jerry Show",medalPosition:-1,scoreTotal:0},{name:"Be Cool Scooby-Doo",medalPosition:-1,scoreTotal:0},{name:"Bunnicula",medalPosition:-1,scoreTotal:0},{name:"The Happos Family",medalPosition:-1,scoreTotal:0},{name:"Dorothy and the Wizard of Oz",medalPosition:-1,scoreTotal:0},{name:"Wacky Races",medalPosition:-1,scoreTotal:0}],games:[{name:"Beach Pogo"},{name:"Rubber Ring Race"},{name:"Basket Zorb"},{name:"Rocket Racket"},{name:"Sky Jump"},{name:"Star Striker"},{name:"Super Goalie"}],leaderboard:null,lastScoreUpdate:0,setLanguageRegion:function(t){switch(t||(SS.countryCode="en-gb"),t.toLowerCase()){case"ar-sa":case"da-dk":case"es-es":case"es-mx":case"fr-fr":case"hu-hu":case"it-it":case"nl-nl":case"no-no":case"pl-pl":case"pt-br":case"pt-pt":case"ro-ro":case"ru-ru":case"sv-se":case"tr-tr":SS.countryCode=t.toLowerCase();break;default:SS.countryCode="en-gb"}console.log("set code",t),SS.regionCode=t},setCurrentTeam:function(t){SS.selectedTeam.id=t,SS.currentSelectedTeam=SS.teams[t]?SS.teams[t].name:""},setCurrentGame:function(t){SS.currentSelectedGame=SS.games[t]?SS.games[t].name:""},updateTeamScores:function(){if(Game.Config.scoreBoardEnabled){if(!(new Date(new Date(SS.lastScoreUpdate).getTime()+9e5).getTime()>Date.now())){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE&&200==e.status){var t=JSON.parse(e.responseText);t.results.sort(function(t,e){return e.score_total-t.score_total});SS.leaderboard=t.results}else e.readyState==XMLHttpRequest.DONE&&console.log("Failed to update scoreboard. Status: "+e.status)},!0===SS.scoreboardAvailable?(console.log("live"),e.open("GET",SS.scoreboardUrl+"?action=scoreboard&version="+SS.version,!0)):e.open("GET",Game.loader.assetURL+SS.scoreboardStatic,!0),e.send(),SS.lastScoreUpdate=Date.now()}}},getAccessToken:function(){if(Game.Config.scoreBoardEnabled&&!(null!=SS.currentAccessToken&&new Date(1e3*SS.currentAccessToken.expires).getTime()>Date.now())&&!0===SS.scoreboardAvailable){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE&&200==e.status){var t=JSON.parse(e.responseText);SS.currentAccessToken={token:t.results.access_token,expires:t.results.expires}}else e.readyState==XMLHttpRequest.DONE&&console.log("Failed to update access token. Status: "+e.status)},e.open("POST",SS.scoreboardUrl+"?action=token&data_accesskey="+SS.applicationAccessKey,!0),e.send()}},checkAccessToken:function(){},sendScore:function(t){if(Game.Config.scoreBoardEnabled&&null!=SS.currentAccessToken&&!0===SS.scoreboardAvailable){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE&&200==e.status)JSON.parse(e.responseText);else e.readyState==XMLHttpRequest.DONE&&console.log("Failed to update scoreboard. Status: "+e.status)};var a={action:"score",data_accesskey:SS.applicationAccessKey,data_accesstoken:SS.currentAccessToken.token,data_team:SS.currentSelectedTeam,data_game:SS.currentSelectedGame,data_score:t,data_country:SS.countryCode};e.open("POST",SS.scoreboardUrl,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(SS.toQueryString(a))}},toQueryString:function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return e.join("&")}},Physics=function(){this.circles=[],this.physicsObj=[],this.renderObject=new PIXI.Graphics};Physics.prototype.init=function(){this.circle.position=this.circle.position||{x:0,y:0},this.circle.x=this.circle.x||0,this.circle.y=this.circle.y||0,this.circle.velocity=this.circle.velocity||{x:0,y:0},this.circle.velocity.x=this.circle.velocity.x||0,this.circle.velocity.y=this.circle.velocity.y||0,this.circle.radius=this.circle.radius||20},Physics.prototype.addDynamicCircle=function(t){t.position=t.position||{x:0,y:0},t.x=t.x||0,t.y=t.y||0,t.velocity=t.velocity||{x:0,y:0},t.velocity.x=t.velocity.x||0,t.velocity.y=t.velocity.y||0,t.radius=t.radius||20,this.circles.push(t)},Physics.prototype.addRect=function(t){return t.position=t.position||{x:0,y:0},t.x=t.x||0,t.y=t.y||0,t.velocity=t.velocity||{x:0,y:0},t.velocity.x=t.velocity.x||0,t.velocity.y=t.velocity.y||0,t.rotation=t.rotation||0,t.type="rect",this.physicsObj.push(t),t},Physics.prototype.addCircle=function(t){return t.type="circle",t.position=t.position||{x:0,y:0},t.x=t.x||0,t.y=t.y||0,t.velocity=t.velocity||{x:0,y:0},t.velocity.x=t.velocity.x||0,t.velocity.y=t.velocity.y||0,this.physicsObj.push(t),t},Physics.prototype._physisCircleRectTest=function(t,e){var a=t.x,i=t.y,s=t.velocity.x,o=t.velocity.y,n=CC.Geometry.clampVectorToRect(t.position,e,e.position),r=n.x-t.x,l=n.y-t.y,h=r*r+l*l;if(h<t.radius*t.radius){var c=Math.sqrt(h),d={x:r/c,y:l/c};(d.x||d.y)&&CC.Geometry.reflect2DRef(t.velocity,d),t.x=n.x+d.x*-t.radius,t.y=n.y+d.y*-t.radius,t.velocity.x*=.7,t.velocity.y*=.7,e.func&&e.func(t)}t.x=isNaN(t.x)?a:t.x,t.y=isNaN(t.y)?i:t.y,t.velocity.x=isNaN(t.velocity.x)?s:t.velocity.x,t.velocity.y=isNaN(t.velocity.y)?o:t.velocity.y},Physics.prototype._physisCircleCircleTest=function(t,e){var a=t.x,i=t.y,s=t.velocity.x,o=t.velocity.y,n=t.x-e.x,r=t.y-e.y,l=n*n+r*r,h=t.radius+e.radius;if(l<h*h){var c=Math.sqrt(l),d={x:n/c,y:r/c};(d.x||d.y)&&CC.Geometry.reflect2DRef(t.velocity,d),t.x=e.x+d.x*h,t.y=e.y+d.y*h,e.func&&e.func(t)}t.x=isNaN(t.x)?a:t.x,t.y=isNaN(t.y)?i:t.y,t.velocity.x=isNaN(t.velocity.x)?s:t.velocity.x,t.velocity.y=isNaN(t.velocity.y)?o:t.velocity.y},Physics.prototype.project=function(t,e){var a={x:0,y:0,height:0};return a.x=t.x*e,a.y=t.y*e-e*e*.5*-900,a},Physics.prototype.projectPeak=function(t){return t/-900},Physics.prototype.update=function(t){for(var e=0;e<this.circles.length;++e)if(this.circle=this.circles[e],this.circle.visible&&this.circle.enabled){this.circle.velocity.y+=900*t,this.circle.x+=this.circle.velocity.x*t,this.circle.y+=this.circle.velocity.y*t;for(var a=0;a<this.physicsObj.length;++a)switch(this.physicsObj[a].type){case"circle":var i=this.physicsObj[a];this._physisCircleCircleTest(this.circle,i);break;case"rect":var s=this.physicsObj[a];this._physisCircleRectTest(this.circle,s)}}};var GoalGame=function(t){PIXI.Container.call(this),Game.sound.play("crowd_start"),this.team=t,this.build()};function playDing(){CC.isUsingWebAudio?Game.sound.play("One_Point_Impact_Music"):window.ding?window.ding.play():window.ding=Game.sound.play("One_Point_Impact_Music")}function playCheer(){var t=_.random(1,3);CC.isUsingWebAudio?.5<Math.random()&&Game.sound.play("Audience_Cheer_0"+t):window.cheer?window.cheer.play():window.cheer=Game.sound.play("Audience_Cheer_0"+t)}function playKick(){var t=_.random(1,2);CC.isUsingWebAudio?Game.sound.play("Football_Kick_0"+t):window.kick?window.kick.play():window.kick=Game.sound.play("Football_Kick_0"+t)}GoalGame.prototype=Object.create(PIXI.Container.prototype),(GoalGame.prototype.constructor=GoalGame).prototype.get3DScale=function(t){return 50/t},GoalGame.prototype.set3dPosition=function(t,e){var a=this.get3DScale(e.z-this.cameraZ);t.scale.set(a),t.x=e.x*a,t.y=e.y*a+15},GoalGame.prototype.buildBallRain=function(){for(var t=new PIXI.Container,e=0,a=Math.floor(9.5);e<100;++e){var i=e%20,s=new PIXI.Container;s.graphic=CC.Utility.pixiAtlasSprite("goal_ball_"+Math.floor(4*Math.random())+".png"),s.graphic.rotation=Math.random()*Math.PI*2,s.highLight=CC.Utility.pixiAtlasSprite("goal_ball_highlight.png"),s.addChild(s.graphic),s.addChild(s.highLight),s.y=400*-Math.random()-400,s.scale.set(.25*(.2*Math.random()+.8)),s.vel=Math.random()+1,s.x=30*(i-a)+30*(Math.random()-.5),t.addChild(s)}return t.children.sort(function(t,e){return t.scale.x-e.scale.x}),t.update=function(t){for(var e=0,a=this.children.length;e<a;++e)(s=this.children[e]).y+=s.scale.y*s.scale.y*t*1500*s.vel,s.rotation+=.1*t},t},GoalGame.prototype.buildPitchLines=function(){var t=new PIXI.Container;t.lines=[CC.Utility.pixiAtlasSprite("goal_pitch_line.png"),CC.Utility.pixiAtlasSprite("goal_pitch_line.png"),CC.Utility.pixiAtlasSprite("goal_pitch_line.png"),CC.Utility.pixiAtlasSprite("goal_pitch_line.png"),CC.Utility.pixiAtlasSprite("goal_pitch_line.png")],t.lines[0].pos={x:0,y:20,z:0},t.lines[1].pos={x:0,y:20,z:0},t.lines[2].pos={x:0,y:20,z:0},t.lines[3].pos={x:0,y:20,z:0},t.lines[4].pos={x:0,y:20,z:0},t.addChild(t.lines[0]),t.addChild(t.lines[1]),t.addChild(t.lines[2]),t.addChild(t.lines[3]),t.addChild(t.lines[4]),t.offset=0;var s=this;return t.update=function(t){for(var e,a=0,i=this.lines.length;a<i;++a)(e=this.lines[a]).pos.z=20*(a+this.offset)+20*Math.floor(s.cameraZ/20),s.set3dPosition(e,e.pos),e.scale.x=1,e.scale.y*=.2,e.visible=0<e.scale.y},t},GoalGame.prototype.kinimaticSolver=function(t,e,a,i,s,o){var n=o||{x:0,y:0},r={x:0,y:0},l=a*a,h=i*i,c=CC.Geometry.vectorDistanceSquared(t,e),d=Math.sqrt(c),p=(l-h+c)/(2*d);r.x=(e.x-t.x)/d*p+t.x,r.y=(e.y-t.y)/d*p+t.y;var u=Math.sqrt(l-p*p);return n.x=(e.y-t.y)/d*s*u+r.x,n.y=(e.x-t.x)/d*s*-u+r.y,a+i<d&&(n.x=r.x,n.y=r.y),n},GoalGame.prototype.buildGoalie=function(){var t=new PIXI.Container;t.bodyFront=CC.Utility.pixiAtlasSprite("goal_goalie_front.png",{anchor:"b"}),t.bodyFront.layer=1,t.bodyBolts=CC.Utility.pixiAtlasSprite("goal_goalie_front_pivots_white.png",{anchor:"b"}),t.bodyBolts.layer=0,t.bodyBack=CC.Utility.pixiAtlasSprite("goal_goalie_back.png",{anchor:"b"}),t.bodyBack.layer=2,t.foreArmLeftFront=CC.Utility.pixiAtlasSprite("goal_goalie_arm_0.png"),t.foreArmLeftFront.layer=2,t.foreArmLeftBack=CC.Utility.pixiAtlasSprite("goal_goalie_arm_0_dark.png"),t.foreArmLeftBack.layer=3,t.foreArmRightFront=CC.Utility.pixiAtlasSprite("goal_goalie_arm_0.png"),t.foreArmRightFront.layer=2,t.foreArmRightBack=CC.Utility.pixiAtlasSprite("goal_goalie_arm_0_dark.png"),t.foreArmRightBack.layer=3,t.armLeftFront=CC.Utility.pixiAtlasSprite("goal_goalie_arm_1.png"),t.armLeftFront.layer=1,t.armLeftBolts=CC.Utility.pixiAtlasSprite("goal_goalie_arm_1_pivot_white.png"),t.armLeftBolts.layer=0,t.armLeftBack=CC.Utility.pixiAtlasSprite("goal_goalie_arm_1_dark.png"),t.armLeftBack.layer=2,t.armRightFront=CC.Utility.pixiAtlasSprite("goal_goalie_arm_1.png"),t.armRightFront.layer=1,t.armRightBolts=CC.Utility.pixiAtlasSprite("goal_goalie_arm_1_pivot_white.png"),t.armRightBolts.layer=0,t.armRightBack=CC.Utility.pixiAtlasSprite("goal_goalie_arm_1_dark.png"),t.armRightBack.layer=2,t.handLeftBack=CC.Utility.pixiAtlasSprite("goal_goalie_hand_dark.png",{scale:{x:-1,y:1}}),t.handLeftBack.layer=1,t.handLeftFront=CC.Utility.pixiAtlasSprite("goal_goalie_hand.png",{scale:{x:-1,y:1}}),t.handLeftFront.layer=0,t.handLeftBolts=CC.Utility.pixiAtlasSprite("goal_goalie_hand_pivot_white.png",{scale:{x:-1,y:1}}),t.handLeftBolts.layer=-1,t.handRightBack=CC.Utility.pixiAtlasSprite("goal_goalie_hand_dark.png"),t.handRightBack.layer=1,t.handRightFront=CC.Utility.pixiAtlasSprite("goal_goalie_hand.png"),t.handRightFront.layer=0,t.handRightBolts=CC.Utility.pixiAtlasSprite("goal_goalie_hand_pivot_white.png"),t.handRightBolts.layer=-1,t.sholderPosLeft={x:14,y:-125},t.sholderPosRight={x:-14,y:-125},t.elbowPosLeft={x:0,y:0},t.elbowPosRight={x:0,y:0},t.wristPosLeft={x:0,y:0},t.wristPosRight={x:0,y:0},t.addChild(t.foreArmRightBack),t.addChild(t.foreArmLeftBack),t.addChild(t.foreArmRightFront),t.addChild(t.foreArmLeftFront),t.addChild(t.armLeftBack),t.addChild(t.armRightBack),t.addChild(t.bodyBack),t.addChild(t.bodyFront),t.addChild(t.armLeftFront),t.addChild(t.armRightFront),t.addChild(t.bodyBolts),t.addChild(t.armLeftBolts),t.addChild(t.armRightBolts),t.addChild(t.handLeftBack),t.addChild(t.handRightBack),t.addChild(t.handRightFront),t.addChild(t.handLeftFront),t.addChild(t.handRightBolts),t.addChild(t.handLeftBolts);var n=this,r=0;return t._setPos=function(t,e,a){a&&(this[t+"Front"].rotation=Math.atan2(a.x-e.x,e.y-a.y),this[t+"Back"].rotation=this[t+"Front"].rotation,this[t+"Bolts"]&&(this[t+"Bolts"].rotation=this[t+"Front"].rotation)),this[t+"Front"].x=e.x,this[t+"Front"].y=e.y,this[t+"Back"].x=e.x,this[t+"Back"].y=e.y,this[t+"Bolts"]&&(this[t+"Bolts"].x=e.x,this[t+"Bolts"].y=e.y)},t.update=function(t){r+=5*t,this.wristPosLeft.x=Math.sin(r+1)*Math.cos(r+1)*10+50,this.wristPosLeft.y=20*Math.cos(r+1)-120,this.wristPosRight.x=Math.sin(-r)*Math.cos(-r)*10-50,this.wristPosRight.y=20*Math.cos(-r)-120,n.kinimaticSolver(this.sholderPosRight,this.wristPosRight,27,22,1,this.elbowPosRight),n.kinimaticSolver(this.sholderPosLeft,this.wristPosLeft,27,22,-1,this.elbowPosLeft),this._setPos("foreArmLeft",this.sholderPosLeft,this.elbowPosLeft),this._setPos("foreArmRight",this.sholderPosRight,this.elbowPosRight),this._setPos("armLeft",this.elbowPosLeft,this.wristPosLeft),this._setPos("armRight",this.elbowPosRight,this.wristPosRight),this._setPos("handLeft",this.wristPosLeft),this._setPos("handRight",this.wristPosRight),this.handLeftFront.rotation=this.handLeftBack.rotation=this.handLeftBolts.rotation=.7*this.armLeftFront.rotation,this.handRightFront.rotation=this.handRightBack.rotation=this.handRightBolts.rotation=.7*this.armRightFront.rotation,this._setPos("body",{x:0,y:0});for(var e=-this.rotation,a=0<this.x?-1:1,i=0,s=this.children.length;i<s;++i){var o=this.children[i];void 0!==o.layer&&(o.x+=Math.cos(e)*a*o.layer,o.y+=Math.sin(e)*a*o.layer)}},t},GoalGame.prototype.buildGoal=function(){var t=new PIXI.Container;t.posts=CC.Utility.pixiAtlasSprite("goal_posts.png"),t.graphic=new PIXI.spine.Spine(Game.animationList.goal_net),t.graphic.cacheAsBitmap=!0;t.pos={x:0,y:20,z:50},t.posts.anchor.y=1,t.offset=0,t.goalie=this.buildGoalie(),t.goalLine=CC.Utility.pixiAtlasSprite("goal_goal_line.png"),t.changeGoaliePosition=function(t){var e=this.goalie.x/100-t;TweenLite.to(this.goalie,.3,{rotation:.1*e,x:100*t+-10*e}),TweenLite.to(this.goalie,.3,{delay:.3,rotation:0,ease:Back.easeOut}),TweenLite.to(this.goalie,.2,{delay:.3,x:100*t})},t.targetsHolder=new PIXI.Container,t.targetsArray=[],t.ballTest=CC.Utility.pixiAtlasSprite("goal_ball_0.png",{scale:.1}),t.addTarget=function(t,e,a,i){var s=new PIXI.Container;s.front=CC.Utility.pixiAtlasSprite("goal_target.png"),s.back=CC.Utility.pixiAtlasSprite("goal_target_back.png"),s.addChild(s.back),s.addChild(s.front),s.x=t.x,s.y=t.y,s.life=a,s.alpha=0,TweenLite.to(s,.1,{alpha:1}),s.start=t,s.end=e,this.targetsHolder.addChild(s),this.targetsArray.push(s)},t.goalLine.y=5,t.goalie.y=5,t.goalie.visible=!1,t.goalMoveable=new PIXI.Container,t.goalMask=new PIXI.Graphics,t.goalMask.beginFill(16711680,.3),t.goalMask.drawRect(-250,-200,500,206),t.goalMoveable.mask=t.goalMask,t.addChild(t.goalLine),t.addChild(t.goalMoveable),t.addChild(t.goalMask),t.goalMoveable.addChild(t.graphic),t.goalMoveable.addChild(t.posts),t.goalMoveable.addChild(t.targetsHolder),t.goalMoveable.addChild(t.goalie),t.hideGoal=function(){TweenLite.to(this.goalMoveable,.3,{y:200,ease:Power1.easeIn})},t.showGoal=function(t){TweenLite.to(this.goalMoveable,.5,{y:0,ease:Bounce.easeOut}),0<t&&(this.movingTargets=!0),1<t&&(this.goalie.visible=!0)};var s=0,o=this;return t.movingTargets=!1,t.projectTarget=function(t,e){var a=this.targetsArray[t],i={x:0,y:0},s=.5*Math.sin(2*(a.life-e))+.5;return this.movingTargets?(i.x=Math.lerp(a.start.x,a.end.x,s),i.y=Math.lerp(a.start.y,a.end.y,s)):(i.x=a.start.x,i.y=a.start.y),i},t.animTimer=0,t.update=function(t){this.goalie.visible&&this.goalie.update(t),this.offset=Math.modo(this.offset-5*t,10),s+=t,this.animTimer+=t,2<s&&o.targetsShow&&(s=0,this.changeGoaliePosition(Math.sin(100*Math.random())));for(var e,a,i=this.targetsArray.length-1;0<=i;--i)(e=this.targetsArray[i]).back.x=-.02*e.x,e.back.y=-.01*(e.y-35),this.movingTargets&&(a=.5*Math.sin(2*e.life)+.5,e.x=Math.lerp(e.start.x,e.end.x,a),e.y=Math.lerp(e.start.y,e.end.y,a)),e.life-=t;o.set3dPosition(this,this.pos)},t},GoalGame.prototype.addTarget=function(){this.goal.addTarget({x:150*Math.sin(100*Math.random()),y:-90*Math.random()-30},{x:150*Math.sin(100*Math.random()),y:-90*Math.random()-30},3,10)},GoalGame.prototype.buildBall=function(t){var e=new PIXI.Container;e.graphic=CC.Utility.pixiAtlasSprite("goal_ball_"+t+".png"),e.highLight=CC.Utility.pixiAtlasSprite("goal_ball_highlight.png"),e.pos={x:0,y:50,z:this.goal.pos.z-30},e.graphic.scale.set(.3),e.highLight.scale.set(.3),e.offset=0,e.life=4,e.launched=!1;var a=this;return e.update=function(t){this.launched&&(this.life-=t),this.graphic.rotation=this.life*Math.sign(this.pos.x)*-10,a.set3dPosition(this,this.pos)},e.addChild(e.graphic),e.addChild(e.highLight),e},GoalGame.prototype.addBall=function(){var t=this.buildBall(Math.floor(5*Math.random()));this.ballsHolder.addChild(t),this.ballsArray.push(t)},GoalGame.prototype.buildIntroGoal=function(){var t=new PIXI.Container;return t.background=CC.Utility.pixiAtlasSprite("goal_intro_bg.png"),t.characterA=new PIXI.spine.Spine(Game.animationList["intro_goal_character_"+2*this.team]),t.characterB=new PIXI.spine.Spine(Game.animationList["intro_goal_character_"+(2*this.team+1)]),this.team+""=="4"&&(t.characterA.cloud=new PIXI.spine.Spine(Game.animationList.cloud),t.characterA.cloud.state.setAnimation(0,"idle",!0),t.characterA.cloud.y=-270,t.characterA.cloud.scale.set(2),t.characterA.addChild(t.characterA.cloud)),t.ballRain=this.buildBallRain(),t.characterA.state.setAnimation(0,"idle",!0),t.characterB.state.setAnimation(0,"idle",!0),t.characterA.scale.set(.5),t.characterB.scale.set(.5),t.characterA.x=90,t.characterB.x=-90,t.characterA.y=95,t.characterB.y=95,t.addChild(t.background),t.addChild(t.ballRain),t.addChild(t.characterA),t.addChild(t.characterB),t.update=function(t){this.ballRain.update(t)},t},GoalGame.prototype.checkBallImpact=function(t){var e=t.toLocal({x:0,y:0},this.goal);if(e.x=-e.x,e.y=-e.y,Math.abs(e.x)<200&&-170<e.y&&e.y<0)if(Math.abs(e.x)<160&&-130<e.y&&e.y<0)if(this.goal.goalie.visible&&Math.abs(this.goal.goalie.x-t.x)<50){var a=100*Math.sign(t.pos.x);TweenLite.to(t.pos,.5,{x:.5*t.pos.x+a,z:this.goal.pos.z-40,ease:Linear.none}),TweenLite.to(t.pos,.5,{y:25,ease:Bounce.easeOut}),TweenLite.to(t,.5,{alpha:0}),CC.isUsingWebAudio&&Game.sound.play("perfect_hit"),CC.isUsingWebAudio&&Game.sound.play("Target_Board_Impact")}else{for(var i,s=!1,o=this.goal.targetsArray.length-1;0<=o;--o){if(i=this.goal.targetsArray[o],CC.Geometry.vectorDistanceSquared(e,i)<1600){this.goal.targetsArray.splice(o,1),TweenLite.to(i.scale,.2,{x:3,y:3,onCompleteScope:i,onComplete:function(){this.parent.removeChild(this)}}),TweenLite.to(i,.2,{alpha:0}),s=!0,CC.isUsingWebAudio&&Game.sound.play("target_hit"),this.goals++;for(o=10;0<o;)this.makeExplosionParticle(i.x,i.y),--o;var n=_.random(1,3);CC.isUsingWebAudio&&Game.sound.play("Goal_Net_Impact_0"+n),playCheer(),playDing(),this.flashAnimation.state.setAnimation(0,"action",!1),this.flashAnimation.state.addAnimation(0,"idle",!1,0);var r=Math.round(t.pos.x/50);r=Math.clamp(0,4,r+2),r+=5*(-40<t.pos.y),this.goal.graphic.state.clearTrack(0),this.goal.graphic.state.setAnimation(0,"hit_"+r);var l=10;3<=this.level&&(l=15),5<=this.level&&(l=20),7<=this.level&&(l=25),9<=this.level&&(l=30),this.scoreCallBack(l),TweenLite.to(t,.2,{alpha:0}),this.createScoreText(t,l,7392812),this.addTarget()}}if(!s){TweenLite.to(t.pos,.5,{x:.5*t.pos.x+a,z:this.goal.pos.z-20,ease:Linear.none}),TweenLite.to(t.pos,.5,{y:20,ease:Bounce.easeOut}),TweenLite.to(t,.5,{alpha:0}),this.goals++;for(o=10;0<o;)this.makeExplosionParticle(t.pos.x,t.pos.y),--o;n=_.random(1,3);CC.isUsingWebAudio&&Game.sound.play("Goal_Net_Impact_0"+n),playCheer(),playDing(),this.flashAnimation.state.setAnimation(0,"action",!1),this.flashAnimation.state.addAnimation(0,"idle",!1,0),CC.isUsingWebAudio&&Game.sound.play("ring_boost_2"),this.scoreCallBack(1);r=Math.round(t.pos.x/50);r=Math.clamp(0,4,r+2),r+=5*(-40<t.pos.y),this.goal.graphic.state.clearTrack(0),this.goal.graphic.state.setAnimation(0,"hit_"+r),this.createScoreText(t,1,15921734)}}else CC.isUsingWebAudio&&Game.sound.play("ball_bounce"),t.alpha=0;else t.alpha=0},GoalGame.prototype.createScoreText=function(t,e,a){var i=SportsUI.createDisplayText("+"+e,{size:32,maxSize:130,fill:a},!1);i.x=t.x-i.width/2,i.y=t.y-t.height/2-10;var s=this;TweenLite.to(i,1,{y:i.y-30,alpha:0,ease:Circ.easeOut,delay:.5,onComplete:function(){s.removeChild(i)}}),this.addChild(i)},GoalGame.prototype.launchBall=function(t){var e=this.ballsArray[this.ballsArray.length-1],a=this,i=100,s={x:t.x,y:t.y};if(playKick(),e&&t.y<0){for(var o,n,r=0,l=this.goal.targetsArray.length;r<l;++r)o=this.goal.projectTarget(r,.3),(n=Math.abs(o.x-t.x))<i&&(s.x=o.x,s.y=o.y+15,i=n);e.launched=!0,TweenLite.to(e.pos,.3,{x:s.x,z:this.goal.pos.z,ease:Power1.easeIn,onCompleteScope:e,onComplete:function(){a.checkBallImpact(e)}}),TweenLite.to(e.pos,.3,{y:s.y,ease:Linear.none})}},GoalGame.prototype.buildCharacter=function(t){var e=new PIXI.Container;return e.graphic=CC.Utility.pixiAtlasSprite("goal_character_"+t+".png"),e.addChild(e.graphic),e},GoalGame.prototype.destroyParticle=function(t){this.particles.splice(_.indexOf(this.particles,t),1),t.parent.removeChild(t)},GoalGame.prototype.build=function(){this.particles=[],this.cameraZ=0;var s=this;this.background=CC.Utility.pixiAtlasSprite("goal_background.png"),this.backgroundHighlight=CC.Utility.pixiAtlasSprite("goal_background_highlight.png"),this.ballsHolder=new PIXI.Container,this.ballsArray=[],this.goals=0,this.level=1,this.flipKick=!1,this.introSequence=this.buildIntroGoal(),this.whiteFlash=new PIXI.Graphics,this.whiteFlash.beginFill(16777215),this.whiteFlash.drawRect(-500,-500,1e3,1e3),this.whiteFlash.alpha=!1,this.interactiveArea=new PIXI.Container,this.interactiveArea.hitArea=new PIXI.Rectangle(-1e3,-1e3,2e3,2e3),this.interactiveArea.timeVec=0,this.interactiveArea.mousePos=0,this.interactiveArea.mousedown=this.interactiveArea.touchstart=function(t){this.startMousePos=t.data.getLocalPosition(this),this.timeVec=(new Date).getTime()},this.interactiveArea.mouseup=this.interactiveArea.touchend=function(t){var e=t.data.getLocalPosition(this),a={x:0,y:0};a.x=e.x-(this.startMousePos&&this.startMousePos.x||0),a.y=e.y-(this.startMousePos&&this.startMousePos.y||0);var i=Math.sqrt(a.x*a.x+a.y*a.y);this.timeVec=i/((new Date).getTime()-this.timeVec),a.x=a.x/i*this.timeVec*250,a.y=a.y/i*this.timeVec*150,a.y<0&&(CC.isUsingWebAudio&&Game.sound.play("racquet_swipe_"+Math.floor(3*Math.random()+1)),this.flipKick?(s.characters.state.setAnimation(1,"kick_R"),TweenLite.delayedCall(.4,function(){s.characters.state.setAnimation(1,"idle_R",!0)})):(s.characters.state.setAnimation(0,"kick_L"),TweenLite.delayedCall(.4,function(){s.characters.state.setAnimation(0,"idle_L",!0)})),this.flipKick=!this.flipKick,s.launchBall({x:a.x,y:a.y}),s.addBall())},this.characters=new PIXI.spine.Spine(Game.animationList["goal_characters_"+this.team]),this.characters.state.setAnimation(0,"idle_L",!0),this.characters.state.setAnimation(1,"idle_R",!0),this.characters.y=0,this.characters.stateData.setMixByName("kick_L","idle_L",.3),this.characters.stateData.setMixByName("kick_R","idle_R",.3),Game.webApp.renderer.type===PIXI.RENDERER_TYPE.CANVAS&&(this.characters.state.timeScale=0,this.characters.cacheAsBitmap=!0),this.flashAnimation=new PIXI.spine.Spine(Game.animationList.star_striker_camera_flashes),this.flashAnimation.state.setAnimation(0,"idle",!1),this.flashAnimation.stateData.setMix("idle","action",.4),this.flashAnimation.stateData.setMix("action","idle",.4),this.pitchLines=this.buildPitchLines(),this.goal=this.buildGoal(),this.addChild(this.background),this.addChild(this.flashAnimation),Game.webApp.renderer.type!==PIXI.RENDERER_TYPE.CANVAS&&this.addChild(this.pitchLines),this.addChild(this.backgroundHighlight),this.addChild(this.goal),this.addChild(this.ballsHolder),this.addChild(this.characters),this.addChild(this.interactiveArea),this.addChild(this.introSequence),this.addChild(this.whiteFlash),this.addTarget(),this.addBall(),this.timer=0},GoalGame.prototype.gameStart=function(){this.gameRunning=!0,this.interactiveArea.interactive=!0},GoalGame.prototype.gameOver=function(){this.isGameOver=!0,this.gameRunning=!1,this.interactiveArea.interactive=!1},GoalGame.prototype.advanceGoal=function(e){this.interactiveArea.interactive=!1,this.gameRunning=!1,this.goal.hideGoal(),this.level+=1;var a=this;TweenLite.to(this,1.5,{delay:1,cameraZ:this.cameraZ+1e3}),TweenLite.delayedCall(1,function(){a.characters.state.setAnimation(0,"run_L",!0),a.characters.state.setAnimation(1,"run_R",!0)}),TweenLite.delayedCall(.5,function(){if(a.goal.pos.z+=1e3,a.goal.showGoal(e),a.ballsArray.length){var t=a.ballsArray[a.ballsArray.length-1];t.launched?a.addBall():t.pos.z+=1e3}else a.addBall()}),TweenLite.delayedCall(2.5,function(){a.isGameOver||(a.interactiveArea.interactive=!0,a.characters.state.setAnimation(0,"idle_L",!0),a.characters.state.setAnimation(1,"idle_R",!0),a.gameRunning=!0)})},GoalGame.prototype.update=function(t){this.pitchLines.update(t),this.goal.update(t),this.introSequence.update(t),this.timer+=t,7<this.timer&&(this.timer=0);for(var e,a=this.ballsArray.length-1;0<=a;--a)(e=this.ballsArray[a]).update(t),e.life<0&&(this.ballsHolder.removeChild(e),this.ballsArray.splice(a,1));for(a=this.particles.length-1;0<=a;--a)this.particles[a].update(),this.particles[a].scale.x<.001&&this.destroyParticle(this.particles[a])},GoalGame.prototype.makeExplosionParticle=function(t,e){var a=Math.random()*Math.PI*2,i=10*Math.random()+15,s=Math.cos(a)*i,o=Math.sin(a)*i,n=new Particle("star_burst.png",t,e,s,o,.85,.85,0,.85,5);this.particles.push(n),this.addChild(n)};var ballZZSpeed=220,gravityY=1200,horizonPoint=110,timeAllowed=45,savedBallXSpeed=2800,pat3onTheLeft=[{pos:0,delay:1},{pos:0,delay:2},{pos:0,delay:3}],pat3onTheMiddle=[{pos:1,delay:1},{pos:1,delay:2},{pos:1,delay:3}],pat3onTheRight=[{pos:2,delay:1},{pos:2,delay:2},{pos:2,delay:3}],patLeftToRight=[{pos:0,delay:2},{pos:1,delay:3},{pos:2,delay:4}],patRightToLeft=[{pos:2,delay:1},{pos:1,delay:2},{pos:0,delay:3}],patRainbow=[{pos:0,delay:1},{pos:1,delay:2},{pos:2,delay:3},{pos:2,delay:5},{pos:1,delay:6},{pos:0,delay:7}],patRainbowReverse=[{pos:2,delay:1},{pos:1,delay:2},{pos:0,delay:3},{pos:0,delay:4},{pos:1,delay:5},{pos:2,delay:6}],patDoubleOuter=[{pos:2,delay:1},{pos:0,delay:1}],patDoubleLeft=[{pos:0,delay:1},{pos:1,delay:1}],patDoubleRight=[{pos:1,delay:1},{pos:2,delay:1}],patterns=[pat3onTheLeft,pat3onTheMiddle,pat3onTheRight,patLeftToRight,patRightToLeft,patRainbow,patRainbowReverse,patDoubleOuter,patDoubleLeft,patDoubleRight],GoalieGame=function(t){PIXI.Container.call(this),this.team=t,this.charIDA=2*t,this.charIDB=this.charIDA+1,this.balls=[],this.cameraZ=0,this.score=0,this.timer=0,this.timePlayed=0,this.playbackProgress=1.9,this.currentPlayback=[],this.difficultyModifier=0,this.particles=[],this.comboIdx=0,this.background=CC.Utility.pixiAtlasSprite("net.png"),this.addChild(this.background),this.ballsHolder=new PIXI.Container,this.addChild(this.ballsHolder);var e=this;this.ballsHolder.updateLayersOrder=function(){e.ballsHolder.children.sort(function(t,e){return t.pos.z=t.pos.z||0,e.pos.z=e.pos.z||0,e.pos.z-t.pos.z})},this.flashAnimation=new PIXI.spine.Spine(Game.animationList.super_goalie_camera_flashes),this.flashAnimation.state.setAnimation(0,"idle",!1),this.flashAnimation.stateData.setMix("idle","action",.4),this.flashAnimation.stateData.setMix("action","idle",.4),this.addChild(this.flashAnimation),this.leftPlayerAnim=new PIXI.spine.Spine(Game.animationList["goal_character_"+this.charIDA]),this.addChild(this.leftPlayerAnim),this.rightPlayerAnim=new PIXI.spine.Spine(Game.animationList["goal_character_"+this.charIDB]),this.addChild(this.rightPlayerAnim),addAnimationMixes(this.leftPlayerAnim),addAnimationMixes(this.rightPlayerAnim),this.leftPlayerAnim.state.setAnimation(0,"idle",!0),this.rightPlayerAnim.state.setAnimation(0,"idle",!0),this.background.scale.x=this.background.scale.y=1,setTimeout(_.bind(this.createIntro,this),1200)};function addAnimationMixes(t){t.stateData.setMix("save_left","idle",.4),t.stateData.setMix("save_right","idle",.4),t.stateData.setMix("save_up","idle",.4),t.stateData.setMix("taunt","idle",.4)}GoalieGame.prototype=Object.create(PIXI.Container.prototype),(GoalieGame.prototype.constructor=GoalieGame).prototype.createIntro=function(){this.leftPlayerAnim.state.setAnimation(0,"idle",!0),this.rightPlayerAnim.state.setAnimation(0,"idle",!0),TweenLite.to(this.background.scale,3,{x:1.2,y:1.2,delay:.1}),TweenLite.to(this.leftPlayerAnim,3,{x:-100,delay:.1}),TweenLite.to(this.rightPlayerAnim,3,{x:100,delay:.1})},GoalieGame.prototype.buildBall=function(t){if(this.gameRunning){var e=-1800;e+=1800*t;var a=_.random(0,4),i=CC.Utility.pixiAtlasSprite("ball_"+a+".png");i.pos={x:e,y:horizonPoint,z:400};var s=_.random(-100,100,!0);0<e?s=-_.random(1e3,1400,!0):e<0&&(s=_.random(1e3,1400,!0)),i.xVel=s,i.yVel=-(1e3+_.random(0,100,!0)),i.scale.set(.5),i.x=0,i.y=horizonPoint;var o=_.random(-1,1,!0);this.set3dPosition(i,i.pos);var n=this;return i.update=function(t){n.gameRunning&&(this.yVel+=gravityY*t,this.pos.x+=this.xVel*t,this.pos.y+=this.yVel*t,this.rotation+=o*t,this.saved||(this.pos.z-=ballZZSpeed*t),n.set3dPosition(this,this.pos),i.pos.z<n.cameraZ+5?(n.destroyBall(this),n.difficultyModifier-=.05,n.difficultyModifier<0&&(n.difficultyModifier=0),n.comboIdx=0):(i.x<-Game.webApp.scaledWidth/2||i.x>Game.webApp.scaledWidth/2)&&(n.destroyBall(this),i.saved||(n.comboIdx=0)))},i.interactive=!0,i.hitArea=new PIXI.Rectangle(-50,-50,100,100),i.on("pointerdown",_.bind(this.handleTap,this)),this.balls.push(i),this.ballsHolder.addChild(i),this.ballsHolder.updateLayersOrder(),i}},GoalieGame.prototype.handleTap=function(t){var e=t.currentTarget;if(this.gameRunning&&!e.saved){e.interactive=!1,this.playCharSaveAnimation(e),this.difficultyModifier+=.05,1<this.difficultyModifier&&(this.difficultyModifier=1),e.saved=!0,e.x<=0?e.xVel=-savedBallXSpeed:e.xVel=savedBallXSpeed,e.yVel=-100,Game.sound.play("ball_star_0"),Game.sound.play("target_hit");var a=_.random(1,3);Game.sound.play("Audience_Cheer_0"+a);for(var i=10;0<i;)this.makeExplosionParticle(e.x,e.y),--i;this.flashAnimation.state.setAnimation(0,"action",!1),this.flashAnimation.state.addAnimation(0,"idle",!1,0),this.score+=1,this.comboIdx+=1,this.scoreCallBack(10,5<=this.comboIdx),5<=this.comboIdx&&(this.comboIdx=0);var s=SportsUI.createDisplayText("+10",{size:32,maxSize:130,fill:16378694},!1);s.x=e.x-s.width/2,s.y=e.y-e.height/2-10;var o=this;TweenLite.to(s,1,{y:s.y-30,alpha:0,ease:Circ.easeOut,delay:.5,onComplete:function(){o.removeChild(s)}}),this.addChild(s)}},GoalieGame.prototype.playCharSaveAnimation=function(t){var e=Game.webApp.scaledWidth/2;t.x<0?(t.x>.25*-e?this.leftPlayerAnim.state.setAnimation(0,"save_right",!1):t.x<.75*-e?this.leftPlayerAnim.state.setAnimation(0,"save_left",!1):this.leftPlayerAnim.state.setAnimation(0,"save_up",!1),this.leftPlayerAnim.state.addAnimation(0,"idle",!0,0)):(t.x<.25*Game.webApp.scaledWidth?this.rightPlayerAnim.state.setAnimation(0,"save_left",!1):t.x>.75*Game.webApp.scaledWidth?this.rightPlayerAnim.state.setAnimation(0,"save_right",!1):this.rightPlayerAnim.state.setAnimation(0,"save_up",!1),this.rightPlayerAnim.state.addAnimation(0,"idle",!0,0))},GoalieGame.prototype.destroyBall=function(t){this.balls.splice(_.indexOf(this.balls,t),1),this.ballsHolder.removeChild(t)},GoalieGame.prototype.destroyParticle=function(t){this.particles.splice(_.indexOf(this.particles,t),1),t.parent.removeChild(t)},GoalieGame.prototype.get3DScale=function(t){return 50/t},GoalieGame.prototype.set3dPosition=function(t,e){var a=this.get3DScale(e.z-this.cameraZ);t.scale.set(a),t.x=e.x*a,t.y=e.y*a},GoalieGame.prototype.gameStart=function(){if(!1!==this.gameRunning){this.score=0,this.timer=0,this.timePlayed=Math.round(timeAllowed-this.timer),this.playbackProgress=2;var t=_.random(0,patterns.length-1);this.currentPlayback=_.cloneDeep(patterns[t]),this.difficultyModifier=0,this.particles=[],this.gameRunning=!0}},GoalieGame.prototype.gameOver=function(){this.gameRunning=!1},GoalieGame.prototype.update=function(t){if(this.gameRunning){this.timer+=t,this.timePlayed=Math.round(timeAllowed-this.timer);for(var e,a=this.balls.length-1;0<=a;--a)this.balls[a].update(t);for(a=this.particles.length-1;0<=a;--a)this.particles[a].update(),this.particles[a].scale.x<.001&&this.destroyParticle(this.particles[a]);if(0===this.currentPlayback.length){this.playbackProgress=0;var i=_.random(0,patterns.length-1);this.currentPlayback=_.cloneDeep(patterns[i])}this.playbackProgress+=.8*t,this.playbackProgress+=.01*this.difficultyModifier;for(a=this.currentPlayback.length-1;0<=a;a--)e=this.currentPlayback[a],this.playbackProgress>e.delay&&(this.buildBall(e.pos),this.currentPlayback.splice(a,1));this.timePlayed<=0&&(this.timePlayed=0,this.gameOver(),this.completeCallBack())}},GoalieGame.prototype.makeExplosionParticle=function(t,e){var a=Math.random()*Math.PI*2,i=10*Math.random()+15,s=Math.cos(a)*i,o=Math.sin(a)*i,n=new Particle("star_burst.png",t,e,s,o,.85,.85,0,.85,5);this.particles.push(n),this.addChild(n)};var RocketGame=function(t){PIXI.Container.call(this),this.team=t,this.build()};RocketGame.prototype=Object.create(PIXI.Container.prototype),(RocketGame.prototype.constructor=RocketGame).prototype.createParalaxBackground=function(){var t;return(t=CC.Utility.pixiObject()).paralaxSky=CC.Utility.pixiAtlasSprite("rocket_sky_0.png"),t.paralaxSky.addChild(CC.Utility.pixiAtlasSprite("rocket_sky_1.png")),t.paralaxSky.addChild(CC.Utility.pixiAtlasSprite("rocket_sky_0.png",{x:-683})),t.paralaxSky.addChild(CC.Utility.pixiAtlasSprite("rocket_sky_1.png",{x:-683})),t.paralaxHills=CC.Utility.pixiAtlasSprite("rocket_hills_0.png"),t.paralaxHills.addChild(CC.Utility.pixiAtlasSprite("rocket_hills_1.png")),t.paralaxHills.addChild(CC.Utility.pixiAtlasSprite("rocket_hills_0.png",{x:-683})),t.paralaxHills.addChild(CC.Utility.pixiAtlasSprite("rocket_hills_1.png",{x:-683})),t.graphic=new PIXI.Graphics,t.paralaxSky.y=-150,t.paralaxHills.y=-140,t.stadiumSpread=Math.floor(273.25),t.paralaxStadium=CC.Utility.pixiAtlasSprite("rocket_stadium.png"),t.paralaxStadium.addChild(CC.Utility.pixiAtlasSprite("rocket_stadium.png",{x:t.stadiumSpread})),t.paralaxStadium.addChild(CC.Utility.pixiAtlasSprite("rocket_stadium.png",{x:2*t.stadiumSpread})),t.paralaxStadium.addChild(CC.Utility.pixiAtlasSprite("rocket_stadium.png",{x:3*t.stadiumSpread})),t.groundSpread=Math.floor(341.5),t.paralaxGround=CC.Utility.pixiAtlasSprite("rocket_ground.png"),t.paralaxGround.addChild(CC.Utility.pixiAtlasSprite("rocket_ground.png",{x:t.groundSpread})),t.paralaxGround.addChild(CC.Utility.pixiAtlasSprite("rocket_ground.png",{x:2*t.groundSpread})),t.paralaxGround.addChild(CC.Utility.pixiAtlasSprite("rocket_ground.png",{x:3*t.groundSpread})),t.paralaxStadium.y=-50,t.paralaxGround.y=150,t.offset=0,t.offsetSky=0,t.offsetHills=0,t.spread=200,t.paralax=2,t.count=5,t.speed=2,t.update=function(t){this.offset=Math.modo(this.offset-t*this.speed,1),this.offsetSky=Math.modo(this.offsetSky-t*this.speed*.01,1),this.offsetHills=Math.modo(this.offsetHills-t*this.speed*.04,1),this.paralaxStadium.x=this.offset*this.stadiumSpread-500,this.paralaxGround.x=this.offset*this.groundSpread*2-850,this.paralaxSky.x=2732*this.offsetSky*.25,this.paralaxHills.x=2732*this.offsetHills*.25,this.graphic.clear(),this.graphic.lineStyle(2,7002860),this.graphic.moveTo(-375,100),this.graphic.lineTo(375,100),this.graphic.moveTo(-375,137.5),this.graphic.lineTo(375,137.5),this.graphic.moveTo(-375,117.5),this.graphic.lineTo(375,117.5),this.graphic.moveTo(-375,167.5),this.graphic.lineTo(375,167.5);var e,a,i={x:0,y:0};for(e=0,a=this.count;e<a;++e)i.x=(e+this.offset-.5*this.count)*this.spread*2,i.y=100,this.graphic.moveTo(i.x,i.y),i.x*=this.paralax,i.y=200,this.graphic.lineTo(i.x,i.y)},t.addChild(t.paralaxSky),t.addChild(t.paralaxHills),t.addChild(t.paralaxGround),t.addChild(t.paralaxStadium),t.addChild(t.graphic),t},RocketGame.prototype.createTarget=function(){var e;return(e=CC.Utility.pixiObject()).image=CC.Utility.pixiAtlasSprite("rocket_target.png"),e.image.x=-1e3,e.update=function(){this.x=.5*Game.webApp.screenWidth-100},Game.webApp.juggler.addObject(e,1),e.show=function(){TweenLite.to(this.image,1.5,{ease:Elastic.easeOut,x:0})},e.y=-125,e.hit=function(t){this.hitTarget=!0,TweenLite.delayedCall(.3,function(){this.image.x=20,Game.sound.play("target_hit"),TweenLite.to(this.image,.5,{ease:Elastic.easeOut,x:0}),this.hitTarget=!1}.bind(e))},e.addChild(e.image),e},RocketGame.prototype.createBall=function(t){var e,a=this;return(e=CC.Utility.pixiObject()).bad=!!t,e.graphic,e.bad?e.graphic=CC.Utility.pixiAtlasSprite("rocket_ball_1.png"):e.graphic=CC.Utility.pixiAtlasSprite("rocket_ball_0.png"),e.velocity=new PIXI.Point(0,0),e.visible=!1,e.mode="bounce",e.launch=function(t,e,a,i){this.position.set(t,e),this.velocity.set(a,i),this.visible=!0,this.alpha=1,this.alive=!0,this.scale.set(1),this.mode="bounce"},e.detonate=function(){this.scale.set(1),this.alpha=1,TweenLite.to(this,.6,{x:this.x+300}),TweenLite.to(this,.6,{y:300,ease:Back.easeIn})},e.target=function(t,e){1===this.alpha&&(this.mode="target",TweenLite.to(this,.3,{x:t,ease:Linear.easeNone}),TweenLite.to(this,.3,{y:e,ease:Power1.easeOut}),TweenLite.to(this,1.5,{delay:.3,x:-375,alpha:0,ease:Linear.easeNone}),TweenLite.to(this,.5,{delay:.3,alpha:0}),TweenLite.to(this,1.5,{delay:.3,y:150,ease:Bounce.easeOut}))},e.miss=function(t,e){this.mode="target",TweenLite.to(this,.3,{x:t+125,ease:Linear.easeNone}),TweenLite.to(this,.3,{y:e,ease:Power1.easeOut})},e.update=function(t){e.rotation+=-5*t,"bounce"===this.mode&&e.alive&&(this.velocity.y+=a.gravity*t,this.x+=this.velocity.x*t,this.y+=this.velocity.y*t,150<this.y&&0<this.velocity.y&&(this.velocity.y*=-1))},e.addChild(e.graphic),e},RocketGame.prototype.createCharacter=function(){var e;return(e=new PIXI.Container).arcGraphicDistance=100,e.graphic=new PIXI.spine.Spine(Game.animationList["rocket_character_"+this.team]),e.arm=new PIXI.Graphics,e.arcDistance=75,e.hitFoci=new PIXI.Container,this.team+""=="4"&&(e.cloud=new PIXI.spine.Spine(Game.animationList.cloud),e.cloud.state.setAnimation(0,"idle",!0),e.cloud.x=50,e.cloud.y=-150,e.graphic.addChild(e.cloud)),e.arc=CC.Utility.pixiAtlasSprite("rocket_field.png",{alpha:.5}),e.arc2=CC.Utility.pixiAtlasSprite("rocket_field.png",{alpha:.5}),e.arcContainer=CC.Utility.pixiObject(),e.animTimer=0,e.update=function(t){e.animTimer+=t,e.arc.skew.x=.05*Math.sin(10*e.animTimer),e.arc.rotation=10*e.animTimer,e.arc2.skew.x=.05*Math.sin(-12*e.animTimer),e.arc2.rotation=-12*e.animTimer},Game.webApp.juggler.addObject(e),e.innerRing=28,e.outerRing=2*e.innerRing,e.arm.x=25,e.arm.y=-87.5,e.arcDistanceSqr=e.arcDistance*e.arcDistance,e.hitFoci.x=e.arm.x,e.hitFoci.y=e.arm.y,e.wobble=0,e.arcContainer.x=e.arm.x,e.arcContainer.y=e.arm.y,e.arm.rotation=1,e.lastHit=!1,e.swipeAudo=0,e.hit=function(t,e){TweenLite.killTweensOf(this.arm),TweenLite.to(this.arcContainer,.25,{alpha:0}),TweenLite.to(this.arcContainer,.25,{delay:.25,alpha:1}),TweenLite.to(this.arcContainer,.25,{delay:.25,alpha:1}),this.lastHit=!this.lastHit,this.swipeAudo=Math.modo(Math.floor(2*Math.random())+1+this.swipeAudo,3),Game.sound.play("racquet_swipe_"+(this.swipeAudo+1)),this.graphic.state.clearTrack(1),this.graphic.state.tracks.splice(1,1),this.graphic.skeleton.setToSetupPose(),this.lastHit?this.graphic.state.setAnimation(1,"swipe_down"):this.graphic.state.setAnimation(1,"swipe_up"),e&&Game.webApp.juggler.addTimeout(this.punish.bind(this),.3)},e.graphic.state.setAnimation(0,"idle",!0),e.graphic.update(.1),e.graphic.state.addListener({complete:function(t){}}),e.active=!0,e.punish=function(){this.active&&(this.active=!1,this.arm.rotation=2,this.wobble=1,this.arcContainer.visible=!1,this.graphic.state.clearTrack(1),this.graphic.skeleton.setToSetupPose(),this.graphic.state.setAnimation(1,"hit"),TweenLite.delayedCall(2,function(){this.active=!0,this.arm.y=this.hitFoci.y,this.arcContainer.visible=!0,e.graphic.state.setAnimation(0,"idle",!0)}.bind(this)))},e.boost=function(){this.graphic.state.setAnimation(3,"boost")},window.gameAnimation=e.graphic,e.x=-200,e.y=150,e.addChild(e.graphic),e.addChild(e.arm),e.arcContainer.addChild(e.arc),e.arcContainer.addChild(e.arc2),e.addChild(e.arcContainer),e.addChild(e.hitFoci),e},RocketGame.prototype.createInterface=function(){var t=new PIXI.Container;return t.hitArea=new PIXI.Rectangle(-500,-500,1e3,1e3),t},RocketGame.prototype.gameOver=function(){this.interactiveLayer.interactive=!1},RocketGame.prototype.gameStart=function(){this.gameStarted=!0},RocketGame.prototype.build=function(){var t,e,a;for(this.ballPool=[],this.ballContainer=new PIXI.Container,this.ballCount=5,this.ballIndex=0,this.ballReleaseActive=!0,this.ballReleaseTimer=0,this.ballReleaseTimerMaxStart=2,this.ballReleaseTimerMaxEnd=.5,this.ballReleaseTimerMax=this.ballReleaseTimerMaxStart,this.gameStarted=!1,this.gameTime=0,this.targetHits=0,this.gameTimeMax=60,this.speed=1,this.target=this.createTarget(),this.character=this.createCharacter(),this.paralaxBackground=this.createParalaxBackground(),this.ballOrder=[0,0,0,0,1],this.gravity=450,t=0,e=this.ballCount;t<e;++t)a=this.createBall(this.ballOrder[t%this.ballOrder.length]),this.ballPool.push(a),this.ballContainer.addChild(a);this.interactiveLayer=this.createInterface(),this.interactiveLayer.interactive=!0,this.targetsHitPanel=new SportsUI.GamePointsPanel("ui_rocket_icon_panels.png"),CC.isMobile?this.interactiveLayer.tap=this.screenReleased.bind(this):this.interactiveLayer.click=this.screenReleased.bind(this),this.addChild(this.paralaxBackground),this.addChild(this.target),this.addChild(this.character),this.addChild(this.ballContainer),this.addChild(this.targetsHitPanel),this.addChild(this.interactiveLayer)},RocketGame.prototype.startGame=function(){TweenLite.to(this,2,{speed:1})},RocketGame.prototype.screenClicked=function(t){this.startY=t.data.getLocalPosition(this).y},RocketGame.prototype.screenReleased=function(t){var e,a,i,s,o,n=this;e=0,a=this.ballCount;var r=!1;if(this.character.active){for(;e<a;++e)if((i=this.ballPool[e]).visible&&(s=this.character.hitFoci.toLocal(i,this.ballContainer),o=Math.sqrt(s.x*s.x+s.y*s.y)-this.character.arcDistance,Math.abs(o)<this.character.outerRing&&i.velocity.x<0&&i.alive))if(i.alive=!1,i.bad)i.detonate(),r=!0,Game.sound.play("perfect_hit"),n.scoreCallBack(0,1,!0);else{Math.abs(o)<this.character.innerRing?(i.target(this.target.x,this.target.y+o/this.character.innerRing*-13.75),this.target.hit(),Game.sound.play("tennis_ball_hit_"+(Math.round(Math.random())+1)),n.targetHits++,n.targetsHitPanel.setValue(n.targetHits)):i.miss(this.target.x,this.target.y+o/this.character.innerRing*-37.5),i.accuracy=.5*Math.abs(o/this.character.innerRing);var l=this.target.hitTarget;i.accuracy<.2&&(Game.sound.play("ring_boost_0"),this.character.boost(),TweenLite.to(n,.3,{speed:2}),TweenLite.to(n,1,{delay:1,speed:1})),TweenLite.delayedCall(.3,function(){n.scoreCallBack&&(l?n.scoreCallBack(this.accuracy,1,this.bad):n.scoreCallBack(1,1,this.bad))}.bind(i))}this.character.hit(!1,r)}},RocketGame.prototype.update=function(t){if(this.gameStarted){var e,a;this.gameTime+=t;var i=this.gameTime/this.gameTimeMax;for(this.ballReleaseActive&&(this.ballReleaseTimer+=t,this.ballReleaseTimer>this.ballReleaseTimerMax&&(this.ballPool[this.ballIndex].launch(375,-25,25*Math.sin(25*Math.random())-250,-50*Math.sin(25*Math.random())),this.ballReleaseTimerMax=Math.lerp(this.ballReleaseTimerMaxStart,this.ballReleaseTimerMaxEnd,i)*(1+.1*Math.sin(Math.random())),this.ballReleaseTimer=0,this.ballIndex=(this.ballIndex+1)%this.ballCount)),e=0,a=this.ballCount;e<a;++e)this.ballPool[e].update(t)}this.paralaxBackground.update(t*this.speed)};var SkydiveGame=function(t,e,a){PIXI.Container.call(this),this.scoreFunc=t,this.gameCompleteFunc=e,this.team=a,this.charIDA=2*a,this.charIDB=this.charIDA+1,this.gameSpeed=1,CC.ScaleFactor<=1&&(this.gameSpeed=.75),this.build()};SkydiveGame.prototype=Object.create(PIXI.Container.prototype),(SkydiveGame.prototype.constructor=SkydiveGame).prototype.screenTo3D=function(t,e,a,i){var s=this.cameraNearFarDiff/a;i.x=this.cameraPosition.x+t/s,i.y=this.cameraPosition.y+e/s,i.z=this.cameraPosition.z+a},SkydiveGame.prototype.calculate3D=function(t){t.scale.x=this.cameraNearFarDiff/(t.pos.z-this.cameraPosition.z),t.visible=0<t.scale.x&&!t.pos.noRender,t.scale.x<.04&&!t.shower&&(t.visible=!1),t.x=(t.pos.x-this.cameraPosition.x)*t.scale.x,t.y=(t.pos.y-this.cameraPosition.y)*t.scale.x,t.scale.x*=t.pos.scale||1,t.scale.y=t.scale.x},SkydiveGame.prototype.createRing=function(t,e){var a,i,s,o=new PIXI.Container;1<CC.ScaleFactor?o.graphic=new PIXI.Container:o.graphic=CC.Utility.pixiAtlasSprite("sky_static_ring.png"),a=0,i=t;var n=this;o.scoreRadius=e,o.scoreRadiusSqr=o.scoreRadius*o.scoreRadius*(1===CC.ScaleFactor?4:1);var r=25*Math.random();if(o.checkCollect=function(t){var e={x:t.x,y:t.y,z:.5*(t.z-this.pos.z)+this.pos.z};CC.Geometry.vectorDistanceSquared(e,this.pos)<this.scoreRadiusSqr&&this.collect()},o.collected=!1,o.collect=function(){if(!this.collected){Game.sound.play("ring_boost_1"),this.collected=!0,n.scoreFunc(8),n.internalScore+=Math.round(25*n.fallGear),n.ringsCollected++,n.fallGear=2;var t,e=0,a=this.graphic.children.length;if(a)for(;e<a;++e)t=this.graphic.children[e],TweenLite.to(t,.3,{x:3*t.x,y:3*t.y});else this.graphic.visible=!1}},1<CC.ScaleFactor)for(;a<i;++a)s=2*Math.PI*a/i,s+=r,o.graphic.addChild(CC.Utility.pixiAtlasSprite("sky_orb.png",{scale:.5,x:Math.sin(s)*e,y:Math.cos(s)*e}));return o.update=function(){this.pos.noRender=this.scale.x<.01},o.pos={x:0,y:0,z:0,scale:1},o.addChild(o.graphic),o},SkydiveGame.prototype.createSpeckle=function(){var t=new PIXI.Container;t.graphic=new PIXI.Graphics,t.graphic.beginFill(16777215),t.graphic.drawCircle(0,0,1);var e=this;return t.show=function(){this.pos.x=750*(Math.random()-.5),this.pos.y=750*(Math.random()-.5),this.pos.z=e.cameraPosition.z+4e3,this.pos.noRender=!1},t.update=function(){},t.pos={x:0,y:0,z:0,scale:1,noRender:!0},t.addChild(t.graphic),t},SkydiveGame.prototype.createCloud=function(){var t=new PIXI.Container;return t.graphic=CC.Utility.pixiAtlasSprite("sky_cloud.png"),t.pos={x:0,y:0,z:0,scale:3,noRender:!1},t.addChild(t.graphic),t},SkydiveGame.prototype.createObstruction=function(t,e){var a=new PIXI.Container;1===CC.ScaleFactor?a.graphic=e?CC.Utility.pixiAtlasSprite("canvas_bird.png"):CC.Utility.pixiAtlasSprite("canvas_crate.png"):a.graphic=e?new PIXI.spine.Spine(Game.animationList.skydive_bird,!0):new PIXI.spine.Spine(Game.animationList.skydive_crate,!0);var i=this;return a.scoreRadius=.75*t,a.scoreRadiusSqr=a.scoreRadius*a.scoreRadius,a.type=e,a.angle=25*Math.random(),a.speed=Math.random()+.5,a.graphic.state&&a.graphic.state.setAnimation(0,"idle",!0),a.checkCollect=function(t){var e={x:t.x,y:t.y,z:.5*(t.z-this.pos.z)+this.pos.z};CC.Geometry.vectorDistanceSquared(e,this.pos)<this.scoreRadiusSqr&&this.collect()},a.collected=!1,a.collect=function(){this.collected||(this.collected=!0,this.type?(TweenLite.to(this.graphic,3,{rotation:-20,x:this.graphic.x+-1e4*Math.sin(this.graphic.rotation),y:this.graphic.y+-1e4*Math.cos(this.graphic.rotation),onComplete:function(){this.graphic.visible=!1}.bind(this),ease:Back.easeIn}),Game.sound.play("bird_squawk_"+Math.floor(3*Math.random()+1))):(this.graphic.state&&this.graphic.state.setAnimation(0,"hit"),Game.sound.play("ring_hit")),i.scoreFunc(-4),i.characters[i.currentCharacterIndex].play(0,"crash"),Game.webApp.juggler.addTimeout(function(){i.characters[i.currentCharacterIndex].play(0,"slow_idle",!0)},.5),i.fallGear=0,i.internalScore-=50,i.scoreFunc(-50))},a.update=function(t){if(this.pos.noRender=this.scale.x<.01,this.type&&!this.collected){var e=1e-4*(i.playerZPosition-this.pos.z)*this.speed;this.graphic.x=300*(Math.sin(e+this.angle)-Math.sin(this.angle)),this.graphic.y=300*(Math.cos(e+this.angle)-Math.cos(this.angle)),this.graphic.rotation=-(e+this.angle)+Math.hPI}},a.pos={x:0,y:0,z:0,scale:1},a.addChild(a.graphic),a},SkydiveGame.prototype.createPlane=function(t){var e=CC.Utility.pixiAtlasSprite("skydive_plane_0.png");e.addChild(CC.Utility.pixiAtlasSprite("skydive_plane_1.png")),e.addChild(CC.Utility.pixiAtlasSprite("skydive_plane_2.png")),e.addChild(CC.Utility.pixiAtlasSprite("skydive_plane_3.png"));var a=this;return e.rotation=Math.random()*Math.TAU,e.update=function(){var t=.1*(a.characters[0].pos.z-this.pos.z)+50;this.pos.x=Math.sin(-this.rotation-Math.hPI)*t,this.pos.y=Math.cos(-this.rotation-Math.hPI)*t+500},e.pos={x:0,y:0,z:0,scale:3},e},SkydiveGame.prototype.createCircleDisplay=function(){var t=new PIXI.Container;return t.text=SportsUI.createDisplayText("Tap to open!",{size:40},!0),t.text.x=-.5*t.text.width,t.text.y=-.5*t.text.height,t.handTap=CC.Utility.pixiAtlasMovieClip(["hand_icon.png","hand_icon_tap.png"]),t.handTap.scale.x=-1,t.handTap.y=100,t.containerText=new PIXI.Container,t.containerText.x=-100,t.containerText.y=-50,t.arrow=CC.Utility.pixiAtlasSprite("sky_arrow.png"),t.arrow.x=-180,t.animTimer=50,Game.webApp.juggler.addObject(t),t.update=function(t){this.animTimer+=4*t;var e=Math.max(0,Math.sin(this.animTimer)-.5);this.handTap.scale.y=1.25-.5*e,this.handTap.scale.x=-this.handTap.scale.y},t.graphic=new PIXI.Graphics,t.setValue=function(t){this.graphic.clear(),this.graphic.lineStyle(12,0),this.graphic.drawCircle(0,1,80),this.graphic.lineStyle(9,16777215),this.graphic.drawCircle(0,0,80),this.graphic.lineStyle(9,16378694)},t.setValue(.5),t.addChild(t.graphic),t.addChild(t.handTap),t},SkydiveGame.prototype.createLandingScene=function(t,a){var i=CC.Utility.pixiAtlasSprite("sky_landing_0.png");return i.addChild(CC.Utility.pixiAtlasSprite("sky_landing_1.png")),i.character=CC.Utility.pixiAtlasSprite("sky_para_characters_"+t+".png"),i.characterFar=CC.Utility.pixiAtlasSprite("sky_para_far_characters_"+t+".png"),i.character.x=-5,i.character.y=-200,i.character.anchor.y=1,i.characterFar.anchor.y=1,i.characterFar.y=-200,i.splash=new PIXI.spine.Spine(Game.animationList.skydive_splash),i.land=function(t){switch(Game.sound.play("parachute_opening"),this.visible=!0,t){case 0:Game.webApp.juggler.addTimeout(function(){a(50)},1.5),TweenLite.to(i.character,3,{y:70,onComplete:function(){Game.sound.play("parachute_landing")}});break;case 1:var e=Math.random()-50;i.character.x=e+120*Math.sign(e),Game.webApp.juggler.addTimeout(function(){a(25)},1.5),TweenLite.to(i.character,3,{y:70,onComplete:function(){Game.sound.play("parachute_landing")}});break;case 2:i.characterFar.x=150*(Math.random()-.5),Game.webApp.juggler.addTimeout(a,.5),TweenLite.to(i.characterFar,2,{ease:Power1.easeIn,y:20,onComplete:function(){Game.sound.play("pogo_splash"),i.splash.visible=!0,i.characterFar.visible=!1,i.splash.state.setAnimation(0,"splash_0"),i.splash.scale.set(.7),i.splash.x=i.characterFar.x,i.splash.y=i.characterFar.y-50}})}},i.splash.visible=!1,i.addChild(i.characterFar),i.addChild(CC.Utility.pixiAtlasSprite("sky_landing_2.png")),i.addChild(i.character),i.addChild(i.splash),i.visible=!1,i},SkydiveGame.prototype.createCharacter=function(t){var e=new PIXI.Container;return 1<CC.ScaleFactor?e.anim=new PIXI.spine.Spine(Game.animationList["skydive_character_"+t],!0):e.anim=CC.Utility.pixiAtlasSprite("sky_dive_characters_"+t+".png"),e.play=function(t,e,a){1<CC.ScaleFactor&&this.anim.state.setAnimation(t,e,a)},e.pos={x:0,y:1,z:-1e3,scale:1-.3*!t},e.play(0,"slow_idle",!0),e.addChild(e.anim),e},SkydiveGame.prototype.createIsland=function(){var t=new PIXI.Container,e={x:.5,y:.4};return t.graphicX1=CC.Utility.pixiAtlasSprite("sky_island_small_0.png",{anchor:e}),t.graphicX1.addChild(CC.Utility.pixiAtlasSprite("sky_island_small_1.png",{anchor:e})),t.graphicX2=CC.Utility.pixiAtlasSprite("sky_island_large_0.png",{scale:.6,anchor:e,visible:!1}),t.graphicX2.addChild(CC.Utility.pixiAtlasSprite("sky_island_large_1.png",{anchor:e})),t.pos={x:0,y:0,z:1,scale:80},t.shower=!0,t.addChild(t.graphicX1),t.addChild(t.graphicX2),t},SkydiveGame.prototype.gameOver=function(t){t=t||0,this.gameRunning=!1,this.gameCompleteFunc(t)},SkydiveGame.prototype.build=function(){this.ocean=CC.Utility.pixiAtlasSprite("sky_ocean_0.png"),this.ocean.addChild(CC.Utility.pixiAtlasSprite("sky_ocean_1.png"));var t,e,a,i,s,o,n=this;this.startHeight=-0,this.cameraPosition={x:0,y:0,z:this.startHeight},this.playerControlTarget={x:0,y:1,z:0},this.ringsCollected=0,this.swapAmount=0,this.playerZPosition=0,this.cameraNear=100,this.cameraFar=2e3,this.cameraHeight=1200,this.cameraNearFarDiff=1e3,this.startSpacing=6e3,this.endSpacing=2e3,this.switchHeight=0,this.switchGap=2e4,this.swapping=!1,this.switched=!1,this.rotOffset=0,this.fallingBoost=new PIXI.spine.Spine(Game.animationList.boost),this.fallingBoost.alpha=!1,this.gameRunning=!0,this.gameFalling=!0,this.zoomedIslandTest=CC.Utility.pixiAtlasSprite("sky_island_large_0.png",{scale:.5,visible:!1}),this.zoomedIslandTest.addChild(CC.Utility.pixiAtlasSprite("sky_island_large_1.png",{scale:.5,visible:!1})),this.zoomedIslandTest.scale.set(.001),this.targetThreshold=-2e4,this.offsetThreashold=-3e4,this.fallSpeed=4e3,this.fallGear=0,this.internalScore=0,this.cameraFocus=1,this.swayTimer=0,this.threeDObjectsContainer=new PIXI.Container,this.island=this.createIsland(),this.currentCharacterIndex=0,this.plane=this.createPlane(),this.plane.shower=!0,this.landScene=this.createLandingScene(this.team,function(t){n.gameOver(t)}),this.characters=[this.createCharacter(this.charIDA),this.createCharacter(this.charIDB)],this.interactiveLayer=new PIXI.Container,this.interactiveLayer.hitArea=new PIXI.Rectangle(-1500,-1500,3e3,3e3),this.interactiveLayer.interactive=!0,this.mousePos={x:0,y:1},this.interactiveLayer.touchmove=this.interactiveLayer.mousemove=function(t){this.mousePos=t.data.getLocalPosition(this.threeDObjectsContainer)}.bind(this),this.interactiveLayer.click=this.interactiveLayer.tap=function(t){if(this.gameFalling&&this.circleDisplay.visible&&1===this.circleDisplay.alpha){this.gameFalling=!1;var e=Math.abs(this.characters[this.currentCharacterIndex].pos.x/200),a=0;.2<e&&(a=1),.6<e&&(a=2),this.landScene.land(a)}}.bind(this),this.ringPool=[],s=50;for(var r=1,l=t=0;t<s;++t)(e=this.createRing(9,64)).pos.x=175*Math.sin(t*r),e.pos.y=175*Math.cos(t*r),t%6||(r*=-1),l=s/2<t,e.pos.z=t*-Math.lerp(this.startSpacing,this.endSpacing,1-t/s),e.pos.z+=this.targetThreshold+this.offsetThreashold,e.pos.z+=l*-this.switchGap,t===Math.floor(s/2)+1&&(this.switchHeight=e.pos.z),t===Math.floor(.7*s)+1&&(this.plane.pos.z=e.pos.z),this.startHeight=e.pos.z-2e4,this.ringPool.push(e),this.threeDObjectsContainer.addChild(e),(i=this.createObstruction(64,!((t+5)%6))).pos.x=145*Math.sin(t*r+2),i.pos.y=175*Math.cos(t*r+2),i.pos.z=e.pos.z-3e3,i.graphic.update&&i.graphic.update(100*Math.random()),this.threeDObjectsContainer.addChild(i),(i=this.createObstruction(64,!((t+5)%6))).pos.x=175*Math.sin(t*r-2),i.pos.y=175*Math.cos(t*r-2),i.pos.z=e.pos.z-2e3,this.threeDObjectsContainer.addChild(i),i.graphic.update&&i.graphic.update(100*Math.random());if(1<CC.ScaleFactor){for(s=20,t=0;t<s;++t)(a=this.createCloud()).pos.x=1e3*(Math.random()-.5),a.pos.y=1e3*(Math.random()-.5),a.pos.z=-100*Math.random()+this.startHeight/s*t,a.graphic.rotation=Math.random()*Math.TAU,this.threeDObjectsContainer.addChild(a);for(s=10,t=0;t<s;++t)(a=this.createCloud()).pos.x=100*(Math.random()-.5),a.pos.y=10*(Math.random()-.5),a.pos.z=-100*Math.random()+this.switchHeight,a.graphic.rotation=Math.random()*Math.TAU,this.threeDObjectsContainer.addChild(a)}if(this.playerZPosition=this.startHeight,this.characters[0].pos.z=this.startHeight,this.characters[1].pos.z=this.startHeight,this.characters[1].anim.visible=!1,t=0,s=50,this.speedSpecklesPool=[],this.speedSpecklesIndex=0,this.speedSpecklesTimer=0,this.speedSpecklesTimerMax=.1,this.circleDisplay=this.createCircleDisplay(),this.circleDisplay.alpha=0,this.circleDisplay.visible=!1,1<CC.ScaleFactor)for(;t<s;++t)o=this.createSpeckle(),this.speedSpecklesPool.push(o),this.threeDObjectsContainer.addChild(o);this.threeDObjectsContainer.addChild(this.island),this.threeDObjectsContainer.addChild(this.characters[0]),this.threeDObjectsContainer.addChild(this.characters[1]),this.threeDObjectsContainer.addChild(this.plane),this.addChild(this.ocean),this.addChild(this.zoomedIslandTest),this.addChild(this.threeDObjectsContainer),this.addChild(this.circleDisplay),this.addChild(this.interactiveLayer),this.addChild(this.landScene)},SkydiveGame.zSortFunc=function(t,e){return e.pos.z-t.pos.z},SkydiveGame.prototype.swapCharacters=function(){TweenLite.to(this,2,{delay:1,swapAmount:1,onComplete:function(){this.swapAmount=0,this.currentCharacterIndex=1-this.currentCharacterIndex,this.characters[0].anim.visible=!1}.bind(this)}),this.characters[1].anim.visible=!0},SkydiveGame.prototype.update=function(t){this.oldFallGear=this.fallGear,this.fallGear=Math.lerp(1,this.fallGear,.99);var e=this;1<CC.ScaleFactor&&(2===this.oldFallGear&&"fast_idle"!==this.characters[0].anim.state.tracks[0].animation.name&&(this.characters[0].play(0,"fast_in"),this.characters[1].play(0,"fast_in"),this.fallingBoost.state.setAnimation(0,"boost_0"),this.fallingBoost.alpha=!0,Game.webApp.juggler.addTimeout(function(){e.characters[0].play(0,"fast_idle",!0),e.characters[1].play(0,"fast_idle",!0)},.3)),1<this.oldFallGear&&this.fallGear<=1&&"slow_idle"!==this.characters[0].anim.state.tracks[0].animation.name&&(this.characters[0].play(0,"slow_in"),this.characters[1].play(0,"slow_in"),Game.webApp.juggler.addTimeout(function(){e.characters[0].play(0,"slow_idle",!0),e.characters[1].play(0,"slow_idle",!0)},.3))),this.cameraNearFarDiff=(this.cameraFar-this.cameraNear)*this.cameraFocus;var a=this.characters[this.currentCharacterIndex],i=this.characters[1-this.currentCharacterIndex];this.speedSpecklesTimer+=t,!this.switched&&a.pos.z&&a.pos.z>this.switchHeight&&(this.switched=!0,this.island.graphicX1.visible=!1,this.island.graphicX2.visible=!0,this.swapCharacters()),1<CC.ScaleFactor&&this.speedSpecklesTimer>this.speedSpecklesTimerMax&&(this.speedSpecklesTimer=0,this.speedSpecklesPool[this.speedSpecklesIndex].show(),this.speedSpecklesIndex=Math.modo(this.speedSpecklesIndex+1,this.speedSpecklesPool.length)),this.screenTo3D(this.mousePos.x,this.mousePos.y,this.playerZPosition-this.cameraPosition.z,this.playerControlTarget),CC.Geometry.changeVectorLength2D(700,this.playerControlTarget),this.circleDisplay.visible?(this.swayTimer+=t,a.pos.x=Math.lerp(300*Math.sin(3*this.swayTimer),a.pos.x,.9),a.pos.y=Math.lerp(0,a.pos.y,.9)):(a.pos.x=Math.lerp(this.playerControlTarget.x,a.pos.x,.9),a.pos.y=Math.lerp(this.playerControlTarget.y,a.pos.y,.9),CC.Geometry.changeVectorLength2D(175,a.pos)),i.pos.x=a.pos.x,i.pos.y=a.pos.y;var s=!1;this.gameRunning&&this.gameFalling?this.playerZPosition+=t*this.fallSpeed*this.fallGear*this.gameSpeed:this.playerZPosition=0,a.pos.z=this.playerZPosition-6e3*this.swapAmount,i.pos.z=this.playerZPosition-3e3*(1-2*Math.max(0,.5-(1-this.swapAmount))),this.gameRunning&&0<a.pos.z&&(this.gameOver(0),s=!(this.fallGear=0)),this.gameFalling&&-2e4<a.pos.z&&(this.gameFalling=!1,this.landScene.land(2)),this.cameraPosition.x=Math.lerp(.2*a.pos.x,this.cameraPosition.x,.9),this.cameraPosition.y=Math.lerp(.2*a.pos.y,this.cameraPosition.y,.9),this.cameraPosition.z=Math.lerp(this.playerZPosition-2500,this.cameraPosition.z,.5);var o,n,r,l=1-Math.min(Math.abs(this.plane.pos.z-a.pos.z)/2e4,1);for(this.threeDObjectsContainer.x=Math.sin(this.cameraPosition.z)*l*4,this.threeDObjectsContainer.y=Math.sin(this.cameraPosition.z)*l*4,this.plane.pos.z-2e4<a.pos.z&&!this.planePassed&&(this.planePassed=!0,Game.sound.play("plane_flyby")),!this.circleDisplay.visible&&.5*this.targetThreshold+this.offsetThreashold<a.pos.z&&(this.circleDisplay.visible=!0,this.circleDisplay.scale.set(.5),TweenLite.to(this.circleDisplay,.5,{alpha:1}),TweenLite.to(this.circleDisplay.scale,.5,{x:1,y:1,ease:Back.easeOut})),this.circleDisplay.visible&&this.circleDisplay.setValue(Math.min(0,a.pos.z/(.5*this.targetThreshold-this.offsetThreashold))),this.circleDisplay.visible?(a.rotation*=.9,i.rotation*=.9):(a.rotation=this.rotOffset+Math.atan2(-a.pos.x,a.pos.y),i.rotation=this.rotOffset+Math.atan2(-i.pos.x,i.pos.y)),o=0,r=this.threeDObjectsContainer.children.length;o<r;++o)n=this.threeDObjectsContainer.children[o],this.calculate3D(n),n.update&&n.update(t),n.checkCollect&&n.checkCollect(a.pos),s&&n.reset&&n.reset();this.threeDObjectsContainer.children.sort(SkydiveGame.zSortFunc)},SportsUI={createDisplayText:function(t,e,a){var i=new PIXI.Container,s="_ar";null===COPY_DECK.currentLanguage.match("ar")&&(s="");var o=a?"fred_burger_shadow"+s:"zorb_ball_font_outline",n=a?"fred_burger"+s:"zorb_ball_font";return a?(i.bottom=new PIXI.Text(t,{fontFamily:o,fontSize:e.size+"px ",padding:10,align:e.align}),i.top=new PIXI.Text(t,{fontFamily:n,fontSize:e.size+"px ",padding:10,fill:e.fill||16777215,align:e.align}),e.maxSize&&(i.top.width=Math.min(e.maxSize,i.top.width),i.top.scale.x=Math.min(1,i.top.scale.x),i.top.scale.y=i.top.scale.x,i.bottom.scale.x=i.top.scale.x,i.bottom.scale.y=i.top.scale.x),i.top.y=-.5*i.top.height,i.bottom.y=i.top.y+.5*(i.top.height-i.bottom.height)):(i.bottom=new PIXI.extras.BitmapText(t,{font:e.size+"px "+o,align:e.align}),i.top=new PIXI.extras.BitmapText(t,{font:e.size+"px "+n,align:e.align}),i.top.tint=e.fill||16777215),i.addChild(i.bottom),i.addChild(i.top),i.style=e,i.setText=function(t){this.bottom.text=t,this.top.text=t,a&&(this.style.maxSize&&(this.top.scale.x=1,this.top.width=Math.min(this.style.maxSize,this.top.width),this.top.scale.x=Math.min(1,this.top.scale.x),this.top.scale.y=this.top.scale.x,this.bottom.scale.x=this.top.scale.x,this.bottom.scale.y=this.top.scale.x),this.top.y=-.5*this.top.height,this.bottom.y=this.top.y+.5*(this.top.height-this.bottom.height))},i},createButtonPause:function(e,t,a){Game.Config.showExitButton||t||window.addEventListener("orientationchange",function(t){window.innerWidth<window.innerHeight&&e.show()});var i=this.button(t?"settings":"pause",function(){e.show()});return i.update=function(){null!==navigator.userAgent.match(/iPad|iPhone|iPod/)?(this.x=.5*(Game.webApp.screenWidth-50)-10,this.y=-.5*(Game.webApp.screenHeight-80)+10):(this.x=.5*(Game.webApp.screenWidth-50)-10,this.y=-.5*(Game.webApp.screenHeight-50)+10),a&&(this.button.interative=!a.visible)},i.update(),Game.webApp.juggler.addObject(i,1),i},createButtonLeader:function(){var t=this.button("leader",function(){Game.webApp.swapScreen(Game.LeaderScreen)});return t.update=function(){this.x=.5*(Game.webApp.screenWidth-50)-10,this.y=.5*(Game.webApp.screenHeight-50)-10},Game.webApp.juggler.addObject(t,1),t},button:function(t,e){var a=new PIXI.Container;return a.shadow=CC.Utility.pixiAtlasSprite("button_"+t+"_shadow.png"),a.button=CC.Utility.pixiAtlasSprite("button_"+t+".png"),a.addChild(a.shadow),a.addChild(a.button),a.shadow.y=2,a.button.y=-2,a.buttonMode=!0,a.button.interactive=!0,a.button.mousedown=a.button.touchstart=function(){a.shadow.y=1,a.button.y=-1,TweenLite.killTweensOf(a.shadow),TweenLite.killTweensOf(a.button),TweenLite.killTweensOf(a.shadow.scale),TweenLite.killTweensOf(a.button.scale)},a.button.mouseup=a.button.touchend=function(){Game.sound.play("click_0"),TweenLite.to(a.shadow,.1,{y:2}),TweenLite.to(a.button,.1,{y:-2}),setTimeout(e,50)},CC.isMobile?(a.button.mouseup=function(){},a.button.mousedown=function(){}):(a.button.touchstart=function(){},a.button.touchend=function(){}),a},checkBox:function(t){var e=CC.Utility.pixiAtlasMovieClip(["check_box_on.png","check_box_off.png"]);return e.buttonMode=!0,e.interactive=!0,e.tap=e.click=function(){this.gotoAndStop(1-this.currentFrame),t(this.currentFrame)},CC.isMobile?e.click=function(){}:e.tap=function(){},e},buttonText:function(t,e,a){var i=this.button(t,a),s=this.createDisplayText(e,{size:25,maxSize:130},!0);return s.x=-.5*s.top.width,i.text=s,i.button.addChild(s),i},EndPanel:function(t,e,a,i,s,o,n,r){PIXI.Container.call(this),this.iconType=t,this.replayCallBack=e,this.nextCallBack=a,this.homeCallBack=i,this.scoreValue=s,this.score=Number(s),this.gameValue=o,this.record=n,this.starCount=r,this.build()}},SportsUI.EndPanel.prototype=Object.create(PIXI.Container.prototype),SportsUI.EndPanel.prototype.constructor=SportsUI.EndPanel,SportsUI.EndPanel.prototype.build=function(){this.team=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2],this.totalScore=localStorage.getItem("boomerang_all_stars_total_score"),null===this.totalScore?this.totalScore=0:this.totalScore=Number(this.totalScore),this.scorePanel=new SportsUI.ScorePanel,this.scorePanel.setValue(this.totalScore),this.scorePanelHolder=new PIXI.Container,this.scorePanel.x=-200,TweenLite.to(this.scorePanel,.7,{ease:Back.easeOut,x:0,delay:1}),this.blackUnderlay=new PIXI.Graphics,this.blackUnderlay.beginFill(0,.5),this.blackUnderlay.drawRect(-500,-500,1e3,1e3);var t=this;COPY_DECK.copy.flip?this.baseFrame=CC.Utility.pixiAtlasSprite("end_panel_2.png"):this.baseFrame=CC.Utility.pixiAtlasSprite("end_panel.png"),this.feedBackBar=CC.Utility.pixiAtlasSprite("feed_back_bar.png");var e=localStorage.getItem("boomerang_all_stars_last_rating");null===e&&(e=Math.floor(4*Math.random())),e=Number(e);var a=COPY_DECK.copy.end_panel_ratings.length;e=Math.modo(e+Math.floor(Math.random()*(a-1))+1,a),localStorage.setItem("boomerang_all_stars_last_rating",e+""),this.feedBackText=SportsUI.createDisplayText(COPY_DECK.copy.end_panel_ratings[e],{size:30,maxSize:180},!0),this.feedBackText.x=-.5*this.feedBackText.top.width,this.feedBackBar.y=-159,this.feedBackText.y=0,this.gameIcon=CC.Utility.pixiAtlasSprite("ui_"+this.iconType+"_icon.png",{}),this.recordIcon=CC.Utility.pixiAtlasSprite("icon_record.png",{}),this.scoreIcon=CC.Utility.pixiAtlasSprite("icon_score.png",{}),this.shield=CC.Utility.pixiAtlasSprite("team_shield_half_"+this.team+".png"),this.shield.x=200,this.shield.y=-120,TweenLite.to(this.shield,.7,{ease:Back.easeIn,x:450,delay:5.5}),this.oldScore=Math.round(this.score),TweenLite.to(this,2,{score:0,totalScore:this.totalScore+this.score,delay:2,onUpdate:function(){this.scorePanel.setValue(Math.round(this.totalScore)),this.scoreNumber.setText(Math.round(this.totalScore)+""),this.scoreNumber.x=130-this.scoreNumber.top.width,Math.floor(this.oldScore)!==Math.floor(this.score)&&Game.sound.play("beep"),this.oldScore=this.score}.bind(this)}),this.gameText=SportsUI.createDisplayText(COPY_DECK.copy["end_panel_game_"+this.iconType],{size:28,maxSize:120},!0),this.recordText=SportsUI.createDisplayText(COPY_DECK.copy.end_panel_record,{size:22,maxSize:80},!0),this.scoreText=SportsUI.createDisplayText(COPY_DECK.copy.end_panel_score,{size:28,maxSize:120},!0);var i="right";COPY_DECK.copy.flip&&(i="left"),this.gameNumber=SportsUI.createDisplayText(this.gameValue+"",{align:i,size:37.5},!1),this.recordNumber=SportsUI.createDisplayText(this.record+"",{align:i,size:30},!1),this.scoreNumber=SportsUI.createDisplayText(this.scoreValue+"",{align:i,size:37.5},!1),this.buttonReplay=SportsUI.button(Game.shuffleMode?"replay":"replay_gld",this.replayCallBack),this.buttonNext=SportsUI.button(Game.shuffleMode?"next_gld":"next",this.nextCallBack),this.animTimer=0,this.buttonReplay.x=-35,this.buttonNext.x=35,COPY_DECK.copy.flip&&(this.buttonNext.x=-70),this.buttonReplay.y=this.buttonNext.y=115,COPY_DECK.copy.flip?(this.gameText.x=100-this.gameText.top.width,this.scoreText.x=100-this.scoreText.top.width,this.recordText.x=100-this.recordText.top.width,this.gameIcon.x=this.recordIcon.x=this.scoreIcon.x=130,this.gameNumber.x=-130,this.recordNumber.x=-130,this.scoreNumber.x=-130):(this.gameText.x=this.recordText.x=this.scoreText.x=-90,this.gameIcon.x=this.recordIcon.x=this.scoreIcon.x=-130,this.gameNumber.x=130-this.gameNumber.top.width,this.recordNumber.x=130-this.recordNumber.top.width,this.scoreNumber.x=130-this.scoreNumber.top.width),this.gameText.y=-80,this.recordText.y=-33,this.scoreText.y=25,this.gameIcon.y=this.gameText.y,this.recordIcon.y=this.recordText.y,this.scoreIcon.y=this.scoreText.y,this.gameNumber.y=this.gameText.y-15,this.recordNumber.y=this.recordText.y-15,this.scoreNumber.y=this.scoreText.y-15,this.recordBroken=!1,this.recordShown=!1,this.starsHolder=new PIXI.Container,this.starsHolder.y=-130;for(var s,o=0;o<5;++o)(s=CC.Utility.pixiAtlasSprite("star_shadow.png")).x=50*(o-2),this.starsHolder.addChild(s);for(o=0;o<5;++o)this.starCount>=o&&((s=CC.Utility.pixiAtlasSprite("star_results.png")).x=50*(o-2),this.starsHolder.addChild(s));for(o=0;o<5;++o)if(this.starCount>=o){(s=CC.Utility.pixiAtlasSprite("star_results.png")).x=50*(o-2),this.starsHolder.addChild(s);var n=4-.1*o;TweenLite.to(s,1,{x:210,delay:n,ease:Back.easeIn,onStart:function(){},onComplete:function(){t.shield.scale.set(.8,.8),Game.sound.play("ball_star_0"),this.visible=!1}.bind(s)})}this.addChild(this.baseFrame),this.addChild(this.feedBackBar),this.scorePanelHolder.addChild(this.scorePanel),this.addChild(this.scorePanelHolder),this.feedBackBar.addChild(this.feedBackText),this.baseFrame.addChild(this.gameIcon),this.baseFrame.addChild(this.recordIcon),this.baseFrame.addChild(this.scoreIcon),this.baseFrame.addChild(this.gameText),this.baseFrame.addChild(this.recordText),this.baseFrame.addChild(this.scoreText),this.baseFrame.addChild(this.gameNumber),this.baseFrame.addChild(this.recordNumber),this.baseFrame.addChild(this.scoreNumber),this.baseFrame.addChild(this.buttonReplay),this.baseFrame.addChild(this.buttonNext),this.baseFrame.addChild(this.shield),this.baseFrame.addChild(this.starsHolder),this.baseFrame.y=18,this.hitArea=new PIXI.Rectangle(-250,-250,500,500),this.interactive=!0,this.click=this.tap=function(t){}},SportsUI.EndPanel.prototype.show=function(){this.visible=!0,TweenLite.from(this.baseFrame,1,{y:500,ease:Back.easeOut,delay:.5}),TweenLite.from(this.feedBackBar,1,{y:-250,ease:Back.easeOut,delay:.5})},SportsUI.EndPanel.prototype.update=function(t){this.animTimer+=t;var e=1.05+.05*Math.sin(5*this.animTimer);this.scorePanelHolder.x=-.5*Game.webApp.screenWidth+60,this.shield.scale.x=Math.lerp(this.shield.scale.x,1,.1),this.shield.scale.y=Math.lerp(this.shield.scale.y,1,.1),this.shield.anchor.x=.5*this.shield.scale.y,Game.shuffleMode?this.buttonNext.scale.set(e):this.buttonReplay.scale.set(e)},SportsUI.ScorePanel=function(){PIXI.Container.call(this),COPY_DECK.copy.flip?this.scoreText=COPY_DECK.copy.end_panel_score:this.scoreText=COPY_DECK.copy.end_panel_score+":",this.base=CC.Utility.pixiAtlasSprite("score_panel_2.png",{anchor:"t"}),this.text=SportsUI.createDisplayText(this.scoreText,{size:15,maxSize:50},!0),this.text.x=-50,this.text.y=15,this.textNumber=SportsUI.createDisplayText("0",{size:26,fill:16378694},!1),this.textNumber.x=10,this.textNumber.y=4,COPY_DECK.copy.flip&&(this.text.x=10,this.textNumber.x=-50),this.y=-195,this.addChild(this.base),this.addChild(this.text),this.addChild(this.textNumber)},SportsUI.ScorePanel.prototype=Object.create(PIXI.Container.prototype),SportsUI.ScorePanel.prototype.constructor=SportsUI.ScorePanel,SportsUI.ScorePanel.prototype.setValue=function(t){this.textNumber.setText(t+"")},SportsUI.ScorePanelBar=function(){PIXI.Container.call(this),COPY_DECK.copy.flip?this.scoreText=COPY_DECK.copy.end_panel_score:this.scoreText=COPY_DECK.copy.end_panel_score+":",this.base=CC.Utility.pixiAtlasSprite("ui_score_bar_back.png",{anchor:"t"}),this.bar=CC.Utility.pixiAtlasSprite("ui_score_bar_front.png",{anchor:"t"}),this.maskGraphic=new PIXI.Graphics,this.maskGraphic.beginFill(16711680,.5),this.maskGraphic.drawRect(0,-10,247,20),this.maskGraphic.x=-122,this.maskGraphic.y=40,this.maskGraphic.scale.x=0,this.bar.mask=this.maskGraphic,this.text=SportsUI.createDisplayText(this.scoreText,{size:15,maxSize:50},!0),this.text.x=-50,this.text.y=15,this.textNumber=SportsUI.createDisplayText("0",{size:26,fill:16378694},!1),this.textNumber.x=10,this.textNumber.y=4,COPY_DECK.copy.flip&&(this.text.x=10,this.textNumber.x=-50),this.y=-195,this.addChild(this.base),this.addChild(this.bar),this.addChild(this.maskGraphic),this.addChild(this.text),this.addChild(this.textNumber)},SportsUI.ScorePanelBar.prototype=Object.create(PIXI.Container.prototype),SportsUI.ScorePanelBar.prototype.constructor=SportsUI.ScorePanel,SportsUI.ScorePanelBar.prototype.setValue=function(t){this.textNumber.setText(t+"")},SportsUI.ScorePanelBar.prototype.setValueBar=function(t){this.maskGraphic.scale.x=t},SportsUI.TimerPanel=function(){PIXI.Container.call(this),this.base=CC.Utility.pixiAtlasSprite("time_panel.png",{anchor:"bl"}),this.text=SportsUI.createDisplayText(this.scoreText+"60",{size:34},!1),this.text.x=70,this.text.y=-36,this.y=195,this.update=function(){this.x=-.5*Game.webApp.screenWidth},Game.webApp.juggler.addObject(this,1),this.addChild(this.base),this.addChild(this.text)},SportsUI.TimerPanel.prototype=Object.create(PIXI.Container.prototype),SportsUI.TimerPanel.prototype.constructor=SportsUI.TimerPanel,SportsUI.TimerPanel.prototype.setValue=function(t){this.text.setText(t+"")},SportsUI.GamePointsPanel=function(t){PIXI.Container.call(this),this.base=CC.Utility.pixiAtlasSprite(t,{anchor:"br"}),this.text=SportsUI.createDisplayText("0",{size:34},!1),this.text.x=-90,this.text.y=-36,this.y=195,this.update=function(){this.x=.5*Game.webApp.screenWidth+.5},Game.webApp.juggler.addObject(this,1),this.addChild(this.base),this.addChild(this.text)},SportsUI.GamePointsPanel.prototype=Object.create(PIXI.Container.prototype),SportsUI.GamePointsPanel.prototype.constructor=SportsUI.GamePointsPanel,SportsUI.GamePointsPanel.prototype.setValue=function(t){this.text.setText(t+"")},SportsUI.PrivPanel=function(){PIXI.Container.call(this),this.build()},SportsUI.PrivPanel.prototype=Object.create(PIXI.Container.prototype),SportsUI.PrivPanel.prototype.constructor=SportsUI.PrivPanel,SportsUI.PrivPanel.prototype.build=function(){this.background=CC.Utility.pixiAtlasSprite(Game.Config.splashTextureId);var t=400;this.baseFrame=new PIXI.Graphics,this.termsFunc=function(){localStorage.setItem("boomerang_all_stars_quickloader","yes"),window.location="terms/terms-"+COPY_DECK.currentLanguage+".html?key="+COPY_DECK.copy.key},this.amtFunc=function(){localStorage.setItem("boomerang_all_stars_quickloader","yes"),window.location="amt/"+COPY_DECK.currentLanguage+".html?key="+COPY_DECK.copy.key},this.privFunc=function(){localStorage.setItem("boomerang_all_stars_quickloader","yes"),window.location="privacy/privacy-"+COPY_DECK.currentLanguage+".html?key="+COPY_DECK.copy.key},this.acceptFunc=function(){Game.webApp.juggler.resume(0),this.hide(),localStorage.setItem("boomerang_sports_app_accept_policy_gdpr","yes"),Game.webApp.juggler.addTimeout(function(){Game.hasPlayedIntroVO||Game.sound.play("welcome")},1,1),Game.hasPlayedIntroVO||Game.webApp.juggler.addTimeout(function(){Game.sound.play("welcome_tagline_"+Math.floor(4*Math.random())),Game.hasPlayedIntroVO=!0},4.1)},this.checkFunc=function(){this.checkbox.selected=!this.checkbox.selected,this.accept.visible=this.checkbox.selected,this.checkbox.selected?this.drawCheckboxSelected(t,30,350):this.drawCheckboxUnselected(t,30,350)},this.textTitle=new PIXI.Text(COPY_DECK.copy.policy_title_a,{wordWrapWidth:380,align:"left",fontSize:18,wordWrap:!0,fill:16772398,fontFamily:"fred_burger"}),this.textTitle.height=Math.min(70,this.textTitle.height),this.textTitle.scale.y=Math.min(1,this.textTitle.scale.y),this.textTitle.scale.x=this.textTitle.scale.y,this.textTitle.x=-170,this.textTitle.y=-160,this.baseFrame.addChild(this.textTitle),this.textTitle2=new PIXI.Text(COPY_DECK.copy.policy_title_b,{wordWrapWidth:350,align:"left",fontSize:10,wordWrap:!0,fill:16777215,fontWeight:800,fontFamily:"fred_burger"}),this.textTitle2.height=Math.min(70,this.textTitle2.height),this.textTitle2.scale.y=Math.min(1,this.textTitle2.scale.y),this.textTitle2.scale.x=this.textTitle2.scale.y,this.textTitle2.x=-170,this.textTitle2.y=-125,this.baseFrame.addChild(this.textTitle2),this.textPolicy=new PIXI.Text(COPY_DECK.copy.policy_text,{wordWrapWidth:350,align:"left",fontSize:10,wordWrap:!0,fill:16777215,fontFamily:"fred_burger"}),this.textPolicy.height=Math.min(70,this.textPolicy.height),this.textPolicy.scale.y=Math.min(1,this.textPolicy.scale.y),this.textPolicy.scale.x=this.textPolicy.scale.y,this.textPolicy.x=-170,this.textPolicy.y=-95,this.baseFrame.addChild(this.textPolicy),this.textMeasureIntro=new PIXI.Text(COPY_DECK.copy.policy_measurement_intro,{wordWrapWidth:350,align:"left",fontSize:10,wordWrap:!0,fill:16777215,fontFamily:"fred_burger"}),this.textMeasureIntro.height=Math.min(70,this.textMeasureIntro.height),this.textMeasureIntro.scale.y=Math.min(1,this.textMeasureIntro.scale.y),this.textMeasureIntro.scale.x=this.textMeasureIntro.scale.y,this.textMeasureIntro.x=-170,this.textMeasureIntro.y=-45,this.baseFrame.addChild(this.textMeasureIntro),this.textMeasureLink=new PIXI.Text(COPY_DECK.copy.policy_measurement_link,{align:"left",fontSize:10,fill:16777215,fontWeight:800,fontFamily:"fred_burger"}),this.textMeasureLink.height=Math.min(70,this.textMeasureLink.height),this.textMeasureLink.scale.y=Math.min(1,this.textMeasureLink.scale.y),this.textMeasureLink.scale.x=this.textMeasureLink.scale.y,this.textMeasureLink.x=this.textMeasureIntro.x+this.textMeasureIntro.width+2,this.textMeasureLink.y=-45,this.baseFrame.addChild(this.textMeasureLink),COPY_DECK.copy.policy_measurement_outro&&0<COPY_DECK.copy.policy_measurement_outro.length&&(this.textMeasureOutro=new PIXI.Text(COPY_DECK.copy.policy_measurement_outro,{align:"left",fontSize:10,fill:16777215,fontWeight:800,fontFamily:"fred_burger"}),this.textMeasureOutro.height=Math.min(70,this.textMeasureOutro.height),this.textMeasureOutro.scale.y=Math.min(1,this.textMeasureOutro.scale.y),this.textMeasureOutro.scale.x=this.textMeasureOutro.scale.y,this.textMeasureOutro.x=-170,this.textMeasureOutro.y=this.textMeasureLink.y+this.textMeasureLink.height+3,this.baseFrame.addChild(this.textMeasureOutro)),this.textPrivacyIntro=new PIXI.Text(COPY_DECK.copy.policy_privacy_intro,{wordWrapWidth:350,align:"left",fontSize:10,wordWrap:!0,fill:16777215,fontFamily:"fred_burger"}),this.textPrivacyIntro.height=Math.min(70,this.textPrivacyIntro.height),this.textPrivacyIntro.scale.y=Math.min(1,this.textPrivacyIntro.scale.y),this.textPrivacyIntro.scale.x=this.textPrivacyIntro.scale.y,this.textPrivacyIntro.x=-170,this.textPrivacyIntro.y=-5,this.baseFrame.addChild(this.textPrivacyIntro),this.textPrivacyLink=new PIXI.Text(COPY_DECK.copy.policy_privacy_link,{align:"left",fontSize:10,fill:16777215,fontWeight:800,fontFamily:"fred_burger"}),this.textPrivacyLink.height=Math.min(70,this.textPrivacyLink.height),this.textPrivacyLink.scale.y=Math.min(1,this.textPrivacyLink.scale.y),this.textPrivacyLink.scale.x=this.textPrivacyLink.scale.y,this.textPrivacyLink.x=-170,this.textPrivacyLink.y=15,this.baseFrame.addChild(this.textPrivacyLink),COPY_DECK.copy.policy_privacy_outro&&0<COPY_DECK.copy.policy_privacy_outro.length&&(this.textPrivacyOutro=new PIXI.Text(COPY_DECK.copy.policy_privacy_outro,{align:"left",fontSize:10,fill:16777215,fontWeight:800,fontFamily:"fred_burger"}),this.textPrivacyOutro.height=Math.min(70,this.textPrivacyOutro.height),this.textPrivacyOutro.scale.y=Math.min(1,this.textPrivacyOutro.scale.y),this.textPrivacyOutro.scale.x=this.textPrivacyOutro.scale.y,this.textPrivacyOutro.x=this.textPrivacyLink.x+this.textPrivacyLink.width+5,this.textPrivacyOutro.y=this.textPrivacyLink.y,this.baseFrame.addChild(this.textPrivacyOutro)),this.textTermsIntro=new PIXI.Text(COPY_DECK.copy.policy_terms_intro,{wordWrapWidth:350,align:"left",fontSize:10,wordWrap:!0,fill:16777215,fontFamily:"fred_burger"}),this.checkbox=new PIXI.Graphics,this.baseFrame.addChild(this.checkbox),this.checkbox.selected=!1,this.textTermsIntro.height=Math.min(70,this.textTermsIntro.height),this.textTermsIntro.scale.y=Math.min(1,this.textTermsIntro.scale.y),this.textTermsIntro.scale.x=this.textTermsIntro.scale.y,this.textTermsIntro.x=-142,this.textTermsIntro.y=38,this.baseFrame.addChild(this.textTermsIntro),this.textTermsLink=new PIXI.Text(COPY_DECK.copy.policy_terms_link,{align:"left",fontSize:10,fill:16777215,fontWeight:800,fontFamily:"fred_burger"}),this.textTermsLink.height=Math.min(70,this.textTermsLink.height),this.textTermsLink.scale.y=Math.min(1,this.textTermsLink.scale.y),this.textTermsLink.scale.x=this.textTermsLink.scale.y,this.textTermsLink.x=this.textTermsIntro.x+this.textTermsIntro.width+2,this.textTermsLink.y=38,this.baseFrame.addChild(this.textTermsLink),COPY_DECK.copy.policy_terms_outro&&0<COPY_DECK.copy.policy_terms_outro.length&&(this.textTermsOutro=new PIXI.Text(COPY_DECK.copy.policy_terms_outro,{align:"left",fontSize:10,fill:16777215,fontWeight:800,fontFamily:"fred_burger"}),this.textTermsOutro.height=Math.min(70,this.textTermsOutro.height),this.textTermsOutro.scale.y=Math.min(1,this.textTermsOutro.scale.y),this.textTermsOutro.scale.x=this.textTermsOutro.scale.y,this.textTermsOutro.x=-142,this.textTermsOutro.y=this.textTermsLink.y+this.textTermsLink.height+3,this.baseFrame.addChild(this.textTermsOutro)),this.accept=new PIXI.Text(COPY_DECK.copy.policy_continue,{wordWrapWidth:350,align:"center",fontSize:18,wordWrap:!0,fill:16777215,fontFamily:"fred_burger"}),this.accept.height=Math.min(70,this.accept.height),this.accept.scale.y=Math.min(1,this.accept.scale.y),this.accept.scale.x=this.accept.scale.y,this.accept.x=0,this.accept.y=120,this.baseFrame.addChild(this.accept),this.accept.anchor.x=.5,this.accept.visible=!1,this.textTermsLink.interactive=this.background.interactive=this.textPrivacyLink.interactive=this.textMeasureLink.interactive=this.accept.interactive=this.checkbox.interactive=!0,this.textTermsLink.buttonMode=this.textPrivacyLink.buttonMode=this.textMeasureLink.buttonMode=this.accept.buttonMode=this.checkbox.buttonMode=!0,this.textPrivacyLink.click=this.textPrivacyLink.tap=this.privFunc.bind(this),this.textTermsLink.click=this.textTermsLink.tap=this.termsFunc.bind(this),this.accept.click=this.accept.tap=this.acceptFunc.bind(this),this.checkbox.click=this.checkbox.tap=this.checkFunc.bind(this),this.textMeasureLink.click=this.textMeasureLink.tap=this.amtFunc.bind(this),this.addChild(this.background),this.addChild(this.baseFrame),this.background.alpha=0,this.baseFrame.y=500,this.visible=!1,this.drawCheckboxUnselected(t,30,350)},SportsUI.PrivPanel.prototype.drawCheckboxUnselected=function(t,e,a){this.checkbox.clear(),this.checkbox.beginFill(16777215,1),this.checkbox.drawRect(-t/2+e,35,20,20),this.checkbox.endFill(),this.baseFrame.clear(),this.baseFrame.beginFill(0,.7),this.baseFrame.drawRect(-500,-250,1e3,1e3),this.baseFrame.beginFill(16772398,1),this.baseFrame.drawRect(-t/2+5,-a/2+5,t,a),this.baseFrame.beginFill(9120642,1),this.baseFrame.drawRect(-t/2,-a/2,t,a),this.baseFrame.endFill(),this.drawUnderlines(this.textTermsLink),this.drawUnderlines(this.textPrivacyLink),this.drawUnderlines(this.textMeasureLink)},SportsUI.PrivPanel.prototype.drawCheckboxSelected=function(t,e,a){this.drawCheckboxUnselected(t,e,a),this.checkbox.lineStyle(1,0),this.checkbox.moveTo(-t/2+e+3,47),this.checkbox.lineTo(-t/2+e+8,52),this.checkbox.lineTo(-t/2+e+17,38);this.baseFrame.lineStyle(0,0),this.baseFrame.beginFill(16772902,1),this.baseFrame.drawRect(this.accept.x-this.accept.width/2-10+2,this.accept.y+2,this.accept.width+20,this.accept.height+4),this.baseFrame.beginFill(6010345,1),this.baseFrame.drawRect(this.accept.x-this.accept.width/2-10,this.accept.y-2,this.accept.width+20,this.accept.height+6),this.baseFrame.endFill()},SportsUI.PrivPanel.prototype.drawUnderlines=function(t){this.baseFrame.lineStyle(1,16777215),this.baseFrame.moveTo(t.x,t.y+t.height),this.baseFrame.lineTo(t.x+t.width,t.y+t.height)},SportsUI.PrivPanel.prototype.show=function(){this.visible=!0,TweenLite.to(this.baseFrame,.5,{y:0,ease:Back.easeOut}),TweenLite.to(this.background,.5,{alpha:1})},SportsUI.PrivPanel.prototype.hide=function(){TweenLite.to(this.baseFrame,.5,{y:500,ease:Back.easeIn}),TweenLite.to(this.background,.5,{alpha:0}),TweenLite.delayedCall(.5,function(){this.visible=!1}.bind(this))},SportsUI.DataPanel=function(){PIXI.Container.call(this),this.build()},SportsUI.DataPanel.prototype=Object.create(PIXI.Container.prototype),SportsUI.DataPanel.prototype.constructor=SportsUI.DataPanel,SportsUI.DataPanel.prototype.build=function(){this.background=CC.Utility.pixiAtlasSprite(Game.Config.splashTextureId),this.baseFrame=CC.Utility.pixiAtlasSprite("conformation_panel.png"),this.yesFunc=function(){localStorage.clear(),localStorage.setItem("boomerang_all_stars_language_selection",COPY_DECK.currentLanguage),this.hide()},this.noFunc=function(){this.hide()},this.textTitle=SportsUI.createDisplayText(COPY_DECK.copy.are_you_sure,{size:25,maxSize:170},!0),this.textTitle.x=-.5*this.textTitle.top.width,this.buttonYes=SportsUI.button("yes",this.yesFunc.bind(this)),this.buttonCancel=SportsUI.button("cancel",this.noFunc.bind(this)),this.textTitle.y=-50,this.buttonYes.y=50,this.buttonCancel.y=50,this.buttonYes.x=-40,this.buttonCancel.x=40,this.addChild(this.background),this.addChild(this.baseFrame),this.baseFrame.addChild(this.buttonYes),this.baseFrame.addChild(this.buttonCancel),this.baseFrame.addChild(this.textTitle),this.hitArea=new PIXI.Rectangle(-250,-250,500,500),this.interactive=!0,this.click=this.tap=function(t){},this.background.alpha=0,this.baseFrame.y=500,this.visible=!1},SportsUI.DataPanel.prototype.show=function(){this.visible=!0,Game.sound.play("are_you_sure"),TweenLite.to(this.baseFrame,.5,{y:0,ease:Back.easeOut}),TweenLite.to(this.background,.5,{alpha:1})},SportsUI.DataPanel.prototype.hide=function(){TweenLite.to(this.baseFrame,.5,{y:500,ease:Back.easeIn}),TweenLite.to(this.background,.5,{alpha:0}),TweenLite.delayedCall(.5,function(){this.visible=!1}.bind(this))},SportsUI.LangPanel=function(){PIXI.Container.call(this),this.build()},SportsUI.LangPanel.prototype=Object.create(PIXI.Container.prototype),SportsUI.LangPanel.prototype.constructor=SportsUI.LangPanel,SportsUI.LangPanel.prototype.createSlider=function(t){var e=CC.Utility.pixiAtlasSprite("scroller_base.png");e.glass=CC.Utility.pixiAtlasSprite("scroller_glass.png"),e.optionsHolder=new PIXI.Container;for(var a,i=0,s=t.length;i<s;++i)(a=new PIXI.Text(t[i],{fontSize:28,fill:0})).anchor.set(.5),e.optionsHolder.addChild(a);return e.offset=0,e.selection=0,e.buttonMode=e.interactive=!0,e.mousedown=e.touchstart=function(t){this.mouseStart=t.data.getLocalPosition(this).y,this.offsetStart=this.offset,this.grabbed=!0,TweenLite.killTweensOf(this)},e.mousemove=e.touchmove=function(t){this.grabbed&&(this.mouseCurrent=t.data.getLocalPosition(this).y,this.offset=this.offsetStart+.03*(this.mouseCurrent-this.mouseStart))},e.mouseupoutside=e.touchendoutside=e.mouseup=e.touchend=function(t){this.grabbed&&(TweenLite.to(this,.3,{offset:Math.round(this.offset)}),this.selection=Math.modo(Math.round(-this.offset),s)),this.grabbed=!1},e.setValue=function(t){this.selection=Math.round(t),this.offset=-this.selection},e.update=function(t){for(var e,a=0,i=this.optionsHolder.children.length;a<i;++a){e=this.optionsHolder.children[a];var s=Math.modo(a+this.offset+.5*i,i)-.5*i;s*=.7,e.alpha=Math.clamp(0,1,1-Math.abs(s/1)+.5),e.y=60*Math.sin(s),e.scale.y=Math.cos(s),e.visible=0<e.scale.y&&s<3&&-3<s}},Game.webApp.juggler.addObject(e),e.addChild(e.optionsHolder),e.addChild(e.glass),e},SportsUI.LangPanel.prototype.build=function(){this.background=CC.Utility.pixiAtlasSprite(Game.Config.splashTextureId),this.baseFrame=CC.Utility.pixiAtlasSprite("language_panel.png"),this.yesFunc=function(){COPY_DECK.currentLanguage=a[this.languageSlider.selection],SS.setLanguageRegion(COPY_DECK.currentLanguage),localStorage.setItem("boomerang_all_stars_language_selection",COPY_DECK.currentLanguage),this.end(),Game.sound.removeSounds(),window.location.reload()},this.noFunc=function(){this.hide()};var t,e=[],a=[],i=0;for(t in COPY_DECK.languages)e.push(COPY_DECK.languages[t].display_name),a.push(t),t===COPY_DECK.currentLanguage&&(i=a.length-1);this.languageSlider=this.createSlider(e),this.languageSlider.setValue(i),this.textTitle=SportsUI.createDisplayText(COPY_DECK.copy.button_language,{size:25},!0),this.textTitle.x=-.5*this.textTitle.top.width,this.buttonYes=SportsUI.button("yes",this.yesFunc.bind(this)),this.buttonCancel=SportsUI.button("cancel",this.noFunc.bind(this)),this.languageSlider.y=85,this.buttonYes.x=127,this.buttonYes.y=this.languageSlider.y+2,this.textTitle.y=-50,this.buttonCancel.x=127,this.buttonCancel.y=-132,this.addChild(this.background),this.addChild(this.baseFrame),this.baseFrame.addChild(this.buttonYes),this.baseFrame.addChild(this.buttonCancel),this.baseFrame.addChild(this.textTitle),this.baseFrame.addChild(this.languageSlider),this.hitArea=new PIXI.Rectangle(-250,-250,500,500),this.interactive=!0,this.click=this.tap=function(t){},this.background.alpha=0,this.baseFrame.y=500,this.visible=!1},SportsUI.LangPanel.prototype.show=function(){this.visible=!0,TweenLite.to(this.baseFrame,.5,{y:0,ease:Back.easeOut}),TweenLite.to(this.background,.5,{alpha:1})},SportsUI.LangPanel.prototype.hide=function(){TweenLite.to(this.baseFrame,.5,{y:500,ease:Back.easeIn}),TweenLite.to(this.background,.5,{alpha:0}),TweenLite.delayedCall(.5,function(){this.visible=!1}.bind(this))},SportsUI.LangPanel.prototype.end=function(){TweenLite.to(this.baseFrame,.5,{y:500,ease:Back.easeIn}),TweenLite.delayedCall(.5,function(){Game.webApp.swapScreen(Game.StartScreen)}.bind(this))};var ballZSpeed=2.2,ballXSpeed=14,ballMinXSpeed=-ballXSpeed,ballMaxXSpeed=ballXSpeed,gravity=.18,SportsTutorial=(horizonPoint=110,{BaseGame:function(t){PIXI.Container.call(this),this.screen=t,this.buttonTickFunc=function(){this.hide()},this.buttionTick=SportsUI.button("tick",this.buttonTickFunc.bind(this)),this.buttonTickContainer=new PIXI.Container,this.buttonTickContainer.y=100,this.buttonTickContainer.animTimer=0,this.buttonTickContainer.update=function(t){this.animTimer+=t,this.visible=2<this.animTimer,this.scale.set(1+.1*Math.sin(this.animTimer))},this.hitArea=new PIXI.Rectangle(-1e3,-1e3,2e3,2e3),this.interactive=!0,this.click=this.tap=function(t){},this.graphic=new PIXI.Graphics,this.graphic.beginFill(16777215,.2),this.graphic.alpha=0,this.graphic.drawRect(-500,-500,1e3,1e3),Game.webApp.juggler.addObject(this.buttonTickContainer,1),this.buttonTickContainer.addChild(this.buttionTick),this.addChild(this.graphic),this.addChild(this.buttonTickContainer),this.visible=!1}});SportsTutorial.BaseGame.prototype=Object.create(PIXI.Container.prototype),SportsTutorial.BaseGame.prototype.constructor=SportsTutorial.BaseGame,SportsTutorial.BaseGame.prototype.show=function(){this.visible=!0,this.graphic.alpha=0,Game.webApp.screenObject.buttonPause&&(Game.webApp.screenObject.buttonPause.visible=!1),TweenLite.to(this.graphic,1,{alpha:1}),this.buttonTickContainer.visible=!1,this.buttonTickContainer.animTimer=0,Game.webApp.juggler.pause(0),PIXI.spine.Spine.globalAutoUpdate=!1},SportsTutorial.BaseGame.prototype.hide=function(){this.visible=!1,Game.webApp.screenObject.buttonPause&&(Game.webApp.screenObject.buttonPause.visible=!0),Game.webApp.juggler.resume(0),PIXI.spine.Spine.globalAutoUpdate=!0},SportsTutorial.Ring=function(t){SportsTutorial.BaseGame.call(this,t),this.handTapLeft=CC.Utility.pixiAtlasMovieClip(["hand_icon.png","hand_icon_tap.png"]),this.handTapRight=CC.Utility.pixiAtlasMovieClip(["hand_icon.png","hand_icon_tap.png"]),this.character=CC.Utility.pixiAtlasSprite("tutorial_rubber_man.png"),this.character.y=80,this.buttonTickContainer.y=-50,this.handTapLeft.scale.x=-1,this.handTapLeft.rotation=-1,this.handTapRight.rotation=1,this.animTimer=0,this.update=function(t){this.animTimer+=4*t,this.handTapLeft.x=-.5*Game.webApp.screenWidth+50,this.handTapRight.x=.5*Game.webApp.screenWidth-50,this.handTapLeft.y=30,this.handTapRight.y=30;var e=Math.max(0,Math.sin(this.animTimer)-.8),a=Math.max(0,Math.sin(this.animTimer+Math.PI)-.8);this.handTapLeft.scale.y=1.2-e,this.handTapRight.scale.y=1.2-a,this.handTapLeft.scale.x=-this.handTapLeft.scale.y,this.handTapRight.scale.x=this.handTapRight.scale.y,this.character.x=150*Math.clamp(-.6,.6,Math.cos(this.animTimer))},Game.webApp.juggler.addObject(this,1),this.addChild(this.handTapLeft),this.addChild(this.handTapRight),this.addChild(this.character)},SportsTutorial.Ring.prototype=Object.create(SportsTutorial.BaseGame.prototype),SportsTutorial.Ring.prototype.constructor=SportsTutorial.Ring,SportsTutorial.Sky=function(t){SportsTutorial.BaseGame.call(this,t),this.hand=CC.Utility.pixiAtlasSprite("hand_icon.png"),this.character=CC.Utility.pixiAtlasSprite("tutorial_skydive_man.png"),this.animTimer=0,this.update=function(t){this.animTimer+=.3*t*5;var e=Math.sin(this.animTimer)*Math.TAU*.25*1.7+Math.PI;this.hand.x=150*Math.sin(e),this.hand.y=150*Math.cos(e),this.character.rotation=Math.lerp(-e,this.character.rotation,.9),this.character.x=150*Math.sin(-this.character.rotation),this.character.y=150*Math.cos(-this.character.rotation)},Game.webApp.juggler.addObject(this,1),this.addChild(this.character),this.addChild(this.hand),this.buttonTickContainer.y=0,this.addChild(this.buttonTickContainer)},SportsTutorial.Sky.prototype=Object.create(SportsTutorial.BaseGame.prototype),SportsTutorial.Sky.prototype.constructor=SportsTutorial.Sky,SportsTutorial.Striker=function(t){SportsTutorial.BaseGame.call(this,t),this.hand=CC.Utility.pixiAtlasSprite("hand_icon.png"),this.target=CC.Utility.pixiAtlasSprite("tutorial_star_striker_target.png"),this.ball=CC.Utility.pixiAtlasSprite("tutorial_football.png"),this.animTimer=0,this.update=function(t){this.animTimer+=.3*t*5},Game.webApp.juggler.addObject(this,1),this.addChild(this.buttonTickContainer),this.addChild(this.target),this.addChild(this.ball),this.addChild(this.hand),this.target.x=-150,this.target.y=-50,this.buttonTickContainer.x=40,this.buttonTickContainer.y=-30,this.playAnim()},SportsTutorial.Striker.prototype=Object.create(SportsTutorial.BaseGame.prototype),SportsTutorial.Striker.prototype.constructor=SportsTutorial.Striker,SportsTutorial.Striker.prototype.playAnim=function(){this.ball.x=0,this.ball.y=140,this.hand.x=30,this.hand.y=180,this.ball.scale.x=this.ball.scale.y=.75;TweenLite.to(this.hand,.3,{x:0,y:100,onComplete:_.bind(function(){TweenLite.to(this.hand,.1,{x:-30,y:80}),TweenLite.to(this.ball.scale,1,{x:.4,y:.4}),TweenLite.to(this.ball,1,{x:.4,y:this.target.y,ease:Back.easeOut}),TweenLite.to(this.ball,1,{x:this.target.x,onComplete:_.bind(this.playAnim,this)})},this)})},SportsTutorial.Goalie=function(t){SportsTutorial.BaseGame.call(this,t),this.hand=CC.Utility.pixiAtlasSprite("hand_icon.png"),this.hand.x=50,this.hand.y=30,this.animTimer=0,this.update=function(t){this.visible&&(this.animTimer+=.3*t*5,2<this.animTimer&&(this.ball||(this.ball=this.buildBall(1)),this.ball.update(t)))},this.cameraZ=0,Game.webApp.juggler.addObject(this,1),this.balls=[],this.ballsHolder=new PIXI.Container,this.addChild(this.ballsHolder),this.addChild(this.hand),this.buttonTickContainer.y=100,this.addChild(this.buttonTickContainer),this.visible=!1},SportsTutorial.Goalie.prototype=Object.create(SportsTutorial.BaseGame.prototype),SportsTutorial.Goalie.prototype.constructor=SportsTutorial.Goalie,SportsTutorial.Goalie.prototype.set3dPosition=function(t,e){var a=this.get3DScale(e.z-this.cameraZ);t.scale.set(a),t.x=e.x*a,t.y=e.y*a},SportsTutorial.Goalie.prototype.buildBall=function(t){var e=-1800;e+=1800*t;var a=CC.Utility.pixiAtlasSprite("tutorial_football.png");a.pos={x:e,y:horizonPoint,z:400},a.xVel=0,a.yVel=-13,a.scale.set(.5),a.x=0,a.y=horizonPoint;var i=_.random(-1,1,!0);this.set3dPosition(a,a.pos);var s=this;return a.update=function(t){this.yVel+=gravity,this.pos.x+=this.xVel,this.pos.y+=this.yVel,this.rotation+=i*t,this.saved||(this.pos.z-=ballZSpeed,this.pos.z<140&&s.handleTap()),s.set3dPosition(this,this.pos),a.pos.z<s.cameraZ+5?s.destroyBall(this):(a.x<-Game.webApp.scaledWidth/2||a.x>Game.webApp.scaledWidth/2)&&s.destroyBall(this)},this.balls.push(a),this.ballsHolder.addChild(a),this.myTween=TweenLite.to(this.hand,.6,{x:5,y:-50,onComplete:_.bind(function(){this.myTween.reverse()},this),delay:1.2}),a},SportsTutorial.Goalie.prototype.handleTap=function(){var t=this.ball;t.x<=0?t.xVel=-savedBallXSpeed:t.xVel=savedBallXSpeed,t.yVel=-10},SportsTutorial.Goalie.prototype.close=function(){clearTimeout(this.timeout),this.myTween.stop(),this.myTween=null},SportsTutorial.Goalie.prototype.destroyBall=function(t){this.balls.splice(_.indexOf(this.balls,t),1),this.ballsHolder.removeChild(t),this.ball=this.buildBall(1)},SportsTutorial.Goalie.prototype.get3DScale=function(t){return 50/t},SportsTutorial.Rocket=function(t){SportsTutorial.BaseGame.call(this,t),this.racket=CC.Utility.pixiAtlasSprite("tutorial_racket.png",{anchor:"b"}),this.ball=CC.Utility.pixiAtlasSprite("tutorial_ball.png"),this.target=CC.Utility.pixiAtlasSprite("tutorial_target.png"),this.circle=CC.Utility.pixiAtlasSprite("tutorial_racket_circle.png"),this.target.y=-125,this.hand=CC.Utility.pixiAtlasMovieClip(["hand_icon.png","hand_icon_tap.png"]),this.animTimer=0,this.racket.x=-170,this.racket.y=80,this.circle.x=-175,this.circle.y=60,this.update=function(t){this.animTimer+=t,this.target.x=.5*Game.webApp.screenWidth-100;var e=Math.modo(this.animTimer,1),a=Math.modo(this.animTimer-.1,1),i=Math.max(0,Math.sin(a*Math.PI)-.8);this.target.x+=40*Math.max(0,-Math.cos(e*Math.PI)-.8),this.racket.rotation=12*i-1,this.ball.y=-200*e+100,this.ball.x=200*Math.abs(Math.cos(e*Math.PI)),this.ball.y<0&&(this.ball.x*=2.2,this.ball.y*=2.2),this.ball.x+=-110,this.ball.y+=20,this.ball.visible=this.ball.x<this.target.x,this.hand.scale.set(1.2-i),this.circle.tint=.5<e&&Math.abs(e-.5)<.1?65280:16777215},Game.webApp.juggler.addObject(this,1),this.hand.x=-50,this.hand.y=130,this.buttonTickContainer.x=140,this.buttonTickContainer.y=50,this.addChild(this.circle),this.addChild(this.target),this.addChild(this.racket),this.addChild(this.ball),this.addChild(this.hand),this.addChild(this.buttonTickContainer)},SportsTutorial.Rocket.prototype=Object.create(SportsTutorial.BaseGame.prototype),SportsTutorial.Rocket.prototype.constructor=SportsTutorial.Rocket,SportsTutorial.Ball=function(t){SportsTutorial.BaseGame.call(this,t),this.hand=CC.Utility.pixiAtlasMovieClip(["hand_icon.png","hand_icon_tap.png"]),this.character=CC.Utility.pixiAtlasSprite("tutorial_zorb.png"),this.character.x=-80,this.arrow=new PIXI.Graphics,this.animTimer=0,this.hand.anchor.set(.25,.25),this.update=function(t){this.animTimer+=t;var e=Math.abs(Math.sin(this.animTimer));this.hand.x=-50*e,this.hand.y=50*e,this.arrow.scale.set(2*e),this.hand.x+=this.arrow.x},this.drawArrow(),Game.webApp.juggler.addObject(this,1),this.arrow.x=-80,this.hand.scale.x=-1,this.addChild(this.arrow),this.addChild(this.character),this.addChild(this.hand),this.addChild(this.buttonTickContainer)},SportsTutorial.Ball.prototype=Object.create(SportsTutorial.BaseGame.prototype),SportsTutorial.Ball.prototype.constructor=SportsTutorial.Ball,SportsTutorial.Ball.prototype.drawArrow=function(){this.arrow.clear(),this.arrow.beginFill(16777215),this.arrow.lineStyle(1,0),this.arrow.quadraticCurveTo(20,-100,100,-50),this.arrow.lineTo(105,-55),this.arrow.lineTo(105,-35),this.arrow.lineTo(85,-35),this.arrow.lineTo(90,-40),this.arrow.quadraticCurveTo(25,-90,0,0)},SportsTutorial.Pogo=function(t){SportsTutorial.BaseGame.call(this,t),this.hand=CC.Utility.pixiAtlasMovieClip(["hand_icon.png","hand_icon_tap.png"]),this.arrow=new PIXI.Graphics,this.animTimer=0,this.hand.anchor.set(.25,.25),this.update=function(t){this.animTimer+=t;var e=Math.modo(this.animTimer,1),a=1-Math.clamp(.2,.5,Math.sin(e*Math.PI));this.arrow.scale.set(2*e),this.arrow.visible=e<.9,this.hand.scale.set(-a,a)},this.drawArrow(),Game.webApp.juggler.addObject(this,1),this.arrow.x=-80,this.hand.x=-80,this.hand.scale.x=-1,this.addChild(this.arrow),this.addChild(this.hand),this.addChild(this.buttonTickContainer)},SportsTutorial.Pogo.prototype=Object.create(SportsTutorial.BaseGame.prototype),SportsTutorial.Pogo.prototype.constructor=SportsTutorial.Pogo,SportsTutorial.Pogo.prototype.drawArrow=function(){this.arrow.clear(),this.arrow.beginFill(16777215),this.arrow.lineStyle(1,0),this.arrow.bezierCurveTo(0,-100,100,-100,100,-10),this.arrow.lineTo(105,-10),this.arrow.lineTo(95,0),this.arrow.lineTo(85,-10),this.arrow.lineTo(90,-10),this.arrow.bezierCurveTo(90,-90,10,-95,0,0)};var Graphics3D=function(){PIXI.Graphics.call(this),this.pos={x:0,y:0,z:0},this.transPos={},this.scalar=1,this.graf=!0,this.rot=0,this.triArray=[],this.triArrayColour=[],this.vertexArray=[],this.vertexTransArray=[]};Graphics3D.prototype=Object.create(PIXI.Graphics.prototype),(Graphics3D.prototype.constructor=Graphics3D).prototype.addVertex=function(t,e,a){this.vertexArray.push({x:t,y:e,z:a}),this.vertexTransArray.push({x:t,y:e,z:a})},Graphics3D.prototype.addTri=function(t,e,a,i){this.triArrayColour.push(i),this.triArrayColour.push(i),this.triArrayColour.push(i),this.triArray.push(t),this.triArray.push(e),this.triArray.push(a)},Graphics3D.prototype.isBackFace=function(t,e,a){return 0<-(e.y-t.y)*(a.x-t.x)+(e.x-t.x)*(a.y-t.y)},Graphics3D.prototype.build=function(){var t,e,a,i;this.clear();for(var s=0;s<this.triArray.length;s+=3)i=this.triArrayColour[s],t=this.vertexTransArray[this.triArray[s]],e=this.vertexTransArray[this.triArray[s+1]],a=this.vertexTransArray[this.triArray[s+2]],this.isBackFace(t,e,a)&&0<t.z&&0<e.z&&0<a.z&&(this.beginFill(i),this.moveTo(t.x,t.y),this.lineTo(e.x,e.y),this.lineTo(a.x,a.y))},SportsUI.PausePanel=function(t,e,a){PIXI.Container.call(this),this.gameScreen=t,this.isSettings=!!e,this.tutorial=a,this.build()},SportsUI.PausePanel.prototype=Object.create(PIXI.Container.prototype),SportsUI.PausePanel.prototype.constructor=SportsUI.PausePanel,SportsUI.PausePanel.prototype.build=function(){this.background=CC.Utility.pixiAtlasSprite(Game.Config.splashTextureId),this.baseFrame=CC.Utility.pixiAtlasSprite("pause_panel.png"),this.homefunc=function(){Game.hardSwapScreen("dat/manifests/manifest_menu.json",Game.StartScreen,Game.LoadScreen),Game.webApp.juggler.resume(0)},this.replayfunc=function(){"single-web"===Game.Config.type?Game.hardSwapScreen(Game.Config.gameDataPath,Game[Game.Config.gameClassName],Game.LoadScreen):Game.hardSwapScreen("dat/manifests/manifest_pogo.json",Game.RingScreen,Game.LoadScreen),Game.webApp.juggler.resume(0)},this.helpfunc=function(){this.hide(),this.tutorial.show(),this.tutorial.buttonTickContainer.animTimer=100},this.closefunc=function(){this.hide()},this.dataFunc=function(){this.dataPanel.show()},this.langFunc=function(){this.langPanel.show()},this.musicToggle=function(){this.checkBoxMusic.currentFrame?(Game.sound.muteMusic(),localStorage.setItem("boomerang_all_stars_mute_music","yes")):(Game.sound.unmuteMusic(),localStorage.setItem("boomerang_all_stars_mute_music","no"))},this.soundToggle=function(){this.checkBoxSound.currentFrame?(Game.sound.mute(!0),localStorage.setItem("boomerang_all_stars_mute_sound","yes")):(Game.sound.mute(!1),localStorage.setItem("boomerang_all_stars_mute_sound","no"))};var t=this.isSettings?COPY_DECK.copy.settings_panel_title:COPY_DECK.copy.pause_panel_title;this.textTitle=SportsUI.createDisplayText(t,{size:20},!0),this.textTitle.x=-.5*this.textTitle.top.width,this.buttonClose=SportsUI.button("close",this.closefunc.bind(this)),this.textTitle.y=-150,this.buttonClose.x=204,this.buttonClose.y=-150,null!==navigator.userAgent.match(/iPad|iPhone|iPod/)&&(this.buttonClose.y=-140),this.addChild(this.background),this.addChild(this.baseFrame),this.textMusic=SportsUI.createDisplayText(COPY_DECK.copy.pause_panel_music,{size:20,fill:16378694,maxSize:60},!0),this.textSound=SportsUI.createDisplayText(COPY_DECK.copy.pause_panel_sound,{size:20,fill:16378694,maxSize:60},!0),this.checkBoxMusic=SportsUI.checkBox(this.musicToggle.bind(this)),this.checkBoxSound=SportsUI.checkBox(this.soundToggle.bind(this)),this.checkBoxMusic.gotoAndStop(!!Game.sound.musicMuted),this.checkBoxSound.gotoAndStop(!!Game.sound.muted),this.textMusic.x=30,this.textSound.x=30,this.checkBoxMusic.x=-100,this.checkBoxSound.x=40,this.checkBoxMusic.y=this.checkBoxSound.y=-66,this.isSettings?(this.butttonData=SportsUI.buttonText("text",COPY_DECK.copy.button_data,this.dataFunc.bind(this)),this.buttonLang=SportsUI.buttonText("text",COPY_DECK.copy.button_language,this.langFunc.bind(this)),this.termsfunc=function(){localStorage.setItem("boomerang_all_stars_quickloader","yes"),window.location="terms/terms-"+COPY_DECK.currentLanguage+".html?key="+COPY_DECK.copy.key},this.privacyFunc=function(){localStorage.setItem("boomerang_all_stars_quickloader","yes"),window.location="privacy/privacy-"+COPY_DECK.currentLanguage+".html?key="+COPY_DECK.copy.key},this.buttonTerms=new PIXI.Text(COPY_DECK.copy.terms_of_use,{fontSize:14,fill:16777215}),this.buttonPrivacy=new PIXI.Text(COPY_DECK.copy.privacy_policy,{fontSize:14,fill:16777215}),this.buttonPrivacy.underLine=new PIXI.Graphics,this.buttonPrivacy.underLine.lineStyle(2,16777215),this.buttonPrivacy.underLine.moveTo(0,18),this.buttonPrivacy.underLine.lineTo(this.buttonPrivacy.width,18),this.buttonPrivacy.addChild(this.buttonPrivacy.underLine),this.buttonTerms.underLine=new PIXI.Graphics,this.buttonTerms.underLine.lineStyle(2,16777215),this.buttonTerms.underLine.moveTo(0,18),this.buttonTerms.underLine.lineTo(this.buttonTerms.width,18),this.buttonTerms.addChild(this.buttonTerms.underLine),this.buttonLang.y=10,this.butttonData.y=65,this.buttonPrivacy.y=135,this.buttonTerms.y=155,this.buttonPrivacy.x=this.buttonTerms.x=-225,this.buttonPrivacy.interactive=this.buttonPrivacy.buttonMode=!0,this.buttonTerms.interactive=this.buttonTerms.buttonMode=!0,this.buttonPrivacy.click=this.buttonPrivacy.tap=this.privacyFunc.bind(this),this.buttonTerms.click=this.buttonTerms.tap=this.termsfunc.bind(this),this.dataPanel=new SportsUI.DataPanel,this.langPanel=new SportsUI.LangPanel):(this.buttonReplay=SportsUI.button("replay",this.replayfunc.bind(this)),this.buttonHelp=SportsUI.button("help",this.helpfunc.bind(this)),this.buttonReplay.x=-35,this.buttonHelp.x=35,this.buttonReplay.y=this.buttonHelp.y=140,this.baseFrame.addChild(this.buttonReplay),this.baseFrame.addChild(this.buttonHelp)),this.baseFrame.addChild(this.buttonClose),this.checkBoxMusic.addChild(this.textMusic),this.checkBoxSound.addChild(this.textSound),this.baseFrame.addChild(this.checkBoxMusic),this.baseFrame.addChild(this.checkBoxSound),this.baseFrame.addChild(this.textTitle),this.isSettings&&(this.addChild(this.dataPanel),this.addChild(this.langPanel)),this.hitArea=new PIXI.Rectangle(-250,-250,500,500),this.interactive=!0,this.click=this.tap=function(t){},this.background.alpha=0,this.baseFrame.y=500,this.visible=!1},SportsUI.PausePanel.prototype.show=function(){this.visible=!0,TweenLite.to(this.baseFrame,.5,{y:0,ease:Back.easeOut}),TweenLite.to(this.background,.5,{alpha:1}),this.isSettings||Game.webApp.juggler.pause(0),Game.sound.pause(!0),PIXI.spine.Spine.globalAutoUpdate=!1},SportsUI.PausePanel.prototype.hide=function(){TweenLite.to(this.baseFrame,.5,{y:500,ease:Back.easeIn}),TweenLite.to(this.background,.5,{alpha:0}),TweenLite.delayedCall(.5,function(){this.visible=!1}.bind(this)),Game.webApp.tutorial||(Game.webApp.juggler.resume(0),Game.sound.pause(!1)),PIXI.spine.Spine.globalAutoUpdate=!0},Game.BaseScreen=function(){PIXI.Container.call(this),this.backgroundColor=0},Game.BaseScreen.prototype=Object.create(PIXI.Container.prototype),Game.BaseScreen.prototype.constructor=Game.BaseScreen,Game.IntroScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=15668878,this.ccBackground=new PIXI.Graphics,this.ccBackground.beginFill(16777215),this.ccBackground.drawRect(.5*-Game.webApp.screenWidth-2,.5*-Game.webApp.screenHeight-2,Game.webApp.screenWidth+4,Game.webApp.screenHeight+4),this.ccLogo=new PIXI.spine.Spine(Game.animationList.cc_logo);var e=this;this.ccLogo.state.setAnimation(0,"animation").timeScale=0,this.ccLogo.update(0),Game.Config.showCcSplashLogo&&setTimeout(function(){this.ccLogo.state.setAnimation(0,"animation"),this.ccLogo.update(0),this.ccLogo.state.addListener({complete:function(t){Game.webApp.juggler.addTimeout(function(){e.animC.state.setAnimation(0,"animation",!0),e.playing=!0,e.ccBackground.alpha=1,TweenLite.from(e.logo,.5,{delay:1,alpha:0}),TweenLite.to(e.ccLogo,.5,{alpha:0}),TweenLite.to(e.ccBackground,.5,{delay:.5,alpha:0}),TweenLite.to(e.ccLogo,.5,{delay:.5,alpha:0})},1)}})}.bind(this),1500),this.ccLogo.scale.set(.25),this.animTimer=0,this.animA=new PIXI.spine.Spine(Game.animationList.loader_anim_0),this.animB=new PIXI.spine.Spine(Game.animationList.loader_anim_1),this.animC=new PIXI.spine.Spine(Game.animationList.loader_anim_2),this.animA.scale.set(.25),this.animB.scale.set(.25),this.animC.scale.set(.15),this.animC.y=160,this.logo=CC.Utility.pixiAtlasSprite("loader_tv_logo.png"),this.movingOn=!1,this.animA.visible=!1,this.animB.visible=!1,this.playing=!1,this.addChild(this.animA),this.addChild(this.animB),this.addChild(this.animC),this.addChild(this.logo),Game.Config.showCcSplashLogo?(this.addChild(this.ccBackground),this.addChild(this.ccLogo)):(this.animTimer=0,this.playing=!0,e.animC.state.setAnimation(0,"animation",!0)),Game.firstLoadStartTimestamp=(new Date).getTime(),this.update=function(t){this.playing&&(this.animTimer+=t),this.logo.x=-.5*Game.webApp.screenWidth+50,this.logo.y=.5*Game.webApp.screenHeight-40,2<this.animTimer&&!this.animA.visible&&(this.animA.visible=!0,this.animB.visible=!0,this.animA.state.setAnimation(0,"in"),this.animB.state.setAnimation(0,"in")),3.5<this.animTimer&&!Game.loader.updateTexturesOnLoadProgress&&(Game.loader.updateBaseTextures(),Game.loader.updateTexturesOnLoadProgress=!0,Game.Config.showAds&&setTimeout(function(){AdMob.prepareInterstitial({adId:ads.VIDEO_ID,autoShow:!1})},100)),5<this.animTimer&&!this.movingOn&&(Game.introFinished=!0,Game.loadLoaded&&!Game.firstLoad&&(Game.firstLoad=!0,playApp()))}},Game.IntroScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.IntroScreen.prototype.constructor=Game.IntroScreen,Game.LoadScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=15668878,this.graphic=new PIXI.Graphics,this.addChild(this.graphic),this.addChild(CC.Utility.pixiAtlasSprite("logo_preloader.png")),Game.introFinished=!0,this.animTimer=0,this.update=function(t){this.animTimer+=t;var e=5*this.animTimer;this.graphic.clear(),this.graphic.beginFill(15066597),this.graphic.drawRect(-80,-80,160,160),this.graphic.beginFill(5684461),this.graphic.moveTo(-80,10*Math.cos(1+e)),this.graphic.bezierCurveTo(-20,10*Math.cos(2+e),20,10*Math.cos(3+e),80,10*Math.cos(4+e)),this.graphic.lineTo(80,80),this.graphic.lineTo(-80,80)}},Game.LoadScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.LoadScreen.prototype.constructor=Game.LoadScreen,Game.StartScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=16768477,Game.sound.playMusic("music_screens",.3),this.build()},Game.StartScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.StartScreen.prototype.constructor=Game.StartScreen,Game.StartScreen.prototype.build=function(){this.background=CC.Utility.pixiAtlasSprite(Game.Config.splashTextureId),this.background.scale.x=this.background.scale.y=1.05;Game.webApp.juggler.addTimeout(function(){Game.hasPlayedIntroVO||Game.sound.play("welcome")},1,1),Game.hasPlayedIntroVO||Game.webApp.juggler.addTimeout(function(){var t=["welcome_tagline","welcome_tagline_2","welcome_tagline_3","welcome_tagline_4"][_.random(0,3)];Game.sound.play(t),Game.hasPlayedIntroVO=!0},4.1),this.buttonPrivacy=new PIXI.Text(COPY_DECK.copy.privacy_policy,{fontSize:12,fill:0}),this.buttonPrivacy.y=-160,this.buttonPrivacy.interactive=this.buttonPrivacy.buttonMode=!0,this.privacyFunc=function(){localStorage.setItem("boomerang_all_stars_quickloader","yes"),window.location="privacy/privacy-"+COPY_DECK.currentLanguage+".html?key="+COPY_DECK.copy.key},this.privPanel=new SportsUI.PrivPanel,this.buttonPrivacy.click=this.buttonPrivacy.tap=this.privacyFunc.bind(this),this.buttonPlayFunc=function(){Game.webApp.swapScreen(Game.SelectScreen)},this.settingsPanel=new SportsUI.PausePanel(Game.StartScreen,!0),this.buttonSettings=SportsUI.createButtonPause(this.settingsPanel,!0),this.title=SportsUI.createDisplayText(COPY_DECK.copy.game_names[Game.Config.selectedGameOverride],Game.Config.splashTitleConfig,!0),this.title.x=10-this.title.width/2,this.title.y=15,this.buttonPlay=SportsUI.buttonText("play",COPY_DECK.copy.button_play,this.buttonPlayFunc),this.buttonPlay.x=0,this.buttonPlay.y=110,this.addChild(this.background),this.addChild(this.buttonPlay),this.addChild(this.buttonSettings),this.addChild(this.title),Game.Config.showExitButton&&(this.buttonExit=SportsUI.button("exit",Game.Config.exitButtonCallback,!0),this.buttonExit.x=-.5*(Game.webApp.screenWidth-50)+10,this.buttonExit.y=-.5*(Game.webApp.screenHeight-50)+10,this.addChild(this.buttonExit)),this.addChild(this.settingsPanel),this.addChild(this.privPanel),this.update=function(t){this.buttonPrivacy.x=-.5*Game.webApp.screenWidth+3}},Game.SelectScreen=function(t){Game.BaseScreen.call(this),this.backgroundColor=16768477,Game.sound.stopAll(),Game.sound.playMusic("music_screens",.3),this.build(t),SS.isStadium=!1},Game.SelectScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.SelectScreen.prototype.constructor=Game.SelectScreen,Game.SelectScreen.prototype.createIcon=function(t,e,a){var i=new PIXI.Container;if(i.shield=CC.Utility.pixiAtlasSprite(t),i.ribbonTop=new PIXI.Container,i.ribbonBottom=new PIXI.Container,i.ribbonLeft=CC.Utility.pixiAtlasSprite("ribbon_left.png",{anchor:"r"}),i.ribbonMiddle=CC.Utility.pixiAtlasSprite("ribbon_middle.png"),i.ribbonRight=CC.Utility.pixiAtlasSprite("ribbon_right.png",{anchor:"l"}),i.ribbonLeftShadow=CC.Utility.pixiAtlasSprite("ribbon_left_shadow.png",{anchor:"r"}),i.ribbonMiddleShadow=CC.Utility.pixiAtlasSprite("ribbon_middle_shadow.png"),i.ribbonRightShadow=CC.Utility.pixiAtlasSprite("ribbon_right_shadow.png",{anchor:"l"}),i.ribbonText=SportsUI.createDisplayText(e,{size:20,maxSize:220},!0),i.ribbonText.x=-.5*i.ribbonText.top.width,i.ribbonText.y=-15,i.ribbonLeft.x=i.ribbonLeftShadow.x=i.ribbonText.x,i.ribbonRight.x=i.ribbonRightShadow.x=-i.ribbonText.x,i.ribbonMiddle.width=i.ribbonText.width+4,i.ribbonMiddleShadow.width=i.ribbonText.width+4,i.ribbonBottom.y=i.ribbonTop.y=100,i.ribbonBottom.addChild(i.ribbonLeftShadow),i.ribbonBottom.addChild(i.ribbonMiddleShadow),i.ribbonBottom.addChild(i.ribbonRightShadow),i.ribbonTop.addChild(i.ribbonLeft),i.ribbonTop.addChild(i.ribbonMiddle),i.ribbonTop.addChild(i.ribbonRight),i.ribbonTop.addChild(i.ribbonText),void 0!==a){i.starBar=CC.Utility.pixiAtlasSprite("shield_star_base.png"),i.starBar.update=function(){this.y=.1*Math.abs(this.parent.x)+53},Game.webApp.juggler.addObject(i.starBar);for(var s,o=0;o<5;++o)(s=CC.Utility.pixiAtlasMovieClip(["shield_star_empty.png","shield_star_full.png"])).x=20*(o-2),i.starBar.addChild(s);i.setStars=function(t){for(var e=0;e<5;++e)this.starBar.children[e].gotoAndStop(e<t)}}return i.addChild(i.ribbonBottom),i.addChild(i.shield),void 0!==a&&i.addChild(i.starBar),i.addChild(i.ribbonTop),i},Game.SelectScreen.prototype.createCarousel=function(t,e,a){var o=new PIXI.Container;o.items=[];for(var i,s=0,n=t.length;s<n;++s)(i=t[s]).y=400,o.addChild(i),o.items.push(i);o.spread=350,o.buttonLeftFunc=function(){0<TweenLite.getTweensOf(this).length||(r.grabbed?this.targetOffset--:this.targetOffset++,TweenLite.to(this,.9,{ease:Back.easeOut,offset:this.targetOffset}),a&&TweenLite.delayedCall(.7,function(){var t=Math.modo(-o.targetOffset,n);a(t)}),r.grabbed=!1)},o.buttonRightFunc=function(){0<TweenLite.getTweensOf(this).length||(r.grabbed?this.targetOffset++:this.targetOffset--,TweenLite.to(this,.9,{ease:Back.easeOut,offset:this.targetOffset}),a&&TweenLite.delayedCall(.7,function(){var t=Math.modo(-o.targetOffset,n);a(t)}),r.grabbed=!1)},o.buttonTickFunc=function(){o.interactiveChildren=!1;var t=Math.modo(-this.targetOffset,n);e(t)},o.setPos=function(t){this.targetOffset=Math.round(-t),this.offset=this.targetOffset},o.interactiveArea=new PIXI.Container;var r=o.interactiveArea;return o.interactiveArea.interactive=!0,o.interactiveArea.hitArea=new PIXI.Rectangle(-300,-100,600,200),r.mousedown=r.touchstart=function(t){this.startMousePos=t.data.getLocalPosition(this).x,this.grabbed=!0},r.mousemove=r.touchmove=function(t){},r.mouseup=r.touchend=function(t){if(this.grabbed){this.grabbed=!1;var e=t.data.getLocalPosition(this),a=this.startMousePos-e.x;5<Math.abs(a)?0<a?this.parent.buttonRightFunc():this.parent.buttonLeftFunc():CC.Geometry.vectorLengthSquared(e)<1e4&&o.buttonTickFunc.call(o)}},o.buttonTick=SportsUI.button("tick",o.buttonTickFunc.bind(o),!0),o.buttonLeft=SportsUI.button("carousel_left",o.buttonLeftFunc.bind(o)),o.buttonRight=SportsUI.button("carousel_right",o.buttonRightFunc.bind(o)),o.buttonLeft.x=-150,o.buttonRight.x=150,o.buttonLeft.y=400,o.buttonRight.y=400,o.buttonTick.y=400,o.hide=function(){this.update();for(var t,e,a=0,i=this.children.length;a<i;++a)t=this.children[a],e=.25*Math.abs(t.x/this.spread),TweenLite.to(t,.4,{delay:e,y:400,ease:Back.easeIn})},o.show=function(t){t=void 0===t?.5:t,this.update();for(var e,a,i=0,s=this.children.length;i<s;++i)e=this.children[i],a=.25*Math.abs(e.x/this.spread)+t,e===this.buttonTick?TweenLite.to(e,.4,{delay:a,y:150,ease:Back.easeOut}):TweenLite.to(e,.4,{delay:a,y:0,ease:Back.easeOut});o.interactiveChildren=!0,o.buttonTick.interactiveChildren=!0},o.offset=n-1,o.targetOffset=o.offset,o.update=function(t){for(var e=0,a=this.items.length,i=Math.floor(.5*a);e<a;++e)this.items[e].x=(Math.modo(e+i+this.offset,a)-i)*this.spread},o.addChild(o.interactiveArea),o.addChild(o.buttonLeft),o.addChild(o.buttonRight),o.addChild(o.buttonTick),o},Game.SelectScreen.prototype.build=function(t){Game.shuffleMode=!1,this.background=CC.Utility.pixiAtlasSprite("ui_background_0.png"),this.background.scale.x=this.background.scale.y=1.05,this.background.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png")),this.characterCarouselItems=[{name:"team_shield_0.png",text:"Looney Tunes"},{name:"team_shield_1.png",text:"New Loony Tunes"},{name:"team_shield_2.png",text:"The Tom and Jerry Show"},{name:"team_shield_3.png",text:"Be Cool Scooby-Doo"},{name:"team_shield_4.png",text:"Bunnicula"},{name:"team_shield_5.png",text:"The Happos Family"},{name:"team_shield_6.png",text:"Dorothy and the Wizard of Oz"},{name:"team_shield_7.png",text:"Wacky Races"}];for(var e,a=this.chosenCharacter=0,i=this.characterCarouselItems.length;a<i;++a)e=this.characterCarouselItems[a],this.characterCarouselItems[a]=this.createIcon(e.name,COPY_DECK.copy.team_names[a]);var s,o=this,n=!1;t&&(n=!!t.selectGame,t.selectedIndex,s=t.positionTeamIndex);Game.lockSelection=!1;var r=function(t){if(!Game.lockSelection)switch(Game.lockSelection=!0,SS.setCurrentGame(t),t){case 0:Game.hardSwapScreen("dat/manifests/manifest_pogo.json",Game.PogoScreen,Game.LoadScreen);break;case 1:Game.hardSwapScreen("dat/manifests/manifest_ring.json",Game.RingScreen,Game.LoadScreen);break;case 2:Game.hardSwapScreen("dat/manifests/manifest_ball.json",Game.BallScreen,Game.LoadScreen);break;case 3:Game.hardSwapScreen("dat/manifests/manifest_rocket.json",Game.RocketScreen,Game.LoadScreen);break;case 4:Game.hardSwapScreen("dat/manifests/manifest_sky.json",Game.SkyScreen,Game.LoadScreen);break;case 5:Game.hardSwapScreen("dat/manifests/manifest_goal.json",Game.GoalScreen,Game.LoadScreen);break;case 6:Game.hardSwapScreen("dat/manifests/manifest_goalie.json",Game.GoalieScreen,Game.LoadScreen);break;case 7:Game.shuffleMode=!0,Game.scrambleShuffle();var e=Game.shuffleOrder[Game.shuffleCurrent];Game.lockSelection=!1,r(e)}};if(this.buttonBack=SportsUI.button("left",function(){n?(Game.sound.play("choose_team"),n=!1,o.characterCarousel.show(),TweenLite.to(o.feedBackBar,.5,{delay:.7,y:-159}),TweenLite.to(o.feedBackBar,.5,{y:-250,onComplete:function(){o.feedBackText.setText(COPY_DECK.copy.select_team),o.feedBackText.x=-.5*o.feedBackText.top.width}})):Game.webApp.swapScreen(Game.StartScreen)}),this.characterCarousel=this.createCarousel(this.characterCarouselItems,function(t){o.chosenCharacter=t,n=!0,SS.setCurrentGame(1),SS.setCurrentTeam(o.chosenCharacter);var e=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2];Game.manifestParseOptions.team=e,Game.manifestParseOptions.teamChar1=2*e,Game.manifestParseOptions.teamChar2=2*e+1,o.characterCarousel.hide(),r(Game.Config.selectedGameOverride||0)},function(t){Game.sound.play("team_name_"+t)}),n?(Game.sound.play("choose_game"),this.characterCarousel.hide(),this.feedBackText=SportsUI.createDisplayText(COPY_DECK.copy.select_game,{size:25,maxSize:220},!0)):(Game.sound.play("choose_team"),this.characterCarousel.show(),this.feedBackText=SportsUI.createDisplayText(COPY_DECK.copy.select_team,{size:25,maxSize:220},!0)),void 0!==s){this.characterCarousel.setPos(s);for(a=0,i=7;a<i;++a){var l=Game.Storage.getItem("boomerang_all_stars_team_"+s+"_game_"+a+"_star_count");null===l&&(l=0)}}this.feedBackBar=CC.Utility.pixiAtlasSprite("feed_back_bar.png"),this.feedBackText.x=-.5*this.feedBackText.top.width,this.feedBackBar.y=-159,this.feedBackText.y=-2,this.settingsPanel=new SportsUI.PausePanel(Game.StartScreen,!0),this.buttonSettings=SportsUI.createButtonPause(this.settingsPanel,!0),this.update=function(t){this.characterCarousel.update(t),null!==navigator.userAgent.match(/iPad|iPhone|iPod/)?(this.buttonBack.x=-.5*(Game.webApp.screenWidth-50)+10,this.buttonBack.y=-.5*(Game.webApp.screenHeight-80)+10):(this.buttonBack.x=-.5*(Game.webApp.screenWidth-50)+10,this.buttonBack.y=-.5*(Game.webApp.screenHeight-50)+10)},this.addChild(this.background),this.addChild(this.characterCarousel),this.addChild(this.feedBackBar),this.addChild(this.buttonBack),this.addChild(this.buttonSettings),this.addChild(this.settingsPanel),this.feedBackBar.addChild(this.feedBackText)},Game.SelectScreenNewGames=function(t){Game.BaseScreen.call(this),this.backgroundColor=16768477,Game.sound.stopAll(),Game.sound.playMusic("music_screens",.3);var e=_.random(1,3);Game.sound.play("Audience_Cheer_0"+e),this.build(t),SS.isStadium=!0},Game.SelectScreenNewGames.prototype=Object.create(Game.BaseScreen.prototype),Game.SelectScreenNewGames.prototype.constructor=Game.SelectScreenNewGames,Game.SelectScreenNewGames.prototype.createIcon=function(t,e,a){var i=new PIXI.Container;if(i.shield=CC.Utility.pixiAtlasSprite(t),i.ribbonTop=new PIXI.Container,i.ribbonBottom=new PIXI.Container,i.ribbonLeft=CC.Utility.pixiAtlasSprite("ribbon_left.png",{anchor:"r"}),i.ribbonMiddle=CC.Utility.pixiAtlasSprite("ribbon_middle.png"),i.ribbonRight=CC.Utility.pixiAtlasSprite("ribbon_right.png",{anchor:"l"}),i.ribbonLeftShadow=CC.Utility.pixiAtlasSprite("ribbon_left_shadow.png",{anchor:"r"}),i.ribbonMiddleShadow=CC.Utility.pixiAtlasSprite("ribbon_middle_shadow.png"),i.ribbonRightShadow=CC.Utility.pixiAtlasSprite("ribbon_right_shadow.png",{anchor:"l"}),i.ribbonText=SportsUI.createDisplayText(e,{size:20,maxSize:220},!0),i.ribbonText.x=-.5*i.ribbonText.top.width,i.ribbonText.y=-15,i.ribbonLeft.x=i.ribbonLeftShadow.x=i.ribbonText.x,i.ribbonRight.x=i.ribbonRightShadow.x=-i.ribbonText.x,i.ribbonMiddle.width=i.ribbonText.width+4,i.ribbonMiddleShadow.width=i.ribbonText.width+4,i.ribbonBottom.y=i.ribbonTop.y=100,i.ribbonBottom.addChild(i.ribbonLeftShadow),i.ribbonBottom.addChild(i.ribbonMiddleShadow),i.ribbonBottom.addChild(i.ribbonRightShadow),i.ribbonTop.addChild(i.ribbonLeft),i.ribbonTop.addChild(i.ribbonMiddle),i.ribbonTop.addChild(i.ribbonRight),i.ribbonTop.addChild(i.ribbonText),void 0!==a){i.starBar=CC.Utility.pixiAtlasSprite("shield_star_base.png"),i.starBar.update=function(){this.y=.1*Math.abs(this.parent.x)+53},Game.webApp.juggler.addObject(i.starBar);for(var s,o=0;o<5;++o)(s=CC.Utility.pixiAtlasMovieClip(["shield_star_empty.png","shield_star_full.png"])).x=20*(o-2),i.starBar.addChild(s);i.setStars=function(t){for(var e=0;e<5;++e)this.starBar.children[e].gotoAndStop(e<t)}}return i.addChild(i.ribbonBottom),i.addChild(i.shield),void 0!==a&&i.addChild(i.starBar),i.addChild(i.ribbonTop),i},Game.SelectScreenNewGames.prototype.createCarousel=function(t,e,a){var s=new PIXI.Container;s.items=[];for(var i,o=0,n=t.length;o<n;++o)(i=t[o]).y=500,s.addChild(i),s.items.push(i);s.spread=350,s.buttonLeftFunc=function(){0<TweenLite.getTweensOf(this).length||(r.grabbed?this.targetOffset--:this.targetOffset++,TweenLite.to(this,.9,{ease:Back.easeOut,offset:this.targetOffset}),a&&TweenLite.delayedCall(.9,function(){var t=Math.modo(-s.targetOffset,n);a(t)}),r.grabbed=!1)},s.buttonRightFunc=function(){0<TweenLite.getTweensOf(this).length||(r.grabbed?this.targetOffset++:this.targetOffset--,TweenLite.to(this,.9,{ease:Back.easeOut,offset:this.targetOffset}),a&&TweenLite.delayedCall(.8,function(){var t=Math.modo(-s.targetOffset,n);a(t)}),r.grabbed=!1)},s.buttonTickFunc=function(){s.interactiveChildren=!1;var t=Math.modo(-this.targetOffset,n);e(t)},s.setPos=function(t){this.targetOffset=Math.round(-t),this.offset=this.targetOffset},s.interactiveArea=new PIXI.Container;var r=s.interactiveArea;return s.interactiveArea.interactive=!0,s.interactiveArea.hitArea=new PIXI.Rectangle(-300,-100,600,200),r.mousedown=r.touchstart=function(t){this.startMousePos=t.data.getLocalPosition(this).x,this.grabbed=!0},r.mousemove=r.touchmove=function(t){},r.mouseup=r.touchend=function(t){if(this.grabbed){this.grabbed=!1;var e=t.data.getLocalPosition(this),a=this.startMousePos-e.x;5<Math.abs(a)?0<a?this.parent.buttonRightFunc():this.parent.buttonLeftFunc():CC.Geometry.vectorLengthSquared(e)<1e4&&s.buttonTickFunc.call(s)}},s.buttonTick=SportsUI.button("tick",s.buttonTickFunc.bind(s),!0),s.buttonLeft=SportsUI.button("carousel_left",s.buttonLeftFunc.bind(s)),s.buttonRight=SportsUI.button("carousel_right",s.buttonRightFunc.bind(s)),s.buttonLeft.x=-150,s.buttonRight.x=150,s.buttonLeft.y=500,s.buttonRight.y=500,s.buttonTick.y=500,s.hide=function(){this.update();for(var t,e,a=0,i=this.children.length;a<i;++a)t=this.children[a],e=.3*Math.abs(t.x/this.spread),TweenLite.to(t,.5,{delay:e,y:500,ease:Back.easeIn})},s.show=function(){this.update();for(var t,e,a=0,i=this.children.length;a<i;++a)t=this.children[a],e=.3*Math.abs(t.x/this.spread)+.6,t===this.buttonTick?TweenLite.to(t,.5,{delay:e,y:150,ease:Back.easeOut}):TweenLite.to(t,.5,{delay:e,y:0,ease:Back.easeOut});s.buttonTick.interactiveChildren=!0,s.interactiveChildren=!0},s.offset=Math.floor(Math.random()*n),s.targetOffset=s.offset,s.update=function(t){for(var e=0,a=this.items.length,i=Math.floor(.5*a);e<a;++e)this.items[e].x=(Math.modo(e+i+this.offset,a)-i)*this.spread},s.addChild(s.interactiveArea),s.addChild(s.buttonLeft),s.addChild(s.buttonRight),s.addChild(s.buttonTick),s},Game.SelectScreenNewGames.prototype.build=function(t){Game.shuffleMode=!1,this.background=CC.Utility.pixiAtlasSprite("stadium_night_bg.png"),this.gameCarouselItems=[{name:"game_shield_play_all_2.png",text:"Play All"},{name:"game_shield_star_striker.png",text:"Star Striker"},{name:"game_shield_super_goalie.png",text:"Super Goalie"},{name:"game_shield_play_all_2.png",text:"Play All"},{name:"game_shield_star_striker.png",text:"Star Striker"},{name:"game_shield_super_goalie.png",text:"Super Goalie"}],this.characterCarouselItems=[{name:"team_shield_0.png",text:"Looney Tunes"},{name:"team_shield_1.png",text:"New Loony Tunes"},{name:"team_shield_2.png",text:"The Tom and Jerry Show"},{name:"team_shield_3.png",text:"Be Cool Scooby-Doo"},{name:"team_shield_4.png",text:"Bunnicula"},{name:"team_shield_5.png",text:"The Happos Family"},{name:"team_shield_6.png",text:"Dorothy and the Wizard of Oz"},{name:"team_shield_7.png",text:"Wacky Races"}];for(var e,a=this.chosenCharacter=0,i=this.characterCarouselItems.length;a<i;++a)e=this.characterCarouselItems[a],this.characterCarouselItems[a]=this.createIcon(e.name,COPY_DECK.copy.team_names[a]);for(a=0,i=this.gameCarouselItems.length;a<i;++a){e=this.gameCarouselItems[a];var s=0,o="";0===a||3===a?(s=void 0,o=COPY_DECK.copy.play_all):1===a?o=COPY_DECK.copy.game_names[5]:2===a?o=COPY_DECK.copy.game_names[6]:4===a?o=COPY_DECK.copy.game_names[5]:5===a&&(o=COPY_DECK.copy.game_names[6]),this.gameCarouselItems[a]=this.createIcon(e.name,o,s)}var n=this,r=!1;t&&(r=!!t.selectGame,t.selectedIndex,t.positionTeamIndex);Game.lockSelection=!1;var l=["goal","goalie",""];this.buttonBack=SportsUI.button("left",function(){r?(Game.sound.play("choose_team"),r=!1,n.characterCarousel.show(),n.gameCarousel.hide(),TweenLite.to(n.feedBackBar,.5,{delay:.7,y:-159}),TweenLite.to(n.feedBackBar,.5,{y:-250,onComplete:function(){n.feedBackText.setText(COPY_DECK.copy.select_team),n.feedBackText.x=-.5*n.feedBackText.top.width}})):Game.webApp.swapScreen(Game.StartScreen)}),this.characterCarousel=this.createCarousel(this.characterCarouselItems,function(t){n.chosenCharacter=t,r=!0;var e=Game.Storage.getItem("boomerang_all_stars_team_"+t+"_game_5_star_count")||0,a=Game.Storage.getItem("boomerang_all_stars_team_"+t+"_game_6_star_count")||0,i=n.gameCarouselItems[1];i.setStars(Number(e)),(i=n.gameCarouselItems[4]).setStars(Number(e)),(i=n.gameCarouselItems[2]).setStars(Number(a)),(i=n.gameCarouselItems[5]).setStars(Number(a)),setTimeout(function(){Game.sound.stopAll(!0,!0),Game.sound.play("choose_game")},1e3),SS.setCurrentTeam(n.chosenCharacter),n.characterCarousel.hide(),n.gameCarousel.show(),TweenLite.to(n.feedBackBar,.7,{delay:.7,y:-159}),TweenLite.to(n.feedBackBar,.7,{y:-250,onComplete:function(){n.feedBackText.setText(COPY_DECK.copy.select_game),n.feedBackText.x=-.5*n.feedBackText.top.width}})},function(t){Game.sound.play("team_name_"+t)}),this.gameCarousel=this.createCarousel(this.gameCarouselItems,function(t){if(0===t?t=3:1===t?t=0:2===t?t=1:3===t?t=3:4===t?t=0:5===t&&(t=1),console.log("selected game",t),!Game.lockSelection)switch(Game.lockSelection=!0,SS.setCurrentGame(t+5),t){case 0:Game.hardSwapScreen("dat/manifests/manifest_goal.json",Game.GoalScreen,Game.LoadScreen);break;case 1:Game.hardSwapScreen("dat/manifests/manifest_goalie.json",Game.GoalieScreen,Game.LoadScreen);break;case 3:Game.shuffleMode=!0,Game.scrambleShuffle();var e=Game.shuffleOrderStadium[Game.shuffleCurrent];Game.lockSelection=!1,SS.setCurrentGame(e+5),0===e?Game.hardSwapScreen("dat/manifests/manifest_goal.json",Game.GoalScreen,Game.LoadScreen):Game.hardSwapScreen("dat/manifests/manifest_goalie.json",Game.GoalieScreen,Game.LoadScreen)}},function(t){0===t?(t=3,Game.sound.play("all_games")):1===t?t=0:2===t?t=1:3===t?(t=3,Game.sound.play("all_games")):4===t?t=0:5===t&&(t=1);var e=l[t];""!==e&&Game.sound.play("title_"+e)}),r?(this.gameCarousel.show(),this.gameCarousel.offset=0,this.characterCarousel.hide(),this.feedBackText=SportsUI.createDisplayText(COPY_DECK.copy.select_game,{size:25,maxSize:220},!0),Game.sound.play("choose_game")):(this.characterCarousel.show(),this.gameCarousel.hide(),this.feedBackText=SportsUI.createDisplayText(COPY_DECK.copy.select_team,{size:25,maxSize:220},!0),Game.sound.play("choose_team")),this.gameCarousel.setPos(0);var h=Game.Storage.getItem("boomerang_all_stars_team_"+n.chosenCharacter+"_game_5_star_count")||0,c=Game.Storage.getItem("boomerang_all_stars_team_"+n.chosenCharacter+"_game_6_star_count")||0,d=n.gameCarouselItems[1];d.setStars(Number(h)),(d=n.gameCarouselItems[4]).setStars(Number(h)),(d=n.gameCarouselItems[2]).setStars(Number(c)),(d=n.gameCarouselItems[5]).setStars(Number(c)),this.feedBackBar=CC.Utility.pixiAtlasSprite("feed_back_bar.png"),this.feedBackText.x=-.5*this.feedBackText.top.width,this.feedBackBar.y=-159,this.feedBackText.y=-2,this.settingsPanel=new SportsUI.PausePanel(Game.StartScreen,!0),this.buttonSettings=SportsUI.createButtonPause(this.settingsPanel,!0),this.update=function(t){this.characterCarousel.update(t),this.gameCarousel.update(t),this.buttonBack.x=-.5*(Game.webApp.screenWidth-50)+10,this.buttonBack.y=-.5*(Game.webApp.screenHeight-50)+10},this.addChild(this.background),this.addChild(this.characterCarousel),this.addChild(this.gameCarousel),this.addChild(this.feedBackBar),this.addChild(this.buttonBack),this.addChild(this.buttonSettings),this.addChild(this.settingsPanel),this.feedBackBar.addChild(this.feedBackText)},Game.EndScreen=function(t){Game.BaseScreen.call(this);for(var e=this,a={},i=0;i<SS.games.length;++i)a[SS.games[i].name]=i;var s=a[SS.currentSelectedGame];SS.isStadium?this.background=CC.Utility.pixiAtlasSprite("stadium_night_bg.png"):(this.background=CC.Utility.pixiAtlasSprite("ui_background_0.png"),this.background.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png"))),this.background.scale.set(1.05);var o="-",n="-",r=!1;if(this.prevRecord=Game.Storage.getItem("boomerang_all_stars_records_game_"+s),null===this.prevRecord&&(this.prevRecord=-1),"Rubber Ring Race"===SS.currentSelectedGame){var l=Math.floor(t.game/60)%60,h=Math.floor(t.game%60);n=l+":"+CC.Utility.intToString(h,2),(Number(t.game)<Number(this.prevRecord)||-1===this.prevRecord)&&Game.Storage.setItem("boomerang_all_stars_records_game_"+s,t.game),l=Math.floor(this.prevRecord/60)%60,h=Math.floor(this.prevRecord%60),o=l+":"+CC.Utility.intToString(h,2)}else{var c="ru-ru"===COPY_DECK.currentLanguage?"M":"m";n=t.game+"","Beach Pogo"===SS.currentSelectedGame&&(n+=c),Number(t.game)>Number(this.prevRecord)&&(Game.Storage.setItem("boomerang_all_stars_records_game_"+s,t.game),r=!0),o=this.prevRecord+"","Beach Pogo"===SS.currentSelectedGame&&(o+=c)}-1!==this.prevRecord&&!r||(o=n);var d=[[30,120],[90,50],[10,20],[5,20],[5,25],[5,25],[5,25]];d=d[s];var p=Math.floor(5*Math.clamp(0,1,Math.value(d[0],d[1],Number(t.game))));this.panel=new SportsUI.EndPanel(t.icon,function(){Game.webApp.swapScreen(t.gameScreenClass)},function(){"single-web"!==Game.Config.type?SS.isStadium?(Game.shuffleCurrentStadium++,Game.shuffleMode&&Game.shuffleCurrentStadium<2?Game.Ads.checkShowAd(e,function(){var t=Game.shuffleOrderStadium[Game.shuffleCurrentStadium];switch(SS.setCurrentGame(t+5),t){case 0:Game.hardSwapScreen("dat/manifests/manifest_goal.json",Game.GoalScreen,Game.LoadScreen);break;case 1:Game.hardSwapScreen("dat/manifests/manifest_goalie.json",Game.GoalieScreen,Game.LoadScreen)}}):Game.hardSwapScreen("dat/manifests/manifest_menu.json",Game.SelectScreenNewGames,Game.LoadScreen,{selectGame:!0,positionTeamIndex:u})):(Game.shuffleCurrent++,Game.shuffleMode&&Game.shuffleCurrent<7?Game.Ads.checkShowAd(e,function(){var t=Game.shuffleOrder[Game.shuffleCurrent];switch(SS.setCurrentGame(t),t){case 0:Game.hardSwapScreen("dat/manifests/manifest_pogo.json",Game.PogoScreen,Game.LoadScreen);break;case 1:Game.hardSwapScreen("dat/manifests/manifest_ring.json",Game.RingScreen,Game.LoadScreen);break;case 2:Game.hardSwapScreen("dat/manifests/manifest_ball.json",Game.BallScreen,Game.LoadScreen);break;case 3:Game.hardSwapScreen("dat/manifests/manifest_rocket.json",Game.RocketScreen,Game.LoadScreen);break;case 4:Game.hardSwapScreen("dat/manifests/manifest_sky.json",Game.SkyScreen,Game.LoadScreen);break;case 5:Game.hardSwapScreen("dat/manifests/manifest_goal.json",Game.GoalScreen,Game.LoadScreen);break;case 6:Game.hardSwapScreen("dat/manifests/manifest_goalie.json",Game.GoalieScreen,Game.LoadScreen)}}):Game.hardSwapScreen("dat/manifests/manifest_menu.json",Game.SelectScreen,Game.LoadScreen,{selectGame:!0,selectedIndex:s,positionTeamIndex:u})):Game.hardSwapScreen("dat/manifests/manifest_menu.json",Game.StartScreen,Game.LoadScreen)},function(){Game.hardSwapScreen("dat/manifests/manifest_menu.json",Game.StartScreen,Game.LoadScreen)},t.score,n,o,p);var u=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2],m=Game.Storage.getItem("boomerang_all_stars_team_"+Number(u)+"_game_"+s+"_star_count");(null===m||Number(m)<p)&&Game.Storage.setItem("boomerang_all_stars_team_"+Number(u)+"_game_"+s+"_star_count",p+"");var y=Game.Storage.getItem("boomerang_all_stars_total_score");y=null===y?0:Number(y),y+=Number(t.score),Game.Storage.setItem("boomerang_all_stars_total_score",y),SS.sendScore(t.score),this.graphic=new PIXI.Graphics,this.graphic.beginFill(16777215),TweenLite.to(this.graphic,.3,{delay:.1,alpha:0,onComplete:function(){e.panel.alpha=1,e.panel.show()}}),this.graphic.drawRect(-500,-500,1e3,1e3),this.characterA=new PIXI.spine.Spine(Game.animationList["end_character_"+2*u]),this.characterB=new PIXI.spine.Spine(Game.animationList["end_character_"+(2*u+1)]),u+""=="4"&&(this.characterA.cloud=new PIXI.spine.Spine(Game.animationList.cloud),this.characterA.cloud.state.setAnimation(0,"idle",!0),this.characterA.cloud.y=-250,this.characterA.cloud.scale.set(1.5),this.characterA.addChild(this.characterA.cloud)),this.characterA.state.setAnimation(0,"animation",!0),this.characterB.state.setAnimation(0,"animation",!0),TweenLite.to(this.characterA,.2,{delay:.8,y:200}),TweenLite.to(this.characterB,.2,{delay:.9,y:200}),this.characterA.y=this.characterB.y=600,this.characterA.x=220,this.characterB.x=-220,this.addChild(this.background),this.addChild(this.panel),this.addChild(this.characterA),this.addChild(this.characterB),this.addChild(this.graphic),this.panel.alpha=0},Game.EndScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.EndScreen.prototype.constructor=Game.EndScreen,Game.EndScreen.prototype.update=function(t){this.panel.update(t)},Game.LeaderScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=16768477,Game.sound.playMusic("music_screens",.3),this.build(),Game.webApp.renderer.roundPixels=!0},Game.LeaderScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.LeaderScreen.prototype.constructor=Game.LeaderScreen,Game.LeaderScreen.prototype.createEntry=function(t,e,a,i){var s=CC.Utility.pixiAtlasSprite("leaderboard_slot_"+Math.modo(t,2)+".png"),o=SportsUI.createDisplayText(e,{size:20,maxSize:220},!0),n=SportsUI.createDisplayText(t+1,{size:20},!0),r=CC.Utility.pixiAtlasSprite("leaderboard_"+["down","stay","up"][a]+".png");return COPY_DECK.copy.flip?(n.x=160,o.x=130-o.top.width,r.x=-145):(n.x=-150,o.x=-100,r.x=166),s.addChild(o),s.addChild(n),s.addChild(r),s},Game.LeaderScreen.prototype.build=function(){SS.updateTeamScores(),Game.shuffleMode=!1,this.background=CC.Utility.pixiAtlasSprite("ui_background_0.png"),this.background.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png")),this.feedBackBar=CC.Utility.pixiAtlasSprite("feed_back_bar.png");var t={"Looney Tunes":0,"New Loony Tunes":1,"The Tom and Jerry Show":2,"Be Cool Scooby-Doo":3,Bunnicula:4,"The Happos Family":5,"Dorothy and the Wizard of Oz":6,"Wacky Races":7};this.buttonBack=SportsUI.button("left",function(){Game.webApp.renderer.roundPixels=!1,Game.webApp.swapScreen(Game.StartScreen)},!0),this.buttonNext=SportsUI.button("right",function(){Game.webApp.renderer.roundPixels=!1,Game.webApp.swapScreen(Game.SelectScreen)},!0),this.feedBackText=SportsUI.createDisplayText(COPY_DECK.copy.leader_board_title,{size:25,maxSize:220},!0),this.feedBackText.x=-.5*this.feedBackText.width,this.feedBackBar.y=-165,this.feedBackText.y=-5,this.settingsPanel=new SportsUI.PausePanel(Game.StartScreen,!0),this.buttonSettings=SportsUI.createButtonPause(this.settingsPanel,!0),this.entrys=[],this.entryHolder=new PIXI.Container,this.entryHolder.y=-110;var e,a=0,i=Game.Storage.getItem("boomerang_all_stars_leaderboard_flash");i=null===i?{pos:[-1,-1,-1,-1,-1,-1,-1,-1]}:JSON.parse(i);var s=SS.leaderboard;if(null!==s&&s.length)Game.Storage.setItem("boomerang_all_stars_leaderboard_cache",JSON.stringify(s));else{var o=Game.Storage.getItem("boomerang_all_stars_leaderboard_cache");if(null===o)for(s=[];a<8;++a)s[a]={team_name:SS.teams[a].name,pos:a};else s=o=JSON.parse(o);a=0}for(;a<s.length;++a){var n=s[a].team_name;"Wabbit"==n&&(n="New Loony Tunes");var r=t[n],l=i.pos[r];l=-1!==l&&l?Math.clamp(-1,1,l-a)+1:1,(e=this.createEntry(a,COPY_DECK.copy.team_names[r],l,r)).y=39.2*a,this.entryHolder.addChild(e),i.pos[r]=a,e.scale.x=e.scale.y=.8;var h=CC.Utility.pixiAtlasSprite("team_shield_icon_"+r+".png");h.x=e.x-e.width/2,h.y=e.y,this.entryHolder.addChild(h),COPY_DECK.copy.flip?h.x=145:h.x=-145}Game.Storage.setItem("boomerang_all_stars_leaderboard_flash",JSON.stringify(i)),this.update=function(t){this.buttonBack.x=-.5*(Game.webApp.screenWidth-50)+10,this.buttonBack.y=-.5*(Game.webApp.screenHeight-50)+10,this.buttonNext.x=.5*(Game.webApp.screenWidth-50)-10,this.buttonNext.y=.5*(Game.webApp.screenHeight-50)-10},this.addChild(this.background),this.addChild(this.entryHolder),this.addChild(this.feedBackBar),this.addChild(this.buttonBack),this.feedBackBar.addChild(this.feedBackText),this.addChild(this.buttonSettings),this.addChild(this.settingsPanel)},Game.SkyScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=16711680,Game.sound.stopMusic(),Game.sound.play("game_intro_sting",.3),this.build()},Game.SkyScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.SkyScreen.prototype.constructor=Game.SkyScreen,Game.SkyScreen.prototype.build=function(){SS.getAccessToken();var t=new PIXI.Container,e=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2];this.backgroundFade=CC.Utility.pixiAtlasSprite("ui_background_0.png",{alpha:0}),this.backgroundFade.show=function(){TweenLite.to(this,1,{alpha:1})},this.backgroundFade.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png"));var a=new SportsTutorial.Sky(this);null===Game.Storage.getItem("boomerang_sports_app_tutorial_sky")&&setTimeout(function(){a.show(),Game.Storage.setItem("boomerang_sports_app_tutorial_sky","yes"),clearTimeout(this)},1e3);var i=new SkydiveGame(function(t){h+=t,h=Math.max(0,h),c(0<=t?"+"+t:""+t),r.setValue(h),n.setValue(i.ringsCollected+1+"")},function(t){SS.updateTeamScores(),s.state.setAnimation(0,"game_end"),Game.webApp.juggler.addTimeout(function(){Game.webApp.swapScreen(Game.EndScreen,{icon:"sky",game:i.ringsCollected,gameScreenClass:Game.SkyScreen,score:Math.ceil(h+t)})},2.5)},e),s=new PIXI.spine.Spine(Game.animationList.countdown);s.visible=!1,s.preWait=1.5,s.preWaitOver=!1;var o=!(s.y=20);s.state.onEvent=function(t,e){"sound_beep"===e.stringValue?Game.sound.play("beep"):(o||(Game.sound.playMusic("ring_music_0",.3),setTimeout(function(){Game.sound.play("tag_line_sky")},500),o=!0),Game.sound.play("ball_start_whistle"),r.alpha=!0,n.alpha=!0)};var n=new SportsUI.GamePointsPanel("ui_sky_icon_panels.png"),r=new SportsUI.ScorePanel;r.alpha=!1,n.alpha=!1;var l=new PIXI.Text("Time: 60",{font:"50px Arial",fill:0}),h=l.alpha=0;l.anchor.set(.5);var c=function(t){l.alpha=1,l.y=-250,l.text=t,TweenLite.to(l,.5,{y:-450,alpha:0})};t.addChild(i),t.addChild(r),t.addChild(n),t.addChild(s),t.addChild(a),this.update=function(t){s.preWaitOver||(s.preWait-=t,s.preWait<0&&(s.preWaitOver=!0,s.visible=!0,s.state.setAnimation(0,"countdown"))),i.update(t),n.x=.5*Game.webApp.screenWidth},this.addChild(t),this.pausePanel=new SportsUI.PausePanel(Game.SkyScreen,!1,a),this.buttonPause=SportsUI.createButtonPause(this.pausePanel,!1,a),this.addChild(this.buttonPause),this.addChild(this.pausePanel),this.addChild(this.backgroundFade)},Game.PogoScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=5953535,this.build()},Game.PogoScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.PogoScreen.prototype.constructor=Game.PogoScreen,Game.PogoScreen.prototype.build=function(){SS.getAccessToken(),Game.sound.stopMusic(),Game.sound.play("game_intro_sting",.3),this.backgroundFade=CC.Utility.pixiAtlasSprite("ui_background_0.png",{alpha:0}),this.backgroundFade.show=function(){TweenLite.to(this,1,{alpha:1})},this.backgroundFade.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png"));var t=this,h=new SportsUI.ScorePanel,c=new PIXI.Container,d=new PIXI.Container,e=new PIXI.Container;e.hitArea=new PIXI.Rectangle(-500,-500,1e3,1e3),e.interactive=!0;var y=t.createPogoStick(!0),p=!(y.onPlatform=!0),u=0,m=20,g=[new PIXI.spine.Spine(Game.animationList.distraction_0),new PIXI.spine.Spine(Game.animationList.distraction_1),new PIXI.spine.Spine(Game.animationList.distraction_2)];(window.distractionAnimations=g)[0].x=-500,g[1].x=-500,g[2].x=-500,g[0].y=125,g[1].y=125,g[2].y=125;var b=t.createPogoStick();b.y=-7.5,d.y=20,d.x=-75;var C=SportsUI.button("pause",function(){C.visible=!1});C.y=-150;var x=new PIXI.spine.Spine(Game.animationList.pogo_splash);x.visible=!1;var f=new PIXI.spine.Spine(Game.animationList.platform_stars);f.primedAnimation;function S(){for(var t,e,a,i=null,s=0;s<tt.length;++s)t=(a=tt[s]).x-y.x,(null===i||t<i)&&0<t&&(e=a.x,i=t);return e}for(var _=[640,1600,3200,6400],w=new PIXI.Container,a=0;a<3;++a){var i=250*a+250*Math.sin(2.5*Math.random())*.3,s=-50*Math.random(),o=CC.Utility.pixiAtlasSprite("cloud1.png",{x:i,y:s}),n=CC.Utility.pixiAtlasSprite("cloud1.png",{x:750+i,y:s});w.addChild(o),w.addChild(n)}w.y=-112.5;var G=0,v=new PIXI.spine.Spine(Game.animationList.countdown),r=!1;v.y=5,v.visible=!1,v.preWait=1.5,v.preWaitOver=!1,v.state.onEvent=function(t,e){"sound_beep"===e.stringValue?Game.sound.play("beep"):(r||(Game.sound.playMusic("pogo_music_0",.3),setTimeout(function(){Game.sound.play("tag_line_pogo")},500),r=!0),Game.sound.play("ball_start_whistle"))};var P=-v.preWait,T=new SportsUI.GamePointsPanel("ui_pogo_icon_panels.png"),l=new SportsTutorial.Pogo(this);null===Game.Storage.getItem("boomerang_sports_app_tutorial_pogo")&&setTimeout(function(){l.show(),Game.Storage.setItem("boomerang_sports_app_tutorial_pogo","yes"),clearTimeout(this)},1e3);var I=CC.Utility.pixiAtlasSprite("sea.png"),A=CC.Utility.pixiAtlasSprite("sea.png"),k=CC.Utility.pixiAtlasSprite("pogo_sky_0.png");k.addChild(CC.Utility.pixiAtlasSprite("pogo_sky_1.png")),k.y=-100,I.scale.x=6,I.scale.y=7,I.anchor.y=0,A.scale.x=6;var M=t.createPogoStick();M.y=-30,M.setCharacter(1),M.currentPlatformIndex=1;var L=new PIXI.Graphics,U=t.createBackground();d.addChild(I),d.addChild(k),d.addChild(w),d.addChild(U),U.y=-100;var B,O,R,F,z,D,X,E,j,W,N=new PIXI.Graphics,K=new Physics;N.drawTrajectory=function(t){N.clear(),B=K.projectPeak(t.y),R=K.project(t,B).y,z=Math.sqrt((0-2*(R+y.y))/900)+B,F={x:0,y:0},t.x,(D=[])[0]={x:0,y:0},X=z/3,E=256/t.x/256;for(var e=0;e<$.length;++e){var a=$[e];if(a.x>y.x+64&&a.x<y.x+600)for(var i=0;i<256;++i)j=(a.x-y.x-64)/t.x,W=j+i*E,(s=K.project(t,W)).x+=y.x,s.y+=y.y,s.x-=a.x,s.y-=a.y,s.x*s.x+s.y*s.y<5625&&0<W&&(e=$.length+2,i=258,X=Math.min(W,z)/3)}for(e=1;e<=3;++e){var s=K.project(t,e*X);F.angle=Math.atan2(-(s.y-F.y),s.x-F.x),F.x=s.x,F.y=s.y,D[e]=s}var o=CC.Geometry.vectorLength(D[3]),n={x:D[3].y/o,y:-D[3].x/o},r=CC.Geometry.dotProduct2D(n,D[1]),l=CC.Geometry.dotProduct2D(n,D[2]);D[1].x+=r*n.x*.5,D[1].y+=r*n.y*.5,D[2].x+=l*n.x*.5,D[2].y+=l*n.y*.5;var h=o/400;for(e=0;e<2;++e){var c=1.5*e;e?(N.beginFill(16777215),N.lineStyle(0,8947848)):N.lineStyle(3,8947848);var d=Math.sin(F.angle),p=Math.cos(F.angle),u=Math.sin(F.angle+.5*Math.PI),m=Math.cos(F.angle+.5*Math.PI);N.moveTo(0,0),N.bezierCurveTo(D[1].x,D[1].y+2*h-c,D[2].x,D[2].y+2*h-c,D[3].x+16*h*d,D[3].y+16*h*p),N.lineTo(D[3].x+32*h*d,D[3].y+32*h*p-c),N.lineTo(D[3].x+40*h*u,D[3].y+40*h*m-c),N.lineTo(D[3].x+32*h*-d,D[3].y+32*h*-p-c),N.lineTo(D[3].x+16*h*-d,D[3].y+16*h*-p-c),N.bezierCurveTo(D[2].x,D[2].y-2*h-c,D[1].x,D[1].y-2*h-c,D[0].x,D[0].y-1-c)}return F},L.beginFill(16711680,.5),L.drawRect(-128,-1e3,256,1015),y.mask=L;var H=0,Y=!1,V=new PIXI.Graphics,q=new PIXI.Graphics,J=CC.Utility.pixiAtlasSprite("pogo_water_fade.png",{anchor:"t"});J.scale.x=20,J.scale.y=2,J.y=20;var Z=0,Q=1;I.y=-75,A.y=50,q.beginFill(16711680),q.drawRect(0,0,50,5),V.beginFill(14540253),V.drawRect(-2,-2,204,24),y.y=-300,y.velocity={x:0,y:0},y.target=-1;var $=[],tt=[],et=0,at=0,it=[],st=0,ot=0,nt=0;for(a=0;a<20;++a){if(!(nt%10)){var rt=t.createPlatform();rt.index=tt.push(rt)-1,d.addChild(rt)}else{var lt=t.createBeachBall();lt.maskA=CC.Utility.pixiAtlasSprite("ball_mask_2.png",{anchor:"tl",x:-64}),lt.maskB=CC.Utility.pixiAtlasSprite("ball_mask_2.png",{anchor:"tr",x:64});var ht=new PIXI.Container,ct=CC.Utility.pixiAtlasSprite("ball_mask.png",{anchor:"t"});ct.scale.x=1.1,ct.scale.y=1.1,ht.beachMask=ct;var dt=new PIXI.spine.Spine(Game.animationList.ripple);dt.state.setAnimation(0,"ripple",!0),dt.update(Math.random()),ct.addChild(dt),ht.addChild(lt.maskA),ht.addChild(lt.maskB),ht.addChild(ct),$.push(lt),it.push(ht),d.addChild(lt),d.addChild(ht)}nt++}function pt(){if(!(nt%10)){tt[at].x=st,at=(at+1)%tt.length}else{var t=$[et],e=it[et];t.x=st,t.y=(Math.random()-.5)*(-50*ot-25),e.x=t.x,et=(et+1)%$.length}st+=2*(87.5+150*Math.random()*ot),nt++,ot+=.01}for(a=nt=0;a<20;++a)pt();M.x=tt[1].x+25,b.x=-500,d.addChild(J),d.addChild(N),d.addChild(L),d.addChild(M),d.addChild(b),d.addChild(y),d.addChild(x),d.addChild(g[0]),d.addChild(g[1]),d.addChild(g[2]),d.addChild(f),d.addChild(U.frontBuoys),d.addChild(U.frontBuoys),e.mousedown=e.touchstart=function(){(-1!==y.target||y.onPlatform||O<0)&&!Y&&3<P&&(Y=!0,H=0)},e.mouseup=e.touchend=function(){!function(){if(N.clear(),H&&(-1!==y.target||y.onPlatform)&&3<P){$[y.target];y.target=-1,y.onPlatform=!1,y.velocity.x=125*H+50,y.velocity.y=-(500*H+50),Game.sound.play("pogo_launch"),Game.sound.play("ball_launch"),y.jumpState(),H=0,O=K.projectPeak(y.velocity.y)}H=0,Y=!1}()},q.x=-50,q.y=-50,V.x=-50,V.y=-50,c.addChild(d),c.addChild(e),c.addChild(T),c.addChild(h),c.addChild(l),c.addChild(this.backgroundFade);this.update=function(t){if(t=Math.min(t,.06),v.preWaitOver||(v.preWait-=t,v.preWait<0&&(v.preWaitOver=!0,v.visible=!0,v.state.setAnimation(0,"countdown"))),0<m&&!p&&(m-=t)<=0){m=4+6*Math.random();var e=g[u];if(e.x=y.x+75*Math.random()+50,e.y=25*Math.random()+37.5,e.state.clearTrack(0),e.skeleton.setToSetupPose(),e.state.setAnimation(0,"animation"),Game.sound.play("pogo_water_hit_1"),0===(u=(u+1)%g.length))for(var a=0;a<3;++a)g.push(g.splice(g.length-(a+1),1)[0])}T.visible=!0;var i="ru-ru"===COPY_DECK.currentLanguage?"M":"m";T.setValue(Math.floor(y.x/64)+i),h.setValue(4*Math.floor(y.x/64)),P+=t,0<O&&(O-=t),C.x=.5*CC.WebApp.current.screenWidth-50,w.x=.7*-d.x,w.x+=750*Math.floor(w.x*(1/.7-1)/750),L.x=y.x,J.x=-d.x,Y&&(H+=.45*t,H=Math.min(H,1),N.x=y.x,N.y=y.y,N.drawTrajectory({x:256*H+100,y:-(1e3*H+100)}),.8<H&&(H=0,Y=!1,N.clear()));for(a=0;a<_.length;++a){var s=_[a];y.oldX&&s>y.oldX&&s<=y.x&&(f.x=S(),f.primedAnimation="stars_"+(a+2),f.state.setAnimation(0,"stars_0"))}y.oldX&&f.x-400>y.oldX&&f.x-100<y.x&&(f.state.setAnimation(0,f.primedAnimation),Game.sound.play("ball_star_0")),y.oldX=y.x;for(a=0;a<$.length;++a){(n=$[a]).ballObject.y*=.9}if(q.scale.x=H,-1!==y.target){y.jumpChecker(t),7500<y.x&&(Z-=.5*t),(n=$[y.target]).ball.rotation+=.5*t,n.ballObject.y=10*Math.abs(Math.sin(5*y.timer));var o=CC.Geometry.vectorDistance(n,y);y.x=Math.lerp(y.x,n.x-Math.sin(Z)*n.radius,.1),y.y=Math.lerp(y.y,n.y-Math.cos(Z)*n.radius,.1),y.x=n.x+(y.x-n.x)/o*n.radius,y.y=n.y+(y.y-n.y)/o*n.radius,y.velocity.x=0,y.velocity.y=0,y.y>n.y-.5*n.radius&&(y.target=-1,H=0,y.velocity.x=50*Q,y.velocity.y=-50)}else y.onPlatform?(y.jumpChecker(t),y.velocity.x=0,y.velocity.y=0,y.y=-30):(y.velocity.y+=225*t*1.5,y.x+=y.velocity.x*t*1.5,y.y+=y.velocity.y*t*1.5,y.stick.y=0,y.timer=0);M.jumpChecker(t),b.jumpChecker(t),y.onPlatform?(d.x=Math.lerp(d.x,-y.x-75,.01),d.y=Math.lerp(d.y,50-y.y,.01)):(d.x=Math.lerp(d.x,-y.x-75,.1),d.y=Math.lerp(d.y,50-y.y,.1)),d.x=Math.round(d.x),d.y=Math.round(d.y),d.y=Math.max(d.y,50),U.update(d),I.x=y.x+50,A.x=I.x,k.x=-d.x,!p&&25<y.y&&(y.velocity.x=0,y.velocity.y=0,y.target=-1,p=!(Y=!1),x.visible=!0,y.visible=!1,x.x=y.x,x.y=12,x.state.setAnimation(0,"splash_0"),SS.updateTeamScores(),Game.sound.play("pogo_splash"),Game.webApp.juggler.addTimeout(function(){v.state.setAnimation(0,"game_end")},.3),Game.webApp.juggler.addTimeout(function(){Game.webApp.swapScreen(Game.EndScreen,{icon:"pogo",game:Math.floor(y.x/64),gameScreenClass:Game.PogoScreen,score:4*Math.floor(y.x/64)})},1.5));for(a=0;a<$.length;++a){var n=$[a],r=it[a];if(r.beachMask.scale.x=2*-Math.cos(Math.cos((n.y+n.ballObject.y)/256)*Math.PI),n.maskA.scale.x=.5*(0<n.y+n.ballObject.y?1-r.beachMask.scale.x/2:0),r.beachMask.scale.y=r.beachMask.scale.x,n.maskB.scale.x=n.maskA.scale.x,-1===y.target)CC.Geometry.vectorDistanceSquared(n,y)<n.radius*n.radius&&(y.target=a,Game.sound.play("pogo_bounce_1"),y.jumpChecker(100),Q=n.x>y.x?-1:1,Z=0,y.y>n.y-.75*n.radius&&(y.target=-1,y.velocity.x=50*Q,y.velocity.y=-25));n.x<y.x-512&&pt()}for(a=0;a<tt.length;++a){var l=tt[a];y.onPlatform||Math.abs(l.x-y.x)<90&&-7<y.y&&(y.onPlatform=!0,Game.sound.play("ring_contact"),Game.sound.play("crowd_score"+Math.floor(3*Math.random()+1)),a===M.currentPlatformIndex&&(b.x=y.x,b.setCharacter(G),M.setCharacter(G),G=1-G,y.setCharacter(G),b.x=y.x,b.y=y.y,TweenLite.to(b.position,2,{x:M.x-70,y:M.y}),y.x=M.x,y.y=M.y,b.timer=y.timer,y.timer=M.timer,y.jumpChecker(0),b.jumpChecker(0),M.currentPlatformIndex=(M.currentPlatformIndex+1)%tt.length,M.x=tt[M.currentPlatformIndex].x+25)),l.x<y.x-500&&pt()}y.x>tt[M.currentPlatformIndex].x+200&&(M.currentPlatformIndex=(M.currentPlatformIndex+1)%tt.length,M.x=tt[M.currentPlatformIndex].x+25),c.addChild(v),y.rotation=Math.lerp(y.rotation,y.velocity.x*Math.max(-y.velocity.y,0)*7e-6,.03),ut&&(ut=!1,window.boom_help_shown_already_pogo=!0,T.visible=!1,C.visible=!1)};var ut=void 0===window.boom_help_shown_already_pogo;this.addChild(c),this.pausePanel=new SportsUI.PausePanel(Game.PogoScreen,!1,l),this.buttonPause=SportsUI.createButtonPause(this.pausePanel,!1,l),this.addChild(this.buttonPause),this.addChild(this.pausePanel)},Game.PogoScreen.prototype.createBeachBall=function(t){var e=new PIXI.Container,a=new PIXI.Container,i=CC.Utility.pixiAtlasSprite("beachball_"+Math.floor(5*Math.random())+".png"),s=CC.Utility.pixiAtlasSprite("beach_ball_ring.png");return e.radius=64,i.rotation=Math.random()*Math.PI*2,e.func=t,e.ballObject=a,e.ball=i,s.alpha=.5,a.addChild(i),a.addChild(s),e.addChild(a),e},Game.PogoScreen.prototype.createPlatform=function(t){var e=CC.Utility.pixiAtlasSprite("pogo_platform.png");return e.func=t,e.y=-20,e},Game.PogoScreen.prototype.createCrowdAnim=function(t,e,a,i,s){var o=CC.Utility.pixiAtlasMovieClip(["bg_crowd"+t+"0001.png","bg_crowd"+t+"0002.png","bg_crowd"+t+"0003.png","bg_crowd"+t+"0004.png","bg_crowd"+t+"0005.png","bg_crowd"+t+"0006.png","bg_crowd"+t+"0007.png","bg_crowd"+t+"0008.png","bg_crowd"+t+"0009.png"],{anchor:"b"});return o.animationSpeed=25/60,o.x=e,o.y=a,o.scale.x=i,o.scale.y=s,o.gotoAndPlay(Math.floor(10*Math.random())),o},Game.PogoScreen.prototype.createPogoStick=function(t){var e=new PIXI.Container,a=new PIXI.Container,i=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2],s=[new PIXI.spine.Spine(Game.animationList["pogo_character_"+2*i]),new PIXI.spine.Spine(Game.animationList["pogo_character_"+(2*i+1)])];return i+""=="4"&&(s[0].cloud=new PIXI.spine.Spine(Game.animationList.cloud),s[0].cloud.state.setAnimation(0,"idle",!0),s[0].cloud.x=-30,s[0].cloud.y=-150,s[0].addChild(s[0].cloud)),s[0].update(1),s[1].update(1),s[0].state.setAnimation(1,"blink",!0),s[1].state.setAnimation(1,"blink",!0),s[0].stateData.setMix("land","idle",1),s[1].stateData.setMix("land","idle",1),s[0].stateData.setMix("idle","land",1),s[1].stateData.setMix("idle","land",1),a.addChild(s[0]),a.addChild(s[1]),s[1].visible=!1,e.addChild(a),e.stick=a,t&&(s[0].state.onEvent=function(t,e){s[0].visible&&Game.sound.play("pogo_bounce_2")},s[1].state.onEvent=function(t,e){s[1].visible&&Game.sound.play("pogo_bounce_2")}),e.setCharacter=function(t){s[0].visible=!t,s[1].visible=!!t},e.timer=0,e.jumpChecker=function(t){e.stick.y=-.5*Math.abs(Math.sin(5*e.timer))*70,e.timer+=t,.62<e.timer&&(e.timer=0,s[0].state.setAnimation(0,"land"),s[1].state.setAnimation(0,"land"))},e.jumpState=function(){s[0].state.clearTrack(0),s[1].state.clearTrack(0),s[0].skeleton.setToSetupPose(),s[1].skeleton.setToSetupPose(),s[0].state.setAnimation(0,"idle",!0),s[1].state.setAnimation(0,"idle",!0)},e},Game.PogoScreen.prototype.createBackground=function(){var t=new PIXI.Container,o=[],n=[],r=[],l=CC.Utility.pixiAtlasSprite("pogo_paralax_stadium_0.png");l.addChild(CC.Utility.pixiAtlasSprite("pogo_paralax_stadium_1.png"));var h=335,c=CC.Utility.pixiAtlasSprite("pogo_floats_0.png");c.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_1.png")),c.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_0.png",{x:h})),c.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_1.png",{x:h})),c.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_0.png",{x:-670})),c.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_1.png",{x:-670})),c.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_0.png",{x:-h})),c.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_1.png",{x:-h})),t.frontBuoys=CC.Utility.pixiAtlasSprite("pogo_floats_0.png"),t.frontBuoys.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_1.png")),t.frontBuoys.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_0.png",{x:h})),t.frontBuoys.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_1.png",{x:h})),t.frontBuoys.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_0.png",{x:-670})),t.frontBuoys.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_1.png",{x:-670})),t.frontBuoys.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_0.png",{x:-h})),t.frontBuoys.addChild(CC.Utility.pixiAtlasSprite("pogo_floats_1.png",{x:-h})),t.addChild(l),c.y=50,t.frontBuoys.y=60;t.frontBuoys.scale.set(1.5);for(var e=0;e<8;++e){var a=CC.Utility.intToString(e+1,2);(i=CC.Utility.pixiAtlasSprite("pogo_paralax_hill_b_"+a+".png")).x=170*e,i.index=e,r.push(i),t.addChild(i)}for(e=0;e<8;++e){a=CC.Utility.intToString(e+1,2);(i=CC.Utility.pixiAtlasSprite("pogo_paralax_hill_a_"+a+".png")).x=170*e,i.index=e,n.push(i),t.addChild(i)}for(e=0;e<16;++e){var i;a=CC.Utility.intToString(e+1,2);(i=CC.Utility.pixiAtlasSprite("pogo_paralax_beach_"+a+".png")).x=170*e,i.index=e,o.push(i),t.addChild(i)}t.addChild(c);var d=170*o.length,p=.5*d,u=.25*d;return t.update=function(t,e){l.x=-t.x+500*Math.sin(1e-4*t.x)*.25,c.x=Math.floor(t.x/h)*-h+Math.modo(.2*-t.x,h),this.frontBuoys.x=-502.5*Math.floor(t.x/502.5)+Math.modo(-.2*-t.x,502.5);for(var a=0;a<o.length;++a){var i=o[a];i.x=Math.modo(170*a+(.5*t.x+p),d)-t.x-p,i.x=Math.floor(i.x);for(var s=0;s<i.children.length;++s)i.children[s].update&&i.children[s].update(e||.016,s);a<8&&(n[a].x=Math.modo(170*a+(.25*t.x+u),p)-t.x-u,r[a].x=Math.modo(170*a+(.125*t.x+u),p)-t.x-u,n[a].x=Math.floor(n[a].x),r[a].x=Math.floor(r[a].x))}},t},Game.BallScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=16711680,this.build()},Game.BallScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.BallScreen.prototype.constructor=Game.BallScreen,Game.BallScreen.prototype.build=function(){SS.getAccessToken(),Game.sound.stopMusic(),Game.sound.play("game_intro_sting",.3);var t=new PIXI.Container,e=new PIXI.Container,a=new PIXI.Container,i=0,s=new SportsTutorial.Ball(this);null===Game.Storage.getItem("boomerang_sports_app_tutorial_ball")&&setTimeout(function(){s.show(),Game.Storage.setItem("boomerang_sports_app_tutorial_ball","yes"),clearTimeout(this)},1e3);var o=CC.isMobile?1.5:1;this.backgroundFade=CC.Utility.pixiAtlasSprite("ui_background_0.png",{alpha:0}),this.backgroundFade.show=function(){TweenLite.to(this,1,{alpha:1})},this.backgroundFade.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png"));var n=CC.Utility.pixiAtlasSprite("basketzorb_bg1.png");n.addChild(CC.Utility.pixiAtlasSprite("basketzorb_bg2.png"));var r=CC.Utility.pixiAtlasSprite("basketzorb_mg1.png");r.addChild(CC.Utility.pixiAtlasSprite("basketzorb_mg2.png"));var l=63,h=63,c=new PIXI.spine.Spine(Game.animationList.basketzorb_crowd),d=new PIXI.spine.Spine(Game.animationList.basketzorb_crowd);c.y=d.y=180,d.scale.x=-1,(window.crowdA=c).state.setAnimation(0,"idle1",!0),d.state.setAnimation(0,"idle2",!0),c.stateData.setMix("idle1","react1",.3),d.stateData.setMix("idle2","react2",.3),c.stateData.setMix("react1","idle1",.3),d.stateData.setMix("react2","idle2",.3);var p=0,u=Math.round(42),m=CC.Utility.pixiAtlasSprite("time_panel.png",{anchor:"bl"}),y=new PIXI.extras.BitmapText("0",{font:u+"px zorb_ball_font_outline",align:"center"}),g=new PIXI.extras.BitmapText("10:15",{font:u+"px zorb_ball_font",align:"center"}),b=new SportsUI.ScorePanel,C=new SportsUI.GamePointsPanel("ui_ball_icon_panels.png");m.addChild(y),m.addChild(g),y.x=g.x=50,y.y=g.y=-40,m.x=-160,m.y=192;var x=CC.Utility.pixiAtlasSprite("tutorial_zorb.png",{scale:2}),f=new PIXI.spine.Spine(Game.animationList.countdown);x.x=172.5,x.y=-32.5,f.y=5;var S=!0;f.state.onEvent=function(t,e){"sound_beep"===e.stringValue?Game.sound.play("beep"):(S&&(S=!1,Game.sound.playMusic("ball_music_0",.3),setTimeout(function(){Game.sound.play("tag_line_ball")},500)),Game.sound.play("ball_start_whistle"))},f.visible=!1,f.preWait=1.5,f.preWaitOver=!1;var _=CC.Utility.pixiAtlasSprite("tutorial_zorb.png"),w=new PIXI.Graphics;t.hitArea=new PIXI.Rectangle(-500,-500,1e3,1e3),t.interactive=!0,t.mouseup=t.touchend=function(){};var G=CC.Utility.pixiAtlasSprite("basket_back.png"),v=new PIXI.spine.Spine(Game.animationList.basket),P=new PIXI.spine.Spine(Game.animationList.starburst),T=new PIXI.spine.Spine(Game.animationList.ref_zorb),I=CC.Utility.pixiAtlasSprite("hoop_glow.png");T.x=-112,T.y=-50,T.scale.x=-1,T.scale.y=.2,T.state.setAnimation(0,"idle",!0),T.update(0),G.x=181.25,G.y=-32.5,I.x=x.x,I.y=x.y,I.alpha=0,v.x=G.x-9,v.y=G.y+5.5,v.update(10),P.x=G.x+4.5,P.y=G.y+2.75,P.y+=25,P.scale.x=P.scale.y=.9,P.visible=!1,w.visible=!1;for(var A=[],k=0,M=new Physics,L=0;L<2;++L){var U=new PIXI.Container;U.wave=CC.Utility.pixiAtlasSprite("zorb_back.png",{alpha:0});var B=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2];U.character=new PIXI.spine.Spine(Game.animationList["zorb_character_"+(2*B+L)]),2*B+L===8&&(U.cloud=new PIXI.spine.Spine(Game.animationList.cloud),U.cloud.state.setAnimation(0,"idle",!0),U.cloud.y=-40,U.cloud.scale.set(.7),U.addChild(U.cloud)),U.character.state.setAnimation(0,"idle",!0),U.highlight=CC.Utility.pixiAtlasSprite("zorb_front.png"),U.addChild(U.wave),U.addChild(U.character),U.hitArea=new PIXI.Circle(0,0,23.5),U.radius=23.5,U.index=L,U.x=75,U.enabled=!1,U.visible=!1,U.interactive=!0,U.buttonMode=!0,U.prevY=0,U.rimHits=5,U.shadow=new PIXI.Graphics,e.addChild(U.shadow),U.shadow.beginFill(0),U.shadow.x=0,U.shadow.y=110,U.shadow.visible=!1,U.shadow.drawCircle(0,0,16),U.shadow.scale.y=.3;U.onInput=function(t){if(!this.grabbed&&!this.enabled){w.x=this.x,w.y=this.y;t.data.getLocalPosition(this);this.grabbed=!0,w.visible=!0,w.clear()}},U.moveInput=function(t){if(this.grabbed){var e=t.data.getLocalPosition(this);if(0<e.y&&e.x<-5)(function(t){w.clear();var e=M.projectPeak(t.y);e+=.2;var a={x:0,y:0},i=(t.x,[]);i[0]={x:0,y:0};for(var s=1;s<=3;++s){var o=e/3,n=M.project(t,s*o);a.angle=Math.atan2(n.y-a.y,n.x-a.x)+.5*Math.PI,a.x=n.x,a.y=n.y,i[s]=n}var r=CC.Geometry.vectorLength(i[3]),l={x:i[3].y/r,y:-i[3].x/r},h=CC.Geometry.dotProduct2D(l,i[1]),c=CC.Geometry.dotProduct2D(l,i[2]);i[1].x+=h*l.x*.5,i[1].y+=h*l.y*.5,i[2].x+=c*l.x*.5,i[2].y+=c*l.y*.5;var d=r/100;for(s=0;s<2;++s){var p=1*s;s?(w.beginFill(16777215),w.lineStyle(0,8947848)):w.lineStyle(3,8947848);var u=Math.sin(-.4),m=Math.cos(-.4),y=Math.sin(.5*Math.PI-.4),g=Math.cos(.5*Math.PI-.4);w.moveTo(0,0),w.bezierCurveTo(i[1].x,i[1].y+2*d-p,i[2].x,i[2].y+2*d-p,i[3].x+4*d*u,i[3].y+4*d*m),w.lineTo(i[3].x+8*d*u,i[3].y+8*d*m-p),w.lineTo(i[3].x+10*d*y,i[3].y+10*d*g-p),w.lineTo(i[3].x+8*d*-u,i[3].y+8*d*-m-p),w.lineTo(i[3].x+4*d*-u,i[3].y+4*d*-m-p),w.bezierCurveTo(i[2].x,i[2].y-2*d-p,i[1].x,i[1].y-2*d-p,i[0].x,i[0].y-1-p)}})({x:4*-e.x*o,y:4*-e.y*o});else w.clear();Math.sqrt(e.x*e.x+e.y*e.y);w.visible=!0}},U.reset=function(){this.floorHits=0,this.alpha=1,this.visible=!0,this.shadow.visible=!0,this.enabled=!1;var t=1-l/60*.9;this.x=25*Math.sin(Math.random()*Math.PI*2)*t-100,this.y=-75*Math.sin(Math.random()*Math.PI*2)*t,this.scale.x=this.scale.y=.5,this.velocity.x=this.velocity.y=0,this.rimHits=5,Game.sound.play("ball_spawnned_0");var e=A[1-this.index];if(!e.enabled&&CC.Geometry.vectorDistance(e.position,this.position)<24){var a=Math.random()*Math.PI*2;this.x=e.x+Math.sin(a)*this.radius*2.2,this.y=e.y+Math.cos(a)*this.radius*2.2}this.character.skeleton.setToSetupPose(),this.character.state.setAnimation(0,"idle",!0),this.character.rotation=0,TweenLite.to(this.scale,.5,{x:1,y:1,ease:Back.easeOut}),this.wave.alpha=1,this.wave.scale.x=1,this.wave.scale.y=1,TweenLite.to(this.wave.scale,.7,{x:8,y:8}),TweenLite.to(this.wave,.7,{alpha:0})},U.offInput=function(t){if(E)this.justOff(event);else{var e=t.data.getLocalPosition(this);this.grabbed&&(this.grabbed=!1,this.enabled=!0,w.visible=!1,this.velocity.x=4*-e.x*o,this.velocity.y=4*-e.y*o,k=(k+1)%2,Game.sound.play("ball_launch"),this.character.state.setAnimation(0,"release",!0),A[k].visible||A[k].reset())}},U.justOff=function(t){t.data.getLocalPosition(this);this.grabbed&&(this.grabbed=!1,_.visible=!1)},U.floorHits=0,U.touchstart=U.mousedown=U.onInput,U.touchmove=U.mousemove=U.moveInput,U.touchendoutside=U.mouseupoutside=U.offInput,U.touchend=U.mouseup=U.justOff,A.push(U),a.addChild(U),M.addDynamicCircle(A[L])}M.addRect(new PIXI.Rectangle(-500,125,1e3,100)).func=function(t){Game.sound.play("ball_bounce"),t.floorHits++,1<t.floorHits&&(t.reset(),i=0)};var O=M.addRect(new PIXI.Rectangle(225,-150,50,150)),R=M.addCircle({x:125,y:-32.5,radius:16}),F=0,z=0;O.func=function(t){t.rimHits--,t.rimHits--,.05<z?(F=z=0,Game.sound.play("ball_rim_bounce")):2<++F&&t.reset()},R.func=function(t){t.rimHits--,t.rimHits--,Game.sound.play("ball_rim_bounce")},x.visible=!1,t.addChild(n),t.addChild(T),t.addChild(r),t.addChild(G),t.addChild(e),t.addChild(w),t.addChild(a),t.addChild(x),t.addChild(P),t.addChild(v),t.addChild(I),t.addChild(c),t.addChild(d),t.addChild(C),t.addChild(b),t.addChild(m),t.addChild(f),t.addChild(s),t.addChild(this.backgroundFade);var D,X,E=!1,j=(window.boom_help_shown_already_ball,!0);this.update=function(t){t=Math.min(t,.06),z+=t,f.preWaitOver||(f.preWait-=t,f.preWait<0&&(f.preWaitOver=!0,f.visible=!0,f.state.setAnimation(0,"countdown"))),c.x=-.5*CC.WebApp.current.screenWidth,d.x=.5*CC.WebApp.current.screenWidth,m.x=-.5*CC.WebApp.current.screenWidth,f.preWaitOver&&(l=Math.max(0,l-t)),j&&l<60&&(j=!1,TweenLite.to(T,.3,{delay:1,ease:Back.easeOut,y:-62.5}),TweenLite.to(T.scale,.3,{delay:1,ease:Back.easeOut,y:1}),A[0].reset()),!E&&l<=0&&(E=!0,SS.updateTeamScores(),Game.sound.play("crowd_start"),TweenLite.to(T,.3,{ease:Back.easeIn,y:-50}),TweenLite.to(T.scale,.3,{ease:Back.easeIn,y:.2}),Game.webApp.juggler.addTimeout(function(){f.state.setAnimation(0,"game_end")},.3),Game.webApp.juggler.addTimeout(function(){Game.webApp.swapScreen(Game.EndScreen,{icon:"ball",game:p,gameScreenClass:Game.BallScreen,score:12*p})},1.3)),D=Math.floor(l),X=CC.Utility.intToString(Math.min(D,60),2),y.text!==X&&(y.text=X,g.text=y.text),l<11&&Math.floor(l)!==Math.floor(h)&&Game.sound.play("beep"),M.update(t);for(var e=0;e<2;++e){var a=A[e];a.shadow.x=a.x,a.enabled?a.character.rotation+=5e-4*a.velocity.x*.5:a.character.rotation=0,a.highlight.rotation=.001*a.x*.5,a.shadow.scale.x=1-Math.abs(a.y-a.shadow.y)/100,a.shadow.scale.y=.3*a.shadow.scale.x,a.shadow.alpha=a.shadow.scale.y,a.shadow.visible=a.visible,Math.abs(x.x-a.x)<30&&a.prevY<=x.y&&a.y>x.y&&(TweenLite.to(a,.6,{alpha:0,scope:a,onComplete:function(){this.vars.scope.reset()}}),v.state.setAnimation(0,"score"),P.visible=!0,P.state.setAnimation(0,"burst_"+(1+i)),Game.sound.play("ball_star_0"),p++,C.setValue(CC.Utility.intToString(p,2)),b.setValue(12*p),i=Math.min(i+1,4),c.state.setAnimation(0,"react1",!0),d.state.setAnimation(0,"react2",!0),Game.sound.play("crowd_score"+Math.floor(3*Math.random()+1)),setTimeout(function(){c.state.setAnimation(0,"idle1",!0),d.state.setAnimation(0,"idle2",!0)},2e3),I.alpha=1,T.state.setAnimation(1,"score"),I.scale.x=I.scale.y=1,TweenLite.to(a.position,.3,{x:x.x}),TweenLite.to(a.velocity,.3,{x:0}),TweenLite.to(I,.5,{alpha:0}),TweenLite.to(I.scale,.5,{x:2,y:2}),TweenLite.to(a.scale,.5,{x:0,y:0,ease:Back.easeIn})),a.prevY=a.y,350<Math.abs(a.x)&&(a.reset(),i=0)}h=l},this.addChild(t),this.pausePanel=new SportsUI.PausePanel(Game.BallScreen,!1,s),this.buttonPause=SportsUI.createButtonPause(this.pausePanel,!1,s),this.addChild(this.buttonPause),this.addChild(this.pausePanel)},Game.RingScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=15658751,this.build()},Game.RingScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.RingScreen.prototype.constructor=Game.RingScreen,Game.RingScreen.prototype.createRaceProgressIndicator=function(){var t=new PIXI.Container,e=(SS.selectedTeam?SS.selectedTeam.id:URLQuery[2],CC.Utility.pixiAtlasSprite("ring_marker.png"));e.y=3;var a=CC.Utility.pixiAtlasSprite("ring_distance_tracker.png");return t.addChild(a),t.addChild(e),t.setDistance=function(t){e.x=Math.lerp(-116.75,186.75,t)},t.setDistance(0),t},Game.RingScreen.prototype.build=function(){SS.getAccessToken(),Game.sound.stopMusic(),Game.sound.play("game_intro_sting",.3),Game.sound.play("crowd_start");function a(){!It.playerFlying&&x<0&&!K&&(CC.isUsingWebAudio&&Game.sound.play("ring_drag"),x=1)}var x=0,t=new SportsTutorial.Ring(this);null===Game.Storage.getItem("boomerang_sports_app_tutorial_ring")&&setTimeout(function(){t.show(),Game.Storage.setItem("boomerang_sports_app_tutorial_ring","yes"),clearTimeout(this)},1e3);var e=new PIXI.Graphics;e.beginFill(16711680),e.drawRect(0,0,100,20),e.beginFill(255),e.drawRect(100,0,100,20),e.beginFill(65280),e.drawRect(200,0,100,20);var f=new PIXI.Graphics;f.beginFill(16776960),f.drawRect(0,0,1,20),e.addChild(f),e.x=-400,e.y=-250;var S=0,_=0,i=CC.Utility.pixiAtlasSprite("button_left.png",{x:-65}),s=CC.Utility.pixiAtlasSprite("button_right.png",{x:65});Game.webApp.juggler.addObject(i,1),i.update=function(){s.x=.5*CC.WebApp.current.screenWidth-37.5,i.x=-.5*CC.WebApp.current.screenWidth+37.5};for(var o=new PIXI.Container,w={x:0,y:-2.5,z:0},G={x:0,y:20,z:0},v={x:0,y:0,z:0},d=[[],[[1,10,"obst"]],[[0,10,"ramp"],[2,10,"coll"]],[[0,10,"ramp"],[1,10,"ramp"],[2,10,"ramp"]],[[0,10,"obst"],[2,10,"ramp"]],[[0,10,"ramp"],[2,10,"ramp"],[0,15,"coll"],[2,15,"obst"]],[[0,10,"ramp"],[1,18,"obst"],[2,10,"ramp"]],[[0,10,"obst"],[1,12,"ramp"],[1,19,"coll"],[2,10,"obst"]],[[0,2,"ramp"],[2,7,"obst"],[2,12,"coll"],[0,15,"obst"]],[[1,3,"ramp"],[0,10,"obst"],[1,10,"coll"],[2,10,"obst"],[1,15,"ramp"]],[[1,19,"win"]],[[1,3,"ramp"],[0,10,"obst"],[0,15,"para"],[2,10,"obst"],[2,15,"ramp"]]],p=[[0],[3],[2],[1],[3],[4],[11],[2],[3],[5],[6],[4],[3],[7],[5],[4],[11],[8],[7],[6],[3],[5],[9],[10],[0],[0],[0],[0],[0]],u=0,P=0,T=0,I=0,A=new PIXI.Container,k=new PIXI.Container,n=new PIXI.Container,M=[],r=[],L=!1,U=!1,B=!1,O=!1,R=!1,F=!1,l=!1,z=new PIXI.Graphics,h=new PIXI.Graphics,D=new PIXI.Container,c=0;c<5;++c){var m="cloud"+Math.round(Math.random())+"_big.png",y=100*Math.sin(10*Math.random()),g=25*Math.sin(10*Math.random());D.addChild(CC.Utility.pixiAtlasSprite(m,{x:500*(-5+c)+y,y:g-100})),D.addChild(CC.Utility.pixiAtlasSprite(m,{x:2e3*c+y,y:g-100})),D.addChild(CC.Utility.pixiAtlasSprite(m,{x:500*(5+c)+y,y:g-100})),D.addChild(CC.Utility.pixiAtlasSprite("ring_island_"+c+".png",{x:500*(-5+c),anchor:"b"})),D.addChild(CC.Utility.pixiAtlasSprite("ring_island_"+c+".png",{x:500*c,anchor:"b"})),D.addChild(CC.Utility.pixiAtlasSprite("ring_island_"+c+".png",{x:500*(5+c),anchor:"b"}))}var X=[],E={focus:1e3,focusTarget:1e3};for(c=0;c<10;++c){var b=CC.Utility.pixiTilingSprite("ring_waves.png",700,23.75);b.anchor.y=0,b.tilePosition.x=350,b.offsetYaw=Math.random()*Math.PI*500,n.addChild(b),X.push(b)}function j(){V=W+(Math.random()-.5)*Y,dt<0&&Y<2&&(Y+=.3);for(var t=0;t<20;++t){var e=Math.lerp(W,V,t/20),a={x:Z[Z.length-1].x,z:Z[Z.length-1].z};1<++$&&(st(a.x+50*Math.sin(e+.5*Math.PI)*.5,a.z+50*Math.cos(e+.5*Math.PI)*.5),st(a.x+-50*Math.sin(e+.5*Math.PI)*.5,a.z+-50*Math.cos(e+.5*Math.PI)*.5),$=0),a.x+=50*Math.sin(e),a.z+=50*Math.cos(e),a.theta=e,a.angle=e-tt,Z.push(a),tt=e}W=V;var i=n,s=p[u],o=Math.floor(s.length*Math.random()),n=d[s[o]];i===n&&(n=d[s[(o+1)%s.length]]),u=(u+1)%p.length;var r=(a=Z[Z.length-2]).theta+.5*Math.PI,l=a.x+50*Math.sin(r)*-.9,h=a.z+50*Math.cos(r)*-.9;for(t=0;t<n.length;++t){var c=n[t];switch(r=(a=Z[Z.length-21+c[1]]).theta+.5*Math.PI,lane=c[0]-1,l=a.x+50*Math.sin(r)*lane*.3,h=a.z+50*Math.cos(r)*lane*.3,c[2]){case"ramp":et(l,h,-a.theta);break;case"obst":it(l,h);break;case"coll":at(l,h,1);break;case"para":at(l,h,0);break;case"win":vt(l,h,r)}}}var C=CC.Utility.pixiAtlasSprite("ring_background.png",{scale:{x:100,y:2.4}}),W=0,N=0,K=!1,H=!1,Y=1,V=0,q=0,J=0,Z=[{x:0,y:0,z:0}],Q=0,$=0,tt=0,et=function(t,e,a){var i=Ct[xt];i.unJumped=!0,i.pos.x=t,i.pos.z=e,i.rot=a,xt=(xt+1)%Ct.length},at=function(t,e,a){ut[gt].pos.x=t,ut[gt].pos.y=25,ut[gt].pos.z=e,ut[gt].type=a,ut[gt].collected=!1,ut[gt].scalar=1,ut[gt].gotoAndStop(!!a),gt=(gt+1)%ut.length},it=function(t,e){yt[bt].pos.x=t,yt[bt].pos.y=27,yt[bt].pos.z=e,yt[bt].hit=!1,yt[bt].alpha=1,bt=(bt+1)%yt.length},st=function(t,e){r[Q].pos.x=t,r[Q].pos.z=e,Q=(Q+1)%r.length},ot=Math.round(36),nt=new PIXI.Container,rt=new PIXI.extras.BitmapText("0",{font:ot+"px zorb_ball_font_outline",align:"center"}),lt=new PIXI.extras.BitmapText("10:15",{font:ot+"px zorb_ball_font",align:"center"}),ht=this.createRaceProgressIndicator();ht.y=175,nt.addChild(rt),nt.addChild(lt),rt.x=lt.x=20.75,rt.y=lt.y=-22.5,nt.x=-207.5,nt.y=182.5,this.backgroundFade=CC.Utility.pixiAtlasSprite("ui_background_0.png",{alpha:0}),this.backgroundFade.show=function(){TweenLite.to(this,1,{alpha:1})},this.backgroundFade.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png"));var ct=new PIXI.spine.Spine(Game.animationList.countdown);ct.visible=!1,ct.preWait=1.5,ct.preWaitOver=!1;var dt=3,pt=!1;ct.y=20,ct.state.onEvent=function(t,e){"sound_beep"===e.stringValue?Game.sound.play("beep"):(pt||(Game.sound.playMusic("ring_music_0",.3),pt=!0),Game.sound.play("ball_start_whistle"))},h.beginFill(4079166),h.drawRect(-500,0,1e3,1e3),k.addChild(h),o.interactive=!0,o.hitArea=new PIXI.Rectangle(-500,-500,1e3,1e3),o.touchstart=o.mousedown=function(t){t.data.getLocalPosition(o);l=!0,this.touchmove(t)},o.touchmove=o.mousemove=function(t){var e=t.data.getLocalPosition(o);l&&(0<e.x?(B=!(O=!0),i.scale.x=1,i.scale.y=1,s.scale.x=1.2,s.scale.y=1.2,i.alpha=1,s.alpha=.5):(O=!(B=!0),i.scale.x=1.2,i.scale.y=1.2,s.scale.x=1,s.scale.y=1,i.alpha=.5,s.alpha=1),a())},o.touchend=o.mouseup=function(){l=F=R=O=B=!1,i.scale.x=1,i.scale.y=1,s.scale.x=1,s.scale.y=1,i.alpha=1,s.alpha=1},window.addEventListener("keydown",function(t){37===t.keyCode&&(O=!(B=!0),i.scale.x=1.2,i.scale.y=1.2,s.scale.x=1,s.scale.y=1,i.alpha=.5,s.alpha=1,a()),39===t.keyCode&&(B=!(O=!0),i.scale.x=1,i.scale.y=1,s.scale.x=1.2,s.scale.y=1.2,i.alpha=1,s.alpha=.5,a())},!1),window.addEventListener("keyup",function(t){l=F=R=O=B=!1,i.scale.x=1,i.scale.y=1,s.scale.x=1,s.scale.y=1,i.alpha=1,s.alpha=1},!1);var ut=[],mt=[],yt=[],gt=0,bt=0,Ct=[],xt=0;for(c=0;c<20;++c){var ft=new Graphics3D;A.addChild(ft),ft.addVertex(10,-10,20),ft.addVertex(10,0,-0),ft.addVertex(-10,0,0),ft.addVertex(-10,-10,20),ft.addVertex(-10,0,20),ft.addVertex(10,0,20),ft.addVertex(0,-8.75,17.5),ft.addVertex(7,-6.25,12.5),ft.addVertex(-7,-6.25,12.5),ft.addVertex(0,-3.75,7.5),ft.addVertex(7,-1.25,2.5),ft.addVertex(-7,-1.25,2.5),ft.addTri(0,1,3,16733888),ft.addTri(1,2,3,16733888),ft.addTri(3,2,4,13386905),ft.addTri(0,5,1,13386905),ft.addTri(6,7,8,16764139),ft.addTri(9,10,11,16764139),ft.pos.y=30,ft.scalar=.5,ft.unJumped=!0,Ct.push(ft),M.push(ft)}var St=new PIXI.Container;St.pos={x:0,y:10,z:0},St.transPos={},St.scalar=1,A.addChild(St),M.push(St);var _t=new PIXI.Container;_t.pos={x:0,y:40,z:0},_t.transPos={},_t.scalar=1,A.addChild(_t),M.push(_t);var wt=new PIXI.spine.Spine(Game.animationList.race_ref);wt.state.setAnimation(0,"animation",!0),wt.update(0);var Gt=CC.Utility.pixiAtlasSprite("end_post_right.png");wt.pos={x:0,y:20,z:0},Gt.pos={x:0,y:0,z:0},wt.scalar=1,Gt.scalar=1;var vt=function(t,e,a){wt.pos.x=t+-25*Math.sin(a),wt.pos.z=e+-25*Math.cos(a),Gt.pos.x=t+-25*Math.sin(a),Gt.pos.z=e+-25*Math.cos(a)};wt.transPos={},Gt.transPos={},A.addChild(wt),M.push(wt);var Pt=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2],Tt=CC.Utility.pixiAtlasMovieClip(["boat_anim_"+(2*Pt+1)+"_0001.png","boat_anim_"+(2*Pt+1)+"_0002.png","boat_anim_"+(2*Pt+1)+"_0003.png","boat_anim_"+(2*Pt+1)+"_0004.png","boat_anim_"+(2*Pt+1)+"_0005.png","boat_anim_"+(2*Pt+1)+"_0006.png","boat_anim_"+(2*Pt+1)+"_0007.png","boat_anim_"+(2*Pt+1)+"_0008.png","boat_anim_"+(2*Pt+1)+"_0009.png","boat_anim_"+(2*Pt+1)+"_0010.png","boat_anim_"+(2*Pt+1)+"_0011.png","boat_anim_"+(2*Pt+1)+"_0012.png","boat_anim_"+(2*Pt+1)+"_0013.png","boat_anim_"+(2*Pt+1)+"_0014.png"]);Tt.targetRot=0,Tt.boat=!0,Tt.loop=!1,Tt.pos={x:0,y:14,z:0},Tt.transPos={},Tt.scalar=5,Tt.splash=new PIXI.Container,Tt.splashL=new PIXI.spine.Spine(Game.animationList.ring_splashes),Tt.splashM=new PIXI.spine.Spine(Game.animationList.ring_wave),Tt.splashR=new PIXI.spine.Spine(Game.animationList.ring_splashes),Tt.splashR.scale.x=-1,Tt.splash.scale.x=.3,Tt.splash.scale.y=Tt.splash.scale.x,Tt.splashL.x=-25,Tt.splashR.x=25,Tt.splashR.y=75,Tt.splashL.y=75,Tt.splashM.y=75,Tt.gotoAndStop(5),Tt.splash.addChild(Tt.splashL),Tt.splash.addChild(Tt.splashR),Tt.splash.addChild(Tt.splashM),Tt.splashR.update(Math.random()),Tt.splashL.update(Math.random()),Tt.splashR.state.setAnimation(0,"animation",!0),Tt.splashL.state.setAnimation(0,"animation",!0),Tt.splashM.state.setAnimation(0,"animation",!0),Tt.addChild(Tt.splash),A.addChild(Tt),M.push(Tt);var It=new PIXI.Container,At=new PIXI.spine.Spine(Game.animationList["ring_character_"+2*Pt],!0);Pt+""=="4"&&(At.cloud=new PIXI.spine.Spine(Game.animationList.cloud),At.cloud.state.setAnimation(0,"idle",!0),At.cloud.y=-120,At.cloud.scale.set(1.5),At.addChild(At.cloud));var kt=new PIXI.spine.Spine(Game.animationList.ring_splashes),Mt=new PIXI.spine.Spine(Game.animationList.ring_splashes),Lt=new PIXI.spine.Spine(Game.animationList.ring_wave),Ut=new PIXI.spine.Spine(Game.animationList.boost),Bt=new PIXI.spine.Spine(Game.animationList.boost),Ot=new PIXI.spine.Spine(Game.animationList.obstacle_smash),Rt=new PIXI.spine.Spine(Game.animationList.paraglider);Rt.y=2.5,Rt.alpha=0,At.addChild(Rt),Ot.visible=!1,Mt.scale.x=-1,At.splashScale=1,kt.y=40,Mt.y=40,kt.x=-25,Mt.x=25,Lt.y=40,At.addChild(Mt),At.addChild(kt),At.addChild(Lt),Mt.update(Math.random()),kt.update(Math.random()),Mt.state.setAnimation(0,"animation",!0),kt.state.setAnimation(0,"animation",!0),Lt.state.setAnimation(0,"animation",!0),Ut.state.setAnimation(0,"boost_0"),Ut.state.setAnimation(0,"boost_0"),Bt.state.setAnimation(0,"boost_0"),Bt.rotation=2,At.lean="center",It.speed=1,It.positionSlide=0,It.velocitySlide=0,It.slideSpeed=100,It.playerFlying=0,It.pos={x:0,y:6.5,z:0},I=-150,It.transPos={},It.scalar=1,It.playerJumping=30,A.addChild(It),M.push(It);for(c=0;c<80;++c){(Ft=new PIXI.Container).top=CC.Utility.pixiAtlasSprite("marker_buoy_top.png"),Ft.bottom=CC.Utility.pixiAtlasSprite("marker_buoy_bottom.png"),Ft.addChild(Ft.top),Ft.addChild(Ft.bottom),Ft.pos={x:0,y:30,z:0},Ft.transPos={x:0,y:0,z:0},Ft.scalar=1,Ft.buoy=!0,r.push(Ft),A.addChild(Ft),M.push(Ft)}for(c=0;c<4;++c){(Ft=CC.Utility.pixiAtlasSprite("distance_markers000"+(c+1)+".png")).pos={x:0,y:15,z:0},Ft.transPos={},Ft.scalar=2,mt.push(Ft),A.addChild(Ft),M.push(Ft)}for(c=0;c<10;++c){CC.Color.HexLerp(8947848,16777215,Math.random());(Ft=CC.Utility.pixiAtlasMovieClip(["power_up.png","collectible.png"])).alpha=1,Ft.pos={},Ft.transPos={},Ft.pos.x=0,Ft.pos.y=0,Ft.pos.z=0,Ft.scalar=.25,ut.push(Ft),A.addChild(Ft),M.push(Ft)}for(c=0;c<10;++c){CC.Color.HexLerp(8947848,16777215,Math.random());(Ft=CC.Utility.pixiAtlasSprite("obstacle.png")).alpha=1,Ft.pos={},Ft.transPos={},Ft.pos.x=0,Ft.pos.y=0,Ft.pos.z=0,Ft.scalar=2,yt.push(Ft),A.addChild(Ft),M.push(Ft)}var Ft,zt,Dt,Xt,Et=0,jt=0;j(),j();function Wt(t){t=Math.min(t,.06),x-=t,100<(S+=t)&&(S=0),ct.preWaitOver||(ct.preWait-=t,ct.preWait<0&&(ct.preWaitOver=!0,ct.visible=!0,ct.state.setAnimation(0,"countdown"),setTimeout(function(){Game.sound.play("tag_line_race")},500))),0<_&&(_-=t)<=0&&(TweenLite.to(Rt,.5,{y:-125,alpha:0}),TweenLite.to(It,1,{playerFlying:0,ease:Bounce.easeOut}),Game.sound.playMusic("ring_music_0",.3),setTimeout(function(){Game.sound.play("ring_land")},300),TweenLite.to(E,1,{focus:1e3})),Et+=2*t,dt-=t,It.pos.y=(5*Math.sin(3*Et)+10)*It.playerFlying,It.pos.y+=It.playerJumping*(1-It.playerFlying),I=-50*It.playerFlying;var e=10*t*It.speed*.666;jt-=t,It.speed=Math.min(It.speed,3),It.speed=Math.max(It.speed,.3),1<It.speed&&!It.playerFlying&&(It.speed-=.5*t),It.speed<1&&!It.playerFlying&&(It.speed+=.5*t),1!==It.speed&&Math.abs(It.speed)<.5&&!It.playerFlying&&(It.speed=1),It.playerFlying&&(It.speed=1.5+It.playerFlying),f.x=100*It.speed,Nt+=e;var a=Math.floor(N/60)%60,i=Math.floor(N%60);for(Math.floor(N%60*100),rt.text=a+":"+CC.Utility.intToString(i,2),lt.text=rt.text,D.x=Math.modo(-T/Math.PI*5*500,2500)-250,u=0;u<10;++u){var s=X[u];s.z=100*u,s.z=Math.modo(s.z-12.5*J,1e3)-25,s.scale.y=.1*E.focus/s.z,s.tileScale.x=s.scale.y,s.tileTransform.pivot.x=1e3*T,Game.webApp.renderer.gl,s.y=25*s.scale.y,s.visible=0<s.y&&.125<s.tileScale.x,s.alpha=Math.min(s.tileScale.x,1)}K||(J+=e),dt<-ct.preWait&&!K&&(q+=e,N+=t);var o=It.pos.x-wt.pos.x,n=It.pos.z-wt.pos.z;if(dt<0&&!K&&o*o+n*n<4e4&&(K=!0,SS.updateTeamScores(),Game.webApp.juggler.addTimeout(function(){ct.state.setAnimation(0,"game_end")},.3),Game.webApp.juggler.addTimeout(function(){var t=Math.max(0,200*Math.value(55,33,N));Game.webApp.swapScreen(Game.EndScreen,{icon:"ring",game:N,gameScreenClass:Game.RingScreen,score:Math.ceil(t)}),H=!0},1.5)),ht.setDistance(Math.min(1,q/500)),!H){G.x=Math.lerp(Z[0].x,Z[1].x,Nt),G.z=Math.lerp(Z[0].z,Z[1].z,Nt),K||(w.x=G.x,w.y=G.y,w.z=G.z),T=Math.atan2(Math.lerp(Z[1].x,Z[2].x,Nt)-w.x,Math.lerp(Z[1].z,Z[2].z,Nt)-w.z);var r=-(Z[7].z-Z[8].z),l=Z[7].x-Z[8].x;Tt.pos.x=Math.lerp(Z[10].x,Z[11].x,Nt)+2*r,Tt.pos.z=Math.lerp(Z[10].z,Z[11].z,Nt)+2*l}for(_t.pos.x=Tt.pos.x+-50*Math.sin(T),_t.pos.z=Tt.pos.z+-50*Math.cos(T),St.pos.x=Math.lerp(St.pos.x,.5*(It.pos.x+Tt.pos.x),1),St.pos.z=Math.lerp(St.pos.z,.5*(It.pos.z+Tt.pos.z),1),1<=Nt&&(Nt=0,Z.splice(0,1),Z.length<=40&&j()),O&&!H&&(U||(It.velocitySlide=0),It.velocitySlide+=t*It.slideSpeed,P+=-t,jt=.1,"right"!==At.lean&&(At.state.clearTrack(1),"left"===At.lean?At.state.setAnimation(0,"full_r"):At.state.setAnimation(0,"lean_r"),At.lean="right")),!B&&!O&&jt<0&&"center"!==At.lean&&(At.state.clearTrack(1),"right"===At.lean?At.state.setAnimation(0,"return_r"):At.state.setAnimation(0,"return_l"),At.lean="center"),B&&!H&&(P+=t,jt=.1,L||(It.velocitySlide=0),It.velocitySlide+=-t*It.slideSpeed,"left"!==At.lean&&(At.state.clearTrack(1),"right"===At.lean?At.state.setAnimation(0,"full_l"):At.state.setAnimation(0,"lean_l"),At.lean="left")),It.velocitySlide*=.95,It.positionSlide+=It.velocitySlide*t*2,It.rotation=.005*It.velocitySlide,kt.scale.x=1+1.5*-It.rotation,Mt.scale.x=-1-1.5*It.rotation,kt.scale.x*=At.splashScale*Math.min(It.speed,1.5)*(1-It.playerFlying),Mt.scale.x*=At.splashScale*Math.min(It.speed,1.5)*(1-It.playerFlying),kt.scale.y=kt.scale.x,Mt.scale.y=-Mt.scale.x,Lt.scale.y=Lt.scale.x=At.splashScale*Math.min(It.speed,1.5)*(1-It.playerFlying),kt.rotation=-It.rotation,Mt.rotation=-It.rotation,25<(b=Math.abs(It.positionSlide))&&(0<It.velocitySlide*It.positionSlide&&(It.velocitySlide*=-1,It.speed-=.1),It.positionSlide=It.positionSlide/b*25),It.pos.x=G.x,It.pos.z=G.z,It.pos.x+=100*Math.sin(T),It.pos.z+=100*Math.cos(T),It.pos.x+=Math.sin(T+Math.hPI)*It.positionSlide,It.pos.z+=Math.cos(T+Math.hPI)*It.positionSlide,P=Math.min(1,Math.max(-1,P)),P*=.9,k.rotation=-P,k.y=-I,R&&(v.z+=2.5*-Math.cos(T),v.x+=2.5*-Math.sin(T)),F&&(v.z+=2.5*Math.cos(T),v.x+=2.5*Math.sin(T)),u=0;u<M.length;++u){if((Ft=M[u]).graf){for(var h=0;h<Ft.vertexArray.length;++h){var c=Ft.vertexArray[h],d=Ft.vertexTransArray[h];d.x=c.x*Ft.scalar,d.y=c.y*Ft.scalar,d.z=c.z*Ft.scalar,CC.Geometry.rotate3DRef(d,Ft.rot),d.x=d.x+Ft.pos.x-w.x,d.y=d.y+Ft.pos.y-w.y,d.z=d.z+Ft.pos.z-w.z,CC.Geometry.rotate3DRef(d,T),d.x*=E.focus/d.z,d.y*=E.focus/d.z}Ft.build()}if(Ft.transPos.x=Ft.pos.x-w.x,Ft.transPos.y=Ft.pos.y-w.y,Ft.transPos.z=Ft.pos.z-w.z,CC.Geometry.rotate3DRef(Ft.transPos,T),Ft.graf||(Dt=E.focus/Ft.transPos.z,Ft.x=Ft.transPos.x*Dt,Ft.y=Ft.transPos.y*Dt,Ft.scale.x=.1*Dt*Ft.scalar,Ft.scale.y=.1*Dt*Ft.scalar),Ft.visible=0<Ft.transPos.z&&!Ft.collected,Ft.buoy&&(Ft.bottom.scale.y=2*Math.abs(Math.sin(Ft.y/720*.25)),Ft.visible=.5<Math.max(0,Math.min(Dt,1))),Ft.boat){var p=Math.min(Math.max((Ft.x-75)/2,-10),3);Ft.splash.x=2*-p,Ft.targetRot=Math.lerp(Ft.targetRot,Math.floor(p+10),.1),Ft.gotoAndStop(Ft.targetRot)}Ft.sorted=!1}for(var u=0;u<M.length;++u){Xt=-1;for(h=0;h<M.length;++h)(Ft=M[h]).visible&&!Ft.sorted&&(-1===Xt||-Ft.transPos.z<zt)&&(Xt=h,zt=-Ft.transPos.z);-1!==Xt&&((Ft=M[Xt]).sorted=!0,A.addChild(Ft))}if(z.clear(),z.lineStyle(1,16777215),z.moveTo(Tt.x+(-5-Tt.currentFrame/14*18)*Tt.scale.x,Tt.y+7*Tt.scale.x),z.quadraticCurveTo(Math.lerp(It.x,Tt.x,.75),It.y,It.x,It.y),At.x=It.x,At.y=It.y,At.scale.x=It.scale.x,At.scale.y=It.scale.y,At.rotation=It.rotation,!It.playerFlying){for(u=0;u<Ct.length;++u){var m=Ct[u],y={x:0,z:0};m&&m.unJumped&&m.visible&&(y.x=m.pos.x-It.pos.x,y.z=m.pos.z-It.pos.z,(b=y.x*y.x+y.z*y.z)<100&&(m.unJumped=!1,TweenLite.to(It,.3,{playerJumping:10}),It.speed+=1,TweenLite.to(E,.5,{focus:750}),TweenLite.to(E,1,{delay:1,focus:1e3}),TweenLite.to(At,.2,{splashScale:0}),TweenLite.to(At,.3,{delay:.5,splashScale:1}),Game.sound.play("ring_boost_2"),setTimeout(function(){Game.sound.play("ring_land")},500),At.state.setAnimation(1,"jump"),TweenLite.to(It,1,{playerJumping:30,delay:.3,ease:Bounce.easeOut})))}for(u=0;u<ut.length;++u){var g=ut[u];y={x:0,z:0};g&&!g.collected&&g.visible&&(y.x=g.pos.x-It.pos.x,y.z=g.pos.z-It.pos.z,(b=y.x*y.x+y.z*y.z)<100&&(g.collected=!0,It.speed+=.1,g.type?(It.speed=3,TweenLite.to(E,.5,{focus:500}),TweenLite.to(E,1,{delay:1,focus:1e3}),Game.sound.play("ring_boost_1"),Game.sound.play("crowd_score"+Math.floor(3*Math.random()+1)),Ut.state.setAnimation(0,"boost_0"),setTimeout(function(){Bt.state.setAnimation(0,"boost_0")},100)):(Rt.alpha=1,Rt.y=10,Game.sound.playMusic("ring_music_1",.3),Game.sound.play("crowd_score"+Math.floor(3*Math.random()+1)),CC.isUsingWebAudio&&(Game.sound.play("ring_boost_4"),Game.sound.play("ring_boost_0")),Rt.state.setAnimation(0,"animation"),TweenLite.to(It,.5,{playerFlying:1}),TweenLite.to(E,.5,{focus:750}),_=5),TweenLite.to(g.pos,.3,{y:-50})))}for(u=0;u<yt.length;++u){var b,C=yt[u];y={x:0,z:0};C&&!C.hit&&C.visible&&(y.x=C.pos.x-It.pos.x,y.z=C.pos.z-It.pos.z,(b=y.x*y.x+y.z*y.z)<56.25&&(C.hit=!0,Game.sound.play("ring_hit"),TweenLite.to(E,.01,{focus:1200}),TweenLite.to(E,.5,{delay:.2,focus:1e3}),Ot.scale.x=1,Ot.scale.y=1,TweenLite.to(Ot.scale,.6,{x:1.2,y:1.2}),Ot.x=C.x,Ot.y=C.y,Ot.visible=!0,At.state.setAnimation(1,"crash"),Ot.state.setAnimation(0,"animation"),C.alpha=0,It.speed*=.66))}}L=B,U=O}var Nt=0;Wt.sortFunc=function(t,e){return e.transPos.z-t.transPos.z},this.update=Wt;window.boom_help_shown_already_ring;o.addChild(k),k.addChild(C),k.addChild(D),k.addChild(n),k.addChild(A),k.addChild(z),k.addChild(At),k.addChild(Ot),k.addChild(Ut),k.addChild(Bt),ht.visible=!0,o.addChild(i),o.addChild(s),o.addChild(ht),o.addChild(nt),o.addChild(ct),o.addChild(t),o.addChild(this.backgroundFade),this.addChild(o),this.pausePanel=new SportsUI.PausePanel(Game.RingScreen,!1,t),this.buttonPause=SportsUI.createButtonPause(this.pausePanel,!1,t),this.addChild(this.buttonPause),this.addChild(this.pausePanel)},Game.RocketScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=15658751,Game.sound.stopMusic(),Game.sound.play("game_intro_sting",.3),this.build()},Game.RocketScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.RocketScreen.prototype.constructor=Game.RocketScreen,Game.RocketScreen.prototype.build=function(){window.focus(),SS.getAccessToken();var t=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2],e=new PIXI.Container,a=new RocketGame(t),i=new SportsTutorial.Rocket(this);null===Game.Storage.getItem("boomerang_sports_app_tutorial_rocket")&&setTimeout(function(){i.show(),Game.Storage.setItem("boomerang_sports_app_tutorial_rocket","yes"),clearTimeout(this)},1e3);function s(){SS.updateTeamScores(),Game.webApp.juggler.addTimeout(function(){n.state.setAnimation(0,"game_end")},.3),Game.webApp.juggler.addTimeout(function(){Game.webApp.swapScreen(Game.EndScreen,{icon:"rocket",game:a.targetHits,gameScreenClass:Game.RocketScreen,score:m})},1.5)}this.backgroundFade=CC.Utility.pixiAtlasSprite("ui_background_0.png",{alpha:0}),this.backgroundFade.show=function(){TweenLite.to(this,1,{alpha:1})},this.backgroundFade.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png"));var d=new SportsUI.ScorePanel,o=new SportsUI.TimerPanel,p=SportsUI.createDisplayText(this.gameValue+"",{size:40},!0);d.visible=!1,o.visible=!1,p.alpha=0;var u=[{limit:1,message:COPY_DECK.copy.rocket_reactions[0],points:3,color:5684461},{limit:.6,message:COPY_DECK.copy.rocket_reactions[1],points:6,color:15921734},{limit:.2,message:COPY_DECK.copy.rocket_reactions[2],points:12,color:7392812}],n=new PIXI.spine.Spine(Game.animationList.countdown);n.visible=!1,n.preWait=1.5,n.preWaitOver=!1;var r=!(n.y=20);n.state.onEvent=function(t,e){"sound_beep"===e.stringValue?Game.sound.play("beep"):(r||(Game.sound.playMusic("pogo_music_0",.3),setTimeout(function(){Game.sound.play("tag_line_rocket")},500),r=!0),Game.sound.play("ball_start_whistle"),d.visible=!0,o.visible=!0,a.gameStart())};var m=0,y=60,l=60;a.scoreCallBack=function(t,e,a){var i,s,o,n=COPY_DECK.copy.rocket_reactions[3],r=16777215,l=0;if(y&&t<1)if(a)n=COPY_DECK.copy.rocket_reactions[4],l=-2,r=16061508;else{for(var h=0,c=u.length;h<c;++h)(i=u[h]).limit>t&&(n=i.message,l=i.points,r=i.color);m+=l}m=Math.max(0,m+l),d.setValue(m),s=n,o=r,TweenLite.killTweensOf(p),p.alpha=1,p.y=-150,p.setText(s),p.top.style.fill=o||16777215,p.x=-.5*p.top.width,TweenLite.to(p,1,{y:-100}),TweenLite.to(p,.5,{delay:.5,alpha:0})};a.update(0),e.addChild(a),e.addChild(p),e.addChild(d),e.addChild(o),e.addChild(n),e.addChild(i),this.update=function(t){l=Math.floor(y),n.preWaitOver||(n.preWait-=t,n.preWait<0&&(n.preWaitOver=!0,n.visible=!0,n.state.setAnimation(0,"countdown"),a.target.show())),0!==y&&0===Math.max(0,y-t)&&(a.gameOver(),TweenLite.delayedCall(1,s)),y=Math.max(0,y-t),a.update(t),l!==Math.floor(y)&&(o.setValue(Math.floor(y)),y<11&&Game.sound.play("beep"))},this.addChild(e),this.pausePanel=new SportsUI.PausePanel(Game.RocketScreen,!1,i),this.buttonPause=SportsUI.createButtonPause(this.pausePanel,!1,i),this.addChild(this.buttonPause),this.addChild(this.pausePanel),this.addChild(this.backgroundFade)},Game.GoalScreen=function(){Game.BaseScreen.call(this),Game.sound.stopMusic(),Game.sound.play("game_intro_sting",.3),this.build()},Game.GoalScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.GoalScreen.prototype.constructor=Game.GoalScreen,Game.GoalScreen.prototype.build=function(){window.focus(),SS.getAccessToken();var t=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2],e=new PIXI.Container,a=new GoalGame(t),i=new SportsTutorial.Striker(this);null===Game.Storage.getItem("boomerang_sports_app_tutorial_striker")&&setTimeout(function(){i.show(),Game.Storage.setItem("boomerang_sports_app_tutorial_striker","yes"),clearTimeout(this)},4300);function s(){SS.updateTeamScores(),Game.webApp.juggler.addTimeout(function(){c.state.setAnimation(0,"game_end")},.3),Game.webApp.juggler.addTimeout(function(){Game.webApp.swapScreen(Game.EndScreen,{icon:"goal",game:a.goals,gameScreenClass:Game.GoalScreen,score:p})},1.5)}var o=0,n=0;a.scoreCallBack=function(t){1<=(o+=t/100)&&(o=0,n++,a.advanceGoal(n)),p+=t,r.setValue(p)},this.backgroundFade=CC.Utility.pixiAtlasSprite("ui_background_0.png",{alpha:0}),this.backgroundFade.show=function(){TweenLite.to(this,1,{alpha:1})},this.backgroundFade.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png"));var r=new SportsUI.ScorePanel,l=new SportsUI.TimerPanel,h=new SportsUI.GamePointsPanel("ui_goal_panel.png");r.visible=!1,l.visible=!1,h.visible=!1;var c=new PIXI.spine.Spine(Game.animationList.countdown);c.visible=!1,c.preWait=4.5,CC.WebApp.current.juggler.addTimeout(function(){a.introSequence.visible=!1,a.introSequence.parent.removeChild(a.introSequence),a.whiteFlash.alpha=1,TweenLite.to(a.whiteFlash,.3,{alpha:0})},3),c.preWaitOver=!1;var d=!(c.y=20);c.state.onEvent=function(t,e){"sound_beep"===e.stringValue?Game.sound.play("beep"):(d||(Game.sound.playMusic("pogo_music_0",.3),d=!0),Game.sound.play("ball_start_whistle"),setTimeout(function(){r.visible=!0,l.visible=!0,h.visible=!0,a.targetsShow=!0},300),a.isGameOver||a.gameStart())};var p=0,u=60,m=60;a.update(0);var y=!1;e.addChild(a),e.addChild(r),e.addChild(l),e.addChild(h),e.addChild(c),e.addChild(i);var g=0;h.setValue(0),this.update=function(t){g!==a.goals&&(g=a.goals,h.setValue(g)),m=Math.floor(u),c.preWaitOver||(c.preWait-=t,c.preWait<0&&(c.preWaitOver=!0,c.visible=!0,c.state.setAnimation(0,"countdown"),setTimeout(function(){Game.sound.play("tag_line_goal")},500))),a.gameRunning&&0===Math.max(0,u-t)&&!y?(y=!0,a.gameOver(),TweenLite.delayedCall(1,s)):a.gameRunning&&(u=Math.max(0,u-t)),a.update(t),m!==Math.floor(u)&&(l.setValue(Math.floor(u)),u<11&&Game.sound.play("beep"))},this.addChild(e),this.pausePanel=new SportsUI.PausePanel(Game.GoalScreen,!1,i),this.buttonPause=SportsUI.createButtonPause(this.pausePanel,!1,i),this.addChild(this.buttonPause),this.addChild(this.pausePanel),this.addChild(this.backgroundFade)},Game.GoalieScreen=function(){Game.BaseScreen.call(this),this.backgroundColor=16711680,Game.sound.stopMusic(),Game.sound.play("game_intro_sting",.3),this.build()},Game.GoalieScreen.prototype=Object.create(Game.BaseScreen.prototype),Game.GoalieScreen.prototype.constructor=Game.GoalieScreen,Game.GoalieScreen.prototype.build=function(){SS.getAccessToken();var t=new PIXI.Container,e=SS.selectedTeam?SS.selectedTeam.id:URLQuery[2];this.backgroundFade=CC.Utility.pixiAtlasSprite("ui_background_0.png",{alpha:0}),this.backgroundFade.show=function(){TweenLite.to(this,1,{alpha:1})},this.backgroundFade.addChild(CC.Utility.pixiAtlasSprite("ui_background_1.png"));var a=new SportsTutorial.Goalie(this);null===Game.Storage.getItem("boomerang_sports_app_tutorial_goalie")&&setTimeout(function(){a.show(),Game.Storage.setItem("boomerang_sports_app_tutorial_goalie","yes"),clearTimeout(this)},3900);var i=0,s=new GoalieGame(e);s.scoreCallBack=function(t,e){if(i+=t,i=Math.max(0,i),l.setValue(i),r.setValue(s.score+""),e){var a=COPY_DECK.copy.rocket_reactions[2];d(a,16777215)}},s.completeCallBack=function(t){SS.updateTeamScores(),o.state.setAnimation(0,"game_end"),Game.webApp.juggler.addTimeout(function(){Game.webApp.swapScreen(Game.EndScreen,{icon:"goalie",game:s.score,gameScreenClass:Game.GoalieScreen,score:Math.ceil(i)})},2.5)};var o=new PIXI.spine.Spine(Game.animationList.countdown);o.visible=!1,o.preWait=4;var n=!(o.preWaitOver=!1);o.y=20,o.state.onEvent=function(t,e){"sound_beep"===e.stringValue?Game.sound.play("beep"):(n&&(n=!1,Game.sound.playMusic("ring_music_0",.3),setTimeout(function(){Game.sound.play("tag_line_goalie")},500)),Game.sound.play("ball_start_whistle"),l.alpha=1,r.alpha=1,h.alpha=1,s.gameStart(),setTimeout(function(){},1e3))};var r=new SportsUI.GamePointsPanel("tally_panel.png");r.setValue("0");var l=new SportsUI.ScorePanel;l.alpha=0,r.alpha=0;var h=new SportsUI.TimerPanel,c=(i=h.alpha=0,SportsUI.createDisplayText("",{size:40},!0));c.alpha=0;var d=function(t,e){c.alpha=1,c.y=-150,c.setText(t),c.top.style.fill=e||16777215,c.x=-.5*c.top.width,TweenLite.to(c,1,{y:-100}),TweenLite.to(c,.5,{delay:.5,alpha:0})};t.addChild(s),t.addChild(l),t.addChild(r),t.addChild(h),t.addChild(c),t.addChild(o),t.addChild(a),this.update=function(t){o.preWaitOver||(o.preWait-=t,o.preWait<0&&(o.preWaitOver=!0,o.visible=!0,o.state.setAnimation(0,"countdown"))),s.update(t),r.x=.5*Game.webApp.screenWidth,h.setValue(s.timePlayed)},this.addChild(t),this.pausePanel=new SportsUI.PausePanel(Game.GoalieScreen,!1,a),this.buttonPause=SportsUI.createButtonPause(this.pausePanel,!1,a),this.addChild(this.buttonPause),this.addChild(this.pausePanel),this.addChild(this.backgroundFade)};