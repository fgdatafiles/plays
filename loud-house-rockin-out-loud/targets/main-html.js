nick_sdk_client=nick_sdk_client||{},nick_sdk_client.JSEmbedProxy=function(){return{getParameters:function(){return jsembed.params()},getBase:function(){return jsembed.baseUrl()},isCrossdomain:function(){return jsembed.isBaseCrossdomain()},getCanvasScale:function(){return jsembed.canvasScale()},getCanvasWidth:function(){return jsembed.canvasWidth()},getCanvasHeight:function(){return jsembed.canvasHeight()},getScaledWidth:function(){return jsembed.scaledWidth()},getScaledHeight:function(){return jsembed.scaledHeight()}}}(),nick_sdk_client=nick_sdk_client||{},nick_sdk_client.wfaei09ne=function(){var a="",b=[],c=3e4,d=3e3,e=!1,f=function(a,b){var c=document.createElement("script");c.src=window.atob(a),document.head.insertBefore(c,document.head.firstChild),b&&(c.onload=b)};window.getDomains=function(a){b=a.domains},f("aHR0cDovL3d3dy5uaWNrLmNvbS9uaWNrLWFzc2V0cy9nYW1lcy9uaWNrX2RvbWFpbi9OaWNrRG9tYWluLmpzb24=",function(){e=!0});var g=function(b){a=b?b:window.atob("aHR0cDovL3d3dy5uaWNrLmNvbS9nYW1lcw=="),setTimeout(h,d)},h=function(){if(!e)return void setTimeout(h,1e3);var a="",b="blank",d=!0;a=window.location.host;try{b=window.parent.location.host}catch(f){b="whereareyou"}var g=i(b),j=i(a);return d=!(g&&j),d&&setTimeout(k,c),d},i=function(a){return"blank"===a?!0:j(a,b)},j=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=new RegExp(d);if(a.match(e))return!0}return!1},k=function(){window.top.location.replace(a)};return{vjeiwo231:g}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.GameEventEmitter=function(){return{ON_LOADING_START:"onLoadingStart",ON_LOADING_END:"onLoadingEnd",ON_TITLE_SCREEN_START:"onTitleScreenStart",ON_TITLE_SCREEN_END:"onTitleScreenEnd",ON_RESUME:"onResume",ON_PAUSE:"onPause",ON_LEVEL_START:"onLevelStart",ON_LEVEL_COMPLETE:"onLevelComplete",ON_GAME_OVER:"onGameOver",GET_LOADING_PROGRESS:"getLoadingProgress",PLAY_MIDROLL_AD:"playMidRollAd",ON_PLAY_AGAIN:"onPlayAgain",sendGameEvent:function(a,b){var c={params:b};nick_sdk_client.SDK.queueEvent(a,c)}}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.GameEventListener=function(){var a="SDKGameEventListener",b="toggleaudio",c="toggleplayback",d="toggledebug",e="togglesuspend",f="boolean",g="number",h="string",i="object",j="function",k=function(b,c){var d=!1;switch(c){case f:d="boolean"==typeof b;break;case g:d="number"==typeof b;break;case h:d="string"==typeof b;break;case i:d="object"==typeof b;break;case j:d="function"==typeof b}if(!d){var e="TypeCheck: Object {"+b+"} was of type {"+typeof b+"}. Expected type {"+c+"}";throw nick_sdk_client.SDK.log(a,e),e}},l=function(b,c,d){if(b.hasOwnProperty(c))return k(b[c],d),!0;var e="ParameterCheck: Parameter {"+c+"} does not exist!";throw nick_sdk_client.SDK.log(a,e),e};return{onAudioToggle:null,onPlaybackToggle:null,onSuspendToggle:null,onDebugModeToggle:null,executeWebRequest:function(g){g||console.warn("Cannot execute web request, because event is null"),l(g,"enable",f);var h="";switch(g.name){case b:if(nick_sdk_client.GameEventListener.onAudioToggle)return nick_sdk_client.GameEventListener.onAudioToggle(g.enable),!0;h="Audio Toggle is not implemented.";break;case c:if(nick_sdk_client.GameEventListener.onPlaybackToggle)return nick_sdk_client.GameEventListener.onPlaybackToggle(g.enable),!0;h="Playback Toggle is not implemented.";break;case e:if(nick_sdk_client.GameEventListener.onSuspendToggle)return nick_sdk_client.GameEventListener.onSuspendToggle(g.enable),!0;h="Suspend Toggle is not implemented.";break;case d:if(nick_sdk_client.GameEventListener.onDebugModeToggle)return nick_sdk_client.GameEventListener.onDebugModeToggle(g.enable),!0;h="Debug Toggle is not implemented.";break;default:h="Unknown function"}nick_sdk_client.SDK.log(a,h)}}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.SDK=function(){var a="1",b="1.2",c="1",d="init",e="log",f="error",g=[],h=[],i=!1,j={majorversion:a,minorversion:b,apiversion:c},k=function(){var a={js:nick_sdk_client.GameEventListener.executeWebRequest};l(d,a)},l=function(a,b){b.eventName=a,b.timestamp=Date.now(),g.push(b),m(),n()},m=function(){for(;g.length>0;)h.push(g.pop())},n=function(){try{window.nsdk_expose(j,h),h.length=0}catch(a){console.warn("unable to call expose function...")}},o=function(a,b,c){try{var d={msg:a,callstack:arguments.callee.caller.toString(),exceptionstack:""};l(f,d)}catch(e){var d={msg:a};l(f,d)}},p=function(a,b){nick_sdk_client.SDK.debugMode&&l(e,{id:a,msg:b})},q=function(a){requestAnimationFrame(q);var b=i;i=!1,g.length>0&&(b=!0,m()),b&&n()};return{debugMode:!1,initialize:function(){k(),requestAnimationFrame(q),window.onerror=o},queueEvent:l,log:p}}();/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function u(a,b){function c(){}c.prototype=a;var d=new c,g;for(g in b)d[g]=b[g];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function vg(a){return a instanceof Array?function(){return H.iter(a)}:"function"==typeof a.iterator?p(a,a.iterator):a.iterator}function p(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=yg++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var j={},h=function(){return x.__string_rec(this,"")},tb=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};j.EReg=tb;tb.__name__=["EReg"];tb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";
return{pos:this.r.m.index,len:this.r.m[0].length}},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},__class__:tb};var H=function(){};j.HxOverrides=H;H.__name__=["HxOverrides"];H.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),g=a.getMinutes(),s=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>g?"0"+g:""+g)+":"+(10>s?"0"+s:""+s)};H.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),
b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};H.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};H.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+
c-b);return a.substr(b,c)};H.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};H.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Kc=function(){};j.Lambda=Kc;Kc.__name__=["Lambda"];Kc.array=function(a){for(var b=[],a=vg(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Kc.count=function(a,b){var c=0;if(null==b)for(var d=vg(a)();d.hasNext();)d.next(),c++;else for(d=vg(a)();d.hasNext();){var g=
d.next();b(g)&&c++}return c};var pc=function(){this.length=0};j.List=pc;pc.__name__=["List"];pc.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:pc};var Ub=function(){};j.IMap=Ub;Ub.__name__=["IMap"];Ub.prototype={__class__:Ub};Math.__name__=["Math"];var q=function(){};j.Reflect=q;q.__name__=
["Reflect"];q.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};q.field=function(a,b){try{return a[b]}catch(c){return null}};q.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};q.setProperty=function(a,b,c){var d;if(a.__properties__&&(d=a.__properties__["set_"+b]))a[d](c);else a[b]=c};q.callMethod=function(a,b,c){return b.apply(a,c)};q.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,
d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};q.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};q.compare=function(a,b){return a==b?0:a>b?1:-1};q.compareMethods=function(a,b){return a==b?!0:!q.isFunction(a)||!q.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};q.isEnumValue=function(a){return null!=a&&null!=a.__enum__};q.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];
return!0};var B=function(){};j.Std=B;B.__name__=["Std"];B.is=function(a,b){return x.__instanceof(a,b)};B.string=function(a){return x.__string_rec(a,"")};B["int"]=function(a){return a|0};B.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==H.cca(a,1)||88==H.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};B.parseFloat=function(a){return parseFloat(a)};var Vb=function(){this.b=""};j.StringBuf=Vb;Vb.__name__=["StringBuf"];Vb.prototype={add:function(a){this.b+=B.string(a)},addSub:function(a,b,c){this.b=
null==c?this.b+H.substr(a,b,null):this.b+H.substr(a,b,c)},__class__:Vb};var ba=function(){};j.StringTools=ba;ba.__name__=["StringTools"];ba.startsWith=function(a,b){return a.length>=b.length&&H.substr(a,0,b.length)==b};ba.isSpace=function(a,b){var c=H.cca(a,b);return 8<c&&14>c||32==c};ba.ltrim=function(a){for(var b=a.length,c=0;c<b&&ba.isSpace(a,c);)c++;return 0<c?H.substr(a,c,b-c):a};ba.rtrim=function(a){for(var b=a.length,c=0;c<b&&ba.isSpace(a,b-c-1);)c++;return 0<c?H.substr(a,0,b-c):a};ba.trim=
function(a){return ba.ltrim(ba.rtrim(a))};ba.replace=function(a,b,c){return a.split(b).join(c)};ba.fastCodeAt=function(a,b){return a.charCodeAt(b)};var M=j.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};M.TNull=["TNull",0];M.TNull.toString=h;M.TNull.__enum__=M;M.TInt=["TInt",1];M.TInt.toString=h;M.TInt.__enum__=M;M.TFloat=["TFloat",2];M.TFloat.toString=h;M.TFloat.__enum__=M;M.TBool=["TBool",3];M.TBool.toString=h;M.TBool.__enum__=
M;M.TObject=["TObject",4];M.TObject.toString=h;M.TObject.__enum__=M;M.TFunction=["TFunction",5];M.TFunction.toString=h;M.TFunction.__enum__=M;M.TClass=function(a){a=["TClass",6,a];a.__enum__=M;a.toString=h;return a};M.TEnum=function(a){a=["TEnum",7,a];a.__enum__=M;a.toString=h;return a};M.TUnknown=["TUnknown",8];M.TUnknown.toString=h;M.TUnknown.__enum__=M;M.__empty_constructs__=[M.TNull,M.TInt,M.TFloat,M.TBool,M.TObject,M.TFunction,M.TUnknown];var ea=function(){};j.Type=ea;ea.__name__=["Type"];ea.getClassName=
function(a){return a.__name__.join(".")};ea.getEnumName=function(a){return a.__ename__.join(".")};ea.resolveClass=function(a){a=j[a];return null==a||!a.__name__?null:a};ea.resolveEnum=function(a){a=j[a];return null==a||!a.__ename__?null:a};ea.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],
b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};ea.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};ea.createEnum=function(a,b,c){var d=q.field(a,b);if(null==d)throw"No such constructor "+b;if(q.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";
return d};ea.getEnumConstructs=function(a){return a.__constructs__.slice()};ea["typeof"]=function(a){switch(typeof a){case "boolean":return M.TBool;case "string":return M.TClass(String);case "number":return Math.ceil(a)==a%2147483648?M.TInt:M.TFloat;case "object":if(null==a)return M.TNull;var b=a.__enum__;if(null!=b)return M.TEnum(b);a=a instanceof Array&&null==a.__enum__?Array:a.__class__;return null!=a?M.TClass(a):M.TObject;case "function":return a.__name__||a.__ename__?M.TObject:M.TFunction;case "undefined":return M.TNull;
default:return M.TUnknown}};ea.enumIndex=function(a){return a[1]};ea.allEnums=function(a){return a.__empty_constructs__};(j.XmlType={__ename__:["XmlType"],__constructs__:[]}).__empty_constructs__=[];var E=function(){};j.Xml=E;E.__name__=["Xml"];E.parse=function(a){return yb.parse(a)};E.createElement=function(a){var b=new E;b.nodeType=E.Element;b._children=[];b._attributes=new S;b.set_nodeName(a);return b};E.createPCData=function(a){var b=new E;b.nodeType=E.PCData;b.set_nodeValue(a);return b};E.createCData=
function(a){var b=new E;b.nodeType=E.CData;b.set_nodeValue(a);return b};E.createComment=function(a){var b=new E;b.nodeType=E.Comment;b.set_nodeValue(a);return b};E.createDocType=function(a){var b=new E;b.nodeType=E.DocType;b.set_nodeValue(a);return b};E.createProcessingInstruction=function(a){var b=new E;b.nodeType=E.ProcessingInstruction;b.set_nodeValue(a);return b};E.createDocument=function(){var a=new E;a.nodeType=E.Document;a._children=[];return a};E.prototype={get_nodeName:function(){if(this.nodeType!=
E.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=E.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==E.Element||this.nodeType==E.Document)throw"bad nodeType";return this._nodeValue},set_nodeValue:function(a){if(this.nodeType==E.Element||this.nodeType==E.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=E.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,
b){if(this.nodeType!=E.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=E.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,
c=this.x.length;b<c;){var d=this.x[b];if(d.nodeType==E.Element&&d._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var d=this.x[b];b++;if(d.nodeType==E.Element&&d._nodeName==a)return this.cur=b,d}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==E.Element)return c;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";
null!=a._parent&&H.remove(a._parent._children,a);a._parent=this;this._children.push(a)},__class__:E,__properties__:{set_nodeValue:"set_nodeValue",get_nodeValue:"get_nodeValue",set_nodeName:"set_nodeName",get_nodeName:"get_nodeName"}};var zb=function(){var a=this;this._root=new Lc(p(this,this._onEventUpdate));F.root.add(this._root);F.uncaughtError.connect(p(this,this.errorHandler));f.get_instance().input.prime(this._root);f.get_instance().input.setDelegateUnlockWebAudio(p(this,this._handleWebAudioUnlock));
y.setFlowDelegate(p(this,this._addFlowEvent));this._layerWorld=this._root.addChild(new T(null));this._layerUI=this._root.addChild(new T(null));this._layerSub=this._root.addChild(new T(null));this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._debugEnabled=this._flagJSEmbedExists=this._flagJSEmbedPauseState=!1;$.setPlaybackToggle(function(b){b?a._unpauseGameplay():a._pauseGameplay()});this._calculateScaleFactor();this._flagJSEmbedExists=null!=jsembed&&jsembed.exists();this._ui=new te(this._layerUI,
p(this,this._onInterfaceChange));this._changeActions=[];this._flowstack=[];this._addEventListeners();this._setDefaults();$.initServices();this._parseConfigXML();this._generateUI();this._registerInput();this._openSplash()};j["com.nick.loudhouse.music_game.Main"]=zb;zb.__name__=["com","nick","loudhouse","music_game","Main"];zb.main=function(){F.init();null!=jsembed&&jsembed.exists()?jsembed.isBaseCrossdomain()?f.get_instance().assets.setCrossdomainBaseUrl(la.appendAssetsToUrl(jsembed.baseUrl())):f.get_instance().assets.set_baseUrl(la.trimUrl(jsembed.baseUrl())):
f.get_instance().assets.set_baseUrl("");$.initMain();f.get_instance().assets.load(zb._onBootstrapLoad,null,["bootstrap"])};zb._onBootstrapLoad=function(){$.onBootstrapFinished();zb._main=new zb};zb.prototype={_calculateScaleFactor:function(){if(!1!=B.is(F._platform.getStage(),Eb)){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),c=P.loadExtension("backingStorePixelRatio",b).value;null==c&&(c=1);b=window.navigator.userAgent.toLowerCase();a/=
c;-1!=b.indexOf("ipad")&&(a=1);b=F._platform.getStage();a!=b.scaleFactor&&(b.scaleFactor=a,P.setVendorStyle(q.field(b,"_canvas"),"transform-origin","top left"),P.setVendorStyle(q.field(b,"_canvas"),"transform","scale("+1/b.scaleFactor+")"),b.requestResize(b.get_width(),b.get_height()));y.scaleFactor=b.scaleFactor}},errorHandler:function(){null},_parseConfigXML:function(){for(var a="000000",b=!1,c=!1,d="en",g=0,s=f.get_instance().assets.allConfig(!0);g<s.length;){var e=s[g];++g;if(e.hasNode.resolve("chunks"))for(var h=
e.node.resolve("chunks").nodes.resolve("chunk").iterator();h.hasNext();){var j=h.next();f.get_instance().assets.addChunk(j.att.resolve("id").toString(),j)}e.hasNode.resolve("unlockCode")&&(a=e.node.resolve("unlockCode").get_innerData());e.hasNode.resolve("unlockEnabled")&&(b="true"==e.node.resolve("unlockEnabled").get_innerData());e.hasNode.resolve("achievements")&&"true"==e.node.resolve("achievements").att.resolve("enabled").toString()&&(c=!0);e.hasNode.resolve("localization")&&(d=B.string(e.node.resolve("localization").node.resolve("region").get_innerData()))}f.get_instance().assets.finishProcessingChunks();
f.get_instance().setString(i.STRING_UNLOCK_CODE,a);f.get_instance().setBool(i.BOOL_ALLOW_UNLOCK,b);c&&f.get_instance().achievements.init();f.get_instance().setString(i.STRING_REGION_ID,d);null},_eventLoadCompleteGameplay:function(){this._playGameMusic();null!=this._world?null:this._generateWorld();this._unpauseGameplay()},_eventInitialLoadComplete:function(){this._enableSplash();this._sub=new ue(this._layerSub)},_openSplash:function(){var a=window.document.getElementById("loadingOverlay");null!=a?
a.parentNode.removeChild(a):null;this._ui.changeScreenTo(t.SPLASH,!1)},_setDefaults:function(){f.get_instance().setBool(i.BOOL_PAUSED,!1);f.get_instance().setBool(i.BOOL_GAME_WIN,!1);f.get_instance().setBool(i.BOOL_GAME_LOSE,!1);f.get_instance().setBool(i.BOOL_LEVEL_WIN,!1);f.get_instance().setBool(i.BOOL_LEVEL_LOSE,!1);f.get_instance().setBool(i.BOOL_CODE_SCREEN_OPEN,!1);f.get_instance().setBool(i.BOOL_CODE_UNLOCK,!1);f.get_instance().setBool(i.BOOL_SONG_COMPLETED,!1);f.get_instance().setInt(i.INT_HEALTH,
3);f.get_instance().setInt(i.INT_LIVES,3);f.get_instance().setInt(i.INT_SCORE,0);f.get_instance().setInt(i.INT_CURRENCY,0);f.get_instance().setInt(i.INT_LOADING_SCORE,0);f.get_instance().setInt(i.INT_ACHIEVEMENT_SCORE,0);f.get_instance().setInt(i.INT_NOTES_ALLTIME,0);f.get_instance().setString(i.STRING_CURRENT_DIALOGUE_ID,"");f.get_instance().setInt(i.FLOAT_LOADING_PROGRESS,0);f.get_instance().sound.set_muteAll(!1)},_registerInput:function(){f.get_instance().input.registerInput(A.MOVE_LEFT,[e.Left,
e.A]);f.get_instance().input.registerInput(A.MOVE_RIGHT,[e.Right,e.D]);f.get_instance().input.registerInput(A.MOVE_UP,[e.Up,e.W]);f.get_instance().input.registerInput(A.MOVE_DOWN,[e.Down,e.S]);f.get_instance().input.registerInput(A.ATTACK,[e.Z],[fb.ATTACK]);f.get_instance().input.registerInput(A.JUMP,[e.Space],[fb.JUMP]);f.get_instance().input.registerInput(A.UI_OK,[e.Space],null,[r.START,r.A]);f.get_instance().input.registerInput(A.UI_DENY,[e.Escape],null,[r.B]);f.get_instance().input.registerInput(A.UI_MENU,
[e.Escape],null,[r.START]);f.get_instance().input.registerInput(A.D0,[e.Shift]);f.get_instance().input.registerInput(A.D1,[e.Control]);f.get_instance().input.registerInput(A.D2,[e.F]);f.get_instance().input.registerInput(A.D3,[e.Y]);f.get_instance().input.registerInput(A.D4,[e.V]);f.get_instance().input.registerInput(A.D5,[e.Y])},_generateUI:function(){this._ui.addScreen(t.SPLASH,Mc);this._ui.addScreen(t.HELP,qc);this._ui.addScreen(t.SHOP,qc);this._ui.addScreen(t.GAMEPLAY_MENU,Nc);this._ui.addScreen(t.QUIT_CONFIRM,
Oc);this._ui.addScreen(t.GAMEPLAY_HUD,Pc);this._ui.addScreen(t.END_GAME,Qc);this._ui.addScreen(t.ENTER_CODE,Rc);this._ui.addScreen(t.ACHIEVEMENT_POPUP,Sc);this._ui.addScreen(t.ACHIEVEMENTS,Tc);this._ui.addScreen(t.DIALOGUE_POPUP,rc);this._ui.addScreen(t.DEBUG,Uc);this._ui.addScreen(t.MAIN_MENU,sc);this._ui.addScreen(t.UPGRADE,Vc);this._ui.addScreen(t.VENUE_SELECT,Wc)},_gotoAndPlayGame:function(){$.onGameStart();var a;a=F._platform.getTouch().get_supported()?"gameplay_sd":"gameplay_hd";var b;b=F._platform.getTouch().get_supported()?
"gameplay_audio_required":"gameplay_audio_optional";a=[a,b];a.push("venue_"+(f.get_instance().getInt(i.INT_VENUE_ID)+1));f.get_instance().assets.load(p(this,this._eventLoadCompleteGameplay),a,null,null,1.2)},_onWorldGenerationComplete:function(){f.get_instance().timer.start(p(this,this._onWorldGenerationCompleteDelay),0.3);this._ui.changeScreenTo(t.GAMEPLAY_HUD,!0)},_onWorldGenerationCompleteDelay:function(){this._world.start();this._unpauseGameplay()},_enableSplash:function(){Aa.get_instance().load();
f.get_instance().sound.playMusic(l.sound.music_hub,0.3);this._enableInput()},_gotoEndGame:function(a){f.get_instance().sound.stopMusic();this._flagWonPreviousGame=a;this._ui.changeScreenTo(t.END_GAME);$.onGameEnd()},_onGameNew:function(){this._resetFlagsResults()},_resetFlagsResults:function(){f.get_instance().resetValue(i.BOOL_GAME_WIN);f.get_instance().resetValue(i.BOOL_GAME_LOSE);f.get_instance().resetValue(i.BOOL_LEVEL_WIN);f.get_instance().resetValue(i.BOOL_LEVEL_LOSE)},_resetGameResults:function(){f.get_instance().resetValue(i.INT_SCORE)},
_generateWorld:function(){null!=this._world&&this._disposeWorld();this._world=new ve(this._layerWorld)},_onEventUpdate:function(a){a=Math.round(1E3*a)/1E3;0.06666666666666667<a&&(a=0.06666666666666667);this._flagJSEmbedExists&&jsembed.isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=jsembed.isPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay());f.get_instance().update(a);$.update(a);null!=this._ui&&this._ui.update(a);null!=this._sub&&this._sub.update(a);
null!=this._world&&this._world.update(a);f.get_instance().getBool(i.BOOL_GAME_LOSE)?y.dispatchFlowEvent(o.BRANCH_GAME_LOSE):f.get_instance().getBool(i.BOOL_GAME_WIN)?y.dispatchFlowEvent(o.BRANCH_GAME_WIN):f.get_instance().getBool(i.BOOL_LEVEL_LOSE)?y.dispatchFlowEvent(o.BRANCH_LEVEL_LOSE):f.get_instance().getBool(i.BOOL_LEVEL_WIN)&&y.dispatchFlowEvent(o.BRANCH_LEVEL_WIN);this._runFlowStack()},_addFlowEvent:function(a){this._flowstack.push(a)},_runFlowStack:function(){for(;0<this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),
this._flowstack.shift()},_executeFlowStack:function(a){switch(a[1]){case 0:this._handleWebAudioUnlock();$.onSplashPlay();f.get_instance().sound.playSound(l.sound.music_hub_stinger,0.3);this._playMenuMusic();this._ui.changeScreenTo(t.MAIN_MENU);break;case 1:f.get_instance().resetValue(i.BOOL_PAUSED);this._playMenuMusic();this._newOnChangeAction(t.MAIN_MENU,ia.OPEN_COMPLETE,p(this,this._openMainMenuComplete));this._ui.changeScreenTo(t.MAIN_MENU);break;case 2:this._ui.openScreen(t.UPGRADE);break;case 3:this._ui.closeScreen(t.UPGRADE);
break;case 4:this._ui.openScreen(t.VENUE_SELECT);break;case 5:this._ui.closeScreen(t.VENUE_SELECT);break;case 6:f.get_instance().sound.stopMusic();f.get_instance().sound.playSound(l.sound.hangout_stinger,0.3);this._gotoAndPlayGame();break;case 12:this._ui.openScreen(t.HELP);break;case 8:this._ui.openScreen(t.SHOP);break;case 9:this._ui.closeScreen(t.SHOP);break;case 7:this._ui.closeScreen(t.HELP);break;case 10:this._pauseGameplay();this._ui.openScreen(t.GAMEPLAY_MENU);break;case 11:this._unpauseGameplay();
this._ui.closeScreen(t.GAMEPLAY_MENU);break;case 13:this._ui.openScreen(t.QUIT_CONFIRM);break;case 14:f.get_instance().setBool(i.BOOL_QUIT,!0);this._playMenuMusic();this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;case 22:this._ui.openScreen(t.ENTER_CODE);break;case 21:this._ui.closeScreen(t.ENTER_CODE);break;case 15:this._ui.closeScreen(t.QUIT_CONFIRM);break;case 20:this._playMenuMusic();this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;
case 19:this._playMenuMusic();this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;case 17:this._playMenuMusic();this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;case 18:this._playMenuMusic();this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();f.get_instance().resetValue(i.INT_SCORE);f.get_instance().resetValue(i.INT_LIVES);break;case 16:this._disposeWorld();$.onPlayAgain();this._onGameNew();this._gotoAndPlayGame();f.get_instance().setBool(i.BOOL_PAUSED,
!1);break;case 23:this._playGameMusic();this._gotoAndPlayGame();break;case 24:this._ui.openScreen(t.ACHIEVEMENT_POPUP);break;case 25:this._ui.closeScreen(t.ACHIEVEMENT_POPUP);break;case 26:this._ui.openScreen(t.ACHIEVEMENTS);break;case 27:this._ui.closeScreen(t.ACHIEVEMENTS);break;case 28:this._ui.openScreen(t.DIALOGUE_POPUP);break;case 29:this._ui.closeScreen(t.DIALOGUE_POPUP);break;case 30:this._ui.closeScreen(t.DEBUG,!0)}},_openMainMenuComplete:function(){this._disposeWorld()},_pauseGameplay:function(a){null==
a&&(a=!0);a&&(this._flagGameplayPaused=!0);$.onPauseEvent();f.get_instance().dispatcher.dispatchEvent(Y.request(k.PAUSE))},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);$.onResumeEvent();f.get_instance().dispatcher.dispatchEvent(Y.request(k.UNPAUSE))},_newOnChangeAction:function(a,b,c){this._changeActions.push(new we(a,b,c))},_executeInterfaceChange:function(a,b){for(var c=this._changeActions.length,d;0<c--;)d=this._changeActions[c],d.get_screenId()==b&&d.get_changeEvent()==
a&&(this._changeActions.splice(c,1),d.get_action()())},_addEventListeners:function(){f.get_instance().dispatcher.addEventListener(k.MUTE_TOGGLE,p(this,this._onMuteToggle));f.get_instance().dispatcher.addEventListener(k.WORLD_GENERATION_COMPLETE,p(this,this._onWorldGenerationComplete));f.get_instance().dispatcher.addEventListener(k.INITIAL_LOAD_COMPLETE,p(this,this._eventInitialLoadComplete))},_enableInput:function(){f.get_instance().input.setEnabled(!0)},_onMuteToggle:function(){f.get_instance().sound.set_muteAll(!f.get_instance().sound.get_muteAll())},
_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0,f.get_instance().sound.playSound(l.sound.silent))},_onInterfaceChange:function(a,b){this._executeInterfaceChange(a,b)},_disposeWorld:function(){null!=this._world&&(this._world.dispose(),this._world=null)},_playGameMusic:function(){},_playMenuMusic:function(){f.get_instance().sound.playMusic(l.sound.hangout_music,0.3)},__class__:zb};var i=j["com.workinman.cloud.CLOUD"]={__ename__:["com","workinman","cloud",
"CLOUD"],__constructs__:"BOOL_GAME_LOSE,BOOL_GAME_WIN,BOOL_LEVEL_LOSE,BOOL_LEVEL_WIN,BOOL_PAUSED,BOOL_CODE_SCREEN_OPEN,BOOL_CODE_UNLOCK,BOOL_ALLOW_UNLOCK,BOOL_DUET,BOOL_DIALOGUE,BOOL_SONG_COMPLETED,BOOL_QUIT,BOOL_TUTORED_DUET,BOOL_TUTORED_STAR_POWER,BOOL_STAR_POWER_USED,BOOL_VENUE_UNLOCKED,BOOL_BAND_UNLOCKED,BOOL_ALL_ITEMS_UNLOCKED,INT_HEALTH,INT_LIVES,INT_SCORE,INT_LOADING_SCORE,INT_ACHIEVEMENT_SCORE,INT_CURRENCY,INT_LEVEL,INT_UNIQUE_INC,INT_MUSIC_SPEED,INT_SONG_TIME,INT_SONG_START,INT_SONGS_COMPLETED,INT_VENUES_COMPLETED,INT_VENUE_ID,INT_STAR_POWER,INT_NOTES_SESSION,INT_NOTES_TOTAL,INT_NOTES_ALLTIME,STRING_UNLOCK_CODE,STRING_REGION_ID,STRING_STAR_POWER_ID,STRING_CURRENT_DIALOGUE_ID,FLOAT_LOADING_PROGRESS,ENUM_ITEM_TARGET".split(",")};
i.BOOL_GAME_LOSE=["BOOL_GAME_LOSE",0];i.BOOL_GAME_LOSE.toString=h;i.BOOL_GAME_LOSE.__enum__=i;i.BOOL_GAME_WIN=["BOOL_GAME_WIN",1];i.BOOL_GAME_WIN.toString=h;i.BOOL_GAME_WIN.__enum__=i;i.BOOL_LEVEL_LOSE=["BOOL_LEVEL_LOSE",2];i.BOOL_LEVEL_LOSE.toString=h;i.BOOL_LEVEL_LOSE.__enum__=i;i.BOOL_LEVEL_WIN=["BOOL_LEVEL_WIN",3];i.BOOL_LEVEL_WIN.toString=h;i.BOOL_LEVEL_WIN.__enum__=i;i.BOOL_PAUSED=["BOOL_PAUSED",4];i.BOOL_PAUSED.toString=h;i.BOOL_PAUSED.__enum__=i;i.BOOL_CODE_SCREEN_OPEN=["BOOL_CODE_SCREEN_OPEN",
5];i.BOOL_CODE_SCREEN_OPEN.toString=h;i.BOOL_CODE_SCREEN_OPEN.__enum__=i;i.BOOL_CODE_UNLOCK=["BOOL_CODE_UNLOCK",6];i.BOOL_CODE_UNLOCK.toString=h;i.BOOL_CODE_UNLOCK.__enum__=i;i.BOOL_ALLOW_UNLOCK=["BOOL_ALLOW_UNLOCK",7];i.BOOL_ALLOW_UNLOCK.toString=h;i.BOOL_ALLOW_UNLOCK.__enum__=i;i.BOOL_DUET=["BOOL_DUET",8];i.BOOL_DUET.toString=h;i.BOOL_DUET.__enum__=i;i.BOOL_DIALOGUE=["BOOL_DIALOGUE",9];i.BOOL_DIALOGUE.toString=h;i.BOOL_DIALOGUE.__enum__=i;i.BOOL_SONG_COMPLETED=["BOOL_SONG_COMPLETED",10];i.BOOL_SONG_COMPLETED.toString=
h;i.BOOL_SONG_COMPLETED.__enum__=i;i.BOOL_QUIT=["BOOL_QUIT",11];i.BOOL_QUIT.toString=h;i.BOOL_QUIT.__enum__=i;i.BOOL_TUTORED_DUET=["BOOL_TUTORED_DUET",12];i.BOOL_TUTORED_DUET.toString=h;i.BOOL_TUTORED_DUET.__enum__=i;i.BOOL_TUTORED_STAR_POWER=["BOOL_TUTORED_STAR_POWER",13];i.BOOL_TUTORED_STAR_POWER.toString=h;i.BOOL_TUTORED_STAR_POWER.__enum__=i;i.BOOL_STAR_POWER_USED=["BOOL_STAR_POWER_USED",14];i.BOOL_STAR_POWER_USED.toString=h;i.BOOL_STAR_POWER_USED.__enum__=i;i.BOOL_VENUE_UNLOCKED=["BOOL_VENUE_UNLOCKED",
15];i.BOOL_VENUE_UNLOCKED.toString=h;i.BOOL_VENUE_UNLOCKED.__enum__=i;i.BOOL_BAND_UNLOCKED=["BOOL_BAND_UNLOCKED",16];i.BOOL_BAND_UNLOCKED.toString=h;i.BOOL_BAND_UNLOCKED.__enum__=i;i.BOOL_ALL_ITEMS_UNLOCKED=["BOOL_ALL_ITEMS_UNLOCKED",17];i.BOOL_ALL_ITEMS_UNLOCKED.toString=h;i.BOOL_ALL_ITEMS_UNLOCKED.__enum__=i;i.INT_HEALTH=["INT_HEALTH",18];i.INT_HEALTH.toString=h;i.INT_HEALTH.__enum__=i;i.INT_LIVES=["INT_LIVES",19];i.INT_LIVES.toString=h;i.INT_LIVES.__enum__=i;i.INT_SCORE=["INT_SCORE",20];i.INT_SCORE.toString=
h;i.INT_SCORE.__enum__=i;i.INT_LOADING_SCORE=["INT_LOADING_SCORE",21];i.INT_LOADING_SCORE.toString=h;i.INT_LOADING_SCORE.__enum__=i;i.INT_ACHIEVEMENT_SCORE=["INT_ACHIEVEMENT_SCORE",22];i.INT_ACHIEVEMENT_SCORE.toString=h;i.INT_ACHIEVEMENT_SCORE.__enum__=i;i.INT_CURRENCY=["INT_CURRENCY",23];i.INT_CURRENCY.toString=h;i.INT_CURRENCY.__enum__=i;i.INT_LEVEL=["INT_LEVEL",24];i.INT_LEVEL.toString=h;i.INT_LEVEL.__enum__=i;i.INT_UNIQUE_INC=["INT_UNIQUE_INC",25];i.INT_UNIQUE_INC.toString=h;i.INT_UNIQUE_INC.__enum__=
i;i.INT_MUSIC_SPEED=["INT_MUSIC_SPEED",26];i.INT_MUSIC_SPEED.toString=h;i.INT_MUSIC_SPEED.__enum__=i;i.INT_SONG_TIME=["INT_SONG_TIME",27];i.INT_SONG_TIME.toString=h;i.INT_SONG_TIME.__enum__=i;i.INT_SONG_START=["INT_SONG_START",28];i.INT_SONG_START.toString=h;i.INT_SONG_START.__enum__=i;i.INT_SONGS_COMPLETED=["INT_SONGS_COMPLETED",29];i.INT_SONGS_COMPLETED.toString=h;i.INT_SONGS_COMPLETED.__enum__=i;i.INT_VENUES_COMPLETED=["INT_VENUES_COMPLETED",30];i.INT_VENUES_COMPLETED.toString=h;i.INT_VENUES_COMPLETED.__enum__=
i;i.INT_VENUE_ID=["INT_VENUE_ID",31];i.INT_VENUE_ID.toString=h;i.INT_VENUE_ID.__enum__=i;i.INT_STAR_POWER=["INT_STAR_POWER",32];i.INT_STAR_POWER.toString=h;i.INT_STAR_POWER.__enum__=i;i.INT_NOTES_SESSION=["INT_NOTES_SESSION",33];i.INT_NOTES_SESSION.toString=h;i.INT_NOTES_SESSION.__enum__=i;i.INT_NOTES_TOTAL=["INT_NOTES_TOTAL",34];i.INT_NOTES_TOTAL.toString=h;i.INT_NOTES_TOTAL.__enum__=i;i.INT_NOTES_ALLTIME=["INT_NOTES_ALLTIME",35];i.INT_NOTES_ALLTIME.toString=h;i.INT_NOTES_ALLTIME.__enum__=i;i.STRING_UNLOCK_CODE=
["STRING_UNLOCK_CODE",36];i.STRING_UNLOCK_CODE.toString=h;i.STRING_UNLOCK_CODE.__enum__=i;i.STRING_REGION_ID=["STRING_REGION_ID",37];i.STRING_REGION_ID.toString=h;i.STRING_REGION_ID.__enum__=i;i.STRING_STAR_POWER_ID=["STRING_STAR_POWER_ID",38];i.STRING_STAR_POWER_ID.toString=h;i.STRING_STAR_POWER_ID.__enum__=i;i.STRING_CURRENT_DIALOGUE_ID=["STRING_CURRENT_DIALOGUE_ID",39];i.STRING_CURRENT_DIALOGUE_ID.toString=h;i.STRING_CURRENT_DIALOGUE_ID.__enum__=i;i.FLOAT_LOADING_PROGRESS=["FLOAT_LOADING_PROGRESS",
40];i.FLOAT_LOADING_PROGRESS.toString=h;i.FLOAT_LOADING_PROGRESS.__enum__=i;i.ENUM_ITEM_TARGET=["ENUM_ITEM_TARGET",41];i.ENUM_ITEM_TARGET.toString=h;i.ENUM_ITEM_TARGET.__enum__=i;i.__empty_constructs__=[i.BOOL_GAME_LOSE,i.BOOL_GAME_WIN,i.BOOL_LEVEL_LOSE,i.BOOL_LEVEL_WIN,i.BOOL_PAUSED,i.BOOL_CODE_SCREEN_OPEN,i.BOOL_CODE_UNLOCK,i.BOOL_ALLOW_UNLOCK,i.BOOL_DUET,i.BOOL_DIALOGUE,i.BOOL_SONG_COMPLETED,i.BOOL_QUIT,i.BOOL_TUTORED_DUET,i.BOOL_TUTORED_STAR_POWER,i.BOOL_STAR_POWER_USED,i.BOOL_VENUE_UNLOCKED,
i.BOOL_BAND_UNLOCKED,i.BOOL_ALL_ITEMS_UNLOCKED,i.INT_HEALTH,i.INT_LIVES,i.INT_SCORE,i.INT_LOADING_SCORE,i.INT_ACHIEVEMENT_SCORE,i.INT_CURRENCY,i.INT_LEVEL,i.INT_UNIQUE_INC,i.INT_MUSIC_SPEED,i.INT_SONG_TIME,i.INT_SONG_START,i.INT_SONGS_COMPLETED,i.INT_VENUES_COMPLETED,i.INT_VENUE_ID,i.INT_STAR_POWER,i.INT_NOTES_SESSION,i.INT_NOTES_TOTAL,i.INT_NOTES_ALLTIME,i.STRING_UNLOCK_CODE,i.STRING_REGION_ID,i.STRING_STAR_POWER_ID,i.STRING_CURRENT_DIALOGUE_ID,i.FLOAT_LOADING_PROGRESS,i.ENUM_ITEM_TARGET];var xe=
function(){this.achievement_desc_7="achievement_desc_7";this.achievement_name_7="achievement_name_7";this.achievement_desc_6="achievement_desc_6";this.achievement_name_6="achievement_name_6";this.achievement_desc_5="achievement_desc_5";this.achievement_name_5="achievement_name_5";this.achievement_desc_4="achievement_desc_4";this.achievement_name_4="achievement_name_4";this.achievement_desc_3="achievement_desc_3";this.achievement_name_3="achievement_name_3";this.achievement_desc_2="achievement_desc_2";
this.achievement_name_2="achievement_name_2";this.achievement_desc_1="achievement_desc_1";this.achievement_name_1="achievement_name_1";this.achievement_desc_0="achievement_desc_0";this.achievement_name_0="achievement_name_0";this.venue_unlock="venue_unlock";this.enter_code_header="enter_code_header";this.code_copy="code_copy";this.debugfield="debugfield";this.achievement_unlocked="achievement_unlocked";this.gameplay_notes_counter="gameplay_notes_counter";this.gameplay_song_time="gameplay_song_time";
this.end_continue="end_continue";this.end_notes_total="end_notes_total";this.end_notes_session="end_notes_session";this.end_label_quit="end_label_quit";this.end_label_win="end_label_win";this.quit_confirm_header="quit_confirm_header";this.help_2="help_2";this.help_1="help_1";this.no="no";this.yes="yes";this.item_get="item_get";this.venue_select_header="venue_select_header";this.venue_play="venue_play";this.upgrade_cost="upgrade_cost";this.item_venue1_desc="item_venue1_desc";this.item_venue1_name=
"item_venue1_name";this.back="back";this.click_anywhere="click_anywhere";this.tap_anywhere="tap_anywhere";this.loading="loading"};j["com.workinman.cloud._WMManifest.TLocal"]=xe;xe.__name__=["com","workinman","cloud","_WMManifest","TLocal"];xe.prototype={__class__:xe};var ye=function(){this.whoosh="whoosh";this.unlock="unlock";this.earned="earned";this.button="button";this.music_hub_stinger="music_hub_stinger";this.music_hub="music_hub";this.hangout_stinger="hangout_stinger";this.hangout_music="hangout_music";
this.light="light";this.get1="get1";this.cheer_long="cheer_long";this.cheer="cheer";this.silent="silent"};j["com.workinman.cloud._WMManifest.TSound"]=ye;ye.__name__=["com","workinman","cloud","_WMManifest","TSound"];ye.prototype={__class__:ye};var He=function(){this.lynn=new ze;this.luna=new Ae;this.lucy=new Be;this.luan=new Ce;this.lisa=new De;this.lincoln=new Ee;this.leni=new Fe;this.lana=new Ge};j["com.workinman.cloud._WMManifest.TSpine"]=He;He.__name__=["com","workinman","cloud","_WMManifest",
"TSpine"];He.prototype={__class__:He};var Ie=function(){this.loading_faceplate="loading_faceplate";this.loader_bg="loader_bg";this.debug_button="debug_button";this.lincoln_guitar3="lincoln_guitar3";this.drums3="drums3";this.upgrade_arrow="upgrade_arrow";this.stool="stool";this.pointer_hand="pointer_hand";this.box_lights="box_lights";this.bg_garage_radio="bg_garage_radio";this.luna_guitar3="luna_guitar3";this.luna_guitar2="luna_guitar2";this.lincoln_guitar2="lincoln_guitar2";this.lincoln_guitar1="lincoln_guitar1";
this.drums2="drums2";this.drums1="drums1";this.bass3="bass3";this.bass2="bass2";this.bass1="bass1";this.tray_venue="tray_venue";this.tray_title="tray_title";this.ui_upgrade_title="ui_upgrade_title";this.ui_gameplay_note="ui_gameplay_note";this.item_unboxed="item_unboxed";this.hub_button_get_disabled="hub_button_get_disabled";this.achievements_bar="achievements_bar";this.achievement_icon_locked="achievement_icon_locked";this.achievement_icon="achievement_icon";this.luna_guitar1="luna_guitar1";this.lily_tambourine=
"lily_tambourine";this.keyboard3="keyboard3";this.keyboard2="keyboard2";this.keyboard1="keyboard1";this.shadow="shadow";this.deco_streamers="deco_streamers";this.deco_stars="deco_stars";this.deco_lights_white="deco_lights_white";this.deco_lights_color="deco_lights_color";this.hub_button_get="hub_button_get";this.hub_button_close="hub_button_close";this.bg_garage_tv_static3="bg_garage_tv_static3";this.bg_garage_tv_static2="bg_garage_tv_static2";this.bg_garage_tv_static1="bg_garage_tv_static1";this.bg_garage_tv_off=
"bg_garage_tv_off";this.bg_door="bg_door";this.achievement_tray="achievement_tray";this.achievement_button_up="achievement_button_up";this.achievement_button_down="achievement_button_down";this.ui_meter_notebubble="ui_meter_notebubble";this.ui_quit_confirm_yes="ui_quit_confirm_yes";this.ui_help_window="ui_help_window";this.ui_exit_button="ui_exit_button";this.star_bar_fill="star_bar_fill";this.white_ring="white_ring";this.loudhouse_bubble_luna="loudhouse_bubble_luna";this.loudhouse_bubble_lincoln=
"loudhouse_bubble_lincoln";this.music_separator="music_separator";this.loudhouse_note_luna="loudhouse_note_luna";this.music_marker="music_marker";this.loudhouse_musicbar_lincoln="loudhouse_musicbar_lincoln";this.loudhouse_musicbar_half_lincoln="loudhouse_musicbar_half_lincoln";this.hud_music_track="hud_music_track";this.audience_4="audience_4";this.audience_3="audience_3";this.audience_2="audience_2";this.ui_sound_button_off="ui_sound_button_off";this.ui_sound_button="ui_sound_button";this.ui_resume_button=
"ui_resume_button";this.ui_quit_confirm_no="ui_quit_confirm_no";this.ui_pause_window="ui_pause_window";this.ui_help_button="ui_help_button";this.star_icon="star_icon";this.star_bar_frame="star_bar_frame";this.particle_confetti="particle_confetti";this.loudhouse_note_lincoln="loudhouse_note_lincoln";this.icon_timer="icon_timer";this.hud_button_pause="hud_button_pause";this.audience_1="audience_1";this.button_effect_lightshow_disabled="button_effect_lightshow_disabled";this.button_effect_lightshow=
"button_effect_lightshow";this.button_effect_fireworks_disabled="button_effect_fireworks_disabled";this.button_effect_fireworks="button_effect_fireworks";this.button_effect_confetti_disabled="button_effect_confetti_disabled";this.button_effect_confetti="button_effect_confetti";this.band_member_hitbox="band_member_hitbox";this.band_member_glow_selected="band_member_glow_selected";this.hangout_overlay="hangout_overlay";this.hangout_bg="hangout_bg";this.dialogue_box="dialogue_box";this.button_venue_locked=
"button_venue_locked";this.star_particle="star_particle";this.music_note_fill="music_note_fill";this.band_member_highlight="band_member_highlight";this.loudhouse_splash="loudhouse_splash"};j["com.workinman.cloud._WMManifest.TTexture"]=Ie;Ie.__name__=["com","workinman","cloud","_WMManifest","TTexture"];Ie.prototype={__class__:Ie};var Je=function(){this.translation="translation"};j["com.workinman.cloud._WMManifest.TXml"]=Je;Je.__name__=["com","workinman","cloud","_WMManifest","TXml"];Je.prototype={__class__:Je};
var l=function(){};j["com.workinman.cloud.WMManifest"]=l;l.__name__=["com","workinman","cloud","WMManifest"];var lb=function(a,b,c,d,g,s,e){this.id=a;this.valueId=b;this.value=c;this.points=d;this.achieved=!1;this.locName=g;this.locDescription=s;this.icon=e};j["com.workinman.cloudutils.AchievementData"]=lb;lb.__name__=["com","workinman","cloudutils","AchievementData"];lb.prototype={__class__:lb};var Fb=function(){};j["com.nick.loudhouse.music_game.data.ConstantsAchievement"]=Fb;Fb.__name__="com,nick,loudhouse,music_game,data,ConstantsAchievement".split(",");
var Aa=function(){this.init()};j["com.nick.loudhouse.music_game.data.LocalStorage"]=Aa;Aa.__name__="com,nick,loudhouse,music_game,data,LocalStorage".split(",");Aa.__properties__={get_instance:"get_instance"};Aa.get_instance=function(){null==Aa.__instance&&(Aa.__instance=new Aa);return Aa.__instance};Aa.prototype={init:function(){f.get_instance().setInt(i.INT_VENUE_ID,0);f.get_instance().setInt(i.INT_CURRENCY,0);f.get_instance().setInt(i.INT_NOTES_ALLTIME,0);f.get_instance().setInt(i.INT_SONGS_COMPLETED,
0)},save:function(){this.saveData.version="0.9.7";this.saveData.inventory=f.get_instance().inventory.getInventoryState();this.saveData.currency=f.get_instance().getInt(i.INT_CURRENCY);this.saveData.currencyAllTime=f.get_instance().getInt(i.INT_NOTES_ALLTIME);this.saveData.songsCompleted=f.get_instance().getInt(i.INT_SONGS_COMPLETED);this.saveData.venue=f.get_instance().getInt(i.INT_VENUE_ID);this.saveData.tutoredDuet=f.get_instance().getBool(i.BOOL_TUTORED_DUET);this.saveData.tutoredStarPower=f.get_instance().getBool(i.BOOL_TUTORED_STAR_POWER);
f.get_instance().saving.setData("n_sor_bl_003",this.saveData)},load:function(){this.saveData=f.get_instance().saving.getData("n_sor_bl_003");if("-1"==this.saveData.version)this._createNewSave();else try{switch(this.saveData.version){case "0.9.7":f.get_instance().setInt(i.INT_CURRENCY,this.saveData.currency),f.get_instance().setInt(i.INT_NOTES_ALLTIME,this.saveData.currencyAllTime),null==this.saveData.songsCompleted?f.get_instance().setInt(i.INT_SONGS_COMPLETED,0):f.get_instance().setInt(i.INT_SONGS_COMPLETED,
this.saveData.songsCompleted),null==this.saveData.venue?f.get_instance().setInt(i.INT_VENUE_ID,0):f.get_instance().setInt(i.INT_VENUE_ID,this.saveData.venue),null==this.saveData.tutoredDuet?f.get_instance().setBool(i.BOOL_TUTORED_DUET,!1):f.get_instance().setBool(i.BOOL_TUTORED_DUET,this.saveData.tutoredDuet),null==this.saveData.tutoredStarPower?f.get_instance().setBool(i.BOOL_TUTORED_STAR_POWER,!1):f.get_instance().setBool(i.BOOL_TUTORED_STAR_POWER,this.saveData.tutoredStarPower),f.get_instance().inventory.loadInventoryState(this.saveData.inventory)}}catch(a){this._createNewSave()}},
_createNewSave:function(){this.init()},get_currency:function(){return f.get_instance().getInt(i.INT_CURRENCY)},get_currencyAlltime:function(){return f.get_instance().getInt(i.INT_NOTES_ALLTIME)},get_venue:function(){return f.get_instance().getInt(i.INT_VENUE_ID)},get_inventory:function(){return f.get_instance().inventory.getInventoryState()},__class__:Aa,__properties__:{get_inventory:"get_inventory",get_venue:"get_venue",get_currencyAlltime:"get_currencyAlltime",get_currency:"get_currency"}};var kg=
function(){};j["com.nick.loudhouse.music_game.data.dialogue.ConstantsDialogue"]=kg;kg.__name__="com,nick,loudhouse,music_game,data,dialogue,ConstantsDialogue".split(",");kg.buildDialogueData=function(a){switch(a[1]){case 0:return[new Za({id:"welcome_ready",text:"tutorial_welcome1",position:oa.BOTTOM,mobileToggle:!1,pointerType:ha.TAP,pointerLocation:N.request(-375,-200),portrait:"portrait_luna"})];case 1:return[new Za({id:"firstplay_click",text:"tutorial_firstplay",position:oa.BOTTOM,mobileToggle:!1,
pointerType:ha.TAP,pointerLocation:N.request(0,-250),otherPointerType:ha.POINT,otherPointerLocation:N.request(0,-80),portrait:"portrait_lynn"})];case 2:return[new Za({id:"spotlit",text:"tutorial_firstplay_notes",position:oa.BOTTOM,mobileToggle:!0,portrait:"portrait_luna"})];case 3:return[new Za({id:"unlock_lucy_click",text:"tutorial_unlock_lucy",position:oa.BOTTOM,mobileToggle:!1,pointerType:ha.TAP,pointerLocation:N.request(100,0),portrait:"portrait_luna"})];case 4:return[new Za({id:"duet",text:"tutorial_duet",
position:oa.BOTTOM,mobileToggle:!1,portrait:"portrait_lynn"})];case 5:return[new Za({id:"buy_item",text:"tutorial_buy_item1",position:oa.BOTTOM,mobileToggle:!1,portrait:"portrait_lola"}),new Za({id:"buy_item_click",text:"tutorial_buy_item2",position:oa.BOTTOM,mobileToggle:!1,pointerType:ha.TAP,pointerLocation:N.request(380,75),portrait:"portrait_luna"})];case 6:return[new Za({id:"buy_effect_click",text:"tutorial_buy_effect1",position:oa.BOTTOM,mobileToggle:!1,pointerType:ha.TAP,pointerLocation:N.request(-220,
-120),portrait:"portrait_lynn"})];case 7:return[new Za({id:"star_power",text:"tutorial_star_power1",position:oa.BOTTOM,mobileToggle:!0,portrait:"portrait_luna"})]}};var Q=j["com.nick.loudhouse.music_game.data.dialogue.DIALOGUE_ID"]={__ename__:"com,nick,loudhouse,music_game,data,dialogue,DIALOGUE_ID".split(","),__constructs__:"DIALOGUE_WELCOME,DIALOGUE_FIRST_PLAY_1,DIALOGUE_FIRST_PLAY_2,DIALOGUE_UNLOCK_LUCY,DIALOGUE_DUET,DIALOGUE_BUY_ITEM,DIALOGUE_BUY_EFFECT,DIALOGUE_STAR_POWER".split(",")};Q.DIALOGUE_WELCOME=
["DIALOGUE_WELCOME",0];Q.DIALOGUE_WELCOME.toString=h;Q.DIALOGUE_WELCOME.__enum__=Q;Q.DIALOGUE_FIRST_PLAY_1=["DIALOGUE_FIRST_PLAY_1",1];Q.DIALOGUE_FIRST_PLAY_1.toString=h;Q.DIALOGUE_FIRST_PLAY_1.__enum__=Q;Q.DIALOGUE_FIRST_PLAY_2=["DIALOGUE_FIRST_PLAY_2",2];Q.DIALOGUE_FIRST_PLAY_2.toString=h;Q.DIALOGUE_FIRST_PLAY_2.__enum__=Q;Q.DIALOGUE_UNLOCK_LUCY=["DIALOGUE_UNLOCK_LUCY",3];Q.DIALOGUE_UNLOCK_LUCY.toString=h;Q.DIALOGUE_UNLOCK_LUCY.__enum__=Q;Q.DIALOGUE_DUET=["DIALOGUE_DUET",4];Q.DIALOGUE_DUET.toString=
h;Q.DIALOGUE_DUET.__enum__=Q;Q.DIALOGUE_BUY_ITEM=["DIALOGUE_BUY_ITEM",5];Q.DIALOGUE_BUY_ITEM.toString=h;Q.DIALOGUE_BUY_ITEM.__enum__=Q;Q.DIALOGUE_BUY_EFFECT=["DIALOGUE_BUY_EFFECT",6];Q.DIALOGUE_BUY_EFFECT.toString=h;Q.DIALOGUE_BUY_EFFECT.__enum__=Q;Q.DIALOGUE_STAR_POWER=["DIALOGUE_STAR_POWER",7];Q.DIALOGUE_STAR_POWER.toString=h;Q.DIALOGUE_STAR_POWER.__enum__=Q;Q.__empty_constructs__=[Q.DIALOGUE_WELCOME,Q.DIALOGUE_FIRST_PLAY_1,Q.DIALOGUE_FIRST_PLAY_2,Q.DIALOGUE_UNLOCK_LUCY,Q.DIALOGUE_DUET,Q.DIALOGUE_BUY_ITEM,
Q.DIALOGUE_BUY_EFFECT,Q.DIALOGUE_STAR_POWER];var ha=j["com.nick.loudhouse.music_game.data.dialogue.DIALOGUE_POINTER"]={__ename__:"com,nick,loudhouse,music_game,data,dialogue,DIALOGUE_POINTER".split(","),__constructs__:["TAP","POINT","SWIPE","NONE"]};ha.TAP=["TAP",0];ha.TAP.toString=h;ha.TAP.__enum__=ha;ha.POINT=["POINT",1];ha.POINT.toString=h;ha.POINT.__enum__=ha;ha.SWIPE=["SWIPE",2];ha.SWIPE.toString=h;ha.SWIPE.__enum__=ha;ha.NONE=["NONE",3];ha.NONE.toString=h;ha.NONE.__enum__=ha;ha.__empty_constructs__=
[ha.TAP,ha.POINT,ha.SWIPE,ha.NONE];var oa=j["com.nick.loudhouse.music_game.data.dialogue.DIALOGUE_POSITION"]={__ename__:"com,nick,loudhouse,music_game,data,dialogue,DIALOGUE_POSITION".split(","),__constructs__:["TOP","CENTER","BOTTOM"]};oa.TOP=["TOP",0];oa.TOP.toString=h;oa.TOP.__enum__=oa;oa.CENTER=["CENTER",1];oa.CENTER.toString=h;oa.CENTER.__enum__=oa;oa.BOTTOM=["BOTTOM",2];oa.BOTTOM.toString=h;oa.BOTTOM.__enum__=oa;oa.__empty_constructs__=[oa.TOP,oa.CENTER,oa.BOTTOM];var Za=function(a){this.id=
a.id;this.text=a.text;this.position=oa.CENTER;this.mobileToggle=!1;this.pointerLocation=null;this.pointerType=ha.NONE;this.otherPointerLocation=null;this.otherPointerType=ha.NONE;this.portrait="portrait_luna";this.endEvent=this.triggerEvent=null;null!=a&&(null!=a.position&&(this.position=a.position),null!=a.mobileToggle&&(this.mobileToggle=a.mobileToggle),null!=a.pointerLocation&&(this.pointerLocation=a.pointerLocation),null!=a.pointerType&&(this.pointerType=a.pointerType),null!=a.otherPointerLocation&&
(this.otherPointerLocation=a.otherPointerLocation),null!=a.otherPointerType&&(this.otherPointerType=a.otherPointerType),null!=a.portrait&&(this.portrait=a.portrait),null!=a.triggerEvent&&(this.triggerEvent=a.triggerEvent),null!=a.endEvent&&(this.endEvent=a.endEvent));this._completed=!1};j["com.nick.loudhouse.music_game.data.dialogue.DialogueData"]=Za;Za.__name__="com,nick,loudhouse,music_game,data,dialogue,DialogueData".split(",");Za.prototype={dispose:function(){this.text=this.position=this.id=null;
null!=this.pointerLocation&&(this.pointerLocation.dispose(),this.pointerLocation=null);this.endEvent=this.triggerEvent=this.portrait=this.pointerType=null},__class__:Za};var lg=function(){};j["com.nick.loudhouse.music_game.data.inventory.ConstantsInventory"]=lg;lg.__name__="com,nick,loudhouse,music_game,data,inventory,ConstantsInventory".split(",");lg.buildInventoryList=function(){for(var a=new ta,b=0,c=ea.allEnums(m);b<c.length;){var d=c[b];++b;switch(d[1]){case 0:var g=new Xc;a.set(d,g);g;break;
case 1:g=new Yc;a.set(d,g);g;break;case 2:g=new Zc;a.set(d,g);g;break;case 3:g=new $c;a.set(d,g);g;break;case 5:g=new ad;a.set(d,g);g;break;case 7:g=new bd;a.set(d,g);g;break;case 6:g=new cd;a.set(d,g);g;break;case 8:g=new dd;a.set(d,g);g;break;case 9:g=new ed;a.set(d,g);g;break;case 10:g=new fd;a.set(d,g);g;break;case 11:g=new gd;a.set(d,g);g;break;case 12:g=new hd;a.set(d,g);g;break;case 13:g=new id;a.set(d,g);g;break;case 14:g=new jd;a.set(d,g);g;break;case 15:g=new kd;a.set(d,g);g;break;case 16:g=
new ld;a.set(d,g);g;break;case 17:g=new md;a.set(d,g);g;break;case 18:g=new nd;a.set(d,g);g;break;case 4:g=new od,a.set(d,g),g}}return a};var m=j["com.nick.loudhouse.music_game.data.inventory.INVENTORY_ITEM"]={__ename__:"com,nick,loudhouse,music_game,data,inventory,INVENTORY_ITEM".split(","),__constructs__:"COUCH,POSTER,RUG,SPEAKERS,WALLPAPER,CONFETTI,LIGHTSHOW,FIREWORKS,MUSICIAN_1,MUSICIAN_2,MUSICIAN_3,MUSICIAN_4,MUSICIAN_5,MUSICIAN_6,VENUE_1,VENUE_2,VENUE_3,VENUE_4,VENUE_5".split(",")};m.COUCH=
["COUCH",0];m.COUCH.toString=h;m.COUCH.__enum__=m;m.POSTER=["POSTER",1];m.POSTER.toString=h;m.POSTER.__enum__=m;m.RUG=["RUG",2];m.RUG.toString=h;m.RUG.__enum__=m;m.SPEAKERS=["SPEAKERS",3];m.SPEAKERS.toString=h;m.SPEAKERS.__enum__=m;m.WALLPAPER=["WALLPAPER",4];m.WALLPAPER.toString=h;m.WALLPAPER.__enum__=m;m.CONFETTI=["CONFETTI",5];m.CONFETTI.toString=h;m.CONFETTI.__enum__=m;m.LIGHTSHOW=["LIGHTSHOW",6];m.LIGHTSHOW.toString=h;m.LIGHTSHOW.__enum__=m;m.FIREWORKS=["FIREWORKS",7];m.FIREWORKS.toString=h;
m.FIREWORKS.__enum__=m;m.MUSICIAN_1=["MUSICIAN_1",8];m.MUSICIAN_1.toString=h;m.MUSICIAN_1.__enum__=m;m.MUSICIAN_2=["MUSICIAN_2",9];m.MUSICIAN_2.toString=h;m.MUSICIAN_2.__enum__=m;m.MUSICIAN_3=["MUSICIAN_3",10];m.MUSICIAN_3.toString=h;m.MUSICIAN_3.__enum__=m;m.MUSICIAN_4=["MUSICIAN_4",11];m.MUSICIAN_4.toString=h;m.MUSICIAN_4.__enum__=m;m.MUSICIAN_5=["MUSICIAN_5",12];m.MUSICIAN_5.toString=h;m.MUSICIAN_5.__enum__=m;m.MUSICIAN_6=["MUSICIAN_6",13];m.MUSICIAN_6.toString=h;m.MUSICIAN_6.__enum__=m;m.VENUE_1=
["VENUE_1",14];m.VENUE_1.toString=h;m.VENUE_1.__enum__=m;m.VENUE_2=["VENUE_2",15];m.VENUE_2.toString=h;m.VENUE_2.__enum__=m;m.VENUE_3=["VENUE_3",16];m.VENUE_3.toString=h;m.VENUE_3.__enum__=m;m.VENUE_4=["VENUE_4",17];m.VENUE_4.toString=h;m.VENUE_4.__enum__=m;m.VENUE_5=["VENUE_5",18];m.VENUE_5.toString=h;m.VENUE_5.__enum__=m;m.__empty_constructs__=[m.COUCH,m.POSTER,m.RUG,m.SPEAKERS,m.WALLPAPER,m.CONFETTI,m.LIGHTSHOW,m.FIREWORKS,m.MUSICIAN_1,m.MUSICIAN_2,m.MUSICIAN_3,m.MUSICIAN_4,m.MUSICIAN_5,m.MUSICIAN_6,
m.VENUE_1,m.VENUE_2,m.VENUE_3,m.VENUE_4,m.VENUE_5];var J=function(){this._currentRank=this.get_rankDefault()};j["com.nick.loudhouse.music_game.data.inventory.ItemData"]=J;J.__name__="com,nick,loudhouse,music_game,data,inventory,ItemData".split(",");J.prototype={get_type:function(){return null},get_uniqueSuffix:function(){return""},get_rankCap:function(){return 3},get_rankDefault:function(){return 0},get_rankMin:function(){return this.get_rankDefault()},get_costToPurchaseNextRank:function(){return 20+
20*this._currentRank},get_currencyType:function(){return i.INT_CURRENCY},get_itemAsset:function(){return this.getItemAsset(0)},get_itemAssetNext:function(){return this.getItemAsset(1)},getItemAsset:function(a){switch(this.get_type()[1]){case 8:case 9:case 10:case 11:case 12:case 13:if(0==this._currentRank+a)return l.texture.stool}switch(this.get_type()[1]){case 4:a=l.texture.box_lights;break;case 8:switch(this._currentRank+a){case 1:a=l.texture.luna_guitar1;break;case 2:a=l.texture.luna_guitar2;break;
case 3:a=l.texture.luna_guitar3;break;default:a=l.texture.luna_guitar1}break;case 9:switch(this._currentRank+a){case 1:a=l.texture.drums1;break;case 2:a=l.texture.drums2;break;case 3:a=l.texture.drums3;break;default:a=l.texture.drums1}break;case 10:switch(this._currentRank+a){case 1:a=l.texture.keyboard1;break;case 2:a=l.texture.keyboard2;break;case 3:a=l.texture.keyboard3;break;default:a=l.texture.keyboard1}break;case 11:switch(this._currentRank+a){case 1:a=l.texture.lincoln_guitar1;break;case 2:a=
l.texture.lincoln_guitar2;break;case 3:a=l.texture.lincoln_guitar3;break;default:a=l.texture.lincoln_guitar1}break;case 12:switch(this._currentRank+a){case 1:a=l.texture.bass1;break;case 2:a=l.texture.bass2;break;case 3:a=l.texture.bass3;break;default:a=l.texture.bass1}break;case 13:a=l.texture.lily_tambourine;break;default:a=0==this._currentRank+a?l.texture.item_unboxed:"item_"+this.get_uniqueSuffix()+"_"+(this._currentRank+a)}return a},get_itemName:function(){return"item_"+this.get_uniqueSuffix()+
"_name"},itemDesc:function(a,b){null==b&&(b=!1);null==a&&(a=0);return b?"item_"+this.get_uniqueSuffix()+"_desc":0>=this._currentRank+a?"item_unowned":"item_"+this.get_uniqueSuffix()+"_desc_"+(this.get_currentRank()+a)},get_canAffordNextRank:function(){return this.get_hasRankCapped()?!1:f.get_instance().getInt(this.get_currencyType())>=this.get_costToPurchaseNextRank()},get_currentRank:function(){return this._currentRank},hasRank:function(a){return this._currentRank>=a},get_hasRankCapped:function(){return this._currentRank>=
this.get_rankCap()},setRank:function(a){this._currentRank=Ua.clamp(a,this.get_rankMin(),this.get_rankCap())},modRank:function(a){null==a&&(a=1);return this._currentRank=Ua.clamp(this._currentRank+a,this.get_rankMin(),this.get_rankCap())},__class__:J,__properties__:{get_hasRankCapped:"get_hasRankCapped",get_currentRank:"get_currentRank",get_canAffordNextRank:"get_canAffordNextRank",get_itemName:"get_itemName",get_itemAssetNext:"get_itemAssetNext",get_itemAsset:"get_itemAsset",get_currencyType:"get_currencyType",
get_costToPurchaseNextRank:"get_costToPurchaseNextRank",get_rankMin:"get_rankMin",get_rankDefault:"get_rankDefault",get_rankCap:"get_rankCap",get_uniqueSuffix:"get_uniqueSuffix",get_type:"get_type"}};var ad=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemConfetti"]=ad;ad.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemConfetti".split(",");ad.__super__=J;ad.prototype=u(J.prototype,{get_type:function(){return m.CONFETTI},get_uniqueSuffix:function(){return"powers"},
get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 10;case 1:return 500;case 2:return 1E3;case 3:return 5E3;default:return 0}},__class__:ad});var Xc=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemCouch"]=Xc;Xc.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemCouch".split(",");Xc.__super__=J;Xc.prototype=u(J.prototype,{get_type:function(){return m.COUCH},get_uniqueSuffix:function(){return"couch"},
get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 500;case 1:return 1E3;case 2:return 5E3;case 3:return 1E4;default:return 0}},__class__:Xc});var bd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemFireworks"]=bd;bd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemFireworks".split(",");bd.__super__=J;bd.prototype=u(J.prototype,{get_type:function(){return m.FIREWORKS},get_uniqueSuffix:function(){return"fireworks"},
get_rankCap:function(){return 1},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 750;case 1:return 500;case 2:return 1E3;case 3:return 5E3;default:return 0}},__class__:bd});var cd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemLightShow"]=cd;cd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemLightShow".split(",");cd.__super__=J;cd.prototype=u(J.prototype,{get_type:function(){return m.LIGHTSHOW},get_uniqueSuffix:function(){return"lightshow"},
get_rankCap:function(){return 1},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 500;case 1:return 500;case 2:return 1E3;case 3:return 5E3;default:return 0}},__class__:cd});var dd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemMusician1"]=dd;dd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemMusician1".split(",");dd.__super__=J;dd.prototype=u(J.prototype,{get_type:function(){return m.MUSICIAN_1},get_uniqueSuffix:function(){return"musician1"},
get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 50;case 1:return 500;case 2:return 1E3;case 3:return 5E3;default:return 0}},get_rankDefault:function(){return 1},__class__:dd});var ed=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemMusician2"]=ed;ed.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemMusician2".split(",");ed.__super__=J;ed.prototype=u(J.prototype,{get_type:function(){return m.MUSICIAN_2},
get_uniqueSuffix:function(){return"musician2"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 50;case 1:return 500;case 2:return 1E3;case 3:return 5E3;default:return 0}},__class__:ed});var fd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemMusician3"]=fd;fd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemMusician3".split(",");fd.__super__=J;fd.prototype=u(J.prototype,{get_type:function(){return m.MUSICIAN_3},
get_uniqueSuffix:function(){return"musician3"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 50;case 1:return 500;case 2:return 1E3;case 3:return 5E3;default:return 0}},__class__:fd});var gd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemMusician4"]=gd;gd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemMusician4".split(",");gd.__super__=J;gd.prototype=u(J.prototype,{get_type:function(){return m.MUSICIAN_4},
get_uniqueSuffix:function(){return"musician4"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 50;case 1:return 500;case 2:return 1E3;case 3:return 5E3;default:return 0}},__class__:gd});var hd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemMusician5"]=hd;hd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemMusician5".split(",");hd.__super__=J;hd.prototype=u(J.prototype,{get_type:function(){return m.MUSICIAN_5},
get_uniqueSuffix:function(){return"musician5"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 20;case 1:return 500;case 2:return 1E3;case 3:return 5E3;default:return 0}},__class__:hd});var id=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemMusician6"]=id;id.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemMusician6".split(",");id.__super__=J;id.prototype=u(J.prototype,{get_type:function(){return m.MUSICIAN_6},
get_uniqueSuffix:function(){return"musician6"},get_rankCap:function(){return 4},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 0;case 1:return 20;case 2:return 2500;case 3:return 7500;case 4:return 15E3;default:return 0}},get_rankDefault:function(){return 1},__class__:id});var Yc=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemPoster"]=Yc;Yc.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemPoster".split(",");Yc.__super__=
J;Yc.prototype=u(J.prototype,{get_type:function(){return m.POSTER},get_uniqueSuffix:function(){return"poster"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 200;case 1:return 750;case 2:return 2E3;case 3:return 7500;default:return 0}},__class__:Yc});var Zc=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemRug"]=Zc;Zc.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemRug".split(",");Zc.__super__=
J;Zc.prototype=u(J.prototype,{get_type:function(){return m.RUG},get_uniqueSuffix:function(){return"rug"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 20;case 1:return 800;case 2:return 3E3;case 3:return 8E3;default:return 0}},__class__:Zc});var $c=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemSpeakers"]=$c;$c.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemSpeakers".split(",");$c.__super__=
J;$c.prototype=u(J.prototype,{get_type:function(){return m.SPEAKERS},get_uniqueSuffix:function(){return"speakers"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 100;case 1:return 300;case 2:return 750;case 3:return 2E3;default:return 0}},__class__:$c});var jd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemVenue1"]=jd;jd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemVenue1".split(",");
jd.__super__=J;jd.prototype=u(J.prototype,{get_type:function(){return m.VENUE_1},get_uniqueSuffix:function(){return"venue1"},get_rankCap:function(){return 1},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 0;default:return 0}},get_rankDefault:function(){return 1},__class__:jd});var kd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemVenue2"]=kd;kd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemVenue2".split(",");kd.__super__=
J;kd.prototype=u(J.prototype,{get_type:function(){return m.VENUE_2},get_uniqueSuffix:function(){return"venue2"},get_rankCap:function(){return 1},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 200;default:return 0}},__class__:kd});var ld=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemVenue3"]=ld;ld.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemVenue3".split(",");ld.__super__=J;ld.prototype=u(J.prototype,{get_type:function(){return m.VENUE_3},
get_uniqueSuffix:function(){return"venue3"},get_rankCap:function(){return 1},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 400;default:return 0}},__class__:ld});var md=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemVenue4"]=md;md.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemVenue4".split(",");md.__super__=J;md.prototype=u(J.prototype,{get_type:function(){return m.VENUE_4},get_uniqueSuffix:function(){return"venue4"},
get_rankCap:function(){return 1},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 800;default:return 0}},__class__:md});var nd=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemVenue5"]=nd;nd.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemVenue5".split(",");nd.__super__=J;nd.prototype=u(J.prototype,{get_type:function(){return m.VENUE_5},get_uniqueSuffix:function(){return"venue5"},get_rankCap:function(){return 1},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 1200;
default:return 0}},__class__:nd});var od=function(){J.call(this)};j["com.nick.loudhouse.music_game.data.inventory.items.ItemWallpaper"]=od;od.__name__="com,nick,loudhouse,music_game,data,inventory,items,ItemWallpaper".split(",");od.__super__=J;od.prototype=u(J.prototype,{get_type:function(){return m.WALLPAPER},get_uniqueSuffix:function(){return"box_lights"},get_rankCap:function(){return 3},get_costToPurchaseNextRank:function(){switch(this._currentRank){case 0:return 150;case 1:return 750;case 2:return 2E3;
default:return 0}},__class__:od});var T=function(a){this.children=[];this.parent=null;this._matrix=new nb;this._viewMatrix=new nb;this.pos=N.request(0,0,0);this.offset=N.request(0,0,0);this.rotation=0;this.set_origin(0.5);this.set_scale(this.alpha=1);this.inputEnabled=this.visible=this.useCamera=this.usePerspective=!0;this.doDelete=!1;null!=a&&(null!=a.alpha&&(this.alpha=a.alpha),null!=a.x&&this.set_x(a.x),null!=a.y&&this.set_y(a.y),null!=a.z&&this.set_z(a.z),null!=a.offsetX&&this.set_offsetX(a.offsetX),
null!=a.offsetY&&this.set_offsetY(a.offsetY),null!=a.offsetZ&&this.set_offsetZ(a.offsetZ),null!=a.origin&&this.set_origin(a.origin),null!=a.originX&&this.set_originX(a.originX),null!=a.originY&&this.set_originY(a.originY),null!=a.scale&&this.set_scale(a.scale),null!=a.scaleX&&(this.scaleX=a.scaleX),null!=a.scaleY&&(this.scaleY=a.scaleY),null!=a.rotation&&(this.rotation=a.rotation),null!=a.visible&&(this.visible=a.visible),null!=a.useCamera&&(this.useCamera=a.useCamera),null!=a.usePerspective&&(this.usePerspective=
a.usePerspective))};j["com.workinman.display.WMSprite"]=T;T.__name__=["com","workinman","display","WMSprite"];T.prototype={dispose:function(){if(null!=this.children){for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;c.dispose()}this.children=null}this.parent=null;null!=this.pos&&(this.pos.dispose(),this.pos=null);null!=this.offset&&(this.offset.dispose(),this.offset=null);this._viewMatrix=this._matrix=null},get_x:function(){return this.pos.x},set_x:function(a){return this.pos.x=a},get_y:function(){return this.pos.y},
set_y:function(a){return this.pos.y=a},set_z:function(a){return this.pos.z=a},get_offsetX:function(){return this.offset.x},set_offsetX:function(a){return this.offset.x=a},get_offsetY:function(){return this.offset.y},set_offsetY:function(a){return this.offset.y=a},get_offsetZ:function(){return this.offset.z},set_offsetZ:function(a){return this.offset.z=a},get_depth:function(){return this.pos.z},set_originX:function(a){return this.originX=a},set_originY:function(a){return this.originY=a},get_width:function(){return 0},
get_height:function(){return 0},set_scale:function(a){return this.scale=this.scaleX=this.scaleY=a},set_origin:function(a){this.set_originX(this.set_originY(a));return a},addElement:function(a){return this.addChild(a)},addChild:function(a){null!=a.parent&&a.parent.removeChild(a);a.parent=this;this.children.push(a);return a},removeChild:function(a){H.remove(this.children,a)&&(a.parent=null);return a},get_viewMatrix:function(){return null!=this.parent?this._viewMatrix:this._matrix},hitTest:function(a,
b,c){if(!1==this.visible||!1==this.inputEnabled)return null;for(var d=this.children.length,g=null;0<d--;)if(g=this.children[d].hitTest(a,b,c),null!=g)return g;return this.inverseTransform(a,b,c)?this:null},inverseTransform:function(a,b,c,d,g){null==g&&(g=-1);null==d&&(d=-1);0>d&&(d=this.get_width());0>g&&(g=this.get_height());var s=-this.originX*d,e=-this.originY*g;return this.get_viewMatrix().inverseTransform(a,b,c)&&c.x>=s&&c.y>=e&&c.x<s+d&&c.y<e+g},runUpdate:function(a){this.update(a);for(var b=
this.children.length;0<b--;)this.children[b].runUpdate(a),this.children[b].doDelete&&(this.children[b].dispose(),this.children.splice(b,1))},update:function(){},render:function(a,b){if(!1!=this.visible){var c=0,d=0,c=0,g=1;if(null==b||!1==this.useCamera||!1==this.usePerspective)c=this.pos.x,d=this.pos.y,g=1;else{c=this.pos.z-b.pos.z+this.get_offsetZ();if(c<-b.focalLength)return;g=0>=b.focalLength?1:b.focalLength/(b.focalLength+c);c=b.worldCenterX+(this.pos.x-b.pos.x-b.worldCenterX)*g;d=b.worldCenterY+
(this.pos.y-b.pos.y-b.worldCenterY)*g}this._matrix.compose(c,d,this.scaleX*g,this.scaleY*g,3.141592653589793*this.rotation/180);null!=this.parent&&nb.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);a.ctx.save();1>this.alpha&&a.ctx.multiplyAlpha(this.alpha);a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);a.ctx.save();a.ctx.translate(-this.get_width()*this.originX+this.get_offsetX(),-this.get_height()*this.originY+
this.get_offsetY());this._draw(a);a.ctx.restore();c=0;for(d=this.children.length;c<d;)this.children[c++].render(a,null);a.ctx.restore()}},_draw:function(){},__class__:T,__properties__:{get_viewMatrix:"get_viewMatrix",set_origin:"set_origin",set_scale:"set_scale",get_height:"get_height",get_width:"get_width",get_depth:"get_depth",set_offsetZ:"set_offsetZ",get_offsetZ:"get_offsetZ",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_z:"set_z",
set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_originY:"set_originY",set_originX:"set_originX"}};var ub=function(a){T.call(this,a);this.texture=this.rect=null;null!=a&&null!=a.asset&&this.setAsset(a.asset)};j["com.workinman.display.WMImageSprite"]=ub;ub.__name__=["com","workinman","display","WMImageSprite"];ub.__super__=T;ub.prototype=u(T.prototype,{dispose:function(){T.prototype.dispose.call(this);this.texture=this.rect=null},get_width:function(){return null==this.texture?0:null!=this.rect?
this.rect.origX:this.texture.get_width()},get_height:function(){return null==this.texture?0:null!=this.rect?this.rect.origY:this.texture.get_height()},setAsset:function(a){if(null==a||""==a)return this;this.texture=f.get_instance().assets.getTexture(a);this.rect=f.get_instance().assets.getSpriteRect(a);return this},_draw:function(a){null!=this.texture&&(null!=this.rect?this.rect.rotate?(a.ctx.save(),a.ctx.rotate(90),a.ctx.drawSubTexture(this.texture,this.rect.origY-this.rect.sizeY-this.rect.offsetY,
-this.rect.offsetX-this.rect.sizeX,this.rect.x,this.rect.y,this.rect.sizeY,this.rect.sizeX),a.ctx.restore()):a.ctx.drawSubTexture(this.texture,this.rect.offsetX,this.rect.origY-this.rect.sizeY-this.rect.offsetY,this.rect.x,this.rect.y,this.rect.sizeX,this.rect.sizeY):a.ctx.drawTexture(this.texture,0,0))},__class__:ub});var w=function(a){ub.call(this,a);this.velocity=N.request();this._addEventListeners()};j["com.workinman.display.Element"]=w;w.__name__=["com","workinman","display","Element"];w.__super__=
ub;w.prototype=u(ub.prototype,{dispose:function(){ub.prototype.dispose.call(this);this.velocity.dispose();this.velocity=null;this._removeEventListeners()},_addEventListeners:function(){},_removeEventListeners:function(){},__class__:w});var $a=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};j["flambe.math.Point"]=$a;$a.__name__=["flambe","math","Point"];$a.prototype={__class__:$a};var O=function(a){this._ignoreDepth=!1;null==O._scratchPoint&&(O._scratchPoint=new $a);w.call(this,a);this.dispatcher=
Ab.request();this._tween=a.tween;this._containsInput=!1;this._returnData=null;this._clearFunction=a.clear;this._assetUp=a.assetUp;this._assetOver=a.assetOver;this._assetDown=a.assetDown;this._assetDisabled=a.assetDisabled;this._state=fa._STATE_UP;this._flagDragged=!1;this.enable();this.setCustomHitBox(this.get_width(),this.get_height());f.get_instance().input.addDelegateListener(p(this,this._onInput));this._buttonScaleBase=N.request(this.scaleX,this.scaleY)};j["com.workinman.display.ui.ButtonBase"]=
O;O.__name__=["com","workinman","display","ui","ButtonBase"];O.__super__=w;O.prototype=u(w.prototype,{dispose:function(){f.get_instance().input.removeDelegateListener(p(this,this._onInput));this._flagEnabled=!1;this._assetDisabled=this._assetDown=this._assetOver=this._assetUp=null;this._hitBox.dispose();this._tween=this._hitBox=null;this.dispatcher.dispose();this._returnData=this.dispatcher=null;this._buttonScaleBase.dispose();this._clearFunction=this._state=this._buttonScaleBase=null;w.prototype.dispose.call(this)},
setDispatchData:function(a){this._returnData=a},enable:function(){this._flagEnabled=!0;this._renderUp();return this},disable:function(){this._flagEnabled=!1;this._renderDisabled();return this},setCustomHitBox:function(a,b){null==this._hitBox&&(this._hitBox=this.addChild(new Ea({color:16711680,sizeX:a,sizeY:b,alpha:0})));this._hitBox.sizeX=a;this._hitBox.sizeY=b;return this},_onInput:function(a,b,c,d){switch(b[1]){case 0:switch(this._containsInput=this._hitBox.inverseTransform(c,d,O._scratchPoint),
a[1]){case 0:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&this._depthTest(c,d)&&(this._state=fa._STATE_DOWN,this._onDown(c,d))}break;case 2:switch(this._state[1]){case 0:this._containsInput&&this._depthTest(c,d)&&(this._state=fa._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=fa._STATE_UP,this._onOut())}break;case 1:switch(this._state[1]){case 1:this._containsInput?(this._state=fa._STATE_CLICK,this._onUp(c,d)):(this._state=fa._STATE_UP,this._renderReturnUp())}}}},
_depthTest:function(a,b){if(this._ignoreDepth)return!0;if(!1==this._flagEnabled)return!1;var c=f.get_instance().input.hitTest(a,b);return null!=this._hitBox&&(c==this._hitBox||c==this.parent)?!0:!1},_dispatch:function(a){!1!=this._clearFunction()&&(null==this._returnData&&(this._returnData=new S),this._returnData.set("button",this),this,this.dispatcher.dispatchEvent(Y.request(a,this._returnData)))},_click:function(){this._tween.tween(this,0.1,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y,
alpha:1},!0).ease(n.QUAD_IN);this._tween.tween(this,0.4,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,alpha:1},!1).ease(n.ELASTIC_OUT).onComplete(p(this,this._onClickComplete));this._playSoundClick();this._doClick()},_onClickComplete:function(){this._containsInput&&this._flagEnabled?(this._state=fa._STATE_OVER,this._renderOver()):this._state=fa._STATE_UP},_doClick:function(){this._dispatch(k.BUTTON_CLICK)},_onDown:function(){this._flagEnabled&&(this._renderDown(),this._dispatch(k.BUTTON_DOWN))},
_onUp:function(){this._flagEnabled&&(this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(k.BUTTON_UP))},_onOver:function(){this._renderOver();this._playSoundOver();this._dispatch(k.BUTTON_OVER)},_onOut:function(){this._flagEnabled&&(this._renderOut(),this._dispatch(k.BUTTON_OUT))},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(k.BUTTON_CANCEL_DRAG)},update:function(a){w.prototype.update.call(this,a)},_playSoundClick:function(){f.get_instance().sound.playSound(l.sound.button)},
_playSoundOver:function(){},setScale:function(a,b){this._buttonScaleBase.x=a;this._buttonScaleBase.y=b;this.scaleX=this._buttonScaleBase.x;this.scaleY=this._buttonScaleBase.y;return this},_renderUp:function(){this.setAsset(this._assetUp)},_renderOver:function(){this._tween.tween(this,0.15,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y,alpha:1},!0).ease(n.QUAD_IN)},_renderOut:function(){this._tween.tween(this,0.5,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,
alpha:1},!0).ease(n.ELASTIC_OUT)},_renderDown:function(){this._tween.tween(this,0.15,{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y,alpha:1},!0).ease(n.QUAD_OUT);this.setAsset(this._assetDown)},_renderReturnUp:function(){this._tween.tween(this,0.15,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,alpha:1},!0).ease(n.QUAD_OUT);this._renderUp()},_renderDisabled:function(){this.setAsset(this._assetDisabled)},__class__:O});var Fa=function(a,b,c,d){null==d&&(d=!1);
null==c&&(c="button");O.call(this,b);d&&(this._ignoreDepth=!0);this._id=a;this._sfx=c};j["com.nick.loudhouse.music_game.ui.buttons.ButtonID"]=Fa;Fa.__name__="com,nick,loudhouse,music_game,ui,buttons,ButtonID".split(",");Fa.__super__=O;Fa.prototype=u(O.prototype,{setUp:function(a){this._assetUp=a;this._renderUp()},dispose:function(){O.prototype.dispose.call(this)},_onInput:function(a,b,c,d,g){O.prototype._onInput.call(this,a,b,c,d,g)},enable:function(){return O.prototype.enable.call(this)},disable:function(){return O.prototype.disable.call(this)},
_renderOver:function(){this._tween.tween(this,0.15,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y,rotation:0,alpha:1},!0)},_playSoundClick:function(){""!=this._sfx&&f.get_instance().sound.playSound(this._sfx)},_doClick:function(){O.prototype._doClick.call(this);f.get_instance().dispatcher.dispatchEvent(Y.request(k.BUTTON_CLICK_ID,function(a){var b=new S;b.set("id",a._id);return b}(this)))},__class__:Fa});var vb=function(a,b,c,d,g){null==g&&(g=!1);null==d&&(d="");this._itemID=
a;Fa.call(this,b,c,d,g);this.updateDisplay()};j["com.nick.loudhouse.music_game.ui.buttons.ButtonUpgrade"]=vb;vb.__name__="com,nick,loudhouse,music_game,ui,buttons,ButtonUpgrade".split(",");vb.__super__=Fa;vb.prototype=u(Fa.prototype,{updateDisplay:function(){this.setAsset(f.get_instance().inventory.getItemData(this._itemID).get_itemAsset());this.setCustomHitBox(this.get_width(),this.get_height())},setCustomHitBox:function(a,b){null==this._hitBox&&(this._hitBox=this.addChild(new Ea({color:255,sizeX:a,
sizeY:b,alpha:0})));this._hitBox.sizeX=a;this._hitBox.sizeY=b;this._hitBox.set_y(-b/2);return this},_doClick:function(){f.get_instance().setValue(i.ENUM_ITEM_TARGET,this._itemID);Fa.prototype._doClick.call(this)},_onInput:function(a,b,c,d,g){Fa.prototype._onInput.call(this,a,b,c,d,g)},__class__:vb});var pd=function(a,b,c,d,g){null==g&&(g=!1);null==d&&(d="");vb.call(this,a,b,c,d,g);this._shadow=new w({asset:l.texture.shadow});a=y.getNameOfCharID(a);this._body=new Wb({library:a,originY:0,scaleX:this._itemID==
m.MUSICIAN_5?-0.5:0.5,scaleY:0.5});this._body.set_y(110);this._body.animate("idle");this._body.inputEnabled=!1;this._shadow.pos.y=this._body.get_y();this._shadow.inputEnabled=!1;this._stool=new w({y:85,asset:l.texture.stool});this._stool.inputEnabled=!1;this.addChild(this._shadow);this.addChild(this._body);this.addChild(this._stool);this.updateDisplay(!0)};j["com.nick.loudhouse.music_game.ui.buttons.ButtonMusician"]=pd;pd.__name__="com,nick,loudhouse,music_game,ui,buttons,ButtonMusician".split(",");
pd.__super__=vb;pd.prototype=u(vb.prototype,{dispose:function(){vb.prototype.dispose.call(this);this._stool=this._body=this._shadow=null},setCustomHitBox:function(a,b){null==this._hitBox&&(this._hitBox=this.addChild(new Ea({color:65280,sizeX:a,sizeY:b,alpha:0})));this._hitBox.sizeX=a;this._hitBox.sizeY=b;120>b?this._hitBox.set_y(b/2):200>b?this._hitBox.set_y(b/4):this._hitBox.set_y(0);return this},updateDisplay:function(a){null==a&&(a=!1);if(null!=this._body){this._body.visible=0==f.get_instance().inventory.getItemData(this._itemID).get_currentRank()?
!1:!0;this._stool.visible=!this._body.visible;var b=225;if(f.get_instance().getValue(i.ENUM_ITEM_TARGET)==this._itemID||a){switch(this._itemID[1]){case 8:a=f.get_instance().inventory.getItemData(m.MUSICIAN_1).get_currentRank();break;case 9:b=160;a=f.get_instance().inventory.getItemData(m.MUSICIAN_2).get_currentRank();break;case 10:a=f.get_instance().inventory.getItemData(m.MUSICIAN_3).get_currentRank();break;case 11:b=160;a=f.get_instance().inventory.getItemData(m.MUSICIAN_4).get_currentRank();break;
case 12:b=160;a=f.get_instance().inventory.getItemData(m.MUSICIAN_5).get_currentRank();break;default:b=110,a=f.get_instance().inventory.getItemData(m.MUSICIAN_6).get_currentRank()}this.setCustomHitBox(150,b);if(0!=a)switch(this._itemID[1]){case 8:this._body.setAttachment(l.spine.luna.slots.LD_prop_guitar,"images/LD_prop_guitar"+a);break;case 9:0==f.get_instance().getInt(i.INT_VENUE_ID)||3==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?this._body.setAttachment(l.spine.lana.slots.drums_bucket,
"drums"+a):this._body.setAttachment(l.spine.lisa.slots.drums_bucket,"images/drums"+a);break;case 10:0==f.get_instance().getInt(i.INT_VENUE_ID)||2==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?this._body.setAttachment(l.spine.leni.slots.keyboard,"keyboard"+a):this._body.setAttachment(l.spine.luan.slots.item_effect,"keyboard"+a);break;case 11:this._body.setAttachment(l.spine.lincoln.slots.props,"LD_prop_guitar"+a);break;case 12:0==f.get_instance().getInt(i.INT_VENUE_ID)||
1==f.get_instance().getInt(i.INT_VENUE_ID)?this._body.setAttachment(l.spine.lucy.slots.guitar,"LD_prop_guitar"+a):this._body.setAttachment(l.spine.lynn.slots.guitar,"LD_prop_guitar"+a)}}}},_doClick:function(){f.get_instance().setValue(i.ENUM_ITEM_TARGET,this._itemID);vb.prototype._doClick.call(this)},__class__:pd});var qd=function(a){O.call(this,a);this._radioBit=""};j["com.nick.loudhouse.music_game.ui.buttons.ButtonRadio"]=qd;qd.__name__="com,nick,loudhouse,music_game,ui,buttons,ButtonRadio".split(",");
qd.__super__=O;qd.prototype=u(O.prototype,{dispose:function(){O.prototype.dispose.call(this)},setCustomHitBox:function(a,b){null==this._hitBox&&(this._hitBox=this.addChild(new Ea({color:65280,sizeX:a,sizeY:b,alpha:0})));this._hitBox.sizeX=a;this._hitBox.sizeY=b;return this},_onInput:function(a,b,c,d,g){O.prototype._onInput.call(this,a,b,c,d,g)},enable:function(){return O.prototype.enable.call(this)},disable:function(){return O.prototype.disable.call(this)},_renderOver:function(){this._tween.tween(this,
0.15,{scaleX:1.05*this._buttonScaleBase.x,scaleY:1.05*this._buttonScaleBase.y,rotation:0,alpha:1},!0)},_playSoundClick:function(){""!=this._radioBit&&f.get_instance().sound.stopSound(this._radioBit);this._radioBit="radio_bit_"+f.get_instance().random.getRandomInt(1,3);f.get_instance().sound.playSound(this._radioBit)},__class__:qd});var rd=function(a){O.call(this,a);this._assetUpOn=a.assetUp;this._assetOverOn=a.assetOver;this._assetDownOn=a.assetDown;this._assetDisabledOn=a.assetDisabled;this._assetUpOff=
a.assetUpOff;this._assetOverOff=a.assetOverOff;this._assetDownOff=a.assetDownOff;this._assetDisabledOff=a.assetDisabledOff;this._refreshMuteState();this._renderUp()};j["com.nick.loudhouse.music_game.ui.buttons.ButtonSoundToggle"]=rd;rd.__name__="com,nick,loudhouse,music_game,ui,buttons,ButtonSoundToggle".split(",");rd.__super__=O;rd.prototype=u(O.prototype,{dispose:function(){this._assetDisabledOff=this._assetDownOff=this._assetOverOff=this._assetUpOff=this._assetDisabledOn=this._assetDownOn=this._assetOverOn=
this._assetUpOn=null;O.prototype.dispose.call(this)},_doClick:function(){this._flagEnabled&&(f.get_instance().dispatcher.dispatchEvent(Y.request(k.MUTE_TOGGLE)),this._refreshMuteState(),this._renderUp())},_refreshMuteState:function(){f.get_instance().sound.get_muteAll()?(this._assetUp=this._assetUpOff,this._assetOver=this._assetOverOff,this._assetDown=this._assetDownOff,this._assetDisabled=this._assetDisabledOff):(this._assetUp=this._assetUpOn,this._assetOver=this._assetOverOn,this._assetDown=this._assetDownOn,
this._assetDisabled=this._assetDisabledOn)},__class__:rd});var td=function(a,b,c){null==c&&(c=!1);null==b&&(b="button");O.call(this,a);c&&(this._ignoreDepth=!0);this._sfx=b;this._animatedElement=this.addElement(new sd({asset:l.texture.bg_garage_tv_off}));this._animatedElement.setFps(24);this._animatedElement.addAnimationFrames("tv_idle",[l.texture.bg_garage_tv_off]);this._animatedElement.addAnimationFrames("tv_static",[l.texture.bg_garage_tv_static1,l.texture.bg_garage_tv_static2,l.texture.bg_garage_tv_static3]);
this._hitBox=null;this._animatedElement.animate("tv_idle",0,!0);this.setCustomHitBox(150,150)};j["com.nick.loudhouse.music_game.ui.buttons.ButtonTV"]=td;td.__name__="com,nick,loudhouse,music_game,ui,buttons,ButtonTV".split(",");td.__super__=O;td.prototype=u(O.prototype,{dispose:function(){O.prototype.dispose.call(this)},setCustomHitBox:function(a,b){null==this._hitBox&&(this._hitBox=this.addChild(new Ea({color:65280,sizeX:a,sizeY:b,alpha:0})));this._hitBox.sizeX=a;this._hitBox.sizeY=b;return this},
_onInput:function(a,b,c,d,g){O.prototype._onInput.call(this,a,b,c,d,g)},enable:function(){return O.prototype.enable.call(this)},disable:function(){return O.prototype.disable.call(this)},_renderOver:function(){this._tween.tween(this,0.15,{scaleX:1.05*this._buttonScaleBase.x,scaleY:1.05*this._buttonScaleBase.y,rotation:0,alpha:1},!0)},_playSoundClick:function(){""!=this._sfx&&f.get_instance().sound.playSound(this._sfx)},_doClick:function(){O.prototype._doClick.call(this);this._animatedElement.animate("tv_static",
15,!0);this._animatedElement.queueAnimation("tv_idle",0,!0)},__class__:td});var ja=function(a){this._flagLocked=!1;this._tween=a.tween;w.call(this,a)};j["com.workinman.display.ui.Display"]=ja;ja.__name__=["com","workinman","display","ui","Display"];ja.__super__=w;ja.prototype=u(w.prototype,{_addEventListeners:function(){w.prototype._addEventListeners.call(this);f.get_instance().dispatcher.addEventListener(k.UPDATE_DISPLAY,p(this,this._onUpdateDisplay))},_removeEventListeners:function(){w.prototype._removeEventListeners.call(this);
f.get_instance().dispatcher.removeEventListener(k.UPDATE_DISPLAY,p(this,this._onUpdateDisplay))},_onUpdateDisplay:function(a){this._flagLocked||a.get_data().get("val")==this._updateValue()&&this._refresh()},_refresh:function(){},_updateValue:function(){return null},dispose:function(){this._tween=null;w.prototype.dispose.call(this)},__class__:ja});var Xb=function(a){this._BAR_COLOR=16694051;this._BAR_HEIGHT=35;this._BAR_WIDTH=233;this._ROT=250;ja.call(this,a);this._active=!1;this._spinnerOrigin=-50;
this._scale=1;this.addChild(new Ea({color:0,sizeX:this._BAR_WIDTH*this._scale,sizeY:this._BAR_HEIGHT*this._scale,x:-this._BAR_WIDTH*this._scale/2,y:-this._BAR_HEIGHT*this._scale/2,alpha:0.5,origin:0}));this._loadMin=-1;this.addElement(new w({asset:l.texture.loader_bg,scale:this._scale}));this._bar=this.addChild(new Ea({color:this._BAR_COLOR,sizeX:this._BAR_WIDTH*this._scale,sizeY:this._BAR_HEIGHT*this._scale,x:-this._BAR_WIDTH*this._scale/2,y:-this._BAR_HEIGHT*this._scale/2,scaleX:0.5,origin:0}));
this.addElement(new w({asset:l.texture.loading_faceplate,scale:this._scale}));this._spinner=this.addElement(new w({y:this._spinnerOrigin}));this._text=this.addElement(new R({y:-2,text:l.localization.loading}));this._text.setVariables([0]);this.alpha=0;this._refresh()};j["com.nick.loudhouse.music_game.ui.display.DisplayLoadingProgress"]=Xb;Xb.__name__="com,nick,loudhouse,music_game,ui,display,DisplayLoadingProgress".split(",");Xb.__super__=ja;Xb.prototype=u(ja.prototype,{dispose:function(){this._spinner=
null;this._bar.dispose();this._text=this._bar=null;ja.prototype.dispose.call(this)},get_active:function(){return this._active},update:function(a){this._spinner.rotation+=this._ROT*a;ja.prototype.update.call(this,a)},tweenIn:function(a){this._active||(a&&(this._loadMin=0),D.easeBounceIn(this,this._tween),this._active=!0)},tweenOut:function(){!1!=this._active&&(D.easeBounceOut(this,this._tween),this._active=!1)},_refresh:function(){this._loadMin=Ua.clamp(Ua.max(this._loadMin,f.get_instance().getFloat(this._updateValue())),
0,1);this._bar.scaleX=this._loadMin;this._text.setVariables([Math.floor(100*this._loadMin)])},_updateValue:function(){return i.FLOAT_LOADING_PROGRESS},__class__:Xb,__properties__:u(ja.prototype.__properties__,{get_active:"get_active"})});var ud=function(a){ja.call(this,a);this.addElement(new w({x:0,y:0,asset:l.texture.ui_meter_notebubble,scale:1.3}));this._notes=f.get_instance().getInt(this._updateValue());this._text=this.addElement(new R({text:l.localization.gameplay_notes_counter,x:-10,y:-5,align:ma.Left}));
this._refresh()};j["com.nick.loudhouse.music_game.ui.display.DisplayNotesSession"]=ud;ud.__name__="com,nick,loudhouse,music_game,ui,display,DisplayNotesSession".split(",");ud.__super__=ja;ud.prototype=u(ja.prototype,{dispose:function(){this._text=null;ja.prototype.dispose.call(this)},_refresh:function(){this._notes=f.get_instance().getInt(this._updateValue());this._text.setVariables([this._notes]);D.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return i.INT_NOTES_SESSION},__class__:ud});
var vd=function(a){ja.call(this,a);this._notes=f.get_instance().getInt(this._updateValue());this._text=this.addElement(new R({text:l.localization.gameplay_notes_counter,x:0,align:ma.Left}));this.addElement(new w({x:-20,y:0,asset:l.texture.ui_gameplay_note,scale:0.55}));this._refresh()};j["com.nick.loudhouse.music_game.ui.display.DisplayNotesTotal"]=vd;vd.__name__="com,nick,loudhouse,music_game,ui,display,DisplayNotesTotal".split(",");vd.__super__=ja;vd.prototype=u(ja.prototype,{dispose:function(){this._text=
null;ja.prototype.dispose.call(this)},_refresh:function(){this._notes=f.get_instance().getInt(this._updateValue());this._text.setVariables([this._notes]);D.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return i.INT_CURRENCY},__class__:vd});var wd=function(a){ja.call(this,a);this.set_scale(1);this.addElement(new w({asset:l.texture.star_bar_frame,originX:0,originY:0.5,x:0,y:0}));this._fill=this.addElement(new w({asset:l.texture.star_bar_fill,originX:0,originY:0.5,x:13,y:-3}));this._star=
this.addElement(new w({asset:l.texture.star_icon,x:0,y:-5}));this._arrow=this.addElement(new w({asset:l.texture.pointer_hand,x:75,y:-150}));this._arrow.visible=!1;this._power=f.get_instance().getInt(this._updateValue());this._fill.scaleX=0.001};j["com.nick.loudhouse.music_game.ui.display.DisplayStarPower"]=wd;wd.__name__="com,nick,loudhouse,music_game,ui,display,DisplayStarPower".split(",");wd.__super__=ja;wd.prototype=u(ja.prototype,{dispose:function(){this._star=this._fill=null;ja.prototype.dispose.call(this)},
update:function(a){ja.prototype.update.call(this,a);f.get_instance().getBool(i.BOOL_PAUSED)},_refresh:function(){this._power=f.get_instance().getInt(this._updateValue());var a=this._power/100;1<=a?(1!=this._fill.scaleX&&(f.get_instance().dispatcher.dispatchEvent(Y.request(k.STAR_POWER_READY)),!f.get_instance().getBool(i.BOOL_TUTORED_STAR_POWER)&&1<f.get_instance().inventory.getItemData(m.MUSICIAN_6).get_currentRank()&&(f.get_instance().setBool(i.BOOL_TUTORED_STAR_POWER,!0),this._arrow.visible=!0,
D.easeBounceIn(this._arrow,this._tween,!1),f.get_instance().dialogue.start(Q.DIALOGUE_STAR_POWER))),a=1):this._arrow.visible=!1;this._tween.tween(this._fill,0.2,{scaleX:a},!0,n.IN);D.easeBounceIn(this._star,this._tween,!1)},_updateValue:function(){return i.INT_STAR_POWER},__class__:wd});var xd=function(a){ja.call(this,a);this._time=f.get_instance().getInt(this._updateValue());this.addElement(new w({x:0,y:-25,asset:l.texture.icon_timer,scale:1.25}));this._text=this.addElement(new R({text:l.localization.gameplay_song_time,
x:-15,align:ma.Right}));this._refresh()};j["com.nick.loudhouse.music_game.ui.display.DisplayTimer"]=xd;xd.__name__="com,nick,loudhouse,music_game,ui,display,DisplayTimer".split(",");xd.__super__=ja;xd.prototype=u(ja.prototype,{dispose:function(){this._text=null;ja.prototype.dispose.call(this)},_refresh:function(){this._time=f.get_instance().getInt(this._updateValue());this._text.setVariables([this._time]);10>=this._time&&(f.get_instance().dispatcher.dispatchEvent(Y.request(k.TIMEDOWN,function(a){var b=
new S;b.set("x",a.get_x());b.set("y",a.get_y()+280);return b}(this))),D.easeBounceIn(this,this._tween,!1))},_updateValue:function(){return i.INT_SONG_TIME},__class__:xd});var yd=function(a,b,c){w.call(this,{asset:l.texture.loudhouse_musicbar_lincoln,x:a,y:b,originX:0,originY:0.5});this._halfNote=new w({asset:l.texture.loudhouse_musicbar_half_lincoln,x:0,y:2,originX:0,originY:1});this.addChild(this._halfNote);this._separator=new w({asset:l.texture.music_separator});this.addChild(this._separator);0<
c.length&&this.setMusicians(c)};j["com.nick.loudhouse.music_game.ui.elements.MusicBar"]=yd;yd.__name__="com,nick,loudhouse,music_game,ui,elements,MusicBar".split(",");yd.__super__=w;yd.prototype=u(w.prototype,{setMusicians:function(a){this._musicians=a;this.setAsset("");this._halfNote.visible=!1;1>this._musicians.length||(a="loudhouse_musicbar_"+y.getNameOfCharID(this._musicians[0]),this.setAsset(a),2>this._musicians.length||(this._halfNote.visible=!0,a="loudhouse_musicbar_half_"+y.getNameOfCharID(this._musicians[1]),
this._halfNote.setAsset(a)))},hasMusician:function(a){return-1<this._musicians.indexOf(a)},getRandomMusician:function(){return this._musicians[f.get_instance().random.getRandomInt(0,this._musicians.length-1)]},get_musicians:function(){return this._musicians},dispose:function(){this._separator=this._musicians=this._halfNote=null;w.prototype.dispose.call(this)},update:function(a){w.prototype.update.call(this,a)},__class__:yd,__properties__:u(w.prototype.__properties__,{get_musicians:"get_musicians"})});
var C=function(a,b,c){this.id=a;this._flowDelegate=c;this._elementManager=new tc(b,y.STAGE_CENTER_X,280,!0,L.z__MAINUI);this._useClickWall()&&(this._clickWall=this._elementManager.root.addElement(new Ea({color:16711680,sizeX:y.STAGE_WIDTH,sizeY:560,alpha:0})));this._elementManager.addLayer(L.z__MAINUI);this._tween=Oa.request();this._buildScreen();this._onEventResizeCanvas();this.doDelete=!1;this.state=ga.IN;this._addEventListeners()};j["com.workinman.display.ui.ScreenBase"]=C;C.__name__=["com","workinman",
"display","ui","ScreenBase"];C.prototype={dispose:function(){this._removeEventListeners();this._clickWall=null;null!=this._elementManager&&(this._elementManager.dispose(),this._elementManager=null);null!=this._tween&&(this._tween.dispose(),this._tween=null);this.state=this.id=this._flowDelegate=null},_buildScreen:function(){},_addEventListeners:function(){f.get_instance().dispatcher.addEventListener(k.RESIZE_CANVAS,p(this,this._handleResizeCanvas));f.get_instance().input.addDelegateListener(p(this,
this._handleInput))},_removeEventListeners:function(){f.get_instance().dispatcher.removeEventListener(k.RESIZE_CANVAS,p(this,this._handleResizeCanvas));f.get_instance().input.removeDelegateListener(p(this,this._handleInput))},get_root:function(){return this._elementManager.root},_useClickWall:function(){return!0},_setInState:function(){this._finishInState()},_finishInState:function(){this._setOpenedState();this._flowDelegate(gb.OPENED,this.id)},_setCloseState:function(){this._finishCloseState()},
_finishCloseState:function(){this.doDelete=!0},_setOpenedState:function(){this.state=ga.OPENED},update:function(a){this._tween.update(a);this._elementManager.update(a)},_handleInput:function(a,b,c,d,g){!1!=this._clearInput()&&this._onInput(a,b,c,d,g)},_onInput:function(){},open:function(a){null==a&&(a=!0);f.get_instance().sound.playSound(l.sound.whoosh,0.5);a?(this.state!=ga.IN&&(this.state=ga.IN),this._setInState()):this._finishInState()},close:function(a){null==a&&(a=!0);this.state!=ga.OUT&&(this.state==
ga.OUT,a?this._setCloseState():(this._finishCloseState(),this._flowDelegate(gb.CLOSED,this.id)))},_handleResizeCanvas:function(){null!=this._clickWall&&(this._clickWall.sizeX=Math.floor(y.STAGE_WIDTH),this._clickWall.sizeY=Math.floor(560));this._onEventResizeCanvas()},_onEventResizeCanvas:function(){},_clearInput:function(){return this.state!=ga.OPENED?!1:!0},_clearButtonInput:function(){return this.state!=ga.OPENED?!1:!0},__class__:C,__properties__:{get_root:"get_root"}};var Sc=function(a,b,c){this._LIFETIME=
3;C.call(this,a,b,c);this._closing=!1;this._tray=this._elementManager.addElement(new w({asset:l.texture.achievements_bar,x:0,y:-180,alpha:0}));this._tray.addElement(new w({asset:l.texture.achievement_icon,x:-150}));f.get_instance().sound.playSound(l.sound.unlock);a=f.get_instance().achievements.getQueue();this._tray.addElement(new R({text:l.localization.achievement_unlocked,x:20,y:-13,align:ma.Center}));this._tray.addElement(new R({text:a.locName,x:20,y:4,align:ma.Center}));this._timer=this._LIFETIME};
j["com.nick.loudhouse.music_game.ui.screens.ScreenAchievementPopup"]=Sc;Sc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenAchievementPopup".split(",");Sc.__super__=C;Sc.prototype=u(C.prototype,{_useClickWall:function(){return!1},dispose:function(){this._tray=null;C.prototype.dispose.call(this)},update:function(a){C.prototype.update.call(this,a);switch(this.state[1]){case 2:this._timer-=a,0>=this._timer&&!this._closing&&(this._closing=!0,y.dispatchFlowEvent(o.ACHIEVEMENT_POPUP_CLOSE))}},
_setInState:function(){D.easeSlideInFromDir(this._tray,this._tween,I.TOP).onComplete(p(this,this._finishInState))},_setCloseState:function(){var a=this;D.easeSlideOutToDir(this._tray,this._tween,I.TOP).onComplete(function(){f.get_instance().achievements.popupOpen=!1;a._finishCloseState()})},__class__:Sc});var Tc=function(a,b,c){C.call(this,a,b,c);this._tray=this._elementManager.addElement(new w({asset:l.texture.achievement_tray}));this._rectVisible=Pa.request(-y.STAGE_CENTER_X+100,-80,700,250);this._scrollDy=
80;this._list=[];a=0;for(b=Fb.achievementData.length;a<b;){var c=a++,d=Fb.achievementData[c];this._list.push(this._tray.addElement(new w({asset:l.texture.achievements_bar,y:this._rectVisible.get_y()+c*this._scrollDy,scale:1.1})));this._list[this._list.length-1].addElement(new R({text:d.locName,x:20,y:-10}));this._list[this._list.length-1].addElement(new R({text:d.locDescription,x:20,y:10}));d.achieved?this._list[this._list.length-1].addElement(new w({asset:d.icon,x:-150})):this._list[this._list.length-
1].addElement(new w({asset:l.texture.achievement_icon_locked,x:-150}))}a=0;for(b=this._list;a<b.length;)c=b[a],++a,c.alpha=c.pos.y<this._rectVisible.get_y()?0:c.pos.y>this._rectVisible.get_y()+this._rectVisible.get_height()?0:1;this._tray.alpha=0;this._exitButton=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.hub_button_close,x:250,y:-200,scale:1.4}));this._exitButton.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onEventExitClick));
this._tray.addElement(new R({text:"achievement_header",x:0,y:-170}));this._buttonUp=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.achievement_button_up,x:250,y:-100}));this._buttonUp.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onEventUpClick));this._buttonDown=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.achievement_button_down,x:250,y:150}));this._buttonDown.dispatcher.addEventListener(k.BUTTON_CLICK,
p(this,this._onEventDownClick));this._checkButtons()};j["com.nick.loudhouse.music_game.ui.screens.ScreenAchievements"]=Tc;Tc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenAchievements".split(",");Tc.__super__=C;Tc.prototype=u(C.prototype,{dispose:function(){this._exitButton=this._list=this._buttonDown=this._buttonUp=this._tray=null;this._rectVisible.dispose();this._rectVisible=null;C.prototype.dispose.call(this)},_onEventResizeCanvas:function(){},_setInState:function(){D.easeSlideInFromDir(this._tray,
this._tween,I.TOP).onComplete(p(this,this._finishInState))},_setCloseState:function(){D.easeSlideOutToDir(this._tray,this._tween,I.BOTTOM).onComplete(p(this,this._finishCloseState))},_checkButtons:function(){2>Math.abs(this._list[0].pos.y-this._rectVisible.get_y())?this._buttonUp.disable():this._buttonUp.enable();this._list[this._list.length-1].pos.y<this._rectVisible.get_y()+this._rectVisible.get_height()?this._buttonDown.disable():this._buttonDown.enable()},_onEventUpClick:function(){this._doUpClick()},
_doUpClick:function(){var a=this;if(this._list[0].pos.y!=this._rectVisible.get_y()){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var d=b++;if(d==this._list.length-1)this._tween.tween(this._list[d].pos,0.2,{y:this._list[d].pos.y+this._scrollDy},!1,n.OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[d].pos,0.2,{y:this._list[d].pos.y+this._scrollDy},!1,n.OUT);this._list[d].pos.y+this._list[d].get_height()>=this._rectVisible.get_y()+
this._rectVisible.get_height()?this._tween.tween(this._list[d],0.25,{alpha:0},!1,n.OUT):this._list[d].pos.y+this._scrollDy>=this._rectVisible.get_y()&&this._tween.tween(this._list[d],0.25,{alpha:1},!1,n.OUT)}}},_onEventDownClick:function(){this._doDownClick()},_doDownClick:function(){var a=this;if(!(this._list[this._list.length-1].pos.y<this._rectVisible.get_y()+this._rectVisible.get_height())){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var d=b++;if(d==
this._list.length-1)this._tween.tween(this._list[d].pos,0.2,{y:this._list[d].pos.y-this._scrollDy},!1,n.OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[d].pos,0.2,{y:this._list[d].pos.y-this._scrollDy},!1,n.OUT);this._list[d].pos.y<=this._rectVisible.get_y()?this._tween.tween(this._list[d],0.25,{alpha:0},!1,n.OUT):this._list[d].pos.y-this._scrollDy<=this._rectVisible.get_y()+this._rectVisible.get_height()&&this._tween.tween(this._list[d],0.25,{alpha:1},!1,n.OUT)}}},
_onEventExitClick:function(){y.dispatchFlowEvent(o.ACHIEVEMENT_CLOSE)},__class__:Tc});var Uc=function(a,b,c){C.call(this,a,b,c)};j["com.nick.loudhouse.music_game.ui.screens.ScreenDebug"]=Uc;Uc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenDebug".split(",");Uc.__super__=C;Uc.prototype=u(C.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new Ea({color:0,sizeX:y.STAGE_WIDTH,sizeY:560,alpha:0.5}));this._tray.alpha=0;var a=this._tray.addElement(new R({text:l.localization.debugfield,
y:-260,scale:0.5}));a.setVariables(["Debug Screen"]);a=this._tray.addElement(new R({text:l.localization.debugfield,y:260,scale:0.5}));a.setVariables(["Game Version: 0.9.7"]);this._buildButtons()},dispose:function(){C.prototype.dispose.call(this);this._tray=null},_addButton:function(a,b,c,d){b=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.debug_button,x:b-y.STAGE_CENTER_X,y:c-280}));b.dispatcher.addEventListener(k.BUTTON_CLICK,d);b.addElement(new R({text:l.localization.debugfield})).setVariables([a])},
_setInState:function(){D.easeSlideInFromDir(this._tray,this._tween,I.TOP).onComplete(p(this,this._finishInState))},_setCloseState:function(){D.easeSlideOutToDir(this._tray,this._tween,I.BOTTOM).onComplete(p(this,this._finishCloseState))},_buildButtons:function(){this._addButton("X",50,50,p(this,this._onCloseClick))},_onCloseClick:function(){y.dispatchFlowEvent(o.DEBUG_CLOSE)},__class__:Uc});var rc=function(a,b,c){C.call(this,a,b,c);this._dialogueDef=f.get_instance().dialogue.grabData();f.get_instance().setString(i.STRING_CURRENT_DIALOGUE_ID,
this._dialogueDef.id);f.get_instance().setBool(i.BOOL_DIALOGUE,!0);this._dialogueTray=this._elementManager.addElement(new w({asset:l.texture.dialogue_box,x:0,y:this._getPosY(this._dialogueDef.position),alpha:0,scaleX:1.05,scaleY:0.9}));this._dialogueText=this._dialogueDef.mobileToggle?this._elementManager.addElement(new R({text:F._platform.getTouch().get_supported()?this._dialogueDef.text+"_mobile":this._dialogueDef.text,x:0,y:this._getPosY(this._dialogueDef.position)+5})):this._elementManager.addElement(new R({text:this._dialogueDef.text,
x:0,y:this._getPosY(this._dialogueDef.position)+5}));this._dialoguePortrait=this._elementManager.addElement(new w({asset:this._dialogueDef.portrait,x:-365,y:this._getPosY(this._dialogueDef.position)-110,scale:1.1}));this._clickThrough=!0;null!=this._dialogueDef.triggerEvent&&(this._clickThrough=!1,f.get_instance().dispatcher.addEventListener(this._dialogueDef.triggerEvent,p(this,this._onTrigger)));null!=this._dialogueDef.pointerType&&this._dialogueDef.pointerType!=ha.NONE?(this._pointer=null==this._dialogueDef.pointerLocation?
this._elementManager.addElement(new w({asset:l.texture.pointer_hand,x:this._dialogueTray.get_x()+0.5*this._dialogueTray.get_width(),y:this._dialogueTray.get_y()+0.5*this._dialogueTray.get_height(),origin:0.5,alpha:0})):this._elementManager.addElement(new w({asset:l.texture.pointer_hand,x:this._dialogueDef.pointerLocation.x,y:this._dialogueDef.pointerLocation.y,origin:0.5,alpha:0})),this._pointer.inputEnabled=!1):this._pointer=null;null!=this._dialogueDef.otherPointerType&&this._dialogueDef.otherPointerType!=
ha.NONE?(this._otherPointer=null==this._dialogueDef.otherPointerLocation?this._elementManager.addElement(new w({asset:l.texture.pointer_hand,x:this._dialogueTray.get_x()+0.5*this._dialogueTray.get_width(),y:this._dialogueTray.get_y()+0.5*this._dialogueTray.get_height(),origin:0.5,alpha:0})):this._elementManager.addElement(new w({asset:l.texture.pointer_hand,x:this._dialogueDef.otherPointerLocation.x,y:this._dialogueDef.otherPointerLocation.y,origin:0.5,alpha:0})),this._otherPointer.inputEnabled=!1):
this._otherPointer=null;this._timerPointer=1.5;this._closing=!1};j["com.nick.loudhouse.music_game.ui.screens.ScreenDialogue"]=rc;rc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenDialogue".split(",");rc.__super__=C;rc.prototype=u(C.prototype,{_getPosY:function(a){switch(a[1]){case 0:return 340;case 2:return 230}return 0},_useClickWall:function(){return!1},dispose:function(){this._otherPointer=this._pointer=this._dialoguePortrait=this._dialogueText=this._dialogueTray=null;null!=this._dialogueDef.triggerEvent&&
f.get_instance().dispatcher.removeEventListener(this._dialogueDef.triggerEvent,p(this,this._onTrigger));this._noClick=null;this._dialogueDef.dispose();this._dialogueDef=null;C.prototype.dispose.call(this)},update:function(a){C.prototype.update.call(this,a);!f.get_instance().getBool(i.BOOL_PAUSED)&&this.state==ga.OPENED&&(this._timerPointer-=a,0>=this._timerPointer&&(this._pointerBehavior(),this._otherPointerBehavior()))},_pointerBehavior:function(){switch(this._dialogueDef.pointerType[1]){case 0:this._timerPointer=
1.5;this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x(),y:this._pointer.get_y()+5},!0);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1);break;case 2:this._timerPointer=2.5;this._tween.tween(this._pointer,0.15,{x:this._pointer.get_x()-100},!0);this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-105,y:this._pointer.get_y()+5},!1);this._tween.tween(this._pointer,0.5,{x:this._pointer.get_x()-5,y:this._pointer.get_y()+
5},!1,n.IN,0.25);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1,n.EASE_IN_OUT,0.25);break;case 1:this._timerPointer=1.5,this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()+20},!0,n.IN),this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()},!1,n.OUT)}},_otherPointerBehavior:function(){switch(this._dialogueDef.otherPointerType[1]){case 0:this._timerPointer=1.5;this._tween.tween(this._otherPointer,
0.25,{scale:0.9,x:this._otherPointer.get_x(),y:this._otherPointer.get_y()+5},!0);this._tween.tween(this._otherPointer,0.25,{scale:1,x:this._otherPointer.get_x(),y:this._otherPointer.get_y()},!1);break;case 2:this._timerPointer=2.5;this._tween.tween(this._otherPointer,0.15,{x:this._otherPointer.get_x()-100},!0);this._tween.tween(this._otherPointer,0.25,{scale:0.9,x:this._otherPointer.get_x()-105,y:this._otherPointer.get_y()+5},!1);this._tween.tween(this._otherPointer,0.5,{x:this._otherPointer.get_x()-
5,y:this._otherPointer.get_y()+5},!1,n.IN,0.25);this._tween.tween(this._otherPointer,0.25,{scale:1,x:this._otherPointer.get_x(),y:this._otherPointer.get_y()},!1,n.EASE_IN_OUT,0.25);break;case 1:this._timerPointer=1.5,this._tween.tween(this._otherPointer,0.7,{x:this._otherPointer.get_x(),y:this._otherPointer.get_y()+20},!0,n.IN),this._tween.tween(this._otherPointer,0.7,{x:this._otherPointer.get_x(),y:this._otherPointer.get_y()},!1,n.OUT)}},_onTrigger:function(a){a.get_eventId()==this._dialogueDef.triggerEvent&&
y.dispatchFlowEvent(o.DIALOGUE_CLOSE)},_setInState:function(){var a=this;D.easeSlideInFromDir(this._dialoguePortrait,this._tween,I.BOTTOM);D.easeSlideInFromDir(this._dialogueText,this._tween,I.BOTTOM);D.easeSlideInFromDir(this._dialogueTray,this._tween,I.BOTTOM).onComplete(function(){null!=a._pointer&&D.easeBounceIn(a._pointer,a._tween);null!=a._otherPointer&&D.easeBounceIn(a._otherPointer,a._tween);a._finishInState()})},_setCloseState:function(){var a=this;null!=this._pointer&&D.easeBounceOut(this._pointer,
this._tween);null!=this._otherPointer&&D.easeBounceOut(this._otherPointer,this._tween);D.easeSlideOutToDir(this._dialoguePortrait,this._tween,I.BOTTOM);D.easeSlideOutToDir(this._dialogueText,this._tween,I.BOTTOM);D.easeSlideOutToDir(this._dialogueTray,this._tween,I.BOTTOM).onComplete(function(){f.get_instance().dispatcher.dispatchEvent(Y.request(k.DIALOGUE_LINE_COMPLETE));null!=a._dialogueDef.endEvent&&f.get_instance().dispatcher.dispatchEvent(Y.request(a._dialogueDef.endEvent));f.get_instance().setBool(i.BOOL_DIALOGUE,
!1);a._finishCloseState()})},_addEventListeners:function(){C.prototype._addEventListeners.call(this);f.get_instance().dispatcher.addEventListener(k.DIALOGUE_CLOSE,p(this,this._onDialogueClose))},_removeEventListeners:function(){C.prototype._removeEventListeners.call(this);f.get_instance().dispatcher.removeEventListener(k.DIALOGUE_CLOSE,p(this,this._onDialogueClose))},_onDialogueClose:function(){this._close()},_close:function(){!1==this._closing&&(this._closing=!0,y.dispatchFlowEvent(o.DIALOGUE_CLOSE))},
_onInput:function(a,b){if(!f.get_instance().getBool(i.BOOL_PAUSED)&&this._clickThrough)switch(b[1]){case 0:case 1:switch(a[1]){case 0:if(this.state==ga.OPENED)switch(f.get_instance().getString(i.STRING_CURRENT_DIALOGUE_ID)){case "welcome_ready":case "firstplay_click":case "buying_click":case "unlock_lucy_click":case "buy_effect_click":case "buy_item_click":break;default:this._close()}}}},__class__:rc});var Qc=function(a,b,c){C.call(this,a,b,c);this._closing=!1;this._tray=this._elementManager.addElement(new w({asset:l.texture.tray_venue,
alpha:0}));this._buttonContinue=new Fa("end_continue",{asset:l.texture.hub_button_get,y:135,tween:this._tween,clear:p(this,this._clearButtonInput)});this._buttonContinue.addElement(new R({text:l.localization.end_continue,x:-2,y:2}));this._tray.addChild(this._buttonContinue);this._loadWidget=this._tray.addElement(new Xb({tween:this._tween,y:240}));f.get_instance().modifyInt(i.INT_SONGS_COMPLETED,1);1==f.get_instance().getInt(i.INT_SONGS_COMPLETED)&&10>f.get_instance().getInt(i.INT_NOTES_SESSION)&&
f.get_instance().modifyInt(i.INT_NOTES_SESSION,10);a=f.get_instance().getInt(i.INT_NOTES_SESSION);b=f.get_instance().getInt(i.INT_CURRENCY)+a;f.get_instance().modifyInt(i.INT_NOTES_ALLTIME,a);f.get_instance().setInt(i.INT_CURRENCY,b);Aa.get_instance().save();c=!f.get_instance().getBool(i.BOOL_QUIT)&&20<f.get_instance().getInt(i.INT_NOTES_SESSION);f.get_instance().setBool(i.BOOL_QUIT,!1);c?f.get_instance().sound.playSound(l.sound.cheer_long):f.get_instance().sound.playSound(l.sound.cheer);this._tray.addElement(new R({text:c?
l.localization.end_label_win:l.localization.end_label_quit,y:-85}));c=this._tray.addElement(new R({text:l.localization.end_notes_session,y:-10}));c.setVariables([a]);c=this._tray.addElement(new R({text:l.localization.end_notes_total,y:40}));c.setVariables([b])};j["com.nick.loudhouse.music_game.ui.screens.ScreenEndGame"]=Qc;Qc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenEndGame".split(",");Qc.__super__=C;Qc.prototype=u(C.prototype,{dispose:function(){this._buttonContinue=this._loadWidget=
this._frame=this._tray=null;f.get_instance().sound.stopSound(l.sound.cheer);f.get_instance().sound.stopSound(l.sound.cheer_long);C.prototype.dispose.call(this)},update:function(a){C.prototype.update.call(this,a)},_setInState:function(){var a=this;D.easeBounceIn(this._tray,this._tween).onComplete(function(){a._finishInState()})},_setCloseState:function(){D.easeBounceOut(this._tray,this._tween).onComplete(p(this,this._finishCloseState))},_addEventListeners:function(){C.prototype._addEventListeners.call(this);
f.get_instance().dispatcher.addEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID))},_removeEventListeners:function(){C.prototype._removeEventListeners.call(this);f.get_instance().dispatcher.removeEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID))},_onButtonClickID:function(a){if(!0!=this._closing)switch(a.get_data().get("id")){case "end_continue":switch(f.get_instance().getString(i.STRING_CURRENT_DIALOGUE_ID)){case "firstplay_complete":!1==this._closing&&(this._closing=!0,f.get_instance().setString(i.STRING_CURRENT_DIALOGUE_ID,
""),this._loadWidget.tweenIn(!0),f.get_instance().timer.start(function(){y.dispatchFlowEvent(o.MAIN_MENU)},1));break;default:!1==this._closing&&(this._closing=!0,f.get_instance().setString(i.STRING_CURRENT_DIALOGUE_ID,""),this._loadWidget.tweenIn(!0),y.dispatchFlowEvent(o.MAIN_MENU))}}},__class__:Qc});var Rc=function(a,b,c){C.call(this,a,b,c);this._closing=!1;this._inputBuffer="";this._keyLength=f.get_instance().getString(i.STRING_UNLOCK_CODE).length;4>this._keyLength&&(this._keyLength=4)};j["com.nick.loudhouse.music_game.ui.screens.ScreenEnterCode"]=
Rc;Rc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenEnterCode".split(",");Rc.__super__=C;Rc.prototype=u(C.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({}));this._tray.addElement(new R({y:-205,text:l.localization.code_copy,origin:0.5}));this._inputTextField=this._tray.addElement(new R({text:l.localization.enter_code_header,y:-130,scale:0.5}));this._backButton=this._tray.addElement(new O({clear:p(this,this._clearButtonInput),x:y.STAGE_CENTER_X-100,y:-180,
tween:this._tween,assetUp:l.texture.debug_button}));this._backButton.addElement(new R({y:0,text:l.localization.back}));this._backButton.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onButtonBackClick));this._inputBuffer="";this._createNumPad();this._tray.visible=!1},dispose:function(){this._inputBuffer=this._inputTextField=this._backButton=this._tray=null;C.prototype.dispose.call(this)},_addEventListeners:function(){C.prototype._addEventListeners.call(this);f.get_instance().dispatcher.addEventListener(k.INPUT_ARBITRARY_KEY_BUTTON,
p(this,this._handleInputArbitraryKeyButton));f.get_instance().dispatcher.addEventListener(k.INPUT_ARBITRARY_KEY_KEYBOARD,p(this,this._handleInputArbitraryKeyKeyboard))},_removeEventListeners:function(){C.prototype._removeEventListeners.call(this);f.get_instance().dispatcher.removeEventListener(k.INPUT_ARBITRARY_KEY_BUTTON,p(this,this._handleInputArbitraryKeyButton));f.get_instance().dispatcher.removeEventListener(k.INPUT_ARBITRARY_KEY_KEYBOARD,p(this,this._handleInputArbitraryKeyKeyboard))},_handleInputArbitraryKeyButton:function(a){var a=
a.get_data().get("data"),b=a.key;switch(a.state[1]){case 0:switch(b){case "backspace":this._removeCharFromInputBuffer();break;case "enter":this._onButtonEnterClick(null);break;default:this._addCharToInputBuffer(b)}}},_handleInputArbitraryKeyKeyboard:function(a){var b=B.string(a.get_data().get("key"));if(1<b.length&&("Number"==H.substr(b,0,6)||"Numpad"==H.substr(b,0,6)))b=H.substr(b,b.length-1,null);switch(a.get_data().get("phase")[1]){case 0:switch(b){case "Backspace":case "Delete":this._removeCharFromInputBuffer();
break;case "Enter":this._onButtonEnterClick(null);break;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "0":case "Q":case "W":case "E":case "R":case "T":case "Y":case "U":case "I":case "O":case "P":case "A":case "S":case "D":case "F":case "G":case "H":case "J":case "K":case "L":case "Z":case "X":case "C":case "V":case "B":case "N":case "M":this._addCharToInputBuffer(b);break;case "Minus":this._addCharToInputBuffer("_")}}},_onButtonKeyClick:function(a){this._addCharToInputBuffer(B.string(a.get_data().get("val")))},
_onButtonEnterClick:function(){this._inputBuffer!=f.get_instance().getString(i.STRING_UNLOCK_CODE)?this._resetInputBuffer():f.get_instance().setBool(i.BOOL_CODE_UNLOCK,!0)},_resetInputBuffer:function(){this._inputBuffer=""},_addCharToInputBuffer:function(a){for(this._inputBuffer+=a;this._inputBuffer.length>this._keyLength;)this._inputBuffer=H.substr(this._inputBuffer,1,this._inputBuffer.length)},_removeCharFromInputBuffer:function(){0<this._inputBuffer.length&&(this._inputBuffer=this._inputBuffer.substring(0,
this._inputBuffer.length-1))},_setInState:function(){this._closing=!1;D.easeSlideInFromDir(this._tray,this._tween,I.BOTTOM).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,D.easeSlideOut(this._tray,this._tween,0,1120).onComplete(p(this,this._finishCloseState)))},_onButtonBackClick:function(){this.state==ga.OPENED&&y.dispatchFlowEvent(o.ENTER_CODE_CLOSE)},_createNumPad:function(){for(var a=0,b=0,c=0,d=0,g="",s="",e;10>=d;){s=l.texture.debug_button;
g="code_key_"+B.string(d+1);e=p(this,this._onButtonKeyClick);a=d+1;switch(d){case 0:b=-80;c=-20;break;case 1:b=0;break;case 2:b=80;break;case 3:b=-80;c=60;break;case 4:b=0;break;case 5:b=80;break;case 6:b=-80;c=140;break;case 7:b=0;break;case 8:b=80;break;case 9:c=220;g="code_key_0";a=0;break;case 10:b=-40,g="code_key_enter",e=p(this,this._onButtonEnterClick)}s=this._tray.addElement(new O({x:b,y:c,clear:p(this,this._clearButtonInput),tween:this._tween,assetUp:s}));s.addElement(new R({x:0,y:0,text:g}));
s.setDispatchData(function(){var b=new S;b.set("val",a);return b}(this));s.dispatcher.addEventListener(k.BUTTON_CLICK,e);e=s=null;d++}},_createKeyboard:function(){this._tray.addElement(new zd({tween:this._tween,buttonClear:p(this,this._clearButtonInput),y:280}))},__class__:Rc});var Pc=function(a,b,c){C.call(this,a,b,c)};j["com.nick.loudhouse.music_game.ui.screens.ScreenGameplayHud"]=Pc;Pc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenGameplayHud".split(",");Pc.__super__=C;Pc.prototype=
u(C.prototype,{_buildScreen:function(){this._trayTop=this._elementManager.addElement(new w({originX:0.5,originY:0.5,x:0,y:-220}));this._trayLeft=this._elementManager.addElement(new w({originX:0,originY:0.5,x:-(y.STAGE_CENTER_X+10),y:this._trayTop.pos.y+8}));this._trayLeft.alpha=0;this._trayRight=this._elementManager.addElement(new w({originX:1,originY:0.5,x:y.STAGE_CENTER_X+10,y:this._trayTop.pos.y}));this._trayRight.alpha=0;this._displayNotes=this._trayLeft.addElement(new ud({tween:this._tween,x:100,
y:0}));this._buttonPause=this._trayRight.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.hud_button_pause,x:-75,y:0}));this._buttonPause.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onEventPauseClick));0==f.get_instance().getInt(i.INT_NOTES_ALLTIME)&&(this._buttonPause.disable(),this._buttonPause.visible=!1);this._trayBottom=this._elementManager.addElement(new w({asset:"",originX:0.5,originY:1,x:0,y:280}));this._displayStarPower=this._trayBottom.addElement(new wd({tween:this._tween,
x:-y.STAGE_CENTER_X+65,y:-55}));this._displayTimer=this._trayBottom.addElement(new xd({tween:this._tween,x:y.STAGE_CENTER_X-40,y:-40}));this._buttonsEffects=[];var a=0;1<f.get_instance().inventory.getItemData(m.MUSICIAN_6).get_currentRank()&&(a++,this._addEffectButton(Ia.CONFETTI,l.texture.button_effect_confetti,l.texture.button_effect_confetti_disabled,75,-65));2<f.get_instance().inventory.getItemData(m.MUSICIAN_6).get_currentRank()&&(a++,this._addEffectButton(Ia.LIGHTSHOW,l.texture.button_effect_lightshow,
l.texture.button_effect_lightshow_disabled,155,-65));3<f.get_instance().inventory.getItemData(m.MUSICIAN_6).get_currentRank()&&(a++,this._addEffectButton(Ia.FIREWORKS,l.texture.button_effect_fireworks,l.texture.button_effect_fireworks_disabled,235,-65));this._displayStarPower.visible=0<a},update:function(a){C.prototype.update.call(this,a)},_addEffectButton:function(a,b,c,d,g){a=new Fa(a,{assetUp:b,assetDisabled:c,x:d,y:g,tween:this._tween,clear:p(this,this._clearButtonInput)});a.disable();this._buttonsEffects.push(a);
this._displayStarPower.addChild(a)},dispose:function(){this._displayStarPower=this._displayNotes=this._buttonsEffects=this._buttonPause=null;C.prototype.dispose.call(this)},_setInState:function(){var a=this;D.easeSlideInFromDir(this._trayTop,this._tween,I.TOP).onComplete(function(){D.easeSlideInFromDir(a._trayLeft,a._tween,I.LEFT);D.easeSlideInFromDir(a._trayRight,a._tween,I.RIGHT);a._finishInState();0==f.get_instance().getInt(i.INT_NOTES_ALLTIME)&&f.get_instance().dialogue.start(Q.DIALOGUE_FIRST_PLAY_1,
1)});D.easeSlideInFromDir(this._trayBottom,this._tween,I.BOTTOM)},_onEventResizeCanvas:function(){this._trayLeft.pos.x=-(y.STAGE_CENTER_X+10);this._trayRight.pos.x=y.STAGE_CENTER_X+10;this._displayStarPower.pos.x=-y.STAGE_CENTER_X+65;this._displayTimer.pos.x=y.STAGE_CENTER_X-50},_onEventPauseClick:function(){y.dispatchFlowEvent(o.GAMEPLAY_MENU)},_onInput:function(a,b){if(a==ca.DOWN)switch(b[1]){case 3:this._onEventPauseClick(null)}},_addEventListeners:function(){C.prototype._addEventListeners.call(this);
f.get_instance().dispatcher.addEventListener(k.STAR_POWER_READY,p(this,this._onStarPowerReady));f.get_instance().dispatcher.addEventListener(k.STAR_POWER_USE,p(this,this._onStarPowerUse));f.get_instance().dispatcher.addEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID))},_removeEventListeners:function(){C.prototype._removeEventListeners.call(this);f.get_instance().dispatcher.removeEventListener(k.STAR_POWER_READY,p(this,this._onStarPowerReady));f.get_instance().dispatcher.removeEventListener(k.STAR_POWER_USE,
p(this,this._onStarPowerUse));f.get_instance().dispatcher.removeEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID))},_onButtonClickID:function(a){f.get_instance().setBool(i.BOOL_STAR_POWER_USED,!0);a=a.get_data().get("id");switch(a){case Ia.CONFETTI:case Ia.LIGHTSHOW:case Ia.FIREWORKS:f.get_instance().setString(i.STRING_STAR_POWER_ID,a),f.get_instance().dispatcher.dispatchEvent(Y.request(k.STAR_POWER_USE))}},_onStarPowerReady:function(){for(var a=0,b=this._buttonsEffects;a<b.length;){var c=
b[a];++a;c.enable()}},_onStarPowerUse:function(){for(var a=0,b=this._buttonsEffects;a<b.length;){var c=b[a];++a;c.disable()}},__class__:Pc});var Nc=function(a,b,c){C.call(this,a,b,c);this._closing=!1};j["com.nick.loudhouse.music_game.ui.screens.ScreenGameplayMenu"]=Nc;Nc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenGameplayMenu".split(",");Nc.__super__=C;Nc.prototype=u(C.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({asset:l.texture.ui_pause_window,
alpha:0,y:0}));var a;a=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.ui_resume_button,x:-90,y:-75}));a.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onEventResumeClick));a=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.ui_help_button,x:120,y:-65}));a.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onEventHelpClick));a=this._tray.addElement(new O({tween:this._tween,clear:p(this,
this._clearButtonInput),assetUp:l.texture.ui_exit_button,x:110,y:80}));a.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onEventQuitClick));this._tray.addElement(new rd({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.ui_sound_button,assetUpOff:l.texture.ui_sound_button_off,x:-95,y:80}))},update:function(a){C.prototype.update.call(this,a)},dispose:function(){this._tray=null;C.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;D.easeBounceIn(this._tray,
this._tween).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,D.easeBounceOut(this._tray,this._tween).onComplete(p(this,this._finishCloseState)))},_onEventHelpClick:function(){y.dispatchFlowEvent(o.GAMEPLAY_MENU_HELP)},_onEventResumeClick:function(){y.dispatchFlowEvent(o.GAMEPLAY_MENU_CLOSE)},_onEventQuitClick:function(){y.dispatchFlowEvent(o.GAMEPLAY_MENU_QUIT)},_onInput:function(a,b){if(a==ca.DOWN)switch(b[1]){case 3:case 2:this._onEventResumeClick(null)}},
__class__:Nc});var qc=function(a,b,c){C.call(this,a,b,c);this._closing=!1};j["com.nick.loudhouse.music_game.ui.screens.ScreenHelp"]=qc;qc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenHelp".split(",");qc.__super__=C;qc.prototype=u(C.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({asset:l.texture.ui_help_window,alpha:0}));F._platform.getTouch().get_supported();this._baseTexture=F._platform.getRenderer().createTexture(91,91);this._tray.addElement(new R({text:l.localization.help_1,
x:0,y:-115,rotation:2}));this._tray.addElement(new R({text:l.localization.help_2,x:0,y:0,rotation:2}));this._fillFilling=this._tray.addElement(new w({asset:l.texture.music_note_fill,x:-75,y:110,scale:0.5}));this._tray.addElement(new w({asset:l.texture.loudhouse_note_luna,x:-70,y:110}));this._tray.addElement(new w({asset:l.texture.loudhouse_bubble_luna,x:-75,y:110,scale:1.2}));this._adjustColorMask(this._fillFilling,14733311);this._fillFull=this._tray.addElement(new w({asset:l.texture.music_note_fill,
x:75,y:110,scale:1.1}));this._tray.addElement(new w({asset:l.texture.loudhouse_note_luna,x:80,y:110}));this._tray.addElement(new w({asset:l.texture.loudhouse_bubble_luna,x:75,y:110,scale:1.2}));this._adjustColorMask(this._fillFull,14733311);this._button=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.ui_exit_button,x:220,y:-150}));this._button.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onEventPlayClick));this._tray.visible=!1},dispose:function(){this._button=
this._tray=null;C.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;D.easeBounceIn(this._tray,this._tween).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,D.easeBounceOut(this._tray,this._tween).onComplete(p(this,this._finishCloseState)))},_onEventPlayClick:function(){y.dispatchFlowEvent(o.HELP_CLOSE)},_adjustColorMask:function(a,b){this._baseTexture.get_graphics().fillRect(b,0,0,a.texture.get_width(),a.texture.get_height());
this._baseTexture.get_graphics().setBlendMode(V.Mask);this._baseTexture.get_graphics().drawTexture(f.get_instance().assets.getTexture(l.texture.music_note_fill),0,0);this._baseTexture.get_graphics().setBlendMode(V.Normal);a.texture=this._baseTexture},__class__:qc});var sc=function(a,b,c){C.call(this,a,b,c);this._closing=!1};j["com.nick.loudhouse.music_game.ui.screens.ScreenMainMenu"]=sc;sc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenMainMenu".split(",");sc.__super__=C;sc.prototype=u(C.prototype,
{_buildScreen:function(){this._hangout=this._elementManager.addElement(new w({asset:l.texture.hangout_bg,originX:0.5,originY:0.5,scale:1.1}));this._buttonVenueSelect=this._hangout.addElement(new Fa("venue_select",{asset:l.texture.bg_door,x:-338,y:-110,tween:this._tween,clear:p(this,this._clearButtonInput)}));this._buttonVenueSelect.setCustomHitBox(160,240);this._items=new ta;0<f.get_instance().getInt(i.INT_NOTES_ALLTIME)&&0<f.get_instance().inventory.getItemData(m.MUSICIAN_5).get_currentRank()&&f.get_instance().getBool(i.BOOL_TUTORED_DUET)&&
(this._addUpgradeButton(m.RUG,-18,165),this._addUpgradeButton(m.WALLPAPER,-380,140),this._addUpgradeButton(m.COUCH,250,30),this._addUpgradeButton(m.POSTER,0,-140),this._addUpgradeButton(m.SPEAKERS,350,220));this._lightsBack=this._hangout.addElement(new w({x:0,y:-250,asset:"",originX:0.5,originY:0}));this._lightsBack.visible=!0;this._lightsBack.inputEnabled=!1;this._lightsFront=this._lightsBack.addElement(new w({y:15,originY:0}));this._lightsFront.inputEnabled=!1;this._buttonTV=this._hangout.addElement(new td({x:-90,
y:-60,tween:this._tween,clear:p(this,this._clearButtonInput)},"tv_static"));this._buttonRadio=this._hangout.addElement(new qd({x:-220,y:-140,assetUp:l.texture.bg_garage_radio,assetDown:l.texture.bg_garage_radio,tween:this._tween,clear:p(this,this._clearButtonInput)}));this._addMusician(m.MUSICIAN_6,-210,-60);this._addMusician(m.MUSICIAN_1,0,0);0<f.get_instance().getInt(i.INT_NOTES_ALLTIME)&&(this._addMusician(m.MUSICIAN_2,-280,60),this._addMusician(m.MUSICIAN_3,-130,90),this._addMusician(m.MUSICIAN_4,
195,10),this._addMusician(m.MUSICIAN_5,90,55));this._garageFront=this._elementManager.addElement(new w({asset:l.texture.hangout_overlay,originX:0.5,originY:0.5,scale:1.05}));this._garageFront.inputEnabled=!1;this._tray=this._elementManager.addElement(new w({originX:0.5,originY:0.5}));this._buttonAchievements=this._tray.addElement(new Fa("achievements",{asset:l.texture.achievement_icon,x:-y.STAGE_CENTER_X+75,y:205,tween:this._tween,clear:p(this,this._clearButtonInput)}));this._displayNotes=this._tray.addElement(new vd({tween:this._tween,
x:0,y:0}));0==f.get_instance().getInt(i.INT_NOTES_ALLTIME)?f.get_instance().dialogue.start(Q.DIALOGUE_WELCOME,0.2):0<f.get_instance().getInt(i.INT_NOTES_ALLTIME)&&0==f.get_instance().inventory.getItemData(m.MUSICIAN_5).get_currentRank()?(50>f.get_instance().getInt(i.INT_CURRENCY)&&f.get_instance().setInt(i.INT_CURRENCY,50),f.get_instance().dialogue.start(Q.DIALOGUE_UNLOCK_LUCY)):f.get_instance().getBool(i.BOOL_TUTORED_DUET)&&0==f.get_instance().inventory.getItemData(m.SPEAKERS).get_currentRank()?
(120>f.get_instance().getInt(i.INT_CURRENCY)&&f.get_instance().setInt(i.INT_CURRENCY,120),f.get_instance().dialogue.start(Q.DIALOGUE_BUY_ITEM)):f.get_instance().getBool(i.BOOL_TUTORED_DUET)&&0<f.get_instance().inventory.getItemData(m.SPEAKERS).get_currentRank()&&2>f.get_instance().inventory.getItemData(m.MUSICIAN_6).get_currentRank()&&(20>f.get_instance().getInt(i.INT_CURRENCY)&&f.get_instance().setInt(i.INT_CURRENCY,20),f.get_instance().dialogue.start(Q.DIALOGUE_BUY_EFFECT));this._timerPointer=2.5;
this._updateItems()},_updateItems:function(){for(var a=m.MUSICIAN_6,a=f.get_instance().inventory.getItemData(a).get_currentRank(),b,c=this._items.keys();c.hasNext();){var d=c.next();b=this._items.get(d);b.disable();b.visible=!1;switch(d[1]){case 2:0<a&&(b.enable(),b.visible=!0,0<f.get_instance().inventory.getItemData(m.RUG).get_currentRank()?this._rugPositionChange(!0):this._rugPositionChange(!1));break;case 5:0<a&&(b.enable(),b.visible=!0);break;case 0:0<a&&(b.enable(),b.visible=!0);break;case 6:0<
a&&(b.enable(),b.visible=!0);break;case 1:b.enable();b.visible=!0;0<f.get_instance().inventory.getItemData(m.POSTER).get_currentRank()?this._posterToWall(!0):this._posterToWall(!1);break;case 3:0<a&&(b.enable(),b.visible=!0);break;case 4:b.enable();b.visible=!0;this._lightsBack.visible=!0;switch(f.get_instance().inventory.getItemData(m.WALLPAPER).get_currentRank()){case 0:this._lightsBack.visible=!1;break;case 1:this._lightsBack.setAsset(l.texture.deco_streamers);this._lightsFront.setAsset(l.texture.deco_lights_white);
break;case 2:this._lightsBack.setAsset(l.texture.deco_stars);this._lightsFront.setAsset(l.texture.deco_lights_white);break;case 3:this._lightsBack.setAsset(l.texture.deco_stars),this._lightsFront.setAsset(l.texture.deco_lights_color)}break;case 8:b.visible=!0;0==f.get_instance().getInt(i.INT_NOTES_ALLTIME)?b.disable():b.enable();break;case 9:0<a&&(b.enable(),b.visible=!0);break;case 10:0<a&&(b.enable(),b.visible=!0);break;case 11:0<a&&(b.enable(),b.visible=!0);break;case 12:0<a&&(b.enable(),b.visible=
!0);break;case 13:b.visible=!0,0==f.get_instance().getInt(i.INT_NOTES_ALLTIME)||!f.get_instance().getBool(i.BOOL_TUTORED_DUET)?b.disable():b.enable()}}},_onEventResizeCanvas:function(){null!=this._buttonAchievements&&(this._buttonAchievements.pos.x=-y.STAGE_CENTER_X+60,this._buttonAchievements.pos.y=220);this._displayNotes.pos.x=-y.STAGE_CENTER_X+60;this._displayNotes.pos.y=-230},_addUpgradeButton:function(a,b,c){b=new vb(a,"upgrade",{x:b,y:c,originY:1,tween:this._tween,clear:p(this,this._clearButtonInput)});
this._items.set(a,b);b;this._hangout.addChild(b)},_addMusician:function(a,b,c){b=new pd(a,"upgrade",{x:b,y:c,tween:this._tween,clear:p(this,this._clearButtonInput)});b.setScale(0.9,0.9);this._items.set(a,b);b;this._hangout.addChild(b)},_doorBehavior:function(){this._timerPointer=2.5;0.4>f.get_instance().random.getRandomFloat(0,1)?(this._tween.tween(this._buttonVenueSelect,0.35,{scale:1.1,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!0),this._tween.tween(this._buttonVenueSelect,
0.35,{scale:1,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!1)):(this._tween.tween(this._buttonVenueSelect,0.15,{rotation:2,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!0),this._tween.tween(this._buttonVenueSelect,0.15,{rotation:-2,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!1),this._tween.tween(this._buttonVenueSelect,0.15,{rotation:2,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!1),this._tween.tween(this._buttonVenueSelect,
0.1,{rotation:-2,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!1),this._tween.tween(this._buttonVenueSelect,0.1,{rotation:2,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!1),this._tween.tween(this._buttonVenueSelect,0.1,{rotation:-2,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!1),this._tween.tween(this._buttonVenueSelect,0.1,{rotation:0,x:this._buttonVenueSelect.get_x(),y:this._buttonVenueSelect.get_y()},!1))},dispose:function(){this._items=
this._displayNotes=this._buttonVenueSelect=this._buttonSoundToggle=this._garageFront=this._tray=this._hangout=null;C.prototype.dispose.call(this)},update:function(a){C.prototype.update.call(this,a);this.state==ga.OPENED&&(this._timerPointer-=a,0>=this._timerPointer&&this._doorBehavior())},_setInState:function(){this._closing=!1;D.easeSlideInFromDir(this._displayNotes,this._tween,I.TOP).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,D.easeBounceOut(this._tray,
this._tween).onComplete(p(this,this._finishCloseState)))},_addEventListeners:function(){C.prototype._addEventListeners.call(this);f.get_instance().dispatcher.addEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID));f.get_instance().dispatcher.addEventListener(k.PURCHASED_UPGRADE,p(this,this._onPurchasedUpgrade))},_removeEventListeners:function(){C.prototype._removeEventListeners.call(this);f.get_instance().dispatcher.removeEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID));f.get_instance().dispatcher.removeEventListener(k.PURCHASED_UPGRADE,
p(this,this._onPurchasedUpgrade))},_onButtonClickID:function(a){switch(a.get_data().get("id")){case "achievements":y.dispatchFlowEvent(o.ACHIEVEMENT);break;case "venue_select":switch(f.get_instance().getString(i.STRING_CURRENT_DIALOGUE_ID)){case "welcome":break;case "buy_item":case "buy_item_click":case "buying_click":case "buy_effect":case "buy_effect_click":break;case "welcome_ready":y.dispatchEvent(k.DIALOGUE_CLOSE);y.dispatchFlowEvent(o.VENUE_SELECT);break;default:y.dispatchFlowEvent(o.VENUE_SELECT)}break;
case "upgrade":switch(f.get_instance().getString(i.STRING_CURRENT_DIALOGUE_ID)){case "buy_item":break;case "buy_effect":break;case "buy_effect_click":f.get_instance().getValue(i.ENUM_ITEM_TARGET)==m.MUSICIAN_6&&(y.dispatchEvent(k.DIALOGUE_CLOSE),y.dispatchFlowEvent(o.UPGRADE));break;case "buy_item_click":f.get_instance().getValue(i.ENUM_ITEM_TARGET)==m.SPEAKERS&&(y.dispatchEvent(k.DIALOGUE_CLOSE),y.dispatchFlowEvent(o.UPGRADE));break;case "unlock_lucy_click":f.get_instance().getValue(i.ENUM_ITEM_TARGET)==
m.MUSICIAN_5&&(y.dispatchEvent(k.DIALOGUE_CLOSE),y.dispatchFlowEvent(o.UPGRADE));break;default:y.dispatchFlowEvent(o.UPGRADE)}}},_onPurchasedUpgrade:function(){for(var a=this._items.keys();a.hasNext();)this._items.get(a.next()).updateDisplay();a=f.get_instance().getValue(i.ENUM_ITEM_TARGET);switch(ea.enumIndex(a)){case 4:this._updateItems();break;case 1:this._posterToWall(!0);break;case 2:this._rugPositionChange(!0)}},_posterToWall:function(a){a?(this._items.get(m.POSTER).pos.x=-20,this._items.get(m.POSTER).pos.y=
-70):(this._items.get(m.POSTER).pos.x=205,this._items.get(m.POSTER).pos.y=250)},_rugPositionChange:function(a){a?(this._items.get(m.RUG).pos.x=-18,this._items.get(m.RUG).pos.y=165):(this._items.get(m.RUG).pos.x=0,this._items.get(m.RUG).pos.y=260)},__class__:sc});var Oc=function(a,b,c){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;C.call(this,a,b,c);this._closing=!1};j["com.nick.loudhouse.music_game.ui.screens.ScreenQuitConfirm"]=Oc;Oc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenQuitConfirm".split(",");
Oc.__super__=C;Oc.prototype=u(C.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new w({asset:l.texture.tray_venue,alpha:0}));this._tray.addElement(new R({text:l.localization.quit_confirm_header,y:-75}));this._tray.alpha=0;var a=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.ui_quit_confirm_yes,x:-90,y:60}));a.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onYesClick));a.addElement(new R({text:l.localization.yes}));
a=this._tray.addElement(new O({tween:this._tween,clear:p(this,this._clearButtonInput),assetUp:l.texture.ui_quit_confirm_no,x:90,y:60}));a.dispatcher.addEventListener(k.BUTTON_CLICK,p(this,this._onNoClick));a.addElement(new R({text:l.localization.no}))},dispose:function(){C.prototype.dispose.call(this);this._tray=this._wall=null},_setInState:function(){this._closing=!1;D.easeBounceIn(this._tray,this._tween).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=
!0,D.easeBounceOut(this._tray,this._tween).onComplete(p(this,this._finishCloseState)))},_onYesClick:function(){y.dispatchFlowEvent(o.GAMEPLAY_QUIT_YES)},_onNoClick:function(){y.dispatchFlowEvent(o.GAMEPLAY_QUIT_NO)},__class__:Oc});var Mc=function(a,b,c){this._BLINK_TIME=1;C.call(this,a,b,c);this._blinkAllowed=!0;this._closing=!1;this._blinkTimer=this._BLINK_TIME;this._beginPreload()};j["com.nick.loudhouse.music_game.ui.screens.ScreenSplash"]=Mc;Mc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenSplash".split(",");
Mc.__super__=C;Mc.prototype=u(C.prototype,{dispose:function(){$.onSplashClose();this._tray=this._clickTray=this._loadWidget=this._buttonSound=this._textClickToPlay=null;C.prototype.dispose.call(this)},_buildScreen:function(){this._tray=this._elementManager.addElement(new ub({asset:l.texture.loudhouse_splash}));this._onEventResizeCanvas()},_beginPreload:function(){var a=["fonts_"+f.get_instance().getString(i.STRING_REGION_ID)];f.get_instance().assets.load(p(this,this._onPreloadFinished),["preload"],
a,null,0)},_onPreloadFinished:function(){$.onPreloadFinished();f.get_instance().localize.parseLocalization();this._addPreload();this._beginInitialLoad()},_beginInitialLoad:function(){var a;a=F._platform.getTouch().get_supported()?"initial_sd":"initial_hd";var b;b=F._platform.getTouch().get_supported()?"initial_audio_required":"initial_audio_optional";f.get_instance().assets.load(p(this,this._eventLoadCompleteInitial),[a,b],null,null,1.2)},_eventLoadCompleteInitial:function(){this._addClickTray();
this._removeLoader();$.onInitialFinished();f.get_instance().dispatcher.dispatchEvent(Y.request(k.INITIAL_LOAD_COMPLETE))},_addPreload:function(){this._addLoader()},_addLoader:function(){null==this._loadWidget&&(this._loadWidget=this._tray.addElement(new Xb({tween:this._tween,y:240})));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0)},_removeLoader:function(){null==this._loadWidget||!1==this._loadWidget.get_active()||this._loadWidget.tweenOut()},_addClickTray:function(){if(null==this._clickTray){var a;
a=F._platform.getTouch().get_supported()?l.localization.tap_anywhere:l.localization.click_anywhere;this._clickTray=this._tray.addElement(new ub({y:280,originY:1}));this._textClickToPlay=this._clickTray.addElement(new R({text:a,y:-20,originY:1}));D.easeBounceIn(this._clickTray,this._tween)}},update:function(a){C.prototype.update.call(this,a);this._blinkAllowed&&null!=this._clickTray?(this._blinkTimer-=a,0>=this._blinkTimer&&(0==this._textClickToPlay.alpha?(this._blinkTimer=this._BLINK_TIME,this._textClickToPlay.alpha=
1):(this._blinkTimer=this._BLINK_TIME/2,this._textClickToPlay.alpha=0))):null!=this._textClickToPlay&&(this._textClickToPlay.alpha=0)},_onEventCodeClick:function(){this.state==ga.OPENED&&(f.get_instance().setBool(i.BOOL_CODE_SCREEN_OPEN,!0),y.dispatchFlowEvent(o.ENTER_CODE_OPEN))},_tweenOutClickTray:function(){null!=this._clickTray&&(this._tween.tween(this._clickTray,0.15,{scaleX:1.1,scaleY:1.1},!0,n.QUAD_OUT),this._tween.tween(this._clickTray,0.15,{scaleX:0.1,scaleY:0.1,alpha:0},!1,n.QUAD_IN))},
_setCloseState:function(){D.easeSlideOutToDir(this._tray,this._tween,I.BOTTOM).onComplete(p(this,this._finishCloseState))},_onEventResizeCanvas:function(){},_onInput:function(a,b){if(this.state==ga.OPENED)switch(b[1]){case 0:case 1:switch(a[1]){case 1:!1==this._closing&&!1==f.get_instance().getBool(i.BOOL_CODE_SCREEN_OPEN)&&(this._closing=!0,this._tweenOutClickTray(),this._addLoader(),y.dispatchFlowEvent(o.SPLASH_PLAY))}}},__class__:Mc});var Vc=function(a,b,c){C.call(this,a,b,c);this._closing=!1};
j["com.nick.loudhouse.music_game.ui.screens.ScreenUpgrade"]=Vc;Vc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenUpgrade".split(",");Vc.__super__=C;Vc.prototype=u(C.prototype,{_buildScreen:function(){this._itemData=f.get_instance().inventory.getItemData(f.get_instance().getValue(i.ENUM_ITEM_TARGET));this._tray=this._elementManager.addElement(new w({asset:l.texture.tray_venue,alpha:0}));this._titleHeader=this._tray.addElement(new w({asset:l.texture.ui_upgrade_title,x:-10,y:-this._tray.get_height()/
2-10}));this._textName=this._tray.addElement(new R({text:this._itemData.get_itemName(),y:-this._tray.get_height()/2}));this._textDescription=this._tray.addElement(new R({text:this._itemData.itemDesc(1),y:-55}));this._imageCurrent=this._tray.addElement(new w({asset:this._itemData.get_itemAsset(),x:-140,y:25}));this._adjustItem(this._itemData.get_itemAsset(),this._imageCurrent);this._imageArrow=this._tray.addElement(new w({asset:l.texture.upgrade_arrow,x:0,y:25}));this._textCost=this._imageArrow.addElement(new R({text:l.localization.upgrade_cost,
x:30,y:65,align:ma.Right}));this._textCost.setVariables([this._itemData.get_costToPurchaseNextRank()]);this._imageArrow.addElement(new w({asset:l.texture.ui_gameplay_note,x:45,y:75,scale:0.4}));this._imageNext=this._tray.addElement(new w({asset:this._itemData.get_itemAssetNext(),x:140,y:25}));this._adjustItem(this._itemData.get_itemAsset(),this._imageNext,!0);this._buttonBuy=this._tray.addElement(new Fa("buy",{assetUp:l.texture.hub_button_get,assetDisabled:l.texture.hub_button_get_disabled,x:0,y:170,
tween:this._tween,clear:p(this,this._clearButtonInput)}));this._buttonBuy.addElement(new R({text:l.localization.item_get,x:-2,y:2,align:ma.Center}));this._itemData.get_canAffordNextRank()||this._buttonBuy.disable();this._buttonClose=this._tray.addElement(new Fa("close",{assetUp:l.texture.hub_button_close,x:260,y:-135,scale:1.5,tween:this._tween,clear:p(this,this._clearButtonInput)}));this._tray.visible=!1;this._updateDisplay()},_adjustItem:function(a,b,c){null==c&&(c=!1);switch(this._itemData.get_uniqueSuffix()){case "rug":case "couch":case "musician2":case "musician3":0==
this._itemData.get_currentRank()&&!c?b.set_scale(0.8):b.set_scale(0.5);break;case "speakers":3==this._itemData.get_currentRank()+1&&c||this._itemData.get_hasRankCapped()?b.set_scale(0.5):b.set_scale(0.8);break;case "musician1":case "musician4":case "musician5":0==this._itemData.get_currentRank()&&!c?b.set_scale(1):(b.set_scale(0.5),b.rotation=45);break;case "musician6":b.set_scale(1);break;default:b.set_scale(0.8)}},dispose:function(){this._imageNext=this._imageArrow=this._imageCurrent=this._textCost=
this._textDescription=this._textName=this._buttonClose=this._buttonBuy=this._tray=null;C.prototype.dispose.call(this)},_addEventListeners:function(){C.prototype._addEventListeners.call(this);f.get_instance().dispatcher.addEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID))},_removeEventListeners:function(){C.prototype._removeEventListeners.call(this);f.get_instance().dispatcher.removeEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID))},_onButtonClickID:function(a){a=a.get_data().get("id");
switch(f.get_instance().getString(i.STRING_CURRENT_DIALOGUE_ID)){case "upgrading":return}switch(a){case "buy":a=!1;switch(f.get_instance().getString(i.STRING_CURRENT_DIALOGUE_ID)){case "unlock_lucy_click":a=!0;break;case "buy_item_click":a=!0;f.get_instance().dialogue.start(Q.DIALOGUE_BUY_EFFECT);break;case "buy_effect_click":a=!0,f.get_instance().setString(i.STRING_CURRENT_DIALOGUE_ID,"")}f.get_instance().modifyInt(i.INT_CURRENCY,-this._itemData.get_costToPurchaseNextRank());f.get_instance().inventory.modRank(this._itemData.get_type(),
1);Aa.get_instance().save();f.get_instance().sound.playSound(l.sound.unlock);0<f.get_instance().inventory.getItemData(m.MUSICIAN_1).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.MUSICIAN_2).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.MUSICIAN_3).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.MUSICIAN_4).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.MUSICIAN_5).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.MUSICIAN_6).get_currentRank()&&
f.get_instance().setBool(i.BOOL_BAND_UNLOCKED,!0);0<f.get_instance().inventory.getItemData(m.RUG).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.POSTER).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.SPEAKERS).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.WALLPAPER).get_currentRank()&&0<f.get_instance().inventory.getItemData(m.COUCH).get_currentRank()&&f.get_instance().setBool(i.BOOL_ALL_ITEMS_UNLOCKED,!0);this._updateDisplay();y.dispatchEvent(k.PURCHASED_UPGRADE);
a&&y.dispatchFlowEvent(o.UPGRADE_CLOSE);break;case "close":y.dispatchFlowEvent(o.UPGRADE_CLOSE)}},_updateDisplay:function(){this._itemData.get_canAffordNextRank()||this._buttonBuy.disable();this._itemData.get_hasRankCapped()?(this._buttonBuy.visible=this._imageArrow.visible=this._imageNext.visible=!1,this._imageCurrent.setAsset(this._itemData.getItemAsset(0)),this._imageCurrent.pos.x=0,this._textDescription.setText(this._itemData.itemDesc(0)),this._adjustItem(this._itemData.getItemAsset(0),this._imageCurrent)):
(this._imageCurrent.setAsset(this._itemData.getItemAsset(0)),this._adjustItem(this._itemData.getItemAsset(0),this._imageCurrent),this._imageNext.setAsset(this._itemData.getItemAsset(1)),this._adjustItem(this._itemData.getItemAsset(1),this._imageNext,!0),this._buttonBuy.visible=this._imageArrow.visible=this._imageNext.visible=!0,this._textCost.setVariables([this._itemData.get_costToPurchaseNextRank()]),this._textDescription.setText(this._itemData.itemDesc(1)))},_setInState:function(){this._closing=
!1;D.easeBounceIn(this._tray,this._tween).onComplete(p(this,this._finishInState))},_setCloseState:function(){this._closing||(this._closing=!0,D.easeBounceOut(this._tray,this._tween).onComplete(p(this,this._finishCloseState)))},__class__:Vc});var Wc=function(a,b,c){C.call(this,a,b,c);this._loading=this._closing=!1};j["com.nick.loudhouse.music_game.ui.screens.ScreenVenueSelect"]=Wc;Wc.__name__="com,nick,loudhouse,music_game,ui,screens,ScreenVenueSelect".split(",");Wc.__super__=C;Wc.prototype=u(C.prototype,
{_buildScreen:function(){this._baseTexture=F._platform.getRenderer().createTexture(80,71);this._tray=this._elementManager.addElement(new w({asset:l.texture.tray_venue,alpha:0}));this._tray.addElement(new w({asset:l.texture.tray_title,y:-this._tray.get_height()/2}));this._tray.addElement(new R({text:l.localization.venue_select_header,x:0,y:-this._tray.get_height()/2}));this._textVenue=this._tray.addElement(new R({text:l.localization.item_venue1_name,x:0,y:60}));this._textVenueDesc=this._tray.addElement(new R({text:l.localization.item_venue1_desc,
x:0,y:100}));this._loadWidget=this._tray.addElement(new Xb({tween:this._tween,y:240}));this._buttonPlay=this._tray.addElement(new Fa("play",{assetUp:l.texture.hub_button_get,assetDisabled:l.texture.hub_button_get_disabled,x:0,y:170,tween:this._tween,clear:p(this,this._clearButtonInput)}));this._textButton=new R({text:l.localization.venue_play,x:-2,y:0});this._buttonPlay.addChild(this._textButton);this._imageCurrency=new w({asset:l.texture.ui_gameplay_note,x:this._buttonPlay.pos.x+30,y:this._buttonPlay.pos.y+
75,scale:0.5});this._textCost=this._imageCurrency.addElement(new R({text:l.localization.upgrade_cost,x:-30,y:-10,align:ma.Right,scale:2}));this._tray.addChild(this._imageCurrency);this._buttonClose=this._tray.addElement(new Fa("close",{assetUp:l.texture.hub_button_close,x:260,y:-130,tween:this._tween,clear:p(this,this._clearButtonInput),scale:1.5}));var a=0,b;this._imageVenueSelect=this._tray.addElement(new w({asset:l.texture.button_venue_locked,x:0,y:0,scale:1.25}));this._adjustColorMask(this._imageVenueSelect,
16765517);for(this._buttonsVenue=[];5>a;){switch(a){case 0:b=this._isVenueUnlocked(a)?"button_venue_"+(a+1):l.texture.button_venue_locked;break;case 1:b=this._isVenueUnlocked(a)?"button_venue_"+(a+1):l.texture.button_venue_locked;break;case 2:b=this._isVenueUnlocked(a)?"button_venue_"+(a+1):l.texture.button_venue_locked;break;case 3:b=this._isVenueUnlocked(a)?"button_venue_"+(a+1):l.texture.button_venue_locked;break;case 4:b=this._isVenueUnlocked(a)?"button_venue_"+(a+1):l.texture.button_venue_locked;
break;default:b=l.texture.button_venue_locked}b=this._tray.addElement(new Fa("venue"+a,{assetUp:b,x:0,y:0,scale:1.1,tween:this._tween,clear:p(this,this._clearButtonInput)}));this._buttonsVenue.push(b);a++}if(0==f.get_instance().getInt(i.INT_NOTES_ALLTIME)){a=0;for(b=this._buttonsVenue;a<b.length;){var c=b[a];++a;c.disable()}}a=this._buttonsVenue[0].get_width()*this._buttonsVenue[0].scale;b=0+0.5*-this._buttonsVenue.length*a+0.5*a-5;for(var c=0,d=this._buttonsVenue;c<d.length;){var g=d[c];++c;g.pos.x=
b;g.pos.y=-30;b+=a+2}this._selectVenue(f.get_instance().getInt(i.INT_VENUE_ID));this._tray.visible=!1},_selectVenue:function(a){f.get_instance().assets.unload(["venue_"+(f.get_instance().getInt(i.INT_VENUE_ID)+1)]);f.get_instance().setInt(i.INT_VENUE_ID,a);switch(a){case 0:this._levelID=m.VENUE_1;break;case 1:this._levelID=m.VENUE_2;break;case 2:this._levelID=m.VENUE_3;break;case 3:this._levelID=m.VENUE_4;break;case 4:this._levelID=m.VENUE_5;break;default:this._levelID=m.VENUE_1}this._isVenueUnlocked(a)?
(this._buttonPlay.enable(),this._textButton.setText(l.localization.venue_play),this._imageCurrency.visible=!1):(this._textButton.setText(l.localization.venue_unlock),this._textCost.setVariables([f.get_instance().inventory.getItemData(this._levelID).get_costToPurchaseNextRank()]),this._imageCurrency.visible=!0,f.get_instance().inventory.getItemData(this._levelID).get_canAffordNextRank()?this._buttonPlay.enable():this._buttonPlay.disable());this._textVenue.setText(f.get_instance().inventory.getItemData(this._levelID).get_itemName());
this._textVenueDesc.setText(f.get_instance().inventory.getItemData(this._levelID).itemDesc(0,!0));this._imageVenueSelect.pos.x=this._buttonsVenue[a].pos.x;this._imageVenueSelect.pos.y=this._buttonsVenue[a].pos.y},_isVenueUnlocked:function(a){switch(a){case 0:return 0<f.get_instance().inventory.getItemData(m.VENUE_1).get_currentRank();case 1:return 0<f.get_instance().inventory.getItemData(m.VENUE_2).get_currentRank();case 2:return 0<f.get_instance().inventory.getItemData(m.VENUE_3).get_currentRank();
case 3:return 0<f.get_instance().inventory.getItemData(m.VENUE_4).get_currentRank();case 4:return 0<f.get_instance().inventory.getItemData(m.VENUE_5).get_currentRank();default:return!0}},dispose:function(){this._imageNext=this._imageArrow=this._imageCurrent=this._loadWidget=this._textVenueDesc=this._textVenue=this._buttonClose=this._buttonPlay=this._tray=null;C.prototype.dispose.call(this)},_addEventListeners:function(){C.prototype._addEventListeners.call(this);f.get_instance().dispatcher.addEventListener(k.BUTTON_CLICK_ID,
p(this,this._onButtonClickID))},_removeEventListeners:function(){C.prototype._removeEventListeners.call(this);f.get_instance().dispatcher.removeEventListener(k.BUTTON_CLICK_ID,p(this,this._onButtonClickID))},_onButtonClickID:function(a){a=a.get_data().get("id");switch(a){case "play":0==f.get_instance().inventory.getItemData(this._levelID).get_currentRank()?this._unlockVenue():!1==this._loading&&(this._loading=!0,this._loadWidget.tweenIn(!0),y.dispatchFlowEvent(o.VENUE_PLAY));break;case "close":y.dispatchFlowEvent(o.VENUE_SELECT_CLOSE)}-1<
a.indexOf("venue")&&(a=a.split("venue"),this._selectVenue(B.parseInt(a[1])))},_unlockVenue:function(){f.get_instance().setBool(i.BOOL_VENUE_UNLOCKED,!0);f.get_instance().modifyInt(i.INT_CURRENCY,-f.get_instance().inventory.getItemData(this._levelID).get_costToPurchaseNextRank());f.get_instance().inventory.modRank(this._levelID,1);Aa.get_instance().save();var a=f.get_instance().getInt(i.INT_VENUE_ID);this._buttonsVenue[a].setUp("button_venue_"+(a+1));this._selectVenue(a)},_setInState:function(){var a=
this;this._closing=!1;0==f.get_instance().getInt(i.INT_NOTES_ALLTIME)&&(this._buttonClose.disable(),this._buttonClose.visible=!1);D.easeBounceIn(this._tray,this._tween).onComplete(function(){a._finishInState()})},_setCloseState:function(){this._closing||(this._closing=!0,D.easeBounceOut(this._tray,this._tween).onComplete(p(this,this._finishCloseState)))},_adjustColorMask:function(a,b){this._baseTexture.get_graphics().fillRect(b,0,0,a.texture.get_width(),a.texture.get_height());this._baseTexture.get_graphics().setBlendMode(V.Mask);
this._baseTexture.get_graphics().drawTexture(f.get_instance().assets.getTexture(l.texture.button_venue_locked),0,0);this._baseTexture.get_graphics().setBlendMode(V.Normal);a.texture=this._baseTexture},__class__:Wc});var ka=j["com.nick.loudhouse.music_game.world._World.WORLD_STATE"]={__ename__:"com,nick,loudhouse,music_game,world,_World,WORLD_STATE".split(","),__constructs__:["_STATE_ALLOCATE","_STATE_INITIALIZING","_STATE_GAMEPLAY","_STATE_ENDING"]};ka._STATE_ALLOCATE=["_STATE_ALLOCATE",0];ka._STATE_ALLOCATE.toString=
h;ka._STATE_ALLOCATE.__enum__=ka;ka._STATE_INITIALIZING=["_STATE_INITIALIZING",1];ka._STATE_INITIALIZING.toString=h;ka._STATE_INITIALIZING.__enum__=ka;ka._STATE_GAMEPLAY=["_STATE_GAMEPLAY",2];ka._STATE_GAMEPLAY.toString=h;ka._STATE_GAMEPLAY.__enum__=ka;ka._STATE_ENDING=["_STATE_ENDING",3];ka._STATE_ENDING.toString=h;ka._STATE_ENDING.__enum__=ka;ka.__empty_constructs__=[ka._STATE_ALLOCATE,ka._STATE_INITIALIZING,ka._STATE_GAMEPLAY,ka._STATE_ENDING];var ve=function(a){this._TIME_END=this._TIME_ASSIST_THRESHOLD=
2;this._BAR_SPACING=325;this._firstSelected=!1;this._inputPos=N.request();this._tween=Oa.request();this._activeBar=null;this._collectTexture=F._platform.getRenderer().createTexture(23,21);f.get_instance().pool.tracePoolReport();this._cacheManager=new Ke;this._elementManager=new tc(a,0,0);this._elementManager.addLayer(L.BG);this._elementManager.addLayer(L.BACKSTAGE);this._elementManager.addLayer(L.WORLD);this._elementManager.addLayer(L.FRONTROW);this._addEventListeners();this._setState(ka._STATE_ALLOCATE)};
j["com.nick.loudhouse.music_game.world.World"]=ve;ve.__name__="com,nick,loudhouse,music_game,world,World".split(",");ve.prototype={_generateRandomMusicians:function(a){null==a&&(a=2);a>this._musiciansTotal&&(a=this._musiciansTotal);1<this._musiciansTotal&&!f.get_instance().getBool(i.BOOL_TUTORED_DUET)&&(a=2);var b=[],c=[],d,g;for(d=this._musicians.keys();d.hasNext();)g=d.next(),c.push(g);for(;b.length<a&&!(g=f.get_instance().random.getRandomInt(0,c.length-1),d=c[g],c.splice(g,1),b.push(d),0.5>f.get_instance().random.getRandomFloat(0,
1)););return b},start:function(){this._setState(ka._STATE_GAMEPLAY)},dispose:function(){this._tween.dispose();this._tween=null;this._elementManager.dispose();this._elementManager=null;this._removeEventListeners();this._cacheManager.dispose();this._state=this._cacheManager=null;this._inputPos.dispose();this._inputPos=null},_setState:function(a){this._state=a;switch(a[1]){case 0:this._initPools();break;case 1:f.get_instance().setInt(i.INT_NOTES_SESSION,0);f.get_instance().setInt(i.INT_STAR_POWER,0);
f.get_instance().setInt(i.INT_SONG_TIME,45);0<f.get_instance().inventory.getItemData(m.COUCH).get_currentRank()&&f.get_instance().modifyInt(i.INT_SONG_TIME,15*f.get_instance().inventory.getItemData(m.COUCH).get_currentRank());0==f.get_instance().getInt(i.INT_NOTES_ALLTIME)&&f.get_instance().setInt(i.INT_SONG_TIME,20);f.get_instance().setInt(i.INT_SONG_START,f.get_instance().getInt(i.INT_SONG_TIME));f.get_instance().setInt(i.INT_MUSIC_SPEED,50);f.get_instance().setBool(i.BOOL_DUET,!1);f.get_instance().setBool(i.BOOL_SONG_COMPLETED,
!1);f.get_instance().setString(i.STRING_STAR_POWER_ID,"");this._timerSong=f.get_instance().getInt(i.INT_SONG_TIME);this._initWorld();this._onGenerationComplete();break;case 3:f.get_instance().setBool(i.BOOL_SONG_COMPLETED,!0),this._timerEnding=this._TIME_END}},update:function(a){if(!0!=f.get_instance().getBool(i.BOOL_PAUSED))switch(this._state[1]){case 0:this._cacheManager.processFill(10)&&this._setState(ka._STATE_INITIALIZING);break;case 2:this._tween.update(a);this._elementManager.update(a);if(!f.get_instance().getBool(i.BOOL_DIALOGUE)){if(0<
this._timerExcitement&&(this._timerExcitement-=a,0>=this._timerExcitement))for(var b=this._timerExcitement=0,c=this._crowdClusters;b<c.length;){var d=c[b];++b;d.setExcited(!1)}this._timerAssist+=a;this._timerAssist>this._TIME_ASSIST_THRESHOLD&&(this._checkSpotlights(),this._timerAssist=0);this._timerNote-=a;0>this._timerNote&&(this._timerNote=1.5,0<this._timerExcitement&&(this._timerNote=0.7),this._addNote());b=0;for(c=this._musicBars;b<c.length;){d=c[b];++b;this._deltaX=f.get_instance().getInt(i.INT_MUSIC_SPEED)*
a;d.pos.x-=this._deltaX;if(0>d.pos.x&&0<=d.pos.x+this._deltaX){this._activeBar=d;this._hand.visible=!1;this._timerAssist=0;1<d.get_musicians().length&&!f.get_instance().getBool(i.BOOL_TUTORED_DUET)&&(f.get_instance().setBool(i.BOOL_TUTORED_DUET,!0),f.get_instance().dialogue.start(Q.DIALOGUE_DUET));for(var g=this._musicians.iterator();g.hasNext();){var s=g.next();this._activeBar.hasMusician(s.get_id())||s.deselect()}}if(d.pos.x<3.5*-this._BAR_SPACING){d.pos.x+=this._musicBars.length*this._BAR_SPACING;
g=0;for(s=this._musicBars;g<s.length;){var e=s[g];++g;e.pos.z=0}d.pos.z=-1;d.setMusicians(this._generateRandomMusicians());this._elementManager.updateZSort(L.FRONTROW)}}this._timerSong-=a;0>this._timerSong?(this._timerSong=0,this._setState(ka._STATE_ENDING)):Math.round(this._timerSong)!=f.get_instance().getInt(i.INT_SONG_TIME)&&f.get_instance().setInt(i.INT_SONG_TIME,Math.round(this._timerSong))}break;case 3:0<this._timerEnding&&(this._timerEnding-=a,0>=this._timerEnding&&f.get_instance().setBool(i.BOOL_GAME_WIN,
!0),a*=this._timerEnding/this._TIME_END,this._tween.update(a),this._elementManager.update(a))}},_addEventListeners:function(){f.get_instance().input.addDelegateListener(p(this,this._onInput));f.get_instance().dispatcher.addEventListener(k.PAUSE,p(this,this._onPause));f.get_instance().dispatcher.addEventListener(k.UNPAUSE,p(this,this._onUnpause));f.get_instance().dispatcher.addEventListener(k.STAR_POWER_READY,p(this,this._onStarPowerReady));f.get_instance().dispatcher.addEventListener(k.STAR_POWER_USE,
p(this,this._onStarPowerUse));f.get_instance().dispatcher.addEventListener(k.COLLECT_NOTE,p(this,this._onCollectNote));f.get_instance().dispatcher.addEventListener(k.EXCITE_CROWD,p(this,this._onExciteCrowd));f.get_instance().dispatcher.addEventListener(k.TIMEDOWN,p(this,this._onTimedown))},_removeEventListeners:function(){f.get_instance().input.removeDelegateListener(p(this,this._onInput));f.get_instance().dispatcher.removeEventListener(k.PAUSE,p(this,this._onPause));f.get_instance().dispatcher.removeEventListener(k.UNPAUSE,
p(this,this._onUnpause));f.get_instance().dispatcher.removeEventListener(k.STAR_POWER_READY,p(this,this._onStarPowerReady));f.get_instance().dispatcher.removeEventListener(k.STAR_POWER_USE,p(this,this._onStarPowerUse));f.get_instance().dispatcher.removeEventListener(k.COLLECT_NOTE,p(this,this._onCollectNote));f.get_instance().dispatcher.removeEventListener(k.EXCITE_CROWD,p(this,this._onExciteCrowd));f.get_instance().dispatcher.removeEventListener(k.TIMEDOWN,p(this,this._onTimedown))},_onStarPowerReady:function(){this._exciteCrowd(5,
1)},_onCollectNote:function(a){this._addNoteEffect(a.get_data().get("x"),a.get_data().get("y"),a.get_data().get("big"),a.get_data().get("asset"),a.get_data().get("musicianID"))},_onExciteCrowd:function(){this._exciteCrowd(2,0.6)},_onTimedown:function(a){var b;b=this._cacheManager.requestElement("cache_particles");b.init(l.texture.white_ring,a.get_data().get("x"),a.get_data().get("y"),X.RING);this._elementManager.addElement(b,L.FRONTROW)},_onStarPowerUse:function(){this._exciteCrowd(10,0.7);this._addStarPowerEffect();
f.get_instance().resetValue(i.INT_STAR_POWER)},_exciteCrowd:function(a,b){f.get_instance().sound.playSound(10<=a?l.sound.cheer_long:l.sound.cheer,b);this._timerExcitement=a;for(var c=0,d=this._crowdClusters;c<d.length;){var g=d[c];++c;g.setExcited(!0)}},_onPause:function(){this._pause()},_onUnpause:function(){this._unpause()},_pause:function(){f.get_instance().setBool(i.BOOL_PAUSED,!0)},_unpause:function(){f.get_instance().setBool(i.BOOL_PAUSED,!1)},_onInput:function(a,b,c,d){if(!f.get_instance().getBool(i.BOOL_PAUSED)&&
!(this._state==ka._STATE_INITIALIZING||this._state==ka._STATE_ALLOCATE))switch(this._elementManager.camera.getWorldPositionOfScreenPoint(c,d,0,this._inputPos),b[1]){case 0:switch(a[1]){case 0:a=!1;if(null==this._musicNotes)break;for(var g=this._musicNotes.length;0<g;)if(g--,b=this._musicNotes[g],b.contains(c,d)){a=!0;this._musicNotes[g].collect();this._musicNotes.splice(g,1);break}if(a)break;for(b=this._musicians.keys();b.hasNext();)if(g=b.next(),a=this._musicians.get(g),a.contains(c,d)){this._smartSelectMusician(g);
break}}}},_checkSpotlights:function(){if(null!=this._activeBar){for(var a=0,b=0,c=this._activeBar.get_musicians();b<c.length;){var d=c[b];++b;this._musicians.get(d).get_spotlit()&&a++}a<this._activeBar.get_musicians().length&&this._assistPlayer()}},_assistPlayer:function(){for(var a=null,b=0,c=this._activeBar.get_musicians();b<c.length;){var d=c[b];++b;if(!this._musicians.get(d).get_spotlit()){a=this._musicians.get(d);break}}null!=a&&(D.easeBounceIn(this._hand,this._tween),this._hand.visible=!0,this._hand.pos.x=
a.pos.x-10,this._hand.pos.y=a.pos.y-105)},_smartSelectMusician:function(a){if(!(null==this._activeBar||f.get_instance().dialogue.hasDialogueQueued("firstplay"))){for(var b=this._musicians.iterator();b.hasNext();){var c=b.next();this._activeBar.hasMusician(c.get_id())||c.deselect()}if(!this._musicians.get(a).get_spotlit()){switch(f.get_instance().getString(i.STRING_CURRENT_DIALOGUE_ID)){case "firstplay_click":y.dispatchEvent(k.DIALOGUE_CLOSE),f.get_instance().dialogue.start(Q.DIALOGUE_FIRST_PLAY_2)}if(this._activeBar.hasMusician(a)&&
(this._hand.visible=!1,this._timerAssist=0,f.get_instance().sound.playSound(l.sound.light,1),this._musicians.get(a).select(),f.get_instance().modifyInt(i.INT_STAR_POWER,5),0.2>f.get_instance().random.getRandomFloat(0,1)||!this._firstSelected))this._firstSelected=!0,f.get_instance().modifyInt(i.INT_STAR_POWER,5),this._exciteCrowd(5,1);a=0;for(b=this._musicians.keys();b.hasNext();)this._musicians.get(b.next()).get_spotlit()&&a++;f.get_instance().setBool(i.BOOL_DUET,1<a)}}},_initPools:function(){f.get_instance().setInt(i.FLOAT_LOADING_PROGRESS,
1);this._cacheManager.addCache("cache_notes",ob,5);this._cacheManager.addCache("cache_particles",uc,40)},_initWorld:function(){var a="venue_"+(f.get_instance().getInt(i.INT_VENUE_ID)+1)+"_bg";this._elementManager.addElement(new w({asset:a,x:0,y:0,scale:1.1}),L.BG);this._musicTrack=this._elementManager.addElement(new w({asset:"",originX:0.5,originY:0.5,x:0,y:-220}));this._musicTrack.addElement(new w({asset:l.texture.hud_music_track,scaleX:4.5}));this._elementManager.addElement(this._musicTrack,L.FRONTROW);
this._musicBars=[];for(var a=0,b,c=50;5>a;)b=this._elementManager.addElement(new yd(c,-220,[]),L.FRONTROW),this._musicBars.push(b),c+=this._BAR_SPACING,a++;this._elementManager.addElement(new w({asset:l.texture.music_marker,originX:0.5,originY:0.5,x:0,y:-220,z:-5}),L.FRONTROW);f.get_instance().getInt(i.INT_VENUE_ID);this._musicians=new ta;f.get_instance().inventory.getItemData(m.MUSICIAN_3).hasRank(1)&&this._addMusician(m.MUSICIAN_3);f.get_instance().inventory.getItemData(m.MUSICIAN_4).hasRank(1)&&
this._addMusician(m.MUSICIAN_4);f.get_instance().inventory.getItemData(m.MUSICIAN_2).hasRank(1)&&this._addMusician(m.MUSICIAN_2);f.get_instance().inventory.getItemData(m.MUSICIAN_5).hasRank(1)&&this._addMusician(m.MUSICIAN_5);f.get_instance().inventory.getItemData(m.MUSICIAN_1).hasRank(1)&&this._addMusician(m.MUSICIAN_1);this._addMusician(m.MUSICIAN_6,!1);this._addDancer("lori",430,80);this._addDancer("lola",-430,10);this._musiciansTotal=0;for(a=this._musicians.keys();a.hasNext();)a.next(),this._musiciansTotal++;
this._timerNote=0.5;this._timerAssist=-3;this._musicNotes=[];a=0;for(b=this._musicBars;a<b.length;)c=b[a],++a,c.setMusicians(this._generateRandomMusicians(1));this._hand=this._elementManager.addElement(new w({asset:l.texture.pointer_hand,x:0,y:0,scale:1}),L.FRONTROW);this._hand.inputEnabled=!1;this._hand.visible=!1;this._crowdClusters=[];this._addCrowdCluster(-100,270,L.FRONTROW,1,1);this._addCrowdCluster(120,250,L.FRONTROW,1,2);this._addCrowdCluster(560,250,L.FRONTROW,1.1,2);this._addCrowdCluster(340,
250,L.FRONTROW,1.2,3);this._addCrowdCluster(-320,225,L.FRONTROW,1.2,4);this._addCrowdCluster(-540,270,L.FRONTROW,1.4,1);f.get_instance().sound.playMusic("venue_"+(f.get_instance().getInt(i.INT_VENUE_ID)+1)+"_music",0.5)},_addCrowdCluster:function(a,b,c,d,g){switch(g){case 1:g=l.texture.audience_1;break;case 2:g=l.texture.audience_2;break;case 3:g=l.texture.audience_3;break;default:g=l.texture.audience_4}a=new Yb({asset:g,x:a,y:b});a.set_scale(d);this._crowdClusters.push(a);this._elementManager.addElement(a,
c)},_addNote:function(){if(null!=this._activeBar){var a;a=this._musicians.get(this._activeBar.getRandomMusician());if(null!=a&&a.get_spotlit()){for(var b=a.pos.x+f.get_instance().random.getRandomFloat(-40,40),c=a.pos.y+f.get_instance().random.getRandomFloat(-30,50),d=this._musicNotes.length;0<d;)if(d--,this._musicNotes[d].get_id()==a.get_id()){50>Math.abs(a.pos.x-this._musicNotes[d].pos.x)&&(b=a.get_id()==m.MUSICIAN_4?this._musicNotes[d].pos.x-75:this._musicNotes[d].pos.x+75);50>Math.abs(a.pos.y-
this._musicNotes[d].pos.y)&&(c=this._musicNotes[d].pos.y-65);break}d=this._cacheManager.requestElement("cache_notes");d.init(a.get_id(),b,c,0<this._timerExcitement);this._musicNotes.push(d);this._elementManager.addElement(d,L.WORLD)}}},_addMusician:function(a,b){null==b&&(b=!0);var c=this._determineMusicianPos(a,f.get_instance().getInt(i.INT_VENUE_ID)+1),c=new wb({id:a,x:c[0],y:20+c[1],tween:this._tween});this._elementManager.addElement(c,L.WORLD);c.play();b&&(this._musicians.set(a,c),c)},_addDancer:function(a,
b,c){a=new Ad({charName:a,x:b,y:20+c});this._elementManager.addElement(a,L.WORLD);a.play()},_addStarPowerEffect:function(){var a;switch(f.get_instance().getString(i.STRING_STAR_POWER_ID)){case Ia.CONFETTI:for(var b=3,c=-200;0<b;)b--,a=this._cacheManager.requestElement("cache_particles"),a.init(l.texture.particle_confetti,c,-400,X.CONFETTI),c+=200,this._elementManager.addElement(a,L.WORLD);break;case Ia.LIGHTSHOW:for(var b=6,c=y.STAGE_CENTER_X/4,d=0.5*-c*b;0<b;)b--,a=this._cacheManager.requestElement("cache_particles"),
a.init(this._getRandomColorLaser(),d,280,X.LASER),d+=c,this._elementManager.addElement(a,L.WORLD);break;case Ia.FIREWORKS:b=3;c=y.STAGE_CENTER_X/2;for(d=0.5*-c*b;0<b;)b--,a=this._cacheManager.requestElement("cache_particles"),a.init(this._getRandomColorRay(),d,280,X.RAY),d+=c,this._elementManager.addElement(a,L.WORLD);for(b=15;0<b;)b--,a=this._cacheManager.requestElement("cache_particles"),a.init("particle_spark",0,280,X.SPARK),this._elementManager.addElement(a,L.WORLD)}},_determineMusicianPos:function(a,
b){var c=[0,0];switch(a[1]){case 8:switch(b){case 4:c[0]=10;c[1]=50;break;case 5:c[0]=0;c[1]=0;break;default:c[0]=20,c[1]=0}break;case 9:switch(b){case 4:c[0]=150;c[1]=0;break;case 5:c[0]=150;c[1]=15;break;default:c[0]=170,c[1]=-15}break;case 10:switch(b){case 4:c[0]=-260;c[1]=-40;break;default:c[0]=-300,c[1]=-40}break;case 11:switch(b){case 4:c[0]=260;c[1]=-40;break;case 5:c[0]=300;c[1]=30;break;default:c[0]=300,c[1]=-40}break;case 12:switch(b){case 4:c[0]=-150;c[1]=0;break;default:c[0]=-150,c[1]=
-15}break;default:switch(b){case 4:case 5:c[0]=-180;c[1]=80;break;default:c[0]=-90,c[1]=70}}return c},_getRandomColorLaser:function(){switch(f.get_instance().random.getRandomInt(1,6)){case 1:return"laser_green";case 2:return"laser_orange";case 3:return"laser_pink";case 4:return"laser_purple";case 5:return"laser_teal";case 6:return"laser_yellow";default:return"laser_green"}},_getRandomColorRay:function(){switch(f.get_instance().random.getRandomInt(1,5)){case 1:return"pyro_green";case 2:return"pyro_orange";
case 3:return"pyro_pink";case 4:return"pyro_yellow";default:return"pyro_teal"}},_addNoteEffect:function(a,b,c,d,g){null==d&&(d="");null==c&&(c=!1);var s;s=this._cacheManager.requestElement("cache_particles");s.init(l.texture.white_ring,a,b,X.RING);this._elementManager.addElement(s,L.WORLD);for(c=c?10:5;0<c;)s=this._cacheManager.requestElement("cache_particles"),s.init(d,a,b,X.BURST),this._collectTexture.get_graphics().fillRect(this._determineBubbleColor(g),0,0,s.texture.get_width(),s.texture.get_height()),
this._collectTexture.get_graphics().setBlendMode(V.Mask),this._collectTexture.get_graphics().drawTexture(f.get_instance().assets.getTexture(l.texture.star_particle),0,0),this._collectTexture.get_graphics().setBlendMode(V.Normal),s.texture=this._collectTexture,this._elementManager.addElement(s,L.WORLD),c--},_determineBubbleColor:function(a){var b=0;switch(a[1]){case 8:b=14733311;break;case 9:b=0==f.get_instance().getInt(i.INT_VENUE_ID)||3==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?
12836351:13431168;break;case 10:b=0==f.get_instance().getInt(i.INT_VENUE_ID)||2==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?11661518:16440934;break;case 11:b=16765094;break;default:b=0==f.get_instance().getInt(i.INT_VENUE_ID)||1==f.get_instance().getInt(i.INT_VENUE_ID)?14277081:16040123}return b},_onGenerationComplete:function(){f.get_instance().dispatcher.dispatchEvent(Y.request(k.WORLD_GENERATION_COMPLETE))},__class__:ve};var Yb=function(a){w.call(this,a);
this._groundY=this.pos.y;this._excited=!1;this._timerBump=f.get_instance().random.getRandomFloat(1,2)};j["com.nick.loudhouse.music_game.world.elements.CrowdCluster"]=Yb;Yb.__name__="com,nick,loudhouse,music_game,world,elements,CrowdCluster".split(",");Yb.__super__=w;Yb.prototype=u(w.prototype,{dispose:function(){w.prototype.dispose.call(this)},update:function(a){w.prototype.update.call(this,a);0<this._timerBump?(this._timerBump-=a,0>=this._timerBump&&(this._excited?this.jump():this.bump())):(this.pos.y+=
this.velocity.y*a,this.velocity.y+=Yb._GRAVITY*a,this.pos.y>this._groundY&&(this.pos.y=this._groundY,this.velocity.y=0,this._timerBump=0.5))},bump:function(){this.velocity.y=-20},jump:function(){this.velocity.y=-50},setExcited:function(a){this._excited=a},__class__:Yb});var Ad=function(a){a.asset=l.texture.band_member_hitbox;w.call(this,a);this._id=a.id;this.set_scale(0.7);this._body=new Wb({library:a.charName,originY:0,scale:0.75});this._body.set_y(150);this._body.animate("playing");this.addElement(new w({asset:l.texture.shadow,
y:this._body.get_y()}));this.addChild(this._body)};j["com.nick.loudhouse.music_game.world.elements.Dancer"]=Ad;Ad.__name__="com,nick,loudhouse,music_game,world,elements,Dancer".split(",");Ad.__super__=w;Ad.prototype=u(w.prototype,{play:function(){this._body.animate("dancing")},dispose:function(){w.prototype.dispose.call(this);this._body=this._ring=null},update:function(a){w.prototype.update.call(this,a)},__class__:Ad});var Bd=function(){};j["com.workinman.pooling.ICacheableElement"]=Bd;Bd.__name__=
["com","workinman","pooling","ICacheableElement"];Bd.prototype={__class__:Bd};var ob=function(){null==ob._scratchPoint&&(ob._scratchPoint=new $a);this._ready=!1;w.call(this,{});this._baseTexture=F._platform.getRenderer().createTexture(91,91);this._fill=this.addElement(new w({asset:l.texture.music_note_fill,alpha:0.85}));this._note=this.addElement(new w({asset:l.texture.loudhouse_note_lincoln,x:5,alpha:0.9}));this._shell=this.addElement(new w({asset:l.texture.loudhouse_bubble_lincoln,scale:1,alpha:0.9}));
this.setCustomHitBox(80,95)};j["com.nick.loudhouse.music_game.world.elements.MusicNote"]=ob;ob.__name__="com,nick,loudhouse,music_game,world,elements,MusicNote".split(",");ob.__interfaces__=[Bd];ob.__super__=w;ob.prototype=u(w.prototype,{setReturnFunction:function(a){this._returnFunction=a},setCustomHitBox:function(a,b){null==this._hitbox&&(this._hitbox=this.addChild(new Ea({color:16711680,sizeX:a,sizeY:b,alpha:0})));this._hitbox.sizeX=a;this._hitbox.sizeY=b},contains:function(a,b){return this._hitbox.inverseTransform(a,
b,ob._scratchPoint)},init:function(a,b,c,d){null==d&&(d=!1);this.doDelete=!1;this._ready=!0;this._fading=!1;this._life=2;this._id=a;this._fill.set_scale(0);this._fillRate=f.get_instance().random.getRandomFloat(0.8,1.2);this._baseTexture.get_graphics().fillRect(this._determineBubbleColor(),0,0,this._fill.texture.get_width(),this._fill.texture.get_height());this._baseTexture.get_graphics().setBlendMode(V.Mask);this._baseTexture.get_graphics().drawTexture(f.get_instance().assets.getTexture(l.texture.music_note_fill),
0,0);this._baseTexture.get_graphics().setBlendMode(V.Normal);this._fill.texture=this._baseTexture;d&&(this._fillRate*=1.5);this._note.setAsset("loudhouse_note_"+y.getNameOfCharID(this._id));this._shell.setAsset("loudhouse_bubble_"+y.getNameOfCharID(this._id));b>y.STAGE_CENTER_X-0.5*this.get_width()?b=y.STAGE_CENTER_X-0.5*this.get_width():b<-y.STAGE_CENTER_X+0.5*this.get_width()&&(b=-y.STAGE_CENTER_X+0.5*this.get_width());this.pos.to(b,c,0);this.velocity.to(0,0)},dispose:function(){this.pos.to(9999,
9999);null!=this.parent&&this.parent.removeChild(this);this._returnFunction(this)},collect:function(){var a=1,b=0;if(0<f.get_instance().inventory.getItemData(m.SPEAKERS).get_currentRank())switch(f.get_instance().inventory.getItemData(m.SPEAKERS).get_currentRank()){case 1:b+=1;break;case 2:b+=5;break;case 3:b+=10;break;default:b+=1}0<f.get_instance().inventory.getItemData(m.RUG).get_currentRank()&&(f.get_instance().getInt(i.INT_SONG_START),f.get_instance().getInt(i.INT_SONG_TIME),f.get_instance().inventory.getItemData(m.RUG).get_currentRank());
a=a+b+0;switch(f.get_instance().inventory.getItemData(this._id).get_currentRank()){case 1:a+=1;break;case 2:a+=2;break;case 3:a+=6;break;default:a+=1}b=0;if(0<f.get_instance().inventory.getItemData(m.POSTER).get_currentRank()){var c=f.get_instance().getBool(i.BOOL_DUET);switch(f.get_instance().inventory.getItemData(m.POSTER).get_currentRank()){case 1:c&&(b=1);break;case 2:c&&(b=2);break;case 3:c&&(b=5)}}a+=b;b=f.get_instance().getInt(i.INT_VENUE_ID)+1;switch(b){case 2:case 3:c=2;break;case 4:case 5:c=
3;break;default:c=1}var a=a*c,d=5;0.8<this._fill.scale?(f.get_instance().sound.playSound(l.sound.earned,0.7),f.get_instance().modifyInt(i.INT_NOTES_SESSION,2*a)):(f.get_instance().sound.playSound(l.sound.get1,1),f.get_instance().modifyInt(i.INT_NOTES_SESSION,a));d=5;f.get_instance().dispatcher.dispatchEvent(Y.request(k.COLLECT_NOTE,function(a){var b=new S;b.set("x",a.pos.x);b.set("y",a.pos.y);b.set("big",1<d);b.set("asset","star_particle");b.set("musicianID",a._id);return b}(this)));5<=b?d*=2:3<=
b&&(d+=2);f.get_instance().modifyInt(i.INT_STAR_POWER,d);this.dispose()},destroy:function(){this._disposed||(this._disposed=!0,w.prototype.dispose.call(this),ob._scratchPoint=null,null!=this._hitbox&&(this._hitbox.dispose(),this._hitbox=null),this._returnFunction=null)},update:function(a){w.prototype.update.call(this,a);if(this._fading){var b=this._fill;b.set_scale(b.scale-a*this._fillRate);0>=this._fill.scale&&(this._fill.set_scale(0),this.dispose())}else b=this._fill,b.set_scale(b.scale+a*this._fillRate),
1<this._fill.scale&&(this._fill.set_scale(1),this._fading=!0)},get_id:function(){return this._id},get_ready:function(){return this._ready},_determineBubbleColor:function(){var a=0;switch(this._id[1]){case 8:a=14733311;break;case 9:a=0==f.get_instance().getInt(i.INT_VENUE_ID)||3==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?12836351:13431168;break;case 10:a=0==f.get_instance().getInt(i.INT_VENUE_ID)||2==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?
11661518:16440934;break;case 11:a=16765094;break;default:a=0==f.get_instance().getInt(i.INT_VENUE_ID)||1==f.get_instance().getInt(i.INT_VENUE_ID)?14277081:16040123}return a},__class__:ob,__properties__:u(w.prototype.__properties__,{get_ready:"get_ready",get_id:"get_id"})});var wb=function(a){null==wb._scratchPoint&&(wb._scratchPoint=new $a);a.asset=l.texture.band_member_hitbox;this._tween=a.tween;w.call(this,a);this._baseTexture=F._platform.getRenderer().createTexture(157,90);this._id=a.id;this.scaleX=
this._id==m.MUSICIAN_5?-0.7:0.7;this.scaleY=0.7;var a="loudhouse_bandglow_"+y.getNameOfCharID(this._id),b=y.getNameOfCharID(this._id);this._body=new Wb({library:b,originY:0,scale:0.75});this._body.set_y(150);this._body.animate("playing");this._selection=new w({asset:l.texture.band_member_glow_selected,scale:this._id==m.MUSICIAN_2?1.5:1,originY:1,alpha:1});this._selection.visible=!1;this._highlight=new w({asset:l.texture.band_member_highlight,y:this._body.get_y()+(this._id==m.MUSICIAN_2?50:18),scale:this._id==
m.MUSICIAN_2?1.75:1});this._highlight.visible=!1;this._baseTexture.get_graphics().fillRect(this._determineBubbleColor(),0,0,this._highlight.texture.get_width(),this._highlight.texture.get_height());this._baseTexture.get_graphics().setBlendMode(V.Mask);this._baseTexture.get_graphics().drawTexture(f.get_instance().assets.getTexture(l.texture.band_member_highlight),0,0);this._baseTexture.get_graphics().setBlendMode(V.Normal);this._highlight.texture=this._baseTexture;this._ring=new w({asset:a,y:this._body.get_y()+
(this._id==m.MUSICIAN_2?20:0),scale:this._id==m.MUSICIAN_2?1.75:1});this._selection.pos.y=this._ring.pos.y+(this._id==m.MUSICIAN_2?38:24);this.addChild(this._selection);this.addChild(this._highlight);this.addChild(this._ring);this.addChild(this._body);this.setCustomHitBox(150,300);this._updateInstrument()};j["com.nick.loudhouse.music_game.world.elements.Musician"]=wb;wb.__name__="com,nick,loudhouse,music_game,world,elements,Musician".split(",");wb.__super__=w;wb.prototype=u(w.prototype,{_updateInstrument:function(){var a;
switch(this._id[1]){case 8:a=f.get_instance().inventory.getItemData(m.MUSICIAN_1).get_currentRank();break;case 9:a=f.get_instance().inventory.getItemData(m.MUSICIAN_2).get_currentRank();break;case 10:a=f.get_instance().inventory.getItemData(m.MUSICIAN_3).get_currentRank();break;case 11:a=f.get_instance().inventory.getItemData(m.MUSICIAN_4).get_currentRank();break;case 12:a=f.get_instance().inventory.getItemData(m.MUSICIAN_5).get_currentRank()}if(0!=a)switch(this._id[1]){case 8:this._body.setAttachment(l.spine.luna.slots.LD_prop_guitar,
"images/LD_prop_guitar"+a);break;case 9:0==f.get_instance().getInt(i.INT_VENUE_ID)||3==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?this._body.setAttachment(l.spine.lana.slots.drums_bucket,"drums"+a):this._body.setAttachment(l.spine.lisa.slots.drums_bucket,"images/drums"+a);break;case 10:0==f.get_instance().getInt(i.INT_VENUE_ID)||2==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?this._body.setAttachment(l.spine.leni.slots.keyboard,
"keyboard"+a):this._body.setAttachment(l.spine.luan.slots.item_effect,"keyboard"+a);break;case 11:this._body.setAttachment(l.spine.lincoln.slots.props,"LD_prop_guitar"+a);break;case 12:0==f.get_instance().getInt(i.INT_VENUE_ID)||1==f.get_instance().getInt(i.INT_VENUE_ID)?this._body.setAttachment(l.spine.lucy.slots.guitar,"LD_prop_guitar"+a):this._body.setAttachment(l.spine.lynn.slots.guitar,"LD_prop_guitar"+a)}},play:function(){this._body.animate("playing")},setCustomHitBox:function(a,b){null==this._hitbox&&
(this._hitbox=this.addChild(new Ea({color:16711680,sizeX:a,sizeY:b,alpha:0})));this._hitbox.sizeX=a;this._hitbox.sizeY=b},contains:function(a,b){return this._hitbox.inverseTransform(a,b,wb._scratchPoint)},select:function(){this._selection.visible=!0;this._highlight.visible=!0},deselect:function(){this._selection.visible=!1;this._highlight.visible=!1},dispose:function(){w.prototype.dispose.call(this);this._tween=this._selection=this._body=this._ring=wb._scratchPoint=null;null!=this._hitbox&&(this._hitbox.dispose(),
this._hitbox=null)},update:function(a){w.prototype.update.call(this,a)},get_spotlit:function(){return this._selection.visible},get_id:function(){return this._id},_determineBubbleColor:function(){var a=0;switch(this._id[1]){case 8:a=14733311;break;case 9:a=0==f.get_instance().getInt(i.INT_VENUE_ID)||3==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?12836351:13431168;break;case 10:a=0==f.get_instance().getInt(i.INT_VENUE_ID)||2==f.get_instance().getInt(i.INT_VENUE_ID)||
4==f.get_instance().getInt(i.INT_VENUE_ID)?11661518:16440934;break;case 11:a=16765094;break;default:a=0==f.get_instance().getInt(i.INT_VENUE_ID)||1==f.get_instance().getInt(i.INT_VENUE_ID)?14277081:16040123}return a},__class__:wb,__properties__:u(w.prototype.__properties__,{get_id:"get_id",get_spotlit:"get_spotlit"})});var uc=function(){w.call(this,{})};j["com.nick.loudhouse.music_game.world.elements.Particle"]=uc;uc.__name__="com,nick,loudhouse,music_game,world,elements,Particle".split(",");uc.__interfaces__=
[Bd];uc.__super__=w;uc.prototype=u(w.prototype,{setReturnFunction:function(a){this._returnFunction=a},init:function(a,b,c,d){this.doDelete=!1;this._type=d;this.set_scale(1);this.alpha=this.scaleX=1;this.set_originY(0.5);this.rotation=0;this._life=5;this.velocity.to(0,0);this.pos.to(b,c,0);this.setAsset(a);switch(this._type[1]){case 0:this._life=20;this.velocity.to(0,f.get_instance().random.getRandomFloat(40,100));break;case 1:this._life=2;break;case 2:this._life=0.5;this.set_scale(f.get_instance().random.getRandomFloat(0.9,
1.5));this.velocity.to(f.get_instance().random.getRandomFloat(-1,1),f.get_instance().random.getRandomFloat(-1,1));this.velocity.multiply(500);break;case 3:this.scaleX=2;this.scaleY=0.5;this._life=10;this.rotation=f.get_instance().random.getRandomFloat(-150,-30);this._increasing=0.5<f.get_instance().random.getRandomFloat(0,1);this._rotationRate=45;break;case 5:this._life=10;this.pos.x=f.get_instance().random.getRandomFloat(-y.STAGE_CENTER_X,y.STAGE_CENTER_X);this.set_scale(f.get_instance().random.getRandomFloat(0.2,
0.8));this.velocity.to(0,f.get_instance().random.getRandomFloat(-600,-200));break;case 4:this.set_y(this.get_y()-250),this._life=10,this.set_scale(2),this.alpha=f.get_instance().random.getRandomFloat(0,1),this._increasing=0.5<f.get_instance().random.getRandomFloat(0,1)}},dispose:function(){null!=this.parent&&this.parent.removeChild(this);this._returnFunction(this)},destroy:function(){w.prototype.dispose.call(this);this._returnFunction=null},update:function(a){w.prototype.update.call(this,a);this.pos.x+=
this.velocity.x*a;this.pos.y+=this.velocity.y*a;switch(this._type[1]){case 1:this.alpha=0<this.alpha?this.alpha-0.5*a:0;this.set_scale(this.scale+a);break;case 2:this.alpha=0<this.alpha?this.alpha-2*a:0;break;case 3:this._increasing?(this.rotation+=this._rotationRate*a,-30<this.rotation&&(this._increasing=!this._increasing)):(this.rotation-=this._rotationRate*a,-150>this.rotation&&(this._increasing=!this._increasing));break;case 5:-280>this.pos.y&&(this.pos.y=280,this.pos.x=f.get_instance().random.getRandomFloat(-y.STAGE_CENTER_X,
y.STAGE_CENTER_X));break;case 4:this._increasing?(this.alpha+=a,1<=this.alpha&&(this.alpha=1,this._increasing=!this._increasing)):(this.alpha-=a,0>=this.alpha&&(this.alpha=0,this._increasing=!this._increasing))}this._life-=a;0>this._life&&this.dispose()},__class__:uc});var y=function(){};j["com.workinman.cloud.ConstantsApp"]=y;y.__name__=["com","workinman","cloud","ConstantsApp"];y.__properties__={get_isCocoon:"get_isCocoon"};y.dispatchFlowEvent=function(a){y._flowDelegate(a)};y.dispatchEvent=function(a){f.get_instance().dispatcher.dispatchEvent(Y.request(a))};
y.setFlowDelegate=function(a){y._flowDelegate=a};y.get_isCocoon=function(){0>y._isCocoon&&(y._isCocoon=window.CocoonJS?1:0);return 1==y._isCocoon};y.allAudioSupported=function(){return!0};y.getNameOfCharID=function(a){switch(a[1]){case 8:return"luna";case 9:return 0==f.get_instance().getInt(i.INT_VENUE_ID)||3==f.get_instance().getInt(i.INT_VENUE_ID)||4==f.get_instance().getInt(i.INT_VENUE_ID)?"lana":"lisa";case 10:return 0==f.get_instance().getInt(i.INT_VENUE_ID)||2==f.get_instance().getInt(i.INT_VENUE_ID)||
4==f.get_instance().getInt(i.INT_VENUE_ID)?"leni":"luan";case 11:return"lincoln";case 12:return 0==f.get_instance().getInt(i.INT_VENUE_ID)||1==f.get_instance().getInt(i.INT_VENUE_ID)?"lucy":"lynn";case 13:return"lily";default:return""}};var Ia=function(){};j["com.workinman.cloud.EFFECT"]=Ia;Ia.__name__=["com","workinman","cloud","EFFECT"];var k=j["com.workinman.cloud.EVENT"]={__ename__:["com","workinman","cloud","EVENT"],__constructs__:"GAME_OVER,PAUSE,UNPAUSE,MUTE_TOGGLE,RESIZE_CANVAS,UPDATE_DISPLAY,TWEENS_ALL_COMPLETE,TWEEN_CURRENT_COMPLETE,INITIAL_LOAD_COMPLETE,WORLD_GENERATION_COMPLETE,FILES_ERROR,FILE_RESULT,ALL_POOLS_FULL,VO_PAUSED,VO_ENDED,VO_STARTED,STAR_POWER_READY,STAR_POWER_USE,EXCITE_CROWD,COLLECT_NOTE,SELECT_MEMBER,PURCHASED_UPGRADE,TIMEDOWN,INPUT_ARBITRARY_KEY_BUTTON,INPUT_ARBITRARY_KEY_KEYBOARD,INPUT_FIELD_ENTER,INPUT_LOSE_FOCUS,INPUT_SCROLL_WHEEL,ITEM_SELECT,BUTTON_CLICK,BUTTON_CLICK_ID,BUTTON_OVER,BUTTON_OUT,BUTTON_UP,BUTTON_DOWN,BUTTON_DRAG,BUTTON_DROP,BUTTON_CANCEL_DRAG,DIALOGUE_LINE_COMPLETE,DIALOGUE_QUEUE_COMPLETE,TUTORIAL_SWIPE,TUTORIAL_CLICK_LOCATION,DIALOGUE_CLOSE".split(",")};
k.GAME_OVER=["GAME_OVER",0];k.GAME_OVER.toString=h;k.GAME_OVER.__enum__=k;k.PAUSE=["PAUSE",1];k.PAUSE.toString=h;k.PAUSE.__enum__=k;k.UNPAUSE=["UNPAUSE",2];k.UNPAUSE.toString=h;k.UNPAUSE.__enum__=k;k.MUTE_TOGGLE=["MUTE_TOGGLE",3];k.MUTE_TOGGLE.toString=h;k.MUTE_TOGGLE.__enum__=k;k.RESIZE_CANVAS=["RESIZE_CANVAS",4];k.RESIZE_CANVAS.toString=h;k.RESIZE_CANVAS.__enum__=k;k.UPDATE_DISPLAY=["UPDATE_DISPLAY",5];k.UPDATE_DISPLAY.toString=h;k.UPDATE_DISPLAY.__enum__=k;k.TWEENS_ALL_COMPLETE=["TWEENS_ALL_COMPLETE",
6];k.TWEENS_ALL_COMPLETE.toString=h;k.TWEENS_ALL_COMPLETE.__enum__=k;k.TWEEN_CURRENT_COMPLETE=["TWEEN_CURRENT_COMPLETE",7];k.TWEEN_CURRENT_COMPLETE.toString=h;k.TWEEN_CURRENT_COMPLETE.__enum__=k;k.INITIAL_LOAD_COMPLETE=["INITIAL_LOAD_COMPLETE",8];k.INITIAL_LOAD_COMPLETE.toString=h;k.INITIAL_LOAD_COMPLETE.__enum__=k;k.WORLD_GENERATION_COMPLETE=["WORLD_GENERATION_COMPLETE",9];k.WORLD_GENERATION_COMPLETE.toString=h;k.WORLD_GENERATION_COMPLETE.__enum__=k;k.FILES_ERROR=["FILES_ERROR",10];k.FILES_ERROR.toString=
h;k.FILES_ERROR.__enum__=k;k.FILE_RESULT=["FILE_RESULT",11];k.FILE_RESULT.toString=h;k.FILE_RESULT.__enum__=k;k.ALL_POOLS_FULL=["ALL_POOLS_FULL",12];k.ALL_POOLS_FULL.toString=h;k.ALL_POOLS_FULL.__enum__=k;k.VO_PAUSED=["VO_PAUSED",13];k.VO_PAUSED.toString=h;k.VO_PAUSED.__enum__=k;k.VO_ENDED=["VO_ENDED",14];k.VO_ENDED.toString=h;k.VO_ENDED.__enum__=k;k.VO_STARTED=["VO_STARTED",15];k.VO_STARTED.toString=h;k.VO_STARTED.__enum__=k;k.STAR_POWER_READY=["STAR_POWER_READY",16];k.STAR_POWER_READY.toString=
h;k.STAR_POWER_READY.__enum__=k;k.STAR_POWER_USE=["STAR_POWER_USE",17];k.STAR_POWER_USE.toString=h;k.STAR_POWER_USE.__enum__=k;k.EXCITE_CROWD=["EXCITE_CROWD",18];k.EXCITE_CROWD.toString=h;k.EXCITE_CROWD.__enum__=k;k.COLLECT_NOTE=["COLLECT_NOTE",19];k.COLLECT_NOTE.toString=h;k.COLLECT_NOTE.__enum__=k;k.SELECT_MEMBER=["SELECT_MEMBER",20];k.SELECT_MEMBER.toString=h;k.SELECT_MEMBER.__enum__=k;k.PURCHASED_UPGRADE=["PURCHASED_UPGRADE",21];k.PURCHASED_UPGRADE.toString=h;k.PURCHASED_UPGRADE.__enum__=k;k.TIMEDOWN=
["TIMEDOWN",22];k.TIMEDOWN.toString=h;k.TIMEDOWN.__enum__=k;k.INPUT_ARBITRARY_KEY_BUTTON=["INPUT_ARBITRARY_KEY_BUTTON",23];k.INPUT_ARBITRARY_KEY_BUTTON.toString=h;k.INPUT_ARBITRARY_KEY_BUTTON.__enum__=k;k.INPUT_ARBITRARY_KEY_KEYBOARD=["INPUT_ARBITRARY_KEY_KEYBOARD",24];k.INPUT_ARBITRARY_KEY_KEYBOARD.toString=h;k.INPUT_ARBITRARY_KEY_KEYBOARD.__enum__=k;k.INPUT_FIELD_ENTER=["INPUT_FIELD_ENTER",25];k.INPUT_FIELD_ENTER.toString=h;k.INPUT_FIELD_ENTER.__enum__=k;k.INPUT_LOSE_FOCUS=["INPUT_LOSE_FOCUS",26];
k.INPUT_LOSE_FOCUS.toString=h;k.INPUT_LOSE_FOCUS.__enum__=k;k.INPUT_SCROLL_WHEEL=["INPUT_SCROLL_WHEEL",27];k.INPUT_SCROLL_WHEEL.toString=h;k.INPUT_SCROLL_WHEEL.__enum__=k;k.ITEM_SELECT=["ITEM_SELECT",28];k.ITEM_SELECT.toString=h;k.ITEM_SELECT.__enum__=k;k.BUTTON_CLICK=["BUTTON_CLICK",29];k.BUTTON_CLICK.toString=h;k.BUTTON_CLICK.__enum__=k;k.BUTTON_CLICK_ID=["BUTTON_CLICK_ID",30];k.BUTTON_CLICK_ID.toString=h;k.BUTTON_CLICK_ID.__enum__=k;k.BUTTON_OVER=["BUTTON_OVER",31];k.BUTTON_OVER.toString=h;k.BUTTON_OVER.__enum__=
k;k.BUTTON_OUT=["BUTTON_OUT",32];k.BUTTON_OUT.toString=h;k.BUTTON_OUT.__enum__=k;k.BUTTON_UP=["BUTTON_UP",33];k.BUTTON_UP.toString=h;k.BUTTON_UP.__enum__=k;k.BUTTON_DOWN=["BUTTON_DOWN",34];k.BUTTON_DOWN.toString=h;k.BUTTON_DOWN.__enum__=k;k.BUTTON_DRAG=["BUTTON_DRAG",35];k.BUTTON_DRAG.toString=h;k.BUTTON_DRAG.__enum__=k;k.BUTTON_DROP=["BUTTON_DROP",36];k.BUTTON_DROP.toString=h;k.BUTTON_DROP.__enum__=k;k.BUTTON_CANCEL_DRAG=["BUTTON_CANCEL_DRAG",37];k.BUTTON_CANCEL_DRAG.toString=h;k.BUTTON_CANCEL_DRAG.__enum__=
k;k.DIALOGUE_LINE_COMPLETE=["DIALOGUE_LINE_COMPLETE",38];k.DIALOGUE_LINE_COMPLETE.toString=h;k.DIALOGUE_LINE_COMPLETE.__enum__=k;k.DIALOGUE_QUEUE_COMPLETE=["DIALOGUE_QUEUE_COMPLETE",39];k.DIALOGUE_QUEUE_COMPLETE.toString=h;k.DIALOGUE_QUEUE_COMPLETE.__enum__=k;k.TUTORIAL_SWIPE=["TUTORIAL_SWIPE",40];k.TUTORIAL_SWIPE.toString=h;k.TUTORIAL_SWIPE.__enum__=k;k.TUTORIAL_CLICK_LOCATION=["TUTORIAL_CLICK_LOCATION",41];k.TUTORIAL_CLICK_LOCATION.toString=h;k.TUTORIAL_CLICK_LOCATION.__enum__=k;k.DIALOGUE_CLOSE=
["DIALOGUE_CLOSE",42];k.DIALOGUE_CLOSE.toString=h;k.DIALOGUE_CLOSE.__enum__=k;k.__empty_constructs__=[k.GAME_OVER,k.PAUSE,k.UNPAUSE,k.MUTE_TOGGLE,k.RESIZE_CANVAS,k.UPDATE_DISPLAY,k.TWEENS_ALL_COMPLETE,k.TWEEN_CURRENT_COMPLETE,k.INITIAL_LOAD_COMPLETE,k.WORLD_GENERATION_COMPLETE,k.FILES_ERROR,k.FILE_RESULT,k.ALL_POOLS_FULL,k.VO_PAUSED,k.VO_ENDED,k.VO_STARTED,k.STAR_POWER_READY,k.STAR_POWER_USE,k.EXCITE_CROWD,k.COLLECT_NOTE,k.SELECT_MEMBER,k.PURCHASED_UPGRADE,k.TIMEDOWN,k.INPUT_ARBITRARY_KEY_BUTTON,
k.INPUT_ARBITRARY_KEY_KEYBOARD,k.INPUT_FIELD_ENTER,k.INPUT_LOSE_FOCUS,k.INPUT_SCROLL_WHEEL,k.ITEM_SELECT,k.BUTTON_CLICK,k.BUTTON_CLICK_ID,k.BUTTON_OVER,k.BUTTON_OUT,k.BUTTON_UP,k.BUTTON_DOWN,k.BUTTON_DRAG,k.BUTTON_DROP,k.BUTTON_CANCEL_DRAG,k.DIALOGUE_LINE_COMPLETE,k.DIALOGUE_QUEUE_COMPLETE,k.TUTORIAL_SWIPE,k.TUTORIAL_CLICK_LOCATION,k.DIALOGUE_CLOSE];var L=j["com.workinman.cloud.LAYER"]={__ename__:["com","workinman","cloud","LAYER"],__constructs__:["z__MAINUI","BG","BACKSTAGE","WORLD","FRONTROW"]};
L.z__MAINUI=["z__MAINUI",0];L.z__MAINUI.toString=h;L.z__MAINUI.__enum__=L;L.BG=["BG",1];L.BG.toString=h;L.BG.__enum__=L;L.BACKSTAGE=["BACKSTAGE",2];L.BACKSTAGE.toString=h;L.BACKSTAGE.__enum__=L;L.WORLD=["WORLD",3];L.WORLD.toString=h;L.WORLD.__enum__=L;L.FRONTROW=["FRONTROW",4];L.FRONTROW.toString=h;L.FRONTROW.__enum__=L;L.__empty_constructs__=[L.z__MAINUI,L.BG,L.BACKSTAGE,L.WORLD,L.FRONTROW];var X=j["com.workinman.cloud.PARTICLE_TYPE"]={__ename__:["com","workinman","cloud","PARTICLE_TYPE"],__constructs__:"CONFETTI,RING,BURST,LASER,RAY,SPARK".split(",")};
X.CONFETTI=["CONFETTI",0];X.CONFETTI.toString=h;X.CONFETTI.__enum__=X;X.RING=["RING",1];X.RING.toString=h;X.RING.__enum__=X;X.BURST=["BURST",2];X.BURST.toString=h;X.BURST.__enum__=X;X.LASER=["LASER",3];X.LASER.toString=h;X.LASER.__enum__=X;X.RAY=["RAY",4];X.RAY.toString=h;X.RAY.__enum__=X;X.SPARK=["SPARK",5];X.SPARK.toString=h;X.SPARK.__enum__=X;X.__empty_constructs__=[X.CONFETTI,X.RING,X.BURST,X.LASER,X.RAY,X.SPARK];var f=function(){this.pool=new Le;this._values=new ta;this._defaults=new ta;this["int"]=
Zb._new();this["float"]=Zb._new();this.bool=Zb._new();this.string=Zb._new();this.value=Zb._new()};j["com.workinman.cloud.WMCloud"]=f;f.__name__=["com","workinman","cloud","WMCloud"];f.__properties__={get_instance:"get_instance"};f.get_instance=function(){null==f.__instance&&(f.__instance=new f,f.__instance.init());return f.__instance};f.prototype={init:function(){this.dispatcher=Ab.request();this.input=new Me;this.assets=new Ne;this.sound=new Oe;this.random=new Pe;this.localize=new Qe;this.achievements=
new Re;this.dialogue=new Se;this.timer=new Te;this.inventory=new Ue;this.saving=new Ve;this.setString(i.STRING_REGION_ID,"en")},setBool:function(a,b){this.setValue(a,b)},getBool:function(a){return this._values.get(a)},setFloat:function(a,b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},setInt:function(a,b){this.setValue(a,b)},modifyInt:function(a,b){return Math.floor(this.modifyValue(a,b))},getInt:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,
b)},getString:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},getValue:function(a){return this._values.get(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},modifyValue:function(a,b){null==b&&(b=1);var c=this.getFloat(a)+b;this._values.set(a,c);this._updateDisplays(a);return this.getFloat(a)},resetValue:function(a){var b=this._defaults.get(a);this._values.set(a,b);
this._updateDisplays(a)},_updateDisplays:function(a){this.dispatcher.dispatchEvent(Y.request(k.UPDATE_DISPLAY,function(){var b=new S;b.set("val",a);return b}(this)))},update:function(a){this.input.update(a);this.dialogue.update(a);this.timer.update(a);this.sound.update(a);this.achievements.update(a)},__class__:f};var Ge=function(){this.slots=new We};j["com.workinman.cloud._WMManifest.Slana"]=Ge;Ge.__name__=["com","workinman","cloud","_WMManifest","Slana"];Ge.prototype={__class__:Ge};var We=function(){this.drums_bucket=
"drums_bucket"};j["com.workinman.cloud._WMManifest.Slana_Slots"]=We;We.__name__=["com","workinman","cloud","_WMManifest","Slana_Slots"];We.prototype={__class__:We};var Fe=function(){this.slots=new Xe};j["com.workinman.cloud._WMManifest.Sleni"]=Fe;Fe.__name__=["com","workinman","cloud","_WMManifest","Sleni"];Fe.prototype={__class__:Fe};var Xe=function(){this.keyboard="keyboard"};j["com.workinman.cloud._WMManifest.Sleni_Slots"]=Xe;Xe.__name__=["com","workinman","cloud","_WMManifest","Sleni_Slots"];
Xe.prototype={__class__:Xe};var Ee=function(){this.slots=new Ye};j["com.workinman.cloud._WMManifest.Slincoln"]=Ee;Ee.__name__=["com","workinman","cloud","_WMManifest","Slincoln"];Ee.prototype={__class__:Ee};var Ye=function(){this.props="props"};j["com.workinman.cloud._WMManifest.Slincoln_Slots"]=Ye;Ye.__name__=["com","workinman","cloud","_WMManifest","Slincoln_Slots"];Ye.prototype={__class__:Ye};var De=function(){this.slots=new Ze};j["com.workinman.cloud._WMManifest.Slisa"]=De;De.__name__=["com",
"workinman","cloud","_WMManifest","Slisa"];De.prototype={__class__:De};var Ze=function(){this.drums_bucket="drums_bucket"};j["com.workinman.cloud._WMManifest.Slisa_Slots"]=Ze;Ze.__name__=["com","workinman","cloud","_WMManifest","Slisa_Slots"];Ze.prototype={__class__:Ze};var Ce=function(){this.slots=new $e};j["com.workinman.cloud._WMManifest.Sluan"]=Ce;Ce.__name__=["com","workinman","cloud","_WMManifest","Sluan"];Ce.prototype={__class__:Ce};var $e=function(){this.item_effect="item_effect"};j["com.workinman.cloud._WMManifest.Sluan_Slots"]=
$e;$e.__name__=["com","workinman","cloud","_WMManifest","Sluan_Slots"];$e.prototype={__class__:$e};var Be=function(){this.slots=new af};j["com.workinman.cloud._WMManifest.Slucy"]=Be;Be.__name__=["com","workinman","cloud","_WMManifest","Slucy"];Be.prototype={__class__:Be};var af=function(){this.guitar="guitar"};j["com.workinman.cloud._WMManifest.Slucy_Slots"]=af;af.__name__=["com","workinman","cloud","_WMManifest","Slucy_Slots"];af.prototype={__class__:af};var Ae=function(){this.slots=new bf};j["com.workinman.cloud._WMManifest.Sluna"]=
Ae;Ae.__name__=["com","workinman","cloud","_WMManifest","Sluna"];Ae.prototype={__class__:Ae};var bf=function(){this.LD_prop_guitar="images/LD_prop_guitar"};j["com.workinman.cloud._WMManifest.Sluna_Slots"]=bf;bf.__name__=["com","workinman","cloud","_WMManifest","Sluna_Slots"];bf.prototype={__class__:bf};var ze=function(){this.slots=new cf};j["com.workinman.cloud._WMManifest.Slynn"]=ze;ze.__name__=["com","workinman","cloud","_WMManifest","Slynn"];ze.prototype={__class__:ze};var cf=function(){this.guitar=
"guitar"};j["com.workinman.cloud._WMManifest.Slynn_Slots"]=cf;cf.__name__=["com","workinman","cloud","_WMManifest","Slynn_Slots"];cf.prototype={__class__:cf};var r=j["com.workinman.cloud.input.INPUT_CONTROLLER"]={__ename__:["com","workinman","cloud","input","INPUT_CONTROLLER"],__constructs__:"A,B,X,Y,DPAD_UP,DPAD_DOWN,DPAD_RIGHT,DPAD_LEFT,LB,RB,LT,RT,START,SELECT,LSTICK_UP,LSTICK_DOWN,LSTICK_RIGHT,LSTICK_LEFT,RSTICK_UP,RSTICK_DOWN,RSTICK_RIGHT,RSTICK_LEFT,LSTICK_BUTTON,RSTICK_BUTTON".split(",")};
r.A=["A",0];r.A.toString=h;r.A.__enum__=r;r.B=["B",1];r.B.toString=h;r.B.__enum__=r;r.X=["X",2];r.X.toString=h;r.X.__enum__=r;r.Y=["Y",3];r.Y.toString=h;r.Y.__enum__=r;r.DPAD_UP=["DPAD_UP",4];r.DPAD_UP.toString=h;r.DPAD_UP.__enum__=r;r.DPAD_DOWN=["DPAD_DOWN",5];r.DPAD_DOWN.toString=h;r.DPAD_DOWN.__enum__=r;r.DPAD_RIGHT=["DPAD_RIGHT",6];r.DPAD_RIGHT.toString=h;r.DPAD_RIGHT.__enum__=r;r.DPAD_LEFT=["DPAD_LEFT",7];r.DPAD_LEFT.toString=h;r.DPAD_LEFT.__enum__=r;r.LB=["LB",8];r.LB.toString=h;r.LB.__enum__=
r;r.RB=["RB",9];r.RB.toString=h;r.RB.__enum__=r;r.LT=["LT",10];r.LT.toString=h;r.LT.__enum__=r;r.RT=["RT",11];r.RT.toString=h;r.RT.__enum__=r;r.START=["START",12];r.START.toString=h;r.START.__enum__=r;r.SELECT=["SELECT",13];r.SELECT.toString=h;r.SELECT.__enum__=r;r.LSTICK_UP=["LSTICK_UP",14];r.LSTICK_UP.toString=h;r.LSTICK_UP.__enum__=r;r.LSTICK_DOWN=["LSTICK_DOWN",15];r.LSTICK_DOWN.toString=h;r.LSTICK_DOWN.__enum__=r;r.LSTICK_RIGHT=["LSTICK_RIGHT",16];r.LSTICK_RIGHT.toString=h;r.LSTICK_RIGHT.__enum__=
r;r.LSTICK_LEFT=["LSTICK_LEFT",17];r.LSTICK_LEFT.toString=h;r.LSTICK_LEFT.__enum__=r;r.RSTICK_UP=["RSTICK_UP",18];r.RSTICK_UP.toString=h;r.RSTICK_UP.__enum__=r;r.RSTICK_DOWN=["RSTICK_DOWN",19];r.RSTICK_DOWN.toString=h;r.RSTICK_DOWN.__enum__=r;r.RSTICK_RIGHT=["RSTICK_RIGHT",20];r.RSTICK_RIGHT.toString=h;r.RSTICK_RIGHT.__enum__=r;r.RSTICK_LEFT=["RSTICK_LEFT",21];r.RSTICK_LEFT.toString=h;r.RSTICK_LEFT.__enum__=r;r.LSTICK_BUTTON=["LSTICK_BUTTON",22];r.LSTICK_BUTTON.toString=h;r.LSTICK_BUTTON.__enum__=
r;r.RSTICK_BUTTON=["RSTICK_BUTTON",23];r.RSTICK_BUTTON.toString=h;r.RSTICK_BUTTON.__enum__=r;r.__empty_constructs__=[r.A,r.B,r.X,r.Y,r.DPAD_UP,r.DPAD_DOWN,r.DPAD_RIGHT,r.DPAD_LEFT,r.LB,r.RB,r.LT,r.RT,r.START,r.SELECT,r.LSTICK_UP,r.LSTICK_DOWN,r.LSTICK_RIGHT,r.LSTICK_LEFT,r.RSTICK_UP,r.RSTICK_DOWN,r.RSTICK_RIGHT,r.RSTICK_LEFT,r.LSTICK_BUTTON,r.RSTICK_BUTTON];var ca=j["com.workinman.cloud.input.INPUT_PHASE"]={__ename__:["com","workinman","cloud","input","INPUT_PHASE"],__constructs__:["DOWN","UP","MOVE"]};
ca.DOWN=["DOWN",0];ca.DOWN.toString=h;ca.DOWN.__enum__=ca;ca.UP=["UP",1];ca.UP.toString=h;ca.UP.__enum__=ca;ca.MOVE=["MOVE",2];ca.MOVE.toString=h;ca.MOVE.__enum__=ca;ca.__empty_constructs__=[ca.DOWN,ca.UP,ca.MOVE];var aa=j["com.workinman.cloud.input.INPUT_SWIPE"]={__ename__:["com","workinman","cloud","input","INPUT_SWIPE"],__constructs__:["NONE","LEFT","RIGHT","UP","DOWN"]};aa.NONE=["NONE",0];aa.NONE.toString=h;aa.NONE.__enum__=aa;aa.LEFT=["LEFT",1];aa.LEFT.toString=h;aa.LEFT.__enum__=aa;aa.RIGHT=
["RIGHT",2];aa.RIGHT.toString=h;aa.RIGHT.__enum__=aa;aa.UP=["UP",3];aa.UP.toString=h;aa.UP.__enum__=aa;aa.DOWN=["DOWN",4];aa.DOWN.toString=h;aa.DOWN.__enum__=aa;aa.__empty_constructs__=[aa.NONE,aa.LEFT,aa.RIGHT,aa.UP,aa.DOWN];var A=j["com.workinman.cloud.input.INPUT_TYPE"]={__ename__:["com","workinman","cloud","input","INPUT_TYPE"],__constructs__:"CLICK,UI_OK,UI_DENY,UI_MENU,D0,D1,D2,D3,D4,D5,MOVE_UP,MOVE_DOWN,MOVE_LEFT,MOVE_RIGHT,JUMP,ATTACK".split(",")};A.CLICK=["CLICK",0];A.CLICK.toString=h;A.CLICK.__enum__=
A;A.UI_OK=["UI_OK",1];A.UI_OK.toString=h;A.UI_OK.__enum__=A;A.UI_DENY=["UI_DENY",2];A.UI_DENY.toString=h;A.UI_DENY.__enum__=A;A.UI_MENU=["UI_MENU",3];A.UI_MENU.toString=h;A.UI_MENU.__enum__=A;A.D0=["D0",4];A.D0.toString=h;A.D0.__enum__=A;A.D1=["D1",5];A.D1.toString=h;A.D1.__enum__=A;A.D2=["D2",6];A.D2.toString=h;A.D2.__enum__=A;A.D3=["D3",7];A.D3.toString=h;A.D3.__enum__=A;A.D4=["D4",8];A.D4.toString=h;A.D4.__enum__=A;A.D5=["D5",9];A.D5.toString=h;A.D5.__enum__=A;A.MOVE_UP=["MOVE_UP",10];A.MOVE_UP.toString=
h;A.MOVE_UP.__enum__=A;A.MOVE_DOWN=["MOVE_DOWN",11];A.MOVE_DOWN.toString=h;A.MOVE_DOWN.__enum__=A;A.MOVE_LEFT=["MOVE_LEFT",12];A.MOVE_LEFT.toString=h;A.MOVE_LEFT.__enum__=A;A.MOVE_RIGHT=["MOVE_RIGHT",13];A.MOVE_RIGHT.toString=h;A.MOVE_RIGHT.__enum__=A;A.JUMP=["JUMP",14];A.JUMP.toString=h;A.JUMP.__enum__=A;A.ATTACK=["ATTACK",15];A.ATTACK.toString=h;A.ATTACK.__enum__=A;A.__empty_constructs__=[A.CLICK,A.UI_OK,A.UI_DENY,A.UI_MENU,A.D0,A.D1,A.D2,A.D3,A.D4,A.D5,A.MOVE_UP,A.MOVE_DOWN,A.MOVE_LEFT,A.MOVE_RIGHT,
A.JUMP,A.ATTACK];var fb=j["com.workinman.cloud.input.INPUT_VIRTUAL"]={__ename__:["com","workinman","cloud","input","INPUT_VIRTUAL"],__constructs__:["JUMP","ATTACK"]};fb.JUMP=["JUMP",0];fb.JUMP.toString=h;fb.JUMP.__enum__=fb;fb.ATTACK=["ATTACK",1];fb.ATTACK.toString=h;fb.ATTACK.__enum__=fb;fb.__empty_constructs__=[fb.JUMP,fb.ATTACK];var ia=j["com.workinman.cloud.screen.CHANGE_TYPE"]={__ename__:["com","workinman","cloud","screen","CHANGE_TYPE"],__constructs__:["OPEN_BEGIN","OPEN_COMPLETE","CLOSE_BEGIN",
"CLOSE_COMPLETE"]};ia.OPEN_BEGIN=["OPEN_BEGIN",0];ia.OPEN_BEGIN.toString=h;ia.OPEN_BEGIN.__enum__=ia;ia.OPEN_COMPLETE=["OPEN_COMPLETE",1];ia.OPEN_COMPLETE.toString=h;ia.OPEN_COMPLETE.__enum__=ia;ia.CLOSE_BEGIN=["CLOSE_BEGIN",2];ia.CLOSE_BEGIN.toString=h;ia.CLOSE_BEGIN.__enum__=ia;ia.CLOSE_COMPLETE=["CLOSE_COMPLETE",3];ia.CLOSE_COMPLETE.toString=h;ia.CLOSE_COMPLETE.__enum__=ia;ia.__empty_constructs__=[ia.OPEN_BEGIN,ia.OPEN_COMPLETE,ia.CLOSE_BEGIN,ia.CLOSE_COMPLETE];var o=j["com.workinman.cloud.screen.FLOW"]=
{__ename__:["com","workinman","cloud","screen","FLOW"],__constructs__:"SPLASH_PLAY,MAIN_MENU,UPGRADE,UPGRADE_CLOSE,VENUE_SELECT,VENUE_SELECT_CLOSE,VENUE_PLAY,HELP_CLOSE,SHOP,SHOP_CLOSE,GAMEPLAY_MENU,GAMEPLAY_MENU_CLOSE,GAMEPLAY_MENU_HELP,GAMEPLAY_MENU_QUIT,GAMEPLAY_QUIT_YES,GAMEPLAY_QUIT_NO,END_GAME_PLAY_AGAIN,BRANCH_GAME_WIN,BRANCH_GAME_LOSE,BRANCH_LEVEL_WIN,BRANCH_LEVEL_LOSE,ENTER_CODE_CLOSE,ENTER_CODE_OPEN,LOAD_CLOSE,ACHIEVEMENT_POPUP,ACHIEVEMENT_POPUP_CLOSE,ACHIEVEMENT,ACHIEVEMENT_CLOSE,DIALOGUE_POPUP,DIALOGUE_CLOSE,DEBUG_CLOSE".split(",")};
o.SPLASH_PLAY=["SPLASH_PLAY",0];o.SPLASH_PLAY.toString=h;o.SPLASH_PLAY.__enum__=o;o.MAIN_MENU=["MAIN_MENU",1];o.MAIN_MENU.toString=h;o.MAIN_MENU.__enum__=o;o.UPGRADE=["UPGRADE",2];o.UPGRADE.toString=h;o.UPGRADE.__enum__=o;o.UPGRADE_CLOSE=["UPGRADE_CLOSE",3];o.UPGRADE_CLOSE.toString=h;o.UPGRADE_CLOSE.__enum__=o;o.VENUE_SELECT=["VENUE_SELECT",4];o.VENUE_SELECT.toString=h;o.VENUE_SELECT.__enum__=o;o.VENUE_SELECT_CLOSE=["VENUE_SELECT_CLOSE",5];o.VENUE_SELECT_CLOSE.toString=h;o.VENUE_SELECT_CLOSE.__enum__=
o;o.VENUE_PLAY=["VENUE_PLAY",6];o.VENUE_PLAY.toString=h;o.VENUE_PLAY.__enum__=o;o.HELP_CLOSE=["HELP_CLOSE",7];o.HELP_CLOSE.toString=h;o.HELP_CLOSE.__enum__=o;o.SHOP=["SHOP",8];o.SHOP.toString=h;o.SHOP.__enum__=o;o.SHOP_CLOSE=["SHOP_CLOSE",9];o.SHOP_CLOSE.toString=h;o.SHOP_CLOSE.__enum__=o;o.GAMEPLAY_MENU=["GAMEPLAY_MENU",10];o.GAMEPLAY_MENU.toString=h;o.GAMEPLAY_MENU.__enum__=o;o.GAMEPLAY_MENU_CLOSE=["GAMEPLAY_MENU_CLOSE",11];o.GAMEPLAY_MENU_CLOSE.toString=h;o.GAMEPLAY_MENU_CLOSE.__enum__=o;o.GAMEPLAY_MENU_HELP=
["GAMEPLAY_MENU_HELP",12];o.GAMEPLAY_MENU_HELP.toString=h;o.GAMEPLAY_MENU_HELP.__enum__=o;o.GAMEPLAY_MENU_QUIT=["GAMEPLAY_MENU_QUIT",13];o.GAMEPLAY_MENU_QUIT.toString=h;o.GAMEPLAY_MENU_QUIT.__enum__=o;o.GAMEPLAY_QUIT_YES=["GAMEPLAY_QUIT_YES",14];o.GAMEPLAY_QUIT_YES.toString=h;o.GAMEPLAY_QUIT_YES.__enum__=o;o.GAMEPLAY_QUIT_NO=["GAMEPLAY_QUIT_NO",15];o.GAMEPLAY_QUIT_NO.toString=h;o.GAMEPLAY_QUIT_NO.__enum__=o;o.END_GAME_PLAY_AGAIN=["END_GAME_PLAY_AGAIN",16];o.END_GAME_PLAY_AGAIN.toString=h;o.END_GAME_PLAY_AGAIN.__enum__=
o;o.BRANCH_GAME_WIN=["BRANCH_GAME_WIN",17];o.BRANCH_GAME_WIN.toString=h;o.BRANCH_GAME_WIN.__enum__=o;o.BRANCH_GAME_LOSE=["BRANCH_GAME_LOSE",18];o.BRANCH_GAME_LOSE.toString=h;o.BRANCH_GAME_LOSE.__enum__=o;o.BRANCH_LEVEL_WIN=["BRANCH_LEVEL_WIN",19];o.BRANCH_LEVEL_WIN.toString=h;o.BRANCH_LEVEL_WIN.__enum__=o;o.BRANCH_LEVEL_LOSE=["BRANCH_LEVEL_LOSE",20];o.BRANCH_LEVEL_LOSE.toString=h;o.BRANCH_LEVEL_LOSE.__enum__=o;o.ENTER_CODE_CLOSE=["ENTER_CODE_CLOSE",21];o.ENTER_CODE_CLOSE.toString=h;o.ENTER_CODE_CLOSE.__enum__=
o;o.ENTER_CODE_OPEN=["ENTER_CODE_OPEN",22];o.ENTER_CODE_OPEN.toString=h;o.ENTER_CODE_OPEN.__enum__=o;o.LOAD_CLOSE=["LOAD_CLOSE",23];o.LOAD_CLOSE.toString=h;o.LOAD_CLOSE.__enum__=o;o.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",24];o.ACHIEVEMENT_POPUP.toString=h;o.ACHIEVEMENT_POPUP.__enum__=o;o.ACHIEVEMENT_POPUP_CLOSE=["ACHIEVEMENT_POPUP_CLOSE",25];o.ACHIEVEMENT_POPUP_CLOSE.toString=h;o.ACHIEVEMENT_POPUP_CLOSE.__enum__=o;o.ACHIEVEMENT=["ACHIEVEMENT",26];o.ACHIEVEMENT.toString=h;o.ACHIEVEMENT.__enum__=o;
o.ACHIEVEMENT_CLOSE=["ACHIEVEMENT_CLOSE",27];o.ACHIEVEMENT_CLOSE.toString=h;o.ACHIEVEMENT_CLOSE.__enum__=o;o.DIALOGUE_POPUP=["DIALOGUE_POPUP",28];o.DIALOGUE_POPUP.toString=h;o.DIALOGUE_POPUP.__enum__=o;o.DIALOGUE_CLOSE=["DIALOGUE_CLOSE",29];o.DIALOGUE_CLOSE.toString=h;o.DIALOGUE_CLOSE.__enum__=o;o.DEBUG_CLOSE=["DEBUG_CLOSE",30];o.DEBUG_CLOSE.toString=h;o.DEBUG_CLOSE.__enum__=o;o.__empty_constructs__=[o.SPLASH_PLAY,o.MAIN_MENU,o.UPGRADE,o.UPGRADE_CLOSE,o.VENUE_SELECT,o.VENUE_SELECT_CLOSE,o.VENUE_PLAY,
o.HELP_CLOSE,o.SHOP,o.SHOP_CLOSE,o.GAMEPLAY_MENU,o.GAMEPLAY_MENU_CLOSE,o.GAMEPLAY_MENU_HELP,o.GAMEPLAY_MENU_QUIT,o.GAMEPLAY_QUIT_YES,o.GAMEPLAY_QUIT_NO,o.END_GAME_PLAY_AGAIN,o.BRANCH_GAME_WIN,o.BRANCH_GAME_LOSE,o.BRANCH_LEVEL_WIN,o.BRANCH_LEVEL_LOSE,o.ENTER_CODE_CLOSE,o.ENTER_CODE_OPEN,o.LOAD_CLOSE,o.ACHIEVEMENT_POPUP,o.ACHIEVEMENT_POPUP_CLOSE,o.ACHIEVEMENT,o.ACHIEVEMENT_CLOSE,o.DIALOGUE_POPUP,o.DIALOGUE_CLOSE,o.DEBUG_CLOSE];var gb=j["com.workinman.cloud.screen.SCREEN_OUTPUT"]={__ename__:["com","workinman",
"cloud","screen","SCREEN_OUTPUT"],__constructs__:["OPENED","CLOSED"]};gb.OPENED=["OPENED",0];gb.OPENED.toString=h;gb.OPENED.__enum__=gb;gb.CLOSED=["CLOSED",1];gb.CLOSED.toString=h;gb.CLOSED.__enum__=gb;gb.__empty_constructs__=[gb.OPENED,gb.CLOSED];var t=j["com.workinman.cloud.screen.SCREEN_TYPE"]={__ename__:["com","workinman","cloud","screen","SCREEN_TYPE"],__constructs__:"SPLASH,HELP,SHOP,LOAD_LEVEL,SELECT_SAVE,GAMEPLAY_HUD,GAMEPLAY_MENU,QUIT_CONFIRM,END_LEVEL,END_GAME,END_SUMMARY,CUTSCENE_BORDERS,UNLOCK,ENTER_CODE,ACHIEVEMENTS,ACHIEVEMENT_POPUP,DIALOGUE_POPUP,DEBUG,MAIN_MENU,VENUE_SELECT,UPGRADE,MESSAGE".split(",")};
t.SPLASH=["SPLASH",0];t.SPLASH.toString=h;t.SPLASH.__enum__=t;t.HELP=["HELP",1];t.HELP.toString=h;t.HELP.__enum__=t;t.SHOP=["SHOP",2];t.SHOP.toString=h;t.SHOP.__enum__=t;t.LOAD_LEVEL=["LOAD_LEVEL",3];t.LOAD_LEVEL.toString=h;t.LOAD_LEVEL.__enum__=t;t.SELECT_SAVE=["SELECT_SAVE",4];t.SELECT_SAVE.toString=h;t.SELECT_SAVE.__enum__=t;t.GAMEPLAY_HUD=["GAMEPLAY_HUD",5];t.GAMEPLAY_HUD.toString=h;t.GAMEPLAY_HUD.__enum__=t;t.GAMEPLAY_MENU=["GAMEPLAY_MENU",6];t.GAMEPLAY_MENU.toString=h;t.GAMEPLAY_MENU.__enum__=
t;t.QUIT_CONFIRM=["QUIT_CONFIRM",7];t.QUIT_CONFIRM.toString=h;t.QUIT_CONFIRM.__enum__=t;t.END_LEVEL=["END_LEVEL",8];t.END_LEVEL.toString=h;t.END_LEVEL.__enum__=t;t.END_GAME=["END_GAME",9];t.END_GAME.toString=h;t.END_GAME.__enum__=t;t.END_SUMMARY=["END_SUMMARY",10];t.END_SUMMARY.toString=h;t.END_SUMMARY.__enum__=t;t.CUTSCENE_BORDERS=["CUTSCENE_BORDERS",11];t.CUTSCENE_BORDERS.toString=h;t.CUTSCENE_BORDERS.__enum__=t;t.UNLOCK=["UNLOCK",12];t.UNLOCK.toString=h;t.UNLOCK.__enum__=t;t.ENTER_CODE=["ENTER_CODE",
13];t.ENTER_CODE.toString=h;t.ENTER_CODE.__enum__=t;t.ACHIEVEMENTS=["ACHIEVEMENTS",14];t.ACHIEVEMENTS.toString=h;t.ACHIEVEMENTS.__enum__=t;t.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",15];t.ACHIEVEMENT_POPUP.toString=h;t.ACHIEVEMENT_POPUP.__enum__=t;t.DIALOGUE_POPUP=["DIALOGUE_POPUP",16];t.DIALOGUE_POPUP.toString=h;t.DIALOGUE_POPUP.__enum__=t;t.DEBUG=["DEBUG",17];t.DEBUG.toString=h;t.DEBUG.__enum__=t;t.MAIN_MENU=["MAIN_MENU",18];t.MAIN_MENU.toString=h;t.MAIN_MENU.__enum__=t;t.VENUE_SELECT=["VENUE_SELECT",
19];t.VENUE_SELECT.toString=h;t.VENUE_SELECT.__enum__=t;t.UPGRADE=["UPGRADE",20];t.UPGRADE.toString=h;t.UPGRADE.__enum__=t;t.MESSAGE=["MESSAGE",21];t.MESSAGE.toString=h;t.MESSAGE.__enum__=t;t.__empty_constructs__=[t.SPLASH,t.HELP,t.SHOP,t.LOAD_LEVEL,t.SELECT_SAVE,t.GAMEPLAY_HUD,t.GAMEPLAY_MENU,t.QUIT_CONFIRM,t.END_LEVEL,t.END_GAME,t.END_SUMMARY,t.CUTSCENE_BORDERS,t.UNLOCK,t.ENTER_CODE,t.ACHIEVEMENTS,t.ACHIEVEMENT_POPUP,t.DIALOGUE_POPUP,t.DEBUG,t.MAIN_MENU,t.VENUE_SELECT,t.UPGRADE,t.MESSAGE];var Re=
function(){this._queue=[];this.popupOpen=this.enabled=!1};j["com.workinman.cloudutils.WMAchievementManager"]=Re;Re.__name__=["com","workinman","cloudutils","WMAchievementManager"];Re.prototype={init:function(){if(!this.enabled){this.enabled=!0;var a=f.get_instance().saving.getData("sora_achi");if(null!=a.achievements)for(var b=0,a=a.achievements;b<a.length;){var c=a[b];++b;for(var d=0,g=Fb.achievementData;d<g.length;){var s=g[d];++d;s.id==c&&(s.achieved=!0)}}this._calcScore();this._addEventListeners()}},
update:function(){!1==this.popupOpen&&0<this._queue.length&&(this.popupOpen=!0,y.dispatchFlowEvent(o.ACHIEVEMENT_POPUP))},getQueue:function(){return this._queue.shift()},_calcScore:function(){for(var a=this.points=0,b=Fb.achievementData;a<b.length;){var c=b[a];++a;c.achieved&&(this.points+=c.points)}},_sharedObjectSetData:function(){for(var a=[],b=0,c=Fb.achievementData;b<c.length;){var d=c[b];++b;d.achieved&&a.push(d.id)}a={version:"1.1",achievements:a,inventory:Aa.get_instance().get_inventory(),
currency:Aa.get_instance().get_currency(),currencyAllTime:Aa.get_instance().get_currencyAlltime(),songsCompleted:f.get_instance().getInt(i.INT_SONGS_COMPLETED),tutoredStarPower:f.get_instance().getBool(i.BOOL_TUTORED_STAR_POWER),tutoredDuet:f.get_instance().getBool(i.BOOL_TUTORED_DUET),venue:Aa.get_instance().get_venue()};f.get_instance().saving.setData("sora_achi",a)},_addEventListeners:function(){f.get_instance().dispatcher.addEventListener(k.UPDATE_DISPLAY,p(this,this._onCheckAchievements))},_onCheckAchievements:function(a){for(var b=
0,c=Fb.achievementData;b<c.length;){var d=c[b];++b;var g=d.valueId,s;s=a.get_data().get("val");g==s&&!d.achieved&&f.get_instance().getValue(d.valueId)>=d.value&&(d.achieved=!0,this._sharedObjectSetData(),this._calcScore(),this._queue.push(d))}},__class__:Re};var Zb=function(){};j["com.workinman.cloudutils._WMCloudMap.WMCloudMap_Impl_"]=Zb;Zb.__name__=["com","workinman","cloudutils","_WMCloudMap","WMCloudMap_Impl_"];Zb._new=function(){return new df};var df=function(){};j["com.workinman.cloudutils.WMCloudMapBase"]=
df;df.__name__=["com","workinman","cloudutils","WMCloudMapBase"];df.prototype={__class__:df};var ab=j["com.workinman.cloudutils._WMDialogueManager.DIALOGUE_STATE"]={__ename__:["com","workinman","cloudutils","_WMDialogueManager","DIALOGUE_STATE"],__constructs__:["ACTIVE","READY"]};ab.ACTIVE=["ACTIVE",0];ab.ACTIVE.toString=h;ab.ACTIVE.__enum__=ab;ab.READY=["READY",1];ab.READY.toString=h;ab.READY.__enum__=ab;ab.__empty_constructs__=[ab.ACTIVE,ab.READY];var Se=function(){this._queue=[];this._dialogueTracker=
[];this._currentDialogue="";this._addEventListeners();this._setState(ab.READY)};j["com.workinman.cloudutils.WMDialogueManager"]=Se;Se.__name__=["com","workinman","cloudutils","WMDialogueManager"];Se.prototype={_addEventListeners:function(){f.get_instance().dispatcher.addEventListener(k.DIALOGUE_LINE_COMPLETE,p(this,this._onDialogueComplete))},_onDialogueComplete:function(){this._setState(ab.READY)},_setState:function(a){this._state=a;switch(this._state[1]){case 1:f.get_instance().dispatcher.dispatchEvent(Y.request(k.DIALOGUE_QUEUE_COMPLETE)),
""!=this._currentDialogue&&(this._dialogueTracker.push(this._currentDialogue),this._currentDialogue="")}},update:function(a){switch(this._state[1]){case 1:if(0<this._queue.length){if(0<this._delay){this._delay-=a;break}this._setState(ab.ACTIVE);y.dispatchFlowEvent(o.DIALOGUE_POPUP)}}},start:function(a,b){null==b&&(b=0);var c=kg.buildDialogueData(a);if(!0==this._hasPlayedDialogue(c[0].id))for(var d=0;d<c.length;){var g=c[d];++d;g.dispose()}else{null;this._currentDialogue=c[0].id;d=0;for(g=c.length;d<
g;){var s=d++;this._queue.push(c[s])}this._delay=b}},_hasPlayedDialogue:function(a){for(var b=0,c=this._dialogueTracker;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},hasDialogueQueued:function(a){return 1>this._queue.length||null==this._queue[0].id?!1:this._queue[0].id==a},grabData:function(){return this._queue.shift()},__class__:Se};var Me=function(){this._delegateListenerArray=[];this._delegateUnlockWebAudio=null;this._inputTrackers=[];this._virtualDown=[];this._controllerDown=[];this.multiTouch=
[];this.leftStick=N.request();this.rightStick=N.request();this._enabled=!1;this.pointer=new Cd(-1)};j["com.workinman.cloudutils.WMInput"]=Me;Me.__name__=["com","workinman","cloudutils","WMInput"];Me.prototype={setDelegateUnlockWebAudio:function(a){this._delegateUnlockWebAudio=a},addDelegateListener:function(a){for(var b=0,c=this._delegateListenerArray;b<c.length;){var d=c[b];++b;if(d==a)return}this._delegateListenerArray.push(a)},removeDelegateListener:function(a){for(var b=this._delegateListenerArray.length;0<
b--;)if(this._delegateListenerArray[b]==a){this._delegateListenerArray.splice(b,1);break}},setEnabled:function(a){this._enabled=a},_delegateDispatch:function(a,b,c,d,g){null!=this._delegateUnlockWebAudio&&a==ca.UP&&(this._delegateUnlockWebAudio(),this._delegateUnlockWebAudio=null);if(!1!=this._enabled)for(var s=0,e=this._delegateListenerArray;s<e.length;){var f=e[s];++s;f(a,b,c,d,g)}},update:function(){if(!1!=this._enabled){this._findGamepad();null!=this._gamepad&&(this._gamepad.update(),this.leftStick.to(this._gamepad.leftX,
this._gamepad.leftY),this.rightStick.to(this._gamepad.rightX,this._gamepad.rightY));for(var a=0,b=this._inputTrackers;a<b.length;){var c=b[a];++a;c.updateStatus()}this.pointer.fresh=!1;for(a=this.multiTouch.length;0<a--;)b=this.multiTouch[a],b.fresh=!1,b.phase==ca.UP&&(b.dispose(),this.multiTouch.splice(a,1))}},_findGamepad:function(){if(q.isFunction((wg=window.navigator,p(wg,wg.getGamepads))))for(var a=0,b=window.navigator.getGamepads();a<b.length;){var c=b[a];++a;if(null!=c&&-1<c.id.indexOf("Xbox 360 Controller")){null==
this._gamepad?this._gamepad=new Dd(c):this._gamepad.setGamepad(c);break}}},prime:function(a){this._root=a;F._platform.getKeyboard().down.connect(p(this,this._onKeyDown));F._platform.getKeyboard().up.connect(p(this,this._onKeyUp));F._platform.getTouch().get_supported()&&(F._platform.getTouch().down.connect(p(this,this._onTouchDown)),F._platform.getTouch().move.connect(p(this,this._onTouchMove)),F._platform.getTouch().up.connect(p(this,this._onTouchUp)));F._platform.getPointer().down.connect(p(this,
this._onPointerDown));F._platform.getPointer().move.connect(p(this,this._onPointerMove));F._platform.getPointer().up.connect(p(this,this._onPointerUp));F._platform.getMouse().scroll.connect(p(this,this._onScrollWheel))},_onScrollWheel:function(a){f.get_instance().dispatcher.dispatchEvent(Y.request(k.INPUT_SCROLL_WHEEL,function(){var b=new S;b.set("velocity",a);return b}(this)))},hitTest:function(a,b){return this._root.hitTest(a,b)},registerInput:function(a,b,c,d){this._createOrGetInputTracker(a).setKeys(b,
c,d)},_createOrGetInputTracker:function(a){for(var b=0,c=this._inputTrackers;b<c.length;){var d=c[b];++b;if(d.type==a)return d}a=new ef(a,p(this,this._fireKeyEvent),p(this,this._isVirtualDown),p(this,this._isControllerDown));this._inputTrackers.push(a);return a},_fireKeyEvent:function(a,b){this._delegateDispatch(b,a,0,0,aa.NONE)},_onKeyDown:function(a){f.get_instance().dispatcher.dispatchEvent(Y.request(k.INPUT_ARBITRARY_KEY_KEYBOARD,function(){var b=new S;b.set("key",a.key);b.set("phase",ca.DOWN);
return b}(this)))},_onKeyUp:function(a){f.get_instance().dispatcher.dispatchEvent(Y.request(k.INPUT_ARBITRARY_KEY_KEYBOARD,function(){var b=new S;b.set("key",a.key);b.set("phase",ca.UP);return b}(this)))},_isVirtualDown:function(a){for(var b=0,c=this._virtualDown;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},onControllerDown:function(a){for(var b=0,c=this._controllerDown;b<c.length;){var d=c[b];++b;if(d==a)return}this._controllerDown.push(a)},onControllerUp:function(a){for(var b=this._controllerDown.length;0<
b--;)if(this._controllerDown[b]==a){this._controllerDown.splice(b,1);break}},_isControllerDown:function(a){for(var b=0,c=this._controllerDown;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},_onTouchDown:function(a){this._doTouchDown(a.id,a.viewX,a.viewY)},_onTouchMove:function(a){this._doTouchMove(a.id,a.viewX,a.viewY)},_onTouchUp:function(a){this._doTouchUp(a.id,a.viewX,a.viewY)},_doTouchDown:function(a,b,c){var d=this._findTouch(a);null==d&&(d=new Cd(a),this.multiTouch.push(d));d.begin(b,
c)},_doTouchMove:function(a,b,c){a=this._findTouch(a);null!=a&&a.move(b,c)},_doTouchUp:function(a,b,c){a=this._findTouch(a);null!=a&&a.end(b,c)},_findTouch:function(a){for(var b=0,c=this.multiTouch;b<c.length;){var d=c[b];++b;if(d.id==a)return d}return null},_onPointerDown:function(a){this.pointer.begin(a.viewX,a.viewY);!1==F._platform.getTouch().get_supported()&&this._doTouchDown(0,a.viewX,a.viewY);this._delegateDispatch(ca.DOWN,A.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,
this.pointer.swipe)},_onPointerMove:function(a){this.pointer.move(a.viewX,a.viewY);!1==F._platform.getTouch().get_supported()&&this._doTouchMove(0,a.viewX,a.viewY);this._delegateDispatch(ca.MOVE,A.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,this.pointer.swipe)},_onPointerUp:function(a){this.pointer.end(a.viewX,a.viewY);!1==F._platform.getTouch().get_supported()&&this._doTouchUp(0,a.viewX,a.viewY);this._delegateDispatch(ca.UP,A.CLICK,this.pointer.get_currentPos().x,this.pointer.get_currentPos().y,
this.pointer.swipe)},__class__:Me};var ef=function(a,b,c,d){this.type=a;this._keys=[];this._virtual=[];this._controller=[];this._fireDelegate=b;this._virtualTestDelegate=c;this._controllerTestDelegate=d;this._pointer=null;this.fresh=this.down=!1};j["com.workinman.cloudutils.WMInputTracker"]=ef;ef.__name__=["com","workinman","cloudutils","WMInputTracker"];ef.prototype={setKeys:function(a,b,c){if(null!=a)for(var d=0;d<a.length;){var g=a[d];++d;this._keys.push(g)}if(null!=b)for(a=0;a<b.length;)d=b[a],
++a,this._virtual.push(d);if(null!=c)for(b=0;b<c.length;)a=c[b],++b,this._controller.push(a)},updateStatus:function(){this.fresh=!1;this.down?!1==this._isDown()&&(this.down=!1,this._fireDelegate(this.type,ca.UP)):this._isDown()&&(this.fresh=this.down=!0,this._fireDelegate(this.type,ca.DOWN))},_isDown:function(){for(var a=0,b=this._keys;a<b.length;){var c=b[a];++a;if(F._platform.getKeyboard().isDown(c))return!0}a=0;for(b=this._virtual;a<b.length;)if(c=b[a],++a,this._virtualTestDelegate(c))return!0;
a=0;for(b=this._controller;a<b.length;)if(c=b[a],++a,this._controllerTestDelegate(c))return!0;return null!=this._pointer&&this._pointer.down?!0:!1},__class__:ef};var Ue=function(){this._inventory=lg.buildInventoryList()};j["com.workinman.cloudutils.WMInventoryManager"]=Ue;Ue.__name__=["com","workinman","cloudutils","WMInventoryManager"];Ue.prototype={getItemData:function(a){return this._inventory.get(a)},modRank:function(a,b){null==b&&(b=1);return this._inventory.get(a).modRank(b)},get_fullItemList:function(){return this._inventory},
getInventoryState:function(){for(var a=new ta,b=this.get_fullItemList().keys();b.hasNext();){var c=b.next(),d=this.get_fullItemList().get(c).get_currentRank();a.set(c,d);d}return a},loadInventoryState:function(a){for(var b=a.keys();b.hasNext();){var c=b.next();this._inventory.get(c).setRank(a.get(c))}},__class__:Ue,__properties__:{get_fullItemList:"get_fullItemList"}};var Ga=j["com.workinman.cloudutils.LOCALIZATION_FORMAT"]={__ename__:["com","workinman","cloudutils","LOCALIZATION_FORMAT"],__constructs__:["TRADITIONAL_XML",
"STRINGS_JS","STRINGS_JSON"]};Ga.TRADITIONAL_XML=["TRADITIONAL_XML",0];Ga.TRADITIONAL_XML.toString=h;Ga.TRADITIONAL_XML.__enum__=Ga;Ga.STRINGS_JS=["STRINGS_JS",1];Ga.STRINGS_JS.toString=h;Ga.STRINGS_JS.__enum__=Ga;Ga.STRINGS_JSON=["STRINGS_JSON",2];Ga.STRINGS_JSON.toString=h;Ga.STRINGS_JSON.__enum__=Ga;Ga.__empty_constructs__=[Ga.TRADITIONAL_XML,Ga.STRINGS_JS,Ga.STRINGS_JSON];var Qe=function(){this._localizedData=new S;this._emptyLocalization=new Ed("","","",1,0,0,-1)};j["com.workinman.cloudutils.WMLocalize"]=
Qe;Qe.__name__=["com","workinman","cloudutils","WMLocalize"];Qe.prototype={parseLocalization:function(a){null==a&&(a="");if(null==a||""==a)a=l.xml.translation;var b=f.get_instance().assets.getXML(a),a=Ga.TRADITIONAL_XML;b.has.resolve("format")&&(a=ea.createEnum(Ga,b.att.resolve("format")));this.defaultFont=b.att.resolve("defaultFont");this.rtl=!1;b.has.resolve("rtl")&&(this.rtl="true"==b.att.resolve("rtl"));this.subtitlesEnabled=!1;b.has.resolve("sub")&&(this.subtitlesEnabled="true"==b.att.resolve("sub"));
switch(a[1]){case 0:a="";for(b=b.nodes.resolve("string").iterator();b.hasNext();){var c=b.next(),a=c.att.resolve("id");this._localizedData.exists(a)||this._addLocalizationData(a,c.get_innerData(),c.has.resolve("fontName")?c.att.resolve("fontName"):this.defaultFont,c.has.resolve("fontScale")?c.att.resolve("fontScale"):"1",c.has.resolve("offsetX")?c.att.resolve("offsetX"):"0",c.has.resolve("offsetY")?c.att.resolve("offsetY"):"0",c.has.resolve("subTime")?c.att.resolve("subTime"):"-1")}break;case 2:for(a=
b.nodes.resolve("json").iterator();a.hasNext();)for(var b=a.next(),b=JSON.parse(f.get_instance().assets.getFile(b.get_innerData()).toString()),c=0,d=q.fields(b.strings);c<d.length;){var g=d[c];++c;var s=q.field(b.strings,g);null!=s.value?this._addLocalizationData(g,s.value,null==s.fontName?"":s.fontName,null==s.fontScale?"1":s.fontScale,null==s.offsetX?"0":s.offsetX,null==s.offsetY?"0":s.offsetY,null==s.subTime?"-1":s.subTime):this._addLocalizationData(g,s,"","1","0","0","-1")}}},_addLocalizationData:function(a,
b,c,d,g,s,e){this._localizedData.exists(a)&&this._localizedData.get(a).dispose();b=new Ed(a,b,c,B.parseFloat(d),B.parseFloat(g),B.parseFloat(s),B.parseFloat(e));this._localizedData.set(a,b);b},getLocalizeData:function(a){return!1==this._localizedData.exists(a)?this._emptyLocalization:this._localizedData.get(a)},__class__:Qe};var Ed=function(a,b,c,d,g,s,e){this.id=a;this.string=this._sanitizeString(b);this.fontName=c;this.scale=d;this.offsetX=g;this.offsetY=s;this.subtitleTime=e};j["com.workinman.cloudutils.WMLocalizedData"]=
Ed;Ed.__name__=["com","workinman","cloudutils","WMLocalizedData"];Ed.prototype={dispose:function(){this.fontName=this.string=this.id=null},_sanitizeString:function(a){a=ba.replace(a,"<br>","\n");return a=ba.replace(a,"\\n","\n")},__class__:Ed};var Cd=function(a){this.lastPos=N.request();this.line=hb.request();this.phase=ca.UP;this.swipe=aa.NONE;this.down=!1;this.fresh=!0;this.id=a;this.disposed=this.consumed=!1};j["com.workinman.cloudutils.WMPointer"]=Cd;Cd.__name__=["com","workinman","cloudutils",
"WMPointer"];Cd.prototype={dispose:function(){this.disposed=!0;this.lastPos.dispose();this.lastPos=null;this.line.dispose();this.phase=this.swipe=this.line=null},get_currentPos:function(){return this.line.get_p1()},begin:function(a,b){this.line.toFloats(a,b,a,b);this.lastPos.to(a,b);this.fresh=this.down=!0;this.consumed=!1;this.phase=ca.DOWN;this.swipe=aa.NONE},move:function(a,b){this._updateInfo(a,b);this.phase=ca.MOVE},end:function(a,b){this._updateInfo(a,b);this.phase=ca.UP;this.down=!1},_updateInfo:function(a,
b){this.lastPos.toPoint(this.line.get_p1());this.line.endTo(a,b,0);var c=this.line.get_p0().x-this.line.get_p1().x,d=this.line.get_p0().y-this.line.get_p1().y;this.swipe=30<=Math.abs(c)&&30>Math.abs(d)?0<c?aa.LEFT:aa.RIGHT:30<=Math.abs(d)&&30>Math.abs(c)?0<d?aa.UP:aa.DOWN:aa.NONE},__class__:Cd,__properties__:{get_currentPos:"get_currentPos"}};var Ve=function(){};j["com.workinman.cloudutils.WMSaving"]=Ve;Ve.__name__=["com","workinman","cloudutils","WMSaving"];Ve.prototype={getData:function(a){var a=
$b.getLocal(a),b=a.data;a.dispose();return b},setData:function(a,b){var c=$b.getLocal(a);c.data=b;c.flush();c.dispose()},__class__:Ve};var Te=function(){this._timers=[];this._uniqueInc=0;this._paused=!1};j["com.workinman.cloudutils.WMTimer"]=Te;Te.__name__=["com","workinman","cloudutils","WMTimer"];Te.prototype={update:function(a){if(!this._paused)for(var b=this._timers.length;0<b--;)this._timers[b].update(a),this._timers[b].doDelete&&(this._timers[b].dispose(),this._timers.splice(b,1))},start:function(a,
b,c){null==c&&(c="");null!=a&&this._timers.push(Gb.request(a,b,""==c?"def"+this._uniqueInc++:c))},__class__:Te};var Qa=function(){};j["com.workinman.pooling.IStrictPoolable"]=Qa;Qa.__name__=["com","workinman","pooling","IStrictPoolable"];Qa.prototype={__class__:Qa};var G=function(){};j["com.workinman.pooling.PoolStrictBase"]=G;G.__name__=["com","workinman","pooling","PoolStrictBase"];G.__interfaces__=[Qa];G.prototype={instance:function(a,b){this._returnFunction=b;this._key=a;this.poolActivate();this.create();
return this},get_poolKey:function(){return this._key},create:function(){},poolActivate:function(){this._disposed=!1},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this))},destroy:function(){this._returnFunction=null},__class__:G,__properties__:{get_poolKey:"get_poolKey"}};var Gb=function(){};j["com.workinman.cloudutils.WMTimerData"]=Gb;Gb.__name__=["com","workinman","cloudutils","WMTimerData"];Gb.__interfaces__=[Qa];Gb.request=function(a,b,c){return f.get_instance().pool.requestObject("WMTimerData",
Gb).init(a,b,c)};Gb.__super__=G;Gb.prototype=u(G.prototype,{init:function(a,b,c){this._id=c;this._callback=a;this._timer=b;this._paused=this.doDelete=!1;return this},get_id:function(){return this._id},dispose:function(){this._callback=this._id=null;G.prototype.dispose.call(this)},pause:function(){this._paused=!0},unPause:function(){this._paused=!1},update:function(a){this._paused||(this._timer-=a,0>this._timer&&(this.fireCallback(),this.doDelete=!0))},fireCallback:function(){null!=this._callback&&
(this._callback(),this._callback=null)},__class__:Gb,__properties__:u(G.prototype.__properties__,{get_id:"get_id"})});var ff=function(a,b,c,d){this.path=a;if(-1<a.indexOf("/")){var g=a.split("/");this.format=g[g.length-1]}else this.format=a;this.id=0<this.format.indexOf(".")?this.format.split(".")[0]:this.format;if(null!=b&&0>this.format.indexOf("."))switch(b[1]){case 2:this.format+=".png";break;case 3:this.format+=".jpg";break;case 11:this.format+=".ogg";break;case 8:this.format+=".mp3"}this._assetMap=
c;this.pack=d;this.pack.addAsset(this);this.texture=this.pack.pack.getTexture(la.removeExtension(a),!1);this.sound=this.pack.pack.getSound(la.removeExtension(a),!1);this.file=this.pack.pack.getFile(a,!1);this._testRemoveId(this.id);this._testRemoveId(this.format);this._assetMap.set(this.id,this);this;this._assetMap.set(this.format,this);this;this.disposed=!1};j["com.workinman.cloudutils.assets.WMAssetDef"]=ff;ff.__name__=["com","workinman","cloudutils","assets","WMAssetDef"];ff.prototype={dispose:function(){this.disposed||
(this.disposed=!0,null!=this.texture&&(this.texture.dispose(),this.texture=null),null!=this.sound&&(this.sound.dispose(),this.sound=null),null!=this.file&&(this.file.dispose(),this.file=null),this._assetMap.exists(this.id)&&this._assetMap.remove(this.id),this._assetMap.exists(this.format)&&this._assetMap.remove(this.format),this.id=this.format=this._assetMap=null)},_testRemoveId:function(a){if(!1!=this._assetMap.exists(a)){var b=this._assetMap.get(a);this._assetMap.remove(a);b.testDispose()}},testDispose:function(){!1==
this._assetMap.exists(this.id)&&!1==this._assetMap.exists(this.format)&&this.dispose()},__class__:ff};var Ne=function(){this.set_baseUrl("");this._assets=new S;this._packs=new S;this._chunks=new S;this._customManifests=new S;this._packedSprites=new S;this._packedSounds=new S;this._flagBaseIsCrossdomain=!1;this._loadingProgress=this._loadingTotal=this._manifestsLoaded=this._manifestsMax=0;this._loadingCallback=null;this._fontCache=new S;this._requests=[]};j["com.workinman.cloudutils.assets.WMAssetManager"]=
Ne;Ne.__name__=["com","workinman","cloudutils","assets","WMAssetManager"];Ne.prototype={get_isLoading:function(){return this._manifestsLoaded<this._manifestsMax},set_baseUrl:function(a){return this.baseUrl=a},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=!0;this.set_baseUrl(a)},addChunk:function(a,b){var c=this._parseChunk(a,b);this._chunks.set(a,c);c},_parseChunk:function(a,b){for(var c=[],d=[],g=b.nodes.resolve("chunk").iterator();g.hasNext();){var s=g.next();c.push(s.get_innerData().toString())}for(g=
b.nodes.resolve("pack").iterator();g.hasNext();)s=g.next(),d.push(s.get_innerData().toString());return new gf(a,d,c)},finishProcessingChunks:function(){for(var a=[],b=this._chunks.iterator();b.hasNext();){for(var c=b.next();0<a.length;)a.pop();this._addNestedChunkArray(c,a);for(var d=0;d<a.length;){var g=a[d];++d;for(var s=0,g=this._chunks.get(g).packIds;s<g.length;){var e=g[s];++s;la.addStringToArrayWithoutDuplicates(e,c.packIds)}}}},_addNestedChunkArray:function(a,b){for(var c=0,d=a.chunkIds;c<
d.length;){var g=d[c];++c;!1==this._arrayContainsChunk(b,g)&&(b.push(g),this._addNestedChunkArray(this._chunks.get(g),b))}},_arrayContainsChunk:function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(d==b)return!0}return!1},load:function(a,b,c,d,g){null==g&&(g=0);var s=this;if(0<g)f.get_instance().timer.start(function(){s.load(a,b,c,d,0)},g);else{if(this.get_isLoading())throw"[WMAssetManager](load) Multiple loads happening at once. Combine these loads.";if(null==a)throw"[WMAssetManager](load) Callback is null!";
null==b&&(b=[]);null==c&&(c=[]);null==d&&(d=[]);for(var g=[],e=0;e<c.length;){var h=c[e];++e;!1==this._isPackLoaded(h)&&la.addStringToArrayWithoutDuplicates(h,g)}for(var c=null,j,e=0;e<b.length;){h=b[e];++e;j=this._chunks.get(h);h=0;for(j=j.packIds;h<j.length;){var k=j[h];++h;!1==this._isPackLoaded(k)&&la.addStringToArrayWithoutDuplicates(k,g)}}b=j=null;e=[];for(h=0;h<d.length;)j=d[h],++h,!1==this._customManifests.exists(j)?null:!1==this._isPackLoaded(j)&&la.addStringToArrayWithoutDuplicates(j,e);
d=null;if(1>g.length&&1>e.length)g=e=null,a();else{f.get_instance().setFloat(i.FLOAT_LOADING_PROGRESS,0);this._loadingProgress=0;this._loadingCallback=a;this._manifestsMax+=g.length+e.length;for(h=0;h<g.length;)j=g[h],++h,this._loadPack(j);for(g=0;g<e.length;)h=e[g],++g,this._loadManifest(this._customManifests.get(h),h);e=g=null}}},_isPackLoaded:function(a){return this._packs.exists(a)},_loadPack:function(a){var b=bb.fromAssets(a);""!=this.baseUrl&&(this._flagBaseIsCrossdomain?b.set_remoteBase(this.baseUrl):
b.set_localBase(this.baseUrl));this._loadManifest(b,a)},_loadManifest:function(a,b){var c=this,d=F._platform.loadAssetPack(a);this._loadingTotal+=d._total;var g=0;d.error.connect(p(this,this._loadingError));d.progressChanged.connect(function(){var a=d._progress-g;g=d._progress;c._loadingProgress+=a;f.get_instance().setFloat(i.FLOAT_LOADING_PROGRESS,Ua.clamp(c._loadingProgress/c._loadingTotal,0,1))});this._requests.push(d.get(function(a){c._addPack(b,new hf(a,p(c,c._disposePackedSprite),p(c,c._disposePackedSound)));
++c._manifestsLoaded>=c._manifestsMax&&c._onAllLoadComplete()}))},_loadingError:function(){f.get_instance().dispatcher.dispatchEvent(Y.request(k.FILES_ERROR));this._manifestsLoaded++},_onAllLoadComplete:function(){if(null!=this._loadingCallback){var a=this._loadingCallback;this._loadingCallback=null;a()}for(;0<this._requests.length;)this._requests.pop()},_addPack:function(a,b){this._packs.set(a,b);b;for(var c="",d=b.pack.get_manifest().iterator();d.hasNext();){var g=d.next(),c=la.getExtension(g.name);
switch(c){case "xml":if(this._parseSoundXML(g.name,b.pack.getFile(g.name).toString(),b))continue;break;case "atlas":this._parseSpriteAtlas(b.pack.getFile(g.name).toString(),b)}new ff(g.name,g.format,this._assets,b)}},_parseSpriteAtlas:function(a,b){for(var c=a.split("\n");1<c.length;){for(;1>=c[0].length;)c.shift();for(var d=ba.rtrim(c.shift());!(-1<c.shift().indexOf("repeat:")););for(;1<c.length&&0<c[0].length;)this._parsePackedSpriteAndMovePlayhead(d,c,b)}},_parsePackedSpriteAndMovePlayhead:function(a,
b,c){for(var d=[],g;!(g=b.shift(),d.push(ba.rtrim(g)),-1<g.indexOf("index:")););0>d[0].indexOf("/")?b=d[0]:(b=d[0].split("/"),b=b[b.length-1]);this._addPackedSprite(b,a,new jf(d),c)},_addPackedSprite:function(a,b,c,d){this._packedSprites.exists(a)&&this._packedSprites.get(a).dispose();b=new kf(b,c);this._packedSprites.set(a,b);d.addSpriteSheet(a)},_parseSoundXML:function(a,b,c){a=E.parse(b);b=new ac(a.firstElement());if(!1==b.hasNode.resolve("sound"))return!1;a=b.node.resolve("sound").att.resolve("file").toString();
for(b=b.nodes.resolve("sound").iterator();b.hasNext();){var d=b.next(),g=d.att.resolve("name").toString(),d=new lf(g,a,B.parseFloat(d.att.resolve("start").toString())/1E3,B.parseFloat(d.att.resolve("length").toString())/1E3);this._packedSounds.set(g,d);c.addSoundSheet(g)}return!0},unload:function(a,b,c){var d=[];if(null!=a)for(var g,s=0;s<a.length;){var e=a[s];++s;g=this._chunks.get(e);e=0;for(g=g.packIds;e<g.length;){var f=g[e];++e;this._isPackLoaded(f)&&la.addStringToArrayWithoutDuplicates(f,d)}}if(null!=
b)for(a=0;a<b.length;)s=b[a],++a,this._isPackLoaded(s)&&la.addStringToArrayWithoutDuplicates(s,d);if(null!=c)for(b=0;b<c.length;)a=c[b],++b,this._isPackLoaded(a)&&la.addStringToArrayWithoutDuplicates(a,d);for(c=0;c<d.length;)b=d[c],++c,this._packs.get(b).dispose(),this._packs.remove(b),null},_disposePackedSound:function(a){!1!=this._packedSounds.exists(a)&&(this._packedSounds.get(a).dispose(),this._packedSounds.remove(a))},_disposePackedSprite:function(a){!1!=this._packedSprites.exists(a)&&(this._packedSprites.get(a).dispose(),
this._packedSprites.remove(a))},hasTexture:function(a){null==a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},hasSound:function(a){null==a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},hasXML:function(a){null==a&&(a="");return null==a||""==a?!1:this._hasAsset(a)},_hasAsset:function(a){return this._packedSprites.exists(a)||this._packedSounds.exists(a)?!0:this._assets.exists(a)},getAsset:function(a){return!1==this._hasAsset(a)?null:this._assets.get(a)},getTexture:function(a){null==a&&(a=
"");return!1==this.hasTexture(a)?null:this._packedSprites.exists(a)?!1==this._assets.exists(this._packedSprites.get(a).atlas)?null:this._assets.get(this._packedSprites.get(a).atlas).texture:!1==this._assets.exists(a)?null:this._assets.get(a).texture},getSpriteRect:function(a){null==a&&(a="");return null==a||""==a||!1==this._packedSprites.exists(a)?null:this._packedSprites.get(a).rect},getSound:function(a){null==a&&(a="");if(!1==this.hasSound(a))return null;var b=this._packedSounds.get(a);return null!=
b?new Fd(this._assets.get(b.fileName).sound,b):new Fd(this._assets.get(a).sound,null)},getFile:function(a){return!1==this._hasAsset(a)?null:this._assets.get(a).file},getXML:function(a){null==a&&(a="");if(!1==this.hasXML(a))return null;a=E.parse(this.getFile(a).toString());return new ac(a.firstElement())},allConfig:function(a){null==a&&(a=!1);for(var b=[],c=0,d=l.xmlconfig;c<d.length;){var g=d[c];++c;a&&null;b.push(this.getXML(g))}return b},getFont:function(a,b){null==b&&(b=!0);if(null==a||""==a||
!1==this._assets.exists(a))return this.getFont(f.get_instance().localize.defaultFont);if(!1==b)return new Hb(this._assets.get(a).pack.pack,a);if(!1==this._fontCache.exists(a)){var c=new Hb(this._assets.get(a).pack.pack,a);this._fontCache.set(a,c);c}return this._fontCache.get(a)},__class__:Ne,__properties__:{set_baseUrl:"set_baseUrl",get_isLoading:"get_isLoading"}};var hf=function(a,b,c){this.pack=a;this._assets=[];this._spriteSheets=[];this._soundSheets=[];this._disposePackedSpriteDelegate=b;this._disposePackedSoundDelegate=
c};j["com.workinman.cloudutils.assets.WMAssetPack"]=hf;hf.__name__=["com","workinman","cloudutils","assets","WMAssetPack"];hf.prototype={dispose:function(){for(var a=0,b=this._assets;a<b.length;){var c=b[a];++a;c.dispose()}this._assets=null;this.pack.dispose();this.pack=null;a=0;for(b=this._spriteSheets;a<b.length;)c=b[a],++a,this._disposePackedSpriteDelegate(c);this._spriteSheets=this._disposePackedSpriteDelegate=null;a=0;for(b=this._soundSheets;a<b.length;)c=b[a],++a,this._disposePackedSoundDelegate(c);
this._soundSheets=this._disposePackedSoundDelegate=null},addSpriteSheet:function(a){this._spriteSheets.push(a)},addSoundSheet:function(a){this._soundSheets.push(a)},addAsset:function(a){this._assets.push(a)},__class__:hf};var gf=function(a,b,c){this.id=a;this.packIds=b;this.chunkIds=c};j["com.workinman.cloudutils.assets.WMChunkDef"]=gf;gf.__name__=["com","workinman","cloudutils","assets","WMChunkDef"];gf.prototype={__class__:gf};var Fd=function(a,b){this.sound=a;this.data=b};j["com.workinman.cloudutils.assets.WMSoundData"]=
Fd;Fd.__name__=["com","workinman","cloudutils","assets","WMSoundData"];Fd.prototype={__class__:Fd};var lf=function(a,b,c,d){this.id=a;this.fileName=b;this.start=c;this.length=d};j["com.workinman.cloudutils.assets.WMSoundSheetData"]=lf;lf.__name__=["com","workinman","cloudutils","assets","WMSoundSheetData"];lf.prototype={dispose:function(){this.fileName=this.id=null},__class__:lf};var kf=function(a,b){this.rect=b;this.atlas=a};j["com.workinman.cloudutils.assets.WMSpriteSheetDef"]=kf;kf.__name__=["com",
"workinman","cloudutils","assets","WMSpriteSheetDef"];kf.prototype={dispose:function(){this.atlas=this.rect=null},__class__:kf};var pb=j["com.workinman.cloudutils.input.GAMEPAD_TYPE"]={__ename__:["com","workinman","cloudutils","input","GAMEPAD_TYPE"],__constructs__:["NONE","XBOX_360"]};pb.NONE=["NONE",0];pb.NONE.toString=h;pb.NONE.__enum__=pb;pb.XBOX_360=["XBOX_360",1];pb.XBOX_360.toString=h;pb.XBOX_360.__enum__=pb;pb.__empty_constructs__=[pb.NONE,pb.XBOX_360];var bc=function(a,b){this.gamepad=a;
this.type=b;this._buttons=new ta;this._addButton(r.A);this._addButton(r.B);this._addButton(r.X);this._addButton(r.Y);this._addButton(r.RB);this._addButton(r.LB);this._addButton(r.RT);this._addButton(r.LT);this._addButton(r.DPAD_UP);this._addButton(r.DPAD_DOWN);this._addButton(r.DPAD_LEFT);this._addButton(r.DPAD_RIGHT);this._addButton(r.LSTICK_UP);this._addButton(r.LSTICK_DOWN);this._addButton(r.LSTICK_LEFT);this._addButton(r.LSTICK_RIGHT);this._addButton(r.RSTICK_UP);this._addButton(r.RSTICK_DOWN);
this._addButton(r.RSTICK_LEFT);this._addButton(r.RSTICK_RIGHT);this._addButton(r.START);this._addButton(r.SELECT);this._addButton(r.LSTICK_BUTTON);this._addButton(r.RSTICK_BUTTON)};j["com.workinman.cloudutils.input.GamepadBase"]=bc;bc.__name__=["com","workinman","cloudutils","input","GamepadBase"];bc.prototype={setGamepad:function(a){this.gamepad=a},update:function(){this.leftX=this.leftY=this.rightX=this.rightY=0},_normalizeAxis:function(a){a=Math.floor(100*a)/100;0.15>Math.abs(a)&&(a=0);return a},
_addButton:function(a){this._buttons.set(a,!1);!1},_testButton:function(a,b){!1==this._buttons.get(a)&&b?(this._buttons.set(a,!0),!0,f.get_instance().input.onControllerDown(a)):!0==this._buttons.get(a)&&!1==b&&(this._buttons.set(a,!1),!1,f.get_instance().input.onControllerUp(a))},__class__:bc};var Dd=function(a){bc.call(this,a,pb.XBOX_360);this.leftX=this.leftY=this.rightX=this.rightY=0};j["com.workinman.cloudutils.input.GamepadXbox360"]=Dd;Dd.__name__=["com","workinman","cloudutils","input","GamepadXbox360"];
Dd.__super__=bc;Dd.prototype=u(bc.prototype,{update:function(){bc.prototype.update.call(this);this.leftX=this._normalizeAxis(this.gamepad.axes[0]);this.leftY=this._normalizeAxis(this.gamepad.axes[1]);this.rightX=this._normalizeAxis(this.gamepad.axes[2]);this.rightY=this._normalizeAxis(this.gamepad.axes[3]);this._testButton(r.A,x.__cast(this.gamepad.buttons[0],GamepadButton).pressed);this._testButton(r.B,x.__cast(this.gamepad.buttons[1],GamepadButton).pressed);this._testButton(r.X,x.__cast(this.gamepad.buttons[2],
GamepadButton).pressed);this._testButton(r.Y,x.__cast(this.gamepad.buttons[3],GamepadButton).pressed);this._testButton(r.LB,x.__cast(this.gamepad.buttons[4],GamepadButton).pressed);this._testButton(r.RB,x.__cast(this.gamepad.buttons[5],GamepadButton).pressed);this._testButton(r.LT,x.__cast(this.gamepad.buttons[6],GamepadButton).pressed);this._testButton(r.RT,x.__cast(this.gamepad.buttons[7],GamepadButton).pressed);this._testButton(r.SELECT,x.__cast(this.gamepad.buttons[8],GamepadButton).pressed);
this._testButton(r.START,x.__cast(this.gamepad.buttons[9],GamepadButton).pressed);this._testButton(r.LSTICK_BUTTON,this.gamepad.buttons[10].pressed);this._testButton(r.RSTICK_BUTTON,this.gamepad.buttons[11].pressed);this._testButton(r.DPAD_UP,x.__cast(this.gamepad.buttons[12],GamepadButton).pressed);this._testButton(r.DPAD_DOWN,x.__cast(this.gamepad.buttons[13],GamepadButton).pressed);this._testButton(r.DPAD_LEFT,x.__cast(this.gamepad.buttons[14],GamepadButton).pressed);this._testButton(r.DPAD_RIGHT,
x.__cast(this.gamepad.buttons[15],GamepadButton).pressed);this._testButton(r.LSTICK_LEFT,0>this.leftX);this._testButton(r.LSTICK_RIGHT,0<this.leftX);this._testButton(r.LSTICK_UP,0>this.leftY);this._testButton(r.LSTICK_DOWN,0<this.leftY);this._testButton(r.RSTICK_LEFT,0>this.rightX);this._testButton(r.RSTICK_RIGHT,0<this.rightX);this._testButton(r.RSTICK_UP,0>this.rightY);this._testButton(r.RSTICK_DOWN,0<this.rightY)},__class__:Dd});var ra=j["com.workinman.cloudutils.sound.AUDIO_PRIORITY"]={__ename__:["com",
"workinman","cloudutils","sound","AUDIO_PRIORITY"],__constructs__:["MUSIC","VO","SFX"]};ra.MUSIC=["MUSIC",0];ra.MUSIC.toString=h;ra.MUSIC.__enum__=ra;ra.VO=["VO",1];ra.VO.toString=h;ra.VO.__enum__=ra;ra.SFX=["SFX",2];ra.SFX.toString=h;ra.SFX.__enum__=ra;ra.__empty_constructs__=[ra.MUSIC,ra.VO,ra.SFX];var cc=function(){};j["com.workinman.cloudutils.sound.SoundDef"]=cc;cc.__name__=["com","workinman","cloudutils","sound","SoundDef"];cc.request=function(a,b,c,d){return f.get_instance().pool.requestObject("SoundDef",
cc).init(a,b,c,d)};cc.__super__=G;cc.prototype=u(G.prototype,{init:function(a,b,c,d){this._complete=null;this.doDelete=!1;this.id=a;this._loop=c;this._maxVol=this.volume=1;this.sound=b;this._length=this._start=-1;null!=d.data&&(this._start=d.data.start,this._length=d.data.length);this._htmlAudio=null;return this},dispose:function(){null!=this.playback&&(this.playback.dispose(),this.playback=null);null!=this.sound&&(this.sound.dispose(),this.sound=null);null!=this._complete&&this._complete();this._htmlAudio=
this.id=this._complete=null;G.prototype.dispose.call(this)},update:function(){this.playback.volume.set__(this._maxVol*this.volume);if(this.playback.get_paused()||this.playback.get_complete().get__())this.doDelete=!0;if(-1<this._length&&-1<this._start){var a=this.playback.get_position()>this._start+this._length;null==this._htmlAudio&&(a=this.playback.get_position()>this._length);!1!=a&&(this._loop?null!=this._htmlAudio&&(this._htmlAudio.currentTime=this._start):this.doDelete=!0)}},playSound:function(a,
b){null==a&&(a=1);if(null==this.sound)return null!=b&&b(),null;this._maxVol=a;this.volume=1;this._loop?this.playback=this.sound.loop(a):(null!=b&&(this._complete=b),this.playback=this.sound.play(a));if(-1==this._start&&-1==this._length)return this;this._loop&&null;if(Z.get_supported()){var c=q.getProperty(this.playback,"_sourceNode"),d=c.buffer;c.disconnect();c=Z.ctx.createBufferSource();q.setProperty(this.playback,"_sourceNode",c);c.buffer=d;c.loop=this._loop;c.loopStart=this._start;c.loopEnd=Math.min(this._start+
this._length,this.sound.get_duration());c.start(0,this._start);q.callMethod(this.playback,q.field(this.playback,"playAudio"),[])}else this._htmlAudio=q.getProperty(this.playback,"_clonedElement"),this._htmlAudio.currentTime=this._start;return this},__class__:cc});var vc=function(){};j["com.workinman.cloudutils.sound.VOQueue"]=vc;vc.__name__=["com","workinman","cloudutils","sound","VOQueue"];vc.request=function(a,b,c,d,g){return f.get_instance().pool.requestObject("VOQueue",vc).init(a,b,c,d,g)};vc.__super__=
G;vc.prototype=u(G.prototype,{init:function(a,b,c,d,g){this.id=a;this.call=c;this.delay=d;this.gain=b;this.localization=g;return this},__class__:vc});var Oe=function(){this._audioPriority=ra.MUSIC;this._musicId=null;this._musicGain=1;this._muteVo=this._muteSfx=this._muteMusic=this._muteSystem=this._muteAll=!1;this._mixer=new Gd;this._tween=Oa.request();this._voQueue=[];this._music=null;this._sound=new S;this._vo=null;this._soundRemoval=[];this.subtitleQueue=[]};j["com.workinman.cloudutils.sound.WMSound"]=
Oe;Oe.__name__=["com","workinman","cloudutils","sound","WMSound"];Oe.prototype={get_muteAll:function(){return this._muteAll},set_muteAll:function(a){this._muteAll=a;this._toggleMute();return this._muteAll},_toggleMute:function(){this._getMutePriority(ra.MUSIC)?this.stopMusic():this.playMusic(this._musicId,this._musicGain);this._getMutePriority(ra.SFX)&&this.stopAllSound();this._getMutePriority(ra.VO)&&this.stopVO()},_getMutePriority:function(a){if(this._muteAll||this._muteSystem)return!0;switch(a[1]){case 0:return this._muteMusic;
case 2:return this._muteSfx;case 1:return this._muteVo}return!1},playMusic:function(a,b,c){null==c&&(c=-1);null==b&&(b=1);if(!(this._musicId==a&&null!=this._music)){this._musicId=a;this._musicGain=b;if(0<c&&null!=this._music)this._tween.tween(this._music,c,{volume:0},!0,n.LINEAR).onComplete(p(this,this._onPlayMusicFadeOutComplete));else null!=this._music&&(this._music.doDelete=!0,this._music.dispose(),this._music=null);this._music=this._playAudio(a,b,null,!0,ra.MUSIC)}},_onPlayMusicFadeOutComplete:function(){this.playMusic(this._musicId,
this._musicGain)},stopMusic:function(a){null==a&&(a=-1);if(0<a){if(null!=this._music)this._tween.tween(this._music,a,{volume:0},!0,n.LINEAR).onComplete(p(this,this._onStopMusicFadeOutComplete))}else null!=this._music&&(this._music.doDelete=!0)},_onStopMusicFadeOutComplete:function(){null!=this._music&&(this._music.doDelete=!0)},playSound:function(a,b,c,d){null==d&&(d=!1);null==b&&(b=1);if(this._sound.exists(a))return this._sound.get(a).playSound(b,c);b=this._playAudio(a,b,c,d,ra.SFX);if(null==b)return null;
this._sound.set(a,b);return this._sound.get(a)},stopAllSound:function(){for(var a=this._sound.iterator();a.hasNext();)a.next().doDelete=!0},stopSound:function(a){return this._sound.exists(a)?this._sound.get(a).doDelete=!0:!1},stopVO:function(){for(;0<this._voQueue.length;)this._voQueue.pop().dispose();null!=this._vo&&(this._vo.doDelete=!0)},_playAudio:function(a,b,c,d,g){if(null==a||this._getMutePriority(g)||!1==y.allAudioSupported()&&g!=this._audioPriority)return null!=c&&c(),null;g=f.get_instance().assets.getSound(a);
return null==g?(null!=c&&c(),null):cc.request(a,this._mixer.createSound(g.sound,4),d,g).playSound(b,c)},update:function(a){var b=this;this._tween.update(a);for(var c=this._sound.iterator();c.hasNext();){var d=c.next();d.doDelete?(this._soundRemoval.push(d.id),d.dispose()):d.update(a)}for(;0<this._soundRemoval.length;)this._sound.remove(this._soundRemoval.pop());null!=this._music&&(this._music.doDelete?(this._music.dispose(),this._music=null):this._music.update(a));if(null==this._vo&&0<this._voQueue.length){if(this._voQueue[0].delay-=
a,0>this._voQueue[0].delay){var g=this._voQueue.shift();f.get_instance().dispatcher.dispatchEvent(Y.request(k.VO_STARTED));this.subtitleQueue.push(g.localization);this._vo=this._playAudio(g.id,1,function(){null!=g.call&&g.call();b.subtitleQueue.shift()},!1,ra.VO);g.dispose()}}else null!=this._vo&&(this._vo.doDelete?(this._vo.dispose(),this._vo=null,1>this._voQueue.length?(f.get_instance().dispatcher.dispatchEvent(Y.request(k.VO_ENDED)),null!=this._music&&this._tween.tween(this._music,0.2,{volume:1},
!0,n.EASE_IN_OUT)):0<this._voQueue[0].delay&&f.get_instance().dispatcher.dispatchEvent(Y.request(k.VO_PAUSED))):this._vo.update(a))},__class__:Oe,__properties__:{set_muteAll:"set_muteAll",get_muteAll:"get_muteAll"}};var sd=function(a){this._animations=new S;this._queuedAnimations=[];this._currentAnimDef=null;this._lastFrame=-1;this._currentFrame=0;this.currentAnimation="";this.fps=24;this._animationStopped=!0;this._library="";this._loopComplete=!1;this._symbol="";this._realFrame=0;w.call(this,a)};
j["com.workinman.display.AnimatedElement"]=sd;sd.__name__=["com","workinman","display","AnimatedElement"];sd.__super__=w;sd.prototype=u(w.prototype,{dispose:function(){for(var a=this._animations.iterator();a.hasNext();)a.next().dispose();this._currentAnimDef=this._animations=null;this.clearQueue();this.currentAnimation=this.animationCompleteDelegate=this._queuedAnimations=null;w.prototype.dispose.call(this)},setFps:function(a){this.fps=a;return this},get_animationRatio:function(){return(this._currentFrame-
this._currentAnimDef.get_start())/(this._currentAnimDef.get_end()-this._currentAnimDef.get_end())},set_animationRatio:function(a){this._newFrame=Math.floor(a*(this._currentAnimDef.get_end()-this._currentAnimDef.get_start())+this._currentAnimDef.get_start());this._newFrame!=this._currentFrame&&this.set_animationFrame(this._newFrame);return this.get_animationRatio()},get_animationFrame:function(){return this._currentFrame|0},set_animationFrame:function(a){this._currentFrame=this._realFrame=a;this._setFrame(this._realFrame);
this.stopAnimation();return this._currentFrame|0},get_isPlaying:function(){return""!=this.currentAnimation&&!0==this._doLoop()&&!1==this._animationStopped},get_animationFrameRelative:function(){return B["int"](this._currentFrame-this._currentAnimDef.get_start())},set_animationFrameRelative:function(a){this._currentFrame=this._currentAnimDef.get_start()+a;return this.get_animationFrameRelative()},get_frames:function(){return""==this._symbol?0:Math.floor(this._frames)},addAnimationFlump:function(a,
b,c){this._animations.exists(a)&&this._animations.get(a).dispose();b=Bb.request(a,b-1,c-1);this._animations.set(a,b);return this},addAnimationFrames:function(a,b){this._animations.exists(a)&&this._animations.get(a).dispose();var c=Bb.request(a,-1,-1,b);this._animations.set(a,c);return this},animate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.clearQueue();this._doAnimate(a,b,c);return this},_doAnimate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.currentAnimation==a&&!1==c||(null!=this._animations&&
this._animations.exists(a)?(this._currentAnimDef=null,this._currentAnimDef=this._animations.get(a),this._currentAnimDef.get_reverse()?(this.reverse=!0,this._currentFrame=this._currentAnimDef.get_end()):(this.reverse=!1,this._currentFrame=this._currentAnimDef.get_start()),this.currentAnimation=a,this.setLoop(b),this._animationStopped=!1,this._setFrame(this._currentFrame)):null)},setLoop:function(a){this._currentLoop=a;this._flagLoop=0==a;return this},stopAnimation:function(){this._animationStopped=
!0},startAnimation:function(){this._animationStopped=!1},hasAnimation:function(a){return this._animations.exists(a)},queueAnimation:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._queuedAnimations.push(Ib.request(a,b,c));return this},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.pop().dispose()},update:function(a){w.prototype.update.call(this,a);this._runAnimation(a)},_doLoop:function(){return 0<this._currentLoop||this._flagLoop},_runAnimation:function(a){this.get_isPlaying()&&
(this._currentFrame+=this.fps*a,Math.floor(this._currentFrame)>this._currentAnimDef.get_end()&&(this._currentFrame=this._currentAnimDef.get_start()+(this._currentFrame-Math.floor(this._currentFrame)),this._loopComplete=!0),!0==this._loopComplete&&(this._loopComplete=!1,this._currentLoop--,!1==this._doLoop()&&(this._animationStopped=!0,this._currentFrame=this._currentAnimDef.get_end(),0<this._queuedAnimations.length?(this._doAnimate(this._queuedAnimations[0].get_name(),this._queuedAnimations[0].get_loops(),
this._queuedAnimations[0].get_force()),this._queuedAnimations[0].dispose(),this._queuedAnimations.splice(0,1)):(this._onAnimationComplete(),null!=this.animationCompleteDelegate&&this.animationCompleteDelegate()))),this._realFrame=this.reverse?this._currentAnimDef.get_end()-(this._currentFrame-this._currentAnimDef.get_start())+1:this._currentFrame,this._realFrame!=this._lastFrame&&this._setFrame(this._realFrame))},_setFrame:function(a){this.setAsset(this._currentAnimDef.get_frameIds()[Math.floor(a-
1)])},_onAnimationComplete:function(){},__class__:sd,__properties__:u(w.prototype.__properties__,{get_frames:"get_frames",set_animationFrameRelative:"set_animationFrameRelative",get_animationFrameRelative:"get_animationFrameRelative",get_isPlaying:"get_isPlaying",set_animationFrame:"set_animationFrame",get_animationFrame:"get_animationFrame",set_animationRatio:"set_animationRatio",get_animationRatio:"get_animationRatio"})});var Ib=function(){};j["com.workinman.display.QueuedAnimation"]=Ib;Ib.__name__=
["com","workinman","display","QueuedAnimation"];Ib.__interfaces__=[Qa];Ib.request=function(a,b,c){return f.get_instance().pool.requestObject("QueuedAnimation",Ib).init(a,b,c)};Ib.__super__=G;Ib.prototype=u(G.prototype,{init:function(a,b,c){this._name=a;this._loops=b;this._force=c;return this},get_name:function(){return this._name},get_loops:function(){return this._loops},get_force:function(){return this._force},__class__:Ib,__properties__:u(G.prototype.__properties__,{get_force:"get_force",get_loops:"get_loops",
get_name:"get_name"})});var Bb=function(){};j["com.workinman.display.AnimationDef"]=Bb;Bb.__name__=["com","workinman","display","AnimationDef"];Bb.__interfaces__=[Qa];Bb.request=function(a,b,c,d){null==c&&(c=-1);null==b&&(b=-1);return f.get_instance().pool.requestObject("AnimationDef",Bb).init(a,b,c,d)};Bb.__super__=G;Bb.prototype=u(G.prototype,{create:function(){this._frameIds=[]},init:function(a,b,c,d){null==c&&(c=-1);null==b&&(b=-1);this._id=a;this._playReverse=!1;if(null!=d){for(a=0;a<d.length;)b=
d[a],++a,this._frameIds.push(b);this._startFrame=1;this._endFrame=this._frameIds.length}else this._startFrame=b,this._endFrame=c,b>c&&(this._playReverse=!0,this._startFrame=c,this._endFrame=b);return this},dispose:function(){for(;0<this._frameIds.length;)this._frameIds.pop();G.prototype.dispose.call(this)},destroy:function(){this._frameIds=null;G.prototype.destroy.call(this)},get_start:function(){return this._startFrame},get_end:function(){return this._endFrame},get_reverse:function(){return this._playReverse},
get_id:function(){return this._id},get_frameIds:function(){return this._frameIds},__class__:Bb,__properties__:u(G.prototype.__properties__,{get_frameIds:"get_frameIds",get_id:"get_id",get_reverse:"get_reverse",get_end:"get_end",get_start:"get_start"})});var tc=function(a,b,c,d,g){null==d&&(d=!1);this._layerOrder=[];this._layers=new ta;this.root=a.addChild(new Hd(b,c,this._layers,this._layerOrder));this.camera=this.root.camera;this._defaultLayer=g;this._enablePointer=d};j["com.workinman.display.ElementManager"]=
tc;tc.__name__=["com","workinman","display","ElementManager"];tc.prototype={dispose:function(){null!=this.root&&(this.root.doDelete=!0,this.root=null);this._defaultLayer=this._layerOrder=this._layers=null},addLayer:function(a){this._layers.exists(a)?H.remove(this._layerOrder,a):this._layers.set(a,[]);this._layerOrder.push(a)},addElement:function(a,b){null==b&&null!=this._defaultLayer&&(b=this._defaultLayer);if(null==b||!1==this._layers.exists(b))return a;null!=a.parent&&a.parent.removeChild(a);this.root.addElementLayer(a,
b);return a},update:function(a){for(var b,c=this._layers.iterator();c.hasNext();)for(var d=c.next(),g=d.length;0<g--;)b=d[g],b.runUpdate(a),b.doDelete&&(b.dispose(),d.splice(g,1))},updateZSort:function(a,b){ua.sort(this._layers.get(a),null==b?p(this,this._zSort):b)},_zSort:function(a,b){return a.get_depth()>b.get_depth()?-1:a.get_depth()<b.get_depth()?1:0},__class__:tc};var Hd=function(a,b,c,d){T.call(this,null);this.camera=new mf(this,a,b);this._layers=c;this._layerOrder=d};j["com.workinman.display.WMElementManagerSprite"]=
Hd;Hd.__name__=["com","workinman","display","WMElementManagerSprite"];Hd.__super__=T;Hd.prototype=u(T.prototype,{dispose:function(){T.prototype.dispose.call(this);null!=this.camera&&(this.camera.dispose(),this.camera=null);if(null!=this._layers){for(var a=this._layers.iterator();a.hasNext();)for(var b=a.next(),c=0;c<b.length;){var d=b[c];++c;d.dispose()}this._layers=null}this._layerOrder=null},hitTest:function(a,b,c){if(!1==this.visible||!1==this.inputEnabled)return null;for(var d=null,g=this._layerOrder.length,
s;0<g--;){s=this._layers.get(this._layerOrder[g]);for(var e=s.length;0<e--;)if(d=s[e].hitTest(a,b,c),null!=d)return d}return T.prototype.hitTest.call(this,a,b,c)},addElementLayer:function(a,b){if(!1==this._layers.exists(b))return a;null!=a.parent&&a.parent.removeChild(a);a.parent=this;this._layers.get(b).push(a);return a},removeChild:function(a){for(var b=this._layers.iterator();b.hasNext();){var c=b.next();if(H.remove(c,a)){a.parent=null;break}}return a},render:function(a){a.ctx.save();this._matrix.compose(this.get_x(),
this.get_y(),this.scaleX,this.scaleY,3.141592653589793*this.rotation/180);null!=this.parent&&nb.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);for(var b=0,c=this.children.length;b<c;)this.children[b++].render(a,null);for(var c=0,d=this._layerOrder.length;c<d;)for(var b=this._layers.get(this._layerOrder[c++]),g=0,s=b.length;g<s;){var e=g++;b[e].render(a,this.camera)}a.ctx.restore()},
__class__:Hd});var R=function(a){T.call(this,a);this._fontName="";this.set_wrapWidth(this.set_letterSpacing(this.set_lineSpacing(0)));this.set_align(ma.Center);null!=a&&(this.setText(a.text),null!=a.align&&this.set_align(a.align),null!=a.wrapWidth&&this.set_wrapWidth(a.wrapWidth),null!=a.lineSpacing&&this.set_lineSpacing(a.lineSpacing),null!=a.letterSpacing&&this.set_letterSpacing(a.letterSpacing));this.inputEnabled=!1};j["com.workinman.display.TextLocalized"]=R;R.__name__=["com","workinman","display",
"TextLocalized"];R.__super__=T;R.prototype=u(T.prototype,{dispose:function(){this._text=this._data=this._fontName=this._font=this._layout=null;this.set_align(null);T.prototype.dispose.call(this)},get_width:function(){return null==this._layout||null==this._data?0:(0<this.wrapWidth?this.wrapWidth:this._layout.bounds.width)*this._data.scale},get_height:function(){if(null==this._layout||null==this._data)return 0;var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing),b=this._layout.bounds.height;
return(a>b?a:b)*this._data.scale},set_align:function(a){if(null==a)return this.align=null;this.align=a;this._updateLayout();return a},set_originX:function(){return this.originX=0},set_wrapWidth:function(a){this.wrapWidth=a;this._updateLayout();return a},set_letterSpacing:function(a){this.letterSpacing=a;this._updateLayout();return a},set_lineSpacing:function(a){this.lineSpacing=a;this._updateLayout();return a},setText:function(a,b){this._data=f.get_instance().localize.getLocalizeData(a);this.set_offsetX(this._data.offsetX);
this.set_offsetY(this._data.offsetY);this._setFont(this._data.fontName);this._text=this._replaceVars(b);this._updateLayout()},setVariables:function(a){null!=this._data&&(this._text=this._replaceVars(a),this._updateLayout())},_updateLayout:function(){null==this._data||null==this._font||(this._layout=this._font.layoutText(this._text,this.align,this.wrapWidth/this._data.scale,this.letterSpacing,this.lineSpacing))},_draw:function(a){if(null!=this._layout){a.ctx.save();if(0<this.wrapWidth){var b=this.wrapWidth*
this._data.scale;switch(this.align[1]){case 1:a.ctx.translate(-b,0);break;case 2:a.ctx.translate(2*-b,0)}}a.ctx.scale(this._data.scale,this._data.scale);this._layout.draw(a.ctx);a.ctx.restore()}},_setFont:function(a){a!=this._fontName&&(this._font=f.get_instance().assets.getFont(a))},_replaceVars:function(a){for(var b="",c=this._data.string.split("}"),d=0;d<c.length;){var g=c[d];++d;g=g.split("{");b+=g[0];1<g.length&&(g=B.parseInt(g[1]),b=null!=a&&a.length>g?b+a[g]:b+("[Missing {"+g+"}]"))}return b},
__class__:R,__properties__:u(T.prototype.__properties__,{set_lineSpacing:"set_lineSpacing",set_letterSpacing:"set_letterSpacing",set_wrapWidth:"set_wrapWidth",set_align:"set_align"})});var Ea=function(a){T.call(this,a);this.color=16711680;this.sizeX=this.sizeY=10;null!=a&&(this.color=a.color,this.sizeX=a.sizeX,this.sizeY=a.sizeY)};j["com.workinman.display.WMFillSprite"]=Ea;Ea.__name__=["com","workinman","display","WMFillSprite"];Ea.__super__=T;Ea.prototype=u(T.prototype,{get_width:function(){return Math.floor(this.sizeX)},
get_height:function(){return Math.floor(this.sizeY)},_draw:function(a){a.ctx.fillRect(this.color,0,0,this.sizeX,this.sizeY)},__class__:Ea});var nf=function(a){this.ctx=a;this.canvasCtx=null;x.__instanceof(a,Va)&&(this.canvasCtx=q.field(a,"_canvasCtx"))};j["com.workinman.display.WMGraphics"]=nf;nf.__name__=["com","workinman","display","WMGraphics"];nf.prototype={__class__:nf};var qb=function(){};j["flambe.util.Disposable"]=qb;qb.__name__=["flambe","util","Disposable"];qb.prototype={__class__:qb};var Ja=
function(){this._flags=0;this.owner=this.next=null};j["flambe.Component"]=Ja;Ja.__name__=["flambe","Component"];Ja.__interfaces__=[qb];Ja.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:Ja,__properties__:{get_name:"get_name"}};var sa=function(){this.blendMode=this.scissor=null;var a=this;Ja.call(this);this._flags|=54;this._localMatrix=
new nb;var b=function(){a._flags|=24};this.x=new Ra(0,b);this.y=new Ra(0,b);this.rotation=new Ra(0,b);this.scaleX=new Ra(1,b);this.scaleY=new Ra(1,b);this.anchorX=new Ra(0,b);this.anchorY=new Ra(0,b);this.alpha=new Ra(1)};j["flambe.display.Sprite"]=sa;sa.__name__=["flambe","display","Sprite"];sa.hitTest=function(a,b,c){var d=a._compMap.Sprite_0;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,sa._scratchPoint)&&(b=sa._scratchPoint.x,c=sa._scratchPoint.y);var g=d.scissor;
if(null!=g&&!g.contains(b,c))return null}a=sa.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};sa.render=function(a,b){var c=a._compMap.Sprite_0;if(null!=c){var d=c.alpha._value;if(0==(c._flags&2)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);var d=c.getLocalMatrix(),g=d.m02,s=d.m12;0!=(c._flags&32)&&(g=Math.round(g),s=Math.round(s));b.transform(d.m00,d.m10,d.m01,d.m11,g,s);d=c.scissor;null!=d&&b.applyScissor(d.x,
d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_2;if(null!=d){d=d.occludedScenes;for(g=0;g<d.length;)s=d[g],++g,sa.render(s,b)}for(d=a.firstChild;null!=d;)g=d.next,sa.render(d,b),d=g;null!=c&&b.restore()};sa.hitTestBackwards=function(a,b,c){if(null!=a){var d=sa.hitTestBackwards(a.next,b,c);return null!=d?d:sa.hitTest(a,b,c)}return null};sa.__super__=Ja;sa.prototype=u(Ja.prototype,{get_name:function(){return"Sprite_0"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},
containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&
(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_0;if(null!=b)return b;a=a.parent}return null},connectHover:function(){var a=this;null==this._hoverConnection&&
(this._hoverConnection=F._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=
64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:sa});var Lc=function(a){sa.call(this);this._root=new T(null);this._lastStageX=this._lastStageX=0;
this._updateDelegate=a;this._calcScale();this._scratchPoint=new $a;null==this._graphics};j["com.workinman.display.WMRootSprite"]=Lc;Lc.__name__=["com","workinman","display","WMRootSprite"];Lc.__super__=sa;Lc.prototype=u(sa.prototype,{dispose:function(){this._scratchPoint=this._updateDelegate=null;sa.prototype.dispose.call(this)},onUpdate:function(a){this._root.runUpdate(a);this._updateDelegate(a)},hitTest:function(a,b){return this._root.hitTest(a,b,this._scratchPoint)},_calcScale:function(){if(!(F._platform.getStage().get_width()==
this._lastStageX&&F._platform.getStage().get_height()==this._lastStageY)){this._lastStageX=F._platform.getStage().get_width();this._lastStageY=F._platform.getStage().get_height();this._root.set_x(0.5*this._lastStageX);this._root.set_y(0.5*this._lastStageY);var a=this._lastStageY/560;this._fullWidth=this._lastStageX/a;this._root.rotation=0;y.STAGE_WIDTH=Math.min(Math.ceil(this._fullWidth),1024);y.STAGE_CENTER_X=Math.floor(0.5*y.STAGE_WIDTH);this._root.set_scale(a);f.get_instance().dispatcher.dispatchEvent(Y.request(k.RESIZE_CANVAS,
function(){var b=new S;b.set("scale",a);return b}(this)))}},addChild:function(a){return this._root.addChild(a)},draw:function(a){null==this._graphics&&(this._graphics=new nf(a));this._calcScale();a.fillRect(0,-y.STAGE_CENTER_X-1,-281,y.STAGE_WIDTH+2,562);this._root.render(this._graphics,null);a.save();a.translate(this._root.get_x(),this._root.get_y());a.scale(this._root.scale,this._root.scale);a.rotate(this._root.rotation);var b=Math.ceil(0.5*(this._fullWidth-y.STAGE_WIDTH)),c=Math.ceil(0.5*this._fullWidth);
0<b&&(a.fillRect(0,-c,-281,b,562),a.fillRect(0,c-b,-281,b,562));a.restore()},__class__:Lc});var jf=function(a){this._parseRes={x:0,y:0};this.rotate=-1<a[1].indexOf("true");this._setXY(this._getLineData(a[2]));this._setSizeXY(this._getLineData(a[3]));this._setOrig(this._getLineData(a[4]));this._setOffset(this._getLineData(a[5]));this._parseRes=null};j["com.workinman.display.WMSpriteRect"]=jf;jf.__name__=["com","workinman","display","WMSpriteRect"];jf.prototype={_getLineData:function(a){a=a.split(": ");
a=a[1].split(", ");this._parseRes.x=B.parseInt(a[0]);this._parseRes.y=B.parseInt(a[1]);return this._parseRes},_setXY:function(a){this.x=a.x;this.y=a.y},_setSizeXY:function(a){this.sizeX=a.x;this.sizeY=a.y},_setOrig:function(a){this.origX=a.x;this.origY=a.y},_setOffset:function(a){this.offsetX=a.x;this.offsetY=a.y},__class__:jf};var Ba=function(){};j["com.workinman.display.spine.ArrayUtils"]=Ba;Ba.__name__=["com","workinman","display","spine","ArrayUtils"];Ba.allocIntArray=function(a){for(var b=[],
c=0;c<a;){var d=c++;b[d]=[]}return b};Ba.allocFloatArray=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=[]}return b};Ba.allocFloat=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=0}return b};Ba.allocString=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=""}return b};var wc=function(){};j["com.workinman.display.spine.Updatable"]=wc;wc.__name__=["com","workinman","display","spine","Updatable"];wc.prototype={__class__:wc};var Jb=function(a,b,c){this.x=this.y=this.rotation=this.scaleX=this.scaleY=
this.appliedRotation=this.appliedScaleX=this.appliedScaleY=this.shearX=this.shearY=this._a=this._b=this._c=this._d=this._worldX=this._worldY=this._worldSignX=this._worldSignY=this._worldRotationX=0;if(null==a)throw new K("data cannot be null.");if(null==b)throw new K("skeleton cannot be null.");this._data=a;this._skeleton=b;this._parent=c;this.setToSetupPose()};j["com.workinman.display.spine.Bone"]=Jb;Jb.__name__=["com","workinman","display","spine","Bone"];Jb.__interfaces__=[wc];Jb.prototype={dispose:function(){this._parent=
null;this._data.dispose();this._skeleton=this._data=null},updateWorldTransform:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},update:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},updateWorldTransformWith:function(a,b,c,d,g,s,e){this.appliedRotation=c;this.appliedScaleX=d;this.appliedScaleY=g;var f=0,h=0,h=0,f=(c+s)*Ka.degRad,h=(c+90+e)*Ka.degRad,c=Math.cos(f)*
d,e=Math.cos(h)*g,s=Math.sin(f)*d,i=Math.sin(h)*g,j=this._parent;if(null==j)f=this._skeleton,f.flipX&&(a=-a,c=-c,e=-e),f.flipY!=Jb.yDown&&(b=-b,s=-s,i=-i),this._a=c,this._b=e,this._c=s,this._d=i,this._worldX=a,this._worldY=b,this._worldSignX=0>d?-1:1,this._worldSignY=0>g?-1:1;else{var k=j.get_a(),l=j.get_b(),m=j.get_c(),n=j.get_d();this._worldX=k*a+l*b+j.get_worldX();this._worldY=m*a+n*b+j.get_worldY();this._worldSignX=j.get_worldSignX()*(0>d?-1:1);this._worldSignY=j.get_worldSignY()*(0>g?-1:1);if(this.get_data().inheritRotation&&
this.get_data().inheritScale)this._a=k*c+l*s,this._b=k*e+l*i,this._c=m*c+n*s,this._d=m*e+n*i;else{if(this.get_data().inheritRotation){k=1;m=l=0;n=1;do{h=j.appliedRotation*Ka.degRad;f=Math.cos(h);h=Math.sin(h);a=k*f+l*h;l=l*f-k*h;k=a;a=m*f+n*h;n=n*f-m*h;m=a;if(!j.get_data().inheritRotation)break;j=j.get_parent()}while(null!=j);this._a=k*c+l*s;this._b=k*e+l*i;this._c=m*c+n*s;this._d=m*e+n*i}else if(this.get_data().inheritScale){k=1;m=l=0;n=1;do{var h=j.appliedRotation*Ka.degRad,f=Math.cos(h),h=Math.sin(h),
a=j.appliedScaleX,o=j.appliedScaleY,b=f*a,d=h*o,g=h*a,o=f*o,q=k*b+l*g,l=l*o-k*d,k=q,q=m*b+n*g,n=n*o-m*d,m=q;0>a&&(h=-h);q=k*f+l*h;l=l*f-k*h;k=q;q=m*f+n*h;n=n*f-m*h;m=q;if(!j.get_data().inheritScale)break;j=j.get_parent()}while(null!=j);this._a=k*c+l*s;this._b=k*e+l*i;this._c=m*c+n*s;this._d=m*e+n*i}else this._a=c,this._b=e,this._c=s,this._d=i;this._skeleton.flipX&&(this._a=-this._a,this._b=-this._b);this._skeleton.flipY!=Jb.yDown&&(this._c=-this._c,this._d=-this._d)}}this._worldRotationX=Math.atan2(this._c,
this._a)*Ka.radDeg},setToSetupPose:function(){this.x=this._data.x;this.y=this._data.y;this.rotation=this._data.rotation;this.scaleX=this._data.scaleX;this.scaleY=this._data.scaleY;this.shearX=this._data.shearX;this.shearY=this._data.shearY},get_data:function(){return this._data},get_parent:function(){return this._parent},get_skeleton:function(){return this._skeleton},get_a:function(){return this._a},set_a:function(a){return this._a=a},get_b:function(){return this._b},set_b:function(a){return this._b=
a},get_c:function(){return this._c},set_c:function(a){return this._c=a},get_d:function(){return this._d},set_d:function(a){return this._d=a},get_worldX:function(){return this._worldX},set_worldX:function(a){return this._worldX=a},get_worldY:function(){return this._worldY},set_worldY:function(a){return this._worldY=a},get_worldSignX:function(){return this._worldSignX},get_worldSignY:function(){return this._worldSignY},get_worldRotationX:function(){return this._worldRotationX},get_worldScaleX:function(){return Math.sqrt(this._a*
this._a+this._b*this._b)*this._worldSignX},localToWorld:function(a){var b=a[0],c=a[1];a[0]=b*this._a+c*this._b+this._worldX;a[1]=b*this._c+c*this._d+this._worldY},__class__:Jb,__properties__:{get_worldScaleX:"get_worldScaleX",get_worldRotationX:"get_worldRotationX",get_worldSignY:"get_worldSignY",get_worldSignX:"get_worldSignX",set_worldY:"set_worldY",get_worldY:"get_worldY",set_worldX:"set_worldX",get_worldX:"get_worldX",set_d:"set_d",get_d:"get_d",set_c:"set_c",get_c:"get_c",set_b:"set_b",get_b:"get_b",
set_a:"set_a",get_a:"get_a",get_skeleton:"get_skeleton",get_parent:"get_parent",get_data:"get_data"}};var of=function(a,b){this.inheritScale=this.inheritRotation=!0;this.scaleX=this.scaleY=1;if(null==a)throw new K("name cannot be null.");this._name=a;this._parent=b};j["com.workinman.display.spine.BoneData"]=of;of.__name__=["com","workinman","display","spine","BoneData"];of.prototype={dispose:function(){this._parent=null},get_name:function(){return this._name},get_parent:function(){return this._parent},
__class__:of,__properties__:{get_parent:"get_parent",get_name:"get_name"}};var pf=function(a,b){if(null==b)throw new K("data cannot be null.");this.time=a;this._data=b};j["com.workinman.display.spine.Event"]=pf;pf.__name__=["com","workinman","display","spine","Event"];pf.prototype={dispose:function(){this._data.dispose();this._data=null},get_data:function(){return this._data},__class__:pf,__properties__:{get_data:"get_data"}};var qf=function(a){if(null==a)throw new K("name cannot be null.");this._name=
a};j["com.workinman.display.spine.EventData"]=qf;qf.__name__=["com","workinman","display","spine","EventData"];qf.prototype={dispose:function(){},get_name:function(){return this._name},__class__:qf,__properties__:{get_name:"get_name"}};var K=function(a){this.msg=a};j["com.workinman.display.spine.Exception"]=K;K.__name__=["com","workinman","display","spine","Exception"];K.prototype={__class__:K};var Cb=function(a,b){if(null==a)throw new K("data cannot be null.");if(null==b)throw new K("skeleton cannot be null.");
this._data=a;this.mix=a.mix;this.bendDirection=a.bendDirection;this.bones=[];for(var c=0,d=a.bones;c<d.length;){var g=d[c];++c;this.bones[this.bones.length]=b.findBone(g.get_name())}this.target=b.findBone(a.target.get_name())};j["com.workinman.display.spine.IkConstraint"]=Cb;Cb.__name__=["com","workinman","display","spine","IkConstraint"];Cb.__interfaces__=[wc];Cb.apply1=function(a,b,c,d){var g=a.get_parent(),s=1/(g.get_a()*g.get_d()-g.get_b()*g.get_c()),b=b-g.get_worldX(),e=c-g.get_worldY(),c=(b*
g.get_d()-e*g.get_b())*s-a.x,g=(e*g.get_a()-b*g.get_c())*s-a.y,g=Math.atan2(g,c)*Ka.radDeg-a.shearX-a.rotation;0>a.scaleX&&(g+=180);180<g?g-=360:-180>g&&(g+=360);a.updateWorldTransformWith(a.x,a.y,a.rotation+g*d,a.scaleX,a.scaleY,a.shearX,a.shearY)};Cb.apply2=function(a,b,c,d,g,s){if(0==s)b.updateWorldTransform();else{var e=a.x,f=a.y,h=a.scaleX,i=a.scaleY,j=b.scaleX,k,l,m;0>h?(h=-h,k=180,m=-1):(k=0,m=1);0>i&&(i=-i,m=-m);0>j?(j=-j,l=180):l=0;var n=b.x,o,q,r,p=a.get_a(),t=a.get_b(),v=a.get_c(),u=a.get_d(),
w=1.0E-4>=Math.abs(h-i);w?(o=b.y,q=p*n+t*o+a.get_worldX(),r=v*n+u*o+a.get_worldY()):(o=0,q=p*n+a.get_worldX(),r=v*n+a.get_worldY());var x=a.get_parent(),p=x.get_a(),t=x.get_b(),v=x.get_c(),u=x.get_d(),y=1/(p*u-t*v),c=c-x.get_worldX(),d=d-x.get_worldY(),A=(c*u-d*t)*y-e,z=(d*p-c*v)*y-f,c=q-x.get_worldX(),d=r-x.get_worldY(),t=(c*u-d*t)*y-e,p=(d*p-c*v)*y-f,y=Math.sqrt(t*t+p*p),t=b.get_data().length*j,d=c=0;r=!1;if(w)t*=h,p=(A*A+z*z-y*y-t*t)/(2*y*t),-1>p?p=-1:1<p&&(p=1),d=Math.acos(p)*g,p=y+t*p,t*=Math.sin(d),
c=Math.atan2(z*p-A*t,A*p+z*t);else if(p=h*t,t*=i,j=p*p,q=t*t,w=A*A+z*z,A=Math.atan2(z,A),v=q*y*y+j*w-j*q,z=-2*q*y,x=q-j,u=z*z-4*x*v,0<=u&&(u=Math.sqrt(u),0>z&&(u=-u),u=-(z+u)/2,z=u/x,u=v/u,u=Math.abs(z)<Math.abs(u)?z:u,u*u<=w&&(d=Math.sqrt(w-u*u)*g,c=A-Math.atan2(d,u),d=Math.atan2(d/i,(u-y)/h),r=!0)),!r){var h=0,v=Math.POSITIVE_INFINITY,B=x=i=r=z=0,C=0,c=y+p,u=c*c;u>x&&(i=0,x=u,B=c);c=y-p;u=c*c;u<v&&(h=Math.PI,v=u,z=c);j=Math.acos(-p*y/(j-q));c=p*Math.cos(j)+y;d=t*Math.sin(j);u=c*c+d*d;u<v&&(h=j,
v=u,z=c,r=d);u>x&&(i=j,x=u,B=c,C=d);w<=(v+x)/2?(c=A-Math.atan2(r*g,z),d=h*g):(c=A-Math.atan2(C*g,B),d=i*g)}g=Math.atan2(o,n)*m;p=a.rotation;c=(c-g)*Ka.radDeg+k-p;180<c?c-=360:-180>c&&(c+=360);a.updateWorldTransformWith(e,f,p+c*s,a.scaleX,a.scaleY,0,0);p=b.rotation;d=((d+g)*Ka.radDeg-b.shearX)*m+l-p;180<d?d-=360:-180>d&&(d+=360);b.updateWorldTransformWith(n,o,p+d*s,b.scaleX,b.scaleY,b.shearX,b.shearY)}};Cb.prototype={dispose:function(){this._data.dispose();this.target=this.bones=this._data=null},update:function(){switch(this.bones.length){case 1:Cb.apply1(this.bones[0],
this.target.get_worldX(),this.target.get_worldY(),this.mix);break;case 2:Cb.apply2(this.bones[0],this.bones[1],this.target.get_worldX(),this.target.get_worldY(),this.bendDirection,this.mix)}},get_data:function(){return this._data},__class__:Cb,__properties__:{get_data:"get_data"}};var rf=function(a){this.bendDirection=this.mix=1;this.bones=[];if(null==a)throw new K("name cannot be null.");this._name=a};j["com.workinman.display.spine.IkConstraintData"]=rf;rf.__name__=["com","workinman","display","spine",
"IkConstraintData"];rf.prototype={dispose:function(){this.target=this.bones=null},get_name:function(){return this._name},__class__:rf,__properties__:{get_name:"get_name"}};var Ka=function(){};j["com.workinman.display.spine.MathUtils"]=Ka;Ka.__name__=["com","workinman","display","spine","MathUtils"];var Id=function(){this.vertices=[]};j["com.workinman.display.spine.Polygon"]=Id;Id.__name__=["com","workinman","display","spine","Polygon"];Id.prototype={dispose:function(){this.vertices=null},__class__:Id};
var tf=function(a){this.time=this.x=this.y=0;this.r=this.g=this.b=this.a=1;this._updateCache=[];if(null==a)throw new K("data cannot be null.");this._data=a;this.bones=[];for(var b=0,c=a.bones;b<c.length;){var d=c[b];++b;var g;g=null==d.get_parent()?null:this.bones[a.bones.indexOf(d.get_parent())];this.bones[this.bones.length]=new Jb(d,this,g)}this.slots=[];this.drawOrder=[];b=0;for(c=a.slots;b<c.length;)d=c[b],++b,g=this.bones[a.bones.indexOf(d.get_boneData())],d=new sf(d,g),this.slots[this.slots.length]=
d,this.drawOrder[this.drawOrder.length]=d;this.ikConstraints=[];b=0;for(c=a.ikConstraints;b<c.length;)d=c[b],++b,this.ikConstraints[this.ikConstraints.length]=new Cb(d,this);this.transformConstraints=[];b=0;for(a=a.transformConstraints;b<a.length;)c=a[b],++b,this.transformConstraints[this.transformConstraints.length]=new Jd(c,this);this.updateCache()};j["com.workinman.display.spine.Skeleton"]=tf;tf.__name__=["com","workinman","display","spine","Skeleton"];tf.prototype={dispose:function(){this._data.dispose();
this._data=null;for(var a=0,b=this.bones;a<b.length;){var c=b[a];++a;c.dispose()}this.bones=null;a=0;for(b=this.slots;a<b.length;)c=b[a],++a,c.dispose();this.drawOrder=this.slots=null;a=0;for(b=this.ikConstraints;a<b.length;)c=b[a],++a,c.dispose();this.ikConstraints=null;a=0;for(b=this.transformConstraints;a<b.length;)c=b[a],++a,c.dispose();this._updateCache=this.transformConstraints=null;null!=this.get_skin()&&this.get_skin().dispose();this.set_skin(null)},updateCache:function(){for(var a=this._updateCache,
b=this.ikConstraints,c=this.transformConstraints,d=0,g=this.bones.length+b.length,s=0;s<g;)s++,a.push(null);g=0;for(s=this.bones;g<s.length;){var e=s[g];++g;a[d++]=e;for(var f=0;f<b.length;){var h=b[f];++f;if(e==h.bones[h.bones.length-1]){a[d++]=h;break}}}for(b=0;b<c.length;){d=c[b];++b;for(g=a.length-1;0<=g;){s=a[g];if(s==d.bone||s==d.target){a.splice(g+1,0,d);break}g--}}},updateWorldTransform:function(){for(var a=0,b=this._updateCache;a<b.length;){var c=b[a];++a;c.update()}},setToSetupPose:function(){this.setBonesToSetupPose();
this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var a=0,b=this.bones;a<b.length;){var c=b[a];++a;c.setToSetupPose()}a=0;for(b=this.ikConstraints;a<b.length;)c=b[a],++a,c.bendDirection=c.get_data().bendDirection,c.mix=c.get_data().mix;a=0;for(b=this.transformConstraints;a<b.length;)c=b[a],++a,c.translateMix=c.get_data().translateMix,c.rotateMix=c.get_data().rotateMix,c.scaleMix=c.get_data().scaleMix,c.shearMix=c.get_data().shearMix},setSlotsToSetupPose:function(){for(var a=0,b=0,c=this.slots;b<
c.length;){var d=c[b];++b;this.drawOrder[a++]=d;d.setToSetupPose()}},get_data:function(){return this._data},findBone:function(a){if(null==a)throw new K("boneName cannot be null.");for(var b=0,c=this.bones;b<c.length;){var d=c[b];++b;if(d.get_data().get_name()==a)return d}return null},get_skin:function(){return this._skin},set_skin:function(a){if(null!=a)if(null!=this.get_skin())a.attachAll(this,this.get_skin());else for(var b=0,c=0,d=this.slots;c<d.length;){var g=d[c];++c;var s=g.get_data().attachmentName;
""!=s&&(s=a.getAttachment(b,s),null!=s&&g.set_attachment(s));b++}return this._skin=a},getAttachmentForSlotIndex:function(a,b){if(null==b)throw new K("attachmentName cannot be null.");if(null!=this.get_skin()){var c=this.get_skin().getAttachment(a,b);if(null!=c)return c}return null!=this.get_data().defaultSkin?this.get_data().defaultSkin.getAttachment(a,b):null},setAttachment:function(a,b){if(null==a)throw new K("slotName cannot be null.");for(var c=0,d=0,g=this.slots;d<g.length;){var s=g[d];++d;if(s.get_data().get_name()==
a){d=null;if(null!=b&&(d=this.getAttachmentForSlotIndex(c,b),null==d))throw new K("Attachment not found: "+b+", for slot: "+a);s.set_attachment(d);return}c++}throw new K("Slot not found: "+a);},__class__:tf,__properties__:{set_skin:"set_skin",get_skin:"get_skin",get_data:"get_data"}};var uf=function(){this.polygonPool=[];this.boundingBoxes=[];this.polygons=[]};j["com.workinman.display.spine.SkeletonBounds"]=uf;uf.__name__=["com","workinman","display","spine","SkeletonBounds"];uf.prototype={dispose:function(){for(var a=
0,b=this.boundingBoxes;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.boundingBoxes=null;a=0;for(b=this.polygons;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygons=null;a=0;for(b=this.polygonPool;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygonPool=null},__class__:uf};var vf=function(){this.transformConstraints=[];this.ikConstraints=[];this.animations=[];this.events=[];this.skins=[];this.slots=[];this.bones=[]};j["com.workinman.display.spine.SkeletonData"]=vf;vf.__name__=["com",
"workinman","display","spine","SkeletonData"];vf.prototype={dispose:function(){this.ikConstraints=this.animations=this.events=this.defaultSkin=this.skins=this.slots=this.bones=null},findBone:function(a){if(null==a)throw new K("boneName cannot be null.");for(var b=0,c=this.bones.length;b<c;){var d=this.bones[b++];if(d.get_name()==a)return d}return null},findBoneIndex:function(a){if(null==a)throw new K("boneName cannot be null.");for(var b=0,c=this.bones.length;b<c;){var d=b++;if(this.bones[d].get_name()==
a)return d}return-1},findSlotIndex:function(a){if(null==a)throw new K("slotName cannot be null.");for(var b=0,c=this.slots.length;b<c;){var d=b++;if(this.slots[d].get_name()==a)return d}return-1},findSkin:function(a){if(null==a)throw new K("skinName cannot be null.");for(var b=0,c=this.skins;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},findEvent:function(a){if(null==a)throw new K("eventName cannot be null.");for(var b=0,c=this.events;b<c.length;){var d=c[b];++b;if(d.get_name()==
a)return d}return null},findAnimation:function(a){if(null==a)throw new K("animationName cannot be null.");for(var b=0,c=this.animations;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},findIkConstraint:function(a){if(null==a)throw new K("constraintName cannot be null.");for(var b=0,c=this.ikConstraints;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},__class__:vf};var W=function(a){this.scale=1;this.attachmentLoader=a};j["com.workinman.display.spine.SkeletonJson"]=
W;W.__name__=["com","workinman","display","spine","SkeletonJson"];W.readCurve=function(a,b,c){c=q.field(c,"curve");null!=c&&("stepped"==c?a.setStepped(b):c instanceof Array&&null==c.__enum__&&a.setCurve(b,c[0],c[1],c[2],c[3]))};W.toColor=function(a,b){if(8!=a.length)throw new K("Color hexidecimal length must be 8, recieved: "+a);return B.parseInt("0x"+a.substring(2*b,2*b+2))/255};W.getFloatArray=function(a,b,c){var a=q.field(a,b),b=[],d=a.length;if(1==c)for(c=0;c<d;){var g=c++;b[g]=a[g]}else for(g=
0;g<d;){var s=g++;b[s]=a[s]*c}return b};W.getIntArray=function(a,b){for(var c=q.field(a,b),d=[],g=0,s=c.length;g<s;){var e=g++;d[e]=c[e]}return d};W.getUIntArray=function(a,b){for(var c=q.field(a,b),d=[],g=0,s=c.length;g<s;){var e=g++;d[e]=c[e]}return d};W.prototype={readSkeletonData:function(a,b){if(null==a)throw new K("object cannot be null.");var c;c=JSON.parse(a);var d=new vf;d.name=b;if(Object.prototype.hasOwnProperty.call(c,"skeleton")){var g;g=q.field(c,"skeleton");var s=q.field(g,"hash");
d.hash=null==s?null:B.string(s);s=q.field(g,"spine");d.version=null==s?null:B.string(s);s=q.field(g,"width");d.width=null==s?0:x.__cast(s,U);g=q.field(g,"height");d.height=null==g?0:x.__cast(g,U)}g=0;for(s=q.field(c,"bones");g<s.length;){var e=s[g];++g;var f=null,h;h=q.field(e,"parent");h=null==h?null:B.string(h);if(null!=h&&(f=d.findBone(h),null==f))throw"Parent bone not found: "+h;f=new of(function(){var a=q.field(e,"name");return null==a?null:B.string(a)}(this),f);f.length=function(){var a=q.field(e,
"length");return null==a?0:x.__cast(a,U)}(this)*this.scale;f.x=function(){var a=q.field(e,"x");return null==a?0:x.__cast(a,U)}(this)*this.scale;f.y=function(){var a=q.field(e,"y");return null==a?0:x.__cast(a,U)}(this)*this.scale;h=q.field(e,"rotation");f.rotation=null==h?0:x.__cast(h,U);h=q.field(e,"scaleX");f.scaleX=null==h?1:x.__cast(h,U);h=q.field(e,"scaleY");f.scaleY=null==h?1:x.__cast(h,U);h=q.field(e,"shearX");f.shearX=null==h?0:x.__cast(h,U);h=q.field(e,"shearY");f.shearY=null==h?0:x.__cast(h,
U);h=q.field(e,"inheritScale");f.inheritScale=null==h?!0:x.__cast(h,Kd);h=q.field(e,"inheritRotation");f.inheritRotation=null==h?!0:x.__cast(h,Kd);d.bones.push(f)}if(Object.prototype.hasOwnProperty.call(c,"ik")){g=0;for(s=q.field(c,"ik");g<s.length;){var i=s[g];++g;f=new rf(function(){var a=q.field(i,"name");return null==a?null:B.string(a)}(this));h=0;for(var j=q.field(i,"bones");h<j.length;){var k=j[h];++h;var l=d.findBone(k);if(null==l)throw"IK bone not found: "+k;f.bones.push(l)}f.target=d.findBone(function(){var a=
q.field(i,"target");return null==a?null:B.string(a)}(this));if(null==f.target)throw"Target bone not found: "+function(){var a=q.field(i,"target");return null==a?null:B.string(a)}(this);f.bendDirection=function(){var a=q.field(i,"bendPositive");return null==a?!0:x.__cast(a,Kd)}(this)?1:-1;h=q.field(i,"mix");f.mix=null==h?1:x.__cast(h,U);d.ikConstraints.push(f)}}g=q.field(c,"transform");if(null!=g){g=0;for(s=q.field(c,"transform");g<s.length;){var m=s[g];++g;f=new wf(function(){var a=q.field(m,"name");
return null==a?null:B.string(a)}(this));h=q.field(m,"bone");h=null==h?null:B.string(h);f.bone=d.findBone(h);if(null==f.bone)throw new K("Bone not found: "+h);h=q.field(m,"target");h=null==h?null:B.string(h);f.target=d.findBone(h);if(null==f.target)throw new K("Target bone not found: "+h);h=q.field(m,"rotation");f.offsetRotation=null==h?0:x.__cast(h,U);f.offsetX=function(){var a=q.field(m,"x");return null==a?0:x.__cast(a,U)}(this)*this.scale;f.offsetY=function(){var a=q.field(m,"y");return null==a?
0:x.__cast(a,U)}(this)*this.scale;f.offsetScaleX=function(){var a=q.field(m,"scaleX");return null==a?0:x.__cast(a,U)}(this)*this.scale;f.offsetScaleY=function(){var a=q.field(m,"scaleY");return null==a?0:x.__cast(a,U)}(this)*this.scale;f.offsetShearY=function(){var a=q.field(m,"shearY");return null==a?0:x.__cast(a,U)}(this)*this.scale;h=q.field(m,"rotateMix");f.rotateMix=null==h?1:x.__cast(h,U);h=q.field(m,"translateMix");f.translateMix=null==h?1:x.__cast(h,U);h=q.field(m,"scaleMix");f.scaleMix=null==
h?1:x.__cast(h,U);h=q.field(m,"shearMix");f.shearMix=null==h?1:x.__cast(h,U);d.transformConstraints.push(f)}}g=null;g=0;for(s=q.field(c,"slots");g<s.length;){var n=s[g];++g;f=q.field(n,"bone");f=null==f?null:B.string(f);h=d.findBone(f);if(null==h)throw"Slot bone not found: "+f;f=new xf(function(){var a=q.field(n,"name");return null==a?null:B.string(a)}(this),h);h=q.field(n,"color");h=null==h?null:B.string(h);null!=h&&(f.r=W.toColor(h,0),f.g=W.toColor(h,1),f.b=W.toColor(h,2),f.a=W.toColor(h,3));h=
q.field(n,"attachment");f.attachmentName=null==h?null:B.string(h);h=q.field(n,"blend");f.blendMode=null==h?"normal":B.string(h);d.slots.push(f)}g=q.field(c,"skins");s=0;for(f=q.fields(g);s<f.length;){j=f[s];++s;h=q.field(g,j);j=new yf(j);k=0;for(l=q.fields(h);k<l.length;){var o=l[k];++k;for(var p=d.findSlotIndex(o),o=q.field(h,o),r=0,t=q.fields(o);r<t.length;){var u=t[r];++r;var v=this.readAttachment(j,u,q.field(o,u));null!=v&&j.addAttachment(p,u,v)}}d.skins.push(j);"default"==j.get_name()&&(d.defaultSkin=
j)}g=q.field(c,"events");if(null!=g){s=0;for(f=q.fields(g);s<f.length;)j=f[s],++s,h=q.field(g,j),j=new qf(j),k=q.field(h,"int"),j.intValue=null==k?0:x.__cast(k,xc),k=q.field(h,"float"),j.floatValue=null==k?0:x.__cast(k,U),h=q.field(h,"string"),j.stringValue=null==h?null:B.string(h),d.events.push(j)}c=q.field(c,"animations");g=0;for(s=q.fields(c);g<s.length;)f=s[g],++g,this.readAnimation(f,q.field(c,f),d);return d},readAttachment:function(a,b,c){var d=q.field(c,"name");null!=d&&(b=B.string(d));var g,
d=q.field(c,"type");g=null==d?"region":B.string(d);"skinnedmesh"==g&&(g="weightedmesh");new zf(0,g);var s,d=q.field(c,"path");s=null==d?b:B.string(d);d=this.scale;switch(g){case "region":a=this.attachmentLoader.newRegionAttachment(a,b,s);if(null==a)break;a.path=s;a.x=function(){var a=q.field(c,"x");return null==a?0:x.__cast(a,U)}(this)*d;a.y=function(){var a=q.field(c,"y");return null==a?0:x.__cast(a,U)}(this)*d;b=q.field(c,"scaleX");a.scaleX=null==b?1:x.__cast(b,U);b=q.field(c,"scaleY");a.scaleY=
null==b?1:x.__cast(b,U);b=q.field(c,"rotation");a.rotation=null==b?0:x.__cast(b,U);a.width=function(){var a=q.field(c,"width");return null==a?0:x.__cast(a,U)}(this)*d;a.height=function(){var a=q.field(c,"height");return null==a?0:x.__cast(a,U)}(this)*d;d=q.field(c,"color");s=null==d?null:B.string(d);null!=s&&""!=s&&(a.r=W.toColor(s,0),a.g=W.toColor(s,1),a.b=W.toColor(s,2),a.a=W.toColor(s,3));a.updateOffset();return a;case "mesh":a=this.attachmentLoader.newMeshAttachment(a,b,s);if(null==a)break;a.path=
s;a.vertices=W.getFloatArray(c,"vertices",d);a.triangles=W.getUIntArray(c,"triangles");a.regionUVs=W.getFloatArray(c,"uvs",1);a.updateUVs();b=q.field(c,"color");s=null==b?null:B.string(b);null!=s&&""!=s&&(a.r=W.toColor(s,0),a.g=W.toColor(s,1),a.b=W.toColor(s,2),a.a=W.toColor(s,3));a.hullLength=2*function(){var a=q.field(c,"hull");return null==a?0:x.__cast(a,xc)}(this);Object.prototype.hasOwnProperty.call(c,"edges")&&(a.edges=W.getIntArray(c,"edges"));a.width=function(){var a=q.field(c,"width");return null==
a?0:x.__cast(a,U)}(this)*d;a.height=function(){var a=q.field(c,"height");return null==a?0:x.__cast(a,U)}(this)*d;return a;case "weightedmesh":b=this.attachmentLoader.newWeightedMeshAttachment(a,b,s);if(null==b)break;b.path=s;s=W.getFloatArray(c,"uvs",1);a=W.getFloatArray(c,"vertices",1);g=[];for(var e=[],f=0,h=a.length;f<h;){var i=Math.floor(a[f++]);e[e.length]=i;for(i=f+4*i;f<i;)e[e.length]=Math.floor(a[f]),g[g.length]=a[f+1]*d,g[g.length]=a[f+2]*d,g[g.length]=a[f+3],f+=4}b.bones=e;b.weights=g;b.triangles=
W.getUIntArray(c,"triangles");b.regionUVs=s;b.updateUVs();a=q.field(c,"color");s=null==a?null:B.string(a);null!=s&&""!=s&&(b.r=W.toColor(s,0),b.g=W.toColor(s,1),b.b=W.toColor(s,2),b.a=W.toColor(s,3));b.hullLength=2*function(){var a=q.field(c,"hull");return null==a?0:x.__cast(a,xc)}(this);Object.prototype.hasOwnProperty.call(c,"edges")&&(b.edges=W.getIntArray(c,"edges"));b.width=function(){var a=q.field(c,"width");return null==a?0:x.__cast(a,U)}(this)*d;b.height=function(){var a=q.field(c,"height");
return null==a?0:x.__cast(a,U)}(this)*d;return b;case "boundingbox":b=this.attachmentLoader.newBoundingBoxAttachment(a,b);a=b.vertices;s=0;for(g=q.field(c,"vertices");s<g.length;)e=g[s],++s,a[a.length]=e*d;return b}return null},readAnimation:function(a,b,c){var d=[],g=0,e,f,h,i,j;j=q.field(b,"slots");for(var k=0,l=q.fields(j);k<l.length;){var m=l[k];++k;e=q.field(j,m);f=c.findSlotIndex(m);for(var n=0,o=q.fields(e);n<o.length;){var p=o[n];++n;h=q.field(e,p);if("color"==p){var r=new Ld(h.length);r.slotIndex=
f;for(var t=i=0;t<h.length;){var u=h[t];++t;var v,w=q.field(u,"color");v=null==w?null:B.string(w);var y=W.toColor(v,0),z=W.toColor(v,1),A=W.toColor(v,2),C=W.toColor(v,3);r.setFrame(i,function(){var a=q.field(u,"time");return null==a?0:x.__cast(a,U)}(this),y,z,A,C);W.readCurve(r,i,u);i++}d[d.length]=r;g=Math.max(g,r.frames[5*r.get_frameCount()-5])}else if("attachment"==p){var D=new Md(h.length);D.slotIndex=f;for(var E=i=0;E<h.length;){var F=h[E];++E;D.setFrame(i++,function(){var a=q.field(F,"time");
return null==a?0:x.__cast(a,U)}(this),function(){var a=q.field(F,"name");return null==a?null:B.string(a)}(this))}d[d.length]=D;g=Math.max(g,D.frames[D.get_frameCount()-1])}else throw new K("Invalid timeline type for a slot: "+p+" ("+m+")");}}var G;G=q.field(b,"bones");for(var H=0,J=q.fields(G);H<J.length;){var I=J[H];++H;var L=c.findBoneIndex(I);if(-1==L)throw new K("Bone not found: "+I);var M;M=q.field(G,I);for(var O=0,Q=q.fields(M);O<Q.length;){var N=Q[O];++O;h=q.field(M,N);if("rotate"==N){var P=
new Nd(h.length);P.boneIndex=L;for(var S=i=0;S<h.length;){var T=h[S];++S;P.setFrame(i,function(){var a=q.field(T,"time");return null==a?0:x.__cast(a,U)}(this),function(){var a=q.field(T,"angle");return null==a?0:x.__cast(a,U)}(this));W.readCurve(P,i,T);i++}d[d.length]=P;g=Math.max(g,P.frames[2*P.get_frameCount()-2])}else if("translate"==N||"scale"==N||"shear"==N){var R,V=1;"scale"==N?R=new Od(h.length):"shear"==N?R=new Pd(h.length):(R=new rb(h.length),V=this.scale);R.boneIndex=L;for(var X=i=0;X<h.length;){var Y=
h[X];++X;var Z;Z=function(){var a=q.field(Y,"x");return null==a?0:x.__cast(a,U)}(this)*V;var aa;aa=function(){var a=q.field(Y,"y");return null==a?0:x.__cast(a,U)}(this)*V;R.setFrame(i,function(){var a=q.field(Y,"time");return null==a?0:x.__cast(a,U)}(this),Z,aa);W.readCurve(R,i,Y);i++}d[d.length]=R;g=Math.max(g,R.frames[3*R.get_frameCount()-3])}else throw new K("Invalid timeline type for a bone: "+N+" ("+I+")");}}var ba;ba=q.field(b,"ik");for(var ca=0,da=q.fields(ba);ca<da.length;){var ea=da[ca];
++ca;var ha=c.findIkConstraint(ea);h=q.field(ba,ea);var $=new Qd(h.length);$.ikConstraintIndex=c.ikConstraints.indexOf(ha);for(var ga=i=0;ga<h.length;){var fa=h[ga];++ga;var ia,ja=q.field(fa,"mix");ia=null==ja?1:x.__cast(ja,U);var ma;ma=function(){var a=q.field(fa,"bendPositive");return null==a?!0:x.__cast(a,Kd)}(this)?1:-1;$.setFrame(i,function(){var a=q.field(fa,"time");return null==a?0:x.__cast(a,U)}(this),ia,ma);W.readCurve($,i,fa);i++}d[d.length]=$;g=Math.max(g,$.frames[3*$.get_frameCount()-
3])}var ka;ka=q.field(b,"ffd");for(var la=0,oa=q.fields(ka);la<oa.length;){var pa=oa[la];++la;var sa=c.findSkin(pa);e=q.field(ka,pa);for(var ra=0,ua=q.fields(e);ra<ua.length;){var wa=ua[ra];++ra;f=c.findSlotIndex(wa);var va;va=q.field(e,wa);for(var xa=0,Ca=q.fields(va);xa<Ca.length;){var ya=Ca[xa];++xa;h=q.field(va,ya);var qa=new Rd(h.length),na=sa.getAttachment(f,ya);if(null==na)throw new K("FFD attachment not found: "+ya);qa.slotIndex=f;qa.attachment=na;var Da;Da=x.__instanceof(na,mb)?x.__cast(na,
mb).vertices.length:Math.floor(2*(x.__cast(na,Kb).weights.length/3));for(var Fa=i=0;Fa<h.length;){var Aa=h[Fa];++Fa;var ta;if(Object.prototype.hasOwnProperty.call(Aa,"vertices")){var Ea;Ea=q.field(Aa,"vertices");ta=Ba.allocFloat(Da);var Ga,Ja=q.field(Aa,"offset");Ga=null==Ja?0:x.__cast(Ja,xc);var La=Ea.length;if(1==this.scale)for(var Ma=0;Ma<La;){var Oa=Ma++;ta[Oa+Ga]=Ea[Oa]}else for(var Qa=0;Qa<La;){var Ra=Qa++;ta[Ra+Ga]=Ea[Ra]*this.scale}if(x.__instanceof(na,mb))for(var Xa=x.__cast(na,mb).vertices,
Ta=0;Ta<Da;){var Na=Ta++;ta[Na]+=Xa[Na]}}else ta=x.__instanceof(na,mb)?x.__cast(na,mb).vertices:[];qa.setFrame(i,function(){var a=q.field(Aa,"time");return null==a?0:x.__cast(a,U)}(this),ta);W.readCurve(qa,i,Aa);i++}d[d.length]=qa;g=Math.max(g,qa.frames[qa.get_frameCount()-1])}}}var za=q.field(b,"drawOrder");null==za&&(za=q.field(b,"draworder"));if(null!=za&&0<za.length){for(var Ha=new Sd(za.length),Sa=c.slots.length,Va=i=0;Va<za.length;){var Ya=za[Va];++Va;var Ia=null;if(Object.prototype.hasOwnProperty.call(Ya,
"offsets")){for(var Ia=[],ab=Sa-1;0<=ab;)Ia[ab]=-1,ab--;for(var hb=q.field(Ya,"offsets"),bb=[],Ka=0,db=0,eb=0;eb<hb.length;){var fb=hb[eb];++eb;f=c.findSlotIndex(function(){var a=q.field(fb,"slot");return null==a?null:B.string(a)}(this));if(-1==f)throw new K("Slot not found: "+function(){var a=q.field(fb,"slot");return null==a?null:B.string(a)}(this));for(;Ka!=f;)bb[db++]=Ka++;Ia[Ka+function(){var a=q.field(fb,"offset");return null==a?0:x.__cast(a,xc)}(this)]=Ka++}for(;Ka<Sa;)bb[db++]=Ka++;for(var Za=
Sa-1;0<=Za;)-1==Ia[Za]&&(Ia[Za]=bb[--db]),Za--}Ha.setFrame(i++,function(){var a=q.field(Ya,"time");return null==a?0:x.__cast(a,U)}(this),Ia)}d[d.length]=Ha;g=Math.max(g,Ha.frames[Ha.get_frameCount()-1])}var Ua=q.field(b,"events");if(null!=Ua&&0<Ua.length){for(var $a=new Td(Ua.length),gb=i=0;gb<Ua.length;){var Pa=Ua[gb];++gb;var Wa=c.findEvent(function(){var a=q.field(Pa,"name");return null==a?null:B.string(a)}(this));if(null==Wa)throw new K("Event not found: "+function(){var a=q.field(Pa,"name");
return null==a?null:B.string(a)}(this));var cb=new pf(function(){var a=q.field(Pa,"time");return null==a?0:x.__cast(a,U)}(this),Wa),jb=q.field(Pa,"Int");cb.intValue=null==jb?Wa.intValue:x.__cast(jb,xc);var kb=q.field(Pa,"float");cb.floatValue=null==kb?Wa.floatValue:x.__cast(kb,U);var lb=q.field(Pa,"string");cb.stringValue=null==lb?Wa.stringValue:B.string(lb);$a.setFrame(i++,cb)}d[d.length]=$a;g=Math.max(g,$a.frames[Math.floor($a.get_frameCount()-1)])}c.animations[c.animations.length]=new ib(a,d,g)},
__class__:W};var yf=function(a){this._attachments=[];if(null==a)throw new K("name cannot be null.");this._name=a};j["com.workinman.display.spine.Skin"]=yf;yf.__name__=["com","workinman","display","spine","Skin"];yf.prototype={dispose:function(){this._attachments=null},addAttachment:function(a,b,c){if(null==c)throw new K("attachment cannot be null.");null==this.get_attachments()[a]&&(this.get_attachments()[a]=new S);this.get_attachments()[a].set(b,c);c},getAttachment:function(a,b){if(a>=this.get_attachments().length)return null;
var c=this.get_attachments()[a];return null!=c?c.get(b):null},get_attachments:function(){return this._attachments},get_name:function(){return this._name},attachAll:function(a,b){for(var c=0,d=0,g=a.slots;d<g.length;){var e=g[d];++d;var f=e.get_attachment();if(null!=f&&c<b.get_attachments().length){var h=b.get_attachments()[c];if(null!=h)for(var i=h.keys();i.hasNext();){var j=i.next(),k=h.get(j);if(f==k){f=this.getAttachment(c,j);null!=f&&e.set_attachment(f);break}}}c++}},__class__:yf,__properties__:{get_name:"get_name",
get_attachments:"get_attachments"}};var sf=function(a,b){this.attachmentVertices=[];if(null==a)throw new K("data cannot be null.");if(null==b)throw new K("bone cannot be null.");this._data=a;this._bone=b;this.setToSetupPose()};j["com.workinman.display.spine.Slot"]=sf;sf.__name__=["com","workinman","display","spine","Slot"];sf.prototype={dispose:function(){this._data.dispose();this.attachmentVertices=this._attachment=this._bone=this._data=null},get_data:function(){return this._data},get_bone:function(){return this._bone},
get_skeleton:function(){return this._bone.get_skeleton()},get_attachment:function(){return this._attachment},set_attachment:function(a){if(this._attachment==a)return this._attachment;this._attachment=a;this._attachmentTime=this._bone.get_skeleton().time;this.attachmentVertices=[];return this._attachment},setToSetupPose:function(){var a=this._bone.get_skeleton().get_data().slots.indexOf(this.get_data());this.r=this._data.r;this.g=this._data.g;this.b=this._data.b;this.a=this._data.a;null==this._data.attachmentName?
this.set_attachment(null):(this._attachment=null,this.set_attachment(this._bone.get_skeleton().getAttachmentForSlotIndex(a,this.get_data().attachmentName)))},__class__:sf,__properties__:{set_attachment:"set_attachment",get_attachment:"get_attachment",get_skeleton:"get_skeleton",get_bone:"get_bone",get_data:"get_data"}};var xf=function(a,b){this.r=this.g=this.b=this.a=1;if(null==a)throw new K("name cannot be null.");if(null==b)throw new K("boneData cannot be null.");this._name=a;this._boneData=b};
j["com.workinman.display.spine.SlotData"]=xf;xf.__name__=["com","workinman","display","spine","SlotData"];xf.prototype={dispose:function(){this._boneData=null},get_name:function(){return this._name},get_boneData:function(){return this._boneData},__class__:xf,__properties__:{get_boneData:"get_boneData",get_name:"get_name"}};var Wb=function(a){w.call(this,a);var b=a.library,c=f.get_instance().assets.getAsset(b).path,c=c.substring(0,c.lastIndexOf("/")+1),c=new Af(f.get_instance().assets.getFile(b+".atlas").toString(),
new Ud(c,f.get_instance().assets.getAsset(b).pack.pack)),c=(new W(new xb(c))).readSkeletonData(f.get_instance().assets.getFile(b+".json").toString(),b),b=new Bf(c);this._state=new Cf(b);this._renderer=new Vd(c,a.debug);this._skeleton=this._renderer.skeleton;this._skeleton.updateWorldTransform();this._animationsSpine=new S;b=0;for(c=c.animations;b<c.length;){var d=c[b];++b;a.trace&&null;this._animationsSpine.set(d.get_name(),d)}this._state.onStart.add(p(this,this._onAnimationStart));this._state.onComplete.add(p(this,
this._onAnimationCompleted));this._state.onEvent.add(p(this,this._onAnimationEvent));this.addChild(this._renderer);this._bounds=new uf;this._boundsRegion=new Df(this._renderer)};j["com.workinman.display.spine.SpineElement"]=Wb;Wb.__name__=["com","workinman","display","spine","SpineElement"];Wb.__super__=w;Wb.prototype=u(w.prototype,{dispose:function(){this._state.onStart.remove(p(this,this._onAnimationStart));this._state.onComplete.remove(p(this,this._onAnimationCompleted));this._state.onEvent.remove(p(this,
this._onAnimationEvent));this._bounds.dispose();this._bounds=null;this._boundsRegion.dispose();this._boundsRegion=null;this._state.dispose();this._renderer=this._animationsSpine=this._skeleton=this._state=null;w.prototype.dispose.call(this)},runUpdate:function(a){w.prototype.runUpdate.call(this,a);this._state.update(a);this._state.apply(this._skeleton);this._skeleton.updateWorldTransform()},hasAnimation:function(a){return this._animationsSpine.exists(a)},animate:function(a,b,c,d,g){null==g&&(g=!1);
null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);this._doAnimate(a,b,!1,0,c,d,g);return this},_doAnimate:function(a,b,c,d,g,e,f){null==f&&(f=!1);null==e&&(e=0);null==g&&(g=1);f&&this._skeleton.setToSetupPose();if(this.hasAnimation(a)){if(c=c?this._state.addAnimationByName(e,a,0==b,d):this._state.setAnimationByName(e,a,0==b),c.timeScale=g,0<b)for(d=1;d<b;)d++,c=this._state.addAnimationByName(e,a,!1,0),c.timeScale=g}else null},setAttachment:function(a,b){this._skeleton.setAttachment(a,b)},_onAnimationStart:function(a){this._currentAnimation=
this._state.getCurrent(a).animation.get_name()},_onAnimationCompleted:function(){},_onAnimationEvent:function(a,b){b.get_data().get_name()},__class__:Wb});var Jd=function(a,b){if(null==a)throw new K("data cannot be null.");if(null==b)throw new K("skeleton cannot be null.");this._data=a;this.translateMix=a.translateMix;this.rotateMix=a.rotateMix;this.scaleMix=a.scaleMix;this.shearMix=a.shearMix;this.offsetRotation=a.offsetRotation;this.offsetX=a.offsetX;this.offsetY=a.offsetY;this.offsetScaleX=a.offsetScaleX;
this.offsetScaleY=a.offsetScaleY;this.offsetShearY=a.offsetShearY;this.bone=b.findBone(a.bone.get_name());this.target=b.findBone(a.target.get_name())};j["com.workinman.display.spine.TransformConstraint"]=Jd;Jd.__name__=["com","workinman","display","spine","TransformConstraint"];Jd.__interfaces__=[wc];Jd.prototype={dispose:function(){this._data.dispose();this.target=this.bone=this._data=null},update:function(){if(0<this.rotateMix){var a=this.bone.get_a(),b=this.bone.get_b(),c=this.bone.get_c(),d=this.bone.get_d(),
g=Math.atan2(this.target.get_c(),this.target.get_a())-Math.atan2(c,a)+this.offsetRotation*Ka.degRad;g>Math.PI?g-=2*Math.PI:g<-Math.PI&&(g+=2*Math.PI);var g=g*this.rotateMix,e=Math.cos(g),g=Math.sin(g);this.bone.set_a(e*a-g*c);this.bone.set_b(e*b-g*d);this.bone.set_c(g*a+e*c);this.bone.set_d(g*b+e*d)}0<this.scaleMix&&(a=Math.sqrt(this.bone.get_a()*this.bone.get_a()+this.bone.get_c()*this.bone.get_c()),b=Math.sqrt(this.target.get_a()*this.target.get_a()+this.target.get_c()*this.target.get_c()),a=0<
a?(a+(b-a+this.offsetScaleX)*this.scaleMix)/a:0,b=this.bone,b.set_a(b.get_a()*a),b=this.bone,b.set_c(b.get_c()*a),a=Math.sqrt(this.bone.get_b()*this.bone.get_b()+this.bone.get_d()*this.bone.get_d()),b=Math.sqrt(this.target.get_b()*this.target.get_b()+this.target.get_d()*this.target.get_d()),a=0<a?(a+(b-a+this.offsetScaleY)*this.scaleMix)/a:0,b=this.bone,b.set_b(b.get_b()*a),b=this.bone,b.set_d(b.get_d()*a));0<this.shearMix&&(b=this.bone.get_b(),c=this.bone.get_d(),d=Math.atan2(c,b),a=Math.atan2(this.target.get_d(),
this.target.get_b())-Math.atan2(this.target.get_c(),this.target.get_a())-(d-Math.atan2(this.bone.get_c(),this.bone.get_a())),a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),a=d+(a+this.offsetShearY*Ka.degRad)*this.shearMix,b=Math.sqrt(b*b+c*c),this.bone.set_b(Math.cos(a)*b),this.bone.set_d(Math.sin(a)*b));a=this.translateMix;0<a&&(b=Ba.allocFloat(2),b[0]=this.offsetX,b[1]=this.offsetY,this.target.localToWorld(b),c=this.bone,c.set_worldX(c.get_worldX()+(b[0]-this.bone.get_worldX())*a),c=this.bone,
c.set_worldY(c.get_worldY()+(b[1]-this.bone.get_worldY())*a))},get_data:function(){return this._data},__class__:Jd,__properties__:{get_data:"get_data"}};var wf=function(a){if(null==a)throw new K("name cannot be null.");this._name=a};j["com.workinman.display.spine.TransformConstraintData"]=wf;wf.__name__=["com","workinman","display","spine","TransformConstraintData"];wf.prototype={dispose:function(){this.target=this.bone=null},__class__:wf};var ib=function(a,b,c){if(null==a)throw new K("name cannot be null.");
if(null==b)throw new K("timelines cannot be null.");this._name=a;this._timelines=b;this.duration=c};j["com.workinman.display.spine.animation.Animation"]=ib;ib.__name__="com,workinman,display,spine,animation,Animation".split(",");ib.binarySearch=function(a,b,c){var d=0,g=Math.floor(a.length/c-2);if(0==g)return c;for(var e=g>>>1;;){a[(e+1)*c]<=b?d=e+1:g=e;if(d==g)return(d+1)*c;e=d+g>>>1}return 0};ib.binarySearch1=function(a,b){var c=0,d=a.length-2;if(0==d)return 1;for(var g=d>>>1;;){a[g+1]<=b?c=g+1:
d=g;if(c==d)return c+1;g=c+d>>>1}return 0};ib.prototype={get_timelines:function(){return this._timelines},apply:function(a,b,c,d,g){if(null==a)throw new K("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,0<b&&(b%=this.duration));for(var d=0,e=this.get_timelines().length;d<e;){var f=d++;this.get_timelines()[f].apply(a,b,c,g,1)}this.currentTime=c},mix:function(a,b,c,d,g,e){if(null==a)throw new K("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,0<b&&(b%=this.duration));
for(var d=0,f=this.get_timelines().length;d<f;){var h=d++;this.get_timelines()[h].apply(a,b,c,g,e)}},get_name:function(){return this._name},__class__:ib,__properties__:{get_name:"get_name",get_timelines:"get_timelines"}};var Cf=function(a){this.timeScale=1;if(null==a)throw new K("data cannot be null.");this._data=a;this._tracks=[];this._events=[];this.onStart=new dc;this.onEnd=new dc;this.onComplete=new dc;this.onEvent=new dc};j["com.workinman.display.spine.animation.AnimationState"]=Cf;Cf.__name__=
"com,workinman,display,spine,animation,AnimationState".split(",");Cf.prototype={dispose:function(){this._data.dispose();this._data=null;for(var a=0,b=this._tracks;a<b.length;){var c=b[a];++a;c.dispose()}this._tracks=null;a=0;for(b=this._events;a<b.length;)c=b[a],++a,c.dispose();this._events=null;this.onStart.dispose();this.onStart=null;this.onEnd.dispose();this.onEnd=null;this.onComplete.dispose();this.onComplete=null;this.onEvent.dispose();this.onEvent=null},update:function(a){for(var a=a*this.timeScale,
b=0,c=this._tracks.length;b<c;){var d=b++,g=this._tracks[d];if(null!=g){g.time+=a*g.timeScale;if(null!=g.previous){var e=a*g.previous.timeScale;g.previous.time+=e;g.mixTime+=e}var e=g.next,f=g.lastTime;0>g.timeScale&&(f=Math.abs(f));null!=e?(e.time=f-e.delay,0<=e.time&&this.setCurrent(d,e)):!g.loop&&f>=g.endTime&&this.clearTrack(d)}}},apply:function(a){for(var b=0,c=this._tracks.length;b<c;){var d=b++,g=this._tracks[d];if(null!=g){this._events=[];var e=g.time,f=g.lastTime,h=g.endTime,i=g.loop;!i&&
e>h&&(e=h);if(0>g.timeScale){for(;0>e;)e+=g.animation.duration;for(;0>f;)f+=g.animation.duration}var j=g.previous;if(null==j)1==g.mix?g.animation.apply(a,g.lastTime,e,i,this._events):g.animation.mix(a,g.lastTime,e,i,this._events,g.mix);else{var k=j.time;!j.loop&&k>j.endTime&&(k=j.endTime);j.animation.apply(a,k,k,j.loop,null);j=g.mixTime/g.mixDuration*g.mix;1<=j&&(j=1,g.previous=null);g.animation.mix(a,g.lastTime,e,i,this._events,j)}j=0;for(k=this._events;j<k.length;){var l=k[j];++j;if(null!=g.onEvent)g.onEvent(d,
l);this.onEvent.invoke(d,l)}if(i?f%h>e%h:f<h&&e>=h){e=Math.floor(e/h);if(null!=g.onComplete)g.onComplete(d,e);this.onComplete.invoke(d,e)}g.lastTime=g.time}}},clearTrack:function(a){if(!(a>=this._tracks.length)){var b=this._tracks[a];if(null!=b){if(null!=b.onEnd)b.onEnd(a);this.onEnd.invoke(a);this._tracks[a]=null}}},expandToIndex:function(a){if(a<this._tracks.length)return this._tracks[a];for(;a>=this._tracks.length;)this._tracks[this._tracks.length]=null;return null},setCurrent:function(a,b){var c=
this.expandToIndex(a);if(null!=c){var d=c.previous;c.previous=null;if(null!=c.onEnd)c.onEnd(a);this.onEnd.invoke(a);b.mixDuration=this._data.getMix(c.animation,b.animation);0<b.mixDuration&&(b.mixTime=0,b.previous=null!=d&&0.5>c.mixTime/c.mixDuration?d:c)}this._tracks[a]=b;if(null!=b.onStart)b.onStart(a);this.onStart.invoke(a)},setAnimationByName:function(a,b,c){var d=this._data.get_skeletonData().findAnimation(b);if(null==d)throw new K("Animation not found: "+b);return this.setAnimation(a,d,c)},
setAnimation:function(a,b,c){var d=new Wd;d.animation=b;d.loop=c;d.endTime=b.duration;this.setCurrent(a,d);return d},addAnimationByName:function(a,b,c,d){var g=this._data.get_skeletonData().findAnimation(b);if(null==g)throw new K("Animation not found: "+b);return this.addAnimation(a,g,c,d)},addAnimation:function(a,b,c,d){var g=new Wd;g.animation=b;g.loop=c;g.endTime=b.duration;c=this.expandToIndex(a);if(null!=c){for(;null!=c.next;)c=c.next;c.next=g}else this._tracks[a]=g;0>=d&&(d=null!=c?d+(c.endTime-
this._data.getMix(c.animation,b)):0);g.delay=d;return g},getCurrent:function(a){return a>=this._tracks.length?null:this._tracks[a]},__class__:Cf};var Bf=function(a){this.defaultMix=0;this._skeletonData=a;this.animationToMixTime=new S};j["com.workinman.display.spine.animation.AnimationStateData"]=Bf;Bf.__name__="com,workinman,display,spine,animation,AnimationStateData".split(",");Bf.prototype={dispose:function(){this._skeletonData=this.animationToMixTime=null},get_skeletonData:function(){return this._skeletonData},
getMix:function(a,b){var c;c=this.animationToMixTime.get(a.get_name()+":"+b.get_name());return null==c?this.defaultMix:c},__class__:Bf,__properties__:{get_skeletonData:"get_skeletonData"}};var ec=function(){};j["com.workinman.display.spine.animation.Timeline"]=ec;ec.__name__="com,workinman,display,spine,animation,Timeline".split(",");ec.prototype={__class__:ec};var Md=function(a){this.frames=Ba.allocFloat(a);this.attachmentNames=Ba.allocString(a)};j["com.workinman.display.spine.animation.AttachmentTimeline"]=
Md;Md.__name__="com,workinman,display,spine,animation,AttachmentTimeline".split(",");Md.__interfaces__=[ec];Md.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b,c){this.frames[a]=b;this.attachmentNames[a]=c},apply:function(a,b,c){var d=this.frames;c<d[0]?b>c&&this.apply(a,b,Math.POSITIVE_INFINITY,null,0):(b>c&&(b=-1),c=c>=d[d.length-1]?d.length-1:ib.binarySearch1(d,c)-1,d[c]<b||(b=this.attachmentNames[c],a.slots[this.slotIndex].set_attachment(null==b?null:a.getAttachmentForSlotIndex(this.slotIndex,
b))))},__class__:Md,__properties__:{get_frameCount:"get_frameCount"}};var qa=function(a){this.curves=Ba.allocFloat(19*(a-1))};j["com.workinman.display.spine.animation.CurveTimeline"]=qa;qa.__name__="com,workinman,display,spine,animation,CurveTimeline".split(",");qa.__interfaces__=[ec];qa.prototype={apply:function(){},get_frameCount:function(){return Math.floor(this.curves.length/19+1)},setStepped:function(a){this.curves[Math.floor(19*a)]=1},setCurve:function(a,b,c,d,g){var e=0.1*0.1,f=0.1*e,h=3*0.1,
i=3*e,j=6*e,e=6*f,k=2*-b+d,l=2*-c+g,d=3*(b-d)+1,g=3*(c-g)+1,b=b*h+k*i+d*f,c=c*h+l*i+g*f,f=k*j+d*e,j=l*j+g*e,l=d*e,e=g*e,a=19*a,d=this.curves;d[a++]=2;g=b;h=c;for(i=a+19-1;a<i;)d[a]=g,d[a+1]=h,b+=f,c+=j,f+=l,j+=e,g+=b,h+=c,a+=2},getCurvePercent:function(a,b){var c=this.curves,d=19*a,g=c[d];if(0==g)return b;if(1==g)return 0;d++;for(var g=0,e=d,f=d+19-1;d<f;){g=c[d];if(g>=b)return d==e?f=e=0:(e=c[d-2],f=c[d-1]),f+(c[d+1]-f)*(b-e)/(g-e);d+=2}c=c[d-1];return c+(1-c)*(b-g)/(1-g)},__class__:qa,__properties__:{get_frameCount:"get_frameCount"}};
var Ld=function(a){qa.call(this,a);this.frames=Ba.allocFloat(a)};j["com.workinman.display.spine.animation.ColorTimeline"]=Ld;Ld.__name__="com,workinman,display,spine,animation,ColorTimeline".split(",");Ld.__super__=qa;Ld.prototype=u(qa.prototype,{setFrame:function(a,b,c,d,g,e){a*=5;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d;this.frames[a+3]=g;this.frames[a+4]=e},apply:function(a,b,c,d,g){if(!(c<this.frames[0])){var e,f;if(c>=this.frames[this.frames.length-5])b=this.frames.length-1,c=this.frames[b-
3],e=this.frames[b-2],f=this.frames[b-1],b=this.frames[b];else{var b=ib.binarySearch(this.frames,c,5),h=this.frames[b-4];e=this.frames[b-3];f=this.frames[b-2];var d=this.frames[b-1],i=this.frames[b],i=1-(c-i)/(this.frames[b+-5]-i),i=this.getCurvePercent(Math.floor(b/5-1),0>i?0:1<i?1:i),c=h+(this.frames[b+1]-h)*i;e+=(this.frames[b+2]-e)*i;f+=(this.frames[b+3]-f)*i;b=d+(this.frames[b+4]-d)*i}a=a.slots[this.slotIndex];1>g?(a.r+=(c-a.r)*g,a.g+=(e-a.g)*g,a.b+=(f-a.b)*g,a.a+=(b-a.a)*g):(a.r=c,a.g=e,a.b=
f,a.a=b)}},__class__:Ld});var Sd=function(a){this.frames=Ba.allocFloat(a);this.drawOrders=Ba.allocIntArray(a)};j["com.workinman.display.spine.animation.DrawOrderTimeline"]=Sd;Sd.__name__="com,workinman,display,spine,animation,DrawOrderTimeline".split(",");Sd.__interfaces__=[ec];Sd.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b,c){this.frames[a]=b;this.drawOrders[a]=c},apply:function(a,b,c){if(!(c<this.frames[0])){var c=c>=this.frames[this.frames.length-1]?this.frames.length-
1:ib.binarySearch1(this.frames,c)-1,b=a.drawOrder,a=a.slots,d=this.drawOrders[c],c=0;if(null==d)for(d=0;d<a.length;){var g=a[d];++d;b[c++]=g}else for(g=0;g<d.length;){var e=d[g];++g;b[c++]=a[e]}}},__class__:Sd,__properties__:{get_frameCount:"get_frameCount"}};var Td=function(a){this.frames=Ba.allocFloat(a);this.events=[];for(var b=0;b<a;)b++,this.events.push(null)};j["com.workinman.display.spine.animation.EventTimeline"]=Td;Td.__name__="com,workinman,display,spine,animation,EventTimeline".split(",");
Td.__interfaces__=[ec];Td.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b){this.frames[a]=b.time;this.events[a]=b},apply:function(a,b,c,d,g){if(null!=d){if(b>c)this.apply(a,b,Math.POSITIVE_INFINITY,d,g),b=-1;else if(b>=this.frames[this.get_frameCount()-1])return;if(!(c<this.frames[0])){if(b<this.frames[0])a=0;else{a=ib.binarySearch1(this.frames,b);for(b=this.frames[a];0<a&&!(this.frames[a-1]!=b);)a--}for(;a<this.get_frameCount()&&c>=this.frames[a];)d[d.length]=
this.events[a],a++}}},__class__:Td,__properties__:{get_frameCount:"get_frameCount"}};var Rd=function(a){qa.call(this,a);this.frames=Ba.allocFloat(a);this.frameVertices=Ba.allocFloatArray(a)};j["com.workinman.display.spine.animation.FfdTimeline"]=Rd;Rd.__name__="com,workinman,display,spine,animation,FfdTimeline".split(",");Rd.__super__=qa;Rd.prototype=u(qa.prototype,{setFrame:function(a,b,c){this.frames[a]=b;this.frameVertices[a]=c},apply:function(a,b,c,d,g){b=a.slots[this.slotIndex];if(b.get_attachment()==
this.attachment&&(d=this.frames,!(c<d[0]))){var e=this.frameVertices,a=e[0].length,b=b.attachmentVertices;b.length!=a&&(g=1);if(c>=d[d.length-1])if(c=e[d.length-1],1>g)for(d=0;d<a;)e=d++,b[e]+=(c[e]-b[e])*g;else for(g=0;g<a;)d=g++,b[d]=c[d];else{var f=ib.binarySearch1(d,c),h=d[f],c=1-(c-h)/(d[f-1]-h),c=this.getCurvePercent(f-1,0>c?0:1<c?1:c),d=e[f-1],e=e[f];if(1>g)for(h=0;h<a;){var i=h++,f=d[i];b[i]+=(f+(e[i]-f)*c-b[i])*g}else for(g=0;g<a;)h=g++,f=d[h],b[h]=f+(e[h]-f)*c}}},__class__:Rd});var Qd=function(a){qa.call(this,
a);this.frames=Ba.allocFloat(a)};j["com.workinman.display.spine.animation.IkConstraintTimeline"]=Qd;Qd.__name__="com,workinman,display,spine,animation,IkConstraintTimeline".split(",");Qd.__super__=qa;Qd.prototype=u(qa.prototype,{setFrame:function(a,b,c,d){a*=3;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d},apply:function(a,b,c,d,g){if(!(c<this.frames[0]))if(a=a.ikConstraints[this.ikConstraintIndex],c>=this.frames[this.frames.length-3])a.mix+=(this.frames[this.frames.length-2]-a.mix)*g,a.bendDirection=
Math.floor(this.frames[this.frames.length-1]);else{var b=ib.binarySearch(this.frames,c,3),d=this.frames[b+-2],e=this.frames[b],c=1-(c-e)/(this.frames[b+-3]-e),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.mix+=(d+(this.frames[b+1]-d)*c-a.mix)*g;a.bendDirection=Math.floor(this.frames[b+-1])}},__class__:Qd});var dc=function(){this._listeners=[];this._listeners=[]};j["com.workinman.display.spine.animation.Listeners"]=dc;dc.__name__="com,workinman,display,spine,animation,Listeners".split(",");
dc.prototype={get_listeners:function(){return this._listeners},dispose:function(){this._listeners=null},add:function(a){if(null==a)throw new K("listener cannot be null.");this._listeners[this._listeners.length]=a},remove:function(a){if(null==a)throw new K("listener cannot be null.");this._listeners.splice(this._listeners.indexOf(a),1)},invoke:function(a,b){for(var c=0,d=this.get_listeners();c<d.length;){var g=d[c];++c;g(a,b)}},__class__:dc,__properties__:{get_listeners:"get_listeners"}};var Nd=function(a){qa.call(this,
a);this.frames=Ba.allocFloat(2*a)};j["com.workinman.display.spine.animation.RotateTimeline"]=Nd;Nd.__name__="com,workinman,display,spine,animation,RotateTimeline".split(",");Nd.__super__=qa;Nd.prototype=u(qa.prototype,{setFrame:function(a,b,c){a*=2;this.frames[a]=b;this.frames[a+1]=c},apply:function(a,b,c,d,g){if(!(c<this.frames[0])){a=a.bones[this.boneIndex];if(c>=this.frames[this.frames.length-2])d=a.get_data().rotation+this.frames[this.frames.length-1]-a.rotation;else{for(var d=ib.binarySearch(this.frames,
c,2),b=this.frames[d-1],e=this.frames[d],c=1-(c-e)/(this.frames[d+-2]-e),c=this.getCurvePercent(Math.floor(d/2-1),0>c?0:1<c?1:c),d=this.frames[d+1]-b;180<d;)d-=360;for(;-180>d;)d+=360;d=a.get_data().rotation+(b+d*c)-a.rotation}for(;180<d;)d-=360;for(;-180>d;)d+=360;a.rotation+=d*g}},__class__:Nd});var rb=function(a){this.FRAME_Y=2;this.FRAME_X=1;this.PREV_FRAME_TIME=-3;qa.call(this,a);this.frames=Ba.allocFloat(a)};j["com.workinman.display.spine.animation.TranslateTimeline"]=rb;rb.__name__="com,workinman,display,spine,animation,TranslateTimeline".split(",");
rb.__super__=qa;rb.prototype=u(qa.prototype,{setFrame:function(a,b,c,d){a*=3;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d},apply:function(a,b,c,d,g){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.x+=(a.get_data().x+this.frames[this.frames.length-2]-a.x)*g,a.y+=(a.get_data().y+this.frames[this.frames.length-1]-a.y)*g;else{var b=ib.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=1-(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-
f),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.x+=(a.get_data().x+d+(this.frames[b+this.FRAME_X]-d)*c-a.x)*g;a.y+=(a.get_data().y+e+(this.frames[b+this.FRAME_Y]-e)*c-a.y)*g}},__class__:rb});var Od=function(a){rb.call(this,a)};j["com.workinman.display.spine.animation.ScaleTimeline"]=Od;Od.__name__="com,workinman,display,spine,animation,ScaleTimeline".split(",");Od.__super__=rb;Od.prototype=u(rb.prototype,{apply:function(a,b,c,d,g){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=
this.frames[this.frames.length-3])a.scaleX+=(a.get_data().scaleX*this.frames[this.frames.length-2]-a.scaleX)*g,a.scaleY+=(a.get_data().scaleY*this.frames[this.frames.length-1]-a.scaleY)*g;else{var b=ib.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=1-(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-f),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.scaleX+=(a.get_data().scaleX*(d+(this.frames[b+this.FRAME_X]-d)*c)-a.scaleX)*g;a.scaleY+=(a.get_data().scaleY*
(e+(this.frames[b+this.FRAME_Y]-e)*c)-a.scaleY)*g}},__class__:Od});var Pd=function(a){rb.call(this,a)};j["com.workinman.display.spine.animation.ShearTimeline"]=Pd;Pd.__name__="com,workinman,display,spine,animation,ShearTimeline".split(",");Pd.__super__=rb;Pd.prototype=u(rb.prototype,{apply:function(a,b,c,d,g){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.shearX+=(a.get_data().shearX+this.frames[this.frames.length-2]-a.shearX)*g,a.shearY+=(a.get_data().shearY+
this.frames[this.frames.length-1]-a.shearY)*g;else{var b=ib.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],f=this.frames[b],c=mg.clamp(1-(c-f)/(this.frames[b+this.PREV_FRAME_TIME]-f),0,1),c=this.getCurvePercent(Math.floor(b/3-1),c);a.shearX+=(a.get_data().shearX+(d+(this.frames[b+this.FRAME_X]-d)*c)-a.shearX)*g;a.shearY+=(a.get_data().shearY+(e+(this.frames[b+this.FRAME_Y]-e)*c)-a.shearY)*g}},__class__:Pd});var Wd=function(){this.timeScale=this.mix=1;this.lastTime=-1;this.time=
0};j["com.workinman.display.spine.animation.TrackEntry"]=Wd;Wd.__name__="com,workinman,display,spine,animation,TrackEntry".split(",");Wd.prototype={dispose:function(){this.onEvent=this.onComplete=this.onEnd=this.onStart=this.animation=this.previous=this.next=null},__class__:Wd};var Af=function(a,b){this.regions=[];this.pages=[];""!=a&&this.load(a,b)};j["com.workinman.display.spine.atlas.Atlas"]=Af;Af.__name__="com,workinman,display,spine,atlas,Atlas".split(",");Af.prototype={load:function(a,b){if(null==
b)throw new K("textureLoader cannot be null.");this.textureLoader=b;for(var c=new Ef(a),d=Ba.allocString(4),g=null;;){var e=c.readLine();if(null==e)break;e=c.trim(e);if(0==e.length)g=null;else if(null==g){g=new Ff;g.name=e;2==c.readTuple(d)&&(g.width=B.parseInt(d[0]),g.height=B.parseInt(d[1]),c.readTuple(d));g.format=d[0];c.readTuple(d);g.minFilter=d[0];g.magFilter=d[1];var f=c.readValue();g.uWrap="clampToEdge";g.vWrap="clampToEdge";"x"==f?g.uWrap="repeat":"y"==f?g.vWrap="repeat":"xy"==f&&(g.uWrap=
g.vWrap="repeat");b.loadPage(g,e);this.pages.push(g)}else{f=new yc;f.name=e;f.page=g;f.rotate="true"==c.readValue();c.readTuple(d);var e=B.parseInt(d[0]),h=B.parseInt(d[1]);c.readTuple(d);var i=B.parseInt(d[0]),j=B.parseInt(d[1]);f.u=e/g.width;f.v=h/g.height;f.rotate?(f.u2=(e+j)/g.width,f.v2=(h+i)/g.height):(f.u2=(e+i)/g.width,f.v2=(h+j)/g.height);f.x=e;f.y=h;f.width=Math.floor(Math.abs(i));f.height=Math.floor(Math.abs(j));4==c.readTuple(d)&&(f.splits=[B.parseInt(d[0]),B.parseInt(d[1]),B.parseInt(d[2]),
B.parseInt(d[3])],4==c.readTuple(d)&&(f.pads=[B.parseInt(d[0]),B.parseInt(d[1]),B.parseInt(d[2]),B.parseInt(d[3])],c.readTuple(d)));f.originalWidth=B.parseInt(d[0]);f.originalHeight=B.parseInt(d[1]);c.readTuple(d);f.offsetX=B.parseInt(d[0]);f.offsetY=B.parseInt(d[1]);f.index=B.parseInt(c.readValue());b.loadRegion(f);this.regions.push(f)}}},findRegion:function(a){for(var b=0,c=this.regions.length;b<c;){var d=b++;if(this.regions[d].name==a)return this.regions[d]}return null},__class__:Af};var Ef=function(a){this.index=
0;this.lines=(new tb("[ \t]*((\r\n)|\r|\n)[ \t]*","g")).split(a)};j["com.workinman.display.spine.atlas.Reader"]=Ef;Ef.__name__="com,workinman,display,spine,atlas,Reader".split(",");Ef.prototype={trim:function(a){return ba.trim(a)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw new K("Invalid line: "+a);return this.trim(a.substring(b+1))},readTuple:function(a){var b=this.readLine(),c=
b.indexOf(":");if(-1==c)throw new K("Invalid line: "+b);for(var d=0,c=c+1;3>d;){var g=b.indexOf(",",c);if(-1==g)break;a[d]=this.trim(H.substr(b,c,g-c));c=g+1;d++}a[d]=this.trim(b.substring(c));return d+1},__class__:Ef};var Ff=function(){};j["com.workinman.display.spine.atlas.AtlasPage"]=Ff;Ff.__name__="com,workinman,display,spine,atlas,AtlasPage".split(",");Ff.prototype={__class__:Ff};var yc=function(){};j["com.workinman.display.spine.atlas.AtlasRegion"]=yc;yc.__name__="com,workinman,display,spine,atlas,AtlasRegion".split(",");
yc.prototype={__class__:yc};var Gf=function(){};j["com.workinman.display.spine.atlas.TextureLoader"]=Gf;Gf.__name__="com,workinman,display,spine,atlas,TextureLoader".split(",");Gf.prototype={__class__:Gf};var Hf=function(){};j["com.workinman.display.spine.attachments.AttachmentLoader"]=Hf;Hf.__name__="com,workinman,display,spine,attachments,AttachmentLoader".split(",");Hf.prototype={__class__:Hf};var xb=function(a){if(null==a)throw new K("atlas cannot be null.");this.atlas=a};j["com.workinman.display.spine.attachments.AtlasAttachmentLoader"]=
xb;xb.__name__="com,workinman,display,spine,attachments,AtlasAttachmentLoader".split(",");xb.__interfaces__=[Hf];xb.nextPOT=function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};xb.prototype={newRegionAttachment:function(a,b,c){a=this.atlas.findRegion(c);if(null==a)throw new K("Region not found in atlas: "+c+" (region attachment: "+b+")");b=new fc(b);b.rendererObject=a;var c=a.page.width/xb.nextPOT(a.page.width),d=a.page.height/xb.nextPOT(a.page.height);b.setUVs(a.u*c,a.v*d,a.u2*c,a.v2*
d,a.rotate);b.regionOffsetX=a.offsetX;b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;b.regionOriginalHeight=a.originalHeight;return b},newMeshAttachment:function(a,b,c){a=this.atlas.findRegion(c);if(null==a)throw new K("Region not found in atlas: "+c+" (mesh attachment: "+b+")");b=new mb(b);b.rendererObject=a;return b},newWeightedMeshAttachment:function(a,b,c){a=this.atlas.findRegion(c);if(null==a)throw new K("Region not found in atlas: "+
c+" (weighted mesh attachment: "+b+")");b=new Kb(b);b.rendererObject=a;var c=a.page.width/xb.nextPOT(a.page.width),d=a.page.height/xb.nextPOT(a.page.height);b.regionU=a.u*c;b.regionV=a.v*d;b.regionU2=a.u2*c;b.regionV2=a.v2*d;b.regionRotate=a.rotate;b.regionOffsetX=a.offsetX;b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;b.regionOriginalHeight=a.originalHeight;return b},newBoundingBoxAttachment:function(a,b){return new zc(b)},__class__:xb};
var na=function(a){if(null==a)throw new K("name cannot be null.");this._name=a};j["com.workinman.display.spine.attachments.Attachment"]=na;na.__name__="com,workinman,display,spine,attachments,Attachment".split(",");na.prototype={dispose:function(){},get_name:function(){return this._name},__class__:na,__properties__:{get_name:"get_name"}};var zf=function(a,b){this.ordinal=a;this.name=b};j["com.workinman.display.spine.attachments.AttachmentType"]=zf;zf.__name__="com,workinman,display,spine,attachments,AttachmentType".split(",");
zf.prototype={__class__:zf};var zc=function(a){na.call(this,a);this.vertices=[]};j["com.workinman.display.spine.attachments.BoundingBoxAttachment"]=zc;zc.__name__="com,workinman,display,spine,attachments,BoundingBoxAttachment".split(",");zc.__super__=na;zc.prototype=u(na.prototype,{dispose:function(){na.prototype.dispose.call(this);this.vertices=null},computeWorldVertices:function(a,b,c,d){for(var a=a+c.get_worldX(),b=b+c.get_worldY(),g=c.get_a(),e=c.get_b(),f=c.get_c(),c=c.get_d(),h=this.vertices,
i=0,j=h.length;i<j;){var k=i+1,l=h[i],m=h[k];d[i]=l*g+m*e+a;d[k]=l*f+m*c+b;i+=2}},__class__:zc});var mb=function(a){this.r=this.g=this.b=this.a=1;na.call(this,a)};j["com.workinman.display.spine.attachments.MeshAttachment"]=mb;mb.__name__="com,workinman,display,spine,attachments,MeshAttachment".split(",");mb.__super__=na;mb.prototype=u(na.prototype,{dispose:function(){na.prototype.dispose.call(this);this.region=this.worldVertices=this.rendererObject=this.triangles=this.regionUVs=this.uvs=this.vertices=
null},updateUVs:function(){null==this.region&&(this.region=this.rendererObject);var a,b=this.regionUVs.length;if(null==this.uvs||this.uvs.length!=b)this.uvs=[];var c,d,g,e;null==this.region?(c=d=0,g=e=1):(c=this.region.u,d=this.region.v,g=this.region.u2-c,e=this.region.v2-d);var f=this.regionUVs;if(x.__instanceof(this.region,yc)&&x.__cast(this.region,yc).rotate)for(a=0;a<b;)this.uvs[a]=c+f[a+1]*g,this.uvs[a+1]=d+e-f[a]*e,a+=2;else for(a=0;a<b;)this.uvs[a]=c+f[a]*g,this.uvs[a+1]=d+f[a+1]*e,a+=2},updateWorldVertices:function(a){var b=
a.get_skeleton(),c=a.get_bone(),d=b.x+c.get_worldX(),b=b.y+c.get_worldY(),g=c.get_a(),e=c.get_b(),f=c.get_c(),c=c.get_d(),h=this.vertices,i=h.length;a.attachmentVertices.length==i&&(h=a.attachmentVertices);for(var a=[],j=0,k=0;k<i;){var l=h[j],m=h[j+1];a[k]=l*g+m*e+d;a[k+1]=l*f+m*c+b;j+=2;k+=2}return a},__class__:mb});var fc=function(a){this.uvs=[];this.offset=[];this.scaleX=this.scaleY=this.r=this.g=this.b=this.a=1;na.call(this,a);this.offset=Ba.allocFloat(8);this.uvs=Ba.allocFloat(8)};j["com.workinman.display.spine.attachments.RegionAttachment"]=
fc;fc.__name__="com,workinman,display,spine,attachments,RegionAttachment".split(",");fc.__super__=na;fc.prototype=u(na.prototype,{dispose:function(){na.prototype.dispose.call(this);this.rendererObject=null},setUVs:function(a,b,c,d,g){g?(this.uvs[2]=a,this.uvs[3]=d,this.uvs[4]=a,this.uvs[5]=b,this.uvs[6]=c,this.uvs[7]=b,this.uvs[0]=c,this.uvs[1]=d):(this.uvs[0]=a,this.uvs[1]=d,this.uvs[2]=a,this.uvs[3]=b,this.uvs[4]=c,this.uvs[5]=b,this.uvs[6]=c,this.uvs[7]=d)},updateOffset:function(){var a=this.width/
this.regionOriginalWidth*this.scaleX,b=this.height/this.regionOriginalHeight*this.scaleY,c=-this.width/2*this.scaleX+this.regionOffsetX*a,d=-this.height/2*this.scaleY+this.regionOffsetY*b,g=c+this.regionWidth*a,b=d+this.regionHeight*b,a=this.rotation*Math.PI/180,e=Math.cos(a),f=Math.sin(a),a=c*e+this.x,c=c*f,h=d*e+this.y,d=d*f,i=g*e+this.x,g=g*f,e=b*e+this.y,b=b*f;this.offset[0]=a-d;this.offset[1]=h+c;this.offset[2]=a-b;this.offset[3]=e+c;this.offset[4]=i-b;this.offset[5]=e+g;this.offset[6]=i-d;this.offset[7]=
h+g},computeWorldVertices:function(a,b,c,d){var a=a+c.get_worldX(),b=b+c.get_worldY(),g=c.get_a(),e=c.get_b(),f=c.get_c(),c=c.get_d(),h=this.offset[0],i=this.offset[1],j=this.offset[2],k=this.offset[3],l=this.offset[4],m=this.offset[5],n=this.offset[6],o=this.offset[7];d[0]=h*g+i*e+a;d[1]=h*f+i*c+b;d[2]=j*g+k*e+a;d[3]=j*f+k*c+b;d[4]=l*g+m*e+a;d[5]=l*f+m*c+b;d[6]=n*g+o*e+a;d[7]=n*f+o*c+b},__class__:fc});var Kb=function(a){this.r=this.g=this.b=this.a=1;na.call(this,a)};j["com.workinman.display.spine.attachments.WeightedMeshAttachment"]=
Kb;Kb.__name__="com,workinman,display,spine,attachments,WeightedMeshAttachment".split(",");Kb.__super__=na;Kb.prototype=u(na.prototype,{dispose:function(){na.prototype.dispose.call(this);this.rendererObject=this.triangles=this.regionUVs=this.uvs=this.weights=this.bones=null},updateUVs:function(){var a=this.regionU2-this.regionU,b=this.regionV2-this.regionV,c,d=this.regionUVs.length;if(null==this.uvs||this.uvs.length!=d)this.uvs=[];if(this.regionRotate)for(c=0;c<d;)this.uvs[c]=this.regionU+this.regionUVs[c+
1]*a,this.uvs[c+1]=this.regionV+b-this.regionUVs[c]*b,c+=2;else for(c=0;c<d;)this.uvs[c]=this.regionU+this.regionUVs[c]*a,this.uvs[c+1]=this.regionV+this.regionUVs[c+1]*b,c+=2},computeWorldVertices:function(a,b,c,d){var g=c.get_skeleton().bones,e=this.weights,f=this.bones,h=0,i=0,j=0,k=0,l=f.length,m,n,o,q,p,r;if(0==c.attachmentVertices.length)for(;i<l;){n=m=0;for(c=f[i++]+i;i<c;)o=g[f[i]],q=e[j],p=e[j+1],r=e[j+2],m+=(q*o.get_a()+p*o.get_b()+o.get_worldX())*r,n+=(q*o.get_c()+p*o.get_d()+o.get_worldY())*
r,i++,j+=3;d[h]=m+a;d[h+1]=n+b;h+=2}else for(var t=c.attachmentVertices;i<l;){n=m=0;for(c=f[i++]+i;i<c;)o=g[f[i]],q=e[j]+t[k],p=e[j+1]+t[k+1],r=e[j+2],m+=(q*o.get_a()+p*o.get_b()+o.get_worldX())*r,n+=(q*o.get_c()+p*o.get_d()+o.get_worldY())*r,i++,j+=3,k+=2;d[h]=m+a;d[h+1]=n+b;h+=2}},__class__:Kb});var Ud=function(a,b){this.prefix=a;this.pack=b};j["com.workinman.display.spine.platform.flambe.FlambeTextureLoader"]=Ud;Ud.__name__="com,workinman,display,spine,platform,flambe,FlambeTextureLoader".split(",");
Ud.__interfaces__=[Gf];Ud.prototype={loadPage:function(a,b){var c=this.pack.getTexture(this.prefix+La.removeFileExtension(b));a.rendererObject=c;a.width=c.get_width();a.height=c.get_height()},loadRegion:function(){},__class__:Ud};var Xd=function(a,b,c){this._w=this._h=0;T.call(this,{originX:0,originY:0});this.meshAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;this._flagRenderBoxes=c;a=this.region.rotate?this.region.height:this.region.width;b=this.region.rotate?
this.region.width:this.region.height;this._w=a;this._h=b};j["com.workinman.display.spine.platform.flambe.MeshSprite"]=Xd;Xd.__name__="com,workinman,display,spine,platform,flambe,MeshSprite".split(",");Xd.__super__=T;Xd.prototype=u(T.prototype,{dispose:function(){T.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.meshAttachment=null},_draw:function(a){var b=this.meshAttachment.uvs,c=this.meshAttachment.triangles,d=this.worldVertices;if(x.__instanceof(a,Va))for(var g=0;g<c.length;){var e=
2*c[g],f=d[e],h=d[e+1],i=b[e]*this.region.page.width,j=b[e+1]*this.region.page.height,e=2*c[g+1],k=d[e],l=d[e+1],m=b[e]*this.region.page.width,n=b[e+1]*this.region.page.height,e=2*c[g+2],o=d[e],q=d[e+1],p=b[e]*this.region.page.width,e=b[e+1]*this.region.page.height;a.canvasCtx.save();a.canvasCtx.beginPath();a.canvasCtx.moveTo(f,h);a.canvasCtx.lineTo(k,l);a.canvasCtx.lineTo(o,q);a.canvasCtx.closePath();this._flagRenderBoxes&&(a.canvasCtx.strokeStyle="#00FF00",a.canvasCtx.stroke());a.canvasCtx.clip();
var r=i*n+j*p+m*e-n*p-j*m-i*e;a.canvasCtx.transform((f*n+j*o+k*e-n*o-j*k-f*e)/r,(h*n+j*q+l*e-n*q-j*l-h*e)/r,(i*k+f*p+m*o-k*p-f*m-i*o)/r,(i*l+h*p+m*q-l*p-h*m-i*q)/r,(i*n*o+j*k*p+f*m*e-f*n*p-j*m*o-i*k*e)/r,(i*n*q+j*l*p+h*m*e-h*n*p-j*m*q-i*l*e)/r);a.canvasCtx.drawImage(this.atlas.root.image,0,0);a.canvasCtx.restore();g+=3}},get_width:function(){return this.region.width},get_height:function(){return this.region.height},__class__:Xd});var Yd=function(a,b){this._w=this._h=0;T.call(this,{originX:0,originY:0});
this.regionAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;var c;c=this.region.rotate?this.region.height:this.region.width;var d;d=this.region.rotate?this.region.width:this.region.height;this._w=c;this._h=d;this.rotation=-a.rotation;this.scaleX=a.scaleX*(a.width/this.region.originalWidth);this.scaleY=a.scaleY*(a.height/this.region.originalHeight);this.region.rotate&&(this.scaleY=a.scaleX*(a.width/this.region.originalWidth),this.scaleX=a.scaleY*(a.height/
this.region.originalHeight));var g=-a.rotation*Math.PI/180,e=Math.cos(g),g=Math.sin(g),f=-a.width/2*Math.abs(a.scaleX),h=-a.height/2*Math.abs(a.scaleY),i=this.region.offsetX*this.scaleX,j=(this.region.originalHeight-this.region.height-this.region.offsetY)*this.scaleY;0>a.scaleX&&(f=this.region.rotate?f-d*(a.width/this.region.originalWidth):a.width/2*Math.abs(a.scaleX));0>a.scaleY&&(h=this.region.rotate?h+c*(a.height/this.region.originalHeight):a.height/2*Math.abs(a.scaleY));this.region.rotate&&(this.rotation+=
90,f+=d*(a.width*Math.abs(a.scaleX)/this.region.originalWidth));this.set_x(a.x+f*e-h*g+i*e-j*g);this.set_y(-a.y+f*g+h*e+i*g+j*e)};j["com.workinman.display.spine.platform.flambe.RegionSprite"]=Yd;Yd.__name__="com,workinman,display,spine,platform,flambe,RegionSprite".split(",");Yd.__super__=T;Yd.prototype=u(T.prototype,{dispose:function(){T.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.regionAttachment=null},_draw:function(a){a.ctx.drawSubTexture(this.atlas,0,0,this.region.x,this.region.y,
this._w,this._h)},get_width:function(){return this.region.originalWidth},get_height:function(){return this.region.originalHeight},__class__:Yd});var Lb=function(a,b){null==b&&(b=!1);this.colorRegionBox=65280;this.colorBoundingBox=16711680;T.call(this,null);this._holder=new T(null);Jb.yDown=!0;this.skeleton=new tf(a);this.skeleton.updateWorldTransform();this._sprites=new Wa;this._regions=new Wa;this._meshes=new Wa;this._weightedMeshes=new Wa;this._flagRenderBoxes=b;this.drawSprites(!0);this.addChild(this._holder)};
j["com.workinman.display.spine.platform.flambe.SkeletonSprite"]=Lb;Lb.__name__="com,workinman,display,spine,platform,flambe,SkeletonSprite".split(",");Lb.__super__=T;Lb.prototype=u(T.prototype,{dispose:function(){null!=this._holder&&this.removeChild(this._holder);T.prototype.dispose.call(this);null!=this.skeleton&&this.skeleton.dispose();this.skeleton=null;null!=this._holder&&this._holder.dispose();this._weightedMeshes=this._meshes=this._regions=this._sprites=this._holder=null},_draw:function(){this.drawSprites(!1)},
drawSprites:function(a){for(var b=this._sprites.iterator();b.hasNext();)b.next().visible=!1;b=this.skeleton.drawOrder;a&&(b=this.skeleton.slots);for(var a=0,c=b.length;a<c;){var d=a++,d=b[d];if(null!=d.get_attachment())if(B.is(d.get_attachment(),fc)){var g;g=x.__cast(d.get_attachment(),fc);if(null!=g){var e=this._sprites.h[g.__id__];if(null==e){var f=new Yd(g,d),h=e=new gc;h.addChild(f);this._flagRenderBoxes&&this._renderBoxes(d,g,h);this._sprites.set(g,e);this._regions.set(g,f);this._holder.addChild(h)}this._holder.addChild(this._sprites.h[g.__id__]);
f=d.get_bone();e.visible=!0;e.a=f.get_a();e.b=f.get_b();e.c=f.get_c();e.d=f.get_d();e.e=f.get_worldX();e.f=f.get_worldY();e.alpha=this.skeleton.a*d.a*g.a;e=this.skeleton.g*d.g*g.g;f=this.skeleton.b*d.b*g.b;d="0x"+this.toHexColor(Math.floor(255*this.skeleton.r*d.r*g.r))+this.toHexColor(Math.floor(255*e))+this.toHexColor(Math.floor(255*f));this._regions.h[g.__id__].color=B.parseInt(d)}}else B.is(d.get_attachment(),mb)?(g=x.__cast(d.get_attachment(),mb),null!=g&&(e=this._sprites.h[g.__id__],null==e&&
(f=new Xd(g,d,this._flagRenderBoxes),h=e=new gc,h.addChild(f),this._sprites.set(g,e),this._meshes.set(g,f),this._holder.addChild(h)),this._holder.addChild(this._sprites.h[g.__id__]),f=g.updateWorldVertices(d,!0),this._meshes.h[g.__id__].worldVertices=f,e.visible=!0,e.alpha=this.skeleton.a*d.a*g.a)):B.is(d.get_attachment(),Kb)&&(g=x.__cast(d.get_attachment(),Kb),null!=g&&(e=this._sprites.h[g.__id__],null==e&&(f=new Zd(g,d),h=e=new gc,h.addChild(f),this._sprites.set(g,e),this._weightedMeshes.set(g,
f),this._holder.addChild(h)),f=Ba.allocFloat(g.uvs.length),g.computeWorldVertices(this.skeleton.x,this.skeleton.y,d,f),this._weightedMeshes.h[g.__id__].worldVertices=f,this._holder.addChild(this._sprites.h[g.__id__]),e.visible=!0,e.alpha=this.skeleton.a*d.a*g.a))}},_renderBoxes:function(a,b,c){var d,g=new Id,e;e=this.skeleton.flipX?-1:1;var f;f=this.skeleton.flipY?-1:1;e=a.get_bone().get_worldRotationX()*e*f;e=e*-Math.PI/180;f=0;for(var h=this.skeleton.slots.length;f<h;){var i=f++,j=this.skeleton.slots[i];
if(null!=this.skeleton.get_data().defaultSkin.get_attachments()[i])for(i=this.skeleton.get_data().defaultSkin.get_attachments()[i].iterator();i.hasNext();){var k=i.next(),l;try{l=x.__cast(k,zc)}catch(m){l=null}if(null!=l&&l.get_name()==b.get_name()){var k=0,n=l.vertices.length;g.vertices.splice(l.vertices.length,g.vertices.length-l.vertices.length);for(l.computeWorldVertices(this.skeleton.x,this.skeleton.y,j.get_bone(),g.vertices);k<n;){var o=k;d=k+2;k==n-2&&(d=0);var p=g.vertices[o]-j.get_bone().get_worldX(),
o=g.vertices[o+1]-j.get_bone().get_worldY(),q=g.vertices[d]-j.get_bone().get_worldX();d=g.vertices[d+1]-j.get_bone().get_worldY();var r=p,t=o,p=Math.cos(e)*r-Math.sin(e)*t,o=Math.sin(e)*r+Math.cos(e)*t,r=q,t=d,q=Math.cos(e)*r-Math.sin(e)*t;d=Math.sin(e)*r+Math.cos(e)*t;r=Math.abs(Math.sqrt((p-q)*(p-q)+(o-d)*(o-d)));q=180*Math.atan2(d-o,q-p)/Math.PI-90;d=new Ea({color:this.colorBoundingBox,sizeX:5,sizeY:Math.floor(r)});d.set_x(p);d.set_y(o);d.rotation=q;c.addChild(d);k+=2}}}}g=new Id;b.computeWorldVertices(this.skeleton.x,
this.skeleton.y,a.get_bone(),g.vertices);b=0;for(l=g.vertices.length;b<l;)h=b,i=b+2,b==l-2&&(i=0),f=g.vertices[h]-a.get_bone().get_worldX(),h=g.vertices[h+1]-a.get_bone().get_worldY(),j=g.vertices[i]-a.get_bone().get_worldX(),i=g.vertices[i+1]-a.get_bone().get_worldY(),k=f,n=h,f=Math.cos(e)*k-Math.sin(e)*n,h=Math.sin(e)*k+Math.cos(e)*n,k=j,n=i,j=Math.cos(e)*k-Math.sin(e)*n,i=Math.sin(e)*k+Math.cos(e)*n,0>a.get_bone().get_worldScaleX()&&(h*=-1,i*=-1),k=Math.abs(Math.sqrt((f-j)*(f-j)+(h-i)*(h-i))),
j=180*Math.atan2(i-h,j-f)/Math.PI-90,i=new Ea({color:this.colorRegionBox,sizeX:2,sizeY:Math.floor(k)}),i.set_x(f),i.set_y(h),i.rotation=j,c.addChild(i),b+=2},toHexColor:function(a){a=Math.max(0,Math.min(a,255));return"0123456789ABCDEF".charAt(Math.floor((a-a%16)/16))+"0123456789ABCDEF".charAt(Math.floor(a%16))},__class__:Lb});var Vd=function(a,b){null==b&&(b=!1);Lb.call(this,a,b)};j["com.workinman.display.spine.platform.flambe.SkeletonAnimation"]=Vd;Vd.__name__="com,workinman,display,spine,platform,flambe,SkeletonAnimation".split(",");
Vd.__super__=Lb;Vd.prototype=u(Lb.prototype,{dispose:function(){Lb.prototype.dispose.call(this)},__class__:Vd});var Df=function(a){this.regions=[];this.polygonPool=[];this.polygons=[];this._renderer=a};j["com.workinman.display.spine.platform.flambe.SkeletonRegions"]=Df;Df.__name__="com,workinman,display,spine,platform,flambe,SkeletonRegions".split(",");Df.prototype={dispose:function(){this._renderer=this.regions=null;for(var a=0,b=this.polygons;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.polygons=
null;a=0;for(b=this.polygonPool;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygonPool=null},__class__:Df};var Zd=function(a,b){this._w=this._h=0;T.call(this,{originX:0,originY:0});this.meshAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;var c;c=this.region.rotate?this.region.height:this.region.width;var d;d=this.region.rotate?this.region.width:this.region.height;this._w=c;this._h=d};j["com.workinman.display.spine.platform.flambe.WeightedMeshSprite"]=
Zd;Zd.__name__="com,workinman,display,spine,platform,flambe,WeightedMeshSprite".split(",");Zd.__super__=T;Zd.prototype=u(T.prototype,{dispose:function(){T.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.meshAttachment=null},_draw:function(a){var b=this.meshAttachment.uvs,c=this.meshAttachment.triangles,d=this.worldVertices;if(x.__instanceof(a,Va))for(var g=0;g<c.length;){var e=2*c[g],f=d[e],h=d[e+1],i=b[e]*this.region.page.width,j=b[e+1]*this.region.page.height,e=2*c[g+1],k=d[e],
l=d[e+1],m=b[e]*this.region.page.width,n=b[e+1]*this.region.page.height,e=2*c[g+2],o=d[e],q=d[e+1],p=b[e]*this.region.page.width,e=b[e+1]*this.region.page.height;a.canvasCtx.save();a.canvasCtx.beginPath();a.canvasCtx.moveTo(f,h);a.canvasCtx.lineTo(k,l);a.canvasCtx.lineTo(o,q);a.canvasCtx.closePath();a.canvasCtx.stroke();a.canvasCtx.clip();var r=i*n+j*p+m*e-n*p-j*m-i*e;a.canvasCtx.transform((f*n+j*o+k*e-n*o-j*k-f*e)/r,(h*n+j*q+l*e-n*q-j*l-h*e)/r,(i*k+f*p+m*o-k*p-f*m-i*o)/r,(i*l+h*p+m*q-l*p-h*m-i*q)/
r,(i*n*o+j*k*p+f*m*e-f*n*p-j*m*o-i*k*e)/r,(i*n*q+j*l*p+h*m*e-h*n*p-j*m*q-i*l*e)/r);a.canvasCtx.drawImage(this.atlas.root.image,0,0);a.canvasCtx.restore();g+=3}},get_width:function(){return this.region.width},get_height:function(){return this.region.height},__class__:Zd});var gc=function(){T.call(this,null);this.a=this.b=this.c=this.d=this.e=this.f=0};j["com.workinman.display.spine.platform.flambe.WrapperSprite"]=gc;gc.__name__="com,workinman,display,spine,platform,flambe,WrapperSprite".split(",");
gc.__super__=T;gc.prototype=u(T.prototype,{render:function(a){if(!1!=this.visible){this._matrix.set(this.a,this.c,-this.b,-this.d,this.e,this.f);null!=this.parent&&nb.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);a.ctx.save();1>this.alpha&&a.ctx.multiplyAlpha(this.alpha);a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);a.ctx.save();a.ctx.translate(-this.get_width()*this.originX+this.get_offsetX(),-this.get_height()*
this.originY+this.get_offsetY());this._draw(a);a.ctx.restore();for(var b=0,c=this.children.length;b<c;)this.children[b++].render(a,null);a.ctx.restore()}},__class__:gc});var fa=j["com.workinman.display.ui._ButtonBase.ButtonState"]={__ename__:"com,workinman,display,ui,_ButtonBase,ButtonState".split(","),__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};fa._STATE_UP=["_STATE_UP",0];fa._STATE_UP.toString=h;fa._STATE_UP.__enum__=fa;fa._STATE_DOWN=["_STATE_DOWN",1];fa._STATE_DOWN.toString=
h;fa._STATE_DOWN.__enum__=fa;fa._STATE_OVER=["_STATE_OVER",2];fa._STATE_OVER.toString=h;fa._STATE_OVER.__enum__=fa;fa._STATE_CLICK=["_STATE_CLICK",3];fa._STATE_CLICK.toString=h;fa._STATE_CLICK.__enum__=fa;fa.__empty_constructs__=[fa._STATE_UP,fa._STATE_DOWN,fa._STATE_OVER,fa._STATE_CLICK];var sb=j["com.workinman.display.ui.EventType"]={__ename__:["com","workinman","display","ui","EventType"],__constructs__:["EVENT_BASIC","EVENT_DATA"]};sb.EVENT_BASIC=["EVENT_BASIC",0];sb.EVENT_BASIC.toString=h;sb.EVENT_BASIC.__enum__=
sb;sb.EVENT_DATA=["EVENT_DATA",1];sb.EVENT_DATA.toString=h;sb.EVENT_DATA.__enum__=sb;sb.__empty_constructs__=[sb.EVENT_BASIC,sb.EVENT_DATA];var $d=function(a){O.call(this,a);this._targetID=""};j["com.workinman.display.ui.ButtonDynamic"]=$d;$d.__name__=["com","workinman","display","ui","ButtonDynamic"];$d.__super__=O;$d.prototype=u(O.prototype,{setEventWithData:function(a,b){this._event=a;this._eventType=sb.EVENT_DATA;this._eventData=b},_doClick:function(){if(this._flagEnabled&&(f.get_instance().dispatcher.dispatchEvent(Y.request(k.INPUT_LOSE_FOCUS)),
this._dispatch(k.BUTTON_CLICK),null!=this._event)){switch(this._eventType[1]){case 0:f.get_instance().dispatcher.dispatchEvent(Y.request(this._event));break;case 1:f.get_instance().dispatcher.dispatchEvent(Y.request(this._event,function(a){var b=new S;b.set("data",a._eventData);return b}(this)))}this._renderUp()}},__class__:$d});var we=function(a,b,c){this._screenId=a;this._changeEvent=b;this._action=c};j["com.workinman.display.ui.ChangeActionData"]=we;we.__name__=["com","workinman","display","ui",
"ChangeActionData"];we.prototype={get_screenId:function(){return this._screenId},get_changeEvent:function(){return this._changeEvent},get_action:function(){return this._action},__class__:we,__properties__:{get_action:"get_action",get_changeEvent:"get_changeEvent",get_screenId:"get_screenId"}};var ga=j["com.workinman.display.ui.SCREEN_STATE"]={__ename__:["com","workinman","display","ui","SCREEN_STATE"],__constructs__:["IN","OUT","OPENED"]};ga.IN=["IN",0];ga.IN.toString=h;ga.IN.__enum__=ga;ga.OUT=["OUT",
1];ga.OUT.toString=h;ga.OUT.__enum__=ga;ga.OPENED=["OPENED",2];ga.OPENED.toString=h;ga.OPENED.__enum__=ga;ga.__empty_constructs__=[ga.IN,ga.OUT,ga.OPENED];var te=function(a,b){this._root=a;this._screenData=new ta;this._screenOpen=new ta;this._screenRemoval=[];this._interfaceDelegate=b};j["com.workinman.display.ui.ScreenManager"]=te;te.__name__=["com","workinman","display","ui","ScreenManager"];te.prototype={addScreen:function(a,b){this._screenData.set(a,b);b},closeScreen:function(a,b){null==b&&(b=
!0);!1!=this._screenOpen.exists(a)&&(this._screenOpen.get(a).close(b),this._dispatchEventChange(ia.CLOSE_BEGIN,a))},openScreen:function(a){if(!1!=this._screenData.exists(a))if(this.isScreenOpen(a))this._root.addChild(this._screenOpen.get(a).get_root()),this._dispatchEventChange(ia.OPEN_BEGIN,a),this._dispatchEventChange(ia.OPEN_COMPLETE,a);else{var b=ea.createInstance(this._screenData.get(a),[a,this._root,p(this,this._onEventScreenOutput)]);null!=b&&(b.open(!0),this._screenOpen.set(a,b),b,this._dispatchEventChange(ia.OPEN_BEGIN,
a))}},changeScreenTo:function(a,b){null==b&&(b=!1);for(var c=this._screenOpen.keys();c.hasNext();){var d=c.next();d!=a&&this._screenOpen.get(d).close(b)}this.openScreen(a)},update:function(a){for(var b=this._screenOpen.iterator();b.hasNext();){var c=b.next();c.update(a);c.doDelete&&(this._screenRemoval.push(c.id),c.dispose())}for(;0<this._screenRemoval.length;)this._screenOpen.remove(this._screenRemoval.pop())},isScreenOpen:function(a){return this._screenOpen.exists(a)},_onEventScreenOutput:function(a,
b){switch(a[1]){case 0:this._dispatchEventChange(ia.OPEN_COMPLETE,b);break;case 1:this._dispatchEventChange(ia.CLOSE_COMPLETE,b)}},_dispatchEventChange:function(a,b){this._interfaceDelegate(a,b)},__class__:te};var pa=j["com.workinman.display.ui._SubtitleManager.SUB_STATE"]={__ename__:"com,workinman,display,ui,_SubtitleManager,SUB_STATE".split(","),__constructs__:["OFF","CHANGE_ON","CHANGE_OFF","ON"]};pa.OFF=["OFF",0];pa.OFF.toString=h;pa.OFF.__enum__=pa;pa.CHANGE_ON=["CHANGE_ON",1];pa.CHANGE_ON.toString=
h;pa.CHANGE_ON.__enum__=pa;pa.CHANGE_OFF=["CHANGE_OFF",2];pa.CHANGE_OFF.toString=h;pa.CHANGE_OFF.__enum__=pa;pa.ON=["ON",3];pa.ON.toString=h;pa.ON.__enum__=pa;pa.__empty_constructs__=[pa.OFF,pa.CHANGE_ON,pa.CHANGE_OFF,pa.ON];var ue=function(a){this._elementManager=new tc(a,0,0,!1,L.z__MAINUI);this._elementManager.addLayer(L.z__MAINUI);this._image=this._elementManager.addElement(new w({asset:"",y:280,originY:1}));this._text=this._elementManager.addElement(new R({text:"",y:260,originY:1,align:ma.Center,
wrapWidth:y.STAGE_WIDTH-100}));this._tween=Oa.request();this._setSubState(pa.ON)};j["com.workinman.display.ui.SubtitleManager"]=ue;ue.__name__=["com","workinman","display","ui","SubtitleManager"];ue.prototype={update:function(a){this._elementManager.update(a);this._tween.update(a);switch(this._subState[1]){case 3:0<this._timer&&(this._timer-=a)}if(0<f.get_instance().sound.subtitleQueue.length)a=f.get_instance().sound.subtitleQueue[0],a!=this._currentText&&f.get_instance().localize.subtitlesEnabled&&
(this._currentText=a,this._setSubtitle(this._currentText));else if(0>=this._timer)switch(this._subState[1]){case 3:case 1:this._setSubState(pa.CHANGE_OFF)}},_setSubState:function(a){var b=this;this._subState=a;switch(this._subState[1]){case 0:this._currentText="";this._image.visible=!1;this._image.alpha=0;this._text.visible=!1;this._text.alpha=0;break;case 1:this._image.visible=!0;this._text.visible=!0;this._tween.tween(this._image,0.2,{alpha:1},!0,n.LINEAR).onComplete(function(){b._setSubState(pa.ON)});
this._tween.tween(this._text,0.2,{alpha:1},!0,n.LINEAR);break;case 2:this._tween.tween(this._image,0.2,{alpha:0},!0,n.LINEAR).onComplete(function(){b._setSubState(pa.OFF)}),this._tween.tween(this._text,0.2,{alpha:0},!0,n.LINEAR)}},_setSubtitle:function(a){this._timer=f.get_instance().localize.getLocalizeData(a).subtitleTime;this._text.setText(a);switch(this._subState[1]){case 0:case 2:this._setSubState(pa.CHANGE_ON)}},__class__:ue};var zd=function(a){a.asset="";a.originY=1;w.call(this,a);var b=["1,2,3,4,5,6,7,8,9,0".split(","),
"Q,W,E,R,T,Y,U,I,O,P".split(","),"A,S,D,F,G,H,J,K,L,backspace".split(","),"Z,X,C,V,B,N,M,_,enter".split(",")],c,d,g=0,e=0;this._tween=a.tween;this._buttons=[];d="";for(var f=0,h=b.length;f<h;)for(var i=f++,g=-350,e=-270+77*i,j=0,l=b[i].length;j<l;){var m=j++;d=0==i||1<b[i][m].length?"button_"+b[i][m]:"button_key";2==i&&0<m&&(g-=2.5);3==i&&0<m&&(g-=2.5);"backspace"==b[i][m]?g+=9.75:"enter"==b[i][m]&&(g+=48.75);c=d;d+="_pressed";c=this.addElement(new $d({x:g,y:e,tween:this._tween,clear:a.buttonClear,
assetUp:c,assetDown:d}));c.setEventWithData(k.INPUT_ARBITRARY_KEY_BUTTON,{key:b[i][m],state:ca.DOWN});g+=78;this._buttons.push(c)}};j["com.workinman.display.ui.UIKeyboard"]=zd;zd.__name__=["com","workinman","display","ui","UIKeyboard"];zd.__super__=w;zd.prototype=u(w.prototype,{dispose:function(){w.prototype.dispose.call(this);this._buttons=this._tween=null},__class__:zd});var Y=function(){};j["com.workinman.events.WMEvent"]=Y;Y.__name__=["com","workinman","events","WMEvent"];Y.__interfaces__=[Qa];
Y.request=function(a,b){return f.get_instance().pool.requestObject("WMEvent",Y).init(a,b)};Y.__super__=G;Y.prototype=u(G.prototype,{init:function(a,b){this._eventId=a;this._data=b;return this},dispose:function(){this._data=null;G.prototype.dispose.call(this)},destroy:function(){this._data=null;G.prototype.destroy.call(this)},get_eventId:function(){return this._eventId},get_data:function(){return this._data},__class__:Y,__properties__:u(G.prototype.__properties__,{get_data:"get_data",get_eventId:"get_eventId"})});
var Ab=function(){};j["com.workinman.events.WMEventDispatcher"]=Ab;Ab.__name__=["com","workinman","events","WMEventDispatcher"];Ab.__interfaces__=[Qa];Ab.request=function(){return f.get_instance().pool.requestObject("WMEventDispatcher",Ab)};Ab.__super__=G;Ab.prototype=u(G.prototype,{create:function(){this._eventTrackers=new ta},dispose:function(){for(var a=this._eventTrackers.iterator();a.hasNext();)a.next().dispose();la.emptyMap(this._eventTrackers);G.prototype.dispose.call(this)},destroy:function(){this._eventTrackers=
null;G.prototype.destroy.call(this)},addEventListener:function(a,b){if(!this._eventTrackers.exists(a)){var c=Mb.request();this._eventTrackers.set(a,c)}this._eventTrackers.get(a).addEventListener(b)},removeEventListener:function(a,b){this._eventTrackers.exists(a)&&(this._eventTrackers.get(a).removeEventListener(b),this._eventTrackers.get(a).isEmtpy()&&(this._eventTrackers.get(a).dispose(),this._eventTrackers.remove(a)))},dispatchEvent:function(a){(function(b){var c=a.get_eventId();return b._eventTrackers.exists(c)})(this)&&
function(b){var c=a.get_eventId();return b._eventTrackers.get(c)}(this).dispatchEvent(a);a.dispose()},__class__:Ab});var Mb=function(){};j["com.workinman.events._WMEventDispatcher.WMEventTracker"]=Mb;Mb.__name__=["com","workinman","events","_WMEventDispatcher","WMEventTracker"];Mb.__interfaces__=[Qa];Mb.request=function(){return f.get_instance().pool.requestObject("WMEventTracker",Mb)};Mb.__super__=G;Mb.prototype=u(G.prototype,{create:function(){this._listeners=[]},dispose:function(){for(;0<this._listeners.length;)this._listeners.pop();
G.prototype.dispose.call(this)},destroy:function(){this._listeners=null;G.prototype.destroy.call(this)},addEventListener:function(a){for(var b=0,c=this._listeners;b<c.length;){var d=c[b];++b;if(q.compareMethods(d,a))return}this._listeners.push(a)},removeEventListener:function(a){for(var b=this._listeners.length;0<b--;)q.compareMethods(this._listeners[b],a)&&this._listeners.splice(b,1)},dispatchEvent:function(a){for(var b=0,c=this._listeners;b<c.length;){var d=c[b];++b;d(a)}},isEmtpy:function(){return 1>
this._listeners.length},__class__:Mb});var ae=function(a,b){this._success=a;this._result=N.request();this._line1=hb.request();this._line2=hb.request();null!=b&&this._result.toPoint(b)};j["com.workinman.math.InterceptResult"]=ae;ae.__name__=["com","workinman","math","InterceptResult"];ae.prototype={set_success:function(a){return this._success=a},set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);return this._result},__class__:ae,__properties__:{set_result:"set_result",set_success:"set_success"}};
var mf=function(a,b,c){this._worldRoot=a;this.worldCenterX=b;this.worldCenterY=c;this.focalLength=300;this.set_rotation(0);this.pos=N.request();this._scratchPoint=new $a};j["com.workinman.math.WMCamera"]=mf;mf.__name__=["com","workinman","math","WMCamera"];mf.prototype={dispose:function(){this.pos.dispose();this._scratchPoint=this.pos=null},set_rotation:function(a){this.rotation=a;this._worldRoot.rotation=a;return this.rotation},getWorldPositionOfScreenPoint:function(a,b,c,d){this._worldRoot.get_viewMatrix().inverseTransform(a,
b,this._scratchPoint);a=1/(this.focalLength/(this.focalLength-(this.pos.z-c)));d.x=this.pos.x+(this.worldCenterX+(this._scratchPoint.x-this.worldCenterX)*a);d.y=this.pos.y+(this.worldCenterY+(this._scratchPoint.y-this.worldCenterY)*a);return d},__class__:mf,__properties__:{set_rotation:"set_rotation"}};var hb=function(){};j["com.workinman.math.WMLine"]=hb;hb.__name__=["com","workinman","math","WMLine"];hb.__interfaces__=[Qa];hb.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);
null==a&&(a=0);return f.get_instance().pool.requestObject("WMLine",hb).init(a,b,c,d)};hb.__super__=G;hb.prototype=u(G.prototype,{init:function(a,b,c,d){this._p0=N.request();this._p1=N.request();this._normal=N.request();this._vector=N.request();this._parametricDenom=N.request();this.toFloats(a,b,c,d);this._calcProperties();return this},dispose:function(){this._p0.dispose();this._p0=null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;this._vector.dispose();this._vector=null;
this._parametricDenom.dispose();this._parametricDenom=null;G.prototype.dispose.call(this)},get_p0:function(){return this._p0},get_p1:function(){return this._p1},get_slope:function(){return this._slope},get_yIntercept:function(){return this._yIntercept},get_normal:function(){return this._normal},get_vector:function(){return this._vector},get_center:function(){return N.request(this._p0.x+this._vector.x/2,this._p0.y+this._vector.y/2)},get_centerX:function(){return this._p0.x+this._vector.x/2},get_centerY:function(){return this._p0.y+
this._vector.y/2},get_parametricDenom:function(){return this._parametricDenom},get_length:function(){return this._length},set_length:function(a){if(0==this.get_length())return this._length;this._p1.to(this._p0.x+this._vector.x*(a/this.get_length()),this._p0.y+this._vector.y*(a/this.get_length()));this._calcProperties();return this._length},recalculate:function(){this._calcProperties()},getNewPoint:function(a,b){null==b&&(b=N.request());b.to(this.get_p0().x+this._vector.x*a,this.get_p0().y+this._vector.y*
a);return b},equals:function(a){return a.get_p0().equals(this.get_p0())&&a.get_p1().equals(this.get_p1())},flip:function(){var a=this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},clean:function(){this._p0.clean();this._p1.clean();this._calcProperties()},copy:function(){return hb.request().to(this._p0,this._p1)},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());
this._p1.toPoint(a.get_p1());this._calcProperties();return this},toFloats:function(a,b,c,d){this._p0.to(a,b);this._p1.to(c,d);this._calcProperties();return this},originTo:function(a,b,c){null==c&&(c=0);this._p0.to(a,b,c);this._calcProperties();return this},originToPoint:function(a){this._p0.toPoint(a);this._calcProperties()},endTo:function(a,b,c){null==c&&(c=0);this._p1.to(a,b,c);this._calcProperties()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},rotate:function(a){this._vector.rotateTo(a);
this._p1.to(this._p0.x+this._vector.x,this._p0.y+this._vector.y);this._calcProperties();this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);this._p1.to(this._p0.x+this._vector.x,this._p0.y+this._vector.y);this._calcProperties()},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);b.dispose();this._calcProperties()},shiftEnd:function(a){this.set_length(this.get_length()+a)},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-
this._p1.x)*(this._p0.x-this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._slope=this._vector.y/this._vector.x;0==this.get_vector().x&&(this._slope=1E5);this._yIntercept=this.get_p0().y-this._slope*this.get_p0().x;this._parametricDenom.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._vector.pseudoCross(this._normal);this._normal.normalize()},testLineDot:function(a){return this._vector.dot(a.get_normal())},
projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return hb.request().to(a.get_p0(),a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*a.get_length()-b*b))))},testLineIntercept:function(a,b){null==b&&(b=new ae(!1));this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var c=N.request((-1*a.get_yIntercept()- -1*this._yIntercept)*this._inverseDeterminate,(a.get_slope()*this._yIntercept-this.get_slope()*a.get_yIntercept())*
this._inverseDeterminate,0);b.set_result(c);c.dispose();return b},testLineSegmentIntercept:function(a,b,c){var d=-a.get_vector().x*this._vector.y+this._vector.x*a.get_vector().y,g=this.get_p0().x-a.get_p0().x,e=this.get_p0().y-a.get_p0().y,b=(-this._vector.y*g+this._vector.x*e)/d,a=(a.get_vector().x*e-a.get_vector().y*g)/d;null==c&&(c=new ae(!1));c.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(c.set_success(!0),a=N.request(this.get_p0().x+a*this._vector.x,this.get_p0().y+a*this._vector.y),c.set_result(a),
a.dispose());return c},testPointSegmentIntercept:function(a,b){null==b&&(b=!1);this._xSegmentResult=0==this._parametricDenom.x?0:(a.x-this.get_p0().x)/this._parametricDenom.x;this._ySegmentResult=0==this._parametricDenom.y?0:(a.y-this.get_p0().y)/this._parametricDenom.y;b&&null;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},toString:function(){return"[WMLine] ("+this._p0.x+", "+this._p0.y+", "+this._p0.z+") ~> ("+this._p1.x+", "+this._p1.y+
", "+this._p1.z+") / Len: "+this._length},__class__:hb,__properties__:u(G.prototype.__properties__,{set_length:"set_length",get_length:"get_length",get_parametricDenom:"get_parametricDenom",get_centerY:"get_centerY",get_centerX:"get_centerX",get_center:"get_center",get_vector:"get_vector",get_normal:"get_normal",get_yIntercept:"get_yIntercept",get_slope:"get_slope",get_p1:"get_p1",get_p0:"get_p0"})});var mg=function(){};j["com.workinman.math.WMMath"]=mg;mg.__name__=["com","workinman","math","WMMath"];
mg.clamp=function(a,b,c,d){null==d&&(d=!1);d?a>c?a=b:a<b&&(a=c):a>c?a=c:a<b&&(a=b);return a};var N=function(){};j["com.workinman.math.WMPoint"]=N;N.__name__=["com","workinman","math","WMPoint"];N.request=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return f.get_instance().pool.requestObject("WMPoint",N).init(a,b,c)};N.__super__=G;N.prototype=u(G.prototype,{init:function(a,b,c){return this.to(a,b,c)},get_angle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},clean:function(){this.x=
Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*this.z)/1E3;return this},to:function(a,b,c){null==c&&(c=0);this.x=a;this.y=b;this.z=c;this.calculateLength();return this},toPoint:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.calculateLength();return this},add:function(a,b,c){null==c&&(c=0);this.x+=a;this.y+=b;this.z+=c;this.calculateLength();return this},addPoint:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.calculateLength();return this},addCopy:function(a,
b,c){null==c&&(c=0);return N.request(this.x+a,this.y+b,this.z+c)},addPointCopy:function(a){return N.request(this.x+a.x,this.y+a.y,this.z+a.z)},subtract:function(a,b,c){null==c&&(c=0);this.x-=a;this.y-=b;this.z-=c;this.calculateLength();return this},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength();return this},subtractCopy:function(a,b,c){null==c&&(c=0);return N.request(this.x-a,this.y-b,this.z-c)},subtractPointCopy:function(a){return N.request(this.x-a.x,this.y-
a.y,this.z-a.z)},multiply:function(a){this.x*=a;this.y*=a;this.z*=a;this.clean();this.calculateLength();return this},multiplyCopy:function(a){return N.request(this.x*a,this.y*a,this.z*a)},divide:function(a){this.x/=a;this.y/=a;this.z/=a;this.clean();this.calculateLength();return this},divideCopy:function(a){return N.request(this.x/a,this.y/a,this.z/a)},reverse:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},copy:function(){return N.request(this.x,this.y,this.z)},copyAndResize:function(a){return 0==
a?N.request(0,0):this.multiplyCopy(a/this._length)},equals:function(a){return this.x==a.x&&this.y==a.y&&this.z==a.z},get_length:function(){return this._length},set_length:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},reverseCopy:function(){return N.request(-1*this.x,-1*this.y,-1*this.z)},normalize:function(){if(0==this._length)return this;this.x/=this._length;this.y/=this._length;this.z/=this._length;this.calculateLength();
return this},normalizeTo:function(a){this.set_length(a);return this},normalizeCopy:function(){return 0==this._length?N.request(0,0,0):N.request(this.x/this._length,this.y/this._length,this.z/this._length)},normalizeCopyTo:function(a){if(0==this._length)return N.request(0,0,0);this._workFloat=a/this._length;return N.request(this.x*this._workFloat,this.y*this._workFloat,this.z*this._workFloat)},pseudoCross:function(a){a.to(this.y,-this.x,this.z);return this},calculateLength:function(){this._length=
Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this},rotate:function(a){a*=Math.PI/180;this._workFloat=this.x*Math.cos(a)-this.y*Math.sin(a);this.y=this.y*Math.cos(a)+this.x*Math.sin(a);this.x=this._workFloat;return this},rotateTo:function(a){this.rotate(a-this.get_angle());return this},getAngleBetween:function(a){return 0==a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.x*this.x+a.y*this.y)/(a.get_length()*this.get_length()))},rotateCopy:function(a){var b=Math.cos(a*
Math.PI/180),a=Math.sin(a*Math.PI/180);return N.request(this.x*b-this.y*a,this.x*a-this.y*b)},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.x*a.x+a.y*a.y);a.dispose();return b},toString:function(){return"{ WMPoint : "+this.x+" , "+this.y+" , "+this.z+" , len: "+this._length+"  }"},dot:function(a){return this.x*a.x+this.y*a.y},__class__:N,__properties__:u(G.prototype.__properties__,{get_normalizedMagnitude:"get_normalizedMagnitude",set_length:"set_length",get_length:"get_length",
get_angle:"get_angle"})});var Ca=j["com.workinman.math.Side"]={__ename__:["com","workinman","math","Side"],__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};Ca.TOP=["TOP",0];Ca.TOP.toString=h;Ca.TOP.__enum__=Ca;Ca.RIGHT=["RIGHT",1];Ca.RIGHT.toString=h;Ca.RIGHT.__enum__=Ca;Ca.BOTTOM=["BOTTOM",2];Ca.BOTTOM.toString=h;Ca.BOTTOM.__enum__=Ca;Ca.LEFT=["LEFT",3];Ca.LEFT.toString=h;Ca.LEFT.__enum__=Ca;Ca.__empty_constructs__=[Ca.TOP,Ca.RIGHT,Ca.BOTTOM,Ca.LEFT];var Pa=function(){};j["com.workinman.math.WMRectangle"]=
Pa;Pa.__name__=["com","workinman","math","WMRectangle"];Pa.__interfaces__=[Qa];Pa.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return f.get_instance().pool.requestObject("WMRectangle",Pa).init(a,b,c,d)};Pa.fromRectangle=function(a){return Pa.request(a.x,a.y,a.width,a.height)};Pa.__super__=G;Pa.prototype=u(G.prototype,{create:function(){this._workLine=null},init:function(a,b,c,d){this._x=a;this._y=b;this._width=c;this._height=d;return this},dispose:function(){null!=
this._workLine&&this._workLine.dispose();this._workLine=null;G.prototype.dispose.call(this)},_getWorkLine:function(){null==this._workLine&&(this._workLine=hb.request());return this._workLine},get_x:function(){return this._x},set_x:function(a){return this._x=a},get_y:function(){return this._y},set_y:function(a){return this._y=a},get_top:function(){return this._y},set_top:function(a){return this._y=a},get_left:function(){return this._x},set_left:function(a){return this._x=a},get_width:function(){return this._width},
set_width:function(a){return this._width=a},get_height:function(){return this._height},set_height:function(a){return this._height=a},get_bottom:function(){return this._y+this._height},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},get_right:function(){return this._x+this._width},set_right:function(a){this._x=a-this._width;return this.get_right()},get_centerX:function(){return this._x+this._width/2},set_centerX:function(a){this._x=a-this._width/2;return this.get_centerX()},
get_centerY:function(){return this._y+this._height/2},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},copy:function(){return Pa.request(this._x,this._y,this._width,this._height)},contains:function(a,b){return a<this.get_left()||a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},toXY:function(a,b){this.set_x(a);this.set_y(b)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXYWH:function(a,b,c,d){this.toXY(a,b);this.toWH(c,d)},containsPoint:function(a){return this.contains(a.x,
a.y)},intersects:function(a){return this.get_left()<a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()&&this.get_bottom()>a.get_top()},intersection:function(a){var b=Pa.request();if(this.intersects(a)){b.set_x(this.get_left()>a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var c;c=this.get_right()<a.get_right()?this.get_right():a.get_right();a=this.get_bottom()<a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(c-
b.get_x());b.set_height(a-b.get_y())}return b},_setSideLine:function(a){this._getWorkLine();switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),this.get_top(),this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_left(),this.get_bottom())}},
sideLineIntercept:function(a,b,c){null==this._workLine?(this._setSideLine(b),null):this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,c)},toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+this._width+" height: "+this._height+" }"},__class__:Pa,__properties__:u(G.prototype.__properties__,{set_centerY:"set_centerY",get_centerY:"get_centerY",set_centerX:"set_centerX",get_centerX:"get_centerX",set_right:"set_right",get_right:"get_right",set_bottom:"set_bottom",
get_bottom:"get_bottom",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_left:"set_left",get_left:"get_left",set_top:"set_top",get_top:"get_top",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var Pe=function(){this._sessions=new S;this._randomSeeds=new S};j["com.workinman.math.random.WMRandom"]=Pe;Pe.__name__=["com","workinman","math","random","WMRandom"];Pe.prototype={random:function(a){null==a&&(a="");return""==a||null==this._randomSeeds.get(a)?
Math.random():this._randomSeeds.get(a).random()},getRandomFloat:function(a,b,c){null==c&&(c="");return a+this.random(c)*(b-a)},getRandomInt:function(a,b,c){null==c&&(c="");return Math.floor(this.getRandomFloat(a,b+1,c))},__class__:Pe};var xg=function(){};j["com.workinman.math.random.WeightTracker"]=xg;xg.__name__=["com","workinman","math","random","WeightTracker"];var ng=function(){};j["com.workinman.math.random.WMSeededRandom"]=ng;ng.__name__=["com","workinman","math","random","WMSeededRandom"];
ng.prototype={get_seed:function(){return this._seed},set_seed:function(a){this._seed=a;return this.get_seed()},_randomInt:function(){return this.set_seed(16807*this.get_seed()%2147483647)&1073741823},random:function(){return this._randomInt()/1073741823},__class__:ng,__properties__:{set_seed:"set_seed",get_seed:"get_seed"}};var n=j["com.workinman.math.tween.EASE"]={__ename__:["com","workinman","math","tween","EASE"],__constructs__:"IN,QUAD_IN,OUT,QUAD_OUT,EASE_IN_OUT,QUAD,LINEAR,EXPO,EXPO_IN,EXPO_OUT,ELASTIC,ELASTIC_IN,ELASTIC_OUT,BUMP,BUMP_IN,BUMP_OUT,BOUNCE,BOUNCE_IN,BOUNCE_OUT,CUBIC,CUBIC_IN,CUBIC_OUT,SPACE,SPACE_IN,SPACE_OUT,BLAST,BLAST_IN,BLAST_OUT,WAVE,WAVE_IN,WAVE_OUT,CIRCLE,CIRCLE_IN,CIRCLE_OUT".split(",")};
n.IN=["IN",0];n.IN.toString=h;n.IN.__enum__=n;n.QUAD_IN=["QUAD_IN",1];n.QUAD_IN.toString=h;n.QUAD_IN.__enum__=n;n.OUT=["OUT",2];n.OUT.toString=h;n.OUT.__enum__=n;n.QUAD_OUT=["QUAD_OUT",3];n.QUAD_OUT.toString=h;n.QUAD_OUT.__enum__=n;n.EASE_IN_OUT=["EASE_IN_OUT",4];n.EASE_IN_OUT.toString=h;n.EASE_IN_OUT.__enum__=n;n.QUAD=["QUAD",5];n.QUAD.toString=h;n.QUAD.__enum__=n;n.LINEAR=["LINEAR",6];n.LINEAR.toString=h;n.LINEAR.__enum__=n;n.EXPO=["EXPO",7];n.EXPO.toString=h;n.EXPO.__enum__=n;n.EXPO_IN=["EXPO_IN",
8];n.EXPO_IN.toString=h;n.EXPO_IN.__enum__=n;n.EXPO_OUT=["EXPO_OUT",9];n.EXPO_OUT.toString=h;n.EXPO_OUT.__enum__=n;n.ELASTIC=["ELASTIC",10];n.ELASTIC.toString=h;n.ELASTIC.__enum__=n;n.ELASTIC_IN=["ELASTIC_IN",11];n.ELASTIC_IN.toString=h;n.ELASTIC_IN.__enum__=n;n.ELASTIC_OUT=["ELASTIC_OUT",12];n.ELASTIC_OUT.toString=h;n.ELASTIC_OUT.__enum__=n;n.BUMP=["BUMP",13];n.BUMP.toString=h;n.BUMP.__enum__=n;n.BUMP_IN=["BUMP_IN",14];n.BUMP_IN.toString=h;n.BUMP_IN.__enum__=n;n.BUMP_OUT=["BUMP_OUT",15];n.BUMP_OUT.toString=
h;n.BUMP_OUT.__enum__=n;n.BOUNCE=["BOUNCE",16];n.BOUNCE.toString=h;n.BOUNCE.__enum__=n;n.BOUNCE_IN=["BOUNCE_IN",17];n.BOUNCE_IN.toString=h;n.BOUNCE_IN.__enum__=n;n.BOUNCE_OUT=["BOUNCE_OUT",18];n.BOUNCE_OUT.toString=h;n.BOUNCE_OUT.__enum__=n;n.CUBIC=["CUBIC",19];n.CUBIC.toString=h;n.CUBIC.__enum__=n;n.CUBIC_IN=["CUBIC_IN",20];n.CUBIC_IN.toString=h;n.CUBIC_IN.__enum__=n;n.CUBIC_OUT=["CUBIC_OUT",21];n.CUBIC_OUT.toString=h;n.CUBIC_OUT.__enum__=n;n.SPACE=["SPACE",22];n.SPACE.toString=h;n.SPACE.__enum__=
n;n.SPACE_IN=["SPACE_IN",23];n.SPACE_IN.toString=h;n.SPACE_IN.__enum__=n;n.SPACE_OUT=["SPACE_OUT",24];n.SPACE_OUT.toString=h;n.SPACE_OUT.__enum__=n;n.BLAST=["BLAST",25];n.BLAST.toString=h;n.BLAST.__enum__=n;n.BLAST_IN=["BLAST_IN",26];n.BLAST_IN.toString=h;n.BLAST_IN.__enum__=n;n.BLAST_OUT=["BLAST_OUT",27];n.BLAST_OUT.toString=h;n.BLAST_OUT.__enum__=n;n.WAVE=["WAVE",28];n.WAVE.toString=h;n.WAVE.__enum__=n;n.WAVE_IN=["WAVE_IN",29];n.WAVE_IN.toString=h;n.WAVE_IN.__enum__=n;n.WAVE_OUT=["WAVE_OUT",30];
n.WAVE_OUT.toString=h;n.WAVE_OUT.__enum__=n;n.CIRCLE=["CIRCLE",31];n.CIRCLE.toString=h;n.CIRCLE.__enum__=n;n.CIRCLE_IN=["CIRCLE_IN",32];n.CIRCLE_IN.toString=h;n.CIRCLE_IN.__enum__=n;n.CIRCLE_OUT=["CIRCLE_OUT",33];n.CIRCLE_OUT.toString=h;n.CIRCLE_OUT.__enum__=n;n.__empty_constructs__=[n.IN,n.QUAD_IN,n.OUT,n.QUAD_OUT,n.EASE_IN_OUT,n.QUAD,n.LINEAR,n.EXPO,n.EXPO_IN,n.EXPO_OUT,n.ELASTIC,n.ELASTIC_IN,n.ELASTIC_OUT,n.BUMP,n.BUMP_IN,n.BUMP_OUT,n.BOUNCE,n.BOUNCE_IN,n.BOUNCE_OUT,n.CUBIC,n.CUBIC_IN,n.CUBIC_OUT,
n.SPACE,n.SPACE_IN,n.SPACE_OUT,n.BLAST,n.BLAST_IN,n.BLAST_OUT,n.WAVE,n.WAVE_IN,n.WAVE_OUT,n.CIRCLE,n.CIRCLE_IN,n.CIRCLE_OUT];var v=function(){};j["com.workinman.math.tween.PennerManager"]=v;v.__name__=["com","workinman","math","tween","PennerManager"];v.getEaseFunction=function(a){switch(a[1]){case 0:case 1:return v._tweenEaseIn;case 2:case 3:return v._tweenEaseOut;case 4:case 5:return v._tweenEaseBoth;case 7:return v._tweenExpoBoth;case 8:return v._tweenExpoIn;case 9:return v._tweenExpoOut;case 10:return v._tweenElasticBoth;
case 11:return v._tweenElasticIn;case 12:return v._tweenElasticOut;case 13:return v._tweenBumpBoth;case 14:return v._tweenBumpIn;case 15:return v._tweenBumpBoth;case 16:return v._tweenBounceBoth;case 17:return v._tweenBounceIn;case 18:return v._tweenBounceOut;case 19:return v._tweenCubicBoth;case 20:return v._tweenCubicIn;case 21:return v._tweenCubicOut;case 22:return v._tweenSpaceBoth;case 23:return v._tweenSpaceIn;case 24:return v._tweenSpaceOut;case 25:return v._tweenBlastBoth;case 26:return v._tweenBlastIn;
case 27:return v._tweenBlastOut;case 28:return v._tweenWaveBoth;case 29:return v._tweenWaveIn;case 30:return v._tweenWaveOut;case 31:return v._tweenCircleBoth;case 32:return v._tweenCircleIn;case 33:return v._tweenCircleOut;case 6:return v._tweenLinear}};v._tweenLinear=function(a,b,c,d){return a+c/d*b};v._tweenEaseBoth=function(a,b,c,d){return v._easeInOutQuad(c,a,b,d)};v._tweenEaseIn=function(a,b,c,d){return v._easeInQuad(c,a,b,d)};v._tweenEaseOut=function(a,b,c,d){return v._easeOutQuad(c,a,b,d)};
v._tweenExpoBoth=function(a,b,c,d){return v._easeInOutExpo(c,a,b,d)};v._tweenExpoIn=function(a,b,c,d){return v._easeInExpo(c,a,b,d)};v._tweenExpoOut=function(a,b,c,d){return v._easeOutExpo(c,a,b,d)};v._tweenElasticBoth=function(a,b,c,d){return v._easeInOutElastic(c,a,b,d)};v._tweenElasticIn=function(a,b,c,d){return v._easeInElastic(c,a,b,d)};v._tweenElasticOut=function(a,b,c,d){return v._easeOutElastic(c,a,b,d)};v._tweenBumpBoth=function(a,b,c,d){return v._easeInOutBack(c,a,b,d)};v._tweenBumpIn=function(a,
b,c,d){return v._easeInBack(c,a,b,d)};v._tweenBounceBoth=function(a,b,c,d){return v._easeInOutBounce(c,a,b,d)};v._tweenBounceIn=function(a,b,c,d){return v._easeInBounce(c,a,b,d)};v._tweenBounceOut=function(a,b,c,d){return v._easeOutBounce(c,a,b,d)};v._tweenCubicBoth=function(a,b,c,d){return v._easeInOutCubic(c,a,b,d)};v._tweenCubicIn=function(a,b,c,d){return v._easeInCubic(c,a,b,d)};v._tweenCubicOut=function(a,b,c,d){return v._easeOutCubic(c,a,b,d)};v._tweenSpaceBoth=function(a,b,c,d){return v._easeInOutQuart(c,
a,b,d)};v._tweenSpaceIn=function(a,b,c,d){return v._easeInQuart(c,a,b,d)};v._tweenSpaceOut=function(a,b,c,d){return v._easeOutQuart(c,a,b,d)};v._tweenBlastBoth=function(a,b,c,d){return v._easeInOutQuint(c,a,b,d)};v._tweenBlastIn=function(a,b,c,d){return v._easeInQuint(c,a,b,d)};v._tweenBlastOut=function(a,b,c,d){return v._easeOutQuint(c,a,b,d)};v._tweenWaveBoth=function(a,b,c,d){return v._easeInOutSine(c,a,b,d)};v._tweenWaveIn=function(a,b,c,d){return v._easeInSine(c,a,b,d)};v._tweenWaveOut=function(a,
b,c,d){return v._easeOutSine(c,a,b,d)};v._tweenCircleBoth=function(a,b,c,d){return v._easeInOutCirc(c,a,b,d)};v._tweenCircleIn=function(a,b,c,d){return v._easeInCirc(c,a,b,d)};v._tweenCircleOut=function(a,b,c,d){return v._easeOutCirc(c,a,b,d)};v._easeInQuad=function(a,b,c,d){return c*(a/=d)*a+b};v._easeOutQuad=function(a,b,c,d){return-c*(a/=d)*(a-2)+b};v._easeInOutQuad=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};v._easeInExpo=function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*
(a/d-1))+b};v._easeOutExpo=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b};v._easeInOutExpo=function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};v._easeInElastic=function(a,b,c,d){return v._easeInElasticL(a,b,c,d)};v._easeInElasticL=function(a,b,c,d,g,e){null==e&&(e=-0.123456);null==g&&(g=-0.123456);if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==e&&(e=0.3*d);-0.123456==g||g<Math.abs(c)?(g=c,c=e/4):c=e/(2*Math.PI)*Math.asin(c/
g);return-(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-c)*2*Math.PI/e))+b};v._easeOutElastic=function(a,b,c,d){return v._easeOutElasticL(a,b,c,d)};v._easeOutElasticL=function(a,b,c,d,g,e){null==e&&(e=-0.123456);null==g&&(g=-0.123456);var f;if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==e&&(e=0.3*d);-0.123456==g||g<Math.abs(c)?(g=c,f=e/4):f=e/(2*Math.PI)*Math.asin(c/g);return g*Math.pow(2,-10*a)*Math.sin((a*d-f)*2*Math.PI/e)+c+b};v._easeInOutElastic=function(a,b,c,d){return v._easeInOutElasticL(a,b,
c,d)};v._easeInOutElasticL=function(a,b,c,d,g,e){null==e&&(e=-0.123456);null==g&&(g=-0.123456);var f;if(0==a)return b;if(2==(a/=d/2))return b+c;-0.123456==e&&(e=0.44999999999999996*d);-0.123456==g||g<Math.abs(c)?(g=c,f=e/4):f=e/(2*Math.PI)*Math.asin(c/g);return 1>a?-0.5*g*Math.pow(2,10*(a-=1))*Math.sin((a*d-f)*2*Math.PI/e)+b:0.5*g*Math.pow(2,-10*(a-=1))*Math.sin((a*d-f)*2*Math.PI/e)+c+b};v._easeInBack=function(a,b,c,d){return v._easeInBackL(a,b,c,d)};v._easeInBackL=function(a,b,c,d,g){null==g&&(g=
-0.123456);-0.123456==g&&(g=1.70158);return c*(a/=d)*a*((g+1)*a-g)+b};v._easeInOutBack=function(a,b,c,d){return v._easeInOutBackL(a,b,c,d)};v._easeInOutBackL=function(a,b,c,d,g){null==g&&(g=-0.123456);-0.123456==g&&(g=1.70158);return 1>(a/=d/2)?c/2*a*a*(((g*=1.525)+1)*a-g)+b:c/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b};v._easeOutBounce=function(a,b,c,d){return 0.36363636363636365>(a/=d)?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>a?c*(7.5625*(a-=
0.8181818181818182)*a+0.9375)+b:c*(7.5625*(a-=0.9545454545454546)*a+0.984375)+b};v._easeInBounce=function(a,b,c,d){return c-v._easeOutBounce(d-a,0,c,d)+b};v._easeInOutBounce=function(a,b,c,d){return a<d/2?0.5*v._easeInBounce(2*a,0,c,d)+b:0.5*v._easeOutBounce(2*a-d,0,c,d)+0.5*c+b};v._easeInCubic=function(a,b,c,d){return c*(a/=d)*a*a+b};v._easeOutCubic=function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b};v._easeInOutCubic=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};v._easeInQuart=
function(a,b,c,d){return c*(a/=d)*a*a*a+b};v._easeOutQuart=function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b};v._easeInOutQuart=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};v._easeInQuint=function(a,b,c,d){return c*(a/=d)*a*a*a*a+b};v._easeOutQuint=function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b};v._easeInOutQuint=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};v._easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b};v._easeOutSine=
function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b};v._easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};v._easeInCirc=function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b};v._easeOutCirc=function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b};v._easeInOutCirc=function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b};var I=j["com.workinman.math.tween.TWEEN_DIR"]={__ename__:["com","workinman","math","tween","TWEEN_DIR"],__constructs__:"TOP,TOP_RIGHT,RIGHT,BOTTOM_RIGHT,BOTTOM,BOTTOM_LEFT,LEFT,TOP_LEFT".split(",")};
I.TOP=["TOP",0];I.TOP.toString=h;I.TOP.__enum__=I;I.TOP_RIGHT=["TOP_RIGHT",1];I.TOP_RIGHT.toString=h;I.TOP_RIGHT.__enum__=I;I.RIGHT=["RIGHT",2];I.RIGHT.toString=h;I.RIGHT.__enum__=I;I.BOTTOM_RIGHT=["BOTTOM_RIGHT",3];I.BOTTOM_RIGHT.toString=h;I.BOTTOM_RIGHT.__enum__=I;I.BOTTOM=["BOTTOM",4];I.BOTTOM.toString=h;I.BOTTOM.__enum__=I;I.BOTTOM_LEFT=["BOTTOM_LEFT",5];I.BOTTOM_LEFT.toString=h;I.BOTTOM_LEFT.__enum__=I;I.LEFT=["LEFT",6];I.LEFT.toString=h;I.LEFT.__enum__=I;I.TOP_LEFT=["TOP_LEFT",7];I.TOP_LEFT.toString=
h;I.TOP_LEFT.__enum__=I;I.__empty_constructs__=[I.TOP,I.TOP_RIGHT,I.RIGHT,I.BOTTOM_RIGHT,I.BOTTOM,I.BOTTOM_LEFT,I.LEFT,I.TOP_LEFT];var Nb=function(){};j["com.workinman.math.tween.WMTweenDef"]=Nb;Nb.__name__=["com","workinman","math","tween","WMTweenDef"];Nb.__interfaces__=[Qa];Nb.request=function(a,b,c,d,g){return f.get_instance().pool.requestObject("WMTweenDef",Nb).init(a,b,c,d,g)};Nb.__super__=G;Nb.prototype=u(G.prototype,{create:function(){this._fields=[]},init:function(a,b,c,d,g){this._target=
a;this._duration=b;this._delay=g;a=0;for(b=q.fields(c);a<b.length;)g=b[a],++a,this._fields.push(Ob.request(g,q.field(c,g)));this._easeFunction=v.getEaseFunction(null==d?n.LINEAR:d);this._isComplete=!1;this._completionHandler=null;this._progress=0;this._started=!1;return this},dispose:function(){for(;0<this._fields.length;)this._fields.pop().dispose();this._completionHandler=this._easeFunction=this._target=null;G.prototype.dispose.call(this)},destroy:function(){this._fields=null;G.prototype.destroy.call(this)},
_start:function(){this._isComplete=!1;this._started=!0;for(var a=0,b=this._fields;a<b.length;){var c=b[a];++a;q.hasField(this._target,c.get_name())?c.set_origin(q.field(this._target,c.get_name())):null!=q.getProperty(this._target,c.get_name())&&c.set_origin(q.getProperty(this._target,c.get_name()))}},update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;if(null==this._target)this._isComplete=!0;else if(!1==this._started&&this._start(),this._progress+=a,this._progress>this._duration&&
(this._progress=this._duration),this._ratio=Math.floor(1E3*(this._progress/this._duration))/1E3,this._progress>=this._duration){for(var a=0,b=this._fields;a<b.length;){var c=b[a];++a;q.setProperty(this._target,c.get_name(),c.get_dest())}null!=this._completionHandler&&this._completionHandler();this._isComplete=!0}else{a=0;for(b=this._fields;a<b.length;)c=b[a],++a,this._diff=c.get_dest()-c.get_origin(),q.setProperty(this._target,c.get_name(),this._easeFunction(c.get_origin(),this._diff,this._progress,
this._duration))}},get_isComplete:function(){return this._isComplete},set_isComplete:function(a){this._isComplete=a;return this.get_isComplete()},get_ratio:function(){return this._ratio},delay:function(a){this._delay=a;return this},ease:function(a){this._easeFunction=v.getEaseFunction(a);return this},onComplete:function(a){this._completionHandler=a;return this},__class__:Nb,__properties__:u(G.prototype.__properties__,{get_ratio:"get_ratio",set_isComplete:"set_isComplete",get_isComplete:"get_isComplete"})});
var Ob=function(){};j["com.workinman.math.tween.FieldStorage"]=Ob;Ob.__name__=["com","workinman","math","tween","FieldStorage"];Ob.__interfaces__=[Qa];Ob.request=function(a,b){return f.get_instance().pool.requestObject("FieldStorage",Ob).init(a,b)};Ob.__super__=G;Ob.prototype=u(G.prototype,{init:function(a,b){this._name=a;this._origin=0;this._dest=b;return this},dispose:function(){this._name=null;G.prototype.dispose.call(this)},get_name:function(){return this._name},get_origin:function(){return this._origin},
set_origin:function(a){return this._origin=a},get_dest:function(){return this._dest},__class__:Ob,__properties__:u(G.prototype.__properties__,{get_dest:"get_dest",set_origin:"set_origin",get_origin:"get_origin",get_name:"get_name"})});var D=function(){};j["com.workinman.math.tween.WMTweenUtils"]=D;D.__name__=["com","workinman","math","tween","WMTweenUtils"];D.__properties__={get__workPoint:"get__workPoint"};D.easeBounceIn=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!0);c&&(a.visible=!0,a.set_scale(0.1),
a.alpha=0);b.tween(a,0.15,{scale:1.1,alpha:1},!0,n.OUT,d);return b.tween(a,0.15,{scale:1},!1,n.IN)};D.easeBounceOut=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!1);c&&(a.visible=!0,a.set_scale(1),a.alpha=1);b.tween(a,0.15,{scale:1.1},!0,n.OUT,d);return b.tween(a,0.15,{scale:0.1,alpha:0},!1,n.IN)};D.easeSlideInFromDir=function(a,b,c,d){null==d&&(d=0);D.get__workPoint().toPoint(a.pos);D._modifyWorkPointByDir(c);return D.easeSlideIn(a,b,D.get__workPoint().x,D.get__workPoint().y,d)};D.easeSlideIn=function(a,
b,c,d,g){null==g&&(g=0);D.get__workPoint().toPoint(a.pos);a.pos.x=c;a.pos.y=d;a.visible=!0;a.alpha=1;return b.tween(a.pos,0.5,{x:D.get__workPoint().x,y:D.get__workPoint().y},!0,n.OUT,g)};D.easeSlideOutToDir=function(a,b,c,d){null==d&&(d=0);D.get__workPoint().toPoint(a.pos);D._modifyWorkPointByDir(c);return D.easeSlideOut(a,b,D.get__workPoint().x,D.get__workPoint().y,d)};D.easeSlideOut=function(a,b,c,d,g){null==g&&(g=0);a.visible=!0;a.alpha=1;return b.tween(a.pos,0.5,{x:c,y:d},!0,n.IN,g)};D.get__workPoint=
function(){null==D.__workPoint&&(D.__workPoint=N.request());return D.__workPoint};D._modifyWorkPointByDir=function(a){switch(a[1]){case 3:case 2:case 1:D.get__workPoint().x+=y.STAGE_WIDTH;break;case 5:case 6:case 7:D.get__workPoint().x-=y.STAGE_WIDTH}switch(a[1]){case 7:case 0:case 1:D.get__workPoint().y-=560;break;case 5:case 4:case 3:D.get__workPoint().y+=560}};var Oa=function(){};j["com.workinman.math.tween.WMTweener"]=Oa;Oa.__name__=["com","workinman","math","tween","WMTweener"];Oa.__interfaces__=
[Qa];Oa.__properties__={get__nullTarget:"get__nullTarget"};Oa.request=function(){return f.get_instance().pool.requestObject("WMTweener",Oa)};Oa.get__nullTarget=function(){null==Oa.__nullTarget&&(Oa.__nullTarget={});return Oa.__nullTarget};Oa.__super__=G;Oa.prototype=u(G.prototype,{create:function(){this._targets=[]},dispose:function(){for(;0<this._targets.length;)this._targets.pop().dispose();G.prototype.dispose.call(this)},destroy:function(){this._targets=null;G.prototype.destroy.call(this)},update:function(a){for(var b=
this._targets.length;0<b--;)this._targets[b].update(a),this._targets[b].get_isComplete()&&(this._targets[b].dispose(),this._targets.splice(b,1))},hasTween:function(a){for(var b=0,c=this._targets;b<c.length;){var d=c[b];++b;if(d.get_target()==a)return!0}return!1},tween:function(a,b,c,d,g,e,f){null==f&&(f="def");null==e&&(e=0);null==d&&(d=!1);b=Nb.request(a,b,c,g,e);c=0;for(g=this._targets;c<g.length;)if(e=g[c],++c,e.get_target()==a)return d&&e.clearTweens(f),e.addTween(b,f),b;a=ya.request(a);this._targets.push(a);
a.addTween(b,f);return b},stop:function(a){for(var b=this._targets.length;0<b--;)if(this._targets[b].get_target()==a){this._targets[b].dispose();this._targets.splice(b,1);break}},stopThread:function(a,b){for(var c=this._targets.length;0<c--;)if(this._targets[c].get_target()==a){this._targets[c].clearTweens(b);break}},stopAllTweens:function(){for(;0<this._targets.length;)this._targets.pop().dispose()},__class__:Oa});var ya=function(){};j["com.workinman.math.tween.WMTweenTracker"]=ya;ya.__name__=["com",
"workinman","math","tween","WMTweenTracker"];ya.__interfaces__=[Qa];ya.request=function(a){return f.get_instance().pool.requestObject("WMTweenTracker",ya).init(a)};ya.__super__=G;ya.prototype=u(G.prototype,{create:function(){this._tweens=new S},init:function(a){this._target=a;this._isComplete=!1;this._threadCount=0;return this},dispose:function(){this.clearAllTweens();this._target=null;G.prototype.dispose.call(this)},destroy:function(){this._tweens=null;G.prototype.destroy.call(this)},update:function(a){for(var b=
this._tweens.keys();b.hasNext();){var c=b.next();ya._tweenUpdate.push(c)}for(;0<ya._tweenUpdate.length;)this._updateThread(a,ya._tweenUpdate.pop());this._runRemoval();1>this._threadCount&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},_updateThread:function(a,b){1>this._tweens.get(b).length?ya._tweenRemoval.push(b):(this._tweens.get(b)[0].update(a),this._tweens.get(b)[0].get_isComplete()&&(this._tweens.get(b)[0].dispose(),this._tweens.get(b).splice(0,1),this._updateThread(a,
b)))},_dispatchTweensAllComplete:function(a){f.get_instance().dispatcher.dispatchEvent(Y.request(k.TWEENS_ALL_COMPLETE,function(){var b=new S;b.set("target",a);return b}(this)))},get_target:function(){return this._target},get_isComplete:function(){return this._isComplete},set_isComplete:function(a){return this._isComplete=a},clearAllTweens:function(){for(var a=this._tweens.keys();a.hasNext();){var b=a.next();ya._tweenUpdate.push(b)}for(;0<ya._tweenUpdate.length;)this.clearTweens(ya._tweenUpdate.pop())},
clearTweens:function(a){if(null!=this._tweens.get(a)){for(;0<this._tweens.get(a).length;)this._tweens.get(a).pop().dispose();ya._tweenRemoval.push(a);this._runRemoval()}},_runRemoval:function(){for(;0<ya._tweenRemoval.length;)this._tweens.remove(ya._tweenRemoval.pop()),this._threadCount--},addTween:function(a,b){if(null==this._tweens.get(b)){this._threadCount++;var c=[];this._tweens.set(b,c);c}this._tweens.get(b).push(a)},__class__:ya,__properties__:u(G.prototype.__properties__,{set_isComplete:"set_isComplete",
get_isComplete:"get_isComplete",get_target:"get_target"})});var Ke=function(){this._caches=new S;this._emptyParams=[]};j["com.workinman.pooling.CacheManager"]=Ke;Ke.__name__=["com","workinman","pooling","CacheManager"];Ke.prototype={dispose:function(){for(var a=this._caches.iterator();a.hasNext();)a.next().dispose();this._emptyParams=this._caches=null},addCache:function(a,b,c,d){null==d&&(d=0);b=new If(b,this._emptyParams,c,d);this._caches.set(a,b);b},processFill:function(a){for(var b=this._caches.iterator();b.hasNext();)if(!1==
b.next().fillCache(a))return!1;return!0},requestElement:function(a){return this._caches.get(a).requestElement()},__class__:Ke};var If=function(a,b,c,d){this._cache=[];this._initFill=c;this._type=a;this._emptyParams=b;this._totalFill=0;this._maxFill=d};j["com.workinman.pooling.ElementCache"]=If;If.__name__=["com","workinman","pooling","ElementCache"];If.prototype={dispose:function(){for(;0<this._cache.length;)this._cache.pop().destroy();this._emptyParams=this._type=this._cache=null},fillCache:function(a){for(var b;this._cache.length<
this._initFill;)if(this._totalFill++,b=ea.createInstance(this._type,this._emptyParams),b.setReturnFunction(p(this,this.returnFunction)),b.dispose(),0<a&&0>=a--)return!1;return!0},returnFunction:function(a){null==this._cache?a.destroy():this._cache.push(a)},requestElement:function(){var a;if(0<this._cache.length)a=this._cache.pop();else if(1>this._maxFill||this._totalFill<this._maxFill)this._totalFill++,a=ea.createInstance(this._type,this._emptyParams),a.setReturnFunction(p(this,this.returnFunction));
else return null;return a},__class__:If};var va=j["com.workinman.pooling.LOG_LEVEL"]={__ename__:["com","workinman","pooling","LOG_LEVEL"],__constructs__:["NONE","NO_STACK","NEW_STACK","ALL_STACK"]};va.NONE=["NONE",0];va.NONE.toString=h;va.NONE.__enum__=va;va.NO_STACK=["NO_STACK",1];va.NO_STACK.toString=h;va.NO_STACK.__enum__=va;va.NEW_STACK=["NEW_STACK",2];va.NEW_STACK.toString=h;va.NEW_STACK.__enum__=va;va.ALL_STACK=["ALL_STACK",3];va.ALL_STACK.toString=h;va.ALL_STACK.__enum__=va;va.__empty_constructs__=
[va.NONE,va.NO_STACK,va.NEW_STACK,va.ALL_STACK];var Le=function(){this._pools=new S};j["com.workinman.pooling.PoolStore"]=Le;Le.__name__=["com","workinman","pooling","PoolStore"];Le.prototype={_initPool:function(a,b,c,d){null==d&&(d=-1);!0!=this._pools.exists(a)&&(null==c&&(c=va.NONE),b=new Jf(b,c,d),this._pools.set(a,b))},requestObject:function(a,b,c,d){null==d&&(d=-1);this._testPool(a,b,c,d);c=this._pools.get(a);this._logCreate(a,c);if(0<c.get_numPooled())a=c.givePool(),a.poolActivate();else{c.incrementCreated();
if(0<c.get_cap()&&c.get_created()>c.get_cap())throw"Too many instances of "+B.string(b)+" allocated - currently at "+c.get_created();a=ea.createEmptyInstance(b).instance(a,p(this,this._returnObject))}return a},_logCreate:function(a,b){switch(b.get_log()[1]){case 1:null;break;case 2:1>b.get_numPooled()&&null;break;case 3:null}},_returnObject:function(a){if(!1!=this._pools.exists(a.get_poolKey())){var b;b=this._pools.get(a.get_poolKey());b.poolObject(a);this._logReturn(a.get_poolKey(),b)}},_logReturn:function(a,
b){switch(b.get_log()[1]){case 0:case 2:break;case 3:null;break;default:null}},_testPool:function(a,b,c,d){null==d&&(d=-1);!1==this._pools.exists(a)&&this._initPool(a,b,c,d)},tracePoolReport:function(){for(var a="\nPool Report:\n\n",b=0,c=this._pools.keys();c.hasNext();){var d=c.next(),a=a+("\t"+d+"\n"),b=this._pools.get(d).get_created()-this._pools.get(d).get_numPooled(),a=a+("\t\tTotal Created: "+this._pools.get(d).get_created()+" \t\tPool: "+this._pools.get(d).get_numPooled()+" \t\t\tLoose: "+
b+" \t\t\tChange: "+(b-this._pools.get(d).get_loose()));this._pools.get(d).set_loose(b);a+="\n"}null},__class__:Le};var Jf=function(a,b,c){this._pool=[];this._class=a;this._log=b;this._created=this._max=0;this._cap=c;this._loose=0};j["com.workinman.pooling.PoolTracker"]=Jf;Jf.__name__=["com","workinman","pooling","PoolTracker"];Jf.prototype={get_log:function(){return this._log},get_numPooled:function(){return this._pool.length},get_created:function(){return this._created},get_cap:function(){return this._cap},
get_loose:function(){return this._loose},set_loose:function(a){this._loose=a;return this.get_loose()},incrementCreated:function(){this._created++},poolObject:function(a){this._pool.push(a);this._max=Ua.max(this._max,this._pool.length)},givePool:function(){return this._pool.pop()},__class__:Jf,__properties__:{set_loose:"set_loose",get_loose:"get_loose",get_cap:"get_cap",get_created:"get_created",get_numPooled:"get_numPooled",get_log:"get_log"}};var $b=function(a){this.resetData();this.id=a};j["com.workinman.saving.WMSharedObject"]=
$b;$b.__name__=["com","workinman","saving","WMSharedObject"];$b.getLocal=function(a){var b=new $b(a);try{var c=window.localStorage.getItem(a);null!=c&&""!=c&&(b.data=Xa.run(c))}catch(d){null}return b};$b.prototype={resetData:function(){var a=new ta;a.set(m.MUSICIAN_1,1);1;a.set(m.MUSICIAN_2,1);1;a.set(m.MUSICIAN_3,1);1;a.set(m.MUSICIAN_4,1);1;a.set(m.MUSICIAN_5,1);1;a.set(m.VENUE_1,1);1;this.data=null;this.data={version:"-1",inventory:a,currency:0,currencyAllTime:0,songsCompleted:0,venue:0,tutoredStarPower:!1,
tutoredDuet:!1}},dispose:function(){this.id=this.data=null},flush:function(){try{window.localStorage.setItem(this.id,cb.run(this.data))}catch(a){null}},__class__:$b};var $=function(){};j["com.workinman.services.Services"]=$;$.__name__=["com","workinman","services","Services"];$.initMain=function(){};$.initServices=function(){};$.setPlaybackToggle=function(){};$.onBootstrapFinished=function(){};$.onPreloadFinished=function(){};$.onInitialFinished=function(){};$.onSplashPlay=function(){};$.onSplashClose=
function(){};$.onGameStart=function(){};$.onPlayAgain=function(){};$.onGameEnd=function(){};$.onPauseEvent=function(){};$.onResumeEvent=function(){};$.update=function(){};var la=function(){};j["com.workinman.utils.WMUtils"]=la;la.__name__=["com","workinman","utils","WMUtils"];la.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=H.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=H.substr(a,
b,a.length-b);return a=la.appendAssetsToUrl(a)};la.appendAssetsToUrl=function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};la.emptyMap=function(a){for(var b=a.keys();b.hasNext();){var c=b.next();la._mapEmpty.push(c)}for(;0<la._mapEmpty.length;)b=la._mapEmpty.pop(),a.remove(b)};la.removeExtension=function(a){var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};la.addStringToArrayWithoutDuplicates=function(a,b){for(var c=
0;c<b.length;){var d=b[c];++c;if(d==a)return}b.push(a)};la.getExtension=function(a){if(null==a)return"";var b=a.lastIndexOf(".");if(0>b)return"";var c=a.lastIndexOf("?");return c>b?a.substring(b+1,c):a.substring(b+1,a.length)};var be=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};j["flambe.Entity"]=be;be.__name__=["flambe","Entity"];be.__interfaces__=[qb];be.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];
null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==
b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&
this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:be};var og=function(){};j["flambe.util.PackageLog"]=og;og.__name__=["flambe","util","PackageLog"];var Kf=function(){};j["flambe.platform.Platform"]=Kf;Kf.__name__=["flambe","platform","Platform"];Kf.prototype={__class__:Kf};var Db=function(){};j["flambe.platform.html.HtmlPlatform"]=Db;Db.__name__=["flambe","platform","html","HtmlPlatform"];Db.__interfaces__=[Kf];Db.prototype={init:function(){var a=
this;P.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new Eb(b);this._pointer=new Ma;this._mouse=new ce(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new hc;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";
this._container.style.msTouchAction="none";var d=0,g=function(c){if(!(1E3>c.timeStamp-d)){var g=b.getBoundingClientRect(),e=a.getX(c,g),g=a.getY(c,g);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(e,g,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(e,g);break;case "mouseup":a._mouse.submitUp(e,g,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(e,g,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};
window.addEventListener("mousedown",g,!1);window.addEventListener("mousemove",g,!1);window.addEventListener("mouseup",g,!1);b.addEventListener("mousewheel",g,!1);b.addEventListener("DOMMouseScroll",g,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var e="undefined"!=typeof window.ontouchstart,g="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(e||g){var f=new de(this._pointer,e?4:window.navigator.msMaxTouchPoints);this._touch=f;g=function(b){var c;
c=e?b.changedTouches:[b];var g=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();P.SHOULD_HIDE_MOBILE_BROWSER&&P.hideMobileBrowser();for(b=0;b<c.length;){var h=c[b];++b;var i=a.getX(h,g),j=a.getY(h,g);f.submitDown((e?h.identifier:h.pointerId)|0,i,j)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)h=c[b],++b,i=a.getX(h,g),j=a.getY(h,g),f.submitMove((e?h.identifier:
h.pointerId)|0,i,j);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)h=c[b],++b,i=a.getX(h,g),j=a.getY(h,g),f.submitUp((e?h.identifier:h.pointerId)|0,i,j)}};e?(b.addEventListener("touchstart",g,!1),b.addEventListener("touchmove",g,!1),b.addEventListener("touchend",g,!1),b.addEventListener("touchcancel",g,!1)):(b.addEventListener("MSPointerDown",g,!1),b.addEventListener("MSPointerMove",g,!1),b.addEventListener("MSPointerUp",g,!1))}else this._touch=new ee;
var h=window.onerror;window.onerror=function(a,b,c){F.uncaughtError.emit(a);return null!=h?h(a,b,c):!1};var i=P.loadExtension("hidden",window.document);null!=i.value?(g=function(){F.hidden.set__(q.field(window.document,i.field))},g(null),window.document.addEventListener(i.prefix+"visibilitychange",g,!1)):(g=function(a){F.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",g,!1),window.addEventListener("pagehide",g,!1));F.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});
this._skipFrame=!1;this._lastUpdate=Date.now();var j=P.loadExtension("requestAnimationFrame").value;if(null!=j){var k=window.performance,l=null!=k&&P.polyfill("now",k);l?this._lastUpdate=k.now():null;var m=null,m=function(c){a.update(l?k.now():c);j(m,b)};j(m,b)}else window.setInterval(function(){a.update(Date.now())},16);Ac.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return(new da(this,a)).promise},getStage:function(){return this._stage},update:function(a){var b=
(a-this._lastUpdate)/1E3;this._lastUpdate=a;F.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new jb;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};
this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new ic(a)},__class__:Db};var Sa=function(a,b){this._value=a;this._changed=null!=b?new Bc(b):null};j["flambe.util.Value"]=Sa;Sa.__name__=["flambe","util",
"Value"];Sa.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},get__:function(){return this._value},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new Bc);return this._changed},__class__:Sa,__properties__:{get_changed:"get_changed",set__:"set__",get__:"get__"}};var jc=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=
!0};j["flambe.util.SignalConnection"]=jc;jc.__name__=["flambe","util","SignalConnection"];jc.__interfaces__=[qb];jc.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:jc};var Da=function(a){this._head=null!=a?new jc(this,a):null;this._deferredTasks=null};j["flambe.util.SignalBase"]=Da;Da.__name__=["flambe","util","SignalBase"];Da.prototype={connectImpl:function(a,b){var c=this,d=new jc(this,
a);this._head==Da.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},disconnect:function(a){var b=this;this._head==Da.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new Lf(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=Da.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;
for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:Da};var Bc=function(a){Da.call(this,a)};j["flambe.util.Signal2"]=Bc;Bc.__name__=["flambe","util","Signal2"];Bc.__super__=Da;Bc.prototype=u(Da.prototype,{connect:function(a,
b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==Da.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),d.stayInList||d.dispose(),d=d._next;this.didEmit(c)},__class__:Bc});var wa=function(a){Da.call(this,a)};j["flambe.util.Signal1"]=wa;wa.__name__=["flambe","util","Signal1"];wa.__super__=Da;wa.prototype=u(Da.prototype,{connect:function(a,b){null==b&&
(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==Da.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:wa});var Ra=function(a,b){this._behavior=null;Sa.call(this,a,b)};j["flambe.animation.AnimatedFloat"]=Ra;Ra.__name__=["flambe","animation","AnimatedFloat"];Ra.__super__=Sa;Ra.prototype=u(Sa.prototype,{set__:function(a){this._behavior=
null;return Sa.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(Sa.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},__class__:Ra});var F=function(){};j["flambe.System"]=F;F.__name__=["flambe","System"];F.init=function(){F._calledInit||(F._platform.init(),F._calledInit=!0)};var Ac=function(){};j["flambe.Log"]=Ac;Ac.__name__=["flambe","Log"];Ac.info=function(){null};Ac.__super__=og;Ac.prototype=u(og.prototype,{__class__:Ac});
var Mf=function(){this._realDt=0};j["flambe.SpeedAdjuster"]=Mf;Mf.__name__=["flambe","SpeedAdjuster"];Mf.__super__=Ja;Mf.prototype=u(Ja.prototype,{get_name:function(){return"SpeedAdjuster_3"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:Mf});var pg=function(){};j["flambe.animation.Behavior"]=pg;pg.__name__=["flambe","animation","Behavior"];pg.prototype={__class__:pg};var Pb=function(){};j["flambe.asset.Asset"]=Pb;Pb.__name__=["flambe","asset",
"Asset"];Pb.__interfaces__=[qb];Pb.prototype={__class__:Pb};var z=j["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};z.WEBP=["WEBP",0];z.WEBP.toString=h;z.WEBP.__enum__=z;z.JXR=["JXR",1];z.JXR.toString=h;z.JXR.__enum__=z;z.PNG=["PNG",2];z.PNG.toString=h;z.PNG.__enum__=z;z.JPG=["JPG",3];z.JPG.toString=h;z.JPG.__enum__=z;z.GIF=["GIF",4];z.GIF.toString=h;z.GIF.__enum__=z;z.DDS=["DDS",5];z.DDS.toString=
h;z.DDS.__enum__=z;z.PVR=["PVR",6];z.PVR.toString=h;z.PVR.__enum__=z;z.PKM=["PKM",7];z.PKM.toString=h;z.PKM.__enum__=z;z.MP3=["MP3",8];z.MP3.toString=h;z.MP3.__enum__=z;z.M4A=["M4A",9];z.M4A.toString=h;z.M4A.__enum__=z;z.OPUS=["OPUS",10];z.OPUS.toString=h;z.OPUS.__enum__=z;z.OGG=["OGG",11];z.OGG.toString=h;z.OGG.__enum__=z;z.WAV=["WAV",12];z.WAV.toString=h;z.WAV.__enum__=z;z.Data=["Data",13];z.Data.toString=h;z.Data.__enum__=z;z.__empty_constructs__=[z.WEBP,z.JXR,z.PNG,z.JPG,z.GIF,z.DDS,z.PVR,z.PKM,
z.MP3,z.M4A,z.OPUS,z.OGG,z.WAV,z.Data];var Nf=function(a,b,c,d){this.name=a;this.url=b;this.format=c;this.bytes=d};j["flambe.asset.AssetEntry"]=Nf;Nf.__name__=["flambe","asset","AssetEntry"];Nf.prototype={__class__:Nf};var fe=function(){};j["flambe.asset.AssetPack"]=fe;fe.__name__=["flambe","asset","AssetPack"];fe.__interfaces__=[qb];fe.prototype={__class__:fe};var ge=function(){};j["flambe.asset.File"]=ge;ge.__name__=["flambe","asset","File"];ge.__interfaces__=[Pb];ge.prototype={__class__:ge};var bb=
function(){this._localBase=this._remoteBase=null;this._entries=[]};j["flambe.asset.Manifest"]=bb;bb.__name__=["flambe","asset","Manifest"];bb.fromAssets=function(a,b){null==b&&(b=!0);var c=q.field(qg.getType(bb).assets[0],a);if(null==c){if(b)throw La.withFields("Missing asset pack",["name",a]);return null}var d=new bb;d.set_localBase("assets");for(var g=0;g<c.length;){var e=c[g];++g;var f=e.name,h=a+"/"+f+"?v="+B.string(e.md5),i=bb.inferFormat(f);i!=z.Data&&(f=La.removeFileExtension(f));d.add(f,h,
e.bytes,i)}return d};bb.inferFormat=function(a){a=La.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return z.GIF;case "jpg":case "jpeg":return z.JPG;case "jxr":case "wdp":return z.JXR;case "png":return z.PNG;case "webp":return z.WEBP;case "dds":return z.DDS;case "pvr":return z.PVR;case "pkm":return z.PKM;case "m4a":return z.M4A;case "mp3":return z.MP3;case "ogg":return z.OGG;case "opus":return z.OPUS;case "wav":return z.WAV}else null;return z.Data};bb.prototype={add:function(a,b,
c,d){null==c&&(c=0);null==d&&(d=bb.inferFormat(b));a=new Nf(a,b,d,c);this._entries.push(a);return a},iterator:function(){return H.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&bb._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?La.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&Of.that(!ba.startsWith(a,"http://")&&!ba.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",
null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&Of.that(ba.startsWith(a,"http://")||ba.startsWith(a,"https://"),"remoteBase must be on a remote domain, starting with http(s)://",null);return this._remoteBase=a},__class__:bb,__properties__:{set_remoteBase:"set_remoteBase",get_remoteBase:"get_remoteBase",set_localBase:"set_localBase",get_localBase:"get_localBase"}};var V=j["flambe.display.BlendMode"]={__ename__:["flambe","display",
"BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};V.Normal=["Normal",0];V.Normal.toString=h;V.Normal.__enum__=V;V.Add=["Add",1];V.Add.toString=h;V.Add.__enum__=V;V.Multiply=["Multiply",2];V.Multiply.toString=h;V.Multiply.__enum__=V;V.Screen=["Screen",3];V.Screen.toString=h;V.Screen.__enum__=V;V.Mask=["Mask",4];V.Mask.toString=h;V.Mask.__enum__=V;V.Copy=["Copy",5];V.Copy.toString=h;V.Copy.__enum__=V;V.__empty_constructs__=[V.Normal,V.Add,V.Multiply,V.Screen,V.Mask,V.Copy];
var he=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};j["flambe.display.Glyph"]=he;he.__name__=["flambe","display","Glyph"];he.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?B["int"](this._kernings.get(a)):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=
new db);this._kernings.set(a,b)},__class__:he};var Hb=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};j["flambe.display.Font"]=Hb;Hb.__name__=["flambe","display","Font"];Hb.prototype={layoutText:function(a,b,c,d,g){null==g&&(g=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=ma.Left);return new Qb(this,a,b,c,d,g)},reload:function(){this._glyphs=new db;this._glyphs.set(Hb.NEWLINE.charCode,Hb.NEWLINE);for(var a=new kc(this._file.toString()),b=new db,c=this.name.lastIndexOf("/"),
c=0<=c?H.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "info":for(var g=a.pairs();g.hasNext();){var e=g.next();switch(e.key){case "size":this.size=e.getInt()}}break;case "common":for(g=a.pairs();g.hasNext();)switch(e=g.next(),e.key){case "lineHeight":this.lineHeight=e.getInt()}break;case "page":for(var g=0,e=null,f=a.pairs();f.hasNext();){var h=f.next();switch(h.key){case "id":g=h.getInt();break;case "file":e=h.getString()}}e=this._pack.getTexture(c+La.removeFileExtension(e));
b.set(g,e);break;case "char":g=null;for(e=a.pairs();e.hasNext();)switch(f=e.next(),f.key){case "id":g=new he(f.getInt());break;case "x":g.x=f.getInt();break;case "y":g.y=f.getInt();break;case "width":g.width=f.getInt();break;case "height":g.height=f.getInt();break;case "page":f=f.getInt();g.page=b.get(f);break;case "xoffset":g.xOffset=f.getInt();break;case "yoffset":g.yOffset=f.getInt();break;case "xadvance":g.xAdvance=f.getInt()}this._glyphs.set(g.charCode,g);break;case "kerning":g=null;f=e=0;for(h=
a.pairs();h.hasNext();){var i=h.next();switch(i.key){case "first":g=this._glyphs.get(i.getInt());break;case "second":e=i.getInt();break;case "amount":f=i.getInt()}}null!=g&&0!=f&&g.setKerning(e,f)}},__class__:Hb};var ma=j["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};ma.Left=["Left",0];ma.Left.toString=h;ma.Left.__enum__=ma;ma.Center=["Center",1];ma.Center.toString=h;ma.Center.__enum__=ma;ma.Right=["Right",2];ma.Right.toString=h;
ma.Right.__enum__=ma;ma.__empty_constructs__=[ma.Left,ma.Center,ma.Right];var Qb=function(a,b,c,d,g,e){this.lines=0;var f=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+e);this.bounds=new Pf;for(var h=[],e=b.length,i=0;i<e;){var j=i++,j=b.charCodeAt(j),j=a._glyphs.get(j);null!=j?this._glyphs.push(j):null}for(var b=-1,k=0,l=0,a=a._glyphs.get(10),e=function(){f.bounds.width=Ua.max(f.bounds.width,k);f.bounds.height+=l;h[f.lines]=k;l=k=0;++f.lines},i=0;i<this._glyphs.length;){j=
this._glyphs[i];this._offsets[i]=Math.round(k);var m=0<d&&k+j.width>d;m||j==a?(m&&(0<=b?(this._glyphs[b]=a,k=this._offsets[b],i=b):this._glyphs.splice(i,0,a)),b=-1,l=this._lineOffset,e()):(32==j.charCode&&(b=i),k+=j.xAdvance+g,l=Ua.max(l,j.height+j.yOffset),i+1<this._glyphs.length&&(k+=j.getKerning(this._glyphs[i+1].charCode)));++i}e();g=0;a=Qb.getAlignOffset(c,h[0],d);b=1.79769313486231E308;e=-1.79769313486231E308;j=i=0;for(m=this._glyphs.length;j<m;){var n=this._glyphs[j];10==n.charCode&&(g+=this._lineOffset,
++i,a=Qb.getAlignOffset(c,h[i],d));this._offsets[j]+=a;var o=g+n.yOffset;b<o||(b=o);e=Ua.max(e,o+n.height);++j}this.bounds.x=Qb.getAlignOffset(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=e-b};j["flambe.display.TextLayout"]=Qb;Qb.__name__=["flambe","display","TextLayout"];Qb.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};Qb.prototype={draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var g=this._glyphs[c];10==
g.charCode?b+=this._lineOffset:g.draw(a,this._offsets[c],b);++c}},__class__:Qb};var kc=function(a){this._configText=a;this._keywordPattern=new tb("([A-Za-z]+)(.*)","");this._pairPattern=new tb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};j["flambe.display._Font.ConfigParser"]=kc;kc.__name__=["flambe","display","_Font","ConfigParser"];kc.advance=function(a,b){var c=b.matchedPos();return H.substr(a,c.pos+c.len,a.length)};kc.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=
kc.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=kc.advance(b,a._pairPattern);return new Qf(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:kc};var Qf=function(a,b){this.key=a;this._value=b};j["flambe.display._Font.ConfigPair"]=Qf;Qf.__name__=["flambe",
"display","_Font","ConfigPair"];Qf.prototype={getInt:function(){return B.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:H.substr(this._value,1,this._value.length-2)},__class__:Qf};var Rf=function(){};j["flambe.display.Graphics"]=Rf;Rf.__name__=["flambe","display","Graphics"];Rf.prototype={__class__:Rf};var kb=j["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};kb.Portrait=["Portrait",0];kb.Portrait.toString=
h;kb.Portrait.__enum__=kb;kb.Landscape=["Landscape",1];kb.Landscape.toString=h;kb.Landscape.__enum__=kb;kb.__empty_constructs__=[kb.Portrait,kb.Landscape];var ie=function(){};j["flambe.display.Texture"]=ie;ie.__name__=["flambe","display","Texture"];ie.__interfaces__=[Pb];ie.prototype={__class__:ie};var rg=function(){};j["flambe.display.SubTexture"]=rg;rg.__name__=["flambe","display","SubTexture"];rg.__interfaces__=[ie];var e=j["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
e.A=["A",0];e.A.toString=h;e.A.__enum__=e;e.B=["B",1];e.B.toString=h;e.B.__enum__=e;e.C=["C",2];e.C.toString=h;e.C.__enum__=e;e.D=["D",3];e.D.toString=h;e.D.__enum__=e;e.E=["E",4];e.E.toString=h;e.E.__enum__=e;e.F=["F",5];e.F.toString=h;e.F.__enum__=e;e.G=["G",6];e.G.toString=h;e.G.__enum__=e;e.H=["H",7];e.H.toString=h;e.H.__enum__=e;e.I=["I",8];e.I.toString=h;e.I.__enum__=e;e.J=["J",9];e.J.toString=h;e.J.__enum__=e;e.K=["K",10];e.K.toString=h;e.K.__enum__=e;e.L=["L",11];e.L.toString=h;e.L.__enum__=
e;e.M=["M",12];e.M.toString=h;e.M.__enum__=e;e.N=["N",13];e.N.toString=h;e.N.__enum__=e;e.O=["O",14];e.O.toString=h;e.O.__enum__=e;e.P=["P",15];e.P.toString=h;e.P.__enum__=e;e.Q=["Q",16];e.Q.toString=h;e.Q.__enum__=e;e.R=["R",17];e.R.toString=h;e.R.__enum__=e;e.S=["S",18];e.S.toString=h;e.S.__enum__=e;e.T=["T",19];e.T.toString=h;e.T.__enum__=e;e.U=["U",20];e.U.toString=h;e.U.__enum__=e;e.V=["V",21];e.V.toString=h;e.V.__enum__=e;e.W=["W",22];e.W.toString=h;e.W.__enum__=e;e.X=["X",23];e.X.toString=
h;e.X.__enum__=e;e.Y=["Y",24];e.Y.toString=h;e.Y.__enum__=e;e.Z=["Z",25];e.Z.toString=h;e.Z.__enum__=e;e.Number0=["Number0",26];e.Number0.toString=h;e.Number0.__enum__=e;e.Number1=["Number1",27];e.Number1.toString=h;e.Number1.__enum__=e;e.Number2=["Number2",28];e.Number2.toString=h;e.Number2.__enum__=e;e.Number3=["Number3",29];e.Number3.toString=h;e.Number3.__enum__=e;e.Number4=["Number4",30];e.Number4.toString=h;e.Number4.__enum__=e;e.Number5=["Number5",31];e.Number5.toString=h;e.Number5.__enum__=
e;e.Number6=["Number6",32];e.Number6.toString=h;e.Number6.__enum__=e;e.Number7=["Number7",33];e.Number7.toString=h;e.Number7.__enum__=e;e.Number8=["Number8",34];e.Number8.toString=h;e.Number8.__enum__=e;e.Number9=["Number9",35];e.Number9.toString=h;e.Number9.__enum__=e;e.Numpad0=["Numpad0",36];e.Numpad0.toString=h;e.Numpad0.__enum__=e;e.Numpad1=["Numpad1",37];e.Numpad1.toString=h;e.Numpad1.__enum__=e;e.Numpad2=["Numpad2",38];e.Numpad2.toString=h;e.Numpad2.__enum__=e;e.Numpad3=["Numpad3",39];e.Numpad3.toString=
h;e.Numpad3.__enum__=e;e.Numpad4=["Numpad4",40];e.Numpad4.toString=h;e.Numpad4.__enum__=e;e.Numpad5=["Numpad5",41];e.Numpad5.toString=h;e.Numpad5.__enum__=e;e.Numpad6=["Numpad6",42];e.Numpad6.toString=h;e.Numpad6.__enum__=e;e.Numpad7=["Numpad7",43];e.Numpad7.toString=h;e.Numpad7.__enum__=e;e.Numpad8=["Numpad8",44];e.Numpad8.toString=h;e.Numpad8.__enum__=e;e.Numpad9=["Numpad9",45];e.Numpad9.toString=h;e.Numpad9.__enum__=e;e.NumpadAdd=["NumpadAdd",46];e.NumpadAdd.toString=h;e.NumpadAdd.__enum__=e;e.NumpadDecimal=
["NumpadDecimal",47];e.NumpadDecimal.toString=h;e.NumpadDecimal.__enum__=e;e.NumpadDivide=["NumpadDivide",48];e.NumpadDivide.toString=h;e.NumpadDivide.__enum__=e;e.NumpadEnter=["NumpadEnter",49];e.NumpadEnter.toString=h;e.NumpadEnter.__enum__=e;e.NumpadMultiply=["NumpadMultiply",50];e.NumpadMultiply.toString=h;e.NumpadMultiply.__enum__=e;e.NumpadSubtract=["NumpadSubtract",51];e.NumpadSubtract.toString=h;e.NumpadSubtract.__enum__=e;e.F1=["F1",52];e.F1.toString=h;e.F1.__enum__=e;e.F2=["F2",53];e.F2.toString=
h;e.F2.__enum__=e;e.F3=["F3",54];e.F3.toString=h;e.F3.__enum__=e;e.F4=["F4",55];e.F4.toString=h;e.F4.__enum__=e;e.F5=["F5",56];e.F5.toString=h;e.F5.__enum__=e;e.F6=["F6",57];e.F6.toString=h;e.F6.__enum__=e;e.F7=["F7",58];e.F7.toString=h;e.F7.__enum__=e;e.F8=["F8",59];e.F8.toString=h;e.F8.__enum__=e;e.F9=["F9",60];e.F9.toString=h;e.F9.__enum__=e;e.F10=["F10",61];e.F10.toString=h;e.F10.__enum__=e;e.F11=["F11",62];e.F11.toString=h;e.F11.__enum__=e;e.F12=["F12",63];e.F12.toString=h;e.F12.__enum__=e;e.F13=
["F13",64];e.F13.toString=h;e.F13.__enum__=e;e.F14=["F14",65];e.F14.toString=h;e.F14.__enum__=e;e.F15=["F15",66];e.F15.toString=h;e.F15.__enum__=e;e.Left=["Left",67];e.Left.toString=h;e.Left.__enum__=e;e.Up=["Up",68];e.Up.toString=h;e.Up.__enum__=e;e.Right=["Right",69];e.Right.toString=h;e.Right.__enum__=e;e.Down=["Down",70];e.Down.toString=h;e.Down.__enum__=e;e.Alt=["Alt",71];e.Alt.toString=h;e.Alt.__enum__=e;e.Backquote=["Backquote",72];e.Backquote.toString=h;e.Backquote.__enum__=e;e.Backslash=
["Backslash",73];e.Backslash.toString=h;e.Backslash.__enum__=e;e.Backspace=["Backspace",74];e.Backspace.toString=h;e.Backspace.__enum__=e;e.CapsLock=["CapsLock",75];e.CapsLock.toString=h;e.CapsLock.__enum__=e;e.Comma=["Comma",76];e.Comma.toString=h;e.Comma.__enum__=e;e.Command=["Command",77];e.Command.toString=h;e.Command.__enum__=e;e.Control=["Control",78];e.Control.toString=h;e.Control.__enum__=e;e.Delete=["Delete",79];e.Delete.toString=h;e.Delete.__enum__=e;e.End=["End",80];e.End.toString=h;e.End.__enum__=
e;e.Enter=["Enter",81];e.Enter.toString=h;e.Enter.__enum__=e;e.Equals=["Equals",82];e.Equals.toString=h;e.Equals.__enum__=e;e.Escape=["Escape",83];e.Escape.toString=h;e.Escape.__enum__=e;e.Home=["Home",84];e.Home.toString=h;e.Home.__enum__=e;e.Insert=["Insert",85];e.Insert.toString=h;e.Insert.__enum__=e;e.LeftBracket=["LeftBracket",86];e.LeftBracket.toString=h;e.LeftBracket.__enum__=e;e.Minus=["Minus",87];e.Minus.toString=h;e.Minus.__enum__=e;e.PageDown=["PageDown",88];e.PageDown.toString=h;e.PageDown.__enum__=
e;e.PageUp=["PageUp",89];e.PageUp.toString=h;e.PageUp.__enum__=e;e.Period=["Period",90];e.Period.toString=h;e.Period.__enum__=e;e.Quote=["Quote",91];e.Quote.toString=h;e.Quote.__enum__=e;e.RightBracket=["RightBracket",92];e.RightBracket.toString=h;e.RightBracket.__enum__=e;e.Semicolon=["Semicolon",93];e.Semicolon.toString=h;e.Semicolon.__enum__=e;e.Shift=["Shift",94];e.Shift.toString=h;e.Shift.__enum__=e;e.Slash=["Slash",95];e.Slash.toString=h;e.Slash.__enum__=e;e.Space=["Space",96];e.Space.toString=
h;e.Space.__enum__=e;e.Tab=["Tab",97];e.Tab.toString=h;e.Tab.__enum__=e;e.Menu=["Menu",98];e.Menu.toString=h;e.Menu.__enum__=e;e.Search=["Search",99];e.Search.toString=h;e.Search.__enum__=e;e.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e;a.toString=h;return a};e.__empty_constructs__=[e.A,e.B,e.C,e.D,e.E,e.F,e.G,e.H,e.I,e.J,e.K,e.L,e.M,e.N,e.O,e.P,e.Q,e.R,e.S,e.T,e.U,e.V,e.W,e.X,e.Y,e.Z,e.Number0,e.Number1,e.Number2,e.Number3,e.Number4,e.Number5,e.Number6,e.Number7,e.Number8,e.Number9,e.Numpad0,
e.Numpad1,e.Numpad2,e.Numpad3,e.Numpad4,e.Numpad5,e.Numpad6,e.Numpad7,e.Numpad8,e.Numpad9,e.NumpadAdd,e.NumpadDecimal,e.NumpadDivide,e.NumpadEnter,e.NumpadMultiply,e.NumpadSubtract,e.F1,e.F2,e.F3,e.F4,e.F5,e.F6,e.F7,e.F8,e.F9,e.F10,e.F11,e.F12,e.F13,e.F14,e.F15,e.Left,e.Up,e.Right,e.Down,e.Alt,e.Backquote,e.Backslash,e.Backspace,e.CapsLock,e.Comma,e.Command,e.Control,e.Delete,e.End,e.Enter,e.Equals,e.Escape,e.Home,e.Insert,e.LeftBracket,e.Minus,e.PageDown,e.PageUp,e.Period,e.Quote,e.RightBracket,
e.Semicolon,e.Shift,e.Slash,e.Space,e.Tab,e.Menu,e.Search];var Sf=function(){this.init(0,null)};j["flambe.input.KeyboardEvent"]=Sf;Sf.__name__=["flambe","input","KeyboardEvent"];Sf.prototype={init:function(a,b){this.id=a;this.key=b},__class__:Sf};var xa=j["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};xa.Left=["Left",0];xa.Left.toString=h;xa.Left.__enum__=xa;xa.Middle=["Middle",1];xa.Middle.toString=h;xa.Middle.__enum__=
xa;xa.Right=["Right",2];xa.Right.toString=h;xa.Right.__enum__=xa;xa.Unknown=function(a){a=["Unknown",3,a];a.__enum__=xa;a.toString=h;return a};xa.__empty_constructs__=[xa.Left,xa.Middle,xa.Right];var Ta=j["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};Ta.Default=["Default",0];Ta.Default.toString=h;Ta.Default.__enum__=Ta;Ta.Button=["Button",1];Ta.Button.toString=h;Ta.Button.__enum__=Ta;Ta.None=["None",2];Ta.None.toString=h;Ta.None.__enum__=
Ta;Ta.__empty_constructs__=[Ta.Default,Ta.Button,Ta.None];var Tf=function(){this.init(0,0,0,null)};j["flambe.input.MouseEvent"]=Tf;Tf.__name__=["flambe","input","MouseEvent"];Tf.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:Tf};var Cc=j["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};Cc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Cc;a.toString=h;return a};Cc.Touch=function(a){a=["Touch",1,a];
a.__enum__=Cc;a.toString=h;return a};Cc.__empty_constructs__=[];var Uf=function(){this.init(0,0,0,null,null)};j["flambe.input.PointerEvent"]=Uf;Uf.__name__=["flambe","input","PointerEvent"];Uf.prototype={init:function(a,b,c,d,g){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=g;this._stopped=!1},__class__:Uf};var Vf=function(a){this.id=a;this._source=Cc.Touch(this)};j["flambe.input.TouchPoint"]=Vf;Vf.__name__=["flambe","input","TouchPoint"];Vf.prototype={init:function(a,b){this.viewX=a;
this.viewY=b},__class__:Vf};var Ua=function(){};j["flambe.math.FMath"]=Ua;Ua.__name__=["flambe","math","FMath"];Ua.max=function(a,b){return a>b?a:b};Ua.clamp=function(a,b,c){return a<b?b:a>c?c:a};var nb=function(){this.identity()};j["flambe.math.Matrix"]=nb;nb.__name__=["flambe","math","Matrix"];nb.multiply=function(a,b,c){null==c&&(c=new nb);var d=a.m00*b.m00+a.m01*b.m10,g=a.m00*b.m01+a.m01*b.m11,e=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=g;c.m02=e;d=a.m10*b.m00+a.m11*b.m10;g=a.m10*b.m01+a.m11*
b.m11;e=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=g;c.m12=e;return c};nb.prototype={set:function(a,b,c,d,g,e){this.m00=a;this.m01=c;this.m02=g;this.m10=b;this.m11=d;this.m12=e},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,g){var e=Math.sin(g),g=Math.cos(g);this.set(g*c,e*c,-e*d,g*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=
this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},__class__:nb};var Pf=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};j["flambe.math.Rectangle"]=Pf;Pf.__name__=["flambe","math","Rectangle"];Pf.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;
b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:Pf};var Na=function(){this._disposed=!1};j["flambe.platform.BasicAsset"]=Na;Na.__name__=["flambe","platform","BasicAsset"];Na.__interfaces__=[Pb];Na.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:Na};var Rb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new je;this._bytesLoaded=new S;
this._pack=new ke(b,this);var d=Kc.array(b);if(0==d.length)this.handleSuccess();else{for(var g=new S,e=0;e<d.length;){var f=d[e];++e;var h=g.get(f.name);null==h&&(h=[],g.set(f.name,h));h.push(f)}this._assetsRemaining=Kc.count(g);for(d=g.iterator();d.hasNext();)g=[d.next()],this.pickBestEntry(g[0],function(a){return function(d){if(null!=d){var e=b.getFullURL(d);try{c.loadEntry(e,d)}catch(g){c.handleError(d,"Unexpected error: "+B.string(g))}e=c.promise;e.set_total(e._total+d.bytes)}else d=a[0][0],Rb.isAudio(d.format)?
c.handleLoad(d,eb.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(g))}};j["flambe.platform.BasicAssetPackLoader"]=Rb;Rb.__name__=["flambe","platform","BasicAssetPackLoader"];Rb.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Rb.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var e=c[d];++d;for(var f=0;f<a.length;){var h=a[f];++f;if(h.format==e){b(h);
return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,
b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(La.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Rb};var ke=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new S;this.sounds=new S;this.files=new S};
j["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=ke;ke.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];ke.__interfaces__=[fe];ke.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw La.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw La.withFields("Missing sound",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);
if(null==c&&b)throw La.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},get_manifest:function(){return this._manifest},__class__:ke,__properties__:{get_manifest:"get_manifest"}};var Dc=
function(a){this._disposed=!1;this._content=a};j["flambe.platform.BasicFile"]=Dc;Dc.__name__=["flambe","platform","BasicFile"];Dc.__interfaces__=[ge];Dc.__super__=Na;Dc.prototype=u(Na.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:Dc});var Wf=function(){};j["flambe.subsystem.KeyboardSystem"]=Wf;Wf.__name__=["flambe","subsystem","KeyboardSystem"];Wf.prototype={__class__:Wf};var jb=function(){this.down=new wa;this.up=new wa;this.backButton=new lc;
this._keyStates=new db};j["flambe.platform.BasicKeyboard"]=jb;jb.__name__=["flambe","platform","BasicKeyboard"];jb.__interfaces__=[Wf];jb.prototype={isDown:function(a){return this.isCodeDown(Ec.toKeyCode(a))},isCodeDown:function(a){return this._keyStates.exists(a)},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),jb._sharedEvent.init(jb._sharedEvent.id+1,Ec.toKey(a)),this.down.emit(jb._sharedEvent));
return!0},submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),jb._sharedEvent.init(jb._sharedEvent.id+1,Ec.toKey(a)),this.up.emit(jb._sharedEvent))},__class__:jb};var Xf=function(){};j["flambe.subsystem.MouseSystem"]=Xf;Xf.__name__=["flambe","subsystem","MouseSystem"];Xf.prototype={__class__:Xf};var Ya=function(a){this._pointer=a;this._source=Cc.Mouse(Ya._sharedEvent);this.down=new wa;this.move=new wa;this.up=new wa;this.scroll=new wa;this._y=this._x=0;this._cursor=Ta.Default;
this._buttonStates=new db};j["flambe.platform.BasicMouse"]=Ya;Ya.__name__=["flambe","platform","BasicMouse"];Ya.__interfaces__=[Xf];Ya.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,Yf.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(Ya._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(Ya._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&
(this._buttonStates.remove(c),this.prepare(a,b,Yf.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(Ya._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;Ya._sharedEvent.init(Ya._sharedEvent.id+1,a,b,c)},__class__:Ya};var Zf=function(){};j["flambe.subsystem.PointerSystem"]=Zf;Zf.__name__=["flambe","subsystem","PointerSystem"];Zf.prototype={__class__:Zf};var Ma=
function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new wa;this.move=new wa;this.up=new wa;this._x=a;this._y=b;this._isDown=c};j["flambe.platform.BasicPointer"]=Ma;Ma.__name__=["flambe","platform","BasicPointer"];Ma.__interfaces__=[Zf];Ma.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],e=sa.hitTest(F.root,a,b);if(null!=e){var f=e.owner;do{var h=f._compMap.Sprite_0;null!=h&&d.push(h);f=f.parent}while(null!=f)}this.prepare(a,
b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(Ma._sharedEvent),Ma._sharedEvent._stopped)return;this.down.emit(Ma._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var d=[],e=sa.hitTest(F.root,a,b);if(null!=e){var f=e.owner;do{var h=f._compMap.Sprite_0;null!=h&&d.push(h);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(Ma._sharedEvent),Ma._sharedEvent._stopped)return;this.move.emit(Ma._sharedEvent)}},submitUp:function(a,
b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],e=sa.hitTest(F.root,a,b);if(null!=e){var f=e.owner;do{var h=f._compMap.Sprite_0;null!=h&&d.push(h);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(Ma._sharedEvent),Ma._sharedEvent._stopped)return;this.up.emit(Ma._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;Ma._sharedEvent.init(Ma._sharedEvent.id+1,a,b,c,d)},__class__:Ma};var Sb=function(a,b,c){this._parent=null;this.rootX=
this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};j["flambe.platform.BasicTexture"]=Sb;Sb.__name__=["flambe","platform","BasicTexture"];Sb.__interfaces__=[rg];Sb.__super__=Na;Sb.prototype=u(Na.prototype,{get_graphics:function(){return this.root.getGraphics()},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:Sb,__properties__:{get_height:"get_height",get_width:"get_width",
get_graphics:"get_graphics"}});var le=function(){};j["flambe.subsystem.TouchSystem"]=le;le.__name__=["flambe","subsystem","TouchSystem"];le.prototype={__class__:le};var de=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new db;this._points=[];this.down=new wa;this.move=new wa;this.up=new wa};j["flambe.platform.BasicTouch"]=de;de.__name__=["flambe","platform","BasicTouch"];de.__interfaces__=[le];de.prototype={get_supported:function(){return!0},submitDown:function(a,b,
c){if(!this._pointMap.exists(a)){var d=new Vf(a);d.init(b,c);this._pointMap.set(a,d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),H.remove(this._points,d),this._pointerTouch==
d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:de,__properties__:{get_supported:"get_supported"}};var Tb=function(){};j["flambe.sound.Sound"]=Tb;Tb.__name__=["flambe","sound","Sound"];Tb.__interfaces__=[Pb];Tb.prototype={__class__:Tb};var eb=function(){this._disposed=!1;this._playback=new Fc(this)};j["flambe.platform.DummySound"]=eb;eb.__name__=["flambe","platform","DummySound"];eb.__interfaces__=[Tb];eb.getInstance=function(){null==eb._instance&&(eb._instance=
new eb);return eb._instance};eb.__super__=Na;eb.prototype=u(Na.prototype,{play:function(){return this._playback},loop:function(){return this._playback},get_duration:function(){return 0},onDisposed:function(){},__class__:eb,__properties__:{get_duration:"get_duration"}});var mc=function(){};j["flambe.sound.Playback"]=mc;mc.__name__=["flambe","sound","Playback"];mc.__interfaces__=[qb];mc.prototype={__class__:mc};var Fc=function(a){this._sound=a;this.volume=new Ra(0);this._complete=new Sa(!0)};j["flambe.platform.DummyPlayback"]=
Fc;Fc.__name__=["flambe","platform","DummyPlayback"];Fc.__interfaces__=[mc];Fc.prototype={get_paused:function(){return!0},get_complete:function(){return this._complete},get_position:function(){return 0},dispose:function(){},__class__:Fc,__properties__:{get_position:"get_position",get_complete:"get_complete",get_paused:"get_paused"}};var ee=function(){this.down=new wa;this.move=new wa;this.up=new wa};j["flambe.platform.DummyTouch"]=ee;ee.__name__=["flambe","platform","DummyTouch"];ee.__interfaces__=
[le];ee.prototype={get_supported:function(){return!1},__class__:ee,__properties__:{get_supported:"get_supported"}};var Gc=function(){this._entries=[]};j["flambe.platform.EventGroup"]=Gc;Gc.__name__=["flambe","platform","EventGroup"];Gc.__interfaces__=[qb];Gc.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new $f(a,b,c))},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<
b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:Gc};var $f=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};j["flambe.platform._EventGroup.Entry"]=$f;$f.__name__=["flambe","platform","_EventGroup","Entry"];$f.prototype={__class__:$f};var me=function(){};j["flambe.platform.InternalGraphics"]=me;me.__name__=["flambe","platform","InternalGraphics"];me.__interfaces__=[Rf];me.prototype={__class__:me};var ag=function(){};j["flambe.subsystem.RendererSystem"]=
ag;ag.__name__=["flambe","subsystem","RendererSystem"];ag.prototype={__class__:ag};var ne=function(){};j["flambe.platform.InternalRenderer"]=ne;ne.__name__=["flambe","platform","InternalRenderer"];ne.__interfaces__=[ag];ne.prototype={__class__:ne};var Ec=function(){};j["flambe.platform.KeyCodes"]=Ec;Ec.__name__=["flambe","platform","KeyCodes"];Ec.toKey=function(a){switch(a){case 65:return e.A;case 66:return e.B;case 67:return e.C;case 68:return e.D;case 69:return e.E;case 70:return e.F;case 71:return e.G;
case 72:return e.H;case 73:return e.I;case 74:return e.J;case 75:return e.K;case 76:return e.L;case 77:return e.M;case 78:return e.N;case 79:return e.O;case 80:return e.P;case 81:return e.Q;case 82:return e.R;case 83:return e.S;case 84:return e.T;case 85:return e.U;case 86:return e.V;case 87:return e.W;case 88:return e.X;case 89:return e.Y;case 90:return e.Z;case 48:return e.Number0;case 49:return e.Number1;case 50:return e.Number2;case 51:return e.Number3;case 52:return e.Number4;case 53:return e.Number5;
case 54:return e.Number6;case 55:return e.Number7;case 56:return e.Number8;case 57:return e.Number9;case 96:return e.Numpad0;case 97:return e.Numpad1;case 98:return e.Numpad2;case 99:return e.Numpad3;case 100:return e.Numpad4;case 101:return e.Numpad5;case 102:return e.Numpad6;case 103:return e.Numpad7;case 104:return e.Numpad8;case 105:return e.Numpad9;case 107:return e.NumpadAdd;case 110:return e.NumpadDecimal;case 111:return e.NumpadDivide;case 108:return e.NumpadEnter;case 106:return e.NumpadMultiply;
case 109:return e.NumpadSubtract;case 112:return e.F1;case 113:return e.F2;case 114:return e.F3;case 115:return e.F4;case 116:return e.F5;case 117:return e.F6;case 118:return e.F7;case 119:return e.F8;case 120:return e.F9;case 121:return e.F10;case 122:return e.F11;case 123:return e.F12;case 37:return e.Left;case 38:return e.Up;case 39:return e.Right;case 40:return e.Down;case 18:return e.Alt;case 192:return e.Backquote;case 220:return e.Backslash;case 8:return e.Backspace;case 20:return e.CapsLock;
case 188:return e.Comma;case 15:return e.Command;case 17:return e.Control;case 46:return e.Delete;case 35:return e.End;case 13:return e.Enter;case 187:return e.Equals;case 27:return e.Escape;case 36:return e.Home;case 45:return e.Insert;case 219:return e.LeftBracket;case 189:return e.Minus;case 34:return e.PageDown;case 33:return e.PageUp;case 190:return e.Period;case 222:return e.Quote;case 221:return e.RightBracket;case 186:return e.Semicolon;case 16:return e.Shift;case 191:return e.Slash;case 32:return e.Space;
case 9:return e.Tab;case 16777234:return e.Menu;case 16777247:return e.Search}return e.Unknown(a)};Ec.toKeyCode=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;
case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;
case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;
case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return a[2]}};var hc=function(){this._tickables=
[]};j["flambe.platform.MainLoop"]=hc;hc.__name__=["flambe","platform","MainLoop"];hc.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_3;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,hc.updateEntity(c,b),c=d};hc.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];
null==c||c.update(a)?this._tickables.splice(b,1):++b}F.volume.update(a);hc.updateEntity(F.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),sa.render(F.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:hc};var Yf=function(){};j["flambe.platform.MouseCodes"]=Yf;Yf.__name__=["flambe","platform","MouseCodes"];Yf.toButton=function(a){switch(a){case 0:return xa.Left;case 1:return xa.Middle;case 2:return xa.Right}return xa.Unknown(a)};var bg=function(){};
j["flambe.platform.TextureRoot"]=bg;bg.__name__=["flambe","platform","TextureRoot"];bg.prototype={__class__:bg};var oe=function(){};j["flambe.platform.Tickable"]=oe;oe.__name__=["flambe","platform","Tickable"];oe.prototype={__class__:oe};var Va=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};j["flambe.platform.html.CanvasGraphics"]=Va;Va.__name__=["flambe","platform","html","CanvasGraphics"];Va.__interfaces__=[me];Va.prototype={save:function(){this._canvasCtx.save()},
translate:function(a,b){this._canvasCtx.translate(a|0,b|0)},scale:function(a,b){this._canvasCtx.scale(a,b)},rotate:function(a){this._canvasCtx.rotate(3.141592653589793*a/180)},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,h){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",
this.drawSubTexture(a,b,c,d,e,f,h),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+e|0,f|0,h|0,b|0,c|0,f|0,h|0)},fillRect:function(a,b,c,d,e){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+B.string(a);this._canvasCtx.fillStyle="#"+B.string(a);this._canvasCtx.fillRect(b|
0,c|0,d|0,e|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},
__class__:Va};var ic=function(a){this.graphics=new Va(a,!1);this._hasGPU=new Sa(!0)};j["flambe.platform.html.CanvasRenderer"]=ic;ic.__name__=["flambe","platform","html","CanvasRenderer"];ic.__interfaces__=[ne];ic.prototype={get_type:function(){return za.Canvas},createTextureFromImage:function(a){a=new nc(ic.CANVAS_TEXTURES?P.createCanvas(a):a);return a.createTexture(a.width,a.height)},createTexture:function(a,b){return(new nc(P.createEmptyCanvas(a,b))).createTexture(a,b)},getCompressedTextureFormats:function(){return[]},
createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:ic,__properties__:{get_type:"get_type"}};var pe=function(a,b,c){Sb.call(this,a,b,c)};j["flambe.platform.html.CanvasTexture"]=pe;pe.__name__=["flambe","platform","html","CanvasTexture"];pe.__super__=Sb;pe.prototype=u(Sb.prototype,{__class__:pe});var nc=function(a){this._graphics=null;this.updateCount=0;this._disposed=!1;this.image=a;this.width=
a.width;this.height=a.height};j["flambe.platform.html.CanvasTextureRoot"]=nc;nc.__name__=["flambe","platform","html","CanvasTextureRoot"];nc.__interfaces__=[bg];nc.__super__=Na;nc.prototype=u(Na.prototype,{createTexture:function(a,b){return new pe(this,a,b)},getGraphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new qe(this));return this._graphics},getContext2d:function(){x.__instanceof(this.image,HTMLCanvasElement)||(this.image=P.createCanvas(this.image));return this.image.getContext("2d")},
onDisposed:function(){this._graphics=this.image=null},__class__:nc});var qe=function(a){Va.call(this,a.image,!0);this._renderTarget=a};j["flambe.platform.html._CanvasTextureRoot.InternalGraphics"]=qe;qe.__name__=["flambe","platform","html","_CanvasTextureRoot","InternalGraphics"];qe.__super__=Va;qe.prototype=u(Va.prototype,{drawTexture:function(a,b,c){Va.prototype.drawTexture.call(this,a,b,c);++this._renderTarget.updateCount},drawSubTexture:function(a,b,c,d,e,f,h){Va.prototype.drawSubTexture.call(this,
a,b,c,d,e,f,h);++this._renderTarget.updateCount},fillRect:function(a,b,c,d,e){Va.prototype.fillRect.call(this,a,b,c,d,e);++this._renderTarget.updateCount},__class__:qe});var da=function(a,b){Rb.call(this,a,b)};j["flambe.platform.html.HtmlAssetPackLoader"]=da;da.__name__=["flambe","platform","html","HtmlAssetPackLoader"];da.detectImageFormats=function(a){var b=[z.PNG,z.JPG,z.GIF],c=2,d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(z.WEBP);--c;0==c&&a(b)};
d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var e;e=window.document.createElement("img");e.onload=e.onerror=function(){1==e.width&&b.unshift(z.JXR);--c;0==c&&a(b)};e.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};da.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==
p(a,a.canPlayType))return[];var b=new tb("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!Z.get_supported()&&b.match(c))return[];for(var b=[{format:z.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:z.MP3,mimeType:"audio/mpeg"},{format:z.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:z.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:z.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var e=b[d];++d;var f="";try{f=a.canPlayType(e.mimeType)}catch(h){}""!=f&&c.push(e.format)}return c};
da.supportsBlob=function(){if(da._detectBlobSupport){da._detectBlobSupport=!1;if((new tb("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;da._URL=P.loadExtension("URL").value}return null!=da._URL&&null!=da._URL.createObjectURL};da.__super__=Rb;da.prototype=u(Rb.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d;
d=window.document.createElement("img");var e=new Gc;e.addDisposingListener(d,"load",function(){da.supportsBlob()&&da._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});e.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});da.supportsBlob()?this.download(a,b,"blob",function(a){d.src=da._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=
c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(Z.get_supported())this.download(a,b,"arraybuffer",function(a){Z.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new Z(a))},function(){c.handleLoad(b,eb.getInstance())})});else{var f;f=window.document.createElement("audio");f.preload="auto";var h=++da._mediaRefCount;null==da._mediaElements&&(da._mediaElements=new db);da._mediaElements.set(h,
f);e=new Gc;e.addDisposingListener(f,"canplaythrough",function(){da._mediaElements.remove(h);c.handleLoad(b,new Hc(f))});e.addDisposingListener(f,"error",function(){da._mediaElements.remove(h);var a=f.error.code;3==a||4==a?c.handleLoad(b,eb.getInstance()):c.handleError(b,"Failed to load audio: "+f.error.code)});e.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;c.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,
b,"text",function(a){c.handleLoad(b,new Dc(a))})}},getAssetFormats:function(a){var b=this;null==da._supportedFormats&&(da._supportedFormats=new je,da.detectImageFormats(function(a){da._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(da.detectAudioFormats()).concat([z.Data]))}));da._supportedFormats.get(a)},download:function(a,b,c,d){var e=this,f=null,h=null,i=0,j=!1,k=function(){j&&(j=!1,window.clearInterval(i))},l=3,m=function(){--l;return 0<=
l?(h(),!0):!1},h=function(){k();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var h=0;f.onprogress=function(a){j||(j=!0,i=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-h&&!m()&&(k(),e.handleError(b,"Download stalled"))},1E3));h=Date.now();e.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=f.status||!m())k(),e.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);k();d(a)};f.send()};h()},__class__:da});
var ce=function(a,b){Ya.call(this,a);this._canvas=b};j["flambe.platform.html.HtmlMouse"]=ce;ce.__name__=["flambe","platform","html","HtmlMouse"];ce.__super__=Ya;ce.prototype=u(Ya.prototype,{__class__:ce});var Hc=function(a){this._disposed=!1;this.audioElement=a};j["flambe.platform.html.HtmlSound"]=Hc;Hc.__name__=["flambe","platform","html","HtmlSound"];Hc.__interfaces__=[Tb];Hc.__super__=Na;Hc.prototype=u(Na.prototype,{play:function(a){null==a&&(a=1);return new Ic(this,a,!1)},loop:function(a){null==
a&&(a=1);return new Ic(this,a,!0)},get_duration:function(){return this.audioElement.duration},onDisposed:function(){this.audioElement=null},__class__:Hc,__properties__:{get_duration:"get_duration"}});var Ic=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new Ra(b,function(){d.updateVolume()});this.updateVolume();this._complete=new Sa(!1);this.playAudio();
F.hidden._value&&this.set_paused(!0)};j["flambe.platform.html._HtmlSound.HtmlPlayback"]=Ic;Ic.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];Ic.__interfaces__=[oe,mc];Ic.prototype={get_paused:function(){return this._clonedElement.paused},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._clonedElement.currentTime},update:function(a){this.volume.update(a);
this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(Db.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=F.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=
F.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=F.volume._value*this.volume._value},__class__:Ic,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused"}};var cg=function(){};j["flambe.subsystem.StageSystem"]=cg;cg.__name__=["flambe","subsystem","StageSystem"];cg.prototype={__class__:cg};var Eb=function(a){var b=
this;this._canvas=a;this.resize=new lc;this.scaleFactor=Eb.computeScaleFactor();1!=this.scaleFactor&&(P.setVendorStyle(this._canvas,"transform-origin","top left"),P.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));P.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){P.callLater(p(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",p(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=
new Sa(null);null!=window.orientation&&(window.addEventListener("orientationchange",p(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new Sa(!1);P.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};j["flambe.platform.html.HtmlStage"]=Eb;Eb.__name__=["flambe","platform","html","HtmlStage"];Eb.__interfaces__=[cg];Eb.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),
b=P.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};Eb.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},requestResize:function(a,b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentElement;c.style.width=a+"px";c.style.height=b+"px"}},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},
resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";P.callLater(function(){P.hideMobileBrowser();P.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},
100)})},onOrientationChange:function(){this.orientation.set__(P.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==P.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:Eb,__properties__:{get_height:"get_height",get_width:"get_width"}};var P=function(){};j["flambe.platform.html.HtmlUtil"]=P;P.__name__=["flambe","platform","html","HtmlUtil"];P.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};P.hideMobileBrowser=
function(){window.scrollTo(1,0)};P.loadExtension=function(a,b){null==b&&(b=window);var c=q.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+H.substr(a,1,null),d=0,e=P.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;var h=f+c,i=q.field(b,h);if(null!=i)return{prefix:f,field:h,value:i}}return{prefix:null,field:null,value:null}};P.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=P.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,
field:null,value:null}};P.polyfill=function(a,b){null==b&&(b=window);var c=P.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};P.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=P.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};P.addVendorListener=function(a,b,c,d){for(var e=0,f=P.VENDOR_PREFIXES;e<f.length;){var h=f[e];++e;a.addEventListener(h+b,c,d)}a.addEventListener(b,c,d)};P.orientation=function(a){switch(a){case -90:case 90:return kb.Landscape;
default:return kb.Portrait}};P.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};P.createCanvas=function(a){var b=P.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};P.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==
a?1:b(a)}}};var Z=function(a){this._disposed=!1;this.buffer=a};j["flambe.platform.html.WebAudioSound"]=Z;Z.__name__=["flambe","platform","html","WebAudioSound"];Z.__interfaces__=[Tb];Z.__properties__={get_supported:"get_supported"};Z.get_supported=function(){if(Z._detectSupport){Z._detectSupport=!1;var a=P.loadExtension("AudioContext").value;null!=a&&(Z.ctx=new a,Z.gain=Z.createGain(),Z.gain.connect(Z.ctx.destination),F.volume.watch(function(a){Z.gain.gain.value=a}))}return null!=Z.ctx};Z.createGain=
function(){return null!=Z.ctx.createGain?Z.ctx.createGain():Z.ctx.createGainNode()};Z.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};Z.__super__=Na;Z.prototype=u(Na.prototype,{play:function(a){null==a&&(a=1);return new Jc(this,a,!1)},loop:function(a){null==a&&(a=1);return new Jc(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:Z,__properties__:{get_duration:"get_duration"}});var Jc=function(a,b,c){var d=this;this._sound=
a;this._head=Z.gain;this._complete=new Sa(!1);this._sourceNode=Z.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete.set__(!0)};Z.start(this._sourceNode,0);this.playAudio();this.volume=new Ra(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b);F.hidden._value&&this.set_paused(!0)};j["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=Jc;Jc.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];
Jc.__interfaces__=[oe,mc];Jc.prototype={get_paused:function(){return 0<=this._pausedAt},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(Z.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&
this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=Z.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;
this._sourceNode.connect(this._head);this._startedAt=Z.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(Db.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=F.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:Jc,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused"}};var dg=function(){this._transitor=null};j["flambe.scene.Director"]=
dg;dg.__name__=["flambe","scene","Director"];dg.__super__=Ja;dg.prototype=u(Ja.prototype,{get_name:function(){return"Director_2"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;
return 0<a?this.scenes[a-1]:null},show:function(a){a=a._compMap.Scene_4;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_4;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},__class__:dg,
__properties__:u(Ja.prototype.__properties__,{get_topScene:"get_topScene"})});var sg=function(){};j["flambe.scene._Director.Transitor"]=sg;sg.__name__=["flambe","scene","_Director","Transitor"];sg.prototype={update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:sg};var eg=function(){};j["flambe.scene.Scene"]=eg;eg.__name__=["flambe","scene","Scene"];eg.__super__=Ja;eg.prototype=u(Ja.prototype,{get_name:function(){return"Scene_4"},
__class__:eg});var tg=function(){};j["flambe.scene.Transition"]=tg;tg.__name__=["flambe","scene","Transition"];tg.prototype={update:function(){return!0},complete:function(){},__class__:tg};var Gd=function(){Ja.call(this);this._sounds=[]};j["flambe.sound.Mixer"]=Gd;Gd.__name__=["flambe","sound","Mixer"];Gd.__super__=Ja;Gd.prototype=u(Ja.prototype,{get_name:function(){return"Mixer_1"},createSound:function(a,b){null==b&&(b=2147483647);var c=new re(a,b);this._sounds.push(c);return c},stopAll:function(){for(var a=
0,b=this._sounds;a<b.length;){var c=b[a];++a;c.dispose()}},onRemoved:function(){this.stopAll();this._sounds=[]},__class__:Gd});var re=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};j["flambe.sound._Mixer.MixerSound"]=re;re.__name__=["flambe","sound","_Mixer","MixerSound"];re.__interfaces__=[qb,Tb];re.prototype={play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},playOrLoop:function(a,b){var c=this.findOpenChannel();
if(0>c)return new Fc(this);var d;d=b?this._source.loop(a):this._source.play(a);return this._playbacks[c]=d},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,d=this._playbacks[c];if(null==d||d.get_complete().get__())return c}return-1},get_duration:function(){return this._source.get_duration()},dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var c=b[a];++a;c.dispose()}this._playbacks=[]},__class__:re,__properties__:{get_duration:"get_duration"}};var za=j["flambe.subsystem.RendererType"]=
{__ename__:["flambe","subsystem","RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};za.Stage3D=["Stage3D",0];za.Stage3D.toString=h;za.Stage3D.__enum__=za;za.WebGL=["WebGL",1];za.WebGL.toString=h;za.WebGL.__enum__=za;za.Canvas=["Canvas",2];za.Canvas.toString=h;za.Canvas.__enum__=za;za.__empty_constructs__=[za.Stage3D,za.WebGL,za.Canvas];var Of=function(){};j["flambe.util.Assert"]=Of;Of.__name__=["flambe","util","Assert"];Of.that=function(){};var je=function(){this.success=new wa;this.error=
new wa;this.progressChanged=new lc;this.hasResult=!1;this._total=this._progress=0};j["flambe.util.Promise"]=je;je.__name__=["flambe","util","Promise"];je.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},
set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:je,__properties__:{set_total:"set_total",set_progress:"set_progress",set_result:"set_result"}};var lc=function(a){Da.call(this,a)};j["flambe.util.Signal0"]=lc;lc.__name__=["flambe","util","Signal0"];lc.__super__=Da;lc.prototype=u(Da.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==Da.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):
this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:lc});var Lf=function(a){this.next=null;this.fn=a};j["flambe.util._SignalBase.Task"]=Lf;Lf.__name__=["flambe","util","_SignalBase","Task"];Lf.prototype={__class__:Lf};var La=function(){};j["flambe.util.Strings"]=La;La.__name__=["flambe","util","Strings"];La.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?H.substr(a,b+1,null):null};
La.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?H.substr(a,0,b):a};La.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=H.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=H.substr(a,b+1,null));return La.getFileExtension(a)};La.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};La.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(B.is(f,Error)){var h=f.stack;
null!=h&&(f=h)}a+=e+"="+B.string(f);d+=2}a+="]"}return a};var cb=function(){this.buf=new Vb;this.cache=[];this.useCache=cb.USE_CACHE;this.useEnumIndex=cb.USE_ENUM_INDEX;this.shash=new S;this.scount=0};j["haxe.Serializer"]=cb;cb.__name__=["haxe","Serializer"];cb.run=function(a){var b=new cb;b.serialize(a);return b.toString()};cb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+
(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=q.fields(a);b<
c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(q.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=ea["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+
"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var e=d++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case pc:this.buf.b+="l";for(a=
a.iterator();a.hasNext();)this.serialize(a.next());this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(H.dateStr(a));break;case S:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+="h";break;case db:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.get(c));this.buf.b+="h";break;case Wa:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),
d=q.field(c,"__id__"),q.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case oc:d=0;e=a.length-2;b=new Vb;for(c=cb.BASE64;d<e;){var f=a.get(d++),h=a.get(d++),i=a.get(d++);b.add(c.charAt(f>>2));b.add(c.charAt((f<<4|h>>4)&63));b.add(c.charAt((h<<2|i>>6)&63));b.add(c.charAt(i&63))}d==e?(e=a.get(d++),a=a.get(d++),b.add(c.charAt(e>>2)),b.add(c.charAt((e<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==e+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<
4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(ea.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(ea.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&
this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(ea.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=B.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=B.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";
default:throw"Cannot serialize "+B.string(a);}},__class__:cb};var Xa=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Xa.DEFAULT_RESOLVER;null==a&&(a=ea,Xa.DEFAULT_RESOLVER=a);this.setResolver(a)};j["haxe.Unserializer"]=Xa;Xa.__name__=["haxe","Unserializer"];Xa.initCodes=function(){for(var a=[],b=0,c=Xa.BASE64.length;b<c;){var d=b++;a[Xa.BASE64.charCodeAt(d)]=d}return a};Xa.run=function(a){return(new Xa(a)).unserialize()};Xa.prototype={setResolver:function(a){this.resolver=
null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=
typeof b)throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return ea.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return ea.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);
if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return B.parseFloat(H.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=H.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);
if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);
if(null==b)throw"Class not found "+a;a=ea.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var c=this.readDigits(),d=ea.getEnumConstructs(b)[c];if(null==d)throw"Unknown enum index "+a+"@"+c;a=this.unserializeEnum(b,
d);this.cache.push(a);return a;case 108:a=new pc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new S;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new db;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new Wa;
for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=H.substr(this.buf,this.pos,19),a=H.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var e=Xa.CODES;null==e&&(e=Xa.initCodes(),Xa.CODES=e);for(var f=this.pos,h=a&3,i=f+(a-h),b=oc.alloc(3*(a>>2)+(2<=h?h-1:0)),c=0;f<i;){var j=e[ba.fastCodeAt(d,
f++)],k=e[ba.fastCodeAt(d,f++)];b.set(c++,j<<2|k>>4);j=e[ba.fastCodeAt(d,f++)];b.set(c++,k<<4|j>>2);k=e[ba.fastCodeAt(d,f++)];b.set(c++,j<<6|k)}2<=h&&(k=e[ba.fastCodeAt(d,f++)],i=e[ba.fastCodeAt(d,f++)],b.set(c++,k<<2|i>>4),3==h&&(d=e[ba.fastCodeAt(d,f++)],b.set(c++,i<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=ea.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";
return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:Xa};var ua=function(){};j["haxe.ds.ArraySort"]=ua;ua.__name__=["haxe","ds","ArraySort"];ua.sort=function(a,b){ua.rec(a,b,0,a.length)};ua.rec=function(a,b,c,d){var e=c+d>>1;if(12>d-c){if(!(d<=c))for(e=c+1;e<d;)for(var f=e++;f>c;){if(0>b(a[f],a[f-1]))ua.swap(a,f-1,f);else break;f--}}else ua.rec(a,b,c,e),ua.rec(a,b,e,d),ua.doMerge(a,b,c,e,d,e-c,d-e)};ua.doMerge=function(a,b,c,d,e,f,h){var i,j,k,l;
0==f||0==h||(2==f+h?0>b(a[d],a[c])&&ua.swap(a,d,c):(f>h?(k=f>>1,i=c+k,j=ua.lower(a,b,d,e,i),l=j-d):(l=h>>1,j=d+l,i=ua.upper(a,b,c,d,j),k=i-c),ua.rotate(a,b,i,d,j),d=i+l,ua.doMerge(a,b,c,i,d,k,l),ua.doMerge(a,b,d,j,e,f-k,h-l)))};ua.rotate=function(a,b,c,d,e){if(!(c==d||d==e))for(b=ua.gcd(e-c,d-c);0!=b--;){for(var f=a[c+b],h=d-c,i=c+b,j=c+b+h;j!=c+b;)a[i]=a[j],i=j,j=e-j>h?j+h:c+(h-(e-j));a[i]=f}};ua.gcd=function(a,b){for(;0!=b;)var c=a%b,a=b,b=c;return a};ua.upper=function(a,b,c,d,e){for(var d=d-c,
f,h;0<d;)f=d>>1,h=c+f,0>b(a[e],a[h])?d=f:(c=h+1,d=d-f-1);return c};ua.lower=function(a,b,c,d,e){for(var d=d-c,f,h;0<d;)f=d>>1,h=c+f,0>b(a[h],a[e])?(c=h+1,d=d-f-1):d=f;return c};ua.swap=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};var se=function(){};j["haxe.ds.BalancedTree"]=se;se.__name__=["haxe","ds","BalancedTree"];se.prototype={set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return b.value;b=0>c?b.left:
b.right}return null},remove:function(a){try{return this.root=this.removeLoop(a,this.root),!0}catch(b){if(x.__instanceof(b,String))return!1;throw b;}},exists:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return!0;b=0>c?b.left:b.right}return!1},iterator:function(){var a=[];this.iteratorLoop(this.root,a);return H.iter(a)},keys:function(){var a=[];this.keysLoop(this.root,a);return H.iter(a)},setLoop:function(a,b,c){if(null==c)return new Ha(null,a,b,null);var d=this.compare(a,
c.key);if(0==d)return new Ha(c.left,a,b,c.right,null==c?0:c._height);if(0>d)return this.balance(this.setLoop(a,b,c.left),c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,c.key,c.value,a)},removeLoop:function(a,b){if(null==b)throw"Not_found";var c=this.compare(a,b.key);return 0==c?this.merge(b.left,b.right):0>c?this.balance(this.removeLoop(a,b.left),b.key,b.value,b.right):this.balance(b.left,b.key,b.value,this.removeLoop(a,b.right))},iteratorLoop:function(a,b){null!=a&&
(this.iteratorLoop(a.left,b),b.push(a.value),this.iteratorLoop(a.right,b))},keysLoop:function(a,b){null!=a&&(this.keysLoop(a.left,b),b.push(a.key),this.keysLoop(a.right,b))},merge:function(a,b){if(null==a)return b;if(null==b)return a;var c=this.minBinding(b);return this.balance(a,c.key,c.value,this.removeMinBinding(b))},minBinding:function(a){if(null==a)throw"Not_found";return null==a.left?a:this.minBinding(a.left)},removeMinBinding:function(a){return null==a.left?a.right:this.balance(this.removeMinBinding(a.left),
a.key,a.value,a.right)},balance:function(a,b,c,d){var e;e=null==a?0:a._height;var f;f=null==d?0:d._height;return e>f+2?function(){var b=a.left;return null==b?0:b._height}(this)>=function(){var b=a.right;return null==b?0:b._height}(this)?new Ha(a.left,a.key,a.value,new Ha(a.right,b,c,d)):new Ha(new Ha(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new Ha(a.right.right,b,c,d)):f>e+2?function(){var a=d.right;return null==a?0:a._height}(this)>function(){var a=d.left;return null==a?0:a._height}(this)?
new Ha(new Ha(a,b,c,d.left),d.key,d.value,d.right):new Ha(new Ha(a,b,c,d.left.left),d.left.key,d.left.value,new Ha(d.left.right,d.key,d.value,d.right)):new Ha(a,b,c,d,(e>f?e:f)+1)},compare:function(a,b){return q.compare(a,b)},__class__:se};var Ha=function(a,b,c,d,e){null==e&&(e=-1);this.left=a;this.key=b;this.value=c;this.right=d;this._height=-1==e?(function(a){a=a.left;return null==a?0:a._height}(this)>function(a){a=a.right;return null==a?0:a._height}(this)?function(a){a=a.left;return null==a?0:
a._height}(this):function(a){a=a.right;return null==a?0:a._height}(this))+1:e};j["haxe.ds.TreeNode"]=Ha;Ha.__name__=["haxe","ds","TreeNode"];Ha.prototype={__class__:Ha};var ta=function(){};j["haxe.ds.EnumValueMap"]=ta;ta.__name__=["haxe","ds","EnumValueMap"];ta.__interfaces__=[Ub];ta.__super__=se;ta.prototype=u(se.prototype,{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),d=b.slice(2);return 0==c.length&&0==d.length?0:this.compareArgs(c,d)},compareArgs:function(a,b){var c=
a.length-b.length;if(0!=c)return c;for(var c=0,d=a.length;c<d;){var e=c++,e=this.compareArg(a[e],b[e]);if(0!=e)return e}return 0},compareArg:function(a,b){return q.isEnumValue(a)&&q.isEnumValue(b)?this.compare(a,b):a instanceof Array&&null==a.__enum__&&b instanceof Array&&null==b.__enum__?this.compareArgs(a,b):q.compare(a,b)},__class__:ta});var db=function(){this.h={}};j["haxe.ds.IntMap"]=db;db.__name__=["haxe","ds","IntMap"];db.__interfaces__=[Ub];db.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},
exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return H.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next()]}}},__class__:db};var Wa=function(){this.h={};this.h.__keys__={}};j["haxe.ds.ObjectMap"]=Wa;Wa.__name__=["haxe","ds","ObjectMap"];
Wa.__interfaces__=[Ub];Wa.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Wa.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return H.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},
next:function(){return this.ref[this.it.next().__id__]}}},__class__:Wa};var S=function(){this.h={}};j["haxe.ds.StringMap"]=S;S.__name__=["haxe","ds","StringMap"];S.__interfaces__=[Ub];S.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));
return H.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:S};var oc=function(a,b){this.length=a;this.b=b};j["haxe.io.Bytes"]=oc;oc.__name__=["haxe","io","Bytes"];oc.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new oc(a,b)};oc.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:oc};var ug=function(){};j["haxe.io.Eof"]=ug;ug.__name__=
["haxe","io","Eof"];ug.prototype={toString:function(){return"Eof"},__class__:ug};var qg=function(){};j["haxe.rtti.Meta"]=qg;qg.__name__=["haxe","rtti","Meta"];qg.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};var fg=function(a){this.__x=a};j["haxe.xml._Fast.NodeAccess"]=fg;fg.__name__=["haxe","xml","_Fast","NodeAccess"];fg.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==E.Document?"Document":this.__x.get_nodeName())+
" is missing element "+a;return new ac(b)},__class__:fg};var gg=function(a){this.__x=a};j["haxe.xml._Fast.AttribAccess"]=gg;gg.__name__=["haxe","xml","_Fast","AttribAccess"];gg.prototype={resolve:function(a){if(this.__x.nodeType==E.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:gg};var hg=function(a){this.__x=a};j["haxe.xml._Fast.HasAttribAccess"]=hg;hg.__name__=["haxe","xml","_Fast",
"HasAttribAccess"];hg.prototype={resolve:function(a){if(this.__x.nodeType==E.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__class__:hg};var ig=function(a){this.__x=a};j["haxe.xml._Fast.HasNodeAccess"]=ig;ig.__name__=["haxe","xml","_Fast","HasNodeAccess"];ig.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:ig};var jg=function(a){this.__x=a};j["haxe.xml._Fast.NodeListAccess"]=jg;jg.__name__=["haxe","xml","_Fast","NodeListAccess"];
jg.prototype={resolve:function(a){for(var b=new pc,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new ac(c))}return b},__class__:jg};var ac=function(a){if(a.nodeType!=E.Document&&a.nodeType!=E.Element)throw"Invalid nodeType "+B.string(a.nodeType);this.x=a;this.node=new fg(a);this.nodes=new jg(a);this.att=new gg(a);this.has=new hg(a);this.hasNode=new ig(a)};j["haxe.xml.Fast"]=ac;ac.__name__=["haxe","xml","Fast"];ac.prototype={get_name:function(){return this.x.nodeType==E.Document?"Document":
this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==E.PCData&&c.nodeType==E.CData&&""==ba.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==E.PCData&&""==ba.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=E.PCData&&b.nodeType!=E.CData)throw this.get_name()+" does not have data";
return b.get_nodeValue()},__class__:ac,__properties__:{get_innerData:"get_innerData",get_name:"get_name"}};var yb=function(){};j["haxe.xml.Parser"]=yb;yb.__name__=["haxe","xml","Parser"];yb.parse=function(a){var b=E.createDocument();yb.doParse(a,0,b);return b};yb.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,e=1,f=1,h=null,i=0,j=0,k=0,l=a.charCodeAt(b),m=new Vb;l==l;){switch(e){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(l){case 60:e=0;f=
2;break;default:i=b;e=13;continue}break;case 13:60==l?(f=E.createPCData(m.b+H.substr(a,i,b-i)),m=new Vb,c.addChild(f),j++,e=0,f=2):38==l&&(m.addSub(a,i,b-i),e=18,f=13,i=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=E.createCData(H.substr(a,i,b-i)),c.addChild(e),j++,b+=2,e=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=H.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=
H.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;e=15}i=b+1;break;case 63:e=14;i=b;break;case 47:if(null==c)throw"Expected node name";i=b+1;e=0;f=10;break;default:e=3;i=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(b==i)throw"Expected node name";d=E.createElement(H.substr(a,i,b-i));c.addChild(d);e=0;f=4;continue}break;case 4:switch(l){case 47:e=
11;j++;break;case 62:e=9;j++;break;default:e=5;i=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(i==b)throw"Expected attribute name";h=H.substr(a,i,b-i);if(d.exists(h))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(l){case 61:e=0;f=7;break;default:throw"Expected =";}break;case 7:switch(l){case 34:case 39:e=8;i=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(i)&&(f=H.substr(a,i+1,b-i-1),d.set(h,f),e=0,f=4);break;
case 9:i=b=yb.doParse(a,b,d);e=1;break;case 11:switch(l){case 62:e=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==j&&c.addChild(E.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(i==b)throw"Expected node name";if(H.substr(a,i,b-i)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";e=0;f=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(E.createComment(H.substr(a,
i,b-i))),b+=2,e=1);break;case 16:91==l?k++:93==l?k--:62==l&&0==k&&(c.addChild(E.createDocType(H.substr(a,i,b-i))),e=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,e=H.substr(a,i+1,b-i-2),c.addChild(E.createProcessingInstruction(e)),e=1);break;case 18:59==l&&(i=H.substr(a,i,b-i),35==i.charCodeAt(0)?(i=120==i.charCodeAt(1)?B.parseInt("0"+H.substr(i,1,i.length-1)):B.parseInt(H.substr(i,1,i.length-1)),m.add(String.fromCharCode(i))):yb.escapes.exists(i)?m.add(yb.escapes.get(i)):m.b+=B.string("&"+
i+";"),i=b+1,e=f)}l=ba.fastCodeAt(a,++b)}1==e&&(i=b,e=13);if(13==e)return(b!=i||0==j)&&c.addChild(E.createPCData(m.b+H.substr(a,i,b-i))),b;throw"Unexpected end";};var x=function(){};j["js.Boot"]=x;x.__name__=["js","Boot"];x.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};x.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==
a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+x.__string_rec(a[f],b)):c+x.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+x.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(h){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||
"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+x.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};x.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||x.__interfLoop(f,b))return!0}return x.__interfLoop(a.__super__,b)};x.__instanceof=function(a,b){if(null==b)return!1;switch(b){case xc:return(a|
0)===a;case U:return"number"==typeof a;case Kd:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case zg:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||x.__interfLoop(x.getClass(a),b)))return!0}else return!1;return b==Ag&&null!=a.__name__||b==Bg&&null!=a.__ename__?!0:a.__enum__==b}};x.__cast=function(a,b){if(x.__instanceof(a,b))return a;throw"Cannot cast "+B.string(a)+" to "+B.string(b);};var wg,yg=0;Math.NaN=
Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;j.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=j.String=String;String.__name__=["String"];j.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=j.Date=Date;Date.__name__=["Date"];var xc=j.Int={__name__:["Int"]},zg=j.Dynamic={__name__:["Dynamic"]},U=j.Float=Number;U.__name__=["Float"];var Kd=j.Bool=Boolean;
Kd.__ename__=["Bool"];var Ag=j.Class={__name__:["Class"]},Bg={};E.Element="element";E.PCData="pcdata";E.CData="cdata";E.Comment="comment";E.DocType="doctype";E.ProcessingInstruction="processingInstruction";E.Document="document";l.texture=new Ie;l.sound=new ye;l.xml=new Je;l.spine=new He;l.localization=new xe;l.xmlconfig=["config_loading","config"];Fb.achievementData=[new lb("0",i.BOOL_GAME_WIN,1,1,l.localization.achievement_name_0,l.localization.achievement_desc_0,l.texture.achievement_icon),new lb("1",
i.INT_NOTES_ALLTIME,200,1,l.localization.achievement_name_1,l.localization.achievement_desc_1,l.texture.achievement_icon),new lb("2",i.BOOL_VENUE_UNLOCKED,1,1,l.localization.achievement_name_2,l.localization.achievement_desc_2,l.texture.achievement_icon),new lb("3",i.BOOL_STAR_POWER_USED,1,1,l.localization.achievement_name_3,l.localization.achievement_desc_3,l.texture.achievement_icon),new lb("4",i.INT_NOTES_ALLTIME,1E3,1,l.localization.achievement_name_4,l.localization.achievement_desc_4,l.texture.achievement_icon),
new lb("5",i.BOOL_BAND_UNLOCKED,1,1,l.localization.achievement_name_5,l.localization.achievement_desc_5,l.texture.achievement_icon),new lb("6",i.BOOL_ALL_ITEMS_UNLOCKED,1,1,l.localization.achievement_name_6,l.localization.achievement_desc_6,l.texture.achievement_icon),new lb("7",i.INT_NOTES_ALLTIME,1E4,1,l.localization.achievement_name_7,l.localization.achievement_desc_7,l.texture.achievement_icon)];O._scratchPoint=new $a;C._DEBUG_SHOW_CLICKWALL=!1;rc.TIMER_POINTER=1.5;sc.TIMER_POINTER=2.5;Yb._GRAVITY=
100;ob._scratchPoint=new $a;wb._scratchPoint=new $a;y.STAGE_WIDTH=960;y.STAGE_CENTER_X=480;y.scaleFactor=1;y._isCocoon=-1;Ia.CONFETTI="confetti";Ia.LIGHTSHOW="lightshow";Ia.FIREWORKS="fireworks";sa._scratchPoint=new $a;Ka.radDeg=180/Math.PI;Ka.degRad=Math.PI/180;ya._tweenRemoval=[];ya._tweenUpdate=[];la._mapEmpty=[];Db.instance=new Db;Da.DISPATCHING_SENTINEL=new jc(null,null);F.root=new be;F.uncaughtError=new wa;F.hidden=new Sa(!1);F.volume=new Ra(1);F._platform=Db.instance;F._calledInit=!1;bb.__meta__=
{obj:{assets:[{character_lynn:[{bytes:30488,md5:"7ef3ea056e82c3150595c8722e8f7595",name:"lynn.json"},{bytes:12066,md5:"97ac73af3368dfbbefbb3daf3bef7259",name:"lynn.png"},{bytes:2525,md5:"806a3023c0d661e8dba44477d9bfdc41",name:"lynn.atlas"}],character_luna:[{bytes:16370,md5:"f3973b810adf1e1fb27735574a91c18a",name:"luna.png"},{bytes:3125,md5:"fb48a120e120dd03163feb3aa4db4914",name:"luna.atlas"},{bytes:15341,md5:"64f45d983402b7d97078890157e3d8bd",name:"luna.json"}],character_lucy:[{bytes:1910,md5:"d1883a2949d34db97c9015df4f2c73c2",
name:"lucy.atlas"},{bytes:11748,md5:"f2c84ae8a58eedd6f9e40c77b0741e7a",name:"lucy.png"},{bytes:22730,md5:"2031dbeb1ab76fed6925a5efff4b02f1",name:"lucy.json"}],character_luan:[{bytes:13007,md5:"c7a38c5e968439885b69f6e9a7dace8a",name:"luan.png"},{bytes:28353,md5:"ecfd9ee4ae450d9c0c1ddb75276845c3",name:"luan.json"},{bytes:3064,md5:"1999f9eb20342dea9a7a5c578aa513e0",name:"luan.atlas"}],character_lori:[{bytes:14960,md5:"1eb6fc15a6460faa53c32a30f91762b5",name:"lori.json"},{bytes:9459,md5:"6fe31ede8bab1364d7b733fc3fa67527",
name:"lori.png"},{bytes:2351,md5:"9d3f879f3b42471c565d6630ba1584ec",name:"lori.atlas"}],character_lola:[{bytes:7775,md5:"9dc156e9be0326fddce397771a13b9b8",name:"lola.png"},{bytes:1915,md5:"41921ad37c9979cd4b5c81c02d70194e",name:"lola.atlas"},{bytes:12923,md5:"6fdf9871d8efc8e80bd312bcb80a7b86",name:"lola.json"}],character_lisa:[{bytes:2970,md5:"655c72df82b8f035228434b371b5e474",name:"lisa.atlas"},{bytes:23252,md5:"7b15a315e687e43f03b4f002b8154ebf",name:"lisa.png"},{bytes:18408,md5:"6536ba63f2721be9bf21b010a7082e67",
name:"lisa.json"}],character_lily:[{bytes:2665,md5:"dd5bb1910130e30c1bb912524ba47654",name:"lily.atlas"},{bytes:17997,md5:"fc965a5f075f1697f428a1f51f254f05",name:"lily.json"},{bytes:26430,md5:"ab54f618d31bf18240e7decda9968eae",name:"lily.png"}],character_leni:[{bytes:23512,md5:"561ebcea0be6b2e53437da43514f61bb",name:"leni.json"},{bytes:2518,md5:"34b1988685deae507fb2b982cfd1bd91",name:"leni.atlas"},{bytes:14632,md5:"060fb29a095fa539be96193f4a6dc7ad",name:"leni.png"}],character_lana:[{bytes:22383,md5:"c92c6b044d74790917befdb7a9243715",
name:"lana.png"},{bytes:3838,md5:"6c6876de0e41342256f1f90ce28cf680",name:"lana.atlas"},{bytes:24292,md5:"b2a04583c4c05d616ea616993edecdcb",name:"lana.json"}],fonts_en_simple:[{bytes:128916,md5:"d35fb9e2fee6654c8e76c8ff5b65fdc3",name:"Basic.fnt"},{bytes:103477,md5:"431ada04ec8a05c868c098d9c7f5715c",name:"Basic.png"}],preload:[{bytes:462,md5:"3bc67a4bda945f5c9fd4bfe952e6cb0d",name:"preload_0.atlas"},{bytes:6628,md5:"c7a5deba50832328353bf9a52facb0de",name:"preload_0.png"}],venue_5:[{bytes:553350,md5:"bb384a56d3a075884778eccb6000bdf9",
name:"venue_5_music.mp3"},{bytes:709192,md5:"2077697ae859d557a086b2ccd662034a",name:"venue_5_music.ogg"},{bytes:107772,md5:"ee96139f788fba0a5c053ace23a589b7",name:"venue_5_bg.jpg"}],venue_4:[{bytes:128363,md5:"9fe2249de48a3e0fc9fdc6cfaad88dd3",name:"venue_4_bg.jpg"},{bytes:663464,md5:"716e1d820e2ad4a27cf23a170adf69e3",name:"venue_4_music.mp3"},{bytes:828722,md5:"b53d403078ce4d146b31df950f48862c",name:"venue_4_music.ogg"}],venue_3:[{bytes:643254,md5:"df7a87616e55939013afa201e5c35c51",name:"venue_3_music.mp3"},
{bytes:790367,md5:"7c59f8c2daac86a5e2dfeb5b7dfc9652",name:"venue_3_music.ogg"},{bytes:162307,md5:"916d185baa0c65fab1abcde9199bc082",name:"venue_3_bg.jpg"}],venue_2:[{bytes:509037,md5:"b03699c4e6146ad11165f9ee09e5a830",name:"venue_2_music.mp3"},{bytes:91347,md5:"d14f5eada3df835ec96e7f633475f6cc",name:"venue_2_bg.jpg"},{bytes:686446,md5:"1cf4cc55574133171f0e00d5aac1d81f",name:"venue_2_music.ogg"}],venue_1:[{bytes:776276,md5:"e269fe128f8e5bf0a5ad26a0cc36db97",name:"venue_1_music.ogg"},{bytes:496263,
md5:"f350867db4d72d85b36a6d23fcb3e57f",name:"venue_1_music.mp3"},{bytes:69043,md5:"5d4dfec988070aa3ff24b06dc8fe3893",name:"venue_1_bg.jpg"}],initial_audio_required:[{bytes:6605,md5:"2b3309b639f06b48c2dcd510c37f4d78",name:"music_hub_stinger.mp3"},{bytes:13836,md5:"8b6c7a2562be64daa439144f031299b2",name:"hangout_stinger.mp3"},{bytes:23208,md5:"ea3851bbb3743b859b9c693ce0552d6f",name:"radio_bit_1.ogg"},{bytes:8426,md5:"3dae65fe32cf4b1c65eba3e9fce505d1",name:"tv_static.mp3"},{bytes:21798,md5:"ef3267b481655d35c3c7cddf8c953fbd",
name:"radio_bit_3.ogg"},{bytes:24598,md5:"2fd6dced8da099d6bb13c10709bf36e8",name:"radio_bit_2.ogg"},{bytes:86361,md5:"75f5503043bb107a92cc730e9ced9a20",name:"hangout_music.mp3"},{bytes:101768,md5:"d9d00405b302acc2016d985a45316b6f",name:"music_hub.mp3"},{bytes:125603,md5:"3ae9d6ac470fee044a2c8d5ae0909342",name:"hangout_music.ogg"},{bytes:12720,md5:"1db48c166976b5b949c047abda5227c8",name:"radio_bit_3.mp3"},{bytes:14827,md5:"305cfaf9ac7db2c865c41999ad81f082",name:"radio_bit_2.mp3"},{bytes:13075,md5:"62f2b22b86d4d745ddaaf6766e0e433f",
name:"music_hub_stinger.ogg"},{bytes:19681,md5:"44da21f382c28de348dc8e17971b51ea",name:"hangout_stinger.ogg"},{bytes:13630,md5:"523f77f796b036d7514c45686c46205d",name:"radio_bit_1.mp3"},{bytes:15597,md5:"971e396d6f6275f454b961d829e2f090",name:"tv_static.ogg"},{bytes:152784,md5:"d8b0abb482c2d20a1bd60b51117a9bd0",name:"music_hub.ogg"}],character_lincoln:[{bytes:19302,md5:"8175bf9e55e659089b1afdcfaf0bec85",name:"lincoln.json"},{bytes:12841,md5:"1bbb1e8fd62bb015816aa44148953b6f",name:"lincoln.png"},{bytes:2371,
md5:"2995c806705c1b44a2f018e552447a33",name:"lincoln.atlas"}],gameplay_audio_required:[{bytes:5865,md5:"a6b259941af0bcb041631727270e0694",name:"too_soon.ogg"},{bytes:4712,md5:"00c082ee63461d13625b25e1957fcc98",name:"collect.ogg"},{bytes:863,md5:"ecb8f408f8233b375addf6f8d33970dc",name:"light.mp3"},{bytes:27001,md5:"ce018c6b743f77ef2c5ddbf664ebb4da",name:"cheer.mp3"},{bytes:4712,md5:"260e4631efeee8bbe3d1baffb12a679f",name:"get2.ogg"},{bytes:4328,md5:"7e0840ae4cc58efaea3d81c3e1ae0dc8",name:"collect_2.ogg"},
{bytes:4339,md5:"36b4d02fde418ada060032ff1fba860e",name:"get1.ogg"},{bytes:43075,md5:"66046003f3500b5fcae32f4d3445ddcb",name:"cheer_long.mp3"},{bytes:1673,md5:"9ce827186d1a25364e0add0ab6c46c70",name:"too_soon.mp3"},{bytes:970,md5:"18dabc839f086e87023f0b4abf92f7d8",name:"get1.mp3"},{bytes:119379,md5:"05c40b88b90ba695f0cce274592683a6",name:"cheer_long.ogg"},{bytes:72642,md5:"ad4442378db32154bde6fc60505ff938",name:"cheer.ogg"},{bytes:1438,md5:"4f190e10e28ee9db738b76e3d43ef7b9",name:"get2.mp3"},{bytes:840,
md5:"54cc39c1462649c25692eea34bdd1a34",name:"collect_2.mp3"},{bytes:3685,md5:"e0938a1529fd3ad5e61da1753b32eea1",name:"light.ogg"},{bytes:1257,md5:"444ad2e3fc348c9bc03be0f5590fcd9b",name:"collect.mp3"}],gameplay_universal:[{bytes:5238,md5:"41e4be6e26f59b951437cf98fbad6497",name:"gameplay_universal_1.atlas"},{bytes:631,md5:"35264cf725d26e13386f23c5e6492cf6",name:"star_particle.png"},{bytes:562,md5:"0d41c94ed834aef2ed8d2a1270629aa0",name:"band_member_highlight.png"},{bytes:4702,md5:"099e3bb79cf374db08e2ca021efd48b5",
name:"gameplay_universal_0.atlas"},{bytes:99394,md5:"0e919b81f64fa753a101c52ef87380d1",name:"gameplay_universal_1.png"},{bytes:87382,md5:"661a60873c6db009ffff72525727d623",name:"gameplay_universal_0.png"},{bytes:1459,md5:"69a273bcda8b4bfc5cb233943d4b52d4",name:"music_note_fill.png"},{bytes:9831,md5:"b2a6199b5c9e4ed0b4be88a1a13655ac",name:"gameplay_universal_2.png"},{bytes:441,md5:"9ea0cef2682dfb54242bdfa5baee5e2f",name:"gameplay_universal_2.atlas"}],initial_universal:[{bytes:3826,md5:"44996784b8b6dee98eac4eaef2a3bebb",
name:"initial_universal_1.atlas"},{bytes:91232,md5:"ee2bdf5b986da79579fd16e08c634fe8",name:"hangout_bg.jpg"},{bytes:35299,md5:"8ca824fb490d9691ca11dd9244c01548",name:"dialogue_box.png"},{bytes:4346,md5:"9781a68b5073c99461d7fdd0b3a1c419",name:"button_venue_locked.png"},{bytes:146409,md5:"fd04e44678268970104ee03c9e6ed3a7",name:"initial_universal_0.png"},{bytes:2763,md5:"63f86593bdea10e8ef9563f8cc21b3bc",name:"initial_universal_0.atlas"},{bytes:198716,md5:"44999c1381a564ce31bbe8b5f46da3dd",name:"initial_universal_1.png"},
{bytes:9835,md5:"f247d0ed5adfb5a73000328d3734f53a",name:"sfx/unlock.mp3"},{bytes:1587,md5:"baa4b58f58756200e2e00b8141179abb",name:"sfx/whoosh.mp3"},{bytes:859,md5:"b86c628ca657bf9b3724b0658edc1b03",name:"sfx/button.mp3"},{bytes:5539,md5:"2795efbd9de0a10b112fc05cb1db4b91",name:"sfx/achievement.mp3"},{bytes:6104,md5:"1ec097bbdf290b23f2a004390983b343",name:"sfx/earned.ogg"},{bytes:3832,md5:"84cc10793ad1885dfc023924ca627a2f",name:"sfx/button.ogg"},{bytes:19059,md5:"636d73ecea5e9049265ab5b42d693a2d",name:"sfx/unlock.ogg"},
{bytes:9686,md5:"49b64d73b38265f698793acd06de320f",name:"sfx/whoosh.ogg"},{bytes:3200,md5:"6360ef245fc747dc352f73026f729ef9",name:"sfx/earned.mp3"},{bytes:11523,md5:"af267166dd7a7328d856d740fd6dc4c8",name:"sfx/achievement.ogg"},{bytes:1888,md5:"7c52dcde22dc5a5e3543973b538fa009",name:"initial_universal_2.atlas"},{bytes:89467,md5:"b92025fca952d755d04f23a734f65119",name:"initial_universal_2.png"},{bytes:34633,md5:"99b1c9c9132ee5670165e35da4883ada",name:"hangout_overlay.png"}],bootstrap:[{bytes:174948,
md5:"9985910aa1d3889239693bdca0cf08a7",name:"ui/splash/loudhouse_splash.jpg"},{bytes:428,md5:"a4eba24f9da0dced7be8c77c03dba1ec",name:"config/config.xml"},{bytes:3903,md5:"14e195fda0695607432e2769a1f22948",name:"config/config_loading.xml"},{bytes:5514,md5:"ae7363bbe4b631824f218d7866f30307",name:"audio/silent.ogg"},{bytes:729,md5:"36a8e976e6c5a87f81f726b03288c2b6",name:"audio/silent.mp3"}],fonts_ru:[{bytes:20496,md5:"24b49f6a3e9112f804df7729fa75becc",name:"translation.xml"},{bytes:40521,md5:"e5ab36d3c5d7085da2f2c401c0f5ecb0",
name:"font_ru.fnt"},{bytes:117816,md5:"9b523f60b724a99f988d5eeba9c3ec68",name:"font_ru.png"}],fonts_la:[{bytes:20496,md5:"8d2ba08ad1ad43845e1b03ab945fac7d",name:"translation.xml"},{bytes:80931,md5:"f52863c6d114cce1d08a8dafe9c86778",name:"font_la.png"},{bytes:28924,md5:"1d88c655f4a13366a1bb401a6277e6e8",name:"font_la.fnt"}],fonts_kr:[{bytes:20206,md5:"340ae601130ace505114b5c45d746b50",name:"translation.xml"},{bytes:18116,md5:"25e6859055d758ae1a51ed67a9e017ab",name:"Basic.fnt"},{bytes:44063,md5:"e07e33e7f0c7e9c587c5c0e619d7a722",
name:"Basic.png"}],fonts_jp:[{bytes:20206,md5:"340ae601130ace505114b5c45d746b50",name:"translation.xml"},{bytes:18116,md5:"25e6859055d758ae1a51ed67a9e017ab",name:"Basic.fnt"},{bytes:44063,md5:"e07e33e7f0c7e9c587c5c0e619d7a722",name:"Basic.png"}],fonts_en:[{bytes:20209,md5:"2a3fca8abdca03548f5dfacc431ea97f",name:"translation.xml"},{bytes:18116,md5:"25e6859055d758ae1a51ed67a9e017ab",name:"Basic.fnt"},{bytes:44063,md5:"e07e33e7f0c7e9c587c5c0e619d7a722",name:"Basic.png"}],fonts_cn:[{bytes:20206,md5:"340ae601130ace505114b5c45d746b50",
name:"translation.xml"},{bytes:18116,md5:"25e6859055d758ae1a51ed67a9e017ab",name:"Basic.fnt"},{bytes:44063,md5:"e07e33e7f0c7e9c587c5c0e619d7a722",name:"Basic.png"}],temp:[]}]}};bb._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();Hb.NEWLINE=new he(10);jb._sharedEvent=new Sf;Ya._sharedEvent=new Tf;Ma._sharedEvent=new Uf;ic.CANVAS_TEXTURES=(new tb("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);
da._mediaRefCount=0;da._detectBlobSupport=!0;P.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];P.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new tb("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);Z._detectSupport=!0;cb.USE_CACHE=!1;cb.USE_ENUM_INDEX=!1;cb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Xa.DEFAULT_RESOLVER=ea;Xa.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Wa.count=0;yb.escapes=function(){var a=new S;a.set("lt",
"<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);zb.main()})();
