
(function(){
    'use strict';


    var Player=function()
    {
        this.initialize();
    };
    var player=Player.prototype=new createjs.Container();
    player.Container_initialize=player.initialize;
    player.initialize=function()
    {


        this.Container_initialize();
        var data={
            "framerate":24,
            "images":["img/lamput_anim.png"],
            "frames":[
                [2, 2, 124, 252, 0, -25, -3],
                [134, 2, 124, 252, 0, -25, -3],
                [266, 2, 124, 252, 0, -25, -3],
                [398, 2, 124, 252, 0, -25, -3],
                [530, 2, 124, 252, 0, -25, -3],
                [662, 2, 124, 252, 0, -25, -3],
                [794, 2, 124, 252, 0, -25, -3],
                [926, 2, 124, 252, 0, -25, -3],
                [1058, 2, 124, 252, 0, -25, -3],
                [1190, 2, 124, 252, 0, -25, -3],
                [1322, 2, 124, 252, 0, -25, -3],
                [1454, 2, 124, 252, 0, -25, -3],
                [1586, 2, 124, 252, 0, -25, -3],
                [1718, 2, 124, 252, 0, -25, -3],
                [1850, 2, 124, 252, 0, -25, -3],
                [2, 262, 124, 252, 0, -25, -3],
                [134, 262, 124, 252, 0, -25, -3],
                [266, 262, 124, 252, 0, -25, -3],
                [398, 262, 124, 252, 0, -25, -3],
                [530, 262, 124, 252, 0, -25, -3],
                [662, 262, 124, 252, 0, -25, -3],
                [794, 262, 124, 252, 0, -25, -3],
                [926, 262, 124, 252, 0, -25, -3],
                [1058, 262, 124, 252, 0, -25, -3],
                [1190, 262, 124, 252, 0, -25, -3],
                [1322, 262, 124, 252, 0, -25, -3],
                [1454, 262, 124, 252, 0, -25, -3],
                [1586, 262, 124, 252, 0, -25, -3],
                [1718, 262, 124, 252, 0, -25, -3],
                [1850, 262, 124, 252, 0, -25, -3],
                [2, 522, 124, 252, 0, -25, -3],
                [134, 522, 124, 252, 0, -25, -3],
                [266, 522, 124, 252, 0, -25, -3],
                [398, 522, 124, 252, 0, -25, -3],
                [530, 522, 124, 252, 0, -25, -3],
                [662, 522, 124, 252, 0, -25, -3],
                [794, 522, 124, 252, 0, -25, -3],
                [926, 522, 124, 252, 0, -25, -3],
                [1058, 522, 124, 252, 0, -25, -3],
                [1190, 522, 124, 252, 0, -25, -3],
                [1322, 522, 124, 252, 0, -25, -3],
                [1454, 522, 124, 252, 0, -25, -3],
                [1586, 522, 124, 252, 0, -25, -3],
                [1718, 522, 124, 252, 0, -25, -3],
                [1850, 522, 124, 252, 0, -25, -3],
                [2, 782, 124, 252, 0, -25, -3],
                [134, 782, 124, 252, 0, -25, -3],
                [266, 782, 124, 252, 0, -25, -3],
                [398, 782, 124, 252, 0, -25, -3],
                [530, 782, 124, 252, 0, -25, -3],
                [662, 782, 124, 252, 0, -25, -3],
                [794, 782, 124, 252, 0, -25, -3],
                [926, 782, 124, 252, 0, -25, -3],
                [1058, 782, 124, 252, 0, -25, -3]
            ],
            "animations":{
                "jump": {
                    "next": "fly",
                    "speed": 1,
                    "frames": [34, 35, 36, 37, 38, 39, 40, 41, 42, 43]
                },
                "falling": {"next": "fall", "speed": 1, "frames": [45, 46, 47, 48]},
                "idle": {
                    "frames": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16],
                    "speed": 1
                },
                "fall": {"frames": [49], "speed": 1},
                "fly": {"frames": [44], "speed": 1},
                "walk": {
                    "next": "walk",
                    "speed": 1,
                    "frames": [
                        17,
                        18,
                        19,
                        20,
                        21,
                        22,
                        23,
                        24,
                        25,
                        26,
                        27,
                        28,
                        29,
                        30,
                        31,
                        32,
                        33
                    ]
                }
            }
        };
        var spriteSheet = new createjs.SpriteSheet(data);


        this.player = new createjs.Sprite(spriteSheet,'idle');
        this.player.regX = 50;
        this.isWalking =false;
        this.isJumping =false;
        this.addChild(this.player);
        this.hz = new c.Bitmap(main.loadedData.getResult('hz'))
        this.hz.x = -32;
        this.hz.y = 85;
        this.hz.visible=false;
        this.hz.alpha=0.5;
        this.addChild(this.hz);
    };
    player.playAnim = function(s,scale){

        if(this.player.currentAnimation!==s){
            this.player.gotoAndPlay(s);
        }
        if(scale)this.scaleX =scale;
    }
    player.revert=function(scale){
        this.scaleX =scale;
    }
    window.Player=Player;
}());
