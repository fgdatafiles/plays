function GameTitle(a){var b=include("createjs.Sprite"),c=include("springroll.EventDispatcher");this.id=a,this.splash=new b(ss[a+"_gametitles"],"title_"+app.languages.current),this.playBT=new b(ss[a+"_gametitles"],"play_up_"+app.languages.current),this.ev_disp=new c,this.init()}function GameTracking(){DelayedCall=include("springroll.DelayedCall"),this.tickCountMillSec=25,this.description="",this.currentAudioID="",this.timerAmt=0,this.amountDisplayed=0,this.dispatchTrackingEvent=function(a){"function"==typeof sendTrackingCall&&sendTrackingCall(a)},this.startAudioTrack=function(a){if(this.description=this.description+app.config.sounds.trackaudio[a].description,-1!==this.description.indexOf("#showing")&&(this.description=this.description.replace("#showing",this.amountDisplayed.toString())),""===this.currentAudioID){var b=this.currentAudioID=a,c=app.config.sounds.trackaudio[a].eventAudioType,d=-1;this.timerAmt=0,app.on("update",this.updateAudioTime),""!==b&&("instruct"===c?d=3010:"feedback"===c&&(d=String(a).match(/NotEnough/i)||String(a).match(/TooMany/i)?3020:String(a).match(/correct/i)?3021:3010),this.dispatchTrackingEvent({event_code:d,media_type:"audio",description:this.description,identifier:b,total_duration:-1}))}else this.currentAudioID=a},this.endAudioTrack=function(){if(""!==this.currentAudioID){var a=this.currentAudioID,b=app.config.sounds.trackaudio[this.currentAudioID].eventAudioType,c=-1;app.off("update",this.updateAudioTime),this.timerAmt=Math.round(this.timerAmt/this.tickCountMillSec)*this.tickCountMillSec,""!==a&&("instruct"===b?c=3110:"feedback"===b&&(c=String(this.currentAudioID).match(/NotEnough/i)||String(this.currentAudioID).match(/TooMany/i)?3120:String(this.currentAudioID).match(/correct/i)?3121:3110),this.dispatchTrackingEvent({event_code:c,media_type:"audio",duration:this.timerAmt,description:this.description,identifier:a})),this.currentAudioID="",this.description=""}},this.updateAudioTime=function(a){this.timerAmt+=a},this.updateAudioTime=this.updateAudioTime.bind(this),app.learning.spec=app.config[app.languages.modifyUrl("%LANG%-events-spec")]||app.config["events-spec"],sendTrackingCall=function(a){if(app.learning&&"2000"!=a.event_code){var b=sendTrackingCall.prototype.matchorder(a);"4010"==a.event_code&&(b=[{coordinates:{x:0,y:0,stage_width:app.display.width,stage_height:app.display.height},starting_level_number:a.starting_level_number}]);var c=app.learning.catalog.events[a.event_code],d=app.learning[c];d&&"function"==typeof d&&d.apply(app.learning,b)}},sendTrackingCall.prototype.matchorder=function(a){if(!app.learning.spec.events[a.event_code])return null;var b,c=[],d=springroll.pbskids.EventCatalog.args[a.event_code];if(d)for(b in d)c.push(a[d[b].name]);else{d=app.learning.spec.events[a.event_code].args;for(b in d)c.push(a[d[b].name])}return c}}function HelperManager(){var a=include("springroll.EventDispatcher");this.ev_disp=new a,this["char"]="",this.overlayMsg="",this.manSeen=!1,this.initial_open=!0,this.init=function(){this.helperMC=new lib.Helper,this.helperMC.btnProf.mouseEnabled=!1,this.helperMC.btnMyh.mouseEnabled=!1,this.helperMC.btnArr.visible=!1,this.helperMC.msg.stop(),this.helperMC.gotoAndStop(0)},this.helperIsReady=function(){"myh"===this["char"]?this.helper_btn=this.helperMC.btnMyh:this.helper_btn=this.helperMC.btnProf,this.disableHelperButton(),this.helper_btn.addEventListener("click",this.clickCharBtn,!1),this.btnArr=this.helperMC.btnArr,this.btnArr.visible=!1,this.btnArr.addEventListener("click",this.clickBtnArr,!1),"haveCam"!==this.overlayMsg&&"haveMic"!==this.overlayMsg&&this.triggerMessageEvent("HELPER_READY")},this.launchHelper=function(){if("ten"===app.game_name||"rocket"===app.game_name)this["char"]="prof",this.head=this.helperMC.prof_head,app.animator.play(this.helperMC,"prof_in",this.helperIsReady);else switch(this["char"]="myh",this.head=this.helperMC.head,app.game_name){case"bubbles":this.doOverlay("haveMic");break;case"jump":this.doOverlay("haveCam");break;default:app.animator.play(this.helperMC,"myh_in",this.helperIsReady)}this.head.eyes.framerate=app.options.fps},this.doOverlay=function(a){this.overlayMsg=a,"haveCam"!==this.overlayMsg&&"haveMic"!==this.overlayMsg&&this.disableHelperButton(),app.animator.play(this.helperMC,this["char"]+"_overlay",this.overlayOpened)},this.enableResponseButtons=function(){"haveCam"===this.overlayMsg||"haveMic"===this.overlayMsg?(this.yes_bt.mouseEnabled=!0,this.no_bt.mouseEnabled=!0,this.yes_bt.addEventListener("click",this.clickBtnYes,!1),this.no_bt.addEventListener("click",this.clickBtnNo,!1),this.yes_bt.addEventListener("mouseover",this.overBtnYes,!1),this.no_bt.addEventListener("mouseover",this.overBtnNo,!1)):this.btnArr.visible=!0},this.endInstructions=function(){"myh"===this["char"]&&app.animator.play(this.helperMC,"myh_out",this.myhClosed)},this.enableHelperButton=function(){this.helper_btn.mouseEnabled=!0},this.disableHelperButton=function(){this.helper_btn.mouseEnabled=!1},this.clickCharBtn=function(){this.disableHelperButton(),"myh"===this["char"]?(this.triggerMessageEvent("MYH_CLICKED"),app.animator.play(this.helperMC,"myh_in",this.charIsReady)):this.triggerMessageEvent("PROF_CLICK_ACTION")},this.charIsReady=function(){this.triggerMessageEvent("MYH_ACTION")},this.myhClosed=function(){this.enableHelperButton(),this.triggerMessageEvent("MYH_DONE")},this.overlayOpened=function(){this.helperMC.msg.gotoAndStop(this.overlayMsg+"_"+app.languages.current),"haveCam"===this.overlayMsg||"haveMic"===this.overlayMsg?(this.helperMC.art.gotoAndStop("yes_no_"+app.languages.current),this.helperIsReady()):this.helperMC.art.gotoAndStop(app.game_name+"_"+app.languages.current),("haveCam"===this.overlayMsg||"haveMic"===this.overlayMsg)&&(this.yes_bt=this.helperMC.art["btnYes_"+app.languages.current],this.no_bt=this.helperMC.art["btnNo_"+app.languages.current],this.yes_bt.mouseEnabled=!1,this.no_bt.mouseEnabled=!1),this.triggerMessageEvent("SPEAK_OVERLAY")},this.overBtnYes=function(){this.triggerMessageEvent("OVER_YES")},this.overBtnNo=function(){this.triggerMessageEvent("OVER_NO")},this.clickBtnYes=function(){this.yes_bt.removeEventListener("click",this.clickBtnYes,!1),this.no_bt.removeEventListener("click",this.clickBtnNo,!1),this.yes_bt.removeEventListener("mouseover",this.overBtnYes,!1),this.no_bt.removeEventListener("mouseover",this.overBtnNo,!1),this.triggerMessageEvent("YES_SELECTED"),this.clickBtnArr()},this.clickBtnNo=function(){this.yes_bt.removeEventListener("click",this.clickBtnYes,!1),this.no_bt.removeEventListener("click",this.clickBtnNo,!1),this.yes_bt.removeEventListener("mouseover",this.overBtnYes,!1),this.no_bt.removeEventListener("mouseover",this.overBtnNo,!1),this.triggerMessageEvent("NO_SELECTED"),this.clickBtnArr()},this.clickBtnArr=function(){"haveCam"===this.overlayMsg||"haveMic"===this.overlayMsg?this.helperMC.gotoAndStop("myh_full"):("myh"===this["char"]?this.helperMC.gotoAndStop("idle"):"prof"===this["char"]&&this.helperMC.gotoAndStop("idle2"),this.enableHelperButton(),this.btnArr.visible=!1),this.triggerMessageEvent("OVERLAY_DONE")},this.triggerMessageEvent=function(a){this.ev_disp.trigger(a)},this.clearObject=function(){this.btnArr.removeEventListener("click",this.clickBtnArr,!1),this.helper_btn.removeEventListener("click",this.clickCharBtn,!1)},this.clickCharBtn=this.clickCharBtn.bind(this),this.helperIsReady=this.helperIsReady.bind(this),this.charIsReady=this.charIsReady.bind(this),this.myhClosed=this.myhClosed.bind(this),this.overlayOpened=this.overlayOpened.bind(this),this.clickBtnYes=this.clickBtnYes.bind(this),this.clickBtnNo=this.clickBtnNo.bind(this),this.overBtnYes=this.overBtnYes.bind(this),this.overBtnNo=this.overBtnNo.bind(this),this.clickBtnArr=this.clickBtnArr.bind(this),this.init()}namespace("WGBH").GameTitle=GameTitle;var p=GameTitle.prototype;p.init=function(){this.playBT.x=618,this.playBT.y=312,("drive"===this.id||"jump"===this.id||"meatballs"===this.id||"bubbles"===this.id)&&(this.playBT.x+=18),this.playBT.buttonEnabled=!0,this.playBT.cursor="pointer",this.playBT.addEventListener("mouseover",this.onMouseOver.bind(this)),this.playBT.addEventListener("mouseout",this.onMouseOut.bind(this)),this.playBT.addEventListener("mousedown",this.onMouseDown.bind(this)),this.playBT.addEventListener("pressup",this.onMouseOver.bind(this))},p.onMouseOver=function(a){this.playBT.gotoAndStop("play_over_"+app.languages.current)},p.onMouseOut=function(a){null!==this.playBT&&this.playBT.gotoAndStop("play_up_"+app.languages.current)},p.onMouseDown=function(a){this.playBT.gotoAndStop("play_down_"+app.languages.current)},p.clearObject=function(){this.playBT.removeEventListener("mouseover",this.onMouseOver.bind(this)),this.playBT.removeEventListener("mouseout",this.onMouseOut.bind(this)),this.playBT.removeEventListener("mousedown",this.onMouseDown.bind(this)),this.playBT.removeEventListener("pressup",this.onMouseOver.bind(this)),this.playBT=null,this.splash=null},namespace("WGBH").GameTracking=GameTracking,namespace("WGBH").HelperManager=HelperManager,function(a){function b(){this.Container_constructor(),this.outer_bg=new c,this.inner_bg=new c,this.setup()}var c=include("createjs.Shape"),d=a.extend(b,a.Container);d.setup=function(){this.outer_bg.graphics.f("#5CAEE0").dr(0,0,302,12).ef(),this.inner_bg.graphics.f("#216C88").dr(1,1,100,10).ef(),this.x=300,this.y=420,this.addChild(this.outer_bg),this.addChild(this.inner_bg)},d.setbar=function(a){a=Math.max(.33,a),this.inner_bg.graphics.clear(),this.inner_bg.graphics.f("#216C88").dr(1,1,300*a,10).ef()},namespace("WGBH").LoaderBar=a.promote(b,"Container")}(createjs),function(){var a=include("springroll.easeljs.BasePanel"),b=function(){a.call(this)},c=a.prototype,d=extend(b,a);d.setup=function(){this.skin=new lib.Game,this.game_skin=this.skin,this.addChild(this.game_skin),this.addChild(app.helper.helperMC)},d.teardown=function(){c.teardown.call(this),this.skin=null},namespace("WGBH").GamePanel=b}(),function(){var a=include("springroll.easeljs.BasePanel"),b=include("WGBH.GameTitle"),c=function(){a.call(this)},d=a.prototype,e=extend(c,a);e.setup=function(){this.gameTitle=new b("ten"),this.addChild(this.gameTitle.splash),this.addChild(this.gameTitle.playBT)},e.teardown=function(){d.teardown.call(this),this.gameTitle.clearObject()},namespace("WGBH").TitlePanel=c}(),function(){var a,b,c=include("springroll.easeljs.BaseState"),d=include("WGBH.GamePanel"),e=function(e){function f(a){null!==a&&null!==a.target.name&&("btnPlay"===a.target.name,t()),play()}function g(a){var b=i(a);va.reset(),b.gotoAndStop(0)}function h(a){V=i(a);var b=function(){k(!1),V.gotoAndPlay(4),ya(),za(!1)};if(Q=V.num.currentFrame+1,app.voPlayer.playing){k(!1);setTimeout(b,app.voPlayer.currentDuration-app.voPlayer.currentPosition+250)}else b()}function i(a){var b=a.target;return b}function j(a){null!==va.timerID&&ia()}function k(a,b){app.helper.helper_btn&&(a?app.helper.enableHelperButton():app.helper.disableHelperButton());for(var c=0;3>c;c++)a===!0?G("btn"+c).mouseEnabled=!0:b!=c&&(G("btn"+c).mouseEnabled=!1)}function l(){z.george.head.gotoAndPlay("excited_"+_[aa]),o("Excited"+_[aa]),aa=aa!=_.length-1?aa+1:0}function m(){z.george.head.gotoAndPlay("correct_"+_[ba]),o("Correct"+_[ba]),ba=ba!=_.length-1?ba+1:0}function n(){z.george.head.gotoAndPlay("incorrect_"+_[ca]),o("Incorrect"+_[ca]),ca=ca!=_.length-1?ca+1:0}function o(a){app.sound.play("sCG"+a)}function p(a){app.sound.play(a)}function q(){var a=ta(1,10),b=ta(0,6);return a.push(a[b[0]]),a.push(a[b[1]]),a.push(a[b[2]]),a.push(a[b[3]]),a.push(a[b[4]]),a.push(a[b[5]]),a}function r(){y({event_code:2020,starting_round_number:Fa,round_target_value:Ca,hole_positions:Ea,answer_choices:Da,object_type:Ha})}function s(){y({event_code:2040,starting_level_number:Ga,round_target_value:Ca,hole_positions:Ea,answer_choices:Da,object_type:Ha})}function t(){y({event_code:4010,starting_level_number:Ga})}function u(){y({event_code:4020,round_target_value:Ca,number_clicked:Ia,position:Ea,correct:Ja})}function v(){y({event_code:4090,round_target_value:Ca})}function w(){y({event_code:2030,beat_round_number:Fa}),Fa++}function x(){Fa%2===0&&(y({event_code:2050,beat_level_number:Ga}),Ga++)}function y(a){app.game_tracking.dispatchTrackingEvent(a)}c.call(this,new d,e);var z,A,B,C,D,E=Math.floor,F=Math.random,G=function(a){return z[a]},H=(console.log,!0),I=[],J=!1,K=!1,L=[[[1,2,3,1],[1,2,3,2],[1,3,2,1],[2,1,3,2],[2,1,3,1],[2,3,1,2],[3,1,2,1],[3,2,1,2]],[[3,4,5,3],[3,4,5,4],[3,5,4,3],[4,3,5,4],[4,3,5,3],[4,5,3,4],[5,3,4,3],[5,4,3,4]],[[5,6,7,5],[5,6,7,6],[5,7,6,5],[6,5,7,6],[6,5,7,5],[6,7,5,6],[7,5,6,5],[7,6,5,6]],[[7,8,9,7],[7,8,9,8],[7,9,8,7],[8,7,9,8],[8,7,9,7],[8,9,7,8],[9,7,8,7],[9,8,7,8]]],M=[[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7]],N=-1;this.corAns=null;var O,P,Q;this.getChoice=function(){return Q}.bind(this);var R,S,T,U,V=null,W=[1,2,3,2,1,3,2,3,1,3,1,2,1,3,2],X=E(F()*W.length),Y=E(F()*W.length),Z=[2,3,4,1,5,6,2,4,5,1,3,6,5,3,2,4,1,6,3,2,6,5,1,4],$=E(F()*Z.length),_=[1,3,2,5,4,3,1,5,2,4,1,5,3,2,4,5,1,3,4,2],aa=E(F()*_.length),ba=E(F()*_.length),ca=E(F()*_.length),da=["fantastic","terrific","goodJob","wellDone","niceWork"],ea=E(F()*_.length),fa=-1,ga=-1,ha=app.helper;this.objType=null,this.setupGame=function(){function a(){for(var a=0;3>a;a++){var b=G("btn"+a);b.name="answer_button_"+a,b.on("mousedown",xa),b.on("mouseover",wa),b.on("mouseout",g),b.on("click",h),b.buttonMode=!0,b.mouseChildren=!1}k(!1),U&&(stop(),setTimeout(f,2500))}z=b.game_skin,z.game_state=this,this.sync_audio=!1,this.onPanelUpdate=this.onPanelUpdate.bind(this),app.on("update",this.onPanelUpdate),a(),app.helper.ev_disp.on("OVERLAY_DONE",ra),app.helper.ev_disp.on("SPEAK_OVERLAY",qa),app.helper.ev_disp.on("HELPER_READY",this.startInstruction),this.startGame()},this.startGame=function(){this.background_sound=app.sound.play("ambience",{loop:-1,volume:.31}),ka(),app.helper.launchHelper()}.bind(this),this.playNarrSeq=function(){if(0===I.length)return void(J=!1);J||(app.helper.btnProf,J=!0),app.voPlayer.playing&&(I=[300].concat(I));var a=I.shift();"string"==typeof a?(Oa(a),A=a,"foo"!=A.substr(0,3)&&(this.playMYH(A,app.config.sounds.lipsync[app.languages.current][A],this.playNarrSeq,!0),na()),I.length>0):"number"==typeof a?window.setTimeout(ma,a):"function"==typeof a&&(Pa(),J=!1,app.helper.btnProf&&(ha.btnProf.mouseEnabled=!0),a.call())}.bind(this);var ia=this.playNarrSeq;this.playMYH=function(a,b,c,d){this.myhSpeaking=!0,this.sync_audio=d,this.endResult=c,this.myhARR=b,app.voPlayer.play(a,this.soundIsDone,{loop:!1,volume:.2})}.bind(this),this.soundIsDone=function(){function a(){Pa()}if(this.myhSpeaking=!1,this.sync_audio=!1,"function"==typeof this.endResult)a(),this.endResult();else switch(this.endResult){case"close_MYH":this.endResult="",Pa(),app.helper.endInstructions(),app.helper.ev_disp.on("MYH_DONE",this.myhClosed),k(!0),app.helper.enableHelperButton();break;case"Intro1_done":a(),this.startInstruction2();break;case"Intro2_done":a(),ja();break;case"":a()}}.bind(this),this.startInstruction=function(){app.helper.ev_disp.off("HELPER_READY",this.startInstruction),this.char_mouth=app.helper.head.mouth,this.playMYH("Intro1",app.config.sounds.lipsync[app.languages.current].Intro1,"Intro1_done",!0),Oa("Intro1")}.bind(this),this.startInstruction2=function(){this.char_mouth=app.helper.head.mouth,this.playMYH("Intro2",app.config.sounds.lipsync[app.languages.current].Intro2,"Intro2_done",!0),Oa("Intro2")}.bind(this),this.instructionsClick=function(){app.helper.ev_disp.on("MYH_ACTION",this.readyForRepeatInstructions),k(!1),this.myhSpeaking||app.helper.triggerMessageEvent("MYH_ACTION"),v()}.bind(this),this.readyForRepeatInstructions=function(){app.helper.ev_disp.off("MYH_ACTION",this.readyForRepeatInstructions),this.playMYH("Intro2",app.config.sounds.lipsync[app.languages.current].Intro2,"close_MYH",!0),Oa("Intro2")}.bind(this);var ja=function(){H?H=!1:(t(),Fa%2!==0&&s(),r());var a=this.instructionsClick,b=function(){k(!0),app.helper.ev_disp.on("MYH_CLICKED",a),app.helper.ev_disp.on("PROF_CLICK_ACTION",a),app.helper.enableHelperButton()};I=[200,"Instruct1","ProfNumExcited"+(10-this.corAns),this.corAns<9?"Instruct2b":"Instruct2",333,"Instruct3",b],ia()}.bind(this);this.onPanelUpdate=function(){this.sync_audio&&this.char_mouth.gotoAndStop(this.myhARR[parseInt(this.myhARR.length*app.voPlayer.currentPosition/app.voPlayer.currentDuration)])}.bind(this);var ka=function(){if(ua(),V=null,S=0,b.game_skin.george.gotoAndStop(1),N=15>N?N+1:0,0===N&&(B=q()),this.objType=B[N],N%4===0){var a=E(N/4);0===M[a].length&&(M[a]=[0,1,2,3,4,5,6,7]),C=sa(M[a]),D=L[a][C]}this.corAns=D[N%4],app.game_tracking.amountDisplayed=10-this.corAns,O=N%4>1,P=[1,2,3,4,5,6,7,8,9,10];var c;for(c=1;10>=c;c++)G("itm"+c).obj.gotoAndStop(this.objType-1);if(O){for(G("itm10").gotoAndStop("out"),P.pop(),c=1;c<=9-this.corAns;c++)G("itm"+sa(P)).gotoAndStop("out");for(c=0;c<P.length;c++)G("itm"+P[c]).gotoAndStop(0)}else for(P.splice(0,10-this.corAns),c=1;10>=c;c++)c<=10-this.corAns?G("itm"+c).gotoAndStop("out"):G("itm"+c).gotoAndStop(0);var d=[];N>1&&this.corAns>2&&this.corAns<8&&fa===ga?0===ga?(this.corAns>3&&d.push(this.corAns-3),this.corAns>2&&d.push(this.corAns-2),this.corAns>1&&d.push(this.corAns-1),this.corAns<9&&d.push(this.corAns+1)):2===ga?(this.corAns<9&&d.push(this.corAns+1),this.corAns<8&&d.push(this.corAns+2),this.corAns<7&&d.push(this.corAns+3),this.corAns>1&&d.push(this.corAns-1)):1===ga&&(F()<.5?(this.corAns<9&&d.push(this.corAns+1),this.corAns<8&&d.push(this.corAns+2),this.corAns<7&&d.push(this.corAns+3)):(this.corAns>3&&d.push(this.corAns-3),this.corAns>2&&d.push(this.corAns-2),this.corAns>1&&d.push(this.corAns-1))):(this.corAns>3&&d.push(this.corAns-3),this.corAns>2&&d.push(this.corAns-2),this.corAns>1&&d.push(this.corAns-1),this.corAns<9&&d.push(this.corAns+1),this.corAns<8&&d.push(this.corAns+2),this.corAns<7&&d.push(this.corAns+3));var e=[this.corAns,sa(d),sa(d)];e.sort(Array.NUMERIC),z.btn0.num.gotoAndStop(e[0]-1),z.btn1.num.gotoAndStop(e[1]-1),z.btn2.num.gotoAndStop(e[2]-1),ga=fa,fa=e.indexOf(this.corAns),Ca=this.corAns,Da={choice1:e[0],choice2:e[1],choice3:e[2]},Ea=JSON.parse(la(P)),Ha=Ka(this.objType),H&&(t(),s(),r())}.bind(this),la=function(a){var b="{";for(var c in a){var d=a[c];b+='"'+c+'"',b+=":",b+=d,b+=", "}return b=b.slice(0,b.length-2),b+="}"}.bind(this),ma=(function(a){var b={};for(var c in a){var d=a[c];b[c]=d}return b}.bind(this),function(a){ia()}.bind(this)),na=(function(a){a.target.removeEventListener(a.type,arguments.callee),ia()}.bind(this),function(a){a.target.removeEventListener(a.type,arguments.callee),app.helper.removeEventListener(Event.ENTER_FRAME,moveCharLips),J=!1}.bind(this),function(){play()}.bind(this),function(){var a=0;if("TryAgain"===A||"CountEmpties"===A){for(V.gotoAndStop(0),V=null,a;a<P.length;a++)G("itm"+P[a]).gotoAndStop(0);Q>this.corAns?z.george.gotoAndPlay("res2"):z.george.gotoAndPlay("res1")}else if("HowManySpace"===A||"HowMany"===A)for(a;a<P.length;a++)G("itm"+P[a]).gotoAndStop(0)}.bind(this)),oa=(function(a){U=!0,btns.btnPlay.removeEventListener(MouseEvent.CLICK,f),a.target.removeEventListener(a.type,arguments.callee),stage.hasOwnProperty("fullScreenSourceRect")&&(stage.fullScreenSourceRect=new Rectangle(0,0,900,500)),stage.addEventListener(FullScreenEvent.FULL_SCREEN,oa),stage.displayState=StageDisplayState.FULL_SCREEN,play()}.bind(this),function(a){framing.visible=!a.fullScreen}),pa=function(){k(!1);var a=da[_[ea]-1];ea=ea!=_.length-1?ea+1:0,I=["Prof"+a.charAt(0).toUpperCase()+a.substr(1),500],K?N%4===3?I.push("GameOverlay"):R=!0:(K=!0,I.push("ProfClickKeepPlay")),app.helper.doOverlay(a),ia()}.bind(this),qa=(function(){V.gotoAndStop(1),V=null,ia(),ka()}.bind(this),function(){app.helper.btnArr.visible=!0}.bind(this)),ra=function(){ka(),ja()}.bind(this),sa=function(a){var b=a.splice(E(F()*a.length),1).shift();return b}.bind(this),ta=function(a,b){var c,d=[],e=[];for(c=a;a+b>c;c++)d.push(c);for(c=0;b>c;c++)e.push(d.splice(E(F()*d.length),1).shift());return e}.bind(this),ua=function(){G("btn0").gotoAndStop(0),G("btn1").gotoAndStop(0),G("btn2").gotoAndStop(0)}.bind(this),va=function(){var a={};return a.timerID=null,a.reset=function(){this.timerID=null},a.start=function(a){this.timerID=a},a}(),wa=function(a){a.target.gotoAndStop(1),I=["ProfNum"+(a.target.num.currentFrame+1)];var b=function(){j(a)}.bind(this);app.voPlayer.playing?va.start(setTimeout(b,app.voPlayer.currentDuration-app.voPlayer.currentPosition+250)):va.start(setTimeout(b,305))}.bind(this),xa=function(a){app.voPlayer.playing||a.target.gotoAndStop(2)}.bind(this);this.enabGameBtns=k;var ya=function(){clearTimeout(T),app.helper.disableHelperButton(),Ia=Q,Ja=!1;var a=function(){k(!0)};Q>this.corAns?(z.george.gotoAndPlay("hold"),n(),I=[500,"TooMany"+W[X]],X=X!=W.length-1?X+1:0,2===++S?I.push(400,"CountEmpties",400,Aa):I.push(250,"TryAgain",500,a)):Q<this.corAns?(z.george.gotoAndPlay("incorrect"),n(),I=[500,"NotEnough"+W[Y]],Y=Y!=W.length-1?Y+1:0,2===++S?I.push(400,"CountEmpties",Aa):I.push(250,"TryAgain",500,a)):(Ja=!0,N%4===3?(z.george.gotoAndPlay("excited"),l()):(z.george.gotoAndPlay("correct"),m()),I=[500,"Correct"+Z[$],230,pa],$=$!=Z.length-1?$+1:0),u(),Ja&&(x(),w()),ia()}.bind(this),za=function(a,b){a?V=null:Q>this.corAns?p("thud"):Q<this.corAns?p("swish"):(p("slide"),z.fanfare.gotoAndPlay(2));var c=0,d=null;if(Q>=this.corAns){for(c;c<P.length;c++)d=G("itm"+P[c]),d.play();Q>this.corAns&&b&&(z.george.gotoAndStop("hold"),z.george.head.gotoAndStop(115))}else for(c;Q>c;c++)d=G("itm"+P[c]),d.play()}.bind(this),Aa=function(){function a(){ua(),Ba(0)}window.setTimeout(a,500)}.bind(this),Ba=function(b){function c(){Ba(d)}var d=b+1;G("itm"+P[d-1]).gotoAndStop("lite");var e=function(){a.enabGameBtns(!0)};I=d<this.corAns?["ProfNumExcited"+d,c]:["ProfNumExcited"+d,d>1?"EmptySpaces":"EmptySpace",600,d>1?"HowMany":"HowManySpace",e],ia()}.bind(this),Ca=0,Da={},Ea={},Fa=1,Ga=1,Ha="",Ia=0,Ja=!1,Ka=function(a){var b="";switch(a){case 1:b="vase";break;case 2:b="egg";break;case 3:b="geode";break;case 4:b="globe";break;case 5:b="amber";break;case 6:b="ship";break;case 7:b="crystal";break;case 8:b="saturn";break;case 9:b="skeleton";break;case 10:b="footprint";break;default:b=""}return b}.bind(this),La=[{id:"OLClickStart",description:"Click the green button to start .",eventAudioType:"instruct"},{id:"Intro1",description:"Welcome to the museum! Each exhibit should have 10 things, but some are missing! ",eventAudioType:"instruct"},{id:"Intro2",description:"Click the number below to tell George how many more things are needed so that 10 are on display. ",eventAudioType:"instruct"},{id:"Instruct1",description:"Here we have ",eventAudioType:"instruct"},{id:"Instruct2b",description:" things/thing. ",eventAudioType:"instruct"},{id:"Instruct3",description:" How many more do we need so that we have 10 altogether? ",eventAudioType:"instruct"},{id:"Correct1",description:" You're right! Now all ten are on display! ",eventAudioType:"feedback"},{id:"Correct2",description:" That's it! This exhibit now has all ten things! ",eventAudioType:"feedback"},{id:"Correct3",description:" Thank you! This display of ten looks perfect. ",eventAudioType:"feedback"},{id:"Correct4",description:" Perfect. This exhibit is complete with all ten things. ",eventAudioType:"feedback"},{id:"Correct5",description:" That's right!  This exhibit looks great with all ten pieces! ",eventAudioType:"feedback"},{id:"Correct6",description:" Great! That's 10! ",eventAudioType:"feedback"},{id:"NotEnough1",description:" Oh, that's not enough. ",eventAudioType:"feedback"},{id:"NotEnough2",description:" Oops, that's not enough! ",eventAudioType:"feedback"},{id:"NotEnough3",description:" Hmm... Not enough. ",eventAudioType:"feedback"},{id:"TooMany1",description:" Oh, I'm afraid not. That's too many. ",eventAudioType:"feedback"},{id:"TooMany2",description:" Oops, that's too many. ",eventAudioType:"feedback"},{id:"TooMany3",description:" We didn't need that many. ",eventAudioType:"feedback"},{id:"CountEmpties",description:" Let's count the empty spaces. ",eventAudioType:"feedback"},{id:"HowMany",description:" So, how many things do we need to fill these empty spaces? ",eventAudioType:"feedback"}],Ma=25,Na=function(a){return this.tickCountMillSec=Ma,this.currentCount=function(){return 99},this.start=function(){},this.stop=function(){},this.reset=function(){},{start:this.start,stop:this.stop,reset:this.reset,currentCount:this.currentCount}}.bind(this);this.timerForAudio=new Na(Ma);var Oa=function(a){a in app.config.sounds.trackaudio&&app.game_tracking.startAudioTrack(a)}.bind(this),Pa=function(a){app.game_tracking.endAudioTrack()}.bind(this);(function(a){var b="";for(var c in La){var d=La[c];d.id==a&&(b=d.description)}return b}).bind(this)},f=extend(e,c);f.enterDone=function(){this.js_file="GameState.js",a=this,b=this.panel,this.setupGame()},f.exitStart=function(){},namespace("WGBH").GameState=e}(),function(){var a=include("springroll.easeljs.BaseState"),b=include("WGBH.TitlePanel"),c=function(c){a.call(this,new b,c),this.tracking_audio=!1,this.onPlay=this.onPlay.bind(this),this.speakButtonStart=this.speakButtonStart.bind(this),this.speakButtonEnd=this.speakButtonEnd.bind(this)},d=extend(c,a);d.enterDone=function(){this.panel.gameTitle.playBT.addEventListener("click",this.onPlay,!1),this.panel.gameTitle.splash.addEventListener("click",this.onPlay,!1),app.voPlayer.play(["GameTitle",800],this.speakButtonStart)},d.speakButtonStart=function(){app.voPlayer.play("ClickStart",this.speakButtonEnd),this.tracking_audio=!0,app.game_tracking.startAudioTrack("ClickStart")},d.speakButtonEnd=function(){this.tracking_audio=!1,app.game_tracking.endAudioTrack()},d.onPlay=function(){app.voPlayer.stop(),this.tracking_audio&&app.game_tracking.endAudioTrack(),this.nextState()},d.exit=function(){this.panel.gameTitle.playBT.removeEventListener("click",this.onPlay),this.panel.gameTitle.splash.removeEventListener("click",this.onPlay)},namespace("WGBH").TitleState=c}(),function(){var a=include("WGBH.TitleState"),b=include("WGBH.GameState"),c=include("WGBH.LoaderBar"),d=include("WGBH.GameTracking"),e=include("WGBH.HelperManager"),f=include("springroll.Application"),g=include("lib.Transition"),h=include("springroll.easeljs.EaselJSDisplay"),i=new g;i.framerate=30;var j=function(a,b){ss[b.id]=new createjs.SpriteSheet(a)},k=new f({fps:15,name:"Museum of Tens",state:"title",canvasId:"stage",configPath:"assets/config/config.json",manifestsPath:"assets/config/manifests.json",languagesPath:"assets/config/languages.json",display:h,displayOptions:{clearView:!0},preload:[{id:"Game_atlas_",src:"assets/images/Game_atlas_.json",complete:j},{id:"Helper_atlas_",src:"assets/images/Helper_atlas_.json",complete:j}],enableHiDPI:!0}),l={"default":"en",replace:"%LANG%",languages:["en","es"]};k.on("init",function(){this.config.assets,this.config.scaling,this.manifests;this.languages.setConfig(l),k.playOptions.language&&k.languages.setLanguage(k.playOptions.language),k.load("assets/config/%LANG%/captions.json",function(a){k.captions.data=a}),this.transition=new g,this.transition.framerate=18,this.loader_bar=new c,this.transition.addChild(this.loader_bar),this.states={title:new a({next:"game",preload:[{id:"ten_gametitles",src:"assets/images/ten_gametitles.json",complete:j}],scaling:"panel"}),game:new b({next:"title",previous:"title",scaling:"panel"})},this.game_name="ten",this.game_tracking=new d,this.helper=new e}),window.app=k}();