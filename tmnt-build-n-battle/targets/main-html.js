/** Built with 2DKit, http://2dkit.com */
'use strict';(function(He){function x(a,b){function c(){}c.prototype=a;var e=new c,u;for(u in b)e[u]=b[u];b.toString!==Object.prototype.toString&&(e.toString=b.toString);return e}function Ie(a){return a instanceof Array?function(){return D.iter(a)}:"function"==typeof a.iterator?A(a,a.iterator):a.iterator}function A(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Re++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var k={},l=function(){return N.__string_rec(this,"")},ma=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};k.EReg=ma;ma.__name__=!0;ma.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new w("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new w("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},__class__:ma};var D=function(){};k.HxOverrides=D;D.__name__=!0;D.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-
1,a[2],b[0],b[1],b[2]);default:throw new w("Invalid date format : "+a);}};D.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};D.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};D.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};D.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};
var Qb=function(){};k.Lambda=Qb;Qb.__name__=!0;Qb.array=function(a){var b=[];for(a=Ie(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Qb.count=function(a,b){var c=0;if(null==b)for(var e=Ie(a)();e.hasNext();)e.next(),c++;else for(e=Ie(a)();e.hasNext();){var u=e.next();b(u)&&c++}return c};var td=function(){this.length=0};k.List=td;td.__name__=!0;td.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return new ud(this.h)},__class__:td};
var ud=function(a){this.head=a;this.val=null};k["_List.ListIterator"]=ud;ud.__name__=!0;ud.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:ud};Math.__name__=!0;var $=function(){};k.Reflect=$;$.__name__=!0;$.field=function(a,b){try{return a[b]}catch(c){return c instanceof w&&(c=c.val),null}};$.callMethod=function(a,b,c){return b.apply(a,c)};$.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,
e;for(e in a)"__id__"!=e&&"hx__closures__"!=e&&c.call(a,e)&&b.push(e)}return b};$.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};$.compare=function(a,b){return a==b?0:a>b?1:-1};var p=function(){};k.Std=p;p.__name__=!0;p.is=function(a,b){return N.__instanceof(a,b)};p.instance=function(a,b){return a instanceof b?a:null};p.string=function(a){return N.__string_rec(a,"")};p["int"]=function(a){return a|0};p.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=D.cca(a,1)&&
88!=D.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};p.parseFloat=function(a){return parseFloat(a)};var Na=function(){this.b=""};k.StringBuf=Na;Na.__name__=!0;Na.prototype={add:function(a){this.b+=p.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+D.substr(a,b,null):this.b+D.substr(a,b,c)},__class__:Na};var M=function(){};k.StringTools=M;M.__name__=!0;M.startsWith=function(a,b){return a.length>=b.length&&D.substr(a,0,b.length)==b};M.isSpace=function(a,b){var c=D.cca(a,b);return 8<c&&14>
c||32==c};M.ltrim=function(a){for(var b=a.length,c=0;c<b&&M.isSpace(a,c);)c++;return 0<c?D.substr(a,c,b-c):a};M.rtrim=function(a){for(var b=a.length,c=0;c<b&&M.isSpace(a,b-c-1);)c++;return 0<c?D.substr(a,0,b-c):a};M.trim=function(a){return M.ltrim(M.rtrim(a))};M.replace=function(a,b,c){return a.split(b).join(c)};M.fastCodeAt=function(a,b){return a.charCodeAt(b)};var qa=function(){};k.Type=qa;qa.__name__=!0;qa.resolveClass=function(a){a=k[a];return null!=a&&a.__name__?a:null};qa.resolveEnum=function(a){a=
k[a];return null!=a&&a.__ename__?a:null};qa.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};qa.createEnum=function(a,b,c){var e=$.field(a,b);if(null==e)throw new w("No such constructor "+b);if($.isFunction(e)){if(null==c)throw new w("Constructor "+b+" need parameters");return $.callMethod(a,e,c)}if(null!=c&&0!=c.length)throw new w("Constructor "+b+" does not need parameters");return e};qa.getEnumConstructs=function(a){return a.__constructs__.slice()};var v=function(a){this.nodeType=
a;this.children=[];this.attributeMap=new U};k.Xml=v;v.__name__=!0;v.parse=function(a){return Oa.parse(a)};v.createElement=function(a){var b=new v(v.Element);if(b.nodeType!=v.Element)throw new w("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};v.createPCData=function(a){var b=new v(v.PCData);if(b.nodeType==v.Document||b.nodeType==v.Element)throw new w("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};v.createCData=function(a){var b=new v(v.CData);if(b.nodeType==
v.Document||b.nodeType==v.Element)throw new w("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};v.createComment=function(a){var b=new v(v.Comment);if(b.nodeType==v.Document||b.nodeType==v.Element)throw new w("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};v.createDocType=function(a){var b=new v(v.DocType);if(b.nodeType==v.Document||b.nodeType==v.Element)throw new w("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};v.createProcessingInstruction=function(a){var b=
new v(v.ProcessingInstruction);if(b.nodeType==v.Document||b.nodeType==v.Element)throw new w("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};v.createDocument=function(){return new v(v.Document)};v.prototype={get_nodeName:function(){if(this.nodeType!=v.Element)throw new w("Bad node type, expected Element but found "+this.nodeType);return this.nodeName},get:function(a){if(this.nodeType!=v.Element)throw new w("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.get(a)},
set:function(a,b){if(this.nodeType!=v.Element)throw new w("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(a,b)},exists:function(a){if(this.nodeType!=v.Element)throw new w("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.exists(a)},iterator:function(){if(this.nodeType!=v.Document&&this.nodeType!=v.Element)throw new w("Bad node type, expected Element or Document but found "+this.nodeType);return D.iter(this.children)},elements:function(){if(this.nodeType!=
v.Document&&this.nodeType!=v.Element)throw new w("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=[],b=0,c=this.children;b<c.length;){var e=c[b];++b;e.nodeType==v.Element&&a.push(e)}return D.iter(a)},elementsNamed:function(a){if(this.nodeType!=v.Document&&this.nodeType!=v.Element)throw new w("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,e=this.children;c<e.length;){var u=e[c];++c;var d;if(d=u.nodeType==v.Element){d=void 0;
if(u.nodeType!=v.Element)throw new w("Bad node type, expected Element but found "+u.nodeType);d=u.nodeName;d=d==a}d&&b.push(u)}return D.iter(b)},firstElement:function(){if(this.nodeType!=v.Document&&this.nodeType!=v.Element)throw new w("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==v.Element)return c}return null},addChild:function(a){if(this.nodeType!=v.Document&&this.nodeType!=v.Element)throw new w("Bad node type, expected Element or Document but found "+
this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=v.Document&&this.nodeType!=v.Element)throw new w("Bad node type, expected Element or Document but found "+this.nodeType);return D.remove(this.children,a)?(a.parent=null,!0):!1},__class__:v};var vd=function(){};k["haxe.IMap"]=vd;vd.__name__=!0;var wd=function(a,b){this.high=a;this.low=b};k["haxe._Int64.___Int64"]=wd;wd.__name__=!0;wd.prototype={__class__:wd};var ja=
function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=ja.DEFAULT_RESOLVER;null==a&&(a=qa,ja.DEFAULT_RESOLVER=a);this.setResolver(a)};k["haxe.Unserializer"]=ja;ja.__name__=!0;ja.initCodes=function(){for(var a=[],b=0,c=ja.BASE64.length;b<c;){var e=b++;a[ja.BASE64.charCodeAt(e)]=e}return a};ja.run=function(a){return(new ja(a)).unserialize()};ja.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(a){return null},resolveEnum:function(a){return null}}:
a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(45==e){if(this.pos!=c)break;b=!0}else{if(48>e||57<e)break;a=10*a+(e-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return p.parseFloat(D.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new w("Invalid object");
if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new w("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw new w("Invalid enum format");var c=this.readDigits();if(0==c)return qa.createEnum(a,b);for(var e=[];0<c--;)e.push(this.unserialize());return qa.createEnum(a,b,e)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;
case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new w("Invalid string length");var b=D.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return NaN;case 109:return-Infinity;case 112:return Infinity;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==
b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new w("Invalid reference");return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new w("Invalid string reference");return this.scache[a];case 120:throw new w(this.unserialize());case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==
b)throw new w("Class not found "+a);a=qa.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new w("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new w("Enum not found "+a);this.pos++;var c=this.readDigits(),e=qa.getEnumConstructs(b)[c];if(null==e)throw new w("Unknown enum index "+
a+"@"+c);a=this.unserializeEnum(b,e);this.cache.push(a);return a;case 108:a=new td;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new U;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new wa;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw new w("Invalid IntMap format");
return a;case 77:a=new Pa;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=
D.substr(this.buf,this.pos,19),a=D.strDate(a),this.pos+=19):(a=this.readFloat(),b=new Date,b.setTime(a),a=b),this.cache.push(a),a;case 115:a=this.readDigits();e=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new w("Invalid bytes length");var u=ja.CODES;null==u&&(u=ja.initCodes(),ja.CODES=u);for(var d=this.pos,f=a&3,g=d+(a-f),b=pb.alloc(3*(a>>2)+(2<=f?f-1:0)),c=0;d<g;){var h=u[M.fastCodeAt(e,d++)],k=u[M.fastCodeAt(e,d++)];b.set(c++,h<<2|k>>4);h=u[M.fastCodeAt(e,d++)];b.set(c++,
k<<4|h>>2);k=u[M.fastCodeAt(e,d++)];b.set(c++,h<<6|k)}2<=f&&(k=u[M.fastCodeAt(e,d++)],g=u[M.fastCodeAt(e,d++)],b.set(c++,k<<2|g>>4),3==f&&(e=u[M.fastCodeAt(e,d++)],b.set(c++,g<<4|e>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new w("Class not found "+a);a=qa.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw new w("Invalid custom data");return a;case 65:a=this.unserialize();
b=this.resolver.resolveClass(a);if(null==b)throw new w("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new w("Enum not found "+a);return b}this.pos--;throw new w("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:ja};var wa=function(){this.h={}};k["haxe.ds.IntMap"]=wa;wa.__name__=!0;wa.__interfaces__=[vd];wa.prototype={set:function(a,b){this.h[a]=b},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];
return!0},__class__:wa};var Pa=function(){this.h={};this.h.__keys__={}};k["haxe.ds.ObjectMap"]=Pa;Pa.__name__=!0;Pa.__interfaces__=[vd];Pa.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Pa.count);this.h[c]=b;this.h.__keys__[c]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return D.iter(a)},iterator:function(){return{ref:this.h,
it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:Pa};var Rb=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};k["haxe.ds._StringMap.StringMapIterator"]=Rb;Rb.__name__=!0;Rb.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:Rb};var U=function(){this.h={}};k["haxe.ds.StringMap"]=U;U.__name__=!0;U.__interfaces__=
[vd];U.prototype={set:function(a,b){null!=Ja[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=Ja[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=Ja[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new Rb(this,this.arrayKeys())},__class__:U};var pb=function(a){this.length=a.byteLength;this.b=new Je(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};k["haxe.io.Bytes"]=pb;pb.__name__=!0;pb.alloc=function(a){return new pb(new pe(a))};pb.prototype={set:function(a,b){this.b[a]=b&255},__class__:pb};var na=k["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow",
"OutsideBounds","Custom"]};na.Blocked=["Blocked",0];na.Blocked.toString=l;na.Blocked.__enum__=na;na.Overflow=["Overflow",1];na.Overflow.toString=l;na.Overflow.__enum__=na;na.OutsideBounds=["OutsideBounds",2];na.OutsideBounds.toString=l;na.OutsideBounds.__enum__=na;na.Custom=function(a){a=["Custom",3,a];a.__enum__=na;a.toString=l;return a};var Ba=function(){};k["haxe.io.FPHelper"]=Ba;Ba.__name__=!0;Ba.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,
-23)*c)*Math.pow(2,b-127)};Ba.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};Ba.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,e=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==e&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*e)*Math.pow(2,c)};Ba.doubleToI64=function(a){var b=Ba.i64tmp;if(0==a)b.low=
0,b.high=0;else{var c;c=0>a?-a:a;var e=Math.floor(Math.log(c)/0.6931471805599453);c=4503599627370496*(c/Math.pow(2,e)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|e+1023<<20|c/4294967296|0}return b};var Sb=function(){};k["haxe.rtti.Meta"]=Sb;Sb.__name__=!0;Sb.getType=function(a){a=Sb.getMeta(a);return null==a||null==a.obj?{}:a.obj};Sb.getMeta=function(a){return a.__meta__};var yd=function(a){this.__x=a};k["haxe.xml._Fast.NodeAccess"]=yd;yd.__name__=!0;yd.prototype={resolve:function(a){var b=
this.__x.elementsNamed(a).next();if(null==b)throw b=this.__x.nodeType==v.Document?"Document":this.__x.get_nodeName(),new w(b+" is missing element "+a);return new Ka(b)},__class__:yd};var zd=function(a){this.__x=a};k["haxe.xml._Fast.AttribAccess"]=zd;zd.__name__=!0;zd.prototype={resolve:function(a){if(this.__x.nodeType==v.Document)throw new w("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b)throw new w(this.__x.get_nodeName()+" is missing attribute "+a);return b},__class__:zd};
var Ad=function(a){this.__x=a};k["haxe.xml._Fast.HasAttribAccess"]=Ad;Ad.__name__=!0;Ad.prototype={__class__:Ad};var Bd=function(a){this.__x=a};k["haxe.xml._Fast.HasNodeAccess"]=Bd;Bd.__name__=!0;Bd.prototype={__class__:Bd};var Cd=function(a){this.__x=a};k["haxe.xml._Fast.NodeListAccess"]=Cd;Cd.__name__=!0;Cd.prototype={__class__:Cd};var Ka=function(a){if(a.nodeType!=v.Document&&a.nodeType!=v.Element)throw new w("Invalid nodeType "+a.nodeType);this.x=a;this.node=new yd(a);this.nodes=new Cd(a);this.att=
new zd(a);this.has=new Ad(a);this.hasNode=new Bd(a)};k["haxe.xml.Fast"]=Ka;Ka.__name__=!0;Ka.prototype={get_name:function(){return this.x.nodeType==v.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw new w(this.get_name()+" does not have data");var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==v.PCData&&c.nodeType==v.CData&&""==M.trim(function(a){if(b.nodeType==v.Document||b.nodeType==v.Element)throw new w("Bad node type, unexpected "+
b.nodeType);return b.nodeValue}(this))){var e=a.next();if(null==e||e.nodeType==v.PCData&&""==M.trim(function(a){if(e.nodeType==v.Document||e.nodeType==v.Element)throw new w("Bad node type, unexpected "+e.nodeType);return e.nodeValue}(this))&&null==a.next()){if(c.nodeType==v.Document||c.nodeType==v.Element)throw new w("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new w(this.get_name()+" does not only have data");}if(b.nodeType!=v.PCData&&b.nodeType!=v.CData)throw new w(this.get_name()+
" does not have data");if(b.nodeType==v.Document||b.nodeType==v.Element)throw new w("Bad node type, unexpected "+b.nodeType);return b.nodeValue},__class__:Ka};var Oa=function(){};k["haxe.xml.Parser"]=Oa;Oa.__name__=!0;Oa.parse=function(a,b){null==b&&(b=!1);var c=v.createDocument();Oa.doParse(a,b,0,c);return c};Oa.doParse=function(a,b,c,e){null==c&&(c=0);for(var u=null,d=1,f=1,g=null,h=0,k=0,m=0,l=a.charCodeAt(c),n=new Na,t=1,q=-1;l==l;){switch(d){case 0:switch(l){case 10:case 13:case 9:case 32:break;
default:d=f;continue}break;case 1:switch(l){case 60:d=0;f=2;break;default:h=c;d=13;continue}break;case 13:60==l?(n.addSub(a,h,c-h),f=v.createPCData(n.b),n=new Na,e.addChild(f),k++,d=0,f=2):38==l&&(n.addSub(a,h,c-h),d=18,t=13,h=c+1);break;case 17:93==l&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(l=v.createCData(D.substr(a,h,c-h)),e.addChild(l),k++,c+=2,d=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=D.substr(a,c,6).toUpperCase())throw new w("Expected <![CDATA[");
c+=5;d=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=D.substr(a,c+2,6).toUpperCase())throw new w("Expected <!DOCTYPE");c+=8;d=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new w("Expected \x3c!--");c+=2;d=15}h=c+1;break;case 63:d=14;h=c;break;case 47:if(null==e)throw new w("Expected node name");h=c+1;d=0;f=10;break;default:d=3;h=c;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(c==h)throw new w("Expected node name");
u=v.createElement(D.substr(a,h,c-h));e.addChild(u);k++;d=0;f=4;continue}break;case 4:switch(l){case 47:d=11;break;case 62:d=9;break;default:d=5;h=c;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==c)throw new w("Expected attribute name");g=D.substr(a,h,c-h);if(u.exists(g))throw new w("Duplicate attribute");d=0;f=6;continue}break;case 6:switch(l){case 61:d=0;f=7;break;default:throw new w("Expected =");}break;case 7:switch(l){case 34:case 39:n=
new Na;d=8;h=c+1;q=l;break;default:throw new w('Expected "');}break;case 8:switch(l){case 38:n.addSub(a,h,c-h);d=18;t=8;h=c+1;break;case 62:if(b)throw new w("Invalid unescaped "+String.fromCharCode(l)+" in attribute value");l==q&&(n.addSub(a,h,c-h),f=n.b,n=new Na,u.set(g,f),d=0,f=4);break;case 60:if(b)throw new w("Invalid unescaped "+String.fromCharCode(l)+" in attribute value");l==q&&(n.addSub(a,h,c-h),f=n.b,n=new Na,u.set(g,f),d=0,f=4);break;default:l==q&&(n.addSub(a,h,c-h),f=n.b,n=new Na,u.set(g,
f),d=0,f=4)}break;case 9:h=c=Oa.doParse(a,b,c,u);d=1;break;case 11:switch(l){case 62:d=1;break;default:throw new w("Expected >");}break;case 12:switch(l){case 62:return 0==k&&e.addChild(v.createPCData("")),c;default:throw new w("Expected >");}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==c)throw new w("Expected node name");f=D.substr(a,h,c-h);if(e.nodeType!=v.Element)throw new w("Bad node type, expected Element but found "+e.nodeType);if(f!=e.nodeName)throw new w("Expected </"+
function(a){if(e.nodeType!=v.Element)throw"Bad node type, expected Element but found "+e.nodeType;return e.nodeName}(this)+">");d=0;f=12;continue}break;case 15:45==l&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(l=v.createComment(D.substr(a,h,c-h)),e.addChild(l),k++,c+=2,d=1);break;case 16:91==l?m++:93==l?m--:62==l&&0==m&&(l=v.createDocType(D.substr(a,h,c-h)),e.addChild(l),k++,d=1);break;case 14:63==l&&62==a.charCodeAt(c+1)&&(c++,l=D.substr(a,h+1,c-h-2),l=v.createProcessingInstruction(l),e.addChild(l),
k++,d=1);break;case 18:if(59==l){h=D.substr(a,h,c-h);if(35==h.charCodeAt(0))h=120==h.charCodeAt(1)?p.parseInt("0"+D.substr(h,1,h.length-1)):p.parseInt(D.substr(h,1,h.length-1)),n.b+=String.fromCharCode(h);else if(Oa.escapes.exists(h))n.add(Oa.escapes.get(h));else{if(b)throw new w("Undefined entity: "+h);n.b+=p.string("&"+h+";")}h=c+1;d=t}else if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)&&35!=l){if(b)throw new w("Invalid character in entity: "+String.fromCharCode(l));
n.b+="&";n.addSub(a,h,c-h);c--;h=c+1;d=t}}l=M.fastCodeAt(a,++c)}1==d&&(h=c,d=13);if(13==d){if(c!=h||0==k)n.addSub(a,h,c-h),a=v.createPCData(n.b),e.addChild(a),k++;return c}if(!b&&18==d&&13==t)return n.b+="&",n.addSub(a,h,c-h),a=v.createPCData(n.b),e.addChild(a),k++,c;throw new w("Unexpected end");};var w=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,w)};k["js._Boot.HaxeError"]=w;w.__name__=!0;w.__super__=Error;w.prototype=x(Error.prototype,
{__class__:w});var N=function(){};k["js.Boot"]=N;N.__name__=!0;N.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=N.__nativeClassName(a);return null!=a?N.__resolveNativeClass(a):null};N.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";
b+="\t";for(var e=2,u=a.length;e<u;)var d=e++,c=2!=d?c+(","+N.__string_rec(a[d],b)):c+N.__string_rec(a[d],b);return c+")"}c=a.length;e="[";b+="\t";for(u=0;u<c;)d=u++,e+=(0<d?",":"")+N.__string_rec(a[d],b);return e+"]"}try{e=a.toString}catch(f){return f instanceof w&&(f=f.val),"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e&&(c=a.toString(),"[object Object]"!=c))return c;c=null;e="{\n";b+="\t";u=null!=a.hasOwnProperty;for(c in a)u&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==
c||"__interfaces__"==c||"__properties__"==c||(2!=e.length&&(e+=", \n"),e+=b+c+" : "+N.__string_rec(a[c],b));b=b.substring(1);return e+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};N.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var e=0,u=c.length;e<u;){var d=e++,d=c[d];if(d==b||N.__interfLoop(d,b))return!0}return N.__interfLoop(a.__super__,b)};N.__instanceof=function(a,b){if(null==b)return!1;
switch(b){case Se:return(a|0)===a;case Me:return"number"==typeof a;case Ne:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Te:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||N.__interfLoop(N.getClass(a),b))return!0}else{if("object"==typeof b&&N.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Ue&&null!=a.__name__||b==Ve&&null!=a.__ename__?!0:a.__enum__==b}};N.__nativeClassName=function(a){a=
N.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};N.__isNativeObj=function(a){return null!=N.__nativeClassName(a)};N.__resolveNativeClass=function(a){return He[a]};var qe=function(){};k["js.Browser"]=qe;qe.__name__=!0;qe.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return b instanceof w&&(b=b.val),null}};var re=function(){};k["js.html._CanvasElement.CanvasUtil"]=re;re.__name__=!0;re.getContextWebGL=function(a,b){for(var c=
0,e=["webgl","experimental-webgl"];c<e.length;){var u=e[c];++c;u=a.getContext(u,b);if(null!=u)return u}return null};var Ca=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};k["js.html.compat.ArrayBuffer"]=Ca;Ca.__name__=!0;Ca.sliceImpl=function(a,b){var c=new Je(this,a,null==b?null:b-a),e=new pe(c.byteLength);(new Je(e)).set(c);return e};Ca.prototype={slice:function(a,b){return new Ca(this.a.slice(a,
b))},__class__:Ca};var se=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new w(na.OutsideBounds);};k["js.html.compat.DataView"]=se;se.__name__=!0;se.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,
b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,e=this.buf.a[c++],u=this.buf.a[c++],d=this.buf.a[c++],c=this.buf.a[c++];return b?e|u<<8|d<<16|c<<24:c|d<<8|u<<16|e<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Ba.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),e=this.getInt32(a+
4,b);return Ba.i64ToDouble(b?c:e,b?e:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,
this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Ba.floatToI32(b),c)},setFloat64:function(a,b,c){b=Ba.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:se};var Qa=function(){};k["js.html.compat.Uint8Array"]=Qa;Qa.__name__=!0;Qa._new=function(a,b,c){if("number"==typeof a){c=[];
for(b=0;b<a;){var e=b++;c[e]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Ca(c)}else if(N.__instanceof(a,Ca))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Ca(c);else throw new w("TODO "+p.string(a));c.subarray=Qa._subarray;c.set=Qa._set;return c};Qa._set=function(a,b){if(N.__instanceof(a.buffer,Ca)){if(a.byteLength+
b>this.byteLength)throw new w("set() outside of range");for(var c=0,e=a.byteLength;c<e;){var u=c++;this[u+b]=a[u]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new w("set() outside of range");c=0;for(e=a.length;c<e;)u=c++,this[u+b]=a[u]}else throw new w("TODO");};Qa._subarray=function(a,b){var c=Qa._new(this.slice(a,b));c.byteOffset=a;return c};var ra=function(){};k["kit.util.Disposable"]=ra;ra.__name__=!0;ra.prototype={__class__:ra};var z=function(){this.$aF=
null;this.$ZF=0;this.owner=this.next=null};k["kit.Component"]=z;z.__name__=!0;z.__interfaces__=[ra];z.prototype={onAdded:function(){},onRemoved:function(){null!=this.$aF&&this.$aF.$rF()},onStart:function(){},onStop:function(){},onUpdate:function(a){},onMessage:function(a,b){if(null!=this.$aF){var c=this.$aF.$pF;if(null!=c&&(c=null!=Ja[a]?c.getReserved(a):c.h[a],null!=c&&null!=c.$nG))return c.emit(b),!0}return!1},connect0:function(a,b){var c=a.connect(b);this.registerDisposable(c);return this},connect1:function(a,
b){var c=a.connect(b);this.registerDisposable(c);return this},registerDisposable:function(a){null==this.$aF&&(this.$aF=new Dd);null==this.$aF.$qF&&(this.$aF.$qF=[]);this.$aF.$qF.push(a)},dispose:function(){null!=this.owner?this.owner.remove(this):null!=this.$aF&&this.$aF.$rF()},get_entitySlot:function(){return-1},$YF:function(){},__class__:z};var Tb=function(){};k["kit.asset.AssetPack"]=Tb;Tb.__name__=!0;Tb.__interfaces__=[ra];Tb.prototype={__class__:Tb};var Dd=function(){this.$pF=this.$qF=null};
k.$CJ=Dd;Dd.__name__=!0;Dd.prototype={$rF:function(){var a=this.$qF;if(null!=a){this.$qF=null;for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}}this.$pF=null},__class__:Dd};var Ed=function(){};k["kit.MessageResult"]=Ed;Ed.__name__=!0;Ed.prototype={__class__:Ed};var h=function(){this.active=!0;this.parent=this.firstChild=this.next=this.firstComponent=null;this.$zF={}};k["kit.Entity"]=h;h.__name__=!0;h.__interfaces__=[ra];h.$$F=function(a){for(var b=null;null!=a;)b=a,a=a.next;return b};h.prototype=
{add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_entitySlot(),c=this.$zF[b];null!=c&&this.remove(c);this.$zF[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var e=c.next;if(c==a)return null==b?this.firstComponent=e:(b.owner=this,b.next=e),a=c.get_entitySlot(),delete this.$zF[a],0!=(c.$ZF&1)&&(c.onStop(),c.$ZF&=-2),c.onRemoved(),
c.owner=null,c.next=null,!0;b=c;c=e}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;b?this.$vF(h.$$F(this.firstChild),a):this.$wF(a);return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){if(c==a){this.$uF(b);c.parent=null;c.next=null;break}b=c;c=c.next}},emitMessage:function(a,b){for(var c=!1,e=this.firstComponent;null!=e;){var u=e.next;e.onMessage(a,b)&&(c=!0);e=u}h.$_F.handled=c;return h.$_F},emitMessageToParents:function(a,
b){var c=!1,e=this;do{var u=e.parent;e.emitMessage(a,b).handled&&(c=!0);e=u}while(null!=e);h.$_F.handled=c;return h.$_F},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},$uF:function(a){null!=a?a.next=a.next.next:this.$xF()},$vF:function(a,b){null!=a?(b.next=a.next,a.next=b):this.$wF(b)},$wF:function(a){a.next=this.firstChild;
this.firstChild=a},$xF:function(){this.firstChild=this.firstChild.next},__class__:h};var Fd=function(){};k.$CK=Fd;Fd.__name__=!0;Fd.prototype={__class__:Fd};var xa=function(){this.$WG=!0};k.$CL=xa;xa.__name__=!0;xa.__interfaces__=[Fd];xa.$ZG=function(a){var b=qe.getLocalStorage();return null!=b?new Ub(b,a):new Vb};xa.prototype={init:function(){var a=this;E.$jS();E.$kS();var b=null;try{b=window.flambe.canvas}catch(c){c instanceof w&&(c=c.val)}b.setAttribute("tabindex","0");b.style.outlineStyle="none";
E.$bS(b,"tap-highlight-color","transparent");b.setAttribute("moz-opaque","");this.$IG=new ab(b);this.$GG=new ha;this.$FG=new Wb(this.$GG,b);this.$HG=this.$EG(b);this.$AG=new Wa;this.$SG=b;this.$TG=b.parentElement;this.$TG.style.overflow="hidden";this.$TG.style.position="relative";E.$bS(this.$TG,"touch-action","none");var e=0,u=function(c){if(!(1E3>c.timeStamp-e)){var u=b.getBoundingClientRect(),d=a.$CG(c,u),u=a.$DG(c,u);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a.$FG.$CN(d,
u,c.button),b.focus());break;case "mousemove":a.$FG.$GN(d,u);break;case "mouseup":a.$FG.$DN(d,u,c.button);break;case "mousewheel":case "DOMMouseScroll":a.$FG.$HN(d,u,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",u,!1);window.addEventListener("mousemove",u,!1);window.addEventListener("mouseup",u,!1);b.addEventListener("mousewheel",u,!1);b.addEventListener("DOMMouseScroll",u,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},
!1);var d="undefined"!=typeof window.ontouchstart,u=p["int"](E.$YS("maxTouchPoints",window.navigator).value);if(d||1<u){var f=new Xb(this.$GG,d?4:u);this.$JG=f;u=function(b){var c;c=d?b.changedTouches:[b];var u=b.target.getBoundingClientRect();e=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();for(b=0;b<c.length;){var g=c[b];++b;var h=a.$CG(g,u),xd=a.$DG(g,u);f.$CN((d?g.identifier:g.pointerId)|0,h,xd)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();
for(b=0;b<c.length;)g=c[b],++b,h=a.$CG(g,u),xd=a.$DG(g,u),f.$GN((d?g.identifier:g.pointerId)|0,h,xd);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)g=c[b],++b,h=a.$CG(g,u),xd=a.$DG(g,u),f.$DN((d?g.identifier:g.pointerId)|0,h,xd)}};d?(b.addEventListener("touchstart",u,!1),b.addEventListener("touchmove",u,!1),b.addEventListener("touchend",u,!1),b.addEventListener("touchcancel",u,!1)):(b.addEventListener("MSPointerDown",u,!1),b.addEventListener("MSPointerMove",
u,!1),b.addEventListener("MSPointerUp",u,!1))}else this.$JG=new Yb;var g=window.onerror;window.onerror=function(a,b,c){m.uncaughtError.emit(a);return null!=g?g(a,b,c):!1};var h=E.$YS("hidden",window.document);null!=h.value?(u=function(a){m.hidden.set__($.field(window.document,h.field))},u(null),window.document.addEventListener(h.prefix+"visibilitychange",u,!1)):(u=function(a){m.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",u,!1),window.addEventListener("pagehide",u,!1));m.hidden.get_changed().connect(function(b,
c){b||(a.$VG=!0)});this.$VG=!1;this.$UG=Date.now();var k=E.$YS("requestAnimationFrame").value;if(null!=k){var l=window.performance,n=null!=l&&E.$aS("now",l);n?this.$UG=l.now():null;var t=null,t=function(c){k(t,b);a.$BG(n?l.now():c)};k(t,b)}else window.setInterval(function(){a.$BG(Date.now())},16);da.$WN("fullscreen")&&this.$JG.get_supported()&&this.$IG.get_fullscreenSupported()&&this.$JG.down.connect(function(b){a.$IG.fullscreen.$aG||a.$IG.requestFullscreen()});var q=da.$XN();null!=q&&(this.$IG.fullscreen.get_changed().connect(function(b,
c){b&&a.$IG.lockOrientation(q)}),this.$IG.lockOrientation(q));this.$AG.$GQ.add(new Zb);this.$AG.$bK();return(new Da).$LW(null)},loadAssetPack:function(a){return(new K(this,a)).$oF},getLocalStorage:function(){if(null==this.$PG){var a="2DKit.local."+p.string(da.$WN("id"));this.$PG=xa.$ZG(a)}return this.$PG},$BG:function(a){var b=(a-this.$UG)/1E3;this.$UG=a;m.hidden.$aG||(this.$VG?this.$VG=!1:(this.$WG&&(this.$WG=!1,this.$IG.$KS(null)),this.$AG.$BG(b),this.$AG.$uI(this.$HG)))},getKeyboard:function(){var a=
this;if(null==this.$OG){this.$OG=new ya;var b=function(b){switch(b.type){case "keydown":a.$OG.$CN(b.keyCode)&&b.preventDefault();break;case "keyup":a.$OG.$DN(b.keyCode)}};this.$SG.addEventListener("keydown",b,!1);this.$SG.addEventListener("keyup",b,!1);if(null!=window.history&&null!=(Ke=window.history,A(Ke,Ke.pushState))){var c=!1,e=function(){window.history.pushState("2DKitBack",null);c=!0};window.addEventListener("popstate",function(b){c&&(null!=a.$OG.backButton.$nG?(e(),a.$OG.backButton.emit()):
window.history.back())});if(E.$TS)this.$GG.down.connect(function(a){e()}).once();else e()}}return this.$OG},getExternal:function(){null==this.$MG&&(this.$MG=new $b);return this.$MG},getRenderer:function(){return this.$HG},$CG:function(a,b){return(a.clientX-b.left)*this.$IG.get_width()/b.width},$DG:function(a,b){return(a.clientY-b.top)*this.$IG.get_height()/b.height},$EG:function(a){if(0<=window.navigator.userAgent.indexOf("Windows Phone"))return new qb(a);try{var b=re.getContextWebGL(a,{alpha:!1,
depth:!1,stencil:!0,failIfMajorPerformanceCaveat:!0});if(null!=b){var c=new ac(this.$IG,b);if(c.$pU)return c}}catch(e){e instanceof w&&(e=e.val),null}return new qb(a)},__class__:xa};var aa=function(a,b){this.$aG=a;this.$bG=null!=b?new rb(b):null};k["kit.util.Value"]=aa;aa.__name__=!0;aa.prototype={watch:function(a){a(this.$aG,this.$aG);return this.get_changed().connect(a)},set__:function(a){var b=this.$aG;a!=b&&(this.$aG=a,null!=this.$bG&&this.$bG.emit(a,b));return a},get_changed:function(){null==
this.$bG&&(this.$bG=new rb);return this.$bG},__class__:aa};var bb=function(a,b){this.$cG=null;this.$eG=a;this.$dG=b;this.stayInList=!0};k["kit.util.SignalConnection"]=bb;bb.__name__=!0;bb.__interfaces__=[ra];bb.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this.$eG&&(this.$eG.$gG(this),this.$eG=null)},__class__:bb};var ba=function(a){this.$nG=null!=a?new bb(this,a):null;this.$oG=null};k["kit.util.SignalBase"]=ba;ba.__name__=!0;ba.prototype={$fG:function(a,b){var c=
this,e=new bb(this,a);this.$nG==ba.$pG?this.$hG(function(){c.$kG(e,b)}):this.$kG(e,b);return e},$gG:function(a){var b=this;this.$nG==ba.$pG?this.$hG(function(){b.$lG(a)}):this.$lG(a)},$hG:function(a){for(var b=null,c=this.$oG;null!=c;)b=c,c=c.next;a=new Gd(a);null!=b?b.next=a:this.$oG=a},$iG:function(){var a=this.$nG;this.$nG=ba.$pG;return a},$jG:function(a){this.$nG=a;a=this.$oG;for(this.$oG=null;null!=a;)a.$XW(),a=a.next},$kG:function(a,b){if(b)a.$cG=this.$nG,this.$nG=a;else{for(var c=null,e=this.$nG;null!=
e;)c=e,e=e.$cG;null!=c?c.$cG=a:this.$nG=a}},$lG:function(a){for(var b=null,c=this.$nG;null!=c;){if(c==a){a=c.$cG;null==b?this.$nG=a:b.$cG=a;break}b=c;c=c.$cG}},__class__:ba};var rb=function(a){ba.call(this,a)};k["kit.util.Signal2"]=rb;rb.__name__=!0;rb.__super__=ba;rb.prototype=x(ba.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$fG(a,b)},emit:function(a,b){var c=this;this.$nG==ba.$pG?this.$hG(function(){c.$qG(a,b)}):this.$qG(a,b)},$qG:function(a,b){for(var c=this.$iG(),e=c;null!=e;)e.$dG(a,
b),e.stayInList||e.dispose(),e=e.$cG;this.$jG(c)},__class__:rb});var Ra=function(a){ba.call(this,a)};k["kit.util.Signal0"]=Ra;Ra.__name__=!0;Ra.__super__=ba;Ra.prototype=x(ba.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$fG(a,b)},emit:function(){var a=this;this.$nG==ba.$pG?this.$hG(function(){a.$qG()}):this.$qG()},$qG:function(){for(var a=this.$iG(),b=a;null!=b;)b.$dG(),b.stayInList||b.dispose(),b=b.$cG;this.$jG(a)},__class__:Ra});var P=function(a){ba.call(this,a)};k["kit.util.Signal1"]=
P;P.__name__=!0;P.__super__=ba;P.prototype=x(ba.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$fG(a,b)},emit:function(a){var b=this;this.$nG==ba.$pG?this.$hG(function(){b.$qG(a)}):this.$qG(a)},$qG:function(a){for(var b=this.$iG(),c=b;null!=c;)c.$dG(a),c.stayInList||c.dispose(),c=c.$cG;this.$jG(b)},__class__:P});var B=function(a,b){this.$rG=null;aa.call(this,a,b)};k["kit.animation.AnimatedFloat"]=B;B.__name__=!0;B.__super__=aa;B.prototype=x(aa.prototype,{set__:function(a){this.$rG=null;
return aa.prototype.set__.call(this,a)},update:function(a){null!=this.$rG&&(aa.prototype.set__.call(this,this.$rG.update(a)),this.$rG.isComplete()&&(this.$rG=null))},animate:function(a,b,c,e){this.set__(a);this.animateTo(b,c,e)},animateTo:function(a,b,c){this.set_behavior(new cb(this.$aG,a,b,c))},animateBy:function(a,b,c){this.set_behavior(new cb(this.$aG,this.$aG+a,b,c))},set_behavior:function(a){this.$rG=a;this.update(0);return a},__class__:B});var m=function(){};k["kit.System"]=m;m.__name__=!0;
m.$sG=function(){null==m.$vG&&(m.$vG=m.$uG.init(),m.$vG=m.$vG.then(function(a){return Xa.init()}));return m.$vG};m.loadAssetPack=function(a){return m.$uG.loadAssetPack(a)};m.nextFrame=function(a){m.$uG.$AG.$JQ(a)};var oa=function(a){null==a&&(a=1);this.$yG=0;z.call(this);this.scale=new B(a)};k["kit.SpeedAdjuster"]=oa;oa.__name__=!0;oa.__super__=z;oa.prototype=x(z.prototype,{get_entitySlot:function(){return 9},onUpdate:function(a){0<this.$yG&&(a=this.$yG,this.$yG=0);this.scale.update(a)},__class__:oa});
var Xa=function(a){this.$$G=a};k["kit.LegacyStorage"]=Xa;Xa.__name__=!0;Xa.init=function(){return m.$uG.getLocalStorage().get("LegacyStorage",{}).then(function(a){null==Xa.$_G&&(Xa.$_G=new Xa(a))})};Xa.prototype={__class__:Xa};var Hd=function(){};k["kit.animation.Behavior"]=Hd;Hd.__name__=!0;Hd.prototype={__class__:Hd};var t=function(){};k["kit.animation.Ease"]=t;t.__name__=!0;t.linear=function(a){return a};t.sineIn=function(a){return 1-Math.cos(1.5707963267948966*a)};t.sineOut=function(a){return Math.sin(1.5707963267948966*
a)};t.sineInOut=function(a){return 0.5-Math.cos(3.141592653589793*a)/2};t.bounceOut=function(a){return 0.36363636363636365>a?7.5625*a*a:0.7272727272727273>a?7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75:0.9090909090909091>a?7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375:7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375};var cb=function(a,b,c,e){this.$MH=a;this.$NH=b;this.$OH=c;this.elapsed=0;this.$PH=null!=e?e:t.linear};k["kit.animation.Tween"]=cb;cb.__name__=
!0;cb.__interfaces__=[Hd];cb.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this.$OH?this.$NH:this.$MH+(this.$NH-this.$MH)*this.$PH(this.elapsed/this.$OH)},isComplete:function(){return this.elapsed>=this.$OH},__class__:cb};var La=function(){};k["kit.asset.Asset"]=La;La.__name__=!0;La.__interfaces__=[ra];La.prototype={__class__:La};var n=k["kit.asset.AssetFormat"]={__ename__:!0,__constructs__:"WEBP JXR PNG JPG GIF _2DKD _2DKP _2DKE MP3 M4A OPUS OGG WAV WOFF TTF SWF MP4 WEBM Data".split(" ")};
n.WEBP=["WEBP",0];n.WEBP.toString=l;n.WEBP.__enum__=n;n.JXR=["JXR",1];n.JXR.toString=l;n.JXR.__enum__=n;n.PNG=["PNG",2];n.PNG.toString=l;n.PNG.__enum__=n;n.JPG=["JPG",3];n.JPG.toString=l;n.JPG.__enum__=n;n.GIF=["GIF",4];n.GIF.toString=l;n.GIF.__enum__=n;n._2DKD=["_2DKD",5];n._2DKD.toString=l;n._2DKD.__enum__=n;n._2DKP=["_2DKP",6];n._2DKP.toString=l;n._2DKP.__enum__=n;n._2DKE=["_2DKE",7];n._2DKE.toString=l;n._2DKE.__enum__=n;n.MP3=["MP3",8];n.MP3.toString=l;n.MP3.__enum__=n;n.M4A=["M4A",9];n.M4A.toString=
l;n.M4A.__enum__=n;n.OPUS=["OPUS",10];n.OPUS.toString=l;n.OPUS.__enum__=n;n.OGG=["OGG",11];n.OGG.toString=l;n.OGG.__enum__=n;n.WAV=["WAV",12];n.WAV.toString=l;n.WAV.__enum__=n;n.WOFF=["WOFF",13];n.WOFF.toString=l;n.WOFF.__enum__=n;n.TTF=["TTF",14];n.TTF.toString=l;n.TTF.__enum__=n;n.SWF=["SWF",15];n.SWF.toString=l;n.SWF.__enum__=n;n.MP4=["MP4",16];n.MP4.toString=l;n.MP4.__enum__=n;n.WEBM=["WEBM",17];n.WEBM.toString=l;n.WEBM.__enum__=n;n.Data=["Data",18];n.Data.toString=l;n.Data.__enum__=n;var Id=
function(a,b,c,e){this.name=a;this.url=b;this.format=c;this.bytes=e};k["kit.asset.AssetEntry"]=Id;Id.__name__=!0;Id.prototype={__class__:Id};var bc=function(){};k["kit.asset.File"]=bc;bc.__name__=!0;bc.__interfaces__=[La];bc.prototype={__class__:bc};var ka=function(){this.$QH=this.$RH=null;this.pixelScale=1;this.$eF=[]};k["kit.asset.Manifest"]=ka;ka.__name__=!0;ka.fromAssets=function(a,b,c){null==c&&(c=!0);null==b&&(b=-1);0>=b&&(b=da.$WN("width"),c=da.$WN("height"),b=Math.min(m.$uG.$IG.get_width()/
b,m.$uG.$IG.get_height()/c));c=[];for(var e=da.$WN("assets"),u=0,d=$.fields(e);u<d.length;){var f=d[u];++u;if(M.startsWith(f,a)){var g=D.substr(f,a.length,null);if(0<g.length){var h=new ma("^-([\\d\\.]+)%$","");h.match(g)&&(g=p.parseFloat(h.matched(1)),c.push(new cc(f,g/100)))}else c.push(new cc(f,1))}}if(0==c.length)return null;c.sort(function(a,b){return $.compare(a.$WH,b.$WH)});u=null;for(a=0;a<c.length&&!(d=c[a],++a,u=d,d.$WH>=b););b=$.field(e,u.$VH);a=new ka;a.$QH="assets";a.pixelScale=u.$WH;
try{var k=jsembed.baseUrl();a.$QH=k+a.$QH}catch(l){l instanceof w&&(l=l.val)}k=encodeURIComponent(u.$VH);for(c=0;c<b.length;){e=b[c];++c;u=e.name;d=k;f=0;for(g=u.split("/");f<g.length;)h=g[f],++f,d+="/"+encodeURIComponent(h);d+="?v="+p.string(e.md5);f=ka.$SH(u);f!=n.Data&&(u=ca.removeFileExtension(u));a.add(u,d,e.bytes,f)}return a};ka.$SH=function(a){a=ca.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return n.GIF;case "jpg":case "jpeg":return n.JPG;case "jxr":case "wdp":return n.JXR;
case "png":return n.PNG;case "webp":return n.WEBP;case "2dkd":return n._2DKD;case "2dkp":return n._2DKP;case "2dke":return n._2DKE;case "m4a":return n.M4A;case "mp3":return n.MP3;case "ogg":return n.OGG;case "opus":return n.OPUS;case "wav":return n.WAV;case "woff":return n.WOFF;case "ttf":return n.TTF;case "swf":return n.SWF;case "mp4":return n.MP4;case "webm":return n.WEBM}else null;return n.Data};ka.prototype={add:function(a,b,c,e){null==c&&(c=0);null==e&&(e=ka.$SH(b));a=new Id(a,b,e,c);this.$eF.push(a);
return a},iterator:function(){return D.iter(this.$eF)},getFullURL:function(a){var b;b=null!=this.$RH&&ka.$UH?this.$RH:this.$QH;return null!=b?ca.joinPath(b,a.url):a.url},set_remoteBase:function(a){return this.$RH=a},__class__:ka};var cc=function(a,b){this.$VH=a;this.$WH=b};k.$CM=cc;cc.__name__=!0;cc.prototype={__class__:cc};var Jd=function(){};k["kit.filter.FilterContext"]=Jd;Jd.__name__=!0;Jd.prototype={__class__:Jd};var dc=function(){this.$oH=[];this.$nH=[]};k.$CN=dc;dc.__name__=!0;dc.__interfaces__=
[Jd];dc.prototype={$lH:function(a,b,c,e){var u=this.$nH.pop();null!=u?u.$IO(c,e):u=new Kd(c,e);u.$EO=a;u.$FO=b;this.$oH.unshift(u);return u.$GO},apply:function(a){a.active&&a.apply(this)},render:function(a){this.$oH[0].$JO(a)},$mH:function(){var a=this.$oH.shift();this.$nH.push(a);return a.$GO},__class__:dc};var pa=function(){this.identity()};k["kit.math.Matrix"]=pa;pa.__name__=!0;pa.multiply=function(a,b,c){null==c&&(c=new pa);var e=a.m00,u=a.m01,d=a.m02,f=a.m10,g=a.m11;a=a.m12;var h=b.m00,k=b.m01,
l=b.m02,m=b.m10,n=b.m11;b=b.m12;c.m00=e*h+u*m;c.m01=e*k+u*n;c.m02=e*l+u*b+d;c.m10=f*h+g*m;c.m11=f*k+g*n;c.m12=f*l+g*b+a;return c};pa.prototype={set:function(a,b,c,e,u,d){this.m00=a;this.m01=c;this.m02=u;this.m10=b;this.m11=e;this.m12=d},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,e,d){var f=Math.sin(d);d=Math.cos(d);this.set(d*c,f*c,-f*e,d*e,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();
if(0==a)return!1;this.set(this.m11/a,-this.m10/a,-this.m01/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new Ya);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},transformArray:function(a,b,c){for(var e=0;e<b;){var d=a[e],f=a[e+1];c[e++]=d*this.m00+f*this.m01+this.m02;c[e++]=d*this.m10+f*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},
inverseTransform:function(a,b,c){var e=this.determinant();if(0==e)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/e;c.y=(b*this.m00-a*this.m10)/e;return!0},clone:function(a){null==a&&(a=new pa);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:pa};var Ya=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};k["kit.math.Point"]=Ya;Ya.__name__=!0;Ya.prototype={add:function(a,b){this.x+=a;this.y+=b},normalize:function(){var a=this.magnitude();this.x/=
a;this.y/=a},dot:function(a,b){return this.x*a+this.y*b},multiply:function(a){this.x*=a;this.y*=a},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Ya};var y=function(){this.$EI=null;this.$yH=this.$zH=0;this.$xH=null;var a=this;z.call(this);this.$ZF|=182;this.$wH=new pa;var b=function(b,e){a.$ZF|=24};this.x=new B(0,b);this.y=new B(0,b);this.rotation=new B(0,b);this.scaleX=new B(1,b);this.scaleY=new B(1,b);this.anchorX=new B(0,b);this.anchorY=new B(0,b);this.alpha=new B(1)};
k["kit.display.Sprite"]=y;y.__name__=!0;y.hitTest=function(a,b,c){if(!a.active)return null;var e=a.$zF[1];if(null!=e){if(6!=(e.$ZF&6)||null!=e.$EI&&null!=e.$EI.$CK||!e.getLocalMatrix().inverseTransform(b,c,y.$LI))return null;b=y.$LI.x;c=y.$LI.y;var d=e.get_scissor();if(null!=d&&!d.contains(b,c))return null}a=y.$II(a.firstChild,b,c);return null!=a?a:null!=e&&e.containsLocal(b,c)?e:null};y.render=function(a,b){y.$FI(a,b,!0)};y.$FI=function(a,b,c){if(a.active){var e=null,d=null,f=a.$zF[1];if(null!=f){var g=
f.alpha.$aG;if(0==(f.$ZF&2)||0>=g)return;var h=f.$EI;if(c&&null!=h&&null!=h.$CK)return;b.save();null!=h&&null!=h.$BK&&0!=(f.$ZF&128)&&(c=h.$BK.owner,null!=c&&(b.beginMask(),y.$FI(c,b,!1),b.endMask()));if(null!=h){var k=!1;c=!1;for(var l=0,n=0,p=0,t=0,q=0,v=h.$DK;q<v.length;){var r=v[q];++q;r.active&&(k=!0,c=c||!r.outputOnly,l=Math.max(l,r.paddingTop),n=Math.max(n,r.paddingRight),p=Math.max(p,r.paddingBottom),t=Math.max(t,r.paddingLeft))}if(k&&m.$uG.$HG.get_filterSupported()){d=f.$qH();k=null!=d?d.getViewMatrix():
null;q=f.getViewMatrix();d=new za;d.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);var s=h.$EK;if(null!=s){var v=s.x,r=s.y,w=v+s.width,s=r+s.height;w>v&&s>r&&(y.$KI(q,v,r,d),y.$KI(q,w,r,d),y.$KI(q,w,s,d),y.$KI(q,v,s,d))}else y.$JI(a,k,d);d.width-=d.x;d.height-=d.y;if(!d.get_empty()){d.x-=t;d.y-=l;d.width+=t+n;d.height+=l+p;e=y.$NI.$lH(d.x,d.y,Math.ceil(d.width),Math.ceil(d.height));c&&(e=e.get_graphics(),e.save(),e.translate(-d.x,-d.y),e.transform(q.m00,
q.m10,q.m01,q.m11,q.m02,q.m12),y.$HI(f,e),y.$GI(a,e),e.restore());e=0;for(c=h.$DK;e<c.length;)l=c[e],++e,y.$NI.apply(l);e=y.$NI.$mH();null!=k&&(c=k.clone(y.$MI),c.invert(),b.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12))}}}1>g&&b.multiplyAlpha(g);null==e&&(g=f.getLocalMatrix(),c=g.m02,l=g.m12,0!=(f.$ZF&32)&&(c=Math.round(c),l=Math.round(l)),b.transform(g.m00,g.m10,g.m01,g.m11,c,l));null!=h&&(1==h.$zJ.$aG&&1==h.$$J.$aG&&1==h.$_J.$aG||b.tint(h.$zJ.$aG,h.$$J.$aG,h.$_J.$aG),null!=h.$xJ&&b.setBlendMode(h.$xJ),
h=h.$yJ,null!=h&&null==e&&b.applyScissor(h.x,h.y,h.width,h.height));null==e?y.$HI(f,b):b.drawSubTexture(e,d.x,d.y,0,0,d.width,d.height)}null==e&&y.$GI(a,b);null!=f&&b.restore()}};y.$GI=function(a,b){var c=a.$zF[7];if(null!=c)for(var c=c.occludedScenes,e=0;e<c.length;){var d=c[e];++e;y.render(d,b)}for(c=a.firstChild;null!=c;)e=c.next,y.render(c,b),c=e};y.$HI=function(a,b){a.draw(b);var c=a.$EI;null!=c&&null!=c.$AK&&c.$AK.render(b)};y.$II=function(a,b,c){if(null!=a){var e=y.$II(a.next,b,c);return null!=
e?e:y.hitTest(a,b,c)}return null};y.$JI=function(a,b,c){if(a.active){var e=a.$zF[1];if(null!=e){b=null!=b?pa.multiply(b,e.getLocalMatrix()):e.getLocalMatrix();var d=e.getNaturalWidth(),e=e.getNaturalHeight();0<d&&0<e&&(y.$KI(b,0,0,c),y.$KI(b,d,0,c),y.$KI(b,d,e,c),y.$KI(b,0,e,c))}d=a.$zF[7];if(null!=d)for(var d=d.occludedScenes,e=0,f=d.length;e<f;)y.$JI(d[e],b,c),++e;for(a=a.firstChild;null!=a;)d=a.next,y.$JI(a,b,c),a=d}};y.$KI=function(a,b,c,e){a=a.transform(b,c,y.$LI);b=a.x;c=a.y;b<e.x&&(e.x=b);
c<e.y&&(e.y=c);b>e.width&&(e.width=b);c>e.height&&(e.height=c)};y.__super__=z;y.prototype=x(z.prototype,{get_entitySlot:function(){return 1},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this.$ZF&8)&&(this.$ZF&=-9,this.$wH.compose(this.x.$aG,this.y.$aG,this.scaleX.$aG,this.scaleY.$aG,3.141592653589793*this.rotation.$aG/180),this.$wH.translate(-this.anchorX.$aG,
-this.anchorY.$aG));return this.$wH},getViewMatrix:function(){if(this.$pH()){var a=this.$qH();this.$xH=null!=a?pa.multiply(a.getViewMatrix(),this.getLocalMatrix(),this.$xH):this.getLocalMatrix().clone(this.$xH);this.$ZF&=-17;null!=a&&(this.$zH=a.$yH);++this.$yH}return this.$xH},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,
b){this.x.set__(a);this.y.set__(b);return this},setTint:function(a){if(null!=this.$EI||16777215!=a)this.get_tintR().set__((a&16711680)/16711680),this.get_tintG().set__((a&65280)/65280),this.get_tintB().set__((a&255)/255);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},onAdded:function(){0!=(this.$ZF&64)&&this.$rH()},onRemoved:function(){null!=this.$DI&&(this.$DI.dispose(),this.$DI=
null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a);var b=this.$EI;if(null!=b){b.$zJ.update(a);b.$$J.update(a);b.$_J.update(a);for(var c=0,b=b.$DK;c<b.length;){var e=b[c];++c;e.active&&e.update(a)}}},draw:function(a){},$pH:function(){if(0!=(this.$ZF&16))return!0;var a=this.$qH();return null==a?!1:this.$zH!=a.$yH||a.$pH()},$qH:function(){if(null==this.owner)return null;
for(var a=this.owner.parent;null!=a;){var b=a.$zF[1];if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this.$$H&&(this.$$H=new P);return this.$$H},get_pointerIn:function(){null==this.$BI&&(this.$BI=new P);return this.$BI},get_pointerOut:function(){null==this.$CI&&(this.$CI=new P);return this.$CI},$rH:function(){var a=this;null==this.$DI&&m.$uG.$AG.$JQ(function(){a.$DI=m.$uG.$GG.move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.$qH()}null!=a.$CI&&0!=(a.$ZF&
64)&&a.$CI.emit(b);a.$ZF&=-65;null!=a.$DI&&(a.$DI.dispose(),a.$DI=null)})})},get_blendMode:function(){return null!=this.$EI?this.$EI.$xJ:null},set_blendMode:function(a){if(null==this.$EI){if(null==a)return null;this.$EI=new Ma}return this.$EI.$xJ=a},get_scissor:function(){return null!=this.$EI?this.$EI.$yJ:null},set_scissor:function(a){if(null==this.$EI){if(null==a)return null;this.$EI=new Ma}return this.$EI.$yJ=a},get_tintR:function(){null==this.$EI&&(this.$EI=new Ma);return this.$EI.$zJ},get_tintG:function(){null==
this.$EI&&(this.$EI=new Ma);return this.$EI.$$J},get_tintB:function(){null==this.$EI&&(this.$EI=new Ma);return this.$EI.$_J},set_mask:function(a){if(null==this.$EI){if(null==a)return null;this.$EI=new Ma}var b=this.$EI.$BK;if(null!=b&&(b=b.$EI,null!=b&&null!=b.$CK)){var c=b.$CK;b.$CK=null;c.set_mask(null)}null!=a&&(b=a.$EI,null==b&&(b=a.$EI=new Ma),null!=b.$CK&&b.$CK.set_mask(null),b.$CK=this);return this.$EI.$BK=a},set_maskEnabled:function(a){this.$ZF=db.set(this.$ZF,128,a);return a},set_visible:function(a){this.$ZF=
db.set(this.$ZF,2,a);return a},set_pointerEnabled:function(a){this.$ZF=db.set(this.$ZF,4,a);return a},set_pixelSnapping:function(a){this.$ZF=db.set(this.$ZF,32,a);return a},$sH:function(a){this.$uH(a);null!=this.$$H&&this.$$H.emit(a)},$tH:function(a){this.$uH(a);null!=this.$_H&&this.$_H.emit(a)},$uH:function(a){0==(this.$ZF&64)&&(this.$ZF|=64,null!=this.$BI||null!=this.$CI)&&(null!=this.$BI&&this.$BI.emit(a),this.$rH())},$vH:function(a){switch(a.source[1]){case 1:null!=this.$CI&&0!=(this.$ZF&64)&&
this.$CI.emit(a),this.$ZF&=-65,null!=this.$DI&&(this.$DI.dispose(),this.$DI=null)}null!=this.$AI&&this.$AI.emit(a)},__class__:y});var za=function(a,b,c,e){null==e&&(e=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,e)};k["kit.math.Rectangle"]=za;za.__name__=!0;za.prototype={set:function(a,b,c,e){this.x=a;this.y=b;this.width=c;this.height=e},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>
b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&(a=new za);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},get_empty:function(){return 0>=this.width||0>=this.height},__class__:za};var sb=function(){z.call(this);this.$TD()};k["kit.debug.FpsDisplay"]=sb;sb.__name__=!0;sb.__super__=z;sb.prototype=x(z.prototype,{get_entitySlot:function(){return 15},onUpdate:function(a){++this.$qI;
this.$rI+=a;if(1<this.$rI){a="FPS: "+Math.round(100*this.$qI/this.$rI)/100;var b=p.instance(this.owner.$zF[1],I);null!=b?b.set_text(a):null;this.$TD()}},$TD:function(){this.$rI=this.$qI=0},__class__:sb});var L=k["kit.display.BlendMode"]={__ename__:!0,__constructs__:"Normal Add Multiply Screen Mask Copy".split(" ")};L.Normal=["Normal",0];L.Normal.toString=l;L.Normal.__enum__=L;L.Add=["Add",1];L.Add.toString=l;L.Add.__enum__=L;L.Multiply=["Multiply",2];L.Multiply.toString=l;L.Multiply.__enum__=L;L.Screen=
["Screen",3];L.Screen.toString=l;L.Screen.__enum__=L;L.Mask=["Mask",4];L.Mask.toString=l;L.Mask.__enum__=L;L.Copy=["Copy",5];L.Copy.toString=l;L.Copy.__enum__=L;var ec=function(){};k["kit.display.Graphics"]=ec;ec.__name__=!0;ec.prototype={__class__:ec};var Ld=function(){this.$tI=[]};k["kit.display.BufferedGraphics"]=Ld;Ld.__name__=!0;Ld.__interfaces__=[ec];Ld.prototype={save:function(){this.$sI(new fc)},translate:function(a,b){this.$sI(new gc(a,b))},scale:function(a,b){this.$sI(new hc(a,b))},rotate:function(a){this.$sI(new ic(a))},
transform:function(a,b,c,e,d,f){this.$sI(new jc(a,b,c,e,d,f))},multiplyAlpha:function(a){this.$sI(new kc(a))},setAlpha:function(a){this.$sI(new lc(a))},tint:function(a,b,c){this.$sI(new mc(a,b,c))},setBlendMode:function(a){this.$sI(new nc(a))},beginMask:function(){this.$sI(new oc)},endMask:function(){this.$sI(new pc)},applyScissor:function(a,b,c,e){this.$sI(new qc(a,b,c,e))},restore:function(){this.$sI(new rc)},drawTexture:function(a,b,c){this.$sI(new sc(a,b,c))},drawSubTexture:function(a,b,c,e,d,
f,g){this.$sI(new tc(a,b,c,e,d,f,g))},drawPattern:function(a,b,c,e,d){this.$sI(new uc(a,b,c,e,d))},fillRect:function(a,b,c,e,d){this.$sI(new vc(a,b,c,e,d))},fillTriangles:function(a,b,c){this.$sI(new wc(a,b.slice(),c.slice()))},drawTriangles:function(a,b,c,e){this.$sI(new xc(a,b.slice(),c.slice(),null!=e?e.slice():null))},fillPolygon:function(a,b){this.$sI(new yc(a,b.slice()))},drawPolygon:function(a,b){this.$sI(new zc(a,b.slice()))},drawCircle:function(a,b,c,e,d){null==d&&(d=50);this.$sI(new Ac(a,
b,c,e,d))},fillCircle:function(a,b,c,e,d){null==d&&(d=50);this.$sI(new Bc(a,b,c,e,d))},strokeCircle:function(a,b,c,e,d,f){null==f&&(f=50);this.$sI(new Cc(a,b,c,e,d,f))},drawEllipse:function(a,b,c,e,d,f){null==f&&(f=50);this.$sI(new Dc(a,b,c,e,d,f))},fillEllipse:function(a,b,c,e,d,f){null==f&&(f=50);this.$sI(new Ec(a,b,c,e,d,f))},strokeEllipse:function(a,b,c,e,d,f,g){null==g&&(g=50);this.$sI(new Fc(a,b,c,e,d,f,g))},fillArc:function(a,b,c,e,d,f,g){null==g&&(g=50);this.$sI(new Gc(a,b,c,e,d,f,g))},strokeArc:function(a,
b,c,e,d,f,g,h){null==h&&(h=50);this.$sI(new Hc(a,b,c,e,d,f,g,h))},strokeLines:function(a,b,c){this.$sI(new Ic(a,b.slice(),c))},drawLines:function(a,b,c){this.$sI(new Jc(a,b.slice(),c))},render:function(a){for(var b=this.$tI.length,c=0;c<b;){var e=c++;this.$tI[e].$uI(a)}},$sI:function(a){this.$tI.push(a)},__class__:Ld};var C=function(){};k.$CP=C;C.__name__=!0;C.prototype={$uI:function(a){},__class__:C};var fc=function(){};k.$CQ=fc;fc.__name__=!0;fc.__super__=C;fc.prototype=x(C.prototype,{$uI:function(a){a.save()},
__class__:fc});var gc=function(a,b){this.$vI=a;this.$wI=b};k.$CR=gc;gc.__name__=!0;gc.__super__=C;gc.prototype=x(C.prototype,{$uI:function(a){a.translate(this.$vI,this.$wI)},__class__:gc});var hc=function(a,b){this.$vI=a;this.$wI=b};k.$CS=hc;hc.__name__=!0;hc.__super__=C;hc.prototype=x(C.prototype,{$uI:function(a){a.scale(this.$vI,this.$wI)},__class__:hc});var ic=function(a){this.$xI=a};k.$CT=ic;ic.__name__=!0;ic.__super__=C;ic.prototype=x(C.prototype,{$uI:function(a){a.rotate(this.$xI)},__class__:ic});
var jc=function(a,b,c,e,d,f){this.$yI=a;this.$zI=b;this.$$I=c;this.$_I=e;this.$AJ=d;this.$BJ=f};k.$CU=jc;jc.__name__=!0;jc.__super__=C;jc.prototype=x(C.prototype,{$uI:function(a){a.transform(this.$yI,this.$zI,this.$$I,this.$_I,this.$AJ,this.$BJ)},__class__:jc});var kc=function(a){this.$CJ=a};k.$CV=kc;kc.__name__=!0;kc.__super__=C;kc.prototype=x(C.prototype,{$uI:function(a){a.multiplyAlpha(this.$CJ)},__class__:kc});var lc=function(a){this.$DJ=a};k.$CW=lc;lc.__name__=!0;lc.__super__=C;lc.prototype=
x(C.prototype,{$uI:function(a){a.setAlpha(this.$DJ)},__class__:lc});var mc=function(a,b,c){this.$EJ=a;this.$FJ=b;this.$GJ=c};k.$CX=mc;mc.__name__=!0;mc.__super__=C;mc.prototype=x(C.prototype,{$uI:function(a){a.tint(this.$EJ,this.$FJ,this.$GJ)},__class__:mc});var nc=function(a){this.$HJ=a};k.$CY=nc;nc.__name__=!0;nc.__super__=C;nc.prototype=x(C.prototype,{$uI:function(a){a.setBlendMode(this.$HJ)},__class__:nc});var qc=function(a,b,c,e){this.$vI=a;this.$wI=b;this.$IJ=c;this.$JJ=e};k.$CZ=qc;qc.__name__=
!0;qc.__super__=C;qc.prototype=x(C.prototype,{$uI:function(a){a.applyScissor(this.$vI,this.$wI,this.$IJ,this.$JJ)},__class__:qc});var oc=function(){};k.$Ca=oc;oc.__name__=!0;oc.__super__=C;oc.prototype=x(C.prototype,{$uI:function(a){a.beginMask()},__class__:oc});var pc=function(){};k.$Cb=pc;pc.__name__=!0;pc.__super__=C;pc.prototype=x(C.prototype,{$uI:function(a){a.endMask()},__class__:pc});var rc=function(){};k.$Cc=rc;rc.__name__=!0;rc.__super__=C;rc.prototype=x(C.prototype,{$uI:function(a){a.restore()},
__class__:rc});var sc=function(a,b,c){this.$KJ=a;this.$LJ=b;this.$MJ=c};k.$Cd=sc;sc.__name__=!0;sc.__super__=C;sc.prototype=x(C.prototype,{$uI:function(a){a.drawTexture(this.$KJ,this.$LJ,this.$MJ)},__class__:sc});var tc=function(a,b,c,e,d,f,g){this.$KJ=a;this.$LJ=b;this.$MJ=c;this.$NJ=e;this.$OJ=d;this.$PJ=f;this.$QJ=g};k.$Ce=tc;tc.__name__=!0;tc.__super__=C;tc.prototype=x(C.prototype,{$uI:function(a){a.drawSubTexture(this.$KJ,this.$LJ,this.$MJ,this.$NJ,this.$OJ,this.$PJ,this.$QJ)},__class__:tc});
var uc=function(a,b,c,e,d){this.$KJ=a;this.$LJ=b;this.$MJ=c;this.$IJ=e;this.$JJ=d};k.$Cf=uc;uc.__name__=!0;uc.__super__=C;uc.prototype=x(C.prototype,{$uI:function(a){a.drawPattern(this.$KJ,this.$LJ,this.$MJ,this.$IJ,this.$JJ)},__class__:uc});var wc=function(a,b,c){this.$RJ=a;this.$SJ=b;this.$TJ=c};k.$Cg=wc;wc.__name__=!0;wc.__super__=C;wc.prototype=x(C.prototype,{$uI:function(a){a.fillTriangles(this.$RJ,this.$SJ,this.$TJ)},__class__:wc});var xc=function(a,b,c,e){this.$KJ=a;this.$SJ=b;this.$TJ=c;this.$UJ=
e};k.$Ch=xc;xc.__name__=!0;xc.__super__=C;xc.prototype=x(C.prototype,{$uI:function(a){a.drawTriangles(this.$KJ,this.$SJ,this.$TJ,this.$UJ)},__class__:xc});var yc=function(a,b){this.$RJ=a;this.$SJ=b};k.$Ci=yc;yc.__name__=!0;yc.__super__=C;yc.prototype=x(C.prototype,{$uI:function(a){a.fillPolygon(this.$RJ,this.$SJ)},__class__:yc});var zc=function(a,b){this.$KJ=a;this.$SJ=b};k.$Cj=zc;zc.__name__=!0;zc.__super__=C;zc.prototype=x(C.prototype,{$uI:function(a){a.drawPolygon(this.$KJ,this.$SJ)},__class__:zc});
var Ac=function(a,b,c,e,d){this.$KJ=a;this.$VJ=b;this.$WJ=c;this.$XJ=e;this.$YJ=d};k.$Ck=Ac;Ac.__name__=!0;Ac.__super__=C;Ac.prototype=x(C.prototype,{$uI:function(a){a.drawCircle(this.$KJ,this.$VJ,this.$WJ,this.$XJ,this.$YJ)},__class__:Ac});var Bc=function(a,b,c,e,d){this.$RJ=a;this.$VJ=b;this.$WJ=c;this.$XJ=e;this.$YJ=d};k.$Cl=Bc;Bc.__name__=!0;Bc.__super__=C;Bc.prototype=x(C.prototype,{$uI:function(a){a.fillCircle(this.$RJ,this.$VJ,this.$WJ,this.$XJ,this.$YJ)},__class__:Bc});var Cc=function(a,b,
c,e,d,f){this.$RJ=a;this.$VJ=b;this.$WJ=c;this.$XJ=e;this.$ZJ=d;this.$YJ=f};k.$Cm=Cc;Cc.__name__=!0;Cc.__super__=C;Cc.prototype=x(C.prototype,{$uI:function(a){a.strokeCircle(this.$RJ,this.$VJ,this.$WJ,this.$XJ,this.$ZJ,this.$YJ)},__class__:Cc});var Ec=function(a,b,c,e,d,f){this.$RJ=a;this.$VJ=b;this.$WJ=c;this.$aJ=e;this.$bJ=d;this.$YJ=f};k.$Cn=Ec;Ec.__name__=!0;Ec.__super__=C;Ec.prototype=x(C.prototype,{$uI:function(a){a.fillEllipse(this.$RJ,this.$VJ,this.$WJ,this.$aJ,this.$bJ,this.$YJ)},__class__:Ec});
var Dc=function(a,b,c,e,d,f){this.$KJ=a;this.$VJ=b;this.$WJ=c;this.$aJ=e;this.$bJ=d;this.$YJ=f};k.$Co=Dc;Dc.__name__=!0;Dc.__super__=C;Dc.prototype=x(C.prototype,{$uI:function(a){a.drawEllipse(this.$KJ,this.$VJ,this.$WJ,this.$aJ,this.$bJ,this.$YJ)},__class__:Dc});var Fc=function(a,b,c,e,d,f,g){this.$RJ=a;this.$VJ=b;this.$WJ=c;this.$aJ=e;this.$bJ=d;this.$ZJ=f;this.$YJ=g};k.$Cp=Fc;Fc.__name__=!0;Fc.__super__=C;Fc.prototype=x(C.prototype,{$uI:function(a){a.strokeEllipse(this.$RJ,this.$VJ,this.$WJ,this.$aJ,
this.$bJ,this.$ZJ,this.$YJ)},__class__:Fc});var Gc=function(a,b,c,e,d,f,g){this.$RJ=a;this.$VJ=b;this.$WJ=c;this.$XJ=e;this.$cJ=d;this.$dJ=f;this.$YJ=g};k.$Cq=Gc;Gc.__name__=!0;Gc.__super__=C;Gc.prototype=x(C.prototype,{$uI:function(a){a.fillArc(this.$RJ,this.$VJ,this.$WJ,this.$XJ,this.$cJ,this.$dJ,this.$YJ)},__class__:Gc});var Hc=function(a,b,c,e,d,f,g,h){this.$RJ=a;this.$VJ=b;this.$WJ=c;this.$XJ=e;this.$cJ=d;this.$dJ=f;this.$ZJ=g;this.$YJ=h};k.$Cr=Hc;Hc.__name__=!0;Hc.__super__=C;Hc.prototype=x(C.prototype,
{$uI:function(a){a.strokeArc(this.$RJ,this.$VJ,this.$WJ,this.$XJ,this.$cJ,this.$dJ,this.$ZJ,this.$YJ)},__class__:Hc});var Ic=function(a,b,c){this.$RJ=a;this.$SJ=b;this.$eJ=c};k.$Cs=Ic;Ic.__name__=!0;Ic.__super__=C;Ic.prototype=x(C.prototype,{$uI:function(a){a.strokeLines(this.$RJ,this.$SJ,this.$eJ)},__class__:Ic});var Jc=function(a,b,c){this.$KJ=a;this.$SJ=b;this.$eJ=c};k.$Ct=Jc;Jc.__name__=!0;Jc.__super__=C;Jc.prototype=x(C.prototype,{$uI:function(a){a.drawLines(this.$KJ,this.$SJ,this.$eJ)},__class__:Jc});
var vc=function(a,b,c,e,d){this.$RJ=a;this.$vI=b;this.$wI=c;this.$IJ=e;this.$JJ=d};k.$Cu=vc;vc.__name__=!0;vc.__super__=C;vc.prototype=x(C.prototype,{$uI:function(a){a.fillRect(this.$RJ,this.$vI,this.$wI,this.$IJ,this.$JJ)},__class__:vc});var Q=function(a,b,c){y.call(this);this.color=a;this.width=new B(b);this.height=new B(c)};k["kit.display.FillSprite"]=Q;Q.__name__=!0;Q.__super__=y;Q.prototype=x(y.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width.$aG,this.height.$aG)},getNaturalWidth:function(){return this.width.$aG},
getNaturalHeight:function(){return this.height.$aG},setSize:function(a,b){this.width.set__(a);this.height.set__(b);return this},onUpdate:function(a){y.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:Q});var Kc=function(a){this.$gJ=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};k["kit.display.Glyph"]=Kc;Kc.__name__=!0;Kc.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,
b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this.$gJ?p["int"](this.$gJ.h[a]):0},$fJ:function(a,b){null==this.$gJ&&(this.$gJ=new wa);this.$gJ.h[a]=b},__class__:Kc};var sa=function(a,b){this.name=b;this.$bI=a;this.$hH=a.getFile(b+".fnt");this.$eH()};k["kit.display.Font"]=sa;sa.__name__=!0;sa.prototype={layoutText:function(a,b,c,e,d){null==d&&(d=0);null==e&&(e=0);null==c&&(c=0);null==b&&(b=Y.Left);return new Za(this,a,b,c,e,d)},$eH:function(){this.$hJ=
new wa;this.$hJ.h[sa.$iJ.charCode]=sa.$iJ;for(var a=new eb(this.$hH.toString()),b=new wa,c=this.name.lastIndexOf("/"),c=0<=c?D.substr(this.name,0,c+1):"",e=a.$nJ();e.hasNext();)switch(e.next()){case "info":for(var d=a.$oJ();d.hasNext();){var f=d.next();switch(f.$uJ){case "size":this.size=f.$vJ();break;case "face":this.typeface=f.$wJ()}}break;case "common":for(d=a.$oJ();d.hasNext();)switch(f=d.next(),f.$uJ){case "lineHeight":this.lineHeight=f.$vJ()}break;case "page":for(var d=0,f=null,g=a.$oJ();g.hasNext();){var h=
g.next();switch(h.$uJ){case "id":d=h.$vJ();break;case "file":f=h.$wJ()}}f=this.$bI.getTexture(c+ca.removeFileExtension(f));b.h[d]=f;break;case "char":d=null;for(f=a.$oJ();f.hasNext();)switch(g=f.next(),g.$uJ){case "id":d=new Kc(g.$vJ());break;case "x":d.x=g.$vJ();break;case "y":d.y=g.$vJ();break;case "width":d.width=g.$vJ();break;case "height":d.height=g.$vJ();break;case "page":g=g.$vJ();d.page=b.h[g];break;case "xoffset":d.xOffset=g.$vJ();break;case "yoffset":d.yOffset=g.$vJ();break;case "xadvance":d.xAdvance=
g.$vJ()}this.$hJ.h[d.charCode]=d;break;case "kerning":h=null;f=d=0;for(g=a.$oJ();g.hasNext();){var k=g.next();switch(k.$uJ){case "first":h=k.$vJ();h=this.$hJ.h[h];break;case "second":d=k.$vJ();break;case "amount":f=k.$vJ()}}null!=h&&0!=f&&h.$fJ(d,f)}},__class__:sa};var Y=k["kit.display.TextAlign"]={__ename__:!0,__constructs__:["Left","Center","Right"]};Y.Left=["Left",0];Y.Left.toString=l;Y.Left.__enum__=Y;Y.Center=["Center",1];Y.Center.toString=l;Y.Center.__enum__=Y;Y.Right=["Right",2];Y.Right.toString=
l;Y.Right.__enum__=Y;var Za=function(a,b,c,e,d,f){this.lines=0;var g=this;this.$jJ=a;this.$hJ=[];this.$kJ=[];this.$lJ=Math.round(a.lineHeight+f);this.bounds=new za;var h=[];f=b.length;for(var k=0;k<f;){var l=k++,l=b.charCodeAt(l),l=a.$hJ.h[l];null!=l?this.$hJ.push(l):null}b=-1;var m=0,n=0;a=a.$hJ.h[10];f=function(){g.bounds.width=ea.max(g.bounds.width,m);g.bounds.height+=n;h[g.lines]=m;n=m=0;++g.lines};for(k=0;k<this.$hJ.length;){l=this.$hJ[k];this.$kJ[k]=Math.round(m);var p=0<e&&m+l.width>e;p||l==
a?(p&&(0<=b?(this.$hJ[b]=a,m=this.$kJ[b],k=b):this.$hJ.splice(k,0,a)),b=-1,n=this.$lJ,f()):(32==l.charCode&&(b=k),m+=l.xAdvance+d,n=ea.max(n,l.height+l.yOffset),k+1<this.$hJ.length&&(m+=l.getKerning(this.$hJ[k+1].charCode)));++k}f();d=0;a=Za.$mJ(c,h[0],e);b=1.79769313486231E308;f=-1.79769313486231E308;l=k=0;for(p=this.$hJ.length;l<p;){var q=this.$hJ[l];10==q.charCode&&(d+=this.$lJ,++k,a=Za.$mJ(c,h[k],e));this.$kJ[l]+=a;var t=d+q.yOffset;b=b<t?b:t;f=ea.max(f,t+q.height);++l}this.bounds.x=Za.$mJ(c,
this.bounds.width,e);this.bounds.y=b;this.bounds.height=f-b};k["kit.display.TextLayout"]=Za;Za.__name__=!0;Za.$mJ=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};Za.prototype={draw:function(a){for(var b=0,c=0,e=this.$hJ.length;c<e;){var d=this.$hJ[c];10==d.charCode?b+=this.$lJ:d.draw(a,this.$kJ[c],b);++c}},__class__:Za};var eb=function(a){this.$pJ=a;this.$rJ=new ma("([A-Za-z]+)(.*)","");this.$sJ=new ma('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};k.$Cv=eb;
eb.__name__=!0;eb.$tJ=function(a,b){var c=b.matchedPos();return D.substr(a,c.pos+c.len,a.length)};eb.prototype={$nJ:function(){var a=this,b=this.$pJ;return{next:function(){b=eb.$tJ(b,a.$rJ);a.$qJ=a.$rJ.matched(2);return a.$rJ.matched(1)},hasNext:function(){return a.$rJ.match(b)}}},$oJ:function(){var a=this,b=this.$qJ;return{next:function(){b=eb.$tJ(b,a.$sJ);return new Md(a.$sJ.matched(1),a.$sJ.matched(2))},hasNext:function(){return a.$sJ.match(b)}}},__class__:eb};var Md=function(a,b){this.$uJ=a;this.$aG=
b};k.$Cw=Md;Md.__name__=!0;Md.prototype={$vJ:function(){return p.parseInt(this.$aG)},$wJ:function(){return 34!=this.$aG.charCodeAt(0)?null:D.substr(this.$aG,1,this.$aG.length-2)},__class__:Md};var T=function(a){y.call(this);this.texture=a};k["kit.display.ImageSprite"]=T;T.__name__=!0;T.__super__=y;T.prototype=x(y.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=
this.texture?this.texture.get_height():0},__class__:T});var Ea=k["kit.display.Orientation"]={__ename__:!0,__constructs__:["Portrait","Landscape"]};Ea.Portrait=["Portrait",0];Ea.Portrait.toString=l;Ea.Portrait.__enum__=Ea;Ea.Landscape=["Landscape",1];Ea.Landscape.toString=l;Ea.Landscape.__enum__=Ea;var Ma=function(){this.$EK=null;this.$DK=[];this.$AK=this.$BK=this.$CK=null;this.$_J=new B(1);this.$$J=new B(1);this.$zJ=new B(1);this.$xJ=this.$yJ=null};k.$Cx=Ma;Ma.__name__=!0;Ma.prototype={__class__:Ma};
var Lc=function(){};k["kit.display.Texture"]=Lc;Lc.__name__=!0;Lc.__interfaces__=[La];Lc.prototype={__class__:Lc};var te=function(){};k["kit.display.SubTexture"]=te;te.__name__=!0;te.__interfaces__=[Lc];var I=function(a,b){null==b&&(b="");this.$KK=null;var c=this;y.call(this);this.$jJ=a;this.$IK=b;this.$JK=Y.Left;this.$ZF|=256;var e=function(a,b){c.$ZF|=256};this.wrapWidth=new B(0,e);this.letterSpacing=new B(0,e);this.lineSpacing=new B(0,e)};k["kit.display.TextSprite"]=I;I.__name__=!0;I.__super__=
y;I.prototype=x(y.prototype,{draw:function(a){this.$HK();this.$KK.draw(a)},getNaturalWidth:function(){this.$HK();return 0<this.wrapWidth.$aG?this.wrapWidth.$aG:this.$KK.bounds.width},getNaturalHeight:function(){this.$HK();var a=this.$KK.lines*(this.$jJ.lineHeight+this.lineSpacing.$aG),b=this.$KK.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.$HK();return this.$KK.bounds.contains(a,b)},get_text:function(){return this.$IK},set_text:function(a){a!=this.$IK&&(this.$IK=a,this.$ZF|=256);
return a},set_align:function(a){a!=this.$JK&&(this.$JK=a,this.$ZF|=256);return a},$HK:function(){0!=(this.$ZF&256)&&(this.$ZF&=-257,this.$KK=this.$jJ.layoutText(this.$IK,this.$JK,this.wrapWidth.$aG,this.letterSpacing.$aG,this.lineSpacing.$aG))},onUpdate:function(a){y.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:I});var V=k["kit.display.TextureFormat"]={__ename__:!0,__constructs__:["RGBA","RGBA_4444","RGB","RGB_565","COMPRESSED"]};
V.RGBA=["RGBA",0];V.RGBA.toString=l;V.RGBA.__enum__=V;V.RGBA_4444=["RGBA_4444",1];V.RGBA_4444.toString=l;V.RGBA_4444.__enum__=V;V.RGB=["RGB",2];V.RGB.toString=l;V.RGB.__enum__=V;V.RGB_565=["RGB_565",3];V.RGB_565.toString=l;V.RGB_565.__enum__=V;V.COMPRESSED=["COMPRESSED",4];V.COMPRESSED.toString=l;V.COMPRESSED.__enum__=V;var ue=function(){};k["kit.display.VectorFont"]=ue;ue.__name__=!0;ue.__interfaces__=[La];var ve=function(){this.$VK=this.$WK=this.$XK=null;this.$UK=new U;this.paddingTop=this.paddingRight=
this.paddingBottom=this.paddingLeft=0;this.outputOnly=!1;this.active=!0};k["kit.filter.Filter"]=ve;ve.__name__=!0;ve.prototype={apply:function(a){a.render(this)},setUniformVec2:function(a,b,c){this.$SK(a,1,[b,c])},setUniformSampler2D:function(a,b){this.$SK(a,11,b)},update:function(a){},$SK:function(a,b,c){var e=this.$UK.get(a);if(null==e){var d=e=new Nd(a);this.$UK.set(a,d)}e.$aK=b;e.$ZK=c},$TK:function(){null==this.$XK&&(this.$XK=null!=this.$WK?this.$WK+"@"+this.$VK:this.$VK);return this.$XK},__class__:ve};
var Nd=function(a){this.$aK=0;this.$ZK=null;this.$YK=a};k.$Cz=Nd;Nd.__name__=!0;Nd.prototype={__class__:Nd};var g=k["kit.input.Key"]={__ename__:!0,__constructs__:"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z Number0 Number1 Number2 Number3 Number4 Number5 Number6 Number7 Number8 Number9 Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadDecimal NumpadDivide NumpadEnter NumpadMultiply NumpadSubtract F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 Left Up Right Down Alt Backquote Backslash Backspace CapsLock Comma Command Control Delete End Enter Equals Escape Home Insert LeftBracket Minus PageDown PageUp Period Quote RightBracket Semicolon Shift Slash Space Tab Menu Search Unknown".split(" ")};
g.A=["A",0];g.A.toString=l;g.A.__enum__=g;g.B=["B",1];g.B.toString=l;g.B.__enum__=g;g.C=["C",2];g.C.toString=l;g.C.__enum__=g;g.D=["D",3];g.D.toString=l;g.D.__enum__=g;g.E=["E",4];g.E.toString=l;g.E.__enum__=g;g.F=["F",5];g.F.toString=l;g.F.__enum__=g;g.G=["G",6];g.G.toString=l;g.G.__enum__=g;g.H=["H",7];g.H.toString=l;g.H.__enum__=g;g.I=["I",8];g.I.toString=l;g.I.__enum__=g;g.J=["J",9];g.J.toString=l;g.J.__enum__=g;g.K=["K",10];g.K.toString=l;g.K.__enum__=g;g.L=["L",11];g.L.toString=l;g.L.__enum__=
g;g.M=["M",12];g.M.toString=l;g.M.__enum__=g;g.N=["N",13];g.N.toString=l;g.N.__enum__=g;g.O=["O",14];g.O.toString=l;g.O.__enum__=g;g.P=["P",15];g.P.toString=l;g.P.__enum__=g;g.Q=["Q",16];g.Q.toString=l;g.Q.__enum__=g;g.R=["R",17];g.R.toString=l;g.R.__enum__=g;g.S=["S",18];g.S.toString=l;g.S.__enum__=g;g.T=["T",19];g.T.toString=l;g.T.__enum__=g;g.U=["U",20];g.U.toString=l;g.U.__enum__=g;g.V=["V",21];g.V.toString=l;g.V.__enum__=g;g.W=["W",22];g.W.toString=l;g.W.__enum__=g;g.X=["X",23];g.X.toString=
l;g.X.__enum__=g;g.Y=["Y",24];g.Y.toString=l;g.Y.__enum__=g;g.Z=["Z",25];g.Z.toString=l;g.Z.__enum__=g;g.Number0=["Number0",26];g.Number0.toString=l;g.Number0.__enum__=g;g.Number1=["Number1",27];g.Number1.toString=l;g.Number1.__enum__=g;g.Number2=["Number2",28];g.Number2.toString=l;g.Number2.__enum__=g;g.Number3=["Number3",29];g.Number3.toString=l;g.Number3.__enum__=g;g.Number4=["Number4",30];g.Number4.toString=l;g.Number4.__enum__=g;g.Number5=["Number5",31];g.Number5.toString=l;g.Number5.__enum__=
g;g.Number6=["Number6",32];g.Number6.toString=l;g.Number6.__enum__=g;g.Number7=["Number7",33];g.Number7.toString=l;g.Number7.__enum__=g;g.Number8=["Number8",34];g.Number8.toString=l;g.Number8.__enum__=g;g.Number9=["Number9",35];g.Number9.toString=l;g.Number9.__enum__=g;g.Numpad0=["Numpad0",36];g.Numpad0.toString=l;g.Numpad0.__enum__=g;g.Numpad1=["Numpad1",37];g.Numpad1.toString=l;g.Numpad1.__enum__=g;g.Numpad2=["Numpad2",38];g.Numpad2.toString=l;g.Numpad2.__enum__=g;g.Numpad3=["Numpad3",39];g.Numpad3.toString=
l;g.Numpad3.__enum__=g;g.Numpad4=["Numpad4",40];g.Numpad4.toString=l;g.Numpad4.__enum__=g;g.Numpad5=["Numpad5",41];g.Numpad5.toString=l;g.Numpad5.__enum__=g;g.Numpad6=["Numpad6",42];g.Numpad6.toString=l;g.Numpad6.__enum__=g;g.Numpad7=["Numpad7",43];g.Numpad7.toString=l;g.Numpad7.__enum__=g;g.Numpad8=["Numpad8",44];g.Numpad8.toString=l;g.Numpad8.__enum__=g;g.Numpad9=["Numpad9",45];g.Numpad9.toString=l;g.Numpad9.__enum__=g;g.NumpadAdd=["NumpadAdd",46];g.NumpadAdd.toString=l;g.NumpadAdd.__enum__=g;g.NumpadDecimal=
["NumpadDecimal",47];g.NumpadDecimal.toString=l;g.NumpadDecimal.__enum__=g;g.NumpadDivide=["NumpadDivide",48];g.NumpadDivide.toString=l;g.NumpadDivide.__enum__=g;g.NumpadEnter=["NumpadEnter",49];g.NumpadEnter.toString=l;g.NumpadEnter.__enum__=g;g.NumpadMultiply=["NumpadMultiply",50];g.NumpadMultiply.toString=l;g.NumpadMultiply.__enum__=g;g.NumpadSubtract=["NumpadSubtract",51];g.NumpadSubtract.toString=l;g.NumpadSubtract.__enum__=g;g.F1=["F1",52];g.F1.toString=l;g.F1.__enum__=g;g.F2=["F2",53];g.F2.toString=
l;g.F2.__enum__=g;g.F3=["F3",54];g.F3.toString=l;g.F3.__enum__=g;g.F4=["F4",55];g.F4.toString=l;g.F4.__enum__=g;g.F5=["F5",56];g.F5.toString=l;g.F5.__enum__=g;g.F6=["F6",57];g.F6.toString=l;g.F6.__enum__=g;g.F7=["F7",58];g.F7.toString=l;g.F7.__enum__=g;g.F8=["F8",59];g.F8.toString=l;g.F8.__enum__=g;g.F9=["F9",60];g.F9.toString=l;g.F9.__enum__=g;g.F10=["F10",61];g.F10.toString=l;g.F10.__enum__=g;g.F11=["F11",62];g.F11.toString=l;g.F11.__enum__=g;g.F12=["F12",63];g.F12.toString=l;g.F12.__enum__=g;g.F13=
["F13",64];g.F13.toString=l;g.F13.__enum__=g;g.F14=["F14",65];g.F14.toString=l;g.F14.__enum__=g;g.F15=["F15",66];g.F15.toString=l;g.F15.__enum__=g;g.Left=["Left",67];g.Left.toString=l;g.Left.__enum__=g;g.Up=["Up",68];g.Up.toString=l;g.Up.__enum__=g;g.Right=["Right",69];g.Right.toString=l;g.Right.__enum__=g;g.Down=["Down",70];g.Down.toString=l;g.Down.__enum__=g;g.Alt=["Alt",71];g.Alt.toString=l;g.Alt.__enum__=g;g.Backquote=["Backquote",72];g.Backquote.toString=l;g.Backquote.__enum__=g;g.Backslash=
["Backslash",73];g.Backslash.toString=l;g.Backslash.__enum__=g;g.Backspace=["Backspace",74];g.Backspace.toString=l;g.Backspace.__enum__=g;g.CapsLock=["CapsLock",75];g.CapsLock.toString=l;g.CapsLock.__enum__=g;g.Comma=["Comma",76];g.Comma.toString=l;g.Comma.__enum__=g;g.Command=["Command",77];g.Command.toString=l;g.Command.__enum__=g;g.Control=["Control",78];g.Control.toString=l;g.Control.__enum__=g;g.Delete=["Delete",79];g.Delete.toString=l;g.Delete.__enum__=g;g.End=["End",80];g.End.toString=l;g.End.__enum__=
g;g.Enter=["Enter",81];g.Enter.toString=l;g.Enter.__enum__=g;g.Equals=["Equals",82];g.Equals.toString=l;g.Equals.__enum__=g;g.Escape=["Escape",83];g.Escape.toString=l;g.Escape.__enum__=g;g.Home=["Home",84];g.Home.toString=l;g.Home.__enum__=g;g.Insert=["Insert",85];g.Insert.toString=l;g.Insert.__enum__=g;g.LeftBracket=["LeftBracket",86];g.LeftBracket.toString=l;g.LeftBracket.__enum__=g;g.Minus=["Minus",87];g.Minus.toString=l;g.Minus.__enum__=g;g.PageDown=["PageDown",88];g.PageDown.toString=l;g.PageDown.__enum__=
g;g.PageUp=["PageUp",89];g.PageUp.toString=l;g.PageUp.__enum__=g;g.Period=["Period",90];g.Period.toString=l;g.Period.__enum__=g;g.Quote=["Quote",91];g.Quote.toString=l;g.Quote.__enum__=g;g.RightBracket=["RightBracket",92];g.RightBracket.toString=l;g.RightBracket.__enum__=g;g.Semicolon=["Semicolon",93];g.Semicolon.toString=l;g.Semicolon.__enum__=g;g.Shift=["Shift",94];g.Shift.toString=l;g.Shift.__enum__=g;g.Slash=["Slash",95];g.Slash.toString=l;g.Slash.__enum__=g;g.Space=["Space",96];g.Space.toString=
l;g.Space.__enum__=g;g.Tab=["Tab",97];g.Tab.toString=l;g.Tab.__enum__=g;g.Menu=["Menu",98];g.Menu.toString=l;g.Menu.__enum__=g;g.Search=["Search",99];g.Search.toString=l;g.Search.__enum__=g;g.Unknown=function(a){a=["Unknown",100,a];a.__enum__=g;a.toString=l;return a};var Od=function(){this.$bK(0,null)};k["kit.input.KeyboardEvent"]=Od;Od.__name__=!0;Od.prototype={$bK:function(a,b){this.id=a;this.key=b},__class__:Od};var ia=k["kit.input.MouseButton"]={__ename__:!0,__constructs__:["Left","Middle","Right",
"Unknown"]};ia.Left=["Left",0];ia.Left.toString=l;ia.Left.__enum__=ia;ia.Middle=["Middle",1];ia.Middle.toString=l;ia.Middle.__enum__=ia;ia.Right=["Right",2];ia.Right.toString=l;ia.Right.__enum__=ia;ia.Unknown=function(a){a=["Unknown",3,a];a.__enum__=ia;a.toString=l;return a};var Z=k["kit.input.MouseCursor"]={__ename__:!0,__constructs__:["Default","Button","None"]};Z.Default=["Default",0];Z.Default.toString=l;Z.Default.__enum__=Z;Z.Button=["Button",1];Z.Button.toString=l;Z.Button.__enum__=Z;Z.None=
["None",2];Z.None.toString=l;Z.None.__enum__=Z;var Pd=function(){this.$bK(0,0,0,null)};k["kit.input.MouseEvent"]=Pd;Pd.__name__=!0;Pd.prototype={$bK:function(a,b,c,e){this.id=a;this.viewX=b;this.viewY=c;this.button=e},__class__:Pd};var Mc=k["kit.input.EventSource"]={__ename__:!0,__constructs__:["Mouse","Touch"]};Mc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Mc;a.toString=l;return a};Mc.Touch=function(a){a=["Touch",1,a];a.__enum__=Mc;a.toString=l;return a};var Nc=function(){this.$bK(0,0,0,null,null)};
k["kit.input.PointerEvent"]=Nc;Nc.__name__=!0;Nc.prototype={$bK:function(a,b,c,e,d){this.id=a;this.viewX=b;this.viewY=c;this.hit=e;this.source=d;this.$cK=!1},__class__:Nc};var Qd=function(a){this.id=a;this.$dK=Mc.Touch(this)};k["kit.input.TouchPoint"]=Qd;Qd.__name__=!0;Qd.prototype={$bK:function(a,b){this.viewX=a;this.viewY=b},__class__:Qd};var ea=function(){};k["kit.math.FMath"]=ea;ea.__name__=!0;ea.toRadians=function(a){return 3.141592653589793*a/180};ea.max=function(a,b){return a>b?a:b};ea.min=
function(a,b){return a<b?a:b};ea.clamp=function(a,b,c){return a<b?b:a>c?c:a};var tb=function(){};k["kit.movie.Symbol"]=tb;tb.__name__=!0;tb.prototype={__class__:tb};var ub=function(a,b){this.$eK=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0;c=a.scale;null!=c?(this.scaleX=c[0],this.scaleY=c[1]):this.scaleY=this.scaleX=1};k["kit.movie.BitmapSymbol"]=ub;ub.__name__=!0;ub.__interfaces__=[tb];ub.prototype=
{createSprite:function(){var a=new T(this.texture);a.setAnchor(this.anchorX,this.anchorY);a.setScaleXY(this.scaleX,this.scaleY);return a},__class__:ub};var Sd=function(a,b){this.sounds=new U;this.scenes=[];var c=this;this.$hH=a.getFile(b+"/library.json");var e=this.$hH.toJson();this.$iK=new U;this.frameRate=e.frameRate;this.backgroundColor=null!=e.backgroundColor?e.backgroundColor:0;this.backgroundAlpha=null!=e.backgroundAlpha?e.backgroundAlpha:1;this.width=null!=e.width?e.width:0;this.height=null!=
e.height?e.height:0;this.pixelSnapping=null!=e.pixelSnapping?e.pixelSnapping:!0;if(null!=e.sounds)for(var d=0,f=e.sounds;d<f.length;){var g=f[d];++d;var h=a.getSound(b+"/"+ca.removeFileExtension(g.file),!1),g=g.id,h=new Rd(g,h);this.sounds.set(g,h)}if(null!=e.videos)for(d=0,f=e.videos;d<f.length;)g=f[d],++d,h=a.getVideo(b+"/"+ca.removeFileExtension(g.file),!1),g=g.id,h=new Oc(g,h),this.$iK.set(g,h);d=[];f=0;for(h=e.movies;f<h.length;)g=h[f],++f,g=new vb(this,g),d.push(g),this.$iK.set(g.$eK,g);if(null!=
e.scenes)for(f=0,h=e.scenes;f<h.length;)g=h[f],++f,g=new vb(this,g),d.push(g),this.scenes.push(g);e=e.textureGroups[0].atlases;for(f=0;f<e.length;){g=e[f];++f;h=b+"/"+ca.removeFileExtension(g.file);h=a.getTexture(h);if(null!=g.mask){var k=a.getTexture(b+"/"+ca.removeFileExtension(g.mask)),l=m.$uG.$HG.createTexture(h.get_width(),h.get_height()),n=l.get_graphics();n.save();n.setBlendMode(L.Copy);n.drawTexture(h,0,0);n.setBlendMode(L.Mask);n.drawTexture(k,0,0);n.restore();h.dispose();k.dispose();h=l}k=
0;for(g=g.textures;k<g.length;)l=g[k],++k,l=new ub(l,h),this.$iK.set(l.$eK,l)}for(var p=null,e=p=function(a){for(var b=a.keyframes,e=b.length,d=0;d<e;){var f=d++,u=b[f];if(null!=u.$bL){var g=c.$iK.get(u.$bL);u.symbol=g}u.tweened&&1==u.duration&&f+1<e&&(f=b[f+1],f.visible&&null!=f.$bL||(u.visible=!1))}b=0;for(a=a.childLayers;b<a.length;)e=a[b],++b,p(e)},f=0;f<d.length;)for(g=d[f],++f,h=0,g=g.layers;h<g.length;)k=g[h],++h,e(k)};k["kit.movie.Library"]=Sd;Sd.__name__=!0;Sd.prototype={createSprite:function(a,
b){var c=this.$iK.get(a);return null==c?null:c.createSprite()},__class__:Sd};var Pc=function(a){this.$nK=this.$oK=null;z.call(this);this.$MK=a;this.$mK=new h;this.movie=new aa(null);this.setCache(!0)};k["kit.movie.MoviePlayer"]=Pc;Pc.__name__=!0;Pc.__super__=z;Pc.prototype=x(z.prototype,{get_entitySlot:function(){return 6},setCache:function(a){this.$qK=a?new U:null;return this},play:function(a,b){null==b&&(b=!0);if(b||null==this.$nK||this.$nK.symbol.$eK!=a)this.$nK=this.$jK(a);return this},loop:function(a,
b){null==b&&(b=!0);if(b||null==this.$oK||this.$oK.symbol.$eK!=a)this.$nK=null,this.$oK=this.$jK(a);return this},onAdded:function(){this.owner.addChild(this.$mK)},onRemoved:function(){this.$mK.dispose();this.$nK=this.$oK=null;this.movie.set__(null)},onUpdate:function(a){null!=this.$nK&&this.$nK.$wK+a>this.$nK.symbol.duration&&(this.$nK=null,this.$lK(this.$oK))},$jK:function(a){var b;null!=this.$qK?(b=this.$qK.get(a),null!=b?b.set_position(0):(b=this.$kK(a),this.$qK.set(a,b))):b=this.$kK(a);return this.$lK(b)},
$kK:function(a){a=this.$MK.createSprite(a,!0);null!=this.$pK&&this.$pK(a);return a},$lK:function(a){this.$mK.add(a);return this.movie.set__(a)},__class__:Pc});var Fa=function(a){this.$zK=this.$$K=this.$_K=null;this.$yK=0;var b=this;y.call(this);this.symbol=a;this.speed=new B(1);this.$vK=Array(a.layers.length);for(var c=0,e=this.$vK.length;c<e;){var d=c++;this.$vK[d]=new fb(a.layers[d])}this.$wK=0;this.$xK=-1;this.$sK(0);if(a.button){var f=0/a.frameRate,g=1/a.frameRate,h=2/a.frameRate,k=!1,l=!1,c=
new za(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308),e=0;for(a=a.layers;e<a.length;)d=a[e],++e,Fa.$AL(d,c);c.x<c.width&&c.y<c.height&&(this.$_K=c);this.$ZF|=4096;this.get_pointerDown().connect(function(a){k=!0;b.set_position(h);m.$uG.$GG.up.connect(function(a){k=!1;b.set_position(l?g:f)}).once()});var n=null;this.get_pointerIn().connect(function(a){l=!0;b.set_position(k?h:g);m.$uG.$FG.get_cursor()==Z.Default&&m.$uG.$FG.set_cursor(Z.Button);null!=n&&n.dispose();
n=m.$uG.$GG.move.connect(function(a){null==b.owner&&(n.dispose(),m.$uG.$FG.get_cursor()==Z.Button&&m.$uG.$FG.set_cursor(Z.Default))})});this.get_pointerOut().connect(function(a){l=!1;b.set_position(f);m.$uG.$FG.get_cursor()==Z.Button&&m.$uG.$FG.set_cursor(Z.Default)})}};k["kit.movie.MovieSprite"]=Fa;Fa.__name__=!0;Fa.$AL=function(a,b){for(var c=0,e=a.keyframes;c<e.length;){var d=e[c];++c;if(3==d.index&&null!=d.symbol){var f=d.symbol.createSprite(),g=f.getNaturalWidth(),h=f.getNaturalHeight();if(0<
g&&0<h){var k=f.scaleX.$aG*d.scaleX,l=f.scaleY.$aG*d.scaleY,f=f.getLocalMatrix(),m=Math.sin(d.skewX),n=Math.cos(d.skewX),p=Math.sin(d.skewY),q=Math.cos(d.skewY);f.set(q*k,p*k,-m*l,n*l,d.x,d.y);f.translate(-d.pivotX,-d.pivotY);y.$KI(f,0,0,b);y.$KI(f,g,0,b);y.$KI(f,g,h,b);y.$KI(f,0,h,b)}}}c=0;for(e=a.childLayers;c<e.length;)d=e[c],++c,Fa.$AL(d,b)};Fa.__super__=y;Fa.prototype=x(y.prototype,{containsLocal:function(a,b){return null!=this.$_K&&a>=this.$_K.x&&a<this.$_K.width&&b>=this.$_K.y&&b<this.$_K.height},
onAdded:function(){y.prototype.onAdded.call(this);for(var a=0,b=this.$vK;a<b.length;){var c=b[a];++a;this.owner.addChild(c.$GL)}},onRemoved:function(){y.prototype.onRemoved.call(this);for(var a=0,b=this.$vK;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.$GL)}},onUpdate:function(a){y.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this.$ZF&6912){case 0:0<=this.speed.$aG&&(this.$wK+=this.speed.$aG*a,this.$wK>this.symbol.duration&&(0!=(this.$ZF&1024)?(this.$wK=this.symbol.duration,
this.$ZF|=2048):(this.$wK%=this.symbol.duration,null!=this.$zK&&this.$zK.emit())));break;case 512:this.$ZF&=-513}this.$sK(this.$wK*this.symbol.frameRate)},$sK:function(a){if(this.$xK!=a){if(a<this.$xK)for(var b=0,c=this.$vK;b<c.length;){var e=c[b];++b;if(e.$QL(this.$$K))return}b=0;for(c=this.$vK;b<c.length;)if(e=c[b],++b,e.$SL(a,this.$$K,this.$yK))return;switch(this.$yK){case 0:this.$yK=1;break;case 1:case 2:this.$yK=3}this.$xK=a}},set_position:function(a){this.setPosition(a,!0);return a},setPosition:function(a,
b){var c=ea.clamp(a,0,this.symbol.duration);this.$wK=c;this.$yK=3;var e=c*this.symbol.frameRate,d;d=b?2:0;for(var f=0,g=this.$vK;f<g.length;){var h=g[f];++f;if(h.$RL(e,this.$$K,d))return c}this.$xK=e;return c},set_paused:function(a){this.$ZF=db.set(this.$ZF,256,a);return a},set_pixelSnapping:function(a){for(var b=0,c=this.$vK;b<c.length;){var e=c[b];++b;e.$TL(a)}return y.prototype.set_pixelSnapping.call(this,a)},$tK:function(a){this.$wK=a.firstFrame/this.symbol.frameRate;this.set_paused(a.playMode==
fa.SingleFrame);this.$ZF=(this.$ZF|512)&-2049;a=0;for(var b=this.$vK;a<b.length;){var c=b[a];++a;c.$tK()}},__class__:Fa});var fb=function(a){this.$YL=[];this.$ML=null;this.$LL=!0;this.$JL=-1;this.$IL=0;this.$HL=!1;this.$KL=a;this.$GL=new h;if(a.empty)this.$XL=null;else{this.$XL=Array(a.keyframes.length);for(var b=null,c=null,e=0,d=this.$XL.length;e<d;){var f=e++,g=a.keyframes[f];if(null!=b&&fb.$ZL(b,g))this.$XL[f]=c;else if(null!=g.symbol){c=g.symbol.createSprite();this.$XL[f]=c;if(0<g.firstFrame||
g.playMode!=fa.Loop)if(b=c instanceof Fa?c:null,null!=b){switch(g.playMode[1]){case 1:b.$ZF|=1024;break;case 2:b.set_paused(!0)}b.$wK=g.firstFrame/b.symbol.frameRate}b=g}else this.$XL[f]=new y}this.$GL.add(this.$XL[0])}this.$WL=this.$GL;if(0<a.childLayers.length)for(d=new y,g=(new h).add(d),g.addChild(this.$GL),this.$GL=b=new h,e=new h,a.mask&&(this.$ML=new y,this.$ML.set_mask(d),e.add(this.$ML)),b.addChild(e),b.addChild(g),d=0,a=a.childLayers;d<a.length;)g=a[d],++d,g=new fb(g),this.$YL.push(g),e.addChild(g.$GL)};
k.$CAB=fb;fb.__name__=!0;fb.$ZL=function(a,b){if(a.symbol!=b.symbol||a.playMode!=b.playMode)return!1;switch(a.playMode[1]){case 2:return a.firstFrame==b.firstFrame;default:return a.firstFrame==b.firstFrame||a.firstFrame+a.duration==b.firstFrame}};fb.prototype={$PL:function(a,b){null!=a.sound&&null!=a.sound.sound&&(this.$GL.emitMessageToParents("MovieSprite.FRAME_SOUND",new Qc(this.$GL,a)).handled||a.sound.sound.play());if(null!=b){var c=a.label;null!=c&&b.emit(c)}null!=a.actions&&this.$GL.emitMessageToParents("MovieSprite.FRAME_ACTION",
new Qc(this.$GL,a))},$QL:function(a){for(var b=0,c=this.$YL;b<c.length;){var e=c[b];++b;if(e.$QL(a))return!0}if(0<=this.$JL){for(var b=this.$KL.keyframes,c=this.$IL,e=this.$JL+1,d=b.length;e<d;){var f=e++;this.$PL(b[f],a);if(c!=this.$IL)return!0}this.$JL=-1}this.$HL=!0;return!1},$RL:function(a,b,c){for(var e=0,d=this.$YL;e<d.length;){var f=d[e];++e;if(f.$RL(a,b,c))return!0}++this.$IL;e=this.$KL.keyframes;d=e.length-1;f=this.$JL;for(this.$JL=-1;this.$JL<d&&e[this.$JL+1].index<=a;)++this.$JL;this.$JL!=
f&&(this.$HL=!0);return this.$SL(a,b,c)},$SL:function(a,b,c){for(var e=0,d=this.$YL;e<d.length;){var f=d[e];++e;if(f.$SL(a,b,c))return!0}var e=this.$KL.keyframes,g=e.length-1,d=this.$JL;if(a>this.$KL.frames)this.$JL=g,this.$HL=!0;else for(;this.$JL<g&&e[this.$JL+1].index<=a;)++this.$JL,this.$HL=!0;if(null!=this.$XL){var f=e[this.$JL],h;if(this.$HL){if(this.$HL=!1,h=this.$XL[this.$JL],h!=this.$WL.$zF[1]){var k;k=h instanceof Fa?h:null;null!=k&&k.$tK(f);this.$WL.add(h)}}else h=this.$WL.$zF[1];if(this.$LL&&
(k=f.visible&&null!=f.symbol&&a<=this.$KL.frames,h.set_visible(k),null!=this.$ML&&this.$ML.set_maskEnabled(k),k)){k=f.x;var l=f.y,m=f.scaleX,n=f.scaleY,q=f.skewX,t=f.skewY,v=f.alpha,r=f.tint;if(f.tweened&&this.$JL<g){var g=(a-f.index)/f.duration,s=f.ease;if(0!=s){var w;0>s?(w=1-g,w=1-w*w,s=-s):w=g*g;g=s*w+(1-s)*g}s=e[this.$JL+1];k+=(s.x-k)*g;l+=(s.y-l)*g;m+=(s.scaleX-m)*g;n+=(s.scaleY-n)*g;q+=(s.skewX-q)*g;t+=(s.skewY-t)*g;v+=(s.alpha-v)*g;s=s.tint;if(16777215!=s||16777215!=r){w=(r&16711680)>>16;
var x=(r&65280)>>8,r=r&255,x=x+((((s&65280)>>8)-x)*g|0),r=r+(((s&255)-r)*g|0),r=w+((((s&16711680)>>16)-w)*g|0)<<16|x<<8|r}}g=p.instance(f.symbol,ub);null!=g&&(m*=g.scaleX,n*=g.scaleY);g=h.getLocalMatrix();s=Math.sin(q);q=Math.cos(q);w=Math.sin(t);t=Math.cos(t);g.set(t*m,w*m,-s*n,q*n,k,l);g.translate(-f.pivotX,-f.pivotY);h.alpha.set__(v);h.setTint(r);null==f.blendMode&&null==h.get_blendMode()||h.set_blendMode(f.blendMode)}}if(0!=c)for(1==c?d=-1:2==c&&0<=this.$JL&&e[this.$JL].index==a&&(d=this.$JL-
1),a=this.$IL,c=d,d=this.$JL;c<d;)if(f=c++,this.$PL(e[f+1],b),this.$IL!=a)return!0;return!1},$TL:function(a){for(var b=0,c=this.$YL;b<c.length;){var e=c[b];++b;e.$TL(a)}if(null!=this.$XL)for(b=0,c=this.$XL;b<c.length;)e=c[b],++b,e.set_pixelSnapping(a)},$tK:function(){for(var a=0,b=this.$YL;a<b.length;){var c=b[a];++a;c.$tK()}this.$HL=!0;this.$JL=-1;if(null!=this.$XL)for(a=0,b=this.$XL.length;a<b;){var c=a++,e=p.instance(this.$XL[c],Fa);null!=e&&e.$tK(this.$KL.keyframes[c])}},__class__:fb};var Qc=
function(a,b){this.layer=a;this.keyframe=b};k["kit.movie.FrameEvent"]=Qc;Qc.__name__=!0;Qc.prototype={__class__:Qc};var vb=function(a,b){this.$eK=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,e=this.layers.length;c<e;){var d=c++,f=new Rc(a,b.layers[d]);this.frames=Math.max(f.frames,this.frames);this.layers[d]=f}this.duration=this.frames/this.frameRate;this.button=!0==b.button};k["kit.movie.MovieSymbol"]=vb;vb.__name__=!0;vb.__interfaces__=[tb];vb.prototype=
{createSprite:function(){return new Fa(this)},__class__:vb};var Rc=function(a,b){this.mask=!1;this.childLayers=[];this.empty=!0;this.name=b.name;var c=null;this.keyframes=Array(b.keyframes.length);for(var e=0,d=this.keyframes.length;e<d;){var f=e++,c=new Td(a,b.keyframes[f],c);this.keyframes[f]=c;this.empty=this.empty&&null==c.$bL}this.frames=null!=c?c.index+c.duration:0;null!=b.mask&&(this.mask=b.mask);if(null!=b.childLayers)for(c=0,e=b.childLayers;c<e.length;)d=e[c],++c,d=new Rc(a,d),d.frames>this.frames&&
(this.frames=d.frames),this.childLayers.push(d)};k["kit.movie.MovieLayer"]=Rc;Rc.__name__=!0;Rc.prototype={__class__:Rc};var fa=k["kit.movie.PlayMode"]={__ename__:!0,__constructs__:["Loop","PlayOnce","SingleFrame"]};fa.Loop=["Loop",0];fa.Loop.toString=l;fa.Loop.__enum__=fa;fa.PlayOnce=["PlayOnce",1];fa.PlayOnce.toString=l;fa.PlayOnce.__enum__=fa;fa.SingleFrame=["SingleFrame",2];fa.SingleFrame.toString=l;fa.SingleFrame.__enum__=fa;var Td=function(a,b,c){this.actions=this.sound=null;this.firstFrame=
0;this.playMode=fa.Loop;this.blendMode=null;this.ease=0;this.visible=this.tweened=!0;this.tint=16777215;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=this.instanceName=null;this.index=null!=c?c.index+c.duration:0;this.duration=b.duration;this.label=b.label;this.$bL=b.ref;c=b.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=b.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=b.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=b.pivot;
null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=b.alpha&&(this.alpha=b.alpha);null!=b.tint&&(this.tint=b.tint);null!=b.visible&&(this.visible=b.visible);null!=b.tweened&&(this.tweened=b.tweened);null!=b.ease&&(this.ease=b.ease);if(null!=b.blendMode)if(c=b.blendMode,null!=c)switch(c){case "add":this.blendMode=L.Add;break;case "multiply":this.blendMode=L.Multiply;break;case "screen":this.blendMode=L.Screen;break;case "layer":this.blendMode=L.Mask;break;default:this.blendMode=null}else this.blendMode=
null;null!=b.firstFrame&&(this.firstFrame=b.firstFrame);if(null!=b.playMode)if(c=b.playMode,null!=c)switch(c){case "stop":this.playMode=fa.SingleFrame;break;case "once":this.playMode=fa.PlayOnce;break;default:this.playMode=fa.Loop}else this.playMode=fa.Loop;null!=b.actions&&(this.actions=b.actions);null!=b.sound&&(this.sound=a.sounds.get(b.sound));null!=b.refName&&(this.instanceName=b.refName)};k["kit.movie.MovieKeyframe"]=Td;Td.__name__=!0;Td.prototype={__class__:Td};var Rd=function(a,b){this.name=
a;this.sound=b};k["kit.movie.SoundSymbol"]=Rd;Rd.__name__=!0;Rd.prototype={__class__:Rd};var Oc=function(a,b){this.$eK=a;this.video=b};k["kit.movie.VideoSymbol"]=Oc;Oc.__name__=!0;Oc.__interfaces__=[tb];Oc.prototype={createSprite:function(){return new Sc(this)},__class__:Oc};var Sa=function(a){y.call(this);this.$eL=a};k["kit.video.VideoSprite"]=Sa;Sa.__name__=!0;Sa.__super__=y;Sa.prototype=x(y.prototype,{draw:function(a){null!=this.$eL&&a.drawTexture(this.$eL.get_texture(),0,0)},getNaturalWidth:function(){return null!=
this.$eL?this.$eL.get_video().get_width():0},getNaturalHeight:function(){return null!=this.$eL?this.$eL.get_video().get_height():0},dispose:function(){y.prototype.dispose.call(this);this.set_playback(null)},set_playback:function(a){null!=this.$eL&&this.$eL.dispose();return this.$eL=a},__class__:Sa});var Sc=function(a){Sa.call(this,null);this.$fL=a};k.$CCB=Sc;Sc.__name__=!0;Sc.__super__=Sa;Sc.prototype=x(Sa.prototype,{onAdded:function(){Sa.prototype.onAdded.call(this);this.set_playback(this.$fL.video.play())},
onRemoved:function(){Sa.prototype.onRemoved.call(this);this.set_playback(null)},__class__:Sc});var O=function(a){this.$iL=this.$jL=0;this.enabled=!0;this.numParticles=0;y.call(this);this.texture=a.texture;this.set_blendMode(a.blendMode);this.type=a.type;this.alphaEnd=new B(a.alphaEnd);this.alphaEndVariance=new B(a.alphaEndVariance);this.alphaStart=new B(a.alphaStart);this.alphaStartVariance=new B(a.alphaStartVariance);this.angle=new B(a.angle);this.angleVariance=new B(a.angleVariance);this.complete=
new Ra;this.duration=a.duration;this.emitXVariance=new B(a.emitXVariance);this.emitYVariance=new B(a.emitYVariance);this.gravityX=new B(a.gravityX);this.gravityY=new B(a.gravityY);this.maxRadius=new B(a.maxRadius);this.maxRadiusVariance=new B(a.maxRadiusVariance);this.minRadius=new B(a.minRadius);this.lifespan=new B(a.lifespan);this.lifespanVariance=new B(a.lifespanVariance);this.radialAccel=new B(a.radialAccel);this.radialAccelVariance=new B(a.radialAccelVariance);this.rotatePerSecond=new B(a.rotatePerSecond);
this.rotatePerSecondVariance=new B(a.rotatePerSecondVariance);this.rotationEnd=new B(a.rotationEnd);this.rotationEndVariance=new B(a.rotationEndVariance);this.rotationStart=new B(a.rotationStart);this.rotationStartVariance=new B(a.rotationStartVariance);this.sizeEnd=new B(a.sizeEnd);this.sizeEndVariance=new B(a.sizeEndVariance);this.sizeStart=new B(a.sizeStart);this.sizeStartVariance=new B(a.sizeStartVariance);this.speed=new B(a.speed);this.speedVariance=new B(a.speedVariance);this.tangentialAccel=
new B(a.tangentialAccel);this.tangentialAccelVariance=new B(a.tangentialAccelVariance);this.redStart=new B(a.redStart);this.redStartVariance=new B(a.redStartVariance);this.redEnd=new B(a.redEnd);this.redEndVariance=new B(a.redEndVariance);this.greenStart=new B(a.greenStart);this.greenStartVariance=new B(a.greenStartVariance);this.greenEnd=new B(a.greenEnd);this.greenEndVariance=new B(a.greenEndVariance);this.blueStart=new B(a.blueStart);this.blueStartVariance=new B(a.blueStartVariance);this.blueEnd=
new B(a.blueEnd);this.blueEndVariance=new B(a.blueEndVariance);this.emitX=new B(0);this.emitY=new B(0);this.$hL=Array(a.maxParticles);a=0;for(var b=this.$hL.length;a<b;)this.$hL[a]=new Ud,++a};k["kit.particle.EmitterSprite"]=O;O.__name__=!0;O.$kL=function(a,b){0!=b&&(a+=b*(2*Math.random()-1));return a};O.__super__=y;O.prototype=x(y.prototype,{once:function(){var a=this;this.complete.connect(function(){a.owner.dispose()});return this},onUpdate:function(a){y.prototype.onUpdate.call(this,a);this.alphaEnd.update(a);
this.alphaEndVariance.update(a);this.alphaStart.update(a);this.alphaStartVariance.update(a);this.angle.update(a);this.angleVariance.update(a);this.emitX.update(a);this.emitXVariance.update(a);this.emitY.update(a);this.emitYVariance.update(a);this.gravityX.update(a);this.gravityY.update(a);this.lifespan.update(a);this.lifespanVariance.update(a);this.maxRadius.update(a);this.maxRadiusVariance.update(a);this.minRadius.update(a);this.radialAccel.update(a);this.radialAccelVariance.update(a);this.rotatePerSecond.update(a);
this.rotatePerSecondVariance.update(a);this.rotationEnd.update(a);this.rotationEndVariance.update(a);this.rotationStart.update(a);this.rotationStartVariance.update(a);this.sizeEnd.update(a);this.sizeEndVariance.update(a);this.sizeStart.update(a);this.sizeStartVariance.update(a);this.speed.update(a);this.speedVariance.update(a);this.tangentialAccel.update(a);this.tangentialAccelVariance.update(a);this.redStart.update(a);this.redStartVariance.update(a);this.redEnd.update(a);this.redEndVariance.update(a);
this.greenStart.update(a);this.greenStartVariance.update(a);this.greenEnd.update(a);this.greenEndVariance.update(a);this.blueStart.update(a);this.blueStartVariance.update(a);this.blueEnd.update(a);this.blueEndVariance.update(a);for(var b=this.type==Ga.Gravity,c=0;c<this.numParticles;){var e=this.$hL[c];if(e.$HM>a){if(b){e.$nL+=e.$oL*a;e.$pL+=e.$qL*a;var d=this.gravityX.$aG,f=-this.gravityY.$aG;if(0!=e.$vL||0!=e.$wL)var g=e.$nL-e.$lL,h=e.$pL-e.$mL,k=Math.sqrt(g*g+h*h),g=g/k,h=h/k,d=d+g*e.$vL,f=f+h*
e.$vL,k=g,d=d+-h*e.$wL,f=f+k*e.$wL;e.$oL+=d*a;e.$qL+=f*a}else e.$tL+=e.$uL*a,e.$rL+=e.$sL*a,d=e.$rL,e.$nL=this.emitX.$aG-Math.cos(e.$tL)*d,e.$pL=this.emitY.$aG-Math.sin(e.$tL)*d,d<this.minRadius.$aG&&(e.$HM=0);e.$xL+=e.$yL*a;e.$zL+=e.$$L*a;e.$_L+=e.$AM*a;e.$BM+=e.$CM*a;e.$DM+=e.$EM*a;e.$FM+=e.$GM*a;e.$HM-=a;++c}else--this.numParticles,c!=this.numParticles&&(this.$hL[c]=this.$hL[this.numParticles],this.$hL[this.numParticles]=e),this.enabled||0!=this.numParticles||this.complete.emit()}if(this.enabled){if(0<
this.duration&&(this.$jL+=a,this.$jL>=this.duration)){this.enabled=!1;return}b=this.lifespan.$aG/this.$hL.length;for(this.$iL+=a;this.$iL>=b;)this.numParticles<this.$hL.length&&this.$gL(this.$hL[this.numParticles])&&++this.numParticles,this.$iL-=b}},draw:function(a){for(var b=-this.texture.get_width()/2,c=0,e=this.numParticles;c<e;){var d=this.$hL[c];a.save();a.translate(d.$nL,d.$pL);1>d.$_L&&a.multiplyAlpha(d.$_L);1==d.$BM&&1==d.$DM&&1==d.$FM||a.tint(d.$BM,d.$DM,d.$FM);0!=d.$zL&&a.rotate(d.$zL);
1!=d.$xL&&a.scale(d.$xL,d.$xL);a.drawTexture(this.texture,b,b);a.restore();++c}},$gL:function(a){a.$HM=O.$kL(this.lifespan.$aG,this.lifespanVariance.$aG);if(0>=a.$HM)return!1;a.$lL=this.emitX.$aG;a.$mL=this.emitY.$aG;var b=-ea.toRadians(O.$kL(this.angle.$aG,this.angleVariance.$aG)),c=O.$kL(this.speed.$aG,this.speedVariance.$aG);a.$oL=c*Math.cos(b);a.$qL=c*Math.sin(b);a.$vL=O.$kL(this.radialAccel.$aG,this.radialAccelVariance.$aG);a.$wL=O.$kL(this.tangentialAccel.$aG,this.tangentialAccelVariance.$aG);
a.$rL=O.$kL(this.maxRadius.$aG,this.maxRadiusVariance.$aG);a.$sL=-a.$rL/a.$HM;a.$tL=b;a.$uL=ea.toRadians(O.$kL(this.rotatePerSecond.$aG,this.rotatePerSecondVariance.$aG));this.type==Ga.Gravity?(a.$nL=O.$kL(this.emitX.$aG,this.emitXVariance.$aG),a.$pL=O.$kL(this.emitY.$aG,this.emitYVariance.$aG)):(b=a.$rL,a.$nL=this.emitX.$aG-Math.cos(a.$tL)*b,a.$pL=this.emitY.$aG-Math.sin(a.$tL)*b);c=this.texture.get_width();b=O.$kL(this.sizeStart.$aG,this.sizeStartVariance.$aG)/c;c=O.$kL(this.sizeEnd.$aG,this.sizeEndVariance.$aG)/
c;a.$xL=b;a.$yL=(c-b)/a.$HM;b=O.$kL(this.rotationStart.$aG,this.rotationStartVariance.$aG);c=O.$kL(this.rotationEnd.$aG,this.rotationEndVariance.$aG);a.$zL=b;a.$$L=(c-b)/a.$HM;b=O.$kL(this.alphaStart.$aG,this.alphaStartVariance.$aG);c=O.$kL(this.alphaEnd.$aG,this.alphaEndVariance.$aG);a.$_L=b;a.$AM=(c-b)/a.$HM;b=O.$kL(this.redStart.$aG,this.redStartVariance.$aG);c=O.$kL(this.redEnd.$aG,this.redEndVariance.$aG);a.$BM=b;a.$CM=(c-b)/a.$HM;b=O.$kL(this.greenStart.$aG,this.greenStartVariance.$aG);c=O.$kL(this.greenEnd.$aG,
this.greenEndVariance.$aG);a.$DM=b;a.$EM=(c-b)/a.$HM;b=O.$kL(this.blueStart.$aG,this.blueStartVariance.$aG);c=O.$kL(this.blueEnd.$aG,this.blueEndVariance.$aG);a.$FM=b;a.$GM=(c-b)/a.$HM;return!0},__class__:O});var Ud=function(){this.$lL=this.$mL=this.$nL=this.$oL=this.$pL=this.$qL=this.$rL=this.$sL=this.$tL=this.$uL=this.$vL=this.$wL=this.$xL=this.$yL=this.$zL=this.$$L=this.$_L=this.$AM=this.$BM=this.$CM=this.$DM=this.$EM=this.$FM=this.$GM=this.$HM=0};k.$CDB=Ud;Ud.__name__=!0;Ud.prototype={__class__:Ud};
var Ga=k["kit.particle.EmitterType"]={__ename__:!0,__constructs__:["Gravity","Radial"]};Ga.Gravity=["Gravity",0];Ga.Gravity.toString=l;Ga.Gravity.__enum__=Ga;Ga.Radial=["Radial",1];Ga.Radial.toString=l;Ga.Radial.__enum__=Ga;var H=function(a,b){this.$hH=a.getFile(b+".pex");for(var c=this.$hH.toXml(),e=0,d=0,f=b.lastIndexOf("/"),f=0<=f?D.substr(b,0,f+1):"",c=c.firstElement().elements();c.hasNext();){var g=c.next(),h=void 0;if(g.nodeType!=v.Element)throw new w("Bad node type, expected Element but found "+
g.nodeType);h=g.nodeName;switch(h.toLowerCase()){case "texture":this.texture=a.getTexture(f+ca.removeFileExtension(g.get("name")));break;case "angle":this.angle=H.$IM(g,"value");break;case "anglevariance":this.angleVariance=H.$IM(g,"value");break;case "blendfuncdestination":d=p["int"](H.$IM(g,"value"));break;case "blendfuncsource":e=p["int"](H.$IM(g,"value"));break;case "duration":this.duration=H.$IM(g,"value");break;case "emittertype":0==p["int"](H.$IM(g,"value"))?this.type=Ga.Gravity:this.type=
Ga.Radial;break;case "finishcolor":this.alphaEnd=H.$IM(g,"alpha");this.redEnd=H.$IM(g,"red");this.greenEnd=H.$IM(g,"green");this.blueEnd=H.$IM(g,"blue");break;case "finishcolorvariance":this.alphaEndVariance=H.$IM(g,"alpha");this.redEndVariance=H.$IM(g,"red");this.greenEndVariance=H.$IM(g,"green");this.blueEndVariance=H.$IM(g,"blue");break;case "finishparticlesize":this.sizeEnd=H.$IM(g,"value");break;case "finishparticlesizevariance":this.sizeEndVariance=H.$IM(g,"value");break;case "gravity":this.gravityX=
H.$IM(g,"x");this.gravityY=H.$IM(g,"y");break;case "maxparticles":this.maxParticles=p["int"](H.$IM(g,"value"));break;case "maxradius":this.maxRadius=H.$IM(g,"value");break;case "maxradiusvariance":this.maxRadiusVariance=H.$IM(g,"value");break;case "minradius":this.minRadius=H.$IM(g,"value");break;case "particlelifespan":this.lifespan=H.$IM(g,"value");break;case "particlelifespanvariance":this.lifespanVariance=H.$IM(g,"value");break;case "radialaccelvariance":this.radialAccelVariance=H.$IM(g,"value");
break;case "radialacceleration":this.radialAccel=H.$IM(g,"value");break;case "rotatepersecond":this.rotatePerSecond=H.$IM(g,"value");break;case "rotatepersecondvariance":this.rotatePerSecondVariance=H.$IM(g,"value");break;case "rotationend":this.rotationEnd=H.$IM(g,"value");break;case "rotationendvariance":this.rotationEndVariance=H.$IM(g,"value");break;case "rotationstart":this.rotationStart=H.$IM(g,"value");break;case "rotationstartvariance":this.rotationStartVariance=H.$IM(g,"value");break;case "sourcepositionvariance":this.emitXVariance=
H.$IM(g,"x");this.emitYVariance=H.$IM(g,"y");break;case "speed":this.speed=H.$IM(g,"value");break;case "speedvariance":this.speedVariance=H.$IM(g,"value");break;case "startcolor":this.alphaStart=H.$IM(g,"alpha");this.redStart=H.$IM(g,"red");this.greenStart=H.$IM(g,"green");this.blueStart=H.$IM(g,"blue");break;case "startcolorvariance":this.alphaStartVariance=H.$IM(g,"alpha");this.redStartVariance=H.$IM(g,"red");this.greenStartVariance=H.$IM(g,"green");this.blueStartVariance=H.$IM(g,"blue");break;
case "startparticlesize":this.sizeStart=H.$IM(g,"value");break;case "startparticlesizevariance":this.sizeStartVariance=H.$IM(g,"value");break;case "tangentialaccelvariance":this.tangentialAccelVariance=H.$IM(g,"value");break;case "tangentialacceleration":this.tangentialAccel=H.$IM(g,"value")}}0>=this.lifespan&&(this.lifespan=this.duration);1==e&&1==d?this.blendMode=L.Add:1==e&&771==d?this.blendMode=null:0==e&&0==d||null};k["kit.particle.ParticleSystem"]=H;H.__name__=!0;H.$IM=function(a,b){return p.parseFloat(a.get(b))};
H.prototype={createEmitter:function(){return new O(this)},__class__:H};var W=function(){this.$hM=!1};k.$CFB=W;W.__name__=!0;W.__interfaces__=[La];W.prototype={dispose:function(){this.$hM||(this.$hM=!0,this.$fM())},$fM:function(){null},__class__:W};var wb=function(a,b){this.$uM=0;var c=this;this.$jM=b;this.$uG=a;this.$oF=new Da;this.$bI=new Tc(b,this);this.$tM=new U;var e=Qb.array(b);if(0==e.length)this.$pM();else{for(var d=new U,f=0;f<e.length;){var g=e[f];++f;var h=d.get(g.name);null==h&&(h=[],d.set(g.name,
h));h.push(g)}this.$sM=Qb.count(d);for(e=new Rb(d,d.arrayKeys());e.hasNext();)d=[e.next()],this.$kM(d[0],function(a){return function(e){if(null!=e){var d=new Uc(0,e.bytes);c.$tM.set(e.name,d);d=b.getFullURL(e);try{c.$lM(d,e)}catch(f){f instanceof w&&(f=f.val),c.$qM(e,"Unexpected error: "+p.string(f))}}else switch(e=a[0][0],d=new Uc(0,0),c.$tM.set(e.name,d),e.format[1]){case 8:case 9:case 10:case 11:case 12:c.$nM(e,ta.$xN());break;case 16:case 17:c.$nM(e,Ha.$xN());break;default:c.$qM(e,"Could not find a supported format to load")}}}(d))}};
k.$CGB=wb;wb.__name__=!0;wb.prototype={$kM:function(a,b){this.$mM(function(c){for(var e=0;e<c.length;){var d=c[e];++e;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==d){b(g);return}}}b(null)})},$lM:function(a,b){null},$mM:function(a){null},$nM:function(a,b){if(this.$bI.$yM)b.dispose();else{var c=this.$tM.get(a.name);c.$_M=c.$AN;var e;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e=this.$bI.textures;break;case 8:case 9:case 10:case 11:case 12:e=this.$bI.sounds;break;
case 13:case 14:case 15:e=this.$bI.$wM;break;case 16:case 17:e=this.$bI.$xM;break;case 18:e=this.$bI.files}e.set(a.name,b);this.$sM-=1;0==this.$sM&&this.$pM()}},$oM:function(a,b,c){a=this.$tM.get(a.name);0<c&&(a.$AN=c);a.$_M=ea.min(b,a.$AN);c=b=0;for(a=this.$tM.iterator();a.hasNext();){var e=a.next();b+=e.$_M;c+=e.$AN}a=0<c?b/c:0;a!=this.$uM&&(this.$uM=a,this.$oF.emitProgress(a),this.$oF.set_total(c),this.$oF.set_progress(b))},$pM:function(){this.$oF.$LW(this.$bI)},$qM:function(a,b){this.$bI.dispose();
this.$oF.failure(ca.withFields(b,["url",a.url]))},$rM:function(a){this.$qM(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:wb};var Tc=function(a,b){this.$yM=!1;this.$xM=new U;this.$wM=new U;this.files=new U;this.sounds=new U;this.textures=new U;this.$zM=a};k.$CHB=Tc;Tc.__name__=!0;Tc.__interfaces__=[Tb];Tc.prototype={getTexture:function(a,b){return this.textures.get(a)},getSound:function(a,b){return this.sounds.get(a)},getFile:function(a,b){return this.files.get(a)},getVideo:function(a,
b){return this.$xM.get(a)},dispose:function(){if(!this.$yM){this.$yM=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;for(a=this.$wM.iterator();a.hasNext();)a.next().dispose();this.$wM=null}},__class__:Tc};var Uc=function(a,b){this.$_M=a;this.$AN=b};k.$CIB=Uc;Uc.__name__=!0;Uc.prototype={__class__:Uc};var xb=
function(a){this.$hM=!1;this.$YI=a};k.$CJB=xb;xb.__name__=!0;xb.__interfaces__=[bc];xb.__super__=W;xb.prototype=x(W.prototype,{toString:function(){return this.$YI},toJson:function(){return JSON.parse(this.toString())},toXml:function(){return v.parse(this.toString())},$fM:function(){this.$YI=null},__class__:xb});var Vd=function(){};k["kit.subsystem.KeyboardSystem"]=Vd;Vd.__name__=!0;Vd.prototype={__class__:Vd};var ya=function(){this.down=new P;this.up=new P;this.backButton=new Ra;this.$EN=new wa};
k.$CKB=ya;ya.__name__=!0;ya.__interfaces__=[Vd];ya.prototype={$CN:function(a){if(16777238==a)return null!=this.backButton.$nG?(this.backButton.emit(),!0):!1;this.$EN.h.hasOwnProperty(a)||(this.$EN.h[a]=!0,ya.$FN.$bK(ya.$FN.id+1,Wd.$EQ(a)),this.down.emit(ya.$FN));return!0},$DN:function(a){this.$EN.h.hasOwnProperty(a)&&(this.$EN.remove(a),ya.$FN.$bK(ya.$FN.id+1,Wd.$EQ(a)),this.up.emit(ya.$FN))},__class__:ya};var Xd=function(){};k["kit.subsystem.MouseSystem"]=Xd;Xd.__name__=!0;Xd.prototype={__class__:Xd};
var la=function(a){this.$GG=a;this.$dK=Mc.Mouse(la.$FN);this.down=new P;this.move=new P;this.up=new P;this.scroll=new P;this.$wI=this.$vI=0;this.$IN=Z.Default;this.$JN=new wa};k.$CLB=la;la.__name__=!0;la.__interfaces__=[Xd];la.prototype={get_cursor:function(){return this.$IN},set_cursor:function(a){return this.$IN=a},$CN:function(a,b,c){this.$JN.h.hasOwnProperty(c)||(this.$JN.h[c]=!0,this.$FK(a,b,Yd.$XQ(c)),this.$GG.$CN(a,b,this.$dK),this.down.emit(la.$FN))},$GN:function(a,b){this.$FK(a,b,null);this.$GG.$GN(a,
b,this.$dK);this.move.emit(la.$FN)},$DN:function(a,b,c){this.$JN.h.hasOwnProperty(c)&&(this.$JN.remove(c),this.$FK(a,b,Yd.$XQ(c)),this.$GG.$DN(a,b,this.$dK),this.up.emit(la.$FN))},$HN:function(a,b,c){this.$vI=a;this.$wI=b;if(null==this.scroll.$nG)return!1;this.scroll.emit(c);return!0},$FK:function(a,b,c){this.$vI=a;this.$wI=b;la.$FN.$bK(la.$FN.id+1,a,b,c)},__class__:la};var Zd=function(){};k["kit.subsystem.PointerSystem"]=Zd;Zd.__name__=!0;Zd.prototype={__class__:Zd};var ha=function(a,b,c){null==
c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new P;this.move=new P;this.up=new P;this.$vI=a;this.$wI=b;this.$KN=c};k.$CMB=ha;ha.__name__=!0;ha.__interfaces__=[Zd];ha.prototype={$CN:function(a,b,c){if(!this.$KN){this.$GN(a,b,c);this.$KN=!0;var e=[],d=y.hitTest(m.root,a,b);if(null!=d){var f=d.owner;do{var g=f.$zF[1];null!=g&&e.push(g);f=f.parent}while(null!=f)}this.$FK(a,b,d,c);for(a=0;a<e.length;)if(b=e[a],++a,b.$sH(ha.$FN),ha.$FN.$cK)return;this.down.emit(ha.$FN)}},$GN:function(a,b,c){if(a!=
this.$vI||b!=this.$wI){var e=[],d=y.hitTest(m.root,a,b);if(null!=d){var f=d.owner;do{var g=f.$zF[1];null!=g&&e.push(g);f=f.parent}while(null!=f)}this.$FK(a,b,d,c);for(a=0;a<e.length;)if(b=e[a],++a,b.$tH(ha.$FN),ha.$FN.$cK)return;this.move.emit(ha.$FN)}},$DN:function(a,b,c){if(this.$KN){this.$GN(a,b,c);this.$KN=!1;var e=[],d=y.hitTest(m.root,a,b);if(null!=d){var f=d.owner;do{var g=f.$zF[1];null!=g&&e.push(g);f=f.parent}while(null!=f)}this.$FK(a,b,d,c);for(a=0;a<e.length;)if(b=e[a],++a,b.$vH(ha.$FN),
ha.$FN.$cK)return;this.up.emit(ha.$FN)}},$FK:function(a,b,c,e){this.$vI=a;this.$wI=b;ha.$FN.$bK(ha.$FN.id+1,a,b,c,e)},__class__:ha};var Vc=function(){};k.$CNB=Vc;Vc.__name__=!0;Vc.__interfaces__=[te];Vc.prototype={__class__:Vc};var Ia=function(a,b,c){this.$vI=this.$wI=0;this.$ON=null;this.$MN=this.$NN=0;this.$hM=!1;this.$LN=a;this.$IJ=b;this.$JJ=c};k.$COB=Ia;Ia.__name__=!0;Ia.__interfaces__=[Vc];Ia.__super__=W;Ia.prototype=x(W.prototype,{subTexture:function(a,b,c,e){c=this.$LN.createTexture(c,e);
c.$ON=this;c.$vI=a;c.$wI=b;c.$MN=this.$MN+a;c.$NN=this.$NN+b;return c},clear:function(){this.$LN.clear()},renderFilter:function(a,b,c){this.$LN.renderFilter(a,b,c)},get_graphics:function(){return this.$LN.getGraphics()},$fM:function(){null==this.$ON&&this.$LN.dispose()},get_width:function(){return this.$IJ},get_height:function(){return this.$JJ},__class__:Ia});var Wc=function(){};k["kit.subsystem.TouchSystem"]=Wc;Wc.__name__=!0;Wc.prototype={__class__:Wc};var Xb=function(a,b){null==b&&(b=4);this.$GG=
a;this.$QN=b;this.$RN=new wa;this.$SJ=[];this.down=new P;this.move=new P;this.up=new P};k.$CPB=Xb;Xb.__name__=!0;Xb.__interfaces__=[Wc];Xb.prototype={get_supported:function(){return!0},$CN:function(a,b,c){if(!this.$RN.h.hasOwnProperty(a)){var e=new Qd(a);e.$bK(b,c);this.$RN.h[a]=e;this.$SJ.push(e);null==this.$PN&&(this.$PN=e,this.$GG.$CN(b,c,e.$dK));this.down.emit(e)}},$GN:function(a,b,c){a=this.$RN.h[a];null!=a&&(a.$bK(b,c),this.$PN==a&&this.$GG.$GN(b,c,a.$dK),this.move.emit(a))},$DN:function(a,
b,c){var e=this.$RN.h[a];null!=e&&(e.$bK(b,c),this.$RN.remove(a),D.remove(this.$SJ,e),this.$PN==e&&(this.$PN=null,this.$GG.$DN(b,c,e.$dK)),this.up.emit(e))},__class__:Xb};var we=function(){};k.$CQB=we;we.__name__=!0;we.$SN=function(){m.$sG().then(function(a){try{m.$uG.getExternal().call("console.info",["Built with 2DKit, http://2dkit.com"])}catch(b){b instanceof w&&(b=b.val)}xe.main()})};var da=function(){};k.$CRB=da;da.__name__=!0;da.$WN=function(a){var b=Sb.getType(da).injected[0];return $.field(b,
a)};da.$XN=function(){switch(da.$WN("orientation")){case "landscape":return Ea.Landscape;case "portrait":return Ea.Portrait}return null};var Xc=function(){this.$qN=new Pa;this.$pN=0;this.$nN=this.$oN=null;this.$mN=Infinity;this.$lN=0};k.$CSB=Xc;Xc.__name__=!0;Xc.__interfaces__=[ra];Xc.prototype={$bN:function(a){this.$mN=a;this.$kN(!0);return this},$cN:function(a){this.$nN=a;return this},$dN:function(a){this.$oN=a;return this},$eN:function(a,b,c){null==c&&(c=!0);this.$iN(a);var e;e=null!=this.$oN?
this.$oN(a,b):1;this.$lN+=e;this.$kN(c);b=new $d(a,b);b.$rN=++this.$pN;b.$ZN=e;this.$qN.set(a,b)},$WN:function(a){a=this.$qN.h[a.__id__];if(null==a)return null;a.$rN=++this.$pN;return a.$ZK},$fN:function(){var a=this.$hN(!0);return null!=a?a.$uJ:null},$hN:function(a){for(var b=null,c=this.$qN.iterator();c.hasNext();){var e=c.next();if(null==b||e.$rN<b.$rN==a)b=e}return b},$iN:function(a,b){null==b&&(b=!0);var c=this.$qN.h[a.__id__];if(null==c)return null;null!=this.$nN&&b&&this.$nN(a,c.$ZK);this.$qN.remove(a);
this.$lN-=c.$ZN;return c.$ZK},$jN:function(a){null==a&&(a=!0);var b=this.$qN;this.$qN=new Pa;this.$lN=0;if(null!=this.$nN&&a)for(a=b.iterator();a.hasNext();)b=a.next(),this.$nN(b.$uJ,b.$ZK)},dispose:function(){this.$jN()},$kN:function(a){for(;this.$lN>this.$mN;){var b=this.$hN(a);if(null!=b)null!=this.$nN&&this.$nN(b.$uJ,b.$ZK),this.$qN.remove(b.$uJ),this.$lN-=b.$ZN;else break}},__class__:Xc};var $d=function(a,b){this.$ZN=1;this.$rN=0;this.$uJ=a;this.$ZK=b};k.$CTB=$d;$d.__name__=!0;$d.prototype={__class__:$d};
var gb=function(){};k["kit.sound.Sound"]=gb;gb.__name__=!0;gb.__interfaces__=[La];gb.prototype={__class__:gb};var ta=function(){this.$hM=!1;this.$eL=new Yc(this)};k.$CYB=ta;ta.__name__=!0;ta.__interfaces__=[gb];ta.$xN=function(){null==ta.$_G&&(ta.$_G=new ta);return ta.$_G};ta.__super__=W;ta.prototype=x(W.prototype,{play:function(a){return this.$eL},loop:function(a){return this.$eL},$fM:function(){},__class__:ta});var hb=function(){};k["kit.sound.Playback"]=hb;hb.__name__=!0;hb.__interfaces__=[ra];
hb.prototype={__class__:hb};var Yc=function(a){this.$yN=a;this.volume=new B(0);this.$zN=new aa(!0)};k.$CZB=Yc;Yc.__name__=!0;Yc.__interfaces__=[hb];Yc.prototype={dispose:function(){},__class__:Yc};var Zc=function(){};k["kit.subsystem.StorageSystem"]=Zc;Zc.__name__=!0;Zc.prototype={__class__:Zc};var Vb=function(){this.$oI=new U};k.$CaB=Vb;Vb.__name__=!0;Vb.__interfaces__=[Zc];Vb.prototype={get:function(a,b){return(new Da).$LW(this.$oI.exists(a)?this.$oI.get(a):b)},__class__:Vb};var Yb=function(){this.down=
new P;this.move=new P;this.up=new P};k.$CbB=Yb;Yb.__name__=!0;Yb.__interfaces__=[Wc];Yb.prototype={get_supported:function(){return!1},__class__:Yb};var yb=function(){};k["kit.video.Video"]=yb;yb.__name__=!0;yb.__interfaces__=[La];yb.prototype={__class__:yb};var Ha=function(){this.$hM=!1;this.$eL=new $c(this)};k.$CcB=Ha;Ha.__name__=!0;Ha.__interfaces__=[yb];Ha.$xN=function(){null==Ha.$_G&&(Ha.$_G=new Ha);return Ha.$_G};Ha.__super__=W;Ha.prototype=x(W.prototype,{play:function(a){return this.$eL},get_width:function(){return 1},
get_height:function(){return 1},$fM:function(){},__class__:Ha});var zb=function(){};k["kit.video.VideoPlayback"]=zb;zb.__name__=!0;zb.__interfaces__=[ra];zb.prototype={__class__:zb};var $c=function(a){this.$$N=a;this.volume=new B(0);this.$zN=new aa(!0);this.$KJ=m.$uG.$HG.createTexture(1,1)};k.$CdB=$c;$c.__name__=!0;$c.__interfaces__=[zb];$c.prototype={get_video:function(){return this.$$N},get_texture:function(){return this.$KJ},dispose:function(){},__class__:$c};var ib=function(){this.$eF=[]};k.$CfB=
ib;ib.__name__=!0;ib.__interfaces__=[ra];ib.prototype={$_N:function(a,b,c){a.addEventListener(b,c,!1);this.$eF.push(new ae(a,b,c))},$AO:function(a,b,c){var e=this;this.$_N(a,b,function(a){e.dispose();c(a)})},dispose:function(){for(var a=0,b=this.$eF;a<b.length;){var c=b[a];++a;c.$BO.removeEventListener(c.$aK,c.$CO,!1)}this.$eF=[]},__class__:ib};var ae=function(a,b,c){this.$BO=a;this.$aK=b;this.$CO=c};k.$CgB=ae;ae.__name__=!0;ae.prototype={__class__:ae};var Kd=function(a,b){this.$EO=this.$FO=0;var c=
a+150,e=b+150;this.$GO=m.$uG.$HG.createTexture(c,e);this.$HO=m.$uG.$HG.createTexture(c,e);this.$IJ=a;this.$JJ=b};k.$CiB=Kd;Kd.__name__=!0;Kd.prototype={$IO:function(a,b){if(a>this.$GO.get_width()||b>this.$GO.get_height()){var c=p["int"](Math.max(this.$GO.get_width(),a+150)),e=p["int"](Math.max(this.$GO.get_height(),b+150));this.$GO.dispose();this.$HO.dispose();this.$GO=m.$uG.$HG.createTexture(c,e);this.$HO=m.$uG.$HG.createTexture(c,e)}else this.$GO.clear(),this.$HO.clear();this.$IJ=a;this.$JJ=b},
$JO:function(a){null!=a.$VK&&(a.outputOnly||a.setUniformSampler2D("uTexture",this.$GO),a.setUniformVec2("uFilterPosition",this.$EO,this.$FO),this.$HO.renderFilter(a,this.$IJ,this.$JJ),a=this.$GO,this.$GO=this.$HO,this.$HO=a)},__class__:Kd};var Ab=function(){};k.$CkB=Ab;Ab.__name__=!0;Ab.__interfaces__=[ec];Ab.prototype={__class__:Ab};var be=function(){};k["kit.subsystem.RendererSystem"]=be;be.__name__=!0;be.prototype={__class__:be};var Bb=function(){};k.$ClB=Bb;Bb.__name__=!0;Bb.__interfaces__=[be];
Bb.prototype={__class__:Bb};var Wd=function(){};k.$CmB=Wd;Wd.__name__=!0;Wd.$EQ=function(a){switch(a){case 65:return g.A;case 66:return g.B;case 67:return g.C;case 68:return g.D;case 69:return g.E;case 70:return g.F;case 71:return g.G;case 72:return g.H;case 73:return g.I;case 74:return g.J;case 75:return g.K;case 76:return g.L;case 77:return g.M;case 78:return g.N;case 79:return g.O;case 80:return g.P;case 81:return g.Q;case 82:return g.R;case 83:return g.S;case 84:return g.T;case 85:return g.U;
case 86:return g.V;case 87:return g.W;case 88:return g.X;case 89:return g.Y;case 90:return g.Z;case 48:return g.Number0;case 49:return g.Number1;case 50:return g.Number2;case 51:return g.Number3;case 52:return g.Number4;case 53:return g.Number5;case 54:return g.Number6;case 55:return g.Number7;case 56:return g.Number8;case 57:return g.Number9;case 96:return g.Numpad0;case 97:return g.Numpad1;case 98:return g.Numpad2;case 99:return g.Numpad3;case 100:return g.Numpad4;case 101:return g.Numpad5;case 102:return g.Numpad6;
case 103:return g.Numpad7;case 104:return g.Numpad8;case 105:return g.Numpad9;case 107:return g.NumpadAdd;case 110:return g.NumpadDecimal;case 111:return g.NumpadDivide;case 108:return g.NumpadEnter;case 106:return g.NumpadMultiply;case 109:return g.NumpadSubtract;case 112:return g.F1;case 113:return g.F2;case 114:return g.F3;case 115:return g.F4;case 116:return g.F5;case 117:return g.F6;case 118:return g.F7;case 119:return g.F8;case 120:return g.F9;case 121:return g.F10;case 122:return g.F11;case 123:return g.F12;
case 37:return g.Left;case 38:return g.Up;case 39:return g.Right;case 40:return g.Down;case 18:return g.Alt;case 192:return g.Backquote;case 220:return g.Backslash;case 8:return g.Backspace;case 20:return g.CapsLock;case 188:return g.Comma;case 15:return g.Command;case 17:return g.Control;case 46:return g.Delete;case 35:return g.End;case 13:return g.Enter;case 187:return g.Equals;case 27:return g.Escape;case 36:return g.Home;case 45:return g.Insert;case 219:return g.LeftBracket;case 189:return g.Minus;
case 34:return g.PageDown;case 33:return g.PageUp;case 190:return g.Period;case 222:return g.Quote;case 221:return g.RightBracket;case 186:return g.Semicolon;case 16:return g.Shift;case 191:return g.Slash;case 32:return g.Space;case 9:return g.Tab;case 16777234:return g.Menu;case 16777247:return g.Search}return g.Unknown(a)};var Wa=function(){this.$MQ=0;this.$KQ=null;this.$GQ=new h;this.$LQ=[]};k.$CnB=Wa;Wa.__name__=!0;Wa.$NQ=function(a,b){if(a.active){var c=a.$zF[9];if(null!=c&&(c.$yG=b,b*=c.scale.$aG,
0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var e=c.next;0==(c.$ZF&1)&&(c.$ZF|=1,c.$YF(),c.onStart());c.onUpdate(b);c=e}for(c=a.firstChild;null!=c;)e=c.next,Wa.$NQ(c,b),c=e}};Wa.prototype={$bK:function(){if(1==da.$WN("scaleMode")){var a=new y;m.root.add(a);var b=da.$WN("width"),c=da.$WN("height"),e=da.$WN("maxWidth"),d=da.$WN("maxHeight"),f=function(){var f=Math.min(m.$uG.$IG.get_width()/b,m.$uG.$IG.get_height()/c);a.setXY(m.$uG.$IG.get_width()/2-f*b/2,m.$uG.$IG.get_height()/2-f*
c/2);a.setScale(f);e*f<m.$uG.$IG.get_width()||d*f<m.$uG.$IG.get_height()?(null==a.get_scissor()&&a.set_scissor(new za),a.get_scissor().set(b/2-e/2,c/2-d/2,e,d)):a.set_scissor(null)};f();m.$uG.$IG.resize.connect(f)}},$BG:function(a){if(!(0>=a)){0.5<a?3>=this.$MQ&&(++this.$MQ,a=0.016666666666666666):this.$MQ=0;if(null!=this.$KQ){var b=this.$KQ;this.$KQ=null;for(var c=0;c<b.length;){var e=b[c];++c;e()}}for(b=0;b<this.$LQ.length;)c=this.$LQ[b],null==c||c.update(a)?this.$LQ.splice(b,1):++b;m.volume.update(a);
Wa.$NQ(m.root,a);Wa.$NQ(this.$GQ,a)}},$uI:function(a){var b=a.graphics;null!=b&&(a.willRender(),y.$FI(m.root,b,!0),y.$FI(this.$GQ,b,!0),a.didRender())},$HQ:function(a){this.$LQ.push(a)},$JQ:function(a){null==this.$KQ?this.$KQ=[a]:this.$KQ.push(a)},__class__:Wa};var X=function(){};k.$CoB=X;X.__name__=!0;X.$PQ=function(a,b,c,e,d,f,g){if(3>g)return!1;for(var h=0,k=2*Math.PI/g,l=0;l<g;){var m=l++,n=Math.cos(h),p=Math.sin(h),h=h+k;a.push(d*n+c);a.push(f*p+e);m<g-1&&(b.push(0),b.push(m),b.push(m+1))}return!0};
X.$QQ=function(a,b,c,e,d,f,g,h){if(3>h)return!1;a.push(c);a.push(e);g/=h;var k=0;for(h+=1;k<h;){var l=k++,m=Math.cos(f),n=Math.sin(f);f+=g;a.push(d*m+c);a.push(d*n+e);b.push(0);b.push(l);b.push(l+1)}return!0};X.$RQ=function(a,b,c,e,d,f,g,h,k){g/=k;var l=[],m=0;for(k+=1;m<k;){m++;var n=Math.cos(f),p=Math.sin(f);f+=g;l.push(d*n+c);l.push(d*p+e)}return X.$TQ(a,b,l,h)};X.$SQ=function(a,b,c,e,d,f,g,h){for(var k=0,l=2*Math.PI/h,m=[],n=0;n<h;){n++;var p=Math.cos(k),q=Math.sin(k),k=k+l;m.push(d*p+c);m.push(f*
q+e)}m.push(d+c);m.push(e);return X.$TQ(a,b,m,g)};X.$TQ=function(a,b,c,e){var d=c.length;if(4>d)return!1;e/=2;var f=c[0],g=c[1],h=c[d-2],k=c[d-1],l=new Ya(-(c[3]-g),c[2]-f);l.normalize();var m=l.x,l=l.y;a.push(f-e*m);a.push(g-e*l);a.push(f+e*m);a.push(g+e*l);f=d/2|0;for(g=2;g<d-2;){var n=c[g++],p=c[g++],q=c[g],t=c[g+1],s=new Ya(-(t-p),q-n);s.normalize();var r=new Ya(s.x,s.y);r.add(m,l);r.normalize();var v=s.dot(r.x,r.y);r.multiply(e/v);if(0.15>v){var v=c[g-4],w=c[g-3];0>(n-v)*(t-w)-(p-w)*(q-v)?(a.push(n-
r.x),a.push(p-r.y),a.push(n+m*e),a.push(p+l*e),a.push(n-r.x),a.push(p-r.y),a.push(n+s.x*e),a.push(p+s.y*e)):(a.push(n-m*e),a.push(p-l*e),a.push(n+r.x),a.push(p+r.y),a.push(n-s.x*e),a.push(p-s.y*e),a.push(n+r.x),a.push(p+r.y));++f}else a.push(n-r.x),a.push(p-r.y),a.push(n+r.x),a.push(p+r.y);m=s.x;l=s.y}a.push(h-e*m);a.push(k-e*l);a.push(h+e*m);a.push(k+e*l);a=0;for(c=f-1;a<c;)d=2*a++,b.push(d),b.push(d+1),b.push(d+2),b.push(d+2),b.push(d+3),b.push(d+1);return!0};X.$UQ=function(a){if(6>a.length)return null;
null==X.$VQ&&(X.$VQ=new ce);return X.$VQ.triangulate(a)};var Yd=function(){};k.$CpB=Yd;Yd.__name__=!0;Yd.$XQ=function(a){switch(a){case 0:return ia.Left;case 1:return ia.Middle;case 2:return ia.Right}return ia.Unknown(a)};var Zb=function(){this.$YI=null;z.call(this)};k.$CqB=Zb;Zb.__name__=!0;Zb.__super__=z;Zb.prototype=x(z.prototype,{get_entitySlot:function(){return 10},onStart:function(){var a=this,b=da.$XN();null!=b&&m.$uG.$IG.orientation.watch(function(c,e){null==c||c==b?a.$aQ():a.$ZQ(c!=e)})},
$ZQ:function(a){var b=this;if(null==this.$YI){this.owner.addChild(this.$YI=new h);var c=this.$YI;m.loadAssetPack(ka.fromAssets("_2DKitOrientation")).then(function(e){b.registerDisposable(e);var d=new Q(0,0,0);a&&d.alpha.animate(0,1,0.3);c.add(d);var f=(new T(e.getTexture("RotateDevice"))).centerAnchor();c.addChild((new h).add(f));e=function(){d.setSize(m.$uG.$IG.get_width(),m.$uG.$IG.get_height());f.setXY(m.$uG.$IG.get_width()/2,m.$uG.$IG.get_height()/2)};e();b.connect0(m.$uG.$IG.resize,e)})}},$aQ:function(){null!=
this.$YI&&(this.$YI.dispose(),this.$YI=null)},__class__:Zb});var ad=function(){};k.$CrB=ad;ad.__name__=!0;ad.$eQ=function(a){return ja.run(ad.$fQ(a,!0))};ad.$fQ=function(a,b){for(var c="",e=new de(a.length),d=0,f=a.length;d<f;){var g=d++,h=e.nextInt()%30;b&&(h=-h);g=a.charCodeAt(g)+h;c+=String.fromCharCode(g)}return c};var bd=function(){};k.$CsB=bd;bd.__name__=!0;bd.prototype={__class__:bd};var Cb=function(){};k.$CtB=Cb;Cb.__name__=!0;Cb.prototype={__class__:Cb};var R=function(a,b){this.$uQ=new cd;
this.$tQ=!1;this.$sQ=a.getContext("2d",{alpha:b})};k.$CuB=R;R.__name__=!0;R.__interfaces__=[Ab];R.prototype={save:function(){var a=this.$uQ,b=this.$uQ.next;null==b&&(b=new cd,b.$yQ=a,a.next=b);b.$BM=a.$BM;b.$DM=a.$DM;b.$FM=a.$FM;b.$wQ=a.$wQ;b.$xQ=a.$xQ;this.$uQ=b;this.$sQ.save()},translate:function(a,b){this.$sQ.translate(a|0,b|0)},scale:function(a,b){this.$sQ.scale(a,b)},rotate:function(a){this.$sQ.rotate(3.141592653589793*a/180)},transform:function(a,b,c,e,d,f){this.$sQ.transform(a,b,c,e,d,f)},
restore:function(){this.$uQ=this.$uQ.$yQ;this.$sQ.restore()},$gQ:function(a,b,c,e,d){var f=this.$uQ,f=(255*f.$BM&255)<<16|(255*f.$DM&255)<<8|255*f.$FM&255;null==R.$vQ&&(R.$vQ=E.$gS(e,d));R.$vQ.width=e;R.$vQ.height=d;var g=R.$vQ.getContext("2d",null);g.globalCompositeOperation="copy";g.fillStyle=E.$mS(f);g.fillRect(0,0,e,d);g.globalCompositeOperation="multiply";g.drawImage(a,b,c,e,d,0,0,e,d);g.globalCompositeOperation="destination-atop";g.drawImage(a,b,c,e,d,0,0,e,d);return R.$vQ},drawTexture:function(a,
b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,e,d,f,g){if(this.$tQ)this.$tQ=!1,this.$sQ.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,e,d,f,g),this.$sQ.globalCompositeOperation="source-over";else{var h=a.$LN;e=a.$MN+e|0;a=a.$NN+d|0;f|=0;g|=0;b|=0;c|=0;d=h.$WH;this.$uQ.$wQ?(h=this.$gQ(h.$HR,e,a,f,g),this.$sQ.drawImage(h,b*d,c*d,f*d,g*d)):this.$sQ.drawImage(h.$HR,e*d,a*d,f*d,g*d,b,c,f,g)}},drawPattern:function(a,b,c,e,d){if(this.$tQ)this.$tQ=
!1,this.$sQ.globalCompositeOperation="copy",this.drawPattern(a,b,c,e,d),this.$sQ.globalCompositeOperation="source-over";else{var f=this.$uQ,g=a.$LN.$WH;1!=g&&(this.$sQ.save(),this.$sQ.scale(1/g,1/g));b|=0;c|=0;e|=0;d|=0;f.$xQ?this.$sQ.rect(b,c,e,d):(this.$sQ.fillStyle=this.$oQ(a),this.$sQ.fillRect(b,c,e*g,d*g));1!=g&&this.$sQ.restore()}},fillRect:function(a,b,c,e,d){this.$tQ?(this.$tQ=!1,this.$sQ.globalCompositeOperation="copy",this.fillRect(a,b,c,e,d),this.$sQ.globalCompositeOperation="source-over"):
(b|=0,c|=0,e|=0,d|=0,this.$uQ.$xQ?this.$sQ.rect(b,c,e,d):(this.$sQ.fillStyle=this.$nQ(a),this.$sQ.fillRect(b,c,e,d)))},fillTriangles:function(a,b,c){this.$tQ=!1;this.$hQ(b,c);this.$pQ(a)},drawTriangles:function(a,b,c,e){this.$tQ=!1;this.$hQ(b,c);this.$qQ(a)},$hQ:function(a,b){this.$sQ.beginPath();for(var c=0,e=b.length;c<e;){var d=2*b[c],f=2*b[c+1],g=2*b[c+2],c=c+3;this.$sQ.moveTo(a[d],a[d+1]);this.$sQ.lineTo(a[f],a[f+1]);this.$sQ.lineTo(a[g],a[g+1])}this.$sQ.closePath()},fillPolygon:function(a,b){this.$tQ=
!1;this.$iQ(b);this.$pQ(a)},drawPolygon:function(a,b){this.$tQ=!1;this.$iQ(b);this.$qQ(a)},$iQ:function(a){this.$sQ.beginPath();for(var b=0,c=a.length;b<c;){var e=a[b++],d=a[b++];this.$sQ.lineTo(e,d)}this.$sQ.closePath()},drawCircle:function(a,b,c,e,d){this.$tQ=!1;this.$jQ(b,c,e);this.$qQ(a)},fillCircle:function(a,b,c,e,d){this.$tQ=!1;this.$jQ(b,c,e);this.$pQ(a)},strokeCircle:function(a,b,c,e,d,f){this.$tQ=!1;this.$jQ(b,c,e);this.$rQ(a,d)},$jQ:function(a,b,c){this.$sQ.beginPath();this.$sQ.arc(a,b,
c,0,6.283185307179586);this.$sQ.closePath()},drawEllipse:function(a,b,c,e,d,f){this.$tQ=!1;this.$kQ(b,c,e,d);this.$qQ(a)},fillEllipse:function(a,b,c,e,d,f){this.$tQ=!1;this.$kQ(b,c,e,d);this.$pQ(a)},strokeEllipse:function(a,b,c,e,d,f,g){this.$tQ=!1;this.$kQ(b,c,e,d);this.$rQ(a,f)},$kQ:function(a,b,c,e){var d=0.5522848*c,f=0.5522848*e,g=a-c,h=b-e;c=a+c;e=b+e;this.$sQ.beginPath();this.$sQ.moveTo(g,b);this.$sQ.bezierCurveTo(g,b-f,a-d,h,a,h);this.$sQ.bezierCurveTo(a+d,h,c,b-f,c,b);this.$sQ.bezierCurveTo(c,
b+f,a+d,e,a,e);this.$sQ.bezierCurveTo(a-d,e,g,b+f,g,b);this.$sQ.closePath()},fillArc:function(a,b,c,e,d,f,g){this.$tQ=!1;f=d+f;this.$sQ.beginPath();this.$sQ.moveTo(b,c);this.$sQ.arc(0,0,e,3.141592653589793*d/180,3.141592653589793*f/180);this.$pQ(a)},strokeArc:function(a,b,c,e,d,f,g,h){this.$tQ=!1;c=d+f;this.$sQ.beginPath();this.$sQ.arc(b,b,e,3.141592653589793*d/180,3.141592653589793*c/180);this.$rQ(a,g)},strokeLines:function(a,b,c){this.$tQ=!1;this.$lQ(b);this.$sQ.lineWidth=c;this.$sQ.strokeStyle=
this.$nQ(a);this.$sQ.stroke()},drawLines:function(a,b,c){this.$tQ=!1;this.$lQ(b);this.$sQ.lineWidth=c;this.$sQ.strokeStyle=this.$oQ(a);this.$sQ.stroke()},$lQ:function(a){this.$sQ.beginPath();if(2<=a.length){this.$sQ.moveTo(a[0],a[1]);for(var b=2,c=a.length;b<c;){var e=a[b++],d=a[b++];this.$sQ.lineTo(e,d)}}},multiplyAlpha:function(a){this.$sQ.globalAlpha*=a},setAlpha:function(a){this.$sQ.globalAlpha=a},tint:function(a,b,c){var e=this.$uQ;e.$BM*=a;e.$DM*=b;e.$FM*=c;e.$wQ=!0},setBlendMode:function(a){var b;
switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this.$sQ.globalCompositeOperation=b},beginMask:function(){var a=this.$uQ;a.$xQ&&this.endMask();a.$xQ=!0;this.$sQ.beginPath()},endMask:function(){var a=this.$uQ;a.$xQ&&(a.$xQ=!1,this.$sQ.clip())},applyScissor:function(a,b,c,e){this.$sQ.beginPath();this.$sQ.rect(a|0,b|0,c|0,e|0);this.$sQ.clip()},willRender:function(){this.$tQ=!0},didRender:function(){},
onResize:function(a,b){},$nQ:function(a){var b=this.$uQ;b.$wQ&&(a=(b.$BM*(a&16711680)/16711680*255&255)<<16|(b.$DM*(a&65280)/65280*255&255)<<8|b.$FM*(a&255)/255*255&255);return E.$mS(a)},$oQ:function(a){return this.$uQ.$wQ?(a=this.$gQ(a.$LN.$HR,a.$MN,a.$NN,a.$IJ,a.$JJ),this.$sQ.createPattern(a,"repeat")):a.$AR()},$pQ:function(a){this.$uQ.$xQ||(this.$sQ.fillStyle=this.$nQ(a),this.$sQ.fill())},$qQ:function(a){this.$uQ.$xQ||(this.$sQ.fillStyle=this.$oQ(a),this.$sQ.fill())},$rQ:function(a,b){this.$uQ.$xQ||
(this.$sQ.strokeStyle=this.$nQ(a),this.$sQ.lineWidth=b,this.$sQ.stroke())},__class__:R};var cd=function(){this.$yQ=this.next=null;this.$wQ=this.$xQ=!1;this.$BM=this.$DM=this.$FM=1};k.$CvB=cd;cd.__name__=!0;cd.prototype={__class__:cd};var qb=function(a){this.graphics=new R(a,!1);this.$_Q=new aa(!0)};k.$CwB=qb;qb.__name__=!0;qb.__interfaces__=[Bb];qb.prototype={get_type:function(){return ua.Canvas},get_filterSupported:function(){return!1},createTextureFromImage:function(a,b,c){null==c&&(c=1);a=new Db(a,
c);return a.createTexture(a.$DR/c,a.$ER/c)},createTexture:function(a,b,c,e){null==e&&(e=1);a=E.$gS(a,b);return this.createTextureFromImage(a,null,e)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:qb};var dd=function(a,b,c){this.$CR=0;this.$BR=null;Ia.call(this,a,b,c)};k.$CxB=dd;dd.__name__=!0;dd.__super__=Ia;dd.prototype=x(Ia.prototype,{$AR:function(){if(this.$CR!=this.$LN.$IR||null==this.$BR)this.$CR=
this.$LN.$IR,this.$BR=this.$LN.$KR(this.$MN,this.$NN,this.$IJ,this.$JJ);return this.$BR},__class__:dd});var Db=function(a,b){this.$NR=null;this.$IR=0;this.$hM=!1;this.$HR=a;this.$DR=a.width;this.$ER=a.height;this.$WH=b;this.$FR=this.$DR/b;this.$GR=this.$ER/b};k.$CyB=Db;Db.__name__=!0;Db.__interfaces__=[bd];Db.__super__=W;Db.prototype=x(W.prototype,{createTexture:function(a,b){return new dd(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$NR&&(this.$MR(),this.$NR=new ed(this));return this.$NR},
clear:function(){var a=this.$MR();a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.$HR.width,this.$HR.height);a.restore()},renderFilter:function(a,b,c){null},$KR:function(a,b,c,e){var d=this.$MR(),f=this.$HR;if(0!=a||0!=b||c!=this.$FR||e!=this.$GR)f=E.$gS(c,e),c=f.getContext("2d",null),c.globalCompositeOperation="copy",c.drawImage(this.$HR,-a,-b);return d.createPattern(f,"repeat")},$MR:function(){N.__instanceof(this.$HR,HTMLCanvasElement)||(this.$HR=E.$hS(this.$HR));return this.$HR.getContext("2d",
null)},$fM:function(){this.$NR=this.$HR=null},__class__:Db});var ed=function(a){R.call(this,a.$HR,!0);this.$OR=a};k.$CzB=ed;ed.__name__=!0;ed.__super__=R;ed.prototype=x(R.prototype,{drawTexture:function(a,b,c){R.prototype.drawTexture.call(this,a,b,c);++this.$OR.$IR},drawSubTexture:function(a,b,c,e,d,f,g){R.prototype.drawSubTexture.call(this,a,b,c,e,d,f,g);++this.$OR.$IR},drawPattern:function(a,b,c,e,d){R.prototype.drawPattern.call(this,a,b,c,e,d);++this.$OR.$IR},fillRect:function(a,b,c,e,d){R.prototype.fillRect.call(this,
a,b,c,e,d);++this.$OR.$IR},fillTriangles:function(a,b,c){R.prototype.fillTriangles.call(this,a,b,c);++this.$OR.$IR},drawTriangles:function(a,b,c,e){R.prototype.drawTriangles.call(this,a,b,c);++this.$OR.$IR},drawCircle:function(a,b,c,e,d){null==d&&(d=50);R.prototype.drawCircle.call(this,a,b,c,e,d);++this.$OR.$IR},fillCircle:function(a,b,c,e,d){null==d&&(d=50);R.prototype.fillCircle.call(this,a,b,c,e,d);++this.$OR.$IR},drawEllipse:function(a,b,c,e,d,f){null==f&&(f=50);R.prototype.drawEllipse.call(this,
a,b,c,e,d,f);++this.$OR.$IR},fillEllipse:function(a,b,c,e,d,f){null==f&&(f=50);R.prototype.fillEllipse.call(this,a,b,c,e,d,f);++this.$OR.$IR},strokeLines:function(a,b,c){R.prototype.strokeLines.call(this,a,b,c);++this.$OR.$IR},drawLines:function(a,b,c){R.prototype.drawLines.call(this,a,b,c);++this.$OR.$IR},__class__:ed});var K=function(a,b){wb.call(this,a,b)};k.$C_B=K;K.__name__=!0;K.$TR=function(a){var b=[n.PNG,n.JPG,n.GIF],c=2,e;e=window.document.createElement("img");e.onload=e.onerror=function(d){1==
e.width&&b.unshift(n.WEBP);--c;0==c&&a(b)};e.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var d;d=window.document.createElement("img");d.onload=d.onerror=function(e){1==d.width&&b.unshift(n.JXR);--c;0==c&&a(b)};d.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};K.$UR=function(){var a;a=window.document.createElement("audio");
if(null==a||null==A(a,a.canPlayType))return[];var b=new ma("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!J.get_supported()&&b.match(c))return[];b=[];b.push({format:n.MP3,mimeType:"audio/mpeg"});b.push({format:n.MP4,mimeType:"video/mp4"});for(var c=[{format:n.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:n.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:n.WAV,mimeType:"audio/wav"},{format:n.WEBM,mimeType:"video/webm"}],b=0<=window.navigator.userAgent.indexOf("2DKSim")?
c:b.concat(c),c=[],e=0;e<b.length;){var d=b[e];++e;var f="";try{f=a.canPlayType(d.mimeType)}catch(g){g instanceof w&&(g=g.val)}""!=f&&c.push(d.format)}return c};K.$VR=function(){if(K.$gR){K.$gR=!1;if((new ma("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;K.$hR=E.$YS("URL").value}return null!=K.$hR&&null!=K.$hR.createObjectURL};K.$WR=
function(a){var b=++K.$eR;null==K.$dR&&(K.$dR=new wa);K.$dR.h[b]=a;return b};K.$XR=function(a){K.$dR.remove(a)};K.__super__=wb;K.prototype=x(wb.prototype,{$lM:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var e;e=window.document.createElement("img");var d=new ib;d.$AO(e,"load",function(a){K.$VR()&&K.$hR.revokeObjectURL(e.src);a=c.$uG.getRenderer().createTextureFromImage(e,b.format!=n.JPG||E.$VS?null:V.RGB,c.$jM.pixelScale);null!=a?c.$nM(b,a):c.$rM(b)});d.$AO(e,"error",
function(a){c.$qM(b,"Failed to load image")});d="data:"==D.substr(a,0,5);!d&&K.$VR()?this.$SR(a,b,"blob",function(a){e.src=K.$hR.createObjectURL(a)}):(d||(e.crossOrigin=""),e.src=a);break;case 8:case 9:case 10:case 11:case 12:if(J.get_supported())this.$SR(a,b,"arraybuffer",function(a){J.$CT.decodeAudioData(a,function(a){c.$nM(b,new J(a))},function(){c.$nM(b,ta.$xN())})});else{var f;f=window.document.createElement("audio");f.preload="auto";var g=K.$WR(f),d=new ib;d.$AO(f,"canplaythrough",function(a){K.$XR(g);
c.$nM(b,new Eb(f))});d.$AO(f,"error",function(a){K.$XR(g);a=f.error.code;3==a||4==a?c.$nM(b,ta.$xN()):c.$qM(b,"Failed to load audio: "+f.error.code)});d.$_N(f,"progress",function(a){0<f.buffered.length&&0<f.duration&&(a=f.buffered.end(0)/f.duration,c.$oM(b,a*b.bytes|0,b.bytes))});f.src=a;f.load()}break;case 16:case 17:var h;h=window.document.createElement("video");h.preload="metadata";var k=K.$WR(h),d=new ib;d.$AO(h,"loadedmetadata",function(a){K.$XR(k);c.$nM(b,new Fb(h))});d.$AO(h,"error",function(a){K.$XR(k);
c.$qM(b,"Failed to load video: "+h.error.code)});h.src=a;h.load();break;case 13:case 14:(function(a,e){var d="_kit_font_"+K.$fR;++K.$fR;if("undefined"!=typeof FontFace)(new FontFace(d,"url("+a+")")).load().then(function(a){c.$nM(b,new jb(d,a));window.document.fonts.add(a)});else{var f;f=window.document.createElement("style");f.innerHTML="@font-face{font-family:"+d+";src:url("+a+");}";window.document.head.appendChild(f);var g=window.document.createElement("canvas").getContext("2d",null);g.font="300px sans";
var h=g.measureText("BESbswy").width;g.font='300px "'+d+'"';var u=Date.now()/1E3;m.nextFrame(function(a){var e=null;return e=function(){var a=Date.now()/1E3-u,k=g.measureText("BESbswy").width;5<=a||h!=k?c.$nM(b,new jb(d,null,f)):m.$uG.$AG.$JQ(e)}}(this))}})(a,!1);break;case 18:this.$SR(a,b,"text",function(a){c.$nM(b,new xb(a))})}},$mM:function(a){var b=this;null==K.$cR&&(K.$cR=new Da,K.$TR(function(a){var e;e=window.navigator.isCocoonJS?[n.TTF,n.WOFF]:[n.WOFF,n.TTF];a=b.$uG.getRenderer().getTextureAssetFormats().concat(a).concat(K.$UR()).concat(e).concat([n.Data]);
K.$cR.$LW(a)}));K.$cR.then(a)},$SR:function(a,b,c,e){var d=this,f=null,g=null,h=0,k=!1,l=function(){k&&(k=!1,window.clearInterval(h))},m=3,n=function(){--m;return 0<=m?(g(),!0):!1},g=function(){l();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var g=0;f.onprogress=function(a){k||(k=!0,h=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!n()&&(l(),d.$qM(b,"Download stalled"))},1E3));g=Date.now();d.$oM(b,a.loaded,a.total)};f.onerror=function(a){0==f.status&&
n()||(l(),d.$qM(b,"HTTP error "+f.status))};f.onload=function(a){a=f.response;null==a&&(a=f.responseText);l();e(a)};f.send()};g()},__class__:K});var ee=function(){};k["kit.subsystem.ExternalSystem"]=ee;ee.__name__=!0;ee.prototype={__class__:ee};var $b=function(){};k.$CBC=$b;$b.__name__=!0;$b.__interfaces__=[ee];$b.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,e=c,d=0,f=a.split(".");d<f.length;){var g=f[d];++d;c=e;e=$.field(c,g)}return e.apply(c,b)},__class__:$b};var Wb=function(a,
b){la.call(this,a);this.$SG=b};k.$CFC=Wb;Wb.__name__=!0;Wb.__super__=la;Wb.prototype=x(la.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this.$SG.style.cursor=b;return la.prototype.set_cursor.call(this,a)},__class__:Wb});var Eb=function(a){this.$hM=!1;this.$CS=a};k.$CGC=Eb;Eb.__name__=!0;Eb.__interfaces__=[gb];Eb.__super__=W;Eb.prototype=x(W.prototype,{play:function(a){null==a&&(a=1);return new Gb(this,a,!1)},loop:function(a){null==
a&&(a=1);return new Gb(this,a,!0)},$fM:function(){this.$CS=null},__class__:Eb});var Gb=function(a,b,c){this.$JS=!1;var e=this;this.$yN=a;this.$wR=!1;this.$FS=window.document.createElement("audio");this.$FS.loop=c;this.$FS.src=a.$CS.src;this.volume=new B(b,function(a,b){e.$ES()});this.$ES();this.$zN=new aa(!1);this.$DS();m.hidden.$aG&&this.set_paused(!0)};k.$CHC=Gb;Gb.__name__=!0;Gb.__interfaces__=[Cb,hb];Gb.prototype={set_paused:function(a){a!=this.$JS&&((this.$JS=a)?this.$FS.pause():this.$DS());
return a},update:function(a){this.volume.update(a);this.$zN.set__(this.$FS.ended);return this.$zN.$aG||this.$JS?(this.$wR=!1,this.$GS.dispose(),this.$HS.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$zN.set__(!0)},$DS:function(){var a=this;this.$FS.play();this.$wR||(xa.$YG.$AG.$HQ(this),this.$wR=!0,this.$GS=m.volume.get_changed().connect(function(b,c){a.$ES()}),this.$HS=m.hidden.get_changed().connect(function(b,c){b?(a.$IS=a.$JS,a.set_paused(!0)):a.set_paused(a.$IS)}))},$ES:function(){this.$FS.volume=
m.volume.$aG*this.volume.$aG},__class__:Gb};var fe=function(){};k["kit.subsystem.StageSystem"]=fe;fe.__name__=!0;fe.prototype={__class__:fe};var ab=function(a){this.$OS=1;this.orientation=new aa(null);var b=this;this.$SG=a;this.resize=new Ra;this.$OS=ab.$PS();E.$nS()||(E.$bS(this.$SG,"transform-origin","top left"),E.$bS(this.$SG,"transform","scale("+1/this.$OS+")"));window.addEventListener("resize",A(this,this.$KS),!1);this.$KS(null);this.fullscreen=new aa(!1);E.$cS(window.document,"fullscreenchange",
function(a){b.$NS()},!1);this.$NS()};k.$CIC=ab;ab.__name__=!0;ab.__interfaces__=[fe];ab.$PS=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),b=E.$YS("backingStorePixelRatio",b).value;null==b&&(b=1);return a/b};ab.prototype={get_width:function(){return this.$SG.width},get_height:function(){return this.$SG.height},get_scaleFactor:function(){return this.$OS},get_fullscreenSupported:function(){return!0==E.$ZS(["fullscreenEnabled",
"fullScreenEnabled"],window.document).value},lockOrientation:function(a){var b=E.$YS("lockOrientation",window.screen).value;if(null!=b){var c;switch(a[1]){case 0:c="portrait";break;case 1:c="landscape"}$.callMethod(window.screen,b,[c])||null}},requestFullscreen:function(a){null==a&&(a=!0);if(a){a=window.document.documentElement;var b=E.$ZS(["requestFullscreen","requestFullScreen"],a).value;null!=b&&b.apply(a,[])}else a=E.$ZS(["exitFullscreen","cancelFullscreen","cancelFullScreen"],window.document).value,
null!=a&&$.callMethod(window.document,a,[])},$KS:function(a){var b=this.$SG.parentElement.getBoundingClientRect();!E.$TS||90!=window.orientation&&-90!=window.orientation?this.$LS(b.width,b.height):(a=Math.min(window.innerWidth,b.width),b=Math.min(window.innerHeight,b.height),this.$LS(a,b)&&window.scrollTo(window.scrollX,window.scrollY));this.$MS()},$LS:function(a,b){var c=this.$OS*a,e=this.$OS*b;if(this.$SG.width==c&&this.$SG.height==e)return!1;1!=this.$OS&&E.$nS()&&(this.$SG.style.width=a+"px",this.$SG.style.height=
b+"px");this.$SG.width=c|0;this.$SG.height=e|0;this.resize.emit();return!0},$MS:function(){null==window.orientation?this.orientation.set__(null):this.orientation.set__(window.innerWidth>window.innerHeight?Ea.Landscape:Ea.Portrait)},$NS:function(){var a=E.$ZS(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(!0==a)},__class__:ab};var Ub=function(a,b){this.$QS=a;this.$RS=b+":"};k.$CJC=Ub;Ub.__name__=!0;Ub.__interfaces__=[Zc];Ub.prototype={get:function(a,b){var c=
null;try{c=this.$QS.getItem(this.$RS+a)}catch(e){e instanceof w&&(e=e.val),null}var d=b;if(null!=c)try{d=ad.$eQ(c)}catch(f){f instanceof w&&(f=f.val),null}return(new Da).$LW(d)},__class__:Ub};var E=function(){};k.$CKC=E;E.__name__=!0;E.$XS=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};E.$YS=function(a,b){null==b&&(b=window);var c=$.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+D.substr(a,1,null),e=0,d=E.$SS;e<d.length;){var f=d[e];++e;var g=f+c,
h=$.field(b,g);if(null!=h)return{prefix:f,field:g,value:h}}return{prefix:null,field:null,value:null}};E.$ZS=function(a,b){for(var c=0;c<a.length;){var e=a[c];++c;e=E.$YS(e,b);if(null!=e.field)return e}return{prefix:null,field:null,value:null}};E.$aS=function(a,b){null==b&&(b=window);var c=E.$YS(a,b).value;if(null==c)return!1;b[a]=c;return!0};E.$bS=function(a,b,c){a=a.style;for(var e=0,d=E.$SS;e<d.length;){var f=d[e];++e;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};E.$cS=function(a,b,c,e){for(var d=
0,f=E.$SS;d<f.length;){var g=f[d];++d;a.addEventListener(g+b,c,e)}a.addEventListener(b,c,e)};E.$gS=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};E.$hS=function(a){var b=E.$gS(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};E.$jS=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=
function(a){return 0==a?1:b(a)}}};E.$kS=function(){0<=window.navigator.userAgent.indexOf("iPhone OS 7_1")&&(window.addEventListener("scroll",function(a){window.document.activeElement==window.document.body&&0<window.scrollY&&(window.document.body.scrollTop=0)},!0),window.document.body.scrollTop=0)};E.$lS=function(a,b,c){var e=a.getContext("2d",null);e.drawImage(a,b-1,0,1,c,b,0,1,c);e.drawImage(a,0,c-1,b,1,0,c,b,1)};E.$mS=function(a){for(a=(16777215&a).toString(16);6>a.length;)a="0"+p.string(a);return"#"+
p.string(a)};E.$nS=function(){try{return window.self!=window.parent}catch(a){return a instanceof w&&(a=a.val),!0}};E.$oS=function(a){return 157286400};var jb=function(a,b,c){this.$hM=!1;this.$eK=a;this.$rS=b;this.$sS=c};k.$CLC=jb;jb.__name__=!0;jb.__interfaces__=[ue];jb.__super__=W;jb.prototype=x(W.prototype,{$fM:function(){null!=this.$rS&&(window.document.fonts["delete"](this.$rS),this.$rS=null);null!=this.$sS&&(null!=this.$sS.parentNode&&this.$sS.parentNode.removeChild(this.$sS),this.$sS=null)},
__class__:jb});var Fb=function(a){this.$hM=!1;this.$wS=a};k.$CNC=Fb;Fb.__name__=!0;Fb.__interfaces__=[yb];Fb.__super__=W;Fb.prototype=x(W.prototype,{play:function(a){null==a&&(a=1);return new fd(this,a,!1)},get_width:function(){return this.$wS.videoWidth},get_height:function(){return this.$wS.videoHeight},$fM:function(){this.$wS=null},__class__:Fb});var fd=function(a,b,c){this.$KJ=null;this.$JS=!1;var e=this;this.$$N=a;this.$FS=window.document.createElement("video");this.$FS.loop=c;this.$FS.src=a.$wS.src;
this.$FS.width=a.$wS.videoWidth;this.$FS.height=a.$wS.videoHeight;this.$FS.setAttribute("playsinline","");this.$FS.setAttribute("webkit-playsinline","");0<=window.navigator.userAgent.indexOf("2DKSim")&&(this.$FS.src+="?"+Math.random());this.volume=new B(b,function(a,b){e.$ES()});this.$ES();this.$zN=new aa(!1);this.$yS();m.hidden.$aG&&this.set_paused(!0)};k.$COC=fd;fd.__name__=!0;fd.__interfaces__=[Cb,zb];fd.prototype={get_texture:function(){null==this.$KJ&&(this.$KJ=m.$uG.$HG.createTextureFromImage(this.$FS,
V.RGB));return this.$KJ},get_video:function(){return this.$$N},set_paused:function(a){a!=this.$JS&&((this.$JS=a)?this.$FS.pause():this.$yS());return a},update:function(a){this.volume.update(a);this.$zN.set__(this.$FS.ended);return this.$zN.$aG||this.$JS?(this.$wR=!1,this.$GS.dispose(),this.$HS.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$zN.set__(!0)},$yS:function(){var a=this;this.$FS.play();this.$wR||(xa.$YG.$AG.$HQ(this),this.$wR=!0,this.$GS=m.volume.get_changed().connect(function(b,
c){a.$ES()}),this.$HS=m.hidden.get_changed().connect(function(b,c){b?(a.$IS=a.$JS,a.set_paused(!0)):a.set_paused(a.$IS)}))},$ES:function(){this.$FS.volume=m.volume.$aG*this.volume.$aG},__class__:fd};var J=function(a){this.$hM=!1;this.$AT=a};k.$CRC=J;J.__name__=!0;J.__interfaces__=[gb];J.get_supported=function(){if(J.$IT){J.$IT=!1;var a=E.$YS("AudioContext").value;if(null!=a&&(J.$CT=new a,J.$DT=J.$ET(),J.$DT.connect(J.$CT.destination),m.volume.watch(function(a,b){J.$DT.gain.value=a}),m.$uG.$JG.down.connect(function(a){(new J(J.$HT())).play()}).once(),
m.$uG.$JG.up.connect(function(a){"suspended"==J.$CT.state&&J.$CT.resume()}),E.$TS))var b=null,b=m.$uG.$JG.up.connect(function(a){var e=(new J(J.$HT())).play();E.$XS(function(){var a=e.$NT();(null==a||2<=a)&&b.dispose()})})}return null!=J.$CT};J.$ET=function(){return null!=J.$CT.createGain?J.$CT.createGain():J.$CT.createGainNode()};J.$FT=function(a,b){null!=a.start?a.start(0,b):a.noteOn(0,b)};J.$GT=function(a){null!=a.stop?a.stop(0):a.noteOff(0)};J.$HT=function(){null==J.$JT&&(J.$JT=J.$CT.createBuffer(1,
1,22050));return J.$JT};J.__super__=W;J.prototype=x(W.prototype,{play:function(a){null==a&&(a=1);return new Hb(this,a,!1)},loop:function(a){null==a&&(a=1);return new Hb(this,a,!0)},get_duration:function(){return this.$AT.duration},$fM:function(){this.$AT=null},__class__:J});var Hb=function(a,b,c){this.$TT=0;this.$OT=-1;var e=this;this.$yN=a;this.$nG=J.$DT;this.$zN=new aa(!1);this.$ST=c;this.$OH=a.get_duration();this.volume=new B(b,function(a,b){null!=e.$QT&&e.$LT(a)});this.$DS(0);m.hidden.$aG&&this.set_paused(!0)};
k.$CSC=Hb;Hb.__name__=!0;Hb.__interfaces__=[Cb,hb];Hb.prototype={set_paused:function(a){a!=0<=this.$OT&&(a?(this.$KT(),this.$OT=this.get_position()):(this.$zN.$aG||this.$DS(this.$OT),this.$OT=-1));return a},get_position:function(){return this.$zN.$aG?this.$OH:0<=this.$OT?this.$OT:(J.$CT.currentTime-this.$PT+this.$TT)%this.$OH},update:function(a){this.volume.update(a);null!=this.$QT&&3==this.$QT.playbackState&&this.$zN.set__(!0);return this.$zN.$aG||0<=this.$OT?(this.$wR=!1,this.$HS.dispose(),this.$KT(),
!0):!1},$KT:function(){if(null!=this.$QT){J.$GT(this.$QT);this.$QT.disconnect();this.$QT.onended=null;if(E.$TS){var a=J.$HT();try{this.$QT.buffer=a}catch(b){b instanceof w&&(b=b.val)}}this.$QT=null}},dispose:function(){this.set_paused(!0);this.$zN.set__(!0)},$LT:function(a){null==this.$RT&&(this.$RT=J.$ET(),this.$MT(this.$RT));this.$RT.gain.value=a},$MT:function(a){0<=this.$OT||(this.$QT.disconnect(),this.$QT.connect(a));a.connect(this.$nG);this.$nG=a},$DS:function(a){var b=this;this.$QT=J.$CT.createBufferSource();
this.$QT.buffer=this.$yN.$AT;this.$QT.loop=this.$ST;this.$QT.onended=function(){b.$zN.set__(!0)};J.$FT(this.$QT,a);this.$QT.connect(this.$nG);this.$TT=0<=this.$OT?this.$OT:0;this.$PT=J.$CT.currentTime;1==this.volume.$aG&&null==this.$RT||this.$LT(this.volume.$aG);this.$wR||(xa.$YG.$AG.$HQ(this),this.$wR=!0,this.$HS=m.hidden.get_changed().connect(function(a,e){a?(b.$IS=0<=b.$OT,b.set_paused(!0)):b.set_paused(b.$IS)}))},$NT:function(){return null!=this.$QT?this.$QT.playbackState:3},__class__:Hb};var ge=
function(a){this.$cU=new U;this.$bU=(new Xc).$bN(157286400).$dN(function(a,b){return a.$yU()});this.$VU=this.$WU=this.$XU=this.$YU=this.$ZU=this.$aU=0;this.$NU=[];this.$KU=!0;this.$IU=!1;this.$GU=this.$HU=null;this.$FU=!1;this.$EU=null;this.$DU=0;this.$_T=this.$AU=this.$GK=this.$BU=this.$CU=null;this.$$T=!1;this.$zT=null;this.$yT=new za;this.$xT=0;this.$vT=this.$wT=null;this.$VT=[];this.$UT=null;var b=this;this.$uT=a;this.$bU.$cN(function(a,e){b.$hT(a,e)});this.$bU.$bN(E.$oS(a));m.lowMemoryWarning.connect(function(){b.$bU.dispose()});
a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);a.pixelStorei(3317,1);this.$JU=a.createBuffer();a.bindBuffer(34962,this.$JU);this.$LU=a.createBuffer();this.$MU=a.createBuffer();this.$wT=this.$LU;this.$OU=new kb(a,0);this.$PU=new kb(a,1);this.$QU=new kb(a,2);this.$RU=new lb(a,0);this.$SU=new lb(a,1);this.$TU=new lb(a,2);this.$UU=new gd(a);this.$tT(16)};k.$CTC=ge;ge.__name__=!0;ge.prototype={$WT:function(a,b){this.$uT.viewport(0,0,a,b);this.$YU=a;this.$ZU=b},$XT:function(){this.$aU=this.$aU+
1|0;this.$dT(null)},$YT:function(){this.$zG();this.$uT.flush()},$aT:function(a){a==this.$GK&&(this.$zG(),this.$GK=null);this.$jT(a);null!=a.$xU?this.$hT(a,a.$xU):this.$bU.$iN(a)},$bT:function(a){if(a.$wU){a.$wU=!1;var b=this.$bU.$iN(a,!1);null!=b?a.$xU=b:this.$eT(a);a.$sU=null;a.$tU=null}},$cT:function(){var a=this.$uT.createTexture();this.$fT(a);this.$uT.texParameteri(3553,10242,33071);this.$uT.texParameteri(3553,10243,33071);this.$uT.texParameteri(3553,10240,9729);this.$uT.texParameteri(3553,10241,
9729);return a},$dT:function(a){this.$zG();this.$zT=null;null!=this.$_T&&(this.$_T=null,this.$uT.disable(3089));this.$iT(a);null==a&&this.$uT.colorMask(!0,!0,!0,!1);this.$uT.clear(16384);null==a&&this.$uT.colorMask(!0,!0,!0,!0)},$eT:function(a){var b;b=a.$wU?this.$bU.$WN(a):a.$xU;if(null==b){b=this.$cT();b=new he(b);if(a.$wU){var c=!0;if(this.$bU.$lN+a.$yU()>this.$bU.$mN){var e=this.$bU.$fN();2>this.$aU-e.$vU&&(c=!1)}this.$bU.$eN(a,b,c)}else a.$xU=b;switch(a.$zU[1]){case 2:case 3:c=6407;break;default:c=
6408}switch(a.$zU[1]){case 3:e=33635;break;case 1:e=32819;break;default:e=5121}var d=a.$sU;if(null!=d&&null==p.instance(a.$sU,HTMLVideoElement)){if(a.$DR!=d.width||a.$ER!=d.height){var f=E.$gS(a.$DR,a.$ER);f.getContext("2d",null).drawImage(d,0,0);E.$lS(f,d.width,d.height);d=f}this.$uT.texImage2D(3553,0,c,c,e,d)}else this.$uT.texImage2D(3553,0,c,a.$DR,a.$ER,0,c,e,null)}a.$vU!=this.$aU&&(c=p.instance(a.$sU,HTMLVideoElement),null!=c&&2<=c.readyState&&(this.$fT(b.$rU),this.$uT.texImage2D(3553,0,6407,
6407,5121,c)));a.$vU=this.$aU;return b},$fT:function(a){this.$HU!=a&&(this.$HU=a,this.$uT.bindTexture(3553,a))},$gT:function(a){this.$GU!=a&&(a.$EV(this.$GU),this.$GU=a)},$hT:function(a,b){a==this.$GK&&(this.$zG(),this.$GK=null);this.$uT.deleteTexture(b.$rU);null!=b.$_L&&this.$uT.deleteTexture(b.$_L)},$iT:function(a){if(this.$EU!=a)if(this.$EU=a,null!=a){var b=null;null==a.$uU&&(a.$uU=this.$uT.createFramebuffer(),this.$bT(a),b=a.$xU.$rU);this.$uT.bindFramebuffer(36160,a.$uU);this.$uT.viewport(0,0,
a.$DR,a.$ER);null!=b&&this.$uT.framebufferTexture2D(36160,36064,3553,b,0)}else this.$uT.bindFramebuffer(36160,null),this.$uT.viewport(0,0,this.$YU,this.$ZU)},$jT:function(a){a==this.$zT&&(this.$zG(),this.$zT=null);null!=a.$uU&&(this.$uT.deleteFramebuffer(a.$uU),a.$uU=null)},$kT:function(a,b,c,e,d,f){f.$LN!=this.$GK&&(this.$zG(),this.$GK=f.$LN);return this.$sT(a,b,c,e,d,this.$lT(f.$LN,d))},$lT:function(a,b){return b?this.$PU:null!=a.$tU&&a.$tU.separateAlpha?this.$QU:this.$OU},$mT:function(a,b,c,e,
d,f){f.$LN!=this.$GK&&(this.$zG(),this.$GK=f.$LN);if(f.$MN!=this.$yT.x||f.$NN!=this.$yT.y||f.$IJ!=this.$yT.width||f.$JJ!=this.$yT.height)this.$zG(),this.$yT.set(f.$MN,f.$NN,f.$IJ,f.$JJ);return this.$sT(a,b,c,e,d,this.$nT(f.$LN,d))},$nT:function(a,b){return b?this.$SU:null!=a.$tU&&a.$tU.separateAlpha?this.$TU:this.$RU},$oT:function(a,b,c,e,d){return this.$sT(a,b,c,e,d,this.$UU)},$pT:function(a,b,c,e,d,f){return this.$rT(a,b,c,e,d,this.$UU,f)},$qT:function(a,b,c,e,d,f,g){f.$LN!=this.$GK&&(this.$zG(),
this.$GK=f.$LN);if(f.$MN!=this.$yT.x||f.$NN!=this.$yT.y||f.$IJ!=this.$yT.width||f.$JJ!=this.$yT.height)this.$zG(),this.$yT.set(f.$MN,f.$NN,f.$IJ,f.$JJ);return this.$rT(a,b,c,e,d,this.$nT(f.$LN,d),g)},$FK:function(a,b,c,e,d,f,g){a!=this.$zT&&(this.$zG(),this.$zT=a);b!=this.$vT&&(this.$zG(),this.$vT=b);e!=this.$xT&&(this.$zG(),this.$xT=e);d!=this.$$T&&(this.$zG(),this.$$T=d);f!=this.$AU&&(this.$zG(),f.$FK(),this.$AU=f);g!=this.$wT&&(this.$zG(),this.$wT=g);if(null!=c||null!=this.$_T)null!=c&&null!=this.$_T&&
this.$_T.equals(c)||(this.$zG(),this.$_T=null!=c?c.clone(this.$_T):null,this.$IU=!0)},$rT:function(a,b,c,e,d,f,g){this.$FK(a,b,c,e,d,f,this.$MU);a=this.$VT.length;f=a/f.$CV|0;for(b=0;b<g.length;)c=g[b],++b,this.$NU.push(c+f);return a},$sT:function(a,b,c,e,d,f){this.$FK(a,b,c,e,d,f,this.$LU);this.$VU>=this.$WU&&this.$tT(2*this.$WU);++this.$VU;a=this.$XU;this.$XU+=4*f.$CV;return a},$JO:function(a,b,c,e){var d=b.$TK(),f=this.$cU.get(d);null==f&&(f=new hd(this.$uT,this,b.$WK,b.$VK),this.$cU.set(d,f));
var d=this.$sT(a,L.Copy,null,0,!1,f),g=this.$UT;this.$GK=null;var h=c/a.$FR,k=e/a.$GR,l=2*h-1,m=2*k-1;g[d]=-1;g[++d]=-1;g[++d]=0;g[++d]=0;g[++d]=l;g[++d]=-1;g[++d]=h;g[++d]=0;g[++d]=l;g[++d]=m;g[++d]=h;g[++d]=k;g[++d]=-1;g[++d]=m;g[++d]=0;g[++d]=k;this.$iT(a);this.$gT(f);f.$ZV(b,a,c,e);this.$zG()},$zG:function(){if(this.$wT==this.$LU){if(1>this.$VU)return}else if(1>this.$NU.length)return;this.$iT(this.$zT);if(this.$vT!=this.$BU){switch(this.$vT[1]){case 0:this.$uT.blendFunc(1,771);break;case 1:this.$uT.blendFunc(1,
1);break;case 2:this.$uT.blendFunc(774,771);break;case 3:this.$uT.blendFunc(1,769);break;case 4:this.$uT.blendFunc(0,770);break;case 5:this.$uT.blendFunc(1,0)}this.$BU=this.$vT}if(this.$xT!=this.$DU){if(0<this.$xT)if(0==this.$DU&&this.$uT.enable(2960),this.$$T){var a=1<<this.$xT-1;this.$uT.stencilMask(a);this.$DU<this.$xT&&this.$uT.clear(1024);this.$uT.stencilFunc(514,a-1,255)}else a=(1<<this.$xT)-1,this.$uT.stencilFunc(514,a,a);else this.$uT.disable(2960);this.$DU=this.$xT}this.$$T!=this.$FU&&(this.$$T?
(this.$uT.stencilMask(1<<this.$xT-1),this.$uT.clear(1024),this.$uT.colorMask(!1,!1,!1,!1),this.$uT.stencilFunc(514,(1<<this.$xT-1)-1,255),this.$uT.stencilOp(7680,7680,7682)):(this.$uT.colorMask(!0,!0,!0,!0),a=(1<<this.$xT)-1,this.$uT.stencilFunc(514,a,a),this.$uT.stencilOp(7680,7680,7680)),this.$FU=this.$$T);this.$IU&&(null!=this.$_T?(this.$uT.enable(3089),this.$uT.scissor(this.$_T.x|0,this.$_T.y|0,this.$_T.width|0,this.$_T.height|0)):this.$uT.disable(3089),this.$IU=!1);null!=this.$GK&&(a=this.$eT(this.$GK),
null!=a.$_L?(this.$uT.activeTexture(33985),this.$fT(a.$rU),this.$uT.activeTexture(33984),this.$fT(a.$_L)):this.$fT(a.$rU));this.$gT(this.$AU);this.$AU!=this.$RU&&this.$AU!=this.$SU&&this.$AU!=this.$TU||this.$AU.$PV(this.$yT.x/this.$GK.$FR,this.$yT.y/this.$GK.$GR,this.$yT.width/this.$GK.$FR,this.$yT.height/this.$GK.$GR);this.$wT!=this.$CU&&(this.$uT.bindBuffer(34963,this.$wT),this.$CU=this.$wT);if(this.$CU==this.$LU){if(this.$KU){this.$KU=!1;for(var a=new Uint16Array(6*this.$WU),b=0,c=this.$WU;b<c;){var e=
b++,d=6*e,e=4*e;a[d]=e;a[d+1]=e+1;a[d+2]=e+2;a[d+3]=e+2;a[d+4]=e+3;a[d+5]=e}this.$uT.bufferData(34963,a,35044)}this.$uT.bufferData(34962,this.$UT.subarray(0,this.$XU),35048);this.$uT.drawElements(4,6*this.$VU,5123,0);this.$XU=this.$VU=0}else a=new Uint16Array(this.$NU),this.$uT.bufferData(34963,a,35048),this.$NU.length=0,this.$uT.bufferData(34962,new Float32Array(this.$VT),35048),this.$VT.length=0,this.$uT.drawElements(4,a.length,5123,0)},$tT:function(a){1024<a?this.$zG():(this.$WU=a,a=new Float32Array(32*
a),null!=this.$UT&&a.set(this.$UT,0),this.$UT=a,this.$KU=!0)},__class__:ge};var va=function(a,b){this.$hU=this.$uQ=null;null==va.$iU&&(va.$iU=new Float32Array(8));this.$gU=a;this.$OR=b};k.$CUC=va;va.__name__=!0;va.__interfaces__=[Ab];va.prototype={save:function(){var a=this.$uQ,b=this.$uQ.next;null==b&&(b=new id,b.$yQ=a,a.next=b);a.$jU.clone(b.$jU);b.$BM=a.$BM;b.$DM=a.$DM;b.$FM=a.$FM;b.$_L=a.$_L;b.$xJ=a.$xJ;b.$yJ=null!=a.$yJ?a.$yJ.clone(b.$yJ):null;b.$kU=a.$kU;b.$lU=a.$lU;this.$uQ=b},translate:function(a,
b){var c=this.$uQ.$jU;c.m02+=c.m00*a+c.m01*b;c.m12+=c.m10*a+c.m11*b},scale:function(a,b){var c=this.$uQ.$jU;c.m00*=a;c.m10*=a;c.m01*=b;c.m11*=b},rotate:function(a){var b=this.$uQ.$jU;a=3.141592653589793*a/180;var c=Math.sin(a);a=Math.cos(a);var e=b.m00,d=b.m10,f=b.m01,g=b.m11;b.m00=e*a+f*c;b.m10=d*a+g*c;b.m01=f*a-e*c;b.m11=g*a-d*c},transform:function(a,b,c,e,d,f){var g=this.$uQ;va.$MI.set(a,b,c,e,d,f);pa.multiply(g.$jU,va.$MI,g.$jU)},restore:function(){this.$uQ=this.$uQ.$yQ},drawTexture:function(a,
b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,e,d,f,g){var h=this.$uQ,k=a.$LN;b=this.$fU(b,c,f,g);c=k.$FR;k=k.$GR;e=(a.$MN+e)/c;d=(a.$NN+d)/k;f=e+f/c;g=d+g/k;c=h.$BM;var k=h.$DM,l=h.$FM,m=h.$_L;a=this.$gU.$kT(this.$OR,h.$xJ,h.$yJ,h.$kU,h.$lU,a);h=this.$gU.$UT;h[a]=b[0];h[++a]=b[1];h[++a]=e;h[++a]=d;h[++a]=c;h[++a]=k;h[++a]=l;h[++a]=m;h[++a]=b[2];h[++a]=b[3];h[++a]=f;h[++a]=d;h[++a]=c;h[++a]=k;h[++a]=l;h[++a]=m;h[++a]=b[4];h[++a]=b[5];h[++a]=f;h[++a]=
g;h[++a]=c;h[++a]=k;h[++a]=l;h[++a]=m;h[++a]=b[6];h[++a]=b[7];h[++a]=e;h[++a]=g;h[++a]=c;h[++a]=k;h[++a]=l;h[++a]=m},drawPattern:function(a,b,c,e,d){var f=this.$uQ,g=a.$LN;b=this.$fU(b,c,e,d);e/=g.$FR;d/=g.$GR;g=f.$BM;c=f.$DM;var h=f.$FM,k=f.$_L;a=this.$gU.$mT(this.$OR,f.$xJ,f.$yJ,f.$kU,f.$lU,a);f=this.$gU.$UT;f[a]=b[0];f[++a]=b[1];f[++a]=0;f[++a]=0;f[++a]=g;f[++a]=c;f[++a]=h;f[++a]=k;f[++a]=b[2];f[++a]=b[3];f[++a]=e;f[++a]=0;f[++a]=g;f[++a]=c;f[++a]=h;f[++a]=k;f[++a]=b[4];f[++a]=b[5];f[++a]=e;f[++a]=
d;f[++a]=g;f[++a]=c;f[++a]=h;f[++a]=k;f[++a]=b[6];f[++a]=b[7];f[++a]=0;f[++a]=d;f[++a]=g;f[++a]=c;f[++a]=h;f[++a]=k},fillRect:function(a,b,c,e,d){var f=this.$uQ;b=this.$fU(b,c,e,d);c=f.$BM*(a&16711680)/16711680;e=f.$DM*(a&65280)/65280;a=f.$FM*(a&255)/255;d=f.$_L;var f=this.$gU.$oT(this.$OR,f.$xJ,f.$yJ,f.$kU,f.$lU),g=this.$gU.$UT;g[f]=b[0];g[++f]=b[1];g[++f]=c;g[++f]=e;g[++f]=a;g[++f]=d;g[++f]=b[2];g[++f]=b[3];g[++f]=c;g[++f]=e;g[++f]=a;g[++f]=d;g[++f]=b[4];g[++f]=b[5];g[++f]=c;g[++f]=e;g[++f]=a;g[++f]=
d;g[++f]=b[6];g[++f]=b[7];g[++f]=c;g[++f]=e;g[++f]=a;g[++f]=d},fillTriangles:function(a,b,c){var e=this.$uQ,d=e.$jU,f=d.m00,g=d.m01,h=d.m02,k=d.m10,l=d.m11,d=d.m12,m=e.$BM*(a&16711680)/16711680,n=e.$DM*(a&65280)/65280;a=e.$FM*(a&255)/255;var p=e.$_L;c=this.$gU.$pT(this.$OR,e.$xJ,e.$yJ,e.$kU,e.$lU,c);for(var e=this.$gU.$VT,q=0,s=b.length;q<s;){var r=b[q++],t=b[q++];e[c++]=r*f+t*g+h;e[c++]=r*k+t*l+d;e[c++]=m;e[c++]=n;e[c++]=a;e[c++]=p}},drawTriangles:function(a,b,c,e){var d=this.$uQ,f=a.$LN,g=d.$jU,
h=g.m00,k=g.m01,l=g.m02,m=g.m10,n=g.m11,g=g.m12,p=d.$BM,q=d.$DM,r=d.$FM,s=d.$_L;a=this.$gU.$qT(this.$OR,d.$xJ,d.$yJ,d.$kU,d.$lU,a,c);c=this.$gU.$VT;for(var t=d=0,v=b.length;t<v;){var w=b[t++],x=b[t++];c[a++]=w*h+x*k+l;c[a++]=w*m+x*n+g;null!=e?(c[a++]=e[d++],c[a++]=e[d++]):(c[a++]=w/f.$FR,c[a++]=x/f.$GR);c[a++]=p;c[a++]=q;c[a++]=r;c[a++]=s}},fillPolygon:function(a,b){var c=X.$UQ(b);null!=c&&this.fillTriangles(a,b,c)},drawPolygon:function(a,b){var c=X.$UQ(b);null!=c&&this.drawTriangles(a,b,c)},drawCircle:function(a,
b,c,e,d){null==d&&(d=50);var f=[],g=[];X.$PQ(f,g,b,c,e,e,d)&&this.drawTriangles(a,f,g)},fillCircle:function(a,b,c,e,d){null==d&&(d=50);var f=[],g=[];X.$PQ(f,g,b,c,e,e,d)&&this.fillTriangles(a,f,g)},strokeCircle:function(a,b,c,e,d,f){null==f&&(f=50);var g=[],h=[];X.$SQ(g,h,b,c,e,e,d,f)&&this.fillTriangles(a,g,h)},drawEllipse:function(a,b,c,e,d,f){null==f&&(f=50);var g=[],h=[];X.$PQ(g,h,b,c,e,d,f)&&this.drawTriangles(a,g,h)},fillEllipse:function(a,b,c,e,d,f){null==f&&(f=50);var g=[],h=[];X.$PQ(g,h,
b,c,e,d,f)&&this.fillTriangles(a,g,h)},strokeEllipse:function(a,b,c,e,d,f,g){null==g&&(g=50);var h=[],k=[];X.$SQ(h,k,b,c,e,d,f,g)&&this.fillTriangles(a,h,k)},fillArc:function(a,b,c,e,d,f,g){null==g&&(g=50);var h=[],k=[];X.$QQ(h,k,b,c,e,3.141592653589793*d/180,3.141592653589793*f/180,g)&&this.fillTriangles(a,h,k)},strokeArc:function(a,b,c,e,d,f,g,h){null==h&&(h=50);var k=[],l=[];X.$RQ(k,l,b,c,e,3.141592653589793*d/180,3.141592653589793*f/180,g,h)&&this.fillTriangles(a,k,l)},strokeLines:function(a,
b,c){var e=[],d=[];X.$TQ(e,d,b,c)&&this.fillTriangles(a,e,d)},drawLines:function(a,b,c){var e=[],d=[];X.$TQ(e,d,b,c)&&this.drawTriangles(a,e,d)},multiplyAlpha:function(a){this.$uQ.$_L*=a},setAlpha:function(a){this.$uQ.$_L=a},tint:function(a,b,c){var e=this.$uQ;e.$BM*=a;e.$DM*=b;e.$FM*=c},setBlendMode:function(a){this.$uQ.$xJ=a},beginMask:function(){var a=this.$uQ;++a.$kU;a.$lU=!0},endMask:function(){this.$uQ.$lU=!1},applyScissor:function(a,b,c,e){var d=this.$uQ,f=va.$iU;f[0]=a;f[1]=b;f[2]=a+c;f[3]=
b+e;d.$jU.transformArray(f,4,f);this.$hU.transformArray(f,4,f);a=f[0];b=f[1];c=f[2]-a;e=f[3]-b;0>c&&(a+=c,c=-c);0>e&&(b+=e,e=-e);d.$mU(a,b,c,e)},willRender:function(){this.$gU.$XT()},didRender:function(){this.$gU.$YT()},onResize:function(a,b){this.$uQ=new id;var c;c=null!=this.$OR?-1:1;this.$uQ.$jU.set(2/a,0,0,-2*c/b,-1,c);this.$hU=new pa;this.$hU.set(2/a,0,0,2/b,-1,-1);this.$hU.invert()},$fU:function(a,b,c,e){c=a+c;e=b+e;var d=va.$iU;d[0]=a;d[1]=b;d[2]=c;d[3]=b;d[4]=c;d[5]=e;d[6]=a;d[7]=e;this.$uQ.$jU.transformArray(d,
8,d);return d},__class__:va};var id=function(){this.$yQ=this.next=null;this.$lU=!1;this.$kU=0;this.$BM=this.$DM=this.$FM=this.$_L=1;this.$yJ=null;this.$xJ=L.Normal;this.$jU=new pa};k.$CVC=id;id.__name__=!0;id.prototype={$mU:function(a,b,c,e){if(null!=this.$yJ){var d=ea.max(this.$yJ.x,a),f=ea.max(this.$yJ.y,b);c=ea.min(this.$yJ.x+this.$yJ.width,a+c);e=ea.min(this.$yJ.y+this.$yJ.height,b+e);a=d;b=f;c-=d;e-=f}else this.$yJ=new za;this.$yJ.set(Math.round(a),Math.round(b),Math.round(c),Math.round(e))},
__class__:id};var ac=function(a,b){this.$pU=!1;var c=this;this.$_Q=new aa(!0);this.$nU=b;this.$bK();if(0==b.getError()){this.$pU=!0;var e=b.canvas;e.addEventListener("webglcontextlost",function(a){a.preventDefault();c.graphics=null;c.$_Q.set__(!1)},!1);e.addEventListener("webglcontextrestored",function(a){c.$bK();c.$_Q.set__(!0)},!1);a.resize.connect(A(this,this.$qU))}else null};k.$CWC=ac;ac.__name__=!0;ac.__interfaces__=[Bb];ac.prototype={get_type:function(){return ua.WebGL},get_filterSupported:function(){return!0},
createTextureFromImage:function(a,b,c){null==c&&(c=1);var e=a.width,d=a.height,f=new mb(this,e,d,c);null!=b&&b!=V.COMPRESSED&&(f.$zU=b);f.$sU=a;return f.createTexture(e/c,d/c)},createTexture:function(a,b,c,e){null==e&&(e=1);var d=new mb(this,a,b,e);null!=c&&c!=V.COMPRESSED&&(d.$zU=c);return d.createTexture(a/e,b/e)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},$qU:function(){if(null!=this.graphics){var a=
this.$nU.canvas,b=a.width,a=a.height;this.$oU.$WT(b,a);this.graphics.onResize(b,a)}},$bK:function(){this.$oU=new ge(this.$nU);this.graphics=new va(this.$oU,null);this.$qU()},__class__:ac};var he=function(a){this.$_L=null;this.$rU=a};k.$CXC=he;he.__name__=!0;he.prototype={__class__:he};var jd=function(a,b,c){Ia.call(this,a,b,c)};k.$CYC=jd;jd.__name__=!0;jd.__super__=Ia;jd.prototype=x(Ia.prototype,{__class__:jd});var mb=function(a,b,c,e){this.$NR=null;this.$zU=V.RGBA;this.$xU=null;this.$wU=!0;this.$vU=
-1;this.$sU=this.$tU=this.$uU=null;this.$hM=!1;this.$HG=a;b=2>b?2:b;c=2>c?2:c;this.$DR=b;this.$ER=c;this.$WH=e;this.$FR=b/e;this.$GR=c/e};k.$CZC=mb;mb.__name__=!0;mb.__interfaces__=[bd];mb.__super__=W;mb.prototype=x(W.prototype,{createTexture:function(a,b){return new jd(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$NR&&(this.$NR=new va(this.$HG.$oU,this),this.$NR.onResize(this.$DR,this.$ER));return this.$NR},clear:function(){this.$HG.$oU.$dT(this)},renderFilter:function(a,b,
c){this.$HG.$oU.$JO(this,a,b,c)},$yU:function(){var a;switch(this.$zU[1]){case 3:a=2;break;case 1:a=2;break;case 2:a=3;break;default:a=4}return a*this.$DR*this.$ER},$fM:function(){this.$HG.$oU.$aT(this);this.$NR=this.$xU=this.$uU=this.$tU=this.$sU=null},__class__:mb});var ga=function(a){this.$NV=!0;this.$MV=-1;this.$LV=[];this.$IV=this.$JV=this.$KV=null;this.$CV=0;this.$uT=a};k.$CdC=ga;ga.__name__=!0;ga.$OV=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};ga.prototype=
{$DV:function(){null},$FK:function(){null==this.$IV&&(this.$IV=this.$uT.createProgram(),this.$DV(),this.$NV&&(this.$uT.detachShader(this.$IV,this.$JV),this.$uT.deleteShader(this.$JV),this.$JV=null,this.$uT.detachShader(this.$IV,this.$KV),this.$uT.deleteShader(this.$KV),this.$KV=null))},$EV:function(a){this.$uT.useProgram(this.$IV);if(0>this.$MV){for(var b=this.$MV=0,c=this.$LV;b<c.length;){var e=c[b];++b;var d=e.$gV();e.$fV=this.$MV;this.$MV+=d}this.$LV=this.$LV.filter(function(a){return 0<=a.$eV});
this.$LV.sort(function(a,b){return a.$eV-b.$eV})}if(null!=a){b=a.$LV.length;for(c=this.$LV.length;b<c;)e=b++,this.$uT.enableVertexAttribArray(e);b=this.$LV.length;for(c=a.$LV.length;b<c;)e=b++,this.$uT.disableVertexAttribArray(e)}else for(b=0,c=this.$LV.length;b<c;)e=b++,this.$uT.enableVertexAttribArray(e);b=0;for(c=this.$LV.length;b<c;){var e=b++,d=this.$LV[e],f;f=null!=a?a.$LV[e]:null;null!=f&&f.$ZN==d.$ZN&&f.$aK==d.$aK&&a.$MV==this.$MV&&f.$fV==d.$fV||this.$uT.vertexAttribPointer(e,d.$ZN,d.$aK,
!1,this.$MV,d.$fV)}},$FV:function(a,b){b="precision mediump float;\n"+b;this.$JV=ga.$OV(this.$uT,35633,a);this.$KV=ga.$OV(this.$uT,35632,b);this.$uT.attachShader(this.$IV,this.$JV);this.$uT.attachShader(this.$IV,this.$KV);this.$uT.linkProgram(this.$IV);this.$uT.useProgram(this.$IV)},$GV:function(a,b,c){a=this.$uT.getAttribLocation(this.$IV,a);this.$LV.push(new ie(a,b,c));this.$CV+=b},$HV:function(a){return this.$uT.getUniformLocation(this.$IV,a)},__class__:ga};var lb=function(a,b){this.$QV=this.$RV=
this.$SV=this.$TV=-1;ga.call(this,a);this.$XV=b};k.$CeC=lb;lb.__name__=!0;lb.__super__=ga;lb.prototype=x(ga.prototype,{$DV:function(){var a;switch(this.$XV){case 0:case 1:a="texture2D(u_texture, pos);";break;case 2:a="vec4(texture2D(u_textureRGB, pos).rgb, texture2D(u_texture, pos).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;",2==this.$XV?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {\nmediump vec2 pos = u_region.xy + mod(v_uv, u_region.zw);",
"lowp vec4 color = "+a,1==this.$XV?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$FV("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",a);this.$GV("a_pos",2,5126);this.$GV("a_uv",2,5126);this.$GV("a_color",4,5126);this.$UV=this.$HV("u_texture");
this.$WV=this.$HV("u_region");this.$uT.uniform1i(this.$UV,0);2==this.$XV&&(this.$VV=this.$HV("u_textureRGB"),this.$uT.uniform1i(this.$VV,1))},$PV:function(a,b,c,e){if(a!=this.$QV||b!=this.$RV||c!=this.$SV||e!=this.$TV)this.$QV=a,this.$RV=b,this.$SV=c,this.$TV=e,this.$uT.uniform4f(this.$WV,a,b,c,e)},__class__:lb});var kb=function(a,b){ga.call(this,a);this.$XV=b};k.$CfC=kb;kb.__name__=!0;kb.__super__=ga;kb.prototype=x(ga.prototype,{$DV:function(){var a;switch(this.$XV){case 0:case 1:a="texture2D(u_texture, v_uv);";
break;case 2:a="vec4(texture2D(u_textureRGB, v_uv).rgb, texture2D(u_texture, v_uv).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;",2==this.$XV?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {","lowp vec4 color = "+a,1==this.$XV?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$FV("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",
a);this.$GV("a_pos",2,5126);this.$GV("a_uv",2,5126);this.$GV("a_color",4,5126);this.$UV=this.$HV("u_texture");this.$YV(0);2==this.$XV&&(this.$VV=this.$HV("u_textureRGB"),this.$uT.uniform1i(this.$VV,1))},$YV:function(a){this.$uT.uniform1i(this.$UV,a)},__class__:kb});var gd=function(a){ga.call(this,a)};k.$CgC=gd;gd.__name__=!0;gd.__super__=ga;gd.prototype=x(ga.prototype,{$DV:function(){this.$FV("attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.$GV("a_pos",2,5126);this.$GV("a_rgb",3,5126);this.$GV("a_alpha",1,5126)},__class__:gd});var hd=function(a,b,c,e){this.$cV=new U;this.$aV=this.$bV=null;ga.call(this,a);this.$gU=b;null==c&&(c="void main () {\nvTextureCoord = aTextureCoord;\nvFilterCoord = aTextureCoord * uTextureSize/uFilterSize;\ngl_Position = vec4(aVertexPosition, 0, 1);\n}");this.$WK=c;this.$VK=e;this.$NV=!1};k.$ChC=hd;hd.__name__=!0;hd.__super__=
ga;hd.prototype=x(ga.prototype,{$DV:function(){var a=["precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\nattribute highp vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n#line 0",this.$WK].join("\n"),b=["varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\n#line 0",
this.$VK].join("\n");this.$FV(a,b);this.$GV("aVertexPosition",2,5126);this.$GV("aTextureCoord",2,5126);this.$bV=this.$uT.getUniformLocation(this.$IV,"uTextureSize");this.$aV=this.$uT.getUniformLocation(this.$IV,"uFilterSize");this.$WK=this.$VK=null},$ZV:function(a,b,c,e){null!=this.$bV&&this.$uT.uniform2f(this.$bV,b.$DR,b.$ER);null!=this.$aV&&this.$uT.uniform2f(this.$aV,c,e);b=0;for(a=a.$UK.iterator();a.hasNext();)if(c=a.next(),e=this.$cV.get(c.$YK),null==e&&(e=new je(this.$uT.getUniformLocation(this.$IV,
c.$YK)),this.$cV.set(c.$YK,e)),e=e.$dV,null!=e)switch(c.$aK){case 0:this.$uT.uniform1f(e,c.$ZK);break;case 1:this.$uT.uniform2fv(e,c.$ZK);break;case 2:this.$uT.uniform3fv(e,c.$ZK);break;case 3:this.$uT.uniform4fv(e,c.$ZK);break;case 4:this.$uT.uniform1i(e,c.$ZK);break;case 5:this.$uT.uniform2iv(e,c.$ZK);break;case 6:this.$uT.uniform3iv(e,c.$ZK);break;case 7:this.$uT.uniform4iv(e,c.$ZK);break;case 8:this.$uT.uniformMatrix2fv(e,!1,c.$ZK);break;case 9:this.$uT.uniformMatrix3fv(e,!1,c.$ZK);break;case 10:this.$uT.uniformMatrix4fv(e,
!1,c.$ZK);break;case 11:this.$uT.uniform1i(e,b),0!=b&&this.$uT.activeTexture(33984+b),b++,c=this.$gU.$eT(c.$ZK.$LN),this.$gU.$fT(c.$rU)}1<b&&this.$uT.activeTexture(33984)},__class__:hd});var je=function(a){this.$dV=a};k.$CiC=je;je.__name__=!0;je.prototype={__class__:je};var ie=function(a,b,c){this.$fV=0;this.$eV=a;this.$ZN=b;this.$aK=c};k.$CjC=ie;ie.__name__=!0;ie.prototype={$gV:function(){var a;switch(this.$aK){case 5126:a=4;break;default:a=1}return this.$ZN*a},__class__:ie};var ke=function(){this.$nV=
null};k["kit.scene.Director"]=ke;ke.__name__=!0;ke.__super__=z;ke.prototype=x(z.prototype,{get_entitySlot:function(){return 7},onAdded:function(){this.owner.addChild(this.$mK)},onRemoved:function(){this.$lV();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this.$mK.dispose()},onUpdate:function(a){null!=this.$nV&&this.$nV.$BG(a)&&this.$lV()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},$ZQ:function(a){a=a.$zF[8];
null!=a&&a.shown.emit()},$kV:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a].$zF[8];if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.$ZQ(a)},$lV:function(){null!=this.$nV&&(this.$nV.$oV(),this.$nV=null,this.$kV())},__class__:ke});var ye=function(){};k.$CkC=ye;ye.__name__=!0;ye.prototype={$BG:function(a){return this.$pV.update(a)},$oV:function(){this.$pV.complete();this.$qV()},__class__:ye};
var le=function(){};k["kit.scene.Scene"]=le;le.__name__=!0;le.__super__=z;le.prototype=x(z.prototype,{get_entitySlot:function(){return 8},__class__:le});var ze=function(){};k["kit.scene.Transition"]=ze;ze.__name__=!0;ze.prototype={update:function(a){return!0},complete:function(){},__class__:ze};var Ta=function(){};k["kit.script.Action"]=Ta;Ta.__name__=!0;Ta.prototype={__class__:Ta};var Aa=function(a,b,c,e){this.$aG=a;this.$NH=b;this.$uV=c;this.$PH=e};k["kit.script.AnimateTo"]=Aa;Aa.__name__=!0;Aa.__interfaces__=
[Ta];Aa.prototype={update:function(a,b){null==this.$sV&&(this.$sV=new cb(this.$aG.$aG,this.$NH,this.$uV,this.$PH),this.$aG.set_behavior(this.$sV),this.$aG.update(a));if(this.$aG.$rG!=this.$sV){var c=this.$sV.elapsed-this.$uV;this.$sV=null;return 0<c?a-c:0}return-1},__class__:Aa};var r=function(a){this.$BH=a};k["kit.script.CallFunction"]=r;r.__name__=!0;r.__interfaces__=[Ta];r.prototype={update:function(a,b){this.$BH();return 0},__class__:r};var s=function(a){this.$OH=a;this.$vV=0};k["kit.script.Delay"]=
s;s.__name__=!0;s.__interfaces__=[Ta];s.prototype={update:function(a,b){this.$vV+=a;if(this.$vV>=this.$OH){var c=this.$vV-this.$OH;this.$vV=0;return a-c}return-1},__class__:s};var Ib=function(a){this.$xV=[];this.$wV=null!=a?a.slice():[]};k["kit.script.Parallel"]=Ib;Ib.__name__=!0;Ib.__interfaces__=[Ta];Ib.prototype={update:function(a,b){for(var c=!0,e=0,d=0,f=this.$wV.length;d<f;){var g=d++,h=this.$wV[g];if(null!=h){var k=h.update(a,b);0<=k?(this.$wV[g]=null,this.$xV.push(h),k>e&&(e=k)):c=!1}}return c?
(this.$wV=this.$xV,this.$xV=[],e):-1},__class__:Ib};var Ua=function(a,b){null==b&&(b=-1);this.$yV=a;this.$$V=this.$zV=b};k["kit.script.Repeat"]=Ua;Ua.__name__=!0;Ua.__interfaces__=[Ta];Ua.prototype={update:function(a,b){if(0==this.$zV)return 0;var c=this.$yV.update(a,b);return 0<this.$zV&&0<=c&&0==--this.$$V?(this.$$V=this.$zV,c):-1},__class__:Ua};var G=function(){z.call(this);this.stopAll()};k["kit.script.Script"]=G;G.__name__=!0;G.__super__=z;G.prototype=x(z.prototype,{get_entitySlot:function(){return 11},
run:function(a){a=new kd(a);this.$_V.push(a);return a},stopAll:function(){this.$_V=[]},onUpdate:function(a){for(var b=0;b<this.$_V.length;){var c=this.$_V[b];c.$AW||0<=c.$BW.update(a,this.owner)?this.$_V.splice(b,1):++b}},__class__:G});var kd=function(a){this.$AW=!1;this.$BW=a};k.$ClC=kd;kd.__name__=!0;kd.__interfaces__=[ra];kd.prototype={dispose:function(){this.$AW=!0;this.$BW=null},__class__:kd};var F=function(a){this.$CW=0;this.$wV=null!=a?a.slice():[]};k["kit.script.Sequence"]=F;F.__name__=!0;
F.__interfaces__=[Ta];F.prototype={update:function(a,b){for(var c=0;;){var e=this.$wV[this.$CW];if(null!=e)if(e=e.update(a-c,b),0<=e)c+=e;else return-1;++this.$CW;if(this.$CW>=this.$wV.length){this.$CW=0;break}else if(c>a)return-1}return c},__class__:F};var ua=k["kit.subsystem.RendererType"]={__ename__:!0,__constructs__:["Stage3D","WebGL","Canvas"]};ua.Stage3D=["Stage3D",0];ua.Stage3D.toString=l;ua.Stage3D.__enum__=ua;ua.WebGL=["WebGL",1];ua.WebGL.toString=l;ua.WebGL.__enum__=ua;ua.Canvas=["Canvas",
2];ua.Canvas.toString=l;ua.Canvas.__enum__=ua;var db=function(){};k["kit.util.BitSets"]=db;db.__name__=!0;db.set=function(a,b,c){return c?a|b:a&~b};var Jb=function(){this.mainSection=new U;this.sections=new U};k["kit.util.Config"]=Jb;Jb.__name__=!0;Jb.parse=function(a){var b=new Jb,c=new ma("^\\s*;",""),e=new ma("^\\s*\\[\\s*([^\\]]*)\\s*\\]",""),d=new ma("^\\s*([\\w\\.\\-_]+)\\s*=\\s*(.*)",""),f=b.mainSection,g=0;for(a=(new ma("\r\n|\r|\n","g")).split(a);g<a.length;){var h=a[g];++g;if(!c.match(h))if(e.match(h))h=
e.matched(1),b.sections.exists(h)?f=b.sections.get(h):(f=new U,b.sections.set(h,f));else if(d.match(h)){var h=d.matched(1),k=d.matched(2),l=k.charCodeAt(0);34!=l&&39!=l||k.charCodeAt(k.length-1)!=l||(k=D.substr(k,1,k.length-2));k=M.replace(M.replace(M.replace(M.replace(M.replace(M.replace(k,"\\n","\n"),"\\r","\r"),"\\t","\t"),"\\'","'"),'\\"','"'),"\\\\","\\");null!=Ja[h]?f.setReserved(h,k):f.h[h]=k}}return b};Jb.prototype={get:function(a){var b=a.indexOf(".");if(0>b)return this.mainSection.get(a);
var c;c=D.substr(a,0,b);c=this.sections.get(c);return null!=c?(a=D.substr(a,b+1,null),null!=Ja[a]?c.getReserved(a):c.h[a]):null},__class__:Jb};var Kb=function(a){this.config=a;this.missingTranslation=new P};k["kit.util.MessageBundle"]=Kb;Kb.__name__=!0;Kb.parse=function(a){return new Kb(Jb.parse(a))};Kb.prototype={get:function(a,b){var c=this.config.get(a);return null==c?(this.missingTranslation.emit(a),a):null!=b?ca.substitute(c,b):c},__class__:Kb};var Da=function(){this.$SW=this.$TW=null;this.$RW=
0;this.$QW=null;this.$OW=this.$PW=0;this.progressChanged=new Ra;this.error=new P;this.success=new P};k["kit.util.Promise"]=Da;Da.__name__=!0;Da.prototype={then:function(a){var b=this;if(2==this.$RW)return this;var c=new Da;this.$hG(c,function(){1==b.$RW?c.$MW(a(b.$QW)):c.failure(b.$QW)});return c},catchError:function(a){var b=this;if(1==this.$RW)return this;var c=new Da;this.$hG(c,function(){2==b.$RW?c.$MW(a(b.$QW)):c.$LW(b.$QW)});return c},failure:function(a){this.error.emit(a);return this.$NW(2,
a)},$LW:function(a){var b=this.$NW(1,a);this.success.emit(a);return b},emitProgress:function(a){0==this.$RW&&(null!=this.$TW&&this.$TW.emit(a),this.progressChanged.emit())},$hG:function(a,b){0==this.$RW?null==this.$SW?this.$SW=[b]:this.$SW.push(b):m.$uG.$AG.$JQ(b)},$MW:function(a){var b=this;N.__instanceof(a,Da)?a.then(function(a){b.$LW(a)}).catchError(function(a){b.failure(a)}):this.$LW(a)},$NW:function(a,b){if(0==this.$RW&&(this.$QW=b,this.$RW=a,null!=this.$SW)){for(var c=0,d=this.$SW;c<d.length;){var f=
d[c];++c;f()}this.$SW=null}return this},set_progress:function(a){this.$OW!=a&&(this.$OW=a,this.progressChanged.emit());return a},set_total:function(a){this.$PW!=a&&(this.$PW=a,this.progressChanged.emit());return a},__class__:Da};var de=function(a){this.$RW=null!=a?a:Math.floor(2147483647*Math.random())};k["kit.util.Random"]=de;de.__name__=!0;de.prototype={nextInt:function(){return this.$RW=(1103515245*this.$RW+12345)%2147483647},__class__:de};var Gd=function(a){this.next=null;this.$XW=a};k.$CnC=Gd;
Gd.__name__=!0;Gd.prototype={__class__:Gd};var ca=function(){};k["kit.util.Strings"]=ca;ca.__name__=!0;ca.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?D.substr(a,b+1,null):null};ca.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?D.substr(a,0,b):a};ca.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=D.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=D.substr(a,b+1,null));return ca.getFileExtension(a)};ca.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-
1)&&(a+="/");return a+b};ca.substitute=function(a,b){for(var c=0,d=b.length;c<d;){var f=c++;a=M.replace(a,"{"+f+"}",b[f])}return a};ca.withFields=function(a,b){var c=b.length;if(0<c){a=0<a.length?a+" [":a+"[";for(var d=0;d<c;){0<d&&(a+=", ");var f=b[d],g=b[d+1];if(p.is(g,Error)){var h=g.stack;null!=h&&(g=h)}a+=f+"="+p.string(g);d+=2}a+="]"}return a};var me=function(){};k.$CoC=me;me.__name__=!0;me.prototype={__class__:me};var ce=function(){};k["kit.util.Triangulator"]=ce;ce.__name__=!0;ce.prototype=
{triangulate:function(a){var b=a.length;if(6>b)return[];for(var c=this.$rW(-1,0,0,null),d=c,f=0,g=0,h=b-2;g<b;)f+=(a[h]-a[g])*(a[g+1]+a[h+1]),h=g,g+=2;if(0<f)for(f=g=0;g<b;)var h=a[g],k=a[g+1],c=this.$rW(f++,h,k,c),g=g+2;else for(g=b-2,f=g/2|0;0<=g;)h=a[g],k=a[g+1],c=this.$rW(f--,h,k,c),g-=2;c.next=d.next;c.next.$yQ=c;return this.$kW(c,160<b)},$kW:function(a,b){this.$eW=[];a=this.$pW(a);if(b&&null!=a){var c,d;this.$hW=c=a.$nL;this.$iW=d=a.$pL;for(var f=a.next;f!=a;){var g=f.$nL,h=f.$pL;g<this.$hW&&
(this.$hW=g);h<this.$iW&&(this.$iW=h);g>c&&(c=g);h>d&&(d=h);f=f.next}this.$ZN=Math.max(c-this.$hW,d-this.$iW);this.$jW=!0}else this.$jW=!1;this.$sW(a);c=this.$eW;this.$eW=null;d=this.$gW;if(null!=this.$fW){for(;d!=this.$fW;)d=d.$aW;d=d.$aW}for(;null!=d;)d.next=this.$fW,this.$fW=d,d=d.$aW;return c},$lW:function(a,b){return a.$nL==b.$nL&&a.$pL==b.$pL},$mW:function(a,b,c){return(b.$pL-a.$pL)*(c.$nL-b.$nL)-(b.$nL-a.$nL)*(c.$pL-b.$pL)},$nW:function(a,b,c,d){return 0<(b.$pL-a.$pL)*(c.$nL-b.$nL)-(b.$nL-
a.$nL)*(c.$pL-b.$pL)!=0<(b.$pL-a.$pL)*(d.$nL-b.$nL)-(b.$nL-a.$nL)*(d.$pL-b.$pL)&&0<(d.$pL-c.$pL)*(a.$nL-d.$nL)-(d.$nL-c.$nL)*(a.$pL-d.$pL)!=0<(d.$pL-c.$pL)*(b.$nL-d.$nL)-(d.$nL-c.$nL)*(b.$pL-d.$pL)},$pW:function(a,b){if(null==a)return a;null==b&&(b=a);var c=a,d;do if(d=!1,c.$dW||!this.$lW(c,c.next)&&0!=this.$mW(c.$yQ,c,c.next))c=c.next;else{c.next.$yQ=c.$yQ;c.$yQ.next=c.next;null!=c.$ZW&&(c.$ZW.$YW=c.$YW);null!=c.$YW&&(c.$YW.$ZW=c.$ZW);c=b=c.$yQ;if(c==c.next)return null;d=!0}while(d||c!=b);return b},
$qW:function(a){a.next.$yQ=a.$yQ;a.$yQ.next=a.next;null!=a.$ZW&&(a.$ZW.$YW=a.$YW);null!=a.$YW&&(a.$YW.$ZW=a.$ZW)},$rW:function(a,b,c,d){var f=this.$fW;null==f?(f=new me,f.$aW=this.$gW,this.$gW=f):this.$fW=f.next;f.$bW=a;f.$cW=-1;f.$nL=b;f.$pL=c;f.next=null;f.$yQ=d;f.$dW=!1;f.$ZW=null;f.$YW=null;null!=d&&(d.next=f);return f},$sW:function(a,b){null==b&&(b=0);if(null!=a){0==b&&this.$jW&&this.$BX(a);for(var c=a,d,f;a.$yQ!=a.next;)if(d=a.$yQ,f=a.next,this.$jW?this.$uW(a):this.$tW(a))this.$eW.push(d.$bW),
this.$eW.push(a.$bW),this.$eW.push(f.$bW),a.next.$yQ=a.$yQ,a.$yQ.next=a.next,null!=a.$ZW&&(a.$ZW.$YW=a.$YW),null!=a.$YW&&(a.$YW.$ZW=a.$ZW),c=a=f.next;else if(a=f,a==c){switch(b){case 0:this.$sW(this.$pW(a),1);break;case 1:a=this.$vW(a);this.$sW(a,2);break;case 2:this.$wW(a)}break}}},$tW:function(a){var b=a.$yQ,c=a.next;if(0<=(a.$pL-b.$pL)*(c.$nL-a.$nL)-(a.$nL-b.$nL)*(c.$pL-a.$pL))return!1;for(var d=a.next.next;d!=a.$yQ;){if(this.$yW(b.$nL,b.$pL,a.$nL,a.$pL,c.$nL,c.$pL,d.$nL,d.$pL)&&0<=this.$mW(d.$yQ,
d,d.next))return!1;d=d.next}return!0},$uW:function(a){var b=a.$yQ,c=a.next;if(0<=(a.$pL-b.$pL)*(c.$nL-a.$nL)-(a.$nL-b.$nL)*(c.$pL-a.$pL))return!1;var d;d=b.$nL<a.$nL?b.$nL<c.$nL?b.$nL:c.$nL:a.$nL<c.$nL?a.$nL:c.$nL;var f;f=b.$pL<a.$pL?b.$pL<c.$pL?b.$pL:c.$pL:a.$pL<c.$pL?a.$pL:c.$pL;var g;g=b.$nL>a.$nL?b.$nL>c.$nL?b.$nL:c.$nL:a.$nL>c.$nL?a.$nL:c.$nL;var h;h=b.$pL>a.$pL?b.$pL>c.$pL?b.$pL:c.$pL:a.$pL>c.$pL?a.$pL:c.$pL;d=this.$AX(d,f);g=this.$AX(g,h);for(h=a.$YW;null!=h&&h.$cW<=g;){if(h!=a.$yQ&&h!=a.next&&
this.$yW(b.$nL,b.$pL,a.$nL,a.$pL,c.$nL,c.$pL,h.$nL,h.$pL)&&0<=this.$mW(h.$yQ,h,h.next))return!1;h=h.$YW}for(h=a.$ZW;null!=h&&h.$cW>=d;){if(h!=a.$yQ&&h!=a.next&&this.$yW(b.$nL,b.$pL,a.$nL,a.$pL,c.$nL,c.$pL,h.$nL,h.$pL)&&0<=this.$mW(h.$yQ,h,h.next))return!1;h=h.$ZW}return!0},$vW:function(a){var b=a;do{var c=b.$yQ,d=b.next.next;this.$nW(c,b,b.next,d)&&(0>this.$mW(c.$yQ,c,c.next)?0<=this.$mW(c,d,c.next)&&0<=this.$mW(c,c.$yQ,d):0>this.$mW(c,d,c.$yQ)||0>this.$mW(c,c.next,d))&&(0>this.$mW(d.$yQ,d,d.next)?
0<=this.$mW(d,c,d.next)&&0<=this.$mW(d,d.$yQ,c):0>this.$mW(d,c,d.$yQ)||0>this.$mW(d,d.next,c))&&(this.$eW.push(c.$bW),this.$eW.push(b.$bW),this.$eW.push(d.$bW),b.next.$yQ=b.$yQ,b.$yQ.next=b.next,null!=b.$ZW&&(b.$ZW.$YW=b.$YW),null!=b.$YW&&(b.$YW.$ZW=b.$ZW),this.$qW(b.next),b=a=d);b=b.next}while(b!=a);return b},$wW:function(a){var b=a;do{for(var c=b.next.next;c!=b.$yQ;){if(b.$bW!=c.$bW&&this.$zW(b,c)){a=this.$xW(b,c);b=this.$pW(b,b.next);a=this.$pW(a,a.next);this.$sW(b);this.$sW(a);return}c=c.next}b=
b.next}while(b!=a)},$xW:function(a,b){var c=this.$rW(a.$bW,a.$nL,a.$pL,null),d=this.$rW(b.$bW,b.$nL,b.$pL,null),f=a.next,g=b.$yQ;a.next=b;b.$yQ=a;c.next=f;f.$yQ=c;d.next=c;c.$yQ=d;g.next=d;d.$yQ=g;return d},$yW:function(a,b,c,d,f,g,h,k){return 0<=(f-h)*(b-k)-(a-h)*(g-k)&&0<=(a-h)*(d-k)-(c-h)*(b-k)&&0<=(c-h)*(g-k)-(f-h)*(d-k)},$zW:function(a,b){return a.$nL==b.$nL&&a.$pL==b.$pL||a.next.$bW!=b.$bW&&a.$yQ.$bW!=b.$bW&&!this.$_W(a,b)&&(0>this.$mW(a.$yQ,a,a.next)?0<=this.$mW(a,b,a.next)&&0<=this.$mW(a,
a.$yQ,b):0>this.$mW(a,b,a.$yQ)||0>this.$mW(a,a.next,b))&&(0>this.$mW(b.$yQ,b,b.next)?0<=this.$mW(b,a,b.next)&&0<=this.$mW(b,b.$yQ,a):0>this.$mW(b,a,b.$yQ)||0>this.$mW(b,b.next,a))&&this.$$W(a,b)},$$W:function(a,b){var c=a,d=!1,f=(a.$nL+b.$nL)/2,g=(a.$pL+b.$pL)/2;do c.$pL>g!=c.next.$pL>g&&f<(c.next.$nL-c.$nL)*(g-c.$pL)/(c.next.$pL-c.$pL)+c.$nL&&(d=!d),c=c.next;while(c!=a);return d},$_W:function(a,b){var c=a;do{if(c.$bW!=a.$bW&&c.next.$bW!=a.$bW&&c.$bW!=b.$bW&&c.next.$bW!=b.$bW&&this.$nW(c,c.next,a,
b))return!0;c=c.next}while(c!=a);return!1},$AX:function(a,b){var c=32767*(a-this.$hW)/this.$ZN|0,d=32767*(b-this.$iW)/this.$ZN|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459;return(c|c<<1)&1431655765|((d|d<<1)&1431655765)<<1},$BX:function(a){var b=a;do 0>b.$cW&&(b.$cW=this.$AX(b.$nL,b.$pL)),b.$ZW=b.$yQ,b=b.$YW=b.next;while(b!=a);b.$ZW.$YW=null;b.$ZW=null;this.$CX(b)},$CX:function(a){var b,c,d,f,g,h,k,l=1;do{b=a;f=a=null;
for(g=0;null!=b;){g++;c=b;for(d=h=0;d<l&&(d++,h++,c=c.$YW,null!=c););for(k=l;0<h||0<k&&null!=c;)0==h?(d=c,c=c.$YW,k--):0==k||null==c?(d=b,b=b.$YW,h--):b.$cW<=c.$cW?(d=b,b=b.$YW,h--):(d=c,c=c.$YW,k--),null!=f?f.$YW=d:a=d,d.$ZW=f,f=d;b=c}f.$YW=null;l*=2}while(1<g);return a},__class__:ce};var ld=function(a,b,c,e){this.bgTreeTimer=this.fgTreeTimer=this.bulletTimer=this.nextBuildingX=0;this.roadWidth=1021;this.bgWidth=925;this.skyWidth=1025;this.scrollSpeed=810;this.shells=this.pods=this.distance=0;this.gameOver=
!1;this.stageLength=100;z.call(this);this.screenWidth=a;this.screenHeight=b;this.gameOverCallback=c;this.hidePauseBtn=e;d.round++};k["project.Battle"]=ld;ld.__name__=!0;ld.__super__=z;ld.prototype=x(z.prototype,{get_entitySlot:function(){return 18},onAdded:function(){d.isMobile&&this.connect1(m.$uG.$JG.down,A(this,this.handleTouchDown));this.connect1(m.$uG.getKeyboard().down,A(this,this.keyDownHandler));this.connect1(m.$uG.getKeyboard().up,A(this,this.keyUpHandler));this.startGame();this.musicLoop=
d.pack.getSound("audio/battle_loop").loop();this.musicLoop.volume.set__(0);this.musicLoop.volume.animateTo(0.8,0.5);this.engineLoop=d.pack.getSound("audio/battle/engine_idle_loop").loop();this.engineLoop.volume.set__(0);this.engineLoop.volume.animateTo(0.8,0.5)},stopGame:function(){this.inPlay=!1;"SEWER"!=d.scene&&d.wonRound||(d.credits+=this.shells);this.musicLoop.volume.animateTo(0,0.5);this.engineLoop.volume.animateTo(0,0.5)},startGame:function(){var a=this;this.ground=0;"CITY"==d.scene?(this.health=
d.health,this.shells=this.score=0,d.front&&(this.health+=60),d.side&&(this.health+=20),d.top&&(this.health+=20)):(this.health=d.tempHealth,this.score=d.score,this.shells=d.shells,this.pods=d.pods);this.speed=d.speed;d.wheels&&(this.speed+=30);100>this.speed&&(this.scrollSpeed=750);"CITY"==d.scene?(this.fuel=d.fuel,d.fueltank&&(this.fuel+=30)):this.fuel=d.tempFuel;d.wonRound=!1;d.health=0;d.fuel=0;d.score=0;d.shells=0;d.pods=0;this.buildings=[];this.bgtrees=[];this.fgtrees=[];this.pickups=[];this.objects=
[];this.bullets=[];this.playerBullets=[];this.screen=(new h).add(new Q(12360322,d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);var b=(new h).add(new q("battle/scene","sky",-((1336-this.screenWidth)/2),this.screenHeight-768));this.screen.addChild(b);b=new h;f.createFillSprite(this.screen,b,12360322,!1,0,this.screenHeight-360,2E3,2E3,1);this.skyline=new h;f.createImageSprite(this.screen,this.skyline,"blank",!1,0,this.screenHeight-136);this.skyline.$zF[1].set_pixelSnapping(!1);this.background=
new h;f.createImageSprite(this.screen,this.background,"blank",!1,0,this.screenHeight-136);this.background.$zF[1].set_pixelSnapping(!1);this.game=new h;f.createImageSprite(this.screen,this.game,"blank",!1,0,this.screenHeight-136);this.game.$zF[1].set_pixelSnapping(!1);if("CITY"==d.scene){this.skyline1=(new h).add(new q("battle/scene","skyline",0,0));this.skyline.addChild(this.skyline1);this.skyline2=(new h).add(new q("battle/scene","skyline",this.skyWidth,0));this.skyline.addChild(this.skyline2);this.skyline3=
(new h).add(new q("battle/scene","skyline",2*this.skyWidth,0));this.skyline.addChild(this.skyline3);this.bg1=(new h).add(new q("battle/scene","buildingRear",0,0));this.background.addChild(this.bg1);this.bg2=(new h).add(new q("battle/scene","buildingRear",this.bgWidth,0));this.background.addChild(this.bg2);this.bg3=(new h).add(new q("battle/scene","buildingRear",2*this.bgWidth,0));this.background.addChild(this.bg3);this.road1=(new h).add(new q("battle/scene","road",0,0));this.game.addChild(this.road1);
this.road2=(new h).add(new q("battle/scene","road",this.roadWidth,0));this.game.addChild(this.road2);this.road3=(new h).add(new q("battle/scene","road",2*this.roadWidth,0));this.game.addChild(this.road3);this.addBGTree();this.nextBuildingX=0;do this.addBuilding();while(this.game.$zF[1].x.$aG+this.buildings[this.buildings.length-1].$zF[1].x.$aG<this.screenWidth+500)}else this.road1=(new h).add(new q("battle/scene","subway",0,0)),this.game.addChild(this.road1),this.road2=(new h).add(new q("battle/scene",
"subway",this.roadWidth,0)),this.game.addChild(this.road2),this.road3=(new h).add(new q("battle/scene","subway",2*this.roadWidth,0)),this.game.addChild(this.road3);this.shadow=(new h).add(new q("battle/"+d.vehicle,"shadow",120,this.screenHeight-70));this.screen.addChild(this.shadow);f.alignLeft(this.shadow);this.vehicle=(new h).add(new Lb(120,this.screenHeight-70));this.screen.addChild(this.vehicle);f.alignLeft(this.vehicle);this.vehicle.$zF[21].addShadow(this.shadow);961>this.screenWidth&&(b=this.vehicle.$zF[1].x,
b.set__(b.$aG-50));this.pickupLayer=new h;f.createImageSprite(this.screen,this.pickupLayer,"blank",!1,0,this.screenHeight-136);this.pickupLayer.$zF[1].set_pixelSnapping(!1);this.foreground=new h;f.createImageSprite(this.screen,this.foreground,"blank",!1,0,this.screenHeight-136);this.foreground.$zF[1].set_pixelSnapping(!1);"CITY"==d.scene?this.addFGTree():(b=(new h).add(new q("battle/scene","gradient",0,this.screenHeight-136)),this.screen.addChild(b),f.alignLeft(b));b=(new h).add(new q("battle/scene",
"hud",10,8));this.screen.addChild(b);f.alignLeft(b);var c=(new h).add(new q("battle/scene","hudGuages",10,8));this.screen.addChild(c);f.alignLeft(c);var e=(new h).add(new q("battle/scene","hudKraang",this.screenWidth-302,8));this.screen.addChild(e);f.alignRight(e);this.shellText=new h;f.createTextSprite(b,this.shellText,d.creditsFont,"Left",159,25,"000");p.instance(this.shellText.$zF[1],I).set_text(f.formatScore(this.shells));this.distText=new h;f.createTextSprite(b,this.distText,d.creditsFont,"Right",
298,30,"0");this.distText.$zF[1].set_pixelSnapping(!1);this.distText.$zF[1].setScale(0.8);this.kraangText=new h;f.createTextSprite(e,this.kraangText,d.creditsFont,"Right",82,25,"000");p.instance(this.kraangText.$zF[1],I).set_text(f.formatScore(this.score));this.healthbar=(new h).add(new q("battle/scene","bar10",390,12));c.addChild(this.healthbar);this.fuelbar=(new h).add(new q("battle/scene","bar10",390,48));c.addChild(this.fuelbar);this.trackerBar=(new h).add(new q("battle/scene","trackerBar",this.screenWidth/
2,this.screenHeight-30));this.screen.addChild(this.trackerBar);this.tracker=(new h).add(new q("battle/scene","trackerIcon",this.screenWidth/2-267,this.screenHeight-30));this.screen.addChild(this.tracker);d.isMobile&&(this.jumpBtn=new h,f.createImageSprite(this.screen,this.jumpBtn,"battle/jump",!0,80,this.screenHeight-80),f.alignLeft(this.jumpBtn),this.jumpBtn.$zF[1].alpha.set__(0.8),this.fireBtn=new h,f.createImageSprite(this.screen,this.fireBtn,"battle/fire",!0,80,this.screenHeight-200),f.alignLeft(this.fireBtn),
d.weapon?this.fireBtn.$zF[1].alpha.set__(0.8):this.fireBtn.$zF[1].set_visible(!1));this.inPlay=!0;var g=this.vehicle.$zF[1].x.$aG;this.vehicle.$zF[1].x.set__(-300);this.shadow.$zF[1].x.set__(-300);this.playVo("intro"+f.randomNumber(1,2));var k=new G;k.run(new F([new s(0.5),new r(function(){a.vehicle.$zF[1].x.animateTo(g+50,1,t.sineOut);a.shadow.$zF[1].x.animateTo(g+50,1,t.sineOut);if(!d.achieve4&&d.front&&d.side&&d.top){d.achieve4=!0;var b=(new h).add(new S("achieve4",a.screenWidth/2,160,A(a,a.tipCallback)));
a.screen.addChild(b);b.$zF[1].set_pixelSnapping(!1);b.$zF[1].setScale(0.7);b.$zF[1].set_pointerEnabled(!1)}}),new s(1.2),new r(function(){a.vehicle.$zF[1].x.animateTo(g,2,t.sineInOut);a.shadow.$zF[1].x.animateTo(g,2,t.sineInOut);a.playSound("go");k.run(new Ua(new F([new s(0.5),new r(function(){if(3>f.randomNumber(1,3))a.addPickups(),a.addPickup("pod",f.randomNumber(80,120)),a.addPickup("pod",f.randomNumber(80,120),f.randomNumber(50,200)),f.coinFlip()&&a.addPickup("pod",f.randomNumber(80,120),f.randomNumber(200,
250));else switch(f.randomNumber(1,6)){case 1:a.addObject("barricade");f.coinFlip()&&(a.addPickup("pod",f.randomNumber(80,120),200),a.addPickup("pod",f.randomNumber(80,120),90),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),110),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),160));break;case 2:f.coinFlip()&&a.addObject("cone",-60,60);f.coinFlip()&&a.addObject("cone",-65,20);a.addObject("barricade");f.coinFlip()&&a.addPickup("pod",f.randomNumber(f.randomNumber(80,120),200));break;case 3:"CITY"==
d.scene?a.addObject("ramp"):a.addObject("barricade");f.coinFlip()?(a.addPickup("shell",300,200),a.addPickup("shell",300,250)):(a.addPickup("bigshell",300,250),a.addPickup("bigshell",400,250));break;case 4:a.addObject("mine",50,f.randomNumber(20,80));break;case 5:f.coinFlip()&&a.addObject("cone"),f.coinFlip()&&a.addObject("cone",20,30),f.coinFlip()&&a.addObject("cone",40,60),f.coinFlip()&&(a.addPickup("pod",f.randomNumber(80,120)),a.addPickup("pod",f.randomNumber(50,300),90),f.coinFlip()&&a.addPickup("pod",
f.randomNumber(50,400),110),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),160))}}),new s(0.6),new r(function(){if(3>f.randomNumber(1,3))a.addPickups(),a.addPickup("pod",f.randomNumber(80,120),f.randomNumber(0,60)),f.coinFlip(),a.addPickup("pod",f.randomNumber(80,120),f.randomNumber(90,180)),f.coinFlip()&&a.addPickup("pod",f.randomNumber(80,120),f.randomNumber(210,250));else switch(f.randomNumber(1,5)){case 1:a.addObject("barricade");a.addObject("kraang",80,f.randomNumber(0,80));f.coinFlip()&&
a.addPickup("pod",f.randomNumber(50,200));break;case 2:a.addObject("barricade");a.addObject("kraang",80);a.addObject("kraang",f.randomNumber(130,100),f.randomNumber(50,80));f.coinFlip();a.addObject("kraang",230,f.randomNumber(0,80));break;case 3:a.addObject("barricade");a.addObject("barricade",80);f.coinFlip()&&(a.addPickup("pod",f.randomNumber(50,200)),a.addPickup("pod",f.randomNumber(50,300),90),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),110),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,
400),160));break;case 4:a.addObject("mine"),a.addObject("mine",50,f.randomNumber(50,80)),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,200))}}),new s(0.8),new r(function(){switch(f.randomNumber(1,4)){case 1:a.addPickup("pod",f.randomNumber(50,200));f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,300),90);break;case 2:a.addObject("barricade");a.addObject("kraang",80);a.addObject("kraang",f.randomNumber(130,180),f.randomNumber(50,80));f.coinFlip()&&a.addObject("kraang",230,f.randomNumber(0,80));
break;case 3:a.addObject("barricade");a.addObject("barricade",180);break;case 4:a.addObject("cone"),a.addObject("cone",20,30),a.addObject("cone",40,60),f.coinFlip()&&(a.addPickup("pod",f.randomNumber(80,120)),a.addPickup("pod",f.randomNumber(50,300),90),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),110),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),160))}}),new s(0.6),new r(function(){f.coinFlip()?(a.addPickup("pod",f.randomNumber(80,120)),a.addPickup("pod",f.randomNumber(150,300),
80),f.coinFlip()&&a.addPickup("pod",f.randomNumber(80,120),160)):a.addPickups();switch(f.randomNumber(1,6)){case 1:a.addObject("cone");a.addObject("cone",30,30);a.addObject("cone",60,60);break;case 2:a.addObject("cone");a.addObject("cone",20+f.randomNumber(-20,20),30);a.addObject("cone",40+f.randomNumber(-20,20),60);break;case 3:a.addObject("cone",0,f.randomNumber(0,60));break;case 4:a.addObject("tyres3",0,f.randomNumber(30,60))}f.coinFlip()&&(a.addPickup("pod",f.randomNumber(50,200)),a.addPickup("pod",
f.randomNumber(50,300),90),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),110),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),160))}),new s(0.6),new r(function(){switch(f.randomNumber(1,4)){case 1:a.addPickup("pod",f.randomNumber(50,200));f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,300),90);f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),110);f.coinFlip()&&a.addPickup("pod",f.randomNumber(250,450),110);break;case 2:a.addObject("barricade");a.addObject("kraang",80);a.addObject("kraang",
f.randomNumber(130,180),f.randomNumber(50,80));f.coinFlip()&&(a.addObject("barricade"),a.addObject("kraang",230,f.randomNumber(0,80)),f.coinFlip()&&(a.addObject("kraang",230+f.randomNumber(0,50),f.randomNumber(0,40)),a.addObject("kraang",230+f.randomNumber(50,100),f.randomNumber(40,80))));break;case 3:a.addObject("barricade");a.addObject("barricade",180);f.coinFlip()&&(a.addPickup("pod",f.randomNumber(50,200)),a.addPickup("pod",f.randomNumber(50,300),90),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,
400),110),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),160));break;case 4:"CITY"==d.scene?a.addObject("ramp"):a.addObject("barricade"),a.addPickup("shell",300,200),a.addPickup("bigshell",300,300),a.addPickup("shell",300,400)}}),new s(0.8),new r(function(){switch(f.randomNumber(1,6)){case 1:a.addObject("cone",40,0);a.addObject("cone",20,30);a.addObject("cone",0,60);break;case 2:a.addObject("cone",f.randomNumber(-20,20),30);a.addObject("cone",40+f.randomNumber(-20,20),30);a.addObject("cone",
80+f.randomNumber(-20,20),60);break;case 3:a.addObject("cone",0,f.randomNumber(0,60));f.coinFlip()&&a.addObject("cone",f.randomNumber(50,100),f.randomNumber(0,60));break;case 4:a.addObject("tyres3",0,f.randomNumber(30,60))}f.coinFlip()&&(a.addPickup("pod",f.randomNumber(50,200)),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,300),90),f.coinFlip()&&a.addPickup("pod",f.randomNumber(50,400),110))})])));a.owner.add(k)})]));this.owner.add(k)},onUpdate:function(a){var b=this;if(this.inPlay){this.bulletTimer-=
a;if(!this.gameOver){var c=!0;null!=this.van&&"DEAD"!=this.van.$zF[25].mode&&(c=!1);c&&(this.distance+=2*a,70<d.speed&&(this.distance+=0.5*a),p.instance(this.distText.$zF[1],I).set_text(p.string(this.distance|0)),c=this.distance/this.stageLength,0>c?c=0:1<c&&(c=1),this.tracker.$zF[1].x.set__(this.screenWidth/2-267+534*c),1<=c?(this.gameOver=!0,d.wonRound=!0,"CITY"==d.scene&&(d.tempHealth=this.health,d.tempFuel=this.fuel,d.score=this.score,d.shells=this.shells,d.pods=this.pods),this.vehicle.$zF[21].goal(),
"SEWER"==d.scene?(d.shells+=100,this.shells+=100,p.instance(this.shellText.$zF[1],I).set_text(f.formatScore(this.shells)),c=(new h).add(new S("goal",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback))),this.screen.addChild(c),!d.achieve2&&d.completeShellraiser&&d.completeWagon&&(d.achieve2=!0,c=(new h).add(new S("achieve2",this.screenWidth/2,160,A(this,this.tipCallback))),this.screen.addChild(c),c.$zF[1].set_pixelSnapping(!1),c.$zF[1].setScale(0.7),c.$zF[1].set_pointerEnabled(!1))):(c=
new G,c.run(new F([new s(1.5),new r(function(){b.gameOverCallback()})])),this.owner.add(c)),this.playVo("win"+f.randomNumber(1,3))):0.98<=c&&null==this.van&&this.spawnVan());this.fuel-=a;c=this.fuel/d.maxFuel;0>=c&&!this.gameOver?(this.gameOver=!0,this.fuelbar.$zF[20].loop("bar0"),this.vehicle.$zF[1].x.animateBy(-600,1,t.sineIn),this.shadow.$zF[1].x.animateBy(-600,1,t.sineIn),c=(new h).add(new S("fuelOut",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback))),this.screen.addChild(c),this.playVo("lose"+
f.randomNumber(1,4))):0.1>=c?this.fuelbar.$zF[20].loop("bar1"):0.2>=c?this.fuelbar.$zF[20].loop("bar2"):0.3>=c?this.fuelbar.$zF[20].loop("bar3"):0.4>=c?this.fuelbar.$zF[20].loop("bar4"):0.5>=c?this.fuelbar.$zF[20].loop("bar5"):0.6>=c?this.fuelbar.$zF[20].loop("bar6"):0.7>=c?this.fuelbar.$zF[20].loop("bar7"):0.8>=c?this.fuelbar.$zF[20].loop("bar8"):0.9>=c?this.fuelbar.$zF[20].loop("bar9"):this.fuelbar.$zF[20].loop("bar10");c=this.health/d.maxHealth;0>=c&&!this.gameOver?(this.gameOver=!0,this.healthbar.$zF[20].loop("bar0"),
this.vehicle.$zF[1].x.animateBy(-600,1,t.sineIn),this.shadow.$zF[1].x.animateBy(-600,1,t.sineIn),c=(new h).add(new S("healthOut",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback))),this.screen.addChild(c),this.playVo("lose"+f.randomNumber(1,4))):0.1>=c?this.healthbar.$zF[20].loop("bar1"):0.2>=c?this.healthbar.$zF[20].loop("bar2"):0.3>=c?this.healthbar.$zF[20].loop("bar3"):0.4>=c?this.healthbar.$zF[20].loop("bar4"):0.5>=c?this.healthbar.$zF[20].loop("bar5"):0.6>=c?this.healthbar.$zF[20].loop("bar6"):
0.7>=c?this.healthbar.$zF[20].loop("bar7"):0.8>=c?this.healthbar.$zF[20].loop("bar8"):0.9>=c?this.healthbar.$zF[20].loop("bar9"):this.healthbar.$zF[20].loop("bar10")}c=this.game.$zF[1].x;c.set__(c.$aG-this.scrollSpeed*a);this.pickupLayer.$zF[1].x.set__(this.game.$zF[1].x.$aG);c=this.foreground.$zF[1].x;c.set__(c.$aG-this.scrollSpeed*a*1.3);"CITY"==d.scene&&(c=this.background.$zF[1].x,c.set__(c.$aG-this.scrollSpeed*a*0.8),c=this.skyline.$zF[1].x,c.set__(c.$aG-this.scrollSpeed*a*0.2),this.skyline.$zF[1].x.$aG+
this.skyline1.$zF[1].x.$aG<-this.skyWidth-100&&(c=this.skyline1.$zF[1].x,c.set__(c.$aG+3*this.skyWidth)),this.skyline.$zF[1].x.$aG+this.skyline2.$zF[1].x.$aG<-this.skyWidth-100&&(c=this.skyline2.$zF[1].x,c.set__(c.$aG+3*this.skyWidth)),this.skyline.$zF[1].x.$aG+this.skyline3.$zF[1].x.$aG<-this.skyWidth-100&&(c=this.skyline3.$zF[1].x,c.set__(c.$aG+3*this.skyWidth)),this.background.$zF[1].x.$aG+this.bg1.$zF[1].x.$aG<-this.bgWidth-100&&(c=this.bg1.$zF[1].x,c.set__(c.$aG+3*this.bgWidth)),this.background.$zF[1].x.$aG+
this.bg2.$zF[1].x.$aG<-this.bgWidth-100&&(c=this.bg2.$zF[1].x,c.set__(c.$aG+3*this.bgWidth)),this.background.$zF[1].x.$aG+this.bg3.$zF[1].x.$aG<-this.bgWidth-100&&(c=this.bg3.$zF[1].x,c.set__(c.$aG+3*this.bgWidth)));this.game.$zF[1].x.$aG+this.road1.$zF[1].x.$aG<-this.roadWidth-100&&(c=this.road1.$zF[1].x,c.set__(c.$aG+3*this.roadWidth));this.game.$zF[1].x.$aG+this.road2.$zF[1].x.$aG<-this.roadWidth-100&&(c=this.road2.$zF[1].x,c.set__(c.$aG+3*this.roadWidth));this.game.$zF[1].x.$aG+this.road3.$zF[1].x.$aG<
-this.roadWidth-100&&(c=this.road3.$zF[1].x,c.set__(c.$aG+3*this.roadWidth),"CITY"!=d.scene&&null==this.van&&this.addArch(this.road3.$zF[1].x.$aG+341|0));"CITY"==d.scene&&(this.game.$zF[1].x.$aG+this.buildings[this.buildings.length-1].$zF[1].x.$aG<this.screenWidth+500&&this.addBuilding(),-1500>this.game.$zF[1].x.$aG+this.buildings[0].$zF[1].x.$aG&&(c=this.buildings[0],D.remove(this.buildings,c),c.dispose()),0<this.bgtrees.length&&-500>this.game.$zF[1].x.$aG+this.bgtrees[0].$zF[1].x.$aG&&(c=this.bgtrees[0],
D.remove(this.bgtrees,c),c.dispose()),0<this.fgtrees.length&&-900>this.foreground.$zF[1].x.$aG+this.fgtrees[0].$zF[1].x.$aG&&(c=this.fgtrees[0],D.remove(this.fgtrees,c),c.dispose()),this.bgTreeTimer-=a,0>this.bgTreeTimer&&this.addBGTree(),this.fgTreeTimer-=a,0>this.fgTreeTimer&&this.addFGTree());0<this.pickups.length&&-200>this.game.$zF[1].x.$aG+this.pickups[0].$zF[1].x.$aG&&(a=this.pickups[0],D.remove(this.pickups,a),a.dispose());0<this.objects.length&&-500>this.game.$zF[1].x.$aG+this.objects[0].$zF[1].x.$aG&&
(a=this.objects[0],D.remove(this.objects,a),a.dispose());if(!this.gameOver){a=0;for(c=this.pickups;a<c.length;){var e=c[a];++a;switch(d.vehicle){case "wagon":85>f.vectorDistance(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG,this.vehicle.$zF[1].x.$aG+25,this.game.$zF[1].y.$aG+e.$zF[1].y.$aG,this.vehicle.$zF[1].y.$aG-55)?e.$zF[23].hit()&&this.collidePickup(e):85>f.vectorDistance(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG,this.vehicle.$zF[1].x.$aG+150,this.game.$zF[1].y.$aG+e.$zF[1].y.$aG,this.vehicle.$zF[1].y.$aG-
55)&&e.$zF[23].hit()&&this.collidePickup(e);break;case "shellraiser":90>f.vectorDistance(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG,this.vehicle.$zF[1].x.$aG+40,this.game.$zF[1].y.$aG+e.$zF[1].y.$aG,this.vehicle.$zF[1].y.$aG-60)?e.$zF[23].hit()&&this.collidePickup(e):90>f.vectorDistance(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG,this.vehicle.$zF[1].x.$aG+195,this.game.$zF[1].y.$aG+e.$zF[1].y.$aG,this.vehicle.$zF[1].y.$aG-60)&&e.$zF[23].hit()&&this.collidePickup(e)}e.$zF[23].active&&"pod"==e.$zF[23].type&&this.game.$zF[1].x.$aG+
e.$zF[1].x.$aG-e.$zF[23].width<this.vehicle.$zF[1].x.$aG+this.vehicle.$zF[21].width+e.$zF[23].fireRange&&e.$zF[23].fire()&&(e=(new h).add(new $a("bolt_pod",e.$zF[1].x.$aG-33,e.$zF[1].y.$aG+17)),this.pickupLayer.addChild(e),this.bullets.push(e))}a=0;for(c=this.bullets;a<c.length;){e=c[a];++a;switch(d.vehicle){case "wagon":85>f.vectorDistance(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG,this.vehicle.$zF[1].x.$aG+25,this.game.$zF[1].y.$aG+e.$zF[1].y.$aG,this.vehicle.$zF[1].y.$aG-55)?e.$zF[30].hit()&&this.collideBolt(e):
85>f.vectorDistance(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG,this.vehicle.$zF[1].x.$aG+150,this.game.$zF[1].y.$aG+e.$zF[1].y.$aG,this.vehicle.$zF[1].y.$aG-55)&&e.$zF[30].hit()&&this.collideBolt(e);break;case "shellraiser":90>f.vectorDistance(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG,this.vehicle.$zF[1].x.$aG+40,this.game.$zF[1].y.$aG+e.$zF[1].y.$aG,this.vehicle.$zF[1].y.$aG-60)?e.$zF[30].hit()&&this.collideBolt(e):90>f.vectorDistance(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG,this.vehicle.$zF[1].x.$aG+195,this.game.$zF[1].y.$aG+
e.$zF[1].y.$aG,this.vehicle.$zF[1].y.$aG-60)&&e.$zF[30].hit()&&this.collideBolt(e)}-500>this.game.$zF[1].x.$aG+e.$zF[1].x.$aG&&(D.remove(this.bullets,e),e.dispose())}a=0;for(c=this.objects;a<c.length;)if(e=c[a],++a,this.game.$zF[1].x.$aG+e.$zF[1].x.$aG-e.$zF[24].width<this.vehicle.$zF[1].x.$aG+this.vehicle.$zF[21].width){if(this.game.$zF[1].x.$aG+e.$zF[1].x.$aG+e.$zF[24].width>this.vehicle.$zF[1].x.$aG-20)if(e.$zF[24].yRange(this.vehicle.$zF[21].jumpPos())){if(e.$zF[24].hit())switch(e.$zF[24].type){case "mine":this.vehicle.$zF[21].mine();
this.addDebris("mineBig",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.health-=15;break;case "ramp":this.vehicle.$zF[21].ramp();break;case "barricade":this.addDebris("burst",e.$zF[1].x.$aG,100);this.addDebris("large",e.$zF[1].x.$aG,
100);this.addDebris("large",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.health-=5;break;case "kraang":this.pickupLayer.addChild(e);
this.score++;this.health-=2;p.instance(this.kraangText.$zF[1],I).set_text(f.formatScore(this.score));this.addDebris("burst3",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,
110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);break;case "cone":this.addDebris("cone",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);break;case "tyres3":this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-20,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-40,!0);break;case "tyres5":this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-20,!0);this.addDebris("tyre",
e.$zF[1].x.$aG,e.$zF[1].y.$aG-40,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-60,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-80,!0);this.health-=1;break;case "crate":this.addDebris("cratepart1",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart2",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart3",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart4",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,
80),!0),this.addDebris("cratepart5",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0),this.addDebris("cratepart3",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart4",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.health-=1}}else if(e.$zF[24].yRange2(this.vehicle.$zF[21].jumpPos(),this.vehicle.$zF[1].x.$aG-this.game.$zF[1].x.$aG)&&e.$zF[24].hit(!0))switch(e.$zF[24].type){case "mine":this.vehicle.$zF[21].mine();this.addDebris("mineBig",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",
e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("mine",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.health-=15;break;case "ramp":this.addDebris("burst",e.$zF[1].x.$aG+50,150);this.addDebris("large",e.$zF[1].x.$aG,100);this.addDebris("large",e.$zF[1].x.$aG+50,150);this.addDebris("large",e.$zF[1].x.$aG+80,180);this.addDebris("debris",e.$zF[1].x.$aG,
100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG,100);this.addDebris("debris",e.$zF[1].x.$aG+50,150);this.addDebris("debris",e.$zF[1].x.$aG+50,160);this.addDebris("debris",e.$zF[1].x.$aG+50,170);this.addDebris("debris",e.$zF[1].x.$aG+50,180);this.addDebris("debris",e.$zF[1].x.$aG+50,150);this.addDebris("debris",e.$zF[1].x.$aG+50,160);this.addDebris("debris",e.$zF[1].x.$aG+
50,170);this.addDebris("debris",e.$zF[1].x.$aG+50,180);this.health-=8;break;case "kraang":this.pickupLayer.addChild(e);this.health-=2;this.score++;p.instance(this.kraangText.$zF[1],I).set_text(f.formatScore(this.score));this.addDebris("burst3",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,
e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);this.addDebris("shrapnel",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(40,110),!0);break;case "cone":this.addDebris("cone",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);break;case "tyres3":this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-20,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-40,!0);break;case "tyres5":this.addDebris("tyre",
e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-20,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-40,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-60,!0);this.addDebris("tyre",e.$zF[1].x.$aG,e.$zF[1].y.$aG-80,!0);this.health-=1;break;case "crate":this.addDebris("cratepart1",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart2",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart3",e.$zF[1].x.$aG,
e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart4",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart5",e.$zF[1].x.$aG,e.$zF[1].y.$aG,!0),this.addDebris("cratepart3",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.addDebris("cratepart4",e.$zF[1].x.$aG,e.$zF[1].y.$aG-f.randomNumber(0,80),!0),this.health-=1}}else"kraang"==e.$zF[24].type&&this.game.$zF[1].x.$aG+e.$zF[1].x.$aG-e.$zF[24].width<this.vehicle.$zF[1].x.$aG+this.vehicle.$zF[21].width+
e.$zF[24].fireRange&&e.$zF[24].fire()&&(e=(new h).add(new $a("bolt",e.$zF[1].x.$aG-80,e.$zF[1].y.$aG-70)),this.pickupLayer.addChild(e),this.bullets.push(e));a=0;for(c=this.playerBullets;a<c.length;){e=c[a];++a;for(var g=!1,k=0,l=this.pickups;k<l.length;){var m=l[k];++k;if(m.$zF[23].active&&"pod"==m.$zF[23].type&&40>f.vectorDistance(m.$zF[1].x.$aG,e.$zF[1].x.$aG,m.$zF[1].y.$aG,e.$zF[1].y.$aG)&&m.$zF[23].hit()){D.remove(this.pickups,m);g=!0;this.playSound(d.vehicle+"BulletHit");if("wagon"==d.vehicle){m=
[(new h).add(new q("battle/burst","idle",m.$zF[1].x.$aG,m.$zF[1].y.$aG))];this.game.addChild(m[0]);m[0].$zF[20].play("burst","idle");m[0].$zF[1].setTint(15438384);var n=new G;n.run(new F([new s(1),new r(function(a){return function(){a[0].dispose()}}(m))]))}else m=[(new h).add(new q("battle/"+d.vehicle,"blank",m.$zF[1].x.$aG,m.$zF[1].y.$aG))],this.game.addChild(m[0]),m[0].$zF[20].play("explosion","blank"),n=new G,n.run(new F([new s(1),new r(function(a){return function(){a[0].dispose()}}(m))]));m[0].add(n);
d.achievePods++;!d.achieve1&&d.achievePods>=d.achievePodsTotal&&(d.achieve1=!0,m=(new h).add(new S("achieve1",this.screenWidth/2,160,A(this,this.tipCallback))),this.screen.addChild(m),m.$zF[1].set_pixelSnapping(!1),m.$zF[1].setScale(0.7),m.$zF[1].set_pointerEnabled(!1))}}!g&&null!=this.van&&e.$zF[1].x.$aG>this.van.$zF[1].x.$aG-50-this.game.$zF[1].x.$aG&&e.$zF[1].y.$aG>this.screenHeight-275-this.game.$zF[1].y.$aG&&e.$zF[1].y.$aG<this.screenHeight-175-this.game.$zF[1].y.$aG&&this.van.$zF[25].hitTopKraang()&&
(g=!0,this.playSound(d.vehicle+"BulletHit"),"wagon"==d.vehicle?(g=[(new h).add(new q("battle/burst","idle",e.$zF[1].x.$aG,e.$zF[1].y.$aG))],this.game.addChild(g[0]),g[0].$zF[20].play("burst","idle"),g[0].$zF[1].setTint(15438384),k=new G,k.run(new F([new s(1),new r(function(a){return function(){a[0].dispose()}}(g))]))):(g=[(new h).add(new q("battle/"+d.vehicle,"blank",e.$zF[1].x.$aG,e.$zF[1].y.$aG))],this.game.addChild(g[0]),g[0].$zF[20].play("explosion","blank"),k=new G,k.run(new F([new s(1),new r(function(a){return function(){a[0].dispose()}}(g))]))),
g[0].add(k));e.$zF[1].x.$aG>this.screenWidth+500-this.game.$zF[1].x.$aG&&(D.remove(this.playerBullets,e),e.dispose(),null)}null!=this.van&&30>this.vehicle.$zF[21].jumpPos()&&this.van.$zF[1].x.$aG-150<this.vehicle.$zF[1].x.$aG+this.vehicle.$zF[21].width&&this.shuntVan()}}},collideBolt:function(a){this.health-=2;this.addDebris("bolt",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0)},collidePickup:function(a){switch(a.$zF[23].type){case "shell":this.shells+=10;p.instance(this.shellText.$zF[1],I).set_text(f.formatScore(this.shells));
D.remove(this.pickups,a);this.addBurst(0.6,this.game.$zF[1].x.$aG+a.$zF[1].x.$aG,this.game.$zF[1].y.$aG+a.$zF[1].y.$aG);d.achieveShells++;!d.achieve3&&d.achieveShells>=d.achieveShellsTotal&&(d.achieve3=!0,a=(new h).add(new S("achieve3",this.screenWidth/2,160,A(this,this.tipCallback))),this.screen.addChild(a),a.$zF[1].set_pixelSnapping(!1),a.$zF[1].setScale(0.7),a.$zF[1].set_pointerEnabled(!1));break;case "bigshell":this.shells+=50;p.instance(this.shellText.$zF[1],I).set_text(f.formatScore(this.shells));
D.remove(this.pickups,a);this.addBurst(1,this.game.$zF[1].x.$aG+a.$zF[1].x.$aG,this.game.$zF[1].y.$aG+a.$zF[1].y.$aG);d.achieveShells++;!d.achieve3&&d.achieveShells>=d.achieveShellsTotal&&(d.achieve3=!0,a=(new h).add(new S("achieve3",this.screenWidth/2,160,A(this,this.tipCallback))),this.screen.addChild(a),a.$zF[1].set_pixelSnapping(!1),a.$zF[1].setScale(0.7),a.$zF[1].set_pointerEnabled(!1));break;case "pod":this.pickupLayer.addChild(a),this.pods++,p.instance(this.kraangText.$zF[1],I).set_text(f.formatScore(this.score)),
this.addDebris("burst3",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),this.addDebris("shrapnel",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),this.addDebris("shrapnel",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),this.addDebris("shrapnel",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),this.addDebris("shrapnel",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),this.addDebris("shrapnel",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),this.addDebris("shrapnel",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),this.addDebris("shrapnel",a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),this.addDebris("shrapnel",
a.$zF[1].x.$aG,a.$zF[1].y.$aG,!0),D.remove(this.pickups,a),d.achievePods++,!d.achieve1&&d.achievePods>=d.achievePodsTotal&&(d.achieve1=!0,a=(new h).add(new S("achieve1",this.screenWidth/2,160,A(this,this.tipCallback))),this.screen.addChild(a),a.$zF[1].set_pixelSnapping(!1),a.$zF[1].setScale(0.7),a.$zF[1].set_pointerEnabled(!1))}},addBurst:function(a,b,c){},addDebrisScreen:function(a,b,c,d){d=new h;d.add(new nb(a,b,c));this.screen.addChild(d);"burst"==a&&(a=d.$zF[1].scaleX,a.set__(0.5*a.$aG),a=d.$zF[1].scaleY,
a.set__(0.5*a.$aG))},addDebris:function(a,b,c,d){null==d&&(d=!1);var f=new h;d?f.add(new nb(a,this.game.$zF[1].x.$aG+b,c+this.game.$zF[1].y.$aG)):f.add(new nb(a,this.game.$zF[1].x.$aG+b,this.screenHeight-c));this.screen.addChild(f)},addArch:function(a){var b=(new h).add(new Mb("archBack",a,this.ground));this.game.addChild(b);this.objects.push(b);a=(new h).add(new Nb("archFront",a,this.ground));this.pickupLayer.addChild(a);this.pickups.push(a);this.depthSortPickups()},addObject:function(a,b,c){null==
c&&(c=0);null==b&&(b=0);if(0.96>this.distance/this.stageLength)if("kraang"!=a||d.kraangOn)a=(new h).add(new Mb(a,-this.game.$zF[1].x.$aG+this.screenWidth+100+b,this.ground-c)),this.game.addChild(a),this.objects.push(a);else switch(f.randomNumber(1,6)){case 1:this.addObject("crate",b+15,c);break;case 2:this.addObject("crate",b+15,c);break;case 3:this.addObject("tyres3",b+15,c);break;case 4:this.addObject("tyres5",b+15,c);break;case 5:this.addObject("tyres5",b+15,c);break;case 6:this.addObject("cone",
b+15,c),this.addObject("cone",b+15+f.randomNumber(-10,20),c+f.randomNumber(10,20))}},addPickups:function(){var a=f.randomNumber(40,270);switch(f.randomNumber(1,5)){case 1:this.addPickup("bigshell",a);break;case 2:this.addPickup("shell",a);this.addPickup("shell",a,100);this.addPickup("shell",a,200);break;case 3:this.addPickup("shell",a);this.addPickup("shell",a,100);this.addPickup("shell",a-60);this.addPickup("shell",a-60,100);break;case 4:this.addPickup("bigshell",a),f.coinFlip()&&this.addPickup("bigshell",
a,90)}},addPickup:function(a,b,c){null==c&&(c=0);a=(new h).add(new Nb(a,-this.game.$zF[1].x.$aG+this.screenWidth+100+c,this.ground-b));this.pickupLayer.addChild(a);this.pickups.push(a);this.depthSortPickups()},depthSortPickups:function(){for(var a=0,b=this.pickups;a<b.length;){var c=b[a];++a;"archFront"==c.$zF[23].type&&this.pickupLayer.addChild(c,!0)}},addBuilding:function(){var a=(new h).add(new md(f.randomNumber(1,4),this.nextBuildingX,0));this.game.addChild(a);this.buildings.push(a);this.nextBuildingX+=
a.$zF[27].width},addBGTree:function(){var a=(new h).add(new q("battle/scene","tree"+f.randomNumber(1,2),-this.game.$zF[1].x.$aG+this.screenWidth+500,0));this.game.addChild(a);this.bgtrees.push(a);this.bgTreeTimer+=f.randomNumberFloat(0.4,2)},addFGTree:function(){var a=new h;f.coinFlip()?a.add(new q("battle/scene","hydrant",-this.foreground.$zF[1].x.$aG+this.screenWidth+500,0)):a.add(new q("battle/scene","treeFront"+f.randomNumber(1,2),-this.foreground.$zF[1].x.$aG+this.screenWidth+500,0));this.foreground.addChild(a);
this.fgtrees.push(a);this.fgTreeTimer+=f.randomNumberFloat(0.8,2.5)},spawnVan:function(){this.van=(new h).add(new nd(this.screenWidth+500,this.screenHeight-60,A(this,this.vanFire)));this.screen.addChild(this.van);f.alignRight(this.van);this.owner.$zF[11].stopAll();this.screen.addChild(this.trackerBar);this.screen.addChild(this.tracker);null},shuntVan:function(){if(null!=this.van&&"DRIVEON"==this.van.$zF[25].mode){this.van.$zF[25].shunt()&&(this.addDebrisScreen("van",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+
f.randomNumber(-50,10),!0),this.addDebrisScreen("van",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("van",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("van",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("tyre",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+
f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-
150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",
this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0),this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0));this.addDebrisScreen("burst",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG-30,!0);this.addDebrisScreen("van",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);this.addDebrisScreen("shrapnel",
this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);
this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);this.addDebrisScreen("shrapnel",this.van.$zF[1].x.$aG-150,this.van.$zF[1].y.$aG+f.randomNumber(-50,10),!0);var a=this.vehicle.$zF[1].x;a.set__(a.$aG-20);this.vehicle.$zF[1].x.animateBy(20,
1.5,t.sineInOut);a=this.shadow.$zF[1].x;a.set__(a.$aG-20);this.shadow.$zF[1].x.animateBy(20,1.5,t.sineInOut)}},vanFire:function(a){switch(a){case "top":a=(new h).add(new $a("bolt",this.van.$zF[1].x.$aG-90-this.game.$zF[1].x.$aG,this.van.$zF[1].y.$aG-170-this.game.$zF[1].y.$aG));this.pickupLayer.addChild(a);this.bullets.push(a);break;case "side":a=(new h).add(new $a("bolt",this.van.$zF[1].x.$aG-30-this.game.$zF[1].x.$aG,this.van.$zF[1].y.$aG-80-this.game.$zF[1].y.$aG)),this.pickupLayer.addChild(a),
this.bullets.push(a)}},tipCallback:function(a){d.shells=this.shells;d.distance=this.distance|0;d.pods=this.pods;d.kraang=this.score;switch(a){case "healthOut":a=(new h).add(new ob(this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(a);this.playSound("game-over_shutdown");this.hidePauseBtn();break;case "fuelOut":a=(new h).add(new ob(this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(a);this.playSound("game-over_shutdown");this.hidePauseBtn();
break;case "goal":a=(new h).add(new ob(this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(a);this.playSound("screech_start");"wagon"==d.vehicle?d.completeWagon=!0:d.completeShellraiser=!0;this.hidePauseBtn();break;case "gameover":this.gameOverCallback()}},handleTouchDown:function(a){var b=a.viewX/d.scale-d.offsetX/2;a=a.viewY/d.scale-d.offsetY/2;if(this.inPlay&&!this.gameOver)if(60>f.vectorDistance(this.jumpBtn.$zF[1].x.$aG,b,this.jumpBtn.$zF[1].y.$aG,a))this.vehicle.$zF[21].jump();
else if(60>f.vectorDistance(this.fireBtn.$zF[1].x.$aG,b,this.fireBtn.$zF[1].y.$aG,a)&&d.weapon&&0>this.bulletTimer){this.bulletTimer=0.5;this.vehicle.$zF[21].fire();var b=-this.vehicle.$zF[1].rotation.$aG,c=168;"wagon"==d.vehicle&&(c=145);a=140*Math.cos(b/180*Math.PI)-c*Math.sin(b/180*Math.PI);var c=140*Math.sin(b/180*Math.PI)+c*Math.cos(b/180*Math.PI),e=2E3*Math.cos(b/180*Math.PI),g=2E3*Math.sin(b/180*Math.PI),k=new h;k.add(new Ob(-this.game.$zF[1].x.$aG+this.vehicle.$zF[1].x.$aG+a,-this.game.$zF[1].y.$aG+
this.vehicle.$zF[1].y.$aG-c,e,-g));k.$zF[1].rotation.set__(-b);this.game.addChild(k);this.playerBullets.push(k)}},keyDownHandler:function(a){if(this.inPlay&&!this.gameOver)if(a.key==g.W||a.key==g.Up)this.vehicle.$zF[21].jump();else if(a.key==g.Space&&d.weapon&&0>this.bulletTimer){this.bulletTimer=0.5;this.vehicle.$zF[21].fire();var b=-this.vehicle.$zF[1].rotation.$aG,c=168;"wagon"==d.vehicle&&(c=145);var e=140*Math.cos(b/180*Math.PI)-c*Math.sin(b/180*Math.PI),c=140*Math.sin(b/180*Math.PI)+c*Math.cos(b/
180*Math.PI),k=2E3*Math.cos(b/180*Math.PI),l=2E3*Math.sin(b/180*Math.PI),m=new h;m.add(new Ob(-this.game.$zF[1].x.$aG+this.vehicle.$zF[1].x.$aG+e,-this.game.$zF[1].y.$aG+this.vehicle.$zF[1].y.$aG-c,k,-l));m.$zF[1].rotation.set__(-b);this.game.addChild(m);this.playerBullets.push(m)}d.testMode&&(a.key==g.P?this.addPickup("shell",40):a.key==g.O?this.addPickup("pod",200):a.key==g.I?this.addPickup("pod",150):a.key==g.U?this.addPickup("pod",100):a.key==g.R?this.addObject("ramp"):a.key==g.K?(this.addObject("kraang"),
this.addObject("kraang",f.randomNumber(50,100),f.randomNumber(50,80))):a.key==g.T?this.vehicle.$zF[21].ramp():a.key==g.V?this.distance=95:a.key==g.B?null!=this.van&&this.shuntVan():a.key==g.N?(this.addObject("tyres3",20,40),this.addObject("tyres3",0,20)):a.key==g.M?(this.addObject("cone"),this.addObject("cone",20,30),this.addObject("cone",40,60)):a.key==g.Z?null:a.key==g.Number0?this.vehicle.$zF[21].sewerRamp():a.key==g.A?(a=0,this.road1.$zF[1].x.$aG+341>a&&(a=this.road1.$zF[1].x.$aG+341),this.road2.$zF[1].x.$aG+
341>a&&(a=this.road2.$zF[1].x.$aG+341),this.road3.$zF[1].x.$aG+341>a&&(a=this.road3.$zF[1].x.$aG+341),this.addObject("archBack",a|0),this.addPickup("archFront",a|0,0)):a.key==g.G&&null)},keyUpHandler:function(a){},playVo:function(a){!m.hidden.$aG&&d.vo&&(this.sfx=d.pack.getSound("audio/battle/vo/"+a).play())},playSound:function(a){m.hidden.$aG||(this.sfx=d.pack.getSound("audio/battle/"+a).play())},__class__:ld});var $a=function(a,b,c){this.active=!0;z.call(this);this.type=a;this.x=b|0;this.y=c|0};
k["project.Bolt"]=$a;$a.__name__=!0;$a.__super__=z;$a.prototype=x(z.prototype,{get_entitySlot:function(){return 30},onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].centerAnchor();this.owner.$zF[1].setXY(this.x,this.y);this.owner.$zF[1].set_pixelSnapping(!1);this.bolt=new h;switch(this.type){case "bolt":this.dx=-500;this.dy=0;this.bolt.add(new q("battle/kraang","bolt",0,0));break;case "bolt_pod":this.dx=-700,this.dy=500,this.bolt.add(new q("battle/kraang","bolt_pod",
0,0))}this.owner.addChild(this.bolt)},hit:function(){return this.active?(this.active=!1,this.bolt.$zF[1].set_visible(!1),!0):!1},onUpdate:function(a){var b=this.owner.$zF[1].x;b.set__(b.$aG+this.dx*a);b=this.owner.$zF[1].y;b.set__(b.$aG+this.dy*a)},__class__:$a});var od=function(a,b,c,e){this.boughtWheels=this.boughtPaint=this.boughtTop=this.boughtSide=this.boughtFront=this.boughtWeapon=this.boughtFuel=!1;z.call(this);this.screenWidth=a;this.screenHeight=b;this.gameOverCallback=c;this.hudCallback=
e;this.sparksMold=new H(d.pack,"build/sparks")};k["project.Build"]=od;od.__name__=!0;od.__super__=z;od.prototype=x(z.prototype,{get_entitySlot:function(){return 17},onAdded:function(){this.connect1(m.$uG.$GG.down,A(this,this.onPointerDown));this.connect1(m.$uG.$GG.move,A(this,this.onPointerMove));this.startGame();this.musicLoop=d.pack.getSound("audio/build_loop").loop();this.musicLoop.volume.set__(0);this.musicLoop.volume.animateTo(0.8,0.5)},stopGame:function(){this.inPlay=!1;d.credits=this.credits;
this.musicLoop.volume.animateTo(0,0.5)},startGame:function(){var a=this;d.scene="CITY";this.score=0;this.credits=d.credits;this.purchased=[];d.hide_paint=d.paint;d.hide_front=d.front;d.hide_side=d.side;d.hide_top=d.top;d.hide_weapon=d.weapon;d.hide_wheels=d.wheels;d.hide_fueltank=d.fueltank;var b="";0<d.weaponRound&&d.weaponRound<d.round&&""==b&&50<d.shotsFired&&(b="weapon",d.weapon=!1,d.hide_weapon=d.weapon,d.weaponRound=0,d.shotsFired=0);0<d.weaponRound&&d.weaponRound<d.round-2&&""==b&&f.coinFlip()&&
(b="weapon",d.weapon=!1,d.hide_weapon=d.weapon,d.weaponRound=0,d.shotsFired=0);0<d.sideRound&&d.sideRound<d.round-2&&""==b&&f.coinFlip()&&(b="side",d.side=!1,d.hide_side=d.side,d.sideRound=0);0<d.topRound&&d.topRound<d.round-2&&""==b&&f.coinFlip()&&(b="top",d.top=!1,d.hide_top=d.top,d.topRound=0);0<d.frontRound&&d.frontRound<d.round-2&&""==b&&f.coinFlip()&&(b="front",d.front=!1,d.hide_front=d.front,d.frontRound=0);0<d.wheelsRound&&d.wheelsRound<d.round-2&&""==b&&f.coinFlip()&&(b="wheels",d.wheels=
!1,d.hide_wheels=d.wheels,d.wheelsRound=0);0<d.fueltankRound&&d.fueltankRound<d.round-2&&""==b&&f.coinFlip()&&(b="fuel",d.fueltank=!1,d.hide_fueltank=d.fueltank,d.fueltankRound=0);this.screen=(new h).add(new Q(16777215,d.staticWidth,d.staticHeight));this.owner.addChild(this.screen);var c=new h;f.createImageSprite(this.screen,c,"build/background",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);c=new h;f.createImageSprite(this.screen,c,"build/shadow_mikey",!0,this.screenWidth/2+360,this.screenHeight-
185);this.mikey=(new h).add(new q("build/turtles","mikey_idle",this.screenWidth/2+345,this.screenHeight-158));this.screen.addChild(this.mikey);this.leo=(new h).add(new q("build/turtles","leo_idle",this.screenWidth/2+415,this.screenHeight-156));this.screen.addChild(this.leo);this.leo.add(new oa(0.95));this.vehicle=(new h).add(new q("build/"+d.vehicle,"blank",this.screenWidth/2-400,this.screenHeight-450));this.screen.addChild(this.vehicle);this.front=(new h).add(new q("build/"+d.vehicle,"frontArmour",
0,0));this.vehicle.addChild(this.front);this.front.$zF[1].set_visible(d.hide_front);this.body=(new h).add(new q("build/"+d.vehicle,"body",0,0));this.vehicle.addChild(this.body);this.paint=(new h).add(new q("build/"+d.vehicle,"paint",0,0));this.vehicle.addChild(this.paint);d.hide_paint||this.paint.$zF[1].alpha.set__(0);this.weaponBurst=new h;f.createImageSprite(this.vehicle,this.weaponBurst,"build/hud/burst",!0,420,115);this.weapon=(new h).add(new q("build/"+d.vehicle,"gun",0,0));this.vehicle.addChild(this.weapon);
this.weapon.$zF[1].set_visible(d.hide_weapon);this.top=(new h).add(new q("build/"+d.vehicle,"topArmour",0,0));this.vehicle.addChild(this.top);this.top.$zF[1].set_visible(d.hide_top);this.side=(new h).add(new q("build/"+d.vehicle,"sideArmour",0,0));this.vehicle.addChild(this.side);this.side.$zF[1].set_visible(d.hide_side);this.frontWeld=(new h).add(new q("build/"+d.vehicle,"frontWeld",0,0));this.vehicle.addChild(this.frontWeld);this.frontWeld.$zF[1].alpha.set__(0);this.topWeld=(new h).add(new q("build/"+
d.vehicle,"topWeld",0,0));this.vehicle.addChild(this.topWeld);this.topWeld.$zF[1].alpha.set__(0);this.sideWeld=(new h).add(new q("build/"+d.vehicle,"sideWeld",0,0));this.vehicle.addChild(this.sideWeld);this.sideWeld.$zF[1].alpha.set__(0);this.wheel1Burst=new h;f.createImageSprite(this.vehicle,this.wheel1Burst,"build/hud/burst",!0,255,325);this.wheel2Burst=new h;f.createImageSprite(this.vehicle,this.wheel2Burst,"build/hud/burst",!0,510,325);this.wheels=d.hide_wheels?(new h).add(new q("build/"+d.vehicle,
"wheelsCaps",0,0)):(new h).add(new q("build/"+d.vehicle,"wheelsBare",0,0));this.vehicle.addChild(this.wheels);this.wheels.add(new oa(0));c=new h;f.createImageSprite(this.screen,c,"build/shadow",!0,this.screenWidth/2-308,this.screenHeight-78);this.raph=(new h).add(new q("build/turtles","raph_idle",this.screenWidth/2-310,this.screenHeight-80));this.screen.addChild(this.raph);c=new h;f.createImageSprite(this.screen,c,"build/shadow",!0,this.screenWidth/2+262,this.screenHeight-58);this.donny=(new h).add(new q("build/turtles",
"donny_idle",this.screenWidth/2+270,this.screenHeight-60));this.screen.addChild(this.donny);this.hud=(new h).add(new pd(this.screenWidth/2,-55,A(this,this.buyPart),A(this,this.openHud)));this.screen.addChild(this.hud);c=new h;f.createImageSprite(this.screen,c,"build/hud/credits_frame",!1,20,this.screenHeight-175);f.alignLeft(c);c=new h;f.createImageSprite(this.screen,c,"build/hud/shell_credit_large",!0,55,this.screenHeight-150);f.alignLeft(c);this.creditsText=new h;f.createTextSprite(this.screen,
this.creditsText,d.creditsFont,"Left",85,this.screenHeight-168,p.string(this.credits));f.alignLeft(this.creditsText);c=new h;f.createImageSprite(this.screen,c,"build/hud/build_icons_group",!0,100,this.screenHeight-62);f.alignLeft(c);this.healthbar=(new h).add(new q("battle/scene","bar10",43,9));c.addChild(this.healthbar);this.fuelbar=(new h).add(new q("battle/scene","bar10",43,47));c.addChild(this.fuelbar);this.speedbar=(new h).add(new q("battle/scene","bar10",43,87));c.addChild(this.speedbar);this.playBtn=
new h;f.createImageSprite(this.screen,this.playBtn,"buttons/BTN_ok",!0,this.screenWidth-70,this.screenHeight-70);f.alignRight(this.playBtn);this.resetBtn=new h;f.createImageSprite(this.screen,this.resetBtn,"buttons/BTN_refresh",!0,this.screenWidth-70,this.screenHeight-170);f.alignRight(this.resetBtn);this.resetBtn.$zF[1].alpha.set__(0);this.resetBtn.$zF[1].set_visible(!1);this.weaponBurst.$zF[1].set_pixelSnapping(!1);this.wheel1Burst.$zF[1].set_pixelSnapping(!1);this.wheel2Burst.$zF[1].set_pixelSnapping(!1);
this.weaponBurst.$zF[1].alpha.set__(0);this.wheel1Burst.$zF[1].alpha.set__(0);this.wheel2Burst.$zF[1].alpha.set__(0);"wagon"!=d.vehicle&&(c=this.weaponBurst.$zF[1].x,c.set__(c.$aG-70),c=this.weaponBurst.$zF[1].y,c.set__(c.$aG-10),c=this.wheel1Burst.$zF[1].x,c.set__(c.$aG-30),c=this.wheel2Burst.$zF[1].x,c.set__(c.$aG+10));this.inPlay=!0;switch(b){case "side":b=(new h).add(new S(b+"Lose",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(b);break;case "top":b=(new h).add(new S(b+
"Lose",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(b);break;case "front":b=(new h).add(new S(b+"Lose",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(b);break;case "wheels":b=(new h).add(new S(b+"Lose",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(b);break;case "weapon":b=(new h).add(new S(b+"Lose",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(b);
break;case "fuel":b=(new h).add(new S(b+"Lose",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(b);break;default:1<d.round&&!d.quitTip&&(d.quitTip=!0,b=(new h).add(new S("quit",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback))),this.screen.addChild(b))}this.getStats();this.playSound("UI_Begin_Gong");d.startTip?(b=new G,b.run(new F([new s(0.5),new r(function(){var b=(new h).add(new S("start",a.screenWidth/2,a.screenHeight/2,A(a,a.tipCallback)));
a.screen.addChild(b);a.playVO("Mikey-hellow")})]))):(b=new G,b.run(new F([new s(0.5),new r(function(){switch(f.randomNumber(1,3)){case 1:a.playVO("Raph-bad");break;case 2:a.playVO("Leo-city");break;case 3:a.playVO("Mikey-boi")}})])));this.owner.add(b)},addSparks:function(a,b){var c=this.sparksMold.createEmitter().once();c.emitX.set__(a);c.emitY.set__(b);c=(new h).add(c);this.screen.addChild(c);c.$zF[1].alpha.set__(f.randomNumberFloat(0.4,0.9))},openHud:function(a){this.hudCallback(a)},buyPart:function(a,
b){var c=this;if("openhud"==a)this.wheels.$zF[9].scale.animateTo(0,0.3);else if(b<=this.credits)if(-1==this.purchased.indexOf(a)){var e=(new h).add(new S(a,this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(e);this.partPrice=b}else e=(new h).add(new S("alreadyOwn",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback))),this.screen.addChild(e),this.playSound("UI_Select");else{var g=new h;f.createTextSprite(this.screen,g,d.creditsFont,"Left",85,this.screenHeight-
168,p.instance(this.creditsText.$zF[1],I).get_text());f.alignLeft(g);g.$zF[1].setTint(16711680);g.$zF[1].alpha.set__(0);g.$zF[1].alpha.animateTo(0.8,0.2);e=(new h).add(new S("notenoughcredits",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback)));this.screen.addChild(e);this.playVO("Mikey-all");e=new G;e.run(new F([new s(0.3),new r(function(){g.$zF[1].alpha.animateTo(0,0.5);c.getStats()}),new s(0.5),new r(function(){g.dispose()})]));g.add(e);this.playSound("UI_Select")}},spend:function(a){this.oldCredits=
this.credits;this.credits-=a;this.spendTimer=0},onUpdate:function(a){this.oldCredits>this.credits&&(this.spendTimer+=a,0.02<this.spendTimer&&(this.spendTimer=0,this.oldCredits-=10,this.oldCredits<this.credits&&(this.oldCredits=this.credits),p.instance(this.creditsText.$zF[1],I).set_text(p.string(this.oldCredits))));var b=this.weaponBurst.$zF[1].rotation;b.set__(b.$aG+100*a);b=this.wheel1Burst.$zF[1].rotation;b.set__(b.$aG+100*a);b=this.wheel2Burst.$zF[1].rotation;b.set__(b.$aG+100*a)},onPointerDown:function(a){if(a.hit==
this.playBtn.$zF[1])switch(a=(new h).add(new S("prepare",this.screenWidth/2,this.screenHeight/2,A(this,this.tipCallback))),this.screen.addChild(a),this.playSound("UI_Play"),f.randomNumber(1,3)){case 1:this.playVO("Mikey-quick");break;case 2:this.playVO("Donnie-move");break;case 3:this.playVO("Mikey-yeah")}else a.hit==this.resetBtn.$zF[1]&&(this.purchased=[],this.oldCredits=this.credits=d.credits,p.instance(this.creditsText.$zF[1],I).set_text(p.string(this.credits)),this.resetBtn.$zF[1].alpha.set__(0),
this.resetBtn.$zF[1].set_visible(!1),this.boughtWheels&&(this.boughtWheels=!1,d.hide_wheels=!1,this.wheels.$zF[20].loop("wheelsBare")),this.boughtPaint&&(this.boughtPaint=!1,d.hide_paint=!1,this.paint.$zF[1].alpha.animateTo(0,0.2)),this.boughtTop&&(this.boughtTop=!1,d.hide_top=!1,this.top.$zF[1].set_visible(!1)),this.boughtSide&&(this.boughtSide=!1,d.hide_side=!1,this.side.$zF[1].set_visible(!1)),this.boughtFront&&(this.boughtFront=!1,d.hide_front=!1,this.front.$zF[1].set_visible(!1)),this.boughtWeapon&&
(this.boughtWeapon=!1,d.hide_weapon=!1,this.weapon.$zF[1].set_visible(!1)),this.boughtFuel&&(this.boughtFuel=!1,d.hide_fueltank=!1),this.hud.$zF[31].update(!0),this.wheels.$zF[9].scale.animateTo(0,0.3),this.getStats(),this.playSound("UI_Back"),f.coinFlip()?this.playVO("Donnie-idea"):this.playVO("Mikey-loco"))},tipCallback:function(a){var b=this;if("prepare"==a)this.boughtWheels&&(d.wheels=!0,d.speed+=20,d.wheelsRound=d.round),this.boughtPaint&&(d.paint=!0),this.boughtTop&&(d.top=!0,d.health+=10,d.topRound=
d.round),this.boughtSide&&(d.side=!0,d.health+=10,d.sideRound=d.round),this.boughtFront&&(d.front=!0,d.health+=10,d.frontRound=d.round),this.boughtWeapon&&(d.weapon=!0,d.health+=10,d.weaponRound=d.round),this.boughtFuel&&(d.fueltank=!0,d.fuel+=30,d.fueltankRound=d.round),this.hud.$zF[31].close(),this.wheels.$zF[9].scale.animateTo(1,1),this.playBtn.$zF[1].set_pointerEnabled(!1),this.resetBtn.$zF[1].set_pointerEnabled(!1),this.playBtn.$zF[1].alpha.animateTo(0,0.5),this.resetBtn.$zF[1].alpha.animateTo(0,
0.5),this.hud.$zF[31].close(!0),a=new G,a.run(new F([new s(2),new r(function(){b.playSound("UI_UltraCharged");b.gameOverCallback()})])),this.owner.add(a),this.playSound("UI_Play"),this.playSound("rev_single");else if("wheels"==a||"paint"==a||"top_shield"==a||"side_shield"==a||"front_shield"==a||"weapon"==a||"fuel"==a){this.purchased.push(a);this.playSound("click");switch(a){case "wheels":this.wheels.$zF[20].loop("wheelsCaps");this.boughtWheels=!0;d.hide_wheels=!0;this.wheels.$zF[9].scale.animateTo(1,
0.4);this.playSound("single-drill");this.playSound("rev_single");this.wheel1Burst.$zF[1].alpha.animateTo(0.6,0.5);this.wheel2Burst.$zF[1].alpha.animateTo(0.6,0.5);"WAGON"==d.vehicle?(this.wheel1Burst.$zF[1].setScale(0.5),this.wheel1Burst.$zF[1].scaleX.animateTo(1,0.4),this.wheel1Burst.$zF[1].scaleY.animateTo(1,0.4)):(this.wheel1Burst.$zF[1].setScale(0.8),this.wheel1Burst.$zF[1].scaleX.animateTo(1.4,0.4),this.wheel1Burst.$zF[1].scaleY.animateTo(1.4,0.4));this.wheel2Burst.$zF[1].setScale(0.5);this.wheel2Burst.$zF[1].scaleX.animateTo(1,
0.4);this.wheel2Burst.$zF[1].scaleY.animateTo(1,0.4);this.addSparks(this.wheel1Burst.$zF[1].x.$aG+90,this.wheel1Burst.$zF[1].y.$aG+90);this.addSparks(this.wheel2Burst.$zF[1].x.$aG+90,this.wheel2Burst.$zF[1].y.$aG+90);a=new G;a.run(new F([new s(0.6),new r(function(){b.wheels.$zF[9].scale.animateTo(0,1,t.sineOut)}),new s(0.2),new r(function(){var a=new h;f.createTextSprite(b.screen,a,d.priceFont,"Center",b.screenWidth/2,b.screenHeight/2+70,"+30 SPEED");a.$zF[1].alpha.set__(0);a.$zF[1].alpha.animateTo(1,
0.5,t.sineOut);b.playSound("impact"+f.randomNumber(1,3));var c=new G;c.run(new F([new s(0.5),new r(function(){a.$zF[1].y.animateBy(-100,1.5,t.sineOut);a.$zF[1].alpha.animateTo(0,1.5,t.sineOut)})]));a.add(c);b.wheel1Burst.$zF[1].alpha.animateTo(0,0.5);b.wheel2Burst.$zF[1].alpha.animateTo(0,0.5);b.wheel1Burst.$zF[1].scaleX.animateTo(0.5,0.5);b.wheel1Burst.$zF[1].scaleY.animateTo(0.5,0.5);b.wheel2Burst.$zF[1].scaleX.animateTo(0.5,0.5);b.wheel2Burst.$zF[1].scaleY.animateTo(0.5,0.5)})]));this.wheels.add(a);
break;case "paint":this.boughtPaint=!0;d.hide_paint=!0;a=new G;a.run(new F([new s(0.4),new r(function(){b.paint.$zF[1].alpha.animateTo(1,0.5);b.playSound("spray")})]));this.paint.add(a);break;case "top_shield":this.boughtTop=!0;d.hide_top=!0;a=new G;a.run(new F([new s(0.4),new r(function(){b.top.$zF[1].alpha.set__(0);b.top.$zF[1].alpha.animateTo(1,0.3);b.top.$zF[1].set_visible(!0);b.top.$zF[1].y.set__(-25);b.buildSound()}),new s(0.2),new r(function(){b.top.$zF[1].y.animateTo(0,0.3,t.bounceOut)}),
new s(0.2),new r(function(){var a=new h;f.createTextSprite(b.screen,a,d.priceFont,"Center",b.screenWidth/2,b.screenHeight/2+70,"+10 SHIELDS");a.$zF[1].alpha.set__(0);a.$zF[1].alpha.animateTo(1,0.5,t.sineOut);b.playSound("impact"+f.randomNumber(1,3));var c=new G;c.run(new F([new s(0.5),new r(function(){a.$zF[1].y.animateBy(-100,1.5,t.sineOut);a.$zF[1].alpha.animateTo(0,1.5,t.sineOut)})]));a.add(c);b.topWeld.$zF[1].alpha.animateTo(1,0.5);b.addSparks(b.screenWidth/2-90,b.screenHeight-290);b.addSparks(b.screenWidth/
2+90,b.screenHeight-290);c=new G;c.run(new F([new s(0.8),new r(function(){b.topWeld.$zF[1].alpha.animateTo(0,0.5)})]));b.topWeld.add(c)})]));this.top.add(a);break;case "side_shield":this.boughtSide=!0;d.hide_side=!0;a=new G;a.run(new F([new s(0.4),new r(function(){b.side.$zF[1].alpha.set__(0);b.side.$zF[1].alpha.animateTo(1,0.3);b.side.$zF[1].set_visible(!0);b.side.$zF[1].y.set__(25);b.buildSound()}),new s(0.2),new r(function(){b.side.$zF[1].y.animateTo(0,0.3,t.bounceOut)}),new s(0.2),new r(function(){var a=
new h;f.createTextSprite(b.screen,a,d.priceFont,"Center",b.screenWidth/2,b.screenHeight/2+70,"+10 SHIELDS");a.$zF[1].alpha.set__(0);a.$zF[1].alpha.animateTo(1,0.5,t.sineOut);b.playSound("impact"+f.randomNumber(1,3));var c=new G;c.run(new F([new s(0.5),new r(function(){a.$zF[1].y.animateBy(-100,1.5,t.sineOut);a.$zF[1].alpha.animateTo(0,1.5,t.sineOut)})]));a.add(c);b.sideWeld.$zF[1].alpha.animateTo(1,0.5);b.addSparks(b.screenWidth/2-70,b.screenHeight-240);b.addSparks(b.screenWidth/2+80,b.screenHeight-
220);c=new G;c.run(new F([new s(0.8),new r(function(){b.sideWeld.$zF[1].alpha.animateTo(0,0.5)})]));b.sideWeld.add(c)})]));this.side.add(a);break;case "front_shield":this.boughtFront=!0;d.hide_front=!0;a=new G;a.run(new F([new s(0.4),new r(function(){b.front.$zF[1].alpha.set__(0);b.front.$zF[1].alpha.animateTo(1,0.3);b.front.$zF[1].set_visible(!0);b.front.$zF[1].x.set__(25);b.buildSound()}),new s(0.2),new r(function(){b.front.$zF[1].x.animateTo(0,0.3,t.bounceOut)}),new s(0.2),new r(function(){var a=
new h;f.createTextSprite(b.screen,a,d.priceFont,"Center",b.screenWidth/2,b.screenHeight/2+70,"+30 SHIELDS");a.$zF[1].alpha.set__(0);a.$zF[1].alpha.animateTo(1,0.5,t.sineOut);b.playSound("impact"+f.randomNumber(1,3));var c=new G;c.run(new F([new s(0.5),new r(function(){a.$zF[1].y.animateBy(-100,1.5,t.sineOut);a.$zF[1].alpha.animateTo(0,1.5,t.sineOut)})]));a.add(c);b.frontWeld.$zF[1].alpha.animateTo(1,0.5);b.addSparks(b.screenWidth/2+200,b.screenHeight-140);c=new G;c.run(new F([new s(0.8),new r(function(){b.frontWeld.$zF[1].alpha.animateTo(0,
0.5)})]));b.frontWeld.add(c)})]));this.front.add(a);break;case "weapon":this.boughtWeapon=!0;d.hide_weapon=!0;a=new G;a.run(new F([new s(0.4),new r(function(){b.weapon.$zF[1].alpha.set__(0);b.weapon.$zF[1].alpha.animateTo(1,0.3);b.weapon.$zF[1].set_visible(!0);b.weapon.$zF[1].y.set__(-25);b.buildSound();b.weaponBurst.$zF[1].setScale(0.5);b.weaponBurst.$zF[1].scaleX.animateTo(1,0.4);b.weaponBurst.$zF[1].scaleY.animateTo(1,0.4);b.weaponBurst.$zF[1].alpha.animateTo(0.6,0.4)}),new s(0.2),new r(function(){b.weapon.$zF[1].y.animateTo(0,
0.3,t.bounceOut)}),new s(0.2),new r(function(){var a=new h;f.createTextSprite(b.screen,a,d.priceFont,"Center",b.screenWidth/2,b.screenHeight/2+70,"WEAPON ACTIVATED!");a.$zF[1].alpha.set__(0);a.$zF[1].alpha.animateTo(1,0.5,t.sineOut);b.playSound("impact"+f.randomNumber(1,3));var c=new G;c.run(new F([new s(0.5),new r(function(){a.$zF[1].y.animateBy(-100,1.5,t.sineOut);a.$zF[1].alpha.animateTo(0,1.5,t.sineOut)})]));a.add(c);b.weaponBurst.$zF[1].alpha.animateTo(0,0.5);b.weaponBurst.$zF[1].scaleX.animateTo(0.5,
0.5);b.weaponBurst.$zF[1].scaleY.animateTo(0.5,0.5);b.addSparks(b.weaponBurst.$zF[1].x.$aG+45,b.weaponBurst.$zF[1].y.$aG+160)})]));this.weapon.add(a);break;case "fuel":this.boughtFuel=!0;d.hide_fueltank=!0;var c=new h;f.createTextSprite(this.screen,c,d.priceFont,"Center",this.screenWidth/2,this.screenHeight/2+70,"+30 FUEL");c.$zF[1].alpha.set__(0);c.$zF[1].alpha.animateTo(1,0.5,t.sineOut);this.playSound("impact"+f.randomNumber(1,3));a=new G;a.run(new F([new s(0.5),new r(function(){c.$zF[1].y.animateBy(-100,
1.5,t.sineOut);c.$zF[1].alpha.animateTo(0,1.5,t.sineOut)})]));c.add(a)}this.hud.$zF[31].update(!0);this.spend(this.partPrice);this.playBtn.$zF[1].set_visible(!0);this.resetBtn.$zF[1].set_visible(!0);this.playBtn.$zF[1].alpha.animateTo(1,0.5);this.resetBtn.$zF[1].alpha.animateTo(1,0.5);this.donny.$zF[20].play("donny_point","donny_idle");d.startTip&&(a=new G,a.run(new F([new s(2.2),new r(function(){var a=(new h).add(new S("reset",b.screenWidth/2,b.screenHeight/2,A(b,b.tipCallback)));b.screen.addChild(a)})])),
this.owner.add(a))}else switch(a){case "sideLose":this.side.$zF[1].set_visible(!1)}this.getStats()},getStats:function(){d.speed=70;d.fuel=70;d.health=100;var a=d.health;if(this.boughtFront||d.front)a+=60;if(this.boughtSide||d.side)a+=20;if(this.boughtTop||d.top)a+=20;var b=d.speed;if(this.boughtWheels||d.wheels)b+=30;var c=d.fuel;if(this.boughtFuel||d.fueltank)c+=30;d.speed=b;d.fuel=c;d.health=a;70<c?this.fuelbar.$zF[20].loop("bar10"):this.fuelbar.$zF[20].loop("bar7");70<b?this.speedbar.$zF[20].loop("bar10"):
this.speedbar.$zF[20].loop("bar7");100==a?this.healthbar.$zF[20].loop("bar5"):120==a?this.healthbar.$zF[20].loop("bar6"):140==a?this.healthbar.$zF[20].loop("bar7"):160==a?this.healthbar.$zF[20].loop("bar8"):180==a?this.healthbar.$zF[20].loop("bar9"):this.healthbar.$zF[20].loop("bar10")},onPointerMove:function(a){f.rolloverImage(this.playBtn,"buttons/BTN_ok","buttons/BTN_ok_rollover",a);f.rolloverImage(this.resetBtn,"buttons/BTN_refresh","buttons/BTN_refresh_rollover",a)},buildSound:function(){switch(f.randomNumber(1,
3)){case 1:this.playSound("single-drill");break;case 2:this.playSound("drill");break;case 3:this.playSound("ratchet")}this.playSound("welding-sparks")},playVO:function(a){!m.hidden.$aG&&d.vo&&(this.sfx=d.pack.getSound("audio/build/vo/"+a).play())},playSound:function(a){m.hidden.$aG||(this.sfx=d.pack.getSound("audio/build/"+a).play())},__class__:od});var Va=function(a,b,c,d){z.call(this);this.x=a|0;this.y=b|0;this.partName=c;this.callback=d;this.setPrice()};k["project.BuildBtn"]=Va;Va.__name__=!0;
Va.__super__=z;Va.prototype=x(z.prototype,{get_entitySlot:function(){return 32},onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.thisSprite=this.owner.$zF[1];this.thisSprite.setXY(this.x,this.y);this.btn=new h;f.createImageSprite(this.owner,this.btn,"build/hud/item_frame",!0,0,0);this.icon=new h;f.createImageSprite(this.owner,this.icon,"build/hud/"+d.vehicle+"/"+this.partName,!0,0,0);this.priceText=new h;f.createTextSprite(this.owner,this.priceText,d.priceFont,"Left",-5,-75,
p.string(this.price));this.shell=new h;f.createImageSprite(this.owner,this.shell,"build/hud/shell_credit_small",!0,-30,-57);this.priceText.$zF[1].set_pointerEnabled(!1);this.shell.$zF[1].set_pointerEnabled(!1);this.icon.$zF[1].set_pointerEnabled(!1);this.addStat();this.connect1(m.$uG.$GG.down,A(this,this.handlePointerDown));d.isMobile||this.connect1(m.$uG.$GG.move,A(this,this.handlePointerMove))},handlePointerDown:function(a){a.hit==this.btn.$zF[1]&&(this.callback(this.partName,this.price),this.playSound("click"))},
handlePointerMove:function(a){f.rolloverImage(this.btn,"build/hud/item_frame","build/hud/item_frame_rollover",a)},addStat:function(){var a=new h,b=new h;this.setPrice();switch(this.partName){case "wheels":f.createImageSprite(this.owner,a,"build/hud/icon_speed",!0,-20,58);f.createTextSprite(this.owner,b,d.priceFont,"Left",-3,40,"+30");break;case "top_shield":f.createImageSprite(this.owner,a,"build/hud/icon_shield",!0,-20,58);f.createTextSprite(this.owner,b,d.priceFont,"Left",-3,40,"+10");break;case "side_shield":f.createImageSprite(this.owner,
a,"build/hud/icon_shield",!0,-20,58);f.createTextSprite(this.owner,b,d.priceFont,"Left",-3,40,"+10");break;case "front_shield":f.createImageSprite(this.owner,a,"build/hud/icon_shield",!0,-20,58);f.createTextSprite(this.owner,b,d.priceFont,"Left",-3,40,"+30");break;case "fuel":f.createImageSprite(this.owner,a,"build/hud/icon_fuel",!0,-20,58),f.createTextSprite(this.owner,b,d.priceFont,"Left",-3,40,"+30")}},setPrice:function(){var a=new Ka(v.parse(d.pack.getFile("translation.xml").toString()).firstElement());
if("wagon"==d.vehicle)switch(this.partName){case "wheels":this.price=p.parseInt(a.node.resolve("wagonWheels").get_innerData());break;case "paint":this.price=p.parseInt(a.node.resolve("wagonPaint").get_innerData());break;case "top_shield":this.price=p.parseInt(a.node.resolve("wagonTop").get_innerData());break;case "side_shield":this.price=p.parseInt(a.node.resolve("wagonSide").get_innerData());break;case "front_shield":this.price=p.parseInt(a.node.resolve("wagonFront").get_innerData());break;case "weapon":this.price=
p.parseInt(a.node.resolve("wagonWeapon").get_innerData());break;case "fuel":this.price=p.parseInt(a.node.resolve("wagonFuel").get_innerData())}else switch(this.partName){case "wheels":this.price=p.parseInt(a.node.resolve("shellraiserWheels").get_innerData());break;case "paint":this.price=p.parseInt(a.node.resolve("shellraiserPaint").get_innerData());break;case "top_shield":this.price=p.parseInt(a.node.resolve("shellraiserTop").get_innerData());break;case "side_shield":this.price=p.parseInt(a.node.resolve("shellraiserSide").get_innerData());
break;case "front_shield":this.price=p.parseInt(a.node.resolve("shellraiserFront").get_innerData());break;case "weapon":this.price=p.parseInt(a.node.resolve("shellraiserWeapon").get_innerData());break;case "fuel":this.price=p.parseInt(a.node.resolve("shellraiserFuel").get_innerData())}},enable:function(a,b){null==b&&(b=!1);a?b?(this.priceText.$zF[1].alpha.animateTo(0,0.4),this.shell.$zF[1].alpha.animateTo(0,0.4),this.icon.$zF[1].alpha.animateTo(0.5,0.4)):(this.priceText.$zF[1].alpha.set__(0),this.shell.$zF[1].alpha.set__(0),
this.icon.$zF[1].alpha.set__(0.5)):b?(this.priceText.$zF[1].alpha.animateTo(1,0.4),this.shell.$zF[1].alpha.animateTo(1,0.4),this.icon.$zF[1].alpha.animateTo(1,0.4)):(this.priceText.$zF[1].alpha.set__(1),this.shell.$zF[1].alpha.set__(1),this.icon.$zF[1].alpha.set__(1))},playSound:function(a){m.hidden.$aG||(this.sfx=d.pack.getSound("audio/"+a).play())},__class__:Va});var pd=function(a,b,c,d){this.btnY=76;this.center=470;this.gap=170;this.sliding=!1;this.index=1;this.parts="wheels side_shield top_shield front_shield fuel weapon paint".split(" ");
z.call(this);this.x=a|0;this.y=b|0;this.buyPart=c;this.hudCallback=d;this.active=!1};k["project.BuildHud"]=pd;pd.__name__=!0;pd.__super__=z;pd.prototype=x(z.prototype,{get_entitySlot:function(){return 31},onAdded:function(){this.owner.add(new T(d.pack.getTexture("build/hud/drop_down_menu")));this.thisSprite=this.owner.$zF[1];this.thisSprite.centerAnchor();this.thisSprite.setXY(this.x,this.y);this.buttons=[];this.buildButtons(!0);this.update(!1);this.leftBtn=new h;f.createImageSprite(this.owner,this.leftBtn,
"buttons/BTN_item_back",!0,this.center-455,this.btnY);this.rightBtn=new h;f.createImageSprite(this.owner,this.rightBtn,"buttons/BTN_item_next",!0,this.center+455,this.btnY);this.leftBtn.$zF[1].set_visible(!1);this.rightBtn.$zF[1].set_visible(!1);this.arrowBtn=new h;f.createImageSprite(this.owner,this.arrowBtn,"buttons/BTN_down-arrow",!0,this.center,165);this.open(!1);this.connect1(m.$uG.$GG.down,A(this,this.handlePointerDown));d.isMobile||this.connect1(m.$uG.$GG.move,A(this,this.handlePointerMove))},
buildButtons:function(a){null==a&&(a=!1);for(var b=0,c=this.buttons;b<c.length;){var d=c[b];++b;d.dispose()}b=[];c=this.index;for(d=0;6>d;)d++,this.index++,this.index==this.parts.length&&(this.index=0),b.push(this.parts[this.index]);this.index=c;this.btn1=(new h).add(new Va(this.center-2*this.gap,this.btnY,b[0],A(this,this.clickItemBtn)));this.owner.addChild(this.btn1);this.btn2=(new h).add(new Va(this.center-this.gap,this.btnY,b[1],A(this,this.clickItemBtn)));this.owner.addChild(this.btn2);this.btn3=
(new h).add(new Va(this.center,this.btnY,b[2],A(this,this.clickItemBtn)));this.owner.addChild(this.btn3);this.btn4=(new h).add(new Va(this.center+this.gap,this.btnY,b[3],A(this,this.clickItemBtn)));this.owner.addChild(this.btn4);this.btn5=(new h).add(new Va(this.center+2*this.gap,this.btnY,b[4],A(this,this.clickItemBtn)));this.owner.addChild(this.btn5);this.buttons=[this.btn1,this.btn2,this.btn3,this.btn4,this.btn5,this.btn5];if(a)for(a=0,b=this.buttons;a<b.length;)c=b[a],++a,c.$zF[1].set_visible(!1);
null!=this.arrowBtn&&this.owner.addChild(this.arrowBtn,!0)},handlePointerDown:function(a){a.hit==this.arrowBtn.$zF[1]?this.active?this.close():this.open():this.sliding||(a.hit==this.leftBtn.$zF[1]?(this.index-=1,0>this.index&&(this.index=this.parts.length-1),this.buildButtons(),this.update(!1),this.playSound("click")):a.hit==this.rightBtn.$zF[1]&&(this.index+=1,this.index>this.parts.length-1&&(this.index=0),this.buildButtons(),this.update(!1),this.playSound("click")),null)},handlePointerMove:function(a){this.sliding||
(f.rolloverImage(this.arrowBtn,"buttons/BTN_down-arrow","buttons/BTN_down-arrow_rollover",a),f.rolloverImage(this.leftBtn,"buttons/BTN_item_back","buttons/BTN_item_back_rollover",a),f.rolloverImage(this.rightBtn,"buttons/BTN_item_next","buttons/BTN_item_next_rollover",a))},clickItemBtn:function(a,b){this.buyPart(a,b)},update:function(a){for(var b=0,c=this.buttons;b<c.length;){var e=c[b];++b;"wheels"==e.$zF[32].partName?e.$zF[32].enable(d.hide_wheels,a):"weapon"==e.$zF[32].partName?e.$zF[32].enable(d.hide_weapon,
a):"paint"==e.$zF[32].partName?e.$zF[32].enable(d.hide_paint,a):"fuel"==e.$zF[32].partName?e.$zF[32].enable(d.hide_fueltank,a):"top_shield"==e.$zF[32].partName?e.$zF[32].enable(d.hide_top,a):"side_shield"==e.$zF[32].partName?e.$zF[32].enable(d.hide_side,a):"front_shield"==e.$zF[32].partName&&e.$zF[32].enable(d.hide_front,a)}},open:function(a){null==a&&(a=!0);var b=this;a&&this.hudCallback(!0);this.active||(this.active=!0,this.thisSprite.y.animateTo(this.y+145,0.3,t.sineOut),this.playSound("UI_SlideIn"));
this.arrowBtn.$zF[1].rotation.animateTo(180,0.3,t.sineOut);this.arrowBtn.$zF[1].y.animateTo(190,0.3,t.sineOut);this.sliding=!0;a=new G;a.run(new F([new s(0.3),new r(function(){b.sliding=!1})]));this.arrowBtn.add(a);a=0;for(var c=this.buttons;a<c.length;){var d=c[a];++a;d.$zF[1].set_visible(!0);this.leftBtn.$zF[1].set_visible(!0);this.rightBtn.$zF[1].set_visible(!0)}this.buyPart("openhud",0)},close:function(a){null==a&&(a=!1);var b=this;this.hudCallback(!1);this.active&&(this.active=!1,this.thisSprite.y.animateTo(this.y,
0.3,t.sineIn),this.playSound("UI_SlideIn"));a&&this.thisSprite.y.animateTo(this.y-100,0.5,t.sineIn);this.arrowBtn.$zF[1].rotation.animateTo(0,0.3,t.sineOut);this.arrowBtn.$zF[1].y.animateTo(165,0.3,t.sineOut);this.sliding=!0;a=new G;a.run(new F([new s(0.3),new r(function(){b.sliding=!1;for(var a=0,d=b.buttons;a<d.length;){var f=d[a];++a;f.$zF[1].set_visible(!1);b.leftBtn.$zF[1].set_visible(!1);b.rightBtn.$zF[1].set_visible(!1)}})]));this.arrowBtn.add(a)},playSound:function(a){m.hidden.$aG||(this.sfx=
d.pack.getSound("audio/build/"+a).play())},__class__:pd});var md=function(a,b,c){z.call(this);this.x=b|0;this.y=c|0;this.building=a;switch(this.building){case 1:this.width=1011;break;case 2:this.width=428;break;case 3:this.width=428;break;case 4:this.width=473}};k["project.Building"]=md;md.__name__=!0;md.__super__=z;md.prototype=x(z.prototype,{get_entitySlot:function(){return 27},onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].setXY(this.x,this.y);var a=(new h).add(new q("battle/scene",
"building"+this.building,0,0));this.owner.addChild(a)},__class__:md});var Ob=function(a,b,c,d){this.dr=250;z.call(this);this.x=a|0;this.y=b|0;this.dx=c;this.dy=d};k["project.Bullet"]=Ob;Ob.__name__=!0;Ob.__super__=z;Ob.prototype=x(z.prototype,{get_entitySlot:function(){return 22},onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].centerAnchor();this.owner.$zF[1].setXY(this.x,this.y);this.owner.$zF[1].set_pixelSnapping(!1);this.bullet=new h;this.bullet.add(new q("battle/"+
d.vehicle,"bullet",0,0));this.owner.addChild(this.bullet);this.dr=f.randomNumber(500,800)},onUpdate:function(a){var b=this.owner.$zF[1].x;b.set__(b.$aG+this.dx*a);b=this.owner.$zF[1].y;b.set__(b.$aG+this.dy*a);"wagon"!=d.vehicle&&(b=this.owner.$zF[1].rotation,b.set__(b.$aG+this.dr*a))},__class__:Ob});var d=function(){};k["project.Ctx"]=d;d.__name__=!0;d.initFonts=function(){d.translations=new Ka(v.parse(d.pack.getFile("translation.xml").toString()).firstElement());d.headerFont=new sa(d.pack,"fonts/priceFont");
d.bodyFont=new sa(d.pack,"fonts/bodyFont");d.priceFont=new sa(d.pack,"fonts/priceFont");d.creditsFont=new sa(d.pack,"fonts/creditsFont")};var nb=function(a,b,c){this.gravity=1200;z.call(this);this.type=a;this.x=b|0;this.y=c|0;"burst"!=this.type&&(this.x+=f.randomNumber(-15,15),this.y+=f.randomNumber(-15,15))};k["project.Debris"]=nb;nb.__name__=!0;nb.__super__=z;nb.prototype=x(z.prototype,{get_entitySlot:function(){return 26},onAdded:function(){var a=this;this.owner.add(new T(d.pack.getTexture("blank")));
this.owner.$zF[1].centerAnchor();this.owner.$zF[1].setXY(this.x,this.y);this.owner.$zF[1].set_pixelSnapping(!1);var b=this.type;switch(this.type){case "debris":b+=f.randomNumber(1,5);break;case "mine":b+=f.randomNumber(1,5);break;case "mineBig":b+=f.randomNumber(1,3);break;case "large":b="debris6";break;case "burst":b+=f.randomNumber(1,2);break;case "shrapnel":b+=f.randomNumber(1,7);break;case "burst3":this.type="burst";break;case "van":b="debris2"}var c=new h;"bolt"==this.type?(c.add(new q("battle/kraang",
"blank",0,0)),c.$zF[20].play("bolt_hit","blank"),this.owner.$zF[1].rotation.set__(f.randomNumber(-20,20)),this.owner.$zF[1].setScale(f.randomNumberFloat(0.6,1))):c.add(new q("battle/scene",b,0,0));this.owner.addChild(c);this.hasGravity=!0;f.coinFlip()?this.dx=f.randomNumber(-150,-50):this.dx=f.randomNumber(100,800);this.dy=f.randomNumber(-900,-50);f.coinFlip()?this.dr=f.randomNumber(100,400):this.dr=f.randomNumber(-400,-100);if("burst"==this.type)c.$zF[1].alpha.set__(f.randomNumberFloat(0.5,0.8)),
c.$zF[1].alpha.animateTo(0,0.1,t.sineOut);else if("cone"==this.type||"tyres3"==this.type||"tyres5"==this.type)this.dx=f.randomNumber(100,600),this.dy=f.randomNumber(-600,-50);b=new G;b.run(new F([new s(f.randomNumberFloat(0,0.4)),new r(function(){c.$zF[1].alpha.animateTo(0,0.6,t.sineIn)}),new s(1.5),new r(function(){a.owner.dispose()})]));this.owner.add(b)},onUpdate:function(a){if("burst"!=this.type&&"bolt"!=this.type){var b=this.owner.$zF[1].x;b.set__(b.$aG+this.dx*a);b=this.owner.$zF[1].y;b.set__(b.$aG+
this.dy*a);b=this.owner.$zF[1].rotation;b.set__(b.$aG+this.dr*a);this.hasGravity&&(this.dy+=this.gravity*a)}},__class__:nb});var qd=function(){this.audioEnabled=!1;this.musicVolume=0.5;this.transitionTime=0.4;this.transitionColour=16777215;z.call(this)};k["project.Game"]=qd;qd.__name__=!0;qd.__super__=z;qd.prototype=x(z.prototype,{get_entitySlot:function(){return 16},onAdded:function(){m.$uG.$GG.down.connect(A(this,this.onPointerDown));m.$uG.$GG.up.connect(A(this,this.onPointerUp));m.$uG.$GG.move.connect(A(this,
this.onPointerMove));m.$uG.$IG.resize.connect(A(this,this.onResize));this.status_font=new sa(d.pack,"fonts/tinyfont");d.initFonts();d.isMobile&&(m.$uG.$JG.up.connect(A(this,this.handleTouchUp)),m.$uG.$JG.down.connect(A(this,this.handleTouchDown)),m.$uG.$JG.move.connect(A(this,this.handleTouchMove)));m.$uG.getKeyboard().down.connect(A(this,this.keyDownHandler));m.$uG.getKeyboard().up.connect(A(this,this.keyUpHandler));this.myXML=new Ka(v.parse(d.pack.getFile("config.xml").toString()).firstElement());
"YES"==this.myXML.node.resolve("showFPS").get_innerData()?d.showFPS=!0:d.showFPS=!1;"YES"==this.myXML.node.resolve("testMode").get_innerData()?d.testMode=!0:d.testMode=!1;"YES"==this.myXML.node.resolve("showDebugInfo").get_innerData()?d.showDebugInfo=!0:d.showDebugInfo=!1;"YES"==this.myXML.node.resolve("showKraang").get_innerData()?d.kraangOn=!0:d.kraangOn=!1;"YES"==this.myXML.node.resolve("wagon").get_innerData()?d.wagon=!0:d.wagon=!1;"YES"==this.myXML.node.resolve("sponsor").get_innerData()?d.sponsor=
!0:d.sponsor=!1;d.minScaleSize=p.parseInt(this.myXML.node.resolve("scaleBelow").get_innerData());d.sponsorTime=p.parseInt(this.myXML.node.resolve("sponsorTime").get_innerData());this.myXML=new Ka(v.parse(d.pack.getFile("translation.xml").toString()).firstElement());d.startCredits=p.parseInt(this.myXML.node.resolve("startCredits").get_innerData());this.screen=(new h).add(new Q(16777215,d.staticWidth,d.staticHeight));m.root.addChild(this.screen);this.onResize();this.screen.dispose();this.init();d.sponsor?
this.sponsorScreen():this.homeScreen()},onPointerDown:function(a){switch(this.gameState){case "HOME":a.hit==this.muteBtn.$zF[1]?(d.muted?(this.muteBtn.dispose(),this.muteBtn=new h,f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_ON",!0,this.screenWidth-55,55),f.mute(!1),this.playSound("click")):(this.muteBtn.dispose(),this.muteBtn=new h,f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_OFF",!0,this.screenWidth-55,55),f.mute(!0)),this.muteBtn.$zF[1].set_pixelSnapping(!1),
this.muteBtn.$zF[1].setScale(0.8),f.alignRight(this.muteBtn)):(this.init(),this.fadeOut(A(this,this.helpScreen)),this.playSound("build/UI_Play"),null==this.menuLoop&&(this.menuLoop=d.pack.getSound("audio/menu_loop").loop(),this.menuLoop.volume.set__(this.musicVolume)));break;case "WIN":a.hit==this.btn1.$zF[1]&&(this.fadeOut(A(this,this.startBuild)),this.playSound("build/UI_Play"));break;case "HELP1":a.hit==this.btn1.$zF[1]&&(this.helpScreen2(),this.playSound("build/UI_Play"));break;case "HELP2":a.hit==
this.btn1.$zF[1]&&(this.fadeOut(A(this,this.chassisScreen)),this.playSound("build/UI_Play"));break;case "CHASSIS":a.hit==this.btn1.$zF[1]?(d.vehicle="shellraiser",this.fadeOut(A(this,this.startBuild)),this.playSound("build/UI_Play"),this.menuLoop.volume.animateTo(0,0.5)):a.hit==this.btn2.$zF[1]&&(d.vehicle="wagon",this.fadeOut(A(this,this.startBuild)),this.playSound("build/UI_Play"));break;case "BUILD":a.hit==this.pauseBtn.$zF[1]&&(this.pauseGame(!0,a),this.playSound("click"));break;case "GAME":a.hit==
this.pauseBtn.$zF[1]&&(this.pauseGame(!0,a),this.playSound("click"))}},onPointerUp:function(a){},onPointerMove:function(a){switch(this.gameState){case "HOME":d.muted?f.rolloverImage(this.muteBtn,"buttons/BTN_sound_OFF","buttons/BTN_sound_OFF_rollover",a):f.rolloverImage(this.muteBtn,"buttons/BTN_sound_ON","buttons/BTN_sound_ON_rollover",a);break;case "WIN":f.rolloverImage(this.btn1,"buttons/BTN_ok","buttons/BTN_ok_rollover",a);break;case "HELP1":f.rolloverImage(this.btn1,"buttons/BTN_ok_small","buttons/BTN_ok_small_rollover",
a);break;case "HELP2":f.rolloverImage(this.btn1,"buttons/BTN_ok_small","buttons/BTN_ok_small_rollover",a);break;case "CHASSIS":f.rolloverImage(this.btn1,"buttons/BTN_ok_small","buttons/BTN_ok_small_rollover",a);f.rolloverImage(this.btn2,"buttons/BTN_ok_small","buttons/BTN_ok_small_rollover",a);break;case "GAME":f.rolloverImage(this.pauseBtn,"buttons/BTN_pause","buttons/BTN_pause_rollover",a)}},init:function(){d.round=1;d.speed=70;d.fuel=70;d.health=100;d.paint=!1;d.front=!1;d.side=!1;d.top=!1;d.weapon=
!1;d.wheels=!1;d.fueltank=!1;d.paintRound=0;d.frontRound=0;d.sideRound=0;d.topRound=0;d.weaponRound=0;d.wheelsRound=0;d.fueltankRound=0;d.shotsFired=0;d.credits=d.startCredits},sponsorScreen:function(){var a=this;this.inPlay=!1;this.screen=(new h).add(new Q(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var b=new h;f.createImageSprite(this.screen,b,"build/background",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);b=new h;f.createImageSprite(this.screen,b,"screens/sub_screen",
!0,this.screenWidth/2+30,this.screenHeight/2);b=new h;f.createXMLSprite(this.screen,b,d.priceFont,"Center",this.screenWidth/2,this.screenHeight/2-240,d.translations.node.resolve("sponsored"));b=new h;f.createImageSprite(this.screen,b,"sponsorLogo",!0,this.screenWidth/2,this.screenHeight/2+10);this.gameState="SPONSOR";this.onResize();b=new G;b.run(new F([new s(d.sponsorTime),new r(function(){a.fadeOut(A(a,a.homeScreen))})]));this.owner.add(b)},homeScreen:function(){this.inPlay=!1;this.screen=(new h).add(new Q(394758,
960,560));m.root.addChild(this.screen);this.getScreenSize();var a=new h;f.createImageSprite(this.screen,a,"screens/background",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);a=new h;f.createImageSprite(this.screen,a,"screens/title",!0,this.screenWidth/2+250+0.3*(this.screenWidth-960),this.screenHeight-420);a=new h;f.createImageSprite(this.screen,a,"blank",!0,this.screenWidth/2,this.screenHeight-40);var b=new h;d.isMobile?f.createXMLSprite(a,b,d.priceFont,"Center",0,-30,d.translations.node.resolve("tapPlay")):
f.createXMLSprite(a,b,d.priceFont,"Center",0,-30,d.translations.node.resolve("clickPlay"));b.$zF[1].set_pixelSnapping(!1);f.pulseBtn(a,1.05,0.7);this.muteBtn=new h;d.muted?f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_OFF",!0,this.screenWidth-55,55):f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_ON",!0,this.screenWidth-55,55);this.muteBtn.$zF[1].set_pixelSnapping(!1);this.muteBtn.$zF[1].setScale(0.8);f.alignRight(this.muteBtn);this.gameState="HOME";this.fadeIn();
null==this.menuLoop&&(this.menuLoop=d.pack.getSound("audio/menu_loop").loop(),this.menuLoop.volume.set__(this.musicVolume));this.displayDebugInfo()},helpScreen:function(){this.inPlay=!1;this.screen=(new h).add(new Q(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var a=new h;f.createImageSprite(this.screen,a,"build/background",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);a=new h;f.createImageSprite(this.screen,a,"screens/sub_screen",!0,this.screenWidth/2+30,this.screenHeight/
2);a=new h;f.createImageSprite(this.screen,a,"pause/build",!0,this.screenWidth/2-39,this.screenHeight/2+27);a=new h;f.createXMLSprite(this.screen,a,d.priceFont,"Center",this.screenWidth/2,this.screenHeight/2-240,d.translations.node.resolve("helpBuild"));this.btn1=new h;f.createImageSprite(this.screen,this.btn1,"buttons/BTN_ok_small",!0,this.screenWidth/2,this.screenHeight/2+220);this.gameState="HELP1";this.fadeIn()},helpScreen2:function(){this.inPlay=!1;this.screen=(new h).add(new Q(394758,960,560));
m.root.addChild(this.screen);this.getScreenSize();var a=new h;f.createImageSprite(this.screen,a,"build/background",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);a=new h;f.createImageSprite(this.screen,a,"screens/sub_screen",!0,this.screenWidth/2+30,this.screenHeight/2);a=new h;d.isMobile?f.createImageSprite(this.screen,a,"pause/mobile",!0,this.screenWidth/2,this.screenHeight/2):f.createImageSprite(this.screen,a,"pause/desktop",!0,this.screenWidth/2,this.screenHeight/2);a=new h;f.createXMLSprite(this.screen,
a,d.priceFont,"Center",this.screenWidth/2,this.screenHeight/2-240,d.translations.node.resolve("helpBattle"));this.btn1=new h;f.createImageSprite(this.screen,this.btn1,"buttons/BTN_ok_small",!0,this.screenWidth/2,this.screenHeight/2+220);this.gameState="HELP2";this.onResize()},chassisScreen:function(){this.init();this.inPlay=!1;this.screen=(new h).add(new Q(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var a=new h;f.createImageSprite(this.screen,a,"build/background",!1,-((1336-
this.screenWidth)/2),this.screenHeight-768);a=new h;f.createImageSprite(this.screen,a,"screens/sub_screen",!0,this.screenWidth/2+30,this.screenHeight/2);a=(new h).add(new q("screens/chassis","wagon",this.screenWidth/2+200,this.screenHeight/2+40));this.screen.addChild(a);a.add(new oa(0.4));var b=(new h).add(new q("screens/chassis","shellraiser",this.screenWidth/2-220,this.screenHeight/2+30));this.screen.addChild(b);b.add(new oa(0.4));b=new h;f.createImageSprite(this.screen,b,"screens/text_baked_partywagon",
!0,this.screenWidth/2+180,this.screenHeight/2-120);b=new h;f.createImageSprite(this.screen,b,"screens/text_baked_shellraiser",!0,this.screenWidth/2-230,this.screenHeight/2-120);b=new h;f.createXMLSprite(this.screen,b,d.priceFont,"Center",this.screenWidth/2,this.screenHeight/2-240,d.translations.node.resolve("selectVehicle"));this.btn1=new h;f.createImageSprite(this.screen,this.btn1,"buttons/BTN_ok_small",!0,this.screenWidth/2-220,this.screenHeight/2+220);this.btn2=new h;f.createImageSprite(this.screen,
this.btn2,"buttons/BTN_ok_small",!0,this.screenWidth/2+200,this.screenHeight/2+220);d.wagon||(this.btn2.$zF[1].y.set__(-999),a.$zF[20].gotoAndStop(15),a=new h,f.createImageSprite(this.screen,a,"build/lock",!0,this.screenWidth/2+175,this.screenHeight/2+45));this.gameState="CHASSIS";this.fadeIn()},winScreen:function(){var a=this;this.inPlay=!1;this.screen=(new h).add(new Q(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var b=new h;f.createImageSprite(this.screen,b,"build/background",
!1,-((1336-this.screenWidth)/2),this.screenHeight-768);b=(new h).add(new q("build/"+d.vehicle,"blank",this.screenWidth/2-400,this.screenHeight-450));this.screen.addChild(b);var c=(new h).add(new q("build/"+d.vehicle,"frontArmour",0,0));b.addChild(c);c.$zF[1].set_visible(d.hide_front);c=(new h).add(new q("build/"+d.vehicle,"body",0,0));b.addChild(c);c=(new h).add(new q("build/"+d.vehicle,"paint",0,0));b.addChild(c);d.hide_paint||c.$zF[1].alpha.set__(0);c=(new h).add(new q("build/"+d.vehicle,"gun",
0,0));b.addChild(c);c.$zF[1].set_visible(d.hide_weapon);c=(new h).add(new q("build/"+d.vehicle,"topArmour",0,0));b.addChild(c);c.$zF[1].set_visible(d.hide_top);c=(new h).add(new q("build/"+d.vehicle,"sideArmour",0,0));b.addChild(c);c.$zF[1].set_visible(d.hide_side);c=new h;d.hide_wheels?c.add(new q("build/"+d.vehicle,"wheelsCaps",0,0)):c.add(new q("build/"+d.vehicle,"wheelsBare",0,0));b.addChild(c);c.add(new oa(0));b=(new h).add(new q("winScreen","splinterBody",this.screenWidth/2+260,this.screenHeight-
60));this.screen.addChild(b);var e=(new h).add(new q("winScreen","head2",this.screenWidth/2+260,this.screenHeight-60));this.screen.addChild(e);b=new G;b.run(new Ua(new F([new s(2.5),new r(function(){e.$zF[20].loop("head1")}),new s(2.7),new r(function(){e.$zF[20].loop("head3")}),new s(3),new r(function(){e.$zF[20].loop("head2")}),new s(2.4),new r(function(){e.$zF[20].loop("head3")}),new s(3),new r(function(){e.$zF[20].loop("head2")})])));e.add(b);b=(new h).add(new q("winScreen","turtles",this.screenWidth/
2+240,this.screenHeight-50));this.screen.addChild(b);c=new G;c.run(new F([new s(0.4),new r(function(){a.playSound("gong")})]));b.add(c);b=new h;f.createImageSprite(this.screen,b,"screens/speech_box",!1,this.screenWidth/2+260-635,this.screenHeight-535);c=new h;f.createXMLSprite(b,c,d.bodyFont,"Left",70,160,d.translations.node.resolve("winScreen"));this.btn1=new h;f.createImageSprite(this.screen,this.btn1,"buttons/BTN_ok",!0,this.screenWidth-60,this.screenHeight-60);f.alignRight(this.btn1);this.gameState=
"WIN"},gameOver:function(){switch(this.gameState){case "BUILD":this.screen.$zF[17].stopGame();this.screen.$zF[17].dispose();this.fadeOut(A(this,this.startBattle));break;case "GAME":this.screen.$zF[18].stopGame(),this.screen.$zF[18].dispose(),"CITY"==d.scene&&d.wonRound?(d.scene="SEWER",this.fadeOut(A(this,this.startBattle))):d.wonRound?this.fadeOut(A(this,this.winScreen)):this.fadeOut(A(this,this.startBuild))}},startBuild:function(){this.score=0;this.screen=(new h).add(new Q(16777215,d.staticWidth,
d.staticHeight));m.root.addChild(this.screen);this.getScreenSize();this.screen.add(new od(this.screenWidth,this.screenHeight,A(this,this.gameOver),A(this,this.hudCallback)));this.pauseBtn=new h;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",!0,this.screenWidth-55,225);f.alignRight(this.pauseBtn);this.screen2=new h;f.createImageSprite(m.root,this.screen2,"blankScreen",!1,0,0);this.screen2.$zF[1].set_pointerEnabled(!1);this.gameState="BUILD";d.mode="BUILD";this.inPlay=!0;this.fadeIn();
d.showFPS&&m.root.addChild((new h).add(new I(this.status_font)).add(new sb));d.testMode&&f.addDebugSpeedAdjuster(m.root)},hudCallback:function(a){},startBattle:function(){var a=this;this.score=0;this.screen=(new h).add(new Q(16777215,d.staticWidth,d.staticHeight));m.root.addChild(this.screen);this.getScreenSize();this.screen.add(new ld(this.screenWidth,this.screenHeight,A(this,this.gameOver),A(this,this.hidePauseBtn)));this.pauseBtn=new h;f.createImageSprite(this.screen,this.pauseBtn,"buttons/BTN_pause",
!0,this.screenWidth-55,55);f.alignRight(this.pauseBtn);this.screen2=new h;f.createImageSprite(m.root,this.screen2,"blankScreen",!1,0,0);this.screen2.$zF[1].set_pointerEnabled(!1);if(d.preGameHelp){d.preGameHelp=!1;var b=new G;b.run(new F([new s(0.5),new r(function(){a.pauseGame(!0,new Nc);a.pauseMenu.$zF[19].showHelpIntro()})]));this.owner.add(b)}this.gameState="GAME";d.mode="BATTLE";this.inPlay=!0;this.fadeIn();d.showFPS&&m.root.addChild((new h).add(new I(this.status_font)).add(new sb));d.testMode&&
f.addDebugSpeedAdjuster(m.root)},hidePauseBtn:function(){this.pauseBtn.$zF[1].set_pointerEnabled(!1);this.pauseBtn.$zF[1].alpha.animateTo(0,0.3)},onUpdate:function(a){m.hidden.$aG?(f.mute(!0),d.active=!1):d.active||(f.mute(!1),d.active=!0)},handleTouchDown:function(a){},handleTouchMove:function(a){},handleTouchUp:function(a){this.audioEnabled||(d.pack.getSound("audio/blank").play(),this.audioEnabled=!0)},keyDownHandler:function(a){d.testMode&&"GAME"==this.gameState&&a.key==g.Q&&this.fadeOut(A(this,
this.homeScreen))},keyUpHandler:function(a){},pauseGame:function(a,b){if(a){this.gameState="PAUSED";this.screen.add(new oa(0));this.pausedFade=(new h).add(new Q(0,this.screenWidth+600,this.screenHeight));this.screen.addChild(this.pausedFade);this.pausedFade.$zF[1].alpha.set__(0.6);var c=this.pausedFade.$zF[1].x;c.set__(c.$aG-300);this.pauseMenu=(new h).add(new rd(this.screenWidth/2,this.screenHeight/2,A(this,this.closePauseMenu)));this.screen2.addChild(this.pauseMenu);this.pauseBtn.$zF[1].alpha.set__(0.5);
this.screen2.$zF[1].set_pointerEnabled(!0);this.onResize()}},closePauseMenu:function(a){if(a){this.screen.add(new oa(1));switch(this.gameState){case "BUILD":this.screen.$zF[17].stopGame();this.screen.$zF[17].dispose();break;case "BATTLE":this.screen.$zF[18].stopGame(),this.screen.$zF[18].dispose()}this.screen2.dispose();this.fadeOut(A(this,this.chassisScreen));this.menuLoop.volume.animateTo(1,0.5);d.quitTip=!0}else{switch(d.mode){case "BUILD":this.gameState="BUILD";break;case "BATTLE":this.gameState=
"GAME"}this.screen.add(new oa(1));this.pausedFade.dispose();this.pauseMenu.dispose();this.screen2.$zF[1].set_pointerEnabled(!1);this.pauseBtn.$zF[1].alpha.set__(1);this.pauseBtn.$zF[1].scaleX.set__(1);this.pauseBtn.$zF[1].scaleY.set__(1)}},fadeIn:function(){var a=(new h).add(new Q(this.transitionColour,2E3,2E3));this.screen.addChild(a);a.$zF[1].alpha.set__(1);a.$zF[1].set_pointerEnabled(!1);var b=a.$zF[1].x;b.set__(b.$aG-300);b=new G;b.run(new F([new Aa(a.$zF[1].alpha,0,this.transitionTime),new r(function(){a.dispose()})]));
a.add(b);this.onResize()},fadeOut:function(a){var b=this,c=(new h).add(new Q(this.transitionColour,2E3,2E3));this.screen.addChild(c);c.$zF[1].alpha.set__(0);var d=c.$zF[1].x;d.set__(d.$aG-300);d=new G;d.run(new F([new Aa(c.$zF[1].alpha,1,this.transitionTime),new r(function(){b.screen.dispose();a()})]));c.add(d)},onResize:function(){if(null!=this.screen){d.resizeScreen=!0;!d.isMobile&&667!=m.$uG.$IG.get_width()&&900<m.$uG.$IG.get_width()&&(d.resizeScreen=!1);939<m.$uG.$IG.get_width()&&1140>m.$uG.$IG.get_width()&&
(d.resizeScreen=!1);939<m.$uG.$IG.get_height()&&1140>m.$uG.$IG.get_height()&&(d.resizeScreen=!1);if(1336<m.$uG.$IG.get_width()||960>m.$uG.$IG.get_width())d.resizeScreen=!0;d.alwaysResize&&(d.resizeScreen=!0);2<m.$uG.$IG.get_width()/m.$uG.$IG.get_height()&&(d.resizeScreen=!1);2048==m.$uG.$IG.get_width()&&1536>=m.$uG.$IG.get_height()&&(d.staticWidth=p["int"](m.$uG.$IG.get_width()/2),d.staticHeight=p["int"](m.$uG.$IG.get_height()/2));if(d.resizeScreen){var a=d.staticWidth,b=d.staticHeight;d.scale=ea.min(m.$uG.$IG.get_width()/
a,m.$uG.$IG.get_height()/b);this.screen.$zF[1].setScale(d.scale).setXY((m.$uG.$IG.get_width()-a*d.scale)/2,(m.$uG.$IG.get_height()-b*d.scale)/2);null!=this.screen2&&null!=this.screen2.$zF[1]&&this.screen2.$zF[1].setScale(d.scale).setXY((m.$uG.$IG.get_width()-a*d.scale)/2,(m.$uG.$IG.get_height()-b*d.scale)/2);m.$uG.$IG.get_width()>m.$uG.$IG.get_height()?(d.offsetX=p["int"](m.$uG.$IG.get_width()/d.scale-a),d.offsetY=p["int"](m.$uG.$IG.get_height()/d.scale-b)):(d.offsetX=p["int"](m.$uG.$IG.get_height()/
d.scale-b),d.offsetY=p["int"](m.$uG.$IG.get_width()/d.scale-a))}else d.scale=1,d.offsetX=0,d.offsetY=0}},getScreenSize:function(){if(d.resizeScreen)this.screenWidth=d.staticWidth,this.screenHeight=d.staticHeight;else if(this.screenWidth=m.$uG.$IG.get_width(),this.screenHeight=m.$uG.$IG.get_height(),this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=a}},playSound:function(a){this.sfx=d.pack.getSound("audio/"+a).play()},displayDebugInfo:function(){if(d.showDebugInfo){var a=
new h;f.createFillSprite(this.screen,a,0,!1,0,50,500,550,0.6);a=new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,100,"Screen width  : "+this.screenWidth);a=new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,150,"Screen height : "+this.screenHeight);a=new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,200,"Actual screen width  : "+m.$uG.$IG.get_width());a=new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,250,"Actual screen height : "+m.$uG.$IG.get_height());a=
new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,300,"Resizing : "+p.string(d.resizeScreen));a=new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,350,"Always resize : "+p.string(d.alwaysResize));a=new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,400,"Scale : "+d.scale);a=new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,450,"Scale factor : "+m.$uG.$IG.get_scaleFactor());a=new h;f.createTextSprite(this.screen,a,d.bodyFont,"Left",50,500,"Render type  : "+p.string(m.$uG.$HG.get_type()))}},
__class__:qd});var ob=function(a,b,c){z.call(this);this.x=a|0;this.y=b|0;this.callback=c};k["project.GameOver"]=ob;ob.__name__=!0;ob.__super__=z;ob.prototype=x(z.prototype,{get_entitySlot:function(){return 29},onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].centerAnchor();this.thisSprite=this.owner.$zF[1];this.thisSprite.setXY(this.x,this.y);var a=new h;f.createImageSprite(this.owner,a,"blank",!0,0,0);a=new h;f.createFillSprite(this.owner,a,0,!0,0,0,2E3,2E3,
0);a.$zF[1].alpha.animateTo(0.5,0.3);a=new h;f.createImageSprite(this.owner,a,"screens/sub_screen",!0,35,0);this.gameText=new Ka(v.parse(d.pack.getFile("translation.xml").toString()).firstElement());this.screen=new h;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);this.btnExit=new h;f.createImageSprite(this.screen,this.btnExit,"buttons/BTN_ok",!0,0,220);a=new h;f.createXMLSprite(this.screen,a,d.headerFont,"Center",0,-237,this.gameText.node.resolve("runEnded"));a=new h;f.createImageSprite(this.screen,
a,"screens/name_header",!0,190,-100);a=new h;f.createXMLSprite(this.screen,a,d.bodyFont,"Left",60,-115,this.gameText.node.resolve("results"));a=new h;f.createTextSprite(this.screen,a,d.creditsFont,"Left",170,-60,p.string(d.shells));a=new h;f.createTextSprite(this.screen,a,d.creditsFont,"Left",170,5,p.string(d.pods));a=new h;f.createTextSprite(this.screen,a,d.creditsFont,"Left",170,70,p.string(d.distance));a=new h;f.createImageSprite(this.screen,a,"screens/go_icons",!0,250,0);a=(new h).add(new Lb(-290,
20));this.screen.addChild(a);f.alignLeft(a);a.$zF[21].stop();var b=(d.distance+d.pods)/10|0,b=20*b;d.wonRound&&(b+=100);"CITY"!=d.scene&&(b+=100);var c=new h;f.createImageSprite(this.screen,c,"battle/shell_pickup_large",!0,-260,130);c=new h;f.createXMLSprite(this.screen,c,d.headerFont,"Left",-210,110,this.gameText.node.resolve("bonus"));c=p.instance(c.$zF[1],I);c.set_text(c.$IK+(" = "+b));d.credits+=b;"wagon"!=d.vehicle&&(a=a.$zF[1].x,a.set__(a.$aG-15));this.connect1(m.$uG.$GG.down,A(this,this.onPointerDown));
this.connect1(m.$uG.$GG.move,A(this,this.onPointerMove))},onPointerDown:function(a){a.hit==this.btnExit.$zF[1]&&(this.callback("gameover"),this.playSound("click"))},onPointerMove:function(a){f.rolloverImage(this.btnExit,"buttons/BTN_ok","buttons/BTN_ok_rollover",a)},playSound:function(a){this.sfx=d.pack.getSound("audio/"+a).play()},__class__:ob});var xe=function(){};k["project.Main"]=xe;xe.__name__=!0;xe.main=function(){var a,b=(new h).add(new Q(16777215,960,560));a=(new h).add(new Q(16777215,2E3,
2E3));b.addChild(a);a=m.$uG.$IG.get_width();var c=m.$uG.$IG.get_height();if(c>a){var e=a;a=c;c=e}m.root.addChild(b);f.detectLowEndDevice();m.$uG.$JG.get_supported()&&(d.isMobile=!0);a=window.navigator.userAgent;-1!=a.indexOf("Win")&&(d.isMobile=!1);-1!=a.indexOf("Mac")&&(d.isMobile=!1);-1!=a.indexOf("Mobile")&&(d.isMobile=!0);d.v2?(a=ka.fromAssets("preloader"),a.set_remoteBase(p.string(m.$uG.getExternal().call("jsembed.baseUrl"))+"assets/"),a=m.$uG.loadAssetPack(a)):a=m.loadAssetPack(ka.fromAssets("preloader"));
a.success.connect(function(a){d.loaderPack=a;b.dispose();m.root.add(new sd)});a.catchError(function(a){null});a.progressChanged.connect(function(){null})};var q=function(a,b,c,d){z.call(this);this.movie=a;this.animation=b;this.x=c|0;this.y=d|0};k["project.MovieClip"]=q;q.__name__=!0;q.__super__=z;q.prototype=x(z.prototype,{get_entitySlot:function(){return 20},onAdded:function(){var a=new Sd(d.pack,this.movie);this.moviePlayer=new Pc(a);this.moviePlayer.loop(this.animation);this.owner.add(this.moviePlayer).add(new y);
this.thisSprite=this.owner.$zF[1];this.thisSprite.x.set__(this.x);this.thisSprite.y.set__(this.y)},gotoAndStop:function(a){var b=this.moviePlayer.movie.$aG,c=b.symbol.frameRate;b.set_paused(!0);b.set_position(1/c*a)},play:function(a,b){this.moviePlayer.loop(b);this.moviePlayer.play(a)},loop:function(a){this.moviePlayer.loop(a)},__class__:q});var Mb=function(a,b,c){this.hasFired=!1;this.active=!0;this.width=10;z.call(this);this.x=b|0;this.y=c|0;this.type=a;switch(this.type){case "ramp":this.width=
-30;this.y+=105;break;case "barricade":this.width=10;this.y+=105;break;case "kraang":this.width=10;this.y+=105;break;case "mine":this.width=10;this.y+=105;break;case "archBack":this.width=10;this.y+=0;this.active=!1;break;case "cone":this.width=10;this.y+=105;break;case "tyres3":this.width=10;this.y+=105;break;case "tyres5":this.width=10;this.y+=105;break;case "crate":this.width=10,this.y+=105}};k["project.Object"]=Mb;Mb.__name__=!0;Mb.__super__=z;Mb.prototype=x(z.prototype,{get_entitySlot:function(){return 24},
onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].setXY(this.x,this.y);this.owner.$zF[1].set_pixelSnapping(!1);"kraang"==this.type?(this.shadow=(new h).add(new q("battle/kraang","shadow",0,0)),this.owner.addChild(this.shadow),this.object=(new h).add(new q("battle/kraang","kraang_idle",0,0)),this.owner.addChild(this.object),f.coinFlip()?this.fireRange=f.randomNumber(400,700):this.fireRange=-999):(this.object="mine"==this.type?(new h).add(new q("battle/mines","mine",
0,0)):(new h).add(new q("battle/scene",this.type,0,0)),this.owner.addChild(this.object))},yRange:function(a){var b=!1;switch(this.type){case "ramp":40>a&&(b=!0);break;case "barricade":70>a&&(b=!0);break;case "kraang":10>a&&(b=!0);break;case "mine":20>a&&(b=!0);break;case "cone":20>a&&(b=!0);break;case "crate":50>a&&(b=!0);break;case "tyres3":30>a&&(b=!0);break;case "tyres5":50>a&&(b=!0)}return b},yRange2:function(a,b){null==b&&(b=0);var c=!1;switch(this.type){case "ramp":var d=f.vectorDistance(b+
170,this.owner.$zF[1].x.$aG,0,0),d=Math.abs(d)/170;1<d&&(d=1);0>d&&(d=0);a<200*d&&(c=!0);break;case "kraang":80>a&&(c=!0);break;case "mine":60>a&&(c=!0);break;case "cone":60>a&&(c=!0);break;case "crate":120>a&&(c=!0);break;case "tyres3":90>a&&(c=!0);break;case "tyres5":120>a&&(c=!0)}return c},fire:function(){if(this.hasFired)return!1;this.hasFired=!0;var a=(new h).add(new q("battle/kraang","flash",-80,-70));this.owner.addChild(a);a.$zF[20].play("flash","blank");this.object.$zF[20].play("kraang_shoot",
"kraang_idle");this.playSound("kraang_fire");return!0},hit:function(a){null==a&&(a=!1);var b=this;if(this.active){this.active=!1;switch(this.type){case "barricade":this.object.dispose();this.playSound("vehicle_hit_barricade"+f.randomNumber(1,2));break;case "ramp":a?(this.object.dispose(),this.playSound("vehicle_hit_barricade"+f.randomNumber(1,2))):(this.playSound("jump_short"),this.playSound("rev_single"));break;case "kraang":a=f.randomNumber(1E3,1400);this.shadow.$zF[1].x.animateBy(a,1);this.shadow.$zF[1].alpha.animateTo(0,
0.4);this.object.$zF[1].x.animateBy(a,1);this.object.$zF[1].y.animateBy(-100,0.3,t.sineOut);this.object.$zF[20].play("kraang_hit","kraang_dead");this.playSound("krang_impact"+f.randomNumber(1,4));a=new G;a.run(new F([new s(0.3),new r(function(){b.object.$zF[1].alpha.animateTo(0,0.5);b.object.$zF[1].y.animateBy(400,0.7,t.sineIn)})]));this.object.add(a);break;case "mine":this.object.$zF[20].loop("mark");a=(new h).add(new q("battle/mines","blank",0,0));this.owner.addChild(a);a.$zF[20].play("explode",
"blank");this.playSound("explosion"+f.randomNumber(1,2));break;case "cone":this.object.dispose();this.playSound("cone");break;case "crate":this.object.dispose();this.playSound("crate");break;case "tyres3":this.object.dispose();this.playSound("tyres");break;case "tyres5":this.object.dispose(),this.playSound("tyres")}return!0}return!1},playSound:function(a){m.hidden.$aG||(this.sfx=d.pack.getSound("audio/battle/"+a).play())},__class__:Mb});var rd=function(a,b,c){this.showExit=!0;z.call(this);this.x=
a|0;this.y=b|0;this.callback=c};k["project.PauseMenu"]=rd;rd.__name__=!0;rd.__super__=z;rd.prototype=x(z.prototype,{get_entitySlot:function(){return 19},onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].centerAnchor();this.thisSprite=this.owner.$zF[1];this.thisSprite.setXY(this.x,this.y);var a=new h;f.createImageSprite(this.owner,a,"blank",!0,0,0);a=new h;f.createImageSprite(this.owner,a,"screens/sub_screen",!0,35,0);this.gameText=new Ka(v.parse(d.pack.getFile("translation.xml").toString()).firstElement());
this.connect1(m.$uG.$GG.down,A(this,this.onPointerDown));this.connect1(m.$uG.$GG.move,A(this,this.onPointerMove));this.screen=new h;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);this.showMenu()},showMenu:function(){this.screen.dispose();this.screen=new h;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);this.btnPlay=new h;f.createImageSprite(this.screen,this.btnPlay,"buttons/BTN_play",!0,-260,15);this.btnHelp=new h;f.createImageSprite(this.screen,this.btnHelp,"buttons/BTN_help",
!0,-130,15);this.btnAchievements=new h;f.createImageSprite(this.screen,this.btnAchievements,"buttons/BTN_achievements",!0,0,15);this.btnMute=new h;d.muted?f.createImageSprite(this.screen,this.btnMute,"buttons/BTN_audio_OFF",!0,130,15):f.createImageSprite(this.screen,this.btnMute,"buttons/BTN_audio_ON",!0,130,15);this.btnExit=new h;f.createImageSprite(this.screen,this.btnExit,"buttons/BTN_quit",!0,260,15);var a=new h;f.createXMLSprite(this.screen,a,d.headerFont,"Center",0,-237,this.gameText.node.resolve("paused"));
this.tab="MENU"},showHelp:function(){this.screen.dispose();this.screen=new h;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);if("BUILD"==d.mode){var a=new h;f.createXMLSprite(this.screen,a,d.headerFont,"Center",0,-237,this.gameText.node.resolve("helpBuild"));a=new h;f.createImageSprite(this.screen,a,"pause/build",!0,-39,27)}else a=new h,f.createXMLSprite(this.screen,a,d.headerFont,"Center",0,-237,this.gameText.node.resolve("helpBattle")),a=new h,d.isMobile?f.createImageSprite(this.screen,
a,"pause/mobile",!0,0,0):f.createImageSprite(this.screen,a,"pause/desktop",!0,0,0);this.btnExit=new h;this.showExit&&f.createImageSprite(this.screen,this.btnExit,"buttons/BTN_close",!0,410,-220);this.showExit=!0;this.tab="HELP"},showHelpIntro:function(){this.showHelp();this.tab="HELPINTRO"},showQuit:function(){this.screen.dispose();this.screen=new h;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);this.btnExit=new h;f.createImageSprite(this.screen,this.btnExit,"buttons/BTN_ok_small",!0,
-100,30);this.btnPlay=new h;f.createImageSprite(this.screen,this.btnPlay,"buttons/BTN_close",!0,100,30);var a=new h;f.createXMLSprite(this.screen,a,d.headerFont,"Center",0,-237,this.gameText.node.resolve("quit"));a=new h;f.createXMLSprite(this.screen,a,d.headerFont,"Center",0,-100,this.gameText.node.resolve("sure"));this.tab="QUIT"},showAchievements:function(){this.screen.dispose();this.screen=new h;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);var a=new h;f.createXMLSprite(this.screen,
a,d.headerFont,"Center",0,-237,this.gameText.node.resolve("achievements"));a=new h;f.createImageSprite(this.screen,a,"pause/achievements_tab",!0,5,-136);var b=new h;f.createXMLSprite(this.screen,b,d.bodyFont,"Left",a.$zF[1].x.$aG-240,a.$zF[1].y.$aG-15,this.gameText.node.resolve("achieve1"));a=new h;f.createImageSprite(this.screen,a,"pause/achievements_tab",!0,5,-38);b=new h;f.createXMLSprite(this.screen,b,d.bodyFont,"Left",a.$zF[1].x.$aG-240,a.$zF[1].y.$aG-15,this.gameText.node.resolve("achieve2"));
a=new h;f.createImageSprite(this.screen,a,"pause/achievements_tab",!0,5,60);b=new h;f.createXMLSprite(this.screen,b,d.bodyFont,"Left",a.$zF[1].x.$aG-240,a.$zF[1].y.$aG-15,this.gameText.node.resolve("achieve3"));a=new h;f.createImageSprite(this.screen,a,"pause/achievements_tab",!0,5,158);b=new h;f.createXMLSprite(this.screen,b,d.bodyFont,"Left",a.$zF[1].x.$aG-240,a.$zF[1].y.$aG-15,this.gameText.node.resolve("achieve4"));a=new h;d.achieve1&&f.createImageSprite(this.screen,a,"pause/achievements_tick",
!0,-345,-136);a=new h;d.achieve2&&f.createImageSprite(this.screen,a,"pause/achievements_tick",!0,-345,-38);a=new h;d.achieve3&&f.createImageSprite(this.screen,a,"pause/achievements_tick",!0,-345,60);a=new h;d.achieve4&&f.createImageSprite(this.screen,a,"pause/achievements_tick",!0,-345,158);this.btnExit=new h;f.createImageSprite(this.screen,this.btnExit,"buttons/BTN_close",!0,410,-220);this.tab="ACHIEVEMENTS"},onPointerDown:function(a){switch(this.tab){case "MENU":a.hit==this.btnPlay.$zF[1]?(this.callback(!1),
this.playSound("click")):a.hit==this.btnHelp.$zF[1]?(this.showHelp(),this.playSound("click")):a.hit==this.btnExit.$zF[1]?(this.showQuit(),this.playSound("click")):a.hit==this.btnAchievements.$zF[1]?(this.showAchievements(),this.playSound("click")):a.hit==this.btnMute.$zF[1]&&(d.muted?(this.btnMute.dispose(),this.btnMute=new h,f.createImageSprite(this.screen,this.btnMute,"buttons/BTN_audio_ON",!0,130,15),f.mute(!1)):(this.btnMute.dispose(),this.btnMute=new h,f.createImageSprite(this.screen,this.btnMute,
"buttons/BTN_audio_OFF",!0,130,15),f.mute(!0)),this.playSound("click"));break;case "HELP":a.hit==this.btnExit.$zF[1]&&(this.showMenu(),this.playSound("click"));break;case "HELPINTRO":a.hit==this.btnExit.$zF[1]&&(this.callback(!1),this.playSound("click"));break;case "QUIT":a.hit==this.btnExit.$zF[1]?(this.callback(!0),this.playSound("click")):a.hit==this.btnPlay.$zF[1]&&(this.showMenu(),this.playSound("click"));break;case "ACHIEVEMENTS":a.hit==this.btnExit.$zF[1]&&(this.showMenu(),this.playSound("click"))}},
onPointerMove:function(a){switch(this.tab){case "MENU":f.rolloverImage(this.btnPlay,"buttons/BTN_play","buttons/BTN_play_rollover",a);f.rolloverImage(this.btnHelp,"buttons/BTN_help","buttons/BTN_help_rollover",a);f.rolloverImage(this.btnAchievements,"buttons/BTN_achievements","buttons/BTN_achievements_rollover",a);f.rolloverImage(this.btnExit,"buttons/BTN_quit","buttons/BTN_quit_rollover",a);d.muted?f.rolloverImage(this.btnMute,"buttons/BTN_audio_OFF","buttons/BTN_audio_OFF_rollover",a):f.rolloverImage(this.btnMute,
"buttons/BTN_audio_ON","buttons/BTN_audio_ON_rollover",a);break;case "HELP":f.rolloverImage(this.btnExit,"buttons/BTN_close","buttons/BTN_close_rollover",a);break;case "QUIT":f.rolloverImage(this.btnExit,"buttons/BTN_ok_small","buttons/BTN_ok_small_rollover",a);f.rolloverImage(this.btnPlay,"buttons/BTN_close","buttons/BTN_close_rollover",a);break;case "ACHIEVEMENTS":f.rolloverImage(this.btnExit,"buttons/BTN_close","buttons/BTN_close_rollover",a)}},playSound:function(a){this.sfx=d.pack.getSound("audio/"+
a).play()},__class__:rd});var Nb=function(a,b,c){this.hasFired=!1;this.active=!0;z.call(this);this.x=b|0;this.y=c|0;this.type=a;switch(this.type){case "bigshell":this.width=50;break;case "shell":this.width=30;break;case "pod":this.width=30;break;case "archFront":this.active=!1}};k["project.Pickup"]=Nb;Nb.__name__=!0;Nb.__super__=z;Nb.prototype=x(z.prototype,{get_entitySlot:function(){return 23},onAdded:function(){var a=this;this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].setXY(this.x,
this.y);this.owner.$zF[1].set_pixelSnapping(!1);if("pod"==this.type)this.pickup=(new h).add(new q("battle/kraang","pod_idle",0,0)),this.owner.addChild(this.pickup),f.coinFlip()?f.pulseUpDown(this.owner,20,1):f.coinFlip()?f.pulseUpDown(this.owner,40,1.5):f.pulseUpDown(this.owner,80,3),3>f.randomNumber(1,10)?this.fireRange=f.randomNumber(400,700):this.fireRange=-999;else if("archFront"==this.type)this.pickup=(new h).add(new q("battle/scene",this.type,0,0)),this.owner.addChild(this.pickup);else{"bigshell"==
this.type?(this.pickup=new h,f.createImageSprite(this.owner,this.pickup,"battle/shell_pickup_large",!0,0,0)):(this.pickup=(new h).add(new q("battle/scene",this.type,0,0)),this.owner.addChild(this.pickup));this.sparkle=(new h).add(new q("battle/sparkle","sparkle",0,0));this.owner.addChild(this.sparkle);this.sparkle.$zF[1].alpha.set__(0);this.sparkle.$zF[1].set_pixelSnapping(!1);"bigshell"==this.type?this.sparkle.$zF[1].setScale(0.5):this.sparkle.$zF[1].setScale(0.3);var b=new G;b.run(new Ua(new F([new s(f.randomNumberFloat(0.3,
0.7)),new r(function(){a.sparkle.$zF[1].alpha.animateTo(1,0.3)}),new s(f.randomNumberFloat(0.4,0.8)),new r(function(){a.sparkle.$zF[1].alpha.animateTo(0,0.3)}),new s(f.randomNumberFloat(0.5,2))])));this.sparkle.add(b);f.pulseUpDown(this.owner,15,0.8)}},fire:function(){if(this.hasFired)return!1;this.hasFired=!0;var a=(new h).add(new q("battle/kraang","flash_pod",-33,17));this.owner.addChild(a);this.owner.$zF[1].x.animateBy(20,0.4,t.sineOut);a.$zF[20].play("flash_pod","blank");this.pickup.$zF[20].play("pod_fire",
"pod_idle");this.playSound("kraang_fire");return!0},hit:function(){var a=this;if(this.active){this.active=!1;null!=this.shadow&&this.shadow.dispose();null!=this.owner.$zF[11]&&this.owner.$zF[11].stopAll();if("pod"==this.type){this.pickup.$zF[20].play("pod_hit","pod_dead");var b=(new h).add(new q("battle/kraang","brain_up",0,-15));this.owner.addChild(b);b.$zF[20].play("brain_up","brain_roll");this.playSound("krang_impact"+f.randomNumber(1,4));var c=f.randomNumber(900,1100);this.pickup.$zF[1].x.animateBy(c,
1,t.sineOut);this.pickup.$zF[1].y.animateBy(-f.randomNumber(50,200),0.3,t.sineOut);c=new G;c.run(new F([new s(0.35),new r(function(){a.pickup.$zF[1].y.animateBy(f.randomNumber(600,800),1,t.sineIn);b.$zF[1].alpha.animateTo(0,0.8)}),new s(0.4),new r(function(){a.pickup.$zF[1].alpha.animateTo(0,0.4)}),new s(1),new r(function(){a.owner.dispose()})]));this.pickup.add(c)}else this.owner.$zF[1].y.animateBy(-150,1),this.owner.$zF[1].alpha.animateTo(0,1),this.owner.$zF[1].scaleX.animateTo(1.7,1),this.owner.$zF[1].scaleY.animateTo(1.7,
1),c=(new h).add(new q("battle/burst","idle",0,0)),this.owner.addChild(c),c.$zF[20].play("burst","idle"),c.$zF[1].setScale(0.6),this.playSound("pickup"),c=new G,c.run(new F([new s(1),new r(function(){a.owner.dispose()})])),this.owner.add(c);return!0}return!1},playSound:function(a){m.hidden.$aG||(this.sfx=d.pack.getSound("audio/battle/"+a).play())},__class__:Nb});var sd=function(){this.progressHeight=20;this.progressWidth=273;this.backgroundColour=16777215;this.staticHeight=640;this.staticWidth=960;
this.version=0.1;z.call(this);null};k["project.Preloader"]=sd;sd.__name__=!0;sd.__super__=z;sd.prototype=x(z.prototype,{get_entitySlot:function(){return 13},onAdded:function(){var a=(new h).add(new Q(this.backgroundColour,2E3,1500));m.root.addChild(a);a.$zF[1].x.set__(-300);this.screen=(new h).add(new Q(this.backgroundColour,this.staticWidth,this.staticHeight));m.root.addChild(this.screen);this.onResize();this.screen.dispose();this.loadGame()},loadGame:function(){var a=this;this.screen=(new h).add(new Q(this.backgroundColour,
960,560));m.root.addChild(this.screen);this.getScreenSize();var b=new h;b.add(new T(d.loaderPack.getTexture("background")));this.screen.addChild(b);b.$zF[1].setXY(-((1336-this.screenWidth)/2),this.screenHeight-768);var c=(new h).add(new T(d.loaderPack.getTexture("frame")));c.$zF[1].centerAnchor();c.$zF[1].setXY(this.screenWidth/2,this.screenHeight/2);this.screen.addChild(c);var e=(new h).add(new T(d.loaderPack.getTexture("bar_full")));e.$zF[1].setXY(this.screenWidth/2-134,this.screenHeight/2+91);
this.screen.addChild(e);e.$zF[1].set_scissor(new za(0,0,0,this.progressHeight));var c=new sa(d.loaderPack,"priceFont"),f=new h;f.add(new I(c));this.screen.addChild(f);p.instance(f.$zF[1],I).set_align(Y.Center);p.instance(f.$zF[1],I).setXY(this.screenWidth/2,this.screenHeight/2+120);p.instance(f.$zF[1],I).set_text("0%");c=Kb.parse(d.loaderPack.getFile("config.ini").toString());if("YES"==c.get("game.showVersionNumber")){var g=new h,k=new sa(d.loaderPack,"tinyfont");g.add(new I(k));this.screen.addChild(g);
p.instance(g.$zF[1],I).set_align(Y.Center);p.instance(g.$zF[1],I).setXY(this.screenWidth/2+128,this.screenHeight/2+110);c.get("game.version")==p.string(this.version)?p.instance(g.$zF[1],I).set_text("v"+c.get("game.version")):p.instance(g.$zF[1],I).set_text("version error")}this.onResize();c="mainassets";d.lite&&(c+="-lite");d.v2?(c=ka.fromAssets(c),c.set_remoteBase(p.string(m.$uG.getExternal().call("jsembed.baseUrl"))+"assets/"),this.loader2=m.$uG.loadAssetPack(c)):this.loader2=m.loadAssetPack(ka.fromAssets(c));
this.loader2.success.connect(function(c){d.pack=c;c=(new h).add(new Q(a.backgroundColour,2E3,2E3));a.screen.addChild(c);c.$zF[1].x.set__(-200);c.$zF[1].alpha.set__(0);c.$zF[1].alpha.animateTo(0.5,0.3);c=new G;c.run(new F([new s(0.3),new r(function(){null!=a.rotateFill&&a.rotateFill.dispose();a.screen.dispose();d.loaderPack.dispose();m.root.add(new qd)})]));b.add(c)});this.loader2.catchError(function(a){null});this.loader2.progressChanged.connect(function(){var b=a.loader2.$OW/a.loader2.$PW;1<b&&(b=
1);e.$zF[1].set_scissor(new za(0,0,b*a.progressWidth,a.progressHeight));b=100*b|0;p.instance(f.$zF[1],I).set_text((null==b?"null":""+b)+"%")})},onResize:function(){if(null!=this.screen){d.resizeScreen=!0;!d.isMobile&&667!=m.$uG.$IG.get_width()&&900<m.$uG.$IG.get_width()&&(d.resizeScreen=!1);939<m.$uG.$IG.get_width()&&1140>m.$uG.$IG.get_width()&&(d.resizeScreen=!1);939<m.$uG.$IG.get_height()&&1140>m.$uG.$IG.get_height()&&(d.resizeScreen=!1);if(1336<m.$uG.$IG.get_width()||960>m.$uG.$IG.get_width())d.resizeScreen=
!0;d.alwaysResize&&(d.resizeScreen=!0);2<m.$uG.$IG.get_width()/m.$uG.$IG.get_height()&&(d.resizeScreen=!1);2048==m.$uG.$IG.get_width()&&1536>=m.$uG.$IG.get_height()&&(d.staticWidth=p["int"](m.$uG.$IG.get_width()/2),d.staticHeight=p["int"](m.$uG.$IG.get_height()/2));if(d.resizeScreen){var a=d.staticWidth,b=d.staticHeight;d.scale=ea.min(m.$uG.$IG.get_width()/a,m.$uG.$IG.get_height()/b);this.screen.$zF[1].setScale(d.scale).setXY((m.$uG.$IG.get_width()-a*d.scale)/2,(m.$uG.$IG.get_height()-b*d.scale)/
2);m.$uG.$IG.get_width()>m.$uG.$IG.get_height()?(d.offsetX=p["int"](m.$uG.$IG.get_width()/d.scale-a),d.offsetY=p["int"](m.$uG.$IG.get_height()/d.scale-b)):(d.offsetX=p["int"](m.$uG.$IG.get_height()/d.scale-b),d.offsetY=p["int"](m.$uG.$IG.get_width()/d.scale-a))}else d.scale=1,d.offsetX=0,d.offsetY=0}},getScreenSize:function(){if(d.resizeScreen)this.screenWidth=d.staticWidth,this.screenHeight=d.staticHeight;else if(this.screenWidth=m.$uG.$IG.get_width(),this.screenHeight=m.$uG.$IG.get_height(),this.screenHeight>
this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=a}},__class__:sd});var S=function(a,b,c,d){z.call(this);this.type=a;this.x=b|0;this.y=c|0;this.callback=d};k["project.Tips"]=S;S.__name__=!0;S.__super__=z;S.prototype=x(z.prototype,{get_entitySlot:function(){return 28},onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].centerAnchor();this.owner.$zF[1].setXY(this.x,this.y);this.fill=new h;f.createFillSprite(this.owner,this.fill,
0,!0,0,0,2E3,2E3,0);this.frame=new h;f.createImageSprite(this.owner,this.frame,"build/hud/tip_frame",!0,0,0);this.tickBtn=new h;f.createImageSprite(this.owner,this.tickBtn,"buttons/BTN_check",!0,0,150);this.tipActive=!1;this.owner.$zF[1].alpha.set__(0);this.connect1(m.$uG.$GG.down,A(this,this.onPointerDown));this.connect1(m.$uG.$GG.move,A(this,this.onPointerMove));this.spawn()},close:function(){var a=this;this.tipActive=!1;this.owner.$zF[1].alpha.animateTo(0,0.3);this.owner.$zF[1].scaleX.animateTo(0.5,
0.3);this.owner.$zF[1].scaleY.animateTo(0.5,0.3);this.owner.$zF[1].y.animateTo(this.y+50,0.3);var b=new G;b.run(new F([new s(0.3),new r(function(){a.owner.dispose()})]));this.owner.add(b)},spawn:function(){this.tipActive=!0;this.owner.$zF[1].y.set__(this.y);this.owner.$zF[1].alpha.set__(0);this.owner.$zF[1].alpha.animateTo(1,0.3);this.fill.$zF[1].alpha.animateTo(0.5,0.2);this.owner.$zF[1].setScale(0.6);this.owner.$zF[1].scaleX.animateTo(1,0.4,t.bounceOut);this.owner.$zF[1].scaleY.animateTo(1,0.4,
t.bounceOut);var a=new h;this.tipText=new h;switch(this.type){case "achieve1":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("achievementearned"));f.createXMLSprite(this.owner,this.tipText,d.headerFont,"Center",0,30,d.translations.node.resolve("achieved1"));this.autoClose();this.fill.$zF[1].set_visible(!1);this.tickBtn.$zF[1].set_visible(!1);break;case "achieve2":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("achievementearned"));
f.createXMLSprite(this.owner,this.tipText,d.headerFont,"Center",0,30,d.translations.node.resolve("achieved2"));this.autoClose();this.fill.$zF[1].set_visible(!1);this.tickBtn.$zF[1].set_visible(!1);break;case "achieve3":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("achievementearned"));f.createXMLSprite(this.owner,this.tipText,d.headerFont,"Center",0,30,d.translations.node.resolve("achieved3"));this.autoClose();this.fill.$zF[1].set_visible(!1);this.tickBtn.$zF[1].set_visible(!1);
break;case "achieve4":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("achievementearned"));f.createXMLSprite(this.owner,this.tipText,d.headerFont,"Center",0,30,d.translations.node.resolve("achieved4"));this.autoClose();this.fill.$zF[1].set_visible(!1);this.tickBtn.$zF[1].set_visible(!1);break;case "prepare":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("prepare"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,
"Center",0,30,d.translations.node.resolve("save"));a=this.tickBtn.$zF[1].x;a.set__(a.$aG+70);this.closeBtn=new h;f.createImageSprite(this.owner,this.closeBtn,"buttons/BTN_close",!0,-70,150);break;case "side_shield":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("side"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,30,d.translations.node.resolve("side2"));d.sideTip=!1;a=this.tickBtn.$zF[1].x;a.set__(a.$aG+70);this.closeBtn=new h;f.createImageSprite(this.owner,
this.closeBtn,"buttons/BTN_close",!0,-70,150);this.addIcon();break;case "sideLose":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("lose"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,15,d.translations.node.resolve("loseSide"));this.addIcon();break;case "front_shield":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("front"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,30,d.translations.node.resolve("front2"));
d.frontTip=!1;a=this.tickBtn.$zF[1].x;a.set__(a.$aG+70);this.closeBtn=new h;f.createImageSprite(this.owner,this.closeBtn,"buttons/BTN_close",!0,-70,150);this.addIcon();break;case "frontLose":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("lose"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,15,d.translations.node.resolve("loseFront"));this.addIcon();break;case "top_shield":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("top"));
f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,30,d.translations.node.resolve("top2"));d.topTip=!1;a=this.tickBtn.$zF[1].x;a.set__(a.$aG+70);this.closeBtn=new h;f.createImageSprite(this.owner,this.closeBtn,"buttons/BTN_close",!0,-70,150);this.addIcon();break;case "topLose":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("lose"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,15,d.translations.node.resolve("loseTop"));this.addIcon();
break;case "paint":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("paint"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,30,d.translations.node.resolve("paint2"));d.paintTip=!1;a=this.tickBtn.$zF[1].x;a.set__(a.$aG+70);this.closeBtn=new h;f.createImageSprite(this.owner,this.closeBtn,"buttons/BTN_close",!0,-70,150);this.addIcon();break;case "weapon":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("weapon"));
f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,30,d.translations.node.resolve("weapon2"));d.weaponTip=!1;a=this.tickBtn.$zF[1].x;a.set__(a.$aG+70);this.closeBtn=new h;f.createImageSprite(this.owner,this.closeBtn,"buttons/BTN_close",!0,-70,150);this.addIcon();break;case "weaponLose":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("lose"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,15,d.translations.node.resolve("loseWeapon"));
this.addIcon();break;case "wheels":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("wheels"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,30,d.translations.node.resolve("wheels2"));d.wheelsTip=!1;a=this.tickBtn.$zF[1].x;a.set__(a.$aG+70);this.closeBtn=new h;f.createImageSprite(this.owner,this.closeBtn,"buttons/BTN_close",!0,-70,150);this.addIcon();break;case "wheelsLose":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("lose"));
f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,15,d.translations.node.resolve("loseWheels"));this.addIcon();break;case "fuel":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("fuel"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,30,d.translations.node.resolve("fuel2"));d.fuelTip=!1;a=this.tickBtn.$zF[1].x;a.set__(a.$aG+70);this.closeBtn=new h;f.createImageSprite(this.owner,this.closeBtn,"buttons/BTN_close",!0,-70,150);this.addIcon();
break;case "fuelLose":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("lose"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",15,15,d.translations.node.resolve("loseFuel"));this.addIcon();break;case "fuelOut":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("fuelOut"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,15,d.translations.node.resolve("fuelOut2"));this.addIcon("fuel");break;case "healthOut":f.createXMLSprite(this.owner,
a,d.headerFont,"Center",0,-70,d.translations.node.resolve("healthOut"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",10,15,d.translations.node.resolve("healthOut2"));this.addIcon("side_shield");break;case "notenoughcredits":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("notenoughcredits"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",0,10,d.translations.node.resolve("notenoughcredits2"));break;case "alreadyOwn":f.createXMLSprite(this.owner,
a,d.headerFont,"Center",0,-70,d.translations.node.resolve("alreadyOwn"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",0,30,d.translations.node.resolve("alreadyOwn2"));break;case "goal":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("win"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",0,15,d.translations.node.resolve("goal"));break;case "start":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("build"));
f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",0,15,d.translations.node.resolve("start"));break;case "reset":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("build"));f.createXMLSprite(this.owner,this.tipText,d.bodyFont,"Center",0,15,d.translations.node.resolve("reset"));d.startTip=!1;break;case "quit":f.createXMLSprite(this.owner,a,d.headerFont,"Center",0,-70,d.translations.node.resolve("change")),f.createXMLSprite(this.owner,this.tipText,d.bodyFont,
"Center",0,15,d.translations.node.resolve("change2"))}},autoClose:function(){var a=this,b=new G;b.run(new F([new s(4),new r(function(){a.close()})]));this.owner.add(b)},addIcon:function(a){null==a&&(a="");var b=this.type;""!=a&&(b=a);a=new h;f.createImageSprite(this.owner,a,"build/hud/item_frame",!0,-320,50);a=new h;f.createImageSprite(this.owner,a,"build/hud/"+d.vehicle+"/"+b,!0,-320,50)},onPointerDown:function(a){null!=this.closeBtn&&a.hit==this.closeBtn.$zF[1]&&(this.close(),this.callback("close"));
a.hit==this.tickBtn.$zF[1]&&(this.close(),this.callback(this.type))},onPointerMove:function(a){f.rolloverImage(this.tickBtn,"buttons/BTN_check","buttons/BTN_check_rollover",a);null!=this.closeBtn&&f.rolloverImage(this.closeBtn,"buttons/BTN_close","buttons/BTN_close_rollover",a)},__class__:S});var f=function(){};k["project.Utils"]=f;f.__name__=!0;f.formatScore=function(a){var b=p.string(a|0);10>a&&(b="0"+b);100>a&&(b="0"+b);return b};f.randomNumber=function(a,b){return Math.round(Math.random()*(b-
a)+a)};f.randomNumberFloat=function(a,b){return Math.random()*(b-a)+a};f.coinFlip=function(){return 51>f.randomNumber(1,100)?!0:!1};f.vectorDistance=function(a,b,c,d){return Math.sqrt(Math.pow(a-b,2)+Math.pow(c-d,2))};f.addDebugSpeedAdjuster=function(a){null==a.$zF[9]&&a.add(new oa(1));return m.$uG.getKeyboard().down.connect(function(b){var c=a.$zF[9];b.key==g.LeftBracket?(b=c.scale,b.set__(b.$aG/1.61803398875),null):b.key==g.RightBracket&&(b=c.scale,b.set__(1.61803398875*b.$aG),null)})};f.createImageSprite=
function(a,b,c,e,f,g){b.add(new T(d.pack.getTexture(c)));a.addChild(b);e&&b.$zF[1].centerAnchor();b.$zF[1].x.set__(f);b.$zF[1].y.set__(g)};f.createFillSprite=function(a,b,c,d,f,g,h,k,l){b.add(new Q(c,h,k));a.addChild(b);d&&b.$zF[1].centerAnchor();b.$zF[1].x.set__(f);b.$zF[1].y.set__(g);b.$zF[1].alpha.set__(l)};f.createTextSprite=function(a,b,c,d,f,g,h,k){b.add(new I(c));a.addChild(b);"Left"==d?p.instance(b.$zF[1],I).set_align(Y.Left):"Right"==d?p.instance(b.$zF[1],I).set_align(Y.Right):p.instance(b.$zF[1],
I).set_align(Y.Center);p.instance(b.$zF[1],I).x.set__(f);p.instance(b.$zF[1],I).y.set__(g);p.instance(b.$zF[1],I).set_text(h);null!=k&&(a=p.instance(b.$zF[1],I).x,a.set__(a.$aG+p.parseInt(k.att.resolve("offsetX"))),a=p.instance(b.$zF[1],I).y,a.set__(a.$aG+p.parseInt(k.att.resolve("offsetY"))),p.instance(b.$zF[1],I).setScale(p.parseFloat(k.att.resolve("fontScale"))))};f.createXMLSprite=function(a,b,c,d,f,g,h){b.add(new I(c));a.addChild(b);"Left"==d?p.instance(b.$zF[1],I).set_align(Y.Left):"Right"==
d?p.instance(b.$zF[1],I).set_align(Y.Right):p.instance(b.$zF[1],I).set_align(Y.Center);p.instance(b.$zF[1],I).x.set__(f);p.instance(b.$zF[1],I).y.set__(g);p.instance(b.$zF[1],I).set_text(h.get_innerData());a=p.instance(b.$zF[1],I).x;a.set__(a.$aG+p.parseInt(h.att.resolve("offsetX")));a=p.instance(b.$zF[1],I).y;a.set__(a.$aG+p.parseInt(h.att.resolve("offsetY")));p.instance(b.$zF[1],I).setScale(p.parseFloat(h.att.resolve("fontScale")))};f.rolloverImage=function(a,b,c,e){e.hit==a.$zF[1]?(p.instance(a.$zF[1],
T).texture=d.pack.getTexture(c),m.$uG.$FG.set_cursor(Z.Button)):(p.instance(a.$zF[1],T).texture=d.pack.getTexture(b),m.$uG.$FG.set_cursor(Z.Default))};f.pulseBtn=function(a,b,c){a.$zF[1].set_pixelSnapping(!1);var d=[];d.push(new Aa(a.$zF[1].scaleX,b,c));d.push(new Aa(a.$zF[1].scaleY,b,c));b=[];b.push(new Aa(a.$zF[1].scaleX,1,c));b.push(new Aa(a.$zF[1].scaleY,1,c));c=new G;c.run(new Ua(new F([new Ib(d),new Ib(b)])));a.add(c)};f.pulseUpDown=function(a,b,c){a.$zF[1].set_pixelSnapping(!1);var d=a.$zF[1].y.$aG,
f=new G;f.run(new Ua(new F([new Aa(a.$zF[1].y,d+b,c,t.sineInOut),new Aa(a.$zF[1].y,d,c,t.sineInOut)])));a.add(f)};f.mute=function(a){a?(d.muted=!0,m.volume.set__(0)):(d.muted=!1,m.volume.set__(1))};f.alignLeft=function(a){d.resizeScreen&&(a=a.$zF[1].x,a.set__(a.$aG-d.offsetX/2))};f.alignRight=function(a){d.resizeScreen&&(a=a.$zF[1].x,a.set__(a.$aG+d.offsetX/2))};f.detectLowEndDevice=function(){var a=window.navigator.userAgent.toLowerCase();if(-1!=a.indexOf("ipod")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad")){var a=
window.screen.width*window.devicePixelRatio,b=window.screen.height*window.devicePixelRatio;if(1024==a&&768==b||768==a&&1024==b)d.lite=!0;a=window.location.href;if(-1!=a.indexOf("en_US_Nick_p")||-1!=a.indexOf("en_US_Nick_t"))d.lite=!0,null}d.lite||null};f.__super__=z;f.prototype=x(z.prototype,{get_entitySlot:function(){return 12},__class__:f});var nd=function(a,b,c){this.topActive=!0;this.hasFired=!1;this.speed=this.reverseSpeed=-150;this.mode="DRIVEON";this.health=3;z.call(this);this.x=a|0;this.y=
b|0;"SEWER"==d.scene&&(this.health+=2);this.fire=c};k["project.Van"]=nd;nd.__name__=!0;nd.__super__=z;nd.prototype=x(z.prototype,{get_entitySlot:function(){return 25},onAdded:function(){this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].setXY(this.x,this.y);this.shadow=(new h).add(new q("battle/wagon","shadow",-90,-20));this.owner.addChild(this.shadow);this.chassis=new h;f.createImageSprite(this.owner,this.chassis,"blank",!0,0,-4);this.gunner=(new h).add(new q("battle/kraangvan",
"gunner",0,0));this.chassis.addChild(this.gunner);this.body=(new h).add(new q("battle/kraangvan","chassis",0,0));this.chassis.addChild(this.body);this.wheels=(new h).add(new q("battle/kraangvan","wheels",0,0));this.owner.addChild(this.wheels);this.side=(new h).add(new q("battle/kraang","kraang_idle",-10,-10));this.chassis.addChild(this.side);this.sideMuzzle=(new h).add(new q("battle/kraang","blank",-80,-70));this.side.addChild(this.sideMuzzle);this.top=(new h).add(new q("battle/kraang","kraang_idle",
-70,-100));this.chassis.addChild(this.top);this.topMuzzle=(new h).add(new q("battle/kraang","blank",-80,-70));this.top.addChild(this.topMuzzle);"CITY"==d.scene&&this.gunner.$zF[1].alpha.set__(0);this.playSound("rev_multi");this.bounce()},onUpdate:function(a){var b=this;if("EXIT"!=this.mode&&"DEAD"!=this.mode){var c=this.owner.$zF[1].x;c.set__(c.$aG+this.speed*a);this.speed>this.reverseSpeed&&(this.speed-=1150*a);!this.hasFired&&this.owner.$zF[1].x.$aG<this.x-520&&(this.hasFired=!0,this.sideFire(),
a=new G,a.run(new F([new s(1.5),new r(function(){b.topFire()}),new s(1.5),new r(function(){b.topFire()})])),this.owner.add(a))}},shunt:function(){var a=this,b=this.owner.$zF[1].x;b.set__(b.$aG+32);this.speed+=650;this.reverseSpeed=-120;this.health--;this.playSound("vehicle_hit_barricade1");b=!1;if(1>this.health)if("CITY"==d.scene){var c=new G;c.run(new F([new s(0.25),new r(function(){a.owner.$zF[1].x.animateBy(2E3,2.5,t.sineIn);a.playSound("screech_start");a.mode="EXIT"}),new s(1.5),new r(function(){a.mode=
"DEAD"})]));this.wheels.add(c)}else b=!0,this.mode="DEAD",this.shadow.$zF[1].x.animateBy(60,0.4,t.sineOut),this.wheels.dispose(),this.gunner.dispose(),this.body.$zF[20].play("hit","vanDead"),this.playSound("screech_start"),this.playSound("explosion1"),c=new G,c.run(new F([new s(0.2),new r(function(){a.owner.$zF[1].x.animateBy(-1800,1.7,t.sineIn)}),new s(0.6),new r(function(){a.owner.$zF[1].alpha.animateTo(0,1,t.sineOut)})])),this.owner.add(c);else if("CITY"==d.scene)switch(this.health){case 1:this.hitTop();
break;case 2:this.side.$zF[1].x.animateBy(80,1.4),this.side.$zF[1].y.animateBy(-50,0.3,t.sineOut),this.side.$zF[20].play("kraang_hit","kraang_dead"),c=new G,c.run(new F([new s(0.3),new r(function(){a.side.$zF[1].alpha.animateTo(0,0.5);a.side.$zF[1].y.animateBy(800,1.2,t.sineIn)})])),this.side.add(c),this.gunner.$zF[1].x.animateBy(50,0.3),this.gunner.$zF[1].y.animateBy(10,0.3)}else switch(this.health){case 2:this.hitTop();break;case 3:this.side.$zF[1].x.animateBy(80,1.4);this.side.$zF[1].y.animateBy(-50,
0.3,t.sineOut);this.side.$zF[20].play("kraang_hit","kraang_dead");c=new G;c.run(new F([new s(0.3),new r(function(){a.side.$zF[1].alpha.animateTo(0,0.5);a.side.$zF[1].y.animateBy(800,1.2,t.sineIn)})]));this.side.add(c);break;case 4:this.gunner.$zF[1].x.animateBy(50,0.5),this.gunner.$zF[1].y.animateBy(10,0.5)}return b},hitTopKraang:function(){return this.topActive?(this.hitTop(),!0):!1},hitTop:function(){var a=this;if(this.topActive){this.topActive=!1;this.top.$zF[1].x.animateBy(80,1.4);this.top.$zF[1].y.animateBy(-50,
0.3,t.sineOut);this.top.$zF[20].play("kraang_hit","kraang_dead");var b=new G;b.run(new F([new s(0.3),new r(function(){a.chassis.addChild(a.body,!0);a.chassis.addChild(a.side,!0);a.top.$zF[1].alpha.animateTo(0,0.8);a.top.$zF[1].y.animateBy(1200,1.3,t.sineIn)})]));this.top.add(b)}},topFire:function(){this.topMuzzle.$zF[20].play("flash","blank");this.top.$zF[20].play("kraang_shoot","kraang_idle");this.fire("top");this.playSound("kraang_fire")},sideFire:function(){this.sideMuzzle.$zF[20].play("flash",
"blank");this.side.$zF[20].play("kraang_shoot","kraang_idle");this.fire("side");this.playSound("kraang_fire")},bounce:function(){f.pulseUpDown(this.chassis,5,0.6)},playSound:function(a){m.hidden.$aG||(this.sfx=d.pack.getSound("audio/battle/"+a).play())},__class__:nd});var Lb=function(a,b){this.jumping=!1;z.call(this);this.x=a|0;this.y=b|0;switch(d.vehicle){case "wagon":this.width=230;break;case "shellraiser":this.width=270}};k["project.Vehicle"]=Lb;Lb.__name__=!0;Lb.__super__=z;Lb.prototype=x(z.prototype,
{get_entitySlot:function(){return 21},onAdded:function(){var a=this;this.owner.add(new T(d.pack.getTexture("blank")));this.owner.$zF[1].setXY(this.x,this.y);this.chassis=new h;f.createImageSprite(this.owner,this.chassis,"blank",!0,0,-4);d.front&&(this.front=(new h).add(new q("battle/"+d.vehicle,"frontArmour",0,0)),this.chassis.addChild(this.front));this.mikey=(new h).add(new q("battle/mikey","hangon",0,0));this.chassis.addChild(this.mikey);if("wagon"!=d.vehicle){var b=this.mikey.$zF[1].x;b.set__(b.$aG-
10)}b=new G;b.run(new F([new s(3),new r(function(){a.mikey.$zF[20].play("jumpin","blank")}),new s(0.2),new r(function(){a.mikey.$zF[1].x.animateBy(50,0.5)})]));this.owner.add(b);this.body=d.paint?(new h).add(new q("battle/"+d.vehicle,"paint",0,0)):(new h).add(new q("battle/"+d.vehicle,"body",0,0));this.chassis.addChild(this.body);d.weapon&&(this.muzzle=(new h).add(new q("battle/"+d.vehicle,"blank",0,0)),this.chassis.addChild(this.muzzle),this.weapon=(new h).add(new q("battle/"+d.vehicle,"gun",0,0)),
this.chassis.addChild(this.weapon));d.top&&(this.top=(new h).add(new q("battle/"+d.vehicle,"topArmour",0,0)),this.chassis.addChild(this.top));d.side&&(this.side=(new h).add(new q("battle/"+d.vehicle,"sideArmour",0,0)),this.chassis.addChild(this.side));this.wheels=d.wheels?(new h).add(new q("battle/"+d.vehicle,"wheelsCaps",0,0)):(new h).add(new q("battle/"+d.vehicle,"wheelsBare",0,0));this.owner.addChild(this.wheels);this.bounce()},addShadow:function(a){this.shadow=a},mine:function(){var a=this;if(!this.jumping){this.jumping=
!0;this.owner.$zF[1].rotation.animateTo(-f.randomNumber(10,20),0.2,t.sineOut);this.owner.$zF[1].y.animateBy(-f.randomNumber(40,90),0.3,t.sineOut);this.shadow.$zF[1].alpha.animateTo(0.6,0.4,t.sineOut);var b=new G;b.run(new F([new s(0.2),new r(function(){a.owner.$zF[1].rotation.animateTo(10,0.4,t.sineInOut)}),new s(0.2),new r(function(){a.chassis.$zF[1].y.animateTo(-4,0.5,t.sineInOut);a.owner.$zF[1].y.animateTo(a.y,0.3,t.sineIn);a.shadow.$zF[1].alpha.animateTo(1,0.4,t.sineIn)}),new s(0.3),new r(function(){a.owner.$zF[1].rotation.animateTo(0,
0.1,t.sineInOut);a.chassis.$zF[1].y.animateTo(-1,0.05,t.sineInOut)}),new s(0.05),new r(function(){a.jumping=!1;a.bounce()})]));this.chassis.add(b)}},jump:function(){var a=this;if(!this.jumping){this.jumping=!0;this.playSound("jump_short");this.chassis.$zF[1].y.animateTo(10,0.15,t.sineOut);this.chassis.$zF[1].rotation.animateTo(1,0.2,t.sineInOut);var b=new G;b.run(new F([new s(0.15),new r(function(){a.chassis.$zF[1].y.animateTo(-5,0.2,t.sineInOut);a.owner.$zF[1].rotation.animateTo(-30,0.2,t.sineOut);
a.owner.$zF[1].y.animateBy(-200,0.5,t.sineOut);a.shadow.$zF[1].alpha.animateTo(0.4,0.4,t.sineOut)}),new s(0.2),new r(function(){a.owner.$zF[1].rotation.animateTo(10,0.85,t.sineInOut)}),new s(0.4),new r(function(){a.chassis.$zF[1].y.animateTo(-4,0.5,t.sineInOut);a.owner.$zF[1].y.animateTo(a.y,0.5,t.sineIn);a.shadow.$zF[1].alpha.animateTo(1,0.4,t.sineIn)}),new s(0.45),new r(function(){a.owner.$zF[1].rotation.animateTo(0,0.1,t.sineInOut);a.chassis.$zF[1].y.animateTo(-1,0.05,t.sineInOut)}),new s(0.05),
new r(function(){a.jumping=!1;a.bounce()})]));this.chassis.add(b)}},ramp:function(){var a=this;if(!this.jumping){this.jumping=!0;this.chassis.$zF[1].y.animateTo(-5,0.2,t.sineInOut);this.owner.$zF[1].rotation.animateTo(-35,0.3,t.sineOut);var b=new G;b.run(new F([new s(0.15),new r(function(){a.owner.$zF[1].y.animateBy(-400,0.9,t.sineOut);a.shadow.$zF[1].alpha.animateTo(0.4,0.4,t.sineOut)}),new s(0.4),new r(function(){a.owner.$zF[1].rotation.animateTo(10,0.85,t.sineInOut)}),new s(0.6),new r(function(){a.chassis.$zF[1].y.animateTo(-4,
0.6,t.sineInOut);a.owner.$zF[1].y.animateTo(a.y,0.6,t.sineIn);a.shadow.$zF[1].alpha.animateTo(1,0.5,t.sineIn)}),new s(0.55),new r(function(){a.owner.$zF[1].rotation.animateTo(0,0.1,t.sineInOut);a.chassis.$zF[1].y.animateTo(-1,0.05,t.sineInOut)}),new s(0.05),new r(function(){a.jumping=!1;a.bounce()})]));this.chassis.add(b)}},sewerRamp:function(){var a=this;if(!this.jumping){this.jumping=!0;this.owner.$zF[1].rotation.animateTo(35,0.6,t.sineOut);this.shadow.$zF[1].alpha.animateTo(0,0.1,t.sineOut);var b=
new G;b.run(new F([new s(0.2),new r(function(){a.owner.$zF[1].y.animateBy(700,2.5);a.owner.$zF[1].x.animateBy(300,2.5)})]));this.chassis.add(b)}},fire:function(){var a=this.weapon.$zF[1].x;a.set__(a.$aG-12);this.weapon.$zF[1].x.animateTo(0,0.3,t.sineOut);a=this.muzzle.$zF[1].x;a.set__(a.$aG-12);this.muzzle.$zF[1].x.animateTo(0,0.3,t.sineOut);this.muzzle.$zF[20].play("muzzle","blank");this.playSound(d.vehicle+"Shoot");d.shotsFired++},goal:function(){this.owner.$zF[1].x.animateBy(1800,2,t.sineIn);this.shadow.$zF[1].x.animateBy(1800,
2,t.sineIn)},jumpPos:function(){return this.y-this.owner.$zF[1].y.$aG},bounce:function(){f.pulseUpDown(this.chassis,5,0.3)},stop:function(){this.mikey.$zF[1].set_visible(!1);this.chassis.$zF[11].stopAll();this.chassis.$zF[1].y.set__(0);this.wheels.add(new oa(0))},playSound:function(a){m.hidden.$aG||(this.sfx=d.pack.getSound("audio/battle/"+a).play())},__class__:Lb});var Le=function(){};k["spine.Updatable"]=Le;Le.__name__=!0;var ne=function(){};k["spine.Bone"]=ne;ne.__name__=!0;ne.__interfaces__=[Le];
ne.prototype={__class__:ne};var Ae=function(){};k["spine.BoneData"]=Ae;Ae.__name__=!0;Ae.prototype={__class__:Ae};var Oe=function(){};k["spine.EventData"]=Oe;Oe.__name__=!0;var Be=function(){};k["spine.IkConstraintData"]=Be;Be.__name__=!0;Be.prototype={__class__:Be};var Ce=function(){};k["spine.PathConstraintData"]=Ce;Ce.__name__=!0;Ce.prototype={__class__:Ce};var De=function(){};k["spine.Skeleton"]=De;De.__name__=!0;De.prototype={__class__:De};var Pe=function(){};k["spine.SkeletonData"]=Pe;Pe.__name__=
!0;var Qe=function(){};k["spine.Skin"]=Qe;Qe.__name__=!0;var Ee=function(){};k["spine.SlotData"]=Ee;Ee.__name__=!0;Ee.prototype={__class__:Ee};var Fe=function(){};k["spine.TransformConstraintData"]=Fe;Fe.__name__=!0;Fe.prototype={__class__:Fe};var Ge=function(){};k["spine.attachments.Attachment"]=Ge;Ge.__name__=!0;var Pb=function(){};k["spine.attachments.VertexAttachment"]=Pb;Pb.__name__=!0;Pb.__super__=Ge;Pb.prototype=x(Ge.prototype,{__class__:Pb});var oe=function(){};k["spine.attachments.MeshAttachment"]=
oe;oe.__name__=!0;oe.__super__=Pb;oe.prototype=x(Pb.prototype,{__class__:oe});var Ke,Re=0;k.Math=Math;String.prototype.__class__=k.String=String;String.__name__=!0;k.Array=Array;Array.__name__=!0;Date.prototype.__class__=k.Date=Date;Date.__name__=["Date"];var Se=k.Int={__name__:["Int"]},Te=k.Dynamic={__name__:["Dynamic"]},Me=k.Float=Number;Me.__name__=["Float"];var Ne=k.Bool=Boolean;Ne.__ename__=["Bool"];var Ue=k.Class={__name__:["Class"]},Ve={},Ja={},pe=He.ArrayBuffer||Ca;null==pe.prototype.slice&&
(pe.prototype.slice=Ca.sliceImpl);var Je=He.Uint8Array||Qa._new;v.Element=0;v.PCData=1;v.CData=2;v.Comment=3;v.DocType=4;v.ProcessingInstruction=5;v.Document=6;ja.DEFAULT_RESOLVER=qa;ja.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Pa.count=0;Ba.i64tmp=new wd(0,0);Oa.escapes=function(a){a=new U;null!=Ja.lt?a.setReserved("lt","<"):a.h.lt="<";null!=Ja.gt?a.setReserved("gt",">"):a.h.gt=">";null!=Ja.amp?a.setReserved("amp","&"):a.h.amp="&";null!=Ja.quot?a.setReserved("quot",
'"'):a.h.quot='"';null!=Ja.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);N.__toStr={}.toString;Qa.BYTES_PER_ELEMENT=1;h.$_F=new Ed;xa.$YG=new xa;ba.$pG=new bb(null,null);m.root=new h;m.uncaughtError=new P;m.lowMemoryWarning=new Ra;m.hidden=new aa(!1);m.volume=new B(1);m.$uG=xa.$YG;ka.$UH=function(){var a=null!=(new XMLHttpRequest).withCredentials;a||null;return a}();y.$LI=new Ya;y.$MI=new pa;y.$NI=new dc;sa.$iJ=new Kc(10);ya.$FN=new Od;la.$FN=new Pd;ha.$FN=new Nc;da.__meta__={obj:{injected:[{scenes:{},
height:720,id:"com.artofplaygames.buildnbattle",orientation:"landscape",fullscreen:!0,assets:{preloader:[{bytes:333,md5:"ABO7dGIqKGw2mNfpMhul3w",name:"bar_full.png"},{bytes:198,md5:"D-uE14Fh3DR5pBPg8Xbj3A",name:"bar_full.webp"},{bytes:85361,md5:"kE8pmLs0lgbymPfHn1C7Vw",name:"background.png"},{bytes:76,md5:"nDuDTlCQOgGNGBuBS9ds9Q",name:"config.ini"},{bytes:68296,md5:"tHZHd2v-DG_-JblBQi3YvQ",name:"background.webp"},{bytes:26085,md5:"Dvz2RYf7xXUHpGTvqe4RLQ",name:"priceFont.fnt"},{bytes:16883,md5:"eYWLi80IWasuXNgEGh8Oew",
name:"priceFont.png"},{bytes:15838,md5:"PhFyC6EuBeeVk2Ekb6VfTw",name:"priceFont.webp"},{bytes:24230,md5:"sjoj2cCuylG0tdbdjC2QFw",name:"frame.png"},{bytes:23592,md5:"_5CpWSMKQUl909pMZals2g",name:"frame.webp"},{bytes:22499,md5:"t4Nsuf4LOtGbOTvpQ-qOqQ",name:"tinyfont.fnt"},{bytes:11487,md5:"61oZzFJfHO1w104tYcx9sQ",name:"tinyfont.png"},{bytes:10532,md5:"F1dyobbw45Kr8RGO4_YyGA",name:"tinyfont.webp"}],mainassets:[{bytes:124,md5:"lERae41wljnn3hJhgZyisw",name:"blank.png"},{bytes:36,md5:"saOIGBG_-s-0iqesdulomA",
name:"blank.webp"},{bytes:212,md5:"efnJE0YTyqDSRHKIH0nvYw",name:"blankScreen.png"},{bytes:68,md5:"06QmJvt0uewc4sZ6NkWGaA",name:"blankScreen.webp"},{bytes:1161,md5:"XWOjJ0V5xPjdc93X8fVsbw",name:"config.xml"},{bytes:12634,md5:"SPteXjX-3MWxgcUXPQs9_Q",name:"sponsorLogo.png"},{bytes:11772,md5:"FPeBndqR5i6FtE8zAcAdPQ",name:"sponsorLogo.webp"},{bytes:6952,md5:"XdX2cJ6IjcLIkpV5JRlyeQ",name:"translation.xml"},{bytes:1251,md5:"kcy6HqELfTANuIpmdEBqWg",name:"audio/blank.mp3"},{bytes:4598,md5:"t18qHmgh6zzhE6Bnv8IDmw",
name:"audio/blank.ogg"},{bytes:3760,md5:"l86NPUnC_Z774TgaWCt2eA",name:"audio/click.mp3"},{bytes:5649,md5:"P8hQctAUq-cHd-Nroi0DPA",name:"audio/click.ogg"},{bytes:30745,md5:"ubmRlxBIFYUFWG8xjU2vFA",name:"audio/gong.mp3"},{bytes:26134,md5:"gPP1E5uIlVlFU9aopx5whQ",name:"audio/gong.ogg"},{bytes:343475,md5:"el4MUXs4Jvvna9mA6vxA1A",name:"audio/battle_loop.ogg"},{bytes:359698,md5:"e767BkurNaduQAi2ieDN3Q",name:"audio/build_loop.ogg"},{bytes:360584,md5:"6PLkYIky7-awVmORXfmiSg",name:"audio/menu_loop.ogg"},{bytes:431047,
md5:"6pf7qWO_m1hX-ECMMaPm5A",name:"audio/battle_loop.mp3"},{bytes:462768,md5:"rXKFXa-mS4XSJqSVvSSTbA",name:"audio/build_loop.mp3"},{bytes:468992,md5:"-yrliTI59S7Z6MNXZNjrvw",name:"audio/menu_loop.mp3"},{bytes:4770,md5:"sAxudngfMHRVtrlW27NeaA",name:"battle/fire.png"},{bytes:4416,md5:"W-XvEc4jQwockeZhmh3SOg",name:"battle/fire.webp"},{bytes:4681,md5:"G9dx0amd7a_YYYhvLzEn6Q",name:"battle/jump.png"},{bytes:4306,md5:"WExGjBFPiCkK3aNmnGm6ew",name:"battle/jump.webp"},{bytes:2833,md5:"nJ4yUmhLcg377rOpwGtYOw",
name:"battle/shell_pickup_large.png"},{bytes:2496,md5:"Dk25ooMosJWtradcGz7Kug",name:"battle/shell_pickup_large.webp"},{bytes:6325,md5:"clncSFtJPdm5oe0y0ZwyBw",name:"build/lock.png"},{bytes:6100,md5:"DKm2hCYPx9Skfxk5aX1Ing",name:"build/lock.webp"},{bytes:1617,md5:"9yOOyt3RporOOhbnTMOSpA",name:"build/shadow.png"},{bytes:1176,md5:"RUAFg2F1I-zy4hAkZfJbtA",name:"build/shadow.webp"},{bytes:1288,md5:"SI52i-sX2g-skDg7zW_wHg",name:"build/shadow_mikey.png"},{bytes:900,md5:"iMMNZnvkiKfXZd9BHzwXJw",name:"build/shadow_mikey.webp"},
{bytes:423404,md5:"dqYZg52aNGUbOlkM22kLYw",name:"build/background.webp"},{bytes:284,md5:"CywapUPT0ItOxSuTEvtrsw",name:"build/spark.png"},{bytes:134,md5:"89N5axRwFKMAKXIUZse4lQ",name:"build/spark.webp"},{bytes:6354,md5:"4Y0kI3wqT7Q3hwcVun14Ow",name:"build/sparks.pex"},{bytes:469717,md5:"ABhl7qRX8kjDkqWtvzrsmw",name:"build/background.png"},{bytes:4825,md5:"mH5TdksNz-gZBvdh6ET5-Q",name:"buttons/BTN_achievements.png"},{bytes:4480,md5:"yEqfklTvBh6oLyXjacjE8A",name:"buttons/BTN_achievements.webp"},{bytes:4730,
md5:"PHVE7i1VKERVtXHePQQghQ",name:"buttons/BTN_achievements_rollover.png"},{bytes:4470,md5:"3VJtSDVGAbNQP85pV299-g",name:"buttons/BTN_achievements_rollover.webp"},{bytes:4882,md5:"RBXYvMT-CfTIMg863lKBBQ",name:"buttons/BTN_audio_OFF.png"},{bytes:4514,md5:"HCFZOM1rt8RVOPc7hPIqZQ",name:"buttons/BTN_audio_OFF.webp"},{bytes:4762,md5:"oW6TbXYXKKrIZeRgkboMtw",name:"buttons/BTN_audio_OFF_rollover.png"},{bytes:4488,md5:"58roKwGhjmrERAB8Ac2utw",name:"buttons/BTN_audio_OFF_rollover.webp"},{bytes:4878,md5:"FsRIcgvDHSpKes9_K3QrHA",
name:"buttons/BTN_audio_ON.png"},{bytes:4632,md5:"ynkiLRQHg57UaeAto6-E4A",name:"buttons/BTN_audio_ON.webp"},{bytes:4920,md5:"blbAdEjDvkarXm0rm_NDMw",name:"buttons/BTN_audio_ON_rollover.png"},{bytes:4584,md5:"mw3rETJeGNo1e3KUHIs1Bw",name:"buttons/BTN_audio_ON_rollover.webp"},{bytes:4624,md5:"9fmsKn6lUKU7ilmduPQdNw",name:"buttons/BTN_check.png"},{bytes:4352,md5:"JHGGkfrInxSOcJtgOwbWeg",name:"buttons/BTN_check.webp"},{bytes:4744,md5:"0MLjCMpWN1CFB3XZuMu4Ww",name:"buttons/BTN_check_rollover.png"},{bytes:4370,
md5:"8j7hdAwgNdb1CxhZMY-Yog",name:"buttons/BTN_check_rollover.webp"},{bytes:3612,md5:"S0b4aXZBjKDXDUYfsmqQhg",name:"buttons/BTN_close.png"},{bytes:3418,md5:"NyTSGZ8lTaJjfIan1DXUnw",name:"buttons/BTN_close.webp"},{bytes:3596,md5:"0qeOZHQF_5jgICHI_hl_yA",name:"buttons/BTN_close_rollover.png"},{bytes:3412,md5:"c3xR6VKNeXhXoVgPyW4tZw",name:"buttons/BTN_close_rollover.webp"},{bytes:3214,md5:"GjqtpRGxPg_zSWBAh93Q3w",name:"buttons/BTN_down-arrow.png"},{bytes:2930,md5:"W1j8v4vCVBzdPsdjMveJTg",name:"buttons/BTN_down-arrow.webp"},
{bytes:3199,md5:"74LBYwE705OdDnvV49u-_Q",name:"buttons/BTN_down-arrow_rollover.png"},{bytes:2898,md5:"3w-nyo0Q5-eWfVlyFzq3cA",name:"buttons/BTN_down-arrow_rollover.webp"},{bytes:4739,md5:"Tv88tSMiCudUto6jGCwt2g",name:"buttons/BTN_help.png"},{bytes:4458,md5:"GuBgPmj7Q7QsrmcoNBRHTw",name:"buttons/BTN_help.webp"},{bytes:4742,md5:"HlOW0V40vAIeUxu54KoCcg",name:"buttons/BTN_help_rollover.png"},{bytes:4476,md5:"rq0xObJcCbiKxy1xhTwKPg",name:"buttons/BTN_help_rollover.webp"},{bytes:668,md5:"3kpOKxlTn-nCqjIya9y_bQ",
name:"buttons/BTN_item_back.png"},{bytes:544,md5:"E2hOjlwK1f3lb5RTgeIEdg",name:"buttons/BTN_item_back.webp"},{bytes:1761,md5:"1B2cy0IRoFymX1rqyIoJFA",name:"buttons/BTN_item_back_rollover.png"},{bytes:1206,md5:"IR0brM6t9KWWkif6B_ov-A",name:"buttons/BTN_item_back_rollover.webp"},{bytes:610,md5:"B-yQYmU8hqw89Gg4oBX7YQ",name:"buttons/BTN_item_next.png"},{bytes:466,md5:"sDxuHbBLRcx-5kJQCFranQ",name:"buttons/BTN_item_next.webp"},{bytes:1631,md5:"8QymaD2U0-YwdLAwPYUeqQ",name:"buttons/BTN_item_next_rollover.png"},
{bytes:1016,md5:"DcbZmrfkN6GUXqwgrBMzbQ",name:"buttons/BTN_item_next_rollover.webp"},{bytes:4602,md5:"7hqKXSzzcH0sJpUS-RA2OA",name:"buttons/BTN_ok.png"},{bytes:4336,md5:"NaubB2ZW65kXZm-IAs3pVg",name:"buttons/BTN_ok.webp"},{bytes:4651,md5:"mMdWcqCJVNmDq1qHfUAt9Q",name:"buttons/BTN_ok_rollover.png"},{bytes:4304,md5:"NG5R98LFlmVRraskGwUumw",name:"buttons/BTN_ok_rollover.webp"},{bytes:3605,md5:"qPKxFKhC64fcZp7k_b3I9g",name:"buttons/BTN_ok_small.png"},{bytes:3338,md5:"e88UnsNFU0Oy_sgz6cAWcQ",name:"buttons/BTN_ok_small.webp"},
{bytes:3586,md5:"Cfhbca3ghb0uy4x69d_7aQ",name:"buttons/BTN_pause.png"},{bytes:3332,md5:"e_WsHhQBJNCumGzqtgzY7A",name:"buttons/BTN_pause.webp"},{bytes:3530,md5:"jbvM6sdC2nYpPChWrpcvJg",name:"buttons/BTN_ok_small_rollover.png"},{bytes:3322,md5:"1NZfJo6GLKByxEjqA5_O6Q",name:"buttons/BTN_ok_small_rollover.webp"},{bytes:3573,md5:"lBVbzZuw5-MDxLbyifaERg",name:"buttons/BTN_pause_rollover.png"},{bytes:3332,md5:"R01kOvmAhIfQTJAjO-QGzw",name:"buttons/BTN_pause_rollover.webp"},{bytes:4612,md5:"YOU1LKPDGOPqtVfI5CyZGw",
name:"buttons/BTN_play.png"},{bytes:4354,md5:"dprD1Y7zX22ZuPbZwh228Q",name:"buttons/BTN_play.webp"},{bytes:4653,md5:"GR0175l8vrugbx4f6iczMw",name:"buttons/BTN_play_rollover.png"},{bytes:4382,md5:"JwoywzW6paw3Yd9cQ8KnGA",name:"buttons/BTN_play_rollover.webp"},{bytes:4812,md5:"p5nMqPX81KcQSQyx6HKPQw",name:"buttons/BTN_quit.png"},{bytes:4472,md5:"c3YQNralOD1JWTVhmdkfxQ",name:"buttons/BTN_quit.webp"},{bytes:4850,md5:"E_50cXpzlnFRYKz0JP0EdQ",name:"buttons/BTN_quit_rollover.png"},{bytes:4492,md5:"oKaeTNm2fyDmHtbb9LSnHg",
name:"buttons/BTN_quit_rollover.webp"},{bytes:3768,md5:"HgWgI_yKua1Wp5mYt6oheQ",name:"buttons/BTN_refresh.png"},{bytes:3516,md5:"tSn0KjMXQtIRYQwSMIik_A",name:"buttons/BTN_refresh.webp"},{bytes:3800,md5:"zSIcQpiq2IGWAGe6vYTexg",name:"buttons/BTN_refresh_rollover.png"},{bytes:3650,md5:"j2Cjz5upFwN9rtUBX5_Slw",name:"buttons/BTN_refresh_rollover.webp"},{bytes:3698,md5:"vq5sUVir0EtpzmTEVGtBsA",name:"buttons/BTN_sound_OFF.png"},{bytes:3426,md5:"Hik0CORf9x5Kr2AIuCA4pQ",name:"buttons/BTN_sound_OFF.webp"},
{bytes:3616,md5:"kZbY2w_NjI0lC6_ji4qz9Q",name:"buttons/BTN_sound_OFF_rollover.png"},{bytes:3420,md5:"KkbYwpegHku3hntARdE03Q",name:"buttons/BTN_sound_OFF_rollover.webp"},{bytes:3748,md5:"DqLLq8vfeyfKU7OY1z3FYw",name:"buttons/BTN_sound_ON.png"},{bytes:3562,md5:"2gC8YydZbr4MaxInCx38Wg",name:"buttons/BTN_sound_ON.webp"},{bytes:3801,md5:"nOa5VIxE0G9dZyzwUcQNOg",name:"buttons/BTN_sound_ON_rollover.png"},{bytes:3546,md5:"Yt-2BUFjzKnWscTMPL17tA",name:"buttons/BTN_sound_ON_rollover.webp"},{bytes:4624,md5:"9fmsKn6lUKU7ilmduPQdNw",
name:"buttons/BTN_tick.png"},{bytes:4352,md5:"JHGGkfrInxSOcJtgOwbWeg",name:"buttons/BTN_tick.webp"},{bytes:4744,md5:"0MLjCMpWN1CFB3XZuMu4Ww",name:"buttons/BTN_tick_rollover.png"},{bytes:4370,md5:"8j7hdAwgNdb1CxhZMY-Yog",name:"buttons/BTN_tick_rollover.webp"},{bytes:6431,md5:"UGoEKYbjlKUkdCPOx8C_bw",name:"buttons/BTN_up-arrow"},{bytes:3180,md5:"LsprsuNM68d_lKPGsxpScQ",name:"buttons/BTN_up-arrow.png"},{bytes:2906,md5:"cK4Xu0UIyMABNGrInuMzUQ",name:"buttons/BTN_up-arrow.webp"},{bytes:3204,md5:"h4OocwULL1ZVuCt4XBpokA",
name:"buttons/BTN_up-arrow_rollover.png"},{bytes:2928,md5:"0YIGYgfk4tRyWQHIKram6g",name:"buttons/BTN_up-arrow_rollover.webp"},{bytes:26084,md5:"HbyVU_ZdLOw5jP-V9fHfBw",name:"fonts/bodyFont.fnt"},{bytes:14384,md5:"ia_oHVDQT_Gp2f2hrUNB3Q",name:"fonts/bodyFont.png"},{bytes:13388,md5:"YmQTHwlPcSmqjNWpimnMnw",name:"fonts/bodyFont.webp"},{bytes:2580,md5:"6-OTgd4Ihwuq3pYUATFMQg",name:"fonts/creditsFont.fnt"},{bytes:5195,md5:"5sW_nNUjHFPC7O6TbOL-HA",name:"fonts/creditsFont.png"},{bytes:4630,md5:"HJHKLj5AbF_gQOJaNISp9w",
name:"fonts/creditsFont.webp"},{bytes:24462,md5:"FMk4vgGZUKvVszJ_LxQrFQ",name:"fonts/headerFont.fnt"},{bytes:17481,md5:"iiC1nRPDOhek94exhDTz4A",name:"fonts/headerFont.png"},{bytes:15940,md5:"i3x1cWCN1L8DZ6PcROmqYw",name:"fonts/headerFont.webp"},{bytes:26085,md5:"Dvz2RYf7xXUHpGTvqe4RLQ",name:"fonts/priceFont.fnt"},{bytes:16883,md5:"eYWLi80IWasuXNgEGh8Oew",name:"fonts/priceFont.png"},{bytes:15838,md5:"PhFyC6EuBeeVk2Ekb6VfTw",name:"fonts/priceFont.webp"},{bytes:22499,md5:"t4Nsuf4LOtGbOTvpQ-qOqQ",name:"fonts/tinyfont.fnt"},
{bytes:11487,md5:"61oZzFJfHO1w104tYcx9sQ",name:"fonts/tinyfont.png"},{bytes:10532,md5:"F1dyobbw45Kr8RGO4_YyGA",name:"fonts/tinyfont.webp"},{bytes:7700,md5:"8w6q7wvWOjcjUMGn9beQ9g",name:"pause/achievements_tab.png"},{bytes:6844,md5:"aoUiugwqZZhfx2rpRdUJZg",name:"pause/achievements_tab.webp"},{bytes:2840,md5:"bagDlLqFz70sK0ny4bNofQ",name:"pause/achievements_tick.png"},{bytes:2588,md5:"Ar4uKo1Ume0wP0enUciHMA",name:"pause/achievements_tick.webp"},{bytes:50778,md5:"k0s6dYVkueRiqTyu4rKEbQ",name:"pause/build.png"},
{bytes:45668,md5:"LcI1IhtdCOU38yB3ZdN42g",name:"pause/build.webp"},{bytes:43836,md5:"jyZikEkwby2_aVrW0qIXaA",name:"pause/desktop.png"},{bytes:39174,md5:"jVIwCbAobeNB_4bVGy7Vjg",name:"pause/desktop.webp"},{bytes:42951,md5:"Ly33OGDsV84OVP1UucWAtQ",name:"pause/mobile.png"},{bytes:38018,md5:"Ys1WpdvOTLhbKuxw86Vvhg",name:"pause/mobile.webp"},{bytes:5417,md5:"4jqd_ysoazpyxmcKrpqSxQ",name:"screens/go_icons.png"},{bytes:4812,md5:"K0wfvHfsVZkXtz6EhPKKYA",name:"screens/go_icons.webp"},{bytes:31781,md5:"ab4wkS_vObXsrNRUAnh61g",
name:"screens/speech_box.png"},{bytes:29158,md5:"M2Wpe5xjyMPQ2YP5xL84jw",name:"screens/speech_box.webp"},{bytes:1509,md5:"4TRcWOr84-a9XuPDfYzTVg",name:"screens/name_header.png"},{bytes:1222,md5:"T-xw1cXa-0HSnQlxxnKwZQ",name:"screens/name_header.webp"},{bytes:63086,md5:"V5SK_HHzYDtJb6EZGigTjg",name:"screens/sub_screen.webp"},{bytes:9406,md5:"GSdxC8d_UsiYMm9UmsqBPw",name:"screens/text_baked_partywagon.webp"},{bytes:9965,md5:"bzGrlISKS73d1W88x9PD5w",name:"screens/text_baked_partywagon.png"},{bytes:9310,
md5:"WpgXJ1jUPetxAW9vUnSuvA",name:"screens/text_baked_shellraiser.png"},{bytes:78231,md5:"nzCIWyoiD6lIGwVPptot-g",name:"screens/sub_screen.png"},{bytes:352934,md5:"bwQ3XwYuNBpjO_MzTSNJRg",name:"screens/background.webp"},{bytes:398987,md5:"P0mhFgeyGLqrUWwjgxGY7g",name:"screens/background.png"},{bytes:8706,md5:"FaRZkKnrdo3Ot3xtXYDErQ",name:"screens/text_baked_shellraiser.webp"},{bytes:29338,md5:"EQ92YfkDAFW8gEGL07cBqQ",name:"screens/title.png"},{bytes:28298,md5:"N58n2A-cv57D1sRC9YCxEA",name:"screens/title.webp"},
{bytes:21391,md5:"1TCUWVtgNNjvmwscQTRFXQ",name:"winScreen/atlas0.png"},{bytes:19870,md5:"Imqcnk0T8MTzwPpNQKnvhA",name:"winScreen/atlas0.webp"},{bytes:1451,md5:"N0zjnyDyhPApyKiixuzBJw",name:"winScreen/library.json"},{bytes:3361,md5:"G6s2df0x1xE8RUmif6yFAg",name:"audio/battle/cone.mp3"},{bytes:6264,md5:"p3UsVZ4PZz5iVXs6MM1IGQ",name:"audio/battle/cone.ogg"},{bytes:4014,md5:"80U-EEM6TRsKthykSNH_Wg",name:"audio/battle/crate.mp3"},{bytes:7605,md5:"a-XFk9XpT6BW6PsbaLhPKg",name:"audio/battle/crate.ogg"},
{bytes:123732,md5:"7Wepe35zil-s1GKjs5KFEQ",name:"audio/battle/engine_idle_loop.mp3"},{bytes:103540,md5:"H1aW6mHLzQJ5pqrD5_Ci8w",name:"audio/battle/engine_idle_loop.ogg"},{bytes:26437,md5:"n4Qdni8HD5rH_-D1_bvRtg",name:"audio/battle/explosion1.mp3"},{bytes:26855,md5:"IaqvIiVNgansr_9lyeazmQ",name:"audio/battle/explosion1.ogg"},{bytes:28410,md5:"-mSb6jbs9RtIIlAbnnRRZg",name:"audio/battle/explosion2.ogg"},{bytes:28661,md5:"jiI5UrFjtJv0Tsp_hYHWvA",name:"audio/battle/explosion2.mp3"},{bytes:31245,md5:"rght9S63GR3rBRUN85trxQ",
name:"audio/battle/game-over_shutdown.mp3"},{bytes:26759,md5:"Ca8AUaj_WlfRiohFfC2__g",name:"audio/battle/game-over_shutdown.ogg"},{bytes:13516,md5:"MTmeD8UmQMws2LhkoNGn5Q",name:"audio/battle/go.mp3"},{bytes:18142,md5:"ssWzB8sKh5IzwpnXBsvtKA",name:"audio/battle/go.ogg"},{bytes:15056,md5:"oGIBJUVWV284LzTihKndYQ",name:"audio/battle/jump_short.mp3"},{bytes:15904,md5:"LmyyY5Tr7bG-swywYNHpqw",name:"audio/battle/jump_short.ogg"},{bytes:5483,md5:"pPOxhgzUlrnijjvGEn07EA",name:"audio/battle/kraang_fire.mp3"},
{bytes:8022,md5:"y9zv9gf4wtaRfOY0_QUkeQ",name:"audio/battle/kraang_fire.ogg"},{bytes:7259,md5:"e9jZAYCckwP--9awE3T6EQ",name:"audio/battle/krang_beeps1.mp3"},{bytes:9399,md5:"90fKVAoPHTSDAn_SIMZzZA",name:"audio/battle/krang_beeps1.ogg"},{bytes:16178,md5:"pQGIBUiOJb3DzYyiW18oug",name:"audio/battle/krang_impact1.mp3"},{bytes:16257,md5:"AQUIGAOq_LItxnp50vAdjQ",name:"audio/battle/krang_impact1.ogg"},{bytes:10441,md5:"El2oWJplQMc1LcU-2YuoVw",name:"audio/battle/krang_impact2.ogg"},{bytes:7727,md5:"RZlMsQE-vupQgY9oheThBw",
name:"audio/battle/krang_impact2.mp3"},{bytes:4963,md5:"gh0jMzFcD6Lc4osxvHEmSg",name:"audio/battle/krang_impact3.mp3"},{bytes:7813,md5:"zAXS4x2E_rSwt-Y7rT6Z_w",name:"audio/battle/krang_impact3.ogg"},{bytes:7022,md5:"LPiMeQCsBYD61dIld8M1gA",name:"audio/battle/krang_impact4.mp3"},{bytes:9691,md5:"4m8Kz5bljMhzgbuBAoXPRA",name:"audio/battle/krang_impact4.ogg"},{bytes:5166,md5:"fKMbsXhBk_pEGmk0ICiwTg",name:"audio/battle/pickup.mp3"},{bytes:4753,md5:"9tDRaVG-8x_SYPPwqzFueQ",name:"audio/battle/pickup.ogg"},
{bytes:119976,md5:"Ps20Rkv0PDHjA31yp8pRJg",name:"audio/battle/rev_multi.mp3"},{bytes:89341,md5:"KoascLBhsoIcdMHadLdxqA",name:"audio/battle/rev_multi.ogg"},{bytes:32135,md5:"s-4gnvUtx_VEcqRhDDDNvA",name:"audio/battle/rev_single.mp3"},{bytes:28672,md5:"jSGClU5h2xaGmFTUy6jOIQ",name:"audio/battle/rev_single.ogg"},{bytes:24723,md5:"ZJ1Vc0QqTiO3ZXWzLoOfEw",name:"audio/battle/screech_start.ogg"},{bytes:25820,md5:"UAU7uSH3EK42L2GUvc6m6A",name:"audio/battle/screech_start.mp3"},{bytes:16404,md5:"WLR4r9rKTEWlMIOd2f7bhw",
name:"audio/battle/shellraiserBulletHit.mp3"},{bytes:17353,md5:"V6gj1F0X9946MW6RXQ6CBQ",name:"audio/battle/shellraiserBulletHit.ogg"},{bytes:7931,md5:"EtmZhI5xsQjNa14PpXMilA",name:"audio/battle/shellraiserShoot.mp3"},{bytes:10068,md5:"hN0DLBW-NO8GoR2sz-cHig",name:"audio/battle/shellraiserShoot.ogg"},{bytes:4014,md5:"VUR94BxGJPbyc7pfZk4_qA",name:"audio/battle/tyres.mp3"},{bytes:6452,md5:"rCN1n3E_ic0yA-JuX8UyJQ",name:"audio/battle/tyres.ogg"},{bytes:21996,md5:"ZE9fneOT5B1UWYAZpTqQPA",name:"audio/battle/vehicle_hit_barricade1.ogg"},
{bytes:23396,md5:"9i9bSAVB7T6HpQiemNV5kA",name:"audio/battle/vehicle_hit_barricade1.mp3"},{bytes:19485,md5:"DKoMeWRySSlUE7a1uOGM2g",name:"audio/battle/vehicle_hit_barricade2.mp3"},{bytes:17973,md5:"fd_-qfIb9Jy5acx1HwZaiw",name:"audio/battle/vehicle_hit_barricade2.ogg"},{bytes:6990,md5:"pK0_Cfo7_dWgOO8URgJmJA",name:"audio/battle/wagonBulletHit.mp3"},{bytes:9558,md5:"t7hqYGe8FfYQfRxi85MxNA",name:"audio/battle/wagonBulletHit.ogg"},{bytes:10927,md5:"z1-EMd2Kjk1O4TSwtXDzgQ",name:"audio/battle/wagonShoot.mp3"},
{bytes:12579,md5:"P94b8-Ux3lYzfWpBdlitbw",name:"audio/battle/wagonShoot.ogg"},{bytes:3520,md5:"yjDV9oCXWwqHMBC3hPGh7A",name:"audio/build/UI_Back.mp3"},{bytes:6219,md5:"Tu-xKJyND9HMWxD40WfEOQ",name:"audio/build/UI_Back.ogg"},{bytes:33897,md5:"wDm1NjdrXXISS5ksbk34cw",name:"audio/build/UI_Begin_Gong.mp3"},{bytes:26297,md5:"1kMLMif8bEIjct1UC0yKOg",name:"audio/build/UI_Begin_Gong.ogg"},{bytes:6623,md5:"acyMyvivDlm6TrPGJ_-8oQ",name:"audio/build/UI_Play.mp3"},{bytes:9427,md5:"88gh8_j8mOAgkePUPJbq7A",name:"audio/build/UI_Play.ogg"},
{bytes:3364,md5:"09mw7uUmi69m6FUvLpoFgA",name:"audio/build/UI_Select.mp3"},{bytes:6505,md5:"IHWqeYZx48Z0BeS1ZiAh0g",name:"audio/build/UI_Select.ogg"},{bytes:14948,md5:"aT6V0isixPgbzq42lIPRmA",name:"audio/build/UI_SlideIn.mp3"},{bytes:15974,md5:"irBsJP0KspuHO_dliphZGQ",name:"audio/build/UI_SlideIn.ogg"},{bytes:15674,md5:"j-iXdyCAHi59NZk0EnyVlw",name:"audio/build/UI_UltraCharged.mp3"},{bytes:17871,md5:"spYMaZyoDFLlRZo4Hm-rhA",name:"audio/build/UI_UltraCharged.ogg"},{bytes:3760,md5:"l86NPUnC_Z774TgaWCt2eA",
name:"audio/build/click.mp3"},{bytes:5649,md5:"P8hQctAUq-cHd-Nroi0DPA",name:"audio/build/click.ogg"},{bytes:22900,md5:"ArxwG6CxTtqGzf0VzBH8xA",name:"audio/build/drill.mp3"},{bytes:20494,md5:"4PQZOLuar1S_hsq9QrZq0w",name:"audio/build/drill.ogg"},{bytes:23317,md5:"8bHW_C3M_i5fxq7ht-bk2A",name:"audio/build/impact1.mp3"},{bytes:21949,md5:"u-XwiD182qrKdyN8a4TvxA",name:"audio/build/impact1.ogg"},{bytes:21828,md5:"mlKoG7XqQD9NCNttl8f22Q",name:"audio/build/impact2.mp3"},{bytes:20010,md5:"UPH_O8QVqK_yN4NospFcqA",
name:"audio/build/impact2.ogg"},{bytes:24204,md5:"VJ2ItNcOK4Xa-hXmKhpNOA",name:"audio/build/impact3.mp3"},{bytes:22439,md5:"FRpY-w1Dbzm3fuEUL5te0g",name:"audio/build/impact3.ogg"},{bytes:5372,md5:"jMYjZ-XgoHjbOoIiPBjafQ",name:"audio/build/loop-end.mp3"},{bytes:8899,md5:"uOZCWIMH4j_MEhbVObX-DQ",name:"audio/build/loop-end.ogg"},{bytes:33334,md5:"yeR5ABqcL7pqh0B4-BcYaw",name:"audio/build/ratchet.mp3"},{bytes:27858,md5:"1eWCW6FRkZUszrUyuM7a8g",name:"audio/build/ratchet.ogg"},{bytes:32135,md5:"s-4gnvUtx_VEcqRhDDDNvA",
name:"audio/build/rev_single.mp3"},{bytes:28672,md5:"jSGClU5h2xaGmFTUy6jOIQ",name:"audio/build/rev_single.ogg"},{bytes:19401,md5:"F9HRKIjuYfMN8Wh0NXS4ng",name:"audio/build/single-drill.mp3"},{bytes:19172,md5:"7zep9haHS63qJjz_6CmDDA",name:"audio/build/single-drill.ogg"},{bytes:20053,md5:"5Jb4RN0MXsTYvYiGGd7zLA",name:"audio/build/spray.mp3"},{bytes:19279,md5:"0bB42eUzh8Mv75fv-FZdSA",name:"audio/build/spray.ogg"},{bytes:18320,md5:"4b5nwQfTTI4GP6d26gLzTQ",name:"audio/build/welding-sparks.ogg"},{bytes:16379,
md5:"C-Kj_9_vgc_IoLZGDjc7mA",name:"audio/build/welding-sparks.mp3"},{bytes:12314,md5:"rYiEiY-tI0NDoASK9-8ynw",name:"battle/burst/atlas0.png"},{bytes:10108,md5:"i-2i6qAV3GcPBppcgxvx1w",name:"battle/burst/atlas0.webp"},{bytes:2673,md5:"SLjJSJwp4zphd-erwnB6hA",name:"battle/burst/library.json"},{bytes:24759,md5:"qNkkFTY8Hfsjhrqxm8YVCw",name:"battle/kraang/library.json"},{bytes:258364,md5:"7G3M96XcYFCTrAflKlvyfA",name:"battle/kraang/atlas0.png"},{bytes:239724,md5:"W4KJ_7TAdfdEi1VNZ2Psjg",name:"battle/kraang/atlas0.webp"},
{bytes:4231,md5:"vsk5kLfSVQX2g9CE71fxeQ",name:"battle/kraangvan/library.json"},{bytes:221664,md5:"aMBRK7HGwLLO2s6HQEsGIg",name:"battle/kraangvan/atlas0.png"},{bytes:9835,md5:"qWBmYLBmRrb6JVMYgfBddg",name:"battle/mikey/library.json"},{bytes:200476,md5:"nod4S5DBO-pTdjvFFNw82Q",name:"battle/kraangvan/atlas0.webp"},{bytes:118192,md5:"ZoNwy1MVyUdFBIxPJe4sog",name:"battle/mikey/atlas0.png"},{bytes:107072,md5:"mO3atahvgeP7CTTDKVBcXA",name:"battle/mikey/atlas0.webp"},{bytes:17338,md5:"n__LC7vSxDmMSH2GM6JbMA",
name:"battle/scene/library.json"},{bytes:39362,md5:"cUMCWtEoh21X_IMalanoog",name:"battle/mines/atlas0.png"},{bytes:34672,md5:"-fII5gmS_TDpHA9-Bpc0_A",name:"battle/mines/atlas0.webp"},{bytes:2054,md5:"yh9xdrAKZqhQaWubzyXQWQ",name:"battle/mines/library.json"},{bytes:249398,md5:"PMTto9__3fhj86Evesf8GQ",name:"battle/scene/atlas1.webp"},{bytes:275847,md5:"f0mFwM1bwS8o_aHpydD8OQ",name:"battle/scene/atlas1.png"},{bytes:9338,md5:"_PikSoHSdyfd4ou3NqD-lg",name:"battle/shellraiser/library.json"},{bytes:43119,
md5:"0d9PgwYxDYMn8b8vcXDnVw",name:"battle/sparkle/atlas0.png"},{bytes:255870,md5:"YOv3rJoyAKDqMT6tdFUPNg",name:"battle/shellraiser/atlas0.webp"},{bytes:39946,md5:"BfeK1gCMYVzn5gTMplPRMA",name:"battle/sparkle/atlas0.webp"},{bytes:3644,md5:"JElStwPEqQrvoPBUs6lFGg",name:"battle/sparkle/library.json"},{bytes:555288,md5:"AntEs63ge23yrD-LMU14aA",name:"battle/scene/atlas0.webp"},{bytes:617917,md5:"dQ59OMEkchheeY_3gjKsHA",name:"battle/scene/atlas0.png"},{bytes:351727,md5:"3HHieM2yuuZ45ouhLBVeKA",name:"battle/shellraiser/atlas0.png"},
{bytes:10962,md5:"j5EMiGwAAur-FeZStDUIxg",name:"battle/wagon/library.json"},{bytes:4661,md5:"OoAl1tU7tiF1XjpC0O2spw",name:"build/hud/build_icons_group.png"},{bytes:4380,md5:"eJrQ76nFfTCu8SAtn6JyOQ",name:"build/hud/build_icons_group.webp"},{bytes:16503,md5:"Zyyg-gSAfcz4yJ4vIX7NCg",name:"build/hud/burst.png"},{bytes:232909,md5:"Kv06zRL4edxmrP0PDoutIw",name:"battle/wagon/atlas0.png"},{bytes:202142,md5:"AhX_UrQ4hmWdqBWuK7Ossg",name:"battle/wagon/atlas0.webp"},{bytes:14418,md5:"GzFQxMVRXPp6UEpfgZ0IDA",
name:"build/hud/burst.webp"},{bytes:6060,md5:"hLMfmmK1WOIiJJ23fF0QRQ",name:"build/hud/credits_frame.png"},{bytes:5676,md5:"KOVwhcOl_HWjgoeILltAyQ",name:"build/hud/credits_frame.webp"},{bytes:82238,md5:"F6icXg9QZNo1lsHvLIbBCQ",name:"build/hud/drop_down_menu.png"},{bytes:1576,md5:"dmGY93J_Mjjb9sRcfGBHYQ",name:"build/hud/icon_fuel.png"},{bytes:82098,md5:"Hy3KOSrf_gb4fTpewugh7w",name:"build/hud/drop_down_menu.webp"},{bytes:1320,md5:"ccpcYklRLBPR3UEK0PYSOQ",name:"build/hud/icon_fuel.webp"},{bytes:1854,
md5:"BP5IcuB7V1o-xJs6AMUAjQ",name:"build/hud/icon_shield.png"},{bytes:1446,md5:"xaaduKewTrLQQrPoG9Y2Gw",name:"build/hud/icon_shield.webp"},{bytes:1960,md5:"eOflx_P0mU_BJfsQbaLdqg",name:"build/hud/icon_speed.png"},{bytes:1716,md5:"MX9Bgq-Mhbb0LAsa9TLeSg",name:"build/hud/icon_speed.webp"},{bytes:9939,md5:"576e0iTxFt0aEOvuyKF0cA",name:"build/hud/item_frame.png"},{bytes:9162,md5:"jNpHN3gLUfvUg-wftjPiPg",name:"build/hud/item_frame.webp"},{bytes:9891,md5:"i_hrhl2r-t07Pr027Rue4A",name:"build/hud/item_frame_rollover.png"},
{bytes:9156,md5:"N_Gx-DxsM93Qf0V62tCm4w",name:"build/hud/item_frame_rollover.webp"},{bytes:2349,md5:"6sE2xKovVHPKun1qP9yDuQ",name:"build/hud/shell_credit_large.png"},{bytes:2130,md5:"Dlfn-jKDzTImtfFBFKy4hA",name:"build/hud/shell_credit_large.webp"},{bytes:1843,md5:"USZqBAjSMCh9cBJQ3yU40Q",name:"build/hud/shell_credit_small.png"},{bytes:1606,md5:"do842w-PRIjttaQNzTw-jQ",name:"build/hud/shell_credit_small.webp"},{bytes:39447,md5:"gVg948au44XRFM8mvXMJNQ",name:"build/hud/tip_frame.png"},{bytes:36754,
md5:"wW_DrEgBKb_bMDhFlOOT4Q",name:"build/hud/tip_frame.webp"},{bytes:456,md5:"ou7mfTru-x_9OK-RKI3KNg",name:"build/hud/white_check.png"},{bytes:348,md5:"qUya1FRGwzqAfgKUo4NvIQ",name:"build/hud/white_check.webp"},{bytes:7628,md5:"ItusRWBlCGr8KohCJ5Bu9w",name:"build/shellraiser/library.json"},{bytes:7621,md5:"1E87c0FjLne47tTIA-j7mA",name:"build/wagon/library.json"},{bytes:23184,md5:"jKh6QMBX_e8b6UBjGnIvdA",name:"build/turtles/library.json"},{bytes:304474,md5:"GRrYX6oHKunYQp3IQ2_SYA",name:"build/wagon/atlas0.webp"},
{bytes:10317,md5:"6cWZabPfLaszpd7ltgV1Qg",name:"screens/chassis/library.json"},{bytes:352701,md5:"7rFgEwiKAWWXbbtqOF3E1Q",name:"build/wagon/atlas0.png"},{bytes:12766,md5:"CjruV98p2UgT3kMPNtMKPA",name:"audio/battle/vo/hit.mp3"},{bytes:13734,md5:"VHoXUMQWevEZPb1rwuVATA",name:"audio/battle/vo/hit.ogg"},{bytes:27481,md5:"y3ZeYEPLo58TH7a5uA1ToA",name:"audio/battle/vo/intro1.mp3"},{bytes:518258,md5:"mFbrpG8qwXU505ydT_RP3w",name:"build/shellraiser/atlas0.webp"},{bytes:305006,md5:"oY93snIpIJE7pFoGLJhFKA",
name:"build/turtles/atlas0.webp"},{bytes:25815,md5:"q2RqoWfxFXNC8jZrSBeQrw",name:"audio/battle/vo/intro1.ogg"},{bytes:376990,md5:"4j72NjhOV0bPCVscZFf2_A",name:"build/turtles/atlas0.png"},{bytes:16099,md5:"Aym4DYwPTVfscoWhDZtNgg",name:"audio/battle/vo/intro2.mp3"},{bytes:14234,md5:"vLATaJhTNDiRwHVLL1rkiQ",name:"audio/battle/vo/intro2.ogg"},{bytes:16311,md5:"M4KE5Q2u4TrMFdGH_CKs3Q",name:"audio/battle/vo/intro4.ogg"},{bytes:16078,md5:"rdH7mdBgopj7GkwXeMCaGw",name:"audio/battle/vo/lose1.mp3"},{bytes:680758,
md5:"uV6OwfBKldHRNd0E3M-fDQ",name:"build/shellraiser/atlas0.png"},{bytes:15977,md5:"LfD-6TxeSs5PC0h1NbDkEg",name:"audio/battle/vo/lose1.ogg"},{bytes:18107,md5:"19DE1cwj2XjODGrjfhqrzA",name:"audio/battle/vo/lose2.mp3"},{bytes:18022,md5:"W_Nj0Mz7Gx-x9Ug0xDDa1A",name:"audio/battle/vo/lose2.ogg"},{bytes:703820,md5:"LoeroD89N6ye5LEysq6dlg",name:"screens/chassis/atlas0.webp"},{bytes:10860,md5:"ewk1A042U05i3IFkfG35MQ",name:"audio/battle/vo/lose3.mp3"},{bytes:12144,md5:"J4lxg7bN-X-G3HBKqbv0Lw",name:"audio/battle/vo/lose3.ogg"},
{bytes:12147,md5:"FQhHJN4ZJP6j8NZWkmBtdg",name:"audio/battle/vo/lose4.mp3"},{bytes:796638,md5:"unqt4hrY42bLc8d7Ktonvg",name:"screens/chassis/atlas0.png"},{bytes:13495,md5:"zxVl59SCoRNtFfwQ7CQRSw",name:"audio/battle/vo/lose4.ogg"},{bytes:11408,md5:"0rvcaWBqjORF2aLRATFzNA",name:"audio/battle/vo/win1.mp3"},{bytes:12339,md5:"xzqdhCHuUB8YX4uKdB5KwQ",name:"audio/battle/vo/win1.ogg"},{bytes:24621,md5:"LM1NHPDJMgjpRgfZJyr8Bg",name:"audio/battle/vo/win2.mp3"},{bytes:21945,md5:"TC7tENoXZ--Ib4oGzFKixw",name:"audio/battle/vo/win2.ogg"},
{bytes:20964,md5:"Q_3NHTCVH8hq-XGswmtokg",name:"audio/battle/vo/win3.mp3"},{bytes:20342,md5:"7kF0eOfnL7YhKvoJOkNmYA",name:"audio/battle/vo/win3.ogg"},{bytes:11408,md5:"44KQyW_lDzqvS5KuTOViIw",name:"audio/build/vo/Donnie-amazing.mp3"},{bytes:12339,md5:"yNut_kfF1XrPaYX8Pwmh_A",name:"audio/build/vo/Donnie-amazing.ogg"},{bytes:10630,md5:"ZEZOvHt2iy8QymA6FiByTg",name:"audio/build/vo/Donnie-idea.mp3"},{bytes:11824,md5:"iGzHDHs91BfJyeDJM8h0QQ",name:"audio/build/vo/Donnie-idea.ogg"},{bytes:10348,md5:"PMYf85y8zYUDIQPlvjY4iw",
name:"audio/build/vo/Donnie-move.mp3"},{bytes:12051,md5:"uE9VCb6JeCrHX0TBzK8IHg",name:"audio/build/vo/Donnie-move.ogg"},{bytes:25586,md5:"yl56fgfEaDrzcuH2PKqYTw",name:"audio/build/vo/Leo-city.mp3"},{bytes:23355,md5:"saFaXaZNJE3Sv4io9uUJng",name:"audio/build/vo/Leo-city.ogg"},{bytes:12094,md5:"QrXO1tx5HbGC7hQQhupzfw",name:"audio/build/vo/Mikey-all.mp3"},{bytes:13495,md5:"9-YqN2jaONiv9MU83tXUdw",name:"audio/build/vo/Mikey-all.ogg"},{bytes:27454,md5:"vmGhDGK0_aD2IM2XWMpVVg",name:"audio/build/vo/Mikey-boi.mp3"},
{bytes:25815,md5:"_y-qi2YhjBy9BLekNWy7wA",name:"audio/build/vo/Mikey-boi.ogg"},{bytes:12667,md5:"pBYl9qRyWY18PfOHsvs-jQ",name:"audio/build/vo/Mikey-hellow.mp3"},{bytes:13582,md5:"36qfJbfmMAdYQOIUca5JFQ",name:"audio/build/vo/Mikey-hellow.ogg"},{bytes:16473,md5:"B_qKJqWO3YVfqybzXSWcUg",name:"audio/build/vo/Mikey-loco.mp3"},{bytes:17025,md5:"KPfUqzmKU5LSpchMiYM24Q",name:"audio/build/vo/Mikey-loco.ogg"},{bytes:44470,md5:"Nuusv5JEtTQPyzTF1BAX2A",name:"audio/build/vo/Mikey-quick.mp3"},{bytes:40413,md5:"MMumzH02tFzKbp0vZQoK3Q",
name:"audio/build/vo/Mikey-quick.ogg"},{bytes:16099,md5:"HszGT81MRrf7MuT5_IxF1A",name:"audio/build/vo/Mikey-yeah.mp3"},{bytes:16311,md5:"XxDA5USynsPTDzPOP-5fOA",name:"audio/build/vo/Mikey-yeah.ogg"},{bytes:35234,md5:"FhyiEBzv7NT9og83Zwq6hw",name:"audio/build/vo/Raph-bad.mp3"},{bytes:32955,md5:"2ndtxvi_9w99BT5v5G8BIw",name:"audio/build/vo/Raph-bad.ogg"},{bytes:6575,md5:"PkAt7mch3Xso5TNdMyzowQ",name:"build/damaged/shellraiser/front_shieldLose.png"},{bytes:6094,md5:"340b3WBTSPLC_MY3XCuW2A",name:"build/damaged/shellraiser/front_shieldLose.webp"},
{bytes:6817,md5:"JiFnDQGIkHBF2sQ3YBofKQ",name:"build/damaged/shellraiser/side_shieldLose.png"},{bytes:6548,md5:"bbr0fCvG5BaJwtv414wdLg",name:"build/damaged/shellraiser/side_shieldLose.webp"},{bytes:3963,md5:"T9QxMAxZP8TKUyWjMko-pg",name:"build/damaged/shellraiser/top_shieldLose.png"},{bytes:3578,md5:"OSCTaf2mQst6yWtRrHCO6g",name:"build/damaged/shellraiser/top_shieldLose.webp"},{bytes:6086,md5:"KjqXHGuqFiKMBr1XQBv-Hw",name:"build/damaged/shellraiser/weaponLose.png"},{bytes:5746,md5:"PeVuJTx2SSsnyRRuv6udFw",
name:"build/damaged/shellraiser/weaponLose.webp"},{bytes:7596,md5:"QZPAQXG027Sqk9OUEgvKWA",name:"build/damaged/shellraiser/wheelsLose.png"},{bytes:7238,md5:"EHbKU-kpltc6Nof7abV5ew",name:"build/damaged/shellraiser/wheelsLose.webp"},{bytes:5431,md5:"-eUO_fmDZfK0o3sTczePTA",name:"build/damaged/wagon/front_shieldLose.png"},{bytes:5154,md5:"FqI81-Mvy94ssOpsQCRObA",name:"build/damaged/wagon/front_shieldLose.webp"},{bytes:10306,md5:"ef3mkMiivHJ4h1Idd9SgWw",name:"build/damaged/wagon/side_shieldLose.png"},
{bytes:9626,md5:"iGK3ttS6tQ1WCMNdvh9Hlg",name:"build/damaged/wagon/side_shieldLose.webp"},{bytes:3389,md5:"Adruoidzk5oXvYmtF1eAwg",name:"build/damaged/wagon/top_shieldLose.png"},{bytes:3082,md5:"U2QxC53RX8nlfVsJ4PIBjg",name:"build/damaged/wagon/top_shieldLose.webp"},{bytes:4072,md5:"7IEWqYQV7ottnwIz9MwhSQ",name:"build/damaged/wagon/weaponLose.png"},{bytes:3838,md5:"33cdEOSCVi4axTw_QdB87g",name:"build/damaged/wagon/weaponLose.webp"},{bytes:8009,md5:"cscHlJXTHQ6-T4AN5GM8Pg",name:"build/damaged/wagon/wheelsLose.png"},
{bytes:7664,md5:"4SAWNCqYhKDGTpVlY2y3TQ",name:"build/damaged/wagon/wheelsLose.webp"},{bytes:6575,md5:"PkAt7mch3Xso5TNdMyzowQ",name:"build/hud/shellraiser/frontLose.png"},{bytes:6094,md5:"340b3WBTSPLC_MY3XCuW2A",name:"build/hud/shellraiser/frontLose.webp"},{bytes:6473,md5:"q328QI9fWSrFNQectYFS_w",name:"build/hud/shellraiser/front_shield.png"},{bytes:6032,md5:"IBATbRYOQpewy-fUekLHPg",name:"build/hud/shellraiser/front_shield.webp"},{bytes:6238,md5:"oyKyU2brHSzlBM7er3V69Q",name:"build/hud/shellraiser/fuel.png"},
{bytes:5600,md5:"72y3CQxUxiRGhaIHOro9MQ",name:"build/hud/shellraiser/fuel.webp"},{bytes:6759,md5:"fkyppdGVZU8932M9pe_zVQ",name:"build/hud/shellraiser/fuelLose.png"},{bytes:6274,md5:"6JNo0Mk8HJO3pnHbxrz-KA",name:"build/hud/shellraiser/fuelLose.webp"},{bytes:3987,md5:"n_zv6t11dDKbw13nUAenTw",name:"build/hud/shellraiser/paint.png"},{bytes:3782,md5:"llaQ7CRTZ7NX8OHu2sXcSA",name:"build/hud/shellraiser/paint.webp"},{bytes:6817,md5:"JiFnDQGIkHBF2sQ3YBofKQ",name:"build/hud/shellraiser/sideLose.png"},{bytes:6548,
md5:"bbr0fCvG5BaJwtv414wdLg",name:"build/hud/shellraiser/sideLose.webp"},{bytes:6214,md5:"JRq1466Zl3MGli-2FpO7vg",name:"build/hud/shellraiser/side_shield.png"},{bytes:5718,md5:"5Zqtv2Ndqq7bfiF_xxyNaw",name:"build/hud/shellraiser/side_shield.webp"},{bytes:3963,md5:"T9QxMAxZP8TKUyWjMko-pg",name:"build/hud/shellraiser/topLose.png"},{bytes:3578,md5:"OSCTaf2mQst6yWtRrHCO6g",name:"build/hud/shellraiser/topLose.webp"},{bytes:3606,md5:"yInWA4dWpf_7LOXaWH_buA",name:"build/hud/shellraiser/top_shield.png"},
{bytes:3332,md5:"lEj_BurRn298H_ZczF0gTw",name:"build/hud/shellraiser/top_shield.webp"},{bytes:5288,md5:"6LPNIiAu-F9v4Go8QQYyyw",name:"build/hud/shellraiser/weapon.png"},{bytes:5020,md5:"4ry92_UgGghHC3IJ8loTmQ",name:"build/hud/shellraiser/weapon.webp"},{bytes:6086,md5:"KjqXHGuqFiKMBr1XQBv-Hw",name:"build/hud/shellraiser/weaponLose.png"},{bytes:5746,md5:"PeVuJTx2SSsnyRRuv6udFw",name:"build/hud/shellraiser/weaponLose.webp"},{bytes:7457,md5:"h8xNJml_7jIachLEiw6S7A",name:"build/hud/shellraiser/wheels.png"},
{bytes:6870,md5:"i5RKpspLHcKfetndXJDE7A",name:"build/hud/shellraiser/wheels.webp"},{bytes:7596,md5:"QZPAQXG027Sqk9OUEgvKWA",name:"build/hud/shellraiser/wheelsLose.png"},{bytes:7238,md5:"EHbKU-kpltc6Nof7abV5ew",name:"build/hud/shellraiser/wheelsLose.webp"},{bytes:5431,md5:"-eUO_fmDZfK0o3sTczePTA",name:"build/hud/wagon/frontLose.png"},{bytes:5154,md5:"FqI81-Mvy94ssOpsQCRObA",name:"build/hud/wagon/frontLose.webp"},{bytes:5212,md5:"uBMMmWMB1wyVOx1MwtmQFg",name:"build/hud/wagon/front_shield.png"},{bytes:4780,
md5:"JdDe1I2I80EG0AjDKVMwvA",name:"build/hud/wagon/front_shield.webp"},{bytes:6238,md5:"oyKyU2brHSzlBM7er3V69Q",name:"build/hud/wagon/fuel.png"},{bytes:5600,md5:"72y3CQxUxiRGhaIHOro9MQ",name:"build/hud/wagon/fuel.webp"},{bytes:6759,md5:"fkyppdGVZU8932M9pe_zVQ",name:"build/hud/wagon/fuelLose.png"},{bytes:6274,md5:"6JNo0Mk8HJO3pnHbxrz-KA",name:"build/hud/wagon/fuelLose.webp"},{bytes:3987,md5:"n_zv6t11dDKbw13nUAenTw",name:"build/hud/wagon/paint.png"},{bytes:3782,md5:"llaQ7CRTZ7NX8OHu2sXcSA",name:"build/hud/wagon/paint.webp"},
{bytes:10306,md5:"ef3mkMiivHJ4h1Idd9SgWw",name:"build/hud/wagon/sideLose.png"},{bytes:9626,md5:"iGK3ttS6tQ1WCMNdvh9Hlg",name:"build/hud/wagon/sideLose.webp"},{bytes:9504,md5:"4W1gn_J6fl7jXnF3DRcEdA",name:"build/hud/wagon/side_shield.png"},{bytes:8992,md5:"2PeRZUzhQJHSyqyHy46g-Q",name:"build/hud/wagon/side_shield.webp"},{bytes:3389,md5:"Adruoidzk5oXvYmtF1eAwg",name:"build/hud/wagon/topLose.png"},{bytes:3082,md5:"U2QxC53RX8nlfVsJ4PIBjg",name:"build/hud/wagon/topLose.webp"},{bytes:3059,md5:"jST4_TljF0YAbh8KsP7fcw",
name:"build/hud/wagon/top_shield.png"},{bytes:2846,md5:"OPut9u0PbXw0f1jfvurSig",name:"build/hud/wagon/top_shield.webp"},{bytes:3795,md5:"_LPP72Tsi1s6Nr9T6EzCbQ",name:"build/hud/wagon/weapon.png"},{bytes:3474,md5:"dOCxLEwKKEXlAcH-W1L73g",name:"build/hud/wagon/weapon.webp"},{bytes:4072,md5:"7IEWqYQV7ottnwIz9MwhSQ",name:"build/hud/wagon/weaponLose.png"},{bytes:3838,md5:"33cdEOSCVi4axTw_QdB87g",name:"build/hud/wagon/weaponLose.webp"},{bytes:7633,md5:"vV5fGyvzH033_ngLjyf2FQ",name:"build/hud/wagon/wheels.png"},
{bytes:6988,md5:"jERBL1E8nt7whPocXqTt1A",name:"build/hud/wagon/wheels.webp"},{bytes:8009,md5:"cscHlJXTHQ6-T4AN5GM8Pg",name:"build/hud/wagon/wheelsLose.png"},{bytes:7664,md5:"4SAWNCqYhKDGTpVlY2y3TQ",name:"build/hud/wagon/wheelsLose.webp"}],_2DKitOrientation:[{bytes:2308,md5:"MEYhGf8gbVuOOxcTO9bZlA",name:"RotateDevice.png"},{bytes:1794,md5:"jKhibIkp_bMvwCVvP-C45w",name:"RotateDevice.webp"}]},width:480}]}};K.$eR=0;K.$fR=0;K.$gR=!0;E.$SS=["webkit","moz","ms"];E.$TS=(new ma("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);
E.$VS=(new ma("\\b(Trident|Edge)\\b","")).match(window.navigator.userAgent);J.$IT=!0;va.$MI=new pa;d.v2=!1;d.lite=!1;d.minScaleSize=960;d.scale=1;d.offsetX=0;d.offsetY=0;d.alwaysResize=!1;d.staticWidth=960;d.staticHeight=640;d.isMobile=!1;d.active=!0;d.muted=!1;d.firstPlay=!0;d.startTip=!0;d.preGameHelp=!0;d.vo=!0;d.scene="CITY";d.vehicle="shellraiser";d.paint=!0;d.front=!0;d.side=!0;d.top=!0;d.weapon=!0;d.wheels=!1;d.fueltank=!1;d.paintRound=0;d.frontRound=0;d.sideRound=0;d.topRound=0;d.weaponRound=
0;d.wheelsRound=0;d.fueltankRound=0;d.shotsFired=0;d.hide_paint=!1;d.hide_front=!1;d.hide_side=!1;d.hide_top=!1;d.hide_weapon=!1;d.hide_wheels=!1;d.hide_fueltank=!1;d.paintTip=!0;d.frontTip=!0;d.sideTip=!0;d.topTip=!0;d.weaponTip=!0;d.wheelsTip=!0;d.fuelTip=!0;d.quitTip=!1;d.speed=70;d.fuel=70;d.health=100;d.maxFuel=100;d.maxHealth=200;d.achieve1=!1;d.achieve2=!1;d.achieve3=!1;d.achieve4=!1;d.completeWagon=!1;d.completeShellraiser=!1;d.achievePods=0;d.achievePodsTotal=100;d.achieveShells=0;d.achieveShellsTotal=
200;d.showFPS=!1;d.testMode=!1;d.showDebugInfo=!1;we.$SN()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
