this.createjs=this.createjs||{},function(){"use strict";var t=createjs.PreloadJS=createjs.PreloadJS||{};t.version="0.6.3",t.buildDate="Tue, 15 Sep 2015 20:59:37 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var i=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n)for(var r in i[(e+="_")+"constructor"]=n.constructor,n)i.hasOwnProperty(r)&&"function"==typeof n[r]&&(i[e+r]=n[r]);return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var i=0,n=t.length;n>i;i++)if(e===t[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(i))}}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,createjs.BrowserDetect=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.Event_constructor("error"),this.title=t,this.message=e,this.data=i}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n,r=(n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return r&&this.removeEventListener(t,e,i),(r=n[t])?r.push(e):n[t]=[e],e},e.on=function(t,e,i,n,r,o){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,r),n&&t.remove()},o)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var r=n[t];if(r)for(var o=0,s=r.length;s>o;o++)if(r[o]==e){1==s?delete n[t]:r.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t){if("string"==typeof t){var e=this._listeners;if(!e||!e[t])return!1;t=new createjs.Event(t)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var i=this,n=[i];i.parent;)n.push(i=i.parent);var r,o=n.length;for(r=o-1;r>=0&&!t.propagationStopped;r--)n[r]._dispatchEvent(t,1+(0==r));for(r=1;o>r&&!t.propagationStopped;r++)n[r]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n=1==e?this._captureListeners:this._listeners;if(t&&n){var r=n[t.type];if(!r||!(i=r.length))return;try{t.currentTarget=this}catch(t){}try{t.eventPhase=e}catch(t){}t.removed=!1,r=r.slice();for(var o=0;i>o&&!t.immediatePropagationStopped;o++){var s=r[o];s.handleEvent?s.handleEvent(t):s(t),t.removed&&(this.off(t.type,s,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(t){"use strict";function e(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}createjs.extend(e,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(e,"Event")}(window),function(){function t(e,n){function o(t){if(o[t]!==b)return o[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=o("json-stringify")&&o("json-parse");else{var i,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=n.stringify,l="function"==typeof c&&y;if(l){(i=function(){return 1}).toJSON=i;try{l="0"===c(0)&&"0"===c(new s)&&'""'==c(new a)&&c(g)===b&&c(b)===b&&c()===b&&"1"===c(i)&&"[1]"==c([i])&&"[null]"==c([b])&&"null"==c(null)&&"[null,null,null]"==c([b,g,null])&&c({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===c(null,i)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(t){l=!1}}e=l}if("json-parse"==t){var h=n.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){var _=5==(i=h(r)).a.length&&1===i.a[0];if(_){try{_=!h('"\t"')}catch(t){}if(_)try{_=1!==h("01")}catch(t){}if(_)try{_=1!==h("1.")}catch(t){}}}}catch(t){_=!1}e=_}}return o[t]=!!e}e||(e=r.Object()),n||(n=r.Object());var s=e.Number||r.Number,a=e.String||r.String,c=e.Object||r.Object,u=e.Date||r.Date,l=e.SyntaxError||r.SyntaxError,h=e.TypeError||r.TypeError,_=e.Math||r.Math,p=e.JSON||r.JSON;"object"==typeof p&&p&&(n.stringify=p.stringify,n.parse=p.parse);var d,f,b,m=c.prototype,g=m.toString,y=new u(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(t){}if(!o("json")){var v="[object Function]",w="[object Number]",x="[object String]",T="[object Array]",S=o("bug-string-char-index");if(!y)var A=_.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(t,e){return C[e]+365*(t-1970)+A((t-1969+(e=+(e>1)))/4)-A((t-1901+e)/100)+A((t-1601+e)/400)};if((d=m.hasOwnProperty)||(d=function(t){var e,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=g?d=function(t){var e=this.__proto__,i=t in(this.__proto__=null,this);return this.__proto__=e,i}:(e=i.constructor,d=function(t){var i=(this.constructor||e).prototype;return t in this&&!(t in i&&this[t]===i[t])}),i=null,d.call(this,t)}),f=function(t,e){var n,r,o,s=0;for(o in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)d.call(r,o)&&s++;return n=r=null,s?f=2==s?function(t,e){var i,n={},r=g.call(t)==v;for(i in t)r&&"prototype"==i||d.call(n,i)||!(n[i]=1)||!d.call(t,i)||e(i)}:function(t,e){var i,n,r=g.call(t)==v;for(i in t)r&&"prototype"==i||!d.call(t,i)||(n="constructor"===i)||e(i);(n||d.call(t,i="constructor"))&&e(i)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(t,e){var n,o,s=g.call(t)==v,a=!s&&"function"!=typeof t.constructor&&i[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(n in t)s&&"prototype"==n||!a.call(t,n)||e(n);for(o=r.length;n=r[--o];a.call(t,n)&&e(n));}),f(t,e)},!o("json-stringify")){var P={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},D=function(t,e){return("000000"+(e||0)).slice(-t)},M=function(t){for(var e='"',i=0,n=t.length,r=!S||n>10,o=r&&(S?t.split(""):t);n>i;i++){var s=t.charCodeAt(i);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=P[s];break;default:if(32>s){e+="\\u00"+D(2,s.toString(16));break}e+=r?o[i]:t.charAt(i)}}return e+'"'},R=function(t,e,i,n,r,o,s){var a,c,u,l,_,p,m,y,v,S,C,P,I,O,k,L;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(c=g.call(a))||d.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=w&&c!=x&&c!=T||d.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&1/0>a){if(E){for(_=A(a/864e5),u=A(_/365.2425)+1970-1;E(u+1,0)<=_;u++);for(l=A((_-E(u,0))/30.42);E(u,l+1)<=_;l++);_=1+_-E(u,l),m=A((p=(a%864e5+864e5)%864e5)/36e5)%24,y=A(p/6e4)%60,v=A(p/1e3)%60,S=p%1e3}else u=a.getUTCFullYear(),l=a.getUTCMonth(),_=a.getUTCDate(),m=a.getUTCHours(),y=a.getUTCMinutes(),v=a.getUTCSeconds(),S=a.getUTCMilliseconds();a=(0>=u||u>=1e4?(0>u?"-":"+")+D(6,0>u?-u:u):D(4,u))+"-"+D(2,l+1)+"-"+D(2,_)+"T"+D(2,m)+":"+D(2,y)+":"+D(2,v)+"."+D(3,S)+"Z"}else a=null;if(i&&(a=i.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=g.call(a)))return""+a;if(c==w)return a>-1/0&&1/0>a?""+a:"null";if(c==x)return M(""+a);if("object"==typeof a){for(O=s.length;O--;)if(s[O]===a)throw h();if(s.push(a),C=[],k=o,o+=r,c==T){for(I=0,O=a.length;O>I;I++)P=R(I,a,i,n,r,o,s),C.push(P===b?"null":P);L=C.length?r?"[\n"+o+C.join(",\n"+o)+"\n"+k+"]":"["+C.join(",")+"]":"[]"}else f(n||a,function(t){var e=R(t,a,i,n,r,o,s);e!==b&&C.push(M(t)+":"+(r?" ":"")+e)}),L=C.length?r?"{\n"+o+C.join(",\n"+o)+"\n"+k+"}":"{"+C.join(",")+"}":"{}";return s.pop(),L}};n.stringify=function(t,e,n){var r,o,s,a;if(i[typeof e]&&e)if((a=g.call(e))==v)o=e;else if(a==T){s={};for(var c,u=0,l=e.length;l>u;c=e[u++],((a=g.call(c))==x||a==w)&&(s[c]=1));}if(n)if((a=g.call(n))==w){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==x&&(r=n.length<=10?n:n.slice(0,10));return R("",((c={})[""]=t,c),o,s,r,"",[])}}if(!o("json-parse")){var I,O,k=a.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},j=function(){throw I=O=null,l()},B=function(){for(var t,e,i,n,r,o=O,s=o.length;s>I;)switch(r=o.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=S?o.charAt(I):o[I],I++,t;case 34:for(t="@",I++;s>I;)if(32>(r=o.charCodeAt(I)))j();else if(92==r)switch(r=o.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[r],I++;break;case 117:for(e=++I,i=I+4;i>I;I++)(r=o.charCodeAt(I))>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||j();t+=k("0x"+o.slice(e,I));break;default:j()}else{if(34==r)break;for(r=o.charCodeAt(I),e=I;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++I);t+=o.slice(e,I)}if(34==o.charCodeAt(I))return I++,t;j();default:if(e=I,45==r&&(n=!0,r=o.charCodeAt(++I)),r>=48&&57>=r){for(48==r&&((r=o.charCodeAt(I+1))>=48&&57>=r)&&j(),n=!1;s>I&&((r=o.charCodeAt(I))>=48&&57>=r);I++);if(46==o.charCodeAt(I)){for(i=++I;s>i&&((r=o.charCodeAt(i))>=48&&57>=r);i++);i==I&&j(),I=i}if(101==(r=o.charCodeAt(I))||69==r){for((43==(r=o.charCodeAt(++I))||45==r)&&I++,i=I;s>i&&((r=o.charCodeAt(i))>=48&&57>=r);i++);i==I&&j(),I=i}return+o.slice(e,I)}if(n&&j(),"true"==o.slice(I,I+4))return I+=4,!0;if("false"==o.slice(I,I+5))return I+=5,!1;if("null"==o.slice(I,I+4))return I+=4,null;j()}return"$"},F=function(t){var e,i;if("$"==t&&j(),"string"==typeof t){if("@"==(S?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=B());i||(i=!0))i&&(","==t?"]"==(t=B())&&j():j()),","==t&&j(),e.push(F(t));return e}if("{"==t){for(e={};"}"!=(t=B());i||(i=!0))i&&(","==t?"}"==(t=B())&&j():j()),(","==t||"string"!=typeof t||"@"!=(S?t.charAt(0):t[0])||":"!=B())&&j(),e[t.slice(1)]=F(B());return e}j()}return t},J=function(t,e,i){var n=G(t,e,i);n===b?delete t[e]:t[e]=n},G=function(t,e,i){var n,r=t[e];if("object"==typeof r&&r)if(g.call(r)==T)for(n=r.length;n--;)J(r,n,i);else f(r,function(t){J(r,t,i)});return i.call(t,e,r)};n.parse=function(t,e){var i,n;return I=0,O=""+t,i=F(B()),"$"!=B()&&j(),I=O=null,e&&g.call(e)==v?G(((n={})[""]=i,n),"",e):i}}}return n.runInContext=t,n}var e="function"==typeof define&&define.amd,i={function:!0,object:!0},n=i[typeof exports]&&exports&&!exports.nodeType&&exports,r=i[typeof window]&&window||this,o=n&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!o||o.global!==o&&o.window!==o&&o.self!==o||(r=o),n&&!e)t(r,n);else{var s=r.JSON,a=r.JSON3,c=!1,u=t(r,r.JSON3={noConflict:function(){return c||(c=!0,r.JSON=s,r.JSON3=a,s=a=null),u}});r.JSON={parse:u.parse,stringify:u.stringify}}e&&define(function(){return u})}.call(this),function(){var t={appendToHead:function(e){t.getHead().appendChild(e)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};createjs.DomUtils=t}(),function(){var t={parseXML:function(t,e){var i=null;try{if(window.DOMParser)i=(new DOMParser).parseFromString(t,e)}catch(t){}if(!i)try{(i=new ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(t)}catch(t){i=null}return i},parseJSON:function(t){if(null==t)return null;try{return JSON.parse(t)}catch(t){throw t}}};createjs.DataUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=i.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},i=t;i.LOAD_TIMEOUT_DEFAULT=8e3,i.create=function(e){if("string"==typeof e){var n=new t;return n.src=e,n}if(e instanceof i)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=i.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=i}(),function(){var t={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(e){var i={absolute:!1,relative:!1};if(null==e)return i;var n,r=e.indexOf("?");return r>-1&&(e=e.substr(0,r)),t.ABSOLUTE_PATT.test(e)?i.absolute=!0:t.RELATIVE_PATT.test(e)&&(i.relative=!0),(n=e.match(t.EXTENSION_PATT))&&(i.extension=n[1].toLowerCase()),i},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var i=[];for(var n in t)i.push(n+"="+escape(t[n]));return e&&(i=i.concat(e)),i.join("&")},buildPath:function(t,e){if(null==e)return t;var i=[],n=t.indexOf("?");if(-1!=n){var r=t.slice(n+1);i=i.concat(r.split("&"))}return-1!=n?t.slice(0,n)+"?"+this._formatQueryString(e,i):t+"?"+this._formatQueryString(e,i)},isCrossDomain:function(t){var e=document.createElement("a");e.href=t.src;var i=document.createElement("a");return i.href=location.href,""!=e.hostname&&(e.port!=i.port||e.protocol!=i.protocol||e.hostname!=i.hostname)},isLocal:function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},isBinary:function(t){switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement},isText:function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),i=t;i.POST="POST",i.GET="GET",i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.VIDEO="video",i.SPRITESHEET="spritesheet",i.SVG="svg",i.TEXT="text",i.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this),i=this;e instanceof Function?e(function(t){i._result=t,i._sendComplete()}):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractLoader_constructor(t,e,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._formatResult=function(t){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(t.getTag().src=t.getResult(!0)),t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)return void this._handleError(e);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(t){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===t.name&&window.BlobBuilder){var i=new BlobBuilder;i.append(this._response),this._response=i.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:return new Error(t);case 0:return this._getResponse()?null:new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,e&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var r=0,o=s.ACTIVEX_VERSIONS.length;o>r;r++){var a=s.ACTIVEX_VERSIONS[r];try{n=new ActiveXObject(a);break}catch(t){}}if(null==n)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&n.overrideMimeType&&n.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var c;if(c=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src,n.open(t.method||createjs.AbstractLoader.GET,c,!0),e&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),e||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var u in t.headers)i[u]=t.headers[u];for(u in i)n.setRequestHeader(u,i[u]);return n instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(n.withCredentials=t.withCredentials),this._request=n,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(t,e,i)}var e=createjs.extend(t,createjs.AbstractLoader),i=t;e.init=function(t,e,i){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(t),this._paused=!1,this._basePath=e,this._crossOrigin=i,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},i.loadTimeout=8e3,i.LOAD_TIMEOUT=0,i.BINARY=createjs.AbstractLoader.BINARY,i.CSS=createjs.AbstractLoader.CSS,i.IMAGE=createjs.AbstractLoader.IMAGE,i.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,i.JSON=createjs.AbstractLoader.JSON,i.JSONP=createjs.AbstractLoader.JSONP,i.MANIFEST=createjs.AbstractLoader.MANIFEST,i.SOUND=createjs.AbstractLoader.SOUND,i.VIDEO=createjs.AbstractLoader.VIDEO,i.SVG=createjs.AbstractLoader.SVG,i.TEXT=createjs.AbstractLoader.TEXT,i.XML=createjs.AbstractLoader.XML,i.POST=createjs.AbstractLoader.POST,i.GET=createjs.AbstractLoader.GET,e.registerLoader=function(t){if(!t||!t.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(t))throw new Error("loader already exists.");this._availableLoaders.unshift(t)},e.unregisterLoader=function(t){var e=this._availableLoaders.indexOf(t);-1!=e&&e<this._defaultLoaderLength-1&&this._availableLoaders.splice(e,1)},e.setUseXHR=function(t){return this.setPreferXHR(t)},e.setPreferXHR=function(t){return this.preferXHR=0!=t&&null!=window.XMLHttpRequest,this.preferXHR},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;if(!t||t instanceof Array){if(t)e=t;else if(arguments.length>0)return}else e=[t];var i=!1;if(e){for(;e.length;){var n=e.pop(),r=this.getResult(n);for(o=this._loadQueue.length-1;o>=0;o--)if((s=this._loadQueue[o].getItem()).id==n||s.src==n){this._loadQueue.splice(o,1)[0].cancel();break}for(o=this._loadQueueBackup.length-1;o>=0;o--)if((s=this._loadQueueBackup[o].getItem()).id==n||s.src==n){this._loadQueueBackup.splice(o,1)[0].cancel();break}if(r)this._disposeItem(this.getItem(n));else for(var o=this._currentLoads.length-1;o>=0;o--){var s=this._currentLoads[o].getItem();if(s.id==n||s.src==n){this._currentLoads.splice(o,1)[0].cancel(),i=!0;break}}}i&&this._loadNext()}else{for(var a in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[a]);this.init(this.preferXHR,this._basePath,this._crossOrigin)}},e.reset=function(){for(var t in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var e=[],i=0,n=this._loadQueueBackup.length;n>i;i++)e.push(this._loadQueueBackup[i].getItem());this.loadManifest(e,!1)},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){this._plugins.push(t);var e=t.getPreloadHandlers();if(e.scope=t,null!=e.types)for(var i=0,n=e.types.length;n>i;i++)this._typeCallbacks[e.types[i]]=e;if(null!=e.extensions)for(i=0,n=e.extensions.length;n>i;i++)this._extensionCallbacks[e.extensions[i]]=e}},e.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&this._loadQueue.length>0&&this._loadNext()},e.loadFile=function(t,e,i){if(null!=t)this._addItem(t,null,i),!1!==e?this.setPaused(!1):this.setPaused(!0);else{var n=new createjs.ErrorEvent("PRELOAD_NO_FILE");this._sendError(n)}},e.loadManifest=function(t,e,n){var r=null,o=null;if(t instanceof Array){if(0==t.length){var s=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(s)}r=t}else if("string"==typeof t)r=[{src:t,type:i.MANIFEST}];else{if("object"!=typeof t){s=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(s)}if(void 0!==t.src){if(null==t.type)t.type=i.MANIFEST;else if(t.type!=i.MANIFEST){s=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(s)}r=[t]}else void 0!==t.manifest&&(r=t.manifest,o=t.path)}for(var a=0,c=r.length;c>a;a++)this._addItem(r[a],o,n);!1!==e?this.setPaused(!1):this.setPaused(!0)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var i=this._loadItemsById[t]||this._loadItemsBySrc[t];if(null==i)return null;var n=i.id;return e&&this._loadedRawResults[n]?this._loadedRawResults[n]:this._loadedResults[n]},e.getItems=function(t){var e=[];for(var i in this._loadItemsById){var n=this._loadItemsById[i],r=this.getResult(i);(!0!==t||null!=r)&&e.push({item:n,result:r,rawResult:this.getResult(i,!0)})}return e},e.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},e._addItem=function(t,e,i){var n=this._createLoadItem(t,e,i);if(null!=n){var r=this._createLoader(n);null!=r&&("plugins"in r&&(r.plugins=this._plugins),n._loader=r,this._loadQueue.push(r),this._loadQueueBackup.push(r),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT||!0===n.maintainOrder)&&(this._scriptOrder.push(n),this._loadedScripts.push(null)))}},e._createLoadItem=function(t,e,i){var n=createjs.LoadItem.create(t);if(null==n)return null;var r="",o=i||this._basePath;if(n.src instanceof Object){if(!n.type)return null;if(e){r=e;var s=createjs.RequestUtils.parseURI(e);null==o||s.absolute||s.relative||(r=o+r)}else null!=o&&(r=o)}else{var a=createjs.RequestUtils.parseURI(n.src);a.extension&&(n.ext=a.extension),null==n.type&&(!n.ext&&window.console&&console.error("unable to get extension for "+n.src),n.type=createjs.RequestUtils.getTypeByExtension(n.ext));var c=n.src;if(!a.absolute&&!a.relative)if(e){r=e;s=createjs.RequestUtils.parseURI(e);c=e+c,null==o||s.absolute||s.relative||(r=o+r)}else null!=o&&(r=o);n.src=r+n.src}n.path=r,(void 0===n.id||null===n.id||""===n.id)&&(n.id=c);var u=this._typeCallbacks[n.type]||this._extensionCallbacks[n.ext];if(u){var l=u.callback.call(u.scope,n,this);if(!1===l)return null;!0===l||null!=l&&(n._loader=l),null!=(a=createjs.RequestUtils.parseURI(n.src)).extension&&(n.ext=a.extension)}return this._loadItemsById[n.id]=n,this._loadItemsBySrc[n.src]=n,null==n.crossOrigin&&(n.crossOrigin=this._crossOrigin),n},e._createLoader=function(t){if(null!=t._loader)return t._loader;for(var e=this.preferXHR,i=0;i<this._availableLoaders.length;i++){var n=this._availableLoaders[i];if(n&&n.canLoadItem(t))return new n(t,e)}return null},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var t=0;t<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);t++){var e=this._loadQueue[t];this._canStartLoad(e)&&(this._loadQueue.splice(t,1),t--,this._loadItem(e))}}},e._loadItem=function(t){t.on("fileload",this._handleFileLoad,this),t.on("progress",this._handleProgress,this),t.on("complete",this._handleFileComplete,this),t.on("error",this._handleError,this),t.on("fileerror",this._handleFileError,this),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},e._handleFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleFileError=function(t){var e=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.item);this._sendError(e)},e._handleError=function(t){var e=t.target;this._numItemsLoaded++,this._finishOrderedItem(e,!0),this._updateProgress();var i=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.getItem());this._sendError(i),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(e),this._cleanLoadItem(e),this._loadNext())},e._handleFileComplete=function(t){var e=t.target,i=e.getItem(),n=e.getResult();this._loadedResults[i.id]=n;var r=e.getResult(!0);null!=r&&r!==n&&(this._loadedRawResults[i.id]=r),this._saveLoadedItems(e),this._removeLoadItem(e),this._finishOrderedItem(e)||this._processFinishedLoad(i,e),this._cleanLoadItem(e)},e._saveLoadedItems=function(t){var e=t.getLoadedItems();if(null!==e)for(var i=0;i<e.length;i++){var n=e[i].item;this._loadItemsBySrc[n.src]=n,this._loadItemsById[n.id]=n,this._loadedResults[n.id]=e[i].result,this._loadedRawResults[n.id]=e[i].rawResult}},e._finishOrderedItem=function(t,e){var i=t.getItem();if(this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT||i.maintainOrder){t instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var n=createjs.indexOf(this._scriptOrder,i);return-1!=n&&(this._loadedScripts[n]=!0===e||i,this._checkScriptLoadOrder(),!0)}return!1},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;t>e;e++){var i=this._loadedScripts[e];if(null===i||void 0===i)break;if(!0!==i){var n=this._loadedResults[i.id];i.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(n);var r=i._loader;this._processFinishedLoad(i,r),this._loadedScripts[e]=!0}}},e._processFinishedLoad=function(t,e){if(this._numItemsLoaded++,!this.maintainScriptOrder&&t.type==createjs.LoadQueue.JAVASCRIPT){var i=e.getTag();createjs.DomUtils.appendToHead(i)}this._updateProgress(),this._sendFileComplete(t,e),this._loadNext()},e._canStartLoad=function(t){if(!this.maintainScriptOrder||t.preferXHR)return!0;var e=t.getItem();if(e.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var i=this._scriptOrder.indexOf(e),n=0;i>n;){if(null==this._loadedScripts[n])return!1;n++}return this._currentlyLoadingScript=!0,!0},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,i=0;e>i;i++)if(this._currentLoads[i]==t){this._currentLoads.splice(i,1);break}},e._cleanLoadItem=function(t){var e=t.getItem();e&&delete e._loader},e._handleProgress=function(t){var e=t.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var i=0,n=0,r=this._currentLoads.length;r>n;n++)i+=this._currentLoads[n].progress;t+=i/e*(e/this._numItems)}this._lastProgress!=t&&(this._sendProgress(t),this._lastProgress=t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._sendFileProgress=function(t,e){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var i=new createjs.Event("fileprogress");i.progress=e,i.loaded=e,i.total=1,i.item=t,this.dispatchEvent(i)}},e._sendFileComplete=function(t,e){if(!this._isCanceled()&&!this._paused){var i=new createjs.Event("fileload");i.loader=e,i.item=t,i.result=this._loadedResults[t.id],i.rawResult=this._loadedRawResults[t.id],t.completeHandler&&t.completeHandler(i),this.hasEventListener("fileload")&&this.dispatchEvent(i)}},e._sendFileStart=function(t){var e=new createjs.Event("filestart");e.item=t,this.hasEventListener("filestart")&&this.dispatchEvent(e)},e.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.TEXT)}(createjs.extend(t,createjs.AbstractLoader),t).canLoadItem=function(t){return t.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.BINARY},e._updateXHR=function(t){t.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=e?document.createElement("style"):document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.CSS},e._formatResult=function(t){if(this._preferXHR){var e=t.getTag();if(e.styleSheet)e.styleSheet.cssText=t.getResult(!0);else{var i=document.createTextNode(t.getResult(!0));e.appendChild(i)}}else e=this._tag;return createjs.DomUtils.appendToHead(e),e},createjs.CSSLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(t)?this._tag=t:createjs.RequestUtils.isImageTag(t.src)?this._tag=t.src:createjs.RequestUtils.isImageTag(t.tag)&&(this._tag=t.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.IMAGE},e.load=function(){if(""!=this._tag.src&&this._tag.complete)this._sendComplete();else{var t=this._item.crossOrigin;1==t&&(t="Anonymous"),null==t||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=t),this.AbstractLoader_load()}},e._updateXHR=function(t){t.loader.mimeType="text/plain; charset=x-user-defined-binary",t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){var e=this;return function(i){var n=e._tag,r=window.URL||window.webkitURL;if(e._preferXHR)if(r){var o=r.createObjectURL(t.getResult(!0));o?(n.src=o,n.onload=function(){r.revokeObjectURL(this.src),i(this)}):(n.src=t.getItem().src,n.complete?i(n):n.onload=function(){i(this)})}else n.src=t.getItem().src,n.complete?i(n):n.onload=function(){i(this)}}},createjs.ImageLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JAVASCRIPT},e._formatResult=function(t){var e=t.getTag();return this._preferXHR&&(e.text=t.getResult(!0)),e},createjs.JavaScriptLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JSON},e._formatResult=function(t){var e=null;try{e=createjs.DataUtils.parseJSON(t.getResult(!0))}catch(t){var i=new createjs.ErrorEvent("JSON_FORMAT",null,t);return this._sendError(i),t}return e},createjs.JSONLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JSONP},e.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},e.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},e._handleLoad=function(t){this._result=this._rawResult=t,this._sendComplete(),this._dispose()},e._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},e._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),i=t;i.MANIFEST_PROGRESS=.25,i.canLoadItem=function(t){return t.type==createjs.AbstractLoader.MANIFEST},e.load=function(){this.AbstractLoader_load()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(i.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=i.MANIFEST_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},e._loadManifest=function(t){if(t&&t.manifest){var e=this._manifestQueue=new createjs.LoadQueue;e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("complete",this._handleManifestComplete,this,!0),e.on("error",this._handleManifestError,this,!0);for(var i=0,n=this.plugins.length;n>i;i++)e.installPlugin(this.plugins[i]);e.loadManifest(t)}else this._sendComplete()},e._handleManifestFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleManifestComplete=function(t){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-i.MANIFEST_PROGRESS)+i.MANIFEST_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},createjs.ManifestLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(t)||createjs.RequestUtils.isVideoTag(t.src)?(this.setTag(createjs.RequestUtils.isVideoTag(t)?t:t.src),this._preferXHR=!1):this.setTag(this._createTag())}var e=t;createjs.extend(t,createjs.AbstractMediaLoader)._createTag=function(){return document.createElement("video")},e.canLoadItem=function(t){return t.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,null,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),i=t;i.SPRITESHEET_PROGRESS=.25,i.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SPRITESHEET},e.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(i.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=i.SPRITESHEET_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e._loadManifest=function(t){if(t&&t.images){var e=this._manifestQueue=new createjs.LoadQueue;e.on("complete",this._handleManifestComplete,this,!0),e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("error",this._handleManifestError,this,!0),e.loadManifest(t.images)}},e._handleManifestFileLoad=function(t){var e=t.result;if(null!=e){var i=this.getResult().images;i[i.indexOf(t.item.src)]=e}},e._handleManifestComplete=function(t){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-i.SPRITESHEET_PROGRESS)+i.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},createjs.SpriteSheetLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",e?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SVG},e._formatResult=function(t){var e=createjs.DataUtils.parseXML(t.getResult(!0),"text/xml"),i=t.getTag();return!this._preferXHR&&document.body.contains(i)&&document.body.removeChild(i),null!=e.documentElement?(i.appendChild(e.documentElement),i.style.visibility="visible",i):e},createjs.SVGLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.XML},e._formatResult=function(t){return createjs.DataUtils.parseXML(t.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";!function(t){function e(t,e){return t._priority-e._priority}var i=function(){this._listeners={}},n=i.prototype;n.on=function(t,i,n){if("string"!=typeof t)for(var r in t)this.on(r,t[r],n);else for(var o,s=t.split(" "),a=0,c=s.length;c>a;a++)t=s[a],(o=this._listeners[t])||(o=this._listeners[t]=[]),i._priority=parseInt(n)||0,-1===o.indexOf(i)&&(o.push(i),o.length>1&&o.sort(e));return this},n.off=function(t,e){if(void 0===t||!this._listeners)return this._listeners={},this;if(void 0===this._listeners[t])return this;if(void 0===e)delete this._listeners[t];else for(var i=this._listeners[t],n=0,r=i.length;r>n;n++)if(i[n]===e){i.splice(n,1);break}return this},n.trigger=function(t){"string"==typeof t&&(t={type:t});var e=this._listeners[t.type];if(void 0!==e)for(var i=e.length-1;i>=0;i--)e[i](t)},n.destroy=function(){this._listeners=null},t.BellhopEventDispatcher=i}(window),function(t,e){var i=t.BellhopEventDispatcher,n=function(){i.call(this),this.onReceive=this.receive.bind(this),this.connected=!1,this.name="",this.isChild=!0,this.connecting=!1,this.origin="*",this._sendLater=[],this.supported=null,this.iframe=null},r=i.prototype,o=n.prototype=Object.create(r);o.receive=function(t){if(t.source===this.target){var e=t.data;if("connected"===e){this.connecting=!1,this.connected=!0,this.trigger("connected"),this.isChild||this.target.postMessage(e,this.origin);var i,r=this._sendLater.length;if(r>0){for(i=0;r>i;i++){var o=this._sendLater[i];this.send(o.type,o.data)}this._sendLater.length=0}}else{if(!this.connected)return;try{e=JSON.parse(e,n.reviver)}catch(t){return}"object"==typeof e&&e.type&&this.trigger(e)}}},o.toString=function(){return"[Bellhop '"+this.name+"']"},Object.defineProperty(o,"target",{get:function(){return this.isChild?t.parent:this.iframe.contentWindow}}),o.connect=function(i,n){if(this.connecting)return this;this.disconnect(),this.connecting=!0,this._sendLater||(this._sendLater=[]),this.iframe=i||null;var r=this.isChild=i===e,o=this.target;return this.supported=r?!!o&&t!=o:!!o,this.origin=n===e?"*":n,t.attachEvent?t.attachEvent("onmessage",this.onReceive):t.addEventListener("message",this.onReceive),r&&(t===o?this.trigger("failed"):"complete"===t.document.readyState?o.postMessage("connected",this.origin):t.onload=function(){o.postMessage("connected",this.origin)}.bind(this)),this},o.disconnect=function(){return this.connected=!1,this.connecting=!1,this.origin=null,this.iframe=null,this._sendLater&&(this._sendLater.length=0),this.isChild=!0,t.detachEvent?t.detachEvent("onmessage",this.onReceive):t.removeEventListener("message",this.onReceive),this},o.send=function(t,i){if("string"!=typeof t)throw"The event type must be a string";if(t={type:t},i!==e&&(t.data=i),this.connecting)this._sendLater.push(t);else{if(!this.connected)return this;this.target.postMessage(JSON.stringify(t),this.origin)}return this},o.fetch=function(t,i,n,r){var o=this;if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";r=r!==e&&r;var s=function(t){r&&o.off(t.type,s),i(t)};return this.on(t,s),this.send(t,n),this},o.respond=function(t,i,n){n=n!==e&&n;var r=this,o=function(e){n&&r.off(e.type,o),r.send(t,"function"==typeof i?i():i)};return this.on(t,o),this},o.destroy=function(){r.destroy.call(this),this.disconnect(),this._sendLater=null},n.reviver=function(t,e){if(e&&"string"==typeof e.__classname){var i=s(e.__classname);if(i){var n=new i;if(n.fromJSON)return n.fromJSON(e),n}}return e};var s=function(e){for(var i=e.split("."),n=t;i.length;)if(!(n=n[i.shift()]))return;return n};t.Bellhop=n}(window)}(),this.createjs=this.createjs||{},function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="0.6.6",t.buildDate="Thu, 10 May 2018 18:47:59 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var i=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n)for(var r in i[(e+="_")+"constructor"]=n.constructor,n)i.hasOwnProperty(r)&&"function"==typeof n[r]&&(i[e+r]=n[r]);return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var i=0,n=t.length;i<n;i++)if(e===t[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(i))}}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,createjs.BrowserDetect=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n,r=(n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return r&&this.removeEventListener(t,e,i),(r=n[t])?r.push(e):n[t]=[e],e},e.on=function(t,e,i,n,r,o){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,r),n&&t.remove()},o)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var r=n[t];if(r)for(var o=0,s=r.length;o<s;o++)if(r[o]==e){1==s?delete n[t]:r.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,i){if("string"==typeof t){var n=this._listeners;if(!(e||n&&n[t]))return!0;t=new createjs.Event(t,e,i)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var r=this,o=[r];r.parent;)o.push(r=r.parent);var s,a=o.length;for(s=a-1;s>=0&&!t.propagationStopped;s--)o[s]._dispatchEvent(t,1+(0==s));for(s=1;s<a&&!t.propagationStopped;s++)o[s]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n=1==e?this._captureListeners:this._listeners;if(t&&n){var r=n[t.type];if(!r||!(i=r.length))return;try{t.currentTarget=this}catch(t){}try{t.eventPhase=e}catch(t){}t.removed=!1,r=r.slice();for(var o=0;o<i&&!t.immediatePropagationStopped;o++){var s=r[o];s.handleEvent?s.handleEvent(t):s(t),t.removed&&(this.off(t.type,s,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.Event_constructor("error"),this.title=t,this.message=e,this.data=i}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(t){"use strict";function e(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}createjs.extend(e,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(e,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=i.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},i=t;i.LOAD_TIMEOUT_DEFAULT=8e3,i.create=function(e){if("string"==typeof e){var n=new t;return n.src=e,n}if(e instanceof i)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=i.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=i}(),function(){var t={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[.\/]*?\//i,EXTENSION_PATT:/\/?[^\/]+\.(\w{1,5})$/i,parseURI:function(e){var i={absolute:!1,relative:!1};if(null==e)return i;var n,r=e.indexOf("?");return r>-1&&(e=e.substr(0,r)),t.ABSOLUTE_PATT.test(e)?i.absolute=!0:t.RELATIVE_PATT.test(e)&&(i.relative=!0),(n=e.match(t.EXTENSION_PATT))&&(i.extension=n[1].toLowerCase()),i},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var i=[];for(var n in t)i.push(n+"="+escape(t[n]));return e&&(i=i.concat(e)),i.join("&")},buildPath:function(t,e){if(null==e)return t;var i=[],n=t.indexOf("?");if(-1!=n){var r=t.slice(n+1);i=i.concat(r.split("&"))}return-1!=n?t.slice(0,n)+"?"+this.formatQueryString(e,i):t+"?"+this.formatQueryString(e,i)},isCrossDomain:function(t){var e=document.createElement("a");e.href=t.src;var i=document.createElement("a");return i.href=location.href,""!=e.hostname&&(e.port!=i.port||e.protocol!=i.protocol||e.hostname!=i.hostname)},isLocal:function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},isBinary:function(t){switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement},isText:function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),i=t;i.POST="POST",i.GET="GET",i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.VIDEO="video",i.SPRITESHEET="spritesheet",i.SVG="svg",i.TEXT="text",i.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractLoader_constructor(t,e,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,i=t.getResult(!0);t.getTag().src=e.createObjectURL(i)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)return void this._handleError(e);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(t){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===t.name&&window.BlobBuilder){var i=new BlobBuilder;i.append(this._response),this._response=i.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:return new Error(t);case 0:return this._getResponse()?null:new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,e&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var r=0,o=s.ACTIVEX_VERSIONS.length;r<o;r++){var a=s.ACTIVEX_VERSIONS[r];try{n=new ActiveXObject(a);break}catch(t){}}if(null==n)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&n.overrideMimeType&&n.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var c;if(c=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src,n.open(t.method||createjs.AbstractLoader.GET,c,!0),e&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),e||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var u in t.headers)i[u]=t.headers[u];for(u in i)n.setRequestHeader(u,i[u]);return n instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(n.withCredentials=t.withCredentials),this._request=n,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},i=t;i.create=function(t){if(t instanceof i||t instanceof Object){var e=new createjs.PlayPropsConfig;return e.set(t),e}throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=i}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Sound cannot be instantiated"}function e(t,e){this.init(t,e)}var i=t;i.INTERRUPT_ANY="any",i.INTERRUPT_EARLY="early",i.INTERRUPT_LATE="late",i.INTERRUPT_NONE="none",i.PLAY_INITED="playInited",i.PLAY_SUCCEEDED="playSucceeded",i.PLAY_INTERRUPTED="playInterrupted",i.PLAY_FINISHED="playFinished",i.PLAY_FAILED="playFailed",i.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],i.EXTENSION_MAP={m4a:"mp4"},i.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?(?:((?:[^\/?]+)\.(\w+))|(?:[^\/?]+))(?:\?((?:(?:[^&]*?[\/=])?(?:((?:(?:[^\/?&=]+)\.(\w+)))\S*?)|\S+))?)?$/,i.defaultInterruptBehavior=i.INTERRUPT_NONE,i.alternateExtensions=[],i.activePlugin=null,i._masterVolume=1,Object.defineProperty(i,"volume",{get:function(){return this._masterVolume},set:function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),i._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,n=0,r=e.length;n<r;n++)e[n].setMasterVolume(t)}}),i._masterMute=!1,Object.defineProperty(i,"muted",{get:function(){return this._masterMute},set:function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,i=0,n=e.length;i<n;i++)e[i].setMasterMute(t);return!0}}),Object.defineProperty(i,"capabilities",{get:function(){return null==i.activePlugin?null:i.activePlugin._capabilities},set:function(t){return!1}}),i._pluginsRegistered=!1,i._lastID=0,i._instances=[],i._idHash={},i._preloadHash={},i._defaultPlayPropsHash={},i.addEventListener=null,i.removeEventListener=null,i.removeAllEventListeners=null,i.dispatchEvent=null,i.hasEventListener=null,i._listeners=null,createjs.EventDispatcher.initialize(i),i.getPreloadHandlers=function(){return{callback:createjs.proxy(i.initLoad,i),types:["sound"],extensions:i.SUPPORTED_EXTENSIONS}},i._handleLoadComplete=function(t){var e=t.target.getItem().src;if(i.preloadHash[e])for(var n=0,r=i._preloadHash[e].length;n<r;n++){var o=i._preloadHash[e][n];if(i._preloadHash[e][n]=!0,i.hasEventListener("fileload"))(t=new createjs.Event("fileload")).src=o.src,t.id=o.id,t.data=o.data,t.sprite=o.sprite,i.dispatchEvent(t)}},i._handleLoadError=function(t){var e=t.target.getItem().src;if(i._preloadHash[e])for(var n=0,r=i._preloadHash[e].length;n<r;n++){var o=i._preloadHash[e][n];if(i._preloadHash[e][n]=!1,i.hasEventListener("fileerror"))(t=new createjs.Event("fileerror")).src=o.src,t.id=o.id,t.data=o.data,t.sprite=o.sprite,i.dispatchEvent(t)}},i._registerPlugin=function(t){return!!t.isSupported()&&(i.activePlugin=new t,!0)},i.registerPlugins=function(t){i._pluginsRegistered=!0;for(var e=0,n=t.length;e<n;e++)if(i._registerPlugin(t[e]))return!0;return!1},i.initializeDefaultPlugins=function(){return null!=i.activePlugin||!i._pluginsRegistered&&!!i.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},i.isReady=function(){return null!=i.activePlugin},i.getCapabilities=function(){return null==i.activePlugin?null:i.activePlugin._capabilities},i.getCapability=function(t){return null==i.activePlugin?null:i.activePlugin._capabilities[t]},i.initLoad=function(t){return i._registerSound(t)},i._registerSound=function(t){if(!i.initializeDefaultPlugins())return!1;var n;if(t.src instanceof Object?(n=i._parseSrc(t.src)).src=t.path+n.src:n=i._parsePath(t.src),null==n)return!1;t.src=n.src,t.type="sound";var r=t.data,o=null;if(null!=r&&(isNaN(r.channels)?isNaN(r)||(o=parseInt(r)):o=parseInt(r.channels),r.audioSprite))for(var s,a=r.audioSprite.length;a--;)s=r.audioSprite[a],i._idHash[s.id]={src:t.src,startTime:parseInt(s.startTime),duration:parseInt(s.duration)},s.defaultPlayProps&&(i._defaultPlayPropsHash[s.id]=createjs.PlayPropsConfig.create(s.defaultPlayProps));null!=t.id&&(i._idHash[t.id]={src:t.src});var c=i.activePlugin.register(t);return e.create(t.src,o),null!=r&&isNaN(r)?t.data.channels=o||e.maxPerChannel():t.data=o||e.maxPerChannel(),c.type&&(t.type=c.type),t.defaultPlayProps&&(i._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),c},i.registerSound=function(t,e,n,r,o){var s={src:t,id:e,data:n,defaultPlayProps:o};t instanceof Object&&t.src&&(r=e,s=t),(s=createjs.LoadItem.create(s)).path=r,null==r||s.src instanceof Object||(s.src=r+t);var a=i._registerSound(s);if(!a)return!1;if(i._preloadHash[s.src]||(i._preloadHash[s.src]=[]),i._preloadHash[s.src].push(s),1==i._preloadHash[s.src].length)a.on("complete",createjs.proxy(this._handleLoadComplete,this)),a.on("error",createjs.proxy(this._handleLoadError,this)),i.activePlugin.preload(a);else if(1==i._preloadHash[s.src][0])return!0;return s},i.registerSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var n=0,r=t.length;n<r;n++)i[n]=createjs.Sound.registerSound(t[n].src,t[n].id,t[n].data,e,t[n].defaultPlayProps);return i},i.removeSound=function(t,n){if(null==i.activePlugin)return!1;var r;if(t instanceof Object&&t.src&&(t=t.src),t instanceof Object?r=i._parseSrc(t):(t=i._getSrcById(t).src,r=i._parsePath(t)),null==r)return!1;for(var o in t=r.src,null!=n&&(t=n+t),i._idHash)i._idHash[o].src==t&&delete i._idHash[o];return e.removeSrc(t),delete i._preloadHash[t],i.activePlugin.removeSound(t),!0},i.removeSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var n=0,r=t.length;n<r;n++)i[n]=createjs.Sound.removeSound(t[n].src,e);return i},i.removeAllSounds=function(){i._idHash={},i._preloadHash={},e.removeAll(),i.activePlugin&&i.activePlugin.removeAllSounds()},i.loadComplete=function(t){if(!i.isReady())return!1;var e=i._parsePath(t);return t=e?i._getSrcById(e.src).src:i._getSrcById(t).src,void 0!=i._preloadHash[t]&&1==i._preloadHash[t][0]},i._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var e=t.match(i.FILE_PATTERN);if(null===e)return!1;var n="",r="",o="";if(i.SUPPORTED_EXTENSIONS.indexOf(e[5])>=0)n=e[4],o=r=e[5];else{if(!(i.SUPPORTED_EXTENSIONS.indexOf(e[8])>=0))return null;n=e[7],o=r=e[8]}for(var s=i.capabilities,a=0;!s[r];)if(r=i.alternateExtensions[a++],a>i.alternateExtensions.length)return null;return{name:n,src:t=t.replace("."+o,"."+r),extension:r}},i._parseSrc=function(t){var e={name:void 0,src:void 0,extension:void 0},n=i.capabilities;for(var r in t)if(t.hasOwnProperty(r)&&n[r]){e.src=t[r],e.extension=r;break}if(!e.src)return!1;var o=e.src.lastIndexOf("/");return e.name=-1!=o?e.src.slice(o+1):e.src,e},i.play=function(t,e,n,r,o,s,a,c,u){var l;l=e instanceof Object||e instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(e):createjs.PlayPropsConfig.create({interrupt:e,delay:n,offset:r,loop:o,volume:s,pan:a,startTime:c,duration:u});var h=i.createInstance(t,l.startTime,l.duration);return i._playInstance(h,l)||h._playFailed(),h},i.createInstance=function(t,n,r){if(!i.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,n,r);var o=i._defaultPlayPropsHash[t];t=i._getSrcById(t);var s=i._parsePath(t.src),a=null;return null!=s&&null!=s.src?(e.create(s.src),null==n&&(n=t.startTime),a=i.activePlugin.create(s.src,n,r||t.duration),(o=o||i._defaultPlayPropsHash[s.src])&&a.applyPlayProps(o)):a=new createjs.DefaultSoundInstance(t,n,r),a.uniqueId=i._lastID++,a},i.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},i.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),i._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,n=0,r=e.length;n<r;n++)e[n].setMasterVolume(t)},i.getVolume=function(){return this._masterVolume},i.setMute=function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,i=0,n=e.length;i<n;i++)e[i].setMasterMute(t);return!0},i.getMute=function(){return this._masterMute},i.setDefaultPlayProps=function(t,e){t=i._getSrcById(t),i._defaultPlayPropsHash[i._parsePath(t.src).src]=createjs.PlayPropsConfig.create(e)},i.getDefaultPlayProps=function(t){return t=i._getSrcById(t),i._defaultPlayPropsHash[i._parsePath(t.src).src]},i.pause=function(){for(var t=this.instances,e=t.length;e--;)t[e].paused=!0},i.resume=function(){for(var t=this.instances,e=t.length;e--;)t[e].paused=!1},i._playInstance=function(t,e){var n=i._defaultPlayPropsHash[t.src]||{};if(null==e.interrupt&&(e.interrupt=n.interrupt||i.defaultInterruptBehavior),null==e.delay&&(e.delay=n.delay||0),null==e.offset&&(e.offset=t.getPosition()),null==e.loop&&(e.loop=t.loop),null==e.volume&&(e.volume=t.volume),null==e.pan&&(e.pan=t.pan),0==e.delay){if(!i._beginPlaying(t,e))return!1}else{var r=setTimeout(function(){i._beginPlaying(t,e)},e.delay);t.delayTimeoutId=r}return this._instances.push(t),!0},i._beginPlaying=function(t,i){if(!e.add(t,i.interrupt))return!1;if(!t._beginPlaying(i)){var n=createjs.indexOf(this._instances,t);return n>-1&&this._instances.splice(n,1),!1}return!0},i._getSrcById=function(t){return i._idHash[t]||{src:t}},i._playFinished=function(t){e.remove(t);var n=createjs.indexOf(this._instances,t);n>-1&&this._instances.splice(n,1);var r=i.activePlugin._soundInstances;r[t.src]&&r[t.src].indexOf(t)>-1&&r[t.src].splice(r[t.src].indexOf(t),1)},createjs.Sound=t,e.channels={},e.create=function(t,i){return null==e.get(t)&&(e.channels[t]=new e(t,i),!0)},e.removeSrc=function(t){var i=e.get(t);return null!=i&&(i._removeAll(),delete e.channels[t],!0)},e.removeAll=function(){for(var t in e.channels)e.channels[t]._removeAll();e.channels={}},e.add=function(t,i){var n=e.get(t.src);return null!=n&&n._add(t,i)},e.remove=function(t){var i=e.get(t.src);return null!=i&&(i._remove(t),!0)},e.maxPerChannel=function(){return n.maxDefault},e.get=function(t){return e.channels[t]};var n=e.prototype;n.constructor=e,n.src=null,n.max=null,n.maxDefault=100,n.length=0,n.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},n._get=function(t){return this._instances[t]},n._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},n._remove=function(t){var e=i.activePlugin._soundInstances;e[t.src]&&e[t.src].indexOf(t)>-1&&e[t.src].splice(e[t.src].indexOf(t),1);var n=createjs.indexOf(this._instances,t);return-1!=n&&(this._instances.splice(n,1),this.length--,!0)},n._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},n._getSlot=function(e,i){var n,r;if(e!=t.INTERRUPT_NONE&&null==(r=this._get(0)))return!0;for(var o=0,s=this.max;o<s;o++){if(null==(n=this._get(o)))return!0;if(n.playState==t.PLAY_FINISHED||n.playState==t.PLAY_INTERRUPTED||n.playState==t.PLAY_FAILED){r=n;break}e!=t.INTERRUPT_NONE&&(e==t.INTERRUPT_EARLY&&n.getPosition()<r.getPosition()||e==t.INTERRUPT_LATE&&n.getPosition()>r.getPosition())&&(r=n)}return null!=r&&(r._interrupt(),this._remove(r),!0)},n.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t,e,i,n){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,i||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),!1!==n&&!0!==n&&this.setPlaybackResource(n),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t,e,i,n,r,o){var s;return s=t instanceof Object||t instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(t):createjs.PlayPropsConfig.create({interrupt:t,delay:e,offset:i,loop:n,volume:r,pan:o}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(s),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,s),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this.setPosition(t.offset),null!=t.loop&&this.setLoop(t.loop),null!=t.volume&&this.setVolume(t.volume),null!=t.pan&&this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e.getPaused=function(){return this._paused},e.setPaused=function(t){if(!(!0!==t&&!1!==t||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED))return this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},e.setVolume=function(t){return t==this._volume?this:(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume(),this)},e.getVolume=function(){return this._volume},e.setMuted=function(t){if(!0===t||!1===t)return this._muted=t,this._updateVolume(),this},e.getMuted=function(){return this._muted},e.setPan=function(t){return t==this._pan?this:(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan(),this)},e.getPan=function(){return this._pan},e.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e.setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e.getStartTime=function(){return this._startTime},e.setStartTime=function(t){return t==this._startTime?this:(this._startTime=Math.max(0,t||0),this._updateStartTime(),this)},e.getDuration=function(){return this._duration},e.setDuration=function(t){return t==this._duration?this:(this._duration=Math.max(0,t||0),this._updateDuration(),this)},e.setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._setDurationFromSource(),this},e.getPlaybackResource=function(){return this._playbackResource},e.getLoop=function(){return this._loop},e.setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this.setPosition(t.offset),this.setLoop(t.loop),this.setVolume(t.volume),this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass,this._volume=1},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],(e=new this._loaderClass(t)).on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;)this._soundInstances[t][e].destroy();delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,i){this.isPreloadStarted(t)||this.preload(this.register(t));var n=new this._soundInstanceClass(t,e,i,this._audioSources[t]);return this._soundInstances[t].push(n),n},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var i=0,n=this._soundInstances[e].length;i<n;i++)this._soundInstances[e][i].setPlaybackResource(this._audioSources[e])},e._handlePreloadError=function(t){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.SOUND)}var e=createjs.extend(t,createjs.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(e){t.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r){this.AbstractSoundInstance_constructor(t,e,n,r),this.gainNode=i.context.createGain(),this.panNode=i.context.createPanner(),this.panNode.panningModel=i._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),i=t;i.context=null,i._scratchBuffer=null,i.destinationNode=null,i._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){t.stop(0),t.disconnect(0);try{t.buffer=i._scratchBuffer}catch(t){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(i.destinationNode);var e=.001*this._duration,n=.001*this._position;n>e&&(n=e),this.sourceNode=this._createAndPlayAudioNode(i.context.currentTime-e,n),this._playbackStartTime=this.sourceNode.startTime-n,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-n)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var n=i.context.createBufferSource();n.buffer=this.playbackResource,n.connect(this.panNode);var r=.001*this._duration;return e>r&&(e=r-.001),n.startTime=t+r,n.start(n.startTime,e+.001*this._startTime,r-e),n},e._pause=function(){this._position=1e3*(i.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(i.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._panningModel=i._panningModel,this.context=i.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=i._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),i=t;i._capabilities=null,i._panningModel="equalpower",i.context=null,i._scratchBuffer=null,i._unlocked=!1,i.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(i._generateCapabilities(),null!=i.context)},i.playEmptySound=function(){if(null!=i.context){var t=i.context.createBufferSource();t.buffer=i._scratchBuffer,t.connect(i.context.destination),t.start(0,0,0),"suspended"===t.context.state&&t.context.resume()}},i._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(e){return t=!1}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(e){t=!1}return t},i._generateCapabilities=function(){if(null==i._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==i.context){if(window.AudioContext)i.context=new AudioContext;else{if(!window.webkitAudioContext)return null;i.context=new webkitAudioContext}document.addEventListener("click",function(){"suspended"===i.context.state&&i.context.resume()})}null==i._scratchBuffer&&(i._scratchBuffer=i.context.createBuffer(1,1,22050)),i._compatibilitySetUp(),"ontouchstart"in window&&"running"!=i.context.state&&(i._unlock(),document.addEventListener("mousedown",i._unlock,!0),document.addEventListener("touchstart",i._unlock,!0),document.addEventListener("touchend",i._unlock,!0)),i._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,r=0,o=e.length;r<o;r++){var s=e[r],a=n[s]||s;i._capabilities[s]="no"!=t.canPlayType("audio/"+s)&&""!=t.canPlayType("audio/"+s)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}i.context.destination.numberOfChannels<2&&(i._capabilities.panning=!1)}},i._compatibilitySetUp=function(){if(i._panningModel="equalpower",!i.context.createGain){i.context.createGain=i.context.createGainNode;var t=i.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,i._panningModel=0}},i._unlock=function(){"suspended"===i.context.state&&i.context.resume(),i._unlocked||(i.playEmptySound(),"running"==i.context.state&&(document.removeEventListener("mousedown",i._unlock,!0),document.removeEventListener("touchend",i._unlock,!0),document.removeEventListener("touchstart",i._unlock,!0),i._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=i._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"HTMLAudioTagPool cannot be instantiated"}function e(t){this._tags=[]}var i=t;i._tags={},i._tagPool=new e,i._tagUsed={},i.get=function(t){var e=i._tags[t];return null==e?(e=i._tags[t]=i._tagPool.get()).src=t:i._tagUsed[t]?(e=i._tagPool.get()).src=t:i._tagUsed[t]=!0,e},i.set=function(t,e){e==i._tags[t]?i._tagUsed[t]=!1:i._tagPool.set(e)},i.remove=function(t){var e=i._tags[t];return null!=e&&(i._tagPool.set(e),delete i._tags[t],delete i._tagUsed[t],!0)},i.getDuration=function(t){var e=i._tags[t];return null!=e&&e.duration?1e3*e.duration:0},createjs.HTMLAudioTagPool=t;var n=e.prototype;n.constructor=e,n.get=function(){var t;return null==(t=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(t),t},n.set=function(t){-1==createjs.indexOf(this._tags,t)&&(this._tags.src=null,this._tags.push(t))},n.toString=function(){return"[TagPool]"},n._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i,n){this.AbstractSoundInstance_constructor(t,e,i,n),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),i?this._audioSpriteStopTime=.001*(e+i):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=i._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),i=t;i.MAX_INSTANCES=30,i._AUDIO_READY="canplaythrough",i._AUDIO_ENDED="ended",i._AUDIO_SEEKED="seeked",i._AUDIO_STALLED="stalled",i._TIME_UPDATE="timeupdate",i._capabilities=null,i.isSupported=function(){return i._generateCapabilities(),null!=i._capabilities},i._generateCapabilities=function(){if(null==i._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;i._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,r=0,o=e.length;r<o;r++){var s=e[r],a=n[s]||s;i._capabilities[s]="no"!=t.canPlayType("audio/"+s)&&""!=t.canPlayType("audio/"+s)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),i=this.AbstractPlugin_register(t);return i.setTag(e),i},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,i){var n=this.AbstractPlugin_create(t,e,i);return n.setPlaybackResource(null),n},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,"AbstractPlugin")}();var swfobject=function(){function t(){if(!F){try{var t=R.getElementsByTagName("body")[0].appendChild(p("span"));t.parentNode.removeChild(t)}catch(t){return}F=!0;for(var e=k.length,i=0;i<e;i++)k[i]()}}function e(t){F?t():k[k.length]=t}function i(t){if(typeof M.addEventListener!=S)M.addEventListener("load",t,!1);else if(typeof R.addEventListener!=S)R.addEventListener("load",t,!1);else if(typeof M.attachEvent!=S)!function(t,e,i){t.attachEvent(e,i),B[B.length]=[t,e,i]}(M,"onload",t);else if("function"==typeof M.onload){var e=M.onload;M.onload=function(){e(),t()}}else M.onload=t}function n(){var t=L.length;if(t>0)for(var e=0;e<t;e++){var i=L[e].id,n=L[e].callbackFn,c={success:!1,id:i};if(N.pv[0]>0){var u=_(i);if(u)if(!d(L[e].swfVersion)||N.wk&&N.wk<312)if(L[e].expressInstall&&o()){var l={};l.data=L[e].expressInstall,l.width=u.getAttribute("width")||"0",l.height=u.getAttribute("height")||"0",u.getAttribute("class")&&(l.styleclass=u.getAttribute("class")),u.getAttribute("align")&&(l.align=u.getAttribute("align"));for(var h={},p=u.getElementsByTagName("param"),f=p.length,m=0;m<f;m++)"movie"!=p[m].getAttribute("name").toLowerCase()&&(h[p[m].getAttribute("name")]=p[m].getAttribute("value"));s(l,h,i,n)}else a(u),n&&n(c);else b(i,!0),n&&(c.success=!0,c.ref=r(i),n(c))}else if(b(i,!0),n){var g=r(i);g&&typeof g.SetVariable!=S&&(c.success=!0,c.ref=g),n(c)}}}function r(t){var e=null,i=_(t);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=S)e=i;else{var n=i.getElementsByTagName(A)[0];n&&(e=n)}return e}function o(){return!J&&d("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)}function s(t,e,i,n){J=!0,v=n||null,w={success:!1,id:i};var r=_(i);if(r){"OBJECT"==r.nodeName?(g=c(r),y=null):(g=r,y=i),t.id=P,(typeof t.width==S||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==S||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),R.title=R.title.slice(0,47)+" - Flash Player Installation";var o=N.ie&&N.win?"ActiveX":"PlugIn",s="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+R.title;if(typeof e.flashvars!=S?e.flashvars+="&"+s:e.flashvars=s,N.ie&&N.win&&4!=r.readyState){var a=p("div");i+="SWFObjectNew",a.setAttribute("id",i),r.parentNode.insertBefore(a,r),r.style.display="none",function(){4==r.readyState?r.parentNode.removeChild(r):setTimeout(arguments.callee,10)}()}u(t,e,i)}}function a(t){if(N.ie&&N.win&&4!=t.readyState){var e=p("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(c(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(c(t),t)}function c(t){var e=p("div");if(N.win&&N.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(A)[0];if(i){var n=i.childNodes;if(n)for(var r=n.length,o=0;o<r;o++)1==n[o].nodeType&&"PARAM"==n[o].nodeName||8==n[o].nodeType||e.appendChild(n[o].cloneNode(!0))}}return e}function u(t,e,i){var n,r=_(i);if(N.wk&&N.wk<312)return n;if(r)if(typeof t.id==S&&(t.id=i),N.ie&&N.win){var o="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?o+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(o+=" "+s+'="'+t[s]+'"'));var a="";for(var c in e)e[c]!=Object.prototype[c]&&(a+='<param name="'+c+'" value="'+e[c]+'" />');r.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+a+"</object>",j[j.length]=t.id,n=_(t.id)}else{var u=p(A);for(var h in u.setAttribute("type",E),t)t[h]!=Object.prototype[h]&&("styleclass"==h.toLowerCase()?u.setAttribute("class",t[h]):"classid"!=h.toLowerCase()&&u.setAttribute(h,t[h]));for(var d in e)e[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&l(u,d,e[d]);r.parentNode.replaceChild(u,r),n=u}return n}function l(t,e,i){var n=p("param");n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)}function h(t){var e=_(t);e&&"OBJECT"==e.nodeName&&(N.ie&&N.win?(e.style.display="none",function(){4==e.readyState?function(t){var e=_(t);if(e){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}}(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function _(t){var e=null;try{e=R.getElementById(t)}catch(t){}return e}function p(t){return R.createElement(t)}function d(t){var e=N.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]}function f(t,e,i,n){if(!N.ie||!N.mac){var r=R.getElementsByTagName("head")[0];if(r){var o=i&&"string"==typeof i?i:"screen";if(n&&(x=null,T=null),!x||T!=o){var s=p("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),x=r.appendChild(s),N.ie&&N.win&&typeof R.styleSheets!=S&&R.styleSheets.length>0&&(x=R.styleSheets[R.styleSheets.length-1]),T=o}N.ie&&N.win?x&&typeof x.addRule==A&&x.addRule(t,e):x&&typeof R.createTextNode!=S&&x.appendChild(R.createTextNode(t+" {"+e+"}"))}}}function b(t,e){if(G){var i=e?"visible":"hidden";F&&_(t)?_(t).style.visibility=i:f("#"+t,"visibility:"+i)}}function m(t){return null!=/[\\\"<>\.;]/.exec(t)&&typeof encodeURIComponent!=S?encodeURIComponent(t):t}var g,y,v,w,x,T,S="undefined",A="object",C="Shockwave Flash",E="application/x-shockwave-flash",P="SWFObjectExprInst",D="onreadystatechange",M=window,R=document,I=navigator,O=!1,k=[function(){O?function(){var t=R.getElementsByTagName("body")[0],e=p(A);e.setAttribute("type",E);var i=t.appendChild(e);if(i){var r=0;!function(){if(typeof i.GetVariable!=S){var o=i.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),N.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(r<10)return r++,void setTimeout(arguments.callee,10);t.removeChild(e),i=null,n()}()}else n()}():n()}],L=[],j=[],B=[],F=!1,J=!1,G=!0,N=function(){var t=typeof R.getElementById!=S&&typeof R.getElementsByTagName!=S&&typeof R.createElement!=S,e=I.userAgent.toLowerCase(),i=I.platform.toLowerCase(),n=/win/.test(i||e),r=/mac/.test(i||e),o=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s=!1,a=[0,0,0],c=null;if(typeof I.plugins!=S&&typeof I.plugins[C]==A)!(c=I.plugins[C].description)||typeof I.mimeTypes!=S&&I.mimeTypes[E]&&!I.mimeTypes[E].enabledPlugin||(O=!0,s=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(c)?parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof M.ActiveXObject!=S)try{var u=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");u&&((c=u.GetVariable("$version"))&&(s=!0,c=c.split(" ")[1].split(","),a=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]))}catch(t){}return{w3:t,pv:a,wk:o,ie:s,win:n,mac:r}}();return N.w3&&((typeof R.readyState!=S&&"complete"==R.readyState||typeof R.readyState==S&&(R.getElementsByTagName("body")[0]||R.body))&&t(),F||(typeof R.addEventListener!=S&&R.addEventListener("DOMContentLoaded",t,!1),N.ie&&N.win&&(R.attachEvent(D,function(){"complete"==R.readyState&&(R.detachEvent(D,arguments.callee),t())}),M==top&&function(){if(!F){try{R.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}t()}}()),N.wk&&function(){F||(/loaded|complete/.test(R.readyState)?t():setTimeout(arguments.callee,0))}(),i(t))),N.ie&&N.win&&window.attachEvent("onunload",function(){for(var t=B.length,e=0;e<t;e++)B[e][0].detachEvent(B[e][1],B[e][2]);for(var i=j.length,n=0;n<i;n++)h(j[n]);for(var r in N)N[r]=null;for(var o in N=null,swfobject)swfobject[o]=null;swfobject=null}),{registerObject:function(t,e,i,n){if(N.w3&&t&&e){var r={};r.id=t,r.swfVersion=e,r.expressInstall=i,r.callbackFn=n,L[L.length]=r,b(t,!1)}else n&&n({success:!1,id:t})},getObjectById:function(t){if(N.w3)return r(t)},embedSWF:function(t,i,n,r,a,c,l,h,_,p){var f={success:!1,id:i};N.w3&&!(N.wk&&N.wk<312)&&t&&i&&n&&r&&a?(b(i,!1),e(function(){n+="",r+="";var e={};if(_&&typeof _===A)for(var m in _)e[m]=_[m];e.data=t,e.width=n,e.height=r;var g={};if(h&&typeof h===A)for(var y in h)g[y]=h[y];if(l&&typeof l===A)for(var v in l)typeof g.flashvars!=S?g.flashvars+="&"+v+"="+l[v]:g.flashvars=v+"="+l[v];if(d(a)){var w=u(e,g,i);e.id==i&&b(i,!0),f.success=!0,f.ref=w}else{if(c&&o())return e.data=c,void s(e,g,i,p);b(i,!0)}p&&p(f)})):p&&p(f)},switchOffAutoHideShow:function(){G=!1},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:d,createSWF:function(t,e,i){return N.w3?u(t,e,i):void 0},showExpressInstall:function(t,e,i,n){N.w3&&o()&&s(t,e,i,n)},removeSWF:function(t){N.w3&&h(t)},createCSS:function(t,e,i,n){N.w3&&f(t,e,i,n)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=R.location.search||R.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return m(e);for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n].substring(0,i[n].indexOf("="))==t)return m(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(J){var t=_(P);t&&g&&(t.parentNode.replaceChild(g,t),y&&(b(y,!0),N.ie&&N.win&&(g.style.display="block")),v&&v(w)),J=!1}}}}();this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!1,createjs.AbstractLoader.SOUND),this.flashId=null}var e=createjs.extend(t,createjs.AbstractLoader),i=t;i._flash=null,i._preloadInstances=[],i.setFlash=function(t){i._flash=t;for(var e=i._preloadInstances.length;e--;){i._preloadInstances.pop().load()}},e.load=function(){if(null!=i._flash){this.flashId=i._flash.preload(this._item.src);var t=new createjs.Event(createjs.FlashAudioPlugin._REG_FLASHID);this.dispatchEvent(t)}else i._preloadInstances.push(this)},e.handleProgress=function(t,e){this._sendProgress(t/e)},e.handleComplete=function(){this._result=this._item.src,this._sendComplete()},e.handleError=function(t){this._handleError(t)},e.destroy=function(){var t=new createjs.Event(createjs.FlashAudioPlugin._UNREG_FLASHID);this.dispatchEvent(t),this.AbstractLoader_destroy()},e.toString=function(){return"[FlashAudioLoader]"},createjs.FlashAudioLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r){this.AbstractSoundInstance_constructor(t,e,n,r),this.flashId=null,null==i._flash&&i._instances.push(this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),i=t;i._flash=null,i._instances=[],i.setFlash=function(t){i._flash=t;for(var e=i._instances.length;e--;){i._instances.pop()._setDurationFromSource()}},e.setLoop=function(t){null!=this.flashId&&i._flash.setLoop(this.flashId,t),this._loop=t},e.toString=function(){return"[FlashAudioSoundInstance]"},e._updateVolume=function(){null!=this.flashId&&i._flash.setVolume(this.flashId,this._volume)},e._updatePan=function(){null!=this.flashId&&i._flash.setPan(this.flashId,this._pan)},e._setDurationFromSource=function(){this._duration=i._flash.getDurationBySrc(this.src)},e._interrupt=function(){null!=this.flashId&&(i._flash.interrupt(this.flashId),this.AbstractSoundInstance__interrupt())},e._handleCleanUp=function(){i._flash.stopSound(this.flashId),this._sendEvent(createjs.FlashAudioPlugin._UNREG_FLASHID),this.flashId=null},e._beginPlaying=function(t){return null!=i._flash&&(this.setPosition(t.offset),this.setLoop(t.loop),this.setVolume(t.volume),this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),this._paused=!1,this.flashId=i._flash.playSound(this.src,this._position,this._loop,this._volume,this._pan,this._startTime,this._duration),null==this.flashId?(this._playFailed(),!1):(this._muted&&this.setMute(!0),this._sendEvent(createjs.FlashAudioPlugin._REG_FLASHID),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0))},e._pause=function(){null!=this.flashId&&(this._position=this._calculateCurrentPosition(),i._flash.pauseSound(this.flashId))},e._resume=function(){null!=this.flashId&&i._flash.resumeSound(this.flashId)},e._handleStop=function(){null!=this.flashId&&i._flash.stopSound(this.flashId)},e._updateVolume=function(){var t=this._muted?0:this._volume;i._flash.setVolume(this.flashId,t)},e._calculateCurrentPosition=function(){return i._flash.getPosition(this.flashId)},e._updatePosition=function(){null!=this.flashId&&i._flash.setPosition(this.flashId,this._position)},e.handleSoundFinished=function(){this._loop=0,this._handleSoundComplete()},e.handleSoundLoop=function(){this._loop--,this._sendEvent("loop")},createjs.FlashAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this.showOutput=!1,this._CONTAINER_ID="flashAudioContainer",this._WRAPPER_ID="SoundJSFlashContainer",this._container=null,this._flash=null,this.flashReady=!1,this._flashInstances={},this._flashPreloadInstances={},this._capabilities=i._capabilities,this._loaderClass=createjs.FlashAudioLoader,this._soundInstanceClass=createjs.FlashAudioSoundInstance;var t=this.wrapper=document.createElement("div");t.id=this._WRAPPER_ID,t.style.position="absolute",t.style.marginLeft="-1px",t.className=this._WRAPPER_ID,document.body.appendChild(t);var e=this._container=document.createElement("div");e.id=this._CONTAINER_ID,e.appendChild(document.createTextNode("SoundJS Flash Container")),t.appendChild(e);var n=i.swfPath;swfobject.embedSWF(n+"FlashAudioPlugin.swf",this._CONTAINER_ID,"1","1","9.0.0",null,null,{AllowScriptAccess:"always"},null,createjs.proxy(this._handleSWFReady,this))}var e=createjs.extend(t,createjs.AbstractPlugin),i=t;i._REG_FLASHID="registerflashid",i._UNREG_FLASHID="unregisterflashid",i._capabilities=null,i.swfPath="src/soundjs/flashaudio/",i.isSupported=function(){return!(createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry||createjs.BrowserDetect.isWindowsPhone)&&(i._generateCapabilities(),null!=swfobject&&swfobject.hasFlashPlayerVersion("9.0.0"))},i._generateCapabilities=function(){null==i._capabilities&&(i._capabilities={panning:!0,volume:!0,tracks:-1,mp3:!0,ogg:!1,mpeg:!0,wav:!0,m4a:!1,mp4:!1,aiff:!1,wma:!1,mid:!1})},e.register=function(t,e){var n=this.AbstractPlugin_register(t,e);return n.addEventListener(i._REG_FLASHID,createjs.proxy(this.registerPreloadInstance,this)),n.addEventListener(i._UNREG_FLASHID,createjs.proxy(this.unregisterPreloadInstance,this)),n},e.removeAllSounds=function(){this._flashInstances={},this._flashPreloadInstances={},this.AbstractPlugin_removeAllSounds()},e.create=function(t,e,n){var r=this.AbstractPlugin_create(t,e,n);return r.on(i._REG_FLASHID,this.registerSoundInstance,this),r.on(i._UNREG_FLASHID,this.unregisterSoundInstance,this),r},e.toString=function(){return"[FlashAudioPlugin]"},e._handleSWFReady=function(t){this._flash=t.ref},e._handleFlashReady=function(){this.flashReady=!0,this._loaderClass.setFlash(this._flash),this._soundInstanceClass.setFlash(this._flash),this._updateVolume()},e._updateVolume=function(){if(!this.flashReady)return!0;var t=createjs.Sound._masterMute?0:this._volume;return this._flash.setMasterVolume(t)},e.registerPreloadInstance=function(t){this._flashPreloadInstances[t.target.flashId]=t.target},e.unregisterPreloadInstance=function(t){delete this._flashPreloadInstances[t.target.flashId]},e.registerSoundInstance=function(t){this._flashInstances[t.target.flashId]=t.target},e.unregisterSoundInstance=function(t){delete this._flashInstances[t.target.flashId]},e.flashLog=function(t){try{this.showOutput&&console.log(t)}catch(t){}},e.handleSoundEvent=function(t,e){var i=this._flashInstances[t];if(null!=i){for(var n=[],r=2,o=arguments.length;r<o;r++)n.push(arguments[r]);try{0==n.length?i[e]():i[e].apply(i,n)}catch(t){}}},e.handlePreloadEvent=function(t,e){var i=this._flashPreloadInstances[t];if(null!=i){for(var n=[],r=2,o=arguments.length;r<o;r++)n.push(arguments[r]);try{0==n.length?i[e]():i[e].apply(i,n)}catch(t){}}},e.handleEvent=function(t){switch(t){case"ready":this._handleFlashReady()}},e.handleErrorEvent=function(t){},createjs.FlashAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){var t=createjs.FlashAudioPlugin=createjs.FlashAudioPlugin||{};t.version="0.6.5",t.buildDate="Fri, 07 Apr 2017 15:14:47 GMT"}(),function(){"use strict";var t,e,i,n;"extend"in(n=window)||(n.extend=function(t,e){if(e){"string"==typeof e&&(e=n.include(e));var i=e.prototype;t.prototype=Object.create(i),Object.defineProperty(t.prototype,"__parent",{configurable:!0,writable:!0,value:i})}return Object.defineProperty(t.prototype,"constructor",{configurable:!0,writable:!0,value:t}),t.extend=function(e){return n.extend(e,t)},t.prototype}),function(t,e){if(!("include"in t)){t.include=function(e,i){var n=e.split("."),r=t,o="";i=void 0===i||!!i;for(var s=0,a=n.length;s<a;s++){if(!r[o=n[s]]){if(!i)return null;throw"Unable to include '"+e+"'"}r=r[o]}return r}}}(window),function(t,e){if(!("mixin"in t)){t.mixin=function(i,n){if("string"==typeof n&&(n=t.include(n)),!n.prototype)throw"no mixin prototype";var r=n.prototype;for(var o in r){var s=e.getOwnPropertyDescriptor(r,o);s?e.defineProperty(i,o,s):i[o]=r[o]}return n.apply(i,Array.prototype.slice.call(arguments,2)),i}}}(window,Object),function(t){if(!("namespace"in t)){t.namespace=function(e){for(var i=e.split("."),n=t,r="",o=0,s=i.length;o<s;o++)n[r=i[o]]=n[r]||{},n=n[r];return n}}}(window),function(t,e,i){t.prototype.shuffle||i.defineProperty(t.prototype,"shuffle",{enumerable:!1,writable:!1,value:function(){for(var t,i,n=this.length;n;t=e.floor(e.random()*n),i=this[--n],this[n]=this[t],this[t]=i);return this}}),t.prototype.random||i.defineProperty(t.prototype,"random",{enumerable:!1,writable:!1,value:function(){return this[e.floor(e.random()*this.length)]}}),t.prototype.last||i.defineProperty(t.prototype,"last",{enumerable:!1,writable:!1,value:function(){return this[this.length-1]}}),t.prototype.append||i.defineProperty(t.prototype,"append",{enumerable:!1,writable:!1,value:function(){for(var e=arguments,i=0,n=e.length;i<n;++i){var r=e[i];if(t.isArray(r))for(var o=0,s=r.length;o<s;++o)this.push(r[o]);else this.push(r)}return this}})}(Array,Math,Object),function(t){t.randomInt=function(e,i){return void 0===i&&(i=e,e=0),t.floor(t.random()*(i-e+1))+e},t.randomFloat=function(e,i){return void 0===i&&(i=e,e=0),t.random()*(i-e)+e},t.dist=function(e,i,n,r){return t.sqrt(t.distSq(e,i,n,r))},t.distSq=function(t,e,i,n){return"number"==typeof t.x&&t.x==t.x&&(n=i,i=e,e=t.y,t=t.x),"number"==typeof i.x&&i.x==i.x&&(n=i.y,i=i.x),(t-i)*(t-i)+(e-n)*(e-n)},t.clamp=function(t,e,i){return void 0===i&&(i=e,e=0),t>i?i:t<e?e:t},t.roundDecimal=function(e,i){return t.round(e/i)*i}}(Math),function(t,e){t.prototype.toPaddedString||e.defineProperty(t.prototype,"toPaddedString",{enumerable:!1,writable:!1,value:function(t){t||(t=2);var e,i=this;i<0&&(i*=-1,e="-");for(var n=String(Math.floor(i));n.length<t;)n="0"+n;return e&&(n=e+n),n}})}(Number,Object),function(t,e,i){t.merge=function(e,i){for(var n in e&&"object"==typeof e||(e={}),i)if(i.hasOwnProperty(n)){var r=i[n];if("object"==typeof r&&t.isPlain(r)){e[n]=t.merge(e[n],r);continue}e[n]=r}for(var o=2,s=arguments.length;o<s;o++)t.merge(e,arguments[o]);return e},t.isPlain=function(t){var i,n=e.hasOwnProperty;if(!t||"object"!=typeof t||t.nodeType||t===window)return!1;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(e.ownLast)for(i in t)return n.call(t,i);for(i in t);return void 0===i||n.call(t,i)},t.prototype.clone||t.defineProperty(t.prototype,"clone",{enumerable:!1,writable:!0,value:function(){var t={};for(var e in this)t[e]=this[e];return t}})}(Object,{}),function(){var t=include("createjs.RequestUtils",!1),e=include("createjs.AbstractLoader",!1);if(t){var i=t.getTypeByExtension;t.getTypeByExtension=function(t){if(t)switch(t.toLowerCase()){case"fnt":return e.XML}return i(t)}}}(),function(t,e){e.defineProperty(t.prototype,"format",{enumerable:!1,writable:!1,value:function(){if(arguments.length<1)return this;var t=Array.isArray(t)?t:Array.prototype.slice.call(arguments);return this.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(e,i,n){return n?i+t[parseInt(n)-1]:i+t.shift()}).replace(/%%s/g,"%s")}}),t.prototype.reverse||e.defineProperty(t.prototype,"reverse",{enumerable:!1,writable:!1,value:function(){for(var t="",e=this.length-1;e>=0;e--)t+=this[e];return t}})}(String,Object),function(){function t(){this.currentCallCount=0}var e={create:function(e,i){if(!e)return null;("number"!=typeof i||i<1)&&(i=2);var n=function(){++n.currentCallCount>=i&&e()};return n.currentCallCount=0,n.reset=t,n}};namespace("springroll").CombinedCallback=e}(),e=function(e,i,n,r,o){t||(t=include("springroll.Application")),"boolean"==typeof n&&(n={repeat:!!n,autoDestroy:void 0===r||!!r,useFrames:!!o}),n=Object.merge({repeat:!1,autoDestroy:!0,useFrames:!1},n||{}),this._callback=e,this._delay=i,this._timer=i,this._repeat=n.repeat,this._autoDestroy=n.autoDestroy,this._useFrames=n.useFrames,this._paused=!1,this._update=this._update.bind(this),t.instance.on("update",this._update)},(i=extend(e))._update=function(e){this._callback?(this._timer-=this._useFrames?1:e,this._timer<=0&&(this._callback(this),this._repeat?this._timer+=this._delay:this._autoDestroy?this.destroy():t.instance.off("update",this._update))):this.destroy()},i.restart=function(){if(this._callback){var e=t.instance;e.has("update",this._update)||e.on("update",this._update),this._timer=this._delay,this._paused=!1}},i.stop=function(){t.instance.off("update",this._update),this._paused=!1},Object.defineProperty(i,"paused",{get:function(){return this._paused},set:function(e){if(this._callback){var i=t.instance;this._paused&&!e?(this._paused=!1,i.has("update",this._update)||i.on("update",this._update)):e&&i.has("update",this._update)&&(this._paused=!0,i.off("update",this._update))}}}),i.destroy=function(){t.instance.off("update",this._update),this._callback=null},namespace("springroll").DelayedCall=e,function(){var t,e=function(e,i,n){void 0===t&&(t=include("springroll.Debug",!1)),this.name=e,this._value=i,this._toString=n||this.name};Object.defineProperty(e.prototype,"asInt",{get:function(){return this._value}}),e.prototype.toString=function(){return this._toString};var i=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);Object.defineProperty(this,"_byValue",{enumerable:!1,writable:!1,value:[]}),Object.defineProperty(this,"rawEnumValues",{enumerable:!1,writable:!1,value:t});for(var i,n,r,o=0,s=0,a=t.length;s<a;++s)"string"==typeof t[s]?r=t[s]:(r=t[s].name,n=t[s].value||o,o=n),this[r]||(this[(i="string"==typeof t[s]?new e(r,o,r):new e(r,n,t[s].toString||r)).name]=i,this._byValue[o]?Array.isArray(this._byValue[o])?this._byValue[o].push(i):this._byValue[o]=[this._byValue[o],i]:this._byValue[o]=i,o++);Object.defineProperty(this,"length",{enumerable:!1,writable:!1,value:t.length}),Object.defineProperty(this,"next",{enumerable:!1,writable:!1,value:function(t){var e=t.asInt+1;return e>=o?this.first:this.valueFromInt(e)}}),Object.defineProperty(this,"first",{enumerable:!1,writable:!1,value:this.valueFromInt(t[0].value||0)}),Object.defineProperty(this,"last",{enumerable:!1,writable:!1,value:this.valueFromInt(o-1)})},n=extend(i);Object.defineProperty(n,"valueFromInt",{enumerable:!1,writable:!1,value:function(t){var e=this._byValue[t];return e?Array.isArray(e)?e[0]:e:null}}),namespace("springroll").Enum=i}(),function(t){var e={},i=void 0!==window.Storage;if(i)try{localStorage.setItem("LS_TEST","test"),localStorage.removeItem("LS_TEST")}catch(t){i=!1}e.remove=function(t){i?(localStorage.removeItem(t),sessionStorage.removeItem(t)):e.write(t,"",-1)},e.write=function(t,e,n){var r;i?n?sessionStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(t,JSON.stringify(e)):(r=n?-1!==n?"":"; expires=Thu, 01 Jan 1970 00:00:00 GMT":"; expires="+new Date(2147483646e3).toGMTString(),document.cookie=t+"="+escape(JSON.stringify(e))+r+"; path=/")},e.read=function(t){if(i){var n=localStorage.getItem(t)||sessionStorage.getItem(t);return n?JSON.parse(n,e.reviver):null}var r,o,s=t+"=",a=document.cookie.split(";"),c=0;for(c=0,o=a.length;c<o;c++){for(r=a[c];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(s))return JSON.parse(unescape(r.substring(s.length,r.length)),e.reviver)}return null},e.reviver=function(t,e){if(e&&"string"==typeof e.__classname){var i=include(e.__classname,!1);if(i){var n=new i;if(n.fromJSON)return n.fromJSON(e),n}}return e},namespace("springroll").SavedData=e}(),function(t){var e=include("performance",!1),i=e&&(e.now||e.mozNow||e.msNow||e.oNow||e.webkitNow);i&&(e.now=i);var n={};n.now=i?function(){return e.now()}:Date.now,namespace("springroll").TimeUtils=n}(window),function(){var t=function(t){this.max=-1,this.options=[];var e=0;for(var i in t)e+=t[i],this.options.push({key:i,value:e}),this.max+=t[i]};extend(t).random=function(){for(var t=Math.randomInt(0,this.max),e=0,i=this.options,n=i.length;e<n;++e)if(t<i[e].value)return i[e].key;return null},namespace("springroll").WeightedRandom=t}(),function(){for(var t=["ms","moz","webkit","o"],e=t.length,i=0;i<e&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var n=include("springroll.TimeUtils"),r=0;window.requestAnimationFrame=function(t){var e=n.now(),i=Math.max(0,16-(e-r)),o=window.setTimeout(function(){t(e+i)},i);return r=e+i,o},window.cancelAnimationFrame=function(t){clearTimeout(t)}}window.requestAnimFrame=window.requestAnimationFrame}(),function(t){function e(t,e){return t._priority-e._priority}function i(t){if(null===t)return"null";var e=typeof t;return"object"===e||"function"===e?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":e}var n=function(){this._listeners={},this._destroyed=!1},r=extend(n);Object.defineProperty(r,"destroyed",{enumerable:!0,get:function(){return this._destroyed}}),r.trigger=function(e){if(!this._destroyed&&this._listeners.hasOwnProperty(e)&&this._listeners[e]!==t){var i,n=this._listeners[e].slice();arguments.length>1&&(i=Array.prototype.slice.call(arguments,1));for(var r=n.length-1;r>=0;--r){var o=n[r];o._eventDispatcherOnce&&(delete o._eventDispatcherOnce,this.off(e,o)),o.apply(this,i)}}},r.once=function(t,e,i){return this.on(t,e,i,!0)},r.on=function(t,n,r,o){if(!this._destroyed){if("object"===i(t))for(var s in t)t.hasOwnProperty(s)&&this.on(s,t[s],r,o);else if("function"===i(n))for(var a,c=t.split(" "),u=null,l=0,h=c.length;l<h;l++)u=c[l],a=this._listeners.hasOwnProperty(u)?this._listeners[u]:this._listeners[u]=[],o&&(n._eventDispatcherOnce=!0),n._priority=parseInt(r)||0,-1===a.indexOf(n)&&(a.push(n),a.length>1&&a.sort(e));else if(Array.isArray(n))for(var _=0,p=n.length;_<p;_++)this.on(t,n[_],r,o);return this}},r.off=function(e,i){if(!this._destroyed){if(e===t)this._listeners={};else if(Array.isArray(i))for(var n=0,r=i.length;n<r;n++)this.off(e,i[n]);else for(var o,s,a=e.split(" "),c=null,u=0,l=a.length;u<l;u++)c=a[u],this._listeners.hasOwnProperty(c)&&(o=this._listeners[c],i===t?o.length=0:-1!==(s=o.indexOf(i))&&o.splice(s,1));return this}},r.has=function(t,e){if(!t||!this._listeners.hasOwnProperty(t))return!1;var i=this._listeners[t];return!!i&&(e?i.indexOf(e)>=0:i.length>0)},r.destroy=function(){this._destroyed=!0,this._listeners=null},namespace("springroll").EventDispatcher=n}(),function(t){var e=include("springroll.EventDispatcher"),i=function(){e.call(this),this._properties={}},n=e.prototype,r=e.extend(i);r.add=function(e,i,n){var r=this._properties,s=r[e];if(s!==t)return s.setValue(i),s.setReadOnly(n===t?s.readOnly:n),this;if(this.hasOwnProperty(e))throw"Object already has property "+e;return r[e]=new o(e,i,n),Object.defineProperty(this,e,{get:function(t){var e=this._properties[t];if(e.responder){var i=e.responder();return e.value=i,i}return e.value}.bind(this,e),set:function(t,e){var i=this._properties[t];if(i.readOnly)throw"Property '"+t+"' is read-only";var n=i.value;i.value=e,n!=e&&this.trigger(t,e)}.bind(this,e)}),this},r.respond=function(e,i){var n=this._properties[e];if(n===t)throw"Property "+e+" does not exist";return n.responder=i,n.value=i(),this},r.destroy=function(){var t;for(var e in this._properties)(t=this._properties[e]).value=null,t.responder=null;this._properties=null,n.destroy.call(this)};var o=function(t,e,i){this.name=t,this.setValue(e),this.setReadOnly(i),this.responder=null};o.prototype.setValue=function(e){this.value=e===t?null:e},o.prototype.setReadOnly=function(e){this.readOnly=e!==t&&!!e},namespace("springroll").PropertyDispatcher=i}(),function(t){var e,i=include("springroll.PropertyDispatcher"),n=function(n,r){e===t&&(e=include("springroll.Debug",!1)),i.call(this),this._options=r||{},this._app=n},r=i.extend(n);r.init=function(){var t=this._options;for(var e in this._app,(t=Object.merge({},t)).useQueryString&&Object.merge(t,o()),t)this.add(e,t[e]);var i=this._properties;for(var n in i)this.trigger(n,i[n].value)};var o=function(){var e={},i=window.location.search;if(!i)return e;for(var n,r=i.substr(i.indexOf("?")+1),o=r.indexOf("#"),s=(r=o<0?r:r.substring(0,o)).split("&"),a=0,c=s.length;a<c;a++){var u=(n=s[a].split("="))[1];"true"===u||u===t?u=!0:"false"===u&&(u=!1),e[n[0]]=u}return e};r.asDOMElement=function(t){var e=this._properties[t];e&&e.value&&"string"==typeof e.value&&(e.value=document.getElementById(e.value))},r.override=function(e,i){var n=this._properties[e];if(n===t)throw"Invalid override "+e;return n.setValue(i),this},namespace("springroll").ApplicationOptions=n}(),function(){var t;namespace("springroll").ApplicationPlugin=function(e){t||(t=include("springroll.Application")),this.priority=e||0,this.setup=function(){},this.preload=null,this.teardown=function(){},t._plugins.push(this),t._plugins.sort(function(t,e){return e.priority-t.priority})}}(),function(t){var e=include("springroll.TimeUtils"),i=include("springroll.EventDispatcher"),n=include("springroll.ApplicationOptions"),r=include("springroll.DelayedCall"),o=function(t,e){if(m)throw"Only one Application can be opened at a time";m=this,i.call(this),this.options=new n(this,t),this.display=null,this.init=e||null,this.pluginLoad=null,b={},f=[],u=this._tick.bind(this),o._plugins.forEach(function(t){t.setup.call(m)}),this.options.init(),this.name=this.options.name,setTimeout(this._preInit.bind(this),0)};o.version="1.1.0";var s=i.prototype,a=i.extend(o);o._plugins=[];var c=0,u=null,l=!1,h=!0,_=-1,p=!1,d=0,f=null,b=null,m=null;Object.defineProperty(o,"instance",{get:function(){return m}}),a._preInit=function(){if(!this.destroyed){var t=this.options;p=t.raf,t.on("raf",function(t){p=t}),t.on("fps",function(t){"number"==typeof t&&(d=1e3/t|0)}),t.canvasId&&t.display&&this.addDisplay(t.canvasId,t.display,t.displayOptions);var e=[];o._plugins.forEach(function(t){t.preload&&e.push(t.preload.bind(m))}),this.pluginLoad=this.load(e,{complete:this._doInit.bind(this),progress:g.bind(this),autoStart:!1,startAll:!1}),this.pluginLoad.start()}};var g=function(t){this.trigger("pluginProgress",t)};a._doInit=function(){this.destroyed||(this.pluginLoad=null,this.trigger("beforeInit"),this.paused=!1,this.trigger("init"),this.init&&this.init.call(this),this.trigger("afterInit"))},Object.defineProperty(a,"enabled",{set:function(t){h=t,f.forEach(function(e){e.enabled=t})},get:function(){return h}}),Object.defineProperty(a,"paused",{get:function(){return l},set:function(t){l=!!t,this.internalPaused(l)}}),a.internalPaused=function(t){this.trigger("pause",t),this.trigger(t?"paused":"resumed",t),t?-1!=_&&(p?cancelAnimationFrame(_):clearTimeout(_),_=-1):-1==_&&u&&(c=e.now(),_=p?requestAnimFrame(u):y(u))};var y=function(t,e){var i=d;return e&&(i=Math.max(0,d-e)),setTimeout(t,i)};a.addDisplay=function(t,e,i){if(b[t])throw"Display exists with id '"+t+"'";var n=new e(t,i);return b[t]=n,f.push(n),n.enabled=h,this.display||(this.display=n),this.trigger("displayAdded",n),n},Object.defineProperty(a,"displays",{get:function(){return f}}),a.getDisplay=function(t){return b[t]},a.removeDisplay=function(t){var e=b[t];e&&(f.splice(f.indexOf(e),1),e.destroy(),delete b[t],this.trigger("displayRemoved",t))},a._tick=function(){if(l)_=-1;else{var t=e.now(),i=t-c;if(c=t,this.trigger("update",i),f)for(var n=0;n<f.length;n++)f[n].render(i);u&&(_=p?requestAnimFrame(u):y(u,e.now()-c))}},a.setTimeout=function(t,e,i,n){return new r(t,e,!1,n,i)},a.setInterval=function(t,e,i){return new r(t,e,!0,!1,i)},a.destroy=function(){this.destroyed||(this.paused=!0,this.trigger("destroy"),o._plugins.slice().reverse().forEach(function(t){t.teardown.call(m)}),f.forEach(function(t){t.destroy()}),f=null,b=null,m=u=null,this.display=null,this.options.destroy(),this.options=null,s.destroy.call(this))},a.toString=function(){return"[Application name='"+this.name+"']"},namespace("springroll").Application=o}(),function(){var t=include("springroll.ApplicationPlugin"),e=include("createjs.Tween",!1),i=include("createjs.Ticker",!1);new t(120).setup=function(){var t=this.options;t.add("raf",!0,!0),t.add("fps",60,!0),t.add("useQueryString",!1,!0),t.add("canvasId",null,!0),t.add("display",null,!0),t.add("displayOptions",null,!0);var n=this;t.add("updateTween",!0,!0).on("updateTween",function(t){e&&(i&&i.setPaused(!!t),n.off("update",e.tick),t&&n.on("update",e.tick))}),t.add("name","",!0)}}(),function(t,e,i){var n=function(t,n){this._onFocus=t,this._onBlur=n,this._enabled=!1,(o||e.onfocusin!==i)&&(this._onToggle=function(){e.hidden||e.webkitHidden||e.msHidden||e.mozHidden?this._onBlur():this._onFocus()}.bind(this),this.enabled=!0)},r=extend(n),o=null;e.hidden!==i?o="visibilitychange":e.mozHidden!==i?o="mozvisibilitychange":e.msHidden!==i?o="msvisibilitychange":e.webkitHidden!==i&&(o="webkitvisibilitychange");var s=!o&&e.onfocusin!==i;Object.defineProperty(r,"enabled",{get:function(){return this._enabled},set:function(i){i=!!i,this._enabled!=i&&(this._enabled=i,t.removeEventListener("pagehide",this._onBlur),t.removeEventListener("pageshow",this._onFocus),t.removeEventListener("blur",this._onBlur),t.removeEventListener("focus",this._onFocus),t.removeEventListener("visibilitychange",this._onToggle),e.removeEventListener(o,this._onToggle,!1),s&&(e.removeEventListener("focusin",this._onFocus),e.removeEventListener("focusout",this._onBlur)),i&&(e.addEventListener(o,this._onToggle,!1),t.addEventListener("pagehide",this._onBlur),t.addEventListener("pageshow",this._onFocus),t.addEventListener("blur",this._onBlur),t.addEventListener("focus",this._onFocus),t.addEventListener("visibilitychange",this._onToggle,!1),s&&(e.addEventListener("focusin",this._onFocus),e.addEventListener("focusout",this._onBlur))))}}),r.destroy=function(){o&&this._onToggle&&(this.enabled=!1,this._onToggle=null,this._onFocus=null,this._onBlur=null)},namespace("springroll").PageVisibility=n}(window,document),function(){var t=new(include("springroll.ApplicationPlugin"));t.setup=function(){var t=include("springroll.PageVisibility"),n=this._visibility=new t(i.bind(this),e.bind(this));this.options.add("autoPause",!0).on("autoPause",function(t){n.enabled=t}).respond("autoPause",function(){return n.enabled}),Object.defineProperty(this,"autoPaused",{set:function(t){this.paused||this.internalPaused(t)}})};var e=function(){this.autoPaused=!0},i=function(){this.autoPaused=!1};t.teardown=function(){this._visibility&&this._visibility.destroy(),this._visibility=null}}(),function(){var t=function(){this._filters=[]},e=extend(t);e.add=function(t,e){if(!t||"string"!=typeof t&&t instanceof RegExp==0)throw"invalide replace value";if("string"!=typeof e)throw"invalid replacement value";if(this._filters){for(var i=this._filters.length-1;i>=0;i--)if(t.toString()==this._filters[i].replace.toString())throw"Filter already exists.";this._filters.push({replace:t,replacement:e})}},e.filter=function(t){if(!this._filters)return t;for(var e=this._filters.length-1;e>=0;e--){var i=this._filters[e].replace,n=this._filters[e].replacement;t=t.replace(i,n)}return t},e.destroy=function(){this._filters=null},namespace("springroll").StringFilters=t}(),function(){var t=new(include("springroll.ApplicationPlugin"))(110);t.setup=function(){var t=include("springroll.StringFilters");this.filters=new t},t.teardown=function(){this.filters&&this.filters.destroy(),this.filters=null}}(),function(){var t=include("springroll.ApplicationPlugin"),e=include("devicePixelRatio",!1),i=new t(100),n=null,r=0,o=0,s=0,a=0,c={width:0,height:0,normalWidth:0,normalHeight:0},u=null;i.setup=function(){var t=this.options;t.add("maxWidth",0),t.add("maxHeight",0),t.add("uniformResize",!0),t.add("responsive",!1,!0),t.add("resizeElement","frame",!0),t.add("enableHiDPI",!1),t.on("maxWidth",function(t){r=t}),t.on("maxHeight",function(t){o=t}),this.once("displayAdded",function(t){s=t.width,a=t.height,r||(r=s),o||(o=a)}),this.realWidth=0,this.realHeight=0,this.triggerResize=function(){if(n){c.width=0|(n.innerWidth||n.clientWidth),c.height=0|(n.innerHeight||n.clientHeight),this.calculateDisplaySize(c);var t=this.realWidth=c.width,i=this.realHeight=c.height,r=c.normalWidth,o=c.normalHeight,s=this.options.responsive,a=this.options.enableHiDPI;this.displays.forEach(function(n){s?(a&&e&&(n.canvas.style.width=t+"px",n.canvas.style.height=i+"px",t*=e,i*=e),n.resize(t,i)):(n.canvas.style.width=t+"px",n.canvas.style.height=i+"px",a&&e&&(r*=e,o*=e),n.resize(r,o))}),this.trigger("resize",s?t:r,s?i:o),this.displays.forEach(function(t){t.render(0,!0)})}},this.onWindowResize=function(){this.triggerResize(),u=this.setTimeout(function(){this.triggerResize(),u=null}.bind(this),500)},this.calculateDisplaySize=function(t){if(a&&this.options.uniformResize){var e=r/a,i=s/o,n=s/a,c=t.width/t.height;c<i?t.height=t.width/i:c>e&&(t.width=t.height*e),c=t.width/t.height,t.normalWidth=s,t.normalHeight=a,c>n?t.normalWidth=a*c:c<n&&(t.normalHeight=s/c),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t.normalWidth=Math.ceil(t.normalWidth),t.normalHeight=Math.ceil(t.normalHeight)}},this.once("beforeInit",this.triggerResize)},i.preload=function(t){var e=this.options;e.asDOMElement("resizeElement"),e.resizeElement&&(n=e.resizeElement,this.onWindowResize=this.onWindowResize.bind(this),window.addEventListener("resize",this.onWindowResize)),t()},i.teardown=function(){u&&(u.destroy(),u=null),n&&window.removeEventListener("resize",this.onWindowResize),n=null,c.width=c.height=c.normalWidth=c.normalHeight=s=a=o=r=0}}(),function(t){var e=function(t){this._app=t,this._versions={},this._filters=[],this._globalVersion=null,this._applySpecificVersion=this._applySpecificVersion.bind(this),this._applyGlobalVersion=this._applyGlobalVersion.bind(this),this.cacheBust=!1},i=extend(e);Object.defineProperty(i,"cacheBust",{get:function(){return!(!this._globalVersion||0!==this._globalVersion.indexOf("cb="))},set:function(t){if(t)this._globalVersion="cb="+Date.now(),this.unregisterURLFilter(this._applySpecificVersion),this.registerURLFilter(this._applyGlobalVersion);else{var e=this._app.options.version;this._globalVersion=e?"v="+e:null,this._globalVersion?(this.unregisterURLFilter(this._applySpecificVersion),this.registerURLFilter(this._applyGlobalVersion)):(this.unregisterURLFilter(this._applyGlobalVersion),this.registerURLFilter(this._applySpecificVersion))}}}),i.destroy=function(){this._app=null,this._versions=null,this._filters=null,this._applySpecificVersion=null,this._applyGlobalVersion=null},i.addVersionsFile=function(t,e,i){if(this.cacheBust)e&&e();else{this.addVersion(t,Date.now().toString()),t=this._applySpecificVersion(t);var n=this;this._app.load(t,function(t){if(t){var r,o,s=t.replace(/\r/g,"").split("\n");for(r=0,len=s.length;r<len;r++)s[r]&&(2==(o=s[r].split(" ")).length&&n.addVersion((i||"")+o[0],o[1]))}e&&e()})}},i.addVersion=function(t,e){this._versions[t]||(this._versions[t]=e)},i.registerURLFilter=function(t){-1==this._filters.indexOf(t)&&this._filters.push(t)},i.unregisterURLFilter=function(t){var e=this._filters.indexOf(t);e>-1&&this._filters.splice(e,1)},i._applySpecificVersion=function(t){var e=this._app.options.basePath;if(e&&e.indexOf("?")>0)return t;var i=this._versions[t];return i&&!1===/(\?|\&)v\=[0-9]*/.test(t)&&(t=t+(t.indexOf("?")<0?"?":"&")+"v="+i.version),t},i._applyGlobalVersion=function(t){if(!this._globalVersion)return t;var e=this._app.options.basePath;return e&&e.indexOf("?")>0?t:(!1===(0===this._globalVersion.indexOf("cb=")?/(\?|\&)cb\=[0-9]*/:/(\?|\&)v\=/).test(t)&&(t=t+(t.indexOf("?")<0?"?":"&")+this._globalVersion),t)},i._applyBasePath=function(t){var e=this._app.options.basePath;return e&&!1===/^http(s)?\:/.test(t)&&-1==t.search(e)&&(t=e+t),t},i.prepare=function(t,e){e&&(t=this._applyBasePath(t));for(var i=0,n=this._filters.length;i<n;++i)t=this._filters[i](t);return t},namespace("springroll").CacheManager=e}(),function(){var t,e=include("springroll.Application"),i=function(e,n){if(void 0===t&&(t=include("springroll.Debug",!1)),this.status=i.WAITING,this.complete=e.complete||null,this.cache=!!e.cache,this.id=e.id||null,this.type=e.type||null,this.original=e,this.cache&&!this.id){if(n&&"string"==typeof n){var r=n.lastIndexOf(".");r>-1&&(n=n.substr(0,r));var o=n.lastIndexOf("/");o>-1&&(n=n.substr(o+1)),e.id=this.id=n}this.id||(this.cache=!1)}},n=extend(i);i.WAITING=0,i.RUNNING=1,i.FINISHED=2,n.start=function(t){t()},n.filter=function(t){var i=e.instance.assetManager.sizes;if(t&&i.test(t)){var n=i.size(this.original.sizes);t=i.filter(t,n),this.original.scale=n.scale}return t},n.load=function(t,i){return e.instance.load(t,i)},n.simpleLoad=function(t,i,n,r){return e.instance.loader.load(t,i,n,r)},n.destroy=function(){this.status=i.FINISHED,this.id=null,this.type=null,this.complete=null,this.original=null},namespace("springroll").Task=i}(),function(){var t=include("springroll.Task"),e=function(e){t.call(this,e),this.async=e.async},i=t.extend(e);e.test=function(t){return!!t.async},i.start=function(t){this.async(t)},i.destroy=function(){t.prototype.destroy.call(this),this.async=null},namespace("springroll").FunctionTask=e}(),function(){var t=include("springroll.Task"),e=function(e){t.call(this,e,e.color),this.color=this.filter(e.color),this.alpha=this.filter(e.alpha)},i=t.extend(e);e.test=function(t){return!!t.color&&!!t.alpha},i.start=function(t){this.load({_alpha:this.alpha,_color:this.color},function(i){t(e.mergeAlpha(i._color,i._alpha)),i._color.src=i._alpha.src=""})},e.mergeAlpha=function(t,e,i){i||(i=document.createElement("canvas")),i.width=Math.max(e.width,t.width),i.height=Math.max(e.height,t.height);var n=i.getContext("2d");return n.save(),n.drawImage(t,0,0),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),n.restore(),i},namespace("springroll").ColorAlphaTask=e}(),function(){var t=include("springroll.Task"),e=function(e){t.call(this,e),this.assets=e.assets,this.cacheAll=e.cacheAll,this.progress=e.progress},i=t.extend(e);e.test=function(t){return!!t.assets&&(Array.isArray(t.assets)||Object.isPlain(t.assets))},i.start=function(t){this.load(this.assets,{complete:t,progress:this.progress,cacheAll:this.cacheAll})},i.destroy=function(){t.prototype.destroy.call(this),this.assets=null},namespace("springroll").ListTask=e}(),function(){var t=include("springroll.Task"),e=function(e){t.call(this,e,e.src),this.src=this.filter(e.src),this.progress=e.progress||null,this.data=e.data||null,this.advanced=!!e.advanced},i=t.extend(e);e.test=function(t){return!!t.src},i.start=function(t){var e=this.advanced;this.simpleLoad(this.src,function(i){var n=i;n&&!e&&(n=i.content,i.destroy()),t(n)},this.progress,this.data)},i.destroy=function(){t.prototype.destroy.call(this),this.data=null,this.progress=null},namespace("springroll").LoadTask=e}(),function(t){var e,i=include("createjs.LoadQueue"),n=include("createjs.Sound",!1),r=function(){i.call(this,!0),void 0===e&&(e=include("springroll.Debug",!1)),this.retries=0,this.url=null,this.preparedUrl=null,this.data=null,this.onComplete=null,this.onProgress=null,this._onFailed=this._onFailed.bind(this),this._onProgress=this._onProgress.bind(this),this._onCompleted=this._onCompleted.bind(this),n&&this.installPlugin(n)},o=extend(r,i);r.MAX_RETRIES=3,o.toString=function(){return"[LoaderItem(url:'"+this.url+"')]"},Object.defineProperty(o,"basePath",{set:function(t){this._basePath=t}}),Object.defineProperty(o,"crossOrigin",{set:function(t){this._crossOrigin=t}}),o.clear=function(){this.basePath="",this.crossOrigin=!1,this.retries=0,this.onComplete=null,this.onProgress=null,this.data=null,this.preparedUrl=null,this.url=null,this.removeAllEventListeners(),this.removeAll(),this.close()},o.start=function(t){this.addEventListener("fileload",this._onCompleted),this.addEventListener("error",this._onFailed),this.addEventListener("fileprogress",this._onProgress),this._internalStart()},o._internalStart=function(){var t=this.preparedUrl;this.data&&this.data.id&&(t={id:this.data.id,src:t,data:this.data}),this.loadFile(t)},o._onProgress=function(t){this.onProgress&&this.onProgress(this.progress)},o._onFailed=function(t){this.removeAll(),this.retry()},o.retry=function(){this.retries++,this.retries>r.MAX_RETRIES?this.onComplete(this,null):this._internalStart()},o._onCompleted=function(t){this.onComplete(this,t.result)},namespace("springroll").LoaderItem=r}(),function(){var t=function(t,e,i){this.content=t,this.url=e,this.data=i,this.id=null},e=extend(t);e.toString=function(){return"[LoaderResult(url: '"+this.url+"')]"},e.reset=function(){this.content=this.url=this.data=this.id=null},e.destroy=function(){this.reset()},namespace("springroll").LoaderResult=t}(),function(t){var e=include("springroll.LoaderItem"),i=include("springroll.CacheManager"),n=include("springroll.LoaderResult"),r=function(t){this.app=t,this.maxCurrentLoads=2,this.cacheManager=new i(t),this.items={},this.itemPool=[]},o=extend(r);o.destroy=function(){this.itemPool&&this.itemPool.forEach(function(t){t.clear()}),this.itemPool=null,this.cacheManager&&this.cacheManager.destroy(),this.cacheManager=null,this.items=null},o.load=function(t,e,i,n){var r=this.app.options,o=this._getItem(),s=r.basePath;return void 0!==s&&!1===/^http(s)?\:/.test(t)&&-1==t.search(s)&&(o.basePath=s),o.crossOrigin=r.crossOrigin,o.url=t,o.preparedUrl=this.cacheManager.prepare(t),o.onComplete=this._onComplete.bind(this,e),o.onProgress=i||null,o.data=n||null,o.setMaxConnections(this.maxCurrentLoads),this.items[t]=o,o.start(),o},o._onComplete=function(t,e,i){i&&(i=new n(i,e.url,e.data)),t(i),this._putItem(e)},o.cancel=function(t){var e=this.items[t];return!!e&&(e.clear(),this._putItem(e),!0)},o._getItem=function(){var t=this.itemPool;return t.length?t.pop():new e},o._putItem=function(t){delete this.items[t.url],t.clear(),this.itemPool.push(t)},namespace("springroll").Loader=r}(),function(t){function e(t){t&&(t.destroy&&t.destroy(),"IMG"==t.tagName&&(t.src=""))}var i,n=function(){void 0===i&&(i=include("springroll.Debug",!1)),this._cache={}},r=extend(n);r.read=function(t){return this._cache[t]||null},r.write=function(t,e){this._cache[t]&&this.delete(t),this._cache[t]=e},r.delete=function(t){var i="string"==typeof t?t:t.id;if(i){var n=this._cache[i];if(n){if(Object.isPlain(n))for(var r in n)e(n[r]);else Array.isArray(n)?n.forEach(e):e(n);delete this._cache[i]}}},r.empty=function(){for(var t in this._cache)this.delete(t)},r.destroy=function(){this.empty(),this._cache=null},namespace("springroll").AssetCache=n}(),function(){var t,e=include("devicePixelRatio",!1)||1,i=function(){void 0===t&&(t=include("springroll.Debug",!1)),this._sizes=[],this._sizesMap={},this._preferredSize=null},n=extend(i);i.SIZE_TOKEN="%SIZE%",n.reset=function(){this._sizes.length=0,this._sizesMap={}},n.define=function(t,e,i,n){var r={id:t,maxSize:e,scale:i,fallback:n};this._sizesMap[t]=r,this._sizes.push(r),this._sizes.sort(function(t,e){return t.maxSize-e.maxSize})},n.filter=function(t,e){return e=e||this._preferredSize,t.replace(i.SIZE_TOKEN,e.id)},n.test=function(t){return t.indexOf(i.SIZE_TOKEN)>-1},n.size=function(t){var e=this._preferredSize,i=e.fallback;if(t&&!t[e.id])for(var n=0,r=i.length;n<r;n++){var o=i[n];if(!1!==t[o]){e=this._sizesMap[o];break}}if(!e)throw"Asset does not support any valid size";return e},n.refresh=function(t,i){for(var n=Math.min(t,i),r=null,o=this._sizes,s=o.length-1;s>=0&&o[s].maxSize/e>n;--s)r=o[s];this._preferredSize=r},n.destroy=function(){this._preferredSize=null,this._sizes=null,this._sizesMap=null},namespace("springroll").AssetSizes=i}(),function(t){function e(t){return function(t){return"string"==typeof t}(t)?{src:t}:function(t){return"function"==typeof t}(t)?{async:t}:t}var i=include("springroll.Task"),n=include("springroll.EventDispatcher"),r=function(t){n.call(this),this.manager=t,this.mode=s,this.startAll=!0,this.cacheAll=!1,this.tasks=[],this.results=null,this.running=!1,this.numLoaded=0,this.total=0,this.type=null},o=n.extend(r);o.setup=function(t,e){this.startAll=e.startAll,this.cacheAll=e.cacheAll,this.type=e.type,this.mode=this.addTasks(t),this.results=a(this.mode),e.autoStart&&this.start()},o.start=function(){this.trigger("progress",0),this.running=!0,this.nextTask()},o.reset=function(){this.tasks.forEach(function(t){t.status=i.FINISHED,t.destroy()}),this.total=0,this.numLoaded=0,this.mode=s,this.tasks.length=0,this.results=null,this.type=null,this.startAll=!0,this.cacheAll=!1,this.running=!1};var s=1;o.addTasks=function(i){var n,r,o=s;if((i=e(i)).type===t&&this.type&&(i.type=this.type),this.getTaskByAsset(i))return this.addTask(i),0;if(i.type===this.type&&this.type&&delete i.type,Array.isArray(i))for(var a=0;a<i.length;a++)n=e(i[a]),(r=this.addTask(n)).id||(o=2);else if(Object.isPlain(i))for(var c in i)n=e(i[c]),(r=this.addTask(n)).id||(r.id=c);return o},o.addTask=function(e){e.type===t&&this.type&&(e.type=this.type);var i,n=this.getTaskByAsset(e);return n&&(e.cache===t&&this.cacheAll&&(e.cache=!0),i=new n(e),this.tasks.push(i),++this.total),i},o.getTaskByAsset=function(t){for(var e,i=this.manager.taskDefs,n=0,r=i.length;n<r;n++)if((e=i[n]).test(t))return e;return null},o.nextTask=function(){for(var t=this.tasks,e=0;e<t.length;e++){var n=t[e];if(n.status===i.WAITING&&(n.status=i.RUNNING,n.start(this.taskDone.bind(this,n)),!this.startAll))return}},o.taskDone=function(t,e){if(this.running){e=e||null;var i=this.tasks.indexOf(t);if(-1!==i){this.tasks.splice(i,1);var n=[];if(e){switch(this.mode){case 0:this.results=e;break;case 2:this.results.push(e);break;case s:this.results[t.id]=e}t.cache&&this.manager.cache.write(t.id,e)}t.complete&&t.complete(e,t.original,n),this.trigger("taskDone",e,t.original,n),t.destroy();var r=this.addTasks(n);if(this.trigger("progress",++this.numLoaded/this.total),this.mode===s&&r!==this.mode)throw"Assets require IDs";this.tasks.length?this.nextTask():this.trigger("complete",this.results)}}};var a=function(t){switch(t){case 0:return null;case 2:return[];case s:return{}}};o.destroy=function(){n.prototype.destroy.call(this),this.reset(),this.tasks=null,this.manager=null},namespace("springroll").AssetLoad=r}(),function(t){var e=include("springroll.AssetLoad"),i=include("springroll.AssetCache"),n=include("springroll.AssetSizes"),r=(include("springroll.Task"),function(){this.loads=[],this.loadPool=[],this.taskDefs=[],this.cache=new i,this.sizes=new n,this.defaultType=null,this.sizes.define("half",400,.5,["full"]),this.sizes.define("full",1e4,1,["half"])}),o=extend(r);o.register=function(t,e){"string"==typeof t&&(t=include(t,!1)),t&&(t.priority=e||0,this.taskDefs.push(t),this.taskDefs.sort(function(t,e){return e.priority-t.priority}))},o.load=function(t,e){e=Object.merge({complete:null,progress:null,taskDone:null,cacheAll:!1,startAll:!0,autoStart:!0,type:this.defaultType},e);var i=this.getLoad();return this.loads.push(i),e.complete=this._onLoaded.bind(this,e.complete,i),i.once("complete",e.complete),e.progress&&i.on("progress",e.progress),e.taskDone&&i.on("taskDone",e.taskDone),i.setup(t,e),i},o.poolLoad=function(t){t.off("complete progress taskDone"),t.reset(),this.loadPool.push(t)},o.getLoad=function(){return this.loadPool.length>0?this.loadPool.pop():new e(this)},o._onLoaded=function(t,e,i){var n=this.loads.indexOf(e);n>-1&&this.loads.splice(n,1),t&&t(i),this.poolLoad(e)},o.destroy=function(){this.sizes.destroy(),this.sizes=null,this.cache.destroy(),this.cache=null,this.loadPool=null,this.loads=null,this.taskDefs=null},namespace("springroll").AssetManager=r}(),function(){var t=include("springroll.ApplicationPlugin"),e=include("springroll.Loader"),i=include("springroll.AssetManager"),n=new t(100);n.setup=function(){var t=this.loader=new e(this),n=this.assetManager=new i;n.register("springroll.LoadTask"),n.register("springroll.ListTask"),n.register("springroll.FunctionTask",10),n.register("springroll.ColorAlphaTask",20);var r=this.options;r.add("cacheBust",!1).respond("cacheBust",function(){return t.cacheManager.cacheBust}).on("cacheBust",function(e){t.cacheManager.cacheBust="true"==e||!!e}),r.add("basePath"),r.add("version",null,!0),r.add("versionsFile",null,!0),r.add("defaultAssetType").on("defaultAssetType",function(t){n.defaultType=t}),this.load=function(t,e,i,r,o){var s;return"string"==typeof t?t={src:t,progress:i||null,complete:e||null,cache:!!r,data:o||null}:(s=e,"function"==typeof e&&(s={complete:e})),n.load(t,s)},this.unload=function(t){"string"==typeof t&&(t=Array.prototype.slice.call(arguments));for(var e=0;e<t.length;e++)n.cache.delete(t[e])},this.unloadAll=function(){n.cache.empty()},this.getCache=function(t){return n.cache.read(t)},this.on("resize",function(){n.sizes.refresh(this.realWidth,this.realHeight)}),this.once("beforeInit",function(){this.display&&n.sizes.refresh(this.realWidth,this.realHeight)})},n.preload=function(t){this.triggerResize();var e=this.options.versionsFile;e?this.loader.cacheManager.addVersionsFile(e,t):t()},n.teardown=function(){this.loader&&(this.loader.destroy(),this.loader=null),this.assetManager&&(this.assetManager.destroy(),this.assetManager=null)}}(),function(){var t=new(include("springroll.ApplicationPlugin"))(80);t.setup=function(){include("springroll.Debug",!1);var t=this.options;t.add("configPath",null,!0),t.add("preload",[],!0),this.config=null,this._assetLoad=null,this._numLoaded=0,this._total=0,this._progress=-1,this.on("pluginProgress",e.bind(this))},t.preload=function(t){var o=[],s=this.options.configPath;s?o.push({id:"config",src:s,cache:!1,complete:n.bind(this)}):i(this,o);var a=r.bind(this,t);o.length?this._assetLoad=this.load(o,{complete:a,progress:e.bind(this),cacheAll:!0}):a()};var e=function(){this._assetLoad&&(this._numLoaded=this._assetLoad.numLoaded,this._total=this._assetLoad.total);var t=(this._numLoaded+this.pluginLoad.numLoaded)/(this._total+this.pluginLoad.total);t>this._progress&&(this._progress=t,this.trigger("progress",t))},i=function(t,e){e.append(t.options.preload),t.trigger("loading",e)},n=function(t,e,n){this.config=t,this.trigger("configLoaded",t,n),i(this,n)},r=function(t,e){this._assetLoad=null,this.trigger("loaded",e),t()};t.teardown=function(){this.config=null}}(),function(t){var e=include("springroll.EventDispatcher"),i=function(t,i){e.call(this),i=i||{},this.canvas=document.getElementById(t),this.id=t,this.width=this.canvas.width,this.height=this.canvas.height,this.stage=null,this.paused=!1,this._enabled=!1,this._visible="none"!=this.canvas.style.display,this.adapter=null},n=e.extend(i);Object.defineProperty(n,"enabled",{get:function(){return this._enabled},set:function(t){var e=this._enabled;this._enabled=t,e!=t&&(this.trigger(t?"enabled":"disabled"),this.trigger("enable",t))}}),Object.defineProperty(n,"visible",{get:function(){return this._visible},set:function(t){var e=this._visible;this._visible=t,this.canvas.style.display=t?"block":"none",e!=t&&(this.trigger(t?"visible":"hidden"),this.trigger("visibility",t))}}),n.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},n.render=function(t,e){},n.destroy=function(){this.enabled=!1,this.adapter=null,this.stage=null,this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas.onmousedown=null,this.canvas=null},namespace("springroll").AbstractDisplay=i}(),function(){var t=include("springroll.Application"),e=include("springroll.Loader"),i=include("springroll.PropertyDispatcher"),n=include("springroll.EventDispatcher");t.prototype.getDisplays=function(t){return"function"==typeof t&&_displays.forEach(t),_displays},n.mixIn=function(t,e){return mixin(t,n)},Object.defineProperty(e,"instance",{get:function(){return t.instance.loader}}),i.prototype.readOnly=function(t){for(var e,i,n=0;n<arguments.length;n++){if(i=arguments[n],void 0===(e=this._properties[i]))throw"Property "+i+" does not exist";e.readOnly=!0}return this}}()}(),function(){"use strict";var t,e,i;!function(t){function e(t){var e=t.lastIndexOf("."),i=parseInt(t.substr(e+1),10),n=t.substr(0,e).split(":");return 36e5*parseInt(n[0],10)+6e3*parseInt(n[1],10)+1e3*parseInt(n[2],10)+i}var i=include("springroll.Application"),n=function(t,e,i){include("springroll.Debug",!1),this._data=null,this._textField=null,this._completeCallback=null,this._lines=[],this._currentAlias=0,this._currentDuration=0,this._currentTime=0,this._currentLine=-1,this._lastActiveLine=-1,this._playing=!1,this._destroyed=!1,this._selfUpdate=!0,this._mute=!1,this.update=this.update.bind(this),this.data=t||{},this.textField=e||null,this.selfUpdate=void 0===i||!!i},r=extend(n);Object.defineProperty(r,"mute",{get:function(){return this._mute},set:function(t){this._mute=t,this._updateCaptions()}}),Object.defineProperty(r,"selfUpdate",{set:function(t){this._selfUpdate=!!t,i.instance.off("update",this.update),this._selfUpdate&&i.instance.on("update",this.update)},get:function(){return this._selfUpdate}}),Object.defineProperty(r,"data",{set:function(t){if(this._data=t,t){var i,n,r,o,s=/[0-9]+\:[0-9]{2}\:[0-9]{2}\.[0-9]{3}/;for(var a in t)if(Array.isArray(t[a])&&(t[a]={lines:t[a]}),i=t[a].lines)for(o=i.length,n=0;n<o;++n)"string"==typeof(r=i[n]).start&&(s.test(r.start)?r.start=e(r.start):r.start=parseInt(r.start,10)),"string"==typeof r.end&&(s.test(r.end)?r.end=e(r.end):r.end=parseInt(r.end,10))}},get:function(){return this._data}}),Object.defineProperty(r,"textField",{set:function(t){o(this._textField,""),this._textField="string"==typeof t?document.getElementById(t):t||null},get:function(){return this._textField}});var o=function(t,e){if(t){if(t.nodeName)t.innerHTML=e;else{if(!t.constructor.prototype.hasOwnProperty("text")&&!t.hasOwnProperty("text"))throw"Unrecognizable captions text field";t.text=e}return t}};r.hasCaption=function(t){return!!this._data&&!!this._data[t]},r.getFullCaption=function(t,e){if(this._data){var i,n,r;if(e=e||" ",Array.isArray(t))for(r=0;r<t.length;r++)"string"==typeof t[r]&&(n=this.getFullCaption(t[r],e),i?i+=e+n:i=n);else{if(!this._data[t])return t;var o=this._data[t].lines;for(r=0;r<o.length;r++)n=o[r].content,i?i+=e+n:i=n}return i}},r._load=function(t){if(!this._destroyed){if(this._reset(),!t)return void(this._lines=null);this._lines=t.lines}},r._reset=function(){this._currentLine=-1,this._lastActiveLine=-1},Object.defineProperty(r,"playing",{get:function(){return this._playing}}),r._getTotalDuration=function(){var t=this._lines;return t?t[t.length-1].end:0},Object.defineProperty(r,"currentDuration",{get:function(){return this._currentDuration}}),Object.defineProperty(r,"currentAlias",{get:function(){return this._currentAlias}}),r.play=function(t,e){this.stop(),this._completeCallback=e,this._playing=!0,this._currentAlias=t,this._load(this._data[t]),this._currentDuration=this._getTotalDuration(),this.seek(0)},r.stop=function(){this._playing=!1,this._currentAlias=null,this._lines=null,this._completeCallback=null,this._reset(),this._updateCaptions()},r.seek=function(t){var e=this._currentTime=t,i=this._lines;if(i){if(e<i[0].start)return this._currentLine=this._lastActiveLine=-1,void this._updateCaptions();for(var n=i.length,r=0;r<n;r++){if(e>=i[r].start&&e<=i[r].end){this._currentLine=this._lastActiveLine=r,this._updateCaptions();break}e>i[r].end?(this._lastActiveLine=r,this._currentLine=-1,this._updateCaptions()):e<i[r].start&&(this._lastActiveLine=r-1,this._currentLine=-1,this._updateCaptions())}}else this._updateCaptions()},r._updatePercent=function(t){this._destroyed||(this._currentTime=t*this._currentDuration,this._calcUpdate())},r.update=function(t){!this._destroyed&&this._playing&&(this._currentTime+=t,this._calcUpdate())},r._calcUpdate=function(){var t=this._lines;if(t){var e=t.length,i=this._lastActiveLine+1,n=e-1,r=this._currentTime;r>=t[n].end?this.stop():i<=n&&r>=t[i].start&&r<=t[i].end?(this._currentLine=this._lastActiveLine=i,this._updateCaptions()):-1!=this._currentLine&&r>t[this._currentLine].end&&(this._lastActiveLine=this._currentLine,this._currentLine=-1,this._updateCaptions())}},r._updateCaptions=function(){o(this._textField,-1==this._currentLine||this._mute?"":this._lines[this._currentLine].content)},r.getLength=function(t){var e=0;if(Array.isArray(t))for(var i=0,n=t.length;i<n;i++)"string"==typeof t[i]?e+=this.getLength(t[i]):"number"==typeof t[i]&&(e+=t[i]);else{if(!this._data[t])return e;var r=this._data[t].lines;e+=r[r.length-1].end}return parseInt(e)},r.destroy=function(){this._destroyed||(this._destroyed=!0,this._data=null,this._lines=null)},namespace("springroll").Captions=n}(),t=include("springroll.ApplicationPlugin"),e=include("springroll.Captions"),include("springroll.Debug",!1),(i=new t(60)).setup=function(){this.options.add("captions","captions",!0),this.options.add("captionsPath",null,!0),this.captions=new e},i.preload=function(t){this.voPlayer&&(this.voPlayer.captions=this.captions),this.captions.textField=this.options.captions;var e=this.options.captionsPath;e?this.load(e,function(e){this.captions.data=e,t()}.bind(this)):t()},i.teardown=function(){this.captions&&(this.captions.destroy(),this.captions=null)}}(),function(){"use strict";var t,e;t=function(){this.onComplete=null,this.onCancelled=null,this.eventList=null,this.listIndex=-1,this.instance=null,this.isLooping=!1,this.useCaptions=!1,this._paused=!1,this.duration=0,this.speed=1,this.soundAlias=null,this.soundInst=null,this.playSound=!1,this.soundStart=0,this.soundEnd=0,this.complete=!1,this._position=0,this.isTimer=!1},(e=extend(t)).reset=function(){return this.instance&&(this.instance.destroy(),this.instance=null),this.complete=!1,this.soundEnd=0,this.soundStart=0,this.playSound=!1,this.soundInst=null,this.soundAlias=null,this.speed=1,this._position=0,this.duration=0,this._paused=!1,this.useCaptions=!1,this.isLooping=!1,this.isTimer=!1,this.listIndex=-1,this.eventList=null,this.onCancelled=null,this.onComplete=null,this},Object.defineProperty(e,"position",{get:function(){return this._position},set:function(t){this._position=t,this.isTimer||this.instance.setPosition(t)}}),e._nextItem=function(){var t=!1;if(this.soundInst&&(this.soundInst._endCallback=null),this.isLooping){var e=this.soundInst;e&&(e.stop(),this.soundInst=null),t=!0}else if(this.isTimer||this.instance.endAnim(),this.soundEnd=this.soundStart=0,this.isLooping=this.playSound=this.useCaptions=!1,this.soundInst=this.soundAlias=null,++this.listIndex>=this.eventList.length)return void(this.complete=!0);var i=this.eventList[this.listIndex];switch(typeof i){case"object":this.isTimer=!1;var n=this.instance;n.beginAnim(i,t),this.duration=n.duration,this.speed=i.speed,this.isLooping=n.isLooping||i.loop,this._position=n.position,i.alias&&(this.soundAlias=i.alias,this.soundStart=i.audioStart,this.playSound=!0,this.useCaptions=i.useCaptions);break;case"number":this.isTimer=!0,this.duration=i,this._position=0;break;case"function":i(),this._nextItem()}},Object.defineProperty(e,"time",{get:function(){return 1e3*this.position},set:function(t){this.position=.001*t}}),Object.defineProperty(e,"paused",{get:function(){return this._paused},set:function(t){if(t!=this._paused){this._paused=!!t;var e=this.soundInst;e&&(this.paused?e.pause():e.resume())}}}),namespace("springroll").AnimatorTimeline=t,function(t){function e(t){return"string"==typeof t}function i(t){return"number"==typeof t}function n(t){return"function"==typeof t}var r,o,s,a,c,u,l,h=include("springroll.AnimatorTimeline"),_=function(t){this.debug=!1,this.captions=null,l=t,s=[],r=[];try{"function"==typeof(o=new Map([])).delete&&"function"==typeof o.has&&"function"==typeof o.set&&"function"==typeof o.get||(o=null)}catch(t){}u=[],a=!1,c=!1,this._update=this._update.bind(this),include("springroll.Debug",!1)},p=extend(_);p.register=function(t,e){var i=include(t,!1);i&&(i.priority=e,s.push(i),s.sort(function(t,e){return e.priority-t.priority}))},p.play=function(t,e,i,n){!0===n&&(n=i),Array.isArray(e)||(e=[e]),this.stop(t);var s=this._makeTimeline(t,e,i,n);return s.eventList&&s.eventList.length>=1?(s._nextItem(),a||this._startUpdate(),o&&o.set(t,s),r.push(s),a=!0,s):(u.push(s.reset()),i&&i(),null)},p._makeTimeline=function(t,r,o,s){var a=u.length?u.pop():new h,c=d(t);if(!c)return a;var _=c.create(t);if(!_)return a;a.instance=_,a.eventList=[],a.onComplete=o,a.onCancelled=s,a.speed=void 0;for(var p,f,b,m=0,g=r.length;m<g;++m){var y=r[m];if(e(y)){if(!c.hasAnimation(t,y))continue;a.eventList.push({anim:y,audio:null,start:0,speed:1})}else if("object"==typeof y){if(!c.hasAnimation(t,y.anim))continue;var v={anim:y.anim,start:i(y.start)?.001*y.start:0,speed:y.speed>0?y.speed:1,loop:y.loop};(p=y.audio)&&l.sound&&(e(p)?(f=0,b=p):(f=p.start>0?.001*p.start:0,b=p.alias),l.sound.isSupported&&!l.sound.systemMuted&&l.sound.exists(b)&&(l.sound.preload(b),v.alias=b,v.audioStart=f,v.useCaptions=this.captions&&this.captions.hasCaption(b))),a.eventList.push(v)}else i(y)?a.eventList.push(.001*y):n(y)&&a.eventList.push(y)}return a},p.canAnimate=function(t){return!!t&&!!d(t)};var d=function(t){for(var e,i=0,n=s.length;i<n;i++)if((e=s[i]).test(t))return e;return null};p.hasAnimation=function(t,e){var i=d(t);return!!i&&i.hasAnimation(t,e)},p.getDuration=function(t,e){var i=d(t);if(!i)return 0;if(!Array.isArray(e))return i.getDuration(t,e.anim||e);for(var n=0,r=0;r<e.length;++r){var o=e[r];"number"==typeof o?n+=o:"string"==typeof o?n+=i.getDuration(t,o):"object"==typeof o&&o.anim&&(n+=i.getDuration(t,o.anim))}return n},p.stop=function(t,e){var i=f(t);i&&(e&&(i.onComplete=i.onCancelled=null),this._remove(i,!0))},p.stopAll=function(t,e){if(a)for(var i,n=r.length-1;n>=0;--n)i=r[n],t&&!t.contains(i.instance.clip)||(e&&(i.onComplete=i.onCancelled=null),this._remove(i,!0))},p._remove=function(t,e){var i=r.indexOf(t);if(!(i<0)){var n=t.onComplete,s=t.onCancelled;e&&t.soundInst&&t.soundInst.stop(),o&&o.delete(t.instance.clip),i==r.length-1?r.pop():r.splice(i,1),a=r.length>0,t.useCaptions&&this.captions.stop(),u.push(t.reset()),a||this._stopUpdate(),e?s&&s():n&&n()}},p.pause=function(){if(!c){c=!0;for(var t=r.length-1;t>=0;--t)r[t].paused=!0;this._stopUpdate()}},p.resume=function(){if(c){c=!1;for(var t=r.length-1;t>=0;--t)r[t].paused=!1;a&&this._startUpdate()}},p.pauseInGroup=function(t,e){if(a&&e)for(var i=r.length-1;i>=0;--i)e.contains(r[i].instance.clip)&&(r[i].paused=t)},p.getTimeline=function(t){return a?f(t):null};var f=function(t){if(o)return o.has(t)?o.get(t):null;for(var e=r.length-1;e>=0;--e)if(r[e].instance.clip===t)return r[e];return null};Object.defineProperty(p,"paused",{get:function(){return c}}),p._startUpdate=function(){l.on("update",this._update)},p._stopUpdate=function(){l.off("update",this._update)},p._update=function(t){for(var e,i,n,o=.001*t,s=r.length-1;s>=0;--s){if(!(e=r[s]))return;if(e.instance,!e.paused){if(n=0,e.soundInst?e.soundInst.isValid?((i=.001*e.soundInst.position)<0&&(i=0),n=e.soundStart+i,e.useCaptions&&this.captions.seek(e.soundInst.position)):n=e.duration:n=e.position+o*e.speed,n>=e.duration){for(;n>=e.duration;){if(n-=e.duration,e.isLooping){if(!e.duration){e.complete=!0;break}e.onComplete&&e.onComplete()}if(e._nextItem(),e.complete)break}if(e.complete){this._remove(e);continue}}e.playSound&&n>=e.soundStart?(e.position=e.soundStart,e.playSound=!1,e.soundInst=l.sound.play(e.soundAlias,this._onSoundDone.bind(this,e,e.listIndex,e.soundAlias),b.bind(null,e,e.listIndex)),e.useCaptions&&this.captions.play(e.soundAlias)):e.position=n}}};var b=function(t,e){t.listIndex==e&&(t.soundEnd=t.soundStart+.001*t.soundInst.length)};p._onSoundDone=function(t,e,i){this.captions&&this.captions.currentAlias==i&&this.captions.stop(),t.listIndex==e&&(t.soundEnd>t.position&&(t.position=t.soundEnd),t.soundInst=null)},p.destroy=function(){this.stopAll(null,!0),this.captions=null,l=null,r=null,u=null,o=null,s=null},namespace("springroll").Animator=_}(),function(t){var e=(include("springroll.Application"),function(){this.clip=null,this.position=0,this.duration=0,this.isLooping=!1,this.currentName=null}),i=extend(e);i.init=function(t){this.clip=t},i.beginAnim=function(t,e){},i.endAnim=function(){},i.setPosition=function(t){},e.test=function(t){return!1},e.hasAnimation=function(t,e){return!1},e.getDuration=function(t,e){return 0},e.extend=function(t,i){return t._pool=[],t.create=function(e){var i=t._pool.length>0?t._pool.pop():new t;return i.init(e),i},t.pool=function(e){e.destroy(),t._pool.push(e)},extend(t,i||e)},i.destroy=function(){this.clip=null},namespace("springroll").AnimatorInstance=e}(),function(t){var e=include("springroll.Application"),i=include("springroll.AnimatorInstance"),n=function(){i.call(this),this.startTime=0,this.length=0,this.firstFrame=-1,this.lastFrame=-1},r=i.extend(n);r.init=function(t){t.framerate||(t.framerate=e.instance.options.fps||15),t.tickEnabled=!1,this.clip=t,this.isLooping=!1,this.currentName=null,this.position=this.duration=0,this.lastFrame=t.currentFrame},r.beginAnim=function(t,e){var i,n=this.currentName=t.anim,r=-1,o=-1,s=!1;if("*"!=n||this.clip.timeline.resolve(n))for(var a=this.clip.getLabels(),c=n+"_stop",u=n+"_loop",l=0,h=a.length;l<h;++l)if((i=a[l]).label==n)r=i.position;else{if(i.label==c){o=i.position;break}if(i.label==u){o=i.position,s=!0;break}}else r=0,o=this.clip.timeline.duration-1,s=!!t.loop;this.firstFrame=r,this.lastFrame=o,this.length=o-r,this.isLooping=s;var _=this.clip.framerate;if(this.startTime=this.firstFrame/_,this.duration=this.length/_,e)this.position=0;else{var p=t.start||0;this.position=p<0?Math.random()*this.duration:p}this.clip.play(),this.clip.elapsedTime=this.startTime+this.position,this.clip.advance()},r.endAnim=function(){this.clip.gotoAndStop(this.lastFrame)},r.setPosition=function(t){this.position=t,this.clip.elapsedTime=this.startTime+t,this.clip.advance()},n.test=function(e){return e.framerate!==t&&e.getLabels!==t&&e.elapsedTime!==t&&e.gotoAndStop!==t&&e.gotoAndPlay!==t&&e.stop!==t&&e.play!==t},n.hasAnimation=function(t,e){if("*"==e&&!t.timeline.resolve(e))return!0;for(var i,n=t.getLabels(),r=-1,o=-1,s=e+"_stop",a=e+"_loop",c=0,u=n.length;c<u;++c)if((i=n[c]).label==e)r=i.position;else if(i.label==s||i.label==a){o=i.position;break}return r>=0&&o>0},n.getDuration=function(t,i){if(t.framerate||(t.framerate=e.instance.options.fps||15),"*"==i&&!t.timeline.resolve(i))return t.timeline.duration/t.framerate*1e3;for(var n,r=t.getLabels(),o=-1,s=-1,a=i+"_stop",c=i+"_loop",u=0,l=r.length;u<l;++u)if((n=r[u]).label==i)o=n.position;else if(n.label==a||n.label==c){s=n.position;break}return o>=0&&s>0?(s-o)/t.framerate*1e3:0},r.destroy=function(){this.clip=null},namespace("springroll").GenericMovieClipInstance=n}(),function(){var t=include("springroll.ApplicationPlugin"),e=include("springroll.Animator"),i=new t(50);i.setup=function(){this.animator=new e(this),this.animator.captions=this.captions||null,this.animator.register("springroll.GenericMovieClipInstance",0)},i.teardown=function(){this.animator&&(this.animator.destroy(),this.animator=null)}}()}(),function(){"use strict";var t,e,i;t=include("springroll.SavedData"),e=function(t){this.container=t,this.id=""},(i=extend(e)).read=function(e,i){if(!this.container.supported)return i(t.read(this.id+e));this.container.fetch("userDataRead",function(t){i(t.data)},this.id+e,!0)},i.write=function(e,i,n){if(!this.container.supported)return t.write(this.id+e,i),void(n&&n());this.container.fetch("userDataWrite",function(t){n&&n()},{name:this.id+e,value:i},!0)},i.remove=function(e,i){if(!this.container.supported)return t.remove(this.id+e),void(i&&i());this.container.fetch("userDataRemove",function(t){i&&i()},this.id+e,!0)},i.destroy=function(){this.id=null,this.container=null},namespace("springroll").UserData=e,function(t){var e=include("springroll.ApplicationPlugin"),i=include("springroll.PageVisibility"),n=include("springroll.UserData"),r=include("Bellhop"),o=new e(200);o.setup=function(){var t=this.options,e=this.container=new r;e.connect(),this.userData=new n(e),t.add("keepFocus",!1).on("keepFocus",function(t){e.send("keepFocus",t)}),this.on("progress",function(t){this.container.send("progress",t)}),this.once("beforeInit",function(){e.send("loaded")}),e.send("loading"),this.singlePlay=!1,this.playOptions={};var i=/playOptions=[^&$]*/.exec(window.location.search);if(null!==i){var o=i[0],c=decodeURIComponent(o.split("=")[1]);try{this.playOptions=JSON.parse(c)}catch(t){springroll.Debug&&springroll.Debug.warn("ContainerClientPlugin: Failed to parse playOptions from query string")}}this.singlePlayEnd=function(){return!!this.singlePlay&&(this.endGame(),!0)},this.endGame=function(t){this.trigger("endGame",t||"game_completed"),this.destroy()},this.once("beforeInit",function(){var t=!!this.sound;this.container.send("features",{sound:t,hints:!!this.hints,music:t&&this.sound.contextExists("music"),vo:t&&this.sound.contextExists("vo"),sfx:t&&this.sound.contextExists("sfx"),captions:!!this.captions,disablePause:!!this.options.disablePause})}),e.supported&&(e.fetch("singlePlay",d.bind(this)),e.fetch("playOptions",p.bind(this))),window.onerror=a.bind(this),window.onunload=window.onbeforeunload=s.bind(this)};var s=function(){return window.onunload=window.onbeforeunload=null,void this.endGame("left_site")},a=function(t){if(this.container.supported)return this.container.send("localError",String(t)),!0};o.preload=function(t){if(!this.name)throw"Application name is empty";if(this.userData.id=this.name,this.container.supported){this.container.on({soundMuted:u.bind(this),captionsMuted:l.bind(this),musicMuted:h.bind(this,"music"),voMuted:h.bind(this,"vo"),sfxMuted:h.bind(this,"sfx"),captionsStyles:_.bind(this),pause:c.bind(this),close:f.bind(this)}),this.options.autoPause=!1;var e=this.container;this._pageVisibility=new i(e.send.bind(e,"focus",!0),e.send.bind(e,"focus",!1))}t()};var c=function(t){var e=!!t.data;this.autoPaused=e,this.enabled=!e},u=function(t){this.sound&&(this.sound.muteAll=!!t.data)},l=function(t){this.captions&&(this.captions.mute=!!t.data)},h=function(t,e){this.sound&&this.sound.setContextMute(t,!!e.data)},_=function(t){var e=t.data,i=(this.captions||{}).textField||null;i&&i.nodeName&&(i.className="size-"+e.size+" bg-"+e.background+" color-"+e.color+" edge-"+e.edge+" font-"+e.font+" align-"+e.align)},p=function(t){Object.merge(this.playOptions,t.data||{}),this.trigger("playOptions",this.playOptions)},d=function(t){this.singlePlay=!!t.data},f=function(){this.endGame("closed_container")};o.teardown=function(){window.onerror=null,this._pageVisibility&&(this._pageVisibility.destroy(),this._pageVisibility=null),this.userData&&(this.userData.destroy(),this.userData=null),this.container&&(this.container.send("endGame"),this.container.destroy(),this.container=null)}}()}(),function(){"use strict";var t;!function(t){var e,i=include("springroll.EventDispatcher"),n=function(t,n){i.call(this),e||(e=include("springroll.Application"),include("springroll.Debug",!1)),n=Object.merge({next:null,previous:null,delayLoad:0,preload:[],scaling:null},n||{});var r=this.app=e.instance;this.voPlayer=r.voPlayer||null,this.sound=r.sound||null,this.config=r.config||null,this.scaling=r.scaling||null,this.scalingItems=n.scaling||null,this.stateId=null,this.manager=null,this.panel=t,this.preload=n.preload,this.preloaded=!1,this.assets=null,this._destroyed=!1,this._active=!1,this._isLoading=!1,this._canceled=!1,this._onEnterProceed=null,this._onLoadingComplete=null,this._enabled=!1,this._nextState=n.next,this._prevState=n.previous,this.delayLoad=n.delayLoad,this.panel.visible=!1},r=i.prototype,o=i.extend(n),s=function(){};o.exit=s,o.exitStart=s,o.cancel=s,o.enter=s,o.enterDone=s,o.nextState=function(){var t=typeof this._nextState;this._nextState&&("function"===t?this._nextState():"string"===t&&(this.manager.state=this._nextState))},o.previousState=function(){var t=typeof this._prevState;this._prevState&&("function"===t?this._prevState():"string"===t&&(this.manager.state=this._prevState))},o.loadingStart=function(){this._isLoading||(this._isLoading=!0,this.manager.loadingStart(),this._onLoadingComplete=this._onEnterProceed,this._onEnterProceed=null)},o.loadingDone=function(t){if(void 0===t&&(t=this.delayLoad),this._isLoading){if(t&&"number"==typeof t)return this.panel.visible=!0,void this.app.setTimeout(this.loadingDone.bind(this,0),t,!0);this._isLoading=!1,this.manager.loadingDone(),this._onLoadingComplete&&(this._onLoadingComplete(),this._onLoadingComplete=null)}},Object.defineProperty(o,"canceled",{get:function(){return this._canceled}}),Object.defineProperty(o,"active",{get:function(){return this._active}}),Object.defineProperty(o,"enabled",{get:function(){return this._enabled},set:function(t){var e=this._enabled;this._enabled=t,e!=t&&this.trigger("enabled",t)}}),Object.defineProperty(o,"destroyed",{get:function(){return this._destroyed}}),o._internalExit=function(){this.preloaded=!1;var t=this.panel,e=this.scalingItems,i=this.scaling;i&&e&&("panel"==e?i.removeItem(t):i.removeItems(t,e)),this.preload.length&&this.app.unload(this.preload),this._isTransitioning&&(this._isTransitioning=!1,this.manager.animator&&this.manager.animator.stop(t)),this._enabled=!1,t.visible=!1,this._active=!1,this.exit(),this.trigger("exit")},o._internalEntering=function(){this.enter(),this.trigger("enter"),this.loadingStart(),this.preloaded=!1;var t=[];this.trigger("loading",t),this.preload.length&&(t=this.preload.concat(t)),t.length?this.app.load(t,{complete:this._onLoaded.bind(this),progress:a.bind(this),cacheAll:!0}):this._onLoaded(null)};var a=function(t){this.trigger("progress",t),this.manager.trigger("progress",t)};o._onLoaded=function(t){if(this.assets=t,this.preloaded=!0,this.trigger("loaded",t),this.scaling){var e=this.scalingItems;e&&("panel"==e?(this.panel.x=this.panel.y=0,this.panel.scaleX=this.panel.scaleY=1,this.scaling.addItem(this.panel,{align:"top-left",titleSafe:!0})):this.scaling.addItems(this.panel,e))}this.loadingDone()},o._internalExitStart=function(){this.exitStart(),this.trigger("exitStart")},o._internalEnter=function(t){this._isTransitioning&&(this._isTransitioning=!1,this.manager.animator&&this.manager.animator.stop(this.panel)),this._enabled=!1,this._active=!0,this._canceled=!1,this._onEnterProceed=t,this._internalEntering(),this._onEnterProceed&&(this._onEnterProceed(),this._onEnterProceed=null)},o._internalCancel=function(){this._active=!1,this._canceled=!0,this._isLoading=!1,this._internalExit(),this.cancel(),this.trigger("cancel")},o._internalEnterDone=function(){this._canceled||(this.enabled=!0,this.enterDone(),this.trigger("enterDone"))},o.destroy=function(){this._destroyed||(this.trigger("destroy"),this.app=null,this.scaling=null,this.sound=null,this.voPlayer=null,this.config=null,this.scalingItems=null,this.assets=null,this.preload=null,this.panel=null,this.manager=null,this._destroyed=!0,this._onEnterProceed=null,this._onLoadingComplete=null,r.destroy.call(this))},namespace("springroll").State=n}(),t=function(t,e,i){this.currentState=e,this.visibleState=void 0===i?e:i,this.type=t},extend(t),t.VISIBLE="onVisible",t.HIDDEN="onHidden",namespace("springroll").StateEvent=t,function(t){var e=(include("springroll.Debug",!1),include("springroll.EventDispatcher")),i=(include("springroll.State"),include("springroll.StateEvent")),n=function(t){e.call(this),this.animator=null,this.transition=null,this.waitForLoadingComplete=!1,this._transitionSounds=t||null,this._states={},this._state=null,this._stateId=null,this._oldState=null,this._isLoading=!1,this._isTransitioning=!1,this._destroyed=!1,this.enabled=!0,this._onTransitionLoading=this._onTransitionLoading.bind(this),this._onTransitionOut=this._onTransitionOut.bind(this),this._onStateLoaded=this._onStateLoaded.bind(this),this._onTransitionIn=this._onTransitionIn.bind(this)},r=e.extend(n),o=n.TRANSITION_IN="onTransitionIn",s=n.TRANSITION_LOADING="onTransitionLoading",a=n.TRANSITION_IN_DONE="onTransitionInDone",c=n.TRANSITION_OUT="onTransitionOut",u=n.TRANSITION_OUT_DONE="onTransitionOutDone",l=n.TRANSITION_INIT_DONE="onInitDone",h=n.LOADING_START="onLoadingStart",_=n.LOADING_DONE="onLoadingDone";r.addState=function(t,e){this._states[t]=e,e.stateId=t,e.manager=this},Object.defineProperty(r,"currentState",{get:function(){return this._state}}),r.getStateById=function(t){return this._states[t]},r.isBusy=function(){return this._isLoading||this._isTransitioning},r.loadingStart=function(){this._destroyed||(this.trigger(h),this._onTransitionLoading())},r.loadingDone=function(){this._destroyed||this.trigger(_)},Object.defineProperty(r,"enabled",{set:function(t){this.trigger("enabled",t)}}),r.refresh=function(){this.state=this._stateId},Object.defineProperty(r,"state",{set:function(t){this._isTransitioning||(this._stateId=t,this.enabled=!1,this._oldState=this._state,this._state=this._states[t],this._oldState?this._isLoading?(this._oldState._internalCancel(),this._isLoading=!1,this._state._internalEnter(this._onStateLoaded)):(this._isTransitioning=!0,this._oldState._internalExitStart(),this.enabled=!1,this.trigger(c),this._transitioning(c,this._onTransitionOut)):(this._isTransitioning=!0,this.transition&&(this.transition.visible=!0),this._onTransitionLoading(),this.trigger(l),this._isLoading=!0,this._state._internalEnter(this._onStateLoaded)))},get:function(){return this._stateId}}),r._onTransitionOut=function(){this.trigger(u),this._isTransitioning=!1,this.has(i.HIDDEN)&&this.trigger(i.HIDDEN,new i(i.HIDDEN,this._state,this._oldState)),this._oldState.panel.visible=!1,this._oldState._internalExit(),this._oldState=null,this._onTransitionLoading(),this._isLoading=!0,this._state._internalEnter(this._onStateLoaded)},r._onStateLoaded=function(){if(this._isLoading=!1,this._isTransitioning=!0,this.has(i.VISIBLE)&&this.trigger(i.VISIBLE,new i(i.VISIBLE,this._state)),this._state.panel.visible=!0,this.waitForLoadingComplete&&this.animator.hasAnimation(this.transition,s)){var t=this.animator.getTimeline(this.transition);t.onComplete=function(){this.trigger(o),this._transitioning(o,this._onTransitionIn)}.bind(this),t.isLooping=!1}else this.trigger(o),this._transitioning(o,this._onTransitionIn)},r._onTransitionIn=function(){this.transition&&(this.transition.visible=!1),this.trigger(a),this._isTransitioning=!1,this.enabled=!0,this._state._internalEnterDone()},r._onTransitionLoading=function(){if(this.transition){var t,e=this._transitionSounds;e&&(t=e.loading||e.loop);var i=this.animator;i.hasAnimation(this.transition,s)?(this.trigger(s),i.play(this.transition,{anim:s,audio:t})):i.hasAnimation(this.transition,"transitionLoop")&&(this.trigger(s),i.play(this.transition,{anim:"transitionLoop",audio:t}))}},r.showTransitionOut=function(t){this.enabled=!1,this._transitioning(c,function(){this._onTransitionLoading(),t&&t()}.bind(this))},r.showTransitionIn=function(t){this._transitioning(o,function(){this.enabled=!0,this.transition.visible=!1,t&&t()}.bind(this))},r._transitioning=function(t,e){var i,n=this.transition,r=this._transitionSounds;if(!n)return e();n.visible=!0,r&&(i=t==o?r.in:r.out),this.animator.play(n,{anim:t,audio:i},e)},r.destroy=function(){if(this._destroyed=!0,this.off(),this.transition&&this.animator.stop(this.transition),this._state&&this._state._internalExit(),this._states)for(var t in this._states)this._states[t].destroy(),delete this._states[t];this.transition=null,this._state=null,this._oldState=null,this._states=null},namespace("springroll").StateManager=n}(),function(){var t=include("springroll.ApplicationPlugin"),e=include("springroll.StateManager"),i=(include("springroll.Debug",!1),new t);i.setup=function(){this._states=null,this.manager=null,this._transition=null,Object.defineProperty(this,"transition",{set:function(t){if(!this.display)throw"No default display";if(t&&!this.animator)throw"No animation module";var e=this.display.stage;this._transition&&e.removeChild(this._transition),this._transition=t,this.manager&&(this.manager.transition=t),t&&(t.stop&&t.stop(),e.addChild(t))},get:function(){return this._transition}}),this.options.add("state",null,!0),this.options.add("transition"),this.options.add("transitionSounds",{in:null,out:null},!0),Object.defineProperty(this,"states",{set:function(t){if(this.manager)throw"States already set";if(!this.display)throw"No default display";var i=this.manager=new e(this.options.transitionSounds);i.animator=this.animator,i.on("enabled",function(t){this.display.enabled=t}.bind(this));var n=this.display.stage;for(var r in t)i.addState(r,t[r]),n.addChild(t[r].panel),this.trigger("stateAdded",r,t[r]);this._states=t;var o=this._transition||this.options.transition;o&&(this.transition=o,o.gotoAndStop&&o.gotoAndStop("onTransitionOut_stop")),this.options.state&&(i.state=this.options.state)},get:function(){return this._states}})},i.teardown=function(){this._state=null,this.manager&&(this.manager.destroy(),this.manager=null),this.transition&&(this.display&&this.display.adapter.removeChildren(this.transition),this.transition=null)}}(),function(){var t=include("springroll.StateManager").prototype;t.changeTransition=function(t){this.transition=t},t.getCurrentState=function(){return this.currentState},t.setState=function(t){this.state=t},t.next=function(){this._state.nextState()},t.previous=function(){this._state.previousState()},Object.defineProperty(include("springroll"),"BaseState",{get:function(){return include("springroll.State")}})}()}(),function(){"use strict";var t,e,i;namespace("springroll").SoundContext=function(t){this.id=t,this.volume=1,this.muted=!1,this.sounds=[],this.subContexts=[]},e=function(){t||(t=include("springroll.Sound")),this._channel=null,this._endFunc=null,this._endCallback=null,this._startFunc=null,this._startParams=null,this.alias=null,this._fTime=0,this._fDur=0,this._fStart=0,this._fEnd=0,this.curVol=0,this._pan=0,this.length=0,this.paused=!1,this.globallyPaused=!1,this.isValid=!0},i=extend(e),Object.defineProperty(i,"position",{get:function(){return this._channel?this._channel.getPosition():0}}),i.stop=function(){var e=t.instance;if(e){var i=e._sounds[this.alias];if(!i)return;var n=i.playing.indexOf(this);n>-1&&i.playing.splice(n,1),(n=i.waitingToPlay.indexOf(this))>-1&&i.waitingToPlay.splice(n,1),e._stopInst(this)}},i.updateVolume=function(e){if(this._channel){if(void 0===e){var i=t.instance,n=i._sounds[this.alias];if(n.context){var r=i._contexts[n.context];e=r.muted?0:r.volume}else e=1}this._channel.setVolume(e*this.curVol)}},Object.defineProperty(i,"volume",{get:function(){return this.curVol},set:function(t){this.curVol=t,this.updateVolume()}}),Object.defineProperty(i,"pan",{get:function(){return this._pan},set:function(t){this._pan=t,this._channel&&(this._channel.pan=t)}}),i.pause=function(){this.globallyPaused=!1,this.paused||(this.paused=!0,this._channel&&(this._channel.paused=!0,t.instance._onInstancePaused()))},i.resume=function(){this.paused&&(this.paused=!1,this._channel&&(t.instance._onInstanceResume(),this._channel.paused=!1,this._channel.gainNode&&(this._channel._volume=-1,this._channel.gainNode.gain.value=0),this.updateVolume()))},namespace("springroll").SoundInstance=e,function(){var t=include("springroll.Task"),e=include("springroll.Application"),i=function(e){t.call(this,e,e.sounds[0]),this.sounds=e.sounds},n=t.prototype,r=t.extend(i);i.test=function(t){return!!t.sounds&&Array.isArray(t.sounds)},r.start=function(t){var i=e.instance.sound,n=this.sounds;i.preload(n,function(){n.destroy=function(){i.unload(this),this.length=0,delete this.destroy},t(n)})},r.destroy=function(){this.sounds=null,n.destroy.call(this)},namespace("springroll").SoundTask=i}(),function(){function t(){var t=h.activePlugin,e=t._audioSources,i=t._soundInstances,n=t._loaders;c.context.close&&c.context.close();var r=window.AudioContext||window.webkitAudioContext;for(var o in c.context=new r,c.call(t),t._loaders=n,t._audioSources=e,t._soundInstances=i,i)for(var s=i[o],a=0;a<s.length;++a){var u=s[a];u.panNode.disconnect(0),u.gainNode.disconnect(0),u.gainNode=c.context.createGain(),u.panNode=c.context.createPanner(),u.panNode.panningModel=c._panningModel,u.panNode.connect(u.gainNode),u._updatePan(),(u._position<0||void 0===u._position)&&(u._position=0)}}function e(t){c.playEmptySound(),"running"!=c.context.state&&void 0!==c.context.state||(b.preventDefaultOnUnmute&&t.preventDefault(),document.removeEventListener("touchstart",e),document.removeEventListener("touchend",e),document.removeEventListener("mousedown",e),b.systemMuted=!1,b.trigger("systemUnmuted"))}function i(t){return"string"==typeof t}function n(t){return"function"==typeof t}var r,o,s=include("springroll.Application"),a=include("springroll.EventDispatcher"),c=include("createjs.WebAudioPlugin"),u=include("createjs.CordovaAudioPlugin",!1),l=include("createjs.FlashAudioPlugin",!1),h=include("createjs.Sound"),_=include("springroll.Enum"),p=function(){o||(include("springroll.Debug",!1),r=include("springroll.SoundContext"),o=include("springroll.SoundInstance")),a.call(this),this._sounds={},this._fades=[],this._pool=[],this.supportedSound=null,this._contexts={},this._update=this._update.bind(this),this._markLoaded=this._markLoaded.bind(this),this._playAfterLoad=this._playAfterLoad.bind(this),this.isSupported=!0,this.systemMuted=createjs.BrowserDetect.isIOS,this.preventDefaultOnUnmute=!0},d=a.prototype,f=a.extend(p),b=null,m=new _("unloaded","loading","loaded");p.init=function(t,i){var r=s.instance.options;n(t)&&(t={ready:t});var o={plugins:l?[c,l]:[c],types:["ogg","mp3"],swfPath:"assets/swfs/",ready:null};if(t=Object.merge({},o,t),r.forceFlashAudio&&(t.plugins=[l]),u&&(r.forceNativeAudio||t.plugins.indexOf(u)>=0))try{(window.top?window.top.springroll.forceNativeAudio:window.springroll.forceNativeAudio)&&(t.plugins=[u])}catch(t){}if(t.ready=t.ready||i,!t.ready)throw"springroll.Sound.init requires a ready callback";if(l){var a=r.basePath;l.swfPath=(a||"")+t.swfPath}if(h.registerPlugins(t.plugins),createjs.BrowserDetect.isIOS&&h.activePlugin instanceof c&&"running"!=h.activePlugin.context.state?(document.addEventListener("touchstart",e),document.addEventListener("touchend",e),document.addEventListener("mousedown",e)):this.systemMuted=!1,b=new p,h.getCapabilities())b._initComplete(t.types,t.ready);else if(h.activePlugin){var _;_=function(){try{var e=window.plugins.NativeAudio||window.top.plugins.NativeAudio||null;e&&e.getCapabilities(function(e){e,s.instance.off("update",_),b._initComplete(t.types,t.ready)},function(t){t})}catch(t){}},s.instance.on("update",_)}else b.isSupported=!1,t.ready&&t.ready();return b},f._initComplete=function(t,e){if(l&&h.activePlugin instanceof l)b.supportedSound=".mp3";else for(var i,n=0,r=t.length;n<r;++n)if(i=t[n],h.getCapability(i)){b.supportedSound="."+i;break}this._fixAndroidAudio=createjs.BrowserDetect.isAndroid&&h.activePlugin instanceof c&&!(navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("Firefox")>-1),this._fixAndroidAudio&&(this._numPlayingAudio=0,this._lastAudioTime=Date.now()),e&&e()},Object.defineProperty(p,"instance",{get:function(){return b}}),f.addContext=function(t){if(t){for(var e,n=t.soundManifest||t.sounds||[],o=t.path||"",s=!0===t.preload||!1,a=t.context,c={},u=0,l=n.length;u<l;++u)i(e=n[u])&&(e={id:e}),(c=this._sounds[e.id]={id:e.id,src:o+(e.src?e.src:e.id)+this.supportedSound,volume:e.volume?e.volume:1,loop:!!e.loop,loadState:m.unloaded,playing:[],waitingToPlay:[],context:e.context||a,playAfterLoad:!1,preloadCallback:null,data:e,duration:0}).context&&(this._contexts[c.context]||(this._contexts[c.context]=new r(c.context)),this._contexts[c.context].sounds.push(c)),(s||!0===e.preload)&&this.preload(c.id);return this}},f.linkContexts=function(t,e){if(this._contexts[t]||(this._contexts[t]=new r(t)),t=this._contexts[t],Array.isArray(e))for(var i=0;i<e.length;++i)t.subContexts.indexOf(e[i])<0&&t.subContexts.push(e[i]);else t.subContexts.indexOf(e)<0&&t.subContexts.push(e)},f.exists=function(t){return!!this._sounds[t]},f.contextExists=function(t){return!!this._contexts[t]},f.isUnloaded=function(t){return!!this._sounds[t]&&this._sounds[t].loadState==m.unloaded},f.isLoaded=function(t){return!!this._sounds[t]&&this._sounds[t].loadState==m.loaded},f.isLoading=function(t){return!!this._sounds[t]&&this._sounds[t].loadState==m.loading},f.isPlaying=function(t){var e=this._sounds[t];return!!e&&e.playing.length+e.waitingToPlay.length>0},f.getDuration=function(t){var e=this._sounds[t];if(!e)return null;if(!e.duration&&e.loadState==m.loaded){var i=h.play(t,null,null,null,null,0);e.duration=i.getDuration(),i.stop()}return e.duration},f.fadeIn=function(t,e,n,r){var o,a;if(i(t)){if(!(o=this._sounds[t]))return;o.playing.length&&(a=o.playing[o.playing.length-1])}else a=t,o=this._sounds[a.alias];if(a&&a._channel){a._fTime=0,a._fDur=e>0?e:500,a._fEnd=n||a.curVol,a._fStop=!1;var c=r>0?r:0;a.volume=a._fStart=c,-1==this._fades.indexOf(a)&&(this._fades.push(a),1==this._fades.length&&s.instance.on("update",this._update))}},f.fadeOut=function(t,e,n,r,o){var a,c;if(i(t)){if(!(a=this._sounds[t]))return;if(a.playing.length)c=a.playing[a.playing.length-1];else if(d.loadState==m.loading)return void this.stop(t)}else c=t;c&&c._channel&&(c._fTime=0,c._fDur=e>0?e:500,r>0?(c.volume=r,c._fStart=r):c._fStart=c.volume,c._fEnd=n||0,o=void 0===o?0===c._fEnd:!!o,c._fStop=o,-1==this._fades.indexOf(c)&&(this._fades.push(c),1==this._fades.length&&s.instance.on("update",this._update)))},f._update=function(t){for(var e,i,n,r,o,a=this._fades,c=a.length-1;c>=0;--c)(e=a[c]).paused||((i=e._fTime+=t)>=e._fDur?e._fStop?((n=this._sounds[e.alias])&&n.playing.splice(n.playing.indexOf(e),1),this._stopInst(e)):(e.curVol=e._fEnd,e.updateVolume(),a.splice(c,1)):(r=i/e._fDur,o=e._fEnd>e._fStart?e._fStart+(e._fEnd-e._fStart)*r:e._fEnd+(e._fStart-e._fEnd)*r,e.curVol=o,e.updateVolume()));0===a.length&&s.instance.off("update",this._update)},f.play=function(e,i,r,o,s,a,c,u,l){var _;if(i&&n(i)&&(_=i,i=null),_=(i?i.complete:_)||null,r=(i?i.start:r)||null,o=!!(i?i.interrupt:o),s=(i?i.delay:s)||0,a=(i?i.offset:a)||0,c=i?i.loop:c,u=i?i.volume:u,l=(i?i.pan:l)||0,this.isSupported){!0===c&&(c=-1);var p=this._sounds[e];if(p){(p.loop&&void 0===c||null===c)&&(c=-1),u="number"==typeof u?u:p.volume;var d,f,b=p.loadState;if(b==m.loaded){this._fixAndroidAudio&&(this._numPlayingAudio?(this._numPlayingAudio++,this._lastAudioTime=-1):(Date.now()-this._lastAudioTime>=3e4&&t(),this._numPlayingAudio=1,this._lastAudioTime=-1));var g=h.play(e,o,s,a,c,u,l);return g&&g.playState!=h.PLAY_FAILED?(d=this._getSoundInst(g,p.id),g.handleExtraData&&g.handleExtraData(p.data),d.curVol=u,d._pan=l,p.playing.push(d),d._endCallback=_,d.updateVolume(),d.length=g.getDuration(),p.duration||(p.duration=d.length),d._channel.addEventListener("complete",d._endFunc),r&&setTimeout(r,0),d):(_&&_(),null)}return b==m.unloaded?(p.playAfterLoad=!0,(d=this._getSoundInst(null,p.id)).curVol=u,d._pan=l,p.waitingToPlay.push(d),d._endCallback=_,d._startFunc=r,d._startParams?((f=d._startParams)[0]=o,f[1]=s,f[2]=a,f[3]=c):d._startParams=[o,s,a,c],this.preload(p.id),d):b==m.loading?(p.playAfterLoad=!0,(d=this._getSoundInst(null,p.id)).curVol=u,d._pan=l,p.waitingToPlay.push(d),d._endCallback=_,d._startFunc=r,d._startParams?((f=d._startParams)[0]=o,f[1]=s,f[2]=a,f[3]=c):d._startParams=[o,s,a,c],d):void 0}_&&_()}else _&&setTimeout(_,0)},f._getSoundInst=function(t,e){var i;return this._pool.length?i=this._pool.pop():(i=new o)._endFunc=this._onSoundComplete.bind(this,i),i._channel=t,i.alias=e,i.length=t?t.getDuration():0,i.isValid=!0,i},f._playAfterLoad=function(e){var n=i(e)?e:e.data.id,r=this._sounds[n];if(r.loadState=m.loaded,r.playAfterLoad){this._fixAndroidAudio&&this._lastAudioTime>0&&Date.now()-this._lastAudioTime>=3e4&&t();for(var o,s,a,c,u,l=r.waitingToPlay,_=0,p=l.length;_<p;++_)s=(o=l[_])._startParams,a=o.curVol,u=o._pan,(c=h.play(n,s[0],s[1],s[2],s[3],a,u))&&c.playState!=h.PLAY_FAILED?(this._fixAndroidAudio&&(this._numPlayingAudio?(this._numPlayingAudio++,this._lastAudioTime=-1):(this._numPlayingAudio=1,this._lastAudioTime=-1)),r.playing.push(o),o._channel=c,c.handleExtraData&&c.handleExtraData(r.data),o.length=c.getDuration(),r.duration||(r.duration=o.length),o.updateVolume(),c.addEventListener("complete",o._endFunc),o._startFunc&&o._startFunc(),o.paused&&c.pause()):(o._endCallback&&o._endCallback(),this._poolInst(o));l.length=0}},f._onSoundComplete=function(t){if(t._channel){this._fixAndroidAudio&&0==--this._numPlayingAudio&&(this._lastAudioTime=Date.now()),t._channel.removeEventListener("complete",t._endFunc);var e=this._sounds[t.alias],i=e.playing.indexOf(t);i>-1&&e.playing.splice(i,1);var n=t._endCallback;this._poolInst(t),n&&n()}},f.stop=function(t){var e=this._sounds[t];if(e)if(e.playing.length)this._stopSound(e);else if(e.loadState==m.loading){e.playAfterLoad=!1;for(var i,n=e.waitingToPlay,r=0,o=n.length;r<o;++r)i=n[r],this._poolInst(i);n.length=0}},f._stopSound=function(t){for(var e=t.playing,i=e.length-1;i>=0;--i)this._stopInst(e[i]);e.length=0},f._stopInst=function(t){t._channel&&(!t.paused&&this._fixAndroidAudio&&0==--this._numPlayingAudio&&(this._lastAudioTime=Date.now()),t._channel.removeEventListener("complete",t._endFunc),t._channel.stop());var e=this._fades.indexOf(t);e>-1&&this._fades.splice(e,1),this._poolInst(t)},f.stopContext=function(t){if(t=this._contexts[t]){var e,i,n=t.sounds;for(i=n.length-1;i>=0;--i)(e=n[i]).playing.length?this._stopSound(e):e.loadState==m.loading&&(e.playAfterLoad=!1);for(i=0;i<t.subContexts.length;++i)this.stopContext(t.subContexts[i])}},f.stopAll=function(){for(var t in this._sounds)this.stop(t)},f.pause=function(t,e){i(t)&&(t=this._sounds[t]),e=!!e;var n,r=t.playing;for(n=r.length-1;n>=0;--n)r[n].paused||(r[n].pause(),r[n].globallyPaused=e);for(n=(r=t.waitingToPlay).length-1;n>=0;--n)r[n].paused||(r[n].pause(),r[n].globallyPaused=e)},f.resume=function(t,e){i(t)&&(t=this._sounds[t]);var n,r=t.playing;for(n=r.length-1;n>=0;--n)r[n].globallyPaused==e&&r[n].resume();for(n=(r=t.waitingToPlay).length-1;n>=0;--n)r[n].globallyPaused==e&&r[n].resume()},f.pauseContext=function(t){if(t=this._contexts[t]){var e,i,n=t.sounds;for(i=n.length-1;i>=0;--i){var r;for(r=(e=n[i]).playing.length-1;r>=0;--r)e.playing[r].pause();for(r=e.waitingToPlay.length-1;r>=0;--r)e.waitingToPlay[r].pause()}for(i=0;i<t.subContexts.length;++i)this.pauseContext(t.subContexts[i])}},f.resumeContext=function(t){if(t=this._contexts[t]){var e,i,n=t.sounds;for(i=n.length-1;i>=0;--i){var r;for(r=(e=n[i]).playing.length-1;r>=0;--r)e.playing[r].resume();for(r=e.waitingToPlay.length-1;r>=0;--r)e.waitingToPlay[r].resume()}for(i=0;i<t.subContexts.length;++i)this.resumeContext(t.subContexts[i])}},f.pauseAll=function(){var t=this._sounds;for(var e in t)this.pause(t[e],!0)},f.resumeAll=function(){var t=this._sounds;for(var e in t)this.resume(t[e],!0)},f._onInstancePaused=function(){this._fixAndroidAudio&&0==--this._numPlayingAudio&&(this._lastAudioTime=Date.now())},f._onInstanceResume=function(){this._fixAndroidAudio&&(this._lastAudioTime>0&&Date.now()-this._lastAudioTime>3e4&&t(),this._numPlayingAudio++,this._lastAudioTime=-1)},f.setContextMute=function(t,e){if(t=this._contexts[t]){t.muted=e;var i,n,r,o,s=t.volume,a=t.sounds;for(o=a.length-1;o>=0;--o)if((i=a[o]).playing.length)for(r=(n=i.playing).length-1;r>=0;--r)n[r].updateVolume(e?0:s);for(o=0;o<t.subContexts.length;++o)this.setContextMute(t.subContexts[o],e)}},Object.defineProperty(f,"muteAll",{set:function(t){h.setMute(!!t)}}),f.setContextVolume=function(t,e){if(t=this._contexts[t]){var i=t.muted;t.volume=e;for(var n,r,o,s=t.sounds,a=s.length-1;a>=0;--a)if((n=s[a]).playing.length)for(o=(r=n.playing).length-1;o>=0;--o)r[o].updateVolume(i?0:e)}},f.preload=function(t,e){if(this.isSupported)if(i(t)&&(t=[t]),t&&0!==t.length){for(var n,r=[],o=0,a=t.length;o<a;++o)(n=this._sounds[t[o]])&&n.loadState==m.unloaded&&(n.loadState=m.loading,r.push({id:n.id,src:n.src,complete:this._markLoaded,data:n,advanced:!0}));r.length>0?s.instance.load(r,e):e&&e()}else e&&e();else e&&setTimeout(e,0)},f._markLoaded=function(t){var e=t.data.id,i=this._sounds[e];i&&(i.loadState=m.loaded,i.playAfterLoad&&this._playAfterLoad(e));var n=i.preloadCallback;n&&(i.preloadCallback=null,n())},f.unload=function(t){if(t)for(var e,i=0,n=t.length;i<n;++i)(e=this._sounds[t[i]])&&(this._stopSound(e),e.loadState=m.unloaded),h.removeSound(e.src)},f.unloadAll=function(){var t=[];for(var e in this._sounds)t.push(e);this.unload(t)},f._poolInst=function(t){-1==this._pool.indexOf(t)&&(t._endCallback=t.alias=t._channel=t._startFunc=null,t.curVol=0,t.globallyPaused=t.paused=t.isValid=!1,this._pool.push(t))},f.destroy=function(){if(this.stopAll(),h.removeAllSounds(),l&&h.activePlugin instanceof l){var t=document.getElementById("SoundJSFlashContainer");t&&t.parentNode&&t.parentNode.removeChild(t)}b=null,this._sounds=null,this._volumes=null,this._fades=null,this._contexts=null,this._pool=null},namespace("springroll").Sound=p}(),function(){var t,e=include("springroll.Sound"),i=include("springroll.Application"),n=include("springroll.EventDispatcher"),r=function(){n.call(this),t||(t=include("springroll.Captions",!1)),this._onSoundFinished=this._onSoundFinished.bind(this),this._updateSilence=this._updateSilence.bind(this),this._updateSoloCaption=this._updateSoloCaption.bind(this),this._syncCaptionToSound=this._syncCaptionToSound.bind(this),this._listHelper=[],this.trackSound=!1,this.paused=!1,this.voList=null,this._listCounter=0,this._currentVO=null,this._soundInstance=null,this._callback=null,this._cancelledCallback=null,this._trackedSounds=[],this._timer=0,this._captions=null},o=extend(r,n);Object.defineProperty(o,"playing",{get:function(){return null!==this._currentVO||this._timer>0}}),Object.defineProperty(o,"currentVO",{get:function(){return this._currentVO}}),Object.defineProperty(o,"captions",{set:function(t){this._captions=t,t&&(t.selfUpdate=!1)},get:function(){return this._captions}}),Object.defineProperty(o,"currentPosition",{get:function(){return this.playing?this._soundInstance?this._soundInstance.position:this._currentVO?this._timer:this.voList[this._listCounter]-this._timer:0}}),Object.defineProperty(o,"currentDuration",{get:function(){return this.playing?this._soundInstance?e.instance.getDuration(this._soundInstance.alias):this._currentVO&&this._captions?this._captions.currentDuration:this.voList[this._listCounter]:0}}),o.getElapsed=function(){var t,i,n=0;if(!this.voList)return 0;for(i=0;i<this._listCounter;++i)"string"==typeof(t=this.voList[i])?n+=e.instance.getDuration(t):"number"==typeof t&&(n+=t);return(i=this._listCounter)<this.voList.length&&("string"==typeof(t=this.voList[i])?n+=this._soundInstance.position:"number"==typeof t&&(n+=t-this._timer)),n},o.pause=function(){!this.paused&&this.playing&&(this.paused=!0,this._soundInstance&&this._soundInstance.pause(),i.instance.off("update",[this._updateSoloCaption,this._syncCaptionToSound,this._updateSilence]))},o.resume=function(){this.paused&&(this.paused=!1,this._soundInstance&&this._soundInstance.resume(),this._captions.playing?this._soundInstance?i.instance.on("update",this._syncCaptionToSound):i.instance.on("update",this._updateSoloCaption):i.instance.on("update",this._updateSilence))},o.play=function(t,e,i){this.stop(),this.playing&&this.stop(),this._listCounter=-1,"string"==typeof t?(this._listHelper.length=0,this._listHelper[0]=t,this.voList=this._listHelper):this.voList=t,this._callback=e,this._cancelledCallback=!0===i?e:i,this._onSoundFinished()},o._onSoundFinished=function(){if(this._listCounter>=0&&this.trigger("end",this._currentVO),i.instance.off("update",[this._updateSoloCaption,this._syncCaptionToSound,this._updateSilence]),this._captions&&this._soundInstance&&this._captions.seek(this._soundInstance.length),this._soundInstance=null,++this._listCounter>=this.voList.length){this._captions&&this._captions.stop(),this._currentVO=null,this._cancelledCallback=null;var t=this._callback;this._callback=null,t&&t()}else this._currentVO=this.voList[this._listCounter],"string"==typeof this._currentVO?(this._playSound(),this.trigger("start",this._currentVO)):"function"==typeof this._currentVO?(this._currentVO(),this._onSoundFinished()):(this._timer=this._currentVO,this._currentVO=null,i.instance.on("update",this._updateSilence),this.trigger("start",null))},o._updateSilence=function(t){this._timer-=t,this._timer<=0&&this._onSoundFinished()},o._updateSoloCaption=function(t){this._timer+=t,this._captions.seek(this._timer),this._timer>=this._captions.currentDuration&&this._onSoundFinished()},o._syncCaptionToSound=function(t){this._soundInstance&&this._captions.seek(this._soundInstance.position)},o._playSound=function(){this.trackSound&&-1==this._trackedSounds.indexOf(this._currentVO)&&this._trackedSounds.push(this._currentVO);var t=e.instance;!t.exists(this._currentVO)&&this._captions&&this._captions.hasCaption(this._currentVO)?(this._captions.play(this._currentVO),this._timer=0,i.instance.on("update",this._updateSoloCaption)):(this._soundInstance=t.play(this._currentVO,this._onSoundFinished),this._captions&&(this._captions.play(this._currentVO),i.instance.on("update",this._syncCaptionToSound)));for(var n,r=this.voList.length,o=this._listCounter+1;o<r;++o)if("string"==typeof(n=this.voList[o])){t.exists(n)&&!t.isLoaded(n)&&t.preload(n);break}},o.stop=function(){this.paused=!1,this._soundInstance&&(this._soundInstance.stop(),this._soundInstance=null),this._currentVO=null,this._captions&&this._captions.stop(),i.instance.off("update",[this._updateSoloCaption,this._syncCaptionToSound,this._updateSilence]),this.voList=null,this._timer=0,this._callback=null;var t=this._cancelledCallback;this._cancelledCallback=null,t&&t()},o.unloadSound=function(){e.instance.unload(this._trackedSounds),this._trackedSounds.length=0},o.destroy=function(){this.stop(),this.voList=null,this._listHelper=null,this._currentVO=null,this._soundInstance=null,this._callback=null,this._cancelledCallback=null,this._trackedSounds=null,this._captions=null,n.prototype.destroy.call(this)},namespace("springroll").VOPlayer=r,namespace("springroll").Sound.VOPlayer=r}(),function(){var t=include("springroll.ApplicationPlugin"),e=include("springroll.Sound"),i=include("springroll.VOPlayer"),n=include("createjs.WebAudioPlugin"),r=include("createjs.FlashAudioPlugin",!1),o=new t(90);o.setup=function(){this.options.add("audioPlugins",r?[n,r]:[n],!0),this.options.add("swfPath","assets/swfs/",!0),this.options.add("forceFlashAudio",!1,!0),this.options.add("forceNativeAudio",!1,!0),this.options.add("audioTypes",["ogg","mp3"],!0),this._music=null,this._musicInstance=null,this.voPlayer=new i,this.sound=null,this.assetManager.register("springroll.SoundTask"),Object.defineProperty(this,"music",{set:function(t){if(t!=this._music){var e=this.sound;this._music&&(e.fadeOut(this._music),this._musicInstance=null),this._music=t,t&&(this._musicInstance=e.play(this._music,{start:e.fadeIn.bind(e,t),loop:-1}))}},get:function(){return this._music}}),Object.defineProperty(this,"musicInstance",{get:function(){return this._musicInstance}}),this.once("configLoaded",function(t){var e=t.sounds,i=this.sound;e&&(e.vo&&i.addContext(e.vo),e.sfx&&i.addContext(e.sfx),e.music&&i.addContext(e.music))})},o.preload=function(t){e.init({plugins:this.options.audioPlugins,swfPath:this.options.swfPath,types:this.options.audioTypes,ready:function(){if(!this.destroyed){var i=this.sound=e.instance;this.on({paused:function(){i.pauseAll()},resumed:function(){i.resumeAll()}}),this.trigger("soundReady"),t()}}.bind(this)})},o.teardown=function(){this.voPlayer&&(this.voPlayer.destroy(),this.voPlayer=null),this.sound&&(this.sound.destroy(),this.sound=null)}}(),function(){var t=include("springroll.Sound"),e=include("springroll.SoundInstance"),i=include("springroll.VOPlayer"),n=t.prototype;Object.defineProperty(n,"soundEnabled",{get:function(){return this.isSupported}}),n.loadConfig=function(t){return this.addContext(t)},n.preloadSound=function(t,e){this.preload(t,e)},n.unpauseAll=function(){this.resumeAll()},n.unpauseSound=function(t){this.resume(t)},n.pauseSound=function(t){this.pause(t)},(n=e.prototype).unpause=function(){this.resume()},n=i.prototype,Object.defineProperty(n,"soundList",{get:function(){return this.voList}})}()}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})}function e(){}function i(t){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(t,this)}function n(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){var n;try{n=i(t._value)}catch(t){return void o(e.promise,t)}r(e.promise,n)}else(1===t._state?r:o)(e.promise,t._value)})):t._deferreds.push(e)}function r(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void a(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,s(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;r>e;e++)n(t,t._deferreds[e]);t._deferreds=null}function a(t,e){var i=!1;try{t(function(t){i||(i=!0,r(e,t))},function(t){i||(i=!0,o(e,t))})}catch(t){if(i)return;i=!0,o(e,t)}}var c=setTimeout;i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,i){var r=new this.constructor(e);return n(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(t,i,r)),r},i.prototype.finally=t,i.all=function(t){return new i(function(e,i){function n(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){n(t,e)},i)}r[t]=s,0==--o&&e(r)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var o=r.length,s=0;r.length>s;s++)n(s,r[s])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,i){i(t)})},i.race=function(t){return new i(function(e,i){for(var n=0,r=t.length;r>n;n++)t[n].then(e,i)})},i._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){c(t,0)},i._unhandledRejectionFn=function(t){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var u=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"Promise"in u?u.Promise.prototype.finally||(u.Promise.prototype.finally=t):u.Promise=i}),function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";var t=function(t){return new Error("Application must provide "+t)};function e(t,e){return t(e={exports:{}},e.exports),e.exports}for(var i=e(function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var i=new Uint8Array(16);t.exports=function(){return e(i),i}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}}),n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);var o=function(t,e){var i=e||0,r=n;return[r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]]].join("")},s=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[r+a]=s[a];return e||o(s)},a=function(t){var e=s();return t.write("studentId",e).then(function(){return e},function(){return e})};function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}for(var u=function(t){var e,i,n,r,o=t.apiClient,s=t.warehouse,a=(i=void 0===(e={}.maxSerializedLength)?25e4:e,n=[],r="",{add:function(t){n.push(t);var e=(r+=JSON.stringify(t)+"\n").length;if(e>i){for(var o=r.indexOf("\n",e-i)+1,s=0,a=r.indexOf("\n");a>=0&&a<=o;)s++,a=r.indexOf("\n",a+1);n.splice(0,s),r=r.substr(o)}},remove:function(t){n=n.filter(function(e){return t.indexOf(e.id)<0}),r=n.map(JSON.stringify).join("\n")},batchForUpload:function(t){return void 0===t&&(t=50),n.slice(0,t)},readFromWarehouse:function(t){return t.read("eventsToUpload").then(function(t){t&&(n=t.split("\n").filter(function(t){return t}).map(JSON.parse),r=t)}).catch(function(){})},writeToWarehouse:function(t){return Promise.resolve().then(function(){return t.write("eventsToUpload",r)}).catch(function(t){return console.warn("Failed to write event log queue to warehouse: "+t)})}}),c=!1,u=function(t){var e=t.apiClient,i=t.warehouse,n=t.queue,r=function(t,r){return function(t,e){return t?t.post("/events",e).then(function(t){return t.eventsRecorded||[]}).catch(function(){return[]}):Promise.resolve([])}(e,t).then(function(t){return function(e){return e.length>0?(n.remove(e),n.writeToWarehouse(i).then(o)):o(Math.min(2*t,12e4))}}(r))},o=function(t){return void 0===t&&(t=1e4),(e=t,new Promise(function(t){setTimeout(t,e)})).then(function(t){return function(){var e=n.batchForUpload();return e.length>0?r(e,t):Promise.resolve()}}(t));var e};return o}({apiClient:o,warehouse:s,queue:a}),l=function(){c=!1},h=function(t){a.add(t),a.writeToWarehouse(s),c||(c=!0,u().then(l).catch(l))};return a.readFromWarehouse(s).then(function(){return{onEvent:h}})},l=function(t){if(!t)return!1;try{var e="enlearn_warehouse_storage_support_test_key";return t.setItem(e,""),t.removeItem(e),!0}catch(t){return!1}},h=function(t){var e=t.scope,i=function(t){var e=t.storage,i=t.scope,n=function(t){return i+"."+t};return{getItem:function(t){return e.getItem(n(t))},setItem:function(t,i){return e.setItem(n(t),i)},removeItem:function(t){return e.removeItem(n(t))},clear:function(){return e.clear()}}}({storage:l(window.localStorage)?window.localStorage:l(window.sessionStorage)?window.sessionStorage:new function(){var t={};return{getItem:function(e){var i=t[e];return void 0===i?null:i},setItem:function(e,i){t[e]=i.toString()},removeItem:function(e){delete t[e]},clear:function(){Object.keys(t).forEach(function(e){delete t[e]})}}},scope:e});return{write:function(t,e){return new Promise(function(n,r){try{i.setItem(t,e),n()}catch(t){r(t)}})},read:function(t){return new Promise(function(e,n){try{e(i.getItem(t))}catch(t){n(t)}})},remove:function(t){return new Promise(function(e,n){try{i.removeItem(t),e()}catch(t){n(t)}})},clear:function(){return new Promise(function(t,e){try{i.clear(),t()}catch(t){e(t)}})}}},_=e(function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var i=new Uint8Array(16);t.exports=function(){return e(i),i}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}}),p=[],d=0;d<256;++d)p[d]=(d+256).toString(16).substr(1);var f,b=function(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||_)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var o=0;o<16;++o)e[n+o]=r[o];return e||function(t,e){var i=e||0,n=p;return[n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]]].join("")}(r)},m=function(t,e,i){var n=function(t){var e=function(){return t.read("brainpoints").then(function(t){return t?JSON.parse(t):t})},i=function(e){return t.write("brainpoints",JSON.stringify(e))},n=function(t){return"filter-"+t},r=function(e){return t.read(n(e)).then(function(t){return t?JSON.parse(t):t})};return i([]),{getBrainpointCount:function(){return e().then(function(t){return t.length})},putBrainpoint:function(t){return e().then(function(e){var n=t.id;return e.indexOf(n)>=0?Promise.reject(new Error("id '"+n+"' already in use.")):(e.push(n),i(e))})},getMetrics:function(t,e){return r(t).then(function(i){return i&&i[e]?i[e]:{filter:t,domain:e}})},putMetrics:function(e){var i=e.filter,o=e.domain;return i&&o?r(i).then(function(r){return(r=r||{})[o]=e,function(e,i){return t.write(n(e),JSON.stringify(i))}(i,r)}):(console.log("filter: "+i+", domain: "+o),Promise.reject(new Error("Metrics object must contain a 'filter' property and a 'domain' property.")))}}}(e),r=function(t){return t.reduce(function(t,e){return t.then(function(){return n.putMetrics(e)})},Promise.resolve())};return{brainpointType:t,evaluate:function(e,o){var s=function(t){return i.map(function(e){return t.map(function(t){return{filter:e,metricsPromise:n.getMetrics(e.id,t)}})}).reduce(function(t,e){return t.concat(e)},[])}(e);return function(t,e){return i=t.map(function(t){var i=t.filter;return t.metricsPromise.then(function(t){return i.allows(e,t)})}),new Promise(function(t){return t(Promise.all(i.map(function(e){return e.then(function(e){return e||t(!1),Boolean(e)})})).then(function(t){return t.reduce(function(t,e){return t&&e},!0)}))});var i}(s,o).then(function(t){return function(t,e,i){return Promise.all(t.map(function(t){var n=t.filter;return t.metricsPromise.then(function(t){return n.updateMetrics(e,t,i)})})).then(r).then(function(){return i})}(s,o,t)}).then(function(e){return e?function e(i){void 0===i&&(i=3);var r={type:t,id:b()};return n.putBrainpoint(r).then(function(){return r}).catch(function(t){return i>1?e(i-1):Promise.reject(t)})}():null})},count:n.getBrainpointCount}},g=Object.freeze({DISMISS_INSPECT_POPUP:4025,HINT:4090,FEEDBACK_COMPLETE:3110,LEVEL_ATTEMPT:5e3,LEVEL_BEGIN:2020,LEVEL_RESET:4022,FOOD_FARMER_LEVEL_BEGIN:5020,FOOD_FARMER_ATTEMPT:5060,SPACE_SCOUTS_LEVEL_ATTEMPT:4110}),y=function(t){return t.event_data.enlearn_components&&t.event_data.enlearn_components.level_instance_id?t.event_data.enlearn_components.level_instance_id:void 0},v=function(t){return t.event_data.enlearn_components&&t.event_data.enlearn_components.level_id?t.event_data.enlearn_components.level_id:void 0},w=function(t){return!!t.event_data.enlearn_components&&(5e3===t.event_data.event_code||5060===t.event_data.event_code||4110===t.event_data.event_code)},x=function(t){return t.event_data.score?t.event_data.score:t.event_data.enlearn_components&&t.event_data.enlearn_components.score?t.event_data.enlearn_components.score:t.event_data.score},T={id:"b0814f08",allows:function(t){return Promise.resolve(Boolean(t.event_data&&!t.event_data.interrupted))},updateMetrics:function(t,e){return Promise.resolve(e)}},S={id:"a5cc4c3c",allows:function(t,e){return Promise.resolve((e.attemptCount||0)>=3)},updateMetrics:function(t,e,i){return new Promise(function(n){var r=e.attemptCount||0;5e3===t.event_data.event_code&&r++,i&&(r=0),e.attemptCount=r,n(e)})}},A={id:"b6e72517",allows:function(t,e){return Promise.resolve(Boolean(3110===t.event_data.event_code&&t.event_data.feedback_id===e.lastHintFeedbackId))},updateMetrics:function(t,e,i){return new Promise(function(n){4090===t.event_data.event_code&&(e.lastHintFeedbackId=t.event_data.feedback_id),i&&(e.lastHintFeedbackId=null),n(e)})}},C=function(t,e){return{id:t,allows:function(t,i){return Promise.resolve((i.awardCount||0)<e)},updateMetrics:function(t,e,i){return new Promise(function(t){e.awardCount=e.awardCount||0,i&&e.awardCount++,t(e)})}}},E=C("680c2761",1),P={id:"8d086e2f",allows:function(t){return Promise.resolve(t.event_data.reset_count>0)},updateMetrics:function(t,e){return Promise.resolve(e)}},D=C("02a5895b",1),M={id:"1836b2ed",allows:function(t){return Promise.resolve(Boolean(t.event_data&&t.event_data.feedback_did_finish))},updateMetrics:function(t,e){return Promise.resolve(e)}},R=function(t){return t.event_data.object_name?t.event_data.object_name:"an item"},I={id:"83456464",allows:function(t,e){return Promise.resolve(void 0!==y(t)&&y(t)===e.prev_level_instance_id)},updateMetrics:function(t,e){return Promise.resolve(c({},e,{prev_level_instance_id:y(t)?y(t):e.prev_level_instance_id}))}},O={id:"65efcb6b",allows:function(t,e){return Promise.resolve(5e3===t.event_data.event_code&&e.hasOwnProperty("prev_score")&&Math.abs(e.prev_score-x(t))>.25)},updateMetrics:function(t,e){return Promise.resolve(c({},e,{prev_score:x(t)}))}},k=function(t){return t.part_type+"|"+t.location.x+","+t.location.y},L={id:"c665d8eb",allows:function(t,e){return Promise.resolve(5e3===t.event_data.event_code&&e.prev_parts&&function(t,e){var i=function(t,e){var i=[],n=[];for(var r in t)e.indexOf(t[r])<0&&i.push(t[r]);for(var o in e)t.indexOf(e[o])<0&&n.push(e[o]);return{remainderA:i,remainderB:n}}(t.map(k),e.map(k)),n=i.remainderA,r=i.remainderB;if(0===n.length&&0===r.length)return!1;if(n.length>1||r.length>1)return!1;if(n.length+r.length===1)return!0;var o=n[0].split("|"),s=o[0],a=o[1],c=r[0].split("|"),u=0;return s!==c[0]&&u++,a!==c[1]&&u++,1===u}(t.event_data.enlearn_components.parts,e.prev_parts))},updateMetrics:function(t,e){return t.event_data.enlearn_components&&t.event_data.enlearn_components.parts?Promise.resolve(c({},e,{prev_parts:t.event_data.enlearn_components.parts})):Promise.resolve(e)}},j={id:"40d28f1c",allows:function(t,e){return Promise.resolve(void 0===e.lastAwardTime||(Date.now()-e.lastAwardTime)/1e3>=300)},updateMetrics:function(t,e,i){return new Promise(function(t){i&&(e.lastAwardTime=Date.now()),t(e)})}},B={id:"94f49ef3",allows:function(t){return Promise.resolve().then(function(){if(!t.event_data.enlearn_components.parts)return!1;for(var e=t.event_data.enlearn_components.parts.map(function(t){return t.mini_game}),i=1;i<e.length;i++)if(e[i]!==e[0])return!0;return!1})},updateMetrics:function(t,e){return Promise.resolve(e)}},F=function(t){return t.game_id+"."+v(t)},J={id:"7b559890",allows:function(t,e){return Promise.resolve().then(function(){if(!v(t))return!1;var i=F(t);return"s"===(e.levelStatus||{})[i]})},updateMetrics:function(t,e){return Promise.resolve().then(function(){if(5e3!==t.event_data.event_code)return e;var i=F(t),n=e.levelStatus||{};return x(t)>=1?n[i]="f":"f"!==n[i]&&(n[i]="s"),e.levelStatus=n,e})}},G={id:"e7432ef8",allows:function(t,e){return Promise.resolve().then(function(){var i=F(t);return e.previousLevel&&e.previousLevel!==i})},updateMetrics:function(t,e){return Promise.resolve().then(function(){return 5e3!==t.event_data.event_code?e:(e.previousLevel=F(t),e)})}},N={id:"5c4f9b67",allows:function(t){return Promise.resolve(2020===t.event_data.event_code)},updateMetrics:function(t,e){return Promise.resolve(e)}},U={id:"770bfea6",allows:function(t,e){return Promise.resolve().then(function(){var i=x(t),n=e.scores||[],r=e.unawardedAttempts||0;return n.indexOf(i)<0&&r+1>=3})},updateMetrics:function(t,e,i){return Promise.resolve().then(function(){var n=x(t),r=e.scores||[];r.indexOf(n)<0&&(r.push(n),e.scores=r);var o=e.unawardedAttempts||0;return e.unawardedAttempts=i?0:o+1,e})}},W=function(t){var e=[];return t.event_data.enlearn_components.parts.forEach(function(t){var i=t.part_type;e.indexOf(i)<0&&e.push(i)}),e.sort(),e},V={id:"23e309c1",allows:function(t,e){return Promise.resolve().then(function(){if(!w(t)||!t.event_data.enlearn_components.parts)return!1;var i=W(t),n=e.partCombinations||{};for(var r in i){if(!n[i[r]])return!0;n=n[i[r]]}return!n._isLeaf})},updateMetrics:function(t,e){return Promise.resolve().then(function(){if(!w(t)||!t.event_data.enlearn_components.parts)return e;var i=W(t);e.partCombinations||(e.partCombinations={});var n=e.partCombinations;for(var r in i)n[i[r]]||(n[i[r]]={}),n=n[i[r]];return n._isLeaf=!0,e})}},X=Object.keys(g).filter(function(t){return"__esModule"!==t}).map(function(t){return g[t]}),z=function(e){try{!function(e){if(!e.options.brainpoints)throw t("`brainpoints` option object");if(!e.options.brainpoints.callback)throw t("`brainpoints.callback` option");if("function"!=typeof e.options.brainpoints.callback)throw new Error("`brainpoints.callback` must be a function")}(e)}catch(t){return Promise.reject(t)}var i,n=h({scope:"enlearn.spacescouts.eventlog"});return(i=n,i.read("studentId").then(function(t){return t||a(i)}).catch(function(){return a(i)})).then(function(t){return function(t){var e=t.codeVersion,i=t.studentId,n=t.appId,r=t.ecosystemId,o=t.policyId,a=t.globalAppData,l=t.warehouse,h=t.apiClient,_=[],p=s(),d="",f=0,b=function(t){_.push(t)},m=function t(u,h,b){null==h&&(h={}),null==b&&(b={});var m={id:s(),recordTime:(new Date).toISOString(),sequenceNumber:f++,student:i,app:n,codeVersion:e,ecosystem:r,policy:o,session:p,problemSession:d,type:u,eventData:h,appData:c({},a,b)};return l.write("nextSequenceNumber",f.toString()),Promise.all(_.map(function(e){return e.onEvent(m,t)}))},g=function(t,e){return p=s(),m("sessionStart",t,e)},y=function(){return p=""},v=function(t,e){return m("sessionEnd",t,e).then(y).catch(y)},w=function(t,e){return d=s(),m("problemStart",t,e)},x=function(){return d=""},T=function(t,e){return m("problemEnd",t,e).then(x).catch(x)};return u({warehouse:l,apiClient:h}).then(function(t){b(t)}).then(function(){return l.read("nextSequenceNumber").then(function(t){var e=parseInt(t);return isNaN(e)?0:e}).catch(function(){return 0})}).then(function(t){return f=t,{startSession:g,endSession:v,startProblemSession:w,endProblemSession:T,addListener:b,log:m}})}({codeVersion:"2.0.0",ecosystem:"none",policyId:"none",appId:"7248dc85",studentId:t,apiClient:null,warehouse:n,globalAppData:e.options.brainpoints.appData||{}})}).then(function(t){var i=function(t){var e,i,n=t.callback,r=t.eventLog,o=[(e=h({scope:"enlearn.spacescouts.hint-brainpoint"}),i=m("hint",e,[A,S,T]),{type:i.type,count:i.count,acknowledge:function(t){return 4090!==t.event_data.event_code&&5e3!==t.event_data.event_code&&3110!==t.event_data.event_code?Promise.resolve(null):i.evaluate([t.game_id+"."+v(t)],t).then(function(e){return e?c({},e,{message:"You helped your brain grow by asking for a hint after trying to solve the same level several times.",session:t.game_session}):e})}}),function(){var t=h({scope:"enlearn.spacescouts.level-reset-brainpoint"}),e=m("levelReset",t,[P,E]);return{type:e.type,count:e.count,acknowledge:function(t){return 4022!==t.event_data.event_code?Promise.resolve(null):e.evaluate([y(t)],t).then(function(e){return e?c({},e,{message:"You decided to start fresh and try a new way to solve this level.",session:t.game_session}):e})}}}(),function(){var t=h({scope:"enlearn.spacescouts.magnifying-glass-brainpoint"}),e=m("magnifyingGlassCuriosity",t,[M,D]);return{type:e.type,count:e.count,acknowledge:function(t){return 4025!==t.event_data.event_code?Promise.resolve(null):e.evaluate([t.game_session+"."+R(t)],t).then(function(e){return e?c({},e,{message:"You helped your brain grow by being curious and learning about "+R(t).toLowerCase()+".",session:t.game_session}):e})}}}(),function(){var t=h({scope:"enlearn.spacescouts.minor-modification-brainpoint"}),e=m("minorModification",t,[I,O,L]);return{type:e.type,count:e.count,acknowledge:function(t){return 5e3!==t.event_data.event_code?Promise.resolve(null):e.evaluate(["global"],t).then(function(e){return e?c({},e,{message:"You ran an experiment by trying a small change and making a big difference in your solution.",session:t.game_session}):e})}}}(),function(){var t=h({scope:"enlearn.spacescouts.mixing-parts-brainpoint"}),e=m("mixingParts",t,[j,B]);return{type:e.type,count:e.count,acknowledge:function(t){return w(t)&&t.event_data.enlearn_components.parts?e.evaluate(["global"],t).then(function(e){return e?c({},e,{message:"You showed curiosity by putting together parts from different games.",session:t.game_session}):e}):Promise.resolve(null)}}}(),function(){var t=h({scope:"enlearn.spacescouts.unfinished-level-return-brainpoint"}),e=m("unfinishedLevelReturn",t,[J,G,N]);return{type:e.type,count:e.count,acknowledge:function(t){return 5e3!==t.event_data.event_code&&2020!==t.event_data.event_code?Promise.resolve(null):e.evaluate(["global"],t).then(function(e){return e?c({},e,{message:"You gave a tough level another shot.",session:t.game_session}):e})}}}(),function(){var t=h({scope:"enlearn.spacescouts.unique-attempts-brainpoint"}),e=m("uniqueAttempts",t,[U]);return{type:e.type,count:e.count,acknowledge:function(t){return w(t)?e.evaluate([t.game_id+"."+v(t)],t).then(function(e){return e?c({},e,{message:"You worked hard by trying to solve this level many different ways.",session:t.game_session}):e}):Promise.resolve(null)}}}(),function(){var t=h({scope:"enlearn.spacescouts.unique-part-combinations-brainpoint"}),e=m("uniquePartCombinations",t,[V]);return{type:e.type,count:e.count,acknowledge:function(t){return w(t)&&t.event_data.enlearn_components.obstacle_types&&t.event_data.enlearn_components.parts?t.event_data.enlearn_components.obstacle_types.reduce(function(i,n){return i.then(function(i){return function(t,i,n){return void 0===n&&(n=null),e.evaluate([i],t).then(function(e){return e?c({},e,{message:1===x(t)?"You overcame a challenge by trying something new.":"You learned something about this problem by trying something new.",session:t.game_session}):n})}(t,n,i)})},Promise.resolve()):Promise.resolve(null)}}}()];return{registerEvent:function(t){return Promise.all(o.map(function(e){return e.acknowledge(t).then(function(e){return null!==e&&(n(e),r.log("brainpointAwarded",{learningEvent:t,brainpoint:e})),e})})).then(function(e){var i=e.filter(function(t){return t});return 0===i.length&&t.event_data&&X.indexOf(t.event_data.event_code)>=0&&r.log("noBrainpoint",{learningEvent:t}),i})}}}({callback:e.options.brainpoints.callback,eventLog:t});return e.analyticsEmitter.on("learningEvent",function(t){i.registerEvent(t)}),e.brainpoints=i,t.startSession()})};(f=new(window.include("springroll.ApplicationPlugin"))).setup=function(){this.options.add("brainpoints",{callback:null,appData:{}})},f.preload=function(t){z(this).then(function(){return setTimeout(t,0)}).catch(function(t){console.error("Error preloading Brainpoints plugin:"),console.error(t)})},f.teardown=function(){var t;(t=this,new Promise(function(e){t.brainpoints&&delete t.brainpoints,e()})).catch(function(t){console.error("Error tearing down Brainpoints plugin:"),console.error(t)})}}),this.PBS=this.PBS||{},this.PBS.KIDS=function(t){"use strict";function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="GoogleAnalytics",this.panel=document.createElement("div"),this.logs=document.createElement("div")}var i,n;return i=t,(n=[{key:"preload",value:function(){return Promise.resolve()}},{key:"init",value:function(){}},{key:"start",value:function(t){this.app=t,this.loggingPanel=t.getPlugin("LoggingPanel"),void 0!==this.loggingPanel&&(this.render=this.loggingPanel.addPanel({name:"Google Analytics"}),this.logs.className="container",this.logs.style.overflowY="scroll",this.logs.style.maxHeight="80vh",this.panel.appendChild(this.logs),this.render(this.panel))}},{key:"render",value:function(t){}},{key:"getFormattedDate",value:function(){var t=new Date,e=t.getHours()+":",i=t.getMinutes();e+=i<10?"0".concat(i):i,e+=":";var n=t.getSeconds();return e+(n<10?"0".concat(n):n)}},{key:"event",value:function(t,e,i,n){var r={hitType:"event"};void 0!==t&&(r.eventCategory=t),void 0!==e&&(r.eventAction=e),void 0!==i&&(r.eventLabel=i),void 0!==n&&(r.eventValue=n),this.app.container.connected&&this.app.container.send("googleAnalyticsEvent",r),this.renderRecord("Event",[t,e,i,n])}},{key:"renderRecord",value:function(t,e){if(void 0!==this.loggingPanel){var i=document.createElement("div");i.className="container";var n=document.createElement("div");n.className="bg-dkblue container";var r=document.createElement("div");r.className="half-width bold",r.innerText=t.toUpperCase(),n.appendChild(r);var o=document.createElement("div");o.innerText=this.getFormattedDate(),o.className="half-width bold",n.appendChild(o);var s=document.createElement("div");s.className="clear--both",n.appendChild(s),i.appendChild(n);var a=document.createElement("div");a.className="bg-blue full-width container",a.style.textAlign="center",a.innerText=e.filter(function(t){return void 0!==t}).join("  "),i.appendChild(a);var c=document.createElement("div");c.className="clear--both",i.appendChild(c),this.logs.insertBefore(i,this.logs.firstChild),this.render(this.panel)}}}])&&e(i.prototype,n),t}(),n=new springroll.ApplicationPlugin;return n.setup=function(){var t=this;t.googleAnalytics=new i,t.getPlugin=function(){return t.loggingPanel},t.googleAnalytics.start(t)},t.default=n,t.plugin=n,t}({}),function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e,i){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&s(r,i.prototype),r}).apply(null,arguments)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return a(t,arguments,o(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}var h=function(){function t(){e(this,t),this._listeners={}}return n(t,[{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this._listeners[t]&&this._listeners[t].forEach(function(t){return t(e)})}},{key:"once",value:function(t,e){var i=this;return this.on(t,function n(r){e(r),i.off(t,n)})}},{key:"on",value:function(t,e){Array.isArray(this._listeners[t])||(this._listeners[t]=[]),this._listeners[t].push(e)}},{key:"off",value:function(t,e){if(void 0!==this._listeners[t]){var i=this._listeners[t].indexOf(e);-1!==i&&this._listeners[t].splice(i,1)}}},{key:"has",value:function(t,e){return Array.isArray(this._listeners[t])&&this._listeners[t].indexOf(e)>-1}}]),t}(),_=function(t){var e=t.toString(16).toUpperCase();return e.length<2&&(e="0"+e),e};var p=function(t){function i(){return e(this,i),l(this,o(i).apply(this,arguments))}return r(i,c(Error)),n(i,[{key:"toString",value:function(){return this.message}}]),i}(),d=function(t){function i(t,n,r){var s;return e(this,i),(s=l(this,o(i).call(this,t))).event=n,s.signature=r,s}return r(i,p),i}(),f=function(t){function i(t,n,r){var s;e(this,i);var a=t.map(function(t){return t.message}).join("");return(s=l(this,o(i).call(this,a,n,r))).validationErrors=t,s}return r(i,d),i}();function b(t,e){var i=document.createElement("div");i.classList.add("accordion-trigger","closed"),t instanceof HTMLElement?i.appendChild(t):i.innerHTML=t;var n=document.createElement("div");n.classList.add("accordion-content","closed"),e instanceof HTMLElement?n.appendChild(e):n.innerHTML=e,i.addEventListener("click",function(){i.classList.toggle("closed"),n.classList.toggle("closed")});var r=document.createElement("div");return r.classList.add("accordion"),r.appendChild(i),r.appendChild(n),r}function m(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'\n  <header class="pbs-font bold event-header '.concat(i," event-").concat(t,'">\n    <div class="third-width code">').concat(t,'</div>\n    <div class="event-name">\n      ').concat(e,'\n      <span class="arrow reversed"></span>\n    </div>\n  </header> \n  ')}function g(t,e,i){var n=b(m(e,i.events[e],"disabled"),'<p class="event-data">'.concat(t.events[e].info,"</p>")),r=function(t){for(var e,i="",n=0;n<t.length;n++)i+=(e=t[n],'\n  <div class="spec-argument">\n    <div class="parameter-specification">\n      <span class="parameter-name">'.concat(e.name,'</span>\n      <span class="parameter-type text-blue">: ').concat(e.type,'</span>\n    </div>\n    <p class="parameter-description">').concat(e.info,"</p>\n  </div>\n  "));return b('\n  <div class="argument-view bg-teal">\n    <span class="arrow"></span>\n    View Arguments\n  </div>\n  ',i)}(t.events[e].args);return n.querySelector(".accordion-content").appendChild(r),n}function y(t,e,i){var n='\n  <div class="argument-view">\n    <span class="arrow"></span>\n    '.concat(t.name,"\n  </div>"),r=[{label:"Info",value:t.info},{label:"Type",value:t.type},{label:"Value",value:e}];void 0!==i&&r.unshift({label:"Error",value:i});var o=r.map(function(t){var i;return t.value instanceof Object||t.value instanceof Array?(t.value='<pre class="is-json-data">'+JSON.stringify(e,null,2)+"</pre>",i="<dt>".concat(t.label,' :</dt><dd class="is-json">').concat(t.value,"</dd>")):i="<dt>".concat(t.label," :</dt><dd>").concat(t.value,"</dd>"),i});return b(n,'<dl class="element-data">'.concat(o.join(""),"</dl>"))}var v=function(){function t(i,n){var r=this;if(e(this,t),!n){var o="Cannot create analytics logging panel. Logging Panel plugin has not been included. See ".concat("https://projects.pbs.org/bitbucket/projects/SD/repos/springroll-logging-panel-plugin/browse");throw new Error(o)}this.analyticsEmitter=i,this.loggingPanel=n,this.onLearningEvent=this.onLearningEvent.bind(this),this.analyticsEmitter.on("learningEvent",this.onLearningEvent),this.onLearningError=this.onLearningError.bind(this),this.analyticsEmitter.on("learningError",this.onLearningError),this.specTab=document.createElement("div"),this.specTab.id="learning-spec",this.eventsTab=document.createElement("div"),this.eventsTab.id="learning-events";var s=this.loggingPanel.addPanel("Learning Spec"),a=this.loggingPanel.addPanel("LearningEvents");this.render=function(){s(r.specTab),a(r.eventsTab)},i.spec?this.onSpecInitialized():(this.onSpecInitialized=this.onSpecInitialized.bind(this),this.analyticsEmitter.on("learningSpecInitialized",this.onSpecInitialized))}return n(t,[{key:"onLearningEvent",value:function(t){this.setSpecHeaderState(t.event_data.event_code);var e=this.analyticsEmitter,i=function(t,e,i){var n=e.event_data.event_code,r=m(n,i.events[n]),o=document.createElement("div");return t.events[n].args.forEach(function(t){var i=y(t,e.event_data[t.name]);o.appendChild(i)}),b(r,o)}(e.spec,t,e.catalog);this.eventsTab.insertBefore(i,this.eventsTab.firstChild),this.render()}},{key:"onLearningError",value:function(t){t instanceof d&&this.setSpecHeaderState(t.signature.eventCode,"error"),t instanceof p&&console.log(t.toString());var e=this.analyticsEmitter,i=function(t,e,i){var n=e.signature.eventCode,r=m(n,i.events[n],"error"),o=document.createElement("div");return t.events[n].args.forEach(function(t,i){var n=y(t,e.event[i]);o.appendChild(n)}),b(r,o)}(e.spec,t,e.catalog);this.eventsTab.insertBefore(i,this.eventsTab.firstChild),this.render()}},{key:"onSpecInitialized",value:function(t){for(var e=this.analyticsEmitter.catalog,i=this.analyticsEmitter.spec,n=Object.keys(i.events),r=0;r<n.length;r++){var o=g(i,n[r],e);this.specTab.appendChild(o)}this.render()}},{key:"setSpecHeaderState",value:function(t,e){var i=this.specTab.querySelector(".event-header.event-".concat(t));null!==i&&(i.classList.remove("disabled","error"),void 0!==e&&i.classList.add(e),this.render())}}]),t}(),w=function(){this.events=Object.assign({},T)},x=w.prototype,T={2000:"startGame",2010:"endGame",2020:"startRound",2030:"endRound",2040:"startLevel",2050:"endLevel",2060:"startTutorial",2070:"endTutorial",2075:"skipTutorial",2080:"startMovie",2081:"skipMovie",2083:"endMovie",3010:"startInstruction",3110:"endInstruction",3020:"startIncorrectFeedback",3120:"endIncorrectFeedback",3021:"startCorrectFeedback",3121:"endCorrectFeedback",4010:"clickPlay",4020:"selectAnswer",4030:"startDrag",4035:"endDragOutside",4070:"offClick",4080:"dwellTime",4090:"clickHelp",4095:"clickReplay",4100:"submitAnswer"};w.globals=["game_time","level","round","event_count"],x.lookup=function(t){for(var e in this.events)if(t===this.events[e])return e;return null},x.add=function(t){for(var e in t){if(void 0!==this.events[e])throw new p("Cannot override the existing event code "+e);this.events[e]=t[e]}};var S=[{name:"description",type:"string",info:"The text or description of the instruction"},{name:"identifier",type:"string",info:"A unique identifier for this piece of instruction"},{name:"media_type",type:["audio","animation","other"],info:"The type of media that has just played"},{name:"total_duration",type:"int",info:"The estimated duration of the media playback in milliseconds (if it ran uninterrupted)"}];w.args={3010:S,3020:S,3021:S,2080:[{name:"movie_id",type:"string",info:"The identifier for the movie that was playing"},{name:"duration",type:"int",info:"The duration of the media playback in milliseconds"},{name:"description",type:"string",info:"The text or description of the instruction"}],4010:[{name:"coordinates",type:"object",info:"the game screen coordinates of the click dictionary: {'x': integer, 'y': integer, 'stage_width': integer, 'stage_height': integer}"}]},x.destroy=function(){this.events=null};var A=function(t,e,i,n,r){this.eventCode=t,this.api=e,this.args=i||null,this.eventArgs=n||null,this.info=r||null},C=A.prototype;function E(e,i){for(var n=e.args||e.eventArgs,r={},o=[],s=0,a=0,c=function(e,c){var u=n[e];if(-1!==w.globals.indexOf(u.name))return"continue";a++;var l=i[u.name];if(void 0===l)o.push({property:u.name,message:"No value found for argument ".concat(u.name)});else{var h=function e(i,n,r,o){if(void 0===n||null===n)return["Supplied value ".concat(n," is empty")];if("*"===i)return[];if("string"===i&&t(n)!==i||"int"===i&&parseInt(n)!==n||"number"===i&&parseFloat(n)!==n||"array"===i&&!Array.isArray(n)||"boolean"===i&&t(n)!==i||"object"===i&&t(n)!==i)return["".concat(n," is not a valid ").concat(i)];var s;var a;if(/^array->(int|boolean|string|number|array|object)$/.test(i)){if(!Array.isArray(n))return["".concat(n," is not an ").concat(i)];var c=i.replace("array->",""),u=[];for(s=0,a=n.length;s<a;s++)u=u.concat(e(c,n[s],r,o));return u}if(Array.isArray(i)&&-1===i.indexOf(n))return["".concat(n," is not valid in set ").concat(i)];if("object"===i&&r){for(var l=[],h=0;h<r.length;h++){var _=r[h];l=l.concat(e(_.type,n[_.name],_.args,o+"."+_.name))}return l}return[]}(u.type,l,u.args||null,u.name);h.length>0?h.forEach(function(t){o.push({property:u.name,message:t})}):s++}r[u.name]=l},u=0,l=n.length;u<l;u++)c(u);if(a!==s){var h="Arguments length doesn't match API. Expected ".concat(e.args.length," but got ").concat(s);o.push({message:h})}if(o.length)throw new f(o,i,e);return r}C.hasProperty=function(t,e){var i=e?this.eventArgs:this.args;if(!i||!i.length)return!1;for(var n=0,r=i.length;n<r;n++)if(t===i[n].name)return!0;return!1},C._format=function(t,e){var i="";if(e=e||"\t",t&&t.length){var n;i+="\n";for(var r=t.length,o=0;o<r;o++){i+=e+(n=t[o]).name+":";var s=n.type;Array.isArray(s)?i+="["+s.join(", ")+"]":i+=s,n.args&&(i+=" {",i+=this._format(n.args,e+"\t"),i+="\n"+e+"}"),o<r-1&&(i+=","),i+="\n"}}return i},C.toString=function(){return this.api+" ("+this._format(this.args)+")"};var P=function(t){function i(){var t;e(this,i),(t=l(this,o(i).call(this))).throwErrors=!1,t.catalog=new w,t._timers={},t.spec=null,t._movie=null,t._history=[],t.sessionId=null,t.resetSessionId(),t._level=null,t._round=null;var n=performance.now(),r=function(t){var e=t-n;this.updateTimers(e),n=t,this.destroyed||requestAnimationFrame(r)}.bind(u(u(t)));return requestAnimationFrame(r),t.on(D,t._onCalled.bind(u(u(t)))),t}return r(i,h),n(i,[{key:"enableLogging",value:function(){if(void 0===this.panel){var t=springroll.Application.instance;void 0!==t.loggingPanel?this.panel=new v(this,t.loggingPanel):console.warn("Logging panel plugin not configured. Bailing")}else console.warn("Logging panel already setup")}}]),i}(),D="called",M=P.prototype;M._handleError=function(t){if(this.trigger("learningError",t),P.throwErrors)throw t},M.addMap=function(t){if(t)try{this.catalog.add(t)}catch(t){this._handleError(t)}},M.updateTimers=function(t){for(var e in this._timers)this._timers[e]+=t},Object.defineProperty(M,"spec",{get:function(){return this._spec},set:function(t){if(this._spec=t,t){var e,i,n,r;for(r in t.events){(e=this.catalog.events[r])||(e="event"+r,this.catalog.events[r]=e),n=t.events[r],void 0===this[e]?(this[e]=this._specTrack.bind(this,e),i=n.args):i=w.args[r];var o=new A(r,e,i,n.args,n.info,n.endpoint);this[e].signature=o}this.trigger("learningSpecInitialized",this)}}}),M.setCustomFunctions=function(){if(this.custom)for(var t in this.custom)this[t]=this.custom[t]},M.startTimer=function(t){void 0===this._timers[t]?this._timers[t]=0:this._handleError("Timer exists matching '"+t+"', call stopTimer first")},M.pollTimer=function(t){if(void 0!==this._timers[t])return 0|this._timers[t];this._handleError("Timer doesn't exist matching '"+t+"'")},M.gameTime=function(){return this.pollTimer("_game")},M.stopTimer=function(t){var e=this.pollTimer(t);return this.removeTimer(t),e},M.removeTimer=function(t){void 0!==this._timers[t]&&delete this._timers[t]},M.resetSessionId=function(){this.sessionId=function(){var t=new Uint8Array(16);(window.crypto||window.msCrypto).getRandomValues(t),t[6]=64+(15&t[6]),t[8]=128+(63&t[8]);for(var e=[],i=0;i<t.length;i++)e.push(_(t[i]));return e[0]+e[1]+e[2]+e[3]+"-"+e[4]+e[5]+"-"+e[6]+e[7]+"-"+e[8]+e[9]+"-"+e[10]+e[11]+e[12]+e[13]+e[14]+e[15]}()},M._startMovie=function(t){this._movie?this._handleError("Movie is already started called skipMovie or endMovie first"):(this._movie=t,this.startTimer("_movie"),this._track("startMovie",this._movie))},M._skipMovie=function(){if(this.requires&&this.requires("startMovie")){var t=this._movie;t?(t.time_played=this.stopTimer("_movie"),this._movie=null,this._track("skipMovie",t)):this._handleError("No movie started, call startMovie first")}},M._endMovie=function(){if(this.requires&&this.requires("startMovie"))if(this._movie){this.removeTimer("_movie");var t=this._movie;this._movie=null,this._track("endMovie",t)}else this._handleError("No movie started, call startMovie first")},M.startMovie=M._startMovie,M.skipMovie=M._skipMovie,M.endMovie=M._endMovie,M._onCalled=function(t){},M._specTrack=function(t){var e=this[t].signature,i=Array.prototype.slice.call(arguments,1),n=function(t,e){var i,n,r=[],o={};for(i=0;i<t.length;i++)n=t[i],-1===w.globals.indexOf(n.name)&&r.push(n);for(i=0;i<r.length;i++)o[(n=r[i]).name]=e.shift();return o}(e.args,i);this._track(t,n)},M._track=function(t,e,i){if("startRound"===t&&null!==this._round)this._round++;else if("startLevel"===t&&null!==this._level)this._level++;else if("startGame"==t){var n=this.startGame.signature;if(!n)return void this._handleError("startGame: signature is undefined");n.hasProperty("round",!0)&&(this._round=0),n.hasProperty("level",!0)&&(this._level=0),this._history.length=0,this._history.push("startGame"),this.startTimer("_game")}else"endGame"==t&&(this._history.length=0);if(this.requires&&this.requires("startGame")){var r=this.catalog.lookup(t),o=this._spec.events[r],s=this[t].signature,a=null;if(void 0!==o){try{a=E(s,e)}catch(t){return void this._handleError(t)}this.trigger(D,t),null!==this._level&&(a.level=this._level),void 0!==i&&null!==i?a.round=i:null!==this._round&&(a.round=this._round),this._eventCounter=this._eventCounter||0,this._eventCounter++,a.event_count=this._eventCounter,a.game_time=this.gameTime(),a.event_code=parseInt(r),this._history.push(t),this.trigger(t,a),this.trigger("learningEvent",{game_id:this._spec.gameId,event_id:o.id,version:this._spec.version,game_session:this.sessionId,timestamp:(new Date).getTime(),event_data:a})}else this._handleError(new d("Supplied event code is invalid",r,t))}},M.requires=function(t){return-1!==this._history.indexOf(t)||(this._handleError(new Error("Learning API '"+t+"' needs to be called first")),!1)},M.destroy=function(){this.destroyed=!0,this.catalog&&(this.catalog.destroy(),this.catalog=null),this.off(D),this._timers=null,this._spec=null,this._history=null,this._movie=null};var R=function(){function t(){e(this,t),springroll.ApplicationPlugin.call(this,10),this.setup=t.prototype.setup,this.teardown=t.prototype.teardown}return n(t,[{key:"setup",value:function(){this.analyticsEmitter=new P(!0),this.once("configLoaded",function(t){t.spec&&(this.analyticsEmitter.addMap(t.specDictionary||null),this.analyticsEmitter.spec=t.spec)}),this.analyticsEmitter.on("learningEvent",function(t){t.play_options=this.playOptions,this.container&&this.container.send("learningEvent",t),this.trigger("learningEvent",t)}.bind(this))}},{key:"teardown",value:function(){this.analyticsEmitter&&(this.analyticsEmitter.destroy(),this.analyticsEmitter=null)}}]),t}();!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('@charset "UTF-8";\n.logging-panel .accordion .accordion-trigger {\n  cursor: pointer; }\n  .logging-panel .accordion .accordion-trigger.closed .arrow:before {\n    content: ""; }\n  .logging-panel .accordion .accordion-trigger.closed .arrow.reversed:before {\n    content: ""; }\n  .logging-panel .accordion .accordion-trigger .arrow:before {\n    content: ""; }\n\n.logging-panel .accordion .accordion-content.closed {\n  display: none; }\n\n#learning-spec header.event-header, #learning-events header.event-header {\n  font-size: 1.2em;\n  color: white; }\n  #learning-spec header.event-header .code, #learning-spec header.event-header .event-name, #learning-events header.event-header .code, #learning-events header.event-header .event-name {\n    padding: 0.5em;\n    text-align: center; }\n  #learning-spec header.event-header .code, #learning-events header.event-header .code {\n    background-color: #66a743; }\n  #learning-spec header.event-header .event-name, #learning-events header.event-header .event-name {\n    background-color: #9bcb3c; }\n  #learning-spec header.event-header .event-name .arrow, #learning-events header.event-header .event-name .arrow {\n    float: right; }\n\n#learning-spec header.event-header.disabled .code, #learning-events header.event-header.disabled .code {\n  background-color: #71818e; }\n\n#learning-spec header.event-header.disabled .event-name, #learning-events header.event-header.disabled .event-name {\n  background-color: #b5b5b6; }\n\n#learning-spec header.event-header.error .code, #learning-events header.event-header.error .code {\n  background-color: #b31e56; }\n\n#learning-spec header.event-header.error .event-name, #learning-events header.event-header.error .event-name {\n  background-color: #c94a7d; }\n\n#learning-spec div.argument-view, #learning-events div.argument-view {\n  padding: 0.5em;\n  background-color: #c5e3ea;\n  font-style: italic;\n  color: black; }\n  #learning-spec div.argument-view .arrow, #learning-events div.argument-view .arrow {\n    font-style: initial;\n    color: #0a6ab2; }\n\n.logging-container#learning-spec p.event-data {\n  margin: 0.75em;\n  font-size: 13px; }\n\n.logging-container#learning-spec div.argument-view {\n  text-transform: uppercase; }\n\n.logging-container#learning-spec div.spec-argument {\n  padding: 0.5em 1em;\n  background-color: #ddf2f8; }\n  .logging-container#learning-spec div.spec-argument p.parameter-description {\n    margin: 0.5em 0 0 0; }\n\n#learning-events dl.element-data {\n  padding-left: 5px; }\n\n#learning-events dd.is-json {\n  margin: 0; }\n  #learning-events dd.is-json pre.is-json-data {\n    padding-left: 40px;\n    margin: 0;\n    max-height: 75vh; }\n'),new R}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var i=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n)for(var r in i[(e+="_")+"constructor"]=n.constructor,n)i.hasOwnProperty(r)&&"function"==typeof n[r]&&(i[e+r]=n[r]);return t},this.createjs=this.createjs||{},createjs.deprecate=function(t,e){"use strict";return function(){var i="Deprecated property or method '"+e+"'. See docs for info.";return console&&(console.warn?console.warn(i):console.log(i)),t&&t.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n,r=(n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return r&&this.removeEventListener(t,e,i),(r=n[t])?r.push(e):n[t]=[e],e},e.on=function(t,e,i,n,r,o){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,r),n&&t.remove()},o)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var r=n[t];if(r)for(var o=0,s=r.length;s>o;o++)if(r[o]==e){1==s?delete n[t]:r.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,i){if("string"==typeof t){var n=this._listeners;if(!(e||n&&n[t]))return!0;t=new createjs.Event(t,e,i)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var r=this,o=[r];r.parent;)o.push(r=r.parent);var s,a=o.length;for(s=a-1;s>=0&&!t.propagationStopped;s--)o[s]._dispatchEvent(t,1+(0==s));for(s=1;a>s&&!t.propagationStopped;s++)o[s]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n,r=2>=e?this._captureListeners:this._listeners;if(t&&r&&(n=r[t.type])&&(i=n.length)){try{t.currentTarget=this}catch(t){}try{t.eventPhase=0|e}catch(t){}t.removed=!1,n=n.slice();for(var o=0;i>o&&!t.immediatePropagationStopped;o++){var s=n[o];s.handleEvent?s.handleEvent(t):s(t),t.removed&&(this.off(t.type,s,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t._setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.setInterval=createjs.deprecate(t._setInterval,"Ticker.setInterval"),t._getInterval=function(){return t._interval},t.getInterval=createjs.deprecate(t._getInterval,"Ticker.getInterval"),t._setFPS=function(e){t._setInterval(1e3/e)},t.setFPS=createjs.deprecate(t._setFPS,"Ticker.setFPS"),t._getFPS=function(){return 1e3/t._interval},t.getFPS=createjs.deprecate(t._getFPS,"Ticker.getFPS");try{Object.defineProperties(t,{interval:{get:t._getInterval,set:t._setInterval},framerate:{get:t._getFPS,set:t._setFPS}})}catch(t){console.log(t)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=t._pausedTime=0,t._inited=!1},t.getMeasuredTickTime=function(e){var i=0,n=t._tickTimes;if(!n||n.length<1)return-1;e=Math.min(n.length,e||0|t._getFPS());for(var r=0;e>r;r++)i+=n[r];return i/e},t.getMeasuredFPS=function(e){var i=t._times;return!i||i.length<2?-1:(e=Math.min(i.length-1,e||0|t._getFPS()),1e3/((i[0]-i[e])/e))},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode;if(e==t.RAF_SYNCHED||e==t.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return t._timerId=i(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,i=t._getTime(),n=i-t._lastTime;if(t._lastTime=i,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=n),t.hasEventListener("tick")){var r=new createjs.Event("tick"),o=t.maxDelta;r.delta=o&&n>o?o:n,r.paused=e,r.time=i,r.runTime=i-t._pausedTime,t.dispatchEvent(r)}for(t._tickTimes.unshift(t._getTime()-i);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(i);t._times.length>100;)t._times.pop()};var e=window,i=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow;t._getTime=function(){return(i&&i.call(e.performance)||(new Date).getTime())-t._startTime},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,t&&(this.useTicks=!!t.useTicks,this.ignoreGlobalPause=!!t.ignoreGlobalPause,this.loop=!0===t.loop?-1:t.loop||0,this.reversed=!!t.reversed,this.bounce=!!t.bounce,this.timeScale=t.timeScale||1,t.onChange&&this.addEventListener("change",t.onChange),t.onComplete&&this.addEventListener("complete",t.onComplete))}var e=createjs.extend(t,createjs.EventDispatcher);e._setPaused=function(t){return createjs.Tween._register(this,t),this},e.setPaused=createjs.deprecate(e._setPaused,"AbstractTween.setPaused"),e._getPaused=function(){return this._paused},e.getPaused=createjs.deprecate(e._getPaused,"AbstactTween.getPaused"),e._getCurrentLabel=function(t){var e=this.getLabels();null==t&&(t=this.position);for(var i=0,n=e.length;n>i&&!(t<e[i].position);i++);return 0===i?null:e[i-1].label},e.getCurrentLabel=createjs.deprecate(e._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(e,{paused:{set:e._setPaused,get:e._getPaused},currentLabel:{get:e._getCurrentLabel}})}catch(t){}e.advance=function(t,e){this.setPosition(this.rawPosition+t*this.timeScale,e)},e.setPosition=function(t,e,i,n){var r=this.duration,o=this.loop,s=this.rawPosition,a=0,c=0,u=!1;if(0>t&&(t=0),0===r){if(u=!0,-1!==s)return u}else{if(c=t-(a=t/r|0)*r,(u=-1!==o&&t>=o*r+r)&&(t=(c=r)*(a=o)+r),t===s)return u;!this.reversed!=!(this.bounce&&a%2)&&(c=r-c)}this.position=c,this.rawPosition=t,this._updatePosition(i,u),u&&(this.paused=!0),n&&n(this),e||this._runActions(s,t,i,!i&&-1===s),this.dispatchEvent("change"),u&&this.dispatchEvent("complete")},e.calculatePosition=function(t){var e=this.duration,i=this.loop,n=0,r=0;return 0===e?0:(-1!==i&&t>=i*e+e?(r=e,n=i):0>t?r=0:r=t-(n=t/e|0)*e,!this.reversed!=!(this.bounce&&n%2)?e-r:r)},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var i in e)t.push({label:i,position:e[i]});t.sort(function(t,e){return t.position-e.position})}return t},e.setLabels=function(t){this._labels=t,this._labelList=null},e.addLabel=function(t,e){this._labels||(this._labels={}),this._labels[t]=e;var i=this._labelList;if(i){for(var n=0,r=i.length;r>n&&!(e<i[n].position);n++);i.splice(n,0,{label:t,position:e})}},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.resolve=function(t){var e=Number(t);return isNaN(e)&&(e=this._labels&&this._labels[t]),e},e.toString=function(){return"[AbstractTween]"},e.clone=function(){throw"AbstractTween can not be cloned."},e._init=function(t){t&&t.paused||(this.paused=!1),t&&null!=t.position&&this.setPosition(t.position)},e._updatePosition=function(){},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e,!1,!0)},e._runActions=function(t,e,i,n){if(this._actionHead||this.tweens){var r,o,s,a,c=this.duration,u=this.reversed,l=this.bounce,h=this.loop;if(0===c?(r=o=s=a=0,u=l=!1):(s=t-(r=t/c|0)*c,a=e-(o=e/c|0)*c),-1!==h&&(o>h&&(a=c,o=h),r>h&&(s=c,r=h)),i)return this._runActionsRange(a,a,i,n);if(r!==o||s!==a||i||n){-1===r&&(r=s=0);var _=e>=t,p=r;do{var d=p===r?s:_?0:c,f=p===o?a:_?c:0;if(!u!=!(l&&p%2)&&(d=c-d,f=c-f),l&&p!==r&&d===f);else if(this._runActionsRange(d,f,i,n||p!==r&&!l))return!0;n=!1}while(_&&++p<=o||!_&&--p>=o)}}},e._runActionsRange=function(){},createjs.AbstractTween=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(i,n){this.AbstractTween_constructor(n),this.pluginData=null,this.target=i,this.passive=!1,this._stepHead=new e(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,n&&(this.pluginData=n.pluginData,n.override&&t.removeTweens(i)),this.pluginData||(this.pluginData={}),this._init(n)}function e(t,e,i,n,r,o){this.next=null,this.prev=t,this.t=e,this.d=i,this.props=n,this.ease=r,this.passive=o,this.index=t?t.index+1:0}var i=createjs.extend(t,createjs.AbstractTween);t.IGNORE={},t._tweens=[],t._plugins=null,t._tweenHead=null,t._tweenTail=null,t.get=function(e,i){return new t(e,i)},t.tick=function(e,i){for(var n=t._tweenHead;n;){var r=n._next;i&&!n.ignoreGlobalPause||n._paused||n.advance(n.useTicks?1:e),n=r}},t.handleEvent=function(t){"tick"===t.type&&this.tick(t.delta,t.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var i=t._tweenHead;i;){var n=i._next;i.target===e&&t._register(i,!0),i=n}e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e=t._tweenHead;e;){var i=e._next;e._paused=!0,e.target&&(e.target.tweenjs_count=0),e._next=e._prev=null,e=i}t._tweenHead=t._tweenTail=null},t.hasActiveTweens=function(e){return e?!!e.tweenjs_count:!!t._tweenHead},t._installPlugin=function(e){for(var i=e.priority=e.priority||0,n=t._plugins=t._plugins||[],r=0,o=n.length;o>r&&!(i<n[r].priority);r++);n.splice(r,0,e)},t._register=function(e,i){var n=e.target;if(!i&&e._paused){n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1);var r=t._tweenTail;r?(t._tweenTail=r._next=e,e._prev=r):t._tweenHead=t._tweenTail=e,!t._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",t),t._inited=!0)}else if(i&&!e._paused){n&&n.tweenjs_count--;var o=e._next,s=e._prev;o?o._prev=s:t._tweenTail=s,s?s._next=o:t._tweenHead=o,e._next=e._prev=null}e._paused=i},i.wait=function(t,e){return t>0&&this._addStep(+t,this._stepTail.props,null,e),this},i.to=function(t,e,i){(null==e||0>e)&&(e=0);var n=this._addStep(+e,null,i);return this._appendProps(t,n),this},i.label=function(t){return this.addLabel(t,this.duration),this},i.call=function(t,e,i){return this._addAction(i||this.target,t,e||[this])},i.set=function(t,e){return this._addAction(e||this.target,this._set,[t])},i.play=function(t){return this._addAction(t||this,this._set,[{paused:!1}])},i.pause=function(t){return this._addAction(t||this,this._set,[{paused:!0}])},i.w=i.wait,i.t=i.to,i.c=i.call,i.s=i.set,i.toString=function(){return"[Tween]"},i.clone=function(){throw"Tween can not be cloned."},i._addPlugin=function(t){var e=this._pluginIds||(this._pluginIds={}),i=t.ID;if(i&&!e[i]){e[i]=!0;for(var n=this._plugins||(this._plugins=[]),r=t.priority||0,o=0,s=n.length;s>o;o++)if(r<n[o].priority)return void n.splice(o,0,t);n.push(t)}},i._updatePosition=function(t,e){var i=this._stepHead.next,n=this.position,r=this.duration;if(this.target&&i){for(var o=i.next;o&&o.t<=n;)o=(i=i.next).next;var s=e?0===r?1:n/r:(n-i.t)/i.d;this._updateTargetProps(i,s,e)}this._stepPosition=i?n-i.t:0},i._updateTargetProps=function(e,i,n){if(!(this.passive=!!e.passive)){var r,o,s,a,c=e.prev.props,u=e.props;(a=e.ease)&&(i=a(i,0,1,1));var l=this._plugins;t:for(var h in c){if(r=(o=c[h])!==(s=u[h])&&"number"==typeof o?o+(s-o)*i:i>=1?s:o,l)for(var _=0,p=l.length;p>_;_++){var d=l[_].change(this,e,h,r,i,n);if(d===t.IGNORE)continue t;void 0!==d&&(r=d)}this.target[h]=r}}},i._runActionsRange=function(t,e,i,n){var r=t>e,o=r?this._actionTail:this._actionHead,s=e,a=t;r&&(s=t,a=e);for(var c=this.position;o;){var u=o.t;if((u===e||u>a&&s>u||n&&u===t)&&(o.funct.apply(o.scope,o.params),c!==this.position))return!0;o=r?o.prev:o.next}},i._appendProps=function(e,i,n){var r,o,s,a,c,u=this._stepHead.props,l=this.target,h=t._plugins,_=i.prev,p=_.props,d=i.props||(i.props=this._cloneProps(p)),f={};for(r in e)if(e.hasOwnProperty(r)&&(f[r]=d[r]=e[r],void 0===u[r])){if(a=void 0,h)for(o=h.length-1;o>=0;o--)if(void 0!==(s=h[o].init(this,r,a))&&(a=s),a===t.IGNORE){delete d[r],delete f[r];break}a!==t.IGNORE&&(void 0===a&&(a=l[r]),p[r]=void 0===a?null:a)}for(r in f){s=e[r];for(var b,m=_;(b=m)&&(m=b.prev);)if(m.props!==b.props){if(void 0!==m.props[r])break;m.props[r]=p[r]}}if(!1!==n&&(h=this._plugins))for(o=h.length-1;o>=0;o--)h[o].step(this,i,f);(c=this._injected)&&(this._injected=null,this._appendProps(c,i,!1))},i._injectProp=function(t,e){(this._injected||(this._injected={}))[t]=e},i._addStep=function(t,i,n,r){var o=new e(this._stepTail,this.duration,t,i,n,r||!1);return this.duration+=t,this._stepTail=this._stepTail.next=o},i._addAction=function(t,e,i){var n=new function(t,e,i,n,r){this.next=null,this.prev=t,this.t=e,this.d=0,this.scope=i,this.funct=n,this.params=r}(this._actionTail,this.duration,t,e,i);return this._actionTail?this._actionTail.next=n:this._actionHead=n,this._actionTail=n,this},i._set=function(t){for(var e in t)this[e]=t[e]},i._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},createjs.Tween=createjs.promote(t,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){var e,i;t instanceof Array||null==t&&arguments.length>1?(e=t,i=arguments[1],t=arguments[2]):t&&(e=t.tweens,i=t.labels),this.AbstractTween_constructor(t),this.tweens=[],e&&this.addTween.apply(this,e),this.setLabels(i),this._init(t)}var e=createjs.extend(t,createjs.AbstractTween);e.addTween=function(t){t._parent&&t._parent.removeTween(t);var e=arguments.length;if(e>1){for(var i=0;e>i;i++)this.addTween(arguments[i]);return arguments[e-1]}if(0===e)return null;this.tweens.push(t),t._parent=this,t.paused=!0;var n=t.duration;return t.loop>0&&(n*=t.loop+1),n>this.duration&&(this.duration=n),this.rawPosition>=0&&t.setPosition(this.rawPosition),t},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;e>n;n++)i=i&&this.removeTween(arguments[n]);return i}if(0===e)return!0;var r=this.tweens;for(n=r.length;n--;)if(r[n]===t)return r.splice(n,1),t._parent=null,t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.updateDuration=function(){this.duration=0;for(var t=0,e=this.tweens.length;e>t;t++){var i=this.tweens[t],n=i.duration;i.loop>0&&(n*=i.loop+1),n>this.duration&&(this.duration=n)}},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._updatePosition=function(t){for(var e=this.position,i=0,n=this.tweens.length;n>i;i++)this.tweens[i].setPosition(e,!0,t)},e._runActionsRange=function(t,e,i,n){for(var r=this.position,o=0,s=this.tweens.length;s>o;o++)if(this.tweens[o]._runActions(t,e,i,n),r!==this.position)return!0},createjs.Timeline=createjs.promote(t,"AbstractTween")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ease cannot be instantiated."}t.linear=function(t){return t},t.none=t.linear,t.get=function(t){return-1>t?t=-1:t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return.5>e?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var r=e/i*Math.asin(1/t);return-t*Math.pow(2,10*(n-=1))*Math.sin((n-r)*i/e)}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var r=e/i*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-r)*i/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var i=2*Math.PI;return function(n){var r=e/i*Math.asin(1/t);return(n*=2)<1?-.5*t*Math.pow(2,10*(n-=1))*Math.sin((n-r)*i/e):t*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*i/e)*.5+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),createjs.Ease=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"MotionGuidePlugin cannot be instantiated."}var e=t;e.priority=0,e.ID="MotionGuide",e.install=function(){return createjs.Tween._installPlugin(t),createjs.Tween.IGNORE},e.init=function(t,i){"guide"==i&&t._addPlugin(e)},e.step=function(t,i,n){for(var r in n)if("guide"===r){var o=i.props.guide,s=e._solveGuideData(n.guide,o);o.valid=!s;var a=o.endData;if(t._injectProp("x",a.x),t._injectProp("y",a.y),s||!o.orient)break;var c=void 0===i.prev.props.rotation?t.target.rotation||0:i.prev.props.rotation;if(o.startOffsetRot=c-o.startData.rotation,"fixed"==o.orient)o.endAbsRot=a.rotation+o.startOffsetRot,o.deltaRotation=0;else{var u=void 0===n.rotation?t.target.rotation||0:n.rotation,l=u-o.endData.rotation-o.startOffsetRot,h=l%360;switch(o.endAbsRot=u,o.orient){case"auto":o.deltaRotation=l;break;case"cw":o.deltaRotation=(h+360)%360+360*Math.abs(l/360|0);break;case"ccw":o.deltaRotation=(h-360)%360+-360*Math.abs(l/360|0)}}t._injectProp("rotation",o.endAbsRot)}},e.change=function(t,i,n,r,o){var s=i.props.guide;if(s&&i.props!==i.prev.props&&s!==i.prev.props.guide)return"guide"===n&&!s.valid||"x"==n||"y"==n||"rotation"===n&&s.orient?createjs.Tween.IGNORE:void e._ratioToPositionData(o,s,t.target)},e.debug=function(t,i,n){t=t.guide||t;var r=e._findPathProblems(t);if(r&&console.error("MotionGuidePlugin Error found: \n"+r),!i)return r;var o=t.path,s=o.length;for(i.save(),i.lineCap="round",i.lineJoin="miter",i.beginPath(),i.moveTo(o[0],o[1]),l=2;s>l;l+=4)i.quadraticCurveTo(o[l],o[l+1],o[l+2],o[l+3]);i.strokeStyle="black",i.lineWidth=4.5,i.stroke(),i.strokeStyle="white",i.lineWidth=3,i.stroke(),i.closePath();var a=n.length;if(n&&a){var c={},u={};e._solveGuideData(t,c);for(var l=0;a>l;l++)c.orient="fixed",e._ratioToPositionData(n[l],c,u),i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(u.x+9*Math.cos(.0174533*u.rotation),u.y+9*Math.sin(.0174533*u.rotation)),i.strokeStyle="black",i.lineWidth=4.5,i.stroke(),i.strokeStyle="red",i.lineWidth=3,i.stroke(),i.closePath()}return i.restore(),r},e._solveGuideData=function(t,i){var n;if(n=e.debug(t))return n;var r=i.path=t.path;i.orient=t.orient,i.subLines=[],i.totalLength=0,i.startOffsetRot=0,i.deltaRotation=0,i.startData={ratio:0},i.endData={ratio:1},i.animSpan=1;var o,s,a,c,u,l,h,_,p,d=r.length,f={};for(o=r[0],s=r[1],h=2;d>h;h+=4){a=r[h],c=r[h+1],u=r[h+2],l=r[h+3];var b={weightings:[],estLength:0,portion:0},m=o,g=s;for(_=1;10>=_;_++){e._getParamsForCurve(o,s,a,c,u,l,_/10,!1,f);var y=f.x-m,v=f.y-g;p=Math.sqrt(y*y+v*v),b.weightings.push(p),b.estLength+=p,m=f.x,g=f.y}for(i.totalLength+=b.estLength,_=0;10>_;_++)p=b.estLength,b.weightings[_]=b.weightings[_]/p;i.subLines.push(b),o=u,s=l}p=i.totalLength;var w=i.subLines.length;for(h=0;w>h;h++)i.subLines[h].portion=i.subLines[h].estLength/p;var x=isNaN(t.start)?0:t.start,T=isNaN(t.end)?1:t.end;e._ratioToPositionData(x,i,i.startData),e._ratioToPositionData(T,i,i.endData),i.startData.ratio=x,i.endData.ratio=T,i.animSpan=i.endData.ratio-i.startData.ratio},e._ratioToPositionData=function(t,i,n){var r,o,s,a,c,u=i.subLines,l=0,h=t*i.animSpan+i.startData.ratio;for(o=u.length,r=0;o>r;r++){if(l+(a=u[r].portion)>=h){c=r;break}l+=a}void 0===c&&(c=o-1,l-=a);var _=u[c].weightings,p=a;for(o=_.length,r=0;o>r&&!(l+(a=_[r]*p)>=h);r++)l+=a;c=4*c+2,s=r/10+(h-l)/a*.1;var d=i.path;return e._getParamsForCurve(d[c-2],d[c-1],d[c],d[c+1],d[c+2],d[c+3],s,i.orient,n),i.orient&&(t>=.99999&&1.00001>=t&&void 0!==i.endAbsRot?n.rotation=i.endAbsRot:n.rotation+=i.startOffsetRot+t*i.deltaRotation),n},e._getParamsForCurve=function(t,e,i,n,r,o,s,a,c){var u=1-s;c.x=u*u*t+2*u*s*i+s*s*r,c.y=u*u*e+2*u*s*n+s*s*o,a&&(c.rotation=57.2957795*Math.atan2((n-e)*u+(o-n)*s,(i-t)*u+(r-i)*s))},e._findPathProblems=function(t){var e=t.path,i=e&&e.length||0;if(6>i||(i-2)%4){var n="\tCannot parse 'path' array due to invalid number of entries in path. ";return n+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",(n+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n")+"Only [ "+i+" ] values found. Expected: "+Math.max(4*Math.ceil((i-2)/4)+2,6)}for(var r=0;i>r;r++)if(isNaN(e[r]))return"All data in path array must be numeric";var o=t.start;if(isNaN(o)&&void 0!==o)return"'start' out of bounds. Expected 0 to 1, got: "+o;var s=t.end;if(isNaN(s)&&void 0!==s)return"'end' out of bounds. Expected 0 to 1, got: "+s;var a=t.orient;return a&&"fixed"!=a&&"auto"!=a&&"cw"!=a&&"ccw"!=a?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+a:void 0},createjs.MotionGuidePlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.TweenJS=createjs.TweenJS||{};t.version="1.0.0",t.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PIXI=t()}}(function(){return function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}}()({1:[function(t,e,i){"use strict";"use restrict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}i.INT_BITS=32,i.INT_MAX=2147483647,i.INT_MIN=-1<<31,i.sign=function(t){return(t>0)-(t<0)},i.abs=function(t){var e=t>>31;return(t^e)-e},i.min=function(t,e){return e^(t^e)&-(t<e)},i.max=function(t,e){return t^(t^e)&-(t<e)},i.isPow2=function(t){return!(t&t-1||!t)},i.log2=function(t){var e,i;return e=(t>65535)<<4,e|=i=((t>>>=e)>255)<<3,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1},i.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},i.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},i.countTrailingZeros=n,i.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},i.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},i.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var r=new Array(256);!function(t){for(var e=0;e<256;++e){var i=e,n=e,r=7;for(i>>>=1;i;i>>>=1)n<<=1,n|=1&i,--r;t[e]=n<<r&255}}(r),i.reverse=function(t){return r[255&t]<<24|r[t>>>8&255]<<16|r[t>>>16&255]<<8|r[t>>>24&255]},i.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},i.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},i.interleave3=function(t,e,i){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<2},i.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},i.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],2:[function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,o,a,c,u,l,_,p=e&&e.length,d=p?e[0]*i:t.length,f=r(t,0,d,i,!0),b=[];if(!f||f.next===f.prev)return b;if(p&&(f=h(t,e,f,i)),t.length>80*i){n=a=t[0],o=c=t[1];for(var m=i;m<d;m+=i)u=t[m],l=t[m+1],u<n&&(n=u),l<o&&(o=l),u>a&&(a=u),l>c&&(c=l);_=0!==(_=Math.max(a-n,c-o))?1/_:0}return s(f,b,i,n,o,_),b}function r(t,e,i,n,r){var o,s;if(r===E(t,e,i,n)>0)for(o=e;o<i;o+=n)s=S(o,t[o],t[o+1],s);else for(o=i-n;o>=e;o-=n)s=S(o,t[o],t[o+1],s);return s&&v(s,s.next)&&(A(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!v(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(A(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function s(t,e,i,n,r,h,_){if(t){!_&&h&&d(t,n,r,h);for(var p,f,b=t;t.prev!==t.next;)if(p=t.prev,f=t.next,h?c(t,n,r,h):a(t))e.push(p.i/i),e.push(t.i/i),e.push(f.i/i),A(t),t=f.next,b=f.next;else if((t=f)===b){_?1===_?s(t=u(t,e,i),e,i,n,r,h,2):2===_&&l(t,e,i,n,r,h):s(o(t),e,i,n,r,h,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(y(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(m(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&y(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function c(t,e,i,n){var r=t.prev,o=t,s=t.next;if(y(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,c=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,u=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,l=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=f(a,c,e,i,n),_=f(u,l,e,i,n),p=t.prevZ,d=t.nextZ;p&&p.z>=h&&d&&d.z<=_;){if(p!==t.prev&&p!==t.next&&m(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&m(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&m(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;d&&d.z<=_;){if(d!==t.prev&&d!==t.next&&m(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!v(r,o)&&w(r,n,n.next,o)&&x(r,o)&&x(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),A(n),A(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,i,n,r,a){var c=t;do{for(var u=c.next.next;u!==c.prev;){if(c.i!==u.i&&g(c,u)){var l=T(c,u);return c=o(c,c.next),l=o(l,l.next),s(c,e,i,n,r,a),void s(l,e,i,n,r,a)}u=u.next}c=c.next}while(c!==t)}function h(t,e,i,n){var s,a,c,u=[];for(s=0,a=e.length;s<a;s++)(c=r(t,e[s]*n,s<a-1?e[s+1]*n:t.length,n,!1))===c.next&&(c.steiner=!0),u.push(b(c));for(u.sort(_),s=0;s<u.length;s++)p(u[s],i),i=o(i,i.next);return i}function _(t,e){return t.x-e.x}function p(t,e){if(e=function(t,e){var i,n=e,r=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s){if(s=a,a===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===s)return i.prev;var c,u=i,l=i.x,h=i.y,_=1/0;for(n=i.next;n!==u;)r>=n.x&&n.x>=l&&r!==n.x&&m(o<h?r:s,o,l,h,o<h?s:r,o,n.x,n.y)&&((c=Math.abs(o-n.y)/(r-n.x))<_||c===_&&n.x>i.x)&&x(n,t)&&(i=n,_=c),n=n.next;return i}(t,e)){var i=T(e,t);o(i,i.next)}}function d(t,e,i,n){var r=t;do{null===r.z&&(r.z=f(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,o,s,a,c,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,n=i,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(c=u;a>0||c>0&&n;)0!==a&&(0===c||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,c--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,u*=2}while(s>1)}(r)}function f(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function b(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function m(t,e,i,n,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(r-s)*(n-a)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&w(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)}function y(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,i,n){return!!(v(t,e)&&v(i,n)||v(t,n)&&v(i,e))||y(t,e,i)>0!=y(t,e,n)>0&&y(i,n,t)>0!=y(i,n,e)>0}function x(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function T(t,e){var i=new C(t.i,t.x,t.y),n=new C(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function S(t,e,i,n){var r=new C(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function C(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(t,e,i,n){for(var r=0,o=e,s=i-n;o<i;o+=n)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}e.exports=n,e.exports.default=n,n.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,s=Math.abs(E(t,0,o,i));if(r)for(var a=0,c=e.length;a<c;a++){var u=e[a]*i,l=a<c-1?e[a+1]*i:t.length;s-=Math.abs(E(t,u,l,i))}var h=0;for(a=0;a<n.length;a+=3){var _=n[a]*i,p=n[a+1]*i,d=n[a+2]*i;h+=Math.abs((t[_]-t[d])*(t[p+1]-t[_+1])-(t[_]-t[p])*(t[d+1]-t[_+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},{}],3:[function(t,e,i){"use strict";function n(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(){this._events=new n,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)s.call(t,e)&&i.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},o.prototype.listeners=function(t,e){var i=a?a+t:t,n=this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},o.prototype.emit=function(t,e,i,n,r,o){var s=a?a+t:t;if(!this._events[s])return!1;var c,u,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,r),!0;case 6:return l.fn.call(l.context,e,i,n,r,o),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var _,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,n);break;default:if(!c)for(_=1,c=new Array(h-1);_<h;_++)c[_-1]=arguments[_];l[u].fn.apply(l[u].context,c)}}return!0},o.prototype.on=function(t,e,i){var n=new r(e,i||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.once=function(t,e,i){var n=new r(e,i||this,!0),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.removeListener=function(t,e,i,r){var o=a?a+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||i&&s.context!==i||(0==--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==e||r&&!s[c].once||i&&s[c].context!==i)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new n:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,void 0!==e&&(e.exports=o)},{}],4:[function(t,e,i){!function(t){function i(t,e){return t.test(e)}function n(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),n=e.split("[FBAN");void 0!==n[1]&&(e=n[0]),void 0!==(n=e.split("Twitter"))[1]&&(e=n[0]);var g={apple:{phone:i(r,e)&&!i(h,e),ipod:i(o,e),tablet:!i(r,e)&&i(s,e)&&!i(h,e),device:(i(r,e)||i(o,e)||i(s,e))&&!i(h,e)},amazon:{phone:i(u,e),tablet:!i(u,e)&&i(l,e),device:i(u,e)||i(l,e)},android:{phone:!i(h,e)&&i(u,e)||!i(h,e)&&i(a,e),tablet:!i(h,e)&&!i(u,e)&&!i(a,e)&&(i(l,e)||i(c,e)),device:!i(h,e)&&(i(u,e)||i(l,e)||i(a,e)||i(c,e))},windows:{phone:i(h,e),tablet:i(_,e),device:i(h,e)||i(_,e)},other:{blackberry:i(p,e),blackberry10:i(d,e),opera:i(f,e),firefox:i(m,e),chrome:i(b,e),device:i(p,e)||i(d,e)||i(f,e)||i(m,e)||i(b,e)}};return g.any=g.apple.device||g.android.device||g.windows.device||g.other.device,g.phone=g.apple.phone||g.android.phone||g.windows.phone,g.tablet=g.apple.tablet||g.android.tablet||g.windows.tablet,g}var r=/iPhone/i,o=/iPod/i,s=/iPad/i,a=/\bAndroid(?:.+)Mobile\b/i,c=/Android/i,u=/\bAndroid(?:.+)SD4930UR\b/i,l=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,h=/Windows Phone/i,_=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,d=/BB10/i,f=/Opera Mini/i,b=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/\Mobile(?:.+)Firefox\b/i;void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=n:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=n():t.isMobile=n()}(this)},{}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i,r){void 0===i&&(i=!1),n(this,t),this._fn=e,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return o(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){n(this,t),this._head=this._tail=void 0}return o(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return r(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return r(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,i.default=a,e.exports=i.default},{}],6:[function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))r.call(i,u)&&(a[u]=i[u]);if(n){s=n(i);for(var l=0;l<s.length;l++)o.call(i,s[l])&&(a[s[l]]=i[s[l]])}}return a}},{}],7:[function(t,e,i){"use strict";e.exports=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=i.parser[e.strictMode?"strict":"loose"].exec(t),r={},o=14;o--;)r[i.key[o]]=n[o]||"";return r[i.q.name]={},r[i.key[12]].replace(i.q.parser,function(t,e,n){e&&(r[i.q.name][e]=n)}),r}},{}],8:[function(t,e,i){(function(t){function e(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};i.resolve=function(){for(var i="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(i=s+"/"+i,r="/"===s.charAt(0))}return i=e(n(i.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+i||"."},i.normalize=function(t){var r=i.isAbsolute(t),o="/"===s(t,-1);return(t=e(n(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},i.isAbsolute=function(t){return"/"===t.charAt(0)},i.join=function(){var t=Array.prototype.slice.call(arguments,0);return i.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},i.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=i.resolve(t).substr(1),e=i.resolve(e).substr(1);for(var r=n(t.split("/")),o=n(e.split("/")),s=Math.min(r.length,o.length),a=s,c=0;c<s;c++)if(r[c]!==o[c]){a=c;break}var u=[];for(c=a;c<r.length;c++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},i.sep="/",i.delimiter=":",i.dirname=function(t){var e=o(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},i.basename=function(t,e){var i=o(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},i.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,t("_process"))},{_process:26}],9:[function(t,e,i){var n=new ArrayBuffer(0),r=function(t,e,i,r){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=r||t.STATIC_DRAW,this.data=n,i&&this.upload(i),this._updateID=0};r.prototype.upload=function(t,e,i){i||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,i){return new r(t,t.ARRAY_BUFFER,e,i)},r.createIndexBuffer=function(t,e,i){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,i)},r.create=function(t,e,i,n){return new r(t,e,i,n)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=r},{}],10:[function(t,e,i){var n=t("./GLTexture"),r=function(t,e,i){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=i||100};r.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},r.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},r.prototype.clear=function(t,e,i,n){this.bind();var r=this.gl;r.clearColor(t,e,i,n),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)},r.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},r.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},r.prototype.resize=function(t,e){var i=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencil),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t,e))},r.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},r.createRGBA=function(t,e,i,o){var s=n.fromData(t,null,e,i);s.enableNearestScaling(),s.enableWrapClamp();var a=new r(t,e,i);return a.enableTexture(s),a.unbind(),a},r.createFloat32=function(t,e,i,o){var s=new n.fromData(t,o,e,i);s.enableNearestScaling(),s.enableWrapClamp();var a=new r(t,e,i);return a.enableTexture(s),a.unbind(),a},e.exports=r},{"./GLTexture":12}],11:[function(t,e,i){var n=t("./shader/compileProgram"),r=t("./shader/extractAttributes"),o=t("./shader/extractUniforms"),s=t("./shader/setPrecision"),a=t("./shader/generateUniformAccessObject"),c=function(t,e,i,c,u){this.gl=t,c&&(e=s(e,c),i=s(i,c)),this.program=n(t,e,i,u),this.attributes=r(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};c.prototype.bind=function(){return this.gl.useProgram(this.program),this},c.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=c},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(t,e,i){var n=function(t,e,i,n,r){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=i||-1,this.format=n||t.RGBA,this.type=r||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var i=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||i!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=i,this.height=n};var r=!1;n.prototype.uploadData=function(t,e,i){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!r){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");r=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||i!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,i,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,i,this.format,this.type,t||null),this.width=e,this.height=i},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,i){var r=new n(t);return r.premultiplyAlpha=i||!1,r.upload(e),r},n.fromData=function(t,e,i,r){var o=new n(t);return o.uploadData(e,i,r),o},e.exports=n},{}],13:[function(t,e,i){function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var i=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(i),attribState:new Array(i)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var r=t("./setVertexAttribArrays");n.prototype.constructor=n,e.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,i=0;i<this.attributes.length;i++){var n=this.attributes[i];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return r(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,i,n,r,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:i||this.gl.FLOAT,normalized:n||!1,stride:r||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,i){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(i||0)):n.drawArrays(t,i,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(t,e,i){e.exports=function(t,e){var i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!i)throw new Error("This browser does not support webGL. Try using the canvas renderer");return i}},{}],15:[function(t,e,i){var n={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(t,e,i){e.exports=function(t,e,i){var n;if(i){var r=i.tempAttribState,o=i.attribState;for(n=0;n<r.length;n++)r[n]=!1;for(n=0;n<e.length;n++)r[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==r[n]&&(o[n]=r[n],i.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},{}],17:[function(t,e,i){var n=function(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};e.exports=function(t,e,i,r){var o=n(t,t.VERTEX_SHADER,e),s=n(t,t.FRAGMENT_SHADER,i),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),r)for(var c in r)t.bindAttribLocation(a,r[c],c);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},{}],18:[function(t,e,i){var n=function(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e};e.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return n(2*e);case"bvec3":return n(3*e);case"bvec4":return n(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],19:[function(t,e,i){var n=t("./mapType"),r=t("./mapSize"),o=function(t,e,i,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,i||0,n||0)};e.exports=function(t,e){for(var i={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var c=t.getActiveAttrib(e,a),u=n(t,c.type);i[c.name]={type:u,size:r(u),location:t.getAttribLocation(e,c.name),pointer:o}}return i}},{"./mapSize":23,"./mapType":24}],20:[function(t,e,i){var n=t("./mapType"),r=t("./defaultValue");e.exports=function(t,e){for(var i={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),c=a.name.replace(/\[.*?\]/,""),u=n(t,a.type);i[c]={type:u,size:a.size,location:t.getUniformLocation(e,c),value:r(u,a.size)}}return i}},{"./defaultValue":18,"./mapType":24}],21:[function(t,e,i){function n(t,e){return function(i){this.data[t].value=i;var n=this.data[t].location;1===e.size?s[e.type](this.gl,n,i):a[e.type](this.gl,n,i)}}function r(t,e){for(var i=e,n=0;n<t.length-1;n++){var r=i[t[n]]||{data:{}};i[t[n]]=r,i=r}return i}var o=function(t){return function(){return this.data[t].value}},s={float:function(t,e,i){t.uniform1f(e,i)},vec2:function(t,e,i){t.uniform2f(e,i[0],i[1])},vec3:function(t,e,i){t.uniform3f(e,i[0],i[1],i[2])},vec4:function(t,e,i){t.uniform4f(e,i[0],i[1],i[2],i[3])},int:function(t,e,i){t.uniform1i(e,i)},ivec2:function(t,e,i){t.uniform2i(e,i[0],i[1])},ivec3:function(t,e,i){t.uniform3i(e,i[0],i[1],i[2])},ivec4:function(t,e,i){t.uniform4i(e,i[0],i[1],i[2],i[3])},bool:function(t,e,i){t.uniform1i(e,i)},bvec2:function(t,e,i){t.uniform2i(e,i[0],i[1])},bvec3:function(t,e,i){t.uniform3i(e,i[0],i[1],i[2])},bvec4:function(t,e,i){t.uniform4i(e,i[0],i[1],i[2],i[3])},mat2:function(t,e,i){t.uniformMatrix2fv(e,!1,i)},mat3:function(t,e,i){t.uniformMatrix3fv(e,!1,i)},mat4:function(t,e,i){t.uniformMatrix4fv(e,!1,i)},sampler2D:function(t,e,i){t.uniform1i(e,i)}},a={float:function(t,e,i){t.uniform1fv(e,i)},vec2:function(t,e,i){t.uniform2fv(e,i)},vec3:function(t,e,i){t.uniform3fv(e,i)},vec4:function(t,e,i){t.uniform4fv(e,i)},int:function(t,e,i){t.uniform1iv(e,i)},ivec2:function(t,e,i){t.uniform2iv(e,i)},ivec3:function(t,e,i){t.uniform3iv(e,i)},ivec4:function(t,e,i){t.uniform4iv(e,i)},bool:function(t,e,i){t.uniform1iv(e,i)},bvec2:function(t,e,i){t.uniform2iv(e,i)},bvec3:function(t,e,i){t.uniform3iv(e,i)},bvec4:function(t,e,i){t.uniform4iv(e,i)},sampler2D:function(t,e,i){t.uniform1iv(e,i)}};e.exports=function(t,e){var i={data:{}};i.gl=t;for(var s=Object.keys(e),a=0;a<s.length;a++){var c=s[a],u=c.split("."),l=u[u.length-1],h=r(u,i),_=e[c];h.data[l]=_,h.gl=t,Object.defineProperty(h,l,{get:o(l),set:n(l,_)})}return i}},{}],22:[function(t,e,i){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),setPrecision:t("./setPrecision"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(t,e,i){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(t){return n[t]}},{}],24:[function(t,e,i){var n=null,r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(t,e){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var s=i[o];n[t[s]]=r[s]}}return n[e]}},{}],25:[function(t,e,i){e.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},{}],26:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(){f&&p&&(f=!1,p.length?d=p.concat(d):b=-1,d.length&&a())}function a(){if(!f){var t=o(s);f=!0;for(var e=d.length;e;){for(p=d,d=[];++b<e;)p&&p[b].run();b=-1,e=d.length}p=null,f=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,h,_=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,d=[],f=!1,b=-1;_.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new c(t,e)),1!==d.length||f||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=u,_.addListener=u,_.once=u,_.off=u,_.removeListener=u,_.removeAllListeners=u,_.emit=u,_.prependListener=u,_.prependOnceListener=u,_.listeners=function(t){return[]},_.binding=function(t){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(t){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},{}],27:[function(t,e,i){(function(t){!function(n){function r(t){throw new RangeError(R[t])}function o(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function s(t,e){var i=t.split("@"),n="";return i.length>1&&(n=i[0]+"@",t=i[1]),n+o((t=t.replace(M,".")).split("."),e).join(".")}function a(t){for(var e,i,n=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(i=t.charCodeAt(r++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--):n.push(e);return n}function c(t){return o(t,function(t){var e="";return t>65535&&(e+=k((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+k(t)}).join("")}function u(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:v}function l(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function h(t,e,i){var n=0;for(t=i?O(t/S):t>>1,t+=O(t/e);t>I*x>>1;n+=v)t=O(t/I);return O(n+(I+1)*t/(t+T))}function _(t){var e,i,n,o,s,a,l,_,p,d,f=[],b=t.length,m=0,g=C,T=A;for((i=t.lastIndexOf(E))<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&r("not-basic"),f.push(t.charCodeAt(n));for(o=i>0?i+1:0;o<b;){for(s=m,a=1,l=v;o>=b&&r("invalid-input"),((_=u(t.charCodeAt(o++)))>=v||_>O((y-m)/a))&&r("overflow"),m+=_*a,!(_<(p=l<=T?w:l>=T+x?x:l-T));l+=v)a>O(y/(d=v-p))&&r("overflow"),a*=d;T=h(m-s,e=f.length+1,0==s),O(m/e)>y-g&&r("overflow"),g+=O(m/e),m%=e,f.splice(m++,0,g)}return c(f)}function p(t){var e,i,n,o,s,c,u,_,p,d,f,b,m,g,T,S=[];for(b=(t=a(t)).length,e=C,i=0,s=A,c=0;c<b;++c)(f=t[c])<128&&S.push(k(f));for(n=o=S.length,o&&S.push(E);n<b;){for(u=y,c=0;c<b;++c)(f=t[c])>=e&&f<u&&(u=f);for(u-e>O((y-i)/(m=n+1))&&r("overflow"),i+=(u-e)*m,e=u,c=0;c<b;++c)if((f=t[c])<e&&++i>y&&r("overflow"),f==e){for(_=i,p=v;!(_<(d=p<=s?w:p>=s+x?x:p-s));p+=v)T=_-d,g=v-d,S.push(k(l(d+T%g,0))),_=O(T/g);S.push(k(l(_,0))),s=h(i,m,n==o),i=0,++n}++i,++e}return S.join("")}var d="object"==typeof i&&i&&!i.nodeType&&i,f="object"==typeof e&&e&&!e.nodeType&&e,b="object"==typeof t&&t;b.global!==b&&b.window!==b&&b.self!==b||(n=b);var m,g,y=2147483647,v=36,w=1,x=26,T=38,S=700,A=72,C=128,E="-",P=/^xn--/,D=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=v-w,O=Math.floor,k=String.fromCharCode;if(m={version:"1.4.1",ucs2:{decode:a,encode:c},decode:_,encode:p,toASCII:function(t){return s(t,function(t){return D.test(t)?"xn--"+p(t):t})},toUnicode:function(t){return s(t,function(t){return P.test(t)?_(t.slice(4).toLowerCase()):t})}},d&&f)if(e.exports==d)f.exports=m;else for(g in m)m.hasOwnProperty(g)&&(d[g]=m[g]);else n.punycode=m}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,i){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,i,o){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var h,_,p,d,f=t[l].replace(a,"%20"),b=f.indexOf(i);b>=0?(h=f.substr(0,b),_=f.substr(b+1)):(h=f,_=""),p=decodeURIComponent(h),d=decodeURIComponent(_),n(s,p)?r(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],29:[function(t,e,i){"use strict";function n(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,i,a){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var a=encodeURIComponent(r(s))+i;return o(t[s])?n(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+i+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},{}],30:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":28,"./encode":29}],31:[function(t,e,i){"use strict";e.exports=function(t,e,i){var n,r=t.length;if(!(e>=r||0===i)){var o=r-(i=e+i>r?r-e:i);for(n=e;n<o;++n)t[n]=t[n+i];t.length=o}}},{}],32:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.Loader=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=n(t("mini-signals")),a=n(t("parse-uri")),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./async")),u=t("./Resource"),l=/(#[\w-]+)?$/,h=i.Loader=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.baseUrl=i,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,i){return e._loadResource(t,i)},this._queue=c.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default;for(var r=0;r<t._defaultBeforeMiddleware.length;++r)this.pre(t._defaultBeforeMiddleware[r]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}return t.prototype.add=function(t,e,i,n){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":r(t))&&(n=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.Resource(t,e,i),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=i.parentResource,a=[],c=0;c<s.children.length;++c)s.children[c].isComplete||a.push(s.children[c]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var h=0;h<a.length;++h)a[h].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,a.default)(t,{strictMode:!0}),i=void 0;if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=l.exec(i)[0];-1!==(i=i.substr(0,i.length-n.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=n}return i},t.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,c.eachSeries(this._beforeMiddleware,function(e,n){e.call(i,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),c.eachSeries(this._afterMiddleware,function(i,n){i.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},o(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();h._defaultBeforeMiddleware=[],h._defaultAfterMiddleware=[],h.pre=function(t){return h._defaultBeforeMiddleware.push(t),h},h.use=function(t){return h._defaultAfterMiddleware.push(t),h}},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){}function o(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function s(t){return t.toString().replace("object ","")}i.__esModule=!0,i.Resource=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=n(t("parse-uri")),u=n(t("mini-signals")),l=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null,_=i.Resource=function(){function t(e,i,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=r,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new u.default,this.onProgress=new u.default,this.onComplete=new u.default,this.onAfterMiddleware=new u.default}return t.setExtensionLoadType=function(e,i){o(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){o(t._xhrTypeMap,e,i)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var i=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(i)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:l&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=i,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(s(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(s(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(s(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,i="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===n&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2==(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,h||(h=document.createElement("a")),h.href=t;var i=!(t=(0,c.default)(h.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var n=t.indexOf("?"),r=t.indexOf("#"),o=Math.min(n>-1?n:t.length,r>-1?r:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},a(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();_.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},_.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO},_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER},_.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",void 0!==e&&(e.exports.default=_)},{"mini-signals":5,"parse-uri":7}],34:[function(t,e,i){"use strict";function n(){}function r(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}i.__esModule=!0,i.eachSeries=function(t,e,i,n){var r=0,o=t.length;!function s(a){a||r===o?i&&i(a):n?setTimeout(function(){e(t[r++],s)},1):e(t[r++],s)}()},i.queue=function(t,e){function i(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(a.started=!0,null==t&&a.idle())setTimeout(function(){return a.drain()},1);else{var r={data:t,callback:"function"==typeof i?i:n};e?a._tasks.unshift(r):a._tasks.push(r),setTimeout(function(){return a.process()},1)}}function o(t){return function(){s-=1,t.callback.apply(t,arguments),null!=arguments[0]&&a.error(arguments[0],t.data),s<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){s=0,a.drain=n,a.started=!1,a._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!a.paused&&s<a.concurrency&&a._tasks.length;){var e=a._tasks.shift();0===a._tasks.length&&a.empty(),(s+=1)===a.concurrency&&a.saturated(),t(e.data,r(o(e)))}},length:function(){return a._tasks.length},running:function(){return s},idle:function(){return a._tasks.length+s===0},pause:function(){!0!==a.paused&&(a.paused=!0)},resume:function(){if(!1!==a.paused){a.paused=!1;for(var t=1;t<=a.concurrency;t++)a.process()}}};return a}},{}],35:[function(t,e,i){"use strict";function n(t){for(var e="",i=0;i<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)i<t.length?n[s]=255&t.charCodeAt(i++):n[s]=0;switch(o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2],i-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=r.charAt(o[a])}return e}i.__esModule=!0,i.encodeBinary=n;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0!==e&&(e.exports.default=n)},{}],36:[function(t,e,i){"use strict";var n=t("./Loader").Loader,r=t("./Resource").Resource,o=t("./async"),s=t("./b64");n.Resource=r,n.async=o,n.encodeBinary=s,n.base64=s,e.exports=n,e.exports.Loader=n,e.exports.default=n},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(t,e,i){"use strict";i.__esModule=!0,i.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===n.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=o.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=n.Resource.TYPE.IMAGE,void(t.data.onload=function(){o.revokeObjectURL(i),t.data.onload=null,e()})}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+(0,r.encodeBinary)(t.xhr.responseText),t.type=n.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var n=t("../../Resource"),r=t("../../b64"),o=window.URL||window.webkitURL},{"../../Resource":33,"../../b64":35}],38:[function(t,e,i){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,i){if(t&&s.isObject(t)&&t instanceof n)return t;var r=new n;return r.parse(t,e,i),r}var o=t("punycode"),s=t("./util");i.parse=r,i.resolve=function(t,e){return r(t,!1,!0).resolve(e)},i.resolveObject=function(t,e){return t?r(t,!1,!0).resolveObject(e):e},i.format=function(t){return s.isString(t)&&(t=r(t)),t instanceof n?t.format():n.prototype.format.call(t)},i.Url=n;var a=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),_=["%","/","?",";","#"].concat(h),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=t("querystring");n.prototype.parse=function(t,e,i){if(!s.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),r=-1!==n&&n<t.indexOf("#")?"?":"#",c=t.split(r);c[0]=c[0].replace(/\\/g,"/");var l=t=c.join(r);if(l=l.trim(),!i&&1===t.split("#").length){var v=u.exec(l);if(v)return this.path=l,this.href=l,this.pathname=v[1],v[2]?(this.search=v[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(l);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,l=l.substr(w.length)}if(i||w||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===l.substr(0,2);!T||w&&m[w]||(l=l.substr(2),this.slashes=!0)}if(!m[w]&&(T||w&&!g[w])){for(var S=-1,A=0;A<p.length;A++){-1!==(P=l.indexOf(p[A]))&&(-1===S||P<S)&&(S=P)}var C,E;-1!==(E=-1===S?l.lastIndexOf("@"):l.lastIndexOf("@",S))&&(C=l.slice(0,E),l=l.slice(E+1),this.auth=decodeURIComponent(C)),S=-1;for(A=0;A<_.length;A++){var P;-1!==(P=l.indexOf(_[A]))&&(-1===S||P<S)&&(S=P)}-1===S&&(S=l.length),this.host=l.slice(0,S),l=l.slice(S),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var M=this.hostname.split(/\./),R=(A=0,M.length);A<R;A++){var I=M[A];if(I&&!I.match(d)){for(var O="",k=0,L=I.length;k<L;k++)I.charCodeAt(k)>127?O+="x":O+=I[k];if(!O.match(d)){var j=M.slice(0,A),B=M.slice(A+1),F=I.match(f);F&&(j.push(F[1]),B.unshift(F[2])),B.length&&(l="/"+B.join(".")+l),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=o.toASCII(this.hostname));var J=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+J,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==l[0]&&(l="/"+l))}if(!b[x])for(A=0,R=h.length;A<R;A++){var N=h[A];if(-1!==l.indexOf(N)){var U=encodeURIComponent(N);U===N&&(U=escape(N)),l=l.split(N).join(U)}}var W=l.indexOf("#");-1!==W&&(this.hash=l.substr(W),l=l.slice(0,W));var V=l.indexOf("?");if(-1!==V?(this.search=l.substr(V),this.query=l.substr(V+1),e&&(this.query=y.parse(this.query)),l=l.slice(0,V)):e&&(this.search="",this.query={}),l&&(this.pathname=l),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){J=this.pathname||"";var X=this.search||"";this.path=J+X}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+r+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},n.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(s.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var i=new n,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(i[l]=t[l])}return g[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),_=0;_<h.length;_++){var p=h[_];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||m[t.protocol])i.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),i.pathname=d.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var f=i.pathname||"",b=i.search||"";i.path=f+b}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=v||y||i.host&&t.pathname,x=w,T=i.pathname&&i.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],i.protocol&&!g[i.protocol]);if(S&&(i.hostname="",i.port=null,i.host&&(""===T[0]?T[0]=i.host:T.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===T[0])),v)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,T=d;else if(d.length)T||(T=[]),T.pop(),T=T.concat(d),i.search=t.search,i.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(S)i.hostname=i.host=T.shift(),(D=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift());return i.search=t.search,i.query=t.query,s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!T.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var A=T.slice(-1)[0],C=(i.host||t.host||T.length>1)&&("."===A||".."===A)||""===A,E=0,P=T.length;P>=0;P--)"."===(A=T[P])?T.splice(P,1):".."===A?(T.splice(P,1),E++):E&&(T.splice(P,1),E--);if(!w&&!x)for(;E--;E)T.unshift("..");!w||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),C&&"/"!==T.join("/").substr(-1)&&T.push("");var D,M=""===T[0]||T[0]&&"/"===T[0].charAt(0);S&&(i.hostname=i.host=M?"":T.length?T.shift():"",(D=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift()));return(w=w||i.host&&T.length)&&!M&&T.unshift(""),T.length?i.pathname=T.join("/"):(i.pathname=null,i.path=null),s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":39,punycode:27,querystring:30}],39:[function(t,e,i){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],40:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=n(t("ismobilejs")),s=n(t("./accessibleTarget"));r.utils.mixins.delayMixin(r.DisplayObject.prototype,s.default);var a=100,c=0,u=0,l=2,h=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),!o.default.tablet&&!o.default.phone||navigator.isCocoonJS||this.createTouchHook();var i=document.createElement("div");i.style.width=a+"px",i.style.height=a+"px",i.style.position="absolute",i.style.top=c+"px",i.style.left=u+"px",i.style.zIndex=l,this.div=i,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,r.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{n=s._accessibleDiv;var a=s.hitArea,c=s.worldTransform;s.hitArea?(n.style.left=(c.tx+a.x*c.a)*e+"px",n.style.top=(c.ty+a.y*c.d)*i+"px",n.style.width=a.width*c.a*e+"px",n.style.height=a.height*c.d*i+"px"):(a=s.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*i+"px",n.style.width=a.width*e+"px",n.style.height=a.height*i+"px",n.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(n.title=s.accessibleTitle),n.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&n.setAttribute("aria-label",s.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();i.default=h,r.WebGLRenderer.registerPlugin("accessibility",h),r.CanvasRenderer.registerPlugin("accessibility",h)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(t,e,i){"use strict";i.__esModule=!0,i.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],42:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("./accessibleTarget");Object.defineProperty(i,"accessibleTarget",{enumerable:!0,get:function(){return n(r).default}});var o=t("./AccessibilityManager");Object.defineProperty(i,"AccessibilityManager",{enumerable:!0,get:function(){return n(o).default}})},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("./autoDetectRenderer"),s=n(t("./display/Container")),a=t("./ticker"),c=n(t("./settings")),u=t("./const"),l=function(){function t(e,i,n,r,u){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:i||c.default.RENDER_OPTIONS.height,forceCanvas:!!r,sharedTicker:!!u},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,o.autoDetectRenderer)(e),this.stage=new s.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var i=this._ticker;this.ticker=null,i.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},r(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();i.default=l},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(t,e,i){"use strict";function n(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var i=t.slice(0);return i.unshift("precision "+e+" float;"),i}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}i.__esModule=!0;var r=t("pixi-gl-core"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("./settings")),s=function(t){function e(i,r,s,a,c){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n(r,c||o.default.PRECISION_VERTEX),n(s,c||o.default.PRECISION_FRAGMENT),void 0,a))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.GLShader);i.default=s},{"./settings":101,"pixi-gl-core":15}],45:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.autoDetectRenderer=function(t,e,i,n){var a=t&&t.forceCanvas;return void 0!==n&&(a=n),!a&&r.isWebGLSupported()?new s.default(t,e,i):new o.default(t,e,i)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),o=n(t("./renderers/canvas/CanvasRenderer")),s=n(t("./renderers/webgl/WebGLRenderer"))},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(t,e,i){"use strict";i.__esModule=!0,i.VERSION="4.8.9",i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},i.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},i.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},i.SCALE_MODES={LINEAR:0,NEAREST:1},i.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},i.GC_MODES={AUTO:0,MANUAL:1},i.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,i.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,i.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},i.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},i.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},i.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},i.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../math"),r=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,n=o>n?o:n,r=s>r?s:r,o=t[2],s=t[3],e=o<e?o:e,i=s<i?s:i,n=o>n?o:n,r=s>r?s:r,o=t[4],s=t[5],e=o<e?o:e,i=s<i?s:i,n=o>n?o:n,r=s>r?s:r,o=t[6],s=t[7],e=o<e?o:e,i=s<i?s:i,n=o>n?o:n,r=s>r?s:r,this.minX=e,this.minY=i,this.maxX=n,this.maxY=r},t.prototype.addFrame=function(t,e,i,n,r){var o=t.worldTransform,s=o.a,a=o.b,c=o.c,u=o.d,l=o.tx,h=o.ty,_=this.minX,p=this.minY,d=this.maxX,f=this.maxY,b=s*e+c*i+l,m=a*e+u*i+h;_=b<_?b:_,p=m<p?m:p,d=b>d?b:d,f=m>f?m:f,m=a*n+u*i+h,_=(b=s*n+c*i+l)<_?b:_,p=m<p?m:p,d=b>d?b:d,f=m>f?m:f,m=a*e+u*r+h,_=(b=s*e+c*r+l)<_?b:_,p=m<p?m:p,d=b>d?b:d,f=m>f?m:f,m=a*n+u*r+h,_=(b=s*n+c*r+l)<_?b:_,p=m<p?m:p,d=b>d?b:d,f=m>f?m:f,this.minX=_,this.minY=p,this.maxX=d,this.maxY=f},t.prototype.addVertices=function(t,e,i,n){for(var r=t.worldTransform,o=r.a,s=r.b,a=r.c,c=r.d,u=r.tx,l=r.ty,h=this.minX,_=this.minY,p=this.maxX,d=this.maxY,f=i;f<n;f+=2){var b=e[f],m=e[f+1],g=o*b+a*m+u,y=c*m+s*b+l;h=g<h?g:h,_=y<_?y:_,p=g>p?g:p,d=y>d?y:d}this.minX=h,this.minY=_,this.maxX=p,this.maxY=d},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=o){var s=this.minX,a=this.minY,c=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=n<a?n:a,this.maxX=r>c?r:c,this.maxY=o>u?o:u}},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=o){var s=this.minX,a=this.minY,c=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=n<a?n:a,this.maxX=r>c?r:c,this.maxY=o>u?o:u}},t}();i.default=r},{"../math":70}],48:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("../utils"),o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.children=[],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.addChild(arguments[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);(0,r.removeItems)(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.removeChild(arguments[i]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,r.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,r.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],i=t,n="number"==typeof e?e:this.children.length,r=n-i,o=void 0;if(r>0&&r<=n){o=this.children.splice(i,r);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}i&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var r=0,o=this.children.length;r<o;r++)this.children[r].renderWebGL(t);t.flush(),i&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var i="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(i)for(var r=0;r<n.length;++r)n[r].destroy(e)},n(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./DisplayObject")).default);i.default=o,o.prototype.containerUpdateTransform=o.prototype.updateTransform},{"../utils":125,"./DisplayObject":49}],49:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=n(t("eventemitter3")),s=t("../const"),a=n(t("../settings")),c=n(t("./TransformStatic")),u=n(t("./Transform")),l=n(t("./Bounds")),h=t("../math"),_=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),n=a.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?c.default:u.default;return i.tempDisplayObjectParent=null,i.transform=new n,i.alpha=1,i.visible=!0,i.renderable=!0,i.parent=null,i.worldAlpha=1,i.filterArea=null,i._filters=null,i._enabledFilters=null,i._bounds=new l.default,i._boundsID=0,i._lastBoundsID=-1,i._boundsRect=null,i._localBoundsRect=null,i._mask=null,i._destroyed=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new h.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=i,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=c,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(o.default);i.default=_,_.prototype.displayObjectUpdateTransform=_.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("../math"),o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.position=new r.Point(0,0),i.scale=new r.Point(1,1),i.skew=new r.ObservablePoint(i.updateSkew,i,0,0),i.pivot=new r.Point(0,0),i._rotation=0,i._cx=1,i._sx=0,i._cy=0,i._sy=1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var i=t.worldTransform,n=this.worldTransform;n.a=e.a*i.a+e.b*i.c,n.b=e.a*i.b+e.b*i.d,n.c=e.c*i.a+e.d*i.c,n.d=e.c*i.b+e.d*i.d,n.tx=e.tx*i.a+e.ty*i.c+i.tx,n.ty=e.tx*i.b+e.ty*i.d+i.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},n(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./TransformBase")).default);i.default=o},{"../math":70,"./TransformBase":51}],51:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../math"),r=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,i=this.worldTransform,n=this.localTransform;i.a=n.a*e.a+n.b*e.c,i.b=n.a*e.b+n.b*e.d,i.c=n.c*e.a+n.d*e.c,i.d=n.c*e.b+n.d*e.d,i.tx=n.tx*e.a+n.ty*e.c+e.tx,i.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();i.default=r,r.prototype.updateWorldTransform=r.prototype.updateTransform,r.IDENTITY=new r},{"../math":70}],52:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("../math"),o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.position=new r.ObservablePoint(i.onChange,i,0,0),i.scale=new r.ObservablePoint(i.onChange,i,1,1),i.pivot=new r.ObservablePoint(i.onChange,i,0,0),i.skew=new r.ObservablePoint(i.updateSkew,i,0,0),i._rotation=0,i._cx=1,i._sx=0,i._cy=0,i._sy=1,i._localID=0,i._currentLocalID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,n=this.worldTransform;n.a=e.a*i.a+e.b*i.c,n.b=e.a*i.b+e.b*i.d,n.c=e.c*i.a+e.d*i.c,n.d=e.c*i.b+e.d*i.d,n.tx=e.tx*i.a+e.ty*i.c+i.tx,n.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},n(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./TransformBase")).default);i.default=o},{"../math":70,"./TransformBase":51}],53:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("../display/Container")),o=n(t("../textures/RenderTexture")),s=n(t("../textures/Texture")),a=n(t("./GraphicsData")),c=n(t("../sprites/Sprite")),u=t("../math"),l=t("../utils"),h=t("../const"),_=n(t("../display/Bounds")),p=n(t("./utils/bezierCurveTo")),d=n(t("../renderers/canvas/CanvasRenderer")),f=void 0,b=new u.Matrix,m=new u.Point,g=new Float32Array(4),y=new Float32Array(4),v=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=i,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=h.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new _.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var i=0;i<this.graphicsData.length;++i)t.graphicsData.push(this.graphicsData[i].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,i,n,r,o){var s=t-2*i+r,a=e-2*n+o,c=2*i-2*t,u=2*n-2*e,l=4*(s*s+a*a),h=4*(s*c+a*u),_=c*c+u*u,p=2*Math.sqrt(l+h+_),d=Math.sqrt(l),f=2*l*d,b=2*Math.sqrt(_),m=h/d;return(f*p+d*h*(p-b)+(4*_*l-h*h)*Math.log((2*d+m+p)/(m+b)))/(4*f)},e.prototype._bezierCurveLength=function(t,e,i,n,r,o,s,a){for(var c=0,u=0,l=0,h=0,_=0,p=0,d=0,f=0,b=0,m=0,g=0,y=t,v=e,w=1;w<=10;++w)m=y-(f=(d=(p=(_=1-(u=w/10))*_)*_)*t+3*p*u*i+3*_*(l=u*u)*r+(h=l*u)*s),g=v-(b=d*e+3*p*u*n+3*_*l*o+h*a),y=f,v=b,c+=Math.sqrt(m*m+g*g);return c},e.prototype._segmentsCount=function(t){var i=Math.ceil(t/e.CURVES.maxLength);return i<e.CURVES.minSegments?i=e.CURVES.minSegments:i>e.CURVES.maxSegments&&(i=e.CURVES.maxSegments),i},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var r=new u.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var i=new u.Polygon([t,e]);return i.closed=!1,this.drawShape(i),this},e.prototype.lineTo=function(t,e){var i=this.currentPath.shape.points,n=i[i.length-2],r=i[i.length-1];return n===t&&r===e||(i.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,i,n,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,s=0,a=0;0===o.length&&this.moveTo(0,0);for(var c=o[o.length-2],u=o[o.length-1],l=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(c,u,t,i,n,r)):20,h=1;h<=l;++h){var _=h/l;s=c+(t-c)*_,a=u+(i-u)*_,o.push(s+(t+(n-t)*_-s)*_,a+(i+(r-i)*_-a)*_)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,i,n,r,o,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,c=a[a.length-2],u=a[a.length-1];a.length-=2;var l=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(c,u,t,i,n,r,o,s)):20;return(0,p.default)(c,u,t,i,n,r,o,s,l,a),this.dirty++,this},e.prototype.arcTo=function(t,e,i,n,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,c=s-t,u=n-e,l=i-t,h=Math.abs(a*l-c*u);if(h<1e-8||0===r)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var _=a*a+c*c,p=u*u+l*l,d=a*u+c*l,f=r*Math.sqrt(_)/h,b=r*Math.sqrt(p)/h,m=f*d/_,g=b*d/p,y=f*l+b*c,v=f*u+b*a,w=c*(b+m),x=a*(b+m),T=l*(f+g),S=u*(f+g),A=Math.atan2(x-v,w-y),C=Math.atan2(S-v,T-y);this.arc(y+t,v+e,r,A,C,c*u>l*a)}return this.dirty++,this},e.prototype.arc=function(t,i,n,r,o){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r===o)return this;!s&&o<=r?o+=h.PI_2:s&&r<=o&&(r+=h.PI_2);var a=o-r,c=e.CURVES.adaptive?this._segmentsCount(Math.abs(a)*n):40*Math.ceil(Math.abs(a)/h.PI_2);if(0===a)return this;var u=t+Math.cos(r)*n,l=i+Math.sin(r)*n,_=this.currentPath?this.currentPath.shape.points:null;if(_){var p=Math.abs(_[_.length-2]-u),d=Math.abs(_[_.length-1]-l);p<.001&&d<.001||_.push(u,l)}else this.moveTo(u,l),_=this.currentPath.shape.points;for(var f=a/(2*c),b=2*f,m=Math.cos(f),g=Math.sin(f),y=c-1,v=y%1/y,w=0;w<=y;++w){var x=f+r+b*(w+v*w),T=Math.cos(x),S=-Math.sin(x);_.push((m*T+g*S)*n+t,(m*-S+g*T)*n+i)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,i,n){return this.drawShape(new u.Rectangle(t,e,i,n)),this},e.prototype.drawRoundedRect=function(t,e,i,n,r){return this.drawShape(new u.RoundedRectangle(t,e,i,n,r)),this},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new u.Circle(t,e,i)),this},e.prototype.drawEllipse=function(t,e,i,n){return this.drawShape(new u.Ellipse(t,e,i,n)),this},e.prototype.drawPolygon=function(t){var e=t,i=!0;if(e instanceof u.Polygon&&(i=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var r=new u.Polygon(e);return r.closed=i,this.drawShape(r),this},e.prototype.drawStar=function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r=r||n/2;for(var s=-1*Math.PI/2+o,a=2*i,c=h.PI_2/a,u=[],l=0;l<a;l++){var _=l%2?r:n,p=l*c+s;u.push(t+_*Math.cos(p),e+_*Math.sin(p))}return this.drawPolygon(u)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===h.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new c.default(new s.default(s.default.WHITE)));var i=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)i.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var r=g,o=y;(0,l.hex2rgb)(n,r),(0,l.hex2rgb)(this.tint,o),r[0]*=o[0],r[1]*=o[1],r[2]*=o[2],i.tint=(0,l.rgb2hex)(r),this._prevRectTint=this.tint,this._prevRectFillColor=n}i.alpha=this.graphicsData[0].fillAlpha,i.worldAlpha=this.worldAlpha*i.alpha,i.blendMode=this.blendMode,i._texture._frame.width=e.width,i._texture._frame.height=e.height,i.transform.worldTransform=this.transform.worldTransform,i.anchor.set(-e.x/e.width,-e.y/e.height),i._onAnchorUpdate(),i._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,m);for(var e=this.graphicsData,i=0;i<e.length;++i){var n=e[i];if(n.fill&&n.shape&&n.shape.contains(m.x,m.y)){var r=!1;if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].contains(m.x,m.y)){r=!0;break}}if(!r)return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0;if(this.graphicsData.length)for(var r=0,o=0,s=0,a=0,c=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],_=l.type,p=l.lineWidth*l.lineAlignment;if(r=l.shape,_===h.SHAPES.RECT||_===h.SHAPES.RREC)o=r.x-p,s=r.y-p,a=r.width+2*p,c=r.height+2*p,t=o<t?o:t,e=o+a>e?o+a:e,i=s<i?s:i,n=s+c>n?s+c:n;else if(_===h.SHAPES.CIRC)o=r.x,s=r.y,a=r.radius+p,c=r.radius+p,t=o-a<t?o-a:t,e=o+a>e?o+a:e,i=s-c<i?s-c:i,n=s+c>n?s+c:n;else if(_===h.SHAPES.ELIP)o=r.x,s=r.y,a=r.width+p,c=r.height+p,t=o-a<t?o-a:t,e=o+a>e?o+a:e,i=s-c<i?s-c:i,n=s+c>n?s+c:n;else for(var d=r.points,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0;T+2<d.length;T+=2)o=d[T],s=d[T+1],f=d[T+2],b=d[T+3],m=Math.abs(f-o),g=Math.abs(b-s),c=2*p,(a=Math.sqrt(m*m+g*g))<1e-9||(v=(c/a*m+g)/2,x=(b+s)/2,t=(w=(f+o)/2)-(y=(c/a*g+m)/2)<t?w-y:t,e=w+y>e?w+y:e,i=x-v<i?x-v:i,n=x+v>n?x+v:n)}else t=0,e=0,i=0,n=0;var S=this.boundsPadding;this._localBounds.minX=t-S,this._localBounds.maxX=e+S,this._localBounds.minY=i-S,this._localBounds.maxY=n+S},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===h.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.getLocalBounds(),n=o.default.create(i.width,i.height,t,e);f||(f=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(b),b.invert(),b.tx-=i.x,b.ty-=i.y,f.render(this,n,!0,b);var r=s.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return r.baseTexture.resolution=e,r.baseTexture.update(),r},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();for(var n in this._webGL)for(var r=0;r<this._webGL[n].data.length;++r)this._webGL[n].data[r].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(r.default);i.default=v,v._SPRITE_TEXTURE=null,v.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(e,i,n,r,o,s,a,c,u){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.lineWidth=e,this.lineAlignment=u,this.nativeLines=a,this.lineColor=i,this.lineAlpha=n,this._lineTint=i,this.fillColor=r,this.fillAlpha=o,this._fillTint=r,this.fill=s,this.holes=[],this.shape=c,this.type=c.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();i.default=n},{}],55:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("../../renderers/canvas/CanvasRenderer")),r=t("../../const"),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,i=e.context,n=t.worldAlpha,o=t.transform.worldTransform,s=e.resolution;i.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var c=t.graphicsData[a],u=c.shape,l=c._fillTint,h=c._lineTint;if(i.lineWidth=c.lineWidth,c.type===r.SHAPES.POLY){i.beginPath();var _=u.points,p=c.holes,d=void 0,f=void 0,b=void 0,m=void 0;i.moveTo(_[0],_[1]);for(var g=2;g<_.length;g+=2)i.lineTo(_[g],_[g+1]);if(u.closed&&i.closePath(),p.length>0){d=0,b=_[0],m=_[1];for(var y=2;y+2<_.length;y+=2)d+=(_[y]-b)*(_[y+3]-m)-(_[y+2]-b)*(_[y+1]-m);for(var v=0;v<p.length;v++)if(_=p[v].points){f=0,b=_[0],m=_[1];for(var w=2;w+2<_.length;w+=2)f+=(_[w]-b)*(_[w+3]-m)-(_[w+2]-b)*(_[w+1]-m);if(f*d<0){i.moveTo(_[0],_[1]);for(var x=2;x<_.length;x+=2)i.lineTo(_[x],_[x+1])}else{i.moveTo(_[_.length-2],_[_.length-1]);for(var T=_.length-4;T>=0;T-=2)i.lineTo(_[T],_[T+1])}p[v].close&&i.closePath()}}c.fill&&(i.globalAlpha=c.fillAlpha*n,i.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),i.fill()),c.lineWidth&&(i.globalAlpha=c.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.stroke())}else if(c.type===r.SHAPES.RECT)(c.fillColor||0===c.fillColor)&&(i.globalAlpha=c.fillAlpha*n,i.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),i.fillRect(u.x,u.y,u.width,u.height)),c.lineWidth&&(i.globalAlpha=c.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.strokeRect(u.x,u.y,u.width,u.height));else if(c.type===r.SHAPES.CIRC)i.beginPath(),i.arc(u.x,u.y,u.radius,0,2*Math.PI),i.closePath(),c.fill&&(i.globalAlpha=c.fillAlpha*n,i.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),i.fill()),c.lineWidth&&(i.globalAlpha=c.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.stroke());else if(c.type===r.SHAPES.ELIP){var S=2*u.width,A=2*u.height,C=u.x-S/2,E=u.y-A/2;i.beginPath();var P=S/2*.5522848,D=A/2*.5522848,M=C+S,R=E+A,I=C+S/2,O=E+A/2;i.moveTo(C,O),i.bezierCurveTo(C,O-D,I-P,E,I,E),i.bezierCurveTo(I+P,E,M,O-D,M,O),i.bezierCurveTo(M,O+D,I+P,R,I,R),i.bezierCurveTo(I-P,R,C,O+D,C,O),i.closePath(),c.fill&&(i.globalAlpha=c.fillAlpha*n,i.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),i.fill()),c.lineWidth&&(i.globalAlpha=c.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.stroke())}else if(c.type===r.SHAPES.RREC){var k=u.x,L=u.y,j=u.width,B=u.height,F=u.radius,J=Math.min(j,B)/2|0;F=F>J?J:F,i.beginPath(),i.moveTo(k,L+F),i.lineTo(k,L+B-F),i.quadraticCurveTo(k,L+B,k+F,L+B),i.lineTo(k+j-F,L+B),i.quadraticCurveTo(k+j,L+B,k+j,L+B-F),i.lineTo(k+j,L+F),i.quadraticCurveTo(k+j,L,k+j-F,L),i.lineTo(k+F,L),i.quadraticCurveTo(k,L,k,L+F),i.closePath(),(c.fillColor||0===c.fillColor)&&(i.globalAlpha=c.fillAlpha*n,i.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),i.fill()),c.lineWidth&&(i.globalAlpha=c.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,n=(255&t.tint)/255,r=0;r<t.graphicsData.length;++r){var o=t.graphicsData[r],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,i){i.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)i.lineTo(t[2*n],t[2*n+1]);e&&i.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();i.default=o,n.default.registerPlugin("graphics",o)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i,n,r,o,s,a,c){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],l=0,h=0,_=0,p=0,d=0;u.push(t,e);for(var f=1,b=0;f<=c;++f)_=(h=(l=1-(b=f/c))*l)*l,d=(p=b*b)*b,u.push(_*t+3*h*b*i+3*l*p*r+d*s,_*e+3*h*b*n+3*l*p*o+d*a);return u}},{}],57:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("../../utils"),o=t("../../const"),s=n(t("../../renderers/webgl/utils/ObjectRenderer")),a=n(t("../../renderers/webgl/WebGLRenderer")),c=n(t("./WebGLGraphicsData")),u=n(t("./shaders/PrimitiveShader")),l=n(t("./utils/buildPoly")),h=n(t("./utils/buildRectangle")),_=n(t("./utils/buildRoundedRectangle")),p=n(t("./utils/buildCircle")),d=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=i.gl,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){s.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,i=e.gl,n=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,c=o.data.length;a<c;a++){var u=(n=o.data[a]).shader;e.bindShader(u),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.tint=(0,r.hex2rgb)(t.tint),u.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),n.nativeLines?i.drawArrays(i.LINES,0,n.points.length/6):n.vao.draw(i.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,i=t._webGL[this.CONTEXT_UID];if(i||(i=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),i.dirty=t.dirty,t.clearDirty!==i.clearDirty){i.clearDirty=t.clearDirty;for(var n=0;n<i.data.length;n++)this.graphicsDataPool.push(i.data[n]);i.data.length=0,i.lastIndex=0}for(var r=void 0,s=void 0,a=i.lastIndex;a<t.graphicsData.length;a++){var c=t.graphicsData[a];r=this.getWebGLData(i,0),c.nativeLines&&c.lineWidth&&(s=this.getWebGLData(i,0,!0),i.lastIndex++),c.type===o.SHAPES.POLY&&(0,l.default)(c,r,s),c.type===o.SHAPES.RECT?(0,h.default)(c,r,s):c.type===o.SHAPES.CIRC||c.type===o.SHAPES.ELIP?(0,p.default)(c,r,s):c.type===o.SHAPES.RREC&&(0,_.default)(c,r,s),i.lastIndex++}this.renderer.bindVao(null);for(var u=0;u<i.data.length;u++)(r=i.data[u]).dirty&&r.upload()},e.prototype.getWebGLData=function(t,e,i){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==i||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new c.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=i,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(s.default);i.default=d,a.default.registerPlugin("graphics",d)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("pixi-gl-core")),r=function(){function t(e,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=n.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=i,this.vao=new n.default.VertexArrayObject(e,r).addIndex(this.indexBuffer).addAttribute(this.buffer,i.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,i.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();i.default=r},{"pixi-gl-core":15}],59:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){function e(i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../../../Shader")).default);i.default=n},{"../../../Shader":44}],60:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){var s=t.shape,a=s.x,c=s.y,u=void 0,l=void 0;if(t.type===r.SHAPES.CIRC?(u=s.radius,l=s.radius):(u=s.width,l=s.height),0!==u&&0!==l){var h=Math.floor(30*Math.sqrt(s.radius))||Math.floor(15*Math.sqrt(s.width+s.height)),_=2*Math.PI/h;if(t.fill){var p=(0,o.hex2rgb)(t.fillColor),d=t.fillAlpha,f=p[0]*d,b=p[1]*d,m=p[2]*d,g=e.points,y=e.indices,v=g.length/6;y.push(v);for(var w=0;w<h+1;w++)g.push(a,c,f,b,m,d),g.push(a+Math.sin(_*w)*u,c+Math.cos(_*w)*l,f,b,m,d),y.push(v++,v++);y.push(v-1)}if(t.lineWidth){var x=t.points;t.points=[];for(var T=0;T<h;T++)t.points.push(a+Math.sin(_*-T)*u,c+Math.cos(_*-T)*l);t.points.push(t.points[0],t.points[1]),(0,n.default)(t,e,i),t.points=x}}};var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./buildLine")),r=t("../../../const"),o=t("../../../utils")},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){t.nativeLines?function(t,e){var i=0,n=t.points;if(0!==n.length){var o=e.points,s=n.length/2,a=(0,r.hex2rgb)(t.lineColor),c=t.lineAlpha,u=a[0]*c,l=a[1]*c,h=a[2]*c;for(i=1;i<s;i++){var _=n[2*(i-1)],p=n[2*(i-1)+1],d=n[2*i],f=n[2*i+1];o.push(_,p),o.push(u,l,h,c),o.push(d,f),o.push(u,l,h,c)}}}(t,i):function(t,e){var i=t.points;if(0!==i.length){var o=new n.Point(i[0],i[1]),s=new n.Point(i[i.length-2],i[i.length-1]);if(o.x===s.x&&o.y===s.y){(i=i.slice()).pop(),i.pop();var a=(s=new n.Point(i[i.length-2],i[i.length-1])).x+.5*(o.x-s.x),c=s.y+.5*(o.y-s.y);i.unshift(a,c),i.push(a,c)}var u=e.points,l=e.indices,h=i.length/2,_=i.length,p=u.length/6,d=t.lineWidth/2,f=(0,r.hex2rgb)(t.lineColor),b=t.lineAlpha,m=f[0]*b,g=f[1]*b,y=f[2]*b,v=i[0],w=i[1],x=i[2],T=i[3],S=0,A=0,C=-(w-T),E=v-x,P=0,D=0,M=0,R=0,I=Math.sqrt(C*C+E*E);C/=I,E/=I,C*=d,E*=d;var O=t.lineAlignment,k=2*(1-O),L=2*O;u.push(v-C*k,w-E*k,m,g,y,b),u.push(v+C*L,w+E*L,m,g,y,b);for(var j=1;j<h-1;++j){v=i[2*(j-1)],w=i[2*(j-1)+1],x=i[2*j],T=i[2*j+1],S=i[2*(j+1)],A=i[2*(j+1)+1],C=-(w-T),E=v-x,C/=I=Math.sqrt(C*C+E*E),E/=I,C*=d,E*=d,P=-(T-A),D=x-S,P/=I=Math.sqrt(P*P+D*D),D/=I;var B=-E+w-(-E+T),F=-C+x-(-C+v),J=(-C+v)*(-E+T)-(-C+x)*(-E+w),G=-(D*=d)+A-(-D+T),N=-(P*=d)+x-(-P+S),U=(-P+S)*(-D+T)-(-P+x)*(-D+A),W=B*N-G*F;if(Math.abs(W)<.1)W+=10.1,u.push(x-C*k,T-E*k,m,g,y,b),u.push(x+C*L,T+E*L,m,g,y,b);else{var V=(F*U-N*J)/W,X=(G*J-B*U)/W;(V-x)*(V-x)+(X-T)*(X-T)>196*d*d?(M=C-P,R=E-D,M/=I=Math.sqrt(M*M+R*R),R/=I,M*=d,R*=d,u.push(x-M*k,T-R*k),u.push(m,g,y,b),u.push(x+M*L,T+R*L),u.push(m,g,y,b),u.push(x-M*L*k,T-R*k),u.push(m,g,y,b),_++):(u.push(x+(V-x)*k,T+(X-T)*k),u.push(m,g,y,b),u.push(x-(V-x)*L,T-(X-T)*L),u.push(m,g,y,b))}}v=i[2*(h-2)],w=i[2*(h-2)+1],x=i[2*(h-1)],C=-(w-(T=i[2*(h-1)+1])),E=v-x,C/=I=Math.sqrt(C*C+E*E),E/=I,C*=d,E*=d,u.push(x-C*k,T-E*k),u.push(m,g,y,b),u.push(x+C*L,T+E*L),u.push(m,g,y,b),l.push(p);for(var z=0;z<_;++z)l.push(p++);l.push(p-1)}}(t,e)};var n=t("../../../math"),r=t("../../../utils")},{"../../../math":70,"../../../utils":125}],62:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.default=function(t,e,i){t.points=t.shape.points.slice();var n=t.points;if(t.fill&&n.length>=6){for(var a=[],c=t.holes,u=0;u<c.length;u++){var l=c[u];a.push(n.length/2),n=n.concat(l.points)}var h=e.points,_=e.indices,p=n.length/2,d=(0,o.hex2rgb)(t.fillColor),f=t.fillAlpha,b=d[0]*f,m=d[1]*f,g=d[2]*f,y=(0,s.default)(n,a,2);if(!y)return;for(var v=h.length/6,w=0;w<y.length;w+=3)_.push(y[w]+v),_.push(y[w]+v),_.push(y[w+1]+v),_.push(y[w+2]+v),_.push(y[w+2]+v);for(var x=0;x<p;x++)h.push(n[2*x],n[2*x+1],b,m,g,f)}t.lineWidth>0&&(0,r.default)(t,e,i)};var r=n(t("./buildLine")),o=t("../../../utils"),s=n(t("earcut"))},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){var o=t.shape,s=o.x,a=o.y,c=o.width,u=o.height;if(t.fill){var l=(0,r.hex2rgb)(t.fillColor),h=t.fillAlpha,_=l[0]*h,p=l[1]*h,d=l[2]*h,f=e.points,b=e.indices,m=f.length/6;f.push(s,a),f.push(_,p,d,h),f.push(s+c,a),f.push(_,p,d,h),f.push(s,a+u),f.push(_,p,d,h),f.push(s+c,a+u),f.push(_,p,d,h),b.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var g=t.points;t.points=[s,a,s+c,a,s+c,a+u,s,a+u,s,a],(0,n.default)(t,e,i),t.points=g}};var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./buildLine")),r=t("../../../utils")},{"../../../utils":125,"./buildLine":61}],64:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return t+(e-t)*i}function o(t,e,i,n,o,s){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],c=0,u=0,l=0,h=0,_=0,p=0,d=0,f=0;d<=20;++d)c=r(t,i,f=d/20),u=r(e,n,f),l=r(i,o,f),h=r(n,s,f),_=r(c,l,f),p=r(u,h,f),a.push(_,p);return a}i.__esModule=!0,i.default=function(t,e,i){var n=t.shape,r=n.x,u=n.y,l=n.width,h=n.height,_=n.radius,p=[];if(p.push(r+_,u),o(r+l-_,u,r+l,u,r+l,u+_,p),o(r+l,u+h-_,r+l,u+h,r+l-_,u+h,p),o(r+_,u+h,r,u+h,r,u+h-_,p),o(r,u+_,r,u,r+_+1e-10,u,p),t.fill){for(var d=(0,c.hex2rgb)(t.fillColor),f=t.fillAlpha,b=d[0]*f,m=d[1]*f,g=d[2]*f,y=e.points,v=e.indices,w=y.length/6,x=(0,s.default)(p,null,2),T=0,S=x.length;T<S;T+=3)v.push(x[T]+w),v.push(x[T]+w),v.push(x[T+1]+w),v.push(x[T+2]+w),v.push(x[T+2]+w);for(var A=0,C=p.length;A<C;A++)y.push(p[A],p[++A],b,m,g,f)}if(t.lineWidth){var E=t.points;t.points=p,(0,a.default)(t,e,i),t.points=E}};var s=n(t("earcut")),a=n(t("./buildLine")),c=t("../../../utils")},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.autoDetectRenderer=i.Application=i.Filter=i.SpriteMaskFilter=i.Quad=i.RenderTarget=i.ObjectRenderer=i.WebGLManager=i.Shader=i.CanvasRenderTarget=i.TextureUvs=i.VideoBaseTexture=i.BaseRenderTexture=i.RenderTexture=i.BaseTexture=i.TextureMatrix=i.Texture=i.Spritesheet=i.CanvasGraphicsRenderer=i.GraphicsRenderer=i.GraphicsData=i.Graphics=i.TextMetrics=i.TextStyle=i.Text=i.SpriteRenderer=i.CanvasTinter=i.CanvasSpriteRenderer=i.Sprite=i.TransformBase=i.TransformStatic=i.Transform=i.Container=i.DisplayObject=i.Bounds=i.glCore=i.WebGLRenderer=i.CanvasRenderer=i.ticker=i.utils=i.settings=void 0;var o=t("./const");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./math");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("pixi-gl-core");Object.defineProperty(i,"glCore",{enumerable:!0,get:function(){return r(a).default}});var c=t("./display/Bounds");Object.defineProperty(i,"Bounds",{enumerable:!0,get:function(){return r(c).default}});var u=t("./display/DisplayObject");Object.defineProperty(i,"DisplayObject",{enumerable:!0,get:function(){return r(u).default}});var l=t("./display/Container");Object.defineProperty(i,"Container",{enumerable:!0,get:function(){return r(l).default}});var h=t("./display/Transform");Object.defineProperty(i,"Transform",{enumerable:!0,get:function(){return r(h).default}});var _=t("./display/TransformStatic");Object.defineProperty(i,"TransformStatic",{enumerable:!0,get:function(){return r(_).default}});var p=t("./display/TransformBase");Object.defineProperty(i,"TransformBase",{enumerable:!0,get:function(){return r(p).default}});var d=t("./sprites/Sprite");Object.defineProperty(i,"Sprite",{enumerable:!0,get:function(){return r(d).default}});var f=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(i,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return r(f).default}});var b=t("./sprites/canvas/CanvasTinter");Object.defineProperty(i,"CanvasTinter",{enumerable:!0,get:function(){return r(b).default}});var m=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(i,"SpriteRenderer",{enumerable:!0,get:function(){return r(m).default}});var g=t("./text/Text");Object.defineProperty(i,"Text",{enumerable:!0,get:function(){return r(g).default}});var y=t("./text/TextStyle");Object.defineProperty(i,"TextStyle",{enumerable:!0,get:function(){return r(y).default}});var v=t("./text/TextMetrics");Object.defineProperty(i,"TextMetrics",{enumerable:!0,get:function(){return r(v).default}});var w=t("./graphics/Graphics");Object.defineProperty(i,"Graphics",{enumerable:!0,get:function(){return r(w).default}});var x=t("./graphics/GraphicsData");Object.defineProperty(i,"GraphicsData",{enumerable:!0,get:function(){return r(x).default}});var T=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(i,"GraphicsRenderer",{enumerable:!0,get:function(){return r(T).default}});var S=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(i,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return r(S).default}});var A=t("./textures/Spritesheet");Object.defineProperty(i,"Spritesheet",{enumerable:!0,get:function(){return r(A).default}});var C=t("./textures/Texture");Object.defineProperty(i,"Texture",{enumerable:!0,get:function(){return r(C).default}});var E=t("./textures/TextureMatrix");Object.defineProperty(i,"TextureMatrix",{enumerable:!0,get:function(){return r(E).default}});var P=t("./textures/BaseTexture");Object.defineProperty(i,"BaseTexture",{enumerable:!0,get:function(){return r(P).default}});var D=t("./textures/RenderTexture");Object.defineProperty(i,"RenderTexture",{enumerable:!0,get:function(){return r(D).default}});var M=t("./textures/BaseRenderTexture");Object.defineProperty(i,"BaseRenderTexture",{enumerable:!0,get:function(){return r(M).default}});var R=t("./textures/VideoBaseTexture");Object.defineProperty(i,"VideoBaseTexture",{enumerable:!0,get:function(){return r(R).default}});var I=t("./textures/TextureUvs");Object.defineProperty(i,"TextureUvs",{enumerable:!0,get:function(){return r(I).default}});var O=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(i,"CanvasRenderTarget",{enumerable:!0,get:function(){return r(O).default}});var k=t("./Shader");Object.defineProperty(i,"Shader",{enumerable:!0,get:function(){return r(k).default}});var L=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(i,"WebGLManager",{enumerable:!0,get:function(){return r(L).default}});var j=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(i,"ObjectRenderer",{enumerable:!0,get:function(){return r(j).default}});var B=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(i,"RenderTarget",{enumerable:!0,get:function(){return r(B).default}});var F=t("./renderers/webgl/utils/Quad");Object.defineProperty(i,"Quad",{enumerable:!0,get:function(){return r(F).default}});var J=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(i,"SpriteMaskFilter",{enumerable:!0,get:function(){return r(J).default}});var G=t("./renderers/webgl/filters/Filter");Object.defineProperty(i,"Filter",{enumerable:!0,get:function(){return r(G).default}});var N=t("./Application");Object.defineProperty(i,"Application",{enumerable:!0,get:function(){return r(N).default}});var U=t("./autoDetectRenderer");Object.defineProperty(i,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var W=n(t("./utils")),V=n(t("./ticker")),X=r(t("./settings")),z=r(t("./renderers/canvas/CanvasRenderer")),q=r(t("./renderers/webgl/WebGLRenderer"));i.settings=X.default,i.utils=W,i.ticker=V,i.CanvasRenderer=z.default,i.WebGLRenderer=q.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(t,e,i){"use strict";function n(t){return t<0?-1:t>0?1:0}i.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(t("./Matrix")),o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],c=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],l=[];!function(){for(var t=0;t<16;t++){var e=[];l.push(e);for(var i=0;i<16;i++)for(var h=n(o[t]*o[i]+a[t]*s[i]),_=n(s[t]*o[i]+c[t]*s[i]),p=n(o[t]*a[i]+a[t]*c[i]),d=n(s[t]*a[i]+c[t]*c[i]),f=0;f<16;f++)if(o[f]===h&&s[f]===_&&a[f]===p&&c[f]===d){e.push(f);break}}for(var b=0;b<16;b++){var m=new r.default;m.set(o[b],s[b],a[b],c[b],0,0),u.push(m)}}();var h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return s[t]},vX:function(t){return a[t]},vY:function(t){return c[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return l[t][e]},sub:function(t,e){return l[t][h.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?h.S:h.N:2*Math.abs(e)<=Math.abs(t)?t>0?h.E:h.W:e>0?t>0?h.SE:h.SW:t>0?h.NE:h.NW},matrixAppendRotationInv:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=u[h.inv(e)];r.tx=i,r.ty=n,t.append(r)}};i.default=h},{"./Matrix":67}],67:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(t("./Point")),o=t("../const"),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.a=e,this.b=i,this.c=n,this.d=r,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,n,r,o){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new r.default;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new r.default;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,o=t.y;return e.x=this.d*i*n+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,o=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this},t.prototype.setTransform=function(t,e,i,n,r,o,s,a,c){return this.a=Math.cos(s+c)*r,this.b=Math.sin(s+c)*r,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+n*this.c),this.ty=e-(i*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=-Math.atan2(-n,r),a=Math.atan2(i,e),c=Math.abs(s+a);return c<1e-5||Math.abs(o.PI_2-c)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,o=t*n-e*i;return this.a=n/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-n*r)/o,this.ty=-(t*this.ty-e*r)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();i.default=s},{"../const":46,"./Point":69}],68:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._x=n,this._y=r,this.cb=e,this.scope=i}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(e||this.cb,i||this.scope,this._x,this._y)},t.prototype.set=function(t,e){var i=t||0,n=e||(0!==e?i:0);this._x===i&&this._y===n||(this._x=i,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();i.default=r},{}],69:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=i}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();i.default=n},{}],70:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("./Point");Object.defineProperty(i,"Point",{enumerable:!0,get:function(){return n(r).default}});var o=t("./ObservablePoint");Object.defineProperty(i,"ObservablePoint",{enumerable:!0,get:function(){return n(o).default}});var s=t("./Matrix");Object.defineProperty(i,"Matrix",{enumerable:!0,get:function(){return n(s).default}});var a=t("./GroupD8");Object.defineProperty(i,"GroupD8",{enumerable:!0,get:function(){return n(a).default}});var c=t("./shapes/Circle");Object.defineProperty(i,"Circle",{enumerable:!0,get:function(){return n(c).default}});var u=t("./shapes/Ellipse");Object.defineProperty(i,"Ellipse",{enumerable:!0,get:function(){return n(u).default}});var l=t("./shapes/Polygon");Object.defineProperty(i,"Polygon",{enumerable:!0,get:function(){return n(l).default}});var h=t("./shapes/Rectangle");Object.defineProperty(i,"Rectangle",{enumerable:!0,get:function(){return n(h).default}});var _=t("./shapes/RoundedRectangle");Object.defineProperty(i,"RoundedRectangle",{enumerable:!0,get:function(){return n(_).default}})},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./Rectangle")),r=t("../../const"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=i,this.radius=n,this.type=r.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,n=this.x-t,r=this.y-e;return(n*=n)+(r*=r)<=i},t.prototype.getBounds=function(){return new n.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();i.default=o},{"../../const":46,"./Rectangle":74}],72:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./Rectangle")),r=t("../../const"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=i,this.width=n,this.height=o,this.type=r.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,n=(e-this.y)/this.height;return(i*=i)+(n*=n)<=1},t.prototype.getBounds=function(){return new n.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();i.default=o},{"../../const":46,"./Rectangle":74}],73:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("../Point")),r=t("../../const"),o=function(){function t(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(i[0])&&(i=i[0]),i[0]instanceof n.default){for(var s=[],a=0,c=i.length;a<c;a++)s.push(i[a].x,i[a].y);i=s}this.closed=!0,this.points=i,this.type=r.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var i=!1,n=this.points.length/2,r=0,o=n-1;r<n;o=r++){var s=this.points[2*r],a=this.points[2*r+1],c=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(c-s)+s&&(i=!i)}return i},t}();i.default=o},{"../../const":46,"../Point":69}],74:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("../../const"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=Number(e),this.y=Number(i),this.width=Number(n),this.height=Number(o),this.type=r.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(i-e,0),this.y=n,this.height=Math.max(r-n,0)},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=n,this.height=r-n},t.prototype.ceil=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,i=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=n-this.y},n(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();i.default=o},{"../../const":46}],75:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../../const"),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=i,this.width=r,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),n=e-(this.y+this.radius),r=this.radius*this.radius;if(i*i+n*n<=r)return!0;if((i=t-(this.x+this.width-this.radius))*i+n*n<=r)return!0;if(i*i+(n=e-(this.y+this.height-this.radius))*n<=r)return!0;if((i=t-(this.x+this.radius))*i+n*n<=r)return!0}return!1},t}();i.default=r},{"../../const":46}],76:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("../utils"),s=t("../math"),a=t("../const"),c=n(t("../settings")),u=n(t("../display/Container")),l=n(t("../textures/RenderTexture")),h=n(t("eventemitter3")),_=new s.Matrix,p=function(t){function e(i,n,r,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,o.sayHello)(i),"number"==typeof n&&(n=Object.assign({width:n,height:r||c.default.RENDER_OPTIONS.height},l)),n=Object.assign({},c.default.RENDER_OPTIONS,n),h.options=n,h.type=a.RENDERER_TYPE.UNKNOWN,h.screen=new s.Rectangle(0,0,n.width,n.height),h.view=n.view||document.createElement("canvas"),h.resolution=n.resolution||c.default.RESOLUTION,h.transparent=n.transparent,h.autoResize=n.autoResize||!1,h.blendModes=null,h.preserveDrawingBuffer=n.preserveDrawingBuffer,h.clearBeforeRender=n.clearBeforeRender,h.roundPixels=n.roundPixels,h._backgroundColor=0,h._backgroundColorRgba=[0,0,0,0],h._backgroundColorString="#000000",h.backgroundColor=n.backgroundColor||h._backgroundColor,h._tempDisplayObjectParent=new u.default,h._lastObjectRendered=h._tempDisplayObjectParent,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i,n){n=n||t.getLocalBounds();var r=l.default.create(0|n.width,0|n.height,e,i);return _.tx=-n.x,_.ty=-n.y,this.render(t,r,!1,_,!!t.parent),r},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,o.hex2string)(t),(0,o.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(h.default);i.default=p},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("../SystemRenderer")),o=n(t("./utils/CanvasMaskManager")),s=n(t("./utils/CanvasRenderTarget")),a=n(t("./utils/mapCanvasBlendModesToPixi")),c=t("../../utils"),u=t("../../const"),l=n(t("../../settings")),h=function(t){function e(i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",i,n,r));return s.type=u.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new o.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,i,n,r){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new s.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!r){var c=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=c}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==i?i:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var h=this.context;this.context=a,t.renderCanvas(this),this.context=h,a.restore(),this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=l.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(r.default);i.default=h,c.pluginTarget.mixin(h)},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../../../const"),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var i=t.alpha,n=t.transform.worldTransform,r=e.resolution;e.context.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=i},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,i=t.graphicsData.length;if(0!==i){e.beginPath();for(var r=0;r<i;r++){var o=t.graphicsData[r],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points,c=o.holes,u=void 0,l=void 0;e.moveTo(a[0],a[1]);for(var h=2;h<a.length;h+=2)e.lineTo(a[h],a[h+1]);if(a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath(),c.length>0){u=0;for(var _=0;_<a.length;_+=2)u+=a[_]*a[_+3]-a[_+1]*a[_+2];for(var p=0;p<c.length;p++){a=c[p].points,l=0;for(var d=0;d<a.length;d+=2)l+=a[d]*a[d+3]-a[d+1]*a[d+2];if(e.moveTo(a[0],a[1]),l*u<0)for(var f=2;f<a.length;f+=2)e.lineTo(a[f],a[f+1]);else for(var b=a.length-2;b>=2;b-=2)e.lineTo(a[b],a[b+1])}}}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var m=2*s.width,g=2*s.height,y=s.x-m/2,v=s.y-g/2,w=m/2*.5522848,x=g/2*.5522848,T=y+m,S=v+g,A=y+m/2,C=v+g/2;e.moveTo(y,C),e.bezierCurveTo(y,C-x,A-w,v,A,v),e.bezierCurveTo(A+w,v,T,C-x,T,C),e.bezierCurveTo(T,C+x,A+w,S,A,S),e.bezierCurveTo(A-w,S,y,C+x,y,C),e.closePath()}else if(o.type===n.SHAPES.RREC){var E=s.x,P=s.y,D=s.width,M=s.height,R=s.radius,I=Math.min(D,M)/2|0;R=R>I?I:R,e.moveTo(E,P+R),e.lineTo(E,P+M-R),e.quadraticCurveTo(E,P+M,E+R,P+M),e.lineTo(E+D-R,P+M),e.quadraticCurveTo(E+D,P+M,E+D,P+M-R),e.lineTo(E+D,P+R),e.quadraticCurveTo(E+D,P,E+D-R,P),e.lineTo(E+R,P),e.quadraticCurveTo(E,P,E,P+R),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();i.default=r},{"../../../const":46}],79:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(t("../../../settings")),o=function(){function t(e,i,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||r.default.RESOLUTION,this.resize(e,i)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},n(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();i.default=o},{"../../../settings":101}],80:[function(t,e,i){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");return i.fillStyle=t,i.fillRect(0,0,6,1),e}i.__esModule=!0,i.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),i=document.createElement("canvas");i.width=6,i.height=1;var r=i.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(t,0,0),r.drawImage(e,2,0);var o=r.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},{}],81:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over"),t[n.BLEND_MODES.NORMAL_NPM]=t[n.BLEND_MODES.NORMAL],t[n.BLEND_MODES.ADD_NPM]=t[n.BLEND_MODES.ADD],t[n.BLEND_MODES.SCREEN_NPM]=t[n.BLEND_MODES.SCREEN],t};var n=t("../../../const"),r=function(t){return t&&t.__esModule?t:{default:t}}(t("./canUseNewCanvasBlendModes"))},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../../const"),r=function(t){return t&&t.__esModule?t:{default:t}}(t("../../settings")),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=r.default.GC_MAX_IDLE,this.checkCountMax=r.default.GC_MAX_CHECK_COUNT,this.mode=r.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==n.GC_MODES.MANUAL&&++this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,i=!1,n=0;n<e.length;n++){var r=e[n];!r._glRenderTargets&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),e[n]=null,i=!0)}if(i){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},t}();i.default=o},{"../../const":46,"../../settings":101}],83:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("pixi-gl-core"),r=t("../../const"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("./utils/RenderTarget")),s=t("../../utils"),a=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var i=this.gl,s=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var c=0;c<a.length;++c)if(a[c]===t){e=c;break}}a[e]=t,i.activeTexture(i.TEXTURE0+e);var u=t._glTextures[this.renderer.CONTEXT_UID];if(u)s?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):u.upload(t.source);else{if(s){var l=new o.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,u=l.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(u=new n.GLTexture(this.gl,null,null,null,null)).bind(e),u.premultiplyAlpha=!0,u.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=u,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&u.enableMipmap(),t.wrapMode===r.WRAP_MODES.CLAMP?u.enableWrapClamp():t.wrapMode===r.WRAP_MODES.REPEAT?u.enableWrapRepeat():u.enableWrapMirrorRepeat()):u.enableWrapClamp(),t.scaleMode===r.SCALE_MODES.NEAREST?u.enableNearestScaling():u.enableLinearScaling()}return u},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var i=this.renderer,n=i.CONTEXT_UID,r=t._glTextures,o=t._glRenderTargets;if(r[n]&&(i.unbindTexture(t),r[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[n],!e)){var a=this._managedTextures.indexOf(t);-1!==a&&(0,s.removeItems)(this._managedTextures,a,1)}o&&o[n]&&(i._activeRenderTarget===o[n]&&i.bindRenderTarget(i.rootRenderTarget),o[n].destroy(),delete o[n])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();i.default=a},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("../SystemRenderer")),o=n(t("./managers/MaskManager")),s=n(t("./managers/StencilManager")),a=n(t("./managers/FilterManager")),c=n(t("./utils/RenderTarget")),u=n(t("./utils/ObjectRenderer")),l=n(t("./TextureManager")),h=n(t("../../textures/BaseTexture")),_=n(t("./TextureGarbageCollector")),p=n(t("./WebGLState")),d=n(t("./utils/mapWebGLDrawModesToPixi")),f=n(t("./utils/validateContext")),b=t("../../utils"),m=n(t("pixi-gl-core")),g=t("../../const"),y=0,v=function(t){function e(i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",i,n,r));return a.legacy=a.options.legacy,a.legacy&&(m.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=g.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new o.default(a),a.stencilManager=new s.default(a),a.emptyRenderer=new u.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,f.default)(a.options.context),a.gl=a.options.context||m.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=y++,a.state=new p.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,d.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this._unknownBoundTextures=!1,this.textureManager=new l.default(this),this.filterManager=new a.default(this),this.textureGC=new _.default(this),this.state.resetToDefault(),this.rootRenderTarget=new c.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var i=new m.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var r=0;r<e;r++){var o=new h.default;o._glTextures[this.CONTEXT_UID]=i,this.boundTextures[r]=n,this.emptyTextures[r]=o,this.bindTexture(null,r)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,i,n,r){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!r){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){r.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var i=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return i&&i.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var i=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(i=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else i=this.rootRenderTarget;return i.transform=e,this.bindRenderTarget(i),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,i){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,i)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var r=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===this.emptyTextures[i]&&(e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture))}for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===t&&(this.boundTextures[n]=this.emptyTextures[n],e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new m.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(r.default);i.default=v,b.pluginTarget.mixin(v)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./utils/mapWebGLBlendModesToPixi")),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,n.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var i=1;i<this.maxAttribs;i++)this.gl.disableVertexAttribArray(i)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();i.default=r},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=n(t("./extractUniformsFromSrc")),s=t("../../../utils"),a=t("../../../const"),c=n(t("../../../settings")),u={},l=function(){function t(e,i,n){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=n||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[r]=this.uniformData[r].value,this.uniformData[r].type&&(this.uniformData[r].type=this.uniformData[r].type.toLowerCase());this.glShaders={},u[this.vertexSrc+this.fragmentSrc]||(u[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=u[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=c.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,i,n,r){t.applyFilter(this,e,i,n)},r(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();i.default=l},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(t,e,i){"use strict";function n(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),i={},n=void 0,o=t.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<o.length;s++){var a=o[s].trim();if(a.indexOf("uniform")>-1){var c=a.split(" "),u=c[1],l=c[2],h=1;l.indexOf("[")>-1&&(l=(n=l.split(/\[|]/))[0],h*=Number(n[1])),l.match(e)||(i[l]={value:r(u,h),name:l,type:u})}}return i}i.__esModule=!0,i.default=function(t,e,i){var r=n(t),o=n(e);return Object.assign(r,o)};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("pixi-gl-core")).default.shader.defaultValue},{"pixi-gl-core":15}],88:[function(t,e,i){"use strict";i.__esModule=!0,i.calculateScreenSpaceMatrix=function(t,e,i){var n=t.identity();return n.translate(e.x/i.width,e.y/i.height),n.scale(i.width,i.height),n},i.calculateNormalizedScreenSpaceMatrix=function(t,e,i){var n=t.identity();n.translate(e.x/i.width,e.y/i.height);var r=i.width/e.width,o=i.height/e.height;return n.scale(r,o),n},i.calculateSpriteMatrix=function(t,e,i,r){var o=r._texture.orig,s=t.set(i.width,0,0,i.height,e.x,e.y),a=r.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s};var n=t("../../../math")},{"../../../math":70}],89:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("../Filter")),o=t("../../../../math"),s=n((t("path"),t("../../../../textures/TextureMatrix"))),a=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new o.Matrix,r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return i.renderable=!1,r.maskSprite=i,r.maskMatrix=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,i,n){var r=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new s.default(o,0)),o.transform.update(),this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(o.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,i,n))},e}(r.default);i.default=a},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var o=n(t("./WebGLManager")),s=n(t("../utils/RenderTarget")),a=n(t("../utils/Quad")),c=t("../../../math"),u=n(t("../../../Shader")),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../filters/filterTransforms")),h=n(t("bit-twiddle")),_=function(){function t(){r(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new c.Rectangle,this.destinationFrame=new c.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),p=function(t){function e(i){r(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.gl=n.renderer.gl,n.quad=new a.default(n.gl,i.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=i.view.width,n._screenHeight=i.view.height,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var i=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var r=new _;r.sourceFrame=r.destinationFrame=this.renderer._activeRenderTarget.size,r.renderTarget=i._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[r]},this.filterData=n}var o=n.stack[++n.index],s=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new _);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===i.screen.width&&t.filterArea.height===i.screen.height,c=e[0].resolution,u=0|e[0].padding,l=a?i.screen:t.filterArea||t.getBounds(!0),h=o.sourceFrame,p=o.destinationFrame;h.x=(l.x*c|0)/c,h.y=(l.y*c|0)/c,h.width=(l.width*c|0)/c,h.height=(l.height*c|0)/c,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(s),h.pad(u)),p.width=h.width,p.height=h.height;var d=this.getPotRenderTarget(i.gl,h.width,h.height,c);o.target=t,o.filters=e,o.resolution=c,o.renderTarget=d,d.setFrame(p,h),i.bindRenderTarget(d),d.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],i=t.stack[t.index];this.quad.map(i.renderTarget.size,i.sourceFrame).upload();var n=i.filters;if(1===n.length)n[0].apply(this,i.renderTarget,e.renderTarget,!1,i),this.freePotRenderTarget(i.renderTarget);else{var r=i.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,i.resolution);o.setFrame(i.destinationFrame,i.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,r,o,!0,i);var a=r;r=o,o=a}n[s].apply(this,r,e.renderTarget,!1,i),this.freePotRenderTarget(r),this.freePotRenderTarget(o)}i.clear(),0==--t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,i,n){var r=this.renderer,o=r.gl,s=t.glShaders[r.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[r.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[r.CONTEXT_UID]=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),r.bindVao(null),this.quad.initVao(s)),r.bindVao(this.quad.vao),r.bindRenderTarget(i),n&&(o.disable(o.SCISSOR_TEST),r.clear(),o.enable(o.SCISSOR_TEST)),i===r.maskManager.scissorRenderTarget&&r.maskManager.pushScissorMask(null,r.maskManager.scissorData),r.bindShader(s);var a=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=a,this.syncUniforms(s,t),r.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var i=e.uniformData,n=e.uniforms,r=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var c in i)if(t.uniforms.data[c]){var u=i[c].type;if("sampler2d"===u&&0!==n[c]){if(n[c].baseTexture)t.uniforms[c]=this.renderer.bindTexture(n[c].baseTexture,r);else{t.uniforms[c]=r;var l=this.renderer.gl;this.renderer.boundTextures[r]=this.renderer.emptyTextures[r],l.activeTexture(l.TEXTURE0+r),n[c].texture.bind()}r++}else if("mat3"===u)void 0!==n[c].a?t.uniforms[c]=n[c].toArray(!0):t.uniforms[c]=n[c];else if("vec2"===u)if(void 0!==n[c].x){var h=t.uniforms[c]||new Float32Array(2);h[0]=n[c].x,h[1]=n[c].y,t.uniforms[c]=h}else t.uniforms[c]=n[c];else"float"===u?t.uniforms.data[c].value!==i[c]&&(t.uniforms[c]=n[c]):t.uniforms[c]=n[c]}},e.prototype.getRenderTarget=function(t,e){var i=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,e||i.resolution);return n.setFrame(i.destinationFrame,i.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return l.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return l.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.filterData.stack[this.filterData.index];return l.calculateSpriteMatrix(t,i.sourceFrame,i.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,i=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<i.length;n++)t||i[n].glShaders[e.CONTEXT_UID].destroy(),delete i[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,i,n){var r="screen";i*=n,(e*=n)===this._screenWidth&&i===this._screenHeight||(r=(65535&(e=h.default.nextPow2(e)))<<16|65535&(i=h.default.nextPow2(i))),this.pool[r]||(this.pool[r]=[]);var o=this.pool[r].pop();if(!o){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new s.default(t,e,i,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=i/n,o.filterPoolKey=r,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var i=0;i<e.length;i++)e[i].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(o.default);i.default=p},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("./WebGLManager")),o=n(t("../filters/spriteMask/SpriteMaskFilter")),s=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,n=Math.atan2(i.b,i.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new o.default(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,i),t.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var r=this.renderer.resolution;this.renderer.gl.scissor(n.x*r,(i.root?i.size.height-n.y-n.height:n.y)*r,n.width*r,n.height*r),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(r.default);i.default=s},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./WebGLManager")),r=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.stencilMaskStack=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,i,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){n.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(n.default);i.default=r},{"./WebGLManager":93}],93:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();i.default=n},{}],94:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../managers/WebGLManager")).default);i.default=n},{"../managers/WebGLManager":93}],95:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("pixi-gl-core")),o=n(t("../../../utils/createIndicesForQuads")),s=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,o.default)(1),this.vertexBuffer=r.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(e,i)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+e.width/t.width,this.uvs[3]=n,this.uvs[4]=i+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=i,this.uvs[7]=n+e.height/t.height,i=e.x,n=e.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();i.default=s},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../../../math"),r=t("../../../const"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../../../settings")),s=t("pixi-gl-core"),a=function(){function t(e,i,a,c,u,l){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new n.Rectangle(0,0,1,1),this.resolution=u||o.default.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new n.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==c?c:o.default.SCALE_MODE,this.root=l||!1,this.root?(this.frameBuffer=new s.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=s.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===r.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(i,a)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var i=this.projectionMatrix;e=e||t,i.identity(),this.root?(i.a=1/t.width*2,i.d=-1/t.height*2,i.tx=-1-e.x*i.a,i.ty=1-e.y*i.d):(i.a=1/t.width*2,i.d=1/t.height*2,i.tx=-1-e.x*i.a,i.ty=-1-e.y*i.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var i=this.frame||this.size;this.calculateProjection(i)}},t.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();i.default=a},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(t,e,i){"use strict";function n(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}i.__esModule=!0,i.default=function(t,e){var i=!e;if(i){var s=document.createElement("canvas");s.width=1,s.height=1,e=r.default.createContext(s)}for(var a=e.createShader(e.FRAGMENT_SHADER);;){var c=o.replace(/%forloop%/gi,n(t));if(e.shaderSource(a,c),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS))break;t=t/2|0}return i&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("pixi-gl-core")),o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":15}],98:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e};var n=t("../../../const")},{"../../../const":46}],99:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=t("../../../const")},{"../../../const":46}],100:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],101:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("./utils/maxRecommendedTextures")),o=n(t("./utils/canUploadSameBuffer"));i.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,o.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],102:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("../math"),s=t("../utils"),a=t("../const"),c=n(t("../textures/Texture")),u=n(t("../display/Container")),l=new o.Point,h=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._anchor=new o.ObservablePoint(n._onAnchorUpdate,n,i?i.defaultAnchor.x:0,i?i.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=a.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=i||c.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,s.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,s.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,i=e.a,n=e.b,r=e.c,o=e.d,s=e.tx,a=e.ty,c=this.vertexData,u=t.trim,l=t.orig,h=this._anchor,_=0,p=0,d=0,f=0;u?(_=(p=u.x-h._x*l.width)+u.width,d=(f=u.y-h._y*l.height)+u.height):(_=(p=-h._x*l.width)+l.width,d=(f=-h._y*l.height)+l.height),c[0]=i*p+r*f+s,c[1]=o*f+n*p+a,c[2]=i*_+r*f+s,c[3]=o*f+n*_+a,c[4]=i*_+r*d+s,c[5]=o*d+n*_+a,c[6]=i*p+r*d+s,c[7]=o*d+n*p+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,n=this._anchor,r=this.transform.worldTransform,o=r.a,s=r.b,a=r.c,c=r.d,u=r.tx,l=r.ty,h=-n._x*i.width,_=h+i.width,p=-n._y*i.height,d=p+i.height;e[0]=o*h+a*p+u,e[1]=c*p+s*h+l,e[2]=o*_+a*p+u,e[3]=c*p+s*_+l,e[4]=o*_+a*d+u,e[5]=c*d+s*_+l,e[6]=o*h+a*d+u,e[7]=c*d+s*h+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,i=this._texture.orig.height,n=-e*this.anchor.x,r=0;return l.x>=n&&l.x<n+e&&(r=-i*this.anchor.y,l.y>=r&&l.y<r+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t){return new e(c.default.from(t))},e.fromFrame=function(t){var i=s.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(i)},e.fromImage=function(t,i,n){return new e(c.default.fromImage(t,i,n))},r(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||c.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);i.default=h},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("../../renderers/canvas/CanvasRenderer")),o=t("../../const"),s=t("../../math"),a=n(t("./CanvasTinter")),c=new s.Matrix,u=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,i=this.renderer,n=e._frame.width,r=e._frame.height,u=t.transform.worldTransform,l=0,h=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(i.setBlendMode(t.blendMode),e.valid)){i.context.globalAlpha=t.worldAlpha;var _=e.baseTexture.scaleMode===o.SCALE_MODES.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==_&&(i.context[i.smoothProperty]=_),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,h=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,h=(.5-t.anchor.y)*e.orig.height),e.rotate&&(u.copy(c),u=c,s.GroupD8.matrixAppendRotationInv(u,e.rotate,l,h),l=0,h=0),l-=n/2,h-=r/2,i.roundPixels?(i.context.setTransform(u.a,u.b,u.c,u.d,u.tx*i.resolution|0,u.ty*i.resolution|0),l|=0,h|=0):i.context.setTransform(u.a,u.b,u.c,u.d,u.tx*i.resolution,u.ty*i.resolution);var p=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=a.default.getTintedTexture(t,t.tint)),i.context.drawImage(t.tintedTexture,0,0,n*p,r*p,l*i.resolution,h*i.resolution,n*i.resolution,r*i.resolution)):i.context.drawImage(e.baseTexture.source,e._frame.x*p,e._frame.y*p,n*p,r*p,l*i.resolution,h*i.resolution,n*i.resolution,r*i.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();i.default=u,r.default.registerPlugin("sprite",u)},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../../utils"),r={getTintedTexture:function(t,e){var i=t._texture,n="#"+("00000"+(0|(e=r.roundColor(e))).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var o=i.tintCache[n],s=void 0;if(o){if(o.tintId===i._updateID)return i.tintCache[n];s=i.tintCache[n]}else s=r.canvas||document.createElement("canvas");if(r.tintMethod(i,e,s),s.tintId=i._updateID,r.convertTintToImage){var a=new Image;a.src=s.toDataURL(),i.tintCache[n]=a}else i.tintCache[n]=s,r.canvas=null;return s},tintWithMultiply:function(t,e,i){var n=i.getContext("2d"),r=t._frame.clone(),o=t.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.restore()},tintWithOverlay:function(t,e,i){var n=i.getContext("2d"),r=t._frame.clone(),o=t.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.restore()},tintWithPerPixel:function(t,e,i){var r=i.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,i.width=Math.ceil(o.width),i.height=Math.ceil(o.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.restore();for(var a=(0,n.hex2rgb)(e),c=a[0],u=a[1],l=a[2],h=r.getImageData(0,0,o.width,o.height),_=h.data,p=0;p<_.length;p+=4)_[p+0]*=c,_[p+1]*=u,_[p+2]*=l;r.putImageData(h,0,0)},roundColor:function(t){var e=r.cacheStepsPerColorChannel,i=(0,n.hex2rgb)(t);return i[0]=Math.min(255,i[0]/e*e),i[1]=Math.min(255,i[1]/e*e),i[2]=Math.min(255,i[2]/e*e),(0,n.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,function(t){return t&&t.__esModule?t:{default:t}}(t("../../renderers/canvas/utils/canUseNewCanvasBlendModes")).default)(),tintMethod:0};r.tintMethod=r.canUseMultiply?r.tintWithMultiply:r.tintWithPerPixel,i.default=r},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();i.default=n},{}],106:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("../../renderers/webgl/utils/ObjectRenderer")),o=n(t("../../renderers/webgl/WebGLRenderer")),s=n(t("../../utils/createIndicesForQuads")),a=n(t("./generateMultiTextureShader")),c=n(t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")),u=n(t("./BatchBuffer")),l=n(t("../../settings")),h=t("../../utils"),_=n(t("pixi-gl-core")),p=n(t("bit-twiddle")),d=0,f=0,b=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=l.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var r=1;r<=p.default.nextPow2(n.size);r*=2)n.buffers.push(new u.default(4*r*n.vertByteSize));n.indices=(0,s.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var o=0;o<n.size;o++)n.groups[o]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,c.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=_.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,i=0;i<this.vaoMax;i++){var n=this.vertexBuffers[i]=_.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),r=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&r.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[i]=r}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,i=p.default.nextPow2(this.currentIndex),n=p.default.log2(i),r=this.buffers[n],o=this.sprites,s=this.groups,a=r.float32View,c=r.uint32View,u=this.boundTextures,b=this.renderer.boundTextures,m=this.renderer.textureGC.count,g=0,y=void 0,v=void 0,w=1,x=0,T=s[0],S=void 0,A=void 0,C=h.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];T.textureCount=0,T.start=0,T.blend=C,d++;var E=void 0;for(E=0;E<e;++E){var P=b[E];P._enabled!==d?(u[E]=P,P._virtalBoundId=E,P._enabled=d):u[E]=this.renderer.emptyTextures[E]}for(d++,E=0;E<this.currentIndex;++E){var D=o[E];o[E]=null,y=D._texture.baseTexture;var M=h.premultiplyBlendMode[Number(y.premultipliedAlpha)][D.blendMode];if(C!==M&&(C=M,v=null,x=e,d++),v!==y&&(v=y,y._enabled!==d)){if(x===e&&(d++,T.size=E-T.start,x=0,(T=s[w++]).blend=C,T.textureCount=0,T.start=E),y.touched=m,-1===y._virtalBoundId)for(var R=0;R<e;++R){var I=(R+f)%e,O=u[I];if(O._enabled!==d){f++,O._virtalBoundId=-1,y._virtalBoundId=I,u[I]=y;break}}y._enabled=d,T.textureCount++,T.ids[x]=y._virtalBoundId,T.textures[x++]=y}if(S=D.vertexData,A=D._texture._uvs.uvsUint32,this.renderer.roundPixels){var k=this.renderer.resolution;a[g]=(S[0]*k|0)/k,a[g+1]=(S[1]*k|0)/k,a[g+5]=(S[2]*k|0)/k,a[g+6]=(S[3]*k|0)/k,a[g+10]=(S[4]*k|0)/k,a[g+11]=(S[5]*k|0)/k,a[g+15]=(S[6]*k|0)/k,a[g+16]=(S[7]*k|0)/k}else a[g]=S[0],a[g+1]=S[1],a[g+5]=S[2],a[g+6]=S[3],a[g+10]=S[4],a[g+11]=S[5],a[g+15]=S[6],a[g+16]=S[7];c[g+2]=A[0],c[g+7]=A[1],c[g+12]=A[2],c[g+17]=A[3];var L=Math.min(D.worldAlpha,1),j=L<1&&y.premultipliedAlpha?(0,h.premultiplyTint)(D._tintRGB,L):D._tintRGB+(255*L<<24);c[g+3]=c[g+8]=c[g+13]=c[g+18]=j,a[g+4]=a[g+9]=a[g+14]=a[g+19]=y._virtalBoundId,g+=20}if(T.size=E-T.start,l.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var B=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=_.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),J=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,B.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(F,B.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,B.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);B.aTextureId&&J.addAttribute(F,B.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=J}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!1),this.vertexCount++}for(E=0;E<e;++E)b[E]._virtalBoundId=-1;for(E=0;E<w;++E){for(var G=s[E],N=G.textureCount,U=0;U<N;U++)v=G.textures[U],b[G.ids[U]]!==v&&this.renderer.bindTexture(v,G.ids[U],!0),v._virtalBoundId=-1;this.renderer.state.setBlendMode(G.blend),t.drawElements(t.TRIANGLES,6*G.size,t.UNSIGNED_SHORT,6*G.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),l.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var i=0;i<this.buffers.length;++i)this.buffers[i].destroy()},e}(r.default);i.default=b,o.default.registerPlugin("sprite",b)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e){var i=r;i=(i=i.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var o=new n.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",i),s=[],a=0;a<e;a++)s[a]=a;return o.bind(),o.uniforms.uSamplers=s,o};var n=function(t){return t&&t.__esModule?t:{default:t}}(t("../../Shader")),r=(t("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":44,path:8}],108:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=n(t("../sprites/Sprite")),s=n(t("../textures/Texture")),a=t("../math"),c=t("../utils"),u=t("../const"),l=n(t("../settings")),h=n(t("./TextStyle")),_=n(t("./TextMetrics")),p=n(t("../utils/trimCanvas")),d={texture:!0,children:!1,baseTexture:!0},f=function(t){function e(i,n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(r=r||document.createElement("canvas")).width=3,r.height=3;var o=s.default.fromCanvas(r,l.default.SCALE_MODE,"text");o.orig=new a.Rectangle,o.trim=new a.Rectangle;var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return s.default.addToCache(c._texture,c._texture.baseTexture.textureCacheIds[0]),c.canvas=r,c.context=c.canvas.getContext("2d"),c.resolution=l.default.RESOLUTION,c._text=null,c._style=null,c._styleListener=null,c._font="",c.text=i,c.style=n,c.localStyleID=-1,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i=this.context,n=_.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),r=n.width,o=n.height,s=n.lines,a=n.lineHeight,c=n.lineWidths,u=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,r)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),i.scale(this.resolution,this.resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.strokeStyle=e.stroke,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;var h=void 0,p=void 0;if(e.dropShadow){i.fillStyle=e.dropShadowColor,i.globalAlpha=e.dropShadowAlpha,i.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(i.shadowColor=e.dropShadowColor);for(var d=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,f=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,b=0;b<s.length;b++)h=e.strokeThickness/2,p=e.strokeThickness/2+b*a+l.ascent,"right"===e.align?h+=u-c[b]:"center"===e.align&&(h+=(u-c[b])/2),e.fill&&(this.drawLetterSpacing(s[b],h+d+e.padding,p+f+e.padding),e.stroke&&e.strokeThickness&&(i.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[b],h+d+e.padding,p+f+e.padding,!0),i.strokeStyle=e.stroke))}i.shadowBlur=0,i.globalAlpha=1,i.fillStyle=this._generateFillStyle(e,s);for(var m=0;m<s.length;m++)h=e.strokeThickness/2,p=e.strokeThickness/2+m*a+l.ascent,"right"===e.align?h+=u-c[m]:"center"===e.align&&(h+=(u-c[m])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[m],h+e.padding,p+e.padding,!0),e.fill&&this.drawLetterSpacing(s[m],h+e.padding,p+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this._style.letterSpacing;if(0!==r)for(var o=String.prototype.split.call(t,""),s=e,a=0,c="",u=this.context.measureText(t).width,l=0;a<t.length;)c=o[a++],n?this.context.strokeText(c,s,i):this.context.fillText(c,s,i),s+=u-(l=this.context.measureText(t.substring(a)).width)+r,u=l;else n?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,p.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,n=this._style,r=n.trim?0:n.padding,o=i.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,i.trim.width=i._frame.width=t.width/this.resolution,i.trim.height=i._frame.height=t.height/this.resolution,i.trim.x=-r,i.trim.y=-r,i.orig.width=i._frame.width-2*r,i.orig.height=i._frame.height-2*r,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var i=void 0,n=void 0,r=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,c=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var h=c.length+1,_=1;_<h;++_)l.push(_/h);if(c.unshift(t.fill[0]),l.unshift(0),c.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,0,s/2,a),n=(c.length+1)*e.length,r=0;for(var p=0;p<e.length;p++){r+=1;for(var d=0;d<c.length;d++)o="number"==typeof l[d]?l[d]/e.length+p/e.length:r/n,i.addColorStop(o,c[d]),r++}}else{i=this.context.createLinearGradient(0,a/2,s,a/2),n=c.length+1,r=1;for(var f=0;f<c.length;f++)o="number"==typeof l[f]?l[f]:r/n,i.addColorStop(o,c[f]),r++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},d,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,c.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,c.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof h.default?this._style=t:this._style=new h.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(o.default);i.default=f},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(e,i,n,r,o,s,a,c,u){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.text=e,this.style=i,this.width=n,this.height=r,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=u}return t.measureText=function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=void 0===n||null===n?i.wordWrap:n;var o=i.toFontString(),s=t.measureFont(o),a=r.getContext("2d");a.font=o;for(var c=(n?t.wordWrap(e,i,r):e).split(/(?:\r\n|\r|\n)/),u=new Array(c.length),l=0,h=0;h<c.length;h++){var _=a.measureText(c[h]).width+(c[h].length-1)*i.letterSpacing;u[h]=_,l=Math.max(l,_)}var p=l+i.strokeThickness;i.dropShadow&&(p+=i.dropShadowDistance);var d=i.lineHeight||s.fontSize+i.strokeThickness,f=Math.max(d,s.fontSize+i.strokeThickness)+(c.length-1)*(d+i.leading);return i.dropShadow&&(f+=i.dropShadowDistance),new t(e,i,p,f,c,u,d+i.leading,l,s)},t.wordWrap=function(e,i){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),r=0,o="",s="",a={},c=i.letterSpacing,u=i.whiteSpace,l=t.collapseSpaces(u),h=t.collapseNewlines(u),_=!l,p=i.wordWrapWidth+c,d=t.tokenize(e),f=0;f<d.length;f++){var b=d[f];if(t.isNewline(b)){if(!h){s+=t.addLine(o),_=!l,o="",r=0;continue}b=" "}if(l){var m=t.isBreakingSpace(b),g=t.isBreakingSpace(o[o.length-1]);if(m&&g)continue}var y=t.getFromCache(b,c,a,n);if(y>p)if(""!==o&&(s+=t.addLine(o),o="",r=0),t.canBreakWords(b,i.breakWords))for(var v=b.split(""),w=0;w<v.length;w++){for(var x=v[w],T=1;v[w+T];){var S=v[w+T],A=x[x.length-1];if(t.canBreakChars(A,S,b,w,i.breakWords))break;x+=S,T++}w+=x.length-1;var C=t.getFromCache(x,c,a,n);C+r>p&&(s+=t.addLine(o),_=!1,o="",r=0),o+=x,r+=C}else{o.length>0&&(s+=t.addLine(o),o="",r=0);var E=f===d.length-1;s+=t.addLine(b,!E),_=!1,o="",r=0}else y+r>p&&(_=!1,s+=t.addLine(o),o="",r=0),(o.length>0||!t.isBreakingSpace(b)||_)&&(o+=b,r+=y)}return s+t.addLine(o,!1)},t.addLine=function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),i?e+"\n":e},t.getFromCache=function(t,e,i,n){var r=i[t];if(void 0===r){var o=t.length*e;r=n.measureText(t).width+o,i[t]=r}return r},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var i=e.length-1;i>=0;i--){var n=e[i];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var i=[],n="";if("string"!=typeof e)return i;for(var r=0;r<e.length;r++){var o=e[r];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(i.push(n),n=""),i.push(o)):n+=o}return""!==n&&i.push(n),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,i,n,r){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={},n=t._canvas,r=t._context;r.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(r.measureText(o).width),a=Math.ceil(r.measureText(t.BASELINE_SYMBOL).width),c=2*a;a=a*t.BASELINE_MULTIPLIER|0,n.width=s,n.height=c,r.fillStyle="#f00",r.fillRect(0,0,s,c),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o,0,a);var u=r.getImageData(0,0,s,c).data,l=u.length,h=4*s,_=0,p=0,d=!1;for(_=0;_<a;++_){for(var f=0;f<h;f+=4)if(255!==u[p+f]){d=!0;break}if(d)break;p+=h}for(i.ascent=a-_,p=l-h,d=!1,_=c;_>a;--_){for(var b=0;b<h;b+=4)if(255!==u[p+b]){d=!0;break}if(d)break;p-=h}return i.descent=_-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();i.default=n;var r=document.createElement("canvas");r.width=r.height=10,n._canvas=r,n._context=r.getContext("2d"),n._fonts={},n.METRICS_STRING="|q",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},{}],110:[function(t,e,i){"use strict";function n(t){return"number"==typeof t?(0,c.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function r(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=n(t[e]);return t}return n(t)}function o(t,e,i){for(var n in i)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}i.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=t("../const"),c=t("../utils"),u={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:a.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},l=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],h=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.styleID=0,this.reset(),o(this,e,e)}return t.prototype.clone=function(){var e={};return o(e,this,u),new t(e)},t.prototype.reset=function(){o(this,u,u)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var n=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&l.indexOf(n)<0&&(n='"'+n+'"'),e[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},s(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=r(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=r(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=r(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();i.default=h},{"../const":46,"../utils":125}],111:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("./BaseTexture")),o=n(t("../settings")),s=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,r));return a.resolution=s||o.default.RESOLUTION,a.width=Math.ceil(i),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==r?r:o.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(r.default);i.default=s},{"../settings":101,"./BaseTexture":112}],112:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("../utils"),o=n(t("../settings")),s=n(t("eventemitter3")),a=n(t("../utils/determineCrossOrigin")),c=n(t("bit-twiddle")),u=function(t){function e(i,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,r.uid)(),a.touched=0,a.resolution=s||o.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==n?n:o.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=o.default.MIPMAP_TEXTURES,a.wrapMode=o.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],i&&a.loadSource(i),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=c.default.isPow2(this.realWidth)&&c.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var i=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),i&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){if(n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading){if(n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType)return void n._loadSvgSource();n.emit("loaded",n)}},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,r.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var i=t.subType.split("+")[0];if(!(e=(0,r.getUrlFileExtension)("."+i)))throw new Error("Invalid image type in data URI.")}else(e=(0,r.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,r.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var i=(0,r.getSvgSize)(t),n=i.width,o=i.height;if(!n||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,r.uid)(),s.getContext("2d").drawImage(this.source,0,0,n,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,e.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,i,n,o){var s=r.BaseTextureCache[t];if(!s){var c=new Image;void 0===i&&0!==t.indexOf("data:")?c.crossOrigin=(0,a.default)(t):i&&(c.crossOrigin="string"==typeof i?i:"anonymous"),(s=new e(c,n)).imageUrl=t,o&&(s.sourceScale=o),s.resolution=(0,r.getResolutionOfUrl)(t),c.src=t,e.addToCache(s,t)}return s},e.fromCanvas=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=n+"_"+(0,r.uid)());var o=r.BaseTextureCache[t._pixiId];return o||(o=new e(t,i),e.addToCache(o,t._pixiId)),o},e.from=function(t,i,n){if("string"==typeof t)return e.fromImage(t,void 0,i,n);if(t instanceof HTMLImageElement){var o=t.src,s=r.BaseTextureCache[o];return s||((s=new e(t,i)).imageUrl=o,n&&(s.sourceScale=n),s.resolution=(0,r.getResolutionOfUrl)(o),e.addToCache(s,o)),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,i):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),r.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=r.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete r.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete r.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(s.default);i.default=u},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("./BaseRenderTexture")),o=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(i instanceof r.default)){var s=arguments[1],a=arguments[2],c=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],n=null,i=new r.default(s,a,c,u)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return l.legacyRenderer=o,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,i){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,i,n,o){return new e(new r.default(t,i,n,o))},e}(n(t("./Texture")).default);i.default=o},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("../"),o=t("../utils"),s=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=i,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=(0,o.getResolutionOfUrl)(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&(this.baseTexture.resolution=i,this.baseTexture.update()),i},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var i=e,n=t.BATCH_SIZE,o=this.baseTexture.sourceScale;i-e<n&&i<this._frameKeys.length;){var s=this._frameKeys[i],a=this._frames[s],c=a.frame;if(c){var u,l=null,h=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,_=new r.Rectangle(0,0,Math.floor(h.w*o)/this.resolution,Math.floor(h.h*o)/this.resolution);u=a.rotated?new r.Rectangle(Math.floor(c.x*o)/this.resolution,Math.floor(c.y*o)/this.resolution,Math.floor(c.h*o)/this.resolution,Math.floor(c.w*o)/this.resolution):new r.Rectangle(Math.floor(c.x*o)/this.resolution,Math.floor(c.y*o)/this.resolution,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new r.Rectangle(Math.floor(a.spriteSourceSize.x*o)/this.resolution,Math.floor(a.spriteSourceSize.y*o)/this.resolution,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution)),this.textures[s]=new r.Texture(this.baseTexture,u,_,l,a.rotated?2:0,a.anchor),r.Texture.addToCache(this.textures[s],s)}i++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];var i=t[e],n=Array.isArray(i),r=0;for(i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if((r=i.next()).done)break;o=r.value}var s=o;this.animations[e].push(this.textures[s])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();i.default=s},{"../":65,"../utils":125}],115:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}i.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=n(t("./BaseTexture")),a=n(t("./VideoBaseTexture")),c=n(t("./TextureUvs")),u=n(t("eventemitter3")),l=t("../math"),h=t("../utils"),_=n(t("../settings")),p=function(t){function e(i,n,r,o,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(c.noFrame=!1,n||(c.noFrame=!0,n=new l.Rectangle(0,0,1,1)),i instanceof e&&(i=i.baseTexture),c.baseTexture=i,c._frame=n,c.trim=o,c.valid=!1,c.requiresUpdate=!1,c._uvs=null,c.orig=r||n,c._rotate=Number(s||0),!0===s)c._rotate=2;else if(c._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return i.hasLoaded?(c.noFrame&&(n=new l.Rectangle(0,0,i.width,i.height),i.on("update",c.onBaseTextureUpdated,c)),c.frame=n):i.once("loaded",c.onBaseTextureLoaded,c),c.defaultAnchor=a?new l.Point(a.x,a.y):new l.Point(0,0),c._updateID=0,c.transform=null,c.textureCacheIds=[],c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new l.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new c.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,i,n,r){var o=h.TextureCache[t];return o||(o=new e(s.default.fromImage(t,i,n,r)),e.addToCache(o,t)),o},e.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(s.default.fromCanvas(t,i,n))},e.fromVideo=function(t,i,n,r){return"string"==typeof t?e.fromVideoUrl(t,i,n,r):new e(a.default.fromVideo(t,i,r))},e.fromVideoUrl=function(t,i,n,r){return new e(a.default.fromUrl(t,i,n,r))},e.from=function(t){if("string"==typeof t){var i=h.TextureCache[t];return i||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(s.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,_.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof s.default?new e(t):t},e.fromLoader=function(t,i,n){var r=new s.default(t,void 0,(0,h.getResolutionOfUrl)(i)),o=new e(r);return r.imageUrl=i,n||(n=i),s.default.addToCache(o.baseTexture,n),e.addToCache(o,n),n!==i&&(s.default.addToCache(o.baseTexture,i),e.addToCache(o,i)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)h.TextureCache[t.textureCacheIds[n]]===t&&delete h.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},o(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,n=t.width,r=t.height,o=e+n>this.baseTexture.width,s=i+r>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",c="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,u="Y: "+i+" + "+r+" = "+(i+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+c+" "+a+" "+u)}this.valid=n&&r&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(u.default);i.default=p,p.EMPTY=new p(new s.default),r(p.EMPTY),r(p.EMPTY.baseTexture),p.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new p(new s.default(t))}(),r(p.WHITE),r(p.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(t("../math/Matrix")),o=new r.default,s=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._texture=e,this.mapCoord=new r.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===i?.5:i}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[n]=r*i.a+o*i.c+i.tx,e[n+1]=r*i.b+o*i.d+i.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var n=e.orig,r=e.trim;r&&(o.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(o));var s=e.baseTexture,a=this.uClampFrame,c=this.clampMargin/s.resolution,u=this.clampOffset;return a[0]=(e._frame.x+c+u)/s.width,a[1]=(e._frame.y+c+u)/s.height,a[2]=(e._frame.x+e._frame.width-c+u)/s.width,a[3]=(e._frame.y+e._frame.height-c+u)/s.height,this.uClampOffset[0]=u/s.realWidth,this.uClampOffset[1]=u/s.realHeight,!0},n(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();i.default=s},{"../math/Matrix":67}],117:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("../math/GroupD8")),r=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,c=t.x/r+s,u=t.y/o+a;i=n.default.add(i,n.default.NW),this.x0=c+s*n.default.uX(i),this.y0=u+a*n.default.uY(i),i=n.default.add(i,2),this.x1=c+s*n.default.uX(i),this.y1=u+a*n.default.uY(i),i=n.default.add(i,2),this.x2=c+s*n.default.uX(i),this.y2=u+a*n.default.uY(i),i=n.default.add(i,2),this.x3=c+s*n.default.uX(i),this.y3=u+a*n.default.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();i.default=r},{"../math/GroupD8":66}],118:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!e){var i=t.split("?").shift().toLowerCase();e="video/"+i.substr(i.lastIndexOf(".")+1)}var n=document.createElement("source");return n.src=t,n.type=e,n}i.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=n(t("./BaseTexture")),a=t("../utils"),c=t("../ticker"),u=t("../const"),l=n(t("../utils/determineCrossOrigin")),h=function(t){function e(i,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!i)throw new Error("No video source element specified.");(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));return o.width=i.videoWidth,o.height=i.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=r,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),i.addEventListener("play",o._onPlayStart.bind(o)),i.addEventListener("pause",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(i.addEventListener("canplay",o._onCanPlay),i.addEventListener("canplaythrough",o._onCanPlay)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(c.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(c.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&c.shared.remove(this.update,this),this.source&&this.source._pixiId&&(s.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,i,n){t._pixiId||(t._pixiId="video_"+(0,a.uid)());var r=a.BaseTextureCache[t._pixiId];return r||(r=new e(t,i,n),s.default.addToCache(r,t._pixiId)),r},e.fromUrl=function(t,i,n,o){var s=document.createElement("video");s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline","");var a=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===n&&0!==a.indexOf("data:")?s.crossOrigin=(0,l.default)(a):n&&(s.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(t))for(var c=0;c<t.length;++c)s.appendChild(r(t[c].src||t[c],t[c].mime));else s.appendChild(r(a,t.mime));return s.load(),e.fromVideo(s,i,o)},o(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(c.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(c.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(s.default);i.default=h,h.fromUrls=h.fromUrl},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=n(t("../settings")),s=t("../const"),a=n(t("./TickerListener")),c=function(){function t(){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,i))},t.prototype.addOnce=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*o.default.TARGET_FPMS*this.speed;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},r(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();i.default=c},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.fn=e,this.context=i,this.priority=n,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();i.default=n},{}],121:[function(t,e,i){"use strict";i.__esModule=!0,i.Ticker=i.shared=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./Ticker")),r=new n.default;r.autoStart=!0,r.destroy=function(){},i.shared=r,i.Ticker=n.default},{"./Ticker":119}],122:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],123:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=6*t,i=new Uint16Array(e),n=0,r=0;n<e;n+=6,r+=4)i[n+0]=r+0,i[n+1]=r+1,i[n+2]=r+2,i[n+3]=r+0,i[n+4]=r+2,i[n+5]=r+3;return i}},{}],124:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,r||(r=document.createElement("a")),r.href=t;var i=!(t=n.default.parse(r.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"};var n=function(t){return t&&t.__esModule?t:{default:t}}(t("url")),r=void 0},{url:38}],125:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.premultiplyBlendMode=i.BaseTextureCache=i.TextureCache=i.earcut=i.mixins=i.pluginTarget=i.EventEmitter=i.removeItems=i.isMobile=void 0,i.uid=function(){return++d},i.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},i.hex2string=function(t){return t=t.toString(16),"#"+("000000".substr(0,6-t.length)+t)},i.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},i.getResolutionOfUrl=function(t,e){var i=s.default.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1},i.decomposeDataUri=function(t){var e=o.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},i.getUrlFileExtension=function(t){var e=o.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()},i.getSvgSize=function(t){var e=o.SVG_SIZE.exec(t),i={};return e&&(i[e[1]]=Math.round(parseFloat(e[3])),i[e[5]]=Math.round(parseFloat(e[7]))),i},i.skipHello=function(){f=!0},i.sayHello=function(t){if(!f){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+o.VERSION+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+o.VERSION+" - "+t+" - http://www.pixijs.com/");f=!0}},i.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!i||!i.getContextAttributes().stencil);if(i){var r=i.getExtension("WEBGL_lose_context");r&&r.loseContext()}return i=null,n}catch(t){return!1}},i.sign=function(t){return 0===t?0:t<0?-1:1},i.destroyTextureCache=function(){var t=void 0;for(t in b)b[t].destroy();for(t in m)m[t].destroy()},i.clearTextureCache=function(){var t=void 0;for(t in b)delete b[t];for(t in m)delete m[t]},i.correctBlendMode=function(t,e){return g[e?1:0][t]},i.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,n=t>>8&255,r=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(r=r*e+.5|0)},i.premultiplyRgba=function(t,e,i,n){return i=i||new Float32Array(4),n||void 0===n?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i},i.premultiplyTintToRgba=function(t,e,i,n){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(n||void 0===n)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i};var o=t("../const"),s=r(t("../settings")),a=r(t("eventemitter3")),c=r(t("./pluginTarget")),u=n(t("./mixin")),l=n(t("ismobilejs")),h=r(t("remove-array-items")),_=r(t("./mapPremultipliedBlendModes")),p=r(t("earcut")),d=0,f=!1;i.isMobile=l,i.removeItems=h.default,i.EventEmitter=a.default,i.pluginTarget=c.default,i.mixins=u,i.earcut=p.default;var b=i.TextureCache=Object.create(null),m=i.BaseTextureCache=Object.create(null),g=i.premultiplyBlendMode=(0,_.default)()},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,earcut:2,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r};var n=t("../const")},{"../const":46}],127:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){return n.default.tablet||n.default.phone?4:t};var n=function(t){return t&&t.__esModule?t:{default:t}}(t("ismobilejs"))},{ismobilejs:4}],128:[function(t,e,i){"use strict";function n(t,e){if(t&&e)for(var i=Object.keys(e),n=0;n<i.length;++n){var r=i[n];Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}}i.__esModule=!0,i.mixin=n,i.delayMixin=function(t,e){r.push(t,e)},i.performMixins=function(){for(var t=0;t<r.length;t+=2)n(r[t],r[t+1]);r.length=0};var r=[]},{}],129:[function(t,e,i){"use strict";i.__esModule=!0,i.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,i){t.__plugins[e]=i},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},{}],130:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=t.width,i=t.height,n=t.getContext("2d"),r=n.getImageData(0,0,e,i).data,o=r.length,s={top:null,left:null,right:null,bottom:null},a=null,c=void 0,u=void 0,l=void 0;for(c=0;c<o;c+=4)0!==r[c+3]&&(u=c/4%e,l=~~(c/4/e),null===s.top&&(s.top=l),null===s.left?s.left=u:u<s.left&&(s.left=u),null===s.right?s.right=u+1:s.right<u&&(s.right=u+1),null===s.bottom?s.bottom=l:s.bottom<l&&(s.bottom=l));return null!==s.top&&(e=s.right-s.left,i=s.bottom-s.top+1,a=n.getImageData(s.left,s.top,e,i)),{height:i,width:e,data:a}}},{}],131:[function(t,e,i){"use strict";function n(t){if(!r[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),r[t]=!0}}i.__esModule=!0,i.default=function(t){var e=t.mesh,i=t.particles,r=t.extras,o=t.filters,s=t.prepare,a=t.loaders,c=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),i.ParticleContainer}},MovieClip:{get:function(){return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),r.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),r.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),r.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var u=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=0;l<u.length;l++)!function(e){var i=u[l];Object.defineProperty(t[i.parent],"DEFAULT",{get:function(){return n("PIXI."+i.parent+".DEFAULT has been deprecated, please use PIXI.settings."+i.target),t.settings[i.target]},set:function(e){n("PIXI."+i.parent+".DEFAULT has been deprecated, please use PIXI.settings."+i.target),t.settings[i.target]=e}})}();Object.defineProperties(t.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),r.AnimatedSprite}}}),r&&Object.defineProperties(r,{TextureTransform:{get:function(){return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}}),t.DisplayObject.prototype.generateTexture=function(t,e,i){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,i)},t.Graphics.prototype.generateTexture=function(t,e){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,i,r){this.legacyRenderer.render(t,this,i,e,!r),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),i=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){i=r,this._fontSize=e[r];break}this._fontWeight="normal";for(var o=0;o<i;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(i>-1&&i<e.length-1){this._fontFamily="";for(var s=i+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,i){t.Texture.addToCache(e,i),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var h=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),h=t},get:function(){return h}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.Loader){var _=a.Resource,p=a.Loader;Object.defineProperties(_.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===_.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===_.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===_.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===_.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===_.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}c.interactiveTarget&&Object.defineProperty(c.interactiveTarget,"defaultCursor",{set:function(t){n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),c.InteractionManager&&(Object.defineProperty(c.InteractionManager,"defaultCursorStyle",{set:function(t){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(c.InteractionManager,"currentCursorStyle",{set:function(t){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var r={}},{}],132:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),r=new n.Rectangle,o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,i=void 0,o=void 0,s=void 0,a=void 0;t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(i=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(i=e.rootContext,o=e.resolution,(s=r).width=this.renderer.width,s.height=this.renderer.height);var c=Math.floor(s.width*o+1e-4),u=Math.floor(s.height*o+1e-4),l=new n.CanvasRenderTarget(c,u,1),h=i.getImageData(s.x*o,s.y*o,c,u);return l.context.putImageData(h,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,i=void 0,o=void 0,s=void 0,a=void 0;return t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(i=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(i=e.rootContext,(s=r).width=e.width,s.height=e.height),i.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();i.default=o,n.CanvasRenderer.registerPlugin("extract",o)},{"../../core":65}],133:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("./webgl/WebGLExtract");Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return n(r).default}});var o=t("./canvas/CanvasExtract");Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return n(o).default}})},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),r=new n.Rectangle,o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,i=void 0,o=void 0,s=void 0,a=!1,c=void 0,u=!1;t&&(t instanceof n.RenderTexture?c=t:(c=this.renderer.generateTexture(t),u=!0)),c?(o=(i=c.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=c.frame,a=!1):(o=(i=this.renderer.rootRenderTarget).resolution,a=!0,(s=r).width=i.size.width,s.height=i.size.height);var l=Math.floor(s.width*o+1e-4),h=Math.floor(s.height*o+1e-4),_=new n.CanvasRenderTarget(l,h,1);if(i){e.bindRenderTarget(i);var p=new Uint8Array(4*l*h),d=e.gl;d.readPixels(s.x*o,s.y*o,l,h,d.RGBA,d.UNSIGNED_BYTE,p);var f=_.context.getImageData(0,0,l,h);f.data.set(p),_.context.putImageData(f,0,0),a&&(_.context.scale(1,-1),_.context.drawImage(_.canvas,0,-h))}return u&&c.destroy(!0),_.canvas},t.prototype.pixels=function(t){var e=this.renderer,i=void 0,o=void 0,s=void 0,a=void 0,c=!1;t&&(t instanceof n.RenderTexture?a=t:(a=this.renderer.generateTexture(t),c=!0)),a?(o=(i=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=a.frame):(o=(i=this.renderer.rootRenderTarget).resolution,(s=r).width=i.size.width,s.height=i.size.height);var u=s.width*o,l=s.height*o,h=new Uint8Array(4*u*l);if(i){e.bindRenderTarget(i);var _=e.gl;_.readPixels(s.x*o,s.y*o,u,l,_.RGBA,_.UNSIGNED_BYTE,h)}return c&&a.destroy(!0),h},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();i.default=o,n.WebGLRenderer.registerPlugin("extract",o)},{"../../core":65}],135:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i[0]instanceof r.Texture?i[0]:i[0].texture));return o._textures=null,o._durations=null,o.textures=i,o._autoUpdate=!1!==n,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&r.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&r.ticker.shared.add(this.update,this,r.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var i=[],n=0;n<t.length;++n)i.push(r.Texture.fromFrame(t[n]));return new e(i)},e.fromImages=function(t){for(var i=[],n=0;n<t.length;++n)i.push(r.Texture.fromImage(t[n]));return new e(i)},n(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof r.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(r.Sprite);i.default=o},{"../core":65}],136:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),s=n(t("../core/math/ObservablePoint")),a=t("../core/utils"),c=n(t("../core/settings")),u=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._textWidth=0,r._textHeight=0,r._glyphs=[],r._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},r.font=n.font,r._text=i,r._maxWidth=0,r._maxLineHeight=0,r._letterSpacing=0,r._anchor=new s.default(function(){r.dirty=!0},r,0,0),r.dirty=!1,r.updateText(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,n=new o.Point,r=[],s=[],a=this.text.replace(/(?:\r\n|\r)/g,"\n"),c=a.length,u=this._maxWidth*t.size/this._font.size,l=null,h=0,_=0,p=0,d=-1,f=0,b=0,m=0,g=0;g<c;g++){var y=a.charCodeAt(g),v=a.charAt(g);if(/(?:\s)/.test(v)&&(d=g,f=h),"\r"!==v&&"\n"!==v){var w=t.chars[y];w&&(l&&w.kerning[l]&&(n.x+=w.kerning[l]),r.push({texture:w.texture,line:p,charCode:y,position:new o.Point(n.x+w.xOffset+this._letterSpacing/2,n.y+w.yOffset)}),n.x+=w.xAdvance+this._letterSpacing,h=n.x,m=Math.max(m,w.yOffset+w.texture.height),l=y,-1!==d&&u>0&&n.x>u&&(++b,o.utils.removeItems(r,1+d-b,1+g-d),g=d,d=-1,s.push(f),_=Math.max(_,f),p++,n.x=0,n.y+=t.lineHeight,l=null))}else s.push(h),_=Math.max(_,h),++p,++b,n.x=0,n.y+=t.lineHeight,l=null}var x=a.charAt(a.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(h=f),s.push(h),_=Math.max(_,h));for(var T=[],S=0;S<=p;S++){var A=0;"right"===this._font.align?A=_-s[S]:"center"===this._font.align&&(A=(_-s[S])/2),T.push(A)}for(var C=r.length,E=this.tint,P=0;P<C;P++){var D=this._glyphs[P];D?D.texture=r[P].texture:(D=new o.Sprite(r[P].texture),this._glyphs.push(D)),D.position.x=(r[P].position.x+T[r[P].line])*i,D.position.y=r[P].position.y*i,D.scale.x=D.scale.y=i,D.tint=E,D.parent||this.addChild(D)}for(var M=C;M<this._glyphs.length;++M)this.removeChild(this._glyphs[M]);if(this._textWidth=_*i,this._textHeight=(n.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var R=0;R<C;R++)this._glyphs[R].x-=this._textWidth*this.anchor.x,this._glyphs[R].y-=this._textHeight*this.anchor.y;this._maxLineHeight=m*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,i){var n={},r=t.getElementsByTagName("info")[0],s=t.getElementsByTagName("common")[0],u=t.getElementsByTagName("page"),l=(0,a.getResolutionOfUrl)(u[0].getAttribute("file"),c.default.RESOLUTION),h={};n.font=r.getAttribute("face"),n.size=parseInt(r.getAttribute("size"),10),n.lineHeight=parseInt(s.getAttribute("lineHeight"),10)/l,n.chars={},i instanceof o.Texture&&(i=[i]);for(var _=0;_<u.length;_++){var p=u[_].getAttribute("id"),d=u[_].getAttribute("file");h[p]=i instanceof Array?i[_]:i[d]}for(var f=t.getElementsByTagName("char"),b=0;b<f.length;b++){var m=f[b],g=parseInt(m.getAttribute("id"),10),y=m.getAttribute("page")||0,v=new o.Rectangle(parseInt(m.getAttribute("x"),10)/l+h[y].frame.x/l,parseInt(m.getAttribute("y"),10)/l+h[y].frame.y/l,parseInt(m.getAttribute("width"),10)/l,parseInt(m.getAttribute("height"),10)/l);n.chars[g]={xOffset:parseInt(m.getAttribute("xoffset"),10)/l,yOffset:parseInt(m.getAttribute("yoffset"),10)/l,xAdvance:parseInt(m.getAttribute("xadvance"),10)/l,kerning:{},texture:new o.Texture(h[y].baseTexture,v),page:y}}for(var w=t.getElementsByTagName("kerning"),x=0;x<w.length;x++){var T=w[x],S=parseInt(T.getAttribute("first"),10)/l,A=parseInt(T.getAttribute("second"),10)/l,C=parseInt(T.getAttribute("amount"),10)/l;n.chars[A]&&(n.chars[A].kerning[S]=C)}return e.fonts[n.font]=n,n},r(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(o.Container);i.default=u,u.fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,"../core/utils":125}],137:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../core/sprites/canvas/CanvasTinter")),s=new r.Point,a=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return s.tileTransform=new r.TransformStatic,s._width=n,s._height=o,s._canvasPattern=null,s.uvTransform=i.transform||new r.TextureMatrix(i),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var i=t.context,n=this.worldTransform,s=t.resolution,a=2===e.rotate,c=e.baseTexture,u=c.resolution,l=this.tilePosition.x/this.tileScale.x%e.orig.width*u,h=this.tilePosition.y/this.tileScale.y%e.orig.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var _=new r.CanvasRenderTarget(e.orig.width,e.orig.height,u);if(16777215!==this.tint)this.tintedTexture=o.default.getTintedTexture(this,this.tint),_.context.drawImage(this.tintedTexture,0,0);else{var p=e._frame.x*u,d=e._frame.y*u,f=e._frame.width*u,b=e._frame.height*u,m=(e.trim?e.trim.width:e.orig.width)*u,g=(e.trim?e.trim.height:e.orig.height)*u,y=(e.trim?e.trim.x:0)*u,v=(e.trim?e.trim.y:0)*u;a?(_.context.rotate(-Math.PI/2),_.context.translate(-g,0),_.context.drawImage(c.source,p,d,f,b,-v,y,g,m)):_.context.drawImage(c.source,p,d,f,b,y,v,m,g)}this.cachedTint=this.tint,this._canvasPattern=_.context.createPattern(_.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(n.a*s,n.b*s,n.c*s,n.d*s,n.tx*s,n.ty*s),t.setBlendMode(this.blendMode),i.fillStyle=this._canvasPattern,i.scale(this.tileScale.x/u,this.tileScale.y/u);var w=this.anchor.x*-this._width*u,x=this.anchor.y*-this._height*u;this.uvRespectAnchor?(i.translate(l,h),i.fillRect(-l+w,-h+x,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(i.translate(l+w,h+x),i.fillRect(-l,-h,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new r.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,s);var e=this._width,i=this._height,n=-e*this.anchor._x;if(s.x>=n&&s.x<n+e){var r=-i*this.anchor._y;if(s.y>=r&&s.y<r+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,i,n){return new e(r.Texture.from(t),i,n)},e.fromFrame=function(t,i,n){var o=r.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(o,i,n)},e.fromImage=function(t,i,n,o,s){return new e(r.Texture.fromImage(t,o,s),i,n)},n(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(r.Sprite);i.default=a},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=n(t("../core/textures/Texture")),s=n(t("../core/textures/BaseTexture")),a=t("../core/utils"),c=r.DisplayObject,u=new r.Matrix;c.prototype._cacheAsBitmap=!1,c.prototype._cacheData=!1;var l=function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(c.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),c.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},c.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var i=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var n=this._filters[0].padding;i.pad(n)}i.ceil(r.settings.RESOLUTION);var c=t._activeRenderTarget,l=t.filterManager.filterStack,h=r.RenderTexture.create(i.width,i.height),_="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=_,s.default.addToCache(h.baseTexture,_),o.default.addToCache(h,_);var p=u;p.tx=-i.x,p.ty=-i.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,h,!0,p,!0),t.bindRenderTarget(c),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var d=new r.Sprite(h);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-i.x/i.width,d.anchor.y=-i.y/i.height,d.alpha=e,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},c.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},c.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var n=t.context;e.ceil(r.settings.RESOLUTION);var c=r.RenderTexture.create(e.width,e.height),l="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=l,s.default.addToCache(c.baseTexture,l),o.default.addToCache(c,l);var h=u;this.transform.localTransform.copy(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,c,!0,h,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var _=new r.Sprite(c);_.transform.worldTransform=this.transform.worldTransform,_.anchor.x=-e.x/e.width,_.anchor.y=-e.y/e.height,_.alpha=i,_._bounds=this._bounds,this._cacheData.sprite=_,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=_.containsPoint.bind(_)}},c.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},c.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},c.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,s.default.removeFromCache(this._cacheData.textureCacheId),o.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},c.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":125}],139:[function(t,e,i){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core"));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":65}],140:[function(t,e,i){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core"));n.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":65}],141:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.BitmapText=i.TilingSpriteRenderer=i.TilingSprite=i.AnimatedSprite=void 0;var r=t("./AnimatedSprite");Object.defineProperty(i,"AnimatedSprite",{enumerable:!0,get:function(){return n(r).default}});var o=t("./TilingSprite");Object.defineProperty(i,"TilingSprite",{enumerable:!0,get:function(){return n(o).default}});var s=t("./webgl/TilingSpriteRenderer");Object.defineProperty(i,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n(s).default}});var a=t("./BitmapText");Object.defineProperty(i,"BitmapText",{enumerable:!0,get:function(){return n(a).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),r=t("../../core/const"),o=(t("path"),new n.Matrix),s=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new n.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,i=this.quad;e.bindVao(i.vao);var s=i.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((s=i.uvs)[0]=s[6]=-t.anchor.x,s[1]=s[3]=-t.anchor.y,s[2]=s[4]=1-t.anchor.x,s[5]=s[7]=1-t.anchor.y),i.upload();var a=t._texture,c=a.baseTexture,u=t.tileTransform.localTransform,l=t.uvTransform,h=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;h&&(c._glTextures[e.CONTEXT_UID]?h=c.wrapMode!==r.WRAP_MODES.CLAMP:c.wrapMode===r.WRAP_MODES.CLAMP&&(c.wrapMode=r.WRAP_MODES.REPEAT));var _=h?this.simpleShader:this.shader;e.bindShader(_);var p=a.width,d=a.height,f=t._width,b=t._height;o.set(u.a*p/f,u.b*p/b,u.c*d/f,u.d*d/b,u.tx/f,u.ty/b),o.invert(),h?o.prepend(l.mapCoord):(_.uniforms.uMapCoord=l.mapCoord.toArray(!0),_.uniforms.uClampFrame=l.uClampFrame,_.uniforms.uClampOffset=l.uClampOffset),_.uniforms.uTransform=o.toArray(!0),_.uniforms.uColor=n.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,_.uniforms.uColor,c.premultipliedAlpha),_.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),_.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(n.utils.correctBlendMode(t.blendMode,c.premultipliedAlpha)),i.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(n.ObjectRenderer);i.default=s,n.WebGLRenderer.registerPlugin("tilingSprite",s)},{"../../core":65,"../../core/const":46,path:8}],143:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=(t("path"),function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=i,n.glShaderKey="alpha",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(r.Filter));i.default=o},{"../../core":65,path:8}],144:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),s=n(t("./BlurXFilter")),a=n(t("./BlurYFilter")),c=function(t){function e(i,n,r,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u.blurXFilter=new s.default(i,n,r,c),u.blurYFilter=new a.default(i,n,r,c),u.padding=0,u.resolution=r||o.settings.RESOLUTION,u.quality=n||4,u.blur=i||8,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,i){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,i,!1),t.returnRenderTarget(n)},r(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(o.Filter);i.default=c},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),s=n(t("./generateBlurVertSource")),a=n(t("./generateBlurFragSource")),c=n(t("./getMaxBlurKernelSize")),u=function(t){function e(i,n,r,c){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),c=c||5;var u=(0,s.default)(c,!0),l=(0,a.default)(c),h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,u,l));return h.resolution=r||o.settings.RESOLUTION,h._quality=0,h.quality=n||4,h.strength=i||8,h.firstRun=!0,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,i,n){if(this.firstRun){var r=t.renderer.gl,o=(0,c.default)(r);this.vertexSrc=(0,s.default)(o,!0),this.fragmentSrc=(0,a.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/i.size.width*(i.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,n);else{for(var u=t.getRenderTarget(!0),l=e,h=u,_=0;_<this.passes-1;_++){t.applyFilter(this,l,h,!0);var p=h;h=l,l=p}t.applyFilter(this,l,i,n),t.returnRenderTarget(u)}},r(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(o.Filter);i.default=u},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),s=n(t("./generateBlurVertSource")),a=n(t("./generateBlurFragSource")),c=n(t("./getMaxBlurKernelSize")),u=function(t){function e(i,n,r,c){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),c=c||5;var u=(0,s.default)(c,!1),l=(0,a.default)(c),h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,u,l));return h.resolution=r||o.settings.RESOLUTION,h._quality=0,h.quality=n||4,h.strength=i||8,h.firstRun=!0,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,i,n){if(this.firstRun){var r=t.renderer.gl,o=(0,c.default)(r);this.vertexSrc=(0,s.default)(o,!1),this.fragmentSrc=(0,a.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/i.size.height*(i.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,n);else{for(var u=t.getRenderTarget(!0),l=e,h=u,_=0;_<this.passes-1;_++){t.applyFilter(this,l,h,!0);var p=h;h=l,l=p}t.applyFilter(this,l,i,n),t.returnRenderTarget(u)}},r(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(o.Filter);i.default=u},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],147:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=n[t],i=e.length,o=r,s="",a=void 0,c=0;c<t;c++){var u="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",c);a=c,c>=i&&(a=t-c-1),s+=u=u.replace("%value%",e[a]),s+="\n"}return(o=o.replace("%blur%",s)).replace("%size%",t)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},r=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],148:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e){var i=Math.ceil(t/2),r=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var c=s.replace("%index%",a);o+=c=c.replace("%sampleIndex%",a-(i-1)+".0"),o+="\n"}return(r=r.replace("%blur%",o)).replace("%size%",t)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],149:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),i=15;i>e;)i-=2;return i}},{}],150:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=(t("path"),function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return i.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],i.alpha=1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),n=Math.sin(t),r=1/3,o=(0,Math.sqrt)(r),s=[i+(1-i)*r,r*(1-i)-o*n,r*(1-i)+o*n,0,0,r*(1-i)+o*n,i+r*(1-i),r*(1-i)-o*n,0,0,r*(1-i)-o*n,r*(1-i)+o*n,i+r*(1-i),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,n=-.5*(i-1),r=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],i=2*t/3+1,n=-.5*(i-1),r=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,n,r){t=t||.2,e=e||.15;var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,c=((n=n||3375104)>>16&255)/255,u=(n>>8&255)/255,l=(255&n)/255,h=[.3,.59,.11,0,0,o,s,a,t,0,c,u,l,e,0,o-c,s-u,a-l,0,0];this._loadMatrix(h,r)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(r.Filter));i.default=o,o.prototype.grayscale=o.prototype.greyscale},{"../../core":65,path:8}],151:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=(t("path"),function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new r.Matrix;i.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=i,s.maskMatrix=o,s.uniforms.mapSampler=i._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),s.scale=new r.Point(n,n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,i)},n(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(r.Filter));i.default=o},{"../../core":65,path:8}],152:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),r=(t("path"),function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.Filter));i.default=r},{"../../core":65,path:8}],153:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("./fxaa/FXAAFilter");Object.defineProperty(i,"FXAAFilter",{enumerable:!0,get:function(){return n(r).default}});var o=t("./noise/NoiseFilter");Object.defineProperty(i,"NoiseFilter",{enumerable:!0,get:function(){return n(o).default}});var s=t("./displacement/DisplacementFilter");Object.defineProperty(i,"DisplacementFilter",{enumerable:!0,get:function(){return n(s).default}});var a=t("./blur/BlurFilter");Object.defineProperty(i,"BlurFilter",{enumerable:!0,get:function(){return n(a).default}});var c=t("./blur/BlurXFilter");Object.defineProperty(i,"BlurXFilter",{enumerable:!0,get:function(){return n(c).default}});var u=t("./blur/BlurYFilter");Object.defineProperty(i,"BlurYFilter",{enumerable:!0,get:function(){return n(u).default}});var l=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(i,"ColorMatrixFilter",{enumerable:!0,get:function(){return n(l).default}});var h=t("./alpha/AlphaFilter");Object.defineProperty(i,"AlphaFilter",{enumerable:!0,get:function(){return n(h).default}})},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,"./noise/NoiseFilter":154}],154:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=(t("path"),function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return r.noise=i,r.seed=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(r.Filter));i.default=o},{"../../core":65,path:8}],155:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.global=new r.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();i.default=o},{"../core":65}],156:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();i.default=n},{}],157:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),s=n(t("./InteractionData")),a=n(t("./InteractionEvent")),c=n(t("./InteractionTrackingData")),u=n(t("eventemitter3")),l=n(t("./interactiveTarget"));o.utils.mixins.delayMixin(o.DisplayObject.prototype,l.default);var h=1,_={target:null,data:{global:null}},p=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n=n||{},r.renderer=i,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new s.default,r.mouse.identifier=h,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[h]=r.mouse,r.interactionDataPool=[],r.eventData=new a.default,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r._tempPoint=new o.Point,r.resolution=1,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return _.target=null,_.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(_,e,null,!0),_.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(o.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":r(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.mapPositionToPoint=function(t,e,i){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var r=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*r,t.y=(i-n.top)*(this.interactionDOMElement.height/n.height)*r},e.prototype.processInteractive=function(t,e,i,n,r){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=r=e.interactive||r,c=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,c=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint(o)||(n=!1,c=!1)),c&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var h=u[l],_=this.processInteractive(t,h,i,n,a);if(_){if(!h.parent)continue;a=!1,_&&(t.target&&(n=!1),s=!0)}}return r&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var i=e.length,n=0;n<i;n++){var r=e[n],o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===r.pointerType)this.emit("touchstart",s);else if("mouse"===r.pointerType||"pen"===r.pointerType){var a=2===r.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var n=t.data,r=t.data.identifier;if(i)if(e.trackedPointers[r]||(e.trackedPointers[r]=new c.default(r)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[r].rightDown=!0:e.trackedPointers[r].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var n=this.normalizeToPointerData(t),r=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<r;s++){var a=n[s],c=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,c);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,c))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var n=t.data,r=t.data.identifier,o=e.trackedPointers[r],s="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;if(a){var l=2===n.button,h=c.default.FLAGS,_=l?h.RIGHT_DOWN:h.LEFT_DOWN,p=void 0!==o&&o.flags&_;i?(this.dispatchEvent(e,l?"rightup":"mouseup",t),p&&(this.dispatchEvent(e,l?"rightclick":"click",t),u=!0)):p&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!u||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[r]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,n=0;n<i;n++){var r=e[n],o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=t;var a="touch"!==r.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===r.pointerType&&this.emit("touchmove",s),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var n=t.data,r="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),r&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var n=t.data,r=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[r];i&&!s&&(s=e.trackedPointers[r]=new c.default(r)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[r]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,i=void 0;return e===h||"mouse"===t.pointerType?i=this.mouse:this.activeInteractionData[e]?i=this.activeInteractionData[e]:((i=this.interactionDataPool.pop()||new s.default).identifier=e,this.activeInteractionData[e]=i),i.copyEvent(t),i},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(i.global.x=i.global.x/this.resolution,i.global.y=i.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,n=t.changedTouches.length;i<n;i++){var r=t.changedTouches[i];void 0===r.button&&(r.button=t.touches.length?1:0),void 0===r.buttons&&(r.buttons=t.touches.length?1:0),void 0===r.isPrimary&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===r.width&&(r.width=r.radiusX||1),void 0===r.height&&(r.height=r.radiusY||1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="touch"),void 0===r.pointerId&&(r.pointerId=r.identifier||0),void 0===r.pressure&&(r.pressure=r.force||.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),void 0===r.layerX&&(r.layerX=r.offsetX=r.clientX),void 0===r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,e.push(r)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=h),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);i.default=p,o.WebGLRenderer.registerPlugin("interaction",p),o.CanvasRenderer.registerPlugin("interaction",p)},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();i.default=r,r.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("./InteractionData");Object.defineProperty(i,"InteractionData",{enumerable:!0,get:function(){return n(r).default}});var o=t("./InteractionManager");Object.defineProperty(i,"InteractionManager",{enumerable:!0,get:function(){return n(o).default}});var s=t("./interactiveTarget");Object.defineProperty(i,"interactiveTarget",{enumerable:!0,get:function(){return n(s).default}});var a=t("./InteractionTrackingData");Object.defineProperty(i,"InteractionTrackingData",{enumerable:!0,get:function(){return n(a).default}});var c=t("./InteractionEvent");Object.defineProperty(i,"InteractionEvent",{enumerable:!0,get:function(){return n(c).default}})},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(t,e,i){"use strict";i.__esModule=!0,i.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(t,e,i){"use strict";function n(t,e){t.bitmapFont=s.BitmapText.registerFont(t.data,e)}i.__esModule=!0,i.parse=n,i.default=function(){return function(t,e){if(t.data&&t.type===o.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var i=t.isDataUrl?"":r.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var s=t.data.getElementsByTagName("page"),a={},c=function(i){a[i.metadata.pageFile]=i.texture,Object.keys(a).length===s.length&&(n(t,a),e())},u=0;u<s.length;++u){var l=s[u].getAttribute("file"),h=i+l,_=!1;for(var p in this.resources){var d=this.resources[p];if(d.url===h){d.metadata.pageFile=l,d.texture?c(d):d.onAfterMiddleware.add(c),_=!0;break}}if(!_){var f={crossOrigin:t.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(h,f,c)}}}else e();else e()}};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("path")),o=t("resource-loader"),s=t("../extras")},{"../extras":141,path:8,"resource-loader":36}],162:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.shared=i.Resource=i.textureParser=i.getResourcePath=i.spritesheetParser=i.parseBitmapFontData=i.bitmapFontParser=i.Loader=void 0;var r=t("./bitmapFontParser");Object.defineProperty(i,"bitmapFontParser",{enumerable:!0,get:function(){return n(r).default}}),Object.defineProperty(i,"parseBitmapFontData",{enumerable:!0,get:function(){return r.parse}});var o=t("./spritesheetParser");Object.defineProperty(i,"spritesheetParser",{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(i,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}});var s=t("./textureParser");Object.defineProperty(i,"textureParser",{enumerable:!0,get:function(){return n(s).default}});var a=t("resource-loader");Object.defineProperty(i,"Resource",{enumerable:!0,get:function(){return a.Resource}});var c=n(t("../core/Application")),u=n(t("./loader"));i.Loader=u.default;var l=new u.default;l.destroy=function(){},i.shared=l;var h=c.default.prototype;h._loader=null,Object.defineProperty(h,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("resource-loader")),o=t("resource-loader/lib/middlewares/parsing/blob"),s=n(t("eventemitter3")),a=n(t("./textureParser")),c=n(t("./spritesheetParser")),u=n(t("./bitmapFontParser")),l=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n));s.default.call(r);for(var o=0;o<e._pixiMiddleware.length;++o)r.use(e._pixiMiddleware[o]());return r.onStart.add(function(t){return r.emit("start",t)}),r.onProgress.add(function(t,e){return r.emit("progress",t,e)}),r.onError.add(function(t,e,i){return r.emit("error",t,e,i)}),r.onLoad.add(function(t,e){return r.emit("load",t,e)}),r.onComplete.add(function(t,e){return r.emit("complete",t,e)}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(r.default);for(var h in i.default=l,s.default.prototype)l.prototype[h]=s.default.prototype[h];l._pixiMiddleware=[o.blobMiddlewareFactory,a.default,c.default,u.default];var _=r.default.Resource;_.setExtensionXhrType("fnt",_.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(t,e,i){"use strict";function n(t,e){return t.isDataUrl?t.data.meta.image:o.default.resolve(t.url.replace(e,""),t.data.meta.image)}i.__esModule=!0,i.default=function(){return function(t,e){var i=t.name+"_image";if(t.data&&t.type===r.Resource.TYPE.JSON&&t.data.frames&&!this.resources[i]){var o={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=n(t,this.baseUrl);this.add(i,a,o,function(i){if(i.error)e(i.error);else{var n=new s.Spritesheet(i.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})}})}else e()}},i.getResourcePath=n;var r=t("resource-loader"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("url")),s=t("../core")},{"../core":65,"resource-loader":36,url:38}],165:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=r.default.fromLoader(t.data,t.url,t.name)),e()}};var n=t("resource-loader"),r=function(t){return t&&t.__esModule?t:{default:t}}(t("../core/textures/Texture"))},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../core/textures/Texture")),s=new r.Point,a=new r.Polygon,c=function(t){function e(i,n,s,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u._texture=i||o.default.EMPTY,u.uvs=s||new Float32Array([0,0,1,0,1,1,0,1]),u.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),u.indices=a||new Uint16Array([0,1,3,2]),u.dirty=0,u.indexDirty=0,u.vertexDirty=0,u.autoUpdate=!0,u.blendMode=r.BLEND_MODES.NORMAL,u.canvasPadding=r.settings.MESH_CANVAS_PADDING,u.drawMode=c||e.DRAW_MODES.TRIANGLE_MESH,u.shader=null,u.tintRgb=new Float32Array([1,1,1]),u._glDatas={},u._uvTransform=new r.TextureMatrix(u._texture),u.uploadUvTransform=!1,u.pluginName="mesh",u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,s);for(var i=this.vertices,n=a.points,r=this.indices,o=this.indices.length,c=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,u=0;u+2<o;u+=c){var l=2*r[u],h=2*r[u+1],_=2*r[u+2];if(n[0]=i[l],n[1]=i[l+1],n[2]=i[h],n[3]=i[h+1],n[4]=i[_],n[5]=i[_+1],a.contains(s.x,s.y))return!0}return!1},e.prototype.destroy=function(e){for(var i in this._glDatas){var n=this._glDatas[i];n.destroy?n.destroy():(n.vertexBuffer&&(n.vertexBuffer.destroy(),n.vertexBuffer=null),n.indexBuffer&&(n.indexBuffer.destroy(),n.indexBuffer=null),n.uvBuffer&&(n.uvBuffer.destroy(),n.uvBuffer=null),n.vao&&(n.vao.destroy(),n.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},n(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return r.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=r.utils.hex2rgb(t,this.tintRgb)}}]),e}(r.Container);i.default=c,c.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../core/textures/Texture":115}],167:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=n(t("./Plane")),s=n(t("../core/sprites/canvas/CanvasTinter")),a=10,c=function(t){function e(i,n,r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,4,4));return c._origWidth=i.orig.width,c._origHeight=i.orig.height,c._width=c._origWidth,c._height=c._origHeight,c._leftWidth=void 0!==n?n:a,c._rightWidth=void 0!==o?o:a,c._topHeight=void 0!==r?r:a,c._bottomHeight=void 0!==s?s:a,c._cachedTint=16777215,c._tintedTexture=null,c._canvasUvs=null,c.refresh(!0),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,i=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*i,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*i,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,i=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*i,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*i,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,n=t.resolution,r=16777215!==this.tint,o=this._texture;r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=s.default.getTintedTexture(this,this.tint));var a=r?this._tintedTexture:o.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var c=this.vertices,u=this._canvasUvs,l=r?0:o.frame.x,h=r?0:o.frame.y,_=l+o.frame.width,p=h+o.frame.height;u[0]=l,u[1]=l+this._leftWidth,u[2]=_-this._rightWidth,u[3]=_,u[4]=h,u[5]=h+this._topHeight,u[6]=p-this._bottomHeight,u[7]=p;for(var d=0;d<8;d++)u[d]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.roundPixels?e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n|0,i.ty*n|0):e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n);for(var f=0;f<3;f++)for(var b=0;b<3;b++){var m=2*b+8*f,g=Math.max(1,u[b+1]-u[b]),y=Math.max(1,u[f+5]-u[f+4]),v=Math.max(1,c[m+10]-c[m]),w=Math.max(1,c[m+11]-c[m+1]);e.drawImage(a,u[b],u[f+4],g,y,c[m],c[m+1],v,w)}},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,i=this._texture;this._origWidth=i.orig.width,this._origHeight=i.orig.height;var n=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},r(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(o.default);i.default=c},{"../core/sprites/canvas/CanvasTinter":104,"./Plane":168}],168:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./Mesh")),r=function(t){function e(i,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return s._ready=!0,s.verticesX=r||10,s.verticesY=o||10,s.drawMode=n.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,i=[],n=[],r=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,c=t.height/s,u=0;u<e;u++){var l=u%this.verticesX,h=u/this.verticesX|0;i.push(l*a,h*c),n.push(l/o,h/s)}for(var _=o*s,p=0;p<_;p++){var d=p%o,f=p/o|0,b=f*this.verticesX+d,m=f*this.verticesX+d+1,g=(f+1)*this.verticesX+d,y=(f+1)*this.verticesX+d+1;r.push(b,m,g),r.push(m,y,g)}this.vertices=new Float32Array(i),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(r),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){n.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(n.default);i.default=r},{"./Mesh":166}],169:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return r.points=n,r.vertices=new Float32Array(4*n.length),r.uvs=new Float32Array(4*n.length),r.colors=new Float32Array(2*n.length),r.indices=new Uint16Array(2*n.length),r.autoUpdate=!0,r.refresh(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,i=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,i[0]=0,i[1]=1;for(var r=t.length,o=1;o<r;o++){var s=4*o,a=o/(r-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,n[s=2*o]=1,n[s+1]=1,i[s=2*o]=s,i[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],i=void 0,n=0,r=0,o=this.vertices,s=t.length,a=0;a<s;a++){var c=t[a],u=4*a;r=-((i=a<t.length-1?t[a+1]:c).x-e.x),n=i.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var h=Math.sqrt(n*n+r*r),_=this._texture.height/2;n/=h,r/=h,n*=_,r*=_,o[u]=c.x+n,o[u+1]=c.y+r,o[u+2]=c.x-n,o[u+3]=c.y-r,e=c}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./Mesh")).default);i.default=n},{"./Mesh":166}],170:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),r=function(t){return t&&t.__esModule?t:{default:t}}(t("../Mesh")),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,i=e.context,n=t.worldTransform,o=e.resolution;e.roundPixels?i.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o|0,n.ty*o|0):i.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===r.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,i=0;i<e-2;i++){var n=2*i;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,i=e.length,n=0;n<i;n+=3){var r=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,r,o,s)}},t.prototype._renderDrawTriangle=function(t,e,i,n){var r=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var c=a.baseTexture,u=c.source,l=c.width,h=c.height,_=void 0,p=void 0,d=void 0,f=void 0,b=void 0,m=void 0;if(t.uploadUvTransform){var g=t._uvTransform.mapCoord;_=(o[e]*g.a+o[e+1]*g.c+g.tx)*c.width,p=(o[i]*g.a+o[i+1]*g.c+g.tx)*c.width,d=(o[n]*g.a+o[n+1]*g.c+g.tx)*c.width,f=(o[e]*g.b+o[e+1]*g.d+g.ty)*c.height,b=(o[i]*g.b+o[i+1]*g.d+g.ty)*c.height,m=(o[n]*g.b+o[n+1]*g.d+g.ty)*c.height}else _=o[e]*c.width,p=o[i]*c.width,d=o[n]*c.width,f=o[e+1]*c.height,b=o[i+1]*c.height,m=o[n+1]*c.height;var y=s[e],v=s[i],w=s[n],x=s[e+1],T=s[i+1],S=s[n+1],A=t.canvasPadding/this.renderer.resolution;if(A>0){var C=A/Math.abs(t.worldTransform.a),E=A/Math.abs(t.worldTransform.d),P=(y+v+w)/3,D=(x+T+S)/3,M=y-P,R=x-D,I=Math.sqrt(M*M+R*R);y=P+M/I*(I+C),x=D+R/I*(I+E),R=T-D,v=P+(M=v-P)/(I=Math.sqrt(M*M+R*R))*(I+C),T=D+R/I*(I+E),R=S-D,w=P+(M=w-P)/(I=Math.sqrt(M*M+R*R))*(I+C),S=D+R/I*(I+E)}r.save(),r.beginPath(),r.moveTo(y,x),r.lineTo(v,T),r.lineTo(w,S),r.closePath(),r.clip();var O=_*b+f*d+p*m-b*d-f*p-_*m,k=y*b+f*w+v*m-b*w-f*v-y*m,L=_*v+y*d+p*w-v*d-y*p-_*w,j=_*b*w+f*v*d+y*p*m-y*b*d-f*p*w-_*v*m,B=x*b+f*S+T*m-b*S-f*T-x*m,F=_*T+x*d+p*S-T*d-x*p-_*S,J=_*b*S+f*T*d+x*p*m-x*b*d-f*p*S-_*T*m;r.transform(k/O,B/O,L/O,F/O,j/O,J/O),r.drawImage(u,0,0,l*c.resolution,h*c.resolution,0,0,l,h),r.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.vertices,n=i.length/2;e.beginPath();for(var r=1;r<n-2;++r){var o=2*r,s=i[o],a=i[o+1],c=i[o+2],u=i[o+3],l=i[o+4],h=i[o+5];e.moveTo(s,a),e.lineTo(c,u),e.lineTo(l,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();i.default=o,n.CanvasRenderer.registerPlugin("mesh",o)},{"../../core":65,"../Mesh":166}],171:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("./Mesh");Object.defineProperty(i,"Mesh",{enumerable:!0,get:function(){return n(r).default}});var o=t("./webgl/MeshRenderer");Object.defineProperty(i,"MeshRenderer",{enumerable:!0,get:function(){return n(o).default}});var s=t("./canvas/CanvasMeshRenderer");Object.defineProperty(i,"CanvasMeshRenderer",{enumerable:!0,get:function(){return n(s).default}});var a=t("./Plane");Object.defineProperty(i,"Plane",{enumerable:!0,get:function(){return n(a).default}});var c=t("./NineSlicePlane");Object.defineProperty(i,"NineSlicePlane",{enumerable:!0,get:function(){return n(c).default}});var u=t("./Rope");Object.defineProperty(i,"Rope",{enumerable:!0,get:function(){return n(u).default}})},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=n(t("pixi-gl-core")),s=n(t("../Mesh")),a=(t("path"),r.Matrix.IDENTITY),c=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.shader=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,i=e.gl,n=t._texture;if(n.valid){var c=t._glDatas[e.CONTEXT_UID];c||(e.bindVao(null),(c={shader:this.shader,vertexBuffer:o.default.GLBuffer.createVertexBuffer(i,t.vertices,i.STREAM_DRAW),uvBuffer:o.default.GLBuffer.createVertexBuffer(i,t.uvs,i.STREAM_DRAW),indexBuffer:o.default.GLBuffer.createIndexBuffer(i,t.indices,i.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new o.default.VertexArrayObject(i).addIndex(c.indexBuffer).addAttribute(c.vertexBuffer,c.shader.attributes.aVertexPosition,i.FLOAT,!1,8,0).addAttribute(c.uvBuffer,c.shader.attributes.aTextureCoord,i.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=c),e.bindVao(c.vao),t.dirty!==c.dirty&&(c.dirty=t.dirty,c.uvBuffer.upload(t.uvs)),t.indexDirty!==c.indexDirty&&(c.indexDirty=t.indexDirty,c.indexBuffer.upload(t.indices)),t.vertexDirty!==c.vertexDirty&&(c.vertexDirty=t.vertexDirty,c.vertexBuffer.upload(t.vertices)),e.bindShader(c.shader),c.shader.uniforms.uSampler=e.bindTexture(n),e.state.setBlendMode(r.utils.correctBlendMode(t.blendMode,n.baseTexture.premultipliedAlpha)),c.shader.uniforms.uTransform&&(t.uploadUvTransform?c.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):c.shader.uniforms.uTransform=a.toArray(!0)),c.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),c.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,c.shader.uniforms.uColor,n.baseTexture.premultipliedAlpha);var u=t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;c.vao.draw(u,t.indices.length,0)}},e}(r.ObjectRenderer);i.default=c,r.WebGLRenderer.registerPlugin("mesh",c)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=t("../core/utils"),s=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>i&&(o=i),a._properties=[!1,!0,!1,!1,!1],a._maxSize=i,a._batchSize=o,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=r.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,n=!0,r=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var u=this.children[c];if(u.visible){var l=u._texture.frame;if(e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0)n&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx*t.resolution,i.ty*t.resolution),n=!1),r=u.anchor.x*(-l.width*u.scale.x)+u.position.x+.5,o=u.anchor.y*(-l.height*u.scale.y)+u.position.y+.5,s=l.width*u.scale.x,a=l.height*u.scale.y;else{n||(n=!0),u.displayObjectUpdateTransform();var h=u.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0):e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution),r=u.anchor.x*-l.width+.5,o=u.anchor.y*-l.height+.5,s=l.width,a=l.height}var _=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.source,l.x*_,l.y*_,l.width*_,l.height*_,r*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var i=0;i<this._buffers.length;++i)this._buffers[i].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(r.Container);i.default=s},{"../core":65,"../core/utils":125}],174:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("./ParticleContainer");Object.defineProperty(i,"ParticleContainer",{enumerable:!0,get:function(){return n(r).default}});var o=t("./webgl/ParticleRenderer");Object.defineProperty(i,"ParticleRenderer",{enumerable:!0,get:function(){return n(o).default}})},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=n(t("pixi-gl-core")),o=n(t("../../core/utils/createIndicesForQuads")),s=function(){function t(e,i,n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.gl=e,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<i.length;++o){var s=i[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,o.default)(this.size),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var n=this.dynamicProperties[i];n.offset=e,e+=n.size,this.dynamicStride+=n.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=r.default.GLBuffer.createVertexBuffer(t,s,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var c=0;c<this.staticProperties.length;++c){var u=this.staticProperties[c];u.offset=a,a+=u.size,this.staticStride+=u.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=r.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var h=0;h<this.dynamicProperties.length;++h){var _=this.dynamicProperties[h];_.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,_.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*_.offset):this.vao.addAttribute(this.dynamicBuffer,_.attribute,t.FLOAT,!1,4*this.dynamicStride,4*_.offset)}for(var p=0;p<this.staticProperties.length;++p){var d=this.staticProperties[p];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*d.offset):this.vao.addAttribute(this.staticBuffer,d.attribute,t.FLOAT,!1,4*this.staticStride,4*d.offset)}},t.prototype.uploadDynamic=function(t,e,i){for(var n=0;n<this.dynamicProperties.length;n++){var r=this.dynamicProperties[n];r.uploadFunction(t,e,i,r.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,i){for(var n=0;n<this.staticProperties.length;n++){var r=this.staticProperties[n];r.uploadFunction(t,e,i,r.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();i.default=s},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=n(t("./ParticleShader")),s=n(t("./ParticleBuffer")),a=t("../../core/utils"),c=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new r.Matrix,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new o.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,i=t._maxSize,n=t._batchSize,o=this.renderer,s=e.length;if(0!==s){s>i&&(s=i);var a=t._glBuffers[o.CONTEXT_UID];a||(a=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var c=e[0]._texture.baseTexture;this.renderer.setBlendMode(r.utils.correctBlendMode(t.blendMode,c.premultipliedAlpha));var u=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,c.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(c);for(var h=!1,_=0,p=0;_<s;_+=n,p+=1){var d=s-_;if(d>n&&(d=n),p>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var f=a[p];f.uploadDynamic(e,_,d);var b=t._bufferUpdateIDs[p]||0;(h=h||f._updateID<b)&&(f._updateID=t._updateID,f.uploadStatic(e,_,d)),o.bindVao(f.vao),f.vao.draw(u.TRIANGLES,6*d)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,i=[],n=t._maxSize,r=t._batchSize,o=t._properties,a=0;a<n;a+=r)i.push(new s.default(e,this.properties,o,r));return i},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,i=t._batchSize,n=t._properties;return new s.default(e,this.properties,n,i)},e.prototype.uploadVertices=function(t,e,i,n,r,o){for(var s=0,a=0,c=0,u=0,l=0;l<i;++l){var h=t[e+l],_=h._texture,p=h.scale.x,d=h.scale.y,f=_.trim,b=_.orig;f?(s=(a=f.x-h.anchor.x*b.width)+f.width,c=(u=f.y-h.anchor.y*b.height)+f.height):(s=b.width*(1-h.anchor.x),a=b.width*-h.anchor.x,c=b.height*(1-h.anchor.y),u=b.height*-h.anchor.y),n[o]=a*p,n[o+1]=u*d,n[o+r]=s*p,n[o+r+1]=u*d,n[o+2*r]=s*p,n[o+2*r+1]=c*d,n[o+3*r]=a*p,n[o+3*r+1]=c*d,o+=4*r}},e.prototype.uploadPosition=function(t,e,i,n,r,o){for(var s=0;s<i;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+r]=a.x,n[o+r+1]=a.y,n[o+2*r]=a.x,n[o+2*r+1]=a.y,n[o+3*r]=a.x,n[o+3*r+1]=a.y,o+=4*r}},e.prototype.uploadRotation=function(t,e,i,n,r,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;n[o]=a,n[o+r]=a,n[o+2*r]=a,n[o+3*r]=a,o+=4*r}},e.prototype.uploadUvs=function(t,e,i,n,r,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+r]=a.x1,n[o+r+1]=a.y1,n[o+2*r]=a.x2,n[o+2*r+1]=a.y2,n[o+3*r]=a.x3,n[o+3*r+1]=a.y3,o+=4*r):(n[o]=0,n[o+1]=0,n[o+r]=0,n[o+r+1]=0,n[o+2*r]=0,n[o+2*r+1]=0,n[o+3*r]=0,n[o+3*r+1]=0,o+=4*r)}},e.prototype.uploadTint=function(t,e,i,n,r,o){for(var s=0;s<i;++s){var c=t[e+s],u=c._texture.baseTexture.premultipliedAlpha,l=c.alpha,h=l<1&&u?(0,a.premultiplyTint)(c._tintRGB,l):c._tintRGB+(255*l<<24);n[o]=h,n[o+r]=h,n[o+2*r]=h,n[o+3*r]=h,o+=4*r}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(r.ObjectRenderer);i.default=c,r.WebGLRenderer.registerPlugin("particle",c)},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){function e(i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../../core/Shader")).default);i.default=n},{"../../core/Shader":44}],178:[function(t,e,i){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},{}],179:[function(t,e,i){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},{}],180:[function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(t("object-assign"));Object.assign||(Object.assign=n.default)},{"object-assign":6}],181:[function(t,e,i){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),t("./Number.isInteger"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Number.isInteger":179,"./Object.assign":180,"./requestAnimationFrame":182}],182:[function(t,e,i){(function(t){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var i=Date.now(),n=["ms","moz","webkit","o"],r=0;r<n.length&&!t.requestAnimationFrame;++r){var o=n[r];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+i-e;return n<0&&(n=0),i=e,setTimeout(function(){i=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],183:[function(t,e,i){"use strict";function n(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof l.Texture){var r=t._textures[n].baseTexture;-1===e.indexOf(r)&&(e.push(r),i=!0)}return i}function r(t,e){return t instanceof l.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function o(t,e){if(t._texture&&t._texture instanceof l.Texture){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function s(t,e){return e instanceof l.Text&&(e.updateText(!0),!0)}function a(t,e){if(e instanceof l.TextStyle){var i=e.toFontString();return l.TextMetrics.measureFont(i),!0}return!1}function c(t,e){if(t instanceof l.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function u(t,e){return t instanceof l.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}i.__esModule=!0;var l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),h=function(t){return t&&t.__esModule?t:{default:t}}(t("./limiters/CountLimiter")),_=l.ticker.shared;l.settings.UPLOADS_PER_FRAME=4;var p=function(){function t(e){var i=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.limiter=new h.default(l.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){i.queue&&i.prepareItems()},this.registerFindHook(c),this.registerFindHook(u),this.registerFindHook(n),this.registerFindHook(r),this.registerFindHook(o),this.registerUploadHook(s),this.registerUploadHook(a)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,_.addOnce(this.tick,this,l.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)_.addOnce(this.tick,this,l.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var r=this.completes.slice(0);this.completes.length=0;for(var o=0,s=r.length;o<s;o++)r[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof l.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&_.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();i.default=p},{"../core":65,"./limiters/CountLimiter":186}],184:[function(t,e,i){"use strict";function n(t,e){if(e instanceof r.BaseTexture){var i=e.source,n=0===i.width?t.canvas.width:Math.min(t.canvas.width,i.width),o=0===i.height?t.canvas.height:Math.min(t.canvas.height,i.height);return t.ctx.drawImage(i,0,0,n,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}i.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=16,s=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return r.uploadHookHelper=r,r.canvas=document.createElement("canvas"),r.canvas.width=o,r.canvas.height=o,r.ctx=r.canvas.getContext("2d"),r.registerUploadHook(n),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../BasePrepare")).default);i.default=s,r.CanvasRenderer.registerPlugin("prepare",s)},{"../../core":65,"../BasePrepare":183}],185:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var r=t("./webgl/WebGLPrepare");Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return n(r).default}});var o=t("./canvas/CanvasPrepare");Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return n(o).default}});var s=t("./BasePrepare");Object.defineProperty(i,"BasePrepare",{enumerable:!0,get:function(){return n(s).default}});var a=t("./limiters/CountLimiter");Object.defineProperty(i,"CountLimiter",{enumerable:!0,get:function(){return n(a).default}});var c=t("./limiters/TimeLimiter");Object.defineProperty(i,"TimeLimiter",{enumerable:!0,get:function(){return n(c).default}})},{"./BasePrepare":183,"./canvas/CanvasPrepare":184,"./limiters/CountLimiter":186,"./limiters/TimeLimiter":187,"./webgl/WebGLPrepare":188}],186:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();i.default=n},{}],187:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();i.default=n},{}],188:[function(t,e,i){"use strict";function n(t,e){return e instanceof s.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function r(t,e){return e instanceof s.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function o(t,e){return t instanceof s.Graphics&&(e.push(t),!0)}i.__esModule=!0;var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),a=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i));return s.uploadHookHelper=s.renderer,s.registerFindHook(o),s.registerUploadHook(n),s.registerUploadHook(r),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../BasePrepare")).default);i.default=a,s.WebGLRenderer.registerPlugin("prepare",a)},{"../../core":65,"../BasePrepare":183}],189:[function(t,e,i){(function(e){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}i.__esModule=!0,i.loader=i.prepare=i.particles=i.mesh=i.loaders=i.interaction=i.filters=i.extras=i.extract=i.accessibility=void 0;var r=t("./polyfill");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return r[t]}})});var o=t("./core");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})});var s=function(t){return t&&t.__esModule?t:{default:t}}(t("./deprecation")),a=n(t("./accessibility")),c=n(t("./extract")),u=n(t("./extras")),l=n(t("./filters")),h=n(t("./interaction")),_=n(t("./loaders")),p=n(t("./mesh")),d=n(t("./particles")),f=n(t("./prepare"));o.utils.mixins.performMixins();var b=_.shared||null;i.accessibility=a,i.extract=c,i.extras=u,i.filters=l,i.interaction=h,i.loaders=_,i.mesh=p,i.particles=d,i.prepare=f,i.loader=b,"function"==typeof s.default&&(0,s.default)(i),e.PIXI=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":181,"./prepare":185}]},{},[189])(189)});var __filters=function(t,e){"use strict";var i="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",n="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float gamma;\nuniform float contrast;\nuniform float saturation;\nuniform float brightness;\nuniform float red;\nuniform float green;\nuniform float blue;\nuniform float alpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (c.a > 0.0) {\n        c.rgb /= c.a;\n\n        vec3 rgb = pow(c.rgb, vec3(1. / gamma));\n        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);\n        rgb.r *= red;\n        rgb.g *= green;\n        rgb.b *= blue;\n        c.rgb = rgb * brightness;\n\n        c.rgb *= c.a;\n    }\n\n    gl_FragColor = c * alpha;\n}\n",r=function(t){function e(e){t.call(this,i,n),Object.assign(this,{gamma:1,saturation:1,contrast:1,brightness:1,red:1,green:1,blue:1,alpha:1},e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,i,n){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,t.applyFilter(this,e,i,n)},e}(e.Filter),o=i,s="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}",a="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n",c=function(t){function i(i,n,r){void 0===i&&(i=4),void 0===n&&(n=3),void 0===r&&(r=!1),t.call(this,o,r?a:s),this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new e.Point,this.pixelSize=1,this._clamp=r,this._kernels=null,Array.isArray(i)?this.kernels=i:(this._blur=i,this.quality=n)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={kernels:{configurable:!0},clamp:{configurable:!0},pixelSize:{configurable:!0},quality:{configurable:!0},blur:{configurable:!0}};return i.prototype.apply=function(t,e,i,n){var r,o=this.pixelSize.x/e.size.width,s=this.pixelSize.y/e.size.height;if(1===this._quality||0===this._blur)r=this._kernels[0]+.5,this.uniforms.uOffset[0]=r*o,this.uniforms.uOffset[1]=r*s,t.applyFilter(this,e,i,n);else{for(var a,c=t.getRenderTarget(!0),u=e,l=c,h=this._quality-1,_=0;_<h;_++)r=this._kernels[_]+.5,this.uniforms.uOffset[0]=r*o,this.uniforms.uOffset[1]=r*s,t.applyFilter(this,u,l,!0),a=u,u=l,l=a;r=this._kernels[h]+.5,this.uniforms.uOffset[0]=r*o,this.uniforms.uOffset[1]=r*s,t.applyFilter(this,u,i,n),t.returnRenderTarget(c)}},i.prototype._generateKernels=function(){var t=this._blur,e=this._quality,i=[t];if(t>0)for(var n=t,r=t/e,o=1;o<e;o++)n-=r,i.push(n);this._kernels=i},n.kernels.get=function(){return this._kernels},n.kernels.set=function(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max.apply(Math,t)):(this._kernels=[0],this._quality=1)},n.clamp.get=function(){return this._clamp},n.pixelSize.set=function(t){"number"==typeof t?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof e.Point?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)},n.pixelSize.get=function(){return this._pixelSize},n.quality.get=function(){return this._quality},n.quality.set=function(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()},n.blur.get=function(){return this._blur},n.blur.set=function(t){this._blur=t,this._generateKernels()},Object.defineProperties(i.prototype,n),i}(e.Filter),u=i,l="\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform float threshold;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    // A simple & fast algorithm for getting brightness.\n    // It's inaccuracy , but good enought for this feature.\n    float _max = max(max(color.r, color.g), color.b);\n    float _min = min(min(color.r, color.g), color.b);\n    float brightness = (_max + _min) * 0.5;\n\n    if(brightness > threshold) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n",h=function(t){function e(e){void 0===e&&(e=.5),t.call(this,u,l),this.threshold=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={threshold:{configurable:!0}};return i.threshold.get=function(){return this.uniforms.threshold},i.threshold.set=function(t){this.uniforms.threshold=t},Object.defineProperties(e.prototype,i),e}(e.Filter),_="uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D bloomTexture;\nuniform float bloomScale;\nuniform float brightness;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb *= brightness;\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\n    bloomColor.rgb *= bloomScale;\n    gl_FragColor = color + bloomColor;\n}\n",p=function(t){function i(i){t.call(this,u,_),"number"==typeof i&&(i={threshold:i}),i=Object.assign({threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:e.settings.RESOLUTION},i),this.bloomScale=i.bloomScale,this.brightness=i.brightness;var n=i.kernels,r=i.blur,o=i.quality,s=i.pixelSize,a=i.resolution;this._extractFilter=new h(i.threshold),this._extractFilter.resolution=a,this._blurFilter=n?new c(n):new c(r,o),this.pixelSize=s,this.resolution=a}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={resolution:{configurable:!0},threshold:{configurable:!0},kernels:{configurable:!0},blur:{configurable:!0},quality:{configurable:!0},pixelSize:{configurable:!0}};return i.prototype.apply=function(t,e,i,n,r){var o=t.getRenderTarget(!0);this._extractFilter.apply(t,e,o,!0,r);var s=t.getRenderTarget(!0);this._blurFilter.apply(t,o,s,!0,r),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=s,t.applyFilter(this,e,i,n),t.returnRenderTarget(s),t.returnRenderTarget(o)},n.resolution.get=function(){return this._resolution},n.resolution.set=function(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},n.threshold.get=function(){return this._extractFilter.threshold},n.threshold.set=function(t){this._extractFilter.threshold=t},n.kernels.get=function(){return this._blurFilter.kernels},n.kernels.set=function(t){this._blurFilter.kernels=t},n.blur.get=function(){return this._blurFilter.blur},n.blur.set=function(t){this._blurFilter.blur=t},n.quality.get=function(){return this._blurFilter.quality},n.quality.set=function(t){this._blurFilter.quality=t},n.pixelSize.get=function(){return this._blurFilter.pixelSize},n.pixelSize.set=function(t){this._blurFilter.pixelSize=t},Object.defineProperties(i.prototype,n),i}(e.Filter),d=i,f="varying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n    return floor( coord / size ) * size;\n}\n\nvec2 getMod(vec2 coord, vec2 size)\n{\n    return mod( coord , size) / size;\n}\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n\n    if (clamp(p.x, 0.0, 4.0) == p.x)\n    {\n        if (clamp(p.y, 0.0, 4.0) == p.y)\n        {\n            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n        }\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    // get the rounded color..\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\n    pixCoord = unmapCoord(pixCoord);\n\n    vec4 color = texture2D(uSampler, pixCoord);\n\n    // determine the character to use\n    float gray = (color.r + color.g + color.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    // get the mod..\n    vec2 modd = getMod(coord, vec2(pixelSize));\n\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\n\n}\n",b=function(t){function e(e){void 0===e&&(e=8),t.call(this,d,f),this.size=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return i.size.get=function(){return this.uniforms.pixelSize},i.size.set=function(t){this.uniforms.pixelSize=t},Object.defineProperties(e.prototype,i),e}(e.Filter),m=i,g="precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float transformX;\nuniform float transformY;\nuniform vec3 lightColor;\nuniform float lightAlpha;\nuniform vec3 shadowColor;\nuniform float shadowAlpha;\n\nvoid main(void) {\n    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float light = texture2D(uSampler, vTextureCoord - transform).a;\n    float shadow = texture2D(uSampler, vTextureCoord + transform).a;\n\n    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));\n    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));\n    gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n",y=function(t){function i(e){void 0===e&&(e={}),t.call(this,m,g),this.uniforms.lightColor=new Float32Array(3),this.uniforms.shadowColor=new Float32Array(3),e=Object.assign({rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},e),this.rotation=e.rotation,this.thickness=e.thickness,this.lightColor=e.lightColor,this.lightAlpha=e.lightAlpha,this.shadowColor=e.shadowColor,this.shadowAlpha=e.shadowAlpha}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={rotation:{configurable:!0},thickness:{configurable:!0},lightColor:{configurable:!0},lightAlpha:{configurable:!0},shadowColor:{configurable:!0},shadowAlpha:{configurable:!0}};return i.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},n.rotation.get=function(){return this._angle/e.DEG_TO_RAD},n.rotation.set=function(t){this._angle=t*e.DEG_TO_RAD,this._updateTransform()},n.thickness.get=function(){return this._thickness},n.thickness.set=function(t){this._thickness=t,this._updateTransform()},n.lightColor.get=function(){return e.utils.rgb2hex(this.uniforms.lightColor)},n.lightColor.set=function(t){e.utils.hex2rgb(t,this.uniforms.lightColor)},n.lightAlpha.get=function(){return this.uniforms.lightAlpha},n.lightAlpha.set=function(t){this.uniforms.lightAlpha=t},n.shadowColor.get=function(){return e.utils.rgb2hex(this.uniforms.shadowColor)},n.shadowColor.set=function(t){e.utils.hex2rgb(t,this.uniforms.shadowColor)},n.shadowAlpha.get=function(){return this.uniforms.shadowAlpha},n.shadowAlpha.set=function(t){this.uniforms.shadowAlpha=t},Object.defineProperties(i.prototype,n),i}(e.Filter),v=e.filters,w=v.BlurXFilter,x=v.BlurYFilter,T=v.AlphaFilter,S=function(t){function i(i,n,r,o){var s,a;void 0===i&&(i=2),void 0===n&&(n=4),void 0===r&&(r=e.settings.RESOLUTION),void 0===o&&(o=5),t.call(this),"number"==typeof i?(s=i,a=i):i instanceof e.Point?(s=i.x,a=i.y):Array.isArray(i)&&(s=i[0],a=i[1]),this.blurXFilter=new w(s,n,r,o),this.blurYFilter=new x(a,n,r,o),this.blurYFilter.blendMode=e.BLEND_MODES.SCREEN,this.defaultFilter=new T}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={blur:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0}};return i.prototype.apply=function(t,e,i){var n=t.getRenderTarget(!0);this.defaultFilter.apply(t,e,i),this.blurXFilter.apply(t,e,n),this.blurYFilter.apply(t,n,i),t.returnRenderTarget(n)},n.blur.get=function(){return this.blurXFilter.blur},n.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t},n.blurX.get=function(){return this.blurXFilter.blur},n.blurX.set=function(t){this.blurXFilter.blur=t},n.blurY.get=function(){return this.blurYFilter.blur},n.blurY.set=function(t){this.blurYFilter.blur=t},Object.defineProperties(i.prototype,n),i}(e.Filter),A=i,C="uniform float radius;\nuniform float strength;\nuniform vec2 center;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    gl_FragColor = color;\n}\n",E=function(t){function e(e,i,n){t.call(this,A,C),this.uniforms.dimensions=new Float32Array(2),this.center=e||[.5,.5],this.radius="number"==typeof i?i:100,this.strength="number"==typeof n?n:1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={radius:{configurable:!0},strength:{configurable:!0},center:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){this.uniforms.dimensions[0]=e.sourceFrame.width,this.uniforms.dimensions[1]=e.sourceFrame.height,t.applyFilter(this,e,i,n)},i.radius.get=function(){return this.uniforms.radius},i.radius.set=function(t){this.uniforms.radius=t},i.strength.get=function(){return this.uniforms.strength},i.strength.set=function(t){this.uniforms.strength=t},i.center.get=function(){return this.uniforms.center},i.center.set=function(t){this.uniforms.center=t},Object.defineProperties(e.prototype,i),e}(e.Filter),P=i,D="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D colorMap;\nuniform float _mix;\nuniform float _size;\nuniform float _sliceSize;\nuniform float _slicePixelSize;\nuniform float _sliceInnerSize;\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord.xy);\n\n    vec4 adjusted;\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n        float innerWidth = _size - 1.0;\n        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);\n        float zSlice1 = min(zSlice0 + 1.0, innerWidth);\n        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;\n        float s0 = xOffset + (zSlice0 * _sliceSize);\n        float s1 = xOffset + (zSlice1 * _sliceSize);\n        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);\n        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));\n        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));\n        float zOffset = fract(color.b * innerWidth);\n        adjusted = mix(slice0Color, slice1Color, zOffset);\n\n        color.rgb *= color.a;\n    }\n    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);\n\n}",M=function(t){function i(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=1),t.call(this,P,D),this._size=0,this._sliceSize=0,this._slicePixelSize=0,this._sliceInnerSize=0,this._scaleMode=null,this._nearest=!1,this.nearest=i,this.mix=n,this.colorMap=e}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={colorSize:{configurable:!0},colorMap:{configurable:!0},nearest:{configurable:!0}};return i.prototype.apply=function(t,e,i,n){this.uniforms._mix=this.mix,t.applyFilter(this,e,i,n)},n.colorSize.get=function(){return this._size},n.colorMap.get=function(){return this._colorMap},n.colorMap.set=function(t){t instanceof e.Texture||(t=e.Texture.from(t)),t&&t.baseTexture&&(t.baseTexture.scaleMode=this._scaleMode,t.baseTexture.mipmap=!1,this._size=t.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=t),this._colorMap=t},n.nearest.get=function(){return this._nearest},n.nearest.set=function(t){this._nearest=t,this._scaleMode=t?e.SCALE_MODES.NEAREST:e.SCALE_MODES.LINEAR;var i=this._colorMap;i&&i.baseTexture&&(i.baseTexture._glTextures={},i.baseTexture.scaleMode=this._scaleMode,i.baseTexture.mipmap=!1,i._updateID++,i.baseTexture.emit("update",i.baseTexture))},i.prototype.updateColorMap=function(){var t=this._colorMap;t&&t.baseTexture&&(t._updateID++,t.baseTexture.emit("update",t.baseTexture),this.colorMap=t)},i.prototype.destroy=function(e){this._colorMap&&this._colorMap.destroy(e),t.prototype.destroy.call(this)},Object.defineProperties(i.prototype,n),i}(e.Filter),R=i,I="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n",O=function(t){function i(e,i,n){void 0===e&&(e=16711680),void 0===i&&(i=0),void 0===n&&(n=.4),t.call(this,R,I),this.uniforms.originalColor=new Float32Array(3),this.uniforms.newColor=new Float32Array(3),this.originalColor=e,this.newColor=i,this.epsilon=n}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={originalColor:{configurable:!0},newColor:{configurable:!0},epsilon:{configurable:!0}};return n.originalColor.set=function(t){var i=this.uniforms.originalColor;"number"==typeof t?(e.utils.hex2rgb(t,i),this._originalColor=t):(i[0]=t[0],i[1]=t[1],i[2]=t[2],this._originalColor=e.utils.rgb2hex(i))},n.originalColor.get=function(){return this._originalColor},n.newColor.set=function(t){var i=this.uniforms.newColor;"number"==typeof t?(e.utils.hex2rgb(t,i),this._newColor=t):(i[0]=t[0],i[1]=t[1],i[2]=t[2],this._newColor=e.utils.rgb2hex(i))},n.newColor.get=function(){return this._newColor},n.epsilon.set=function(t){this.uniforms.epsilon=t},n.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(i.prototype,n),i}(e.Filter),k=i,L="precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",j=function(t){function e(e,i,n){void 0===i&&(i=200),void 0===n&&(n=200),t.call(this,k,L),this.uniforms.texelSize=new Float32Array(2),this.uniforms.matrix=new Float32Array(9),void 0!==e&&(this.matrix=e),this.width=i,this.height=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={matrix:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return i.matrix.get=function(){return this.uniforms.matrix},i.matrix.set=function(t){var e=this;t.forEach(function(t,i){return e.uniforms.matrix[i]=t})},i.width.get=function(){return 1/this.uniforms.texelSize[0]},i.width.set=function(t){this.uniforms.texelSize[0]=1/t},i.height.get=function(){return 1/this.uniforms.texelSize[1]},i.height.set=function(t){this.uniforms.texelSize[1]=1/t},Object.defineProperties(e.prototype,i),e}(e.Filter),B=i,F="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n",J=function(t){function e(){t.call(this,B,F)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(e.Filter),G=i,N="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nconst float SQRT_2 = 1.414213;\n\nconst float light = 1.0;\n\nuniform float curvature;\nuniform float lineWidth;\nuniform float lineContrast;\nuniform bool verticalLine;\nuniform float noise;\nuniform float noiseSize;\n\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\n\nuniform float seed;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 coord = pixelCoord / dimensions;\n\n    vec2 dir = vec2(coord - vec2(0.5, 0.5));\n\n    float _c = curvature > 0. ? curvature : 1.;\n    float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;\n    vec2 uv = dir * k;\n\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 rgb = gl_FragColor.rgb;\n\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        rgb += _noise * noise;\n    }\n\n    if (lineWidth > 0.0) {\n        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;\n        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;\n        rgb *= j;\n        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);\n        rgb *= 0.99 + ceil(segment) * 0.015;\n    }\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    gl_FragColor.rgb = rgb;\n}\n",U=function(t){function e(e){t.call(this,G,N),this.uniforms.dimensions=new Float32Array(2),this.time=0,this.seed=0,Object.assign(this,{curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={curvature:{configurable:!0},lineWidth:{configurable:!0},lineContrast:{configurable:!0},verticalLine:{configurable:!0},noise:{configurable:!0},noiseSize:{configurable:!0},vignetting:{configurable:!0},vignettingAlpha:{configurable:!0},vignettingBlur:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){this.uniforms.dimensions[0]=e.sourceFrame.width,this.uniforms.dimensions[1]=e.sourceFrame.height,this.uniforms.seed=this.seed,this.uniforms.time=this.time,t.applyFilter(this,e,i,n)},i.curvature.set=function(t){this.uniforms.curvature=t},i.curvature.get=function(){return this.uniforms.curvature},i.lineWidth.set=function(t){this.uniforms.lineWidth=t},i.lineWidth.get=function(){return this.uniforms.lineWidth},i.lineContrast.set=function(t){this.uniforms.lineContrast=t},i.lineContrast.get=function(){return this.uniforms.lineContrast},i.verticalLine.set=function(t){this.uniforms.verticalLine=t},i.verticalLine.get=function(){return this.uniforms.verticalLine},i.noise.set=function(t){this.uniforms.noise=t},i.noise.get=function(){return this.uniforms.noise},i.noiseSize.set=function(t){this.uniforms.noiseSize=t},i.noiseSize.get=function(){return this.uniforms.noiseSize},i.vignetting.set=function(t){this.uniforms.vignetting=t},i.vignetting.get=function(){return this.uniforms.vignetting},i.vignettingAlpha.set=function(t){this.uniforms.vignettingAlpha=t},i.vignettingAlpha.get=function(){return this.uniforms.vignettingAlpha},i.vignettingBlur.set=function(t){this.uniforms.vignettingBlur=t},i.vignettingBlur.get=function(){return this.uniforms.vignettingBlur},Object.defineProperties(e.prototype,i),e}(e.Filter),W=i,V="precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * filterArea.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",X=function(t){function e(e,i){void 0===e&&(e=1),void 0===i&&(i=5),t.call(this,W,V),this.scale=e,this.angle=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={scale:{configurable:!0},angle:{configurable:!0}};return i.scale.get=function(){return this.uniforms.scale},i.scale.set=function(t){this.uniforms.scale=t},i.angle.get=function(){return this.uniforms.angle},i.angle.set=function(t){this.uniforms.angle=t},Object.defineProperties(e.prototype,i),e}(e.Filter),z=i,q="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n\n    // Un-premultiply alpha before applying the color\n    if (sample.a > 0.0) {\n        sample.rgb /= sample.a;\n    }\n\n    // Premultiply alpha again\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}",H=function(t){function i(i){i&&i.constructor!==Object&&(console.warn("DropShadowFilter now uses options instead of (rotation, distance, blur, color, alpha)"),i={rotation:i},void 0!==arguments[1]&&(i.distance=arguments[1]),void 0!==arguments[2]&&(i.blur=arguments[2]),void 0!==arguments[3]&&(i.color=arguments[3]),void 0!==arguments[4]&&(i.alpha=arguments[4])),i=Object.assign({rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:e.settings.RESOLUTION},i),t.call(this);var n=i.kernels,r=i.blur,o=i.quality,s=i.pixelSize,a=i.resolution;this._tintFilter=new e.Filter(z,q),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.resolution=a,this._blurFilter=n?new c(n):new c(r,o),this.pixelSize=s,this.resolution=a,this.targetTransform=new e.Matrix;var u=i.shadowOnly,l=i.rotation,h=i.distance,_=i.alpha,p=i.color;this.shadowOnly=u,this.rotation=l,this.distance=h,this.alpha=_,this.color=p,this._updatePadding()}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={resolution:{configurable:!0},distance:{configurable:!0},rotation:{configurable:!0},alpha:{configurable:!0},color:{configurable:!0},kernels:{configurable:!0},blur:{configurable:!0},quality:{configurable:!0},pixelSize:{configurable:!0}};return i.prototype.apply=function(t,e,i,n){var r=t.getRenderTarget();r.transform=this.targetTransform,this._tintFilter.apply(t,e,r,!0),r.transform=null,this._blurFilter.apply(t,r,i,n),!0!==this.shadowOnly&&t.applyFilter(this,e,i,!1),t.returnRenderTarget(r)},i.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},i.prototype._updateTargetTransform=function(){this.targetTransform.tx=this.distance*Math.cos(this.angle),this.targetTransform.ty=this.distance*Math.sin(this.angle)},n.resolution.get=function(){return this._resolution},n.resolution.set=function(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},n.distance.get=function(){return this._distance},n.distance.set=function(t){this._distance=t,this._updatePadding(),this._updateTargetTransform()},n.rotation.get=function(){return this.angle/e.DEG_TO_RAD},n.rotation.set=function(t){this.angle=t*e.DEG_TO_RAD,this._updateTargetTransform()},n.alpha.get=function(){return this._tintFilter.uniforms.alpha},n.alpha.set=function(t){this._tintFilter.uniforms.alpha=t},n.color.get=function(){return e.utils.rgb2hex(this._tintFilter.uniforms.color)},n.color.set=function(t){e.utils.hex2rgb(t,this._tintFilter.uniforms.color)},n.kernels.get=function(){return this._blurFilter.kernels},n.kernels.set=function(t){this._blurFilter.kernels=t},n.blur.get=function(){return this._blurFilter.blur},n.blur.set=function(t){this._blurFilter.blur=t,this._updatePadding()},n.quality.get=function(){return this._blurFilter.quality},n.quality.set=function(t){this._blurFilter.quality=t},n.pixelSize.get=function(){return this._blurFilter.pixelSize},n.pixelSize.set=function(t){this._blurFilter.pixelSize=t},Object.defineProperties(i.prototype,n),i}(e.Filter),Y=i,Z="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float strength;\nuniform vec4 filterArea;\n\n\nvoid main(void)\n{\n\tvec2 onePixel = vec2(1.0 / filterArea);\n\n\tvec4 color;\n\n\tcolor.rgb = vec3(0.5);\n\n\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\n\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\n\n\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\n\n\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\n\n\tgl_FragColor = vec4(color.rgb * alpha, alpha);\n}\n",Q=function(t){function e(e){void 0===e&&(e=5),t.call(this,Y,Z),this.strength=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={strength:{configurable:!0}};return i.strength.get=function(){return this.uniforms.strength},i.strength.set=function(t){this.uniforms.strength=t},Object.defineProperties(e.prototype,i),e}(e.Filter),K=i,$="// precision highp float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\nuniform float aspect;\n\nuniform sampler2D displacementMap;\nuniform float offset;\nuniform float sinDir;\nuniform float cosDir;\nuniform int fillMode;\n\nuniform float seed;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nconst int TRANSPARENT = 0;\nconst int ORIGINAL = 1;\nconst int LOOP = 2;\nconst int CLAMP = 3;\nconst int MIRROR = 4;\n\nvoid main(void)\n{\n    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;\n\n    if (coord.x > 1.0 || coord.y > 1.0) {\n        return;\n    }\n\n    float cx = coord.x - 0.5;\n    float cy = (coord.y - 0.5) * aspect;\n    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;\n\n    // displacementMap: repeat\n    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);\n\n    // displacementMap: mirror\n    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);\n\n    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));\n\n    float displacement = (dc.r - dc.g) * (offset / filterArea.x);\n\n    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);\n\n    if (fillMode == CLAMP) {\n        coord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    } else {\n        if( coord.x > filterClamp.z ) {\n            if (fillMode == ORIGINAL) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord);\n                return;\n            } else if (fillMode == LOOP) {\n                coord.x -= filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x = filterClamp.z * 2.0 - coord.x;\n            } else {\n                gl_FragColor = vec4(0., 0., 0., 0.);\n                return;\n            }\n        } else if( coord.x < filterClamp.x ) {\n            if (fillMode == ORIGINAL) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord);\n                return;\n            } else if (fillMode == LOOP) {\n                coord.x += filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x *= -filterClamp.z;\n            } else {\n                gl_FragColor = vec4(0., 0., 0., 0.);\n                return;\n            }\n        }\n\n        if( coord.y > filterClamp.w ) {\n            if (fillMode == ORIGINAL) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord);\n                return;\n            } else if (fillMode == LOOP) {\n                coord.y -= filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y = filterClamp.w * 2.0 - coord.y;\n            } else {\n                gl_FragColor = vec4(0., 0., 0., 0.);\n                return;\n            }\n        } else if( coord.y < filterClamp.y ) {\n            if (fillMode == ORIGINAL) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord);\n                return;\n            } else if (fillMode == LOOP) {\n                coord.y += filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y *= -filterClamp.w;\n            } else {\n                gl_FragColor = vec4(0., 0., 0., 0.);\n                return;\n            }\n        }\n    }\n\n    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;\n    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;\n    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;\n    gl_FragColor.a = texture2D(uSampler, coord).a;\n}\n",tt=function(t){function i(i){void 0===i&&(i={}),t.call(this,K,$),this.uniforms.dimensions=new Float32Array(2),i=Object.assign({slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},i),this.direction=i.direction,this.red=i.red,this.green=i.green,this.blue=i.blue,this.offset=i.offset,this.fillMode=i.fillMode,this.average=i.average,this.seed=i.seed,this.minSize=i.minSize,this.sampleSize=i.sampleSize,this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=e.Texture.fromCanvas(this._canvas,e.SCALE_MODES.NEAREST),this._slices=0,this.slices=i.slices}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={sizes:{configurable:!0},offsets:{configurable:!0},slices:{configurable:!0},direction:{configurable:!0},red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0}};return i.prototype.apply=function(t,e,i,n){var r=e.sourceFrame.width,o=e.sourceFrame.height;this.uniforms.dimensions[0]=r,this.uniforms.dimensions[1]=o,this.uniforms.aspect=o/r,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,t.applyFilter(this,e,i,n)},i.prototype._randomizeSizes=function(){var t=this._sizes,e=this._slices-1,i=this.sampleSize,n=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var r=this._slices,o=1,s=0;s<e;s++){var a=o/(r-s),c=Math.max(a*(1-.6*Math.random()),n);t[s]=c,o-=c}t[e]=o}else{for(var u=1,l=Math.sqrt(1/this._slices),h=0;h<e;h++){var _=Math.max(l*u*Math.random(),n);t[h]=_,u-=_}t[e]=u}this.shuffle()},i.prototype.shuffle=function(){for(var t=this._sizes,e=this._slices-1;e>0;e--){var i=Math.random()*e>>0,n=t[e];t[e]=t[i],t[i]=n}},i.prototype._randomizeOffsets=function(){for(var t=0;t<this._slices;t++)this._offsets[t]=Math.random()*(Math.random()<.5?-1:1)},i.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},i.prototype.redraw=function(){var t,e=this.sampleSize,i=this.texture,n=this._canvas.getContext("2d");n.clearRect(0,0,8,e);for(var r=0,o=0;o<this._slices;o++){t=Math.floor(256*this._offsets[o]);var s=this._sizes[o]*e,a=t>0?t:0,c=t<0?-t:0;n.fillStyle="rgba("+a+", "+c+", 0, 1)",n.fillRect(0,r>>0,e,s+1>>0),r+=s}i.baseTexture.update(),this.uniforms.displacementMap=i},n.sizes.set=function(t){for(var e=Math.min(this._slices,t.length),i=0;i<e;i++)this._sizes[i]=t[i]},n.sizes.get=function(){return this._sizes},n.offsets.set=function(t){for(var e=Math.min(this._slices,t.length),i=0;i<e;i++)this._offsets[i]=t[i]},n.offsets.get=function(){return this._offsets},n.slices.get=function(){return this._slices},n.slices.set=function(t){this._slices!==t&&(this._slices=t,this.uniforms.slices=t,this._sizes=this.uniforms.slicesWidth=new Float32Array(t),this._offsets=this.uniforms.slicesOffset=new Float32Array(t),this.refresh())},n.direction.get=function(){return this._direction},n.direction.set=function(t){if(this._direction!==t){this._direction=t;var i=t*e.DEG_TO_RAD;this.uniforms.sinDir=Math.sin(i),this.uniforms.cosDir=Math.cos(i)}},n.red.get=function(){return this.uniforms.red},n.red.set=function(t){this.uniforms.red=t},n.green.get=function(){return this.uniforms.green},n.green.set=function(t){this.uniforms.green=t},n.blue.get=function(){return this.uniforms.blue},n.blue.set=function(t){this.uniforms.blue=t},i.prototype.destroy=function(){this.texture.destroy(!0),this.texture=null,this._canvas=null,this.red=null,this.green=null,this.blue=null,this._sizes=null,this._offsets=null},Object.defineProperties(i.prototype,n),i}(e.Filter);tt.TRANSPARENT=0,tt.ORIGINAL=1,tt.LOOP=2,tt.CLAMP=3,tt.MIRROR=4;var et=i,it="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float distance;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec4 glowColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nconst float PI = 3.14159265358979323846264;\n\nvoid main(void) {\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float totalAlpha = 0.0;\n    float maxTotalAlpha = 0.0;\n    float cosAngle;\n    float sinAngle;\n    vec2 displaced;\n    for (float angle = 0.0; angle <= PI * 2.0; angle += %QUALITY_DIST%) {\n       cosAngle = cos(angle);\n       sinAngle = sin(angle);\n       for (float curDistance = 1.0; curDistance <= %DIST%; curDistance++) {\n           displaced.x = vTextureCoord.x + cosAngle * curDistance * px.x;\n           displaced.y = vTextureCoord.y + sinAngle * curDistance * px.y;\n           curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n           totalAlpha += (distance - curDistance) * curColor.a;\n           maxTotalAlpha += (distance - curDistance);\n       }\n    }\n    maxTotalAlpha = max(maxTotalAlpha, 0.0001);\n\n    ownColor.a = max(ownColor.a, 0.0001);\n    ownColor.rgb = ownColor.rgb / ownColor.a;\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;\n    float resultAlpha = (ownColor.a + outerGlowAlpha);\n    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);\n}\n",nt=function(t){function i(e,i,n,r,o){void 0===e&&(e=10),void 0===i&&(i=4),void 0===n&&(n=0),void 0===r&&(r=16777215),void 0===o&&(o=.1),t.call(this,et,it.replace(/%QUALITY_DIST%/gi,""+(1/o/e).toFixed(7)).replace(/%DIST%/gi,""+e.toFixed(7))),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.distance=e,this.color=r,this.outerStrength=i,this.innerStrength=n}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={color:{configurable:!0},distance:{configurable:!0},outerStrength:{configurable:!0},innerStrength:{configurable:!0}};return n.color.get=function(){return e.utils.rgb2hex(this.uniforms.glowColor)},n.color.set=function(t){e.utils.hex2rgb(t,this.uniforms.glowColor)},n.distance.get=function(){return this.uniforms.distance},n.distance.set=function(t){this.uniforms.distance=t},n.outerStrength.get=function(){return this.uniforms.outerStrength},n.outerStrength.set=function(t){this.uniforms.outerStrength=t},n.innerStrength.get=function(){return this.uniforms.innerStrength},n.innerStrength.set=function(t){this.uniforms.innerStrength=t},Object.defineProperties(i.prototype,n),i}(e.Filter),rt=i,ot="vec3 mod289(vec3 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 mod289(vec4 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 permute(vec4 x)\n{\n    return mod289(((x * 34.0) + 1.0) * x);\n}\nvec4 taylorInvSqrt(vec4 r)\n{\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\nvec3 fade(vec3 t)\n{\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n}\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\n{\n    float sum = 0.0;\n    float sc = 1.0;\n    float totalgain = 1.0;\n    for (float i = 0.0; i < 6.0; i++)\n    {\n        sum += totalgain * pnoise(P * sc, rep);\n        sc *= lacunarity;\n        totalgain *= gain;\n    }\n    return abs(sum);\n}\n",st="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform vec2 light;\nuniform bool parallel;\nuniform float aspect;\n\nuniform float gain;\nuniform float lacunarity;\nuniform float time;\n\n${perlin}\n\nvoid main(void) {\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    float d;\n\n    if (parallel) {\n        float _cos = light.x;\n        float _sin = light.y;\n        d = (_cos * coord.x) + (_sin * coord.y * aspect);\n    } else {\n        float dx = coord.x - light.x / dimensions.x;\n        float dy = (coord.y - light.y / dimensions.y) * aspect;\n        float dis = sqrt(dx * dx + dy * dy) + 0.00001;\n        d = dy / dis;\n    }\n\n    vec3 dir = vec3(d, d, 0.0);\n\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\n    noise = mix(noise, 0.0, 0.3);\n    //fade vertically.\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\n    mist.a = 1.0;\n\n    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;\n}\n",at=function(t){function i(i){t.call(this,rt,st.replace("${perlin}",ot)),this.uniforms.dimensions=new Float32Array(2),"number"==typeof i&&(console.warn("GodrayFilter now uses options instead of (angle, gain, lacunarity, time)"),i={angle:i},void 0!==arguments[1]&&(i.gain=arguments[1]),void 0!==arguments[2]&&(i.lacunarity=arguments[2]),void 0!==arguments[3]&&(i.time=arguments[3])),i=Object.assign({angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0]},i),this._angleLight=new e.Point,this.angle=i.angle,this.gain=i.gain,this.lacunarity=i.lacunarity,this.parallel=i.parallel,this.center=i.center,this.time=i.time}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={angle:{configurable:!0},gain:{configurable:!0},lacunarity:{configurable:!0}};return i.prototype.apply=function(t,e,i,n){var r=e.sourceFrame,o=r.width,s=r.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/o,this.uniforms.time=this.time,t.applyFilter(this,e,i,n)},n.angle.get=function(){return this._angle},n.angle.set=function(t){this._angle=t;var i=t*e.DEG_TO_RAD;this._angleLight.x=Math.cos(i),this._angleLight.y=Math.sin(i)},n.gain.get=function(){return this.uniforms.gain},n.gain.set=function(t){this.uniforms.gain=t},n.lacunarity.get=function(){return this.uniforms.lacunarity},n.lacunarity.set=function(t){this.uniforms.lacunarity=t},Object.defineProperties(i.prototype,n),i}(e.Filter),ct=i,ut="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uVelocity;\nuniform int uKernelSize;\nuniform float uOffset;\n\nconst int MAX_KERNEL_SIZE = 2048;\n\n// Notice:\n// the perfect way:\n//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);\n// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.\n// So use uKernelSize directly.\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    if (uKernelSize == 0)\n    {\n        gl_FragColor = color;\n        return;\n    }\n\n    vec2 velocity = uVelocity / filterArea.xy;\n    float offset = -uOffset / length(uVelocity) - 0.5;\n    int k = uKernelSize - 1;\n\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\n        if (i == k) {\n            break;\n        }\n        vec2 bias = velocity * (float(i) / float(k) + offset);\n        color += texture2D(uSampler, vTextureCoord + bias);\n    }\n    gl_FragColor = color / float(uKernelSize);\n}\n",lt=function(t){function i(i,n,r){void 0===i&&(i=[0,0]),void 0===n&&(n=5),void 0===r&&(r=0),t.call(this,ct,ut),this.uniforms.uVelocity=new Float32Array(2),this._velocity=new e.ObservablePoint(this.velocityChanged,this),this.velocity=i,this.kernelSize=n,this.offset=r}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={velocity:{configurable:!0},offset:{configurable:!0}};return i.prototype.apply=function(t,e,i,n){var r=this.velocity,o=r.x,s=r.y;this.uniforms.uKernelSize=0!==o||0!==s?this.kernelSize:0,t.applyFilter(this,e,i,n)},n.velocity.set=function(t){Array.isArray(t)?this._velocity.set(t[0],t[1]):(t instanceof e.Point||t instanceof e.ObservablePoint)&&this._velocity.copy(t)},n.velocity.get=function(){return this._velocity},i.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y},n.offset.set=function(t){this.uniforms.uOffset=t},n.offset.get=function(){return this.uniforms.uOffset},Object.defineProperties(i.prototype,n),i}(e.Filter),ht=i,_t="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float epsilon;\n\nconst int MAX_COLORS = %maxColors%;\n\nuniform vec3 originalColors[MAX_COLORS];\nuniform vec3 targetColors[MAX_COLORS];\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    float alpha = gl_FragColor.a;\n    if (alpha < 0.0001)\n    {\n      return;\n    }\n\n    vec3 color = gl_FragColor.rgb / alpha;\n\n    for(int i = 0; i < MAX_COLORS; i++)\n    {\n      vec3 origColor = originalColors[i];\n      if (origColor.r < 0.0)\n      {\n        break;\n      }\n      vec3 colorDiff = origColor - color;\n      if (length(colorDiff) < epsilon)\n      {\n        vec3 targetColor = targetColors[i];\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\n        return;\n      }\n    }\n}\n",pt=function(t){function i(e,i,n){void 0===i&&(i=.05),void 0===n&&(n=null),n=n||e.length,t.call(this,ht,_t.replace(/%maxColors%/g,n)),this.epsilon=i,this._maxColors=n,this._replacements=null,this.uniforms.originalColors=new Float32Array(3*n),this.uniforms.targetColors=new Float32Array(3*n),this.replacements=e}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={replacements:{configurable:!0},maxColors:{configurable:!0},epsilon:{configurable:!0}};return n.replacements.set=function(t){var i=this.uniforms.originalColors,n=this.uniforms.targetColors,r=t.length;if(r>this._maxColors)throw"Length of replacements ("+r+") exceeds the maximum colors length ("+this._maxColors+")";i[3*r]=-1;for(var o=0;o<r;o++){var s=t[o],a=s[0];"number"==typeof a?a=e.utils.hex2rgb(a):s[0]=e.utils.rgb2hex(a),i[3*o]=a[0],i[3*o+1]=a[1],i[3*o+2]=a[2];var c=s[1];"number"==typeof c?c=e.utils.hex2rgb(c):s[1]=e.utils.rgb2hex(c),n[3*o]=c[0],n[3*o+1]=c[1],n[3*o+2]=c[2]}this._replacements=t},n.replacements.get=function(){return this._replacements},i.prototype.refresh=function(){this.replacements=this._replacements},n.maxColors.get=function(){return this._maxColors},n.epsilon.set=function(t){this.uniforms.epsilon=t},n.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(i.prototype,n),i}(e.Filter),dt=i,ft="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n",bt=function(t){function e(e,i){void 0===i&&(i=0),t.call(this,dt,ft),this.uniforms.dimensions=new Float32Array(2),"number"==typeof e?(this.seed=e,e=null):this.seed=i,Object.assign(this,{sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={sepia:{configurable:!0},noise:{configurable:!0},noiseSize:{configurable:!0},scratch:{configurable:!0},scratchDensity:{configurable:!0},scratchWidth:{configurable:!0},vignetting:{configurable:!0},vignettingAlpha:{configurable:!0},vignettingBlur:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){this.uniforms.dimensions[0]=e.sourceFrame.width,this.uniforms.dimensions[1]=e.sourceFrame.height,this.uniforms.seed=this.seed,t.applyFilter(this,e,i,n)},i.sepia.set=function(t){this.uniforms.sepia=t},i.sepia.get=function(){return this.uniforms.sepia},i.noise.set=function(t){this.uniforms.noise=t},i.noise.get=function(){return this.uniforms.noise},i.noiseSize.set=function(t){this.uniforms.noiseSize=t},i.noiseSize.get=function(){return this.uniforms.noiseSize},i.scratch.set=function(t){this.uniforms.scratch=t},i.scratch.get=function(){return this.uniforms.scratch},i.scratchDensity.set=function(t){this.uniforms.scratchDensity=t},i.scratchDensity.get=function(){return this.uniforms.scratchDensity},i.scratchWidth.set=function(t){this.uniforms.scratchWidth=t},i.scratchWidth.get=function(){return this.uniforms.scratchWidth},i.vignetting.set=function(t){this.uniforms.vignetting=t},i.vignetting.get=function(){return this.uniforms.vignetting},i.vignettingAlpha.set=function(t){this.uniforms.vignettingAlpha=t},i.vignettingAlpha.get=function(){return this.uniforms.vignettingAlpha},i.vignettingBlur.set=function(t){this.uniforms.vignettingBlur=t},i.vignettingBlur.get=function(){return this.uniforms.vignettingBlur},Object.defineProperties(e.prototype,i),e}(e.Filter),mt=i,gt="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 thickness;\nuniform vec4 outlineColor;\nuniform vec4 filterClamp;\n\nconst float DOUBLE_PI = 3.14159265358979323846264 * 2.;\n\nvoid main(void) {\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    vec2 displaced;\n    for (float angle = 0.; angle <= DOUBLE_PI; angle += ${angleStep}) {\n        displaced.x = vTextureCoord.x + thickness.x * cos(angle);\n        displaced.y = vTextureCoord.y + thickness.y * sin(angle);\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n",yt=function(t){function i(e,n,r){void 0===e&&(e=1),void 0===n&&(n=0),void 0===r&&(r=.1);var o=Math.max(r*i.MAX_SAMPLES,i.MIN_SAMPLES),s=(2*Math.PI/o).toFixed(7);t.call(this,mt,gt.replace(/\$\{angleStep\}/,s)),this.uniforms.thickness=new Float32Array([0,0]),this.thickness=e,this.uniforms.outlineColor=new Float32Array([0,0,0,1]),this.color=n,this.quality=r}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={color:{configurable:!0}};return i.prototype.apply=function(t,e,i,n){this.uniforms.thickness[0]=this.thickness/e.size.width,this.uniforms.thickness[1]=this.thickness/e.size.height,t.applyFilter(this,e,i,n)},n.color.get=function(){return e.utils.rgb2hex(this.uniforms.outlineColor)},n.color.set=function(t){e.utils.hex2rgb(t,this.uniforms.outlineColor)},Object.defineProperties(i.prototype,n),i}(e.Filter);yt.MIN_SAMPLES=1,yt.MAX_SAMPLES=100;var vt=i,wt="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 size;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n\treturn floor( coord / size ) * size;\n}\n\nvoid main(void)\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = pixelate(coord, size);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord);\n}\n",xt=function(t){function e(e){void 0===e&&(e=10),t.call(this,vt,wt),this.size=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return i.size.get=function(){return this.uniforms.size},i.size.set=function(t){"number"==typeof t&&(t=[t,t]),this.uniforms.size=t},Object.defineProperties(e.prototype,i),e}(e.Filter),Tt=i,St="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float uRadian;\nuniform vec2 uCenter;\nuniform float uRadius;\nuniform int uKernelSize;\n\nconst int MAX_KERNEL_SIZE = 2048;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    if (uKernelSize == 0)\n    {\n        gl_FragColor = color;\n        return;\n    }\n\n    float aspect = filterArea.y / filterArea.x;\n    vec2 center = uCenter.xy / filterArea.xy;\n    float gradient = uRadius / filterArea.x * 0.3;\n    float radius = uRadius / filterArea.x - gradient * 0.5;\n    int k = uKernelSize - 1;\n\n    vec2 coord = vTextureCoord;\n    vec2 dir = vec2(center - coord);\n    float dist = length(vec2(dir.x, dir.y * aspect));\n\n    float radianStep = uRadian;\n    if (radius >= 0.0 && dist > radius) {\n        float delta = dist - radius;\n        float gap = gradient;\n        float scale = 1.0 - abs(delta / gap);\n        if (scale <= 0.0) {\n            gl_FragColor = color;\n            return;\n        }\n        radianStep *= scale;\n    }\n    radianStep /= float(k);\n\n    float s = sin(radianStep);\n    float c = cos(radianStep);\n    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));\n\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\n        if (i == k) {\n            break;\n        }\n\n        coord -= center;\n        coord.y *= aspect;\n        coord = rotationMatrix * coord;\n        coord.y /= aspect;\n        coord += center;\n\n        vec4 sample = texture2D(uSampler, coord);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample;\n    }\n\n    gl_FragColor = color / float(uKernelSize);\n}\n",At=function(t){function e(e,i,n,r){void 0===e&&(e=0),void 0===i&&(i=[0,0]),void 0===n&&(n=5),void 0===r&&(r=-1),t.call(this,Tt,St),this._angle=0,this.angle=e,this.center=i,this.kernelSize=n,this.radius=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={angle:{configurable:!0},center:{configurable:!0},radius:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){this.uniforms.uKernelSize=0!==this._angle?this.kernelSize:0,t.applyFilter(this,e,i,n)},i.angle.set=function(t){this._angle=t,this.uniforms.uRadian=t*Math.PI/180},i.angle.get=function(){return this._angle},i.center.get=function(){return this.uniforms.uCenter},i.center.set=function(t){this.uniforms.uCenter=t},i.radius.get=function(){return this.uniforms.uRadius},i.radius.set=function(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t},Object.defineProperties(e.prototype,i),e}(e.Filter),Ct=i,Et="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nuniform bool mirror;\nuniform float boundary;\nuniform vec2 amplitude;\nuniform vec2 waveLength;\nuniform vec2 alpha;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 coord = pixelCoord / dimensions;\n\n    if (coord.y < boundary) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    float k = (coord.y - boundary) / (1. - boundary + 0.0001);\n    float areaY = boundary * dimensions.y / filterArea.y;\n    float v = areaY + areaY - vTextureCoord.y;\n    float y = mirror ? v : vTextureCoord.y;\n\n    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;\n    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;\n    float _alpha = (alpha.y - alpha.x) * k + alpha.x;\n\n    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;\n    x = clamp(x, filterClamp.x, filterClamp.z);\n\n    vec4 color = texture2D(uSampler, vec2(x, y));\n\n    gl_FragColor = color * _alpha;\n}\n",Pt=function(t){function e(e){t.call(this,Ct,Et),this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,{mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={mirror:{configurable:!0},boundary:{configurable:!0},amplitude:{configurable:!0},waveLength:{configurable:!0},alpha:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){this.uniforms.dimensions[0]=e.sourceFrame.width,this.uniforms.dimensions[1]=e.sourceFrame.height,this.uniforms.time=this.time,t.applyFilter(this,e,i,n)},i.mirror.set=function(t){this.uniforms.mirror=t},i.mirror.get=function(){return this.uniforms.mirror},i.boundary.set=function(t){this.uniforms.boundary=t},i.boundary.get=function(){return this.uniforms.boundary},i.amplitude.set=function(t){this.uniforms.amplitude[0]=t[0],this.uniforms.amplitude[1]=t[1]},i.amplitude.get=function(){return this.uniforms.amplitude},i.waveLength.set=function(t){this.uniforms.waveLength[0]=t[0],this.uniforms.waveLength[1]=t[1]},i.waveLength.get=function(){return this.uniforms.waveLength},i.alpha.set=function(t){this.uniforms.alpha[0]=t[0],this.uniforms.alpha[1]=t[1]},i.alpha.get=function(){return this.uniforms.alpha},Object.defineProperties(e.prototype,i),e}(e.Filter),Dt=i,Mt="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",Rt=function(t){function e(e,i,n){void 0===e&&(e=[-10,0]),void 0===i&&(i=[0,10]),void 0===n&&(n=[0,0]),t.call(this,Dt,Mt),this.red=e,this.green=i,this.blue=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0}};return i.red.get=function(){return this.uniforms.red},i.red.set=function(t){this.uniforms.red=t},i.green.get=function(){return this.uniforms.green},i.green.set=function(t){this.uniforms.green=t},i.blue.get=function(){return this.uniforms.blue},i.blue.set=function(t){this.uniforms.blue=t},Object.defineProperties(e.prototype,i),e}(e.Filter),It=i,Ot="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nuniform vec2 center;\n\nuniform float amplitude;\nuniform float wavelength;\n// uniform float power;\nuniform float brightness;\nuniform float speed;\nuniform float radius;\n\nuniform float time;\n\nconst float PI = 3.14159;\n\nvoid main()\n{\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\n    float maxRadius = radius / filterArea.x;\n    float currentRadius = time * speed / filterArea.x;\n\n    float fade = 1.0;\n\n    if (maxRadius > 0.0) {\n        if (currentRadius > maxRadius) {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\n    }\n\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\n    dir.y *= filterArea.y / filterArea.x;\n    float dist = length(dir);\n\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    vec2 diffUV = normalize(dir);\n\n    float diff = (dist - currentRadius) / halfWavelength;\n\n    float p = 1.0 - pow(abs(diff), 2.0);\n\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\n\n    vec2 offset = diffUV * powDiff / filterArea.xy;\n\n    // Do clamp :\n    vec2 coord = vTextureCoord + offset;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    // No clamp :\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\n\n    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;\n\n    gl_FragColor = color;\n}\n",kt=function(t){function e(e,i,n){void 0===e&&(e=[0,0]),void 0===i&&(i={}),void 0===n&&(n=0),t.call(this,It,Ot),this.center=e,Array.isArray(i)&&(console.warn("Deprecated Warning: ShockwaveFilter params Array has been changed to options Object."),i={}),i=Object.assign({amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},i),this.amplitude=i.amplitude,this.wavelength=i.wavelength,this.brightness=i.brightness,this.speed=i.speed,this.radius=i.radius,this.time=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={center:{configurable:!0},amplitude:{configurable:!0},wavelength:{configurable:!0},brightness:{configurable:!0},speed:{configurable:!0},radius:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){this.uniforms.time=this.time,t.applyFilter(this,e,i,n)},i.center.get=function(){return this.uniforms.center},i.center.set=function(t){this.uniforms.center=t},i.amplitude.get=function(){return this.uniforms.amplitude},i.amplitude.set=function(t){this.uniforms.amplitude=t},i.wavelength.get=function(){return this.uniforms.wavelength},i.wavelength.set=function(t){this.uniforms.wavelength=t},i.brightness.get=function(){return this.uniforms.brightness},i.brightness.set=function(t){this.uniforms.brightness=t},i.speed.get=function(){return this.uniforms.speed},i.speed.set=function(t){this.uniforms.speed=t},i.radius.get=function(){return this.uniforms.radius},i.radius.set=function(t){this.uniforms.radius=t},Object.defineProperties(e.prototype,i),e}(e.Filter),Lt=i,jt="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D uLightmap;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\nuniform vec4 ambientColor;\nvoid main() {\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\n    vec4 light = texture2D(uLightmap, lightCoord);\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\n    vec3 intensity = ambient + light.rgb;\n    vec3 finalColor = diffuseColor.rgb * intensity;\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\n}\n",Bt=function(t){function i(e,i,n){void 0===i&&(i=0),void 0===n&&(n=1),t.call(this,Lt,jt),this.uniforms.dimensions=new Float32Array(2),this.uniforms.ambientColor=new Float32Array([0,0,0,n]),this.texture=e,this.color=i}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={texture:{configurable:!0},color:{configurable:!0},alpha:{configurable:!0}};return i.prototype.apply=function(t,e,i,n){this.uniforms.dimensions[0]=e.sourceFrame.width,this.uniforms.dimensions[1]=e.sourceFrame.height,t.applyFilter(this,e,i,n)},n.texture.get=function(){return this.uniforms.uLightmap},n.texture.set=function(t){this.uniforms.uLightmap=t},n.color.set=function(t){var i=this.uniforms.ambientColor;"number"==typeof t?(e.utils.hex2rgb(t,i),this._color=t):(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],this._color=e.utils.rgb2hex(i))},n.color.get=function(){return this._color},n.alpha.get=function(){return this.uniforms.ambientColor[3]},n.alpha.set=function(t){this.uniforms.ambientColor[3]=t},Object.defineProperties(i.prototype,n),i}(e.Filter),Ft=i,Jt="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    color /= total;\n    color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n",Gt=function(t){function i(i,n,r,o){void 0===i&&(i=100),void 0===n&&(n=600),void 0===r&&(r=null),void 0===o&&(o=null),t.call(this,Ft,Jt),this.uniforms.blur=i,this.uniforms.gradientBlur=n,this.uniforms.start=r||new e.Point(0,window.innerHeight/2),this.uniforms.end=o||new e.Point(600,window.innerHeight/2),this.uniforms.delta=new e.Point(30,30),this.uniforms.texSize=new e.Point(window.innerWidth,window.innerHeight),this.updateDelta()}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var n={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return i.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},n.blur.get=function(){return this.uniforms.blur},n.blur.set=function(t){this.uniforms.blur=t},n.gradientBlur.get=function(){return this.uniforms.gradientBlur},n.gradientBlur.set=function(t){this.uniforms.gradientBlur=t},n.start.get=function(){return this.uniforms.start},n.start.set=function(t){this.uniforms.start=t,this.updateDelta()},n.end.get=function(){return this.uniforms.end},n.end.set=function(t){this.uniforms.end=t,this.updateDelta()},Object.defineProperties(i.prototype,n),i}(e.Filter),Nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateDelta=function(){var t=this.uniforms.end.x-this.uniforms.start.x,e=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(t*t+e*e);this.uniforms.delta.x=t/i,this.uniforms.delta.y=e/i},e}(Gt),Ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateDelta=function(){var t=this.uniforms.end.x-this.uniforms.start.x,e=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(t*t+e*e);this.uniforms.delta.x=-e/i,this.uniforms.delta.y=t/i},e}(Gt),Wt=function(t){function e(e,i,n,r){void 0===e&&(e=100),void 0===i&&(i=600),void 0===n&&(n=null),void 0===r&&(r=null),t.call(this),this.tiltShiftXFilter=new Nt(e,i,n,r),this.tiltShiftYFilter=new Ut(e,i,n,r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return e.prototype.apply=function(t,e,i){var n=t.getRenderTarget(!0);this.tiltShiftXFilter.apply(t,e,n),this.tiltShiftYFilter.apply(t,n,i),t.returnRenderTarget(n)},i.blur.get=function(){return this.tiltShiftXFilter.blur},i.blur.set=function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t},i.gradientBlur.get=function(){return this.tiltShiftXFilter.gradientBlur},i.gradientBlur.set=function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t},i.start.get=function(){return this.tiltShiftXFilter.start},i.start.set=function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t},i.end.get=function(){return this.tiltShiftXFilter.end},i.end.set=function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t},Object.defineProperties(e.prototype,i),e}(e.Filter),Vt=i,Xt="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n",zt=function(t){function e(e,i,n){void 0===e&&(e=200),void 0===i&&(i=4),void 0===n&&(n=20),t.call(this,Vt,Xt),this.radius=e,this.angle=i,this.padding=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={offset:{configurable:!0},radius:{configurable:!0},angle:{configurable:!0}};return i.offset.get=function(){return this.uniforms.offset},i.offset.set=function(t){this.uniforms.offset=t},i.radius.get=function(){return this.uniforms.radius},i.radius.set=function(t){this.uniforms.radius=t},i.angle.get=function(){return this.uniforms.angle},i.angle.set=function(t){this.uniforms.angle=t},Object.defineProperties(e.prototype,i),e}(e.Filter),qt=i,Ht="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uCenter;\nuniform float uStrength;\nuniform float uInnerRadius;\nuniform float uRadius;\n\nconst float MAX_KERNEL_SIZE = 32.0;\n\n// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand(vec2 co, float seed) {\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);\n    return fract(sin(sn) * c + seed);\n}\n\nvoid main() {\n\n    float minGradient = uInnerRadius * 0.3;\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\n\n    float gradient = uRadius * 0.3;\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\n\n    float countLimit = MAX_KERNEL_SIZE;\n\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\n\n    float strength = uStrength;\n\n    float delta = 0.0;\n    float gap;\n    if (dist < innerRadius) {\n        delta = innerRadius - dist;\n        gap = minGradient;\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\n        delta = dist - radius;\n        gap = gradient;\n    }\n\n    if (delta > 0.0) {\n        float normalCount = gap / filterArea.x;\n        delta = (normalCount - delta) / normalCount;\n        countLimit *= delta;\n        strength *= delta;\n        if (countLimit < 1.0)\n        {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n    }\n\n    // randomize the lookup values to hide the fixed number of samples\n    float offset = rand(vTextureCoord, 0.0);\n\n    float total = 0.0;\n    vec4 color = vec4(0.0);\n\n    dir *= strength;\n\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\n        float weight = 4.0 * (percent - percent * percent);\n        vec2 p = vTextureCoord + dir * percent;\n        vec4 sample = texture2D(uSampler, p);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n\n        if (t > countLimit){\n            break;\n        }\n    }\n\n    color /= total;\n    // switch back from pre-multiplied alpha\n    // color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n",Yt=function(t){function e(e,i,n,r){void 0===e&&(e=.1),void 0===i&&(i=[0,0]),void 0===n&&(n=0),void 0===r&&(r=-1),t.call(this,qt,Ht),this.center=i,this.strength=e,this.innerRadius=n,this.radius=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={center:{configurable:!0},strength:{configurable:!0},innerRadius:{configurable:!0},radius:{configurable:!0}};return i.center.get=function(){return this.uniforms.uCenter},i.center.set=function(t){this.uniforms.uCenter=t},i.strength.get=function(){return this.uniforms.uStrength},i.strength.set=function(t){this.uniforms.uStrength=t},i.innerRadius.get=function(){return this.uniforms.uInnerRadius},i.innerRadius.set=function(t){this.uniforms.uInnerRadius=t},i.radius.get=function(){return this.uniforms.uRadius},i.radius.set=function(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t},Object.defineProperties(e.prototype,i),e}(e.Filter);return t.AdjustmentFilter=r,t.AdvancedBloomFilter=p,t.AsciiFilter=b,t.BevelFilter=y,t.BloomFilter=S,t.BulgePinchFilter=E,t.ColorMapFilter=M,t.ColorReplaceFilter=O,t.ConvolutionFilter=j,t.CrossHatchFilter=J,t.CRTFilter=U,t.DotFilter=X,t.DropShadowFilter=H,t.EmbossFilter=Q,t.GlitchFilter=tt,t.GlowFilter=nt,t.GodrayFilter=at,t.KawaseBlurFilter=c,t.MotionBlurFilter=lt,t.MultiColorReplaceFilter=pt,t.OldFilmFilter=bt,t.OutlineFilter=yt,t.PixelateFilter=xt,t.RadialBlurFilter=At,t.ReflectionFilter=Pt,t.RGBSplitFilter=Rt,t.ShockwaveFilter=kt,t.SimpleLightmapFilter=Bt,t.TiltShiftFilter=Wt,t.TiltShiftAxisFilter=Gt,t.TiltShiftXFilter=Nt,t.TiltShiftYFilter=Ut,t.TwistFilter=zt,t.ZoomBlurFilter=Yt,t}({},PIXI);Object.assign(PIXI.filters,this?this.__filters:__filters);var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pixi_spine;!function(t){!function(t){var e,i=function(){function t(t,e,i){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=i}return t.prototype.apply=function(t,e,i,n,r,o,s,a){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));for(var c=this.timelines,u=0,l=c.length;u<l;u++)c[u].apply(t,e,i,r,o,s,a)},t.binarySearch=function(t,e,i){void 0===i&&(i=1);var n=0,r=t.length/i-2;if(0==r)return i;for(var o=r>>>1;;){if(t[(o+1)*i]<=e?n=o+1:r=o,n==r)return(n+1)*i;o=n+r>>>1}},t.linearSearch=function(t,e,i){for(var n=0,r=t.length-i;n<=r;n+=i)if(t[n]>e)return n;return-1},t}();t.Animation=i,function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix"}(e=t.TimelineType||(t.TimelineType={}));var n=function(){function e(i){if(i<=0)throw new Error("frameCount must be > 0: "+i);this.curves=t.Utils.newFloatArray((i-1)*e.BEZIER_SIZE)}return e.prototype.getFrameCount=function(){return this.curves.length/e.BEZIER_SIZE+1},e.prototype.setLinear=function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR},e.prototype.setStepped=function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED},e.prototype.getCurveType=function(t){var i=t*e.BEZIER_SIZE;if(i==this.curves.length)return e.LINEAR;var n=this.curves[i];return n==e.LINEAR?e.LINEAR:n==e.STEPPED?e.STEPPED:e.BEZIER},e.prototype.setCurve=function(t,i,n,r,o){var s=.03*(2*-i+r),a=.03*(2*-n+o),c=.006*(3*(i-r)+1),u=.006*(3*(n-o)+1),l=2*s+c,h=2*a+u,_=.3*i+s+.16666667*c,p=.3*n+a+.16666667*u,d=t*e.BEZIER_SIZE,f=this.curves;f[d++]=e.BEZIER;for(var b=_,m=p,g=d+e.BEZIER_SIZE-1;d<g;d+=2)f[d]=b,f[d+1]=m,_+=l,p+=h,l+=c,h+=u,b+=_,m+=p},e.prototype.getCurvePercent=function(i,n){n=t.MathUtils.clamp(n,0,1);var r=this.curves,o=i*e.BEZIER_SIZE,s=r[o];if(s==e.LINEAR)return n;if(s==e.STEPPED)return 0;for(var a=0,c=++o,u=o+e.BEZIER_SIZE-1;o<u;o+=2)if((a=r[o])>=n){var l=void 0,h=void 0;return o==c?(l=0,h=0):(l=r[o-2],h=r[o-1]),h+(r[o+1]-h)*(n-l)/(a-l)}var _=r[o-1];return _+(1-_)*(n-a)/(1-a)},e}();n.LINEAR=0,n.STEPPED=1,n.BEZIER=2,n.BEZIER_SIZE=19,t.CurveTimeline=n;var r=function(n){function r(e){var i=n.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e<<1),i}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.rotate<<24)+this.boneIndex},r.prototype.setFrame=function(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+r.ROTATION]=i},r.prototype.apply=function(t,e,n,o,s,a,c){var u=this.frames,l=t.bones[this.boneIndex];if(n<u[0])a&&(l.rotation=l.data.rotation);else if(n>=u[u.length-r.ENTRIES])if(a)l.rotation=l.data.rotation+u[u.length+r.PREV_ROTATION]*s;else{var h=l.data.rotation+u[u.length+r.PREV_ROTATION]-l.rotation;h-=360*(16384-(16384.499999999996-h/360|0)),l.rotation+=h*s}else{var _=i.binarySearch(u,n,r.ENTRIES),p=u[_+r.PREV_ROTATION],d=u[_],f=this.getCurvePercent((_>>1)-1,1-(n-d)/(u[_+r.PREV_TIME]-d)),b=u[_+r.ROTATION]-p;b=p+(b-=360*(16384-(16384.499999999996-b/360|0)))*f,a?(b-=360*(16384-(16384.499999999996-b/360|0)),l.rotation=l.data.rotation+b*s):(b=l.data.rotation+b-l.rotation,b-=360*(16384-(16384.499999999996-b/360|0)),l.rotation+=b*s)}},r}(n);r.ENTRIES=2,r.PREV_TIME=-2,r.PREV_ROTATION=-1,r.ROTATION=1,t.RotateTimeline=r;var o=function(n){function r(e){var i=n.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e*r.ENTRIES),i}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.translate<<24)+this.boneIndex},r.prototype.setFrame=function(t,e,i,n){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.X]=i,this.frames[t+r.Y]=n},r.prototype.apply=function(t,e,n,o,s,a,c){var u=this.frames,l=t.bones[this.boneIndex];if(n<u[0])a&&(l.x=l.data.x,l.y=l.data.y);else{var h=0,_=0;if(n>=u[u.length-r.ENTRIES])h=u[u.length+r.PREV_X],_=u[u.length+r.PREV_Y];else{var p=i.binarySearch(u,n,r.ENTRIES);h=u[p+r.PREV_X],_=u[p+r.PREV_Y];var d=u[p],f=this.getCurvePercent(p/r.ENTRIES-1,1-(n-d)/(u[p+r.PREV_TIME]-d));h+=(u[p+r.X]-h)*f,_+=(u[p+r.Y]-_)*f}a?(l.x=l.data.x+h*s,l.y=l.data.y+_*s):(l.x+=(l.data.x+h-l.x)*s,l.y+=(l.data.y+_-l.y)*s)}},r}(n);o.ENTRIES=3,o.PREV_TIME=-3,o.PREV_X=-2,o.PREV_Y=-1,o.X=1,o.Y=2,t.TranslateTimeline=o;var s=function(n){function r(t){return n.call(this,t)||this}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.scale<<24)+this.boneIndex},r.prototype.apply=function(e,n,o,s,a,c,u){var l=this.frames,h=e.bones[this.boneIndex];if(o<l[0])c&&(h.scaleX=h.data.scaleX,h.scaleY=h.data.scaleY);else{var _=0,p=0;if(o>=l[l.length-r.ENTRIES])_=l[l.length+r.PREV_X]*h.data.scaleX,p=l[l.length+r.PREV_Y]*h.data.scaleY;else{var d=i.binarySearch(l,o,r.ENTRIES);_=l[d+r.PREV_X],p=l[d+r.PREV_Y];var f=l[d],b=this.getCurvePercent(d/r.ENTRIES-1,1-(o-f)/(l[d+r.PREV_TIME]-f));_=(_+(l[d+r.X]-_)*b)*h.data.scaleX,p=(p+(l[d+r.Y]-p)*b)*h.data.scaleY}if(1==a)h.scaleX=_,h.scaleY=p;else{var m=0,g=0;c?(m=h.data.scaleX,g=h.data.scaleY):(m=h.scaleX,g=h.scaleY),u?(_=Math.abs(_)*t.MathUtils.signum(m),p=Math.abs(p)*t.MathUtils.signum(g)):(m=Math.abs(m)*t.MathUtils.signum(_),g=Math.abs(g)*t.MathUtils.signum(p)),h.scaleX=m+(_-m)*a,h.scaleY=g+(p-g)*a}}},r}(o);t.ScaleTimeline=s;var a=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.getPropertyId=function(){return(e.shear<<24)+this.boneIndex},n.prototype.apply=function(t,e,r,o,s,a,c){var u=this.frames,l=t.bones[this.boneIndex];if(r<u[0])a&&(l.shearX=l.data.shearX,l.shearY=l.data.shearY);else{var h=0,_=0;if(r>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_X],_=u[u.length+n.PREV_Y];else{var p=i.binarySearch(u,r,n.ENTRIES);h=u[p+n.PREV_X],_=u[p+n.PREV_Y];var d=u[p],f=this.getCurvePercent(p/n.ENTRIES-1,1-(r-d)/(u[p+n.PREV_TIME]-d));h+=(u[p+n.X]-h)*f,_+=(u[p+n.Y]-_)*f}a?(l.shearX=l.data.shearX+h*s,l.shearY=l.data.shearY+_*s):(l.shearX+=(l.data.shearX+h-l.shearX)*s,l.shearY+=(l.data.shearY+_-l.shearY)*s)}},n}(o);t.ShearTimeline=a;var c=function(n){function r(e){var i=n.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e*r.ENTRIES),i}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.color<<24)+this.slotIndex},r.prototype.setFrame=function(t,e,i,n,o,s){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.R]=i,this.frames[t+r.G]=n,this.frames[t+r.B]=o,this.frames[t+r.A]=s},r.prototype.apply=function(t,e,n,o,s,a,c){var u=t.slots[this.slotIndex],l=this.frames;if(n<l[0])a&&u.color.setFromColor(u.data.color);else{var h=0,_=0,p=0,d=0;if(n>=l[l.length-r.ENTRIES]){var f=l.length;h=l[f+r.PREV_R],_=l[f+r.PREV_G],p=l[f+r.PREV_B],d=l[f+r.PREV_A]}else{var b=i.binarySearch(l,n,r.ENTRIES);h=l[b+r.PREV_R],_=l[b+r.PREV_G],p=l[b+r.PREV_B],d=l[b+r.PREV_A];var m=l[b],g=this.getCurvePercent(b/r.ENTRIES-1,1-(n-m)/(l[b+r.PREV_TIME]-m));h+=(l[b+r.R]-h)*g,_+=(l[b+r.G]-_)*g,p+=(l[b+r.B]-p)*g,d+=(l[b+r.A]-d)*g}if(1==s)u.color.set(h,_,p,d);else{var y=u.color;a&&y.setFromColor(u.data.color),y.add((h-y.r)*s,(_-y.g)*s,(p-y.b)*s,(d-y.a)*s)}}},r}(n);c.ENTRIES=5,c.PREV_TIME=-5,c.PREV_R=-4,c.PREV_G=-3,c.PREV_B=-2,c.PREV_A=-1,c.R=1,c.G=2,c.B=3,c.A=4,t.ColorTimeline=c;var u=function(){function n(e){this.frames=t.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return n.prototype.getPropertyId=function(){return(e.attachment<<24)+this.slotIndex},n.prototype.getFrameCount=function(){return this.frames.length},n.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i},n.prototype.apply=function(t,e,n,r,o,s,a){var c=t.slots[this.slotIndex];if(a&&s){var u=c.data.attachmentName;c.setAttachment(null==u?null:t.getAttachment(this.slotIndex,u))}else{var l=this.frames;if(n<l[0]){if(s){var h=c.data.attachmentName;c.setAttachment(null==h?null:t.getAttachment(this.slotIndex,h))}}else{var _=0;_=n>=l[l.length-1]?l.length-1:i.binarySearch(l,n,1)-1;var p=this.attachmentNames[_];t.slots[this.slotIndex].setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}}},n}();t.AttachmentTimeline=u;var l=function(n){function r(e){var i=n.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e),i.frameVertices=new Array(e),i}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.deform<<24)+this.slotIndex},r.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.frameVertices[t]=i},r.prototype.apply=function(e,n,r,o,s,a,c){var u=e.slots[this.slotIndex],l=u.getAttachment();if(l instanceof t.VertexAttachment&&l.applyDeform(this.attachment)){var h=this.frames,_=u.attachmentVertices;if(r<h[0])a&&t.Utils.setArraySize(_,0);else{var p=this.frameVertices,d=p[0].length;_.length!=d&&(s=1);var f=t.Utils.setArraySize(_,d);if(r>=h[h.length-1]){var b=p[h.length-1];if(1==s)t.Utils.arrayCopy(b,0,f,0,d);else if(a){if(null==(C=l).bones)for(var m=C.vertices,g=0;g<d;g++){var y=m[g];f[g]=y+(b[g]-y)*s}else for(g=0;g<d;g++)f[g]=b[g]*s}else for(g=0;g<d;g++)f[g]+=(b[g]-f[g])*s}else{var v=i.binarySearch(h,r),w=p[v-1],x=p[v],T=h[v],S=this.getCurvePercent(v-1,1-(r-T)/(h[v-1]-T));if(1==s)for(g=0;g<d;g++){var A=w[g];f[g]=A+(x[g]-A)*S}else if(a){var C;if(null==(C=l).bones)for(m=C.vertices,g=0;g<d;g++){A=w[g],y=m[g];f[g]=y+(A+(x[g]-A)*S-y)*s}else for(g=0;g<d;g++){A=w[g];f[g]=(A+(x[g]-A)*S)*s}}else for(g=0;g<d;g++){A=w[g];f[g]+=(A+(x[g]-A)*S-f[g])*s}}}}},r}(n);t.DeformTimeline=l;var h=function(){function n(e){this.frames=t.Utils.newFloatArray(e),this.events=new Array(e)}return n.prototype.getPropertyId=function(){return e.event<<24},n.prototype.getFrameCount=function(){return this.frames.length},n.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},n.prototype.apply=function(t,e,n,r,o,s,a){if(null!=r){var c=this.frames,u=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,r,o,s,a),e=-1;else if(e>=c[u-1])return;if(!(n<c[0])){var l=0;if(e<c[0])l=0;else for(var h=c[l=i.binarySearch(c,e)];l>0&&c[l-1]==h;)l--;for(;l<u&&n>=c[l];l++)r.push(this.events[l])}}},n}();t.EventTimeline=h;var _=function(){function n(e){this.frames=t.Utils.newFloatArray(e),this.drawOrders=new Array(e)}return n.prototype.getPropertyId=function(){return e.drawOrder<<24},n.prototype.getFrameCount=function(){return this.frames.length},n.prototype.setFrame=function(t,e,i){this.frames[t]=e,this.drawOrders[t]=i},n.prototype.apply=function(e,n,r,o,s,a,c){var u=e.drawOrder,l=e.slots;if(c&&a)t.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var h=this.frames;if(r<h[0])a&&t.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var _=0;_=r>=h[h.length-1]?h.length-1:i.binarySearch(h,r)-1;var p=this.drawOrders[_];if(null==p)t.Utils.arrayCopy(l,0,u,0,l.length);else for(var d=0,f=p.length;d<f;d++)u[d]=l[p[d]]}}},n}();t.DrawOrderTimeline=_;var p=function(n){function r(e){var i=n.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e*r.ENTRIES),i}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.ikConstraint<<24)+this.ikConstraintIndex},r.prototype.setFrame=function(t,e,i,n){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.MIX]=i,this.frames[t+r.BEND_DIRECTION]=n},r.prototype.apply=function(t,e,n,o,s,a,c){var u=this.frames,l=t.ikConstraints[this.ikConstraintIndex];if(n<u[0])a&&(l.mix=l.data.mix,l.bendDirection=l.data.bendDirection);else if(n>=u[u.length-r.ENTRIES])a?(l.mix=l.data.mix+(u[u.length+r.PREV_MIX]-l.data.mix)*s,l.bendDirection=c?l.data.bendDirection:u[u.length+r.PREV_BEND_DIRECTION]):(l.mix+=(u[u.length+r.PREV_MIX]-l.mix)*s,c||(l.bendDirection=u[u.length+r.PREV_BEND_DIRECTION]));else{var h=i.binarySearch(u,n,r.ENTRIES),_=u[h+r.PREV_MIX],p=u[h],d=this.getCurvePercent(h/r.ENTRIES-1,1-(n-p)/(u[h+r.PREV_TIME]-p));a?(l.mix=l.data.mix+(_+(u[h+r.MIX]-_)*d-l.data.mix)*s,l.bendDirection=c?l.data.bendDirection:u[h+r.PREV_BEND_DIRECTION]):(l.mix+=(_+(u[h+r.MIX]-_)*d-l.mix)*s,c||(l.bendDirection=u[h+r.PREV_BEND_DIRECTION]))}},r}(n);p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_MIX=-2,p.PREV_BEND_DIRECTION=-1,p.MIX=1,p.BEND_DIRECTION=2,t.IkConstraintTimeline=p;var d=function(n){function r(e){var i=n.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e*r.ENTRIES),i}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.transformConstraint<<24)+this.transformConstraintIndex},r.prototype.setFrame=function(t,e,i,n,o,s){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.ROTATE]=i,this.frames[t+r.TRANSLATE]=n,this.frames[t+r.SCALE]=o,this.frames[t+r.SHEAR]=s},r.prototype.apply=function(t,e,n,o,s,a,c){var u=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(n<u[0]){if(a){var h=l.data;l.rotateMix=h.rotateMix,l.translateMix=h.rotateMix,l.scaleMix=h.scaleMix,l.shearMix=h.shearMix}}else{var _=0,p=0,d=0,f=0;if(n>=u[u.length-r.ENTRIES]){var b=u.length;_=u[b+r.PREV_ROTATE],p=u[b+r.PREV_TRANSLATE],d=u[b+r.PREV_SCALE],f=u[b+r.PREV_SHEAR]}else{var m=i.binarySearch(u,n,r.ENTRIES);_=u[m+r.PREV_ROTATE],p=u[m+r.PREV_TRANSLATE],d=u[m+r.PREV_SCALE],f=u[m+r.PREV_SHEAR];var g=u[m],y=this.getCurvePercent(m/r.ENTRIES-1,1-(n-g)/(u[m+r.PREV_TIME]-g));_+=(u[m+r.ROTATE]-_)*y,p+=(u[m+r.TRANSLATE]-p)*y,d+=(u[m+r.SCALE]-d)*y,f+=(u[m+r.SHEAR]-f)*y}if(a){h=l.data;l.rotateMix=h.rotateMix+(_-h.rotateMix)*s,l.translateMix=h.translateMix+(p-h.translateMix)*s,l.scaleMix=h.scaleMix+(d-h.scaleMix)*s,l.shearMix=h.shearMix+(f-h.shearMix)*s}else l.rotateMix+=(_-l.rotateMix)*s,l.translateMix+=(p-l.translateMix)*s,l.scaleMix+=(d-l.scaleMix)*s,l.shearMix+=(f-l.shearMix)*s}},r}(n);d.ENTRIES=5,d.PREV_TIME=-5,d.PREV_ROTATE=-4,d.PREV_TRANSLATE=-3,d.PREV_SCALE=-2,d.PREV_SHEAR=-1,d.ROTATE=1,d.TRANSLATE=2,d.SCALE=3,d.SHEAR=4,t.TransformConstraintTimeline=d;var f=function(n){function r(e){var i=n.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e*r.ENTRIES),i}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.pathConstraintPosition<<24)+this.pathConstraintIndex},r.prototype.setFrame=function(t,e,i){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.VALUE]=i},r.prototype.apply=function(t,e,n,o,s,a,c){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(n<u[0])a&&(l.position=l.data.position);else{var h=0;if(n>=u[u.length-r.ENTRIES])h=u[u.length+r.PREV_VALUE];else{var _=i.binarySearch(u,n,r.ENTRIES);h=u[_+r.PREV_VALUE];var p=u[_],d=this.getCurvePercent(_/r.ENTRIES-1,1-(n-p)/(u[_+r.PREV_TIME]-p));h+=(u[_+r.VALUE]-h)*d}a?l.position=l.data.position+(h-l.data.position)*s:l.position+=(h-l.position)*s}},r}(n);f.ENTRIES=2,f.PREV_TIME=-2,f.PREV_VALUE=-1,f.VALUE=1,t.PathConstraintPositionTimeline=f;var b=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.getPropertyId=function(){return(e.pathConstraintSpacing<<24)+this.pathConstraintIndex},n.prototype.apply=function(t,e,r,o,s,a,c){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(r<u[0])a&&(l.spacing=l.data.spacing);else{var h=0;if(r>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_VALUE];else{var _=i.binarySearch(u,r,n.ENTRIES);h=u[_+n.PREV_VALUE];var p=u[_],d=this.getCurvePercent(_/n.ENTRIES-1,1-(r-p)/(u[_+n.PREV_TIME]-p));h+=(u[_+n.VALUE]-h)*d}a?l.spacing=l.data.spacing+(h-l.data.spacing)*s:l.spacing+=(h-l.spacing)*s}},n}(f);t.PathConstraintSpacingTimeline=b;var m=function(n){function r(e){var i=n.call(this,e)||this;return i.frames=t.Utils.newFloatArray(e*r.ENTRIES),i}return __extends(r,n),r.prototype.getPropertyId=function(){return(e.pathConstraintMix<<24)+this.pathConstraintIndex},r.prototype.setFrame=function(t,e,i,n){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.ROTATE]=i,this.frames[t+r.TRANSLATE]=n},r.prototype.apply=function(t,e,n,o,s,a,c){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(n<u[0])a&&(l.rotateMix=l.data.rotateMix,l.translateMix=l.data.translateMix);else{var h=0,_=0;if(n>=u[u.length-r.ENTRIES])h=u[u.length+r.PREV_ROTATE],_=u[u.length+r.PREV_TRANSLATE];else{var p=i.binarySearch(u,n,r.ENTRIES);h=u[p+r.PREV_ROTATE],_=u[p+r.PREV_TRANSLATE];var d=u[p],f=this.getCurvePercent(p/r.ENTRIES-1,1-(n-d)/(u[p+r.PREV_TIME]-d));h+=(u[p+r.ROTATE]-h)*f,_+=(u[p+r.TRANSLATE]-_)*f}a?(l.rotateMix=l.data.rotateMix+(h-l.data.rotateMix)*s,l.translateMix=l.data.translateMix+(_-l.data.translateMix)*s):(l.rotateMix+=(h-l.rotateMix)*s,l.translateMix+=(_-l.translateMix)*s)}},r}(n);m.ENTRIES=3,m.PREV_TIME=-3,m.PREV_ROTATE=-2,m.PREV_TRANSLATE=-1,m.ROTATE=1,m.TRANSLATE=2,t.PathConstraintMixTimeline=m}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new r(this),this.propertyIDs=new t.IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new t.Pool(function(){return new i}),this.data=e}return e.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,i=0,n=e.length;i<n;i++){var r=e[i];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var o=t*r.timeScale;if(r.delay>0){if(r.delay-=o,r.delay>0)continue;o=-r.delay,r.delay=0}var s=r.next;if(null!=s){var a=r.trackLast-s.delay;if(a>=0){for(s.delay=0,s.trackTime=a+t*s.timeScale,r.trackTime+=o,this.setCurrent(i,s,!0);null!=s.mixingFrom;)s.mixTime+=o,s=s.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[i]=null,this.queue.end(r),this.disposeNext(r);continue}this.updateMixingFrom(r,t),r.trackTime+=o}}this.queue.drain()},e.prototype.updateMixingFrom=function(t,e){var i=t.mixingFrom;if(null!=i){if(this.updateMixingFrom(i,e),t.mixTime>=t.mixDuration&&null!=i.mixingFrom&&t.mixTime>0)return t.mixingFrom=null,void this.queue.end(i);i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,i.trackTime+=e*i.timeScale,t.mixTime+=e*i.timeScale}},e.prototype.apply=function(e){if(null==e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var i=this.events,n=this.tracks,r=0,o=n.length;r<o;r++){var s=n[r];if(!(null==s||s.delay>0)){var a=s.alpha;null!=s.mixingFrom?a*=this.applyMixingFrom(s,e):s.trackTime>=s.trackEnd&&(a=0);var c=s.animationLast,u=s.getAnimationTime(),l=s.animation.timelines.length,h=s.animation.timelines;if(1==a)for(var _=0;_<l;_++)h[_].apply(e,c,u,i,1,!0,!1);else{var p=0==s.timelinesRotation.length;p&&t.Utils.setArraySize(s.timelinesRotation,l<<1,null);var d=s.timelinesRotation,f=s.timelinesFirst;for(_=0;_<l;_++){var b=h[_];b instanceof t.RotateTimeline?this.applyRotateTimeline(b,e,u,a,f[_],d,_<<1,p):b.apply(e,c,u,i,a,f[_],!1)}}this.queueEvents(s,u),i.length=0,s.nextAnimationLast=u,s.nextTrackLast=s.trackTime}}this.queue.drain()},e.prototype.applyMixingFrom=function(e,i){var n=e.mixingFrom;null!=n.mixingFrom&&this.applyMixingFrom(n,i);var r=0;0==e.mixDuration?r=1:(r=e.mixTime/e.mixDuration)>1&&(r=1);var o=r<n.eventThreshold?this.events:null,s=r<n.attachmentThreshold,a=r<n.drawOrderThreshold,c=n.animationLast,u=n.getAnimationTime(),l=n.animation.timelines.length,h=n.animation.timelines,_=n.timelinesFirst,p=n.alpha*e.mixAlpha*(1-r),d=0==n.timelinesRotation.length;d&&t.Utils.setArraySize(n.timelinesRotation,l<<1,null);for(var f=n.timelinesRotation,b=0;b<l;b++){var m=h[b],g=_[b];if(m instanceof t.RotateTimeline)this.applyRotateTimeline(m,i,u,p,g,f,b<<1,d);else{if(!g){if(!s&&m instanceof t.AttachmentTimeline)continue;if(!a&&m instanceof t.DrawOrderTimeline)continue}m.apply(i,c,u,o,p,g,!0)}}return e.mixDuration>0&&this.queueEvents(n,u),this.events.length=0,n.nextAnimationLast=u,n.nextTrackLast=n.trackTime,r},e.prototype.applyRotateTimeline=function(e,i,n,r,o,s,a,c){if(c&&(s[a]=0),1!=r){var u=e,l=u.frames,h=i.bones[u.boneIndex];if(n<l[0])o&&(h.rotation=h.data.rotation);else{var _=0;if(n>=l[l.length-t.RotateTimeline.ENTRIES])_=h.data.rotation+l[l.length+t.RotateTimeline.PREV_ROTATION];else{var p=t.Animation.binarySearch(l,n,t.RotateTimeline.ENTRIES),d=l[p+t.RotateTimeline.PREV_ROTATION],f=l[p],b=u.getCurvePercent((p>>1)-1,1-(n-f)/(l[p+t.RotateTimeline.PREV_TIME]-f));_=l[p+t.RotateTimeline.ROTATION]-d,_=d+(_-=360*(16384-(16384.499999999996-_/360|0)))*b+h.data.rotation,_-=360*(16384-(16384.499999999996-_/360|0))}var m=o?h.data.rotation:h.rotation,g=0,y=_-m;if(0==y)g=s[a];else{y-=360*(16384-(16384.499999999996-y/360|0));var v=0,w=0;c?(v=0,w=y):(v=s[a],w=s[a+1]);var x=y>0,T=v>=0;t.MathUtils.signum(w)!=t.MathUtils.signum(y)&&Math.abs(w)<=90&&(Math.abs(v)>180&&(v+=360*t.MathUtils.signum(v)),T=x),g=y+v-v%360,T!=x&&(g+=360*t.MathUtils.signum(v)),s[a]=g}s[a+1]=y,m+=g*r,h.rotation=m-360*(16384-(16384.499999999996-m/360|0))}}else e.apply(i,0,n,null,1,o,!1)},e.prototype.queueEvents=function(t,e){for(var i=t.animationStart,n=t.animationEnd,r=n-i,o=t.trackLast%r,s=this.events,a=0,c=s.length;a<c;a++){var u=s[a];if(u.time<o)break;u.time>n||this.queue.event(t,u)}for((t.loop?o>t.trackTime%r:e>=n&&t.animationLast<n)&&this.queue.complete(t);a<c;a++){s[a].time<i||this.queue.event(t,s[a])}},e.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,i=this.tracks.length;e<i;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},e.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var i=e;;){var n=i.mixingFrom;if(null==n)break;this.queue.end(n),i.mixingFrom=null,i=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},e.prototype.setCurrent=function(t,e,i){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(i&&this.queue.interrupt(n),e.mixingFrom=n,e.mixTime=0,n.timelinesRotation.length=0,null!=n.mixingFrom&&n.mixDuration>0&&(e.mixAlpha*=Math.min(n.mixTime/n.mixDuration,1))),this.queue.start(e)},e.prototype.setAnimation=function(t,e,i){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,i)},e.prototype.setAnimationWith=function(t,e,i){if(null==e)throw new Error("animation cannot be null.");var n=!0,r=this.expandToIndex(t);null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,n=!1):this.disposeNext(r));var o=this.trackEntry(t,e,i,r);return this.setCurrent(t,o,n),this.queue.drain(),o},e.prototype.addAnimation=function(t,e,i,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,i,n)},e.prototype.addAnimationWith=function(t,e,i,n){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;var o=this.trackEntry(t,e,i,r);if(null==r)this.setCurrent(t,o,!0),this.queue.drain();else if(r.next=o,n<=0){var s=r.animationEnd-r.animationStart;0!=s?n+=s*(1+(r.trackTime/s|0))-this.data.getMix(r.animation,e):n=0}return o.delay=n,o},e.prototype.setEmptyAnimation=function(t,i){var n=this.setAnimationWith(t,e.emptyAnimation,!1);return n.mixDuration=i,n.trackEnd=i,n},e.prototype.addEmptyAnimation=function(t,i,n){n<=0&&(n-=i);var r=this.addAnimationWith(t,e.emptyAnimation,!1,n);return r.mixDuration=i,r.trackEnd=i,r},e.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var i=0,n=this.tracks.length;i<n;i++){var r=this.tracks[i];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},e.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},e.prototype.trackEntry=function(t,e,i,n){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=i,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.mixAlpha=1,r.mixTime=0,r.mixDuration=null==n?0:this.data.getMix(n.animation,e),r},e.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},e.prototype._animationsChanged=function(){this.animationsChanged=!1;var t=this.propertyIDs,e=0,i=this.tracks.length;for(t.clear();e<i;e++){if(null!=(n=this.tracks[e])){this.setTimelinesFirst(n),e++;break}}for(;e<i;e++){var n;null!=(n=this.tracks[e])&&this.checkTimelinesFirst(n)}},e.prototype.setTimelinesFirst=function(e){if(null!=e.mixingFrom)return this.setTimelinesFirst(e.mixingFrom),void this.checkTimelinesUsage(e,e.timelinesFirst);for(var i=this.propertyIDs,n=e.animation.timelines,r=n.length,o=t.Utils.setArraySize(e.timelinesFirst,r,!1),s=0;s<r;s++)i.add(n[s].getPropertyId()),o[s]=!0},e.prototype.checkTimelinesFirst=function(t){null!=t.mixingFrom&&this.checkTimelinesFirst(t.mixingFrom),this.checkTimelinesUsage(t,t.timelinesFirst)},e.prototype.checkTimelinesUsage=function(e,i){for(var n=this.propertyIDs,r=e.animation.timelines,o=r.length,s=t.Utils.setArraySize(i,o),a=0;a<o;a++)s[a]=n.add(r[a].getPropertyId())},e.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.prototype.clearListeners=function(){this.listeners.length=0},e.prototype.clearListenerNotifications=function(){this.queue.clear()},e.prototype.setAnimationByName=function(t,i,n){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,i,n)},e.prototype.addAnimationByName=function(t,i,n,r){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,i,n,r)},e.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},e.prototype.hasAnimationByName=function(t){return e.deprecatedWarning3||(e.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},e}();e.emptyAnimation=new t.Animation("<empty>",[],0),e.deprecatedWarning1=!1,e.deprecatedWarning2=!1,e.deprecatedWarning3=!1,t.AnimationState=e;var i=function(){function t(){this.timelinesFirst=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelinesFirst.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!0,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t}();i.deprecatedWarning1=!1,i.deprecatedWarning2=!1,t.TrackEntry=i;var n,r=function(){function e(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return e.prototype.start=function(t){this.objects.push(n.start),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.interrupt=function(t){this.objects.push(n.interrupt),this.objects.push(t)},e.prototype.end=function(t){this.objects.push(n.end),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.dispose=function(t){this.objects.push(n.dispose),this.objects.push(t)},e.prototype.complete=function(t){this.objects.push(n.complete),this.objects.push(t)},e.prototype.event=function(t,e){this.objects.push(n.event),this.objects.push(t),this.objects.push(e)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,i=this.animState.listeners,r=0;r<e.length;r+=2){var o=e[r],s=e[r+1];switch(o){case n.start:null!=s.listener&&s.listener.start&&s.listener.start(s);for(var a=0;a<i.length;a++)i[a].start&&i[a].start(s);s.onStart&&this.deprecateStuff()&&s.onStart(s.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(s.trackIndex);break;case n.interrupt:null!=s.listener&&s.listener.interrupt&&s.listener.interrupt(s);for(a=0;a<i.length;a++)i[a].interrupt&&i[a].interrupt(s);break;case n.end:null!=s.listener&&s.listener.end&&s.listener.end(s);for(a=0;a<i.length;a++)i[a].end&&i[a].end(s);s.onEnd&&this.deprecateStuff()&&s.onEnd(s.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(s.trackIndex);case n.dispose:null!=s.listener&&s.listener.dispose&&s.listener.dispose(s);for(a=0;a<i.length;a++)i[a].dispose&&i[a].dispose(s);this.animState.trackEntryPool.free(s);break;case n.complete:null!=s.listener&&s.listener.complete&&s.listener.complete(s);for(a=0;a<i.length;a++)i[a].complete&&i[a].complete(s);var c=t.MathUtils.toInt(s.loopsCount());s.onComplete&&this.deprecateStuff()&&s.onComplete(s.trackIndex,c),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(s.trackIndex,c);break;case n.event:var u=e[2+r++];null!=s.listener&&s.listener.event&&s.listener.event(s,u);for(a=0;a<i.length;a++)i[a].event&&i[a].event(s,u);s.onEvent&&this.deprecateStuff()&&s.onEvent(s.trackIndex,u),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(s.trackIndex,u)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e}();r.deprecatedWarning1=!1,t.EventQueue=r,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(n=t.EventType||(t.EventType={}));var o=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}();t.AnimationStateAdapter2=o}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,i){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);this.setMixWith(n,r,i)},t.prototype.setMixByName=function(e,i,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,i,n)},t.prototype.setMixWith=function(t,e,i){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+e.name;this.animationToMixTime[n]=i},t.prototype.getMix=function(t,e){var i=t.name+e.name,n=this.animationToMixTime[i];return void 0===n?this.defaultMix:n},t}();e.deprecatedWarning1=!1,t.AnimationStateData=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(t){this.atlas=t}return e.prototype.newRegionAttachment=function(e,i,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (region attachment: "+i+")");var o=new t.RegionAttachment(i);return o.region=r,o},e.prototype.newMeshAttachment=function(e,i,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+i+")");var o=new t.MeshAttachment(i);return o.region=r,o},e.prototype.newBoundingBoxAttachment=function(e,i){return new t.BoundingBoxAttachment(i)},e.prototype.newPathAttachment=function(e,i){return new t.PathAttachment(i)},e}();t.AtlasAttachmentLoader=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){return function(t){if(null==t)throw new Error("name cannot be null.");this.name=t}}();t.Attachment=e;var i=function(t){function e(e){var i=t.call(this,e)||this;return i.worldVerticesLength=0,i}return __extends(e,t),e.prototype.computeWorldVertices=function(t,e){this.computeWorldVerticesWith(t,0,this.worldVerticesLength,e,0)},e.prototype.computeWorldVerticesWith=function(t,e,i,n,r){i+=r;var o=t.bone.skeleton,s=t.attachmentVertices,a=this.vertices,c=this.bones;if(null!=c){for(var u=0,l=0,h=0;h<e;h+=2){u+=(f=c[u])+1,l+=f}var _=o.bones;if(0==s.length)for(E=r,T=3*l;E<i;E+=2){var p=0,d=0,f=c[u++];for(f+=u;u<f;u++,T+=3){y=_[c[u]].matrix,P=a[T],D=a[T+1];var b=a[T+2];p+=(P*y.a+D*y.c+y.tx)*b,d+=(P*y.b+D*y.d+y.ty)*b}n[E]=p,n[E+1]=d}else for(var m=s,g=(E=r,T=3*l,l<<1);E<i;E+=2){p=0,d=0,f=c[u++];for(f+=u;u<f;u++,T+=3,g+=2){y=_[c[u]].matrix,P=a[T]+m[g],D=a[T+1]+m[g+1],b=a[T+2];p+=(P*y.a+D*y.c+y.tx)*b,d+=(P*y.b+D*y.d+y.ty)*b}n[E]=p,n[E+1]=d}}else{s.length>0&&(a=s);for(var y,v=(y=t.bone.matrix).tx,w=y.ty,x=y.a,T=y.c,S=y.b,A=y.d,C=e,E=r;E<i;C+=2,E+=2){var P=a[C],D=a[C+1];n[E]=P*x+D*T+v,n[E+1]=P*S+D*A+w}}},e.prototype.applyDeform=function(t){return this==t},e}(e);t.VertexAttachment=i}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path"}(t.AttachmentType||(t.AttachmentType={}))}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.color=new t.Color(1,1,1,1),n}return __extends(i,e),i}(t.VertexAttachment);t.BoundingBoxAttachment=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.color=new t.Color(1,1,1,1),n.inheritDeform=!1,n.tempColor=new t.Color(0,0,0,0),n}return __extends(i,e),i.prototype.updateWorldVertices=function(t,e){return[]},i.prototype.updateUVs=function(e,i){var n=this.regionUVs.length;if(i&&i.length==n||(i=t.Utils.newFloatArray(n)),null!=e){for(var r=e.texture._uvs,o=e.width,s=e.height,a=e.originalWidth,c=e.originalHeight,u=e.offsetX,l=e.pixiOffsetY,h=0;h<n;h+=2){var _=this.regionUVs[h],p=this.regionUVs[h+1];_=(_*a-u)/o,p=(p*c-l)/s,i[h]=(r.x0*(1-_)+r.x1*_)*(1-p)+(r.x3*(1-_)+r.x2*_)*p,i[h+1]=(r.y0*(1-_)+r.y1*_)*(1-p)+(r.y3*(1-_)+r.y2*_)*p}return i}},i.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},i.prototype.getParentMesh=function(){return this.parentMesh},i.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},i}(t.VertexAttachment);t.MeshAttachment=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.closed=!1,n.constantSpeed=!1,n.color=new t.Color(1,1,1,1),n}return __extends(i,e),i}(t.VertexAttachment);t.PathAttachment=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new t.Color(1,1,1,1),n}return __extends(i,e),i.prototype.updateWorldVertices=function(t,e){return[]},i}(t.Attachment);t.RegionAttachment=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(t.BlendMode||(t.BlendMode={}))}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(t,e,i){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}return Object.defineProperty(e.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(i,n,r,o,s,a,c){this.ax=i,this.ay=n,this.arotation=r,this.ascaleX=o,this.ascaleY=s,this.ashearX=a,this.ashearY=c,this.appliedValid=!0;var u=this.parent,l=this.matrix;if(null==u){var h=r+90+c,_=t.MathUtils.cosDeg(r+a)*o,p=t.MathUtils.cosDeg(h)*s,d=t.MathUtils.sinDeg(r+a)*o,f=t.MathUtils.sinDeg(h)*s,b=this.skeleton;return b.flipX&&(i=-i,_=-_,p=-p),b.flipY!==e.yDown&&(n=-n,d=-d,f=-f),l.a=_,l.c=p,l.b=d,l.d=f,l.tx=i+b.x,void(l.ty=n+b.y)}var m=u.matrix.a,g=u.matrix.c,y=u.matrix.b,v=u.matrix.d;switch(l.tx=m*i+g*n+u.matrix.tx,l.ty=y*i+v*n+u.matrix.ty,this.data.transformMode){case t.TransformMode.Normal:h=r+90+c,_=t.MathUtils.cosDeg(r+a)*o,p=t.MathUtils.cosDeg(h)*s,d=t.MathUtils.sinDeg(r+a)*o,f=t.MathUtils.sinDeg(h)*s;return l.a=m*_+g*d,l.c=m*p+g*f,l.b=y*_+v*d,void(l.d=y*p+v*f);case t.TransformMode.OnlyTranslation:h=r+90+c;l.a=t.MathUtils.cosDeg(r+a)*o,l.c=t.MathUtils.cosDeg(h)*s,l.b=t.MathUtils.sinDeg(r+a)*o,l.d=t.MathUtils.sinDeg(h)*s;break;case t.TransformMode.NoRotationOrReflection:var w=0;(S=m*m+y*y)>1e-4?(g=y*(S=Math.abs(m*v-g*y)/S),v=m*S,w=Math.atan2(y,m)*t.MathUtils.radDeg):(m=0,y=0,w=90-Math.atan2(v,g)*t.MathUtils.radDeg);var x=r+a-w,T=r+c-w+90;_=t.MathUtils.cosDeg(x)*o,p=t.MathUtils.cosDeg(T)*s,d=t.MathUtils.sinDeg(x)*o,f=t.MathUtils.sinDeg(T)*s;l.a=m*_-g*d,l.c=m*p-g*f,l.b=y*_+v*d,l.d=y*p+v*f;break;case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:var S,A=t.MathUtils.cosDeg(r),C=t.MathUtils.sinDeg(r),E=m*A+g*C,P=y*A+v*C;(S=Math.sqrt(E*E+P*P))>1e-5&&(S=1/S),E*=S,P*=S,S=Math.sqrt(E*E+P*P);var D=Math.PI/2+Math.atan2(P,E),M=Math.cos(D)*S,R=Math.sin(D)*S;_=t.MathUtils.cosDeg(a)*o,p=t.MathUtils.cosDeg(90+c)*s,d=t.MathUtils.sinDeg(a)*o,f=t.MathUtils.sinDeg(90+c)*s;return l.a=E*_+M*d,l.c=E*p+M*f,l.b=P*_+R*d,l.d=P*p+R*f,void((this.data.transformMode!=t.TransformMode.NoScaleOrReflection?m*v-g*y<0:this.skeleton.flipX!=this.skeleton.flipY!=e.yDown)&&(l.c=-l.c,l.d=-l.d))}this.skeleton.flipX&&(l.a=-l.a,l.c=-l.c),this.skeleton.flipY!=e.yDown&&(l.b=-l.b,l.d=-l.d)},e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*t.MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*t.MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},e.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},e.prototype.worldToLocalRotationX=function(){var e=this.parent;if(null==e)return this.arotation;var i=e.matrix,n=this.matrix;return Math.atan2(i.a*n.b-i.b*n.a,i.d*n.a-i.c*n.b)*t.MathUtils.radDeg},e.prototype.worldToLocalRotationY=function(){var e=this.parent;if(null==e)return this.arotation;var i=e.matrix,n=this.matrix;return Math.atan2(i.a*n.d-i.b*n.c,i.d*n.c-i.c*n.d)*t.MathUtils.radDeg},e.prototype.rotateWorld=function(e){var i=this.matrix,n=this.matrix.a,r=i.c,o=i.b,s=i.d,a=t.MathUtils.cosDeg(e),c=t.MathUtils.sinDeg(e);i.a=a*n-c*o,i.c=a*r-c*s,i.b=c*n+a*o,i.d=c*r+a*s,this.appliedValid=!1},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,i=this.matrix;if(null==e)return this.ax=i.tx,this.ay=i.ty,this.arotation=Math.atan2(i.b,i.a)*t.MathUtils.radDeg,this.ascaleX=Math.sqrt(i.a*i.a+i.b*i.b),this.ascaleY=Math.sqrt(i.c*i.c+i.d*i.d),this.ashearX=0,void(this.ashearY=Math.atan2(i.a*i.c+i.b*i.d,i.a*i.d-i.b*i.c)*t.MathUtils.radDeg);var n=e.matrix,r=1/(n.a*n.d-n.b*n.c),o=i.tx-n.tx,s=i.ty-n.ty;this.ax=o*n.d*r-s*n.c*r,this.ay=s*n.a*r-o*n.b*r;var a=r*n.d,c=r*n.a,u=r*n.c,l=r*n.b,h=a*i.a-u*i.b,_=a*i.c-u*i.d,p=c*i.b-l*i.a,d=c*i.d-l*i.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+p*p),this.ascaleX>1e-4){var f=h*d-_*p;this.ascaleY=f/this.ascaleX,this.ashearY=Math.atan2(h*_+p*d,f)*t.MathUtils.radDeg,this.arotation=Math.atan2(p,h)*t.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(_*_+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,_)*t.MathUtils.radDeg},e.prototype.worldToLocal=function(t){var e=this.matrix,i=e.a,n=e.c,r=e.b,o=e.d,s=1/(i*o-n*r),a=t.x-e.tx,c=t.y-e.ty;return t.x=a*o*s-c*n*s,t.y=c*i*s-a*r*s,t},e.prototype.localToWorld=function(t){var e=this.matrix,i=t.x,n=t.y;return t.x=i*e.a+n*e.c+e.tx,t.y=i*e.b+n*e.d+e.ty,t},e}();e.yDown=!1,t.Bone=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e,i=function(){return function(t,i,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=e.Normal,t<0)throw new Error("index must be >= 0.");if(null==i)throw new Error("name cannot be null.");this.index=t,this.name=i,this.parent=n}}();t.BoneData=i,function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(e=t.TransformMode||(t.TransformMode={}))}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){return function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}}();t.Event=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){return function(t){this.name=t}}();t.EventData=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(t,e){if(this.mix=1,this.bendDirection=0,this.level=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}return e.prototype.getOrder=function(){return this.data.order},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},e.prototype.apply1=function(e,i,n,r){e.appliedValid||e.updateAppliedTransform();var o=e.parent.matrix,s=1/(o.a*o.d-o.b*o.c),a=i-o.tx,c=n-o.ty,u=(a*o.d-c*o.c)*s-e.ax,l=(c*o.a-a*o.b)*s-e.ay,h=Math.atan2(l,u)*t.MathUtils.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(h+=180),h>180?h-=360:h<-180&&(h+=360),e.updateWorldTransformWith(e.ax,e.ay,e.arotation+h*r,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,i,n,r,o,s){if(0!=s){e.appliedValid||e.updateAppliedTransform(),i.appliedValid||i.updateAppliedTransform();var a=e.ax,c=e.ay,u=e.ascaleX,l=e.ascaleY,h=i.ascaleX,_=0,p=0,d=0;u<0?(u=-u,_=180,d=-1):(_=0,d=1),l<0&&(l=-l,d=-d),h<0?(h=-h,p=180):p=0;var f=e.matrix,b=i.ax,m=0,g=0,y=0,v=f.a,w=f.c,x=f.b,T=f.d,S=Math.abs(u-l)<=1e-4;S?(g=v*b+w*(m=i.ay)+f.tx,y=x*b+T*m+f.ty):(m=0,g=v*b+f.tx,y=x*b+f.ty);e.parent;var A=e.parent.matrix;v=A.a,w=A.c,x=A.b;var C=1/(v*(T=A.d)-w*x),E=n-A.tx,P=r-A.ty,D=(E*T-P*w)*C-a,M=(P*v-E*x)*C-c,R=((E=g-A.tx)*T-(P=y-A.ty)*w)*C-a,I=(P*v-E*x)*C-c,O=Math.sqrt(R*R+I*I),k=i.data.length*h,L=0,j=0;t:if(S){var B=(D*D+M*M-O*O-(k*=u)*k)/(2*O*k);B<-1?B=-1:B>1&&(B=1),j=Math.acos(B)*o,v=O+k*B,w=k*Math.sin(j),L=Math.atan2(M*v-D*w,D*v+M*w)}else{var F=(v=u*k)*v,J=(w=l*k)*w,G=D*D+M*M,N=Math.atan2(M,D),U=-2*J*O,W=J-F;if((T=U*U-4*W*(x=J*O*O+F*G-F*J))>=0){var V=Math.sqrt(T);U<0&&(V=-V);var X=(V=-(U+V)/2)/W,z=x/V,q=Math.abs(X)<Math.abs(z)?X:z;if(q*q<=G){P=Math.sqrt(G-q*q)*o,L=N-Math.atan2(P,q),j=Math.atan2(P/l,(q-O)/u);break t}}var H=0,Y=Number.MAX_VALUE,Z=0,Q=0,K=0,$=0,tt=0,et=0;(T=(E=O+v)*E)>$&&(K=0,$=T,tt=E),(T=(E=O-v)*E)<Y&&(H=t.MathUtils.PI,Y=T,Z=E);var it=Math.acos(-v*O/(F-J));(T=(E=v*Math.cos(it)+O)*E+(P=w*Math.sin(it))*P)<Y&&(H=it,Y=T,Z=E,Q=P),T>$&&(K=it,$=T,tt=E,et=P),G<=(Y+$)/2?(L=N-Math.atan2(Q*o,Z),j=H*o):(L=N-Math.atan2(et*o,tt),j=K*o)}var nt=Math.atan2(m,b)*d,rt=e.arotation;(L=(L-nt)*t.MathUtils.radDeg+_-rt)>180?L-=360:L<-180&&(L+=360),e.updateWorldTransformWith(a,c,rt+L*s,e.ascaleX,e.ascaleY,0,0),rt=i.arotation,(j=((j+nt)*t.MathUtils.radDeg-i.ashearX)*d+p-rt)>180?j-=360:j<-180&&(j+=360),i.updateWorldTransformWith(b,m,rt+j*s,i.ascaleX,i.ascaleY,i.ashearX,i.ashearY)}else i.updateWorldTransform()},e}();t.IkConstraint=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){return function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t}}();t.IkConstraintData=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var i=0,n=t.bones.length;i<n;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof t.PathAttachment){var i=this.rotateMix,n=this.translateMix,r=i>0;if(n>0||r){var o=this.data,s=o.spacingMode,a=s==t.SpacingMode.Length,c=o.rotateMode,u=c==t.RotateMode.Tangent,l=c==t.RotateMode.ChainScale,h=this.bones.length,_=u?h:h+1,p=this.bones,d=t.Utils.setArraySize(this.spaces,_),f=null,b=this.spacing;if(l||a){l&&(f=t.Utils.setArraySize(this.lengths,h));for(var m=0,g=_-1;m<g;){var y=(M=p[m]).matrix,v=M.data.length,w=v*y.a,x=v*y.b;v=Math.sqrt(w*w+x*x),l&&(f[m]=v),d[++m]=a?Math.max(0,v+b):b}}else for(m=1;m<_;m++)d[m]=b;var T=this.computeWorldPositions(e,_,u,o.positionMode==t.PositionMode.Percent,s==t.SpacingMode.Percent),S=T[0],A=T[1],C=o.offsetRotation,E=!1;if(0==C)E=c==t.RotateMode.Chain;else{E=!1;var P=this.target.bone.matrix;C*=P.a*P.d-P.b*P.c>0?t.MathUtils.degRad:-t.MathUtils.degRad}m=0;for(var D=3;m<h;m++,D+=3){var M;(y=(M=p[m]).matrix).tx+=(S-y.tx)*n,y.ty+=(A-y.ty)*n;var R=(w=T[D])-S,I=(x=T[D+1])-A;if(l){var O=f[m];if(0!=O){var k=(Math.sqrt(R*R+I*I)/O-1)*i+1;y.a*=k,y.b*=k}}if(S=w,A=x,r){var L=y.a,j=y.c,B=y.b,F=y.d,J=0,G=0,N=0;if(J=u?T[D-1]:0==d[m+1]?T[D+2]:Math.atan2(I,R),J-=Math.atan2(B,L),E){G=Math.cos(J),N=Math.sin(J);var U=M.data.length;S+=(U*(G*L-N*B)-R)*i,A+=(U*(N*L+G*B)-I)*i}else J+=C;J>t.MathUtils.PI?J-=t.MathUtils.PI2:J<-t.MathUtils.PI&&(J+=t.MathUtils.PI2),J*=i,G=Math.cos(J),N=Math.sin(J),y.a=G*L-N*B,y.c=G*j-N*F,y.b=N*L+G*B,y.d=N*j+G*F}M.appliedValid=!1}}}},e.prototype.computeWorldPositions=function(i,n,r,o,s){var a=this.target,c=this.position,u=this.spaces,l=t.Utils.setArraySize(this.positions,3*n+2),h=null,_=i.closed,p=i.worldVerticesLength,d=p/6,f=e.NONE;if(!i.constantSpeed){var b=i.lengths,m=b[d-=_?1:2];if(o&&(c*=m),s)for(var g=0;g<n;g++)u[g]*=m;h=t.Utils.setArraySize(this.world,8);g=0;for(var y=0,v=0;g<n;g++,y+=3){var w=c+=X=u[g];if(_)(w%=m)<0&&(w+=m),v=0;else{if(w<0){f!=e.BEFORE&&(f=e.BEFORE,i.computeWorldVerticesWith(a,2,4,h,0)),this.addBeforePosition(w,h,0,l,y);continue}if(w>m){f!=e.AFTER&&(f=e.AFTER,i.computeWorldVerticesWith(a,p-6,4,h,0)),this.addAfterPosition(w-m,h,0,l,y);continue}}for(;;v++){var x=b[v];if(!(w>x)){if(0==v)w/=x;else w=(w-(Y=b[v-1]))/(x-Y);break}}v!=f&&(f=v,_&&v==d?(i.computeWorldVerticesWith(a,p-4,4,h,0),i.computeWorldVerticesWith(a,0,4,h,4)):i.computeWorldVerticesWith(a,6*v+2,8,h,0)),this.addCurvePosition(w,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,y,r||g>0&&0==X)}return l}_?(p+=2,h=t.Utils.setArraySize(this.world,p),i.computeWorldVerticesWith(a,2,p-4,h,0),i.computeWorldVerticesWith(a,0,2,h,p-4),h[p-2]=h[0],h[p-1]=h[1]):(d--,p-=4,h=t.Utils.setArraySize(this.world,p),i.computeWorldVerticesWith(a,2,p,h,0));for(var T=t.Utils.setArraySize(this.curves,d),S=0,A=h[0],C=h[1],E=0,P=0,D=0,M=0,R=0,I=0,O=0,k=0,L=0,j=0,B=0,F=0,J=0,G=0,N=(g=0,2);g<d;g++,N+=6)E=h[N],P=h[N+1],D=h[N+2],M=h[N+3],R=h[N+4],I=h[N+5],B=2*(O=.1875*(A-2*E+D))+(L=.09375*(3*(E-D)-A+R)),F=2*(k=.1875*(C-2*P+M))+(j=.09375*(3*(P-M)-C+I)),J=.75*(E-A)+O+.16666667*L,G=.75*(P-C)+k+.16666667*j,S+=Math.sqrt(J*J+G*G),J+=B,G+=F,B+=L,F+=j,S+=Math.sqrt(J*J+G*G),J+=B,G+=F,S+=Math.sqrt(J*J+G*G),J+=B+L,G+=F+j,S+=Math.sqrt(J*J+G*G),T[g]=S,A=R,C=I;if(o&&(c*=S),s)for(g=0;g<n;g++)u[g]*=S;for(var U=this.segments,W=0,V=(g=0,y=0,v=0,0);g<n;g++,y+=3){var X;w=c+=X=u[g];if(_)(w%=S)<0&&(w+=S),v=0;else{if(w<0){this.addBeforePosition(w,h,0,l,y);continue}if(w>S){this.addAfterPosition(w-S,h,p-4,l,y);continue}}for(;;v++){var z=T[v];if(!(w>z)){if(0==v)w/=z;else w=(w-(Y=T[v-1]))/(z-Y);break}}if(v!=f){f=v;var q=6*v;for(A=h[q],C=h[q+1],E=h[q+2],P=h[q+3],D=h[q+4],M=h[q+5],R=h[q+6],I=h[q+7],B=2*(O=.03*(A-2*E+D))+(L=.006*(3*(E-D)-A+R)),F=2*(k=.03*(C-2*P+M))+(j=.006*(3*(P-M)-C+I)),J=.3*(E-A)+O+.16666667*L,G=.3*(P-C)+k+.16666667*j,W=Math.sqrt(J*J+G*G),U[0]=W,q=1;q<8;q++)J+=B,G+=F,B+=L,F+=j,W+=Math.sqrt(J*J+G*G),U[q]=W;J+=B,G+=F,W+=Math.sqrt(J*J+G*G),U[8]=W,J+=B+L,G+=F+j,W+=Math.sqrt(J*J+G*G),U[9]=W,V=0}for(w*=W;;V++){var H=U[V];if(!(w>H)){var Y;if(0==V)w/=H;else w=V+(w-(Y=U[V-1]))/(H-Y);break}}this.addCurvePosition(.1*w,A,C,E,P,D,M,R,I,l,y,r||g>0&&0==X)}return l},e.prototype.addBeforePosition=function(t,e,i,n,r){var o=e[i],s=e[i+1],a=e[i+2]-o,c=e[i+3]-s,u=Math.atan2(c,a);n[r]=o+t*Math.cos(u),n[r+1]=s+t*Math.sin(u),n[r+2]=u},e.prototype.addAfterPosition=function(t,e,i,n,r){var o=e[i+2],s=e[i+3],a=o-e[i],c=s-e[i+1],u=Math.atan2(c,a);n[r]=o+t*Math.cos(u),n[r+1]=s+t*Math.sin(u),n[r+2]=u},e.prototype.addCurvePosition=function(t,e,i,n,r,o,s,a,c,u,l,h){(0==t||isNaN(t))&&(t=1e-4);var _=t*t,p=_*t,d=1-t,f=d*d,b=f*d,m=d*t,g=3*m,y=d*g,v=g*t,w=e*b+n*y+o*v+a*p,x=i*b+r*y+s*v+c*p;u[l]=w,u[l+1]=x,h&&(u[l+2]=Math.atan2(x-(i*f+r*m*2+s*_),w-(e*f+n*m*2+o*_)))},e.prototype.getOrder=function(){return this.data.order},e}();e.NONE=-1,e.BEFORE=-2,e.AFTER=-3,t.PathConstraint=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){return function(t){this.order=0,this.bones=new Array,this.name=t}}();t.PathConstraintData=e,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(t.PositionMode||(t.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(t.SpacingMode||(t.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(t.RotateMode||(t.RotateMode={}))}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var i=0;i<e.bones.length;i++){var n=e.bones[i],r=void 0;if(null==n.parent)r=new t.Bone(n,this,null);else{var o=this.bones[n.parent.index];r=new t.Bone(n,this,o),o.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(i=0;i<e.slots.length;i++){var s=e.slots[i],a=(r=this.bones[s.boneData.index],new t.Slot(s,r));this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(i=0;i<e.ikConstraints.length;i++){var c=e.ikConstraints[i];this.ikConstraints.push(new t.IkConstraint(c,this))}this.transformConstraints=new Array;for(i=0;i<e.transformConstraints.length;i++){var u=e.transformConstraints[i];this.transformConstraints.push(new t.TransformConstraint(u,this))}this.pathConstraints=new Array;for(i=0;i<e.pathConstraints.length;i++){var l=e.pathConstraints[i];this.pathConstraints.push(new t.PathConstraint(l,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}return e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].sorted=!1;var n=this.ikConstraints,r=this.transformConstraints,o=this.pathConstraints,s=n.length,a=r.length,c=o.length,u=s+a+c;t:for(e=0;e<u;e++){for(var l=0;l<s;l++){if((h=n[l]).data.order==e){this.sortIkConstraint(h);continue t}}for(l=0;l<a;l++){if((h=r[l]).data.order==e){this.sortTransformConstraint(h);continue t}}for(l=0;l<c;l++){var h;if((h=o[l]).data.order==e){this.sortPathConstraint(h);continue t}}}for(e=0,i=t.length;e<i;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var i=t.bones,n=i[0];if(this.sortBone(n),i.length>1){var r=i[i.length-1];this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}this._updateCache.push(t),this.sortReset(n.children),i[i.length-1].sorted=!0},e.prototype.sortPathConstraint=function(e){var i=e.target,n=i.data.index,r=i.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var o=0,s=this.data.skins.length;o<s;o++)this.sortPathConstraintAttachment(this.data.skins[o],n,r);var a=i.getAttachment();a instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(a,r);var c=e.bones,u=c.length;for(o=0;o<u;o++)this.sortBone(c[o]);this._updateCache.push(e);for(o=0;o<u;o++)this.sortReset(c[o].children);for(o=0;o<u;o++)c[o].sorted=!0},e.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);for(var e=t.bones,i=e.length,n=0;n<i;n++)this.sortBone(e[n]);this._updateCache.push(t);for(n=0;n<i;n++)this.sortReset(e[n].children);for(n=0;n<i;n++)e[n].sorted=!0},e.prototype.sortPathConstraintAttachment=function(t,e,i){var n=t.attachments[e];if(n)for(var r in n)this.sortPathConstraintAttachmentWith(n[r],i)},e.prototype.sortPathConstraintAttachmentWith=function(e,i){if(e instanceof t.PathAttachment){var n=e.bones;if(null==n)this.sortBone(i);else for(var r=this.bones,o=0;o<n.length;)for(var s=n[o++],a=o+s;o<a;o++){var c=n[o];this.sortBone(r[c])}}},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.prototype.sortReset=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];n.sorted&&this.sortReset(n.children),n.sorted=!1}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,i=t.length;e<i;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}var r=this._updateCache;for(e=0,i=r.length;e<i;e++)r[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].setToSetupPose();var n=this.ikConstraints;for(e=0,i=n.length;e<i;e++){(a=n[e]).bendDirection=a.data.bendDirection,a.mix=a.data.mix}var r=this.transformConstraints;for(e=0,i=r.length;e<i;e++){var o=(a=r[e]).data;a.rotateMix=o.rotateMix,a.translateMix=o.translateMix,a.scaleMix=o.scaleMix,a.shearMix=o.shearMix}var s=this.pathConstraints;for(e=0,i=s.length;e<i;e++){var a;o=(a=s[e]).data;a.position=o.position,a.spacing=o.spacing,a.rotateMix=o.rotateMix,a.translateMix=o.translateMix}},e.prototype.setSlotsToSetupPose=function(){var e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var i=0,n=e.length;i<n;i++)e[i].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++)if(e[i].data.name==t)return i;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++)if(e[i].data.name==t)return i;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,i=0,n=e.length;i<n;i++){var r=e[i],o=r.data.attachmentName;if(null!=o){var s=t.getAttachment(i,o);null!=s&&r.setAttachment(s)}}this.skin=t},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var i=this.skin.getAttachment(t,e);if(null!=i)return i}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var i=this.slots,n=0,r=i.length;n<r;n++){var o=i[n];if(o.data.name==t){var s=null;if(null!=e&&null==(s=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(s)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.data.name==t)return r}return null},e.prototype.getBounds=function(e,i){if(null==e)throw new Error("offset cannot be null.");if(null==i)throw new Error("size cannot be null.");for(var n=this.drawOrder,r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,c=0,u=n.length;c<u;c++){var l=n[c],h=null,_=l.getAttachment();if(_ instanceof t.RegionAttachment?h=_.updateWorldVertices(l,!1):_ instanceof t.MeshAttachment&&(h=_.updateWorldVertices(l,!0)),null!=h)for(var p=0,d=h.length;p<d;p+=8){var f=h[p],b=h[p+1];r=Math.min(r,f),o=Math.min(o,b),s=Math.max(s,f),a=Math.max(a,b)}}e.set(r,o),i.set(s-r,a-o)},e.prototype.update=function(t){this.time+=t},e}();t.Skeleton=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new t.Pool(function(){return t.Utils.newFloatArray(16)})}return e.prototype.update=function(e,i){if(null==e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,o=this.polygonPool,s=e.slots,a=s.length;n.length=0,o.freeAll(r),r.length=0;for(var c=0;c<a;c++){var u=s[c],l=u.getAttachment();if(l instanceof t.BoundingBoxAttachment){var h=l;n.push(h);var _=o.obtain();_.length!=h.worldVerticesLength&&(_=t.Utils.newFloatArray(h.worldVerticesLength)),r.push(_),h.computeWorldVertices(u,_)}}i&&this.aabbCompute()},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=this.polygons,o=0,s=r.length;o<s;o++)for(var a=r[o],c=a,u=0,l=a.length;u<l;u+=2){var h=c[u],_=c[u+1];t=Math.min(t,h),e=Math.min(e,_),i=Math.max(i,h),n=Math.max(n,_)}this.minX=t,this.minY=e,this.maxX=i,this.maxY=n},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,i,n){var r=this.minX,o=this.minY,s=this.maxX,a=this.maxY;if(t<=r&&i<=r||e<=o&&n<=o||t>=s&&i>=s||e>=a&&n>=a)return!1;var c=(n-e)/(i-t),u=c*(r-t)+e;if(u>o&&u<a)return!0;if((u=c*(s-t)+e)>o&&u<a)return!0;var l=(o-e)/c+t;return l>r&&l<s||(l=(a-e)/c+t)>r&&l<s},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var i=this.polygons,n=0,r=i.length;n<r;n++)if(this.containsPointPolygon(i[n],t,e))return this.boundingBoxes[n];return null},e.prototype.containsPointPolygon=function(t,e,i){for(var n=t,r=t.length,o=r-2,s=!1,a=0;a<r;a+=2){var c=n[a+1],u=n[o+1];if(c<i&&u>=i||u<i&&c>=i){var l=n[a];l+(i-c)/(u-c)*(n[o]-l)<e&&(s=!s)}o=a}return s},e.prototype.intersectsSegment=function(t,e,i,n){for(var r=this.polygons,o=0,s=r.length;o<s;o++)if(this.intersectsSegmentPolygon(r[o],t,e,i,n))return this.boundingBoxes[o];return null},e.prototype.intersectsSegmentPolygon=function(t,e,i,n,r){for(var o=t,s=t.length,a=e-n,c=i-r,u=e*r-i*n,l=o[s-2],h=o[s-1],_=0;_<s;_+=2){var p=o[_],d=o[_+1],f=l*d-h*p,b=l-p,m=h-d,g=a*m-c*b,y=(u*b-a*f)/g;if((y>=l&&y<=p||y>=p&&y<=l)&&(y>=e&&y<=n||y>=n&&y<=e)){var v=(u*m-c*f)/g;if((v>=h&&v<=d||v>=d&&v<=h)&&(v>=i&&v<=r||v>=r&&v<=i))return!0}l=p,h=d}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e}();t.SkeletonBounds=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++){var r=e[i];if(r.name==t)return r}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,i=0,n=e.length;i<n;i++)if(e[i].name==t)return i;return-1},t}();t.SkeletonData=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(i){var n=this.scale,r=new t.SkeletonData,o="string"==typeof i?JSON.parse(i):i,s=o.skeleton;if(null!=s&&(r.hash=s.hash,r.version=s.spine,r.width=s.width,r.height=s.height,r.fps=s.fps,r.imagesPath=s.images),o.bones)for(var a=0;a<o.bones.length;a++){var c=o.bones[a],u=null,l=this.getValue(c,"parent",null);if(null!=l&&null==(u=r.findBone(l)))throw new Error("Parent bone not found: "+l);(d=new t.BoneData(r.bones.length,c.name,u)).length=this.getValue(c,"length",0)*n,d.x=this.getValue(c,"x",0)*n,d.y=this.getValue(c,"y",0)*n,d.rotation=this.getValue(c,"rotation",0),d.scaleX=this.getValue(c,"scaleX",1),d.scaleY=this.getValue(c,"scaleY",1),d.shearX=this.getValue(c,"shearX",0),d.shearY=this.getValue(c,"shearY",0),c.hasOwnProperty("inheritScale")||c.hasOwnProperty("inheritRotation")?d.transformMode=e.transformModeLegacy(this.getValue(c,"inheritRotation",!0),this.getValue(c,"inheritScale",!0)):d.transformMode=e.transformModeFromString(this.getValue(c,"transform","normal")),r.bones.push(d)}if(o.slots)for(a=0;a<o.slots.length;a++){var h=(S=o.slots[a]).name,_=S.bone,p=r.findBone(_);if(null==p)throw new Error("Slot bone not found: "+_);var d=new t.SlotData(r.slots.length,h,p),f=this.getValue(S,"color",null);null!=f&&d.color.setFromString(f),d.attachmentName=this.getValue(S,"attachment",null),d.blendMode=e.blendModeFromString(this.getValue(S,"blend","normal")),r.slots.push(d)}if(o.ik)for(a=0;a<o.ik.length;a++){var b=o.ik[a];(d=new t.IkConstraintData(b.name)).order=this.getValue(b,"order",0);for(var m=0;m<b.bones.length;m++){_=b.bones[m];if(null==(y=r.findBone(_)))throw new Error("IK bone not found: "+_);d.bones.push(y)}var g=b.target;if(d.target=r.findBone(g),null==d.target)throw new Error("IK target bone not found: "+g);d.bendDirection=this.getValue(b,"bendPositive",!0)?1:-1,d.mix=this.getValue(b,"mix",1),r.ikConstraints.push(d)}if(o.transform)for(a=0;a<o.transform.length;a++){b=o.transform[a];(d=new t.TransformConstraintData(b.name)).order=this.getValue(b,"order",0);for(m=0;m<b.bones.length;m++){_=b.bones[m];if(null==(y=r.findBone(_)))throw new Error("Transform constraint bone not found: "+_);d.bones.push(y)}g=b.target;if(d.target=r.findBone(g),null==d.target)throw new Error("Transform constraint target bone not found: "+g);d.offsetRotation=this.getValue(b,"rotation",0),d.offsetX=this.getValue(b,"x",0)*n,d.offsetY=this.getValue(b,"y",0)*n,d.offsetScaleX=this.getValue(b,"scaleX",0),d.offsetScaleY=this.getValue(b,"scaleY",0),d.offsetShearY=this.getValue(b,"shearY",0),d.rotateMix=this.getValue(b,"rotateMix",1),d.translateMix=this.getValue(b,"translateMix",1),d.scaleMix=this.getValue(b,"scaleMix",1),d.shearMix=this.getValue(b,"shearMix",1),r.transformConstraints.push(d)}if(o.path)for(a=0;a<o.path.length;a++){b=o.path[a];(d=new t.PathConstraintData(b.name)).order=this.getValue(b,"order",0);for(m=0;m<b.bones.length;m++){var y;_=b.bones[m];if(null==(y=r.findBone(_)))throw new Error("Transform constraint bone not found: "+_);d.bones.push(y)}g=b.target;if(d.target=r.findSlot(g),null==d.target)throw new Error("Path target slot not found: "+g);d.positionMode=e.positionModeFromString(this.getValue(b,"positionMode","percent")),d.spacingMode=e.spacingModeFromString(this.getValue(b,"spacingMode","length")),d.rotateMode=e.rotateModeFromString(this.getValue(b,"rotateMode","tangent")),d.offsetRotation=this.getValue(b,"rotation",0),d.position=this.getValue(b,"position",0),d.positionMode==t.PositionMode.Fixed&&(d.position*=n),d.spacing=this.getValue(b,"spacing",0),d.spacingMode!=t.SpacingMode.Length&&d.spacingMode!=t.SpacingMode.Fixed||(d.spacing*=n),d.rotateMix=this.getValue(b,"rotateMix",1),d.translateMix=this.getValue(b,"translateMix",1),r.pathConstraints.push(d)}if(o.skins)for(var v in o.skins){var w=o.skins[v],x=new t.Skin(v);for(var h in w){var T=r.findSlotIndex(h);if(-1==T)throw new Error("Slot not found: "+h);var S=w[h];for(var A in S){var C=this.readAttachment(S[A],x,T,A);null!=C&&x.addAttachment(T,A,C)}}r.skins.push(x),"default"==x.name&&(r.defaultSkin=x)}a=0;for(var E=this.linkedMeshes.length;a<E;a++){var P=this.linkedMeshes[a];if(null==(x=null==P.skin?r.defaultSkin:r.findSkin(P.skin)))throw new Error("Skin not found: "+P.skin);var D=x.getAttachment(P.slotIndex,P.parent);if(null==D)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(D)}if(this.linkedMeshes.length=0,o.events)for(var M in o.events){var R=o.events[M];(d=new t.EventData(M)).intValue=this.getValue(R,"int",0),d.floatValue=this.getValue(R,"float",0),d.stringValue=this.getValue(R,"string",""),r.events.push(d)}if(o.animations)for(var I in o.animations){var O=o.animations[I];this.readAnimation(O,I,r)}return r},e.prototype.readAttachment=function(e,n,r,o){var s=this.scale;switch(o=this.getValue(e,"name",o),this.getValue(e,"type","region")){case"region":var a=this.getValue(e,"path",o),c=this.attachmentLoader.newRegionAttachment(n,o,a);return null==c?null:(c.path=a,c.x=this.getValue(e,"x",0)*s,c.y=this.getValue(e,"y",0)*s,c.scaleX=this.getValue(e,"scaleX",1),c.scaleY=this.getValue(e,"scaleY",1),c.rotation=this.getValue(e,"rotation",0),c.width=e.width*s,c.height=e.height*s,null!=(p=this.getValue(e,"color",null))&&c.color.setFromString(p),c);case"boundingbox":var u=this.attachmentLoader.newBoundingBoxAttachment(n,o);return null==u?null:(this.readVertices(e,u,e.vertexCount<<1),null!=(p=this.getValue(e,"color",null))&&u.color.setFromString(p),u);case"weightedmesh":case"skinnedmesh":case"mesh":case"linkedmesh":a=this.getValue(e,"path",o);var l=this.attachmentLoader.newMeshAttachment(n,o,a);if(null==l)return null;l.path=a,null!=(p=this.getValue(e,"color",null))&&l.color.setFromString(p);var h=this.getValue(e,"parent",null);if(null!=h)return l.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new i(l,this.getValue(e,"skin",null),r,h)),l;var _=e.uvs;return this.readVertices(e,l,_.length),l.triangles=e.triangles,l.regionUVs=_,l.hullLength=2*this.getValue(e,"hull",0),l;case"path":if(null==(a=this.attachmentLoader.newPathAttachment(n,o)))return null;a.closed=this.getValue(e,"closed",!1),a.constantSpeed=this.getValue(e,"constantSpeed",!0);var p,d=e.vertexCount;this.readVertices(e,a,d<<1);for(var f=t.Utils.newArray(d/3,0),b=0;b<e.lengths.length;b++)f[b++]=e.lengths[b]*s;return a.lengths=f,null!=(p=this.getValue(e,"color",null))&&a.color.setFromString(p),a}return null},e.prototype.readVertices=function(e,i,n){var r=this.scale;i.worldVerticesLength=n;var o=e.vertices;if(n!=o.length){var s=new Array,a=new Array;for(l=0,h=o.length;l<h;){var c=o[l++];a.push(c);for(var u=l+4*c;l<u;l+=4)a.push(o[l]),s.push(o[l+1]*r),s.push(o[l+2]*r),s.push(o[l+3])}i.bones=a,i.vertices=t.Utils.toFloatArray(s)}else{if(1!=r)for(var l=0,h=o.length;l<h;l++)o[l]*=r;i.vertices=t.Utils.toFloatArray(o)}},e.prototype.readAnimation=function(e,i,n){var r=this.scale,o=new Array,s=0;if(e.slots)for(var a in e.slots){var c=e.slots[a];if(-1==(q=n.findSlotIndex(a)))throw new Error("Slot not found: "+a);for(var u in c){var l=c[u];if("color"==u){(g=new t.ColorTimeline(l.length)).slotIndex=q;for(var h=0,_=0;_<l.length;_++){var p=l[_],d=new t.Color;d.setFromString(p.color),g.setFrame(h,p.time,d.r,d.g,d.b,d.a),this.readCurve(p,g,h),h++}o.push(g),s=Math.max(s,g.frames[(g.getFrameCount()-1)*t.ColorTimeline.ENTRIES])}else{if(!(u="attachment"))throw new Error("Invalid timeline type for a slot: "+u+" ("+a+")");(g=new t.AttachmentTimeline(l.length)).slotIndex=q;for(h=0,_=0;_<l.length;_++){p=l[_];g.setFrame(h++,p.time,p.name)}o.push(g),s=Math.max(s,g.frames[g.getFrameCount()-1])}}}if(e.bones)for(var f in e.bones){var b=e.bones[f],m=n.findBoneIndex(f);if(-1==m)throw new Error("Bone not found: "+f);for(var u in b){l=b[u];if("rotate"===u){(g=new t.RotateTimeline(l.length)).boneIndex=m;for(h=0,_=0;_<l.length;_++){p=l[_];g.setFrame(h,p.time,p.angle),this.readCurve(p,g,h),h++}o.push(g),s=Math.max(s,g.frames[(g.getFrameCount()-1)*t.RotateTimeline.ENTRIES])}else{if("translate"!==u&&"scale"!==u&&"shear"!==u)throw new Error("Invalid timeline type for a bone: "+u+" ("+f+")");var g=null,y=1;"scale"===u?g=new t.ScaleTimeline(l.length):"shear"===u?g=new t.ShearTimeline(l.length):(g=new t.TranslateTimeline(l.length),y=r),g.boneIndex=m;for(h=0,_=0;_<l.length;_++){p=l[_];var v=this.getValue(p,"x",0),w=this.getValue(p,"y",0);g.setFrame(h,p.time,v*y,w*y),this.readCurve(p,g,h),h++}o.push(g),s=Math.max(s,g.frames[(g.getFrameCount()-1)*t.TranslateTimeline.ENTRIES])}}}if(e.ik)for(var x in e.ik){var T=e.ik[x],S=n.findIkConstraint(x);(g=new t.IkConstraintTimeline(T.length)).ikConstraintIndex=n.ikConstraints.indexOf(S);for(h=0,_=0;_<T.length;_++){p=T[_];g.setFrame(h,p.time,this.getValue(p,"mix",1),this.getValue(p,"bendPositive",!0)?1:-1),this.readCurve(p,g,h),h++}o.push(g),s=Math.max(s,g.frames[(g.getFrameCount()-1)*t.IkConstraintTimeline.ENTRIES])}if(e.transform)for(var x in e.transform){T=e.transform[x],S=n.findTransformConstraint(x);(g=new t.TransformConstraintTimeline(T.length)).transformConstraintIndex=n.transformConstraints.indexOf(S);for(h=0,_=0;_<T.length;_++){p=T[_];g.setFrame(h,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,g,h),h++}o.push(g),s=Math.max(s,g.frames[(g.getFrameCount()-1)*t.TransformConstraintTimeline.ENTRIES])}if(e.paths)for(var x in e.paths){T=e.paths[x];var A=n.findPathConstraintIndex(x);if(-1==A)throw new Error("Path constraint not found: "+x);var C=n.pathConstraints[A];for(var u in T){l=T[u];if("position"===u||"spacing"===u){g=null,y=1;"spacing"===u?(g=new t.PathConstraintSpacingTimeline(l.length),C.spacingMode!=t.SpacingMode.Length&&C.spacingMode!=t.SpacingMode.Fixed||(y=r)):(g=new t.PathConstraintPositionTimeline(l.length),C.positionMode==t.PositionMode.Fixed&&(y=r)),g.pathConstraintIndex=A;for(h=0,_=0;_<l.length;_++){p=l[_];g.setFrame(h,p.time,this.getValue(p,u,0)*y),this.readCurve(p,g,h),h++}o.push(g),s=Math.max(s,g.frames[(g.getFrameCount()-1)*t.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===u){(g=new t.PathConstraintMixTimeline(l.length)).pathConstraintIndex=A;for(h=0,_=0;_<l.length;_++){p=l[_];g.setFrame(h,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,g,h),h++}o.push(g),s=Math.max(s,g.frames[(g.getFrameCount()-1)*t.PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(var E in e.deform){var P=e.deform[E],D=n.findSkin(E);if(null==D)throw new Error("Skin not found: "+E);for(var a in P){c=P[a];if(-1==(q=n.findSlotIndex(a)))throw new Error("Slot not found: "+c.name);for(var u in c){l=c[u];var M=D.getAttachment(q,u);if(null==M)throw new Error("Deform attachment not found: "+l.name);var R=null!=M.bones,I=M.vertices,O=R?I.length/3*2:I.length;(g=new t.DeformTimeline(l.length)).slotIndex=q,g.attachment=M;h=0;for(var k=0;k<l.length;k++){p=l[k];var L=void 0,j=this.getValue(p,"vertices",null);if(null==j)L=R?t.Utils.newFloatArray(O):I;else{L=t.Utils.newFloatArray(O);var B=this.getValue(p,"offset",0);if(t.Utils.arrayCopy(j,0,L,B,j.length),1!=r)for(var F=(_=B)+j.length;_<F;_++)L[_]*=r;if(!R)for(_=0;_<O;_++)L[_]+=I[_]}g.setFrame(h,p.time,L),this.readCurve(p,g,h),h++}o.push(g),s=Math.max(s,g.frames[g.getFrameCount()-1])}}}var J=e.drawOrder;if(null==J&&(J=e.draworder),null!=J){g=new t.DrawOrderTimeline(J.length);var G=n.slots.length;for(h=0,k=0;k<J.length;k++){var N=J[k],U=null,W=this.getValue(N,"offsets",null);if(null!=W){U=t.Utils.newArray(G,-1);var V=t.Utils.newArray(G-W.length,0),X=0,z=0;for(_=0;_<W.length;_++){var q,H=W[_];if(-1==(q=n.findSlotIndex(H.slot)))throw new Error("Slot not found: "+H.slot);for(;X!=q;)V[z++]=X++;U[X+H.offset]=X++}for(;X<G;)V[z++]=X++;for(_=G-1;_>=0;_--)-1==U[_]&&(U[_]=V[--z])}g.setFrame(h++,N.time,U)}o.push(g),s=Math.max(s,g.frames[g.getFrameCount()-1])}if(e.events){for(g=new t.EventTimeline(e.events.length),h=0,_=0;_<e.events.length;_++){var Y=e.events[_],Z=n.findEvent(Y.name);if(null==Z)throw new Error("Event not found: "+Y.name);var Q=new t.Event(Y.time,Z);Q.intValue=this.getValue(Y,"int",Z.intValue),Q.floatValue=this.getValue(Y,"float",Z.floatValue),Q.stringValue=this.getValue(Y,"string",Z.stringValue),g.setFrame(h++,Q)}o.push(g),s=Math.max(s,g.frames[g.getFrameCount()-1])}if(isNaN(s))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new t.Animation(i,o,s))},e.prototype.readCurve=function(t,e,i){if(t.curve)if("stepped"===t.curve)e.setStepped(i);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var n=t.curve;e.setCurve(i,n[0],n[1],n[2],n[3])}},e.prototype.getValue=function(t,e,i){return void 0!==t[e]?t[e]:i},e.blendModeFromString=function(t){if("multiply"===t)return PIXI.BLEND_MODES.MULTIPLY;if("additive"===t)return PIXI.BLEND_MODES.ADD;if("screen"===t)return PIXI.BLEND_MODES.SCREEN;if("normal"===t)return PIXI.BLEND_MODES.NORMAL;throw new Error("Unknown blend mode: "+t)},e.positionModeFromString=function(e){if("fixed"==(e=e.toLowerCase()))return t.PositionMode.Fixed;if("percent"==e)return t.PositionMode.Percent;throw new Error("Unknown position mode: "+e)},e.spacingModeFromString=function(e){if("length"==(e=e.toLowerCase()))return t.SpacingMode.Length;if("fixed"==e)return t.SpacingMode.Fixed;if("percent"==e)return t.SpacingMode.Percent;throw new Error("Unknown position mode: "+e)},e.rotateModeFromString=function(e){if("tangent"==(e=e.toLowerCase()))return t.RotateMode.Tangent;if("chain"==e)return t.RotateMode.Chain;if("chainscale"==e)return t.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+e)},e.transformModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.TransformMode.Normal;if("onlytranslation"==e)return t.TransformMode.OnlyTranslation;if("norotationorreflection"==e)return t.TransformMode.NoRotationOrReflection;if("noscale"==e)return t.TransformMode.NoScale;if("noscaleorreflection"==e)return t.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},e.transformModeLegacy=function(e,i){return console.log("Deprecation Warning: re-export your model with spine 3.5, or downgrade to pixi-spine 1.1 branch. There were many breaking changes, place breakpoint here if you want to know which model is broken"),e&&i?t.TransformMode.Normal:e?t.TransformMode.NoScaleOrReflection:i?t.TransformMode.NoRotationOrReflection:t.TransformMode.OnlyTranslation},e}();t.SkeletonJson=e;var i=function(){return function(t,e,i,n){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=n}}()}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function t(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.addAttachment=function(t,e,i){if(null==i)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=i},t.prototype.getAttachment=function(t,e){var i=this.attachments[t];return i?i[e]:null},t.prototype.attachAll=function(t,e){for(var i=0,n=0;n<t.slots.length;n++){var r=t.slots[n],o=r.getAttachment();if(o&&i<e.attachments.length){var s=e.attachments[i];for(var a in s){if(o==s[a]){var c=this.getAttachment(i,name);null!=c&&r.setAttachment(c);break}}}i++}},t}();t.Skin=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(e,i){if(this.attachmentVertices=new Array,null==e)throw new Error("data cannot be null.");if(null==i)throw new Error("bone cannot be null.");this.data=e,this.bone=i,this.color=new t.Color,this.blendMode=e.blendMode,this.setToSetupPose()}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}();t.Slot=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){return function(e,i,n){if(this.color=new t.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==i)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=e,this.name=i,this.boneData=n}}();t.SlotData=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e,i,n=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return i.MirroredRepeat;case"clamptoedge":return i.ClampToEdge;case"repeat":return i.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();t.Texture=n,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(e=t.TextureFilter||(t.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(i=t.TextureWrap||(t.TextureWrap={}));var r=function(){function t(){this.size=null}return Object.defineProperty(t.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),t}();t.TextureRegion=r}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(t,e,i){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,i)}return e.prototype.addTexture=function(e,i){for(var o=this.pages,s=null,a=0;a<o.length;a++)if(o[a].baseTexture===i.baseTexture){s=o[a];break}if(null===s){(s=new n).name="texturePage";var c=i.baseTexture;s.width=c.realWidth,s.height=c.realHeight,s.baseTexture=c,s.minFilter=s.magFilter=t.TextureFilter.Nearest,s.uWrap=t.TextureWrap.ClampToEdge,s.vWrap=t.TextureWrap.ClampToEdge,o.push(s)}var u=new r;return u.name=e,u.page=s,u.texture=i,u.index=-1,this.regions.push(u),u},e.prototype.addTextureHash=function(t,e){for(var i in t)t.hasOwnProperty(i)&&this.addTexture(e&&-1!==i.indexOf(".")?i.substr(0,i.lastIndexOf(".")):i,t[i])},e.prototype.addSpineAtlas=function(t,e,i){return this.load(t,e,i)},e.prototype.load=function(e,o,s){var a=this;if(null==o)throw new Error("textureLoader cannot be null.");var c=new i(e),u=new Array(4),l=null,h=function(){for(;;){var e=c.readLine();if(null==e)return s&&s(a);if(0==(e=e.trim()).length)l=null;else{if(!l){(l=new n).name=e,2==c.readTuple(u)&&(l.width=parseInt(u[0]),l.height=parseInt(u[1]),c.readTuple(u)),c.readTuple(u),l.minFilter=t.Texture.filterFromString(u[0]),l.magFilter=t.Texture.filterFromString(u[1]);var i=c.readValue();l.uWrap=t.TextureWrap.ClampToEdge,l.vWrap=t.TextureWrap.ClampToEdge,"x"==i?l.uWrap=t.TextureWrap.Repeat:"y"==i?l.vWrap=t.TextureWrap.Repeat:"xy"==i&&(l.uWrap=l.vWrap=t.TextureWrap.Repeat),o(e,function(t){l.baseTexture=t,t.hasLoaded||(t.width=l.width,t.height=l.height),a.pages.push(l),l.setFilters(),l.width&&l.height||(l.width=t.realWidth,l.height=t.realHeight,l.width&&l.height||console.log("ERROR spine atlas page "+l.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()}),a.pages.push(l);break}var _=new r;_.name=e,_.page=l;var p="true"==c.readValue()?6:0;c.readTuple(u);var d=parseInt(u[0]),f=parseInt(u[1]);c.readTuple(u);var b=parseInt(u[0]),m=parseInt(u[1]),g=l.baseTexture.resolution;d/=g,f/=g,b/=g,m/=g;var y=new PIXI.Rectangle(d,f,p?m:b,p?b:m);4==c.readTuple(u)&&4==c.readTuple(u)&&c.readTuple(u);var v=parseInt(u[0])/g,w=parseInt(u[1])/g;c.readTuple(u);var x=parseInt(u[0])/g,T=parseInt(u[1])/g,S=new PIXI.Rectangle(0,0,v,w),A=new PIXI.Rectangle(x,w-m-T,b,m);if("4"==PIXI.VERSION[0])_.texture=new PIXI.Texture(_.page.baseTexture,y,S,A,p);else{var C=new PIXI.Rectangle(d,f,b,m),E=C.clone();A.width=v,A.height=w,_.texture=new PIXI.Texture(_.page.baseTexture,C,E,A,p)}_.index=parseInt(c.readValue()),_.texture._updateUvs(),a.regions.push(_)}}};h()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},e}();t.TextureAtlas=e;var i=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),i=e.indexOf(":");if(-1==i)throw new Error("Invalid line: "+e);for(var n=0,r=i+1;n<3;n++){var o=e.indexOf(",",r);if(-1==o)break;t[n]=e.substr(r,o-r).trim(),r=o+1}return t[n]=e.substring(r).trim(),n+1},t}(),n=function(){function e(){}return e.prototype.setFilters=function(){var e=this.baseTexture,i=this.minFilter;i==t.TextureFilter.Linear?e.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==t.TextureFilter.Nearest?e.scaleMode=PIXI.SCALE_MODES.NEAREST:(e.mipmap=!0,i==t.TextureFilter.MipMapNearestNearest?e.scaleMode=PIXI.SCALE_MODES.NEAREST:e.scaleMode=PIXI.SCALE_MODES.LINEAR)},e}();t.TextureAtlasPage=n;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.TextureRegion);t.TextureAtlasRegion=r}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function e(e,i){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new t.Vector2,null==e)throw new Error("data cannot be null.");if(null==i)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(i.findBone(e.bones[n].name));this.target=i.findBone(e.target.name)}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){for(var e=this.rotateMix,i=this.translateMix,n=this.scaleMix,r=this.shearMix,o=this.target,s=o.matrix.a,a=o.matrix.c,c=o.matrix.b,u=o.matrix.d,l=this.bones,h=0,_=l.length;h<_;h++){var p=l[h],d=p.matrix,f=!1;if(0!=e){var b=d.a,m=d.c,g=d.b,y=d.d;(A=Math.atan2(c,s)-Math.atan2(g,b)+this.data.offsetRotation*t.MathUtils.degRad)>t.MathUtils.PI?A-=t.MathUtils.PI2:A<-t.MathUtils.PI&&(A+=t.MathUtils.PI2),A*=e;var v=Math.cos(A),w=Math.sin(A);d.a=v*b-w*g,d.c=v*m-w*y,d.b=w*b+v*g,d.d=w*m+v*y,f=!0}if(0!=i){var x=this.temp;o.localToWorld(x.set(this.data.offsetX,this.data.offsetY)),d.tx+=(x.x-d.tx)*i,d.ty+=(x.y-d.ty)*i,f=!0}if(n>0){var T=Math.sqrt(d.a*d.a+d.b*d.b),S=Math.sqrt(s*s+c*c);T>1e-5&&(T=(T+(S-T+this.data.offsetScaleX)*n)/T),d.a*=T,d.b*=T,T=Math.sqrt(d.c*d.c+d.d*d.d),S=Math.sqrt(a*a+u*u),T>1e-5&&(T=(T+(S-T+this.data.offsetScaleY)*n)/T),d.c*=T,d.d*=T,f=!0}if(r>0){m=d.c,y=d.d;var A,C=Math.atan2(y,m);(A=Math.atan2(u,a)-Math.atan2(c,s)-(C-Math.atan2(d.b,d.a)))>t.MathUtils.PI?A-=t.MathUtils.PI2:A<-t.MathUtils.PI&&(A+=t.MathUtils.PI2),A=C+(A+this.data.offsetShearY*t.MathUtils.degRad)*r;T=Math.sqrt(m*m+y*y);d.c=Math.cos(A)*T,d.d=Math.sin(A)*T,f=!0}f&&(p.appliedValid=!1)}},e.prototype.getOrder=function(){return this.data.order},e}();t.TransformConstraint=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){return function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,null==t)throw new Error("name cannot be null.");this.name=t}}();t.TransformConstraintData=e}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function t(){this.array=new Array}return t.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},t.prototype.contains=function(t){return void 0!=this.array[0|t]},t.prototype.remove=function(t){this.array[0|t]=void 0},t.prototype.clear=function(){this.array.length=0},t}();t.IntSet=e;var i=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=i,this.a=n}return t.prototype.set=function(t,e,i,n){return this.r=t,this.g=e,this.b=i,this.a=n,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,i,n){return this.r+=t,this.g+=e,this.b+=i,this.a+=n,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t}();i.WHITE=new i(1,1,1,1),i.RED=new i(1,0,0,1),i.GREEN=new i(0,1,0,1),i.BLUE=new i(0,0,1,1),i.MAGENTA=new i(1,0,1,1),t.Color=i;var n=function(){function t(){}return t.clamp=function(t,e,i){return t<e?e:t>i?i:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t}();n.PI=3.1415927,n.PI2=2*n.PI,n.radiansToDegrees=180/n.PI,n.radDeg=n.radiansToDegrees,n.degreesToRadians=n.PI/180,n.degRad=n.degreesToRadians,t.MathUtils=n;var r=function(){function t(){}return t.arrayCopy=function(t,e,i,n,r){for(var o=e,s=n;o<e+r;o++,s++)i[s]=t[o]},t.setArraySize=function(t,e,i){void 0===i&&(i=0);var n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var r=n;r<e;r++)t[r]=i;return t},t.ensureArrayCapacity=function(e,i,n){return void 0===n&&(n=0),e.length>=i?e:t.setArraySize(e,i,n)},t.newArray=function(t,e){for(var i=new Array(t),n=0;n<t;n++)i[n]=e;return i},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var i=new Array(e),n=0;n<i.length;n++)i[n]=0;return i},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t}();r.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t.Utils=r;var o=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++){var i=t.bones[e],n=i.matrix;console.log(i.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.tx+", "+n.ty)}},t}();t.DebugUtils=o;var s=function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},t.prototype.clear=function(){this.items.length=0},t}();t.Pool=s;var a=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}();t.Vector2=a;var c=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}();t.TimeKeeper=c}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){function e(){return function(e,n){if(!e.data||!function(t){var e=PIXI.loaders.Resource.TYPE;return e?t.type===e.JSON:t.isJson}(e)||!e.data.bones)return n();var r=e.metadata?e.metadata.spineAtlas:null;if(!1===r)return n();if(r&&r.pages){var o=new t.core.SkeletonJson(new t.core.AtlasAttachmentLoader(r)).readSkeletonData(e.data);return e.spineData=o,e.spineAtlas=r,n()}var s=".atlas";e.metadata&&e.metadata.spineAtlasSuffix&&(s=e.metadata.spineAtlasSuffix);var a=e.url.substr(0,e.url.lastIndexOf("."))+s;a=a.replace(this.baseUrl,"");var c={crossOrigin:e.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:e.metadata?e.metadata.spineMetadata:null,parentResource:e},u={crossOrigin:e.crossOrigin,metadata:e.metadata?e.metadata.imageMetadata:null,parentResource:e},l=e.url.substr(0,e.url.lastIndexOf("/")+1);l=l.replace(this.baseUrl,"");var h=i(this,e.name+"_atlas_page_",l,u);this.add(e.name+"_atlas",a,c,function(i){new t.core.TextureAtlas(i.xhr.responseText,h,function(i){var r=new t.core.SkeletonJson(new t.core.AtlasAttachmentLoader(i)).readSkeletonData(e.data);e.spineData=r,e.spineAtlas=i,n()})})}}function i(t,e,i,n){return i&&i.lastIndexOf("/")!==i.length-1&&(i+="/"),function(r,o){var s=e+r,a=i+r;t.add(s,a,n,function(t){o(t.texture.baseTexture)})}}t.atlasParser=e,t.imageLoaderAdapter=i,t.syncImageLoaderAdapter=function(t,e){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,i){i(PIXI.BaseTexture.fromImage(t,e))}},PIXI.loaders.Loader.addPixiMiddleware(e),PIXI.loader.use(e())}(pixi_spine||(pixi_spine={})),function(t){t.core.Bone.yDown=!0;var e=[0,0,0],i=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(PIXI.Sprite);t.SpineSprite=i;var n=function(t){function e(e,i,n,r,o){return t.call(this,e,i,n,r,o)||this}return __extends(e,t),e}(PIXI.mesh.Mesh);t.SpineMesh=n;var r=function(r){function s(e){var i=r.call(this)||this;if(i.hackTextureBySlotName=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,i)},!e)throw new Error("The spineData param is required.");if("string"==typeof e)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');i.spineData=e,i.skeleton=new t.core.Skeleton(e),i.skeleton.updateWorldTransform(),i.stateData=new t.core.AnimationStateData(e),i.state=new t.core.AnimationState(i.stateData),i.slotContainers=[];for(var n=0,o=i.skeleton.slots.length;n<o;n++){var s=i.skeleton.slots[n],a=s.attachment,c=new PIXI.Container;if(i.slotContainers.push(c),i.addChild(c),a instanceof t.core.RegionAttachment){var u=a.region.name,l=i.createSprite(s,a,u);s.currentSprite=l,s.currentSpriteName=u,c.addChild(l)}else{if(!(a instanceof t.core.MeshAttachment))continue;var h=i.createMesh(s,a);s.currentMesh=h,s.currentMeshName=a.name,c.addChild(h)}}return i.autoUpdate=!0,i.tintRgb=new Float32Array([1,1,1]),i}return __extends(s,r),Object.defineProperty(s.prototype,"autoUpdate",{get:function(){return this.updateTransform===s.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?s.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),s.prototype.update=function(i){this.state.update(i),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var n=this.skeleton.drawOrder,r=this.skeleton.slots,s=0,a=n.length;s<a;s++)this.children[s]=this.slotContainers[n[s].data.index];var c=this.tintRgb[0],u=this.tintRgb[1],l=this.tintRgb[2];for(s=0,a=r.length;s<a;s++){var h=r[s],_=h.attachment,p=this.slotContainers[s];if(_){var d=_.color;if(_ instanceof t.core.RegionAttachment){var f=_.region;if(f){h.currentMesh&&(h.currentMesh.visible=!1,h.currentMesh=null,h.currentMeshName=void 0);var b=f;if(!h.currentSpriteName||h.currentSpriteName!==b.name){var m=b.name;if(h.currentSprite&&(h.currentSprite.visible=!1),h.sprites=h.sprites||{},void 0!==h.sprites[m])h.sprites[m].visible=!0;else{var g=this.createSprite(h,_,m);p.addChild(g)}h.currentSprite=h.sprites[m],h.currentSpriteName=m}}if(p.transform){var y=p.transform,v=y,w=void 0;v.matrix2d?(w=v.matrix2d,v._dirtyVersion++,v.version=v._dirtyVersion,v.isStatic=!0,v.operMode=0):(v.position&&(y=new PIXI.TransformBase,p.transform=y),w=y.localTransform),h.bone.matrix.copy(w)}else{var x=p.localTransform||new PIXI.Matrix;h.bone.matrix.copy(x),p.localTransform=x,p.displayObjectUpdateTransform=o}e[0]=c*h.color.r*d.r,e[1]=u*h.color.g*d.g,e[2]=l*h.color.b*d.b,h.currentSprite.tint=PIXI.utils.rgb2hex(e),h.currentSprite.blendMode=h.blendMode}else{if(!(_ instanceof t.core.MeshAttachment)){p.visible=!1;continue}if(h.currentSprite&&(h.currentSprite.visible=!1,h.currentSprite=null,h.currentSpriteName=void 0,p.transform?p.transform=new PIXI.TransformStatic:(p.localTransform=new PIXI.Matrix,p.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),!h.currentMeshName||h.currentMeshName!==_.name){var T=_.name;if(h.currentMesh&&(h.currentMesh.visible=!1),h.meshes=h.meshes||{},void 0!==h.meshes[T])h.meshes[T].visible=!0;else{var S=this.createMesh(h,_);p.addChild(S)}h.currentMesh=h.meshes[T],h.currentMeshName=T}if(_.computeWorldVertices(h,h.currentMesh.vertices),"3"!==PIXI.VERSION[0]){var A=h.currentMesh.tintRgb;A[0]=c*h.color.r*d.r,A[1]=u*h.color.g*d.g,A[2]=l*h.color.b*d.b}h.currentMesh.blendMode=h.blendMode}p.visible=!0,p.alpha=h.color.a}else p.visible=!1}},s.prototype.setSpriteRegion=function(t,e,i){e.region=i,e.texture=i.texture,i.size?(e.scale.x=i.size.width/i.originalWidth,e.scale.y=-i.size.height/i.originalHeight):(e.scale.x=t.scaleX*t.width/i.originalWidth,e.scale.y=-t.scaleY*t.height/i.originalHeight)},s.prototype.setMeshRegion=function(t,e,i){e.region=i,e.texture=i.texture,t.updateUVs(i,e.uvs),e.dirty++},s.prototype.autoUpdateTransform=function(){if(s.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},s.prototype.createSprite=function(e,n,r){var o=n.region;e.tempAttachment===n&&(o=e.tempRegion,e.tempAttachment=null,e.tempRegion=null);var s=o.texture,a=new i(s);return a.rotation=n.rotation*t.core.MathUtils.degRad,a.anchor.x=.5,a.anchor.y=.5,a.position.x=n.x,a.position.y=n.y,a.alpha=n.color.a,a.region=n.region,this.setSpriteRegion(n,a,n.region),e.sprites=e.sprites||{},e.sprites[r]=a,a},s.prototype.createMesh=function(t,e){var i=e.region;t.tempAttachment===e&&(i=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var r=new n(i.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return r.canvasPadding=1.5,r.alpha=e.color.a,r.region=e.region,this.setMeshRegion(e,r,i),t.meshes=t.meshes||{},t.meshes[e.name]=r,r},s.prototype.hackTextureBySlotIndex=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null);var r=this.skeleton.slots[e];if(!r)return!1;var o=r.attachment,s=o.region;return i&&((s=new t.core.TextureRegion).texture=i,s.size=n),r.currentSprite&&r.currentSprite.region!=s?(this.setSpriteRegion(o,r.currentSprite,s),r.currentSprite.region=s):r.currentMesh&&r.currentMesh.region!=s?this.setMeshRegion(o,r.currentMesh,s):(r.tempRegion=s,r.tempAttachment=o),!0},s}(PIXI.Container);function o(){var t=this.parent.worldTransform,e=this.worldTransform,i=this.localTransform;e.a=i.a*t.a+i.b*t.c,e.b=i.a*t.b+i.b*t.d,e.c=i.c*t.a+i.d*t.c,e.d=i.c*t.b+i.d*t.d,e.tx=i.tx*t.a+i.ty*t.c+t.tx,e.ty=i.tx*t.b+i.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}r.globalAutoUpdate=!0,t.Spine=r}(pixi_spine||(pixi_spine={})),PIXI.spine=pixi_spine;var Box2D=function(Box2D){Box2D=Box2D||{};var Module=Box2D,b;b||(b=eval("(function() { try { return Box2D || {} } catch(e) { return {} } })()"));var aa={},ba;for(ba in b)b.hasOwnProperty(ba)&&(aa[ba]=b[ba]);var ca=!1,da=!1,fa=!1,ga=!1,ha,ia;if(b.ENVIRONMENT)if("WEB"===b.ENVIRONMENT)ca=!0;else if("WORKER"===b.ENVIRONMENT)da=!0;else if("NODE"===b.ENVIRONMENT)fa=!0;else{if("SHELL"!==b.ENVIRONMENT)throw Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");ga=!0}else ca="object"==typeof window,da="function"==typeof importScripts,fa="object"==typeof process&&"function"==typeof require&&!ca&&!da,ga=!ca&&!fa&&!da;if(fa)b.print||(b.print=console.log),b.printErr||(b.printErr=console.warn),b.read=function(t,e){ha||(ha=require("fs")),ia||(ia=require("path")),t=ia.normalize(t);var i=ha.readFileSync(t);return e?i:i.toString()},b.readBinary=function(t){return(t=b.read(t,!0)).buffer||(t=new Uint8Array(t)),assert(t.buffer),t},b.load=function(t){ja(read(t))},b.thisProgram||(b.thisProgram=1<process.argv.length?process.argv[1].replace(/\\/g,"/"):"unknown-program"),b.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=b),process.on("uncaughtException",function(t){if(!(t instanceof ka))throw t}),b.inspect=function(){return"[Emscripten Module object]"};else if(ga)b.print||(b.print=print),"undefined"!=typeof printErr&&(b.printErr=printErr),b.read="undefined"!=typeof read?read:function(){throw"no read() available"},b.readBinary=function(t){return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(assert("object"==typeof(t=read(t,"binary"))),t)},"undefined"!=typeof scriptArgs?b.arguments=scriptArgs:void 0!==arguments&&(b.arguments=arguments),"function"==typeof quit&&(b.quit=function(t){quit(t)}),eval("if (typeof gc === 'function' && gc.toString().indexOf('[native code]') > 0) var gc = undefined");else{if(!ca&&!da)throw"Unknown runtime environment. Where are we?";b.read=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},da&&(b.readBinary=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),e.response}),b.readAsync=function(t,e,i){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?e(n.response):i()},n.onerror=i,n.send(null)},void 0!==arguments&&(b.arguments=arguments),"undefined"!=typeof console?(b.print||(b.print=function(t){console.log(t)}),b.printErr||(b.printErr=function(t){console.warn(t)})):b.print||(b.print=function(){}),da&&(b.load=importScripts),void 0===b.setWindowTitle&&(b.setWindowTitle=function(t){document.title=t})}function ja(t){eval.call(null,t)}for(ba in!b.load&&b.read&&(b.load=function(t){ja(b.read(t))}),b.print||(b.print=function(){}),b.printErr||(b.printErr=b.print),b.arguments||(b.arguments=[]),b.thisProgram||(b.thisProgram="./this.program"),b.quit||(b.quit=function(t,e){throw e}),b.print=b.print,b.h=b.printErr,b.preRun=[],b.postRun=[],aa)aa.hasOwnProperty(ba)&&(b[ba]=aa[ba]);var aa=void 0,d={f:function(t){return tempRet0=t},H:function(){return tempRet0},L:function(){return la},K:function(t){la=t},s:function(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return"*"===t[t.length-1]?d.j:"i"===t[0]?(assert(0==(t=parseInt(t.substr(1)))%8),t/8):0}},F:function(t){return Math.max(d.s(t),d.j)},M:16,Z:function(t,e){return"double"===e||"i64"===e?7&t&&(assert(4==(7&t)),t+=4):assert(0==(3&t)),t},S:function(t,e,i){return i||"i64"!=t&&"double"!=t?t?Math.min(e||(t?d.F(t):0),d.j):Math.min(e,8):8},l:function(t,e,i){return i&&i.length?b["dynCall_"+t].apply(null,[e].concat(i)):b["dynCall_"+t].call(null,e)},d:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],v:function(t){for(var e=0;e<d.d.length;e++)if(!d.d[e])return d.d[e]=t,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},J:function(t){d.d[(t-2)/2]=null},g:function(t){d.g.n||(d.g.n={}),d.g.n[t]||(d.g.n[t]=1,b.h(t))},m:{},U:function(t,e){assert(e),d.m[e]||(d.m[e]={});var i=d.m[e];return i[t]||(i[t]=1===e.length?function(){return d.l(e,t)}:2===e.length?function(i){return d.l(e,t,[i])}:function(){return d.l(e,t,Array.prototype.slice.call(arguments))}),i[t]},T:function(){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},t:function(t){var e=la;return la=(la=la+t|0)+15&-16,e},u:function(t){var e=ma;return ma=(ma=ma+t|0)+15&-16,e},D:function(t){var e=oa[pa>>2];return t=-16&(e+t+15|0),oa[pa>>2]=t,(t=t>=qa)&&(ra(),t=!0),t?(oa[pa>>2]=e,0):e},p:function(t,e){return Math.ceil(t/(e||16))*(e||16)},Y:function(t,e,i){return i?+(t>>>0)+4294967296*+(e>>>0):+(t>>>0)+4294967296*+(0|e)},i:8,j:4,N:0};d.addFunction=d.v,d.removeFunction=d.J;var sa=0;function assert(t,e){t||ta("Assertion failed: "+e)}function ua(t){var e;switch("*"===(e="i32").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return wa[t>>0];case"i16":return xa[t>>1];case"i32":case"i64":return oa[t>>2];case"float":return ya[t>>2];case"double":return za[t>>3];default:ta("invalid type for setValue: "+e)}return null}function Aa(t,e,i,n){var r,o;"number"==typeof t?(r=!0,o=t):(r=!1,o=t.length);var s,a,c="string"==typeof e?e:null;if(i=4==i?n:["function"==typeof Ba?Ba:d.u,d.t,d.u,d.D][void 0===i?2:i](Math.max(o,c?1:e.length)),r){for(n=i,assert(0==(3&i)),t=i+(-4&o);n<t;n+=4)oa[n>>2]=0;for(t=i+o;n<t;)wa[n++>>0]=0;return i}if("i8"===c)return t.subarray||t.slice?Ca.set(t,i):Ca.set(new Uint8Array(t),i),i;for(n=0;n<o;){var u=t[n];if("function"==typeof u&&(u=d.V(u)),0===(r=c||e[n]))n++;else{"i64"==r&&(r="i32");var l,h=i+n;switch("*"===(l=(l=r)||"i8").charAt(l.length-1)&&(l="i32"),l){case"i1":case"i8":wa[h>>0]=u;break;case"i16":xa[h>>1]=u;break;case"i32":oa[h>>2]=u;break;case"i64":tempI64=[u>>>0,(tempDouble=u,1<=+Da(tempDouble)?0<tempDouble?(0|Ea(+Fa(tempDouble/4294967296),4294967295))>>>0:~~+Ga((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],oa[h>>2]=tempI64[0],oa[h+4>>2]=tempI64[1];break;case"float":ya[h>>2]=u;break;case"double":za[h>>3]=u;break;default:ta("invalid type for setValue: "+l)}a!==r&&(s=d.s(r),a=r),n+=s}}return i}function Ha(t){var e;if(0===e||!t)return"";for(var i,n=0,r=0;(n|=i=Ca[t+r>>0],0!=i||e)&&(r++,!e||r!=e););if(e||(e=r),i="",128>n){for(;0<e;)n=String.fromCharCode.apply(String,Ca.subarray(t,t+Math.min(e,1024))),i=i?i+n:n,t+=1024,e-=1024;return i}return b.UTF8ToString(t)}var Ia="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,buffer,wa,Ca,xa,Oa,oa,Pa,ya,za,Qa,ma,Ra,la,Sa,Ta,pa;function Ja(t,e,i,n){if(0<n){n=i+n-1;for(var r=0;r<t.length;++r){var o=t.charCodeAt(r);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++r)),127>=o){if(i>=n)break;e[i++]=o}else{if(2047>=o){if(i+1>=n)break;e[i++]=192|o>>6}else{if(65535>=o){if(i+2>=n)break;e[i++]=224|o>>12}else{if(2097151>=o){if(i+3>=n)break;e[i++]=240|o>>18}else{if(67108863>=o){if(i+4>=n)break;e[i++]=248|o>>24}else{if(i+5>=n)break;e[i++]=252|o>>30,e[i++]=128|o>>24&63}e[i++]=128|o>>18&63}e[i++]=128|o>>12&63}e[i++]=128|o>>6&63}e[i++]=128|63&o}}e[i]=0}}function Ka(t){for(var e=0,i=0;i<t.length;++i){var n=t.charCodeAt(i);55296<=n&&57343>=n&&(n=65536+((1023&n)<<10)|1023&t.charCodeAt(++i)),127>=n?++e:e=2047>=n?e+2:65535>=n?e+3:2097151>=n?e+4:67108863>=n?e+5:e+6}return e}function La(t){return t.replace(/__Z[\w\d_]+/g,function(t){var e;t:{var i=b.___cxa_demangle||b.__cxa_demangle;if(i)try{var n=t.substr(1),r=Ka(n)+1,o=Ba(r);Ja(n,Ca,o,r);var s=Ba(4),a=i(o,0,0,s);if(0===ua(s)&&a){e=Ha(a);break t}}catch(t){}finally{o&&Ma(o),s&&Ma(s),a&&Ma(a)}else d.g("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");e=t}return t===e?t:t+" ["+e+"]"})}function Na(){var t;t:{if(!(t=Error()).stack){try{throw Error(0)}catch(e){t=e}if(!t.stack){t="(no stack trace available)";break t}}t=t.stack.toString()}return b.extraStackTrace&&(t+="\n"+b.extraStackTrace()),La(t)}function ra(){ta("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+qa+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),Qa=ma=Ra=la=Sa=Ta=pa=0;var Ua=b.TOTAL_STACK||5242880,qa=b.TOTAL_MEMORY||16777216;if(qa<Ua&&b.h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+qa+"! (TOTAL_STACK="+Ua+")"),buffer=b.buffer?b.buffer:new ArrayBuffer(qa),b.HEAP8=wa=new Int8Array(buffer),b.HEAP16=xa=new Int16Array(buffer),b.HEAP32=oa=new Int32Array(buffer),b.HEAPU8=Ca=new Uint8Array(buffer),b.HEAPU16=Oa=new Uint16Array(buffer),b.HEAPU32=Pa=new Uint32Array(buffer),b.HEAPF32=ya=new Float32Array(buffer),b.HEAPF64=za=new Float64Array(buffer),oa[0]=1668509029,xa[1]=25459,115!==Ca[2]||99!==Ca[3])throw"Runtime error: expected the system to be little-endian!";function Va(t){for(;0<t.length;){var e=t.shift();if("function"==typeof e)e();else{var i=e.R;"number"==typeof i?void 0===e.k?b.dynCall_v(i):b.dynCall_vi(i,e.k):i(void 0===e.k?null:e.k)}}}b.HEAP=void 0,b.buffer=buffer,b.HEAP8=wa,b.HEAP16=xa,b.HEAP32=oa,b.HEAPU8=Ca,b.HEAPU16=Oa,b.HEAPU32=Pa,b.HEAPF32=ya,b.HEAPF64=za;var Wa=[],Ya=[],Za=[],$a=[],ab=[],bb=!1;function cb(){var t=b.preRun.shift();Wa.unshift(t)}function db(t){var e=Array(Ka(t)+1);return Ja(t,e,0,e.length),e}Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(t,e){var i=65535&t,n=65535&e;return i*n+((t>>>16)*n+i*(e>>>16)<<16)|0}),Math.W=Math.imul,Math.clz32||(Math.clz32=function(t){t>>>=0;for(var e=0;32>e;e++)if(t&1<<31-e)return e;return 32}),Math.P=Math.clz32,Math.trunc||(Math.trunc=function(t){return 0>t?Math.ceil(t):Math.floor(t)}),Math.trunc=Math.trunc;var Da=Math.abs,Ga=Math.ceil,Fa=Math.floor,Ea=Math.min;b.preloadedImages={},b.preloadedAudios={};var eb=[function(t,e){var i=b.getCache(b.JSDestructionListener)[t];if(!i.hasOwnProperty("SayGoodbyeJoint"))throw"a JSImplementation must implement all functions, you forgot JSDestructionListener::SayGoodbyeJoint.";i.SayGoodbyeJoint(e)},function(t,e){var i=b.getCache(b.JSDestructionListener)[t];if(!i.hasOwnProperty("SayGoodbyeFixture"))throw"a JSImplementation must implement all functions, you forgot JSDestructionListener::SayGoodbyeFixture.";i.SayGoodbyeFixture(e)},function(t,e){var i=b.getCache(b.JSQueryCallback)[t];if(!i.hasOwnProperty("ReportFixture"))throw"a JSImplementation must implement all functions, you forgot JSQueryCallback::ReportFixture.";return i.ReportFixture(e)},function(t,e,i,n,r){if(!(t=b.getCache(b.JSRayCastCallback)[t]).hasOwnProperty("ReportFixture"))throw"a JSImplementation must implement all functions, you forgot JSRayCastCallback::ReportFixture.";return t.ReportFixture(e,i,n,r)},function(t,e){var i=b.getCache(b.JSContactListener)[t];if(!i.hasOwnProperty("BeginContact"))throw"a JSImplementation must implement all functions, you forgot JSContactListener::BeginContact.";i.BeginContact(e)},function(t,e){var i=b.getCache(b.JSContactListener)[t];if(!i.hasOwnProperty("EndContact"))throw"a JSImplementation must implement all functions, you forgot JSContactListener::EndContact.";i.EndContact(e)},function(t,e,i){if(!(t=b.getCache(b.JSContactListener)[t]).hasOwnProperty("PreSolve"))throw"a JSImplementation must implement all functions, you forgot JSContactListener::PreSolve.";t.PreSolve(e,i)},function(t,e,i){if(!(t=b.getCache(b.JSContactListener)[t]).hasOwnProperty("PostSolve"))throw"a JSImplementation must implement all functions, you forgot JSContactListener::PostSolve.";t.PostSolve(e,i)},function(t,e,i){if(!(t=b.getCache(b.JSContactFilter)[t]).hasOwnProperty("ShouldCollide"))throw"a JSImplementation must implement all functions, you forgot JSContactFilter::ShouldCollide.";return t.ShouldCollide(e,i)},function(t,e,i,n){if(!(t=b.getCache(b.JSDraw)[t]).hasOwnProperty("DrawPolygon"))throw"a JSImplementation must implement all functions, you forgot JSDraw::DrawPolygon.";t.DrawPolygon(e,i,n)},function(t,e,i,n){if(!(t=b.getCache(b.JSDraw)[t]).hasOwnProperty("DrawSolidPolygon"))throw"a JSImplementation must implement all functions, you forgot JSDraw::DrawSolidPolygon.";t.DrawSolidPolygon(e,i,n)},function(t,e,i,n){if(!(t=b.getCache(b.JSDraw)[t]).hasOwnProperty("DrawCircle"))throw"a JSImplementation must implement all functions, you forgot JSDraw::DrawCircle.";t.DrawCircle(e,i,n)},function(t,e,i,n,r){if(!(t=b.getCache(b.JSDraw)[t]).hasOwnProperty("DrawSolidCircle"))throw"a JSImplementation must implement all functions, you forgot JSDraw::DrawSolidCircle.";t.DrawSolidCircle(e,i,n,r)},function(t,e,i,n){if(!(t=b.getCache(b.JSDraw)[t]).hasOwnProperty("DrawSegment"))throw"a JSImplementation must implement all functions, you forgot JSDraw::DrawSegment.";t.DrawSegment(e,i,n)},function(t,e){var i=b.getCache(b.JSDraw)[t];if(!i.hasOwnProperty("DrawTransform"))throw"a JSImplementation must implement all functions, you forgot JSDraw::DrawTransform.";i.DrawTransform(e)}];Qa=d.i,ma=Qa+21888,Ya.push(),Aa([80,8,0,0,247,8,0,0,160,8,0,0,216,8,0,0,0,0,0,0,1,0,0,0,8,0,0,0,0,0,0,0,120,8,0,0,192,8,0,0,16,0,0,0,0,0,0,0,80,8,0,0,179,11,0,0,120,8,0,0,161,11,0,0,56,0,0,0,0,0,0,0,80,8,0,0,205,12,0,0,120,8,0,0,185,12,0,0,80,0,0,0,0,0,0,0,80,8,0,0,246,13,0,0,120,8,0,0,226,13,0,0,104,0,0,0,0,0,0,0,120,8,0,0,226,17,0,0,8,1,0,0,0,0,0,0,80,8,0,0,243,18,0,0,120,8,0,0,235,18,0,0,144,0,0,0,0,0,0,0,120,8,0,0,186,24,0,0,184,0,0,0,0,0,0,0,80,8,0,0,201,24,0,0,120,8,0,0,58,26,0,0,224,0,0,0,0,0,0,0,120,8,0,0,171,25,0,0,224,0,0,0,0,0,0,0,80,8,0,0,185,25,0,0,120,8,0,0,73,26,0,0,224,0,0,0,0,0,0,0,120,8,0,0,244,26,0,0,224,0,0,0,0,0,0,0,80,8,0,0,5,27,0,0,120,8,0,0,151,27,0,0,32,1,0,0,0,0,0,0,80,8,0,0,177,27,0,0,120,8,0,0,188,27,0,0,32,1,0,0,0,0,0,0,120,8,0,0,215,27,0,0,32,1,0,0,0,0,0,0,120,8,0,0,233,27,0,0,32,1,0,0,0,0,0,0,120,8,0,0,2,28,0,0,32,1,0,0,0,0,0,0,120,8,0,0,28,28,0,0,32,1,0,0,0,0,0,0,120,8,0,0,162,28,0,0,32,1,0,0,0,0,0,0,120,8,0,0,231,28,0,0,184,0,0,0,0,0,0,0,120,8,0,0,72,29,0,0,184,0,0,0,0,0,0,0,120,8,0,0,166,29,0,0,184,0,0,0,0,0,0,0,120,8,0,0,75,30,0,0,184,0,0,0,0,0,0,0,120,8,0,0,216,30,0,0,184,0,0,0,0,0,0,0,120,8,0,0,162,31,0,0,184,0,0,0,0,0,0,0,120,8,0,0,34,32,0,0,184,0,0,0,0,0,0,0,120,8,0,0,101,32,0,0,184,0,0,0,0,0,0,0,120,8,0,0,169,32,0,0,184,0,0,0,0,0,0,0,120,8,0,0,97,34,0,0,184,0,0,0,0,0,0,0,80,8,0,0,155,70,0,0,120,8,0,0,251,70,0,0,64,2,0,0,0,0,0,0,120,8,0,0,168,70,0,0,80,2,0,0,0,0,0,0,80,8,0,0,201,70,0,0,120,8,0,0,214,70,0,0,48,2,0,0,0,0,0,0,120,8,0,0,1,72,0,0,64,2,0,0,0,0,0,0,120,8,0,0,221,71,0,0,104,2,0,0,0,0,0,0,120,8,0,0,35,72,0,0,48,2,0,0,0,0,0,0,0,0,0,0,40,0,0,0,42,0,0,0,43,0,0,0,42,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,0,0,0,0,64,0,0,0,44,0,0,0,45,0,0,0,42,0,0,0,0,0,0,0,88,0,0,0,46,0,0,0,47,0,0,0,42,0,0,0,0,0,0,0,112,0,0,0,48,0,0,0,49,0,0,0,46,0,0,0,47,0,0,0,42,0,0,0,43,0,0,0,0,0,0,0,128,0,0,0,50,0,0,0,51,0,0,0,42,0,0,0,0,0,0,0,152,0,0,0,52,0,0,0,53,0,0,0,42,0,0,0,43,0,0,0,42,0,0,0,42,0,0,0,44,0,0,0,48,0,0,0,0,0,0,0,168,0,0,0,49,0,0,0,50,0,0,0,42,0,0,0,42,0,0,0,54,0,0,0,51,0,0,0,55,0,0,0,56,0,0,0,52,0,0,0,53,0,0,0,43,0,0,0,0,0,0,0,192,0,0,0,57,0,0,0,58,0,0,0,44,0,0,0,42,0,0,0,43,0,0,0,42,0,0,0,45,0,0,0,43,0,0,0,0,0,0,0,208,0,0,0,59,0,0,0,60,0,0,0,45,0,0,0,43,0,0,0,44,0,0,0,43,0,0,0,46,0,0,0,44,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,0,1,0,0,64,1,0,0,128,1,0,0,192,1,0,0,0,2,0,0,128,2,0,0,0,0,0,0,232,0,0,0,59,0,0,0,61,0,0,0,46,0,0,0,44,0,0,0,45,0,0,0,44,0,0,0,47,0,0,0,45,0,0,0,0,0,0,0,248,0,0,0,59,0,0,0,62,0,0,0,47,0,0,0,45,0,0,0,46,0,0,0,45,0,0,0,48,0,0,0,46,0,0,0,84,4,0,0,0,0,0,0,8,1,0,0,50,0,0,0,63,0,0,0,47,0,0,0,108,4,0,0,0,0,0,0,104,0,0,0,48,0,0,0,64,0,0,0,54,0,0,0,55,0,0,0,44,0,0,0,45,0,0,0,0,0,0,0,16,1,0,0,49,0,0,0,65,0,0,0,66,0,0,0,0,0,0,0,40,1,0,0,50,0,0,0,65,0,0,0,67,0,0,0,0,0,0,0,56,1,0,0,51,0,0,0,65,0,0,0,68,0,0,0,0,0,0,0,72,1,0,0,52,0,0,0,65,0,0,0,69,0,0,0,0,0,0,0,88,1,0,0,53,0,0,0,65,0,0,0,70,0,0,0,0,0,0,0,104,1,0,0,54,0,0,0,65,0,0,0,71,0,0,0,0,0,0,0,120,1,0,0,55,0,0,0,65,0,0,0,72,0,0,0,0,0,0,0,136,1,0,0,56,0,0,0,57,0,0,0,47,0,0,0,43,0,0,0,73,0,0,0,51,0,0,0,55,0,0,0,74,0,0,0,58,0,0,0,59,0,0,0,48,0,0,0,0,0,0,0,152,1,0,0,60,0,0,0,61,0,0,0,48,0,0,0,44,0,0,0,75,0,0,0,51,0,0,0,55,0,0,0,76,0,0,0,62,0,0,0,63,0,0,0,49,0,0,0,0,0,0,0,168,1,0,0,64,0,0,0,65,0,0,0,49,0,0,0,45,0,0,0,77,0,0,0,51,0,0,0,55,0,0,0,78,0,0,0,66,0,0,0,67,0,0,0,50,0,0,0,0,0,0,0,184,1,0,0,68,0,0,0,69,0,0,0,50,0,0,0,46,0,0,0,79,0,0,0,70,0,0,0,55,0,0,0,80,0,0,0,71,0,0,0,72,0,0,0,51,0,0,0,0,0,0,0,200,1,0,0,73,0,0,0,74,0,0,0,51,0,0,0,47,0,0,0,81,0,0,0,51,0,0,0,55,0,0,0,82,0,0,0,75,0,0,0,76,0,0,0,52,0,0,0,0,0,0,0,216,1,0,0,77,0,0,0,78,0,0,0,52,0,0,0,48,0,0,0,83,0,0,0,79,0,0,0,55,0,0,0,84,0,0,0,80,0,0,0,81,0,0,0,53,0,0,0,0,0,0,0,232,1,0,0,82,0,0,0,83,0,0,0,53,0,0,0,49,0,0,0,85,0,0,0,51,0,0,0,55,0,0,0,86,0,0,0,84,0,0,0,85,0,0,0,54,0,0,0,0,0,0,0,248,1,0,0,86,0,0,0,87,0,0,0,54,0,0,0,50,0,0,0,87,0,0,0,51,0,0,0,55,0,0,0,88,0,0,0,88,0,0,0,89,0,0,0,55,0,0,0,0,0,0,0,8,2,0,0,90,0,0,0,91,0,0,0,55,0,0,0,51,0,0,0,89,0,0,0,51,0,0,0,55,0,0,0,90,0,0,0,92,0,0,0,93,0,0,0,56,0,0,0,0,0,0,0,24,2,0,0,94,0,0,0,95,0,0,0,56,0,0,0,52,0,0,0,91,0,0,0,51,0,0,0,55,0,0,0,92,0,0,0,96,0,0,0,97,0,0,0,57,0,0,0,0,0,0,0,184,0,0,0,42,0,0,0,42,0,0,0,42,0,0,0,42,0,0,0,93,0,0,0,51,0,0,0,55,0,0,0,94,0,0,0,42,0,0,0,42,0,0,0,42,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,0,0,0,49,0,0,0,119,81,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,50,0,0,0,49,0,0,0,127,85,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,43,0,0,0,0,0,0,0,48,2,0,0,95,0,0,0,96,0,0,0,97,0,0,0,98,0,0,0,51,0,0,0,42,0,0,0,42,0,0,0,56,0,0,0,0,0,0,0,88,2,0,0,95,0,0,0,99,0,0,0,97,0,0,0,98,0,0,0,51,0,0,0,43,0,0,0,43,0,0,0,57,0,0,0,0,0,0,0,136,2,0,0,95,0,0,0,100,0,0,0,97,0,0,0,98,0,0,0,51,0,0,0,44,0,0,0,44,0,0,0,58,0,0,0,50,49,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,0,50,56,98,50,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,87,114,97,112,112,101,114,0,50,49,98,50,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,58,58,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,46,39,59,32,115,101,108,102,91,39,83,97,121,71,111,111,100,98,121,101,74,111,105,110,116,39,93,40,36,49,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,58,58,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,46,39,59,32,115,101,108,102,91,39,83,97,121,71,111,111,100,98,121,101,70,105,120,116,117,114,101,39,93,40,36,49,41,59,32,125,0,98,50,73,115,86,97,108,105,100,40,100,101,110,115,105,116,121,41,32,38,38,32,100,101,110,115,105,116,121,32,62,61,32,48,46,48,102,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,70,105,120,116,117,114,101,46,104,0,83,101,116,68,101,110,115,105,116,121,0,48,32,60,61,32,99,104,105,108,100,73,110,100,101,120,32,38,38,32,99,104,105,108,100,73,110,100,101,120,32,60,32,109,95,112,114,111,120,121,67,111,117,110,116,0,71,101,116,65,65,66,66,0,49,53,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,0,49,53,98,50,81,117,101,114,121,67,97,108,108,98,97,99,107,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,82,101,112,111,114,116,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,81,117,101,114,121,67,97,108,108,98,97,99,107,58,58,82,101,112,111,114,116,70,105,120,116,117,114,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,91,39,82,101,112,111,114,116,70,105,120,116,117,114,101,39,93,40,36,49,41,59,32,125,0,49,55,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,49,55,98,50,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,82,101,112,111,114,116,70,105,120,116,117,114,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,58,58,82,101,112,111,114,116,70,105,120,116,117,114,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,91,39,82,101,112,111,114,116,70,105,120,116,117,114,101,39,93,40,36,49,44,36,50,44,36,51,44,36,52,41,59,32,125,0,49,55,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,49,55,98,50,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,66,101,103,105,110,67,111,110,116,97,99,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,66,101,103,105,110,67,111,110,116,97,99,116,46,39,59,32,115,101,108,102,91,39,66,101,103,105,110,67,111,110,116,97,99,116,39,93,40,36,49,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,69,110,100,67,111,110,116,97,99,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,69,110,100,67,111,110,116,97,99,116,46,39,59,32,115,101,108,102,91,39,69,110,100,67,111,110,116,97,99,116,39,93,40,36,49,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,80,114,101,83,111,108,118,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,80,114,101,83,111,108,118,101,46,39,59,32,115,101,108,102,91,39,80,114,101,83,111,108,118,101,39,93,40,36,49,44,36,50,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,80,111,115,116,83,111,108,118,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,58,58,80,111,115,116,83,111,108,118,101,46,39,59,32,115,101,108,102,91,39,80,111,115,116,83,111,108,118,101,39,93,40,36,49,44,36,50,41,59,32,125,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,80,111,108,121,103,111,110,83,104,97,112,101,46,104,0,49,53,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,83,104,111,117,108,100,67,111,108,108,105,100,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,67,111,110,116,97,99,116,70,105,108,116,101,114,58,58,83,104,111,117,108,100,67,111,108,108,105,100,101,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,91,39,83,104,111,117,108,100,67,111,108,108,105,100,101,39,93,40,36,49,44,36,50,41,59,32,125,0,54,74,83,68,114,97,119,0,54,98,50,68,114,97,119,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,80,111,108,121,103,111,110,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,80,111,108,121,103,111,110,46,39,59,32,115,101,108,102,91,39,68,114,97,119,80,111,108,121,103,111,110,39,93,40,36,49,44,36,50,44,36,51,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,46,39,59,32,115,101,108,102,91,39,68,114,97,119,83,111,108,105,100,80,111,108,121,103,111,110,39,93,40,36,49,44,36,50,44,36,51,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,67,105,114,99,108,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,67,105,114,99,108,101,46,39,59,32,115,101,108,102,91,39,68,114,97,119,67,105,114,99,108,101,39,93,40,36,49,44,36,50,44,36,51,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,46,39,59,32,115,101,108,102,91,39,68,114,97,119,83,111,108,105,100,67,105,114,99,108,101,39,93,40,36,49,44,36,50,44,36,51,44,36,52,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,83,101,103,109,101,110,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,83,101,103,109,101,110,116,46,39,59,32,115,101,108,102,91,39,68,114,97,119,83,101,103,109,101,110,116,39,93,40,36,49,44,36,50,44,36,51,41,59,32,125,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,74,83,68,114,97,119,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,68,114,97,119,84,114,97,110,115,102,111,114,109,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,74,83,68,114,97,119,58,58,68,114,97,119,84,114,97,110,115,102,111,114,109,46,39,59,32,115,101,108,102,91,39,68,114,97,119,84,114,97,110,115,102,111,114,109,39,93,40,36,49,41,59,32,125,0,32,32,98,50,77,111,116,111,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,108,105,110,101,97,114,79,102,102,115,101,116,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,97,110,103,117,108,97,114,79,102,102,115,101,116,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,99,111,114,114,101,99,116,105,111,110,70,97,99,116,111,114,32,61,32,37,46,49,53,108,101,102,59,10,0,49,50,98,50,77,111,116,111,114,74,111,105,110,116,0,55,98,50,74,111,105,110,116,0,99,104,105,108,100,73,110,100,101,120,32,60,32,109,95,99,111,117,110,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,67,104,97,105,110,83,104,97,112,101,46,99,112,112,0,67,111,109,112,117,116,101,65,65,66,66,0,48,32,60,32,115,105,122,101,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,46,99,112,112,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,98,50,95,98,108,111,99,107,83,105,122,101,115,0,98,108,111,99,107,67,111,117,110,116,32,42,32,98,108,111,99,107,83,105,122,101,32,60,61,32,98,50,95,99,104,117,110,107,83,105,122,101,0,49,49,98,50,69,100,103,101,83,104,97,112,101,0,55,98,50,83,104,97,112,101,0,109,95,118,101,114,116,105,99,101,115,32,61,61,32,48,76,32,38,38,32,109,95,99,111,117,110,116,32,61,61,32,48,0,67,114,101,97,116,101,67,104,97,105,110,0,99,111,117,110,116,32,62,61,32,50,0,98,50,68,105,115,116,97,110,99,101,83,113,117,97,114,101,100,40,118,101,114,116,105,99,101,115,91,105,45,49,93,44,32,118,101,114,116,105,99,101,115,91,105,93,41,32,62,32,48,46,48,48,53,102,32,42,32,48,46,48,48,53,102,0,49,50,98,50,67,104,97,105,110,83,104,97,112,101,0,49,51,98,50,67,105,114,99,108,101,83,104,97,112,101,0,109,95,99,111,117,110,116,32,62,61,32,51,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,80,111,108,121,103,111,110,83,104,97,112,101,46,99,112,112,0,67,111,109,112,117,116,101,77,97,115,115,0,97,114,101,97,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,48,46,48,102,32,60,61,32,108,111,119,101,114,32,38,38,32,108,111,119,101,114,32,60,61,32,105,110,112,117,116,46,109,97,120,70,114,97,99,116,105,111,110,0,49,52,98,50,80,111,108,121,103,111,110,83,104,97,112,101,0,49,53,98,50,67,111,110,116,97,99,116,70,105,108,116,101,114,0,100,101,110,32,62,32,48,46,48,102,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,67,111,108,108,105,100,101,69,100,103,101,46,99,112,112,0,98,50,67,111,108,108,105,100,101,69,100,103,101,65,110,100,67,105,114,99,108,101,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,109,95,99,111,117,110,116,32,45,32,49,0,71,101,116,67,104,105,108,100,69,100,103,101,0,50,51,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,57,98,50,67,111,110,116,97,99,116,0,50,52,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,49,53,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0,50,50,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,50,51,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,50,53,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,48,32,60,61,32,101,100,103,101,49,32,38,38,32,101,100,103,101,49,32,60,32,112,111,108,121,49,45,62,109,95,99,111,117,110,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,67,111,108,108,105,100,101,80,111,108,121,103,111,110,46,99,112,112,0,98,50,70,105,110,100,73,110,99,105,100,101,110,116,69,100,103,101,0,49,54,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,32,32,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,108,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,49,53,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,0,32,32,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,109,97,120,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,109,97,120,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,49,53,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,0,32,32,98,50,71,101,97,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,106,111,105,110,116,49,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,32,32,106,100,46,106,111,105,110,116,50,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,49,49,98,50,71,101,97,114,74,111,105,110,116,0,100,32,43,32,104,32,42,32,107,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,77,111,117,115,101,74,111,105,110,116,46,99,112,112,0,73,110,105,116,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,77,111,117,115,101,32,106,111,105,110,116,32,100,117,109,112,105,110,103,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,10,0,49,50,98,50,77,111,117,115,101,74,111,105,110,116,0,32,32,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,108,111,119,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,117,112,112,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,109,97,120,77,111,116,111,114,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,49,54,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,0,32,32,98,50,80,117,108,108,101,121,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,108,101,110,103,116,104,65,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,108,101,110,103,116,104,66,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,114,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,49,51,98,50,80,117,108,108,101,121,74,111,105,110,116,0,32,32,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,101,110,97,98,108,101,76,105,109,105,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,106,100,46,108,111,119,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,117,112,112,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,49,53,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,0,32,32,98,50,82,111,112,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,109,97,120,76,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,49,49,98,50,82,111,112,101,74,111,105,110,116,0,32,32,98,50,87,101,108,100,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,49,49,98,50,87,101,108,100,74,111,105,110,116,0,32,32,98,50,87,104,101,101,108,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,108,111,99,97,108,65,120,105,115,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,109,97,120,77,111,116,111,114,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,49,50,98,50,87,104,101,101,108,74,111,105,110,116,0,100,101,102,45,62,98,111,100,121,65,32,33,61,32,100,101,102,45,62,98,111,100,121,66,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,74,111,105,110,116,46,99,112,112,0,98,50,74,111,105,110,116,0,47,47,32,68,117,109,112,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,102,111,114,32,116,104,105,115,32,106,111,105,110,116,32,116,121,112,101,46,10,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,77,111,116,111,114,74,111,105,110,116,46,99,112,112,0,98,50,73,115,86,97,108,105,100,40,102,97,99,116,111,114,41,32,38,38,32,48,46,48,102,32,60,61,32,102,97,99,116,111,114,32,38,38,32,102,97,99,116,111,114,32,60,61,32,49,46,48,102,0,83,101,116,67,111,114,114,101,99,116,105,111,110,70,97,99,116,111,114,0,99,104,105,108,100,49,32,33,61,32,40,45,49,41,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,121,110,97,109,105,99,84,114,101,101,46,99,112,112,0,73,110,115,101,114,116,76,101,97,102,0,99,104,105,108,100,50,32,33,61,32,40,45,49,41,0,105,65,32,33,61,32,40,45,49,41,0,66,97,108,97,110,99,101,0,48,32,60,61,32,105,66,32,38,38,32,105,66,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,48,32,60,61,32,105,67,32,38,38,32,105,67,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,48,32,60,61,32,105,70,32,38,38,32,105,70,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,48,32,60,61,32,105,71,32,38,38,32,105,71,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,109,95,110,111,100,101,115,91,67,45,62,112,97,114,101,110,116,93,46,99,104,105,108,100,50,32,61,61,32,105,65,0,48,32,60,61,32,105,68,32,38,38,32,105,68,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,48,32,60,61,32,105,69,32,38,38,32,105,69,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,109,95,110,111,100,101,115,91,66,45,62,112,97,114,101,110,116,93,46,99,104,105,108,100,50,32,61,61,32,105,65,0,109,95,110,111,100,101,67,111,117,110,116,32,61,61,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,65,108,108,111,99,97,116,101,78,111,100,101,0,68,101,115,116,114,111,121,80,114,111,120,121,0,109,95,110,111,100,101,115,91,112,114,111,120,121,73,100,93,46,73,115,76,101,97,102,40,41,0,48,32,60,61,32,110,111,100,101,73,100,32,38,38,32,110,111,100,101,73,100,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,70,114,101,101,78,111,100,101,0,48,32,60,32,109,95,110,111,100,101,67,111,117,110,116,0,77,111,118,101,80,114,111,120,121,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,105,115,116,97,110,99,101,46,99,112,112,0,98,50,68,105,115,116,97,110,99,101,0,71,101,116,87,105,116,110,101,115,115,80,111,105,110,116,115,0,71,101,116,77,101,116,114,105,99,0,99,97,99,104,101,45,62,99,111,117,110,116,32,60,61,32,51,0,82,101,97,100,67,97,99,104,101,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,99,104,97,105,110,45,62,109,95,99,111,117,110,116,0,110,111,100,101,45,62,73,115,76,101,97,102,40,41,32,61,61,32,102,97,108,115,101,0,71,101,116,77,97,120,66,97,108,97,110,99,101,0,116,97,114,103,101,116,32,62,32,116,111,108,101,114,97,110,99,101,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,84,105,109,101,79,102,73,109,112,97,99,116,46,99,112,112,0,98,50,84,105,109,101,79,102,73,109,112,97,99,116,0,48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,109,95,99,111,117,110,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,105,115,116,97,110,99,101,46,104,0,71,101,116,86,101,114,116,101,120,0,69,118,97,108,117,97,116,101,0,70,105,110,100,77,105,110,83,101,112,97,114,97,116,105,111,110,0,48,32,60,32,99,111,117,110,116,32,38,38,32,99,111,117,110,116,32,60,32,51,0,67,114,101,97,116,101,76,111,111,112,0,98,50,68,105,115,116,97,110,99,101,83,113,117,97,114,101,100,40,118,49,44,32,118,50,41,32,62,32,48,46,48,48,53,102,32,42,32,48,46,48,48,53,102,0,51,32,60,61,32,99,111,117,110,116,32,38,38,32,99,111,117,110,116,32,60,61,32,56,0,83,101,116,0,99,111,117,110,116,32,62,61,32,51,0,67,111,109,112,117,116,101,67,101,110,116,114,111,105,100,0,101,100,103,101,46,76,101,110,103,116,104,83,113,117,97,114,101,100,40,41,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,32,42,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,106,32,60,32,98,50,95,98,108,111,99,107,83,105,122,101,115,0,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,0,109,95,105,110,100,101,120,32,61,61,32,48,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,83,116,97,99,107,65,108],"i8",4,d.i),Aa([108,111,99,97,116,111,114,46,99,112,112,0,126,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,0,109,95,101,110,116,114,121,67,111,117,110,116,32,61,61,32,48,0,109,95,101,110,116,114,121,67,111,117,110,116,32,60,32,98,50,95,109,97,120,83,116,97,99,107,69,110,116,114,105,101,115,0,65,108,108,111,99,97,116,101,0,109,95,101,110,116,114,121,67,111,117,110,116,32,62,32,48,0,70,114,101,101,0,112,32,61,61,32,101,110,116,114,121,45,62,100,97,116,97,0,98,100,45,62,112,111,115,105,116,105,111,110,46,73,115,86,97,108,105,100,40,41,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,66,111,100,121,46,99,112,112,0,98,50,66,111,100,121,0,98,100,45,62,108,105,110,101,97,114,86,101,108,111,99,105,116,121,46,73,115,86,97,108,105,100,40,41,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,108,101,41,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,117,108,97,114,86,101,108,111,99,105,116,121,41,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,117,108,97,114,68,97,109,112,105,110,103,41,32,38,38,32,98,100,45,62,97,110,103,117,108,97,114,68,97,109,112,105,110,103,32,62,61,32,48,46,48,102,0,98,50,73,115,86,97,108,105,100,40,98,100,45,62,108,105,110,101,97,114,68,97,109,112,105,110,103,41,32,38,38,32,98,100,45,62,108,105,110,101,97,114,68,97,109,112,105,110,103,32,62,61,32,48,46,48,102,0,109,95,119,111,114,108,100,45,62,73,115,76,111,99,107,101,100,40,41,32,61,61,32,102,97,108,115,101,0,83,101,116,84,121,112,101,0,115,95,105,110,105,116,105,97,108,105,122,101,100,32,61,61,32,116,114,117,101,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,111,110,116,97,99,116,46,99,112,112,0,48,32,60,61,32,116,121,112,101,65,32,38,38,32,116,121,112,101,66,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,109,95,116,121,112,101,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,0,82,101,115,101,116,77,97,115,115,68,97,116,97,0,109,95,73,32,62,32,48,46,48,102,0,67,114,101,97,116,101,70,105,120,116,117,114,101,0,109,95,112,114,111,120,121,67,111,117,110,116,32,61,61,32,48,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,70,105,120,116,117,114,101,46,99,112,112,0,67,114,101,97,116,101,80,114,111,120,105,101,115,0,68,101,115,116,114,111,121,70,105,120,116,117,114,101,0,102,105,120,116,117,114,101,45,62,109,95,98,111,100,121,32,61,61,32,116,104,105,115,0,109,95,102,105,120,116,117,114,101,67,111,117,110,116,32,62,32,48,0,102,111,117,110,100,0,83,101,116,77,97,115,115,68,97,116,97,0,83,101,116,84,114,97,110,115,102,111,114,109,0,83,101,116,65,99,116,105,118,101,0,32,32,98,50,66,111,100,121,68,101,102,32,98,100,59,10,0,32,32,98,100,46,116,121,112,101,32,61,32,98,50,66,111,100,121,84,121,112,101,40,37,100,41,59,10,0,32,32,98,100,46,112,111,115,105,116,105,111,110,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,98,100,46,97,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,98,100,46,108,105,110,101,97,114,86,101,108,111,99,105,116,121,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,98,100,46,97,110,103,117,108,97,114,86,101,108,111,99,105,116,121,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,98,100,46,108,105,110,101,97,114,68,97,109,112,105,110,103,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,98,100,46,97,110,103,117,108,97,114,68,97,109,112,105,110,103,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,98,100,46,97,108,108,111,119,83,108,101,101,112,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,97,119,97,107,101,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,102,105,120,101,100,82,111,116,97,116,105,111,110,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,98,117,108,108,101,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,97,99,116,105,118,101,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,98,100,46,103,114,97,118,105,116,121,83,99,97,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,98,111,100,105,101,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,66,111,100,121,40,38,98,100,41,59,10,0,32,32,123,10,0,32,32,125,10,0,32,32,32,32,98,50,70,105,120,116,117,114,101,68,101,102,32,102,100,59,10,0,32,32,32,32,102,100,46,102,114,105,99,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,32,32,102,100,46,114,101,115,116,105,116,117,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,32,32,102,100,46,100,101,110,115,105,116,121,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,32,32,102,100,46,105,115,83,101,110,115,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,99,97,116,101,103,111,114,121,66,105,116,115,32,61,32,117,105,110,116,49,54,40,37,100,41,59,10,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,109,97,115,107,66,105,116,115,32,61,32,117,105,110,116,49,54,40,37,100,41,59,10,0,32,32,32,32,102,100,46,102,105,108,116,101,114,46,103,114,111,117,112,73,110,100,101,120,32,61,32,105,110,116,49,54,40,37,100,41,59,10,0,32,32,32,32,98,50,67,105,114,99,108,101,83,104,97,112,101,32,115,104,97,112,101,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,114,97,100,105,117,115,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,112,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,32,32,98,50,69,100,103,101,83,104,97,112,101,32,115,104,97,112,101,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,48,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,49,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,50,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,51,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,86,101,114,116,101,120,48,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,86,101,114,116,101,120,51,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,32,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,32,115,104,97,112,101,59,10,0,32,32,32,32,98,50,86,101,99,50,32,118,115,91,37,100,93,59,10,0,32,32,32,32,115,104,97,112,101,46,83,101,116,40,118,115,44,32,37,100,41,59,10,0,32,32,32,32,118,115,91,37,100,93,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,32,32,98,50,67,104,97,105,110,83,104,97,112,101,32,115,104,97,112,101,59,10,0,32,32,32,32,115,104,97,112,101,46,67,114,101,97,116,101,67,104,97,105,110,40,118,115,44,32,37,100,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,112,114,101,118,86,101,114,116,101,120,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,110,101,120,116,86,101,114,116,101,120,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,80,114,101,118,86,101,114,116,101,120,32,61,32,98,111,111,108,40,37,100,41,59,10,0,32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,78,101,120,116,86,101,114,116,101,120,32,61,32,98,111,111,108,40,37,100,41,59,10,0,10,0,32,32,32,32,102,100,46,115,104,97,112,101,32,61,32,38,115,104,97,112,101,59,10,0,32,32,32,32,98,111,100,105,101,115,91,37,100,93,45,62,67,114,101,97,116,101,70,105,120,116,117,114,101,40,38,102,100,41,59,10,0,48,32,60,61,32,116,121,112,101,49,32,38,38,32,116,121,112,101,49,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,48,32,60,61,32,116,121,112,101,50,32,38,38,32,116,121,112,101,50,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,104,97,105,110,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,101,100,103,101,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,109,95,102,105,120,116,117,114,101,66,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,112,111,108,121,103,111,110,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,112,111,108,121,103,111,110,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,105,114,99,108,101,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0,109,95,102,105,120,116,117,114,101,66,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,105,114,99,108,101,0,112,99,45,62,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,46,99,112,112,0,112,111,105,110,116,67,111,117,110,116,32,61,61,32,49,32,124,124,32,112,111,105,110,116,67,111,117,110,116,32,61,61,32,50,0,83,111,108,118,101,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,97,46,120,32,62,61,32,48,46,48,102,32,38,38,32,97,46,121,32,62,61,32,48,46,48,102,0,109,97,110,105,102,111,108,100,45,62,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,73,110,105,116,105,97,108,105,122,101,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,0,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,0,116,111,105,73,110,100,101,120,65,32,60,32,109,95,98,111,100,121,67,111,117,110,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,73,115,108,97,110,100,46,99,112,112,0,116,111,105,73,110,100,101,120,66,32,60,32,109,95,98,111,100,121,67,111,117,110,116,0,73,115,76,111,99,107,101,100,40,41,32,61,61,32,102,97,108,115,101,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,87,111,114,108,100,46,99,112,112,0,67,114,101,97,116,101,66,111,100,121,0,109,95,98,111,100,121,67,111,117,110,116,32,62,32,48,0,68,101,115,116,114,111,121,66,111,100,121,0,68,101,115,116,114,111,121,74,111,105,110,116,0,109,95,106,111,105,110,116,67,111,117,110,116,32,62,32,48,0,102,97,108,115,101,0,68,101,115,116,114,111,121,0,67,114,101,97,116,101,74,111,105,110,116,0,67,114,101,97,116,101,0,109,95,116,121,112,101,65,32,61,61,32,101,95,114,101,118,111,108,117,116,101,74,111,105,110,116,32,124,124,32,109,95,116,121,112,101,65,32,61,61,32,101,95,112,114,105,115,109,97,116,105,99,74,111,105,110,116,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,71,101,97,114,74,111,105,110,116,46,99,112,112,0,98,50,71,101,97,114,74,111,105,110,116,0,109,95,116,121,112,101,66,32,61,61,32,101,95,114,101,118,111,108,117,116,101,74,111,105,110,116,32,124,124,32,109,95,116,121,112,101,66,32,61,61,32,101,95,112,114,105,115,109,97,116,105,99,74,111,105,110,116,0,100,101,102,45,62,114,97,116,105,111,32,33,61,32,48,46,48,102,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,80,117,108,108,101,121,74,111,105,110,116,46,99,112,112,0,98,50,80,117,108,108,101,121,74,111,105,110,116,0,100,101,102,45,62,116,97,114,103,101,116,46,73,115,86,97,108,105,100,40,41,0,98,50,77,111,117,115,101,74,111,105,110,116,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,109,97,120,70,111,114,99,101,41,32,38,38,32,100,101,102,45,62,109,97,120,70,111,114,99,101,32,62,61,32,48,46,48,102,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,102,114,101,113,117,101,110,99,121,72,122,41,32,38,38,32,100,101,102,45,62,102,114,101,113,117,101,110,99,121,72,122,32,62,61,32,48,46,48,102,0,98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,100,97,109,112,105,110,103,82,97,116,105,111,41,32,38,38,32,100,101,102,45,62,100,97,109,112,105,110,103,82,97,116,105,111,32,62,61,32,48,46,48,102,0,98,45,62,73,115,65,99,116,105,118,101,40,41,32,61,61,32,116,114,117,101,0,83,111,108,118,101,0,109,95,98,111,100,121,67,111,117,110,116,32,60,32,109,95,98,111,100,121,67,97,112,97,99,105,116,121,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,73,115,108,97,110,100,46,104,0,65,100,100,0,109,95,99,111,110,116,97,99,116,67,111,117,110,116,32,60,32,109,95,99,111,110,116,97,99,116,67,97,112,97,99,105,116,121,0,115,116,97,99,107,67,111,117,110,116,32,60,32,115,116,97,99,107,83,105,122,101,0,109,95,106,111,105,110,116,67,111,117,110,116,32,60,32,109,95,106,111,105,110,116,67,97,112,97,99,105,116,121,0,116,121,112,101,65,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,32,124,124,32,116,121,112,101,66,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,0,83,111,108,118,101,84,79,73,0,97,108,112,104,97,48,32,60,32,49,46,48,102,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,77,97,116,104,46,104,0,65,100,118,97,110,99,101,0,48,32,60,61,32,112,114,111,120,121,73,100,32,38,38,32,112,114,111,120,121,73,100,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,121,110,97,109,105,99,84,114,101,101,46,104,0,71,101,116,85,115,101,114,68,97,116,97,0,114,46,76,101,110,103,116,104,83,113,117,97,114,101,100,40,41,32,62,32,48,46,48,102,0,82,97,121,67,97,115,116,0,118,101,114,116,101,120,67,111,117,110,116,32,60,61,32,56,0,68,114,97,119,83,104,97,112,101,0,71,101,116,70,97,116,65,65,66,66,0,98,50,86,101,99,50,32,103,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,109,95,119,111,114,108,100,45,62,83,101,116,71,114,97,118,105,116,121,40,103,41,59,10,0,98,50,66,111,100,121,42,42,32,98,111,100,105,101,115,32,61,32,40,98,50,66,111,100,121,42,42,41,98,50,65,108,108,111,99,40,37,100,32,42,32,115,105,122,101,111,102,40,98,50,66,111,100,121,42,41,41,59,10,0,98,50,74,111,105,110,116,42,42,32,106,111,105,110,116,115,32,61,32,40,98,50,74,111,105,110,116,42,42,41,98,50,65,108,108,111,99,40,37,100,32,42,32,115,105,122,101,111,102,40,98,50,74,111,105,110,116,42,41,41,59,10,0,123,10,0,125,10,0,98,50,70,114,101,101,40,106,111,105,110,116,115,41,59,10,0,98,50,70,114,101,101,40,98,111,100,105,101,115,41,59,10,0,106,111,105,110,116,115,32,61,32,78,85,76,76,59,10,0,98,111,100,105,101,115,32,61,32,78,85,76,76,59,10,0,98,50,73,115,86,97,108,105,100,40,102,111,114,99,101,41,32,38,38,32,102,111,114,99,101,32,62,61,32,48,46,48,102,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,46,99,112,112,0,83,101,116,77,97,120,70,111,114,99,101,0,98,50,73,115,86,97,108,105,100,40,116,111,114,113,117,101,41,32,38,38,32,116,111,114,113,117,101,32,62,61,32,48,46,48,102,0,83,101,116,77,97,120,84,111,114,113,117,101,0,98,50,73,115,86,97,108,105,100,40,114,97,116,105,111,41,0,83,101,116,82,97,116,105,111,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,46,99,112,112,0,114,97,116,105,111,32,62,32,49,46,49,57,50,48,57,50,56,57,53,53,48,55,56,49,50,53,101,45,48,55,70,0,73,110,105,116,105,97,108,105,122,101,0,108,111,119,101,114,32,60,61,32,117,112,112,101,114,0,66,111,120,50,68,95,118,50,46,51,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,46,99,112,112,0,83,101,116,76,105,109,105,116,115,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,116,101,114,109,105,110,97,116,105,110,103,0,117,110,99,97,117,103,104,116,0,83,116,57,101,120,99,101,112,116,105,111,110,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0],"i8",4,d.i+10240);var fb=ma;function lb(){return!!lb.e}ma+=16,b._i64Subtract=gb,b._i64Add=hb,b._memset=ib,b._bitshift64Lshr=jb,b._bitshift64Shl=kb;var mb=0,nb=[],ob={};function pb(t,e){pb.e||(pb.e={}),t in pb.e||(b.dynCall_v(e),pb.e[t]=1)}b._memcpy=qb;var rb=0;function sb(){return oa[(rb+=4)-4>>2]}var tb={},ub=Aa([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",2);b._llvm_cttz_i32=vb,b.___udivmoddi4=wb,b.___udivdi3=xb;var yb={};b._sbrk=zb;var Ab=1;function Bb(){if(!(n=mb))return 0|(d.f(0),0);var t=ob[n],e=t.type;if(!e)return 0|(d.f(0),n);var i=Array.prototype.slice.call(arguments);b.___cxa_is_pointer_type(e),Bb.buffer||(Bb.buffer=Ba(4)),oa[Bb.buffer>>2]=n;for(var n=Bb.buffer,r=0;r<i.length;r++)if(i[r]&&b.___cxa_can_catch(i[r],e,n))return n=oa[n>>2],t.w=n,0|(d.f(i[r]),n);return n=oa[n>>2],0|(d.f(e),n)}function Eb(t,e){rb=e;try{var i=sb(),n=sb(),r=sb(),o=0;Eb.buffer||(Eb.e=[null,[],[]],Eb.q=function(t,e){var i=Eb.e[t];if(assert(i),0===e||10===e){var n,r=1===t?b.print:b.printErr;t:{for(var o=n=0;i[o];)++o;if(16<o-n&&i.subarray&&Ia)n=Ia.decode(i.subarray(n,o));else{var s,a,c,u,l;for(o="";;){if(!(s=i[n++])){n=o;break t}128&s?(a=63&i[n++],192==(224&s)?o+=String.fromCharCode((31&s)<<6|a):(c=63&i[n++],224==(240&s)?s=(15&s)<<12|a<<6|c:(u=63&i[n++],240==(248&s)?s=(7&s)<<18|a<<12|c<<6|u:(l=63&i[n++],248==(252&s)?s=(3&s)<<24|a<<18|c<<12|u<<6|l:s=(1&s)<<30|a<<24|c<<18|u<<12|l<<6|63&i[n++])),65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|1023&s)))):o+=String.fromCharCode(s)}}}r(n),i.length=0}else i.push(e)});for(var s=0;s<r;s++){for(var a=oa[n+8*s>>2],c=oa[n+(8*s+4)>>2],u=0;u<c;u++)Eb.q(i,Ca[a+u]);o+=c}return o}catch(t){return"undefined"!=typeof FS&&t instanceof FS.o||ta(t),-t.r}}b.___uremdi3=Cb,b._llvm_bswap_i32=Db,$a.push(function(){var t=b._fflush;if(t&&t(0),t=Eb.q){var e=Eb.e;e[1].length&&t(1,10),e[2].length&&t(2,10)}}),pa=Aa(1,"i32",2),Ra=la=d.p(ma),Sa=Ra+Ua,Ta=d.p(Sa),oa[pa>>2]=Ta,b.A={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},b.B={abort:ta,assert:assert,enlargeMemory:function(){ra()},getTotalMemory:function(){return qa},abortOnCannotGrowMemory:ra,invoke_iiii:function(t,e,i,n){try{return b.dynCall_iiii(t,e,i,n)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_iiii:function(t,e,i,n){return d.d[t](e,i,n)},invoke_viiiii:function(t,e,i,n,r,o){try{b.dynCall_viiiii(t,e,i,n,r,o)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_viiiii:function(t,e,i,n,r,o){d.d[t](e,i,n,r,o)},invoke_did:function(t,e,i){try{return b.dynCall_did(t,e,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_did:function(t,e,i){return d.d[t](e,i)},invoke_vi:function(t,e){try{b.dynCall_vi(t,e)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_vi:function(t,e){d.d[t](e)},invoke_diiiid:function(t,e,i,n,r,o){try{return b.dynCall_diiiid(t,e,i,n,r,o)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_diiiid:function(t,e,i,n,r,o){return d.d[t](e,i,n,r,o)},invoke_vii:function(t,e,i){try{b.dynCall_vii(t,e,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_vii:function(t,e,i){d.d[t](e,i)},invoke_viidii:function(t,e,i,n,r,o){try{b.dynCall_viidii(t,e,i,n,r,o)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_viidii:function(t,e,i,n,r,o){d.d[t](e,i,n,r,o)},invoke_ii:function(t,e){try{return b.dynCall_ii(t,e)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_ii:function(t,e){return d.d[t](e)},invoke_viidi:function(t,e,i,n,r){try{b.dynCall_viidi(t,e,i,n,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_viidi:function(t,e,i,n,r){d.d[t](e,i,n,r)},invoke_viii:function(t,e,i,n){try{b.dynCall_viii(t,e,i,n)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_viii:function(t,e,i,n){d.d[t](e,i,n)},invoke_v:function(t){try{b.dynCall_v(t)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_v:function(t){d.d[t]()},invoke_viid:function(t,e,i,n){try{b.dynCall_viid(t,e,i,n)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_viid:function(t,e,i,n){d.d[t](e,i,n)},invoke_viiiiii:function(t,e,i,n,r,o,s){try{b.dynCall_viiiiii(t,e,i,n,r,o,s)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_viiiiii:function(t,e,i,n,r,o,s){d.d[t](e,i,n,r,o,s)},invoke_iii:function(t,e,i){try{return b.dynCall_iii(t,e,i)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_iii:function(t,e,i){return d.d[t](e,i)},invoke_iiiiii:function(t,e,i,n,r,o){try{return b.dynCall_iiiiii(t,e,i,n,r,o)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_iiiiii:function(t,e,i,n,r,o){return d.d[t](e,i,n,r,o)},invoke_viiii:function(t,e,i,n,r){try{b.dynCall_viiii(t,e,i,n,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;b.setThrew(1,0)}},jsCall_viiii:function(t,e,i,n,r){d.d[t](e,i,n,r)},_emscripten_asm_const_iiiii:function(t,e,i,n,r){return eb[t](e,i,n,r)},_emscripten_asm_const_diiiid:function(t,e,i,n,r,o){return eb[t](e,i,n,r,o)},_pthread_key_create:function(t){return 0==t?22:(oa[t>>2]=Ab,yb[Ab]=0,Ab++,0)},_abort:function(){b.abort()},___gxx_personality_v0:function(){},_emscripten_asm_const_iiidii:function(t,e,i,n,r,o){return eb[t](e,i,n,r,o)},___assert_fail:function(t,e,i,n){throw sa=!0,"Assertion failed: "+Ha(t)+", at: "+[e?Ha(e):"unknown filename",i,n?Ha(n):"unknown function"]+" at "+Na()},___cxa_find_matching_catch:Bb,___setErrNo:function(t){return b.___errno_location&&(oa[b.___errno_location()>>2]=t),t},___cxa_begin_catch:function(t){var e=ob[t];e&&!e.C&&(e.C=!0,lb.e--),e&&(e.aa=!1),nb.push(t);t:{if(t&&!ob[t])for(var i in ob)if(ob[i].w===t){e=i;break t}e=t}return e&&ob[e].$++,t},_emscripten_memcpy_big:function(t,e,i){return Ca.set(Ca.subarray(e,e+i),t),t},___resumeException:function(t){throw mb||(mb=t),t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},__ZSt18uncaught_exceptionv:lb,_pthread_getspecific:function(t){return yb[t]||0},_pthread_once:pb,___syscall54:function(t,e){return rb=e,0},_emscripten_asm_const_iii:function(t,e,i){return eb[t](e,i)},_emscripten_asm_const_iiidi:function(t,e,i,n,r){return eb[t](e,i,n,r)},_pthread_setspecific:function(t,e){return t in yb?(yb[t]=e,0):22},_emscripten_asm_const_iiii:function(t,e,i,n){return eb[t](e,i,n)},___syscall6:function(t,e){rb=e;try{var i=tb.G();return FS.close(i),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.o||ta(t),-t.r}},___syscall140:function(t,e){rb=e;try{var i=tb.G(),n=sb(),r=sb(),o=sb(),s=sb();return assert(0===n),FS.X(i,r,s),oa[o>>2]=i.position,i.I&&0===r&&0===s&&(i.I=null),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.o||ta(t),-t.r}},___cxa_pure_virtual:function(){throw sa=!0,"Pure virtual function called!"},___syscall146:Eb,DYNAMICTOP_PTR:pa,tempDoublePtr:fb,ABORT:sa,STACKTOP:la,STACK_MAX:Sa,cttz_i8:ub};var g=function(t,e,i){"use asm";var n=new t.Int8Array(i);var r=new t.Int16Array(i);var o=new t.Int32Array(i);var s=new t.Uint8Array(i);var a=new t.Uint16Array(i);var c=new t.Uint32Array(i);var u=new t.Float32Array(i);var l=new t.Float64Array(i);var h=e.DYNAMICTOP_PTR|0;var _=e.tempDoublePtr|0;var p=e.ABORT|0;var d=e.STACKTOP|0;var f=e.STACK_MAX|0;var b=e.cttz_i8|0;var m=0;var g=0;var y=0;var v=0;var w=t.NaN,x=t.Infinity;var T=0,S=0,A=0,C=0,E=0.0,P=0,D=0,M=0,R=0.0;var I=0;var O=t.Math.floor;var k=t.Math.abs;var L=t.Math.sqrt;var j=t.Math.pow;var B=t.Math.cos;var F=t.Math.sin;var J=t.Math.tan;var G=t.Math.acos;var N=t.Math.asin;var U=t.Math.atan;var W=t.Math.atan2;var V=t.Math.exp;var X=t.Math.log;var z=t.Math.ceil;var q=t.Math.imul;var H=t.Math.min;var Y=t.Math.max;var Z=t.Math.clz32;var Q=e.abort;var K=e.assert;var $=e.enlargeMemory;var tt=e.getTotalMemory;var et=e.abortOnCannotGrowMemory;var it=e.invoke_iiii;var nt=e.jsCall_iiii;var rt=e.invoke_viiiii;var ot=e.jsCall_viiiii;var st=e.invoke_did;var at=e.jsCall_did;var ct=e.invoke_vi;var ut=e.jsCall_vi;var lt=e.invoke_diiiid;var ht=e.jsCall_diiiid;var _t=e.invoke_vii;var pt=e.jsCall_vii;var dt=e.invoke_viidii;var ft=e.jsCall_viidii;var bt=e.invoke_ii;var mt=e.jsCall_ii;var gt=e.invoke_viidi;var yt=e.jsCall_viidi;var vt=e.invoke_viii;var wt=e.jsCall_viii;var xt=e.invoke_v;var Tt=e.jsCall_v;var St=e.invoke_viid;var At=e.jsCall_viid;var Ct=e.invoke_viiiiii;var Et=e.jsCall_viiiiii;var Pt=e.invoke_iii;var Dt=e.jsCall_iii;var Mt=e.invoke_iiiiii;var Rt=e.jsCall_iiiiii;var It=e.invoke_viiii;var Ot=e.jsCall_viiii;var kt=e._emscripten_asm_const_iiiii;var Lt=e._emscripten_asm_const_diiiid;var jt=e._pthread_key_create;var Bt=e._abort;var Ft=e.___gxx_personality_v0;var Jt=e._emscripten_asm_const_iiidii;var Gt=e.___assert_fail;var Nt=e.___cxa_find_matching_catch;var Ut=e.___setErrNo;var Wt=e.___cxa_begin_catch;var Vt=e._emscripten_memcpy_big;var Xt=e.___resumeException;var zt=e.__ZSt18uncaught_exceptionv;var qt=e._pthread_getspecific;var Ht=e._pthread_once;var Yt=e.___syscall54;var Zt=e._emscripten_asm_const_iii;var Qt=e._emscripten_asm_const_iiidi;var Kt=e._pthread_setspecific;var $t=e._emscripten_asm_const_iiii;var te=e.___syscall6;var ee=e.___syscall140;var ie=e.___cxa_pure_virtual;var ne=e.___syscall146;var re=0.0;function oe(t){t=t|0;var e=0;e=d;d=d+t|0;d=d+15&-16;return e|0}function se(){return d|0}function ae(t){t=t|0;d=t}function ce(t,e){t=t|0;e=e|0;d=t;f=e}function ue(t,e){t=t|0;e=e|0;if(!m){m=t;g=e}}function le(t){t=t|0;I=t}function he(){return I|0}function _e(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function pe(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function de(t){t=t|0;return o[t+4>>2]|0}function fe(t,e){t=t|0;e=e|0;t=t+4|0;o[t>>2]=o[t>>2]|e;return}function be(t,e){t=t|0;e=e|0;t=t+4|0;o[t>>2]=o[t>>2]&~e;return}function me(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function ge(t){t=t|0;return o[t+4>>2]|0}function ye(t){t=t|0;return o[t+48>>2]|0}function ve(t){t=t|0;return o[t+52>>2]|0}function we(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18520]|0))BE(18520)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18512;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18512}function xe(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18536]|0))BE(18536)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18528;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18528}function Te(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[18552]|0))BE(18552)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=18544;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 18544}function Se(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function Ae(t){t=t|0;return o[t+12>>2]|0}function Ce(t){t=t|0;return o[t+64>>2]|0}function Ee(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function Pe(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function De(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function Me(t){t=t|0;Ik[o[(o[t>>2]|0)+16>>2]&127](t);return}function Re(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function Ie(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function Oe(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function ke(){var t=0;t=nE(20)|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;n[t+16>>0]=0;return t|0}function Le(t){t=t|0;return o[t>>2]|0}function je(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Be(t){t=t|0;return o[t+4>>2]|0}function Fe(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Je(t){t=t|0;return o[t+8>>2]|0}function Ge(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Ne(t){t=t|0;return o[t+12>>2]|0}function Ue(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function We(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function Ve(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function Xe(t){t=t|0;if(!t)return;rE(t);return}function ze(t){t=t|0;return o[t+4>>2]|0}function qe(t){t=t|0;return jk[o[(o[t>>2]|0)+12>>2]&63](t)|0}function He(t,e,i){t=t|0;e=e|0;i=i|0;return Dk[o[(o[t>>2]|0)+16>>2]&63](t,e,i)|0}function Ye(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Wk[o[(o[t>>2]|0)+20>>2]&63](t,e,i,n,r)|0}function Ze(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Vk[o[(o[t>>2]|0)+24>>2]&63](t,e,i,n);return}function Qe(t,e,i){t=t|0;e=e|0;i=+i;Gk[o[(o[t>>2]|0)+28>>2]&63](t,e,i);return}function Ke(t){t=t|0;return o[t+4>>2]|0}function $e(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function ti(t){t=t|0;return+ +u[t+8>>2]}function ei(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function ii(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function ni(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function ri(){var t=0;t=nE(4)|0;o[t>>2]=672;return t|0}function oi(t,e){t=t|0;e=e|0;kk[o[(o[t>>2]|0)+16>>2]&127](t,e);return}function si(t,e){t=t|0;e=e|0;kk[o[(o[t>>2]|0)+20>>2]&127](t,e);return}function ai(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function ci(t){t=t|0;return o[t+16>>2]|0}function ui(t,e){t=t|0;e=e|0;o[t+16>>2]=e;return}function li(t){t=t|0;if(!t)return;rE(t);return}function hi(t){t=t|0;return t+80|0}function _i(t){t=t|0;return t+88|0}function pi(t,e){t=t|0;e=+e;u[t+104>>2]=e;return}function di(t){t=t|0;return+ +u[t+104>>2]}function fi(t,e){t=t|0;e=+e;u[t+68>>2]=e;return}function bi(t){t=t|0;return+ +u[t+68>>2]}function mi(t,e){t=t|0;e=+e;u[t+72>>2]=e;return}function gi(t){t=t|0;return+ +u[t+72>>2]}function yi(t){t=t|0;return o[t+4>>2]|0}function vi(t){t=t|0;return o[t+48>>2]|0}function wi(t){t=t|0;return o[t+52>>2]|0}function xi(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18568]|0))BE(18568)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18560;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18560}function Ti(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18584]|0))BE(18584)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18576;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18576}function Si(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[18600]|0))BE(18600)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=18592;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 18592}function Ai(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function Ci(t){t=t|0;return o[t+12>>2]|0}function Ei(t){t=t|0;return o[t+64>>2]|0}function Pi(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function Di(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function Mi(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function Ri(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function Ii(){return nE(36)|0}function Oi(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0;n=nE(36)|0;s=n+12|0;r=n+24|0;o[n>>2]=o[t>>2];o[n+4>>2]=o[t+4>>2];o[n+8>>2]=o[t+8>>2];o[s>>2]=o[e>>2];o[s+4>>2]=o[e+4>>2];o[s+8>>2]=o[e+8>>2];o[r>>2]=o[i>>2];o[r+4>>2]=o[i+4>>2];o[r+8>>2]=o[i+8>>2];return n|0}function ki(t){t=t|0;var e=0;e=t+36|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(e|0));return}function Li(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0;if(!(n[18608]|0))BE(18608)|0;o=+u[t+16>>2];b=+u[t+32>>2];l=+u[t+20>>2];f=+u[t+28>>2];y=o*b-l*f;d=+u[t+24>>2];s=+u[t+12>>2];g=l*d-b*s;m=f*s-o*d;_=+u[t>>2];h=+u[t+4>>2];i=+u[t+8>>2];p=y*_+h*g+m*i;p=p!=0.0?1.0/p:p;r=+u[e>>2];a=+u[e+4>>2];c=+u[e+8>>2];u[4844]=p*(y*r+g*a+m*c);u[4845]=p*((a*b-c*f)*_+h*(c*d-b*r)+(f*r-a*d)*i);u[4846]=p*((o*c-l*a)*_+h*(l*r-c*s)+(a*s-o*r)*i);return 19376}function ji(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,l=0.0;if(!(n[18624]|0))BE(18624)|0;s=+u[t>>2];c=+u[t+12>>2];r=+u[t+4>>2];l=+u[t+16>>2];a=s*l-c*r;a=a!=0.0?1.0/a:a;i=+u[e>>2];o=+u[e+4>>2];u[4654]=a*(l*i-c*o);u[4655]=a*(s*o-r*i);return 18616}function Bi(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0;n=+u[t>>2];a=+u[t+12>>2];s=+u[t+4>>2];r=+u[t+16>>2];i=n*r-a*s;i=i!=0.0?1.0/i:i;u[e>>2]=r*i;r=-i;u[e+12>>2]=a*r;u[e+8>>2]=0.0;u[e+4>>2]=s*r;u[e+16>>2]=n*i;t=e+20|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return}function Fi(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0;n=+u[t+16>>2];l=+u[t+32>>2];_=n*l;o=+u[t+20>>2];s=+u[t+28>>2];c=+u[t+24>>2];i=+u[t+12>>2];h=l*i;a=s*i-n*c;r=+u[t>>2];o=(_-o*s)*r+ +u[t+4>>2]*(o*c-h)+a*+u[t+8>>2];o=o!=0.0?1.0/o:o;u[e>>2]=o*(_-s*s);h=o*(c*s-h);u[e+4>>2]=h;a=o*a;u[e+8>>2]=a;u[e+12>>2]=h;u[e+16>>2]=o*(r*l-c*c);s=o*(c*i-r*s);u[e+20>>2]=s;u[e+24>>2]=a;u[e+28>>2]=s;u[e+32>>2]=o*(r*n-i*i);return}function Ji(t){t=t|0;return t|0}function Gi(t,e){t=t|0;e=e|0;o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];return}function Ni(t){t=t|0;return t+12|0}function Ui(t,e){t=t|0;e=e|0;t=t+12|0;o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];return}function Wi(t){t=t|0;return t+24|0}function Vi(t,e){t=t|0;e=e|0;t=t+24|0;o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];return}function Xi(t){t=t|0;if(!t)return;rE(t);return}function zi(t){t=t|0;return o[(o[t+12>>2]|0)+4>>2]|0}function qi(t){t=t|0;return o[t+12>>2]|0}function Hi(t,e){t=t|0;e=e|0;var i=0,c=0,l=0;l=t+38|0;if((e&1|0)==(s[l>>0]|0|0))return;t=o[t+8>>2]|0;c=t+4|0;i=a[c>>1]|0;if(!(i&2)){r[c>>1]=i|2;u[t+144>>2]=0.0}n[l>>0]=e&1;return}function Yi(t){t=t|0;return(n[t+38>>0]|0)!=0|0}function Zi(t,e){t=t|0;e=e|0;$A(t,e);return}function Qi(t){t=t|0;return t+32|0}function Ki(t){t=t|0;tC(t);return}function $i(t){t=t|0;return o[t+8>>2]|0}function tn(t){t=t|0;return o[t+4>>2]|0}function en(t){t=t|0;return o[t+40>>2]|0}function nn(t,e){t=t|0;e=e|0;o[t+40>>2]=e;return}function rn(t,e){t=t|0;e=e|0;var i=0;i=o[t+12>>2]|0;return Dk[o[(o[i>>2]|0)+16>>2]&63](i,(o[t+8>>2]|0)+12|0,e)|0}function on(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0;r=o[t+12>>2]|0;return Wk[o[(o[r>>2]|0)+20>>2]&63](r,e,i,(o[t+8>>2]|0)+12|0,n)|0}function sn(t,e){t=t|0;e=e|0;var i=0;i=o[t+12>>2]|0;Gk[o[(o[i>>2]|0)+28>>2]&63](i,e,+u[t>>2]);return}function an(t,e){t=t|0;e=+e;if(e>=0.0&((u[_>>2]=e,o[_>>2]|0)&2139095040|0)!=2139095040){u[t>>2]=e;return}else Gt(2835,2873,295,2913)}function cn(t){t=t|0;return+ +u[t>>2]}function un(t){t=t|0;return+ +u[t+16>>2]}function ln(t,e){t=t|0;e=+e;u[t+16>>2]=e;return}function hn(t){t=t|0;return+ +u[t+20>>2]}function _n(t,e){t=t|0;e=+e;u[t+20>>2]=e;return}function pn(t,e){t=t|0;e=e|0;if((e|0)>-1?(o[t+28>>2]|0)>(e|0):0)return(o[t+24>>2]|0)+(e*28|0)|0;Gt(2924,2873,341,2969);return 0}function dn(t,e){t=t|0;e=e|0;IA(t,e);return}function fn(t){t=t|0;if(!t)return;rE(t);return}function bn(){var t=0;t=nE(6)|0;r[t>>1]=1;r[t+2>>1]=-1;r[t+4>>1]=0;return t|0}function mn(t){t=t|0;return r[t>>1]|0}function gn(t,e){t=t|0;e=e|0;r[t>>1]=e;return}function yn(t){t=t|0;return r[t+2>>1]|0}function vn(t,e){t=t|0;e=e|0;r[t+2>>1]=e;return}function wn(t){t=t|0;return r[t+4>>1]|0}function xn(t,e){t=t|0;e=e|0;r[t+4>>1]=e;return}function Tn(t){t=t|0;if(!t)return;rE(t);return}function Sn(){var t=0;t=nE(4)|0;o[t>>2]=704;return t|0}function An(t,e){t=t|0;e=e|0;return Uk[o[(o[t>>2]|0)+8>>2]&63](t,e)|0}function Cn(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function En(t,e){t=t|0;e=e|0;var i=0,n=0,s=0,a=0;i=o[t+52>>2]|0;a=i+4|0;n=r[a>>1]|0;if((n&2)==0?(s=n&65535,(s&2|0)==0):0){r[a>>1]=s|2;u[i+144>>2]=0.0}s=e;a=o[s+4>>2]|0;t=t+76|0;o[t>>2]=o[s>>2];o[t+4>>2]=a;return}function Pn(t){t=t|0;return t+76|0}function Dn(t,e){t=t|0;e=+e;u[t+104>>2]=e;return}function Mn(t){t=t|0;return+ +u[t+104>>2]}function Rn(t,e){t=t|0;e=+e;u[t+84>>2]=e;return}function In(t){t=t|0;return+ +u[t+84>>2]}function On(t,e){t=t|0;e=+e;u[t+88>>2]=e;return}function kn(t){t=t|0;return+ +u[t+88>>2]}function Ln(t){t=t|0;return o[t+4>>2]|0}function jn(t){t=t|0;return o[t+48>>2]|0}function Bn(t){t=t|0;return o[t+52>>2]|0}function Fn(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18640]|0))BE(18640)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18632;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18632}function Jn(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18656]|0))BE(18656)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18648;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18648}function Gn(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[18672]|0))BE(18672)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=18664;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 18664}function Nn(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function Un(t){t=t|0;return o[t+12>>2]|0}function Wn(t){t=t|0;return o[t+64>>2]|0}function Vn(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function Xn(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function zn(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function qn(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function Hn(){return nE(8)|0}function Yn(t){t=+t;var e=0;e=nE(8)|0;u[e>>2]=+F(+t);u[e+4>>2]=+B(+t);return e|0}function Zn(t,e){t=t|0;e=+e;u[t>>2]=+F(+e);u[t+4>>2]=+B(+e);return}function Qn(t){t=t|0;u[t>>2]=0.0;u[t+4>>2]=1.0;return}function Kn(t){t=t|0;return+ +W(+ +u[t>>2],+ +u[t+4>>2])}function $n(t){t=t|0;var e=0,i=0;if(!(n[18688]|0))BE(18688)|0;i=o[t>>2]|0;e=18680;o[e>>2]=o[t+4>>2];o[e+4>>2]=i;return 18680}function tr(t){t=t|0;var e=0;if(!(n[18704]|0))BE(18704)|0;e=o[t+4>>2]|0;u[4674]=-+u[t>>2];o[4675]=e;return 18696}function er(t){t=t|0;return+ +u[t>>2]}function ir(t,e){t=t|0;e=+e;u[t>>2]=e;return}function nr(t){t=t|0;return+ +u[t+4>>2]}function rr(t,e){t=t|0;e=+e;u[t+4>>2]=e;return}function or(t){t=t|0;if(!t)return;rE(t);return}function sr(t,e){t=t|0;e=e|0;var i=0,n=0,s=0,c=0;c=t+68|0;if(!(+u[e>>2]!=+u[c>>2])?!(+u[e+4>>2]!=+u[t+72>>2]):0)return;i=o[t+48>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}s=e;t=o[s+4>>2]|0;e=c;o[e>>2]=o[s>>2];o[e+4>>2]=t;return}function ar(t){t=t|0;return t+68|0}function cr(t,e){t=t|0;e=+e;var i=0,n=0,s=0,c=0;c=t+76|0;if(!(+u[c>>2]!=e))return;i=o[t+48>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}u[c>>2]=e;return}function ur(t){t=t|0;return+ +u[t+76>>2]}function lr(t,e){t=t|0;e=+e;if(e>=0.0&((u[_>>2]=e,o[_>>2]|0)&2139095040|0)!=2139095040){u[t+92>>2]=e;return}else Gt(15149,8943,228,15238)}function hr(t){t=t|0;return+ +u[t+92>>2]}function _r(t,e){t=t|0;e=+e;if(e>=0.0&((u[_>>2]=e,o[_>>2]|0)&2139095040|0)!=2139095040){u[t+96>>2]=e;return}else Gt(15250,8943,239,15286)}function pr(t){t=t|0;return+ +u[t+96>>2]}function dr(t,e){t=t|0;e=+e;if(e<=1.0&(e>=0.0&((u[_>>2]=e,o[_>>2]|0)&2139095040|0)!=2139095040)){u[t+100>>2]=e;return}else Gt(8995,8943,250,9049)}function fr(t){t=t|0;return+ +u[t+100>>2]}function br(t){t=t|0;return o[t+4>>2]|0}function mr(t){t=t|0;return o[t+48>>2]|0}function gr(t){t=t|0;return o[t+52>>2]|0}function yr(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18720]|0))BE(18720)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18712;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18712}function vr(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18736]|0))BE(18736)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18728;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18728}function wr(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[18752]|0))BE(18752)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=18744;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 18744}function xr(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function Tr(t){t=t|0;return o[t+12>>2]|0}function Sr(t){t=t|0;return o[t+64>>2]|0}function Ar(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function Cr(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function Er(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function Pr(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function Dr(t){t=t|0;return+ +u[t>>2]}function Mr(t,e){t=t|0;e=+e;u[t>>2]=e;return}function Rr(t){t=t|0;return+ +u[t+4>>2]}function Ir(t,e){t=t|0;e=+e;u[t+4>>2]=e;return}function Or(t){t=t|0;return+ +u[t+8>>2]}function kr(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function Lr(t){t=t|0;return+ +u[t+12>>2]}function jr(t,e){t=t|0;e=+e;u[t+12>>2]=e;return}function Br(t){t=t|0;return+ +u[t+16>>2]}function Fr(t,e){t=t|0;e=+e;u[t+16>>2]=e;return}function Jr(t){t=t|0;return+ +u[t+20>>2]}function Gr(t,e){t=t|0;e=+e;u[t+20>>2]=e;return}function Nr(t){t=t|0;return+ +u[t+24>>2]}function Ur(t,e){t=t|0;e=+e;u[t+24>>2]=e;return}function Wr(t){t=t|0;return+ +u[t+28>>2]}function Vr(t,e){t=t|0;e=+e;u[t+28>>2]=e;return}function Xr(t){t=t|0;if(!t)return;rE(t);return}function zr(t){t=t|0;if(!t)return;rE(t);return}function qr(){var t=0,e=0;t=nE(52)|0;o[t+44>>2]=0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;n[t+36>>0]=1;n[t+37>>0]=1;n[t+38>>0]=0;n[t+39>>0]=0;o[t>>2]=0;n[t+40>>0]=1;u[t+48>>2]=1.0;return t|0}function Hr(t){t=t|0;return o[t>>2]|0}function Yr(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Zr(t){t=t|0;return t+4|0}function Qr(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+4|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Kr(t){t=t|0;return+ +u[t+12>>2]}function $r(t,e){t=t|0;e=+e;u[t+12>>2]=e;return}function to(t){t=t|0;return t+16|0}function eo(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+16|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function io(t){t=t|0;return+ +u[t+24>>2]}function no(t,e){t=t|0;e=+e;u[t+24>>2]=e;return}function ro(t){t=t|0;return+ +u[t+28>>2]}function oo(t,e){t=t|0;e=+e;u[t+28>>2]=e;return}function so(t){t=t|0;return+ +u[t+32>>2]}function ao(t,e){t=t|0;e=+e;u[t+32>>2]=e;return}function co(t){t=t|0;return(n[t+36>>0]|0)!=0|0}function uo(t,e){t=t|0;e=e|0;n[t+36>>0]=e&1;return}function lo(t){t=t|0;return(n[t+37>>0]|0)!=0|0}function ho(t,e){t=t|0;e=e|0;n[t+37>>0]=e&1;return}function _o(t){t=t|0;return(n[t+38>>0]|0)!=0|0}function po(t,e){t=t|0;e=e|0;n[t+38>>0]=e&1;return}function fo(t){t=t|0;return(n[t+39>>0]|0)!=0|0}function bo(t,e){t=t|0;e=e|0;n[t+39>>0]=e&1;return}function mo(t){t=t|0;return(n[t+40>>0]|0)!=0|0}function go(t,e){t=t|0;e=e|0;n[t+40>>0]=e&1;return}function yo(t){t=t|0;return o[t+44>>2]|0}function vo(t,e){t=t|0;e=e|0;o[t+44>>2]=e;return}function wo(t){t=t|0;return+ +u[t+48>>2]}function xo(t,e){t=t|0;e=+e;u[t+48>>2]=e;return}function To(t){t=t|0;if(!t)return;rE(t);return}function So(){var t=0;t=nE(4)|0;o[t>>2]=724;return t|0}function Ao(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ +Ok[o[(o[t>>2]|0)+8>>2]&63](t,e,i,n,r)}function Co(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function Eo(t){t=t|0;return n[t>>0]|0}function Po(t,e){t=t|0;e=e|0;n[t>>0]=e;return}function Do(t){t=t|0;return n[t+1>>0]|0}function Mo(t,e){t=t|0;e=e|0;n[t+1>>0]=e;return}function Ro(t){t=t|0;return n[t+2>>0]|0}function Io(t,e){t=t|0;e=e|0;n[t+2>>0]=e;return}function Oo(t){t=t|0;return n[t+3>>0]|0}function ko(t,e){t=t|0;e=e|0;n[t+3>>0]=e;return}function Lo(t){t=t|0;if(!t)return;rE(t);return}function jo(){return nE(8)|0}function Bo(t,e){t=+t;e=+e;var i=0;i=nE(8)|0;u[i>>2]=t;u[i+4>>2]=e;return i|0}function Fo(t){t=t|0;u[t>>2]=0.0;u[t+4>>2]=0.0;return}function Jo(t,e,i){t=t|0;e=+e;i=+i;u[t>>2]=e;u[t+4>>2]=i;return}function Go(t,e){t=t|0;e=e|0;u[t>>2]=+u[e>>2]+ +u[t>>2];t=t+4|0;u[t>>2]=+u[e+4>>2]+ +u[t>>2];return}function No(t,e){t=t|0;e=e|0;u[t>>2]=+u[t>>2]-+u[e>>2];t=t+4|0;u[t>>2]=+u[t>>2]-+u[e+4>>2];return}function Uo(t,e){t=t|0;e=+e;u[t>>2]=+u[t>>2]*e;t=t+4|0;u[t>>2]=+u[t>>2]*e;return}function Wo(t){t=t|0;var e=0.0,i=0.0;i=+u[t>>2];e=+u[t+4>>2];return+ +L(+(i*i+e*e))}function Vo(t){t=t|0;var e=0.0,i=0.0;i=+u[t>>2];e=+u[t+4>>2];return+(i*i+e*e)}function Xo(t){t=t|0;var e=0.0,i=0.0,n=0.0,r=0.0,o=0;e=+u[t>>2];o=t+4|0;i=+u[o>>2];n=+L(+(e*e+i*i));r=1.0/n;if(n<1.1920928955078125e-07){r=0.0;return+r}u[t>>2]=e*r;u[o>>2]=i*r;r=n;return+r}function zo(t){t=t|0;if((o[t>>2]&2139095040|0)==2139095040){t=0;return t|0}t=(o[t+4>>2]&2139095040|0)!=2139095040;return t|0}function qo(t){t=t|0;var e=0;if(!(n[18768]|0))BE(18768)|0;e=o[t>>2]|0;u[4690]=-+u[t+4>>2];o[4691]=e;return 18760}function Ho(t){t=t|0;return+ +u[t>>2]}function Yo(t,e){t=t|0;e=+e;u[t>>2]=e;return}function Zo(t){t=t|0;return+ +u[t+4>>2]}function Qo(t,e){t=t|0;e=+e;u[t+4>>2]=e;return}function Ko(t){t=t|0;if(!t)return;rE(t);return}function $o(){return nE(12)|0}function ts(t,e,i){t=+t;e=+e;i=+i;var n=0;n=nE(12)|0;u[n>>2]=t;u[n+4>>2]=e;u[n+8>>2]=i;return n|0}function es(t){t=t|0;u[t>>2]=0.0;u[t+4>>2]=0.0;u[t+8>>2]=0.0;return}function is(t,e,i,n){t=t|0;e=+e;i=+i;n=+n;u[t>>2]=e;u[t+4>>2]=i;u[t+8>>2]=n;return}function ns(t,e){t=t|0;e=e|0;var i=0;u[t>>2]=+u[e>>2]+ +u[t>>2];i=t+4|0;u[i>>2]=+u[e+4>>2]+ +u[i>>2];t=t+8|0;u[t>>2]=+u[e+8>>2]+ +u[t>>2];return}function rs(t,e){t=t|0;e=e|0;var i=0;u[t>>2]=+u[t>>2]-+u[e>>2];i=t+4|0;u[i>>2]=+u[i>>2]-+u[e+4>>2];t=t+8|0;u[t>>2]=+u[t>>2]-+u[e+8>>2];return}function os(t,e){t=t|0;e=+e;var i=0;u[t>>2]=+u[t>>2]*e;i=t+4|0;u[i>>2]=+u[i>>2]*e;t=t+8|0;u[t>>2]=+u[t>>2]*e;return}function ss(t){t=t|0;return+ +u[t>>2]}function as(t,e){t=t|0;e=+e;u[t>>2]=e;return}function cs(t){t=t|0;return+ +u[t+4>>2]}function us(t,e){t=t|0;e=+e;u[t+4>>2]=e;return}function ls(t){t=t|0;return+ +u[t+8>>2]}function hs(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function _s(t){t=t|0;if(!t)return;rE(t);return}function ps(){var t=0;t=nE(16)|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return t|0}function ds(t){t=t|0;var e=0.0,i=0.0,n=0.0,r=0.0,s=0,a=0;i=+u[t+8>>2];n=+u[t>>2];r=+u[t+12>>2];e=+u[t+4>>2];if(i-n>=0.0&r-e>=0.0){a=(u[_>>2]=r,o[_>>2]|0);s=(u[_>>2]=i,o[_>>2]|0);t=(u[_>>2]=e,o[_>>2]|0);return(a&2139095040|0)!=2139095040&(((s&2139095040|0)==2139095040|(((u[_>>2]=n,o[_>>2]|0)&2139095040|0)==2139095040|(t&2139095040|0)==2139095040))^1)|0}else return 0;return 0}function fs(t){t=t|0;var e=0.0;if(!(n[18784]|0))BE(18784)|0;e=(+u[t+4>>2]+ +u[t+12>>2])*.5;u[4694]=(+u[t>>2]+ +u[t+8>>2])*.5;u[4695]=e;return 18776}function bs(t){t=t|0;var e=0.0;if(!(n[18800]|0))BE(18800)|0;e=(+u[t+12>>2]-+u[t+4>>2])*.5;u[4698]=(+u[t+8>>2]-+u[t>>2])*.5;u[4699]=e;return 18792}function ms(t){t=t|0;return+((+u[t+8>>2]-+u[t>>2]+(+u[t+12>>2]-+u[t+4>>2]))*2.0)}function gs(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0,o=0.0,s=0.0;i=+u[t>>2];n=+u[e>>2];r=t+4|0;o=+u[r>>2];s=+u[e+4>>2];u[t>>2]=i<n?i:n;u[r>>2]=o<s?o:s;r=t+8|0;s=+u[r>>2];o=+u[e+8>>2];t=t+12|0;n=+u[t>>2];i=+u[e+12>>2];u[r>>2]=s>o?s:o;u[t>>2]=n>i?n:i;return}function ys(t,e,i){t=t|0;e=e|0;i=i|0;var n=0.0,r=0.0,o=0.0,s=0.0;n=+u[e>>2];r=+u[i>>2];o=+u[e+4>>2];s=+u[i+4>>2];u[t>>2]=n<r?n:r;u[t+4>>2]=o<s?o:s;s=+u[e+8>>2];o=+u[i+8>>2];r=+u[e+12>>2];n=+u[i+12>>2];u[t+8>>2]=s>o?s:o;u[t+12>>2]=r>n?r:n;return}function vs(t,e){t=t|0;e=e|0;if(!(+u[t>>2]<=+u[e>>2])){t=0;return t|0}if(!(+u[t+4>>2]<=+u[e+4>>2])){t=0;return t|0}if(!(+u[e+8>>2]<=+u[t+8>>2])){t=0;return t|0}t=+u[e+12>>2]<=+u[t+12>>2];return t|0}function ws(t,e,i){t=t|0;e=e|0;i=i|0;var n=0.0,r=0,s=0,a=0.0,c=0.0,l=0.0,h=0.0,p=0,d=0,f=0.0,b=0;s=i;n=+u[s>>2];a=+u[i+8>>2]-n;h=+u[i+12>>2]-+u[i+4>>2];l=h>0.0?h:-h;p=t+8|0;c=+u[s+4>>2];if((a>0.0?a:-a)<1.1920928955078125e-07){if(n<+u[t>>2]){i=0;return i|0}if(+u[p>>2]<n){i=0;return i|0}else{s=0;a=3402823466385288598117041.0e14;n=-3402823466385288598117041.0e14}}else{f=1.0/a;a=f*(+u[t>>2]-n);d=(u[_>>2]=a,o[_>>2]|0);n=f*(+u[p>>2]-n);s=(u[_>>2]=n,o[_>>2]|0);r=a>n;n=(o[_>>2]=r?s:d,+u[_>>2]);n=n>-3402823466385288598117041.0e14?n:-3402823466385288598117041.0e14;a=(o[_>>2]=r?d:s,+u[_>>2]);a=a>3402823466385288598117041.0e14?3402823466385288598117041.0e14:a;if(n>a){d=0;return d|0}else s=r?1065353216:-1082130432}if(l<1.1920928955078125e-07){if(c<+u[t+4>>2]){d=0;return d|0}if(+u[p+4>>2]<c){d=0;return d|0}else r=0}else{f=1.0/h;h=f*(+u[t+4>>2]-c);b=(u[_>>2]=h,o[_>>2]|0);f=f*(+u[p+4>>2]-c);d=(u[_>>2]=f,o[_>>2]|0);r=h>f;f=(o[_>>2]=r?d:b,+u[_>>2]);t=f>n;n=t?f:n;f=(o[_>>2]=r?b:d,+u[_>>2]);if(n>(a<f?a:f)){b=0;return b|0}else{s=t?0:s;r=t?r?1065353216:-1082130432:0}}if(n<0.0){b=0;return b|0}if(+u[i+16>>2]<n){b=0;return b|0}u[e+8>>2]=n;o[e>>2]=s;o[e+4>>2]=r;b=1;return b|0}function xs(t){t=t|0;return t|0}function Ts(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Ss(t){t=t|0;return t+8|0}function As(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+8|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Cs(t){t=t|0;if(!t)return;rE(t);return}function Es(){var t=0;t=nE(28)|0;r[t+22>>1]=1;r[t+24>>1]=-1;r[t+26>>1]=0;o[t>>2]=0;o[t+4>>2]=0;u[t+8>>2]=.20000000298023224;u[t+12>>2]=0.0;u[t+16>>2]=0.0;n[t+20>>0]=0;return t|0}function Ps(t){t=t|0;return o[t>>2]|0}function Ds(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Ms(t){t=t|0;return o[t+4>>2]|0}function Rs(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Is(t){t=t|0;return+ +u[t+8>>2]}function Os(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function ks(t){t=t|0;return+ +u[t+12>>2]}function Ls(t,e){t=t|0;e=+e;u[t+12>>2]=e;return}function js(t){t=t|0;return+ +u[t+16>>2]}function Bs(t,e){t=t|0;e=+e;u[t+16>>2]=e;return}function Fs(t){t=t|0;return(n[t+20>>0]|0)!=0|0}function Js(t,e){t=t|0;e=e|0;n[t+20>>0]=e&1;return}function Gs(t){t=t|0;return t+22|0}function Ns(t,e){t=t|0;e=e|0;t=t+22|0;r[t>>1]=r[e>>1]|0;r[t+2>>1]=r[e+2>>1]|0;r[t+4>>1]=r[e+4>>1]|0;return}function Us(t){t=t|0;if(!t)return;rE(t);return}function Ws(){var t=0,e=0;t=nE(44)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=9;e=t+20|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;o[e+20>>2]=0;return t|0}function Vs(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,l=0;o[t+8>>2]=e;o[t+12>>2]=i;a=+u[n>>2]-+u[e+12>>2];l=n+4|0;c=+u[l>>2]-+u[e+16>>2];r=+u[e+24>>2];s=+u[e+20>>2];u[t+20>>2]=a*r+c*s;u[t+24>>2]=r*c-a*s;s=+u[n>>2]-+u[i+12>>2];a=+u[l>>2]-+u[i+16>>2];c=+u[i+24>>2];r=+u[i+20>>2];u[t+28>>2]=s*c+a*r;u[t+32>>2]=c*a-s*r;return}function Xs(t){t=t|0;return t+20|0}function zs(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function qs(t){t=t|0;return t+28|0}function Hs(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Ys(t){t=t|0;return+ +u[t+36>>2]}function Zs(t,e){t=t|0;e=+e;u[t+36>>2]=e;return}function Qs(t){t=t|0;return+ +u[t+40>>2]}function Ks(t,e){t=t|0;e=+e;u[t+40>>2]=e;return}function $s(t){t=t|0;return o[t>>2]|0}function ta(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function ea(t){t=t|0;return o[t+4>>2]|0}function ia(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function na(t){t=t|0;return o[t+8>>2]|0}function ra(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function oa(t){t=t|0;return o[t+12>>2]|0}function sa(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function aa(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function ca(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function ua(t){t=t|0;if(!t)return;rE(t);return}function la(){var t=0,e=0,i=0;t=nE(64)|0;e=t;i=e+64|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(i|0));return t|0}function ha(t){t=t|0;return t+40|0}function _a(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+40|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function pa(t){t=t|0;return t+48|0}function da(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+48|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function fa(t){t=t|0;return o[t+56>>2]|0}function ba(t,e){t=t|0;e=e|0;o[t+56>>2]=e;return}function ma(t){t=t|0;return o[t+60>>2]|0}function ga(t,e){t=t|0;e=e|0;o[t+60>>2]=e;return}function ya(t){t=t|0;if(!t)return;rE(t);return}function va(){var t=0,e=0;t=nE(72)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=2;e=t+20|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;u[t+36>>2]=1.0;u[t+40>>2]=0.0;u[t+44>>2]=0.0;n[t+48>>0]=0;u[t+52>>2]=0.0;u[t+56>>2]=0.0;n[t+60>>0]=0;u[t+64>>2]=0.0;u[t+68>>2]=0.0;return t|0}function wa(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,c=0.0,l=0.0,h=0,_=0,p=0;o[t+8>>2]=e;o[t+12>>2]=i;s=+u[n>>2]-+u[e+12>>2];p=n+4|0;c=+u[p>>2]-+u[e+16>>2];_=e+24|0;l=+u[_>>2];h=e+20|0;a=+u[h>>2];u[t+20>>2]=s*l+c*a;u[t+24>>2]=l*c-s*a;a=+u[n>>2]-+u[i+12>>2];s=+u[p>>2]-+u[i+16>>2];c=+u[i+24>>2];l=+u[i+20>>2];u[t+28>>2]=a*c+s*l;u[t+32>>2]=c*s-a*l;l=+u[_>>2];a=+u[r>>2];s=+u[h>>2];c=+u[r+4>>2];u[t+36>>2]=l*a+s*c;u[t+40>>2]=l*c-a*s;u[t+44>>2]=+u[i+56>>2]-+u[e+56>>2];return}function xa(t){t=t|0;return t+20|0}function Ta(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Sa(t){t=t|0;return t+28|0}function Aa(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Ca(t){t=t|0;return t+36|0}function Ea(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+36|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Pa(t){t=t|0;return+ +u[t+44>>2]}function Da(t,e){t=t|0;e=+e;u[t+44>>2]=e;return}function Ma(t){t=t|0;return(n[t+48>>0]|0)!=0|0}function Ra(t,e){t=t|0;e=e|0;n[t+48>>0]=e&1;return}function Ia(t){t=t|0;return+ +u[t+52>>2]}function Oa(t,e){t=t|0;e=+e;u[t+52>>2]=e;return}function ka(t){t=t|0;return+ +u[t+56>>2]}function La(t,e){t=t|0;e=+e;u[t+56>>2]=e;return}function ja(t){t=t|0;return(n[t+60>>0]|0)!=0|0}function Ba(t,e){t=t|0;e=e|0;n[t+60>>0]=e&1;return}function Fa(t){t=t|0;return+ +u[t+64>>2]}function Ja(t,e){t=t|0;e=+e;u[t+64>>2]=e;return}function Ga(t){t=t|0;return+ +u[t+68>>2]}function Na(t,e){t=t|0;e=+e;u[t+68>>2]=e;return}function Ua(t){t=t|0;return o[t>>2]|0}function Wa(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Va(t){t=t|0;return o[t+4>>2]|0}function Xa(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function za(t){t=t|0;return o[t+8>>2]|0}function qa(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Ha(t){t=t|0;return o[t+12>>2]|0}function Ya(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function Za(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function Qa(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function Ka(t){t=t|0;if(!t)return;rE(t);return}function $a(t){t=t|0;var e=0;e=nE(103028)|0;sC(e,t);return e|0}function tc(t,e){t=t|0;e=e|0;o[t+102980>>2]=e;return}function ec(t,e){t=t|0;e=e|0;o[t+102940>>2]=e;return}function ic(t,e){t=t|0;e=e|0;o[t+102944>>2]=e;return}function nc(t,e){t=t|0;e=e|0;o[t+102984>>2]=e;return}function rc(t,e){t=t|0;e=e|0;return cC(t,e)|0}function oc(t,e){t=t|0;e=e|0;uC(t,e);return}function sc(t,e){t=t|0;e=e|0;return hC(t,e)|0}function ac(t,e){t=t|0;e=e|0;lC(t,e);return}function cc(t,e,i,n){t=t|0;e=+e;i=i|0;n=n|0;_C(t,e,i,n);return}function uc(t){t=t|0;t=o[t+102952>>2]|0;if(!t)return;do{u[t+76>>2]=0.0;u[t+80>>2]=0.0;u[t+84>>2]=0.0;t=o[t+96>>2]|0}while((t|0)!=0);return}function lc(t){t=t|0;bC(t);return}function hc(t,e,i){t=t|0;e=e|0;i=i|0;pC(t,e,i);return}function _c(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;dC(t,e,i,n);return}function pc(t){t=t|0;return o[t+102952>>2]|0}function dc(t){t=t|0;return o[t+102956>>2]|0}function fc(t){t=t|0;return o[t+102932>>2]|0}function bc(t,e){t=t|0;e=e|0;var i=0;i=t+102976|0;if((e&1|0)==(s[i>>0]|0|0))return;n[i>>0]=e&1;if(e)return;i=o[t+102952>>2]|0;if(!i)return;do{t=i+4|0;e=a[t>>1]|0;if(!(e&2)){r[t>>1]=e|2;u[i+144>>2]=0.0}i=o[i+96>>2]|0}while((i|0)!=0);return}function mc(t){t=t|0;return(n[t+102976>>0]|0)!=0|0}function gc(t,e){t=t|0;e=e|0;n[t+102992>>0]=e&1;return}function yc(t){t=t|0;return(n[t+102992>>0]|0)!=0|0}function vc(t,e){t=t|0;e=e|0;n[t+102993>>0]=e&1;return}function wc(t){t=t|0;return(n[t+102993>>0]|0)!=0|0}function xc(t,e){t=t|0;e=e|0;n[t+102994>>0]=e&1;return}function Tc(t){t=t|0;return(n[t+102994>>0]|0)!=0|0}function Sc(t){t=t|0;return o[t+102900>>2]|0}function Ac(t){t=t|0;return o[t+102960>>2]|0}function Cc(t){t=t|0;return o[t+102964>>2]|0}function Ec(t){t=t|0;return o[t+102936>>2]|0}function Pc(t){t=t|0;var e=0;e=o[t+102872>>2]|0;if((e|0)==-1){t=0;return t|0}t=o[(o[t+102876>>2]|0)+(e*36|0)+32>>2]|0;return t|0}function Dc(t){t=t|0;var e=0,i=0,n=0,r=0;r=o[t+102884>>2]|0;if((r|0)<=0){r=0;return r|0}i=o[t+102876>>2]|0;n=0;t=0;while(1){if((o[i+(n*36|0)+32>>2]|0)>=2){e=o[i+(n*36|0)+24>>2]|0;if((e|0)==-1){e=5;break}e=(o[i+((o[i+(n*36|0)+28>>2]|0)*36|0)+32>>2]|0)-(o[i+(e*36|0)+32>>2]|0)|0;e=(e|0)>0?e:0-e|0;t=(t|0)>(e|0)?t:e}n=n+1|0;if((n|0)>=(r|0)){e=8;break}}if((e|0)==5)Gt(9729,9084,683,9753);else if((e|0)==8)return t|0;return 0}function Mc(t){t=t|0;var e=0.0,i=0,n=0,r=0.0;i=o[t+102872>>2]|0;if((i|0)==-1){r=0.0;return+r}n=o[t+102876>>2]|0;r=(+u[n+(i*36|0)+8>>2]-+u[n+(i*36|0)>>2]+(+u[n+(i*36|0)+12>>2]-+u[n+(i*36|0)+4>>2]))*2.0;i=o[t+102884>>2]|0;if((i|0)>0){t=0;e=0.0;do{if((o[n+(t*36|0)+32>>2]|0)>=0)e=e+(+u[n+(t*36|0)+8>>2]-+u[n+(t*36|0)>>2]+(+u[n+(t*36|0)+12>>2]-+u[n+(t*36|0)+4>>2]))*2.0;t=t+1|0}while((t|0)!=(i|0))}else e=0.0;r=e/r;return+r}function Rc(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+102968|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Ic(t){t=t|0;var e=0,i=0;if(!(n[18816]|0))BE(18816)|0;i=t+102968|0;e=o[i+4>>2]|0;t=18808;o[t>>2]=o[i>>2];o[t+4>>2]=e;return 18808}function Oc(t){t=t|0;return(o[t+102868>>2]&2|0)!=0|0}function kc(t,e){t=t|0;e=e|0;var i=0;t=t+102868|0;i=o[t>>2]|0;o[t>>2]=e?i|4:i&-5;return}function Lc(t){t=t|0;return(o[t+102868>>2]&4|0)!=0|0}function jc(t){t=t|0;return t+102996|0}function Bc(t){t=t|0;mC(t);return}function Fc(t){t=t|0;if(!t)return;aC(t);rE(t);return}function Jc(t){t=t|0;return t+68|0}function Gc(t){t=t|0;return t+76|0}function Nc(t){t=t|0;return t+84|0}function Uc(t){t=t|0;return+ +u[t+100>>2]}function Wc(t){t=t|0;var e=0.0,i=0.0,n=0.0,r=0.0,s=0,a=0.0,c=0.0,l=0,h=0.0,_=0.0,p=0.0,d=0.0;s=o[t+48>>2]|0;i=+u[s+24>>2];c=+u[t+68>>2];r=+u[s+20>>2];a=+u[t+72>>2];l=o[t+52>>2]|0;_=+u[l+24>>2];d=+u[t+76>>2];p=+u[l+20>>2];h=+u[t+80>>2];n=+u[t+84>>2];e=+u[t+88>>2];return+((+u[l+12>>2]+(_*d-p*h)-(+u[s+12>>2]+(i*c-r*a)))*(i*n-r*e)+(d*p+_*h+ +u[l+16>>2]-(c*r+i*a+ +u[s+16>>2]))*(r*n+i*e))}function Vc(t){t=t|0;var e=0.0,i=0.0,n=0,r=0.0,s=0.0,a=0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0;n=o[t+48>>2]|0;a=o[t+52>>2]|0;h=+u[t+68>>2]-+u[n+28>>2];r=+u[t+72>>2]-+u[n+32>>2];e=+u[n+24>>2];p=+u[n+20>>2];i=h*e-r*p;h=e*r+h*p;r=+u[t+76>>2]-+u[a+28>>2];c=+u[t+80>>2]-+u[a+32>>2];_=+u[a+24>>2];l=+u[a+20>>2];s=r*_-c*l;l=_*c+r*l;r=+u[t+84>>2];c=+u[t+88>>2];_=e*r-p*c;c=p*r+e*c;e=+u[n+72>>2];r=+u[a+72>>2];return+((l+ +u[a+48>>2]-(h+ +u[n+48>>2]))*(_*e)-(s+ +u[a+44>>2]-(i+ +u[n+44>>2]))*(c*e)+(_*(h*e+(+u[a+64>>2]-l*r-+u[n+64>>2]))+c*(+u[a+68>>2]+s*r-+u[n+68>>2]-i*e)))}function Xc(t){t=t|0;return(n[t+136>>0]|0)!=0|0}function zc(t,e){t=t|0;e=e|0;var i=0,c=0,l=0,h=0;h=t+136|0;if((e&1|0)==(s[h>>0]|0|0))return;i=o[t+48>>2]|0;l=i+4|0;c=a[l>>1]|0;if(!(c&2)){r[l>>1]=c|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;l=i+4|0;c=a[l>>1]|0;if(!(c&2)){r[l>>1]=c|2;u[i+144>>2]=0.0}n[h>>0]=e&1;u[t+112>>2]=0.0;return}function qc(t){t=t|0;return+ +u[t+120>>2]}function Hc(t){t=t|0;return+ +u[t+124>>2]}function Yc(t,e,i){t=t|0;e=+e;i=+i;var n=0,s=0,c=0,l=0;if(!(e<=i))Gt(15424,15325,567,15494);l=t+120|0;if(!(+u[l>>2]!=e)?!(+u[t+124>>2]!=i):0)return;n=o[t+48>>2]|0;c=n+4|0;s=a[c>>1]|0;if(!(s&2)){r[c>>1]=s|2;u[n+144>>2]=0.0}n=o[t+52>>2]|0;c=n+4|0;s=a[c>>1]|0;if(!(s&2)){r[c>>1]=s|2;u[n+144>>2]=0.0}u[l>>2]=e;u[t+124>>2]=i;u[t+112>>2]=0.0;return}function Zc(t){t=t|0;return(n[t+137>>0]|0)!=0|0}function Qc(t,e){t=t|0;e=e|0;var i=0,s=0,c=0;c=e&1;e=o[t+48>>2]|0;s=e+4|0;i=a[s>>1]|0;if(!(i&2)){r[s>>1]=i|2;u[e+144>>2]=0.0}e=o[t+52>>2]|0;s=e+4|0;i=a[s>>1]|0;if(i&2|0){t=t+137|0;n[t>>0]=c;return}r[s>>1]=i|2;u[e+144>>2]=0.0;t=t+137|0;n[t>>0]=c;return}function Kc(t,e){t=t|0;e=+e;var i=0,n=0,s=0;i=o[t+48>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;s=i+4|0;n=a[s>>1]|0;if(n&2|0){t=t+132|0;u[t>>2]=e;return}r[s>>1]=n|2;u[i+144>>2]=0.0;t=t+132|0;u[t>>2]=e;return}function $c(t){t=t|0;return+ +u[t+132>>2]}function tu(t,e){t=t|0;e=+e;var i=0,n=0,s=0;i=o[t+48>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;s=i+4|0;n=a[s>>1]|0;if(n&2|0){t=t+128|0;u[t>>2]=e;return}r[s>>1]=n|2;u[i+144>>2]=0.0;t=t+128|0;u[t>>2]=e;return}function eu(t){t=t|0;return+ +u[t+128>>2]}function iu(t,e){t=t|0;e=+e;return+(+u[t+116>>2]*e)}function nu(t){t=t|0;return o[t+4>>2]|0}function ru(t){t=t|0;return o[t+48>>2]|0}function ou(t){t=t|0;return o[t+52>>2]|0}function su(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18832]|0))BE(18832)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18824;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18824}function au(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18848]|0))BE(18848)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18840;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18840}function cu(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[18864]|0))BE(18864)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=18856;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 18856}function uu(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function lu(t){t=t|0;return o[t+12>>2]|0}function hu(t){t=t|0;return o[t+64>>2]|0}function _u(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function pu(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function du(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function fu(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function bu(t){t=t|0;return t|0}function mu(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function gu(t){t=t|0;return+ +u[t+8>>2]}function yu(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function vu(t){t=t|0;if(!t)return;rE(t);return}function wu(t){t=t|0;return t|0}function xu(t,e){t=t|0;e=e|0;e=s[e>>0]|s[e+1>>0]<<8|s[e+2>>0]<<16|s[e+3>>0]<<24;n[t>>0]=e;n[t+1>>0]=e>>8;n[t+2>>0]=e>>16;n[t+3>>0]=e>>24;return}function Tu(t){t=t|0;return o[t>>2]|0}function Su(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Au(t){t=t|0;if(!t)return;rE(t);return}function Cu(){var t=0;t=nE(4)|0;o[t>>2]=744;return t|0}function Eu(t,e){t=t|0;e=e|0;kk[o[(o[t>>2]|0)+8>>2]&127](t,e);return}function Pu(t,e){t=t|0;e=e|0;kk[o[(o[t>>2]|0)+12>>2]&127](t,e);return}function Du(t,e,i){t=t|0;e=e|0;i=i|0;Fk[o[(o[t>>2]|0)+16>>2]&63](t,e,i);return}function Mu(t,e,i){t=t|0;e=e|0;i=i|0;Fk[o[(o[t>>2]|0)+20>>2]&63](t,e,i);return}function Ru(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function Iu(){return nE(16)|0}function Ou(t,e){t=t|0;e=e|0;var i=0,n=0,r=0;i=nE(16)|0;r=t;t=o[r+4>>2]|0;n=i;o[n>>2]=o[r>>2];o[n+4>>2]=t;n=e;t=o[n+4>>2]|0;e=i+8|0;o[e>>2]=o[n>>2];o[e+4>>2]=t;return i|0}function ku(t,e,i,n){t=+t;e=+e;i=+i;n=+n;var r=0;r=nE(16)|0;u[r>>2]=t;u[r+4>>2]=i;u[r+8>>2]=e;u[r+12>>2]=n;return r|0}function Lu(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0;r=e;n=o[r+4>>2]|0;e=t;o[e>>2]=o[r>>2];o[e+4>>2]=n;e=i;i=o[e+4>>2]|0;t=t+8|0;o[t>>2]=o[e>>2];o[t+4>>2]=i;return}function ju(t){t=t|0;u[t>>2]=1.0;u[t+8>>2]=0.0;u[t+4>>2]=0.0;u[t+12>>2]=1.0;return}function Bu(t){t=t|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return}function Fu(t){t=t|0;var e=0.0,i=0.0,r=0.0,o=0.0,s=0.0,a=0.0;if(!(n[18872]|0))BE(18872)|0;i=+u[t>>2];o=+u[t+8>>2];s=+u[t+4>>2];a=+u[t+12>>2];e=i*a-o*s;e=e!=0.0?1.0/e:e;r=-e;u[4847]=a*e;u[4848]=s*r;u[4849]=o*r;u[4850]=i*e;return 19388}function Ju(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,l=0.0;if(!(n[18888]|0))BE(18888)|0;s=+u[t>>2];c=+u[t+8>>2];r=+u[t+4>>2];l=+u[t+12>>2];a=s*l-c*r;a=a!=0.0?1.0/a:a;i=+u[e>>2];o=+u[e+4>>2];u[4720]=a*(l*i-c*o);u[4721]=a*(s*o-r*i);return 18880}function Gu(t){t=t|0;return t|0}function Nu(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Uu(t){t=t|0;return t+8|0}function Wu(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+8|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Vu(t){t=t|0;if(!t)return;rE(t);return}function Xu(){var t=0,e=0;t=nE(64)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=7;e=t+20|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;u[t+36>>2]=1.0;u[t+40>>2]=0.0;n[t+44>>0]=0;u[t+48>>2]=0.0;u[t+52>>2]=0.0;u[t+56>>2]=2.0;u[t+60>>2]=.699999988079071;return t|0}function zu(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,c=0.0,l=0.0,h=0,_=0;o[t+8>>2]=e;o[t+12>>2]=i;s=+u[n>>2]-+u[e+12>>2];_=n+4|0;c=+u[_>>2]-+u[e+16>>2];h=e+24|0;l=+u[h>>2];e=e+20|0;a=+u[e>>2];u[t+20>>2]=s*l+c*a;u[t+24>>2]=l*c-s*a;a=+u[n>>2]-+u[i+12>>2];s=+u[_>>2]-+u[i+16>>2];c=+u[i+24>>2];l=+u[i+20>>2];u[t+28>>2]=a*c+s*l;u[t+32>>2]=c*s-a*l;l=+u[h>>2];a=+u[r>>2];s=+u[e>>2];c=+u[r+4>>2];u[t+36>>2]=l*a+s*c;u[t+40>>2]=l*c-a*s;return}function qu(t){t=t|0;return t+20|0}function Hu(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Yu(t){t=t|0;return t+28|0}function Zu(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Qu(t){t=t|0;return t+36|0}function Ku(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+36|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function $u(t){t=t|0;return(n[t+44>>0]|0)!=0|0}function tl(t,e){t=t|0;e=e|0;n[t+44>>0]=e&1;return}function el(t){t=t|0;return+ +u[t+48>>2]}function il(t,e){t=t|0;e=+e;u[t+48>>2]=e;return}function nl(t){t=t|0;return+ +u[t+52>>2]}function rl(t,e){t=t|0;e=+e;u[t+52>>2]=e;return}function ol(t){t=t|0;return+ +u[t+56>>2]}function sl(t,e){t=t|0;e=+e;u[t+56>>2]=e;return}function al(t){t=t|0;return+ +u[t+60>>2]}function cl(t,e){t=t|0;e=+e;u[t+60>>2]=e;return}function ul(t){t=t|0;return o[t>>2]|0}function ll(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function hl(t){t=t|0;return o[t+4>>2]|0}function _l(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function pl(t){t=t|0;return o[t+8>>2]|0}function dl(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function fl(t){t=t|0;return o[t+12>>2]|0}function bl(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function ml(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function gl(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function yl(t){t=t|0;if(!t)return;rE(t);return}function vl(){var t=0,e=0;t=nE(20)|0;o[t>>2]=1024;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return t|0}function wl(t){t=t|0;return o[t+4>>2]|0}function xl(t){t=t|0;return jk[o[(o[t>>2]|0)+12>>2]&63](t)|0}function Tl(t,e,i){t=t|0;e=e|0;i=i|0;return Dk[o[(o[t>>2]|0)+16>>2]&63](t,e,i)|0}function Sl(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Wk[o[(o[t>>2]|0)+20>>2]&63](t,e,i,n,r)|0}function Al(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Vk[o[(o[t>>2]|0)+24>>2]&63](t,e,i,n);return}function Cl(t,e,i){t=t|0;e=e|0;i=+i;Gk[o[(o[t>>2]|0)+28>>2]&63](t,e,i);return}function El(t){t=t|0;return t+12|0}function Pl(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+12|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Dl(t){t=t|0;return o[t+4>>2]|0}function Ml(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Rl(t){t=t|0;return+ +u[t+8>>2]}function Il(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function Ol(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function kl(){var t=0,e=0;t=nE(48)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=8;e=t+20|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;return t|0}function Ll(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,l=0;o[t+8>>2]=e;o[t+12>>2]=i;a=+u[n>>2]-+u[e+12>>2];l=n+4|0;c=+u[l>>2]-+u[e+16>>2];r=+u[e+24>>2];s=+u[e+20>>2];u[t+20>>2]=a*r+c*s;u[t+24>>2]=r*c-a*s;s=+u[n>>2]-+u[i+12>>2];a=+u[l>>2]-+u[i+16>>2];c=+u[i+24>>2];r=+u[i+20>>2];u[t+28>>2]=s*c+a*r;u[t+32>>2]=c*a-s*r;u[t+36>>2]=+u[i+56>>2]-+u[e+56>>2];return}function jl(t){t=t|0;return t+20|0}function Bl(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Fl(t){t=t|0;return t+28|0}function Jl(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Gl(t){t=t|0;return+ +u[t+36>>2]}function Nl(t,e){t=t|0;e=+e;u[t+36>>2]=e;return}function Ul(t){t=t|0;return+ +u[t+40>>2]}function Wl(t,e){t=t|0;e=+e;u[t+40>>2]=e;return}function Vl(t){t=t|0;return+ +u[t+44>>2]}function Xl(t,e){t=t|0;e=+e;u[t+44>>2]=e;return}function zl(t){t=t|0;return o[t>>2]|0}function ql(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Hl(t){t=t|0;return o[t+4>>2]|0}function Yl(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Zl(t){t=t|0;return o[t+8>>2]|0}function Ql(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Kl(t){t=t|0;return o[t+12>>2]|0}function $l(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function th(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function eh(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function ih(t){t=t|0;if(!t)return;rE(t);return}function nh(){var t=0;t=nE(16)|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return t|0}function rh(t){t=t|0;return+ +u[t>>2]}function oh(t,e){t=t|0;e=+e;u[t>>2]=e;return}function sh(t){t=t|0;return t+4|0}function ah(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+4|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function ch(t){t=t|0;return+ +u[t+12>>2]}function uh(t,e){t=t|0;e=+e;u[t+12>>2]=e;return}function lh(t){t=t|0;if(!t)return;rE(t);return}function hh(t){t=t|0;return o[t+68>>2]|0}function _h(t){t=t|0;return o[t+72>>2]|0}function ph(t,e){t=t|0;e=+e;if(((u[_>>2]=e,o[_>>2]|0)&2139095040|0)==2139095040)Gt(15299,14019,394,15316);else{u[t+152>>2]=e;return}}function dh(t){t=t|0;return+ +u[t+152>>2]}function fh(t){t=t|0;return o[t+4>>2]|0}function bh(t){t=t|0;return o[t+48>>2]|0}function mh(t){t=t|0;return o[t+52>>2]|0}function gh(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18904]|0))BE(18904)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18896;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18896}function yh(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18920]|0))BE(18920)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18912;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18912}function vh(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[18936]|0))BE(18936)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=18928;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 18928}function wh(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function xh(t){t=t|0;return o[t+12>>2]|0}function Th(t){t=t|0;return o[t+64>>2]|0}function Sh(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function Ah(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function Ch(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function Eh(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function Ph(t){t=t|0;return t+80|0}function Dh(t){t=t|0;return t+88|0}function Mh(t,e){t=t|0;e=+e;u[t+68>>2]=e;return}function Rh(t){t=t|0;return+ +u[t+68>>2]}function Ih(t,e){t=t|0;e=+e;u[t+72>>2]=e;return}function Oh(t){t=t|0;return+ +u[t+72>>2]}function kh(t){t=t|0;Ik[o[(o[t>>2]|0)+16>>2]&127](t);return}function Lh(t){t=t|0;return o[t+4>>2]|0}function jh(t){t=t|0;return o[t+48>>2]|0}function Bh(t){t=t|0;return o[t+52>>2]|0}function Fh(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18952]|0))BE(18952)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18944;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18944}function Jh(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[18968]|0))BE(18968)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18960;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18960}function Gh(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[18984]|0))BE(18984)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=18976;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 18976}function Nh(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function Uh(t){t=t|0;return o[t+12>>2]|0}function Wh(t){t=t|0;return o[t+64>>2]|0}function Vh(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function Xh(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function zh(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function qh(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function Hh(){var t=0;t=nE(16)|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return t|0}function Yh(t){t=t|0;return o[t>>2]|0}function Zh(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Qh(t){t=t|0;return o[t+4>>2]|0}function Kh(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function $h(t){t=t|0;return o[t+8>>2]|0}function t_(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function e_(t){t=t|0;return o[t+12>>2]|0}function i_(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function n_(t){t=t|0;if(!t)return;rE(t);return}function r_(){var t=0,e=0;t=nE(64)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[t>>2]=4;u[t+20>>2]=-1.0;u[t+24>>2]=1.0;u[t+28>>2]=1.0;u[t+32>>2]=1.0;u[t+36>>2]=-1.0;u[t+40>>2]=0.0;u[t+44>>2]=1.0;u[t+48>>2]=0.0;u[t+52>>2]=0.0;u[t+56>>2]=0.0;u[t+60>>2]=1.0;n[t+16>>0]=1;return t|0}function o_(t,e,i,n,r,o,s,a){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=+a;gC(t,e,i,n,r,o,s,a);return}function s_(t){t=t|0;return t+20|0}function a_(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function c_(t){t=t|0;return t+28|0}function u_(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function l_(t){t=t|0;return t+36|0}function h_(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+36|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function __(t){t=t|0;return t+44|0}function p_(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+44|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function d_(t){t=t|0;return+ +u[t+52>>2]}function f_(t,e){t=t|0;e=+e;u[t+52>>2]=e;return}function b_(t){t=t|0;return+ +u[t+56>>2]}function m_(t,e){t=t|0;e=+e;u[t+56>>2]=e;return}function g_(t){t=t|0;return+ +u[t+60>>2]}function y_(t,e){t=t|0;e=+e;u[t+60>>2]=e;return}function v_(t){t=t|0;return o[t>>2]|0}function w_(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function x_(t){t=t|0;return o[t+4>>2]|0}function T_(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function S_(t){t=t|0;return o[t+8>>2]|0}function A_(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function C_(t){t=t|0;return o[t+12>>2]|0}function E_(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function P_(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function D_(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function M_(t){t=t|0;if(!t)return;rE(t);return}function R_(){var t=0;t=nE(20)|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;return t|0}function I_(t){t=t|0;return t|0}function O_(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function k_(t){t=t|0;return+ +u[t+8>>2]}function L_(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function j_(t){t=t|0;return+ +u[t+12>>2]}function B_(t,e){t=t|0;e=+e;u[t+12>>2]=e;return}function F_(t){t=t|0;return t+16|0}function J_(t,e){t=t|0;e=e|0;o[t+16>>2]=o[e>>2];return}function G_(t){t=t|0;if(!t)return;rE(t);return}function N_(){return nE(16)|0}function U_(t,e){t=t|0;e=e|0;var i=0,n=0,r=0;i=nE(16)|0;r=t;t=o[r+4>>2]|0;n=i;o[n>>2]=o[r>>2];o[n+4>>2]=t;n=e;t=o[n+4>>2]|0;e=i+8|0;o[e>>2]=o[n>>2];o[e+4>>2]=t;return i|0}function W_(t){t=t|0;u[t>>2]=0.0;u[t+4>>2]=0.0;u[t+8>>2]=0.0;u[t+12>>2]=1.0;return}function V_(t,e,i){t=t|0;e=e|0;i=+i;var n=0,r=0;r=e;n=o[r+4>>2]|0;e=t;o[e>>2]=o[r>>2];o[e+4>>2]=n;u[t+8>>2]=+F(+i);u[t+12>>2]=+B(+i);return}function X_(t){t=t|0;return t|0}function z_(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function q_(t){t=t|0;return t+8|0}function H_(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+8|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Y_(t){t=t|0;if(!t)return;rE(t);return}function Z_(){var t=0;t=nE(40)|0;o[t>>2]=888;o[t+4>>2]=3;u[t+8>>2]=.009999999776482582;o[t+12>>2]=0;o[t+16>>2]=0;n[t+36>>0]=0;n[t+37>>0]=0;return t|0}function Q_(t){t=t|0;var e=0;e=t+12|0;iE(o[e>>2]|0);o[e>>2]=0;o[t+16>>2]=0;return}function K_(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0.0,a=0.0,c=0,l=0,h=0.0,_=0.0,p=0;l=t+12|0;if(o[l>>2]|0)Gt(6594,6375,38,9981);c=t+16|0;if(o[c>>2]|0)Gt(6594,6375,38,9981);if((i|0)<=2)Gt(10065,6375,39,9981);s=+u[e>>2];a=+u[e+4>>2];r=1;while(1){_=s;s=+u[e+(r<<3)>>2];h=a;a=+u[e+(r<<3)+4>>2];_=_-s;h=h-a;r=r+1|0;if(!(_*_+h*h>2.499999936844688e-05)){r=9;break}if((r|0)>=(i|0)){r=10;break}}if((r|0)==9)Gt(9992,6375,45,9981);else if((r|0)==10){p=i+1|0;o[c>>2]=p;p=eE(p<<3)|0;o[l>>2]=p;qE(p|0,e|0,i<<3|0)|0;r=p;e=o[r+4>>2]|0;i=p+(i<<3)|0;o[i>>2]=o[r>>2];o[i+4>>2]=e;i=o[l>>2]|0;e=i+((o[c>>2]|0)+-2<<3)|0;l=o[e+4>>2]|0;c=t+20|0;o[c>>2]=o[e>>2];o[c+4>>2]=l;i=i+8|0;c=o[i+4>>2]|0;l=t+28|0;o[l>>2]=o[i>>2];o[l+4>>2]=c;n[t+36>>0]=1;n[t+37>>0]=1;return}}function $_(t,e,i){t=t|0;e=e|0;i=i|0;Jx(t,e,i);return}function tp(t,e){t=t|0;e=e|0;var i=0,r=0;r=e;i=o[r+4>>2]|0;e=t+20|0;o[e>>2]=o[r>>2];o[e+4>>2]=i;n[t+36>>0]=1;return}function ep(t,e){t=t|0;e=e|0;var i=0,r=0;r=e;i=o[r+4>>2]|0;e=t+28|0;o[e>>2]=o[r>>2];o[e+4>>2]=i;n[t+37>>0]=1;return}function ip(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0,a=0,c=0,u=0;if((i|0)<=-1)Gt(7016,6375,112,7050);s=t+16|0;if(((o[s>>2]|0)+-1|0)<=(i|0))Gt(7016,6375,112,7050);o[e+4>>2]=1;o[e+8>>2]=o[t+8>>2];a=t+12|0;r=(o[a>>2]|0)+(i<<3)|0;c=o[r+4>>2]|0;u=e+12|0;o[u>>2]=o[r>>2];o[u+4>>2]=c;u=(o[a>>2]|0)+(i+1<<3)|0;c=o[u+4>>2]|0;r=e+20|0;o[r>>2]=o[u>>2];o[r+4>>2]=c;if((i|0)>0){c=(o[a>>2]|0)+(i+-1<<3)|0;u=o[c+4>>2]|0;r=e+28|0;o[r>>2]=o[c>>2];o[r+4>>2]=u;r=1}else{c=t+20|0;u=o[c+4>>2]|0;r=e+28|0;o[r>>2]=o[c>>2];o[r+4>>2]=u;r=n[t+36>>0]|0}n[e+44>>0]=r;if(((o[s>>2]|0)+-2|0)>(i|0)){t=(o[a>>2]|0)+(i+2<<3)|0;u=o[t+4>>2]|0;c=e+36|0;o[c>>2]=o[t>>2];o[c+4>>2]=u;c=1;u=e+45|0;n[u>>0]=c;return}else{a=t+28|0;u=o[a+4>>2]|0;c=e+36|0;o[c>>2]=o[a>>2];o[c+4>>2]=u;c=n[t+37>>0]|0;u=e+45|0;n[u>>0]=c;return}}function np(t){t=t|0;return o[t+4>>2]|0}function rp(t){t=t|0;return jk[o[(o[t>>2]|0)+12>>2]&63](t)|0}function op(t,e,i){t=t|0;e=e|0;i=i|0;return Dk[o[(o[t>>2]|0)+16>>2]&63](t,e,i)|0}function sp(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Wk[o[(o[t>>2]|0)+20>>2]&63](t,e,i,n,r)|0}function ap(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Vk[o[(o[t>>2]|0)+24>>2]&63](t,e,i,n);return}function cp(t,e,i){t=t|0;e=e|0;i=+i;Gk[o[(o[t>>2]|0)+28>>2]&63](t,e,i);return}function up(t){t=t|0;return o[t+12>>2]|0}function lp(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function hp(t){t=t|0;return o[t+16>>2]|0}function _p(t,e){t=t|0;e=e|0;o[t+16>>2]=e;return}function pp(t){t=t|0;return t+20|0}function dp(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function fp(t){t=t|0;return t+28|0}function bp(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function mp(t){t=t|0;return(n[t+36>>0]|0)!=0|0}function gp(t,e){t=t|0;e=e|0;n[t+36>>0]=e&1;return}function yp(t){t=t|0;return(n[t+37>>0]|0)!=0|0}function vp(t,e){t=t|0;e=e|0;n[t+37>>0]=e&1;return}function wp(t){t=t|0;return o[t+4>>2]|0}function xp(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Tp(t){t=t|0;return+ +u[t+8>>2]}function Sp(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function Ap(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function Cp(){return nE(16)|0}function Ep(t,e,i){t=+t;e=+e;i=+i;var n=0;n=nE(16)|0;u[n>>2]=t;u[n+4>>2]=e;u[n+8>>2]=i;u[n+12>>2]=1.0;return n|0}function Pp(t,e,i,n){t=t|0;e=+e;i=+i;n=+n;u[t>>2]=e;u[t+4>>2]=i;u[t+8>>2]=n;u[t+12>>2]=1.0;return}function Dp(t){t=t|0;return+ +u[t>>2]}function Mp(t,e){t=t|0;e=+e;u[t>>2]=e;return}function Rp(t){t=t|0;return+ +u[t+4>>2]}function Ip(t,e){t=t|0;e=+e;u[t+4>>2]=e;return}function Op(t){t=t|0;return+ +u[t+8>>2]}function kp(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function Lp(t){t=t|0;if(!t)return;rE(t);return}function jp(t){t=t|0;return t+68|0}function Bp(t){t=t|0;return t+76|0}function Fp(t,e){t=t|0;e=+e;u[t+84>>2]=e;return}function Jp(t){t=t|0;return+ +u[t+84>>2]}function Gp(t){t=t|0;return o[t+164>>2]|0}function Np(t){t=t|0;return o[t+4>>2]|0}function Up(t){t=t|0;return o[t+48>>2]|0}function Wp(t){t=t|0;return o[t+52>>2]|0}function Vp(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19e3]|0))BE(19e3)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=18992;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 18992}function Xp(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19016]|0))BE(19016)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19008;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19008}function zp(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[19032]|0))BE(19032)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=19024;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 19024}function qp(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function Hp(t){t=t|0;return o[t+12>>2]|0}function Yp(t){t=t|0;return o[t+64>>2]|0}function Zp(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function Qp(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function Kp(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function $p(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function td(t){t=t|0;return t|0}function ed(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function id(t){t=t|0;return t+8|0}function nd(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+8|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function rd(t){t=t|0;return+ +u[t+16>>2]}function od(t,e){t=t|0;e=+e;u[t+16>>2]=e;return}function sd(t){t=t|0;if(!t)return;rE(t);return}function ad(){var t=0;t=nE(152)|0;o[t>>2]=1064;o[t+4>>2]=2;u[t+8>>2]=.009999999776482582;o[t+148>>2]=0;u[t+12>>2]=0.0;u[t+16>>2]=0.0;return t|0}function cd(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,c=0,l=0,h=0.0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0.0,w=0.0,x=0.0,T=0,S=0,A=0,C=0.0;A=d;d=d+96|0;y=A+32|0;m=A;if((i+-3|0)>>>0>=6)Gt(10036,6758,122,10061);b=(i|0)<8?i:8;qE(y|0,e|0,((b|0)>1?b:1)<<3|0)|0;e=(b|0)>1;b=e?b:1;if((b|0)<3)Gt(13928,6758,159,10061);i=0;n=1;s=+u[y>>2];while(1){r=+u[y+(n<<3)>>2];if(!(r>s))if(r==s?+u[y+(n<<3)+4>>2]<+u[y+(i<<3)+4>>2]:0)S=18;else r=s;else S=18;if((S|0)==18){S=0;i=n}n=n+1|0;if((n|0)==(b|0))break;else s=r}if(e){p=i;f=0;while(1){o[m+(f<<2)>>2]=p;l=y+(p<<3)|0;_=y+(p<<3)+4|0;e=0;c=1;while(1){if((e|0)!=(p|0)){r=+u[l>>2];a=+u[y+(e<<3)>>2]-r;s=+u[_>>2];h=+u[y+(e<<3)+4>>2]-s;r=+u[y+(c<<3)>>2]-r;s=+u[y+(c<<3)+4>>2]-s;C=a*s-h*r;e=C<0.0?c:e;if(C==0.0?r*r+s*s>a*a+h*h:0)n=c;else n=e}else n=c;c=c+1|0;if((c|0)==(b|0))break;else e=n}e=f+1|0;if((n|0)==(i|0)){_=f;break}else{p=n;f=e}}}else{n=(i|0)==0;e=0;while(1){o[m+(e<<2)>>2]=i;e=e+1|0;if(n){_=0;break}else i=0}}if((e|0)<3)Gt(13928,6758,224,10061);o[t+148>>2]=e;if((_|0)<0)Gt(10065,6758,76,10076);else g=0;while(1){p=y+(o[m+(g<<2)>>2]<<3)|0;f=o[p+4>>2]|0;b=t+20+(g<<3)|0;o[b>>2]=o[p>>2];o[b+4>>2]=f;if((g|0)==(_|0)){l=0;break}else g=g+1|0}do{i=l;l=l+1|0;c=(i|0)<(_|0);y=c?l:0;r=+u[t+20+(y<<3)>>2]-+u[t+20+(i<<3)>>2];h=+u[t+20+(y<<3)+4>>2]-+u[t+20+(i<<3)+4>>2];s=r*r+h*h;if(!(s>1.4210854715202004e-14)){S=31;break}a=-r;n=t+84+(i<<3)|0;u[n>>2]=h;i=t+84+(i<<3)+4|0;u[i>>2]=a;C=+L(+s);r=1.0/C;if(!(C<1.1920928955078125e-07)){u[n>>2]=h*r;u[i>>2]=r*a}}while(c);if((S|0)==31)Gt(10092,6758,243,10061);if((_|0)>1){v=0.0;w=0.0;x=0.0;T=0}else Gt(10065,6758,76,10076);do{r=+u[t+20+(T<<3)>>2];a=+u[t+20+(T<<3)+4>>2];S=T;T=T+1|0;S=(S|0)<(_|0)?T:0;s=+u[t+20+(S<<3)>>2];h=+u[t+20+(S<<3)+4>>2];C=(r*h-a*s)*.5;x=x+C;C=C*.3333333432674408;v=v+(r+0.0+s)*C;w=w+(a+0.0+h)*C}while((T|0)!=(e|0));if(x>1.1920928955078125e-07){C=1.0/x;u[t+12>>2]=C*v;u[t+16>>2]=C*w;d=A;return}else Gt(6825,6758,115,10076)}function ud(t,e,i){t=t|0;e=+e;i=+i;var n=0.0,r=0.0;o[t+148>>2]=4;n=-e;r=-i;u[t+20>>2]=n;u[t+24>>2]=r;u[t+28>>2]=e;u[t+32>>2]=r;u[t+36>>2]=e;u[t+40>>2]=i;u[t+44>>2]=n;u[t+48>>2]=i;u[t+84>>2]=0.0;u[t+88>>2]=-1.0;u[t+92>>2]=1.0;u[t+96>>2]=0.0;u[t+100>>2]=0.0;u[t+104>>2]=1.0;u[t+108>>2]=-1.0;u[t+112>>2]=0.0;u[t+12>>2]=0.0;u[t+16>>2]=0.0;return}function ld(t,e,i,n,r){t=t|0;e=+e;i=+i;n=n|0;r=+r;var s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0,p=0.0,d=0,f=0,b=0;_=t+148|0;o[_>>2]=4;p=-e;s=-i;u[t+20>>2]=p;u[t+24>>2]=s;u[t+28>>2]=e;u[t+32>>2]=s;u[t+36>>2]=e;u[t+40>>2]=i;u[t+44>>2]=p;u[t+48>>2]=i;u[t+84>>2]=0.0;u[t+88>>2]=-1.0;u[t+92>>2]=1.0;u[t+96>>2]=0.0;u[t+100>>2]=0.0;u[t+104>>2]=1.0;u[t+108>>2]=-1.0;u[t+112>>2]=0.0;b=n;f=o[b+4>>2]|0;d=t+12|0;o[d>>2]=o[b>>2];o[d+4>>2]=f;h=+u[n>>2];c=+u[n+4>>2];l=+F(+r);a=+B(+r);e=p;i=s;r=0.0;s=-1.0;n=0;while(1){u[t+20+(n<<3)>>2]=h+(a*e-l*i);u[t+20+(n<<3)+4>>2]=c+(l*e+a*i);u[t+84+(n<<3)>>2]=a*r-l*s;u[t+84+(n<<3)+4>>2]=l*r+a*s;n=n+1|0;if((n|0)>=(o[_>>2]|0))break;e=+u[t+20+(n<<3)>>2];i=+u[t+20+(n<<3)+4>>2];r=+u[t+84+(n<<3)>>2];s=+u[t+84+(n<<3)+4>>2]}return}function hd(t){t=t|0;return o[t+148>>2]|0}function _d(t,e){t=t|0;e=e|0;if((e|0)>-1?(o[t+148>>2]|0)>(e|0):0)return t+20+(e<<3)|0;Gt(9849,4525,97,9921);return 0}function pd(t){t=t|0;return o[t+4>>2]|0}function dd(t){t=t|0;return jk[o[(o[t>>2]|0)+12>>2]&63](t)|0}function fd(t,e,i){t=t|0;e=e|0;i=i|0;return Dk[o[(o[t>>2]|0)+16>>2]&63](t,e,i)|0}function bd(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Wk[o[(o[t>>2]|0)+20>>2]&63](t,e,i,n,r)|0}function md(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Vk[o[(o[t>>2]|0)+24>>2]&63](t,e,i,n);return}function gd(t,e,i){t=t|0;e=e|0;i=+i;Gk[o[(o[t>>2]|0)+28>>2]&63](t,e,i);return}function yd(t){t=t|0;return t+12|0}function vd(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+12|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function wd(t){t=t|0;return o[t+148>>2]|0}function xd(t,e){t=t|0;e=e|0;o[t+148>>2]=e;return}function Td(t){t=t|0;return o[t+4>>2]|0}function Sd(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Ad(t){t=t|0;return+ +u[t+8>>2]}function Cd(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function Ed(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function Pd(){var t=0,e=0;t=nE(48)|0;o[t>>2]=928;o[t+4>>2]=1;u[t+8>>2]=.009999999776482582;e=t+28|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;r[e+16>>1]=0;return t|0}function Dd(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0;s=e;e=o[s+4>>2]|0;r=t+12|0;o[r>>2]=o[s>>2];o[r+4>>2]=e;r=i;e=o[r+4>>2]|0;i=t+20|0;o[i>>2]=o[r>>2];o[i+4>>2]=e;n[t+44>>0]=0;n[t+45>>0]=0;return}function Md(t){t=t|0;return o[t+4>>2]|0}function Rd(t){t=t|0;return jk[o[(o[t>>2]|0)+12>>2]&63](t)|0}function Id(t,e,i){t=t|0;e=e|0;i=i|0;return Dk[o[(o[t>>2]|0)+16>>2]&63](t,e,i)|0}function Od(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Wk[o[(o[t>>2]|0)+20>>2]&63](t,e,i,n,r)|0}function kd(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Vk[o[(o[t>>2]|0)+24>>2]&63](t,e,i,n);return}function Ld(t,e,i){t=t|0;e=e|0;i=+i;Gk[o[(o[t>>2]|0)+28>>2]&63](t,e,i);return}function jd(t){t=t|0;return t+12|0}function Bd(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+12|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Fd(t){t=t|0;return t+20|0}function Jd(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Gd(t){t=t|0;return t+28|0}function Nd(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Ud(t){t=t|0;return t+36|0}function Wd(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+36|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Vd(t){t=t|0;return(n[t+44>>0]|0)!=0|0}function Xd(t,e){t=t|0;e=e|0;n[t+44>>0]=e&1;return}function zd(t){t=t|0;return(n[t+45>>0]|0)!=0|0}function qd(t,e){t=t|0;e=e|0;n[t+45>>0]=e&1;return}function Hd(t){t=t|0;return o[t+4>>2]|0}function Yd(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Zd(t){t=t|0;return+ +u[t+8>>2]}function Qd(t,e){t=t|0;e=+e;u[t+8>>2]=e;return}function Kd(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function $d(){var t=0;t=nE(4)|0;o[t>>2]=776;return t|0}function tf(t,e,i){t=t|0;e=e|0;i=i|0;return Dk[o[(o[t>>2]|0)+8>>2]&63](t,e,i)|0}function ef(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function nf(){var t=0,e=0;t=nE(64)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=1;e=t+20|0;u[t+44>>2]=0.0;u[t+48>>2]=0.0;u[t+60>>2]=0.0;u[t+56>>2]=0.0;n[t+52>>0]=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;n[e+20>>0]=0;return t|0}function rf(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,l=0;o[t+8>>2]=e;o[t+12>>2]=i;a=+u[n>>2]-+u[e+12>>2];l=n+4|0;c=+u[l>>2]-+u[e+16>>2];r=+u[e+24>>2];s=+u[e+20>>2];u[t+20>>2]=a*r+c*s;u[t+24>>2]=r*c-a*s;s=+u[n>>2]-+u[i+12>>2];a=+u[l>>2]-+u[i+16>>2];c=+u[i+24>>2];r=+u[i+20>>2];u[t+28>>2]=s*c+a*r;u[t+32>>2]=c*a-s*r;u[t+36>>2]=+u[i+56>>2]-+u[e+56>>2];return}function of(t){t=t|0;return t+20|0}function sf(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function af(t){t=t|0;return t+28|0}function cf(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function uf(t){t=t|0;return+ +u[t+36>>2]}function lf(t,e){t=t|0;e=+e;u[t+36>>2]=e;return}function hf(t){t=t|0;return(n[t+40>>0]|0)!=0|0}function _f(t,e){t=t|0;e=e|0;n[t+40>>0]=e&1;return}function pf(t){t=t|0;return+ +u[t+44>>2]}function df(t,e){t=t|0;e=+e;u[t+44>>2]=e;return}function ff(t){t=t|0;return+ +u[t+48>>2]}function bf(t,e){t=t|0;e=+e;u[t+48>>2]=e;return}function mf(t){t=t|0;return(n[t+52>>0]|0)!=0|0}function gf(t,e){t=t|0;e=e|0;n[t+52>>0]=e&1;return}function yf(t){t=t|0;return+ +u[t+56>>2]}function vf(t,e){t=t|0;e=+e;u[t+56>>2]=e;return}function wf(t){t=t|0;return+ +u[t+60>>2]}function xf(t,e){t=t|0;e=+e;u[t+60>>2]=e;return}function Tf(t){t=t|0;return o[t>>2]|0}function Sf(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Af(t){t=t|0;return o[t+4>>2]|0}function Cf(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Ef(t){t=t|0;return o[t+8>>2]|0}function Pf(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Df(t){t=t|0;return o[t+12>>2]|0}function Mf(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function Rf(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function If(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function Of(t){t=t|0;if(!t)return;rE(t);return}function kf(){var t=0;t=nE(8)|0;o[t+4>>2]=0;o[t>>2]=796;return t|0}function Lf(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Vk[o[(o[t>>2]|0)+8>>2]&63](t,e,i,n);return}function jf(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Vk[o[(o[t>>2]|0)+12>>2]&63](t,e,i,n);return}function Bf(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;Bk[o[(o[t>>2]|0)+16>>2]&63](t,e,i,n);return}function Ff(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;Lk[o[(o[t>>2]|0)+20>>2]&63](t,e,i,n,r);return}function Jf(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Vk[o[(o[t>>2]|0)+24>>2]&63](t,e,i,n);return}function Gf(t,e){t=t|0;e=e|0;kk[o[(o[t>>2]|0)+28>>2]&127](t,e);return}function Nf(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function Uf(t){t=t|0;return t+76|0}function Wf(t){t=t|0;return t+84|0}function Vf(t){t=t|0;return t+92|0}function Xf(t){t=t|0;var e=0.0,i=0.0,n=0.0,r=0.0,s=0,a=0.0,c=0.0,l=0,h=0.0,_=0.0,p=0.0,d=0.0;s=o[t+48>>2]|0;l=o[t+52>>2]|0;i=+u[s+24>>2];c=+u[t+76>>2];r=+u[s+20>>2];a=+u[t+80>>2];_=+u[l+24>>2];d=+u[t+84>>2];p=+u[l+20>>2];h=+u[t+88>>2];n=+u[t+92>>2];e=+u[t+96>>2];return+((+u[l+12>>2]+(_*d-p*h)-(+u[s+12>>2]+(i*c-r*a)))*(i*n-r*e)+(d*p+_*h+ +u[l+16>>2]-(c*r+i*a+ +u[s+16>>2]))*(r*n+i*e))}function zf(t){t=t|0;return+(+u[(o[t+52>>2]|0)+72>>2]-+u[(o[t+48>>2]|0)+72>>2])}function qf(t){t=t|0;return(n[t+128>>0]|0)!=0|0}function Hf(t,e){t=t|0;e=e|0;var i=0,s=0,c=0;c=e&1;e=o[t+48>>2]|0;s=e+4|0;i=a[s>>1]|0;if(!(i&2)){r[s>>1]=i|2;u[e+144>>2]=0.0}e=o[t+52>>2]|0;s=e+4|0;i=a[s>>1]|0;if(i&2|0){t=t+128|0;n[t>>0]=c;return}r[s>>1]=i|2;u[e+144>>2]=0.0;t=t+128|0;n[t>>0]=c;return}function Yf(t,e){t=t|0;e=+e;var i=0,n=0,s=0;i=o[t+48>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;s=i+4|0;n=a[s>>1]|0;if(n&2|0){t=t+124|0;u[t>>2]=e;return}r[s>>1]=n|2;u[i+144>>2]=0.0;t=t+124|0;u[t>>2]=e;return}function Zf(t){t=t|0;return+ +u[t+124>>2]}function Qf(t,e){t=t|0;e=+e;var i=0,n=0,s=0;i=o[t+48>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;s=i+4|0;n=a[s>>1]|0;if(n&2|0){t=t+120|0;u[t>>2]=e;return}r[s>>1]=n|2;u[i+144>>2]=0.0;t=t+120|0;u[t>>2]=e;return}function Kf(t){t=t|0;return+ +u[t+120>>2]}function $f(t,e){t=t|0;e=+e;return+(+u[t+112>>2]*e)}function tb(t,e){t=t|0;e=+e;u[t+68>>2]=e;return}function eb(t){t=t|0;return+ +u[t+68>>2]}function ib(t,e){t=t|0;e=+e;u[t+72>>2]=e;return}function nb(t){t=t|0;return+ +u[t+72>>2]}function rb(t){t=t|0;return o[t+4>>2]|0}function ob(t){t=t|0;return o[t+48>>2]|0}function sb(t){t=t|0;return o[t+52>>2]|0}function ab(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19048]|0))BE(19048)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19040;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19040}function cb(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19064]|0))BE(19064)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19056;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19056}function ub(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[19080]|0))BE(19080)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=19072;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 19072}function lb(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function hb(t){t=t|0;return o[t+12>>2]|0}function _b(t){t=t|0;return o[t+64>>2]|0}function pb(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function db(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function fb(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function bb(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function mb(t){t=t|0;var e=0,i=0;if(!(n[19096]|0))BE(19096)|0;i=t+68|0;e=o[i+4>>2]|0;t=19088;o[t>>2]=o[i>>2];o[t+4>>2]=e;return 19088}function gb(t){t=t|0;var e=0,i=0;if(!(n[19112]|0))BE(19112)|0;i=t+76|0;e=o[i+4>>2]|0;t=19104;o[t>>2]=o[i>>2];o[t+4>>2]=e;return 19104}function yb(t){t=t|0;return+ +u[t+84>>2]}function vb(t){t=t|0;return+ +u[t+88>>2]}function wb(t){t=t|0;return+ +u[t+112>>2]}function xb(t){t=t|0;var e=0.0,i=0.0,n=0,r=0.0,s=0.0,a=0.0;n=o[t+48>>2]|0;r=+u[n+24>>2];a=+u[t+92>>2];s=+u[n+20>>2];e=+u[t+96>>2];i=+u[n+12>>2]+(r*a-s*e)-+u[t+68>>2];e=a*s+r*e+ +u[n+16>>2]-+u[t+72>>2];return+ +L(+(i*i+e*e))}function Tb(t){t=t|0;var e=0.0,i=0.0,n=0,r=0.0,s=0.0,a=0.0;n=o[t+52>>2]|0;r=+u[n+24>>2];a=+u[t+100>>2];s=+u[n+20>>2];e=+u[t+104>>2];i=+u[n+12>>2]+(r*a-s*e)-+u[t+76>>2];e=a*s+r*e+ +u[n+16>>2]-+u[t+80>>2];return+ +L(+(i*i+e*e))}function Sb(t){t=t|0;return o[t+4>>2]|0}function Ab(t){t=t|0;return o[t+48>>2]|0}function Cb(t){t=t|0;return o[t+52>>2]|0}function Eb(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19128]|0))BE(19128)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19120;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19120}function Pb(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19144]|0))BE(19144)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19136;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19136}function Db(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[19160]|0))BE(19160)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=19152;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 19152}function Mb(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function Rb(t){t=t|0;return o[t+12>>2]|0}function Ib(t){t=t|0;return o[t+64>>2]|0}function Ob(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function kb(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function Lb(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function jb(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function Bb(){var t=0,e=0;t=nE(40)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=5;u[t+20>>2]=0.0;u[t+24>>2]=0.0;u[t+28>>2]=0.0;u[t+32>>2]=5.0;u[t+36>>2]=.699999988079071;return t|0}function Fb(t){t=t|0;return t+20|0}function Jb(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Gb(t){t=t|0;return+ +u[t+28>>2]}function Nb(t,e){t=t|0;e=+e;u[t+28>>2]=e;return}function Ub(t){t=t|0;return+ +u[t+32>>2]}function Wb(t,e){t=t|0;e=+e;u[t+32>>2]=e;return}function Vb(t){t=t|0;return+ +u[t+36>>2]}function Xb(t,e){t=t|0;e=+e;u[t+36>>2]=e;return}function zb(t){t=t|0;return o[t>>2]|0}function qb(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Hb(t){t=t|0;return o[t+4>>2]|0}function Yb(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Zb(t){t=t|0;return o[t+8>>2]|0}function Qb(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Kb(t){t=t|0;return o[t+12>>2]|0}function $b(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function tm(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function em(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function im(t){t=t|0;if(!t)return;rE(t);return}function nm(t){t=t|0;return t+64|0}function rm(t){t=t|0;return(o[t+4>>2]&2|0)!=0|0}function om(t,e){t=t|0;e=e|0;var i=0;t=t+4|0;i=o[t>>2]|0;o[t>>2]=e?i|4:i&-5;return}function sm(t){t=t|0;return(o[t+4>>2]&4|0)!=0|0}function am(t){t=t|0;return o[t+12>>2]|0}function cm(t){t=t|0;return o[t+48>>2]|0}function um(t){t=t|0;return o[t+56>>2]|0}function lm(t){t=t|0;return o[t+52>>2]|0}function hm(t){t=t|0;return o[t+60>>2]|0}function _m(t,e){t=t|0;e=+e;u[t+136>>2]=e;return}function pm(t){t=t|0;return+ +u[t+136>>2]}function dm(t){t=t|0;u[t+136>>2]=+L(+(+u[(o[t+48>>2]|0)+16>>2]*+u[(o[t+52>>2]|0)+16>>2]));return}function fm(t,e){t=t|0;e=+e;u[t+140>>2]=e;return}function bm(t){t=t|0;return+ +u[t+140>>2]}function mm(t){t=t|0;var e=0.0,i=0.0;i=+u[(o[t+48>>2]|0)+20>>2];e=+u[(o[t+52>>2]|0)+20>>2];u[t+140>>2]=i>e?i:e;return}function gm(t,e){t=t|0;e=+e;u[t+144>>2]=e;return}function ym(t){t=t|0;return+ +u[t+144>>2]}function vm(){var t=0,e=0;t=nE(48)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=3;e=t+20|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;u[t+36>>2]=1.0;u[t+40>>2]=0.0;u[t+44>>2]=0.0;return t|0}function wm(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,c=0,l=0.0,h=0.0;o[t+8>>2]=e;o[t+12>>2]=i;l=+u[n>>2]-+u[e+12>>2];c=n+4|0;h=+u[c>>2]-+u[e+16>>2];a=+u[e+24>>2];s=+u[e+20>>2];u[t+20>>2]=l*a+h*s;u[t+24>>2]=a*h-l*s;s=+u[r>>2]-+u[i+12>>2];e=r+4|0;l=+u[e>>2]-+u[i+16>>2];h=+u[i+24>>2];a=+u[i+20>>2];u[t+28>>2]=s*h+l*a;u[t+32>>2]=h*l-s*a;a=+u[r>>2]-+u[n>>2];s=+u[e>>2]-+u[c>>2];u[t+36>>2]=+L(+(a*a+s*s));return}function xm(t){t=t|0;return t+20|0}function Tm(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Sm(t){t=t|0;return t+28|0}function Am(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function Cm(t){t=t|0;return+ +u[t+36>>2]}function Em(t,e){t=t|0;e=+e;u[t+36>>2]=e;return}function Pm(t){t=t|0;return+ +u[t+40>>2]}function Dm(t,e){t=t|0;e=+e;u[t+40>>2]=e;return}function Mm(t){t=t|0;return+ +u[t+44>>2]}function Rm(t,e){t=t|0;e=+e;u[t+44>>2]=e;return}function Im(t){t=t|0;return o[t>>2]|0}function Om(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function km(t){t=t|0;return o[t+4>>2]|0}function Lm(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function jm(t){t=t|0;return o[t+8>>2]|0}function Bm(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Fm(t){t=t|0;return o[t+12>>2]|0}function Jm(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function Gm(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function Nm(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function Um(t){t=t|0;if(!t)return;rE(t);return}function Wm(t,e){t=t|0;e=e|0;return TA(t,e)|0}function Vm(t,e,i){t=t|0;e=e|0;i=+i;var s=0,a=0;s=d;d=d+32|0;a=s;r[a+22>>1]=1;r[a+24>>1]=-1;r[a+26>>1]=0;o[a+4>>2]=0;u[a+8>>2]=.20000000298023224;u[a+12>>2]=0.0;n[a+20>>0]=0;o[a>>2]=e;u[a+16>>2]=i;t=TA(t,a)|0;d=s;return t|0}function Xm(t,e){t=t|0;e=e|0;AA(t,e);return}function zm(t,e,i){t=t|0;e=e|0;i=+i;DA(t,e,i);return}function qm(t){t=t|0;return t+12|0}function Hm(t){t=t|0;return t+12|0}function Ym(t){t=t|0;return+ +u[t+56>>2]}function Zm(t){t=t|0;return t+44|0}function Qm(t){t=t|0;return t+28|0}function Km(t,e){t=t|0;e=e|0;var i=0,n=0,s=0.0,c=0.0;if(!(o[t>>2]|0))return;c=+u[e>>2];s=+u[e+4>>2];if(c*c+s*s>0.0?(n=t+4|0,i=a[n>>1]|0,(i&2|0)==0):0){r[n>>1]=i|2;u[t+144>>2]=0.0}i=e;n=o[i+4>>2]|0;t=t+64|0;o[t>>2]=o[i>>2];o[t+4>>2]=n;return}function $m(t){t=t|0;var e=0,i=0;if(!(n[19176]|0))BE(19176)|0;i=t+64|0;e=o[i+4>>2]|0;t=19168;o[t>>2]=o[i>>2];o[t+4>>2]=e;return 19168}function tg(t,e){t=t|0;e=+e;var i=0,n=0;if(!(o[t>>2]|0))return;if(e*e>0.0?(n=t+4|0,i=a[n>>1]|0,(i&2|0)==0):0){r[n>>1]=i|2;u[t+144>>2]=0.0}u[t+72>>2]=e;return}function eg(t){t=t|0;return+ +u[t+72>>2]}function ig(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var s=0,a=0,c=0;if((o[t>>2]|0)!=2)return;c=t+4|0;s=r[c>>1]|0;if((s&2)==0&n?(a=s&65535,(a&2|0)==0):0){s=(a|2)&65535;r[c>>1]=s;u[t+144>>2]=0.0}if(!(s&2))return;a=t+76|0;u[a>>2]=+u[e>>2]+ +u[a>>2];a=e+4|0;c=t+80|0;u[c>>2]=+u[a>>2]+ +u[c>>2];c=t+84|0;u[c>>2]=+u[c>>2]+((+u[i>>2]-+u[t+44>>2])*+u[a>>2]-(+u[i+4>>2]-+u[t+48>>2])*+u[e>>2]);return}function ng(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,s=0,a=0;if((o[t>>2]|0)!=2)return;a=t+4|0;n=r[a>>1]|0;if((n&2)==0&i?(s=n&65535,(s&2|0)==0):0){n=(s|2)&65535;r[a>>1]=n;u[t+144>>2]=0.0}if(!(n&2))return;a=t+76|0;u[a>>2]=+u[e>>2]+ +u[a>>2];t=t+80|0;u[t>>2]=+u[e+4>>2]+ +u[t>>2];return}function rg(t,e,i){t=t|0;e=+e;i=i|0;var n=0,s=0,a=0;if((o[t>>2]|0)!=2)return;a=t+4|0;n=r[a>>1]|0;if((n&2)==0&i?(s=n&65535,(s&2|0)==0):0){n=(s|2)&65535;r[a>>1]=n;u[t+144>>2]=0.0}if(!(n&2))return;t=t+84|0;u[t>>2]=+u[t>>2]+e;return}function og(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var s=0,a=0,c=0,l=0.0,h=0.0;if((o[t>>2]|0)!=2)return;c=t+4|0;s=r[c>>1]|0;if((s&2)==0&n?(a=s&65535,(a&2|0)==0):0){s=(a|2)&65535;r[c>>1]=s;u[t+144>>2]=0.0}if(!(s&2))return;h=+u[t+120>>2];a=e+4|0;l=h*+u[a>>2];c=t+64|0;u[c>>2]=h*+u[e>>2]+ +u[c>>2];c=t+68|0;u[c>>2]=l+ +u[c>>2];c=t+72|0;u[c>>2]=+u[c>>2]+ +u[t+128>>2]*((+u[i>>2]-+u[t+44>>2])*+u[a>>2]-(+u[i+4>>2]-+u[t+48>>2])*+u[e>>2]);return}function sg(t,e,i){t=t|0;e=+e;i=i|0;var n=0,s=0,a=0;if((o[t>>2]|0)!=2)return;a=t+4|0;n=r[a>>1]|0;if((n&2)==0&i?(s=n&65535,(s&2|0)==0):0){n=(s|2)&65535;r[a>>1]=n;u[t+144>>2]=0.0}if(!(n&2))return;a=t+72|0;u[a>>2]=+u[a>>2]+ +u[t+128>>2]*e;return}function ag(t){t=t|0;return+ +u[t+116>>2]}function cg(t){t=t|0;var e=0.0,i=0.0;i=+u[t+28>>2];e=+u[t+32>>2];return+(+u[t+124>>2]+ +u[t+116>>2]*(i*i+e*e))}function ug(t,e){t=t|0;e=e|0;var i=0,n=0,r=0.0,s=0.0,a=0.0;a=+u[t+116>>2];u[e>>2]=a;n=t+28|0;s=+u[n>>2];r=+u[t+32>>2];u[e+12>>2]=+u[t+124>>2]+a*(s*s+r*r);i=o[n+4>>2]|0;t=e+4|0;o[t>>2]=o[n>>2];o[t+4>>2]=i;return}function lg(t,e){t=t|0;e=e|0;PA(t,e);return}function hg(t){t=t|0;vA(t);return}function _g(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0;if(!(n[19192]|0))BE(19192)|0;a=+u[t+24>>2];s=+u[e>>2];o=+u[t+20>>2];r=+u[e+4>>2];i=s*o+a*r+ +u[t+16>>2];u[4796]=+u[t+12>>2]+(a*s-o*r);u[4797]=i;return 19184}function pg(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,o=0.0,s=0.0;if(!(n[19208]|0))BE(19208)|0;r=+u[t+24>>2];s=+u[e>>2];o=+u[t+20>>2];i=+u[e+4>>2];u[4800]=r*s-o*i;u[4801]=s*o+r*i;return 19200}function dg(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,o=0.0,s=0.0;if(!(n[19224]|0))BE(19224)|0;r=+u[e>>2]-+u[t+12>>2];o=+u[e+4>>2]-+u[t+16>>2];s=+u[t+24>>2];i=+u[t+20>>2];u[4804]=r*s+o*i;u[4805]=s*o-r*i;return 19216}function fg(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,o=0.0,s=0.0;if(!(n[19240]|0))BE(19240)|0;s=+u[t+24>>2];r=+u[e>>2];i=+u[t+20>>2];o=+u[e+4>>2];u[4808]=s*r+i*o;u[4809]=s*o-r*i;return 19232}function bg(t,e){t=t|0;e=e|0;var i=0.0,r=0.0;if(!(n[19256]|0))BE(19256)|0;r=+u[t+72>>2];i=r*(+u[e>>2]-+u[t+44>>2])+ +u[t+68>>2];u[4812]=+u[t+64>>2]-r*(+u[e+4>>2]-+u[t+48>>2]);u[4813]=i;return 19248}function mg(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,o=0.0,s=0.0,a=0.0,c=0.0;if(!(n[19272]|0))BE(19272)|0;o=+u[t+24>>2];a=+u[e>>2];s=+u[t+20>>2];r=+u[e+4>>2];c=+u[t+72>>2];i=c*(+u[t+12>>2]+(o*a-s*r)-+u[t+44>>2])+ +u[t+68>>2];u[4816]=+u[t+64>>2]-c*(a*s+o*r+ +u[t+16>>2]-+u[t+48>>2]);u[4817]=i;return 19264}function gg(t){t=t|0;return+ +u[t+132>>2]}function yg(t,e){t=t|0;e=+e;u[t+132>>2]=e;return}function vg(t){t=t|0;return+ +u[t+136>>2]}function wg(t,e){t=t|0;e=+e;u[t+136>>2]=e;return}function xg(t){t=t|0;return+ +u[t+140>>2]}function Tg(t,e){t=t|0;e=+e;u[t+140>>2]=e;return}function Sg(t,e){t=t|0;e=e|0;yA(t,e);return}function Ag(t){t=t|0;return o[t>>2]|0}function Cg(t,e){t=t|0;e=e|0;var i=0;t=t+4|0;i=a[t>>1]|0;r[t>>1]=e?i|8:i&65527;return}function Eg(t){t=t|0;return(r[t+4>>1]&8)!=0|0}function Pg(t,e){t=t|0;e=e|0;var i=0,n=0;n=t+4|0;i=a[n>>1]|0;if(e){r[n>>1]=i|4;return}e=i&65531;r[n>>1]=e;if(i&2|0)return;r[n>>1]=e|2;u[t+144>>2]=0.0;return}function Dg(t){t=t|0;return(r[t+4>>1]&4)!=0|0}function Mg(t,e){t=t|0;e=e|0;var i=0,n=0;n=t+4|0;i=a[n>>1]|0;do{if(e)if(!(i&2)){r[n>>1]=i|2;e=t+144|0;break}else return;else{r[n>>1]=i&65533;u[t+144>>2]=0.0;e=t+64|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;e=t+84|0}}while(0);u[e>>2]=0.0;return}function Rg(t){t=t|0;return(r[t+4>>1]&2)!=0|0}function Ig(t,e){t=t|0;e=e|0;MA(t,e);return}function Og(t){t=t|0;return(r[t+4>>1]&32)!=0|0}function kg(t,e){t=t|0;e=e|0;var i=0,n=0;i=t+4|0;n=a[i>>1]|0;if(!((n&16|0)!=0^e))return;r[i>>1]=e?n|16:n&65519;u[t+72>>2]=0.0;vA(t);return}function Lg(t){t=t|0;return(r[t+4>>1]&16)!=0|0}function jg(t){t=t|0;return o[t+100>>2]|0}function Bg(t){t=t|0;return o[t+108>>2]|0}function Fg(t){t=t|0;return o[t+112>>2]|0}function Jg(t){t=t|0;return o[t+96>>2]|0}function Gg(t){t=t|0;return o[t+148>>2]|0}function Ng(t,e){t=t|0;e=e|0;o[t+148>>2]=e;return}function Ug(t){t=t|0;return o[t+88>>2]|0}function Wg(t){t=t|0;RA(t);return}function Vg(t){t=t|0;return t+68|0}function Xg(t){t=t|0;return t+76|0}function zg(t,e){t=t|0;e=+e;if(e>=0.0&((u[_>>2]=e,o[_>>2]|0)&2139095040|0)!=2139095040){u[t+96>>2]=e;return}else Gt(15149,15183,217,15238)}function qg(t){t=t|0;return+ +u[t+96>>2]}function Hg(t,e){t=t|0;e=+e;if(e>=0.0&((u[_>>2]=e,o[_>>2]|0)&2139095040|0)!=2139095040){u[t+100>>2]=e;return}else Gt(15250,15183,228,15286)}function Yg(t){t=t|0;return+ +u[t+100>>2]}function Zg(t){t=t|0;return o[t+4>>2]|0}function Qg(t){t=t|0;return o[t+48>>2]|0}function Kg(t){t=t|0;return o[t+52>>2]|0}function $g(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19288]|0))BE(19288)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19280;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19280}function ty(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19304]|0))BE(19304)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19296;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19296}function ey(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[19320]|0))BE(19320)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=19312;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 19312}function iy(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function ny(t){t=t|0;return o[t+12>>2]|0}function ry(t){t=t|0;return o[t+64>>2]|0}function oy(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function sy(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function ay(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function cy(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function uy(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+4>>2]&127](t);return}function ly(){var t=0,e=0;t=nE(32)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=6;o[t+20>>2]=0;o[t+24>>2]=0;u[t+28>>2]=1.0;return t|0}function hy(t){t=t|0;return o[t+20>>2]|0}function _y(t,e){t=t|0;e=e|0;o[t+20>>2]=e;return}function py(t){t=t|0;return o[t+24>>2]|0}function dy(t,e){t=t|0;e=e|0;o[t+24>>2]=e;return}function fy(t){t=t|0;return+ +u[t+28>>2]}function by(t,e){t=t|0;e=+e;u[t+28>>2]=e;return}function my(t){t=t|0;return o[t>>2]|0}function gy(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function yy(t){t=t|0;return o[t+4>>2]|0}function vy(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function wy(t){t=t|0;return o[t+8>>2]|0}function xy(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Ty(t){t=t|0;return o[t+12>>2]|0}function Sy(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function Ay(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function Cy(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function Ey(t){t=t|0;if(!t)return;rE(t);return}function Py(t){t=t|0;return t+68|0}function Dy(t){t=t|0;return t+76|0}function My(t){t=t|0;return+ +u[t+116>>2]}function Ry(t){t=t|0;return+(+u[(o[t+52>>2]|0)+56>>2]-+u[(o[t+48>>2]|0)+56>>2]-+u[t+116>>2])}function Iy(t){t=t|0;return+(+u[(o[t+52>>2]|0)+72>>2]-+u[(o[t+48>>2]|0)+72>>2])}function Oy(t){t=t|0;return(n[t+112>>0]|0)!=0|0}function ky(t,e){t=t|0;e=e|0;var i=0,c=0,l=0,h=0;h=t+112|0;if((e&1|0)==(s[h>>0]|0|0))return;i=o[t+48>>2]|0;l=i+4|0;c=a[l>>1]|0;if(!(c&2)){r[l>>1]=c|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;l=i+4|0;c=a[l>>1]|0;if(!(c&2)){r[l>>1]=c|2;u[i+144>>2]=0.0}n[h>>0]=e&1;u[t+92>>2]=0.0;return}function Ly(t){t=t|0;return+ +u[t+120>>2]}function jy(t){t=t|0;return+ +u[t+124>>2]}function By(t,e,i){t=t|0;e=+e;i=+i;var n=0,s=0,c=0,l=0;if(!(e<=i))Gt(15424,15439,471,15494);l=t+120|0;if(!(+u[l>>2]!=e)?!(+u[t+124>>2]!=i):0)return;n=o[t+48>>2]|0;c=n+4|0;s=a[c>>1]|0;if(!(s&2)){r[c>>1]=s|2;u[n+144>>2]=0.0}n=o[t+52>>2]|0;c=n+4|0;s=a[c>>1]|0;if(!(s&2)){r[c>>1]=s|2;u[n+144>>2]=0.0}u[t+92>>2]=0.0;u[l>>2]=e;u[t+124>>2]=i;return}function Fy(t){t=t|0;return(n[t+100>>0]|0)!=0|0}function Jy(t,e){t=t|0;e=e|0;var i=0,s=0,c=0;c=e&1;e=o[t+48>>2]|0;s=e+4|0;i=a[s>>1]|0;if(!(i&2)){r[s>>1]=i|2;u[e+144>>2]=0.0}e=o[t+52>>2]|0;s=e+4|0;i=a[s>>1]|0;if(i&2|0){t=t+100|0;n[t>>0]=c;return}r[s>>1]=i|2;u[e+144>>2]=0.0;t=t+100|0;n[t>>0]=c;return}function Gy(t,e){t=t|0;e=+e;var i=0,n=0,s=0;i=o[t+48>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;s=i+4|0;n=a[s>>1]|0;if(n&2|0){t=t+108|0;u[t>>2]=e;return}r[s>>1]=n|2;u[i+144>>2]=0.0;t=t+108|0;u[t>>2]=e;return}function Ny(t){t=t|0;return+ +u[t+108>>2]}function Uy(t,e){t=t|0;e=+e;var i=0,n=0,s=0;i=o[t+48>>2]|0;s=i+4|0;n=a[s>>1]|0;if(!(n&2)){r[s>>1]=n|2;u[i+144>>2]=0.0}i=o[t+52>>2]|0;s=i+4|0;n=a[s>>1]|0;if(n&2|0){t=t+104|0;u[t>>2]=e;return}r[s>>1]=n|2;u[i+144>>2]=0.0;t=t+104|0;u[t>>2]=e;return}function Wy(t){t=t|0;return+ +u[t+104>>2]}function Vy(t,e){t=t|0;e=+e;return+(+u[t+96>>2]*e)}function Xy(t){t=t|0;return o[t+4>>2]|0}function zy(t){t=t|0;return o[t+48>>2]|0}function qy(t){t=t|0;return o[t+52>>2]|0}function Hy(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19336]|0))BE(19336)|0;kk[o[o[t>>2]>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19328;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19328}function Yy(t){t=t|0;var e=0,i=0,r=0;i=d;d=d+16|0;e=i;if(!(n[19352]|0))BE(19352)|0;kk[o[(o[t>>2]|0)+4>>2]&127](e,t);r=e;e=o[r+4>>2]|0;t=19344;o[t>>2]=o[r>>2];o[t+4>>2]=e;d=i;return 19344}function Zy(t,e){t=t|0;e=+e;var i=0,r=0,s=0;r=d;d=d+16|0;i=r;if(!(n[19368]|0))BE(19368)|0;Gk[o[(o[t>>2]|0)+8>>2]&63](i,t,e);s=i;i=o[s+4>>2]|0;t=19360;o[t>>2]=o[s>>2];o[t+4>>2]=i;d=r;return 19360}function Qy(t,e){t=t|0;e=+e;return+ +Rk[o[(o[t>>2]|0)+12>>2]&63](t,e)}function Ky(t){t=t|0;return o[t+12>>2]|0}function $y(t){t=t|0;return o[t+64>>2]|0}function tv(t,e){t=t|0;e=e|0;o[t+64>>2]=e;return}function ev(t){t=t|0;if(!(r[(o[t+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(r[(o[t+52>>2]|0)+4>>1]&32)!=0;return t|0}function iv(t){t=t|0;return(n[t+61>>0]|0)!=0|0}function nv(t){t=t|0;if(!t)return;Ik[o[(o[t>>2]|0)+28>>2]&127](t);return}function rv(){var t=0;t=nE(16)|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return t|0}function ov(t){t=t|0;return o[t>>2]|0}function sv(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function av(t){t=t|0;return o[t+4>>2]|0}function cv(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function uv(t){t=t|0;return o[t+8>>2]|0}function lv(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function hv(t){t=t|0;return o[t+12>>2]|0}function _v(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function pv(t){t=t|0;if(!t)return;rE(t);return}function dv(){var t=0,e=0;t=nE(40)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=10;u[t+20>>2]=-1.0;u[t+24>>2]=0.0;u[t+28>>2]=1.0;u[t+32>>2]=0.0;u[t+36>>2]=0.0;return t|0}function fv(t){t=t|0;return t+20|0}function bv(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function mv(t){t=t|0;return t+28|0}function gv(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+28|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function yv(t){t=t|0;return+ +u[t+36>>2]}function vv(t,e){t=t|0;e=+e;u[t+36>>2]=e;return}function wv(t){t=t|0;return o[t>>2]|0}function xv(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function Tv(t){t=t|0;return o[t+4>>2]|0}function Sv(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Av(t){t=t|0;return o[t+8>>2]|0}function Cv(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Ev(t){t=t|0;return o[t+12>>2]|0}function Pv(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function Dv(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function Mv(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function Rv(t){t=t|0;if(!t)return;rE(t);return}function Iv(){var t=0,e=0;t=nE(44)|0;e=t+4|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;n[e+12>>0]=0;o[t>>2]=11;u[t+20>>2]=0.0;u[t+24>>2]=0.0;u[t+28>>2]=0.0;u[t+32>>2]=1.0;u[t+36>>2]=1.0;u[t+40>>2]=.30000001192092896;return t|0}function Ov(t,e,i){t=t|0;e=e|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0;o[t+8>>2]=e;o[t+12>>2]=i;r=+u[i+12>>2]-+u[e+12>>2];s=+u[i+16>>2]-+u[e+16>>2];a=+u[e+24>>2];n=+u[e+20>>2];u[t+20>>2]=r*a+s*n;u[t+24>>2]=a*s-r*n;u[t+28>>2]=+u[i+56>>2]-+u[e+56>>2];return}function kv(t){t=t|0;return t+20|0}function Lv(t,e){t=t|0;e=e|0;var i=0;i=e;e=o[i+4>>2]|0;t=t+20|0;o[t>>2]=o[i>>2];o[t+4>>2]=e;return}function jv(t){t=t|0;return+ +u[t+28>>2]}function Bv(t,e){t=t|0;e=+e;u[t+28>>2]=e;return}function Fv(t){t=t|0;return+ +u[t+32>>2]}function Jv(t,e){t=t|0;e=+e;u[t+32>>2]=e;return}function Gv(t){t=t|0;return+ +u[t+36>>2]}function Nv(t,e){t=t|0;e=+e;u[t+36>>2]=e;return}function Uv(t){t=t|0;return+ +u[t+40>>2]}function Wv(t,e){t=t|0;e=+e;u[t+40>>2]=e;return}function Vv(t){t=t|0;return o[t>>2]|0}function Xv(t,e){t=t|0;e=e|0;o[t>>2]=e;return}function zv(t){t=t|0;return o[t+4>>2]|0}function qv(t,e){t=t|0;e=e|0;o[t+4>>2]=e;return}function Hv(t){t=t|0;return o[t+8>>2]|0}function Yv(t,e){t=t|0;e=e|0;o[t+8>>2]=e;return}function Zv(t){t=t|0;return o[t+12>>2]|0}function Qv(t,e){t=t|0;e=e|0;o[t+12>>2]=e;return}function Kv(t){t=t|0;return(n[t+16>>0]|0)!=0|0}function $v(t,e){t=t|0;e=e|0;n[t+16>>0]=e&1;return}function tw(t){t=t|0;if(!t)return;rE(t);return}function ew(){return 0}function iw(){return 1}function nw(){return 2}function rw(){return 3}function ow(){return 4}function sw(){return 0}function aw(){return 1}function cw(){return 2}function uw(){return 3}function lw(){return 4}function hw(){return 5}function _w(){return 6}function pw(){return 7}function dw(){return 8}function fw(){return 9}function bw(){return 10}function mw(){return 11}function gw(){return 0}function yw(){return 1}function vw(){return 2}function ww(){return 3}function xw(){return 0}function Tw(){return 1}function Sw(){return 2}function Aw(){return 0}function Cw(){return 1}function Ew(){return 2}function Pw(){return 1}function Dw(){return 2}function Mw(){return 4}function Rw(){return 8}function Iw(){return 16}function Ow(){return 0}function kw(){return 1}function Lw(t){t=t|0;rE(t);return}function jw(t,e){t=t|0;e=e|0;kk[o[(o[t>>2]|0)+16>>2]&127](t,e);return}function Bw(t,e){t=t|0;e=e|0;kk[o[(o[t>>2]|0)+20>>2]&127](t,e);return}function Fw(t,e){t=t|0;e=e|0;Zt(0,t|0,e|0)|0;return}function Jw(t,e){t=t|0;e=e|0;Zt(1,t|0,e|0)|0;return}function Gw(t){t=t|0;return}function Nw(t){t=t|0;return}function Uw(t){t=t|0;rE(t);return}function Ww(t,e){t=t|0;e=e|0;return(Zt(2,t|0,e|0)|0)!=0|0}function Vw(t){t=t|0;rE(t);return}function Xw(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ +Lt(3,t|0,e|0,i|0,n|0,+r)}function zw(t){t=t|0;return}function qw(t){t=t|0;return}function Hw(t){t=t|0;rE(t);return}function Yw(t,e){t=t|0;e=e|0;Zt(4,t|0,e|0)|0;return}function Zw(t,e){t=t|0;e=e|0;Zt(5,t|0,e|0)|0;return}function Qw(t,e,i){t=t|0;e=e|0;i=i|0;$t(6,t|0,e|0,i|0)|0;return}function Kw(t,e,i){t=t|0;e=e|0;i=i|0;$t(7,t|0,e|0,i|0)|0;return}function $w(t){t=t|0;return}function tx(t){t=t|0;rE(t);return}function ex(t,e,i){t=t|0;e=e|0;i=i|0;return($t(8,t|0,e|0,i|0)|0)!=0|0}function ix(t){t=t|0;return}function nx(t){t=t|0;rE(t);return}function rx(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;kt(9,t|0,e|0,i|0,n|0)|0;return}function ox(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;kt(10,t|0,e|0,i|0,n|0)|0;return}function sx(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;Qt(11,t|0,e|0,+i,n|0)|0;return}function ax(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;Jt(12,t|0,e|0,+i,n|0,r|0)|0;return}function cx(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;kt(13,t|0,e|0,i|0,n|0)|0;return}function ux(t,e){t=t|0;e=e|0;Zt(14,t|0,e|0)|0;return}function lx(t,e){t=t|0;e=e|0;var i=0,n=0;n=(o[e+48>>2]|0)+12|0;i=o[n+4>>2]|0;e=t;o[e>>2]=o[n>>2];o[e+4>>2]=i;return}function hx(t,e){t=t|0;e=e|0;var i=0,n=0;n=(o[e+52>>2]|0)+12|0;i=o[n+4>>2]|0;e=t;o[e>>2]=o[n>>2];o[e+4>>2]=i;return}function _x(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0;n=+u[e+84>>2]*i;u[t>>2]=+u[e+80>>2]*i;u[t+4>>2]=n;return}function px(t,e){t=t|0;e=+e;return+(+u[t+88>>2]*e)}function dx(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0,h=0,_=0.0,p=0,f=0,b=0,m=0,g=0;e=d;d=d+96|0;i=e+80|0;n=e+72|0;r=e+64|0;a=e+56|0;c=e+48|0;h=e+32|0;p=e+24|0;f=e+16|0;m=e+8|0;g=o[(o[t+48>>2]|0)+8>>2]|0;b=o[(o[t+52>>2]|0)+8>>2]|0;wx(6200,e);o[m>>2]=g;wx(8398,m);o[f>>2]=b;wx(8424,f);o[p>>2]=s[t+61>>0];wx(8450,p);_=+u[t+72>>2];l[h>>3]=+u[t+68>>2];l[h+8>>3]=_;wx(6223,h);l[c>>3]=+u[t+76>>2];wx(6265,c);l[a>>3]=+u[t+92>>2];wx(7443,a);l[r>>3]=+u[t+96>>2];wx(7469,r);l[n>>3]=+u[t+100>>2];wx(6296,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function fx(t,e){t=t|0;e=e|0;return}function bx(t){t=t|0;return}function mx(t){t=t|0;rE(t);return}function gx(t,e){t=t|0;e=e|0;var i=0,r=0,s=0.0,a=0,c=0,l=0.0,h=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0,y=0,v=0.0,w=0.0,x=0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0,O=0.0,k=0.0,L=0.0,j=0,J=0,G=0,N=0,U=0,W=0,V=0,X=0,z=0,q=0;J=o[t+48>>2]|0;c=o[J+8>>2]|0;g=t+104|0;o[g>>2]=c;j=o[t+52>>2]|0;z=o[j+8>>2]|0;y=t+108|0;o[y>>2]=z;V=J+28|0;X=o[V>>2]|0;V=o[V+4>>2]|0;U=t+128|0;o[U>>2]=X;o[U+4>>2]=V;U=j+28|0;W=o[U>>2]|0;U=o[U+4>>2]|0;N=t+136|0;o[N>>2]=W;o[N+4>>2]=U;N=o[J+120>>2]|0;o[t+156>>2]=N;G=o[j+120>>2]|0;o[t+160>>2]=G;J=o[J+128>>2]|0;o[t+164>>2]=J;j=o[j+128>>2]|0;o[t+168>>2]=j;a=o[e+24>>2]|0;R=+u[a+(c*12|0)>>2];D=+u[a+(c*12|0)+4>>2];T=+u[a+(c*12|0)+8>>2];x=e+28|0;q=o[x>>2]|0;i=o[q+(c*12|0)>>2]|0;r=o[q+(c*12|0)+4>>2]|0;s=+u[q+(c*12|0)+8>>2];I=+u[a+(z*12|0)>>2];M=+u[a+(z*12|0)+4>>2];S=+u[a+(z*12|0)+8>>2];a=o[q+(z*12|0)>>2]|0;c=o[q+(z*12|0)+4>>2]|0;l=+u[q+(z*12|0)+8>>2];P=+F(+T);C=+B(+T);d=+F(+S);h=+B(+S);p=-(o[_>>2]=X,+u[_>>2]);b=-(o[_>>2]=V,+u[_>>2]);w=C*p-P*b;b=P*p+C*b;u[t+112>>2]=w;u[t+116>>2]=b;p=-(o[_>>2]=W,+u[_>>2]);m=-(o[_>>2]=U,+u[_>>2]);v=h*p-d*m;m=d*p+h*m;u[t+120>>2]=v;u[t+124>>2]=m;h=(o[_>>2]=N,+u[_>>2]);p=(o[_>>2]=G,+u[_>>2]);d=(o[_>>2]=J,+u[_>>2]);f=(o[_>>2]=j,+u[_>>2]);L=h+p;A=L+b*(d*b)+m*(f*m);E=d*w;k=f*v;O=-(b*E)-m*k;k=L+w*E+v*k;E=A*k-O*O;E=E!=0.0?1.0/E:E;O=-(O*E);u[t+172>>2]=k*E;u[t+176>>2]=O;u[t+180>>2]=O;u[t+184>>2]=A*E;E=d+f;u[t+188>>2]=E>0.0?1.0/E:E;E=+u[t+68>>2];A=+u[t+72>>2];u[t+144>>2]=I+v-R-w-(C*E-P*A);u[t+148>>2]=M+m-D-b-(P*E+C*A);u[t+152>>2]=S-T-+u[t+76>>2];if(!(n[e+20>>0]|0)){u[t+80>>2]=0.0;u[t+84>>2]=0.0;u[t+88>>2]=0.0;N=i;z=r;W=a;q=c;k=s;L=l;V=o[x>>2]|0;X=o[g>>2]|0;U=V+(X*12|0)|0;o[U>>2]=N;X=V+(X*12|0)+4|0;o[X>>2]=z;X=o[x>>2]|0;z=o[g>>2]|0;z=X+(z*12|0)+8|0;u[z>>2]=k;z=o[y>>2]|0;V=X+(z*12|0)|0;o[V>>2]=W;z=X+(z*12|0)+4|0;o[z>>2]=q;z=o[x>>2]|0;q=o[y>>2]|0;q=z+(q*12|0)+8|0;u[q>>2]=L;return}else{I=+u[e+8>>2];N=t+80|0;L=I*+u[N>>2];u[N>>2]=L;N=t+84|0;O=I*+u[N>>2];u[N>>2]=O;N=t+88|0;I=I*+u[N>>2];u[N>>2]=I;N=(u[_>>2]=(o[_>>2]=i,+u[_>>2])-h*L,o[_>>2]|0);z=(u[_>>2]=(o[_>>2]=r,+u[_>>2])-h*O,o[_>>2]|0);W=(u[_>>2]=(o[_>>2]=a,+u[_>>2])+p*L,o[_>>2]|0);q=(u[_>>2]=(o[_>>2]=c,+u[_>>2])+p*O,o[_>>2]|0);k=s-d*(I+(O*w-L*b));L=l+f*(I+(O*v-L*m));V=o[x>>2]|0;X=o[g>>2]|0;U=V+(X*12|0)|0;o[U>>2]=N;X=V+(X*12|0)+4|0;o[X>>2]=z;X=o[x>>2]|0;z=o[g>>2]|0;z=X+(z*12|0)+8|0;u[z>>2]=k;z=o[y>>2]|0;V=X+(z*12|0)|0;o[V>>2]=W;z=X+(z*12|0)+4|0;o[z>>2]=q;z=o[x>>2]|0;q=o[y>>2]|0;q=z+(q*12|0)+8|0;u[q>>2]=L;return}}function yx(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0,C=0,E=0,P=0,D=0.0;E=e+28|0;P=o[E>>2]|0;A=t+104|0;C=o[A>>2]|0;w=+u[P+(C*12|0)>>2];x=+u[P+(C*12|0)+4>>2];b=+u[P+(C*12|0)+8>>2];C=t+108|0;a=o[C>>2]|0;T=+u[P+(a*12|0)>>2];S=+u[P+(a*12|0)+4>>2];c=+u[P+(a*12|0)+8>>2];m=+u[t+156>>2];g=+u[t+160>>2];y=+u[t+164>>2];v=+u[t+168>>2];s=+u[e>>2];n=+u[e+4>>2]*+u[t+100>>2];a=t+88|0;f=+u[a>>2];l=s*+u[t+96>>2];_=f-+u[t+188>>2]*(c-b+n*+u[t+152>>2]);h=-l;l=_<l?_:l;l=l<h?h:l;u[a>>2]=l;f=l-f;b=b-y*f;f=c+v*f;c=+u[t+124>>2];l=+u[t+120>>2];h=+u[t+116>>2];_=+u[t+112>>2];r=+u[t+144>>2]*n+(h*b+(T-c*f-w));n=n*+u[t+148>>2]+(S+l*f-x-_*b);i=+u[t+176>>2]*r+ +u[t+184>>2]*n;a=t+80|0;p=+u[a>>2];e=t+84|0;d=+u[e>>2];n=p-(+u[t+172>>2]*r+ +u[t+180>>2]*n);u[a>>2]=n;i=d-i;u[e>>2]=i;s=s*+u[t+92>>2];r=i*i+n*n;if(r>s*s){D=+L(+r);r=1.0/D;if(!(D<1.1920928955078125e-07)){i=i*r;n=n*r;u[a>>2]=n;u[e>>2]=i}n=s*n;u[a>>2]=n;i=s*i;u[e>>2]=i}D=n-p;d=i-d;P=o[E>>2]|0;a=o[A>>2]|0;u[P+(a*12|0)>>2]=w-m*D;u[P+(a*12|0)+4>>2]=x-m*d;a=o[E>>2]|0;u[a+((o[A>>2]|0)*12|0)+8>>2]=b-y*(_*d-D*h);P=o[C>>2]|0;u[a+(P*12|0)>>2]=T+g*D;u[a+(P*12|0)+4>>2]=S+g*d;u[(o[E>>2]|0)+((o[C>>2]|0)*12|0)+8>>2]=f+v*(d*l-D*c);return}function vx(t,e){t=t|0;e=e|0;return 1}function wx(t,e){t=t|0;e=e|0;var i=0,n=0;i=d;d=d+16|0;n=i;o[n>>2]=e;tE(t,n);d=i;return}function xx(t){t=t|0;var e=0;o[t>>2]=888;e=t+12|0;iE(o[e>>2]|0);o[e>>2]=0;o[t+16>>2]=0;return}function Tx(t){t=t|0;o[t>>2]=888;iE(o[t+12>>2]|0);rE(t);return}function Sx(t,e){t=t|0;e=e|0;var i=0,r=0,s=0,a=0,c=0;e=Fx(e,40)|0;o[e>>2]=888;o[e+4>>2]=3;u[e+8>>2]=.009999999776482582;o[e+12>>2]=0;o[e+16>>2]=0;r=e+36|0;n[r>>0]=0;i=e+37|0;n[i>>0]=0;Jx(e,o[t+12>>2]|0,o[t+16>>2]|0);s=t+20|0;a=o[s+4>>2]|0;c=e+20|0;o[c>>2]=o[s>>2];o[c+4>>2]=a;c=t+28|0;a=o[c+4>>2]|0;s=e+28|0;o[s>>2]=o[c>>2];o[s+4>>2]=a;n[r>>0]=n[t+36>>0]|0;n[i>>0]=n[t+37>>0]|0;return e|0}function Ax(t){t=t|0;return(o[t+16>>2]|0)+-1|0}function Cx(t,e,i){t=t|0;e=e|0;i=i|0;return 0}function Ex(t,e,i,n,s){t=t|0;e=e|0;i=i|0;n=n|0;s=s|0;var a=0,c=0,l=0,h=0,_=0,p=0;l=d;d=d+48|0;c=l;a=o[t+16>>2]|0;if((a|0)>(s|0)){o[c>>2]=928;o[c+4>>2]=1;u[c+8>>2]=.009999999776482582;h=c+28|0;o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;r[h+16>>1]=0;h=s+1|0;t=o[t+12>>2]|0;p=t+(s<<3)|0;_=o[p+4>>2]|0;s=c+12|0;o[s>>2]=o[p>>2];o[s+4>>2]=_;a=t+(((h|0)==(a|0)?0:h)<<3)|0;s=o[a+4>>2]|0;t=c+20|0;o[t>>2]=o[a>>2];o[t+4>>2]=s;n=Mx(c,e,i,n,0)|0;d=l;return n|0}else Gt(6354,6375,152,14854);return 0}function Px(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0;r=o[t+16>>2]|0;if((r|0)>(n|0)){f=n+1|0;r=(f|0)==(r|0)?0:f;t=o[t+12>>2]|0;h=+u[i+12>>2];_=+u[t+(n<<3)>>2];p=+u[i+8>>2];a=+u[t+(n<<3)+4>>2];c=+u[i>>2];l=c+(h*_-p*a);d=+u[i+4>>2];a=_*p+h*a+d;_=+u[t+(r<<3)>>2];s=+u[t+(r<<3)+4>>2];c=c+(h*_-p*s);s=d+(p*_+h*s);u[e>>2]=l<c?l:c;u[e+4>>2]=a<s?a:s;u[e+8>>2]=l>c?l:c;u[e+12>>2]=a>s?a:s;return}else Gt(6354,6375,171,6428)}function Dx(t,e,i){t=t|0;e=e|0;i=+i;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return}function Mx(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var o=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0;m=+u[n>>2];_=+u[i>>2]-m;c=+u[n+4>>2];b=+u[i+4>>2]-c;v=+u[n+12>>2];g=+u[n+8>>2];h=_*v+b*g;_=v*b-_*g;m=+u[i+8>>2]-m;c=+u[i+12>>2]-c;b=v*m+g*c-h;m=v*c-g*m-_;c=+u[t+12>>2];l=+u[t+16>>2];f=+u[t+20>>2]-c;a=+u[t+24>>2]-l;d=-f;s=f*f+a*a;y=+L(+s);t=y<1.1920928955078125e-07;y=1.0/y;p=t?a:a*y;d=t?d:y*d;y=(c-h)*p+(l-_)*d;o=b*p+m*d;if(o==0.0){e=0;return e|0}o=y/o;if(o<0.0){e=0;return e|0}if(s==0.0?1:+u[i+16>>2]<o){e=0;return e|0}m=(f*(h+b*o-c)+a*(_+m*o-l))/s;if(m<0.0|m>1.0){e=0;return e|0}u[e+8>>2]=o;s=p*v-d*g;o=d*v+p*g;if(y>0.0){u[e>>2]=-s;u[e+4>>2]=-o;e=1;return e|0}else{u[e>>2]=s;u[e+4>>2]=o;e=1;return e|0}return 0}function Rx(t){t=t|0;return}function Ix(t){t=t|0;rE(t);return}function Ox(t,e){t=t|0;e=e|0;var i=0,n=0,s=0;e=Fx(e,48)|0;o[e>>2]=928;i=e+4|0;o[i>>2]=1;u[e+8>>2]=.009999999776482582;s=e+28|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;r[s+16>>1]=0;s=t+4|0;n=o[s+4>>2]|0;o[i>>2]=o[s>>2];o[i+4>>2]=n;i=e+12|0;t=t+12|0;o[i>>2]=o[t>>2];o[i+4>>2]=o[t+4>>2];o[i+8>>2]=o[t+8>>2];o[i+12>>2]=o[t+12>>2];o[i+16>>2]=o[t+16>>2];o[i+20>>2]=o[t+20>>2];o[i+24>>2]=o[t+24>>2];o[i+28>>2]=o[t+28>>2];r[i+32>>1]=r[t+32>>1]|0;return e|0}function kx(t){t=t|0;return 1}function Lx(t,e,i){t=t|0;e=e|0;i=i|0;return 0}function jx(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,o=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0;s=+u[i+12>>2];l=+u[t+12>>2];h=+u[i+8>>2];o=+u[t+16>>2];a=+u[i>>2];c=a+(s*l-h*o);_=+u[i+4>>2];o=l*h+s*o+_;l=+u[t+20>>2];r=+u[t+24>>2];a=a+(s*l-h*r);r=_+(h*l+s*r);s=+u[t+8>>2];u[e>>2]=(c<a?c:a)-s;u[e+4>>2]=(o<r?o:r)-s;u[e+8>>2]=s+(c>a?c:a);u[e+12>>2]=s+(o>r?o:r);return}function Bx(t,e,i){t=t|0;e=e|0;i=+i;u[e>>2]=0.0;i=(+u[t+16>>2]+ +u[t+24>>2])*.5;u[e+4>>2]=(+u[t+12>>2]+ +u[t+20>>2])*.5;u[e+8>>2]=i;u[e+12>>2]=0.0;return}function Fx(t,e){t=t|0;e=e|0;var i=0,r=0,s=0,a=0,c=0,u=0;if(!e){u=0;return u|0}if((e|0)<=0)Gt(6440,6449,102,10330);if((e|0)>640){u=eE(e)|0;return u|0}u=n[20204+e>>0]|0;a=u&255;if((u&255)>=14)Gt(6496,6449,110,10330);u=t+12+(a<<2)|0;e=o[u>>2]|0;if(e|0){o[u>>2]=o[e>>2];u=e;return u|0}c=t+4|0;e=o[c>>2]|0;i=t+8|0;if((e|0)==(o[i>>2]|0)){s=o[t>>2]|0;r=e+128|0;o[i>>2]=r;r=eE(r<<3)|0;o[t>>2]=r;e=o[c>>2]|0;qE(r|0,s|0,e<<3|0)|0;VE(r+(e<<3)|0,0,1024)|0;iE(s);e=o[c>>2]|0}i=o[t>>2]|0;s=eE(16384)|0;r=i+(e<<3)+4|0;o[r>>2]=s;t=o[960+(a<<2)>>2]|0;o[i+(e<<3)>>2]=t;e=16384/(t|0)|0;if((q(e,t)|0)>=16385)Gt(6532,6449,138,10330);i=e+-1|0;if((e|0)>1){e=0;do{a=e;e=e+1|0;o[s+(q(a,t)|0)>>2]=s+(q(e,t)|0)}while((e|0)!=(i|0))}o[s+(q(i,t)|0)>>2]=0;o[u>>2]=o[s>>2];o[c>>2]=(o[c>>2]|0)+1;u=o[r>>2]|0;return u|0}function Jx(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,s=0.0,a=0.0,c=0,l=0,h=0.0,_=0.0;l=t+12|0;if(o[l>>2]|0)Gt(6594,6375,60,6627);c=t+16|0;if(o[c>>2]|0)Gt(6594,6375,60,6627);if((i|0)<=1)Gt(6639,6375,61,6627);s=+u[e>>2];a=+u[e+4>>2];n=1;while(1){_=s;s=+u[e+(n<<3)>>2];_=_-s;h=a;a=+u[e+(n<<3)+4>>2];h=h-a;n=n+1|0;if(!(_*_+h*h>2.499999936844688e-05)){n=10;break}if((n|0)>=(i|0)){n=8;break}}if((n|0)==8){o[c>>2]=i;i=eE(i<<3)|0;o[l>>2]=i;qE(i|0,e|0,o[c>>2]<<3|0)|0;e=t+20|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;r[e+16>>1]=0;return}else if((n|0)==10)Gt(6650,6375,66,6627)}function Gx(t){t=t|0;rE(t);return}function Nx(t,e){t=t|0;e=e|0;var i=0,n=0,r=0;e=Fx(e,20)|0;o[e>>2]=1024;n=e+4|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;r=t+4|0;i=o[r+4>>2]|0;o[n>>2]=o[r>>2];o[n+4>>2]=i;n=t+12|0;i=o[n+4>>2]|0;t=e+12|0;o[t>>2]=o[n>>2];o[t+4>>2]=i;return e|0}function Ux(t){t=t|0;return 1}function Wx(t,e,i){t=t|0;e=e|0;i=i|0;var n=0.0,r=0.0,o=0.0,s=0.0,a=0.0;n=+u[e+12>>2];a=+u[t+12>>2];s=+u[e+8>>2];r=+u[t+16>>2];o=+u[i>>2]-(+u[e>>2]+(n*a-s*r));r=+u[i+4>>2]-(+u[e+4>>2]+(a*s+n*r));n=+u[t+8>>2];return o*o+r*r<=n*n|0}function Vx(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var o=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0;s=+u[n+12>>2];a=+u[t+12>>2];o=+u[n+8>>2];_=+u[t+16>>2];c=+u[i>>2];h=c-(+u[n>>2]+(s*a-o*_));l=+u[i+4>>2];_=l-(+u[n+4>>2]+(a*o+s*_));s=+u[t+8>>2];c=+u[i+8>>2]-c;l=+u[i+12>>2]-l;o=h*c+_*l;a=c*c+l*l;s=o*o-(h*h+_*_-s*s)*a;if(a<1.1920928955078125e-07|s<0.0){e=0;return e|0}s=o+ +L(+s);o=-s;if(!(s<=-0.0)){e=0;return e|0}if(!(a*+u[i+16>>2]>=o)){e=0;return e|0}o=o/a;u[e+8>>2]=o;a=h+c*o;o=_+l*o;u[e>>2]=a;r=e+4|0;u[r>>2]=o;_=+L(+(a*a+o*o));s=1.0/_;if(_<1.1920928955078125e-07){e=1;return e|0}u[e>>2]=a*s;u[r>>2]=o*s;e=1;return e|0}function Xx(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,o=0.0,s=0.0,a=0.0,c=0.0;r=+u[i+12>>2];c=+u[t+12>>2];a=+u[i+8>>2];o=+u[t+16>>2];s=+u[i>>2]+(r*c-a*o);o=+u[i+4>>2]+(c*a+r*o);r=+u[t+8>>2];u[e>>2]=s-r;u[e+4>>2]=o-r;u[e+8>>2]=s+r;u[e+12>>2]=o+r;return}function zx(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0,r=0.0,s=0.0,a=0,c=0,l=0,h=0,_=0;c=t+8|0;s=+u[c>>2];s=s*(i*3.1415927410125732*s);u[e>>2]=s;a=t+12|0;_=a;h=o[_+4>>2]|0;l=e+4|0;o[l>>2]=o[_>>2];o[l+4>>2]=h;r=+u[c>>2];n=+u[a>>2];i=+u[t+16>>2];u[e+12>>2]=s*(r*(r*.5)+(n*n+i*i));return}function qx(t){t=t|0;rE(t);return}function Hx(t,e){t=t|0;e=e|0;var i=0,n=0,r=0,s=0;e=Fx(e,152)|0;o[e>>2]=1064;n=e+4|0;o[n>>2]=2;u[e+8>>2]=.009999999776482582;o[e+148>>2]=0;i=e+12|0;u[i>>2]=0.0;u[e+16>>2]=0.0;s=t+4|0;r=o[s+4>>2]|0;o[n>>2]=o[s>>2];o[n+4>>2]=r;qE(i|0,t+12|0,140)|0;return e|0}function Yx(t){t=t|0;return 1}function Zx(t,e,i){t=t|0;e=e|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,c=0.0;s=+u[i>>2]-+u[e>>2];a=+u[i+4>>2]-+u[e+4>>2];c=+u[e+12>>2];r=+u[e+8>>2];n=s*c+a*r;r=c*a-s*r;i=o[t+148>>2]|0;if((i|0)>0)e=0;else{t=1;return t|0}while(1){if((n-+u[t+20+(e<<3)>>2])*+u[t+84+(e<<3)>>2]+(r-+u[t+20+(e<<3)+4>>2])*+u[t+84+(e<<3)+4>>2]>0.0){i=0;e=4;break}e=e+1|0;if((e|0)>=(i|0)){i=1;e=4;break}}if((e|0)==4)return i|0;return 0}function Qx(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0;d=+u[n>>2];_=+u[i>>2]-d;f=+u[n+4>>2];p=+u[i+4>>2]-f;m=+u[n+12>>2];b=+u[n+8>>2];h=_*m+p*b;_=m*p-_*b;d=+u[i+8>>2]-d;f=+u[i+12>>2]-f;p=m*d+b*f-h;d=m*f-b*d-_;f=+u[i+16>>2];n=o[t+148>>2]|0;t:do{if((n|0)>0){i=0;r=-1;s=0.0;a=f;e:while(1){g=+u[t+84+(i<<3)>>2];c=+u[t+84+(i<<3)+4>>2];l=(+u[t+20+(i<<3)>>2]-h)*g+(+u[t+20+(i<<3)+4>>2]-_)*c;c=p*g+d*c;do{if(c==0.0){if(l<0.0){r=0;n=13;break e}}else if(c<0.0&l<s*c){r=i;s=l/c;break}else{a=c>0.0&l<a*c?l/c:a;break}}while(0);i=i+1|0;if(a<s){r=0;n=13;break}if((i|0)>=(n|0))break t}if((n|0)==13)return r|0}else{r=-1;s=0.0}}while(0);if(!(s>=0.0)|!(s<=f))Gt(6856,6758,328,14854);if((r|0)<=-1){t=0;return t|0}u[e+8>>2]=s;f=+u[t+84+(r<<3)>>2];g=+u[t+84+(r<<3)+4>>2];u[e>>2]=m*f-b*g;u[e+4>>2]=f*b+m*g;t=1;return t|0}function Kx(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0;_=+u[i+12>>2];c=+u[t+20>>2];p=+u[i+8>>2];a=+u[t+24>>2];d=+u[i>>2];l=d+(_*c-p*a);h=+u[i+4>>2];a=c*p+_*a+h;i=o[t+148>>2]|0;if((i|0)>1){r=l;c=a;s=l;n=1;do{b=+u[t+20+(n<<3)>>2];l=+u[t+20+(n<<3)+4>>2];f=d+(_*b-p*l);l=b*p+_*l+h;r=r<f?r:f;c=c<l?c:l;s=s>f?s:f;a=a>l?a:l;n=n+1|0}while((n|0)!=(i|0))}else{c=a;s=l;r=l}b=+u[t+8>>2];u[e>>2]=r-b;u[e+4>>2]=c-b;u[e+8>>2]=s+b;u[e+12>>2]=a+b;return}function $x(t,e,i){t=t|0;e=e|0;i=+i;var n=0,r=0.0,s=0.0,a=0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0;d=o[t+148>>2]|0;if((d|0)>2){n=0;r=0.0;s=0.0}else Gt(6745,6758,385,6813);do{r=r+ +u[t+20+(n<<3)>>2];s=s+ +u[t+20+(n<<3)+4>>2];n=n+1|0}while((n|0)!=(d|0));_=1.0/+(d|0);p=r*_;_=s*_;n=t+20|0;s=0.0;c=0.0;l=0.0;h=0.0;a=0;do{m=+u[t+20+(a<<3)>>2]-p;f=+u[t+20+(a<<3)+4>>2]-_;a=a+1|0;v=(a|0)<(d|0)?t+20+(a<<3)|0:n;b=+u[v>>2]-p;r=+u[v+4>>2]-_;g=m*r-f*b;y=g*.5;c=c+y;y=y*.3333333432674408;l=l+(m+b)*y;h=h+(f+r)*y;s=s+g*.0833333358168602*(b*b+(m*m+m*b)+(r*r+(f*f+f*r)))}while((a|0)!=(d|0));r=c*i;u[e>>2]=r;if(c>1.1920928955078125e-07){y=1.0/c;g=l*y;y=h*y;b=p+g;m=_+y;u[e+4>>2]=b;u[e+8>>2]=m;u[e+12>>2]=s*i+r*(b*b+m*m-(g*g+y*y));return}else Gt(6825,6758,431,6813)}function tT(t){t=t|0;rE(t);return}function eT(t,e,i){t=t|0;e=e|0;i=i|0;t=r[e+36>>1]|0;if(!(t<<16>>16==0?1:t<<16>>16!=(r[i+36>>1]|0))){i=t<<16>>16>0;return i|0}if(!((r[i+32>>1]&r[e+34>>1])<<16>>16)){i=0;return i|0}i=(r[i+34>>1]&r[e+32>>1])<<16>>16!=0;return i|0}function iT(t){t=t|0;rE(t);return}function nT(t,e){t=t|0;e=e|0;return}function rT(t,e){t=t|0;e=e|0;return}function oT(t,e,i){t=t|0;e=e|0;i=i|0;return}function sT(t,e,i){t=t|0;e=e|0;i=i|0;return}function aT(t,e,i,s){t=t|0;e=e|0;i=i|0;s=s|0;var a=0,c=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0;f=d;d=d+48|0;p=f;l=o[(o[t+48>>2]|0)+12>>2]|0;o[p>>2]=928;c=p+4|0;o[c>>2]=1;a=p+8|0;u[a>>2]=.009999999776482582;h=p+28|0;o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;r[h+16>>1]=0;h=o[t+56>>2]|0;if((h|0)<=-1)Gt(7016,6375,112,7050);_=o[l+16>>2]|0;if((_+-1|0)<=(h|0))Gt(7016,6375,112,7050);o[c>>2]=1;o[a>>2]=o[l+8>>2];c=o[l+12>>2]|0;a=c+(h<<3)|0;b=o[a+4>>2]|0;m=p+12|0;o[m>>2]=o[a>>2];o[m+4>>2]=b;m=c+(h+1<<3)|0;b=o[m+4>>2]|0;a=p+20|0;o[a>>2]=o[m>>2];o[a+4>>2]=b;if((h|0)>0){b=c+(h+-1<<3)|0;m=o[b+4>>2]|0;a=p+28|0;o[a>>2]=o[b>>2];o[a+4>>2]=m;a=1}else{b=l+20|0;m=o[b+4>>2]|0;a=p+28|0;o[a>>2]=o[b>>2];o[a+4>>2]=m;a=n[l+36>>0]|0}n[p+44>>0]=a;if((_+-2|0)>(h|0)){_=c+(h+2<<3)|0;m=o[_+4>>2]|0;b=p+36|0;o[b>>2]=o[_>>2];o[b+4>>2]=m;b=1;m=p+45|0;n[m>>0]=b;m=t+52|0;m=o[m>>2]|0;m=m+12|0;m=o[m>>2]|0;lT(e,p,i,m,s);d=f;return}else{_=l+28|0;m=o[_+4>>2]|0;b=p+36|0;o[b>>2]=o[_>>2];o[b+4>>2]=m;b=n[l+37>>0]|0;m=p+45|0;n[m>>0]=b;m=t+52|0;m=o[m>>2]|0;m=m+12|0;m=o[m>>2]|0;lT(e,p,i,m,s);d=f;return}}function cT(t){t=t|0;return}function uT(t){t=t|0;rE(t);return}function lT(t,e,i,r,s){t=t|0;e=e|0;i=i|0;r=r|0;s=s|0;var a=0.0,c=0.0,l=0.0,h=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0,v=0,w=0.0,x=0.0,T=0.0,S=0.0,A=0,C=0;C=t+60|0;o[C>>2]=0;A=r+12|0;b=+u[s+12>>2];d=+u[A>>2];x=+u[s+8>>2];c=+u[r+16>>2];T=+u[s>>2]+(b*d-x*c)-+u[i>>2];c=d*x+b*c+ +u[s+4>>2]-+u[i+4>>2];b=+u[i+12>>2];x=+u[i+8>>2];d=T*b+c*x;x=b*c-T*x;i=o[e+12>>2]|0;s=o[e+16>>2]|0;y=o[e+20>>2]|0;v=o[e+24>>2]|0;T=(o[_>>2]=y,+u[_>>2]);c=(o[_>>2]=i,+u[_>>2]);b=T-c;S=(o[_>>2]=v,+u[_>>2]);l=(o[_>>2]=s,+u[_>>2]);g=S-l;p=b*(T-d)+g*(S-x);f=d-c;m=x-l;h=f*b+m*g;w=+u[e+8>>2]+ +u[r+8>>2];if(h<=0.0){if(f*f+m*m>w*w)return;if(n[e+44>>0]|0?(c-d)*(c-+u[e+28>>2])+(l-x)*(l-+u[e+32>>2])>0.0:0)return;o[C>>2]=1;o[t+56>>2]=0;u[t+40>>2]=0.0;u[t+44>>2]=0.0;o[t+48>>2]=i;o[t+52>>2]=s;e=t+16|0;n[e>>0]=0;n[e+1>>0]=0;n[e+2>>0]=0;n[e+3>>0]=0;e=A;A=o[e+4>>2]|0;C=t;o[C>>2]=o[e>>2];o[C+4>>2]=A;return}if(!(p<=0.0)){a=b*b+g*g;if(!(a>0.0))Gt(6935,6946,127,6993);a=1.0/a;T=d-a*(c*p+T*h);S=x-a*(l*p+S*h);if(T*T+S*S>w*w)return;x=-g;e=m*b+f*x<0.0;x=e?g:x;T=e?-b:b;S=+L(+(x*x+T*T));e=S<1.1920928955078125e-07;S=1.0/S;o[C>>2]=1;o[t+56>>2]=1;u[t+40>>2]=e?x:x*S;u[t+44>>2]=e?T:T*S;o[t+48>>2]=i;o[t+52>>2]=s;e=t+16|0;n[e>>0]=0;n[e+1>>0]=0;n[e+2>>0]=1;n[e+3>>0]=0;e=A;A=o[e+4>>2]|0;C=t;o[C>>2]=o[e>>2];o[C+4>>2]=A;return}c=d-T;a=x-S;if(c*c+a*a>w*w)return;if(n[e+45>>0]|0?c*(+u[e+36>>2]-T)+a*(+u[e+40>>2]-S)>0.0:0)return;o[C>>2]=1;o[t+56>>2]=0;u[t+40>>2]=0.0;u[t+44>>2]=0.0;o[t+48>>2]=y;o[t+52>>2]=v;e=t+16|0;n[e>>0]=1;n[e+1>>0]=0;n[e+2>>0]=0;n[e+3>>0]=0;e=A;A=o[e+4>>2]|0;C=t;o[C>>2]=o[e>>2];o[C+4>>2]=A;return}function hT(t,e,i,s){t=t|0;e=e|0;i=i|0;s=s|0;var a=0,c=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0;f=d;d=d+48|0;p=f;l=o[(o[t+48>>2]|0)+12>>2]|0;o[p>>2]=928;c=p+4|0;o[c>>2]=1;a=p+8|0;u[a>>2]=.009999999776482582;h=p+28|0;o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;r[h+16>>1]=0;h=o[t+56>>2]|0;if((h|0)<=-1)Gt(7016,6375,112,7050);_=o[l+16>>2]|0;if((_+-1|0)<=(h|0))Gt(7016,6375,112,7050);o[c>>2]=1;o[a>>2]=o[l+8>>2];c=o[l+12>>2]|0;a=c+(h<<3)|0;b=o[a+4>>2]|0;m=p+12|0;o[m>>2]=o[a>>2];o[m+4>>2]=b;m=c+(h+1<<3)|0;b=o[m+4>>2]|0;a=p+20|0;o[a>>2]=o[m>>2];o[a+4>>2]=b;if((h|0)>0){b=c+(h+-1<<3)|0;m=o[b+4>>2]|0;a=p+28|0;o[a>>2]=o[b>>2];o[a+4>>2]=m;a=1}else{b=l+20|0;m=o[b+4>>2]|0;a=p+28|0;o[a>>2]=o[b>>2];o[a+4>>2]=m;a=n[l+36>>0]|0}n[p+44>>0]=a;if((_+-2|0)>(h|0)){_=c+(h+2<<3)|0;m=o[_+4>>2]|0;b=p+36|0;o[b>>2]=o[_>>2];o[b+4>>2]=m;b=1;m=p+45|0;n[m>>0]=b;m=t+52|0;m=o[m>>2]|0;m=m+12|0;m=o[m>>2]|0;pT(e,p,i,m,s);d=f;return}else{_=l+28|0;m=o[_+4>>2]|0;b=p+36|0;o[b>>2]=o[_>>2];o[b+4>>2]=m;b=n[l+37>>0]|0;m=p+45|0;n[m>>0]=b;m=t+52|0;m=o[m>>2]|0;m=m+12|0;m=o[m>>2]|0;pT(e,p,i,m,s);d=f;return}}function _T(t){t=t|0;rE(t);return}function pT(t,e,i,r,s){t=t|0;e=e|0;i=i|0;r=r|0;s=s|0;var a=0.0,c=0.0,l=0.0,h=0.0,p=0.0,f=0.0,b=0,m=0,g=0,y=0.0,v=0.0,w=0.0,x=0.0,T=0,S=0,A=0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0,I=0,O=0,k=0,j=0,B=0,F=0,J=0.0,G=0.0,N=0,U=0,W=0,V=0,X=0,z=0,q=0,H=0,Y=0,Z=0,Q=0,K=0,$=0.0,tt=0.0,et=0,it=0;K=d;d=d+352|0;A=K+332|0;I=K+320|0;z=K+32|0;X=K+24|0;V=K+296|0;Q=K;B=K+40|0;P=+u[i+12>>2];a=+u[s+8>>2];C=+u[i+8>>2];h=+u[s+12>>2];l=P*a-C*h;h=a*C+P*h;a=+u[s>>2]-+u[i>>2];M=+u[s+4>>2]-+u[i+4>>2];c=P*a+C*M;a=P*M-C*a;q=B+132|0;u[q>>2]=c;H=B+136|0;u[H>>2]=a;Y=B+140|0;u[Y>>2]=l;Z=B+144|0;u[Z>>2]=h;C=+u[r+12>>2];M=+u[r+16>>2];P=c+(h*C-l*M);M=C*l+h*M+a;u[B+148>>2]=P;u[B+152>>2]=M;R=e+28|0;S=o[R>>2]|0;R=o[R+4>>2]|0;F=B+156|0;o[F>>2]=S;o[F+4>>2]=R;F=B+164|0;k=e+12|0;j=o[k>>2]|0;k=o[k+4>>2]|0;W=F;o[W>>2]=j;o[W+4>>2]=k;W=B+172|0;g=e+20|0;T=o[g>>2]|0;g=o[g+4>>2]|0;U=W;o[U>>2]=T;o[U+4>>2]=g;U=e+36|0;N=o[U>>2]|0;U=o[U+4>>2]|0;m=B+180|0;o[m>>2]=N;o[m+4>>2]=U;m=(n[e+44>>0]|0)!=0;i=(n[e+45>>0]|0)==0;C=(o[_>>2]=T,+u[_>>2]);p=(o[_>>2]=j,+u[_>>2]);J=C-p;E=(o[_>>2]=g,+u[_>>2]);g=B+168|0;f=(o[_>>2]=k,+u[_>>2]);D=E-f;G=+L(+(J*J+D*D));k=G<1.1920928955078125e-07;G=1.0/G;J=k?J:J*G;G=k?D:D*G;k=B+196|0;D=-J;u[k>>2]=G;j=B+200|0;u[j>>2]=D;D=(P-p)*G+(M-f)*D;y=(o[_>>2]=S,+u[_>>2]);v=(o[_>>2]=R,+u[_>>2]);w=(o[_>>2]=N,+u[_>>2]);x=(o[_>>2]=U,+u[_>>2]);if(m){$=p-y;f=f-v;p=+L(+($*$+f*f));b=p<1.1920928955078125e-07;p=1.0/p;$=b?$:$*p;p=b?f:f*p;f=-$;u[B+188>>2]=p;u[B+192>>2]=f;b=G*$-J*p>=0.0;f=(P-y)*p+(M-v)*f}else{b=0;f=0.0}do{if(i){s=D>=0.0;if(!m){i=s&1;n[B+248>>0]=i;if(s){R=k;U=o[R>>2]|0;R=o[R+4>>2]|0;N=B+212|0;o[N>>2]=U;o[N+4>>2]=R;$=-(o[_>>2]=U,+u[_>>2]);u[B+228>>2]=$;u[B+232>>2]=J;u[B+236>>2]=$;u[B+240>>2]=J;break}else{u[B+212>>2]=-G;u[B+216>>2]=J;N=k;R=o[N>>2]|0;N=o[N+4>>2]|0;U=B+228|0;o[U>>2]=R;o[U+4>>2]=N;U=B+236|0;o[U>>2]=R;o[U+4>>2]=N;break}}i=f>=0.0;if(b){U=s|i;i=U&1;n[B+248>>0]=i;if(U){R=k;U=o[R>>2]|0;R=o[R+4>>2]|0;S=B+212|0;o[S>>2]=U;o[S+4>>2]=R;S=B+188|0;R=o[S+4>>2]|0;N=B+228|0;o[N>>2]=o[S>>2];o[N+4>>2]=R;u[B+236>>2]=-(o[_>>2]=U,+u[_>>2]);u[B+240>>2]=J;break}else{u[B+212>>2]=-G;u[B+216>>2]=J;R=k;U=o[R>>2]|0;R=o[R+4>>2]|0;N=B+228|0;o[N>>2]=U;o[N+4>>2]=R;u[B+236>>2]=-(o[_>>2]=U,+u[_>>2]);u[B+240>>2]=J;break}}else{U=s&i;i=U&1;n[B+248>>0]=i;if(U){R=k;U=o[R>>2]|0;R=o[R+4>>2]|0;N=B+212|0;o[N>>2]=U;o[N+4>>2]=R;N=B+228|0;o[N>>2]=U;o[N+4>>2]=R;u[B+236>>2]=-(o[_>>2]=U,+u[_>>2]);u[B+240>>2]=J;break}else{u[B+212>>2]=-G;u[B+216>>2]=J;R=k;N=o[R+4>>2]|0;U=B+228|0;o[U>>2]=o[R>>2];o[U+4>>2]=N;$=-+u[B+192>>2];u[B+236>>2]=-+u[B+188>>2];u[B+240>>2]=$;break}}}else{y=w-C;p=x-E;v=+L(+(y*y+p*p));e=v<1.1920928955078125e-07;v=1.0/v;y=e?y:y*v;v=e?p:p*v;p=-y;u[B+204>>2]=v;u[B+208>>2]=p;e=J*v-G*y>0.0;p=(P-C)*v+(M-E)*p;if(!m){s=D>=0.0;i=p>=0.0;if(e){U=s|i;i=U&1;n[B+248>>0]=i;if(U){U=k;R=o[U>>2]|0;U=o[U+4>>2]|0;N=B+212|0;o[N>>2]=R;o[N+4>>2]=U;u[B+228>>2]=-(o[_>>2]=R,+u[_>>2]);u[B+232>>2]=J;R=B+204|0;N=o[R+4>>2]|0;U=B+236|0;o[U>>2]=o[R>>2];o[U+4>>2]=N;break}else{$=-G;u[B+212>>2]=$;u[B+216>>2]=J;u[B+228>>2]=$;u[B+232>>2]=J;R=k;N=o[R+4>>2]|0;U=B+236|0;o[U>>2]=o[R>>2];o[U+4>>2]=N;break}}else{U=s&i;i=U&1;n[B+248>>0]=i;if(U){N=k;R=o[N>>2]|0;N=o[N+4>>2]|0;U=B+212|0;o[U>>2]=R;o[U+4>>2]=N;u[B+228>>2]=-(o[_>>2]=R,+u[_>>2]);u[B+232>>2]=J;U=B+236|0;o[U>>2]=R;o[U+4>>2]=N;break}else{u[B+212>>2]=-G;u[B+216>>2]=J;u[B+228>>2]=-v;u[B+232>>2]=y;R=k;N=o[R+4>>2]|0;U=B+236|0;o[U>>2]=o[R>>2];o[U+4>>2]=N;break}}}if(b&e){U=D>=0.0|f>=0.0|p>=0.0;i=U&1;n[B+248>>0]=i;if(U){R=k;N=o[R+4>>2]|0;U=B+212|0;o[U>>2]=o[R>>2];o[U+4>>2]=N;U=B+188|0;N=o[U+4>>2]|0;R=B+228|0;o[R>>2]=o[U>>2];o[R+4>>2]=N;R=B+204|0;N=o[R+4>>2]|0;U=B+236|0;o[U>>2]=o[R>>2];o[U+4>>2]=N;break}else{$=-G;u[B+212>>2]=$;u[B+216>>2]=J;u[B+228>>2]=$;u[B+232>>2]=J;u[B+236>>2]=$;u[B+240>>2]=J;break}}if(b){s=D>=0.0&p>=0.0;e=B+248|0;if(!(f>=0.0)){i=s&1;n[e>>0]=i;if(!s){$=-G;u[B+212>>2]=$;u[B+216>>2]=J;u[B+228>>2]=-v;u[B+232>>2]=y;u[B+236>>2]=$;u[B+240>>2]=J;break}}else{n[e>>0]=1;i=1}N=k;R=o[N>>2]|0;N=o[N+4>>2]|0;T=B+212|0;o[T>>2]=R;o[T+4>>2]=N;T=B+188|0;S=o[T+4>>2]|0;U=B+228|0;o[U>>2]=o[T>>2];o[U+4>>2]=S;U=B+236|0;o[U>>2]=R;o[U+4>>2]=N;break}if(!e){U=D>=0.0&f>=0.0&p>=0.0;i=U&1;n[B+248>>0]=i;if(U){N=k;R=o[N>>2]|0;N=o[N+4>>2]|0;U=B+212|0;o[U>>2]=R;o[U+4>>2]=N;U=B+228|0;o[U>>2]=R;o[U+4>>2]=N;U=B+236|0;o[U>>2]=R;o[U+4>>2]=N;break}else{u[B+212>>2]=-G;u[B+216>>2]=J;u[B+228>>2]=-v;u[B+232>>2]=y;$=-+u[B+192>>2];u[B+236>>2]=-+u[B+188>>2];u[B+240>>2]=$;break}}s=D>=0.0&f>=0.0;e=B+248|0;if(!(p>=0.0)){i=s&1;n[e>>0]=i;if(!s){$=-G;u[B+212>>2]=$;u[B+216>>2]=J;u[B+228>>2]=$;u[B+232>>2]=J;$=-+u[B+192>>2];u[B+236>>2]=-+u[B+188>>2];u[B+240>>2]=$;break}}else{n[e>>0]=1;i=1}N=k;U=o[N>>2]|0;N=o[N+4>>2]|0;R=B+212|0;o[R>>2]=U;o[R+4>>2]=N;R=B+228|0;o[R>>2]=U;o[R+4>>2]=N;R=B+204|0;N=o[R+4>>2]|0;U=B+236|0;o[U>>2]=o[R>>2];o[U+4>>2]=N}}while(0);s=o[r+148>>2]|0;e=B+128|0;o[e>>2]=s;if((s|0)>0){s=s+-1|0;i=0;while(1){M=+u[r+20+(i<<3)>>2];G=+u[r+20+(i<<3)+4>>2];u[B+(i<<3)>>2]=c+(h*M-l*G);u[B+(i<<3)+4>>2]=M*l+h*G+a;G=+u[Z>>2];M=+u[r+84+(i<<3)>>2];J=+u[Y>>2];$=+u[r+84+(i<<3)+4>>2];u[B+64+(i<<3)>>2]=G*M-J*$;u[B+64+(i<<3)+4>>2]=M*J+G*$;if((i|0)==(s|0))break;h=+u[Z>>2];l=+u[Y>>2];c=+u[q>>2];a=+u[H>>2];i=i+1|0}S=B+248|0;i=n[S>>0]|0;T=o[e>>2]|0}else{T=s;S=B+248|0}u[B+244>>2]=.019999999552965164;U=t+60|0;o[U>>2]=0;o[A>>2]=1;o[A+4>>2]=(i^1)&255;e=A+8|0;u[e>>2]=3402823466385288598117041.0e14;if((T|0)<=0){d=K;return}D=+u[B+164>>2];P=+u[g>>2];J=+u[B+212>>2];G=+u[B+216>>2];R=(u[_>>2]=D,o[_>>2]|0);a=3402823466385288598117041.0e14;M=3402823466385288598117041.0e14;s=0;while(1){c=J*(+u[B+(s<<3)>>2]-D)+G*(+u[B+(s<<3)+4>>2]-P);i=c<a;M=i?c:M;s=s+1|0;if((s|0)==(T|0))break;else a=i?c:a}g=(u[_>>2]=P,o[_>>2]|0);u[e>>2]=M;if(M>.019999999552965164){d=K;return}o[I>>2]=0;b=I+4|0;o[b>>2]=-1;m=I+8|0;u[m>>2]=-3402823466385288598117041.0e14;y=+u[B+172>>2];v=+u[B+176>>2];w=+u[B+228>>2];x=+u[B+232>>2];C=+u[B+236>>2];E=+u[B+240>>2];p=-3402823466385288598117041.0e14;s=0;f=-3402823466385288598117041.0e14;e=0;i=-1;while(1){c=+u[B+64+(e<<3)>>2];l=-c;h=-+u[B+64+(e<<3)+4>>2];tt=+u[B+(e<<3)>>2];a=+u[B+(e<<3)+4>>2];$=(tt-D)*l+(a-P)*h;a=(tt-y)*l+(a-v)*h;a=$<a?$:a;if(a>.019999999552965164){O=54;break}if(!(G*c+J*h>=0.0))if(a>p?!((l-w)*J+(h-x)*G<-.03490658849477768):0)O=58;else{c=p;a=f}else if(a>p?!((l-C)*J+(h-E)*G<-.03490658849477768):0)O=58;else{c=p;a=f}if((O|0)==58){O=0;c=a;s=2;i=e}e=e+1|0;if((e|0)<(T|0)){p=c;f=a}else{O=60;break}}if((O|0)==54){o[I>>2]=2;o[b>>2]=e;u[m>>2]=a;s=2;O=61}else if((O|0)==60){o[I>>2]=s;o[b>>2]=i;u[m>>2]=a;if(!s){i=A;s=1;O=64}else O=61}if((O|0)==61?!(a>.019999999552965164):0)if(a>M*.9800000190734863+1.0000000474974513e-03){i=I;O=64}else{i=A;s=1;O=64}if((O|0)==64){m=o[i+4>>2]|0;N=(s|0)==1;i=t+56|0;do{if(N){o[i>>2]=1;if((T|0)>1){i=0;c=J*+u[B+64>>2]+G*+u[B+68>>2];e=1;while(1){a=J*+u[B+64+(e<<3)>>2]+G*+u[B+64+(e<<3)+4>>2];s=a<c;i=s?e:i;e=e+1|0;if((e|0)==(T|0))break;else c=s?a:c}}else i=0;m=i+1|0;m=(m|0)<(T|0)?m:0;s=o[B+(i<<3)>>2]|0;g=o[B+(i<<3)+4>>2]|0;i=i&255;e=o[B+(m<<3)>>2]|0;b=o[B+(m<<3)+4>>2]|0;m=m&255;if(!(n[S>>0]|0)){B=W;W=o[B>>2]|0;B=o[B+4>>2]|0;T=z;o[T>>2]=W;o[T+4>>2]=B;T=F;S=o[T>>2]|0;T=o[T+4>>2]|0;x=-+u[k>>2];E=-+u[j>>2];u[X>>2]=x;u[X+4>>2]=E;A=(u[_>>2]=E,o[_>>2]|0);j=1;k=i;I=1;O=0;R=m;F=1;i=W;m=B;B=0;break}else{et=F;it=o[et>>2]|0;et=o[et+4>>2]|0;T=z;o[T>>2]=it;o[T+4>>2]=et;T=W;S=o[T>>2]|0;T=o[T+4>>2]|0;B=k;A=o[B>>2]|0;B=o[B+4>>2]|0;j=X;o[j>>2]=A;o[j+4>>2]=B;x=(o[_>>2]=A,+u[_>>2]);A=B;j=0;k=i;I=1;O=0;R=m;F=0;i=it;m=et;E=(o[_>>2]=B,+u[_>>2]);B=1;break}}else{o[i>>2]=2;F=m&255;e=o[W>>2]|0;b=o[B+176>>2]|0;it=m+1|0;it=(it|0)<(T|0)?it:0;et=B+(m<<3)|0;i=o[et>>2]|0;et=o[et+4>>2]|0;T=z;o[T>>2]=i;o[T+4>>2]=et;T=B+(it<<3)|0;S=o[T>>2]|0;T=o[T+4>>2]|0;B=B+64+(m<<3)|0;A=o[B>>2]|0;B=o[B+4>>2]|0;j=X;o[j>>2]=A;o[j+4>>2]=B;x=(o[_>>2]=A,+u[_>>2]);A=B;j=F;s=R;k=F;I=0;O=1;R=F;F=m;m=et;E=(o[_>>2]=B,+u[_>>2]);B=it&255}}while(0);C=(o[_>>2]=m,+u[_>>2]);w=(o[_>>2]=i,+u[_>>2]);c=(o[_>>2]=i,+u[_>>2]);f=(o[_>>2]=m,+u[_>>2]);a=(o[_>>2]=S,+u[_>>2]);y=(o[_>>2]=T,+u[_>>2]);tt=-x;$=(o[_>>2]=A,+u[_>>2]);v=-$;f=$*c+f*tt;y=a*v+x*y;a=(o[_>>2]=s,+u[_>>2]);c=(o[_>>2]=g,+u[_>>2]);p=$*a+c*tt-f;l=(o[_>>2]=e,+u[_>>2]);h=(o[_>>2]=b,+u[_>>2]);f=$*l+h*tt-f;if(!(p<=0.0))i=0;else{o[V>>2]=s;o[V+4>>2]=g;n[V+8>>0]=0;n[V+9>>0]=k;n[V+10>>0]=I;n[V+11>>0]=O;i=1}if(f<=0.0){it=V+(i*12|0)|0;o[it>>2]=e;o[V+(i*12|0)+4>>2]=b;n[V+(i*12|0)+8>>0]=0;n[it+9>>0]=R;n[it+10>>0]=I;n[it+11>>0]=O;i=i+1|0}if(p*f<0.0){tt=p/(p-f);u[V+(i*12|0)>>2]=a+tt*(l-a);u[V+(i*12|0)+4>>2]=c+tt*(h-c);it=V+(i*12|0)+8|0;n[it>>0]=j;n[it+1>>0]=k;n[it+2>>0]=0;n[it+3>>0]=1;i=i+1|0}if((i|0)>=2){c=+u[V>>2];l=+u[V+4>>2];f=c*v+x*l-y;s=V+12|0;h=+u[s>>2];p=+u[V+16>>2];a=h*v+x*p-y;if(!(f<=0.0))i=0;else{o[Q>>2]=o[V>>2];o[Q+4>>2]=o[V+4>>2];o[Q+8>>2]=o[V+8>>2];i=1}if(a<=0.0){it=Q+(i*12|0)|0;o[it>>2]=o[s>>2];o[it+4>>2]=o[s+4>>2];o[it+8>>2]=o[s+8>>2];i=i+1|0}if(f*a<0.0){tt=f/(f-a);u[Q+(i*12|0)>>2]=c+tt*(h-c);u[Q+(i*12|0)+4>>2]=l+tt*(p-l);it=Q+(i*12|0)+8|0;n[it>>0]=B;n[it+1>>0]=n[V+8+1>>0]|0;n[it+2>>0]=0;n[it+3>>0]=1;i=i+1|0}if((i|0)>=2){if(N){it=o[X>>2]|0;X=o[X+4>>2]|0;et=t+40|0;o[et>>2]=it;o[et+4>>2]=X;h=(o[_>>2]=it,+u[_>>2]);it=o[z>>2]|0;z=o[z+4>>2]|0;et=t+48|0;o[et>>2]=it;o[et+4>>2]=z;l=(o[_>>2]=it,+u[_>>2]);a=+u[Q>>2];c=+u[Q+4>>2];if(!((a-l)*h+(c-C)*E<=.019999999552965164))i=0;else{$=a-+u[q>>2];G=c-+u[H>>2];J=+u[Z>>2];tt=+u[Y>>2];u[t>>2]=$*J+G*tt;u[t+4>>2]=J*G-$*tt;o[t+16>>2]=o[Q+8>>2];i=1}a=+u[Q+12>>2];c=+u[Q+16>>2];if((a-l)*h+(c-C)*E<=.019999999552965164){$=a-+u[q>>2];G=c-+u[H>>2];J=+u[Z>>2];tt=+u[Y>>2];u[t+(i*20|0)>>2]=$*J+G*tt;u[t+(i*20|0)+4>>2]=J*G-$*tt;o[t+(i*20|0)+16>>2]=o[Q+20>>2];i=i+1|0}}else{it=r+84+(F<<3)|0;et=o[it+4>>2]|0;Z=t+40|0;o[Z>>2]=o[it>>2];o[Z+4>>2]=et;Z=r+20+(F<<3)|0;et=o[Z+4>>2]|0;it=t+48|0;o[it>>2]=o[Z>>2];o[it+4>>2]=et;if(!((+u[Q>>2]-w)*x+(+u[Q+4>>2]-C)*E<=.019999999552965164))i=0;else{et=Q;i=o[et+4>>2]|0;it=t;o[it>>2]=o[et>>2];o[it+4>>2]=i;it=Q+8|0;i=t+16|0;n[i+2>>0]=n[it+3>>0]|0;n[i+3>>0]=n[it+2>>0]|0;n[i>>0]=n[it+1>>0]|0;n[i+1>>0]=n[it>>0]|0;i=1}s=Q+12|0;if((+u[s>>2]-w)*x+(+u[Q+16>>2]-C)*E<=.019999999552965164){Z=s;it=o[Z+4>>2]|0;et=t+(i*20|0)|0;o[et>>2]=o[Z>>2];o[et+4>>2]=it;et=Q+20|0;it=t+(i*20|0)+16|0;n[it+2>>0]=n[et+3>>0]|0;n[it+3>>0]=n[et+2>>0]|0;n[it>>0]=n[et+1>>0]|0;n[it+1>>0]=n[et>>0]|0;i=i+1|0}}o[U>>2]=i}}}d=K;return}function dT(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0,s=0,a=0.0,c=0.0,l=0.0,h=0,_=0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0;_=o[(o[t+48>>2]|0)+12>>2]|0;h=o[(o[t+52>>2]|0)+12>>2]|0;s=e+60|0;o[s>>2]=0;t=_+12|0;a=+u[i+12>>2];d=+u[t>>2];p=+u[i+8>>2];c=+u[_+16>>2];r=h+12|0;b=+u[n+12>>2];g=+u[r>>2];m=+u[n+8>>2];f=+u[h+16>>2];l=+u[n>>2]+(b*g-m*f)-(+u[i>>2]+(a*d-p*c));c=g*m+b*f+ +u[n+4>>2]-(d*p+a*c+ +u[i+4>>2]);a=+u[_+8>>2]+ +u[h+8>>2];if(l*l+c*c>a*a)return;o[e+56>>2]=0;_=t;h=o[_+4>>2]|0;n=e+48|0;o[n>>2]=o[_>>2];o[n+4>>2]=h;u[e+40>>2]=0.0;u[e+44>>2]=0.0;o[s>>2]=1;n=r;h=o[n+4>>2]|0;_=e;o[_>>2]=o[n>>2];o[_+4>>2]=h;o[e+16>>2]=0;return}function fT(t){t=t|0;rE(t);return}function bT(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;lT(e,o[(o[t+48>>2]|0)+12>>2]|0,i,o[(o[t+52>>2]|0)+12>>2]|0,n);return}function mT(t){t=t|0;rE(t);return}function gT(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;pT(e,o[(o[t+48>>2]|0)+12>>2]|0,i,o[(o[t+52>>2]|0)+12>>2]|0,n);return}function yT(t){t=t|0;rE(t);return}function vT(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,s=0,a=0.0,c=0,l=0.0,h=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0,g=0.0,y=0.0,v=0.0,w=0,x=0,T=0;w=o[(o[t+48>>2]|0)+12>>2]|0;c=o[(o[t+52>>2]|0)+12>>2]|0;x=e+60|0;o[x>>2]=0;T=c+12|0;f=+u[n+12>>2];g=+u[T>>2];y=+u[n+8>>2];b=+u[c+16>>2];v=+u[n>>2]+(f*g-y*b)-+u[i>>2];b=g*y+f*b+ +u[n+4>>2]-+u[i+4>>2];f=+u[i+12>>2];y=+u[i+8>>2];g=v*f+b*y;y=f*b-v*y;v=+u[w+8>>2]+ +u[c+8>>2];c=o[w+148>>2]|0;do{if((c|0)>0){i=0;n=0;a=-3402823466385288598117041.0e14;while(1){r=(g-+u[w+20+(i<<3)>>2])*+u[w+84+(i<<3)>>2]+(y-+u[w+20+(i<<3)+4>>2])*+u[w+84+(i<<3)+4>>2];t=r>a;if(r>v){t=18;break}n=t?i:n;a=t?r:a;i=i+1|0;if((i|0)>=(c|0)){t=4;break}}if((t|0)==4){s=a<1.1920928955078125e-07;break}else if((t|0)==18)return}else{n=0;s=1}}while(0);t=n+1|0;c=(t|0)<(c|0)?t:0;t=o[w+20+(n<<3)>>2]|0;i=o[w+20+(n<<3)+4>>2]|0;m=o[w+20+(c<<3)>>2]|0;c=o[w+20+(c<<3)+4>>2]|0;if(s){o[x>>2]=1;o[e+56>>2]=1;s=w+84+(n<<3)|0;x=o[s+4>>2]|0;w=e+40|0;o[w>>2]=o[s>>2];o[w+4>>2]=x;y=(o[_>>2]=t,+u[_>>2]);y=y+(o[_>>2]=m,+u[_>>2]);v=(o[_>>2]=i,+u[_>>2]);v=(v+(o[_>>2]=c,+u[_>>2]))*.5;u[e+48>>2]=y*.5;u[e+52>>2]=v;w=T;x=o[w+4>>2]|0;T=e;o[T>>2]=o[w>>2];o[T+4>>2]=x;o[e+16>>2]=0;return}r=(o[_>>2]=t,+u[_>>2]);d=g-r;l=(o[_>>2]=i,+u[_>>2]);b=y-l;a=(o[_>>2]=m,+u[_>>2]);h=(o[_>>2]=c,+u[_>>2]);p=g-a;f=y-h;do{if(!(d*(a-r)+b*(h-l)<=0.0))if(!(p*(r-a)+f*(l-h)<=0.0)){a=(r+a)*.5;r=(l+h)*.5;t=w+84+(n<<3)|0;if((g-a)*+u[t>>2]+(y-r)*+u[w+84+(n<<3)+4>>2]>v)return;o[x>>2]=1;o[e+56>>2]=1;m=t;x=o[m+4>>2]|0;w=e+40|0;o[w>>2]=o[m>>2];o[w+4>>2]=x;u[e+48>>2]=a;u[e+52>>2]=r;w=T;x=o[w+4>>2]|0;T=e;o[T>>2]=o[w>>2];o[T+4>>2]=x;o[e+16>>2]=0;return}else{r=p*p+f*f;if(r>v*v)return;o[x>>2]=1;o[e+56>>2]=1;i=e+40|0;u[i>>2]=p;t=e+44|0;u[t>>2]=f;v=+L(+r);r=1.0/v;if(v<1.1920928955078125e-07){i=c;t=m;break}u[i>>2]=p*r;u[t>>2]=f*r;i=c;t=m;break}else{r=d*d+b*b;if(r>v*v)return;o[x>>2]=1;o[e+56>>2]=1;s=e+40|0;u[s>>2]=d;n=e+44|0;u[n>>2]=b;v=+L(+r);r=1.0/v;if(!(v<1.1920928955078125e-07)){u[s>>2]=d*r;u[n>>2]=b*r}}}while(0);o[e+48>>2]=t;o[e+52>>2]=i;w=T;x=o[w+4>>2]|0;T=e;o[T>>2]=o[w>>2];o[T+4>>2]=x;o[e+16>>2]=0;return}function wT(t){t=t|0;rE(t);return}function xT(t,e,i,r){t=t|0;e=e|0;i=i|0;r=r|0;var s=0.0,a=0.0,c=0,l=0,h=0,_=0.0,p=0.0,f=0.0,b=0.0,m=0,g=0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0,O=0,k=0,j=0.0,B=0.0,F=0.0,J=0.0,G=0.0,N=0,U=0,W=0,V=0.0;W=d;d=d+64|0;c=W+52|0;l=W+48|0;O=W+24|0;N=W;h=o[(o[t+48>>2]|0)+12>>2]|0;t=o[(o[t+52>>2]|0)+12>>2]|0;U=e+60|0;o[U>>2]=0;G=+u[h+8>>2]+ +u[t+8>>2];o[c>>2]=0;s=+ST(c,h,i,t,r);if(s>G){d=W;return}o[l>>2]=0;a=+ST(l,t,r,h,i);if(!(a>G)){k=a>s+5.000000237487257e-04;g=k?i:r;r=k?r:i;m=k?h:t;l=o[l>>2]|0;c=o[c>>2]|0;E=+u[r+12>>2];D=+u[r+8>>2];P=+u[r+4>>2];C=+u[r>>2];F=+u[g+12>>2];B=+u[g+8>>2];J=+u[g+4>>2];j=+u[g>>2];o[e+56>>2]=k?2:1;g=k?t:h;h=k?l:c;c=o[m+148>>2]|0;if((h|0)<=-1)Gt(7224,7261,74,7311);l=o[g+148>>2]|0;if((l|0)<=(h|0))Gt(7224,7261,74,7311);a=+u[g+84+(h<<3)>>2];I=+u[g+84+(h<<3)+4>>2];_=E*a-D*I;I=D*a+E*I;a=F*_+B*I;_=F*I-B*_;if((c|0)>0){r=0;t=0;p=3402823466385288598117041.0e14;while(1){s=a*+u[m+84+(r<<3)>>2]+_*+u[m+84+(r<<3)+4>>2];i=s<p;t=i?r:t;r=r+1|0;if((r|0)==(c|0))break;else p=i?s:p}}else t=0;i=t+1|0;i=(i|0)<(c|0)?i:0;a=+u[m+20+(t<<3)>>2];v=+u[m+20+(t<<3)+4>>2];y=j+(F*a-B*v);v=J+(B*a+F*v);c=h&255;r=t&255;a=+u[m+20+(i<<3)>>2];b=+u[m+20+(i<<3)+4>>2];f=j+(F*a-B*b);b=J+(B*a+F*b);m=h+1|0;l=(m|0)<(l|0)?m:0;a=+u[g+20+(h<<3)>>2];S=+u[g+20+(h<<3)+4>>2];p=+u[g+20+(l<<3)>>2];_=+u[g+20+(l<<3)+4>>2];A=p-a;T=_-S;x=+L(+(A*A+T*T));g=x<1.1920928955078125e-07;x=1.0/x;A=g?A:A*x;x=g?T:T*x;T=(a+p)*.5;w=E*A-D*x;R=D*A+E*x;I=-w;V=C+(E*a-D*S);a=P+(D*a+E*S);A=-A;S=(S+_)*.5;M=V*R+a*I;a=G-(V*w+a*R);V=-R;s=y*I+v*V-a;a=f*I+b*V-a;if(!(s<=0.0))t=0;else{u[O>>2]=y;u[O+4>>2]=v;n[O+8>>0]=c;n[O+9>>0]=r;n[O+10>>0]=1;n[O+11>>0]=0;t=1}if(a<=0.0){g=O+(t*12|0)|0;u[g>>2]=f;u[O+(t*12|0)+4>>2]=b;n[O+(t*12|0)+8>>0]=c;n[g+9>>0]=i;n[g+10>>0]=1;n[g+11>>0]=0;t=t+1|0}if(s*a<0.0){V=s/(s-a);u[O+(t*12|0)>>2]=y+V*(f-y);u[O+(t*12|0)+4>>2]=v+V*(b-v);g=O+(t*12|0)+8|0;n[g>>0]=c;n[g+1>>0]=r;n[g+2>>0]=0;n[g+3>>0]=1;t=t+1|0}if((t|0)>=2){s=G+((C+(E*p-D*_))*w+(P+(D*p+E*_))*R);a=+u[O>>2];_=+u[O+4>>2];b=w*a+R*_-s;i=O+12|0;p=+u[i>>2];f=+u[O+16>>2];s=w*p+R*f-s;if(!(b<=0.0))t=0;else{o[N>>2]=o[O>>2];o[N+4>>2]=o[O+4>>2];o[N+8>>2]=o[O+8>>2];t=1}if(s<=0.0){g=N+(t*12|0)|0;o[g>>2]=o[i>>2];o[g+4>>2]=o[i+4>>2];o[g+8>>2]=o[i+8>>2];t=t+1|0}if(b*s<0.0){V=b/(b-s);u[N+(t*12|0)>>2]=a+V*(p-a);u[N+(t*12|0)+4>>2]=_+V*(f-_);g=N+(t*12|0)+8|0;n[g>>0]=l;n[g+1>>0]=n[O+8+1>>0]|0;n[g+2>>0]=0;n[g+3>>0]=1;t=t+1|0}if((t|0)>=2){u[e+40>>2]=x;u[e+44>>2]=A;u[e+48>>2]=T;u[e+52>>2]=S;s=+u[N>>2];a=+u[N+4>>2];t=!(R*s+a*I-M<=G);if(k){if(t)t=0;else{V=s-j;D=a-J;u[e>>2]=F*V+B*D;u[e+4>>2]=F*D-B*V;t=e+16|0;k=o[N+8>>2]|0;n[t>>0]=k>>>8;n[t+1>>0]=k;n[t+2>>0]=k>>>24;n[t+3>>0]=k>>>16;t=1}s=+u[N+12>>2];a=+u[N+16>>2];if(R*s+a*I-M<=G){V=s-j;G=a-J;u[e+(t*20|0)>>2]=F*V+B*G;u[e+(t*20|0)+4>>2]=F*G-B*V;e=e+(t*20|0)+16|0;N=o[N+20>>2]|0;n[e>>0]=N>>>8;n[e+1>>0]=N;n[e+2>>0]=N>>>24;n[e+3>>0]=N>>>16;t=t+1|0}}else{if(t)t=0;else{V=s-j;D=a-J;u[e>>2]=F*V+B*D;u[e+4>>2]=F*D-B*V;o[e+16>>2]=o[N+8>>2];t=1}s=+u[N+12>>2];a=+u[N+16>>2];if(R*s+a*I-M<=G){V=s-j;G=a-J;u[e+(t*20|0)>>2]=F*V+B*G;u[e+(t*20|0)+4>>2]=F*G-B*V;o[e+(t*20|0)+16>>2]=o[N+20>>2];t=t+1|0}}o[U>>2]=t}}}d=W;return}function TT(t){t=t|0;rE(t);return}function ST(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0,b=0,m=0.0,g=0.0,y=0,v=0.0;y=o[e+148>>2]|0;b=o[n+148>>2]|0;l=+u[r+12>>2];d=+u[i+8>>2];_=+u[r+8>>2];m=+u[i+12>>2];g=l*d-_*m;m=d*_+l*m;d=+u[i>>2]-+u[r>>2];h=+u[i+4>>2]-+u[r+4>>2];p=l*d+_*h;d=l*h-_*d;if((y|0)<=0){y=0;g=-3402823466385288598117041.0e14;o[t>>2]=y;return+g}if((b|0)>0){i=0;f=0;s=-3402823466385288598117041.0e14}else{i=0;r=0;s=-3402823466385288598117041.0e14;do{n=s<3402823466385288598117041.0e14;s=n?3402823466385288598117041.0e14:s;i=n?r:i;r=r+1|0}while((r|0)!=(y|0));o[t>>2]=i;return+s}do{h=+u[e+84+(f<<3)>>2];c=+u[e+84+(f<<3)+4>>2];_=m*h-g*c;c=g*h+m*c;h=+u[e+20+(f<<3)>>2];l=+u[e+20+(f<<3)+4>>2];a=p+(m*h-g*l);l=d+(g*h+m*l);r=0;h=3402823466385288598117041.0e14;do{v=_*(+u[n+20+(r<<3)>>2]-a)+c*(+u[n+20+(r<<3)+4>>2]-l);h=v<h?v:h;r=r+1|0}while((r|0)!=(b|0));r=h>s;s=r?h:s;i=r?f:i;f=f+1|0}while((f|0)!=(y|0));o[t>>2]=i;return+s}function AT(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+80>>2];r=+u[c+20>>2];n=+u[e+84>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function CT(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+88>>2];r=+u[c+20>>2];n=+u[e+92>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function ET(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0;n=+u[e+100>>2]*i;i=n*+u[e+120>>2];u[t>>2]=+u[e+116>>2]*n;u[t+4>>2]=i;return}function PT(t,e){t=t|0;e=+e;return 0.0}function DT(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0,h=0.0,_=0,p=0,f=0,b=0,m=0,g=0;e=d;d=d+96|0;i=e+88|0;n=e+80|0;r=e+72|0;a=e+64|0;c=e+48|0;_=e+32|0;p=e+24|0;f=e+16|0;m=e+8|0;g=o[(o[t+48>>2]|0)+8>>2]|0;b=o[(o[t+52>>2]|0)+8>>2]|0;wx(7349,e);o[m>>2]=g;wx(8398,m);o[f>>2]=b;wx(8424,f);o[p>>2]=s[t+61>>0];wx(8450,p);h=+u[t+84>>2];l[_>>3]=+u[t+80>>2];l[_+8>>3]=h;wx(8485,_);h=+u[t+92>>2];l[c>>3]=+u[t+88>>2];l[c+8>>3]=h;wx(8527,c);l[a>>3]=+u[t+104>>2];wx(7375,a);l[r>>3]=+u[t+68>>2];wx(8699,r);l[n>>3]=+u[t+72>>2];wx(8728,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function MT(t){t=t|0;rE(t);return}function RT(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,s=0,a=0,c=0.0,l=0,h=0,p=0.0,d=0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0,w=0,x=0.0,T=0,S=0,A=0.0,C=0.0,E=0.0,P=0.0,D=0,M=0,R=0.0,I=0.0,O=0,k=0,j=0,J=0,G=0,N=0,U=0.0,W=0.0;T=o[t+48>>2]|0;S=o[T+8>>2]|0;D=t+108|0;o[D>>2]=S;k=o[t+52>>2]|0;G=o[k+8>>2]|0;M=t+112|0;o[M>>2]=G;j=T+28|0;J=o[j>>2]|0;j=o[j+4>>2]|0;s=t+140|0;o[s>>2]=J;o[s+4>>2]=j;s=k+28|0;a=o[s>>2]|0;s=o[s+4>>2]|0;l=t+148|0;o[l>>2]=a;o[l+4>>2]=s;l=t+156|0;o[l>>2]=o[T+120>>2];d=t+160|0;o[d>>2]=o[k+120>>2];h=t+164|0;o[h>>2]=o[T+128>>2];k=o[k+128>>2]|0;o[t+168>>2]=k;T=o[e+24>>2]|0;i=+u[T+(S*12|0)>>2];r=+u[T+(S*12|0)+4>>2];m=+u[T+(S*12|0)+8>>2];O=e+28|0;N=o[O>>2]|0;v=o[N+(S*12|0)>>2]|0;w=o[N+(S*12|0)+4>>2]|0;x=+u[N+(S*12|0)+8>>2];C=+u[T+(G*12|0)>>2];y=+u[T+(G*12|0)+4>>2];g=+u[T+(G*12|0)+8>>2];T=o[N+(G*12|0)>>2]|0;S=o[N+(G*12|0)+4>>2]|0;A=+u[N+(G*12|0)+8>>2];R=+F(+m);m=+B(+m);b=+F(+g);g=+B(+g);P=+u[t+80>>2]-(o[_>>2]=J,+u[_>>2]);E=+u[t+84>>2]-(o[_>>2]=j,+u[_>>2]);I=m*P-R*E;E=R*P+m*E;u[t+124>>2]=I;u[t+128>>2]=E;m=+u[t+88>>2]-(o[_>>2]=a,+u[_>>2]);P=+u[t+92>>2]-(o[_>>2]=s,+u[_>>2]);R=g*m-b*P;P=b*m+g*P;u[t+132>>2]=R;u[t+136>>2]=P;i=C+R-i-I;r=y+P-r-E;s=t+116|0;u[s>>2]=i;a=t+120|0;u[a>>2]=r;y=+L(+(i*i+r*r));C=(o[_>>2]=k,+u[_>>2]);if(y>.004999999888241291){m=1.0/y;g=i*m;u[s>>2]=g;m=m*r}else{u[s>>2]=0.0;m=0.0;g=0.0}u[a>>2]=m;c=m*I-E*g;r=m*R-g*P;b=+u[l>>2];f=+u[h>>2];p=+u[d>>2];r=p+(b+c*(c*f))+r*(r*C);c=r!=0.0?1.0/r:0.0;s=t+172|0;u[s>>2]=c;i=+u[t+68>>2];if(i>0.0){i=i*6.2831854820251465;W=i*(i*c);U=+u[e>>2];i=U*(i*(c*2.0*+u[t+72>>2])+W*U);i=i!=0.0?1.0/i:0.0;y=W*((y-+u[t+104>>2])*U)*i;r=r+i;u[s>>2]=r!=0.0?1.0/r:0.0;r=y}else{i=0.0;r=0.0}u[t+96>>2]=i;u[t+76>>2]=r;if(!(n[e+20>>0]|0)){u[t+100>>2]=0.0;e=v;G=w;k=T;N=S;U=x;W=A;j=o[O>>2]|0;J=o[D>>2]|0;t=j+(J*12|0)|0;o[t>>2]=e;J=j+(J*12|0)+4|0;o[J>>2]=G;J=o[O>>2]|0;G=o[D>>2]|0;G=J+(G*12|0)+8|0;u[G>>2]=U;G=o[M>>2]|0;j=J+(G*12|0)|0;o[j>>2]=k;G=J+(G*12|0)+4|0;o[G>>2]=N;G=o[O>>2]|0;N=o[M>>2]|0;N=G+(N*12|0)+8|0;u[N>>2]=W;return}else{G=t+100|0;y=+u[e+8>>2]*+u[G>>2];u[G>>2]=y;W=y*g;y=y*m;e=(u[_>>2]=(o[_>>2]=v,+u[_>>2])-W*b,o[_>>2]|0);G=(u[_>>2]=(o[_>>2]=w,+u[_>>2])-y*b,o[_>>2]|0);k=(u[_>>2]=(o[_>>2]=T,+u[_>>2])+W*p,o[_>>2]|0);N=(u[_>>2]=(o[_>>2]=S,+u[_>>2])+y*p,o[_>>2]|0);U=x-f*(y*I-W*E);W=A+C*(y*R-W*P);j=o[O>>2]|0;J=o[D>>2]|0;t=j+(J*12|0)|0;o[t>>2]=e;J=j+(J*12|0)+4|0;o[J>>2]=G;J=o[O>>2]|0;G=o[D>>2]|0;G=J+(G*12|0)+8|0;u[G>>2]=U;G=o[M>>2]|0;j=J+(G*12|0)|0;o[j>>2]=k;G=J+(G*12|0)+4|0;o[G>>2]=N;G=o[O>>2]|0;N=o[M>>2]|0;N=G+(N*12|0)+8|0;u[N>>2]=W;return}}function IT(t,e){t=t|0;e=e|0;var i=0,n=0.0,r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0,p=0.0,d=0.0,f=0.0,b=0,m=0.0,g=0.0,y=0.0,v=0.0,w=0,x=0.0,T=0.0,S=0;i=e+28|0;S=o[i>>2]|0;_=t+108|0;e=o[_>>2]|0;b=S+(e*12|0)|0;m=+u[b>>2];r=S+(e*12|0)+4|0;f=+u[r>>2];v=+u[S+(e*12|0)+8>>2];e=t+112|0;w=o[e>>2]|0;h=+u[S+(w*12|0)>>2];c=+u[S+(w*12|0)+4>>2];y=+u[S+(w*12|0)+8>>2];p=+u[t+128>>2];s=+u[t+124>>2];n=+u[t+136>>2];g=+u[t+132>>2];l=+u[t+116>>2];d=+u[t+120>>2];w=t+100|0;T=+u[w>>2];x=+u[t+172>>2]*(+u[t+76>>2]+(l*(h-y*n-(m-v*p))+d*(c+y*g-(f+v*s)))+ +u[t+96>>2]*T);a=-x;u[w>>2]=T-x;l=l*a;a=d*a;d=+u[t+156>>2];p=v-+u[t+164>>2]*(a*s-l*p);s=+u[t+160>>2];n=y+ +u[t+168>>2]*(a*g-l*n);u[b>>2]=m-l*d;u[r>>2]=f-a*d;r=o[i>>2]|0;u[r+((o[_>>2]|0)*12|0)+8>>2]=p;t=o[e>>2]|0;u[r+(t*12|0)>>2]=h+l*s;u[r+(t*12|0)+4>>2]=c+a*s;u[(o[i>>2]|0)+((o[e>>2]|0)*12|0)+8>>2]=n;return}function OT(t,e){t=t|0;e=e|0;var i=0.0,n=0,r=0.0,s=0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0;if(+u[t+68>>2]>0.0){t=1;return t|0}n=e+24|0;x=o[n>>2]|0;p=t+108|0;e=o[p>>2]|0;m=+u[x+(e*12|0)>>2];b=+u[x+(e*12|0)+4>>2];v=+u[x+(e*12|0)+8>>2];e=t+112|0;s=o[e>>2]|0;_=+u[x+(s*12|0)>>2];l=+u[x+(s*12|0)+4>>2];y=+u[x+(s*12|0)+8>>2];g=+F(+v);f=+B(+v);i=+F(+y);h=+B(+y);r=+u[t+80>>2]-+u[t+140>>2];d=+u[t+84>>2]-+u[t+144>>2];c=f*r-g*d;d=g*r+f*d;f=+u[t+88>>2]-+u[t+148>>2];r=+u[t+92>>2]-+u[t+152>>2];g=h*f-i*r;r=i*f+h*r;h=_+g-m-c;f=l+r-b-d;i=+L(+(h*h+f*f));s=i<1.1920928955078125e-07;w=1.0/i;i=(s?0.0:i)-+u[t+104>>2];i=i<.20000000298023224?i:.20000000298023224;i=i<-.20000000298023224?-.20000000298023224:i;a=-(+u[t+172>>2]*i);h=(s?h:w*h)*a;a=(s?f:w*f)*a;f=+u[t+156>>2];d=v-+u[t+164>>2]*(c*a-d*h);c=+u[t+160>>2];r=y+ +u[t+168>>2]*(g*a-r*h);t=o[n>>2]|0;s=o[p>>2]|0;u[t+(s*12|0)>>2]=m-f*h;u[t+(s*12|0)+4>>2]=b-f*a;s=o[n>>2]|0;u[s+((o[p>>2]|0)*12|0)+8>>2]=d;t=o[e>>2]|0;u[s+(t*12|0)>>2]=_+c*h;u[s+(t*12|0)+4>>2]=l+c*a;u[(o[n>>2]|0)+((o[e>>2]|0)*12|0)+8>>2]=r;t=(i>0.0?i:-i)<.004999999888241291;return t|0}function kT(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+68>>2];r=+u[c+20>>2];n=+u[e+72>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function LT(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+76>>2];r=+u[c+20>>2];n=+u[e+80>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function jT(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0;n=+u[e+88>>2]*i;u[t>>2]=+u[e+84>>2]*i;u[t+4>>2]=n;return}function BT(t,e){t=t|0;e=+e;return+(+u[t+92>>2]*e)}function FT(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0.0,h=0,_=0,p=0,f=0,b=0,m=0;e=d;d=d+96|0;i=e+80|0;n=e+72|0;r=e+64|0;a=e+48|0;h=e+32|0;_=e+24|0;p=e+16|0;b=e+8|0;m=o[(o[t+48>>2]|0)+8>>2]|0;f=o[(o[t+52>>2]|0)+8>>2]|0;wx(7417,e);o[b>>2]=m;wx(8398,b);o[p>>2]=f;wx(8424,p);o[_>>2]=s[t+61>>0];wx(8450,_);c=+u[t+72>>2];l[h>>3]=+u[t+68>>2];l[h+8>>3]=c;wx(8485,h);c=+u[t+80>>2];l[a>>3]=+u[t+76>>2];l[a+8>>3]=c;wx(8527,a);l[r>>3]=+u[t+96>>2];wx(7443,r);l[n>>3]=+u[t+100>>2];wx(7469,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function JT(t){t=t|0;rE(t);return}function GT(t,e){t=t|0;e=e|0;var i=0,r=0,s=0.0,a=0,c=0,l=0.0,h=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0,y=0,v=0.0,w=0.0,x=0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0,D=0,M=0,R=0,I=0,O=0,k=0,L=0,j=0,J=0;D=o[t+48>>2]|0;c=o[D+8>>2]|0;g=t+104|0;o[g>>2]=c;P=o[t+52>>2]|0;j=o[P+8>>2]|0;y=t+108|0;o[y>>2]=j;k=D+28|0;L=o[k>>2]|0;k=o[k+4>>2]|0;I=t+128|0;o[I>>2]=L;o[I+4>>2]=k;I=P+28|0;O=o[I>>2]|0;I=o[I+4>>2]|0;R=t+136|0;o[R>>2]=O;o[R+4>>2]=I;R=o[D+120>>2]|0;o[t+144>>2]=R;M=o[P+120>>2]|0;o[t+148>>2]=M;D=o[D+128>>2]|0;o[t+152>>2]=D;P=o[P+128>>2]|0;o[t+156>>2]=P;a=o[e+24>>2]|0;p=+u[a+(c*12|0)+8>>2];x=e+28|0;J=o[x>>2]|0;i=o[J+(c*12|0)>>2]|0;r=o[J+(c*12|0)+4>>2]|0;s=+u[J+(c*12|0)+8>>2];h=+u[a+(j*12|0)+8>>2];a=o[J+(j*12|0)>>2]|0;c=o[J+(j*12|0)+4>>2]|0;l=+u[J+(j*12|0)+8>>2];v=+F(+p);p=+B(+p);d=+F(+h);h=+B(+h);m=+u[t+68>>2]-(o[_>>2]=L,+u[_>>2]);b=+u[t+72>>2]-(o[_>>2]=k,+u[_>>2]);w=p*m-v*b;b=v*m+p*b;u[t+112>>2]=w;u[t+116>>2]=b;p=+u[t+76>>2]-(o[_>>2]=O,+u[_>>2]);m=+u[t+80>>2]-(o[_>>2]=I,+u[_>>2]);v=h*p-d*m;m=d*p+h*m;u[t+120>>2]=v;u[t+124>>2]=m;h=(o[_>>2]=R,+u[_>>2]);p=(o[_>>2]=M,+u[_>>2]);d=(o[_>>2]=D,+u[_>>2]);f=(o[_>>2]=P,+u[_>>2]);E=h+p;S=E+b*(d*b)+m*(f*m);T=d*w;C=f*v;A=-(b*T)-m*C;C=E+w*T+v*C;T=S*C-A*A;T=T!=0.0?1.0/T:T;A=-(A*T);u[t+160>>2]=C*T;u[t+164>>2]=A;u[t+168>>2]=A;u[t+172>>2]=S*T;T=d+f;u[t+176>>2]=T>0.0?1.0/T:T;if(!(n[e+20>>0]|0)){u[t+84>>2]=0.0;u[t+88>>2]=0.0;u[t+92>>2]=0.0;R=i;j=r;O=a;J=c;C=s;E=l;k=o[x>>2]|0;L=o[g>>2]|0;I=k+(L*12|0)|0;o[I>>2]=R;L=k+(L*12|0)+4|0;o[L>>2]=j;L=o[x>>2]|0;j=o[g>>2]|0;j=L+(j*12|0)+8|0;u[j>>2]=C;j=o[y>>2]|0;k=L+(j*12|0)|0;o[k>>2]=O;j=L+(j*12|0)+4|0;o[j>>2]=J;j=o[x>>2]|0;J=o[y>>2]|0;J=j+(J*12|0)+8|0;u[J>>2]=E;return}else{S=+u[e+8>>2];R=t+84|0;E=S*+u[R>>2];u[R>>2]=E;R=t+88|0;A=S*+u[R>>2];u[R>>2]=A;R=t+92|0;S=S*+u[R>>2];u[R>>2]=S;R=(u[_>>2]=(o[_>>2]=i,+u[_>>2])-h*E,o[_>>2]|0);j=(u[_>>2]=(o[_>>2]=r,+u[_>>2])-h*A,o[_>>2]|0);O=(u[_>>2]=(o[_>>2]=a,+u[_>>2])+p*E,o[_>>2]|0);J=(u[_>>2]=(o[_>>2]=c,+u[_>>2])+p*A,o[_>>2]|0);C=s-d*(S+(A*w-E*b));E=l+f*(S+(A*v-E*m));k=o[x>>2]|0;L=o[g>>2]|0;I=k+(L*12|0)|0;o[I>>2]=R;L=k+(L*12|0)+4|0;o[L>>2]=j;L=o[x>>2]|0;j=o[g>>2]|0;j=L+(j*12|0)+8|0;u[j>>2]=C;j=o[y>>2]|0;k=L+(j*12|0)|0;o[k>>2]=O;j=L+(j*12|0)+4|0;o[j>>2]=J;j=o[x>>2]|0;J=o[y>>2]|0;J=j+(J*12|0)+8|0;u[J>>2]=E;return}}function NT(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0,g=0.0,y=0.0,v=0.0,w=0.0,x=0,T=0.0,S=0.0,A=0.0,C=0.0,E=0,P=0,D=0,M=0,R=0.0;D=e+28|0;M=o[D>>2]|0;E=t+104|0;P=o[E>>2]|0;x=M+(P*12|0)|0;T=+u[x>>2];m=M+(P*12|0)+4|0;S=+u[m>>2];b=+u[M+(P*12|0)+8>>2];P=t+108|0;a=o[P>>2]|0;A=+u[M+(a*12|0)>>2];C=+u[M+(a*12|0)+4>>2];c=+u[M+(a*12|0)+8>>2];g=+u[t+144>>2];y=+u[t+148>>2];v=+u[t+152>>2];w=+u[t+156>>2];s=+u[e>>2];a=t+92|0;f=+u[a>>2];l=s*+u[t+100>>2];_=f-(c-b)*+u[t+176>>2];h=-l;l=_<l?_:l;l=l<h?h:l;u[a>>2]=l;f=l-f;b=b-v*f;f=c+w*f;c=+u[t+124>>2];l=+u[t+120>>2];h=+u[t+116>>2];_=+u[t+112>>2];r=h*b+(A-c*f-T);n=C+l*f-S-_*b;i=+u[t+164>>2]*r+ +u[t+172>>2]*n;a=t+84|0;p=+u[a>>2];e=t+88|0;d=+u[e>>2];n=p-(+u[t+160>>2]*r+ +u[t+168>>2]*n);u[a>>2]=n;i=d-i;u[e>>2]=i;s=s*+u[t+96>>2];r=n*n+i*i;if(r>s*s){R=+L(+r);r=1.0/R;if(!(R<1.1920928955078125e-07)){i=i*r;n=n*r;u[a>>2]=n;u[e>>2]=i}n=s*n;u[a>>2]=n;i=s*i;u[e>>2]=i}R=n-p;d=i-d;u[x>>2]=T-g*R;u[m>>2]=S-g*d;x=o[D>>2]|0;u[x+((o[E>>2]|0)*12|0)+8>>2]=b-v*(_*d-R*h);M=o[P>>2]|0;u[x+(M*12|0)>>2]=A+y*R;u[x+(M*12|0)+4>>2]=C+y*d;u[(o[D>>2]|0)+((o[P>>2]|0)*12|0)+8>>2]=f+w*(d*l-R*c);return}function UT(t,e){t=t|0;e=e|0;return 1}function WT(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+92>>2];r=+u[c+20>>2];n=+u[e+96>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function VT(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+100>>2];r=+u[c+20>>2];n=+u[e+104>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function XT(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0,r=0.0;r=+u[e+156>>2];n=r*+u[e+244>>2]*i;u[t>>2]=r*+u[e+240>>2]*i;u[t+4>>2]=n;return}function zT(t,e){t=t|0;e=+e;return+(+u[t+156>>2]*+u[t+256>>2]*e)}function qT(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0,h=0,_=0,p=0,f=0,b=0,m=0;e=d;d=d+64|0;i=e+56|0;n=e+48|0;r=e+40|0;c=e+32|0;_=e+24|0;p=e+16|0;b=e+8|0;m=o[(o[t+48>>2]|0)+8>>2]|0;f=o[(o[t+52>>2]|0)+8>>2]|0;h=o[(o[t+68>>2]|0)+56>>2]|0;a=o[(o[t+72>>2]|0)+56>>2]|0;wx(7514,e);o[b>>2]=m;wx(8398,b);o[p>>2]=f;wx(8424,p);o[_>>2]=s[t+61>>0];wx(8450,_);o[c>>2]=h;wx(7536,c);o[r>>2]=a;wx(7563,r);l[n>>3]=+u[t+152>>2];wx(8075,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function HT(t){t=t|0;rE(t);return}function YT(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,l=0,h=0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0,x=0,T=0,S=0,A=0.0,C=0,E=0,P=0.0,D=0,M=0,R=0.0,I=0,O=0,k=0.0,L=0.0,j=0.0,J=0.0,G=0.0,N=0.0,U=0.0,W=0,V=0,X=0,z=0,q=0,H=0,Y=0,Z=0,Q=0,K=0,$=0,tt=0,et=0,it=0,nt=0,rt=0.0,ot=0.0,st=0.0;tt=o[t+48>>2]|0;C=o[tt+8>>2]|0;W=t+160|0;o[W>>2]=C;Q=o[t+52>>2]|0;Y=o[Q+8>>2]|0;V=t+164|0;o[V>>2]=Y;et=o[t+84>>2]|0;X=t+168|0;o[X>>2]=o[et+8>>2];K=o[t+88>>2]|0;z=t+172|0;o[z>>2]=o[K+8>>2];l=t+176|0;H=tt+28|0;it=o[H+4>>2]|0;w=l;o[w>>2]=o[H>>2];o[w+4>>2]=it;w=t+184|0;it=Q+28|0;H=o[it+4>>2]|0;h=w;o[h>>2]=o[it>>2];o[h+4>>2]=H;h=t+192|0;H=et+28|0;it=o[H+4>>2]|0;x=h;o[x>>2]=o[H>>2];o[x+4>>2]=it;x=t+200|0;it=K+28|0;H=o[it+4>>2]|0;q=x;o[q>>2]=o[it>>2];o[q+4>>2]=H;q=t+208|0;o[q>>2]=o[tt+120>>2];H=t+212|0;o[H>>2]=o[Q+120>>2];it=o[et+120>>2]|0;o[t+216>>2]=it;$=o[K+120>>2]|0;o[t+220>>2]=$;tt=o[tt+128>>2]|0;o[t+224>>2]=tt;Q=o[Q+128>>2]|0;o[t+228>>2]=Q;et=o[et+128>>2]|0;o[t+232>>2]=et;K=o[K+128>>2]|0;o[t+236>>2]=K;I=o[e+24>>2]|0;s=+u[I+(C*12|0)+8>>2];Z=e+28|0;nt=o[Z>>2]|0;T=o[nt+(C*12|0)>>2]|0;S=o[nt+(C*12|0)+4>>2]|0;A=+u[nt+(C*12|0)+8>>2];y=+u[I+(Y*12|0)+8>>2];C=o[nt+(Y*12|0)>>2]|0;E=o[nt+(Y*12|0)+4>>2]|0;P=+u[nt+(Y*12|0)+8>>2];Y=o[X>>2]|0;a=+u[I+(Y*12|0)+8>>2];D=o[nt+(Y*12|0)>>2]|0;M=o[nt+(Y*12|0)+4>>2]|0;R=+u[nt+(Y*12|0)+8>>2];Y=o[z>>2]|0;v=+u[I+(Y*12|0)+8>>2];I=o[nt+(Y*12|0)>>2]|0;O=o[nt+(Y*12|0)+4>>2]|0;k=+u[nt+(Y*12|0)+8>>2];i=+F(+s);s=+B(+s);c=+F(+y);y=+B(+y);r=+F(+a);a=+B(+a);g=+F(+v);v=+B(+v);Y=t+272|0;u[Y>>2]=0.0;L=(o[_>>2]=it,+u[_>>2]);j=(o[_>>2]=et,+u[_>>2]);J=(o[_>>2]=tt,+u[_>>2]);G=(o[_>>2]=$,+u[_>>2]);N=(o[_>>2]=K,+u[_>>2]);U=(o[_>>2]=Q,+u[_>>2]);if((o[t+76>>2]|0)==1){d=1.0;f=1.0;b=0.0;m=0.0;i=J+j}else{rt=+u[t+124>>2];m=+u[t+128>>2];b=a*rt-r*m;m=r*rt+a*m;rt=+u[t+108>>2]-+u[h>>2];p=+u[t+112>>2]-+u[t+196>>2];f=+u[t+92>>2]-+u[l>>2];d=+u[t+96>>2]-+u[t+180>>2];p=m*(a*rt-r*p)-b*(r*rt+a*p);i=m*(s*f-i*d)-b*(i*f+s*d);d=p;f=i;i=L+ +u[q>>2]+p*(j*p)+i*(i*J)}u[t+264>>2]=d;u[t+240>>2]=b;u[t+244>>2]=m;u[t+256>>2]=f;p=i+0.0;u[Y>>2]=p;if((o[t+80>>2]|0)==1){nt=o[t+152>>2]|0;o[t+260>>2]=nt;o[t+268>>2]=nt;c=(o[_>>2]=nt,+u[_>>2]);i=0.0;r=0.0;s=c;a=c;c=c*c*(U+N)}else{st=+u[t+132>>2];r=+u[t+136>>2];i=v*st-g*r;r=g*st+v*r;st=+u[t+116>>2]-+u[x>>2];rt=+u[t+120>>2]-+u[t+204>>2];a=+u[t+100>>2]-+u[w>>2];s=+u[t+104>>2]-+u[t+188>>2];ot=+u[t+152>>2];rt=(r*(v*st-g*rt)-i*(g*st+v*rt))*ot;u[t+268>>2]=rt;c=(r*(y*a-c*s)-i*(c*a+y*s))*ot;u[t+260>>2]=c;i=i*ot;r=r*ot;s=c;a=rt;c=ot*ot*(G+ +u[H>>2])+rt*(N*rt)+c*(c*U)}u[t+248>>2]=i;u[t+252>>2]=r;st=c+p;u[Y>>2]=st>0.0?1.0/st:0.0;if(!(n[e+20>>0]|0)){u[t+156>>2]=0.0;q=T;tt=S;Y=C;et=E;Q=D;it=M;$=I;nt=O;U=A;rt=P;ot=R;st=k;t=o[Z>>2]|0;K=o[W>>2]|0;H=t+(K*12|0)|0;o[H>>2]=q;K=t+(K*12|0)+4|0;o[K>>2]=tt;K=o[Z>>2]|0;tt=o[W>>2]|0;tt=K+(tt*12|0)+8|0;u[tt>>2]=U;tt=o[V>>2]|0;t=K+(tt*12|0)|0;o[t>>2]=Y;tt=K+(tt*12|0)+4|0;o[tt>>2]=et;tt=o[Z>>2]|0;et=o[V>>2]|0;et=tt+(et*12|0)+8|0;u[et>>2]=rt;et=o[X>>2]|0;K=tt+(et*12|0)|0;o[K>>2]=Q;et=tt+(et*12|0)+4|0;o[et>>2]=it;et=o[Z>>2]|0;it=o[X>>2]|0;it=et+(it*12|0)+8|0;u[it>>2]=ot;it=o[z>>2]|0;tt=et+(it*12|0)|0;o[tt>>2]=$;it=et+(it*12|0)+4|0;o[it>>2]=nt;it=o[Z>>2]|0;nt=o[z>>2]|0;nt=it+(nt*12|0)+8|0;u[nt>>2]=st;return}else{st=+u[t+156>>2];rt=+u[q>>2]*st;q=(u[_>>2]=(o[_>>2]=T,+u[_>>2])+b*rt,o[_>>2]|0);tt=(u[_>>2]=(o[_>>2]=S,+u[_>>2])+rt*m,o[_>>2]|0);rt=st*+u[H>>2];Y=(u[_>>2]=(o[_>>2]=C,+u[_>>2])+i*rt,o[_>>2]|0);et=(u[_>>2]=(o[_>>2]=E,+u[_>>2])+rt*r,o[_>>2]|0);rt=st*L;Q=(u[_>>2]=(o[_>>2]=D,+u[_>>2])-b*rt,o[_>>2]|0);it=(u[_>>2]=(o[_>>2]=M,+u[_>>2])-m*rt,o[_>>2]|0);G=st*G;$=(u[_>>2]=(o[_>>2]=I,+u[_>>2])-i*G,o[_>>2]|0);nt=(u[_>>2]=(o[_>>2]=O,+u[_>>2])-r*G,o[_>>2]|0);G=A+st*J*f;rt=P+st*U*s;ot=R-st*j*d;st=k-st*N*a;t=o[Z>>2]|0;K=o[W>>2]|0;H=t+(K*12|0)|0;o[H>>2]=q;K=t+(K*12|0)+4|0;o[K>>2]=tt;K=o[Z>>2]|0;tt=o[W>>2]|0;tt=K+(tt*12|0)+8|0;u[tt>>2]=G;tt=o[V>>2]|0;t=K+(tt*12|0)|0;o[t>>2]=Y;tt=K+(tt*12|0)+4|0;o[tt>>2]=et;tt=o[Z>>2]|0;et=o[V>>2]|0;et=tt+(et*12|0)+8|0;u[et>>2]=rt;et=o[X>>2]|0;K=tt+(et*12|0)|0;o[K>>2]=Q;et=tt+(et*12|0)+4|0;o[et>>2]=it;et=o[Z>>2]|0;it=o[X>>2]|0;it=et+(it*12|0)+8|0;u[it>>2]=ot;it=o[z>>2]|0;tt=et+(it*12|0)|0;o[tt>>2]=$;it=et+(it*12|0)+4|0;o[it>>2]=nt;it=o[Z>>2]|0;nt=o[z>>2]|0;nt=it+(nt*12|0)+8|0;u[nt>>2]=st;return}}function ZT(t,e){t=t|0;e=e|0;var i=0,n=0.0,r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0,w=0.0,x=0.0,T=0.0,S=0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0;i=e+28|0;R=o[i>>2]|0;S=t+160|0;r=o[S>>2]|0;P=+u[R+(r*12|0)>>2];E=+u[R+(r*12|0)+4>>2];w=+u[R+(r*12|0)+8>>2];r=t+164|0;_=o[r>>2]|0;T=+u[R+(_*12|0)>>2];x=+u[R+(_*12|0)+4>>2];d=+u[R+(_*12|0)+8>>2];_=t+168|0;e=o[_>>2]|0;g=+u[R+(e*12|0)>>2];b=+u[R+(e*12|0)+4>>2];s=+u[R+(e*12|0)+8>>2];e=t+172|0;v=o[e>>2]|0;h=+u[R+(v*12|0)>>2];c=+u[R+(v*12|0)+4>>2];M=+u[R+(v*12|0)+8>>2];m=+u[t+240>>2];f=+u[t+244>>2];l=+u[t+248>>2];a=+u[t+252>>2];A=+u[t+256>>2];p=+u[t+264>>2];y=+u[t+260>>2];n=+u[t+268>>2];C=+u[t+272>>2]*((P-g)*m+(E-b)*f+((T-h)*l+(x-c)*a)+(w*A-s*p+(d*y-M*n)));D=-C;v=t+156|0;u[v>>2]=+u[v>>2]-C;C=+u[t+208>>2]*D;A=w+ +u[t+224>>2]*D*A;w=+u[t+212>>2]*D;y=d+ +u[t+228>>2]*D*y;d=+u[t+216>>2]*D;p=s-+u[t+232>>2]*D*p;s=+u[t+220>>2]*D;n=M-+u[t+236>>2]*D*n;t=o[i>>2]|0;v=o[S>>2]|0;u[t+(v*12|0)>>2]=P+m*C;u[t+(v*12|0)+4>>2]=E+f*C;v=o[i>>2]|0;u[v+((o[S>>2]|0)*12|0)+8>>2]=A;t=o[r>>2]|0;u[v+(t*12|0)>>2]=T+l*w;u[v+(t*12|0)+4>>2]=x+w*a;t=o[i>>2]|0;u[t+((o[r>>2]|0)*12|0)+8>>2]=y;r=o[_>>2]|0;u[t+(r*12|0)>>2]=g-m*d;u[t+(r*12|0)+4>>2]=b-f*d;r=o[i>>2]|0;u[r+((o[_>>2]|0)*12|0)+8>>2]=p;t=o[e>>2]|0;u[r+(t*12|0)>>2]=h-l*s;u[r+(t*12|0)+4>>2]=c-a*s;u[(o[i>>2]|0)+((o[e>>2]|0)*12|0)+8>>2]=n;return}function QT(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0,T=0,S=0,A=0,C=0.0,E=0,P=0,D=0.0,M=0.0,R=0,I=0.0,O=0,k=0.0,L=0,j=0,J=0.0,G=0,N=0,U=0,W=0,V=0,X=0,z=0.0,q=0.0,H=0.0,Y=0.0,Z=0.0,Q=0.0;V=e+24|0;x=o[V>>2]|0;G=t+160|0;T=o[G>>2]|0;R=o[x+(T*12|0)>>2]|0;e=x+(T*12|0)+4|0;O=o[e>>2]|0;k=+u[x+(T*12|0)+8>>2];N=t+164|0;U=o[N>>2]|0;L=o[x+(U*12|0)>>2]|0;j=o[x+(U*12|0)+4>>2]|0;J=+u[x+(U*12|0)+8>>2];U=t+168|0;W=o[U>>2]|0;S=o[x+(W*12|0)>>2]|0;A=o[x+(W*12|0)+4>>2]|0;C=+u[x+(W*12|0)+8>>2];W=t+172|0;X=o[W>>2]|0;E=o[x+(X*12|0)>>2]|0;P=o[x+(X*12|0)+4>>2]|0;D=+u[x+(X*12|0)+8>>2];i=+F(+k);n=+B(+k);a=+F(+J);c=+B(+J);r=+F(+C);s=+B(+C);b=+F(+D);m=+B(+D);M=+u[t+224>>2];I=+u[t+232>>2];if((o[t+76>>2]|0)==1){g=0.0;y=0.0;v=1.0;w=1.0;p=k-C-+u[t+140>>2];l=M+I}else{H=+u[t+124>>2];z=+u[t+128>>2];g=s*H-r*z;y=r*H+s*z;q=+u[t+108>>2]-+u[t+192>>2];p=+u[t+112>>2]-+u[t+196>>2];f=+u[t+92>>2]-+u[t+176>>2];h=+u[t+96>>2]-+u[t+180>>2];d=n*f-i*h;h=i*f+n*h;f=y*(s*q-r*p)-g*(r*q+s*p);l=y*d-g*h;w=(o[_>>2]=R,+u[_>>2]);w=w-(o[_>>2]=S,+u[_>>2]);v=(o[_>>2]=O,+u[_>>2]);d=w+d;h=v-(o[_>>2]=A,+u[_>>2])+h;v=l;w=f;p=H*(s*d+r*h-q)+z*(s*h-r*d-p);l=+u[t+216>>2]+ +u[t+208>>2]+f*(f*I)+l*(M*l)}h=+u[t+152>>2];d=+u[t+228>>2];f=+u[t+236>>2];if((o[t+80>>2]|0)==1){r=0.0;s=0.0;a=h;c=h;n=J-D-+u[t+144>>2];i=h*h*(d+f)}else{Q=+u[t+132>>2];Y=+u[t+136>>2];r=m*Q-b*Y;s=b*Q+m*Y;Z=+u[t+116>>2]-+u[t+200>>2];n=+u[t+120>>2]-+u[t+204>>2];H=+u[t+100>>2]-+u[t+184>>2];z=+u[t+104>>2]-+u[t+188>>2];q=c*H-a*z;z=a*H+c*z;H=h*(s*(m*Z-b*n)-r*(b*Z+m*n));i=h*(s*q-r*z);c=(o[_>>2]=L,+u[_>>2]);c=c-(o[_>>2]=E,+u[_>>2]);a=(o[_>>2]=j,+u[_>>2]);q=c+q;z=a-(o[_>>2]=P,+u[_>>2])+z;r=r*h;s=s*h;a=i;c=H;n=Q*(m*q+b*z-Z)+Y*(m*z-b*q-n);i=h*h*(+u[t+220>>2]+ +u[t+212>>2])+H*(H*f)+i*(d*i)}i=l+0.0+i;if(i>0.0)i=-(p+n*h-+u[t+148>>2])/i;else i=0.0;m=i*+u[t+208>>2];b=(o[_>>2]=R,+u[_>>2])+g*m;m=(o[_>>2]=O,+u[_>>2])+y*m;q=i*+u[t+212>>2];z=(o[_>>2]=L,+u[_>>2])+r*q;q=(o[_>>2]=j,+u[_>>2])+s*q;Y=i*+u[t+216>>2];H=(o[_>>2]=S,+u[_>>2])-g*Y;Y=(o[_>>2]=A,+u[_>>2])-y*Y;Q=i*+u[t+220>>2];Z=(o[_>>2]=E,+u[_>>2])-r*Q;Q=(o[_>>2]=P,+u[_>>2])-s*Q;u[x+(T*12|0)>>2]=b;u[e>>2]=m;t=o[V>>2]|0;u[t+((o[G>>2]|0)*12|0)+8>>2]=k+v*(i*M);X=o[N>>2]|0;u[t+(X*12|0)>>2]=z;u[t+(X*12|0)+4>>2]=q;X=o[V>>2]|0;u[X+((o[N>>2]|0)*12|0)+8>>2]=J+a*(i*d);t=o[U>>2]|0;u[X+(t*12|0)>>2]=H;u[X+(t*12|0)+4>>2]=Y;t=o[V>>2]|0;u[t+((o[U>>2]|0)*12|0)+8>>2]=C-w*(i*I);X=o[W>>2]|0;u[t+(X*12|0)>>2]=Z;u[t+(X*12|0)+4>>2]=Q;u[(o[V>>2]|0)+((o[W>>2]|0)*12|0)+8>>2]=D-c*(i*f);return 1}function KT(t,e){t=t|0;e=e|0;var i=0,n=0;n=e+76|0;i=o[n+4>>2]|0;e=t;o[e>>2]=o[n>>2];o[e+4>>2]=i;return}function $T(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+68>>2];r=+u[c+20>>2];n=+u[e+72>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function tS(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0;n=+u[e+100>>2]*i;u[t>>2]=+u[e+96>>2]*i;u[t+4>>2]=n;return}function eS(t,e){t=t|0;e=+e;return+(e*0.0)}function iS(t){t=t|0;t=d;d=d+16|0;wx(7716,t);d=t;return}function nS(t,e){t=t|0;e=e|0;var i=0;i=t+76|0;u[i>>2]=+u[i>>2]-+u[e>>2];t=t+80|0;u[t>>2]=+u[t>>2]-+u[e+4>>2];return}function rS(t){t=t|0;rE(t);return}function oS(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,s=0.0,a=0,c=0,l=0,h=0,p=0.0,d=0.0,f=0,b=0,m=0,g=0.0,y=0.0,v=0,w=0,x=0,T=0,S=0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0;S=o[t+52>>2]|0;f=o[S+8>>2]|0;v=t+116|0;o[v>>2]=f;h=S+28|0;l=o[h>>2]|0;h=o[h+4>>2]|0;T=t+128|0;o[T>>2]=l;o[T+4>>2]=h;T=o[S+120>>2]|0;o[t+136>>2]=T;x=o[S+128>>2]|0;o[t+140>>2]=x;a=o[e+24>>2]|0;d=+u[a+(f*12|0)+8>>2];w=e+28|0;c=o[w>>2]|0;b=o[c+(f*12|0)>>2]|0;m=o[c+(f*12|0)+4>>2]|0;p=+F(+d);d=+B(+d);r=+u[S+116>>2];g=+u[t+84>>2]*6.2831854820251465;i=+u[e>>2];s=i*(r*(g*g));r=g*(r*2.0*+u[t+88>>2])+s;g=(o[_>>2]=T,+u[_>>2]);y=(o[_>>2]=x,+u[_>>2]);if(!(r>1.1920928955078125e-07))Gt(7604,7640,125,7692);P=(o[_>>2]=h,+u[_>>2]);D=(o[_>>2]=l,+u[_>>2]);A=+u[c+(f*12|0)+8>>2];E=+u[a+(f*12|0)+4>>2];C=+u[a+(f*12|0)>>2];M=i*r;M=M!=0.0?1.0/M:M;u[t+108>>2]=M;r=s*M;u[t+92>>2]=r;D=+u[t+68>>2]-D;i=+u[t+72>>2]-P;s=d*D-p*i;i=p*D+d*i;u[t+120>>2]=s;u[t+124>>2]=i;p=M+(g+i*(i*y));D=y*s;P=i*D;D=M+(g+s*D);d=p*D-P*P;d=d!=0.0?1.0/d:d;P=P*d;u[t+144>>2]=D*d;u[t+148>>2]=P;u[t+152>>2]=P;u[t+156>>2]=p*d;d=E+i-+u[t+80>>2];u[t+160>>2]=(C+s-+u[t+76>>2])*r;u[t+164>>2]=d*r;r=A*.9800000190734863;if(!(n[e+20>>0]|0)){u[t+96>>2]=0.0;u[t+100>>2]=0.0;t=b;S=m;M=r;T=o[w>>2]|0;x=T+(f*12|0)|0;o[x>>2]=t;T=T+(f*12|0)+4|0;o[T>>2]=S;T=o[w>>2]|0;S=o[v>>2]|0;S=T+(S*12|0)+8|0;u[S>>2]=M;return}else{D=+u[e+8>>2];S=t+96|0;M=D*+u[S>>2];u[S>>2]=M;t=t+100|0;D=D*+u[t>>2];u[t>>2]=D;t=(u[_>>2]=(o[_>>2]=b,+u[_>>2])+M*g,o[_>>2]|0);S=(u[_>>2]=(o[_>>2]=m,+u[_>>2])+D*g,o[_>>2]|0);M=r+y*(D*s-M*i);T=o[w>>2]|0;x=T+(f*12|0)|0;o[x>>2]=t;T=T+(f*12|0)+4|0;o[T>>2]=S;T=o[w>>2]|0;S=o[v>>2]|0;S=T+(S*12|0)+8|0;u[S>>2]=M;return}}function sS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0,c=0,l=0,h=0.0,_=0.0,p=0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0,v=0;v=e+28|0;c=o[v>>2]|0;y=t+116|0;a=o[y>>2]|0;p=c+(a*12|0)|0;d=+u[p>>2];l=c+(a*12|0)+4|0;f=+u[l>>2];b=+u[c+(a*12|0)+8>>2];m=+u[t+124>>2];g=+u[t+120>>2];n=+u[t+108>>2];a=t+96|0;h=+u[a>>2];c=t+100|0;_=+u[c>>2];s=-(d-b*m+ +u[t+160>>2]+n*h);n=-(f+b*g+ +u[t+164>>2]+n*_);i=+u[t+148>>2]*s+ +u[t+156>>2]*n;n=h+(+u[t+144>>2]*s+ +u[t+152>>2]*n);u[a>>2]=n;i=i+_;u[c>>2]=i;s=+u[e>>2]*+u[t+104>>2];r=i*i+n*n;if(r>s*s){s=s/+L(+r);n=n*s;u[a>>2]=n;i=s*i;u[c>>2]=i}s=n-h;h=i-_;_=+u[t+136>>2];g=b+ +u[t+140>>2]*(h*g-s*m);u[p>>2]=d+s*_;u[l>>2]=f+h*_;u[(o[v>>2]|0)+((o[y>>2]|0)*12|0)+8>>2]=g;return}function aS(t,e){t=t|0;e=e|0;return 1}function cS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+68>>2];r=+u[c+20>>2];n=+u[e+72>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function uS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+76>>2];r=+u[c+20>>2];n=+u[e+80>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function lS(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0,r=0.0,o=0.0;o=+u[e+104>>2];r=+u[e+116>>2]+ +u[e+112>>2];n=(o*+u[e+196>>2]+r*+u[e+188>>2])*i;u[t>>2]=(o*+u[e+192>>2]+ +u[e+184>>2]*r)*i;u[t+4>>2]=n;return}function hS(t,e){t=t|0;e=+e;return+(+u[t+108>>2]*e)}function _S(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0,h=0,_=0,p=0,f=0,b=0.0,m=0,g=0,y=0,v=0,w=0,x=0,T=0;e=d;d=d+144|0;i=e+136|0;n=e+128|0;r=e+120|0;a=e+112|0;c=e+104|0;h=e+96|0;_=e+88|0;p=e+80|0;f=e+64|0;m=e+48|0;g=e+32|0;y=e+24|0;v=e+16|0;x=e+8|0;T=o[(o[t+48>>2]|0)+8>>2]|0;w=o[(o[t+52>>2]|0)+8>>2]|0;wx(7770,e);o[x>>2]=T;wx(8398,x);o[v>>2]=w;wx(8424,v);o[y>>2]=s[t+61>>0];wx(8450,y);b=+u[t+72>>2];l[g>>3]=+u[t+68>>2];l[g+8>>3]=b;wx(8485,g);b=+u[t+80>>2];l[m>>3]=+u[t+76>>2];l[m+8>>3]=b;wx(8527,m);b=+u[t+88>>2];l[f>>3]=+u[t+84>>2];l[f+8>>3]=b;wx(8569,f);l[p>>3]=+u[t+100>>2];wx(8329,p);o[_>>2]=s[t+136>>0];wx(8140,_);l[h>>3]=+u[t+120>>2];wx(7797,h);l[c>>3]=+u[t+124>>2];wx(7831,c);o[a>>2]=s[t+137>>0];wx(8609,a);l[r>>3]=+u[t+132>>2];wx(8639,r);l[n>>3]=+u[t+128>>2];wx(7865,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function pS(t){t=t|0;rE(t);return}function dS(t,e){t=t|0;e=e|0;var i=0,r=0.0,s=0.0,a=0.0,c=0,l=0,h=0,p=0.0,d=0,f=0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0,S=0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0,I=0.0,O=0.0,k=0.0,L=0.0,j=0.0,J=0.0,G=0.0,N=0.0,U=0,W=0,V=0,X=0,z=0,q=0,H=0,Y=0,Z=0,Q=0;i=o[t+48>>2]|0;V=o[i+8>>2]|0;T=t+144|0;o[T>>2]=V;c=o[t+52>>2]|0;z=o[c+8>>2]|0;S=t+148|0;o[S>>2]=z;Y=i+28|0;Z=o[Y>>2]|0;Y=o[Y+4>>2]|0;q=t+152|0;o[q>>2]=Z;o[q+4>>2]=Y;q=c+28|0;H=o[q>>2]|0;q=o[q+4>>2]|0;W=t+160|0;o[W>>2]=H;o[W+4>>2]=q;W=o[i+120>>2]|0;o[t+168>>2]=W;U=o[c+120>>2]|0;o[t+172>>2]=U;i=o[i+128>>2]|0;o[t+176>>2]=i;c=o[c+128>>2]|0;o[t+180>>2]=c;X=o[e+24>>2]|0;L=+u[X+(V*12|0)+8>>2];R=e+28|0;Q=o[R>>2]|0;l=o[Q+(V*12|0)>>2]|0;h=o[Q+(V*12|0)+4>>2]|0;p=+u[Q+(V*12|0)+8>>2];r=+u[X+(z*12|0)+8>>2];d=o[Q+(z*12|0)>>2]|0;f=o[Q+(z*12|0)+4>>2]|0;b=+u[Q+(z*12|0)+8>>2];k=+F(+L);L=+B(+L);m=+F(+r);r=+B(+r);s=+u[t+68>>2]-(o[_>>2]=Z,+u[_>>2]);C=+u[t+72>>2]-(o[_>>2]=Y,+u[_>>2]);G=L*s-k*C;C=k*s+L*C;s=+u[t+76>>2]-(o[_>>2]=H,+u[_>>2]);A=+u[t+80>>2]-(o[_>>2]=q,+u[_>>2]);j=r*s-m*A;A=m*s+r*A;r=+u[X+(z*12|0)>>2]-+u[X+(V*12|0)>>2]+j-G;s=+u[X+(z*12|0)+4>>2]-+u[X+(V*12|0)+4>>2]+A-C;m=(o[_>>2]=W,+u[_>>2]);g=(o[_>>2]=U,+u[_>>2]);y=(o[_>>2]=i,+u[_>>2]);v=(o[_>>2]=c,+u[_>>2]);D=+u[t+84>>2];x=+u[t+88>>2];M=L*D-k*x;x=k*D+L*x;u[t+184>>2]=M;u[t+188>>2]=x;G=G+r;C=C+s;D=G*x-C*M;u[t+208>>2]=D;P=j*x-A*M;u[t+212>>2]=P;J=m+g;N=y*D;I=v*P;a=P*I+(J+D*N);u[t+252>>2]=a>0.0?1.0/a:a;O=+u[t+92>>2];w=+u[t+96>>2];E=L*O-k*w;w=k*O+L*w;u[t+192>>2]=E;u[t+196>>2]=w;C=G*w-C*E;u[t+200>>2]=C;A=j*w-A*E;u[t+204>>2]=A;j=y*C;G=v*A;L=j+G;O=j*D+G*P;k=y+v;I=N+I;u[t+216>>2]=A*G+(J+C*j);u[t+220>>2]=L;u[t+224>>2]=O;u[t+228>>2]=L;u[t+232>>2]=k==0.0?1.0:k;u[t+236>>2]=I;u[t+240>>2]=O;u[t+244>>2]=I;u[t+248>>2]=a;do{if(!(n[t+136>>0]|0)){o[t+140>>2]=0;u[t+112>>2]=0.0}else{a=r*M+s*x;s=+u[t+124>>2];r=+u[t+120>>2];N=s-r;if((N>0.0?N:-N)<.009999999776482582){o[t+140>>2]=3;break}if(a<=r){i=t+140|0;if((o[i>>2]|0)==1)break;o[i>>2]=1;u[t+112>>2]=0.0;break}c=t+140|0;if(a>=s)if((o[c>>2]|0)==2)break;else i=2;else i=0;o[c>>2]=i;u[t+112>>2]=0.0}}while(0);if(!(n[t+137>>0]|0))u[t+116>>2]=0.0;if(!(n[e+20>>0]|0)){X=t+104|0;o[X>>2]=0;o[X+4>>2]=0;o[X+8>>2]=0;o[X+12>>2]=0;X=l;Z=h;q=d;Q=f;G=p;N=b;H=o[R>>2]|0;Y=o[T>>2]|0;z=H+(Y*12|0)|0;o[z>>2]=X;Y=H+(Y*12|0)+4|0;o[Y>>2]=Z;Y=o[R>>2]|0;Z=o[T>>2]|0;Z=Y+(Z*12|0)+8|0;u[Z>>2]=G;Z=o[S>>2]|0;H=Y+(Z*12|0)|0;o[H>>2]=q;Z=Y+(Z*12|0)+4|0;o[Z>>2]=Q;Z=o[R>>2]|0;Q=o[S>>2]|0;Q=Z+(Q*12|0)+8|0;u[Q>>2]=N;return}else{L=+u[e+8>>2];X=t+104|0;J=L*+u[X>>2];u[X>>2]=J;X=t+108|0;j=L*+u[X>>2];u[X>>2]=j;X=t+112|0;N=L*+u[X>>2];u[X>>2]=N;X=t+116|0;L=L*+u[X>>2];u[X>>2]=L;N=L+N;L=J*E+M*N;G=J*w+N*x;X=(u[_>>2]=(o[_>>2]=l,+u[_>>2])-m*L,o[_>>2]|0);Z=(u[_>>2]=(o[_>>2]=h,+u[_>>2])-m*G,o[_>>2]|0);q=(u[_>>2]=(o[_>>2]=d,+u[_>>2])+g*L,o[_>>2]|0);Q=(u[_>>2]=(o[_>>2]=f,+u[_>>2])+g*G,o[_>>2]|0);G=p-y*(J*C+j+N*D);N=b+v*(j+J*A+N*P);H=o[R>>2]|0;Y=o[T>>2]|0;z=H+(Y*12|0)|0;o[z>>2]=X;Y=H+(Y*12|0)+4|0;o[Y>>2]=Z;Y=o[R>>2]|0;Z=o[T>>2]|0;Z=Y+(Z*12|0)+8|0;u[Z>>2]=G;Z=o[S>>2]|0;H=Y+(Z*12|0)|0;o[H>>2]=q;Z=Y+(Z*12|0)+4|0;o[Z>>2]=Q;Z=o[R>>2]|0;Q=o[S>>2]|0;Q=Z+(Q*12|0)+8|0;u[Q>>2]=N;return}}function fS(t,e){t=t|0;e=e|0;var i=0,r=0,s=0,a=0,c=0.0,l=0.0,h=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0,g=0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0,R=0,I=0,O=0,k=0.0,L=0.0,j=0.0,B=0,F=0.0,J=0.0,G=0.0,N=0.0,U=0,W=0,V=0,X=0,z=0.0,q=0.0,H=0.0,Y=0.0,Z=0.0,Q=0.0;V=e+28|0;m=o[V>>2]|0;U=t+144|0;g=o[U>>2]|0;i=o[m+(g*12|0)>>2]|0;r=o[m+(g*12|0)+4>>2]|0;c=+u[m+(g*12|0)+8>>2];W=t+148|0;O=o[W>>2]|0;s=o[m+(O*12|0)>>2]|0;a=o[m+(O*12|0)+4>>2]|0;l=+u[m+(O*12|0)+8>>2];N=+u[t+168>>2];F=+u[t+172>>2];J=+u[t+176>>2];G=+u[t+180>>2];if((n[t+137>>0]|0)!=0?(o[t+140>>2]|0)!=3:0){C=(o[_>>2]=s,+u[_>>2]);S=(o[_>>2]=i,+u[_>>2]);P=(o[_>>2]=a,+u[_>>2]);A=(o[_>>2]=r,+u[_>>2]);E=+u[t+184>>2];D=+u[t+188>>2];L=+u[t+212>>2];k=+u[t+208>>2];i=t+116|0;j=+u[i>>2];T=+u[e>>2]*+u[t+128>>2];w=j+ +u[t+252>>2]*(+u[t+132>>2]-((C-S)*E+(P-A)*D+l*L-c*k));x=-T;T=w<T?w:T;T=T<x?x:T;u[i>>2]=T;j=T-j;E=E*j;D=D*j;i=(u[_>>2]=S-N*E,o[_>>2]|0);r=(u[_>>2]=A-N*D,o[_>>2]|0);s=(u[_>>2]=C+F*E,o[_>>2]|0);a=(u[_>>2]=P+F*D,o[_>>2]|0);c=c-J*(k*j);l=l+G*(L*j)}j=(o[_>>2]=s,+u[_>>2]);L=(o[_>>2]=i,+u[_>>2]);T=j-L;k=(o[_>>2]=a,+u[_>>2]);D=(o[_>>2]=r,+u[_>>2]);v=k-D;I=t+192|0;h=+u[I>>2];O=t+196|0;p=+u[O>>2];R=t+204|0;d=+u[R>>2];M=t+200|0;f=+u[M>>2];b=T*h+v*p+l*d-c*f;y=l-c;if(n[t+136>>0]|0?(B=t+140|0,o[B>>2]|0):0){a=t+184|0;m=t+188|0;S=+u[t+212>>2];A=+u[t+208>>2];r=t+104|0;C=+u[r>>2];s=t+108|0;E=+u[s>>2];e=t+112|0;P=+u[e>>2];x=-b;w=-y;T=-(T*+u[a>>2]+v*+u[m>>2]+l*S-c*A);p=+u[t+232>>2];H=+u[t+248>>2];z=+u[t+236>>2];d=+u[t+244>>2];Q=p*H-z*d;f=+u[t+240>>2];b=+u[t+228>>2];Z=z*f-H*b;Y=d*b-p*f;y=+u[t+216>>2];v=+u[t+220>>2];h=+u[t+224>>2];q=Q*y+v*Z+Y*h;q=q!=0.0?1.0/q:q;u[r>>2]=q*(Q*x+Z*w+Y*T)+C;u[s>>2]=q*((H*w-d*T)*y+v*(f*T-H*x)+(d*x-f*w)*h)+E;h=q*((p*T-z*w)*y+v*(z*x-b*T)+(b*w-p*x)*h)+P;u[e>>2]=h;switch(o[B>>2]|0){case 1:{i=h>0.0;X=9;break}case 2:{i=h<0.0;X=9;break}default:{}}if((X|0)==9){h=i?h:0.0;u[e>>2]=h}Z=h-P;Q=x-f*Z;H=w-Z*d;Y=y*p-b*v;Y=Y!=0.0?1.0/Y:Y;q=C+Y*(p*Q-b*H);Q=E+Y*(y*H-v*Q);u[r>>2]=q;u[s>>2]=Q;q=q-C;Q=Q-E;X=o[V>>2]|0;B=o[U>>2]|0;H=q*+u[M>>2]+Q+Z*A;Q=Q+q*+u[R>>2]+Z*S;Y=q*+u[I>>2]+Z*+u[a>>2];Z=q*+u[O>>2]+Z*+u[m>>2];q=N*Z;z=N*Y;Z=F*Z;Y=F*Y;q=D-q;z=L-z;Z=k+Z;Y=j+Y;H=J*H;Q=G*Q;H=c-H;Q=l+Q;t=X+(B*12|0)|0;u[t>>2]=z;B=X+(B*12|0)+4|0;u[B>>2]=q;B=o[V>>2]|0;X=o[U>>2]|0;X=B+(X*12|0)+8|0;u[X>>2]=H;X=o[W>>2]|0;U=B+(X*12|0)|0;u[U>>2]=Y;X=B+(X*12|0)+4|0;u[X>>2]=Z;V=o[V>>2]|0;X=o[W>>2]|0;X=V+(X*12|0)+8|0;u[X>>2]=Q;return}Q=-b;Y=-y;q=+u[t+216>>2];Z=+u[t+228>>2];H=+u[t+220>>2];P=+u[t+232>>2];z=q*P-Z*H;z=z!=0.0?1.0/z:z;Z=z*(P*Q-Z*Y);Q=z*(q*Y-H*Q);X=t+104|0;u[X>>2]=Z+ +u[X>>2];X=t+108|0;u[X>>2]=Q+ +u[X>>2];X=m;B=g;H=Z*f+Q;Q=Q+Z*d;Y=Z*h;Z=Z*p;q=N*Z;z=N*Y;Z=F*Z;Y=F*Y;q=D-q;z=L-z;Z=k+Z;Y=j+Y;H=J*H;Q=G*Q;H=c-H;Q=l+Q;t=X+(B*12|0)|0;u[t>>2]=z;B=X+(B*12|0)+4|0;u[B>>2]=q;B=o[V>>2]|0;X=o[U>>2]|0;X=B+(X*12|0)+8|0;u[X>>2]=H;X=o[W>>2]|0;U=B+(X*12|0)|0;u[U>>2]=Y;X=B+(X*12|0)+4|0;u[X>>2]=Z;V=o[V>>2]|0;X=o[W>>2]|0;X=V+(X*12|0)+8|0;u[X>>2]=Q;return}function bS(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0,E=0,P=0,D=0.0,M=0.0,R=0.0,I=0.0,O=0.0,k=0.0,L=0.0,j=0.0,J=0,G=0.0,N=0.0,U=0.0,W=0.0,V=0.0;P=e+24|0;J=o[P>>2]|0;C=t+144|0;E=o[C>>2]|0;g=+u[J+(E*12|0)>>2];y=+u[J+(E*12|0)+4>>2];v=+u[J+(E*12|0)+8>>2];E=t+148|0;e=o[E>>2]|0;w=+u[J+(e*12|0)>>2];x=+u[J+(e*12|0)+4>>2];p=+u[J+(e*12|0)+8>>2];_=+F(+v);M=+B(+v);L=+F(+p);i=+B(+p);d=+u[t+168>>2];f=+u[t+172>>2];b=+u[t+176>>2];m=+u[t+180>>2];r=+u[t+68>>2]-+u[t+152>>2];I=+u[t+72>>2]-+u[t+156>>2];A=M*r-_*I;I=_*r+M*I;r=+u[t+76>>2]-+u[t+160>>2];R=+u[t+80>>2]-+u[t+164>>2];l=i*r-L*R;R=L*r+i*R;i=w+l-g-A;r=x+R-y-I;L=+u[t+84>>2];S=+u[t+88>>2];j=M*L-_*S;S=_*L+M*S;A=A+i;I=I+r;L=S*A-j*I;k=l*S-R*j;D=+u[t+92>>2];T=+u[t+96>>2];O=M*D-_*T;T=_*D+M*T;I=T*A-O*I;R=l*T-R*O;l=O*i+T*r;A=p-v-+u[t+100>>2];M=-l;l=l>0.0?l:M;D=-A;A=A>0.0?A:D;t:do{if(!(n[t+136>>0]|0)){i=0.0;t=0}else{s=j*i+S*r;i=+u[t+124>>2];r=+u[t+120>>2];_=i-r;do{if((_>0.0?_:-_)<.009999999776482582){i=s<.20000000298023224?s:.20000000298023224;i=i<-.20000000298023224?-.20000000298023224:i;r=s>0.0?s:-s}else{if(s<=r){i=s-r+.004999999888241291;i=i<0.0?i:0.0;i=i<-.20000000298023224?-.20000000298023224:i;r=r-s;break}if(!(s>=i)){i=0.0;t=0;break t}r=s-i;i=r+-.004999999888241291;i=i<.20000000298023224?i:.20000000298023224;i=i<0.0?0.0:i}}while(0);t=1;l=l>r?l:r}}while(0);r=d+f;c=b+m;h=b*I;_=m*R;a=_+h;e=c==0.0;s=R*_+(r+I*h);if(t){_=k*_+L*h;G=e?1.0:c;h=b*L;V=m*k;N=V+h;h=k*V+(r+L*h);r=-i;V=G*h-N*N;W=N*_-h*a;c=N*a-G*_;U=V*s+a*W+c*_;U=U!=0.0?1.0/U:U;i=N*M;c=U*(V*M+W*D+c*r);h=U*((h*D-N*r)*s+a*(_*r-h*M)+(i-_*D)*_);_=U*((G*r-N*D)*s+a*(i-a*r)+(a*D-G*M)*_);a=O*c;O=T*c;D=j*_;M=S*_;D=a+D;M=O+M;j=I*c;j=j+h;O=L*_;O=j+O;R=R*c;R=R+h;j=k*_;j=R+j;R=d*D;I=d*M;R=g-R;I=y-I;O=b*O;O=v-O;k=f*D;L=f*M;k=w+k;L=x+L;j=m*j;j=p+j;J=o[P>>2]|0;t=o[C>>2]|0;e=J+(t*12|0)|0;u[e>>2]=R;t=J+(t*12|0)+4|0;u[t>>2]=I;t=o[P>>2]|0;J=o[C>>2]|0;J=t+(J*12|0)+8|0;u[J>>2]=O;J=o[E>>2]|0;C=t+(J*12|0)|0;u[C>>2]=k;J=t+(J*12|0)+4|0;u[J>>2]=L;P=o[P>>2]|0;J=o[E>>2]|0;J=P+(J*12|0)+8|0;u[J>>2]=j;J=l<=.004999999888241291;P=A<=.03490658849477768;J=P&J;return J|0}else{_=e?1.0:c;G=_*s-a*a;G=G!=0.0?1.0/G:G;_=(_*M-a*D)*G;G=(s*D-a*M)*G;V=0.0;O=O*_;N=T*_;U=j*V;W=S*V;U=O+U;W=N+W;j=I*_;j=j+G;N=L*V;N=j+N;j=R*_;j=j+G;V=k*V;V=j+V;j=d*U;G=d*W;j=g-j;G=y-G;N=b*N;N=v-N;U=f*U;W=f*W;U=w+U;W=x+W;V=m*V;V=p+V;J=o[P>>2]|0;t=o[C>>2]|0;e=J+(t*12|0)|0;u[e>>2]=j;t=J+(t*12|0)+4|0;u[t>>2]=G;t=o[P>>2]|0;J=o[C>>2]|0;J=t+(J*12|0)+8|0;u[J>>2]=N;J=o[E>>2]|0;C=t+(J*12|0)|0;u[C>>2]=U;J=t+(J*12|0)+4|0;u[J>>2]=W;P=o[P>>2]|0;J=o[E>>2]|0;J=P+(J*12|0)+8|0;u[J>>2]=V;J=l<=.004999999888241291;P=A<=.03490658849477768;J=P&J;return J|0}return 0}function mS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+92>>2];r=+u[c+20>>2];n=+u[e+96>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function gS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+100>>2];r=+u[c+20>>2];n=+u[e+104>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function yS(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0,r=0.0;r=+u[e+116>>2];n=r*+u[e+140>>2]*i;u[t>>2]=r*+u[e+136>>2]*i;u[t+4>>2]=n;return}function vS(t,e){t=t|0;e=+e;return 0.0}function wS(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0,h=0.0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0;e=d;d=d+128|0;i=e+120|0;n=e+112|0;r=e+104|0;a=e+96|0;c=e+80|0;_=e+64|0;p=e+48|0;f=e+32|0;b=e+24|0;m=e+16|0;y=e+8|0;v=o[(o[t+48>>2]|0)+8>>2]|0;g=o[(o[t+52>>2]|0)+8>>2]|0;wx(7915,e);o[y>>2]=v;wx(8398,y);o[m>>2]=g;wx(8424,m);o[b>>2]=s[t+61>>0];wx(8450,b);h=+u[t+72>>2];l[f>>3]=+u[t+68>>2];l[f+8>>3]=h;wx(7939,f);h=+u[t+80>>2];l[p>>3]=+u[t+76>>2];l[p+8>>3]=h;wx(7982,p);h=+u[t+96>>2];l[_>>3]=+u[t+92>>2];l[_+8>>3]=h;wx(8485,_);h=+u[t+104>>2];l[c>>3]=+u[t+100>>2];l[c+8>>3]=h;wx(8527,c);l[a>>3]=+u[t+84>>2];wx(8025,a);l[r>>3]=+u[t+88>>2];wx(8050,r);l[n>>3]=+u[t+112>>2];wx(8075,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function xS(t,e){t=t|0;e=e|0;var i=0,n=0;i=t+68|0;u[i>>2]=+u[i>>2]-+u[e>>2];i=e+4|0;n=t+72|0;u[n>>2]=+u[n>>2]-+u[i>>2];n=t+76|0;u[n>>2]=+u[n>>2]-+u[e>>2];t=t+80|0;u[t>>2]=+u[t>>2]-+u[i>>2];return}function TS(t){t=t|0;rE(t);return}function SS(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,s=0.0,a=0.0,c=0.0,l=0,h=0.0,p=0.0,d=0,f=0,b=0,m=0,g=0.0,y=0.0,v=0,w=0,x=0,T=0,S=0,A=0.0,C=0,E=0,P=0.0,D=0.0,M=0.0,R=0,I=0,O=0.0,k=0.0,j=0,J=0,G=0,N=0.0,U=0.0,W=0.0;x=o[t+48>>2]|0;E=o[x+8>>2]|0;R=t+120|0;o[R>>2]=E;C=o[t+52>>2]|0;J=o[C+8>>2]|0;I=t+124|0;o[I>>2]=J;f=x+28|0;b=o[f>>2]|0;f=o[f+4>>2]|0;l=t+160|0;o[l>>2]=b;o[l+4>>2]=f;l=C+28|0;d=o[l>>2]|0;l=o[l+4>>2]|0;m=t+168|0;o[m>>2]=d;o[m+4>>2]=l;m=t+176|0;o[m>>2]=o[x+120>>2];w=t+180|0;o[w>>2]=o[C+120>>2];v=t+184|0;o[v>>2]=o[x+128>>2];x=t+188|0;o[x>>2]=o[C+128>>2];C=o[e+24>>2]|0;r=+u[C+(E*12|0)>>2];s=+u[C+(E*12|0)+4>>2];a=+u[C+(E*12|0)+8>>2];j=e+28|0;G=o[j>>2]|0;T=o[G+(E*12|0)>>2]|0;S=o[G+(E*12|0)+4>>2]|0;A=+u[G+(E*12|0)+8>>2];c=+u[C+(J*12|0)>>2];h=+u[C+(J*12|0)+4>>2];i=+u[C+(J*12|0)+8>>2];C=o[G+(J*12|0)>>2]|0;E=o[G+(J*12|0)+4>>2]|0;P=+u[G+(J*12|0)+8>>2];O=+F(+a);a=+B(+a);y=+F(+i);i=+B(+i);M=+u[t+92>>2]-(o[_>>2]=b,+u[_>>2]);D=+u[t+96>>2]-(o[_>>2]=f,+u[_>>2]);k=a*M-O*D;D=O*M+a*D;u[t+144>>2]=k;u[t+148>>2]=D;a=+u[t+100>>2]-(o[_>>2]=d,+u[_>>2]);M=+u[t+104>>2]-(o[_>>2]=l,+u[_>>2]);O=i*a-y*M;M=y*a+i*M;u[t+152>>2]=O;u[t+156>>2]=M;r=r+k-+u[t+68>>2];s=s+D-+u[t+72>>2];l=t+128|0;u[l>>2]=r;d=t+132|0;u[d>>2]=s;c=c+O-+u[t+76>>2];h=h+M-+u[t+80>>2];f=t+136|0;u[f>>2]=c;b=t+140|0;u[b>>2]=h;i=+L(+(r*r+s*s));a=+L(+(c*c+h*h));if(i>.04999999701976776){g=1.0/i;y=r*g;u[l>>2]=y;g=g*s}else{u[l>>2]=0.0;g=0.0;y=0.0}u[d>>2]=g;if(a>.04999999701976776){a=1.0/a;p=a*c;u[f>>2]=p;h=a*h}else{u[f>>2]=0.0;h=0.0;p=0.0}u[b>>2]=h;U=k*g-D*y;N=O*h-M*p;c=+u[m>>2];a=+u[v>>2];s=+u[w>>2];i=+u[x>>2];r=+u[t+112>>2];N=c+U*(U*a)+r*r*(s+N*(N*i));u[t+192>>2]=N>0.0?1.0/N:N;if(!(n[e+20>>0]|0)){u[t+116>>2]=0.0;J=S;e=C;G=E;N=A;U=P;E=o[j>>2]|0;t=o[R>>2]|0;C=E+(t*12|0)|0;o[C>>2]=T;t=E+(t*12|0)+4|0;o[t>>2]=J;t=o[j>>2]|0;J=o[R>>2]|0;J=t+(J*12|0)+8|0;u[J>>2]=N;J=o[I>>2]|0;R=t+(J*12|0)|0;o[R>>2]=e;J=t+(J*12|0)+4|0;o[J>>2]=G;J=o[j>>2]|0;G=o[I>>2]|0;G=J+(G*12|0)+8|0;u[G>>2]=U;return}else{G=t+116|0;U=+u[e+8>>2]*+u[G>>2];u[G>>2]=U;W=-U;N=y*W;g=g*W;y=-(U*r);U=p*y;y=h*y;G=(u[_>>2]=(o[_>>2]=T,+u[_>>2])+N*c,o[_>>2]|0);J=(u[_>>2]=(o[_>>2]=S,+u[_>>2])+g*c,o[_>>2]|0);e=(u[_>>2]=(o[_>>2]=C,+u[_>>2])+U*s,o[_>>2]|0);S=G;G=(u[_>>2]=(o[_>>2]=E,+u[_>>2])+y*s,o[_>>2]|0);N=A+a*(g*k-N*D);U=P+i*(y*O-U*M);E=o[j>>2]|0;t=o[R>>2]|0;C=E+(t*12|0)|0;o[C>>2]=S;t=E+(t*12|0)+4|0;o[t>>2]=J;t=o[j>>2]|0;J=o[R>>2]|0;J=t+(J*12|0)+8|0;u[J>>2]=N;J=o[I>>2]|0;R=t+(J*12|0)|0;o[R>>2]=e;J=t+(J*12|0)+4|0;o[J>>2]=G;J=o[j>>2]|0;G=o[I>>2]|0;G=J+(G*12|0)+8|0;u[G>>2]=U;return}}function AS(t,e){t=t|0;e=e|0;var i=0,n=0.0,r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0,p=0.0,d=0.0,f=0.0,b=0.0,m=0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0,A=0;i=e+28|0;A=o[i>>2]|0;_=t+120|0;e=o[_>>2]|0;m=A+(e*12|0)|0;y=+u[m>>2];r=A+(e*12|0)+4|0;b=+u[r>>2];x=+u[A+(e*12|0)+8>>2];e=t+124|0;S=o[e>>2]|0;h=+u[A+(S*12|0)>>2];c=+u[A+(S*12|0)+4>>2];w=+u[A+(S*12|0)+8>>2];p=+u[t+148>>2];s=+u[t+144>>2];n=+u[t+156>>2];v=+u[t+152>>2];g=+u[t+128>>2];f=+u[t+132>>2];d=+u[t+112>>2];l=+u[t+136>>2];a=+u[t+140>>2];T=+u[t+192>>2]*(-((y-x*p)*g+(b+x*s)*f)-d*((h-w*n)*l+(c+w*v)*a));S=t+116|0;u[S>>2]=+u[S>>2]-T;g=g*T;f=f*T;d=T*d;l=l*d;a=d*a;d=+u[t+176>>2];p=x+ +u[t+184>>2]*(f*s-g*p);s=+u[t+180>>2];n=w+ +u[t+188>>2]*(a*v-l*n);u[m>>2]=y+g*d;u[r>>2]=b+f*d;r=o[i>>2]|0;u[r+((o[_>>2]|0)*12|0)+8>>2]=p;t=o[e>>2]|0;u[r+(t*12|0)>>2]=h+l*s;u[r+(t*12|0)+4>>2]=c+a*s;u[(o[i>>2]|0)+((o[e>>2]|0)*12|0)+8>>2]=n;return}function CS(t,e){t=t|0;e=e|0;var i=0.0,n=0,r=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0,p=0.0,d=0.0,f=0.0,b=0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0;n=e+24|0;M=o[n>>2]|0;b=t+120|0;e=o[b>>2]|0;A=+u[M+(e*12|0)>>2];S=+u[M+(e*12|0)+4>>2];x=+u[M+(e*12|0)+8>>2];e=t+124|0;_=o[e>>2]|0;f=+u[M+(_*12|0)>>2];d=+u[M+(_*12|0)+4>>2];h=+u[M+(_*12|0)+8>>2];c=+F(+x);C=+B(+x);r=+F(+h);m=+B(+h);s=+u[t+92>>2]-+u[t+160>>2];g=+u[t+96>>2]-+u[t+164>>2];v=C*s-c*g;g=c*s+C*g;C=+u[t+100>>2]-+u[t+168>>2];s=+u[t+104>>2]-+u[t+172>>2];c=m*C-r*s;s=r*C+m*s;m=A+v-+u[t+68>>2];C=S+g-+u[t+72>>2];r=f+c-+u[t+76>>2];D=d+s-+u[t+80>>2];P=+L(+(m*m+C*C));i=+L(+(r*r+D*D));_=P>.04999999701976776;y=1.0/P;m=_?m*y:0.0;y=_?C*y:0.0;_=i>.04999999701976776;C=1.0/i;r=_?r*C:0.0;C=_?D*C:0.0;D=v*y-g*m;a=c*C-s*r;T=+u[t+176>>2];w=+u[t+184>>2];p=+u[t+180>>2];l=+u[t+188>>2];E=+u[t+112>>2];a=T+D*(w*D)+E*E*(p+a*(l*a));i=+u[t+108>>2]-P-i*E;a=i*(a>0.0?1.0/a:a);m=m*a;y=y*a;a=E*a;r=r*a;a=C*a;t=o[n>>2]|0;_=o[b>>2]|0;u[t+(_*12|0)>>2]=A+T*m;u[t+(_*12|0)+4>>2]=S+T*y;_=o[n>>2]|0;u[_+((o[b>>2]|0)*12|0)+8>>2]=x+w*(v*y-g*m);t=o[e>>2]|0;u[_+(t*12|0)>>2]=f+p*r;u[_+(t*12|0)+4>>2]=d+p*a;u[(o[n>>2]|0)+((o[e>>2]|0)*12|0)+8>>2]=h+l*(c*a-s*r);return(i>0.0?i:-i)<.004999999888241291|0}function ES(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+68>>2];r=+u[c+20>>2];n=+u[e+72>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function PS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+76>>2];r=+u[c+20>>2];n=+u[e+80>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function DS(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0;n=+u[e+88>>2]*i;u[t>>2]=+u[e+84>>2]*i;u[t+4>>2]=n;return}function MS(t,e){t=t|0;e=+e;return+(+u[t+92>>2]*e)}function RS(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0,h=0,_=0,p=0,f=0,b=0.0,m=0,g=0,y=0,v=0,w=0,x=0;e=d;d=d+128|0;i=e+120|0;n=e+112|0;r=e+104|0;a=e+96|0;c=e+88|0;h=e+80|0;_=e+72|0;p=e+64|0;f=e+48|0;m=e+32|0;g=e+24|0;y=e+16|0;w=e+8|0;x=o[(o[t+48>>2]|0)+8>>2]|0;v=o[(o[t+52>>2]|0)+8>>2]|0;wx(8114,e);o[w>>2]=x;wx(8398,w);o[y>>2]=v;wx(8424,y);o[g>>2]=s[t+61>>0];wx(8450,g);b=+u[t+72>>2];l[m>>3]=+u[t+68>>2];l[m+8>>3]=b;wx(8485,m);b=+u[t+80>>2];l[f>>3]=+u[t+76>>2];l[f+8>>3]=b;wx(8527,f);l[p>>3]=+u[t+116>>2];wx(8329,p);o[_>>2]=s[t+112>>0];wx(8140,_);l[h>>3]=+u[t+120>>2];wx(8170,h);l[c>>3]=+u[t+124>>2];wx(8198,c);o[a>>2]=s[t+100>>0];wx(8609,a);l[r>>3]=+u[t+108>>2];wx(8639,r);l[n>>3]=+u[t+104>>2];wx(8667,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function IS(t){t=t|0;rE(t);return}function OS(t,e){t=t|0;e=e|0;var i=0,r=0.0,s=0.0,a=0.0,c=0,l=0,h=0.0,p=0,d=0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0,T=0,S=0.0,A=0.0,C=0,E=0.0,P=0.0,D=0.0,M=0,R=0,I=0,O=0,k=0,L=0,j=0,J=0,G=0;M=o[t+48>>2]|0;d=o[M+8>>2]|0;x=t+128|0;o[x>>2]=d;i=o[t+52>>2]|0;J=o[i+8>>2]|0;T=t+132|0;o[T>>2]=J;L=M+28|0;j=o[L>>2]|0;L=o[L+4>>2]|0;O=t+152|0;o[O>>2]=j;o[O+4>>2]=L;O=i+28|0;k=o[O>>2]|0;O=o[O+4>>2]|0;I=t+160|0;o[I>>2]=k;o[I+4>>2]=O;I=o[M+120>>2]|0;o[t+168>>2]=I;R=o[i+120>>2]|0;o[t+172>>2]=R;M=o[M+128>>2]|0;o[t+176>>2]=M;i=o[i+128>>2]|0;o[t+180>>2]=i;p=o[e+24>>2]|0;r=+u[p+(d*12|0)+8>>2];C=e+28|0;G=o[C>>2]|0;c=o[G+(d*12|0)>>2]|0;l=o[G+(d*12|0)+4>>2]|0;h=+u[G+(d*12|0)+8>>2];s=+u[p+(J*12|0)+8>>2];p=o[G+(J*12|0)>>2]|0;d=o[G+(J*12|0)+4>>2]|0;f=+u[G+(J*12|0)+8>>2];S=+F(+r);m=+B(+r);g=+F(+s);b=+B(+s);w=+u[t+68>>2]-(o[_>>2]=j,+u[_>>2]);v=+u[t+72>>2]-(o[_>>2]=L,+u[_>>2]);A=m*w-S*v;v=S*w+m*v;u[t+136>>2]=A;u[t+140>>2]=v;m=+u[t+76>>2]-(o[_>>2]=k,+u[_>>2]);w=+u[t+80>>2]-(o[_>>2]=O,+u[_>>2]);S=b*m-g*w;w=g*m+b*w;u[t+144>>2]=S;u[t+148>>2]=w;b=(o[_>>2]=I,+u[_>>2]);m=(o[_>>2]=R,+u[_>>2]);g=(o[_>>2]=M,+u[_>>2]);y=(o[_>>2]=i,+u[_>>2]);a=g+y;i=a==0.0;E=b+m;u[t+184>>2]=E+g*(v*v)+y*(w*w);D=-(g*(v*A))-y*(w*S);u[t+196>>2]=D;P=-(g*v)-y*w;u[t+208>>2]=P;u[t+188>>2]=D;u[t+200>>2]=E+g*(A*A)+y*(S*S);E=g*A+y*S;u[t+212>>2]=E;u[t+192>>2]=P;u[t+204>>2]=E;u[t+216>>2]=a;u[t+220>>2]=a>0.0?1.0/a:a;if(i|(n[t+100>>0]|0)==0)u[t+96>>2]=0.0;do{if(i|(n[t+112>>0]|0)==0)o[t+224>>2]=0;else{a=s-r-+u[t+116>>2];s=+u[t+124>>2];r=+u[t+120>>2];D=s-r;if((D>0.0?D:-D)<.06981317698955536){o[t+224>>2]=3;break}if(a<=r){i=t+224|0;if((o[i>>2]|0)!=1)u[t+92>>2]=0.0;o[i>>2]=1;break}i=t+224|0;if(!(a>=s)){o[i>>2]=0;u[t+92>>2]=0.0;break}if((o[i>>2]|0)!=2)u[t+92>>2]=0.0;o[i>>2]=2}}while(0);if(!(n[e+20>>0]|0)){I=t+84|0;o[I>>2]=0;o[I+4>>2]=0;o[I+8>>2]=0;o[I+12>>2]=0;I=c;J=l;k=p;G=d;P=h;D=f;L=o[C>>2]|0;j=o[x>>2]|0;O=L+(j*12|0)|0;o[O>>2]=I;j=L+(j*12|0)+4|0;o[j>>2]=J;j=o[C>>2]|0;J=o[x>>2]|0;J=j+(J*12|0)+8|0;u[J>>2]=P;J=o[T>>2]|0;L=j+(J*12|0)|0;o[L>>2]=k;J=j+(J*12|0)+4|0;o[J>>2]=G;J=o[C>>2]|0;G=o[T>>2]|0;G=J+(G*12|0)+8|0;u[G>>2]=D;return}else{a=+u[e+8>>2];I=t+84|0;D=a*+u[I>>2];u[I>>2]=D;I=t+88|0;E=a*+u[I>>2];u[I>>2]=E;I=t+92|0;s=a*+u[I>>2];u[I>>2]=s;I=t+96|0;a=a*+u[I>>2];u[I>>2]=a;I=(u[_>>2]=(o[_>>2]=c,+u[_>>2])-b*D,o[_>>2]|0);J=(u[_>>2]=(o[_>>2]=l,+u[_>>2])-b*E,o[_>>2]|0);k=(u[_>>2]=(o[_>>2]=p,+u[_>>2])+m*D,o[_>>2]|0);G=(u[_>>2]=(o[_>>2]=d,+u[_>>2])+m*E,o[_>>2]|0);P=h-g*(s+(a+(E*A-D*v)));D=f+y*(s+(a+(E*S-D*w)));L=o[C>>2]|0;j=o[x>>2]|0;O=L+(j*12|0)|0;o[O>>2]=I;j=L+(j*12|0)+4|0;o[j>>2]=J;j=o[C>>2]|0;J=o[x>>2]|0;J=j+(J*12|0)+8|0;u[J>>2]=P;J=o[T>>2]|0;L=j+(J*12|0)|0;o[L>>2]=k;J=j+(J*12|0)+4|0;o[J>>2]=G;J=o[C>>2]|0;G=o[T>>2]|0;G=J+(G*12|0)+8|0;u[G>>2]=D;return}}function kS(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,s=0,a=0.0,c=0,l=0,h=0,p=0.0,d=0,f=0.0,b=0.0,m=0.0,g=0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0,O=0.0,k=0.0,L=0.0,j=0.0,B=0,F=0,J=0,G=0.0,N=0.0,U=0.0,W=0.0,V=0,X=0,z=0,q=0,H=0.0;z=e+28|0;F=o[z>>2]|0;V=t+128|0;J=o[V>>2]|0;h=o[F+(J*12|0)>>2]|0;B=F+(J*12|0)+4|0;d=o[B>>2]|0;i=+u[F+(J*12|0)+8>>2];X=t+132|0;s=o[X>>2]|0;c=o[F+(s*12|0)>>2]|0;l=o[F+(s*12|0)+4>>2]|0;r=+u[F+(s*12|0)+8>>2];W=+u[t+168>>2];G=+u[t+172>>2];N=+u[t+176>>2];U=+u[t+180>>2];s=N+U==0.0;if((n[t+100>>0]|0)!=0?!(s|(o[t+224>>2]|0)==3):0){q=t+96|0;j=+u[q>>2];L=+u[e>>2]*+u[t+104>>2];O=j-+u[t+220>>2]*(r-i-+u[t+108>>2]);k=-L;L=O<L?O:L;L=L<k?k:L;u[q>>2]=L;j=L-j;i=i-N*j;r=r+U*j}if(n[t+112>>0]|0?(g=o[t+224>>2]|0,!(s|(g|0)==0)):0){L=+u[t+148>>2];j=+u[t+144>>2];k=(o[_>>2]=c,+u[_>>2]);O=(o[_>>2]=l,+u[_>>2]);I=(o[_>>2]=h,+u[_>>2]);D=(o[_>>2]=d,+u[_>>2]);M=+u[t+140>>2];R=+u[t+136>>2];E=k-r*L-I+i*M;P=O+r*j-D-i*R;f=r-i;y=+u[t+200>>2];C=+u[t+216>>2];p=+u[t+204>>2];v=+u[t+212>>2];H=y*C-p*v;w=+u[t+208>>2];x=+u[t+196>>2];m=p*w-C*x;A=v*x-y*w;T=+u[t+184>>2];S=+u[t+188>>2];b=+u[t+192>>2];a=H*T+S*m+A*b;a=a!=0.0?1.0/a:a;A=a*(H*E+m*P+A*f);C=a*((P*C-f*v)*T+S*(f*w-C*E)+(v*E-P*w)*b);b=a*((y*f-p*P)*T+S*(p*E-f*x)+(P*x-y*E)*b);f=-A;p=-C;a=-b;t:do{switch(g|0){case 3:{q=t+84|0;u[q>>2]=+u[q>>2]-A;q=t+88|0;u[q>>2]=+u[q>>2]-C;q=t+92|0;u[q>>2]=+u[q>>2]-b;break}case 1:{e=t+84|0;s=t+92|0;m=+u[s>>2];b=m-b;if(b<0.0){p=m*w-E;a=m*v-P;H=T*y-x*S;H=H!=0.0?1.0/H:H;f=H*(y*p-x*a);p=H*(T*a-S*p);u[e>>2]=f+ +u[e>>2];q=t+88|0;u[q>>2]=p+ +u[q>>2];u[s>>2]=0.0;a=-m;break t}else{u[e>>2]=+u[e>>2]-A;q=t+88|0;u[q>>2]=+u[q>>2]-C;u[s>>2]=b;break t}}case 2:{e=t+84|0;s=t+92|0;m=+u[s>>2];b=m-b;if(b>0.0){p=m*w-E;a=m*v-P;H=T*y-x*S;H=H!=0.0?1.0/H:H;f=H*(y*p-x*a);p=H*(T*a-S*p);u[e>>2]=f+ +u[e>>2];q=t+88|0;u[q>>2]=p+ +u[q>>2];u[s>>2]=0.0;a=-m;break t}else{u[e>>2]=+u[e>>2]-A;q=t+88|0;u[q>>2]=+u[q>>2]-C;u[s>>2]=b;break t}}default:{}}}while(0);R=a+(p*R-f*M);H=a+(p*j-f*L);I=I-W*f;L=D-W*p;j=k+G*f;W=O+G*p;N=N*R;H=U*H;U=i-N;H=r+H;J=F+(J*12|0)|0;u[J>>2]=I;u[B>>2]=L;J=o[z>>2]|0;q=o[V>>2]|0;q=J+(q*12|0)+8|0;u[q>>2]=U;q=o[X>>2]|0;V=J+(q*12|0)|0;u[V>>2]=j;q=J+(q*12|0)+4|0;u[q>>2]=W;z=o[z>>2]|0;q=o[X>>2]|0;q=z+(q*12|0)+8|0;u[q>>2]=H;return}H=+u[t+148>>2];D=+u[t+144>>2];M=(o[_>>2]=c,+u[_>>2]);R=(o[_>>2]=l,+u[_>>2]);k=(o[_>>2]=h,+u[_>>2]);L=(o[_>>2]=d,+u[_>>2]);O=+u[t+140>>2];P=+u[t+136>>2];I=-(M-r*H-k+i*O);C=-(R+r*D-L-i*P);A=+u[t+184>>2];j=+u[t+196>>2];E=+u[t+188>>2];T=+u[t+200>>2];S=A*T-j*E;S=S!=0.0?1.0/S:S;j=S*(T*I-j*C);I=S*(A*C-E*I);q=t+84|0;u[q>>2]=j+ +u[q>>2];q=t+88|0;u[q>>2]=I+ +u[q>>2];O=I*P-j*O;H=I*D-j*H;k=k-W*j;L=L-W*I;j=M+G*j;W=R+G*I;N=N*O;H=U*H;U=i-N;H=r+H;J=F+(J*12|0)|0;u[J>>2]=k;u[B>>2]=L;J=o[z>>2]|0;q=o[V>>2]|0;q=J+(q*12|0)+8|0;u[q>>2]=U;q=o[X>>2]|0;V=J+(q*12|0)|0;u[V>>2]=j;q=J+(q*12|0)+4|0;u[q>>2]=W;z=o[z>>2]|0;q=o[X>>2]|0;q=z+(q*12|0)+8|0;u[q>>2]=H;return}function LS(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,s=0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0,m=0,g=0,y=0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0;m=e+24|0;y=o[m>>2]|0;e=t+128|0;b=o[e>>2]|0;_=+u[y+(b*12|0)>>2];p=+u[y+(b*12|0)+4>>2];c=+u[y+(b*12|0)+8>>2];b=t+132|0;g=o[b>>2]|0;d=+u[y+(g*12|0)>>2];f=+u[y+(g*12|0)+4>>2];r=+u[y+(g*12|0)+8>>2];l=+u[t+176>>2];h=+u[t+180>>2];if((n[t+112>>0]|0)!=0?(s=o[t+224>>2]|0,!((s|0)==0|l+h==0.0)):0){i=r-c-+u[t+116>>2];switch(s|0){case 3:{a=i-+u[t+120>>2];a=a<.13962635397911072?a:.13962635397911072;a=a<-.13962635397911072?-.13962635397911072:a;i=a>0.0?a:-a;a=-(+u[t+220>>2]*a);break}case 1:{i=i-+u[t+120>>2];a=i+.03490658849477768;a=a<0.0?a:0.0;i=-i;a=-(+u[t+220>>2]*(a<-.13962635397911072?-.13962635397911072:a));break}case 2:{i=i-+u[t+124>>2];a=i+-.03490658849477768;a=a<.13962635397911072?a:.13962635397911072;a=-(+u[t+220>>2]*(a<0.0?0.0:a));break}default:{i=0.0;a=0.0}}c=c-a*l;r=r+a*h}else i=0.0;T=+F(+c);R=+B(+c);a=+F(+r);D=+B(+r);w=+u[t+68>>2]-+u[t+152>>2];A=+u[t+72>>2]-+u[t+156>>2];C=R*w-T*A;A=T*w+R*A;R=+u[t+76>>2]-+u[t+160>>2];w=+u[t+80>>2]-+u[t+164>>2];T=D*R-a*w;w=a*R+D*w;D=d+T-_-C;R=f+w-p-A;a=+L(+(D*D+R*R));E=+u[t+168>>2];S=+u[t+172>>2];I=E+S;M=I+A*(A*l)+w*(w*h);x=C*l;v=T*h;P=-(A*x)-w*v;v=I+C*x+T*v;x=M*v-P*P;x=x!=0.0?1.0/x:x;v=-((D*v-R*P)*x);x=-((R*M-D*P)*x);y=o[m>>2]|0;g=o[e>>2]|0;u[y+(g*12|0)>>2]=_-E*v;u[y+(g*12|0)+4>>2]=p-E*x;g=o[m>>2]|0;u[g+((o[e>>2]|0)*12|0)+8>>2]=c-l*(C*x-A*v);y=o[b>>2]|0;u[g+(y*12|0)>>2]=d+S*v;u[g+(y*12|0)+4>>2]=f+S*x;u[(o[m>>2]|0)+((o[b>>2]|0)*12|0)+8>>2]=r+h*(T*x-w*v);return i<=.03490658849477768&a<=.004999999888241291|0}function jS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+68>>2];r=+u[c+20>>2];n=+u[e+72>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function BS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+76>>2];r=+u[c+20>>2];n=+u[e+80>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function FS(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0;n=+u[e+92>>2]*i;i=n*+u[e+108>>2];u[t>>2]=+u[e+104>>2]*n;u[t+4>>2]=i;return}function JS(t,e){t=t|0;e=+e;return 0.0}function GS(t){t=t|0;var e=0,i=0,n=0,r=0,a=0.0,c=0,h=0,_=0,p=0,f=0,b=0;e=d;d=d+80|0;i=e+72|0;n=e+64|0;r=e+48|0;c=e+32|0;h=e+24|0;_=e+16|0;f=e+8|0;b=o[(o[t+48>>2]|0)+8>>2]|0;p=o[(o[t+52>>2]|0)+8>>2]|0;wx(8244,e);o[f>>2]=b;wx(8398,f);o[_>>2]=p;wx(8424,_);o[h>>2]=s[t+61>>0];wx(8450,h);a=+u[t+72>>2];l[c>>3]=+u[t+68>>2];l[c+8>>3]=a;wx(8485,c);a=+u[t+80>>2];l[r>>3]=+u[t+76>>2];l[r+8>>3]=a;wx(8527,r);l[n>>3]=+u[t+84>>2];wx(8266,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function NS(t){t=t|0;rE(t);return}function US(t,e){t=t|0;e=e|0;var i=0.0,r=0.0,s=0,a=0,c=0,l=0,h=0.0,p=0.0,d=0,f=0.0,b=0,m=0,g=0.0,y=0.0,v=0,w=0,x=0.0,T=0,S=0.0,A=0.0,C=0.0,E=0.0,P=0,D=0,M=0,R=0.0,I=0,O=0,k=0,j=0,J=0.0;T=o[t+48>>2]|0;s=o[T+8>>2]|0;P=t+96|0;o[P>>2]=s;a=o[t+52>>2]|0;k=o[a+8>>2]|0;D=t+100|0;o[D>>2]=k;I=T+28|0;O=o[I>>2]|0;I=o[I+4>>2]|0;d=t+128|0;o[d>>2]=O;o[d+4>>2]=I;d=a+28|0;b=o[d>>2]|0;d=o[d+4>>2]|0;m=t+136|0;o[m>>2]=b;o[m+4>>2]=d;m=t+144|0;o[m>>2]=o[T+120>>2];w=t+148|0;o[w>>2]=o[a+120>>2];v=t+152|0;o[v>>2]=o[T+128>>2];T=t+156|0;o[T>>2]=o[a+128>>2];a=o[e+24>>2]|0;p=+u[a+(s*12|0)>>2];f=+u[a+(s*12|0)+4>>2];g=+u[a+(s*12|0)+8>>2];M=e+28|0;j=o[M>>2]|0;l=o[j+(s*12|0)>>2]|0;c=o[j+(s*12|0)+4>>2]|0;r=+u[j+(s*12|0)+8>>2];x=+u[a+(k*12|0)>>2];h=+u[a+(k*12|0)+4>>2];y=+u[a+(k*12|0)+8>>2];a=o[j+(k*12|0)>>2]|0;s=o[j+(k*12|0)+4>>2]|0;i=+u[j+(k*12|0)+8>>2];E=+F(+g);g=+B(+g);R=+F(+y);y=+B(+y);C=+u[t+68>>2]-(o[_>>2]=O,+u[_>>2]);S=+u[t+72>>2]-(o[_>>2]=I,+u[_>>2]);A=g*C-E*S;S=E*C+g*S;u[t+112>>2]=A;u[t+116>>2]=S;g=+u[t+76>>2]-(o[_>>2]=b,+u[_>>2]);C=+u[t+80>>2]-(o[_>>2]=d,+u[_>>2]);E=y*g-R*C;C=R*g+y*C;u[t+120>>2]=E;u[t+124>>2]=C;p=x+E-p-A;f=h+C-f-S;d=t+104|0;u[d>>2]=p;b=t+108|0;u[b>>2]=f;h=+L(+(p*p+f*f));u[t+88>>2]=h;o[t+164>>2]=h-+u[t+84>>2]>0.0?2:0;if(!(h>.004999999888241291)){u[d>>2]=0.0;u[b>>2]=0.0;u[t+160>>2]=0.0;u[t+92>>2]=0.0;return}g=1.0/h;x=g*p;u[d>>2]=x;g=g*f;u[b>>2]=g;J=g*A-S*x;R=g*E-x*C;h=+u[m>>2];y=+u[v>>2];p=+u[w>>2];f=+u[T>>2];R=p+(h+J*(J*y))+R*(R*f);u[t+160>>2]=R!=0.0?1.0/R:0.0;if(!(n[e+20>>0]|0))u[t+92>>2]=0.0;else{j=t+92|0;R=+u[e+8>>2]*+u[j>>2];u[j>>2]=R;J=R*x;R=R*g;l=(u[_>>2]=(o[_>>2]=l,+u[_>>2])-J*h,o[_>>2]|0);c=(u[_>>2]=(o[_>>2]=c,+u[_>>2])-R*h,o[_>>2]|0);a=(u[_>>2]=(o[_>>2]=a,+u[_>>2])+J*p,o[_>>2]|0);s=(u[_>>2]=(o[_>>2]=s,+u[_>>2])+R*p,o[_>>2]|0);r=r-y*(R*A-J*S);i=i+f*(R*E-J*C)}j=o[M>>2]|0;k=o[P>>2]|0;o[j+(k*12|0)>>2]=l;o[j+(k*12|0)+4>>2]=c;k=o[M>>2]|0;u[k+((o[P>>2]|0)*12|0)+8>>2]=r;j=o[D>>2]|0;o[k+(j*12|0)>>2]=a;o[k+(j*12|0)+4>>2]=s;u[(o[M>>2]|0)+((o[D>>2]|0)*12|0)+8>>2]=i;return}function WS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0,w=0,x=0,T=0,S=0;x=e+28|0;S=o[x>>2]|0;v=t+96|0;w=o[v>>2]|0;p=S+(w*12|0)|0;f=+u[p>>2];r=S+(w*12|0)+4|0;b=+u[r>>2];m=+u[S+(w*12|0)+8>>2];w=t+100|0;T=o[w>>2]|0;g=+u[S+(T*12|0)>>2];y=+u[S+(T*12|0)+4>>2];s=+u[S+(T*12|0)+8>>2];a=+u[t+116>>2];c=+u[t+112>>2];l=+u[t+124>>2];h=+u[t+120>>2];n=+u[t+88>>2]-+u[t+84>>2];_=+u[t+104>>2];d=+u[t+108>>2];i=(g-s*l-(f-m*a))*_+(y+s*h-(b+m*c))*d;if(n<0.0)i=i+n*+u[e+4>>2];T=t+92|0;n=+u[T>>2];i=n-i*+u[t+160>>2];i=i>0.0?0.0:i;u[T>>2]=i;i=i-n;n=_*i;_=d*i;i=+u[t+144>>2];c=m-+u[t+152>>2]*(_*c-n*a);d=+u[t+148>>2];m=s+ +u[t+156>>2]*(_*h-n*l);u[p>>2]=f-i*n;u[r>>2]=b-i*_;T=o[x>>2]|0;u[T+((o[v>>2]|0)*12|0)+8>>2]=c;S=o[w>>2]|0;u[T+(S*12|0)>>2]=g+n*d;u[T+(S*12|0)+4>>2]=y+_*d;u[(o[x>>2]|0)+((o[w>>2]|0)*12|0)+8>>2]=m;return}function VS(t,e){t=t|0;e=e|0;var i=0.0,n=0,r=0,s=0.0,a=0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0;r=e+24|0;e=o[r>>2]|0;d=t+96|0;n=o[d>>2]|0;g=+u[e+(n*12|0)>>2];m=+u[e+(n*12|0)+4>>2];w=+u[e+(n*12|0)+8>>2];n=t+100|0;a=o[n>>2]|0;p=+u[e+(a*12|0)>>2];h=+u[e+(a*12|0)+4>>2];v=+u[e+(a*12|0)+8>>2];y=+F(+w);b=+B(+w);i=+F(+v);_=+B(+v);s=+u[t+68>>2]-+u[t+128>>2];f=+u[t+72>>2]-+u[t+132>>2];l=b*s-y*f;f=y*s+b*f;b=+u[t+76>>2]-+u[t+136>>2];s=+u[t+80>>2]-+u[t+140>>2];y=_*b-i*s;s=i*b+_*s;_=p+y-g-l;b=h+s-m-f;i=+L(+(_*_+b*b));a=i<1.1920928955078125e-07;x=1.0/i;i=a?0.0:i;e=t+84|0;c=i-+u[e>>2];c=c<.20000000298023224?c:.20000000298023224;c=-(+u[t+160>>2]*(c<0.0?0.0:c));_=(a?_:x*_)*c;c=(a?b:x*b)*c;b=+u[t+144>>2];f=w-+u[t+152>>2]*(l*c-f*_);l=+u[t+148>>2];s=v+ +u[t+156>>2]*(y*c-s*_);t=o[r>>2]|0;a=o[d>>2]|0;u[t+(a*12|0)>>2]=g-b*_;u[t+(a*12|0)+4>>2]=m-b*c;a=o[r>>2]|0;u[a+((o[d>>2]|0)*12|0)+8>>2]=f;t=o[n>>2]|0;u[a+(t*12|0)>>2]=p+l*_;u[a+(t*12|0)+4>>2]=h+l*c;u[(o[r>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=s;return i-+u[e>>2]<.004999999888241291|0}function XS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+80>>2];r=+u[c+20>>2];n=+u[e+84>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function zS(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+88>>2];r=+u[c+20>>2];n=+u[e+92>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function qS(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0;n=+u[e+108>>2]*i;u[t>>2]=+u[e+104>>2]*i;u[t+4>>2]=n;return}function HS(t,e){t=t|0;e=+e;return+(+u[t+112>>2]*e)}function YS(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0,h=0.0,_=0,p=0,f=0,b=0,m=0,g=0;e=d;d=d+96|0;i=e+88|0;n=e+80|0;r=e+72|0;a=e+64|0;c=e+48|0;_=e+32|0;p=e+24|0;f=e+16|0;m=e+8|0;g=o[(o[t+48>>2]|0)+8>>2]|0;b=o[(o[t+52>>2]|0)+8>>2]|0;wx(8307,e);o[m>>2]=g;wx(8398,m);o[f>>2]=b;wx(8424,f);o[p>>2]=s[t+61>>0];wx(8450,p);h=+u[t+84>>2];l[_>>3]=+u[t+80>>2];l[_+8>>3]=h;wx(8485,_);h=+u[t+92>>2];l[c>>3]=+u[t+88>>2];l[c+8>>3]=h;wx(8527,c);l[a>>3]=+u[t+96>>2];wx(8329,a);l[r>>3]=+u[t+68>>2];wx(8699,r);l[n>>3]=+u[t+72>>2];wx(8728,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function ZS(t){t=t|0;rE(t);return}function QS(t,e){t=t|0;e=e|0;var i=0.0,r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,p=0.0,d=0.0,f=0.0,b=0,m=0,g=0.0,y=0,v=0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0,D=0,M=0.0,R=0.0,I=0,O=0,k=0,L=0,j=0,J=0,G=0,N=0,U=0,W=0,V=0.0;O=o[t+48>>2]|0;v=o[O+8>>2]|0;P=t+116|0;o[P>>2]=v;r=o[t+52>>2]|0;U=o[r+8>>2]|0;D=t+120|0;o[D>>2]=U;G=O+28|0;N=o[G>>2]|0;G=o[G+4>>2]|0;j=t+140|0;o[j>>2]=N;o[j+4>>2]=G;j=r+28|0;J=o[j>>2]|0;j=o[j+4>>2]|0;L=t+148|0;o[L>>2]=J;o[L+4>>2]=j;L=o[O+120>>2]|0;o[t+156>>2]=L;k=o[r+120>>2]|0;o[t+160>>2]=k;O=o[O+128>>2]|0;o[t+164>>2]=O;r=o[r+128>>2]|0;o[t+168>>2]=r;y=o[e+24>>2]|0;i=+u[y+(v*12|0)+8>>2];I=e+28|0;W=o[I>>2]|0;b=o[W+(v*12|0)>>2]|0;m=o[W+(v*12|0)+4>>2]|0;g=+u[W+(v*12|0)+8>>2];s=+u[y+(U*12|0)+8>>2];y=o[W+(U*12|0)>>2]|0;v=o[W+(U*12|0)+4>>2]|0;w=+u[W+(U*12|0)+8>>2];M=+F(+i);T=+B(+i);S=+F(+s);x=+B(+s);E=+u[t+80>>2]-(o[_>>2]=N,+u[_>>2]);C=+u[t+84>>2]-(o[_>>2]=G,+u[_>>2]);R=T*E-M*C;C=M*E+T*C;u[t+124>>2]=R;u[t+128>>2]=C;T=+u[t+88>>2]-(o[_>>2]=J,+u[_>>2]);E=+u[t+92>>2]-(o[_>>2]=j,+u[_>>2]);M=x*T-S*E;E=S*T+x*E;u[t+132>>2]=M;u[t+136>>2]=E;x=(o[_>>2]=L,+u[_>>2]);T=(o[_>>2]=k,+u[_>>2]);S=(o[_>>2]=O,+u[_>>2]);A=(o[_>>2]=r,+u[_>>2]);p=x+T;h=p+S*(C*C)+A*(E*E);d=-(S*(C*R))-A*(E*M);f=-(S*C)-A*E;p=p+S*(R*R)+A*(M*M);c=S*R+A*M;l=S+A;a=+u[t+68>>2];if(a>0.0){f=h*p-d*d;f=f!=0.0?1.0/f:f;u[t+172>>2]=p*f;c=-(f*d);u[t+184>>2]=c;u[t+180>>2]=0.0;u[t+176>>2]=c;u[t+188>>2]=h*f;W=t+192|0;o[W>>2]=0;o[W+4>>2]=0;o[W+8>>2]=0;f=l>0.0?1.0/l:0.0;h=s-i-+u[t+96>>2];c=a*6.2831854820251465;d=c*(f*c);p=+u[e>>2];f=p*(c*(f*2.0*+u[t+72>>2])+p*d);f=f!=0.0?1.0/f:0.0;u[t+100>>2]=f;u[t+76>>2]=h*p*d*f;f=l+f;u[t+204>>2]=f!=0.0?1.0/f:0.0}else{r=t+172|0;if(l==0.0){i=h*p-d*d;i=i!=0.0?1.0/i:i;u[r>>2]=p*i;f=-(i*d);u[t+184>>2]=f;u[t+180>>2]=0.0;u[t+176>>2]=f;W=t+192|0;o[W>>2]=0;o[W+4>>2]=0;o[W+8>>2]=0;o[W+12>>2]=0;i=h*i}else{V=p*l-c*c;s=c*f-l*d;a=c*d-p*f;i=V*h+d*s+a*f;i=i!=0.0?1.0/i:i;u[r>>2]=i*V;s=i*s;u[t+176>>2]=s;a=i*a;u[t+180>>2]=a;u[t+184>>2]=s;c=i*(f*d-h*c);u[t+192>>2]=c;u[t+196>>2]=a;u[t+200>>2]=c;u[t+204>>2]=i*(h*p-d*d);i=i*(h*l-f*f)}u[t+188>>2]=i;u[t+100>>2]=0.0;u[t+76>>2]=0.0}if(!(n[e+20>>0]|0)){u[t+104>>2]=0.0;u[t+108>>2]=0.0;u[t+112>>2]=0.0;L=b;U=m;J=y;W=v;R=g;V=w;G=o[I>>2]|0;N=o[P>>2]|0;j=G+(N*12|0)|0;o[j>>2]=L;N=G+(N*12|0)+4|0;o[N>>2]=U;N=o[I>>2]|0;U=o[P>>2]|0;U=N+(U*12|0)+8|0;u[U>>2]=R;U=o[D>>2]|0;G=N+(U*12|0)|0;o[G>>2]=J;U=N+(U*12|0)+4|0;o[U>>2]=W;U=o[I>>2]|0;W=o[D>>2]|0;W=U+(W*12|0)+8|0;u[W>>2]=V;return}else{d=+u[e+8>>2];L=t+104|0;V=d*+u[L>>2];u[L>>2]=V;L=t+108|0;f=d*+u[L>>2];u[L>>2]=f;L=t+112|0;d=d*+u[L>>2];u[L>>2]=d;L=(u[_>>2]=(o[_>>2]=b,+u[_>>2])-x*V,o[_>>2]|0);U=(u[_>>2]=(o[_>>2]=m,+u[_>>2])-x*f,o[_>>2]|0);J=(u[_>>2]=(o[_>>2]=y,+u[_>>2])+T*V,o[_>>2]|0);W=(u[_>>2]=(o[_>>2]=v,+u[_>>2])+T*f,o[_>>2]|0);R=g-S*(d+(f*R-V*C));V=w+A*(d+(f*M-V*E));G=o[I>>2]|0;N=o[P>>2]|0;j=G+(N*12|0)|0;o[j>>2]=L;N=G+(N*12|0)+4|0;o[N>>2]=U;N=o[I>>2]|0;U=o[P>>2]|0;U=N+(U*12|0)+8|0;u[U>>2]=R;U=o[D>>2]|0;G=N+(U*12|0)|0;o[G>>2]=J;U=N+(U*12|0)+4|0;o[U>>2]=W;U=o[I>>2]|0;W=o[D>>2]|0;W=U+(W*12|0)+8|0;u[W>>2]=V;return}}function KS(t,e){t=t|0;e=e|0;var i=0,n=0,r=0.0,s=0.0,a=0.0,c=0.0,l=0,h=0,p=0.0,d=0,f=0,b=0.0,m=0.0,g=0,y=0,v=0,w=0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0,O=0.0,k=0.0;v=e+28|0;i=o[v>>2]|0;g=t+116|0;n=o[g>>2]|0;l=o[i+(n*12|0)>>2]|0;e=i+(n*12|0)+4|0;h=o[e>>2]|0;p=+u[i+(n*12|0)+8>>2];y=t+120|0;w=o[y>>2]|0;d=o[i+(w*12|0)>>2]|0;f=o[i+(w*12|0)+4>>2]|0;b=+u[i+(w*12|0)+8>>2];m=+u[t+156>>2];r=+u[t+160>>2];s=+u[t+164>>2];a=+u[t+168>>2];c=+u[t+204>>2];if(+u[t+68>>2]>0.0){w=t+112|0;A=+u[w>>2];D=c*(b-p+ +u[t+76>>2]+ +u[t+100>>2]*A);S=-D;u[w>>2]=A-D;D=p-s*S;S=b+a*S;A=+u[t+136>>2];M=+u[t+132>>2];p=(o[_>>2]=d,+u[_>>2]);b=(o[_>>2]=f,+u[_>>2]);T=(o[_>>2]=l,+u[_>>2]);x=(o[_>>2]=h,+u[_>>2]);C=+u[t+128>>2];P=+u[t+124>>2];c=C*D+(p-A*S-T);R=b+M*S-x-P*D;I=+u[t+172>>2]*c+ +u[t+184>>2]*R;R=+u[t+176>>2]*c+R*+u[t+188>>2];c=-I;E=-R;w=t+104|0;u[w>>2]=+u[w>>2]-I;w=t+108|0;u[w>>2]=+u[w>>2]-R;A=M*E-A*c;T=T-m*c;x=x-m*E;p=p+r*c;b=b+r*E;c=D-s*(P*E-C*c);m=a*A;m=S+m;w=i+(n*12|0)|0;u[w>>2]=T;u[e>>2]=x;w=o[v>>2]|0;t=o[g>>2]|0;t=w+(t*12|0)+8|0;u[t>>2]=c;t=o[y>>2]|0;g=w+(t*12|0)|0;u[g>>2]=p;t=w+(t*12|0)+4|0;u[t>>2]=b;t=o[v>>2]|0;w=o[y>>2]|0;w=t+(w*12|0)+8|0;u[w>>2]=m;return}else{I=+u[t+136>>2];O=+u[t+132>>2];M=(o[_>>2]=d,+u[_>>2]);R=(o[_>>2]=f,+u[_>>2]);E=(o[_>>2]=l,+u[_>>2]);P=(o[_>>2]=h,+u[_>>2]);S=+u[t+128>>2];x=+u[t+124>>2];T=M-b*I-E+p*S;A=R+b*O-P-p*x;D=b-p;k=T*+u[t+172>>2]+A*+u[t+184>>2]+D*+u[t+196>>2];C=T*+u[t+176>>2]+A*+u[t+188>>2]+D*+u[t+200>>2];D=T*+u[t+180>>2]+A*+u[t+192>>2]+D*c;A=-k;T=-C;w=t+104|0;u[w>>2]=+u[w>>2]-k;w=t+108|0;u[w>>2]=+u[w>>2]-C;w=t+112|0;u[w>>2]=+u[w>>2]-D;C=b;I=O*T-I*A-D;E=E-m*A;P=P-m*T;M=M+r*A;R=R+r*T;D=p-s*(x*T-S*A-D);I=a*I;I=C+I;w=i+(n*12|0)|0;u[w>>2]=E;u[e>>2]=P;w=o[v>>2]|0;t=o[g>>2]|0;t=w+(t*12|0)+8|0;u[t>>2]=D;t=o[y>>2]|0;g=w+(t*12|0)|0;u[g>>2]=M;t=w+(t*12|0)+4|0;u[t>>2]=R;t=o[v>>2]|0;w=o[y>>2]|0;w=t+(w*12|0)+8|0;u[w>>2]=I;return}}function $S(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0,m=0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0,R=0,I=0,O=0.0,k=0.0,j=0,J=0.0,G=0.0,N=0.0;I=e+24|0;b=o[I>>2]|0;M=t+116|0;m=o[M>>2]|0;T=+u[b+(m*12|0)>>2];e=b+(m*12|0)+4|0;S=+u[e>>2];A=+u[b+(m*12|0)+8>>2];R=t+120|0;j=o[R>>2]|0;C=+u[b+(j*12|0)>>2];E=+u[b+(j*12|0)+4>>2];g=+u[b+(j*12|0)+8>>2];O=+F(+A);s=+B(+A);_=+F(+g);a=+B(+g);y=+u[t+156>>2];v=+u[t+160>>2];w=+u[t+164>>2];x=+u[t+168>>2];D=+u[t+80>>2]-+u[t+140>>2];P=+u[t+84>>2]-+u[t+144>>2];k=s*D-O*P;P=O*D+s*P;s=+u[t+88>>2]-+u[t+148>>2];D=+u[t+92>>2]-+u[t+152>>2];O=a*s-_*D;D=_*s+a*D;a=y+v;s=a+w*(P*P)+x*(D*D);_=-(w*(P*k))-x*(D*O);d=-(w*P)-x*D;a=a+w*(k*k)+x*(O*O);c=w*k+x*O;i=w+x;h=C+O-T-k;p=E+D-S-P;if(+u[t+68>>2]>0.0){c=+L(+(h*h+p*p));d=s*a-_*_;d=d!=0.0?1.0/d:d;l=-(d*(a*h-_*p));d=-(d*(s*p-_*h));j=1;f=k*d-P*l;O=O*d-D*l;k=c;P=l;D=d;d=y*D;y=y*P;D=v*D;P=v*P;S=S-d;T=T-y;D=E+D;P=C+P;E=w*f;O=x*O;E=A-E;O=g+O;m=b+(m*12|0)|0;u[m>>2]=T;u[e>>2]=S;m=o[I>>2]|0;M=o[M>>2]|0;M=m+(M*12|0)+8|0;u[M>>2]=E;M=o[R>>2]|0;b=m+(M*12|0)|0;u[b>>2]=P;M=m+(M*12|0)+4|0;u[M>>2]=D;M=o[I>>2]|0;I=o[R>>2]|0;I=M+(I*12|0)+8|0;u[I>>2]=O;I=k<=.004999999888241291;j=I&j;return j|0}f=g-A-+u[t+96>>2];l=+L(+(p*p+h*h));if(i>0.0){N=a*i-c*c;n=c*d-i*_;r=c*_-a*d;G=N*s+_*n+r*d;G=G!=0.0?1.0/G:G;J=c*h;r=G*(N*h+n*p+r*f);n=G*((p*i-f*c)*s+_*(f*d-i*h)+(J-p*d)*d);i=-(G*((a*f-c*p)*s+_*(J-f*_)+(p*_-a*h)*d))}else{n=s*a-_*_;n=n!=0.0?1.0/n:n;r=n*(a*h-_*p);n=n*(s*p-_*h);i=0.0}J=-n;d=-r;j=(f>0.0?f:-f)<=.03490658849477768;f=i+(k*J-P*d);G=i+(O*J-D*d);N=l;k=d;D=y*J;P=y*k;J=v*J;k=v*k;D=S-D;P=T-P;J=E+J;k=C+k;O=w*f;G=x*G;O=A-O;G=g+G;m=b+(m*12|0)|0;u[m>>2]=P;u[e>>2]=D;m=o[I>>2]|0;M=o[M>>2]|0;M=m+(M*12|0)+8|0;u[M>>2]=O;M=o[R>>2]|0;b=m+(M*12|0)|0;u[b>>2]=k;M=m+(M*12|0)+4|0;u[M>>2]=J;M=o[I>>2]|0;I=o[R>>2]|0;I=M+(I*12|0)+8|0;u[I>>2]=G;I=N<=.004999999888241291;j=I&j;return j|0}function tA(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+48>>2]|0;a=+u[c+24>>2];s=+u[e+76>>2];r=+u[c+20>>2];n=+u[e+80>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function eA(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,c=0;c=o[e+52>>2]|0;a=+u[c+24>>2];s=+u[e+84>>2];r=+u[c+20>>2];n=+u[e+88>>2];i=s*r+a*n+ +u[c+16>>2];u[t>>2]=+u[c+12>>2]+(a*s-r*n);u[t+4>>2]=i;return}function iA(t,e,i){t=t|0;e=e|0;i=+i;var n=0.0,r=0.0,o=0.0;o=+u[e+108>>2];r=+u[e+116>>2];n=(o*+u[e+184>>2]+r*+u[e+176>>2])*i;u[t>>2]=(o*+u[e+180>>2]+r*+u[e+172>>2])*i;u[t+4>>2]=n;return}function nA(t,e){t=t|0;e=+e;return+(+u[t+112>>2]*e)}function rA(t){t=t|0;var e=0,i=0,n=0,r=0,a=0,c=0,h=0,_=0,p=0.0,f=0,b=0,m=0,g=0,y=0,v=0,w=0;e=d;d=d+128|0;i=e+120|0;n=e+112|0;r=e+104|0;a=e+96|0;c=e+88|0;h=e+80|0;_=e+64|0;f=e+48|0;b=e+32|0;m=e+24|0;g=e+16|0;v=e+8|0;w=o[(o[t+48>>2]|0)+8>>2]|0;y=o[(o[t+52>>2]|0)+8>>2]|0;wx(8375,e);o[v>>2]=w;wx(8398,v);o[g>>2]=y;wx(8424,g);o[m>>2]=s[t+61>>0];wx(8450,m);p=+u[t+80>>2];l[b>>3]=+u[t+76>>2];l[b+8>>3]=p;wx(8485,b);p=+u[t+88>>2];l[f>>3]=+u[t+84>>2];l[f+8>>3]=p;wx(8527,f);p=+u[t+96>>2];l[_>>3]=+u[t+92>>2];l[_+8>>3]=p;wx(8569,_);o[h>>2]=s[t+128>>0];wx(8609,h);l[c>>3]=+u[t+124>>2];wx(8639,c);l[a>>3]=+u[t+120>>2];wx(8667,a);l[r>>3]=+u[t+68>>2];wx(8699,r);l[n>>3]=+u[t+72>>2];wx(8728,n);o[i>>2]=o[t+56>>2];wx(8758,i);d=e;return}function oA(t){t=t|0;rE(t);return}function sA(t,e){t=t|0;e=e|0;var i=0.0,r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0,g=0,y=0.0,v=0.0,w=0.0,x=0,T=0,S=0.0,A=0,C=0,E=0.0,P=0.0,D=0,M=0,R=0,I=0,O=0,k=0,L=0.0,j=0.0,J=0.0,G=0,N=0,U=0,W=0,V=0,X=0,z=0.0,q=0.0;r=o[t+48>>2]|0;g=o[r+8>>2]|0;D=t+132|0;o[D>>2]=g;I=o[t+52>>2]|0;m=o[I+8>>2]|0;M=t+136|0;o[M>>2]=m;W=r+28|0;V=o[W>>2]|0;W=o[W+4>>2]|0;N=t+140|0;o[N>>2]=V;o[N+4>>2]=W;N=I+28|0;U=o[N>>2]|0;N=o[N+4>>2]|0;X=t+148|0;o[X>>2]=U;o[X+4>>2]=N;X=o[r+120>>2]|0;O=t+156|0;o[O>>2]=X;G=o[I+120>>2]|0;k=t+160|0;o[k>>2]=G;r=o[r+128>>2]|0;R=t+164|0;o[R>>2]=r;d=+u[I+128>>2];I=t+168|0;u[I>>2]=d;b=(o[_>>2]=X,+u[_>>2]);a=(o[_>>2]=G,+u[_>>2]);f=(o[_>>2]=r,+u[_>>2]);r=o[e+24>>2]|0;s=+u[r+(g*12|0)+8>>2];G=e+28|0;X=o[G>>2]|0;x=o[X+(g*12|0)>>2]|0;T=o[X+(g*12|0)+4>>2]|0;S=+u[X+(g*12|0)+8>>2];v=+u[r+(m*12|0)+8>>2];A=o[X+(m*12|0)>>2]|0;C=o[X+(m*12|0)+4>>2]|0;E=+u[X+(m*12|0)+8>>2];i=+F(+s);s=+B(+s);j=+F(+v);v=+B(+v);w=+u[t+76>>2]-(o[_>>2]=V,+u[_>>2]);h=+u[t+80>>2]-(o[_>>2]=W,+u[_>>2]);c=s*w-i*h;h=i*w+s*h;w=+u[t+84>>2]-(o[_>>2]=U,+u[_>>2]);l=+u[t+88>>2]-(o[_>>2]=N,+u[_>>2]);p=v*w-j*l;l=j*w+v*l;v=+u[r+(m*12|0)>>2]+p-+u[r+(g*12|0)>>2]-c;w=+u[r+(m*12|0)+4>>2]+l-+u[r+(g*12|0)+4>>2]-h;j=+u[t+100>>2];P=+u[t+104>>2];J=s*j-i*P;P=i*j+s*P;u[t+180>>2]=J;u[t+184>>2]=P;c=c+v;h=h+w;j=P*c-J*h;u[t+196>>2]=j;L=p*P-l*J;u[t+200>>2]=L;a=b+a;b=L*(d*L)+(a+j*(f*j));u[t+204>>2]=b>0.0?1.0/b:b;g=t+212|0;u[g>>2]=0.0;r=t+216|0;u[r>>2]=0.0;m=t+220|0;u[m>>2]=0.0;b=+u[t+68>>2];if(b>0.0){q=+u[t+92>>2];z=+u[t+96>>2];y=s*q-i*z;s=i*q+s*z;u[t+172>>2]=y;u[t+176>>2]=s;i=c*s-h*y;u[t+188>>2]=i;p=p*s-l*y;u[t+192>>2]=p;i=p*(d*p)+(a+i*(f*i));if(i>0.0){q=1.0/i;p=b*6.2831854820251465;z=p*(q*p);b=+u[e>>2];q=b*(p*(q*2.0*+u[t+72>>2])+b*z);q=q>0.0?1.0/q:q;u[m>>2]=q;u[r>>2]=(v*y+w*s)*b*z*q;q=i+q;u[g>>2]=q>0.0?1.0/q:q}}else u[t+116>>2]=0.0;if(n[t+128>>0]|0){i=d+f;r=t+208|0;u[r>>2]=i;if(i>0.0)u[r>>2]=1.0/i}else{u[t+208>>2]=0.0;u[t+112>>2]=0.0}if(!(n[e+20>>0]|0)){u[t+108>>2]=0.0;u[t+116>>2]=0.0;u[t+112>>2]=0.0;k=x;V=T;N=A;X=C;z=S;q=E;U=o[G>>2]|0;W=o[D>>2]|0;t=U+(W*12|0)|0;o[t>>2]=k;W=U+(W*12|0)+4|0;o[W>>2]=V;W=o[G>>2]|0;V=o[D>>2]|0;V=W+(V*12|0)+8|0;u[V>>2]=z;V=o[M>>2]|0;U=W+(V*12|0)|0;o[U>>2]=N;V=W+(V*12|0)+4|0;o[V>>2]=X;V=o[G>>2]|0;X=o[M>>2]|0;X=V+(X*12|0)+8|0;u[X>>2]=q;return}else{v=+u[e+8>>2];X=t+108|0;w=v*+u[X>>2];u[X>>2]=w;X=t+116|0;q=v*+u[X>>2];u[X>>2]=q;X=t+112|0;v=v*+u[X>>2];u[X>>2]=v;y=w*J+q*+u[t+172>>2];J=w*P+q*+u[t+176>>2];z=+u[O>>2];X=(u[_>>2]=(o[_>>2]=x,+u[_>>2])-y*z,o[_>>2]|0);V=(u[_>>2]=(o[_>>2]=T,+u[_>>2])-J*z,o[_>>2]|0);z=+u[k>>2];N=(u[_>>2]=(o[_>>2]=A,+u[_>>2])+y*z,o[_>>2]|0);k=X;X=(u[_>>2]=(o[_>>2]=C,+u[_>>2])+J*z,o[_>>2]|0);z=S-(v+(w*j+q*+u[t+188>>2]))*+u[R>>2];q=E+(v+(w*L+q*+u[t+192>>2]))*+u[I>>2];U=o[G>>2]|0;W=o[D>>2]|0;t=U+(W*12|0)|0;o[t>>2]=k;W=U+(W*12|0)+4|0;o[W>>2]=V;W=o[G>>2]|0;V=o[D>>2]|0;V=W+(V*12|0)+8|0;u[V>>2]=z;V=o[M>>2]|0;U=W+(V*12|0)|0;o[U>>2]=N;V=W+(V*12|0)+4|0;o[V>>2]=X;V=o[G>>2]|0;X=o[M>>2]|0;X=V+(X*12|0)+8|0;u[X>>2]=q;return}}function aA(t,e){t=t|0;e=e|0;var i=0,n=0,r=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0,S=0.0,A=0;y=+u[t+156>>2];h=+u[t+160>>2];m=+u[t+164>>2];a=+u[t+168>>2];n=e+28|0;A=o[n>>2]|0;f=t+132|0;i=o[f>>2]|0;w=+u[A+(i*12|0)>>2];v=+u[A+(i*12|0)+4>>2];x=+u[A+(i*12|0)+8>>2];i=t+136|0;T=o[i>>2]|0;s=+u[A+(T*12|0)>>2];b=+u[A+(T*12|0)+4>>2];l=+u[A+(T*12|0)+8>>2];d=+u[t+172>>2];_=+u[t+176>>2];c=+u[t+192>>2];g=+u[t+188>>2];T=t+116|0;S=+u[T>>2];r=+u[t+212>>2]*((s-w)*d+(b-v)*_+l*c-x*g+ +u[t+216>>2]+ +u[t+220>>2]*S);p=-r;u[T>>2]=S-r;d=d*p;_=_*p;w=w-y*d;v=v-y*_;g=x-m*(g*p);d=s+h*d;_=b+h*_;p=l+a*(c*p);T=t+112|0;c=+u[T>>2];l=+u[e>>2]*+u[t+120>>2];b=c-+u[t+208>>2]*(p-g-+u[t+124>>2]);s=-l;l=b<l?b:l;l=l<s?s:l;u[T>>2]=l;c=l-c;g=g-m*c;c=p+a*c;p=+u[t+180>>2];l=+u[t+184>>2];s=+u[t+200>>2];b=+u[t+196>>2];x=+u[t+204>>2]*((d-w)*p+(_-v)*l+s*c-b*g);r=-x;t=t+108|0;u[t>>2]=+u[t>>2]-x;p=p*r;l=l*r;t=o[n>>2]|0;e=o[f>>2]|0;u[t+(e*12|0)>>2]=w-y*p;u[t+(e*12|0)+4>>2]=v-y*l;e=o[n>>2]|0;u[e+((o[f>>2]|0)*12|0)+8>>2]=g-m*(b*r);t=o[i>>2]|0;u[e+(t*12|0)>>2]=d+h*p;u[e+(t*12|0)+4>>2]=_+h*l;u[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=c+a*(s*r);return}function cA(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0;r=e+24|0;M=o[r>>2]|0;v=t+132|0;e=o[v>>2]|0;D=+u[M+(e*12|0)>>2];P=+u[M+(e*12|0)+4>>2];C=+u[M+(e*12|0)+8>>2];e=t+136|0;d=o[e>>2]|0;y=+u[M+(d*12|0)>>2];m=+u[M+(d*12|0)+4>>2];p=+u[M+(d*12|0)+8>>2];b=+F(+C);n=+B(+C);E=+F(+p);T=+B(+p);w=+u[t+76>>2]-+u[t+140>>2];x=+u[t+80>>2]-+u[t+144>>2];S=n*w-b*x;x=b*w+n*x;w=+u[t+84>>2]-+u[t+148>>2];c=+u[t+88>>2]-+u[t+152>>2];h=T*w-E*c;c=E*w+T*c;T=y-D+h-S;w=m-P+c-x;E=+u[t+100>>2];l=+u[t+104>>2];a=n*E-b*l;l=b*E+n*l;n=a*T+l*w;E=+u[t+156>>2];b=+u[t+160>>2];A=+u[t+164>>2];i=+u[t+196>>2];_=+u[t+168>>2];s=+u[t+200>>2];s=E+b+i*(A*i)+s*(_*s);i=-n;s=s!=0.0?i/s:0.0;g=a*s;f=l*s;t=o[r>>2]|0;d=o[v>>2]|0;u[t+(d*12|0)>>2]=D-E*g;u[t+(d*12|0)+4>>2]=P-E*f;d=o[r>>2]|0;u[d+((o[v>>2]|0)*12|0)+8>>2]=C-A*((l*(S+T)-a*(x+w))*s);t=o[e>>2]|0;u[d+(t*12|0)>>2]=y+b*g;u[d+(t*12|0)+4>>2]=m+b*f;u[(o[r>>2]|0)+((o[e>>2]|0)*12|0)+8>>2]=p+_*((h*l-c*a)*s);return(n>0.0?n:i)<=.004999999888241291|0}function uA(t){t=t|0;t=d;d=d+16|0;wx(8896,t);d=t;return}function lA(t){t=t|0;rE(t);return}function hA(t){t=t|0;Wt(t|0)|0;EE()}function _A(t){t=t|0;var e=0,i=0,n=0,r=0,s=0;s=t+16|0;e=o[s>>2]|0;if((e|0)==-1){i=t+8|0;e=o[i>>2]|0;r=t+12|0;if((e|0)!=(o[r>>2]|0))Gt(9426,9084,58,9456);t=t+4|0;n=o[t>>2]|0;o[r>>2]=e<<1;e=eE(e*72|0)|0;o[t>>2]=e;qE(e|0,n|0,(o[i>>2]|0)*36|0)|0;iE(n);n=o[i>>2]|0;e=(o[r>>2]|0)+-1|0;t=o[t>>2]|0;if((n|0)<(e|0))do{e=n;n=n+1|0;o[t+(e*36|0)+20>>2]=n;o[t+(e*36|0)+32>>2]=-1;e=(o[r>>2]|0)+-1|0}while((n|0)<(e|0));o[t+(e*36|0)+20>>2]=-1;o[t+(((o[r>>2]|0)+-1|0)*36|0)+32>>2]=-1;e=o[i>>2]|0;o[s>>2]=e;n=t}else{n=o[t+4>>2]|0;i=t+8|0}r=n+(e*36|0)+20|0;o[s>>2]=o[r>>2];o[r>>2]=-1;o[n+(e*36|0)+24>>2]=-1;o[n+(e*36|0)+28>>2]=-1;o[n+(e*36|0)+32>>2]=0;o[n+(e*36|0)+16>>2]=0;o[i>>2]=(o[i>>2]|0)+1;return e|0}function pA(t,e){t=t|0;e=e|0;var i=0,n=0,r=0,s=0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0,S=0;i=t+24|0;o[i>>2]=(o[i>>2]|0)+1;i=o[t>>2]|0;if((i|0)==-1){o[t>>2]=e;o[(o[t+4>>2]|0)+(e*36|0)+20>>2]=-1;return}T=t+4|0;r=o[T>>2]|0;y=+u[r+(e*36|0)>>2];x=+u[r+(e*36|0)+4>>2];v=+u[r+(e*36|0)+8>>2];w=+u[r+(e*36|0)+12>>2];s=i;while(1){i=o[r+(s*36|0)+24>>2]|0;if((i|0)==-1)break;n=o[r+(s*36|0)+28>>2]|0;c=+u[r+(s*36|0)+8>>2];_=+u[r+(s*36|0)>>2];a=+u[r+(s*36|0)+12>>2];m=+u[r+(s*36|0)+4>>2];d=((c>v?c:v)-(_<y?_:y)+((a>w?a:w)-(m<x?m:x)))*2.0;g=d*2.0;m=(d-(c-_+(a-m))*2.0)*2.0;a=+u[r+(i*36|0)>>2];_=y<a?y:a;c=+u[r+(i*36|0)+4>>2];d=x<c?x:c;l=+u[r+(i*36|0)+8>>2];p=v>l?v:l;h=+u[r+(i*36|0)+12>>2];f=w>h?w:h;if((o[r+(i*36|0)+24>>2]|0)==-1)a=(p-_+(f-d))*2.0;else a=(p-_+(f-d))*2.0-(l-a+(h-c))*2.0;b=m+a;a=+u[r+(n*36|0)>>2];_=y<a?y:a;c=+u[r+(n*36|0)+4>>2];d=x<c?x:c;l=+u[r+(n*36|0)+8>>2];p=v>l?v:l;h=+u[r+(n*36|0)+12>>2];f=w>h?w:h;if((o[r+(n*36|0)+24>>2]|0)==-1)a=(p-_+(f-d))*2.0;else a=(p-_+(f-d))*2.0-(l-a+(h-c))*2.0;a=m+a;if(g<b&g<a)break;else s=b<a?i:n}n=o[r+(s*36|0)+20>>2]|0;r=_A(t)|0;i=o[T>>2]|0;o[i+(r*36|0)+20>>2]=n;o[i+(r*36|0)+16>>2]=0;m=+u[i+(s*36|0)>>2];g=+u[i+(s*36|0)+4>>2];u[i+(r*36|0)>>2]=y<m?y:m;u[i+(r*36|0)+4>>2]=x<g?x:g;y=+u[i+(s*36|0)+8>>2];x=+u[i+(s*36|0)+12>>2];u[i+(r*36|0)+8>>2]=v>y?v:y;u[i+(r*36|0)+12>>2]=w>x?w:x;i=o[T>>2]|0;o[i+(r*36|0)+32>>2]=(o[i+(s*36|0)+32>>2]|0)+1;if((n|0)==-1){o[i+(r*36|0)+24>>2]=s;o[i+(r*36|0)+28>>2]=e;o[i+(s*36|0)+20>>2]=r;n=i+(e*36|0)+20|0;o[n>>2]=r;i=t}else{S=i+(n*36|0)+24|0;o[((o[S>>2]|0)==(s|0)?S:i+(n*36|0)+28|0)>>2]=r;o[i+(r*36|0)+24>>2]=s;o[i+(r*36|0)+28>>2]=e;o[i+(s*36|0)+20>>2]=r;n=i+(e*36|0)+20|0;i=n}o[i>>2]=r;i=o[n>>2]|0;if((i|0)==-1)return;while(1){s=dA(t,i)|0;i=o[T>>2]|0;n=o[i+(s*36|0)+24>>2]|0;r=o[i+(s*36|0)+28>>2]|0;if((n|0)==-1){i=17;break}if((r|0)==-1){i=19;break}e=o[i+(n*36|0)+32>>2]|0;S=o[i+(r*36|0)+32>>2]|0;o[i+(s*36|0)+32>>2]=((e|0)>(S|0)?e:S)+1;x=+u[i+(n*36|0)>>2];w=+u[i+(r*36|0)>>2];v=+u[i+(n*36|0)+4>>2];y=+u[i+(r*36|0)+4>>2];u[i+(s*36|0)>>2]=x<w?x:w;u[i+(s*36|0)+4>>2]=v<y?v:y;y=+u[i+(n*36|0)+8>>2];v=+u[i+(r*36|0)+8>>2];w=+u[i+(n*36|0)+12>>2];x=+u[i+(r*36|0)+12>>2];u[i+(s*36|0)+8>>2]=y>v?y:v;u[i+(s*36|0)+12>>2]=w>x?w:x;i=o[(o[T>>2]|0)+(s*36|0)+20>>2]|0;if((i|0)==-1){i=21;break}}if((i|0)==17)Gt(9069,9084,304,9131);else if((i|0)==19)Gt(9142,9084,305,9131);else if((i|0)==21)return}function dA(t,e){t=t|0;e=e|0;var i=0,n=0.0,r=0.0,s=0,a=0,c=0,l=0,h=0,_=0,p=0,d=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0.0,E=0.0,P=0.0,D=0.0;if((e|0)==-1)Gt(9157,9084,379,9168);x=o[t+4>>2]|0;m=x+(e*36|0)|0;f=x+(e*36|0)+24|0;v=o[f>>2]|0;if((v|0)==-1){A=e;return A|0}T=x+(e*36|0)+32|0;if((o[T>>2]|0)<2){A=e;return A|0}b=x+(e*36|0)+28|0;w=o[b>>2]|0;if((v|0)<=-1)Gt(9176,9084,389,9168);s=o[t+12>>2]|0;if((v|0)>=(s|0))Gt(9176,9084,389,9168);if(!((w|0)>-1&(w|0)<(s|0)))Gt(9207,9084,390,9168);g=x+(v*36|0)|0;y=x+(w*36|0)|0;S=x+(w*36|0)+32|0;A=x+(v*36|0)+32|0;i=(o[S>>2]|0)-(o[A>>2]|0)|0;if((i|0)>1){i=x+(w*36|0)+24|0;c=o[i>>2]|0;p=x+(w*36|0)+28|0;l=o[p>>2]|0;h=x+(c*36|0)|0;_=x+(l*36|0)|0;if(!((c|0)>-1&(c|0)<(s|0)))Gt(9238,9084,404,9168);if(!((l|0)>-1&(l|0)<(s|0)))Gt(9269,9084,405,9168);o[i>>2]=e;f=x+(e*36|0)+20|0;s=x+(w*36|0)+20|0;o[s>>2]=o[f>>2];o[f>>2]=w;s=o[s>>2]|0;if((s|0)!=-1){i=x+(s*36|0)+24|0;if((o[i>>2]|0)!=(e|0)){i=x+(s*36|0)+28|0;if((o[i>>2]|0)==(e|0))d=i;else Gt(9300,9084,421,9168)}else d=i}else d=t;o[d>>2]=w;i=x+(c*36|0)+32|0;a=x+(l*36|0)+32|0;if((o[i>>2]|0)>(o[a>>2]|0)){o[p>>2]=c;o[b>>2]=l;o[x+(l*36|0)+20>>2]=e;D=+u[g>>2];r=+u[_>>2];r=D<r?D:r;D=+u[x+(v*36|0)+4>>2];n=+u[x+(l*36|0)+4>>2];n=D<n?D:n;u[m>>2]=r;u[x+(e*36|0)+4>>2]=n;D=+u[x+(v*36|0)+8>>2];P=+u[x+(l*36|0)+8>>2];E=+u[x+(v*36|0)+12>>2];C=+u[x+(l*36|0)+12>>2];v=x+(e*36|0)+8|0;u[v>>2]=D>P?D:P;s=x+(e*36|0)+12|0;u[s>>2]=E>C?E:C;C=+u[h>>2];E=+u[x+(c*36|0)+4>>2];u[y>>2]=r<C?r:C;u[x+(w*36|0)+4>>2]=n<E?n:E;E=+u[v>>2];n=+u[x+(c*36|0)+8>>2];C=+u[s>>2];r=+u[x+(c*36|0)+12>>2];n=E>n?E:n;r=C>r?C:r;s=a}else{o[p>>2]=l;o[b>>2]=c;o[x+(c*36|0)+20>>2]=e;C=+u[g>>2];r=+u[h>>2];r=C<r?C:r;C=+u[x+(v*36|0)+4>>2];n=+u[x+(c*36|0)+4>>2];n=C<n?C:n;u[m>>2]=r;u[x+(e*36|0)+4>>2]=n;C=+u[x+(v*36|0)+8>>2];E=+u[x+(c*36|0)+8>>2];P=+u[x+(v*36|0)+12>>2];D=+u[x+(c*36|0)+12>>2];v=x+(e*36|0)+8|0;u[v>>2]=C>E?C:E;s=x+(e*36|0)+12|0;u[s>>2]=P>D?P:D;D=+u[_>>2];P=+u[x+(l*36|0)+4>>2];u[y>>2]=r<D?r:D;u[x+(w*36|0)+4>>2]=n<P?n:P;P=+u[v>>2];n=+u[x+(l*36|0)+8>>2];D=+u[s>>2];r=+u[x+(l*36|0)+12>>2];n=P>n?P:n;r=D>r?D:r;s=i;i=a}u[x+(w*36|0)+8>>2]=n;u[x+(w*36|0)+12>>2]=r;A=o[A>>2]|0;x=o[s>>2]|0;x=((A|0)>(x|0)?A:x)+1|0;o[T>>2]=x;A=o[i>>2]|0;o[S>>2]=((x|0)>(A|0)?x:A)+1;A=w;return A|0}if((i|0)>=-1){A=e;return A|0}i=x+(v*36|0)+24|0;c=o[i>>2]|0;p=x+(v*36|0)+28|0;l=o[p>>2]|0;h=x+(c*36|0)|0;_=x+(l*36|0)|0;if(!((c|0)>-1&(c|0)<(s|0)))Gt(9332,9084,464,9168);if(!((l|0)>-1&(l|0)<(s|0)))Gt(9363,9084,465,9168);o[i>>2]=e;b=x+(e*36|0)+20|0;s=x+(v*36|0)+20|0;o[s>>2]=o[b>>2];o[b>>2]=v;s=o[s>>2]|0;if((s|0)!=-1){i=x+(s*36|0)+24|0;if((o[i>>2]|0)!=(e|0)){i=x+(s*36|0)+28|0;if((o[i>>2]|0)==(e|0))a=i;else Gt(9394,9084,481,9168)}else a=i}else a=t;o[a>>2]=v;i=x+(c*36|0)+32|0;a=x+(l*36|0)+32|0;if((o[i>>2]|0)>(o[a>>2]|0)){o[p>>2]=c;o[f>>2]=l;o[x+(l*36|0)+20>>2]=e;C=+u[y>>2];r=+u[_>>2];r=C<r?C:r;C=+u[x+(w*36|0)+4>>2];n=+u[x+(l*36|0)+4>>2];n=C<n?C:n;u[m>>2]=r;u[x+(e*36|0)+4>>2]=n;C=+u[x+(w*36|0)+8>>2];E=+u[x+(l*36|0)+8>>2];P=+u[x+(w*36|0)+12>>2];D=+u[x+(l*36|0)+12>>2];w=x+(e*36|0)+8|0;u[w>>2]=C>E?C:E;s=x+(e*36|0)+12|0;u[s>>2]=P>D?P:D;D=+u[h>>2];P=+u[x+(c*36|0)+4>>2];u[g>>2]=r<D?r:D;u[x+(v*36|0)+4>>2]=n<P?n:P;P=+u[w>>2];n=+u[x+(c*36|0)+8>>2];D=+u[s>>2];r=+u[x+(c*36|0)+12>>2];n=P>n?P:n;r=D>r?D:r;s=a}else{o[p>>2]=l;o[f>>2]=c;o[x+(c*36|0)+20>>2]=e;C=+u[y>>2];r=+u[h>>2];r=C<r?C:r;C=+u[x+(w*36|0)+4>>2];n=+u[x+(c*36|0)+4>>2];n=C<n?C:n;u[m>>2]=r;u[x+(e*36|0)+4>>2]=n;C=+u[x+(w*36|0)+8>>2];E=+u[x+(c*36|0)+8>>2];P=+u[x+(w*36|0)+12>>2];D=+u[x+(c*36|0)+12>>2];w=x+(e*36|0)+8|0;u[w>>2]=C>E?C:E;s=x+(e*36|0)+12|0;u[s>>2]=P>D?P:D;D=+u[_>>2];P=+u[x+(l*36|0)+4>>2];u[g>>2]=r<D?r:D;u[x+(v*36|0)+4>>2]=n<P?n:P;P=+u[w>>2];n=+u[x+(l*36|0)+8>>2];D=+u[s>>2];r=+u[x+(l*36|0)+12>>2];n=P>n?P:n;r=D>r?D:r;s=i;i=a}u[x+(v*36|0)+8>>2]=n;u[x+(v*36|0)+12>>2]=r;S=o[S>>2]|0;x=o[s>>2]|0;x=((S|0)>(x|0)?S:x)+1|0;o[T>>2]=x;S=o[i>>2]|0;o[A>>2]=((x|0)>(S|0)?x:S)+1;A=v;return A|0}function fA(t,e){t=t|0;e=e|0;var i=0,n=0,r=0,s=0,a=0,c=0,l=0.0,h=0.0,_=0.0,p=0.0;if((o[t>>2]|0)==(e|0)){o[t>>2]=-1;return}a=t+4|0;r=o[a>>2]|0;s=o[r+(e*36|0)+20>>2]|0;c=r+(s*36|0)+20|0;i=o[c>>2]|0;n=o[r+(s*36|0)+24>>2]|0;if((n|0)==(e|0))n=o[r+(s*36|0)+28>>2]|0;if((i|0)==-1){o[t>>2]=n;o[r+(n*36|0)+20>>2]=-1;if((s|0)<=-1)Gt(9508,9084,94,9547);if((o[t+12>>2]|0)<=(s|0))Gt(9508,9084,94,9547);i=t+8|0;if((o[i>>2]|0)<=0)Gt(9556,9084,95,9547);t=t+16|0;o[c>>2]=o[t>>2];o[r+(s*36|0)+32>>2]=-1;o[t>>2]=s;o[i>>2]=(o[i>>2]|0)+-1;return}e=r+(i*36|0)+24|0;o[((o[e>>2]|0)==(s|0)?e:r+(i*36|0)+28|0)>>2]=n;o[r+(n*36|0)+20>>2]=i;if((s|0)<=-1)Gt(9508,9084,94,9547);if((o[t+12>>2]|0)<=(s|0))Gt(9508,9084,94,9547);n=t+8|0;if((o[n>>2]|0)<=0)Gt(9556,9084,95,9547);e=t+16|0;o[c>>2]=o[e>>2];o[r+(s*36|0)+32>>2]=-1;o[e>>2]=s;o[n>>2]=(o[n>>2]|0)+-1;do{c=dA(t,i)|0;s=o[a>>2]|0;e=o[s+(c*36|0)+24>>2]|0;r=o[s+(c*36|0)+28>>2]|0;l=+u[s+(e*36|0)>>2];h=+u[s+(r*36|0)>>2];_=+u[s+(e*36|0)+4>>2];p=+u[s+(r*36|0)+4>>2];u[s+(c*36|0)>>2]=l<h?l:h;u[s+(c*36|0)+4>>2]=_<p?_:p;p=+u[s+(e*36|0)+8>>2];_=+u[s+(r*36|0)+8>>2];h=+u[s+(e*36|0)+12>>2];l=+u[s+(r*36|0)+12>>2];u[s+(c*36|0)+8>>2]=p>_?p:_;u[s+(c*36|0)+12>>2]=h>l?h:l;s=o[a>>2]|0;e=o[s+(e*36|0)+32>>2]|0;r=o[s+(r*36|0)+32>>2]|0;o[s+(c*36|0)+32>>2]=((e|0)>(r|0)?e:r)+1;i=o[s+(c*36|0)+20>>2]|0}while((i|0)!=-1);return}function bA(t,e,i){t=t|0;e=e|0;i=i|0;var a=0.0,c=0.0,l=0.0,h=0.0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0,M=0.0,R=0.0,I=0.0,O=0,k=0,j=0,B=0,F=0,J=0,G=0,N=0,U=0,W=0,V=0,X=0,z=0,q=0,H=0,Y=0,Z=0,Q=0,K=0,$=0.0,tt=0.0,et=0.0,it=0.0,nt=0.0,rt=0.0,ot=0.0,st=0.0,at=0.0,ct=0.0,ut=0.0,lt=0.0,ht=0,_t=0,pt=0.0,dt=0,ft=0,bt=0,mt=0,gt=0,yt=0,vt=0.0,wt=0.0,xt=0.0,Tt=0.0;yt=d;d=d+144|0;ft=yt;Q=yt+124|0;K=yt+112|0;o[4851]=(o[4851]|0)+1;$=+u[i+56>>2];et=+u[i+60>>2];it=+u[i+64>>2];tt=+u[i+68>>2];nt=+u[i+72>>2];ot=+u[i+76>>2];st=+u[i+80>>2];rt=+u[i+84>>2];_t=e+4|0;p=r[_t>>1]|0;if((p&65535)>=4)Gt(9664,9582,102,9682);f=p&65535;Z=ft+108|0;o[Z>>2]=f;t:do{if(p<<16>>16){v=i+16|0;y=i+48|0;w=i+44|0;m=o[i+20>>2]|0;g=0;while(1){f=s[e+6+g>>0]|0;o[ft+(g*36|0)+28>>2]=f;b=s[e+9+g>>0]|0;o[ft+(g*36|0)+32>>2]=b;if((m|0)<=(f|0)){O=7;break}p=o[v>>2]|0;if((o[y>>2]|0)<=(b|0)){O=9;break}P=+u[p+(f<<3)+4>>2];I=+u[p+(f<<3)>>2];p=o[w>>2]|0;R=+u[p+(b<<3)>>2];E=+u[p+(b<<3)+4>>2];M=$+(I*tt-P*it);I=P*tt+I*it+et;u[ft+(g*36|0)>>2]=M;u[ft+(g*36|0)+4>>2]=I;P=nt+(R*rt-E*st);R=E*rt+R*st+ot;u[ft+(g*36|0)+8>>2]=P;u[ft+(g*36|0)+12>>2]=R;u[ft+(g*36|0)+16>>2]=P-M;u[ft+(g*36|0)+20>>2]=R-I;u[ft+(g*36|0)+24>>2]=0.0;g=g+1|0;p=o[Z>>2]|0;if((g|0)>=(p|0)){x=p;break t}}if((O|0)==7)Gt(9849,9879,103,9921);else if((O|0)==9)Gt(9849,9879,103,9921)}else x=f}while(0);do{if((x|0)<=1)if(!x)O=19;else D=x;else{a=+u[e>>2];switch(x|0){case 2:{I=+u[ft+16>>2]-+u[ft+52>>2];c=+u[ft+20>>2]-+u[ft+56>>2];c=+L(+(I*I+c*c));break}case 3:{c=+u[ft+16>>2];I=+u[ft+20>>2];c=(+u[ft+52>>2]-c)*(+u[ft+92>>2]-I)-(+u[ft+56>>2]-I)*(+u[ft+88>>2]-c);break}default:Gt(13928,9582,260,9654)}if(!(c<a*.5)?!(a*2.0<c|c<1.1920928955078125e-07):0){D=x;break}o[Z>>2]=0;O=19}}while(0);do{if((O|0)==19){o[ft+28>>2]=0;o[ft+32>>2]=0;if((o[i+20>>2]|0)<=0)Gt(9849,9879,103,9921);p=o[i+16>>2]|0;if((o[i+48>>2]|0)>0){P=+u[p+4>>2];I=+u[p>>2];D=o[i+44>>2]|0;R=+u[D>>2];E=+u[D+4>>2];M=$+(I*tt-P*it);I=P*tt+I*it+et;u[ft>>2]=M;u[ft+4>>2]=I;P=nt+(R*rt-E*st);R=E*rt+R*st+ot;u[ft+8>>2]=P;u[ft+12>>2]=R;u[ft+16>>2]=P-M;u[ft+20>>2]=R-I;u[ft+24>>2]=1.0;o[Z>>2]=1;D=1;break}else Gt(9849,9879,103,9921)}}while(0);z=ft+16|0;H=ft+20|0;J=i+16|0;k=i+20|0;G=i+44|0;j=i+48|0;q=ft+52|0;Y=ft+56|0;B=ft+36|0;N=ft+24|0;U=ft+60|0;F=ft+72|0;X=ft+88|0;V=ft+92|0;W=ft+96|0;p=0;t:while(1){x=(D|0)>0;if(x){f=0;do{o[Q+(f<<2)>>2]=o[ft+(f*36|0)+28>>2];o[K+(f<<2)>>2]=o[ft+(f*36|0)+32>>2];f=f+1|0}while((f|0)!=(D|0))}e:do{switch(D|0){case 1:{O=48;break}case 2:{h=+u[z>>2];A=+u[H>>2];S=+u[q>>2];a=+u[Y>>2];c=S-h;l=a-A;T=h*c+A*l;if(T>=-0.0){u[N>>2]=1.0;o[Z>>2]=1;O=48;break e}c=S*c+a*l;if(!(c<=0.0)){l=1.0/(c-T);u[N>>2]=c*l;u[U>>2]=-(T*l);o[Z>>2]=2;l=A;O=49;break e}else{u[U>>2]=1.0;o[Z>>2]=1;f=ft;b=B;m=f+36|0;do{o[f>>2]=o[b>>2];f=f+4|0;b=b+4|0}while((f|0)<(m|0));O=48;break e}}case 3:{h=+u[z>>2];l=+u[H>>2];S=+u[q>>2];a=+u[Y>>2];vt=+u[X>>2];R=+u[V>>2];xt=S-h;M=a-l;E=h*xt+l*M;C=S*xt+a*M;I=vt-h;wt=R-l;A=h*I+l*wt;T=vt*I+R*wt;Tt=vt-S;c=R-a;P=S*Tt+a*c;c=vt*Tt+R*c;I=xt*wt-M*I;M=(S*R-a*vt)*I;R=(l*vt-h*R)*I;I=(h*a-l*S)*I;if(E>=-0.0&A>=-0.0){u[N>>2]=1.0;o[Z>>2]=1;O=48;break e}if(C>0.0&E<-0.0&I<=0.0){Tt=1.0/(C-E);u[N>>2]=C*Tt;u[U>>2]=-(E*Tt);o[Z>>2]=2;O=49;break e}if(T>0.0&A<-0.0&R<=0.0){Tt=1.0/(T-A);u[N>>2]=T*Tt;u[W>>2]=-(A*Tt);o[Z>>2]=2;f=B;b=F;m=f+36|0;do{o[f>>2]=o[b>>2];f=f+4|0;b=b+4|0}while((f|0)<(m|0))}else{if(C<=0.0&P>=-0.0){u[U>>2]=1.0;o[Z>>2]=1;f=ft;b=B;m=f+36|0;do{o[f>>2]=o[b>>2];f=f+4|0;b=b+4|0}while((f|0)<(m|0));O=48;break e}if(T<=0.0&c<=0.0){u[W>>2]=1.0;o[Z>>2]=1;f=ft;b=F;m=f+36|0;do{o[f>>2]=o[b>>2];f=f+4|0;b=b+4|0}while((f|0)<(m|0));O=48;break e}if(!(c>0.0&P<-0.0&M<=0.0)){O=47;break t}Tt=1.0/(c-P);u[U>>2]=c*Tt;u[W>>2]=-(P*Tt);o[Z>>2]=2;f=ft;b=F;m=f+36|0;do{o[f>>2]=o[b>>2];f=f+4|0;b=b+4|0}while((f|0)<(m|0))}h=+u[z>>2];S=+u[q>>2];l=+u[H>>2];a=+u[Y>>2];O=49;break}default:{O=33;break t}}}while(0);do{if((O|0)==48){b=1;a=-+u[z>>2];c=-+u[H>>2]}else if((O|0)==49){c=S-h;a=a-l;if(h*a-c*l>0.0){b=2;a=-a;break}else{b=2;c=-c;break}}}while(0);if(a*a+c*c<1.4210854715202004e-14){O=74;break}T=-a;Tt=-c;h=tt*T+it*Tt;T=tt*Tt-it*T;y=o[J>>2]|0;v=o[k>>2]|0;if((v|0)>1){f=0;S=h*+u[y>>2]+T*+u[y+4>>2];g=1;while(1){l=h*+u[y+(g<<3)>>2]+T*+u[y+(g<<3)+4>>2];m=l>S;f=m?g:f;g=g+1|0;if((g|0)==(v|0))break;else S=m?l:S}m=ft+(b*36|0)+28|0;o[m>>2]=f;if((f|0)<=-1){O=59;break}}else{m=ft+(b*36|0)+28|0;o[m>>2]=0;f=0}if((v|0)<=(f|0)){O=59;break}h=+u[y+(f<<3)>>2];S=+u[y+(f<<3)+4>>2];T=$+(tt*h-it*S);S=h*it+tt*S+et;u[ft+(b*36|0)>>2]=T;u[ft+(b*36|0)+4>>2]=S;h=a*rt+c*st;c=c*rt-a*st;v=o[G>>2]|0;w=o[j>>2]|0;if((w|0)>1){f=0;l=h*+u[v>>2]+c*+u[v+4>>2];y=1;while(1){a=h*+u[v+(y<<3)>>2]+c*+u[v+(y<<3)+4>>2];g=a>l;f=g?y:f;y=y+1|0;if((y|0)==(w|0))break;else l=g?a:l}g=ft+(b*36|0)+32|0;o[g>>2]=f;if((f|0)<=-1){O=66;break}}else{g=ft+(b*36|0)+32|0;o[g>>2]=0;f=0}if((w|0)<=(f|0)){O=66;break}wt=+u[v+(f<<3)>>2];Tt=+u[v+(f<<3)+4>>2];xt=nt+(rt*wt-st*Tt);Tt=wt*st+rt*Tt+ot;u[ft+(b*36|0)+8>>2]=xt;u[ft+(b*36|0)+12>>2]=Tt;u[ft+(b*36|0)+16>>2]=xt-T;u[ft+(b*36|0)+20>>2]=Tt-S;p=p+1|0;o[4852]=(o[4852]|0)+1;if(x){f=o[m>>2]|0;b=0;do{if((f|0)==(o[Q+(b<<2)>>2]|0)?(o[g>>2]|0)==(o[K+(b<<2)>>2]|0):0){O=73;break t}b=b+1|0}while((b|0)<(D|0))}b=(o[Z>>2]|0)+1|0;o[Z>>2]=b;if((p|0)<20)D=b;else{O=74;break}}if((O|0)==33)Gt(13928,9582,498,9626);else if((O|0)==47){Tt=1.0/(I+(M+R));u[N>>2]=M*Tt;u[U>>2]=R*Tt;u[W>>2]=I*Tt;o[Z>>2]=3;f=o[4853]|0;o[4853]=(f|0)>(p|0)?f:p;f=t+8|0;O=78}else if((O|0)==59)Gt(9849,9879,103,9921);else if((O|0)==66)Gt(9849,9879,103,9921);else if((O|0)==73){b=o[Z>>2]|0;O=74}t:do{if((O|0)==74){f=o[4853]|0;o[4853]=(f|0)>(p|0)?f:p;f=t+8|0;switch(b|0){case 3:{O=78;break t}case 0:{Gt(13928,9582,218,9637);break}case 1:{ht=ft;mt=o[ht>>2]|0;ht=o[ht+4>>2]|0;dt=t;o[dt>>2]=mt;o[dt+4>>2]=ht;dt=ft+8|0;bt=o[dt>>2]|0;dt=o[dt+4>>2]|0;gt=f;o[gt>>2]=bt;o[gt+4>>2]=dt;ct=(o[_>>2]=mt,+u[_>>2]);at=(o[_>>2]=bt,+u[_>>2]);lt=(o[_>>2]=ht,+u[_>>2]);ut=(o[_>>2]=dt,+u[_>>2]);dt=1;ht=p;bt=f;mt=t;gt=t+4|0;break t}case 2:{Tt=+u[N>>2];ut=+u[U>>2];ct=Tt*+u[ft>>2]+ut*+u[ft+36>>2];lt=Tt*+u[ft+4>>2]+ut*+u[ft+40>>2];u[t>>2]=ct;gt=t+4|0;u[gt>>2]=lt;at=Tt*+u[ft+8>>2]+ut*+u[ft+44>>2];ut=Tt*+u[ft+12>>2]+ut*+u[ft+48>>2];u[f>>2]=at;u[t+12>>2]=ut;dt=2;ht=p;bt=f;mt=t;break t}default:Gt(13928,9582,237,9637)}}}while(0);if((O|0)==78){ut=+u[N>>2];at=+u[U>>2];ct=+u[W>>2];lt=ut*+u[ft+4>>2]+at*+u[ft+40>>2]+ct*+u[ft+76>>2];u[t>>2]=ut*+u[ft>>2]+at*+u[ft+36>>2]+ct*+u[ft+72>>2];gt=t+4|0;u[gt>>2]=lt;dt=t;ht=o[dt>>2]|0;dt=o[dt+4>>2]|0;bt=f;o[bt>>2]=ht;o[bt+4>>2]=dt;ct=(o[_>>2]=ht,+u[_>>2]);at=ct;ut=(o[_>>2]=dt,+u[_>>2]);dt=3;ht=p;bt=f;mt=t}xt=ct-at;b=t+12|0;Tt=lt-ut;f=t+16|0;u[f>>2]=+L(+(xt*xt+Tt*Tt));o[t+20>>2]=ht;switch(dt&3){case 0:{Gt(13928,9582,247,9654);break}case 1:{pt=0.0;break}case 2:{Tt=+u[z>>2]-+u[q>>2];pt=+u[H>>2]-+u[Y>>2];pt=+L(+(Tt*Tt+pt*pt));break}case 3:{pt=+u[z>>2];Tt=+u[H>>2];pt=(+u[q>>2]-pt)*(+u[V>>2]-Tt)-(+u[Y>>2]-Tt)*(+u[X>>2]-pt);break}default:{}}u[e>>2]=pt;r[_t>>1]=dt;p=0;do{n[e+6+p>>0]=o[ft+(p*36|0)+28>>2];n[e+9+p>>0]=o[ft+(p*36|0)+32>>2];p=p+1|0}while((p|0)<(dt|0));if(!(n[i+88>>0]|0)){d=yt;return}h=+u[i+24>>2];a=+u[i+52>>2];c=+u[f>>2];l=h+a;if(c>l&c>1.1920928955078125e-07){u[f>>2]=c-l;vt=+u[bt>>2];lt=+u[mt>>2];wt=vt-lt;xt=+u[b>>2];pt=+u[gt>>2];ut=xt-pt;Tt=+L(+(wt*wt+ut*ut));i=Tt<1.1920928955078125e-07;Tt=1.0/Tt;wt=i?wt:wt*Tt;Tt=i?ut:ut*Tt;u[mt>>2]=lt+h*wt;u[gt>>2]=pt+h*Tt;u[bt>>2]=vt-a*wt;u[b>>2]=xt-a*Tt;d=yt;return}else{xt=(+u[mt>>2]+ +u[bt>>2])*.5;Tt=(+u[gt>>2]+ +u[b>>2])*.5;u[mt>>2]=xt;u[gt>>2]=Tt;u[bt>>2]=xt;u[b>>2]=Tt;u[f>>2]=0.0;d=yt;return}}function mA(t,e,i,n){t=t|0;e=e|0;i=i|0;n=+n;var r=0,s=0.0,a=0,c=0,l=0,h=0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0,y=0,v=0,w=0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0;b=1.0-n;E=b*+u[t+32>>2]+ +u[t+36>>2]*n;A=+F(+E);E=+B(+E);P=+u[t+8>>2];D=+u[t+12>>2];x=b*+u[t+16>>2]+ +u[t+24>>2]*n-(E*P-A*D);D=b*+u[t+20>>2]+ +u[t+28>>2]*n-(A*P+E*D);P=b*+u[t+68>>2]+ +u[t+72>>2]*n;C=+F(+P);P=+B(+P);m=+u[t+44>>2];S=+u[t+48>>2];T=b*+u[t+52>>2]+ +u[t+60>>2]*n-(P*m-C*S);S=b*+u[t+56>>2]+ +u[t+64>>2]*n-(C*m+P*S);switch(o[t+80>>2]|0){case 0:{v=t+92|0;f=+u[v>>2];w=t+96|0;m=+u[w>>2];n=E*f+A*m;_=E*m-A*f;f=-f;m=-m;d=P*f+C*m;f=P*m-C*f;g=o[t>>2]|0;y=o[g+16>>2]|0;g=g+20|0;a=o[g>>2]|0;if((a|0)>1){r=0;p=n*+u[y>>2]+_*+u[y+4>>2];l=1;while(1){s=n*+u[y+(l<<3)>>2]+_*+u[y+(l<<3)+4>>2];c=s>p;r=c?l:r;l=l+1|0;if((l|0)==(a|0))break;else p=c?s:p}}else r=0;o[e>>2]=r;h=o[t+4>>2]|0;t=o[h+16>>2]|0;h=h+20|0;r=o[h>>2]|0;if((r|0)>1){a=0;s=d*+u[t>>2]+f*+u[t+4>>2];l=1;while(1){n=d*+u[t+(l<<3)>>2]+f*+u[t+(l<<3)+4>>2];c=n>s;a=c?l:a;l=l+1|0;if((l|0)==(r|0))break;else s=c?n:s}}else a=0;o[i>>2]=a;r=o[e>>2]|0;if((r|0)<=-1)Gt(9849,9879,103,9921);if((o[g>>2]|0)<=(r|0))Gt(9849,9879,103,9921);s=+u[y+(r<<3)>>2];n=+u[y+(r<<3)+4>>2];if((a|0)<=-1)Gt(9849,9879,103,9921);if((o[h>>2]|0)<=(a|0))Gt(9849,9879,103,9921);b=+u[t+(a<<3)>>2];m=+u[t+(a<<3)+4>>2];T=+u[v>>2]*(T+(P*b-C*m)-(x+(E*s-A*n)));D=+u[w>>2]*(S+(C*b+P*m)-(D+(A*s+E*n)));D=D+T;return+D}case 1:{d=+u[t+92>>2];b=+u[t+96>>2];m=E*d-A*b;b=A*d+E*b;d=+u[t+84>>2];p=+u[t+88>>2];f=x+(E*d-A*p);p=D+(A*d+E*p);d=-m;D=-b;_=P*d+C*D;d=P*D-C*d;o[e>>2]=-1;h=o[t+4>>2]|0;r=o[h+16>>2]|0;h=h+20|0;a=o[h>>2]|0;if((a|0)>1){c=0;s=_*+u[r>>2]+d*+u[r+4>>2];t=1;while(1){n=_*+u[r+(t<<3)>>2]+d*+u[r+(t<<3)+4>>2];l=n>s;c=l?t:c;t=t+1|0;if((t|0)==(a|0))break;else s=l?n:s}o[i>>2]=c;if((c|0)>-1)g=c;else Gt(9849,9879,103,9921)}else{o[i>>2]=0;g=0}if((o[h>>2]|0)<=(g|0))Gt(9849,9879,103,9921);A=+u[r+(g<<3)>>2];E=+u[r+(g<<3)+4>>2];D=m*(T+(P*A-C*E)-f);P=b*(S+(C*A+P*E)-p);D=P+D;return+D}case 2:{d=+u[t+92>>2];b=+u[t+96>>2];m=P*d-C*b;b=C*d+P*b;d=+u[t+84>>2];p=+u[t+88>>2];f=T+(P*d-C*p);p=S+(C*d+P*p);d=-m;P=-b;_=E*d+A*P;d=E*P-A*d;o[i>>2]=-1;h=o[t>>2]|0;r=o[h+16>>2]|0;h=h+20|0;a=o[h>>2]|0;if((a|0)>1){c=0;s=_*+u[r>>2]+d*+u[r+4>>2];t=1;while(1){n=_*+u[r+(t<<3)>>2]+d*+u[r+(t<<3)+4>>2];l=n>s;c=l?t:c;t=t+1|0;if((t|0)==(a|0))break;else s=l?n:s}o[e>>2]=c;if((c|0)>-1)y=c;else Gt(9849,9879,103,9921)}else{o[e>>2]=0;y=0}if((o[h>>2]|0)<=(y|0))Gt(9849,9879,103,9921);S=+u[r+(y<<3)>>2];C=+u[r+(y<<3)+4>>2];P=m*(x+(E*S-A*C)-f);D=b*(D+(A*S+E*C)-p);D=D+P;return+D}default:Gt(13928,9786,186,9940)}return+0}function gA(t,e,i,n){t=t|0;e=e|0;i=i|0;n=+n;var r=0,s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0;a=1.0-n;p=a*+u[t+32>>2]+ +u[t+36>>2]*n;h=+F(+p);p=+B(+p);d=+u[t+8>>2];m=+u[t+12>>2];f=a*+u[t+16>>2]+ +u[t+24>>2]*n-(p*d-h*m);m=a*+u[t+20>>2]+ +u[t+28>>2]*n-(h*d+p*m);d=a*+u[t+68>>2]+ +u[t+72>>2]*n;_=+F(+d);d=+B(+d);c=+u[t+44>>2];l=+u[t+48>>2];b=a*+u[t+52>>2]+ +u[t+60>>2]*n-(d*c-_*l);l=a*+u[t+56>>2]+ +u[t+64>>2]*n-(_*c+d*l);switch(o[t+80>>2]|0){case 0:{r=o[t>>2]|0;if((e|0)<=-1)Gt(9849,9879,103,9921);if((o[r+20>>2]|0)<=(e|0))Gt(9849,9879,103,9921);r=o[r+16>>2]|0;s=+u[r+(e<<3)>>2];n=+u[r+(e<<3)+4>>2];r=o[t+4>>2]|0;if((i|0)<=-1)Gt(9849,9879,103,9921);if((o[r+20>>2]|0)<=(i|0))Gt(9849,9879,103,9921);e=o[r+16>>2]|0;a=+u[e+(i<<3)>>2];c=+u[e+(i<<3)+4>>2];b=+u[t+92>>2]*(b+(d*a-_*c)-(f+(p*s-h*n)));m=+u[t+96>>2]*(l+(_*a+d*c)-(m+(h*s+p*n)));m=m+b;return+m}case 1:{n=+u[t+92>>2];s=+u[t+96>>2];a=+u[t+84>>2];c=+u[t+88>>2];r=o[t+4>>2]|0;if((i|0)<=-1)Gt(9849,9879,103,9921);if((o[r+20>>2]|0)<=(i|0))Gt(9849,9879,103,9921);t=o[r+16>>2]|0;y=+u[t+(i<<3)>>2];g=+u[t+(i<<3)+4>>2];b=(p*n-h*s)*(b+(d*y-_*g)-(f+(p*a-h*c)));m=(h*n+p*s)*(l+(_*y+d*g)-(m+(h*a+p*c)));m=m+b;return+m}case 2:{n=+u[t+92>>2];s=+u[t+96>>2];a=+u[t+84>>2];c=+u[t+88>>2];r=o[t>>2]|0;if((e|0)<=-1)Gt(9849,9879,103,9921);if((o[r+20>>2]|0)<=(e|0))Gt(9849,9879,103,9921);t=o[r+16>>2]|0;v=+u[t+(e<<3)>>2];g=+u[t+(e<<3)+4>>2];y=(d*n-_*s)*(f+(p*v-h*g)-(b+(d*a-_*c)));g=(_*n+d*s)*(m+(h*v+p*g)-(l+(_*a+d*c)));y=g+y;return+y}default:Gt(13928,9786,239,9931)}return+0}function yA(t,e){t=t|0;e=e|0;var i=0,n=0,s=0,c=0,l=0,h=0,p=0,f=0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0;f=d;d=d+16|0;s=f;c=t+88|0;if(o[(o[c>>2]|0)+102868>>2]&2|0)Gt(10646,10401,115,10675);if((o[t>>2]|0)==(e|0)){d=f;return}o[t>>2]=e;vA(t);if((o[t>>2]|0)==0?(u[t+64>>2]=0.0,u[t+68>>2]=0.0,u[t+72>>2]=0.0,p=o[t+56>>2]|0,o[t+52>>2]=p,n=t+44|0,i=o[n>>2]|0,n=o[n+4>>2]|0,h=t+36|0,o[h>>2]=i,o[h+4>>2]=n,g=(o[_>>2]=p,+u[_>>2]),v=+F(+g),u[s+8>>2]=v,g=+B(+g),u[s+12>>2]=g,y=+u[t+28>>2],b=+u[t+32>>2],m=(o[_>>2]=i,+u[_>>2])-(g*y-v*b),b=(o[_>>2]=n,+u[_>>2])-(v*y+g*b),u[s>>2]=m,u[s+4>>2]=b,n=(o[c>>2]|0)+102872|0,i=o[t+100>>2]|0,i|0):0){e=t+12|0;do{wA(i,n,s,e);i=o[i+4>>2]|0}while((i|0)!=0)}e=t+4|0;i=a[e>>1]|0;if(!(i&2)){r[e>>1]=i|2;u[t+144>>2]=0.0}u[t+76>>2]=0.0;u[t+80>>2]=0.0;u[t+84>>2]=0.0;n=t+112|0;e=o[n>>2]|0;i=o[c>>2]|0;if(e)do{p=e;e=o[e+12>>2]|0;xA(i+102872|0,o[p+4>>2]|0);i=o[c>>2]|0}while((e|0)!=0);o[n>>2]=0;e=o[t+100>>2]|0;if(!e){d=f;return}p=i+102912|0;h=i+102908|0;l=i+102904|0;do{n=o[e+28>>2]|0;if((n|0)>0){t=e+24|0;i=o[p>>2]|0;c=0;do{s=o[(o[t>>2]|0)+(c*28|0)+24>>2]|0;if((i|0)==(o[h>>2]|0)){w=o[l>>2]|0;o[h>>2]=i<<1;i=eE(i<<3)|0;o[l>>2]=i;qE(i|0,w|0,o[p>>2]<<2|0)|0;iE(w);i=o[p>>2]|0}o[(o[l>>2]|0)+(i<<2)>>2]=s;i=(o[p>>2]|0)+1|0;o[p>>2]=i;c=c+1|0}while((c|0)!=(n|0))}e=o[e+4>>2]|0}while((e|0)!=0);d=f;return}function vA(t){t=t|0;var e=0.0,i=0.0,n=0.0,s=0.0,a=0.0,c=0.0,l=0,h=0.0,_=0.0,p=0.0,f=0.0,b=0.0,m=0,g=0,y=0,v=0,w=0,x=0,T=0.0,S=0.0,A=0.0,C=0,E=0,P=0,D=0,M=0,R=0,I=0;R=d;d=d+16|0;g=R;x=t+116|0;w=t+120|0;C=t+124|0;E=t+128|0;P=t+28|0;u[P>>2]=0.0;D=t+32|0;u[D>>2]=0.0;o[x>>2]=0;o[x+4>>2]=0;o[x+8>>2]=0;o[x+12>>2]=0;switch(o[t>>2]|0){case 1:case 0:{D=t+12|0;P=o[D>>2]|0;D=o[D+4>>2]|0;M=t+36|0;o[M>>2]=P;o[M+4>>2]=D;M=t+44|0;o[M>>2]=P;o[M+4>>2]=D;o[t+52>>2]=o[t+56>>2];d=R;return}case 2:{l=o[t+100>>2]|0;if(l){y=g+4|0;v=g+8|0;m=g+12|0;b=0.0;h=0.0;e=0.0;n=0.0;i=0.0;a=0.0;p=0.0;s=0.0;f=0.0;_=0.0;while(1){c=+u[l>>2];if(c==0.0)c=b;else{I=o[l+12>>2]|0;Gk[o[(o[I>>2]|0)+28>>2]&63](I,g,c);e=+u[g>>2];n=e+ +u[x>>2];u[x>>2]=n;c=b+e*+u[y>>2];h=h+e*+u[v>>2];e=+u[m>>2]+ +u[C>>2];u[C>>2]=e;_=c;p=h;i=h;a=h;s=c;f=c}l=o[l+4>>2]|0;if(!l)break;else b=c}if(n>0.0){i=1.0/n;u[w>>2]=i;s=_*i;i=p*i;c=s;a=i}else{n=f;M=11}}else{i=0.0;a=0.0;s=0.0;n=0.0;e=0.0;M=11}if((M|0)==11){u[x>>2]=1.0;u[w>>2]=1.0;c=n;n=1.0}do{if(e>0.0?(r[t+4>>1]&16)==0:0){e=e-(c*c+a*a)*n;u[C>>2]=e;if(e>0.0){T=c;S=a;A=1.0/e;break}else Gt(10838,10401,334,10824)}else M=17}while(0);if((M|0)==17){u[C>>2]=0.0;T=s;S=i;A=0.0}u[E>>2]=A;M=t+44|0;A=+u[M>>2];I=t+48|0;f=+u[I>>2];u[P>>2]=s;u[D>>2]=i;p=+u[t+24>>2];_=+u[t+20>>2];b=+u[t+12>>2]+(T*p-_*S);T=T*_+p*S+ +u[t+16>>2];u[M>>2]=b;u[I>>2]=T;u[t+36>>2]=b;u[t+40>>2]=T;S=+u[t+72>>2];I=t+64|0;u[I>>2]=+u[I>>2]-S*(T-f);I=t+68|0;u[I>>2]=S*(b-A)+ +u[I>>2];d=R;return}default:Gt(10799,10401,299,10824)}}function wA(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0,s=0,a=0,c=0,l=0.0,h=0.0,_=0.0,p=0.0,f=0.0,b=0.0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,I=0,O=0,k=0,L=0,j=0,B=0,F=0,J=0,G=0,N=0;N=d;d=d+64|0;L=N+8|0;F=N+52|0;j=N;B=N+48|0;O=N+32|0;k=N+16|0;G=t+28|0;if((o[G>>2]|0)<=0){d=N;return}J=t+24|0;S=t+12|0;P=O+4|0;R=k+4|0;A=O+8|0;C=k+8|0;D=O+12|0;I=k+12|0;E=n+4|0;M=i+4|0;x=e+12|0;T=e+4|0;w=e+40|0;v=e+36|0;y=e+32|0;g=0;while(1){m=o[J>>2]|0;r=o[S>>2]|0;s=m+(g*28|0)+20|0;Vk[o[(o[r>>2]|0)+24>>2]&63](r,O,i,o[s>>2]|0);r=o[S>>2]|0;Vk[o[(o[r>>2]|0)+24>>2]&63](r,k,n,o[s>>2]|0);f=+u[O>>2];l=+u[k>>2];l=f<l?f:l;f=+u[P>>2];_=+u[R>>2];_=f<_?f:_;s=m+(g*28|0)|0;u[s>>2]=l;r=m+(g*28|0)+4|0;u[r>>2]=_;f=+u[A>>2];h=+u[C>>2];h=f>h?f:h;f=+u[D>>2];p=+u[I>>2];p=f>p?f:p;a=m+(g*28|0)+8|0;u[a>>2]=h;t=m+(g*28|0)+12|0;u[t>>2]=p;f=+u[n>>2]-+u[i>>2];b=+u[E>>2]-+u[M>>2];m=o[m+(g*28|0)+24>>2]|0;if((m|0)<=-1){t=5;break}if((o[x>>2]|0)<=(m|0)){t=5;break}c=o[T>>2]|0;if((o[c+(m*36|0)+24>>2]|0)!=-1){t=7;break}if(!(((+u[c+(m*36|0)>>2]<=l?+u[c+(m*36|0)+4>>2]<=_:0)?h<=+u[c+(m*36|0)+8>>2]:0)?p<=+u[c+(m*36|0)+12>>2]:0)){fA(e,m);_=+u[a>>2];p=+u[t>>2];h=+u[r>>2]+-.10000000149011612;u[L>>2]=+u[s>>2]+-.10000000149011612;u[F>>2]=h;u[j>>2]=_+.10000000149011612;u[B>>2]=p+.10000000149011612;f=f*2.0;b=b*2.0;t=f<0.0?L:j;u[t>>2]=f+ +u[t>>2];t=b<0.0?F:B;u[t>>2]=b+ +u[t>>2];t=o[T>>2]|0;o[t+(m*36|0)>>2]=o[L>>2];o[t+(m*36|0)+4>>2]=o[F>>2];o[t+(m*36|0)+8>>2]=o[j>>2];o[t+(m*36|0)+12>>2]=o[B>>2];pA(e,m);t=o[w>>2]|0;if((t|0)==(o[v>>2]|0)){c=o[y>>2]|0;o[v>>2]=t<<1;t=eE(t<<3)|0;o[y>>2]=t;qE(t|0,c|0,o[w>>2]<<2|0)|0;iE(c);t=o[w>>2]|0}o[(o[y>>2]|0)+(t<<2)>>2]=m;o[w>>2]=(o[w>>2]|0)+1}g=g+1|0;if((g|0)>=(o[G>>2]|0)){t=16;break}}if((t|0)==5)Gt(14731,9084,132,9572);else if((t|0)==7)Gt(9482,9084,134,9572);else if((t|0)==16){d=N;return}}function xA(t,e){t=t|0;e=e|0;var i=0,s=0,c=0,l=0,h=0,_=0,p=0,d=0;p=e+48|0;d=e+52|0;l=o[(o[p>>2]|0)+8>>2]|0;h=o[(o[d>>2]|0)+8>>2]|0;i=o[t+72>>2]|0;if(i|0?o[e+4>>2]&2|0:0)kk[o[(o[i>>2]|0)+12>>2]&127](i,e);s=o[e+8>>2]|0;i=e+12|0;if(s|0)o[s+12>>2]=o[i>>2];c=o[i>>2]|0;if(c|0)o[c+8>>2]=s;i=t+60|0;if((o[i>>2]|0)==(e|0))o[i>>2]=c;s=o[e+24>>2]|0;i=e+28|0;if(s|0)o[s+12>>2]=o[i>>2];c=o[i>>2]|0;if(c|0)o[c+8>>2]=s;i=l+112|0;if((e+16|0)==(o[i>>2]|0))o[i>>2]=c;s=o[e+40>>2]|0;i=e+44|0;if(s|0)o[s+12>>2]=o[i>>2];c=o[i>>2]|0;if(c|0)o[c+8>>2]=s;i=h+112|0;if((e+32|0)==(o[i>>2]|0))o[i>>2]=c;_=o[t+76>>2]|0;if(!(n[20846]|0))Gt(10683,10705,103,13934);l=o[p>>2]|0;h=o[d>>2]|0;if(((o[e+124>>2]|0)>0?(n[l+38>>0]|0)==0:0)?(n[h+38>>0]|0)==0:0){i=o[l+8>>2]|0;c=i+4|0;s=a[c>>1]|0;if(!(s&2)){r[c>>1]=s|2;u[i+144>>2]=0.0}i=o[h+8>>2]|0;c=i+4|0;s=a[c>>1]|0;if(!(s&2)){r[c>>1]=s|2;u[i+144>>2]=0.0}}s=o[(o[l+12>>2]|0)+4>>2]|0;i=o[(o[h+12>>2]|0)+4>>2]|0;if((s|0)>-1&(i|0)<4){kk[o[19436+(s*48|0)+(i*12|0)+4>>2]&127](e,_);t=t+64|0;o[t>>2]=(o[t>>2]|0)+-1;return}else Gt(10756,10705,119,13934)}function TA(t,e){t=t|0;e=e|0;var i=0,s=0.0,a=0,c=0,l=0,h=0,p=0,d=0,f=0,b=0;f=t+88|0;i=o[f>>2]|0;if(o[i+102868>>2]&2|0)Gt(10646,10401,168,10849);h=Fx(i,44)|0;c=h+32|0;r[c>>1]=1;r[h+34>>1]=-1;r[h+36>>1]=0;a=h+24|0;o[a>>2]=0;l=h+28|0;o[l>>2]=0;o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;o[h+40>>2]=o[e+4>>2];o[h+16>>2]=o[e+8>>2];o[h+20>>2]=o[e+12>>2];p=h+8|0;o[p>>2]=t;d=h+4|0;o[d>>2]=0;b=e+22|0;r[c>>1]=r[b>>1]|0;r[c+2>>1]=r[b+2>>1]|0;r[c+4>>1]=r[b+4>>1]|0;n[h+38>>0]=n[e+20>>0]|0;c=o[e>>2]|0;c=Uk[o[(o[c>>2]|0)+8>>2]&63](c,i)|0;o[h+12>>2]=c;c=jk[o[(o[c>>2]|0)+12>>2]&63](c)|0;i=Fx(i,c*28|0)|0;o[a>>2]=i;if((c|0)>0){a=0;do{o[i+(a*28|0)+16>>2]=0;o[i+(a*28|0)+24>>2]=-1;a=a+1|0}while((a|0)!=(c|0))}o[l>>2]=0;i=o[e+16>>2]|0;o[h>>2]=i;if(!(r[t+4>>1]&32))s=(o[_>>2]=i,+u[_>>2]);else{SA(h,(o[f>>2]|0)+102872|0,t+12|0);s=+u[h>>2]}b=t+100|0;o[d>>2]=o[b>>2];o[b>>2]=h;b=t+104|0;o[b>>2]=(o[b>>2]|0)+1;o[p>>2]=t;if(!(s>0.0)){b=o[f>>2]|0;b=b+102868|0;t=o[b>>2]|0;t=t|1;o[b>>2]=t;return h|0}vA(t);b=o[f>>2]|0;b=b+102868|0;t=o[b>>2]|0;t=t|1;o[b>>2]=t;return h|0}function SA(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,h=0,_=0,p=0,d=0,f=0,b=0,m=0,g=0.0;d=t+28|0;if(o[d>>2]|0)Gt(10863,10881,124,10923);b=t+12|0;f=o[b>>2]|0;f=jk[o[(o[f>>2]|0)+12>>2]&63](f)|0;o[d>>2]=f;if((f|0)<=0)return;p=t+24|0;_=e+4|0;f=e+28|0;h=e+40|0;l=e+36|0;c=e+32|0;a=0;do{r=o[p>>2]|0;m=r+(a*28|0)|0;s=o[b>>2]|0;Vk[o[(o[s>>2]|0)+24>>2]&63](s,m,i,a);s=_A(e)|0;g=+u[r+(a*28|0)+4>>2]+-.10000000149011612;n=o[_>>2]|0;u[n+(s*36|0)>>2]=+u[m>>2]+-.10000000149011612;u[n+(s*36|0)+4>>2]=g;g=+u[r+(a*28|0)+12>>2]+.10000000149011612;n=o[_>>2]|0;u[n+(s*36|0)+8>>2]=+u[r+(a*28|0)+8>>2]+.10000000149011612;u[n+(s*36|0)+12>>2]=g;n=o[_>>2]|0;o[n+(s*36|0)+16>>2]=m;o[n+(s*36|0)+32>>2]=0;pA(e,s);o[f>>2]=(o[f>>2]|0)+1;n=o[h>>2]|0;if((n|0)==(o[l>>2]|0)){m=o[c>>2]|0;o[l>>2]=n<<1;n=eE(n<<3)|0;o[c>>2]=n;qE(n|0,m|0,o[h>>2]<<2|0)|0;iE(m);n=o[h>>2]|0}o[(o[c>>2]|0)+(n<<2)>>2]=s;o[h>>2]=(o[h>>2]|0)+1;o[r+(a*28|0)+24>>2]=s;o[r+(a*28|0)+16>>2]=t;o[r+(a*28|0)+20>>2]=a;a=a+1|0}while((a|0)<(o[d>>2]|0));return}function AA(t,e){t=t|0;e=e|0;var i=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0;l=t+88|0;if(o[(o[l>>2]|0)+102868>>2]&2|0)Gt(10646,10401,216,10937);h=e+8|0;if((o[h>>2]|0)!=(t|0))Gt(10952,10401,222,10937);_=t+104|0;if((o[_>>2]|0)<=0)Gt(10976,10401,225,10937);s=t+100|0;i=o[s>>2]|0;if(!i)Gt(10995,10401,241,10937);else{a=i;u=s}while(1){i=a+4|0;if((a|0)==(e|0))break;a=o[i>>2]|0;if(!a){c=11;break}else u=i}if((c|0)==11)Gt(10995,10401,241,10937);a=e+4|0;o[u>>2]=o[a>>2];i=o[t+112>>2]|0;if(i|0)do{s=o[i+4>>2]|0;i=o[i+12>>2]|0;if((o[s+48>>2]|0)==(e|0)?1:(o[s+52>>2]|0)==(e|0))xA((o[l>>2]|0)+102872|0,s)}while((i|0)!=0);s=o[l>>2]|0;if(r[t+4>>1]&32)CA(e,s+102872|0);EA(e,s);o[h>>2]=0;o[a>>2]=0;i=n[20248]|0;if((i&255)<14){h=s+12+((i&255)<<2)|0;o[e>>2]=o[h>>2];o[h>>2]=e;o[_>>2]=(o[_>>2]|0)+-1;vA(t);return}else Gt(6496,6449,171,10356)}function CA(t,e){t=t|0;e=e|0;var i=0,n=0,r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,d=0,f=0,b=0,m=0;m=t+28|0;if((o[m>>2]|0)<=0){o[m>>2]=0;return}d=t+24|0;l=e+40|0;u=e+32|0;f=e+28|0;h=e+12|0;p=e+4|0;_=e+8|0;c=e+16|0;a=0;while(1){b=(o[d>>2]|0)+(a*28|0)+24|0;r=o[b>>2]|0;t=o[l>>2]|0;if((t|0)>0){s=o[u>>2]|0;n=0;do{i=s+(n<<2)|0;if((o[i>>2]|0)==(r|0)){o[i>>2]=-1;t=o[l>>2]|0}n=n+1|0}while((n|0)<(t|0))}o[f>>2]=(o[f>>2]|0)+-1;if((r|0)<=-1){t=11;break}if((o[h>>2]|0)<=(r|0)){t=11;break}if((o[(o[p>>2]|0)+(r*36|0)+24>>2]|0)!=-1){t=13;break}fA(e,r);if((o[h>>2]|0)<=(r|0)){t=15;break}if((o[_>>2]|0)<=0){t=17;break}s=o[p>>2]|0;o[s+(r*36|0)+20>>2]=o[c>>2];o[s+(r*36|0)+32>>2]=-1;o[c>>2]=r;o[_>>2]=(o[_>>2]|0)+-1;o[b>>2]=-1;a=a+1|0;if((a|0)>=(o[m>>2]|0)){t=3;break}}if((t|0)==3){o[m>>2]=0;return}else if((t|0)==11)Gt(14731,9084,123,9469);else if((t|0)==13)Gt(9482,9084,124,9469);else if((t|0)==15)Gt(9508,9084,94,9547);else if((t|0)==17)Gt(9556,9084,95,9547)}function EA(t,e){t=t|0;e=e|0;var i=0,r=0,s=0,a=0,c=0;if(o[t+28>>2]|0)Gt(10863,10881,72,13934);a=t+12|0;c=o[a>>2]|0;c=jk[o[(o[c>>2]|0)+12>>2]&63](c)|0;r=t+24|0;i=o[r>>2]|0;t=c*28|0;do{if(t|0){if((t|0)<=0)Gt(6440,6449,162,10356);if((t|0)>640){iE(i);break}t=n[20204+t>>0]|0;if((t&255)<14){c=e+12+((t&255)<<2)|0;o[i>>2]=o[c>>2];o[c>>2]=i;break}else Gt(6496,6449,171,10356)}}while(0);o[r>>2]=0;i=o[a>>2]|0;switch(o[i+4>>2]|0){case 0:{Ik[o[o[i>>2]>>2]&127](i);t=n[20224]|0;if((t&255)<14)s=t;else Gt(6496,6449,171,10356);break}case 1:{Ik[o[o[i>>2]>>2]&127](i);t=n[20252]|0;if((t&255)<14)s=t;else Gt(6496,6449,171,10356);break}case 2:{Ik[o[o[i>>2]>>2]&127](i);t=n[20356]|0;if((t&255)<14)s=t;else Gt(6496,6449,171,10356);break}case 3:{Ik[o[o[i>>2]>>2]&127](i);t=n[20244]|0;if((t&255)<14)s=t;else Gt(6496,6449,171,10356);break}default:Gt(13928,10881,115,13934)}c=e+12+((s&255)<<2)|0;o[i>>2]=o[c>>2];o[c>>2]=i;o[a>>2]=0;return}function PA(t,e){t=t|0;e=e|0;var i=0.0,n=0.0,s=0,a=0,c=0.0,l=0.0,h=0.0,p=0.0,d=0.0,f=0,b=0;if(o[(o[t+88>>2]|0)+102868>>2]&2|0)Gt(10646,10401,355,11001);if((o[t>>2]|0)!=2)return;s=t+124|0;u[s>>2]=0.0;a=t+128|0;u[a>>2]=0.0;n=+u[e>>2];n=!(n<=0.0)?n:1.0;u[t+116>>2]=n;u[t+120>>2]=1.0/n;i=+u[e+12>>2];do{if(i>0.0?(r[t+4>>1]&16)==0:0){l=+u[e+4>>2];c=+u[e+8>>2];i=i-n*(l*l+c*c);u[s>>2]=i;if(i>0.0){u[a>>2]=1.0/i;break}else Gt(10838,10401,381,11001)}}while(0);s=t+44|0;l=+u[s>>2];a=t+48|0;i=+u[a>>2];e=e+4|0;f=o[e>>2]|0;e=o[e+4>>2]|0;b=t+28|0;o[b>>2]=f;o[b+4>>2]=e;n=+u[t+24>>2];d=(o[_>>2]=f,+u[_>>2]);p=+u[t+20>>2];h=(o[_>>2]=e,+u[_>>2]);c=+u[t+12>>2]+(n*d-p*h);h=d*p+n*h+ +u[t+16>>2];u[s>>2]=c;u[a>>2]=h;u[t+36>>2]=c;u[t+40>>2]=h;n=+u[t+72>>2];e=t+64|0;u[e>>2]=+u[e>>2]-n*(h-i);t=t+68|0;u[t>>2]=n*(c-l)+ +u[t>>2];return}function DA(t,e,i){t=t|0;e=e|0;i=+i;var n=0,r=0,s=0,a=0,c=0.0,l=0.0,h=0.0,p=0.0,d=0.0;n=o[t+88>>2]|0;if(o[n+102868>>2]&2|0)Gt(10646,10401,419,11013);r=t+12|0;p=+F(+i);u[t+20>>2]=p;h=+B(+i);u[t+24>>2]=h;a=e;s=o[a>>2]|0;a=o[a+4>>2]|0;e=r;o[e>>2]=s;o[e+4>>2]=a;d=+u[t+28>>2];c=+u[t+32>>2];l=(o[_>>2]=s,+u[_>>2])+(h*d-p*c);c=d*p+h*c+(o[_>>2]=a,+u[_>>2]);a=t+44|0;u[a>>2]=l;u[t+48>>2]=c;u[t+56>>2]=i;s=o[a+4>>2]|0;e=t+36|0;o[e>>2]=o[a>>2];o[e+4>>2]=s;u[t+52>>2]=i;e=n+102872|0;n=o[t+100>>2]|0;if(!n)return;do{wA(n,e,r,r);n=o[n+4>>2]|0}while((n|0)!=0);return}function MA(t,e){t=t|0;e=e|0;var i=0,n=0,s=0,a=0,c=0;c=t+88|0;s=o[c>>2]|0;if(o[s+102868>>2]&2|0)Gt(10646,10401,456,11026);a=t+4|0;i=r[a>>1]|0;if(!((i&32)!=0^e))return;n=i&65535;i=o[t+100>>2]|0;if(e){r[a>>1]=n|32;s=s+102872|0;if(!i)return;n=t+12|0;do{SA(i,s,n);i=o[i+4>>2]|0}while((i|0)!=0);return}r[a>>1]=n&65503;n=s+102872|0;if(i|0)do{CA(i,n);i=o[i+4>>2]|0}while((i|0)!=0);n=t+112|0;i=o[n>>2]|0;if(i|0)do{t=i;i=o[i+12>>2]|0;xA((o[c>>2]|0)+102872|0,o[t+4>>2]|0)}while((i|0)!=0);o[n>>2]=0;return}function RA(t){t=t|0;var e=0,i=0,n=0,s=0,a=0,c=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0.0,S=0,A=0,C=0;a=d;d=d+176|0;s=a+168|0;n=a+160|0;i=a+152|0;c=a+136|0;_=a+128|0;p=a+120|0;b=a+112|0;m=a+104|0;g=a+96|0;y=a+88|0;f=a+80|0;v=a+72|0;w=a+64|0;x=a+48|0;S=a+40|0;A=a+24|0;C=a+16|0;h=t+8|0;e=o[h>>2]|0;wx(15077,a);wx(11036,a+8|0);o[C>>2]=o[t>>2];wx(11053,C);T=+u[t+16>>2];l[A>>3]=+u[t+12>>2];l[A+8>>3]=T;wx(11082,A);l[S>>3]=+u[t+56>>2];wx(11120,S);T=+u[t+68>>2];l[x>>3]=+u[t+64>>2];l[x+8>>3]=T;wx(11143,x);l[w>>3]=+u[t+72>>2];wx(11187,w);l[v>>3]=+u[t+132>>2];wx(11220,v);l[f>>3]=+u[t+136>>2];wx(11251,f);f=t+4|0;o[y>>2]=r[f>>1]&4;wx(11283,y);o[g>>2]=r[f>>1]&2;wx(11312,g);o[m>>2]=r[f>>1]&16;wx(11336,m);o[b>>2]=r[f>>1]&8;wx(11368,b);o[p>>2]=r[f>>1]&32;wx(11393,p);l[_>>3]=+u[t+140>>2];wx(11418,_);o[c>>2]=o[h>>2];wx(11448,c);wx(12458,a+144|0);t=o[t+100>>2]|0;if(!t){wx(15080,i);d=a;return}do{wx(11490,n);IA(t,e);wx(11495,s);t=o[t+4>>2]|0}while((t|0)!=0);wx(15080,i);d=a;return}function IA(t,e){t=t|0;e=e|0;var i=0,n=0,c=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,I=0,O=0,k=0,L=0,j=0,B=0,F=0,J=0,G=0,N=0.0,U=0.0;k=d;d=d+368|0;R=k+360|0;M=k+352|0;O=k+344|0;I=k+336|0;x=k+312|0;P=k+304|0;E=k+296|0;C=k+280|0;A=k+264|0;S=k+256|0;v=k+248|0;y=k+240|0;w=k+216|0;T=k+208|0;g=k+200|0;m=k+184|0;b=k+176|0;f=k+160|0;p=k+144|0;_=k+128|0;h=k+112|0;c=k+104|0;n=k+80|0;i=k+72|0;D=k+56|0;L=k+48|0;j=k+40|0;B=k+32|0;F=k+24|0;J=k+16|0;G=k+8|0;wx(11500,k);l[G>>3]=+u[t+16>>2];wx(11522,G);l[J>>3]=+u[t+20>>2];wx(11550,J);l[F>>3]=+u[t>>2];wx(11581,F);o[B>>2]=s[t+38>>0];wx(11608,B);o[j>>2]=a[t+32>>1];wx(11637,j);o[L>>2]=a[t+34>>1];wx(11679,L);o[D>>2]=r[t+36>>1];wx(11717,D);D=o[t+12>>2]|0;switch(o[D+4>>2]|0){case 0:{wx(11756,k+64|0);l[i>>3]=+u[D+8>>2];wx(11782,i);N=+u[D+16>>2];l[n>>3]=+u[D+12>>2];l[n+8>>3]=N;wx(11813,n);break}case 1:{wx(11851,k+96|0);l[c>>3]=+u[D+8>>2];wx(11782,c);G=D+28|0;N=+u[G+4>>2];l[h>>3]=+u[G>>2];l[h+8>>3]=N;wx(11875,h);N=+u[D+16>>2];l[_>>3]=+u[D+12>>2];l[_+8>>3]=N;wx(11919,_);G=D+20|0;N=+u[G+4>>2];l[p>>3]=+u[G>>2];l[p+8>>3]=N;wx(11963,p);N=+u[D+40>>2];l[f>>3]=+u[D+36>>2];l[f+8>>3]=N;wx(12007,f);o[b>>2]=s[D+44>>0];wx(12051,b);o[m>>2]=s[D+45>>0];wx(12087,m);break}case 2:{wx(12123,k+192|0);o[g>>2]=8;wx(12150,g);c=D+148|0;t=o[c>>2]|0;if((t|0)>0){n=D+20|0;i=0;do{U=+u[n+(i<<3)>>2];N=+u[n+(i<<3)+4>>2];o[w>>2]=i;l[w+8>>3]=U;l[w+16>>3]=N;wx(12194,w);i=i+1|0;t=o[c>>2]|0}while((i|0)<(t|0))}o[T>>2]=t;wx(12170,T);break}case 3:{wx(12229,y);c=D+16|0;o[v>>2]=o[c>>2];wx(12150,v);t=o[c>>2]|0;if((t|0)>0){n=D+12|0;i=0;do{t=o[n>>2]|0;N=+u[t+(i<<3)>>2];U=+u[t+(i<<3)+4>>2];o[x>>2]=i;l[x+8>>3]=N;l[x+16>>3]=U;wx(12194,x);i=i+1|0;t=o[c>>2]|0}while((i|0)<(t|0))}o[S>>2]=t;wx(12254,S);G=D+20|0;U=+u[G+4>>2];l[A>>3]=+u[G>>2];l[A+8>>3]=U;wx(12286,A);G=D+28|0;U=+u[G+4>>2];l[C>>3]=+u[G>>2];l[C+8>>3]=U;wx(12333,C);o[E>>2]=s[D+36>>0];wx(12380,E);o[P>>2]=s[D+37>>0];wx(12419,P);break}default:{d=k;return}}wx(12458,I);wx(12460,O);wx(12458,M);o[R>>2]=e;wx(12484,R);d=k;return}function OA(t,e){t=t|0;e=e|0;var i=0,s=0,c=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,I=0,O=0;R=d;d=d+208|0;A=R;S=R+184|0;C=R+160|0;M=R+96|0;l=t+64|0;i=M;s=l;c=i+64|0;do{o[i>>2]=o[s>>2];i=i+4|0;s=s+4|0}while((i|0)<(c|0));E=t+4|0;b=o[E>>2]|0;o[E>>2]=b|4;b=b&2;D=(b|0)==0;i=o[t+48>>2]|0;s=o[t+52>>2]|0;P=(n[s+38>>0]|n[i+38>>0])<<24>>24!=0;m=o[i+8>>2]|0;x=o[s+8>>2]|0;y=m+12|0;v=x+12|0;if(!P){Vk[o[o[t>>2]>>2]&63](t,l,y,v);f=t+124|0;c=(o[f>>2]|0)>0;t:do{if(c){s=o[M+60>>2]|0;if((s|0)>0)l=0;else{i=0;while(1){u[t+64+(i*20|0)+8>>2]=0.0;u[t+64+(i*20|0)+12>>2]=0.0;i=i+1|0;if((i|0)>=(o[f>>2]|0))break t}}do{_=t+64+(l*20|0)+8|0;u[_>>2]=0.0;p=t+64+(l*20|0)+12|0;u[p>>2]=0.0;h=o[t+64+(l*20|0)+16>>2]|0;i=0;do{if((o[M+(i*20|0)+16>>2]|0)==(h|0)){g=26;break}i=i+1|0}while((i|0)<(s|0));if((g|0)==26){g=0;o[_>>2]=o[M+(i*20|0)+8>>2];o[p>>2]=o[M+(i*20|0)+12>>2]}l=l+1|0}while((l|0)<(o[f>>2]|0))}}while(0);if((c&1|0)!=(b>>>1|0)){s=m+4|0;i=a[s>>1]|0;if(!(i&2)){r[s>>1]=i|2;u[m+144>>2]=0.0}s=x+4|0;i=a[s>>1]|0;if(!(i&2)){r[s>>1]=i|2;u[x+144>>2]=0.0}}}else{_=o[i+12>>2]|0;p=o[s+12>>2]|0;i=o[t+56>>2]|0;f=o[t+60>>2]|0;h=A+16|0;o[h>>2]=0;c=A+20|0;o[c>>2]=0;l=A+24|0;u[l>>2]=0.0;g=A+44|0;o[g>>2]=0;b=A+48|0;o[b>>2]=0;m=A+52|0;u[m>>2]=0.0;t:do{switch(o[_+4>>2]|0){case 0:{o[h>>2]=_+12;w=1;break}case 2:{o[h>>2]=_+20;w=o[_+148>>2]|0;break}case 3:{if((i|0)<=-1)Gt(9692,9582,53,10061);s=o[_+16>>2]|0;if((s|0)>(i|0)){x=o[_+12>>2]|0;O=x+(i<<3)|0;I=o[O+4>>2]|0;w=A;o[w>>2]=o[O>>2];o[w+4>>2]=I;w=i+1|0;s=(w|0)<(s|0)?x+(w<<3)|0:x;x=o[s+4>>2]|0;w=A+8|0;o[w>>2]=o[s>>2];o[w+4>>2]=x;o[h>>2]=A;w=2;break t}else Gt(9692,9582,53,10061);break}case 1:{o[h>>2]=_+12;w=2;break}default:Gt(13928,9582,81,10061)}}while(0);o[c>>2]=w;o[l>>2]=o[_+8>>2];s=A+28|0;t:do{switch(o[p+4>>2]|0){case 0:{o[g>>2]=p+12;T=1;break}case 2:{o[g>>2]=p+20;T=o[p+148>>2]|0;break}case 3:{if((f|0)<=-1)Gt(9692,9582,53,10061);i=p+16|0;if((o[i>>2]|0)>(f|0)){I=p+12|0;x=(o[I>>2]|0)+(f<<3)|0;T=o[x+4>>2]|0;O=s;o[O>>2]=o[x>>2];o[O+4>>2]=T;O=f+1|0;I=o[I>>2]|0;I=(O|0)<(o[i>>2]|0)?I+(O<<3)|0:I;O=o[I+4>>2]|0;T=A+36|0;o[T>>2]=o[I>>2];o[T+4>>2]=O;o[g>>2]=s;T=2;break t}else Gt(9692,9582,53,10061);break}case 1:{o[g>>2]=p+12;T=2;break}default:Gt(13928,9582,81,10061)}}while(0);o[b>>2]=T;o[m>>2]=o[p+8>>2];c=A+56|0;o[c>>2]=o[y>>2];o[c+4>>2]=o[y+4>>2];o[c+8>>2]=o[y+8>>2];o[c+12>>2]=o[y+12>>2];c=A+72|0;o[c>>2]=o[v>>2];o[c+4>>2]=o[v+4>>2];o[c+8>>2]=o[v+8>>2];o[c+12>>2]=o[v+12>>2];n[A+88>>0]=1;r[S+4>>1]=0;bA(C,S,A);c=+u[C+16>>2]<1.1920928955078125e-06;o[t+124>>2]=0}s=o[E>>2]|0;o[E>>2]=c?s|2:s&-3;s=(e|0)!=0;i=s&c;if(D&i)kk[o[(o[e>>2]|0)+8>>2]&127](e,t);if(s&(c^1)&(D^1))kk[o[(o[e>>2]|0)+12>>2]&127](e,t);if(!(i&(P^1))){d=R;return}Fk[o[(o[e>>2]|0)+16>>2]&63](e,t,M);d=R;return}function kA(t){t=t|0;var e=0,i=0,s=0,c=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,I=0;R=d;d=d+1040|0;P=R;M=t+52|0;o[M>>2]=0;C=t+40|0;e=o[C>>2]|0;do{if((e|0)>0){v=t+32|0;S=t+56|0;w=t+12|0;x=t+4|0;m=P+4|0;y=P+1028|0;g=P+1032|0;T=t+48|0;E=t+44|0;f=0;while(1){i=o[(o[v>>2]|0)+(f<<2)>>2]|0;o[S>>2]=i;if((i|0)!=-1){if((i|0)<=-1){e=10;break}if((o[w>>2]|0)<=(i|0)){e=10;break}l=o[x>>2]|0;o[P>>2]=m;o[g>>2]=256;o[m>>2]=o[t>>2];o[y>>2]=1;h=l+(i*36|0)|0;p=l+(i*36|0)+4|0;_=l+(i*36|0)+8|0;l=l+(i*36|0)+12|0;s=m;e=1;do{e=e+-1|0;o[y>>2]=e;c=o[s+(e<<2)>>2]|0;do{if((c|0)!=-1?(b=o[x>>2]|0,!((+u[h>>2]-+u[b+(c*36|0)+8>>2]>0.0?1:+u[p>>2]-+u[b+(c*36|0)+12>>2]>0.0)|+u[b+(c*36|0)>>2]-+u[_>>2]>0.0|+u[b+(c*36|0)+4>>2]-+u[l>>2]>0.0)):0){i=b+(c*36|0)+24|0;if((o[i>>2]|0)==-1){s=o[S>>2]|0;if((s|0)==(c|0))break;i=o[M>>2]|0;if((i|0)==(o[T>>2]|0)){e=o[E>>2]|0;o[T>>2]=i<<1;s=eE(i<<4)|0;o[E>>2]=s;qE(s|0,e|0,o[M>>2]<<3|0)|0;iE(e);e=o[y>>2]|0;s=o[S>>2]|0;i=o[M>>2]|0}I=o[E>>2]|0;o[I+(i<<3)>>2]=(s|0)>(c|0)?c:s;o[I+(i<<3)+4>>2]=(s|0)<(c|0)?c:s;o[M>>2]=i+1;break}if((e|0)==(o[g>>2]|0)?(o[g>>2]=e<<1,I=eE(e<<3)|0,o[P>>2]=I,qE(I|0,s|0,o[y>>2]<<2|0)|0,(s|0)!=(m|0)):0)iE(s);s=o[P>>2]|0;o[s+(o[y>>2]<<2)>>2]=o[i>>2];i=(o[y>>2]|0)+1|0;o[y>>2]=i;e=b+(c*36|0)+28|0;if((i|0)==(o[g>>2]|0)?(o[g>>2]=i<<1,I=eE(i<<3)|0,o[P>>2]=I,qE(I|0,s|0,o[y>>2]<<2|0)|0,(s|0)!=(m|0)):0)iE(s);o[(o[P>>2]|0)+(o[y>>2]<<2)>>2]=o[e>>2];e=(o[y>>2]|0)+1|0;o[y>>2]=e}}while(0);s=o[P>>2]|0}while((e|0)>0);if((s|0)!=(m|0)){iE(s);o[P>>2]=0}e=o[C>>2]|0}f=f+1|0;if((f|0)>=(e|0)){e=4;break}}if((e|0)==4){A=o[M>>2]|0;D=E;break}else if((e|0)==10)Gt(14731,14772,164,14889)}else{A=0;D=t+44|0}}while(0);o[C>>2]=0;I=o[D>>2]|0;o[P>>2]=58;jA(I,I+(A<<3)|0,P);if((o[M>>2]|0)<=0){d=R;return}A=t+12|0;C=t+4|0;T=t+68|0;x=t+76|0;S=t+60|0;w=t+64|0;e=0;t:while(1){i=o[D>>2]|0;v=i+(e<<3)|0;s=o[v>>2]|0;if((s|0)<=-1){e=34;break}c=o[A>>2]|0;if((c|0)<=(s|0)){e=34;break}l=o[C>>2]|0;y=i+(e<<3)+4|0;i=o[y>>2]|0;if(!((i|0)>-1&(c|0)>(i|0))){e=36;break}m=o[l+(s*36|0)+16>>2]|0;g=o[l+(i*36|0)+16>>2]|0;f=o[m+16>>2]|0;b=o[g+16>>2]|0;m=o[m+20>>2]|0;g=o[g+20>>2]|0;p=o[f+8>>2]|0;_=o[b+8>>2]|0;e:do{if((p|0)!=(_|0)){i=o[_+112>>2]|0;if(i|0)do{if((o[i>>2]|0)==(p|0)){h=o[i+4>>2]|0;s=o[h+48>>2]|0;c=o[h+52>>2]|0;l=o[h+56>>2]|0;h=o[h+60>>2]|0;if((s|0)==(f|0)&(c|0)==(b|0)&(l|0)==(m|0)&(h|0)==(g|0))break e;if((s|0)==(b|0)&(c|0)==(f|0)&(l|0)==(g|0)&(h|0)==(m|0))break e}i=o[i+12>>2]|0}while((i|0)!=0);if((o[_>>2]|0)!=2?(o[p>>2]|0)!=2:0)break;i=o[_+108>>2]|0;if(i|0)do{if((o[i>>2]|0)==(p|0)?(n[(o[i+4>>2]|0)+61>>0]|0)==0:0)break e;i=o[i+12>>2]|0}while((i|0)!=0);i=o[T>>2]|0;if(i|0?!(Dk[o[(o[i>>2]|0)+8>>2]&63](i,f,b)|0):0)break;i=o[x>>2]|0;if(!(n[20846]|0)){o[4859]=46;o[4860]=98;n[19444]=1;o[4883]=47;o[4884]=99;n[19540]=1;o[4865]=47;o[4866]=99;n[19468]=0;o[4889]=48;o[4890]=100;n[19564]=1;o[4871]=49;o[4872]=101;n[19492]=1;o[4862]=49;o[4863]=101;n[19456]=0;o[4877]=50;o[4878]=102;n[19516]=1;o[4886]=50;o[4887]=102;n[19552]=0;o[4895]=51;o[4896]=103;n[19588]=1;o[4868]=51;o[4869]=103;n[19480]=0;o[4901]=52;o[4902]=104;n[19612]=1;o[4892]=52;o[4893]=104;n[19576]=0;n[20846]=1}s=o[(o[f+12>>2]|0)+4>>2]|0;c=o[(o[b+12>>2]|0)+4>>2]|0;if(s>>>0>=4){e=54;break t}if(c>>>0>=4){e=56;break t}l=o[19436+(s*48|0)+(c*12|0)>>2]|0;if(l|0){if(!(n[19436+(s*48|0)+(c*12|0)+8>>0]|0))_=Wk[l&63](b,g,f,m,i)|0;else _=Wk[l&63](f,m,b,g,i)|0;if(_|0){l=o[_+48>>2]|0;h=o[_+52>>2]|0;p=o[l+8>>2]|0;f=o[h+8>>2]|0;o[_+8>>2]=0;i=o[S>>2]|0;o[_+12>>2]=i;if(i|0)o[i+8>>2]=_;o[S>>2]=_;c=_+16|0;o[_+20>>2]=_;o[c>>2]=f;o[_+24>>2]=0;s=p+112|0;i=o[s>>2]|0;o[_+28>>2]=i;if(i|0)o[i+8>>2]=c;o[s>>2]=c;c=_+32|0;o[_+36>>2]=_;o[c>>2]=p;o[_+40>>2]=0;s=f+112|0;i=o[s>>2]|0;o[_+44>>2]=i;if(i|0)o[i+8>>2]=c;o[s>>2]=c;do{if(!(n[l+38>>0]|0)){if(n[h+38>>0]|0)break;s=p+4|0;i=a[s>>1]|0;if(!(i&2)){r[s>>1]=i|2;u[p+144>>2]=0.0}s=f+4|0;i=a[s>>1]|0;if(i&2|0)break;r[s>>1]=i|2;u[f+144>>2]=0.0}}while(0);o[w>>2]=(o[w>>2]|0)+1}}}}while(0);s=o[M>>2]|0;e=e+1|0;do{if((e|0)>=(s|0))break;i=o[D>>2]|0;if((o[i+(e<<3)>>2]|0)!=(o[v>>2]|0))break;I=(o[i+(e<<3)+4>>2]|0)==(o[y>>2]|0);e=(I&1)+e|0}while(I);if((e|0)>=(s|0)){e=79;break}}if((e|0)==34)Gt(14731,14772,158,14817);else if((e|0)==36)Gt(14731,14772,158,14817);else if((e|0)==54)Gt(12521,10705,80,13954);else if((e|0)==56)Gt(12564,10705,81,13954);else if((e|0)==79){d=R;return}}function LA(t,e){t=t|0;e=e|0;var i=0,n=0;i=o[t>>2]|0;n=o[e>>2]|0;if((i|0)<(n|0)){e=1;return e|0}if((i|0)!=(n|0)){e=0;return e|0}e=(o[t+4>>2]|0)<(o[e+4>>2]|0);return e|0}function jA(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0;b=d;d=d+16|0;f=b;t:while(1){h=e;p=e+-8|0;while(1){e:while(1){l=t;r=h-l|0;n=r>>3;switch(n|0){case 2:{_=5;break t}case 3:{_=7;break t}case 4:{_=15;break t}case 5:{_=16;break t}case 1:case 0:{_=83;break t}default:{}}if((r|0)<248){_=22;break t}u=t+(((n|0)/2|0)<<3)|0;do{if((r|0)>7992){r=(n|0)/4|0;a=t+(r<<3)|0;r=u+(r<<3)|0;n=QA(t,a,u,r,i)|0;if(Uk[o[i>>2]&63](p,r)|0){c=r;m=o[c>>2]|0;c=o[c+4>>2]|0;y=p;g=o[y+4>>2]|0;s=r;o[s>>2]=o[y>>2];o[s+4>>2]=g;s=p;o[s>>2]=m;o[s+4>>2]=c;s=n+1|0;if(Uk[o[i>>2]&63](r,u)|0){y=u;g=o[y>>2]|0;y=o[y+4>>2]|0;s=r;c=o[s+4>>2]|0;m=u;o[m>>2]=o[s>>2];o[m+4>>2]=c;o[r>>2]=g;o[r+4>>2]=y;r=n+2|0;if(Uk[o[i>>2]&63](u,a)|0){g=a;m=o[g>>2]|0;g=o[g+4>>2]|0;s=u;c=o[s+4>>2]|0;y=a;o[y>>2]=o[s>>2];o[y+4>>2]=c;y=u;o[y>>2]=m;o[y+4>>2]=g;if(Uk[o[i>>2]&63](a,t)|0){g=t;m=o[g>>2]|0;g=o[g+4>>2]|0;s=a;c=o[s+4>>2]|0;y=t;o[y>>2]=o[s>>2];o[y+4>>2]=c;y=a;o[y>>2]=m;o[y+4>>2]=g;n=n+4|0}else n=n+3|0}else n=r}else n=s}}else{y=Uk[o[i>>2]&63](u,t)|0;s=Uk[o[i>>2]&63](p,u)|0;if(!y){if(!s){n=0;break}g=u;m=o[g>>2]|0;g=o[g+4>>2]|0;a=p;c=o[a+4>>2]|0;y=u;o[y>>2]=o[a>>2];o[y+4>>2]=c;y=p;o[y>>2]=m;o[y+4>>2]=g;if(!(Uk[o[i>>2]&63](u,t)|0)){n=1;break}y=t;g=o[y>>2]|0;y=o[y+4>>2]|0;c=u;m=o[c+4>>2]|0;n=t;o[n>>2]=o[c>>2];o[n+4>>2]=m;n=u;o[n>>2]=g;o[n+4>>2]=y;n=2;break}r=t;n=o[r>>2]|0;r=o[r+4>>2]|0;if(s){m=p;g=o[m+4>>2]|0;y=t;o[y>>2]=o[m>>2];o[y+4>>2]=g;y=p;o[y>>2]=n;o[y+4>>2]=r;n=1;break}m=u;g=o[m+4>>2]|0;y=t;o[y>>2]=o[m>>2];o[y+4>>2]=g;y=u;o[y>>2]=n;o[y+4>>2]=r;if(Uk[o[i>>2]&63](p,u)|0){y=u;g=o[y>>2]|0;y=o[y+4>>2]|0;c=p;m=o[c+4>>2]|0;n=u;o[n>>2]=o[c>>2];o[n+4>>2]=m;n=p;o[n>>2]=g;o[n+4>>2]=y;n=2}else n=1}}while(0);if(Uk[o[i>>2]&63](t,u)|0){r=p;break}else r=p;while(1){r=r+-8|0;if((t|0)==(r|0))break;if(Uk[o[i>>2]&63](r,u)|0){_=66;break e}}n=t+8|0;if(!(Uk[o[i>>2]&63](t,p)|0)){if((n|0)==(p|0)){_=83;break t}while(1){if(Uk[o[i>>2]&63](t,n)|0)break;n=n+8|0;if((n|0)==(p|0)){_=83;break t}}g=n;m=o[g>>2]|0;g=o[g+4>>2]|0;u=p;l=o[u+4>>2]|0;y=n;o[y>>2]=o[u>>2];o[y+4>>2]=l;y=p;o[y>>2]=m;o[y+4>>2]=g;n=n+8|0}if((n|0)==(p|0)){_=83;break t}else r=p;while(1){while(1){s=n+8|0;if(Uk[o[i>>2]&63](t,n)|0)break;else n=s}do{r=r+-8|0}while(Uk[o[i>>2]&63](t,r)|0);if(n>>>0>=r>>>0){t=n;continue e}y=n;g=o[y>>2]|0;y=o[y+4>>2]|0;l=r;m=o[l+4>>2]|0;o[n>>2]=o[l>>2];o[n+4>>2]=m;n=r;o[n>>2]=g;o[n+4>>2]=y;n=s}}if((_|0)==66){_=0;g=t;m=o[g>>2]|0;g=o[g+4>>2]|0;a=r;c=o[a+4>>2]|0;y=t;o[y>>2]=o[a>>2];o[y+4>>2]=c;y=r;o[y>>2]=m;o[y+4>>2]=g;n=n+1|0}s=t+8|0;e:do{if(s>>>0<r>>>0)while(1){a=s;while(1){s=a+8|0;if(Uk[o[i>>2]&63](a,u)|0)a=s;else{c=r;break}}do{c=c+-8|0}while(!(Uk[o[i>>2]&63](c,u)|0));if(a>>>0>c>>>0){s=a;r=u;break e}y=a;g=o[y>>2]|0;y=o[y+4>>2]|0;v=c;m=o[v+4>>2]|0;r=a;o[r>>2]=o[v>>2];o[r+4>>2]=m;r=c;o[r>>2]=g;o[r+4>>2]=y;r=c;u=(u|0)==(a|0)?c:u;n=n+1|0}else r=u}while(0);if((s|0)!=(r|0)?Uk[o[i>>2]&63](r,s)|0:0){y=s;g=o[y>>2]|0;y=o[y+4>>2]|0;u=r;m=o[u+4>>2]|0;v=s;o[v>>2]=o[u>>2];o[v+4>>2]=m;v=r;o[v>>2]=g;o[v+4>>2]=y;n=n+1|0}if(!n){r=KA(t,s,i)|0;n=s+8|0;if(KA(n,e,i)|0){_=82;break}if(r){t=n;continue}}v=s;if((v-l|0)>=(h-v|0)){_=81;break}jA(t,s,i);t=s+8|0}if((_|0)==81){_=0;jA(s+8|0,e,i);e=s;continue}else if((_|0)==82){_=0;if(r){_=83;break}else{e=s;continue}}}if((_|0)==5){if(!(Uk[o[i>>2]&63](p,t)|0)){d=b;return}y=t;g=o[y>>2]|0;y=o[y+4>>2]|0;i=p;m=o[i+4>>2]|0;v=t;o[v>>2]=o[i>>2];o[v+4>>2]=m;v=p;o[v>>2]=g;o[v+4>>2]=y;d=b;return}else if((_|0)==7){r=t+8|0;v=Uk[o[i>>2]&63](r,t)|0;s=Uk[o[i>>2]&63](p,r)|0;if(!v){if(!s){d=b;return}y=r;g=o[y>>2]|0;y=o[y+4>>2]|0;f=p;m=o[f+4>>2]|0;v=r;o[v>>2]=o[f>>2];o[v+4>>2]=m;v=p;o[v>>2]=g;o[v+4>>2]=y;if(!(Uk[o[i>>2]&63](r,t)|0)){d=b;return}y=t;g=o[y>>2]|0;y=o[y+4>>2]|0;i=r;m=o[i+4>>2]|0;v=t;o[v>>2]=o[i>>2];o[v+4>>2]=m;v=r;o[v>>2]=g;o[v+4>>2]=y;d=b;return}n=t;e=o[n>>2]|0;n=o[n+4>>2]|0;if(s){g=p;y=o[g+4>>2]|0;v=t;o[v>>2]=o[g>>2];o[v+4>>2]=y;v=p;o[v>>2]=e;o[v+4>>2]=n;d=b;return}g=r;y=o[g+4>>2]|0;v=t;o[v>>2]=o[g>>2];o[v+4>>2]=y;v=r;o[v>>2]=e;o[v+4>>2]=n;if(!(Uk[o[i>>2]&63](p,r)|0)){d=b;return}y=r;g=o[y>>2]|0;y=o[y+4>>2]|0;i=p;m=o[i+4>>2]|0;v=r;o[v>>2]=o[i>>2];o[v+4>>2]=m;v=p;o[v>>2]=g;o[v+4>>2]=y;d=b;return}else if((_|0)==15){QA(t,t+8|0,t+16|0,p,i)|0;d=b;return}else if((_|0)==16){e=t+8|0;n=t+16|0;r=t+24|0;QA(t,e,n,r,i)|0;if(!(Uk[o[i>>2]&63](p,r)|0)){d=b;return}y=r;g=o[y>>2]|0;y=o[y+4>>2]|0;f=p;m=o[f+4>>2]|0;v=r;o[v>>2]=o[f>>2];o[v+4>>2]=m;v=p;o[v>>2]=g;o[v+4>>2]=y;if(!(Uk[o[i>>2]&63](r,n)|0)){d=b;return}y=n;g=o[y>>2]|0;y=o[y+4>>2]|0;f=r;m=o[f+4>>2]|0;v=n;o[v>>2]=o[f>>2];o[v+4>>2]=m;v=r;o[v>>2]=g;o[v+4>>2]=y;if(!(Uk[o[i>>2]&63](n,e)|0)){d=b;return}y=e;g=o[y>>2]|0;y=o[y+4>>2]|0;f=n;m=o[f+4>>2]|0;v=e;o[v>>2]=o[f>>2];o[v+4>>2]=m;v=n;o[v>>2]=g;o[v+4>>2]=y;if(!(Uk[o[i>>2]&63](e,t)|0)){d=b;return}y=t;g=o[y>>2]|0;y=o[y+4>>2]|0;i=e;m=o[i+4>>2]|0;v=t;o[v>>2]=o[i>>2];o[v+4>>2]=m;v=e;o[v>>2]=g;o[v+4>>2]=y;d=b;return}else if((_|0)==22){r=t+16|0;a=t+8|0;v=Uk[o[i>>2]&63](a,t)|0;c=Uk[o[i>>2]&63](r,a)|0;do{if(v){s=t;n=o[s>>2]|0;s=o[s+4>>2]|0;if(c){g=r;y=o[g+4>>2]|0;v=t;o[v>>2]=o[g>>2];o[v+4>>2]=y;v=r;o[v>>2]=n;o[v+4>>2]=s;break}g=a;y=o[g+4>>2]|0;v=t;o[v>>2]=o[g>>2];o[v+4>>2]=y;v=a;o[v>>2]=n;o[v+4>>2]=s;if(Uk[o[i>>2]&63](r,a)|0){y=a;g=o[y>>2]|0;y=o[y+4>>2]|0;p=r;m=o[p+4>>2]|0;v=a;o[v>>2]=o[p>>2];o[v+4>>2]=m;v=r;o[v>>2]=g;o[v+4>>2]=y}}else if(c?(y=a,g=o[y>>2]|0,y=o[y+4>>2]|0,p=r,m=o[p+4>>2]|0,v=a,o[v>>2]=o[p>>2],o[v+4>>2]=m,v=r,o[v>>2]=g,o[v+4>>2]=y,Uk[o[i>>2]&63](a,t)|0):0){y=t;g=o[y>>2]|0;y=o[y+4>>2]|0;p=a;m=o[p+4>>2]|0;v=t;o[v>>2]=o[p>>2];o[v+4>>2]=m;v=a;o[v>>2]=g;o[v+4>>2]=y}}while(0);n=t+24|0;if((n|0)==(e|0)){d=b;return}while(1){if(Uk[o[i>>2]&63](n,r)|0){y=n;v=o[y+4>>2]|0;s=f;o[s>>2]=o[y>>2];o[s+4>>2]=v;s=n;while(1){g=r;y=o[g+4>>2]|0;v=s;o[v>>2]=o[g>>2];o[v+4>>2]=y;if((r|0)==(t|0))break;s=r+-8|0;if(Uk[o[i>>2]&63](f,s)|0){v=r;r=s;s=v}else break}g=f;y=o[g+4>>2]|0;v=r;o[v>>2]=o[g>>2];o[v+4>>2]=y}r=n+8|0;if((r|0)==(e|0))break;else{v=n;n=r;r=v}}d=b;return}else if((_|0)==83){d=b;return}}function BA(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0.0,c=0.0;e=Fx(r,148)|0;o[e+4>>2]=4;o[e+48>>2]=t;o[e+52>>2]=i;o[e+56>>2]=0;o[e+60>>2]=0;o[e+124>>2]=0;o[e+128>>2]=0;n=t+16|0;r=e+8|0;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));u[e+136>>2]=+L(+(+u[n>>2]*+u[i+16>>2]));c=+u[t+20>>2];a=+u[i+20>>2];u[e+140>>2]=c>a?c:a;u[e+144>>2]=0.0;o[e>>2]=1204;if(o[(o[t+12>>2]|0)+4>>2]|0)Gt(13302,13345,43,13402);if(!(o[(o[i+12>>2]|0)+4>>2]|0))return e|0;else Gt(13418,13345,44,13402);return 0}function FA(t,e){t=t|0;e=e|0;var i=0;Ik[o[(o[t>>2]|0)+4>>2]&127](t);i=n[20352]|0;if((i&255)<14){e=e+12+((i&255)<<2)|0;o[t>>2]=o[e>>2];o[e>>2]=t;return}else Gt(6496,6449,171,10356)}function JA(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0.0,c=0.0;e=Fx(r,148)|0;o[e+4>>2]=4;o[e+48>>2]=t;o[e+52>>2]=i;o[e+56>>2]=0;o[e+60>>2]=0;o[e+124>>2]=0;o[e+128>>2]=0;n=t+16|0;r=e+8|0;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));u[e+136>>2]=+L(+(+u[n>>2]*+u[i+16>>2]));c=+u[t+20>>2];a=+u[i+20>>2];u[e+140>>2]=c>a?c:a;u[e+144>>2]=0.0;o[e>>2]=1264;if((o[(o[t+12>>2]|0)+4>>2]|0)!=2)Gt(13165,13209,40,13276);if(!(o[(o[i+12>>2]|0)+4>>2]|0))return e|0;else Gt(13418,13209,41,13276);return 0}function GA(t,e){t=t|0;e=e|0;var i=0;Ik[o[(o[t>>2]|0)+4>>2]&127](t);i=n[20352]|0;if((i&255)<14){e=e+12+((i&255)<<2)|0;o[t>>2]=o[e>>2];o[e>>2]=t;return}else Gt(6496,6449,171,10356)}function NA(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0.0,c=0.0;e=Fx(r,148)|0;o[e+4>>2]=4;o[e+48>>2]=t;o[e+52>>2]=i;o[e+56>>2]=0;o[e+60>>2]=0;o[e+124>>2]=0;o[e+128>>2]=0;n=t+16|0;r=e+8|0;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));u[e+136>>2]=+L(+(+u[n>>2]*+u[i+16>>2]));c=+u[t+20>>2];a=+u[i+20>>2];u[e+140>>2]=c>a?c:a;u[e+144>>2]=0.0;o[e>>2]=1284;if((o[(o[t+12>>2]|0)+4>>2]|0)!=2)Gt(13165,13046,43,13104);if((o[(o[i+12>>2]|0)+4>>2]|0)==2)return e|0;else Gt(13121,13046,44,13104);return 0}function UA(t,e){t=t|0;e=e|0;var i=0;Ik[o[(o[t>>2]|0)+4>>2]&127](t);i=n[20352]|0;if((i&255)<14){e=e+12+((i&255)<<2)|0;o[t>>2]=o[e>>2];o[e>>2]=t;return}else Gt(6496,6449,171,10356)}function WA(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0.0,c=0.0;e=Fx(r,148)|0;o[e+4>>2]=4;o[e+48>>2]=t;o[e+52>>2]=i;o[e+56>>2]=0;o[e+60>>2]=0;o[e+124>>2]=0;o[e+128>>2]=0;n=t+16|0;r=e+8|0;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));u[e+136>>2]=+L(+(+u[n>>2]*+u[i+16>>2]));c=+u[t+20>>2];a=+u[i+20>>2];u[e+140>>2]=c>a?c:a;u[e+144>>2]=0.0;o[e>>2]=1224;if((o[(o[t+12>>2]|0)+4>>2]|0)!=1)Gt(12918,12959,40,13023);if(!(o[(o[i+12>>2]|0)+4>>2]|0))return e|0;else Gt(13418,12959,41,13023);return 0}function VA(t,e){t=t|0;e=e|0;var i=0;Ik[o[(o[t>>2]|0)+4>>2]&127](t);i=n[20352]|0;if((i&255)<14){e=e+12+((i&255)<<2)|0;o[t>>2]=o[e>>2];o[e>>2]=t;return}else Gt(6496,6449,171,10356)}function XA(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0.0,c=0.0;e=Fx(r,148)|0;o[e+4>>2]=4;o[e+48>>2]=t;o[e+52>>2]=i;o[e+56>>2]=0;o[e+60>>2]=0;o[e+124>>2]=0;o[e+128>>2]=0;n=t+16|0;r=e+8|0;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));u[e+136>>2]=+L(+(+u[n>>2]*+u[i+16>>2]));c=+u[t+20>>2];a=+u[i+20>>2];u[e+140>>2]=c>a?c:a;u[e+144>>2]=0.0;o[e>>2]=1244;if((o[(o[t+12>>2]|0)+4>>2]|0)!=1)Gt(12918,12829,40,12894);if((o[(o[i+12>>2]|0)+4>>2]|0)==2)return e|0;else Gt(13121,12829,41,12894);return 0}function zA(t,e){t=t|0;e=e|0;var i=0;Ik[o[(o[t>>2]|0)+4>>2]&127](t);i=n[20352]|0;if((i&255)<14){e=e+12+((i&255)<<2)|0;o[t>>2]=o[e>>2];o[e>>2]=t;return}else Gt(6496,6449,171,10356)}function qA(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0.0,c=0.0;s=Fx(r,148)|0;o[s+4>>2]=4;o[s+48>>2]=t;o[s+52>>2]=i;o[s+56>>2]=e;o[s+60>>2]=n;o[s+124>>2]=0;o[s+128>>2]=0;r=t+16|0;e=s+8|0;n=e+40|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(n|0));u[s+136>>2]=+L(+(+u[r>>2]*+u[i+16>>2]));c=+u[t+20>>2];a=+u[i+20>>2];u[s+140>>2]=c>a?c:a;u[s+144>>2]=0.0;o[s>>2]=1164;if((o[(o[t+12>>2]|0)+4>>2]|0)!=3)Gt(12698,12740,42,12805);if(!(o[(o[i+12>>2]|0)+4>>2]|0))return s|0;else Gt(13418,12740,43,12805);return 0}function HA(t,e){t=t|0;e=e|0;var i=0;Ik[o[(o[t>>2]|0)+4>>2]&127](t);i=n[20352]|0;if((i&255)<14){e=e+12+((i&255)<<2)|0;o[t>>2]=o[e>>2];o[e>>2]=t;return}else Gt(6496,6449,171,10356)}function YA(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0.0,c=0.0;s=Fx(r,148)|0;o[s+4>>2]=4;o[s+48>>2]=t;o[s+52>>2]=i;o[s+56>>2]=e;o[s+60>>2]=n;o[s+124>>2]=0;o[s+128>>2]=0;r=t+16|0;e=s+8|0;n=e+40|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(n|0));u[s+136>>2]=+L(+(+u[r>>2]*+u[i+16>>2]));c=+u[t+20>>2];a=+u[i+20>>2];u[s+140>>2]=c>a?c:a;u[s+144>>2]=0.0;o[s>>2]=1184;if((o[(o[t+12>>2]|0)+4>>2]|0)!=3)Gt(12698,12607,42,12673);if((o[(o[i+12>>2]|0)+4>>2]|0)==2)return s|0;else Gt(13121,12607,43,12673);return 0}function ZA(t,e){t=t|0;e=e|0;var i=0;Ik[o[(o[t>>2]|0)+4>>2]&127](t);i=n[20352]|0;if((i&255)<14){e=e+12+((i&255)<<2)|0;o[t>>2]=o[e>>2];o[e>>2]=t;return}else Gt(6496,6449,171,10356)}function QA(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0,c=0,u=0,l=0,h=0;a=Uk[o[r>>2]&63](e,t)|0;c=Uk[o[r>>2]&63](i,e)|0;do{if(a){a=t;s=o[a>>2]|0;a=o[a+4>>2]|0;if(c){l=i;u=o[l+4>>2]|0;c=t;o[c>>2]=o[l>>2];o[c+4>>2]=u;c=i;o[c>>2]=s;o[c+4>>2]=a;s=1;break}c=e;u=o[c+4>>2]|0;l=t;o[l>>2]=o[c>>2];o[l+4>>2]=u;l=e;o[l>>2]=s;o[l+4>>2]=a;if(Uk[o[r>>2]&63](i,e)|0){l=e;u=o[l>>2]|0;l=o[l+4>>2]|0;a=i;c=o[a+4>>2]|0;s=e;o[s>>2]=o[a>>2];o[s+4>>2]=c;s=i;o[s>>2]=u;o[s+4>>2]=l;s=2}else s=1}else if(c){u=e;c=o[u>>2]|0;u=o[u+4>>2]|0;s=i;a=o[s+4>>2]|0;l=e;o[l>>2]=o[s>>2];o[l+4>>2]=a;l=i;o[l>>2]=c;o[l+4>>2]=u;if(Uk[o[r>>2]&63](e,t)|0){l=t;u=o[l>>2]|0;l=o[l+4>>2]|0;a=e;c=o[a+4>>2]|0;s=t;o[s>>2]=o[a>>2];o[s+4>>2]=c;s=e;o[s>>2]=u;o[s+4>>2]=l;s=2}else s=1}else s=0}while(0);if(!(Uk[o[r>>2]&63](n,i)|0)){l=s;return l|0}u=i;c=o[u>>2]|0;u=o[u+4>>2]|0;h=n;a=o[h+4>>2]|0;l=i;o[l>>2]=o[h>>2];o[l+4>>2]=a;l=n;o[l>>2]=c;o[l+4>>2]=u;if(!(Uk[o[r>>2]&63](i,e)|0)){h=s+1|0;return h|0}l=e;u=o[l>>2]|0;l=o[l+4>>2]|0;c=i;n=o[c+4>>2]|0;h=e;o[h>>2]=o[c>>2];o[h+4>>2]=n;h=i;o[h>>2]=u;o[h+4>>2]=l;if(!(Uk[o[r>>2]&63](e,t)|0)){h=s+2|0;return h|0}l=t;u=o[l>>2]|0;l=o[l+4>>2]|0;i=e;n=o[i+4>>2]|0;h=t;o[h>>2]=o[i>>2];o[h+4>>2]=n;h=e;o[h>>2]=u;o[h+4>>2]=l;h=s+3|0;return h|0}function KA(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0;l=d;d=d+16|0;u=l;switch(e-t>>3|0){case 2:{n=e+-8|0;if(!(Uk[o[i>>2]&63](n,t)|0)){t=1;d=l;return t|0}i=t;e=o[i>>2]|0;i=o[i+4>>2]|0;c=n;u=o[c+4>>2]|0;o[t>>2]=o[c>>2];o[t+4>>2]=u;t=n;o[t>>2]=e;o[t+4>>2]=i;t=1;d=l;return t|0}case 3:{c=t+8|0;a=e+-8|0;e=Uk[o[i>>2]&63](c,t)|0;s=Uk[o[i>>2]&63](a,c)|0;if(!e){if(!s){t=1;d=l;return t|0}u=c;s=o[u>>2]|0;u=o[u+4>>2]|0;n=a;r=o[n+4>>2]|0;e=c;o[e>>2]=o[n>>2];o[e+4>>2]=r;e=a;o[e>>2]=s;o[e+4>>2]=u;if(!(Uk[o[i>>2]&63](c,t)|0)){t=1;d=l;return t|0}i=t;e=o[i>>2]|0;i=o[i+4>>2]|0;a=c;u=o[a+4>>2]|0;o[t>>2]=o[a>>2];o[t+4>>2]=u;t=c;o[t>>2]=e;o[t+4>>2]=i;t=1;d=l;return t|0}r=t;n=o[r>>2]|0;r=o[r+4>>2]|0;if(s){e=a;i=o[e+4>>2]|0;o[t>>2]=o[e>>2];o[t+4>>2]=i;t=a;o[t>>2]=n;o[t+4>>2]=r;t=1;d=l;return t|0}u=c;e=o[u+4>>2]|0;o[t>>2]=o[u>>2];o[t+4>>2]=e;t=c;o[t>>2]=n;o[t+4>>2]=r;if(!(Uk[o[i>>2]&63](a,c)|0)){t=1;d=l;return t|0}i=c;e=o[i>>2]|0;i=o[i+4>>2]|0;s=a;u=o[s+4>>2]|0;t=c;o[t>>2]=o[s>>2];o[t+4>>2]=u;t=a;o[t>>2]=e;o[t+4>>2]=i;t=1;d=l;return t|0}case 4:{QA(t,t+8|0,t+16|0,e+-8|0,i)|0;t=1;d=l;return t|0}case 5:{r=t+8|0;s=t+16|0;a=t+24|0;n=e+-8|0;QA(t,r,s,a,i)|0;if(!(Uk[o[i>>2]&63](n,a)|0)){t=1;d=l;return t|0}u=a;c=o[u>>2]|0;u=o[u+4>>2]|0;_=n;h=o[_+4>>2]|0;e=a;o[e>>2]=o[_>>2];o[e+4>>2]=h;e=n;o[e>>2]=c;o[e+4>>2]=u;if(!(Uk[o[i>>2]&63](a,s)|0)){_=1;d=l;return _|0}h=s;e=o[h>>2]|0;h=o[h+4>>2]|0;c=a;u=o[c+4>>2]|0;_=s;o[_>>2]=o[c>>2];o[_+4>>2]=u;_=a;o[_>>2]=e;o[_+4>>2]=h;if(!(Uk[o[i>>2]&63](s,r)|0)){_=1;d=l;return _|0}h=r;e=o[h>>2]|0;h=o[h+4>>2]|0;c=s;u=o[c+4>>2]|0;_=r;o[_>>2]=o[c>>2];o[_+4>>2]=u;_=s;o[_>>2]=e;o[_+4>>2]=h;if(!(Uk[o[i>>2]&63](r,t)|0)){_=1;d=l;return _|0}h=t;i=o[h>>2]|0;h=o[h+4>>2]|0;u=r;e=o[u+4>>2]|0;_=t;o[_>>2]=o[u>>2];o[_+4>>2]=e;_=r;o[_>>2]=i;o[_+4>>2]=h;_=1;d=l;return _|0}case 1:case 0:{_=1;d=l;return _|0}default:{s=t+16|0;a=t+8|0;_=Uk[o[i>>2]&63](a,t)|0;c=Uk[o[i>>2]&63](s,a)|0;do{if(_){r=t;n=o[r>>2]|0;r=o[r+4>>2]|0;if(c){c=s;h=o[c+4>>2]|0;_=t;o[_>>2]=o[c>>2];o[_+4>>2]=h;_=s;o[_>>2]=n;o[_+4>>2]=r;break}c=a;h=o[c+4>>2]|0;_=t;o[_>>2]=o[c>>2];o[_+4>>2]=h;_=a;o[_>>2]=n;o[_+4>>2]=r;if(Uk[o[i>>2]&63](s,a)|0){h=a;c=o[h>>2]|0;h=o[h+4>>2]|0;n=s;r=o[n+4>>2]|0;_=a;o[_>>2]=o[n>>2];o[_+4>>2]=r;_=s;o[_>>2]=c;o[_+4>>2]=h}}else if(c?(h=a,c=o[h>>2]|0,h=o[h+4>>2]|0,n=s,r=o[n+4>>2]|0,_=a,o[_>>2]=o[n>>2],o[_+4>>2]=r,_=s,o[_>>2]=c,o[_+4>>2]=h,Uk[o[i>>2]&63](a,t)|0):0){h=t;c=o[h>>2]|0;h=o[h+4>>2]|0;n=a;r=o[n+4>>2]|0;_=t;o[_>>2]=o[n>>2];o[_+4>>2]=r;_=a;o[_>>2]=c;o[_+4>>2]=h}}while(0);n=t+24|0;t:do{if((n|0)==(e|0)){r=1;n=0}else{r=0;while(1){if(Uk[o[i>>2]&63](n,s)|0){h=n;_=o[h+4>>2]|0;a=u;o[a>>2]=o[h>>2];o[a+4>>2]=_;a=n;while(1){c=s;h=o[c+4>>2]|0;_=a;o[_>>2]=o[c>>2];o[_+4>>2]=h;if((s|0)==(t|0))break;a=s+-8|0;if(Uk[o[i>>2]&63](u,a)|0){_=s;s=a;a=_}else break}h=u;_=o[h+4>>2]|0;o[s>>2]=o[h>>2];o[s+4>>2]=_;r=r+1|0;s=n+8|0;if((r|0)==8){r=0;n=(s|0)==(e|0);break t}}else s=n+8|0;if((s|0)==(e|0)){r=1;n=0;break}else{_=n;n=s;s=_}}}}while(0);_=n|r;d=l;return _|0}}return 0}function $A(t,e){t=t|0;e=e|0;var i=0,n=0,s=0,a=0,c=0,u=0,l=0;n=t+32|0;r[n>>1]=r[e>>1]|0;r[n+2>>1]=r[e+2>>1]|0;r[n+4>>1]=r[e+4>>1]|0;n=o[t+8>>2]|0;if(!n)return;e=o[n+112>>2]|0;if(e|0)do{i=o[e+4>>2]|0;if((o[i+48>>2]|0)==(t|0)?1:(o[i+52>>2]|0)==(t|0)){u=i+4|0;o[u>>2]=o[u>>2]|8}e=o[e+12>>2]|0}while((e|0)!=0);e=o[n+88>>2]|0;if(!e)return;u=t+28|0;if((o[u>>2]|0)<=0)return;c=t+24|0;a=e+102912|0;s=e+102908|0;t=e+102904|0;e=o[a>>2]|0;n=0;do{i=o[(o[c>>2]|0)+(n*28|0)+24>>2]|0;if((e|0)==(o[s>>2]|0)){l=o[t>>2]|0;o[s>>2]=e<<1;e=eE(e<<3)|0;o[t>>2]=e;qE(e|0,l|0,o[a>>2]<<2|0)|0;iE(l);e=o[a>>2]|0}o[(o[t>>2]|0)+(e<<2)>>2]=i;e=(o[a>>2]|0)+1|0;o[a>>2]=e;n=n+1|0}while((n|0)<(o[u>>2]|0));return}function tC(t){t=t|0;var e=0,i=0,n=0,r=0,s=0,a=0,c=0,u=0;n=o[t+8>>2]|0;if(!n)return;e=o[n+112>>2]|0;if(e|0)do{i=o[e+4>>2]|0;if((o[i+48>>2]|0)==(t|0)?1:(o[i+52>>2]|0)==(t|0)){c=i+4|0;o[c>>2]=o[c>>2]|8}e=o[e+12>>2]|0}while((e|0)!=0);e=o[n+88>>2]|0;if(!e)return;c=t+28|0;if((o[c>>2]|0)<=0)return;a=t+24|0;s=e+102912|0;r=e+102908|0;t=e+102904|0;e=o[s>>2]|0;n=0;do{i=o[(o[a>>2]|0)+(n*28|0)+24>>2]|0;if((e|0)==(o[r>>2]|0)){u=o[t>>2]|0;o[r>>2]=e<<1;e=eE(e<<3)|0;o[t>>2]=e;qE(e|0,u|0,o[s>>2]<<2|0)|0;iE(u);e=o[s>>2]|0}o[(o[t>>2]|0)+(e<<2)>>2]=i;e=(o[s>>2]|0)+1|0;o[s>>2]=e;n=n+1|0}while((n|0)<(o[c>>2]|0));return}function eC(t){t=t|0;var e=0.0,i=0.0,n=0.0,r=0.0,s=0,a=0,c=0,l=0,h=0,_=0,p=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0.0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0,O=0.0,k=0.0,j=0.0,J=0.0,G=0.0,N=0.0,U=0,W=0,V=0,X=0,z=0,q=0,H=0,Y=0,Z=0,Q=0,K=0,$=0,tt=0,et=0;et=d;d=d+32|0;tt=et;Z=t+48|0;if((o[Z>>2]|0)<=0){d=et;return}$=t+40|0;Q=t+36|0;Y=t+44|0;K=t+24|0;q=t+28|0;H=tt+4|0;W=tt+8|0;U=tt+12|0;X=tt+24|0;z=0;while(1){V=o[$>>2]|0;c=o[Q>>2]|0;h=o[(o[Y>>2]|0)+(o[V+(z*156|0)+152>>2]<<2)>>2]|0;a=o[V+(z*156|0)+112>>2]|0;t=o[V+(z*156|0)+116>>2]|0;C=+u[V+(z*156|0)+120>>2];A=+u[V+(z*156|0)+124>>2];G=+u[V+(z*156|0)+128>>2];N=+u[V+(z*156|0)+132>>2];s=o[K>>2]|0;e=+u[s+(a*12|0)+8>>2];l=o[q>>2]|0;M=+u[l+(a*12|0)>>2];R=+u[l+(a*12|0)+4>>2];I=+u[l+(a*12|0)+8>>2];i=+u[s+(t*12|0)+8>>2];O=+u[l+(t*12|0)>>2];k=+u[l+(t*12|0)+4>>2];j=+u[l+(t*12|0)+8>>2];l=o[h+124>>2]|0;if((l|0)<=0){t=5;break}J=+u[s+(t*12|0)+4>>2];P=+u[s+(t*12|0)>>2];D=+u[s+(a*12|0)+4>>2];E=+u[s+(a*12|0)>>2];b=+u[c+(z*88|0)+60>>2];w=+u[c+(z*88|0)+56>>2];g=+u[c+(z*88|0)+52>>2];f=+u[c+(z*88|0)+48>>2];S=+u[c+(z*88|0)+80>>2];T=+u[c+(z*88|0)+76>>2];y=+F(+e);m=+B(+e);x=+F(+i);v=+B(+i);p=E-(f*m-g*y);f=D-(g*m+f*y);g=P-(w*v-b*x);w=J-(b*v+w*x);t:do{switch(o[h+120>>2]|0){case 0:{u[tt>>2]=1.0;u[H>>2]=0.0;n=+u[h+112>>2];r=+u[h+116>>2];b=p+(m*n-y*r);f=n*y+m*r+f;y=+u[h+64>>2];r=+u[h+68>>2];p=g+(v*y-x*r);r=y*x+v*r+w;w=b-p;x=f-r;if(w*w+x*x>1.4210854715202004e-14){i=p-b;e=r-f;u[tt>>2]=i;u[H>>2]=e;x=+L(+(i*i+e*e));n=1.0/x;if(!(x<1.1920928955078125e-07)){e=e*n;i=i*n;u[tt>>2]=i;u[H>>2]=e}}else{i=1.0;e=0.0}x=b+i*T;T=f+e*T;w=p-i*S;S=r-e*S;u[W>>2]=(x+w)*.5;u[U>>2]=(T+S)*.5;u[X>>2]=(w-x)*i+(S-T)*e;break}case 1:{b=+u[h+104>>2];n=+u[h+108>>2];r=m*b-y*n;n=b*y+m*n;u[tt>>2]=r;u[H>>2]=n;b=+u[h+112>>2];e=+u[h+116>>2];i=p+(m*b-y*e);e=b*y+m*e+f;t=l+-1|0;s=0;while(1){y=+u[h+64+(s*20|0)>>2];m=+u[h+64+(s*20|0)+4>>2];f=g+(v*y-x*m);m=y*x+v*m+w;y=T-(r*(f-i)+(m-e)*n);b=f+r*y;y=m+n*y;f=f-r*S;m=m-n*S;u[tt+8+(s<<3)>>2]=(f+b)*.5;u[tt+8+(s<<3)+4>>2]=(m+y)*.5;u[tt+24+(s<<2)>>2]=r*(f-b)+n*(m-y);if((s|0)==(t|0))break t;s=s+1|0}}case 2:{b=+u[h+104>>2];n=+u[h+108>>2];r=v*b-x*n;n=b*x+v*n;u[tt>>2]=r;u[H>>2]=n;b=+u[h+112>>2];e=+u[h+116>>2];i=g+(v*b-x*e);e=b*x+v*e+w;t=0;do{x=+u[h+64+(t*20|0)>>2];w=+u[h+64+(t*20|0)+4>>2];g=p+(m*x-y*w);w=x*y+m*w+f;x=S-(r*(g-i)+(w-e)*n);v=g+r*x;x=w+n*x;g=g-r*T;w=w-n*T;u[tt+8+(t<<3)>>2]=(g+v)*.5;u[tt+8+(t<<3)+4>>2]=(w+x)*.5;u[tt+24+(t<<2)>>2]=r*(g-v)+n*(w-x);t=t+1|0}while((t|0)!=(l|0));u[tt>>2]=-r;u[H>>2]=-n;break}default:{}}}while(0);l=V+(z*156|0)+72|0;h=tt;c=o[h+4>>2]|0;_=l;o[_>>2]=o[h>>2];o[_+4>>2]=c;_=V+(z*156|0)+148|0;c=o[_>>2]|0;do{if((c|0)>0){h=V+(z*156|0)+76|0;i=C+A;s=V+(z*156|0)+140|0;t=0;do{C=+u[tt+8+(t<<3)>>2];e=C-E;S=+u[tt+8+(t<<3)+4>>2];A=S-D;u[V+(z*156|0)+(t*36|0)>>2]=e;u[V+(z*156|0)+(t*36|0)+4>>2]=A;C=C-P;S=S-J;u[V+(z*156|0)+(t*36|0)+8>>2]=C;u[V+(z*156|0)+(t*36|0)+12>>2]=S;x=+u[h>>2];T=+u[l>>2];w=e*x-A*T;T=x*C-T*S;T=i+w*(G*w)+T*(N*T);u[V+(z*156|0)+(t*36|0)+24>>2]=T>0.0?1.0/T:0.0;T=+u[h>>2];w=-+u[l>>2];x=e*w-T*A;T=C*w-T*S;T=i+x*(G*x)+T*(N*T);u[V+(z*156|0)+(t*36|0)+28>>2]=T>0.0?1.0/T:0.0;a=V+(z*156|0)+(t*36|0)+32|0;u[a>>2]=0.0;e=+u[l>>2]*(O-j*S-M+I*A)+ +u[h>>2]*(k+j*C-R-I*e);if(e<-1.0)u[a>>2]=-(e*+u[s>>2]);t=t+1|0}while((t|0)!=(c|0));if((o[_>>2]|0)==2){k=+u[h>>2];e=+u[l>>2];n=+u[V+(z*156|0)>>2]*k-+u[V+(z*156|0)+4>>2]*e;r=k*+u[V+(z*156|0)+8>>2]-e*+u[V+(z*156|0)+12>>2];j=k*+u[V+(z*156|0)+36>>2]-e*+u[V+(z*156|0)+40>>2];e=k*+u[V+(z*156|0)+44>>2]-e*+u[V+(z*156|0)+48>>2];k=G*n;J=N*r;r=i+n*k+r*J;n=i+j*(G*j)+e*(N*e);e=i+k*j+J*e;i=r*n-e*e;if(r*r<i*1.0e3){u[V+(z*156|0)+96>>2]=r;u[V+(z*156|0)+100>>2]=e;u[V+(z*156|0)+104>>2]=e;u[V+(z*156|0)+108>>2]=n;N=i!=0.0?1.0/i:i;G=-(N*e);u[V+(z*156|0)+80>>2]=n*N;u[V+(z*156|0)+84>>2]=G;u[V+(z*156|0)+88>>2]=G;u[V+(z*156|0)+92>>2]=r*N;break}else{o[_>>2]=1;break}}}}while(0);z=z+1|0;if((z|0)>=(o[Z>>2]|0)){t=3;break}}if((t|0)==3){d=et;return}else if((t|0)==5)Gt(13624,13480,171,13649)}function iC(t){t=t|0;var e=0.0,i=0.0,n=0.0,r=0.0,s=0,a=0,c=0,l=0.0,h=0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0.0,y=0.0,v=0.0,w=0.0,x=0.0,T=0.0,S=0.0,A=0.0,C=0.0,E=0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0,O=0.0,k=0.0,L=0.0,j=0,B=0,F=0,J=0,G=0,N=0,U=0,W=0,V=0.0,X=0.0;U=t+48|0;if((o[U>>2]|0)<=0)return;W=t+40|0;N=t+28|0;s=o[N>>2]|0;G=0;t:while(1){E=o[W>>2]|0;B=o[E+(G*156|0)+112>>2]|0;J=o[E+(G*156|0)+116>>2]|0;R=+u[E+(G*156|0)+120>>2];k=+u[E+(G*156|0)+128>>2];O=+u[E+(G*156|0)+124>>2];L=+u[E+(G*156|0)+132>>2];t=o[E+(G*156|0)+148>>2]|0;j=s+(B*12|0)+4|0;P=+u[E+(G*156|0)+72>>2];D=+u[E+(G*156|0)+76>>2];l=-P;r=+u[E+(G*156|0)+136>>2];a=(t|0)==1;if((t+-1|0)>>>0>=2){t=6;break}F=s+(B*12|0)|0;h=E+(G*156|0)+144|0;I=+u[s+(J*12|0)>>2];n=+u[s+(J*12|0)+4>>2];_=+u[F>>2];M=+u[j>>2];c=0;i=+u[s+(B*12|0)+8>>2];e=+u[s+(J*12|0)+8>>2];do{A=+u[E+(G*156|0)+(c*36|0)+12>>2];T=+u[E+(G*156|0)+(c*36|0)+8>>2];x=+u[E+(G*156|0)+(c*36|0)+4>>2];w=+u[E+(G*156|0)+(c*36|0)>>2];C=r*+u[E+(G*156|0)+(c*36|0)+16>>2];s=E+(G*156|0)+(c*36|0)+20|0;S=+u[s>>2];y=S-+u[E+(G*156|0)+(c*36|0)+28>>2]*(D*(I-e*A-_+i*x)+(n+e*T-M-i*w)*l-+u[h>>2]);v=-C;C=y<C?y:C;C=C<v?v:C;S=C-S;u[s>>2]=C;C=D*S;S=S*l;_=_-R*C;M=M-R*S;i=i-k*(w*S-x*C);I=I+O*C;n=n+O*S;e=e+L*(T*S-A*C);c=c+1|0}while((c|0)!=(t|0));do{if(!a){t=E+(G*156|0)+16|0;d=+u[t>>2];s=E+(G*156|0)+52|0;f=+u[s>>2];if(!(d>=0.0)|!(f>=0.0)){t=11;break t}T=+u[E+(G*156|0)+12>>2];S=+u[E+(G*156|0)+8>>2];y=+u[E+(G*156|0)+4>>2];v=+u[E+(G*156|0)>>2];A=+u[E+(G*156|0)+48>>2];C=+u[E+(G*156|0)+44>>2];w=+u[E+(G*156|0)+40>>2];x=+u[E+(G*156|0)+36>>2];b=+u[E+(G*156|0)+104>>2];p=+u[E+(G*156|0)+100>>2];m=P*(I-e*T-_+i*y)+D*(n+e*S-M-i*v)-+u[E+(G*156|0)+32>>2]-(d*+u[E+(G*156|0)+96>>2]+f*b);g=P*(I-e*A-_+i*w)+D*(n+e*C-M-i*x)-+u[E+(G*156|0)+68>>2]-(d*p+f*+u[E+(G*156|0)+108>>2]);X=+u[E+(G*156|0)+80>>2]*m+ +u[E+(G*156|0)+88>>2]*g;V=m*+u[E+(G*156|0)+84>>2]+g*+u[E+(G*156|0)+92>>2];r=-X;l=-V;if(!(!(X<=-0.0)|!(V<=-0.0))){m=r-d;V=l-f;g=P*m;m=D*m;X=P*V;V=D*V;P=g+X;D=m+V;u[t>>2]=r;u[s>>2]=l;_=_-R*P;l=M-R*D;r=I+O*P;n=n+O*D;i=i-k*(v*m-y*g+(x*V-w*X));e=e+L*(S*m-T*g+(C*V-A*X));break}X=m*+u[E+(G*156|0)+24>>2];r=-X;if(X<=-0.0&g+p*r>=0.0){m=r-d;V=0.0-f;g=P*m;m=D*m;X=P*V;V=D*V;P=X+g;D=V+m;u[t>>2]=r;o[s>>2]=0;_=_-R*P;l=M-R*D;r=I+O*P;n=n+O*D;i=i-k*(m*v-g*y+(V*x-X*w));e=e+L*(m*S-g*T+(V*C-X*A));break}X=g*+u[E+(G*156|0)+60>>2];r=-X;if(X<=-0.0&m+b*r>=0.0){m=0.0-d;V=r-f;g=P*m;m=D*m;X=P*V;V=D*V;P=g+X;D=m+V;o[t>>2]=0;u[s>>2]=r;_=_-R*P;l=M-R*D;r=I+O*P;n=n+O*D;i=i-k*(m*v-g*y+(V*x-X*w));e=e+L*(m*S-g*T+(V*C-X*A));break}if(m>=0.0&g>=0.0){m=0.0-d;V=0.0-f;g=P*m;m=D*m;X=P*V;V=D*V;r=g+X;D=m+V;o[t>>2]=0;o[s>>2]=0;_=_-R*r;l=M-R*D;r=I+O*r;n=n+O*D;i=i-k*(m*v-g*y+(V*x-X*w));e=e+L*(m*S-g*T+(V*C-X*A))}else{l=M;r=I}}else{V=+u[E+(G*156|0)+12>>2];C=+u[E+(G*156|0)+8>>2];A=+u[E+(G*156|0)+4>>2];S=+u[E+(G*156|0)>>2];h=E+(G*156|0)+16|0;l=+u[h>>2];X=l-+u[E+(G*156|0)+24>>2]*(P*(I-e*V-_+i*A)+D*(n+e*C-M-i*S)-+u[E+(G*156|0)+32>>2]);X=X>0.0?X:0.0;l=X-l;u[h>>2]=X;X=P*l;D=D*l;_=_-R*X;l=M-R*D;r=I+O*X;n=n+O*D;i=i-k*(S*D-A*X);e=e+L*(C*D-V*X)}}while(0);u[F>>2]=_;u[j>>2]=l;s=o[N>>2]|0;u[s+(B*12|0)+8>>2]=i;u[s+(J*12|0)>>2]=r;u[s+(J*12|0)+4>>2]=n;s=o[N>>2]|0;u[s+(J*12|0)+8>>2]=e;G=G+1|0;if((G|0)>=(o[U>>2]|0)){t=3;break}}if((t|0)==3)return;else if((t|0)==6)Gt(13537,13480,314,13572);else if((t|0)==11)Gt(13597,13480,412,13572)}function nC(t){t=t|0;var e=0,i=0,r=0,s=0,a=0,c=0,u=0;r=t+32|0;a=o[r>>2]|0;e=o[t+40>>2]|0;c=a+102796|0;i=o[c>>2]|0;if((i|0)<=0)Gt(10339,10213,63,10356);s=a+102412+(i*12|0)|0;if((o[s+-12>>2]|0)!=(e|0))Gt(10361,10213,65,10356);if(!(n[s+-4>>0]|0)){e=s+-8|0;u=a+102400|0;o[u>>2]=(o[u>>2]|0)-(o[e>>2]|0);u=a}else{iE(e);u=o[r>>2]|0;i=o[c>>2]|0;e=s+-8|0}s=a+102404|0;o[s>>2]=(o[s>>2]|0)-(o[e>>2]|0);o[c>>2]=i+-1;e=o[t+36>>2]|0;s=u+102796|0;i=o[s>>2]|0;if((i|0)<=0)Gt(10339,10213,63,10356);r=u+102412+(i*12|0)|0;if((o[r+-12>>2]|0)!=(e|0))Gt(10361,10213,65,10356);if(!(n[r+-4>>0]|0)){c=r+-8|0;t=u+102400|0;o[t>>2]=(o[t>>2]|0)-(o[c>>2]|0);t=i;c=o[c>>2]|0;u=u+102404|0;a=o[u>>2]|0;c=a-c|0;o[u>>2]=c;u=t+-1|0;o[s>>2]=u;return}else{iE(e);t=o[s>>2]|0;c=r+-8|0;c=o[c>>2]|0;u=u+102404|0;a=o[u>>2]|0;c=a-c|0;o[u>>2]=c;u=t+-1|0;o[s>>2]=u;return}}function rC(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,c=0.0,l=0.0,h=0.0,_=0.0,p=0.0,d=0.0,f=0.0,b=0.0,m=0.0,g=0,y=0,v=0;if((o[e+84>>2]|0)<=0)Gt(13461,13480,623,15413);switch(o[e+72>>2]|0){case 0:{l=+u[i+12>>2];h=+u[e+24>>2];a=+u[i+8>>2];p=+u[e+28>>2];d=+u[i>>2]+(l*h-a*p);p=h*a+l*p+ +u[i+4>>2];l=+u[n+12>>2];a=+u[e>>2];h=+u[n+8>>2];c=+u[e+4>>2];_=+u[n>>2]+(l*a-h*c);c=a*h+l*c+ +u[n+4>>2];l=_-d;h=c-p;u[t>>2]=l;r=t+4|0;u[r>>2]=h;a=+L(+(l*l+h*h));s=1.0/a;if(a<1.1920928955078125e-07){s=l;a=h}else{a=h*s;s=l*s;u[t>>2]=s;u[r>>2]=a}u[t+8>>2]=(d+_)*.5;u[t+12>>2]=(p+c)*.5;u[t+16>>2]=l*s+h*a-+u[e+76>>2]-+u[e+80>>2];return}case 1:{y=i+12|0;l=+u[y>>2];c=+u[e+16>>2];g=i+8|0;a=+u[g>>2];_=+u[e+20>>2];s=l*c-a*_;_=c*a+l*_;u[t>>2]=s;u[t+4>>2]=_;l=+u[y>>2];a=+u[e+24>>2];c=+u[g>>2];h=+u[e+28>>2];f=+u[n+12>>2];m=+u[e+(r<<3)>>2];b=+u[n+8>>2];d=+u[e+(r<<3)+4>>2];p=+u[n>>2]+(f*m-b*d);d=m*b+f*d+ +u[n+4>>2];u[t+16>>2]=s*(p-(+u[i>>2]+(l*a-c*h)))+(d-(a*c+l*h+ +u[i+4>>2]))*_-+u[e+76>>2]-+u[e+80>>2];u[t+8>>2]=p;u[t+12>>2]=d;return}case 2:{v=n+12|0;_=+u[v>>2];h=+u[e+16>>2];g=n+8|0;l=+u[g>>2];m=+u[e+20>>2];b=_*h-l*m;m=h*l+_*m;u[t>>2]=b;y=t+4|0;u[y>>2]=m;_=+u[v>>2];l=+u[e+24>>2];h=+u[g>>2];p=+u[e+28>>2];c=+u[i+12>>2];s=+u[e+(r<<3)>>2];a=+u[i+8>>2];f=+u[e+(r<<3)+4>>2];d=+u[i>>2]+(c*s-a*f);f=s*a+c*f+ +u[i+4>>2];u[t+16>>2]=b*(d-(+u[n>>2]+(_*l-h*p)))+(f-(l*h+_*p+ +u[n+4>>2]))*m-+u[e+76>>2]-+u[e+80>>2];u[t+8>>2]=d;u[t+12>>2]=f;u[t>>2]=-b;u[y>>2]=-m;return}default:return}}function oC(t,e){t=t|0;e=e|0;var i=0,r=0,s=0,a=0,c=0,l=0.0,h=0.0,_=0,p=0,d=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0;o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+20>>2]=o[e+20>>2];b=o[e+40>>2]|0;p=t+32|0;o[p>>2]=b;f=o[e+28>>2]|0;w=t+48|0;o[w>>2]=f;g=f*88|0;m=b+102796|0;c=o[m>>2]|0;if((c|0)>=32)Gt(10296,10213,38,10330);a=b+102412+(c*12|0)|0;o[b+102412+(c*12|0)+4>>2]=g;d=b+102400|0;_=o[d>>2]|0;if((_+g|0)>102400){o[a>>2]=eE(g)|0;n[b+102412+(c*12|0)+8>>0]=1;y=o[p>>2]|0;f=o[w>>2]|0}else{o[a>>2]=b+_;n[b+102412+(c*12|0)+8>>0]=0;o[d>>2]=(o[d>>2]|0)+g;y=b}c=b+102404|0;d=(o[c>>2]|0)+g|0;o[c>>2]=d;g=b+102408|0;b=o[g>>2]|0;o[g>>2]=(b|0)>(d|0)?b:d;o[m>>2]=(o[m>>2]|0)+1;g=t+36|0;o[g>>2]=o[a>>2];b=f*156|0;d=y+102796|0;c=o[d>>2]|0;if((c|0)>=32)Gt(10296,10213,38,10330);a=y+102412+(c*12|0)|0;o[y+102412+(c*12|0)+4>>2]=b;p=y+102400|0;_=o[p>>2]|0;if((_+b|0)>102400){o[a>>2]=eE(b)|0;n[y+102412+(c*12|0)+8>>0]=1;f=o[w>>2]|0}else{o[a>>2]=y+_;n[y+102412+(c*12|0)+8>>0]=0;o[p>>2]=(o[p>>2]|0)+b}_=y+102404|0;m=(o[_>>2]|0)+b|0;o[_>>2]=m;_=y+102408|0;b=o[_>>2]|0;o[_>>2]=(b|0)>(m|0)?b:m;o[d>>2]=(o[d>>2]|0)+1;_=o[a>>2]|0;m=t+40|0;o[m>>2]=_;o[t+24>>2]=o[e+32>>2];o[t+28>>2]=o[e+36>>2];a=o[e+24>>2]|0;b=t+44|0;o[b>>2]=a;if((f|0)<=0)return;d=t+20|0;p=t+8|0;a=o[a>>2]|0;c=o[a+124>>2]|0;if((c|0)>0){i=a;v=_;r=c;s=0}else Gt(13679,13480,73,13694);while(1){t=o[i+48>>2]|0;c=o[i+52>>2]|0;T=o[t+8>>2]|0;x=o[c+8>>2]|0;c=o[(o[c+12>>2]|0)+8>>2]|0;t=o[(o[t+12>>2]|0)+8>>2]|0;o[v+(s*156|0)+136>>2]=o[i+136>>2];o[v+(s*156|0)+140>>2]=o[i+140>>2];o[v+(s*156|0)+144>>2]=o[i+144>>2];A=T+8|0;o[v+(s*156|0)+112>>2]=o[A>>2];S=x+8|0;o[v+(s*156|0)+116>>2]=o[S>>2];_=T+120|0;o[v+(s*156|0)+120>>2]=o[_>>2];f=x+120|0;o[v+(s*156|0)+124>>2]=o[f>>2];y=T+128|0;o[v+(s*156|0)+128>>2]=o[y>>2];e=x+128|0;o[v+(s*156|0)+132>>2]=o[e>>2];o[v+(s*156|0)+152>>2]=s;o[v+(s*156|0)+148>>2]=r;a=v+(s*156|0)+80|0;o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+16>>2]=0;o[a+20>>2]=0;o[a+24>>2]=0;o[a+28>>2]=0;a=o[g>>2]|0;o[a+(s*88|0)+32>>2]=o[A>>2];o[a+(s*88|0)+36>>2]=o[S>>2];o[a+(s*88|0)+40>>2]=o[_>>2];o[a+(s*88|0)+44>>2]=o[f>>2];T=T+28|0;f=o[T+4>>2]|0;_=a+(s*88|0)+48|0;o[_>>2]=o[T>>2];o[_+4>>2]=f;x=x+28|0;_=o[x+4>>2]|0;f=a+(s*88|0)+56|0;o[f>>2]=o[x>>2];o[f+4>>2]=_;o[a+(s*88|0)+64>>2]=o[y>>2];o[a+(s*88|0)+68>>2]=o[e>>2];e=i+104|0;y=o[e+4>>2]|0;f=a+(s*88|0)+16|0;o[f>>2]=o[e>>2];o[f+4>>2]=y;f=i+112|0;y=o[f+4>>2]|0;e=a+(s*88|0)+24|0;o[e>>2]=o[f>>2];o[e+4>>2]=y;o[a+(s*88|0)+84>>2]=r;o[a+(s*88|0)+76>>2]=t;o[a+(s*88|0)+80>>2]=c;o[a+(s*88|0)+72>>2]=o[i+120>>2];c=0;do{if(!(n[d>>0]|0)){l=0.0;h=0.0}else{h=+u[p>>2];l=h*+u[i+64+(c*20|0)+12>>2];h=h*+u[i+64+(c*20|0)+8>>2]}u[v+(s*156|0)+(c*36|0)+16>>2]=h;u[v+(s*156|0)+(c*36|0)+20>>2]=l;T=v+(s*156|0)+(c*36|0)|0;u[v+(s*156|0)+(c*36|0)+24>>2]=0.0;u[v+(s*156|0)+(c*36|0)+28>>2]=0.0;u[v+(s*156|0)+(c*36|0)+32>>2]=0.0;o[T>>2]=0;o[T+4>>2]=0;o[T+8>>2]=0;o[T+12>>2]=0;T=i+64+(c*20|0)|0;S=o[T+4>>2]|0;A=a+(s*88|0)+(c<<3)|0;o[A>>2]=o[T>>2];o[A+4>>2]=S;c=c+1|0}while((c|0)!=(r|0));s=s+1|0;if((s|0)>=(o[w>>2]|0)){i=13;break}i=o[(o[b>>2]|0)+(s<<2)>>2]|0;r=o[i+124>>2]|0;if((r|0)<=0){i=14;break}v=o[m>>2]|0}if((i|0)==13)return;else if((i|0)==14)Gt(13679,13480,73,13694)}function sC(t,e){t=t|0;e=e|0;var i=0,r=0,s=0,a=0;i=t+8|0;o[i>>2]=128;o[t+4>>2]=0;r=eE(1024)|0;o[t>>2]=r;VE(r|0,0,o[i>>2]<<3|0)|0;i=t+12|0;r=i+56|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(r|0));do{if(!(n[20845]|0)){i=1;r=0;while(1){if((r|0)>=14){i=4;break}r=((i|0)>(o[960+(r<<2)>>2]|0)&1)+r|0;n[20204+i>>0]=r;i=i+1|0;if((i|0)>=641){i=2;break}}if((i|0)==2){n[20845]=1;break}else if((i|0)==4)Gt(10165,6449,71,10183)}}while(0);o[t+102468>>2]=0;o[t+102472>>2]=0;o[t+102476>>2]=0;o[t+102864>>2]=0;o[t+102872>>2]=-1;a=t+102884|0;o[a>>2]=16;o[t+102880>>2]=0;s=eE(576)|0;o[t+102876>>2]=s;r=o[a>>2]|0;VE(s|0,0,r*36|0)|0;i=r+-1|0;if((r|0)>1){r=0;do{i=r;r=r+1|0;o[s+(i*36|0)+20>>2]=r;o[s+(i*36|0)+32>>2]=-1;i=(o[a>>2]|0)+-1|0}while((r|0)<(i|0))}o[s+(i*36|0)+20>>2]=-1;o[s+(((o[a>>2]|0)+-1|0)*36|0)+32>>2]=-1;a=t+102888|0;o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[t+102920>>2]=16;o[t+102924>>2]=0;o[t+102916>>2]=eE(128)|0;o[t+102908>>2]=16;o[t+102912>>2]=0;o[t+102904>>2]=eE(64)|0;o[t+102932>>2]=0;o[t+102936>>2]=0;o[t+102940>>2]=1096;o[t+102944>>2]=1120;a=t+102948|0;o[t+102980>>2]=0;o[t+102984>>2]=0;o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+16>>2]=0;n[t+102992>>0]=1;n[t+102993>>0]=1;n[t+102994>>0]=0;n[t+102995>>0]=1;n[t+102976>>0]=1;r=e;s=o[r+4>>2]|0;e=t+102968|0;o[e>>2]=o[r>>2];o[e+4>>2]=s;o[t+102868>>2]=4;u[t+102988>>2]=0.0;o[a>>2]=t;t=t+102996|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;return}function aC(t){t=t|0;var e=0,i=0,n=0;e=o[t+102952>>2]|0;if(e|0)do{i=e;e=o[e+96>>2]|0;i=o[i+100>>2]|0;while(1){if(!i)break;n=o[i+4>>2]|0;o[i+28>>2]=0;EA(i,t);i=n}}while((e|0)!=0);iE(o[t+102904>>2]|0);iE(o[t+102916>>2]|0);iE(o[t+102876>>2]|0);if(o[t+102468>>2]|0)Gt(10200,10213,32,10260);if(o[t+102864>>2]|0)Gt(10278,10213,33,10260);n=t+4|0;e=o[t>>2]|0;if((o[n>>2]|0)>0)i=0;else{t=e;iE(t);return}do{iE(o[e+(i<<3)+4>>2]|0);i=i+1|0;e=o[t>>2]|0}while((i|0)<(o[n>>2]|0));iE(e);return}function cC(t,e){t=t|0;e=e|0;var i=0,s=0,a=0,c=0,l=0,h=0,p=0,d=0,f=0,b=0.0;if(o[t+102868>>2]&2|0)Gt(13799,13819,109,13859);f=Fx(t,152)|0;d=e+4|0;if((o[d>>2]&2139095040|0)==2139095040)Gt(10378,10401,27,10440);if((o[e+8>>2]&2139095040|0)==2139095040)Gt(10378,10401,27,10440);h=e+16|0;if((o[h>>2]&2139095040|0)==2139095040)Gt(10447,10401,28,10440);if((o[e+20>>2]&2139095040|0)==2139095040)Gt(10447,10401,28,10440);s=e+12|0;if((o[s>>2]&2139095040|0)==2139095040)Gt(10476,10401,29,10440);c=e+24|0;if((o[c>>2]&2139095040|0)==2139095040)Gt(10497,10401,30,10440);a=e+32|0;b=+u[a>>2];if(!(b>=0.0)|((u[_>>2]=b,o[_>>2]|0)&2139095040|0)==2139095040)Gt(10528,10401,31,10440);l=e+28|0;b=+u[l>>2];if(!(b>=0.0)|((u[_>>2]=b,o[_>>2]|0)&2139095040|0)==2139095040)Gt(10588,10401,32,10440);p=f+4|0;r[p>>1]=0;i=(n[e+39>>0]|0)==0?0:8;r[p>>1]=i;if(n[e+38>>0]|0){i=i|16;r[p>>1]=i}if(n[e+36>>0]|0){i=i|4;r[p>>1]=i}if(n[e+37>>0]|0){i=i|2;r[p>>1]=i}if(n[e+40>>0]|0)r[p>>1]=i|32;o[f+88>>2]=t;p=d;i=o[p>>2]|0;p=o[p+4>>2]|0;d=f+12|0;o[d>>2]=i;o[d+4>>2]=p;b=+u[s>>2];u[f+20>>2]=+F(+b);u[f+24>>2]=+B(+b);u[f+28>>2]=0.0;u[f+32>>2]=0.0;d=f+36|0;o[d>>2]=i;o[d+4>>2]=p;d=f+44|0;o[d>>2]=i;o[d+4>>2]=p;s=o[s>>2]|0;o[f+52>>2]=s;o[f+56>>2]=s;u[f+60>>2]=0.0;o[f+108>>2]=0;o[f+112>>2]=0;s=f+92|0;o[s>>2]=0;d=f+96|0;o[d>>2]=0;p=o[h+4>>2]|0;i=f+64|0;o[i>>2]=o[h>>2];o[i+4>>2]=p;o[f+72>>2]=o[c>>2];o[f+132>>2]=o[l>>2];o[f+136>>2]=o[a>>2];o[f+140>>2]=o[e+48>>2];u[f+76>>2]=0.0;u[f+80>>2]=0.0;u[f+84>>2]=0.0;u[f+144>>2]=0.0;i=o[e>>2]|0;o[f>>2]=i;b=(i|0)==2?1.0:0.0;u[f+116>>2]=b;u[f+120>>2]=b;u[f+124>>2]=0.0;u[f+128>>2]=0.0;o[f+148>>2]=o[e+44>>2];o[f+100>>2]=0;o[f+104>>2]=0;o[s>>2]=0;s=t+102952|0;i=o[s>>2]|0;o[d>>2]=i;if(!i){o[s>>2]=f;t=t+102960|0;d=o[t>>2]|0;d=d+1|0;o[t>>2]=d;return f|0}o[i+92>>2]=f;o[s>>2]=f;t=t+102960|0;d=o[t>>2]|0;d=d+1|0;o[t>>2]=d;return f|0}function uC(t,e){t=t|0;e=e|0;var i=0,r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0;_=t+102960|0;if((o[_>>2]|0)<=0)Gt(13870,13819,133,13886);if(o[t+102868>>2]&2|0)Gt(13799,13819,134,13886);c=e+108|0;i=o[c>>2]|0;if(i|0){a=t+102980|0;do{s=i;i=o[i+12>>2]|0;r=o[a>>2]|0;if(!r)r=s+4|0;else{l=s+4|0;kk[o[(o[r>>2]|0)+8>>2]&127](r,o[l>>2]|0);r=l}lC(t,o[r>>2]|0);o[c>>2]=i}while((i|0)!=0)}o[c>>2]=0;r=e+112|0;i=o[r>>2]|0;if(i|0){s=t+102872|0;do{l=i;i=o[i+12>>2]|0;xA(s,o[l+4>>2]|0)}while((i|0)!=0)}o[r>>2]=0;l=e+100|0;i=o[l>>2]|0;t:do{if(!i)h=e+104|0;else{c=t+102980|0;a=t+102872|0;u=e+104|0;while(1){s=i;i=o[i+4>>2]|0;r=o[c>>2]|0;if(r|0)kk[o[(o[r>>2]|0)+12>>2]&127](r,s);CA(s,a);EA(s,t);r=n[20248]|0;if((r&255)>=14)break;r=t+12+((r&255)<<2)|0;o[s>>2]=o[r>>2];o[r>>2]=s;o[l>>2]=i;o[u>>2]=(o[u>>2]|0)+-1;if(!i){h=u;break t}}Gt(6496,6449,171,10356)}}while(0);o[l>>2]=0;o[h>>2]=0;r=o[e+92>>2]|0;i=e+96|0;if(r|0)o[r+96>>2]=o[i>>2];s=o[i>>2]|0;if(s|0)o[s+92>>2]=r;i=t+102952|0;if((o[i>>2]|0)==(e|0))o[i>>2]=s;o[_>>2]=(o[_>>2]|0)+-1;i=n[20356]|0;if((i&255)<14){t=t+12+((i&255)<<2)|0;o[e>>2]=o[t>>2];o[t>>2]=e;return}else Gt(6496,6449,171,10356)}function lC(t,e){t=t|0;e=e|0;var i=0,s=0,c=0,l=0,h=0,_=0,p=0,d=0;if(o[t+102868>>2]&2|0)Gt(13799,13819,274,13898);d=n[e+61>>0]|0;s=o[e+8>>2]|0;i=e+12|0;if(s|0)o[s+12>>2]=o[i>>2];c=o[i>>2]|0;if(c|0)o[c+8>>2]=s;i=t+102956|0;if((o[i>>2]|0)==(e|0))o[i>>2]=c;p=o[e+48>>2]|0;h=o[e+52>>2]|0;s=p+4|0;i=a[s>>1]|0;if(!(i&2)){r[s>>1]=i|2;u[p+144>>2]=0.0}s=h+4|0;i=a[s>>1]|0;if(!(i&2)){r[s>>1]=i|2;u[h+144>>2]=0.0}l=e+24|0;i=o[l>>2]|0;s=e+28|0;if(i|0)o[i+12>>2]=o[s>>2];c=o[s>>2]|0;if(c|0)o[c+8>>2]=i;i=p+108|0;if((e+16|0)==(o[i>>2]|0))o[i>>2]=c;o[l>>2]=0;o[s>>2]=0;l=e+40|0;i=o[l>>2]|0;s=e+44|0;if(i|0)o[i+12>>2]=o[s>>2];c=o[s>>2]|0;if(c|0)o[c+8>>2]=i;i=h+108|0;if((e+32|0)==(o[i>>2]|0))o[i>>2]=c;o[l>>2]=0;o[s>>2]=0;Ik[o[(o[e>>2]|0)+24>>2]&127](e);do{switch(o[e+4>>2]|0){case 3:{i=n[20380]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 5:{i=n[20372]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 2:{i=n[20460]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 1:{i=n[20432]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 4:{i=n[20400]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 6:{i=n[20480]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 7:{i=n[20428]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 8:{i=n[20412]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 9:{i=n[20384]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 10:{i=n[20372]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}case 11:{i=n[20396]|0;if((i&255)<14)_=i;else Gt(6496,6449,171,10356);break}default:Gt(13928,8841,178,13934)}}while(0);s=t+12+((_&255)<<2)|0;o[e>>2]=o[s>>2];o[s>>2]=e;s=t+102964|0;i=o[s>>2]|0;if((i|0)<=0)Gt(13911,13819,346,13898);o[s>>2]=i+-1;if(d<<24>>24)return;i=o[h+112>>2]|0;if(!i)return;do{if((o[i>>2]|0)==(p|0)){d=(o[i+4>>2]|0)+4|0;o[d>>2]=o[d>>2]|8}i=o[i+12>>2]|0}while((i|0)!=0);return}function hC(t,e){t=t|0;e=e|0;var i=0,r=0,s=0.0,a=0,c=0.0,l=0,h=0,p=0.0,d=0,f=0.0,b=0.0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0.0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0,O=0.0,k=0.0;if(o[t+102868>>2]&2|0)Gt(13799,13819,214,13942);t:do{switch(o[e>>2]|0){case 3:{a=Fx(t,176)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);else{o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];C=a+16|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[C+16>>2]=0;o[C+20>>2]=0;o[C+24>>2]=0;o[C+28>>2]=0;o[a>>2]=1304;C=e+20|0;A=o[C+4>>2]|0;S=a+80|0;o[S>>2]=o[C>>2];o[S+4>>2]=A;S=e+28|0;A=o[S+4>>2]|0;C=a+88|0;o[C>>2]=o[S>>2];o[C+4>>2]=A;o[a+104>>2]=o[e+36>>2];o[a+68>>2]=o[e+40>>2];o[a+72>>2]=o[e+44>>2];u[a+100>>2]=0.0;u[a+96>>2]=0.0;u[a+76>>2]=0.0;C=a;break t}break}case 5:{d=Fx(t,168)|0;o[d>>2]=1824;i=o[e+8>>2]|0;h=o[e+12>>2]|0;if((i|0)==(h|0))Gt(8816,8841,185,8888);o[d+4>>2]=o[e>>2];o[d+8>>2]=0;o[d+12>>2]=0;o[d+48>>2]=i;o[d+52>>2]=h;o[d+56>>2]=0;n[d+61>>0]=n[e+16>>0]|0;n[d+60>>0]=0;o[d+64>>2]=o[e+4>>2];l=d+16|0;o[l>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[l+16>>2]=0;o[l+20>>2]=0;o[l+24>>2]=0;o[l+28>>2]=0;o[d>>2]=1460;l=e+20|0;if((o[l>>2]&2139095040|0)==2139095040)Gt(14226,7640,34,14248);if((o[e+24>>2]&2139095040|0)==2139095040)Gt(14226,7640,34,14248);a=e+28|0;b=+u[a>>2];if(!(b>=0.0)|((u[_>>2]=b,o[_>>2]|0)&2139095040|0)==2139095040)Gt(14261,7640,35,14248);r=e+32|0;b=+u[r>>2];if(!(b>=0.0)|((u[_>>2]=b,o[_>>2]|0)&2139095040|0)==2139095040)Gt(14311,7640,36,14248);i=e+36|0;b=+u[i>>2];if(!(b>=0.0)|((u[_>>2]=b,o[_>>2]|0)&2139095040|0)==2139095040)Gt(14367,7640,37,14248);else{C=l;A=o[C>>2]|0;C=o[C+4>>2]|0;S=d+76|0;o[S>>2]=A;o[S+4>>2]=C;f=(o[_>>2]=A,+u[_>>2])-+u[h+12>>2];p=(o[_>>2]=C,+u[_>>2])-+u[h+16>>2];c=+u[h+24>>2];b=+u[h+20>>2];u[d+68>>2]=f*c+p*b;u[d+72>>2]=c*p-f*b;o[d+104>>2]=o[a>>2];u[d+96>>2]=0.0;u[d+100>>2]=0.0;o[d+84>>2]=o[r>>2];o[d+88>>2]=o[i>>2];u[d+92>>2]=0.0;u[d+108>>2]=0.0;C=d;break t}break}case 2:{a=Fx(t,256)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];r=a+16|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[a>>2]=1512;r=a+84|0;C=e+20|0;i=o[C+4>>2]|0;A=a+68|0;o[A>>2]=o[C>>2];o[A+4>>2]=i;A=e+28|0;i=o[A+4>>2]|0;C=a+76|0;o[C>>2]=o[A>>2];o[C+4>>2]=i;C=e+36|0;i=o[C>>2]|0;C=o[C+4>>2]|0;A=r;o[A>>2]=i;o[A+4>>2]=C;c=(o[_>>2]=i,+u[_>>2]);s=(o[_>>2]=C,+u[_>>2]);b=+L(+(c*c+s*s));p=1.0/b;if(!(b<1.1920928955078125e-07)){s=s*p;b=c*p;u[r>>2]=b;u[a+88>>2]=s;i=(u[_>>2]=b,o[_>>2]|0)}u[a+92>>2]=-s;o[a+96>>2]=i;o[a+100>>2]=o[e+44>>2];C=a+104|0;u[a+252>>2]=0.0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[a+120>>2]=o[e+52>>2];o[a+124>>2]=o[e+56>>2];o[a+128>>2]=o[e+64>>2];o[a+132>>2]=o[e+68>>2];n[a+136>>0]=n[e+48>>0]|0;n[a+137>>0]=n[e+60>>0]|0;o[a+140>>2]=0;C=a+184|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;C=a;break}case 1:{a=Fx(t,228)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);else{o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];C=a+16|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[C+16>>2]=0;o[C+20>>2]=0;o[C+24>>2]=0;o[C+28>>2]=0;o[a>>2]=1616;C=e+20|0;A=o[C+4>>2]|0;S=a+68|0;o[S>>2]=o[C>>2];o[S+4>>2]=A;S=e+28|0;A=o[S+4>>2]|0;C=a+76|0;o[C>>2]=o[S>>2];o[C+4>>2]=A;o[a+116>>2]=o[e+36>>2];C=a+84|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[a+120>>2]=o[e+44>>2];o[a+124>>2]=o[e+48>>2];o[a+104>>2]=o[e+60>>2];o[a+108>>2]=o[e+56>>2];n[a+112>>0]=n[e+40>>0]|0;n[a+100>>0]=n[e+52>>0]|0;o[a+224>>2]=0;C=a;break t}break}case 4:{a=Fx(t,196)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];i=a+16|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;o[i+16>>2]=0;o[i+20>>2]=0;o[i+24>>2]=0;o[i+28>>2]=0;o[a>>2]=1564;i=e+20|0;r=o[i+4>>2]|0;A=a+68|0;o[A>>2]=o[i>>2];o[A+4>>2]=r;A=e+28|0;r=o[A+4>>2]|0;i=a+76|0;o[i>>2]=o[A>>2];o[i+4>>2]=r;i=e+36|0;r=o[i+4>>2]|0;A=a+92|0;o[A>>2]=o[i>>2];o[A+4>>2]=r;A=e+44|0;r=o[A+4>>2]|0;i=a+100|0;o[i>>2]=o[A>>2];o[i+4>>2]=r;i=o[e+52>>2]|0;o[a+84>>2]=i;r=o[e+56>>2]|0;o[a+88>>2]=r;s=+u[e+60>>2];if(s!=0.0){b=(o[_>>2]=r,+u[_>>2]);f=(o[_>>2]=i,+u[_>>2]);u[a+112>>2]=s;u[a+108>>2]=f+s*b;u[a+116>>2]=0.0;C=a;break t}else Gt(14140,14159,65,14212);break}case 6:{C=Fx(t,276)|0;o[C>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);o[C+4>>2]=o[e>>2];o[C+8>>2]=0;o[C+12>>2]=0;a=C+48|0;o[a>>2]=i;v=C+52|0;o[v>>2]=r;o[C+56>>2]=0;n[C+61>>0]=n[e+16>>0]|0;n[C+60>>0]=0;o[C+64>>2]=o[e+4>>2];d=C+16|0;o[d>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d+16>>2]=0;o[d+20>>2]=0;o[d+24>>2]=0;o[d+28>>2]=0;o[C>>2]=1408;d=C+92|0;T=C+100|0;m=C+108|0;S=C+116|0;g=C+124|0;A=C+132|0;r=o[e+20>>2]|0;o[C+68>>2]=r;w=e+24|0;y=o[w>>2]|0;o[C+72>>2]=y;l=o[r+4>>2]|0;o[C+76>>2]=l;x=o[y+4>>2]|0;o[C+80>>2]=x;if((l+-1|0)>>>0>=2)Gt(13961,14019,53,14070);if((x+-1|0)>>>0>=2)Gt(14082,14019,54,14070);i=o[r+48>>2]|0;o[C+84>>2]=i;h=o[r+52>>2]|0;o[a>>2]=h;s=+u[h+20>>2];c=+u[h+24>>2];p=+u[i+20>>2];f=+u[i+24>>2];if((l|0)==1){f=+u[h+56>>2];b=+u[i+56>>2];a=r+68|0;h=o[a+4>>2]|0;l=m;o[l>>2]=o[a>>2];o[l+4>>2]=h;l=r+76|0;h=o[l+4>>2]|0;m=d;o[m>>2]=o[l>>2];o[m+4>>2]=h;m=o[r+116>>2]|0;o[C+140>>2]=m;u[g>>2]=0.0;u[C+128>>2]=0.0;b=f-b-(o[_>>2]=m,+u[_>>2])}else{R=+u[i+16>>2];E=+u[i+12>>2];I=+u[h+16>>2];O=+u[h+12>>2];a=r+68|0;i=o[a>>2]|0;a=o[a+4>>2]|0;h=m;o[h>>2]=i;o[h+4>>2]=a;h=r+76|0;l=o[h>>2]|0;h=o[h+4>>2]|0;m=d;o[m>>2]=l;o[m+4>>2]=h;o[C+140>>2]=o[r+100>>2];m=r+84|0;d=o[m>>2]|0;m=o[m+4>>2]|0;o[g>>2]=d;o[g+4>>2]=m;P=(o[_>>2]=i,+u[_>>2]);b=(o[_>>2]=a,+u[_>>2]);M=(o[_>>2]=l,+u[_>>2]);D=(o[_>>2]=h,+u[_>>2]);E=O-E+(c*M-s*D);c=I-R+(s*M+c*D);s=(o[_>>2]=d,+u[_>>2])*(f*E+p*c-P);b=s+(o[_>>2]=m,+u[_>>2])*(f*c-p*E-b)}r=o[y+48>>2]|0;o[C+88>>2]=r;a=o[y+52>>2]|0;o[v>>2]=a;s=+u[a+20>>2];c=+u[a+24>>2];p=+u[r+20>>2];f=+u[r+24>>2];i=o[w>>2]|0;if((x|0)==1){O=+u[a+56>>2];s=+u[r+56>>2];v=i+68|0;x=o[v+4>>2]|0;w=S;o[w>>2]=o[v>>2];o[w+4>>2]=x;w=i+76|0;x=o[w+4>>2]|0;S=T;o[S>>2]=o[w>>2];o[S+4>>2]=x;S=o[i+116>>2]|0;o[C+144>>2]=S;u[A>>2]=0.0;u[C+136>>2]=0.0;s=O-s-(o[_>>2]=S,+u[_>>2])}else{P=+u[r+16>>2];I=+u[r+12>>2];E=+u[a+16>>2];k=+u[a+12>>2];v=i+68|0;y=o[v>>2]|0;v=o[v+4>>2]|0;x=S;o[x>>2]=y;o[x+4>>2]=v;x=i+76|0;w=o[x>>2]|0;x=o[x+4>>2]|0;S=T;o[S>>2]=w;o[S+4>>2]=x;o[C+144>>2]=o[i+100>>2];S=i+84|0;T=o[S>>2]|0;S=o[S+4>>2]|0;o[A>>2]=T;o[A+4>>2]=S;R=(o[_>>2]=y,+u[_>>2]);O=(o[_>>2]=v,+u[_>>2]);D=(o[_>>2]=w,+u[_>>2]);M=(o[_>>2]=x,+u[_>>2]);I=k-I+(c*D-s*M);s=E-P+(s*D+c*M);R=(o[_>>2]=T,+u[_>>2])*(f*I+p*s-R);s=R+(o[_>>2]=S,+u[_>>2])*(f*s-p*I-O)}k=+u[e+28>>2];u[C+152>>2]=k;u[C+148>>2]=b+s*k;u[C+156>>2]=0.0;break}case 7:{a=Fx(t,224)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);else{o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];A=a+16|0;o[A>>2]=0;o[A+4>>2]=0;o[A+8>>2]=0;o[A+12>>2]=0;o[A+16>>2]=0;o[A+20>>2]=0;o[A+24>>2]=0;o[A+28>>2]=0;o[a>>2]=1772;A=e+20|0;C=o[A+4>>2]|0;S=a+76|0;o[S>>2]=o[A>>2];o[S+4>>2]=C;S=e+28|0;C=o[S+4>>2]|0;A=a+84|0;o[A>>2]=o[S>>2];o[A+4>>2]=C;A=e+36|0;C=o[A>>2]|0;A=o[A+4>>2]|0;S=a+92|0;o[S>>2]=C;o[S+4>>2]=A;u[a+100>>2]=-(o[_>>2]=A,+u[_>>2]);o[a+104>>2]=C;u[a+204>>2]=0.0;u[a+108>>2]=0.0;u[a+208>>2]=0.0;u[a+112>>2]=0.0;u[a+212>>2]=0.0;u[a+116>>2]=0.0;o[a+120>>2]=o[e+48>>2];o[a+124>>2]=o[e+52>>2];n[a+128>>0]=n[e+44>>0]|0;o[a+68>>2]=o[e+56>>2];o[a+72>>2]=o[e+60>>2];u[a+216>>2]=0.0;u[a+220>>2]=0.0;C=a+172|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;C=a;break t}break}case 8:{a=Fx(t,208)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);else{o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];C=a+16|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[C+16>>2]=0;o[C+20>>2]=0;o[C+24>>2]=0;o[C+28>>2]=0;o[a>>2]=1720;C=e+20|0;A=o[C+4>>2]|0;S=a+80|0;o[S>>2]=o[C>>2];o[S+4>>2]=A;S=e+28|0;A=o[S+4>>2]|0;C=a+88|0;o[C>>2]=o[S>>2];o[C+4>>2]=A;o[a+96>>2]=o[e+36>>2];o[a+68>>2]=o[e+40>>2];o[a+72>>2]=o[e+44>>2];u[a+104>>2]=0.0;u[a+108>>2]=0.0;u[a+112>>2]=0.0;C=a;break t}break}case 9:{a=Fx(t,180)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);else{o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];C=a+16|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[C+16>>2]=0;o[C+20>>2]=0;o[C+24>>2]=0;o[C+28>>2]=0;o[a>>2]=1356;C=e+20|0;A=o[C+4>>2]|0;S=a+68|0;o[S>>2]=o[C>>2];o[S+4>>2]=A;S=e+28|0;A=o[S+4>>2]|0;C=a+76|0;o[C>>2]=o[S>>2];o[C+4>>2]=A;u[a+84>>2]=0.0;u[a+88>>2]=0.0;u[a+92>>2]=0.0;o[a+96>>2]=o[e+36>>2];o[a+100>>2]=o[e+40>>2];C=a;break t}break}case 10:{a=Fx(t,168)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);else{o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];C=a+16|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[C+16>>2]=0;o[C+20>>2]=0;o[C+24>>2]=0;o[C+28>>2]=0;o[a>>2]=1668;C=e+20|0;A=o[C+4>>2]|0;S=a+68|0;o[S>>2]=o[C>>2];o[S+4>>2]=A;S=e+28|0;A=o[S+4>>2]|0;C=a+76|0;o[C>>2]=o[S>>2];o[C+4>>2]=A;o[a+84>>2]=o[e+36>>2];u[a+160>>2]=0.0;u[a+92>>2]=0.0;o[a+164>>2]=0;u[a+88>>2]=0.0;C=a;break t}break}case 11:{a=Fx(t,192)|0;o[a>>2]=1824;i=o[e+8>>2]|0;r=o[e+12>>2]|0;if((i|0)==(r|0))Gt(8816,8841,185,8888);else{o[a+4>>2]=o[e>>2];o[a+8>>2]=0;o[a+12>>2]=0;o[a+48>>2]=i;o[a+52>>2]=r;o[a+56>>2]=0;n[a+61>>0]=n[e+16>>0]|0;n[a+60>>0]=0;o[a+64>>2]=o[e+4>>2];S=a+16|0;o[S>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[S+12>>2]=0;o[S+16>>2]=0;o[S+20>>2]=0;o[S+24>>2]=0;o[S+28>>2]=0;o[a>>2]=836;S=e+20|0;A=o[S+4>>2]|0;C=a+68|0;o[C>>2]=o[S>>2];o[C+4>>2]=A;o[a+76>>2]=o[e+28>>2];u[a+80>>2]=0.0;u[a+84>>2]=0.0;u[a+88>>2]=0.0;o[a+92>>2]=o[e+32>>2];o[a+96>>2]=o[e+36>>2];o[a+100>>2]=o[e+40>>2];C=a;break t}break}default:Gt(13928,8841,121,13954)}}while(0);o[C+8>>2]=0;r=t+102956|0;i=o[r>>2]|0;o[C+12>>2]=i;if(i|0)o[i+8>>2]=C;o[r>>2]=C;r=t+102964|0;o[r>>2]=(o[r>>2]|0)+1;r=C+16|0;o[C+20>>2]=C;l=o[C+52>>2]|0;o[r>>2]=l;o[C+24>>2]=0;h=o[C+48>>2]|0;a=h+108|0;i=o[a>>2]|0;o[C+28>>2]=i;if(i|0)o[i+8>>2]=r;o[a>>2]=r;a=C+32|0;o[C+36>>2]=C;o[a>>2]=h;o[C+40>>2]=0;r=l+108|0;i=o[r>>2]|0;o[C+44>>2]=i;if(i|0)o[i+8>>2]=a;o[r>>2]=a;r=o[e+8>>2]|0;if(n[e+16>>0]|0)return C|0;i=o[(o[e+12>>2]|0)+112>>2]|0;if(!i)return C|0;do{if((o[i>>2]|0)==(r|0)){e=(o[i+4>>2]|0)+4|0;o[e>>2]=o[e>>2]|8}i=o[i+12>>2]|0}while((i|0)!=0);return C|0}function _C(t,e,i,c){t=t|0;e=+e;i=i|0;c=c|0;var l=0,h=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0.0,D=0.0,M=0.0,R=0.0,I=0.0,k=0.0,j=0.0,J=0.0,G=0.0,N=0.0,U=0.0,W=0.0,V=0,X=0,z=0.0,q=0.0,H=0.0,Y=0.0,Z=0,Q=0,K=0,$=0,tt=0,et=0,it=0,nt=0,rt=0,ot=0,st=0.0,at=0.0,ct=0.0,ut=0.0,lt=0.0,ht=0.0,_t=0.0,pt=0.0,dt=0.0,ft=0.0,bt=0.0,mt=0.0,gt=0.0,yt=0.0,vt=0.0,wt=0.0,xt=0.0,Tt=0.0,St=0.0,At=0.0,Ct=0.0,Et=0.0,Pt=0.0,Dt=0,Mt=0,Rt=0,It=0,Ot=0,kt=0,Lt=0,jt=0,Bt=0,Ft=0,Jt=0,Nt=0,Ut=0,Wt=0,Vt=0,Xt=0,zt=0,qt=0,Ht=0,Yt=0,Zt=0,Qt=0,Kt=0,$t=0,te=0,ee=0,ie=0,ne=0,re=0,oe=0,se=0,ae=0,ce=0,ue=0,le=0,he=0,_e=0,pe=0,de=0,fe=0,be=0,me=0,ge=0,ye=0,ve=0,we=0,xe=0,Te=0,Se=0,Ae=0,Ce=0,Ee=0,Pe=0,De=0,Me=0,Re=0,Ie=0,Oe=0,ke=0,Le=0,je=0,Be=0,Fe=0,Je=0,Ge=0,Ne=0,Ue=0,We=0,Ve=0,Xe=0,ze=0,qe=0,He=0,Ye=0,Ze=0,Qe=0,Ke=0,$e=0,ti=0,ei=0,ii=0,ni=0,ri=0,oi=0,si=0,ai=0,ci=0,ui=0,li=0,hi=0,_i=0,pi=0,di=0,fi=0,bi=0,mi=0,gi=0,yi=0,vi=0,wi=0,xi=0,Ti=0,Si=0,Ai=0,Ci=0,Ei=0,Pi=0,Di=0,Mi=0,Ri=0,Ii=0,Oi=0,ki=0,Li=0,ji=0,Bi=0,Fi=0,Ji=0,Gi=0,Ni=0,Ui=0,Wi=0,Vi=0,Xi=0,zi=0,qi=0,Hi=0,Yi=0,Zi=0,Qi=0,Ki=0,$i=0,tn=0;tn=d;d=d+528|0;qi=tn+256|0;Hi=tn+160|0;Xi=tn+136|0;Ni=tn+416|0;Gi=tn+364|0;Ui=tn+312|0;Vi=tn+308|0;Yi=tn+304|0;Wi=tn;Ji=tn+296|0;zi=tn+519|0;ke=tn+516|0;$i=t+102868|0;h=o[$i>>2]|0;Fi=t+102872|0;if(h&1){kA(Fi);h=o[$i>>2]&-2;o[$i>>2]=h}o[$i>>2]=h|2;Qi=e>0.0;Zi=Qi?(u[_>>2]=1.0/e,o[_>>2]|0):0;Ki=t+102988|0;st=+u[Ki>>2]*e;Oe=n[t+102992>>0]|0;Bi=t+102932|0;h=o[Bi>>2]|0;t:do{if(h|0){C=t+102884|0;E=t+102876|0;A=t+102944|0;S=t+102940|0;e:while(1){w=o[h+48>>2]|0;T=o[h+52>>2]|0;v=o[h+56>>2]|0;x=o[h+60>>2]|0;m=o[w+8>>2]|0;y=o[T+8>>2]|0;g=h+4|0;f=o[g>>2]|0;i:do{if(!(f&8))V=18;else{if(!((o[y>>2]|0)!=2?(o[m>>2]|0)!=2:0))V=8;n:do{if((V|0)==8){V=0;b=o[y+108>>2]|0;if(b|0)do{if((o[b>>2]|0)==(m|0)?(n[(o[b+4>>2]|0)+61>>0]|0)==0:0)break n;b=o[b+12>>2]|0}while((b|0)!=0);b=o[S>>2]|0;do{if(b)if(Dk[o[(o[b>>2]|0)+8>>2]&63](b,w,T)|0){f=o[g>>2]|0;break}else{ji=o[h+12>>2]|0;xA(Fi,h);h=ji;break i}}while(0);o[g>>2]=f&-9;V=18;break i}}while(0);ji=o[h+12>>2]|0;xA(Fi,h);h=ji}}while(0);do{if((V|0)==18){V=0;if(!(r[m+4>>1]&2))b=0;else b=(o[m>>2]|0)!=0;if(!(r[y+4>>1]&2))f=0;else f=(o[y>>2]|0)!=0;if(!(b|f)){h=o[h+12>>2]|0;break}g=o[(o[w+24>>2]|0)+(v*28|0)+24>>2]|0;f=o[(o[T+24>>2]|0)+(x*28|0)+24>>2]|0;if((g|0)<=-1){V=27;break e}b=o[C>>2]|0;if((b|0)<=(g|0)){V=27;break e}m=o[E>>2]|0;if(!((f|0)>-1&(b|0)>(f|0))){V=29;break e}if((+u[m+(f*36|0)>>2]-+u[m+(g*36|0)+8>>2]>0.0?1:+u[m+(f*36|0)+4>>2]-+u[m+(g*36|0)+12>>2]>0.0)|+u[m+(g*36|0)>>2]-+u[m+(f*36|0)+8>>2]>0.0|+u[m+(g*36|0)+4>>2]-+u[m+(f*36|0)+12>>2]>0.0){ji=o[h+12>>2]|0;xA(Fi,h);h=ji;break}else{OA(h,o[A>>2]|0);h=o[h+12>>2]|0;break}}}while(0);if(!h)break t}if((V|0)==27)Gt(14731,14772,164,14889);else if((V|0)==29)Gt(14731,14772,164,14889)}}while(0);u[t+103e3>>2]=0.0;ji=t+102995|0;if((n[ji>>0]|0)!=0&Qi){Ae=t+103008|0;u[Ae>>2]=0.0;Ee=t+103012|0;u[Ee>>2]=0.0;Ce=t+103016|0;u[Ce>>2]=0.0;y=t+102960|0;ve=o[y>>2]|0;we=o[t+102936>>2]|0;xe=o[t+102964>>2]|0;Te=o[t+102944>>2]|0;Se=t+68|0;m=ve<<2;Me=t+102864|0;h=o[Me>>2]|0;if((h|0)>=32)Gt(10296,10213,38,10330);b=t+102480+(h*12|0)|0;o[t+102480+(h*12|0)+4>>2]=m;De=t+102468|0;f=o[De>>2]|0;if((f+m|0)>102400){o[b>>2]=eE(m)|0;n[t+102480+(h*12|0)+8>>0]=1}else{o[b>>2]=t+68+f;n[t+102480+(h*12|0)+8>>0]=0;o[De>>2]=(o[De>>2]|0)+m}Pe=t+102472|0;m=(o[Pe>>2]|0)+m|0;o[Pe>>2]=m;v=t+102476|0;Le=o[v>>2]|0;o[v>>2]=(Le|0)>(m|0)?Le:m;m=(o[Me>>2]|0)+1|0;o[Me>>2]=m;Le=o[b>>2]|0;b=we<<2;Fe=t+102864|0;if((m|0)>=32)Gt(10296,10213,38,10330);f=t+102480+(m*12|0)|0;o[t+102480+(m*12|0)+4>>2]=b;Be=t+102468|0;h=o[Be>>2]|0;if((h+b|0)>102400){o[f>>2]=eE(b)|0;n[t+102480+(m*12|0)+8>>0]=1}else{o[f>>2]=t+68+h;n[t+102480+(m*12|0)+8>>0]=0;o[Be>>2]=(o[Be>>2]|0)+b}je=t+102472|0;b=(o[je>>2]|0)+b|0;o[je>>2]=b;g=t+102476|0;Ie=o[g>>2]|0;o[g>>2]=(Ie|0)>(b|0)?Ie:b;b=(o[Fe>>2]|0)+1|0;o[Fe>>2]=b;Ie=o[f>>2]|0;m=xe<<2;if((b|0)>=32)Gt(10296,10213,38,10330);h=t+102480+(b*12|0)|0;o[t+102480+(b*12|0)+4>>2]=m;f=o[Be>>2]|0;if((f+m|0)>102400){o[h>>2]=eE(m)|0;n[t+102480+(b*12|0)+8>>0]=1}else{o[h>>2]=t+68+f;n[t+102480+(b*12|0)+8>>0]=0;o[Be>>2]=(o[Be>>2]|0)+m}b=(o[je>>2]|0)+m|0;o[je>>2]=b;Re=o[g>>2]|0;o[g>>2]=(Re|0)>(b|0)?Re:b;b=(o[Fe>>2]|0)+1|0;o[Fe>>2]=b;Re=o[h>>2]|0;m=ve*12|0;if((b|0)>=32)Gt(10296,10213,38,10330);h=t+102480+(b*12|0)|0;o[t+102480+(b*12|0)+4>>2]=m;f=o[Be>>2]|0;if((f+m|0)>102400){o[h>>2]=eE(m)|0;n[t+102480+(b*12|0)+8>>0]=1}else{o[h>>2]=t+68+f;n[t+102480+(b*12|0)+8>>0]=0;o[Be>>2]=(o[Be>>2]|0)+m}b=(o[je>>2]|0)+m|0;o[je>>2]=b;Li=o[g>>2]|0;o[g>>2]=(Li|0)>(b|0)?Li:b;b=(o[Fe>>2]|0)+1|0;o[Fe>>2]=b;o[Yi>>2]=o[h>>2];if((b|0)>=32)Gt(10296,10213,38,10330);h=t+102480+(b*12|0)|0;o[t+102480+(b*12|0)+4>>2]=m;f=o[Be>>2]|0;if((f+m|0)>102400){o[h>>2]=eE(m)|0;n[t+102480+(b*12|0)+8>>0]=1}else{o[h>>2]=t+68+f;n[t+102480+(b*12|0)+8>>0]=0;o[Be>>2]=(o[Be>>2]|0)+m}m=(o[je>>2]|0)+m|0;o[je>>2]=m;ye=o[g>>2]|0;o[g>>2]=(ye|0)>(m|0)?ye:m;m=(o[Fe>>2]|0)+1|0;o[Fe>>2]=m;o[Vi>>2]=o[h>>2];ye=t+102952|0;h=o[ye>>2]|0;if(h|0)do{Li=h+4|0;r[Li>>1]=r[Li>>1]&-2;h=o[h+96>>2]|0}while((h|0)!=0);h=o[Bi>>2]|0;if(h|0)do{Li=h+4|0;o[Li>>2]=o[Li>>2]&-2;h=o[h+12>>2]|0}while((h|0)!=0);h=o[t+102956>>2]|0;if(h|0)do{n[h+60>>0]=0;h=o[h+12>>2]|0}while((h|0)!=0);ge=o[y>>2]|0;b=ge<<2;if((m|0)>=32)Gt(10296,10213,38,10330);h=t+102480+(m*12|0)|0;o[t+102480+(m*12|0)+4>>2]=b;f=o[De>>2]|0;if((f+b|0)>102400){o[h>>2]=eE(b)|0;n[t+102480+(m*12|0)+8>>0]=1}else{o[h>>2]=t+68+f;n[t+102480+(m*12|0)+8>>0]=0;o[De>>2]=(o[De>>2]|0)+b}f=(o[Pe>>2]|0)+b|0;o[Pe>>2]=f;me=o[v>>2]|0;o[v>>2]=(me|0)>(f|0)?me:f;f=(o[Me>>2]|0)+1|0;o[Me>>2]=f;me=o[h>>2]|0;h=o[ye>>2]|0;do{if(h){Ut=t+102976|0;Mt=Le;Rt=Re;ot=Ie;fe=t+102968|0;be=t+102972|0;he=Ni+4|0;ee=Ni+8|0;ne=Ni+12|0;oe=Ni+16|0;ae=Ni+20|0;ue=Ni+21|0;Yt=Ni+24|0;pe=Ni+28|0;le=Gi+4|0;te=Gi+8|0;ie=Gi+12|0;re=Gi+16|0;se=Gi+20|0;ce=Gi+21|0;Ft=Gi+24|0;Jt=Gi+28|0;Zt=Gi+32|0;de=Gi+36|0;It=Gi+40|0;_e=Oe<<24>>24==0;Bt=(i|0)>0;Vt=Ui+48|0;Ht=Ui+40|0;Wt=Ui+44|0;jt=(c|0)>0;Xt=Ui+36|0;zt=Ui+24|0;Kt=qi+8|0;kt=qi+12|0;Qt=Hi+8|0;Ot=Hi+12|0;rt=qi+4|0;nt=Hi+4|0;it=Xi+4|0;Dt=Xi+8|0;et=Xi+12|0;$t=Xi+16|0;Lt=(Te|0)!=0;Nt=qi+16|0;qt=Ui+28|0;t:while(1){b=h+4|0;f=r[b>>1]|0;do{if((f&35)==34){if(!(o[h>>2]|0))break;o[me>>2]=h;r[b>>1]=f|1;E=0;T=0;y=0;C=0;v=0;f=1;while(1){f=f+-1|0;S=o[me+(f<<2)>>2]|0;m=S+4|0;b=r[m>>1]|0;if(!(b&32)){V=86;break t}if((E|0)>=(ve|0)){V=88;break t}o[S+8>>2]=E;o[Mt+(E<<2)>>2]=S;tt=E+1|0;b=b&65535;if(!(b&2)){r[m>>1]=b|2;u[S+144>>2]=0.0}do{if(!(o[S>>2]|0)){b=T;m=y;g=C;A=v}else{b=o[S+112>>2]|0;if(!b){m=y;A=v}else{m=y;g=v;while(1){y=o[b+4>>2]|0;w=y+4|0;v=o[w>>2]|0;do{if((v&7|0)==6){if(n[(o[y+48>>2]|0)+38>>0]|0)break;if(n[(o[y+52>>2]|0)+38>>0]|0)break;if((m|0)>=(we|0)){V=99;break t}x=m+1|0;o[ot+(m<<2)>>2]=y;o[w>>2]=v|1;m=o[b>>2]|0;y=m+4|0;g=a[y>>1]|0;if(g&1|0){m=x;g=x;break}if((f|0)>=(ge|0)){V=102;break t}o[me+(f<<2)>>2]=m;r[y>>1]=g|1;m=x;g=x;f=f+1|0}}while(0);b=o[b+12>>2]|0;if(!b){A=g;break}}}b=o[S+108>>2]|0;if(!b){b=T;g=C;break}else{g=C;S=b}while(1){v=S+4|0;b=o[v>>2]|0;do{if(!(n[b+60>>0]|0)){w=o[S>>2]|0;x=w+4|0;y=r[x>>1]|0;if(!(y&32)){b=T;break}if((T|0)>=(xe|0)){V=108;break t}g=T+1|0;o[Rt+(T<<2)>>2]=b;n[(o[v>>2]|0)+60>>0]=1;b=y&65535;if(b&1|0){b=g;break}if((f|0)>=(ge|0)){V=111;break t}o[me+(f<<2)>>2]=w;r[x>>1]=b|1;b=g;f=f+1|0}else b=T}while(0);S=o[S+12>>2]|0;if(!S)break;else T=b}}}while(0);if((f|0)>0){E=tt;T=b;y=m;C=g;v=A}else break}K=(n[Ut>>0]|0)==0;$=(E|0)>-1;if($){x=0;do{m=o[Mt+(x<<2)>>2]|0;v=m+44|0;y=o[v>>2]|0;v=o[v+4>>2]|0;w=o[m+56>>2]|0;f=o[m+64>>2]|0;b=o[m+68>>2]|0;P=+u[m+72>>2];Li=m+36|0;o[Li>>2]=y;o[Li+4>>2]=v;o[m+52>>2]=w;if((o[m>>2]|0)==2){Pt=+u[m+140>>2];Et=+u[m+120>>2];Ct=(o[_>>2]=f,+u[_>>2])+(Pt*+u[fe>>2]+Et*+u[m+76>>2])*e;Et=(o[_>>2]=b,+u[_>>2])+(Pt*+u[be>>2]+Et*+u[m+80>>2])*e;Pt=1.0/(+u[m+132>>2]*e+1.0);f=(u[_>>2]=Ct*Pt,o[_>>2]|0);b=(u[_>>2]=Et*Pt,o[_>>2]|0);P=(P+ +u[m+128>>2]*e*+u[m+84>>2])*(1.0/(+u[m+136>>2]*e+1.0))}Li=o[Vi>>2]|0;ki=Li+(x*12|0)|0;o[ki>>2]=y;o[ki+4>>2]=v;o[Li+(x*12|0)+8>>2]=w;Li=o[Yi>>2]|0;o[Li+(x*12|0)>>2]=f;o[Li+(x*12|0)+4>>2]=b;f=o[Yi>>2]|0;b=f;u[b+(x*12|0)+8>>2]=P;x=x+1|0}while((x|0)!=(tt|0))}else{b=o[Yi>>2]|0;f=b}u[Ni>>2]=e;o[he>>2]=Zi;u[ee>>2]=st;o[ne>>2]=i;o[oe>>2]=c;n[ae>>0]=Oe;n[ue>>0]=n[ke>>0]|0;n[ue+1>>0]=n[ke+1>>0]|0;n[ue+2>>0]=n[ke+2>>0]|0;Z=o[Vi>>2]|0;o[Yt>>2]=Z;o[pe>>2]=f;u[Gi>>2]=e;o[le>>2]=Zi;u[te>>2]=st;o[ie>>2]=i;o[re>>2]=c;n[se>>0]=Oe;n[ce>>0]=n[ke>>0]|0;n[ce+1>>0]=n[ke+1>>0]|0;n[ce+2>>0]=n[ke+2>>0]|0;o[Ft>>2]=Ie;o[Jt>>2]=A;o[Zt>>2]=Z;o[de>>2]=f;o[It>>2]=Se;oC(Ui,Gi);eC(Ui);do{if(!_e){x=o[Vt>>2]|0;if((x|0)<=0)break;y=o[qt>>2]|0;T=o[Ht>>2]|0;E=0;do{V=o[T+(E*156|0)+112>>2]|0;X=o[T+(E*156|0)+116>>2]|0;j=+u[T+(E*156|0)+120>>2];J=+u[T+(E*156|0)+128>>2];G=+u[T+(E*156|0)+124>>2];N=+u[T+(E*156|0)+132>>2];m=o[T+(E*156|0)+148>>2]|0;S=y+(V*12|0)|0;I=+u[S>>2];w=y+(V*12|0)+4|0;k=+u[w>>2];V=y+(V*12|0)+8|0;D=+u[V>>2];C=y+(X*12|0)|0;M=+u[C>>2];v=y+(X*12|0)+4|0;R=+u[v>>2];X=y+(X*12|0)+8|0;P=+u[X>>2];U=+u[T+(E*156|0)+72>>2];W=+u[T+(E*156|0)+76>>2];if((m|0)>0){f=0;do{Ct=+u[T+(E*156|0)+(f*36|0)+16>>2];Pt=+u[T+(E*156|0)+(f*36|0)+20>>2];Et=U*Ct+W*Pt;Pt=W*Ct-U*Pt;D=D-J*(+u[T+(E*156|0)+(f*36|0)>>2]*Pt-+u[T+(E*156|0)+(f*36|0)+4>>2]*Et);I=I-j*Et;k=k-j*Pt;P=P+N*(Pt*+u[T+(E*156|0)+(f*36|0)+8>>2]-Et*+u[T+(E*156|0)+(f*36|0)+12>>2]);M=M+G*Et;R=R+G*Pt;f=f+1|0}while((f|0)!=(m|0))}u[S>>2]=I;u[w>>2]=k;u[V>>2]=D;u[C>>2]=M;u[v>>2]=R;u[X>>2]=P;E=E+1|0}while((E|0)!=(x|0))}}while(0);Q=(g|0)>0;if(Q){f=0;do{Li=o[Rt+(f<<2)>>2]|0;kk[o[(o[Li>>2]|0)+32>>2]&127](Li,Ni);f=f+1|0}while((f|0)<(g|0))}if(Bt){f=0;do{if(Q){m=0;do{Li=o[Rt+(m<<2)>>2]|0;kk[o[(o[Li>>2]|0)+36>>2]&127](Li,Ni);m=m+1|0}while((m|0)<(g|0))}iC(Ui);f=f+1|0}while((f|0)<(i|0))}f=o[Vt>>2]|0;if((f|0)>0){m=o[Ht>>2]|0;y=o[Wt>>2]|0;x=0;do{v=o[y+(o[m+(x*156|0)+152>>2]<<2)>>2]|0;w=o[m+(x*156|0)+148>>2]|0;if((w|0)>0){T=0;do{o[v+64+(T*20|0)+8>>2]=o[m+(x*156|0)+(T*36|0)+16>>2];o[v+64+(T*20|0)+12>>2]=o[m+(x*156|0)+(T*36|0)+20>>2];T=T+1|0}while((T|0)!=(w|0))}x=x+1|0}while((x|0)!=(f|0))}if($){x=0;do{v=Z+(x*12|0)|0;y=Z+(x*12|0)+4|0;w=Z+(x*12|0)+8|0;m=o[b+(x*12|0)>>2]|0;f=o[b+(x*12|0)+4>>2]|0;P=+u[b+(x*12|0)+8>>2];D=(o[_>>2]=m,+u[_>>2]);Pt=D*e;R=(o[_>>2]=f,+u[_>>2]);M=R*e;M=Pt*Pt+M*M;if(M>4.0){Pt=2.0/+L(+M);m=(u[_>>2]=D*Pt,o[_>>2]|0);f=(u[_>>2]=R*Pt,o[_>>2]|0)}D=P*e;if(D*D>2.4674012660980225)P=P*(1.5707963705062866/(D>0.0?D:-D));Ct=(o[_>>2]=m,+u[_>>2])*e;Et=+u[y>>2]+(o[_>>2]=f,+u[_>>2])*e;Pt=+u[w>>2]+P*e;u[v>>2]=+u[v>>2]+Ct;u[y>>2]=Et;u[w>>2]=Pt;o[b+(x*12|0)>>2]=m;o[b+(x*12|0)+4>>2]=f;u[b+(x*12|0)+8>>2]=P;x=x+1|0}while((x|0)!=(tt|0))}if(jt){V=o[Vt>>2]|0;X=0;Z=0;do{if((V|0)>0){y=o[zt>>2]|0;E=0;P=0.0;do{b=o[Xt>>2]|0;m=b+(E*88|0)|0;S=o[b+(E*88|0)+32>>2]|0;C=o[b+(E*88|0)+36>>2]|0;J=+u[b+(E*88|0)+48>>2];G=+u[b+(E*88|0)+52>>2];N=+u[b+(E*88|0)+40>>2];U=+u[b+(E*88|0)+64>>2];W=+u[b+(E*88|0)+56>>2];z=+u[b+(E*88|0)+60>>2];q=+u[b+(E*88|0)+44>>2];H=+u[b+(E*88|0)+68>>2];b=o[b+(E*88|0)+84>>2]|0;x=y+(S*12|0)|0;k=+u[x>>2];w=y+(S*12|0)+4|0;j=+u[w>>2];S=y+(S*12|0)+8|0;M=+u[S>>2];T=y+(C*12|0)|0;R=+u[T>>2];v=y+(C*12|0)+4|0;I=+u[v>>2];C=y+(C*12|0)+8|0;D=+u[C>>2];if((b|0)>0){Y=N+q;f=0;do{At=+F(+M);u[Kt>>2]=At;Et=+B(+M);u[kt>>2]=Et;Pt=+F(+D);u[Qt>>2]=Pt;xt=+B(+D);u[Ot>>2]=xt;u[qi>>2]=k-(J*Et-G*At);u[rt>>2]=j-(G*Et+J*At);u[Hi>>2]=R-(W*xt-z*Pt);u[nt>>2]=I-(z*xt+W*Pt);rC(Xi,m,qi,Hi,f);Pt=+u[Xi>>2];xt=+u[it>>2];At=+u[Dt>>2];Et=+u[et>>2];wt=+u[$t>>2];Tt=At-k;St=Et-j;At=At-R;Et=Et-I;P=P<wt?P:wt;wt=(wt+.004999999888241291)*.20000000298023224;wt=wt<0.0?wt:0.0;Ct=xt*Tt-Pt*St;vt=xt*At-Pt*Et;Ct=vt*(H*vt)+(Y+Ct*(U*Ct));Ct=Ct>0.0?-(wt<-.20000000298023224?-.20000000298023224:wt)/Ct:0.0;Pt=Pt*Ct;Ct=xt*Ct;k=k-N*Pt;j=j-N*Ct;M=M-U*(Tt*Ct-St*Pt);R=R+q*Pt;I=I+q*Ct;D=D+H*(At*Ct-Et*Pt);f=f+1|0}while((f|0)!=(b|0))}u[x>>2]=k;u[w>>2]=j;u[S>>2]=M;u[T>>2]=R;u[v>>2]=I;u[C>>2]=D;E=E+1|0}while((E|0)<(V|0))}else P=0.0;m=P>=-.014999999664723873;if(Q){b=0;f=1;do{Li=o[Rt+(b<<2)>>2]|0;f=f&(Uk[o[(o[Li>>2]|0)+40>>2]&63](Li,Ni)|0);b=b+1|0}while((b|0)<(g|0))}else f=1;Li=m&f;Z=Z|Li;X=X+1|0}while((X|0)<(c|0)&(Li^1));v=Z^1}else v=1;if($){f=o[Vi>>2]|0;b=o[Yi>>2]|0;m=0;do{Li=o[Mt+(m<<2)>>2]|0;ki=f+(m*12|0)|0;Oi=o[ki>>2]|0;ki=o[ki+4>>2]|0;Ii=Li+44|0;o[Ii>>2]=Oi;o[Ii+4>>2]=ki;Ii=o[f+(m*12|0)+8>>2]|0;o[Li+56>>2]=Ii;Di=b+(m*12|0)|0;Mi=o[Di+4>>2]|0;Ri=Li+64|0;o[Ri>>2]=o[Di>>2];o[Ri+4>>2]=Mi;o[Li+72>>2]=o[b+(m*12|0)+8>>2];Ct=(o[_>>2]=Ii,+u[_>>2]);St=+F(+Ct);u[Li+20>>2]=St;Ct=+B(+Ct);u[Li+24>>2]=Ct;At=+u[Li+28>>2];Pt=+u[Li+32>>2];Et=(o[_>>2]=Oi,+u[_>>2])-(Ct*At-St*Pt);Pt=(o[_>>2]=ki,+u[_>>2])-(St*At+Ct*Pt);u[Li+12>>2]=Et;u[Li+16>>2]=Pt;m=m+1|0}while((m|0)!=(tt|0))}f=o[Ht>>2]|0;if(Lt&(A|0)>0){g=0;do{b=o[ot+(g<<2)>>2]|0;m=o[f+(g*156|0)+148>>2]|0;o[Nt>>2]=m;if((m|0)>0){y=0;do{o[qi+(y<<2)>>2]=o[f+(g*156|0)+(y*36|0)+16>>2];o[qi+8+(y<<2)>>2]=o[f+(g*156|0)+(y*36|0)+20>>2];y=y+1|0}while((y|0)!=(m|0))}Fk[o[(o[Te>>2]|0)+20>>2]&63](Te,b,qi);g=g+1|0}while((g|0)<(A|0))}do{if(!(K|$^1)){b=0;P=3402823466385288598117041.0e14;do{f=o[Mt+(b<<2)>>2]|0;e:do{if(o[f>>2]|0){do{if(r[f+4>>1]&4){Pt=+u[f+72>>2];if(Pt*Pt>.001218469929881394)break;Et=+u[f+64>>2];Pt=+u[f+68>>2];if(Et*Et+Pt*Pt>9.999999747378752e-05)break;Li=f+144|0;Pt=+u[Li>>2]+e;u[Li>>2]=Pt;P=P<Pt?P:Pt;break e}}while(0);u[f+144>>2]=0.0;P=0.0}}while(0);b=b+1|0}while((b|0)!=(tt|0));if(!(P>=.5)|v)break;else f=0;do{Li=o[Mt+(f<<2)>>2]|0;ki=Li+4|0;r[ki>>1]=r[ki>>1]&-3;u[Li+144>>2]=0.0;Li=Li+64|0;f=f+1|0;o[Li>>2]=0;o[Li+4>>2]=0;o[Li+8>>2]=0;o[Li+12>>2]=0;o[Li+16>>2]=0;o[Li+20>>2]=0}while((f|0)!=(tt|0))}}while(0);nC(Ui);u[Ae>>2]=+u[Ae>>2]+0.0;u[Ee>>2]=+u[Ee>>2]+0.0;u[Ce>>2]=+u[Ce>>2]+0.0;if($)b=0;else break;do{f=o[Mt+(b<<2)>>2]|0;if(!(o[f>>2]|0)){Li=f+4|0;r[Li>>1]=r[Li>>1]&-2}b=b+1|0}while((b|0)!=(tt|0))}}while(0);h=o[h+96>>2]|0;if(!h){V=72;break}}if((V|0)==72){p=o[Me>>2]|0;break}else if((V|0)==86)Gt(14425,13819,445,14447);else if((V|0)==88)Gt(14453,14482,54,14521);else if((V|0)==99)Gt(14525,14482,62,14521);else if((V|0)==102)Gt(14560,13819,495,14447);else if((V|0)==108)Gt(14583,14482,68,14521);else if((V|0)==111)Gt(14560,13819,524,14447)}else p=f}while(0);if((p|0)<=0)Gt(10339,10213,63,10356);h=t+102480+(p*12|0)|0;if((o[h+-12>>2]|0)!=(me|0))Gt(10361,10213,65,10356);if(!(n[h+-4>>0]|0)){h=h+-8|0;o[De>>2]=(o[De>>2]|0)-(o[h>>2]|0)}else{iE(me);p=o[Me>>2]|0;h=h+-8|0}o[Pe>>2]=(o[Pe>>2]|0)-(o[h>>2]|0);o[Me>>2]=p+-1;h=o[ye>>2]|0;if(h|0){y=qi+8|0;g=qi+12|0;m=qi+4|0;do{do{if(r[h+4>>1]&1){if(!(o[h>>2]|0))break;St=+u[h+52>>2];Ct=+F(+St);u[y>>2]=Ct;St=+B(+St);u[g>>2]=St;At=+u[h+28>>2];Et=+u[h+32>>2];Pt=+u[h+40>>2]-(At*Ct+St*Et);u[qi>>2]=+u[h+36>>2]-(St*At-Ct*Et);u[m>>2]=Pt;f=(o[h+88>>2]|0)+102872|0;p=o[h+100>>2]|0;if(p|0){b=h+12|0;do{wA(p,f,qi,b);p=o[p+4>>2]|0}while((p|0)!=0)}}}while(0);h=o[h+96>>2]|0}while((h|0)!=0)}kA(Fi);u[t+103020>>2]=0.0;p=o[Vi>>2]|0;h=o[Fe>>2]|0;if((h|0)<=0)Gt(10339,10213,63,10356);f=t+102480+(h*12|0)|0;if((o[f+-12>>2]|0)!=(p|0))Gt(10361,10213,65,10356);if(!(n[f+-4>>0]|0)){Li=f+-8|0;o[Be>>2]=(o[Be>>2]|0)-(o[Li>>2]|0);b=h;h=Li}else{iE(p);b=o[Fe>>2]|0;h=f+-8|0}p=(o[je>>2]|0)-(o[h>>2]|0)|0;o[je>>2]=p;m=b+-1|0;o[Fe>>2]=m;h=o[Yi>>2]|0;if((b|0)<=1)Gt(10339,10213,63,10356);f=t+102480+(m*12|0)|0;if((o[f+-12>>2]|0)!=(h|0))Gt(10361,10213,65,10356);if(!(n[f+-4>>0]|0)){h=f+-8|0;o[Be>>2]=(o[Be>>2]|0)-(o[h>>2]|0);b=m}else{iE(h);p=o[je>>2]|0;b=o[Fe>>2]|0;h=f+-8|0}p=p-(o[h>>2]|0)|0;o[je>>2]=p;m=b+-1|0;o[Fe>>2]=m;h=Re;if((b|0)<=1)Gt(10339,10213,63,10356);f=t+102480+(m*12|0)|0;if((o[f+-12>>2]|0)!=(h|0))Gt(10361,10213,65,10356);if(!(n[f+-4>>0]|0)){h=f+-8|0;o[Be>>2]=(o[Be>>2]|0)-(o[h>>2]|0)}else{iE(h);p=o[je>>2]|0;m=o[Fe>>2]|0;h=f+-8|0}p=p-(o[h>>2]|0)|0;o[je>>2]=p;b=m+-1|0;o[Fe>>2]=b;h=Ie;if((m|0)<=1)Gt(10339,10213,63,10356);f=t+102480+(b*12|0)|0;if((o[f+-12>>2]|0)!=(h|0))Gt(10361,10213,65,10356);if(!(n[f+-4>>0]|0)){h=f+-8|0;o[Be>>2]=(o[Be>>2]|0)-(o[h>>2]|0)}else{iE(h);p=o[je>>2]|0;b=o[Fe>>2]|0;h=f+-8|0}f=p-(o[h>>2]|0)|0;o[je>>2]=f;p=b+-1|0;o[Fe>>2]=p;h=Le;if((b|0)<=1)Gt(10339,10213,63,10356);b=t+102480+(p*12|0)|0;if((o[b+-12>>2]|0)!=(h|0))Gt(10361,10213,65,10356);if(!(n[b+-4>>0]|0)){h=b+-8|0;o[Be>>2]=(o[Be>>2]|0)-(o[h>>2]|0)}else{iE(h);f=o[je>>2]|0;p=o[Fe>>2]|0;h=b+-8|0}o[je>>2]=f-(o[h>>2]|0);o[Fe>>2]=p+-1;u[t+103004>>2]=0.0}if((n[t+102993>>0]|0)!=0&Qi){Mi=t+102944|0;Ei=o[Mi>>2]|0;Pi=t+68|0;m=t+102864|0;p=o[m>>2]|0;if((p|0)>=32)Gt(10296,10213,38,10330);h=t+102480+(p*12|0)|0;o[t+102480+(p*12|0)+4>>2]=256;b=t+102468|0;f=o[b>>2]|0;if((f+256|0)>102400){o[h>>2]=eE(256)|0;n[t+102480+(p*12|0)+8>>0]=1}else{o[h>>2]=t+68+f;n[t+102480+(p*12|0)+8>>0]=0;o[b>>2]=(o[b>>2]|0)+256}f=t+102472|0;Ii=(o[f>>2]|0)+256|0;o[f>>2]=Ii;f=t+102476|0;Li=o[f>>2]|0;o[f>>2]=(Li|0)>(Ii|0)?Li:Ii;f=(o[m>>2]|0)+1|0;o[m>>2]=f;Ii=o[h>>2]|0;Li=t+102864|0;if((f|0)>=32)Gt(10296,10213,38,10330);p=t+102480+(f*12|0)|0;o[t+102480+(f*12|0)+4>>2]=128;ki=t+102468|0;h=o[ki>>2]|0;if((h+128|0)>102400){o[p>>2]=eE(128)|0;n[t+102480+(f*12|0)+8>>0]=1}else{o[p>>2]=t+68+h;n[t+102480+(f*12|0)+8>>0]=0;o[ki>>2]=(o[ki>>2]|0)+128}Oi=t+102472|0;f=(o[Oi>>2]|0)+128|0;o[Oi>>2]=f;b=t+102476|0;Ri=o[b>>2]|0;o[b>>2]=(Ri|0)>(f|0)?Ri:f;f=(o[Li>>2]|0)+1|0;o[Li>>2]=f;Ri=o[p>>2]|0;if((f|0)>=32)Gt(10296,10213,38,10330);p=t+102480+(f*12|0)|0;o[t+102480+(f*12|0)+4>>2]=0;h=o[ki>>2]|0;if((h|0)>102400){o[p>>2]=eE(0)|0;h=1}else{o[p>>2]=t+68+h;h=0}n[t+102480+(f*12|0)+8>>0]=h;f=o[Oi>>2]|0;Di=o[b>>2]|0;o[b>>2]=(Di|0)>(f|0)?Di:f;f=(o[Li>>2]|0)+1|0;o[Li>>2]=f;Di=o[p>>2]|0;if((f|0)>=32)Gt(10296,10213,38,10330);h=t+102480+(f*12|0)|0;o[t+102480+(f*12|0)+4>>2]=768;p=o[ki>>2]|0;if((p+768|0)>102400){o[h>>2]=eE(768)|0;n[t+102480+(f*12|0)+8>>0]=1}else{o[h>>2]=t+68+p;n[t+102480+(f*12|0)+8>>0]=0;o[ki>>2]=(o[ki>>2]|0)+768}f=(o[Oi>>2]|0)+768|0;o[Oi>>2]=f;Ci=o[b>>2]|0;o[b>>2]=(Ci|0)>(f|0)?Ci:f;f=(o[Li>>2]|0)+1|0;o[Li>>2]=f;o[Yi>>2]=o[h>>2];if((f|0)>=32)Gt(10296,10213,38,10330);h=t+102480+(f*12|0)|0;o[t+102480+(f*12|0)+4>>2]=768;p=o[ki>>2]|0;if((p+768|0)>102400){o[h>>2]=eE(768)|0;n[t+102480+(f*12|0)+8>>0]=1}else{o[h>>2]=t+68+p;n[t+102480+(f*12|0)+8>>0]=0;o[ki>>2]=(o[ki>>2]|0)+768}f=(o[Oi>>2]|0)+768|0;o[Oi>>2]=f;Ci=o[b>>2]|0;o[b>>2]=(Ci|0)>(f|0)?Ci:f;o[Li>>2]=(o[Li>>2]|0)+1;f=o[h>>2]|0;o[Vi>>2]=f;if(n[ji>>0]|0){h=o[t+102952>>2]|0;if(h|0)do{Ci=h+4|0;r[Ci>>1]=r[Ci>>1]&-2;u[h+60>>2]=0.0;h=o[h+96>>2]|0}while((h|0)!=0);h=o[Bi>>2]|0;if(!h)h=0;else{p=h;do{Ci=p+4|0;o[Ci>>2]=o[Ci>>2]&-34;o[p+128>>2]=0;u[p+132>>2]=1.0;p=o[p+12>>2]|0}while((p|0)!=0)}}else h=o[Bi>>2]|0;fi=Ji+4|0;vi=t+102994|0;wi=Wi+16|0;bi=Wi+20|0;gi=Wi+24|0;xi=Wi+44|0;mi=Wi+48|0;yi=Wi+52|0;Ti=Wi+28|0;Si=Wi+56|0;Ai=Wi+92|0;Ci=Wi+128|0;t:do{if(!h){l=f;V=349}else{Se=Wi+56|0;Ie=Wi+60|0;c=Wi+64|0;Le=Wi+68|0;Be=Wi+72|0;Je=Wi+76|0;Ce=Wi+80|0;Pe=Wi+84|0;Me=Wi+88|0;Ne=Wi+92|0;Ye=Wi+96|0;Qe=Wi+100|0;$e=Wi+104|0;ei=Wi+108|0;ni=Wi+112|0;We=Wi+116|0;Xe=Wi+120|0;qe=Wi+124|0;ne=qi+4|0;pe=Hi+28|0;oi=Hi+88|0;ai=Hi+56|0;ci=Hi+60|0;ui=Hi+64|0;li=Hi+68|0;hi=Hi+72|0;_i=Hi+76|0;pi=Hi+80|0;di=Hi+84|0;oe=Xi+16|0;ue=Ni+4|0;Ae=Ni+8|0;Oe=Ni+12|0;ke=Ni+16|0;je=Ni+20|0;Fe=Ni+24|0;Ge=Ni+28|0;Ee=Ni+32|0;De=Ni+36|0;Re=Ni+40|0;Ue=Ni+44|0;Ze=Ni+48|0;Ke=Ni+52|0;ti=Ni+56|0;ii=Ni+60|0;ri=Ni+64|0;Ve=Ni+68|0;ze=Ni+72|0;He=Ni+76|0;le=Ni+80|0;Wt=qi+6|0;Xt=qi+9|0;jt=Ni+92|0;Lt=Ni+96|0;zt=qi+7|0;Yt=qi+10|0;Bt=Ni+84|0;kt=Ni+88|0;Ht=Wi+36|0;qt=Wi+8|0;Ft=Ii;Vt=Ft+4|0;Jt=Ri;ee=Ni+24|0;re=Ni+28|0;Ut=Ni+40|0;we=Ni+4|0;xe=Ni+8|0;Te=Ni+12|0;ge=Ni+16|0;ye=Ni+20|0;ve=Ni+21|0;_e=Ni+32|0;si=Ni+36|0;te=(i|0)>0;he=Gi+40|0;$t=(Ei|0)!=0;de=qi+8|0;Zt=qi+12|0;Dt=qi+4|0;ie=qi+16|0;se=Gi+48|0;ae=Gi+36|0;ce=Gi+24|0;be=qi+8|0;Kt=qi+12|0;fe=Hi+8|0;Qt=Hi+12|0;Ot=qi+4|0;It=Hi+4|0;Rt=Xi+4|0;Nt=Xi+8|0;Mt=Xi+12|0;me=Xi+16|0;e:while(1){Pt=1.0;rt=0;while(1){S=h+4|0;p=o[S>>2]|0;do{if(!(p&4))D=Pt;else{if((o[h+128>>2]|0)>8){D=Pt;break}if(!(p&32)){v=o[h+48>>2]|0;w=o[h+52>>2]|0;if(n[v+38>>0]|0){D=Pt;break}if(n[w+38>>0]|0){D=Pt;break}g=o[v+8>>2]|0;y=o[w+8>>2]|0;p=o[g>>2]|0;f=o[y>>2]|0;if(!((p|0)==2|(f|0)==2)){V=262;break e}b=r[g+4>>1]|0;m=r[y+4>>1]|0;if(!((p|0)!=0&(b&2)!=0|(f|0)!=0&(m&2)!=0)){D=Pt;break}if(!((p|0)!=2|(b&8)!=0|((f|0)!=2|(m&8)!=0))){D=Pt;break}x=g+28|0;p=g+60|0;P=+u[p>>2];T=y+28|0;f=y+60|0;D=+u[f>>2];do{if(P<D){if(!(P<1.0)){V=267;break e}Ct=(D-P)/(1.0-P);nt=g+36|0;St=+u[nt>>2];ot=g+40|0;At=+u[ot>>2];Et=Ct*(+u[g+48>>2]-At);u[nt>>2]=St+Ct*(+u[g+44>>2]-St);u[ot>>2]=At+Et;ot=g+52|0;Et=+u[ot>>2];u[ot>>2]=Et+Ct*(+u[g+56>>2]-Et);u[p>>2]=D}else{if(!(D<P)){D=P;break}if(!(D<1.0)){V=271;break e}Et=(P-D)/(1.0-D);nt=y+36|0;At=+u[nt>>2];ot=y+40|0;Ct=+u[ot>>2];D=Et*(+u[y+48>>2]-Ct);u[nt>>2]=At+Et*(+u[y+44>>2]-At);u[ot>>2]=Ct+D;ot=y+52|0;D=+u[ot>>2];u[ot>>2]=D+Et*(+u[y+56>>2]-D);u[f>>2]=P;D=P}}while(0);if(!(D<1.0)){V=274;break e}f=o[h+56>>2]|0;m=o[h+60>>2]|0;o[wi>>2]=0;o[bi>>2]=0;u[gi>>2]=0.0;o[xi>>2]=0;o[mi>>2]=0;u[yi>>2]=0.0;b=o[v+12>>2]|0;switch(o[b+4>>2]|0){case 0:{o[wi>>2]=b+12;p=1;break}case 2:{o[wi>>2]=b+20;p=o[b+148>>2]|0;break}case 3:{if((f|0)<=-1){V=280;break e}p=o[b+16>>2]|0;if((p|0)<=(f|0)){V=280;break e}nt=o[b+12>>2]|0;et=nt+(f<<3)|0;it=o[et+4>>2]|0;ot=Wi;o[ot>>2]=o[et>>2];o[ot+4>>2]=it;ot=f+1|0;nt=(ot|0)<(p|0)?nt+(ot<<3)|0:nt;ot=o[nt+4>>2]|0;p=qt;o[p>>2]=o[nt>>2];o[p+4>>2]=ot;o[wi>>2]=Wi;p=2;break}case 1:{o[wi>>2]=b+12;p=2;break}default:{V=283;break e}}o[bi>>2]=p;ot=o[b+8>>2]|0;o[gi>>2]=ot;f=o[w+12>>2]|0;P=(o[_>>2]=ot,+u[_>>2]);switch(o[f+4>>2]|0){case 0:{o[xi>>2]=f+12;p=1;break}case 2:{o[xi>>2]=f+20;p=o[f+148>>2]|0;break}case 3:{if((m|0)<=-1){V=289;break e}p=f+16|0;if((o[p>>2]|0)<=(m|0)){V=289;break e}nt=f+12|0;et=(o[nt>>2]|0)+(m<<3)|0;it=o[et+4>>2]|0;ot=Ti;o[ot>>2]=o[et>>2];o[ot+4>>2]=it;ot=m+1|0;nt=o[nt>>2]|0;nt=(ot|0)<(o[p>>2]|0)?nt+(ot<<3)|0:nt;ot=o[nt+4>>2]|0;p=Ht;o[p>>2]=o[nt>>2];o[p+4>>2]=ot;o[xi>>2]=Ti;p=2;break}case 1:{o[xi>>2]=f+12;p=2;break}default:{V=292;break e}}o[mi>>2]=p;p=o[f+8>>2]|0;o[yi>>2]=p;ot=Si;Q=x;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));ot=Ai;Q=T;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));u[Ci>>2]=1.0;o[4854]=(o[4854]|0)+1;bt=+u[Se>>2];mt=+u[Ie>>2];gt=+u[c>>2];yt=+u[Le>>2];vt=+u[Be>>2];wt=+u[Je>>2];_t=+u[Ce>>2];x=o[Me>>2]|0;xt=+u[Ne>>2];Tt=+u[Ye>>2];St=+u[Qe>>2];At=+u[$e>>2];Ct=+u[ei>>2];Et=+u[ni>>2];pt=+u[We>>2];T=o[qe>>2]|0;dt=+O(+(_t/6.2831854820251465))*6.2831854820251465;_t=_t-dt;dt=+u[Pe>>2]-dt;ft=+O(+(pt/6.2831854820251465))*6.2831854820251465;pt=pt-ft;ft=+u[Xe>>2]-ft;lt=P+(o[_>>2]=p,+u[_>>2])+-.014999999664723873;lt=lt<.004999999888241291?.004999999888241291:lt;if(!(lt>1.2499999720603228e-03)){V=294;break e}r[ne>>1]=0;o[Hi>>2]=o[Wi>>2];o[Hi+4>>2]=o[Wi+4>>2];o[Hi+8>>2]=o[Wi+8>>2];o[Hi+12>>2]=o[Wi+12>>2];o[Hi+16>>2]=o[Wi+16>>2];o[Hi+20>>2]=o[Wi+20>>2];o[Hi+24>>2]=o[Wi+24>>2];o[pe>>2]=o[Ti>>2];o[pe+4>>2]=o[Ti+4>>2];o[pe+8>>2]=o[Ti+8>>2];o[pe+12>>2]=o[Ti+12>>2];o[pe+16>>2]=o[Ti+16>>2];o[pe+20>>2]=o[Ti+20>>2];o[pe+24>>2]=o[Ti+24>>2];n[oi>>0]=0;ut=lt+1.2499999720603228e-03;ht=lt+-1.2499999720603228e-03;P=1.0;f=0;p=0;ct=0.0;while(1){at=1.0-ct;H=at*_t+ct*dt;z=+F(+H);H=+B(+H);U=at*gt+ct*vt-(H*bt-z*mt);st=at*yt+ct*wt-(z*bt+H*mt);Y=at*pt+ct*ft;q=+F(+Y);Y=+B(+Y);W=at*St+ct*Ct-(Y*xt-q*Tt);at=at*At+ct*Et-(q*xt+Y*Tt);u[ai>>2]=U;u[ci>>2]=st;u[ui>>2]=z;u[li>>2]=H;u[hi>>2]=W;u[_i>>2]=at;u[pi>>2]=q;u[di>>2]=Y;bA(Xi,qi,Hi);M=+u[oe>>2];if(M<=0.0){P=0.0;p=2;V=340;break}if(M<ut){P=ct;p=3;V=340;break}o[Ni>>2]=Wi;o[ue>>2]=Ti;b=r[ne>>1]|0;if((b+-1&65535)>=2){V=299;break e}u[Ae>>2]=bt;u[Oe>>2]=mt;u[ke>>2]=gt;u[je>>2]=yt;u[Fe>>2]=vt;u[Ge>>2]=wt;u[Ee>>2]=_t;u[De>>2]=dt;o[Re>>2]=x;u[Ue>>2]=xt;u[Ze>>2]=Tt;u[Ke>>2]=St;u[ti>>2]=At;u[ii>>2]=Ct;u[ri>>2]=Et;u[Ve>>2]=pt;u[ze>>2]=ft;o[He>>2]=T;do{if(b<<16>>16!=1){v=n[Wt>>0]|0;b=n[zt>>0]|0;if(v<<24>>24==b<<24>>24){o[le>>2]=2;m=s[Xt>>0]|0;b=o[mi>>2]|0;if((b|0)<=(m|0)){V=309;break e}g=o[xi>>2]|0;y=s[Yt>>0]|0;if((b|0)<=(y|0)){V=311;break e}N=+u[g+(m<<3)+4>>2];J=+u[g+(m<<3)>>2];G=+u[g+(y<<3)>>2];k=+u[g+(y<<3)+4>>2];j=G-J;R=k-N;I=-j;u[jt>>2]=R;u[Lt>>2]=I;j=+L(+(j*j+R*R));M=1.0/j;if(j<1.1920928955078125e-07)j=R;else{I=M*I;j=R*M;u[jt>>2]=j;u[Lt>>2]=I}R=(J+G)*.5;M=(N+k)*.5;u[Bt>>2]=R;u[kt>>2]=M;b=v&255;if((o[bi>>2]|0)<=(b|0)){V=315;break e}ot=o[wi>>2]|0;G=+u[ot+(b<<3)>>2];N=+u[ot+(b<<3)+4>>2];if(!((Y*j-q*I)*(U+(H*G-z*N)-(W+(Y*R-q*M)))+(q*j+Y*I)*(st+(z*G+H*N)-(at+(q*R+Y*M)))<0.0))break;u[jt>>2]=-j;u[Lt>>2]=-I;break}else{o[le>>2]=1;g=v&255;m=o[bi>>2]|0;if((m|0)<=(g|0)){V=319;break e}y=o[wi>>2]|0;b=b&255;if((m|0)<=(b|0)){V=321;break e}N=+u[y+(g<<3)+4>>2];J=+u[y+(g<<3)>>2];G=+u[y+(b<<3)>>2];k=+u[y+(b<<3)+4>>2];j=G-J;R=k-N;I=-j;u[jt>>2]=R;u[Lt>>2]=I;j=+L(+(j*j+R*R));M=1.0/j;if(j<1.1920928955078125e-07)j=R;else{I=M*I;j=R*M;u[jt>>2]=j;u[Lt>>2]=I}R=(J+G)*.5;M=(N+k)*.5;u[Bt>>2]=R;u[kt>>2]=M;b=s[Xt>>0]|0;if((o[mi>>2]|0)<=(b|0)){V=325;break e}ot=o[xi>>2]|0;G=+u[ot+(b<<3)>>2];N=+u[ot+(b<<3)+4>>2];if(!((H*j-z*I)*(W+(Y*G-q*N)-(U+(H*R-z*M)))+(z*j+H*I)*(at+(q*G+Y*N)-(st+(z*R+H*M)))<0.0))break;u[jt>>2]=-j;u[Lt>>2]=-I;break}}else{o[le>>2]=0;g=s[Wt>>0]|0;if((o[bi>>2]|0)<=(g|0)){V=302;break e}b=o[wi>>2]|0;m=s[Xt>>0]|0;if((o[mi>>2]|0)<=(m|0)){V=304;break e}M=+u[b+(g<<3)+4>>2];R=+u[b+(g<<3)>>2];ot=o[xi>>2]|0;G=+u[ot+(m<<3)>>2];N=+u[ot+(m<<3)+4>>2];I=W+(Y*G-q*N)-(U+(H*R-z*M));R=at+(q*G+Y*N)-(st+(H*M+z*R));u[jt>>2]=I;u[Lt>>2]=R;at=+L(+(I*I+R*R));M=1.0/at;if(at<1.1920928955078125e-07)break;u[jt>>2]=I*M;u[Lt>>2]=M*R}}while(0);M=+mA(Ni,Gi,Ui,1.0);i:do{if(M>ut){P=1.0;b=1;p=4;M=ct}else{v=0;G=1.0;while(1){if(M>ht){b=0;M=G;break i}g=o[Gi>>2]|0;y=o[Ui>>2]|0;R=+gA(Ni,g,y,ct);if(R<ht){P=ct;b=1;p=1;M=ct;break i}if(!(R<=ut)){j=ct;J=G;w=0}else{P=ct;b=1;p=3;M=ct;break i}while(1){if(!(w&1))k=(j+J)*.5;else k=j+(lt-R)*(J-j)/(M-R);w=w+1|0;o[4857]=(o[4857]|0)+1;I=+gA(Ni,g,y,k);at=I-lt;b=(at>0.0?at:-at)<1.2499999720603228e-03;m=I>lt;if((w|0)==50|b)break;else{j=m?k:j;J=m?J:k;R=m?I:R;M=m?M:I}}G=b?k:G;ot=o[4858]|0;o[4858]=(ot|0)>(w|0)?ot:w;v=v+1|0;if((v|0)==8){b=0;M=ct;break i}M=+mA(Ni,Gi,Ui,G);if(M>ut){P=1.0;b=1;p=4;M=ct;break}}}}while(0);f=f+1|0;o[4855]=(o[4855]|0)+1;if(b){V=341;break}if((f|0)==20){P=M;f=20;p=1;V=341;break}ct=M}ot=o[4856]|0;o[4856]=(ot|0)>(f|0)?ot:f;if((p|0)==3){P=D+(1.0-D)*P;P=P<1.0?P:1.0}else P=1.0;u[h+132>>2]=P;o[S>>2]=o[S>>2]|32}else P=+u[h+132>>2];ot=P<Pt;D=ot?P:Pt;rt=ot?h:rt}}while(0);h=o[h+12>>2]|0;if(!h)break;else Pt=D}if(D>.9999988079071045|(rt|0)==0){V=348;break}f=o[(o[rt+48>>2]|0)+8>>2]|0;nt=o[(o[rt+52>>2]|0)+8>>2]|0;et=f+28|0;ot=Ui;Q=et;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));it=nt+28|0;ot=Wi;Q=it;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));h=f+60|0;P=+u[h>>2];if(!(P<1.0)){V=351;break}At=(D-P)/(1.0-P);$=f+44|0;A=f+36|0;P=+u[A>>2];tt=f+48|0;Z=f+40|0;Ct=+u[Z>>2];Et=At*(+u[tt>>2]-Ct);u[A>>2]=P+At*(+u[$>>2]-P);u[Z>>2]=Ct+Et;Z=f+56|0;A=f+52|0;Et=+u[A>>2];Et=Et+At*(+u[Z>>2]-Et);u[A>>2]=Et;u[h>>2]=D;A=f+36|0;S=o[A>>2]|0;A=o[A+4>>2]|0;E=f+44|0;o[E>>2]=S;o[E+4>>2]=A;u[Z>>2]=Et;At=+F(+Et);E=f+20|0;u[E>>2]=At;Et=+B(+Et);C=f+24|0;u[C>>2]=Et;V=f+28|0;Ct=+u[V>>2];X=f+32|0;P=+u[X>>2];Pt=(o[_>>2]=S,+u[_>>2])-(Et*Ct-At*P);P=(o[_>>2]=A,+u[_>>2])-(At*Ct+Et*P);A=f+12|0;u[A>>2]=Pt;S=f+16|0;u[S>>2]=P;h=nt+60|0;P=+u[h>>2];if(!(P<1.0)){V=353;break}St=(D-P)/(1.0-P);x=nt+44|0;b=nt+36|0;Pt=+u[b>>2];T=nt+48|0;w=nt+40|0;At=+u[w>>2];Ct=St*(+u[T>>2]-At);u[b>>2]=Pt+St*(+u[x>>2]-Pt);u[w>>2]=At+Ct;w=nt+56|0;b=nt+52|0;Ct=+u[b>>2];Ct=Ct+St*(+u[w>>2]-Ct);u[b>>2]=Ct;u[h>>2]=D;b=nt+36|0;p=o[b>>2]|0;b=o[b+4>>2]|0;g=nt+44|0;o[g>>2]=p;o[g+4>>2]=b;u[w>>2]=Ct;St=+F(+Ct);g=nt+20|0;u[g>>2]=St;Ct=+B(+Ct);m=nt+24|0;u[m>>2]=Ct;y=nt+28|0;At=+u[y>>2];v=nt+32|0;Pt=+u[v>>2];Et=(o[_>>2]=p,+u[_>>2])-(Ct*At-St*Pt);Pt=(o[_>>2]=b,+u[_>>2])-(St*At+Ct*Pt);b=nt+12|0;u[b>>2]=Et;p=nt+16|0;u[p>>2]=Pt;OA(rt,o[Mi>>2]|0);K=rt+4|0;h=o[K>>2]|0;Q=h&-33;o[K>>2]=Q;ot=rt+128|0;o[ot>>2]=(o[ot>>2]|0)+1;if((h&6|0)==6){b=f+4|0;h=a[b>>1]|0;if(!(h&2)){r[b>>1]=h|2;u[f+144>>2]=0.0}p=nt+4|0;h=a[p>>1]|0;if(!(h&2)){r[p>>1]=h|2;u[nt+144>>2]=0.0}S=f+8|0;o[S>>2]=0;o[Ft>>2]=f;A=nt+8|0;o[A>>2]=1;o[Vt>>2]=nt;o[Jt>>2]=rt;r[b>>1]=r[b>>1]|1;r[p>>1]=r[p>>1]|1;o[K>>2]=Q|1;o[Ji>>2]=f;o[fi>>2]=nt;h=0;b=2;m=1;while(1){i:do{if((o[f>>2]|0)==2){p=o[f+112>>2]|0;if(!p){et=b;tt=m;break}T=f+4|0;while(1){if((b|0)==64){et=64;tt=m;break i}if((m|0)==32){et=b;tt=32;break i}w=o[p+4>>2]|0;y=w+4|0;n:do{if(!(o[y>>2]&1)){x=o[p>>2]|0;do{if((o[x>>2]|0)==2){if(r[T>>1]&8)break;if(!(r[x+4>>1]&8)){f=m;break n}}}while(0);if(n[(o[w+48>>2]|0)+38>>0]|0){f=m;break}if(n[(o[w+52>>2]|0)+38>>0]|0){f=m;break}v=x+28|0;ot=qi;Q=v;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));g=x+4|0;if(!(r[g>>1]&1)){f=x+60|0;P=+u[f>>2];if(!(P<1.0)){V=408;break e}St=(D-P)/(1.0-P);ot=x+36|0;Pt=+u[ot>>2];nt=x+40|0;At=+u[nt>>2];Ct=St*(+u[x+48>>2]-At);u[ot>>2]=Pt+St*(+u[x+44>>2]-Pt);u[nt>>2]=At+Ct;nt=x+56|0;ot=x+52|0;Ct=+u[ot>>2];Ct=Ct+St*(+u[nt>>2]-Ct);u[ot>>2]=Ct;u[f>>2]=D;ot=x+36|0;rt=o[ot>>2]|0;ot=o[ot+4>>2]|0;it=x+44|0;o[it>>2]=rt;o[it+4>>2]=ot;u[nt>>2]=Ct;St=+F(+Ct);u[x+20>>2]=St;Ct=+B(+Ct);u[x+24>>2]=Ct;At=+u[x+28>>2];Pt=+u[x+32>>2];Et=(o[_>>2]=rt,+u[_>>2])-(Ct*At-St*Pt);Pt=(o[_>>2]=ot,+u[_>>2])-(St*At+Ct*Pt);u[x+12>>2]=Et;u[x+16>>2]=Pt}OA(w,o[Mi>>2]|0);f=o[y>>2]|0;do{if(!(f&4)){ot=v;Q=qi;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));St=+u[x+56>>2];Ct=+F(+St);u[x+20>>2]=Ct;St=+B(+St);u[x+24>>2]=St;At=+u[x+28>>2];Et=+u[x+32>>2];Pt=+u[x+48>>2]-(Ct*At+St*Et);u[x+12>>2]=+u[x+44>>2]-(St*At-Ct*Et);u[x+16>>2]=Pt;f=m}else{if(!(f&2)){ot=v;Q=qi;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));St=+u[x+56>>2];Ct=+F(+St);u[x+20>>2]=Ct;St=+B(+St);u[x+24>>2]=St;At=+u[x+28>>2];Et=+u[x+32>>2];Pt=+u[x+48>>2]-(Ct*At+St*Et);u[x+12>>2]=+u[x+44>>2]-(St*At-Ct*Et);u[x+16>>2]=Pt;f=m;break}o[y>>2]=f|1;if((m|0)>=32){V=415;break e}f=m+1|0;o[Jt+(m<<2)>>2]=w;m=a[g>>1]|0;if(m&1|0)break;r[g>>1]=m|1;if((m&2|0)==0&(o[x>>2]|0)!=0){r[g>>1]=m|3;u[x+144>>2]=0.0}if((b|0)>=64){V=420;break e}o[x+8>>2]=b;o[Ft+(b<<2)>>2]=x;b=b+1|0}}while(0)}else f=m}while(0);p=o[p+12>>2]|0;if(!p){et=b;tt=f;break}else m=f}}else{et=b;tt=m}}while(0);h=h+1|0;if((h|0)>=2)break;f=o[Ji+(h<<2)>>2]|0;b=et;m=tt}st=(1.0-D)*e;P=1.0/st;K=o[S>>2]|0;Q=o[A>>2]|0;if((et|0)<=(K|0)){V=363;break}if((et|0)<=(Q|0)){V=368;break}$=(et|0)>0;if($){p=o[Vi>>2]|0;f=o[Yi>>2]|0;b=p;m=f;h=0;do{ot=o[Ft+(h<<2)>>2]|0;rt=ot+44|0;nt=o[rt+4>>2]|0;it=b+(h*12|0)|0;o[it>>2]=o[rt>>2];o[it+4>>2]=nt;o[b+(h*12|0)+8>>2]=o[ot+56>>2];it=ot+64|0;nt=o[it+4>>2]|0;rt=m+(h*12|0)|0;o[rt>>2]=o[it>>2];o[rt+4>>2]=nt;o[m+(h*12|0)+8>>2]=o[ot+72>>2];h=h+1|0}while((h|0)!=(et|0));h=f}else{m=o[Yi>>2]|0;b=o[Vi>>2]|0;p=b;h=m}o[ee>>2]=Ri;o[re>>2]=tt;o[Ut>>2]=Pi;u[Ni>>2]=st;u[we>>2]=P;u[xe>>2]=1.0;o[Te>>2]=i;o[ge>>2]=20;n[ye>>0]=0;n[ve>>0]=n[zi>>0]|0;n[ve+1>>0]=n[zi+1>>0]|0;n[ve+2>>0]=n[zi+2>>0]|0;o[_e>>2]=p;o[si>>2]=h;oC(Gi,Ni);S=o[se>>2]|0;V=(S|0)>0;A=o[ae>>2]|0;C=o[ce>>2]|0;Z=0;do{if(V){X=0;P=0.0}else break;do{y=A+(X*88|0)|0;h=o[A+(X*88|0)+32>>2]|0;f=o[A+(X*88|0)+36>>2]|0;G=+u[A+(X*88|0)+48>>2];N=+u[A+(X*88|0)+52>>2];U=+u[A+(X*88|0)+56>>2];W=+u[A+(X*88|0)+60>>2];g=o[A+(X*88|0)+84>>2]|0;if((h|0)==(K|0)|(h|0)==(Q|0)){z=+u[A+(X*88|0)+64>>2];H=+u[A+(X*88|0)+40>>2]}else{z=0.0;H=0.0}if((f|0)==(K|0)|(f|0)==(Q|0)){q=+u[A+(X*88|0)+68>>2];Y=+u[A+(X*88|0)+44>>2]}else{q=0.0;Y=0.0}E=C+(h*12|0)|0;k=+u[E>>2];T=C+(h*12|0)+4|0;j=+u[T>>2];x=C+(h*12|0)+8|0;M=+u[x>>2];w=C+(f*12|0)|0;R=+u[w>>2];v=C+(f*12|0)+4|0;I=+u[v>>2];f=C+(f*12|0)+8|0;D=+u[f>>2];if((g|0)>0){J=H+Y;h=0;do{At=+F(+M);u[be>>2]=At;Et=+B(+M);u[Kt>>2]=Et;Pt=+F(+D);u[fe>>2]=Pt;xt=+B(+D);u[Qt>>2]=xt;u[qi>>2]=k-(G*Et-N*At);u[Ot>>2]=j-(N*Et+G*At);u[Hi>>2]=R-(U*xt-W*Pt);u[It>>2]=I-(W*xt+U*Pt);rC(Xi,y,qi,Hi,h);Pt=+u[Xi>>2];xt=+u[Rt>>2];At=+u[Nt>>2];Et=+u[Mt>>2];wt=+u[me>>2];Tt=At-k;St=Et-j;At=At-R;Et=Et-I;P=P<wt?P:wt;wt=(wt+.004999999888241291)*.75;wt=wt<0.0?wt:0.0;Ct=xt*Tt-Pt*St;vt=xt*At-Pt*Et;Ct=vt*(q*vt)+(J+Ct*(z*Ct));Ct=Ct>0.0?-(wt<-.20000000298023224?-.20000000298023224:wt)/Ct:0.0;Pt=Pt*Ct;Ct=xt*Ct;k=k-H*Pt;j=j-H*Ct;M=M-z*(Tt*Ct-St*Pt);R=R+Y*Pt;I=I+Y*Ct;D=D+q*(At*Ct-Et*Pt);h=h+1|0}while((h|0)!=(g|0))}u[E>>2]=k;u[T>>2]=j;u[x>>2]=M;u[w>>2]=R;u[v>>2]=I;u[f>>2]=D;X=X+1|0}while((X|0)<(S|0));Z=Z+1|0}while((Z|0)<20&!(P>=-.007499999832361937));ot=Ft+(K<<2)|0;rt=b+(K*12|0)|0;nt=o[rt+4>>2]|0;it=(o[ot>>2]|0)+36|0;o[it>>2]=o[rt>>2];o[it+4>>2]=nt;o[(o[ot>>2]|0)+52>>2]=o[b+(K*12|0)+8>>2];ot=Ft+(Q<<2)|0;it=b+(Q*12|0)|0;nt=o[it+4>>2]|0;rt=(o[ot>>2]|0)+36|0;o[rt>>2]=o[it>>2];o[rt+4>>2]=nt;o[(o[ot>>2]|0)+52>>2]=o[b+(Q*12|0)+8>>2];eC(Gi);if(te){h=0;do{iC(Gi);h=h+1|0}while((h|0)<(i|0))}if($){h=m;y=0;do{g=b+(y*12|0)|0;m=b+(y*12|0)+4|0;f=o[h+(y*12|0)>>2]|0;p=o[h+(y*12|0)+4>>2]|0;R=+u[h+(y*12|0)+8>>2];P=(o[_>>2]=f,+u[_>>2]);Pt=st*P;M=(o[_>>2]=p,+u[_>>2]);D=st*M;D=Pt*Pt+D*D;if(D>4.0){Pt=2.0/+L(+D);f=(u[_>>2]=P*Pt,o[_>>2]|0);p=(u[_>>2]=M*Pt,o[_>>2]|0)}P=st*R;if(P*P>2.4674012660980225)P=R*(1.5707963705062866/(P>0.0?P:-P));else P=R;Tt=st*(o[_>>2]=f,+u[_>>2]);Tt=+u[g>>2]+Tt;St=+u[m>>2]+st*(o[_>>2]=p,+u[_>>2]);Et=+u[b+(y*12|0)+8>>2]+st*P;u[g>>2]=Tt;u[m>>2]=St;b=o[Vi>>2]|0;u[b+(y*12|0)+8>>2]=Et;h=o[Yi>>2]|0;o[h+(y*12|0)>>2]=f;o[h+(y*12|0)+4>>2]=p;u[h+(y*12|0)+8>>2]=P;ot=o[Ft+(y<<2)>>2]|0;u[ot+44>>2]=Tt;u[ot+48>>2]=St;u[ot+56>>2]=Et;o[ot+64>>2]=f;o[ot+68>>2]=p;u[ot+72>>2]=P;At=+F(+Et);u[ot+20>>2]=At;Et=+B(+Et);u[ot+24>>2]=Et;Ct=+u[ot+28>>2];Pt=+u[ot+32>>2];u[ot+12>>2]=Tt-(Et*Ct-At*Pt);u[ot+16>>2]=St-(At*Ct+Et*Pt);y=y+1|0}while((y|0)!=(et|0));g=b}else g=p;h=o[he>>2]|0;if($t&(tt|0)>0){b=0;do{p=o[Jt+(b<<2)>>2]|0;f=o[h+(b*156|0)+148>>2]|0;o[ie>>2]=f;if((f|0)>0){m=0;do{o[qi+(m<<2)>>2]=o[h+(b*156|0)+(m*36|0)+16>>2];o[qi+8+(m<<2)>>2]=o[h+(b*156|0)+(m*36|0)+20>>2];m=m+1|0}while((m|0)!=(f|0))}Fk[o[(o[Ei>>2]|0)+20>>2]&63](Ei,p,qi);b=b+1|0}while((b|0)<(tt|0))}nC(Gi);if($){m=0;do{p=o[Ft+(m<<2)>>2]|0;ot=p+4|0;r[ot>>1]=r[ot>>1]&-2;do{if((o[p>>2]|0)==2){St=+u[p+52>>2];Ct=+F(+St);u[de>>2]=Ct;St=+B(+St);u[Zt>>2]=St;At=+u[p+28>>2];Et=+u[p+32>>2];Pt=+u[p+40>>2]-(At*Ct+St*Et);u[qi>>2]=+u[p+36>>2]-(St*At-Ct*Et);u[Dt>>2]=Pt;f=(o[p+88>>2]|0)+102872|0;h=o[p+100>>2]|0;if(h|0){b=p+12|0;do{wA(h,f,qi,b);h=o[h+4>>2]|0}while((h|0)!=0)}h=o[p+112>>2]|0;if(!h)break;do{ot=(o[h+4>>2]|0)+4|0;o[ot>>2]=o[ot>>2]&-34;h=o[h+12>>2]|0}while((h|0)!=0)}}while(0);m=m+1|0}while((m|0)<(et|0))}kA(Fi);if(n[vi>>0]|0){V=434;break}}else{o[K>>2]=h&-37;ot=et;Q=Ui;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));ot=it;Q=Wi;K=ot+36|0;do{o[ot>>2]=o[Q>>2];ot=ot+4|0;Q=Q+4|0}while((ot|0)<(K|0));Pt=+u[Z>>2];At=+F(+Pt);u[E>>2]=At;Pt=+B(+Pt);u[C>>2]=Pt;Et=+u[V>>2];Ct=+u[X>>2];St=+u[tt>>2]-(At*Et+Pt*Ct);u[A>>2]=+u[$>>2]-(Pt*Et-At*Ct);u[S>>2]=St;St=+u[w>>2];Ct=+F(+St);u[g>>2]=Ct;St=+B(+St);u[m>>2]=St;At=+u[y>>2];Et=+u[v>>2];Pt=+u[T>>2]-(Ct*At+St*Et);u[b>>2]=+u[x>>2]-(St*At-Ct*Et);u[p>>2]=Pt}h=o[Bi>>2]|0;if(!h){V=348;break}}switch(V|0){case 262:{Gt(14614,13819,641,14665);break}case 267:{Gt(14674,14688,704,14723);break}case 271:{Gt(14674,14688,704,14723);break}case 274:{Gt(14674,13819,676,14665);break}case 280:{Gt(9692,9582,53,10061);break}case 283:{Gt(13928,9582,81,10061);break}case 289:{Gt(9692,9582,53,10061);break}case 292:{Gt(13928,9582,81,10061);break}case 294:{Gt(9767,9786,279,9834);break}case 299:{Gt(9958,9786,52,15413);break}case 302:{Gt(9849,9879,103,9921);break}case 304:{Gt(9849,9879,103,9921);break}case 309:{Gt(9849,9879,103,9921);break}case 311:{Gt(9849,9879,103,9921);break}case 315:{Gt(9849,9879,103,9921);break}case 319:{Gt(9849,9879,103,9921);break}case 321:{Gt(9849,9879,103,9921);break}case 325:{Gt(9849,9879,103,9921);break}case 348:{l=o[Vi>>2]|0;V=349;break t}case 351:{Gt(14674,14688,704,14723);break}case 353:{Gt(14674,14688,704,14723);break}case 363:{Gt(13710,13734,386,14665);break}case 368:{Gt(13775,13734,387,14665);break}case 408:{Gt(14674,14688,704,14723);break}case 415:{Gt(14525,14482,62,14521);break}case 420:{Gt(14453,14482,54,14521);break}case 434:{n[ji>>0]=0;l=g;break t}}}}while(0);if((V|0)==349)n[ji>>0]=1;h=o[Li>>2]|0;if((h|0)<=0)Gt(10339,10213,63,10356);p=t+102480+(h*12|0)|0;if((o[p+-12>>2]|0)!=(l|0))Gt(10361,10213,65,10356);if(!(n[p+-4>>0]|0)){l=p+-8|0;o[ki>>2]=(o[ki>>2]|0)-(o[l>>2]|0)}else{iE(l);h=o[Li>>2]|0;l=p+-8|0}f=(o[Oi>>2]|0)-(o[l>>2]|0)|0;o[Oi>>2]=f;b=h+-1|0;o[Li>>2]=b;l=o[Yi>>2]|0;if((h|0)<=1)Gt(10339,10213,63,10356);p=t+102480+(b*12|0)|0;if((o[p+-12>>2]|0)!=(l|0))Gt(10361,10213,65,10356);if(!(n[p+-4>>0]|0)){l=p+-8|0;o[ki>>2]=(o[ki>>2]|0)-(o[l>>2]|0);h=f;f=b}else{iE(l);h=o[Oi>>2]|0;f=o[Li>>2]|0;l=p+-8|0}h=h-(o[l>>2]|0)|0;o[Oi>>2]=h;b=f+-1|0;o[Li>>2]=b;l=Di;if((f|0)<=1)Gt(10339,10213,63,10356);p=t+102480+(b*12|0)|0;if((o[p+-12>>2]|0)!=(l|0))Gt(10361,10213,65,10356);if(!(n[p+-4>>0]|0)){l=p+-8|0;o[ki>>2]=(o[ki>>2]|0)-(o[l>>2]|0)}else{iE(l);h=o[Oi>>2]|0;b=o[Li>>2]|0;l=p+-8|0}h=h-(o[l>>2]|0)|0;o[Oi>>2]=h;f=b+-1|0;o[Li>>2]=f;l=Ri;if((b|0)<=1)Gt(10339,10213,63,10356);p=t+102480+(f*12|0)|0;if((o[p+-12>>2]|0)!=(l|0))Gt(10361,10213,65,10356);if(!(n[p+-4>>0]|0)){l=p+-8|0;o[ki>>2]=(o[ki>>2]|0)-(o[l>>2]|0)}else{iE(l);h=o[Oi>>2]|0;f=o[Li>>2]|0;l=p+-8|0}p=h-(o[l>>2]|0)|0;o[Oi>>2]=p;h=f+-1|0;o[Li>>2]=h;l=Ii;if((f|0)<=1)Gt(10339,10213,63,10356);f=t+102480+(h*12|0)|0;if((o[f+-12>>2]|0)!=(l|0))Gt(10361,10213,65,10356);if(!(n[f+-4>>0]|0)){l=f+-8|0;o[ki>>2]=(o[ki>>2]|0)-(o[l>>2]|0)}else{iE(l);p=o[Oi>>2]|0;h=o[Li>>2]|0;l=f+-8|0}o[Oi>>2]=p-(o[l>>2]|0);o[Li>>2]=h+-1;u[t+103024>>2]=0.0}if(Qi)o[Ki>>2]=Zi;h=o[$i>>2]|0;if(!(h&4)){Ki=h&-3;o[$i>>2]=Ki;t=t+102996|0;u[t>>2]=0.0;d=tn;return}l=o[t+102952>>2]|0;if(!l){Ki=h&-3;o[$i>>2]=Ki;t=t+102996|0;u[t>>2]=0.0;d=tn;return}do{u[l+76>>2]=0.0;u[l+80>>2]=0.0;u[l+84>>2]=0.0;l=o[l+96>>2]|0}while((l|0)!=0);Ki=h&-3;o[$i>>2]=Ki;t=t+102996|0;u[t>>2]=0.0;d=tn;return}function pC(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0;v=d;d=d+1040|0;y=v;g=y+4|0;o[y>>2]=g;_=y+1028|0;h=y+1032|0;o[h>>2]=256;o[g>>2]=o[t+102872>>2];o[_>>2]=1;p=t+102876|0;b=i+4|0;f=i+8|0;m=i+12|0;c=t+102884|0;t=1;n=g;t:while(1){t=t+-1|0;o[_>>2]=t;a=o[n+(t<<2)>>2]|0;do{if((a|0)!=-1?(l=o[p>>2]|0,!((+u[i>>2]-+u[l+(a*36|0)+8>>2]>0.0?1:+u[b>>2]-+u[l+(a*36|0)+12>>2]>0.0)|+u[l+(a*36|0)>>2]-+u[f>>2]>0.0|+u[l+(a*36|0)+4>>2]-+u[m>>2]>0.0)):0){s=l+(a*36|0)+24|0;if((o[s>>2]|0)==-1){if((a|0)<=-1){t=9;break t}if((o[c>>2]|0)<=(a|0)){t=9;break t}if(!(Uk[o[(o[e>>2]|0)+8>>2]&63](e,o[(o[l+(a*36|0)+16>>2]|0)+16>>2]|0)|0)){t=19;break t}t=o[_>>2]|0;break}if((t|0)==(o[h>>2]|0)?(o[h>>2]=t<<1,r=eE(t<<3)|0,o[y>>2]=r,qE(r|0,n|0,o[_>>2]<<2|0)|0,(n|0)!=(g|0)):0)iE(n);r=o[y>>2]|0;o[r+(o[_>>2]<<2)>>2]=o[s>>2];n=(o[_>>2]|0)+1|0;o[_>>2]=n;t=l+(a*36|0)+28|0;if((n|0)==(o[h>>2]|0)?(o[h>>2]=n<<1,a=eE(n<<3)|0,o[y>>2]=a,qE(a|0,r|0,o[_>>2]<<2|0)|0,(r|0)!=(g|0)):0)iE(r);o[(o[y>>2]|0)+(o[_>>2]<<2)>>2]=o[t>>2];t=(o[_>>2]|0)+1|0;o[_>>2]=t}}while(0);if((t|0)<=0){t=19;break}n=o[y>>2]|0}if((t|0)==9)Gt(14731,14772,158,14817);else if((t|0)==19){t=o[y>>2]|0;if((t|0)==(g|0)){d=v;return}iE(t);o[y>>2]=0;d=v;return}}function dC(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,l=0.0,h=0,p=0.0,f=0,b=0,m=0.0,g=0.0,y=0,v=0,w=0,x=0,T=0,S=0.0,A=0.0,C=0,E=0,P=0,D=0,M=0,R=0.0,I=0.0,O=0,k=0.0,j=0.0,B=0,F=0,J=0,G=0,N=0.0,U=0.0,W=0.0,V=0.0,X=0,z=0,q=0,H=0,Y=0,Z=0,Q=0.0,K=0.0;Z=d;d=d+1088|0;X=Z+1064|0;z=Z+1056|0;Y=Z+20|0;q=Z;J=o[i>>2]|0;B=o[i+4>>2]|0;F=o[n>>2]|0;M=o[n+4>>2]|0;R=(o[_>>2]=J,+u[_>>2]);I=(o[_>>2]=B,+u[_>>2]);k=(o[_>>2]=F,+u[_>>2]);k=k-R;j=(o[_>>2]=M,+u[_>>2])-I;r=k*k+j*j;if(!(r>0.0))Gt(14829,14772,209,14854);m=+L(+r);O=m<1.1920928955078125e-07;m=1.0/m;A=O?k:k*m;m=O?j:j*m;S=-m;m=m<-0.0?S:m;g=A>0.0?A:-A;a=R+k;r=I+j;O=Y+4|0;o[Y>>2]=O;w=Y+1028|0;v=Y+1032|0;o[v>>2]=256;o[O>>2]=o[t+102872>>2];o[w>>2]=1;x=t+102876|0;T=q+16|0;y=X+8|0;E=q+4|0;C=q+8|0;P=q+12|0;D=z+4|0;b=q+8|0;f=t+102884|0;t=O;s=R<a?R:a;p=I<r?I:r;a=R>a?R:a;r=I>r?I:r;i=1;c=1.0;t:while(1){i=i+-1|0;o[w>>2]=i;h=o[t+(i<<2)>>2]|0;do{if(((h|0)!=-1?(G=o[x>>2]|0,N=+u[G+(h*36|0)+8>>2],U=+u[G+(h*36|0)+12>>2],W=+u[G+(h*36|0)>>2],V=+u[G+(h*36|0)+4>>2],!(s-N>0.0|p-U>0.0|W-a>0.0|V-r>0.0)):0)?(l=(R-(N+W)*.5)*S+A*(I-(U+V)*.5),!((l>0.0?l:-l)-(m*((N-W)*.5)+g*((U-V)*.5))>0.0)):0){n=G+(h*36|0)+24|0;if((o[n>>2]|0)!=-1){if((i|0)==(o[v>>2]|0)?(o[v>>2]=i<<1,i=eE(i<<3)|0,o[Y>>2]=i,qE(i|0,t|0,o[w>>2]<<2|0)|0,(t|0)!=(O|0)):0)iE(t);t=o[Y>>2]|0;o[t+(o[w>>2]<<2)>>2]=o[n>>2];n=(o[w>>2]|0)+1|0;o[w>>2]=n;i=G+(h*36|0)+28|0;if((n|0)==(o[v>>2]|0)?(o[v>>2]=n<<1,h=eE(n<<3)|0,o[Y>>2]=h,qE(h|0,t|0,o[w>>2]<<2|0)|0,(t|0)!=(O|0)):0)iE(t);o[(o[Y>>2]|0)+(o[w>>2]<<2)>>2]=o[i>>2];i=(o[w>>2]|0)+1|0;o[w>>2]=i;l=p;break}o[q>>2]=J;o[E>>2]=B;o[b>>2]=F;o[P>>2]=M;u[T>>2]=c;if((h|0)<=-1){H=12;break t}if((o[f>>2]|0)<=(h|0)){H=12;break t}h=o[G+(h*36|0)+16>>2]|0;i=o[h+16>>2]|0;t=o[i+12>>2]|0;if(Wk[o[(o[t>>2]|0)+20>>2]&63](t,X,q,(o[i+8>>2]|0)+12|0,o[h+20>>2]|0)|0){l=+u[y>>2];K=1.0-l;Q=K*+u[E>>2]+l*+u[P>>2];u[z>>2]=K*+u[q>>2]+l*+u[C>>2];u[D>>2]=Q;l=+Ok[o[(o[e>>2]|0)+8>>2]&63](e,i,z,X,l)}else l=+u[T>>2];if(l==0.0){H=27;break t}if(l>0.0){a=R+k*l;r=I+j*l;s=R<a?R:a;p=I<r?I:r;a=R>a?R:a;r=I>r?I:r;c=l}i=o[w>>2]|0;l=p}else l=p}while(0);if((i|0)<=0)break;t=o[Y>>2]|0;p=l}if((H|0)==12)Gt(14731,14772,158,14817);i=o[Y>>2]|0;if((i|0)==(O|0)){d=Z;return}iE(i);o[Y>>2]=0;d=Z;return}function fC(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,c=0.0,l=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0.0,x=0.0,T=0,S=0;v=d;d=d+80|0;y=v+8|0;g=v;switch(o[e+4>>2]|0){case 0:{a=+u[i+12>>2];w=+u[e+12>>2];s=+u[i+8>>2];r=+u[e+16>>2];c=w*s+a*r+ +u[i+4>>2];u[y>>2]=+u[i>>2]+(a*w-s*r);u[y+4>>2]=c;c=+u[e+8>>2];u[g>>2]=a-s*0.0;u[g+4>>2]=s+a*0.0;i=o[t+102984>>2]|0;Lk[o[(o[i>>2]|0)+20>>2]&63](i,y,c,g,n);d=v;return}case 1:{a=+u[i+12>>2];c=+u[e+12>>2];s=+u[i+8>>2];r=+u[e+16>>2];x=+u[i>>2];w=+u[i+4>>2];u[y>>2]=x+(a*c-s*r);u[y+4>>2]=c*s+a*r+w;i=e+20|0;r=+u[i>>2];c=+u[i+4>>2];u[g>>2]=x+(a*r-s*c);u[g+4>>2]=r*s+a*c+w;i=o[t+102984>>2]|0;Vk[o[(o[i>>2]|0)+24>>2]&63](i,y,g,n);d=v;return}case 3:{m=o[e+16>>2]|0;h=o[e+12>>2]|0;_=i+12|0;r=+u[_>>2];w=+u[h>>2];p=i+8|0;s=+u[p>>2];x=+u[h+4>>2];c=+u[i>>2];f=i+4|0;a=+u[f>>2];u[y>>2]=c+(r*w-s*x);u[y+4>>2]=w*s+r*x+a;t:do{if((m|0)>1){b=g+4|0;l=t+102984|0;e=1;while(1){w=+u[h+(e<<3)>>2];x=+u[h+(e<<3)+4>>2];u[g>>2]=c+(r*w-s*x);u[b>>2]=w*s+r*x+a;S=o[l>>2]|0;Vk[o[(o[S>>2]|0)+24>>2]&63](S,y,g,n);S=o[l>>2]|0;Bk[o[(o[S>>2]|0)+16>>2]&63](S,y,.05000000074505806,n);S=g;T=o[S+4>>2]|0;t=y;o[t>>2]=o[S>>2];o[t+4>>2]=T;e=e+1|0;if((e|0)==(m|0))break t;r=+u[_>>2];s=+u[p>>2];c=+u[i>>2];a=+u[f>>2]}}}while(0);d=v;return}case 2:{h=o[e+148>>2]|0;if((h|0)>=9)Gt(14862,13819,1077,14879);if((h|0)>0){l=e+20|0;a=+u[i+12>>2];c=+u[i+8>>2];s=+u[i>>2];r=+u[i+4>>2];e=0;do{w=+u[l+(e<<3)>>2];x=+u[l+(e<<3)+4>>2];u[y+(e<<3)>>2]=s+(a*w-c*x);u[y+(e<<3)+4>>2]=w*c+a*x+r;e=e+1|0}while((e|0)!=(h|0))}S=o[t+102984>>2]|0;Vk[o[(o[S>>2]|0)+12>>2]&63](S,y,h,n);d=v;return}default:{d=v;return}}}function bC(t){t=t|0;var e=0,i=0,n=0,s=0,a=0,c=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,I=0,O=0,k=0,L=0,j=0;j=d;d=d+96|0;L=j+48|0;O=j+16|0;E=j+88|0;P=j+80|0;C=j+64|0;D=j+8|0;M=j;k=t+102984|0;e=o[k>>2]|0;if(!e){d=j;return}R=o[e+4>>2]|0;if(R&1|0?(i=o[t+102952>>2]|0,i|0):0){v=L+4|0;f=L+8|0;c=L+12|0;T=L+4|0;g=L+8|0;_=L+12|0;w=L+4|0;b=L+8|0;l=L+12|0;x=L+4|0;m=L+8|0;h=L+12|0;S=L+4|0;y=L+8|0;p=L+12|0;do{a=i+12|0;e=o[i+100>>2]|0;if(e|0){s=i+4|0;do{n=r[s>>1]|0;t:do{if(!(n&32)){u[L>>2]=.5;u[v>>2]=.5;u[f>>2]=.30000001192092896;u[c>>2]=1.0;fC(t,o[e+12>>2]|0,a,L)}else switch(o[i>>2]|0){case 0:{u[L>>2]=.5;u[x>>2]=.8999999761581421;u[m>>2]=.5;u[h>>2]=1.0;fC(t,o[e+12>>2]|0,a,L);break t}case 1:{u[L>>2]=.5;u[S>>2]=.5;u[y>>2]=.8999999761581421;u[p>>2]=1.0;fC(t,o[e+12>>2]|0,a,L);break t}default:if(!(n&2)){u[L>>2]=.6000000238418579;u[T>>2]=.6000000238418579;u[g>>2]=.6000000238418579;u[_>>2]=1.0;fC(t,o[e+12>>2]|0,a,L);break t}else{u[L>>2]=.8999999761581421;u[w>>2]=.699999988079071;u[b>>2]=.699999988079071;u[l>>2]=1.0;fC(t,o[e+12>>2]|0,a,L);break t}}}while(0);e=o[e+4>>2]|0}while((e|0)!=0)}i=o[i+96>>2]|0}while((i|0)!=0)}t:do{if(R&2|0?(A=o[t+102956>>2]|0,A|0):0){s=C+4|0;n=C+8|0;i=C+12|0;e=A;while(1){T=(o[e+52>>2]|0)+12|0;x=(o[e+48>>2]|0)+12|0;A=o[x+4>>2]|0;S=L;o[S>>2]=o[x>>2];o[S+4>>2]=A;S=o[T+4>>2]|0;A=O;o[A>>2]=o[T>>2];o[A+4>>2]=S;kk[o[o[e>>2]>>2]&127](E,e);kk[o[(o[e>>2]|0)+4>>2]&127](P,e);u[C>>2]=.5;u[s>>2]=.800000011920929;u[n>>2]=.800000011920929;u[i>>2]=1.0;switch(o[e+4>>2]|0){case 3:{A=o[k>>2]|0;Vk[o[(o[A>>2]|0)+24>>2]&63](A,E,P,C);break}case 4:{A=e+68|0;S=o[A+4>>2]|0;T=D;o[T>>2]=o[A>>2];o[T+4>>2]=S;T=e+76|0;S=o[T+4>>2]|0;A=M;o[A>>2]=o[T>>2];o[A+4>>2]=S;A=o[k>>2]|0;Vk[o[(o[A>>2]|0)+24>>2]&63](A,D,E,C);A=o[k>>2]|0;Vk[o[(o[A>>2]|0)+24>>2]&63](A,M,P,C);A=o[k>>2]|0;Vk[o[(o[A>>2]|0)+24>>2]&63](A,D,M,C);break}case 5:break;default:{A=o[k>>2]|0;Vk[o[(o[A>>2]|0)+24>>2]&63](A,L,E,C);A=o[k>>2]|0;Vk[o[(o[A>>2]|0)+24>>2]&63](A,E,P,C);A=o[k>>2]|0;Vk[o[(o[A>>2]|0)+24>>2]&63](A,O,P,C)}}e=o[e+12>>2]|0;if(!e)break t}}}while(0);if(R&8|0){e=t+102932|0;while(1){e=o[e>>2]|0;if(!e)break;else e=e+12|0}}if(R&4|0){u[L>>2]=.8999999761581421;u[L+4>>2]=.30000001192092896;u[L+8>>2]=.8999999761581421;u[L+12>>2]=1.0;e=o[t+102952>>2]|0;t:do{if(e|0){p=t+102884|0;f=t+102876|0;y=O+4|0;l=O+8|0;g=O+12|0;h=O+16|0;m=O+20|0;_=O+24|0;b=O+28|0;e:while(1){if(r[e+4>>1]&32?(I=o[e+100>>2]|0,I|0):0){i=I;do{c=i+28|0;if((o[c>>2]|0)>0){a=i+24|0;s=0;do{n=o[(o[a>>2]|0)+(s*28|0)+24>>2]|0;if((n|0)<=-1){e=39;break e}if((o[p>>2]|0)<=(n|0)){e=39;break e}M=o[f>>2]|0;D=o[M+(n*36|0)>>2]|0;E=o[M+(n*36|0)+4>>2]|0;P=o[M+(n*36|0)+8>>2]|0;M=o[M+(n*36|0)+12>>2]|0;o[O>>2]=D;o[y>>2]=E;o[l>>2]=P;o[g>>2]=E;o[h>>2]=P;o[m>>2]=M;o[_>>2]=D;o[b>>2]=M;M=o[k>>2]|0;Vk[o[(o[M>>2]|0)+8>>2]&63](M,O,4,L);s=s+1|0}while((s|0)<(o[c>>2]|0))}i=o[i+4>>2]|0}while((i|0)!=0)}e=o[e+96>>2]|0;if(!e)break t}if((e|0)==39)Gt(14731,14772,164,14889)}}while(0)}if(!(R&16)){d=j;return}e=o[t+102952>>2]|0;if(!e){d=j;return}do{I=e+12|0;o[L>>2]=o[I>>2];o[L+4>>2]=o[I+4>>2];o[L+8>>2]=o[I+8>>2];o[L+12>>2]=o[I+12>>2];I=e+44|0;O=o[I+4>>2]|0;t=L;o[t>>2]=o[I>>2];o[t+4>>2]=O;t=o[k>>2]|0;kk[o[(o[t>>2]|0)+28>>2]&127](t,L);e=o[e+96>>2]|0}while((e|0)!=0);d=j;return}function mC(t){t=t|0;var e=0,i=0,n=0,r=0,s=0,a=0,c=0,h=0,_=0,p=0,f=0,b=0,m=0.0;b=d;d=d+112|0;f=b+96|0;p=b+88|0;_=b+80|0;h=b+72|0;c=b+64|0;a=b+56|0;s=b+48|0;r=b+40|0;n=b+32|0;i=b+24|0;e=b;if(o[t+102868>>2]&2|0){d=b;return}m=+u[t+102972>>2];l[e>>3]=+u[t+102968>>2];l[e+8>>3]=m;wx(14900,e);wx(14929,b+16|0);o[i>>2]=o[t+102960>>2];wx(14954,i);o[n>>2]=o[t+102964>>2];wx(15014,n);e=o[t+102952>>2]|0;if(e|0){i=0;while(1){o[e+8>>2]=i;RA(e);e=o[e+96>>2]|0;if(!e)break;else i=i+1|0}}t=t+102956|0;e=o[t>>2]|0;if(e|0){i=0;n=e;while(1){o[n+56>>2]=i;n=o[n+12>>2]|0;if(!n)break;else i=i+1|0}do{if((o[e+4>>2]|0)!=6){wx(15077,r);Ik[o[(o[e>>2]|0)+16>>2]&127](e);wx(15080,s)}e=o[e+12>>2]|0}while((e|0)!=0);e=o[t>>2]|0;if(e|0)do{if((o[e+4>>2]|0)==6){wx(15077,p);Ik[o[(o[e>>2]|0)+16>>2]&127](e);wx(15080,f)}e=o[e+12>>2]|0}while((e|0)!=0)}wx(15083,a);wx(15100,c);wx(15117,h);wx(15133,_);d=b;return}function gC(t,e,i,n,r,s,a,c){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;c=+c;var l=0.0,h=0.0,_=0,p=0.0,d=0.0,f=0,b=0;o[t+8>>2]=e;o[t+12>>2]=i;_=n;f=o[_+4>>2]|0;b=t+20|0;o[b>>2]=o[_>>2];o[b+4>>2]=f;b=r;f=o[b+4>>2]|0;_=t+28|0;o[_>>2]=o[b>>2];o[_+4>>2]=f;p=+u[s>>2]-+u[e+12>>2];_=s+4|0;d=+u[_>>2]-+u[e+16>>2];l=+u[e+24>>2];h=+u[e+20>>2];u[t+36>>2]=p*l+d*h;u[t+40>>2]=l*d-p*h;h=+u[a>>2]-+u[i+12>>2];e=a+4|0;p=+u[e>>2]-+u[i+16>>2];d=+u[i+24>>2];l=+u[i+20>>2];u[t+44>>2]=h*d+p*l;u[t+48>>2]=d*p-h*l;l=+u[s>>2]-+u[n>>2];h=+u[_>>2]-+u[n+4>>2];u[t+52>>2]=+L(+(l*l+h*h));h=+u[a>>2]-+u[r>>2];l=+u[e>>2]-+u[r+4>>2];u[t+56>>2]=+L(+(h*h+l*l));u[t+60>>2]=c;if(c>1.1920928955078125e-07)return;else Gt(15381,14159,51,15413)}function yC(){return 19628}function vC(t){t=t|0;var e=0,i=0;e=d;d=d+16|0;i=e;o[i>>2]=TC(o[t+60>>2]|0)|0;t=xC(te(6,i|0)|0)|0;d=e;return t|0}function wC(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0;r=d;d=d+32|0;s=r;n=r+20|0;o[s>>2]=o[t+60>>2];o[s+4>>2]=0;o[s+8>>2]=e;o[s+12>>2]=n;o[s+16>>2]=i;if((xC(ee(140,s|0)|0)|0)<0){o[n>>2]=-1;t=-1}else t=o[n>>2]|0;d=r;return t|0}function xC(t){t=t|0;if(t>>>0>4294963200){o[5050]=0-t;t=-1}return t|0}function TC(t){t=t|0;return t|0}function SC(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0;s=d;d=d+32|0;r=s;o[t+36>>2]=50;if((o[t>>2]&64|0)==0?(o[r>>2]=o[t+60>>2],o[r+4>>2]=21523,o[r+8>>2]=s+16,Yt(54,r|0)|0):0)n[t+75>>0]=-1;r=AC(t,e,i)|0;d=s;return r|0}function AC(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,f=0;_=d;d=d+48|0;c=_+16|0;r=_;n=_+32|0;u=t+28|0;s=o[u>>2]|0;o[n>>2]=s;l=t+20|0;s=(o[l>>2]|0)-s|0;o[n+4>>2]=s;o[n+8>>2]=e;o[n+12>>2]=i;s=s+i|0;a=t+60|0;o[r>>2]=o[a>>2];o[r+4>>2]=n;o[r+8>>2]=2;e=xC(ne(146,r|0)|0)|0;t:do{if((s|0)!=(e|0)){r=2;while(1){if((e|0)<0)break;s=s-e|0;f=o[n+4>>2]|0;p=e>>>0>f>>>0;n=p?n+8|0:n;r=(p<<31>>31)+r|0;f=e-(p?f:0)|0;o[n>>2]=(o[n>>2]|0)+f;p=n+4|0;o[p>>2]=(o[p>>2]|0)-f;o[c>>2]=o[a>>2];o[c+4>>2]=n;o[c+8>>2]=r;e=xC(ne(146,c|0)|0)|0;if((s|0)==(e|0)){h=3;break t}}o[t+16>>2]=0;o[u>>2]=0;o[l>>2]=0;o[t>>2]=o[t>>2]|32;if((r|0)==2)i=0;else i=i-(o[n+4>>2]|0)|0}else h=3}while(0);if((h|0)==3){f=o[t+44>>2]|0;o[t+16>>2]=f+(o[t+48>>2]|0);o[u>>2]=f;o[l>>2]=f}d=_;return i|0}function CC(t,e){t=t|0;e=e|0;var i=0,r=0;i=(e|0)!=0;t:do{if(i&(t&3|0)!=0)while(1){if(!(n[t>>0]|0))break t;t=t+1|0;e=e+-1|0;i=(e|0)!=0;if(!(i&(t&3|0)!=0)){r=4;break}}else r=4}while(0);t:do{if((r|0)==4)if(i){if(n[t>>0]|0){e:do{if(e>>>0>3)while(1){i=o[t>>2]|0;if((i&-2139062144^-2139062144)&i+-16843009|0)break;t=t+4|0;e=e+-4|0;if(e>>>0<=3){r=10;break e}}else r=10}while(0);if((r|0)==10)if(!e){e=0;break}while(1){if(!(n[t>>0]|0))break t;t=t+1|0;e=e+-1|0;if(!e){e=0;break}}}}else e=0}while(0);return(e|0?t:0)|0}function EC(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,f=0,b=0;b=d;d=d+224|0;h=b+120|0;f=b+80|0;p=b;_=b+136|0;r=f;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));o[h>>2]=o[i>>2];if((PC(0,e,h,p,f)|0)>=0){i=o[t>>2]|0;l=i&32;if((n[t+74>>0]|0)<1)o[t>>2]=i&-33;s=t+48|0;if(!(o[s>>2]|0)){r=t+44|0;i=o[r>>2]|0;o[r>>2]=_;a=t+28|0;o[a>>2]=_;u=t+20|0;o[u>>2]=_;o[s>>2]=80;c=t+16|0;o[c>>2]=_+80;PC(t,e,h,p,f)|0;if(i|0){Dk[o[t+36>>2]&63](t,0,0)|0;o[r>>2]=i;o[s>>2]=0;o[c>>2]=0;o[a>>2]=0;o[u>>2]=0}}else PC(t,e,h,p,f)|0;o[t>>2]=o[t>>2]|l}d=b;return}function PC(t,e,i,s,a){t=t|0;e=e|0;i=i|0;s=s|0;a=a|0;var c=0,u=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,O=0;O=d;d=d+64|0;P=O+16|0;A=O;S=O+24|0;R=O+8|0;E=O+20|0;o[P>>2]=e;M=(t|0)!=0;T=S+40|0;D=T;S=S+39|0;C=R+4|0;b=e;e=0;c=0;_=0;t:while(1){do{if((e|0)>-1)if((c|0)>(2147483647-e|0)){o[5050]=75;e=-1;break}else{e=c+e|0;break}}while(0);c=n[b>>0]|0;if(!(c<<24>>24)){x=87;break}else u=b;e:while(1){switch(c<<24>>24){case 37:{c=u;x=9;break e}case 0:{c=u;break e}default:{}}w=u+1|0;o[P>>2]=w;c=n[w>>0]|0;u=w}e:do{if((x|0)==9)while(1){x=0;if((n[c+1>>0]|0)!=37)break e;u=u+1|0;c=c+2|0;o[P>>2]=c;if((n[c>>0]|0)==37)x=9;else break}}while(0);u=u-b|0;if(M)MC(t,b,u);if(u|0){b=c;c=u;continue}h=c+1|0;u=(n[h>>0]|0)+-48|0;if(u>>>0<10){w=(n[c+2>>0]|0)==36;g=w?u:-1;f=w?1:_;h=w?c+3|0:h}else{g=-1;f=_}o[P>>2]=h;c=n[h>>0]|0;u=(c<<24>>24)+-32|0;e:do{if(u>>>0<32){_=0;while(1){u=1<<u;if(!(u&75913)){p=_;break e}_=u|_;h=h+1|0;o[P>>2]=h;c=n[h>>0]|0;u=(c<<24>>24)+-32|0;if(u>>>0>=32){p=_;break}}}else p=0}while(0);if(c<<24>>24==42){u=h+1|0;c=(n[u>>0]|0)+-48|0;if(c>>>0<10?(n[h+2>>0]|0)==36:0){o[a+(c<<2)>>2]=10;_=1;c=h+3|0;u=o[s+((n[u>>0]|0)+-48<<3)>>2]|0}else{if(f|0){e=-1;break}if(M){_=(o[i>>2]|0)+(4-1)&~(4-1);w=o[_>>2]|0;o[i>>2]=_+4;_=0;c=u;u=w}else{_=0;c=u;u=0}}o[P>>2]=c;v=(u|0)<0;h=c;m=v?p|8192:p;w=_;v=v?0-u|0:u}else{c=RC(P)|0;if((c|0)<0){e=-1;break}h=o[P>>2]|0;m=p;w=f;v=c}do{if((n[h>>0]|0)==46){c=h+1|0;if((n[c>>0]|0)!=42){o[P>>2]=c;p=RC(P)|0;c=o[P>>2]|0;break}c=h+2|0;u=(n[c>>0]|0)+-48|0;if(u>>>0<10?(n[h+3>>0]|0)==36:0){o[a+(u<<2)>>2]=10;p=o[s+((n[c>>0]|0)+-48<<3)>>2]|0;c=h+4|0;o[P>>2]=c;break}if(w|0){e=-1;break t}if(M){y=(o[i>>2]|0)+(4-1)&~(4-1);u=o[y>>2]|0;o[i>>2]=y+4}else u=0;o[P>>2]=c;p=u}else{c=h;p=-1}}while(0);f=0;while(1){if(((n[c>>0]|0)+-65|0)>>>0>57){e=-1;break t}y=c+1|0;o[P>>2]=y;u=n[(n[c>>0]|0)+-65+(15504+(f*58|0))>>0]|0;_=u&255;if((_+-1|0)>>>0<8){c=y;f=_}else break}if(!(u<<24>>24)){e=-1;break}h=(g|0)>-1;do{if(u<<24>>24==19)if(h){e=-1;break t}else x=49;else{if(h){o[a+(g<<2)>>2]=_;_=s+(g<<3)|0;g=o[_+4>>2]|0;x=A;o[x>>2]=o[_>>2];o[x+4>>2]=g;x=49;break}if(!M){e=0;break t}IC(A,_,i)}}while(0);if((x|0)==49?(x=0,!M):0){b=y;c=0;_=w;continue}_=n[c>>0]|0;_=(f|0)!=0&(_&15|0)==3?_&-33:_;u=m&-65537;g=(m&8192|0)==0?m:u;e:do{switch(_|0){case 110:switch((f&255)<<24>>24){case 0:{o[o[A>>2]>>2]=e;b=y;c=0;_=w;continue t}case 1:{o[o[A>>2]>>2]=e;b=y;c=0;_=w;continue t}case 2:{b=o[A>>2]|0;o[b>>2]=e;o[b+4>>2]=((e|0)<0)<<31>>31;b=y;c=0;_=w;continue t}case 3:{r[o[A>>2]>>1]=e;b=y;c=0;_=w;continue t}case 4:{n[o[A>>2]>>0]=e;b=y;c=0;_=w;continue t}case 6:{o[o[A>>2]>>2]=e;b=y;c=0;_=w;continue t}case 7:{b=o[A>>2]|0;o[b>>2]=e;o[b+4>>2]=((e|0)<0)<<31>>31;b=y;c=0;_=w;continue t}default:{b=y;c=0;_=w;continue t}}case 112:{c=g|8;u=p>>>0>8?p:8;_=120;x=61;break}case 88:case 120:{c=g;u=p;x=61;break}case 111:{m=A;b=o[m>>2]|0;m=o[m+4>>2]|0;f=kC(b,m,T)|0;u=D-f|0;c=g;u=(g&8|0)==0|(p|0)>(u|0)?p:u+1|0;h=0;p=15968;x=67;break}case 105:case 100:{u=A;c=o[u>>2]|0;u=o[u+4>>2]|0;if((u|0)<0){c=UE(0,0,c|0,u|0)|0;u=I;h=A;o[h>>2]=c;o[h+4>>2]=u;h=1;_=15968;x=66;break e}else{h=(g&2049|0)!=0&1;_=(g&2048|0)==0?(g&1|0)==0?15968:15970:15969;x=66;break e}}case 117:{u=A;c=o[u>>2]|0;u=o[u+4>>2]|0;h=0;_=15968;x=66;break}case 99:{n[S>>0]=o[A>>2];b=S;f=u;_=1;h=0;u=15968;c=T;break}case 109:{c=jC(o[5050]|0)|0;x=71;break}case 115:{c=o[A>>2]|0;c=c|0?c:15978;x=71;break}case 67:{o[R>>2]=o[A>>2];o[C>>2]=0;o[A>>2]=R;c=R;p=-1;x=75;break}case 83:{c=o[A>>2]|0;if(!p){BC(t,32,v,0,g);c=0;x=84}else x=75;break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{b=y;c=JC(t,+l[A>>3],v,p,g,_)|0;_=w;continue t}default:{f=g;_=p;h=0;u=15968;c=T}}}while(0);e:do{if((x|0)==61){m=A;b=o[m>>2]|0;m=o[m+4>>2]|0;f=OC(b,m,T,_&32)|0;p=(c&8|0)==0|(b|0)==0&(m|0)==0;h=p?0:2;p=p?15968:15968+(_>>4)|0;x=67}else if((x|0)==66){b=c;m=u;f=LC(c,u,T)|0;c=g;u=p;p=_;x=67}else if((x|0)==71){x=0;g=CC(c,p)|0;m=(g|0)==0;b=c;f=u;_=m?p:g-c|0;h=0;u=15968;c=m?c+p|0:g}else if((x|0)==75){x=0;h=0;u=0;f=c;while(1){_=o[f>>2]|0;if(!_)break;u=FC(E,_)|0;if((u|0)<0|u>>>0>(p-h|0)>>>0)break;h=u+h|0;if(p>>>0>h>>>0)f=f+4|0;else break}if((u|0)<0){e=-1;break t}BC(t,32,v,h,g);if(!h){c=0;x=84}else{_=0;while(1){u=o[c>>2]|0;if(!u){c=h;x=84;break e}u=FC(E,u)|0;_=u+_|0;if((_|0)>(h|0)){c=h;x=84;break e}MC(t,E,u);if(_>>>0>=h>>>0){c=h;x=84;break}else c=c+4|0}}}}while(0);if((x|0)==67){x=0;_=(b|0)!=0|(m|0)!=0;g=(u|0)!=0|_;_=((_^1)&1)+(D-f)|0;b=g?f:T;f=(u|0)>-1?c&-65537:c;_=g?(u|0)>(_|0)?u:_:u;u=p;c=T}else if((x|0)==84){x=0;BC(t,32,v,c,g^8192);b=y;c=(v|0)>(c|0)?v:c;_=w;continue}g=c-b|0;m=(_|0)<(g|0)?g:_;_=m+h|0;c=(v|0)<(_|0)?_:v;BC(t,32,c,_,f);MC(t,u,h);BC(t,48,c,_,f^65536);BC(t,48,m,g,0);MC(t,b,g);BC(t,32,c,_,f^8192);b=y;_=w}t:do{if((x|0)==87)if(!t)if(!_)e=0;else{e=1;while(1){c=o[a+(e<<2)>>2]|0;if(!c){c=0;break}IC(s+(e<<3)|0,c,i);e=e+1|0;if((e|0)>=10){e=1;break t}}while(1){e=e+1|0;if(c|0){e=-1;break t}if((e|0)>=10){e=1;break t}c=o[a+(e<<2)>>2]|0}}}while(0);d=O;return e|0}function DC(){return 0}function MC(t,e,i){t=t|0;e=e|0;i=i|0;if(!(o[t>>2]&32))ZC(e,i,t);return}function RC(t){t=t|0;var e=0,i=0,r=0;e=o[t>>2]|0;i=(n[e>>0]|0)+-48|0;if(i>>>0<10){r=e;e=0;do{e=i+(e*10|0)|0;r=r+1|0;o[t>>2]=r;i=(n[r>>0]|0)+-48|0}while(i>>>0<10)}else e=0;return e|0}function IC(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0.0;t:do{if(e>>>0<=20)do{switch(e|0){case 9:{n=(o[i>>2]|0)+(4-1)&~(4-1);e=o[n>>2]|0;o[i>>2]=n+4;o[t>>2]=e;break t}case 10:{n=(o[i>>2]|0)+(4-1)&~(4-1);e=o[n>>2]|0;o[i>>2]=n+4;n=t;o[n>>2]=e;o[n+4>>2]=((e|0)<0)<<31>>31;break t}case 11:{n=(o[i>>2]|0)+(4-1)&~(4-1);e=o[n>>2]|0;o[i>>2]=n+4;n=t;o[n>>2]=e;o[n+4>>2]=0;break t}case 12:{n=(o[i>>2]|0)+(8-1)&~(8-1);e=n;r=o[e>>2]|0;e=o[e+4>>2]|0;o[i>>2]=n+8;n=t;o[n>>2]=r;o[n+4>>2]=e;break t}case 13:{r=(o[i>>2]|0)+(4-1)&~(4-1);n=o[r>>2]|0;o[i>>2]=r+4;n=(n&65535)<<16>>16;r=t;o[r>>2]=n;o[r+4>>2]=((n|0)<0)<<31>>31;break t}case 14:{r=(o[i>>2]|0)+(4-1)&~(4-1);n=o[r>>2]|0;o[i>>2]=r+4;r=t;o[r>>2]=n&65535;o[r+4>>2]=0;break t}case 15:{r=(o[i>>2]|0)+(4-1)&~(4-1);n=o[r>>2]|0;o[i>>2]=r+4;n=(n&255)<<24>>24;r=t;o[r>>2]=n;o[r+4>>2]=((n|0)<0)<<31>>31;break t}case 16:{r=(o[i>>2]|0)+(4-1)&~(4-1);n=o[r>>2]|0;o[i>>2]=r+4;r=t;o[r>>2]=n&255;o[r+4>>2]=0;break t}case 17:{r=(o[i>>2]|0)+(8-1)&~(8-1);s=+l[r>>3];o[i>>2]=r+8;l[t>>3]=s;break t}case 18:{r=(o[i>>2]|0)+(8-1)&~(8-1);s=+l[r>>3];o[i>>2]=r+8;l[t>>3]=s;break t}default:break t}}while(0)}while(0);return}function OC(t,e,i,r){t=t|0;e=e|0;i=i|0;r=r|0;if(!((t|0)==0&(e|0)==0))do{i=i+-1|0;n[i>>0]=s[16020+(t&15)>>0]|0|r;t=XE(t|0,e|0,4)|0;e=I}while(!((t|0)==0&(e|0)==0));return i|0}function kC(t,e,i){t=t|0;e=e|0;i=i|0;if(!((t|0)==0&(e|0)==0))do{i=i+-1|0;n[i>>0]=t&7|48;t=XE(t|0,e|0,3)|0;e=I}while(!((t|0)==0&(e|0)==0));return i|0}function LC(t,e,i){t=t|0;e=e|0;i=i|0;var r=0;if(e>>>0>0|(e|0)==0&t>>>0>4294967295)while(1){r=KE(t|0,e|0,10,0)|0;i=i+-1|0;n[i>>0]=r&255|48;r=t;t=ZE(t|0,e|0,10,0)|0;if(!(e>>>0>9|(e|0)==9&r>>>0>4294967295))break;else e=I}if(t)while(1){i=i+-1|0;n[i>>0]=(t>>>0)%10|0|48;if(t>>>0<10)break;else t=(t>>>0)/10|0}return i|0}function jC(t){t=t|0;return VC(t,19668)|0}function BC(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var o=0,s=0;s=d;d=d+256|0;o=s;if((i|0)>(n|0)&(r&73728|0)==0){r=i-n|0;VE(o|0,e|0,(r>>>0<256?r:256)|0)|0;if(r>>>0>255){n=r;do{MC(t,o,256);n=n+-256|0}while(n>>>0>255);r=r&255}MC(t,o,r)}d=s;return}function FC(t,e){t=t|0;e=e|0;if(!t)t=0;else t=WC(t,e)|0;return t|0}function JC(t,e,i,r,a,c){t=t|0;e=+e;i=i|0;r=r|0;a=a|0;c=c|0;var u=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0.0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,O=0;O=d;d=d+560|0;h=O+8|0;v=O;R=O+524|0;M=R;_=O+512|0;o[v>>2]=0;D=_+12|0;GC(e)|0;if((I|0)<0){P=1;C=15985;e=-e}else{P=(a&2049|0)!=0&1;C=(a&2048|0)==0?(a&1|0)==0?15986:15991:15988}GC(e)|0;E=I&2146435072;do{if(E>>>0<2146435072|(E|0)==2146435072&0<0){m=+NC(e,v)*2.0;u=m!=0.0;if(u)o[v>>2]=(o[v>>2]|0)+-1;x=c|32;if((x|0)==97){g=c&32;b=(g|0)==0?C:C+9|0;f=P|2;u=12-r|0;do{if(!(r>>>0>11|(u|0)==0)){e=8.0;do{u=u+-1|0;e=e*16.0}while((u|0)!=0);if((n[b>>0]|0)==45){e=-(e+(-m-e));break}else{e=m+e-e;break}}else e=m}while(0);l=o[v>>2]|0;u=(l|0)<0?0-l|0:l;u=LC(u,((u|0)<0)<<31>>31,D)|0;if((u|0)==(D|0)){u=_+11|0;n[u>>0]=48}n[u+-1>>0]=(l>>31&2)+43;p=u+-2|0;n[p>>0]=c+15;h=(r|0)<1;_=(a&8|0)==0;l=R;while(1){P=~~e;u=l+1|0;n[l>>0]=s[16020+P>>0]|g;e=(e-+(P|0))*16.0;if((u-M|0)==1?!(_&(h&e==0.0)):0){n[u>>0]=46;u=l+2|0}if(!(e!=0.0))break;else l=u}P=u-M|0;M=D-p|0;D=(r|0)!=0&(P+-2|0)<(r|0)?r+2|0:P;u=M+f+D|0;BC(t,32,i,u,a);MC(t,b,f);BC(t,48,i,u,a^65536);MC(t,R,P);BC(t,48,D-P|0,0,0);MC(t,p,M);BC(t,32,i,u,a^8192);break}l=(r|0)<0?6:r;if(u){u=(o[v>>2]|0)+-28|0;o[v>>2]=u;e=m*268435456.0}else{u=o[v>>2]|0;e=m}E=(u|0)<0?h:h+288|0;h=E;do{S=~~e>>>0;o[h>>2]=S;h=h+4|0;e=(e-+(S>>>0))*1.0e9}while(e!=0.0);if((u|0)>0){_=E;p=h;while(1){f=(u|0)<29?u:29;u=p+-4|0;if(u>>>0>=_>>>0){h=0;do{T=zE(o[u>>2]|0,0,f|0)|0;T=WE(T|0,I|0,h|0,0)|0;S=I;w=KE(T|0,S|0,1e9,0)|0;o[u>>2]=w;h=ZE(T|0,S|0,1e9,0)|0;u=u+-4|0}while(u>>>0>=_>>>0);if(h){_=_+-4|0;o[_>>2]=h}}h=p;while(1){if(h>>>0<=_>>>0)break;u=h+-4|0;if(!(o[u>>2]|0))h=u;else break}u=(o[v>>2]|0)-f|0;o[v>>2]=u;if((u|0)>0)p=h;else break}}else _=E;if((u|0)<0){r=((l+25|0)/9|0)+1|0;y=(x|0)==102;do{g=0-u|0;g=(g|0)<9?g:9;if(_>>>0<h>>>0){f=(1<<g)+-1|0;p=1e9>>>g;b=0;u=_;do{S=o[u>>2]|0;o[u>>2]=(S>>>g)+b;b=q(S&f,p)|0;u=u+4|0}while(u>>>0<h>>>0);u=(o[_>>2]|0)==0?_+4|0:_;if(!b){_=u;u=h}else{o[h>>2]=b;_=u;u=h+4|0}}else{_=(o[_>>2]|0)==0?_+4|0:_;u=h}h=y?E:_;h=(u-h>>2|0)>(r|0)?h+(r<<2)|0:u;u=(o[v>>2]|0)+g|0;o[v>>2]=u}while((u|0)<0);u=_;r=h}else{u=_;r=h}S=E;if(u>>>0<r>>>0){h=(S-u>>2)*9|0;p=o[u>>2]|0;if(p>>>0>=10){_=10;do{_=_*10|0;h=h+1|0}while(p>>>0>=_>>>0)}}else h=0;y=(x|0)==103;w=(l|0)!=0;_=l-((x|0)!=102?h:0)+((w&y)<<31>>31)|0;if((_|0)<(((r-S>>2)*9|0)+-9|0)){p=_+9216|0;_=E+4+(((p|0)/9|0)+-1024<<2)|0;p=((p|0)%9|0)+1|0;if((p|0)<9){f=10;do{f=f*10|0;p=p+1|0}while((p|0)!=9)}else f=10;b=o[_>>2]|0;g=(b>>>0)%(f>>>0)|0;p=(_+4|0)==(r|0);if(!(p&(g|0)==0)){m=(((b>>>0)/(f>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;T=(f|0)/2|0;e=g>>>0<T>>>0?.5:p&(g|0)==(T|0)?1.0:1.5;if(P){T=(n[C>>0]|0)==45;m=T?-m:m;e=T?-e:e}p=b-g|0;o[_>>2]=p;if(m+e!=m){T=p+f|0;o[_>>2]=T;if(T>>>0>999999999){h=_;while(1){_=h+-4|0;o[h>>2]=0;if(_>>>0<u>>>0){u=u+-4|0;o[u>>2]=0}T=(o[_>>2]|0)+1|0;o[_>>2]=T;if(T>>>0>999999999)h=_;else break}}h=(S-u>>2)*9|0;f=o[u>>2]|0;if(f>>>0>=10){p=10;do{p=p*10|0;h=h+1|0}while(f>>>0>=p>>>0)}}}x=_+4|0;T=u;u=r>>>0>x>>>0?x:r}else{T=u;u=r}x=u;while(1){if(x>>>0<=T>>>0){v=0;break}u=x+-4|0;if(!(o[u>>2]|0))x=u;else{v=1;break}}r=0-h|0;do{if(y){u=((w^1)&1)+l|0;if((u|0)>(h|0)&(h|0)>-5){l=u+-1-h|0;p=c+-1|0}else{l=u+-1|0;p=c+-2|0}u=a&8;if(!u){if(v?(A=o[x+-4>>2]|0,(A|0)!=0):0)if(!((A>>>0)%10|0)){u=10;_=0;do{u=u*10|0;_=_+1|0}while(!((A>>>0)%(u>>>0)|0|0))}else _=0;else _=9;u=((x-S>>2)*9|0)+-9|0;if((p|32|0)==102){c=u-_|0;c=(c|0)>0?c:0;g=0;l=(l|0)<(c|0)?l:c;break}else{c=u+h-_|0;c=(c|0)>0?c:0;g=0;l=(l|0)<(c|0)?l:c;break}}else g=u}else{g=a&8;p=c}}while(0);y=l|g;f=(y|0)!=0&1;b=(p|32|0)==102;if(b){w=0;u=(h|0)>0?h:0}else{u=(h|0)<0?r:h;u=LC(u,((u|0)<0)<<31>>31,D)|0;_=D;if((_-u|0)<2)do{u=u+-1|0;n[u>>0]=48}while((_-u|0)<2);n[u+-1>>0]=(h>>31&2)+43;u=u+-2|0;n[u>>0]=p;w=u;u=_-u|0}u=P+1+l+f+u|0;BC(t,32,i,u,a);MC(t,C,P);BC(t,48,i,u,a^65536);if(b){f=T>>>0>E>>>0?E:T;g=R+9|0;b=g;p=R+8|0;_=f;do{h=LC(o[_>>2]|0,0,g)|0;if((_|0)==(f|0)){if((h|0)==(g|0)){n[p>>0]=48;h=p}}else if(h>>>0>R>>>0){VE(R|0,48,h-M|0)|0;do{h=h+-1|0}while(h>>>0>R>>>0)}MC(t,h,b-h|0);_=_+4|0}while(_>>>0<=E>>>0);if(y|0)MC(t,16036,1);if(_>>>0<x>>>0&(l|0)>0)while(1){h=LC(o[_>>2]|0,0,g)|0;if(h>>>0>R>>>0){VE(R|0,48,h-M|0)|0;do{h=h+-1|0}while(h>>>0>R>>>0)}MC(t,h,(l|0)<9?l:9);_=_+4|0;h=l+-9|0;if(!(_>>>0<x>>>0&(l|0)>9)){l=h;break}else l=h}BC(t,48,l+9|0,9,0)}else{v=v?x:T+4|0;if((l|0)>-1){y=R+9|0;r=(g|0)==0;g=y;p=0-M|0;b=R+8|0;f=T;do{h=LC(o[f>>2]|0,0,y)|0;if((h|0)==(y|0)){n[b>>0]=48;h=b}do{if((f|0)==(T|0)){_=h+1|0;MC(t,h,1);if(r&(l|0)<1){h=_;break}MC(t,16036,1);h=_}else{if(h>>>0<=R>>>0)break;VE(R|0,48,h+p|0)|0;do{h=h+-1|0}while(h>>>0>R>>>0)}}while(0);M=g-h|0;MC(t,h,(l|0)>(M|0)?M:l);l=l-M|0;f=f+4|0}while(f>>>0<v>>>0&(l|0)>-1)}BC(t,48,l+18|0,18,0);MC(t,w,D-w|0)}BC(t,32,i,u,a^8192)}else{R=(c&32|0)!=0;u=P+3|0;BC(t,32,i,u,a&-65537);MC(t,C,P);MC(t,e!=e|0.0!=0.0?R?16012:16016:R?16004:16008,3);BC(t,32,i,u,a^8192)}}while(0);d=O;return((u|0)<(i|0)?i:u)|0}function GC(t){t=+t;var e=0;l[_>>3]=t;e=o[_>>2]|0;I=o[_+4>>2]|0;return e|0}function NC(t,e){t=+t;e=e|0;return+ +UC(t,e)}function UC(t,e){t=+t;e=e|0;var i=0,n=0,r=0;l[_>>3]=t;i=o[_>>2]|0;n=o[_+4>>2]|0;r=XE(i|0,n|0,52)|0;switch(r&2047){case 0:{if(t!=0.0){t=+UC(t*18446744073709551616.0,e);i=(o[e>>2]|0)+-64|0}else i=0;o[e>>2]=i;break}case 2047:break;default:{o[e>>2]=(r&2047)+-1022;o[_>>2]=i;o[_+4>>2]=n&-2146435073|1071644672;t=+l[_>>3]}}return+t}function WC(t,e){t=t|0;e=e|0;do{if(t){if(e>>>0<128){n[t>>0]=e;t=1;break}if(!(o[4917]|0))if((e&-128|0)==57216){n[t>>0]=e;t=1;break}else{o[5050]=84;t=-1;break}if(e>>>0<2048){n[t>>0]=e>>>6|192;n[t+1>>0]=e&63|128;t=2;break}if(e>>>0<55296|(e&-8192|0)==57344){n[t>>0]=e>>>12|224;n[t+1>>0]=e>>>6&63|128;n[t+2>>0]=e&63|128;t=3;break}if((e+-65536|0)>>>0<1048576){n[t>>0]=e>>>18|240;n[t+1>>0]=e>>>12&63|128;n[t+2>>0]=e>>>6&63|128;n[t+3>>0]=e&63|128;t=4;break}else{o[5050]=84;t=-1;break}}else t=1}while(0);return t|0}function VC(t,e){t=t|0;e=e|0;var i=0,r=0;i=0;while(1){if((s[16038+i>>0]|0)==(t|0)){r=2;break}i=i+1|0;if((i|0)==87){i=87;t=16126;r=5;break}}if((r|0)==2)if(!i)i=16126;else{t=16126;r=5}if((r|0)==5)while(1){do{r=t;t=t+1|0}while((n[r>>0]|0)!=0);i=i+-1|0;if(!i){i=t;break}else r=5}return XC(i,o[e+20>>2]|0)|0}function XC(t,e){t=t|0;e=e|0;return zC(t,e)|0}function zC(t,e){t=t|0;e=e|0;if(!e)e=0;else e=qC(o[e>>2]|0,o[e+4>>2]|0,t)|0;return(e|0?e:t)|0}function qC(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,d=0;d=(o[t>>2]|0)+1794895138|0;a=HC(o[t+8>>2]|0,d)|0;r=HC(o[t+12>>2]|0,d)|0;s=HC(o[t+16>>2]|0,d)|0;t:do{if((a>>>0<e>>>2>>>0?(p=e-(a<<2)|0,r>>>0<p>>>0&s>>>0<p>>>0):0)?((s|r)&3|0)==0:0){p=r>>>2;_=s>>>2;h=0;while(1){l=a>>>1;u=h+l|0;c=u<<1;s=c+p|0;r=HC(o[t+(s<<2)>>2]|0,d)|0;s=HC(o[t+(s+1<<2)>>2]|0,d)|0;if(!(s>>>0<e>>>0&r>>>0<(e-s|0)>>>0)){r=0;break t}if(n[t+(s+r)>>0]|0){r=0;break t}r=YC(i,t+s|0)|0;if(!r)break;r=(r|0)<0;if((a|0)==1){r=0;break t}else{h=r?h:u;a=r?l:a-l|0}}r=c+_|0;s=HC(o[t+(r<<2)>>2]|0,d)|0;r=HC(o[t+(r+1<<2)>>2]|0,d)|0;if(r>>>0<e>>>0&s>>>0<(e-r|0)>>>0)r=(n[t+(r+s)>>0]|0)==0?t+r|0:0;else r=0}else r=0}while(0);return r|0}function HC(t,e){t=t|0;e=e|0;var i=0;i=$E(t|0)|0;return((e|0)==0?t:i)|0}function YC(t,e){t=t|0;e=e|0;var i=0,r=0;i=n[t>>0]|0;r=n[e>>0]|0;if(!(i<<24>>24==0?1:i<<24>>24!=r<<24>>24))do{t=t+1|0;e=e+1|0;i=n[t>>0]|0;r=n[e>>0]|0}while(!(i<<24>>24==0?1:i<<24>>24!=r<<24>>24));return(i&255)-(r&255)|0}function ZC(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0,a=0,c=0;s=i+16|0;r=o[s>>2]|0;if(!r){if(!(QC(i)|0)){r=o[s>>2]|0;a=5}}else a=5;t:do{if((a|0)==5){c=i+20|0;a=o[c>>2]|0;s=a;if((r-a|0)>>>0<e>>>0){Dk[o[i+36>>2]&63](i,t,e)|0;break}e:do{if((n[i+75>>0]|0)>-1){a=e;while(1){if(!a){r=e;break e}r=a+-1|0;if((n[t+r>>0]|0)==10)break;else a=r}if((Dk[o[i+36>>2]&63](i,t,a)|0)>>>0<a>>>0)break t;s=o[c>>2]|0;r=e-a|0;t=t+a|0}else r=e}while(0);qE(s|0,t|0,r|0)|0;o[c>>2]=(o[c>>2]|0)+r}}while(0);return}function QC(t){t=t|0;var e=0,i=0;e=t+74|0;i=n[e>>0]|0;n[e>>0]=i+255|i;e=o[t>>2]|0;if(!(e&8)){o[t+8>>2]=0;o[t+4>>2]=0;e=o[t+44>>2]|0;o[t+28>>2]=e;o[t+20>>2]=e;o[t+16>>2]=e+(o[t+48>>2]|0);e=0}else{o[t>>2]=e|32;e=-1}return e|0}function KC(){var t=0,e=0,i=0,r=0;r=d;d=d+16|0;i=r;n[i>>0]=10;t=o[502]|0;if(!t)if(!(QC(1992)|0)){t=o[502]|0;e=4}else t=-1;else e=4;do{if((e|0)==4){e=o[503]|0;if(!(e>>>0>=t>>>0|(n[2067]|0)==10)){o[503]=e+1;n[e>>0]=10;t=10;break}if((Dk[o[2028>>2]&63](1992,i,1)|0)==1)t=s[i>>0]|0;else t=-1}}while(0);d=r;return t|0}function $C(){var t=0,e=0,i=0;do{if((o[517]|0)>=0?(DC()|0)!=0:0){if((n[2067]|0)!=10?(e=o[503]|0,e>>>0<(o[502]|0)>>>0):0){o[503]=e+1;n[e>>0]=10;break}KC()|0}else i=3}while(0);do{if((i|0)==3){if((n[2067]|0)!=10?(t=o[503]|0,t>>>0<(o[502]|0)>>>0):0){o[503]=t+1;n[t>>0]=10;break}KC()|0}}while(0);return}function tE(t,e){t=t|0;e=e|0;EC(1868,t,e);return}function eE(t){t=t|0;var e=0,i=0,n=0,r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0,g=0,y=0,v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,I=0,O=0,k=0,L=0,j=0;j=d;d=d+16|0;p=j;do{if(t>>>0<245){f=t>>>0<11?16:t+11&-8;t=f>>>3;y=o[4923]|0;i=y>>>t;if(i&3|0){r=(i&1^1)+t|0;s=19732+(r<<1<<2)|0;t=s+8|0;i=o[t>>2]|0;a=i+8|0;n=o[a>>2]|0;do{if((s|0)!=(n|0)){if(n>>>0<(o[4927]|0)>>>0)Bt();e=n+12|0;if((o[e>>2]|0)==(i|0)){o[e>>2]=s;o[t>>2]=n;break}else Bt()}else o[4923]=y&~(1<<r)}while(0);L=r<<3;o[i+4>>2]=L|3;L=i+L+4|0;o[L>>2]=o[L>>2]|1;L=a;d=j;return L|0}g=o[4925]|0;if(f>>>0>g>>>0){if(i|0){n=2<<t;n=i<<t&(n|0-n);n=(n&0-n)+-1|0;c=n>>>12&16;n=n>>>c;e=n>>>5&8;n=n>>>e;s=n>>>2&4;n=n>>>s;t=n>>>1&2;n=n>>>t;i=n>>>1&1;i=(e|c|s|t|i)+(n>>>i)|0;n=19732+(i<<1<<2)|0;t=n+8|0;s=o[t>>2]|0;c=s+8|0;e=o[c>>2]|0;do{if((n|0)!=(e|0)){if(e>>>0<(o[4927]|0)>>>0)Bt();r=e+12|0;if((o[r>>2]|0)==(s|0)){o[r>>2]=n;o[t>>2]=e;u=y;break}else Bt()}else{u=y&~(1<<i);o[4923]=u}}while(0);a=(i<<3)-f|0;o[s+4>>2]=f|3;r=s+f|0;o[r+4>>2]=a|1;o[r+a>>2]=a;if(g|0){n=o[4928]|0;e=g>>>3;i=19732+(e<<1<<2)|0;e=1<<e;if(u&e){e=i+8|0;t=o[e>>2]|0;if(t>>>0<(o[4927]|0)>>>0)Bt();else{l=e;h=t}}else{o[4923]=u|e;l=i+8|0;h=i}o[l>>2]=n;o[h+12>>2]=n;o[n+8>>2]=h;o[n+12>>2]=i}o[4925]=a;o[4928]=r;L=c;d=j;return L|0}l=o[4924]|0;if(l){t=(l&0-l)+-1|0;k=t>>>12&16;t=t>>>k;O=t>>>5&8;t=t>>>O;L=t>>>2&4;t=t>>>L;e=t>>>1&2;t=t>>>e;i=t>>>1&1;i=o[19996+((O|k|L|e|i)+(t>>>i)<<2)>>2]|0;t=(o[i+4>>2]&-8)-f|0;e=o[i+16+(((o[i+16>>2]|0)==0&1)<<2)>>2]|0;if(!e){u=t;c=i}else{do{k=(o[e+4>>2]&-8)-f|0;L=k>>>0<t>>>0;t=L?k:t;i=L?e:i;e=o[e+16+(((o[e+16>>2]|0)==0&1)<<2)>>2]|0}while((e|0)!=0);u=t;c=i}r=o[4927]|0;if(c>>>0<r>>>0)Bt();a=c+f|0;if(c>>>0>=a>>>0)Bt();s=o[c+24>>2]|0;i=o[c+12>>2]|0;do{if((i|0)==(c|0)){t=c+20|0;e=o[t>>2]|0;if(!e){t=c+16|0;e=o[t>>2]|0;if(!e){_=0;break}}while(1){n=e+20|0;i=o[n>>2]|0;if(i|0){e=i;t=n;continue}n=e+16|0;i=o[n>>2]|0;if(!i)break;else{e=i;t=n}}if(t>>>0<r>>>0)Bt();else{o[t>>2]=0;_=e;break}}else{n=o[c+8>>2]|0;if(n>>>0<r>>>0)Bt();e=n+12|0;if((o[e>>2]|0)!=(c|0))Bt();t=i+8|0;if((o[t>>2]|0)==(c|0)){o[e>>2]=i;o[t>>2]=n;_=i;break}else Bt()}}while(0);t:do{if(s|0){e=o[c+28>>2]|0;t=19996+(e<<2)|0;do{if((c|0)==(o[t>>2]|0)){o[t>>2]=_;if(!_){o[4924]=l&~(1<<e);break t}}else if(s>>>0>=(o[4927]|0)>>>0){o[s+16+(((o[s+16>>2]|0)!=(c|0)&1)<<2)>>2]=_;if(!_)break t;else break}else Bt()}while(0);t=o[4927]|0;if(_>>>0<t>>>0)Bt();o[_+24>>2]=s;e=o[c+16>>2]|0;do{if(e|0)if(e>>>0<t>>>0)Bt();else{o[_+16>>2]=e;o[e+24>>2]=_;break}}while(0);e=o[c+20>>2]|0;if(e|0)if(e>>>0<(o[4927]|0)>>>0)Bt();else{o[_+20>>2]=e;o[e+24>>2]=_;break}}}while(0);if(u>>>0<16){L=u+f|0;o[c+4>>2]=L|3;L=c+L+4|0;o[L>>2]=o[L>>2]|1}else{o[c+4>>2]=f|3;o[a+4>>2]=u|1;o[a+u>>2]=u;if(g|0){n=o[4928]|0;e=g>>>3;i=19732+(e<<1<<2)|0;e=1<<e;if(y&e){e=i+8|0;t=o[e>>2]|0;if(t>>>0<(o[4927]|0)>>>0)Bt();else{b=e;m=t}}else{o[4923]=y|e;b=i+8|0;m=i}o[b>>2]=n;o[m+12>>2]=n;o[n+8>>2]=m;o[n+12>>2]=i}o[4925]=u;o[4928]=a}L=c+8|0;d=j;return L|0}}}else if(t>>>0<=4294967231){t=t+11|0;f=t&-8;l=o[4924]|0;if(l){i=0-f|0;t=t>>>8;if(t)if(f>>>0>16777215)c=31;else{m=(t+1048320|0)>>>16&8;P=t<<m;b=(P+520192|0)>>>16&4;P=P<<b;c=(P+245760|0)>>>16&2;c=14-(b|m|c)+(P<<c>>>15)|0;c=f>>>(c+7|0)&1|c<<1}else c=0;t=o[19996+(c<<2)>>2]|0;t:do{if(!t){n=0;t=0;P=81}else{n=0;s=f<<((c|0)==31?0:25-(c>>>1)|0);a=t;t=0;while(1){r=(o[a+4>>2]&-8)-f|0;if(r>>>0<i>>>0)if(!r){i=0;n=a;t=a;P=85;break t}else{i=r;t=a}r=o[a+20>>2]|0;a=o[a+16+(s>>>31<<2)>>2]|0;n=(r|0)==0|(r|0)==(a|0)?n:r;r=(a|0)==0;if(r){P=81;break}else s=s<<((r^1)&1)}}}while(0);if((P|0)==81){if((n|0)==0&(t|0)==0){t=2<<c;t=l&(t|0-t);if(!t)break;t=(t&0-t)+-1|0;_=t>>>12&16;t=t>>>_;h=t>>>5&8;t=t>>>h;b=t>>>2&4;t=t>>>b;m=t>>>1&2;t=t>>>m;n=t>>>1&1;n=o[19996+((h|_|b|m|n)+(t>>>n)<<2)>>2]|0;t=0}if(!n){c=i;u=t}else P=85}if((P|0)==85)while(1){P=0;b=(o[n+4>>2]&-8)-f|0;m=b>>>0<i>>>0;i=m?b:i;t=m?n:t;n=o[n+16+(((o[n+16>>2]|0)==0&1)<<2)>>2]|0;if(!n){c=i;u=t;break}else P=85}if((u|0)!=0?c>>>0<((o[4925]|0)-f|0)>>>0:0){r=o[4927]|0;if(u>>>0<r>>>0)Bt();a=u+f|0;if(u>>>0>=a>>>0)Bt();s=o[u+24>>2]|0;i=o[u+12>>2]|0;do{if((i|0)==(u|0)){t=u+20|0;e=o[t>>2]|0;if(!e){t=u+16|0;e=o[t>>2]|0;if(!e){g=0;break}}while(1){n=e+20|0;i=o[n>>2]|0;if(i|0){e=i;t=n;continue}n=e+16|0;i=o[n>>2]|0;if(!i)break;else{e=i;t=n}}if(t>>>0<r>>>0)Bt();else{o[t>>2]=0;g=e;break}}else{n=o[u+8>>2]|0;if(n>>>0<r>>>0)Bt();e=n+12|0;if((o[e>>2]|0)!=(u|0))Bt();t=i+8|0;if((o[t>>2]|0)==(u|0)){o[e>>2]=i;o[t>>2]=n;g=i;break}else Bt()}}while(0);t:do{if(s){e=o[u+28>>2]|0;t=19996+(e<<2)|0;do{if((u|0)==(o[t>>2]|0)){o[t>>2]=g;if(!g){y=l&~(1<<e);o[4924]=y;break t}}else if(s>>>0>=(o[4927]|0)>>>0){o[s+16+(((o[s+16>>2]|0)!=(u|0)&1)<<2)>>2]=g;if(!g){y=l;break t}else break}else Bt()}while(0);t=o[4927]|0;if(g>>>0<t>>>0)Bt();o[g+24>>2]=s;e=o[u+16>>2]|0;do{if(e|0)if(e>>>0<t>>>0)Bt();else{o[g+16>>2]=e;o[e+24>>2]=g;break}}while(0);e=o[u+20>>2]|0;if(e)if(e>>>0<(o[4927]|0)>>>0)Bt();else{o[g+20>>2]=e;o[e+24>>2]=g;y=l;break}else y=l}else y=l}while(0);do{if(c>>>0>=16){o[u+4>>2]=f|3;o[a+4>>2]=c|1;o[a+c>>2]=c;e=c>>>3;if(c>>>0<256){i=19732+(e<<1<<2)|0;t=o[4923]|0;e=1<<e;if(t&e){e=i+8|0;t=o[e>>2]|0;if(t>>>0<(o[4927]|0)>>>0)Bt();else{T=e;S=t}}else{o[4923]=t|e;T=i+8|0;S=i}o[T>>2]=a;o[S+12>>2]=a;o[a+8>>2]=S;o[a+12>>2]=i;break}e=c>>>8;if(e)if(c>>>0>16777215)e=31;else{k=(e+1048320|0)>>>16&8;L=e<<k;O=(L+520192|0)>>>16&4;L=L<<O;e=(L+245760|0)>>>16&2;e=14-(O|k|e)+(L<<e>>>15)|0;e=c>>>(e+7|0)&1|e<<1}else e=0;i=19996+(e<<2)|0;o[a+28>>2]=e;t=a+16|0;o[t+4>>2]=0;o[t>>2]=0;t=1<<e;if(!(y&t)){o[4924]=y|t;o[i>>2]=a;o[a+24>>2]=i;o[a+12>>2]=a;o[a+8>>2]=a;break}t=c<<((e|0)==31?0:25-(e>>>1)|0);n=o[i>>2]|0;while(1){if((o[n+4>>2]&-8|0)==(c|0)){P=139;break}i=n+16+(t>>>31<<2)|0;e=o[i>>2]|0;if(!e){P=136;break}else{t=t<<1;n=e}}if((P|0)==136)if(i>>>0<(o[4927]|0)>>>0)Bt();else{o[i>>2]=a;o[a+24>>2]=n;o[a+12>>2]=a;o[a+8>>2]=a;break}else if((P|0)==139){t=n+8|0;e=o[t>>2]|0;L=o[4927]|0;if(e>>>0>=L>>>0&n>>>0>=L>>>0){o[e+12>>2]=a;o[t>>2]=a;o[a+8>>2]=e;o[a+12>>2]=n;o[a+24>>2]=0;break}else Bt()}}else{L=c+f|0;o[u+4>>2]=L|3;L=u+L+4|0;o[L>>2]=o[L>>2]|1}}while(0);L=u+8|0;d=j;return L|0}}}else f=-1}while(0);i=o[4925]|0;if(i>>>0>=f>>>0){t=i-f|0;e=o[4928]|0;if(t>>>0>15){L=e+f|0;o[4928]=L;o[4925]=t;o[L+4>>2]=t|1;o[L+t>>2]=t;o[e+4>>2]=f|3}else{o[4925]=0;o[4928]=0;o[e+4>>2]=i|3;L=e+i+4|0;o[L>>2]=o[L>>2]|1}L=e+8|0;d=j;return L|0}a=o[4926]|0;if(a>>>0>f>>>0){O=a-f|0;o[4926]=O;L=o[4929]|0;k=L+f|0;o[4929]=k;o[k+4>>2]=O|1;o[L+4>>2]=f|3;L=L+8|0;d=j;return L|0}if(!(o[5041]|0)){o[5043]=4096;o[5042]=4096;o[5044]=-1;o[5045]=-1;o[5046]=0;o[5034]=0;t=p&-16^1431655768;o[p>>2]=t;o[5041]=t;t=4096}else t=o[5043]|0;c=f+48|0;u=f+47|0;s=t+u|0;n=0-t|0;l=s&n;if(l>>>0<=f>>>0){L=0;d=j;return L|0}t=o[5033]|0;if(t|0?(T=o[5031]|0,S=T+l|0,S>>>0<=T>>>0|S>>>0>t>>>0):0){L=0;d=j;return L|0}t:do{if(!(o[5034]&4)){i=o[4929]|0;e:do{if(i){r=20140;while(1){t=o[r>>2]|0;if(t>>>0<=i>>>0?(x=r+4|0,(t+(o[x>>2]|0)|0)>>>0>i>>>0):0)break;t=o[r+8>>2]|0;if(!t){P=163;break e}else r=t}e=s-a&n;if(e>>>0<2147483647){t=QE(e|0)|0;if((t|0)==((o[r>>2]|0)+(o[x>>2]|0)|0)){if((t|0)!=(-1|0)){a=t;s=e;P=180;break t}}else{n=t;P=171}}else e=0}else P=163}while(0);do{if((P|0)==163){i=QE(0)|0;if((i|0)!=(-1|0)?(e=i,v=o[5042]|0,w=v+-1|0,e=((w&e|0)==0?0:(w+e&0-v)-e|0)+l|0,v=o[5031]|0,w=e+v|0,e>>>0>f>>>0&e>>>0<2147483647):0){S=o[5033]|0;if(S|0?w>>>0<=v>>>0|w>>>0>S>>>0:0){e=0;break}t=QE(e|0)|0;if((t|0)==(i|0)){a=i;s=e;P=180;break t}else{n=t;P=171}}else e=0}}while(0);do{if((P|0)==171){i=0-e|0;if(!(c>>>0>e>>>0&(e>>>0<2147483647&(n|0)!=(-1|0))))if((n|0)==(-1|0)){e=0;break}else{a=n;s=e;P=180;break t}t=o[5043]|0;t=u-e+t&0-t;if(t>>>0>=2147483647){a=n;s=e;P=180;break t}if((QE(t|0)|0)==(-1|0)){QE(i|0)|0;e=0;break}else{a=n;s=t+e|0;P=180;break t}}}while(0);o[5034]=o[5034]|4;P=178}else{e=0;P=178}}while(0);if(((P|0)==178?l>>>0<2147483647:0)?(A=QE(l|0)|0,S=QE(0)|0,E=S-A|0,C=E>>>0>(f+40|0)>>>0,!((A|0)==(-1|0)|C^1|A>>>0<S>>>0&((A|0)!=(-1|0)&(S|0)!=(-1|0))^1)):0){a=A;s=C?E:e;P=180}if((P|0)==180){e=(o[5031]|0)+s|0;o[5031]=e;if(e>>>0>(o[5032]|0)>>>0)o[5032]=e;l=o[4929]|0;do{if(l){r=20140;while(1){e=o[r>>2]|0;n=r+4|0;t=o[n>>2]|0;if((a|0)==(e+t|0)){P=190;break}i=o[r+8>>2]|0;if(!i)break;else r=i}if(((P|0)==190?(o[r+12>>2]&8|0)==0:0)?l>>>0<a>>>0&l>>>0>=e>>>0:0){o[n>>2]=t+s;L=l+8|0;L=(L&7|0)==0?0:0-L&7;k=l+L|0;L=(o[4926]|0)+(s-L)|0;o[4929]=k;o[4926]=L;o[k+4>>2]=L|1;o[k+L+4>>2]=40;o[4930]=o[5045];break}e=o[4927]|0;if(a>>>0<e>>>0){o[4927]=a;c=a}else c=e;i=a+s|0;t=20140;while(1){if((o[t>>2]|0)==(i|0)){P=198;break}e=o[t+8>>2]|0;if(!e)break;else t=e}if((P|0)==198?(o[t+12>>2]&8|0)==0:0){o[t>>2]=a;_=t+4|0;o[_>>2]=(o[_>>2]|0)+s;_=a+8|0;_=a+((_&7|0)==0?0:0-_&7)|0;e=i+8|0;e=i+((e&7|0)==0?0:0-e&7)|0;h=_+f|0;u=e-_-f|0;o[_+4>>2]=f|3;do{if((e|0)!=(l|0)){if((e|0)==(o[4928]|0)){L=(o[4925]|0)+u|0;o[4925]=L;o[4928]=h;o[h+4>>2]=L|1;o[h+L>>2]=L;break}t=o[e+4>>2]|0;if((t&3|0)==1){a=t&-8;r=t>>>3;t:do{if(t>>>0>=256){s=o[e+24>>2]|0;n=o[e+12>>2]|0;do{if((n|0)==(e|0)){n=e+16|0;i=n+4|0;t=o[i>>2]|0;if(!t){t=o[n>>2]|0;if(!t){O=0;break}else r=n}else r=i;while(1){n=t+20|0;i=o[n>>2]|0;if(i|0){t=i;r=n;continue}n=t+16|0;i=o[n>>2]|0;if(!i)break;else{t=i;r=n}}if(r>>>0<c>>>0)Bt();else{o[r>>2]=0;O=t;break}}else{r=o[e+8>>2]|0;if(r>>>0<c>>>0)Bt();t=r+12|0;if((o[t>>2]|0)!=(e|0))Bt();i=n+8|0;if((o[i>>2]|0)==(e|0)){o[t>>2]=n;o[i>>2]=r;O=n;break}else Bt()}}while(0);if(!s)break;t=o[e+28>>2]|0;i=19996+(t<<2)|0;do{if((e|0)!=(o[i>>2]|0))if(s>>>0>=(o[4927]|0)>>>0){o[s+16+(((o[s+16>>2]|0)!=(e|0)&1)<<2)>>2]=O;if(!O)break t;else break}else Bt();else{o[i>>2]=O;if(O|0)break;o[4924]=o[4924]&~(1<<t);break t}}while(0);n=o[4927]|0;if(O>>>0<n>>>0)Bt();o[O+24>>2]=s;i=e+16|0;t=o[i>>2]|0;do{if(t|0)if(t>>>0<n>>>0)Bt();else{o[O+16>>2]=t;o[t+24>>2]=O;break}}while(0);t=o[i+4>>2]|0;if(!t)break;if(t>>>0<(o[4927]|0)>>>0)Bt();else{o[O+20>>2]=t;o[t+24>>2]=O;break}}else{i=o[e+8>>2]|0;n=o[e+12>>2]|0;t=19732+(r<<1<<2)|0;do{if((i|0)!=(t|0)){if(i>>>0<c>>>0)Bt();if((o[i+12>>2]|0)==(e|0))break;Bt()}}while(0);if((n|0)==(i|0)){o[4923]=o[4923]&~(1<<r);break}do{if((n|0)==(t|0))M=n+8|0;else{if(n>>>0<c>>>0)Bt();t=n+8|0;if((o[t>>2]|0)==(e|0)){M=t;break}Bt()}}while(0);o[i+12>>2]=n;o[M>>2]=i}}while(0);e=e+a|0;r=a+u|0}else r=u;e=e+4|0;o[e>>2]=o[e>>2]&-2;o[h+4>>2]=r|1;o[h+r>>2]=r;e=r>>>3;if(r>>>0<256){i=19732+(e<<1<<2)|0;t=o[4923]|0;e=1<<e;do{if(!(t&e)){o[4923]=t|e;k=i+8|0;L=i}else{e=i+8|0;t=o[e>>2]|0;if(t>>>0>=(o[4927]|0)>>>0){k=e;L=t;break}Bt()}}while(0);o[k>>2]=h;o[L+12>>2]=h;o[h+8>>2]=L;o[h+12>>2]=i;break}e=r>>>8;do{if(!e)t=0;else{if(r>>>0>16777215){t=31;break}k=(e+1048320|0)>>>16&8;L=e<<k;O=(L+520192|0)>>>16&4;L=L<<O;t=(L+245760|0)>>>16&2;t=14-(O|k|t)+(L<<t>>>15)|0;t=r>>>(t+7|0)&1|t<<1}}while(0);n=19996+(t<<2)|0;o[h+28>>2]=t;e=h+16|0;o[e+4>>2]=0;o[e>>2]=0;e=o[4924]|0;i=1<<t;if(!(e&i)){o[4924]=e|i;o[n>>2]=h;o[h+24>>2]=n;o[h+12>>2]=h;o[h+8>>2]=h;break}t=r<<((t|0)==31?0:25-(t>>>1)|0);n=o[n>>2]|0;while(1){if((o[n+4>>2]&-8|0)==(r|0)){P=265;break}i=n+16+(t>>>31<<2)|0;e=o[i>>2]|0;if(!e){P=262;break}else{t=t<<1;n=e}}if((P|0)==262)if(i>>>0<(o[4927]|0)>>>0)Bt();else{o[i>>2]=h;o[h+24>>2]=n;o[h+12>>2]=h;o[h+8>>2]=h;break}else if((P|0)==265){t=n+8|0;e=o[t>>2]|0;L=o[4927]|0;if(e>>>0>=L>>>0&n>>>0>=L>>>0){o[e+12>>2]=h;o[t>>2]=h;o[h+8>>2]=e;o[h+12>>2]=n;o[h+24>>2]=0;break}else Bt()}}else{L=(o[4926]|0)+u|0;o[4926]=L;o[4929]=h;o[h+4>>2]=L|1}}while(0);L=_+8|0;d=j;return L|0}t=20140;while(1){e=o[t>>2]|0;if(e>>>0<=l>>>0?(D=e+(o[t+4>>2]|0)|0,D>>>0>l>>>0):0)break;t=o[t+8>>2]|0}r=D+-47|0;t=r+8|0;t=r+((t&7|0)==0?0:0-t&7)|0;r=l+16|0;t=t>>>0<r>>>0?l:t;e=t+8|0;i=a+8|0;i=(i&7|0)==0?0:0-i&7;L=a+i|0;i=s+-40-i|0;o[4929]=L;o[4926]=i;o[L+4>>2]=i|1;o[L+i+4>>2]=40;o[4930]=o[5045];i=t+4|0;o[i>>2]=27;o[e>>2]=o[5035];o[e+4>>2]=o[5036];o[e+8>>2]=o[5037];o[e+12>>2]=o[5038];o[5035]=a;o[5036]=s;o[5038]=0;o[5037]=e;e=t+24|0;do{L=e;e=e+4|0;o[e>>2]=7}while((L+8|0)>>>0<D>>>0);if((t|0)!=(l|0)){s=t-l|0;o[i>>2]=o[i>>2]&-2;o[l+4>>2]=s|1;o[t>>2]=s;e=s>>>3;if(s>>>0<256){i=19732+(e<<1<<2)|0;t=o[4923]|0;e=1<<e;if(t&e){e=i+8|0;t=o[e>>2]|0;if(t>>>0<(o[4927]|0)>>>0)Bt();else{R=e;I=t}}else{o[4923]=t|e;R=i+8|0;I=i}o[R>>2]=l;o[I+12>>2]=l;o[l+8>>2]=I;o[l+12>>2]=i;break}e=s>>>8;if(e)if(s>>>0>16777215)i=31;else{k=(e+1048320|0)>>>16&8;L=e<<k;O=(L+520192|0)>>>16&4;L=L<<O;i=(L+245760|0)>>>16&2;i=14-(O|k|i)+(L<<i>>>15)|0;i=s>>>(i+7|0)&1|i<<1}else i=0;n=19996+(i<<2)|0;o[l+28>>2]=i;o[l+20>>2]=0;o[r>>2]=0;e=o[4924]|0;t=1<<i;if(!(e&t)){o[4924]=e|t;o[n>>2]=l;o[l+24>>2]=n;o[l+12>>2]=l;o[l+8>>2]=l;break}t=s<<((i|0)==31?0:25-(i>>>1)|0);n=o[n>>2]|0;while(1){if((o[n+4>>2]&-8|0)==(s|0)){P=292;break}i=n+16+(t>>>31<<2)|0;e=o[i>>2]|0;if(!e){P=289;break}else{t=t<<1;n=e}}if((P|0)==289)if(i>>>0<(o[4927]|0)>>>0)Bt();else{o[i>>2]=l;o[l+24>>2]=n;o[l+12>>2]=l;o[l+8>>2]=l;break}else if((P|0)==292){t=n+8|0;e=o[t>>2]|0;L=o[4927]|0;if(e>>>0>=L>>>0&n>>>0>=L>>>0){o[e+12>>2]=l;o[t>>2]=l;o[l+8>>2]=e;o[l+12>>2]=n;o[l+24>>2]=0;break}else Bt()}}}else{L=o[4927]|0;if((L|0)==0|a>>>0<L>>>0)o[4927]=a;o[5035]=a;o[5036]=s;o[5038]=0;o[4932]=o[5041];o[4931]=-1;e=0;do{L=19732+(e<<1<<2)|0;o[L+12>>2]=L;o[L+8>>2]=L;e=e+1|0}while((e|0)!=32);L=a+8|0;L=(L&7|0)==0?0:0-L&7;k=a+L|0;L=s+-40-L|0;o[4929]=k;o[4926]=L;o[k+4>>2]=L|1;o[k+L+4>>2]=40;o[4930]=o[5045]}}while(0);e=o[4926]|0;if(e>>>0>f>>>0){O=e-f|0;o[4926]=O;L=o[4929]|0;k=L+f|0;o[4929]=k;o[k+4>>2]=O|1;o[L+4>>2]=f|3;L=L+8|0;d=j;return L|0}}o[5050]=12;L=0;d=j;return L|0}function iE(t){t=t|0;var e=0,i=0,n=0,r=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,d=0,f=0,b=0,m=0;if(!t)return;i=t+-8|0;a=o[4927]|0;if(i>>>0<a>>>0)Bt();t=o[t+-4>>2]|0;e=t&3;if((e|0)==1)Bt();n=t&-8;d=i+n|0;t:do{if(!(t&1)){t=o[i>>2]|0;if(!e)return;l=i+(0-t)|0;u=t+n|0;if(l>>>0<a>>>0)Bt();if((l|0)==(o[4928]|0)){e=d+4|0;t=o[e>>2]|0;if((t&3|0)!=3){_=l;m=l;r=u;break}o[4925]=u;o[e>>2]=t&-2;o[l+4>>2]=u|1;o[l+u>>2]=u;return}n=t>>>3;if(t>>>0<256){e=o[l+8>>2]|0;i=o[l+12>>2]|0;t=19732+(n<<1<<2)|0;if((e|0)!=(t|0)){if(e>>>0<a>>>0)Bt();if((o[e+12>>2]|0)!=(l|0))Bt()}if((i|0)==(e|0)){o[4923]=o[4923]&~(1<<n);_=l;m=l;r=u;break}if((i|0)!=(t|0)){if(i>>>0<a>>>0)Bt();t=i+8|0;if((o[t>>2]|0)==(l|0))s=t;else Bt()}else s=i+8|0;o[e+12>>2]=i;o[s>>2]=e;_=l;m=l;r=u;break}s=o[l+24>>2]|0;i=o[l+12>>2]|0;do{if((i|0)==(l|0)){i=l+16|0;e=i+4|0;t=o[e>>2]|0;if(!t){t=o[i>>2]|0;if(!t){c=0;break}else n=i}else n=e;while(1){i=t+20|0;e=o[i>>2]|0;if(e|0){t=e;n=i;continue}i=t+16|0;e=o[i>>2]|0;if(!e)break;else{t=e;n=i}}if(n>>>0<a>>>0)Bt();else{o[n>>2]=0;c=t;break}}else{n=o[l+8>>2]|0;if(n>>>0<a>>>0)Bt();t=n+12|0;if((o[t>>2]|0)!=(l|0))Bt();e=i+8|0;if((o[e>>2]|0)==(l|0)){o[t>>2]=i;o[e>>2]=n;c=i;break}else Bt()}}while(0);if(s){t=o[l+28>>2]|0;e=19996+(t<<2)|0;do{if((l|0)==(o[e>>2]|0)){o[e>>2]=c;if(!c){o[4924]=o[4924]&~(1<<t);_=l;m=l;r=u;break t}}else if(s>>>0>=(o[4927]|0)>>>0){o[s+16+(((o[s+16>>2]|0)!=(l|0)&1)<<2)>>2]=c;if(!c){_=l;m=l;r=u;break t}else break}else Bt()}while(0);i=o[4927]|0;if(c>>>0<i>>>0)Bt();o[c+24>>2]=s;e=l+16|0;t=o[e>>2]|0;do{if(t|0)if(t>>>0<i>>>0)Bt();else{o[c+16>>2]=t;o[t+24>>2]=c;break}}while(0);t=o[e+4>>2]|0;if(t)if(t>>>0<(o[4927]|0)>>>0)Bt();else{o[c+20>>2]=t;o[t+24>>2]=c;_=l;m=l;r=u;break}else{_=l;m=l;r=u}}else{_=l;m=l;r=u}}else{_=i;m=i;r=n}}while(0);if(_>>>0>=d>>>0)Bt();t=d+4|0;e=o[t>>2]|0;if(!(e&1))Bt();if(!(e&2)){t=o[4928]|0;if((d|0)==(o[4929]|0)){b=(o[4926]|0)+r|0;o[4926]=b;o[4929]=m;o[m+4>>2]=b|1;if((m|0)!=(t|0))return;o[4928]=0;o[4925]=0;return}if((d|0)==(t|0)){b=(o[4925]|0)+r|0;o[4925]=b;o[4928]=_;o[m+4>>2]=b|1;o[_+b>>2]=b;return}r=(e&-8)+r|0;n=e>>>3;t:do{if(e>>>0>=256){s=o[d+24>>2]|0;t=o[d+12>>2]|0;do{if((t|0)==(d|0)){i=d+16|0;e=i+4|0;t=o[e>>2]|0;if(!t){t=o[i>>2]|0;if(!t){p=0;break}else n=i}else n=e;while(1){i=t+20|0;e=o[i>>2]|0;if(e|0){t=e;n=i;continue}i=t+16|0;e=o[i>>2]|0;if(!e)break;else{t=e;n=i}}if(n>>>0<(o[4927]|0)>>>0)Bt();else{o[n>>2]=0;p=t;break}}else{e=o[d+8>>2]|0;if(e>>>0<(o[4927]|0)>>>0)Bt();i=e+12|0;if((o[i>>2]|0)!=(d|0))Bt();n=t+8|0;if((o[n>>2]|0)==(d|0)){o[i>>2]=t;o[n>>2]=e;p=t;break}else Bt()}}while(0);if(s|0){t=o[d+28>>2]|0;e=19996+(t<<2)|0;do{if((d|0)==(o[e>>2]|0)){o[e>>2]=p;if(!p){o[4924]=o[4924]&~(1<<t);break t}}else if(s>>>0>=(o[4927]|0)>>>0){o[s+16+(((o[s+16>>2]|0)!=(d|0)&1)<<2)>>2]=p;if(!p)break t;else break}else Bt()}while(0);i=o[4927]|0;if(p>>>0<i>>>0)Bt();o[p+24>>2]=s;e=d+16|0;t=o[e>>2]|0;do{if(t|0)if(t>>>0<i>>>0)Bt();else{o[p+16>>2]=t;o[t+24>>2]=p;break}}while(0);t=o[e+4>>2]|0;if(t|0)if(t>>>0<(o[4927]|0)>>>0)Bt();else{o[p+20>>2]=t;o[t+24>>2]=p;break}}}else{e=o[d+8>>2]|0;i=o[d+12>>2]|0;t=19732+(n<<1<<2)|0;if((e|0)!=(t|0)){if(e>>>0<(o[4927]|0)>>>0)Bt();if((o[e+12>>2]|0)!=(d|0))Bt()}if((i|0)==(e|0)){o[4923]=o[4923]&~(1<<n);break}if((i|0)!=(t|0)){if(i>>>0<(o[4927]|0)>>>0)Bt();t=i+8|0;if((o[t>>2]|0)==(d|0))h=t;else Bt()}else h=i+8|0;o[e+12>>2]=i;o[h>>2]=e}}while(0);o[m+4>>2]=r|1;o[_+r>>2]=r;if((m|0)==(o[4928]|0)){o[4925]=r;return}}else{o[t>>2]=e&-2;o[m+4>>2]=r|1;o[_+r>>2]=r}t=r>>>3;if(r>>>0<256){i=19732+(t<<1<<2)|0;e=o[4923]|0;t=1<<t;if(e&t){t=i+8|0;e=o[t>>2]|0;if(e>>>0<(o[4927]|0)>>>0)Bt();else{f=t;b=e}}else{o[4923]=e|t;f=i+8|0;b=i}o[f>>2]=m;o[b+12>>2]=m;o[m+8>>2]=b;o[m+12>>2]=i;return}t=r>>>8;if(t)if(r>>>0>16777215)e=31;else{f=(t+1048320|0)>>>16&8;b=t<<f;d=(b+520192|0)>>>16&4;b=b<<d;e=(b+245760|0)>>>16&2;e=14-(d|f|e)+(b<<e>>>15)|0;e=r>>>(e+7|0)&1|e<<1}else e=0;n=19996+(e<<2)|0;o[m+28>>2]=e;o[m+20>>2]=0;o[m+16>>2]=0;t=o[4924]|0;i=1<<e;do{if(t&i){e=r<<((e|0)==31?0:25-(e>>>1)|0);n=o[n>>2]|0;while(1){if((o[n+4>>2]&-8|0)==(r|0)){t=124;break}i=n+16+(e>>>31<<2)|0;t=o[i>>2]|0;if(!t){t=121;break}else{e=e<<1;n=t}}if((t|0)==121)if(i>>>0<(o[4927]|0)>>>0)Bt();else{o[i>>2]=m;o[m+24>>2]=n;o[m+12>>2]=m;o[m+8>>2]=m;break}else if((t|0)==124){e=n+8|0;t=o[e>>2]|0;b=o[4927]|0;if(t>>>0>=b>>>0&n>>>0>=b>>>0){o[t+12>>2]=m;o[e>>2]=m;o[m+8>>2]=t;o[m+12>>2]=n;o[m+24>>2]=0;break}else Bt()}}else{o[4924]=t|i;o[n>>2]=m;o[m+24>>2]=n;o[m+12>>2]=m;o[m+8>>2]=m}}while(0);m=(o[4931]|0)+-1|0;o[4931]=m;if(!m)t=20148;else return;while(1){t=o[t>>2]|0;if(!t)break;else t=t+8|0}o[4931]=-1;return}function nE(t){t=t|0;var e=0;e=(t|0)==0?1:t;while(1){t=eE(e)|0;if(t|0)break;t=FE()|0;if(!t){t=0;break}Jk[t&63]()}return t|0}function rE(t){t=t|0;iE(t);return}function oE(){var t=0,e=0,i=0,n=0,r=0,s=0,a=0,c=0;r=d;d=d+48|0;a=r+32|0;i=r+24|0;c=r+16|0;s=r;r=r+36|0;t=sE()|0;if(t|0?(n=o[t>>2]|0,n|0):0){e=n+48|0;t=o[e>>2]|0;e=o[e+4>>2]|0;if(!((t&-256|0)==1126902528&(e|0)==1129074247)){o[i>>2]=18066;aE(18016,i)}if((t|0)==1126902529&(e|0)==1129074247)t=o[n+44>>2]|0;else t=n+80|0;o[r>>2]=t;n=o[n>>2]|0;t=o[n+4>>2]|0;if(_E(552,n,r)|0){c=o[r>>2]|0;c=jk[o[(o[c>>2]|0)+8>>2]&63](c)|0;o[s>>2]=18066;o[s+4>>2]=t;o[s+8>>2]=c;aE(17930,s)}else{o[c>>2]=18066;o[c+4>>2]=t;aE(17975,c)}}aE(18054,a)}function sE(){var t=0,e=0;t=d;d=d+16|0;if(!(Ht(20188,44)|0)){e=qt(o[5048]|0)|0;d=t;return e|0}else aE(18205,t);return 0}function aE(t,e){t=t|0;e=e|0;var i=0;i=d;d=d+16|0;o[i>>2]=e;EC(1992,t,i);$C();Bt()}function cE(t){t=t|0;return}function uE(t){t=t|0;rE(t);return}function lE(t){t=t|0;return}function hE(t){t=t|0;return}function _E(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0,s=0,a=0;a=d;d=d+64|0;s=a;if(!(bE(t,e)|0))if((e|0)!=0?(r=vE(e,560)|0,(r|0)!=0):0){e=s+4|0;n=e+52|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(n|0));o[s>>2]=r;o[s+8>>2]=t;o[s+12>>2]=-1;o[s+48>>2]=1;Vk[o[(o[r>>2]|0)+28>>2]&63](r,s,o[i>>2]|0,1);if((o[s+24>>2]|0)==1){o[i>>2]=o[s+16>>2];e=1}else e=0}else e=0;else e=1;d=a;return e|0}function pE(t,e,i,n,r,s){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;s=s|0;if(bE(t,o[e+8>>2]|0)|0)yE(e,i,n,r);return}function dE(t,e,i,r,s){t=t|0;e=e|0;i=i|0;r=r|0;s=s|0;var a=0;do{if(!(bE(t,o[e+8>>2]|0)|0)){if(bE(t,o[e>>2]|0)|0){t=e+32|0;if((o[e+16>>2]|0)!=(i|0)?(a=e+20|0,(o[a>>2]|0)!=(i|0)):0){o[t>>2]=r;o[a>>2]=i;r=e+40|0;o[r>>2]=(o[r>>2]|0)+1;if((o[e+36>>2]|0)==1?(o[e+24>>2]|0)==2:0)n[e+54>>0]=1;o[e+44>>2]=4;break}if((r|0)==1)o[t>>2]=1}}else gE(e,i,r)}while(0);return}function fE(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;if(bE(t,o[e+8>>2]|0)|0)mE(e,i,n);return}function bE(t,e){t=t|0;e=e|0;return(t|0)==(e|0)|0}function mE(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0,a=0,c=0;s=t+16|0;r=o[s>>2]|0;a=t+36|0;c=t+24|0;do{if(r){if((r|0)!=(e|0)){o[a>>2]=(o[a>>2]|0)+1;o[c>>2]=2;n[t+54>>0]=1;break}if((o[c>>2]|0)==2)o[c>>2]=i}else{o[s>>2]=e;o[c>>2]=i;o[a>>2]=1}}while(0);return}function gE(t,e,i){t=t|0;e=e|0;i=i|0;var n=0;if((o[t+4>>2]|0)==(e|0)?(n=t+28|0,(o[n>>2]|0)!=1):0)o[n>>2]=i;return}function yE(t,e,i,r){t=t|0;e=e|0;i=i|0;r=r|0;var s=0,a=0,c=0,u=0,l=0;n[t+53>>0]=1;do{if((o[t+4>>2]|0)==(i|0)){n[t+52>>0]=1;a=t+16|0;s=o[a>>2]|0;l=t+54|0;u=t+48|0;c=t+24|0;i=t+36|0;if(!s){o[a>>2]=e;o[c>>2]=r;o[i>>2]=1;if(!((o[u>>2]|0)==1&(r|0)==1))break;n[l>>0]=1;break}if((s|0)!=(e|0)){o[i>>2]=(o[i>>2]|0)+1;n[l>>0]=1;break}i=o[c>>2]|0;if((i|0)==2){o[c>>2]=r;i=r}if((o[u>>2]|0)==1&(i|0)==1)n[l>>0]=1}}while(0);return}function vE(t,e){t=t|0;e=e|0;var i=0,s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,f=0,b=0,m=0;m=d;d=d+64|0;b=m;p=o[t>>2]|0;f=t+(o[p+-8>>2]|0)|0;p=o[p+-4>>2]|0;o[b>>2]=e;o[b+4>>2]=t;o[b+8>>2]=576;_=b+12|0;s=b+16|0;a=b+20|0;u=b+24|0;h=b+28|0;l=b+32|0;c=b+40|0;t=bE(p,e)|0;e=_;i=e+40|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(i|0));r[_+40>>1]=0;n[_+42>>0]=0;t:do{if(t){o[b+48>>2]=1;Nk[o[(o[p>>2]|0)+20>>2]&63](p,b,f,f,1,0);t=(o[u>>2]|0)==1?f:0}else{Mk[o[(o[p>>2]|0)+24>>2]&63](p,b,f,1,0);switch(o[b+36>>2]|0){case 0:{t=(o[c>>2]|0)==1&(o[h>>2]|0)==1&(o[l>>2]|0)==1?o[a>>2]|0:0;break t}case 1:break;default:{t=0;break t}}if((o[u>>2]|0)!=1?!((o[c>>2]|0)==0&(o[h>>2]|0)==1&(o[l>>2]|0)==1):0){t=0;break}t=o[s>>2]|0}}while(0);d=m;return t|0}function wE(t){t=t|0;rE(t);return}function xE(t,e,i,n,r,s){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;s=s|0;if(bE(t,o[e+8>>2]|0)|0)yE(e,i,n,r);else{t=o[t+8>>2]|0;Nk[o[(o[t>>2]|0)+20>>2]&63](t,e,i,n,r,s)}return}function TE(t,e,i,r,s){t=t|0;e=e|0;i=i|0;r=r|0;s=s|0;var a=0,c=0,u=0,l=0;do{if(!(bE(t,o[e+8>>2]|0)|0)){a=t+8|0;if(!(bE(t,o[e>>2]|0)|0)){u=o[a>>2]|0;Mk[o[(o[u>>2]|0)+24>>2]&63](u,e,i,r,s);break}t=e+32|0;if((o[e+16>>2]|0)!=(i|0)?(c=e+20|0,(o[c>>2]|0)!=(i|0)):0){o[t>>2]=r;r=e+44|0;if((o[r>>2]|0)==4)break;t=e+52|0;n[t>>0]=0;l=e+53|0;n[l>>0]=0;a=o[a>>2]|0;Nk[o[(o[a>>2]|0)+20>>2]&63](a,e,i,i,1,s);if(n[l>>0]|0)if(!(n[t>>0]|0)){t=3;u=11}else t=3;else{t=4;u=11}if((u|0)==11){o[c>>2]=i;l=e+40|0;o[l>>2]=(o[l>>2]|0)+1;if((o[e+36>>2]|0)==1?(o[e+24>>2]|0)==2:0)n[e+54>>0]=1}o[r>>2]=t;break}if((r|0)==1)o[t>>2]=1}else gE(e,i,r)}while(0);return}function SE(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;if(bE(t,o[e+8>>2]|0)|0)mE(e,i,n);else{t=o[t+8>>2]|0;Vk[o[(o[t>>2]|0)+28>>2]&63](t,e,i,n)}return}function AE(){var t=0;t=d;d=d+16|0;if(!(jt(20192,101)|0)){d=t;return}else aE(18254,t)}function CE(t){t=t|0;var e=0;e=d;d=d+16|0;iE(t);if(!(Kt(o[5048]|0,0)|0)){d=e;return}else aE(18304,e)}function EE(){var t=0,e=0;e=sE()|0;if((e|0?(t=o[e>>2]|0,t|0):0)?(e=t+48|0,(o[e>>2]&-256|0)==1126902528?(o[e+4>>2]|0)==1129074247:0):0)PE(o[t+12>>2]|0);PE(DE()|0)}function PE(t){t=t|0;var e=0;e=d;d=d+16|0;Jk[t&63]();aE(18357,e)}function DE(){var t=0;t=o[529]|0;o[529]=t+0;return t|0}function ME(t){t=t|0;rE(t);return}function RE(t,e,i,r,s,a){t=t|0;e=e|0;i=i|0;r=r|0;s=s|0;a=a|0;var c=0,u=0,l=0,h=0,_=0,p=0,d=0,f=0;if(bE(t,o[e+8>>2]|0)|0)yE(e,i,r,s);else{p=e+52|0;c=n[p>>0]|0;_=e+53|0;u=n[_>>0]|0;f=o[t+12>>2]|0;h=t+16+(f<<3)|0;n[p>>0]=0;n[_>>0]=0;LE(t+16|0,e,i,r,s,a);t:do{if((f|0)>1){d=e+24|0;f=e+54|0;l=t+8|0;t=t+24|0;do{if(n[f>>0]|0)break t;if(!(n[p>>0]|0)){if(n[_>>0]|0?(o[l>>2]&1|0)==0:0)break t}else{if((o[d>>2]|0)==1)break t;if(!(o[l>>2]&2))break t}n[p>>0]=0;n[_>>0]=0;LE(t,e,i,r,s,a);t=t+8|0}while(t>>>0<h>>>0)}}while(0);n[p>>0]=c;n[_>>0]=u}return}function IE(t,e,i,r,s){t=t|0;e=e|0;i=i|0;r=r|0;s=s|0;var a=0,c=0,u=0,l=0,h=0,_=0,p=0,d=0,f=0,b=0,m=0,g=0;t:do{if(!(bE(t,o[e+8>>2]|0)|0)){c=t+12|0;b=e+24|0;m=e+36|0;g=e+54|0;d=t+8|0;_=t+16|0;if(!(bE(t,o[e>>2]|0)|0)){f=o[c>>2]|0;u=t+16+(f<<3)|0;jE(_,e,i,r,s);a=t+24|0;if((f|0)<=1)break;c=o[d>>2]|0;if((c&2|0)==0?(o[m>>2]|0)!=1:0){if(!(c&1))while(1){if(n[g>>0]|0)break t;if((o[m>>2]|0)==1)break t;jE(a,e,i,r,s);a=a+8|0;if(a>>>0>=u>>>0)break t}while(1){if(n[g>>0]|0)break t;if((o[m>>2]|0)==1?(o[b>>2]|0)==1:0)break t;jE(a,e,i,r,s);a=a+8|0;if(a>>>0>=u>>>0)break t}}while(1){if(n[g>>0]|0)break t;jE(a,e,i,r,s);a=a+8|0;if(a>>>0>=u>>>0)break t}}a=e+32|0;if((o[e+16>>2]|0)!=(i|0)?(f=e+20|0,(o[f>>2]|0)!=(i|0)):0){o[a>>2]=r;p=e+44|0;if((o[p>>2]|0)==4)break;u=t+16+(o[c>>2]<<3)|0;l=e+52|0;r=e+53|0;h=0;a=0;t=_;e:while(1){if(t>>>0>=u>>>0){c=18;break}n[l>>0]=0;n[r>>0]=0;LE(t,e,i,i,1,s);if(n[g>>0]|0){c=18;break}do{if(n[r>>0]|0){if(!(n[l>>0]|0))if(!(o[d>>2]&1)){a=1;c=18;break e}else{c=h;a=1;break}if((o[b>>2]|0)==1){c=23;break e}if(!(o[d>>2]&2)){c=23;break e}else{c=1;a=1}}else c=h}while(0);h=c;t=t+8|0}do{if((c|0)==18){if((!h?(o[f>>2]=i,e=e+40|0,o[e>>2]=(o[e>>2]|0)+1,(o[m>>2]|0)==1):0)?(o[b>>2]|0)==2:0){n[g>>0]=1;if(a){c=23;break}else{a=4;break}}if(a)c=23;else a=4}}while(0);if((c|0)==23)a=3;o[p>>2]=a;break}if((r|0)==1)o[a>>2]=1}else gE(e,i,r)}while(0);return}function OE(t,e,i,r){t=t|0;e=e|0;i=i|0;r=r|0;var s=0,a=0;t:do{if(!(bE(t,o[e+8>>2]|0)|0)){a=o[t+12>>2]|0;s=t+16+(a<<3)|0;kE(t+16|0,e,i,r);if((a|0)>1){a=e+54|0;t=t+24|0;do{kE(t,e,i,r);if(n[a>>0]|0)break t;t=t+8|0}while(t>>>0<s>>>0)}}else mE(e,i,r)}while(0);return}function kE(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0,s=0;s=o[t+4>>2]|0;r=s>>8;if(s&1)r=o[(o[i>>2]|0)+r>>2]|0;t=o[t>>2]|0;Vk[o[(o[t>>2]|0)+28>>2]&63](t,e,i+r|0,s&2|0?n:2);return}function LE(t,e,i,n,r,s){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;s=s|0;var a=0,c=0;c=o[t+4>>2]|0;a=c>>8;if(c&1)a=o[(o[n>>2]|0)+a>>2]|0;t=o[t>>2]|0;Nk[o[(o[t>>2]|0)+20>>2]&63](t,e,i,n+a|0,c&2|0?r:2,s);return}function jE(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0;a=o[t+4>>2]|0;s=a>>8;if(a&1)s=o[(o[i>>2]|0)+s>>2]|0;t=o[t>>2]|0;Mk[o[(o[t>>2]|0)+24>>2]&63](t,e,i+s|0,a&2|0?n:2,r);return}function BE(t){t=t|0;if((n[t>>0]|0)==1)t=0;else{n[t>>0]=1;t=1}return t|0}function FE(){var t=0;t=o[5049]|0;o[5049]=t+0;return t|0}function JE(t,e,i){t=t|0;e=e|0;i=i|0;var n=0,r=0;r=d;d=d+16|0;n=r;o[n>>2]=o[i>>2];t=Dk[o[(o[t>>2]|0)+16>>2]&63](t,e,n)|0;if(t)o[i>>2]=o[n>>2];d=r;return t&1|0}function GE(t){t=t|0;if(!t)t=0;else t=(vE(t,632)|0)!=0;return t&1|0}function NE(){}function UE(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;n=e-n-(i>>>0>t>>>0|0)>>>0;return(I=n,t-i>>>0|0)|0}function WE(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;i=t+i>>>0;return(I=e+n+(i>>>0<t>>>0|0)>>>0,i|0)|0}function VE(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0,a=0,c=0;a=t+i|0;e=e&255;if((i|0)>=67){while(t&3){n[t>>0]=e;t=t+1|0}r=a&-4|0;s=r-64|0;c=e|e<<8|e<<16|e<<24;while((t|0)<=(s|0)){o[t>>2]=c;o[t+4>>2]=c;o[t+8>>2]=c;o[t+12>>2]=c;o[t+16>>2]=c;o[t+20>>2]=c;o[t+24>>2]=c;o[t+28>>2]=c;o[t+32>>2]=c;o[t+36>>2]=c;o[t+40>>2]=c;o[t+44>>2]=c;o[t+48>>2]=c;o[t+52>>2]=c;o[t+56>>2]=c;o[t+60>>2]=c;t=t+64|0}while((t|0)<(r|0)){o[t>>2]=c;t=t+4|0}}while((t|0)<(a|0)){n[t>>0]=e;t=t+1|0}return a-i|0}function XE(t,e,i){t=t|0;e=e|0;i=i|0;if((i|0)<32){I=e>>>i;return t>>>i|(e&(1<<i)-1)<<32-i}I=0;return e>>>i-32|0}function zE(t,e,i){t=t|0;e=e|0;i=i|0;if((i|0)<32){I=e<<i|(t&(1<<i)-1<<32-i)>>>32-i;return t<<i}I=t<<i-32;return 0}function qE(t,e,i){t=t|0;e=e|0;i=i|0;var r=0,s=0,a=0;if((i|0)>=8192)return Vt(t|0,e|0,i|0)|0;a=t|0;s=t+i|0;if((t&3)==(e&3)){while(t&3){if(!i)return a|0;n[t>>0]=n[e>>0]|0;t=t+1|0;e=e+1|0;i=i-1|0}i=s&-4|0;r=i-64|0;while((t|0)<=(r|0)){o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+20>>2]=o[e+20>>2];o[t+24>>2]=o[e+24>>2];o[t+28>>2]=o[e+28>>2];o[t+32>>2]=o[e+32>>2];o[t+36>>2]=o[e+36>>2];o[t+40>>2]=o[e+40>>2];o[t+44>>2]=o[e+44>>2];o[t+48>>2]=o[e+48>>2];o[t+52>>2]=o[e+52>>2];o[t+56>>2]=o[e+56>>2];o[t+60>>2]=o[e+60>>2];t=t+64|0;e=e+64|0}while((t|0)<(i|0)){o[t>>2]=o[e>>2];t=t+4|0;e=e+4|0}}else{i=s-4|0;while((t|0)<(i|0)){n[t>>0]=n[e>>0]|0;n[t+1>>0]=n[e+1>>0]|0;n[t+2>>0]=n[e+2>>0]|0;n[t+3>>0]=n[e+3>>0]|0;t=t+4|0;e=e+4|0}}while((t|0)<(s|0)){n[t>>0]=n[e>>0]|0;t=t+1|0;e=e+1|0}return a|0}function HE(t){t=t|0;var e=0;e=n[b+(t&255)>>0]|0;if((e|0)<8)return e|0;e=n[b+(t>>8&255)>>0]|0;if((e|0)<8)return e+8|0;e=n[b+(t>>16&255)>>0]|0;if((e|0)<8)return e+16|0;return(n[b+(t>>>24)>>0]|0)+24|0}function YE(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;var s=0,a=0,c=0,u=0,l=0,h=0,_=0,p=0,d=0,f=0;h=t;u=e;l=u;a=i;p=n;c=p;if(!l){s=(r|0)!=0;if(!c){if(s){o[r>>2]=(h>>>0)%(a>>>0);o[r+4>>2]=0}p=0;r=(h>>>0)/(a>>>0)>>>0;return(I=p,r)|0}else{if(!s){p=0;r=0;return(I=p,r)|0}o[r>>2]=t|0;o[r+4>>2]=e&0;p=0;r=0;return(I=p,r)|0}}s=(c|0)==0;do{if(a){if(!s){s=(Z(c|0)|0)-(Z(l|0)|0)|0;if(s>>>0<=31){_=s+1|0;c=31-s|0;e=s-31>>31;a=_;t=h>>>(_>>>0)&e|l<<c;e=l>>>(_>>>0)&e;s=0;c=h<<c;break}if(!r){p=0;r=0;return(I=p,r)|0}o[r>>2]=t|0;o[r+4>>2]=u|e&0;p=0;r=0;return(I=p,r)|0}s=a-1|0;if(s&a|0){c=(Z(a|0)|0)+33-(Z(l|0)|0)|0;f=64-c|0;_=32-c|0;u=_>>31;d=c-32|0;e=d>>31;a=c;t=_-1>>31&l>>>(d>>>0)|(l<<_|h>>>(c>>>0))&e;e=e&l>>>(c>>>0);s=h<<f&u;c=(l<<f|h>>>(d>>>0))&u|h<<_&c-33>>31;break}if(r|0){o[r>>2]=s&h;o[r+4>>2]=0}if((a|0)==1){d=u|e&0;f=t|0|0;return(I=d,f)|0}else{f=HE(a|0)|0;d=l>>>(f>>>0)|0;f=l<<32-f|h>>>(f>>>0)|0;return(I=d,f)|0}}else{if(s){if(r|0){o[r>>2]=(l>>>0)%(a>>>0);o[r+4>>2]=0}d=0;f=(l>>>0)/(a>>>0)>>>0;return(I=d,f)|0}if(!h){if(r|0){o[r>>2]=0;o[r+4>>2]=(l>>>0)%(c>>>0)}d=0;f=(l>>>0)/(c>>>0)>>>0;return(I=d,f)|0}s=c-1|0;if(!(s&c)){if(r|0){o[r>>2]=t|0;o[r+4>>2]=s&l|e&0}d=0;f=l>>>((HE(c|0)|0)>>>0);return(I=d,f)|0}s=(Z(c|0)|0)-(Z(l|0)|0)|0;if(s>>>0<=30){e=s+1|0;c=31-s|0;a=e;t=l<<c|h>>>(e>>>0);e=l>>>(e>>>0);s=0;c=h<<c;break}if(!r){d=0;f=0;return(I=d,f)|0}o[r>>2]=t|0;o[r+4>>2]=u|e&0;d=0;f=0;return(I=d,f)|0}}while(0);if(!a){l=c;u=0;c=0}else{_=i|0|0;h=p|n&0;l=WE(_|0,h|0,-1,-1)|0;i=I;u=c;c=0;do{n=u;u=s>>>31|u<<1;s=c|s<<1;n=t<<1|n>>>31|0;p=t>>>31|e<<1|0;UE(l|0,i|0,n|0,p|0)|0;f=I;d=f>>31|((f|0)<0?-1:0)<<1;c=d&1;t=UE(n|0,p|0,d&_|0,(((f|0)<0?-1:0)>>31|((f|0)<0?-1:0)<<1)&h|0)|0;e=I;a=a-1|0}while((a|0)!=0);l=u;u=0}a=0;if(r|0){o[r>>2]=t;o[r+4>>2]=e}d=(s|0)>>>31|(l|a)<<1|(a<<1|s>>>31)&0|u;f=(s<<1|0>>>31)&-2|c;return(I=d,f)|0}function ZE(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;return YE(t,e,i,n,0)|0}function QE(t){t=t|0;var e=0,i=0;i=t+15&-16|0;e=o[h>>2]|0;t=e+i|0;if((i|0)>0&(t|0)<(e|0)|(t|0)<0){et()|0;Ut(12);return-1}o[h>>2]=t;if((t|0)>(tt()|0)?($()|0)==0:0){Ut(12);o[h>>2]=e;return-1}return e|0}function KE(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;var r=0,s=0;s=d;d=d+16|0;r=s|0;YE(t,e,i,n,r)|0;d=s;return(I=o[r+4>>2]|0,o[r>>2]|0)|0}function $E(t){t=t|0;return(t&255)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>>24|0}function tP(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;return Dk[t&63](e|0,i|0,n|0)|0}function eP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(0,t|0,e|0,i|0)|0}function iP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(1,t|0,e|0,i|0)|0}function nP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(2,t|0,e|0,i|0)|0}function rP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(3,t|0,e|0,i|0)|0}function oP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(4,t|0,e|0,i|0)|0}function sP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(5,t|0,e|0,i|0)|0}function aP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(6,t|0,e|0,i|0)|0}function cP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(7,t|0,e|0,i|0)|0}function uP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(8,t|0,e|0,i|0)|0}function lP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(9,t|0,e|0,i|0)|0}function hP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(10,t|0,e|0,i|0)|0}function _P(t,e,i){t=t|0;e=e|0;i=i|0;return nt(11,t|0,e|0,i|0)|0}function pP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(12,t|0,e|0,i|0)|0}function dP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(13,t|0,e|0,i|0)|0}function fP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(14,t|0,e|0,i|0)|0}function bP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(15,t|0,e|0,i|0)|0}function mP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(16,t|0,e|0,i|0)|0}function gP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(17,t|0,e|0,i|0)|0}function yP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(18,t|0,e|0,i|0)|0}function vP(t,e,i){t=t|0;e=e|0;i=i|0;return nt(19,t|0,e|0,i|0)|0}function wP(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Mk[t&63](e|0,i|0,n|0,r|0,o|0)}function xP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(0,t|0,e|0,i|0,n|0,r|0)}function TP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(1,t|0,e|0,i|0,n|0,r|0)}function SP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(2,t|0,e|0,i|0,n|0,r|0)}function AP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(3,t|0,e|0,i|0,n|0,r|0)}function CP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(4,t|0,e|0,i|0,n|0,r|0)}function EP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(5,t|0,e|0,i|0,n|0,r|0)}function PP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(6,t|0,e|0,i|0,n|0,r|0)}function DP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(7,t|0,e|0,i|0,n|0,r|0)}function MP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(8,t|0,e|0,i|0,n|0,r|0)}function RP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(9,t|0,e|0,i|0,n|0,r|0)}function IP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(10,t|0,e|0,i|0,n|0,r|0)}function OP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(11,t|0,e|0,i|0,n|0,r|0)}function kP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(12,t|0,e|0,i|0,n|0,r|0)}function LP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(13,t|0,e|0,i|0,n|0,r|0)}function jP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(14,t|0,e|0,i|0,n|0,r|0)}function BP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(15,t|0,e|0,i|0,n|0,r|0)}function FP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(16,t|0,e|0,i|0,n|0,r|0)}function JP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(17,t|0,e|0,i|0,n|0,r|0)}function GP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(18,t|0,e|0,i|0,n|0,r|0)}function NP(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;ot(19,t|0,e|0,i|0,n|0,r|0)}function UP(t,e,i){t=t|0;e=e|0;i=+i;return+Rk[t&63](e|0,+i)}function WP(t,e){t=t|0;e=+e;return+at(0,t|0,+e)}function VP(t,e){t=t|0;e=+e;return+at(1,t|0,+e)}function XP(t,e){t=t|0;e=+e;return+at(2,t|0,+e)}function zP(t,e){t=t|0;e=+e;return+at(3,t|0,+e)}function qP(t,e){t=t|0;e=+e;return+at(4,t|0,+e)}function HP(t,e){t=t|0;e=+e;return+at(5,t|0,+e)}function YP(t,e){t=t|0;e=+e;return+at(6,t|0,+e)}function ZP(t,e){t=t|0;e=+e;return+at(7,t|0,+e)}function QP(t,e){t=t|0;e=+e;return+at(8,t|0,+e)}function KP(t,e){t=t|0;e=+e;return+at(9,t|0,+e)}function $P(t,e){t=t|0;e=+e;return+at(10,t|0,+e)}function tD(t,e){t=t|0;e=+e;return+at(11,t|0,+e)}function eD(t,e){t=t|0;e=+e;return+at(12,t|0,+e)}function iD(t,e){t=t|0;e=+e;return+at(13,t|0,+e)}function nD(t,e){t=t|0;e=+e;return+at(14,t|0,+e)}function rD(t,e){t=t|0;e=+e;return+at(15,t|0,+e)}function oD(t,e){t=t|0;e=+e;return+at(16,t|0,+e)}function sD(t,e){t=t|0;e=+e;return+at(17,t|0,+e)}function aD(t,e){t=t|0;e=+e;return+at(18,t|0,+e)}function cD(t,e){t=t|0;e=+e;return+at(19,t|0,+e)}function uD(t,e){t=t|0;e=e|0;Ik[t&127](e|0)}function lD(t){t=t|0;ut(0,t|0)}function hD(t){t=t|0;ut(1,t|0)}function _D(t){t=t|0;ut(2,t|0)}function pD(t){t=t|0;ut(3,t|0)}function dD(t){t=t|0;ut(4,t|0)}function fD(t){t=t|0;ut(5,t|0)}function bD(t){t=t|0;ut(6,t|0)}function mD(t){t=t|0;ut(7,t|0)}function gD(t){t=t|0;ut(8,t|0)}function yD(t){t=t|0;ut(9,t|0)}function vD(t){t=t|0;ut(10,t|0)}function wD(t){t=t|0;ut(11,t|0)}function xD(t){t=t|0;ut(12,t|0)}function TD(t){t=t|0;ut(13,t|0)}function SD(t){t=t|0;ut(14,t|0)}function AD(t){t=t|0;ut(15,t|0)}function CD(t){t=t|0;ut(16,t|0)}function ED(t){t=t|0;ut(17,t|0)}function PD(t){t=t|0;ut(18,t|0)}function DD(t){t=t|0;ut(19,t|0)}function MD(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=+o;return+Ok[t&63](e|0,i|0,n|0,r|0,+o)}function RD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(0,t|0,e|0,i|0,n|0,+r)}function ID(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(1,t|0,e|0,i|0,n|0,+r)}function OD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(2,t|0,e|0,i|0,n|0,+r)}function kD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(3,t|0,e|0,i|0,n|0,+r)}function LD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(4,t|0,e|0,i|0,n|0,+r)}function jD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(5,t|0,e|0,i|0,n|0,+r)}function BD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(6,t|0,e|0,i|0,n|0,+r)}function FD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(7,t|0,e|0,i|0,n|0,+r)}function JD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(8,t|0,e|0,i|0,n|0,+r)}function GD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(9,t|0,e|0,i|0,n|0,+r)}function ND(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(10,t|0,e|0,i|0,n|0,+r)}function UD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(11,t|0,e|0,i|0,n|0,+r)}function WD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(12,t|0,e|0,i|0,n|0,+r)}function VD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(13,t|0,e|0,i|0,n|0,+r)}function XD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(14,t|0,e|0,i|0,n|0,+r)}function zD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(15,t|0,e|0,i|0,n|0,+r)}function qD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(16,t|0,e|0,i|0,n|0,+r)}function HD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(17,t|0,e|0,i|0,n|0,+r)}function YD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(18,t|0,e|0,i|0,n|0,+r)}function ZD(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;return+ht(19,t|0,e|0,i|0,n|0,+r)}function QD(t,e,i){t=t|0;e=e|0;i=i|0;kk[t&127](e|0,i|0)}function KD(t,e){t=t|0;e=e|0;pt(0,t|0,e|0)}function $D(t,e){t=t|0;e=e|0;pt(1,t|0,e|0)}function tM(t,e){t=t|0;e=e|0;pt(2,t|0,e|0)}function eM(t,e){t=t|0;e=e|0;pt(3,t|0,e|0)}function iM(t,e){t=t|0;e=e|0;pt(4,t|0,e|0)}function nM(t,e){t=t|0;e=e|0;pt(5,t|0,e|0)}function rM(t,e){t=t|0;e=e|0;pt(6,t|0,e|0)}function oM(t,e){t=t|0;e=e|0;pt(7,t|0,e|0)}function sM(t,e){t=t|0;e=e|0;pt(8,t|0,e|0)}function aM(t,e){t=t|0;e=e|0;pt(9,t|0,e|0)}function cM(t,e){t=t|0;e=e|0;pt(10,t|0,e|0)}function uM(t,e){t=t|0;e=e|0;pt(11,t|0,e|0)}function lM(t,e){t=t|0;e=e|0;pt(12,t|0,e|0)}function hM(t,e){t=t|0;e=e|0;pt(13,t|0,e|0)}function _M(t,e){t=t|0;e=e|0;pt(14,t|0,e|0)}function pM(t,e){t=t|0;e=e|0;pt(15,t|0,e|0)}function dM(t,e){t=t|0;e=e|0;pt(16,t|0,e|0)}function fM(t,e){t=t|0;e=e|0;pt(17,t|0,e|0)}function bM(t,e){t=t|0;e=e|0;pt(18,t|0,e|0)}function mM(t,e){t=t|0;e=e|0;pt(19,t|0,e|0)}function gM(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=+n;r=r|0;o=o|0;Lk[t&63](e|0,i|0,+n,r|0,o|0)}function yM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(0,t|0,e|0,+i,n|0,r|0)}function vM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(1,t|0,e|0,+i,n|0,r|0)}function wM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(2,t|0,e|0,+i,n|0,r|0)}function xM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(3,t|0,e|0,+i,n|0,r|0)}function TM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(4,t|0,e|0,+i,n|0,r|0)}function SM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(5,t|0,e|0,+i,n|0,r|0)}function AM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(6,t|0,e|0,+i,n|0,r|0)}function CM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(7,t|0,e|0,+i,n|0,r|0)}function EM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(8,t|0,e|0,+i,n|0,r|0)}function PM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(9,t|0,e|0,+i,n|0,r|0)}function DM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(10,t|0,e|0,+i,n|0,r|0)}function MM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(11,t|0,e|0,+i,n|0,r|0)}function RM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(12,t|0,e|0,+i,n|0,r|0)}function IM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(13,t|0,e|0,+i,n|0,r|0)}function OM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(14,t|0,e|0,+i,n|0,r|0)}function kM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(15,t|0,e|0,+i,n|0,r|0)}function LM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(16,t|0,e|0,+i,n|0,r|0)}function jM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(17,t|0,e|0,+i,n|0,r|0)}function BM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(18,t|0,e|0,+i,n|0,r|0)}function FM(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;ft(19,t|0,e|0,+i,n|0,r|0)}function JM(t,e){t=t|0;e=e|0;return jk[t&63](e|0)|0}function GM(t){t=t|0;return mt(0,t|0)|0}function NM(t){t=t|0;return mt(1,t|0)|0}function UM(t){t=t|0;return mt(2,t|0)|0}function WM(t){t=t|0;return mt(3,t|0)|0}function VM(t){t=t|0;return mt(4,t|0)|0}function XM(t){t=t|0;return mt(5,t|0)|0}function zM(t){t=t|0;return mt(6,t|0)|0}function qM(t){t=t|0;return mt(7,t|0)|0}function HM(t){t=t|0;return mt(8,t|0)|0}function YM(t){t=t|0;return mt(9,t|0)|0}function ZM(t){t=t|0;return mt(10,t|0)|0}function QM(t){t=t|0;return mt(11,t|0)|0}function KM(t){t=t|0;return mt(12,t|0)|0}function $M(t){t=t|0;return mt(13,t|0)|0}function tR(t){t=t|0;return mt(14,t|0)|0}function eR(t){t=t|0;return mt(15,t|0)|0}function iR(t){t=t|0;return mt(16,t|0)|0}function nR(t){t=t|0;return mt(17,t|0)|0}function rR(t){t=t|0;return mt(18,t|0)|0}function oR(t){t=t|0;return mt(19,t|0)|0}function sR(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=+n;r=r|0;Bk[t&63](e|0,i|0,+n,r|0)}function aR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(0,t|0,e|0,+i,n|0)}function cR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(1,t|0,e|0,+i,n|0)}function uR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(2,t|0,e|0,+i,n|0)}function lR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(3,t|0,e|0,+i,n|0)}function hR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(4,t|0,e|0,+i,n|0)}function _R(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(5,t|0,e|0,+i,n|0)}function pR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(6,t|0,e|0,+i,n|0)}function dR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(7,t|0,e|0,+i,n|0)}function fR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(8,t|0,e|0,+i,n|0)}function bR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(9,t|0,e|0,+i,n|0)}function mR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(10,t|0,e|0,+i,n|0)}function gR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(11,t|0,e|0,+i,n|0)}function yR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(12,t|0,e|0,+i,n|0)}function vR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(13,t|0,e|0,+i,n|0)}function wR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(14,t|0,e|0,+i,n|0)}function xR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(15,t|0,e|0,+i,n|0)}function TR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(16,t|0,e|0,+i,n|0)}function SR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(17,t|0,e|0,+i,n|0)}function AR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(18,t|0,e|0,+i,n|0)}function CR(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;yt(19,t|0,e|0,+i,n|0)}function ER(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Fk[t&63](e|0,i|0,n|0)}function PR(t,e,i){t=t|0;e=e|0;i=i|0;wt(0,t|0,e|0,i|0)}function DR(t,e,i){t=t|0;e=e|0;i=i|0;wt(1,t|0,e|0,i|0)}function MR(t,e,i){t=t|0;e=e|0;i=i|0;wt(2,t|0,e|0,i|0)}function RR(t,e,i){t=t|0;e=e|0;i=i|0;wt(3,t|0,e|0,i|0)}function IR(t,e,i){t=t|0;e=e|0;i=i|0;wt(4,t|0,e|0,i|0)}function OR(t,e,i){t=t|0;e=e|0;i=i|0;wt(5,t|0,e|0,i|0)}function kR(t,e,i){t=t|0;e=e|0;i=i|0;wt(6,t|0,e|0,i|0)}function LR(t,e,i){t=t|0;e=e|0;i=i|0;wt(7,t|0,e|0,i|0)}function jR(t,e,i){t=t|0;e=e|0;i=i|0;wt(8,t|0,e|0,i|0)}function BR(t,e,i){t=t|0;e=e|0;i=i|0;wt(9,t|0,e|0,i|0)}function FR(t,e,i){t=t|0;e=e|0;i=i|0;wt(10,t|0,e|0,i|0)}function JR(t,e,i){t=t|0;e=e|0;i=i|0;wt(11,t|0,e|0,i|0)}function GR(t,e,i){t=t|0;e=e|0;i=i|0;wt(12,t|0,e|0,i|0)}function NR(t,e,i){t=t|0;e=e|0;i=i|0;wt(13,t|0,e|0,i|0)}function UR(t,e,i){t=t|0;e=e|0;i=i|0;wt(14,t|0,e|0,i|0)}function WR(t,e,i){t=t|0;e=e|0;i=i|0;wt(15,t|0,e|0,i|0)}function VR(t,e,i){t=t|0;e=e|0;i=i|0;wt(16,t|0,e|0,i|0)}function XR(t,e,i){t=t|0;e=e|0;i=i|0;wt(17,t|0,e|0,i|0)}function zR(t,e,i){t=t|0;e=e|0;i=i|0;wt(18,t|0,e|0,i|0)}function qR(t,e,i){t=t|0;e=e|0;i=i|0;wt(19,t|0,e|0,i|0)}function HR(t){t=t|0;Jk[t&63]()}function YR(){Tt(0)}function ZR(){Tt(1)}function QR(){Tt(2)}function KR(){Tt(3)}function $R(){Tt(4)}function tI(){Tt(5)}function eI(){Tt(6)}function iI(){Tt(7)}function nI(){Tt(8)}function rI(){Tt(9)}function oI(){Tt(10)}function sI(){Tt(11)}function aI(){Tt(12)}function cI(){Tt(13)}function uI(){Tt(14)}function lI(){Tt(15)}function hI(){Tt(16)}function _I(){Tt(17)}function pI(){Tt(18)}function dI(){Tt(19)}function fI(t,e,i,n){t=t|0;e=e|0;i=i|0;n=+n;Gk[t&63](e|0,i|0,+n)}function bI(t,e,i){t=t|0;e=e|0;i=+i;At(0,t|0,e|0,+i)}function mI(t,e,i){t=t|0;e=e|0;i=+i;At(1,t|0,e|0,+i)}function gI(t,e,i){t=t|0;e=e|0;i=+i;At(2,t|0,e|0,+i)}function yI(t,e,i){t=t|0;e=e|0;i=+i;At(3,t|0,e|0,+i)}function vI(t,e,i){t=t|0;e=e|0;i=+i;At(4,t|0,e|0,+i)}function wI(t,e,i){t=t|0;e=e|0;i=+i;At(5,t|0,e|0,+i)}function xI(t,e,i){t=t|0;e=e|0;i=+i;At(6,t|0,e|0,+i)}function TI(t,e,i){t=t|0;e=e|0;i=+i;At(7,t|0,e|0,+i)}function SI(t,e,i){t=t|0;e=e|0;i=+i;At(8,t|0,e|0,+i)}function AI(t,e,i){t=t|0;e=e|0;i=+i;At(9,t|0,e|0,+i)}function CI(t,e,i){t=t|0;e=e|0;i=+i;At(10,t|0,e|0,+i)}function EI(t,e,i){t=t|0;e=e|0;i=+i;At(11,t|0,e|0,+i)}function PI(t,e,i){t=t|0;e=e|0;i=+i;At(12,t|0,e|0,+i)}function DI(t,e,i){t=t|0;e=e|0;i=+i;At(13,t|0,e|0,+i)}function MI(t,e,i){t=t|0;e=e|0;i=+i;At(14,t|0,e|0,+i)}function RI(t,e,i){t=t|0;e=e|0;i=+i;At(15,t|0,e|0,+i)}function II(t,e,i){t=t|0;e=e|0;i=+i;At(16,t|0,e|0,+i)}function OI(t,e,i){t=t|0;e=e|0;i=+i;At(17,t|0,e|0,+i)}function kI(t,e,i){t=t|0;e=e|0;i=+i;At(18,t|0,e|0,+i)}function LI(t,e,i){t=t|0;e=e|0;i=+i;At(19,t|0,e|0,+i)}function jI(t,e,i,n,r,o,s){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;Nk[t&63](e|0,i|0,n|0,r|0,o|0,s|0)}function BI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(0,t|0,e|0,i|0,n|0,r|0,o|0)}function FI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(1,t|0,e|0,i|0,n|0,r|0,o|0)}function JI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(2,t|0,e|0,i|0,n|0,r|0,o|0)}function GI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(3,t|0,e|0,i|0,n|0,r|0,o|0)}function NI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(4,t|0,e|0,i|0,n|0,r|0,o|0)}function UI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(5,t|0,e|0,i|0,n|0,r|0,o|0)}function WI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(6,t|0,e|0,i|0,n|0,r|0,o|0)}function VI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(7,t|0,e|0,i|0,n|0,r|0,o|0)}function XI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(8,t|0,e|0,i|0,n|0,r|0,o|0)}function zI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(9,t|0,e|0,i|0,n|0,r|0,o|0)}function qI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(10,t|0,e|0,i|0,n|0,r|0,o|0)}function HI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(11,t|0,e|0,i|0,n|0,r|0,o|0)}function YI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(12,t|0,e|0,i|0,n|0,r|0,o|0)}function ZI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(13,t|0,e|0,i|0,n|0,r|0,o|0)}function QI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(14,t|0,e|0,i|0,n|0,r|0,o|0)}function KI(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(15,t|0,e|0,i|0,n|0,r|0,o|0)}function $I(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(16,t|0,e|0,i|0,n|0,r|0,o|0)}function tO(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(17,t|0,e|0,i|0,n|0,r|0,o|0)}function eO(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(18,t|0,e|0,i|0,n|0,r|0,o|0)}function iO(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Et(19,t|0,e|0,i|0,n|0,r|0,o|0)}function nO(t,e,i){t=t|0;e=e|0;i=i|0;return Uk[t&63](e|0,i|0)|0}function rO(t,e){t=t|0;e=e|0;return Dt(0,t|0,e|0)|0}function oO(t,e){t=t|0;e=e|0;return Dt(1,t|0,e|0)|0}function sO(t,e){t=t|0;e=e|0;return Dt(2,t|0,e|0)|0}function aO(t,e){t=t|0;e=e|0;return Dt(3,t|0,e|0)|0}function cO(t,e){t=t|0;e=e|0;return Dt(4,t|0,e|0)|0}function uO(t,e){t=t|0;e=e|0;return Dt(5,t|0,e|0)|0}function lO(t,e){t=t|0;e=e|0;return Dt(6,t|0,e|0)|0}function hO(t,e){t=t|0;e=e|0;return Dt(7,t|0,e|0)|0}function _O(t,e){t=t|0;e=e|0;return Dt(8,t|0,e|0)|0}function pO(t,e){t=t|0;e=e|0;return Dt(9,t|0,e|0)|0}function dO(t,e){t=t|0;e=e|0;return Dt(10,t|0,e|0)|0}function fO(t,e){t=t|0;e=e|0;return Dt(11,t|0,e|0)|0}function bO(t,e){t=t|0;e=e|0;return Dt(12,t|0,e|0)|0}function mO(t,e){t=t|0;e=e|0;return Dt(13,t|0,e|0)|0}function gO(t,e){t=t|0;e=e|0;return Dt(14,t|0,e|0)|0}function yO(t,e){t=t|0;e=e|0;return Dt(15,t|0,e|0)|0}function vO(t,e){t=t|0;e=e|0;return Dt(16,t|0,e|0)|0}function wO(t,e){t=t|0;e=e|0;return Dt(17,t|0,e|0)|0}function xO(t,e){t=t|0;e=e|0;return Dt(18,t|0,e|0)|0}function TO(t,e){t=t|0;e=e|0;return Dt(19,t|0,e|0)|0}function SO(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;return Wk[t&63](e|0,i|0,n|0,r|0,o|0)|0}function AO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(0,t|0,e|0,i|0,n|0,r|0)|0}function CO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(1,t|0,e|0,i|0,n|0,r|0)|0}function EO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(2,t|0,e|0,i|0,n|0,r|0)|0}function PO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(3,t|0,e|0,i|0,n|0,r|0)|0}function DO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(4,t|0,e|0,i|0,n|0,r|0)|0}function MO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(5,t|0,e|0,i|0,n|0,r|0)|0}function RO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(6,t|0,e|0,i|0,n|0,r|0)|0}function IO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(7,t|0,e|0,i|0,n|0,r|0)|0}function OO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(8,t|0,e|0,i|0,n|0,r|0)|0}function kO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(9,t|0,e|0,i|0,n|0,r|0)|0}function LO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(10,t|0,e|0,i|0,n|0,r|0)|0}function jO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(11,t|0,e|0,i|0,n|0,r|0)|0}function BO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(12,t|0,e|0,i|0,n|0,r|0)|0}function FO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(13,t|0,e|0,i|0,n|0,r|0)|0}function JO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(14,t|0,e|0,i|0,n|0,r|0)|0}function GO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(15,t|0,e|0,i|0,n|0,r|0)|0}function NO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(16,t|0,e|0,i|0,n|0,r|0)|0}function UO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(17,t|0,e|0,i|0,n|0,r|0)|0}function WO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(18,t|0,e|0,i|0,n|0,r|0)|0}function VO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;return Rt(19,t|0,e|0,i|0,n|0,r|0)|0}function XO(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;Vk[t&63](e|0,i|0,n|0,r|0)}function zO(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(0,t|0,e|0,i|0,n|0)}function qO(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(1,t|0,e|0,i|0,n|0)}function HO(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(2,t|0,e|0,i|0,n|0)}function YO(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(3,t|0,e|0,i|0,n|0)}function ZO(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(4,t|0,e|0,i|0,n|0)}function QO(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(5,t|0,e|0,i|0,n|0)}function KO(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(6,t|0,e|0,i|0,n|0)}function $O(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(7,t|0,e|0,i|0,n|0)}function tk(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(8,t|0,e|0,i|0,n|0)}function ek(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(9,t|0,e|0,i|0,n|0)}function ik(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(10,t|0,e|0,i|0,n|0)}function nk(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(11,t|0,e|0,i|0,n|0)}function rk(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(12,t|0,e|0,i|0,n|0)}function ok(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(13,t|0,e|0,i|0,n|0)}function sk(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(14,t|0,e|0,i|0,n|0)}function ak(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(15,t|0,e|0,i|0,n|0)}function ck(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(16,t|0,e|0,i|0,n|0)}function uk(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(17,t|0,e|0,i|0,n|0)}function lk(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(18,t|0,e|0,i|0,n|0)}function hk(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Ot(19,t|0,e|0,i|0,n|0)}function _k(t,e,i){t=t|0;e=e|0;i=i|0;Q(0);return 0}function pk(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;Q(1)}function dk(t,e){t=t|0;e=+e;Q(2);return 0.0}function fk(t){t=t|0;Q(3)}function bk(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=+r;Q(4);return 0.0}function mk(t,e){t=t|0;e=e|0;Q(5)}function gk(t,e,i,n,r){t=t|0;e=e|0;i=+i;n=n|0;r=r|0;Q(6)}function yk(t){t=t|0;Q(7);return 0}function vk(t,e,i,n){t=t|0;e=e|0;i=+i;n=n|0;Q(8)}function wk(t,e,i){t=t|0;e=e|0;i=i|0;Q(9)}function xk(){Q(10)}function Tk(){ie()}function Sk(t,e,i){t=t|0;e=e|0;i=+i;Q(11)}function Ak(t,e,i,n,r,o){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;o=o|0;Q(12)}function Ck(t,e){t=t|0;e=e|0;Q(13);return 0}function Ek(t,e,i,n,r){t=t|0;e=e|0;i=i|0;n=n|0;r=r|0;Q(14);return 0}function Pk(t,e,i,n){t=t|0;e=e|0;i=i|0;n=n|0;Q(15)}var Dk=[_k,_k,eP,_k,iP,_k,nP,_k,rP,_k,oP,_k,sP,_k,aP,_k,cP,_k,uP,_k,lP,_k,hP,_k,_P,_k,pP,_k,dP,_k,fP,_k,bP,_k,mP,_k,gP,_k,yP,_k,vP,_k,ex,Cx,Lx,Wx,Zx,eT,SC,wC,AC,_E,_k,_k,_k,_k,_k,_k,_k,_k,_k,_k,_k,_k];var Mk=[pk,pk,xP,pk,TP,pk,SP,pk,AP,pk,CP,pk,EP,pk,PP,pk,DP,pk,MP,pk,RP,pk,IP,pk,OP,pk,kP,pk,LP,pk,jP,pk,BP,pk,FP,pk,JP,pk,GP,pk,NP,pk,dE,TE,IE,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk,pk];var Rk=[dk,dk,WP,dk,VP,dk,XP,dk,zP,dk,qP,dk,HP,dk,YP,dk,ZP,dk,QP,dk,KP,dk,$P,dk,tD,dk,eD,dk,iD,dk,nD,dk,rD,dk,oD,dk,sD,dk,aD,dk,cD,dk,px,PT,BT,zT,eS,hS,vS,MS,JS,HS,nA,dk,dk,dk,dk,dk,dk,dk,dk,dk,dk,dk];var Ik=[fk,fk,lD,fk,hD,fk,_D,fk,pD,fk,dD,fk,fD,fk,bD,fk,mD,fk,gD,fk,yD,fk,vD,fk,wD,fk,xD,fk,TD,fk,SD,fk,AD,fk,CD,fk,ED,fk,PD,fk,DD,fk,Gw,Lw,Nw,Uw,zw,Vw,qw,Hw,$w,tx,ix,nx,dx,bx,mx,xx,Tx,Rx,Ix,Gx,qx,tT,iT,cT,uT,_T,fT,mT,yT,wT,TT,DT,MT,FT,JT,qT,HT,iS,rS,_S,pS,wS,TS,RS,IS,GS,NS,YS,ZS,rA,oA,uA,lA,cE,uE,lE,hE,wE,ME,CE,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk,fk];var Ok=[bk,bk,RD,bk,ID,bk,OD,bk,kD,bk,LD,bk,jD,bk,BD,bk,FD,bk,JD,bk,GD,bk,ND,bk,UD,bk,WD,bk,VD,bk,XD,bk,zD,bk,qD,bk,HD,bk,YD,bk,ZD,bk,Xw,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk,bk];var kk=[mk,mk,KD,mk,$D,mk,tM,mk,eM,mk,iM,mk,nM,mk,rM,mk,oM,mk,sM,mk,aM,mk,cM,mk,uM,mk,lM,mk,hM,mk,_M,mk,pM,mk,dM,mk,fM,mk,bM,mk,mM,mk,jw,Bw,Fw,Jw,Yw,Zw,ux,lx,hx,fx,gx,yx,nT,rT,AT,CT,RT,IT,kT,LT,GT,NT,WT,VT,YT,ZT,KT,$T,nS,oS,sS,cS,uS,dS,fS,mS,gS,xS,SS,AS,ES,PS,OS,kS,jS,BS,US,WS,XS,zS,QS,KS,tA,eA,sA,aA,FA,GA,UA,VA,zA,HA,ZA,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk,mk];var Lk=[gk,gk,yM,gk,vM,gk,wM,gk,xM,gk,TM,gk,SM,gk,AM,gk,CM,gk,EM,gk,PM,gk,DM,gk,MM,gk,RM,gk,IM,gk,OM,gk,kM,gk,LM,gk,jM,gk,BM,gk,FM,gk,ax,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk,gk];var jk=[yk,yk,GM,yk,NM,yk,UM,yk,WM,yk,VM,yk,XM,yk,zM,yk,qM,yk,HM,yk,YM,yk,ZM,yk,QM,yk,KM,yk,$M,yk,tR,yk,eR,yk,iR,yk,nR,yk,rR,yk,oR,yk,Ax,kx,Ux,Yx,vC,yk,yk,yk,yk,yk,yk,yk,yk,yk,yk,yk,yk,yk,yk,yk,yk,yk];var Bk=[vk,vk,aR,vk,cR,vk,uR,vk,lR,vk,hR,vk,_R,vk,pR,vk,dR,vk,fR,vk,bR,vk,mR,vk,gR,vk,yR,vk,vR,vk,wR,vk,xR,vk,TR,vk,SR,vk,AR,vk,CR,vk,sx,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk,vk];var Fk=[wk,wk,PR,wk,DR,wk,MR,wk,RR,wk,IR,wk,OR,wk,kR,wk,LR,wk,jR,wk,BR,wk,FR,wk,JR,wk,GR,wk,NR,wk,UR,wk,WR,wk,VR,wk,XR,wk,zR,wk,qR,wk,Qw,Kw,oT,sT,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk,wk];var Jk=[xk,xk,YR,xk,ZR,xk,QR,xk,KR,xk,$R,xk,tI,xk,eI,xk,iI,xk,nI,xk,rI,xk,oI,xk,sI,xk,aI,xk,cI,xk,uI,xk,lI,xk,hI,xk,_I,xk,pI,xk,dI,xk,Tk,oE,AE,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk,xk];var Gk=[Sk,Sk,bI,Sk,mI,Sk,gI,Sk,yI,Sk,vI,Sk,wI,Sk,xI,Sk,TI,Sk,SI,Sk,AI,Sk,CI,Sk,EI,Sk,PI,Sk,DI,Sk,MI,Sk,RI,Sk,II,Sk,OI,Sk,kI,Sk,LI,Sk,_x,Dx,Bx,zx,$x,ET,jT,XT,tS,lS,yS,DS,FS,qS,iA,Sk,Sk,Sk,Sk,Sk,Sk,Sk];var Nk=[Ak,Ak,BI,Ak,FI,Ak,JI,Ak,GI,Ak,NI,Ak,UI,Ak,WI,Ak,VI,Ak,XI,Ak,zI,Ak,qI,Ak,HI,Ak,YI,Ak,ZI,Ak,QI,Ak,KI,Ak,$I,Ak,tO,Ak,eO,Ak,iO,Ak,pE,xE,RE,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak,Ak];var Uk=[Ck,Ck,rO,Ck,oO,Ck,sO,Ck,aO,Ck,cO,Ck,uO,Ck,lO,Ck,hO,Ck,_O,Ck,pO,Ck,dO,Ck,fO,Ck,bO,Ck,mO,Ck,gO,Ck,yO,Ck,vO,Ck,wO,Ck,xO,Ck,TO,Ck,Ww,vx,Sx,Ox,Nx,Hx,OT,UT,QT,aS,bS,CS,LS,VS,$S,cA,LA,Ck,Ck,Ck,Ck,Ck];var Wk=[Ek,Ek,AO,Ek,CO,Ek,EO,Ek,PO,Ek,DO,Ek,MO,Ek,RO,Ek,IO,Ek,OO,Ek,kO,Ek,LO,Ek,jO,Ek,BO,Ek,FO,Ek,JO,Ek,GO,Ek,NO,Ek,UO,Ek,WO,Ek,VO,Ek,Ex,Mx,Vx,Qx,BA,JA,NA,WA,XA,qA,YA,Ek,Ek,Ek,Ek,Ek,Ek,Ek,Ek,Ek,Ek,Ek];var Vk=[Pk,Pk,zO,Pk,qO,Pk,HO,Pk,YO,Pk,ZO,Pk,QO,Pk,KO,Pk,$O,Pk,tk,Pk,ek,Pk,ik,Pk,nk,Pk,rk,Pk,ok,Pk,sk,Pk,ak,Pk,ck,Pk,uk,Pk,lk,Pk,hk,Pk,rx,ox,cx,Px,jx,Xx,Kx,aT,hT,dT,bT,gT,vT,xT,fE,SE,OE,Pk,Pk,Pk,Pk,Pk];return{_emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0:nb,_emscripten_bind_b2WeldJointDef_get_collideConnected_0:th,_emscripten_bind_b2ChainShape_get_m_count_0:hp,_emscripten_bind_b2Profile_get_collide_0:Rr,_emscripten_bind_b2Shape_ComputeAABB_3:Ze,_emscripten_bind_b2FrictionJointDef_set_userData_1:ia,_llvm_cttz_i32:HE,_emscripten_bind_b2Joint_GetBodyA_0:ye,_emscripten_bind_b2World_IsLocked_0:Oc,_emscripten_bind_b2Draw_GetFlags_0:de,_emscripten_bind_b2FrictionJoint_IsActive_0:sy,_emscripten_bind_b2Color_set_g_1:Ip,_emscripten_bind_b2WheelJointDef_get_frequencyHz_0:ol,_emscripten_bind_b2RopeJointDef_set_localAnchorA_1:bv,_emscripten_bind_b2PolygonShape_RayCast_4:bd,_emscripten_bind_b2World_GetTreeBalance_0:Dc,_emscripten_bind_b2ChainShape_get_m_vertices_0:up,_emscripten_bind_JSDraw_DrawSolidCircle_4:Ff,_emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0:Py,_emscripten_bind_b2FixtureDef_get_filter_0:Gs,_emscripten_bind_b2FrictionJointDef_get_type_0:$s,_emscripten_bind_b2WeldJoint___destroy___0:qh,_emscripten_bind_b2RayCastInput_get_p1_0:td,_emscripten_bind_b2EdgeShape_set_m_hasVertex3_1:qd,_emscripten_bind_b2JointEdge_set_joint_1:Kh,_emscripten_bind_b2WheelJointDef_set_motorSpeed_1:rl,_emscripten_bind_b2Fixture___destroy___0:fn,_emscripten_bind_b2PulleyJoint_SetUserData_1:Ob,_emscripten_bind_b2World_SetWarmStarting_1:gc,_emscripten_bind_JSDraw_DrawCircle_3:Bf,_emscripten_bind_b2WeldJoint_IsActive_0:Xh,_emscripten_bind_b2EdgeShape_get_m_hasVertex0_0:Vd,_emscripten_bind_b2BodyDef_set_type_1:Yr,_emscripten_bind_b2ChainShape_ComputeAABB_3:ap,___udivmoddi4:YE,_emscripten_enum_b2ShapeType_e_polygon:nw,_emscripten_bind_b2JointEdge_get_prev_0:$h,_emscripten_bind_b2WeldJoint_GetReactionTorque_1:Nh,_emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1:Ta,_emscripten_bind_b2BodyDef_get_position_0:Zr,_emscripten_bind_b2RopeJointDef_get_localAnchorB_0:mv,_emscripten_bind_b2RevoluteJointDef_set_userData_1:Cf,_emscripten_bind_b2World_SetContactFilter_1:ec,_emscripten_bind_b2World_GetJointList_0:dc,_emscripten_bind_b2WheelJointDef_get_collideConnected_0:ml,_emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0:xa,_emscripten_bind_b2FixtureDef_set_restitution_1:Ls,_emscripten_bind_b2EdgeShape_GetChildCount_0:Rd,_emscripten_bind_b2Mat33_get_ey_0:Ni,_emscripten_bind_b2MotorJointDef_Initialize_2:Ov,_emscripten_bind_b2World_GetGravity_0:Ic,_emscripten_bind_b2FrictionJoint_GetNext_0:ny,_emscripten_bind_b2Profile_get_broadphase_0:Nr,_emscripten_bind_b2PulleyJointDef_get_bodyA_0:S_,_emscripten_bind_b2PrismaticJoint_SetLimits_2:Yc,_emscripten_bind_b2PulleyJointDef_get_localAnchorA_0:l_,_emscripten_bind_b2DistanceJoint_GetAnchorA_0:xi,_emscripten_bind_b2DistanceJointDef_set_userData_1:Lm,_emscripten_bind_b2DistanceJointDef_set_dampingRatio_1:Rm,_emscripten_bind_b2RopeJointDef_set_collideConnected_1:Mv,_emscripten_bind_b2ChainShape_set_m_nextVertex_1:bp,_emscripten_bind_JSContactListener_EndContact_1:Pu,_emscripten_bind_b2MassData_set_mass_1:oh,_emscripten_bind_b2Vec3_get_x_0:ss,_emscripten_bind_b2ChainShape_CreateChain_2:$_,_emscripten_bind_b2RopeJoint_GetUserData_0:Yp,_emscripten_bind_b2World_DestroyBody_1:oc,_emscripten_bind_b2Profile_get_solvePosition_0:Jr,_emscripten_bind_b2Shape_RayCast_4:Ye,_emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0:mb,_emscripten_bind_b2Mat33___destroy___0:Xi,_emscripten_bind_b2GearJoint_GetReactionTorque_1:wh,_emscripten_bind_b2WeldJointDef_set_collideConnected_1:eh,_emscripten_bind_b2JointDef_get_collideConnected_0:We,_emscripten_bind_b2RevoluteJoint___destroy___0:nv,_emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0:r_,_emscripten_bind_b2World_SetAutoClearForces_1:kc,_emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1:Oa,_emscripten_bind_b2BodyDef_set_position_1:Qr,_emscripten_bind_b2Transform_get_q_0:q_,_emscripten_bind_b2PolygonShape_set_m_count_1:xd,_emscripten_bind_b2Contact_GetNext_0:am,_emscripten_bind_b2MotorJointDef_set_userData_1:qv,_emscripten_bind_b2GearJoint_GetJoint1_0:hh,_emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0:Kf,_emscripten_bind_b2MotorJoint_SetMaxTorque_1:_r,_emscripten_bind_b2GearJoint_GetAnchorA_0:gh,_emscripten_enum_b2JointType_e_mouseJoint:hw,_emscripten_bind_b2MouseJointDef_set_bodyA_1:Qb,_emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1:il,_emscripten_enum_b2JointType_e_revoluteJoint:aw,_emscripten_bind_b2World_SetContactListener_1:ic,_emscripten_bind_b2Body_IsAwake_0:Rg,_emscripten_bind_b2JointEdge_set_other_1:Zh,_emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0:Fy,_emscripten_bind_b2MotorJoint_SetCorrectionFactor_1:dr,_emscripten_bind_b2FixtureDef_get_density_0:js,_emscripten_bind_b2GearJoint_GetRatio_0:dh,_emscripten_bind_b2Vec2_get_x_0:Ho,_emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0:ka,_emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0:My,_emscripten_bind_b2MotorJointDef_get_collideConnected_0:Kv,_emscripten_bind_b2MouseJoint_IsActive_0:Xn,_emscripten_bind_b2WheelJointDef_set_bodyB_1:bl,_emscripten_bind_b2PulleyJointDef_set_localAnchorB_1:p_,_emscripten_bind_b2FixtureDef_get_userData_0:Ms,_emscripten_bind_b2FrictionJointDef_set_collideConnected_1:ca,_emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0:Ia,_emscripten_bind_b2GearJoint_GetCollideConnected_0:Ch,_emscripten_bind_b2RopeJoint_GetLocalAnchorB_0:Bp,_emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0:Pa,_emscripten_bind_b2MouseJointDef_set_type_1:qb,_emscripten_bind_b2Body_ApplyAngularImpulse_2:sg,_emscripten_enum_b2JointType_e_frictionJoint:fw,_emscripten_bind_b2RayCastOutput_set_fraction_1:yu,_emscripten_bind_b2Color_set_r_1:Mp,_emscripten_bind_b2PulleyJoint_GetBodyB_0:Cb,_emscripten_bind_b2RayCastOutput_get_normal_0:bu,_emscripten_bind_b2World_GetTreeQuality_0:Mc,_emscripten_bind_b2BodyDef_set_gravityScale_1:xo,_emscripten_bind_b2RopeJointDef_set_bodyB_1:Pv,_emscripten_bind_b2PrismaticJoint_GetLowerLimit_0:qc,_emscripten_bind_b2AABB_get_lowerBound_0:xs,_emscripten_bind_b2WheelJoint_SetMotorSpeed_1:Yf,_emscripten_bind_b2MouseJoint_GetMaxForce_0:Mn,_emscripten_bind_b2Body_SetMassData_1:lg,_emscripten_bind_b2Vec2_Skew_0:qo,_emscripten_bind_b2BodyDef_get_angularVelocity_0:io,_emscripten_bind_b2WeldJoint_SetDampingRatio_1:Ih,_emscripten_bind_b2PrismaticJointDef___destroy___0:Ka,_emscripten_bind_b2Contact_IsTouching_0:rm,_emscripten_bind_b2Draw_SetFlags_1:pe,_emscripten_bind_b2AABB_Contains_1:vs,_emscripten_bind_b2DistanceJoint_GetNext_0:Ci,_emscripten_bind_b2EdgeShape_set_m_radius_1:Qd,_emscripten_bind_b2DistanceJointDef_get_dampingRatio_0:Mm,_emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0:hi,_emscripten_bind_b2PrismaticJoint_GetType_0:nu,_emscripten_bind_b2Fixture_GetRestitution_0:hn,_emscripten_bind_b2Transform_set_q_1:H_,_emscripten_bind_b2PolygonShape___destroy___0:Ed,_emscripten_bind_b2AABB_get_upperBound_0:Ss,_emscripten_bind_b2Transform___destroy___0:Y_,_emscripten_bind_b2Body_GetLinearVelocity_0:$m,_emscripten_bind_b2CircleShape_set_m_radius_1:Il,_emscripten_bind_b2EdgeShape_set_m_hasVertex0_1:Xd,_emscripten_bind_b2RopeJoint_GetMaxLength_0:Jp,_emscripten_bind_b2GearJoint_GetUserData_0:Th,_emscripten_bind_b2MotorJoint_GetCollideConnected_0:Er,_emscripten_bind_b2GearJointDef_set_type_1:gy,_emscripten_bind_b2DistanceJoint_SetDampingRatio_1:mi,_emscripten_bind_b2Contact_GetFixtureA_0:cm,_emscripten_bind_b2QueryCallback___destroy___0:Oe,_emscripten_bind_b2PulleyJointDef_get_ratio_0:g_,_emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0:Sa,_emscripten_bind_b2CircleShape_set_m_type_1:Ml,_emscripten_bind_b2Rot_get_c_0:nr,_emscripten_bind_b2RopeJoint_GetAnchorB_0:Xp,_emscripten_bind_b2AABB_set_upperBound_1:As,_emscripten_bind_b2MouseJointDef_get_collideConnected_0:tm,_emscripten_bind_b2WheelJointDef_set_dampingRatio_1:cl,_emscripten_bind_b2ContactImpulse___destroy___0:li,_emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0:va,_emscripten_bind_b2PulleyJointDef_set_lengthB_1:m_,_emscripten_bind_b2RayCastInput___destroy___0:sd,_emscripten_bind_b2Body_ApplyForceToCenter_2:ng,_emscripten_bind_JSDestructionListener_JSDestructionListener_0:ri,_emscripten_bind_b2WheelJointDef_set_localAnchorA_1:Hu,_emscripten_bind_b2FrictionJoint_GetBodyB_0:Kg,_emscripten_bind_b2WeldJointDef_set_bodyA_1:Ql,_emscripten_bind_b2DistanceJoint_GetBodyB_0:wi,_emscripten_enum_b2JointType_e_wheelJoint:pw,_emscripten_bind_b2WheelJoint_GetLocalAnchorB_0:Wf,_emscripten_bind_b2JointDef___destroy___0:Xe,_emscripten_enum_b2ShapeType_e_typeCount:ow,_emscripten_bind_b2FrictionJointDef_get_localAnchorA_0:Xs,_emscripten_bind_b2CircleShape_GetChildCount_0:xl,_emscripten_bind_b2BodyDef_get_bullet_0:fo,_emscripten_bind_b2Color_set_b_1:kp,_emscripten_bind_b2Mat33_get_ez_0:Wi,_emscripten_bind_b2MassData_get_center_0:sh,_emscripten_bind_b2PulleyJointDef_get_localAnchorB_0:__,_emscripten_bind_b2WheelJoint_GetReactionForce_1:ub,_emscripten_bind_b2World_SetSubStepping_1:xc,_emscripten_bind_b2Vec2_op_add_1:Go,_emscripten_bind_JSDraw_DrawSegment_3:Jf,_emscripten_bind_b2Joint_GetCollideConnected_0:De,_emscripten_bind_b2MotorJoint_GetReactionTorque_1:xr,_emscripten_bind_b2RevoluteJoint_GetJointAngle_0:Ry,_emscripten_bind_b2WheelJointDef___destroy___0:yl,_emscripten_bind_b2Vec3_SetZero_0:es,_emscripten_enum_b2JointType_e_pulleyJoint:lw,_emscripten_bind_b2ChainShape_get_m_nextVertex_0:fp,_emscripten_bind_b2Contact_SetEnabled_1:om,_emscripten_bind_b2Shape_set_m_radius_1:ei,_emscripten_bind_b2World_SetDebugDraw_1:nc,_emscripten_bind_b2ContactID_set_key_1:Su,_emscripten_bind_b2RevoluteJointDef_set_collideConnected_1:If,_malloc:eE,_emscripten_bind_b2Joint_GetAnchorB_0:xe,_emscripten_bind_b2Vec2_Normalize_0:Xo,_emscripten_bind_b2WheelJoint_GetJointSpeed_0:zf,_emscripten_bind_b2FrictionJointDef_set_localAnchorA_1:zs,_emscripten_bind_b2ChainShape_set_m_vertices_1:lp,_emscripten_bind_JSRayCastCallback_JSRayCastCallback_0:So,_emscripten_bind_b2RayCastInput_set_p2_1:nd,_emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0:yf,_emscripten_bind_b2PulleyJointDef_set_userData_1:T_,_emscripten_bind_b2WeldJoint_GetBodyA_0:jh,_emscripten_enum_b2DrawFlag_e_jointBit:Dw,_emscripten_bind_b2FixtureDef_get_isSensor_0:Fs,_llvm_bswap_i32:$E,_emscripten_bind_b2PulleyJointDef_set_bodyB_1:E_,_emscripten_bind_b2WeldJoint_GetLocalAnchorA_0:Ph,_emscripten_bind_b2WheelJoint_EnableMotor_1:Hf,_emscripten_bind_b2RevoluteJoint_GetJointSpeed_0:Iy,_emscripten_bind_b2WheelJointDef_get_userData_0:hl,_emscripten_bind_JSDraw_DrawSolidPolygon_3:jf,_emscripten_bind_b2Rot_Set_1:Zn,_emscripten_bind_b2MotorJoint_GetMaxForce_0:hr,_emscripten_bind_JSDraw___destroy___0:Nf,_emscripten_bind_b2MouseJointDef___destroy___0:im,_emscripten_bind_b2Mat33_Solve22_1:ji,_emscripten_bind_b2Profile_set_solvePosition_1:Gr,_emscripten_bind_b2ContactFilter___destroy___0:ni,_emscripten_bind_b2WheelJoint_GetLocalAnchorA_0:Uf,_emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1:gp,_emscripten_bind_b2PrismaticJoint___destroy___0:fu,_emscripten_bind_b2GearJoint___destroy___0:Eh,_emscripten_bind_b2PrismaticJoint_GetJointTranslation_0:Wc,_emscripten_bind_b2ManifoldPoint_get_id_0:F_,_emscripten_bind_b2CircleShape_get_m_radius_0:Rl,_emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0:$c,_emscripten_bind_b2Rot_SetIdentity_0:Qn,_emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0:gb,_emscripten_bind_b2Vec3_op_add_1:ns,_emscripten_bind_b2FrictionJoint_GetType_0:Zg,_emscripten_bind_b2MotorJoint_GetBodyA_0:mr,_emscripten_bind_b2MouseJointDef_get_dampingRatio_0:Vb,_emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0:Ny,_emscripten_bind_b2WheelJoint_GetNext_0:hb,_emscripten_bind_b2ChainShape_set_m_type_1:xp,_emscripten_bind_b2Contact_GetFriction_0:pm,_emscripten_bind_b2Mat33_Solve33_1:Li,_emscripten_bind_b2Vec3_get_y_0:cs,_emscripten_bind_b2World_b2World_1:$a,_emscripten_bind_b2MouseJointDef_get_bodyB_0:Kb,_emscripten_bind_b2Shape_TestPoint_2:He,_emscripten_bind_b2Body_GetWorldVector_1:pg,_emscripten_bind_b2Vec3_Set_3:is,_emscripten_bind_b2WeldJointDef_get_frequencyHz_0:Ul,_emscripten_bind_b2GearJointDef_set_ratio_1:by,_emscripten_bind_b2Manifold___destroy___0:ya,_emscripten_bind_b2PulleyJointDef_set_lengthA_1:f_,_emscripten_bind_b2Contact_IsEnabled_0:sm,_emscripten_bind_b2World_CreateJoint_1:sc,_emscripten_bind_b2PulleyJointDef_set_ratio_1:y_,_emscripten_bind_b2World_GetAllowSleeping_0:mc,_emscripten_bind_b2JointEdge_set_prev_1:t_,_emscripten_bind_b2RevoluteJointDef_get_upperAngle_0:ff,_emscripten_bind_b2Body_GetLocalPoint_1:dg,_emscripten_bind_b2PrismaticJoint_GetCollideConnected_0:du,_emscripten_bind_b2RopeJointDef_get_userData_0:Tv,_emscripten_bind_b2DistanceJoint_IsActive_0:Di,_emscripten_bind_b2RopeJoint_GetLimitState_0:Gp,_emscripten_bind_b2Profile_get_solveTOI_0:Wr,_emscripten_bind_b2Vec2_b2Vec2_0:jo,_emscripten_bind_b2DistanceJoint_GetAnchorB_0:Ti,_emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0:el,_emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1:sf,_emscripten_bind_b2CircleShape_get_m_p_0:El,_emscripten_bind_b2ContactFeature_get_indexA_0:Eo,_emscripten_bind_b2MotorJointDef_b2MotorJointDef_0:Iv,_emscripten_bind_b2RevoluteJoint_EnableLimit_1:ky,_emscripten_bind_b2PulleyJoint_GetCollideConnected_0:Lb,_emscripten_bind_b2JointDef_get_userData_0:Be,_emscripten_bind_b2Body_GetPosition_0:Hm,_emscripten_bind_b2Profile___destroy___0:Xr,_emscripten_bind_b2ContactEdge_get_prev_0:uv,_emscripten_bind_b2DistanceJoint_SetFrequency_1:fi,_emscripten_enum_b2ShapeType_e_chain:rw,_emscripten_bind_b2MouseJoint_GetAnchorA_0:Fn,_emscripten_enum_b2ContactFeatureType_e_vertex:Ow,_emscripten_bind_b2Fixture_GetBody_0:$i,_emscripten_bind_b2ContactImpulse_set_count_1:ui,_emscripten_bind_b2PulleyJointDef_get_bodyB_0:C_,_emscripten_bind_b2RopeJoint_IsActive_0:Qp,_emscripten_bind_b2CircleShape_b2CircleShape_0:vl,_emscripten_bind_b2RevoluteJoint_GetReactionTorque_1:Qy,_emscripten_bind_b2Fixture_SetDensity_1:an,_emscripten_bind_b2ChainShape_get_m_prevVertex_0:pp,_emscripten_bind_b2World_ClearForces_0:uc,_emscripten_bind_b2Vec3___destroy___0:_s,_emscripten_bind_b2WeldJointDef_get_dampingRatio_0:Vl,_emscripten_bind_b2WheelJointDef_set_userData_1:_l,_emscripten_bind_b2WeldJoint_SetFrequency_1:Mh,_emscripten_bind_b2RopeJoint_GetReactionTorque_1:qp,_emscripten_bind_JSContactListener_PreSolve_2:Du,_emscripten_bind_b2Body_SetFixedRotation_1:kg,_emscripten_bind_b2RayCastOutput_set_normal_1:mu,_emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1:cf,_emscripten_bind_b2DistanceJoint_GetDampingRatio_0:gi,_emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1:Uy,_emscripten_bind_b2RevoluteJoint_EnableMotor_1:Jy,_emscripten_bind_b2MouseJointDef_set_bodyB_1:$b,_emscripten_bind_b2CircleShape_GetType_0:wl,_emscripten_bind_b2PolygonShape_GetType_0:pd,_emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1:Da,_emscripten_bind_b2RopeJointDef_get_collideConnected_0:Dv,_emscripten_bind_b2FixtureDef_set_filter_1:Ns,_emscripten_bind_b2Body_ApplyTorque_2:rg,_emscripten_bind_b2Fixture_SetFilterData_1:Zi,_emscripten_bind_b2FrictionJointDef_get_userData_0:ea,_emscripten_bind_b2RayCastCallback___destroy___0:Re,_emscripten_bind_b2Rot_b2Rot_0:Hn,_emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1:Kc,_emscripten_bind_b2MotorJoint_SetUserData_1:Ar,_emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0:Nc,_emscripten_bind_b2MotorJoint_GetBodyB_0:gr,_emscripten_bind_b2Transform_Set_2:V_,_emscripten_bind_b2MouseJoint_SetTarget_1:En,_emscripten_bind_b2ContactEdge_set_contact_1:cv,_emscripten_bind_b2RevoluteJointDef_get_enableLimit_0:hf,_emscripten_bind_b2RevoluteJoint_GetUserData_0:$y,_emscripten_bind_b2Profile_set_solveTOI_1:Vr,_emscripten_bind_b2PrismaticJointDef_set_type_1:Wa,_emscripten_bind_b2GearJointDef_get_userData_0:yy,_emscripten_bind_b2RevoluteJoint_GetAnchorB_0:Yy,_emscripten_bind_b2FrictionJointDef___destroy___0:ua,_emscripten_bind_b2PrismaticJoint_GetReactionForce_1:cu,_emscripten_bind_b2Transform_b2Transform_0:N_,_emscripten_bind_b2MouseJoint_GetCollideConnected_0:zn,_emscripten_enum_b2LimitState_e_equalLimits:ww,_emscripten_bind_b2Body_IsFixedRotation_0:Lg,_emscripten_enum_b2DrawFlag_e_shapeBit:Pw,_emscripten_bind_b2RevoluteJointDef_set_bodyB_1:Mf,_emscripten_bind_b2Body_GetContactList_0:Fg,_emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1:ib,_emscripten_bind_b2DistanceJointDef_set_length_1:Em,_emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0:_i,_emscripten_bind_b2Mat33_set_ey_1:Ui,_bitshift64Lshr:XE,_emscripten_bind_b2DistanceJointDef_get_type_0:Im,_emscripten_bind_b2Draw_ClearFlags_1:be,_emscripten_bind_b2WeldJoint_GetType_0:Lh,_emscripten_bind_b2MotorJoint_GetMaxTorque_0:pr,_emscripten_bind_b2Body_IsActive_0:Og,_emscripten_bind_b2Contact_ResetRestitution_0:mm,_emscripten_bind_b2FrictionJointDef_get_bodyA_0:na,_emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0:R_,_emscripten_bind_b2EdgeShape_set_m_type_1:Yd,_emscripten_enum_b2JointType_e_unknownJoint:sw,_emscripten_bind_b2RevoluteJointDef_set_enableMotor_1:gf,_emscripten_bind_b2PulleyJoint_IsActive_0:kb,_emscripten_bind_b2MouseJoint_GetNext_0:Un,_emscripten_bind_b2RevoluteJoint_SetUserData_1:tv,_emscripten_bind_b2Manifold_get_localPoint_0:pa,_emscripten_bind_b2PulleyJointDef_get_lengthB_0:b_,_emscripten_bind_b2PolygonShape_GetChildCount_0:dd,_emscripten_bind_b2ChainShape_CreateLoop_2:K_,_emscripten_bind_b2GearJointDef_get_joint1_0:hy,_emscripten_bind_b2PulleyJoint_GetNext_0:Rb,_emscripten_bind_b2PrismaticJoint_GetMotorForce_1:iu,_emscripten_bind_b2Body_SetUserData_1:Ng,_emscripten_bind_b2GearJoint_IsActive_0:Ah,_emscripten_bind_b2JointDef_get_bodyB_0:Ne,_emscripten_bind_b2PulleyJointDef_get_collideConnected_0:P_,_emscripten_bind_b2Fixture_GetMassData_1:sn,_emscripten_bind_b2ContactEdge_set_next_1:_v,_emscripten_bind_b2RevoluteJointDef_set_bodyA_1:Pf,_emscripten_bind_b2BodyDef_set_allowSleep_1:uo,_emscripten_bind_b2PulleyJoint_GetType_0:Sb,_emscripten_bind_b2WeldJointDef_set_localAnchorA_1:Bl,_emscripten_bind_b2Profile_set_step_1:Mr,_emscripten_bind_b2ContactEdge_set_other_1:sv,_emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0:Tb,_emscripten_bind_b2Vec2_op_mul_1:Uo,_emscripten_bind_b2MouseJointDef_set_userData_1:Yb,_emscripten_bind_b2MotorJoint_GetType_0:br,_emscripten_bind_b2RopeJoint_GetAnchorA_0:Vp,_emscripten_bind_b2RevoluteJoint_GetBodyB_0:qy,_emscripten_bind_b2World_GetContactCount_0:Ec,_emscripten_bind_b2MotorJointDef_set_correctionFactor_1:Wv,_emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1:B_,_emscripten_bind_b2GearJointDef_set_joint2_1:dy,_emscripten_bind_b2PulleyJoint_GetUserData_0:Ib,_emscripten_bind_b2PulleyJointDef___destroy___0:M_,_emscripten_bind_b2MouseJoint_GetBodyB_0:Bn,_emscripten_bind_b2PolygonShape_TestPoint_2:fd,_emscripten_bind_b2EdgeShape_set_m_vertex3_1:Wd,_emscripten_bind_b2PolygonShape_b2PolygonShape_0:ad,_emscripten_bind_b2PolygonShape_Set_2:cd,_emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1:Qf,_emscripten_bind_b2GearJoint_GetReactionForce_1:vh,_emscripten_bind_b2DistanceJointDef_get_localAnchorA_0:xm,_emscripten_bind_b2MassData_set_center_1:ah,_emscripten_bind_b2Contact_SetTangentSpeed_1:gm,_emscripten_bind_b2FrictionJointDef_get_localAnchorB_0:qs,_emscripten_bind_b2BodyDef_get_active_0:mo,_emscripten_bind_b2Body_GetAngularVelocity_0:eg,_emscripten_bind_b2CircleShape_set_m_p_1:Pl,_i64Add:WE,_emscripten_bind_b2WheelJointDef_Initialize_4:zu,_emscripten_bind_b2WeldJointDef_set_dampingRatio_1:Xl,_emscripten_bind_b2Body_SetLinearVelocity_1:Km,_emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1:tu,_emscripten_bind_b2PrismaticJointDef_get_userData_0:Va,_emscripten_bind_b2ContactFeature_set_typeB_1:ko,_emscripten_bind_b2RevoluteJoint_GetBodyA_0:zy,_emscripten_bind_b2ContactID_set_cf_1:xu,_emscripten_bind_b2World_GetBodyList_0:pc,_emscripten_bind_b2Body_GetGravityScale_0:xg,_emscripten_bind_b2ContactEdge_set_prev_1:lv,_emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0:Wy,_emscripten_bind_b2Fixture_GetNext_0:tn,_emscripten_bind_b2FrictionJointDef_set_localAnchorB_1:Hs,_emscripten_bind_b2ContactEdge_get_next_0:hv,_emscripten_bind_b2ChainShape_get_m_type_0:wp,_emscripten_bind_b2GearJointDef_get_bodyA_0:wy,_emscripten_bind_b2DistanceJointDef_set_frequencyHz_1:Dm,_emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0:af,_emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0:uf,_emscripten_bind_JSContactFilter___destroy___0:ef,_memset:VE,_emscripten_bind_b2PolygonShape_get_m_radius_0:Ad,_emscripten_enum_b2BodyType_b2_kinematicBody:Cw,_emscripten_bind_b2RopeJointDef_get_bodyA_0:Av,_emscripten_enum_b2ManifoldType_e_faceA:Tw,_emscripten_enum_b2ManifoldType_e_faceB:Sw,_emscripten_bind_b2FixtureDef_b2FixtureDef_0:Es,_emscripten_bind_b2PrismaticJoint_SetUserData_1:_u,_emscripten_bind_b2EdgeShape_get_m_hasVertex3_0:zd,_emscripten_bind_b2ManifoldPoint_get_normalImpulse_0:k_,_emscripten_enum_b2ShapeType_e_edge:iw,_emscripten_bind_b2MotorJointDef_set_type_1:Xv,_emscripten_bind_b2BodyDef_set_active_1:go,_emscripten_bind_b2DistanceJointDef_set_localAnchorB_1:Am,_emscripten_bind_b2Body_GetWorldPoint_1:_g,_emscripten_bind_b2GearJointDef_get_bodyB_0:Ty,_emscripten_bind_JSContactFilter_ShouldCollide_2:tf,_emscripten_bind_b2JointEdge_b2JointEdge_0:Hh,_emscripten_bind_b2RevoluteJointDef_get_bodyA_0:Ef,_emscripten_bind_b2Joint_GetReactionTorque_1:Se,_emscripten_bind_b2RevoluteJointDef_set_type_1:Sf,_emscripten_bind_b2RopeJointDef_b2RopeJointDef_0:dv,_emscripten_bind_b2BodyDef_get_linearDamping_0:ro,_emscripten_bind_b2World_Step_3:cc,_emscripten_bind_b2CircleShape_RayCast_4:Sl,_emscripten_bind_b2Profile_get_step_0:Dr,_emscripten_bind_b2AABB_RayCast_2:ws,_emscripten_bind_b2DistanceJoint_GetLength_0:di,_emscripten_bind_b2PulleyJoint_GetLengthB_0:vb,_emscripten_bind_b2Filter_set_categoryBits_1:gn,_emscripten_bind_b2MotorJoint_GetUserData_0:Sr,_emscripten_bind_b2FrictionJoint_GetReactionTorque_1:iy,_emscripten_bind_b2Shape_get_m_type_0:Ke,_emscripten_bind_b2MouseJoint_SetDampingRatio_1:On,_emscripten_bind_b2World_GetAutoClearForces_0:Lc,_emscripten_enum_b2ShapeType_e_circle:ew,_emscripten_bind_b2BodyDef_set_fixedRotation_1:po,_emscripten_bind_b2Vec2_b2Vec2_2:Bo,_emscripten_bind_b2Manifold_get_type_0:fa,_emscripten_bind_b2RevoluteJoint_GetLowerLimit_0:Ly,_emscripten_bind_b2WeldJoint_GetCollideConnected_0:zh,_emscripten_bind_JSContactListener___destroy___0:Ru,_emscripten_bind_b2BodyDef_set_linearVelocity_1:eo,_emscripten_bind_b2JointDef_set_collideConnected_1:Ve,_emscripten_bind_b2MotorJoint___destroy___0:Pr,_emscripten_bind_b2Body_GetAngularDamping_0:vg,_emscripten_bind_b2Fixture_RayCast_3:on,_emscripten_bind_b2Profile_set_broadphase_1:Ur,_emscripten_bind_b2GearJointDef_get_collideConnected_0:Ay,_emscripten_bind_b2RopeJointDef_get_maxLength_0:yv,_emscripten_bind_b2MouseJointDef_get_bodyA_0:Zb,_emscripten_bind_b2Body_SetBullet_1:Cg,_emscripten_bind_b2DistanceJoint_GetType_0:yi,_emscripten_bind_b2FixtureDef_get_restitution_0:ks,_emscripten_bind_b2Fixture_GetType_0:zi,_emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0:of,_emscripten_bind_b2PulleyJointDef_set_bodyA_1:A_,_emscripten_bind_b2Profile_set_solveInit_1:jr,_emscripten_bind_b2RopeJointDef_set_type_1:xv,_emscripten_bind_b2PrismaticJointDef_get_bodyB_0:Ha,_emscripten_bind_b2PulleyJointDef_get_userData_0:x_,_emscripten_bind_b2PrismaticJointDef_set_bodyB_1:Ya,_emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0:Ws,_i64Subtract:UE,_emscripten_bind_b2Vec2_op_sub_1:No,_free:iE,_emscripten_bind_b2MouseJoint_GetFrequency_0:In,_emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0:xb,_emscripten_bind_b2Manifold_get_localNormal_0:ha,_emscripten_bind_b2Vec3_b2Vec3_0:$o,_emscripten_bind_b2Body_SetSleepingAllowed_1:Pg,_emscripten_bind_b2RopeJoint_GetBodyB_0:Wp,_emscripten_bind_b2PrismaticJoint_GetAnchorA_0:su,_emscripten_bind_b2Manifold_set_pointCount_1:ga,_emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0:Zc,_emscripten_bind_b2WeldJoint_GetFrequency_0:Rh,_emscripten_bind_b2WeldJoint_GetLocalAnchorB_0:Dh,_emscripten_bind_b2Joint_GetUserData_0:Ce,_emscripten_bind_b2WheelJoint_GetAnchorB_0:cb,_emscripten_bind_b2PulleyJoint_GetAnchorB_0:Pb,_emscripten_bind_b2Manifold_set_type_1:ba,_emscripten_bind_b2Vec3_b2Vec3_3:ts,_emscripten_bind_b2RopeJointDef_set_maxLength_1:vv,_emscripten_bind_b2PrismaticJoint_GetBodyB_0:ou,_emscripten_bind_b2ChainShape_TestPoint_2:op,_emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0:Uc,_emscripten_bind_b2RayCastInput_get_p2_0:id,_emscripten_bind_b2Shape_GetChildCount_0:qe,_emscripten_bind_b2BodyDef_set_angle_1:$r,_emscripten_bind_b2WeldJoint_GetUserData_0:Wh,_emscripten_bind_b2WheelJointDef_get_localAnchorA_0:qu,_emscripten_bind_b2PulleyJointDef_set_type_1:w_,_emscripten_bind_b2Body_IsBullet_0:Eg,_emscripten_bind_b2MotorJointDef_set_bodyA_1:Yv,_emscripten_bind_b2Mat33_GetSymInverse33_1:Fi,_emscripten_bind_b2World_CreateBody_1:rc,_emscripten_bind_b2Body_ApplyLinearImpulse_3:og,_emscripten_bind_b2PolygonShape_ComputeMass_2:gd,_emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1:La,_emscripten_bind_b2MouseJoint_SetFrequency_1:Rn,_emscripten_bind_b2RopeJoint___destroy___0:$p,_emscripten_bind_b2BodyDef_set_awake_1:ho,_emscripten_bind_b2Vec2_get_y_0:Zo,_emscripten_bind_b2Body_CreateFixture_1:Wm,_emscripten_bind_b2Body_CreateFixture_2:Vm,_emscripten_bind_b2Body_SetActive_1:Ig,_emscripten_bind_b2WheelJoint___destroy___0:bb,_emscripten_bind_b2World_DestroyJoint_1:ac,_emscripten_bind_b2PolygonShape_ComputeAABB_3:md,_emscripten_bind_b2ContactFeature_get_typeA_0:Ro,_emscripten_bind_b2MouseJointDef_set_maxForce_1:Nb,_emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0:Jc,_emscripten_bind_b2EdgeShape_TestPoint_2:Id,_memcpy:qE,_emscripten_bind_b2PolygonShape_get_m_centroid_0:yd,_emscripten_bind_b2ChainShape___destroy___0:Ap,_emscripten_bind_b2GearJoint_SetUserData_1:Sh,_emscripten_bind_b2Vec3_set_z_1:hs,_emscripten_bind_b2PrismaticJointDef_set_enableLimit_1:Ra,_emscripten_bind_b2DistanceJoint_GetFrequency_0:bi,_emscripten_bind_b2Body_SetGravityScale_1:Tg,_emscripten_enum_b2ContactFeatureType_e_face:kw,_emscripten_bind_b2BodyDef_get_linearVelocity_0:to,_emscripten_bind_b2WheelJoint_IsMotorEnabled_0:qf,_emscripten_bind_b2PulleyJointDef_get_lengthA_0:d_,_emscripten_bind_b2Vec3_set_x_1:as,_emscripten_bind_b2Mat33_get_ex_0:Ji,_emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1:oi,_emscripten_bind_b2Shape___destroy___0:ii,___uremdi3:KE,_emscripten_bind_b2Mat22___destroy___0:Vu,_emscripten_bind_b2FixtureDef_set_friction_1:Os,_emscripten_bind_b2ContactID___destroy___0:Au,_emscripten_bind_b2DestructionListener___destroy___0:uy,_emscripten_bind_JSRayCastCallback_ReportFixture_4:Ao,_emscripten_bind_b2MotorJointDef_get_linearOffset_0:kv,_emscripten_bind_b2Draw___destroy___0:me,_emscripten_bind_b2PrismaticJoint_GetAnchorB_0:au,_emscripten_bind_b2PolygonShape_get_m_count_0:wd,_emscripten_enum_b2BodyType_b2_staticBody:Aw,_emscripten_bind_b2WeldJoint_GetAnchorB_0:Jh,_emscripten_bind_b2RevoluteJointDef_get_type_0:Tf,_emscripten_bind_b2GearJointDef_get_type_0:my,_emscripten_bind_b2ChainShape_GetType_0:np,_emscripten_bind_b2RayCastInput_get_maxFraction_0:rd,_emscripten_bind_b2GearJoint_GetBodyA_0:bh,_emscripten_bind_b2Body_GetLocalVector_1:fg,_emscripten_bind_b2PrismaticJoint_EnableLimit_1:zc,_emscripten_bind_b2FrictionJointDef_get_maxForce_0:Ys,_emscripten_bind_b2BodyDef_set_angularVelocity_1:no,_emscripten_bind_b2Body_SetLinearDamping_1:yg,_emscripten_bind_b2WheelJoint_GetBodyB_0:sb,_emscripten_bind_b2GearJointDef_get_joint2_0:py,_emscripten_bind_b2PrismaticJoint_IsActive_0:pu,_emscripten_bind_b2Vec3_get_z_0:ls,_emscripten_bind_b2MotorJoint_IsActive_0:Cr,_emscripten_enum_b2JointType_e_weldJoint:dw,_emscripten_bind_b2World_SetContinuousPhysics_1:vc,_emscripten_bind_b2MouseJointDef_get_target_0:Fb,_emscripten_bind_b2Body_SetTransform_2:zm,_emscripten_bind_b2MotorJointDef_set_maxTorque_1:Nv,_emscripten_bind_b2FrictionJointDef_set_maxForce_1:Zs,_emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0:vm,_emscripten_bind_b2PolygonShape_set_m_centroid_1:vd,_emscripten_bind_b2Mat33_GetInverse22_1:Bi,_emscripten_bind_b2PolygonShape_SetAsBox_4:ld,_emscripten_bind_b2EdgeShape_get_m_vertex2_0:Fd,_emscripten_bind_b2WheelJoint_GetReactionTorque_1:lb,_emscripten_bind_b2WheelJointDef_set_collideConnected_1:gl,_emscripten_bind_b2ContactFeature_set_typeA_1:Io,_emscripten_bind_b2Fixture_Dump_1:dn,_emscripten_bind_b2PrismaticJoint_GetReactionTorque_1:uu,_emscripten_bind_b2Manifold_set_localPoint_1:da,_emscripten_bind_b2DistanceJoint_SetUserData_1:Pi,_emscripten_bind_b2BodyDef_set_bullet_1:bo,_emscripten_bind_b2RayCastOutput___destroy___0:vu,_emscripten_bind_b2World_DrawDebugData_0:lc,___cxa_can_catch:JE,_emscripten_bind_b2RopeJointDef_get_localAnchorA_0:fv,_emscripten_bind_b2Profile_set_solveVelocity_1:Fr,_emscripten_bind_b2AABB_GetCenter_0:fs,_emscripten_bind_b2Filter_set_groupIndex_1:xn,_emscripten_bind_b2JointDef_b2JointDef_0:ke,_emscripten_bind_b2Rot_set_c_1:rr,_emscripten_bind_b2GearJointDef_b2GearJointDef_0:ly,_emscripten_bind_b2EdgeShape_get_m_vertex0_0:Gd,_emscripten_bind_b2DistanceJoint_GetReactionForce_1:Si,_emscripten_bind_b2PrismaticJoint_GetJointSpeed_0:Vc,_emscripten_bind_b2MouseJointDef_set_frequencyHz_1:Wb,_emscripten_bind_b2Joint_GetAnchorA_0:we,_emscripten_bind_b2Contact_GetRestitution_0:bm,_emscripten_bind_b2ContactEdge_get_contact_0:av,_emscripten_bind_b2RevoluteJointDef_get_userData_0:Af,_emscripten_bind_b2Fixture_GetAABB_1:pn,_emscripten_bind_b2PrismaticJointDef_set_collideConnected_1:Qa,_emscripten_bind_b2PrismaticJointDef_set_localAxisA_1:Ea,_emscripten_bind_b2Contact_GetTangentSpeed_0:ym,_emscripten_enum_b2LimitState_e_atLowerLimit:yw,_emscripten_bind_b2MotorJoint_GetLinearOffset_0:ar,_emscripten_bind_b2WheelJointDef_get_bodyB_0:fl,_emscripten_bind_b2Rot_set_s_1:ir,_emscripten_bind_b2FrictionJoint_GetMaxTorque_0:Yg,_emscripten_bind_b2RevoluteJoint_GetType_0:Xy,_emscripten_bind_b2Body_DestroyFixture_1:Xm,_emscripten_bind_b2JointDef_set_bodyA_1:Ge,_emscripten_bind_b2WheelJointDef_get_localAnchorB_0:Yu,_emscripten_bind_b2ContactImpulse_get_count_0:ci,_emscripten_bind_b2World_GetJointCount_0:Cc,_emscripten_bind_b2WheelJoint_GetMotorSpeed_0:Zf,_emscripten_bind_b2WheelJointDef_get_dampingRatio_0:al,_emscripten_bind_b2RayCastOutput_get_fraction_0:gu,_emscripten_enum_b2ManifoldType_e_circles:xw,_emscripten_bind_b2GearJoint_SetRatio_1:ph,_emscripten_bind_JSDraw_DrawPolygon_3:Lf,_emscripten_bind_b2Filter___destroy___0:Tn,_emscripten_bind_b2JointEdge_set_next_1:i_,___cxa_is_pointer_type:GE,_emscripten_bind_b2BodyDef_get_fixedRotation_0:_o,_emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1:Na,_emscripten_bind_b2ChainShape_SetPrevVertex_1:tp,_emscripten_bind_b2Filter_get_categoryBits_0:mn,_emscripten_bind_b2MouseJoint_GetReactionTorque_1:Nn,_emscripten_bind_b2DistanceJointDef_set_collideConnected_1:Nm,_emscripten_bind_b2WheelJoint_GetUserData_0:_b,_emscripten_bind_b2Vec3_op_sub_1:rs,_emscripten_bind_b2MouseJoint_GetDampingRatio_0:kn,_emscripten_bind_b2Shape_GetType_0:ze,_emscripten_bind_b2AABB_IsValid_0:ds,_emscripten_bind_b2WheelJoint_GetBodyA_0:ob,_emscripten_bind_JSDraw_DrawTransform_1:Gf,_emscripten_bind_b2World_GetWarmStarting_0:yc,_emscripten_bind_b2PulleyJoint_GetLengthA_0:yb,_emscripten_bind_b2DistanceJointDef_get_frequencyHz_0:Pm,_emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1:Gy,_emscripten_bind_b2World___destroy___0:Fc,_emscripten_bind_b2ChainShape_get_m_hasNextVertex_0:yp,_emscripten_bind_b2ChainShape_SetNextVertex_1:ep,_emscripten_bind_b2Body_SetType_1:Sg,_emscripten_bind_b2Body_GetMass_0:ag,_emscripten_bind_b2AABB_b2AABB_0:ps,_emscripten_bind_b2Rot_b2Rot_1:Yn,_emscripten_enum_b2JointType_e_distanceJoint:uw,_emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0:mp,_emscripten_bind_b2MouseJoint_GetType_0:Ln,_emscripten_bind_JSQueryCallback___destroy___0:Cn,_emscripten_bind_b2WheelJointDef_set_enableMotor_1:tl,_emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1:df,_emscripten_bind_b2JointEdge___destroy___0:n_,_emscripten_bind_b2PulleyJoint_GetRatio_0:wb,_emscripten_bind_JSContactListener_BeginContact_1:Eu,_emscripten_bind_b2MotorJointDef_set_linearOffset_1:Lv,_emscripten_enum_b2JointType_e_motorJoint:mw,_emscripten_bind_b2JointEdge_get_next_0:e_,_emscripten_bind_b2RayCastInput_set_maxFraction_1:od,_emscripten_bind_b2WheelJointDef_get_bodyA_0:pl,_emscripten_bind_b2MouseJoint_GetBodyA_0:jn,_emscripten_bind_b2BodyDef_get_awake_0:lo,_emscripten_bind_b2Profile_get_solveInit_0:Lr,_emscripten_bind_b2WeldJointDef_get_referenceAngle_0:Gl,_emscripten_bind_b2RopeJointDef_set_userData_1:Sv,_emscripten_bind_b2Fixture_IsSensor_0:Yi,_emscripten_bind_b2WeldJoint_GetBodyB_0:Bh,_emscripten_bind_b2Contact_SetFriction_1:_m,_bitshift64Shl:zE,_emscripten_bind_b2Rot___destroy___0:or,_emscripten_bind_b2Filter_get_maskBits_0:yn,_emscripten_bind_b2Body_GetFixtureList_0:jg,_emscripten_bind_b2PulleyJoint___destroy___0:jb,_emscripten_bind_b2MouseJointDef_set_dampingRatio_1:Xb,_emscripten_bind_JSRayCastCallback___destroy___0:Co,_emscripten_bind_b2ContactListener___destroy___0:Ie,_emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1:Aa,_emscripten_enum_b2DrawFlag_e_pairBit:Rw,_emscripten_bind_b2FrictionJoint___destroy___0:cy,_emscripten_bind_b2WeldJoint_Dump_0:kh,_emscripten_bind_b2MotorJoint_SetMaxForce_1:lr,_emscripten_bind_b2WheelJointDef_get_type_0:ul,_emscripten_bind_b2CircleShape_ComputeAABB_3:Al,_emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0:Vg,_emscripten_bind_b2JointEdge_get_other_0:Yh,_emscripten_bind_b2GearJointDef_set_collideConnected_1:Cy,_emscripten_bind_b2WeldJointDef_b2WeldJointDef_0:kl,_emscripten_bind_b2Vec2_IsValid_0:zo,_emscripten_bind_b2PrismaticJointDef_set_bodyA_1:qa,_emscripten_bind_b2Fixture_SetRestitution_1:_n,_emscripten_bind_b2WheelJointDef_set_localAnchorB_1:Zu,_emscripten_bind_b2RevoluteJointDef_set_enableLimit_1:_f,_emscripten_bind_b2Mat22_Solve_1:Ju,_emscripten_bind_VoidPtr___destroy___0:zr,_emscripten_bind_b2RopeJoint_GetNext_0:Hp,_emscripten_bind_b2EdgeShape_get_m_type_0:Hd,_emscripten_bind_b2EdgeShape_RayCast_4:Od,_emscripten_bind_b2GearJointDef_get_ratio_0:fy,_emscripten_bind_b2Body_GetInertia_0:cg,_emscripten_bind_b2WeldJointDef_set_userData_1:Yl,_emscripten_bind_b2WheelJoint_GetCollideConnected_0:fb,_emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0:Gc,_emscripten_bind_b2RevoluteJointDef___destroy___0:Of,_emscripten_bind_b2MotorJointDef_get_correctionFactor_0:Uv,_emscripten_bind_b2ContactFeature_get_typeB_0:Oo,_emscripten_bind_b2ContactID_get_key_0:Tu,_emscripten_bind_b2MotorJoint_GetReactionForce_1:wr,_emscripten_bind_b2Rot_GetAngle_0:Kn,_emscripten_bind_b2World_SetAllowSleeping_1:bc,_emscripten_bind_b2MotorJoint_SetAngularOffset_1:cr,_emscripten_bind_b2ManifoldPoint_set_id_1:J_,_emscripten_bind_b2FrictionJoint_GetCollideConnected_0:ay,_emscripten_bind_b2WeldJointDef___destroy___0:ih,_emscripten_bind_b2MouseJoint___destroy___0:qn,_emscripten_bind_b2MotorJoint_GetAnchorA_0:yr,_emscripten_bind_b2Fixture_GetDensity_0:cn,_emscripten_bind_b2MouseJointDef_get_type_0:zb,_emscripten_bind_b2Vec2_Set_2:Jo,_emscripten_bind_b2WeldJointDef_get_type_0:zl,_emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1:xf,_emscripten_bind_b2Rot_get_s_0:er,_emscripten_bind_b2FrictionJoint_SetMaxTorque_1:Hg,_emscripten_bind_b2MouseJointDef_get_frequencyHz_0:Ub,_emscripten_bind_b2FrictionJoint_SetUserData_1:oy,_emscripten_bind_b2FixtureDef_set_userData_1:Rs,_emscripten_bind_b2DistanceJointDef_get_collideConnected_0:Gm,_emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1:lf,_emscripten_bind_b2ContactFeature___destroy___0:Lo,_emscripten_bind_b2DistanceJointDef_set_bodyB_1:Jm,_emscripten_bind_b2World_GetProxyCount_0:Sc,_emscripten_bind_JSQueryCallback_JSQueryCallback_0:Sn,_emscripten_bind_b2ChainShape_GetChildCount_0:rp,_emscripten_bind_b2MassData_b2MassData_0:nh,_emscripten_bind_b2Vec3_set_y_1:us,_emscripten_bind_b2AABB_Combine_1:gs,_emscripten_bind_b2AABB_Combine_2:ys,_emscripten_bind_b2PrismaticJoint_GetBodyA_0:ru,_emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0:eu,_emscripten_bind_b2AABB___destroy___0:Cs,_emscripten_bind_b2Body_IsSleepingAllowed_0:Dg,_emscripten_bind_b2MotorJoint_GetCorrectionFactor_0:fr,_emscripten_bind_b2Profile_get_solve_0:Or,_emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1:si,_emscripten_bind_b2PolygonShape_GetVertexCount_0:hd,_emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0:s_,_emscripten_bind_b2AABB_set_lowerBound_1:Ts,_emscripten_bind_b2MotorJointDef_set_angularOffset_1:Bv,_emscripten_bind_b2MouseJoint_SetMaxForce_1:Dn,_emscripten_bind_b2FrictionJointDef_get_bodyB_0:oa,_emscripten_bind_b2JointDef_set_userData_1:Fe,_emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0:j_,_emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0:wf,_emscripten_bind_b2RevoluteJointDef_get_bodyB_0:Df,_emscripten_bind_b2FixtureDef_set_isSensor_1:Js,_emscripten_bind_b2EdgeShape_b2EdgeShape_0:Pd,_emscripten_bind_b2FrictionJoint_GetReactionForce_1:ey,_emscripten_bind_b2MouseJoint_GetUserData_0:Wn,_emscripten_bind_b2DistanceJointDef_set_type_1:Om,_emscripten_bind_b2Rot_GetXAxis_0:$n,_emscripten_bind_b2Manifold_b2Manifold_0:la,_emscripten_bind_JSContactListener_PostSolve_2:Mu,_emscripten_bind_b2WeldJointDef_get_bodyB_0:Kl,_emscripten_bind_b2RopeJointDef_get_type_0:wv,_emscripten_bind_b2CircleShape_ComputeMass_2:Cl,_emscripten_bind_b2DistanceJointDef_get_localAnchorB_0:Sm,_emscripten_bind_b2PulleyJointDef_set_localAnchorA_1:h_,_emscripten_enum_b2BodyType_b2_dynamicBody:Ew,_emscripten_bind_b2CircleShape_TestPoint_2:Tl,_emscripten_bind_b2MotorJointDef_get_maxTorque_0:Gv,_emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1:mg,_emscripten_bind_b2Mat22_b2Mat22_0:Iu,_emscripten_bind_b2MouseJoint_GetAnchorB_0:Jn,_emscripten_bind_b2EdgeShape_set_m_vertex0_1:Nd,_emscripten_bind_b2GearJoint_GetBodyB_0:mh,_emscripten_bind_b2ChainShape_Clear_0:Q_,_emscripten_bind_b2CircleShape___destroy___0:Ol,_emscripten_bind_b2EdgeShape___destroy___0:Kd,_emscripten_bind_b2DistanceJointDef_get_bodyA_0:jm,_emscripten_bind_b2Contact_SetRestitution_1:fm,_emscripten_bind_b2BodyDef_get_angularDamping_0:so,_emscripten_bind_b2EdgeShape_get_m_vertex3_0:Ud,_emscripten_bind_b2Fixture_SetUserData_1:nn,_emscripten_bind_b2Transform_SetIdentity_0:W_,_emscripten_get_global_libc:yC,_emscripten_bind_b2GearJointDef_set_joint1_1:_y,_emscripten_bind_b2EdgeShape_set_m_vertex2_1:Jd,_emscripten_bind_b2ContactFeature_set_indexB_1:Mo,_emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1:bg,_emscripten_bind_b2Body_GetWorldCenter_0:Zm,_emscripten_bind_b2WeldJointDef_get_bodyA_0:Zl,_emscripten_bind_b2Mat22_set_ey_1:Wu,_emscripten_bind_b2WheelJointDef_set_frequencyHz_1:sl,_emscripten_bind_b2World_GetSubStepping_0:Tc,_emscripten_bind_b2Rot_GetYAxis_0:tr,_emscripten_bind_b2PrismaticJoint_EnableMotor_1:Qc,_emscripten_bind_b2WheelJointDef_get_localAxisA_0:Qu,_emscripten_bind_b2DistanceJoint___destroy___0:Ri,_emscripten_bind_b2EdgeShape_GetType_0:Md,_emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0:pf,_emscripten_bind_b2ManifoldPoint___destroy___0:G_,_emscripten_enum_b2JointType_e_prismaticJoint:cw,_emscripten_bind_b2MotorJoint_GetNext_0:Tr,_emscripten_bind_b2Vec2_Length_0:Wo,_emscripten_bind_b2Vec2_SetZero_0:Fo,_emscripten_bind_b2EdgeShape_get_m_vertex1_0:jd,_emscripten_bind_b2Fixture_GetUserData_0:en,_emscripten_bind_b2JointDef_set_bodyB_1:Ue,_emscripten_bind_b2Mat22_Set_2:Lu,_emscripten_bind_b2Body_GetType_0:Ag,_emscripten_bind_b2RevoluteJointDef_set_upperAngle_1:bf,_emscripten_bind_b2WeldJoint_GetNext_0:Uh,_emscripten_bind_b2Shape_get_m_radius_0:ti,_emscripten_bind_b2EdgeShape_ComputeAABB_3:kd,_emscripten_bind_b2BodyDef_get_type_0:Hr,_emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0:nf,_emscripten_bind_JSDestructionListener___destroy___0:ai,_emscripten_bind_b2MotorJointDef_get_type_0:Vv,_emscripten_bind_b2RopeJoint_GetLocalAnchorA_0:jp,_emscripten_bind_b2BodyDef_set_linearDamping_1:oo,_emscripten_bind_b2FrictionJoint_GetUserData_0:ry,_emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0:Ga,_emscripten_bind_b2Manifold_set_localNormal_1:_a,_emscripten_bind_b2JointDef_get_bodyA_0:Je,_emscripten_bind_b2Body_GetLinearDamping_0:gg,_emscripten_bind_b2WeldJointDef_set_frequencyHz_1:Wl,_emscripten_bind_b2PrismaticJointDef_set_enableMotor_1:Ba,_emscripten_bind_b2Mat22_SetIdentity_0:ju,_emscripten_bind_b2BodyDef_get_gravityScale_0:wo,_emscripten_bind_b2RevoluteJoint_GetAnchorA_0:Hy,_emscripten_bind_b2ChainShape_set_m_prevVertex_1:dp,_emscripten_bind_b2WheelJoint_GetAnchorA_0:ab,_emscripten_bind_b2DistanceJointDef_get_length_0:Cm,_emscripten_bind_b2WheelJointDef_set_type_1:ll,_emscripten_bind_b2PrismaticJointDef_set_userData_1:Xa,_emscripten_bind_b2FrictionJointDef_set_type_1:ta,_emscripten_bind_b2PrismaticJoint_GetUserData_0:hu,_sbrk:QE,_emscripten_bind_b2FrictionJointDef_get_collideConnected_0:aa,_emscripten_bind_b2WeldJointDef_set_referenceAngle_1:Nl,_emscripten_bind_b2FrictionJoint_GetAnchorA_0:$g,_emscripten_bind_b2RopeJoint_GetType_0:Np,_emscripten_bind_b2MassData_get_I_0:ch,_emscripten_bind_b2WheelJointDef_get_motorSpeed_0:nl,_emscripten_enum_b2JointType_e_ropeJoint:bw,_emscripten_bind_b2Filter_set_maskBits_1:vn,_emscripten_bind_b2RevoluteJointDef_get_enableMotor_0:mf,_emscripten_bind_b2MotorJointDef_set_collideConnected_1:$v,_emscripten_bind_b2Mat22_b2Mat22_2:Ou,_emscripten_bind_b2PrismaticJoint_GetNext_0:lu,_emscripten_bind_b2FrictionJointDef_set_bodyB_1:sa,_emscripten_bind_b2Mat22_b2Mat22_4:ku,_emscripten_bind_b2ChainShape_set_m_hasNextVertex_1:vp,_emscripten_bind_b2Mat22_GetInverse_0:Fu,_emscripten_bind_b2GearJointDef_set_bodyA_1:xy,_emscripten_bind_b2CircleShape_get_m_type_0:Dl,_emscripten_bind_b2Filter_get_groupIndex_0:wn,_emscripten_bind_b2ContactEdge_b2ContactEdge_0:rv,_emscripten_bind_b2BodyDef___destroy___0:To,_emscripten_bind_b2FrictionJointDef_set_maxTorque_1:Ks,_emscripten_bind_b2PolygonShape_GetVertex_1:_d,_emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1:u_,_emscripten_bind_b2RevoluteJointDef_get_collideConnected_0:Rf,_emscripten_bind_b2DistanceJointDef_set_bodyA_1:Bm,_emscripten_bind_b2WheelJoint_GetJointTranslation_0:Xf,_emscripten_bind_b2RevoluteJoint_SetLimits_2:By,_emscripten_bind_b2WeldJointDef_set_type_1:ql,_emscripten_bind_b2MotorJointDef___destroy___0:tw,_emscripten_bind_b2FixtureDef_set_density_1:Bs,_emscripten_bind_b2Shape_set_m_type_1:$e,_emscripten_bind_b2PulleyJoint_GetReactionForce_1:Db,_emscripten_bind_b2WheelJoint_GetMotorTorque_1:$f,_emscripten_bind_b2RopeJoint_SetUserData_1:Zp,_emscripten_bind_b2RopeJointDef___destroy___0:Rv,_emscripten_bind_b2WheelJoint_IsActive_0:db,_emscripten_bind_b2PrismaticJointDef_get_enableMotor_0:ja,_emscripten_bind_b2Transform_b2Transform_2:U_,_emscripten_bind_b2WeldJoint_GetReactionForce_1:Gh,_emscripten_bind_b2ChainShape_RayCast_4:sp,_emscripten_bind_b2PulleyJointDef_get_type_0:v_,_emscripten_bind_b2ChainShape_set_m_count_1:_p,_emscripten_bind_b2ContactID_get_cf_0:wu,_emscripten_bind_b2DistanceJointDef_Initialize_4:wm,_emscripten_bind_b2ChainShape_get_m_radius_0:Tp,_emscripten_bind_b2WheelJointDef_get_enableMotor_0:$u,_emscripten_bind_b2WeldJointDef_set_localAnchorB_1:Jl,_emscripten_bind_b2ChainShape_set_m_radius_1:Sp,_emscripten_bind_b2DistanceJoint_GetReactionTorque_1:Ai,_emscripten_bind_b2World_Dump_0:Bc,_emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0:Dy,_emscripten_bind_JSContactFilter_JSContactFilter_0:$d,_emscripten_bind_b2Profile_set_solve_1:kr,_emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0:c_,_emscripten_bind_b2WeldJoint_GetDampingRatio_0:Oh,_emscripten_bind_b2Color_get_b_0:Op,___udivdi3:ZE,_emscripten_bind_b2RopeJoint_GetReactionForce_1:zp,_emscripten_bind_b2PrismaticJointDef_get_enableLimit_0:Ma,_emscripten_bind_b2ManifoldPoint_set_localPoint_1:O_,_emscripten_bind_b2Fixture_GetFilterData_0:Qi,_emscripten_bind_b2Color_get_r_0:Dp,_emscripten_bind_b2Body_GetJointList_0:Bg,_emscripten_bind_b2Joint_GetNext_0:Ae,_emscripten_bind_b2Joint_GetType_0:ge,_emscripten_bind_b2World_RayCast_3:_c,_emscripten_bind_b2MassData_set_I_1:uh,_emscripten_bind_b2MassData___destroy___0:lh,_emscripten_bind_b2Fixture_SetFriction_1:ln,_emscripten_bind_b2Color_b2Color_3:Ep,_emscripten_bind_b2Color_b2Color_0:Cp,_emscripten_bind_b2FrictionJointDef_get_maxTorque_0:Qs,_emscripten_bind_b2WeldJointDef_Initialize_3:Ll,_emscripten_bind_b2RevoluteJoint_GetMotorTorque_1:Vy,_emscripten_enum_b2JointType_e_gearJoint:_w,_emscripten_bind_b2FixtureDef_get_friction_0:Is,_emscripten_bind_b2MotorJointDef_get_maxForce_0:Fv,_emscripten_bind_b2Contact_GetManifold_0:nm,_emscripten_bind_b2MouseJoint_GetTarget_0:Pn,_emscripten_bind_b2WeldJointDef_get_localAnchorA_0:jl,_emscripten_bind_b2MouseJoint_SetUserData_1:Vn,_emscripten_bind_b2MotorJointDef_set_bodyB_1:Qv,_emscripten_bind_b2ChainShape_GetChildEdge_2:ip,_emscripten_bind_b2PrismaticJointDef_get_bodyA_0:za,_emscripten_bind_b2MotorJointDef_get_angularOffset_0:jv,_emscripten_bind_b2WheelJoint_SetUserData_1:pb,_emscripten_bind_b2PrismaticJoint_GetUpperLimit_0:Hc,_emscripten_bind_b2DistanceJoint_GetCollideConnected_0:Mi,_emscripten_bind_b2GearJointDef___destroy___0:Ey,_emscripten_bind_b2WeldJointDef_get_localAnchorB_0:Fl,_emscripten_bind_b2World_SetGravity_1:Rc,_emscripten_bind_b2Mat22_SetZero_0:Bu,_emscripten_bind_b2Contact_GetChildIndexA_0:um,_emscripten_bind_b2Color_get_g_0:Rp,_emscripten_bind_b2Body_GetTransform_0:qm,_emscripten_bind_b2ContactEdge___destroy___0:pv,_emscripten_bind_b2Mat33_set_ex_1:Gi,_emscripten_bind_b2AABB_GetExtents_0:bs,_emscripten_bind_b2Body_GetMassData_1:ug,_emscripten_bind_b2Body_GetUserData_0:Gg,_emscripten_bind_b2WheelJointDef_set_bodyA_1:dl,_emscripten_bind_b2MotorJointDef_set_maxForce_1:Jv,_emscripten_bind_b2BodyDef_get_angle_0:Kr,_emscripten_bind_b2PulleyJoint_GetReactionTorque_1:Mb,_emscripten_bind_b2FixtureDef_get_shape_0:Ps,_emscripten_bind_b2WeldJointDef_get_userData_0:Hl,_emscripten_bind_b2FrictionJoint_SetMaxForce_1:zg,_emscripten_bind_b2Mat33_b2Mat33_3:Oi,_emscripten_bind_b2Mat33_b2Mat33_0:Ii,_emscripten_bind_b2JointDef_get_type_0:Le,_emscripten_bind_JSQueryCallback_ReportFixture_1:An,_emscripten_bind_b2Fixture_TestPoint_1:rn,_emscripten_bind_b2RevoluteJoint_GetCollideConnected_0:iv,_emscripten_bind_JSDraw_JSDraw_0:kf,_emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0:Xg,_emscripten_bind_b2Transform_get_p_0:X_,_emscripten_bind_b2EdgeShape_ComputeMass_2:Ld,_emscripten_bind_b2World_GetProfile_0:jc,_emscripten_bind_b2DistanceJointDef___destroy___0:Um,_emscripten_bind_b2World_SetDestructionListener_1:tc,_emscripten_bind_b2JointDef_set_type_1:je,_emscripten_bind_b2Draw_AppendFlags_1:fe,_emscripten_bind_b2MotorJointDef_get_userData_0:zv,_emscripten_bind_b2World_GetContactList_0:fc,_emscripten_bind_b2Mat33_set_ez_1:Vi,_emscripten_bind_b2Filter_b2Filter_0:bn,_emscripten_bind_b2Body_ApplyForce_3:ig,_emscripten_bind_b2WeldJoint_SetUserData_1:Vh,_emscripten_bind_b2RevoluteJoint_GetReactionForce_1:Zy,_emscripten_bind_b2PulleyJointDef_set_collideConnected_1:D_,_emscripten_bind_b2RopeJoint_GetCollideConnected_0:Kp,_emscripten_bind_b2ContactEdge_get_other_0:ov,_emscripten_bind_b2BodyDef_set_userData_1:vo,_emscripten_bind_b2GearJoint_GetAnchorB_0:yh,_emscripten_bind_b2Contact_GetChildIndexB_0:hm,_emscripten_bind_b2Fixture_GetFriction_0:un,_emscripten_enum_b2DrawFlag_e_aabbBit:Mw,_emscripten_bind_b2RevoluteJointDef_Initialize_3:rf,_emscripten_bind_b2Body_GetAngle_0:Ym,_emscripten_bind_b2EdgeShape_Set_2:Dd,_emscripten_bind_b2Mat33_SetZero_0:ki,_emscripten_bind_b2MotorJointDef_get_bodyB_0:Zv,_emscripten_bind_b2PrismaticJointDef_get_localAxisA_0:Ca,_emscripten_bind_b2Mat22_get_ey_0:Uu,_emscripten_bind_b2Body_Dump_0:Wg,_emscripten_bind_b2Joint_IsActive_0:Pe,_emscripten_bind_b2BodyDef_get_allowSleep_0:co,_emscripten_bind_b2World_GetTreeHeight_0:Pc,_emscripten_bind_b2RevoluteJoint_GetUpperLimit_0:jy,_emscripten_bind_b2GearJoint_GetJoint2_0:_h,_emscripten_bind_b2Body_GetWorld_0:Ug,_emscripten_enum_b2LimitState_e_inactiveLimit:gw,_emscripten_bind_b2Vec2_set_x_1:Yo,_emscripten_bind_b2Body_SetAwake_1:Mg,_emscripten_bind_b2EdgeShape_set_m_vertex1_1:Bd,_emscripten_bind_b2Vec2___destroy___0:Ko,_emscripten_bind_b2RayCastInput_set_p1_1:ed,_emscripten_bind_b2Contact_ResetFriction_0:dm,_emscripten_bind_b2PulleyJoint_GetAnchorA_0:Eb,_emscripten_bind_b2AABB_GetPerimeter_0:ms,_emscripten_bind_b2DistanceJointDef_get_bodyB_0:Fm,_emscripten_bind_b2Joint_GetReactionForce_1:Te,_emscripten_bind_b2RevoluteJoint_GetNext_0:Ky,_emscripten_bind_b2Color___destroy___0:Lp,_emscripten_bind_b2MotorJoint_GetAnchorB_0:vr,_emscripten_bind_b2Fixture_GetShape_0:qi,_emscripten_bind_b2PolygonShape_SetAsBox_2:ud,_emscripten_bind_b2Vec3_op_mul_1:os,_emscripten_bind_b2PolygonShape_set_m_type_1:Sd,_emscripten_bind_b2WheelJoint_GetType_0:rb,_emscripten_bind_b2MotorJoint_GetAngularOffset_0:ur,_emscripten_bind_b2RevoluteJoint_IsActive_0:ev,_emscripten_bind_b2GearJoint_GetNext_0:xh,_emscripten_bind_b2MouseJointDef_get_maxForce_0:Gb,_emscripten_bind_b2Color_Set_3:Pp,_emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1:Ja,_emscripten_bind_b2WheelJoint_GetLocalAxisA_0:Vf,_emscripten_bind_b2Body_GetNext_0:Jg,_emscripten_bind_b2MouseJoint_GetReactionForce_1:Gn,_emscripten_bind_b2RopeJoint_GetBodyA_0:Up,_emscripten_bind_b2ContactFeature_set_indexA_1:Po,_emscripten_bind_b2Fixture_Refilter_0:Ki,_emscripten_bind_b2BodyDef_set_angularDamping_1:ao,_emscripten_bind_b2FrictionJoint_GetAnchorB_0:ty,_emscripten_bind_b2World_QueryAABB_2:hc,_emscripten_bind_b2Profile_set_collide_1:Ir,_emscripten_bind_b2BodyDef_get_userData_0:yo,_emscripten_bind_b2MotorJoint_SetLinearOffset_1:sr,_emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1:a_,_emscripten_bind_b2RopeJointDef_set_bodyA_1:Cv,_emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0:Oy,_emscripten_bind_b2Mat22_get_ex_0:Gu,_emscripten_bind_b2MouseJointDef_b2MouseJointDef_0:Bb,_emscripten_bind_b2WeldJointDef_set_bodyB_1:$l,_emscripten_bind_b2Transform_set_p_1:z_,_emscripten_bind_b2DistanceJoint_SetLength_1:pi,_emscripten_bind_b2JointEdge_get_joint_0:Qh,_emscripten_bind_b2Body_GetLocalCenter_0:Qm,_emscripten_bind_b2FixtureDef___destroy___0:Us,_emscripten_bind_b2FixtureDef_set_shape_1:Ds,_emscripten_bind_b2WeldJoint_GetAnchorA_0:Fh,_emscripten_bind_b2Profile_get_solveVelocity_0:Br,_emscripten_bind_b2PulleyJoint_GetBodyA_0:Ab,_emscripten_bind_b2World_GetContinuousPhysics_0:wc,_emscripten_bind_b2Body_SetAngularDamping_1:wg,_emscripten_bind_b2PulleyJointDef_Initialize_7:o_,_emscripten_bind_b2GearJointDef_set_bodyB_1:Sy,_emscripten_bind_b2MouseJointDef_set_target_1:Jb,_emscripten_bind_b2Mat22_set_ex_1:Nu,_emscripten_bind_b2GearJoint_GetType_0:fh,_emscripten_enum_b2DrawFlag_e_centerOfMassBit:Iw,_emscripten_bind_b2ChainShape_b2ChainShape_0:Z_,_emscripten_bind_b2RopeJointDef_set_localAnchorB_1:gv,_emscripten_bind_b2FrictionJointDef_Initialize_3:Vs,_emscripten_bind_b2GearJointDef_set_userData_1:vy,_emscripten_bind_b2Fixture_SetSensor_1:Hi,_emscripten_bind_b2EdgeShape_get_m_radius_0:Zd,_emscripten_bind_b2Contact_GetFixtureB_0:lm,_emscripten_bind_b2ChainShape_ComputeMass_2:cp,_emscripten_bind_b2Vec2_set_y_1:Qo,_emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0:Xc,_emscripten_bind_b2RopeJointDef_get_bodyB_0:Ev,_emscripten_bind_b2BodyDef_b2BodyDef_0:qr,_emscripten_bind_b2MassData_get_mass_0:rh,_emscripten_bind_b2Joint_SetUserData_1:Ee,_emscripten_bind_b2Joint_GetBodyB_0:ve,_emscripten_bind_b2MouseJointDef_set_collideConnected_1:em,_emscripten_bind_b2WheelJointDef_set_localAxisA_1:Ku,_emscripten_bind_b2Joint_Dump_0:Me,_emscripten_bind_b2WheelJointDef_b2WheelJointDef_0:Xu,_emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1:vf,_emscripten_bind_b2MotorJointDef_get_bodyA_0:Hv,_emscripten_bind_b2FrictionJoint_GetMaxForce_0:qg,_emscripten_bind_b2Vec2_LengthSquared_0:Vo,_emscripten_bind_b2FrictionJointDef_set_bodyA_1:ra,_emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0:eb,_emscripten_bind_b2ContactFeature_get_indexB_0:Do,_emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1:tb,_emscripten_bind_b2Shape_ComputeMass_2:Qe,_emscripten_bind_b2FrictionJoint_GetBodyA_0:Qg,_emscripten_bind_b2ManifoldPoint_get_localPoint_0:I_,_emscripten_bind_b2DistanceJointDef_set_localAnchorA_1:Tm,_emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0:Fa,_emscripten_bind_b2DistanceJoint_GetBodyA_0:vi,_emscripten_bind_b2DistanceJoint_GetUserData_0:Ei,_emscripten_bind_b2DistanceJointDef_get_userData_0:km,_emscripten_bind_b2PrismaticJointDef_get_collideConnected_0:Za,_emscripten_bind_b2Manifold_get_pointCount_0:ma,_emscripten_bind_b2PrismaticJointDef_get_type_0:Ua,_emscripten_bind_b2DestructionListenerWrapper___destroy___0:_e,_emscripten_bind_b2ManifoldPoint_set_normalImpulse_1:L_,_emscripten_enum_b2LimitState_e_atUpperLimit:vw,_emscripten_bind_b2Body_SetAngularVelocity_1:tg,_emscripten_bind_b2PolygonShape_get_m_type_0:Td,_emscripten_bind_b2MouseJointDef_get_userData_0:Hb,_emscripten_bind_b2World_GetBodyCount_0:Ac,_emscripten_bind_b2RopeJoint_SetMaxLength_1:Fp,_emscripten_bind_b2Body_ResetMassData_0:hg,_emscripten_bind_b2PolygonShape_set_m_radius_1:Cd,_emscripten_bind_b2PrismaticJointDef_Initialize_4:wa,_emscripten_bind_JSContactListener_JSContactListener_0:Cu,runPostSets:NE,stackAlloc:oe,stackSave:se,stackRestore:ae,establishStackSpace:ce,setTempRet0:le,getTempRet0:he,setThrew:ue,stackAlloc:oe,stackSave:se,stackRestore:ae,establishStackSpace:ce,setThrew:ue,setTempRet0:le,getTempRet0:he,dynCall_iiii:tP,dynCall_viiiii:wP,dynCall_did:UP,dynCall_vi:uD,dynCall_diiiid:MD,dynCall_vii:QD,dynCall_viidii:gM,dynCall_ii:JM,dynCall_viidi:sR,dynCall_viii:ER,dynCall_v:HR,dynCall_viid:fI,dynCall_viiiiii:jI,dynCall_iii:nO,dynCall_iiiiii:SO,dynCall_viiii:XO}}(b.A,b.B,buffer),Fb=b._emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0=g._emscripten_bind_b2WheelJoint_GetSpringDampingRatio_0,Gb=b._emscripten_bind_b2ContactEdge_set_next_1=g._emscripten_bind_b2ContactEdge_set_next_1,Hb=b._emscripten_bind_b2ChainShape_get_m_count_0=g._emscripten_bind_b2ChainShape_get_m_count_0,Ib=b._emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0=g._emscripten_bind_b2PrismaticJointDef_get_motorSpeed_0,Jb=b._emscripten_bind_b2PulleyJoint_SetUserData_1=g._emscripten_bind_b2PulleyJoint_SetUserData_1,Kb=b._emscripten_bind_b2Shape_ComputeAABB_3=g._emscripten_bind_b2Shape_ComputeAABB_3,Lb=b._emscripten_bind_b2FrictionJointDef_set_userData_1=g._emscripten_bind_b2FrictionJointDef_set_userData_1,Mb=b._emscripten_bind_b2Color_b2Color_3=g._emscripten_bind_b2Color_b2Color_3,Nb=b._emscripten_bind_b2MouseJoint_IsActive_0=g._emscripten_bind_b2MouseJoint_IsActive_0,Ob=b._emscripten_bind_b2World_IsLocked_0=g._emscripten_bind_b2World_IsLocked_0,Pb=b._emscripten_bind_b2Draw_GetFlags_0=g._emscripten_bind_b2Draw_GetFlags_0,Qb=b._emscripten_bind_b2FrictionJoint_IsActive_0=g._emscripten_bind_b2FrictionJoint_IsActive_0,Rb=b._emscripten_bind_b2Color_set_g_1=g._emscripten_bind_b2Color_set_g_1,Tb=b._emscripten_bind_b2PolygonShape_RayCast_4=g._emscripten_bind_b2PolygonShape_RayCast_4,Ub=b._emscripten_bind_b2World_GetTreeBalance_0=g._emscripten_bind_b2World_GetTreeBalance_0,Vb=b._emscripten_bind_b2ChainShape_get_m_vertices_0=g._emscripten_bind_b2ChainShape_get_m_vertices_0,Wb=b._emscripten_bind_JSDraw_DrawSolidCircle_4=g._emscripten_bind_JSDraw_DrawSolidCircle_4,Xb=b._emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0=g._emscripten_bind_b2RevoluteJoint_GetLocalAnchorA_0,Yb=b._emscripten_bind_b2FixtureDef_get_filter_0=g._emscripten_bind_b2FixtureDef_get_filter_0,Zb=b._emscripten_bind_b2FrictionJointDef_get_type_0=g._emscripten_bind_b2FrictionJointDef_get_type_0,$b=b._emscripten_bind_b2MotorJointDef_set_type_1=g._emscripten_bind_b2MotorJointDef_set_type_1,ac=b._emscripten_bind_b2FixtureDef_set_userData_1=g._emscripten_bind_b2FixtureDef_set_userData_1,bc=b._emscripten_bind_b2EdgeShape_set_m_hasVertex3_1=g._emscripten_bind_b2EdgeShape_set_m_hasVertex3_1,cc=b._emscripten_bind_b2JointEdge_set_joint_1=g._emscripten_bind_b2JointEdge_set_joint_1,dc=b._emscripten_bind_b2Fixture___destroy___0=g._emscripten_bind_b2Fixture___destroy___0,ec=b._emscripten_bind_b2World_SetWarmStarting_1=g._emscripten_bind_b2World_SetWarmStarting_1,fc=b._emscripten_bind_JSDraw_DrawCircle_3=g._emscripten_bind_JSDraw_DrawCircle_3,gc=b._emscripten_bind_b2WeldJoint_IsActive_0=g._emscripten_bind_b2WeldJoint_IsActive_0,hc=b._emscripten_bind_b2DestructionListener___destroy___0=g._emscripten_bind_b2DestructionListener___destroy___0,ic=b._emscripten_bind_b2BodyDef_set_type_1=g._emscripten_bind_b2BodyDef_set_type_1,jc=b._emscripten_bind_b2ChainShape_ComputeAABB_3=g._emscripten_bind_b2ChainShape_ComputeAABB_3,wb=b.___udivmoddi4=g.___udivmoddi4,kc=b._emscripten_bind_b2PulleyJoint_GetUserData_0=g._emscripten_bind_b2PulleyJoint_GetUserData_0,lc=b._emscripten_bind_b2WeldJoint_GetReactionTorque_1=g._emscripten_bind_b2WeldJoint_GetReactionTorque_1,mc=b._emscripten_bind_b2MotorJointDef_get_maxForce_0=g._emscripten_bind_b2MotorJointDef_get_maxForce_0,nc=b._emscripten_bind_b2DistanceJointDef_get_userData_0=g._emscripten_bind_b2DistanceJointDef_get_userData_0,oc=b._emscripten_bind_b2BodyDef_get_position_0=g._emscripten_bind_b2BodyDef_get_position_0,pc=b._emscripten_bind_b2RevoluteJointDef_set_userData_1=g._emscripten_bind_b2RevoluteJointDef_set_userData_1,qc=b._emscripten_bind_b2World_SetContactFilter_1=g._emscripten_bind_b2World_SetContactFilter_1,rc=b._emscripten_bind_b2WheelJointDef_get_collideConnected_0=g._emscripten_bind_b2WheelJointDef_get_collideConnected_0,sc=b._emscripten_bind_b2MouseJointDef_set_userData_1=g._emscripten_bind_b2MouseJointDef_set_userData_1;b.stackSave=g.stackSave;var tc=b._emscripten_bind_b2FixtureDef_set_restitution_1=g._emscripten_bind_b2FixtureDef_set_restitution_1,uc=b._emscripten_bind_b2RevoluteJoint_GetUserData_0=g._emscripten_bind_b2RevoluteJoint_GetUserData_0,vc=b._emscripten_bind_b2Mat33_get_ey_0=g._emscripten_bind_b2Mat33_get_ey_0,wc=b._emscripten_bind_b2MouseJoint_GetCollideConnected_0=g._emscripten_bind_b2MouseJoint_GetCollideConnected_0,xc=b._emscripten_bind_b2World_GetGravity_0=g._emscripten_bind_b2World_GetGravity_0,yc=b._emscripten_bind_b2Mat33_set_ey_1=g._emscripten_bind_b2Mat33_set_ey_1,zc=b._emscripten_bind_b2Profile_get_broadphase_0=g._emscripten_bind_b2Profile_get_broadphase_0,Ac=b._emscripten_bind_b2PulleyJointDef_get_bodyA_0=g._emscripten_bind_b2PulleyJointDef_get_bodyA_0,Bc=b._emscripten_bind_b2PrismaticJoint_SetLimits_2=g._emscripten_bind_b2PrismaticJoint_SetLimits_2,Cc=b._emscripten_bind_b2PulleyJointDef_get_localAnchorA_0=g._emscripten_bind_b2PulleyJointDef_get_localAnchorA_0,Dc=b._emscripten_bind_b2DistanceJoint_GetAnchorA_0=g._emscripten_bind_b2DistanceJoint_GetAnchorA_0,Ec=b._emscripten_bind_b2DistanceJointDef_set_userData_1=g._emscripten_bind_b2DistanceJointDef_set_userData_1,Fc=b._emscripten_bind_b2DistanceJointDef_set_dampingRatio_1=g._emscripten_bind_b2DistanceJointDef_set_dampingRatio_1,Gc=b._emscripten_bind_b2RopeJointDef_set_collideConnected_1=g._emscripten_bind_b2RopeJointDef_set_collideConnected_1,Hc=b._emscripten_bind_b2ChainShape_set_m_nextVertex_1=g._emscripten_bind_b2ChainShape_set_m_nextVertex_1,Ic=b._emscripten_bind_JSContactListener_EndContact_1=g._emscripten_bind_JSContactListener_EndContact_1,Jc=b._emscripten_bind_b2MassData_set_mass_1=g._emscripten_bind_b2MassData_set_mass_1,Kc=b._emscripten_bind_b2Vec3_get_x_0=g._emscripten_bind_b2Vec3_get_x_0,Lc=b._emscripten_bind_b2ChainShape_CreateChain_2=g._emscripten_bind_b2ChainShape_CreateChain_2,Mc=b._emscripten_bind_b2RopeJoint_GetUserData_0=g._emscripten_bind_b2RopeJoint_GetUserData_0,Nc=b._emscripten_bind_b2World_DestroyBody_1=g._emscripten_bind_b2World_DestroyBody_1,Oc=b._emscripten_bind_b2Profile_get_solvePosition_0=g._emscripten_bind_b2Profile_get_solvePosition_0,Pc=b._emscripten_bind_b2Shape_RayCast_4=g._emscripten_bind_b2Shape_RayCast_4,Qc=b._emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0=g._emscripten_bind_b2PulleyJoint_GetGroundAnchorA_0,Rc=b._emscripten_bind_b2Mat33___destroy___0=g._emscripten_bind_b2Mat33___destroy___0,Sc=b._emscripten_bind_b2GearJoint_GetReactionTorque_1=g._emscripten_bind_b2GearJoint_GetReactionTorque_1,Tc=b._emscripten_bind_b2WeldJointDef_set_collideConnected_1=g._emscripten_bind_b2WeldJointDef_set_collideConnected_1,Uc=b._emscripten_bind_b2JointDef_get_collideConnected_0=g._emscripten_bind_b2JointDef_get_collideConnected_0;b.getTempRet0=g.getTempRet0;var Vc=b._emscripten_bind_b2FrictionJointDef_get_maxTorque_0=g._emscripten_bind_b2FrictionJointDef_get_maxTorque_0,Wc=b._emscripten_bind_JSQueryCallback_JSQueryCallback_0=g._emscripten_bind_JSQueryCallback_JSQueryCallback_0,Xc=b._emscripten_bind_b2World_SetAutoClearForces_1=g._emscripten_bind_b2World_SetAutoClearForces_1,Yc=b._emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1=g._emscripten_bind_b2PrismaticJointDef_set_lowerTranslation_1,Zc=b._emscripten_bind_b2Contact_GetTangentSpeed_0=g._emscripten_bind_b2Contact_GetTangentSpeed_0,$c=b._emscripten_bind_b2BodyDef_set_position_1=g._emscripten_bind_b2BodyDef_set_position_1,ad=b._emscripten_bind_b2Transform_get_q_0=g._emscripten_bind_b2Transform_get_q_0,bd=b._emscripten_bind_b2PolygonShape_set_m_count_1=g._emscripten_bind_b2PolygonShape_set_m_count_1,cd=b._emscripten_bind_b2Contact_GetNext_0=g._emscripten_bind_b2Contact_GetNext_0,dd=b._emscripten_bind_b2MotorJointDef_set_userData_1=g._emscripten_bind_b2MotorJointDef_set_userData_1,ed=b._emscripten_bind_b2GearJoint_GetJoint1_0=g._emscripten_bind_b2GearJoint_GetJoint1_0,fd=b._emscripten_bind_b2World_GetProxyCount_0=g._emscripten_bind_b2World_GetProxyCount_0,gd=b._emscripten_bind_b2MotorJoint_SetMaxTorque_1=g._emscripten_bind_b2MotorJoint_SetMaxTorque_1,hd=b._emscripten_bind_b2GearJoint_GetAnchorA_0=g._emscripten_bind_b2GearJoint_GetAnchorA_0,id=b._emscripten_bind_b2MouseJointDef_set_bodyA_1=g._emscripten_bind_b2MouseJointDef_set_bodyA_1,jd=b._emscripten_bind_b2World_SetContactListener_1=g._emscripten_bind_b2World_SetContactListener_1,kd=b._emscripten_bind_b2Body_IsAwake_0=g._emscripten_bind_b2Body_IsAwake_0,ld=b._emscripten_bind_b2JointEdge_set_other_1=g._emscripten_bind_b2JointEdge_set_other_1,md=b._emscripten_bind_b2MouseJointDef_set_target_1=g._emscripten_bind_b2MouseJointDef_set_target_1,nd=b._emscripten_bind_b2MotorJoint_SetCorrectionFactor_1=g._emscripten_bind_b2MotorJoint_SetCorrectionFactor_1,od=b._emscripten_bind_b2FixtureDef_get_density_0=g._emscripten_bind_b2FixtureDef_get_density_0,pd=b._emscripten_bind_b2GearJoint_GetRatio_0=g._emscripten_bind_b2GearJoint_GetRatio_0,qd=b._emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0=g._emscripten_bind_b2PrismaticJointDef_get_upperTranslation_0,rd=b._emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0=g._emscripten_bind_b2RevoluteJoint_GetReferenceAngle_0,sd=b._emscripten_bind_b2MotorJointDef_get_collideConnected_0=g._emscripten_bind_b2MotorJointDef_get_collideConnected_0,td=b._emscripten_enum_b2ManifoldType_e_circles=g._emscripten_enum_b2ManifoldType_e_circles,ud=b._emscripten_bind_b2PulleyJointDef_set_localAnchorB_1=g._emscripten_bind_b2PulleyJointDef_set_localAnchorB_1,vd=b._emscripten_bind_b2RevoluteJointDef_Initialize_3=g._emscripten_bind_b2RevoluteJointDef_Initialize_3,wd=b._emscripten_bind_b2FixtureDef_get_userData_0=g._emscripten_bind_b2FixtureDef_get_userData_0,xd=b._emscripten_bind_b2DistanceJoint_GetUserData_0=g._emscripten_bind_b2DistanceJoint_GetUserData_0,yd=b._emscripten_bind_b2FrictionJointDef_set_collideConnected_1=g._emscripten_bind_b2FrictionJointDef_set_collideConnected_1,zd=b._emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0=g._emscripten_bind_b2PrismaticJointDef_get_lowerTranslation_0,Ad=b._emscripten_bind_b2GearJoint_GetCollideConnected_0=g._emscripten_bind_b2GearJoint_GetCollideConnected_0,Bd=b._emscripten_bind_b2Filter_b2Filter_0=g._emscripten_bind_b2Filter_b2Filter_0,Cd=b._emscripten_bind_b2MouseJointDef_set_type_1=g._emscripten_bind_b2MouseJointDef_set_type_1,Dd=b._emscripten_bind_b2Body_ApplyAngularImpulse_2=g._emscripten_bind_b2Body_ApplyAngularImpulse_2,Ed=b._emscripten_enum_b2JointType_e_frictionJoint=g._emscripten_enum_b2JointType_e_frictionJoint,Fd=b._emscripten_bind_b2RayCastOutput_set_fraction_1=g._emscripten_bind_b2RayCastOutput_set_fraction_1,Gd=b._emscripten_bind_b2Color_set_r_1=g._emscripten_bind_b2Color_set_r_1,Hd=b._emscripten_bind_b2DistanceJointDef_get_length_0=g._emscripten_bind_b2DistanceJointDef_get_length_0,Id=b._emscripten_bind_b2PulleyJoint_GetBodyB_0=g._emscripten_bind_b2PulleyJoint_GetBodyB_0,Jd=b._emscripten_bind_b2WheelJointDef_set_type_1=g._emscripten_bind_b2WheelJointDef_set_type_1,Kd=b._emscripten_bind_b2World_GetTreeQuality_0=g._emscripten_bind_b2World_GetTreeQuality_0,Ld=b._emscripten_bind_b2BodyDef_set_gravityScale_1=g._emscripten_bind_b2BodyDef_set_gravityScale_1,Md=b._emscripten_bind_b2RopeJointDef_set_bodyB_1=g._emscripten_bind_b2RopeJointDef_set_bodyB_1,Nd=b._emscripten_bind_b2PrismaticJoint_GetLowerLimit_0=g._emscripten_bind_b2PrismaticJoint_GetLowerLimit_0,Od=b._emscripten_bind_b2AABB_get_lowerBound_0=g._emscripten_bind_b2AABB_get_lowerBound_0,Pd=b._emscripten_bind_b2WheelJoint_SetMotorSpeed_1=g._emscripten_bind_b2WheelJoint_SetMotorSpeed_1,Qd=b._emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0=g._emscripten_bind_b2PrismaticJointDef_get_referenceAngle_0,Rd=b._emscripten_bind_b2Body_SetMassData_1=g._emscripten_bind_b2Body_SetMassData_1,Sd=b._emscripten_bind_b2BodyDef_get_angularVelocity_0=g._emscripten_bind_b2BodyDef_get_angularVelocity_0,Td=b._emscripten_bind_b2WeldJoint_SetDampingRatio_1=g._emscripten_bind_b2WeldJoint_SetDampingRatio_1,Ud=b._emscripten_bind_b2PrismaticJointDef___destroy___0=g._emscripten_bind_b2PrismaticJointDef___destroy___0,Vd=b._emscripten_bind_b2Contact_IsTouching_0=g._emscripten_bind_b2Contact_IsTouching_0,Wd=b._emscripten_bind_b2Draw_SetFlags_1=g._emscripten_bind_b2Draw_SetFlags_1,Xd=b._emscripten_bind_b2AABB_Contains_1=g._emscripten_bind_b2AABB_Contains_1,Yd=b._emscripten_bind_b2DistanceJoint_GetNext_0=g._emscripten_bind_b2DistanceJoint_GetNext_0,Zd=b._emscripten_bind_b2EdgeShape_set_m_radius_1=g._emscripten_bind_b2EdgeShape_set_m_radius_1,$d=b._emscripten_bind_b2DistanceJointDef_get_dampingRatio_0=g._emscripten_bind_b2DistanceJointDef_get_dampingRatio_0,ae=b._emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0=g._emscripten_bind_b2DistanceJoint_GetLocalAnchorA_0,be=b._emscripten_bind_b2PrismaticJoint_GetType_0=g._emscripten_bind_b2PrismaticJoint_GetType_0,ce=b._emscripten_bind_b2Fixture_GetRestitution_0=g._emscripten_bind_b2Fixture_GetRestitution_0,de=b._emscripten_bind_b2Transform_set_q_1=g._emscripten_bind_b2Transform_set_q_1,ee=b._emscripten_bind_b2PolygonShape___destroy___0=g._emscripten_bind_b2PolygonShape___destroy___0,fe=b._emscripten_bind_b2AABB_get_upperBound_0=g._emscripten_bind_b2AABB_get_upperBound_0,ge=b._emscripten_bind_b2Transform___destroy___0=g._emscripten_bind_b2Transform___destroy___0,he=b._emscripten_bind_b2Body_GetLinearVelocity_0=g._emscripten_bind_b2Body_GetLinearVelocity_0,ie=b._emscripten_bind_b2CircleShape_set_m_radius_1=g._emscripten_bind_b2CircleShape_set_m_radius_1,je=b._emscripten_bind_b2EdgeShape_set_m_hasVertex0_1=g._emscripten_bind_b2EdgeShape_set_m_hasVertex0_1,ke=b._emscripten_bind_b2RopeJoint_GetMaxLength_0=g._emscripten_bind_b2RopeJoint_GetMaxLength_0,le=b._emscripten_bind_b2GearJoint_GetUserData_0=g._emscripten_bind_b2GearJoint_GetUserData_0,me=b._emscripten_bind_b2MotorJoint_GetCollideConnected_0=g._emscripten_bind_b2MotorJoint_GetCollideConnected_0,ne=b._emscripten_bind_b2GearJointDef_set_type_1=g._emscripten_bind_b2GearJointDef_set_type_1,oe=b._emscripten_bind_b2DistanceJoint_SetDampingRatio_1=g._emscripten_bind_b2DistanceJoint_SetDampingRatio_1,pe=b._emscripten_bind_b2Contact_GetFixtureA_0=g._emscripten_bind_b2Contact_GetFixtureA_0,qe=b._emscripten_bind_b2PulleyJointDef_get_ratio_0=g._emscripten_bind_b2PulleyJointDef_get_ratio_0,re=b._emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0=g._emscripten_bind_b2PrismaticJointDef_get_localAnchorB_0,se=b._emscripten_bind_b2CircleShape_set_m_type_1=g._emscripten_bind_b2CircleShape_set_m_type_1,te=b._emscripten_bind_b2DistanceJointDef_set_localAnchorA_1=g._emscripten_bind_b2DistanceJointDef_set_localAnchorA_1,ue=b._emscripten_bind_b2RopeJoint_GetAnchorB_0=g._emscripten_bind_b2RopeJoint_GetAnchorB_0,ve=b._emscripten_bind_b2AABB_set_upperBound_1=g._emscripten_bind_b2AABB_set_upperBound_1,we=b._emscripten_bind_JSRayCastCallback_ReportFixture_4=g._emscripten_bind_JSRayCastCallback_ReportFixture_4,xe=b._emscripten_bind_b2ContactImpulse___destroy___0=g._emscripten_bind_b2ContactImpulse___destroy___0,ye=b._emscripten_bind_b2FrictionJointDef_get_localAnchorB_0=g._emscripten_bind_b2FrictionJointDef_get_localAnchorB_0,ze=b._emscripten_bind_b2PulleyJointDef_set_lengthB_1=g._emscripten_bind_b2PulleyJointDef_set_lengthB_1,Ae=b._emscripten_bind_b2RayCastInput___destroy___0=g._emscripten_bind_b2RayCastInput___destroy___0,Be=b._emscripten_bind_b2Body_ApplyForceToCenter_2=g._emscripten_bind_b2Body_ApplyForceToCenter_2,Ce=b._emscripten_bind_JSDestructionListener_JSDestructionListener_0=g._emscripten_bind_JSDestructionListener_JSDestructionListener_0,De=b._emscripten_bind_b2WheelJointDef_set_localAnchorA_1=g._emscripten_bind_b2WheelJointDef_set_localAnchorA_1,Ee=b._emscripten_bind_b2FrictionJoint_GetBodyB_0=g._emscripten_bind_b2FrictionJoint_GetBodyB_0,Fe=b._emscripten_bind_b2WeldJointDef_set_bodyA_1=g._emscripten_bind_b2WeldJointDef_set_bodyA_1,Ge=b._emscripten_bind_b2DistanceJoint_GetBodyB_0=g._emscripten_bind_b2DistanceJoint_GetBodyB_0,He=b._emscripten_enum_b2JointType_e_wheelJoint=g._emscripten_enum_b2JointType_e_wheelJoint,Ie=b._emscripten_bind_b2JointDef___destroy___0=g._emscripten_bind_b2JointDef___destroy___0,Je=b._emscripten_bind_b2ContactEdge___destroy___0=g._emscripten_bind_b2ContactEdge___destroy___0,Ke=b._emscripten_bind_b2Filter_get_groupIndex_0=g._emscripten_bind_b2Filter_get_groupIndex_0,Le=b._emscripten_bind_b2FrictionJointDef_get_localAnchorA_0=g._emscripten_bind_b2FrictionJointDef_get_localAnchorA_0,Me=b._emscripten_bind_b2CircleShape_GetChildCount_0=g._emscripten_bind_b2CircleShape_GetChildCount_0,Ne=b._emscripten_bind_b2BodyDef_get_bullet_0=g._emscripten_bind_b2BodyDef_get_bullet_0,Oe=b._emscripten_bind_b2Color_set_b_1=g._emscripten_bind_b2Color_set_b_1,Pe=b._emscripten_bind_b2Mat33_get_ez_0=g._emscripten_bind_b2Mat33_get_ez_0,Qe=b._emscripten_bind_b2MassData_get_center_0=g._emscripten_bind_b2MassData_get_center_0,Re=b._emscripten_bind_b2WeldJoint_GetBodyB_0=g._emscripten_bind_b2WeldJoint_GetBodyB_0,Se=b._emscripten_bind_b2WheelJoint_GetReactionForce_1=g._emscripten_bind_b2WheelJoint_GetReactionForce_1,Te=b._emscripten_bind_b2World_SetSubStepping_1=g._emscripten_bind_b2World_SetSubStepping_1,Ue=b._emscripten_bind_b2Vec2_op_add_1=g._emscripten_bind_b2Vec2_op_add_1,Ve=b._emscripten_bind_JSDraw_DrawSegment_3=g._emscripten_bind_JSDraw_DrawSegment_3,We=b._emscripten_bind_b2Joint_GetCollideConnected_0=g._emscripten_bind_b2Joint_GetCollideConnected_0,Xe=b._emscripten_bind_b2MotorJoint_GetReactionTorque_1=g._emscripten_bind_b2MotorJoint_GetReactionTorque_1,Ye=b._emscripten_bind_b2FrictionJointDef_get_bodyB_0=g._emscripten_bind_b2FrictionJointDef_get_bodyB_0,Ze=b._emscripten_bind_b2WheelJointDef___destroy___0=g._emscripten_bind_b2WheelJointDef___destroy___0,$e=b._emscripten_bind_b2BodyDef_get_gravityScale_0=g._emscripten_bind_b2BodyDef_get_gravityScale_0,af=b._emscripten_bind_b2Vec3_SetZero_0=g._emscripten_bind_b2Vec3_SetZero_0,bf=b._emscripten_enum_b2JointType_e_pulleyJoint=g._emscripten_enum_b2JointType_e_pulleyJoint,cf=b._emscripten_bind_b2ChainShape_get_m_nextVertex_0=g._emscripten_bind_b2ChainShape_get_m_nextVertex_0,df=b._emscripten_bind_b2Contact_SetEnabled_1=g._emscripten_bind_b2Contact_SetEnabled_1,ef=b._emscripten_bind_b2Shape_set_m_radius_1=g._emscripten_bind_b2Shape_set_m_radius_1,ff=b._emscripten_bind_b2World_SetDebugDraw_1=g._emscripten_bind_b2World_SetDebugDraw_1,gf=b._emscripten_bind_b2ContactID_set_key_1=g._emscripten_bind_b2ContactID_set_key_1,Ba=b._malloc=g._malloc,hf=b._emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0=g._emscripten_bind_b2WheelJoint_GetMaxMotorTorque_0,jf=b._emscripten_bind_b2Vec2_Normalize_0=g._emscripten_bind_b2Vec2_Normalize_0,kf=b._emscripten_bind_b2WheelJoint_GetJointSpeed_0=g._emscripten_bind_b2WheelJoint_GetJointSpeed_0,lf=b._emscripten_bind_b2FrictionJointDef_set_localAnchorA_1=g._emscripten_bind_b2FrictionJointDef_set_localAnchorA_1,mf=b._emscripten_bind_b2ChainShape_set_m_vertices_1=g._emscripten_bind_b2ChainShape_set_m_vertices_1,nf=b._emscripten_bind_JSRayCastCallback_JSRayCastCallback_0=g._emscripten_bind_JSRayCastCallback_JSRayCastCallback_0,of=b._emscripten_bind_b2RayCastInput_set_p2_1=g._emscripten_bind_b2RayCastInput_set_p2_1,pf=b._emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0=g._emscripten_bind_b2RevoluteJointDef_get_motorSpeed_0,qf=b._emscripten_bind_b2Manifold_get_pointCount_0=g._emscripten_bind_b2Manifold_get_pointCount_0,rf=b._emscripten_bind_b2RayCastOutput_get_normal_0=g._emscripten_bind_b2RayCastOutput_get_normal_0,sf=b._emscripten_bind_b2WeldJoint_GetBodyA_0=g._emscripten_bind_b2WeldJoint_GetBodyA_0,tf=b._emscripten_enum_b2DrawFlag_e_jointBit=g._emscripten_enum_b2DrawFlag_e_jointBit,uf=b._emscripten_bind_b2FixtureDef_get_isSensor_0=g._emscripten_bind_b2FixtureDef_get_isSensor_0,vf=b._emscripten_bind_b2PrismaticJointDef_Initialize_4=g._emscripten_bind_b2PrismaticJointDef_Initialize_4,wf=b._emscripten_bind_b2PulleyJointDef_set_bodyB_1=g._emscripten_bind_b2PulleyJointDef_set_bodyB_1,xf=b._emscripten_bind_b2WheelJoint_EnableMotor_1=g._emscripten_bind_b2WheelJoint_EnableMotor_1,yf=b._emscripten_bind_b2RevoluteJoint_GetJointSpeed_0=g._emscripten_bind_b2RevoluteJoint_GetJointSpeed_0,zf=b._emscripten_bind_JSDraw_DrawSolidPolygon_3=g._emscripten_bind_JSDraw_DrawSolidPolygon_3,Af=b._emscripten_bind_b2Rot_Set_1=g._emscripten_bind_b2Rot_Set_1,Bf=b._emscripten_bind_b2RevoluteJoint_GetJointAngle_0=g._emscripten_bind_b2RevoluteJoint_GetJointAngle_0,Cf=b._emscripten_bind_JSDraw___destroy___0=g._emscripten_bind_JSDraw___destroy___0,Df=b._emscripten_bind_b2MouseJointDef___destroy___0=g._emscripten_bind_b2MouseJointDef___destroy___0,Ef=b._emscripten_bind_b2Mat33_Solve22_1=g._emscripten_bind_b2Mat33_Solve22_1,Ff=b._emscripten_bind_b2Profile_set_solvePosition_1=g._emscripten_bind_b2Profile_set_solvePosition_1,Gf=b._emscripten_bind_b2ContactFilter___destroy___0=g._emscripten_bind_b2ContactFilter___destroy___0,Hf=b._emscripten_bind_b2WheelJoint_GetLocalAnchorA_0=g._emscripten_bind_b2WheelJoint_GetLocalAnchorA_0,If=b._emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1=g._emscripten_bind_b2ChainShape_set_m_hasPrevVertex_1,Jf=b._emscripten_bind_b2DistanceJoint_SetUserData_1=g._emscripten_bind_b2DistanceJoint_SetUserData_1,Kf=b._emscripten_bind_b2PrismaticJoint___destroy___0=g._emscripten_bind_b2PrismaticJoint___destroy___0,Lf=b._emscripten_bind_b2RopeJointDef_set_bodyA_1=g._emscripten_bind_b2RopeJointDef_set_bodyA_1,Mf=b._emscripten_bind_b2GearJoint___destroy___0=g._emscripten_bind_b2GearJoint___destroy___0,Nf=b._emscripten_bind_b2PrismaticJoint_GetJointTranslation_0=g._emscripten_bind_b2PrismaticJoint_GetJointTranslation_0,Of=b._emscripten_bind_b2ManifoldPoint_get_id_0=g._emscripten_bind_b2ManifoldPoint_get_id_0,Pf=b._emscripten_bind_b2CircleShape_get_m_radius_0=g._emscripten_bind_b2CircleShape_get_m_radius_0,Qf=b._emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0=g._emscripten_bind_b2PrismaticJoint_GetMotorSpeed_0,Rf=b._emscripten_bind_b2ChainShape_Clear_0=g._emscripten_bind_b2ChainShape_Clear_0,Sf=b._emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0=g._emscripten_bind_b2PulleyJoint_GetGroundAnchorB_0,Tf=b._emscripten_bind_b2Vec3_op_add_1=g._emscripten_bind_b2Vec3_op_add_1,Uf=b._emscripten_bind_b2FrictionJoint_GetType_0=g._emscripten_bind_b2FrictionJoint_GetType_0,Vf=b._emscripten_bind_b2MouseJoint_GetMaxForce_0=g._emscripten_bind_b2MouseJoint_GetMaxForce_0,Wf=b._emscripten_bind_b2MouseJoint_SetTarget_1=g._emscripten_bind_b2MouseJoint_SetTarget_1,Xf=b._emscripten_bind_b2MouseJointDef_get_dampingRatio_0=g._emscripten_bind_b2MouseJointDef_get_dampingRatio_0,Yf=b._emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0=g._emscripten_bind_b2RevoluteJoint_GetMotorSpeed_0,Zf=b._emscripten_bind_b2ChainShape_set_m_type_1=g._emscripten_bind_b2ChainShape_set_m_type_1,$f=b._emscripten_bind_b2RevoluteJointDef_set_bodyB_1=g._emscripten_bind_b2RevoluteJointDef_set_bodyB_1,ag=b._emscripten_bind_b2Rot_GetXAxis_0=g._emscripten_bind_b2Rot_GetXAxis_0,bg=b._emscripten_bind_b2Mat33_b2Mat33_0=g._emscripten_bind_b2Mat33_b2Mat33_0,cg=b._emscripten_bind_b2MouseJointDef_get_bodyB_0=g._emscripten_bind_b2MouseJointDef_get_bodyB_0,dg=b._emscripten_bind_b2Body_GetWorldVector_1=g._emscripten_bind_b2Body_GetWorldVector_1,eg=b._emscripten_bind_b2WeldJointDef_get_frequencyHz_0=g._emscripten_bind_b2WeldJointDef_get_frequencyHz_0,fg=b._emscripten_bind_b2GearJointDef_set_ratio_1=g._emscripten_bind_b2GearJointDef_set_ratio_1,gg=b._emscripten_bind_b2Manifold___destroy___0=g._emscripten_bind_b2Manifold___destroy___0,hg=b._emscripten_bind_b2PulleyJointDef_set_lengthA_1=g._emscripten_bind_b2PulleyJointDef_set_lengthA_1,ig=b._emscripten_bind_b2Contact_IsEnabled_0=g._emscripten_bind_b2Contact_IsEnabled_0;b.stackRestore=g.stackRestore;var jg=b._emscripten_bind_b2World_CreateJoint_1=g._emscripten_bind_b2World_CreateJoint_1,kg=b._emscripten_bind_b2PulleyJointDef_set_ratio_1=g._emscripten_bind_b2PulleyJointDef_set_ratio_1,lg=b._emscripten_bind_b2JointEdge_set_prev_1=g._emscripten_bind_b2JointEdge_set_prev_1,mg=b._emscripten_bind_b2PrismaticJoint_GetReactionTorque_1=g._emscripten_bind_b2PrismaticJoint_GetReactionTorque_1,ng=b._emscripten_bind_b2Body_GetLocalPoint_1=g._emscripten_bind_b2Body_GetLocalPoint_1,og=b._emscripten_bind_b2PrismaticJoint_GetCollideConnected_0=g._emscripten_bind_b2PrismaticJoint_GetCollideConnected_0,pg=b._emscripten_bind_b2DistanceJoint_IsActive_0=g._emscripten_bind_b2DistanceJoint_IsActive_0,qg=b._emscripten_bind_b2RopeJoint_GetLimitState_0=g._emscripten_bind_b2RopeJoint_GetLimitState_0,rg=b._emscripten_bind_b2Profile_get_solveTOI_0=g._emscripten_bind_b2Profile_get_solveTOI_0,sg=b._emscripten_bind_b2Vec2_b2Vec2_0=g._emscripten_bind_b2Vec2_b2Vec2_0,tg=b._emscripten_bind_b2DistanceJoint_GetAnchorB_0=g._emscripten_bind_b2DistanceJoint_GetAnchorB_0,ug=b._emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0=g._emscripten_bind_b2WheelJointDef_get_maxMotorTorque_0,vg=b._emscripten_bind_b2Vec2_op_sub_1=g._emscripten_bind_b2Vec2_op_sub_1,wg=b._emscripten_bind_b2CircleShape_get_m_p_0=g._emscripten_bind_b2CircleShape_get_m_p_0,xg=b._emscripten_bind_b2ContactFeature_get_indexA_0=g._emscripten_bind_b2ContactFeature_get_indexA_0,yg=b._emscripten_bind_b2MotorJointDef_b2MotorJointDef_0=g._emscripten_bind_b2MotorJointDef_b2MotorJointDef_0,zg=b._emscripten_bind_b2RevoluteJoint_EnableLimit_1=g._emscripten_bind_b2RevoluteJoint_EnableLimit_1,Ag=b._emscripten_bind_b2ContactEdge_get_next_0=g._emscripten_bind_b2ContactEdge_get_next_0,Bg=b._emscripten_bind_b2AABB_GetPerimeter_0=g._emscripten_bind_b2AABB_GetPerimeter_0,Cg=b._emscripten_bind_b2RevoluteJoint_GetCollideConnected_0=g._emscripten_bind_b2RevoluteJoint_GetCollideConnected_0,Dg=b._emscripten_bind_b2Mat33_get_ex_0=g._emscripten_bind_b2Mat33_get_ex_0,Eg=b._emscripten_bind_b2Body_GetPosition_0=g._emscripten_bind_b2Body_GetPosition_0,Fg=b._emscripten_bind_b2Profile___destroy___0=g._emscripten_bind_b2Profile___destroy___0,Gg=b._emscripten_bind_b2ContactEdge_get_prev_0=g._emscripten_bind_b2ContactEdge_get_prev_0,Hg=b._emscripten_bind_b2DistanceJoint_SetFrequency_1=g._emscripten_bind_b2DistanceJoint_SetFrequency_1,Ig=b._emscripten_bind_b2Fixture_GetBody_0=g._emscripten_bind_b2Fixture_GetBody_0,Jg=b._emscripten_bind_b2ContactImpulse_set_count_1=g._emscripten_bind_b2ContactImpulse_set_count_1,Kg=b._emscripten_bind_b2FixtureDef_set_shape_1=g._emscripten_bind_b2FixtureDef_set_shape_1,Lg=b._emscripten_bind_b2PulleyJointDef_get_bodyB_0=g._emscripten_bind_b2PulleyJointDef_get_bodyB_0,Mg=b._emscripten_bind_b2ChainShape_GetChildCount_0=g._emscripten_bind_b2ChainShape_GetChildCount_0,Ng=b._emscripten_bind_b2CircleShape_b2CircleShape_0=g._emscripten_bind_b2CircleShape_b2CircleShape_0,Og=b._emscripten_bind_b2RevoluteJoint_GetReactionTorque_1=g._emscripten_bind_b2RevoluteJoint_GetReactionTorque_1,Pg=b._emscripten_bind_b2Fixture_SetDensity_1=g._emscripten_bind_b2Fixture_SetDensity_1,Qg=b._emscripten_bind_b2ChainShape_get_m_prevVertex_0=g._emscripten_bind_b2ChainShape_get_m_prevVertex_0,Rg=b._emscripten_bind_b2AABB_GetExtents_0=g._emscripten_bind_b2AABB_GetExtents_0,Sg=b._emscripten_bind_b2World_ClearForces_0=g._emscripten_bind_b2World_ClearForces_0,Tg=b._emscripten_bind_b2Vec3___destroy___0=g._emscripten_bind_b2Vec3___destroy___0,Ug=b._emscripten_bind_b2WheelJointDef_set_userData_1=g._emscripten_bind_b2WheelJointDef_set_userData_1,Vg=b._emscripten_bind_b2WeldJoint_SetFrequency_1=g._emscripten_bind_b2WeldJoint_SetFrequency_1,Wg=b._emscripten_bind_JSContactListener_PreSolve_2=g._emscripten_bind_JSContactListener_PreSolve_2,Xg=b._emscripten_bind_b2Body_SetFixedRotation_1=g._emscripten_bind_b2Body_SetFixedRotation_1,Yg=b._emscripten_bind_b2RayCastOutput_set_normal_1=g._emscripten_bind_b2RayCastOutput_set_normal_1,Zg=b._emscripten_bind_b2DistanceJoint_GetDampingRatio_0=g._emscripten_bind_b2DistanceJoint_GetDampingRatio_0,$g=b._emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1=g._emscripten_bind_b2RevoluteJoint_SetMaxMotorTorque_1,ah=b._emscripten_bind_b2RevoluteJoint_EnableMotor_1=g._emscripten_bind_b2RevoluteJoint_EnableMotor_1,bh=b._emscripten_bind_b2Contact_GetChildIndexB_0=g._emscripten_bind_b2Contact_GetChildIndexB_0,ch=b._emscripten_bind_b2MouseJointDef_set_bodyB_1=g._emscripten_bind_b2MouseJointDef_set_bodyB_1,dh=b._emscripten_bind_b2CircleShape_GetType_0=g._emscripten_bind_b2CircleShape_GetType_0,eh=b._emscripten_bind_b2PolygonShape_GetType_0=g._emscripten_bind_b2PolygonShape_GetType_0,fh=b._emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1=g._emscripten_bind_b2PrismaticJointDef_set_referenceAngle_1,gh=b._emscripten_bind_b2RopeJointDef_get_collideConnected_0=g._emscripten_bind_b2RopeJointDef_get_collideConnected_0,hh=b._emscripten_bind_b2FixtureDef_set_filter_1=g._emscripten_bind_b2FixtureDef_set_filter_1,ih=b._emscripten_bind_b2Body_ApplyTorque_2=g._emscripten_bind_b2Body_ApplyTorque_2,jh=b._emscripten_bind_b2RevoluteJoint___destroy___0=g._emscripten_bind_b2RevoluteJoint___destroy___0,kh=b._emscripten_bind_b2FrictionJointDef_get_userData_0=g._emscripten_bind_b2FrictionJointDef_get_userData_0,lh=b._emscripten_bind_b2RayCastCallback___destroy___0=g._emscripten_bind_b2RayCastCallback___destroy___0,mh=b._emscripten_bind_b2RevoluteJointDef_set_bodyA_1=g._emscripten_bind_b2RevoluteJointDef_set_bodyA_1,nh=b._emscripten_bind_b2MotorJoint_SetUserData_1=g._emscripten_bind_b2MotorJoint_SetUserData_1,oh=b._emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0=g._emscripten_bind_b2PrismaticJoint_GetLocalAxisA_0,ph=b._emscripten_bind_b2MotorJoint_GetBodyB_0=g._emscripten_bind_b2MotorJoint_GetBodyB_0,qh=b._emscripten_bind_b2Transform_Set_2=g._emscripten_bind_b2Transform_Set_2,rh=b._emscripten_bind_b2MotorJoint_GetBodyA_0=g._emscripten_bind_b2MotorJoint_GetBodyA_0;b.stackAlloc=g.stackAlloc;var sh=b._emscripten_bind_b2Draw_AppendFlags_1=g._emscripten_bind_b2Draw_AppendFlags_1,th=b._emscripten_bind_b2EdgeShape_GetChildCount_0=g._emscripten_bind_b2EdgeShape_GetChildCount_0,uh=b._emscripten_bind_b2Contact_ResetFriction_0=g._emscripten_bind_b2Contact_ResetFriction_0,vh=b._emscripten_bind_b2Profile_set_solveTOI_1=g._emscripten_bind_b2Profile_set_solveTOI_1,wh=b._emscripten_bind_b2PrismaticJointDef_set_type_1=g._emscripten_bind_b2PrismaticJointDef_set_type_1,xh=b._emscripten_bind_b2AABB_GetCenter_0=g._emscripten_bind_b2AABB_GetCenter_0,yh=b._emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1=g._emscripten_bind_b2WheelJoint_SetSpringFrequencyHz_1,zh=b._emscripten_bind_b2FrictionJointDef___destroy___0=g._emscripten_bind_b2FrictionJointDef___destroy___0,Ah=b._emscripten_bind_b2PrismaticJoint_GetReactionForce_1=g._emscripten_bind_b2PrismaticJoint_GetReactionForce_1,Bh=b._emscripten_bind_b2Transform_b2Transform_0=g._emscripten_bind_b2Transform_b2Transform_0,Ch=b._emscripten_enum_b2LimitState_e_equalLimits=g._emscripten_enum_b2LimitState_e_equalLimits,Dh=b._emscripten_bind_b2ManifoldPoint_set_normalImpulse_1=g._emscripten_bind_b2ManifoldPoint_set_normalImpulse_1,Eh=b._emscripten_bind_b2Body_IsFixedRotation_0=g._emscripten_bind_b2Body_IsFixedRotation_0,Fh=b._emscripten_enum_b2DrawFlag_e_shapeBit=g._emscripten_enum_b2DrawFlag_e_shapeBit,Gh=b._emscripten_bind_b2Contact_GetFriction_0=g._emscripten_bind_b2Contact_GetFriction_0,Hh=b._emscripten_bind_b2Body_GetContactList_0=g._emscripten_bind_b2Body_GetContactList_0,Ih=b._emscripten_bind_b2DistanceJointDef_set_length_1=g._emscripten_bind_b2DistanceJointDef_set_length_1,Jh=b._emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0=g._emscripten_bind_b2DistanceJoint_GetLocalAnchorB_0,Kh=b._emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0=g._emscripten_bind_b2FrictionJoint_GetLocalAnchorB_0,Lh=b._emscripten_bind_b2World_b2World_1=g._emscripten_bind_b2World_b2World_1,Mh=b._emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0=g._emscripten_bind_b2PrismaticJoint_IsLimitEnabled_0,Nh=b._emscripten_bind_b2DistanceJointDef_get_type_0=g._emscripten_bind_b2DistanceJointDef_get_type_0,Oh=b._emscripten_bind_b2Draw_ClearFlags_1=g._emscripten_bind_b2Draw_ClearFlags_1,Ph=b._emscripten_bind_b2Body_SetAngularDamping_1=g._emscripten_bind_b2Body_SetAngularDamping_1,Qh=b._emscripten_bind_b2Body_IsActive_0=g._emscripten_bind_b2Body_IsActive_0,Rh=b._emscripten_bind_b2Contact_ResetRestitution_0=g._emscripten_bind_b2Contact_ResetRestitution_0,Sh=b._emscripten_bind_b2World_GetAllowSleeping_0=g._emscripten_bind_b2World_GetAllowSleeping_0,Th=b._emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0=g._emscripten_bind_b2ManifoldPoint_b2ManifoldPoint_0,Uh=b._emscripten_bind_b2EdgeShape_set_m_type_1=g._emscripten_bind_b2EdgeShape_set_m_type_1,Vh=b._emscripten_enum_b2JointType_e_unknownJoint=g._emscripten_enum_b2JointType_e_unknownJoint,Wh=b._emscripten_bind_b2RevoluteJointDef_set_enableMotor_1=g._emscripten_bind_b2RevoluteJointDef_set_enableMotor_1,Xh=b._emscripten_bind_b2PulleyJoint_IsActive_0=g._emscripten_bind_b2PulleyJoint_IsActive_0,Yh=b._emscripten_bind_b2MouseJoint_GetNext_0=g._emscripten_bind_b2MouseJoint_GetNext_0,Zh=b._emscripten_bind_b2RevoluteJoint_SetUserData_1=g._emscripten_bind_b2RevoluteJoint_SetUserData_1,$h=b._emscripten_bind_b2Manifold_get_localPoint_0=g._emscripten_bind_b2Manifold_get_localPoint_0,ai=b._emscripten_bind_b2PulleyJointDef_get_lengthB_0=g._emscripten_bind_b2PulleyJointDef_get_lengthB_0,bi=b._emscripten_bind_b2WeldJoint_SetUserData_1=g._emscripten_bind_b2WeldJoint_SetUserData_1,ci=b._emscripten_bind_b2ChainShape_CreateLoop_2=g._emscripten_bind_b2ChainShape_CreateLoop_2,di=b._emscripten_bind_b2GearJointDef_get_joint1_0=g._emscripten_bind_b2GearJointDef_get_joint1_0,ei=b._emscripten_bind_b2PrismaticJoint_GetMotorForce_1=g._emscripten_bind_b2PrismaticJoint_GetMotorForce_1,fi=b._emscripten_bind_b2Body_SetUserData_1=g._emscripten_bind_b2Body_SetUserData_1,gi=b._emscripten_bind_b2GearJoint_IsActive_0=g._emscripten_bind_b2GearJoint_IsActive_0,hi=b._emscripten_bind_b2EdgeShape_get_m_vertex0_0=g._emscripten_bind_b2EdgeShape_get_m_vertex0_0,ii=b._emscripten_enum_b2JointType_e_revoluteJoint=g._emscripten_enum_b2JointType_e_revoluteJoint,ji=b._emscripten_bind_b2Vec2_get_x_0=g._emscripten_bind_b2Vec2_get_x_0,ki=b._emscripten_bind_b2WeldJointDef_get_collideConnected_0=g._emscripten_bind_b2WeldJointDef_get_collideConnected_0,li=b._emscripten_bind_b2FrictionJoint_GetMaxTorque_0=g._emscripten_bind_b2FrictionJoint_GetMaxTorque_0,mi=b._emscripten_bind_b2EdgeShape_RayCast_4=g._emscripten_bind_b2EdgeShape_RayCast_4,ni=b._emscripten_bind_b2BodyDef_set_allowSleep_1=g._emscripten_bind_b2BodyDef_set_allowSleep_1,oi=b._emscripten_bind_b2PulleyJoint_GetType_0=g._emscripten_bind_b2PulleyJoint_GetType_0,pi=b._emscripten_bind_b2WeldJointDef_set_localAnchorA_1=g._emscripten_bind_b2WeldJointDef_set_localAnchorA_1,qi=b._emscripten_bind_b2Profile_set_step_1=g._emscripten_bind_b2Profile_set_step_1,ri=b._emscripten_bind_b2ContactEdge_set_other_1=g._emscripten_bind_b2ContactEdge_set_other_1,si=b._emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0=g._emscripten_bind_b2PulleyJoint_GetCurrentLengthB_0,ti=b._emscripten_bind_b2Vec2_op_mul_1=g._emscripten_bind_b2Vec2_op_mul_1,ui=b._emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0=g._emscripten_bind_b2PrismaticJointDef_get_localAnchorA_0,vi=b._emscripten_bind_b2EdgeShape___destroy___0=g._emscripten_bind_b2EdgeShape___destroy___0,wi=b._emscripten_bind_b2PolygonShape_get_m_count_0=g._emscripten_bind_b2PolygonShape_get_m_count_0,xi=b._emscripten_bind_b2RopeJoint_GetAnchorA_0=g._emscripten_bind_b2RopeJoint_GetAnchorA_0,yi=b._emscripten_bind_b2DistanceJointDef_get_bodyA_0=g._emscripten_bind_b2DistanceJointDef_get_bodyA_0,zi=b._emscripten_bind_b2AABB_Combine_2=g._emscripten_bind_b2AABB_Combine_2,Ai=b._emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1=g._emscripten_bind_b2ManifoldPoint_set_tangentImpulse_1,Bi=b._emscripten_bind_b2BodyDef_get_allowSleep_0=g._emscripten_bind_b2BodyDef_get_allowSleep_0,Ci=b._emscripten_bind_b2ContactEdge_get_other_0=g._emscripten_bind_b2ContactEdge_get_other_0,Di=b._emscripten_bind_b2RopeJoint_GetLocalAnchorB_0=g._emscripten_bind_b2RopeJoint_GetLocalAnchorB_0,Ei=b._emscripten_bind_b2PulleyJointDef___destroy___0=g._emscripten_bind_b2PulleyJointDef___destroy___0,Fi=b._emscripten_bind_b2MouseJoint_GetBodyB_0=g._emscripten_bind_b2MouseJoint_GetBodyB_0,Gi=b._emscripten_bind_b2PolygonShape_TestPoint_2=g._emscripten_bind_b2PolygonShape_TestPoint_2,Hi=b._emscripten_bind_b2JointEdge_get_other_0=g._emscripten_bind_b2JointEdge_get_other_0,Ii=b._emscripten_bind_b2PolygonShape_b2PolygonShape_0=g._emscripten_bind_b2PolygonShape_b2PolygonShape_0,Ji=b._emscripten_bind_b2PolygonShape_Set_2=g._emscripten_bind_b2PolygonShape_Set_2,Ki=b._emscripten_bind_b2GearJoint_GetReactionForce_1=g._emscripten_bind_b2GearJoint_GetReactionForce_1,Li=b._emscripten_bind_b2DistanceJointDef_get_localAnchorA_0=g._emscripten_bind_b2DistanceJointDef_get_localAnchorA_0,Mi=b._emscripten_bind_b2Fixture_SetUserData_1=g._emscripten_bind_b2Fixture_SetUserData_1,Ni=b._emscripten_bind_b2Contact_SetTangentSpeed_1=g._emscripten_bind_b2Contact_SetTangentSpeed_1,Oi=b._emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0=g._emscripten_bind_b2PrismaticJointDef_b2PrismaticJointDef_0,Pi=b._emscripten_bind_b2BodyDef_get_active_0=g._emscripten_bind_b2BodyDef_get_active_0,Qi=b._emscripten_bind_b2Body_GetAngularVelocity_0=g._emscripten_bind_b2Body_GetAngularVelocity_0,Ri=b._emscripten_bind_b2CircleShape_set_m_p_1=g._emscripten_bind_b2CircleShape_set_m_p_1,Si=b._emscripten_bind_b2Draw___destroy___0=g._emscripten_bind_b2Draw___destroy___0,Ti=b._emscripten_bind_b2WheelJointDef_Initialize_4=g._emscripten_bind_b2WheelJointDef_Initialize_4,Ui=b._emscripten_bind_b2WeldJointDef_set_dampingRatio_1=g._emscripten_bind_b2WeldJointDef_set_dampingRatio_1,Vi=b._emscripten_bind_b2ChainShape_b2ChainShape_0=g._emscripten_bind_b2ChainShape_b2ChainShape_0,Wi=b._emscripten_bind_b2Joint_GetAnchorB_0=g._emscripten_bind_b2Joint_GetAnchorB_0,Xi=b._emscripten_bind_b2PrismaticJointDef_get_userData_0=g._emscripten_bind_b2PrismaticJointDef_get_userData_0,Yi=b._emscripten_bind_b2MotorJoint_GetMaxForce_0=g._emscripten_bind_b2MotorJoint_GetMaxForce_0,Zi=b._emscripten_bind_b2RevoluteJoint_GetBodyA_0=g._emscripten_bind_b2RevoluteJoint_GetBodyA_0,$i=b._emscripten_bind_b2ContactID_set_cf_1=g._emscripten_bind_b2ContactID_set_cf_1,aj=b._emscripten_bind_b2Body_GetGravityScale_0=g._emscripten_bind_b2Body_GetGravityScale_0,bj=b._emscripten_bind_b2Vec3_Set_3=g._emscripten_bind_b2Vec3_Set_3,cj=b._emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1=g._emscripten_bind_b2RevoluteJointDef_set_localAnchorA_1,dj=b._emscripten_bind_b2FrictionJointDef_set_localAnchorB_1=g._emscripten_bind_b2FrictionJointDef_set_localAnchorB_1,ej=b._emscripten_bind_b2PulleyJoint_GetNext_0=g._emscripten_bind_b2PulleyJoint_GetNext_0,fj=b._emscripten_bind_b2ChainShape_get_m_type_0=g._emscripten_bind_b2ChainShape_get_m_type_0,gj=b._emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0=g._emscripten_bind_b2PulleyJointDef_get_groundAnchorB_0,hj=b._emscripten_bind_JSDraw_DrawTransform_1=g._emscripten_bind_JSDraw_DrawTransform_1,ij=b._emscripten_bind_b2GearJointDef_get_bodyA_0=g._emscripten_bind_b2GearJointDef_get_bodyA_0,jj=b._emscripten_bind_b2DistanceJointDef_set_frequencyHz_1=g._emscripten_bind_b2DistanceJointDef_set_frequencyHz_1,kj=b._emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0=g._emscripten_bind_b2RevoluteJointDef_get_localAnchorB_0,lj=b._emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0=g._emscripten_bind_b2RevoluteJointDef_get_referenceAngle_0,mj=b._emscripten_bind_JSContactFilter___destroy___0=g._emscripten_bind_JSContactFilter___destroy___0,nj=b._emscripten_bind_b2RevoluteJointDef_get_enableMotor_0=g._emscripten_bind_b2RevoluteJointDef_get_enableMotor_0,ib=b._memset=g._memset,oj=b._emscripten_bind_b2PolygonShape_get_m_radius_0=g._emscripten_bind_b2PolygonShape_get_m_radius_0,pj=b._emscripten_enum_b2BodyType_b2_kinematicBody=g._emscripten_enum_b2BodyType_b2_kinematicBody,qj=b._emscripten_bind_b2Rot_set_s_1=g._emscripten_bind_b2Rot_set_s_1,rj=b._emscripten_enum_b2ManifoldType_e_faceA=g._emscripten_enum_b2ManifoldType_e_faceA,sj=b._emscripten_enum_b2ManifoldType_e_faceB=g._emscripten_enum_b2ManifoldType_e_faceB,tj=b._emscripten_bind_b2RevoluteJointDef_get_bodyB_0=g._emscripten_bind_b2RevoluteJointDef_get_bodyB_0,uj=b._emscripten_bind_b2FixtureDef_b2FixtureDef_0=g._emscripten_bind_b2FixtureDef_b2FixtureDef_0,vj=b._emscripten_bind_b2PrismaticJoint_SetUserData_1=g._emscripten_bind_b2PrismaticJoint_SetUserData_1,wj=b._emscripten_bind_b2EdgeShape_get_m_hasVertex3_0=g._emscripten_bind_b2EdgeShape_get_m_hasVertex3_0,xj=b._emscripten_enum_b2ShapeType_e_edge=g._emscripten_enum_b2ShapeType_e_edge,yj=b._emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0=g._emscripten_bind_b2RevoluteJoint_GetMaxMotorTorque_0,zj=b._emscripten_bind_b2BodyDef_set_active_1=g._emscripten_bind_b2BodyDef_set_active_1,Aj=b._emscripten_bind_b2EdgeShape_Set_2=g._emscripten_bind_b2EdgeShape_Set_2,Bj=b._emscripten_bind_b2FixtureDef_set_isSensor_1=g._emscripten_bind_b2FixtureDef_set_isSensor_1,Cj=b._emscripten_bind_b2Body_GetWorldPoint_1=g._emscripten_bind_b2Body_GetWorldPoint_1,Dj=b._emscripten_bind_b2ManifoldPoint_get_normalImpulse_0=g._emscripten_bind_b2ManifoldPoint_get_normalImpulse_0,Ej=b._emscripten_bind_JSContactFilter_ShouldCollide_2=g._emscripten_bind_JSContactFilter_ShouldCollide_2,Fj=b._emscripten_bind_b2Joint_GetReactionTorque_1=g._emscripten_bind_b2Joint_GetReactionTorque_1,Gj=b._emscripten_bind_b2RevoluteJointDef_set_type_1=g._emscripten_bind_b2RevoluteJointDef_set_type_1,Hj=b._emscripten_bind_b2RayCastInput_set_p1_1=g._emscripten_bind_b2RayCastInput_set_p1_1,Ij=b._emscripten_bind_b2RopeJointDef_b2RopeJointDef_0=g._emscripten_bind_b2RopeJointDef_b2RopeJointDef_0,Jj=b._emscripten_bind_b2BodyDef_get_linearDamping_0=g._emscripten_bind_b2BodyDef_get_linearDamping_0,Kj=b._emscripten_bind_b2World_Step_3=g._emscripten_bind_b2World_Step_3,Lj=b._emscripten_bind_b2CircleShape_RayCast_4=g._emscripten_bind_b2CircleShape_RayCast_4,Mj=b._emscripten_bind_b2Profile_get_step_0=g._emscripten_bind_b2Profile_get_step_0,Nj=b._emscripten_bind_b2AABB_RayCast_2=g._emscripten_bind_b2AABB_RayCast_2,Oj=b._emscripten_bind_b2Mat22_SetZero_0=g._emscripten_bind_b2Mat22_SetZero_0;b.setTempRet0=g.setTempRet0;var Pj=b._emscripten_bind_b2DistanceJoint_GetLength_0=g._emscripten_bind_b2DistanceJoint_GetLength_0,Qj=b._emscripten_bind_b2PulleyJoint_GetLengthB_0=g._emscripten_bind_b2PulleyJoint_GetLengthB_0,Rj=b._emscripten_bind_b2PrismaticJoint_GetUpperLimit_0=g._emscripten_bind_b2PrismaticJoint_GetUpperLimit_0,Sj=b._emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1=g._emscripten_bind_b2WheelJoint_SetMaxMotorTorque_1,Tj=b._emscripten_bind_b2MotorJoint_GetUserData_0=g._emscripten_bind_b2MotorJoint_GetUserData_0,Uj=b._emscripten_bind_b2FrictionJoint_GetReactionTorque_1=g._emscripten_bind_b2FrictionJoint_GetReactionTorque_1,Vj=b._emscripten_bind_b2Shape_get_m_type_0=g._emscripten_bind_b2Shape_get_m_type_0,Wj=b._emscripten_bind_b2MouseJoint_SetDampingRatio_1=g._emscripten_bind_b2MouseJoint_SetDampingRatio_1,Xj=b._emscripten_bind_b2World_GetAutoClearForces_0=g._emscripten_bind_b2World_GetAutoClearForces_0,Yj=b._emscripten_enum_b2ShapeType_e_circle=g._emscripten_enum_b2ShapeType_e_circle,Zj=b._emscripten_bind_b2BodyDef_set_fixedRotation_1=g._emscripten_bind_b2BodyDef_set_fixedRotation_1,ak=b._emscripten_bind_b2Vec2_b2Vec2_2=g._emscripten_bind_b2Vec2_b2Vec2_2,bk=b._emscripten_bind_b2Manifold_get_type_0=g._emscripten_bind_b2Manifold_get_type_0,ck=b._emscripten_bind_b2Body_Dump_0=g._emscripten_bind_b2Body_Dump_0,dk=b._emscripten_bind_b2RevoluteJoint_GetLowerLimit_0=g._emscripten_bind_b2RevoluteJoint_GetLowerLimit_0,ek=b._emscripten_bind_b2Body_GetWorldCenter_0=g._emscripten_bind_b2Body_GetWorldCenter_0,fk=b._emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1=g._emscripten_bind_b2WheelJointDef_set_maxMotorTorque_1,gk=b._emscripten_bind_b2BodyDef_set_linearVelocity_1=g._emscripten_bind_b2BodyDef_set_linearVelocity_1,hk=b._emscripten_bind_b2JointDef_set_collideConnected_1=g._emscripten_bind_b2JointDef_set_collideConnected_1,ik=b._emscripten_bind_b2MotorJoint___destroy___0=g._emscripten_bind_b2MotorJoint___destroy___0,jk=b._emscripten_bind_b2Body_GetUserData_0=g._emscripten_bind_b2Body_GetUserData_0,kk=b._emscripten_bind_b2Body_GetAngularDamping_0=g._emscripten_bind_b2Body_GetAngularDamping_0,lk=b._emscripten_bind_b2Fixture_RayCast_3=g._emscripten_bind_b2Fixture_RayCast_3,mk=b._emscripten_bind_b2JointDef_set_bodyA_1=g._emscripten_bind_b2JointDef_set_bodyA_1,nk=b._emscripten_bind_b2GearJointDef_get_collideConnected_0=g._emscripten_bind_b2GearJointDef_get_collideConnected_0,ok=b._emscripten_bind_b2RopeJointDef_get_maxLength_0=g._emscripten_bind_b2RopeJointDef_get_maxLength_0,pk=b._emscripten_bind_b2MouseJointDef_get_bodyA_0=g._emscripten_bind_b2MouseJointDef_get_bodyA_0,qk=b._emscripten_bind_b2Body_SetBullet_1=g._emscripten_bind_b2Body_SetBullet_1,rk=b._emscripten_bind_b2DistanceJoint_GetType_0=g._emscripten_bind_b2DistanceJoint_GetType_0,sk=b._emscripten_bind_b2FixtureDef_get_restitution_0=g._emscripten_bind_b2FixtureDef_get_restitution_0,tk=b._emscripten_bind_b2Fixture_GetType_0=g._emscripten_bind_b2Fixture_GetType_0,uk=b._emscripten_bind_b2WheelJointDef_set_enableMotor_1=g._emscripten_bind_b2WheelJointDef_set_enableMotor_1,vk=b._emscripten_bind_b2RevoluteJoint_GetBodyB_0=g._emscripten_bind_b2RevoluteJoint_GetBodyB_0,wk=b._emscripten_bind_b2Profile_set_solveInit_1=g._emscripten_bind_b2Profile_set_solveInit_1,xk=b._emscripten_bind_b2RopeJointDef_set_type_1=g._emscripten_bind_b2RopeJointDef_set_type_1,yk=b._emscripten_bind_b2PrismaticJointDef_get_bodyB_0=g._emscripten_bind_b2PrismaticJointDef_get_bodyB_0,zk=b._emscripten_bind_b2GearJoint_GetJoint2_0=g._emscripten_bind_b2GearJoint_GetJoint2_0,Ak=b._emscripten_bind_b2PulleyJointDef_get_userData_0=g._emscripten_bind_b2PulleyJointDef_get_userData_0,Bk=b._emscripten_bind_b2PrismaticJointDef_set_bodyB_1=g._emscripten_bind_b2PrismaticJointDef_set_bodyB_1,Ck=b._emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0=g._emscripten_bind_b2FrictionJointDef_b2FrictionJointDef_0,gb=b._i64Subtract=g._i64Subtract,xb=b.___udivdi3=g.___udivdi3,Dk=b._emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0=g._emscripten_bind_b2PulleyJoint_GetCurrentLengthA_0,Ek=b._emscripten_bind_b2Manifold_get_localNormal_0=g._emscripten_bind_b2Manifold_get_localNormal_0,Fk=b._emscripten_bind_b2Vec3_b2Vec3_0=g._emscripten_bind_b2Vec3_b2Vec3_0,Gk=b._emscripten_bind_b2Body_SetSleepingAllowed_1=g._emscripten_bind_b2Body_SetSleepingAllowed_1,Hk=b._emscripten_bind_b2DistanceJoint___destroy___0=g._emscripten_bind_b2DistanceJoint___destroy___0,Ik=b._emscripten_bind_b2PrismaticJoint_GetAnchorA_0=g._emscripten_bind_b2PrismaticJoint_GetAnchorA_0,Jk=b._emscripten_bind_b2Manifold_set_pointCount_1=g._emscripten_bind_b2Manifold_set_pointCount_1,Kk=b._emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0=g._emscripten_bind_b2PrismaticJoint_IsMotorEnabled_0,Lk=b._emscripten_bind_b2WeldJoint_GetFrequency_0=g._emscripten_bind_b2WeldJoint_GetFrequency_0,Mk=b._emscripten_bind_b2Joint_GetUserData_0=g._emscripten_bind_b2Joint_GetUserData_0,Nk=b._emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0=g._emscripten_bind_b2RevoluteJointDef_get_lowerAngle_0,Ok=b._emscripten_bind_b2Manifold_set_type_1=g._emscripten_bind_b2Manifold_set_type_1,Pk=b._emscripten_bind_b2Vec3_b2Vec3_3=g._emscripten_bind_b2Vec3_b2Vec3_3,Qk=b._emscripten_bind_b2RopeJointDef_set_maxLength_1=g._emscripten_bind_b2RopeJointDef_set_maxLength_1,Rk=b._emscripten_bind_b2ChainShape_TestPoint_2=g._emscripten_bind_b2ChainShape_TestPoint_2,Sk=b._emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0=g._emscripten_bind_b2PrismaticJoint_GetReferenceAngle_0,Tk=b._emscripten_bind_b2RayCastInput_get_p2_0=g._emscripten_bind_b2RayCastInput_get_p2_0,Uk=b._emscripten_bind_b2BodyDef_set_angle_1=g._emscripten_bind_b2BodyDef_set_angle_1,Vk=b._emscripten_bind_b2WeldJoint_GetUserData_0=g._emscripten_bind_b2WeldJoint_GetUserData_0,Wk=b._emscripten_bind_b2WheelJointDef_get_localAnchorA_0=g._emscripten_bind_b2WheelJointDef_get_localAnchorA_0,Xk=b._emscripten_bind_b2PulleyJointDef_set_type_1=g._emscripten_bind_b2PulleyJointDef_set_type_1,Yk=b._emscripten_bind_b2Body_IsBullet_0=g._emscripten_bind_b2Body_IsBullet_0,Zk=b._emscripten_bind_b2MotorJointDef_set_bodyA_1=g._emscripten_bind_b2MotorJointDef_set_bodyA_1,$k=b._emscripten_bind_b2Fixture_TestPoint_1=g._emscripten_bind_b2Fixture_TestPoint_1,al=b._emscripten_bind_b2Mat33_GetSymInverse33_1=g._emscripten_bind_b2Mat33_GetSymInverse33_1,bl=b._emscripten_bind_JSDraw_DrawPolygon_3=g._emscripten_bind_JSDraw_DrawPolygon_3,cl=b._emscripten_bind_b2PolygonShape_ComputeMass_2=g._emscripten_bind_b2PolygonShape_ComputeMass_2,dl=b._emscripten_bind_b2PrismaticJoint_EnableMotor_1=g._emscripten_bind_b2PrismaticJoint_EnableMotor_1,el=b._emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1=g._emscripten_bind_b2PrismaticJointDef_set_upperTranslation_1,fl=b._emscripten_bind_b2MouseJoint_SetFrequency_1=g._emscripten_bind_b2MouseJoint_SetFrequency_1,gl=b._emscripten_bind_b2EdgeShape_get_m_vertex1_0=g._emscripten_bind_b2EdgeShape_get_m_vertex1_0,hl=b._emscripten_bind_b2BodyDef_set_awake_1=g._emscripten_bind_b2BodyDef_set_awake_1,il=b._emscripten_bind_b2Vec2_get_y_0=g._emscripten_bind_b2Vec2_get_y_0,jl=b._emscripten_bind_b2Filter_set_categoryBits_1=g._emscripten_bind_b2Filter_set_categoryBits_1,kl=b._emscripten_bind_b2Body_CreateFixture_2=g._emscripten_bind_b2Body_CreateFixture_2,ll=b._emscripten_bind_b2Body_SetActive_1=g._emscripten_bind_b2Body_SetActive_1,ml=b._emscripten_bind_b2ContactFeature_get_indexB_0=g._emscripten_bind_b2ContactFeature_get_indexB_0,nl=b._emscripten_bind_b2Fixture_GetUserData_0=g._emscripten_bind_b2Fixture_GetUserData_0,ol=b._emscripten_bind_b2PolygonShape_ComputeAABB_3=g._emscripten_bind_b2PolygonShape_ComputeAABB_3,pl=b._emscripten_bind_b2ContactFeature_get_typeA_0=g._emscripten_bind_b2ContactFeature_get_typeA_0,ql=b._emscripten_bind_b2MouseJointDef_set_maxForce_1=g._emscripten_bind_b2MouseJointDef_set_maxForce_1,rl=b._emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0=g._emscripten_bind_b2PrismaticJoint_GetLocalAnchorA_0,sl=b._emscripten_bind_b2EdgeShape_TestPoint_2=g._emscripten_bind_b2EdgeShape_TestPoint_2,tl=b._emscripten_bind_b2PolygonShape_get_m_centroid_0=g._emscripten_bind_b2PolygonShape_get_m_centroid_0,ul=b._emscripten_bind_b2ChainShape___destroy___0=g._emscripten_bind_b2ChainShape___destroy___0,vl=b._emscripten_bind_b2GearJoint_SetUserData_1=g._emscripten_bind_b2GearJoint_SetUserData_1,wl=b._emscripten_bind_b2Vec3_set_z_1=g._emscripten_bind_b2Vec3_set_z_1,xl=b._emscripten_bind_b2PrismaticJointDef_set_enableLimit_1=g._emscripten_bind_b2PrismaticJointDef_set_enableLimit_1,yl=b._emscripten_bind_b2DistanceJoint_GetFrequency_0=g._emscripten_bind_b2DistanceJoint_GetFrequency_0,zl=b._emscripten_bind_b2PrismaticJointDef_get_collideConnected_0=g._emscripten_bind_b2PrismaticJointDef_get_collideConnected_0,Al=b._emscripten_bind_b2Body_SetGravityScale_1=g._emscripten_bind_b2Body_SetGravityScale_1,Bl=b._emscripten_enum_b2ContactFeatureType_e_face=g._emscripten_enum_b2ContactFeatureType_e_face,Cl=b._emscripten_bind_b2RevoluteJoint_GetUpperLimit_0=g._emscripten_bind_b2RevoluteJoint_GetUpperLimit_0,Dl=b._emscripten_bind_b2PulleyJointDef_get_lengthA_0=g._emscripten_bind_b2PulleyJointDef_get_lengthA_0,El=b._emscripten_bind_b2Vec3_set_x_1=g._emscripten_bind_b2Vec3_set_x_1,Fl=b._emscripten_bind_b2PulleyJointDef_get_type_0=g._emscripten_bind_b2PulleyJointDef_get_type_0,Gl=b._emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1=g._emscripten_bind_JSDestructionListener_SayGoodbyeJoint_1,Hl=b._emscripten_bind_b2Shape___destroy___0=g._emscripten_bind_b2Shape___destroy___0,Cb=b.___uremdi3=g.___uremdi3,Il=b._emscripten_bind_b2Joint_GetReactionForce_1=g._emscripten_bind_b2Joint_GetReactionForce_1,Jl=b._emscripten_bind_b2FixtureDef_set_friction_1=g._emscripten_bind_b2FixtureDef_set_friction_1,Kl=b._emscripten_bind_b2ContactID___destroy___0=g._emscripten_bind_b2ContactID___destroy___0,Ll=b._emscripten_bind_b2EdgeShape_get_m_hasVertex0_0=g._emscripten_bind_b2EdgeShape_get_m_hasVertex0_0,Ml=b._emscripten_bind_b2World_GetBodyCount_0=g._emscripten_bind_b2World_GetBodyCount_0,Nl=b._emscripten_bind_b2JointEdge_get_prev_0=g._emscripten_bind_b2JointEdge_get_prev_0,Ol=b._emscripten_bind_b2MotorJointDef_get_linearOffset_0=g._emscripten_bind_b2MotorJointDef_get_linearOffset_0,Pl=b._emscripten_bind_b2MotorJointDef_Initialize_2=g._emscripten_bind_b2MotorJointDef_Initialize_2,Ql=b._emscripten_bind_b2PrismaticJoint_GetAnchorB_0=g._emscripten_bind_b2PrismaticJoint_GetAnchorB_0,Rl=b._emscripten_bind_b2Body_SetLinearVelocity_1=g._emscripten_bind_b2Body_SetLinearVelocity_1,Sl=b._emscripten_enum_b2BodyType_b2_staticBody=g._emscripten_enum_b2BodyType_b2_staticBody,Tl=b._emscripten_bind_b2RevoluteJointDef_set_upperAngle_1=g._emscripten_bind_b2RevoluteJointDef_set_upperAngle_1,Ul=b._emscripten_bind_b2RevoluteJointDef_get_type_0=g._emscripten_bind_b2RevoluteJointDef_get_type_0,Vl=b._emscripten_bind_b2GearJointDef_get_type_0=g._emscripten_bind_b2GearJointDef_get_type_0,Wl=b._emscripten_bind_b2ChainShape_GetType_0=g._emscripten_bind_b2ChainShape_GetType_0,Xl=b._emscripten_bind_b2RayCastInput_get_maxFraction_0=g._emscripten_bind_b2RayCastInput_get_maxFraction_0,Yl=b._emscripten_bind_b2GearJoint_GetBodyA_0=g._emscripten_bind_b2GearJoint_GetBodyA_0,Zl=b._emscripten_bind_b2Body_GetLocalVector_1=g._emscripten_bind_b2Body_GetLocalVector_1,$l=b._emscripten_bind_b2PrismaticJoint_EnableLimit_1=g._emscripten_bind_b2PrismaticJoint_EnableLimit_1,am=b._emscripten_bind_b2FrictionJointDef_get_maxForce_0=g._emscripten_bind_b2FrictionJointDef_get_maxForce_0,bm=b._emscripten_bind_b2BodyDef_set_angularVelocity_1=g._emscripten_bind_b2BodyDef_set_angularVelocity_1,cm=b._emscripten_bind_b2Body_SetLinearDamping_1=g._emscripten_bind_b2Body_SetLinearDamping_1,dm=b._emscripten_bind_b2WheelJoint_GetBodyB_0=g._emscripten_bind_b2WheelJoint_GetBodyB_0,em=b._emscripten_bind_b2GearJointDef_get_joint2_0=g._emscripten_bind_b2GearJointDef_get_joint2_0,fm=b._emscripten_bind_b2PrismaticJoint_IsActive_0=g._emscripten_bind_b2PrismaticJoint_IsActive_0,gm=b._emscripten_bind_b2Vec3_get_z_0=g._emscripten_bind_b2Vec3_get_z_0,hm=b._emscripten_bind_b2Filter_get_categoryBits_0=g._emscripten_bind_b2Filter_get_categoryBits_0,im=b._emscripten_enum_b2JointType_e_weldJoint=g._emscripten_enum_b2JointType_e_weldJoint,jm=b._emscripten_bind_b2World_SetContinuousPhysics_1=g._emscripten_bind_b2World_SetContinuousPhysics_1,km=b._emscripten_bind_b2MouseJointDef_get_target_0=g._emscripten_bind_b2MouseJointDef_get_target_0,lm=b._emscripten_bind_b2Body_SetTransform_2=g._emscripten_bind_b2Body_SetTransform_2,mm=b._emscripten_bind_b2PulleyJointDef_set_userData_1=g._emscripten_bind_b2PulleyJointDef_set_userData_1,nm=b._emscripten_bind_b2FrictionJointDef_set_maxForce_1=g._emscripten_bind_b2FrictionJointDef_set_maxForce_1,om=b._emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0=g._emscripten_bind_b2DistanceJointDef_b2DistanceJointDef_0,pm=b._emscripten_bind_b2BodyDef_get_type_0=g._emscripten_bind_b2BodyDef_get_type_0,qm=b._emscripten_bind_b2Mat33_GetInverse22_1=g._emscripten_bind_b2Mat33_GetInverse22_1,rm=b._emscripten_bind_b2PulleyJoint_GetAnchorB_0=g._emscripten_bind_b2PulleyJoint_GetAnchorB_0,sm=b._emscripten_bind_b2WheelJoint_GetReactionTorque_1=g._emscripten_bind_b2WheelJoint_GetReactionTorque_1,tm=b._emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0=g._emscripten_bind_b2RevoluteJointDef_b2RevoluteJointDef_0,um=b._emscripten_bind_b2ContactFeature_set_typeA_1=g._emscripten_bind_b2ContactFeature_set_typeA_1,wm=b._emscripten_bind_b2Fixture_Dump_1=g._emscripten_bind_b2Fixture_Dump_1,xm=b._emscripten_bind_b2RevoluteJointDef_get_enableLimit_0=g._emscripten_bind_b2RevoluteJointDef_get_enableLimit_0,ym=b._emscripten_bind_b2Manifold_set_localPoint_1=g._emscripten_bind_b2Manifold_set_localPoint_1,zm=b._emscripten_bind_b2JointDef_get_userData_0=g._emscripten_bind_b2JointDef_get_userData_0,Am=b._emscripten_bind_b2BodyDef_set_bullet_1=g._emscripten_bind_b2BodyDef_set_bullet_1,Bm=b._emscripten_bind_b2RayCastOutput___destroy___0=g._emscripten_bind_b2RayCastOutput___destroy___0,Cm=b._emscripten_bind_JSContactListener___destroy___0=g._emscripten_bind_JSContactListener___destroy___0,Dm=b._emscripten_bind_b2World_DrawDebugData_0=g._emscripten_bind_b2World_DrawDebugData_0;b.___cxa_can_catch=g.___cxa_can_catch;var Em=b._emscripten_bind_b2RopeJointDef_get_localAnchorA_0=g._emscripten_bind_b2RopeJointDef_get_localAnchorA_0,Fm=b._emscripten_bind_b2Profile_set_solveVelocity_1=g._emscripten_bind_b2Profile_set_solveVelocity_1,Gm=b._emscripten_bind_b2GearJointDef_get_userData_0=g._emscripten_bind_b2GearJointDef_get_userData_0,Hm=b._emscripten_bind_b2Filter_set_groupIndex_1=g._emscripten_bind_b2Filter_set_groupIndex_1,Im=b._emscripten_bind_b2JointDef_b2JointDef_0=g._emscripten_bind_b2JointDef_b2JointDef_0,Jm=b._emscripten_bind_b2Rot_set_c_1=g._emscripten_bind_b2Rot_set_c_1,Km=b._emscripten_bind_b2GearJointDef_b2GearJointDef_0=g._emscripten_bind_b2GearJointDef_b2GearJointDef_0,Lm=b._emscripten_bind_b2JointDef_get_bodyB_0=g._emscripten_bind_b2JointDef_get_bodyB_0,Mm=b._emscripten_bind_b2DistanceJoint_GetReactionForce_1=g._emscripten_bind_b2DistanceJoint_GetReactionForce_1,Nm=b._emscripten_bind_b2PrismaticJoint_GetJointSpeed_0=g._emscripten_bind_b2PrismaticJoint_GetJointSpeed_0,Om=b._emscripten_bind_b2MouseJointDef_set_frequencyHz_1=g._emscripten_bind_b2MouseJointDef_set_frequencyHz_1,Pm=b._emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0=g._emscripten_bind_b2PulleyJointDef_get_groundAnchorA_0,Qm=b._emscripten_bind_b2Joint_GetAnchorA_0=g._emscripten_bind_b2Joint_GetAnchorA_0,Rm=b._emscripten_bind_b2Contact_GetRestitution_0=g._emscripten_bind_b2Contact_GetRestitution_0,Sm=b._emscripten_bind_b2ContactEdge_get_contact_0=g._emscripten_bind_b2ContactEdge_get_contact_0,Tm=b._emscripten_bind_b2RevoluteJointDef_get_userData_0=g._emscripten_bind_b2RevoluteJointDef_get_userData_0,Um=b._emscripten_bind_b2Body_ResetMassData_0=g._emscripten_bind_b2Body_ResetMassData_0,Vm=b._emscripten_bind_b2Fixture_GetAABB_1=g._emscripten_bind_b2Fixture_GetAABB_1,Wm=b._emscripten_bind_b2PrismaticJointDef_set_collideConnected_1=g._emscripten_bind_b2PrismaticJointDef_set_collideConnected_1,Xm=b._emscripten_bind_b2Body_GetMassData_1=g._emscripten_bind_b2Body_GetMassData_1,Ym=b._emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0=g._emscripten_bind_b2RevoluteJointDef_get_localAnchorA_0,Zm=b._emscripten_bind_b2EdgeShape_ComputeMass_2=g._emscripten_bind_b2EdgeShape_ComputeMass_2,$m=b._emscripten_bind_b2GearJointDef_get_bodyB_0=g._emscripten_bind_b2GearJointDef_get_bodyB_0,an=b._emscripten_enum_b2LimitState_e_atLowerLimit=g._emscripten_enum_b2LimitState_e_atLowerLimit,bn=b._emscripten_bind_b2ManifoldPoint_set_id_1=g._emscripten_bind_b2ManifoldPoint_set_id_1,cn=b._emscripten_bind_b2WheelJointDef_get_bodyB_0=g._emscripten_bind_b2WheelJointDef_get_bodyB_0,dn=b._emscripten_bind_b2WeldJoint_GetLocalAnchorB_0=g._emscripten_bind_b2WeldJoint_GetLocalAnchorB_0,en=b._emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1=g._emscripten_bind_b2RevoluteJointDef_set_localAnchorB_1,fn=b._emscripten_bind_b2WeldJointDef_set_frequencyHz_1=g._emscripten_bind_b2WeldJointDef_set_frequencyHz_1,gn=b._emscripten_bind_b2Body_DestroyFixture_1=g._emscripten_bind_b2Body_DestroyFixture_1,hn=b._emscripten_bind_b2Profile_set_broadphase_1=g._emscripten_bind_b2Profile_set_broadphase_1,jn=b._emscripten_bind_b2WheelJointDef_get_localAnchorB_0=g._emscripten_bind_b2WheelJointDef_get_localAnchorB_0,kn=b._emscripten_bind_b2ContactImpulse_get_count_0=g._emscripten_bind_b2ContactImpulse_get_count_0,ln=b._emscripten_bind_b2World_GetJointCount_0=g._emscripten_bind_b2World_GetJointCount_0,mn=b._emscripten_bind_b2WheelJoint_GetMotorSpeed_0=g._emscripten_bind_b2WheelJoint_GetMotorSpeed_0,nn=b._emscripten_bind_b2WheelJointDef_get_dampingRatio_0=g._emscripten_bind_b2WheelJointDef_get_dampingRatio_0,on=b._emscripten_bind_b2RayCastOutput_get_fraction_0=g._emscripten_bind_b2RayCastOutput_get_fraction_0,pn=b._emscripten_bind_b2AABB___destroy___0=g._emscripten_bind_b2AABB___destroy___0,qn=b._emscripten_bind_b2GearJoint_SetRatio_1=g._emscripten_bind_b2GearJoint_SetRatio_1,rn=b._emscripten_bind_b2Body_ApplyLinearImpulse_3=g._emscripten_bind_b2Body_ApplyLinearImpulse_3,sn=b._emscripten_bind_b2Filter___destroy___0=g._emscripten_bind_b2Filter___destroy___0,tn=b._emscripten_bind_b2RopeJointDef_get_userData_0=g._emscripten_bind_b2RopeJointDef_get_userData_0;b.___cxa_is_pointer_type=g.___cxa_is_pointer_type;var un=b._emscripten_bind_b2BodyDef_get_fixedRotation_0=g._emscripten_bind_b2BodyDef_get_fixedRotation_0,vn=b._emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1=g._emscripten_bind_b2PrismaticJointDef_set_motorSpeed_1,wn=b._emscripten_bind_b2ChainShape_SetPrevVertex_1=g._emscripten_bind_b2ChainShape_SetPrevVertex_1,xn=b._emscripten_bind_b2MotorJoint_IsActive_0=g._emscripten_bind_b2MotorJoint_IsActive_0,yn=b._emscripten_bind_b2MouseJoint_GetReactionTorque_1=g._emscripten_bind_b2MouseJoint_GetReactionTorque_1,zn=b._emscripten_bind_b2DistanceJointDef_set_collideConnected_1=g._emscripten_bind_b2DistanceJointDef_set_collideConnected_1,An=b._emscripten_bind_b2WheelJoint_GetUserData_0=g._emscripten_bind_b2WheelJoint_GetUserData_0,Bn=b._emscripten_bind_b2Vec3_op_sub_1=g._emscripten_bind_b2Vec3_op_sub_1,Cn=b._emscripten_bind_b2WheelJoint_GetNext_0=g._emscripten_bind_b2WheelJoint_GetNext_0,Dn=b._emscripten_bind_b2Shape_GetType_0=g._emscripten_bind_b2Shape_GetType_0,En=b._emscripten_bind_b2AABB_IsValid_0=g._emscripten_bind_b2AABB_IsValid_0,Fn=b._emscripten_bind_b2WheelJoint_GetBodyA_0=g._emscripten_bind_b2WheelJoint_GetBodyA_0,Gn=b._emscripten_enum_b2ShapeType_e_chain=g._emscripten_enum_b2ShapeType_e_chain,Hn=b._emscripten_bind_b2PulleyJoint_GetLengthA_0=g._emscripten_bind_b2PulleyJoint_GetLengthA_0,In=b._emscripten_bind_b2DistanceJointDef_get_frequencyHz_0=g._emscripten_bind_b2DistanceJointDef_get_frequencyHz_0,Jn=b._emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1=g._emscripten_bind_b2RevoluteJoint_SetMotorSpeed_1,Kn=b._emscripten_bind_b2World___destroy___0=g._emscripten_bind_b2World___destroy___0,Ln=b._emscripten_bind_b2ChainShape_set_m_prevVertex_1=g._emscripten_bind_b2ChainShape_set_m_prevVertex_1,Mn=b._emscripten_bind_b2ChainShape_get_m_hasNextVertex_0=g._emscripten_bind_b2ChainShape_get_m_hasNextVertex_0,Nn=b._emscripten_bind_b2ChainShape_SetNextVertex_1=g._emscripten_bind_b2ChainShape_SetNextVertex_1,On=b._emscripten_bind_b2Body_SetType_1=g._emscripten_bind_b2Body_SetType_1,Pn=b._emscripten_bind_b2Body_GetMass_0=g._emscripten_bind_b2Body_GetMass_0,Qn=b._emscripten_bind_b2Rot_b2Rot_0=g._emscripten_bind_b2Rot_b2Rot_0,Rn=b._emscripten_bind_b2Rot_b2Rot_1=g._emscripten_bind_b2Rot_b2Rot_1,Sn=b._emscripten_enum_b2JointType_e_distanceJoint=g._emscripten_enum_b2JointType_e_distanceJoint,Tn=b._emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1=g._emscripten_bind_b2Body_GetLinearVelocityFromLocalPoint_1,Un=b._emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1=g._emscripten_bind_b2WheelJoint_SetSpringDampingRatio_1,Vn=b._emscripten_bind_b2MouseJoint_GetType_0=g._emscripten_bind_b2MouseJoint_GetType_0,Wn=b._emscripten_bind_b2MouseJoint_GetTarget_0=g._emscripten_bind_b2MouseJoint_GetTarget_0,Xn=b._emscripten_bind_JSQueryCallback___destroy___0=g._emscripten_bind_JSQueryCallback___destroy___0,Yn=b._emscripten_bind_b2Fixture_Refilter_0=g._emscripten_bind_b2Fixture_Refilter_0,Zn=b._emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1=g._emscripten_bind_b2RevoluteJointDef_set_lowerAngle_1,$n=b._emscripten_bind_b2JointEdge___destroy___0=g._emscripten_bind_b2JointEdge___destroy___0,ao=b._emscripten_bind_b2PulleyJoint_GetRatio_0=g._emscripten_bind_b2PulleyJoint_GetRatio_0,bo=b._emscripten_bind_JSContactListener_BeginContact_1=g._emscripten_bind_JSContactListener_BeginContact_1,co=b._emscripten_bind_b2MotorJointDef_set_linearOffset_1=g._emscripten_bind_b2MotorJointDef_set_linearOffset_1,eo=b._emscripten_enum_b2JointType_e_motorJoint=g._emscripten_enum_b2JointType_e_motorJoint,fo=b._emscripten_bind_b2EdgeShape_get_m_vertex2_0=g._emscripten_bind_b2EdgeShape_get_m_vertex2_0,go=b._emscripten_bind_b2JointEdge_get_next_0=g._emscripten_bind_b2JointEdge_get_next_0,ho=b._emscripten_bind_b2RayCastInput_set_maxFraction_1=g._emscripten_bind_b2RayCastInput_set_maxFraction_1,io=b._emscripten_bind_b2MouseJoint_GetBodyA_0=g._emscripten_bind_b2MouseJoint_GetBodyA_0,jo=b._emscripten_bind_b2BodyDef_get_awake_0=g._emscripten_bind_b2BodyDef_get_awake_0,ko=b._emscripten_bind_b2AABB_b2AABB_0=g._emscripten_bind_b2AABB_b2AABB_0,lo=b._emscripten_bind_b2Fixture_SetFriction_1=g._emscripten_bind_b2Fixture_SetFriction_1,mo=b._emscripten_enum_b2DrawFlag_e_centerOfMassBit=g._emscripten_enum_b2DrawFlag_e_centerOfMassBit,no=b._emscripten_bind_b2World_CreateBody_1=g._emscripten_bind_b2World_CreateBody_1,oo=b._emscripten_bind_b2RopeJointDef_set_userData_1=g._emscripten_bind_b2RopeJointDef_set_userData_1,po=b._emscripten_bind_b2WeldJoint_GetNext_0=g._emscripten_bind_b2WeldJoint_GetNext_0,qo=b._emscripten_bind_b2WeldJoint_GetType_0=g._emscripten_bind_b2WeldJoint_GetType_0,ro=b._emscripten_enum_b2ContactFeatureType_e_vertex=g._emscripten_enum_b2ContactFeatureType_e_vertex,so=b._emscripten_bind_b2Rot___destroy___0=g._emscripten_bind_b2Rot___destroy___0,to=b._emscripten_bind_b2Filter_get_maskBits_0=g._emscripten_bind_b2Filter_get_maskBits_0,uo=b._emscripten_bind_b2Mat22_get_ex_0=g._emscripten_bind_b2Mat22_get_ex_0,vo=b._emscripten_bind_b2Body_GetFixtureList_0=g._emscripten_bind_b2Body_GetFixtureList_0,wo=b._emscripten_bind_b2PulleyJoint___destroy___0=g._emscripten_bind_b2PulleyJoint___destroy___0,xo=b._emscripten_bind_b2MouseJointDef_set_dampingRatio_1=g._emscripten_bind_b2MouseJointDef_set_dampingRatio_1,yo=b._emscripten_bind_JSRayCastCallback___destroy___0=g._emscripten_bind_JSRayCastCallback___destroy___0,zo=b._emscripten_bind_b2ContactListener___destroy___0=g._emscripten_bind_b2ContactListener___destroy___0,Ao=b._emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1=g._emscripten_bind_b2PrismaticJointDef_set_localAnchorB_1;b.establishStackSpace=g.establishStackSpace;var Bo=b._emscripten_bind_b2FrictionJoint___destroy___0=g._emscripten_bind_b2FrictionJoint___destroy___0,Co=b._emscripten_bind_b2WeldJoint_Dump_0=g._emscripten_bind_b2WeldJoint_Dump_0,Do=b._emscripten_bind_b2MotorJoint_SetMaxForce_1=g._emscripten_bind_b2MotorJoint_SetMaxForce_1,Eo=b._emscripten_bind_b2MouseJoint_GetFrequency_0=g._emscripten_bind_b2MouseJoint_GetFrequency_0,Fo=b._emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0=g._emscripten_bind_b2FrictionJoint_GetLocalAnchorA_0,Go=b._emscripten_bind_b2RevoluteJointDef_set_collideConnected_1=g._emscripten_bind_b2RevoluteJointDef_set_collideConnected_1,Ho=b._emscripten_bind_b2GearJointDef_set_collideConnected_1=g._emscripten_bind_b2GearJointDef_set_collideConnected_1,Io=b._emscripten_bind_b2Vec2_IsValid_0=g._emscripten_bind_b2Vec2_IsValid_0,Jo=b._emscripten_bind_b2PrismaticJointDef_set_bodyA_1=g._emscripten_bind_b2PrismaticJointDef_set_bodyA_1,Ko=b._emscripten_bind_b2World_GetWarmStarting_0=g._emscripten_bind_b2World_GetWarmStarting_0,Lo=b._emscripten_bind_b2RevoluteJointDef_set_enableLimit_1=g._emscripten_bind_b2RevoluteJointDef_set_enableLimit_1,Mo=b._emscripten_bind_b2WeldJointDef___destroy___0=g._emscripten_bind_b2WeldJointDef___destroy___0,No=b._emscripten_bind_b2Mat22_Solve_1=g._emscripten_bind_b2Mat22_Solve_1,Oo=b._emscripten_bind_b2Color_get_g_0=g._emscripten_bind_b2Color_get_g_0,Po=b._emscripten_bind_VoidPtr___destroy___0=g._emscripten_bind_VoidPtr___destroy___0,Qo=b._emscripten_bind_b2RopeJoint_GetNext_0=g._emscripten_bind_b2RopeJoint_GetNext_0,Ro=b._emscripten_bind_b2EdgeShape_get_m_type_0=g._emscripten_bind_b2EdgeShape_get_m_type_0,So=b._emscripten_bind_b2PolygonShape_GetChildCount_0=g._emscripten_bind_b2PolygonShape_GetChildCount_0,To=b._emscripten_bind_b2GearJointDef_get_ratio_0=g._emscripten_bind_b2GearJointDef_get_ratio_0,Uo=b._emscripten_bind_b2Mat33_Solve33_1=g._emscripten_bind_b2Mat33_Solve33_1,Vo=b._emscripten_bind_b2WeldJointDef_set_userData_1=g._emscripten_bind_b2WeldJointDef_set_userData_1,Wo=b._emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0=g._emscripten_bind_b2PrismaticJoint_GetLocalAnchorB_0,Xo=b._emscripten_bind_b2RevoluteJointDef___destroy___0=g._emscripten_bind_b2RevoluteJointDef___destroy___0,Yo=b._emscripten_bind_b2MotorJointDef_get_correctionFactor_0=g._emscripten_bind_b2MotorJointDef_get_correctionFactor_0,Zo=b._emscripten_bind_b2ContactFeature_get_typeB_0=g._emscripten_bind_b2ContactFeature_get_typeB_0,$o=b._emscripten_bind_b2ContactID_get_key_0=g._emscripten_bind_b2ContactID_get_key_0,ap=b._emscripten_bind_b2MotorJoint_GetReactionForce_1=g._emscripten_bind_b2MotorJoint_GetReactionForce_1,bp=b._emscripten_bind_b2Rot_GetAngle_0=g._emscripten_bind_b2Rot_GetAngle_0,cp=b._emscripten_bind_b2World_SetAllowSleeping_1=g._emscripten_bind_b2World_SetAllowSleeping_1,dp=b._emscripten_bind_b2RopeJoint_GetType_0=g._emscripten_bind_b2RopeJoint_GetType_0,ep=b._emscripten_bind_b2MotorJoint_SetAngularOffset_1=g._emscripten_bind_b2MotorJoint_SetAngularOffset_1,fp=b._emscripten_bind_b2MotorJoint_GetLinearOffset_0=g._emscripten_bind_b2MotorJoint_GetLinearOffset_0,gp=b._emscripten_bind_b2FrictionJoint_GetCollideConnected_0=g._emscripten_bind_b2FrictionJoint_GetCollideConnected_0,hp=b._emscripten_bind_b2WheelJointDef_set_motorSpeed_1=g._emscripten_bind_b2WheelJointDef_set_motorSpeed_1,ip=b._emscripten_bind_b2MotorJoint_GetAnchorA_0=g._emscripten_bind_b2MotorJoint_GetAnchorA_0,jp=b._emscripten_bind_b2Fixture_GetDensity_0=g._emscripten_bind_b2Fixture_GetDensity_0,kp=b._emscripten_bind_b2MouseJointDef_get_type_0=g._emscripten_bind_b2MouseJointDef_get_type_0,lp=b._emscripten_bind_b2Vec2_Set_2=g._emscripten_bind_b2Vec2_Set_2,mp=b._emscripten_bind_b2WeldJointDef_get_type_0=g._emscripten_bind_b2WeldJointDef_get_type_0,np=b._emscripten_bind_b2MouseJointDef_b2MouseJointDef_0=g._emscripten_bind_b2MouseJointDef_b2MouseJointDef_0,op=b._emscripten_bind_b2Rot_get_s_0=g._emscripten_bind_b2Rot_get_s_0,pp=b._emscripten_bind_b2FrictionJoint_SetMaxTorque_1=g._emscripten_bind_b2FrictionJoint_SetMaxTorque_1,qp=b._emscripten_bind_b2MouseJointDef_get_frequencyHz_0=g._emscripten_bind_b2MouseJointDef_get_frequencyHz_0,rp=b._emscripten_bind_b2FrictionJoint_SetUserData_1=g._emscripten_bind_b2FrictionJoint_SetUserData_1,sp=b._emscripten_bind_b2RayCastInput_get_p1_0=g._emscripten_bind_b2RayCastInput_get_p1_0,tp=b._emscripten_bind_b2DistanceJointDef_get_collideConnected_0=g._emscripten_bind_b2DistanceJointDef_get_collideConnected_0,up=b._emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1=g._emscripten_bind_b2RevoluteJointDef_set_referenceAngle_1,vp=b._emscripten_bind_b2ContactFeature___destroy___0=g._emscripten_bind_b2ContactFeature___destroy___0,wp=b._emscripten_bind_b2Color___destroy___0=g._emscripten_bind_b2Color___destroy___0,xp=b._emscripten_bind_b2DistanceJointDef_set_bodyB_1=g._emscripten_bind_b2DistanceJointDef_set_bodyB_1,yp=b._emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0=g._emscripten_bind_b2ChainShape_get_m_hasPrevVertex_0,zp=b._emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0=g._emscripten_bind_b2PulleyJointDef_b2PulleyJointDef_0,Ap=b._emscripten_bind_b2RevoluteJoint_GetType_0=g._emscripten_bind_b2RevoluteJoint_GetType_0,Bp=b._emscripten_bind_b2MassData_b2MassData_0=g._emscripten_bind_b2MassData_b2MassData_0,Cp=b._emscripten_bind_b2Vec3_set_y_1=g._emscripten_bind_b2Vec3_set_y_1,Dp=b._emscripten_bind_b2BodyDef_set_angularDamping_1=g._emscripten_bind_b2BodyDef_set_angularDamping_1,Ep=b._emscripten_bind_b2AABB_Combine_1=g._emscripten_bind_b2AABB_Combine_1,Fp=b._emscripten_bind_b2WheelJointDef_set_bodyB_1=g._emscripten_bind_b2WheelJointDef_set_bodyB_1,Gp=b._emscripten_bind_b2PrismaticJoint_GetBodyA_0=g._emscripten_bind_b2PrismaticJoint_GetBodyA_0,Hp=b._emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0=g._emscripten_bind_b2PrismaticJoint_GetMaxMotorForce_0,Ip=b._emscripten_bind_b2RevoluteJointDef_get_upperAngle_0=g._emscripten_bind_b2RevoluteJointDef_get_upperAngle_0,Jp=b._emscripten_bind_b2Body_IsSleepingAllowed_0=g._emscripten_bind_b2Body_IsSleepingAllowed_0,Kp=b._emscripten_bind_b2MotorJoint_GetCorrectionFactor_0=g._emscripten_bind_b2MotorJoint_GetCorrectionFactor_0,Lp=b._emscripten_bind_b2Profile_get_solve_0=g._emscripten_bind_b2Profile_get_solve_0,Mp=b._emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1=g._emscripten_bind_JSDestructionListener_SayGoodbyeFixture_1,Np=b._emscripten_bind_b2PolygonShape_GetVertexCount_0=g._emscripten_bind_b2PolygonShape_GetVertexCount_0,Op=b._emscripten_bind_b2Rot_get_c_0=g._emscripten_bind_b2Rot_get_c_0,Pp=b._emscripten_bind_b2AABB_set_lowerBound_1=g._emscripten_bind_b2AABB_set_lowerBound_1,Qp=b._emscripten_bind_b2Fixture_SetFilterData_1=g._emscripten_bind_b2Fixture_SetFilterData_1,Rp=b._emscripten_bind_b2MouseJoint_SetMaxForce_1=g._emscripten_bind_b2MouseJoint_SetMaxForce_1,Sp=b._emscripten_bind_b2WheelJoint_IsMotorEnabled_0=g._emscripten_bind_b2WheelJoint_IsMotorEnabled_0,Tp=b._emscripten_bind_b2JointDef_set_userData_1=g._emscripten_bind_b2JointDef_set_userData_1,Up=b._emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0=g._emscripten_bind_b2ManifoldPoint_get_tangentImpulse_0,Vp=b._emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0=g._emscripten_bind_b2RevoluteJointDef_get_maxMotorTorque_0,Wp=b._emscripten_bind_b2WeldJointDef_get_dampingRatio_0=g._emscripten_bind_b2WeldJointDef_get_dampingRatio_0,Xp=b._emscripten_bind_b2Rot_SetIdentity_0=g._emscripten_bind_b2Rot_SetIdentity_0,Yp=b._emscripten_bind_b2EdgeShape_b2EdgeShape_0=g._emscripten_bind_b2EdgeShape_b2EdgeShape_0,Zp=b._emscripten_bind_b2FrictionJoint_GetReactionForce_1=g._emscripten_bind_b2FrictionJoint_GetReactionForce_1,$p=b._emscripten_bind_b2MouseJoint_GetUserData_0=g._emscripten_bind_b2MouseJoint_GetUserData_0,aq=b._emscripten_bind_b2DistanceJointDef_set_type_1=g._emscripten_bind_b2DistanceJointDef_set_type_1,bq=b._emscripten_bind_b2WeldJoint_GetAnchorA_0=g._emscripten_bind_b2WeldJoint_GetAnchorA_0,cq=b._emscripten_bind_b2WeldJoint___destroy___0=g._emscripten_bind_b2WeldJoint___destroy___0,dq=b._emscripten_bind_b2Manifold_b2Manifold_0=g._emscripten_bind_b2Manifold_b2Manifold_0,eq=b._emscripten_bind_JSContactListener_PostSolve_2=g._emscripten_bind_JSContactListener_PostSolve_2,fq=b._emscripten_bind_b2PulleyJoint_GetBodyA_0=g._emscripten_bind_b2PulleyJoint_GetBodyA_0,gq=b._emscripten_bind_b2RopeJointDef_get_type_0=g._emscripten_bind_b2RopeJointDef_get_type_0,hq=b._emscripten_bind_b2CircleShape_ComputeMass_2=g._emscripten_bind_b2CircleShape_ComputeMass_2,iq=b._emscripten_bind_b2DistanceJointDef_get_localAnchorB_0=g._emscripten_bind_b2DistanceJointDef_get_localAnchorB_0,jq=b._emscripten_bind_b2GearJointDef___destroy___0=g._emscripten_bind_b2GearJointDef___destroy___0,kq=b._emscripten_bind_b2PulleyJointDef_set_localAnchorA_1=g._emscripten_bind_b2PulleyJointDef_set_localAnchorA_1,lq=b._emscripten_bind_b2CircleShape_TestPoint_2=g._emscripten_bind_b2CircleShape_TestPoint_2,mq=b._emscripten_bind_b2MotorJointDef_get_maxTorque_0=g._emscripten_bind_b2MotorJointDef_get_maxTorque_0,kb=b._bitshift64Shl=g._bitshift64Shl,nq=b._emscripten_bind_b2FrictionJointDef_set_bodyB_1=g._emscripten_bind_b2FrictionJointDef_set_bodyB_1,oq=b._emscripten_bind_b2MouseJoint_GetAnchorB_0=g._emscripten_bind_b2MouseJoint_GetAnchorB_0,pq=b._emscripten_bind_b2RopeJointDef_get_localAnchorB_0=g._emscripten_bind_b2RopeJointDef_get_localAnchorB_0,qq=b._emscripten_bind_b2GearJoint_GetBodyB_0=g._emscripten_bind_b2GearJoint_GetBodyB_0,hb=b._i64Add=g._i64Add,rq=b._emscripten_bind_b2CircleShape___destroy___0=g._emscripten_bind_b2CircleShape___destroy___0,sq=b._emscripten_bind_b2MotorJoint_GetType_0=g._emscripten_bind_b2MotorJoint_GetType_0,tq=b._emscripten_bind_b2World_GetContactCount_0=g._emscripten_bind_b2World_GetContactCount_0,uq=b._emscripten_bind_b2Contact_SetRestitution_1=g._emscripten_bind_b2Contact_SetRestitution_1,vq=b._emscripten_bind_b2BodyDef_get_angularDamping_0=g._emscripten_bind_b2BodyDef_get_angularDamping_0,wq=b._emscripten_bind_b2EdgeShape_get_m_vertex3_0=g._emscripten_bind_b2EdgeShape_get_m_vertex3_0,xq=b._emscripten_bind_b2MassData_set_center_1=g._emscripten_bind_b2MassData_set_center_1,yq=b._emscripten_bind_b2Transform_SetIdentity_0=g._emscripten_bind_b2Transform_SetIdentity_0,zq=b._emscripten_bind_b2GearJointDef_set_joint1_1=g._emscripten_bind_b2GearJointDef_set_joint1_1,Aq=b._emscripten_bind_b2EdgeShape_set_m_vertex2_1=g._emscripten_bind_b2EdgeShape_set_m_vertex2_1,Bq=b._emscripten_bind_b2Contact_SetFriction_1=g._emscripten_bind_b2Contact_SetFriction_1,Cq=b._emscripten_bind_b2MouseJointDef_set_collideConnected_1=g._emscripten_bind_b2MouseJointDef_set_collideConnected_1,Dq=b._emscripten_bind_b2ContactFeature_set_indexB_1=g._emscripten_bind_b2ContactFeature_set_indexB_1,Eq=b._emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1=g._emscripten_bind_b2Body_GetLinearVelocityFromWorldPoint_1,Fq=b._emscripten_bind_b2WeldJoint_GetCollideConnected_0=g._emscripten_bind_b2WeldJoint_GetCollideConnected_0,Gq=b._emscripten_bind_b2Mat22_GetInverse_0=g._emscripten_bind_b2Mat22_GetInverse_0,Hq=b._emscripten_bind_b2WheelJointDef_set_frequencyHz_1=g._emscripten_bind_b2WheelJointDef_set_frequencyHz_1,Iq=b._emscripten_bind_b2World_GetSubStepping_0=g._emscripten_bind_b2World_GetSubStepping_0,Jq=b._emscripten_bind_b2Rot_GetYAxis_0=g._emscripten_bind_b2Rot_GetYAxis_0;b._emscripten_get_global_libc=g._emscripten_get_global_libc;var Kq=b._emscripten_bind_b2WheelJointDef_get_localAxisA_0=g._emscripten_bind_b2WheelJointDef_get_localAxisA_0,Lq=b._emscripten_bind_b2RopeJoint_GetBodyB_0=g._emscripten_bind_b2RopeJoint_GetBodyB_0,Mq=b._emscripten_bind_b2EdgeShape_GetType_0=g._emscripten_bind_b2EdgeShape_GetType_0,Nq=b._emscripten_bind_b2Mat22_set_ex_1=g._emscripten_bind_b2Mat22_set_ex_1,Oq=b._emscripten_bind_b2ManifoldPoint___destroy___0=g._emscripten_bind_b2ManifoldPoint___destroy___0,Pq=b._emscripten_enum_b2JointType_e_prismaticJoint=g._emscripten_enum_b2JointType_e_prismaticJoint,Qq=b._emscripten_bind_b2WeldJointDef_get_referenceAngle_0=g._emscripten_bind_b2WeldJointDef_get_referenceAngle_0,Rq=b._emscripten_bind_b2Vec2_Length_0=g._emscripten_bind_b2Vec2_Length_0,Sq=b._emscripten_bind_b2Vec2_SetZero_0=g._emscripten_bind_b2Vec2_SetZero_0,Tq=b._emscripten_bind_b2RopeJoint___destroy___0=g._emscripten_bind_b2RopeJoint___destroy___0,Uq=b._emscripten_bind_b2World_DestroyJoint_1=g._emscripten_bind_b2World_DestroyJoint_1,Vq=b._emscripten_bind_b2JointDef_set_bodyB_1=g._emscripten_bind_b2JointDef_set_bodyB_1,Wq=b._emscripten_bind_b2Mat22_Set_2=g._emscripten_bind_b2Mat22_Set_2,Xq=b._emscripten_bind_b2JointEdge_set_next_1=g._emscripten_bind_b2JointEdge_set_next_1,Yq=b._emscripten_bind_b2WeldJoint_GetAnchorB_0=g._emscripten_bind_b2WeldJoint_GetAnchorB_0,Zq=b._emscripten_enum_b2DrawFlag_e_aabbBit=g._emscripten_enum_b2DrawFlag_e_aabbBit,$q=b._emscripten_bind_b2EdgeShape_ComputeAABB_3=g._emscripten_bind_b2EdgeShape_ComputeAABB_3,ar=b._emscripten_bind_b2PolygonShape_set_m_centroid_1=g._emscripten_bind_b2PolygonShape_set_m_centroid_1,br=b._emscripten_bind_b2WheelJointDef_set_collideConnected_1=g._emscripten_bind_b2WheelJointDef_set_collideConnected_1,cr=b._emscripten_bind_b2World_GetJointList_0=g._emscripten_bind_b2World_GetJointList_0,dr=b._emscripten_bind_b2MotorJointDef_get_type_0=g._emscripten_bind_b2MotorJointDef_get_type_0,er=b._emscripten_bind_b2RopeJoint_GetLocalAnchorA_0=g._emscripten_bind_b2RopeJoint_GetLocalAnchorA_0,fr=b._emscripten_bind_b2BodyDef_set_linearDamping_1=g._emscripten_bind_b2BodyDef_set_linearDamping_1,gr=b._emscripten_bind_b2FrictionJoint_GetUserData_0=g._emscripten_bind_b2FrictionJoint_GetUserData_0,hr=b._emscripten_bind_b2Shape_TestPoint_2=g._emscripten_bind_b2Shape_TestPoint_2,ir=b._emscripten_bind_b2Manifold_set_localNormal_1=g._emscripten_bind_b2Manifold_set_localNormal_1,jr=b._emscripten_bind_b2JointDef_get_bodyA_0=g._emscripten_bind_b2JointDef_get_bodyA_0,kr=b._emscripten_bind_b2Body_GetLinearDamping_0=g._emscripten_bind_b2Body_GetLinearDamping_0,jb=b._bitshift64Lshr=g._bitshift64Lshr,lr=b._emscripten_bind_b2BodyDef_set_userData_1=g._emscripten_bind_b2BodyDef_set_userData_1,mr=b._emscripten_bind_b2PrismaticJointDef_set_enableMotor_1=g._emscripten_bind_b2PrismaticJointDef_set_enableMotor_1,nr=b._emscripten_bind_b2Vec2_Skew_0=g._emscripten_bind_b2Vec2_Skew_0,or=b._emscripten_bind_b2MouseJoint_GetDampingRatio_0=g._emscripten_bind_b2MouseJoint_GetDampingRatio_0,pr=b._emscripten_bind_b2RevoluteJoint_GetAnchorA_0=g._emscripten_bind_b2RevoluteJoint_GetAnchorA_0,qr=b._emscripten_bind_b2ContactFeature_set_typeB_1=g._emscripten_bind_b2ContactFeature_set_typeB_1,rr=b._emscripten_bind_b2WheelJoint_GetAnchorA_0=g._emscripten_bind_b2WheelJoint_GetAnchorA_0,sr=b._emscripten_bind_b2MotorJoint_GetMaxTorque_0=g._emscripten_bind_b2MotorJoint_GetMaxTorque_0;b.setThrew=g.setThrew;var tr=b._emscripten_bind_b2PrismaticJointDef_set_userData_1=g._emscripten_bind_b2PrismaticJointDef_set_userData_1,ur=b._emscripten_bind_b2FrictionJointDef_set_type_1=g._emscripten_bind_b2FrictionJointDef_set_type_1,vr=b._emscripten_bind_b2FrictionJointDef_Initialize_3=g._emscripten_bind_b2FrictionJointDef_Initialize_3,zb=b._sbrk=g._sbrk,wr=b._emscripten_bind_b2FrictionJointDef_get_collideConnected_0=g._emscripten_bind_b2FrictionJointDef_get_collideConnected_0,qb=b._memcpy=g._memcpy,xr=b._emscripten_bind_b2FrictionJoint_GetAnchorA_0=g._emscripten_bind_b2FrictionJoint_GetAnchorA_0,yr=b._emscripten_enum_b2DrawFlag_e_pairBit=g._emscripten_enum_b2DrawFlag_e_pairBit,zr=b._emscripten_bind_b2MassData_get_I_0=g._emscripten_bind_b2MassData_get_I_0,Ar=b._emscripten_bind_b2WheelJointDef_get_motorSpeed_0=g._emscripten_bind_b2WheelJointDef_get_motorSpeed_0,Br=b._emscripten_bind_b2Filter_set_maskBits_1=g._emscripten_bind_b2Filter_set_maskBits_1,Cr=b._emscripten_bind_b2WheelJoint_GetCollideConnected_0=g._emscripten_bind_b2WheelJoint_GetCollideConnected_0,Dr=b._emscripten_bind_b2EdgeShape_get_m_radius_0=g._emscripten_bind_b2EdgeShape_get_m_radius_0,Er=b._emscripten_bind_b2World_GetTreeHeight_0=g._emscripten_bind_b2World_GetTreeHeight_0,Fr=b._emscripten_bind_b2Mat22_b2Mat22_2=g._emscripten_bind_b2Mat22_b2Mat22_2,Gr=b._emscripten_bind_b2PrismaticJoint_GetNext_0=g._emscripten_bind_b2PrismaticJoint_GetNext_0,Hr=b._emscripten_bind_b2Mat22_b2Mat22_0=g._emscripten_bind_b2Mat22_b2Mat22_0,Ir=b._emscripten_bind_b2PrismaticJointDef_get_bodyA_0=g._emscripten_bind_b2PrismaticJointDef_get_bodyA_0,Jr=b._emscripten_bind_b2RopeJointDef_set_localAnchorA_1=g._emscripten_bind_b2RopeJointDef_set_localAnchorA_1,Kr=b._emscripten_bind_b2ChainShape_set_m_hasNextVertex_1=g._emscripten_bind_b2ChainShape_set_m_hasNextVertex_1,Lr=b._emscripten_bind_b2Mat22_set_ey_1=g._emscripten_bind_b2Mat22_set_ey_1,Mr=b._emscripten_bind_b2MotorJointDef_set_angularOffset_1=g._emscripten_bind_b2MotorJointDef_set_angularOffset_1,Nr=b._emscripten_bind_b2CircleShape_get_m_type_0=g._emscripten_bind_b2CircleShape_get_m_type_0,Or=b._emscripten_bind_b2Body_GetType_0=g._emscripten_bind_b2Body_GetType_0,Pr=b._emscripten_bind_b2ContactEdge_b2ContactEdge_0=g._emscripten_bind_b2ContactEdge_b2ContactEdge_0,Qr=b._emscripten_bind_b2BodyDef___destroy___0=g._emscripten_bind_b2BodyDef___destroy___0,Rr=b._emscripten_bind_b2FrictionJointDef_set_maxTorque_1=g._emscripten_bind_b2FrictionJointDef_set_maxTorque_1,Ma=b._free=g._free,Sr=b._emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1=g._emscripten_bind_b2PulleyJointDef_set_groundAnchorB_1,Tr=b._emscripten_bind_b2RevoluteJointDef_get_collideConnected_0=g._emscripten_bind_b2RevoluteJointDef_get_collideConnected_0,Ur=b._emscripten_bind_b2DistanceJointDef_set_bodyA_1=g._emscripten_bind_b2DistanceJointDef_set_bodyA_1;b.runPostSets=g.runPostSets;var Vr=b._emscripten_bind_b2RevoluteJoint_SetLimits_2=g._emscripten_bind_b2RevoluteJoint_SetLimits_2,Wr=b._emscripten_bind_b2WeldJointDef_set_type_1=g._emscripten_bind_b2WeldJointDef_set_type_1,Xr=b._emscripten_bind_b2MotorJointDef___destroy___0=g._emscripten_bind_b2MotorJointDef___destroy___0,Yr=b._emscripten_bind_b2FrictionJoint_GetNext_0=g._emscripten_bind_b2FrictionJoint_GetNext_0,Zr=b._emscripten_bind_b2Shape_set_m_type_1=g._emscripten_bind_b2Shape_set_m_type_1,$r=b._emscripten_bind_b2WheelJoint_GetJointTranslation_0=g._emscripten_bind_b2WheelJoint_GetJointTranslation_0,as=b._emscripten_bind_b2WheelJoint_GetMotorTorque_1=g._emscripten_bind_b2WheelJoint_GetMotorTorque_1,bs=b._emscripten_bind_b2RopeJoint_SetUserData_1=g._emscripten_bind_b2RopeJoint_SetUserData_1,cs=b._emscripten_bind_b2RopeJointDef___destroy___0=g._emscripten_bind_b2RopeJointDef___destroy___0,ds=b._emscripten_bind_b2WheelJoint_IsActive_0=g._emscripten_bind_b2WheelJoint_IsActive_0,es=b._emscripten_bind_b2PrismaticJointDef_get_enableMotor_0=g._emscripten_bind_b2PrismaticJointDef_get_enableMotor_0,gs=b._emscripten_bind_b2MotorJointDef_set_bodyB_1=g._emscripten_bind_b2MotorJointDef_set_bodyB_1,hs=b._emscripten_bind_JSDestructionListener___destroy___0=g._emscripten_bind_JSDestructionListener___destroy___0,is=b._emscripten_bind_b2Transform_b2Transform_2=g._emscripten_bind_b2Transform_b2Transform_2,js=b._emscripten_bind_b2WeldJoint_GetReactionForce_1=g._emscripten_bind_b2WeldJoint_GetReactionForce_1,ks=b._emscripten_bind_b2ChainShape_RayCast_4=g._emscripten_bind_b2ChainShape_RayCast_4,ls=b._emscripten_bind_b2Vec2_set_y_1=g._emscripten_bind_b2Vec2_set_y_1,ms=b._emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1=g._emscripten_bind_b2PrismaticJoint_SetMotorSpeed_1,ns=b._emscripten_bind_b2ContactID_get_cf_0=g._emscripten_bind_b2ContactID_get_cf_0,ps=b._emscripten_bind_b2DistanceJointDef_Initialize_4=g._emscripten_bind_b2DistanceJointDef_Initialize_4,qs=b._emscripten_bind_b2ChainShape_get_m_radius_0=g._emscripten_bind_b2ChainShape_get_m_radius_0,rs=b._emscripten_bind_b2WeldJointDef_set_localAnchorB_1=g._emscripten_bind_b2WeldJointDef_set_localAnchorB_1,ss=b._emscripten_bind_b2ChainShape_set_m_radius_1=g._emscripten_bind_b2ChainShape_set_m_radius_1,ts=b._emscripten_bind_b2DistanceJoint_GetReactionTorque_1=g._emscripten_bind_b2DistanceJoint_GetReactionTorque_1,us=b._emscripten_bind_b2World_Dump_0=g._emscripten_bind_b2World_Dump_0,vs=b._emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0=g._emscripten_bind_b2RevoluteJoint_GetLocalAnchorB_0,xs=b._emscripten_bind_JSContactFilter_JSContactFilter_0=g._emscripten_bind_JSContactFilter_JSContactFilter_0,ys=b._emscripten_bind_b2Profile_set_solve_1=g._emscripten_bind_b2Profile_set_solve_1,zs=b._emscripten_bind_b2FixtureDef_set_density_1=g._emscripten_bind_b2FixtureDef_set_density_1,As=b._emscripten_bind_b2WeldJoint_GetDampingRatio_0=g._emscripten_bind_b2WeldJoint_GetDampingRatio_0,Bs=b._emscripten_bind_b2Color_get_b_0=g._emscripten_bind_b2Color_get_b_0,Cs=b._emscripten_bind_b2MouseJointDef_get_userData_0=g._emscripten_bind_b2MouseJointDef_get_userData_0,Ds=b._emscripten_bind_b2CircleShape_ComputeAABB_3=g._emscripten_bind_b2CircleShape_ComputeAABB_3,Es=b._emscripten_bind_b2RopeJoint_GetReactionForce_1=g._emscripten_bind_b2RopeJoint_GetReactionForce_1,Fs=b._emscripten_bind_b2PrismaticJointDef_get_enableLimit_0=g._emscripten_bind_b2PrismaticJointDef_get_enableLimit_0,Gs=b._emscripten_bind_b2ManifoldPoint_set_localPoint_1=g._emscripten_bind_b2ManifoldPoint_set_localPoint_1,Hs=b._emscripten_bind_b2Fixture_GetFilterData_0=g._emscripten_bind_b2Fixture_GetFilterData_0,Is=b._emscripten_bind_b2World_GetBodyList_0=g._emscripten_bind_b2World_GetBodyList_0,Js=b._emscripten_bind_b2Body_GetJointList_0=g._emscripten_bind_b2Body_GetJointList_0,Ks=b._emscripten_bind_b2Joint_GetNext_0=g._emscripten_bind_b2Joint_GetNext_0,Ls=b._emscripten_bind_b2Joint_GetType_0=g._emscripten_bind_b2Joint_GetType_0,Ms=b._emscripten_bind_b2World_RayCast_3=g._emscripten_bind_b2World_RayCast_3,Ns=b._emscripten_bind_b2MassData_set_I_1=g._emscripten_bind_b2MassData_set_I_1,Os=b._emscripten_bind_b2MassData___destroy___0=g._emscripten_bind_b2MassData___destroy___0,Ps=b._emscripten_bind_b2Profile_get_collide_0=g._emscripten_bind_b2Profile_get_collide_0,vb=b._llvm_cttz_i32=g._llvm_cttz_i32,Qs=b._emscripten_bind_b2Color_b2Color_0=g._emscripten_bind_b2Color_b2Color_0,Rs=b._emscripten_bind_b2WheelJointDef_get_frequencyHz_0=g._emscripten_bind_b2WheelJointDef_get_frequencyHz_0,Ss=b._emscripten_bind_b2WeldJointDef_Initialize_3=g._emscripten_bind_b2WeldJointDef_Initialize_3,Ts=b._emscripten_bind_b2RevoluteJoint_GetMotorTorque_1=g._emscripten_bind_b2RevoluteJoint_GetMotorTorque_1,Us=b._emscripten_enum_b2JointType_e_gearJoint=g._emscripten_enum_b2JointType_e_gearJoint,Vs=b._emscripten_bind_b2FixtureDef_get_friction_0=g._emscripten_bind_b2FixtureDef_get_friction_0,Ws=b._emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1=g._emscripten_bind_b2PrismaticJointDef_set_localAnchorA_1,Xs=b._emscripten_bind_b2Contact_GetManifold_0=g._emscripten_bind_b2Contact_GetManifold_0,Ys=b._emscripten_bind_b2QueryCallback___destroy___0=g._emscripten_bind_b2QueryCallback___destroy___0,Zs=b._emscripten_bind_b2WeldJointDef_get_localAnchorA_0=g._emscripten_bind_b2WeldJointDef_get_localAnchorA_0,$s=b._emscripten_bind_b2MouseJoint_SetUserData_1=g._emscripten_bind_b2MouseJoint_SetUserData_1,at=b._emscripten_bind_b2MotorJointDef_set_correctionFactor_1=g._emscripten_bind_b2MotorJointDef_set_correctionFactor_1,bt=b._emscripten_bind_b2ChainShape_GetChildEdge_2=g._emscripten_bind_b2ChainShape_GetChildEdge_2,ct=b._emscripten_enum_b2JointType_e_mouseJoint=g._emscripten_enum_b2JointType_e_mouseJoint,dt=b._emscripten_bind_b2MotorJointDef_get_angularOffset_0=g._emscripten_bind_b2MotorJointDef_get_angularOffset_0,et=b._emscripten_bind_b2WheelJoint_SetUserData_1=g._emscripten_bind_b2WheelJoint_SetUserData_1,ft=b._emscripten_bind_b2Body_ApplyForce_3=g._emscripten_bind_b2Body_ApplyForce_3,gt=b._emscripten_bind_b2ChainShape_set_m_count_1=g._emscripten_bind_b2ChainShape_set_m_count_1,ht=b._emscripten_bind_b2DistanceJoint_GetCollideConnected_0=g._emscripten_bind_b2DistanceJoint_GetCollideConnected_0,it=b._emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0=g._emscripten_bind_b2RevoluteJoint_IsMotorEnabled_0,jt=b._emscripten_bind_b2PolygonShape_GetVertex_1=g._emscripten_bind_b2PolygonShape_GetVertex_1,kt=b._emscripten_bind_b2World_SetGravity_1=g._emscripten_bind_b2World_SetGravity_1,lt=b._emscripten_bind_b2MouseJointDef_get_collideConnected_0=g._emscripten_bind_b2MouseJointDef_get_collideConnected_0,Db=b._llvm_bswap_i32=g._llvm_bswap_i32,mt=b._emscripten_bind_b2Fixture_SetRestitution_1=g._emscripten_bind_b2Fixture_SetRestitution_1,nt=b._emscripten_bind_b2Body_GetTransform_0=g._emscripten_bind_b2Body_GetTransform_0,ot=b._emscripten_enum_b2ShapeType_e_typeCount=g._emscripten_enum_b2ShapeType_e_typeCount,pt=b._emscripten_bind_b2Mat33_set_ex_1=g._emscripten_bind_b2Mat33_set_ex_1,qt=b._emscripten_bind_b2PulleyJointDef_get_localAnchorB_0=g._emscripten_bind_b2PulleyJointDef_get_localAnchorB_0,rt=b._emscripten_bind_b2RevoluteJointDef_get_bodyA_0=g._emscripten_bind_b2RevoluteJointDef_get_bodyA_0,st=b._emscripten_bind_b2PrismaticJoint_GetBodyB_0=g._emscripten_bind_b2PrismaticJoint_GetBodyB_0,tt=b._emscripten_bind_b2WheelJointDef_set_bodyA_1=g._emscripten_bind_b2WheelJointDef_set_bodyA_1,ut=b._emscripten_bind_b2MotorJointDef_set_maxForce_1=g._emscripten_bind_b2MotorJointDef_set_maxForce_1,vt=b._emscripten_bind_b2BodyDef_get_angle_0=g._emscripten_bind_b2BodyDef_get_angle_0,wt=b._emscripten_bind_b2FixtureDef_get_shape_0=g._emscripten_bind_b2FixtureDef_get_shape_0,xt=b._emscripten_bind_b2Body_SetAngularVelocity_1=g._emscripten_bind_b2Body_SetAngularVelocity_1,yt=b._emscripten_bind_b2WeldJointDef_get_userData_0=g._emscripten_bind_b2WeldJointDef_get_userData_0,zt=b._emscripten_bind_b2FrictionJoint_SetMaxForce_1=g._emscripten_bind_b2FrictionJoint_SetMaxForce_1,At=b._emscripten_bind_b2Mat33_b2Mat33_3=g._emscripten_bind_b2Mat33_b2Mat33_3,Bt=b._emscripten_bind_b2Vec3_get_y_0=g._emscripten_bind_b2Vec3_get_y_0,Ct=b._emscripten_bind_b2JointDef_get_type_0=g._emscripten_bind_b2JointDef_get_type_0,Dt=b._emscripten_bind_JSQueryCallback_ReportFixture_1=g._emscripten_bind_JSQueryCallback_ReportFixture_1,Et=b._emscripten_bind_b2PulleyJoint_GetCollideConnected_0=g._emscripten_bind_b2PulleyJoint_GetCollideConnected_0,Ft=b._emscripten_bind_b2Body_CreateFixture_1=g._emscripten_bind_b2Body_CreateFixture_1,Gt=b._emscripten_bind_JSDraw_JSDraw_0=g._emscripten_bind_JSDraw_JSDraw_0,Ht=b._emscripten_bind_b2MouseJoint_GetAnchorA_0=g._emscripten_bind_b2MouseJoint_GetAnchorA_0,It=b._emscripten_bind_b2Transform_get_p_0=g._emscripten_bind_b2Transform_get_p_0,Jt=b._emscripten_enum_b2BodyType_b2_dynamicBody=g._emscripten_enum_b2BodyType_b2_dynamicBody,Kt=b._emscripten_bind_b2World_GetProfile_0=g._emscripten_bind_b2World_GetProfile_0,Lt=b._emscripten_bind_b2DistanceJointDef___destroy___0=g._emscripten_bind_b2DistanceJointDef___destroy___0,Mt=b._emscripten_bind_b2GearJointDef_set_bodyA_1=g._emscripten_bind_b2GearJointDef_set_bodyA_1,Nt=b._emscripten_bind_b2JointDef_set_type_1=g._emscripten_bind_b2JointDef_set_type_1,Ot=b._emscripten_bind_b2ContactEdge_set_contact_1=g._emscripten_bind_b2ContactEdge_set_contact_1,Pt=b._emscripten_bind_b2MotorJointDef_get_userData_0=g._emscripten_bind_b2MotorJointDef_get_userData_0,Qt=b._emscripten_bind_b2World_GetContactList_0=g._emscripten_bind_b2World_GetContactList_0,Rt=b._emscripten_bind_b2Mat33_set_ez_1=g._emscripten_bind_b2Mat33_set_ez_1,St=b._emscripten_bind_b2JointEdge_b2JointEdge_0=g._emscripten_bind_b2JointEdge_b2JointEdge_0,Tt=b._emscripten_bind_b2FrictionJointDef_get_bodyA_0=g._emscripten_bind_b2FrictionJointDef_get_bodyA_0,Ut=b._emscripten_bind_b2WheelJointDef_get_type_0=g._emscripten_bind_b2WheelJointDef_get_type_0,Vt=b._emscripten_bind_b2RevoluteJoint_GetReactionForce_1=g._emscripten_bind_b2RevoluteJoint_GetReactionForce_1,Wt=b._emscripten_bind_b2PulleyJointDef_set_collideConnected_1=g._emscripten_bind_b2PulleyJointDef_set_collideConnected_1,Xt=b._emscripten_bind_b2RopeJoint_GetCollideConnected_0=g._emscripten_bind_b2RopeJoint_GetCollideConnected_0,Yt=b._emscripten_bind_b2GearJointDef_set_joint2_1=g._emscripten_bind_b2GearJointDef_set_joint2_1,Zt=b._emscripten_bind_b2EdgeShape_set_m_vertex3_1=g._emscripten_bind_b2EdgeShape_set_m_vertex3_1,$t=b._emscripten_bind_b2GearJoint_GetAnchorB_0=g._emscripten_bind_b2GearJoint_GetAnchorB_0,au=b._emscripten_bind_b2RopeJoint_IsActive_0=g._emscripten_bind_b2RopeJoint_IsActive_0,bu=b._emscripten_bind_b2Fixture_GetFriction_0=g._emscripten_bind_b2Fixture_GetFriction_0,cu=b._emscripten_bind_b2Fixture_GetNext_0=g._emscripten_bind_b2Fixture_GetNext_0,du=b._emscripten_bind_b2RopeJointDef_get_bodyA_0=g._emscripten_bind_b2RopeJointDef_get_bodyA_0,eu=b._emscripten_bind_b2WeldJointDef_get_localAnchorB_0=g._emscripten_bind_b2WeldJointDef_get_localAnchorB_0,fu=b._emscripten_bind_b2WeldJointDef_set_referenceAngle_1=g._emscripten_bind_b2WeldJointDef_set_referenceAngle_1,gu=b._emscripten_bind_b2DistanceJointDef_set_localAnchorB_1=g._emscripten_bind_b2DistanceJointDef_set_localAnchorB_1,hu=b._emscripten_bind_b2Mat33_SetZero_0=g._emscripten_bind_b2Mat33_SetZero_0,iu=b._emscripten_bind_b2MotorJointDef_get_bodyB_0=g._emscripten_bind_b2MotorJointDef_get_bodyB_0,ju=b._emscripten_bind_b2WheelJointDef_b2WheelJointDef_0=g._emscripten_bind_b2WheelJointDef_b2WheelJointDef_0,ku=b._emscripten_bind_b2PrismaticJointDef_get_localAxisA_0=g._emscripten_bind_b2PrismaticJointDef_get_localAxisA_0,lu=b._emscripten_bind_b2Mat22_get_ey_0=g._emscripten_bind_b2Mat22_get_ey_0,mu=b._emscripten_bind_b2Mat22_SetIdentity_0=g._emscripten_bind_b2Mat22_SetIdentity_0,nu=b._emscripten_bind_b2Joint_IsActive_0=g._emscripten_bind_b2Joint_IsActive_0,ou=b._emscripten_bind_b2PulleyJoint_GetReactionForce_1=g._emscripten_bind_b2PulleyJoint_GetReactionForce_1,pu=b._emscripten_bind_b2Shape_get_m_radius_0=g._emscripten_bind_b2Shape_get_m_radius_0,qu=b._emscripten_bind_b2Mat22_b2Mat22_4=g._emscripten_bind_b2Mat22_b2Mat22_4,ru=b._emscripten_bind_b2PrismaticJointDef_set_localAxisA_1=g._emscripten_bind_b2PrismaticJointDef_set_localAxisA_1,su=b._emscripten_bind_b2PolygonShape_SetAsBox_4=g._emscripten_bind_b2PolygonShape_SetAsBox_4,tu=b._emscripten_bind_b2EdgeShape_set_m_vertex1_1=g._emscripten_bind_b2EdgeShape_set_m_vertex1_1,uu=b._emscripten_bind_b2Body_GetWorld_0=g._emscripten_bind_b2Body_GetWorld_0,vu=b._emscripten_enum_b2LimitState_e_inactiveLimit=g._emscripten_enum_b2LimitState_e_inactiveLimit,wu=b._emscripten_bind_b2Vec2_set_x_1=g._emscripten_bind_b2Vec2_set_x_1,xu=b._emscripten_bind_b2Body_SetAwake_1=g._emscripten_bind_b2Body_SetAwake_1,yu=b._emscripten_bind_b2WeldJoint_GetLocalAnchorA_0=g._emscripten_bind_b2WeldJoint_GetLocalAnchorA_0,zu=b._emscripten_bind_b2Vec2___destroy___0=g._emscripten_bind_b2Vec2___destroy___0,Au=b._emscripten_enum_b2ShapeType_e_polygon=g._emscripten_enum_b2ShapeType_e_polygon,Bu=b._emscripten_bind_b2Body_GetInertia_0=g._emscripten_bind_b2Body_GetInertia_0,Cu=b._emscripten_bind_b2PulleyJoint_GetAnchorA_0=g._emscripten_bind_b2PulleyJoint_GetAnchorA_0,Du=b._emscripten_bind_b2BodyDef_get_linearVelocity_0=g._emscripten_bind_b2BodyDef_get_linearVelocity_0,Eu=b._emscripten_bind_b2DistanceJointDef_get_bodyB_0=g._emscripten_bind_b2DistanceJointDef_get_bodyB_0,Fu=b._emscripten_bind_b2Mat22___destroy___0=g._emscripten_bind_b2Mat22___destroy___0,Gu=b._emscripten_bind_b2RevoluteJoint_GetNext_0=g._emscripten_bind_b2RevoluteJoint_GetNext_0,Hu=b._emscripten_bind_b2WeldJointDef_get_bodyA_0=g._emscripten_bind_b2WeldJointDef_get_bodyA_0,Iu=b._emscripten_bind_b2MotorJoint_GetAnchorB_0=g._emscripten_bind_b2MotorJoint_GetAnchorB_0,Ju=b._emscripten_bind_b2Fixture_GetShape_0=g._emscripten_bind_b2Fixture_GetShape_0,Ku=b._emscripten_bind_b2PulleyJoint_GetReactionTorque_1=g._emscripten_bind_b2PulleyJoint_GetReactionTorque_1,Lu=b._emscripten_bind_b2Vec3_op_mul_1=g._emscripten_bind_b2Vec3_op_mul_1,Mu=b._emscripten_bind_b2PolygonShape_set_m_type_1=g._emscripten_bind_b2PolygonShape_set_m_type_1,Nu=b._emscripten_bind_b2WheelJoint_GetType_0=g._emscripten_bind_b2WheelJoint_GetType_0,Ou=b._emscripten_bind_b2MotorJoint_GetAngularOffset_0=g._emscripten_bind_b2MotorJoint_GetAngularOffset_0,Pu=b._emscripten_bind_b2RevoluteJoint_IsActive_0=g._emscripten_bind_b2RevoluteJoint_IsActive_0,Qu=b._emscripten_bind_b2GearJoint_GetNext_0=g._emscripten_bind_b2GearJoint_GetNext_0,Ru=b._emscripten_bind_b2MouseJointDef_get_maxForce_0=g._emscripten_bind_b2MouseJointDef_get_maxForce_0,Su=b._emscripten_bind_b2DestructionListenerWrapper___destroy___0=g._emscripten_bind_b2DestructionListenerWrapper___destroy___0,Tu=b._emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1=g._emscripten_bind_b2PrismaticJointDef_set_maxMotorForce_1,Uu=b._emscripten_bind_b2WheelJoint_GetLocalAxisA_0=g._emscripten_bind_b2WheelJoint_GetLocalAxisA_0,Vu=b._emscripten_bind_b2Body_GetNext_0=g._emscripten_bind_b2Body_GetNext_0,Wu=b._emscripten_bind_b2MouseJoint_GetReactionForce_1=g._emscripten_bind_b2MouseJoint_GetReactionForce_1,Xu=b._emscripten_bind_b2RopeJoint_GetBodyA_0=g._emscripten_bind_b2RopeJoint_GetBodyA_0,Yu=b._emscripten_bind_b2ContactFeature_set_indexA_1=g._emscripten_bind_b2ContactFeature_set_indexA_1,Zu=b._emscripten_bind_b2Profile_get_solveInit_0=g._emscripten_bind_b2Profile_get_solveInit_0,$u=b._emscripten_bind_b2Fixture_IsSensor_0=g._emscripten_bind_b2Fixture_IsSensor_0,av=b._emscripten_bind_b2FrictionJoint_GetAnchorB_0=g._emscripten_bind_b2FrictionJoint_GetAnchorB_0,bv=b._emscripten_bind_b2World_QueryAABB_2=g._emscripten_bind_b2World_QueryAABB_2,cv=b._emscripten_bind_b2Profile_set_collide_1=g._emscripten_bind_b2Profile_set_collide_1,dv=b._emscripten_bind_b2BodyDef_get_userData_0=g._emscripten_bind_b2BodyDef_get_userData_0,ev=b._emscripten_bind_b2MotorJoint_SetLinearOffset_1=g._emscripten_bind_b2MotorJoint_SetLinearOffset_1,fv=b._emscripten_bind_b2FrictionJoint_GetMaxForce_0=g._emscripten_bind_b2FrictionJoint_GetMaxForce_0,gv=b._emscripten_bind_b2WheelJointDef_get_userData_0=g._emscripten_bind_b2WheelJointDef_get_userData_0,hv=b._emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0=g._emscripten_bind_b2RevoluteJoint_IsLimitEnabled_0,iv=b._emscripten_bind_b2World_SetDestructionListener_1=g._emscripten_bind_b2World_SetDestructionListener_1,jv=b._emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1=g._emscripten_bind_b2RevoluteJointDef_set_maxMotorTorque_1,kv=b._emscripten_bind_b2WeldJointDef_set_bodyB_1=g._emscripten_bind_b2WeldJointDef_set_bodyB_1,lv=b._emscripten_bind_b2Transform_set_p_1=g._emscripten_bind_b2Transform_set_p_1,mv=b._emscripten_bind_b2DistanceJoint_SetLength_1=g._emscripten_bind_b2DistanceJoint_SetLength_1,nv=b._emscripten_bind_b2ManifoldPoint_get_localPoint_0=g._emscripten_bind_b2ManifoldPoint_get_localPoint_0,ov=b._emscripten_bind_b2JointEdge_get_joint_0=g._emscripten_bind_b2JointEdge_get_joint_0,pv=b._emscripten_bind_b2Body_GetLocalCenter_0=g._emscripten_bind_b2Body_GetLocalCenter_0,qv=b._emscripten_bind_b2FixtureDef___destroy___0=g._emscripten_bind_b2FixtureDef___destroy___0,rv=b._emscripten_bind_b2MouseJoint___destroy___0=g._emscripten_bind_b2MouseJoint___destroy___0,sv=b._emscripten_enum_b2JointType_e_ropeJoint=g._emscripten_enum_b2JointType_e_ropeJoint,tv=b._emscripten_bind_b2Profile_get_solveVelocity_0=g._emscripten_bind_b2Profile_get_solveVelocity_0,uv=b._emscripten_bind_b2WeldJointDef_get_bodyB_0=g._emscripten_bind_b2WeldJointDef_get_bodyB_0,vv=b._emscripten_bind_b2World_GetContinuousPhysics_0=g._emscripten_bind_b2World_GetContinuousPhysics_0,wv=b._emscripten_bind_b2Joint_GetBodyA_0=g._emscripten_bind_b2Joint_GetBodyA_0,xv=b._emscripten_bind_b2MotorJointDef_set_maxTorque_1=g._emscripten_bind_b2MotorJointDef_set_maxTorque_1,yv=b._emscripten_bind_b2PulleyJointDef_Initialize_7=g._emscripten_bind_b2PulleyJointDef_Initialize_7,zv=b._emscripten_bind_b2GearJointDef_set_bodyB_1=g._emscripten_bind_b2GearJointDef_set_bodyB_1,Av=b._emscripten_bind_b2RopeJoint_GetReactionTorque_1=g._emscripten_bind_b2RopeJoint_GetReactionTorque_1,Bv=b._emscripten_bind_b2WheelJointDef_set_dampingRatio_1=g._emscripten_bind_b2WheelJointDef_set_dampingRatio_1,Cv=b._emscripten_bind_b2GearJoint_GetType_0=g._emscripten_bind_b2GearJoint_GetType_0,Dv=b._emscripten_bind_b2MotorJoint_GetNext_0=g._emscripten_bind_b2MotorJoint_GetNext_0,Ev=b._emscripten_bind_b2EdgeShape_set_m_vertex0_1=g._emscripten_bind_b2EdgeShape_set_m_vertex0_1,Fv=b._emscripten_bind_b2RevoluteJoint_GetAnchorB_0=g._emscripten_bind_b2RevoluteJoint_GetAnchorB_0,Gv=b._emscripten_bind_b2RopeJointDef_set_localAnchorB_1=g._emscripten_bind_b2RopeJointDef_set_localAnchorB_1,Hv=b._emscripten_bind_b2PrismaticJoint_GetUserData_0=g._emscripten_bind_b2PrismaticJoint_GetUserData_0,Iv=b._emscripten_bind_b2GearJointDef_set_userData_1=g._emscripten_bind_b2GearJointDef_set_userData_1,Jv=b._emscripten_bind_b2Fixture_SetSensor_1=g._emscripten_bind_b2Fixture_SetSensor_1,Kv=b._emscripten_bind_b2MotorJointDef_set_collideConnected_1=g._emscripten_bind_b2MotorJointDef_set_collideConnected_1,Lv=b._emscripten_bind_b2Contact_GetFixtureB_0=g._emscripten_bind_b2Contact_GetFixtureB_0,Mv=b._emscripten_bind_b2ChainShape_ComputeMass_2=g._emscripten_bind_b2ChainShape_ComputeMass_2,Nv=b._emscripten_bind_b2WeldJointDef_b2WeldJointDef_0=g._emscripten_bind_b2WeldJointDef_b2WeldJointDef_0,Ov=b._emscripten_bind_b2Contact_GetChildIndexA_0=g._emscripten_bind_b2Contact_GetChildIndexA_0,Pv=b._emscripten_bind_b2RopeJointDef_get_bodyB_0=g._emscripten_bind_b2RopeJointDef_get_bodyB_0,Qv=b._emscripten_bind_b2BodyDef_b2BodyDef_0=g._emscripten_bind_b2BodyDef_b2BodyDef_0,Rv=b._emscripten_bind_b2MassData_get_mass_0=g._emscripten_bind_b2MassData_get_mass_0,Sv=b._emscripten_bind_b2Joint_SetUserData_1=g._emscripten_bind_b2Joint_SetUserData_1,Tv=b._emscripten_bind_b2Joint_GetBodyB_0=g._emscripten_bind_b2Joint_GetBodyB_0,Uv=b._emscripten_bind_b2Shape_GetChildCount_0=g._emscripten_bind_b2Shape_GetChildCount_0,Vv=b._emscripten_bind_b2WheelJointDef_set_localAxisA_1=g._emscripten_bind_b2WheelJointDef_set_localAxisA_1,Wv=b._emscripten_bind_b2Joint_Dump_0=g._emscripten_bind_b2Joint_Dump_0,Xv=b._emscripten_bind_b2Color_get_r_0=g._emscripten_bind_b2Color_get_r_0,Yv=b._emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1=g._emscripten_bind_b2RevoluteJointDef_set_motorSpeed_1,Zv=b._emscripten_bind_b2MotorJointDef_get_bodyA_0=g._emscripten_bind_b2MotorJointDef_get_bodyA_0,$v=b._emscripten_bind_b2WheelJointDef_get_enableMotor_0=g._emscripten_bind_b2WheelJointDef_get_enableMotor_0,aw=b._emscripten_bind_b2Vec2_LengthSquared_0=g._emscripten_bind_b2Vec2_LengthSquared_0,bw=b._emscripten_bind_b2FrictionJointDef_set_bodyA_1=g._emscripten_bind_b2FrictionJointDef_set_bodyA_1,cw=b._emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0=g._emscripten_bind_b2WheelJoint_GetSpringFrequencyHz_0,dw=b._emscripten_bind_b2ContactEdge_set_prev_1=g._emscripten_bind_b2ContactEdge_set_prev_1,ew=b._emscripten_bind_b2Shape_ComputeMass_2=g._emscripten_bind_b2Shape_ComputeMass_2,fw=b._emscripten_bind_b2FrictionJoint_GetBodyA_0=g._emscripten_bind_b2FrictionJoint_GetBodyA_0,gw=b._emscripten_bind_b2WheelJointDef_set_localAnchorB_1=g._emscripten_bind_b2WheelJointDef_set_localAnchorB_1,hw=b._emscripten_bind_b2Body_GetAngle_0=g._emscripten_bind_b2Body_GetAngle_0,iw=b._emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0=g._emscripten_bind_b2PrismaticJointDef_get_maxMotorForce_0,jw=b._emscripten_bind_b2DistanceJoint_GetBodyA_0=g._emscripten_bind_b2DistanceJoint_GetBodyA_0,kw=b._emscripten_bind_b2WheelJoint_GetLocalAnchorB_0=g._emscripten_bind_b2WheelJoint_GetLocalAnchorB_0,lw=b._emscripten_bind_b2PulleyJointDef_set_bodyA_1=g._emscripten_bind_b2PulleyJointDef_set_bodyA_1,mw=b._emscripten_bind_b2WheelJoint_GetAnchorB_0=g._emscripten_bind_b2WheelJoint_GetAnchorB_0,nw=b._emscripten_bind_b2PolygonShape_SetAsBox_2=g._emscripten_bind_b2PolygonShape_SetAsBox_2,ow=b._emscripten_bind_b2PrismaticJointDef_get_type_0=g._emscripten_bind_b2PrismaticJointDef_get_type_0,pw=b._emscripten_bind_b2Color_Set_3=g._emscripten_bind_b2Color_Set_3,qw=b._emscripten_bind_b2WheelJointDef_get_bodyA_0=g._emscripten_bind_b2WheelJointDef_get_bodyA_0,rw=b._emscripten_enum_b2LimitState_e_atUpperLimit=g._emscripten_enum_b2LimitState_e_atUpperLimit,sw=b._emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1=g._emscripten_bind_b2PulleyJointDef_set_groundAnchorA_1,tw=b._emscripten_bind_b2PolygonShape_get_m_type_0=g._emscripten_bind_b2PolygonShape_get_m_type_0,uw=b._emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1=g._emscripten_bind_b2PrismaticJoint_SetMaxMotorForce_1,vw=b._emscripten_bind_b2PulleyJointDef_get_collideConnected_0=g._emscripten_bind_b2PulleyJointDef_get_collideConnected_0,ww=b._emscripten_bind_JSContactListener_JSContactListener_0=g._emscripten_bind_JSContactListener_JSContactListener_0,xw=b._emscripten_bind_b2WheelJoint___destroy___0=g._emscripten_bind_b2WheelJoint___destroy___0,yw=b._emscripten_bind_b2PolygonShape_set_m_radius_1=g._emscripten_bind_b2PolygonShape_set_m_radius_1,zw=b._emscripten_bind_b2Fixture_GetMassData_1=g._emscripten_bind_b2Fixture_GetMassData_1,Aw=b._emscripten_bind_b2RopeJoint_SetMaxLength_1=g._emscripten_bind_b2RopeJoint_SetMaxLength_1;function ka(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}b.dynCall_iiii=g.dynCall_iiii,b.dynCall_viiiii=g.dynCall_viiiii,b.dynCall_did=g.dynCall_did,b.dynCall_vi=g.dynCall_vi,b.dynCall_diiiid=g.dynCall_diiiid,b.dynCall_vii=g.dynCall_vii,b.dynCall_viidii=g.dynCall_viidii,b.dynCall_ii=g.dynCall_ii,b.dynCall_viidi=g.dynCall_viidi,b.dynCall_viii=g.dynCall_viii,b.dynCall_v=g.dynCall_v,b.dynCall_viid=g.dynCall_viid,b.dynCall_viiiiii=g.dynCall_viiiiii,b.dynCall_iii=g.dynCall_iii,b.dynCall_iiiiii=g.dynCall_iiiiii,b.dynCall_viiii=g.dynCall_viiii,d.t=b.stackAlloc,d.L=b.stackSave,d.K=b.stackRestore,d.Q=b.establishStackSpace,d.f=b.setTempRet0,d.H=b.getTempRet0,b.asm=g,b.then=function(t){if(b.calledRun)t(b);else{var e=b.onRuntimeInitialized;b.onRuntimeInitialized=function(){e&&e(),t(b)}}return b},ka.prototype=Error(),ka.prototype.constructor=ka;var Bw=null;function Dw(t){function e(){if(!b.calledRun&&(b.calledRun=!0,!sa)){if(bb||(bb=!0,Va(Ya)),Va(Za),b.onRuntimeInitialized&&b.onRuntimeInitialized(),b._main&&Ew&&b.callMain(t),b.postRun)for("function"==typeof b.postRun&&(b.postRun=[b.postRun]);b.postRun.length;){var e=b.postRun.shift();ab.unshift(e)}Va(ab)}}if(t=t||b.arguments,null===Bw&&(Bw=Date.now()),b.preRun)for("function"==typeof b.preRun&&(b.preRun=[b.preRun]);b.preRun.length;)cb();Va(Wa),b.calledRun||(b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),e()},1)):e())}function Cw(t,e){e&&b.noExitRuntime||(!b.noExitRuntime&&(sa=!0,la=void 0,Va($a),b.onExit)&&b.onExit(t),fa&&process.exit(t),b.quit(t,new ka(t)))}b.callMain=b.O=function(t){function e(){for(var t=0;3>t;t++)n.push(0)}t=t||[],bb||(bb=!0,Va(Ya));var i=t.length+1,n=[Aa(db(b.thisProgram),"i8",0)];e();for(var r=0;r<i-1;r+=1)n.push(Aa(db(t[r]),"i8",0)),e();n.push(0),n=Aa(n,"i32",0);try{Cw(b._main(i,n,0),!0)}catch(e){e instanceof ka||("SimulateInfiniteLoop"==e?b.noExitRuntime=!0:((t=e)&&"object"==typeof e&&e.stack&&(t=[e,e.stack]),b.h("exception thrown: "+t),b.quit(1,e)))}},b.run=b.run=Dw,b.exit=b.exit=Cw;var Fw=[];function ta(t){void 0!==t?(b.print(t),b.h(t),t=JSON.stringify(t)):t="",sa=!0;var e="abort("+t+") at "+Na()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw Fw&&Fw.forEach(function(i){e=i(e,t)}),e}if(b.abort=b.abort=ta,b.preInit)for("function"==typeof b.preInit&&(b.preInit=[b.preInit]);0<b.preInit.length;)b.preInit.pop()();var Ew=!0;function h(){}function l(t){return(t||h).c}function p(t,e){var i=l(e),n=i[t];return n||((n=Object.create((e||h).prototype)).a=t,i[t]=n)}function Gw(){throw"cannot construct a b2DestructionListenerWrapper, no constructor in IDL"}function Hw(){throw"cannot construct a b2Draw, no constructor in IDL"}function q(){throw"cannot construct a b2Joint, no constructor in IDL"}function Iw(){throw"cannot construct a b2RayCastCallback, no constructor in IDL"}function Jw(){throw"cannot construct a b2ContactListener, no constructor in IDL"}function Kw(){throw"cannot construct a b2QueryCallback, no constructor in IDL"}function u(){this.a=Im(),l(u)[this.a]=this}function v(){throw"cannot construct a b2Shape, no constructor in IDL"}function Lw(){throw"cannot construct a b2ContactFilter, no constructor in IDL"}function Mw(){this.a=Ce(),l(Mw)[this.a]=this}function Nw(){throw"cannot construct a b2ContactImpulse, no constructor in IDL"}function w(){throw"cannot construct a b2DistanceJoint, no constructor in IDL"}function Ow(t,e,i){t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),this.a=void 0===t?bg():void 0===e?_emscripten_bind_b2Mat33_b2Mat33_1(t):void 0===i?_emscripten_bind_b2Mat33_b2Mat33_2(t,e):At(t,e,i),l(Ow)[this.a]=this}function x(){throw"cannot construct a b2Fixture, no constructor in IDL"}function Qw(){this.a=Bd(),l(Qw)[this.a]=this}function Sw(){this.a=Wc(),l(Sw)[this.a]=this}function y(){throw"cannot construct a b2MouseJoint, no constructor in IDL"}function Tw(t){t&&"object"==typeof t&&(t=t.a),this.a=void 0===t?Qn():Rn(t),l(Tw)[this.a]=this}function z(){throw"cannot construct a b2MotorJoint, no constructor in IDL"}function A(){throw"cannot construct a b2Profile, no constructor in IDL"}function Uw(){throw"cannot construct a VoidPtr, no constructor in IDL"}function B(){this.a=Qv(),l(B)[this.a]=this}function Vw(){this.a=nf(),l(Vw)[this.a]=this}function Ww(){throw"cannot construct a b2ContactFeature, no constructor in IDL"}function t(e,i){e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),this.a=void 0===e?sg():void 0===i?_emscripten_bind_b2Vec2_b2Vec2_1(e):ak(e,i),l(t)[this.a]=this}function Pw(t,e,i){t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),this.a=void 0===t?Fk():void 0===e?_emscripten_bind_b2Vec3_b2Vec3_1(t):void 0===i?_emscripten_bind_b2Vec3_b2Vec3_2(t,e):Pk(t,e,i),l(Pw)[this.a]=this}function Rw(){this.a=ko(),l(Rw)[this.a]=this}function Xw(){this.a=uj(),l(Xw)[this.a]=this}function C(){this.a=Ck(),l(C)[this.a]=this}function Yw(){this.a=dq(),l(Yw)[this.a]=this}function D(){this.a=Oi(),l(D)[this.a]=this}function E(t){t&&"object"==typeof t&&(t=t.a),this.a=Lh(t),l(E)[this.a]=this}function G(){throw"cannot construct a b2PrismaticJoint, no constructor in IDL"}function Zw(){throw"cannot construct a b2RayCastOutput, no constructor in IDL"}function $w(){throw"cannot construct a b2ContactID, no constructor in IDL"}function ax(){this.a=ww(),l(ax)[this.a]=this}function bx(t,e,i,n){t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),this.a=void 0===t?Hr():void 0===e?_emscripten_bind_b2Mat22_b2Mat22_1(t):void 0===i?Fr(t,e):void 0===n?_emscripten_bind_b2Mat22_b2Mat22_3(t,e,i):qu(t,e,i,n),l(bx)[this.a]=this}function H(){this.a=ju(),l(H)[this.a]=this}function cx(){this.a=Ng(),l(cx)[this.a]=this}function I(){this.a=Nv(),l(I)[this.a]=this}function dx(){this.a=Bp(),l(dx)[this.a]=this}function ex(){throw"cannot construct a b2GearJoint, no constructor in IDL"}function J(){throw"cannot construct a b2WeldJoint, no constructor in IDL"}function fx(){this.a=St(),l(fx)[this.a]=this}function K(){this.a=zp(),l(K)[this.a]=this}function gx(){this.a=Th(),l(gx)[this.a]=this}function hx(t,e){t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),this.a=void 0===t?Bh():void 0===e?_emscripten_bind_b2Transform_b2Transform_1(t):is(t,e),l(hx)[this.a]=this}function L(){this.a=Vi(),l(L)[this.a]=this}function ix(t,e,i){t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),this.a=void 0===t?Qs():void 0===e?_emscripten_bind_b2Color_b2Color_1(t):void 0===i?_emscripten_bind_b2Color_b2Color_2(t,e):Mb(t,e,i),l(ix)[this.a]=this}function M(){throw"cannot construct a b2RopeJoint, no constructor in IDL"}function jx(){throw"cannot construct a b2RayCastInput, no constructor in IDL"}function N(){this.a=Ii(),l(N)[this.a]=this}function O(){this.a=Yp(),l(O)[this.a]=this}function kx(){this.a=xs(),l(kx)[this.a]=this}function P(){this.a=tm(),l(P)[this.a]=this}function lx(){this.a=Gt(),l(lx)[this.a]=this}function Q(){throw"cannot construct a b2WheelJoint, no constructor in IDL"}function R(){throw"cannot construct a b2PulleyJoint, no constructor in IDL"}function S(){this.a=np(),l(S)[this.a]=this}function F(){throw"cannot construct a b2Contact, no constructor in IDL"}function U(){this.a=om(),l(U)[this.a]=this}function r(){throw"cannot construct a b2Body, no constructor in IDL"}function V(){throw"cannot construct a b2FrictionJoint, no constructor in IDL"}function nx(){throw"cannot construct a b2DestructionListener, no constructor in IDL"}function W(){this.a=Km(),l(W)[this.a]=this}function X(){throw"cannot construct a b2RevoluteJoint, no constructor in IDL"}function mx(){this.a=Pr(),l(mx)[this.a]=this}function Y(){this.a=Ij(),l(Y)[this.a]=this}function Z(){this.a=yg(),l(Z)[this.a]=this}return b.noInitialRun&&(Ew=!1),b.noExitRuntime=!0,Dw(),h.prototype=Object.create(h.prototype),h.prototype.constructor=h,h.prototype.b=h,h.c={},b.WrapperObject=h,b.getCache=l,b.wrapPointer=p,b.castObject=function(t,e){return p(t.a,e)},b.NULL=p(0),b.destroy=function(t){if(!t.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";t.__destroy__(),delete l(t.b)[t.a]},b.compare=function(t,e){return t.a===e.a},b.getPointer=function(t){return t.a},b.getClass=function(t){return t.b},Gw.prototype=Object.create(h.prototype),Gw.prototype.constructor=Gw,Gw.prototype.b=Gw,Gw.c={},b.b2DestructionListenerWrapper=Gw,Gw.prototype.__destroy__=function(){Su(this.a)},Hw.prototype=Object.create(h.prototype),Hw.prototype.constructor=Hw,Hw.prototype.b=Hw,Hw.c={},b.b2Draw=Hw,Hw.prototype.SetFlags=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Wd(e,t)},Hw.prototype.GetFlags=function(){return Pb(this.a)},Hw.prototype.AppendFlags=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),sh(e,t)},Hw.prototype.ClearFlags=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Oh(e,t)},Hw.prototype.__destroy__=function(){Si(this.a)},q.prototype=Object.create(h.prototype),q.prototype.constructor=q,q.prototype.b=q,q.c={},b.b2Joint=q,q.prototype.GetType=function(){return Ls(this.a)},q.prototype.GetBodyA=function(){return p(wv(this.a),r)},q.prototype.GetBodyB=function(){return p(Tv(this.a),r)},q.prototype.GetAnchorA=function(){return p(Qm(this.a),t)},q.prototype.GetAnchorB=function(){return p(Wi(this.a),t)},q.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Il(i,e),t)},q.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),Fj(e,t)},q.prototype.GetNext=function(){return p(Ks(this.a),q)},q.prototype.GetUserData=function(){return Mk(this.a)},q.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Sv(e,t)},q.prototype.IsActive=function(){return!!nu(this.a)},q.prototype.GetCollideConnected=function(){return!!We(this.a)},q.prototype.Dump=function(){Wv(this.a)},Iw.prototype=Object.create(h.prototype),Iw.prototype.constructor=Iw,Iw.prototype.b=Iw,Iw.c={},b.b2RayCastCallback=Iw,Iw.prototype.__destroy__=function(){lh(this.a)},Jw.prototype=Object.create(h.prototype),Jw.prototype.constructor=Jw,Jw.prototype.b=Jw,Jw.c={},b.b2ContactListener=Jw,Jw.prototype.__destroy__=function(){zo(this.a)},Kw.prototype=Object.create(h.prototype),Kw.prototype.constructor=Kw,Kw.prototype.b=Kw,Kw.c={},b.b2QueryCallback=Kw,Kw.prototype.__destroy__=function(){Ys(this.a)},u.prototype=Object.create(h.prototype),u.prototype.constructor=u,u.prototype.b=u,u.c={},b.b2JointDef=u,u.prototype.get_type=function(){return Ct(this.a)},u.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Nt(e,t)},u.prototype.get_userData=function(){return zm(this.a)},u.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Tp(e,t)},u.prototype.get_bodyA=function(){return p(jr(this.a),r)},u.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),mk(e,t)},u.prototype.get_bodyB=function(){return p(Lm(this.a),r)},u.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Vq(e,t)},u.prototype.get_collideConnected=function(){return!!Uc(this.a)},u.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),hk(e,t)},u.prototype.__destroy__=function(){Ie(this.a)},v.prototype=Object.create(h.prototype),v.prototype.constructor=v,v.prototype.b=v,v.c={},b.b2Shape=v,v.prototype.GetType=function(){return Dn(this.a)},v.prototype.GetChildCount=function(){return Uv(this.a)},v.prototype.TestPoint=function(t,e){var i=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),!!hr(i,t,e)},v.prototype.RayCast=function(t,e,i,n){var r=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),!!Pc(r,t,e,i,n)},v.prototype.ComputeAABB=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),Kb(n,t,e,i)},v.prototype.ComputeMass=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),ew(i,t,e)},v.prototype.get_m_type=function(){return Vj(this.a)},v.prototype.set_m_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Zr(e,t)},v.prototype.get_m_radius=function(){return pu(this.a)},v.prototype.set_m_radius=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ef(e,t)},v.prototype.__destroy__=function(){Hl(this.a)},Lw.prototype=Object.create(h.prototype),Lw.prototype.constructor=Lw,Lw.prototype.b=Lw,Lw.c={},b.b2ContactFilter=Lw,Lw.prototype.__destroy__=function(){Gf(this.a)},Mw.prototype=Object.create(Gw.prototype),Mw.prototype.constructor=Mw,Mw.prototype.b=Mw,Mw.c={},b.JSDestructionListener=Mw,Mw.prototype.SayGoodbyeJoint=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Gl(e,t)},Mw.prototype.SayGoodbyeFixture=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Mp(e,t)},Mw.prototype.__destroy__=function(){hs(this.a)},Nw.prototype=Object.create(h.prototype),Nw.prototype.constructor=Nw,Nw.prototype.b=Nw,Nw.c={},b.b2ContactImpulse=Nw,Nw.prototype.get_count=function(){return kn(this.a)},Nw.prototype.set_count=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jg(e,t)},Nw.prototype.__destroy__=function(){xe(this.a)},w.prototype=Object.create(q.prototype),w.prototype.constructor=w,w.prototype.b=w,w.c={},b.b2DistanceJoint=w,w.prototype.GetLocalAnchorA=function(){return p(ae(this.a),t)},w.prototype.GetLocalAnchorB=function(){return p(Jh(this.a),t)},w.prototype.SetLength=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),mv(e,t)},w.prototype.GetLength=function(){return Pj(this.a)},w.prototype.SetFrequency=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Hg(e,t)},w.prototype.GetFrequency=function(){return yl(this.a)},w.prototype.SetDampingRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),oe(e,t)},w.prototype.GetDampingRatio=function(){return Zg(this.a)},w.prototype.GetType=function(){return rk(this.a)},w.prototype.GetBodyA=function(){return p(jw(this.a),r)},w.prototype.GetBodyB=function(){return p(Ge(this.a),r)},w.prototype.GetAnchorA=function(){return p(Dc(this.a),t)},w.prototype.GetAnchorB=function(){return p(tg(this.a),t)},w.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Mm(i,e),t)},w.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),ts(e,t)},w.prototype.GetNext=function(){return p(Yd(this.a),q)},w.prototype.GetUserData=function(){return xd(this.a)},w.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jf(e,t)},w.prototype.IsActive=function(){return!!pg(this.a)},w.prototype.GetCollideConnected=function(){return!!ht(this.a)},w.prototype.__destroy__=function(){Hk(this.a)},Ow.prototype=Object.create(h.prototype),Ow.prototype.constructor=Ow,Ow.prototype.b=Ow,Ow.c={},b.b2Mat33=Ow,Ow.prototype.SetZero=function(){hu(this.a)},Ow.prototype.Solve33=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),p(Uo(e,t),Pw)},Ow.prototype.Solve22=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Ef(i,e),t)},Ow.prototype.GetInverse22=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),qm(e,t)},Ow.prototype.GetSymInverse33=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),al(e,t)},Ow.prototype.get_ex=function(){return p(Dg(this.a),Pw)},Ow.prototype.set_ex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),pt(e,t)},Ow.prototype.get_ey=function(){return p(vc(this.a),Pw)},Ow.prototype.set_ey=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),yc(e,t)},Ow.prototype.get_ez=function(){return p(Pe(this.a),Pw)},Ow.prototype.set_ez=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Rt(e,t)},Ow.prototype.__destroy__=function(){Rc(this.a)},x.prototype=Object.create(h.prototype),x.prototype.constructor=x,x.prototype.b=x,x.c={},b.b2Fixture=x,x.prototype.GetType=function(){return tk(this.a)},x.prototype.GetShape=function(){return p(Ju(this.a),v)},x.prototype.SetSensor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jv(e,t)},x.prototype.IsSensor=function(){return!!$u(this.a)},x.prototype.SetFilterData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Qp(e,t)},x.prototype.GetFilterData=function(){return p(Hs(this.a),Qw)},x.prototype.Refilter=function(){Yn(this.a)},x.prototype.GetBody=function(){return p(Ig(this.a),r)},x.prototype.GetNext=function(){return p(cu(this.a),x)},x.prototype.GetUserData=function(){return nl(this.a)},x.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Mi(e,t)},x.prototype.TestPoint=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),!!$k(e,t)},x.prototype.RayCast=function(t,e,i){var n=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),!!lk(n,t,e,i)},x.prototype.GetMassData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),zw(e,t)},x.prototype.SetDensity=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Pg(e,t)},x.prototype.GetDensity=function(){return jp(this.a)},x.prototype.GetFriction=function(){return bu(this.a)},x.prototype.SetFriction=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),lo(e,t)},x.prototype.GetRestitution=function(){return ce(this.a)},x.prototype.SetRestitution=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),mt(e,t)},x.prototype.GetAABB=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),p(Vm(e,t),Rw)},x.prototype.Dump=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),wm(e,t)},x.prototype.__destroy__=function(){dc(this.a)},Qw.prototype=Object.create(h.prototype),Qw.prototype.constructor=Qw,Qw.prototype.b=Qw,Qw.c={},b.b2Filter=Qw,Qw.prototype.get_categoryBits=function(){return hm(this.a)},Qw.prototype.set_categoryBits=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),jl(e,t)},Qw.prototype.get_maskBits=function(){return to(this.a)},Qw.prototype.set_maskBits=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Br(e,t)},Qw.prototype.get_groupIndex=function(){return Ke(this.a)},Qw.prototype.set_groupIndex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Hm(e,t)},Qw.prototype.__destroy__=function(){sn(this.a)},Sw.prototype=Object.create(Kw.prototype),Sw.prototype.constructor=Sw,Sw.prototype.b=Sw,Sw.c={},b.JSQueryCallback=Sw,Sw.prototype.ReportFixture=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),!!Dt(e,t)},Sw.prototype.__destroy__=function(){Xn(this.a)},y.prototype=Object.create(q.prototype),y.prototype.constructor=y,y.prototype.b=y,y.c={},b.b2MouseJoint=y,y.prototype.SetTarget=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Wf(e,t)},y.prototype.GetTarget=function(){return p(Wn(this.a),t)},y.prototype.SetMaxForce=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Rp(e,t)},y.prototype.GetMaxForce=function(){return Vf(this.a)},y.prototype.SetFrequency=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),fl(e,t)},y.prototype.GetFrequency=function(){return Eo(this.a)},y.prototype.SetDampingRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Wj(e,t)},y.prototype.GetDampingRatio=function(){return or(this.a)},y.prototype.GetType=function(){return Vn(this.a)},y.prototype.GetBodyA=function(){return p(io(this.a),r)},y.prototype.GetBodyB=function(){return p(Fi(this.a),r)},y.prototype.GetAnchorA=function(){return p(Ht(this.a),t)},y.prototype.GetAnchorB=function(){return p(oq(this.a),t)},y.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Wu(i,e),t)},y.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),yn(e,t)},y.prototype.GetNext=function(){return p(Yh(this.a),q)},y.prototype.GetUserData=function(){return $p(this.a)},y.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),$s(e,t)},y.prototype.IsActive=function(){return!!Nb(this.a)},y.prototype.GetCollideConnected=function(){return!!wc(this.a)},y.prototype.__destroy__=function(){rv(this.a)},Tw.prototype=Object.create(h.prototype),Tw.prototype.constructor=Tw,Tw.prototype.b=Tw,Tw.c={},b.b2Rot=Tw,Tw.prototype.Set=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Af(e,t)},Tw.prototype.SetIdentity=function(){Xp(this.a)},Tw.prototype.GetAngle=function(){return bp(this.a)},Tw.prototype.GetXAxis=function(){return p(ag(this.a),t)},Tw.prototype.GetYAxis=function(){return p(Jq(this.a),t)},Tw.prototype.get_s=function(){return op(this.a)},Tw.prototype.set_s=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),qj(e,t)},Tw.prototype.get_c=function(){return Op(this.a)},Tw.prototype.set_c=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jm(e,t)},Tw.prototype.__destroy__=function(){so(this.a)},z.prototype=Object.create(q.prototype),z.prototype.constructor=z,z.prototype.b=z,z.c={},b.b2MotorJoint=z,z.prototype.SetLinearOffset=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ev(e,t)},z.prototype.GetLinearOffset=function(){return p(fp(this.a),t)},z.prototype.SetAngularOffset=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ep(e,t)},z.prototype.GetAngularOffset=function(){return Ou(this.a)},z.prototype.SetMaxForce=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Do(e,t)},z.prototype.GetMaxForce=function(){return Yi(this.a)},z.prototype.SetMaxTorque=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),gd(e,t)},z.prototype.GetMaxTorque=function(){return sr(this.a)},z.prototype.SetCorrectionFactor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),nd(e,t)},z.prototype.GetCorrectionFactor=function(){return Kp(this.a)},z.prototype.GetType=function(){return sq(this.a)},z.prototype.GetBodyA=function(){return p(rh(this.a),r)},z.prototype.GetBodyB=function(){return p(ph(this.a),r)},z.prototype.GetAnchorA=function(){return p(ip(this.a),t)},z.prototype.GetAnchorB=function(){return p(Iu(this.a),t)},z.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(ap(i,e),t)},z.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),Xe(e,t)},z.prototype.GetNext=function(){return p(Dv(this.a),q)},z.prototype.GetUserData=function(){return Tj(this.a)},z.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),nh(e,t)},z.prototype.IsActive=function(){return!!xn(this.a)},z.prototype.GetCollideConnected=function(){return!!me(this.a)},z.prototype.__destroy__=function(){ik(this.a)},A.prototype=Object.create(h.prototype),A.prototype.constructor=A,A.prototype.b=A,A.c={},b.b2Profile=A,A.prototype.get_step=function(){return Mj(this.a)},A.prototype.set_step=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),qi(e,t)},A.prototype.get_collide=function(){return Ps(this.a)},A.prototype.set_collide=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),cv(e,t)},A.prototype.get_solve=function(){return Lp(this.a)},A.prototype.set_solve=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ys(e,t)},A.prototype.get_solveInit=function(){return Zu(this.a)},A.prototype.set_solveInit=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),wk(e,t)},A.prototype.get_solveVelocity=function(){return tv(this.a)},A.prototype.set_solveVelocity=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Fm(e,t)},A.prototype.get_solvePosition=function(){return Oc(this.a)},A.prototype.set_solvePosition=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ff(e,t)},A.prototype.get_broadphase=function(){return zc(this.a)},A.prototype.set_broadphase=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),hn(e,t)},A.prototype.get_solveTOI=function(){return rg(this.a)},A.prototype.set_solveTOI=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),vh(e,t)},A.prototype.__destroy__=function(){Fg(this.a)},Uw.prototype=Object.create(h.prototype),Uw.prototype.constructor=Uw,Uw.prototype.b=Uw,Uw.c={},b.VoidPtr=Uw,Uw.prototype.__destroy__=function(){Po(this.a)},B.prototype=Object.create(h.prototype),B.prototype.constructor=B,B.prototype.b=B,B.c={},b.b2BodyDef=B,B.prototype.get_type=function(){return pm(this.a)},B.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ic(e,t)},B.prototype.get_position=function(){return p(oc(this.a),t)},B.prototype.set_position=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),$c(e,t)},B.prototype.get_angle=function(){return vt(this.a)},B.prototype.set_angle=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Uk(e,t)},B.prototype.get_linearVelocity=function(){return p(Du(this.a),t)},B.prototype.set_linearVelocity=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),gk(e,t)},B.prototype.get_angularVelocity=function(){return Sd(this.a)},B.prototype.set_angularVelocity=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),bm(e,t)},B.prototype.get_linearDamping=function(){return Jj(this.a)},B.prototype.set_linearDamping=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),fr(e,t)},B.prototype.get_angularDamping=function(){return vq(this.a)},B.prototype.set_angularDamping=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Dp(e,t)},B.prototype.get_allowSleep=function(){return!!Bi(this.a)},B.prototype.set_allowSleep=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ni(e,t)},B.prototype.get_awake=function(){return!!jo(this.a)},B.prototype.set_awake=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),hl(e,t)},B.prototype.get_fixedRotation=function(){return!!un(this.a)},B.prototype.set_fixedRotation=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Zj(e,t)},B.prototype.get_bullet=function(){return!!Ne(this.a)},B.prototype.set_bullet=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Am(e,t)},B.prototype.get_active=function(){return!!Pi(this.a)},B.prototype.set_active=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),zj(e,t)},B.prototype.get_userData=function(){return dv(this.a)},B.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),lr(e,t)},B.prototype.get_gravityScale=function(){return $e(this.a)},B.prototype.set_gravityScale=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ld(e,t)},B.prototype.__destroy__=function(){Qr(this.a)},Vw.prototype=Object.create(Iw.prototype),Vw.prototype.constructor=Vw,Vw.prototype.b=Vw,Vw.c={},b.JSRayCastCallback=Vw,Vw.prototype.ReportFixture=function(t,e,i,n){var r=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),we(r,t,e,i,n)},Vw.prototype.__destroy__=function(){yo(this.a)},Ww.prototype=Object.create(h.prototype),Ww.prototype.constructor=Ww,Ww.prototype.b=Ww,Ww.c={},b.b2ContactFeature=Ww,Ww.prototype.get_indexA=function(){return xg(this.a)},Ww.prototype.set_indexA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Yu(e,t)},Ww.prototype.get_indexB=function(){return ml(this.a)},Ww.prototype.set_indexB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Dq(e,t)},Ww.prototype.get_typeA=function(){return pl(this.a)},Ww.prototype.set_typeA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),um(e,t)},Ww.prototype.get_typeB=function(){return Zo(this.a)},Ww.prototype.set_typeB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),qr(e,t)},Ww.prototype.__destroy__=function(){vp(this.a)},t.prototype=Object.create(h.prototype),t.prototype.constructor=t,t.prototype.b=t,t.c={},b.b2Vec2=t,t.prototype.SetZero=function(){Sq(this.a)},t.prototype.Set=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),lp(i,t,e)},t.prototype.op_add=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ue(e,t)},t.prototype.op_sub=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),vg(e,t)},t.prototype.op_mul=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ti(e,t)},t.prototype.Length=function(){return Rq(this.a)},t.prototype.LengthSquared=function(){return aw(this.a)},t.prototype.Normalize=function(){return jf(this.a)},t.prototype.IsValid=function(){return!!Io(this.a)},t.prototype.Skew=function(){return p(nr(this.a),t)},t.prototype.get_x=function(){return ji(this.a)},t.prototype.set_x=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),wu(e,t)},t.prototype.get_y=function(){return il(this.a)},t.prototype.set_y=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ls(e,t)},t.prototype.__destroy__=function(){zu(this.a)},Pw.prototype=Object.create(h.prototype),Pw.prototype.constructor=Pw,Pw.prototype.b=Pw,Pw.c={},b.b2Vec3=Pw,Pw.prototype.SetZero=function(){af(this.a)},Pw.prototype.Set=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),bj(n,t,e,i)},Pw.prototype.op_add=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Tf(e,t)},Pw.prototype.op_sub=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Bn(e,t)},Pw.prototype.op_mul=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Lu(e,t)},Pw.prototype.get_x=function(){return Kc(this.a)},Pw.prototype.set_x=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),El(e,t)},Pw.prototype.get_y=function(){return Bt(this.a)},Pw.prototype.set_y=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Cp(e,t)},Pw.prototype.get_z=function(){return gm(this.a)},Pw.prototype.set_z=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),wl(e,t)},Pw.prototype.__destroy__=function(){Tg(this.a)},Rw.prototype=Object.create(h.prototype),Rw.prototype.constructor=Rw,Rw.prototype.b=Rw,Rw.c={},b.b2AABB=Rw,Rw.prototype.IsValid=function(){return!!En(this.a)},Rw.prototype.GetCenter=function(){return p(xh(this.a),t)},Rw.prototype.GetExtents=function(){return p(Rg(this.a),t)},Rw.prototype.GetPerimeter=function(){return Bg(this.a)},Rw.prototype.Combine=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),void 0===e?Ep(i,t):zi(i,t,e)},Rw.prototype.Contains=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),!!Xd(e,t)},Rw.prototype.RayCast=function(t,e){var i=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),!!Nj(i,t,e)},Rw.prototype.get_lowerBound=function(){return p(Od(this.a),t)},Rw.prototype.set_lowerBound=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Pp(e,t)},Rw.prototype.get_upperBound=function(){return p(fe(this.a),t)},Rw.prototype.set_upperBound=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ve(e,t)},Rw.prototype.__destroy__=function(){pn(this.a)},Xw.prototype=Object.create(h.prototype),Xw.prototype.constructor=Xw,Xw.prototype.b=Xw,Xw.c={},b.b2FixtureDef=Xw,Xw.prototype.get_shape=function(){return p(wt(this.a),v)},Xw.prototype.set_shape=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Kg(e,t)},Xw.prototype.get_userData=function(){return wd(this.a)},Xw.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ac(e,t)},Xw.prototype.get_friction=function(){return Vs(this.a)},Xw.prototype.set_friction=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jl(e,t)},Xw.prototype.get_restitution=function(){return sk(this.a)},Xw.prototype.set_restitution=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),tc(e,t)},Xw.prototype.get_density=function(){return od(this.a)},Xw.prototype.set_density=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),zs(e,t)},Xw.prototype.get_isSensor=function(){return!!uf(this.a)},Xw.prototype.set_isSensor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Bj(e,t)},Xw.prototype.get_filter=function(){return p(Yb(this.a),Qw)},Xw.prototype.set_filter=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),hh(e,t)},Xw.prototype.__destroy__=function(){qv(this.a)},C.prototype=Object.create(u.prototype),C.prototype.constructor=C,C.prototype.b=C,C.c={},b.b2FrictionJointDef=C,C.prototype.Initialize=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),vr(n,t,e,i)},C.prototype.get_localAnchorA=function(){return p(Le(this.a),t)},C.prototype.set_localAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),lf(e,t)},C.prototype.get_localAnchorB=function(){return p(ye(this.a),t)},C.prototype.set_localAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),dj(e,t)},C.prototype.get_maxForce=function(){return am(this.a)},C.prototype.set_maxForce=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),nm(e,t)},C.prototype.get_maxTorque=function(){return Vc(this.a)},C.prototype.set_maxTorque=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Rr(e,t)},C.prototype.get_type=function(){return Zb(this.a)},C.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ur(e,t)},C.prototype.get_userData=function(){return kh(this.a)},C.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Lb(e,t)},C.prototype.get_bodyA=function(){return p(Tt(this.a),r)},C.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),bw(e,t)},C.prototype.get_bodyB=function(){return p(Ye(this.a),r)},C.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),nq(e,t)},C.prototype.get_collideConnected=function(){return!!wr(this.a)},C.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),yd(e,t)},C.prototype.__destroy__=function(){zh(this.a)},Yw.prototype=Object.create(h.prototype),Yw.prototype.constructor=Yw,Yw.prototype.b=Yw,Yw.c={},b.b2Manifold=Yw,Yw.prototype.get_localNormal=function(){return p(Ek(this.a),t)},Yw.prototype.set_localNormal=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ir(e,t)},Yw.prototype.get_localPoint=function(){return p($h(this.a),t)},Yw.prototype.set_localPoint=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ym(e,t)},Yw.prototype.get_type=function(){return bk(this.a)},Yw.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ok(e,t)},Yw.prototype.get_pointCount=function(){return qf(this.a)},Yw.prototype.set_pointCount=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jk(e,t)},Yw.prototype.__destroy__=function(){gg(this.a)},D.prototype=Object.create(u.prototype),D.prototype.constructor=D,D.prototype.b=D,D.c={},b.b2PrismaticJointDef=D,D.prototype.Initialize=function(t,e,i,n){var r=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),vf(r,t,e,i,n)},D.prototype.get_localAnchorA=function(){return p(ui(this.a),t)},D.prototype.set_localAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ws(e,t)},D.prototype.get_localAnchorB=function(){return p(re(this.a),t)},D.prototype.set_localAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ao(e,t)},D.prototype.get_localAxisA=function(){return p(ku(this.a),t)},D.prototype.set_localAxisA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ru(e,t)},D.prototype.get_referenceAngle=function(){return Qd(this.a)},D.prototype.set_referenceAngle=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),fh(e,t)},D.prototype.get_enableLimit=function(){return!!Fs(this.a)},D.prototype.set_enableLimit=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xl(e,t)},D.prototype.get_lowerTranslation=function(){return zd(this.a)},D.prototype.set_lowerTranslation=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Yc(e,t)},D.prototype.get_upperTranslation=function(){return qd(this.a)},D.prototype.set_upperTranslation=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),el(e,t)},D.prototype.get_enableMotor=function(){return!!es(this.a)},D.prototype.set_enableMotor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),mr(e,t)},D.prototype.get_maxMotorForce=function(){return iw(this.a)},D.prototype.set_maxMotorForce=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Tu(e,t)},D.prototype.get_motorSpeed=function(){return Ib(this.a)},D.prototype.set_motorSpeed=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),vn(e,t)},D.prototype.get_type=function(){return ow(this.a)},D.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),wh(e,t)},D.prototype.get_userData=function(){return Xi(this.a)},D.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),tr(e,t)},D.prototype.get_bodyA=function(){return p(Ir(this.a),r)},D.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jo(e,t)},D.prototype.get_bodyB=function(){return p(yk(this.a),r)},D.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Bk(e,t)},D.prototype.get_collideConnected=function(){return!!zl(this.a)},D.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Wm(e,t)},D.prototype.__destroy__=function(){Ud(this.a)},E.prototype=Object.create(h.prototype),E.prototype.constructor=E,E.prototype.b=E,E.c={},b.b2World=E,E.prototype.SetDestructionListener=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),iv(e,t)},E.prototype.SetContactFilter=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),qc(e,t)},E.prototype.SetContactListener=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),jd(e,t)},E.prototype.SetDebugDraw=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ff(e,t)},E.prototype.CreateBody=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),p(no(e,t),r)},E.prototype.DestroyBody=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Nc(e,t)},E.prototype.CreateJoint=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),p(jg(e,t),q)},E.prototype.DestroyJoint=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Uq(e,t)},E.prototype.Step=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),Kj(n,t,e,i)},E.prototype.ClearForces=function(){Sg(this.a)},E.prototype.DrawDebugData=function(){Dm(this.a)},E.prototype.QueryAABB=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),bv(i,t,e)},E.prototype.RayCast=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),Ms(n,t,e,i)},E.prototype.GetBodyList=function(){return p(Is(this.a),r)},E.prototype.GetJointList=function(){return p(cr(this.a),q)},E.prototype.GetContactList=function(){return p(Qt(this.a),F)},E.prototype.SetAllowSleeping=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),cp(e,t)},E.prototype.GetAllowSleeping=function(){return!!Sh(this.a)},E.prototype.SetWarmStarting=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ec(e,t)},E.prototype.GetWarmStarting=function(){return!!Ko(this.a)},E.prototype.SetContinuousPhysics=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),jm(e,t)},E.prototype.GetContinuousPhysics=function(){return!!vv(this.a)},E.prototype.SetSubStepping=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Te(e,t)},E.prototype.GetSubStepping=function(){return!!Iq(this.a)},E.prototype.GetProxyCount=function(){return fd(this.a)},E.prototype.GetBodyCount=function(){return Ml(this.a)},E.prototype.GetJointCount=function(){return ln(this.a)},E.prototype.GetContactCount=function(){return tq(this.a)},E.prototype.GetTreeHeight=function(){return Er(this.a)},E.prototype.GetTreeBalance=function(){return Ub(this.a)},E.prototype.GetTreeQuality=function(){return Kd(this.a)},E.prototype.SetGravity=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),kt(e,t)},E.prototype.GetGravity=function(){return p(xc(this.a),t)},E.prototype.IsLocked=function(){return!!Ob(this.a)},E.prototype.SetAutoClearForces=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Xc(e,t)},E.prototype.GetAutoClearForces=function(){return!!Xj(this.a)},E.prototype.GetProfile=function(){return p(Kt(this.a),A)},E.prototype.Dump=function(){us(this.a)},E.prototype.__destroy__=function(){Kn(this.a)},G.prototype=Object.create(q.prototype),G.prototype.constructor=G,G.prototype.b=G,G.c={},b.b2PrismaticJoint=G,G.prototype.GetLocalAnchorA=function(){return p(rl(this.a),t)},G.prototype.GetLocalAnchorB=function(){return p(Wo(this.a),t)},G.prototype.GetLocalAxisA=function(){return p(oh(this.a),t)},G.prototype.GetReferenceAngle=function(){return Sk(this.a)},G.prototype.GetJointTranslation=function(){return Nf(this.a)},G.prototype.GetJointSpeed=function(){return Nm(this.a)},G.prototype.IsLimitEnabled=function(){return!!Mh(this.a)},G.prototype.EnableLimit=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),$l(e,t)},G.prototype.GetLowerLimit=function(){return Nd(this.a)},G.prototype.GetUpperLimit=function(){return Rj(this.a)},G.prototype.SetLimits=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Bc(i,t,e)},G.prototype.IsMotorEnabled=function(){return!!Kk(this.a)},G.prototype.EnableMotor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),dl(e,t)},G.prototype.SetMotorSpeed=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ms(e,t)},G.prototype.GetMotorSpeed=function(){return Qf(this.a)},G.prototype.SetMaxMotorForce=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),uw(e,t)},G.prototype.GetMaxMotorForce=function(){return Hp(this.a)},G.prototype.GetMotorForce=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),ei(e,t)},G.prototype.GetType=function(){return be(this.a)},G.prototype.GetBodyA=function(){return p(Gp(this.a),r)},G.prototype.GetBodyB=function(){return p(st(this.a),r)},G.prototype.GetAnchorA=function(){return p(Ik(this.a),t)},G.prototype.GetAnchorB=function(){return p(Ql(this.a),t)},G.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Ah(i,e),t)},G.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),mg(e,t)},G.prototype.GetNext=function(){return p(Gr(this.a),q)},G.prototype.GetUserData=function(){return Hv(this.a)},G.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),vj(e,t)},G.prototype.IsActive=function(){return!!fm(this.a)},G.prototype.GetCollideConnected=function(){return!!og(this.a)},G.prototype.__destroy__=function(){Kf(this.a)},Zw.prototype=Object.create(h.prototype),Zw.prototype.constructor=Zw,Zw.prototype.b=Zw,Zw.c={},b.b2RayCastOutput=Zw,Zw.prototype.get_normal=function(){return p(rf(this.a),t)},Zw.prototype.set_normal=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Yg(e,t)},Zw.prototype.get_fraction=function(){return on(this.a)},Zw.prototype.set_fraction=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Fd(e,t)},Zw.prototype.__destroy__=function(){Bm(this.a)},$w.prototype=Object.create(h.prototype),$w.prototype.constructor=$w,$w.prototype.b=$w,$w.c={},b.b2ContactID=$w,$w.prototype.get_cf=function(){return p(ns(this.a),Ww)},$w.prototype.set_cf=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),$i(e,t)},$w.prototype.get_key=function(){return $o(this.a)},$w.prototype.set_key=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),gf(e,t)},$w.prototype.__destroy__=function(){Kl(this.a)},ax.prototype=Object.create(Jw.prototype),ax.prototype.constructor=ax,ax.prototype.b=ax,ax.c={},b.JSContactListener=ax,ax.prototype.BeginContact=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),bo(e,t)},ax.prototype.EndContact=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ic(e,t)},ax.prototype.PreSolve=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Wg(i,t,e)},ax.prototype.PostSolve=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),eq(i,t,e)},ax.prototype.__destroy__=function(){Cm(this.a)},bx.prototype=Object.create(h.prototype),bx.prototype.constructor=bx,bx.prototype.b=bx,bx.c={},b.b2Mat22=bx,bx.prototype.Set=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Wq(i,t,e)},bx.prototype.SetIdentity=function(){mu(this.a)},bx.prototype.SetZero=function(){Oj(this.a)},bx.prototype.GetInverse=function(){return p(Gq(this.a),bx)},bx.prototype.Solve=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(No(i,e),t)},bx.prototype.get_ex=function(){return p(uo(this.a),t)},bx.prototype.set_ex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Nq(e,t)},bx.prototype.get_ey=function(){return p(lu(this.a),t)},bx.prototype.set_ey=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Lr(e,t)},bx.prototype.__destroy__=function(){Fu(this.a)},H.prototype=Object.create(u.prototype),H.prototype.constructor=H,H.prototype.b=H,H.c={},b.b2WheelJointDef=H,H.prototype.Initialize=function(t,e,i,n){var r=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),Ti(r,t,e,i,n)},H.prototype.get_localAnchorA=function(){return p(Wk(this.a),t)},H.prototype.set_localAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),De(e,t)},H.prototype.get_localAnchorB=function(){return p(jn(this.a),t)},H.prototype.set_localAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),gw(e,t)},H.prototype.get_localAxisA=function(){return p(Kq(this.a),t)},H.prototype.set_localAxisA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Vv(e,t)},H.prototype.get_enableMotor=function(){return!!$v(this.a)},H.prototype.set_enableMotor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),uk(e,t)},H.prototype.get_maxMotorTorque=function(){return ug(this.a)},H.prototype.set_maxMotorTorque=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),fk(e,t)},H.prototype.get_motorSpeed=function(){return Ar(this.a)},H.prototype.set_motorSpeed=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),hp(e,t)},H.prototype.get_frequencyHz=function(){return Rs(this.a)},H.prototype.set_frequencyHz=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Hq(e,t)},H.prototype.get_dampingRatio=function(){return nn(this.a)},H.prototype.set_dampingRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Bv(e,t)},H.prototype.get_type=function(){return Ut(this.a)},H.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jd(e,t)},H.prototype.get_userData=function(){return gv(this.a)},H.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ug(e,t)},H.prototype.get_bodyA=function(){return p(qw(this.a),r)},H.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),tt(e,t)},H.prototype.get_bodyB=function(){return p(cn(this.a),r)},H.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Fp(e,t)},H.prototype.get_collideConnected=function(){return!!rc(this.a)},H.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),br(e,t)},H.prototype.__destroy__=function(){Ze(this.a)},cx.prototype=Object.create(v.prototype),cx.prototype.constructor=cx,cx.prototype.b=cx,cx.c={},b.b2CircleShape=cx,cx.prototype.GetType=function(){return dh(this.a)},cx.prototype.GetChildCount=function(){return Me(this.a)},cx.prototype.TestPoint=function(t,e){var i=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),!!lq(i,t,e)},cx.prototype.RayCast=function(t,e,i,n){var r=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),!!Lj(r,t,e,i,n)},cx.prototype.ComputeAABB=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),Ds(n,t,e,i)},cx.prototype.ComputeMass=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),hq(i,t,e)},cx.prototype.get_m_p=function(){return p(wg(this.a),t)},cx.prototype.set_m_p=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ri(e,t)},cx.prototype.get_m_type=function(){return Nr(this.a)},cx.prototype.set_m_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),se(e,t)},cx.prototype.get_m_radius=function(){return Pf(this.a)},cx.prototype.set_m_radius=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ie(e,t)},cx.prototype.__destroy__=function(){rq(this.a)},I.prototype=Object.create(u.prototype),I.prototype.constructor=I,I.prototype.b=I,I.c={},b.b2WeldJointDef=I,I.prototype.Initialize=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),Ss(n,t,e,i)},I.prototype.get_localAnchorA=function(){return p(Zs(this.a),t)},I.prototype.set_localAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),pi(e,t)},I.prototype.get_localAnchorB=function(){return p(eu(this.a),t)},I.prototype.set_localAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),rs(e,t)},I.prototype.get_referenceAngle=function(){return Qq(this.a)},I.prototype.set_referenceAngle=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),fu(e,t)},I.prototype.get_frequencyHz=function(){return eg(this.a)},I.prototype.set_frequencyHz=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),fn(e,t)},I.prototype.get_dampingRatio=function(){return Wp(this.a)},I.prototype.set_dampingRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ui(e,t)},I.prototype.get_type=function(){return mp(this.a)},I.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Wr(e,t)},I.prototype.get_userData=function(){return yt(this.a)},I.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Vo(e,t)},I.prototype.get_bodyA=function(){return p(Hu(this.a),r)},I.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Fe(e,t)},I.prototype.get_bodyB=function(){return p(uv(this.a),r)},I.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),kv(e,t)},I.prototype.get_collideConnected=function(){return!!ki(this.a)},I.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Tc(e,t)},I.prototype.__destroy__=function(){Mo(this.a)},dx.prototype=Object.create(h.prototype),dx.prototype.constructor=dx,dx.prototype.b=dx,dx.c={},b.b2MassData=dx,dx.prototype.get_mass=function(){return Rv(this.a)},dx.prototype.set_mass=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jc(e,t)},dx.prototype.get_center=function(){return p(Qe(this.a),t)},dx.prototype.set_center=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xq(e,t)},dx.prototype.get_I=function(){return zr(this.a)},dx.prototype.set_I=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ns(e,t)},dx.prototype.__destroy__=function(){Os(this.a)},ex.prototype=Object.create(q.prototype),ex.prototype.constructor=ex,ex.prototype.b=ex,ex.c={},b.b2GearJoint=ex,ex.prototype.GetJoint1=function(){return p(ed(this.a),q)},ex.prototype.GetJoint2=function(){return p(zk(this.a),q)},ex.prototype.SetRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),qn(e,t)},ex.prototype.GetRatio=function(){return pd(this.a)},ex.prototype.GetType=function(){return Cv(this.a)},ex.prototype.GetBodyA=function(){return p(Yl(this.a),r)},ex.prototype.GetBodyB=function(){return p(qq(this.a),r)},ex.prototype.GetAnchorA=function(){return p(hd(this.a),t)},ex.prototype.GetAnchorB=function(){return p($t(this.a),t)},ex.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Ki(i,e),t)},ex.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),Sc(e,t)},ex.prototype.GetNext=function(){return p(Qu(this.a),q)},ex.prototype.GetUserData=function(){return le(this.a)},ex.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),vl(e,t)},ex.prototype.IsActive=function(){return!!gi(this.a)},ex.prototype.GetCollideConnected=function(){return!!Ad(this.a)},ex.prototype.__destroy__=function(){Mf(this.a)},J.prototype=Object.create(q.prototype),J.prototype.constructor=J,J.prototype.b=J,J.c={},b.b2WeldJoint=J,J.prototype.GetLocalAnchorA=function(){return p(yu(this.a),t)},J.prototype.GetLocalAnchorB=function(){return p(dn(this.a),t)},J.prototype.SetFrequency=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Vg(e,t)},J.prototype.GetFrequency=function(){return Lk(this.a)},J.prototype.SetDampingRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Td(e,t)},J.prototype.GetDampingRatio=function(){return As(this.a)},J.prototype.Dump=function(){Co(this.a)},J.prototype.GetType=function(){return qo(this.a)},J.prototype.GetBodyA=function(){return p(sf(this.a),r)},J.prototype.GetBodyB=function(){return p(Re(this.a),r)},J.prototype.GetAnchorA=function(){return p(bq(this.a),t)},J.prototype.GetAnchorB=function(){return p(Yq(this.a),t)},J.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(js(i,e),t)},J.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),lc(e,t)},J.prototype.GetNext=function(){return p(po(this.a),q)},J.prototype.GetUserData=function(){return Vk(this.a)},J.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),bi(e,t)},J.prototype.IsActive=function(){return!!gc(this.a)},J.prototype.GetCollideConnected=function(){return!!Fq(this.a)},J.prototype.__destroy__=function(){cq(this.a)},fx.prototype=Object.create(h.prototype),fx.prototype.constructor=fx,fx.prototype.b=fx,fx.c={},b.b2JointEdge=fx,fx.prototype.get_other=function(){return p(Hi(this.a),r)},fx.prototype.set_other=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ld(e,t)},fx.prototype.get_joint=function(){return p(ov(this.a),q)},fx.prototype.set_joint=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),cc(e,t)},fx.prototype.get_prev=function(){return p(Nl(this.a),fx)},fx.prototype.set_prev=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),lg(e,t)},fx.prototype.get_next=function(){return p(go(this.a),fx)},fx.prototype.set_next=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Xq(e,t)},fx.prototype.__destroy__=function(){$n(this.a)},K.prototype=Object.create(u.prototype),K.prototype.constructor=K,K.prototype.b=K,K.c={},b.b2PulleyJointDef=K,K.prototype.Initialize=function(t,e,i,n,r,o,s){var a=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),r&&"object"==typeof r&&(r=r.a),o&&"object"==typeof o&&(o=o.a),s&&"object"==typeof s&&(s=s.a),yv(a,t,e,i,n,r,o,s)},K.prototype.get_groundAnchorA=function(){return p(Pm(this.a),t)},K.prototype.set_groundAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),sw(e,t)},K.prototype.get_groundAnchorB=function(){return p(gj(this.a),t)},K.prototype.set_groundAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Sr(e,t)},K.prototype.get_localAnchorA=function(){return p(Cc(this.a),t)},K.prototype.set_localAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),kq(e,t)},K.prototype.get_localAnchorB=function(){return p(qt(this.a),t)},K.prototype.set_localAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ud(e,t)},K.prototype.get_lengthA=function(){return Dl(this.a)},K.prototype.set_lengthA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),hg(e,t)},K.prototype.get_lengthB=function(){return ai(this.a)},K.prototype.set_lengthB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ze(e,t)},K.prototype.get_ratio=function(){return qe(this.a)},K.prototype.set_ratio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),kg(e,t)},K.prototype.get_type=function(){return Fl(this.a)},K.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Xk(e,t)},K.prototype.get_userData=function(){return Ak(this.a)},K.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),mm(e,t)},K.prototype.get_bodyA=function(){return p(Ac(this.a),r)},K.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),lw(e,t)},K.prototype.get_bodyB=function(){return p(Lg(this.a),r)},K.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),wf(e,t)},K.prototype.get_collideConnected=function(){return!!vw(this.a)},K.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Wt(e,t)},K.prototype.__destroy__=function(){Ei(this.a)},gx.prototype=Object.create(h.prototype),gx.prototype.constructor=gx,gx.prototype.b=gx,gx.c={},b.b2ManifoldPoint=gx,gx.prototype.get_localPoint=function(){return p(nv(this.a),t)},gx.prototype.set_localPoint=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Gs(e,t)},gx.prototype.get_normalImpulse=function(){return Dj(this.a)},gx.prototype.set_normalImpulse=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Dh(e,t)},gx.prototype.get_tangentImpulse=function(){return Up(this.a)},gx.prototype.set_tangentImpulse=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ai(e,t)},gx.prototype.get_id=function(){return p(Of(this.a),$w)},gx.prototype.set_id=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),bn(e,t)},gx.prototype.__destroy__=function(){Oq(this.a)},hx.prototype=Object.create(h.prototype),hx.prototype.constructor=hx,hx.prototype.b=hx,hx.c={},b.b2Transform=hx,hx.prototype.SetIdentity=function(){yq(this.a)},hx.prototype.Set=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),qh(i,t,e)},hx.prototype.get_p=function(){return p(It(this.a),t)},hx.prototype.set_p=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),lv(e,t)},hx.prototype.get_q=function(){return p(ad(this.a),Tw)},hx.prototype.set_q=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),de(e,t)},hx.prototype.__destroy__=function(){ge(this.a)},L.prototype=Object.create(v.prototype),L.prototype.constructor=L,L.prototype.b=L,L.c={},b.b2ChainShape=L,L.prototype.Clear=function(){Rf(this.a)},L.prototype.CreateLoop=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),ci(i,t,e)},L.prototype.CreateChain=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Lc(i,t,e)},L.prototype.SetPrevVertex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),wn(e,t)},L.prototype.SetNextVertex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Nn(e,t)},L.prototype.GetChildEdge=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),bt(i,t,e)},L.prototype.GetType=function(){return Wl(this.a)},L.prototype.GetChildCount=function(){return Mg(this.a)},L.prototype.TestPoint=function(t,e){var i=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),!!Rk(i,t,e)},L.prototype.RayCast=function(t,e,i,n){var r=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),!!ks(r,t,e,i,n)},L.prototype.ComputeAABB=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),jc(n,t,e,i)},L.prototype.ComputeMass=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Mv(i,t,e)},L.prototype.get_m_vertices=function(){return p(Vb(this.a),t)},L.prototype.set_m_vertices=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),mf(e,t)},L.prototype.get_m_count=function(){return Hb(this.a)},L.prototype.set_m_count=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),gt(e,t)},L.prototype.get_m_prevVertex=function(){return p(Qg(this.a),t)},L.prototype.set_m_prevVertex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ln(e,t)},L.prototype.get_m_nextVertex=function(){return p(cf(this.a),t)},L.prototype.set_m_nextVertex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Hc(e,t)},L.prototype.get_m_hasPrevVertex=function(){return!!yp(this.a)},L.prototype.set_m_hasPrevVertex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),If(e,t)},L.prototype.get_m_hasNextVertex=function(){return!!Mn(this.a)},L.prototype.set_m_hasNextVertex=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Kr(e,t)},L.prototype.get_m_type=function(){return fj(this.a)},L.prototype.set_m_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Zf(e,t)},L.prototype.get_m_radius=function(){return qs(this.a)},L.prototype.set_m_radius=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ss(e,t)},L.prototype.__destroy__=function(){ul(this.a)},ix.prototype=Object.create(h.prototype),ix.prototype.constructor=ix,ix.prototype.b=ix,ix.c={},b.b2Color=ix,ix.prototype.Set=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),pw(n,t,e,i)},ix.prototype.get_r=function(){return Xv(this.a)},ix.prototype.set_r=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Gd(e,t)},ix.prototype.get_g=function(){return Oo(this.a)},ix.prototype.set_g=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Rb(e,t)},ix.prototype.get_b=function(){return Bs(this.a)},ix.prototype.set_b=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Oe(e,t)},ix.prototype.__destroy__=function(){wp(this.a)},M.prototype=Object.create(q.prototype),M.prototype.constructor=M,M.prototype.b=M,M.c={},b.b2RopeJoint=M,M.prototype.GetLocalAnchorA=function(){return p(er(this.a),t)},M.prototype.GetLocalAnchorB=function(){return p(Di(this.a),t)},M.prototype.SetMaxLength=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Aw(e,t)},M.prototype.GetMaxLength=function(){return ke(this.a)},M.prototype.GetLimitState=function(){return qg(this.a)},M.prototype.GetType=function(){return dp(this.a)},M.prototype.GetBodyA=function(){return p(Xu(this.a),r)},M.prototype.GetBodyB=function(){return p(Lq(this.a),r)},M.prototype.GetAnchorA=function(){return p(xi(this.a),t)},M.prototype.GetAnchorB=function(){return p(ue(this.a),t)},M.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Es(i,e),t)},M.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),Av(e,t)},M.prototype.GetNext=function(){return p(Qo(this.a),q)},M.prototype.GetUserData=function(){return Mc(this.a)},M.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),bs(e,t)},M.prototype.IsActive=function(){return!!au(this.a)},M.prototype.GetCollideConnected=function(){return!!Xt(this.a)},M.prototype.__destroy__=function(){Tq(this.a)},jx.prototype=Object.create(h.prototype),jx.prototype.constructor=jx,jx.prototype.b=jx,jx.c={},b.b2RayCastInput=jx,jx.prototype.get_p1=function(){return p(sp(this.a),t)},jx.prototype.set_p1=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Hj(e,t)},jx.prototype.get_p2=function(){return p(Tk(this.a),t)},jx.prototype.set_p2=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),of(e,t)},jx.prototype.get_maxFraction=function(){return Xl(this.a)},jx.prototype.set_maxFraction=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ho(e,t)},jx.prototype.__destroy__=function(){Ae(this.a)},N.prototype=Object.create(v.prototype),N.prototype.constructor=N,N.prototype.b=N,N.c={},b.b2PolygonShape=N,N.prototype.Set=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Ji(i,t,e)},N.prototype.SetAsBox=function(t,e,i,n){var r=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),void 0===i?nw(r,t,e):void 0===n?_emscripten_bind_b2PolygonShape_SetAsBox_3(r,t,e,i):su(r,t,e,i,n)},N.prototype.GetVertexCount=function(){return Np(this.a)},N.prototype.GetVertex=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(jt(i,e),t)},N.prototype.GetType=function(){return eh(this.a)},N.prototype.GetChildCount=function(){return So(this.a)},N.prototype.TestPoint=function(t,e){var i=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),!!Gi(i,t,e)},N.prototype.RayCast=function(t,e,i,n){var r=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),!!Tb(r,t,e,i,n)},N.prototype.ComputeAABB=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),ol(n,t,e,i)},N.prototype.ComputeMass=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),cl(i,t,e)},N.prototype.get_m_centroid=function(){return p(tl(this.a),t)},N.prototype.set_m_centroid=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ar(e,t)},N.prototype.get_m_count=function(){return wi(this.a)},N.prototype.set_m_count=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),bd(e,t)},N.prototype.get_m_type=function(){return tw(this.a)},N.prototype.set_m_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Mu(e,t)},N.prototype.get_m_radius=function(){return oj(this.a)},N.prototype.set_m_radius=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),yw(e,t)},N.prototype.__destroy__=function(){ee(this.a)},O.prototype=Object.create(v.prototype),O.prototype.constructor=O,O.prototype.b=O,O.c={},b.b2EdgeShape=O,O.prototype.Set=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Aj(i,t,e)},O.prototype.GetType=function(){return Mq(this.a)},O.prototype.GetChildCount=function(){return th(this.a)},O.prototype.TestPoint=function(t,e){var i=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),!!sl(i,t,e)},O.prototype.RayCast=function(t,e,i,n){var r=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),!!mi(r,t,e,i,n)},O.prototype.ComputeAABB=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),$q(n,t,e,i)},O.prototype.ComputeMass=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Zm(i,t,e)},O.prototype.get_m_vertex1=function(){return p(gl(this.a),t)},O.prototype.set_m_vertex1=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),tu(e,t)},O.prototype.get_m_vertex2=function(){return p(fo(this.a),t)},O.prototype.set_m_vertex2=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Aq(e,t)},O.prototype.get_m_vertex0=function(){return p(hi(this.a),t)},O.prototype.set_m_vertex0=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ev(e,t)},O.prototype.get_m_vertex3=function(){return p(wq(this.a),t)},O.prototype.set_m_vertex3=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Zt(e,t)},O.prototype.get_m_hasVertex0=function(){return!!Ll(this.a)},O.prototype.set_m_hasVertex0=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),je(e,t)},O.prototype.get_m_hasVertex3=function(){return!!wj(this.a)},O.prototype.set_m_hasVertex3=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),bc(e,t)},O.prototype.get_m_type=function(){return Ro(this.a)},O.prototype.set_m_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Uh(e,t)},O.prototype.get_m_radius=function(){return Dr(this.a)},O.prototype.set_m_radius=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Zd(e,t)},O.prototype.__destroy__=function(){vi(this.a)},kx.prototype=Object.create(Lw.prototype),kx.prototype.constructor=kx,kx.prototype.b=kx,kx.c={},b.JSContactFilter=kx,kx.prototype.ShouldCollide=function(t,e){var i=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),!!Ej(i,t,e)},kx.prototype.__destroy__=function(){mj(this.a)},P.prototype=Object.create(u.prototype),P.prototype.constructor=P,P.prototype.b=P,P.c={},b.b2RevoluteJointDef=P,P.prototype.Initialize=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),vd(n,t,e,i)},P.prototype.get_localAnchorA=function(){return p(Ym(this.a),t)},P.prototype.set_localAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),cj(e,t)},P.prototype.get_localAnchorB=function(){return p(kj(this.a),t)},P.prototype.set_localAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),en(e,t)},P.prototype.get_referenceAngle=function(){return lj(this.a)},P.prototype.set_referenceAngle=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),up(e,t)},P.prototype.get_enableLimit=function(){return!!xm(this.a)},P.prototype.set_enableLimit=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Lo(e,t)},P.prototype.get_lowerAngle=function(){return Nk(this.a)},P.prototype.set_lowerAngle=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Zn(e,t)},P.prototype.get_upperAngle=function(){return Ip(this.a)},P.prototype.set_upperAngle=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Tl(e,t)},P.prototype.get_enableMotor=function(){return!!nj(this.a)},P.prototype.set_enableMotor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Wh(e,t)},P.prototype.get_motorSpeed=function(){return pf(this.a)},P.prototype.set_motorSpeed=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Yv(e,t)},P.prototype.get_maxMotorTorque=function(){return Vp(this.a)},P.prototype.set_maxMotorTorque=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),jv(e,t)},P.prototype.get_type=function(){return Ul(this.a)},P.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Gj(e,t)},P.prototype.get_userData=function(){return Tm(this.a)},P.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),pc(e,t)},P.prototype.get_bodyA=function(){return p(rt(this.a),r)},P.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),mh(e,t)},P.prototype.get_bodyB=function(){return p(tj(this.a),r)},P.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),$f(e,t)},P.prototype.get_collideConnected=function(){return!!Tr(this.a)},P.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Go(e,t)},P.prototype.__destroy__=function(){Xo(this.a)},lx.prototype=Object.create(Hw.prototype),lx.prototype.constructor=lx,lx.prototype.b=lx,lx.c={},b.JSDraw=lx,lx.prototype.DrawPolygon=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),bl(n,t,e,i)},lx.prototype.DrawSolidPolygon=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),zf(n,t,e,i)},lx.prototype.DrawCircle=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),fc(n,t,e,i)},lx.prototype.DrawSolidCircle=function(t,e,i,n){var r=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),Wb(r,t,e,i,n)},lx.prototype.DrawSegment=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),Ve(n,t,e,i)},lx.prototype.DrawTransform=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),hj(e,t)},lx.prototype.__destroy__=function(){Cf(this.a)},Q.prototype=Object.create(q.prototype),Q.prototype.constructor=Q,Q.prototype.b=Q,Q.c={},b.b2WheelJoint=Q,Q.prototype.GetLocalAnchorA=function(){return p(Hf(this.a),t)},Q.prototype.GetLocalAnchorB=function(){return p(kw(this.a),t)},Q.prototype.GetLocalAxisA=function(){return p(Uu(this.a),t)},Q.prototype.GetJointTranslation=function(){return $r(this.a)},Q.prototype.GetJointSpeed=function(){return kf(this.a)},Q.prototype.IsMotorEnabled=function(){return!!Sp(this.a)},Q.prototype.EnableMotor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xf(e,t)},Q.prototype.SetMotorSpeed=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Pd(e,t)},Q.prototype.GetMotorSpeed=function(){return mn(this.a)},Q.prototype.SetMaxMotorTorque=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Sj(e,t)},Q.prototype.GetMaxMotorTorque=function(){return hf(this.a)},Q.prototype.GetMotorTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),as(e,t)},Q.prototype.SetSpringFrequencyHz=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),yh(e,t)},Q.prototype.GetSpringFrequencyHz=function(){return cw(this.a)},Q.prototype.SetSpringDampingRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Un(e,t)},Q.prototype.GetSpringDampingRatio=function(){return Fb(this.a)},Q.prototype.GetType=function(){return Nu(this.a)},Q.prototype.GetBodyA=function(){return p(Fn(this.a),r)},Q.prototype.GetBodyB=function(){return p(dm(this.a),r)},Q.prototype.GetAnchorA=function(){return p(rr(this.a),t)},Q.prototype.GetAnchorB=function(){return p(mw(this.a),t)},Q.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Se(i,e),t)},Q.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),sm(e,t)},Q.prototype.GetNext=function(){return p(Cn(this.a),q)},Q.prototype.GetUserData=function(){return An(this.a)},Q.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),et(e,t)},Q.prototype.IsActive=function(){return!!ds(this.a)},Q.prototype.GetCollideConnected=function(){return!!Cr(this.a)},Q.prototype.__destroy__=function(){xw(this.a)},R.prototype=Object.create(q.prototype),R.prototype.constructor=R,R.prototype.b=R,R.c={},b.b2PulleyJoint=R,R.prototype.GetGroundAnchorA=function(){return p(Qc(this.a),t)},R.prototype.GetGroundAnchorB=function(){return p(Sf(this.a),t)},R.prototype.GetLengthA=function(){return Hn(this.a)},R.prototype.GetLengthB=function(){return Qj(this.a)},R.prototype.GetRatio=function(){return ao(this.a)},R.prototype.GetCurrentLengthA=function(){return Dk(this.a)},R.prototype.GetCurrentLengthB=function(){return si(this.a)},R.prototype.GetType=function(){return oi(this.a)},R.prototype.GetBodyA=function(){return p(fq(this.a),r)},R.prototype.GetBodyB=function(){return p(Id(this.a),r)},R.prototype.GetAnchorA=function(){return p(Cu(this.a),t)},R.prototype.GetAnchorB=function(){return p(rm(this.a),t)},R.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(ou(i,e),t)},R.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),Ku(e,t)},R.prototype.GetNext=function(){return p(ej(this.a),q)},R.prototype.GetUserData=function(){return kc(this.a)},R.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jb(e,t)},R.prototype.IsActive=function(){return!!Xh(this.a)},R.prototype.GetCollideConnected=function(){return!!Et(this.a)},R.prototype.__destroy__=function(){wo(this.a)},S.prototype=Object.create(u.prototype),S.prototype.constructor=S,S.prototype.b=S,S.c={},b.b2MouseJointDef=S,S.prototype.get_target=function(){return p(km(this.a),t)},S.prototype.set_target=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),md(e,t)},S.prototype.get_maxForce=function(){return Ru(this.a)},S.prototype.set_maxForce=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ql(e,t)},S.prototype.get_frequencyHz=function(){return qp(this.a)},S.prototype.set_frequencyHz=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Om(e,t)},S.prototype.get_dampingRatio=function(){return Xf(this.a)},S.prototype.set_dampingRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xo(e,t)},S.prototype.get_type=function(){return kp(this.a)},S.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Cd(e,t)},S.prototype.get_userData=function(){return Cs(this.a)},S.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),sc(e,t)},S.prototype.get_bodyA=function(){return p(pk(this.a),r)},S.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),id(e,t)},S.prototype.get_bodyB=function(){return p(cg(this.a),r)},S.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ch(e,t)},S.prototype.get_collideConnected=function(){return!!lt(this.a)},S.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Cq(e,t)},S.prototype.__destroy__=function(){Df(this.a)},F.prototype=Object.create(h.prototype),F.prototype.constructor=F,F.prototype.b=F,F.c={},b.b2Contact=F,F.prototype.GetManifold=function(){return p(Xs(this.a),Yw)},F.prototype.IsTouching=function(){return!!Vd(this.a)},F.prototype.SetEnabled=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),df(e,t)},F.prototype.IsEnabled=function(){return!!ig(this.a)},F.prototype.GetNext=function(){return p(cd(this.a),F)},F.prototype.GetFixtureA=function(){return p(pe(this.a),x)},F.prototype.GetChildIndexA=function(){return Ov(this.a)},F.prototype.GetFixtureB=function(){return p(Lv(this.a),x)},F.prototype.GetChildIndexB=function(){return bh(this.a)},F.prototype.SetFriction=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Bq(e,t)},F.prototype.GetFriction=function(){return Gh(this.a)},F.prototype.ResetFriction=function(){uh(this.a)},F.prototype.SetRestitution=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),uq(e,t)},F.prototype.GetRestitution=function(){return Rm(this.a)},F.prototype.ResetRestitution=function(){Rh(this.a)},F.prototype.SetTangentSpeed=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ni(e,t)},F.prototype.GetTangentSpeed=function(){return Zc(this.a)},U.prototype=Object.create(u.prototype),U.prototype.constructor=U,U.prototype.b=U,U.c={},b.b2DistanceJointDef=U,U.prototype.Initialize=function(t,e,i,n){var r=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),n&&"object"==typeof n&&(n=n.a),ps(r,t,e,i,n)},U.prototype.get_localAnchorA=function(){return p(Li(this.a),t)},U.prototype.set_localAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),te(e,t)},U.prototype.get_localAnchorB=function(){return p(iq(this.a),t)},U.prototype.set_localAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),gu(e,t)},U.prototype.get_length=function(){return Hd(this.a)},U.prototype.set_length=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ih(e,t)},U.prototype.get_frequencyHz=function(){return In(this.a)},U.prototype.set_frequencyHz=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),jj(e,t)},U.prototype.get_dampingRatio=function(){return $d(this.a)},U.prototype.set_dampingRatio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Fc(e,t)},U.prototype.get_type=function(){return Nh(this.a)},U.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),aq(e,t)},U.prototype.get_userData=function(){return nc(this.a)},U.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ec(e,t)},U.prototype.get_bodyA=function(){return p(yi(this.a),r)},U.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ur(e,t)},U.prototype.get_bodyB=function(){return p(Eu(this.a),r)},U.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xp(e,t)},U.prototype.get_collideConnected=function(){return!!tp(this.a)},U.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),zn(e,t)},U.prototype.__destroy__=function(){Lt(this.a)},r.prototype=Object.create(h.prototype),r.prototype.constructor=r,r.prototype.b=r,r.c={},b.b2Body=r,r.prototype.CreateFixture=function(t,e){var i=this.a;return t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),p(void 0===e?Ft(i,t):kl(i,t,e),x)},r.prototype.DestroyFixture=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),gn(e,t)},r.prototype.SetTransform=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),lm(i,t,e)},r.prototype.GetTransform=function(){return p(nt(this.a),hx)},r.prototype.GetPosition=function(){return p(Eg(this.a),t)},r.prototype.GetAngle=function(){return hw(this.a)},r.prototype.GetWorldCenter=function(){return p(ek(this.a),t)},r.prototype.GetLocalCenter=function(){return p(pv(this.a),t)},r.prototype.SetLinearVelocity=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Rl(e,t)},r.prototype.GetLinearVelocity=function(){return p(he(this.a),t)},r.prototype.SetAngularVelocity=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xt(e,t)},r.prototype.GetAngularVelocity=function(){return Qi(this.a)},r.prototype.ApplyForce=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),ft(n,t,e,i)},r.prototype.ApplyForceToCenter=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Be(i,t,e)},r.prototype.ApplyTorque=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),ih(i,t,e)},r.prototype.ApplyLinearImpulse=function(t,e,i){var n=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),i&&"object"==typeof i&&(i=i.a),rn(n,t,e,i)},r.prototype.ApplyAngularImpulse=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Dd(i,t,e)},r.prototype.GetMass=function(){return Pn(this.a)},r.prototype.GetInertia=function(){return Bu(this.a)},r.prototype.GetMassData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Xm(e,t)},r.prototype.SetMassData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Rd(e,t)},r.prototype.ResetMassData=function(){Um(this.a)},r.prototype.GetWorldPoint=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Cj(i,e),t)},r.prototype.GetWorldVector=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(dg(i,e),t)},r.prototype.GetLocalPoint=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(ng(i,e),t)},r.prototype.GetLocalVector=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Zl(i,e),t)},r.prototype.GetLinearVelocityFromWorldPoint=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Eq(i,e),t)},r.prototype.GetLinearVelocityFromLocalPoint=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Tn(i,e),t)},r.prototype.GetLinearDamping=function(){return kr(this.a)},r.prototype.SetLinearDamping=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),cm(e,t)},r.prototype.GetAngularDamping=function(){return kk(this.a)},r.prototype.SetAngularDamping=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ph(e,t)},r.prototype.GetGravityScale=function(){return aj(this.a)},r.prototype.SetGravityScale=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Al(e,t)},r.prototype.SetType=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),On(e,t)},r.prototype.GetType=function(){return Or(this.a)},r.prototype.SetBullet=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),qk(e,t)},r.prototype.IsBullet=function(){return!!Yk(this.a)},r.prototype.SetSleepingAllowed=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Gk(e,t)},r.prototype.IsSleepingAllowed=function(){return!!Jp(this.a)},r.prototype.SetAwake=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xu(e,t)},r.prototype.IsAwake=function(){return!!kd(this.a)},r.prototype.SetActive=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ll(e,t)},r.prototype.IsActive=function(){return!!Qh(this.a)},r.prototype.SetFixedRotation=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Xg(e,t)},r.prototype.IsFixedRotation=function(){return!!Eh(this.a)},r.prototype.GetFixtureList=function(){return p(vo(this.a),x)},r.prototype.GetJointList=function(){return p(Js(this.a),fx)},r.prototype.GetContactList=function(){return p(Hh(this.a),mx)},r.prototype.GetNext=function(){return p(Vu(this.a),r)},r.prototype.GetUserData=function(){return jk(this.a)},r.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),fi(e,t)},r.prototype.GetWorld=function(){return p(uu(this.a),E)},r.prototype.Dump=function(){ck(this.a)},V.prototype=Object.create(q.prototype),V.prototype.constructor=V,V.prototype.b=V,V.c={},b.b2FrictionJoint=V,V.prototype.GetLocalAnchorA=function(){return p(Fo(this.a),t)},V.prototype.GetLocalAnchorB=function(){return p(Kh(this.a),t)},V.prototype.SetMaxForce=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),zt(e,t)},V.prototype.GetMaxForce=function(){return fv(this.a)},V.prototype.SetMaxTorque=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),pp(e,t)},V.prototype.GetMaxTorque=function(){return li(this.a)},V.prototype.GetType=function(){return Uf(this.a)},V.prototype.GetBodyA=function(){return p(fw(this.a),r)},V.prototype.GetBodyB=function(){return p(Ee(this.a),r)},V.prototype.GetAnchorA=function(){return p(xr(this.a),t)},V.prototype.GetAnchorB=function(){return p(av(this.a),t)},V.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Zp(i,e),t)},V.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),Uj(e,t)},V.prototype.GetNext=function(){return p(Yr(this.a),q)},V.prototype.GetUserData=function(){return gr(this.a)},V.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),rp(e,t)},V.prototype.IsActive=function(){return!!Qb(this.a)},V.prototype.GetCollideConnected=function(){return!!gp(this.a)},V.prototype.__destroy__=function(){Bo(this.a)},nx.prototype=Object.create(h.prototype),nx.prototype.constructor=nx,nx.prototype.b=nx,nx.c={},b.b2DestructionListener=nx,nx.prototype.__destroy__=function(){hc(this.a)},W.prototype=Object.create(u.prototype),W.prototype.constructor=W,W.prototype.b=W,W.c={},b.b2GearJointDef=W,W.prototype.get_joint1=function(){return p(di(this.a),q)},W.prototype.set_joint1=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),zq(e,t)},W.prototype.get_joint2=function(){return p(em(this.a),q)},W.prototype.set_joint2=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Yt(e,t)},W.prototype.get_ratio=function(){return To(this.a)},W.prototype.set_ratio=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),fg(e,t)},W.prototype.get_type=function(){return Vl(this.a)},W.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ne(e,t)},W.prototype.get_userData=function(){return Gm(this.a)},W.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Iv(e,t)},W.prototype.get_bodyA=function(){return p(ij(this.a),r)},W.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Mt(e,t)},W.prototype.get_bodyB=function(){return p($m(this.a),r)},W.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),zv(e,t)},W.prototype.get_collideConnected=function(){return!!nk(this.a)},W.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ho(e,t)},W.prototype.__destroy__=function(){jq(this.a)},X.prototype=Object.create(q.prototype),X.prototype.constructor=X,X.prototype.b=X,X.c={},b.b2RevoluteJoint=X,X.prototype.GetLocalAnchorA=function(){return p(Xb(this.a),t)},X.prototype.GetLocalAnchorB=function(){return p(vs(this.a),t)},X.prototype.GetReferenceAngle=function(){return rd(this.a)},X.prototype.GetJointAngle=function(){return Bf(this.a)},X.prototype.GetJointSpeed=function(){return yf(this.a)},X.prototype.IsLimitEnabled=function(){return!!hv(this.a)},X.prototype.EnableLimit=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),zg(e,t)},X.prototype.GetLowerLimit=function(){return dk(this.a)},X.prototype.GetUpperLimit=function(){return Cl(this.a)},X.prototype.SetLimits=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Vr(i,t,e)},X.prototype.IsMotorEnabled=function(){return!!it(this.a)},X.prototype.EnableMotor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ah(e,t)},X.prototype.SetMotorSpeed=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jn(e,t)},X.prototype.GetMotorSpeed=function(){return Yf(this.a)},X.prototype.SetMaxMotorTorque=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),$g(e,t)},X.prototype.GetMaxMotorTorque=function(){return yj(this.a)},X.prototype.GetMotorTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),Ts(e,t)},X.prototype.GetType=function(){return Ap(this.a)},X.prototype.GetBodyA=function(){return p(Zi(this.a),r)},X.prototype.GetBodyB=function(){return p(vk(this.a),r)},X.prototype.GetAnchorA=function(){return p(pr(this.a),t)},X.prototype.GetAnchorB=function(){return p(Fv(this.a),t)},X.prototype.GetReactionForce=function(e){var i=this.a;return e&&"object"==typeof e&&(e=e.a),p(Vt(i,e),t)},X.prototype.GetReactionTorque=function(t){var e=this.a;return t&&"object"==typeof t&&(t=t.a),Og(e,t)},X.prototype.GetNext=function(){return p(Gu(this.a),q)},X.prototype.GetUserData=function(){return uc(this.a)},X.prototype.SetUserData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Zh(e,t)},X.prototype.IsActive=function(){return!!Pu(this.a)},X.prototype.GetCollideConnected=function(){return!!Cg(this.a)},X.prototype.__destroy__=function(){jh(this.a)},mx.prototype=Object.create(h.prototype),mx.prototype.constructor=mx,mx.prototype.b=mx,mx.c={},b.b2ContactEdge=mx,mx.prototype.get_other=function(){return p(Ci(this.a),r)},mx.prototype.set_other=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ri(e,t)},mx.prototype.get_contact=function(){return p(Sm(this.a),F)},mx.prototype.set_contact=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Ot(e,t)},mx.prototype.get_prev=function(){return p(Gg(this.a),mx)},mx.prototype.set_prev=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),dw(e,t)},mx.prototype.get_next=function(){return p(Ag(this.a),mx)},mx.prototype.set_next=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Gb(e,t)},mx.prototype.__destroy__=function(){Je(this.a)},Y.prototype=Object.create(u.prototype),Y.prototype.constructor=Y,Y.prototype.b=Y,Y.c={},b.b2RopeJointDef=Y,Y.prototype.get_localAnchorA=function(){return p(Em(this.a),t)},Y.prototype.set_localAnchorA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Jr(e,t)},Y.prototype.get_localAnchorB=function(){return p(pq(this.a),t)},Y.prototype.set_localAnchorB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Gv(e,t)},Y.prototype.get_maxLength=function(){return ok(this.a)},Y.prototype.set_maxLength=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Qk(e,t)},Y.prototype.get_type=function(){return gq(this.a)},Y.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xk(e,t)},Y.prototype.get_userData=function(){return tn(this.a)},Y.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),oo(e,t)},Y.prototype.get_bodyA=function(){return p(du(this.a),r)},Y.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Lf(e,t)},Y.prototype.get_bodyB=function(){return p(Pv(this.a),r)},Y.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Md(e,t)},Y.prototype.get_collideConnected=function(){return!!gh(this.a)},Y.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Gc(e,t)},Y.prototype.__destroy__=function(){cs(this.a)},Z.prototype=Object.create(u.prototype),Z.prototype.constructor=Z,Z.prototype.b=Z,Z.c={},b.b2MotorJointDef=Z,Z.prototype.Initialize=function(t,e){var i=this.a;t&&"object"==typeof t&&(t=t.a),e&&"object"==typeof e&&(e=e.a),Pl(i,t,e)},Z.prototype.get_linearOffset=function(){return p(Ol(this.a),t)},Z.prototype.set_linearOffset=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),co(e,t)},Z.prototype.get_angularOffset=function(){return dt(this.a)},Z.prototype.set_angularOffset=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Mr(e,t)},Z.prototype.get_maxForce=function(){return mc(this.a)},Z.prototype.set_maxForce=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),ut(e,t)},Z.prototype.get_maxTorque=function(){return mq(this.a)},Z.prototype.set_maxTorque=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),xv(e,t)},Z.prototype.get_correctionFactor=function(){return Yo(this.a)},Z.prototype.set_correctionFactor=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),at(e,t)},Z.prototype.get_type=function(){return dr(this.a)},Z.prototype.set_type=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),$b(e,t)},Z.prototype.get_userData=function(){return Pt(this.a)},Z.prototype.set_userData=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),dd(e,t)},Z.prototype.get_bodyA=function(){return p(Zv(this.a),r)},Z.prototype.set_bodyA=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Zk(e,t)},Z.prototype.get_bodyB=function(){return p(iu(this.a),r)},Z.prototype.set_bodyB=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),gs(e,t)},Z.prototype.get_collideConnected=function(){return!!sd(this.a)},Z.prototype.set_collideConnected=function(t){var e=this.a;t&&"object"==typeof t&&(t=t.a),Kv(e,t)},Z.prototype.__destroy__=function(){Xr(this.a)},function(){function t(){b.b2Shape.e_circle=Yj(),b.b2Shape.e_edge=xj(),b.b2Shape.e_polygon=Au(),b.b2Shape.e_chain=Gn(),b.b2Shape.e_typeCount=ot(),b.e_unknownJoint=Vh(),b.e_revoluteJoint=ii(),b.e_prismaticJoint=Pq(),b.e_distanceJoint=Sn(),b.e_pulleyJoint=bf(),b.e_mouseJoint=ct(),b.e_gearJoint=Us(),b.e_wheelJoint=He(),b.e_weldJoint=im(),b.e_frictionJoint=Ed(),b.e_ropeJoint=sv(),b.e_motorJoint=eo(),b.e_inactiveLimit=vu(),b.e_atLowerLimit=an(),b.e_atUpperLimit=rw(),b.e_equalLimits=Ch(),b.b2Manifold.e_circles=td(),b.b2Manifold.e_faceA=rj(),b.b2Manifold.e_faceB=sj(),b.b2_staticBody=Sl(),b.b2_kinematicBody=pj(),b.b2_dynamicBody=Jt(),b.b2Draw.e_shapeBit=Fh(),b.b2Draw.e_jointBit=tf(),b.b2Draw.e_aabbBit=Zq(),b.b2Draw.e_pairBit=yr(),b.b2Draw.e_centerOfMassBit=mo(),b.b2ContactFeature.e_vertex=ro(),b.b2ContactFeature.e_face=Bl()}b.calledRun?t():Za.unshift(t)}(),Box2D};!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.decomp=t()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return r(i||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){function n(t,e,i){i=i||0;var n,r,o,s,a,c,u,l=[0,0];return n=t[1][1]-t[0][1],r=t[0][0]-t[1][0],o=n*t[0][0]+r*t[0][1],s=e[1][1]-e[0][1],a=e[0][0]-e[1][0],c=s*e[0][0]+a*e[0][1],g(u=n*a-s*r,0,i)||(l[0]=(a*o-r*c)/u,l[1]=(n*c-s*o)/u),l}function r(t,e,i,n){var r=e[0]-t[0],o=e[1]-t[1],s=n[0]-i[0],a=n[1]-i[1];if(s*o-a*r==0)return!1;var c=(r*(i[1]-t[1])+o*(t[0]-i[0]))/(s*o-a*r),u=(s*(t[1]-i[1])+a*(i[0]-t[0]))/(a*r-s*o);return c>=0&&1>=c&&u>=0&&1>=u}function o(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function s(t,e,i){return o(t,e,i)>0}function a(t,e,i){return o(t,e,i)>=0}function c(t,e,i){return o(t,e,i)<0}function u(t,e,i){return o(t,e,i)<=0}function l(t,e,i,n){if(n){var r=y,s=v;r[0]=e[0]-t[0],r[1]=e[1]-t[1],s[0]=i[0]-e[0],s[1]=i[1]-e[1];var a=r[0]*s[0]+r[1]*s[1],c=Math.sqrt(r[0]*r[0]+r[1]*r[1]),u=Math.sqrt(s[0]*s[0]+s[1]*s[1]);return n>Math.acos(a/(c*u))}return 0===o(t,e,i)}function h(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function _(t,e){var i=t.length;return t[0>e?e%i+i:e%i]}function p(t,e,i,n){for(var r=i;n>r;r++)t.push(e[r])}function d(t,e){return c(_(t,e-1),_(t,e),_(t,e+1))}function f(t,e,i){var r,o,s=w,c=x;if(a(_(t,e+1),_(t,e),_(t,i))&&u(_(t,e-1),_(t,e),_(t,i)))return!1;o=h(_(t,e),_(t,i));for(var l=0;l!==t.length;++l)if((l+1)%t.length!==e&&l!==e&&a(_(t,e),_(t,i),_(t,l+1))&&u(_(t,e),_(t,i),_(t,l))&&(s[0]=_(t,e),s[1]=_(t,i),c[0]=_(t,l),c[1]=_(t,l+1),r=n(s,c),h(_(t,e),r)<o))return!1;return!0}function b(t,e,i,n){var r=n||[];if(function(t){t.length=0}(r),i>e)for(var o=e;i>=o;o++)r.push(t[o]);else{for(o=0;i>=o;o++)r.push(t[o]);for(o=e;o<t.length;o++)r.push(t[o])}return r}function m(t,e,i,n,r){r=r||0;var o=e[1]-t[1],s=t[0]-e[0],a=o*t[0]+s*t[1],c=n[1]-i[1],u=i[0]-n[0],l=c*i[0]+u*i[1],h=o*u-c*s;return g(h,0,r)?[0,0]:[(u*a-s*l)/h,(o*l-c*a)/h]}function g(t,e,i){return i=i||0,Math.abs(t-e)<i}e.exports={decomp:function(t){var e=function t(e){for(var i=[],n=[],r=[],o=[],s=Number.MAX_VALUE,a=0;a<e.length;++a)if(d(e,a))for(var c=0;c<e.length;++c)if(f(e,a,c)){n=t(b(e,a,c,o)),r=t(b(e,c,a,o));for(var u=0;u<r.length;u++)n.push(r[u]);n.length<s&&(i=n,s=n.length,i.push([_(e,a),_(e,c)]))}return i}(t);return e.length>0?function t(e,i){if(0===i.length)return[e];if(i instanceof Array&&i.length&&i[0]instanceof Array&&2===i[0].length&&i[0][0]instanceof Array){for(var n=[e],r=0;r<i.length;r++)for(var o=i[r],s=0;s<n.length;s++){var a=n[s],c=t(a,o);if(c){n.splice(s,1),n.push(c[0],c[1]);break}}return n}var o=i,r=e.indexOf(o[0]),s=e.indexOf(o[1]);return-1!==r&&-1!==s&&[b(e,r,s),b(e,s,r)]}(t,e):[t]},quickDecomp:function t(e,i,n,r,o,l,f){l=l||100,f=f||0,o=o||25,i=void 0!==i?i:[],n=n||[],r=r||[];var b=[0,0],g=[0,0],y=[0,0],v=0,w=0,x=0,T=0,S=0,A=0,C=0,E=[],P=[],D=e,M=e;if(M.length<3)return i;if(++f>l)return console.warn("quickDecomp: max level ("+l+") reached."),i;for(var R=0;R<e.length;++R)if(d(D,R)){n.push(D[R]),v=w=Number.MAX_VALUE;for(var I=0;I<e.length;++I)s(_(D,R-1),_(D,R),_(D,I))&&u(_(D,R-1),_(D,R),_(D,I-1))&&(y=m(_(D,R-1),_(D,R),_(D,I),_(D,I-1)),c(_(D,R+1),_(D,R),y)&&w>(x=h(D[R],y))&&(w=x,g=y,A=I)),s(_(D,R+1),_(D,R),_(D,I+1))&&u(_(D,R+1),_(D,R),_(D,I))&&(y=m(_(D,R+1),_(D,R),_(D,I),_(D,I+1)),s(_(D,R-1),_(D,R),y)&&v>(x=h(D[R],y))&&(v=x,b=y,S=I));if(A===(S+1)%e.length)y[0]=(g[0]+b[0])/2,y[1]=(g[1]+b[1])/2,r.push(y),S>R?(p(E,D,R,S+1),E.push(y),P.push(y),0!==A&&p(P,D,A,D.length),p(P,D,0,R+1)):(0!==R&&p(E,D,R,D.length),p(E,D,0,S+1),E.push(y),P.push(y),p(P,D,A,R+1));else{if(A>S&&(S+=e.length),T=Number.MAX_VALUE,A>S)return i;for(I=A;S>=I;++I)a(_(D,R-1),_(D,R),_(D,I))&&u(_(D,R+1),_(D,R),_(D,I))&&T>(x=h(_(D,R),_(D,I)))&&(T=x,C=I%e.length);C>R?(p(E,D,R,C+1),0!==C&&p(P,D,C,M.length),p(P,D,0,R+1)):(0!==R&&p(E,D,R,M.length),p(E,D,0,C+1),p(P,D,C,R+1))}return E.length<P.length?(t(E,i,n,r,o,l,f),t(P,i,n,r,o,l,f)):(t(P,i,n,r,o,l,f),t(E,i,n,r,o,l,f)),i}return i.push(e),i},isSimple:function(t){var e,i=t;for(e=0;e<i.length-1;e++)for(var n=0;e-1>n;n++)if(r(i[e],i[e+1],i[n],i[n+1]))return!1;for(e=1;e<i.length-2;e++)if(r(i[0],i[i.length-1],i[e],i[e+1]))return!1;return!0},removeCollinearPoints:function(t,e){for(var i=0,n=t.length-1;t.length>3&&n>=0;--n)l(_(t,n-1),_(t,n),_(t,n+1),e)&&(t.splice(n%t.length,1),i++);return i},makeCCW:function(t){for(var e=0,i=t,n=1;n<t.length;++n)(i[n][1]<i[e][1]||i[n][1]===i[e][1]&&i[n][0]>i[e][0])&&(e=n);s(_(t,e-1),_(t,e),_(t,e+1))||function(t){for(var e=[],i=t.length,n=0;n!==i;n++)e.push(t.pop());for(var n=0;n!==i;n++)t[n]=e[n]}(t)}};var y=[],v=[],w=[],x=[]},{}]},{},[1])(1)}),function(){"use strict";var t;!function(t){var e=include("PIXI.extras.BitmapText",!1);if(e){var i=e.prototype;i.setPivotToAlign=!1,i._orig_updateText=i.updateText,i.updateText=function(){if(this._orig_updateText(),this.setPivotToAlign)switch(this.align){case"center":this.pivot.x=this.textWidth/2;break;case"right":this.pivot.x=this.textWidth;break;default:this.pivot.x=0}}}}(),function(t){var e=include("PIXI.Container",!1);if(e){var i=e.prototype;i.useBoundsForSize=!0,i._width=0,i._height=0,Object.getOwnPropertyDescriptor(i,"width").configurable&&(Object.defineProperty(i,"width",{configurable:!0,get:function(){return this.useBoundsForSize?this.scale.x*this.getLocalBounds().width:this.scale.x*this._width},set:function(t){if(this.useBoundsForSize){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}else 0===this._width?this._width=t/this.scale.x:this.scale.x=t/this._width}}),Object.defineProperty(i,"height",{configurable:!0,get:function(){return this.useBoundsForSize?this.scale.y*this.getLocalBounds().height:this.scale.y*this._height},set:function(t){if(this.useBoundsForSize){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}else 0===this._height?this._height=t/this.scale.y:this.scale.y=t/this._height}}))}}(),(t=include("PIXI.interaction.InteractionManager",!1))&&(t.prototype.removeClickEvents=function(){this.interactionDOMElement&&(window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),window.removeEventListener("mouseup",this.onMouseUp,!0))}),function(t){var e=include("PIXI.Point",!1);if(e){var i=e.prototype;i.dotProd=function(t){return this.x*t.x+this.y*t.y},i.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.lengthSq=function(){return this.x*this.x+this.y*this.y},i.normalize=function(){var t=1/this.length();this.x*=t,this.y*=t},i.subtract=function(t){this.x-=t.x,this.y-=t.y},i.add=function(t){this.x+=t.x,this.y+=t.y},i.truncate=function(t){var e=this.length();if(e>t){var i=t/e;this.x*=i,this.y*=i}},i.scaleBy=function(t){this.x*=t,this.y*=t},i.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},i.distanceSq=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},e.localToGlobal=function(t,e,i,n){return n||(n=new PIXI.Point),n.x=e,n.y=i,t.toGlobal(n,n)},e.globalToLocal=function(t,e,i,n){return n||(n=new PIXI.Point),n.x=e,n.y=i,t.toLocal(n,null,n)},e.localToLocal=function(t,e,i,n,r){return r||(r=new PIXI.Point),r.x=i,r.y=n,e.toLocal(r,t,r)},i.toString=function(){return"("+this.x+", "+this.y+")"}}}(),function(t){var e=180/Math.PI,i=function(t,e,i,n,r){for(this.x=t||0,this.y=e||0,this.radius=i||0,this.startAngle=n||0;this.startAngle<0;)this.startAngle+=360;this.endAngle=r||0,this.endAngle<this.startAngle&&(this.endAngle+=360)},n=i.prototype;n.clone=function(){return new PIXI.Sector(this.x,this.y,this.radius,this.startAngle,this.endAngle)},n.contains=function(t,i){if(this.radius<=0)return!1;var n=this.x-t,r=this.y-i,o=this.radius*this.radius;if((n*=n)+(r*=r)>o)return!1;for(var s=Math.atan2(i-this.y,t-this.x)*e;s<this.startAngle;)s+=360;return s>=this.startAngle&&s<=this.endAngle},n.constructor=i,namespace("PIXI").Sector=i}(),function(t){var e=include("PIXI.Text",!1);if(e){var i=e.prototype;i.setPivotToAlign=!1,i._orig_updateText=i.updateText,i.updateText=function(){if(this._orig_updateText(),this.setPivotToAlign)switch(this.style.align){case"center":this.pivot.x=this._width/2;break;case"right":this.pivot.x=this._width;break;default:this.pivot.x=0}}}}(),function(){var t,e=include("springroll.ColorAlphaTask"),i=include("springroll.Task"),n=include("PIXI.Texture"),r=include("PIXI.BaseTexture"),o=include("PIXI.utils"),s=include("springroll.Application"),a=function(e,n){t||(t=include("springroll.pixi.PixiDisplay")),i.call(this,e,n||e.image),this.image=this.filter(e.image),this.color=this.filter(e.color),this.alpha=this.filter(e.alpha),this.uploadToGPU=!!e.uploadToGPU},c=i.extend(a);a.test=function(t){return"pixi"==t.type&&(!!t.image||!!t.alpha&&!!t.color)},c.start=function(t){this.loadImage({},t)},c.loadImage=function(i,a,c){this.image?i._image=this.image:(i._color=this.color,i._alpha=this.alpha),this.load(i,function(i){var u;u=i._image?i._image:e.mergeAlpha(i._color,i._alpha);var l=this.original.scale;l&&1!==l||(l=o.getResolutionOfUrl(this.image||this.color));var h=new n(new r(u,null,l));if(h.baseTexture.imageUrl=this.image,this.cache&&!c){var _=this.id;o.useFilenamesForTextures||(_=this.image||this.color),o.TextureCache[_]=h,o.BaseTextureCache[_]=h.baseTexture,h.__T_destroy=h.destroy,h.destroy=function(){this.__destroyed||(this.__destroyed=!0,this.__T_destroy(!0),o.TextureCache[_]==this&&delete o.TextureCache[_])}}if(this.uploadToGPU){var p=s.instance.displays;for(var d in p){var f=p[d];if(f instanceof t&&f.isWebGL){f.renderer.updateTexture(h);break}}}a(h,i)}.bind(this))},c.destroy=function(){i.prototype.destroy.call(this)},namespace("springroll.pixi").TextureTask=a}(),function(t){var e=include("PIXI.Rectangle"),i=include("PIXI.Texture"),n=include("PIXI.utils"),r=function(t,r,o){this.baseTexture=t.baseTexture,this.texture=t,this.frames={};var s=r.meta&&"http://www.codeandweb.com/texturepacker"==r.meta.app,a=r.frames;for(var c in a){var u=a[c],l=c.lastIndexOf(".");l>0&&(c=c.substring(0,l)),(l=c.lastIndexOf("/"))>=0&&(c=c.substring(l+1));var h=u.frame;if(h){var _=null,p=null;_=u.rotated&&s?new e(h.x,h.y,h.h,h.w):new e(h.x,h.y,h.w,h.h),u.trimmed&&(p=new e(u.spriteSourceSize.x,u.spriteSourceSize.y,u.sourceSize.w,u.sourceSize.h)),this.frames[c]=new i(this.baseTexture,_,_.clone(),p,u.rotated),o&&(n.TextureCache[c]=this.frames[c])}}},o=extend(r);o.getFrame=function(t){return this.frames[t]||null},o.getFrames=function(t,e,i,n,r){void 0===n&&(n=4),n<0&&(n=0),r||(r=[]);var o,s,a=[],c=[];for(o=1;o<n;++o){var u="";s=1;for(var l=0;l<o;++l)u+="0",s*=10;a.unshift(u),c.push(s)}var h,_,p=c.length;for(o=e,_=i;o<=_;++o){var d=null;for(s=0;s<p;++s)if(o<c[s]){d=a[s]+o;break}d||(d=o.toString());var f=t.replace("#",d),b=this.frames[f];b&&(h=b),h&&r.push(h)}return r},o.destroy=function(){this.texture.destroy(!0),this.texture=null,this.baseTexture=null,this.frames=null},namespace("springroll.pixi").TextureAtlas=r}(),function(){var t=include("springroll.pixi.TextureTask"),e=(include("PIXI.Texture"),include("springroll.pixi.TextureAtlas")),i=(include("PIXI.utils"),function(e,i){t.call(this,e,i||e.atlas),this.atlas=this.filter(e.atlas)}),n=t.extend(i);i.test=function(e){return!!e.atlas&&t.test(e)},n.start=function(t){this.loadAtlas({},t)},n.loadAtlas=function(t,i,n){t._atlas=this.atlas,this.loadImage(t,function(t,r){var o=r._atlas,s=new e(t,o,this.cache&&!n);o.meta&&o.meta.scale&&1!=parseFloat(o.meta.scale)&&(t.baseTexture.resolution=parseFloat(r._atlas.meta.scale),t.baseTexture.update()),i(s,r)}.bind(this),!0)},namespace("springroll.pixi").TextureAtlasTask=i}(),function(){var t=include("springroll.pixi.TextureTask"),e=include("PIXI.Texture"),i=include("PIXI.Rectangle"),n=include("PIXI.extras.BitmapText",!1);if(include("PIXI.utils"),n){var r=function(e){t.call(this,e,e.font),this.font=this.filter(e.font)},o=t.extend(r);r.test=function(e){return!!e.font&&t.test(e)},o.start=function(t){this.loadImage({_font:this.font},function(r,o){var s=o._font,a={},c=s.getElementsByTagName("info")[0],u=s.getElementsByTagName("common")[0];a.font=c.getAttribute("face"),a.size=parseInt(c.getAttribute("size"),10),a.lineHeight=parseInt(u.getAttribute("lineHeight"),10),a.chars={};var l,h=s.getElementsByTagName("char");for(l=0;l<h.length;l++){var _=h[l],p=parseInt(_.getAttribute("id"),10),d=new i(parseInt(_.getAttribute("x"),10)+r.frame.x,parseInt(_.getAttribute("y"),10)+r.frame.y,parseInt(_.getAttribute("width"),10),parseInt(_.getAttribute("height"),10));a.chars[p]={xOffset:parseInt(_.getAttribute("xoffset"),10),yOffset:parseInt(_.getAttribute("yoffset"),10),xAdvance:parseInt(_.getAttribute("xadvance"),10),kerning:{},texture:new e(r.baseTexture,d)}}var f=s.getElementsByTagName("kerning");for(l=0;l<f.length;l++){var b=f[l],m=parseInt(b.getAttribute("first"),10),g=parseInt(b.getAttribute("second"),10),y=parseInt(b.getAttribute("amount"),10);a.chars[g].kerning[m]=y}this.cache&&n.fonts&&(n.fonts[a.font]=a),a.destroy=function(){a.chars=null,r.destroy()},t(a,o)}.bind(this),!0)},namespace("springroll.pixi").BitmapFontTask=r}}(),(new(include("springroll.ApplicationPlugin"))).setup=function(){this.assetManager.register("springroll.pixi.TextureTask",60),this.assetManager.register("springroll.pixi.TextureAtlasTask",70),this.assetManager.register("springroll.pixi.BitmapFontTask",80),this.once("displayAdded",function(t){var e=this.options;!e.defaultAssetType&&t instanceof include("springroll.PixiDisplay")&&(e.defaultAssetType="pixi")})},function(t){var e={};e.Circle=include("PIXI.Circle"),e.Ellipse=include("PIXI.Ellipse"),e.Rectangle=include("PIXI.Rectangle"),e.Sector=include("PIXI.Sector"),e.Point=include("PIXI.Point"),e.Polygon=include("PIXI.Polygon"),e.useRadians=!0,e.getLocalBounds=function(t){var e,i=t.width,n=t.height;return(e=i&&n?new PIXI.Rectangle(-t.pivot.x,-t.pivot.y,i/t.scale.x,n/t.scale.y):new PIXI.Rectangle).right=e.x+e.width,e.bottom=e.y+e.height,e},e.getScale=function(e,i){return i!==t?e.scale[i]:e.scale},e.setPosition=function(e,i,n){return n!==t?e.position[n]=i:(i.x!==t&&(e.position.x=i.x),i.y!==t&&(e.position.y=i.y)),e},e.getPosition=function(e,i){return i!==t?e.position[i]:e.position},e.setScale=function(e,i,n){return n!==t?e.scale[n]=i:e.scale.x=e.scale.y=i,e},e.setPivot=function(e,i,n){return n!==t&&(e.pivot[n]=i),e.pivot=i,e},e.setHitArea=function(t,e){return t.hitArea=e,t},e.getBitmapSize=function(t){return{h:t.height/t.scale.y,w:t.width/t.scale.x}},e.removeChildren=function(t){t.removeChildren()},e.contains=function(t,e){for(;e;){if(e==t)return!0;e=e.parent}return!1},namespace("springroll.pixi").DisplayAdapter=e}(),function(t){var e=include("springroll.AbstractDisplay"),i=include("PIXI.Container"),n=include("PIXI.CanvasRenderer"),r=include("PIXI.WebGLRenderer"),o=include("PIXI.autoDetectRenderer"),s=function(t,s){e.call(this,t,s),s=s||{},this.keepMouseover=s.keepMouseover||!1,this._autoPreventDefault=!s.hasOwnProperty("autoPreventDefault")||s.autoPreventDefault,this.stage=new i,this.renderer=null;var a={view:this.canvas,transparent:!!s.transparent,antialias:!!s.antiAlias,preserveDrawingBuffer:!!s.preserveDrawingBuffer,clearBeforeRender:!!s.clearView,backgroundColor:s.backgroundColor||0,autoResize:!1},c=!!s.preMultAlpha;a.transparent&&!c&&(a.transparent="notMultiplied"),"webgl"!=s.forceContext&&window.navigator.userAgent.indexOf("Trident/7.0")>0&&(s.forceContext="canvas2d"),"canvas2d"==s.forceContext?this.renderer=new n(this.width,this.height,a):"webgl"==s.forceContext?this.renderer=new r(this.width,this.height,a):this.renderer=o(this.width,this.height,a),this.isWebGL=this.renderer instanceof r,this.adapter=include("springroll.pixi.DisplayAdapter"),this.autoPreventDefault=this._autoPreventDefault},a=e.prototype,c=e.extend(s);Object.defineProperty(c,"enabled",{get:function(){return this._enabled},set:function(t){Object.getOwnPropertyDescriptor(a,"enabled").set.call(this,t);var e=this.renderer.plugins.interaction;e&&(t?e.setTargetElement(this.canvas):this.keepMouseover?e.removeClickEvents():e.removeEvents())}}),Object.defineProperty(c,"autoPreventDefault",{get:function(){return this._autoPreventDefault},set:function(t){this._autoPreventDefault=!!t;var e=this.renderer.plugins.interaction;e&&(e.autoPreventDefault=this._autoPreventDefault)}}),c.resize=function(t,e){a.resize.call(this,t,e),this.renderer.resize(t,e)},c.render=function(t,e){(e||!this.paused&&this._visible)&&this.renderer.render(this.stage)},c.destroy=function(){this.stage.destroy(),a.destroy.call(this),this.renderer.destroy(),this.renderer=null},namespace("springroll").PixiDisplay=s,namespace("springroll.pixi").PixiDisplay=s}(),function(){function t(t){r+=t,e.update(r)}var e=include("PIXI.ticker.shared",!1),i=include("springroll.ApplicationPlugin");if(e){var n=new i,r=0;e.autoStart=!1,e.stop(),n.setup=function(){this.on("update",t,300)}}}(),function(t){var e=include("springroll.pixi.PixiDisplay"),i=include("springroll.Application");t.defineProperty(e.prototype,"animator",{get:function(){return i.instance.animator}})}(Object)}(),function(){"use strict";(new(include("springroll.ApplicationPlugin"))).setup=function(){this.assetManager.register("springroll.pixi.SpineAtlasTask",40),this.assetManager.register("springroll.pixi.SpineAnimTask",40),this.animator.register("springroll.pixi.SpineInstance",10)},namespace("springroll.pixi").ParallelSpineData=function(t,e,i){this.anim=t,this.loop=!!e,this.speed=i>0?i:1},function(t){var e=(include("springroll.Application"),include("springroll.AnimatorInstance")),i=include("PIXI.spine.Spine",!1),n=include("springroll.pixi.ParallelSpineData");if(i){var r=function(){e.call(this),this.prevPosition=0},o=e.extend(r);o.init=function(t){t.autoUpdate=!1,this.clip=t,this.isLooping=!1,this.currentName=null,this.position=this.duration=0},o.beginAnim=function(t,e){var i=this.clip.state;i.clearTracks();var r=this.clip.stateData.skeletonData;this.isLooping=!!t.loop;var o,s=this.currentName=t.anim;if("string"==typeof s)this.duration=r.findAnimation(s).duration,i.setAnimationByName(0,s,this.isLooping);else if(s[0]instanceof n){this.duration=0;var a,c=0,u=0;for(o=0;o<s.length;++o){var l=s[o].loop;i.setAnimationByName(o,s[o].anim,l),a=r.findAnimation(s[o].anim).duration,l?a>u&&(u=a):a>c&&(c=a)}this.duration=c||u}else if(this.duration=r.findAnimation(s[0]).duration,1==s.length)i.setAnimationByName(0,s[0],this.isLooping);else for(i.setAnimationByName(0,s[0],!1),o=1;o<s.length;++o)i.addAnimationByName(0,s[o],this.isLooping&&o==s.length-1),this.duration+=r.findAnimation(s[o]).duration;if(e)this.position=0;else{var h=t.start||0;this.position=h<0?Math.random()*this.duration:h}this.clip.update(this.position)},o.endAnim=function(){this.clip.update(this.duration-this.position)},o.setPosition=function(t){t<this.position?this.clip.update(this.duration-this.position+t):this.clip.update(t-this.position),this.position=t},r.test=function(t){return t instanceof i},r.hasAnimation=function(t,e){var i,r=t.stateData.skeletonData;if("string"==typeof e)return!!r.findAnimation(e);if(Array.isArray(e)){if(e[0]instanceof n){for(i=0;i<e.length;++i)if(!r.findAnimation(e[i].anim))return!1}else for(i=0;i<e.length;++i)if(!r.findAnimation(e[i]))return!1;return!0}return!1},r.getDuration=function(t,e){var i,r=this.clip.stateData.skeletonData;if("string"==typeof anim)return r.findAnimation(anim).duration;if(Array.isArray(anim)){var o=0;if(anim[0]instanceof n){var s,a=0,c=0;for(i=0;i<anim.length;++i){var u=anim[i].loop;s=r.findAnimation(anim[i].anim).duration,u?s>c&&(c=s):s>a&&(a=s)}o=a||c}else if(o=r.findAnimation(anim[0]).duration,anim.length>1)for(i=1;i<anim.length;++i)o+=r.findAnimation(anim[i]).duration;return o}return 0},o.destroy=function(){this.clip=null},namespace("springroll.pixi").SpineInstance=r}}(),function(t){var e=include("PIXI.spine.SpineRuntime.AtlasReader",!1),i=include("PIXI.spine.SpineRuntime.AtlasPage",!1),n=include("PIXI.spine.SpineRuntime.AtlasRegion",!1),r=include("PIXI.spine.SpineRuntime.Atlas",!1);if(e){var o=function(t,o){if(this.pages=[],this.regions=[],t){var s=new e(t),a=[];a.length=4;for(var c=null;;){var u=s.readLine();if(null===u)break;if((u=s.trim(u)).length)if(c){var l=new n;l.name=u,l.page=c,l.rotate="true"==s.readValue(),s.readTuple(a);var h=parseInt(a[0]),_=parseInt(a[1]);s.readTuple(a);var p=parseInt(a[0]),d=parseInt(a[1]);l.u=h/c.width,l.v=_/c.height,l.rotate?(l.u2=(h+d)/c.width,l.v2=(_+p)/c.height):(l.u2=(h+p)/c.width,l.v2=(_+d)/c.height),l.x=h,l.y=_,l.width=Math.abs(p),l.height=Math.abs(d),4==s.readTuple(a)&&(l.splits=[parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],4==s.readTuple(a)&&(l.pads=[parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],s.readTuple(a))),l.originalWidth=parseInt(a[0]),l.originalHeight=parseInt(a[1]),s.readTuple(a),l.offsetX=parseInt(a[0]),l.offsetY=parseInt(a[1]),l.index=parseInt(s.readValue()),this.regions.push(l)}else{(c=new i).name=u,2==s.readTuple(a)&&(c.width=parseInt(a[0]),c.height=parseInt(a[1]),s.readTuple(a)),c.format=r.Format[a[0]],s.readTuple(a),c.minFilter=r.TextureFilter[a[0]],c.magFilter=r.TextureFilter[a[1]];var f=s.readValue();c.uWrap=r.TextureWrap.clampToEdge,c.vWrap=r.TextureWrap.clampToEdge,"x"==f?c.uWrap=r.TextureWrap.repeat:"y"==f?c.vWrap=r.TextureWrap.repeat:"xy"==f&&(c.uWrap=c.vWrap=r.TextureWrap.repeat),c.rendererObject=o[u].baseTexture,this.pages.push(c)}else c=null}}},s=extend(o);s.findRegion=function(t){for(var e=this.regions,i=0,n=e.length;i<n;i++)if(e[i].name==t)return e[i];return null},s.dispose=function(){for(var t=this.pages,e=0,i=t.length;e<i;e++)t[e].rendererObject.destroy(!0)},s.updateUVs=function(t){for(var e=this.regions,i=0,n=e.length;i<n;i++){var r=e[i];r.page==t&&(r.u=r.x/t.width,r.v=r.y/t.height,r.rotate?(r.u2=(r.x+r.height)/t.width,r.v2=(r.y+r.width)/t.height):(r.u2=(r.x+r.width)/t.width,r.v2=(r.y+r.height)/t.height))}},s.addImage=function(t,e){var o=new i;o.name=t,o.width=e.width,o.height=e.height,o.format="RGBA8888",o.minFilter=o.magFilter="Nearest",o.uWrap=r.TextureWrap.clampToEdge,o.vWrap=r.TextureWrap.clampToEdge,o.rendererObject=e.baseTexture,this.pages.push(o);var s=new n;s.name=t,s.page=o,s.rotate=!1,s.u=s.v=0,s.u2=s.v2=1,s.x=s.y=0,s.originalWidth=s.width=o.width,s.originalHeight=s.height=o.height,s.offsetX=s.offsetY=0,s.index=-1,this.regions.push(s)},s.fromTextureAtlas=function(t,e){var o=new i;for(e in o.name=e,o.width=t.baseTexture.width,o.height=t.baseTexture.height,o.format="RGBA8888",o.minFilter=o.magFilter="Nearest",o.uWrap=r.TextureWrap.clampToEdge,o.vWrap=r.TextureWrap.clampToEdge,o.rendererObject=t.baseTexture,this.pages.push(o),t.frames){var s=t.frames[e],a=new n;a.name=e,a.page=o,a.rotate=s.rotate;var c=s.crop.x,u=s.crop.y,l=s.crop.width,h=s.crop.height;a.u=c/o.width,a.v=u/o.height,a.rotate?(a.u2=(c+h)/o.width,a.v2=(u+l)/o.height):(a.u2=(c+l)/o.width,a.v2=(u+h)/o.height),a.x=c,a.y=u,a.width=Math.abs(l),a.height=Math.abs(h),a.originalWidth=s.width,a.originalHeight=s.height,s.trim?(a.offsetX=s.trim.x,a.offsetY=s.trim.y):a.offsetX=a.offsetY=0,a.index=-1,this.regions.push(a)}},s.destroy=function(){this.dispose(),this.pages=this.regions=null},namespace("springroll.pixi").SpineAtlas=o}}(),function(){var t=include("springroll.pixi.TextureTask"),e=include("springroll.pixi.SpineAtlas",!1);if(include("PIXI.utils"),e){var i=function(e,i){t.call(this,e,i||e.spineAtlas),this.spineAtlas=this.filter(e.spineAtlas),this.images=e.images},n=t.extend(i);i.test=function(e){return!!e.spineAtlas&&Array.isArray(e.images)&&t.test(e.images[0])},n.start=function(t){this.load({_atlas:this.spineAtlas,_images:this.images},function(i){t(new e(i._atlas,i._images),i)})},namespace("springroll.pixi").SpineAtlasTask=i}}(),function(){var t=include("springroll.Task"),e=include("springroll.pixi.TextureAtlasTask"),i=include("PIXI.spine.loaders.atlasParser",!1),n=include("PIXI.spine.SpineRuntime.SkeletonJsonParser",!1),r=include("PIXI.spine.SpineRuntime.AtlasAttachmentParser",!1),o=include("springroll.pixi.SpineAtlasTask",!1),s=include("springroll.pixi.SpineAtlas",!1);if(i){var a=function(e){t.call(this,e,e.spineAnim),this.spineAnim=this.filter(e.spineAnim),this.atlas=e.atlas,this.extraImages=e.extraImages},c=t.extend(a);a.test=function(t){return!(!t.spineAnim||t.atlas&&!e.test(t.atlas)&&!o.test(t.atlas)||!t.atlas&&!t.extraImages)},c.start=function(t){var e={_anim:this.spineAnim};this.atlas&&(e._atlas=this.atlas),this.extraImages&&(e._images={assets:this.extraImages}),this.load(e,function(e){var o=e._atlas;if(o||(o=new s),!(o instanceof s)){var a=o;(o=new s).fromTextureAtlas(a)}if(e._images)for(var c in e._images)o.addImage(c,e._images[c]);var u=new n(new r(o)).readSkeletonData(e._anim),l={id:this.id,spineData:u,spineAtlas:o};i.enableCaching&&this.cache&&(i.AnimCache[this.id]=u),l.destroy=function(){delete i.AnimCache[this.id],this.spineAtlas.destroy(),this.spineData=this.spineAtlas=null},t(l,e)}.bind(this))},c.destroy=function(){t.prototype.destroy.call(this)},namespace("springroll.pixi").SpineAnimTask=a}}()}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=t()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var o=0;o<n;o++)t[r+o]=e[i+o]},flattenChunks:function(t){var e,i,n,r,o,s;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(s=new Uint8Array(n),r=0,e=0,i=t.length;e<i;e++)o=t[e],s.set(o,r),r+=o.length;return s}},o={arraySet:function(t,e,i,n,r){for(var o=0;o<n;o++)t[r+o]=e[i+o]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],2:[function(t,e,i){"use strict";function n(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var i="",n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i}var r=t("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new r.Buf8(256),c=0;c<256;c++)a[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;a[254]=a[254]=1,i.string2buf=function(t){var e,i,n,o,s,a=t.length,c=0;for(o=0;o<a;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),c+=i<128?1:i<2048?2:i<65536?3:4;for(e=new r.Buf8(c),s=0,o=0;s<c;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e},i.buf2binstring=function(t){return n(t,t.length)},i.binstring2buf=function(t){for(var e=new r.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,r,o,s,c=e||t.length,u=new Array(2*c);for(r=0,i=0;i<c;)if((o=t[i++])<128)u[r++]=o;else if((s=a[o])>4)u[r++]=65533,i+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&i<c;)o=o<<6|63&t[i++],s--;s>1?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return n(u,r)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+a[t[i]]>e?i:e}},{"./common":1}],3:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{o=o+(r=r+e[n++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},{}],4:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(t,e,i){"use strict";var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,r){var o=n,s=r+i;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},{}],6:[function(t,e,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],7:[function(t,e,i){"use strict";e.exports=function(t,e){var i,n,r,o,s,a,c,u,l,h,_,p,d,f,b,m,g,y,v,w,x,T,S,A,C;i=t.state,n=t.next_in,A=t.input,r=n+(t.avail_in-5),o=t.next_out,C=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=i.dmax,u=i.wsize,l=i.whave,h=i.wnext,_=i.window,p=i.hold,d=i.bits,f=i.lencode,b=i.distcode,m=(1<<i.lenbits)-1,g=(1<<i.distbits)-1;t:do{d<15&&(p+=A[n++]<<d,d+=8,p+=A[n++]<<d,d+=8),y=f[p&m];e:for(;;){if(p>>>=v=y>>>24,d-=v,0==(v=y>>>16&255))C[o++]=65535&y;else{if(!(16&v)){if(0==(64&v)){y=f[(65535&y)+(p&(1<<v)-1)];continue e}if(32&v){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}w=65535&y,(v&=15)&&(d<v&&(p+=A[n++]<<d,d+=8),w+=p&(1<<v)-1,p>>>=v,d-=v),d<15&&(p+=A[n++]<<d,d+=8,p+=A[n++]<<d,d+=8),y=b[p&g];i:for(;;){if(p>>>=v=y>>>24,d-=v,!(16&(v=y>>>16&255))){if(0==(64&v)){y=b[(65535&y)+(p&(1<<v)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(x=65535&y,d<(v&=15)&&(p+=A[n++]<<d,(d+=8)<v&&(p+=A[n++]<<d,d+=8)),(x+=p&(1<<v)-1)>c){t.msg="invalid distance too far back",i.mode=30;break t}if(p>>>=v,d-=v,x>(v=o-s)){if((v=x-v)>l&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(T=0,S=_,0===h){if(T+=u-v,v<w){w-=v;do{C[o++]=_[T++]}while(--v);T=o-x,S=C}}else if(h<v){if(T+=u+h-v,(v-=h)<w){w-=v;do{C[o++]=_[T++]}while(--v);if(T=0,h<w){w-=v=h;do{C[o++]=_[T++]}while(--v);T=o-x,S=C}}}else if(T+=h-v,v<w){w-=v;do{C[o++]=_[T++]}while(--v);T=o-x,S=C}for(;w>2;)C[o++]=S[T++],C[o++]=S[T++],C[o++]=S[T++],w-=3;w&&(C[o++]=S[T++],w>1&&(C[o++]=S[T++]))}else{T=o-x;do{C[o++]=C[T++],C[o++]=C[T++],C[o++]=C[T++],w-=3}while(w>2);w&&(C[o++]=C[T++],w>1&&(C[o++]=C[T++]))}break}}break}}while(n<r&&o<a);n-=w=d>>3,p&=(1<<(d-=w<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=o<a?a-o+257:257-(o-a),i.hold=p,i.bits=d}},{}],8:[function(t,e,i){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=R,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new _.Buf32(ut),e.distcode=e.distdyn=new _.Buf32(lt),e.sane=1,e.back=-1,T):C}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,r(t)):C}function s(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?C:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,o(t))):C}function a(t,e){var i,n;return t?(n=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=n,n.window=null,(i=s(t,e))!==T&&(t.state=null),i):C}function c(t){if(_t){var e;for(l=new _.Buf32(512),h=new _.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(b(g,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;b(y,t.lens,0,32,h,0,t.work,{bits:5}),_t=!1}t.lencode=l,t.lenbits=9,t.distcode=h,t.distbits=5}function u(t,e,i,n){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new _.Buf8(o.wsize)),n>=o.wsize?(_.arraySet(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>n&&(r=n),_.arraySet(o.window,e,i-n,r,o.wnext),(n-=r)?(_.arraySet(o.window,e,i-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var l,h,_=t("../utils/common"),p=t("./adler32"),d=t("./crc32"),f=t("./inffast"),b=t("./inftrees"),m=0,g=1,y=2,v=4,w=5,x=6,T=0,S=1,A=2,C=-2,E=-3,P=-4,D=-5,M=8,R=1,I=2,O=3,k=4,L=5,j=6,B=7,F=8,J=9,G=10,N=11,U=12,W=13,V=14,X=15,z=16,q=17,H=18,Y=19,Z=20,Q=21,K=22,$=23,tt=24,et=25,it=26,nt=27,rt=28,ot=29,st=30,at=31,ct=32,ut=852,lt=592,ht=15,_t=!0;i.inflateReset=o,i.inflateReset2=s,i.inflateResetKeep=r,i.inflateInit=function(t){return a(t,ht)},i.inflateInit2=a,i.inflate=function(t,e){var i,r,o,s,a,l,h,ut,lt,ht,_t,pt,dt,ft,bt,mt,gt,yt,vt,wt,xt,Tt,St,At,Ct=0,Et=new _.Buf8(4),Pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return C;(i=t.state).mode===U&&(i.mode=W),a=t.next_out,o=t.output,h=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,ut=i.hold,lt=i.bits,ht=l,_t=h,Tt=T;t:for(;;)switch(i.mode){case R:if(0===i.wrap){i.mode=W;break}for(;lt<16;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(2&i.wrap&&35615===ut){i.check=0,Et[0]=255&ut,Et[1]=ut>>>8&255,i.check=d(i.check,Et,2,0),ut=0,lt=0,i.mode=I;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&ut)<<8)+(ut>>8))%31){t.msg="incorrect header check",i.mode=st;break}if((15&ut)!==M){t.msg="unknown compression method",i.mode=st;break}if(lt-=4,xt=8+(15&(ut>>>=4)),0===i.wbits)i.wbits=xt;else if(xt>i.wbits){t.msg="invalid window size",i.mode=st;break}i.dmax=1<<xt,t.adler=i.check=1,i.mode=512&ut?G:U,ut=0,lt=0;break;case I:for(;lt<16;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(i.flags=ut,(255&i.flags)!==M){t.msg="unknown compression method",i.mode=st;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=st;break}i.head&&(i.head.text=ut>>8&1),512&i.flags&&(Et[0]=255&ut,Et[1]=ut>>>8&255,i.check=d(i.check,Et,2,0)),ut=0,lt=0,i.mode=O;case O:for(;lt<32;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}i.head&&(i.head.time=ut),512&i.flags&&(Et[0]=255&ut,Et[1]=ut>>>8&255,Et[2]=ut>>>16&255,Et[3]=ut>>>24&255,i.check=d(i.check,Et,4,0)),ut=0,lt=0,i.mode=k;case k:for(;lt<16;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}i.head&&(i.head.xflags=255&ut,i.head.os=ut>>8),512&i.flags&&(Et[0]=255&ut,Et[1]=ut>>>8&255,i.check=d(i.check,Et,2,0)),ut=0,lt=0,i.mode=L;case L:if(1024&i.flags){for(;lt<16;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}i.length=ut,i.head&&(i.head.extra_len=ut),512&i.flags&&(Et[0]=255&ut,Et[1]=ut>>>8&255,i.check=d(i.check,Et,2,0)),ut=0,lt=0}else i.head&&(i.head.extra=null);i.mode=j;case j:if(1024&i.flags&&((pt=i.length)>l&&(pt=l),pt&&(i.head&&(xt=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),_.arraySet(i.head.extra,r,s,pt,xt)),512&i.flags&&(i.check=d(i.check,r,pt,s)),l-=pt,s+=pt,i.length-=pt),i.length))break t;i.length=0,i.mode=B;case B:if(2048&i.flags){if(0===l)break t;pt=0;do{xt=r[s+pt++],i.head&&xt&&i.length<65536&&(i.head.name+=String.fromCharCode(xt))}while(xt&&pt<l);if(512&i.flags&&(i.check=d(i.check,r,pt,s)),l-=pt,s+=pt,xt)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=F;case F:if(4096&i.flags){if(0===l)break t;pt=0;do{xt=r[s+pt++],i.head&&xt&&i.length<65536&&(i.head.comment+=String.fromCharCode(xt))}while(xt&&pt<l);if(512&i.flags&&(i.check=d(i.check,r,pt,s)),l-=pt,s+=pt,xt)break t}else i.head&&(i.head.comment=null);i.mode=J;case J:if(512&i.flags){for(;lt<16;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(ut!==(65535&i.check)){t.msg="header crc mismatch",i.mode=st;break}ut=0,lt=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=U;break;case G:for(;lt<32;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}t.adler=i.check=n(ut),ut=0,lt=0,i.mode=N;case N:if(0===i.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=l,i.hold=ut,i.bits=lt,A;t.adler=i.check=1,i.mode=U;case U:if(e===w||e===x)break t;case W:if(i.last){ut>>>=7&lt,lt-=7&lt,i.mode=nt;break}for(;lt<3;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}switch(i.last=1&ut,lt-=1,3&(ut>>>=1)){case 0:i.mode=V;break;case 1:if(c(i),i.mode=Z,e===x){ut>>>=2,lt-=2;break t}break;case 2:i.mode=q;break;case 3:t.msg="invalid block type",i.mode=st}ut>>>=2,lt-=2;break;case V:for(ut>>>=7&lt,lt-=7&lt;lt<32;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if((65535&ut)!=(ut>>>16^65535)){t.msg="invalid stored block lengths",i.mode=st;break}if(i.length=65535&ut,ut=0,lt=0,i.mode=X,e===x)break t;case X:i.mode=z;case z:if(pt=i.length){if(pt>l&&(pt=l),pt>h&&(pt=h),0===pt)break t;_.arraySet(o,r,s,pt,a),l-=pt,s+=pt,h-=pt,a+=pt,i.length-=pt;break}i.mode=U;break;case q:for(;lt<14;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(i.nlen=257+(31&ut),ut>>>=5,lt-=5,i.ndist=1+(31&ut),ut>>>=5,lt-=5,i.ncode=4+(15&ut),ut>>>=4,lt-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=st;break}i.have=0,i.mode=H;case H:for(;i.have<i.ncode;){for(;lt<3;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}i.lens[Pt[i.have++]]=7&ut,ut>>>=3,lt-=3}for(;i.have<19;)i.lens[Pt[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,St={bits:i.lenbits},Tt=b(m,i.lens,0,19,i.lencode,0,i.work,St),i.lenbits=St.bits,Tt){t.msg="invalid code lengths set",i.mode=st;break}i.have=0,i.mode=Y;case Y:for(;i.have<i.nlen+i.ndist;){for(;mt=(Ct=i.lencode[ut&(1<<i.lenbits)-1])>>>16&255,gt=65535&Ct,!((bt=Ct>>>24)<=lt);){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(gt<16)ut>>>=bt,lt-=bt,i.lens[i.have++]=gt;else{if(16===gt){for(At=bt+2;lt<At;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(ut>>>=bt,lt-=bt,0===i.have){t.msg="invalid bit length repeat",i.mode=st;break}xt=i.lens[i.have-1],pt=3+(3&ut),ut>>>=2,lt-=2}else if(17===gt){for(At=bt+3;lt<At;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}lt-=bt,xt=0,pt=3+(7&(ut>>>=bt)),ut>>>=3,lt-=3}else{for(At=bt+7;lt<At;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}lt-=bt,xt=0,pt=11+(127&(ut>>>=bt)),ut>>>=7,lt-=7}if(i.have+pt>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=st;break}for(;pt--;)i.lens[i.have++]=xt}}if(i.mode===st)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=st;break}if(i.lenbits=9,St={bits:i.lenbits},Tt=b(g,i.lens,0,i.nlen,i.lencode,0,i.work,St),i.lenbits=St.bits,Tt){t.msg="invalid literal/lengths set",i.mode=st;break}if(i.distbits=6,i.distcode=i.distdyn,St={bits:i.distbits},Tt=b(y,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,St),i.distbits=St.bits,Tt){t.msg="invalid distances set",i.mode=st;break}if(i.mode=Z,e===x)break t;case Z:i.mode=Q;case Q:if(l>=6&&h>=258){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=l,i.hold=ut,i.bits=lt,f(t,_t),a=t.next_out,o=t.output,h=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,ut=i.hold,lt=i.bits,i.mode===U&&(i.back=-1);break}for(i.back=0;mt=(Ct=i.lencode[ut&(1<<i.lenbits)-1])>>>16&255,gt=65535&Ct,!((bt=Ct>>>24)<=lt);){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(mt&&0==(240&mt)){for(yt=bt,vt=mt,wt=gt;mt=(Ct=i.lencode[wt+((ut&(1<<yt+vt)-1)>>yt)])>>>16&255,gt=65535&Ct,!(yt+(bt=Ct>>>24)<=lt);){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}ut>>>=yt,lt-=yt,i.back+=yt}if(ut>>>=bt,lt-=bt,i.back+=bt,i.length=gt,0===mt){i.mode=it;break}if(32&mt){i.back=-1,i.mode=U;break}if(64&mt){t.msg="invalid literal/length code",i.mode=st;break}i.extra=15&mt,i.mode=K;case K:if(i.extra){for(At=i.extra;lt<At;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}i.length+=ut&(1<<i.extra)-1,ut>>>=i.extra,lt-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=$;case $:for(;mt=(Ct=i.distcode[ut&(1<<i.distbits)-1])>>>16&255,gt=65535&Ct,!((bt=Ct>>>24)<=lt);){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(0==(240&mt)){for(yt=bt,vt=mt,wt=gt;mt=(Ct=i.distcode[wt+((ut&(1<<yt+vt)-1)>>yt)])>>>16&255,gt=65535&Ct,!(yt+(bt=Ct>>>24)<=lt);){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}ut>>>=yt,lt-=yt,i.back+=yt}if(ut>>>=bt,lt-=bt,i.back+=bt,64&mt){t.msg="invalid distance code",i.mode=st;break}i.offset=gt,i.extra=15&mt,i.mode=tt;case tt:if(i.extra){for(At=i.extra;lt<At;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}i.offset+=ut&(1<<i.extra)-1,ut>>>=i.extra,lt-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=st;break}i.mode=et;case et:if(0===h)break t;if(pt=_t-h,i.offset>pt){if((pt=i.offset-pt)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=st;break}pt>i.wnext?(pt-=i.wnext,dt=i.wsize-pt):dt=i.wnext-pt,pt>i.length&&(pt=i.length),ft=i.window}else ft=o,dt=a-i.offset,pt=i.length;pt>h&&(pt=h),h-=pt,i.length-=pt;do{o[a++]=ft[dt++]}while(--pt);0===i.length&&(i.mode=Q);break;case it:if(0===h)break t;o[a++]=i.length,h--,i.mode=Q;break;case nt:if(i.wrap){for(;lt<32;){if(0===l)break t;l--,ut|=r[s++]<<lt,lt+=8}if(_t-=h,t.total_out+=_t,i.total+=_t,_t&&(t.adler=i.check=i.flags?d(i.check,o,_t,a-_t):p(i.check,o,_t,a-_t)),_t=h,(i.flags?ut:n(ut))!==i.check){t.msg="incorrect data check",i.mode=st;break}ut=0,lt=0}i.mode=rt;case rt:if(i.wrap&&i.flags){for(;lt<32;){if(0===l)break t;l--,ut+=r[s++]<<lt,lt+=8}if(ut!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=st;break}ut=0,lt=0}i.mode=ot;case ot:Tt=S;break t;case st:Tt=E;break t;case at:return P;case ct:default:return C}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=l,i.hold=ut,i.bits=lt,(i.wsize||_t!==t.avail_out&&i.mode<st&&(i.mode<nt||e!==v))&&u(t,t.output,t.next_out,_t-t.avail_out)?(i.mode=at,P):(ht-=t.avail_in,_t-=t.avail_out,t.total_in+=ht,t.total_out+=_t,i.total+=_t,i.wrap&&_t&&(t.adler=i.check=i.flags?d(i.check,o,_t,t.next_out-_t):p(i.check,o,_t,t.next_out-_t)),t.data_type=i.bits+(i.last?64:0)+(i.mode===U?128:0)+(i.mode===Z||i.mode===X?256:0),(0===ht&&0===_t||e===v)&&Tt===T&&(Tt=D),Tt)},i.inflateEnd=function(t){if(!t||!t.state)return C;var e=t.state;return e.window&&(e.window=null),t.state=null,T},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?C:(i.head=e,e.done=!1,T):C},i.inflateSetDictionary=function(t,e){var i,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&i.mode!==N?C:i.mode===N&&p(1,e,n,0)!==i.check?E:u(t,e,n,n)?(i.mode=at,P):(i.havedict=1,T):C},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(t,e,i){"use strict";var n=t("../utils/common"),r=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,u,l,h,_,p){var d,f,b,m,g,y,v,w,x,T=p.bits,S=0,A=0,C=0,E=0,P=0,D=0,M=0,R=0,I=0,O=0,k=null,L=0,j=new n.Buf16(16),B=new n.Buf16(16),F=null,J=0;for(S=0;S<=r;S++)j[S]=0;for(A=0;A<u;A++)j[e[i+A]]++;for(P=T,E=r;E>=1&&0===j[E];E--);if(P>E&&(P=E),0===E)return l[h++]=20971520,l[h++]=20971520,p.bits=1,0;for(C=1;C<E&&0===j[C];C++);for(P<C&&(P=C),R=1,S=1;S<=r;S++)if(R<<=1,(R-=j[S])<0)return-1;if(R>0&&(0===t||1!==E))return-1;for(B[1]=0,S=1;S<r;S++)B[S+1]=B[S]+j[S];for(A=0;A<u;A++)0!==e[i+A]&&(_[B[e[i+A]]++]=A);if(0===t?(k=F=_,y=19):1===t?(k=o,L-=257,F=s,J-=257,y=256):(k=a,F=c,y=-1),O=0,A=0,S=C,g=h,D=P,M=0,b=-1,m=(I=1<<P)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){0,v=S-M,_[A]<y?(w=0,x=_[A]):_[A]>y?(w=F[J+_[A]],x=k[L+_[A]]):(w=96,x=0),d=1<<S-M,C=f=1<<D;do{l[g+(O>>M)+(f-=d)]=v<<24|w<<16|x|0}while(0!==f);for(d=1<<S-1;O&d;)d>>=1;if(0!==d?(O&=d-1,O+=d):O=0,A++,0==--j[S]){if(S===E)break;S=e[i+_[A]]}if(S>P&&(O&m)!==b){for(0===M&&(M=P),g+=C,R=1<<(D=S-M);D+M<E&&!((R-=j[D+M])<=0);)D++,R<<=1;if(I+=1<<D,1===t&&I>852||2===t&&I>592)return 1;l[b=O&m]=P<<24|D<<16|g-h|0}}return 0!==O&&(l[g+O]=S-M<<24|64<<16|0),p.bits=P,0}},{"../utils/common":1}],10:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=o.inflateInit2(this.strm,e.windowBits);if(i!==c.Z_OK)throw new Error(u[i]);this.header=new h,o.inflateGetHeader(this.strm,this.header)}function r(t,e){var i=new n(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var o=t("./zlib/inflate"),s=t("./utils/common"),a=t("./utils/strings"),c=t("./zlib/constants"),u=t("./zlib/messages"),l=t("./zlib/zstream"),h=t("./zlib/gzheader"),_=Object.prototype.toString;n.prototype.push=function(t,e){var i,n,r,u,l,h,p=this.strm,d=this.options.chunkSize,f=this.options.dictionary,b=!1;if(this.ended)return!1;n=e===~~e?e:!0===e?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof t?p.input=a.binstring2buf(t):"[object ArrayBuffer]"===_.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(d),p.next_out=0,p.avail_out=d),(i=o.inflate(p,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&f&&(h="string"==typeof f?a.string2buf(f):"[object ArrayBuffer]"===_.call(f)?new Uint8Array(f):f,i=o.inflateSetDictionary(this.strm,h)),i===c.Z_BUF_ERROR&&!0===b&&(i=c.Z_OK,b=!1),i!==c.Z_STREAM_END&&i!==c.Z_OK)return this.onEnd(i),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&i!==c.Z_STREAM_END&&(0!==p.avail_in||n!==c.Z_FINISH&&n!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(r=a.utf8border(p.output,p.next_out),u=p.next_out-r,l=a.buf2string(p.output,r),p.next_out=u,p.avail_out=d-u,u&&s.arraySet(p.output,p.output,r,u,0),this.onData(l)):this.onData(s.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(b=!0)}while((p.avail_in>0||0===p.avail_out)&&i!==c.Z_STREAM_END);return i===c.Z_STREAM_END&&(n=c.Z_FINISH),n===c.Z_FINISH?(i=o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c.Z_OK):n!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),p.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=n,i.inflate=r,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},i.ungzip=r},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}),function(t,e,i){"use strict";var n={value:!1,writable:!0},r={},o=0;t.recycle={add:function(t,s,a,c){var u=t===i,l=[];return a&&r[a]&&console.warn('Recycle cache for "'+a+'" already exists.'),r[a||"cache-"+o++]=l,e.defineProperties(t,{setUp:{value:u?s?function(){var t=0,i=null;for(l.length?(i=l.pop()).recycled=!1:(i=[],e.defineProperty(i,"recycled",n)),t=0;t<arguments.length;t++)i.push(arguments[t]);return i}:function(){var t=0,e=null;for(e=l.length?l.pop():[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e}:s?function(){var t=null;return l.length?(t=l.pop()).recycled=!1:(t=e.create(this.prototype),e.defineProperty(t,"recycled",n)),this.apply(t,arguments),t}:function(){var t;return t=l.length?l.pop():e.create(this.prototype),this.apply(t,arguments),t}},recycle:{value:s?function(t){t.recycled?console.warn("WHOA! I have already been recycled!",t):(t.recycled=!0,l.push(t))}:function(t){l.push(t)}}}),e.defineProperty(t.prototype,"recycle",{value:c||(u?function(e){var i=0;if(e>1)for(i=this.length,e-=1;i--;)this[i].recycle(e);this.length=0,t.recycle(this)}:function(){t.recycle(this)})}),l},cache:r}}(window,Object,Array),this.platypus=this.platypus||{},function(t){"use strict";var e=function(){},i=navigator.userAgent.toLowerCase(),n=i.search("edge")>-1,r=i.search("ipod")>-1,o=i.search("iphone")>-1,s=i.search("ipad")>-1,a=i.search("android")>-1,c=i.search("silk")>-1,u=r||o||s,l=u||a||c;t.supports={touch:"undefined"!==window.ontouchstart,edge:n,iPod:r,iPhone:o,iPad:s,safari:i.search("safari")>-1&&!n,ie:i.search("msie")>-1||i.search("trident")>-1,firefox:i.search("firefox")>-1,android:a,chrome:i.search("chrome")>-1&&!n,silk:c,iOS:u,mobile:l,desktop:!l},t.debug=springroll.Debug||{error:e,log:e,olive:e,warn:e},t.version="1.0.1",t.buildDate="Tue, 16 Jun 2020 16:53:04 GMT"}(this.platypus),function(t,e){"use strict";var i=t.prototype;i.union||e.defineProperty(i,"union",{value:function(t){var e=0,i=t.length;for(e=0;e<i;e++)-1===this.indexOf(t[e])&&this.push(t[e]);return this}}),i.greenSlice||e.defineProperty(i,"greenSlice",{value:function(){var e=t.setUp(),i=0,n=this.length;for(i=0;i<n;i++)e[i]=this[i];return e}}),i.greenSplice||e.defineProperty(i,"greenSplice",{value:function(t){var e=0,i=this[t],n=this.length;if(t<0||t>=n)return null;for(e=t+1;e<n;e++)this[e-1]=this[e];return n&&(this.length-=1),i}}),recycle.add(t,!!springroll.Debug,"Array")}(Array,Object),function(){"use strict";var t=include("PIXI.Graphics").prototype;t.a=t.a||t.arc,t.at=t.at||t.arcTo,t.bt=t.bt||t.bezierCurveTo,t.c=t.c||t.clear,t.dc=t.dc||t.drawCircle,t.de=t.de||t.drawEllipse,t.dr=t.dr||t.drawRect,t.ef=t.ef||t.endFill,t.f=t.f||t.beginFill,t.lt=t.lt||t.lineTo,t.mt=t.mt||t.moveTo,t.qt=t.qt||t.quadraticCurveTo,t.r=t.r||t.drawRect,t.rr=t.rr||t.drawRoundedRect}(),function(t,e){"use strict";var i=t.prototype;i.greenSplit||e.defineProperty(i,"greenSplit",{value:function(t){var e=this.toString(),i=0,n=0,r=Array.setUp();if(t){for(n=e.indexOf(t),i=t.length;n>=0;)r.push(e.substr(0,n)),n=(e=e.substr(n+i)).indexOf(t);r.push(e)}else for(i=(n=this.length)-1;n--;)r.push(this[i-n]);return r}})}(String,Object),function(t){"use strict";var e=null,i=null,n=null;window.Map||(e={value:null},n=(i=function(){e.value={},t.defineProperty(this,"map",e)}).prototype,t.defineProperties(n,{get:{value:function(t){return this.map[t]}},has:{value:function(t){return this.map.hasOwnProperty(t)}},set:{value:function(t,e){return this.map[t]=e,this}},delete:{value:function(t){var e=this.map[t];return delete this.map[t],e}}}),window.Map=i)}(Object),platypus.Async=function(){"use strict";var t=function(t,e){var i=function(t){this.resolve=null,t(),this.recycle()}.bind(this,e),n=function(t){this.increment-=1,this.increment||(this.resolve=t,this.timeout=setTimeout(t,0))}.bind(this,i),r=t.length;if(r)for(this.increment=r,this.resolve=null;r--;)t[r](n);else i(),this.recycle()};return t.prototype.attemptResolution=function(){return!!this.resolve&&(clearTimeout(this.timeout),this.resolve(),!0)},recycle.add(t,!!springroll.Debug,"Async",function(){this.increment=0,this.resolve=null,this.timeout=0}),t}(),platypus.Data=function(){"use strict";var t=function(t){var e=arguments.length,i="";if(t)if("string"==typeof t)for(e%2&&(this[e]=null,e-=1);e;)this[arguments[e-2]]=arguments[e-1],e-=2;else for(i in t)t.hasOwnProperty(i)&&(this[i]=t[i])};return recycle.add(t,!!springroll.Debug,"Data",function(){var e="";for(e in this)this.hasOwnProperty(e)&&delete this[e];t.recycle(this)}),t}(),platypus.DataMap=function(){"use strict";var t=include("window.Map"),e={get:{value:null},has:{value:null},keys:{value:null},set:{value:null},delete:{value:null},clear:{value:null},toJSON:{value:null}},i=function(i){var n=arguments.length,r="",o=null,s=null,a=null;if(this.map||(a=e,s=this.map=new t,o=a.keys.value=Array.setUp(),a.get.value=s.get.bind(s),a.has.value=s.has.bind(s),a.set.value=function(t,e,i){return this.get(e)!==i&&(this.has(e)||t.push(e),this.set(e,i)),i}.bind(s,o),a.delete.value=function(t,e){var i=t.indexOf(e),n=this.get(e);return i>=0&&(t.greenSplice(i),this.delete(e)),n}.bind(s,o),a.clear.value=function(t){for(var e=t.length;e--;)this.delete(t[e]);t.length=0}.bind(s,o),a.toJSON.value=function(t){for(var e=t.length,i={};e--;)i[t[e]]=this.get(t[e]);return i}.bind(s,o),Object.defineProperties(this,a)),i)if(o=i.keys,"string"==typeof i)for(n%2&&(n-=1,this.set(arguments[n],null));n;)n-=2,this.set(arguments[n],arguments[n+1]);else if(o)for(n=o.length;n--;)this.set(o[n],i.get(o[n]));else for(r in i)i.hasOwnProperty(r)&&this.set(r,i[r])};return recycle.add(i,!!springroll.Debug,"DataMap",function(){this.clear(),i.recycle(this)}),i}(),function(){"use strict";var t=include("PIXI.BaseTexture"),e=include("PIXI.CanvasTinter"),i=include("platypus.Data"),n=include("PIXI.Point"),r=include("PIXI.Rectangle"),o=include("PIXI.Sprite"),s=include("PIXI.Texture"),a={},c={},u=function(){},l={texture:s.EMPTY,anchor:new n(0,0)},h=/[\[\]{},-]/g,_=function(e){var i=0,n=Array.setUp(),r=null,o=platypus.game.app.assetManager.cache,s=c,a=null;for(i=0;i<e.length;i++)if("string"==typeof(a=e[i])){if(!s[a]){if(!(r=o.read(a))){platypus.debug.warn('"'+a+'" is not a loaded asset.');break}s[a]=new t(r)}n.push(s[a])}else n.push(new t(a));return n},p=function(t,e){var n=Array.setUp(),r=0;for(r=0;r<t;r++)n.push(e[r]||l);return i.setUp("id","default","frames",n,"next","default","speed",1)},d=function(t,e){var n="",r=i.setUp(),o=0,s=null,a="";for(a in t)if(t.hasOwnProperty(a)){for(o=(s=(n=t[a]).frames.greenSlice()).length;o--;)s[o]=e[s[o]]||l;r[a]=i.setUp("id",a,"frames",s,"next",n.next,"speed",n.speed)}return r.default||(r.default=p(e.length,e)),r},f=function(t){var e=0,o=null,a=null,c=t.frames,u=t.images,l=null,h=Array.setUp(),f=_(u);for(e=0;e<c.length;e++)a=c[e],l=new s(f[a[4]],new r(a[0],a[1],a[2],a[3])),h.push({texture:l,anchor:new n((a[5]||0)/l.width,(a[6]||0)/l.height)});return(o=d(t.animations,h)).default||(o.default=p(h.length,h)),f.recycle(),i.setUp("textures",h,"animations",o)},b=function(t,e){var o,a=0,c=null,u=t.frames,l=t.images,h=null,p=Array.setUp(),f=_(l);for(a=0;a<u.length;a++)c=u[a],h=new s(f[c[4]],new r(c[0],c[1],c[2],c[3])),p.push({texture:h,anchor:new n((c[5]||0)/h.width,(c[6]||0)/h.height)});return o=d(t.animations,p),f.recycle(),i.setUp("textures",p,"animations",o,"viable",1,"cacheId",e)},m=function(t,e){var i=function(t){var e=0;if(t.id)return t.id;for(e=0;e<t.images.length;e++)if("string"!=typeof t.images[e])return"";return t.id=JSON.stringify(t).replace(h,""),t.id}(t),n=i?a[i]:null,r=(t.framerate||60)/60;i?n?(n.viable+=1,this.cacheId=i):(n=a[i]=b(t,i),this.cacheId=i):n=f(t),o.call(this,n.textures[0].texture),this._animations=n.animations,this._animation=null,this.animationSpeed=r,this.currentAnimation=null,this._currentTime=0,this.playing=!1,this._visible=!0,this._updating=!1,this.update=u,n.textures.length<2?this.gotoAndStop(e):this.gotoAndPlay(e)},g=m.prototype=Object.create(o.prototype);m.prototype.constructor=m,platypus.PIXIAnimation=m,Object.defineProperties(g,{visible:{get:function(){return this._visible},set:function(t){this._visible=t,this._syncUpdate()}},currentFrame:{get:function(){var t=this._animation.frames;return t[Math.floor(this._currentTime)%t.length]}},paused:{get:function(){return!this.playing},set:function(t){(t&&this.playing||!t&&!this.playing)&&(this.playing=!t,this._syncUpdate())}}}),g.stop=function(){this.paused=!0},g.play=function(){this.paused=!1},g._syncUpdate=function(){var t=function(t){var e="",i=0;this._currentTime+=this.animationSpeed*this._animation.speed*t*.06,(i=Math.floor(this._currentTime))<0&&(i=0),i<this._animation.frames.length?this.setFrame(i%this._animation.frames.length):i>=this._animation.frames.length&&(e=this._animation.id,this.gotoAndPlay(this._animation.next),this.emit("complete",e))};return function(){var e=this.playing&&this._visible;e!==this._updating&&(this._updating=e,this.update=e?t:u)}}(),g.gotoAndStop=function(t){this.stop(),this._currentTime=0,this._animation=this._animations[t],this._animation||(this._animation=this._animations.default),this.setFrame(0)},g.gotoAndPlay=function(t,e){this.currentAnimation===t&&!1===e||(this._currentTime=0,this._animation=this._animations[t],this.currentAnimation=t,this._animation||(this._animation=this._animations.default,this.currentAnimation="default"),this.setFrame(0)),this.play()},g.setFrame=function(t){var i=this._animation.frames[t];this._texture=i.texture,this.anchor=i.anchor,this.tintedTexture&&(this.tintedTexture=e.getTintedTexture(this,this.tint))},g.has=function(t){return!!this._animations[t]},g.destroy=function(){var t="";if(this.stop(),o.prototype.destroy.call(this),this.cacheId&&(a[this.cacheId].viable-=1,a[this.cacheId].viable<=0)){for(t in a[this.cacheId].textures.recycle(),a[this.cacheId].animations)a[this.cacheId].animations.hasOwnProperty(t)&&a[this.cacheId].animations[t].frames.recycle();delete a[this.cacheId]}},m.preloadBaseTextures=function(t){var e=c,i="";if(t.updateTexture)for(i in e)e.hasOwnProperty(i)&&t.updateTexture(e[i])},m.unloadBaseTextures=function(t){var e=c,i="";for(i in e)e.hasOwnProperty(i)&&e[i]&&(e[i].destroy(),e[i]=null)},m.EmptySpriteSheet={framerate:60,frames:[],images:[],animations:{},recycleSpriteSheet:function(){}},m.formatSpriteSheet=function(){var t=/([\w-]+)\.(\w+)$/,e=function(t,e,i,n,r){var s="";for(s in t)t.hasOwnProperty(s)&&(e[s]&&(e[s].frames.recycle(),e[s].recycle(),platypus.debug.olive('PIXIAnimation "'+r+'": Overwriting duplicate animation for "'+s+'".')),e[s]=o(s,t[s],i,n))},n=function(t){for(var e=t.length,i="",n="";e--;)i+=n+(t[e].src||t[e]).substring(0,128),n=",";return i},r=function(t,i){var r=null,o=i.animations,a=i.images,c=i.framerate||60,u=i.frames,l=0,h=Array.setUp(),p=a.length,d=u.length,f=t.animations,b=t.images,m=t.framerate||60,g=t.frames;for(i.id?i.id+=";"+(t.id||n(t.images)):i.id=t.id||n(t.images),l=0;l<b.length;l++)h.push(s(b[l])),a.push(h[l]);return Array.isArray(g)?function(t,e,i){var n=null,r=0;for(r=0;r<t.length;r++)n=t[r],e.push(Array.setUp(n[0],n[1],n[2],n[3],n[4]+i,n[5],n[6]))}(g,u,p):(function(t,e,i,n){var r=0,o=t.width,s=t.height,a=t.regX||0,c=t.regY||0,u=0,l=0,h=0,_=0;for(r=0;r<n.length;r++)for(u=n[r].realWidth-o,l=n[r].realHeight-s,_=0;_<=l;_+=s)for(h=0;h<=u;h+=o)e.push([h,_,o,s,r+i,a,c])}(g,u,p,r=_(h)),r.recycle()),e(f,o,m/c,d,i.id),h.recycle(),i},o=function(t,e,n,r){var o=0,s=0,a=Array.setUp(),c=0;if("number"==typeof e)return a.push(e+r),i.setUp("frames",a,"next",t,"speed",n);if(Array.isArray(e)){for(s=e[0]||0,c=(e[1]||s)+1+r,o=s+=r;o<c;o++)a.push(o);return i.setUp("frames",a,"next",e[2]||t,"speed",(e[3]||1)*n)}for(o=0;o<e.frames.length;o++)a.push(e.frames[o]+r);return i.setUp("frames",a,"next",e.next||t,"speed",(e.speed||1)*n)},s=function(e){var i=!1;return"string"==typeof e&&(i=e.match(t))?i[1]:e},a=function(){var t=this.animations,e="";for(e in t)t.hasOwnProperty(e)&&t[e].frames.recycle(),t[e].recycle();this.frames.recycle(2),this.images.recycle(),this.recycle()};return function(t){var e=m.EmptySpriteSheet,n=t;if("string"==typeof n&&(n=platypus.game.settings.spriteSheets[t]),n){if(e=i.setUp("animations",i.setUp(),"framerate",60,"frames",Array.setUp(),"id","","images",Array.setUp(),"recycleSpriteSheet",a),Array.isArray(n))return function(t,e){for(var i=t.length,n=null;i--;)"string"==typeof(n=t[i])&&(n=platypus.game.settings.spriteSheets[n]),n&&r(n,e);return e}(n,e);if(n)return r(n,e)}return e}}()}(),platypus.StateMap=function(){"use strict";var t=include("platypus.DataMap"),e=function(e){var i=arguments.length;i?1===i&&"string"==typeof e?(t.call(this),this.updateFromString(e)):t.apply(this,arguments):t.call(this)},i=extend(e,t);return Object.defineProperty(i,"updateFromString",{value:function(t){for(var e=t.greenSplit(","),i=e.length,n="";i--;)(n=e[i])&&("!"===n.substr(0,1)?this.set(n.substr(1),!1):this.set(n,!0));return e.recycle(),this}}),Object.defineProperty(i,"update",{value:function(t){for(var e=t.keys,i=e.length,n="",r=!1,o=!1;i--;)n=e[i],o=t.get(n),this.get(n)!==o&&(this.set(n,o),r=!0);return r}}),Object.defineProperty(i,"includes",{value:function(t){for(var e=t.keys,i=e.length,n="";i--;)if(n=e[i],this.get(n)!==t.get(n))return!1;return!0}}),Object.defineProperty(i,"intersects",{value:function(t){for(var e=t.keys,i=e.length,n="";i--;)if(n=e[i],this.get(n)===t.get(n))return!0;return!1}}),recycle.add(e,!!springroll.Debug,"StateMap",function(){this.clear(),e.recycle(this)}),e}(),platypus.Component=function(){"use strict";var t=include("platypus.Data"),e=function(){return Array.setUp()},i=function(e,i){this.type=e,this.owner=i,this.publicMethods=t.setUp(),this.listener=t.setUp("events",Array.setUp(),"messages",Array.setUp())},n=i.prototype;return n.toString=function(){return"[Component "+this.type+"]"},n.toJSON=null,n.destroy=function(){var t="";if(this.listener){for(t in this._destroy&&this._destroy(),this.publicMethods)this.publicMethods.hasOwnProperty(t)&&this.removeMethod(t);this.publicMethods.recycle(),this.removeEventListeners(),this.listener.events.recycle(),this.listener.messages.recycle(),this.listener.recycle(),this.listener=null}},n.removeEventListeners=function(t){var e=0,i=null,n=null;if(t)for(e=0;e<t.length;e++)this.removeEventListener(t[e]);else{for(i=this.listener.events,n=this.listener.messages,e=0;e<i.length;e++)this.owner.off(i[e],n[e]);i.length=0,n.length=0}},n.addEventListener=function(t,e,i){var n=e.bind(this);return this.listener.events.push(t),this.listener.messages.push(n),this.owner.on(t,n,i),n},n.addMethod=function(t,e){this.owner[t]?platypus.debug.warn(this.owner.type+': Entity already has a method called "'+t+'". Method not added.'):(this.owner[t]=function(){return e.apply(this,arguments)}.bind(this),this.publicMethods[t]=e)},n.removeEventListener=function(t,e){var i=0,n=this.listener.events,r=this.listener.messages;for(i=n.length-1;i>=0;i--)n[i]!==t||e&&r[i]!==e||(this.owner.off(t,r[i]),this.listener.events.greenSplice(i),this.listener.messages.greenSplice(i))},n.removeMethod=function(t){this.owner[t]?delete this.owner[t]:platypus.debug.warn(this.owner.type+': Entity does not have a method called "'+t+'".'),delete this.publicMethods[t]},i.getAssetList=e,i.getLateAssetList=e,i}(),platypus.Messenger=function(){"use strict";var t=include("springroll.EventDispatcher"),e=function(){t.call(this),this.loopCheck=Array.setUp()},i=!!springroll.Debug,n=i&&window.performance&&window.performance.mark&&window.performance.measure&&window.performance,r=extend(e,t);return r.toString=function(){return"[Messenger Object]"},r._trigger=r.trigger,r.trigger=function(t,e,i){var n=null,r=0,o=0,s=e,a=null;if("string"==typeof t){if(-1===t.indexOf(" "))return this.triggerEvent.apply(this,arguments);for(a=t.split(" "),n=Array.prototype.greenSlice.call(arguments),r=0;r<a.length;r++)n[0]=a[r],o+=this.triggerEvent.apply(this,n);return n.recycle(),o}if(Array.isArray(t)){for(n=Array.prototype.greenSlice.call(arguments),r=0;r<t.length;r++)n[0]=t[r],o+=this.trigger.apply(this,n);return n.recycle(),o}return t.event?(void 0!==t.message&&(s=t.message),this.triggerEvent(t.event,s,t.debug||i)):(platypus.debug.warn('Event incorrectly formatted: must be string, array, or object containing an "event" property.',t),0)},r.triggerEvent=function(t){var e=0,i=0,n=null,r=this._listeners,o=null;if(!this._destroyed&&r.hasOwnProperty(t)&&r[t]){for(r=r[t].greenSlice(),arguments.length>1&&(o=Array.prototype.greenSlice.call(arguments)).greenSplice(0),e=i=r.length;i--;)(n=r[i])._eventDispatcherOnce&&(delete n._eventDispatcherOnce,this.off(t,n)),n.apply(this,o);o&&o.recycle(),r.recycle()}return e},i&&(r._triggerEvent=r.triggerEvent,r.triggerEvent=function(t,e){var i=0,r=e&&e.debug,o=0,s=0;if(r||this.debug){for(i=0;i<this.loopCheck.length;i++)if(this.loopCheck[i]===t){if((o+=1)>5)throw"Endless loop detected for '"+t+"'.";platypus.debug.warn("Event '"+t+"' is nested inside another '"+t+"' event.")}return this.loopCheck.push(t),n&&n.mark("a"),s=this._triggerEvent.apply(this,arguments),n&&(n.mark("b"),n.measure(this.type+":"+t,"a","b")),this.loopCheck.length=this.loopCheck.length-1,r&&(s?platypus.debug.olive('Entity "'+this.type+'": Event "'+t+'" has '+s+" subscriber"+(s>1?"s":"")+".",e):platypus.debug.warn('Entity "'+this.type+'": Event "'+t+'" has no subscribers.',e)),s}return this._triggerEvent.apply(this,arguments)}),r.getMessageIds=function(){return Object.keys(this._listeners)},r.eventDispatcherDestroy=r.destroy,r.destroy=function(){this.loopCheck.recycle(),this.eventDispatcherDestroy()},e}(),platypus.Entity=function(){"use strict";var t=include("platypus.Data"),e=include("platypus.StateMap"),i=function(t,e,i){this.addComponent(new t(this,e,i))},n={},r=function(r,o,s,a){var c=0,u=null,l=Array.setUp(),h=t.setUp(r),_=h.components,p=t.setUp(h.properties),d=t.setUp(o),f=t.setUp(d.properties),b=Array.setUp(),m=Array.setUp();if(platypus.Messenger.call(this),this.components=Array.setUp(),this.type=h.id||"none",this.id=d.id||f.id,this.id?0===this.id.search(this.type+"-")&&(c=parseInt(this.id.substring(this.id.search("-")+1),10),isNaN(c)||n[this.type]&&!(n[this.type]<=c)||(n[this.type]=c+1)):(n[this.type]||(n[this.type]=0),this.id=this.type+"-"+n[this.type],n[this.type]+=1),this.setProperty(p),this.setProperty(f),this.on("set-property",function(t){this.setProperty(t)}.bind(this)),this.state=e.setUp(this.state),this.lastState=e.setUp(),a&&(this.parent=a),this.trigger=this.triggerEvent=function(t,e){return b.push(t),m.push(e),-1},_)for(c=0;c<_.length;c++)(u=_[c])&&(platypus.components[u.type]?l.push(i.bind(this,platypus.components[u.type],u)):platypus.debug.warn('Entity "'+this.type+'": Component "'+u.type+'" is not defined.',u));this.loadingComponents=platypus.Async.setUp(l,function(){for(this.loadingComponents=null,delete this.trigger,delete this.triggerEvent,c=0;c<b.length;c++)this.trigger(b[c],m[c]);b.recycle(),m.recycle(),this.triggerEvent("load"),s&&s(this)}.bind(this)),l.recycle(),h.recycle(),p.recycle(),d.recycle(),f.recycle()},o=r.prototype=new platypus.Messenger;return o.toString=function(){return"[Entity "+this.type+"]"},o.toJSON=function(t){var e=this.components,i={properties:{id:this.id,state:this.state.toJSON()}},n=0,r=null,o=i.properties;for(t?(i.id=this.type,i.components=[]):i.type=this.type,n=0;n<e.length;n++)r=e[n].toJSON(o),t&&r&&i.components.push(r);return i},o.addComponent=function(t){return this.components.push(t),this.triggerEvent("component-added",t),t},o.removeComponent=function(t){var e=0;if("string"==typeof t){for(e=0;e<this.components.length;e++)if(this.components[e].type===t)return t=this.components[e],this.components.greenSplice(e),this.triggerEvent("component-removed",t),t.destroy(),t}else for(e=0;e<this.components.length;e++)if(this.components[e]===t)return this.components.greenSplice(e),this.triggerEvent("component-removed",t),t.destroy(),t;return!1},o.setProperty=function(t){var e="";for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},o.messengerDestroy=o.destroy,o.destroy=function(){var t=this.components,e=0,i=t.length;if(!this._destroyed){for(e=0;e<i;e++)t[e].destroy();t.recycle(),this.state.recycle(),this.state=null,this.lastState.recycle(),this.lastState=null,this.messengerDestroy()}},r.getAssetList=function(t,e){var i=0,n=null,o=null,s=null,a=null;if(t.type)return(a=platypus.game.settings.entities[t.type])?r.getAssetList(a,t.properties):(platypus.debug.warn('Entity "'+t.type+'": This entity is not defined.',t),s);for(s=Array.setUp(),i=0;i<t.components.length;i++)(n=t.components[i]&&t.components[i].type&&platypus.components[t.components[i].type])&&(o=n.getAssetList(t.components[i],t.properties,e),s.union(o),o.recycle());return s},r.getLateAssetList=function(t,e,i){var n=0,o=null,s=null,a=null;if(t.type)return r.getLateAssetList(platypus.game.settings.entities[t.type],e,i);for(a=Array.setUp(),n=0;n<t.components.length;n++)(o=t.components[n]&&t.components[n].type&&platypus.components[t.components[n].type])&&(s=o.getLateAssetList(t.components[n],t.properties,e,i),a.union(s),s.recycle());return a},r}(),platypus.Scene=function(){"use strict";var t=include("platypus.Data"),e=include("platypus.Entity"),i=include("platypus.PIXIAnimation"),n=include("springroll.State"),r=/^(?:\w+:\/{2}\w+(?:\.\w+)*\/?)?(?:[\/.]*?(?:[^?]+)?\/)?(?:([^\/?]+)\.(\w+))(?:\?\S*)?$/,o=function(){var t=function(t,e){for(var i=e.length;i--;)if(e[i].id===t)return!0;return!1};return function(e,i){for(var n=null,r=platypus.game.app.assetManager.cache._cache,o=Array.setUp(),a=e.length;a--;)r[(n=s(e[a])).id]||t(n.id,i)?n.recycle():o.push(n);return o}}(),s=function(e){var i=e.match(r),n=t.setUp("id",e,"src",e);return i?n.id=i[1]:platypus.debug.warn("Scene: A listed asset should provide the entire file path."),n},a=function(t,i,n){this.layers.push(new e(t,{properties:i},n))},c=function(){var e=0,n="",r=Array.setUp(),o=this.layerDefinitions,s=!0,c=!1,u=null,l=null;for(this.holds=t.setUp("count",1,"release",function(){var t=this.holds;t.count-=1,t.count||(this.sceneLive(),t.recycle(),this.holds=null)}.bind(this)),this.storeMessages=!0,this.storedMessages=Array.setUp(),this.layers=Array.setUp(),e=0;e<o.length;e++){if(c=o[e],u={stage:this.stage,parent:this},c.properties)for(n in c.properties)c.properties.hasOwnProperty(n)&&(u[n]=c.properties[n]);if(c.type&&(c=platypus.game.settings.entities[c.type]),s=!0,c.filter){if(c.filter.includes)for(n in s=!1,c.filter.includes)c.filter.includes.hasOwnProperty(n)&&platypus.supports[c.filter.includes[n]]&&(s=!0);if(c.filter.excludes)for(n in c.filter.excludes)c.filter.excludes.hasOwnProperty(n)&&platypus.supports[c.filter.excludes[n]]&&(s=!1)}s&&r.push(a.bind(this,c,u))}for(platypus.Async.setUp(r,function(){var t=this.holds;platypus.debug.olive("Scene loaded: "+this.id),this.triggerOnChildren("scene-loaded",this.data,t),i.preloadBaseTextures(this.app.display.renderer),t.release()}.bind(this)),l=this.storedMessages,this.storeMessages=!1,e=0;e<l.length;e++)this.triggerOnChildren(l[e].message,l[e].value);l.recycle(),this.storedMessages=null,r.recycle()},u=function(t,e){var i=null;n.call(this,t,e.options),i=this.getAssetList(e),this.id=e.id,this.preload.union(i),this.layerDefinitions=e.layers,this.storeMessages=!1,this.storedMessages=null,this.stage=t,this.layers=null,this.assets=e.assets||null,this.holds=null,this.on("loading",function(t,e){var i=this.getLateAssetList(t);i.length?(e.union(i),this.once("exit",function(t){this.app.unload(t),t.recycle()}.bind(this,i))):i.recycle()}.bind(this,e)),this.on("loaded",c),i.recycle()},l=extend(u,n);return l.sceneLive=function(){platypus.game.currentScene=this,platypus.debug.olive("Scene live: "+this.id),this.triggerOnChildren("scene-live",this.data)},l.exitStart=function(){platypus.debug.olive("Scene ending: "+this.id),this.triggerOnChildren("scene-ended",this.data)},l.triggerOnChildren=function(t,e){var i=0;if(this.storeMessages)this.storedMessages.push({message:t,value:e});else for(i=0;i<this.layers.length;i++)this.layers[i].trigger.apply(this.layers[i],arguments)},l.getEntityById=function(t){var e=0,i=null;for(e=0;e<this.layers.length;e++){if(this.layers[e].id===t)return this.layers[e];if(this.layers[e].getEntityById&&(i=this.layers[e].getEntityById(t)))return i}return null},l.getEntitiesByType=function(t){var e=0,i=null,n=Array.setUp();for(e=0;e<this.layers.length;e++)this.layers[e].type===t&&n.push(this.layers[e]),this.layers[e].getEntitiesByType&&(i=this.layers[e].getEntitiesByType(t),n.union(i),i.recycle());return n},l.exit=function(){var t=0;for(t=0;t<this.layers.length;t++)this.layers[t].destroy();this.layers.recycle(),this.layers=null,i.unloadBaseTextures(),platypus.game.currentScene=null},l.getAssetList=function(t){var i=0,n=null,r=Array.setUp();for(t.assets&&r.union(t.assets),i=0;i<t.layers.length;i++)n=e.getAssetList(t.layers[i]),r.union(n),n.recycle();return n=o(r,this.preload),r.recycle(),n},l.getLateAssetList=function(t){var i=0,n=null,r=Array.setUp();for(i=0;i<t.layers.length;i++)n=e.getLateAssetList(t.layers[i],null,this.data),r.union(n),n.recycle();return n=o(r,this.preload),r.recycle(),n},u}(),platypus.Game=function(){"use strict";var t=include("PIXI.Container"),e=include("platypus.Scene"),i=include("window.XMLHttpRequest"),n=function(t,e){var n=new i;n.open("GET",t,!0),n.responseType="text",n.onload=function(){var i=null;if(200===n.status)try{i=JSON.parse(n.responseText)}catch(e){platypus.debug.warn('Error parsing "'+t+'": '+e.message)}else platypus.debug.warn('Error opening "'+t+'": '+n.description);e(i)},n.send()},r=function(t,e){var i=0,o="",s=0,a=function(){(s-=1)||e(t)},c=function(t,e,i){r(t[e],function(n){t[e]=n,i(n)})};if(t){if(Array.isArray(t)){if(s=t.length)for(i=0;i<t.length;i++)c(t,i,a);else e(t);return}if("object"==typeof t){if(t.src&&t.src.length>5&&".json"===t.src.substring(t.src.length-5).toLowerCase())r(t.src,function(i){t.src!==i&&(t=i),e(t)});else{for(o in t)t.hasOwnProperty(o)&&(s+=1);if(s)for(o in t)t.hasOwnProperty(o)&&c(t,o,a);else e(t)}return}if("string"==typeof t&&t.length>5&&".json"===t.substring(t.length-5).toLowerCase())return void n(t,function(t){"object"==typeof t?r(t,e):e(t)})}e(t)},o=function(i,n,o){var s=function(i){var n="",r=this.app.states||{};for(n in platypus.game=this,this.currentScene=null,this.settings=i,this.stage=this.app.display.stage,i.scenes)i.scenes.hasOwnProperty(n)&&(r[i.scenes[n].id=i.scenes[n].id||n]=new e(new t,i.scenes[n]));this.app.states||(this.app.states=r),o&&o(this),window.getEntityById=function(t){return this.getEntityById(t)}.bind(this),window.getEntitiesByType=function(t){return this.getEntitiesByType(t)}.bind(this),window.getVisibleSprites=function(t,e){var i=0;if(e=e||Array.setUp(),!(t=t||this.stage).texture&&t.visible){for(i=0;i<t.children.length;i++)window.getVisibleSprites(t.children[i],e);return e}return t.visible?(e.push(t),e):e}.bind(this)}.bind(this);i?(this.app=n,"string"==typeof i?r(i,s):s(i)):platypus.debug.warn("No game definition is supplied. Game not created.")},s=o.prototype;return s.tick=function(t){this.currentScene&&this.currentScene.triggerOnChildren("tick",t)},s.loadScene=function(){var i=function(i,n){var r="",o=null;i?"string"==typeof i?(this.app.states[i].data=n,this.app.manager.state=i):(r=i.id=i.id||"new-scene",(o=new e(new t,i)).data=n,this.app.manager.addState(r,o),this.stage.addChild(o.panel),this.app.trigger("stateAdded",r,o),this.app.manager.state=r):platypus.debug.warn("A scene id or scene definition must be provided to load a scene.")};return function(t,e){window.setTimeout(i.bind(this,t,e),1)}}(),s.getEntityById=function(t){return this.currentScene?this.currentScene.getEntityById(t):null},s.getEntitiesByType=function(t){return this.currentScene?this.currentScene.getEntitiesByType(t):Array.setUp()},s.destroy=function(){},o}(),platypus.Vector=function(){"use strict";var t=function(t,e,i){this.matrix?(this.matrix[0]=0,this.matrix[1]=0,this.matrix[2]=0):this.matrix=Array.setUp(0,0,0),this.set(t,e,i)},e=t.prototype;return Object.defineProperty(e,"x",{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}}),Object.defineProperty(e,"y",{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}}),Object.defineProperty(e,"z",{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}}),e.toString=function(){return"["+this.matrix.join(",")+"]"},e.set=function(t,e,i){return t&&t.matrix?this.setVector(t,e):t&&"number"==typeof t.x&&"number"==typeof t.y?this.setXYZ(t.x,t.y,t.z):t&&Array.isArray(t)?this.setArray(t,e):this.setXYZ(t,e,i)},e.setXYZ=function(t,e,i){var n=this.matrix;return n[0]=t||0,n[1]=e||0,n[2]=i||0,this},e.setVector=function(t,e){return this.setArray(t.matrix,e)},e.setArray=function(t,e){for(var i=e||t.length,n=this.matrix;i--;)n[i]=t[i];return this},e.equals=function(t,e,i){var n=null,r=0,o=this.matrix;if(t&&Array.isArray(t)){for(r=e||t.length;r--;)if(o[r]!==t[r])return!1;return!0}if(t&&t.matrix){for(n=t.matrix,r=e||n.length;r--;)if(o[r]!==n[r])return!1;return!0}return!("number"!=typeof t||o[0]!==t||"number"==typeof e&&o[1]!==e||"number"==typeof i&&o[2]!==i)},e.magnitude=function(t){var e=0,i=0;for(t=t||this.matrix.length,i=0;i<t;i++)e+=Math.pow(this.matrix[i],2);return Math.sqrt(e)},e.getAngle=function(){var t=this.magnitude(2),e=0;return 0!==t&&(e=Math.acos(this.x/t),this.y<0&&(e=2*Math.PI-e)),e},e.getUnit=function(){return platypus.Vector.setUp(this).normalize()},e.getInverse=function(){return platypus.Vector.setUp(this).multiply(-1)},e.normalize=function(){var t=this.magnitude();return 0===t?this:this.multiply(1/t)},e.cross=function(){var t=function(t,e,i,n){return t*n-e*i};return function(e){var i=t(this.y,this.z,e.y,e.z),n=-t(this.x,this.z,e.x,e.z),r=t(this.x,this.y,e.x,e.y);return this.x=i,this.y=n,this.z=r,this}}(),e.getCrossProduct=function(t){return platypus.Vector.setUp(this).cross(t)},e.rotate=function(t,e){var i,n,r,o=e,s=null,a=Math.cos(t),c=Math.sin(t),u=1-a,l=platypus.Vector.setUp();return o?"x"===o?o=l.setXYZ(1,0,0):"y"===o?o=l.setXYZ(0,1,0):"z"===o&&(o=l.setXYZ(0,0,1)):o=l.setXYZ(0,0,1),i=o.x,n=o.y,r=o.z,s=Array.setUp(Array.setUp(a+i*i*u,i*n*u-r*c,i*r*u+n*c),Array.setUp(n*i*u+r*c,a+n*n*u,n*r*u-i*c),Array.setUp(r*i*u-n*c,r*n*u+i*c,a+r*r*u)),this.multiply(s),l.recycle(),s.recycle(2),this},e.multiply=function(t,e){var i=0,n=0,r=null,o=0;if(Array.isArray(t)){for(r=this.matrix.greenSlice(),o=e||t.length,i=0;i<o;i++)for(this.matrix[i]=0,n=0;n<o;n++)this.matrix[i]+=r[n]*t[i][n];r.recycle()}else for(o=e||this.matrix.length,i=0;i<o;i++)this.matrix[i]*=t;return this},e.add=function(e,i,n){var r=e,o=0,s=0;for(Array.isArray(r)?o=i||this.matrix.length:r instanceof t?(r=r.matrix,o=i||this.matrix.length):(r=[e||0,i||0,n||0],o=this.matrix.length),s=0;s<o;s++)this.matrix[s]+=r[s];return this},e.addVector=function(t,e){return this.add(t,e)},e.subtractVector=function(t,e){return this.add(t.getInverse(),e)},e.scale=function(t,e){return this.multiply(t,e)},e.dot=function(t,e){var i=0,n=0,r=this.matrix,o=t.matrix;for(n=e||r.length;n--;)i+=r[n]*(o[n]||0);return i},e.angleTo=function(t){var e=this.getUnit(),i=t.getUnit(),n=0;return e.magnitude()&&i.magnitude()?n=Math.acos(e.dot(i)):(platypus.debug.warn("Vector: Attempted to find the angle of a zero-length vector."),n=NaN),e.recycle(),i.recycle(),n},e.signedAngleTo=function(t,e){var i,n=this.getUnit(),r=t.getUnit(),o=n.getCrossProduct(r);return i=0===o.magnitude()?0:o.dot(e)<0?-Math.acos(n.dot(r)):Math.acos(n.dot(r)),n.recycle(),r.recycle(),o.recycle(),i},e.scalarProjection=function(e){var i=null,n=0;return"number"==typeof e?this.magnitude(2)*Math.cos(e):(i=t.setUp(e).normalize(),n=this.dot(i),i.recycle(),n)},e.copy=function(){return platypus.Vector.setUp(this)},t.assign=function(){var t=function(t,e,i,n){var r=null,o=!1;"string"==typeof t&&void 0!==e[t]&&(r=e[t],delete e[t],o=!0),Object.defineProperty(e,t,{get:function(){return i.matrix[n]},set:function(t){i.matrix[n]=t},enumerable:!0}),o&&(e[t]=r)};return function(e,i){var n=0;if(e&&i){if(!e[i]){for(e[i]=platypus.Vector.setUp(),n=2;n<arguments.length;n++)arguments[n]!==i&&t(arguments[n],e,e[i],n-2);return null}return e[i]}return null}}(),recycle.add(t,!!springroll.Debug,"Vector",function(){this.matrix.length=0,t.recycle(this)}),t}(),platypus.AABB=function(){"use strict";var t=function(e,i,n,r){e instanceof t?this.set(e):(this.empty=!0,this.setAll(e,i,n,r))},e=t.prototype;return e.setAll=function(t,e,i,n){return this.empty=!1,this.x=t,this.y=e,this.resize(i,n),this},e.setBounds=function(t,e,i,n){return this.empty=!1,this.x=(i+t)/2,this.y=(e+n)/2,this.resize(i-t,n-e),this},e.set=function(t){return this.empty=t.empty,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this},e.toString=function(){return"[AABB: "+this.width+"x"+this.height+" ("+this.x+", "+this.y+")]"},e.reset=function(){return this.empty=!0,this},e.resize=function(t,e){var i=t||0,n=e||0,r=i/2,o=n/2;return this.width=i,this.height=n,this.halfWidth=r,this.halfHeight=o,"number"==typeof this.x?(this.left=-r+this.x,this.right=r+this.x):this.empty=!0,"number"==typeof this.y?(this.top=-o+this.y,this.bottom=o+this.y):this.empty=!0,this},e.include=function(t){return this.empty?this.set(t):(this.left>t.left&&(this.left=t.left),this.right<t.right&&(this.right=t.right),this.top>t.top&&(this.top=t.top),this.bottom<t.bottom&&(this.bottom=t.bottom),this.width=this.right-this.left,this.height=this.bottom-this.top,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.x=this.left+this.halfWidth,this.y=this.top+this.halfHeight),this},e.move=function(t,e){return this.moveX(t),this.moveY(e),this},e.moveX=function(t){return this.x=t,this.left=-this.halfWidth+t,this.right=this.halfWidth+t,this},e.moveY=function(t){return this.y=t,this.top=-this.halfHeight+t,this.bottom=this.halfHeight+t,this},e.moveXBy=function(t){return this.moveX(this.x+t)},e.moveYBy=function(t){return this.moveY(this.y+t)},e.equals=function(t){return!this.empty&&!t.empty&&this.left===t.left&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom},e.contains=function(t){return t.top>=this.top&&t.bottom<=this.bottom&&t.left>=this.left&&t.right<=this.right},e.containsVector=function(t){return this.containsPoint(t.x,t.y)},e.containsPoint=function(t,e){return e>=this.top&&e<=this.bottom&&t>=this.left&&t<=this.right},e.collides=function(t){return t.bottom>this.top&&t.top<this.bottom&&t.right>this.left&&t.left<this.right},e.collidesPoint=function(t,e){return e>this.top&&e<this.bottom&&t>this.left&&t<this.right},e.intersects=function(t){return t.bottom>=this.top&&t.top<=this.bottom&&t.right>=this.left&&t.left<=this.right},e.getIntersectionArea=function(t){var e=Math.max,i=Math.min;return this.intersects(t)?(i(this.bottom,t.bottom)-e(this.top,t.top))*(i(this.right,t.right)-e(this.left,t.left)):0},recycle.add(t,!!springroll.Debug,"AABB"),t}(),platypus.ActionState=function(){"use strict";var t=include("platypus.Data"),e=include("platypus.StateMap"),i=function(i,n,r){this.event=i,this.trigger=r,this.active=!1,this.wasActive=!1,this.valid=!0,this.wasValid=!0,this.states=e.setUp(n),this.inputs=Array.setUp(),this.stateSummary=t.setUp("pressed",!1,"released",!1,"triggered",!1)},n=function(t){return t},r=i.prototype;return r.update=function(t){var e=this.stateSummary;return this.valid=t.includes(this.states),this.active=this.inputs.some(n),e.pressed=this.valid&&this.active,e.released=this.wasActive&&(!this.valid&&this.wasValid||this.valid&&!this.active),e.triggered=this.valid&&this.active&&!this.wasActive,this.wasValid=this.valid,this.wasActive=this.active,e.pressed||e.released||e.triggered},r.resolve=function(){this.trigger(this.event,this.stateSummary)},recycle.add(i,!!springroll.Debug,"ActionState",function(){this.states.recycle(),this.stateSummary.recycle(),this.inputs.recycle(),i.recycle(this)}),i}(),platypus.CollisionData=function(){"use strict";var t=include("platypus.Vector"),e=function(i){this.vector||(this.vector=t.setUp()),i instanceof e?this.copy(i):this.set.apply(this,arguments)},i=e.prototype;return i.set=function(t,e,i,n,r,o,s,a,c){this.occurred=t||!1,this.direction=e||null,this.position=i||null,this.deltaMovement=n||null,this.aABB=r||null,this.thisShape=o||null,this.thatShape=s||null,this.vector.set(a),this.stuck=c||0},i.copy=function(t){this.occurred=t.occurred,this.direction=t.direction,this.position=t.position,this.deltaMovement=t.deltaMovement,this.aABB=t.aABB,this.thisShape=t.thisShape,this.thatShape=t.thatShape,this.vector.setVector(t.vector),this.stuck=t.stuck},recycle.add(e,!!springroll.Debug,"CollisionData"),e}(),platypus.CollisionDataContainer=function(){"use strict";var t=function(){this.xData||this.yData?this.reset():(this.xData=Array.setUp(),this.yData=Array.setUp(),this.xDeltaMovement=1/0,this.yDeltaMovement=1/0)},e=t.prototype;return e.tryToAddX=function(t){return!(t.deltaMovement>this.xDeltaMovement||(t.deltaMovement<this.xDeltaMovement&&this.resetX(t.deltaMovement),this.xData.push(t),0))},e.tryToAddY=function(t){return!(t.deltaMovement>this.yDeltaMovement||(t.deltaMovement<this.yDeltaMovement&&this.resetY(t.deltaMovement),this.yData.push(t),0))},e.reset=function(){this.resetX(1/0),this.resetY(1/0)},e.resetX=function(t){for(var e=this.xData,i=e.length;i--;)e[i].recycle();e.length=0,this.xDeltaMovement=t},e.resetY=function(t){for(var e=this.yData,i=e.length;i--;)e[i].recycle();e.length=0,this.yDeltaMovement=t},recycle.add(t,!!springroll.Debug,"CollisionDataContainer"),t}(),platypus.CollisionShape=function(){"use strict";var t=include("platypus.AABB"),e=include("platypus.Vector"),i=function(t,e){var i=e.aABB,n=i.halfHeight,r=i.halfWidth,o=Math.abs,s=Math.pow,a=o(t.x-e.x),c=o(t.y-e.y),u=t.radius;return a<r||c<n||a<r+u&&c<n+u&&s(a-r,2)+s(c-n,2)<s(u,2)},n=function(t){var e=Math.pow;return this.aABB.collides(t.aABB)&&("rectangle"===t.type&&i(this,t)||"circle"===t.type&&e(this.x-t.x,2)+e(this.y-t.y,2)<=e(this.radius+t.radius,2))},r=function(){return!1},o=function(t){return this.aABB.collides(t.aABB)&&("rectangle"===t.type||"circle"===t.type&&i(t,this))},s=function(i,s,a){var c=s.regX,u=s.regY,l=s.width||2*s.radius||0,h=s.height||2*s.radius||0,_=s.radius||0,p=s.type||"rectangle";this.initialized||(this.initialized=!0,e.assign(this,"offset","offsetX","offsetY"),e.assign(this,"position","x","y"),e.assign(this,"size","width","height"),this.aABB=t.setUp()),this.owner=i,this.collisionType=a,this.type=p,this.subType="","circle"===p?(l=h=2*_,this.collides=n):this.collides="rectangle"===p?o:r,this.size.setXYZ(l,h),this.radius=_,"number"!=typeof c&&(c=l/2),"number"!=typeof u&&(u=h/2),this.offset.setXYZ(s.offsetX||l/2-c,s.offsetY||h/2-u),i?this.position.setXYZ(i.x,i.y).add(this.offset):this.position.setXYZ(s.x,s.y).add(this.offset),this.aABB.setAll(this.x,this.y,l,h)},a=s.prototype;return a.update=function(t,e){var i=t+this.offsetX,n=e+this.offsetY;this.position.setXYZ(i,n),this.aABB.move(i,n)},a.moveX=function(t){this.x=t,this.aABB.moveX(t)},a.moveY=function(t){this.y=t,this.aABB.moveY(t)},a.moveXY=function(t,e){this.x=t,this.y=e,this.aABB.move(t,e)},a.getAABB=function(){return this.aABB},a.setXWithEntityX=function(t){this.x=t+this.offsetX,this.aABB.moveX(this.x)},a.setYWithEntityY=function(t){this.y=t+this.offsetY,this.aABB.moveY(this.y)},a.multiply=function(t){var e=this.position,i=this.owner.position;e.subtractVector(i),e.multiply(t),this.offset.multiply(t),this.size.multiply(t),e.addVector(i),this.width=Math.abs(this.width),this.height=Math.abs(this.height),this.aABB.setAll(this.x,this.y,this.width,this.height)},a.containsPoint=function(t,e){var i=Math.pow;return this.aABB.containsPoint(t,e)&&("rectangle"===this.type||"circle"===this.type&&i(this.x-t,2)+i(this.y-e,2)<=i(this.radius,2))},a.toJSON=function(){var t={},e=this.size.width,i=this.size.height;return e/2!==this.regX&&(t.regX=this.regX),i/2!==this.regY&&(t.regY=this.regY),this.offset.x!==e/2-this.regX&&(t.offsetX=this.offset.x),this.offset.y!==i/2-this.regY&&(t.offsetY=this.offset.y),"circle"===this.type?t.radius=this.radius:(t.width=e,t.height=i),t.type=this.type,t},recycle.add(s,!!springroll.Debug,"CollisionShape"),s}(),function(){"use strict";var t=include("platypus.Component"),e=include("springroll.Debug",!1),i="",n=0,r=function(){},o=function(t,e,i){Object.defineProperty(e,t,{get:function(){return i[t]},set:function(e){i[t]=e},enumerable:!0})},s=function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}};platypus.components={},platypus.createComponentClass=function(a,c){var u=function(e,i,r){var s="",u="",l="",h="";if(t.call(this,a.id,e),c&&c.call(this),a.properties)for(s in a.properties)a.properties.hasOwnProperty(s)&&(i&&void 0!==i[s]?this[s]=i[s]:void 0!==this.owner[s]?this[s]=this.owner[s]:this[s]=a.properties[s]);if(a.publicProperties)for(s in a.publicProperties)a.publicProperties.hasOwnProperty(s)&&(o(s,this,e),i&&void 0!==i[s]?this[s]=i[s]:void 0!==this.owner[s]?this[s]=this.owner[s]:this[s]=a.publicProperties[s]);if(a.events)for(u in n-=1,a.events)if(a.events.hasOwnProperty(u)&&(this.addEventListener(u,a.events[u],n),i&&i.aliases))for(h in i.aliases)i.aliases.hasOwnProperty(h)&&i.aliases[h]===u&&this.addEventListener(h,a.events[u],n);if(a.publicMethods)for(u in a.publicMethods)if(a.publicMethods.hasOwnProperty(u)){if(l=u,i&&i.aliases)for(h in i.aliases)i.aliases.hasOwnProperty(h)&&i.aliases[h]===u&&(l=h);this.addMethod(l,a.publicMethods[u])}!this.initialize(i,r)&&r&&r()},l=null,h=u.prototype;if(c)for(i in h=extend(u,c),t.prototype)h[i]?h[i]=s(h[i],t.prototype[i]):h[i]=t.prototype[i];else h=extend(u,t);if(h.initialize=a.initialize||r,h.toJSON=function(){var t=!1,i=function(e,n){var r=null,o=!1,s="",a=!1,c=0,u=typeof e;if(t||(t=!0,o=!0),"function"===u)a=!0;else if("object"===u&&null!==e)if(e.toJSON)(r=n?n.greenSlice():Array.setUp()).push(e),i(e.toJSON(),r)||(a=!0);else if(Array.isArray(e))for(c=e.length;c--;){if(n&&n.indexOf(e[c])>=0){a=!0;break}if((r=n?n.greenSlice():Array.setUp()).push(e[c]),!i(e[c],r)){a=!0;break}}else for(s in e)if(e.hasOwnProperty(s)){if(n&&n.indexOf(e[s])>=0){a=!0;break}if((r=n?n.greenSlice():Array.setUp()).push(e[s]),!i(e[s],r)){a=!0;break}}return n&&n.recycle(),o&&(t=!1),!a};return e?function(e){var n=a.properties,r=a.publicProperties,o={type:this.type},s="";for(s in n)n.hasOwnProperty(s)&&n[s]!==this[s]&&(t||i(this[s])||platypus.debug.warn('Component "'+this.type+'" includes a non-JSON property value for "'+s+'" (type "'+typeof this[s]+'"). You may want to create a custom `toJSON` method for this component.',this[s]),o[s]=this[s]);for(s in r)r.hasOwnProperty(s)&&r[s]!==this.owner[s]&&void 0===e[s]&&(t||i(this.owner[s])||platypus.debug.warn('Component "'+this.type+'" includes a non-JSON public property value for "'+s+'" (type "'+typeof this.owner[s]+'"). You may want to create a custom `toJSON` method for this component.',this.owner[s]),e[s]=this.owner[s]);return o}:function(t){var e=a.properties,i=a.publicProperties,n={type:this.type},r="";for(r in e)e.hasOwnProperty(r)&&e[r]!==this[r]&&(n[r]=this[r]);for(r in i)i.hasOwnProperty(r)&&i[r]!==this.owner[r]&&(t[r]=this.owner[r]);return n}}(),a.methods)for(l in a.methods)a.methods.hasOwnProperty(l)&&("destroy"===l?h._destroy=a.methods[l]:h[l]=a.methods[l]);if(a.publicMethods)for(l in a.publicMethods)a.publicMethods.hasOwnProperty(l)&&(h[l]=a.publicMethods[l]);return u.getAssetList=a.getAssetList||t.getAssetList,u.getLateAssetList=a.getLateAssetList||t.getLateAssetList,platypus.components[a.id]=u,u}}(),function(){"use strict";var t=include("springroll.Application"),e=include("springroll.ApplicationPlugin"),i=include("window.PIXI",!1),n=include("createjs.Tween",!1),r=n?function(t,e,i){e.delta=i,n.tick(i),t.tick(e)}:function(t,e,i){e.delta=i,t.tick(e)},o=new e,s=function(t,e){t.currentScene&&t.currentScene.triggerOnChildren("resize",e)},a=function(){var e=function(t,e){return Math.floor(204*t/e)},n=function(t,i){var n,r=0,o=0,s=0,a=0,c=null;return i&&(c=i.greenSplit(".")),i&&3===c.length?(o=parseInt(c[0],10),s=parseInt(c[1],10),a=parseInt(c[2],10)):(o=t.charCodeAt(0)||0,s=t.charCodeAt(1)||0,a=t.charCodeAt(2)||0,o-=r=Math.min(o,s,a),s-=r,a-=r),c&&c.recycle(),n=Math.max(o,s,a,1),"color: #ffffff; line-height: 1.5em; border-radius: 6px; background-color: rgb("+e(o,n)+","+e(s,n)+","+e(a,n)+");"};return function(e,r){var o=window.createjs,s=r.options,a=s.author?"by "+s.author:"",c=i,u=r.name||document.title||"",l="Platypus "+platypus.version,h=s.version||"(?)",_=Array.setUp(),p=Array.setUp(),d=platypus.supports;s.hideHello||(_=Array.setUp("SpringRoll "+t.version),c&&(_.push("Pixi.js "+c.VERSION),c.animate&&_.push("PixiAnimate "+c.animate.VERSION)),o&&(o.EaselJS&&_.push("EaselJS "+o.EaselJS.version),o.PreloadJS&&_.push("PreloadJS "+o.PreloadJS.version),o.SoundJS&&_.push("SoundJS "+o.SoundJS.version),o.TweenJS&&_.push("TweenJS "+o.TweenJS.version)),"(?)"!==h&&(u+=" "+h),d.firefox||d.chrome?(console.log("%c "+u+" %c "+a,n(u,u.substr(u.lastIndexOf(" ")-u.length+1)),"line-height: 1.5em;"),_.push(l),p=function(t,e,i){var r=0,o="",s=Array.setUp(t);for(r=0;r<i.length;r++)o=i[r],s.push(n(o,o.substr(o.lastIndexOf(" ")-o.length+1)),"line-height: 1.5em;");return s}("Using %c "+_.join(" %c %c ")+" %c ",0,_),console.log.apply(console,p),p.recycle()):console.log('--- "'+u+'" '+a+" - Using "+_.join(", ")+", and "+l+" ---"),_.recycle()),platypus.debug.olive("Game config loaded.",e)}}(),c=function(t){var e=null,i=null,n=null,r={};for(e in t)if(t[e].id)r[e]=t[e];else for(n in i=c(t[e]))i.hasOwnProperty(n)&&(r[n]=i[n]);return r};i&&i.utils.skipHello(),o.setup=function(){var t="",e=document.getElementsByName("author"),i=this.options;e.length&&(t=e[0].getAttribute("content")||""),i.add("author",t,!0),i.add("hideHello",!1,!0)},o.preload=function(t){var e=this.config.platypus||this.config,i=null,n=!1;e?(this.options.debug&&(e.debug=!0),a(e,this),e.entities=c(e.entities),e.spriteSheets&&function(t){var e="";for(e in t)t.hasOwnProperty(e)&&(t[e].id=e)}(e.spriteSheets),i=this.platypusGame=new platypus.Game(e,this),Object.defineProperty(this,"platypus",{get:function(){return n||(platypus.debug.warn("Referencing `.platypus` to access the Platypus game instance on the SpringRoll Application has been deprecated in favor of `.platypusGame`."),n=!0),this.platypusGame}}),r=r.bind(null,i,{delta:0}),this.on("update",r,320),s=s.bind(null,i),this.on("resize",s)):platypus.debug.warn("PlatypusPlugin: Platypus requires a game configuration."),t()},o.teardown=function(){this.platypusGame&&(this.off("update",r),this.off("resize",s),this.platypusGame.destroy(),delete this.platypusGame)}}(),function(){"use strict";var t,e;platypus.createComponentClass({id:"EventRender",properties:{animationMap:null,component:null,restart:!0},initialize:(t=function(t,e){this.owner.triggerEvent("play-animation",t,e)},e=function(t,e){this.playAnimation(t,e)},function(){var i="",n=this.animationMap;for(i in n)n.hasOwnProperty(i)&&(this.component?this.addEventListener(i,e.bind(this.component,n[i],this.restart)):this.addEventListener(i,t.bind(this,n[i],this.restart)))}),methods:{toJSON:function(){return null}}})}(),function(){"use strict";var t=include("platypus.AABB"),e=include("PIXI.Circle"),i=include("platypus.Data"),n=include("PIXI.Polygon"),r=include("PIXI.Rectangle"),o={};platypus.createComponentClass({id:"Interactive",properties:{container:null,hitArea:null,hover:!1,relativeToSelf:!1},publicProperties:{buttonMode:!1},initialize:function(){this.pressed=!1,this.camera=t.setUp(),this.hitArea&&(this.container.hitArea=this.setHitArea(this.hitArea))},events:{"camera-update":function(t){this.camera.set(t.viewport)},"handle-render":function(){this.buttonMode!==this.container.buttonMode&&(this.container.buttonMode=this.buttonMode)},"dispatch-event":function(t){this.sprite.dispatchEvent(this.sprite,t.event,t.data)},"input-on":function(){this.removeInputListeners||this.addInputs()},"input-off":function(){this.removeInputListeners&&this.removeInputListeners()}},methods:{addInputs:function(){var t=function(t){var e=t.data,i=e.originalEvent;return void 0!==i.pointerId?"point"+i.pointerId:i.type.substr(0,5)+(e.identifier||0)},e=function(t,e){var n=this.camera,r=this.container,o=null,s=null;r&&e.data.originalEvent&&(s=this.relativeToSelf?r.transform.worldTransform:r.parent.transform.worldTransform,o=i.setUp("event",e.data.originalEvent,"pixiEvent",e,"x",e.data.global.x/s.a+n.left,"y",e.data.global.y/s.d+n.top,"entity",this.owner),this.owner.trigger(t,o),o.recycle())},n=function(i){o[t(i)]=this,e.call(this,"pointerdown",i),i.currentTarget.mouseTarget=!0,this.pressed=!0},r=function(i){var n=t(i);o[n]===this&&(e.call(this,"pointermove",i),this.pressed&&(e.call(this,"pressmove",i),i.currentTarget.mouseTarget=!0))},s=function(t){e.call(this,"pointertap",t)},a=function(t){e.call(this,"pointerout",t)},c=function(t){e.call(this,"pointerover",t)},u=function(i){var n=t(i);o[n]===this&&(o[n]=null,this.pressed&&(e.call(this,"pressup",i),this.pressed=!1),e.call(this,"pointerup",i),i.currentTarget.mouseTarget=!1,i.currentTarget.removeDisplayObject&&i.currentTarget.removeDisplayObject())},l=function(i){var n=t(i);o[n]===this&&(o[n]=null,this.pressed&&(e.call(this,"pressup",i),this.pressed=!1),e.call(this,"pointerupoutside",i),i.currentTarget.mouseTarget=!1,i.currentTarget.removeDisplayObject&&i.currentTarget.removeDisplayObject())},h=function(i){var n=t(i);o[n]===this&&(o[n]=null,this.pressed&&(e.call(this,"pressup",i),this.pressed=!1),e.call(this,"pointercancel",i),i.currentTarget.mouseTarget=!1,i.currentTarget.removeDisplayObject&&i.currentTarget.removeDisplayObject())},_=function(t,e,i,n,r,s,a,c,u){var l="";for(l in o)o.hasOwnProperty(l)&&o[l]===this&&(o[l]=null);t.removeListener("pointerdown",e),t.removeListener("pointerup",i),t.removeListener("pointerupoutside",n),t.removeListener("pointercancel",r),t.removeListener("pointermove",s),t.removeListener("pointertap",a),this.hover&&(t.removeListener("pointerover",c),t.removeListener("pointerout",u)),t.interactive=!1,this.removeInputListeners=null};return function(){var t,e,i,o,p,d,f=this.container,b=null,m=null;f.interactive=!0,t=n.bind(this),e=r.bind(this),i=u.bind(this),o=l.bind(this),p=h.bind(this),d=s.bind(this),f.addListener("pointerdown",t),f.addListener("pointerup",i),f.addListener("pointerupoutside",o),f.addListener("pointercancel",p),f.addListener("pointermove",e),f.addListener("pointertap",d),this.hover&&(b=c.bind(this),m=a.bind(this),f.addListener("pointerover",b),f.addListener("pointerout",m)),this.removeInputListeners=_.bind(this,f,t,i,o,p,e,d,b,m)}}(),setHitArea:function(){var t={};return function(i){var o,s=null;return o=JSON.stringify(i),(s=t[o])||(s=Array.isArray(i)?new n(i):i.radius?new e(i.x||0,i.y||0,i.radius):new r(i.x||0,i.y||0,i.width||this.owner.width||0,i.height||this.owner.height||0),t[o]=s),s}}(),toJSON:function(){return null},destroy:function(){this.removeInputListeners&&this.removeInputListeners(),this.camera.recycle(),this.container.mouseTarget&&this.container.parent&&(this.container.visible=!1,this.container.removeDisplayObject=function(){this.container.parent.removeChild(this.container),this.container=null}.bind(this))}},publicMethods:{}})}(),function(){"use strict";var t=include("platypus.StateMap"),e=function(e,n){return"default"===e?i.bind(null,n):o.bind(null,n,t.setUp(e))},i=function(t){return t},n=function(t,e){this.component.playAnimation(t,e)},r=function(t){this.component.stopAnimation(t)},o=function(t,e,i){return!!i.includes(e)&&t},s=function(t,e){this.owner.triggerEvent("play-animation",t,e)},a=function(t){this.owner.triggerEvent("stop-animation",t)};platypus.createComponentClass({id:"StateRender",properties:{animationMap:null,component:null,forcePlayThrough:!1},initialize:function(){var t="",i="",o=this.animationMap;for(t in this.followThroughs={},this.checkStates=Array.setUp(),this.state=this.owner.state,this.stateChange=!0,this.lastState=-1,o)o.hasOwnProperty(t)&&("!"===(i=o[t])[i.length-1]?(i=i.substring(0,i.length-1),this.followThroughs[i]=!0):this.followThroughs[i]=!1,this.checkStates.push(e(t,i)));this.waitingAnimation=!1,this.waitingState=0,this.playWaiting=!1,this.animationFinished=!1,this.component?(this.playAnimation=n,this.stopAnimation=r):(this.playAnimation=s,this.stopAnimation=a)},events:{"state-changed":function(){this.stateChange=!0},"animation-ended":function(t){t===this.currentAnimation&&(this.waitingAnimation?(this.currentAnimation=this.waitingAnimation,this.waitingAnimation=!1,this.lastState=this.waitingState,this.animationFinished=!1,this.playAnimation(this.currentAnimation)):this.animationFinished=!0)},"update-animation":function(t){var e=0,i=!1;if(this.stateChange){if(this.state.has("visible")&&(this.visible=this.state.get("visible")),this.checkStates)for(e=0;e<this.checkStates.length;e++)if(i=this.checkStates[e](this.state)){this.currentAnimation!==i?!this.followThroughs[this.currentAnimation]&&(!this.forcePlaythrough||this.animationFinished||this.lastState>=+e)?(this.currentAnimation=i,this.lastState=+e,this.animationFinished=!1,t?this.playAnimation(this.currentAnimation):this.stopAnimation(this.currentAnimation)):(this.waitingAnimation=i,this.waitingState=+e):this.waitingAnimation&&!this.followThroughs[this.currentAnimation]&&(this.waitingAnimation=!1);break}this.stateChange=!1}}},methods:{toJSON:function(){return null},destroy:function(){this.checkStates.recycle(),this.followThroughs=null,this.state=null}},publicMethods:{}})}(),function(){"use strict";var t=include("platypus.Vector");platypus.createComponentClass({id:"AIChaser",properties:{accelerate:!1,chasing:!0},publicProperties:{speed:.3},initialize:function(){this.target=this.owner.target||null,this.offset=t.setUp(0,0),this.state=this.owner.state,this.state.set("chasing",!1)},events:{load:function(){this.owner.addMover?this.direction=this.owner.addMover({vector:[this.speed,0,0],event:"chase",accelerator:this.accelerate}).vector:platypus.debug.warn('The "AIChaser" component requires a "Mover" component to function correctly.')},"handle-ai":function(){var e=null,i=!1;this.target&&this.chasing&&((e=t.setUp(this.offset).add(this.target.position).subtractVector(this.owner.position)).magnitude(2)&&(i=!0,this.direction.setVector(e).normalize().multiply(this.speed)),e.recycle()),i!==this.state.get("chasing")&&(this.state.set("chasing",i),this.owner.triggerEvent("chase",i))},"set-target":function(t){this.target=t,this.offset.x=0,this.offset.y=0},"set-target-offset":function(t){this.offset.x=t.x,this.offset.y=t.y},"start-chasing":function(t){t&&(this.target=t),this.chasing=!0},"stop-chasing":function(){this.chasing=!1}},methods:{destroy:function(){this.target=null,this.offset.recycle(),this.state=null}}})}(),function(){"use strict";platypus.createComponentClass({id:"AIPacer",properties:{movement:"both",direction:null},initialize:function(){this.lastDirection="",this.currentDirection=this.direction||("horizontal"===this.movement?"left":"up")},events:{"handle-ai":function(){this.currentDirection!==this.lastDirection&&(this.lastDirection=this.currentDirection,this.owner.triggerEvent("stop"),this.owner.triggerEvent("go-"+this.currentDirection))},"turn-around":function(t){"both"!==this.movement&&"horizontal"!==this.movement||(t.x>0?this.currentDirection="left":t.x<0&&(this.currentDirection="right")),"both"!==this.movement&&"vertical"!==this.movement||(t.y>0?this.currentDirection="up":t.y<0&&(this.currentDirection="down"))}}})}(),function(){"use strict";var t=include("platypus.Data"),e=include("platypus.StateMap"),i={interrupt:createjs.Sound.INTERRUPT_ANY,delay:0,offset:0,loop:0,volume:1,pan:0,mute:!1,paused:!1},n=function(e){var n="",r=null;return"string"==typeof e?(n=e,r={}):(n=e.sound,r={interrupt:e.interrupt,delay:e.delay,offset:e.offset,loop:e.loop,volume:e.volume,pan:e.pan,startTime:e.startTime,duration:e.duration,mute:e.mute,paused:e.paused}),function(e){var o=null;e=e||r,(o=t.setUp("interrupt",e.interrupt||r.interrupt||i.interrupt,"delay",e.delay||r.delay||i.delay,"loop",e.loop||r.loop||i.loop,"offset",e.offset||r.offset||i.offset,"volume",void 0!==e.volume?e.volume:void 0!==r.volume?r.volume:i.volume,"pan",e.pan||r.pan||i.pan,"mute",e.mute||r.mute||i.mute,"paused",e.paused||r.paused||i.paused)).complete=function(t){t.audio&&!this.owner.destroyed&&(this.removeClip(t.audio),this.owner.triggerEvent("clip-complete")),t.recycle()}.bind(this,o),o.audio=this.player.play(n,o),o.audio&&(o.audio.soundId=n,this.activeAudioClips.push(o.audio))}};platypus.createComponentClass({id:"AudioSFX",properties:{audioMap:null,forcePlayThrough:!0,eventBased:!0,stateBased:!1},initialize:function(t){var e="",i=null,r=null;if(this.activeAudioClips=Array.setUp(),this.state=this.owner.state,this.stateChange=!1,this.player=platypus.game.app.sound,t.audioMap)for(e in this.stateBased&&(this.checkStates=Array.setUp()),t.audioMap)t.audioMap.hasOwnProperty(e)&&(r=t.audioMap[e],i=n(r),r.sound&&(r=r.sound),this.eventBased&&this.addEventListener(e,i),this.stateBased&&this.addStateCheck(e,r,i));this.paused=!1},events:{"handle-render":function(){var t=0,e=null,i=this.state;if(!this.paused&&this.stateBased&&this.stateChange){for(t=(e=this.checkStates).length;t--;)e[t].check(i);this.stateChange=!1}},"state-changed":function(){this.stateChange=!0},"toggle-mute":function(t){this.handleClip(t,function(t){t&&(t.unmuted?(t.volume=t.unmuted,delete t.unmuted):(t.unmuted=t.volume,t.volume=0))})},"stop-audio":function(t){t?"string"==typeof t?this.stopAudio(t):this.stopAudio(t.audioId||!1,t.playthrough||!1):this.stopAudio()},"mute-audio":function(t){this.handleClip(t,function(t){t&&(t.unmuted=t.volume,t.volume=0)})},"unmute-audio":function(t){this.handleClip(t,function(t){t&&(t.volume=t.unmuted,delete t.unmuted)})},"pause-audio":function(t){this.handleClip(t,function(t){t&&t.pause()})},"unpause-audio":function(t){this.handleClip(t,function(t){t&&t.unpause()})},"set-pan":function(t,e){var i=e||"",n=function(t,e){e&&(e.pan=t)};e?this.handleClip(i,n.bind(null,t)):this.getAllClips(n.bind(null,t))},"set-volume":function(t,e){var i=e||"",n=function(t,e){e&&(e.volume=t)};e?this.handleClip(i,n.bind(null,t)):this.getAllClips(n.bind(null,t))}},methods:{handleClip:function(t,e){"string"==typeof t?this.getClipById(t,e):this.getAllClips(e)},getClipById:function(t,e){var i=0,n=this.activeAudioClips;for(i=0;i<n.length;i++)if(n[i].soundId===t)return e&&e(n[i]),n[i];return e&&e(null),null},getAllClips:function(t){var e=0,i=this.activeAudioClips;if(t)for(e=0;e<i.length;e++)t(i[e]);return i},stopAudio:function(t,e){var i=this.activeAudioClips,n=function(t){this.stopAudioInstance(t.currentTarget)}.bind(this),r=i.length;if(t)for(;r--;)i[r].soundId===t&&(i[r].playthrough||e?i[r].addEventListener("loop",n):(i[r].stop(),i.greenSplice(r)));else{for(;r--;)e||i[r].playthrough?i[r].addEventListener("loop",n):i[r].stop();i.length=0}},stopAudioInstance:function(t){var e=this.activeAudioClips,i=e?e.indexOf(t):-1;i>=0&&e.greenSplice(i),t.stop()},removeClip:function(t){var e=this.activeAudioClips.indexOf(t);e>=0&&this.activeAudioClips.greenSplice(e)},addStateCheck:function(i,n,r){var o=e.setUp(i),s=t.setUp("states",o,"playing",!1);s.check=function(t,e,i,n){var r=n.includes(t.states);r!==t.playing&&(r?i():this.stopAudio(e,this.forcePlaythrough),t.playing=r)}.bind(this,s,n,r.bind(this)),this.checkStates.push(s)},destroy:function(){var t=this.checkStates,e=null,i=0;if(this.stopAudio(),this.activeAudioClips.recycle(),this.activeAudioClips=null,this.state=null,t){for(i=t.length;i--;)(e=t[i]).states.recycle(),e.recycle();t.recycle(),this.checkStates=null}}}})}(),function(){"use strict";var t=include("platypus.Data"),e=function(t,e){return t.time-e.time},i=function(i,n){var r=0;for(r=0;r<i.length;r++)n.push(t.setUp("event",i[r].event,"time",i[r].time||0,"message",i[r].message));return r&&n.sort(e),n},n=function(i,n,r){var o=0,s=r.getElapsed();for(o=0;o<i.length;o++)n.push(t.setUp("event",i[o].event,"time",(i[o].time||0)+s,"message",i[o].message||null));o&&n.sort(e)},r=function(t,e,i){var r=0,o=Array.setUp();for(r=0;r<t.length;r++)t[r].sound?(t[r].events&&o.push(n.bind(this,t[r].events,e,i)),o.push(t[r].sound)):o.push(t[r]);return o},o=function(t,e){this.playingAudio=!1,this.player.unloadSound(),this.owner.destroyed||(this.checkTimeEvents(!0),this.owner.triggerEvent("sequence-complete")),e.recycle()},s=function(t,e){var n=null,s=Array.setUp(),a=this.player;"string"==typeof t?n=Array.setUp(t):Array.isArray(t)?n=r(t,s,a):(t.events&&i(t.events,s),n=Array.isArray(t.sound)?r(t.sound,s,a):Array.setUp(t.sound)),e&&e.events&&i(e.events,s),a.play(n,o.bind(this,!0,n),o.bind(this,!1,n)),this.eventList.recycle(),this.eventList=s,this.playingAudio=!0};platypus.createComponentClass({id:"AudioVO",properties:{audioMap:null},initialize:function(){var t="";if(this.eventList=Array.setUp(),this.playingAudio=!1,this.player=platypus.game.app.voPlayer,this.player.trackSound=platypus.supports.iOS,this.audioMap)for(t in this.audioMap)this.audioMap.hasOwnProperty(t)&&this.addEventListener(t,s.bind(this,this.audioMap[t]));this.paused=!1},events:{"handle-render":function(){this.paused||this.checkTimeEvents(!1)},"stop-audio":function(){this.player.stop(),this.player.voList=[]}},methods:{checkTimeEvents:function(t){var e=null,i=this.eventList,n=0,r=this.owner;if(i&&i.length)for(n=this.player.getElapsed();i.length&&(t||i[0].time<=n);)e=i.greenSplice(0),r.trigger(e.event,e.message),e.recycle()},destroy:function(){this.playingAudio&&(this.player.stop(),this.player.voList=[]),this.eventList.recycle()}}})}(),function(){"use strict";var t=window.devicePixelRatio||1,e=include("platypus.AABB"),i=include("platypus.Data"),n=include("platypus.Vector"),r=function(t,i,n,r){var o=e.setUp(r.x+i,r.y+n,r.width,r.height),s=t.x,a=t.y;return o.top<t.top?a-=t.top-o.top:o.bottom>t.bottom&&(a+=t.bottom-o.bottom),o.left<t.left?s-=t.left-o.left:o.right>t.right&&(s+=t.right-o.right),o.recycle(),this.move(s,a,0)},o=function(){return!1},s=function(t){return t.clientX?t.clientX:t.touches&&t.touches[0]&&t.touches[0].clientX?t.touches[0].clientX:0},a=function(t){return t.clientY?t.clientY:t.touches&&t.touches[0]&&t.touches[0].clientY?t.touches[0].clientY:0};platypus.createComponentClass({id:"Camera",properties:{width:0,height:0,mode:"static",overflow:!1,stretch:!1,threshold:1,rotate:!1,x:0,y:0},publicProperties:{canvas:null,transitionX:400,transitionY:600,transitionAngle:600},initialize:function(t){var n=e.setUp(this.x,this.y,this.width,this.height),r=i.setUp("viewport",n,"orientation",t.orientation||0);this.viewport=e.setUp(0,0,0,0),this.worldCamera=r,this.worldDimensions=e.setUp(),this.message=i.setUp("viewport",e.setUp(),"scaleX",0,"scaleY",0,"orientation",0,"stationary",!1,"world",this.worldDimensions),this.cameraLoadedMessage=i.setUp("viewport",this.message.viewport,"world",this.worldDimensions),this.worldIsLoaded=!1,this.following=null,this.state="static","pan"===this.mode&&(this.state="mouse-pan"),this.boundingBox=e.setUp(n.x,n.y,n.width/2,n.height/2),this.lastX=n.x,this.lastY=n.y,this.lastOrientation=r.orientation,this.forwardX=0,this.forwardY=0,this.forwardAngle=0,this.averageOffsetX=0,this.averageOffsetY=0,this.averageOffsetAngle=0,this.offsetX=0,this.offsetY=0,this.offsetAngle=0,this.forwardFollower=i.setUp("x",this.lastX,"y",this.lastY,"orientation",this.lastOrientation),this.lastFollow=i.setUp("entity",null,"mode",null,"offsetX",0,"offsetY",0,"begin",0),this.xMagnitude=0,this.yMagnitude=0,this.xWaveLength=0,this.yWaveLength=0,this.xShakeTime=0,this.yShakeTime=0,this.shakeTime=0,this.shakeIncrementor=0,this.direction=!0,this.stationary=!1,this.viewportUpdate=!1,this.owner.container?this.parentContainer=this.owner.container:this.owner.stage?(this.canvas=this.canvas||platypus.game.app.display.canvas,this.parentContainer=this.owner.stage,this.owner.width=this.canvas.width,this.owner.height=this.canvas.height):platypus.debug.warn("Camera: There appears to be no Container on this entity for the camera to display."),this.container=new PIXI.Container,this.container.visible=!1,this.parentContainer.addChild(this.container),this.movedCamera=!1},events:{load:function(){this.resize()},"render-world":function(t){this.world=t.world,this.container.addChild(this.world)},"child-entity-added":function(t){this.viewportUpdate=!0,this.worldIsLoaded&&t.triggerEvent("camera-loaded",this.cameraLoadedMessage)},"child-entity-updated":function(t){this.viewportUpdate=!0,this.worldIsLoaded&&t.triggerEvent("camera-update",this.message)},"world-loaded":function(t){this.message.viewport.set(this.worldCamera.viewport),this.worldDimensions.set(t.world),this.worldIsLoaded=!0,t.camera&&this.follow(t.camera),this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("camera-loaded",this.cameraLoadedMessage),this.updateMovementMethods()},pointerdown:function(t){var e=this.worldCamera.viewport;"mouse-pan"===this.state&&(this.mouseVector||(this.mouseVector=n.setUp(),this.mouseWorldOrigin=n.setUp()),this.mouse=this.mouseVector,this.mouse.x=s(t.event),this.mouse.y=a(t.event),this.mouseWorldOrigin.x=e.x,this.mouseWorldOrigin.y=e.y,t.pixiEvent.stopPropagation())},pressmove:function(e){this.mouse&&this.move(this.mouseWorldOrigin.x+(this.mouse.x-s(e.event))*t/this.world.transform.worldTransform.a,this.mouseWorldOrigin.y+(this.mouse.y-a(e.event))*t/this.world.transform.worldTransform.d)&&(this.viewportUpdate=!0,this.movedCamera=!0,e.pixiEvent.stopPropagation())},pressup:function(t){this.mouse&&(this.mouse=null,this.movedCamera&&(this.movedCamera=!1,t.pixiEvent.stopPropagation()))},tick:function(t){var e=this.message,i=e.viewport,n=this.worldCamera;"following"===this.state&&this.followingFunction(this.following,t.delta)&&(this.viewportUpdate=!0),this.canvas&&(this.owner.width=this.canvas.width,this.owner.height=this.canvas.height),this.owner.width===this.lastWidth&&this.owner.height===this.lastHeight||(this.resize(),this.lastWidth=this.owner.width,this.lastHeight=this.owner.height),this.viewportUpdate?(this.viewportUpdate=!1,this.stationary=!1,e.stationary=!1,i.set(n.viewport),this.shakeIncrementor<this.shakeTime&&(this.viewportUpdate=!0,this.shakeIncrementor+=t.delta,this.shakeIncrementor=Math.min(this.shakeIncrementor,this.shakeTime),this.shakeIncrementor<this.xShakeTime&&i.moveX(i.x+Math.sin(this.shakeIncrementor/this.xWaveLength*(2*Math.PI))*this.xMagnitude),this.shakeIncrementor<this.yShakeTime&&i.moveY(i.y+Math.sin(this.shakeIncrementor/this.yWaveLength*(2*Math.PI))*this.yMagnitude)),e.scaleX=this.windowPerWorldUnitWidth,e.scaleY=this.windowPerWorldUnitHeight,e.orientation=n.orientation,this.world.setTransform(-i.x,-i.y,1,1,0),this.container.setTransform(i.halfWidth*e.scaleX,i.halfHeight*e.scaleY,e.scaleX,e.scaleY,e.orientation),this.container.visible=!0,this.owner.triggerEvent("camera-update",e),this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("camera-update",e)):this.stationary||(this.stationary=!0,e.stationary=!0,this.owner.triggerEvent("camera-update",e),this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("camera-update",e)),this.lastFollow.begin&&this.lastFollow.begin<Date.now()&&this.follow(this.lastFollow)},"resize-camera":function(t){this.width=t.width,this.height=t.height,this.resize()},relocate:function(t){var e=null,i=this.worldCamera.viewport;t.time&&window.createjs&&createjs.Tween?(e=n.setUp(i.x,i.y),createjs.Tween.get(e).to({x:t.x,y:t.y},t.time,t.ease).on("change",function(t){this.move(t.x,t.y)&&(this.viewportUpdate=!0)}.bind(this,e)).call(function(){this.recycle()}.bind(e))):this.move(t.x,t.y)&&(this.viewportUpdate=!0)},follow:function(t){this.follow(t)},shake:function(t){var e=t||{},i=e.xMagnitude||0,n=e.yMagnitude||0,r=e.xFrequency||0,o=e.yFrequency||0,s=e.time||0;this.viewportUpdate=!0,this.shakeIncrementor=0,this.xMagnitude=i,this.yMagnitude=n,0===r?(this.xWaveLength=1,this.xShakeTime=0):(this.xWaveLength=1e3/r,this.xShakeTime=Math.ceil(s/this.xWaveLength)*this.xWaveLength),0===o?(this.yWaveLength=1,this.yShakeTime=0):(this.yWaveLength=1e3/o,this.yShakeTime=Math.ceil(s/this.yWaveLength)*this.yWaveLength),this.shakeTime=Math.max(this.xShakeTime,this.yShakeTime)}},methods:{follow:function(t){switch(t.time?(this.lastFollow.begin||(this.lastFollow.entity=this.following,this.lastFollow.mode=this.mode,this.lastFollow.offsetX=this.offsetX,this.lastFollow.offsetY=this.offsetY),this.lastFollow.begin=Date.now()+t.time):this.lastFollow.begin&&(this.lastFollow.begin=0),this.mode=t.mode,t.mode){case"locked":this.state="following",this.following=t.entity,this.followingFunction=this.lockedFollow,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0,this.offsetAngle=t.offsetAngle||0;break;case"forward":this.state="following",this.followFocused=!1,this.following=t.entity,this.lastX=t.entity.x-t.offsetX||0,this.lastY=t.entity.y-t.offsetY||0,this.lastOrientation=t.entity.orientation||0,this.forwardX=t.movementX||.1*this.transitionX,this.forwardY=t.movementY||.1*this.transitionY,this.averageOffsetX=0,this.averageOffsetY=0,this.averageOffsetAngle=0,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0,this.offsetAngle=t.offsetAngle||0,this.followingFunction=this.forwardFollow;break;case"bounding":this.state="following",this.following=t.entity,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0,this.offsetAngle=t.offsetAngle||0,this.boundingBox.setAll(t.x,t.y,t.width,t.height),this.followingFunction=this.boundingFollow;break;case"anchor-bound":this.state="following",this.following=t.entity,this.followingFunction=r.bind(this,t.anchorAABB,t.offsetX||0,t.offsetY||0);break;case"pan":this.state="mouse-pan",this.following=null,this.followingFunction=null,t&&"number"==typeof t.x&&"number"==typeof t.y&&(this.move(t.x,t.y,t.orientation||0),this.viewportUpdate=!0);break;default:this.state="static",this.following=null,this.followingFunction=null,t&&"number"==typeof t.x&&"number"==typeof t.y&&(this.move(t.x,t.y,t.orientation||0),this.viewportUpdate=!0)}t.begin&&(t.begin=0)},move:function(t,e,i){var n=this.moveX(t);return n=this.moveY(e)||n,this.rotate&&(n=this.reorient(i||0)||n),n},moveX:o,moveY:o,reorient:function(t){var e=this.worldCamera;return Math.abs(e.orientation-t)>1e-4&&(e.orientation=t,!0)},lockedFollow:function(){var t=Math.min,e=function(t,e,i){return i*e+(1-i)*t},i=function(e,i){return e?t(i/e,1):1};return function(t,n){var r=this.worldCamera,o=r.viewport,s=e(o.x,t.x+this.offsetX,i(this.transitionX,n)),a=e(o.y,t.y+this.offsetY,i(this.transitionY,n));return this.rotate?this.move(s,a,e(r.orientation,-(t.orientation||0),i(this.transitionAngle,n))):this.move(s,a,0)}}(),forwardFollow:function(t,e){var i=1-.9,n=this.forwardFollower,r=!1,o=15/e,s=this.worldCamera,a=s.viewport,c=t.x+this.offsetX,u=t.y+this.offsetY,l=(t.orientation||0)+this.offsetAngle;return this.followFocused&&this.lastX===c&&this.lastY===u?this.lockedFollow(n,e):(this.averageOffsetX*=.9,this.averageOffsetY*=.9,this.averageOffsetX+=i*(c-this.lastX)*o,this.averageOffsetY+=i*(u-this.lastY)*o,Math.abs(this.averageOffsetX)>a.width/(2*this.forwardX)&&(this.averageOffsetX=0),Math.abs(this.averageOffsetY)>a.height/(2*this.forwardY)&&(this.averageOffsetY=0),this.rotate&&(this.averageOffsetAngle*=.9,this.averageOffsetAngle+=i*(l-this.lastOrientation)*o,Math.abs(this.averageOffsetAngle)>s.orientation/(2*this.forwardAngle)&&(this.averageOffsetAngle=0)),n.x=this.averageOffsetX*this.forwardX+c,n.y=this.averageOffsetY*this.forwardY+u,n.orientation=this.averageOffsetAngle*this.forwardAngle+l,this.lastX=c,this.lastY=u,this.lastOrientation=l,r=this.lockedFollow(n,e),this.followFocused||r||(this.followFocused=!0),r)},boundingFollow:function(t,e){var i=0,n=0,r=this.transitionX?Math.min(e/this.transitionX,1):1,o=1-r,s=this.transitionY?Math.min(e/this.transitionY,1):1,a=1-s,c=this.worldCamera.viewport;return this.boundingBox.move(c.x,c.y),t.x>this.boundingBox.right?i=t.x-this.boundingBox.halfWidth:t.x<this.boundingBox.left&&(i=t.x+this.boundingBox.halfWidth),t.y>this.boundingBox.bottom?n=t.y-this.boundingBox.halfHeight:t.y<this.boundingBox.top&&(n=t.y+this.boundingBox.halfHeight),0!==i&&(i=this.moveX(r*i+o*c.x)),0!==n&&(n=this.moveY(s*n+a*c.y)),i||n},resize:function(){var t=this.width/this.height,e=this.owner.width/this.owner.height,i=this.worldCamera.viewport;this.viewport.setAll(this.owner.width/2,this.owner.height/2,this.owner.width,this.owner.height),this.stretch||(e>t?this.overflow?i.resize(this.height*e,this.height):this.viewport.resize(this.viewport.height*t,this.viewport.height):this.overflow?i.resize(this.width,this.width/e):this.viewport.resize(this.viewport.width,this.viewport.width/t)),this.worldPerWindowUnitWidth=i.width/this.viewport.width,this.worldPerWindowUnitHeight=i.height/this.viewport.height,this.windowPerWorldUnitWidth=this.viewport.width/i.width,this.windowPerWorldUnitHeight=this.viewport.height/i.height,this.container.setTransform(this.viewport.x-this.viewport.halfWidth,this.viewport.y-this.viewport.halfHeight),this.viewportUpdate=!0,this.updateMovementMethods()},updateMovementMethods:function(){var t=o,e=function(){var e=this.worldDimensions;return this.worldCamera.viewport.moveX(e.width/2+e.left),this.moveX=t,!0},i=function(){var e=this.worldDimensions;return this.worldCamera.viewport.moveY(e.height/2+e.top),this.moveY=t,!0},n=function(t){var e=this.worldCamera.viewport,i=this.worldDimensions,n=i.width,r=i.left;return Math.abs(e.x-t)>this.threshold&&(t+e.halfWidth>n+r?e.moveX(n-e.halfWidth+r):t<e.halfWidth+r?e.moveX(e.halfWidth+r):e.moveX(t),!0)},r=function(t){var e=this.worldCamera.viewport,i=this.worldDimensions,n=i.height,r=i.top;return Math.abs(e.y-t)>this.threshold&&(t+e.halfHeight>n+r?e.moveY(n-e.halfHeight+r):t<e.halfHeight+r?e.moveY(e.halfHeight+r):e.moveY(t),!0)},s=function(t){var e=this.worldCamera.viewport;return Math.abs(e.x-t)>this.threshold&&(e.moveX(t),!0)},a=function(t){var e=this.worldCamera.viewport;return Math.abs(e.y-t)>this.threshold&&(e.moveY(t),!0)};return function(){var t=this.threshold,o=this.worldCamera.viewport,c=this.worldDimensions,u=c.width,l=c.height;u?u<o.width?this.moveX=e:this.moveX=n:this.moveX=s,l?l<o.height?this.moveY=i:this.moveY=r:this.moveY=a,this.threshold=-1,this.moveX(o.x),this.moveY(o.y),this.threshold=t}}(),destroy:function(){this.parentContainer.removeChild(this.container),this.parentContainer=null,this.container=null,this.mouseVector&&(this.mouseVector.recycle(),this.mouseWorldOrigin.recycle()),this.boundingBox.recycle(),this.viewport.recycle(),this.worldCamera.viewport.recycle(),this.worldCamera.recycle(),this.message.viewport.recycle(),this.message.recycle(),this.cameraLoadedMessage.recycle(),this.worldDimensions.recycle(),this.forwardFollower.recycle(),this.lastFollow.recycle()}},publicMethods:{isOnCanvas:function(t){var e=this.canvas;return!t||!(t.x+t.width<0||t.x>e.width||t.y+t.height<0||t.y>e.height)},windowToWorld:function(t,e,i){var r=i||n.setUp();return r.x=t.x*this.worldPerWindowUnitWidth,r.y=t.y*this.worldPerWindowUnitHeight,!1!==e&&(r.x+=this.worldCamera.viewport.left,r.y+=this.worldCamera.viewport.top),r},worldToWindow:function(t,e,i){var r=i||n.setUp();return r.x=t.x*this.windowPerWorldUnitWidth,r.y=t.y*this.windowPerWorldUnitHeight,!1!==e&&(r.x+=this.viewport.x,r.y+=this.viewport.y),r}}})}(),function(){"use strict";var t=include("platypus.Data");platypus.createComponentClass({id:"CameraFollowMe",properties:{camera:{},mode:"forward",pause:!1},initialize:function(){this.pauseGame=this.pause&&this.camera.time?{time:this.camera.time}:null,this.camera=t.setUp("entity",this.owner,"mode",this.camera.mode||this.mode,"top",this.camera.top,"left",this.camera.left,"offsetX",this.camera.offsetX,"offsetY",this.camera.offsetY,"width",this.camera.width,"height",this.camera.height,"time",this.camera.time)},events:{"follow-me":function(e){var i=null;i=e?t.setUp("entity",this.owner,"mode",e.mode||this.camera.mode,"top",e.top||this.camera.top,"left",e.left||this.camera.left,"offsetX",e.offsetX||this.camera.offsetX,"offsetY",e.offsetY||this.camera.offsetY,"width",e.width||this.camera.width,"height",e.height||this.camera.height,"time",e.time||this.camera.time):t.setUp(this.camera),this.pauseGame&&(this.owner.parent.triggerEvent("pause-logic",this.pauseGame),this.owner.parent.triggerEvent("pause-render",this.pauseGame)),this.owner.parent.triggerEvent("follow",i),i.recycle()}},methods:{destroy:function(){this.camera.recycle()}}})}(),function(){"use strict";var t,e=include("platypus.AABB"),i=include("platypus.CollisionShape"),n=include("platypus.Data"),r=include("platypus.DataMap"),o=include("platypus.Vector"),s=function(t,e,i){return"string"==typeof e?function(t,e,i,n){n.myType===e&&n.hitType===i&&this.owner.triggerEvent(t,n)}.bind(t,e,t.collisionType,i):Array.isArray(e)?function(t,e,i,n){var r=0;if(n.myType===e&&n.hitType===i)for(r=0;r<t.length;r++)this.owner.triggerEvent(t[r],n)}.bind(t,e,t.collisionType,i):function(t,e,i,n){var r=n.x,o=n.y;!n.entity||r||o||(r=n.entity.x-this.owner.x,o=n.entity.y-this.owner.y),n.myType===e&&n.hitType===i&&(o>0&&t.bottom?this.owner.trigger(t.bottom,n):o<0&&t.top&&this.owner.trigger(t.top,n),r>0&&t.right?this.owner.trigger(t.right,n):r<0&&t.left&&this.owner.trigger(t.left,n),t.all&&this.owner.trigger(t.all,n))}.bind(t,e,t.collisionType,i)},a=(t=function(){var t=function(t,e,i){var n=0,r=e.stuck;r&&(n=t.magnitude(),e.thatShape.owner&&Math.abs(r)>1&&(r*=.05),(!n||n>Math.abs(r))&&(e.vector.x&&(t.x=r,t.y=0),e.vector.y&&(t.x=0,t.y=r),i.stuckWith&&i.stuckWith.recycle(),i.stuckWith=o.setUp(e.thatShape.x,e.thatShape.y)))},e={position:null,unstick:null};return function(i,n){var r=n.xData[0],s=n.yData[0],a=e,c=null;r&&(c=o.setUp(0,0,0),t(c,r,this)),s&&(c=c||o.setUp(0,0,0),t(c,s,this)),a.position=i,a.unstick=c,this.triggerEvent("relocate-entity",a),c&&c.recycle()}}(),function(i,o){var s=o.collisionFunctions;s||(s=o.collisionFunctions=r.setUp(),o.aabb=e.setUp(),o.getAABB=function(t,e,i){var n=e.keys,r=n.length,o=null;if(i)return(o=e.get(i))?o.getAABB():null;for(t.reset();r--;)t.include(e.get(n[r]).getAABB());return t}.bind(o,o.aabb,s),o.getPreviousAABB=function(t,e){var i=t.get(e);return i?i.getPreviousAABB():null}.bind(o,s),o.getShapes=function(t,e){var i=t.get(e);return i?i.getShapes():null}.bind(o,s),o.getPrevShapes=function(t,e){var i=t.get(e);return i?i.getPrevShapes():null}.bind(o,s),o.prepareCollision=function(t,e,i){for(var n=t.keys,r=n.length;r--;)t.get(n[r]).prepareCollision(e,i)}.bind(o,s),o.relocateEntity=t.bind(o),o.movePreviousX=function(t,e){for(var i=t.keys,n=i.length;n--;)t.get(i[n]).movePreviousX(e)}.bind(o,s),o.getCollisionTypes=function(){return this.collisionTypes}.bind(o),o.getSolidCollisions=function(){return this.solidCollisionMap}.bind(o)),s.set(i.collisionType,n.setUp("getAABB",function(){return this.getAABB()}.bind(i),"getPreviousAABB",function(){return this.getPreviousAABB()}.bind(i),"getShapes",function(){return this.getShapes()}.bind(i),"getPrevShapes",function(){return this.getPrevShapes()}.bind(i),"prepareCollision",function(t,e){this.prepareCollision(t,e)}.bind(i),"movePreviousX",function(t){this.movePreviousX(t)}.bind(i)))});platypus.createComponentClass({id:"CollisionBasic",properties:{collisionType:"none",shapeType:"rectangle",ignoreOrientation:!1,regX:null,regY:null,width:0,height:0,radius:0,softCollisions:null,solidCollisions:null,margin:0,shapes:null},publicProperties:{immobile:!1,bullet:!1,jumpThrough:!1},initialize:function(t){var n=null,c=0,u="",l=null,h=this.regX,_=this.regY,p=this.width,d=this.height,f=this.radius,b=0,m=0,g=0,y=0;for("number"==typeof this.margin?(b=this.margin,m=this.margin,g=this.margin,y=this.margin):(b=this.margin.left||0,m=this.margin.right||0,g=this.margin.top||0,y=this.margin.bottom||0),null===h&&(h=this.regX=p/2),null===_&&(_=this.regY=d/2),o.assign(this.owner,"position","x","y","z"),o.assign(this.owner,"previousPosition","previousX","previousY","previousZ"),this.owner.previousX=this.owner.previousX||this.owner.x,this.owner.previousY=this.owner.previousY||this.owner.y,this.aabb=e.setUp(),this.prevAABB=e.setUp(),this.shapes?l=this.shapes:"circle"===this.shapeType?(f=f||((p||0)+(d||0))/4,l=[{regX:(isNaN(h)?f:h)-(m-b)/2,regY:(isNaN(_)?f:_)-(y-g)/2,radius:f,type:this.shapeType}]):l=[{regX:(isNaN(h)?(p||0)/2:h)+b,regY:(isNaN(_)?(d||0)/2:_)+g,points:t.points,width:(p||0)+b+m,height:(d||0)+g+y,type:this.shapeType}],this.owner.collisionTypes=this.owner.collisionTypes||Array.setUp(),this.owner.collisionTypes.push(this.collisionType),this.shapes=Array.setUp(),this.prevShapes=Array.setUp(),this.entities=null,c=0;c<l.length;c++)this.shapes.push(i.setUp(this.owner,l[c],this.collisionType)),this.prevShapes.push(i.setUp(this.owner,l[c],this.collisionType)),this.prevAABB.include(this.prevShapes[c].aABB),this.aabb.include(this.shapes[c].aABB);if(a(this,this.owner),this.owner.solidCollisionMap=this.owner.solidCollisionMap||r.setUp(),n=this.owner.solidCollisionMap.set(this.collisionType,Array.setUp()),this.solidCollisions)for(u in this.solidCollisions)this.solidCollisions.hasOwnProperty(u)&&(n.push(u),this.solidCollisions[u]&&this.addEventListener("hit-by-"+u,s(this,this.solidCollisions[u],"solid")));if(this.owner.softCollisionMap=this.owner.softCollisionMap||r.setUp(),n=this.owner.softCollisionMap.set(this.collisionType,Array.setUp()),this.softCollisions)for(u in this.softCollisions)this.softCollisions.hasOwnProperty(u)&&(n.push(u),this.softCollisions[u]&&this.addEventListener("hit-by-"+u,s(this,this.softCollisions[u],"soft")));this.active=!0,this.stuck=!1},events:{"collide-on":function(t){var e=this.owner,i=this.collisionType,n=e.collisionTypes;this.active||"string"==typeof t&&t!==i||(-1===n.indexOf(i)&&n.push(i),e.parent.triggerEvent("add-collision-entity",e),this.active=!0)},"collide-off":function(t){var e=0,i=this.owner,n=i.parent,r=this.collisionType,o=i.collisionTypes;!this.active||"string"==typeof t&&t!==r||(n.triggerEvent("remove-collision-entity",i),(e=o.indexOf(r))>=0&&o.greenSplice(e),this.active=!1,o.length&&n.triggerEvent("add-collision-entity",i))},"relocate-entity":function(t){var e,i,n=t.unstick,r=0,o=0,s=this.aabb,a=this.owner,c=null,u=this.shapes;for(n&&(r=n.magnitude()),this.move&&(this.move.recycle(),this.move=null),t.relative?a.position.setVector(a.previousPosition).add(t.position):a.position.setVector(t.position),this.stuck&&(r>0?a.position.add(n):this.stuck=!1),e=a.x,i=a.y,s.reset(),o=u.length;o--;)(c=u[o]).update(e,i),s.include(c.aABB);a.previousPosition.setVector(a.position),r>0&&(this.stuck||(this.stuck=!0),this.move=a.stuckWith.copy().add(-e,-i).normalize())},"handle-logic":function(){this.move&&this.owner.position.add(this.move)},"orientation-updated":function(t){var e=0;if(!this.ignoreOrientation)for(e=0;e<this.shapes.length;e++)this.shapes[e].multiply(t)}},methods:{getAABB:function(){return this.aabb},getPreviousAABB:function(){return this.prevAABB},getShapes:function(){return this.shapes},getPrevShapes:function(){return this.prevShapes},prepareCollision:function(t,e){var i=0,n=null,r=this.shapes,o=this.prevShapes,s=this.aabb;for(this.owner.x=t,this.owner.y=e,this.prevShapes=r,this.shapes=o,this.prevAABB.set(s),s.reset(),i=o.length;i--;)(n=o[i]).update(t,e),s.include(n.aABB)},movePreviousX:function(t){var e=0;for(this.prevAABB.moveX(t),e=0;e<this.prevShapes.length;e++)this.prevShapes[e].setXWithEntityX(t)},destroy:function(){var t=this.owner.collisionFunctions,e=this.collisionType,i=this.owner.collisionTypes.indexOf(e),n=this.owner;for(n.parent.triggerEvent("remove-collision-entity",n),this.aabb.recycle(),delete this.aabb,this.prevAABB.recycle(),delete this.prevAABB,i>=0&&n.collisionTypes.greenSplice(i),n.solidCollisionMap.has(e)&&n.solidCollisionMap.delete(e).recycle(),n.softCollisionMap.has(e)&&n.softCollisionMap.delete(e).recycle(),t.delete(e).recycle(),i=this.shapes.length;i--;)this.shapes[i].recycle(),this.prevShapes[i].recycle();this.shapes.recycle(),this.prevShapes.recycle(),delete this.shapes,delete this.prevShapes,delete this.entities,n.collisionTypes.length?n.parent.triggerEvent("add-collision-entity",n):(t.recycle(),n.collisionFunctions=null,n.solidCollisionMap.recycle(),n.solidCollisionMap=null,n.softCollisionMap.recycle(),n.softCollisionMap=null,n.aabb.recycle(),n.aabb=null)}}})}(),function(){"use strict";var t=function(t,e,i){this.state.get(t)&&this.trigger(e,i)},e=function(t,e,i){this.state.get(t)||this.trigger(e,i)};platypus.createComponentClass({id:"CollisionFilter",properties:{collisions:{},state:""},initialize:function(){var i="",n=this.collisions,r=this.state;if(n)if("!"===r[0])for(i in r=r.substring(1),n)n.hasOwnProperty(i)&&this.addEventListener(i,e.bind(this.owner,r,n[i]));else for(i in n)n.hasOwnProperty(i)&&this.addEventListener(i,t.bind(this.owner,r,n[i]))}})}(),function(){"use strict";var t=include("platypus.AABB"),e=include("platypus.DataMap"),i=include("platypus.Vector");platypus.createComponentClass({id:"CollisionGroup",initialize:function(){this.solidEntities=Array.setUp(),this.collisionTypes=Array.setUp(),this.shapes=Array.setUp(),this.prevShapes=Array.setUp(),this.terrain=null,this.aabb=t.setUp(this.owner.x,this.owner.y),this.prevAABB=t.setUp(this.owner.x,this.owner.y),this.filteredAABB=t.setUp(),i.assign(this.owner,"position","x","y","z"),i.assign(this.owner,"previousPosition","previousX","previousY","previousZ"),this.owner.previousX=this.owner.previousX||this.owner.x,this.owner.previousY=this.owner.previousY||this.owner.y,this.collisionGroup=this.owner.collisionGroup={getAllEntities:function(){var t=0,e=0,i=null;for(t=0;t<this.solidEntities.length;t++)(i=this.solidEntities[t])!==this.owner&&i.collisionGroup?e+=i.collisionGroup.getAllEntities():e+=1;return e}.bind(this),getSize:function(){return this.solidEntities.length}.bind(this),getCollisionTypes:function(){return this.getCollisionTypes()}.bind(this),getSolidCollisions:function(){return this.getSolidCollisions()}.bind(this),getAABB:function(t){return this.getAABB(t)}.bind(this),getPreviousAABB:function(t){return this.getPreviousAABB(t)}.bind(this),getShapes:function(t){return this.getShapes(t)}.bind(this),getPrevShapes:function(t){return this.getPrevShapes(t)}.bind(this),prepareCollision:function(t,e){return this.prepareCollision(t,e)}.bind(this),relocateEntity:function(t,e){return this.relocateEntity(t,e)}.bind(this),movePreviousX:function(t){return this.movePreviousX(t)}.bind(this),getSolidEntities:function(){return this.solidEntities}.bind(this),jumpThrough:!1}},events:{"child-entity-added":function(t){this.addCollisionEntity(t)},"add-collision-entity":function(t){this.addCollisionEntity(t)},"child-entity-removed":function(t){this.removeCollisionEntity(t)},"remove-collision-entity":function(t){this.removeCollisionEntity(t)},"relocate-entity":function(){this.owner.previousPosition.setVector(this.owner.position),this.updateAABB()}},methods:{addCollisionEntity:function(t){var e=0,i=t.collisionTypes;if(i){for(e=i.length;e--;)t.solidCollisionMap.get(i[e]).length&&!t.immobile&&(this.solidEntities[this.solidEntities.length]=t);this.updateAABB()}},removeCollisionEntity:function(t){var e=0,i=0,n=t.collisionTypes;if(n){for(i=n.length;i--;)t.solidCollisionMap.get(n[i]).length&&(e=this.solidEntities.indexOf(t))>=0&&this.solidEntities.greenSplice(e);this.updateAABB()}},getCollisionTypes:function(){var t=null,e=this.collisionTypes,i=this.solidEntities,n=i.length;for(e.length=0;n--;)(t=i[n])!==this.owner&&t.collisionGroup&&(t=t.collisionGroup),e.union(t.getCollisionTypes());return e},getSolidCollisions:function(){var t=0,i="",n=null,r=null,o=e.setUp(),s=null,a=0,c=null,u=null,l=!1;for(t=0;t<this.solidEntities.length;t++){for(l=!1,(r=this.solidEntities[t])!==this.owner&&r.collisionGroup&&(r=r.collisionGroup,l=!0),a=(n=(s=r.getSolidCollisions()).keys).length;a--;)i=n[a],c=o.get(i),u=s.get(i),c||(c=o.set(i,Array.setUp())),c.union(u),l&&u.recycle();l&&s.recycle()}return o},getAABB:function(t){var e=0,i=this.filteredAABB,n=null,r=null,o=this.solidEntities;if(t){for(i.reset(),e=o.length;e--;)(n=o[e])!==this.owner&&n.collisionGroup&&(n=n.collisionGroup),(r=n.getAABB(t))&&i.include(r);return i}return this.aabb},getPreviousAABB:function(t){var e=0,i=this.filteredAABB,n=null,r=null,o=this.solidEntities;if(t){for(i.reset(),e=o.length;e--;)(n=o[e])!==this.owner&&n.collisionGroup&&(n=n.collisionGroup),(r=n.getPreviousAABB(t))&&i.include(r);return i}return this.prevAABB},updateAABB:function(){var t=this.aabb,e=this.solidEntities,i=null,n=e.length,r=this.owner;for(t.reset();n--;)i=e[n],t.include(i!==r&&i.getCollisionGroupAABB?i.getCollisionGroupAABB():i.getAABB())},getShapes:function(t){var e=0,i=null,n=this.shapes,r=null;for(n.length=0,e=0;e<this.solidEntities.length;e++)(i=this.solidEntities[e])!==this.owner&&i.collisionGroup&&(i=i.collisionGroup),(r=i.getShapes(t))&&n.union(r);return n},getPrevShapes:function(t){var e=0,i=null,n=null,r=this.prevShapes;for(r.length=0,e=0;e<this.solidEntities.length;e++)(i=this.solidEntities[e])!==this.owner&&i.collisionGroup&&(i=i.collisionGroup),(n=i.getPrevShapes(t))&&r.union(n);return r},prepareCollision:function(t,e){var i=0,n=null,r=0,o=0;for(i=0;i<this.solidEntities.length;i++)(n=this.solidEntities[i]).saveDX=n.x-n.previousX,n.saveDY=n.y-n.previousY,r=n.saveOX=this.owner.previousX-n.previousX,o=n.saveOY=this.owner.previousY-n.previousY,n!==this.owner&&n.collisionGroup&&(n=n.collisionGroup),n.prepareCollision(t-r,e-o)},movePreviousX:function(t){var e=null,i=0,n=0;for(n=0;n<this.solidEntities.length;n++)i=(e=this.solidEntities[n]).saveOX,e!==this.owner&&e.collisionGroup&&(e=e.collisionGroup),e.movePreviousX(t-i)},relocateEntity:function(t,e){var n=null,r=null,o=0,s=null,a=this.owner,c=this.solidEntities,u=null;for(a.saveDX-=t.x-a.previousX,a.saveDY-=t.y-a.previousY,o=(s=e.xData).length;o--;)if(s[o].thisShape.owner===a){a.saveDX=0;break}for(o=(s=e.yData).length;o--;)if(s[o].thisShape.owner===a){a.saveDY=0;break}for(o=0;o<c.length;o++)(n=r=c[o])!==a&&n.collisionGroup&&(n=n.collisionGroup),u=i.setUp(t.x-r.saveOX,t.y-r.saveOY,n.z),n.relocateEntity(u,e),u.recycle(),r.x+=r.saveDX,r.y+=r.saveDY,r!==a&&(r.x+=a.saveDX,r.y+=a.saveDY)},destroy:function(){this.solidEntities.recycle(),this.collisionTypes.recycle(),this.shapes.recycle(),this.prevShapes.recycle(),this.aabb.recycle(),this.prevAABB.recycle(),this.filteredAABB.recycle()}},publicMethods:{getCollisionGroupAABB:function(){return this.getAABB()},getWorldEntities:function(){return this.owner.parent.getWorldEntities()},getWorldTerrain:function(){return this.owner.parent.getWorldTerrain()}}})}(),function(){"use strict";var t=include("platypus.AABB"),e=include("platypus.CollisionShape"),i=include("platypus.Data"),n=536870912,r=2147483648,o=1073741824,s=268435455,a=function(){return this.collisionType},c=function(t){return this.collisionTypeMap[t&s]||this.collisionType},u=function(t){return 0===t?t:t^o^n},l=function(t){return 0===t?t:t^r^n},h=function(t){return 0===t?t:t^r},_=function(t){return 0===t?t:t^o},p=function(t){return 0===t?t:n&t?t^o^n:t^r^n},d=function(t){return 0===t?t:t^r^o},f=function(t){return 0===t?t:n&t?t^r^n:t^o^n},b=function(t,e,i,n,r){var o=0,s=0,a=Array.setUp();for(s=0;s<r;s++)for(a[s]=Array.setUp(),o=0;o<n;o++)a[s][o]=t[e+o][i+s];return a},m={diagonal:function(t,e,i,n,r){var o=b(t,e,i,n,r),s=u,a=0,c=0;for(a=0;a<n;a++)for(c=0;c<r;c++)t[e+a][i+c]=s(o[a][c]);return o.recycle(2),t},"diagonal-inverse":function(t,e,i,n,r){var o=b(t,e,i,n,r),s=l,a=0,c=0;for(a=0;a<n;a++)for(c=0;c<r;c++)t[e+n-a-1][i+r-c-1]=s(o[a][c]);return o.recycle(2),t},horizontal:function(t,e,i,n,r){var o=b(t,e,i,n,r),s=h,a=0,c=0;for(c=0;c<r;c++)for(a=0;a<n;a++)t[e+n-a-1][i+c]=s(o[c][a]);return o.recycle(2),t},vertical:function(t,e,i,n,r){var o=b(t,e,i,n,r),s=_,a=0,c=0;for(c=0;c<r;c++)for(a=0;a<n;a++)t[e+a][i+r-c-1]=s(o[c][a]);return o.recycle(2),t},"rotate-90":function(t,e,i,n,r){var o=b(t,e,i,n,r),s=p,a=0,c=0;for(c=0;c<r;c++)for(a=0;a<n;a++)t[e+r-c-1][i+a]=s(o[c][a]);return o.recycle(2),t},"rotate-180":function(t,e,i,n,r){var o=b(t,e,i,n,r),s=d,a=0,c=0;for(c=0;c<r;c++)for(a=0;a<n;a++)t[e+n-a-1][i+r-c-1]=s(o[c][a]);return o.recycle(2),t},"rotate-270":function(t,e,i,n,r){var o=b(t,e,i,n,r),s=f,a=0,c=0;for(c=0;c<r;c++)for(a=0;a<n;a++)t[e+c][i+n-a-1]=s(o[c][a]);return o.recycle(2),t},translate:function(t,e,i,n,r,o,s){var a=function(t,e,i,n,r){var o=0,s=0,a=Array.setUp();for(s=0;s<r;s++)for(a[s]=Array.setUp(),o=0;o<n;o++)a[s][o]=t[e+o][i+s],t[e+o][i+s]=-1;return a}(t,e,i,n,r),c=0,u=0;for(u=0;u<r;u++)for(c=0;c<n;c++)t[e+c+o][i+u+s]=a[u][c];return a.recycle(2),t}};platypus.createComponentClass({id:"CollisionTiles",properties:{collisionTypeMap:null,collisionType:"tiles",top:0,left:0},publicProperties:{collisionMap:[],tileWidth:10,tileHeight:10},initialize:function(){this.tileOffsetLeft=this.tileWidth/2+this.left,this.tileOffsetTop=this.tileHeight/2+this.top,this.columns=this.collisionMap.length,this.rows=this.collisionMap[0].length,this.shapeDefinition=i.setUp("x",0,"y",0,"type","rectangle","width",this.tileWidth,"height",this.tileHeight),this.storedTiles=Array.setUp(),this.serveTiles=Array.setUp(),this.storedTileIndex=0,this.aabb=t.setUp(),this.aabb.setBounds(this.left,this.top,this.tileWidth*this.columns+this.left,this.tileHeight*this.rows+this.top),this.collisionTypeMap?this.getType=c:this.getType=a},events:{transform:function(t){this.transform(t)},translate:function(t){this.translate(t)}},methods:{getShape:function(t,i,n){var r=this.storedTileIndex,o=null,s=this.storedTiles;return r===s.length?(o=e.setUp(null,this.shapeDefinition,n),s.push(o)):(o=s[r]).collisionType=n,o.update(t*this.tileWidth+this.tileOffsetLeft,i*this.tileHeight+this.tileOffsetTop),this.storedTileIndex+=1,o},addShape:function(t,e,i,a,c){var u=this.collisionMap[i][a],l=u&s,h=268435456,_=n,p=r,d=o;return u&&this.getType(l)===c&&((h&=u)?(d&=u,(_&=u)&&(p&=u)?e.left>=(i+1)*this.tileWidth+this.left&&t.push(this.getShape(i,a,c)):_?e.right<=i*this.tileWidth+this.left&&t.push(this.getShape(i,a,c)):d?e.top>=(a+1)*this.tileHeight+this.top&&t.push(this.getShape(i,a,c)):e.bottom<=a*this.tileHeight+this.top&&t.push(this.getShape(i,a,c))):t.push(this.getShape(i,a,c))),t},destroy:function(){var t=this.storedTiles,e=t.length;for(this.shapeDefinition.recycle(),delete this.shapeDefinition;e--;)t[e].recycle();t.recycle(),delete this.storedTiles,this.serveTiles.recycle(),delete this.serveTiles,this.aabb.recycle(),delete this.aabb}},publicMethods:{getAABB:function(){return this.aabb},isTile:function(t,e){return!(t<0||e<0||t>=this.columns||e>=this.rows||-1===this.collisionMap[t][e])},getTileShapes:function(t,e,i){var n=i||"tiles",r=this.left,o=this.top,s=this.tileHeight,a=this.tileWidth,c=Math.max(Math.floor((t.left-r)/a),0),u=Math.max(Math.floor((t.top-o)/s),0),l=Math.min(Math.ceil((t.right-r)/a),this.columns),h=Math.min(Math.ceil((t.bottom-o)/s),this.rows),_=0,p=0,d=this.serveTiles;for(d.length=0,this.storedTileIndex=0,_=c;_<l;_++)for(p=u;p<h;p++)this.addShape(d,e,_,p,n);return d},transform:function(t){var e=t||{},i=e.left||0,n=e.top||0,r=e.width||this.rows,o=e.height||this.columns,s=e.type||"horizontal";return m[s]?m[s](this.collisionMap,i,n,r,o):null},translate:function(t){var e=t||{},i=e.left||0,n=e.top||0,r=e.width||this.rows,o=e.height||this.columns,s=e.dx||0,a=e.dy||0;return m.translate(this.collisionMap,i,n,r,o,s,a)},getCollisionMatrix:function(t,e,i,n){return b(this.collisionMap,t,e,i,n)},setCollisionMatrix:function(t,e,i,n,r){return function(t,e,i,n,r,o){var s=0,a=0;for(a=0;a<o;a++)for(s=0;s<r;s++)t[i+s][n+a]=e[a][s];return t}(this.collisionMap,t,e,i,n,r)}}})}(),function(){"use strict";var t=function(t){this.switches.push(t)};platypus.createComponentClass({id:"ComponentSwitcher",properties:{componentMap:null},initialize:function(){var e="";if(this.switches=Array.setUp(),this.componentMap)for(e in this.componentMap)this.componentMap.hasOwnProperty(e)&&this.addEventListener(e,t.bind(this,e))},events:{"prepare-logic":function(){var t=0;if(this.switches.length){for(t=0;t<this.switches.length;t++)this.switchComponents(this.componentMap[this.switches[t]]);this.switches.length=0}}},methods:{switchComponents:function(t){var e=0,i=0,n=this.owner,r=n.components,o=t.remove,s=t.add;if(o)if(Array.isArray(o))for(e=0;e<o.length;e++)for(i=r.length-1;i>-1;i--)r[i].type===o[e]&&n.removeComponent(r[i]);else for(e=r.length-1;e>-1;e--)r[e].type===o&&n.removeComponent(r[e]);if(s)if(Array.isArray(s))for(e=0;e<s.length;e++)n.addComponent(new platypus.components[s[e].type](n,s[e]));else n.addComponent(new platypus.components[s.type](n,s));n.parent.triggerEvent("child-entity-updated",n),n.triggerEvent("add-remove-component-complete")},destroy:function(){this.switches.recycle()}},getAssetList:function(t,e,i){var n=t.componentMap||e.componentMap||i.componentMap,r="",o=0,s=null,a=Array.setUp(),c=null;for(r in n)if(n.hasOwnProperty(r))for(o=0;o<n[r].add.length;o++)(s=platypus.components[n[r].add[o].type])&&(c=s.getAssetList(n[r].add[o],e,i),a.union(c),c.recycle());return a}})}(),function(){"use strict";var t=include("platypus.Data");platypus.createComponentClass({id:"Counter",publicProperties:{total:0},initialize:function(){this.count=0,this.lastTotal=0,this.lastCount=0,this.message=t.setUp("text","")},events:{"handle-logic":function(){var t=!1,e=this.message;this.total!==this.lastTotal&&(this.lastTotal=this.total,t=!0),this.count!==this.lastCount&&(this.lastCount=this.count,t=!0),t&&(this.total?e.text=String(this.count)+"/"+String(this.total):e.text=String(this.count),this.owner.triggerEvent("update-content",e))},"change-total":function(t){this.total=t},"change-count":function(t){this.count=t},"increment-count":function(){this.count+=1}},methods:{destroy:function(){this.message.recycle()}}})}(),function(){"use strict";var t=include("platypus.Data"),e=include("platypus.Entity");platypus.createComponentClass({id:"EntityContainer",properties:{childEvents:[]},initialize:function(){var t=function(t,e){this.addEntity(t,e)};return function(e,i){var n,r=0,o=this.childEvents,s=null;for(this.newAdds=Array.setUp(),n=e.entities&&this.owner.entities?e.entities.concat(this.owner.entities):e.entities||this.owner.entities||null,this.owner.entities=this.entities=Array.setUp(),this.childEvents=Array.setUp(),r=0;r<o.length;r++)this.addNewPublicEvent(o[r]);if(this.addNewPrivateEvent("peer-entity-added"),this.addNewPrivateEvent("peer-entity-removed"),n){for(s=Array.setUp(),r=0;r<n.length;r++)s.push(t.bind(this,n[r]));return platypus.Async.setUp(s,function(){i()}),s.recycle(),!0}return!1}}(),events:{"add-entity":function(t,e){this.addEntity(t,e)},"remove-entity":function(t){this.removeEntity(t)},"child-entity-updated":function(t){this.updateChildEventListeners(t)},"logic-tick":function(){var t=null,e=this.newAdds,i=e.length,n=0,r=null;if(i){for(r=Array.setUp(),n=0;n<i;n++)((t=e[n]).destroyed||!t.loadingComponents||t.loadingComponents.attemptResolution())&&r.push(n);for(n=r.length;n--;)e.greenSplice(r[n]);r.recycle()}}},methods:{addNewPublicEvent:function(t){var e=0;for(this.addNewPrivateEvent(t),e=0;e<this.childEvents.length;e++)if(this.childEvents[e]===t)return!1;return this.childEvents.push(t),this.addEventListener(t,function(t){return function(e,i){this.triggerOnChildren(t,e,i)}}(t)),!0},addNewPrivateEvent:function(t){var e=0,i=0;if(this._listeners[t])return!1;for(this._listeners[t]=Array.setUp(),e=0;e<this.entities.length;e++)if(this.entities[e]._listeners[t])for(i=0;i<this.entities[e]._listeners[t].length;i++)this.addChildEventListener(this.entities[e],t,this.entities[e]._listeners[t][i]);return!0},updateChildEventListeners:function(t){this.removeChildEventListeners(t),this.addChildEventListeners(t)},addChildEventListeners:function(t){var e=0,i="";for(i in this._listeners)if(this._listeners.hasOwnProperty(i)&&t._listeners[i])for(e=0;e<t._listeners[i].length;e++)this.addChildEventListener(t,i,t._listeners[i][e])},removeChildEventListeners:function(t){var e=0,i=null,n=null;if(t.containerListener){for(i=t.containerListener.events,n=t.containerListener.messages,e=0;e<i.length;e++)this.removeChildEventListener(t,i[e],n[e]);i.recycle(),n.recycle(),t.containerListener.recycle(),t.containerListener=null}},addChildEventListener:function(e,i,n){e.containerListener||(e.containerListener=t.setUp("events",Array.setUp(),"messages",Array.setUp())),e.containerListener.events.push(i),e.containerListener.messages.push(n),this.on(i,n,n._priority||0)},removeChildEventListener:function(t,e,i){var n=0,r=t.containerListener.events,o=t.containerListener.messages;for(n=0;n<r.length;n++)r[n]!==e||i&&o[n]!==i||this.off(e,o[n])},destroy:function(){for(var t=this.entities.greenSlice(),e=t.length,i=null;e--;)i=t[e],this.removeChildEventListeners(i),i.destroy();t.recycle(),this.entities.recycle(),delete this.owner.entities,this.childEvents.recycle(),this.newAdds.recycle(),this.newAdds=null}},publicMethods:{getEntityById:function(t){var e=0,i=null;for(e=0;e<this.entities.length;e++){if(this.entities[e].id===t)return this.entities[e];if(this.entities[e].getEntityById&&(i=this.entities[e].getEntityById(t)))return i}return null},getEntitiesByType:function(t){var e=0,i=null,n=Array.setUp();for(e=0;e<this.entities.length;e++)this.entities[e].type===t&&n.push(this.entities[e]),this.entities[e].getEntitiesByType&&(i=this.entities[e].getEntitiesByType(t),n.union(i),i.recycle());return n},addEntity:function(){var t=function(t,e){var i=this.owner,n=this.entities,r=n.length;for(e.triggerEvent("adopted",e);r--&&e.triggerEvent("peer-entity-added",n[r]););this.triggerEventOnChildren("peer-entity-added",e),this.addChildEventListeners(e),n.push(e),i.triggerEvent("child-entity-added",e),t&&t(e)};return function(i,n){var r=null,o=this.owner;return i instanceof e?((r=i).parent=o,t.call(this,n,r)):(r="string"==typeof i?new e(platypus.game.settings.entities[i],null,t.bind(this,n),o):i.id?new e(i,null,t.bind(this,n),o):new e(platypus.game.settings.entities[i.type],i,t.bind(this,n),o),this.owner.triggerEvent("entity-created",r)),this.newAdds.push(r),r}}(),removeEntity:function(t){var e=this.entities.indexOf(t);return e>=0&&(this.removeChildEventListeners(t),this.entities.greenSplice(e),this.triggerEventOnChildren("peer-entity-removed",t),this.owner.triggerEvent("child-entity-removed",t),t.destroy(),t.parent=null,t)},triggerEventOnChildren:function(t,e,i){return this.destroyed?0:(this._listeners[t]||this.addNewPrivateEvent(t),this.triggerEvent(t,e,i))},triggerOnChildren:function(t){return this.destroyed?0:(this._listeners[t]||this.addNewPrivateEvent(t),this.trigger.apply(this,arguments))}},getAssetList:function(t,i,n){var r=0,o=Array.setUp(),s=Array.setUp(),a=null;for(t.entities&&s.union(t.entities),i&&i.entities?s.union(i.entities):n&&n.entities&&s.union(n.entities),r=0;r<s.length;r++)a=e.getAssetList(s[r]),o.union(a),a.recycle();return s.recycle(),o}},platypus.Messenger)}(),function(){"use strict";var t=include("platypus.ActionState"),e=include("platypus.Data"),i=include("platypus.DataMap"),n=include("platypus.StateMap"),r=[null,null,null,null,["east","south","west","north"],null,null,null,["east","southeast","south","southwest","west","northwest","north","northeast"],null,null,null,null,null,null,null,["east","east-southeast","southeast","south-southeast","south","south-southwest","southwest","west-southwest","west","west-northwest","northwest","north-northwest","north","north-northeast","northeast","east-northeast"]],o=["left-button","middle-button","right-button"];platypus.createComponentClass({id:"EntityController",properties:{controlMap:{},joystick:null,stateMaps:{}},publicProperties:{paused:!1},initialize:function(t){var r="",o=null;if(this.actions=i.setUp(),this.stateMaps)for(r in this.stateMaps)this.stateMaps.hasOwnProperty(r)&&(o=n.setUp(r),this.addMap(this.stateMaps[r],r,o),o.recycle());this.addMap(this.controlMap,"default"),t.joystick&&(this.joystick=e.setUp("directions",t.joystick.directions||4,"handleEdge",t.joystick.handleEdge||!1,"innerRadius",t.joystick.innerRadius||0,"outerRadius",t.joystick.outerRadius||1/0))},events:{"handle-controller":function(){for(var t=this.actions,e=t.keys,i=e.length,n="",r=Array.setUp(),o=this.owner.state;i--;)(n=t.get(e[i])).update(o)&&r.push(n);for(i=r.length;i--;)r[i].resolve();r.recycle()},pointerdown:function(t){"mouse"===t.pixiEvent.data.pointerType&&this.owner.triggerEvent("mouse:"+o[t.event.button||0]+":down",t.event),this.joystick&&(this.owner.triggerEvent("joystick:down",t.event),this.handleJoy(t))},pressup:function(t){var e=this.owner;"mouse"===t.pixiEvent.data.pointerType&&e.triggerEvent("mouse:"+o[t.event.button||0]+":up",t.event),this.joystick&&(e.triggerEvent("joystick:up",t.event),e.triggerEvent("stop"))},pressmove:function(t){this.joystick&&this.handleJoy(t)},"pause-controls":function(){this.paused=!0},"unpause-controls":function(){this.paused=!1}},methods:{handleJoy:function(t){var e=this.joystick,i=this.owner,n=Math.PI/(e.directions/2),o=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}(i,t),s=0,a="",c="";o>e.outerRadius||o<e.innerRadius||this.paused||(s=function(t,e,i){var n=e.x-t.x,r=e.y-t.y,o=0,s=2*Math.PI;return i?(o=Math.acos(n/i),r<0&&(o=s-o),o):o}(i,t,o),a=r[e.directions][Math.floor((s+n/2)%(2*Math.PI)/n)],e.handleEdge&&(n=Math.PI/e.directions,(c=r[2*e.directions][Math.floor((s+n/2)%(2*Math.PI)/n)])!==a&&i.triggerEvent(c.replace(a,"").replace("-",""),t)),i.triggerEvent("stop"),i.triggerEvent(a,t),i.triggerEvent("joystick-orientation",s))},addController:function(e,i,n,r,o){var s=this.actions,a=i+"-"+n+"-"+(o||"all"),c=s.get(a);c||(c=o?s.set(a,t.setUp(n,r,function(t,e,i){!this.paused&&i[t]&&this.owner.trigger(e,i)}.bind(this,o))):s.set(a,t.setUp(n,r,function(t,e){this.paused||this.owner.trigger(t,e)}.bind(this)))),this.addEventListener(e+":up",function(t){this.inputs[t]=!1}.bind(c,c.inputs.length)),this.addEventListener(e+":down",function(t){this.inputs[t]=!0}.bind(c,c.inputs.length)),c.inputs.push(!1)},addMap:function(t,e,i){var n=null,r=0,o="",s="";for(s in t)if(t.hasOwnProperty(s))if("string"==typeof(n=t[s]))this.addController(s,e,n,i);else if(Array.isArray(n))for(r=0;r<n.length;r++)this.addController(s,e,n[r],i);else for(o in n)if(n.hasOwnProperty(o))if("string"==typeof n[o])this.addController(s,e,n[o],i,o);else for(r=0;r<n[o].length;r++)this.addController(s,e,n[o][r],i,o)},destroy:function(){for(var t=this.actions,e=t.keys,i=e.length;i--;)t.get(e[i]).recycle();t.recycle(),this.joystick&&this.joystick.recycle()}}})}(),function(){"use strict";var t=include("platypus.AABB"),e=include("platypus.CollisionData"),i=include("platypus.CollisionDataContainer"),n=include("platypus.Data"),r=include("platypus.DataMap"),o=include("platypus.Vector"),s=function(t,e){return t<<16|65535&e},a=function(t,e,i){return s(t>>i,e>>i)},c={entity:null,target:null,type:null,x:0,y:0,hitType:null,myType:null},u=function(t,e){return t.collisionGroup.getAllEntities()-e.collisionGroup.getAllEntities()};platypus.createComponentClass({id:"HandlerCollision",properties:{gridBits:8},initialize:function(){this.againstGrid=n.setUp(),this.solidEntitiesLive=Array.setUp(),this.softEntitiesLive=Array.setUp(),this.allEntitiesLive=Array.setUp(),this.groupsLive=Array.setUp(),this.nonColliders=Array.setUp(),this.terrain=null,this.owner.previousX=this.owner.previousX||this.owner.x,this.owner.previousY=this.owner.previousY||this.owner.y,this.relocationMessage=n.setUp("position",o.setUp(),"relative",!1)},events:{"child-entity-added":function(t){t.collideOff||this.addCollisionEntity(t)},"add-collision-entity":function(t){this.addCollisionEntity(t)},"child-entity-removed":function(t){this.removeCollisionEntity(t)},"remove-collision-entity":function(t){this.removeCollisionEntity(t)},"child-entity-updated":function(t){this.removeCollisionEntity(t),this.addCollisionEntity(t)},"check-collision-group":function(t){this.checkCamera(t.camera,t.entities),this.checkGroupCollisions(),this.checkSolidCollisions(),this.resolveNonCollisions(),this.checkSoftCollisions(t)}},methods:{mapDown:function(e){var i=t.setUp(),n=this.gridBits;return i.setBounds(e.left>>n,e.top>>n,e.right>>n,e.bottom>>n)},getAgainstGrid:function(t,e,i){var r=this.mapDown(e),o=null,a=n.setUp(),c=0,u=null,l=this.againstGrid,h=null,_="",p=0,d=0;if(t&&e.equals(t.againstAABB))return this.getEntityAgainstGrid(t,i);for(p=r.left;p<=r.right;p++)for(d=r.top;d<=r.bottom;d++)if(u=l[s(p,d)])for(c=i.length;c--;)_=i[c],(o=u.get(_))&&o.length&&((h=a[_])?h.union(o):a[_]=Array.setUp.apply(null,o));return r.recycle(),a},getEntityAgainstGrid:function(t,e){for(var i=t.againstGrid,r=null,o=n.setUp(),s=i.length,a=0,c=null,u=null,l="";s--;)for(c=i[s],a=e.length;a--;)l=e[a],(r=c.get(l))&&r.length&&((u=o[l])?u.union(r):o[l]=Array.setUp.apply(null,r));return o},removeAgainst:function(t){for(var e=t.againstGrid,i=t.collisionTypes,n=null,r=e.length,o=0,s=0,a=i.length,c=null;r--;)for(c=e[r],o=a;o--;)(n=c.get(i[o]))&&(s=n.indexOf(t))>=0&&n.greenSplice(s);e.length=0},updateAgainst:function(t){var e=null,i=0,n="",o=t.collisionTypes,a=this.mapDown(t.getAABB()),c=t.againstGrid,u=0,l=null,h=this.againstGrid,_=0,p=0;if(!a.equals(t.againstAABB))for(t.againstAABB.set(a),this.removeAgainst(t),_=a.left;_<=a.right;_++)for(p=a.top;p<=a.bottom;p++){for((l=h[u=s(_,p)])||(l=h[u]=r.setUp()),i=o.length;i--;)n=o[i],(e=l.get(n))||(e=l.set(n,Array.setUp())),e.push(t);c.push(l)}a.recycle()},addCollisionEntity:function(e){e.getTileShapes?this.terrain=e:e.collisionTypes&&!e.againstGrid&&(e.againstGrid=Array.setUp(),e.againstAABB=t.setUp(),this.updateAgainst(e))},removeCollisionEntity:function(t){t.againstGrid&&(this.removeAgainst(t),t.againstGrid.recycle(),t.againstGrid=null,t.againstAABB.recycle(),t.againstAABB=null)},checkCamera:function(t,e){var i=e.length,n=0,r=this.allEntitiesLive,o=this.softEntitiesLive,s=this.solidEntitiesLive,a=this.nonColliders,c=this.groupsLive,l=null,h=null,_=!1;for(r.length=0,s.length=0,o.length=0,a.length=0,c.length=0;i--;)if(_=!1,h=(l=e[i]).collisionTypes,!l.immobile&&h&&h.length){if(r.push(l),l!==this.owner)for(n=h.length;n--;)if(l.solidCollisionMap.get(h[n]).length){s.push(l),_=!0;break}for(n=h.length;n--;)if(l.softCollisionMap.get(h[n]).length){o.push(l);break}_||a.push(l),l.collisionGroup&&c.push(l)}c.sort(u)},resolveNonCollisions:function(){var t=null,e=this.relocationMessage,i=this.nonColliders,n=i.length;for(e.relative=!1;n--;)(t=i[n]).position.x===t.previousPosition.x&&t.position.y===t.previousPosition.y||(e.position.setVector(t.position),t.triggerEvent("relocate-entity",e),this.updateAgainst(t))},checkGroupCollisions:function(){var t=function(t,e,i,n,r,o,s,a){var u=c;u.entity=e,u.target=t,u.myType=i,u.type=n,u.x=r,u.y=o,u.direction=a,u.hitType=s,t.triggerEvent("hit-by-"+n,u),e&&(u.entity=t,u.target=e,u.type=i,u.myType=n,u.x=-r,u.y=-o,u.direction=a.getInverse(),u.hitType=s,e.triggerEvent("hit-by-"+i,u),u.direction.recycle())};return function(){for(var e=0,i=this.groupsLive,n=i.length,r=null,o=null,s=null,a=null;n--;)if((r=i[n]).collisionGroup.getSize()>1){for(e=(o=(a=this.checkSolidEntityCollision(r,r.collisionGroup)).xData).length;e--;)s=o[e],t(s.thisShape.owner,s.thatShape.owner,s.thisShape.collisionType,s.thatShape.collisionType,s.direction,0,"solid",s.vector);for(e=(o=a.yData).length;e--;)s=o[e],t(s.thisShape.owner,s.thatShape.owner,s.thisShape.collisionType,s.thatShape.collisionType,0,s.direction,"solid",s.vector);a.recycle()}}}(),checkSolidCollisions:function(){var t=function(t,e,i,n,r,o,s,a){var u=c;u.entity=e,u.target=t,u.myType=i,u.type=n,u.x=r,u.y=o,u.direction=a,u.hitType=s,t.triggerEvent("hit-by-"+n,u),e&&(u.entity=t,u.target=e,u.type=i,u.myType=n,u.x=-r,u.y=-o,u.direction=a.getInverse(),u.hitType=s,e.triggerEvent("hit-by-"+i,u),u.direction.recycle())};return function(){for(var e=0,i=this.solidEntitiesLive,n=i.length,r=null,o=null,s=null,a=null,c=t;n--;){for(r=i[n],e=(o=(a=this.checkSolidEntityCollision(r,r)).xData).length;e--;)c((s=o[e]).thisShape.owner,s.thatShape.owner,s.thisShape.collisionType,s.thatShape.collisionType,s.direction,0,"solid",s.vector);for(e=(o=a.yData).length;e--;)c((s=o[e]).thisShape.owner,s.thatShape.owner,s.thisShape.collisionType,s.thatShape.collisionType,0,s.direction,"solid",s.vector);a.recycle()}}}(),checkSolidEntityCollision:function(t,e){var n=i.setUp(),r=0,s=null,a=null,c=t.previousX,u=t.previousY,l=t.x-c,h=t.y-u,_=1/0,p=1/0,d=e.getCollisionTypes(),f=0,b=!1,m=null;if(e.getSolidEntities&&(b=e.getSolidEntities()),s=o.setUp(t.position),l||h){if(t.bullet){for(m=Math.min,f=d.length;f--;)_=m(_,(a=e.getAABB(d[f])).width),p=m(p,a.height);for(l/=r=m(r=Math.ceil(Math.max(Math.abs(l)/_,Math.abs(h)/p)),100),h/=r;r--;){if(e.prepareCollision(t.previousX+l,t.previousY+h),(s=this.processCollisionStep(t,e,b,n,s.setVector(t.position),l,h,d)).x===t.previousX&&s.y===t.previousY){e.relocateEntity(s,n);break}e.relocateEntity(s,n)}}else e.prepareCollision(t.previousX+l,t.previousY+h),s=this.processCollisionStep(t,e,b,n,s,l,h,d),e.relocateEntity(s,n);s.x===c&&s.y===u||this.updateAgainst(t)}return s.recycle(),n},processCollisionStep:function(){var e=t.setUp(),i=function(t,e,i,n,r,o){var s=0;if(i===t)return!1;if(i.jumpThrough&&e.bottom>n.top)return!1;if(t.jumpThrough&&n.bottom>e.top)return!1;if(r)for(s=r.length;s--;)if(i===r[s])return!1;return o.collides(n)};return function(t,n,r,o,s,a,c,u){for(var l=u.length,h=0,_=0,p=0,d=i,f=!1,b=Array.setUp(),m=null,g=null,y=null,v=null,w=null,x="",T=null,S=null,A=this.terrain,C=null,E=n.getSolidCollisions(),P=null,D=e;l--;){for(b[l]=m=Array.setUp(),v=u[l],g=n.getPreviousAABB(v),y=n.getAABB(v),D.set(y),D.include(g),P=E.get(v),C=this.getAgainstGrid(t,D,P),h=P.length;h--;)if(S=C[x=P[h]]){for(_=S.length;_--;)if(d(t,g,w=S[_],w.getAABB(x),r,D)){for(p=(T=w.getShapes(x)).length;p--;)m.push(T[p]);f=!0}S.recycle()}else if(A)for(_=(T=A.getTileShapes(D,g,x)).length;_--;)m.push(T[_]),f=!0;C.recycle()}return f&&(s=this.resolveCollisionPosition(t,n,s,b,o,u,a,c)),b.recycle(2),s}}(),resolveCollisionPosition:function(t,e,i,n,r,o,s,a){var c=0,u=null;if(0!==s)for(c=o.length;c--;)(u=this.findMinAxisMovement(t,e,o[c],"x",n[c])).occurred&&r.tryToAddX(u)||u.recycle();if(u=r.xData[0],i.x=u?t.previousX+u.deltaMovement*u.direction:t.x,e.movePreviousX(i.x),0!==a)for(c=o.length;c--;)(u=this.findMinAxisMovement(t,e,o[c],"y",n[c])).occurred&&r.tryToAddY(u)||u.recycle();return u=r.yData[0],i.y=u?t.previousY+u.deltaMovement*u.direction:t.y,i},findMinAxisMovement:function(t,i,n,r,o){for(var s=e.setUp(),a=i.getShapes(n),c=i.getPrevShapes(n),u=null,l=a.length;l--;)(u=this.findMinShapeMovementCollision(c[l],a[l],r,o)).occurred&&(!s.occurred||u.deltaMovement<s.deltaMovement)?(s.recycle(),s=u):u.recycle();return s},findMinShapeMovementCollision:function(){var t={position:0,contactVector:o.setUp()},i=function(t,e){var i=Math.pow;return Math.sqrt(i(e,2)-i(t,2))},n=function(t,e,i){var n=t-e;return n-n/Math.abs(n)*i},r=function(t,e,r,o,s){var a=0,c=e.aABB,u=c.halfWidth,l=t.x,h=t.y;return h>=c.top&&h<=c.bottom?u+t.radius:(h=n(h,e.y,c.halfHeight),a=u+i(h,t.radius),r===t?(s.x=-n(l-o*a,e.x,u)/2,h=-h):s.x=n(l,e.x-o*a,u)/2,s.y=h,s.normalize(),a)},s=function(t,e,r,o,s){var a=0,c=e.aABB,u=c.halfHeight,l=t.x,h=t.y;return l>=c.left&&l<=c.right?u+t.radius:(l=n(l,e.x,c.halfWidth),a=u+i(l,t.radius),r===t?(l=-l,s.y=-n(h-o*a,e.y,u)/2):s.y=n(h,e.y-o*a,u)/2,s.x=l,s.normalize(),a)},a={x:{rectangle:{rectangle:function(e,i,n){var r=t;return r.position=n.x-e*(n.aABB.halfWidth+i.aABB.halfWidth),r.contactVector.setXYZ(e,0),r},circle:function(e,i,n){var o=t;return o.position=n.x-e*r(n,i,i,e,o.contactVector.setXYZ(e,0)),o}},circle:{rectangle:function(e,i,n){var o=t;return o.position=n.x-e*r(i,n,i,e,o.contactVector.setXYZ(e,0)),o},circle:function(e,n,r){var o=r.y-n.y,s=r.x-e*i(o,n.radius+r.radius),a=t;return a.contactVector.setXYZ(r.x-s,o).normalize(),a.position=s,a}}},y:{rectangle:{rectangle:function(e,i,n){var r=t;return r.position=n.y-e*(n.aABB.halfHeight+i.aABB.halfHeight),r.contactVector.setXYZ(0,e),r},circle:function(e,i,n){var r=t;return r.position=n.y-e*s(n,i,i,e,r.contactVector.setXYZ(0,e)),r}},circle:{rectangle:function(e,i,n){var r=t;return r.position=n.y-e*s(i,n,i,e,r.contactVector.setXYZ(0,e)),r},circle:function(e,n,r){var o=r.x-n.x,s=r.y-e*i(o,n.radius+r.radius),a=t;return a.contactVector.setXYZ(o,r.y-s).normalize(),a.position=s,a}}}};return function(t,i,n,r){var o=0,s=t[n],c=i[n],u=t,l=s<c?1:-1,h=c,_=null,p=e.setUp(),d=null,f=c,b=null;if(s!==c)for(b=a[n][u.type],"x"===n?u.moveX(c):"y"===n&&u.moveY(c),o=r.length;o--;)_=r[o],h=c,u.collides(_)&&(h=(d=b[_.type](l,u,_)).position,l>0?h<f&&(h<s&&(h=s),f=h,p.set(!0,l,f,Math.abs(f-s),_.aABB,i,_,d.contactVector,0)):h>f&&(h>s&&(h=s),f=h,p.set(!0,l,f,Math.abs(f-s),_.aABB,i,_,d.contactVector,0)));return p}}(),checkSoftCollisions:function(){var t=function(t){this.triggerEvent("hit-by-"+t.type,t)};return function(){for(var e=this.softEntitiesLive,i=null,n=e.length,r=t;n--;)i=e[n],this.checkEntityForSoftCollisions(i,r.bind(i))}}(),checkEntityForSoftCollisions:function(t,e){var i=null,n=null,r=c,o=t.collisionTypes.length,s=0,a=0,u=0,l=0,h=null,_=null,p=null,d=null,f=null,b=null,m=!1;for(r.x=0,r.y=0;o--;){for(h=t.collisionTypes[o],_=t.softCollisionMap.get(h),i=this.getEntityAgainstGrid(t,_),s=_.length;s--;)if(p=i[d=_[s]]){for(a=p.length;a--;)if((n=p[a])!==t&&t.getAABB(h).collides(n.getAABB(d)))for(m=!1,f=t.getShapes(h),b=n.getShapes(d),u=f.length;u--;){for(l=b.length;l--;)if(f[u].collides(b[l])){r.entity=n,r.target=t,r.type=d,r.myType=h,r.shape=b[l],r.hitType="soft",e(r),m=!0;break}if(m)break}p.recycle()}i.recycle()}},checkShapeForCollisions:function(t,e,i){var n=null,r=null,o=c,s=0,a=0,u=0,l=null,h=null,_=null;for(o.x=0,o.y=0,n=this.getAgainstGrid(null,t.getAABB(),e),s=e.length;s--;)if(l=n[h=e[s]]){for(a=l.length;a--;)if(r=l[a],t.getAABB().collides(r.getAABB(h)))for(u=(_=r.getShapes(h)).length;u--;)if(t.collides(_[u])){o.entity=r,o.target=null,o.type=h,o.myType="",o.shape=_[u],o.hitType="soft",i(o);break}l.recycle()}n.recycle()},checkPointForCollisions:function(t,e,i,n){var r=this.gridBits,o=this.againstGrid[a(t,e,r)],s=null,u=c,l=0,h=0,_=0,p=null,d=null,f=null;if(u.x=0,u.y=0,o)for(l=i.length;l--;)if(d=i[l],p=o.get(d))for(h=p.length;h--;)if((s=p[h]).getAABB(d).containsPoint(t,e))for(_=(f=s.getShapes(d)).length;_--;)if(f[_].containsPoint(t,e)){u.entity=s,u.target=null,u.type=d,u.myType="",u.shape=f[_],u.hitType="soft",n(u);break}},destroy:function(){var t=this.againstGrid,e=null,i="",n=null,r=0;for(i in this.groupsLive.recycle(),this.nonColliders.recycle(),this.allEntitiesLive.recycle(),this.softEntitiesLive.recycle(),this.solidEntitiesLive.recycle(),this.relocationMessage.position.recycle(),this.relocationMessage.recycle(),t)if(t.hasOwnProperty(i)){for(r=(n=(e=t[i]).keys).length;r--;)e.get(n[r]).recycle();e.recycle()}t.recycle(),this.againstGrid=null}},publicMethods:{getWorldEntities:function(){return this.allEntitiesLive},getWorldTerrain:function(){return this.terrain},getEntityCollisions:function(t){var e=Array.setUp();return this.checkEntityForSoftCollisions(t,function(t){e.push(n.setUp(t))}),e},getShapeCollisions:function(t,e){var i=Array.setUp();return this.checkShapeForCollisions(t,e,function(t){i.push(n.setUp(t))}),i},getPointCollisions:function(t,e,i){var r=Array.setUp();return this.checkPointForCollisions(t,e,i,function(t){r.push(n.setUp(t))}),r}}})}(),function(){"use strict";var t={kc0:"unknown",kc8:"backspace",kc9:"tab",kc12:"numpad-5-shift",kc13:"enter",kc16:"shift",kc17:"ctrl",kc18:"alt",kc19:"pause",kc20:"caps-lock",kc27:"esc",kc32:"space",kc33:"page-up",kc34:"page-down",kc35:"end",kc36:"home",kc37:"left-arrow",kc38:"up-arrow",kc39:"right-arrow",kc40:"down-arrow",kc42:"numpad-multiply",kc43:"numpad-add",kc44:"print-screen",kc45:"insert",kc46:"delete",kc47:"numpad-division",kc48:"0",kc49:"1",kc50:"2",kc51:"3",kc52:"4",kc53:"5",kc54:"6",kc55:"7",kc56:"8",kc57:"9",kc59:"semicolon",kc61:"equals",kc65:"a",kc66:"b",kc67:"c",kc68:"d",kc69:"e",kc70:"f",kc71:"g",kc72:"h",kc73:"i",kc74:"j",kc75:"k",kc76:"l",kc77:"m",kc78:"n",kc79:"o",kc80:"p",kc81:"q",kc82:"r",kc83:"s",kc84:"t",kc85:"u",kc86:"v",kc87:"w",kc88:"x",kc89:"y",kc90:"z",kc91:"left-windows-start",kc92:"right-windows-start",kc93:"windows-menu",kc96:"back-quote",kc106:"numpad-multiply",kc107:"numpad-add",kc109:"numpad-minus",kc110:"numpad-period",kc111:"numpad-division",kc112:"f1",kc113:"f2",kc114:"f3",kc115:"f4",kc116:"f5",kc117:"f6",kc118:"f7",kc119:"f8",kc120:"f9",kc121:"f10",kc122:"f11",kc123:"f12",kc144:"num-lock",kc145:"scroll-lock",kc186:"semicolon",kc187:"equals",kc188:"comma",kc189:"hyphen",kc190:"period",kc191:"forward-slash",kc192:"back-quote",kc219:"open-bracket",kc220:"back-slash",kc221:"close-bracket",kc222:"quote"};platypus.createComponentClass({id:"HandlerController",initialize:function(){this.callbackKeyUp=null,this.callbackKeyDown=null,platypus.game.settings.debug?(this.callbackKeyDown=function(t){this.keyDown(t)}.bind(this),this.callbackKeyUp=function(t){this.keyUp(t)}.bind(this)):(this.callbackKeyDown=function(t){this.keyDown(t),t.preventDefault()}.bind(this),this.callbackKeyUp=function(t){this.keyUp(t),t.preventDefault()}.bind(this)),window.addEventListener("keydown",this.callbackKeyDown,!0),window.addEventListener("keyup",this.callbackKeyUp,!0)},events:{tick:function(t){this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("handle-controller",t)}},methods:{keyDown:function(e){this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("key:"+(t["kc"+e.keyCode]||"key-code-"+e.keyCode)+":down",e)},keyUp:function(e){this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("key:"+(t["kc"+e.keyCode]||"key-code-"+e.keyCode)+":up",e)},destroy:function(){window.removeEventListener("keydown",this.callbackKeyDown),window.removeEventListener("keyup",this.callbackKeyUp)}}})}(),function(){"use strict";var t=include("platypus.AABB"),e=function(t,e){var i=t.length;for(e.length=0;i--;)e.push(t[i])},i=function(t,e){return t.alwaysOn||t.aabb&&e.collides(t.getAABB())||void 0===t.x||e.containsPoint(t.x,t.y)},n=function(t,e,n){var r=t.length,o=null;for(e.length=0;r--;)o=t[r],i(o,n)&&e.push(o)},r=function(t){return"handle-logic"===t||"handle-post-collision-logic"===t||"prepare-logic"===t||"state-changed"===t||"handle-movement"===t};platypus.createComponentClass({id:"HandlerLogic",properties:{alwaysOn:!1},publicProperties:{buffer:-1,stepLength:5,maxStepsPerTick:100,timeMultiplier:1},initialize:function(){this.entities=Array.setUp(),this.activeEntities=Array.setUp(),this.removals=Array.setUp(),this.inLogicLoop=!1,this.alwaysOn?(this.updateList=e,this.camera=null):(this.updateList=n,this.camera=t.setUp()),this.paused=0,this.leftoverTime=0,this.message={delta:this.stepLength,tick:null,camera:this.camera,entities:this.activeEntities}},events:{"child-entity-updated":function(t){var e=this.entities.indexOf(t),n=t.getMessageIds().some(r);n&&e<0?(this.entities.push(t),!this.inLogicLoop||this.camera&&!i(t,this.camera)||this.activeEntities.push(t)):!n&&e>=0&&(this.entities.greenSplice(e),this.inLogicLoop&&this.removals.push(t))},"child-entity-added":function(t){t.getMessageIds().some(r)&&(this.entities.push(t),!this.inLogicLoop||this.camera&&!i(t,this.camera)||this.activeEntities.push(t))},"child-entity-removed":function(t){var e=this.entities.indexOf(t);e>=0&&(this.entities.greenSplice(e),this.inLogicLoop&&this.removals.push(t))},"pause-logic":function(t){t&&t.time?this.paused=t.time:this.paused=-1,this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("logic-paused")},"unpause-logic":function(){this.paused=0,this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("logic-unpaused")},"camera-update":function(t){var e=this.buffer,i=this.camera,n=null;i&&(-1===e&&(e=t.viewport.width/10),n=t.viewport,i.setBounds(n.left-e,n.top-e,n.right+e,n.bottom+e))},tick:function(t){var e=0,i=0,n=0,r=null,o=this.message,s=this.activeEntities,a=this.removals,c=this.stepLength;for(this.leftoverTime+=t.delta*this.timeMultiplier,n=Math.floor(this.leftoverTime/c)||1,o.delta=c,this.leftoverTime=Math.max(this.leftoverTime-n*c,0),o.tick=t,this.updateList(this.entities,s,this.camera),n=Math.min(n,this.maxStepsPerTick);n--;)if(this.paused>0&&(this.paused-=c,this.paused<0&&(this.paused=0)),!this.paused){for(this.inLogicLoop=!0,this.owner.triggerEvent("logic-tick",o),this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("handle-ai",o),e=s.length;e--;)(r=s[e]).triggerEvent("prepare-logic",o),r.triggerEvent("handle-logic",o),r.triggerEvent("handle-movement",o);if(this.inLogicLoop=!1,a.length){for(e=a.length;e--;)(i=s.indexOf(a[e]))>=0&&s.greenSplice(i);a.length=0}if(e=s.length,this.owner.triggerEvent("check-collision-group",o))for(;e--;)(r=s[e]).triggerEvent("handle-post-collision-logic",o),r.lastState.update(r.state)&&r.triggerEvent("state-changed",r.state);else for(;e--;)(r=s[e]).lastState.update(r.state)&&r.triggerEvent("state-changed",r.state)}}},methods:{destroy:function(){this.entities.recycle(),this.activeEntities.recycle(),this.removals.recycle()}}})}(),function(){"use strict";var t=include("PIXI.Container"),e=include("platypus.Data"),i=include("platypus.components.Interactive");platypus.createComponentClass({id:"HandlerRender",properties:{interactive:!1},publicProperties:{worldContainer:null},initialize:function(){var n=null,r=this.owner.renderGroups=this.renderGroups=Array.setUp();this.worldContainer=this.worldContainer||new t,this.worldContainer.name="",r.push(this.worldContainer),this.interactive&&(n=e.setUp("container",this.worldContainer,"hitArea",this.interactive.hitArea,"hover",this.interactive.hover,"relativeToSelf",!0),this.owner.addComponent(new i(this.owner,n)),n.recycle()),this.renderMessage=e.setUp("delta",0,"container",this.worldContainer,"renderGroups",r)},events:{load:function(){this.owner.triggerEvent("render-world",{world:this.worldContainer,renderGroups:this.renderGroups}),this.owner.triggerEvent("input-on")},"child-entity-added":function(t){t.triggerEvent("handle-render-load",this.renderMessage)},"pause-render":function(t){t&&t.time?this.paused=t.time:this.paused=-1,this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("render-paused")},"unpause-render":function(){this.paused=0,this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("render-unpaused")},tick:function(){var t=function(t,e){return t.z-e.z};return function(e){var i=this.renderMessage,n=null,r=this.renderGroups,o=r.length;for(i.delta=e.delta,this.paused>0&&(this.paused-=e.delta,this.paused<=0&&(this.paused=0)),!this.paused&&this.owner.triggerEventOnChildren&&this.owner.triggerEventOnChildren("handle-render",i);o--;)(n=r[o]).reorder&&(n.reorder=!1,n.children.sort(t))}}()},methods:{destroy:function(){this.worldContainer=null,this.renderGroups.recycle(),this.renderGroups=null,this.renderMessage.recycle()}}})}(),function(){"use strict";var t=function(t,e,i,n,r,o){var s=0,a=0,c=0,u=t.greenSlice();if("horizontal"===o){for(a=r-1;a>=0;a--)for(s=a*n,c=0;s<(a+1)*n;s++,c++)u.splice((a+1)*e+c,0,i[s]);return u}return"vertical"===o?t.concat(i):null},e=function(t,e,i,n){var r=0,o="",s=t.greenSlice(),a=null;for(r=0;r<e.length;r++){for(o in a={},e[r])e[r].hasOwnProperty(o)&&(a[o]=e[r][o]);"horizontal"===n?a.x+=i:"vertical"===n&&(a.y+=i),s.push(a)}return s},i=function(i,n,r,o){var s=0,a="";for(i.tilewidth||i.tileheight?i.tilewidth===n.tilewidth&&i.tileheight===n.tileheight||platypus.debug.warn("Tiled-Loader: Your map has segments with different tile sizes. All tile sizes must match. Segment: "+n):(i.tilewidth=n.tilewidth,i.tileheight=n.tileheight),"horizontal"===r?0===i.height?i.height=n.height:i.height!==n.height&&platypus.debug.warn("Tiled-Loader: You are trying to merge segments with different heights. All segments need to have the same height. Level: "+i+" Segment: "+n):"vertical"===r&&(0===i.width?i.width=n.width:i.width!==n.width&&platypus.debug.warn("Tiled-Loader: You are trying to merge segments with different widths. All segments need to have the same width. Level: "+i+" Segment: "+n)),s=0;s<n.layers.length;s++)if(i.layers[s])i.layers[s].type===n.layers[s].type?i.layers[s].data&&n.layers[s].data?(o(n.layers[s]),"horizontal"===r?(i.layers[s].data=t(i.layers[s].data,i.width,n.layers[s].data,n.width,i.height,r),i.layers[s].width+=n.width):"vertical"===r&&(i.layers[s].data=t(i.layers[s].data,i.height,n.layers[s].data,n.height,i.width,r),i.layers[s].height+=n.height)):i.layers[s].objects&&n.layers[s].objects&&("horizontal"===r?i.layers[s].objects=e(i.layers[s].objects,n.layers[s].objects,i.width*i.tilewidth,r):"vertical"===r&&(i.layers[s].objects=e(i.layers[s].objects,n.layers[s].objects,i.height*i.tileheight,r))):platypus.debug.warn("Tiled-Loader: The layers in your level segments do not match. Level: "+i+" Segment: "+n);else for(a in o(n.layers[s]),i.layers[s]={},n.layers[s])n.layers[s].hasOwnProperty(a)&&(i.layers[s][a]=n.layers[s][a]);for(a in"horizontal"===r?i.width+=n.width:"vertical"===r&&(i.height+=n.height),n)n.hasOwnProperty(a)&&!i[a]&&(i[a]=n[a])},n=function(t,e){var n=0,r=0,o=platypus.game.settings.levels,s={height:0,width:0,layers:[]},a={height:0,width:0,layers:[]},c=t[n].length;for(n=0;n<t.length;n++){for(c!==t[n].length&&platypus.debug.warn("Tiled-Loader: Your map is not square. Maps must have an equal number of segments in every row."),s={height:0,width:0,layers:[]},r=0;r<t[n].length;r++)"string"==typeof t[n][r]?i(s,o[t[n][r]],"horizontal",e):i(s,t[n][r],"horizontal",e);i(a,s,"vertical",e)}return a};platypus.createComponentClass({id:"LevelBuilder",properties:{useUniques:!0,levelTemplate:null,levelPieces:null},publicProperties:{},initialize:function(){this.levelMessage={level:null,persistentData:null}},events:{"scene-loaded":function(t){var e=null,i=null,r="",o=0,s=0,a=0;if(this.levelMessage.persistentData=t,this.levelTemplate=t.levelTemplate||this.levelTemplate,this.useUniques=t.useUniques||this.useUniques,i=t.levelPieces||this.levelPieces,this.levelPieces={},i)for(r in i)if(i.hasOwnProperty(r))if("string"==typeof i[r])this.levelPieces[r]=i[r];else{if(!i[r].length)throw"Level Builder: Level pieces of incorrect type: "+i[r];for(this.levelPieces[r]=[],o=0;o<i[r].length;o++)this.levelPieces[r].push(i[r][o])}if(!this.levelTemplate)throw"Level Builder: There is no level template.";if(!this.levelTemplate)throw"Level Builder: Template is not defined";for(this.levelMessage.level=[],s=0;s<this.levelTemplate.length;s++)if("string"==typeof(e=this.levelTemplate[s]))this.levelMessage.level[s]=this.getLevelPiece(e);else{if(!e.length)throw"Level Builder: Template row is neither a string or array. What is it?";for(this.levelMessage.level[s]=[],a=0;a<e.length;a++)this.levelMessage.level[s][a]=this.getLevelPiece(e[a])}this.levelMessage.level&&(this.levelMessage.level=n(this.levelMessage.level,this.owner.decodeLayer),this.owner.triggerEvent("load-level",this.levelMessage))}},methods:{getLevelPiece:function(t){var e=this.levelPieces[t]||t,i=null,n=0;if(e){if("string"==typeof e)return this.useUniques?(i=e,this.levelPieces[t]=null,i):e;if(e.length)return n=Math.floor(Math.random()*e.length),this.useUniques?this.levelPieces[t].greenSplice(n):e[n];throw"Level Builder: There are no MORE level pieces of type: "+t}throw"Level Builder: There are no level pieces of type: "+t},destroy:function(){this.levelMessage.level=null,this.levelMessage.persistentData=null,this.levelMessage=null}},publicMethods:{mergeLevels:function(t){return n(t,this.owner.decodeLayer)}},getAssetList:function(t,e,i){var n=0,r=null,o=Array.setUp(),s="",a=null;if(t&&t.levelPieces?a=t.levelPieces:e&&e.levelPieces?a=e.levelPieces:i&&i.levelPieces&&(a=i.levelPieces),a)for(s in a)if(a.hasOwnProperty(s))if(Array.isArray(a[s]))for(n=0;n<a[s].length;n++)r=platypus.components.TiledLoader.getAssetList({level:a[s][n]},e,i),o.union(r),r.recycle();else r=platypus.components.TiledLoader.getAssetList({level:a[s]},e,i),o.union(r),r.recycle();return o}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicAngularMovement",properties:{maxVelocity:3,acceleration:.01,visualOffset:0,startAngle:0},publicProperties:{},initialize:function(){this.angle=this.startAngle,this.v=Array.setUp(0,0),this.moving=!1,this.piOverTwo=Math.PI/2,this.owner.rotation=this.owner.rotation||this.visualOffset},events:{"handle-logic":function(t){var e=Math.PI,i=Math.sin,n=Math.cos,r=Math.min,o=Math.max,s=t.delta,a=0;this.moving&&(this.v[0]+=this.acceleration*n(this.angle)*s,this.v[1]+=this.acceleration*i(this.angle)*s,0===this.v[0]?a=this.v[1]>0?this.piOverTwo:this.v[1]<0?-this.piOverTwo:this.angle:(a=Math.atan(this.v[1]/this.v[0]),this.v[0]<0&&(a=e+a)),this.v[0]>=0?this.v[0]=r(this.v[0],this.maxVelocity*n(a)):this.v[0]=o(this.v[0],this.maxVelocity*n(a)),this.v[1]>=0?this.v[1]=r(this.v[1],this.maxVelocity*i(a)):this.v[1]=o(this.v[1],this.maxVelocity*i(a)),this.owner.x+=this.v[0],this.owner.y+=this.v[1],this.owner.rotation=a*(180/e)+this.visualOffset)},"set-angle":function(t){this.angle=t},move:function(){this.moving=!0},stop:function(){this.moving=!1,this.v[0]=0,this.v[1]=0},"set-max-velocity":function(t){this.maxVelocity=t}},methods:{destroy:function(){this.v.recycle()}}})}(),function(){"use strict";var t=include("platypus.Entity"),e=function(){var t=this.attachment;t&&t.trigger.apply(t,arguments)};platypus.createComponentClass({id:"LogicAttachment",properties:{attachState:"attached",attachment:"",events:null,startAttached:!1,offsetX:0,offsetY:0,offsetZ:.01},initialize:function(){var t="",i=this.events;if(this.state=this.owner.state,this.state.set(this.attachState,this.startAttached),this.attachmentPosition={x:0,y:0,z:0,dx:0,dy:0},this.attachmentProperties={type:this.attachment,properties:this.attachmentPosition},this.attachment=null,this.isAttached=this.startAttached,i)for(t in i)i.hasOwnProperty(t)&&this.addEventListener(t,e.bind(this,i[t]))},events:{"handle-logic":function(){var t=0,e=this.state;this.isAttached?(this.attachment||(this.attachmentPosition.x=this.owner.x,this.attachmentPosition.y=this.owner.y,this.attachmentPosition.z=this.owner.z,this.attachment=this.owner.parent.addEntity(this.attachmentProperties)),this.attachment.destroyed?(this.owner.parent.removeEntity(this.attachment),this.attachment=null,this.isAttached=!1):(this.attachment.x=this.owner.x,t=this.offsetX,e.get("left")?(t*=-1,this.attachment.rotation=180):e.get("right")&&(this.attachment.rotation=0),this.attachment.x+=t,this.attachment.y=this.owner.y,t=this.offsetY,e.get("top")?(t*=-1,this.attachment.rotation=90):e.get("bottom")&&(this.attachment.rotation=-90),this.attachment.y+=t,this.attachment.z=this.owner.z,this.attachment.z+=this.offsetZ)):this.attachment&&(this.owner.parent.removeEntity(this.attachment),this.attachment=null),e.set(this.attachState,this.isAttached)},attach:function(t){this.isAttached=!t||!1!==t.pressed},detach:function(){this.isAttached=!1},"change-attachment-offset":function(t){void 0!==t.x?this.offsetX=t.x:void 0!==t.y?this.offsetY=t.y:void 0!==t.z&&(this.offsetZ=t.z)}},methods:{destroy:function(){this.state.set(this.attachState,!1),this.attachment&&(this.owner.parent.removeEntity(this.attachment),this.attachment=null),this.isAttached=!1,this.state=null}},getAssetList:function(e,i,n){var r=e.attachment||i.attachment||n.attachment;return r?t.getAssetList({type:r}):Array.setUp()}})}(),function(){"use strict";var t=include("platypus.AABB"),e=include("platypus.Data");platypus.createComponentClass({id:"LogicButton",properties:{onPress:"",onRelease:"",onCancel:"",onHover:"",useOnce:!1,disabled:!1,toggle:!1,pressed:!1},publicProperties:{bottom:null,left:null,right:null,top:null},initialize:function(){var e=this.owner.state;this.aabb=t.setUp(),this.lastBottom=null,this.lastLeft=null,this.lastRight=null,this.lastTop=null,this.state=e,e.set("disabled",this.disabled),e.set("released",!this.pressed),e.set("pressed",this.pressed),e.set("highlighted",!1),this.owner.buttonMode=!this.disabled,this.cancelled=!1,this.readyToToggle=!1},events:{"handle-logic":function(){var t=this.bottom,e=this.left,i=this.right,n=this.top;this.lastBottom===t&&this.lastLeft===e&&this.lastRight===i&&this.lastTop===n||(this.updatePosition(this.aabb),this.lastBottom=t,this.lastLeft=e,this.lastRight=i,this.lastTop=n)},"camera-update":function(t){this.aabb.set(t.viewport),this.updatePosition(this.aabb)},pointerdown:function(t){this.state.get("disabled")||(this.toggle?this.readyToToggle=!0:(this.onPress&&this.owner.trigger(this.onPress),this.updateStateAndTrigger("pressed"),t&&t.pixiEvent&&t.pixiEvent.stopPropagation&&t.pixiEvent.stopPropagation(),this.useOnce&&this.removeEventListener&&this.removeEventListener("pointerdown")))},pressup:function(t){var e=this.state;e.get("disabled")||(this.cancelled?(this.onCancel&&this.owner.trigger(this.onCancel),this.updateStateAndTrigger("cancelled")):this.toggle?this.readyToToggle&&(e.get("pressed")?this.updateStateAndTrigger("released"):this.updateStateAndTrigger("pressed")):(this.onRelease&&this.owner.trigger(this.onRelease),this.updateStateAndTrigger("released")),t&&t.pixiEvent&&t.pixiEvent.stopPropagation&&t.pixiEvent.stopPropagation(),this.useOnce&&this.removeEventListener&&(this.removeEventListener("pressup"),this.state.set("disabled",!0),this.owner.buttonMode=!1)),this.cancelled=!1,this.readyToToggle=!1},pointerover:function(){this.onHover&&this.owner.trigger(this.onHover),this.state.get("pressed")&&(this.cancelled=!1)},pointerout:function(){this.state.get("pressed")&&(this.cancelled=!0)},disable:function(){this.state.set("disabled",!0),this.owner.buttonMode=!1},enable:function(){this.state.set("disabled",!1),this.owner.buttonMode=!0},"toggle-disabled":function(){var t=this.state.get("disabled");this.owner.buttonMode=t,this.state.set("disabled",!t)},highlight:function(){this.state.set("highlighted",!0)},unhighlight:function(){this.state.set("highlighted",!1)},"toggle-highlight":function(){var t=this.state;t.set("highlighted",!t.get("highlighted"))}},methods:{updatePosition:function(t){var e=this.bottom,i=this.left,n=this.owner,r=this.right,o=this.top;"number"==typeof i?n.x=t.left+i:"number"==typeof r&&(n.x=t.right-r),"number"==typeof o?n.y=t.top+o:"number"==typeof e&&(n.y=t.bottom-e)},updateStateAndTrigger:function(t){var i=null,n=this.owner,r=this.state,o=r.get("pressed"),s=r.get("released"),a=!1;s&&"pressed"===t?(r.set("pressed",!0),r.set("released",!1),a=!0):!o||"released"!==t&&"cancelled"!==t||(r.set("pressed",!1),r.set("released",!0),a=!0),a&&(i=e.setUp("released",o,"pressed",s,"triggered",s,"entity",n),n.triggerEvent(t,i),i.recycle())},destroy:function(){this.aabb.recycle(),this.aabb=null,this.owner.buttonMode=!1,this.state=null}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicCarrier",initialize:function(){},events:{load:function(){this.owner.triggerEvent("add-collision-entity",this.owner)||(this.owner.addComponent(new platypus.components.CollisionGroup(this.owner,{})),this.owner.triggerEvent("add-collision-entity",this.owner))},"carry-me":function(t){this.owner.triggerEvent("add-collision-entity",t.entity)},"release-me":function(t){this.owner.triggerEvent("remove-collision-entity",t.entity)}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicDestroyMe",properties:{delay:0,destroyed:!1},events:{"prepare-logic":function(t){var e=t.delta;this.destroyed&&!this.owner.state.get("paused")&&(this.delay-=e,this.delay<=0&&this.owner.parent.removeEntity(this.owner))},"destroy-me":function(){this.destroyed=!0}}})}(),function(){"use strict";var t=function(t){return function(e){this[t]=!e||!1!==e.pressed}},e=function(){},i={x:function(t,e){t!==e&&(t>180&&e<=180||t<=180&&e>180)&&this.owner.triggerEvent("transform","vertical")},y:function(t,e){t!==e&&(t>90&&t<=270&&(e<=90||e>270)||(t<=90||t>270)&&e>90&&e<=270)&&this.owner.triggerEvent("transform","horizontal")},z:function(t,e){t!==e&&this.owner.triggerEvent("replace-transform","rotate-"+t)}};platypus.createComponentClass({id:"LogicDirectionalMovement",properties:{axis:"y",speed:.3},initialize:function(){var t=this.state=this.owner.state;"number"==typeof this.speed&&(this.speed=[this.speed,0,0]),this.initialVector=platypus.Vector.setUp(this.speed),this.reorient=i[this.axis],this.reorient||(this.reorient=e),this.moving=t.set("moving",!1),this.left=t.set("left",!1),this.right=t.set("right",!1),this.up=t.set("up",!1),this.down=t.set("down",!1),this.upLeft=!1,this.upRight=!1,this.downLeft=!1,this.downRight=!1,this.heading=0,this.owner.heading=this.owner.heading||0},events:{"component-added":function(t){if(t===this){if(!this.owner.addMover)return void platypus.debug.warn('The "LogicDirectionalMovement" component requires a "Mover" component to function correctly.');this.direction=this.owner.addMover({velocity:this.speed,drag:0,friction:0,stopOnCollision:!1,orient:!1,aliases:{moving:"control-velocity"}}).velocity,this.owner.heading!==this.heading&&(this.direction.setVector(this.initialVector).rotate(this.owner.heading/180*Math.PI),this.heading=this.owner.heading),this.owner.triggerEvent("moving",this.moving)}},"handle-logic":function(){var t=this.state,e=this.up||this.upLeft||this.upRight,i=this.upLeft||this.up&&this.left,n=this.left||this.upLeft||this.downLeft,r=this.downLeft||this.down&&this.left,o=this.down||this.downLeft||this.downRight,s=this.downRight||this.down&&this.right,a=this.right||this.upRight||this.downRight,c=this.upRight||this.up&&this.right;if(n&&a||e&&o)this.moving=!1;else if(i)this.moving=!0,this.heading=225;else if(c)this.moving=!0,this.heading=315;else if(r)this.moving=!0,this.heading=135;else if(s)this.moving=!0,this.heading=45;else if(n)this.moving=!0,this.heading=180;else if(a)this.moving=!0,this.heading=0;else if(e)this.moving=!0,this.heading=270;else if(o)this.moving=!0,this.heading=90;else switch(this.moving=!1,this.heading){case 270:e=!0;break;case 90:o=!0;break;case 180:n=!0;break;case 225:e=!0,n=!0;break;case 315:e=!0,a=!0;break;case 135:o=!0,n=!0;break;case 45:o=!0,a=!0;break;case 0:default:a=!0}this.owner.heading!==this.heading&&(this.direction.setVector(this.initialVector).rotate(this.heading/180*Math.PI),this.reorient(this.heading,this.owner.heading),this.owner.heading=this.heading),t.get("moving")!==this.moving&&(this.owner.triggerEvent("moving",this.moving),t.set("moving",this.moving)),t.set("up",e),t.set("right",a),t.set("down",o),t.set("left",n)},"go-down":t("down"),"go-south":t("down"),"go-down-left":t("downLeft"),"go-southwest":t("downLeft"),"go-left":t("left"),"go-west":t("left"),"go-up-left":t("upLeft"),"go-northwest":t("upLeft"),"go-up":t("up"),"go-north":t("up"),"go-up-right":t("upRight"),"go-northeast":t("upRight"),"go-right":t("right"),"go-east":t("right"),"go-down-right":t("downRight"),"go-southeast":t("downRight"),stop:function(t){t&&!1===t.pressed||(this.left=!1,this.right=!1,this.up=!1,this.down=!1,this.upLeft=!1,this.upRight=!1,this.downLeft=!1,this.downRight=!1)},face:function(){var t={up:270,north:270,down:90,south:90,left:180,west:180,right:0,east:0,"up-left":225,northwest:225,"up-right":315,northeast:315,"down-left":135,southwest:135,"down-right":45,southeast:45};return function(e){this.heading=t[e]||0}}(),accelerate:function(t){this.initialVector.normalize().multiply(t),this.direction.normalize().multiply(t)}},methods:{destroy:function(){this.initialVector.recycle(),this.state=null}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicDragDrop",properties:{dragZ:1e4,stickyClick:!1},initialize:function(){this.nextX=this.owner.x,this.nextY=this.owner.y,this.lastZ=this.owner.z,this.grabOffsetX=0,this.grabOffsetY=0,this.state=this.owner.state,this.state.set("dragging",!1),this.state.set("noDrop",!1),this.tryDrop=!1,this.hitSomething=!1,this.hasCollision=!1,platypus.supports.mobile&&(this.stickyClick=!1)},events:{"component-added":function(t){"CollisionBasic"===t.type&&(this.hasCollision=!0)},"handle-logic":function(){this.state.get("dragging")&&(this.owner.x=this.nextX,this.owner.y=this.nextY,this.owner.triggerEvent("hovering")),this.state.set("noDrop",!1)},"handle-post-collision-logic":function(){this.tryDrop?(this.tryDrop=!1,this.hitSomething?(this.dropFailed=!1,this.state.set("noDrop",!0),this.state.set("dragging",!0),this.owner.dragMode=!0):(this.state.set("noDrop",!1),this.state.set("dragging",!1),this.owner.dragMode=!1)):this.hitSomething&&this.state.set("noDrop",!0),this.hitSomething=!1},pointerdown:function(t){this.sticking?(this.sticking=!1,this.release()):(this.nextX=this.owner.x,this.nextY=this.owner.y,this.lastZ=this.owner.z,this.grabOffsetX=t.x-this.owner.x,this.grabOffsetY=t.y-this.owner.y,this.owner.z=this.dragZ,this.state.set("dragging",!0),this.owner.dragMode=!0,this.sticking=this.stickyClick),t.pixiEvent.stopPropagation()},pressup:function(t){this.sticking||this.release(),t.pixiEvent.stopPropagation()},pointermove:function(t){this.sticking&&(this.nextX=t.x-this.grabOffsetX,this.nextY=t.y-this.grabOffsetY,t.event.preventDefault(),t.pixiEvent.stopPropagation())},pressmove:function(t){this.nextX=t.x-this.grabOffsetX,this.nextY=t.y-this.grabOffsetY,this.nextX===this.owner.x&&this.nextY===this.owner.y||(this.sticking=!1),t.event.preventDefault(),t.pixiEvent.stopPropagation()},"no-drop":function(){this.hitSomething=!0}},methods:{release:function(){this.hasCollision?this.tryDrop=!0:(this.state.set("noDrop",!1),this.state.set("dragging",!1),this.owner.dragMode=!1,this.owner.z=this.lastZ)},destroy:function(){this.state.set("dragging",!1),this.owner.dragMode=!1,this.state.set("noDrop",!1),this.state=null,this.owner.z=this.lastZ}}})}(),function(){"use strict";var t=include("platypus.Vector");platypus.createComponentClass({id:"LogicImpactLaunch",properties:{accelerationX:-.3,accelerationY:-.8,flipX:!0,flipY:!1},initialize:function(t){this.stunState=t.state||"stunned",this.flipX=this.flipX?-1:1,this.flipY=this.flipY?-1:1,this.justJumped=!1,this.stunned=!1,this.state=this.owner.state,this.state.set("impact",!1),this.state.set(this.stunState,!1)},events:{"component-added":function(e){if(e===this){if(!this.owner.addMover)return void platypus.debug.warn('The "LogicDirectionalMovement" component requires a "Mover" component to function correctly.');this.direction=this.owner.addMover({velocity:[0,0,0],orient:!1}).velocity,this.vector=t.setUp()}},"handle-logic":function(){this.state.set("impact",this.justJumped),this.state.set(this.stunState,this.stunned),this.justJumped&&(this.direction.setVector(this.vector),this.justJumped=!1,this.stunned=!0)},"impact-launch":function(t){var e=t.x,i=t.y;t.entity&&(e=t.entity.x-this.owner.x,i=t.entity.y-this.owner.y),this.stunned||(this.justJumped=!0,e>=0?this.vector.x=this.accelerationX:e<0&&(this.vector.x=this.accelerationX*this.flipX),i>=0?this.vector.y=this.accelerationY:i<0&&(this.vector.y=this.accelerationY*this.flipY))},"hit-solid":function(t){this.stunned&&t.y>0&&(this.direction.x=0,this.direction.y=0,this.stunned=!1)}},methods:{destroy:function(){this.vector.recycle(),this.state=null}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicPacingPlatform",initialize:function(t){this.ang=this.owner.angle||t.angle||0,this.dist=this.owner.distance||t.distance||128,this.dX=this.dist*Math.cos(this.ang),this.dY=this.dist*Math.sin(this.ang),this.period=this.owner.period||t.period||4e3,this.time=0,this.startPos=this.owner.startPos||t.startPos||0,this.offset=0,this.originX=this.owner.x,this.originY=this.owner.y},events:{"handle-logic":function(t){var e=this.period,i=t.delta;this.time+=i,this.time>e&&(this.time=this.time%e),this.offset=this.time/e*(2*Math.PI),this.owner.x=this.originX+Math.sin(this.offset+this.startPos)*this.dX,this.owner.y=this.originY+Math.sin(this.offset+this.startPos)*this.dY}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicPortable",properties:{portableDirections:{down:!0}},initialize:function(t){this.carrier=this.lastCarrier=null,this.message={entity:this.owner}},events:{"handle-logic":function(){var t=this.message;this.carrierConnected?(this.carrier!==this.lastCarrier&&(this.lastCarrier&&this.lastCarrier.triggerEvent("release-me",t),this.carrier.triggerEvent("carry-me",t)),this.carrierConnected=!1):this.carrier&&(this.carrier.triggerEvent("release-me",t),this.carrier=null),this.lastCarrier=this.carrier},"hit-solid":function(t){t.y>0?this.updateCarrier(t.entity,"down"):t.y<0?this.updateCarrier(t.entity,"up"):t.x<0?this.updateCarrier(t.entity,"left"):t.x>0&&this.updateCarrier(t.entity,"right")},"force-release":function(){this.carrier&&this.carrier.triggerEvent("release-me",this.message),this.carrier=null,this.lastCarrier=this.carrier,this.carrierConnected=!1}},methods:{updateCarrier:function(t,e){this.portableDirections[e]&&t&&(t!==this.carrier&&(this.carrier=t),this.carrierConnected=!0)}}})}(),function(){"use strict";var t=include("platypus.DataMap");platypus.createComponentClass({id:"LogicPortal",initialize:function(e){var i=0,n=e.entrants||e.entrant||"no one",r=this.owner.state;if(this.destination=this.owner.destination||e.destination,this.used=!1,this.ready=!1,this.wasReady=!1,this.entrants=t.setUp(),Array.isArray(n))for(i=0;i<n.length;i++)this.entrants.set(n[i],!1);else this.entrants.set(n,!1);this.state=r,r.set("occupied",!1),r.set("ready",!0)},events:{"handle-logic":function(){var t=this.entrants,e=t.keys,i=e.length,n=!1,r=!0,o=this.state;for(!this.used&&this.activated?(this.owner.triggerEvent("port-"+this.destination),this.used=!0):this.ready&&!this.wasReady?(this.owner.triggerEvent("portal-waiting"),this.wasReady=!0):this.wasReady&&!this.ready&&(this.owner.triggerEvent("portal-not-waiting"),this.wasReady=!1);i--;)t[e[i]]?(n=!0,t.set(e[i],!1)):r=!1;o.set("occupied",n),o.set("ready",r),this.ready=!1},"occupied-portal":function(t){var e=this.entrants,i=e.keys,n=i.length;for(e.set(t.entity.type,!0);n--;)if(!e.get(i[n]))return;this.ready=!0},"activate-portal":function(){this.activated=!0}},methods:{destroy:function(){this.state=null,this.entrants.recycle(),this.entrants=null}}})}(),function(){"use strict";var t=function(t,e){return t/Math.abs(t)*e};platypus.createComponentClass({id:"LogicPushable",initialize:function(t){this.yPush=t.push||t.yPush||0,this.xPush=t.push||t.xPush||.1,t.roll?(this.radius=t.radius||this.owner.radius||(this.owner.width||this.owner.height||2)/2,this.owner.orientation=this.owner.orientation||0):this.radius=0,this.currentPushX=0,this.currentPushY=0,this.lastX=this.owner.x,this.lastY=this.owner.y,this.pushers=Array.setUp()},events:{"handle-logic":function(e){var i=0,n=e.delta;for(this.currentPushY&&(this.owner.y+=t(this.currentPushY,this.yPush*n),this.currentPushY=0),this.currentPushX&&(this.owner.x+=t(this.currentPushX,this.xPush*n),this.currentPushX=0),this.lastX===this.owner.x&&this.lastY===this.owner.y||(this.radius&&(this.owner.orientation+=(this.owner.x+this.owner.y-this.lastX-this.lastY)/this.radius),this.lastX=this.owner.x,this.lastY=this.owner.y),i=0;i<this.pushers.length;i++)this.pushers[i].triggerEvent("pushed",this.owner);this.pushers.length=0},"push-entity":function(t){var e=t.x||0,i=t.y||0;this.currentPushX-=e,this.currentPushY-=i,(this.yPush&&i||this.xPush&&e)&&this.pushers.push(t.entity)},"hit-solid":function(t){return t.y>0&&this.vY>0||t.y<0&&this.vY<0?this.vY=0:(t.x<0&&this.vX<0||t.x>0&&this.vX>0)&&(this.vX=0),!0}},methods:{destroy:function(){this.pushers.recycle()}}})}(),function(){"use strict";var t=include("platypus.Vector");platypus.createComponentClass({id:"LogicRebounder",initialize:function(e){platypus.Vector.assign(this.owner,"velocity","dx","dy","dz"),this.owner.mass=this.owner.mass||e.mass||1,this.elasticity=e.elasticity||.8,this.v=t.setUp(0,0,0),this.incidentVector=t.setUp(0,0,0),this.staticCollisionOccurred=!1,this.nonStaticCollisionOccurred=!1,this.hitThisTick=Array.setUp(),this.otherV=t.setUp(0,0,0),this.otherVelocityData=Array.setUp()},events:{"handle-logic":function(){var t=0;for(this.hitThisTick.length=0,t=0;t<this.otherVelocityData.length;t++)this.otherVelocityData[t].velocity.recycle();this.otherVelocityData.length=0},"hit-static":function(t){var e,i=t.entity,n=0;for(n=0;n<this.hitThisTick.length;n++)if(i===this.hitThisTick[n])return;this.hitThisTick.push(i),this.v.setVector(this.owner.velocity),this.incidentVector.setVector(t.direction),e=this.v.scalarProjection(this.incidentVector),isNaN(e)||(this.incidentVector.scale(e*(1+this.elasticity)),this.v.subtractVector(this.incidentVector)),this.owner.velocity.setVector(this.v)},"hit-non-static":function(t){var e=0,i=t.entity,n=!1,r=0,o=0,s=0;if(!((e=this.hitThisTick.indexOf(i))>=0)){for(this.hitThisTick.push(i),e=0;e<this.otherVelocityData.length;e++)if(i===this.otherVelocityData[e].entity){this.otherV.setVector(this.otherVelocityData[e].velocity),n=!0;break}n||(this.otherV.setVector(i.velocity),i.triggerEvent("share-velocity",this.owner)),this.v.setVector(this.owner.velocity),this.incidentVector.setVector(t.direction),r=this.v.scalarProjection(this.incidentVector),r=isNaN(r)?0:r,o=this.otherV.scalarProjection(this.incidentVector),o=isNaN(o)?0:o,s=(r*(this.owner.mass-i.mass)+2*i.mass*o)/(this.owner.mass+i.mass),this.incidentVector.scale(s-r),this.owner.velocity.setVector(this.incidentVector)}},"share-velocity":function(e){this.otherVelocityData.push({entity:e,velocity:t.setUp(e.velocity)})}},methods:{destroy:function(){this.v.recycle(),this.incidentVector.recycle(),this.otherV.recycle(),this.hitThisTick.recycle(),this.otherVelocityData.recycle()}},publicMethods:{}})}(),function(){"use strict";var t=include("platypus.Entity");platypus.createComponentClass({id:"LogicRegionSpawner",initialize:function(t){var e=0,i=0,n=1,r=1,o=0,s=0,a=0,c=0;if(this.spawnPosition={x:0,y:0},this.spawnProperties={type:t.spawn,properties:this.spawnPosition},this.regions=null,this.usedRegions=null,this.regionWidth=0,this.regionHeight=0,t.regions)for(this.regions=Array.setUp(),this.usedRegions=Array.setUp(),this.regionWidth=o=t.regions.width||this.owner.width,this.regionHeight=s=t.regions.height||this.owner.height,n=Math.round(this.owner.width/o),r=Math.round(this.owner.height/s),e=0;e<n;e++)for(i=0;i<r;i++)a=Math.min(o,this.owner.width-e*o),c=Math.min(s,this.owner.height-i*s),this.regions.push({x:e*o,y:i*s,width:a,height:c});this.interval=this.owner.interval||t.interval||1e3,this.time=0},events:{"handle-logic":function(t){var e=this.regions,i=null;this.time+=t.delta,this.time>this.interval&&(this.time-=this.interval,e?(e.length||(this.regions=this.usedRegions,this.usedRegions=e,e=this.regions),i=e[Math.floor(e.length*Math.random())],this.spawnPosition.x=this.owner.x-(this.owner.regX||0)+(i.x+Math.random()*i.width),this.spawnPosition.y=this.owner.y-(this.owner.regY||0)+(i.y+Math.random()*i.height)):(this.spawnPosition.x=this.owner.x-(this.owner.regX||0)+Math.random()*this.owner.width,this.spawnPosition.y=this.owner.y-(this.owner.regY||0)+Math.random()*this.owner.height),this.owner.parent.addEntity(this.spawnProperties))}},methods:{destroy:function(){this.regions&&(this.regions.recycle(),this.usedRegions.recycle())}},getAssetList:function(e,i,n){var r=e.spawn||i.spawn||n.spawn;return r?t.getAssetList({type:r}):Array.setUp()}})}(),function(){"use strict";var t=Math.cos,e=Math.sin,i=function(e,i){return e*t(i)},n=function(t,i){return t*e(i)};platypus.createComponentClass({id:"LogicRotationalMovement",properties:{speed:.3,angle:0,degree:1},initialize:function(){var t=this.owner.state;this.magnitude=0,this.state=t,t.set("moving",!1),t.set("turningRight",!1),t.set("turningLeft",!1),this.owner.orientation=0,this.moving=!1,this.turningRight=!1,this.turningLeft=!1},events:{"handle-logic":function(t){var e=this.state;this.turningRight&&(this.angle+=this.degree*t.delta/15),this.turningLeft&&(this.angle-=this.degree*t.delta/15),this.moving&&(this.owner.x+=i(this.magnitude,this.angle)*t.delta,this.owner.y+=n(this.magnitude,this.angle)*t.delta),e.set("moving",this.moving),e.set("turningLeft",this.turningLeft),e.set("turningRight",this.turningRight),this.owner.orientation!==this.angle&&(this.owner.orientation=this.angle*Math.PI/180,this.owner.triggerEvent("orientation-updated"))},rotate:function(t){this.angle+=t},"turn-right":function(t){this.turningRight=!t||t.pressed},"turn-left":function(t){this.turningLeft=!t||t.pressed},"go-forward":function(t){!t||t.pressed?(this.moving=!0,this.magnitude=this.speed):this.moving=!1},"go-backward":function(t){!t||t.pressed?(this.moving=!0,this.magnitude=-this.speed):this.moving=!1},stop:function(t){t&&!t.pressed||(this.moving=!1,this.turningLeft=!1,this.turningRight=!1)},"stop-moving":function(t){t&&!t.pressed||(this.moving=!1)},"stop-turning":function(t){t&&!t.pressed||(this.turningLeft=!1,this.turningRight=!1)}},methods:{destroy:function(){this.state=null}}})}(),function(){"use strict";var t=include("platypus.Entity");platypus.createComponentClass({id:"LogicSpawner",initialize:function(t){var e=this.owner.spawneeClass||t.spawneeClass,i="",n=0;if(this.state=this.owner.state,this.stateName=t.state||"spawning",this.originalZ=platypus.game.settings.entities[e]&&platypus.game.settings.entities[e].properties&&platypus.game.settings.entities[e].properties.z||0,this.speed=t.speed||this.owner.speed||0,this.state.set(this.stateName,!1),this.spawneeProperties={x:0,y:0,z:0,dx:0,dy:0,spawner:this.owner},t.passOnProperties)for(n=0;n<t.passOnProperties.length;n++)i=t.passOnProperties[n],this.owner[i]&&(this.spawneeProperties[i]=this.owner[i]);this.propertiesContainer={type:e,properties:this.spawneeProperties},this.offsetX=this.owner.offsetX||t.offsetX||0,this.offsetY=this.owner.offsetY||t.offsetY||0,this.firing=!1},events:{"handle-logic":function(){var t=0,e=this.state;this.firing&&(this.spawneeProperties.x=this.owner.x,this.spawneeProperties.y=this.owner.y,this.spawneeProperties.z=this.owner.z+this.originalZ,t=this.offsetX,e.get("left")&&(t*=-1),this.spawneeProperties.x+=t,t=this.offsetY,e.get("top")&&(t*=-1),this.spawneeProperties.y+=t,this.speed?(e.get("top")?this.spawneeProperties.dy=-this.speed:e.get("bottom")?this.spawneeProperties.dy=this.speed:delete this.spawneeProperties.dy,e.get("left")?this.spawneeProperties.dx=-this.speed:e.get("right")?this.spawneeProperties.dx=this.speed:delete this.spawneeProperties.dx):(delete this.spawneeProperties.dx,delete this.spawneeProperties.dy),this.parent.addEntity(this.propertiesContainer)),e.set(this.stateName,this.firing),this.firing=!1},spawn:function(t){this.firing=!t||!1!==t.pressed,this.parent=this.owner.parent}},methods:{destroy:function(){this.state=null}},getAssetList:function(e,i,n){var r=e.spawneeClass||i.spawneeClass||n.spawneeClass;return r?t.getAssetList({type:r}):Array.setUp()}})}(),function(){"use strict";var t=include("platypus.DataMap"),e=include("platypus.StateMap"),i=function(t,e){e.update(t)},n=function(t,e){e.set(t,!0)},r=null,o=null,s=function(e){var i=null,n="";if(!e||"object"!=typeof e||Array.isArray(e)||e.event)return e;for(n in i=t.setUp(),e)e.hasOwnProperty(n)&&i.set(n,s(e[n]));return i};r=function(t,e,i,n,s,a,c){var u,l=0,h="",_=n.message||0===n.message||!1===n.message,p=null;if(s){if("string"==typeof n)return void a.triggerEvent(n);if(Array.isArray(n)){for(l=0;l<n.length;l++)r(t,e,i,n[l],s,a,c);return}if(n.event&&(_||n.delay))return void(n.delay?c.push(n):a.trigger(n.event,n.message));n.get&&(p=n.get("true"))&&r(t,e,i,p,s,a,c)}if(u=n.keys)for(l=u.length;l--;)"true"!==(h=u[l])&&o(h,e,i,n.get(h),s,a,c)},o=function(t,e,i,n,o,s,a){var c=o,u=!1,l="",h=!1;"!"===t.charAt(0)?(l=t.substring(1),u=!1===(h=e.get(l)),"outputs"!==t&&i.get(l)!==h&&(c=!0)):(u=!0===(h=e.get(t)),"outputs"!==t&&i.get(t)!==h&&(c=!0)),(u||"outputs"===t)&&r(t,e,i,n,c,s,a)},platypus.createComponentClass({id:"LogicStateMachine",properties:{inputs:null,outputs:null},initialize:function(t){var r=0,o=this.inputs,a="",c=null,u=null,l=null,h=t["sustained-inputs"],_=this.owner.state;if(this.state=_,o){for(a in l=Array.setUp(),o)if(o.hasOwnProperty(a))for(u=e.setUp(o[a]),l.push(u),this.addEventListener(a,i.bind(this,u,_)),r=(c=u.keys).length;r--;)_.set(c[r],!1);this.stateObjects=l}if(this.sustainedState=e.setUp(),h)for(a in h)h.hasOwnProperty(a)&&(this.addEventListener(a,n.bind(this,h[a],this.sustainedState)),this.sustainedState.set(h[a],!1),_.set(h[a],!1));this.snapshot=e.setUp(),this.last=e.setUp(),this.queueTimes=Array.setUp(),this.queue=Array.setUp(),this.outputs=s(this.outputs)},events:{"handle-logic":function(t){for(var e=this.sustainedState,i="",n=e.keys,r=n.length,o=this.state;r--;)i=n[r],o.set(i,e.get(i)),e.set(i,!1);for(r=this.queue.length;r--;)this.queueTimes[r]-=t.delta,this.queueTimes[r]<=0&&(this.owner.trigger(this.queue[r].event,this.queue[r].message),this.queueTimes.greenSplice(r),this.queue.greenSplice(r))},"update-state":function(t){this.state.update(t)},"state-changed":function(t){var e=0,i=null,n=this.snapshot;if(this.outputs){for(n.update(t),i=Array.setUp(),o("outputs",n,this.last,this.outputs,!1,this.owner,i),e=i.length;e--;)this.queue.push(i[e]),this.queueTimes.push(i[e].delay);i.recycle(),this.last.update(n)}}},methods:{destroy:function(){var t=0,e=this.stateObjects;if(this.queueTimes.recycle(),this.queue.recycle(),e){for(t=e.length;t--;)e[t].recycle();e.recycle(),this.stateObjects=null}this.sustainedState.recycle(),this.snapshot.recycle(),this.last.recycle(),this.state=null,this.inputs=null}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicSwitch",initialize:function(t){this.state=this.owner.state,this.pressed=!1,this.wasPressed=this.pressed,this.sticky=t.sticky||!1,this.state.set("pressed",!1),this.initialPress=!0},events:{"handle-logic":function(){this.sticky?this.pressed&&!this.wasPressed&&(this.state.set("pressed",!0),this.wasPressed=!0,this.owner.triggerEvent("switch-on")):(this.pressed!==this.wasPressed&&(this.pressed?(this.state.set("pressed",!0),this.owner.triggerEvent("switch-on")):(this.state.set("pressed",!1),this.owner.triggerEvent("switch-off"))),this.wasPressed=this.pressed,this.pressed=!1)},"switch-pressed":function(){this.pressed=!0,this.initialPress&&(this.owner.triggerEvent("initial-press"),this.initialPress=!1)}},methods:{destroy:function(){this.state=null}}})}(),function(){"use strict";var t=include("platypus.Vector");platypus.createComponentClass({id:"LogicTeleportee",initialize:function(){this.teleportDestination=t.setUp(),this.teleportNow=!1,this.DestinationSet=!1,this.message={position:this.teleportDestination}},events:{"handle-logic":function(){this.teleportNow&&(this.owner.triggerEvent("relocate-entity",this.message),this.teleportNow=!1,this.owner.triggerEvent("teleport-complete"))},teleport:function(){this.destinationSet&&(this.teleportNow=!0)},"set-destination":function(t){this.setDestination(t)},"hit-telepoint":function(t){this.setDestination(t.entity)}},methods:{setDestination:function(t){this.teleportDestination.setXYZ(t.x,t.y,this.owner.z),this.destinationSet=!0},destroy:function(){this.teleportDestination.recycle()}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicTeleporter",initialize:function(t){this.destination=null,this.linkId=this.owner.teleportId||t.teleportId,this.facing=this.owner.facing||t.facing||!1,this.facing&&this.owner.state.set("facing-"+this.facing,!0)},events:{"peer-entity-added":function(t){this.destination||t.linkId!==this.linkId||(this.destination=t)},"teleport-entity":function(t){switch(this.facing){case"up":t.y<0&&t.entity.triggerEvent("teleport",this.destination);break;case"right":t.x>0&&t.entity.triggerEvent("teleport",this.destination);break;case"down":t.y>0&&t.entity.triggerEvent("teleport",this.destination);break;case"left":t.x<0&&t.entity.triggerEvent("teleport",this.destination);break;default:t.entity.triggerEvent("teleport",this.destination)}}},methods:{destroy:function(){this.destination=null}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicTimer",initialize:function(t){this.time=this.owner.time||t.time||0,this.prevTime=this.time,this.alarmTime=this.owner.alarmTime||t.alarmTime||0,this.isInterval=this.owner.isInterval||t.isInterval||!1,this.alarmMessage=this.owner.alarmMessage||t.alarmMessage||"",this.updateMessage=this.owner.updateMessage||t.updateMessage||"",this.isOn=this.owner.on||t.on||!0,this.isIncrementing=this.owner.isIncrementing||t.isIncrementing||!0,this.maxTime=this.owner.maxTime||t.maxTime||36e5},events:{"handle-logic":function(t){this.isOn&&(this.prevTime=this.time,this.isIncrementing?this.time+=t.delta:this.time-=t.delta,Math.abs(this.time)>this.maxTime&&(this.time>0?this.time=this.maxTime:this.time<0&&(this.time=-this.maxTime),this.triggerEvent("stop-timer")),0!==this.alarmTime&&(this.isInterval?this.isIncrementing?Math.floor(this.time/this.alarmTime)>Math.floor(this.prevTime/this.alarmTime)&&this.owner.trigger(this.alarmMessage):Math.floor(this.time/this.alarmTime)<Math.floor(this.prevTime/this.alarmTime)&&this.owner.trigger(this.alarmMessage):this.isIncrementing?this.time>this.alarmTime&&this.prevTime<this.alarmTime&&this.owner.trigger(this.alarmMessage):this.time<this.alarmTime&&this.prevTime>this.alarmTime&&this.owner.trigger(this.alarmMessage))),this.owner.trigger(this.updateMessage,{time:this.time})},"set-timer":function(t){this.time=t.time},"start-timer":function(){this.isOn=!0},"stop-timer":function(){this.isOn=!1}}})}(),function(){"use strict";platypus.createComponentClass({id:"LogicWindUpRacer",properties:{speed:.3,raceTime:5e3,windTime:500},initialize:function(){var t=this.owner.state;this.windProgress=0,this.winding=!1,this.racing=!1,this.blocked=!1,this.right=!1,this.left=!1,this.state=t,t.set("windingUp",!1),t.set("racing",!1),t.set("blocked",!1)},events:{"handle-logic":function(t){var e=this.state;this.racing?!this.blocked&&this.right&&e.get("right")?(this.owner.x+=this.speed*t.delta,this.owner.triggerEvent("racing")):!this.blocked&&this.left&&e.get("left")?(this.owner.x-=this.speed*t.delta,this.owner.triggerEvent("racing")):(this.racing=!1,this.owner.triggerEvent("stopped-racing")):this.winding?((this.right&&e.get("right")||this.left&&e.get("left"))&&(this.windProgress+=t.delta),this.owner.triggerEvent("winding",this.windProgress/this.windTime)):this.windProgress&&(this.windProgress>=this.windTime&&(this.racing=!0),this.windProgress=0,this.owner.triggerEvent("stopped-winding")),e.set("windingUp",this.winding),e.set("racing",this.racing),e.set("blocked",this.blocked),this.blocked=!1},"stop-racing":function(){this.racing=!1,this.owner.triggerEvent("stopped-racing")},"wind-up":function(t){this.winding=!t||!1!==t.pressed,this.right=this.state.get("right"),this.left=this.state.get("left")},"hit-solid":function(t){t.x&&this.racing&&(this.right&&t.x>0||this.left&&t.x<0)&&(this.blocked=!0,this.owner.triggerEvent("blocked",t))}},methods:{destroy:function(){this.state.set("windingUp",!1),this.state.set("racing",!1),this.state.set("blocked",!1),this.state=null}}})}(),function(){"use strict";var t=include("platypus.Vector"),e=function(){return!0},i=function(t,e){return t.get(e)},n=function(t,n){var r=t.owner.state,o=n.controlState?i.bind(null,r,n.controlState):e,s=n.instantState?i.bind(null,r,n.instantState):e;t.instant||n.instantState?(t.instant=!0,t.update=function(t,e,i){var n=t(),r=e();if(this.activeVelocity){if(this.enact&&!r&&(this.ready=!1),this.ready&&this.enact&&n)this.ready=!1,this.velocity.setVector(this.instant),i&&this.owner.triggerEvent(i);else if(this.ready||this.enact&&n){if(r)return null}else this.ready=!0,this.decay();return this.velocity}return null}.bind(t,s,o,n.instantSuccess)):t.update=function(t,e){return this.activeVelocity&&t()?(this.activeAcceleration&&this.move(e),this.velocity):null}.bind(t,o)};platypus.createComponentClass({id:"Motion",properties:{orient:!0,acceleration:0,activeAcceleration:!0,activeVelocity:!0,maxMagnitude:1/0,controlState:"",instant:!1,instantState:"",instantSuccess:"",instantDecay:null,velocity:0,stopOnCollision:!0,drag:-1,friction:-1},initialize:function(e){this.acceleration||(this.activeAcceleration=!1),this.acceleration=t.setUp(this.acceleration),this.velocity=t.setUp(this.velocity),this.triggered=!1,this.ready=!0,"number"==typeof this.instantDecay?this.capMagnitude=this.velocity.magnitude()*this.instantDecay:this.capMagnitude=-1,n(this,e),this.instant&&(this.enact=!1,this.instant=t.setUp(this.velocity),this.velocity.setXYZ(0,0,0)),this.orient&&(this.owner.triggerEvent("orient-vector",this.velocity),this.owner.triggerEvent("orient-vector",this.acceleration))},events:{"control-velocity":function(t){this.activeVelocity=t&&!1!==t.pressed},"stop-velocity":function(){this.activeVelocity=!1},"start-velocity":function(){this.activeVelocity=!0},"control-acceleration":function(t){this.activeAcceleration=t&&!1!==t.pressed},"stop-acceleration":function(){this.activeAcceleration=!1},"start-acceleration":function(){this.activeAcceleration=!0},"instant-motion":function(t){this.enact=t&&!1!==t.triggered},"instant-begin":function(){this.enact=!0},"instant-end":function(){this.enact=!1},"set-motion":function(t){t.acceleration&&this.acceleration.set(t.acceleration),t.velocity&&(this.velocity.set(t.velocity),"number"==typeof this.instantDecay?this.capMagnitude=this.velocity.magnitude()*this.instantDecay:this.capMagnitude=-1),"number"==typeof t.maxMagnitude&&(this.maxMagnitude=t.maxMagnitude)}},methods:{move:function(e){var i=t.setUp(this.acceleration).multiply(e);return this.velocity.add(i),i.recycle(),this.velocity.magnitude()>this.maxMagnitude&&this.velocity.normalize().multiply(this.maxMagnitude),this.velocity},decay:function(){this.capMagnitude>=0&&this.velocity.magnitude()>this.capMagnitude&&this.velocity.normalize().multiply(this.capMagnitude)},destroy:function(){this.orient&&(this.owner.triggerEvent("remove-vector",this.acceleration),this.owner.triggerEvent("remove-vector",this.velocity)),this.acceleration.recycle(),this.velocity.recycle(),this.instant&&this.instant.recycle()}},publicMethods:{}})}(),function(){"use strict";var t=include("platypus.Vector"),e=t.setUp(),i=function(t,e,i,n){return t&&e!==i?e<i?Math.min(e+t*n,i):Math.max(e-t*n,i):e},n=function(t,e){var n=this.maxMagnitudeInterim=i(this.maxMagnitudeDelta,this.maxMagnitudeInterim,this.maxMagnitude,e);t.magnitude()>n&&t.normalize().multiply(n)},r=function(t,e){var n=this.maxMagnitude,r=this.maxMagnitudeDelta,o=this.maxMagnitudeInterim;o.up=i(r,o.up,n.up,e),o.right=i(r,o.right,n.right,e),o.down=i(r,o.down,n.down,e),o.left=i(r,o.left,n.left,e),t.x>0?t.x>o.right&&(t.x=o.right):t.x<0&&t.x<-o.left&&(t.x=-o.left),t.y>0?t.y>o.down&&(t.y=o.down):t.y<0&&t.y<-o.up&&(t.y=-o.up)};platypus.createComponentClass({id:"Mover",properties:{ground:[0,1]},publicProperties:{movers:[],gravity:0,jump:0,speed:0,drag:.01,friction:.06,maxMagnitude:1/0,maxMagnitudeDelta:0,reorientVelocities:!0},initialize:function(){var e=1/0,i=this.maxMagnitude,o=this.owner.state;platypus.Vector.assign(this.owner,"position","x","y","z"),platypus.Vector.assign(this.owner,"velocity","dx","dy","dz"),this.position=this.owner.position,this.velocity=this.owner.velocity,this.lastVelocity=t.setUp(this.velocity),this.collision=null,this.pause=!1,this.moversCopy=this.movers,this.movers=Array.setUp(),this.velocityChanges=Array.setUp(),this.velocityDirections=Array.setUp(),this.ground=t.setUp(this.ground),this.state=o,o.set("grounded",!1),Object.defineProperty(this.owner,"maxMagnitude",{get:function(){return e},set:function(t){"number"==typeof t?(this.clamp=n,e=t,this.maxMagnitudeDelta||(this.maxMagnitudeInterim=t)):(this.clamp=r,"number"==typeof e&&(e={up:e,right:e,down:e,left:e}),"number"==typeof t.up&&(e.up=t.up),"number"==typeof t.right&&(e.right=t.right),"number"==typeof t.down&&(e.down=t.down),"number"==typeof t.left&&(e.left=t.left),"number"==typeof this.maxMagnitudeInterim?this.maxMagnitudeDelta?this.maxMagnitudeInterim={up:this.maxMagnitudeInterim,right:this.maxMagnitudeInterim,down:this.maxMagnitudeInterim,left:this.maxMagnitudeInterim}:this.maxMagnitudeInterim={up:e.up,right:e.right,down:e.down,left:e.left}:this.maxMagnitudeDelta||(this.maxMagnitudeInterim.up=e.up,this.maxMagnitudeInterim.right=e.right,this.maxMagnitudeInterim.down=e.down,this.maxMagnitudeInterim.left=e.left))}.bind(this)}),this.maxMagnitudeInterim=0,this.maxMagnitude=i},events:{"component-added":function(t){"Motion"===t.type&&this.movers.push(t)},"component-removed":function(t){var e=0;"Motion"===t.type&&(e=this.movers.indexOf(t))>=0&&this.movers.greenSplice(e)},load:function(){var t=0,e=this.moversCopy;for(delete this.moversCopy,t=0;t<e.length;t++)this.addMover(e[t]);this.externalForces=this.addMover({velocity:[0,0,0],orient:!1}).velocity,this.speed&&(isNaN(this.speed)||(this.speed=[this.speed,0,0]),this.speed=this.addMover({velocity:this.speed,controlState:"moving"}).velocity),this.gravity&&(isNaN(this.gravity)||(this.gravity=[0,this.gravity,0]),this.gravity=this.addMover({acceleration:this.gravity,orient:!1,aliases:{gravitate:"control-acceleration"}}).acceleration),this.jump&&(isNaN(this.jump)||(this.jump=[0,this.jump,0]),this.jump=this.addMover({velocity:this.jump,instant:!0,controlState:"grounded",state:"jumping",instantSuccess:"just-jumped",instantDecay:.2,aliases:{jump:"instant-motion"}}).instant)},"handle-movement":function(e){var i=e.delta,n=null,r=this.state,o=null,s=this.velocity,a=this.position,c=this.movers,u=c.length;if(!r.get("paused")&&!this.paused){for(s.equals(this.lastVelocity,2)||this.externalForces.addVector(s).subtractVector(this.lastVelocity),s.setXYZ(0,0,0);u--;)(n=c[u].update(i))&&(this.grounded?-1!==c[u].friction?n.multiply(1-c[u].friction):n.multiply(1-this.friction):-1!==c[u].drag?n.multiply(1-c[u].drag):n.multiply(1-this.drag),s.add(n));this.clamp(s,i),this.lastVelocity.setVector(s),o=t.setUp(s).multiply(i),a.add(o),o.recycle(),r.set("grounded",this.grounded),this.grounded=!1}},"hit-solid":function(e){var i=0,n=0,r=e.entity&&e.entity.velocity,o=e.direction,s=!0,a=this.velocityChanges,c=this.velocityDirections,u=a.length;if(o.dot(this.ground)>0&&(this.grounded=!0),(i=this.velocity.scalarProjection(o))>0){for(r?i=(n=Math.max(r.scalarProjection(o),0))<i?n:0:i=0;u--;)if(i<a[u]&&c[u].dot(o)>0){a[u]=i,c[u].setVector(o),s=!1;break}s&&(a.push(i),c.push(t.setUp(o)))}},"handle-post-collision-logic":function(){var t=null,i=this.movers,n=this.velocityChanges,r=this.velocityDirections,o=n.length,s=i.length,a=null,c=0,u=null,l=e;if(o){for(u=Array.setUp();s--;)(a=i[s]).stopOnCollision&&u.push(a);for(;o--;){for(t=r[o],c=n[o]/(s=u.length);s--;)a=u[s],l.setVector(t).normalize().multiply(c-a.velocity.scalarProjection(t)),a.velocity.add(l);t.recycle()}n.length=0,r.length=0}},"set-mover":function(t){"number"==typeof t.maxMagnitudeDelta&&(this.maxMagnitudeDelta=t.maxMagnitudeDelta),t.maxMagnitude&&(this.maxMagnitude=t.maxMagnitude)},"pause-movement":function(){this.paused=!0},"unpause-movement":function(){this.paused=!1},"orientation-updated":function(t){this.reorientVelocities||this.lastVelocity.multiply(t)}},methods:{destroy:function(){var t=0,e=this.maxMagnitude;for(t=this.movers.length-1;t>=0;t--)this.removeMover(this.movers[t]);this.movers.recycle(),this.ground.recycle(),this.lastVelocity.recycle(),this.velocityChanges.recycle(),this.velocityDirections.recycle(),delete this.owner.maxMagnitude,this.owner.maxMagnitude=e,this.state=null}},publicMethods:{addMover:function(t){return this.owner.addComponent(new platypus.components.Motion(this.owner,t))},removeMover:function(t){this.owner.removeComponent(t)}}})}(),function(){"use strict";platypus.createComponentClass({id:"Node",publicProperties:{x:0,y:0,z:0},initialize:function(t){this.nodeId=t.nodeId||this.owner.nodeId||this.owner.id||String(Math.random()),"string"!=typeof this.nodeId&&this.nodeId.length&&(this.nodeId=t.nodeId.join("|")),this.owner.nodeId=this.nodeId,this.owner.isNode=!0,this.map=this.owner.map=this.owner.map||null,this.contains=this.owner.contains=Array.setUp(),this.edgesContain=this.owner.edgesContain=Array.setUp(),platypus.Vector.assign(this.owner,"position","x","y","z"),this.neighbors=this.owner.neighbors=t.neighbors||this.owner.neighbors||{}},events:{"add-neighbors":function(t){var e=0,i=null;for(i in t)t.hasOwnProperty(i)&&(this.neighbors[i]=t[i]);for(e=0;e<this.contains.length;e++)this.contains[e].triggerEvent("set-directions")},"remove-neighbor":function(t){var e=null,i=t;for(e in"string"!=typeof i&&(i=i.nodeId),this.neighbors)if(this.neighbors.hasOwnProperty(e))if("string"==typeof this.neighbors[e]){if(this.neighbors[e]===i){delete this.neighbors[e];break}}else if(this.neighbors[e].nodeId===i){delete this.neighbors[e];break}}},methods:{destroy:function(){this.contains.recycle(),this.edgesContain.recycle()}},publicMethods:{getNode:function(t){var e=null;if(!this.map&&this.owner.map&&(this.map=this.owner.map),this.neighbors[t]){if((e=this.neighbors[t]).isNode)return e;if("string"==typeof e){if(e=this.map.getNode(e))return this.neighbors[t]=e,e}else if(e.length&&(e=this.map.getNode(e.join("|"))))return this.neighbors[t]=e,e;return null}return null},addToNode:function(t){var e=0;for(e=0;e<this.contains.length;e++)if(this.contains[e]===t)return!1;return this.contains.push(t),t},removeFromNode:function(t){var e=0;for(e=0;e<this.contains.length;e++)if(this.contains[e]===t)return this.contains.greenSplice(e);return!1},addToEdge:function(t){var e=0;for(e=0;e<this.edgesContain.length;e++)if(this.edgesContain[e]===t)return!1;return this.edgesContain.push(t),t},removeFromEdge:function(t){var e=0;for(e=0;e<this.edgesContain.length;e++)if(this.edgesContain[e]===t)return this.edgesContain.greenSplice(e);return!1}}})}(),function(){"use strict";var t=include("platypus.Vector"),e=function(t,e){t.id?"string"==typeof t.id?this.id=t.id:Array.isArray(t.id)?this.id=t.id.join("|"):this.id=String(Math.random()):this.id=String(Math.random()),this.isNode=!0,this.map=e,this.contains=Array.setUp(),this.type=t.type||"",this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.neighbors=t.neighbors||{}},i=e.prototype;i.getNode=function(t){var e=null;if(this.neighbors[t]){if((e=this.neighbors[t]).isNode)return e;if("string"==typeof e){if(e=this.map.getNode(e))return this.neighbors[t]=e,e}else if(Array.isArray(e)&&(e=this.map.getNode(e.join("|"))))return this.neighbors[t]=e,e;return null}return null},i.add=function(t){var e=0;for(e=0;e<this.contains.length;e++)if(this.contains[e]===t)return!1;return this.contains.push(t),t},i.remove=function(t){var e=0;for(e=0;e<this.contains.length;e++)if(this.contains[e]===t)return this.contains.greenSplice(e);return!1},i.recycle=function(){this.contains.recycle(),this.recycle()},recycle.add(e,!!springroll.Debug,"Node"),platypus.createComponentClass({id:"NodeMap",publicProperties:{map:[]},initialize:function(){var t=0,i=this.map;for(this.map=Array.setUp(),this.nodes={},this.residentsAwaitingNode=Array.setUp(),t=0;t<i.length;t++)this.addNode(e.setUp(i[t],this))},events:{"add-node":function(t){var i=0,n=null,r=null;for(t.isNode?(r=t,t.map=this):r=e.setUp(t,this),this.addNode(r),i=this.residentsAwaitingNode.length-1;i>=0;i--)n=this.residentsAwaitingNode[i],r.id===n.nodeId&&(this.residentsAwaitingNode.greenSplice(i),n.node=this.getNode(n.nodeId),n.triggerEvent("on-node",n.node))},"child-entity-added":function(t){t.isNode?this.owner.triggerEvent("add-node",t):t.nodeId&&(t.node=this.getNode(t.nodeId),t.node?t.triggerEvent("on-node",t.node):this.residentsAwaitingNode.push(t))}},methods:{addNode:function(t){this.map.push(t),this.nodes[t.id]=t},destroy:function(){var t=0;for(t=0;t<this.map.length;t++)this.map[t]instanceof platypus.Entity||this.map[t].recycle();this.map.recycle(),this.residentsAwaitingNode.recycle()}},publicMethods:{getNode:function(){var t=0,e="",i="",n=arguments;if(1===n.length){if(n[0].isNode)return n[0];Array.isArray(n[0])&&(n=n[0])}for(t=0;t<n.length;t++)e+=i+n[t],i="|";return this.nodes[e]||null},getClosestNode:function(e,i,n){var r=0,o=t.setUp(e),s=t.setUp(),a=0,c=i||this.map,u=null,l=1/0;for(r=0;r<c.length;r++)if((a=s.setVector(o).subtractVector(c[r].position).magnitude())<l){if(n&&n.indexOf(c[r])>=0)break;l=a,u=c[r]}return o.recycle(),s.recycle(),u}}})}(),function(){"use strict";var t=function(t,e,i){return function(){var n=e.getNode(t);return!!this.isPassable(n)&&(this.destinationNodes.length=0,this.destinationNodes.push(n),this.node?this.onEdge(n):this.distance=0,this.progress=0,this.setState("going-"+i),!0)}},e=function(t,e){var i=e.x-t.x,n=e.y-t.y,r=e.z-t.z;return Math.sqrt(i*i+n*n+r*r)},i=function(t,e,i,n){var r=e.x-t.x,o=e.y-t.y,s=0;return t.rotation&&e.rotation?((r=(t.rotation+180)%360)*(1-n)+(o=(e.rotation+180)%360)*n+180)%360:i?(s=Math.acos(r/i),o<0&&(s=2*Math.PI-s),180*s/Math.PI):s},n=function(t,e,i,n){return e*(1-t)+i*t+n};platypus.createComponentClass({id:"NodeResident",publicProperties:{speed:0},initialize:function(t){var i=t.offset||this.owner.nodeOffset||{};this.nodeId=this.owner.nodeId=t.nodeId||this.owner.nodeId,this.neighbors={},this.friendlyNodes=t.nodes||null,this.friendlyEntities=t.shares||null,this.snapToNodes=t.snapToNodes||!1,this.updateOrientation=t.updateOrientation||!1,this.distance=0,this.buffer=t.buffer||0,this.progress=0,this.offset={x:i.x||0,y:i.y||0,z:i.z||0},this.destinationNodes=Array.setUp(),this.algorithm=t.algorithm||e,this.state=this.owner.state,this.state.set("moving",!1),this.state.set("on-node",!1),this.currentState=""},events:{"set-algorithm":function(t){this.algorithm=t||e},"handle-logic":function(t){var e=0,r=0,o=0,s=null,a=null;if(this.owner.node||(a=Array.setUp(this.owner.x,this.owner.y),this.owner.triggerEvent("on-node",this.owner.parent.getClosestNode(a)),a.recycle(),this.owner.triggerEvent("in-location",this.owner)),this.followEntity?(s=this.followEntity.node||this.followEntity)&&s.isNode&&s!==this.node?(this.lag=0,this.state.set("moving",this.gotoNode()),this.followDistance&&(o=this.lag)):this.followEntity=null:o=this.speed*t.delta,this.blocked&&(this.blocked=!1,this.goingToNode&&this.owner.triggerEvent("goto-closest-node",this.goingToNode)),this.destinationNodes.length){if(this.state.set("moving",0!==this.speed),this.node)this.onEdge(this.destinationNodes[0]);else if(!this.lastNode&&(this.owner.triggerEvent("on-node",this.destinationNodes[0]),this.destinationNodes.greenSplice(0),!this.destinationNodes.length))return void this.state.set("moving",!1);if(this.snapToNodes){for(e=0;e<this.destinationNodes.length;e++)this.owner.triggerEvent("on-node",this.destinationNodes[e]);this.destinationNodes.length=0}else for(;this.destinationNodes.length&&o;)this.progress+o>=this.distance?(s=this.destinationNodes[0],o-=this.distance-this.progress,this.progress=0,this.destinationNodes.greenSplice(0),this.owner.triggerEvent("on-node",s),this.destinationNodes.length&&o&&this.onEdge(this.destinationNodes[0])):(this.progress+=o,r=this.progress/this.distance,this.owner.x=n(r,this.lastNode.x,this.destinationNodes[0].x,this.offset.x),this.owner.y=n(r,this.lastNode.y,this.destinationNodes[0].y,this.offset.y),this.owner.z=n(r,this.lastNode.z,this.destinationNodes[0].z,this.offset.z),this.updateOrientation&&(this.owner.rotation=i(this.lastNode,this.destinationNodes[0],this.distance,r)),o=0)}else this.state.set("moving",!1)},"on-node":function(t){var e=0,i=null;for(this.owner.node=this.node=t,this.node.removeFromEdge(this.owner),this.lastNode&&this.lastNode.removeFromEdge(this.owner),this.node.addToNode(this.owner),this.setState("on-node"),this.owner.x=this.node.x+this.offset.x,this.owner.y=this.node.y+this.offset.y,this.owner.z=this.node.z+this.offset.z,this.updateOrientation&&this.node.rotation&&(this.owner.rotation=this.node.rotation),this.owner.triggerEvent("set-directions"),this.friendlyNodes&&this.friendlyNodes[t.type]&&this.owner.trigger(this.friendlyNodes[t.type],t),i=t.contains,e=0;e<i.length;e++)this.owner!==i[e]&&(i[e].triggerEvent("with-"+this.owner.type,this.owner),this.owner.triggerEvent("with-"+i[e].type,i[e]))},"leave-node":function(){this.node&&(this.node.removeFromNode(this.owner),this.owner.triggerEvent("left-node",this.node),this.owner.triggerEvent("remove-directions")),this.lastNode=this.node,this.node=null},"goto-node":function(t){this.gotoNode(t)},follow:function(t){t.entity?(this.followDistance=t.distance,this.followEntity=t.entity):(this.followDistance=0,this.followEntity=t)},"goto-closest-node":function(){var t=function(t,e){var i=0;for(i=0;i<e.length;i++)if(e[i]===t)return!0;return!1},e=function(t,e){return t.type===e},i=function(t,e){return t.type===e.type};return function(n){var r=null,o=this.node||this.lastNode,s=null,a=n.steps||0,c=null;this.goingToNode=n,s="string"==typeof n?e:"string"==typeof n.type?i:t,o&&n&&!s(o,n)&&(c=Array.setUp(),(r=this.traverseNode({depth:20,origin:o,position:o,test:s,destination:n,nodes:c,shortestPath:1/0,distance:0,found:!1,algorithm:this.algorithm,blocked:!1})).distance-=this.progress,r.found?this.followEntity&&this.followDistance?r.distance+(this.followEntity.progress||0)>this.followDistance?(this.lag=r.distance+(this.followEntity.progress||0)-this.followDistance,this.setPath(r,a)):this.lag=0:this.setPath(r,a):r.blocked&&(this.blocked=!0),c.recycle())}}(),"set-directions":function(){var e="",i=0,n=null,r=this.node,o=null;for(e in this.owner.triggerEvent("remove-directions"),r.neighbors)if(r.neighbors.hasOwnProperty(e)&&(this.neighbors[e]=t(r.neighbors[e],r.map,e),this.addEventListener(e,this.neighbors[e]),o=r.map.getNode(r.neighbors[e])))for(n=o.contains,i=0;i<n.length;i++)n[i].triggerEvent("next-to-"+this.owner.type,this.owner),this.owner.triggerEvent("next-to-"+n[i].type,n[i])},"remove-directions":function(){var t="";for(t in this.neighbors)this.neighbors.hasOwnProperty(t)&&(this.removeEventListener(t,this.neighbors[t]),delete this.neighbors[t])}},methods:{gotoNode:function(){var t=function(t,e){return t===e};return function(e){var i=null,n=this.node||this.lastNode,r=null,o=!1;return!e&&this.followEntity&&(e=this.followEntity.node||this.followEntity.lastNode||this.followEntity),n&&e&&this.node!==e&&(r=Array.setUp(),(i=this.traverseNode({depth:20,origin:n,position:n,test:t,destination:e,nodes:r,shortestPath:1/0,distance:0,found:!1,algorithm:this.algorithm,blocked:!1})).distance-=this.progress,i.found?this.followEntity&&this.followDistance?i.distance+(this.followEntity.progress||0)>this.followDistance?(this.lag=i.distance+(this.followEntity.progress||0)-this.followDistance,this.setPath(i),o=!0):this.lag=0:(this.setPath(i),o=!0):i.blocked&&(this.blocked=!0),r.recycle()),o}}(),isPassable:function(t){return t&&this.node!==t&&(!this.friendlyNodes||void 0!==this.friendlyNodes[t.type])&&(!t.contains.length||function(t,e){var i=0,n=0,r=!1;if(null===e)return!0;for(i=0;i<t.length;i++){for(n=0;n<e.length;n++)t[i].type===e[n]&&(r=!0);if(!r)return!1;r=!1}return!0}(t.contains,this.friendlyEntities))},traverseNode:function(t){var i=1,n="",r=t.position.map,o=null,s=null,a=null,c=null,u=t.algorithm||e,l={shortestPath:1/0,found:!1,blocked:!1},h=!0,_=!1;if(0===t.depth||t.distance>t.shortestPath)return t;if(t.test(t.position,t.destination))return t.found=!0,t.shortestPath=t.distance,t;for(a=t.nodes,i=1;i<a.length-1;i++)if(a[i]===t.position)return t;for(n in o=t.position.neighbors)o.hasOwnProperty(n)&&(s=r.getNode(o[n]),_=!0,this.isPassable(s)&&((a=t.nodes.greenSlice()).push(s),c=this.traverseNode({depth:t.depth-1,origin:t.origin,position:s,destination:t.destination,test:t.test,algorithm:u,nodes:a,shortestPath:t.shortestPath,distance:t.distance+u(t.position,s),gateway:t.gateway||n,found:!1,blocked:!1}),a.recycle(),c.found&&l.shortestPath>c.shortestPath&&(l=c),h=!1));return l.blocked=_&&h,l},setPath:function(t,e){t.nodes[0]===this.node&&t.nodes.greenSplice(0),this.destinationNodes.recycle(),this.destinationNodes=t.nodes.greenSlice(),e&&(this.destinationNodes.length=Math.min(e,this.destinationNodes.length))},setState:function(t){"on-node"===t?this.state.set("on-node",!0):(this.state.set("on-node",!1),this.currentState&&this.state.set(this.currentState,!1),this.currentState=t,this.state.set(t,!0))},onEdge:function(t){this.distance=e(this.node,t),this.updateOrientation&&(this.owner.rotation=i(this.node,t,this.distance,this.progress/this.distance)),this.node.addToEdge(this.owner),t.addToEdge(this.owner),this.owner.triggerEvent("leave-node")},destroy:function(){this.destinationNodes.recycle(),this.state=null}}})}(),function(){"use strict";var t=include("platypus.Data"),e=include("platypus.Vector"),i=e.setUp(0,0,1),n=e.setUp(1,0,0),r={identity:[[1,0,0],[0,1,0],[0,0,1]],horizontal:[[-1,0,0],[0,1,0],[0,0,-1]],vertical:[[1,0,0],[0,-1,0],[0,0,-1]],diagonal:[[0,1,0],[1,0,0],[0,0,-1]],"diagonal-inverse":[[0,-1,0],[-1,0,0],[0,0,-1]],"rotate-90":[[0,-1,0],[1,0,0],[0,0,1]],"rotate-180":[[-1,0,0],[0,-1,0],[0,0,1]],"rotate-270":[[0,1,0],[-1,0,0],[0,0,1]]},o=function(){var t=function(t,e,i){var n=0,r=0;for(n=0;n<t.length;n++)r+=t[n]*i[n][e];return r};return function(e,i,n){var r=0,o=0,s=Array.setUp();for(r=0;r<e.length;r++)for(o=0;o<e[0].length;o++)s.push(t(e[r],o,i));for(r=0;r<e.length;r++)for(o=0;o<e[0].length;o++)n[r][o]=s.greenSplice(0);s.recycle()}}(),s=function(t){var e=0,i=0;for(e=0;e<3;e++)for(i=0;i<3;i++)t[e][i]=e===i?1:0;return t};platypus.createComponentClass({id:"Orientation",publicProperties:{scaleX:1,scaleY:1,rotation:0,orientation:0,orientationMatrix:null},initialize:function(){this.loadedOrientationMatrix=this.orientationMatrix,this.matrix=Array.setUp(Array.setUp(1,0,0),Array.setUp(0,1,0),Array.setUp(0,0,1)),this.matrixTween=Array.setUp(Array.setUp(1,0,0),Array.setUp(0,1,0),Array.setUp(0,0,1)),this.relocationMessage=t.setUp("position",null),this.vectors=Array.setUp(),this.inverses=Array.setUp(),this.tweens=Array.setUp(),this.orientationVector=function(t,r){var a=e.setUp(1,0,0),c=t.owner,u=Array.setUp(Array.setUp(1,0,0),Array.setUp(0,1,0),Array.setUp(0,0,1));return Object.defineProperty(c,"orientationMatrix",{get:function(){return o(t.matrixTween,t.matrix,s(u)),u},enumerable:!0}),delete c.orientation,Object.defineProperty(c,"orientation",{get:function(){return a.signedAngleTo(n,i)},set:function(t){a.setVector(n).rotate(t)},enumerable:!0}),r&&("number"!=typeof r?a.set(r):a.rotate(r)),a}(this,this.orientation),this.owner.triggerEvent("orient-vector",this.orientationVector),this.owner.state.set("reorienting",!1)},events:{load:function(){this.loadedOrientationMatrix?this.transform(this.loadedOrientationMatrix):(this.scaleX&&this.scaleX<0&&(this.scaleX=-this.scaleX,this.transform("horizontal")),this.scaleY&&this.scaleY<0&&(this.scaleY=-this.scaleY,this.transform("vertical")),this.rotation&&((this.rotation+270)%360==0?(this.rotation=0,this.transform("rotate-90")):(this.rotation+180)%360==0?(this.rotation=0,this.transform("rotate-180")):(this.rotation+90)%360==0&&(this.rotation=0,this.transform("rotate-270")))),delete this.loadedOrientationMatrix},"handle-logic":function(t){var e=this.tweens.length,i=t.delta,n=this.owner.state,r=null,o=null,a=this.relocationMessage;if(e){for(r=Array.setUp(),n.set("reorienting",!0),s(this.matrixTween);e--;)this.updateTween(this.tweens[e],i)&&r.push(this.tweens.greenSplice(e));for(e=this.vectors.length;e--;)this.updateVector(this.vectors[e],this.inverses[e]);for(e=r.length;e--;)o=r[e],this.transform(o.endMatrix),o.anchor&&(o.offset.multiply(o.endMatrix).addVector(o.anchor),a.position=o.offset,this.owner.triggerEvent("relocate-entity",a),o.recycleOffset&&o.offset.recycle()),o.onFinished(o.endMatrix),o.recycle();r.recycle()}else n.get("reorienting")&&(s(this.matrixTween),n.set("reorienting",!1))},"complete-tweens":function(){var t=0;for(t=0;t<this.tweens.length;t++)this.tweens[t].time=this.tweens[t].endTime},"drop-tweens":function(){var t=0;for(t=this.tweens.length;t--;)this.tweens[t].offset&&this.tweens[t].offset.recycle();for(this.tweens.length=0,t=this.vectors.length;t--;)this.updateVector(this.vectors[t],this.inverses[t])},"orient-vector":function(t){var i=t.aligned||!1;t.vector&&(t=t.vector),-1===this.vectors.indexOf(t)&&(i||t.multiply(this.matrix),this.vectors.push(t),this.inverses.push(e.setUp()))},"remove-vector":function(t){var e=this.vectors.indexOf(t);e>=0&&(this.vectors.greenSplice(e),this.inverses.greenSplice(e).recycle())},"tween-transform":function(){var e=function(){},i=function(){return!0},n=function(t){return t};return function(o){var s=null,a=o.angle||0,c=o.matrix,u=t.setUp("transform",o.transform,"anchor",o.anchor,"endTime",o.time||0,"time",0,"tween",o.tween||n,"onFinished",o.onFinished||e,"beforeTick",o.beforeTick||i,"afterTick",o.afterTick||e);if(c||(c=r[o.transform]),u.endMatrix=c,!a&&0===o.transform.indexOf("rotate"))switch(o.transform){case"rotate-90":a=Math.PI/2;break;case"rotate-180":a=Math.PI;break;case"rotate-270":a=-Math.PI/2;break;default:a=(s=o.transform.greenSplit("-"))[1]/180*Math.PI,s.recycle()}u.angle=a,o.anchor&&(u.offset=o.offset,u.offset||(u.offset=this.owner.position.copy().subtractVector(o.anchor,2),u.recycleOffset=!0)),this.tweens.push(u)}}(),transform:function(t){this.transform(t)},"prepend-transform":function(t){this.transform(t)},"append-transform":function(t){this.transform(t,!0)},"replace-transform":function(t){Array.isArray(t)?this.replace(t):"string"==typeof t&&r[t]&&this.replace(r[t])}},methods:{transform:function(t,e){Array.isArray(t)?this.multiply(t,e):"string"==typeof t&&r[t]&&this.multiply(r[t],e)},multiply:function(t,e){var i=0;for(e?o(this.matrix,t,this.matrix):o(t,this.matrix,this.matrix),i=0;i<this.vectors.length;i++)this.vectors[i].multiply(t),this.inverses[i].multiply(t);this.owner.triggerEvent("orientation-updated",t)},replace:function(){var t=function(t,e,i,n){return t*n-e*i},e=function(e){var i=Array.setUp(Array.setUp(),Array.setUp(),Array.setUp()),n=1/function(t){var e=0,i=0;for(e=0;e<3;e++)i+=t[e][0]*t[(e+1)%3][1]*t[(e+2)%3][2],i-=t[e][2]*t[(e+1)%3][1]*t[(e+2)%3][0];return i}(e);return i[0].push(t(e[1][1],e[1][2],e[2][1],e[2][2])*n),i[0].push(t(e[0][2],e[0][1],e[2][2],e[2][1])*n),i[0].push(t(e[0][1],e[0][2],e[1][1],e[1][2])*n),i[1].push(t(e[1][2],e[1][0],e[2][2],e[2][0])*n),i[1].push(t(e[0][0],e[0][2],e[2][0],e[2][2])*n),i[1].push(t(e[0][2],e[0][0],e[1][2],e[1][0])*n),i[2].push(t(e[1][0],e[1][1],e[2][0],e[2][1])*n),i[2].push(t(e[0][1],e[0][0],e[2][1],e[2][0])*n),i[2].push(t(e[0][0],e[0][1],e[1][0],e[1][1])*n),i};return function(t){var i=e(this.matrix);this.multiply(i),this.multiply(t),i.recycle(2)}}(),updateTween:function(){var t=function(t,e,i){return t*(1-i)+e*i};return function(i,n){var r=0,s=1,a=0,c=0,u=1,l=1,h=0,_=i.endMatrix,p=null,d=null,f=null;return i.beforeTick(i.time)&&(i.time+=n),i.time>=i.endTime||(r=i.tween(i.time/i.endTime),i.angle?(h=r*i.angle,s=u=Math.cos(h),c=-(a=Math.sin(h))):(s=t(s,_[0][0],r),a=t(a,_[1][0],r),c=t(c,_[0][1],r),u=t(u,_[1][1],r),l=t(l,_[2][2],r)),p=Array.setUp(Array.setUp(s,c,0),Array.setUp(a,u,0),Array.setUp(0,0,l)),o(this.matrixTween,p,this.matrixTween),i.anchor&&(d=e.setUp(i.offset).multiply(1-r),f=e.setUp(i.offset).multiply(r),this.owner.triggerEvent("relocate-entity",{position:d.add(f).multiply(p).addVector(i.anchor)}),d.recycle(),f.recycle()),i.afterTick(r,p),p.recycle(2),!1)}}(),updateVector:function(t,e){e.setVector(t.add(e)),t.multiply(this.matrixTween),e.subtractVector(t)},destroy:function(){this.vectors.recycle(),this.inverses.recycle(),this.tweens.recycle(),this.orientationVector.recycle(),this.orientationMatrix.recycle(2),this.matrix.recycle(2),this.matrixTween.recycle(2),this.relocationMessage.recycle()}}})}(),function(){"use strict";var t=function(t){return function(e,i){this.owner.trigger(t[Math.floor(Math.random()*t.length)],e,i)}};platypus.createComponentClass({id:"RandomEvents",initialize:function(e){var i="";if(e.events)for(i in e.events)e.events.hasOwnProperty(i)&&this.addEventListener(i,t(e.events[i]))}})}(),function(){"use strict";platypus.createComponentClass({id:"RelayFamily",properties:{events:null},initialize:function(){var t="";if(this.events)for(t in this.events)this.events.hasOwnProperty(t)&&this.addEventListener(t,this.broadcast.bind(this,null,this.events[t]));this.owner.familyLinks=Array.setUp(this.owner)},events:{"link-family":function(t){var e=0,i=this.owner.familyLinks,n=Array.setUp().union(t).union(i);for(e=0;e<n.length;e++)n[e].familyLinks=n;this.broadcast(t,"family-members-added",i),this.broadcast(i,"family-members-added",t),i.recycle()},"entity-created":function(t){t.triggerEvent("link-family",this.owner.familyLinks)||(t.addComponent(new platypus.components.RelayFamily(t,{})),t.triggerEvent("link-family",this.owner.familyLinks))}},methods:{broadcast:function(t){var e=t||this.owner.familyLinks,i=0,n=Array.prototype.greenSlice.call(arguments);for(n.greenSplice(0),i=0;i<e.length;i++)e[i].trigger.apply(e[i],n);n.recycle()},destroy:function(){var t=this.owner.familyLinks,e=t.indexOf(this.owner);e>=0&&t.greenSplice(e),this.broadcast(t,"family-member-removed",this.owner),this.events=null}}})}(),function(){"use strict";var t=function(){var t=platypus.game.currentScene;t.triggerOnChildren.apply(t,arguments)};platypus.createComponentClass({id:"RelayGame",properties:{events:null},initialize:function(){var e="",i=this.events;if(i)for(e in i)i.hasOwnProperty(e)&&this.addEventListener(e,t.bind(this,i[e]))}})}(),function(){"use strict";var t=function(){var t=0,e=null;for(t=0;t<this.links.length;t++)(e=this.links[t]).trigger.apply(e,arguments)};platypus.createComponentClass({id:"RelayLinker",properties:{linkId:"linked",events:null},initialize:function(){var e=0,i="";if(this.events)for(i in this.events)this.events.hasOwnProperty(i)&&this.addEventListener(i,t.bind(this,this.events[i]));if(this.owner.linkId||(this.owner.linkId=this.linkId),this.addEventListener("to-"+this.linkId+"-entities",t.bind(this,"from-"+this.linkId+"-entities")),this.addEventListener("from-"+this.linkId+"-entities",function(t){this.owner.trigger(t.message,t.value,t.debug)}.bind(this)),this.links=Array.setUp(),this.owner.linkEntities)for(e=0;e<this.owner.linkEntities.length;e++)this.links.push(this.owner.linkEntities[e]);this.message={message:"",value:null},this.linkMessage={entity:this.owner,linkId:this.linkId,reciprocate:!1}},events:{load:function(){for(var t=this.owner.parent;t.parent;)t=t.parent;this.linkMessage.reciprocate=!0,t.triggerOnChildren("link-entity",this.linkMessage)},"link-entity":function(t){t.linkId===this.linkId&&t.entity!==this.owner&&-1===this.links.indexOf(t.entity)&&(this.links.push(t.entity),t.reciprocate&&(this.linkMessage.reciprocate=!1,t.entity.triggerEvent("link-entity",this.linkMessage)))},"unlink-entity":function(t){var e=this.links.indexOf(t.entity);e>=0&&this.links.greenSplice(e)}},methods:{destroy:function(){var t=0;for(t=0;t<this.links.length;t++)this.links[t].triggerEvent("unlink-entity",this.linkMessage);this.links.recycle(),this.links=null,this.events=null}}})}(),function(){"use strict";var t=function(){var t=this.owner.parent;t&&t.trigger.apply(t,arguments)};platypus.createComponentClass({id:"RelayParent",properties:{events:null},initialize:function(){var e="",i=this.events;if(i)for(e in i)i.hasOwnProperty(e)&&this.addEventListener(e,t.bind(this,i[e]))}})}(),function(){"use strict";var t=function(){var t=this.owner;t.trigger.apply(t,arguments)};platypus.createComponentClass({id:"RelaySelf",properties:{events:null},initialize:function(){var e="",i=this.events;if(i)for(e in i)i.hasOwnProperty(e)&&this.addEventListener(e,t.bind(this,i[e]))}})}(),function(){"use strict";var t=include("platypus.AABB"),e=include("PIXI.animate.Animator",!1),i=include("platypus.Data"),n=include("platypus.components.EventRender"),r=include("PIXI.Graphics"),o=include("platypus.components.Interactive"),s=include("platypus.components.StateRender"),a=function(){var t=function(t,e){var i=0,n=e.indexOf("("),r=e.substring(0,n),o=e.substring(n+1,e.indexOf(")"));if(o.length){for(i=(o=o.greenSplit(",")).length;i--;)o[i]=+o[i];t[r].apply(t,o),o.recycle()}else t[r]()};return function(e,i){var n=0,r=i.greenSplit(".");for(n=0;n<r.length;n++)t(e,r[n]);r.recycle()}}();platypus.createComponentClass({id:"RenderAnimation",properties:{animation:"",animationMap:null,framerate:24,mask:null,interactive:!1,visible:!0,eventBased:!1,stateBased:!0,regX:0,regY:0,offsetZ:0},publicProperties:{scaleX:1,scaleY:1,x:0,y:0,z:0},initialize:function(){var e=function(t,e){var r=null,a=function(t,e,i,n){var r=i-1,o=null,s=e.length;for(n[0]=r;s--;)n[e[s].label]=r,r=e[s].label;if(t)return t;if(Array.isArray(e)&&1===e.length)return null;for(o={},s=e.length;s--;)o[e[s].label]=e[s].label;return o}(this.animationMap,e.labels,e.totalFrames,this.endings);this.instance=e,e.framerate=this.framerate,this.stateBased=a&&this.stateBased,this.eventBased=a&&this.eventBased,a&&(this.eventBased&&(r=i.setUp("animationMap",a,"restart",this.restart,"component",this),this.owner.addComponent(new n(this.owner,r)),r.recycle()),this.stateBased&&(r=i.setUp("animationMap",a,"forcePlayThrough",this.forcePlayThrough,"component",this),this.owner.addComponent(new s(this.owner,r)),r.recycle())),this.parentContainer&&(this.parentContainer.addChild(this.instance),this.ready=!0,this.mask&&this.setMask(this.mask),this.update()),this.interactive?(r=i.setUp("container",e,"hitArea",this.interactive.hitArea,"hover",this.interactive.hover),this.owner.addComponent(new o(this.owner,r,function(){this.owner.triggerEvent("input-on"),t()}.bind(this))),r.recycle()):t()};return function(n,r){return this.endings=i.setUp(),this.instance=null,this.ready=!1,this.animation&&PIXI.animate.load(include(this.animation),e.bind(this,r)),this.parentContainer=null,this.wasVisible=this.visible,this.lastX=this.owner.x,this.lastY=this.owner.y,this.camera=t.setUp(),this.isOnCamera=!0,!0}}(),events:{"camera-update":function(t){this.camera.set(t.viewport),this.instance&&this.checkCameraBounds()},"handle-render-load":function(t){!this.parentContainer&&t&&t.container&&this.addStage(t.container)},"handle-render":function(t){this.ready||this.parentContainer||this.addStage(t.container),this.ready&&this.update()},"hide-animation":function(){this.visible=!1},"show-animation":function(){this.visible=!0},"set-mask":function(t){this.setMask(t)},"stop-animation":function(t){var i=this.instance;t&&i.has(t)?i.gotoAndStop(t):e.stop(i)},"play-animation":function(t,e){this.playAnimation(t,e)}},methods:{checkCameraBounds:function(){this.isOnCamera=this.owner.parent.isOnCanvas(this.instance.getBounds(!1))},addStage:function(t){return t?(this.parentContainer=t,this.instance&&(this.parentContainer.addChild(this.instance),this.ready=!0,this.mask&&this.setMask(this.mask)),this.playAnimation(0),t):null},playAnimation:function(t){var i=this.instance;e.fromTo(i,t,this.endings[t]||0,!1,function(t){this.playAnimation(t),this.owner.triggerEvent("animation-ended",t,this.instance)}.bind(this,t))},setMask:function(t){var e=null;this.mask&&this.parentContainer&&this.parentContainer.removeChild(this.mask),t?(t instanceof r?e=t:((e=new r).beginFill(0,1),"string"==typeof t?a(e,t):t.radius?e.dc(t.x||0,t.y||0,t.radius):t.width&&t.height&&e.r(t.x||0,t.y||0,t.width,t.height),e.endFill()),e.isMask=!0,this.mask=this.instance.mask=e,this.mask.z=0,this.parentContainer&&this.parentContainer.addChild(this.mask)):this.mask=this.instance.mask=null},update:function(){var t=this.instance,e=t.scale;e.x=this.scaleX,e.y=this.scaleY,t.x=this.x-this.regX*this.scaleX,t.y=this.y-this.regY*this.scaleY,t.z!==this.z+this.offsetZ&&(this.parentContainer&&(this.parentContainer.reorder=!0),t.z=this.z+this.offsetZ),(this.owner.opacity||0===this.owner.opacity)&&(this.instance.alpha=this.owner.opacity),this.instance&&(!this.wasVisible&&this.visible||this.lastX!==this.owner.x||this.lastY!==this.owner.y)&&this.checkCameraBounds(),this.lastX=this.owner.x,this.lastY=this.owner.y,this.wasVisible=this.visible,this.instance.visible=this.visible&&this.isOnCamera||this.dragMode},destroy:function(){this.camera.recycle(),this.parentContainer&&!this.instance.mouseTarget?(this.parentContainer.removeChild(this.instance),this.parentContainer=null):this.cache||this.instance.destroy(),this.instance=null}}})}(),function(){"use strict";var t=include("platypus.AABB"),e=include("PIXI.CanvasRenderer"),i=include("PIXI.filters.ColorMatrixFilter"),n=include("PIXI.Container"),r=include("platypus.Data"),o=include("PIXI.Graphics"),s=include("platypus.components.Interactive"),a=new(include("PIXI.Matrix")),c=function(t){return null===t?t:("string"==typeof t&&"#"===t[0]&&(t="0x"+t.substring(1)),+t)},u=function(){var t=function(t,e){var i=0,n=e.indexOf("("),r=e.substring(0,n),o=e.substring(n+1,e.indexOf(")"));if(o.length){for(i=(o=o.greenSplit(",")).length;i--;)o[i]=+o[i];t[r].apply(t,o),o.recycle()}else t[r]()};return function(e,i){var n=0,r=i.greenSplit(".");for(n=0;n<r.length;n++)t(e,r[n]);r.recycle()}}();platypus.createComponentClass({id:"RenderContainer",properties:{mask:null,interactive:!1,rotate:!1,mirror:!1,flip:!1,visible:!0,cache:!1,ignoreOpacity:!1,localMask:!1},publicProperties:{dragMode:!1,renderGroup:"",rotation:0,scaleX:1,scaleY:1,skewX:0,skewY:0,tint:null,x:0,y:0,z:0},initialize:function(){var o=this.container=this.owner.container=new n,a=null,u=this.tint;this.rootContainer=null,this.parentContainer=null,this.renderGroups=null,this.wasVisible=this.visible,this.lastX=this.owner.x,this.lastY=this.owner.y,this.camera=t.setUp(),this.isOnCamera=!0,this.needsCameraCheck=!0,this._tint=null,platypus.game.app.display.renderer instanceof e?Object.defineProperty(this.owner,"tint",{get:function(){return this._tint}.bind(this),set:function(t){var e=this.container.children,i=e.length,n=c(t);if(n!==this._tint){for(;i--;)e[i].tint=n;this._tint=n}}.bind(this)}):Object.defineProperty(this.owner,"tint",{get:function(){return this._tint}.bind(this),set:function(t){var e=this.container.filters,n=null,r=c(t);r!==this._tint&&(null===r?e&&(this.container.filters=null):(e||(e=this.container.filters=Array.setUp(new i)),(n=e[0].matrix)[0]=(16711680&r)/16711680,n[6]=(65280&r)/65280,n[12]=(255&r)/255),this._tint=r)}.bind(this)}),this.storedRenderGroup=this.renderGroup,this._renderGroup=null,Object.defineProperty(this.owner,"renderGroup",{get:function(){return this._renderGroup}.bind(this),set:function(t){var e=this.renderGroups,i=e.length,r=null,o=null;if(t!==this._renderGroup){for(this._renderGroup=t,this.mask&&(o=this.mask,this.setMask());i--;)if(e[i].name===t)return this.parentContainer=e[i],e[i].addChild(this.container),e[i].reorder=!0,void(o&&this.setMask(o));(r=new n).name=t,r.z=this.owner.z,e.push(r),this.rootContainer.addChild(r),this.rootContainer.reorder=!0,this.parentContainer=r,r.addChild(this.container),o&&this.setMask(o)}}.bind(this)}),null!==u&&(this.tint=u),this.interactive&&(a=r.setUp("container",o,"hitArea",this.interactive.hitArea,"hover",this.interactive.hover),this.owner.addComponent(new s(this.owner,a)),a.recycle()),this.cache&&(this.updateSprite(!1),this.owner.cacheRender=this.container)},events:{cache:function(){this.updateSprite(!1),this.owner.cacheRender=this.container,this.cache=!0,this.owner.parent.triggerEventOnChildren?this.owner.parent.triggerEventOnChildren("cache-sprite",this.owner):platypus.debug.warn("Unable to cache sprite for "+this.owner.type)},"camera-update":function(t){this.camera.set(t.viewport),this.needsCameraCheck=!0},"handle-render-load":function(t){!this.rootContainer&&t&&t.container&&(this.addStage(t.container,t.renderGroups),this.updateSprite(!0))},"handle-render":function(t){this.container&&(!this.rootContainer&&t&&t.container&&this.addStage(t.container,t.renderGroups),this.updateSprite(!0))},"hide-sprite":function(){this.visible=!1},"show-sprite":function(){this.visible=!0},"set-mask":function(t){this.setMask(t)}},methods:{addStage:function(t,e){return t?(this.rootContainer=t,this.renderGroups=e,this.renderGroup=this.storedRenderGroup,this.mask&&this.setMask(this.mask),this.owner.triggerEvent("input-on"),t):null},updateSprite:function(){var t=function(t,e){return t.z-e.z};return function(e){var i,n,r=this.owner.orientationMatrix,o=0,s=a,c=1,u=1,l=null;i=this.owner.x,n=this.owner.y,this.rotate&&(o=this.rotation),this.container.z!==this.owner.z&&(this.parentContainer&&(this.parentContainer.reorder=!0),this.container.z=this.owner.z),this.ignoreOpacity||!this.owner.opacity&&0!==this.owner.opacity||(this.container.alpha=this.owner.opacity),this.container.reorder&&(this.container.reorder=!1,this.container.children.sort(t),this.needsCameraCheck=!0),(this.mirror||this.flip)&&(l=this.rotation%360,this.mirror&&l>90&&l<270&&(c=-1),this.flip&&l<180&&(u=-1)),r?(s.a=r[0][0],s.b=r[1][0],s.tx=i+r[0][2],s.c=r[0][1],s.d=r[1][1],s.ty=n+r[1][2],this.container.transform.setFromMatrix(s)):this.container.setTransform(i,n,this.scaleX*c,this.scaleY*u,o?o/180*Math.PI:0,this.skewX,this.skewY),this.needsCameraCheck||(this.needsCameraCheck=this.lastX!==this.owner.x||this.lastY!==this.owner.y),e&&this.container&&(this.needsCameraCheck||!this.wasVisible&&this.visible)&&(this.isOnCamera=this.owner.parent.isOnCanvas(this.container.getBounds(!1)),this.needsCameraCheck=!1),this.lastX=this.owner.x,this.lastY=this.owner.y,this.wasVisible=this.visible,this.container.visible=this.visible&&this.isOnCamera||this.dragMode}}(),setMask:function(t){var e=null;this.mask&&(this.localMask?this.container.removeChild(this.mask):this.parentContainer&&this.parentContainer.removeChild(this.mask)),t?(t instanceof o?e=t:((e=new o).beginFill(0,1),"string"==typeof t?u(e,t):t.radius?e.dc(t.x||0,t.y||0,t.radius):t.width&&t.height&&e.r(t.x||0,t.y||0,t.width,t.height),e.endFill()),e.isMask=!0,this.mask=this.container.mask=e,this.mask.z=0,this.localMask?this.container.addChild(this.mask):this.parentContainer&&this.parentContainer.addChild(this.mask)):this.mask=this.container.mask=null},destroy:function(){this.camera.recycle(),this.parentContainer&&!this.container.mouseTarget?(this.parentContainer.removeChild(this.container),this.parentContainer=null):this.cache||this.container.destroy(),this.container=null}}})}(),function(){"use strict";var t=include("PIXI.Graphics"),e=include("platypus.components.RenderContainer"),i=function(e,i,n,r,o,s,a,c){var u=(new t).beginFill(i,.1);switch(c&&u.lineStyle(c,i),e){case"rectangle":u.drawRect(n,r,o,s);break;case"circle":u.drawCircle(0,0,o)}return u.z=a,u},n=function(t){return"string"==typeof t?parseInt(t.replace("#",""),16):t};platypus.createComponentClass({id:"RenderDebug",properties:{aabbColor:16746751,collisionColor:16711935,groupColor:65280,renderColor:255,width:100,height:100,offsetZ:1e4},initialize:function(){this.shapes=Array.setUp(),this.isOutdated=!0,this.aabbColor=n(this.aabbColor),this.collisionColor=n(this.collisionColor),this.groupColor=n(this.groupColor),this.renderColor=n(this.renderColor)},events:{load:function(){platypus.game.settings.debug?this.owner.container||this.owner.addComponent(new e(this.owner,null)):this.owner.removeComponent(this)},"handle-render":function(){var t=null;this.isOutdated&&(this.updateSprites(),this.isOutdated=!1),this.owner.getCollisionGroupAABB&&(t=this.owner.getCollisionGroupAABB(),this.groupShape||(this.groupShape=i("rectangle",this.groupColor,-.5,-.5,1,1,this.offsetZ),this.owner.container.addChild(this.groupShape)),this.groupShape.scaleX=t.width,this.groupShape.scaleY=t.height,this.groupShape.x=t.x-this.owner.x,this.groupShape.y=t.y-this.owner.y)},"orientation-updated":function(){this.isOutdated=!0}},methods:{updateSprites:function(){var t=this.owner,e=this.offsetZ,n=0,r=0,o=this.width,s=this.height,a=null,c=null,u=null;for(n=0;n<this.shapes.length;n++)t.container.removeChild(this.shapes[n]);if(this.shapes.length=0,t.getAABB)for(r=0;r<t.collisionTypes.length;r++)for(c=t.getAABB(t.collisionTypes[r]),o=this.initialWidth=c.width,s=this.initialHeight=c.height,a=t.getShapes(t.collisionTypes[r]),u=i("rectangle",this.aabbColor,c.left-t.x,c.top-t.y,o,s,e--),this.shapes.push(u),t.container.addChild(u),this.addInput(u),n=0;n<a.length;n++)o=a[n].width-2,s=a[n].height-2,u=i(a[n].type,this.collisionColor,a[n].offsetX-o/2,a[n].offsetY-s/2,a[n].radius?a[n].radius-2:o,s,e--,2),this.shapes.push(u),t.container.addChild(u),this.addInput(u);else u=i("rectangle",this.renderColor,-o/2,-s/2,o,s,e--),this.shapes.push(u),t.container.addChild(u),this.addInput(u);t.container.reorder=!0},addInput:function(){var t=null,e=function(){return t!==this.owner&&(t=this.owner,platypus.debug.olive('Entity "'+t.type+'":',t)),!1};return function(t){t.interactive=!0,t.addListener("rightdown",e.bind(this))}}(),destroy:function(){var t=0;for(t=0;t<this.shapes.length;t++)this.owner.container.removeChild(this.shapes[t]);this.shapes.recycle()}}})}(),function(){"use strict";platypus.createComponentClass({id:"RenderDestroyMe",properties:{animationId:"",animationIds:null},initialize:function(t){this.animationId?this.animationIds=Array.setUp(t.animationId):this.animationIds&&(this.animationIds=this.animationIds.greenSlice())},events:{"animation-ended":function(t){(!this.animationIds||this.animationIds.indexOf(t)>=0)&&this.owner.parent.removeEntity(this.owner)}},methods:{destroy:function(){this.animationIds&&(this.animationIds.recycle(),delete this.animationIds)}}})}(),function(){"use strict";platypus.createComponentClass({id:"RenderProgress",properties:{backgroundColor:0,color:16777215,rotate:!1,mirror:!1,flip:!1,width:100,height:20,regX:0,regY:0},publicProperties:{x:0,y:0,z:0},initialize:function(){var t=new PIXI.Graphics,e=new PIXI.Graphics,i=new PIXI.Container;this.parentContainer=null,this.background=t,this.progress=e,this.container=i,"string"==typeof this.backgroundColor&&(this.backgroundColor=+this.backgroundColor.replace("#","0x")),"string"==typeof this.color&&(this.color=+this.color.replace("#","0x")),t.f(this.backgroundColor).r(-this.regX,-this.regY,this.width,this.height),e.f(this.color).r(-this.regX,-this.regY,this.width,this.height),e.scale=new PIXI.Point(1e-4,1),i.addChild(t),i.addChild(e)},events:{"handle-render-load":function(t){!this.parentContainer&&t&&t.container&&(this.parentContainer=t.container,this.parentContainer.addChild(this.container))},"handle-render":function(t){this.container&&(this.parentContainer||(t&&t.container?(this.parentContainer=t.container,this.parentContainer.addChild(this.container)):(platypus.debug.warn('No PIXI Stage, removing ProgressRender component from "'+this.owner.type+'".'),this.owner.removeComponent(this))),this.container.x=this.x,this.container.y=this.y,this.container.z=this.z)},"update-progress":function(t){isNaN(t)?"number"==typeof t.fraction?this.progress.scale.x=t.fraction:"number"==typeof t.total&&"number"==typeof t.progress&&(this.progress.scale.x=t.progress/t.total):this.progress.scale.x=t}},methods:{destroy:function(){this.parentContainer&&(this.parentContainer.removeChild(this.container),this.parentContainer=null),this.container=null}}})}(),function(){"use strict";var t,e=include("PIXI.spine.core.TextureAtlas",!1),i=include("PIXI.spine.core.AtlasAttachmentLoader",!1),n=include("PIXI.BaseTexture"),r=include("platypus.Data"),o=include("platypus.components.EventRender"),s=include("platypus.components.RenderContainer"),a=include("PIXI.spine.core.SkeletonJson",!1),c=include("PIXI.spine.Spine",!1),u=include("platypus.components.StateRender"),l=function(t){var e;return(e=platypus.game.app.assetManager.cache.read(t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."))))||platypus.debug.warn('RenderSpine: "'+t+'" is not a loaded asset.'),new n(e)};c&&platypus.createComponentClass({id:"RenderSpine",properties:{animationMap:null,mask:null,interactive:!1,mixTimes:0,offsetX:0,offsetY:0,offsetZ:0,atlas:"",skeleton:null,rotate:!1,mirror:!1,flip:!1,visible:!0,eventBased:!1,stateBased:!0},publicProperties:{dragMode:!1,scaleX:1,scaleY:1,skewX:0,skewY:0,rotation:0,x:0,y:0,z:0},initialize:(t=function(t,e,i){var n=l(e);i(n),n.isLoading?n.on("loaded",t):t()},function(n,l){var h,_="",p=null,d=platypus.game.settings,f=d.atlases[this.atlas],b=d.skeletons[this.skeleton],m=new e(f,t.bind(null,l)),g=new a(new i(m)).readSkeletonData(b),y=this.spine=new c(g);return y.state.addListener({event:function(t,e){var i=e.data.name;this.playAnimation(i)&&this.spine.update(1e-6),this.owner.trigger(i,e.data)}.bind(this),complete:function(){this.owner.triggerEvent("animation-ended",this.currentAnimation)}.bind(this)}),y.autoUpdate=!1,h=function(t,e){var i=null,n="";if(t)return t;for(n in i={},e)e.hasOwnProperty(n)&&(i[n]=n);return i}(this.animationMap,b.animations),this.stateBased=h&&this.stateBased,this.eventBased=h&&this.eventBased,h&&(_=h.default||"",this.eventBased&&(p=r.setUp("animationMap",h,"component",this),this.owner.addComponent(new o(this.owner,p)),p.recycle()),this.stateBased&&(p=r.setUp("animationMap",h,"forcePlayThrough",this.forcePlayThrough,"component",this),this.owner.addComponent(new u(this.owner,p)),p.recycle())),this.mixTimes&&this.setMixTimes(this.mixTimes),_&&(this.currentAnimation=_,y.state.setAnimation(0,_,!0)),y.x=this.offsetX,y.y=this.offsetY,y.z=this.offsetZ,this.owner.container?this.addToContainer():(p=r.setUp("interactive",this.interactive,"mask",this.mask,"rotate",this.rotate,"mirror",this.mirror,"flip",this.flip,"visible",this.visible,"cache",this.cache,"ignoreOpacity",this.ignoreOpacity,"scaleX",this.scaleX,"scaleY",this.scaleY,"skewX",this.skewX,"skewY",this.skewY,"rotation",this.rotation),this.owner.addComponent(new s(this.owner,p,this.addToContainer.bind(this))),p.recycle()),!0}),events:{"handle-render":function(t){this.spine&&(this.owner.triggerEvent("update-animation",!0),this.spine.update(t.delta/1e3))},"set-mix-times":function(t){this.setMixTimes(t)},hide:function(){this.visible=!1},show:function(){this.visible=!0},"stop-animation":function(t){this.stopAnimation(t)},"play-animation":function(t){this.playAnimation(t)}},methods:{addToContainer:function(){var t=this.owner.container;t.addChild(this.spine),t.reorder=!0},playAnimation:function(t){var e=this.spine;return!(!t||!e.state.hasAnimation(t)||(this.currentAnimation=t,e.state.setAnimation(0,t,!0),this.paused=!1,0))},stopAnimation:function(t){var e=this.spine;t&&e.state.hasAnimation(t)&&(this.currentAnimation=t,e.state.setAnimation(0,t,!1)),this.paused=!0},setMixTimes:function(t){var e=this.spine,i=e.spineData.animations,n=0,r=0,o=0,s="",a=e.stateData;if("number"==typeof t)for(r=i.length;r--;)for(o=i.length;o--;)r!==o&&a.setMix(i[r].name,i[o].name,t);else for(s in t)t.hasOwnProperty(s)&&(n=s.indexOf(":"))>=0&&a.setMix(s.substring(0,n),s.substring(n+1),t[s]);this.mixTimes=a.animationToMixTime},destroy:function(){this.owner.container.removeChild(this.spine),this.spine.destroy(),this.spine=null,this.mixTimes=null}},getAssetList:function(){var t=function(t,e){var i=Array.setUp(),n=null,r=0;if(t){if(1===(n=t.split("\n")).length){if(!(t=e[t]))return i;n=t.split("\n")}for(r=n.length;r--;)".png"===n[r].substr(n[r].length-4)&&i.push(n[r])}return i};return function(e,i,n){var r=null,o=0,s=null,a=platypus.game.settings.atlases,c=e.atlas||i.atlas||n.atlas;if(Array.isArray(c)){for(o=c.length,s=Array.setUp();o--;)r=t(c[o],a),s.union(r),r.recycle();return s}return t(c,a)}}()})}(),function(){"use strict";var t=(include("platypus.AABB"),include("platypus.Data")),e=include("platypus.components.EventRender"),i=include("platypus.components.RenderContainer"),n=include("platypus.PIXIAnimation"),r=include("platypus.components.StateRender");platypus.createComponentClass({id:"RenderSprite",properties:{spriteSheet:null,animationMap:null,mask:null,interactive:!1,offsetX:0,offsetY:0,offsetZ:0,restart:!0,rotate:!1,mirror:!1,flip:!1,visible:!0,eventBased:!1,stateBased:!0,cache:!1,forcePlayThrough:!1,ignoreOpacity:!1,scale:1,scaleX:1,scaleY:1,skew:0,skewX:0,skewY:0,rotation:0},initialize:function(){var o,s="",a=null,c=n.formatSpriteSheet(this.spriteSheet);c===n.EmptySpriteSheet&&platypus.debug.warn('Entity "'+this.owner.type+'": RenderSprite sprite sheet not defined.'),o=function(t,e){var i=null,n="";if(t)return t;if(Array.isArray(e.frames)&&1===e.frames.length)return null;for(n in i={},e.animations)e.animations.hasOwnProperty(n)&&(i[n]=n);return i}(this.animationMap,c),this.stateBased=o&&this.stateBased,this.eventBased=o&&this.eventBased,o&&(s=o.default||"",this.eventBased&&(a=t.setUp("animationMap",o,"restart",this.restart,"component",this),this.owner.addComponent(new e(this.owner,a)),a.recycle()),this.stateBased&&(a=t.setUp("animationMap",o,"forcePlayThrough",this.forcePlayThrough,"component",this),this.owner.addComponent(new r(this.owner,a)),a.recycle())),this.sprite=new n(c,s),this.sprite.on("complete",function(t){this.owner.triggerEvent("animation-ended",t)}.bind(this)),this.sprite.x=this.offsetX,this.sprite.y=this.offsetY,this.sprite.z=this.offsetZ,this.owner.container?this.addToContainer():(a=t.setUp("interactive",this.interactive,"mask",this.mask,"rotate",this.rotate,"mirror",this.mirror,"flip",this.flip,"visible",this.visible,"cache",this.cache,"ignoreOpacity",this.ignoreOpacity,"scaleX",this.scaleX,"scaleY",this.scaleY,"skewX",this.skewX,"skewY",this.skewY,"rotation",this.rotation),this.owner.addComponent(new i(this.owner,a,this.addToContainer.bind(this))),a.recycle()),c.recycleSpriteSheet()},events:{"handle-render":function(t){this.sprite&&(this.owner.triggerEvent("update-animation",!0),this.sprite.update(t.delta))},"stop-animation":function(t){this.stopAnimation(t)},"play-animation":function(t,e){this.playAnimation(t,e)}},methods:{addToContainer:function(){var t=this.owner.container;t.addChild(this.sprite),t.reorder=!0},playAnimation:function(t,e){var i=this.sprite;t&&i.has(t)?i.gotoAndPlay(t,e):i.play()},stopAnimation:function(t){var e=this.sprite;t&&e.has(t)?e.gotoAndStop(t):e.stop()},destroy:function(){this.owner.container.removeChild(this.sprite),this.sprite.destroy(),this.sprite=null}},getAssetList:function(){var t=function(e,i){if(e){if("string"==typeof e)return t(i[e],i);if(e.images)return e.images.greenSlice()}return Array.setUp()};return function(e,i,n){var r=null,o=0,s=null,a=platypus.game.settings.spriteSheets,c=e.spriteSheet||i.spriteSheet||n.spriteSheet;if(Array.isArray(c)){for(o=c.length,s=Array.setUp();o--;)r=t(c[o],a),s.union(r),r.recycle();return s}return t(c,a)}}()})}(),function(){"use strict";var t=include("platypus.components.RenderContainer"),e=include("PIXI.Text"),i={horizontal:{left:0,middle:.5,center:.5,right:1},vertical:{top:0,middle:.5,center:.5,bottom:1}};platypus.createComponentClass({id:"RenderText",properties:{offsetX:0,offsetY:0,offsetZ:0,text:"",style:null},initialize:function(n){var r=i.horizontal[this.style.align],o=i.vertical[this.style.verticalAlign];this.sprite=new e(this.text,this.style),this.sprite.anchor.x="number"==typeof r?r:.5,this.sprite.anchor.y="number"==typeof o?o:1,this.sprite.x=this.offsetX,this.sprite.y=this.offsetY,this.sprite.z=this.offsetZ,this.owner.container?this.addToContainer():this.owner.addComponent(new t(this.owner,n,this.addToContainer.bind(this)))},events:{"set-text":function(t){this.sprite.text=t}},methods:{addToContainer:function(){var t=this.owner.container;t.addChild(this.sprite),t.reorder=!0},destroy:function(){this.owner.container.removeChild(this.sprite),this.sprite.destroy(),this.sprite=null}}})}(),function(){"use strict";var t=include("platypus.AABB"),e=include("platypus.PIXIAnimation"),i=include("springroll.Application"),n=include("PIXI.CanvasRenderer"),r=include("PIXI.Container"),o=include("PIXI.Graphics"),s=r,a=include("PIXI.Rectangle"),c=include("platypus.components.RenderContainer"),u=include("PIXI.RenderTexture"),l=include("PIXI.Sprite"),h=function(t,e,i){var n=e.baseTexture._glRenderTargets[t.CONTEXT_UID];n&&n.clear(i)},_=function(){return null},p=t.setUp(),d=function(t,e){return t.z-e.z},f=function(t){for(var e=1;e<t;)e*=2;return e},b=function(t,e,i){this.id=e,this.instances=Array.setUp(),this.index=0,this.tileSpriteSheet=t,this.getNext=this.initializeAndGetNext,this.uninitializedTiles=i,i.push(this)},m={getNext:_,destroy:_},g=b.prototype;g.initializeAndGetNext=function(){return this.initialize(),this.index+=1,this.instances[0]},g.initialize=function(){var t=+this.id.substring(4),e="tile"+(268435455&t),i=new l((this.tileSpriteSheet._animations[e]||this.tileSpriteSheet._animations.default).texture);(function(t,e){var i=0;2147483648&t&&(e.scale.x=-1),1073741824&t&&(e.scale.y=-1),536870912&t&&(i=e.scale.x,e.scale.x=e.scale.y,e.scale.y=-i,e.rotation=Math.PI/2)})(t,i),i.template=this,this.instances.push(i),this.uninitializedTiles.greenSplice(this.uninitializedTiles.indexOf(this)),delete this.getNext},g.getNext=function(){var t=this.instances[this.index],e=null;return t||(e=this.instances[0],(t=this.instances[this.index]=new l(e.texture)).scale=e.scale,t.rotation=e.rotation,t.anchor=e.anchor),this.index+=1,t},g.clear=function(){this.index=0},g.destroy=function(){var t=0;for(t=0;t<this.instances.length;t++)this.instances[t].destroy();this.instances.recycle(),this.recycle()},recycle.add(b,!!springroll.Debug,"Template"),platypus.createComponentClass({id:"RenderTiles",properties:{buffer:0,cacheAll:!1,entityCache:!1,imageMap:[],maximumBuffer:2048,scaleX:1,scaleY:1,spriteSheet:null,tileCache:!0,tileHeight:10,tileWidth:10,top:0,left:0},initialize:function(o){var a=this.imageMap;this.doMap=null,this.cachedDisplayObjects=null,this.populate=this.populateTiles,this.tiles={},this.renderer=i.instance.display.renderer,this.tilesSprite=null,this.cacheTexture=null,this.mapContainer=null,this.laxCam=t.setUp(),this.worldWidth=this.tileWidth,this.worldHeight=this.tileHeight,this.cache=t.setUp(),this.cachePixels=t.setUp(),this.uninitializedTiles=Array.setUp(),this.spriteSheet=e.formatSpriteSheet(this.spriteSheet),this.tileSpriteSheet=new e(this.spriteSheet),this.tileContainer=this.spriteSheet.images.length>1||this.renderer instanceof n?new r:new s(15e3,{position:!0,rotation:!0,scale:!0}),this.mapContainer=new r,this.mapContainer.addChild(this.tileContainer),this.reorderedStage=!1,this.updateCache=!1,this.imageMap=Array.setUp(this.createMap(a)),this.tilesWidth=this.imageMap[0].length,this.tilesHeight=this.imageMap[0][0].length,this.layerWidth=this.tilesWidth*this.tileWidth,this.layerHeight=this.tilesHeight*this.tileHeight,this.cacheWidth=Math.min(f(this.layerWidth+2),this.maximumBuffer),this.cacheHeight=Math.min(f(this.layerHeight+2),this.maximumBuffer),this.tileCache||(this.buffer=0,this.cacheAll=!1),this.ready=!1,this.owner.container?this.addToContainer():this.owner.addComponent(new c(this.owner,o,this.addToContainer.bind(this)))},events:{"cache-sprite":function(t){this.cacheSprite(t)},"peer-entity-added":function(t){this.cacheSprite(t)},"add-tiles":function(t){var e=t.imageMap;e&&(this.imageMap.push(this.createMap(e)),this.updateCache=!0)},"change-tile":function(t,e,i,n){var r=this.imageMap;r&&(this.updateTile(t,r[n||0],e,i),this.updateCache=!0)},"camera-loaded":function(t){this.worldWidth=t.world.width,this.worldHeight=t.world.height,this.buffer&&!this.cacheAll&&this.updateBufferRegion(t.viewport)},"camera-update":function(t){this.ready&&this.updateCamera(t)},"handle-render":function(){this.updateCache?(this.updateCache=!1,this.cacheGrid?this.updateGrid():this.update(this.cacheTexture,this.cache)):this.uninitializedTiles.length&&this.uninitializedTiles[0].initialize()}},methods:{addToContainer:function(){var t=this.container=this.owner.container,e=this.mapContainer,i=null,n=this.owner.z;t.reorder=!0,this.ready=!0,this.updateRegion(0),this.tileCache?(this.mapContainerWrapper=new r,this.mapContainerWrapper.addChild(e),this.layerWidth<=this.cacheWidth&&this.layerHeight<=this.cacheHeight?(this.cacheAll=!0,this.render=this.renderCache,this.cacheTexture=u.create(this.cacheWidth,this.cacheHeight),this.tilesSprite=i=new l(this.cacheTexture),i.scale.x=this.scaleX,i.scale.y=this.scaleY,i.z=n,this.cache.setBounds(0,0,this.tilesWidth-1,this.tilesHeight-1),this.update(this.cacheTexture,this.cache),t.addChild(i)):this.cacheAll||this.layerWidth<=2*this.cacheWidth&&this.layerHeight<=this.cacheHeight||this.layerWidth<=this.cacheWidth&&this.layerHeight<=2*this.cacheHeight?(this.cacheAll=!0,this.cacheWidth=Math.min(f(this.layerWidth+2),this.maximumBuffer),this.cacheHeight=Math.min(f(this.layerHeight+2),this.maximumBuffer),this.updateRegion(2),this.render=this.renderCacheWithExtrusion,this.cacheGrid=this.createGrid(t),this.updateCache=!0):(this.render=this.renderCache,this.cacheAll=!1,this.cacheTexture=u.create(this.cacheWidth,this.cacheHeight),this.tilesSprite=new l(this.cacheTexture),this.tilesSprite.scale.x=this.scaleX,this.tilesSprite.scale.y=this.scaleY,this.tilesSprite.z=n,this.cacheTexture.alternate=u.create(this.cacheWidth,this.cacheHeight),this.tilesSpriteCache=new l(this.cacheTexture.alternate),this.cacheTexture.alternate.alternate=this.cacheTexture,t.addChild(this.tilesSprite))):(this.render=_,e.scale.x=this.scaleX,e.scale.y=this.scaleY,e.x=this.left,e.y=this.top,e.z=n,t.addChild(e))},cacheSprite:function(t){var e=0,i=0,n=t.cacheRender,r=null,o=0,s=0,a=0,c=0;if(this.entityCache&&n){for(this.doMap||(this.doMap=Array.setUp(),this.cachedDisplayObjects=Array.setUp(),this.populate=this.populateTilesAndEntities),this.cachedDisplayObjects.push(n),(r=n.getBounds(n.transformMatrix)).x-=this.left,r.y-=this.top,o=Math.max(0,Math.floor(r.y/this.tileHeight)),s=Math.min(this.tilesHeight,Math.ceil((r.y+r.height)/this.tileHeight)),c=Math.max(0,Math.floor(r.x/this.tileWidth)),a=Math.min(this.tilesWidth,Math.ceil((r.x+r.width)/this.tileWidth)),e=c;e<a;e++)for(this.doMap[e]||(this.doMap[e]=Array.setUp()),i=o;i<s;i++)this.doMap[e][i]||(this.doMap[e][i]=Array.setUp()),this.doMap[e][i].push(n);t.removeComponent("RenderSprite"),this.updateCache=!0}},convertCamera:function(t){var e=this.worldWidth/this.scaleX,i=e-t.width,n=this.worldHeight/this.scaleY,r=n-t.height,o=this.laxCam;return e!==this.layerWidth&&i?o.moveX((t.left-this.left)*(this.layerWidth-t.width)/i+t.halfWidth+this.left):o.moveX(t.x),n!==this.layerHeight&&r?o.moveY((t.top-this.top)*(this.layerHeight-t.height)/r+t.halfHeight+this.top):o.moveY(t.y),t.width===o.width&&t.height===o.height||o.resize(t.width,t.height),o},createTile:function(t){return"tile-1"===t?m:b.setUp(this.tileSpriteSheet,t,this.uninitializedTiles)},createMap:function(t){var e=0,i=0,n="",r=null;if("string"!=typeof t[0][0])return t;for(r=Array.setUp(),e=0;e<t.length;e++)for(r[e]=Array.setUp(),i=0;i<t[e].length;i++)n=t[e][i],this.updateTile(n,r,e,i);return r},updateCamera:function(t){var e=0,i=0,n=!1,r=null,o=0,s=0,a=0,c=0,u=this.cache,l=this.cachePixels,h=t.viewport,_=this.buffer&&(h.width!==this.laxCam.width||h.height!==this.laxCam.height),d=p,f=this.convertCamera(h);if(!this.cacheAll&&(l.empty||!l.contains(f))&&this.imageMap.length>0&&(_&&this.updateBufferRegion(f),a=(o=this.cacheTilesWidth-1)/2,c=(s=this.cacheTilesHeight-1)/2,d.setAll(Math.round((f.x-this.left)/this.tileWidth-a)+a,Math.round((f.y-this.top)/this.tileHeight-c)+c,o,s),d.left<0?d.moveX(d.halfWidth):d.right>this.tilesWidth-1&&d.moveX(this.tilesWidth-1-d.halfWidth),d.top<0?d.moveY(d.halfHeight):d.bottom>this.tilesHeight-1&&d.moveY(this.tilesHeight-1-d.halfHeight),this.tileCache?!u.empty&&d.contains(u)||(this.tilesSpriteCache.texture=this.cacheTexture,this.cacheTexture=this.cacheTexture.alternate,this.tilesSprite.texture=this.cacheTexture,this.update(this.cacheTexture,d,this.tilesSpriteCache,u)):this.update(null,d),l.setAll((u.x+.5)*this.tileWidth+this.left,(u.y+.5)*this.tileHeight+this.top,(u.width+1)*this.tileWidth,(u.height+1)*this.tileHeight)),this.cacheGrid)for(e=0;e<this.cacheGrid.length;e++)for(i=0;i<this.cacheGrid[e].length;i++)r=this.cacheGrid[e][i],l.setAll((e+.5)*this.cacheClipWidth+this.left,(i+.5)*this.cacheClipHeight+this.top,this.cacheClipWidth,this.cacheClipHeight),n=l.intersects(f),r.visible&&!n?r.visible=!1:!r.visible&&n&&(r.visible=!0),r.visible&&n&&(r.x=h.left-f.left+e*this.cacheClipWidth+this.left,r.y=h.top-f.top+i*this.cacheClipHeight+this.top);else this.tileCache&&(this.tilesSprite.x=h.left-f.left+u.left*this.tileWidth+this.left,this.tilesSprite.y=h.top-f.top+u.top*this.tileHeight+this.top)},updateTile:function(t,e,i,n){var r=null,o=this.tiles;t.id&&(t=t.id),(r=o[t])||null===r||(r=o[t]=this.createTile(t)),e[i][n]=r},createGrid:function(t){var e=this.cacheHeight,i=this.cacheWidth,n=this.cacheTilesHeight,r=this.cacheTilesWidth,o=0,s=0,c=null,h=this.scaleX,_=this.scaleY,p=this.tileHeight,d=this.tileWidth,b=this.tilesHeight,m=this.tilesWidth,g=0,y=0,v=this.owner.z,w=null,x=null,T=Array.setUp();for(g=0;g<m;g+=r)for(w=Array.setUp(),T.push(w),y=0;y<b;y+=n)s=Math.min(f((m-g)*d+2),i),o=Math.min(f((b-y)*p+2),e),(c=u.create(s,o)).frame=new a(1,1,((s-2)/d>>0)*d+1,((o-2)/p>>0)*p+1),(x=new l(c)).z=v,x.scale.x=h,x.scale.y=_,w.push(x),t.addChild(x),v-=1e-6;return T},updateRegion:function(t){var e=this.tileWidth*this.scaleX,i=this.tileHeight*this.scaleY,n=Math.min(this.tilesWidth,(this.cacheWidth-2)/e>>0),r=Math.min(this.tilesHeight,(this.cacheHeight-2)/i>>0);n||platypus.debug.warn('"'+this.owner.type+'" RenderTiles: The tiles are '+e+"px wide which is larger than "+(this.cacheWidth-2)+"px (maximum cache size of "+this.cacheWidth+"px minus a 2px edge bleed). Increase the maximum cache size or reduce tile size."),r||platypus.debug.warn('"'+this.owner.type+'" RenderTiles: The tiles are '+i+"px high which is larger than "+(this.cacheHeight-2)+"px (maximum cache size of "+this.cacheHeight+"px minus a 2px edge bleed). Increase the maximum cache size or reduce tile size."),this.cacheTilesWidth=n,this.cacheTilesHeight=r,this.cacheClipWidth=n*e,this.cacheClipHeight=r*i,this.tileCache&&(this.mapContainer.mask=(new o).beginFill(0).drawRect(0,0,this.cacheClipWidth+t,this.cacheClipHeight+t).endFill())},updateBufferRegion:function(t){var e=this.tileWidth*this.scaleX,i=this.tileHeight*this.scaleY;this.cacheTilesWidth=Math.min(this.tilesWidth,Math.ceil((t.width+2*this.buffer)/e),this.cacheWidth/e>>0),this.cacheTilesHeight=Math.min(this.tilesHeight,Math.ceil((t.height+2*this.buffer)/i),this.cacheHeight/i>>0),this.cacheClipWidth=this.cacheTilesWidth*e,this.cacheClipHeight=this.cacheTilesHeight*i,this.mapContainer.mask=(new o).beginFill(0).drawRect(0,0,this.cacheClipWidth,this.cacheClipHeight).endFill()},update:function(t,e,i,n){this.populate(e,n),this.render(e,t,this.mapContainer,this.mapContainerWrapper,i,n),n&&n.set(e)},populateTiles:function(t,e){var i=0,n=0,r=0,o=0,s=null,a=Array.setUp();for(this.tileContainer.removeChildren(),i=t.left;i<=t.right;i++)for(n=t.top;n<=t.bottom;n++)if(!e||e.empty||n>e.bottom||n<e.top||i>e.right||i<e.left)for(o=0;o<this.imageMap.length;o++)(s=this.imageMap[o][i][n].getNext())&&(s.template&&a.push(s.template),s.x=(i+.5)*this.tileWidth,s.y=(n+.5)*this.tileHeight,this.tileContainer.addChild(s));for(r=0;r<a.length;r++)a[r].clear();a.recycle()},populateTilesAndEntities:function(t,e){var i=0,n=0,r=0,o=0,s=null,a=null,c=Array.setUp(),u=Array.setUp(),l=null;for(this.tileContainer.removeChildren(),i=t.left;i<=t.right;i++)for(n=t.top;n<=t.bottom;n++)if(!e||e.empty||n>e.bottom||n<e.top||i>e.right||i<e.left){for(o=0;o<this.imageMap.length;o++)(s=this.imageMap[o][i][n].getNext())&&(s.template&&u.push(s.template),s.x=(i+.5)*this.tileWidth,s.y=(n+.5)*this.tileHeight,this.tileContainer.addChild(s));if(this.doMap[i]&&this.doMap[i][n])for(l=this.doMap[i][n],r=0;r<l.length;r++)l[r].drawn||(l[r].drawn=!0,c.push(l[r]))}if(this.mapContainer.removeChildren(),this.mapContainer.addChild(this.tileContainer),c.length)for(c.sort(d),r=0;r<c.length;r++)delete(a=c[r]).drawn,this.mapContainer.addChild(a),a.mask&&this.mapContainer.addChild(a.mask);for(r=0;r<u.length;r++)u[r].clear();u.recycle(),c.recycle()},renderCache:function(t,e,i,n,r,o){var s=this.renderer;r&&!o.empty&&(r.x=o.left*this.tileWidth,r.y=o.top*this.tileHeight,i.addChild(r)),h(s,e),i.x=-t.left*this.tileWidth,i.y=-t.top*this.tileHeight,s.render(n,e),e.requiresUpdate=!0},renderCacheWithExtrusion:function(t,e,i,n){var r=new o,s=this.renderer;r.lineStyle(1,0),r.drawRect(.5,.5,this.cacheClipWidth+1,this.cacheClipHeight+1),h(s,e),n.mask=r,i.x=-t.left*this.tileWidth,i.y=-t.top*this.tileHeight+1,s.render(n,e),i.x=-t.left*this.tileWidth+1,i.y=-t.top*this.tileHeight,s.render(n,e),i.x=-t.left*this.tileWidth+2,i.y=-t.top*this.tileHeight+1,s.render(n,e),i.x=-t.left*this.tileWidth+1,i.y=-t.top*this.tileHeight+2,s.render(n,e),n.mask=null,i.x=-t.left*this.tileWidth+1,i.y=-t.top*this.tileHeight+1,s.render(n,e),e.requiresUpdate=!0},updateGrid:function(){var t=this.cache,e=this.cacheTilesHeight,i=this.cacheTilesWidth,n=this.tilesHeight-1,r=this.tilesWidth-1,o=0,s=0,a=this.cacheGrid;for(o=0;o<a.length;o++)for(s=0;s<a[o].length;s++)t.setBounds(o*i,s*e,Math.min((o+1)*i,r),Math.min((s+1)*e,n)),this.update(a[o][s].texture,t)},toJSON:function(){for(var t=this.imageMap[0],e=[],i=t.length,n=0;i--;)for(n=t[i].length,e[i]=[];n--;)e[i][n]=t[i][n].id;return{type:"RenderTiles",buffer:this.buffer,cacheAll:this.cacheAll,entityCache:this.entityCache,imageMap:e,maximumBuffer:this.maximumBuffer,scaleX:this.scaleX,scaleY:this.scaleY,spriteSheet:this.spriteSheet,tileCache:this.tileCache,tileHeight:this.tileHeight,tileWidth:this.tileWidth,top:this.top,left:this.left}},destroy:function(){var t=0,e=0,i="",n=this.cacheGrid,r=this.doMap,o=this.imageMap;if(n){for(t=0;t<n.length;t++)for(e=0;e<n[t].length;e++)n[t][e].texture.destroy(!0),this.container.removeChild(n[t][e]);n.recycle(2),delete this.cacheGrid}else this.tilesSprite?(this.tilesSprite.texture.alternate&&this.tilesSprite.texture.alternate.destroy(!0),this.tilesSprite.texture.destroy(!0),this.container.removeChild(this.tilesSprite)):this.container.removeChild(this.mapContainer);for(i in o.recycle(2),this.tiles)this.tiles.hasOwnProperty(i)&&this.tiles[i].destroy();if(this.tiles=null,this.container=null,this.tilesSprite=null,this.spriteSheet.recycleSpriteSheet(),r){for(t=0;t<this.cachedDisplayObjects.length;t++)this.cachedDisplayObjects[t].destroy();for(this.cachedDisplayObjects.recycle(),t=0;t<r.length;t++)if(r[t]){for(e=0;e<r.length;e++)r[t][e]&&r[t][e].recycle();r[t].recycle()}r.recycle()}this.laxCam.recycle(),this.cache.recycle(),this.cachePixels.recycle(),this.uninitializedTiles.recycle()}},getAssetList:function(){var t=function(e,i){if(e){if("string"==typeof e)return t(i[e],i);if(e.images)return e.images.greenSlice()}return Array.setUp()};return function(e,i,n){var r=null,o=0,s=null,a=platypus.game.settings.spriteSheets,c=e.spriteSheet||i.spriteSheet||n.spriteSheet;if(c){if("string"==typeof c&&"import"!==c)return t(c,a);if(Array.isArray(c)){for(o=c.length,s=Array.setUp();o--;)r=t(c[o],a),s.union(r),r.recycle();return s}if(c.images)return c.images.greenSlice()}return Array.setUp()}}()})}(),function(){"use strict";var t=include("platypus.Data");platypus.createComponentClass({id:"SceneChanger",properties:{scene:"",persistentData:null},initialize:function(){this.persistentData=t.setUp(this.persistentData)},events:{"new-scene":function(t){var e=t||this,i=e.scene||this.scene,n=e.persistentData||this.persistentData;platypus.game.loadScene(i,n)},"set-scene":function(t){this.scene=t},"set-persistent-scene-data":function(t){var e=this.persistentData,i="";for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}},methods:{destroy:function(){}}})}(),function(){"use strict";var t=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?(?:(([^\/?]+)\.(\w+))|([^\/?]+))(?:\?((?:(?:[^&]*?[\/=])?(?:((?:(?:[^\/?&=]+)\.(\w+)))\S*?)|\S+))?)?$/,e=include("platypus.AABB"),i=include("platypus.Data"),n=include("platypus.Entity"),r=268435455,o=function(){var t=function(t,e){return t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24)>>>0},e=function(t,e){return t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24)>>>0};return function(i,n){var r=4,o=[],s=atob(i.replace(/\\/g,""));if("zlib"===n)for(s=pako.inflate(s);r<=s.length;)o.push(e(s,r-4)),r+=4;else for(;r<=s.length;)o.push(t(s,r-4)),r+=4;return o}}(),s=function(e){var i=e.match(t);return i[5]||i[7]},a=function(t,n,r,o,s,a,c,u){var l=i.setUp("level",null,"world",e.setUp(),"tile",e.setUp(),"camera",null);l.level=t,l.camera=this.followEntity,l.width=o,l.height=s,l.world.setBounds(n,r,n+o,r+s),l.tile.setBounds(0,0,a,c),this.owner.triggerEvent("world-loaded",l),l.world.recycle(),l.tile.recycle(),l.recycle(),this.owner.removeComponent(this),u&&u()},c=function(t){for(var e=1;e<t;)e*=10;return e},u={x:1,y:1,id:-1},l=function(t,e){var i=0;if(t){if(Array.isArray(t)){for(i=t.length;i--;)if(t[i].name===e)return t[i].value;return null}return t[e]}return null},h=function(t,e,i){var n=0;if(t)if(Array.isArray(t)){for(n=t.length;n--;)if(t[n].name===e)return t[n].type=typeof i,void(t[n].value=i);t.push({name:e,type:typeof i,value:i})}else t[e]=i},_=function(t){var e=u,i=!!(1073741824&t),n=!!(2147483648&t);return e.id=r&t,e.x=1,e.y=1,i&&(e.y=-1),n&&(e.x=-1),e},p=function(t,e){var i=0,n=t.gid||-1,r={},o={gid:-1,transform:null,properties:r,type:""},s=null,a=null,c=0;for(-1!==n&&(o.transform=_(n),n=o.gid=u.id),i=0;i<e.length&&!(e[i].firstgid>n);i++)a=e[i];return a&&(c=n-a.firstgid,a.tileproperties&&a.tileproperties[c]&&(s=a.tileproperties[c]),a.tiles&&a.tiles[c]&&(o.type=a.tiles[c].type||"")),o.type=t.type||o.type,""===o.type&&(t.name?(o.type=t.name,platypus.debug.warn('Component TiledLoader (loading "'+o.type+'"): Defining the entity type using the "name" property has been deprecated. Define the type using the object\'s "type" property in Tiled instead.')):s&&(s.entity?(o.type=s.entity,platypus.debug.warn('Component TiledLoader (loading "'+o.type+'"): Defining the entity type using the "entity" property in the object properties has been deprecated. Define the type using the object\'s "type" property in Tiled instead.')):s.type&&(o.type=s.type,platypus.debug.warn('Component TiledLoader (loading "'+o.type+'"): Defining the entity type in the object properties has been deprecated. Define the type using the object\'s "type" property in Tiled instead.')))),o.type?(o.transform?(r.scaleX=o.transform.x,r.scaleY=o.transform.y):(r.scaleX=1,r.scaleY=1),d(s,o.properties),d(t.properties,o.properties),o):null},d=function(t,e){var i=0,n="";if(t&&e)if(Array.isArray(t))for(i=0;i<t.length;i++)h(e,t[i].name,f(t[i].value));else for(n in t)t.hasOwnProperty(n)&&h(e,n,f(t[n]));return e},f=function(t){var e=0;if("string"==typeof t){if(0===(e=parseFloat(t))||e)return e;if("true"===t)return!0;if("false"===t)return!1;if(t.length>1&&("{"===t[0]&&"}"===t[t.length-1]||"["===t[0]&&"]"===t[t.length-1]))try{return JSON.parse(t)}catch(t){}}return t},b=function(t,e){var r=0,o=0,s=Array.setUp(),a=null,c=Array.setUp(),u=null,h=null,_=null;if("string"==typeof t&&(t=platypus.game.settings.levels[t]),t)if(t.tilesets&&(t.tilesets=y(t.tilesets)),t.assets)c.union(t.assets);else if(t.layers){for(r=0;r<t.layers.length;r++)if("objectgroup"===t.layers[r].type)for(o=0;o<t.layers[r].objects.length;o++)(h=p(t.layers[r].objects[o],t.tilesets))&&(_=n.getAssetList(h),c.union(_),_.recycle());else"imagelayer"===t.layers[r].type?c.union([t.layers[r].image]):(h=l(t.layers[r].properties,"entity"))&&(u=i.setUp("type",h),a=n.getAssetList(u),c.union(a),a.recycle(),u.recycle());if(!e){for(r=0;r<t.tilesets.length;r++)s.push(t.tilesets[r].image);c.union(s),s.recycle()}t.assets=c.greenSlice()}return c},m={"render-layer":{id:"render-layer",components:[{type:"RenderTiles",spriteSheet:"import",imageMap:"import",entityCache:!0}]},"collision-layer":{id:"collision-layer",components:[{type:"CollisionTiles",collisionMap:"import"}]},"image-layer":{id:"image-layer",components:[{type:"RenderTiles",spriteSheet:"import",imageMap:"import"}]}},g=function(t){var e="",i=platypus.game.settings.levels[t.source.replace(".json","")];for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return delete t.source,t},y=function(t){var e=0;for(e=0;e<t.length;e++)t[e].source&&(t[e]=g(t[e]));return t};platypus.createComponentClass({id:"TiledLoader",properties:{offsetMap:!1,showCollisionTiles:!1,images:null,layerIncrement:1e3,separateTiles:!1,spriteSheet:null},publicProperties:{level:null,unitsPerPixel:1,imagesScale:1,entityPositionX:"center",entityPositionY:"bottom",manuallyLoad:!1},initialize:function(){this.assetCache=platypus.game.app.assetManager.cache,this.layerZ=0,this.followEntity=!1},events:{"scene-loaded":function(t,e){this.manuallyLoad||(e.count+=1,this.loadLevel({level:this.level||t.level,persistentData:t},e.release))},"load-level":function(t,e){this.loadLevel(t,e)}},methods:{createLayer:function(t,e,i,o,s,a,c,u,h,_){var p=null,f=null,b=e.width,g=e.height,y=e.tileheight||a,v=e.tilewidth||s,w=0,x=0,T=0,S=0,A=0,C=JSON.parse(JSON.stringify(platypus.game.settings.entities[t]||m[t])),E={},P=[],D=[],M=[],R={images:e.image?[e.image]:u,frames:D,animations:E},I=!1,O=null,k=null,L=0,j=0,B=0,F="",J=null,G=function(t,e,i,n){var r=i.margin||0,o=i.spacing||0,s=i.tilewidth,a=i.tileheight,c=s/2,u=a/2,l=s+o,h=a+o,_=2*r-o,p=i.columns||i.imagewidth/l+_>>0,d=i.imageheight/h+_>>0,f=0,b=0;for(s*=n,a*=n,c*=n,u*=n,l*=n,h*=n,b=0;b<d;b++)for(f=0;f<p;f++)t.push([r+f*l,r+b*h,s,a,e,c,u])};if(this.decodeLayer(e),J=e.data,i+=e.offsetx||0,o+=e.offsety||0,C.properties=C.properties||{},e.properties){if((S=l(e.properties,"width"))&&(w=parseInt(S,10)),(T=l(e.properties,"height"))&&(x=parseInt(T,10)),w||x){for(w=w||b,x=x||g,J=[],j=0;j<w;j++)for(B=0;B<x;B++)J[j+B*w]=j<b&&B<g?e.data[j+B*b]:0;b=w,g=x}d(e.properties,C.properties)}if("collision-layer"===t)for(k=[],j=0;j<c.length;j++)if((O=c[j]).tileproperties)for(F in O.tileproperties)O.tileproperties.hasOwnProperty(F)&&O.tileproperties[F].jumpThrough&&k.push(O.firstgid+parseInt(F,10));if(C.properties.width=v*b*this.unitsPerPixel,C.properties.height=y*g*this.unitsPerPixel,C.properties.columns=b,C.properties.rows=g,C.properties.tileWidth=v*this.unitsPerPixel,C.properties.tileHeight=y*this.unitsPerPixel,C.properties.scaleX=this.imagesScale,C.properties.scaleY=this.imagesScale,C.properties.layerZ=this.layerZ,C.properties.left=C.properties.x||i,C.properties.top=C.properties.y||o,C.properties.z=C.properties.z||this.layerZ,c.length){for(j=0;j<c.length;j++)G(D,j,c[j],this.unitsPerPixel/this.imagesScale);for(A=(p=c[c.length-1]).firstgid+p.tilecount,j=-1;j<A;j++)E["tile"+j]=j}for(j=0;j<b;j++)for(P[j]=[],M[j]=[],B=0;B<g;B++)L=+J[j+B*b]-1,M[j][B]="tile"+L,L+=1,k&&k.length&&k[0]===(r&L)&&(L|=268435456),P[j][B]=L;for(j=0;j<C.components.length;j++)"RenderTiles"===C.components[j].type&&(I=C.components[j]),"import"===C.components[j].spriteSheet?C.components[j].spriteSheet=R:C.components[j].spriteSheet&&("string"==typeof C.components[j].spriteSheet&&platypus.game.settings.spriteSheets[C.components[j].spriteSheet]&&(C.components[j].spriteSheet=platypus.game.settings.spriteSheets[C.components[j].spriteSheet]),C.components[j].spriteSheet.animations||(C.components[j].spriteSheet.animations=E)),"import"===C.components[j].collisionMap&&(C.components[j].collisionMap=P),"import"===C.components[j].imageMap&&(C.components[j].imageMap=M);return this.layerZ+=this.layerIncrement,"render-layer"===t&&!this.separateTiles&&h&&h.tileHeight===y&&h.tileWidth===v&&h.columns===b&&h.rows===g?(h.triggerEvent("add-tiles",I),this.updateLoadingProgress(_),h):(f={},"render-layer"===t&&this.spriteSheet&&("string"==typeof this.spriteSheet?f.spriteSheet=platypus.game.settings.spriteSheets[this.spriteSheet]:f.spriteSheet=this.spriteSheet,f.spriteSheet.animations||(f.spriteSheet.animations=E)),this.owner.addEntity(new n(C,{properties:f},this.updateLoadingProgress.bind(this,_),this.owner)))},convertImageLayer:function(t){var e,i=null,n=0,r="",o=t.properties||{},a=l(o,"repeat"),c=l(o,"repeat-x"),u=l(o,"repeat-y"),h={data:[],image:"",height:1,name:t.name,type:"tilelayer",width:1,tileheight:1,tilewidth:1,x:t.x,y:t.y,properties:o};for(a&&(h.width=+a,h.height=+a),c&&(h.width=+c),u&&(h.height=+u),e=h.width*h.height,n=0;n<e;n++)h.data.push(1);return(i=this.assetCache.read(t.name))?(h.image=t.name,h.tileheight=i.height,h.tilewidth=i.width):(r=s(t.image),(i=this.assetCache.read(r))?(platypus.debug.warn('Component TiledLoader: Did not find a spritesheet for "'+t.name+'", so using "'+t.image+'" instead.'),h.image=r,h.tileheight=i.height,h.tilewidth=i.width):(platypus.debug.warn('Component TiledLoader: Cannot find the "'+t.name+'" sprite sheet. Add it to the list of assets in config.json and give it the id "'+t.name+'".'),h.image=t.image)),h.tileset={columns:1,image:h.image,imageheight:h.tileheight,imagewidth:h.tilewidth,margin:0,name:t.name,spacing:0,tilecount:1,tileheight:h.tileheight,tilewidth:h.tilewidth,type:"tileset"},h},loadLevel:function(t,e){var n,r,o,u,h,_,p,f=!0,b=0,m="",g=null,v=null,w=null,x=null,T=i.setUp("count",0,"progress",0,"total",0),S=0,A=0;if(n=(r="string"==typeof t.level?platypus.game.settings.levels[t.level]:t.level).layers,u=y(r.tilesets),h=r.tilewidth,_=r.tileheight,r.properties&&d(r.properties,this.owner),0===(g=this.images?this.images.greenSlice():Array.setUp()).length)for(b=0;b<u.length;b++)x=u[b],this.assetCache.read(x.name)?g.push(x.name):(m=s(x.image),this.assetCache.read(m)?(platypus.debug.warn('Component TiledLoader: Did not find a spritesheet for "'+x.name+'", so using "'+x.image+'" instead.'),g.push(m)):(platypus.debug.warn('Component TiledLoader: Cannot find the "'+x.name+'" sprite sheet. Add it to the list of assets in config.json and give it the id "'+x.name+'".'),g.push(x.image)));for(p=r.width*h*this.unitsPerPixel,o=r.height*_*this.unitsPerPixel,this.offsetMap&&(S=c(p),A=c(o)),T.total=b=n.length;b--;)"objectgroup"===n[b].type?T.total+=n[b].objects.length:!f||"collision"!==n[b].name&&"collision-layer"!==l(n[b].properties,"entity")||(f=!1);for(this.finishedLoading=a.bind(this,r,S,A,p,o,h,_,e),b=0;b<n.length;b++)switch(w=n[b],w.type){case"imagelayer":v=this.convertImageLayer(w),v=this.createLayer("image-layer",v,S,A,v.tilewidth,v.tileheight,[v.tileset],g,v,T);break;case"objectgroup":this.setUpEntities(w,S,A,h,_,u,T),v=null,this.updateLoadingProgress(T);break;case"tilelayer":v=this.setupLayer(w,f,v,S,A,h,_,u,g,T);break;default:platypus.debug.warn('Component TiledLoader: Platypus does not support Tiled layers of type "'+w.type+'". This layer will not be loaded.'),this.updateLoadingProgress(T)}},setUpEntities:function(t,e,i,r,o,s,a){var c=1e3,u=0,h=0,_=0,d=0,f=0,b=0,m=0,g=null,y=0,v=null,w=null,x=null,T=l(t.properties,"entityPositionX")||this.entityPositionX,S=l(t.properties,"entityPositionY")||this.entityPositionY,A="",C=-1,E=1/0,P=-1/0,D=1/0,M=-1/0,R=null,I=null,O=null,k=0,L=0;for(e+=t.offsetx||0,i+=t.offsety||0,y=0;y<t.objects.length;y++)if(v=t.objects[y],R=p(v,s)){if(C=R.gid,A=R.type,x=(w=platypus.game.settings.entities[A])&&w.properties||null,I=R.properties,v.polygon||v.polyline){for(E=1/0,P=-1/0,D=1/0,M=-1/0,O=null,v.polygon?O=v.polygon:v.polyline&&(O=v.polyline),_=0;_<O.length;_++)O[_].x>P&&(P=O[_].x),O[_].x<E&&(E=O[_].x),O[_].y>M&&(M=O[_].y),O[_].y<D&&(D=O[_].y);if(I.width=P-E,I.height=M-D,I.x=v.x+E,I.y=v.y+D,u=0,h=0,I.width=I.width*this.unitsPerPixel,I.height=I.height*this.unitsPerPixel,I.x=I.x*this.unitsPerPixel+e,I.y=I.y*this.unitsPerPixel+i,v.polygon)for(I.shape={},I.shape.type="polygon",I.shape.points=[],d=0;d<O.length;d++)I.shape.points.push({x:(O[d].x-E)*this.unitsPerPixel+e,y:(O[d].y-D)*this.unitsPerPixel+i});else if(v.polyline)for(I.shape={},I.shape.type="polyline",I.shape.points=[],d=0;d<O.length;d++)I.shape.points.push({x:(O[d].x-E)*this.unitsPerPixel+e,y:(O[d].y-D)*this.unitsPerPixel+i})}else k=r*this.unitsPerPixel,L=o*this.unitsPerPixel,u=0,h=0,I.width=(v.width||0)*this.unitsPerPixel,I.height=(v.height||0)*this.unitsPerPixel,x&&("number"==typeof x.width&&(I.width=x.width,u=k),"number"==typeof x.height&&(I.height=x.height,h=L)),v.point||(I.width||(I.width=k),I.height||(I.height=L),u=u||I.width,h=h||I.height),I.x=v.x*this.unitsPerPixel,I.y=v.y*this.unitsPerPixel,v.rotation&&(f=(v.width||k)/2,b=(v.height||L)/2,m=v.rotation/180%2*Math.PI,g=platypus.Vector.setUp(f,-b).rotate(m),I.rotation=v.rotation,I.x=Math.round((I.x+g.x-f)*c)/c,I.y=Math.round((I.y+g.y+b)*c)/c,g.recycle()),"left"===T?I.regX=0:"center"===T?(I.regX=I.width/2,I.x+=u/2):"right"===T&&(I.regX=I.width,I.x+=u),I.x+=e,-1===C&&(I.y+=I.height),"bottom"===S?I.regY=I.height:"center"===S?(I.regY=I.height/2,I.y-=h/2):"top"===S&&(I.regY=0,I.y-=h),I.y+=i,v.ellipse?(I.shape={},I.shape.type="circle",I.shape.width=I.width*this.unitsPerPixel,I.shape.height=I.height*this.unitsPerPixel,I.shape.radius=(I.width+I.height)*this.unitsPerPixel/4):v.width&&v.height&&(I.shape={},I.shape.type="rectangle",I.shape.width=I.width*this.unitsPerPixel,I.shape.height=I.height*this.unitsPerPixel);x?(I.scaleX*=this.imagesScale*(x.scaleX||1),I.scaleY*=this.imagesScale*(x.scaleY||1)):(I.scaleX*=this.imagesScale,I.scaleY*=this.imagesScale),I.layerZ=this.layerZ,I.z?I.z+=this.layerZ:x&&"number"==typeof x.z?I.z=this.layerZ+x.z:I.z=this.layerZ,(v=this.owner.addEntity(new n(w,{properties:I},this.updateLoadingProgress.bind(this,a),this.owner)))&&(v.camera&&(this.followEntity={entity:v,mode:v.camera}),this.owner.triggerEvent("entity-created",v))}else this.updateLoadingProgress(a);this.layerZ+=this.layerIncrement},setupLayer:function(t,e,i,n,r,o,s,a,c,u){var h,_=!1,p=l(t.properties,"entity"),d=p||"render-layer",f=0;if(p||("collision"===t.name?d="collision-layer":"action"===t.name&&(d=e?"tile-layer":"render-layer")),"tile-layer"===d||this.showCollisionTiles&&platypus.game.settings.debug)return u.count+=1,this.createLayer("collision-layer",t,n,r,o,s,a,c,i,u),this.createLayer("render-layer",t,n,r,o,s,a,c,i,u);if("collision-layer"===d)return this.createLayer("collision-layer",t,n,r,o,s,a,c,i,u),null;if(h=platypus.game.settings.entities[d])for(f=h.components.length;f--;)if("RenderTiles"===h.components[f].type){_=!0;break}return _?this.createLayer(d,t,n,r,o,s,a,c,i,u):(this.createLayer(d,t,n,r,o,s,a,c,i,u),null)},updateLoadingProgress:function(t){t.count+=1,t.progress=t.count/t.total,this.owner.triggerEvent("level-loading-progress",t),t.count===t.total&&(t.recycle(),this.finishedLoading())},destroy:function(){}},publicMethods:{decodeLayer:function(t){return"base64"===t.encoding&&(t.data=o(t.data,t.compression),t.encoding="csv"),t}},getAssetList:function(t,e,i){var n=e||{},r=i||{},o=t.spriteSheet||n.spriteSheet||r.spriteSheet,s=t.images||n.images||r.images,a=b(t.level||n.level||r.level,o);return o&&("string"==typeof o?a.union(platypus.game.settings.spriteSheets[o].images):a.union(o.images)),s&&a.union(s),a},getLateAssetList:function(t,e,i,n){var r=e||{},o=i||{},s=t.spriteSheet||r.spriteSheet||o.spriteSheet;return n&&n.level?b(n.level,s):Array.setUp()}})}(),function(){"use strict";var t=include("platypus.Data"),e=function(){this.active--},i=function(){this.active++},n=function(t){this.timelineInstances.push(this.createTimeStampedTimeline(this.timelines[t]))},r=function(t){for(var e=t.delta,i=null,n=this.timelineInstances,r=n.length;r--;)(i=n[r]).remove?(n.greenSplice(r),i.timeline.recycle(2),i.recycle()):i.active&&(0===i.timeline.length?(n.greenSplice(r),i.timeline.recycle(2),i.recycle()):this.progressTimeline(i,e))};platypus.createComponentClass({id:"Timeline",properties:{timelines:{}},initialize:function(){var t=0;for(t in this.timelineInstances=Array.setUp(),this.timelines)this.timelines.hasOwnProperty(t)&&this.addEventListener(t,n.bind(this,t))},events:{"logic-tick":r,"handle-logic":r,"stop-active-timelines":function(){for(var t=this.timelineInstances,e=t.length;e--;)t[e].remove=!0}},methods:{createTimeStampedTimeline:function(n){var r=Array.setUp(),o=0,s=0,a=null;for(o=0;o<n.length;o++)"number"==typeof(a=n[o])?s+=a:r.push(t.setUp("time",s,"value",a));return r.reverse(),t.setUp("timeline",r,"time",0,"active",1,"pause",e,"play",i,"remove",!1)},progressTimeline:function(t,e){var i=t.timeline,n=i.length,r=null,o=null,s=this.owner;for(t.time+=e;n--;){if(!((r=i[n]).time<=t.time))return;if("string"==typeof(o=r.value)?this.owner.triggerEvent(o):(o.entity&&((s=this.owner.getEntityById?this.owner.getEntityById(o.entity):this.owner.parent.getEntityById(o.entity))||(platypus.debug.warn("No entity of that id"),s=this.owner)),o.message?s.triggerEvent(o.event,o.message):s.trigger(o.event)),r.recycle(),i.pop(),!t.active)return;r=null,o=null,s=this.owner}},destroy:function(){for(var t=null,e=this.timelineInstances,i=e.length;i--;)(t=e[i]).timeline.recycle(2),t.recycle();e.recycle(),this.timelineInstances=null}}})}(),function(){"use strict";var t=function(t){var e=null;for(e in this.watchedEntities)t.type===e&&this.watchedEntities[e].push(t)},e=function(t){var e=0,i=t.type;for(e=this.watchedEntities[i].length-1;e>=0;e--)if(this.watchedEntities[i][e]===t){this.watchedEntities[i].splice(e,1);break}},i=function(t){var e=t.delta,i=0,n=null,r=null,o=-1,s=!1,a=null;for(i=0;i<this.tutorials.length;i++)if(s=!1,n=this.tutorials[i],this.playing||0!==this.theQueue.length?!this.playing&&this.theQueue.length>0&&n.priority>this.theQueue[0].priority?s=!0:this.playing&&this.playing.priority<n.priority?s=!0:n.queue&&(s=!0):s=!0,s&&this.checkRequirements(n.requirements)){if(n.replayDelay&&n.replayDelayTimer>0&&(n.replayDelayTimer-=e,n.replayDelayTimer>0))continue;(!r||r.priority<n.priority)&&(r=n,o=i)}r?(a=this.tutorials.splice(o,1)[0],this.playing?a.priority>this.playing.priority?(this.owner.triggerEvent("stop-audio"),this.play(a)):this.queue(a):this.theQueue.length>0?a.priority>this.theQueue[0].priority?this.play(a):(this.play(this.theQueue.splice(0,1)[0]),this.queue(a)):this.play(a)):!this.playing&&this.theQueue.length>0&&this.play(this.theQueue.splice(0,1)[0])};platypus.createComponentClass({id:"Tutorial",properties:{tutorialDefs:[]},publicProperties:{},initialize:function(){var t=0,e=null,i=null,n=null;for(this.playing=null,this.theQueue=[],this.watchedEntities={},this.tutorials=[],t=0;t<this.tutorialDefs.length;t++)if(n={},(i=this.tutorialDefs[t]).events){for(e in n.events=i.events.greenSlice(),n.originalEvents=i.events.greenSlice(),n.priority=i.priority||0,n.queue=i.queue||!1,n.timesToReplay="number"==typeof i.timesToReplay?i.timesToReplay:1/0,n.replayDelay=i.replayDelay||null,n.replayDelayTimer=n.replayDelay,n.level=i.level,n.requirements={},i.requirements)i.requirements.hasOwnProperty(e)&&(n.requirements[e]=i.requirements[e].greenSlice(),this.watchedEntities[e]||(this.watchedEntities[e]=[]));this.tutorials.push(n)}else platypus.debug.warn("Tutorial definition lacks events.")},events:{"child-entity-added":t,"peer-entity-added":t,"child-entity-removed":e,"peer-entity-removed":e,"logic-tick":i,"handle-logic":i,"sequence-complete":function(){this.playing.timesToReplay>=0&&this.tutorials.push(this.playing),this.playing=null}},methods:{play:function(t){var e;this.playing=t,0===this.playing.events.length&&(this.playing.events=this.playing.originalEvents.greenSlice()),e=this.playing.events.splice(Math.floor(Math.random()*this.playing.events.length),1)[0],this.owner.triggerEvent(e),t.timesToReplay-=1,t.replayDelayTimer=t.replayDelay},queue:function(t){var e=0,i=!1;for(e=0;e<this.theQueue.length;e++)if(this.theQueue[e].priority<t.priority){this.theQueue.splice(e,0,t),i=!0;break}i||this.theQueue.push(t)},checkRequirements:function(t){var e=0,i=0,n=null,r=null,o=null,s=!0;for(n in t)if(t.hasOwnProperty(n)){for(r=t[n],i=this.watchedEntities[n].length-1;i>=0;i--){for(o=this.watchedEntities[n][i],s=!0,e=0;e<r.length;e++)if(!o.state.get(r[e])){s=!1;break}if(s)break}if(!s)return!1}return!0},destroy:function(){this.watchedEntities=null,this.theQueue=null,this.playing=null,this.tutorials=null}}})}(),function(){"use strict";var t=include("createjs.Tween",!1),e={},i=function(t,e,i,r){var s=o(t,e,i);return s?"string"==typeof s?n(r,s):s:null},n=function(t,e,i,n){return function(){t.trigger(e,i,n)}},r=function(t,i){var r=0,o=this.owner,a=Array.isArray(t),c=a?t:t.tween,u=null,l=null,h=null,_=createjs.Tween.get(o,s(a?e:t,this,o));if(Array.isArray(i))c=i;else if(!Array.isArray(c))return void platypus.debug.warn("Tween: no array was supplied for this tween.");for(r=0;r<c.length;r++)"string"==typeof(u=c[r])?_.call(n(o,u)):Array.isArray(u)?"call"===u[0]&&"string"==typeof u[1]?_.call(n(o,u[1])):("to"===(l=u.greenSlice()).greenSplice(0)&&l[2]&&createjs.Ease[l[2]]&&(l.length>3?((h=l.greenSlice()).greenSplice(0),h.greenSplice(0),l[2]=createjs.Ease[h.greenSplice(0)].apply(null,h),h.recycle()):l[2]=createjs.Ease[l[2]]),_[u[0]].apply(_,l),l.recycle()):"call"===u.method&&"string"==typeof u.params?_.call(n(o,u.params)):_[u.method].apply(_,u.params)},o=function(t,e,i){return"undefined"!==t[e]?t[e]:i[e]},s=function(t,e,n){return{useTicks:o(t,"useTicks",e),ignoreGlobalPause:o(t,"ignoreGlobalPause",e),loop:o(t,"loop",e),reversed:o(t,"reversed",e),bounce:o(t,"bounce",e),timeScale:o(t,"timeScale",e),pluginData:o(t,"pluginData",e),paused:o(t,"paused",e),position:o(t,"position",e),onChange:i(t,"onChange",e,n),onComplete:i(t,"onComplete",e,n),override:o(t,"override",e)}};t?(t._inited=!0,platypus.createComponentClass({id:"Tween",properties:{events:null,useTicks:!1,ignoreGlobalPause:!1,loop:0,reversed:!1,bounce:!1,timeScale:1,pluginData:null,paused:!1,position:0,onChange:"",onComplete:"",override:!1},initialize:function(){var t="",e=this.events;if(e)for(t in e)e.hasOwnProperty(t)&&this.addEventListener(t,r.bind(this,e[t]))}})):platypus.createComponentClass({id:"Tween",initialize:function(){platypus.debug.warn("CreateJS Tween must be included in the project to use the Tween component.")}})}(),function(){"use strict";var t=include("platypus.components.AudioVO"),e=include("platypus.components.RenderAnimation"),i=include("platypus.components.RenderSprite"),n=function(t,e){return" "===e?t+"default":t+e},r=function(t,e,i){this.owner.addComponent(new t(this.owner,e,i))},o=function(t,e,i,r){var o=0,s="",a={},c=0,u="",l="",h=t.voice,_=t.mouthCues;if("string"==typeof t)a.sound=t,a.events=Array.setUp();else if("string"==typeof t.sound)a.sound=t.sound,a.events=Array.setUp();else{for(s in t.sound)t.sound.hasOwnProperty(s)&&(a[s]=t.sound[s]);a.events?a.events=a.events.greenSlice():a.events=Array.setUp()}if(h||_||!platypus.game.app.config.mouthCues||(_=platypus.game.app.config.mouthCues[a.sound]),h)for(h+=" ",o=0;o<h.length;o++)(l=h[o])!==u&&(u=l,a.events.push({time:c,event:n(i,l)})),c+=r;else if(_)for(o=0;o<_.length;o++)l=_[o],a.events.push({time:1e3*l.start,event:n(i,l.value)}),c+=r;return a},s=function(t,e,i,n){var r=0,s=Array.setUp();if(e[" "]||(e[" "]=e.default),Array.isArray(t)){for(r=0;r<t.length;r++)"number"==typeof t[r]?s.push(t[r]):s.push(o(t[r],0,i,n));return s}return o(t,0,i,n)};platypus.createComponentClass({id:"VoiceOver",properties:{animationMap:{default:"default"},renderComponent:"",frameLength:100,messagePrefix:"",voiceOverMap:{}},initialize:function(o,a){var c="",u=Array.setUp(),l={audioMap:{},aliases:o.aliases},h={acceptInput:o.acceptInput,aliases:o.aliases,animation:o.animation,animationMap:{},eventBased:!0,flip:o.flip,hidden:o.hidden,interactive:o.interactive,mask:o.mask,mirror:o.mirror,offsetZ:o.offsetZ,regX:o.regX,regY:o.regY,restart:o.restart,rotate:o.rotate,scaleX:o.scaleX,scaleY:o.scaleY,spriteSheet:o.spriteSheet,stateBased:o.stateBased||!1};for(c in this.messagePrefix?this.message=this.messagePrefix+"-":this.message="",this.animationMap)this.animationMap.hasOwnProperty(c)&&(h.animationMap[n(this.message,c)]=this.animationMap[c]);for(c in h.animationMap.default=this.animationMap.default,this.renderComponent?u.push(r.bind(this,platypus.components[this.renderComponent],h)):u.push(r.bind(this,o.animation?e:i,h)),this.voiceOverMap)this.voiceOverMap.hasOwnProperty(c)&&(l.audioMap[c]=s(this.voiceOverMap[c],this.animationMap,this.message,this.frameLength));return u.push(r.bind(this,t,l)),platypus.Async.setUp(u,a),u.recycle(),!0},events:{load:function(){this.owner.removeComponent(this)}},getAssetList:function(t,e,i){var n=t.spriteSheet||e.spriteSheet||i&&i.spriteSheet;return"string"==typeof n?platypus.game.settings.spriteSheets[n].images.greenSlice():n?n.images.greenSlice():Array.setUp()}})}(),function(){"use strict";var t=include("window.XMLHttpRequest");platypus.createComponentClass({id:"XHR",properties:{method:"GET",path:"",responseType:"text",withCredentials:!1},initialize:function(t){this.setProperties(t)},events:{request:function(t){if(this.setProperties(t),"GET"===this.method)this.get();else{if("POST"!==this.method)throw"Method must be GET or POST";this.post()}}},methods:{setProperties:function(t){var e="",i="",n=t||this;if(this.method=n.method||this.method||"GET",this.path=n.path||this.path||null,this.responseType=n.responseType||this.responseType||"text",this.withCredentials=n.withCredentials||this.withCredentials||!1,n!==this&&n.data)for(e in this.data="",n.data)n.data.hasOwnProperty(e)&&(this.data+=i+e+"="+n.data[e],i="&");else this.data="";this.onload=n.onload||this.onload||function(){200===this.status&&this.owner.triggerEvent("response",this.responseText)}.bind(this)},get:function(){var e=new t,i=this.path;this.data&&(i+="?"+this.data),e.open(this.method,i,!0),e.withCredentials=this.withCredentials,e.responseType=this.responseType,e.onload=this.onload,e.send()},post:function(){var e=new t;e.open(this.method,this.path,!0),e.withCredentials=this.withCredentials,e.responseType=this.responseType,e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onload=this.onload,e.send(this.data)}}})}();