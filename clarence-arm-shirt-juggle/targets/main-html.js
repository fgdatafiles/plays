/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function p(a,b){function c(){}c.prototype=a;var d=new c,h;for(h in b)d[h]=b[h];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function ac(a){return a instanceof Array?function(){return w.iter(a)}:"function"==typeof a.iterator?v(a,a.iterator):a.iterator}function v(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Pc++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var e={},k=function(){return M.__string_rec(this,"")},ua=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};e.EReg=ua;ua.__name__=["EReg"];ua.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";
return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:ua};var w=function(){};e.HxOverrides=w;w.__name__=["HxOverrides"];w.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),h=a.getMinutes(),o=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>h?"0"+h:""+h)+":"+(10>o?"0"+o:""+o)};w.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);
return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};w.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};w.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};w.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;
a.splice(c,1);return!0};w.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var va=function(){};e.Lambda=va;va.__name__=["Lambda"];va.array=function(a){for(var b=[],a=ac(a)();a.hasNext();){var c=a.next();b.push(c)}return b};va.exists=function(a,b){for(var c=ac(a)();c.hasNext();){var d=c.next();if(b(d))return!0}return!1};va.filter=function(a,b){for(var c=new Ca,d=ac(a)();d.hasNext();){var h=d.next();b(h)&&c.add(h)}return c};
va.count=function(a,b){var c=0;if(null==b)for(var d=ac(a)();d.hasNext();)d.next(),c++;else for(d=ac(a)();d.hasNext();){var h=d.next();b(h)&&c++}return c};var Ca=function(){this.length=0};e.List=Ca;Ca.__name__=["List"];Ca.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;
var a=this.h[0];this.h=this.h[1];return a}}},__class__:Ca};var bc=function(){};e.IMap=bc;bc.__name__=["IMap"];Math.__name__=["Math"];var J=function(){};e.Reflect=J;J.__name__=["Reflect"];J.field=function(a,b){try{return a[b]}catch(c){return null}};J.setField=function(a,b,c){a[b]=c};J.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};J.isFunction=function(a){return"function"==typeof a&&!(a.__name__||
a.__ename__)};J.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var l=function(){};e.Std=l;l.__name__=["Std"];l.is=function(a,b){return M.__instanceof(a,b)};l.instance=function(a,b){return a instanceof b?a:null};l.string=function(a){return M.__string_rec(a,"")};l["int"]=function(a){return a|0};l.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==w.cca(a,1)||88==w.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};l.parseFloat=function(a){return parseFloat(a)};
var mb=function(){this.b=""};e.StringBuf=mb;mb.__name__=["StringBuf"];mb.prototype={add:function(a){this.b+=l.string(a)},__class__:mb};var V=function(){};e.StringTools=V;V.__name__=["StringTools"];V.startsWith=function(a,b){return a.length>=b.length&&w.substr(a,0,b.length)==b};V.fastCodeAt=function(a,b){return a.charCodeAt(b)};var q=e.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};q.TNull=["TNull",0];q.TNull.toString=
k;q.TNull.__enum__=q;q.TInt=["TInt",1];q.TInt.toString=k;q.TInt.__enum__=q;q.TFloat=["TFloat",2];q.TFloat.toString=k;q.TFloat.__enum__=q;q.TBool=["TBool",3];q.TBool.toString=k;q.TBool.__enum__=q;q.TObject=["TObject",4];q.TObject.toString=k;q.TObject.__enum__=q;q.TFunction=["TFunction",5];q.TFunction.toString=k;q.TFunction.__enum__=q;q.TClass=function(a){a=["TClass",6,a];a.__enum__=q;a.toString=k;return a};q.TEnum=function(a){a=["TEnum",7,a];a.__enum__=q;a.toString=k;return a};q.TUnknown=["TUnknown",
8];q.TUnknown.toString=k;q.TUnknown.__enum__=q;var F=function(){};e.Type=F;F.__name__=["Type"];F.getClassName=function(a){return a.__name__.join(".")};F.getEnumName=function(a){return a.__ename__.join(".")};F.resolveClass=function(a){a=e[a];return null==a||!a.__name__?null:a};F.resolveEnum=function(a){a=e[a];return null==a||!a.__ename__?null:a};F.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};F.createEnum=function(a,b,c){var d=J.field(a,b);if(null==d)throw"No such constructor "+
b;if(J.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};F.getEnumConstructs=function(a){return a.__constructs__.slice()};F["typeof"]=function(a){switch(typeof a){case "boolean":return q.TBool;case "string":return q.TClass(String);case "number":return Math.ceil(a)==a%2147483648?q.TInt:q.TFloat;case "object":if(null==a)return q.TNull;var b=a.__enum__;if(null!=b)return q.TEnum(b);
a=a instanceof Array&&null==a.__enum__?Array:a.__class__;return null!=a?q.TClass(a):q.TObject;case "function":return a.__name__||a.__ename__?q.TObject:q.TFunction;case "undefined":return q.TNull;default:return q.TUnknown}};var ia=function(){};e["flambe.util.Disposable"]=ia;ia.__name__=["flambe","util","Disposable"];ia.prototype={__class__:ia};var t=function(){this._flags=0;this.owner=this.next=null};e["flambe.Component"]=t;t.__name__=["flambe","Component"];t.__interfaces__=[ia];t.prototype={onAdded:function(){},
onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:t};var ja=function(){t.call(this);this._disposables=[]};e["flambe.Disposer"]=ja;ja.__name__=["flambe","Disposer"];ja.__super__=t;ja.prototype=p(t.prototype,{get_name:function(){return"Disposer_8"},add:function(a){this._disposables.push(a);return this},connect0:function(a,b){this.add(a.connect(b));return this},
connect2:function(a,b){this.add(a.connect(b));return this},onRemoved:function(){this.freeDisposables()},dispose:function(){t.prototype.dispose.call(this);this.freeDisposables()},freeDisposables:function(){var a=this._disposables;this._disposables=[];for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}},__class__:ja});var s=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};e["flambe.Entity"]=s;s.__name__=["flambe","Entity"];s.__interfaces__=[ia];s.prototype=
{add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),
c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},disposeChildren:function(){for(;null!=
this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:s};var Bc=function(){};e["flambe.util.PackageLog"]=Bc;Bc.__name__=["flambe","util","PackageLog"];var cc=function(){};e["flambe.platform.Platform"]=cc;cc.__name__=["flambe","platform","Platform"];cc.prototype={__class__:cc};var wa=function(){};e["flambe.platform.html.HtmlPlatform"]=wa;wa.__name__=
["flambe","platform","html","HtmlPlatform"];wa.__interfaces__=[cc];wa.prototype={init:function(){var a=this;r.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new Oa(b);this._pointer=new K;this._mouse=new nb(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new Pa;this.musicPlaying=!1;this._canvas=b;this._container=
b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,h=function(c){if(!(1E3>c.timeStamp-d)){var h=b.getBoundingClientRect(),o=a.getX(c,h),h=a.getY(c,h);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(o,h,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(o,h);break;case "mouseup":a._mouse.submitUp(o,h,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(o,
h,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",h,!1);window.addEventListener("mousemove",h,!1);window.addEventListener("mouseup",h,!1);b.addEventListener("mousewheel",h,!1);b.addEventListener("DOMMouseScroll",h,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var o="undefined"!=typeof window.ontouchstart,h="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(o||h){var e=new ob(this._pointer,
o?4:window.navigator.msMaxTouchPoints);this._touch=e;h=function(b){var c;c=o?b.changedTouches:[b];var h=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();r.SHOULD_HIDE_MOBILE_BROWSER&&r.hideMobileBrowser();for(b=0;b<c.length;){var f=c[b];++b;var g=a.getX(f,h),dc=a.getY(f,h);e.submitDown((o?f.identifier:f.pointerId)|0,g,dc)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=
0;b<c.length;)f=c[b],++b,g=a.getX(f,h),dc=a.getY(f,h),e.submitMove((o?f.identifier:f.pointerId)|0,g,dc);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)f=c[b],++b,g=a.getX(f,h),dc=a.getY(f,h),e.submitUp((o?f.identifier:f.pointerId)|0,g,dc)}};o?(b.addEventListener("touchstart",h,!1),b.addEventListener("touchmove",h,!1),b.addEventListener("touchend",h,!1),b.addEventListener("touchcancel",h,!1)):(b.addEventListener("MSPointerDown",h,!1),b.addEventListener("MSPointerMove",
h,!1),b.addEventListener("MSPointerUp",h,!1))}else this._touch=new pb;var f=window.onerror;window.onerror=function(a,b,c){i.uncaughtError.emit(a);return null!=f?f(a,b,c):!1};var g=r.loadExtension("hidden",window.document);null!=g.value?(h=function(){i.hidden.set__(J.field(window.document,g.field))},h(null),window.document.addEventListener(g.prefix+"visibilitychange",h,!1)):(h=function(a){i.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",h,!1),window.addEventListener("pagehide",
h,!1));i.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var k=r.loadExtension("requestAnimationFrame").value;if(null!=k){var j=window.performance,m=null!=j&&r.polyfill("now",j);m?this._lastUpdate=j.now():null;var l=null,l=function(c){a.update(m?j.now():c);k(l,b)};k(l,b)}else window.setInterval(function(){a.update(Date.now())},16);Za.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return(new y(this,
a)).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var a=qb.getLocalStorage();this._storage=null!=a?new rb(a):new sb}return this._storage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;i.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getExternal:function(){null==this._external&&(this._external=new tb);return this._external},
getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){try{var b=Cc.getContextWebGL(a,{alpha:!1,depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=b)if(r.detectSlowDriver(b))null;else return new ub(this._stage,b)}catch(c){}return new Qa(a)},__class__:wa};var N=function(a,b){this._value=a;this._changed=null!=b?new $a(b):null};
e["flambe.util.Value"]=N;N.__name__=["flambe","util","Value"];N.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new $a);return this._changed},__class__:N};var Ra=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};e["flambe.util.SignalConnection"]=Ra;Ra.__name__=
["flambe","util","SignalConnection"];Ra.__interfaces__=[ia];Ra.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:Ra};var H=function(a){this._head=null!=a?new Ra(this,a):null;this._deferredTasks=null};e["flambe.util.SignalBase"]=H;H.__name__=["flambe","util","SignalBase"];H.prototype={connectImpl:function(a,b){var c=this,d=new Ra(this,a);this._head==H.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,
b)}):this.listAdd(d,b);return d},disconnect:function(a){var b=this;this._head==H.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new ec(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=H.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,
b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:H};var $a=function(a){H.call(this,a)};e["flambe.util.Signal2"]=$a;$a.__name__=["flambe","util","Signal2"];$a.__super__=H;$a.prototype=p(H.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,
b){var c=this;this._head==H.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),d.stayInList||d.dispose(),d=d._next;this.didEmit(c)},__class__:$a});var A=function(a){H.call(this,a)};e["flambe.util.Signal1"]=A;A.__name__=["flambe","util","Signal1"];A.__super__=H;A.prototype=p(H.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==
H.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:A});var D=function(a,b){this._behavior=null;N.call(this,a,b)};e["flambe.animation.AnimatedFloat"]=D;D.__name__=["flambe","animation","AnimatedFloat"];D.__super__=N;D.prototype=p(N.prototype,{set__:function(a){this._behavior=null;return N.prototype.set__.call(this,a)},update:function(a){null!=
this._behavior&&(N.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},animateTo:function(a,b,c){this.set_behavior(new Da(this._value,a,b,c))},animateBy:function(a,b,c){this.set_behavior(new Da(this._value,this._value+a,b,c))},set_behavior:function(a){this._behavior=a;this.update(0);return a},__class__:D});var i=function(){};e["flambe.System"]=i;i.__name__=["flambe","System"];i.init=function(){i._calledInit||(i._platform.init(),i._calledInit=!0)};
var Za=function(){};e["flambe.Log"]=Za;Za.__name__=["flambe","Log"];Za.info=function(){null};Za.__super__=Bc;Za.prototype=p(Bc.prototype,{__class__:Za});var fc=function(){this._realDt=0};e["flambe.SpeedAdjuster"]=fc;fc.__name__=["flambe","SpeedAdjuster"];fc.__super__=t;fc.prototype=p(t.prototype,{get_name:function(){return"SpeedAdjuster_16"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:fc});var gc=function(){};e["flambe.animation.Behavior"]=
gc;gc.__name__=["flambe","animation","Behavior"];gc.prototype={__class__:gc};var O=function(){};e["flambe.animation.Ease"]=O;O.__name__=["flambe","animation","Ease"];O.linear=function(a){return a};O.quadOut=function(a){return a*(2-a)};O.backOut=function(a){return 1- --a*a*(-2.70158*a-1.70158)};var Da=function(a,b,c,d){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=d?d:O.linear};e["flambe.animation.Tween"]=Da;Da.__name__=["flambe","animation","Tween"];Da.__interfaces__=
[gc];Da.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:Da};var Ea=function(){};e["flambe.asset.Asset"]=Ea;Ea.__name__=["flambe","asset","Asset"];Ea.__interfaces__=[ia];Ea.prototype={__class__:Ea};var g=e["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};
g.WEBP=["WEBP",0];g.WEBP.toString=k;g.WEBP.__enum__=g;g.JXR=["JXR",1];g.JXR.toString=k;g.JXR.__enum__=g;g.PNG=["PNG",2];g.PNG.toString=k;g.PNG.__enum__=g;g.JPG=["JPG",3];g.JPG.toString=k;g.JPG.__enum__=g;g.GIF=["GIF",4];g.GIF.toString=k;g.GIF.__enum__=g;g.DDS=["DDS",5];g.DDS.toString=k;g.DDS.__enum__=g;g.PVR=["PVR",6];g.PVR.toString=k;g.PVR.__enum__=g;g.PKM=["PKM",7];g.PKM.toString=k;g.PKM.__enum__=g;g.MP3=["MP3",8];g.MP3.toString=k;g.MP3.__enum__=g;g.M4A=["M4A",9];g.M4A.toString=k;g.M4A.__enum__=
g;g.OPUS=["OPUS",10];g.OPUS.toString=k;g.OPUS.__enum__=g;g.OGG=["OGG",11];g.OGG.toString=k;g.OGG.__enum__=g;g.WAV=["WAV",12];g.WAV.toString=k;g.WAV.__enum__=g;g.Data=["Data",13];g.Data.toString=k;g.Data.__enum__=g;var hc=function(a,b,c,d){this.name=a;this.url=b;this.format=c;this.bytes=d};e["flambe.asset.AssetEntry"]=hc;hc.__name__=["flambe","asset","AssetEntry"];hc.prototype={__class__:hc};var vb=function(){};e["flambe.asset.AssetPack"]=vb;vb.__name__=["flambe","asset","AssetPack"];vb.__interfaces__=
[ia];vb.prototype={__class__:vb};var wb=function(){};e["flambe.asset.File"]=wb;wb.__name__=["flambe","asset","File"];wb.__interfaces__=[Ea];wb.prototype={__class__:wb};var Y=function(){this._localBase=this._remoteBase=null;this._entries=[]};e["flambe.asset.Manifest"]=Y;Y.__name__=["flambe","asset","Manifest"];Y.fromAssets=function(a,b){null==b&&(b=!0);var c=J.field(Dc.getType(Y).assets[0],a);if(null==c){if(b)throw P.withFields("Missing asset pack",["name",a]);return null}var d=new Y;d.set_localBase("assets");
for(var h=0;h<c.length;){var o=c[h];++h;var e=o.name,f=a+"/"+e+"?v="+l.string(o.md5),i=Y.inferFormat(e);i!=g.Data&&(e=P.removeFileExtension(e));d.add(e,f,o.bytes,i)}return d};Y.inferFormat=function(a){a=P.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return g.GIF;case "jpg":case "jpeg":return g.JPG;case "jxr":case "wdp":return g.JXR;case "png":return g.PNG;case "webp":return g.WEBP;case "dds":return g.DDS;case "pvr":return g.PVR;case "pkm":return g.PKM;case "m4a":return g.M4A;case "mp3":return g.MP3;
case "ogg":return g.OGG;case "opus":return g.OPUS;case "wav":return g.WAV}else null;return g.Data};Y.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=Y.inferFormat(b));a=new hc(a,b,d,c);this._entries.push(a);return a},iterator:function(){return w.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&Y._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?P.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=
a&&ic.that(!V.startsWith(a,"http://")&&!V.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&ic.that(V.startsWith(a,"http://")||V.startsWith(a,"https://"),"remoteBase must be on a remote domain, starting with http(s)://",null);return this._remoteBase=a},__class__:Y};var B=e["flambe.display.BlendMode"]={__ename__:["flambe","display",
"BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};B.Normal=["Normal",0];B.Normal.toString=k;B.Normal.__enum__=B;B.Add=["Add",1];B.Add.toString=k;B.Add.__enum__=B;B.Multiply=["Multiply",2];B.Multiply.toString=k;B.Multiply.__enum__=B;B.Screen=["Screen",3];B.Screen.toString=k;B.Screen.__enum__=B;B.Mask=["Mask",4];B.Mask.toString=k;B.Mask.__enum__=B;B.Copy=["Copy",5];B.Copy.toString=k;B.Copy.__enum__=B;var jc=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};
e["flambe.math.Point"]=jc;jc.__name__=["flambe","math","Point"];jc.prototype={__class__:jc};var x=function(){this.blendMode=this.scissor=null;var a=this;t.call(this);this._flags|=54;this._localMatrix=new ka;var b=function(){a._flags|=24};this.x=new D(0,b);this.y=new D(0,b);this.rotation=new D(0,b);this.scaleX=new D(1,b);this.scaleY=new D(1,b);this.anchorX=new D(0,b);this.anchorY=new D(0,b);this.alpha=new D(1)};e["flambe.display.Sprite"]=x;x.__name__=["flambe","display","Sprite"];x.hitTest=function(a,
b,c){var d=a._compMap.Sprite_10;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,x._scratchPoint)&&(b=x._scratchPoint.x,c=x._scratchPoint.y);var h=d.scissor;if(null!=h&&!h.contains(b,c))return null}a=x.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};x.render=function(a,b){var c=a._compMap.Sprite_10;if(null!=c){var d=c.alpha._value;if(0==(c._flags&2)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);
var d=c.getLocalMatrix(),h=d.m02,o=d.m12;0!=(c._flags&32)&&(h=Math.round(h),o=Math.round(o));b.transform(d.m00,d.m10,d.m01,d.m11,h,o);d=c.scissor;null!=d&&b.applyScissor(d.x,d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_14;if(null!=d){d=d.occludedScenes;for(h=0;h<d.length;)o=d[h],++h,x.render(o,b)}for(d=a.firstChild;null!=d;)h=d.next,x.render(d,b),d=h;null!=c&&b.restore()};x.hitTestBackwards=function(a,b,c){if(null!=a){var d=x.hitTestBackwards(a.next,b,c);return null!=d?d:x.hitTest(a,b,c)}return null};
x.__super__=t;x.prototype=p(t.prototype,{get_name:function(){return"Sprite_10"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,
-this.anchorY._value));return this._localMatrix},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setRotation:function(a){this.rotation.set__(a);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},disablePointer:function(){this.set_pointerEnabled(!1);
return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_10;
if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new A);return this._pointerDown},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=i._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},set_visible:function(a){this._flags=
kc.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=kc.set(this._flags,4,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=
this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:x});var xb=function(a,b,c){x.call(this);this.color=a;this.width=new D(b);this.height=new D(c)};e["flambe.display.FillSprite"]=xb;xb.__name__=["flambe","display","FillSprite"];xb.__super__=x;xb.prototype=p(x.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,
this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){x.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:xb});var yb=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};e["flambe.display.Glyph"]=yb;yb.__name__=["flambe","display","Glyph"];yb.prototype={draw:function(a,b,c){0<
this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?l["int"](this._kernings.get(a)):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new ca);this._kernings.set(a,b)},__class__:yb};var ma=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};e["flambe.display.Font"]=ma;ma.__name__=["flambe","display","Font"];ma.prototype={layoutText:function(a,b,
c,d,h){null==h&&(h=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=Z.Left);return new Fa(this,a,b,c,d,h)},reload:function(){this._glyphs=new ca;this._glyphs.set(ma.NEWLINE.charCode,ma.NEWLINE);for(var a=new Sa(this._file.toString()),b=new ca,c=this.name.lastIndexOf("/"),c=0<=c?w.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "info":for(var h=a.pairs();h.hasNext();){var o=h.next();switch(o.key){case "size":this.size=o.getInt()}}break;case "common":for(h=a.pairs();h.hasNext();)switch(o=
h.next(),o.key){case "lineHeight":this.lineHeight=o.getInt()}break;case "page":for(var h=0,o=null,e=a.pairs();e.hasNext();){var f=e.next();switch(f.key){case "id":h=f.getInt();break;case "file":o=f.getString()}}o=this._pack.getTexture(c+P.removeFileExtension(o));b.set(h,o);break;case "char":h=null;for(o=a.pairs();o.hasNext();)switch(e=o.next(),e.key){case "id":h=new yb(e.getInt());break;case "x":h.x=e.getInt();break;case "y":h.y=e.getInt();break;case "width":h.width=e.getInt();break;case "height":h.height=
e.getInt();break;case "page":e=e.getInt();h.page=b.get(e);break;case "xoffset":h.xOffset=e.getInt();break;case "yoffset":h.yOffset=e.getInt();break;case "xadvance":h.xAdvance=e.getInt()}this._glyphs.set(h.charCode,h);break;case "kerning":h=null;e=o=0;for(f=a.pairs();f.hasNext();){var g=f.next();switch(g.key){case "first":h=this._glyphs.get(g.getInt());break;case "second":o=g.getInt();break;case "amount":e=g.getInt()}}null!=h&&0!=e&&h.setKerning(o,e)}},__class__:ma};var Z=e["flambe.display.TextAlign"]=
{__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};Z.Left=["Left",0];Z.Left.toString=k;Z.Left.__enum__=Z;Z.Center=["Center",1];Z.Center.toString=k;Z.Center.__enum__=Z;Z.Right=["Right",2];Z.Right.toString=k;Z.Right.__enum__=Z;var Fa=function(a,b,c,d,h,o){this.lines=0;var e=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+o);this.bounds=new Ta;for(var f=[],o=b.length,g=0;g<o;){var i=g++,i=b.charCodeAt(i),i=a._glyphs.get(i);
null!=i?this._glyphs.push(i):null}for(var b=-1,j=0,k=0,a=a._glyphs.get(10),o=function(){e.bounds.width=da.max(e.bounds.width,j);e.bounds.height+=k;f[e.lines]=j;k=j=0;++e.lines},g=0;g<this._glyphs.length;){i=this._glyphs[g];this._offsets[g]=Math.round(j);var l=0<d&&j+i.width>d;l||i==a?(l&&(0<=b?(this._glyphs[b]=a,j=this._offsets[b],g=b):this._glyphs.splice(g,0,a)),b=-1,k=this._lineOffset,o()):(32==i.charCode&&(b=g),j+=i.xAdvance+h,k=da.max(k,i.height+i.yOffset),g+1<this._glyphs.length&&(j+=i.getKerning(this._glyphs[g+
1].charCode)));++g}o();h=0;a=Fa.getAlignOffset(c,f[0],d);b=1.79769313486231E308;o=-1.79769313486231E308;i=g=0;for(l=this._glyphs.length;i<l;){var m=this._glyphs[i];10==m.charCode&&(h+=this._lineOffset,++g,a=Fa.getAlignOffset(c,f[g],d));this._offsets[i]+=a;var n=h+m.yOffset;b<n||(b=n);o=da.max(o,n+m.height);++i}this.bounds.x=Fa.getAlignOffset(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=o-b};e["flambe.display.TextLayout"]=Fa;Fa.__name__=["flambe","display","TextLayout"];Fa.getAlignOffset=
function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};Fa.prototype={draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var h=this._glyphs[c];10==h.charCode?b+=this._lineOffset:h.draw(a,this._offsets[c],b);++c}},__class__:Fa};var Sa=function(a){this._configText=a;this._keywordPattern=new ua("([A-Za-z]+)(.*)","");this._pairPattern=new ua('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};e["flambe.display._Font.ConfigParser"]=Sa;Sa.__name__=["flambe","display",
"_Font","ConfigParser"];Sa.advance=function(a,b){var c=b.matchedPos();return w.substr(a,c.pos+c.len,a.length)};Sa.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=Sa.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Sa.advance(b,a._pairPattern);return new lc(a._pairPattern.matched(1),
a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:Sa};var lc=function(a,b){this.key=a;this._value=b};e["flambe.display._Font.ConfigPair"]=lc;lc.__name__=["flambe","display","_Font","ConfigPair"];lc.prototype={getInt:function(){return l.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:w.substr(this._value,1,this._value.length-2)},__class__:lc};var mc=function(){};e["flambe.display.Graphics"]=mc;mc.__name__=["flambe","display",
"Graphics"];mc.prototype={__class__:mc};var m=function(a){x.call(this);this.texture=a};e["flambe.display.ImageSprite"]=m;m.__name__=["flambe","display","ImageSprite"];m.__super__=x;m.prototype=p(x.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:m});var xa=e["flambe.display.Orientation"]={__ename__:["flambe",
"display","Orientation"],__constructs__:["Portrait","Landscape"]};xa.Portrait=["Portrait",0];xa.Portrait.toString=k;xa.Portrait.__enum__=xa;xa.Landscape=["Landscape",1];xa.Landscape.toString=k;xa.Landscape.__enum__=xa;var zb=function(){};e["flambe.display.Texture"]=zb;zb.__name__=["flambe","display","Texture"];zb.__interfaces__=[Ea];zb.prototype={__class__:zb};var Ec=function(){};e["flambe.display.SubTexture"]=Ec;Ec.__name__=["flambe","display","SubTexture"];Ec.__interfaces__=[zb];var ya=function(a,
b){null==b&&(b="");this._layout=null;var c=this;x.call(this);this._font=a;this._text=b;this._align=Z.Left;this._flags|=128;var d=function(){c._flags|=128};this.wrapWidth=new D(0,d);this.letterSpacing=new D(0,d);this.lineSpacing=new D(0,d)};e["flambe.display.TextSprite"]=ya;ya.__name__=["flambe","display","TextSprite"];ya.__super__=x;ya.prototype=p(x.prototype,{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:
this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=128);return a},updateLayout:function(){0!=(this._flags&128)&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,
this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){x.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:ya});var L=e["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};L.Left=["Left",0];L.Left.toString=k;L.Left.__enum__=L;L.Middle=["Middle",1];L.Middle.toString=k;L.Middle.__enum__=L;L.Right=["Right",2];L.Right.toString=k;L.Right.__enum__=
L;L.Unknown=function(a){a=["Unknown",3,a];a.__enum__=L;a.toString=k;return a};var ea=e["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};ea.Default=["Default",0];ea.Default.toString=k;ea.Default.__enum__=ea;ea.Button=["Button",1];ea.Button.toString=k;ea.Button.__enum__=ea;ea.None=["None",2];ea.None.toString=k;ea.None.__enum__=ea;var nc=function(){this.init(0,0,0,null)};e["flambe.input.MouseEvent"]=nc;nc.__name__=["flambe","input","MouseEvent"];
nc.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:nc};var Ab=e["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};Ab.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Ab;a.toString=k;return a};Ab.Touch=function(a){a=["Touch",1,a];a.__enum__=Ab;a.toString=k;return a};var oc=function(){this.init(0,0,0,null,null)};e["flambe.input.PointerEvent"]=oc;oc.__name__=["flambe","input","PointerEvent"];oc.prototype=
{init:function(a,b,c,d,h){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=h;this._stopped=!1},__class__:oc};var pc=function(a){this.id=a;this._source=Ab.Touch(this)};e["flambe.input.TouchPoint"]=pc;pc.__name__=["flambe","input","TouchPoint"];pc.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:pc};var da=function(){};e["flambe.math.FMath"]=da;da.__name__=["flambe","math","FMath"];da.max=function(a,b){return a>b?a:b};da.min=function(a,b){return a<b?a:b};var ka=function(){this.identity()};
e["flambe.math.Matrix"]=ka;ka.__name__=["flambe","math","Matrix"];ka.multiply=function(a,b,c){null==c&&(c=new ka);var d=a.m00*b.m00+a.m01*b.m10,h=a.m00*b.m01+a.m01*b.m11,e=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=h;c.m02=e;d=a.m10*b.m00+a.m11*b.m10;h=a.m10*b.m01+a.m11*b.m11;e=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=h;c.m12=e;return c};ka.prototype={set:function(a,b,c,d,h,e){this.m00=a;this.m01=c;this.m02=h;this.m10=b;this.m11=d;this.m12=e},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,
b,c,d,h){var e=Math.sin(h),h=Math.cos(h);this.set(h*c,e*c,-e*d,h*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m01/a,-this.m10/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transformArray:function(a,b,c){for(var d=0;d<b;){var h=a[d],e=a[d+1];c[d++]=h*this.m00+e*this.m01+this.m02;c[d++]=h*this.m10+e*this.m11+
this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},clone:function(a){null==a&&(a=new ka);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:ka};var Ta=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};e["flambe.math.Rectangle"]=
Ta;Ta.__name__=["flambe","math","Rectangle"];Ta.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&(a=new Ta);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==
a.width&&this.height==a.height},__class__:Ta};var I=function(){this._disposed=!1};e["flambe.platform.BasicAsset"]=I;I.__name__=["flambe","platform","BasicAsset"];I.__interfaces__=[Ea];I.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:I};var Ga=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new Bb;this._bytesLoaded=new R;this._pack=new Cb(b,this);var d=va.array(b);if(0==d.length)this.handleSuccess();
else{for(var h=new R,e=0;e<d.length;){var f=d[e];++e;var g=h.get(f.name);null==g&&(g=[],h.set(f.name,g));g.push(f)}this._assetsRemaining=va.count(h);for(d=h.iterator();d.hasNext();)h=[d.next()],this.pickBestEntry(h[0],function(a){return function(d){if(null!=d){var h=b.getFullURL(d);try{c.loadEntry(h,d)}catch(e){c.handleError(d,"Unexpected error: "+l.string(e))}h=c.promise;h.set_total(h._total+d.bytes)}else d=a[0][0],Ga.isAudio(d.format)?c.handleLoad(d,$.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(h))}};
e["flambe.platform.BasicAssetPackLoader"]=Ga;Ga.__name__=["flambe","platform","BasicAssetPackLoader"];Ga.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Ga.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var h=c[d];++d;for(var e=0;e<a.length;){var f=a[e];++e;if(f.format==h){b(f);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,
b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var h=d.next(),c=c+h;this.promise.set_progress(c)},
handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(P.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Ga};var Cb=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new R;this.sounds=new R;this.files=new R};e["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=Cb;Cb.__name__=["flambe","platform","_BasicAssetPackLoader",
"BasicAssetPack"];Cb.__interfaces__=[vb];Cb.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw P.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw P.withFields("Missing sound",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw P.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=
!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},__class__:Cb};var ab=function(a){this._disposed=!1;this._content=a};e["flambe.platform.BasicFile"]=ab;ab.__name__=["flambe","platform","BasicFile"];ab.__interfaces__=[wb];ab.__super__=I;ab.prototype=p(I.prototype,{toString:function(){return this._content},
onDisposed:function(){this._content=null},__class__:ab});var Lc=function(){};e["flambe.subsystem.MouseSystem"]=Lc;Lc.__name__=["flambe","subsystem","MouseSystem"];var W=function(a){this._pointer=a;this._source=Ab.Mouse(W._sharedEvent);this.down=new A;this.move=new A;this.up=new A;this.scroll=new A;this._y=this._x=0;this._cursor=ea.Default;this._buttonStates=new ca};e["flambe.platform.BasicMouse"]=W;W.__name__=["flambe","platform","BasicMouse"];W.__interfaces__=[Lc];W.prototype={submitDown:function(a,
b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,qc.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(W._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(W._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,qc.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(W._sharedEvent))},submitScroll:function(a,
b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;W._sharedEvent.init(W._sharedEvent.id+1,a,b,c)},__class__:W};var rc=function(){};e["flambe.subsystem.PointerSystem"]=rc;rc.__name__=["flambe","subsystem","PointerSystem"];rc.prototype={__class__:rc};var K=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new A;this.move=new A;this.up=new A;this._x=a;this._y=b;this._isDown=c};e["flambe.platform.BasicPointer"]=
K;K.__name__=["flambe","platform","BasicPointer"];K.__interfaces__=[rc];K.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],h=x.hitTest(i.root,a,b);if(null!=h){var e=h.owner;do{var f=e._compMap.Sprite_10;null!=f&&d.push(f);e=e.parent}while(null!=e)}this.prepare(a,b,h,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(K._sharedEvent),K._sharedEvent._stopped)return;this.down.emit(K._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==
this._y)){var d=[],h=x.hitTest(i.root,a,b);if(null!=h){var e=h.owner;do{var f=e._compMap.Sprite_10;null!=f&&d.push(f);e=e.parent}while(null!=e)}this.prepare(a,b,h,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(K._sharedEvent),K._sharedEvent._stopped)return;this.move.emit(K._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],h=x.hitTest(i.root,a,b);if(null!=h){var e=h.owner;do{var f=e._compMap.Sprite_10;null!=f&&d.push(f);e=e.parent}while(null!=
e)}this.prepare(a,b,h,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(K._sharedEvent),K._sharedEvent._stopped)return;this.up.emit(K._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;K._sharedEvent.init(K._sharedEvent.id+1,a,b,c,d)},__class__:K};var la=function(a,b,c){this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};e["flambe.platform.BasicTexture"]=la;la.__name__=["flambe","platform","BasicTexture"];la.__interfaces__=[Ec];la.__super__=
I;la.prototype=p(I.prototype,{onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:la});var Fc=function(){};e["flambe.subsystem.TouchSystem"]=Fc;Fc.__name__=["flambe","subsystem","TouchSystem"];var ob=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new ca;this._points=[];this.down=new A;this.move=new A;this.up=new A};e["flambe.platform.BasicTouch"]=ob;ob.__name__=["flambe",
"platform","BasicTouch"];ob.__interfaces__=[Fc];ob.prototype={submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new pc(a);d.init(b,c);this._pointMap.set(a,d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=this._pointMap.get(a);
null!=d&&(d.init(b,c),this._pointMap.remove(a),w.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:ob};var Ua=function(){};e["flambe.sound.Sound"]=Ua;Ua.__name__=["flambe","sound","Sound"];Ua.__interfaces__=[Ea];Ua.prototype={__class__:Ua};var $=function(){this._disposed=!1;this._playback=new Db(this)};e["flambe.platform.DummySound"]=$;$.__name__=["flambe","platform","DummySound"];$.__interfaces__=[Ua];$.getInstance=
function(){null==$._instance&&($._instance=new $);return $._instance};$.__super__=I;$.prototype=p(I.prototype,{play:function(){return this._playback},loop:function(){return this._playback},onDisposed:function(){},__class__:$});var Eb=function(){};e["flambe.sound.Playback"]=Eb;Eb.__name__=["flambe","sound","Playback"];Eb.__interfaces__=[ia];var Db=function(a){this._sound=a;this.volume=new D(0);this._complete=new N(!0)};e["flambe.platform.DummyPlayback"]=Db;Db.__name__=["flambe","platform","DummyPlayback"];
Db.__interfaces__=[Eb];Db.prototype={dispose:function(){},__class__:Db};var Fb=function(){};e["flambe.subsystem.StorageSystem"]=Fb;Fb.__name__=["flambe","subsystem","StorageSystem"];Fb.prototype={__class__:Fb};var sb=function(){this.clear()};e["flambe.platform.DummyStorage"]=sb;sb.__name__=["flambe","platform","DummyStorage"];sb.__interfaces__=[Fb];sb.prototype={set:function(a,b){this._hash.set(a,b);return!0},get:function(a,b){return this._hash.exists(a)?this._hash.get(a):b},clear:function(){this._hash=
new R},__class__:sb};var pb=function(){this.down=new A;this.move=new A;this.up=new A};e["flambe.platform.DummyTouch"]=pb;pb.__name__=["flambe","platform","DummyTouch"];pb.__interfaces__=[Fc];pb.prototype={__class__:pb};var bb=function(){this._entries=[]};e["flambe.platform.EventGroup"]=bb;bb.__name__=["flambe","platform","EventGroup"];bb.__interfaces__=[ia];bb.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new sc(a,b,c))},addDisposingListener:function(a,b,c){var d=
this;this.addListener(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:bb};var sc=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};e["flambe.platform._EventGroup.Entry"]=sc;sc.__name__=["flambe","platform","_EventGroup","Entry"];sc.prototype={__class__:sc};var cb=function(){};e["flambe.platform.InternalGraphics"]=cb;cb.__name__=["flambe","platform",
"InternalGraphics"];cb.__interfaces__=[mc];cb.prototype={__class__:cb};var tc=function(){};e["flambe.subsystem.RendererSystem"]=tc;tc.__name__=["flambe","subsystem","RendererSystem"];tc.prototype={__class__:tc};var db=function(){};e["flambe.platform.InternalRenderer"]=db;db.__name__=["flambe","platform","InternalRenderer"];db.__interfaces__=[tc];db.prototype={__class__:db};var Pa=function(){this._tickables=[]};e["flambe.platform.MainLoop"]=Pa;Pa.__name__=["flambe","platform","MainLoop"];Pa.updateEntity=
function(a,b){var c=a._compMap.SpeedAdjuster_16;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,Pa.updateEntity(c,b),c=d};Pa.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}i.volume.update(a);Pa.updateEntity(i.root,
a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),x.render(i.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:Pa};var uc=function(){};e["flambe.platform.MathUtil"]=uc;uc.__name__=["flambe","platform","MathUtil"];uc.nextPowerOfTwo=function(a){for(var b=1;b<a;)b<<=1;return b};var qc=function(){};e["flambe.platform.MouseCodes"]=qc;qc.__name__=["flambe","platform","MouseCodes"];qc.toButton=function(a){switch(a){case 0:return L.Left;case 1:return L.Middle;
case 2:return L.Right}return L.Unknown(a)};var Gc=function(){};e["flambe.platform.TextureRoot"]=Gc;Gc.__name__=["flambe","platform","TextureRoot"];var Gb=function(){};e["flambe.platform.Tickable"]=Gb;Gb.__name__=["flambe","platform","Tickable"];Gb.prototype={__class__:Gb};var Hb=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};e["flambe.platform.html.CanvasGraphics"]=Hb;Hb.__name__=["flambe","platform","html","CanvasGraphics"];Hb.__interfaces__=[cb];Hb.prototype={save:function(){this._canvasCtx.save()},
transform:function(a,b,c,d,h,e){this._canvasCtx.transform(a,b,c,d,h,e)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,h,e,f){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,h,e,f),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+h|0,e|0,f|0,b|0,c|0,e|
0,f|0)},fillRect:function(a,b,c,d,h){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,h),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+l.string(a);this._canvasCtx.fillStyle="#"+l.string(a);this._canvasCtx.fillRect(b|0,c|0,d|0,h|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";
break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},onResize:function(){},__class__:Hb};var Qa=function(a){this.graphics=new Hb(a,!1);this._hasGPU=new N(!0)};e["flambe.platform.html.CanvasRenderer"]=Qa;Qa.__name__=["flambe",
"platform","html","CanvasRenderer"];Qa.__interfaces__=[db];Qa.prototype={get_type:function(){return aa.Canvas},createTextureFromImage:function(a){a=new eb(Qa.CANVAS_TEXTURES?r.createCanvas(a):a);return a.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Qa};var Ib=function(a,b,c){la.call(this,a,b,c)};e["flambe.platform.html.CanvasTexture"]=
Ib;Ib.__name__=["flambe","platform","html","CanvasTexture"];Ib.__super__=la;Ib.prototype=p(la.prototype,{__class__:Ib});var eb=function(a){this._graphics=null;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};e["flambe.platform.html.CanvasTextureRoot"]=eb;eb.__name__=["flambe","platform","html","CanvasTextureRoot"];eb.__interfaces__=[Gc];eb.__super__=I;eb.prototype=p(I.prototype,{createTexture:function(a,b){return new Ib(this,a,b)},onDisposed:function(){this._graphics=this.image=
null},__class__:eb});var y=function(a,b){Ga.call(this,a,b)};e["flambe.platform.html.HtmlAssetPackLoader"]=y;y.__name__=["flambe","platform","html","HtmlAssetPackLoader"];y.detectImageFormats=function(a){var b=[g.PNG,g.JPG,g.GIF],c=2,d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(g.WEBP);--c;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var h;h=window.document.createElement("img");h.onload=h.onerror=function(){1==
h.width&&b.unshift(g.JXR);--c;0==c&&a(b)};h.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};y.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==v(a,a.canPlayType))return[];var b=new ua("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!z.get_supported()&&b.match(c))return[];
for(var b=[{format:g.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:g.MP3,mimeType:"audio/mpeg"},{format:g.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:g.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:g.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var h=b[d];++d;var e="";try{e=a.canPlayType(h.mimeType)}catch(f){}""!=e&&c.push(h.format)}return c};y.supportsBlob=function(){if(y._detectBlobSupport){y._detectBlobSupport=!1;if((new ua("\\bSilk\\b","")).match(window.navigator.userAgent)||null==
window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;y._URL=r.loadExtension("URL").value}return null!=y._URL&&null!=y._URL.createObjectURL};y.__super__=Ga;y.prototype=p(Ga.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d;d=window.document.createElement("img");var h=new bb;h.addDisposingListener(d,"load",function(){y.supportsBlob()&&y._URL.revokeObjectURL(d.src);
var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});h.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});y.supportsBlob()?this.download(a,b,"blob",function(a){d.src=y._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(z.get_supported())this.download(a,
b,"arraybuffer",function(a){z.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new z(a))},function(){c.handleLoad(b,$.getInstance())})});else{var e;e=window.document.createElement("audio");e.preload="auto";var f=++y._mediaRefCount;null==y._mediaElements&&(y._mediaElements=new ca);y._mediaElements.set(f,e);h=new bb;h.addDisposingListener(e,"canplaythrough",function(){y._mediaElements.remove(f);c.handleLoad(b,new fb(e))});h.addDisposingListener(e,"error",function(){y._mediaElements.remove(f);var a=
e.error.code;3==a||4==a?c.handleLoad(b,$.getInstance()):c.handleError(b,"Failed to load audio: "+e.error.code)});h.addListener(e,"progress",function(){if(0<e.buffered.length&&0<e.duration){var a=e.buffered.end(0)/e.duration;c.handleProgress(b,a*b.bytes|0)}});e.src=a;e.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new ab(a))})}},getAssetFormats:function(a){var b=this;null==y._supportedFormats&&(y._supportedFormats=new Bb,y.detectImageFormats(function(a){y._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(y.detectAudioFormats()).concat([g.Data]))}));
y._supportedFormats.get(a)},download:function(a,b,c,d){var e=this,f=null,g=null,i=0,j=!1,k=function(){j&&(j=!1,window.clearInterval(i))},l=3,m=function(){--l;return 0<=l?(g(),!0):!1},g=function(){k();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var g=0;f.onprogress=function(a){j||(j=!0,i=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!m()&&(k(),e.handleError(b,"Download stalled"))},1E3));g=Date.now();e.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=
f.status||!m())k(),e.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);k();d(a)};f.send()};g()},__class__:y});var vc=function(){};e["flambe.subsystem.ExternalSystem"]=vc;vc.__name__=["flambe","subsystem","ExternalSystem"];vc.prototype={__class__:vc};var tb=function(){};e["flambe.platform.html.HtmlExternal"]=tb;tb.__name__=["flambe","platform","html","HtmlExternal"];tb.__interfaces__=[vc];tb.prototype={bind:function(a,b){J.setField(window,a,b)},
__class__:tb};var nb=function(a,b){W.call(this,a);this._canvas=b};e["flambe.platform.html.HtmlMouse"]=nb;nb.__name__=["flambe","platform","html","HtmlMouse"];nb.__super__=W;nb.prototype=p(W.prototype,{__class__:nb});var fb=function(a){this._disposed=!1;this.audioElement=a};e["flambe.platform.html.HtmlSound"]=fb;fb.__name__=["flambe","platform","html","HtmlSound"];fb.__interfaces__=[Ua];fb.__super__=I;fb.prototype=p(I.prototype,{play:function(a){null==a&&(a=1);return new gb(this,a,!1)},loop:function(a){null==
a&&(a=1);return new gb(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:fb});var gb=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new D(b,function(){d.updateVolume()});this.updateVolume();this._complete=new N(!1);this.playAudio();i.hidden._value&&this.set_paused(!0)};e["flambe.platform.html._HtmlSound.HtmlPlayback"]=gb;gb.__name__=
["flambe","platform","html","_HtmlSound","HtmlPlayback"];gb.__interfaces__=[Gb,Eb];gb.prototype={set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},
playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(wa.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=i.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=i.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=i.volume._value*this.volume._value},__class__:gb};var wc=function(){};e["flambe.subsystem.StageSystem"]=
wc;wc.__name__=["flambe","subsystem","StageSystem"];wc.prototype={__class__:wc};var Oa=function(a){var b=this;this._canvas=a;this.resize=new fa;this.scaleFactor=Oa.computeScaleFactor();1!=this.scaleFactor&&(r.setVendorStyle(this._canvas,"transform-origin","top left"),r.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));r.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){r.callLater(v(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());
window.addEventListener("resize",v(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new N(null);null!=window.orientation&&(window.addEventListener("orientationchange",v(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new N(!1);r.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};e["flambe.platform.html.HtmlStage"]=Oa;Oa.__name__=["flambe","platform","html","HtmlStage"];Oa.__interfaces__=
[wc];Oa.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=r.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};Oa.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,
a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";r.callLater(function(){r.hideMobileBrowser();r.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},
100)})},onOrientationChange:function(){this.orientation.set__(r.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==r.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:Oa};var rb=function(a){this._storage=a};e["flambe.platform.html.HtmlStorage"]=rb;rb.__name__=["flambe","platform","html","HtmlStorage"];rb.__interfaces__=[Fb];rb.prototype={set:function(a,b){var c;try{var d=new na;d.useCache=!0;d.useEnumIndex=!1;d.serialize(b);
c=d.toString()}catch(e){return!1}try{this._storage.setItem("flambe:"+a,c)}catch(f){return!1}return!0},get:function(a,b){var c=null;try{c=this._storage.getItem("flambe:"+a)}catch(d){null}if(null!=c)try{return Q.run(c)}catch(e){null}return b},__class__:rb};var r=function(){};e["flambe.platform.html.HtmlUtil"]=r;r.__name__=["flambe","platform","html","HtmlUtil"];r.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};r.hideMobileBrowser=function(){window.scrollTo(1,0)};r.loadExtension=function(a,
b){null==b&&(b=window);var c=J.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+w.substr(a,1,null),d=0,e=r.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;var g=f+c,i=J.field(b,g);if(null!=i)return{prefix:f,field:g,value:i}}return{prefix:null,field:null,value:null}};r.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=r.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};r.polyfill=function(a,b){null==
b&&(b=window);var c=r.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};r.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=r.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};r.addVendorListener=function(a,b,c,d){for(var e=0,f=r.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};r.orientation=function(a){switch(a){case -90:case 90:return xa.Landscape;default:return xa.Portrait}};r.createEmptyCanvas=
function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};r.createCanvas=function(a){var b=r.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};r.detectSlowDriver=function(a){if(0<=window.navigator.platform.indexOf("Win")&&null!=window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var c=a[b];++b;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};
r.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var z=function(a){this._disposed=!1;this.buffer=a};e["flambe.platform.html.WebAudioSound"]=z;z.__name__=["flambe","platform","html","WebAudioSound"];z.__interfaces__=[Ua];z.get_supported=function(){if(z._detectSupport){z._detectSupport=!1;var a=r.loadExtension("AudioContext").value;null!=a&&(z.ctx=
new a,z.gain=z.createGain(),z.gain.connect(z.ctx.destination),i.volume.watch(function(a){z.gain.gain.value=a}))}return null!=z.ctx};z.createGain=function(){return null!=z.ctx.createGain?z.ctx.createGain():z.ctx.createGainNode()};z.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};z.__super__=I;z.prototype=p(I.prototype,{play:function(a){null==a&&(a=1);return new hb(this,a,!1)},loop:function(a){null==a&&(a=1);return new hb(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=
null},__class__:z});var hb=function(a,b,c){var d=this;this._sound=a;this._head=z.gain;this._complete=new N(!1);this._sourceNode=z.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete.set__(!0)};z.start(this._sourceNode,0);this.playAudio();this.volume=new D(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b);i.hidden._value&&this.set_paused(!0)};e["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=hb;hb.__name__=["flambe",
"platform","html","_WebAudioSound","WebAudioPlayback"];hb.__interfaces__=[Gb,Eb];hb.prototype={set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(z.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);
return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=z.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);
this._startedAt=z.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(wa.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=i.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:hb};var xc=function(a){this._quads=this._maxQuads=this._dataOffset=this._backbufferWidth=this._backbufferHeight=0;this._pendingSetScissor=!1;this._lastBlendMode=this._lastRenderTarget=this._lastShader=this._lastTexture=
this._lastScissor=this._currentBlendMode=this._currentShader=this._currentTexture=this._currentRenderTarget=null;this._gl=a;a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);this._vertexBuffer=a.createBuffer();a.bindBuffer(34962,this._vertexBuffer);this._quadIndexBuffer=a.createBuffer();a.bindBuffer(34963,this._quadIndexBuffer);this._drawTextureShader=new Jb(a);this._drawPatternShader=new Kb(a);this._fillRectShader=new Lb(a);this.resize(16)};e["flambe.platform.html.WebGLBatcher"]=xc;xc.__name__=
["flambe","platform","html","WebGLBatcher"];xc.prototype={resizeBackbuffer:function(a,b){this._gl.viewport(0,0,a,b);this._backbufferWidth=a;this._backbufferHeight=b},willRender:function(){},didRender:function(){this.flush()},bindTexture:function(a){this.flush();this._currentTexture=this._lastTexture=null;this._gl.bindTexture(3553,a)},deleteTexture:function(a){null!=this._lastTexture&&this._lastTexture.root==a&&(this.flush(),this._currentTexture=this._lastTexture=null);this._gl.deleteTexture(a.nativeTexture)},
deleteFramebuffer:function(a){a==this._lastRenderTarget&&(this.flush(),this._currentRenderTarget=this._lastRenderTarget=null);this._gl.deleteFramebuffer(a.framebuffer)},prepareDrawTexture:function(a,b,c,d){d!=this._lastTexture&&(this.flush(),this._lastTexture=d);return this.prepareQuad(5,a,b,c,this._drawTextureShader)},prepareFillRect:function(a,b,c){return this.prepareQuad(6,a,b,c,this._fillRectShader)},prepareQuad:function(a,b,c,d,e){b!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=
b);c!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=c);e!=this._lastShader&&(this.flush(),this._lastShader=e);if(null!=d||null!=this._lastScissor)if(null==d||null==this._lastScissor||!this._lastScissor.equals(d))this.flush(),this._lastScissor=null!=d?d.clone(this._lastScissor):null,this._pendingSetScissor=!0;this._quads>=this._maxQuads&&this.resize(2*this._maxQuads);++this._quads;b=this._dataOffset;this._dataOffset+=4*a;return b},flush:function(){if(!(1>this._quads)){this._lastRenderTarget!=
this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget);if(this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode[1]){case 0:this._gl.blendFunc(1,771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(774,771);break;case 3:this._gl.blendFunc(1,769);break;case 4:this._gl.blendFunc(0,770);break;case 5:this._gl.blendFunc(1,0)}this._currentBlendMode=this._lastBlendMode}this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(this._lastScissor.x|
0,this._lastScissor.y|0,this._lastScissor.width|0,this._lastScissor.height|0)):this._gl.disable(3089),this._pendingSetScissor=!1);this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture);this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader);if(this._lastShader==this._drawPatternShader){var a=this._lastTexture,b=a.root;this._drawPatternShader.setRegion(a.rootX/
b.width,a.rootY/b.height,a._width/b.width,a._height/b.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040);this._gl.drawElements(4,6*this._quads,5123,0);this._dataOffset=this._quads=0}},resize:function(a){this.flush();if(!(1024<a)){this._maxQuads=a;this.data=new Float32Array(24*a);this._gl.bufferData(34962,4*this.data.length,35040);for(var b=new Uint16Array(6*a),c=0;c<a;){var d=c++;b[6*d]=4*d;b[6*d+1]=4*d+1;b[6*d+2]=4*d+2;b[6*d+3]=4*d+2;b[6*d+4]=4*d+3;b[6*d+5]=4*d}this._gl.bufferData(34963,
b,35044)}},bindRenderTarget:function(a){null!=a?(this._gl.bindFramebuffer(36160,a.framebuffer),this._gl.viewport(0,0,a.width,a.height)):(this._gl.bindFramebuffer(36160,null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight));this._lastRenderTarget=this._currentRenderTarget=a},__class__:xc};var ga=function(a,b){this._inverseProjection=this._stateList=null;null==ga._scratchQuadArray&&(ga._scratchQuadArray=new Float32Array(8));this._batcher=a;this._renderTarget=b};e["flambe.platform.html.WebGLGraphics"]=
ga;ga.__name__=["flambe","platform","html","WebGLGraphics"];ga.__interfaces__=[cb];ga.prototype={save:function(){var a=this._stateList,b=this._stateList.next;null==b&&(b=new Mb,b.prev=a,a.next=b);a.matrix.clone(b.matrix);b.alpha=a.alpha;b.blendMode=a.blendMode;b.scissor=null!=a.scissor?a.scissor.clone(b.scissor):null;this._stateList=b},transform:function(a,b,c,d,e,f){var g=this._stateList;ga._scratchMatrix.set(a,b,c,d,e,f);ka.multiply(g.matrix,ga._scratchMatrix,g.matrix)},restore:function(){this._stateList=
this._stateList.prev},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){var i=this._stateList,j=a.root,b=this.transformQuad(b,c,f,g),c=j.width,j=j.height,d=(a.rootX+d)/c,e=(a.rootY+e)/j,f=d+f/c,g=e+g/j,c=i.alpha,a=this._batcher.prepareDrawTexture(this._renderTarget,i.blendMode,i.scissor,a),i=this._batcher.data;i[a]=b[0];i[++a]=b[1];i[++a]=d;i[++a]=e;i[++a]=c;i[++a]=b[2];i[++a]=b[3];i[++a]=f;i[++a]=e;i[++a]=c;i[++a]=b[4];
i[++a]=b[5];i[++a]=f;i[++a]=g;i[++a]=c;i[++a]=b[6];i[++a]=b[7];i[++a]=d;i[++a]=g;i[++a]=c},fillRect:function(a,b,c,d,e){var f=this._stateList,b=this.transformQuad(b,c,d,e),c=(a&16711680)/16711680,d=(a&65280)/65280,a=(a&255)/255,e=f.alpha,f=this._batcher.prepareFillRect(this._renderTarget,f.blendMode,f.scissor),g=this._batcher.data;g[f]=b[0];g[++f]=b[1];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[2];g[++f]=b[3];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[4];g[++f]=b[5];g[++f]=c;g[++f]=d;g[++f]=a;
g[++f]=e;g[++f]=b[6];g[++f]=b[7];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e},multiplyAlpha:function(a){this._stateList.alpha*=a},setBlendMode:function(a){this._stateList.blendMode=a},applyScissor:function(a,b,c,d){var e=this._stateList,f=ga._scratchQuadArray;f[0]=a;f[1]=b;f[2]=a+c;f[3]=b+d;e.matrix.transformArray(f,4,f);this._inverseProjection.transformArray(f,4,f);a=f[0];b=f[1];c=f[2]-a;d=f[3]-b;0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);e.applyScissor(a,b,c,d)},willRender:function(){this._batcher.willRender()},
didRender:function(){this._batcher.didRender()},onResize:function(a,b){this._stateList=new Mb;var c;c=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/a,0,0,-2*c/b,-1,c);this._inverseProjection=new ka;this._inverseProjection.set(2/a,0,0,2/b,-1,-1);this._inverseProjection.invert()},transformQuad:function(a,b,c,d){var c=a+c,d=b+d,e=ga._scratchQuadArray;e[0]=a;e[1]=b;e[2]=c;e[3]=b;e[4]=c;e[5]=d;e[6]=a;e[7]=d;this._stateList.matrix.transformArray(e,8,e);return e},__class__:ga};var Mb=function(){this.scissor=
this.prev=this.next=null;this.matrix=new ka;this.alpha=1;this.blendMode=B.Normal};e["flambe.platform.html._WebGLGraphics.DrawingState"]=Mb;Mb.__name__=["flambe","platform","html","_WebGLGraphics","DrawingState"];Mb.prototype={applyScissor:function(a,b,c,d){if(null!=this.scissor)var e=da.max(this.scissor.x,a),f=da.max(this.scissor.y,b),c=da.min(this.scissor.x+this.scissor.width,a+c),d=da.min(this.scissor.y+this.scissor.height,b+d),a=e,b=f,c=c-e,d=d-f;else this.scissor=new Ta;this.scissor.set(Math.round(a),
Math.round(b),Math.round(c),Math.round(d))},__class__:Mb};var ub=function(a,b){var c=this;this._hasGPU=new N(!0);this.gl=b;b.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();c._hasGPU.set__(!1)},!1);b.canvas.addEventListener("webglcontextrestore",function(){c.init();c._hasGPU.set__(!0)},!1);a.resize.connect(v(this,this.onResize));this.init()};e["flambe.platform.html.WebGLRenderer"]=ub;ub.__name__=["flambe","platform","html","WebGLRenderer"];ub.__interfaces__=[db];ub.prototype=
{get_type:function(){return aa.WebGL},createTextureFromImage:function(a){if(this.gl.isContextLost())return null;var b=new Ha(this,a.width,a.height);b.uploadImageData(a);return b.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){this.gl.isContextLost();return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},onResize:function(){var a=this.gl.canvas.width,b=this.gl.canvas.height;
this.batcher.resizeBackbuffer(a,b);this.graphics.onResize(a,b)},init:function(){this.batcher=new xc(this.gl);this.graphics=new ga(this.batcher,null);this.onResize()},__class__:ub};var Nb=function(a,b,c){la.call(this,a,b,c)};e["flambe.platform.html.WebGLTexture"]=Nb;Nb.__name__=["flambe","platform","html","WebGLTexture"];Nb.__super__=la;Nb.prototype=p(la.prototype,{__class__:Nb});var Ha=function(a,b,c){this.framebuffer=this._graphics=null;this._disposed=!1;this._renderer=a;this.width=da.max(2,uc.nextPowerOfTwo(b));
this.height=da.max(2,uc.nextPowerOfTwo(c));b=a.gl;this.nativeTexture=b.createTexture();a.batcher.bindTexture(this.nativeTexture);b.texParameteri(3553,10242,33071);b.texParameteri(3553,10243,33071);b.texParameteri(3553,10240,9729);b.texParameteri(3553,10241,9728)};e["flambe.platform.html.WebGLTextureRoot"]=Ha;Ha.__name__=["flambe","platform","html","WebGLTextureRoot"];Ha.__interfaces__=[Gc];Ha.drawBorder=function(a,b,c){var d=a.getContext("2d");d.drawImage(a,b-1,0,1,c,b,0,1,c);d.drawImage(a,0,c-1,
b,1,0,c,b,1)};Ha.__super__=I;Ha.prototype=p(I.prototype,{createTexture:function(a,b){return new Nb(this,a,b)},uploadImageData:function(a){if(this.width!=a.width||this.height!=a.height){var b=r.createEmptyCanvas(this.width,this.height);b.getContext("2d").drawImage(a,0,0);Ha.drawBorder(b,a.width,a.height);a=b}this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,6408,5121,a)},onDisposed:function(){var a=this._renderer.batcher;a.deleteTexture(this);null!=this.framebuffer&&
a.deleteFramebuffer(this);this._graphics=this.framebuffer=this.nativeTexture=null},__class__:Ha});var S=function(a,b,c){c="#ifdef GL_ES\nprecision mediump float;\n#endif\n"+c;this._gl=a;this._program=a.createProgram();a.attachShader(this._program,S.createShader(a,35633,b));a.attachShader(this._program,S.createShader(a,35632,c));a.linkProgram(this._program);a.useProgram(this._program)};e["flambe.platform.shader.ShaderGL"]=S;S.__name__=["flambe","platform","shader","ShaderGL"];S.createShader=function(a,
b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};S.prototype={useProgram:function(){this._gl.useProgram(this._program)},prepare:function(){null},getAttribLocation:function(a){return this._gl.getAttribLocation(this._program,a)},getUniformLocation:function(a){return this._gl.getUniformLocation(this._program,a)},__class__:S};var Kb=function(a){S.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.u_region=this.getUniformLocation("u_region");this.setTexture(0)};e["flambe.platform.shader.DrawPatternGL"]=
Kb;Kb.__name__=["flambe","platform","shader","DrawPatternGL"];Kb.__super__=S;Kb.prototype=p(S.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},setRegion:function(a,b,c,d){this._gl.uniform4f(this.u_region,a,b,c,d)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);
this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},__class__:Kb});var Jb=function(a){S.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}","varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, v_uv) * v_alpha;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.setTexture(0)};e["flambe.platform.shader.DrawTextureGL"]=Jb;Jb.__name__=["flambe","platform","shader","DrawTextureGL"];Jb.__super__=S;Jb.prototype=p(S.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);
this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},__class__:Jb});var Lb=function(a){S.call(this,a,"attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}","varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_rgb=this.getAttribLocation("a_rgb");this.a_alpha=this.getAttribLocation("a_alpha")};e["flambe.platform.shader.FillRectGL"]=Lb;Lb.__name__=["flambe","platform","shader","FillRectGL"];Lb.__super__=S;Lb.prototype=p(S.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_rgb);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,24,0);this._gl.vertexAttribPointer(this.a_rgb,
3,5126,!1,24,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,24,20)},__class__:Lb});var Ob=function(){this._transitor=null;t.call(this);this.scenes=[];this.occludedScenes=[];this._root=new s};e["flambe.scene.Director"]=Ob;Ob.__name__=["flambe","scene","Director"];Ob.__super__=t;Ob.prototype=p(t.prototype,{get_name:function(){return"Director_14"},pushScene:function(a,b){var c=this;this.completeTransition();var d=this.get_topScene();null!=d?this.playTransition(d,a,b,function(){c.hide(d)}):(this.add(a),
this.invalidateVisibility())},popScene:function(a){var b=this;this.completeTransition();var c=this.get_topScene();if(null!=c){this.scenes.pop();var d=this.get_topScene();null!=d?this.playTransition(c,d,a,function(){b.hideAndDispose(c)}):(this.hideAndDispose(c),this.invalidateVisibility())}},unwindToScene:function(a,b){var c=this;this.completeTransition();var d=this.get_topScene();if(null!=d){if(d!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();
this.playTransition(d,a,b,function(){c.hideAndDispose(d)})}}else this.pushScene(a,b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=
this.get_topScene();null!=b&&this._root.removeChild(b);w.remove(this.scenes,a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_0;null!=a&&a.hidden.emit()},hideAndDispose:function(a){this.hide(a);a.dispose()},show:function(a){a=a._compMap.Scene_0;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_0;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-
1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(a,b,c,d){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new yc(a,b,c,d),this._transitor.init(this)):(d(),this.invalidateVisibility())},__class__:Ob});var yc=function(a,b,c,d){this._from=a;this._to=b;this._transition=c;this._onComplete=d};e["flambe.scene._Director.Transitor"]=
yc;yc.__name__=["flambe","scene","_Director","Transitor"];yc.prototype={init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:yc};var za=function(a){null==a&&(a=!0);t.call(this);this.opaque=a;this.shown=new fa;this.hidden=new fa};e["flambe.scene.Scene"]=za;za.__name__=["flambe","scene","Scene"];za.__super__=t;za.prototype=p(t.prototype,{get_name:function(){return"Scene_0"},
__class__:za});var Hc=function(){};e["flambe.scene.Transition"]=Hc;Hc.__name__=["flambe","scene","Transition"];Hc.prototype={init:function(a,b,c){this._director=a;this._from=b;this._to=c},update:function(){return!0},complete:function(){},__class__:Hc};var oa=function(){};e["flambe.script.Action"]=oa;oa.__name__=["flambe","script","Action"];oa.prototype={__class__:oa};var ib=function(a,b,c,d){this._value=a;this._by=b;this._seconds=c;this._easing=d};e["flambe.script.AnimateBy"]=ib;ib.__name__=["flambe",
"script","AnimateBy"];ib.__interfaces__=[oa];ib.prototype={update:function(a){null==this._tween&&(this._tween=new Da(this._value._value,this._value._value+this._by,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:ib};var pa=function(a,b,c,d){this._value=a;this._to=b;this._seconds=c;this._easing=d};e["flambe.script.AnimateTo"]=
pa;pa.__name__=["flambe","script","AnimateTo"];pa.__interfaces__=[oa];pa.prototype={update:function(a){null==this._tween&&(this._tween=new Da(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:pa};var jb=function(a){this._fn=a};e["flambe.script.CallFunction"]=jb;jb.__name__=["flambe","script",
"CallFunction"];jb.__interfaces__=[oa];jb.prototype={update:function(){this._fn();return 0},__class__:jb};var kb=function(a){this._duration=a;this._elapsed=0};e["flambe.script.Delay"]=kb;kb.__name__=["flambe","script","Delay"];kb.__interfaces__=[oa];kb.prototype={update:function(a){this._elapsed+=a;if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:kb};var Ia=function(a){this._completedActions=[];this._runningActions=null!=a?a.slice():
[]};e["flambe.script.Parallel"]=Ia;Ia.__name__=["flambe","script","Parallel"];Ia.__interfaces__=[oa];Ia.prototype={update:function(a,b){for(var c=!0,d=0,e=0,f=this._runningActions.length;e<f;){var g=e++,i=this._runningActions[g];if(null!=i){var j=i.update(a,b);0<=j?(this._runningActions[g]=null,this._completedActions.push(i),j>d&&(d=j)):c=!1}}return c?(this._runningActions=this._completedActions,this._completedActions=[],d):-1},__class__:Ia};var Va=function(){t.call(this);this.stopAll()};e["flambe.script.Script"]=
Va;Va.__name__=["flambe","script","Script"];Va.__super__=t;Va.prototype=p(t.prototype,{get_name:function(){return"Script_12"},run:function(a){a=new Pb(a);this._handles.push(a);return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,1):++b}},__class__:Va});var Pb=function(a){this.removed=!1;this.action=a};e["flambe.script._Script.Handle"]=Pb;Pb.__name__=["flambe",
"script","_Script","Handle"];Pb.__interfaces__=[ia];Pb.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:Pb};var qa=function(a){this._idx=0;this._runningActions=null!=a?a.slice():[]};e["flambe.script.Sequence"]=qa;qa.__name__=["flambe","script","Sequence"];qa.__interfaces__=[oa];qa.prototype={add:function(a){this._runningActions.push(a)},update:function(a,b){for(var c=0;;){var d=this._runningActions[this._idx];if(null!=d)if(d=d.update(a-c,b),0<=d)c+=d;else return-1;++this._idx;
if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>a)return-1}return c},__class__:qa};var aa=e["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem","RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};aa.Stage3D=["Stage3D",0];aa.Stage3D.toString=k;aa.Stage3D.__enum__=aa;aa.WebGL=["WebGL",1];aa.WebGL.toString=k;aa.WebGL.__enum__=aa;aa.Canvas=["Canvas",2];aa.Canvas.toString=k;aa.Canvas.__enum__=aa;var ic=function(){};e["flambe.util.Assert"]=ic;ic.__name__=["flambe",
"util","Assert"];ic.that=function(){};var kc=function(){};e["flambe.util.BitSets"]=kc;kc.__name__=["flambe","util","BitSets"];kc.set=function(a,b,c){return c?a|b:a&~b};var Bb=function(){this.success=new A;this.error=new A;this.progressChanged=new fa;this.hasResult=!1;this._total=this._progress=0};e["flambe.util.Promise"]=Bb;Bb.__name__=["flambe","util","Promise"];Bb.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit(a);
return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:Bb};var fa=function(a){H.call(this,a)};e["flambe.util.Signal0"]=fa;fa.__name__=["flambe","util","Signal0"];fa.__super__=H;fa.prototype=p(H.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,
b)},emit:function(){var a=this;this._head==H.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:fa});var ec=function(a){this.next=null;this.fn=a};e["flambe.util._SignalBase.Task"]=ec;ec.__name__=["flambe","util","_SignalBase","Task"];ec.prototype={__class__:ec};var P=function(){};e["flambe.util.Strings"]=P;P.__name__=["flambe","util","Strings"];
P.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?w.substr(a,b+1,null):null};P.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?w.substr(a,0,b):a};P.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=w.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=w.substr(a,b+1,null));return P.getFileExtension(a)};P.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};P.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?
a+" [":a+"[",d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(l.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+l.string(f);d+=2}a+="]"}return a};var Ic=function(){};e["flindigo.AssetLoader"]=Ic;Ic.__name__=["flindigo","AssetLoader"];Ic.load=function(a,b,c){a=Y.fromAssets(a);""!=E.baseUrl&&(ba.get_isCrossdomain()?a.set_remoteBase(E.baseUrl):a.set_localBase(E.baseUrl));a=i._platform.loadAssetPack(a);null!=b&&a.get(b);null!=c&&a.error.connect(c);return a};var ba=function(){};e["flindigo.EmbedProxy"]=
ba;ba.__name__=["flindigo","EmbedProxy"];ba.get_exists=function(){return ba.callJSEmbedMethod("exists()")};ba.get_base=function(){return ba.callJSEmbedMethod("baseUrl()")};ba.get_isCrossdomain=function(){return ba.callJSEmbedMethod("isBaseCrossdomain()")};ba.callJSEmbedMethod=function(a){try{var b=eval("jsembed."+a);if(null!=b)return b}catch(c){return"Error"}return""};var E=function(){};e["flindigo.Engine"]=E;E.__name__=["flindigo","Engine"];E.init=function(a,b,c,d){null==d&&(d=!0);i.init();f.init(a,
b,c,d);E.setupBaseURL();E.isPaused=!1};E.setupBaseURL=function(){E.baseUrl=ba.get_exists()?ba.get_isCrossdomain()?E.appendAssetsToUrl(ba.get_base()):E.trimUrl(ba.get_base()):""};E.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=w.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=w.substr(a,b,a.length-b);return a=E.appendAssetsToUrl(a)};E.appendAssetsToUrl=function(a){"/"!=a.charAt(a.length-
1)&&(a+="/");return a+"assets/"};var T=e["flindigo.ScaleDocking"]={__ename__:["flindigo","ScaleDocking"],__constructs__:["HEIGHT","WIDTH","AUTO"]};T.HEIGHT=["HEIGHT",0];T.HEIGHT.toString=k;T.HEIGHT.__enum__=T;T.WIDTH=["WIDTH",1];T.WIDTH.toString=k;T.WIDTH.__enum__=T;T.AUTO=["AUTO",2];T.AUTO.toString=k;T.AUTO.__enum__=T;var f=function(){};e["flindigo.MainStage"]=f;f.__name__=["flindigo","MainStage"];f.init=function(a,b,c,d){f._scaleDocking=null==c?T.AUTO:c;f._designSizeWidth=a;f._designSizeHeight=
b;f._centeredOrigin=d;f.setupMainStageSprite();f.setupStageResizeListener();f.resizeStage()};f.setupMainStageSprite=function(){f._mainStageSprite=new x;i.root.add(f._mainStageSprite)};f.setupStageResizeListener=function(){i._platform.getStage().resize.connect(f.onStageResize)};f.onStageResize=function(){f.resizeStage()};f.resizeStage=function(){f._computedStageScale=f.computeScaleAccordingToNewStageDimensions();f._screenWidth=f.getScreenWidth();f._screenHeight=f.getScreenHeight();f._mainStageSprite.setScale(f._computedStageScale);
f.centerStage()};f.computeScaleAccordingToNewStageDimensions=function(){var a=i._platform.getStage().get_width(),b=i._platform.getStage().get_height(),c=f._designSizeWidth,d=f._designSizeHeight,e=1;return e=f._scaleDocking==T.HEIGHT?b/d:f._scaleDocking==T.WIDTH?a/c:a/c<b/d?a/c:b/d};f.getScreenHeight=function(){return i._platform.getStage().get_height()/f._computedStageScale};f.getScreenWidth=function(){return i._platform.getStage().get_width()/f._computedStageScale};f.centerStage=function(){var a=
i._platform.getStage().get_width()-f._designSizeWidth*f._computedStageScale,b=i._platform.getStage().get_height()-f._designSizeHeight*f._computedStageScale;f._centeredOrigin&&(f._mainStageSprite.x.set__(a/2+f._designSizeWidth*f._computedStageScale/2),f._mainStageSprite.y.set__(b/2+f._designSizeHeight*f._computedStageScale/2))};f.get_computedStageScale=function(){return f._computedStageScale};f.get_stageWidth=function(){return f._designSizeWidth};f.get_stageHeight=function(){return f._designSizeHeight};
f.get_screenWidth=function(){return f._screenWidth};f.get_screenHeight=function(){return f._screenHeight};var Ja=function(){};e["flindigo.Utils"]=Ja;Ja.__name__=["flindigo","Utils"];Ja.clamp=function(a,b,c){if(b>c)throw"Error! MinValue should be smaller than maxValue!";a<b&&(a=b);a>c&&(a=c);return a};Ja.callWithDelay=function(a,b,c){null==c&&(c=1);if(null==a)throw"callerEntity should not be null!";var d=new s;a.addChild(d);a=new Va;d.add(a);b=new qa([new kb(c),b]);a.run(b);return a};var zc=function(){this._isInitialized=
!1};e["flindigo.analytics.deltadna.DeltaDNA"]=zc;zc.__name__=["flindigo","analytics","deltadna","DeltaDNA"];zc.prototype={recordEvent:function(a,b,c){if(!this._isInitialized)throw"Cannot record the new player event. DeltaDNA may not have been initialized or has not finished initializing!";a=this.getStringToSend(a,b);b=new Ac(this._collectURL+"/"+this._environmentKey+"/");b.setHeader("Content-Type","application/json");b.setPostData(a);b.onError=v(this,this.onHTTPError);b.onStatus=v(this,this.onHTTPStatus);
null!=c&&(b.onData=c);b.request(!0)},onHTTPError:function(){null},onHTTPStatus:function(){null},getStringToSend:function(a,b){var c=b.generateEventParams();c.platform=l.string(this._currentPlatformType);return JSON.stringify({eventName:a,userID:this._currentUserID,sessionID:this._currentSessionID,eventParams:c})},__class__:zc};var Qb=function(){};e["flindigo.analytics.deltadna.analytics_events.AnalyticsEvent"]=Qb;Qb.__name__=["flindigo","analytics","deltadna","analytics_events","AnalyticsEvent"];
Qb.prototype={generateEventParams:function(){return{}},__class__:Qb};var Rb=function(a,b,c,d,e){this._action=b;this._option=a;this._userScore=c;this._userLevel=d;this._userXP=e};e["flindigo.analytics.deltadna.analytics_events.OptionEvent"]=Rb;Rb.__name__=["flindigo","analytics","deltadna","analytics_events","OptionEvent"];Rb.__super__=Qb;Rb.prototype=p(Qb.prototype,{generateEventParams:function(){var a={};a.option=this._option;a.action=this._action;null!=this._userScore&&(a.userScore=this._userScore);
null!=this._userLevel&&(a.userLevel=this._userLevel);null!=this._userXP&&(a.userXP=this._userXP);return a},__class__:Rb});var U=e["flindigo.analytics.deltadna.enums.PlatformType"]={__ename__:["flindigo","analytics","deltadna","enums","PlatformType"],__constructs__:["ANDROID","WEB","IOS","UNKNOWN"]};U.ANDROID=["ANDROID",0];U.ANDROID.toString=k;U.ANDROID.__enum__=U;U.WEB=["WEB",1];U.WEB.toString=k;U.WEB.__enum__=U;U.IOS=["IOS",2];U.IOS.toString=k;U.IOS.__enum__=U;U.UNKNOWN=["UNKNOWN",3];U.UNKNOWN.toString=
k;U.UNKNOWN.__enum__=U;var ra=function(){this._deltaDNA=new zc};e["flindigo.managers.AnalyticsManager"]=ra;ra.__name__=["flindigo","managers","AnalyticsManager"];ra.getInstance=function(){null==ra._instance&&(ra._instance=new ra);return ra._instance};ra.prototype={recordOptionEvent:function(a,b,c,d){this._deltaDNA.recordEvent("options",new Rb(a,b,c,d))},__class__:ra};var j=function(){this._assetPackMap=new R};e["flindigo.managers.AssetManager"]=j;j.__name__=["flindigo","managers","AssetManager"];
j.getInstance=function(){null==j._instance&&(j._instance=new j);return j._instance};j.prototype={loadAssetPack:function(a,b){this._assetPackNameToLoad=a;this._callFunctionOnSuccess=b;return Ic.load(a,v(this,this.onAssetLoaded))},loadAssetPacksWithLoadingScene:function(a,b,c){a=new Sb(a,b,c);G.getInstance().fadeNewScene(a,null,0.3)},setAssetPack:function(a,b){this._assetPackMap.set(a,b)},getAssetPack:function(a){return this._assetPackMap.get(a)},onAssetLoaded:function(a){this.setAssetPack(this._assetPackNameToLoad,
a);this._assetPackNameToLoad="";null!=this._callFunctionOnSuccess&&this._callFunctionOnSuccess(a)},__class__:j};var G=function(){this._sceneDirector=new Ob;i.root.add(this._sceneDirector);this._onTransitionFinished=new fa};e["flindigo.managers.SceneManager"]=G;G.__name__=["flindigo","managers","SceneManager"];G.getInstance=function(){null==G._instance&&(G._instance=new G);return G._instance};G.prototype={fadeNewScene:function(a,b,c){null==c&&(c=0);var d=new s;d.add(a);this.onExitTransitionStarted(c);
this._sceneDirector.unwindToScene(d,b);this.onEnterTransitionStarted(c);Ja.callWithDelay(i.root,new Ka(v(this,this.onEnterTransitionFinished),[c]),c)},pushScene:function(a,b,c){null==c&&(c=0);var d=new s;d.add(a);this.onExitTransitionStarted(c);this._sceneDirector.pushScene(d,b);this.onEnterTransitionStarted(c);Ja.callWithDelay(this._sceneDirector.get_topScene(),new Ka(v(this,this.onEnterTransitionFinished),[c]),c)},popFrontScene:function(a,b){null==b&&(b=0);this.onExitTransitionStarted(b);this._sceneDirector.popScene(a);
this.onEnterTransitionStarted(b);if(0==b)this.onEnterTransitionFinished(0);else Ja.callWithDelay(this._sceneDirector.get_topScene(),new Ka(v(this,this.onEnterTransitionFinished),[b]),b)},onEnterTransitionFinished:function(a){var b=this.getCurrentTransitionsScene();if(null!=b)b.onEnterTransitionFinished(a)},onExitTransitionStarted:function(a){var b=this.getCurrentTransitionsScene();if(null!=b)b.onExitTransitionStarted(a)},onEnterTransitionStarted:function(a){var b=this.getCurrentTransitionsScene();
if(null!=b)b.onEnterTransitionStarted(a)},getCurrentTransitionsScene:function(){if(null==this._sceneDirector)return null;var a=this._sceneDirector.get_topScene();if(null==a)return null;a=l.instance(a._compMap.Scene_0,u);return null==a?null:a},__class__:G};var La=function(a){null==a&&(a=!0);za.call(this,a)};e["flindigo.scene.Scene"]=La;La.__name__=["flindigo","scene","Scene"];La.__super__=za;La.prototype=p(za.prototype,{onAdded:function(){za.prototype.onAdded.call(this);null!=this._hiddenListenersDisposer&&
this._hiddenListenersDisposer.dispose();this._hiddenListenersDisposer=new ja;this.setupHiddenListeners()},setupHiddenListeners:function(){this._hiddenListenersDisposer.connect2(i.hidden.get_changed(),v(this,this.onHiddenChanged));this._hiddenListenersDisposer.connect0(this.hidden,v(this,this.onSceneHidden));this._hiddenListenersDisposer.connect0(this.shown,v(this,this.onSceneShown))},onHiddenChanged:function(a){if(a)this.onGameHidden();else this.onGameShown()},onGameHidden:function(){},onGameShown:function(){},
onSceneHidden:function(){},onSceneShown:function(){},dispose:function(){za.prototype.dispose.call(this);null!=this._hiddenListenersDisposer&&this._hiddenListenersDisposer.dispose();this._hiddenListenersDisposer=null},__class__:La});var u=function(a){null==a&&(a=!0);La.call(this,a);this._signalExitTransitionStarted=new A;this._signalEnterTransitionFinished=new A;this._signalEnterTransitionStarted=new A};e["flindigo.scene.TransitionScene"]=u;u.__name__=["flindigo","scene","TransitionScene"];u.__super__=
La;u.prototype=p(La.prototype,{onEnterTransitionFinished:function(a){this._signalEnterTransitionFinished.emit(a)},onExitTransitionStarted:function(a){this._signalExitTransitionStarted.emit(a)},onEnterTransitionStarted:function(a){this._signalEnterTransitionStarted.emit(a)},dispose:function(){La.prototype.dispose.call(this);this._signalEnterTransitionStarted=this._signalExitTransitionStarted=this._signalEnterTransitionFinished=this.signalEnterTransitionStarted=this.signalExitTransitionStarted=this.signalEnterTransitionFinished=
null},__class__:u});var sa=function(a,b,c){this._currentIndex=0;u.call(this);this._callFunctionOnSuccessArray=b;this._sceneToSwitchToOnSuccess=c;this._assetPackNameArray=a};e["flindigo.scene.AssetLoaderScene"]=sa;sa.__name__=["flindigo","scene","AssetLoaderScene"];sa.__super__=u;sa.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.setupBackgroundSprite();Ja.callWithDelay(this.owner,new Ka(v(this,this.startLoadingAssets),this._currentIndex),0.5)},setupBackgroundSprite:function(){var a=
new xb(16711935,f.get_screenWidth(),f.get_screenHeight());this.owner.addChild((new s).add(a))},startLoadingAssets:function(){var a=j.getInstance().getAssetPack(this._assetPackNameArray[this._currentIndex]);if(null==a)this._assetLoader=j.getInstance().loadAssetPack(this._assetPackNameArray[this._currentIndex],v(this,this.onLoadingSuccessful)),this._assetLoader.progressChanged.connect(v(this,this.onProgressChanged));else this.onLoadingSuccessful(a)},onLoadingSuccessful:function(a){if(null!=this._callFunctionOnSuccessArray){var b=
this._callFunctionOnSuccessArray[this._currentIndex];null!=b&&b(this._assetPackNameArray[this._currentIndex],a)}this._currentIndex++;this._currentIndex>=this._assetPackNameArray.length?null!=this._sceneToSwitchToOnSuccess&&G.getInstance().fadeNewScene(this._sceneToSwitchToOnSuccess):this.startLoadingAssets(this._currentIndex)},onProgressChanged:function(){this.getCurrentProgress()},getCurrentProgress:function(){var a=(this._assetLoader._progress/this._assetLoader._total+this._currentIndex)/this._assetPackNameArray.length;
return a=Ja.clamp(a,0,100)},dispose:function(){u.prototype.dispose.call(this);this._sceneToSwitchToOnSuccess=this._assetLoader=this._callFunctionOnSuccessArray=null},__class__:sa});var Jc=function(){};e["flindigo.script.FlCallFunction"]=Jc;Jc.__name__=["flindigo","script","FlCallFunction"];Jc.__interfaces__=[oa];var Ka=function(a,b){this._fn=a;this._param=b};e["flindigo.script.CallFunction1"]=Ka;Ka.__name__=["flindigo","script","CallFunction1"];Ka.__interfaces__=[Jc];Ka.prototype={update:function(){this._fn(this._param);
return 0},__class__:Ka};var Tb=function(a){this.isPaused=!1;qa.call(this,a);E.pauseSignal.connect(v(this,this.pause));E.resumeSignal.connect(v(this,this.resume))};e["flindigo.script.Sequence"]=Tb;Tb.__name__=["flindigo","script","Sequence"];Tb.__super__=qa;Tb.prototype=p(qa.prototype,{pause:function(){this.isPaused=!0},resume:function(){this.isPaused=!1},update:function(a,b){return!0==this.isPaused?-1:qa.prototype.update.call(this,a,b)},__class__:Tb});var Aa=function(){};e["game.Main"]=Aa;Aa.__name__=
["game","Main"];Aa.main=function(){E.init(768,460,T.AUTO,!1);j.getInstance().loadAssetPack("preloader",Aa.onPreloaderAssetsLoaded)};Aa.showGame=function(){Ba.getInstance().bindFunctions();G.getInstance().fadeNewScene(new lb,null,0.3)};Aa.onPreloaderAssetsLoaded=function(){j.getInstance().loadAssetPack("fonts",Aa.onLoadedFonts)};Aa.onLoadedFonts=function(a){X.getInstance().initializeFonts(a);j.getInstance().loadAssetPacksWithLoadingScene(["game"],[Aa.showGame])};var Wa=function(a,b,c,d,e){t.call(this);
this._game=a;this._startX=b;this._startY=c;this._velX=d;this._velY=e;this._timesBounced=this._goldTimer=0};e["game.gameObjects.Ball"]=Wa;Wa.__name__=["game","gameObjects","Ball"];Wa.__super__=t;Wa.prototype=p(t.prototype,{get_name:function(){return"Ball_5"},onAdded:function(){t.prototype.onAdded.call(this);this.setupSprite()},setupSprite:function(){this._ballNumber=l["int"](10*Math.random());this.ballSprite=new m(j.getInstance().getAssetPack("game").getTexture("balls/_0000_10"));this.owner.add(this.ballSprite);
this.ballSprite.centerAnchor();this.ballSprite.setXY(this._startX,this._startY);this.backToNormal()},onUpdate:function(a){this._velY+=Wa.BALL_GRAVITY*a;if(0>=this.ballSprite.x._value-0.3*this.ballSprite.getNaturalWidth()&&0>this._velX||this.ballSprite.x._value+0.3*this.ballSprite.getNaturalWidth()>=f.get_stageWidth()&&0<this._velX)this._velX=-this._velX;var b=this.ballSprite.x;b.set__(b._value+this._velX*a);b=this.ballSprite.y;b.set__(b._value+this._velY*a);0<this._goldTimer?this._goldTimer-=a:this.backToNormal();
this.ballSprite.y._value>1.2*f.get_stageHeight()&&(this._game.removeBall(this),this.dispose())},bounce:function(a){0<this._velY&&(this._velY=-600);this._velX+=a*Math.abs(0.0050*this._velY);this.ballSprite.rotation.animateBy(5*Math.random()*this._velX,2,O.quadOut);this._timesBounced+=1},becomeGolden:function(){this._isGold=!0;this.ballSprite.texture=j.getInstance().getAssetPack("game").getTexture("balls/gold_ball");this.ballSprite.scaleX.animateTo(1,0.5,O.backOut);this.ballSprite.scaleY.animateTo(1,
0.5,O.backOut);this.ballSprite.centerAnchor();this._goldTimer=5},backToNormal:function(){this._isGold=!1;this.ballSprite.setScale(0.6);var a;a=0==this._ballNumber?"10":"0"+l.string(10-this._ballNumber);this.ballSprite.texture=j.getInstance().getAssetPack("game").getTexture("balls/_000"+this._ballNumber+"_"+a);this.ballSprite.centerAnchor()},isGold:function(){return this._isGold},bouncedThreeTimes:function(){return 3<=this._timesBounced?!0:!1},revertBounceCounter:function(){this._timesBounced=0},getYSpeed:function(){return this._velY},
__class__:Wa});var Ub=function(a,b,c,d){t.call(this);this._game=a;this._name=b;this.radius=c;this.health=d;this.destroyed=new fa;this.canMove=!0;this._targetX=0.5*f.get_stageWidth();this._frameNumber=1};e["game.gameObjects.Clarence"]=Ub;Ub.__name__=["game","gameObjects","Clarence"];Ub.__super__=t;Ub.prototype=p(t.prototype,{get_name:function(){return"Clarence_6"},onAdded:function(){this.normalFrame();l.instance(this.owner._compMap.Sprite_10,m).setXY(0.5*f.get_stageWidth(),0.85*f.get_stageHeight())},
juggle:function(){this._hitTimer=0.33;this._frameNumber=1;this.playLaunchAnimation()},setXTarget:function(a){this._targetX=a},playLaunchAnimation:function(){this._animTimer=0.025;this._frameNumber=11>this._frameNumber?this._frameNumber+1:1;var a;a=10>this._frameNumber?"0"+this._frameNumber:""+this._frameNumber;a=j.getInstance().getAssetPack("game").getTexture("clarence/clarence00"+a);null==l.instance(this.owner._compMap.Sprite_10,m)?this.owner.add(new m(a)):l.instance(this.owner._compMap.Sprite_10,
m).texture=a;l.instance(this.owner._compMap.Sprite_10,m).centerAnchor()},normalFrame:function(){this._frameNumber=1;var a=j.getInstance().getAssetPack("game").getTexture("clarence/clarence000"+this._frameNumber);null==l.instance(this.owner._compMap.Sprite_10,m)?this.owner.add(new m(a)):l.instance(this.owner._compMap.Sprite_10,m).texture=a;l.instance(this.owner._compMap.Sprite_10,m).centerAnchor();l.instance(this.owner._compMap.Sprite_10,m).y.set__(0.85*f.get_stageHeight())},playStunAnimation:function(){this._animTimer=
0.025;this._frameNumber=15>this._frameNumber?this._frameNumber+1:1;var a;a=10>this._frameNumber?"0"+this._frameNumber:""+this._frameNumber;a=j.getInstance().getAssetPack("game").getTexture("clarence_hit/dizzy_clarence00"+a);null==l.instance(this.owner._compMap.Sprite_10,m)?this.owner.add(new m(a)):l.instance(this.owner._compMap.Sprite_10,m).texture=a;l.instance(this.owner._compMap.Sprite_10,m).centerAnchor();l.instance(this.owner._compMap.Sprite_10,m).y.set__(0.9*f.get_stageHeight())},knockAside:function(a){this.canMove&&
(this.canMove=!1,this._frameNumber=this._stunTimer=1,this.playStunAnimation(),l.instance(this.owner._compMap.Sprite_10,m).x.animateBy(50*Math.random()*(a/Math.abs(a)),0.5,O.quadOut))},onUpdate:function(a){if(this.canMove){if(0<this._hitTimer?(this._hitTimer-=a,0>=this._animTimer?this.playLaunchAnimation():this._animTimer-=a):(this.normalFrame(),this._hitTimer=0),this._targetX!=l.instance(this.owner._compMap.Sprite_10,m).x._value)if(this._targetX<l.instance(this.owner._compMap.Sprite_10,m).x._value?
l.instance(this.owner._compMap.Sprite_10,m).scaleX.set__(-1):l.instance(this.owner._compMap.Sprite_10,m).scaleX.set__(1),50>Math.abs(l.instance(this.owner._compMap.Sprite_10,m).x._value-this._targetX)&&l.instance(this.owner._compMap.Sprite_10,m).x._value+1E3*a<0.95*f.get_stageWidth()&&l.instance(this.owner._compMap.Sprite_10,m).x._value+1E3*a>0.05*f.get_stageWidth())l.instance(this.owner._compMap.Sprite_10,m).x.set__(this._targetX);else if(l.instance(this.owner._compMap.Sprite_10,m).x._value<this._targetX){if(l.instance(this.owner._compMap.Sprite_10,
m).x._value+1E3*a<0.95*f.get_stageWidth()){var b=l.instance(this.owner._compMap.Sprite_10,m).x;b.set__(b._value+1E3*a)}}else l.instance(this.owner._compMap.Sprite_10,m).x._value-1E3*a>0.05*f.get_stageWidth()&&(b=l.instance(this.owner._compMap.Sprite_10,m).x,b.set__(b._value-1E3*a))}else 0<this._stunTimer?(this._stunTimer-=a,0>=this._animTimer?this.playStunAnimation():this._animTimer-=a):(this.normalFrame(),this.canMove=!0,this._stunTimer=0)},__class__:Ub});var Xa=function(a,b,c){t.call(this);this._game=
a;this._velX=b;this._velY=c;this._poofTimer=0;this._isPoofing=!1};e["game.gameObjects.Debris"]=Xa;Xa.__name__=["game","gameObjects","Debris"];Xa.__super__=t;Xa.prototype=p(t.prototype,{get_name:function(){return"Debris_4"},onAdded:function(){t.prototype.onAdded.call(this);this.setupSprite()},setupSprite:function(){var a;a=l["int"](4*Math.random());a=0==a?"hammer":1==a?"skateboard":2==a?"tire":"trike";this._sprite=new m(j.getInstance().getAssetPack("game").getTexture("falling_objects/"+a));this.owner.add(this._sprite);
this._sprite.centerAnchor();this._sprite.setXY(0.1*f.get_stageWidth()+0.8*Math.random()*f.get_stageWidth(),-this._sprite.getNaturalHeight());this._sprite.setScale(0.3)},onUpdate:function(a){if(!this._isPoofing){this._velY+=Xa.BALL_GRAVITY*a;if(0>=this._sprite.x._value-100&&0>this._velX||this._sprite.x._value+100>=f.get_stageWidth()&&0<this._velX)this._velX=-this._velX;var b=this._sprite.rotation;b.set__(b._value+360*a);b=this._sprite.x;b.set__(b._value+this._velX*a);b=this._sprite.y;b.set__(b._value+
this._velY*a)}if(this._sprite.y._value>1.3*f.get_stageHeight()||this._isPoofing&&0>=this._poofTimer)this._game.removeDebris(this),this.dispose()},poof:function(){this._isPoofing=!0;var a=l["int"](2*Math.random())+1;this._sprite.texture=j.getInstance().getAssetPack("game").getTexture("falling_objects/smoke_"+a);this._sprite.setScale(0.6);this._sprite.setRotation(360*Math.random());this._sprite.alpha.animateTo(0,1.5,O.quadOut);this._sprite.scaleX.animateTo(1,1.5,O.quadOut);this._sprite.scaleY.animateTo(1,
1.5,O.quadOut);this._sprite.centerAnchor();this._poofTimer=1.5},isPoofing:function(){return this._isPoofing},__class__:Xa});var Vb=function(){t.call(this)};e["game.level.Background"]=Vb;Vb.__name__=["game","level","Background"];Vb.__super__=t;Vb.prototype=p(t.prototype,{get_name:function(){return"Background_3"},onAdded:function(){this.startup()},startup:function(){this._bgSprite=new m(j.getInstance().getAssetPack("game").getTexture("bg"));this.owner.addChild((new s).add(this._bgSprite));this._tableSprite=
new m(j.getInstance().getAssetPack("game").getTexture("Table"));this.owner.addChild((new s).add(this._tableSprite));this._tableSprite.centerAnchor();this._tableSprite.setXY(0.45*f.get_stageWidth(),0.65*f.get_stageHeight());this._radioSprite=new m(j.getInstance().getAssetPack("game").getTexture("Radio"));this.owner.addChild((new s).add(this._radioSprite));this._radioSprite.centerAnchor();this._radioSprite.setXY(0.45*f.get_stageWidth(),0.54*f.get_stageHeight());this._radioLoop=new qa;this._radioLoop.add(new Ia([new pa(this._radioSprite.scaleX,
1,0.5,O.backOut),new pa(this._radioSprite.scaleY,1,0.5,O.backOut)]));this._radioLoop.add(new Ia([new pa(this._radioSprite.scaleX,0.9,0.5,O.backOut),new pa(this._radioSprite.scaleY,0.9,0.5,O.backOut)]));new Va;this._timer=0},onUpdate:function(a){t.prototype.onUpdate.call(this,a);this._timer-=a},__class__:Vb});var Wb=function(a){t.call(this);this._game=a;this._inGame=this._gameBegun=!1;this._score=0;this._scoreMultiplier=1;this._lastBall=null;this._difficultyLevel=this._encounterCounter=0};e["game.level.GameLooper"]=
Wb;Wb.__name__=["game","level","GameLooper"];Wb.__super__=t;Wb.prototype=p(t.prototype,{get_name:function(){return"GameLooper_2"},onAdded:function(){this.setupBackground();this.setupPlayer();this.setupFallers();this.setupHandlers()},setupBackground:function(){var a=this;this.owner.addChild(this._backGroundLayer=new s);this._backGroundLayer.add(this._background=new Vb);this._gameLayer=new s;this.owner.addChild(this._gameLayer);this._foreGroundLayer=new s;this.owner.addChild(this._foreGroundLayer);
this._scoreNotifSprite=new m(j.getInstance().getAssetPack("game").getTexture("multiplier/fall_x"));this._foreGroundLayer.addChild((new s).add(this._scoreNotifSprite));this._scoreNotifSprite.centerAnchor();this._scoreNotifSprite.setXY(0.5*f.get_stageWidth(),0.5*f.get_stageHeight());this._scoreNotifSprite.set_visible(!1);this._multiplierNumberSprite=new m(j.getInstance().getAssetPack("game").getTexture("multiplier/number_1"));this._scoreNotifSprite.owner.addChild((new s).add(this._multiplierNumberSprite));
this._multiplierNumberSprite.centerAnchor();this._multiplierNumberSprite.setXY(1.5*this._scoreNotifSprite.getNaturalWidth(),0.5*this._scoreNotifSprite.getNaturalHeight());this._scoreNotifSprite.setScale(0.3);this._notifScript=new Va;this._scoreNotifSprite.owner.add(this._notifScript);this._premadeSequence=new Tb;this._premadeSequence.add(new jb(function(){a._multiplierNumberSprite.texture=j.getInstance().getAssetPack("game").getTexture("multiplier/number_"+a._scoreMultiplier);a._scoreNotifSprite.set_visible(!0);
a._scoreNotifSprite.alpha.set__(0);a._scoreNotifSprite.setXY(a._player.owner._compMap.Sprite_10.x._value,a._player.owner._compMap.Sprite_10.y._value)}));this._premadeSequence.add(new Ia([new pa(this._scoreNotifSprite.alpha,1,0.2),new ib(this._scoreNotifSprite.y,-150,0.2)]));this._premadeSequence.add(new kb(0.1));this._premadeSequence.add(new Ia([new pa(this._scoreNotifSprite.alpha,0,0.2),new ib(this._scoreNotifSprite.y,-150,0.2)]));this._premadeSequence.add(new jb(function(){a._scoreNotifSprite.set_visible(!1)}));
this._counterContainer=new m(j.getInstance().getAssetPack("game").getTexture("scoreboard"));this._counterContainer.centerAnchor();this._counterContainer.setScale(1);this._counterContainer.setXY(0.12*f.get_stageWidth(),0.18*f.get_stageHeight());this._scoreCounter=new ya(X.getInstance().whiteFont,"0");this._scoreCounter.centerAnchor();this._scoreCounter.setXY(0.12*f.get_stageWidth(),0.195*f.get_stageHeight());this._scoreCounter.setScale(0.75);this._foreGroundLayer.addChild((new s).add(this._counterContainer));
this._foreGroundLayer.addChild((new s).add(this._scoreCounter))},setupPlayer:function(){this._player=new Ub(this,"",0,1);this._gameLayer.addChild((new s).add(this._player))},setupFallers:function(){this._ballArray=[];this._stuffArray=[]},setupHandlers:function(){this.owner.add(this._disposer=new ja);this._disposer.add(i._platform.getPointer().down.connect(v(this,this.onPointerDown),!0));this._disposer.add(i._platform.getPointer().move.connect(v(this,this.onPointerMove),!0));this._disposer.add(i._platform.getPointer().up.connect(v(this,
this.onPointerUp),!0))},onPointerDown:function(a){this._pointerDown=!0;this._inGame?this._player.setXTarget(a.viewX/f.get_computedStageScale()):this._gameBegun||this.startGame()},onPointerMove:function(a){this._pointerDown&&this._inGame&&this._player.setXTarget(a.viewX/f.get_computedStageScale())},onPointerUp:function(){this._pointerDown=!1},onUpdate:function(a){this._inGame&&(0<this._encounterCounter?this._encounterCounter-=a:this.addDebris(),this.checkHits(),this.updateMeters())},addDebris:function(){var a=
4-0.5*this._ballArray.length;this._encounterCounter=1+Math.random()*a;this._stuffArray.push(new Xa(this,0,0));this._gameLayer.addChild((new s).add(this._stuffArray[this._stuffArray.length-1]))},updateMeters:function(){this._score>l.parseInt(this._scoreCounter._text)&&(this._scoreCounter.set_text(""+this._score),this._scoreCounter.centerAnchor())},startGame:function(){this._gameBegun=this._inGame=!0;this.addBall(0.5*f.get_stageWidth(),0,0,0);this._encounterCounter=3},addScore:function(a){this._notifScript.stopAll();
this._score+=a*this._scoreMultiplier;1<this._scoreMultiplier&&this._notifScript.run(this._premadeSequence)},checkHits:function(){if(null!=this._player){for(var a=0,b=this._ballArray.length;a<b;){var c=a++;null!=this._ballArray[c]&&null!=this._ballArray[c].owner&&this._ballArray[c].owner._compMap.Sprite_10.y._value>0.7*f.get_stageHeight()&&this._ballArray[c].owner._compMap.Sprite_10.y._value<f.get_stageHeight()&&this._ballArray[c].owner._compMap.Sprite_10.x._value+0.3*this._ballArray[c].owner._compMap.Sprite_10.getNaturalWidth()>
this._player.owner._compMap.Sprite_10.x._value-0.25*this._player.owner._compMap.Sprite_10.getNaturalWidth()&&this._ballArray[c].owner._compMap.Sprite_10.x._value-0.3*this._ballArray[c].owner._compMap.Sprite_10.getNaturalWidth()<this._player.owner._compMap.Sprite_10.x._value+0.25*this._player.owner._compMap.Sprite_10.getNaturalWidth()&&0<=this._ballArray[c].getYSpeed()&&this.bounceBall(this._ballArray[c])}a=0;for(b=this._stuffArray.length;a<b;)c=a++,null!=this._stuffArray[c]&&null!=this._stuffArray[c].owner&&
this._stuffArray[c].owner._compMap.Sprite_10.y._value>0.65*f.get_stageHeight()&&this._stuffArray[c].owner._compMap.Sprite_10.y._value<f.get_stageHeight()&&this._stuffArray[c].owner._compMap.Sprite_10.x._value+0.15*this._stuffArray[c].owner._compMap.Sprite_10.getNaturalWidth()>this._player.owner._compMap.Sprite_10.x._value-0.25*this._player.owner._compMap.Sprite_10.getNaturalWidth()&&this._stuffArray[c].owner._compMap.Sprite_10.x._value-0.15*this._stuffArray[c].owner._compMap.Sprite_10.getNaturalWidth()<
this._player.owner._compMap.Sprite_10.x._value+0.25*this._player.owner._compMap.Sprite_10.getNaturalWidth()&&!this._stuffArray[c].isPoofing()&&(C.getInstance().playSfx(n.CLARENCE_HIT),this._stuffArray[c].poof(),this._player.knockAside(this._player.owner._compMap.Sprite_10.x._value-this._stuffArray[c].owner._compMap.Sprite_10.x._value))}},bounceBall:function(a){a.bounce(a.owner._compMap.Sprite_10.x._value-this._player.owner._compMap.Sprite_10.x._value);this._player.juggle();this.checkBallsBounced()&&
this.createBonus(a);null!=this._lastBall&&this._lastBall!=a&&7>this._scoreMultiplier&&this._scoreMultiplier<this._ballArray.length&&(this._scoreMultiplier+=1);this._lastBall=a;a.isGold()?(C.getInstance().playSfx(n.GOLDEN_BOUNCE),this.addScore(5)):(C.getInstance().playSfx(n.BOUNCE_SFX),this.addScore(1))},checkBallsBounced:function(){for(var a=0,b=this._ballArray.length;a<b;)if(!this._ballArray[a++].bouncedThreeTimes())return!1;return!0},createBonus:function(a){C.getInstance().playSfx(n.BONUS_SFX);
for(var b=0,c=this._ballArray.length;b<c;)this._ballArray[b++].revertBounceCounter();b=0.1*f.get_stageWidth()+0.8*l["int"](2*Math.random())*f.get_stageWidth();1>2*Math.random()||a.isGold()?this.addBall(b,0.5*-a.owner._compMap.Sprite_10.getNaturalHeight(),0.75*(this._player.owner._compMap.Sprite_10.x._value-b),0):a.becomeGolden()},addBall:function(a,b,c,d){C.getInstance().playSfx(n.NEW_BALL);this._ballArray.push(new Wa(this,a,b,c,d));this._gameLayer.addChild((new s).add(this._ballArray[this._ballArray.length-
1]))},removeBall:function(a){if(null!=this._ballArray)for(var b=0,c=this._ballArray.length;b<c;){var d=b++;this._ballArray[d]==a&&(this._ballArray[d].owner.remove(this._ballArray[d].owner._compMap.Sprite_10),this._gameLayer.removeChild(this._ballArray[d].owner),this._ballArray.splice(d,1))}this._lastBall=null;this._scoreMultiplier=1;0>=this._ballArray.length&&this.endGame()},removeDebris:function(a){if(null!=this._stuffArray)for(var b=0,c=this._stuffArray.length;b<c;){var d=b++;this._stuffArray[d]==
a&&(this._stuffArray[d].owner.remove(this._stuffArray[d].owner._compMap.Sprite_10),this._gameLayer.removeChild(this._stuffArray[d].owner),this._stuffArray.splice(d,1))}},endGame:function(){C.getInstance().playSfx(n.GAME_OVER);this._game.openGameOverScreen(this._score)},dispose:function(){this._scoreCounter.dispose();this._gameLayer.disposeChildren();this._foreGroundLayer.disposeChildren();this._backGroundLayer.disposeChildren();this._background.dispose();this._gameLayer.dispose();this._foreGroundLayer.dispose();
t.prototype.dispose.call(this);this._game=this._disposer=this._scoreCounter=this._foreGroundLayer=this._gameLayer=this._backGroundLayer=this._background=null},__class__:Wb});var X=function(){this.hashmap=new R};e["game.managers.FontManager"]=X;X.__name__=["game","managers","FontManager"];X.getInstance=function(){null==X._instance&&(X._instance=new X);return X._instance};X.prototype={initializeFonts:function(a){this._fontPack=a;this.fpsFont=new ma(j.getInstance().getAssetPack("fonts"),"arial/arial_white");
this.blackFont=new ma(j.getInstance().getAssetPack("fonts"),"fontfolks/fontfolks_black");this.whiteFont=new ma(j.getInstance().getAssetPack("fonts"),"fontfolks/fontfolks_white");this.whiteOutlineFont=new ma(j.getInstance().getAssetPack("fonts"),"arial/arial_white")},__class__:X};var ha=function(){this._highScore="highScore";null==i._platform.getStorage().get(this._highScore)&&this.loadDefaultHighScore()};e["game.managers.SaveManager"]=ha;ha.__name__=["game","managers","SaveManager"];ha.getInstance=
function(){null==ha._instance&&(ha._instance=new ha);return ha._instance};ha.prototype={loadDefaultHighScore:function(){i._platform.getStorage().set(this._highScore,0)},saveHighScore:function(a){i._platform.getStorage().set(this._highScore,a)},getHighScore:function(){return i._platform.getStorage().get(this._highScore)},__class__:ha};var n=e["game.managers.SfxType"]={__ename__:["game","managers","SfxType"],__constructs__:"BUTTON_SFX,BOUNCE_SFX,BONUS_SFX,CLARENCE_HIT,GAME_OVER,GOLDEN_BOUNCE,NEW_BALL".split(",")};
n.BUTTON_SFX=["BUTTON_SFX",0];n.BUTTON_SFX.toString=k;n.BUTTON_SFX.__enum__=n;n.BOUNCE_SFX=["BOUNCE_SFX",1];n.BOUNCE_SFX.toString=k;n.BOUNCE_SFX.__enum__=n;n.BONUS_SFX=["BONUS_SFX",2];n.BONUS_SFX.toString=k;n.BONUS_SFX.__enum__=n;n.CLARENCE_HIT=["CLARENCE_HIT",3];n.CLARENCE_HIT.toString=k;n.CLARENCE_HIT.__enum__=n;n.GAME_OVER=["GAME_OVER",4];n.GAME_OVER.toString=k;n.GAME_OVER.__enum__=n;n.GOLDEN_BOUNCE=["GOLDEN_BOUNCE",5];n.GOLDEN_BOUNCE.toString=k;n.GOLDEN_BOUNCE.__enum__=n;n.NEW_BALL=["NEW_BALL",
6];n.NEW_BALL.toString=k;n.NEW_BALL.__enum__=n;var C=function(){var a=this;this._isGameInitialized=this._isInitialized=!1;this._isSoundOn=!0;i._platform.getExternal().bind("onfocus",function(){a._isInitialized&&a._isSoundOn&&i.volume.set__(1)});i._platform.getExternal().bind("onblur",function(){a._isInitialized&&i.volume.set__(0)})};e["game.managers.SoundManager"]=C;C.__name__=["game","managers","SoundManager"];C.getInstance=function(){null==C._instance&&(C._instance=new C);return C._instance};C.prototype=
{initializeSounds:function(){this._isInitialized||(this._isInitialized=!0,this._bgmArray=[],this._sfxArray=[],this._sfxArray.push(new ta(n.BONUS_SFX)),this._bonusSfx=j.getInstance().getAssetPack("game").getSound("audio/BonusSFX"),this._sfxArray.push(new ta(n.BOUNCE_SFX)),this._bounceSfx=j.getInstance().getAssetPack("game").getSound("audio/BallBounceSFX"),this._sfxArray.push(new ta(n.CLARENCE_HIT)),this._clarenceHitSfx=j.getInstance().getAssetPack("game").getSound("audio/ClarenceHitSFX"),this._sfxArray.push(new ta(n.GAME_OVER)),
this._gameOverSfx=j.getInstance().getAssetPack("game").getSound("audio/GameOverSFX"),this._sfxArray.push(new ta(n.BUTTON_SFX)),this._buttonSfx=j.getInstance().getAssetPack("game").getSound("audio/ButtonSFX"),this._sfxArray.push(new ta(n.GOLDEN_BOUNCE)),this._goldBounceSfx=j.getInstance().getAssetPack("game").getSound("audio/GoldenBallBounce"),this._sfxArray.push(new ta(n.NEW_BALL)),this._newBallSfx=j.getInstance().getAssetPack("game").getSound("audio/NewBallFall"))},enableAudio:function(){i.volume.set__(1);
this._isSoundOn=!0;ra.getInstance().recordOptionEvent("mute","on")},disableAudio:function(){i.volume.set__(0);this._isSoundOn=!1;ra.getInstance().recordOptionEvent("mute","off")},playSfx:function(a,b,c){null==c&&(c=1);null==b&&(b=!1);var d=this.getSfx(a);this.stopSfx(a);for(var e=0,f=this._sfxArray.length;e<f;){var g=e++;if(this._sfxArray[g].type==a){this._sfxArray[g].playback=b?d.loop(c):d.play(c);break}}},stopSfx:function(a){for(var b=0,c=this._sfxArray.length;b<c;){var d=b++;if(this._sfxArray[d].type==
a&&null!=this._sfxArray[d].playback){this._sfxArray[d].playback.dispose();this._sfxArray[d].playback=null;break}}},getSfx:function(a){return a==n.BUTTON_SFX?this._buttonSfx:a==n.BONUS_SFX?this._bonusSfx:a==n.BOUNCE_SFX?this._bounceSfx:a==n.CLARENCE_HIT?this._clarenceHitSfx:a==n.GAME_OVER?this._gameOverSfx:a==n.GOLDEN_BOUNCE?this._goldBounceSfx:a==n.NEW_BALL?this._newBallSfx:null},__class__:C};var Mc=function(){};e["game.managers.Bgm"]=Mc;Mc.__name__=["game","managers","Bgm"];var ta=function(a){this.playback=
null;this.type=a};e["game.managers.Sfx"]=ta;ta.__name__=["game","managers","Sfx"];ta.prototype={__class__:ta};var Ba=function(){};e["game.managers.WPFunctionsManager"]=Ba;Ba.__name__=["game","managers","WPFunctionsManager"];Ba.getInstance=function(){null==Ba._instance&&(Ba._instance=new Ba);return Ba._instance};Ba.prototype={bindFunctions:function(){i._platform.getExternal().bind("pauseGame",v(this,this.showPauseScene));i._platform.getExternal().bind("unpauseGame",v(this,this.resumeGame));i._platform.getExternal().bind("reloadGame",
v(this,this.restartCurrentLevel));i._platform.getExternal().bind("muteGame",(Xb=C.getInstance(),v(Xb,Xb.disableAudio)));i._platform.getExternal().bind("unmuteGame",(Xb=C.getInstance(),v(Xb,Xb.enableAudio)))},showPauseScene:function(){G.getInstance().fadeNewScene(new Yb)},resumeGame:function(){G.getInstance().popFrontScene()},restartCurrentLevel:function(){G.getInstance().fadeNewScene(new Ma,null,0.3)},__class__:Ba};var Zb=function(a,b){null==a&&(a=!0);this._playButtonDown=this._mainButtonDown=!1;
this._score=b;u.call(this,a)};e["game.scenes.GameOverScene"]=Zb;Zb.__name__=["game","scenes","GameOverScene"];Zb.__super__=u;Zb.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.setupDisposer();this.setupBackground();this.setupClickTapText();this._disposer.add(this.clickTapTxt.get_pointerDown().connect(v(this,this.playDownHandler),!0));this._disposer.add(this._mainButton.get_pointerDown().connect(v(this,this.mainDownHandler),!0));this._disposer.add(i._platform.getPointer().up.connect(v(this,
this.upHandler),!0))},setupDisposer:function(){this._disposer=this.owner._compMap.Disposer_8;null==this._disposer&&this.owner.add(this._disposer=new ja);this._score>ha.getInstance().getHighScore()&&ha.getInstance().saveHighScore(this._score|0)},setupBackground:function(){this.bgSprite=new m(j.getInstance().getAssetPack("game").getTexture("screens/endscreen"));this.owner.addChild((new s).add(this.bgSprite));this.bgSprite.disablePointer();this._meterCounter=new ya(X.getInstance().whiteFont,"0 meters");
this._meterCounter.setXY(0.68*f.get_stageWidth(),0.3*f.get_stageHeight());var a=new ya(X.getInstance().blackFont,"0 meters");a.setXY(0.682*f.get_stageWidth(),0.305*f.get_stageHeight());this._meterCounter.set_text(""+this._score);a.set_text(""+this._score);this.owner.addChild((new s).add(a));this.owner.addChild((new s).add(this._meterCounter));this._meterCounter.centerAnchor();a.centerAnchor();a=new ya(X.getInstance().whiteFont,"0 meters");a.setXY(0.68*f.get_stageWidth(),0.495*f.get_stageHeight());
var b=new ya(X.getInstance().blackFont,"0 meters");b.setXY(0.682*f.get_stageWidth(),0.5*f.get_stageHeight());a.set_text(""+ha.getInstance().getHighScore());b.set_text(""+ha.getInstance().getHighScore());a.centerAnchor();b.centerAnchor();this.owner.addChild((new s).add(b));this.owner.addChild((new s).add(a))},setupClickTapText:function(){this._mainButton=new m(j.getInstance().getAssetPack("game").getTexture("screens/btn-home-01"));this._mainButton.centerAnchor();this._mainButton.setXY(0.74*f.get_stageWidth(),
0.675*f.get_stageHeight());this.owner.addChild((new s).add(this._mainButton));this.clickTapTxt=new m(j.getInstance().getAssetPack("game").getTexture("screens/btn-retry-01"));this.clickTapTxt.centerAnchor();this.clickTapTxt.setXY(0.625*f.get_stageWidth(),0.675*f.get_stageHeight());this.owner.addChild((new s).add(this.clickTapTxt));this.setupClickTapBlinkingScript()},setupClickTapBlinkingScript:function(){},upHandler:function(){this._playButtonDown?(C.getInstance().playSfx(n.BUTTON_SFX),G.getInstance().fadeNewScene(new Ma,
null,0.3),this.clickTapTxt.setScale(0.75),this._playButtonDown=!1):this._mainButtonDown&&(C.getInstance().playSfx(n.BUTTON_SFX),G.getInstance().fadeNewScene(new lb,null,0.3),this._mainButton.setScale(0.75),this._mainButtonDown=!1)},playDownHandler:function(){this.clickTapTxt.texture=j.getInstance().getAssetPack("game").getTexture("screens/btn-retry-02");this._playButtonDown=!0},mainDownHandler:function(){this._mainButton.texture=j.getInstance().getAssetPack("game").getTexture("screens/btn-home-02");
this._mainButtonDown=!0},onRemoved:function(){u.prototype.onRemoved.call(this);this._disposer.dispose()},dispose:function(){u.prototype.dispose.call(this);this._disposer=null},__class__:Zb});var Ma=function(a){null==a&&(a=!0);u.call(this,a)};e["game.scenes.GameScene"]=Ma;Ma.__name__=["game","scenes","GameScene"];Ma.__super__=u;Ma.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.setupDisposer();this.owner.addChild((new s).add(this._gameLoop=new Wb(this)))},openGameOverScreen:function(a){G.getInstance().pushScene(new Zb(!0,
a))},setupDisposer:function(){this._disposer=this.owner._compMap.Disposer_8;null==this._disposer&&this.owner.add(this._disposer=new ja)},onRemoved:function(){u.prototype.onRemoved.call(this);this._disposer.dispose()},dispose:function(){this._gameLoop.dispose();u.prototype.dispose.call(this);this._disposer=this._gameLoop=null},__class__:Ma});var $b=function(a){null==a&&(a=!0);u.call(this,a)};e["game.scenes.HowtoScene"]=$b;$b.__name__=["game","scenes","HowtoScene"];$b.__super__=u;$b.prototype=p(u.prototype,
{onAdded:function(){u.prototype.onAdded.call(this);this.pageNumber=1;this._playButtonDown=this._prevButtonDown=this._nextButtonDown=!1;this.setupDisposer();this.setupBackground();this.setupClickTapText();this._disposer.add(this._prevButton.get_pointerDown().connect(v(this,this.prevDownHandler),!0));this._disposer.add(this._nextButton.get_pointerDown().connect(v(this,this.nextDownHandler),!0));this._disposer.add(this._playButton.get_pointerDown().connect(v(this,this.playDownHandler),!0));this._disposer.add(i._platform.getPointer().up.connect(v(this,
this.upHandler),!0))},setupDisposer:function(){this._disposer=this.owner._compMap.Disposer_8;null==this._disposer&&this.owner.add(this._disposer=new ja)},setupBackground:function(){this.bgSprite=new m(j.getInstance().getAssetPack("game").getTexture("screens/htp1"));this.owner.addChild((new s).add(this.bgSprite));this.bgSprite.disablePointer()},setupClickTapText:function(){this._nextButton=new m(j.getInstance().getAssetPack("game").getTexture("screens/right_btn"));this._nextButton.centerAnchor();this._nextButton.setXY(0.975*
f.get_stageWidth(),0.5*f.get_stageHeight());this.owner.addChild((new s).add(this._nextButton));this._prevButton=new m(j.getInstance().getAssetPack("game").getTexture("screens/left_btn"));this._prevButton.centerAnchor();this._prevButton.setXY(0.025*f.get_stageWidth(),0.5*f.get_stageHeight());this.owner.addChild((new s).add(this._prevButton));this._prevButton.set_visible(!1);this._playButton=new m(j.getInstance().getAssetPack("game").getTexture("screens/Button-PLAY"));this._playButton.centerAnchor();
this._playButton.setXY(0.85*f.get_stageWidth(),0.9*f.get_stageHeight());this.owner.addChild((new s).add(this._playButton))},showPage:function(a){this.bgSprite.texture=j.getInstance().getAssetPack("game").getTexture("screens/htp"+a);1==a?this._prevButton.set_visible(!1):this._prevButton.set_visible(!0);3==a?this._nextButton.set_visible(!1):this._nextButton.set_visible(!0)},upHandler:function(){this._nextButtonDown?(C.getInstance().playSfx(n.BUTTON_SFX),this._nextButtonDown=!1,this._nextButton.setScale(1),
this.pageNumber+=1,this.showPage(this.pageNumber)):this._prevButtonDown?(C.getInstance().playSfx(n.BUTTON_SFX),this._prevButtonDown=!1,this._prevButton.setScale(1),this.pageNumber-=1,this.showPage(this.pageNumber)):this._playButtonDown&&(C.getInstance().playSfx(n.BUTTON_SFX),this._playButtonDown=!1,G.getInstance().fadeNewScene(new Ma,null,0.3))},prevDownHandler:function(){this._prevButton.setScale(0.9);this._prevButtonDown=!0},nextDownHandler:function(){this._nextButton.setScale(0.9);this._nextButtonDown=
!0},playDownHandler:function(){this._playButton.texture=j.getInstance().getAssetPack("game").getTexture("screens/Buttondown-PLAY");this._playButtonDown=!0},onRemoved:function(){u.prototype.onRemoved.call(this);this._disposer.dispose()},dispose:function(){u.prototype.dispose.call(this);this._disposer=null},__class__:$b});var Yb=function(a){null==a&&(a=!0);u.call(this,a)};e["game.scenes.PauseScene"]=Yb;Yb.__name__=["game","scenes","PauseScene"];Yb.__super__=u;Yb.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);
this.setupDisposer()},setupDisposer:function(){this._disposer=this.owner._compMap.Disposer_8;null==this._disposer&&this.owner.add(this._disposer=new ja)},onRemoved:function(){u.prototype.onRemoved.call(this);this._disposer.dispose()},dispose:function(){u.prototype.dispose.call(this);this._disposer=null},__class__:Yb});var lb=function(a){null==a&&(a=!0);C.getInstance().initializeSounds();u.call(this,a)};e["game.scenes.TitleScene"]=lb;lb.__name__=["game","scenes","TitleScene"];lb.__super__=u;lb.prototype=
p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this._howButtonDown=this._playButtonDown=!1;this.setupDisposer();this.setupBackground();this.setupClickTapText();this._disposer.add(this.clickTapTxt.get_pointerDown().connect(v(this,this.playDownHandler),!0));this._disposer.add(this._howtoButton.get_pointerDown().connect(v(this,this.howtoDownHandler),!0));this._disposer.add(i._platform.getPointer().up.connect(v(this,this.upHandler),!0))},setupDisposer:function(){this._disposer=this.owner._compMap.Disposer_8;
null==this._disposer&&this.owner.add(this._disposer=new ja)},setupBackground:function(){this.bgSprite=new m(j.getInstance().getAssetPack("game").getTexture("screens/titlescreen"));this.owner.addChild((new s).add(this.bgSprite));this.bgSprite.disablePointer()},setupClickTapText:function(){this._howtoButton=new m(j.getInstance().getAssetPack("game").getTexture("screens/Button-HTP"));this._howtoButton.centerAnchor();this._howtoButton.setXY(0.8*f.get_stageWidth(),0.9*f.get_stageHeight());this.owner.addChild((new s).add(this._howtoButton));
this.clickTapTxt=new m(j.getInstance().getAssetPack("game").getTexture("screens/Button-PLAY"));this.clickTapTxt.centerAnchor();this.clickTapTxt.setXY(0.8*f.get_stageWidth(),0.75*f.get_stageHeight());this.owner.addChild((new s).add(this.clickTapTxt));this.setupClickTapBlinkingScript()},setupClickTapBlinkingScript:function(){},upHandler:function(){this._playButtonDown?(C.getInstance().playSfx(n.BUTTON_SFX),G.getInstance().fadeNewScene(new Ma,null,0.3),this._playButtonDown=!1,this.clickTapTxt.setScale(1)):
this._howButtonDown&&(C.getInstance().playSfx(n.BUTTON_SFX),G.getInstance().fadeNewScene(new $b,null,0.3),this._howButtonDown=!1,this._howtoButton.setScale(1))},playDownHandler:function(){this._playButtonDown=!0;this.clickTapTxt.texture=j.getInstance().getAssetPack("game").getTexture("screens/Buttondown-PLAY")},howtoDownHandler:function(){this._howButtonDown=!0;this._howtoButton.texture=j.getInstance().getAssetPack("game").getTexture("screens/Buttondown-HTP")},onRemoved:function(){u.prototype.onRemoved.call(this);
this._disposer.dispose()},dispose:function(){u.prototype.dispose.call(this);this._disposer=null},__class__:lb});var Sb=function(a,b,c){sa.call(this,a,b,c)};e["game.scenes.loading.LoadingScene"]=Sb;Sb.__name__=["game","scenes","loading","LoadingScene"];Sb.__super__=sa;Sb.prototype=p(sa.prototype,{onAdded:function(){sa.prototype.onAdded.call(this);this.setupMovie();this.setupLoadingBar()},setupMovie:function(){this._bg=new m(j.getInstance().getAssetPack("preloader").getTexture("bg"));this.owner.addChild((new s).add(this._bg))},
setupLoadingBar:function(){var a=new m(j.getInstance().getAssetPack("preloader").getTexture("Loading-Bar-Layer3"));a.centerAnchor();a.x.set__(0.5*f.get_stageWidth());a.y.set__(0.9*f.get_stageHeight());a.scissor=new Ta(0,0,0.9*a.getNaturalWidth(),a.getNaturalHeight());a.scissor.x+=20;this.owner.addChild((new s).add(a));this._loadingBar=new m(j.getInstance().getAssetPack("preloader").getTexture("Loading-Bar-Layer2"));a.owner.addChild((new s).add(this._loadingBar));this._loadingBar.scaleX.set__(0);a=
new m(j.getInstance().getAssetPack("preloader").getTexture("Loading-Bar-Layer1"));a.centerAnchor();a.x.set__(0.5*f.get_stageWidth());a.y.set__(0.9*f.get_stageHeight());this.owner.addChild((new s).add(a))},onProgressChanged:function(){sa.prototype.onProgressChanged.call(this);100<100*this.getCurrentProgress()?this._loadingBar.setScaleXY(1,1):this._loadingBar.setScaleXY(this.getCurrentProgress(),1)},dispose:function(){sa.prototype.dispose.call(this);this._percentageText=this._loadingBar=null},__class__:Sb});
var Ac=function(a){this.url=a;this.headers=new Ca;this.params=new Ca;this.async=!0};e["haxe.Http"]=Ac;Ac.__name__=["haxe","Http"];Ac.prototype={setHeader:function(a,b){this.headers=va.filter(this.headers,function(b){return b.header!=a});this.headers.push({header:a,value:b});return this},setPostData:function(a){this.postData=a;return this},request:function(a){var b=this;b.responseData=null;var c=this.req=qb.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==
a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.req=null,b.onData(b.responseData=c.responseText);else if(null==a)b.req=null,b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.req=null;b.onError("Failed to connect to host");break;case 12007:b.req=null;b.onError("Unknown host");break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var e=this.postData;if(null!=e)a=!0;else for(var f=this.params.iterator();f.hasNext();)var g=
f.next(),e=null==e?"":e+"&",e=e+(encodeURIComponent(g.param)+"="+encodeURIComponent(g.value));try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var i=1>=this.url.split("?").length;c.open("GET",this.url+(i?"?":"&")+e,this.async);e=null}else c.open("GET",this.url,this.async)}catch(j){b.req=null;this.onError(j.toString());return}!va.exists(this.headers,function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
for(a=this.headers.iterator();a.hasNext();)f=a.next(),c.setRequestHeader(f.header,f.value);c.send(e);this.async||d(null)},onData:function(){},onError:function(){},onStatus:function(){},__class__:Ac};var na=function(){this.buf=new mb;this.cache=[];this.useCache=na.USE_CACHE;this.useEnumIndex=na.USE_ENUM_INDEX;this.shash=new R;this.scount=0};e["haxe.Serializer"]=na;na.__name__=["haxe","Serializer"];na.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);
null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);
return!1},serializeFields:function(a){for(var b=0,c=J.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(J.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=F["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>
a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var e=d++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":
this.buf.b+(""+b)));this.buf.b+="h";break;case Ca:this.buf.b+="l";for(a=a.iterator();a.hasNext();)this.serialize(a.next());this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(w.dateStr(a));break;case R:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+="h";break;case ca:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.get(c));this.buf.b+=
"h";break;case Na:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=J.field(c,"__id__"),J.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Ya:d=0;e=a.length-2;b=new mb;for(c=na.BASE64;d<e;){var f=a.get(d++),g=a.get(d++),i=a.get(d++);b.add(c.charAt(f>>2));b.add(c.charAt((f<<4|g>>4)&63));b.add(c.charAt((g<<2|i>>6)&63));b.add(c.charAt(i&63))}d==e?(e=a.get(d++),a=a.get(d++),b.add(c.charAt(e>>2)),b.add(c.charAt((e<<4|a>>4)&63)),b.add(c.charAt(a<<
2&63))):d==e+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(F.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(F.getClassName(b)),this.useCache&&
this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(F.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=l.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=l.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);
this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+l.string(a);}},__class__:na};var Q=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Q.DEFAULT_RESOLVER;null==a&&(a=F,Q.DEFAULT_RESOLVER=a);this.setResolver(a)};e["haxe.Unserializer"]=Q;Q.__name__=["haxe","Unserializer"];Q.initCodes=function(){for(var a=[],b=0,c=Q.BASE64.length;b<c;){var d=b++;a[Q.BASE64.charCodeAt(d)]=d}return a};Q.run=function(a){return(new Q(a)).unserialize()};
Q.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;
var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return F.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return F.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return l.parseFloat(w.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=w.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();
b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=F.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var c=this.readDigits(),d=F.getEnumConstructs(b)[c];if(null==d)throw"Unknown enum index "+
a+"@"+c;a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new Ca;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new R;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new ca;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";
return a;case 77:a=new Na;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=w.substr(this.buf,this.pos,19),a=w.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var e=Q.CODES;null==e&&(e=Q.initCodes(),Q.CODES=e);for(var f=this.pos,g=a&3,i=f+(a-g),b=Ya.alloc(3*(a>>2)+(2<=g?g-1:0)),c=0;f<i;){var j=
e[V.fastCodeAt(d,f++)],k=e[V.fastCodeAt(d,f++)];b.set(c++,j<<2|k>>4);j=e[V.fastCodeAt(d,f++)];b.set(c++,k<<4|j>>2);k=e[V.fastCodeAt(d,f++)];b.set(c++,j<<6|k)}2<=g&&(k=e[V.fastCodeAt(d,f++)],i=e[V.fastCodeAt(d,f++)],b.set(c++,k<<2|i>>4),3==g&&(d=e[V.fastCodeAt(d,f++)],b.set(c++,i<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=F.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=
this.get(this.pos++))throw"Invalid custom data";return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:Q};var ca=function(){this.h={}};e["haxe.ds.IntMap"]=ca;ca.__name__=["haxe","ds","IntMap"];ca.__interfaces__=[bc];ca.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=
[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return w.iter(a)},__class__:ca};var Na=function(){this.h={};this.h.__keys__={}};e["haxe.ds.ObjectMap"]=Na;Na.__name__=["haxe","ds","ObjectMap"];Na.__interfaces__=[bc];Na.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Na.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return w.iter(a)},__class__:Na};var R=function(){this.h={}};e["haxe.ds.StringMap"]=
R;R.__name__=["haxe","ds","StringMap"];R.__interfaces__=[bc];R.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return w.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:R};var Ya=function(a,b){this.length=
a;this.b=b};e["haxe.io.Bytes"]=Ya;Ya.__name__=["haxe","io","Bytes"];Ya.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new Ya(a,b)};Ya.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:Ya};var Kc=function(){};e["haxe.io.Eof"]=Kc;Kc.__name__=["haxe","io","Eof"];Kc.prototype={toString:function(){return"Eof"},__class__:Kc};var Dc=function(){};e["haxe.rtti.Meta"]=Dc;Dc.__name__=["haxe","rtti","Meta"];Dc.getType=function(a){a=a.__meta__;return null==
a||null==a.obj?{}:a.obj};var M=function(){};e["js.Boot"]=M;M.__name__=["js","Boot"];M.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};M.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+M.__string_rec(a[f],
b)):c+M.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+M.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+M.__string_rec(a[c],b));b=b.substring(1);
return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};M.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||M.__interfLoop(f,b))return!0}return M.__interfLoop(a.__super__,b)};M.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Qc:return(a|0)===a;case Nc:return"number"==typeof a;case Oc:return"boolean"==typeof a;case String:return"string"==
typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Rc:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||M.__interfLoop(M.getClass(a),b)))return!0}else return!1;return b==Sc&&null!=a.__name__||b==Tc&&null!=a.__ename__?!0:a.__enum__==b}};var qb=function(){};e["js.Browser"]=qb;qb.__name__=["js","Browser"];qb.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};qb.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;
if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object.";};var Cc=function(){};e["js.html._CanvasElement.CanvasUtil"]=Cc;Cc.__name__=["js","html","_CanvasElement","CanvasUtil"];Cc.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var Xb,Pc=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=
Number.POSITIVE_INFINITY;e.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=e.String=String;String.__name__=["String"];e.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=e.Date=Date;Date.__name__=["Date"];var Qc=e.Int={__name__:["Int"]},Rc=e.Dynamic={__name__:["Dynamic"]},Nc=e.Float=Number;Nc.__name__=["Float"];var Oc=e.Bool=Boolean;Oc.__ename__=["Bool"];var Sc=e.Class={__name__:["Class"]},Tc={};wa.instance=new wa;
H.DISPATCHING_SENTINEL=new Ra(null,null);i.root=new s;i.uncaughtError=new A;i.hidden=new N(!1);i.volume=new D(1);i._platform=wa.instance;i._calledInit=!1;Y.__meta__={obj:{assets:[{fonts:[{bytes:25911,md5:"65b19a926defbe50e3382b4038d09a19",name:"arial/arial_black.fnt"},{bytes:22447,md5:"bf87f122b4003e482b86aedee2e9b275",name:"arial/arial_black_0.png"},{bytes:25911,md5:"1535520b9bb1728a12a186c787cc8f08",name:"arial/arial_white.fnt"},{bytes:25162,md5:"21aebe8973955d1bd6601483b3a99672",name:"arial/arial_white_0.png"},
{bytes:19847,md5:"b76410bee2ec17a310f33ff6e5390dda",name:"fontfolks/fontfolks_black.fnt"},{bytes:17546,md5:"84fefb8b22f856f9ea2a37c7be89366a",name:"fontfolks/fontfolks_black_0.png"},{bytes:5190,md5:"83d8a380e83a3cfdd301d8c9c3864d9b",name:"fontfolks/fontfolks_black_1.png"},{bytes:19847,md5:"8b0f35a02c053707c66715866e84e6d6",name:"fontfolks/fontfolks_white.fnt"},{bytes:20630,md5:"bb38d6348596c1e80561384276c11239",name:"fontfolks/fontfolks_white_0.png"},{bytes:6872,md5:"ad9ee432ff903e8e25a64da9c688e597",
name:"fontfolks/fontfolks_white_1.png"},{bytes:40514,md5:"0dbf95486ab4d68909a7f49d3d8877a2",name:"rounded/arial_rounded_black.fnt"},{bytes:13376,md5:"6b7941afed19502967449eb7659e14f9",name:"rounded/arial_rounded_black_0.png"},{bytes:13993,md5:"e76490fd3df6ad07ad43f2d706e37734",name:"rounded/arial_rounded_black_1.png"},{bytes:6467,md5:"ae64d8c82d88099a67a9c545612c9357",name:"rounded/arial_rounded_black_2.png"},{bytes:40514,md5:"28bf5ca5724af70a4eb6e1568514da20",name:"rounded/arial_rounded_white.fnt"},
{bytes:15466,md5:"49a8aaa62b52eff4d87f421d7a9f5a8a",name:"rounded/arial_rounded_white_0.png"},{bytes:15755,md5:"bd7522d50a87066791e3af93bb0db9de",name:"rounded/arial_rounded_white_1.png"},{bytes:8085,md5:"ae328d0ef7757edde4f431b34852dc6b",name:"rounded/arial_rounded_white_2.png"},{bytes:13190,md5:"edab5a02c4ac5006598f2094bf6ef0d7",name:"shag_lounge/shag_lounge_black.fnt"},{bytes:20765,md5:"654b2409929361b7f874c9ce43f5e55e",name:"shag_lounge/shag_lounge_black_0.png"},{bytes:13191,md5:"743bf4ae9101712cfacb80274744d2d2",
name:"shag_lounge/shag_lounge_normal.fnt"},{bytes:20765,md5:"654b2409929361b7f874c9ce43f5e55e",name:"shag_lounge/shag_lounge_normal_0.png"},{bytes:14788,md5:"9a9bb244b87ff6a3717c182ca1bdae41",name:"shag_lounge/shag_lounge_outline.fnt"},{bytes:51631,md5:"1af5f6dbeb7f29954eb5b58b3964bace",name:"shag_lounge/shag_lounge_outline_0.png"},{bytes:13190,md5:"896cfe3a0ed02ec90e49fd2f5a3e1646",name:"shag_lounge/shag_lounge_white.fnt"},{bytes:5439,md5:"cd29d811df48dc8b6d8d5b2e91c42ad3",name:"shag_lounge/shag_lounge_white_0.png"}],
preloader:[{bytes:224908,md5:"0ada11ad8f915649a7921aaaef5a69b1",name:"bg.jpg"},{bytes:25911,md5:"65b19a926defbe50e3382b4038d09a19",name:"fonts/arial/arial_black.fnt"},{bytes:22447,md5:"bf87f122b4003e482b86aedee2e9b275",name:"fonts/arial/arial_black_0.png"},{bytes:25911,md5:"1535520b9bb1728a12a186c787cc8f08",name:"fonts/arial/arial_white.fnt"},{bytes:25162,md5:"21aebe8973955d1bd6601483b3a99672",name:"fonts/arial/arial_white_0.png"},{bytes:49547,md5:"7513c621d23180b9c2a7a00d9134afe7",name:"fonts/rounded/arialroundedblack.fnt"},
{bytes:12707,md5:"fc92cb7130cd0d9e1c39f9bad6868de7",name:"fonts/rounded/arialroundedblack_0.png"},{bytes:14314,md5:"ac51c4359e4dbc0f649048a83a777e3a",name:"fonts/rounded/arialroundedblack_1.png"},{bytes:7876,md5:"de7c941bf7b929bb3edb1d04c426c55b",name:"fonts/rounded/arialroundedblack_2.png"},{bytes:49547,md5:"df4d73c43735b594211c20b5f3691e2b",name:"fonts/rounded/arialroundedwhite.fnt"},{bytes:14873,md5:"58a2c6579e71d23696d406a2e4d4354e",name:"fonts/rounded/arialroundedwhite_0.png"},{bytes:15831,md5:"986f85d12429a89dd43575bbb9d67ef3",
name:"fonts/rounded/arialroundedwhite_1.png"},{bytes:9561,md5:"75b39e7f402ae1847e636ee86ce7ae20",name:"fonts/rounded/arialroundedwhite_2.png"},{bytes:13190,md5:"edab5a02c4ac5006598f2094bf6ef0d7",name:"fonts/shag_lounge/shag_lounge_black.fnt"},{bytes:20765,md5:"654b2409929361b7f874c9ce43f5e55e",name:"fonts/shag_lounge/shag_lounge_black_0.png"},{bytes:13191,md5:"743bf4ae9101712cfacb80274744d2d2",name:"fonts/shag_lounge/shag_lounge_normal.fnt"},{bytes:20765,md5:"654b2409929361b7f874c9ce43f5e55e",name:"fonts/shag_lounge/shag_lounge_normal_0.png"},
{bytes:14788,md5:"9a9bb244b87ff6a3717c182ca1bdae41",name:"fonts/shag_lounge/shag_lounge_outline.fnt"},{bytes:51631,md5:"1af5f6dbeb7f29954eb5b58b3964bace",name:"fonts/shag_lounge/shag_lounge_outline_0.png"},{bytes:13190,md5:"896cfe3a0ed02ec90e49fd2f5a3e1646",name:"fonts/shag_lounge/shag_lounge_white.fnt"},{bytes:5439,md5:"cd29d811df48dc8b6d8d5b2e91c42ad3",name:"fonts/shag_lounge/shag_lounge_white_0.png"},{bytes:2878,md5:"0da987eb25ba0c55efd778754ecf5996",name:"Loading-Bar-Layer1.png"},{bytes:11101,
md5:"a79ee61cdb64cad76c65a5a1a3a3e2ac",name:"Loading-Bar-Layer2.png"},{bytes:522,md5:"0023116747abbb6895811e97fee8dcba",name:"Loading-Bar-Layer3.png"}],game:[{bytes:22729,md5:"5880973ccbb321bb05298dcd8244b3af",name:"audio/BallBounceSFX.mp3"},{bytes:11829,md5:"756a556f0776afccf57fcb9ed74e87a9",name:"audio/BallBounceSFX.ogg"},{bytes:32300,md5:"f308226f94f1c6cb4757f7e4f9df6d96",name:"audio/BonusSFX.mp3"},{bytes:18666,md5:"a831871ba1dfaee61ced070f3fe353e5",name:"audio/BonusSFX.ogg"},{bytes:3168,md5:"34a8c4ec3b543b858f6c22a3f9ac389a",
name:"audio/ButtonSFX.mp3"},{bytes:5329,md5:"aee44f33e9456e0b0e134fe83b745a83",name:"audio/ButtonSFX.ogg"},{bytes:23967,md5:"56bb7c1d511529289c27c2762e5cf74b",name:"audio/ClarenceHitSFX.mp3"},{bytes:14261,md5:"c1039a37dc92229a2a859291db08b766",name:"audio/ClarenceHitSFX.ogg"},{bytes:42681,md5:"8524a5878b8933c1d32a4aa38c81473b",name:"audio/GameOverSFX.mp3"},{bytes:27045,md5:"ca6ffaaf7e27caf6a70d9eafec58659d",name:"audio/GameOverSFX.ogg"},{bytes:29004,md5:"c9a30f27551dc76f5a3d05ad8f7154e8",name:"audio/GoldenBallBounce.mp3"},
{bytes:13347,md5:"3a2e4256d05794422a6180b515df2480",name:"audio/GoldenBallBounce.ogg"},{bytes:22043,md5:"f66a5ca54e79477e1446390a111aa211",name:"audio/NewBallFall.mp3"},{bytes:7119,md5:"7a4e50a29d111174b4e92ca27d7e7d1c",name:"audio/NewBallFall.ogg"},{bytes:7825,md5:"377d2b21ba3bea5ee1369313bb41cff8",name:"balls/gold_ball.png"},{bytes:25743,md5:"d95b8f887ec5ffea8d6857844094d23a",name:"balls/_0000_10.png"},{bytes:23312,md5:"3c97030f8ff4d20a4d4fb604ae04de2a",name:"balls/_0001_09.png"},{bytes:9289,md5:"1e2060bd9a2b68f2946b1b38c3edd86f",
name:"balls/_0002_08.png"},{bytes:7784,md5:"037fd14950b1c72831e30ffb15215041",name:"balls/_0003_07.png"},{bytes:9431,md5:"77d11947a4db8cf0b98ccb1b495d2a10",name:"balls/_0004_06.png"},{bytes:6566,md5:"066345e2e6346f82b56eb82a0569b8e7",name:"balls/_0005_05.png"},{bytes:10331,md5:"9f6a79955ebaee80ec2ce4d3cdf384c2",name:"balls/_0006_04.png"},{bytes:11836,md5:"0b5843dbe78abc4af08e9dbfb74e5da7",name:"balls/_0007_03.png"},{bytes:13638,md5:"667dff137b5d4590931551be2498b53d",name:"balls/_0008_02.png"},{bytes:11323,
md5:"7a662b056197c4b04e9d7408f8ac2e51",name:"balls/_0009_01.png"},{bytes:224908,md5:"0ada11ad8f915649a7921aaaef5a69b1",name:"bg.jpg"},{bytes:17250,md5:"2ab6d72dbf83a542727bd7bc82afaa84",name:"clarence/clarence0001.png"},{bytes:15836,md5:"52c065a6309432e9ba512b22dc5b6dec",name:"clarence/clarence0002.png"},{bytes:17260,md5:"bcdd45fa46ffa2d788ae23d4ff6df5ff",name:"clarence/clarence0003.png"},{bytes:17331,md5:"b9558d067664c10bc31bbd620c76ebbb",name:"clarence/clarence0004.png"},{bytes:16561,md5:"217be8daf5bc50c9481d3b4c8068ee91",
name:"clarence/clarence0005.png"},{bytes:16787,md5:"80daaafa35cc4e0aee73351f000c1e88",name:"clarence/clarence0006.png"},{bytes:17003,md5:"6b63221081ced8390f0bd50fdb05b0eb",name:"clarence/clarence0007.png"},{bytes:16949,md5:"3fefa03b28bf63ac655dd0329db4df36",name:"clarence/clarence0008.png"},{bytes:17949,md5:"5c06918633cc264bf5dcc8f0090fb07c",name:"clarence/clarence0009.png"},{bytes:17679,md5:"d3685d759d43effa46a03f2cbe2cde24",name:"clarence/clarence0010.png"},{bytes:17094,md5:"5fd4e7b13c522851e3b67a52b80e56ef",
name:"clarence/clarence0011.png"},{bytes:26084,md5:"75f1d3bca9f6ef31439e117e8ffdf92a",name:"clarence_hit/dizzy_clarence0001.png"},{bytes:26084,md5:"75f1d3bca9f6ef31439e117e8ffdf92a",name:"clarence_hit/dizzy_clarence0002.png"},{bytes:26084,md5:"75f1d3bca9f6ef31439e117e8ffdf92a",name:"clarence_hit/dizzy_clarence0003.png"},{bytes:26024,md5:"6430cc623f84df493686bb61b7359591",name:"clarence_hit/dizzy_clarence0004.png"},{bytes:26024,md5:"6430cc623f84df493686bb61b7359591",name:"clarence_hit/dizzy_clarence0005.png"},
{bytes:26024,md5:"6430cc623f84df493686bb61b7359591",name:"clarence_hit/dizzy_clarence0006.png"},{bytes:27408,md5:"b976aca563b91e2f5a1c64eca61ffdc5",name:"clarence_hit/dizzy_clarence0007.png"},{bytes:27408,md5:"b976aca563b91e2f5a1c64eca61ffdc5",name:"clarence_hit/dizzy_clarence0008.png"},{bytes:27408,md5:"b976aca563b91e2f5a1c64eca61ffdc5",name:"clarence_hit/dizzy_clarence0009.png"},{bytes:27318,md5:"a862e7bc893e92e49690dbd55d15e497",name:"clarence_hit/dizzy_clarence0010.png"},{bytes:27318,md5:"a862e7bc893e92e49690dbd55d15e497",
name:"clarence_hit/dizzy_clarence0011.png"},{bytes:27318,md5:"a862e7bc893e92e49690dbd55d15e497",name:"clarence_hit/dizzy_clarence0012.png"},{bytes:25959,md5:"8922ca16000843f4c41c754814c7d4fc",name:"clarence_hit/dizzy_clarence0013.png"},{bytes:25959,md5:"8922ca16000843f4c41c754814c7d4fc",name:"clarence_hit/dizzy_clarence0014.png"},{bytes:25959,md5:"8922ca16000843f4c41c754814c7d4fc",name:"clarence_hit/dizzy_clarence0015.png"},{bytes:46753,md5:"b41c4af5825b37ccb3d30012be25b535",name:"falling_objects/hammer.png"},
{bytes:89608,md5:"ee29de93d6358954fa25737f435ebc86",name:"falling_objects/skateboard.png"},{bytes:20907,md5:"e775795ba9e2dfe43eae1371930c2c97",name:"falling_objects/smoke_1.png"},{bytes:19450,md5:"c5edab4dbbf30470f76072d25942ab97",name:"falling_objects/smoke_2.png"},{bytes:111648,md5:"422e46d4f8f3d271b132e8a3078f95f5",name:"falling_objects/tire.png"},{bytes:265706,md5:"00ae7fea8a6741797b90f2c8f48fdfe7",name:"falling_objects/trike.png"},{bytes:11544,md5:"7e221d9ca0d19da1c323829543bf575a",name:"fonts/Dark.fnt"},
{bytes:5456,md5:"dfc26da7af9a8e360e1dd28d40334114",name:"fonts/Dark.png"},{bytes:11545,md5:"7394c6b6c7bee0008ebc72a6386ed53c",name:"fonts/Light.fnt"},{bytes:7009,md5:"68caffab9c0221872d81ab200d548414",name:"fonts/Light.png"},{bytes:12393,md5:"9cbe1e7cf6ed2cf9d4f68c99fc9698a0",name:"multiplier/fall_x.png"},{bytes:11918,md5:"54de9217824f58afa1337fddac17b801",name:"multiplier/number_1.png"},{bytes:14313,md5:"35f7e0dd1afb2dccc56282594b2731ef",name:"multiplier/number_2.png"},{bytes:15560,md5:"eed9410c73e0a97ab2e96cbc76f8a1bd",
name:"multiplier/number_3.png"},{bytes:13683,md5:"a44b7d37dbed2a2faa9bc57acc452c29",name:"multiplier/number_4.png"},{bytes:15894,md5:"f6369d587b854fd4b3c929ca5e47c7d6",name:"multiplier/number_5.png"},{bytes:14673,md5:"17a4002a84ffce88964e39ce74afaa59",name:"multiplier/number_6.png"},{bytes:11840,md5:"6bc3a4f6ce36998b44beb87421e31a21",name:"multiplier/number_7.png"},{bytes:4958,md5:"9b782e94334bbc4580b6cbc2275409b9",name:"Radio.png"},{bytes:1527,md5:"07ffecb853ae62e3ecdb11aefd74036e",name:"Score.png"},
{bytes:5297,md5:"1d73dee5ac42596a6f4e4628a0f447f9",name:"scoreboard.png"},{bytes:1446,md5:"21245da222c5cd9eab1c037ece0962ef",name:"screens/btn-home-01.png"},{bytes:1613,md5:"a9959de51285e31ece1f2b2bade740be",name:"screens/btn-home-02.png"},{bytes:1906,md5:"eff68e23864635b08ac6355d172528ab",name:"screens/btn-retry-01.png"},{bytes:2099,md5:"c73e1aaefd53883e0eb8d86a84403366",name:"screens/btn-retry-02.png"},{bytes:8567,md5:"a33605d008e189e7ca125df0f65ff5cc",name:"screens/Button-HTP.png"},{bytes:6324,
md5:"39b0b3400787213354520fa2c0ae5732",name:"screens/Button-PLAY.png"},{bytes:7953,md5:"f0806b70040e8fb049262a68024583db",name:"screens/Buttondown-HTP.png"},{bytes:5629,md5:"7bd4645a6b56ff634982d8b533c6f04d",name:"screens/Buttondown-PLAY.png"},{bytes:212185,md5:"4c98fbf875afcc269a68ec2e863655d4",name:"screens/endscreen.png"},{bytes:272330,md5:"d6b4b6a7324a7511e9bf97792fd360d2",name:"screens/htp1.png"},{bytes:297353,md5:"74f6e62598e95d8039c4cecf6b42a038",name:"screens/htp2.png"},{bytes:257984,md5:"428e3639f36b0541a1f763aad3f93f09",
name:"screens/htp3.png"},{bytes:5065,md5:"86459639bdada9679407128c3be09cda",name:"screens/left_btn.png"},{bytes:5101,md5:"ff59198a3add2c5c8dea5e4c0f056679",name:"screens/right_btn.png"},{bytes:142694,md5:"5af118814b92ccc1a913e1a7939e716e",name:"screens/titlescreen.png"},{bytes:1679,md5:"82b2579cdd5b84c75e6b4854933172a1",name:"Table.png"}]}]}};Y._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();
x._scratchPoint=new jc;ma.NEWLINE=new yb(10);W._sharedEvent=new nc;K._sharedEvent=new oc;Qa.CANVAS_TEXTURES=(new ua("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);y._mediaRefCount=0;y._detectBlobSupport=!0;r.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];r.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new ua("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);z._detectSupport=!0;ga._scratchMatrix=new ka;E.pauseSignal=new fa;E.resumeSignal=new fa;E.isPaused=!1;E.baseUrl=
"";Wa.BALL_GRAVITY=732.8;Xa.BALL_GRAVITY=732.8;na.USE_CACHE=!1;na.USE_ENUM_INDEX=!1;na.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Q.DEFAULT_RESOLVER=F;Q.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Na.count=0;Aa.main()})();
