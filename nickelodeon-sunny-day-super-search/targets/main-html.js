nick_sdk_client=nick_sdk_client||{},nick_sdk_client.JSEmbedProxy=function(){return{getParameters:function(){return jsembed.params()},getBase:function(){return jsembed.baseUrl()},isCrossdomain:function(){return jsembed.isBaseCrossdomain()},getCanvasScale:function(){return jsembed.canvasScale()},getCanvasWidth:function(){return jsembed.canvasWidth()},getCanvasHeight:function(){return jsembed.canvasHeight()},getScaledWidth:function(){return jsembed.scaledWidth()},getScaledHeight:function(){return jsembed.scaledHeight()}}}(),nick_sdk_client=nick_sdk_client||{},nick_sdk_client.wfaei09ne=function(){var a="",b=[],c=3e4,d=3e3,e=!1,f=function(a,b){var c=document.createElement("script");c.src=window.atob(a),document.head.insertBefore(c,document.head.firstChild),b&&(c.onload=b)};window.getDomains=function(a){b=a.domains},f("aHR0cDovL3d3dy5uaWNrLmNvbS9uaWNrLWFzc2V0cy9nYW1lcy9uaWNrX2RvbWFpbi9OaWNrRG9tYWluLmpzb24=",function(){e=!0});var g=function(b){a=b?b:window.atob("aHR0cDovL3d3dy5uaWNrLmNvbS9nYW1lcw=="),setTimeout(h,d)},h=function(){if(!e)return void setTimeout(h,1e3);var a="",b="blank",d=!0;a=window.location.host;try{b=window.parent.location.host}catch(f){b="whereareyou"}var g=i(b),j=i(a);return d=!(g&&j),d&&setTimeout(k,c),d},i=function(a){return"blank"===a?!0:j(a,b)},j=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=new RegExp(d);if(a.match(e))return!0}return!1},k=function(){window.top.location.replace(a)};return{vjeiwo231:g}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.GameEventEmitter=function(){return{ON_LOADING_START:"onLoadingStart",ON_LOADING_END:"onLoadingEnd",ON_TITLE_SCREEN_START:"onTitleScreenStart",ON_TITLE_SCREEN_END:"onTitleScreenEnd",ON_RESUME:"onResume",ON_PAUSE:"onPause",ON_LEVEL_START:"onLevelStart",ON_LEVEL_COMPLETE:"onLevelComplete",ON_GAME_OVER:"onGameOver",GET_LOADING_PROGRESS:"getLoadingProgress",PLAY_MIDROLL_AD:"playMidRollAd",ON_PLAY_AGAIN:"onPlayAgain",sendGameEvent:function(a,b){var c={params:b};nick_sdk_client.SDK.queueEvent(a,c)}}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.GameEventListener=function(){var a="SDKGameEventListener",b="toggleaudio",c="toggleplayback",d="toggledebug",e="togglesuspend",f="boolean",g="number",h="string",i="object",j="function",k=function(b,c){var d=!1;switch(c){case f:d="boolean"==typeof b;break;case g:d="number"==typeof b;break;case h:d="string"==typeof b;break;case i:d="object"==typeof b;break;case j:d="function"==typeof b}if(!d){var e="TypeCheck: Object {"+b+"} was of type {"+typeof b+"}. Expected type {"+c+"}";throw nick_sdk_client.SDK.log(a,e),e}},l=function(b,c,d){if(b.hasOwnProperty(c))return k(b[c],d),!0;var e="ParameterCheck: Parameter {"+c+"} does not exist!";throw nick_sdk_client.SDK.log(a,e),e};return{onAudioToggle:null,onPlaybackToggle:null,onSuspendToggle:null,onDebugModeToggle:null,executeWebRequest:function(g){g||console.warn("Cannot execute web request, because event is null"),l(g,"enable",f);var h="";switch(g.name){case b:if(nick_sdk_client.GameEventListener.onAudioToggle)return nick_sdk_client.GameEventListener.onAudioToggle(g.enable),!0;h="Audio Toggle is not implemented.";break;case c:if(nick_sdk_client.GameEventListener.onPlaybackToggle)return nick_sdk_client.GameEventListener.onPlaybackToggle(g.enable),!0;h="Playback Toggle is not implemented.";break;case e:if(nick_sdk_client.GameEventListener.onSuspendToggle)return nick_sdk_client.GameEventListener.onSuspendToggle(g.enable),!0;h="Suspend Toggle is not implemented.";break;case d:if(nick_sdk_client.GameEventListener.onDebugModeToggle)return nick_sdk_client.GameEventListener.onDebugModeToggle(g.enable),!0;h="Debug Toggle is not implemented.";break;default:h="Unknown function"}nick_sdk_client.SDK.log(a,h)}}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.SDK=function(){var a="1",b="1.2",c="1",d="init",e="log",f="error",g=[],h=[],i=!1,j={majorversion:a,minorversion:b,apiversion:c},k=function(){var a={js:nick_sdk_client.GameEventListener.executeWebRequest};l(d,a)},l=function(a,b){b.eventName=a,b.timestamp=Date.now(),g.push(b),m(),n()},m=function(){for(;g.length>0;)h.push(g.pop())},n=function(){try{window.nsdk_expose(j,h),h.length=0}catch(a){console.warn("unable to call expose function...")}},o=function(a,b,c){try{var d={msg:a,callstack:arguments.callee.caller.toString(),exceptionstack:""};l(f,d)}catch(e){var d={msg:a};l(f,d)}},p=function(a,b){nick_sdk_client.SDK.debugMode&&l(e,{id:a,msg:b})},q=function(a){requestAnimationFrame(q);var b=i;i=!1,g.length>0&&(b=!0,m()),b&&n()};return{debugMode:!1,initialize:function(){k(),requestAnimationFrame(q),window.onerror=o},queueEvent:l,log:p}}();/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function v(a,b){function c(){}c.prototype=a;var d=new c,i;for(i in b)d[i]=b[i];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function Ae(a){return a instanceof Array?function(){return G.iter(a)}:"function"==typeof a.iterator?s(a,a.iterator):a.iterator}function s(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Qe++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var m={},f=function(){return V.__string_rec(this,"")},ib=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};m.EReg=ib;ib.__name__=["EReg"];ib.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";
return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:ib};var G=function(){};m.HxOverrides=G;G.__name__=["HxOverrides"];G.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),i=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>i?"0"+i:""+i)+":"+(10>e?"0"+e:""+e)};G.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);
return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};G.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};G.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};G.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;
a.splice(c,1);return!0};G.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var lb=function(){};m.Lambda=lb;lb.__name__=["Lambda"];lb.array=function(a){for(var b=[],a=Ae(a)();a.hasNext();){var c=a.next();b.push(c)}return b};lb.count=function(a,b){var c=0;if(null==b)for(var d=Ae(a)();d.hasNext();)d.next(),c++;else for(d=Ae(a)();d.hasNext();){var i=d.next();b(i)&&c++}return c};lb.indexOf=function(a,b){for(var c=0,d=
Ae(a)();d.hasNext();){var i=d.next();if(b==i)return c;c++}return-1};var Zb=function(){this.length=0};m.List=Zb;Zb.__name__=["List"];Zb.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:Zb};var Nb=function(){};m.IMap=Nb;Nb.__name__=["IMap"];Nb.prototype={__class__:Nb};Math.__name__=["Math"];
var F=function(){};m.Reflect=F;F.__name__=["Reflect"];F.field=function(a,b){try{return a[b]}catch(c){return null}};F.setField=function(a,b,c){a[b]=c};F.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};F.setProperty=function(a,b,c){var d;if(a.__properties__&&(d=a.__properties__["set_"+b]))a[d](c);else a[b]=c};F.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&
c.call(a,d)&&b.push(d)}return b};F.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};F.compare=function(a,b){return a==b?0:a>b?1:-1};F.compareMethods=function(a,b){return a==b?!0:!F.isFunction(a)||!F.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};F.isEnumValue=function(a){return null!=a&&null!=a.__enum__};F.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};F.copy=function(a){for(var b={},c=0,
d=F.fields(a);c<d.length;){var i=d[c];++c;F.setField(b,i,F.field(a,i))}return b};var y=function(){};m.Std=y;y.__name__=["Std"];y.is=function(a,b){return V.__instanceof(a,b)};y.string=function(a){return V.__string_rec(a,"")};y["int"]=function(a){return a|0};y.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==G.cca(a,1)||88==G.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};y.parseFloat=function(a){return parseFloat(a)};var Ob=function(){this.b=""};m.StringBuf=Ob;Ob.__name__=["StringBuf"];Ob.prototype=
{add:function(a){this.b+=y.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+G.substr(a,b,null):this.b+G.substr(a,b,c)},__class__:Ob};var W=function(){};m.StringTools=W;W.__name__=["StringTools"];W.startsWith=function(a,b){return a.length>=b.length&&G.substr(a,0,b.length)==b};W.isSpace=function(a,b){var c=G.cca(a,b);return 8<c&&14>c||32==c};W.ltrim=function(a){for(var b=a.length,c=0;c<b&&W.isSpace(a,c);)c++;return 0<c?G.substr(a,c,b-c):a};W.rtrim=function(a){for(var b=a.length,c=0;c<b&&W.isSpace(a,
b-c-1);)c++;return 0<c?G.substr(a,0,b-c):a};W.trim=function(a){return W.ltrim(W.rtrim(a))};W.replace=function(a,b,c){return a.split(b).join(c)};W.fastCodeAt=function(a,b){return a.charCodeAt(b)};var M=m.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};M.TNull=["TNull",0];M.TNull.toString=f;M.TNull.__enum__=M;M.TInt=["TInt",1];M.TInt.toString=f;M.TInt.__enum__=M;M.TFloat=["TFloat",2];M.TFloat.toString=f;M.TFloat.__enum__=
M;M.TBool=["TBool",3];M.TBool.toString=f;M.TBool.__enum__=M;M.TObject=["TObject",4];M.TObject.toString=f;M.TObject.__enum__=M;M.TFunction=["TFunction",5];M.TFunction.toString=f;M.TFunction.__enum__=M;M.TClass=function(a){a=["TClass",6,a];a.__enum__=M;a.toString=f;return a};M.TEnum=function(a){a=["TEnum",7,a];a.__enum__=M;a.toString=f;return a};M.TUnknown=["TUnknown",8];M.TUnknown.toString=f;M.TUnknown.__enum__=M;M.__empty_constructs__=[M.TNull,M.TInt,M.TFloat,M.TBool,M.TObject,M.TFunction,M.TUnknown];
var U=function(){};m.Type=U;U.__name__=["Type"];U.getClass=function(a){return null==a?null:a instanceof Array&&null==a.__enum__?Array:a.__class__};U.getClassName=function(a){return a.__name__.join(".")};U.getEnumName=function(a){return a.__ename__.join(".")};U.resolveClass=function(a){a=m[a];return null==a||!a.__name__?null:a};U.resolveEnum=function(a){a=m[a];return null==a||!a.__ename__?null:a};U.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],
b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};U.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};U.createEnum=function(a,b,c){var d=F.field(a,b);if(null==d)throw"No such constructor "+
b;if(F.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};U.getEnumConstructs=function(a){return a.__constructs__.slice()};U["typeof"]=function(a){switch(typeof a){case "boolean":return M.TBool;case "string":return M.TClass(String);case "number":return Math.ceil(a)==a%2147483648?M.TInt:M.TFloat;case "object":if(null==a)return M.TNull;var b=a.__enum__;if(null!=b)return M.TEnum(b);
a=a instanceof Array&&null==a.__enum__?Array:a.__class__;return null!=a?M.TClass(a):M.TObject;case "function":return a.__name__||a.__ename__?M.TObject:M.TFunction;case "undefined":return M.TNull;default:return M.TUnknown}};U.allEnums=function(a){return a.__empty_constructs__};(m.XmlType={__ename__:["XmlType"],__constructs__:[]}).__empty_constructs__=[];var C=function(){};m.Xml=C;C.__name__=["Xml"];C.parse=function(a){return mb.parse(a)};C.createElement=function(a){var b=new C;b.nodeType=C.Element;
b._children=[];b._attributes=new K;b.set_nodeName(a);return b};C.createPCData=function(a){var b=new C;b.nodeType=C.PCData;b.set_nodeValue(a);return b};C.createCData=function(a){var b=new C;b.nodeType=C.CData;b.set_nodeValue(a);return b};C.createComment=function(a){var b=new C;b.nodeType=C.Comment;b.set_nodeValue(a);return b};C.createDocType=function(a){var b=new C;b.nodeType=C.DocType;b.set_nodeValue(a);return b};C.createProcessingInstruction=function(a){var b=new C;b.nodeType=C.ProcessingInstruction;
b.set_nodeValue(a);return b};C.createDocument=function(){var a=new C;a.nodeType=C.Document;a._children=[];return a};C.prototype={get_nodeName:function(){if(this.nodeType!=C.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=C.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==C.Element||this.nodeType==C.Document)throw"bad nodeType";return this._nodeValue},set_nodeValue:function(a){if(this.nodeType==C.Element||
this.nodeType==C.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=C.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,b){if(this.nodeType!=C.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=C.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},
next:function(){return this.x[this.cur++]}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&!(this.x[a].nodeType==C.Element);)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var c=this.x[a],a=a+1;if(c.nodeType==C.Element)return this.cur=a,c}return null}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=
this.cur,c=this.x.length;b<c;){var d=this.x[b];if(d.nodeType==C.Element&&d._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var d=this.x[b];b++;if(d.nodeType==C.Element&&d._nodeName==a)return this.cur=b,d}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==C.Element)return c;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";
null!=a._parent&&G.remove(a._parent._children,a);a._parent=this;this._children.push(a)},__class__:C,__properties__:{set_nodeValue:"set_nodeValue",get_nodeValue:"get_nodeValue",set_nodeName:"set_nodeName",get_nodeName:"get_nodeName"}};var ka=function(){this._MIN_FPS=0.06666666666666667;this._RATE_REFRESH_SCALE=0.1;this._root=z.get_instance().root.addChild(new D);z.get_instance().updateDelegate=s(this,this._onEventUpdate);z.get_instance().uncaughtError.connect(s(this,this.errorHandler));j.get_instance().get_input().prime();
this._layerWorld=this._root.addChild(new D);this._layerUI=this._root.addChild(new D);this._layerFG=this._root.addChild(new D);this._dt=0;this._timerRefreshScale=0.001;this._isUIActive=this._isWorldActive=!1;this._flagFirstPlay=!0;this._flagInitialLoadComplete=this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._debugEnabled=this._flagJSEmbedExists=this._flagJSEmbedPauseState=!1;j.get_instance().setString(l.STRING_SCALE_TYPE,"none");q.setCanvasVars(960,560,0);y.is(z.get_instance().get_stage(),
nb)&&(q.scaleFactor=V.__cast(z.get_instance().get_stage(),nb).scaleFactor);this._flagJSEmbedExists=R.get_exists();j.get_instance().setBool(l.BOOL_JSEMBED_EXISTS,this._flagJSEmbedExists);this._flagJSEmbedExists?j.get_instance().setString(l.STRING_SCALE_TYPE,R.get_scaleType()):(this._root.set_scaleX(this._root.set_scaleY(q.scaleFactor)),j.get_instance().get_input().set_scale(q.scaleFactor));q.OPTION_FILL_CANVAS="fill"==j.get_instance().getString(l.STRING_SCALE_TYPE)||"fillto"==j.get_instance().getString(l.STRING_SCALE_TYPE)||
"filltop"==j.get_instance().getString(l.STRING_SCALE_TYPE);this._calcScale();this._changeActions=[];this._flowstack=[];this._addEventListeners();this._beginEngine()};m["com.workinman.builders.hidden_object.Main"]=ka;ka.__name__=["com","workinman","builders","hidden_object","Main"];ka.main=function(){z.get_instance().init();ka._fillSprite=new sa({color:0,width:8,height:8,origin:0});ka._fillSprite.set_scaleX(z.get_instance().get_stage().get_width()/8);ka._fillSprite.set_scaleY(z.get_instance().get_stage().get_height()/
8);z.get_instance().root.addChild(ka._fillSprite);R.get_exists()?R.get_isCrossdomain()?j.get_instance().get_assets().setCrossdomainBaseUrl(ka.appendAssetsToUrl(R.get_base())):j.get_instance().get_assets().set_baseUrl(ka.trimUrl(R.get_base())):j.get_instance().get_assets().set_baseUrl("");h.get_instance().init();ja.get_instance().sendTrackingCall(E.onLoadingStart);j.get_instance().get_assets().load(ka._onBootstrapLoad,null,["bootstrap"],["bootstrap_manifest_id"]);Ua.addScript("encoding",h.get_instance().basePath+
"embed/encoding.js");Ua.addScript("encoding-indexes",h.get_instance().basePath+"embed/encoding-indexes.js")};ka._onBootstrapLoad=function(){ja.get_instance().sendTrackingCall(E.getLoadingProgress,{progress:0.3333333333333333});h.get_instance().onBootstrapLoad();ka._initServices();ka._app=new ka};ka._initServices=function(){for(var a=0,b=j.get_instance().get_assets().allConfig();a<b.length;){var c=b[a];++a;if(!1!=c.hasNode.resolve("services"))for(c=c.node.resolve("services").nodes.resolve("service").iterator();c.hasNext();){var d=
c.next();switch(d.att.resolve("type").toString()){case "canadaTracking":"true"==d.att.resolve("enabled").toString()&&Za.enableCanadaTracking(d.att.resolve("showGameTitle").toString())}}}};ka.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=G.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=G.substr(a,b,a.length-b);return a=ka.appendAssetsToUrl(a)};ka.appendAssetsToUrl=function(a){if(0==a.length)return a;
"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};ka.prototype={errorHandler:function(){null},_parseConfigXML:function(){for(var a=!1,b=0,c="000000",d=!1,i=!1,e="en",f=0,h=j.get_instance().get_assets().allConfig(!0);f<h.length;){var g=h[f];++f;if(g.hasNode.resolve("chunks"))for(var k=g.node.resolve("chunks").nodes.resolve("chunk").iterator();k.hasNext();){var n=k.next();j.get_instance().get_assets().addChunk(n.att.resolve("id").toString(),n)}g.hasNode.resolve("quality")&&
(z.get_instance().get_touch().get_supported()&&(a="false"==g.node.resolve("quality").att.resolve("forceLowQualityMobile")?!1:!0),b=y.parseInt(g.node.resolve("quality").att.resolve("index")));g.hasNode.resolve("unlockCode")&&(c=g.node.resolve("unlockCode").get_innerData());g.hasNode.resolve("unlockEnabled")&&(d="true"==g.node.resolve("unlockEnabled").get_innerData());g.hasNode.resolve("achievements")&&"true"==g.node.resolve("achievements").att.resolve("enabled").toString()&&(i=!0);g.hasNode.resolve("localization")&&
(e=y.string(g.node.resolve("localization").node.resolve("region").get_innerData()))}j.get_instance().setBool(l.BOOL_LOW_QUALITY_MOBILE,a);j.get_instance().setInt(l.INT_QUALITY,b);j.get_instance().setString(l.STRING_UNLOCK_CODE,c);j.get_instance().setBool(l.BOOL_ALLOW_UNLOCK,d);i&&j.get_instance().get_achievements().init();j.get_instance().setString(l.STRING_REGION_ID,e);null},_eventInitialLoadComplete:function(){ob.delay(s(this,this._enableSplash),1200);this._flagInitialLoadComplete=!0},_beginEngine:function(){q.setFlowDelegate(s(this,
this._addFlowEvent));this._parseConfigXML();this._ui=new xd(this._layerUI);j.get_instance().get_input().setDelegateUnlockWebAudio(s(this,this._handleWebAudioUnlock));this._setDefaults();this._generateUI();this._registerInput();this._openSplash()},_openSplash:function(){this._timerAnalytics=0;try{eval('var div = document.getSpriteById("loadingOverlay"); div.parentNode.removeChild(div);')}catch(a){null}this._ui.changeScreenTo(u.SPLASH,!1)},_setDefaults:function(){j.get_instance().setBool(l.BOOL_PAUSED,
!1);j.get_instance().setBool(l.BOOL_GAME_WIN,!1);j.get_instance().setBool(l.BOOL_GAME_LOSE,!1);j.get_instance().setBool(l.BOOL_LEVEL_WIN,!1);j.get_instance().setBool(l.BOOL_LEVEL_LOSE,!1);j.get_instance().setBool(l.BOOL_CODE_SCREEN_OPEN,!1);j.get_instance().setBool(l.BOOL_CODE_UNLOCK,!1);j.get_instance().setBool(l.BOOL_TOUCH_DEVICE,"mobile"==Ua.getQueryVariable("mode")?!0:z.get_instance().get_touch().get_supported());j.get_instance().setBool(l.BOOL_FONTS_LOADED,!1);j.get_instance().setBool(l.BOOL_FAKE_PROGRESS,
!1);j.get_instance().setInt(l.INT_HEALTH,3);j.get_instance().setInt(l.INT_LIVES,3);j.get_instance().setInt(l.INT_SCORE,0);j.get_instance().setInt(l.INT_CURRENCY,200);j.get_instance().setInt(l.INT_LOADING_PROGRESS,0);j.get_instance().setInt(l.INT_LOADING_SCORE,0);j.get_instance().setInt(l.INT_ACHIEVEMENT_SCORE,0);j.get_instance().setInt(l.INT_QUALITY,0);j.get_instance().setString(l.STRING_LEVEL_ID,"level1");j.get_instance().setString(l.STRING_DEBUG_TEXT,"");j.get_instance().setFloat(l.FLOAT_AD_BAR_HEIGHT,
0);j.get_instance().setInt(l.INT_GAME,0);j.get_instance().setInt(l.INT_LEVEL,0);j.get_instance().setString(l.STRING_NOTIFICATION,"");j.get_instance().get_sound().set_muteAll(!1)},_registerInput:function(){j.get_instance().get_input().registerInput(k.LEFT,[e.Left,e.A]);j.get_instance().get_input().registerInput(k.RIGHT,[e.Right,e.D]);j.get_instance().get_input().registerInput(k.UP,[e.Up,e.W],[k.VIRTUAL_JUMP]);j.get_instance().get_input().registerInput(k.DOWN,[e.Down,e.S]);j.get_instance().get_input().registerInput(k.SPACE,
[e.Z,e.Space],[k.VIRTUAL_FLASH]);j.get_instance().get_input().registerInput(k.E,[e.E]);j.get_instance().get_input().registerInput(k.Q,[e.Q]);j.get_instance().get_input().registerInput(k.DB_A,[e.Control]);j.get_instance().get_input().registerInput(k.DB_B,[e.Shift]);j.get_instance().get_input().registerInput(k.DB_C,[e.Backquote]);j.get_instance().get_input().registerInput(k.DB_D,[e.Y]);j.get_instance().get_input().registerInput(k.DB_E,[e.V]);j.get_instance().get_input().registerInput(k.DB_F,[e.Y])},
_generateUI:function(){this._isUIActive=!0;this._ui.addScreen(u.SPLASH,nc);this._ui.addScreen(u.LEVEL_SELECT,oc);this._ui.addScreen(u.HELP,pc);this._ui.addScreen(u.SHOP,qc);this._ui.addScreen(u.GAMEPLAY_MENU,rc);this._ui.addScreen(u.QUIT_CONFIRM,sc);this._ui.addScreen(u.GAMEPLAY_HUD,wb);this._ui.addScreen(u.END_GAME,tc);this._ui.addScreen(u.ENTER_CODE,uc);this._ui.addScreen(u.ACHIEVEMENT_POPUP,vc);this._ui.addScreen(u.ACHIEVEMENTS,wc);this._ui.addScreen(u.DIALOGUE_POPUP,xc);this._ui.addScreen(u.DEBUG,
yc);this._ui.set_interfaceDelegate(s(this,this._onInterfaceChange));null},_gotoAndPlayGame:function(){var a=j.get_instance().getInt(l.INT_QUALITY);if(0!=a&&1!=a)throw"[Main](_gotoAndPlayGame) Error: Not expecting quality flag "+a+". Nothing loaded.";q.allAudioSupported();a=["gameplay_manifest_id"];a.push(h.get_instance().get_curGame().levels[j.get_instance().getInt(l.INT_LEVEL)].manifestID);j.get_instance().get_assets().load(s(this,this._eventLoadCompleteGameplay),null,null,a,1200)},_eventLoadCompleteGameplay:function(){h.get_instance().get_curGame().levels[j.get_instance().getInt(l.INT_LEVEL)].loaded=
!0;this._playGameMusic();this._isWorldActive?null:this._generateWorld()},_onWorldGenerationComplete:function(){ob.delay(s(this,this._onWorldGenerationCompleteDelay),300);this._ui.changeScreenTo(u.GAMEPLAY_HUD,!0)},_onWorldGenerationCompleteDelay:function(){this._world.start();this._unpauseGameplay();this._timerAnalytics=0},_enableSplash:function(){this._playSplashMusic();this._ui.getScreen(u.SPLASH).open(!1);this._enableInput()},_gotoEndGame:function(a){this._playEndMusic();this._flagWonPreviousGame=
a;this._newOnChangeAction(u.END_GAME,ea.OPEN_COMPLETE,s(this,this._endGameOpenComplete));this._ui.openScreen(u.END_GAME,!1)},_endGameOpenComplete:function(){var a=this;ob.delay(function(){a._disposeWorld();a._ui.changeScreenTo(u.END_GAME,!1)},100)},_onGameNew:function(){this._resetFlagsResults()},_resetFlagsResults:function(){j.get_instance().resetValue(l.BOOL_GAME_WIN);j.get_instance().resetValue(l.BOOL_GAME_LOSE);j.get_instance().resetValue(l.BOOL_LEVEL_WIN);j.get_instance().resetValue(l.BOOL_LEVEL_LOSE)},
_resetGameResults:function(){j.get_instance().resetValue(l.INT_SCORE);j.get_instance().resetValue(l.STRING_LEVEL_ID)},_generateWorld:function(){this._isWorldActive&&this._disposeWorld();this._isWorldActive=!0;this._world=new xb(this._layerWorld)},_onEventUpdate:function(a){this._dt=Math.round(1E3*a)/1E3;this._dt>this._MIN_FPS&&(this._dt=this._MIN_FPS);this._timerAnalytics+=this._dt;this._timerRefreshScale-=this._dt;0>=this._timerRefreshScale&&(this._timerRefreshScale=this._RATE_REFRESH_SCALE,this._calcScale());
this._flagJSEmbedExists&&R.get_isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=R.get_isPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay());j.get_instance().update(this._dt);h.get_instance().update(this._dt);this._isUIActive&&(this._checkDebug(),this._ui.update(this._dt));this._isWorldActive&&this._world.update(this._dt);j.get_instance().getBool(l.BOOL_GAME_LOSE)?q.dispatchFlowEvent(p.BRANCH_GAME_LOSE):j.get_instance().getBool(l.BOOL_GAME_WIN)?
q.dispatchFlowEvent(p.BRANCH_GAME_WIN):j.get_instance().getBool(l.BOOL_LEVEL_LOSE)?q.dispatchFlowEvent(p.BRANCH_LEVEL_LOSE):j.get_instance().getBool(l.BOOL_LEVEL_WIN)&&q.dispatchFlowEvent(p.BRANCH_LEVEL_WIN);this._runFlowStack();j.get_instance().getBool(l.BOOL_FAKE_PROGRESS)&&99>j.get_instance().getInt(l.INT_LOADING_PROGRESS)&&(j.get_instance().modifyValue(l.INT_LOADING_PROGRESS,10*a),99<j.get_instance().getInt(l.INT_LOADING_PROGRESS)&&j.get_instance().setInt(l.INT_LOADING_PROGRESS,99))},_calcScale:function(){if(h.get_instance().responsive){var a=
q.scaleFactor;this._root.set_scaleX(this._root.set_scaleY(a));this._root.set_x(0);j.get_instance().get_input().set_scale(a);var b=0.5*(z.get_instance().get_stage().get_width()-960),c=z.get_instance().get_stage().get_width()/a,d=z.get_instance().get_stage().get_height()/a;if(q.get_CANVAS_WIDTH()!=c||q.get_CANVAS_HEIGHT_REAL()!=d)q.setCanvasVars(c,d,b/1),j.get_instance().get_dispatcher().dispatchEvent(T.request(n.RESIZE_CANVAS,function(){var b=new K;b.set("scale",a);return b}(this)))}else{var b=z.get_instance().get_stage().get_height()/
560,c=z.get_instance().get_stage().get_width()/960,i=Math.min(b,c),b=0.5*(z.get_instance().get_stage().get_width()-960*i),c=0.5*(z.get_instance().get_stage().get_height()-560*i);i==this._root.get_scaleX()&&b==this._root.get_x()&&c==this._root.get_y()||(this._root.set_scaleX(this._root.set_scaleY(i)),j.get_instance().get_input().set_scale(i),this._root.set_x(b),this._root.set_y(c),q.setCanvasVars(960,560,b/i),ka._fillSprite.set_scaleX(z.get_instance().get_stage().get_width()/8),ka._fillSprite.set_scaleY(z.get_instance().get_stage().get_height()/
8),j.get_instance().get_dispatcher().dispatchEvent(T.request(n.RESIZE_CANVAS,function(){var a=new K;a.set("scale",i);return a}(this))))}},_checkDebug:function(){!this._ui.isScreenOpen(u.DEBUG)&&!1==this._debugEnabled&&j.get_instance().get_input().getInput(k.DB_A)&&j.get_instance().get_input().getInput(k.DB_B)&&j.get_instance().get_input().getInput(k.DB_C)&&(this._debugEnabled=!0,this._ui.openScreen(u.DEBUG,!1))},_addFlowEvent:function(a){this._flowstack.push(a)},_runFlowStack:function(){if(!(1>this._flowstack.length))for(;0<
this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),this._flowstack.shift()},_executeFlowStack:function(a){switch(a[1]){case 0:Za.sendCanadaTrackingCall("play");this._gotoAndPlayGame();this._timerAnalytics=0;break;case 38:this._playMenuMusic();this._disposeWorld();this._ui.changeScreenTo(u.LEVEL_SELECT,!0);j.get_instance().setBool(l.BOOL_PAUSED,!1);break;case 11:this._ui.openScreen(u.HELP,!1);break;case 7:this._ui.openScreen(u.SHOP,!1);break;case 8:this._ui.closeScreen(u.SHOP);break;
case 6:this._ui.closeScreen(u.HELP);break;case 9:this._pauseGameplay();this._ui.openScreen(u.GAMEPLAY_MENU,!1);break;case 10:this._unpauseGameplay();this._ui.closeScreen(u.GAMEPLAY_MENU);break;case 12:this._ui.openScreen(u.QUIT_CONFIRM,!1);break;case 13:this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;case 28:this._ui.openScreen(u.ENTER_CODE,!1);break;case 27:this._ui.closeScreen(u.ENTER_CODE);break;case 14:this._ui.closeScreen(u.QUIT_CONFIRM);break;case 25:this._resetFlagsResults();
this._gotoAndPlayGame();break;case 23:this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!0);this._resetGameResults();break;case 24:this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!1);j.get_instance().resetValue(l.INT_SCORE);j.get_instance().resetValue(l.INT_LIVES);break;case 19:Za.sendCanadaTrackingCall("replay");ja.get_instance().sendTrackingCall(E.onPlayAgain);this._disposeWorld();this._onGameNew();this._gotoAndPlayGame();j.get_instance().setBool(l.BOOL_PAUSED,
!1);break;case 29:this._playGameMusic();this._gotoAndPlayGame();break;case 31:this._ui.openScreen(u.ACHIEVEMENT_POPUP,!1);break;case 32:this._ui.closeScreen(u.ACHIEVEMENT_POPUP);break;case 33:this._ui.openScreen(u.ACHIEVEMENTS,!1);break;case 34:this._ui.closeScreen(u.ACHIEVEMENTS);break;case 35:this._ui.openScreen(u.DIALOGUE_POPUP,!1);break;case 36:this._ui.closeScreen(u.DIALOGUE_POPUP);break;case 37:this._debugEnabled=!1,this._ui.closeScreen(u.DEBUG,!0)}},_pauseGameplay:function(a){null==a&&(a=!0);
a&&(this._flagGameplayPaused=!0);j.get_instance().get_dispatcher().dispatchEvent(T.request(n.PAUSE))},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);j.get_instance().get_dispatcher().dispatchEvent(T.request(n.UNPAUSE))},_newOnChangeAction:function(a,b,c){this._changeActions.push(new yd(a,b,c))},_executeInterfaceChange:function(a,b){for(var c=this._changeActions.length;0<c;)c--,this._changeActions[c].get_screenId()==b&&this._changeActions[c].get_changeEvent()==a&&(this._changeActions[c].get_action()(),
this._changeActions.splice(c,1))},_addEventListeners:function(){j.get_instance().get_dispatcher().addEventListener(n.MUTE_TOGGLE,s(this,this._onMuteToggle));j.get_instance().get_dispatcher().addEventListener(n.WORLD_GENERATION_COMPLETE,s(this,this._onWorldGenerationComplete));j.get_instance().get_dispatcher().addEventListener(n.FILES_LOADING,s(this,this._onEventFilesLoading));j.get_instance().get_dispatcher().addEventListener(n.INITIAL_LOAD_COMPLETE,s(this,this._eventInitialLoadComplete));j.get_instance().get_dispatcher().addEventListener(n.ADD_AD_BAR,
s(this,this._onAddAdBar))},_enableInput:function(){j.get_instance().get_input().setEnabled(!0)},_onMuteToggle:function(){j.get_instance().get_sound().set_muteAll(!j.get_instance().get_sound().get_muteAll())},_onEventFilesLoading:function(a){j.get_instance().getBool(l.BOOL_FAKE_PROGRESS)||j.get_instance().setInt(l.INT_LOADING_PROGRESS,a.get_data().get("val"))},_onAddAdBar:function(){this._layerFG.addChild(new zc)},_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=
!0,j.get_instance().get_sound().playSound(xa.silent))},_onInterfaceChange:function(a,b){this._executeInterfaceChange(a,b)},_disposeWorld:function(){this._isWorldActive&&(this._isWorldActive=!1,this._world.dispose(),this._world=null,this._unloadAllQuestions())},_unloadAllQuestions:function(){for(var a=0,b=h.get_instance().get_curGame().levels.length;a<b;){var c=a++;h.get_instance().get_curGame().levels[c].loaded&&(j.get_instance().get_assets().unload(null,null,[h.get_instance().get_curGame().levels[c].manifestID]),
h.get_instance().get_curGame().levels[c].loaded=!1)}},_playGameMusic:function(){h.get_instance().playMusic("music_gameplay")},_playSplashMusic:function(){h.get_instance().playMusic("music_splash")},_playMenuMusic:function(){h.get_instance().playMusic("music_menu")},_playEndMusic:function(){h.get_instance().playMusic("music_end_game")},__class__:ka};var ba=m["com.workinman.builders.hidden_object.data.Achievement"]={__ename__:"com,workinman,builders,hidden_object,data,Achievement".split(","),__constructs__:"ACHIEVEMENT_FIRSTPLAY,ACHIEVEMENT_LEVEL2,ACHIEVEMENT_SCORE100,ACHIEVEMENT_LEVEL5,ACHIEVEMENT_SCORE1000,ACHIEVEMENT_CODEUNLOCKED".split(",")};
ba.ACHIEVEMENT_FIRSTPLAY=["ACHIEVEMENT_FIRSTPLAY",0];ba.ACHIEVEMENT_FIRSTPLAY.toString=f;ba.ACHIEVEMENT_FIRSTPLAY.__enum__=ba;ba.ACHIEVEMENT_LEVEL2=["ACHIEVEMENT_LEVEL2",1];ba.ACHIEVEMENT_LEVEL2.toString=f;ba.ACHIEVEMENT_LEVEL2.__enum__=ba;ba.ACHIEVEMENT_SCORE100=["ACHIEVEMENT_SCORE100",2];ba.ACHIEVEMENT_SCORE100.toString=f;ba.ACHIEVEMENT_SCORE100.__enum__=ba;ba.ACHIEVEMENT_LEVEL5=["ACHIEVEMENT_LEVEL5",3];ba.ACHIEVEMENT_LEVEL5.toString=f;ba.ACHIEVEMENT_LEVEL5.__enum__=ba;ba.ACHIEVEMENT_SCORE1000=
["ACHIEVEMENT_SCORE1000",4];ba.ACHIEVEMENT_SCORE1000.toString=f;ba.ACHIEVEMENT_SCORE1000.__enum__=ba;ba.ACHIEVEMENT_CODEUNLOCKED=["ACHIEVEMENT_CODEUNLOCKED",5];ba.ACHIEVEMENT_CODEUNLOCKED.toString=f;ba.ACHIEVEMENT_CODEUNLOCKED.__enum__=ba;ba.__empty_constructs__=[ba.ACHIEVEMENT_FIRSTPLAY,ba.ACHIEVEMENT_LEVEL2,ba.ACHIEVEMENT_SCORE100,ba.ACHIEVEMENT_LEVEL5,ba.ACHIEVEMENT_SCORE1000,ba.ACHIEVEMENT_CODEUNLOCKED];var Pb=function(){};m["com.workinman.builders.hidden_object.data.Achievements"]=Pb;Pb.__name__=
"com,workinman,builders,hidden_object,data,Achievements".split(",");Pb.achievmentData=function(a){switch(a[1]){case 0:return{id:"firstplay",valueId:l.BOOL_GAME_LOSE,value:1,points:1};case 1:return{id:"level2",valueId:l.INT_LEVEL,value:2,points:1};case 3:return{id:"level5",valueId:l.INT_LEVEL,value:5,points:3};case 2:return{id:"score100",valueId:l.INT_SCORE,value:100,points:1};case 4:return{id:"score1000",valueId:l.INT_SCORE,value:1E3,points:5};case 5:return{id:"codeunlocked",valueId:l.BOOL_CODE_UNLOCK,
value:1,points:10}}};var Q=function(){this._worlds=new Qa;this._firstTime=!0};m["com.workinman.builders.hidden_object.data.Database"]=Q;Q.__name__="com,workinman,builders,hidden_object,data,Database".split(",");Q.__properties__={get_instance:"get_instance"};Q.get_instance=function(){null==Q.__instance&&(Q.__instance=new Q);return Q.__instance};Q.prototype={save:function(){var a={};a.progress=this.getProgress();a.firstTime=this._firstTime;j.get_instance().sharedObjectSetData(Q.SHARED_OBJECT_ID,a)},
load:function(){var a=j.get_instance().sharedObjectGetData(Q.SHARED_OBJECT_ID);null!=a&&(null!=a.progress&&this.loadProgress(a.progress),null!=a.firstTime&&(this._firstTime=a.firstTime))},loadProgress:function(a){for(var b=0;b<a.length;){var c=a[b];++b;this._worlds.exists(c.id)&&this._worlds.get(c.id).loadProgress(c)}},getProgress:function(){for(var a=[],b=this._worlds.keys();b.hasNext();){var c=b.next();a.push(this._worlds.get(c).getProgress())}return a},addWorld:function(a){var b=a.id,a=new zd(b,
a);this._worlds.set(b,a)},get_currentWorld:function(){return this._worlds.get(0)},__class__:Q,__properties__:{get_currentWorld:"get_currentWorld"}};var Ra=m["com.workinman.builders.hidden_object.data.DIALOGUE_POSITION"]={__ename__:"com,workinman,builders,hidden_object,data,DIALOGUE_POSITION".split(","),__constructs__:["TOP","CENTER","BOTTOM"]};Ra.TOP=["TOP",0];Ra.TOP.toString=f;Ra.TOP.__enum__=Ra;Ra.CENTER=["CENTER",1];Ra.CENTER.toString=f;Ra.CENTER.__enum__=Ra;Ra.BOTTOM=["BOTTOM",2];Ra.BOTTOM.toString=
f;Ra.BOTTOM.__enum__=Ra;Ra.__empty_constructs__=[Ra.TOP,Ra.CENTER,Ra.BOTTOM];var ta=m["com.workinman.builders.hidden_object.data.POINTER_TYPE"]={__ename__:"com,workinman,builders,hidden_object,data,POINTER_TYPE".split(","),__constructs__:["TAP","POINT","SWIPE","NONE"]};ta.TAP=["TAP",0];ta.TAP.toString=f;ta.TAP.__enum__=ta;ta.POINT=["POINT",1];ta.POINT.toString=f;ta.POINT.__enum__=ta;ta.SWIPE=["SWIPE",2];ta.SWIPE.toString=f;ta.SWIPE.__enum__=ta;ta.NONE=["NONE",3];ta.NONE.toString=f;ta.NONE.__enum__=
ta;ta.__empty_constructs__=[ta.TAP,ta.POINT,ta.SWIPE,ta.NONE];var Be=function(){};m["com.workinman.builders.hidden_object.data.Dialogues"]=Be;Be.__name__="com,workinman,builders,hidden_object,data,Dialogues".split(",");var la=m["com.workinman.builders.hidden_object.data.Item"]={__ename__:"com,workinman,builders,hidden_object,data,Item".split(","),__constructs__:["ITEM_SWORD","ITEM_SHIELD","ITEM_CANDLE","ITEM_GLOVES"]};la.ITEM_SWORD=["ITEM_SWORD",0];la.ITEM_SWORD.toString=f;la.ITEM_SWORD.__enum__=
la;la.ITEM_SHIELD=["ITEM_SHIELD",1];la.ITEM_SHIELD.toString=f;la.ITEM_SHIELD.__enum__=la;la.ITEM_CANDLE=["ITEM_CANDLE",2];la.ITEM_CANDLE.toString=f;la.ITEM_CANDLE.__enum__=la;la.ITEM_GLOVES=["ITEM_GLOVES",3];la.ITEM_GLOVES.toString=f;la.ITEM_GLOVES.__enum__=la;la.__empty_constructs__=[la.ITEM_SWORD,la.ITEM_SHIELD,la.ITEM_CANDLE,la.ITEM_GLOVES];var ia=function(){this._rankStorage=new K};m["com.workinman.builders.hidden_object.data.Inventory"]=ia;ia.__name__="com,workinman,builders,hidden_object,data,Inventory".split(",");
ia.__properties__={get_instance:"get_instance"};ia.get_instance=function(){null==ia.__instance&&(ia.__instance=new ia);return ia.__instance};ia.prototype={getUniqueSuffix:function(a){switch(a[1]){case 0:return"sword";case 1:return"shield";case 2:return"candle";case 3:return"gloves"}},getRankCap:function(a){switch(a[1]){case 0:return 3;case 1:return 3;case 2:return 3;case 3:return 2}},getCostNextRank:function(a){switch(a[1]){case 0:return 200+20*this.getRank(a);case 1:return 20+20*this.getRank(a);
case 2:return 30+20*this.getRank(a);case 3:return 40+20*this.getRank(a)}},getIcon:function(a){return"icon_"+this.getUniqueSuffix(a)},getLocalizationNameID:function(a){var b="";return b="item_name_"+this.getUniqueSuffix(a)},getLocalizationDescID:function(a,b){null==b&&(b=0);var c="";return c=0>=this.getRank(a)+b?"item_unowned":"item_desc_"+this.getUniqueSuffix(a)+"_"+(this.getRank(a)+b)},getCurrencyType:function(){return l.INT_CURRENCY},canAffordNextRank:function(a){return this.hasRankCapped(a)?!1:
j.get_instance().getInt(this.getCurrencyType(a))>=this.getCostNextRank(a)},hasRankCapped:function(a){return this.getRank(a)>=this.getRankCap(a)},getRank:function(a){a=this.getRankStorageID(a);!1==this._rankStorage.exists(a)&&(this._rankStorage.set(a,1),1);return this._rankStorage.get(a)},modRank:function(a,b){null==b&&(b=1);var c=this.getRankStorageID(a);!1==this._rankStorage.exists(c)&&(this._rankStorage.set(c,1),1);var d=this._rankStorage.get(c)+b;this._rankStorage.set(c,d);d},getRankStorageID:function(a){return"int_rank_"+
this.getUniqueSuffix(a)},getItemList:function(){return U.allEnums(la)},__class__:ia};var Ad=function(a){this.id=a;this.completion=0;this.locked=!0;this.tries=this.highscore=0;this.previousCompletion=-1;this.completed=this.recentlyUnlocked=!1};m["com.workinman.builders.hidden_object.data.LevelProgressDef"]=Ad;Ad.__name__="com,workinman,builders,hidden_object,data,LevelProgressDef".split(",");Ad.prototype={__class__:Ad};var zd=function(a,b){this._id=a;this._levelProgress=[];for(var c=0,d=b.levels.length;c<
d;){var i=c++;null!=b.levels[i].enabled&&!1==b.levels[i].enabled||this._levelProgress.push(new Ad(b.levels[i].id))}this._levelProgress[0].locked=!1};m["com.workinman.builders.hidden_object.data.WorldDef"]=zd;zd.__name__="com,workinman,builders,hidden_object,data,WorldDef".split(",");zd.prototype={getCurrentLevelProgress:function(){return this._levelProgress[j.get_instance().getInt(l.INT_LEVEL)]},getLevelProgress:function(a){return!this.doesLevelExist(a)?null:this._levelProgress[a]},getProgress:function(){for(var a=
[],b=0,c=this._levelProgress.length;b<c;){var d=b++;a.push({id:this._levelProgress[d].id,completion:this._levelProgress[d].completion,highscore:this._levelProgress[d].highscore,tries:this._levelProgress[d].tries,locked:this._levelProgress[d].locked})}return{id:this._id,levels:a}},loadProgress:function(a){for(var b=0,c=a.levels.length;b<c;)for(var d=b++,i=0,e=this._levelProgress;i<e.length;){var f=e[i];++i;f.id==a.levels[d].id&&(f.completion=a.levels[d].completion,f.highscore=a.levels[d].highscore,
f.tries=a.levels[d].tries,f.locked=a.levels[d].locked)}},doesLevelExist:function(a){return-1<a&&a<this.get_levelCount()},get_levelCount:function(){return this._levelProgress.length},__class__:zd,__properties__:{get_levelCount:"get_levelCount"}};var jb=function(){};m["flambe.util.Disposable"]=jb;jb.__name__=["flambe","util","Disposable"];jb.prototype={__class__:jb};var Ga=function(){};m["flambe.pooling.IStrictPoolable"]=Ga;Ga.__name__=["flambe","pooling","IStrictPoolable"];Ga.prototype={__class__:Ga};
var A=function(){};m["flambe.pooling.PoolStrictBase"]=A;A.__name__=["flambe","pooling","PoolStrictBase"];A.__interfaces__=[Ga];A.prototype={instance:function(a,b){this._returnFunction=b;this._key=a;this.poolActivate();this.create();return this},get_poolKey:function(){return this._key},create:function(){},poolActivate:function(){this._disposed=!1},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this))},destroy:function(){this._returnFunction=null},__class__:A,__properties__:{get_poolKey:"get_poolKey"}};
var N=function(){};m["flambe.math.WMPoint"]=N;N.__name__=["flambe","math","WMPoint"];N.request=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return fa.get_instance().requestObject("WMPoint",N).init(a,b,c)};N.__super__=A;N.prototype=v(A.prototype,{init:function(a,b,c){this._flags=0;return this.to(a,b,c)},get_x:function(){return this._x},set_x:function(a){this._x=a;this._setFlagDirty();return this.get_x()},get_y:function(){return this._y},set_y:function(a){this._y=a;this._setFlagDirty();
return this.get_y()},get_z:function(){return this._z},set_z:function(a){this._z=a;this._setFlagDirty();return this.get_z()},_setFlagDirty:function(){this._flags|=1},get_dirty:function(){return 0!=(this._flags&1)},set_dirty:function(a){a?this._flags|=1:this.cleanDirtyFlag();return this.get_dirty()},cleanDirtyFlag:function(){this._flags&=-2},get_angle:function(){return 180*Math.atan2(this.get_y(),this.get_x())/Math.PI},clean:function(){this.set_x(Math.round(1E3*this.get_x())/1E3);this.set_y(Math.round(1E3*
this.get_y())/1E3);this.set_z(Math.round(1E3*this.get_z())/1E3);return this},to:function(a,b,c){null==c&&(c=0);this.set_x(a);this.set_y(b);this.set_z(c);this.calculateLength();return this},toPoint:function(a){this.set_x(a.get_x());this.set_y(a.get_y());this.set_z(a.get_z());this.calculateLength();return this},add:function(a,b,c){null==c&&(c=0);this.set_x(this.get_x()+a);this.set_y(this.get_y()+b);this.set_z(this.get_z()+c);this.calculateLength();return this},addPoint:function(a){this.set_x(this.get_x()+
a.get_x());this.set_y(this.get_y()+a.get_y());this.set_z(this.get_z()+a.get_z());this.calculateLength();return this},addCopy:function(a,b,c){null==c&&(c=0);return N.request(this.get_x()+a,this.get_y()+b,this.get_z()+c)},addPointCopy:function(a){return N.request(this.get_x()+a.get_x(),this.get_y()+a.get_y(),this.get_z()+a.get_z())},subtract:function(a,b,c){null==c&&(c=0);this.set_x(this.get_x()-a);this.set_y(this.get_y()-b);this.set_z(this.get_z()-c);this.calculateLength();return this},subtractPoint:function(a){this.set_x(this.get_x()-
a.get_x());this.set_y(this.get_y()-a.get_y());this.set_z(this.get_z()-a.get_z());this.calculateLength();return this},subtractCopy:function(a,b,c){null==c&&(c=0);return N.request(this.get_x()-a,this.get_y()-b,this.get_z()-c)},subtractPointCopy:function(a){return N.request(this.get_x()-a.get_x(),this.get_y()-a.get_y(),this.get_z()-a.get_z())},multiply:function(a){this.set_x(this.get_x()*a);this.set_y(this.get_y()*a);this.set_z(this.get_z()*a);this.clean();this.calculateLength();return this},multiplyCopy:function(a){return N.request(this.get_x()*
a,this.get_y()*a,this.get_z()*a)},divide:function(a){this.set_x(this.get_x()/a);this.set_y(this.get_y()/a);this.set_z(this.get_z()/a);this.clean();this.calculateLength();return this},divideCopy:function(a){return N.request(this.get_x()/a,this.get_y()/a,this.get_z()/a)},reverse:function(){this.set_x(-this.get_x());this.set_y(-this.get_y());this.set_z(-this.get_z());return this},projectOnto:function(a){a.normalize();var b=this.dot(a);this.to(b*a.get_x(),b*a.get_y(),0);return this},copy:function(){return N.request(this.get_x(),
this.get_y(),this.get_z())},copyAndResize:function(a){return 0==a?N.request(0,0):this.multiplyCopy(a/this._length)},equals:function(a){return this.get_x()==a.get_x()&&this.get_y()==a.get_y()&&this.get_z()==a.get_z()},get_length:function(){return this._length},set_length:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},reverseCopy:function(){return N.request(-1*this.get_x(),-1*this.get_y(),-1*this.get_z())},normalize:function(){if(0==
this._length)return this;this.set_x(this.get_x()/this._length);this.set_y(this.get_y()/this._length);this.set_z(this.get_z()/this._length);this.calculateLength();return this},normalizeTo:function(a){this.set_length(a);return this},normalizeCopy:function(){return 0==this._length?N.request(0,0,0):N.request(this.get_x()/this._length,this.get_y()/this._length,this.get_z()/this._length)},normalizeCopyTo:function(a){if(0==this._length)return N.request(0,0,0);this._workFloat=a/this._length;return N.request(this.get_x()*
this._workFloat,this.get_y()*this._workFloat,this.get_z()*this._workFloat)},pseudoCross:function(a){a.to(this.get_y(),-this.get_x(),this.get_z());return this},calculateLength:function(){this._length=Math.sqrt(this.get_x()*this.get_x()+this.get_y()*this.get_y()+this.get_z()*this.get_z());return this},rotate:function(a){a*=Math.PI/180;this._workFloat=this.get_x()*Math.cos(a)-this.get_y()*Math.sin(a);this.set_y(this.get_y()*Math.cos(a)+this.get_x()*Math.sin(a));this.set_x(this._workFloat);return this},
rotateTo:function(a){this.rotate(a-this.get_angle());return this},getAngleBetween:function(a){return 0==a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.get_x()*this.get_x()+a.get_y()*this.get_y())/(a.get_length()*this.get_length()))},rotateCopy:function(a){var b=Math.cos(a*Math.PI/180),a=Math.sin(a*Math.PI/180);return N.request(this.get_x()*b-this.get_y()*a,this.get_x()*a-this.get_y()*b)},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.get_x()*a.get_x()+
a.get_y()*a.get_y());a.dispose();return b},toString:function(){return"{ WMPoint : "+this.get_x()+" , "+this.get_y()+" , "+this.get_z()+" , len: "+this._length+"  }"},dot:function(a){return this.get_x()*a.get_x()+this.get_y()*a.get_y()},__class__:N,__properties__:v(A.prototype.__properties__,{get_normalizedMagnitude:"get_normalizedMagnitude",set_length:"set_length",get_length:"get_length",get_angle:"get_angle",set_dirty:"set_dirty",get_dirty:"get_dirty",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",
set_x:"set_x",get_x:"get_x"})});var fa=function(){this._pools=new K};m["flambe.pooling.PoolStore"]=fa;fa.__name__=["flambe","pooling","PoolStore"];fa.__properties__={get_instance:"get_instance"};fa.get_instance=function(){null==fa.__instance&&(fa.__instance=new fa);return fa.__instance};fa.prototype={_initPool:function(a,b,c,d){null==d&&(d=-1);!0!=this._pools.exists(a)&&(null==c&&(c=ua.NONE),b=new Bd(b,c,d),this._pools.set(a,b))},requestObject:function(a,b,c,d){null==d&&(d=-1);this._testPool(a,b,
c,d);c=this._pools.get(a);this._logCreate(a,c);if(0<c.get_numPooled())a=c.givePool(),a.poolActivate();else{c.incrementCreated();if(0<c.get_cap()&&c.get_created()>c.get_cap())throw"Too many instances of "+y.string(b)+" allocated - currently at "+c.get_created();a=U.createEmptyInstance(b).instance(a,s(this,this._returnObject))}return a},_logCreate:function(a,b){switch(b.get_log()[1]){case 1:null;break;case 2:1>b.get_numPooled()&&null;break;case 3:null}},_returnObject:function(a){if(!1!=this._pools.exists(a.get_poolKey())){var b;
b=this._pools.get(a.get_poolKey());b.poolObject(a);this._logReturn(a.get_poolKey(),b)}},_logReturn:function(a,b){switch(b.get_log()[1]){case 0:case 2:break;case 3:null;break;default:null}},_testPool:function(a,b,c,d){null==d&&(d=-1);!1==this._pools.exists(a)&&this._initPool(a,b,c,d)},__class__:fa};var D=function(a){this._flags=this.viewMatrixUpdateCount=this.parentViewMatrixUpdateCount=0;this.parent=this.firstChild=this.next=this._viewMatrix=this.blendMode=this.scissor=null;this._flags|=219;this._localMatrix=
new pb;this.__camera=null;this.__pos=N.request();this.__velocity=null;this.set_rotation(0);this.set_scale(1);this.centerOrigin();this.set_offset(0);this.set_alpha(1);null!=a&&(this.__pos.to(null==a.x?0:a.x,null==a.y?0:a.y,null==a.z?0:a.z),null!=a.origin&&this.setOrigin(a.origin,a.origin),null!=a.originX&&this.set_originX(a.originX),null!=a.originY&&this.set_originY(a.originY),null!=a.scale&&this.set_scale(a.scale),null!=a.scaleX&&this.set_scaleX(a.scaleX),null!=a.scaleY&&this.set_scaleY(a.scaleY),
null!=a.rotation&&this.set_rotation(a.rotation),null!=a.alpha&&this.set_alpha(a.alpha),null!=a.offset&&this.set_offset(a.offset),null!=a.offsetX&&this.set_offsetX(a.offsetX),null!=a.offsetY&&this.set_offsetY(a.offsetY),null!=a.useCamera&&this.set_useCamera(a.useCamera),null!=a.perspectiveScale&&this.set_perspectiveScale(a.perspectiveScale),null!=a.parentOffset&&(this._flags=$b.set(this._flags,128,a.parentOffset),null));this._addEventListeners()};m["flambe.display.Sprite"]=D;D.__name__=["flambe","display",
"Sprite"];D.__interfaces__=[jb];D.hitTest=function(a,b,c){if(3!=(a._flags&3))return null;a.getLocalMatrix().inverseTransform(b,c,D._scratchPoint)&&(b=D._scratchPoint.get_x(),c=D._scratchPoint.get_y());var d=a.scissor;if(null!=d&&!d.contains(b,c))return null;d=D.hitTestBackwards(a.firstChild,b,c);return null!=d?d:null!=a&&a.containsLocal(b,c)?a:null};D.getBounds=function(a,b){b.toXYWH(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);D.getBoundsImpl(a,null,b);b.set_width(b.get_width()-
b.get_x());b.set_height(b.get_height()-b.get_y())};D.render=function(a,b){var c=a.get_alpha();if(!(0==(a._flags&1)||0>=c||!1==a.zVisible())){b.save();1>c&&b.multiplyAlpha(c);null!=a.blendMode&&b.setBlendMode(a.blendMode);c=a.getLocalMatrix();b.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);c=a.scissor;null!=c&&b.applyScissor(c.get_x(),c.get_y(),c.get_width(),c.get_height());a.draw(b);for(c=a.firstChild;null!=c;){var d=c.next;D.render(c,b);c=d}b.restore()}};D.hitTestBackwards=function(a,b,c){if(null!=
a){var d=D.hitTestBackwards(a.next,b,c);return null!=d?d:D.hitTest(a,b,c)}return null};D.getBoundsImpl=function(a,b,c){var b=null!=b?pb.multiply(b,a.getLocalMatrix()):a.getLocalMatrix(),d=a.getNaturalWidth(),i=a.getNaturalHeight();0<d&&0<i&&(D.extendRect(b,0,0,c),D.extendRect(b,d,0,c),D.extendRect(b,d,i,c),D.extendRect(b,0,i,c));for(a=a.firstChild;null!=a;)d=a.next,D.getBoundsImpl(a,b,c),a=d};D.extendRect=function(a,b,c,d){a=a.transform(b,c,D._scratchPoint);b=a.get_x();c=a.get_y();b<d.get_x()&&d.set_x(b);
c<d.get_y()&&d.set_y(c);b>d.get_width()&&d.set_width(b);c>d.get_height()&&d.set_height(c)};D.prototype={dispose:function(){this._removeEventListeners();this.disposeChildren();null!=this.parent&&this.parent.removeChild(this);this.blendMode=this._viewMatrix=this._localMatrix=null;this.__pos.dispose();this.__pos=null;null!=this.__velocity&&(this.__velocity.dispose(),this.__velocity=null);this.__camera=null},disposeChildren:function(){for(var a=null;null!=this.firstChild;)a=this.firstChild,this.firstChild.dispose(),
null!=a.parent&&a.parent.removeChild(a)},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return a},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},removeAllChildren:function(){for(var a=this.firstChild;null!=
a;){var b=a.next;a.next=null;a=b}this.firstChild=null},toString:function(){return this.toStringImpl("")},toStringImpl:function(a){for(var b="",c=String.fromCharCode(9492),d=String.fromCharCode(9500),i=String.fromCharCode(9472),e=String.fromCharCode(9474),f=this.firstChild;null!=f;)var h=null==f.next,b=b+(a+(h?c:d)+i+i+" "),b=b+f.toStringImpl(a+(h?" ":e)+"   "),f=f.next;return b},_dirtyMatrix:function(){this._flags|=12},get_pos:function(){return this.__pos},get_x:function(){return this.__pos.get_x()},
set_x:function(a){this.__pos.set_x(a);return this.__pos.get_x()},get_y:function(){return this.__pos.get_y()},set_y:function(a){this.__pos.set_y(a);return this.__pos.get_y()},get_z:function(){return this.__pos.get_z()},set_z:function(a){this.__pos.set_z(a);return this.__pos.get_z()},get_rotation:function(){return this.__rotation},set_rotation:function(a){this.__rotation=a;this._dirtyMatrix();return this.__rotation},get_scale:function(){return this.__scaleX},set_scale:function(a){this.__scaleX=this.__scaleY=
a;this._dirtyMatrix();return this.__scaleX},get_scaleX:function(){return this.__scaleX},set_scaleX:function(a){this.__scaleX=a;this._dirtyMatrix();return this.__scaleX},get_scaleY:function(){return this.__scaleY},set_scaleY:function(a){this.__scaleY=a;this._dirtyMatrix();return this.__scaleY},get_origin:function(){return this.__originX},set_origin:function(a){this.__originX=this.__originY=a;this._dirtyMatrix();return this.__originX},get_originX:function(){return this.__originX},set_originX:function(a){this.__originX=
a;this._dirtyMatrix();return this.__originX},get_originY:function(){return this.__originY},set_originY:function(a){this.__originY=a;this._dirtyMatrix();return this.__originY},get_offset:function(){return this.__offsetX},set_offset:function(a){this.__offsetX=this.__offsetY=a;this._dirtyMatrix();return this.__offsetX},get_offsetX:function(){return this.__offsetX},set_offsetX:function(a){this.__offsetX=a;this._dirtyMatrix();return this.__offsetX},get_offsetY:function(){return this.__offsetY},set_offsetY:function(a){this.__offsetY=
a;this._dirtyMatrix();return this.__offsetY},get_alpha:function(){return this.__alpha},set_alpha:function(a){return this.__alpha=a},toMatrix:function(a){this.__pos.toPoint(a.get_pos());this.__rotation=a.get_rotation();this.__scaleX=a.get_scaleX();this.__scaleY=a.get_scaleY();this.__originX=a.get_originX();this.__originY=a.get_originY();this.__offsetX=a.get_offsetX();this.__offsetY=a.get_offsetY();this.__alpha=a.get_alpha();this._dirtyMatrix()},get__velocity:function(){null==this.__velocity&&(this.__velocity=
N.request());return this.__velocity},get_depth:function(){return-this.get_pos().get_z()},get_subDepth:function(){return 0},get_useCamera:function(){return 0!=(this._flags&16)},set_useCamera:function(a){this._flags=a?this._flags|16:this._flags&-17;return this.get_useCamera()},get_doDelete:function(){return 0!=(this._flags&32)},set_doDelete:function(a){this._flags=a?this._flags|32:this._flags&-33;return this.get_doDelete()},get_perspectiveScale:function(){return 0!=(this._flags&64)},set_perspectiveScale:function(a){this._flags=
a?this._flags|64:this._flags&-65;return this.get_perspectiveScale()},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},contains:function(a,b){return this.getViewMatrix().inverseTransform(a,b,D._scratchPoint)&&this.containsLocal(D._scratchPoint.get_x(),D._scratchPoint.get_y())},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){if(this.__pos.get_dirty()||null!=this.__camera&&this.__camera.get_pos().get_dirty())this.__pos.cleanDirtyFlag(),
this._flags|=4,this._flags|=8;if(0!=(this._flags&4)){this._flags&=-5;var a=0,b=0;null!=this.parent&&0!=(this._flags&128)&&(a=this.parent.get_originX()*this.parent.getNaturalWidth(),b=this.parent.get_originY()*this.parent.getNaturalHeight());var a=this.__pos.get_x()+this.__offsetX+a,b=this.__pos.get_y()+this.__offsetY+b,c=1;null!=this.__camera&&(c=!1==this.__camera.get_renderPerspective()?1:this.__camera.get_focalLength()/(this.__camera.get_focalLength()+this.__pos.get_z()-this.__camera.get_pos().get_z()),
a=this.__camera.get_worldCenterX()+(a-this.__camera.get_pos().get_x()+this.__camera.get_screenCenterX()-this.__camera.get_worldCenterX())*c,b=this.__camera.get_worldCenterY()+(b-this.__camera.get_pos().get_y()+this.__camera.get_screenCenterY()-this.__camera.get_worldCenterY())*c,!1==(0!=(this._flags&64))&&(c=1));this._localMatrix.compose(a,b,this.get_scaleX()*c,this.get_scaleY()*c,$a.toRadians(this.get_rotation()));this._localMatrix.translate(-this.get_originX()*this.getNaturalWidth(),-this.get_originY()*
this.getNaturalHeight())}return this._localMatrix},zVisible:function(){return null!=this.__camera&&this.__pos.get_z()-this.__camera.get_pos().get_z()<-this.__camera.get_focalLength()?!1:!0},setCamera:function(a){this.__camera=a;this._dirtyMatrix()},getViewMatrix:function(){this.isViewMatrixDirty()&&(this._viewMatrix=null!=this.parent?pb.multiply(this.parent.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix),this._flags&=-9,null!=this.parent&&(this.parentViewMatrixUpdateCount=
this.parent.viewMatrixUpdateCount),++this.viewMatrixUpdateCount);return this._viewMatrix},setOrigin:function(a,b){this.set_originX(a);this.set_originY(b);return this},centerOrigin:function(){this.set_originX(this.set_originY(0.5));return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},draw:function(){},isViewMatrixDirty:function(){return 0!=(this._flags&8)||this.__pos.get_dirty()?!0:null==this.parent?!1:this.parentViewMatrixUpdateCount!=this.parent.viewMatrixUpdateCount||
this.parent.isViewMatrixDirty()},get_visible:function(){return 0!=(this._flags&1)},set_visible:function(a){this._flags=$b.set(this._flags,1,a);return a},get_pointerEnabled:function(){return 0!=(this._flags&2)},set_pointerEnabled:function(a){this._flags=$b.set(this._flags,2,a);return a},updatePositionFromVelocity:function(a){var b=this.__pos;b.set_x(b.get_x()+this.__velocity.get_x()*a);b=this.__pos;b.set_y(b.get_y()+this.__velocity.get_y()*a)},doUpdate:function(a){for(var b=this.firstChild,c;null!=
b;)c=b.next,b.doUpdate(a),b.get_doDelete()&&b.dispose(),b=c;this._update(a)},_update:function(){},_addEventListeners:function(){},_removeEventListeners:function(){},__class__:D,__properties__:{set_pointerEnabled:"set_pointerEnabled",get_pointerEnabled:"get_pointerEnabled",set_visible:"set_visible",get_visible:"get_visible",set_perspectiveScale:"set_perspectiveScale",get_perspectiveScale:"get_perspectiveScale",set_doDelete:"set_doDelete",get_doDelete:"get_doDelete",set_useCamera:"set_useCamera",get_useCamera:"get_useCamera",
get_subDepth:"get_subDepth",get_depth:"get_depth",get__velocity:"get__velocity",set_alpha:"set_alpha",get_alpha:"get_alpha",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_offset:"set_offset",get_offset:"get_offset",set_originY:"set_originY",get_originY:"get_originY",set_originX:"set_originX",get_originX:"get_originX",set_origin:"set_origin",get_origin:"get_origin",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",
set_scale:"set_scale",get_scale:"get_scale",set_rotation:"set_rotation",get_rotation:"get_rotation",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_pos:"get_pos"}};var eb=function(a){D.call(this,a);this.__rect=a.sprite};m["flambe.display.ImageSprite"]=eb;eb.__name__=["flambe","display","ImageSprite"];eb.__super__=D;eb.prototype=v(D.prototype,{dispose:function(){this.__rect=null;D.prototype.dispose.call(this)},draw:function(a){null!=this.__rect&&null!=this.__rect.get_texture()&&
(!1==this.__rect.get_sub()?a.drawTexture(this.__rect.get_texture(),0,0):a.drawSubTexture(this.__rect.get_texture(),this.__rect.get_offsetX(),this.__rect.get_offsetY(),this.__rect.get_sourceX(),this.__rect.get_sourceY(),this.__rect.get_sourceWidth(),this.__rect.get_sourceHeight()))},getNaturalWidth:function(){return null==this.__rect||null==this.__rect.get_texture()?0:!1==this.__rect.get_sub()?this.__rect.get_texture().get_width():this.__rect.get_originalW()},getNaturalHeight:function(){return null==
this.__rect||null==this.__rect.get_texture()?0:!1==this.__rect.get_sub()?this.__rect.get_texture().get_height():this.__rect.get_originalH()},get_rect:function(){return this.__rect},set_rect:function(a){if(null==a)return this.__rect;this.__rect=null;return this.__rect=a},__class__:eb,__properties__:v(D.prototype.__properties__,{set_rect:"set_rect",get_rect:"get_rect"})});var kb=function(a){this._animations=new K;this._queuedAnimations=[];this._currentAnimDef=null;this._currentFrame=0;this._currentAnimation=
"";this._fps=12;this._animationStopped=!0;this._reverse=this._loopComplete=!1;this._realFrame=0;eb.call(this,a)};m["flambe.display.animation.AnimatedSprite"]=kb;kb.__name__=["flambe","display","animation","AnimatedSprite"];kb.__super__=eb;kb.prototype=v(eb.prototype,{dispose:function(){for(var a=this._animations.iterator();a.hasNext();)a.next().dispose();this._currentAnimDef=this._animations=null;this.clearQueue();this._queuedAnimations=null;eb.prototype.dispose.call(this)},setFps:function(a){this._fps=
a;return this},get_currentAnimation:function(){return this._currentAnimation},get_currentId:function(){return this._currentAnimation},get_fps:function(){return this._fps},set_fps:function(a){return this._fps=a},get_animationRatio:function(){return(this._currentFrame-this._currentAnimDef.get_start())/(this._currentAnimDef.get_end()-this._currentAnimDef.get_end())},set_animationRatio:function(a){this._newFrame=Math.floor(a*(this._currentAnimDef.get_end()-this._currentAnimDef.get_start())+this._currentAnimDef.get_start());
this._newFrame!=this._currentFrame&&this.set_animationFrame(this._newFrame);return this.get_animationRatio()},get_reverse:function(){return this._reverse},set_reverse:function(a){return this._reverse=a},get_isPlaying:function(){return""!=this._currentAnimation&&!0==this._doLoop()&&!1==this._animationStopped},get_animationFrame:function(){return this._currentFrame|0},set_animationFrame:function(a){this._currentFrame=this._realFrame=a;this._setFrame(this._realFrame);this.stopAnimation();return this._realFrame|
0},get_animationFrameRelative:function(){return y["int"](this._currentFrame-this._currentAnimDef.get_start())},set_animationFrameRelative:function(a){this._currentFrame=this._currentAnimDef.get_start()+a;return this.get_animationFrameRelative()},getAnimationLength:function(a){return this._animations.exists(a)?this._animations.get(a).get_end()-this._animations.get(a).get_start():-1},addAnimation:function(a,b){this._animations.exists(a)&&this._animations.get(a).dispose();var c=qb.request(a,-1,-1,b);
this._animations.set(a,c);return this},animate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.clearQueue();this._doAnimate(a,b,c);return this},_doAnimate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._currentAnimation==a&&!1==c||(null!=this._animations&&this._animations.exists(a)?(this._currentAnimDef=null,this._currentAnimDef=this._animations.get(a),this._reverse=this._currentAnimDef.get_reverse()?!0:!1,this._currentFrame=this._currentAnimDef.get_start(),this._currentAnimation=a,this.setLoop(b),
this._animationStopped=!1,this._setFrame(this._currentFrame)):null)},setLoop:function(a){this._currentLoop=a;this._flagLoop=0==a;return this},stopAnimation:function(){this._animationStopped=!0},startAnimation:function(){this._animationStopped=!1},hasAnimation:function(a){return this._animations.exists(a)},queueAnimation:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._queuedAnimations.push(yb.request(a,b,c));return this},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.pop().dispose()},
_update:function(a){eb.prototype._update.call(this,a);this._runAnimation(a)},_doLoop:function(){return 0<this._currentLoop||this._flagLoop},_runAnimation:function(a){if(this.get_isPlaying()){this._currentFrame+=this._fps*a;Math.floor(this._currentFrame)>this._currentAnimDef.get_end()&&(this._currentFrame=this._currentAnimDef.get_start()+(this._currentFrame-Math.floor(this._currentFrame)),this._loopComplete=!0);if(!0==this._loopComplete&&(this._loopComplete=!1,this._currentLoop--,!1==this._doLoop()))if(this._animationStopped=
!0,this._currentFrame=this._currentAnimDef.get_end(),0<this._queuedAnimations.length)this._doAnimate(this._queuedAnimations[0].get_name(),this._queuedAnimations[0].get_loops(),this._queuedAnimations[0].get_force()),this._queuedAnimations[0].dispose(),this._queuedAnimations.splice(0,1);else{this._onAnimationComplete();return}this._realFrame=this._reverse?this._currentAnimDef.get_end()-(this._currentFrame-this._currentAnimDef.get_start())+1:this._currentFrame;this._setFrame(this._realFrame)}},_setFrame:function(a){0>
a||null==this._currentAnimDef||a>=this._currentAnimDef.get_frames().length+1||this.set_rect(this._currentAnimDef.get_frames()[Math.floor(a-1)])},_onAnimationComplete:function(){},__class__:kb,__properties__:v(eb.prototype.__properties__,{set_animationFrameRelative:"set_animationFrameRelative",get_animationFrameRelative:"get_animationFrameRelative",set_animationFrame:"set_animationFrame",get_animationFrame:"get_animationFrame",get_isPlaying:"get_isPlaying",set_reverse:"set_reverse",get_reverse:"get_reverse",
set_animationRatio:"set_animationRatio",get_animationRatio:"get_animationRatio",set_fps:"set_fps",get_fps:"get_fps",get_currentId:"get_currentId",get_currentAnimation:"get_currentAnimation"})});var ab=function(a){this._looped=null;kb.call(this,a);this._symbol=a.symbol;if(null!=this._symbol){this._animators=Array(this.get_symbol().layers.length);for(var b=0,c=this._animators.length;b<c;){var d=b++,i=this.get_symbol().layers[d];this._animators[d]=new Cd(i);this.addChild(this._animators[d].content)}this._buildAnimationsFromLayers(null!=
a.traceAnimations?a.traceAnimations:!1)}this._position=this._frame=0;this._setFrame(1)};m["flambe.swf.MovieSprite"]=ab;ab.__name__=["flambe","swf","MovieSprite"];ab.__super__=kb;ab.prototype=v(kb.prototype,{dispose:function(){kb.prototype.dispose.call(this);if(null!=this._animators)for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;c.dispose()}this._symbol=this._looped=this._animators=null},getLayer:function(a,b){null==b&&(b=!0);for(var c=0,d=this._animators;c<d.length;){var i=d[c];++c;if(i.layer.name==
a)return i.content}if(b)throw Ca.withFields("Missing layer",["name",a]);return null},_buildAnimationsFromLayers:function(a){null==a&&(a=!1);for(var b=this._animations.iterator();b.hasNext();)b.next().dispose();ga.emptyMap(this._animations);for(var b=null,c=0,d=this.get_symbol().layers;c<d.length;){var i=d[c];++c;if(null!=b)break;for(var e=0,f=i.keyframes;e<f.length;){var h=f[e];++e;if(null!=h.label){b=i;break}}}if(null!=b){c=0;for(b=b.keyframes;c<b.length;)d=b[c],++c,this.addAnimationFlump(d.label,
Math.floor(d.index+1),Math.floor(d.index+d.duration)),a&&null}else null},addAnimationFlump:function(a,b,c){this._animations.exists(a)&&this._animations.get(a).dispose();b=qb.request(a,b-1,c-1);this._animations.set(a,b);return this},_setFrame:function(a){if(null==this._symbol)kb.prototype._setFrame.call(this,a);else if(this._frame!=a){for(var b=0,c=this._animators;b<c.length;){var d=c[b];++b;d.composeFrame(this._realFrame)}this._frame=a}},get_frames:function(){return null==this._symbol?0:Math.floor(this._symbol.frames)},
get_symbol:function(){return this._symbol},get_paused:function(){return 0!=(this._flags&256)},set_paused:function(a){this._flags=$b.set(this._flags,256,a);return a},get_position:function(){return this._position},set_position:function(a){return this._position=$a.clamp(a,0,this.get_symbol().duration)},get_looped:function(){null==this._looped&&(this._looped=new zb);return this._looped},rewind:function(){this._position=0;this._flags|=512},__class__:ab,__properties__:v(kb.prototype.__properties__,{get_looped:"get_looped",
set_position:"set_position",get_position:"get_position",set_paused:"set_paused",get_paused:"get_paused",get_symbol:"get_symbol",get_frames:"get_frames"})});var r=function(a){ab.call(this,a);(null!=a.asset||null!=a.assetString)&&this.setAsset(a.asset,a.assetString);this.set_visible(null!=a.visible?a.visible:!0)};m["com.workinman.display.Element"]=r;r.__name__=["com","workinman","display","Element"];r.__super__=ab;r.prototype=v(ab.prototype,{setAsset:function(a,b){null==b&&(b="");this.set_rect(j.get_instance().get_assets().getSpriteRect(a,
b))},get_width:function(){return this.getNaturalWidth()},get_height:function(){return this.getNaturalHeight()},__class__:r,__properties__:v(ab.prototype.__properties__,{get_height:"get_height",get_width:"get_width"})});var H=function(a){this._DEBUG_SHOW_HITBOX=!1;r.call(this,a);this._dispatcher=Xa.request();this._tween=a.tween;this._containsInput=!1;this._returnData=null;this._assetUp=a.assetUp;this._assetOver=a.assetOver;this._assetDown=a.assetDown;this._assetDisabled=a.assetDisabled;this._assetUpString=
a.assetUpString;this._assetOverString=a.assetOverString;this._assetDownString=a.assetDownString;this._assetDisabledString=a.assetDisabledString;if(null==this._assetUp&&null==this._assetUpString)throw"[ButtonBase] requires field assetUp or assetUpString.";this._state=da._STATE_UP;this._flagDragged=!1;this.enable();this.buildHitBox();j.get_instance().get_input().addDelegateListener(s(this,this._onInput));this._buttonScaleBase=N.request(1,1)};m["com.workinman.display.ui.ButtonBase"]=H;H.__name__=["com",
"workinman","display","ui","ButtonBase"];H.__super__=r;H.prototype=v(r.prototype,{dispose:function(){this._tween=null;this.disable();j.get_instance().get_input().removeDelegateListener(s(this,this._onInput));null!=this._hitBox&&(this._hitBox.dispose(),this._hitBox=null);this._hitRect.dispose();this._hitRect=null;this._buttonScaleBase.dispose();this._state=this._buttonScaleBase=null;this._dispatcher.dispose();this._returnData=this._dispatcher=null;r.prototype.dispose.call(this)},get_dispatcher:function(){return this._dispatcher},
setDispatchData:function(a){this._returnData=a},enable:function(){this._flagEnabled=!0;this._renderUp()},disable:function(){this._flagEnabled=!1;this._renderDisabled()},buildHitBox:function(a,b){null==a&&(a=this.getNaturalWidth());null==b&&(b=this.getNaturalHeight());this._hitRect=Ka.request(0,0,a,b);this._DEBUG_SHOW_HITBOX&&(null==this._hitBox&&(this._hitBox=new sa({color:16711680,width:8,height:8}),this.addChild(this._hitBox)),this._hitBox.set_scaleX(this._hitRect.get_width()/8),this._hitBox.set_scaleY(this._hitRect.get_height()/
8))},_onInput:function(a,b,c,d,i,e){switch(b[1]){case 0:var b=this.get_scaleX(),f=this.get_scaleY();this.set_scaleX(this._buttonScaleBase.get_x());this.set_scaleY(this._buttonScaleBase.get_y());this.getViewMatrix().inverseTransform(i,e,H._scratchPoint);this._containsInput=this._hitRect.contains(H._scratchPoint.get_x(),H._scratchPoint.get_y());this.set_scaleX(b);this.set_scaleY(f);switch(a[1]){case 0:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&this._depthTest(i,e)&&(this._state=
da._STATE_DOWN,this._onDown(c,d))}break;case 2:switch(this._state[1]){case 0:this._containsInput&&this._depthTest(i,e)&&(this._state=da._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=da._STATE_UP,this._onOut());break;case 1:if(0>c||c>q.get_CANVAS_WIDTH()||0>d||d>q.get_CANVAS_HEIGHT())this._state=da._STATE_UP,this._renderReturnUp()}break;case 1:switch(this._state[1]){case 1:this._containsInput?(this._state=da._STATE_CLICK,this._onUp(c,d)):(this._state=da._STATE_UP,this._renderReturnUp())}}}},
_depthTest:function(a,b,c){null==c&&(c=!1);if(!1==this._flagEnabled)return!1;a=j.get_instance().get_input().doButtonDepthTest(a,b);c&&null;if(a==this||null!=this._hitBox&&a==this._hitBox)return!0;for(c=this.firstChild;null!=c;){if(a==c)return!0;c=c.next}return!1},_dispatch:function(a){null==this._returnData&&(this._returnData=new K);this._returnData.set("button",this);this;this._dispatcher.dispatchEvent(T.request(a,this._returnData))},_click:function(){this._tween.tween(this,0.1,{scaleX:1.1*this._buttonScaleBase.get_x(),
scaleY:1.1*this._buttonScaleBase.get_y()},!0).ease(o.EASE_QUAD_IN);this._tween.tween(this,0.4,{scaleX:this._buttonScaleBase.get_x(),scaleY:this._buttonScaleBase.get_y()},!1).ease(o.EASE_ELASTIC_OUT).onComplete(s(this,this._onClickComplete));this._playSoundClick();this._doClick()},_onClickComplete:function(){this._containsInput&&this._flagEnabled?(this._state=da._STATE_OVER,this._renderOver()):this._state=da._STATE_UP},_update:function(a){r.prototype._update.call(this,a)},_doClick:function(){this._dispatch(n.BUTTON_CLICK)},
_onDown:function(){this._flagEnabled&&(this._renderDown(),this._dispatch(n.BUTTON_DOWN))},_onUp:function(){this._flagEnabled&&(this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(n.BUTTON_UP))},_onOver:function(){this._renderOver();this._dispatch(n.BUTTON_OVER);this._playSoundOver()},_onOut:function(){this._flagEnabled&&(this._renderOut(),this._dispatch(n.BUTTON_OUT))},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(n.BUTTON_CANCEL_DRAG)},_playSoundClick:function(){h.get_instance().playSound("sfx_button_click")},
_playSoundOver:function(){h.get_instance().playSound("sfx_button_over")},setScale:function(a,b){this._buttonScaleBase.set_x(a);this._buttonScaleBase.set_y(null==b?a:b);this.set_scaleX(this._buttonScaleBase.get_x());this.set_scaleY(this._buttonScaleBase.get_y());return this},_renderUp:function(){this.setAsset(this._assetUp,this._assetUpString)},_renderOver:function(){this._tween.tween(this,0.15,{scaleX:1.1*this._buttonScaleBase.get_x(),scaleY:1.1*this._buttonScaleBase.get_y()},!0).ease(o.EASE_QUAD_IN)},
_renderOut:function(){this._tween.tween(this,0.5,{scaleX:this._buttonScaleBase.get_x(),scaleY:this._buttonScaleBase.get_y()},!0).ease(o.EASE_ELASTIC_OUT)},_renderDown:function(){this._tween.tween(this,0.15,{scaleX:0.9*this._buttonScaleBase.get_x(),scaleY:0.9*this._buttonScaleBase.get_y()},!0).ease(o.EASE_QUAD_OUT);this.setAsset(this._assetDown,this._assetDownString)},_renderReturnUp:function(){this._tween.tween(this,0.15,{scaleX:this._buttonScaleBase.get_x(),scaleY:this._buttonScaleBase.get_y()},
!0).ease(o.EASE_QUAD_OUT);this._renderUp()},_renderDisabled:function(){this.setAsset(this._assetDisabled,this._assetDisabledString)},__class__:H,__properties__:v(r.prototype.__properties__,{get_dispatcher:"get_dispatcher"})});var Ac=function(a,b){H.call(this,a);this._id=b;this._vo=b>=h.get_instance().get_curGame().levels.length?"":h.get_instance().get_curGame().levels[b].levelSelect.idVO;b<h.get_instance().get_curGame().levels.length&&(this.set_offsetX(h.get_instance().get_curGame().levels[b].levelSelect.buttonLevelInfo.x),
this.set_offsetY(h.get_instance().get_curGame().levels[b].levelSelect.buttonLevelInfo.y));this._overlay=new r(h.get_instance().assetParams(b>=h.get_instance().get_curGame().levels.length?"":h.get_instance().get_curGame().levels[b].levelSelect.buttonLevel,{}));this.addChild(this._overlay);this._text=new J({y:0},h.get_instance().text.get("level_select_value"));this._text.set_text(y.string(this._id+1));this.addChild(this._text);this._stars=[];for(var c,d=0;3>d;)c=new r(h.get_instance().assetParams("level_select_star",
{})),this._stars.push(c),this.addChild(c),d++;c=this._stars[0].getNaturalWidth()+4;for(var i=-(0.5*this._stars.length*c-0.5*c),e=this.get_height()/2-h.get_instance().spacing-this._stars[0].get_height()/2,d=0;3>d;)this._stars[d].set_x(i),this._stars[d].set_y(e),i+=c,d++;this._lock=new r(h.get_instance().assetParams("button_level_locked",{}));this.addChild(this._lock);this.updateProgress();this.refreshHitbox()};m["com.workinman.builders.hidden_object.ui.buttons.ButtonLevel"]=Ac;Ac.__name__="com,workinman,builders,hidden_object,ui,buttons,ButtonLevel".split(",");
Ac.__super__=H;Ac.prototype=v(H.prototype,{dispose:function(){H.prototype.dispose.call(this);this._overlay=this._text=this._lock=this._stars=null},isLocked:function(){return 0!=(this._lock._flags&1)},updateProgress:function(){var a=Q.get_instance().get_currentWorld().getLevelProgress(this._id);if(null==a)this.set_alpha(0);else{var b;b=h.get_instance().level_select_progression?a.locked:!1;this._lock.set_visible(b);this._text.set_visible(!1);h.get_instance().show_level_number&&this._text.set_visible(!b);
this._overlay.set_visible(!b);b?this.disable():this.enable();for(b=0;b<this._stars.length;)a.completion>b?this._stars[b].setAsset(null,h.get_instance().assetString("level_select_star_earned")):this._stars[b].setAsset(null,h.get_instance().assetString("level_select_star")),b++}},refreshHitbox:function(){this.buildHitBox(y["int"](this.getNaturalWidth()),y["int"](this.getNaturalHeight()))},_doClick:function(){j.get_instance().setInt(l.INT_LEVEL,this._id);j.get_instance().get_dispatcher().dispatchEvent(T.request(n.LEVEL_SELECTED))},
_playSoundOver:function(){H.prototype._playSoundOver.call(this);h.get_instance().vo.playVO({id:this._vo},!0)},__class__:Ac});var Bc=function(a){H.call(this,a);this.addChild(new $({text:"buy"}));this._hitBox=new sa({color:16711680,width:y["int"](this.getNaturalWidth()),height:y["int"](this.getNaturalHeight())});this._hitBox.get_pos().to(-y["int"](this.getNaturalWidth()),-y["int"](this.getNaturalHeight()));this._hitBox.set_alpha(0);this.addChild(this._hitBox)};m["com.workinman.builders.hidden_object.ui.buttons.ButtonShopBuy"]=
Bc;Bc.__name__="com,workinman,builders,hidden_object,ui,buttons,ButtonShopBuy".split(",");Bc.__super__=H;Bc.prototype=v(H.prototype,{__class__:Bc});var Cc=function(a){H.call(this,a);this._item=a.item;this.setDispatchData(function(a){var c=new K;c.set("id",a._item);return c}(this));this._itemIcon=this.addChild(new r({assetString:"button_pause"}));this._hitBox=new sa({color:16711680,width:Math.floor(this.getNaturalWidth()),height:Math.floor(this.getNaturalHeight())});this._hitBox.get_pos().to(-y["int"](this.getNaturalWidth()),
-y["int"](this.getNaturalHeight()));this._hitBox.set_alpha(0);this.addChild(this._hitBox);this.doRefreshDisplay()};m["com.workinman.builders.hidden_object.ui.buttons.ButtonShopItem"]=Cc;Cc.__name__="com,workinman,builders,hidden_object,ui,buttons,ButtonShopItem".split(",");Cc.__super__=H;Cc.prototype=v(H.prototype,{doRefreshDisplay:function(){this._itemRank.set_text(""+ia.get_instance().getRank(this._item));this._itemAvailability.set_alpha(ia.get_instance().canAffordNextRank(this._item)?1:0);this._itemIcon.setAsset(rb.stringToTexture(ia.get_instance().getIcon(this._item)))},
__class__:Cc});var ac=function(a){H.call(this,a);this._assetUpOn=a.assetUp;this._assetOverOn=a.assetOver;this._assetDownOn=a.assetDown;this._assetDisabledOn=a.assetDisabled;this._assetUpOff=a.assetUpOff;this._assetOverOff=a.assetOverOff;this._assetDownOff=a.assetDownOff;this._assetDisabledOff=a.assetDisabledOff;this._assetUpOnString=a.assetUpString;this._assetUpOffString=a.assetUpOffString;this._assetDownOnString=a.assetDownOnString;this._assetDownOffString=a.assetDownOffString;this._refreshMuteState();
this._renderUp()};m["com.workinman.builders.hidden_object.ui.buttons.ButtonSoundToggle"]=ac;ac.__name__="com,workinman,builders,hidden_object,ui,buttons,ButtonSoundToggle".split(",");ac.__super__=H;ac.prototype=v(H.prototype,{dispose:function(){this._assetDisabledOff=this._assetDownOff=this._assetOverOff=this._assetUpOff=this._assetDisabledOn=this._assetDownOn=this._assetOverOn=this._assetUpOn=null;H.prototype.dispose.call(this)},_doClick:function(){this._flagEnabled&&(j.get_instance().get_dispatcher().dispatchEvent(T.request(n.MUTE_TOGGLE)),
this._refreshMuteState(),this._renderUp())},_refreshMuteState:function(){j.get_instance().get_sound().get_muteAll()?(this._assetUp=this._assetUpOff,this._assetOver=this._assetOverOff,this._assetDown=this._assetDownOff,this._assetDisabled=this._assetDisabledOff,this._assetUpString=this._assetUpOffString,this._assetDownString=this._assetDownOffString):(this._assetUp=this._assetUpOn,this._assetOver=this._assetOverOn,this._assetDown=this._assetDownOn,this._assetDisabled=this._assetDisabledOn,this._assetUpString=
this._assetUpOnString,this._assetDownString=this._assetDownOnString)},__class__:ac});var Da=function(a){this._flagLocked=!1;this._tween=a.tween;r.call(this,a)};m["com.workinman.display.ui.Display"]=Da;Da.__name__=["com","workinman","display","ui","Display"];Da.__super__=r;Da.prototype=v(r.prototype,{_addEventListeners:function(){r.prototype._addEventListeners.call(this);j.get_instance().get_dispatcher().addEventListener(n.UPDATE_DISPLAY,s(this,this._onUpdateDisplay))},_removeEventListeners:function(){r.prototype._removeEventListeners.call(this);
j.get_instance().get_dispatcher().removeEventListener(n.UPDATE_DISPLAY,s(this,this._onUpdateDisplay))},_onUpdateDisplay:function(a){this._flagLocked||a.get_data().get("val")==this._updateValue()&&this._refresh()},_refresh:function(){},_updateValue:function(){return null},dispose:function(){this._tween=null;r.prototype.dispose.call(this)},__class__:Da});var Dc=function(a){Da.call(this,a);this._points=j.get_instance().getInt(this._updateValue());a=j.get_instance().get_localize().getLocalizeData("points");
this._textNum=this.addChild(new ma({text:y.string(this._points),font:a.get_fontName(),originX:0,originY:0.5,scale:a.get_scale()}));this._text=this.addChild(new $({text:"points",x:-25*this._textNum.get_scaleX()}));j.get_instance().setInt(this._updateValue(),j.get_instance().get_achievements().points);this._refresh()};m["com.workinman.builders.hidden_object.ui.display.DisplayAchievementScore"]=Dc;Dc.__name__="com,workinman,builders,hidden_object,ui,display,DisplayAchievementScore".split(",");Dc.__super__=
Da;Dc.prototype=v(Da.prototype,{dispose:function(){this._text=this._textNum=null;Da.prototype.dispose.call(this)},_refresh:function(){this._points=j.get_instance().getInt(this._updateValue());this._textNum.set_text(y.string(this._points));w.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return l.INT_ACHIEVEMENT_SCORE},__class__:Dc});var Ec=function(a){Da.call(this,a);this._currency=j.get_instance().getInt(this._updateValue());a=j.get_instance().get_localize().getLocalizeData("currency");
this._textNum=this.addChild(new ma({text:y.string(this._currency),font:a.get_fontName()}));this._text=this.addChild(new $({text:"currency",x:-25*this._textNum.get_scaleX()}));this._refresh()};m["com.workinman.builders.hidden_object.ui.display.DisplayCurrency"]=Ec;Ec.__name__="com,workinman,builders,hidden_object,ui,display,DisplayCurrency".split(",");Ec.__super__=Da;Ec.prototype=v(Da.prototype,{dispose:function(){this._text=this._textNum=null;Da.prototype.dispose.call(this)},_refresh:function(){this._currency=
j.get_instance().getInt(this._updateValue());this._textNum.set_text(y.string(this._currency));w.easeBounceIn(this,this._tween,!1)},_updateValue:function(){return l.INT_CURRENCY},__class__:Ec});var Ab=function(a){this._BAR_HEIGHT=49;this._BAR_WIDTH=316;Da.call(this,a);this._active=!1;h.get_instance().assets.getAssetData("loader_bg");a=this.addChild(new r(h.get_instance().assetParams("loader_bg",{})));h.get_instance().colorMaskElement(a,h.get_instance().loader_bg_color);this._BAR_WIDTH=a.get_width();
this._BAR_HEIGHT=a.get_height();this._bar=new sa({color:h.get_instance().loader_fill_color,width:Math.floor(this._BAR_WIDTH),height:Math.floor(this._BAR_HEIGHT),origin:0});this._bar.get_pos().to(-this._BAR_WIDTH/2,-this._BAR_HEIGHT/2);this._bar.set_scaleX(0.05);this.addChild(this._bar);h.get_instance().assets.getAssetData("loader_frame");a=this.addChild(new r(h.get_instance().assetParams("loader_frame",{})));h.get_instance().colorMaskElement(a,h.get_instance().loader_frame_color);this._text=this.addChild(new J({},
h.get_instance().text.get("loading")));this._text.set_text(j.get_instance().get_localize().getString("loading")+" 0%");this.set_alpha(0)};m["com.workinman.builders.hidden_object.ui.display.DisplayLoadingProgress"]=Ab;Ab.__name__="com,workinman,builders,hidden_object,ui,display,DisplayLoadingProgress".split(",");Ab.__super__=Da;Ab.prototype=v(Da.prototype,{dispose:function(){this._bar.dispose();this._text=this._bar=null;Da.prototype.dispose.call(this)},get_active:function(){return this._active},_update:function(a){Da.prototype._update.call(this,
a)},tweenIn:function(a){this._active||(a&&(this._loadMin=0,this._bar.set_scaleX(0)),this.set_scale(this._getDefaultScale()),w.easeBounceIn(this,this._tween,!0,0,!0),this._active=!0)},tweenOut:function(){!1!=this._active&&(this.set_scale(this._getDefaultScale()),w.easeBounceOut(this,this._tween,!1,0,!0),this._active=!1)},_getDefaultScale:function(){for(var a=this._BAR_WIDTH,b=this;null!=(b=b.parent)&&!(U.getClassName(U.getClass(b))==U.getClassName(D));)a*=b.get_scale();return Math.min(1,q.get_CANVAS_WIDTH()/
(1.2100000000000002*a))},_refresh:function(){this._bar.set_scaleX(j.get_instance().getInt(this._updateValue())/100);this._loadMin=$a.max(this._loadMin,this._bar.get_scaleX());this._bar.set_scaleX($a.clamp(this._bar.get_scaleX(),0,1));this._text.set_text(j.get_instance().get_localize().getString("loading")+" "+Math.floor(100*this._bar.get_scaleX())+"%");this._text.set_originX(0.5)},_updateValue:function(){return l.INT_LOADING_PROGRESS},__class__:Ab,__properties__:v(Da.prototype.__properties__,{get_active:"get_active"})});
var B=function(a,b){this._STATE_SUSPENDED="state_suspended";this._STATE_OPENED="state_opened";this._STATE_OUT="state_out";this._STATE_IN="state_in";this.id=a;this._flowDelegate=null;this._elementManager=new Fc(b,480,280,!0,X.z__MAINUI);this.isOnTop=!1;this._useClickWall()&&(this._clickWall=new sa({color:16711680,width:8,height:8,origin:0}),this._clickWall.get_pos().to(q.get_CANVAS_LEFT(),0),this._clickWall.set_scaleX(q.get_CANVAS_WIDTH()/8),this._clickWall.set_scaleY(70),this._clickWall.set_alpha(0),
this._elementManager.get_root().addChild(this._clickWall));this._elementManager.addLayer(X.z__MAINUI,!1);this._dispatcher=Xa.request();this._tween=ya.request();this._buildScreen();this._flagStateAnimationComplete=this._flagStateCompleteTemp=this.flagDispose=!1;this._states=[];this._generateStates();this._stateIndex=this._states.length+2;this._setFirstState();this._addEventListeners()};m["com.workinman.display.ui.ScreenBase"]=B;B.__name__=["com","workinman","display","ui","ScreenBase"];B.prototype=
{dispose:function(){this._useClickWall()&&(this._clickWall.dispose(),this._clickWall=null);this._removeEventListeners();this._elementManager.dispose();this.id=this._states=this._elementManager=null;this._tween.dispose();this._tween=null;this._dispatcher.dispose();this._flowDelegate=this._dispatcher=null},get_dispatcher:function(){return this._dispatcher},get_root:function(){return this._elementManager.get_root()},set_flowDelegate:function(a){return this._flowDelegate=a},setFlagDispose:function(){this.flagDispose=
!0},_useClickWall:function(){return!0},_setFirstState:function(){this._setState(this._STATE_IN)},_setInState:function(){this._finishOpenState()},_setCloseState:function(){this.setFlagDispose()},_setOpenedState:function(){this._setState(this._STATE_OPENED)},_generateStates:function(){this._addState(this._STATE_IN,"in",Va.ACTION_OPENED);this._addState(this._STATE_OUT,"out",Va.ACTION_CLOSED);this._addState(this._STATE_OPENED,"open");this._addState(this._STATE_SUSPENDED,"suspend")},_buildScreen:function(){},
update:function(a){this._tween.update(a);this._elementManager.updateElements(a);this._flagStateCompleteTemp&&this._onStateComplete()},_onInput:function(){},reset:function(){this._setFirstState()},open:function(a){null==a&&(a=!0);a?(this.get_state()!=this._STATE_IN&&this._setState(this._STATE_IN),this._setInState()):this._finishOpenState()},_finishOpenState:function(){this._setOpenedState();this._flowDelegate(La.OPENED,this.id)},suspend:function(){this._setState(this._STATE_SUSPENDED)},close:function(a){null==
a&&(a=!0);this.get_state()!=this._STATE_OUT&&(this._setState(this._STATE_OUT),a?this._setCloseState():(this.setFlagDispose(),this._flowDelegate(La.CLOSED,this.id)))},enable:function(){},disable:function(){},isOpening:function(){return this.get_state()==this._STATE_IN},isClosing:function(){return this.get_state()==this._STATE_OUT},_addState:function(a,b,c,d,i,e){null==c&&(c=0);this._states.push(new Va(a,b,c,d,i,e))},_setState:function(a,b){null==b&&(b=!1);var c=this._findStateIndex(a);0>c||!b&&c==
this._stateIndex||(this._flagStateAnimationComplete=this._flagStateCompleteTemp=!1,this._stateIndex=c,null!=this._states[this._stateIndex].inFunc&&this._states[this._stateIndex].inFunc())},get_state:function(){return this._states[this._stateIndex].id},_findStateIndex:function(a){for(var b=this._states.length-1;0<=b;){if(this._states[b].id==a)return b;b--}return-1},_onEventResizeCanvas:function(){null!=this._clickWall&&(this._clickWall.set_scaleX(q.get_CANVAS_WIDTH()/8),this._clickWall.set_scaleY(q.get_CANVAS_HEIGHT()/
8),this._clickWall.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_CENTER_Y()))},_addEventListeners:function(){j.get_instance().get_dispatcher().addEventListener(n.RESIZE_CANVAS,s(this,this._onEventResizeCanvas));j.get_instance().get_input().addDelegateListener(s(this,this._onInput))},_removeEventListeners:function(){j.get_instance().get_dispatcher().removeEventListener(n.RESIZE_CANVAS,s(this,this._onEventResizeCanvas));j.get_instance().get_input().removeDelegateListener(s(this,this._onInput))},
_onStateComplete:function(){this._flagStateCompleteTemp=!1;null!=this._states[this._stateIndex].outFunc&&this._states[this._stateIndex].outFunc();this._states[this._stateIndex].actionOnComplete!=Va.ACTION_STOP&&(this._states[this._stateIndex].actionOnComplete==Va.ACTION_OPENED?(this._setOpenedState(),this._flowDelegate(La.OPENED,this.id)):this._states[this._stateIndex].actionOnComplete==Va.ACTION_CLOSED?(this.setFlagDispose(),this._flowDelegate(La.CLOSED,this.id)):this._states[this._stateIndex].actionOnComplete==
Va.ACTION_FLOW&&q.dispatchFlowEvent(this._states[this._stateIndex].actionData))},__class__:B,__properties__:{get_state:"get_state",set_flowDelegate:"set_flowDelegate",get_root:"get_root",get_dispatcher:"get_dispatcher"}};var vc=function(a,b){this._LIFETIME=3;B.call(this,a,b);this._tray=this._elementManager.addElement(new r({assetString:"achievement_popopup_bg",x:740,y:480}));var c=j.get_instance().get_achievements().lastAchievedId;this._tray.addChild(new r({assetString:"achievement_icon_"+c,x:-150}));
this._tray.addChild(new $({text:"achievement_unlocked",x:-100,y:-15}));this._tray.addChild(new $({text:"achievement_name_"+c,x:-100,y:15}));this._tray.set_alpha(0);this._timer=this._LIFETIME};m["com.workinman.builders.hidden_object.ui.screens.ScreenAchievementPopup"]=vc;vc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenAchievementPopup".split(",");vc.__super__=B;vc.prototype=v(B.prototype,{_useClickWall:function(){return!1},dispose:function(){this._tray=null;B.prototype.dispose.call(this)},
update:function(a){B.prototype.update.call(this,a);this.get_state()==this._STATE_OPENED&&0<this._timer&&(this._timer-=a,0>=this._timer&&q.dispatchFlowEvent(p.ACHIEVEMENT_POPUP_CLOSE))},_setInState:function(){var a=this;w.easeSlideInFromDir(this._tray,this._tween,L.BOTTOM).onComplete(function(){a._finishOpenState()})},_setCloseState:function(){var a=this;w.easeSlideOutToDir(this._tray,this._tween,L.BOTTOM).onComplete(function(){a.setFlagDispose()})},__class__:vc});var wc=function(a,b){B.call(this,
a,b);this._tray=this._elementManager.addElement(new r({assetString:"template_bg"}));this._points=this._elementManager.addElement(new Dc({tween:this._tween,x:175,y:35}));this._points.set_alpha(0);this._rectVisible=Ka.request(100,140,700,350);this._scrollDy=80;this._list=[];for(var c=j.get_instance().get_achievements().getAchievements(),d=0,i=c.length;d<i;){var e=d++;this._list.push(this._tray.addChild(new r({assetString:"achievement_list_bg",x:480,y:this._rectVisible.get_y()+e*this._scrollDy})));this._list[this._list.length-
1].addChild(new $({text:j.get_instance().get_achievements().getLocalizationNameID(c[e]),y:-15}));this._list[this._list.length-1].addChild(new $({text:j.get_instance().get_achievements().getLocalizationDescID(c[e]),y:15}));j.get_instance().get_achievements().getAchieved(c[e])?this._list[this._list.length-1].addChild(new r({assetString:"",x:-220})):this._list[this._list.length-1].addChild(new r({assetString:"achievement_icon_default_locked",x:-220}));this._list[this._list.length-1].addChild(new r({assetString:"achievement_icon_default",
x:220}));this._list[this._list.length-1].addChild(new ma({text:y.string(j.get_instance().get_achievements().getPoints(c[e])),x:220,scale:0.5}))}c=0;for(d=this._list;c<d.length;)i=d[c],++c,i.get_pos().get_y()+i.getNaturalHeight()<this._rectVisible.get_y()?i.set_alpha(0):i.get_pos().get_y()>this._rectVisible.get_y()+this._rectVisible.get_height()?i.set_alpha(0):i.set_alpha(1);this._tray.addChild(new r({assetString:"scorebox"}));this._tray.set_alpha(0);this._tray.addChild(this._buttonUp=new H({tween:this._tween,
assetUpString:"button_play",x:840,y:140})).get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventUpClick));this._tray.addChild(this._buttonDown=new H({tween:this._tween,assetUpString:"button_play",x:840,y:460})).get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventDownClick));this._tray.addChild(c=new H({tween:this._tween,assetUpString:"button_x",x:920,y:40})).get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventExitClick));this._buttonUp.setScale(0.5,
0.5);this._buttonDown.setScale(0.5,0.5);c.setScale(0.5,0.5);this._buttonUp.set_rotation(-90);this._buttonDown.set_rotation(90);this._checkButtons()};m["com.workinman.builders.hidden_object.ui.screens.ScreenAchievements"]=wc;wc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenAchievements".split(",");wc.__super__=B;wc.prototype=v(B.prototype,{dispose:function(){this._list=this._points=this._buttonDown=this._buttonUp=this._tray=null;this._rectVisible.dispose();this._rectVisible=null;
B.prototype.dispose.call(this)},_setInState:function(){var a=this;w.easeSlideInFromDir(this._tray,this._tween,L.TOP).onComplete(function(){a._finishOpenState()});w.easeBounceIn(this._points,this._tween,!0,0.55)},_checkButtons:function(){2>Math.abs(this._list[0].get_pos().get_y()-this._rectVisible.get_y())?this._buttonUp.disable():this._buttonUp.enable();this._list[this._list.length-1].get_pos().get_y()<this._rectVisible.get_y()+this._rectVisible.get_height()?this._buttonDown.disable():this._buttonDown.enable()},
_onEventUpClick:function(){var a=this;if(!(this.get_state()!=this._STATE_OPENED||this._list[0].get_pos().get_y()==this._rectVisible.get_y())){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var d=b++;if(d==this._list.length-1)this._tween.tween(this._list[d].get_pos(),0.5,{y:this._list[d].get_pos().get_y()+this._scrollDy},!1,o.EASE_OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[d].get_pos(),0.5,{y:this._list[d].get_pos().get_y()+
this._scrollDy},!1,o.EASE_OUT);this._list[d].get_pos().get_y()+this._list[d].getNaturalHeight()>=this._rectVisible.get_y()+this._rectVisible.get_height()?this._tween.tween(this._list[d],0.25,{alpha:0},!1,o.EASE_OUT):this._list[d].get_pos().get_y()+this._scrollDy>=this._rectVisible.get_y()&&this._tween.tween(this._list[d],0.25,{alpha:1},!1,o.EASE_OUT)}}},_onEventDownClick:function(){var a=this;if(!(this.get_state()!=this._STATE_OPENED||this._list[this._list.length-1].get_pos().get_y()<this._rectVisible.get_y()+
this._rectVisible.get_height())){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var d=b++;if(d==this._list.length-1)this._tween.tween(this._list[d].get_pos(),0.5,{y:this._list[d].get_pos().get_y()-this._scrollDy},!1,o.EASE_OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[d].get_pos(),0.5,{y:this._list[d].get_pos().get_y()-this._scrollDy},!1,o.EASE_OUT);this._list[d].get_pos().get_y()<=this._rectVisible.get_y()?this._tween.tween(this._list[d],
0.25,{alpha:0},!1,o.EASE_OUT):this._list[d].get_pos().get_y()-this._scrollDy<=this._rectVisible.get_y()+this._rectVisible.get_height()&&this._tween.tween(this._list[d],0.25,{alpha:1},!1,o.EASE_OUT)}}},_onEventExitClick:function(){this.get_state()==this._STATE_OPENED&&q.dispatchFlowEvent(p.ACHIEVEMENT_CLOSE)},__class__:wc});var yc=function(a,b){B.call(this,a,b)};m["com.workinman.builders.hidden_object.ui.screens.ScreenDebug"]=yc;yc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenDebug".split(",");
yc.__super__=B;yc.prototype=v(B.prototype,{_buildScreen:function(){this._trayFill=this._elementManager.addElement(new r({x:q.get_CANVAS_CENTER_X(),y:q.get_CANVAS_CENTER_Y()}));this._fill=new sa({color:0,width:8,height:8});this._fill.set_scaleX(q.get_CANVAS_WIDTH()/8);this._fill.set_scaleY(q.get_CANVAS_HEIGHT()/8);this._fill.set_alpha(0.5);this._trayFill.addChild(this._fill);this._tray=this._elementManager.addElement(new r({x:q.get_CANVAS_CENTER_X(),y:q.get_CANVAS_CENTER_Y()}));this._tray.set_alpha(0);
var a=-250;this._tray.addChild(new ma({text:"Debug Menu",y:a,scale:0.5}));a+=30;this._tray.addChild(new ma({text:"Game Version: 1.2.25",y:a,scale:0.5}));a+=30;this._tray.addChild(new ma({text:j.get_instance().getString(l.STRING_DEBUG_TEXT),y:a,originY:0,scale:0.3,width:3200}));this._buildButtons()},dispose:function(){this._tray=null;this._fill.dispose();this._trayFill=this._fill=null;B.prototype.dispose.call(this)},_setInState:function(){w.easeSlideInFromDir(this._tray,this._tween,L.TOP).onComplete(s(this,
this._finishOpenState))},_setCloseState:function(){w.easeSlideOutToDir(this._tray,this._tween,L.BOTTOM).onComplete(s(this,this.setFlagDispose))},_onEventResizeCanvas:function(a){B.prototype._onEventResizeCanvas.call(this,a);this._resize()},_resize:function(){this._tray.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_CENTER_Y());this._tray.set_scaleX(q.get_CANVAS_WIDTH()/960);this._tray.set_scaleY(q.get_CANVAS_HEIGHT()/560);this._tray.set_scale(Math.min(1,Math.min(this._tray.get_scaleX(),this._tray.get_scaleY())));
this._fill.set_scaleX(q.get_CANVAS_WIDTH()/8);this._fill.set_scaleY(q.get_CANVAS_HEIGHT()/8);this._trayFill.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_CENTER_Y())},_buildButtons:function(){this._addButton("X",50,50,s(this,this._onCloseClick))},_addButton:function(a,b,c,d){b=this._tray.addChild(new H({tween:this._tween,assetUp:g.debug_button,x:b-480,y:c-280}));b.get_dispatcher().addEventListener(n.BUTTON_CLICK,d);b.addChild(new ma({text:a,scale:0.5}))},_onCloseClick:function(){this.get_state()==
this._STATE_OPENED&&q.dispatchFlowEvent(p.DEBUG_CLOSE)},__class__:yc});var xc=function(a,b){this.TIMER_POINTER=1.5;B.call(this,a,b);this._dialogueDef=j.get_instance().get_dialogue().grabData();this._dialogueTray=this._elementManager.addElement(new r({assetString:"text_box_2",x:480,y:this._getPosY(this._dialogueDef.get_position())}));this._dialogueDef.get_mobileToggle()?this._dialogueTray.addChild(new $({text:j.get_instance().getBool(l.BOOL_TOUCH_DEVICE)?this._dialogueDef.get_text()+Be.LOCALIZATION_MOBILE_SUFFIX:
this._dialogueDef.get_text(),x:0,y:0})):this._dialogueTray.addChild(new $({text:this._dialogueDef.get_text(),x:0,y:0}));this._clickThrough=!0;null!=this._dialogueDef.get_triggerEvent()&&(this._clickThrough=!1,j.get_instance().get_dispatcher().addEventListener(this._dialogueDef.get_triggerEvent(),s(this,this._onTrigger)));this._pointer=null!=this._dialogueDef.get_pointerType()&&this._dialogueDef.get_pointerType()!=ta.NONE?null==this._dialogueDef.get_pointerLoc()?this._elementManager.addElement(new r({assetString:"button_blank",
x:this._dialogueTray.get_x()+0.5*this._dialogueTray.getNaturalWidth(),y:this._dialogueTray.get_y()+0.5*this._dialogueTray.getNaturalHeight(),alpha:0})):this._elementManager.addElement(new r({assetString:"button_blank",x:this._dialogueDef.get_pointerLoc().get_x(),y:this._dialogueDef.get_pointerLoc().get_y(),alpha:0})):null;this._timerPointer=this.TIMER_POINTER;this._closing=!1};m["com.workinman.builders.hidden_object.ui.screens.ScreenDialogue"]=xc;xc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenDialogue".split(",");
xc.__super__=B;xc.prototype=v(B.prototype,{_getPosY:function(a){switch(a[1]){case 0:return 100;case 1:return 280;case 2:return 460}return 0},_useClickWall:function(){return!1},dispose:function(){this._pointer=this._dialogueTray=null;null!=this._dialogueDef.get_triggerEvent()&&j.get_instance().get_dispatcher().removeEventListener(this._dialogueDef.get_triggerEvent(),s(this,this._onTrigger));this._dialogueDef.dispose();this._dialogueDef=null;B.prototype.dispose.call(this)},update:function(a){B.prototype.update.call(this,
a);!j.get_instance().getBool(l.BOOL_PAUSED)&&this.get_state()==this._STATE_OPENED&&(this._timerPointer-=a,0>=this._timerPointer&&this._pointerBehavior())},_pointerBehavior:function(){switch(this._dialogueDef.get_pointerType()[1]){case 0:this._timerPointer=this.TIMER_POINTER;this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-5,y:this._pointer.get_y()+5},!0);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1);break;case 2:this._timerPointer=
this.TIMER_POINTER+1;this._tween.tween(this._pointer,0.15,{x:this._pointer.get_x()-100},!0);this._tween.tween(this._pointer,0.25,{scale:0.9,x:this._pointer.get_x()-105,y:this._pointer.get_y()+5},!1);this._tween.tween(this._pointer,0.5,{x:this._pointer.get_x()-5,y:this._pointer.get_y()+5},!1,o.EASE_IN,0.25);this._tween.tween(this._pointer,0.25,{scale:1,x:this._pointer.get_x(),y:this._pointer.get_y()},!1,o.EASE,0.25);break;case 1:this._timerPointer=this.TIMER_POINTER,this._tween.tween(this._pointer,
0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()+20},!0,o.EASE_IN),this._tween.tween(this._pointer,0.7,{x:this._pointer.get_x(),y:this._pointer.get_y()},!1,o.EASE_OUT)}},_onTrigger:function(){q.dispatchFlowEvent(p.DIALOGUE_CLOSE)},_setInState:function(){var a=this;w.easeSlideInFromDir(this._dialogueTray,this._tween,L.BOTTOM).onComplete(function(){null!=a._pointer&&w.easeBounceIn(a._pointer,a._tween);a._finishOpenState()})},_setCloseState:function(){var a=this;null!=this._pointer&&w.easeBounceOut(this._pointer,
this._tween);w.easeSlideOutToDir(this._dialogueTray,this._tween,L.BOTTOM).onComplete(function(){j.get_instance().get_dispatcher().dispatchEvent(T.request(n.DIALOGUE_LINE_COMPLETE));null!=a._dialogueDef.get_endEvent()&&j.get_instance().get_dispatcher().dispatchEvent(T.request(a._dialogueDef.get_endEvent()));a.setFlagDispose()})},_onInput:function(a,b,c,d){if(!j.get_instance().getBool(l.BOOL_PAUSED)&&this._clickThrough)switch(b[1]){case 0:case 1:switch(a[1]){case 0:this.get_state()==this._STATE_OPENED&&
!1==this._closing&&c<q.get_CANVAS_WIDTH()-100&&100<d&&(this._closing=!0,q.dispatchFlowEvent(p.DIALOGUE_CLOSE))}}},__class__:xc});var tc=function(a,b){this._promoHeight=150;this._BLINK_TIME=1;B.call(this,a,b);this._blinkTimer=this._BLINK_TIME;this._closing=!1;var c=h.get_instance().assets.getAssetData("promoscreen_bg");this._tray=this._elementManager.addElement(new r({x:0,y:0,originX:0,originY:0}));this._bg=this._tray.addChild(new O({assetString:c.name},h.get_instance().assets.getAssetData("promoscreen_bg"),
1,1,1));this._alignMap=new K;this._alignMap.set("center",this._elementManager.addElement(new O({},new na({resize:h.get_instance().scale_up?"fit_to":"fit",align:"center"},""),0.9,0.9)));this._buttonSound=this._elementManager.addElement(new bc(this._tween,1));this._buttonBanner=this._elementManager.addElement(new Qb(this._tween));var d=new r(h.get_instance().assetParams("promo_bg",{})),c=this._alignMap.get("center");this._alignMap.get("center").addChild(d);var i=this._alignMap.get("center").addChild(new J({},
h.get_instance().text.get(h.get_instance().promos_enabled?"promoscreen_header":"endscreen_header")));i.get_pos().set_y(0==d.get_height()?-i.get_height():-d.get_height()/2+i.get_height()/2);var e=[];this._btnReplay=c.addChild(new H(h.get_instance().assetParams("button_replay",{tween:this._tween,y:d.get_height()/2},!0,"button_replay_down")));this._btnReplay.addChild(new J({},h.get_instance().text.get("replay_btn")));this._btnReplay.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onPlayAgainClick));
e.push(this._btnReplay);for(var f=0;f<e.length;){var g=e[f];++f;g.get_pos().set_y(0==d.get_height()?g.get_height()/2:d.get_height()/2-g.get_height()/2)}if(1<e.length){for(g=f=0;g<e.length;){var k=e[g];++g;f+=10+k.get_width()}f=-(f-10)/2;e[0].get_pos().set_x(f+e[0].get_width()/2);f=1;for(g=e.length;f<g;)k=f++,e[k].get_pos().set_x(e[0].get_pos().get_x()+e[0].get_width()/2+e[1].get_width()/2+10)}var m=i.get_height()*i.get_scaleY()+Math.abs(i.get_offsetY())-(this._btnReplay.get_height()+Math.abs(this._btnReplay.get_offsetY()));
0==i.get_height()&&(m=-(this._btnReplay.get_height()/2+Math.abs(this._btnReplay.get_offsetY())));this._promos=[];if(h.get_instance().promos_enabled){var f=R.eval("window.top.location.href"),g=y["int"](Math.min(h.get_instance().promos.list.length,4)),o=Math.ceil(g/2),k=Math.ceil(g/o),p=180,p=((0==d.get_height()?q.get_CANVAS_HEIGHT():d.get_height())-(i.get_height()*i.get_scaleY()+Math.abs(i.get_offsetY()))-(this._btnReplay.get_height()+Math.abs(this._btnReplay.get_offsetY())))/o;this._promoHeight=p-
30;this._promoHeight*=0.9;var t;t=0==d.get_width()?0:d.get_width()/k-h.get_instance().spacing;if(0==d.get_height()){i.get_pos().set_y(0-p*(o/2)-i.get_height()/2-h.get_instance().spacing);for(d=0;d<e.length;)m=e[d],++d,m.get_pos().set_y(p*(o/2)+m.get_height()/2+h.get_instance().spacing);m=i.get_height()*i.get_scaleY()+Math.abs(i.get_offsetY())-(this._btnReplay.get_height()+Math.abs(this._btnReplay.get_offsetY()));i=i.get_pos();i.set_y(i.get_y()+m/2);for(i=0;i<e.length;)d=e[i],++i,d=d.get_pos(),d.set_y(d.get_y()+
m/2);m/=2}e=m-(1<o?p/o:0);g>h.get_instance().promos.list.length&&(g=h.get_instance().promos.list.length);for(var u=0,i=0;i<g;)if(o=i++,d=j.get_instance().get_assets().getSpriteRect(null,h.get_instance().promos.list[o].image),null!=d&&(m=[h.get_instance().promos.list[o].href],m[0]!=f)){var v=Math.min(1,this._promoHeight/d.get_texture().get_height());0<t&&v*d.get_texture().get_width()>t&&(v=t/d.get_texture().get_width());d=c.addChild(new H({assetUpString:h.get_instance().promos.list[o].image,tween:this._tween,
x:0,y:0}));u=k;1==(o+1)%k&&o+1==g&&(u=1);1<u&&d.get_pos().set_x(0==o%u?-(d.get_width()*v/2+h.get_instance().spacing):d.get_width()*v/2+h.get_instance().spacing);d.get_pos().set_y(e+Math.floor(o/k)*p);d.setScale(v,v);d.get_dispatcher().addEventListener(n.BUTTON_CLICK,function(a){return function(){h.get_instance().get_flagApp()?window.location.href=a[0]:window.open(a[0],"_top")}}(m));m=c.addChild(new J({},h.get_instance().text.get("promo_title")));m.set_text(h.get_instance().promos.list[o].text);o=
d.get_width()*d.get_scaleX();o=Math.min(m.get_scale(),o/m.get_width());m.set_scale(o);m.get_pos().to(d.get_pos().get_x(),d.get_pos().get_y()+1.1*d.get_height()*d.get_scaleY()/2+m.get_height()/2*m.get_scaleY());o=m.get_height()*m.get_scaleY();v=d.get_pos();v.set_y(v.get_y()-o/2);m=m.get_pos();m.set_y(m.get_y()-o/2);this._promos.push(d);m=d=d=null}}else{f=i.get_height()*i.get_scaleY();for(g=c=0;g<e.length;)k=e[g],++g,c=Math.max(c,k.get_height()*k.get_scaleY());f=f+c+h.get_instance().spacing;i.get_pos().set_y(-f/
2);for(g=0;g<e.length;)k=e[g],++g,k.get_pos().set_y(f/2-c/2)}d=i=e=c=null;this._loadWidget=this._tray.addChild(new Ab({tween:this._tween,x:q.get_CANVAS_CENTER_X(),y:q.get_CANVAS_HEIGHT()-10}));j.get_instance().getBool(l.BOOL_TOUCH_DEVICE);this._clickTray=this._elementManager.addElement(new O({},new na({resize:"fit",align:"bottom"},"")));this._resize();this._alignMap.get("center").set_alpha(0);this._clickTray.set_alpha(0)};m["com.workinman.builders.hidden_object.ui.screens.ScreenEndGame"]=tc;tc.__name__=
"com,workinman,builders,hidden_object,ui,screens,ScreenEndGame".split(",");tc.__super__=B;tc.prototype=v(B.prototype,{dispose:function(){this._buttonBanner=this._buttonSound=this._btnReplay=this._promos=this._bg=this._loadWidget=this._tray=this._clickTray=this._buttonPlayAgain=null;B.prototype.dispose.call(this)},update:function(a){B.prototype.update.call(this,a)},_setInState:function(){var a=this;w.easeBounceIn(this._alignMap.get("center"),this._tween,!0,0,!0);w.easeBounceIn(this._clickTray,this._tween,
!0,0,!0).onComplete(function(){h.get_instance().vo.playVO({id:"vo_promo"},!0);h.get_instance().vo.idleVO({id:"vo_promo_btn",element:a._btnReplay},!0)});this._finishOpenState()},_setCloseState:function(){this.setFlagDispose()},_tweenOutClickTray:function(){null!=this._clickTray&&w.easeBounceOut(this._clickTray,this._tween,!1,0,!0)},_onEventResizeCanvas:function(a){B.prototype._onEventResizeCanvas.call(this,a);this._resize()},_resize:function(){for(var a=this._alignMap.keys();a.hasNext();)this._alignMap.get(a.next()).resize();
null!=this._loadWidget&&this._loadWidget.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_HEIGHT()-50);this._bg.resize();this._clickTray.resize();null!=this._buttonSound&&this._buttonSound.resize();null!=this._buttonBanner&&this._buttonBanner.resize()},_onPlayAgainClick:function(){var a=this;this.get_state()!=this._STATE_OPENED||this._closing||(this._closing=!0,h.get_instance().vo.clear(),this._tweenOutClickTray(),w.easeBounceOut(this._alignMap.get("center"),this._tween,!1,0,!0).onComplete(function(){a._loadWidget.tweenIn(!0);
j.get_instance().setInt(l.INT_LEVEL,1);q.dispatchFlowEvent(p.END_GAME_PLAY_AGAIN)}))},_onInput:function(){},__class__:tc});var uc=function(a,b){B.call(this,a,b);this._closing=!1;this._inputBuffer="";this._keyLength=j.get_instance().getString(l.STRING_UNLOCK_CODE).length;4>this._keyLength&&(this._keyLength=4)};m["com.workinman.builders.hidden_object.ui.screens.ScreenEnterCode"]=uc;uc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenEnterCode".split(",");uc.__super__=B;uc.prototype=v(B.prototype,
{_buildScreen:function(){this._tray=this._elementManager.addElement(new r({assetString:"template_bg",x:480,y:280,alpha:0}));this._tray.addChild(new $({y:-15,text:"code_copy",origin:0.5}));this._inputTextField=this._tray.addChild(new $({text:"enter_code_header",y:-120,scale:0.5}));for(var a=0,b=0,c=0,d="",i="",e;10>=c;){i="button_blank";d="code_key_"+y.string(c+1);e=s(this,this._onButtonKeyClick);switch(c){case 0:a=-55;b=-60;break;case 1:a=0;break;case 2:a=55;break;case 3:a=-55;b=-5;break;case 4:a=
0;break;case 5:a=55;break;case 6:a=-55;b=50;break;case 7:a=0;break;case 8:a=55;break;case 9:b=105;d="code_key_0";break;case 10:a=-27.5,d="code_key_enter",e=s(this,this._onButtonEnterClick)}i=this._tray.addChild(new H({x:a,y:b,tween:this._tween,assetUpString:i}));i.addChild(new $({x:-2,y:-3,text:d}));i.setDispatchData(function(){var a=new K;a.set("val",c+1);return a}(this));i.get_dispatcher().addEventListener(n.BUTTON_CLICK,e);e=i=null;c++}this._backButton=this._tray.addChild(new H({y:250,tween:this._tween,
assetUpString:"button_blank"}));this._backButton.addChild(new $({y:-3,text:"back"}));this._backButton.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onButtonBackClick));this._inputBuffer=""},dispose:function(){this._inputBuffer=this._inputTextField=this._backButton=this._tray=null;B.prototype.dispose.call(this)},_onButtonKeyClick:function(a){this._addInputBuffer(y.string(a.get_data().get("val")))},_onButtonEnterClick:function(){this._inputBuffer!=j.get_instance().getString(l.STRING_UNLOCK_CODE)?
(this._resetInputBuffer(),this._inputTextField.set_localize(!0),this._inputTextField.set_text("invalid_code")):j.get_instance().setBool(l.BOOL_CODE_UNLOCK,!0)},_resetInputBuffer:function(){this._inputBuffer=""},_addInputBuffer:function(a){for(this._inputBuffer+=a;this._inputBuffer.length>this._keyLength;)this._inputBuffer=G.substr(this._inputBuffer,1,this._inputBuffer.length);this._inputTextField.set_localize(!1);this._inputTextField.set_text(this._inputBuffer)},_setInState:function(){this._closing=
!1;w.easeBounceIn(this._tray,this._tween,!0).onComplete(s(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,w.easeBounceOut(this._tray,this._tween).onComplete(s(this,this.setFlagDispose)))},_onButtonBackClick:function(){this.get_state()==this._STATE_OPENED&&q.dispatchFlowEvent(p.ENTER_CODE_CLOSE)},__class__:uc});var wb=function(a,b){B.call(this,a,b)};m["com.workinman.builders.hidden_object.ui.screens.ScreenGameplayHud"]=wb;wb.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenGameplayHud".split(",");
wb.__super__=B;wb.prototype=v(B.prototype,{_buildScreen:function(){this._align=[];this._tray=new O({originX:0},new na({resize:"fit",align:"left"},""),1,0.9);this._align.push(this._elementManager.addElement(this._tray));this._buttonPause=this._elementManager.addElement(new Gc(this._tween));this._buttonBanner=this._elementManager.addElement(new Qb(this._tween));this._buttonPause.get_button().disable();this._buttonBanner.disable();this._resize()},dispose:function(){this._align=this._tray=this._buttonBanner=
this._buttonPause=null;B.prototype.dispose.call(this)},_useClickWall:function(){return!1},_setInState:function(){var a=this;this._buttonBanner.enable();this._tween.tween(this._buttonPause.get_button(),0.15,{scaleX:1.1,scaleY:1.1,alpha:h.get_instance().btn_hud_alpha},!0,o.EASE_OUT,0.2);this._tween.tween(this._buttonPause.get_button(),0.15,{scaleX:1,scaleY:1},!1,o.EASE_IN).onComplete(function(){a._buttonPause.get_button().enable();a._finishOpenState()})},_onEventResizeCanvas:function(a){B.prototype._onEventResizeCanvas.call(this,
a);this._resize()},_resize:function(){for(var a=0,b=this._align;a<b.length;){var c=b[a];++a;c.resize()}null!=this._buttonPause&&this._buttonPause.resize();null!=this._buttonBanner&&this._buttonBanner.resize()},_onInput:function(a,b,c,d){if(this.get_state()==this._STATE_OPENED)switch(b[1]){case 0:wb.clickedHud=null!=this._buttonPause&&this._buttonPause.buttonContains(c,d)||null!=this._buttonBanner&&this._buttonBanner.buttonContains(c,d)}},__class__:wb});var rc=function(a,b){B.call(this,a,b);this._closing=
!1};m["com.workinman.builders.hidden_object.ui.screens.ScreenGameplayMenu"]=rc;rc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenGameplayMenu".split(",");rc.__super__=B;rc.prototype=v(B.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new O({},new na({resize:h.get_instance().scale_up?"fit_to":"fit",align:"center"},""),0.9,0.9));this._tray.addChild(new r(h.get_instance().assetParams("menu_bg",{})));var a=[],b;b=this._tray.addChild(new H(h.get_instance().assetParams("button_resume",
{tween:this._tween},!0,"button_resume_down")));b.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventResumeClick));a.push(b);b=this._tray.addChild(new H(h.get_instance().assetParams("button_help",{tween:this._tween},!0,"button_help_down")));b.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventHelpClick));a.push(b);b=h.get_instance().assets.getAssetData("button_sound_on_menu");var c=h.get_instance().assets.getAssetData("button_sound_off_menu"),d=h.get_instance().assets.getAssetData("button_sound_on_menu_down"),
i=h.get_instance().assets.getAssetData("button_sound_off_menu_down");a.push(this._tray.addChild(new ac({tween:this._tween,assetUpString:b.name,assetUpOffString:c.name,assetDownOnString:d.name,assetDownOffString:i.name})));b=this._tray.addChild(new H(h.get_instance().assetParams("button_quit",{tween:this._tween},!0,"button_quit_down")));b.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventQuitClick));a.push(b);b=d=i=0;for(c=a.length;b<c;){var e=b++;a[e].get_width()>i&&(i=a[e].get_width());
a[e].get_height()>d&&(d=a[e].get_height())}b=-i/2-h.get_instance().spacing/2;for(var c=-d/2-h.get_instance().spacing/2,i=i+h.get_instance().spacing,d=d+h.get_instance().spacing,e=0,f=a.length;e<f;){var g=e++;a[g].get_pos().to(b+g%2*i,c+Math.floor(g/2)*d)}this._tray.getMaxSize();this._resize()},dispose:function(){this._tray=null;B.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;w.easeBounceIn(this._tray,this._tween,!0,0,!0).onComplete(s(this,this._finishOpenState))},_setCloseState:function(){this._closing||
(this._closing=!0,w.easeBounceOut(this._tray,this._tween).onComplete(s(this,this.setFlagDispose)))},_onEventResizeCanvas:function(a){B.prototype._onEventResizeCanvas.call(this,a);this._resize()},_resize:function(){null!=this._tray&&this._tray.resize()},_onEventHelpClick:function(){this.get_state()==this._STATE_OPENED&&q.dispatchFlowEvent(p.GAMEPLAY_MENU_HELP)},_onEventResumeClick:function(){this.get_state()==this._STATE_OPENED&&q.dispatchFlowEvent(p.GAMEPLAY_MENU_CLOSE)},_onEventQuitClick:function(){this.get_state()==
this._STATE_OPENED&&q.dispatchFlowEvent(p.GAMEPLAY_MENU_QUIT)},__class__:rc});var pc=function(a,b){B.call(this,a,b);this._closing=!1};m["com.workinman.builders.hidden_object.ui.screens.ScreenHelp"]=pc;pc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenHelp".split(",");pc.__super__=B;pc.prototype=v(B.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new O({},new na({resize:h.get_instance().scale_up?"fit_to":"fit",align:"center"},""),0.9,0.9));var a=this._tray.addChild(new r(h.get_instance().assetParams("help_bg",
{}))),b=this._tray.addChild(new J({y:0},h.get_instance().text.get("help_header")));b.get_pos().set_y(-a.get_height()/2+b.get_height()/2+h.get_instance().spacing);var c=[];c.push(this._tray.addChild(new J({x:0},h.get_instance().text.get("help_copy"))));c.push(this._tray.addChild(new r(h.get_instance().assetParams("help_image",{x:0}))));var d=this._tray.addChild(new H(h.get_instance().assetParams("help_btn_close",{tween:this._tween},!0,"help_btn_close_down")));d.get_dispatcher().addEventListener(n.BUTTON_CLICK,
s(this,this._onEventCloseClick));d.addChild(new J({},h.get_instance().text.get("help_close_btn")));c.push(d);a.get_height();var i;i=0+V.__cast(c[0],J).get_heightTotal();for(var e=1,f=c.length;e<f;){var g=e++;i+=c[g].get_height()}i+=(c.length-1)*h.get_instance().spacing;c[0].get_pos().set_y(b.get_heightTotal()/2-i/2+c[0].get_height()/2);i=1;for(e=c.length;i<e;)f=i++,c[f].get_pos().set_y(c[f-1].get_pos().get_y()+c[f-1].get_height()/2+c[f].get_height()/2+h.get_instance().spacing);i=b.get_height()+c[0].get_height()+
c[1].get_height();0==i&&d.get_pos().set_y(a.get_height()/2-d.get_height()/2-h.get_instance().spacing);this._tray.set_visible(!1);this._resize()},dispose:function(){this._tray=null;B.prototype.dispose.call(this)},_setInState:function(){this._closing=!1;w.easeBounceIn(this._tray,this._tween,!0,0,!0).onComplete(s(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,w.easeBounceOut(this._tray,this._tween).onComplete(s(this,this.setFlagDispose)))},_onEventResizeCanvas:function(a){B.prototype._onEventResizeCanvas.call(this,
a);this._resize()},_resize:function(){null!=this._tray&&this._tray.resize()},_onEventCloseClick:function(){this.get_state()==this._STATE_OPENED&&q.dispatchFlowEvent(p.HELP_CLOSE)},__class__:pc});var oc=function(a,b){this._maxButtons=0;this._pageTotal=1;this._page=0;this._cols=this._rows=3;B.call(this,a,b);this._closing=!1};m["com.workinman.builders.hidden_object.ui.screens.ScreenLevelSelect"]=oc;oc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenLevelSelect".split(",");oc.__super__=
B;oc.prototype=v(B.prototype,{_buildScreen:function(){this._align=[];this._cols=h.get_instance().level_select_num_cols;this._rows=h.get_instance().level_select_num_rows;this._bg=this._elementManager.addElement(new O({assetString:h.get_instance().assetString("levelselect_bg")},h.get_instance().assets.getAssetData("levelselect_bg"),1,1,1));this._align.push(this._bg);this._tray=this._elementManager.addElement(new O({},new na({align:"center",resize:h.get_instance().scale_up?"fit_to":"fit"},""),0.9,0.9));
this._align.push(this._tray);var a=Q.get_instance().get_currentWorld().get_levelCount(),b=0;this._levelButtons=[];for(var c,d=Math.ceil(a/(this._cols*this._rows))*this._cols*this._rows;b<d;)c=new Ac(h.get_instance().assetParams("button_level",{tween:this._tween,x:0,y:0},!0,"button_level_down"),b),this._levelButtons.push(c),this._tray.addChild(c),b++;b=0;c=this._levelButtons[0].getNaturalWidth()+h.get_instance().spacing;d=this._levelButtons[0].getNaturalHeight()+h.get_instance().spacing;this._maxButtons=
this._rows*this._cols;this._pageTotal=Math.ceil(a/this._maxButtons);for(var i=-(0.5*this._cols*c)+0.5*c,e=-(0.5*this._rows*d)+0.5*d,f=i,g=e;b<this._levelButtons.length;)this._levelButtons[b].set_x(f),this._levelButtons[b].set_y(g),f+=c,b++,0==b%this._cols&&(f=i,g+=d,"center"==h.get_instance().level_select_align&&b>=a-a%this._cols&&(f+=0.5*(this._cols-a%this._cols)*c)),0==b%(this._rows*this._cols)&&(g=e);this._buttonSound=this._elementManager.addElement(new bc(this._tween,1));this._buttonBanner=this._elementManager.addElement(new Qb(this._tween));
this._buttonPrevious=this._tray.addChild(new H(h.get_instance().assetParams("level_select_button_prev",{tween:this._tween,x:0,y:0},!0,"level_select_button_prev_down")));this._buttonPrevious.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onClickPrevious));this._buttonPrevious.set_x(-q.get_CANVAS_CENTER_X()+h.get_instance().spacing+this._buttonPrevious.getNaturalWidth()/2);this._buttonNext=this._tray.addChild(new H(h.get_instance().assetParams("level_select_button_next",{tween:this._tween,
x:0,y:0},!0,"level_select_button_next_down")));this._buttonNext.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onClickNext));this._buttonNext.set_x(q.get_CANVAS_CENTER_X()-h.get_instance().spacing-this._buttonNext.getNaturalWidth()/2);this._tray.set_visible(!1);this._updatePaging();this._tray.getMaxSize();this._resize();h.get_instance().previewLevelSelect()},_onEventResizeCanvas:function(a){B.prototype._onEventResizeCanvas.call(this,a);this._resize()},_resize:function(){if(null!=this._align)for(var a=
0,b=this._align;a<b.length;){var c=b[a];++a;c.resize()}null!=this._buttonNext&&this._buttonNext.set_x(q.get_CANVAS_CENTER_X()-h.get_instance().spacing-this._buttonNext.getNaturalWidth()/2);null!=this._buttonPrevious&&this._buttonPrevious.set_x(-q.get_CANVAS_CENTER_X()+h.get_instance().spacing+this._buttonPrevious.getNaturalWidth()/2);null!=this._buttonBanner&&this._buttonBanner.resize();null!=this._buttonSound&&this._buttonSound.resize()},dispose:function(){this._buttonSound=this._buttonBanner=this._buttonNext=
this._buttonPrevious=this._bg=this._levelButtons=this._align=this._loadWidget=this._tray=null;B.prototype.dispose.call(this)},_setInState:function(){var a=this;this._closing=!1;w.easeBounceIn(this._tray,this._tween,!0,0,!0).onComplete(function(){a._finishOpenState();h.get_instance().vo.playVO({id:"vo_level_select"},!0);h.get_instance().vo.idleVO({id:"vo_level_select_idle"})})},_setCloseState:function(){this._closing||(this._closing=!0,w.easeBounceOut(this._tray,this._tween).onComplete(s(this,this.setFlagDispose)))},
_addEventListeners:function(){B.prototype._addEventListeners.call(this);j.get_instance().get_dispatcher().addEventListener(n.LEVEL_SELECTED,s(this,this._onLevelSelected));j.get_instance().get_dispatcher().addEventListener(n.PREVIEW_QUESTION,s(this,this._onEventPreviewQuestion))},_removeEventListeners:function(){B.prototype._removeEventListeners.call(this);j.get_instance().get_dispatcher().removeEventListener(n.LEVEL_SELECTED,s(this,this._onLevelSelected));j.get_instance().get_dispatcher().removeEventListener(n.PREVIEW_QUESTION,
s(this,this._onEventPreviewQuestion))},_onLevelSelected:function(){h.get_instance().vo.clear();this._addLoader();for(var a=0,b=this._levelButtons;a<b.length;){var c=b[a];++a;c.disable()}this._buttonPrevious.disable();this._buttonNext.disable();q.dispatchFlowEvent(p.SPLASH_PLAY)},_onEventPreviewQuestion:function(a){this._loading||(j.get_instance().setInt(l.INT_LEVEL,a.get_data().get("question")-1),this._onLevelSelected(null))},_addLoader:function(){this._loading=!0;w.easeBounceOut(this._tray,this._tween);
null==this._loadWidget&&(this._loadWidget=this._elementManager.addElement(new Ab({tween:this._tween,x:q.get_CANVAS_CENTER_X(),y:q.get_CANVAS_CENTER_Y()})));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0)},_onClickPrevious:function(){this._page--;this._updatePaging()},_onClickNext:function(){this._page++;this._updatePaging()},_updatePaging:function(){0==this._page?(this._buttonPrevious.disable(),this._buttonPrevious.set_visible(!1)):(this._buttonPrevious.enable(),this._buttonPrevious.set_visible(!0));
this._page+1>=this._pageTotal?(this._buttonNext.disable(),this._buttonNext.set_visible(!1)):(this._buttonNext.enable(),this._buttonNext.set_visible(!0));for(var a=this._page*this._maxButtons,b=a+this._maxButtons,c=0,d=this._levelButtons.length;c<d;){var i=c++;i>=a&&i<b?(this._levelButtons[i].enable(),h.get_instance().level_select_progression&&this._levelButtons[i].isLocked()&&this._levelButtons[i].disable(),this._levelButtons[i].set_visible(!0)):(this._levelButtons[i].disable(),this._levelButtons[i].set_visible(!1))}},
__class__:oc});var sc=function(a,b){B.call(this,a,b);this._closing=!1};m["com.workinman.builders.hidden_object.ui.screens.ScreenQuitConfirm"]=sc;sc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenQuitConfirm".split(",");sc.__super__=B;sc.prototype=v(B.prototype,{_buildScreen:function(){this._tray=this._elementManager.addElement(new O({},new na({resize:h.get_instance().scale_up?"fit_to":"fit",align:"center"},""),0.9,0.9));this._tray.addChild(new r(h.get_instance().assetParams("quit_bg",
{})));var a=this._tray.addChild(new J({y:-60},h.get_instance().text.get("quit_header"))),b=null,c=[],b=this._tray.addChild(new H(h.get_instance().assetParams("quit_btn_yes",{tween:this._tween},!0,"quit_btn_yes_down")));b.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onYesClick));b.addChild(new J({},h.get_instance().text.get("quit_yes_btn")));c.push(b);b=this._tray.addChild(new H(h.get_instance().assetParams("quit_btn_no",{tween:this._tween},!0,"quit_btn_no_down")));b.get_dispatcher().addEventListener(n.BUTTON_CLICK,
s(this,this._onNoClick));b.addChild(new J({},h.get_instance().text.get("quit_no_btn")));c.push(b);for(var d=b=0,i=0,e=c.length;i<e;){var f=i++;c[f].get_width()>b&&(b=c[f].get_width());c[f].get_height()>d&&(d=c[f].get_height())}i=d+a.get_height()+h.get_instance().spacing;a.get_pos().set_y(-i/2+a.get_height()/2);i=-b/2-5*h.get_instance().spacing/2;a=a.get_pos().get_y()+a.get_height()/2+h.get_instance().spacing+d/2;b+=5*h.get_instance().spacing;d=0;for(e=c.length;d<e;)f=d++,c[f].get_pos().to(i+f%2*b,
a);this._tray.set_visible(!1);this._resize()},dispose:function(){B.prototype.dispose.call(this);this._tray=null},_setInState:function(){this._closing=!1;w.easeBounceIn(this._tray,this._tween,!0,0,!0).onComplete(s(this,this._finishOpenState))},_setCloseState:function(){this._closing||(this._closing=!0,w.easeBounceOut(this._tray,this._tween).onComplete(s(this,this.setFlagDispose)))},_onEventResizeCanvas:function(a){B.prototype._onEventResizeCanvas.call(this,a);this._resize()},_resize:function(){null!=
this._tray&&this._tray.resize()},_onYesClick:function(){this.get_state()==this._STATE_OPENED&&q.dispatchFlowEvent(p.GAMEPLAY_QUIT_YES)},_onNoClick:function(){this.get_state()==this._STATE_OPENED&&q.dispatchFlowEvent(p.GAMEPLAY_QUIT_NO)},__class__:sc});var qc=function(a,b){B.call(this,a,b);this._closing=!1};m["com.workinman.builders.hidden_object.ui.screens.ScreenShop"]=qc;qc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenShop".split(",");qc.__super__=B;qc.prototype=v(B.prototype,
{_buildScreen:function(){this._trayCurrency=this._elementManager.addElement(new r({assetString:"scorebox"}));this._trayCurrency.set_alpha(0);this._currency=this._elementManager.addElement(new Ec({x:175,y:35,tween:this._tween}));this._currency.set_alpha(0);this._trayInventory=this._elementManager.addElement(new r({assetString:"help_menu",x:288,y:280}));this._trayInventory.set_visible(!1);this._trayInventory.addChild(new $({x:-200,y:-170,text:"shop"}));this._buttons=[];for(var a=0.35*-this._trayInventory.getNaturalWidth(),
b=a,c=-75,d=0,i=0,e=ia.get_instance().getItemList();i<e.length;){var f=e[i];++i;this._button=this._trayInventory.addChild(new Cc({item:f,x:b,y:c,tween:this._tween,assetUpString:"button_shop_backing"}));this._buttons.push(this._button);d++;4<=d?(d=0,b=a,c+=105):b+=105}this._trayDetails=this._elementManager.addElement(new r({assetString:"help_menu",x:768,y:280}));this._trayDetails.set_visible(!1);this._textItemName=this._trayDetails.addChild(new $({x:-175,y:-170,text:"item_name_default",originX:0}));
this._textItemDesc=this._trayDetails.addChild(new $({x:-50,y:-90,text:"item_unowned",originY:0}));this._textNextRank=this._trayDetails.addChild(new $({x:-250,y:-20,text:"next_rank",origin:0}));this._textItemNext=this._trayDetails.addChild(new $({x:-50,y:5,text:"item_desc_default",originY:0}));a=j.get_instance().get_localize().getLocalizeData("currency");this._textCostCurrency=this._trayDetails.addChild(new $({x:-115-20*a.get_scale(),y:130,text:"currency",originX:1}));this._textCost=this._trayDetails.addChild(new ma({x:-115,
y:130,text:"99999",font:a.get_fontName(),originX:0,scale:a.get_scale()}));this._textProgress=this._trayDetails.addChild(new ma({x:-50,y:-120,text:"1 / 1",font:a.get_fontName(),scale:0.5}));this._trayDetails.addChild(new r({assetString:"button_blank",x:-250,y:-170}));this._itemIcon=this._trayDetails.addChild(new r({assetString:"button_pause",x:-250,y:-176}));this._buttonBuy=this._trayDetails.addChild(new Bc({x:-250,y:175,tween:this._tween,assetUpString:"button_blank"}));this._buttonBuy.get_dispatcher().addEventListener(n.BUTTON_CLICK,
s(this,this._onBuy));this._buttonLeave=this._trayDetails.addChild(new H({x:150,y:200,tween:this._tween,assetUpString:"button_x"}));this._buttonLeave.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventPlayClick));j.get_instance().get_dispatcher().dispatchEvent(T.request(n.ITEM_SELECT,function(){var a=new K;a.set("id",la.ITEM_SWORD);return a}(this)));a=null},_addEventListeners:function(){j.get_instance().get_dispatcher().addEventListener(n.ITEM_SELECT,s(this,this._onItemSelect))},
_removeEventListeners:function(){j.get_instance().get_dispatcher().removeEventListener(n.ITEM_SELECT,s(this,this._onItemSelect))},_onItemSelect:function(a){this._doItemSelect(a.get_data().get("id"))},_onBuy:function(){j.get_instance().modifyInt(l.INT_CURRENCY,-ia.get_instance().getCostNextRank(this._selectedItem));ia.get_instance().modRank(this._selectedItem);this._doItemSelect(this._selectedItem);for(var a,b=0,c=this._buttons;b<c.length;)a=c[b],++b,a.doRefreshDisplay()},_doItemSelect:function(a){this._selectedItem=
a;this._textItemName.set_text(ia.get_instance().getLocalizationNameID(this._selectedItem));this._textItemDesc.set_text(ia.get_instance().getLocalizationDescID(this._selectedItem));this._textItemNext.set_text(ia.get_instance().getLocalizationDescID(this._selectedItem,1));this._itemIcon.setAsset(rb.stringToTexture(ia.get_instance().getIcon(this._selectedItem)));a=ia.get_instance().hasRankCapped(this._selectedItem);!a&&ia.get_instance().canAffordNextRank(this._selectedItem)?this._buttonBuy.enable():
this._buttonBuy.disable();this._textCost.set_alpha(a?0:1);this._textCostCurrency.set_alpha(a?0:1);this._textItemNext.set_alpha(a?0:1);this._textNextRank.set_alpha(a?0:1);this._textCost.set_text(y.string(ia.get_instance().getCostNextRank(this._selectedItem)));this._textProgress.set_text(ia.get_instance().getRank(this._selectedItem)+" / "+ia.get_instance().getRankCap(this._selectedItem))},_setInState:function(){this._closing=!1;w.easeSlideIn(this._trayCurrency,this._tween,0,-75);w.easeSlideIn(this._trayInventory,
this._tween,-520,280).onComplete(s(this,this._finishOpenState));w.easeSlideIn(this._trayDetails,this._tween,1480,280);w.easeBounceIn(this._currency,this._tween,!0,0.55)},_setCloseState:function(){this._closing||(this._closing=!0,w.easeSlideOut(this._trayCurrency,this._tween,0,-75,0.25).onComplete(s(this,this.setFlagDispose)),w.easeSlideOut(this._trayInventory,this._tween,-520,280),w.easeSlideOut(this._trayDetails,this._tween,1480,280),w.easeBounceOut(this._currency,this._tween))},_onEventPlayClick:function(){this.get_state()==
this._STATE_OPENED&&q.dispatchFlowEvent(p.SHOP_CLOSE)},dispose:function(){this._buttons=this._trayDetails=this._trayInventory=this._trayCurrency=null;B.prototype.dispose.call(this)},__class__:qc});var nc=function(a,b){this._BLINK_TIME=1;B.call(this,a,b);this._blinkAllowed=!0;this._closing=!1;this._blinkTimer=this._BLINK_TIME;this._beginExternalLoad()};m["com.workinman.builders.hidden_object.ui.screens.ScreenSplash"]=nc;nc.__name__="com,workinman,builders,hidden_object,ui,screens,ScreenSplash".split(",");
nc.__super__=B;nc.prototype=v(B.prototype,{dispose:function(){ja.get_instance().sendTrackingCall(E.onTitleScreenEnd);this._version=this._buttonBanner=this._alignMap=this._bg=this._buttonPlay=this._clickTray=this._loadWidget=this._buttonSound=this._textClickToPlay=null;B.prototype.dispose.call(this)},_buildScreen:function(){this._bg=this._elementManager.addElement(new O({assetString:"builder_splash"},new na({resize:"fit_to",align:"center"},""),1,1,1));this._bg.flagGetMaxSize=!1;this._bg.set_widthMax(960);
this._bg.set_heightMax(560);var a="center,top,top_left,top_right,bottom,bottom_left,bottom_right,left,right".split(",");this._alignMap=new K;for(var b=0;b<a.length;){var c=a[b];++b;var d=this._elementManager.addElement(new O({},new na({resize:"fit",align:c},"")));this._alignMap.set(c,d)}this._resize()},_beginExternalLoad:function(){j.get_instance().get_assets().load(s(this,this._beginPreload),null,null,["external_manifest_id"],0)},_beginPreload:function(){h.get_instance().setupLocalizationManifest();
j.get_instance().get_assets().load(s(this,this._onPreloadFinished),["preload"],null,["preload_manifest_id"],0)},_onPreloadFinished:function(){ja.get_instance().sendTrackingCall(E.getLoadingProgress,{progress:0.6666666666666666});j.get_instance().get_localize().parseLocalization();h.get_instance().onPreloadLoaded();this._addPreload();this._beginInitialLoad(j.get_instance().getInt(l.INT_QUALITY))},_beginInitialLoad:function(a){j.get_instance().get_dispatcher().addEventListener(n.UPDATE_DISPLAY,s(this,
this._onUpdateDisplay));if(0!=a&&1!=a)throw"[Main](_beginInitialLoad) Error: Not expecting quality flag "+a+". Nothing loaded.";q.allAudioSupported();j.get_instance().get_assets().load(s(this,this._eventLoadCompleteInitial),null,null,["initial_manifest_id"],1200)},_eventLoadCompleteInitial:function(){var a=this;h.get_instance().onInitialLoaded();j.get_instance().get_dispatcher().removeEventListener(n.UPDATE_DISPLAY,s(this,this._onUpdateDisplay));ja.get_instance().sendTrackingCall(E.onLoadingEnd);
ja.get_instance().sendTrackingCall(E.onTitleScreenStart);this._tweenClickTray();this._removeLoader();if(null!=this._buttonPlay)w.easeBounceIn(this._buttonPlay,this._tween).onComplete(function(){a._buttonPlay.enable();a._playSplashVO()});else this._playSplashVO();this._resize();j.get_instance().get_dispatcher().dispatchEvent(T.request(n.INITIAL_LOAD_COMPLETE))},_playSplashVO:function(){h.get_instance().vo.playVO({id:"vo_splash"},!0);h.get_instance().vo.idleVO({id:"vo_splash_btn",element:this._buttonPlay},
!0)},_addPreload:function(){this._bg.set_data(h.get_instance().assets.getAssetData("splash"));for(var a=h.get_instance().assets.getAssets("location","splash"),b,c=0;c<a.length;){var d=a[c];++c;"button_play"!=d.id&&(b=this._bg,b.addChild(new r(h.get_instance().assetParams(d.id,{},!1))))}this._addClickTray();this._addLoader();h.get_instance().assetEnabled("button_play")&&(h.get_instance().assets.getAssetData("button_play"),this._buttonPlay=new H(h.get_instance().assetParams("button_play",{tween:this._tween,
alpha:0},!0,"button_play_down")),this._buttonPlay.addChild(new J({},h.get_instance().text.get("play_btn"))),this._bg.addChild(this._buttonPlay),this._buttonPlay.disable());a="1.2.25";null!=h.get_instance().config.meta&&null!=h.get_instance().config.meta.publishCount&&(a+="-"+y.string(h.get_instance().config.meta.publishCount));a=new ma({text:a,scale:0.2,alpha:0.5,align:va.Left,x:3,y:1});this._version=this._bg.addChild(new sa({color:16777215,width:Math.floor(a.get_width()*a.get_scale()+6),height:Math.floor(a.get_height()*
a.get_scale()+4),originX:0,x:-478,y:268}));this._version.set_visible(!1);this._version.addChild(a);this._resize()},_getAlignElement:function(a){return this._alignMap.exists(a)?this._alignMap.get(a):null},_onEventResizeCanvas:function(a){B.prototype._onEventResizeCanvas.call(this,a);this._resize()},_resize:function(){for(var a=this._alignMap.keys();a.hasNext();)this._alignMap.get(a.next()).resize();this._bg.resize();null!=this._buttonSound&&this._buttonSound.resize();null!=this._buttonBanner&&this._buttonBanner.resize()},
_addLoader:function(){null==this._loadWidget&&(this._loadWidget=this._bg.addChild(new Ab({tween:this._tween,x:h.get_instance().loader.x,y:h.get_instance().loader.y})));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0)},_removeLoader:function(){null==this._loadWidget||!1==this._loadWidget.get_active()||this._loadWidget.tweenOut()},_addClickTray:function(){if(null==this._clickTray){var a="",a=j.get_instance().getBool(l.BOOL_TOUCH_DEVICE)?"play_tap":"play_click";this._textClickToPlay=this._bg.addChild(new J({},
h.get_instance().text.get(a)));this._textClickToPlay.set_originY(1);this._clickTray=this._textClickToPlay;this._textClickToPlay.set_visible(!1)}},_tweenClickTray:function(){w.easeBounceIn(this._clickTray,this._tween,!0,0.2)},update:function(a){B.prototype.update.call(this,a);this._blinkAllowed&&null!=this._clickTray?(this._blinkTimer-=a,0>=this._blinkTimer&&(0==this._textClickToPlay.get_alpha()?(this._blinkTimer=this._BLINK_TIME,this._textClickToPlay.set_alpha(1)):(this._blinkTimer=this._BLINK_TIME/
2,this._textClickToPlay.set_alpha(0)))):null!=this._textClickToPlay&&this._textClickToPlay.set_alpha(0)},_onUpdateDisplay:function(a){a.get_data().get("val")==l.INT_LOADING_PROGRESS&&ja.get_instance().sendTrackingCall(E.getLoadingProgress,{progress:0.6666666666666666+Bb.clamp(j.get_instance().getInt(l.INT_LOADING_PROGRESS)/100,0,1)/3})},_onEventCodeClick:function(){this.get_state()==this._STATE_OPENED&&(j.get_instance().setBool(l.BOOL_CODE_SCREEN_OPEN,!0),q.dispatchFlowEvent(p.ENTER_CODE_OPEN))},
_tweenOutClickTray:function(){null!=this._clickTray&&(this._tween.tween(this._clickTray,0.15,{scaleX:1.1,scaleY:1.1},!0,o.EASE_QUAD_OUT),this._tween.tween(this._clickTray,0.15,{scaleX:0,scaleY:0,alpha:0},!1,o.EASE_QUAD_IN))},_setCloseState:function(){this.setFlagDispose()},_onInput:function(a,b,c,d){if(this.get_state()==this._STATE_OPENED)switch(b[1]){case 0:case 1:switch(a[1]){case 1:if(!1==this._closing&&(null==this._buttonBanner||null!=this._buttonBanner&&!1==this._buttonBanner.buttonContains(c,
d))&&!1==j.get_instance().getBool(l.BOOL_CODE_SCREEN_OPEN))this._closing=!0,h.get_instance().vo.clear(),this._tweenOutClickTray(),null!=this._buttonPlay&&(this._buttonPlay.disable(),w.easeBounceOut(this._buttonPlay,this._tween)),h.get_instance().skip_level_select?(this._tween.timer(0.2).onComplete(s(this,this._addLoader)),j.get_instance().setInt(l.INT_LEVEL,0),q.dispatchFlowEvent(p.SPLASH_PLAY)):q.dispatchFlowEvent(p.LEVEL_SELECT)}break;case 55:a==aa.UP&&null!=this._version&&this._version.set_visible(0==
(this._version._flags&1))}},__class__:nc});var O=function(a,b,c,d,i){null==i&&(i=0);null==d&&(d=1);null==c&&(c=1);r.call(this,a);this._data=b;this._tiles=[];this._percentWidth=c;this._percentHeight=d;0==i&&(i=h.get_instance().game_fill_safe);this._safeHeight=i;this.flagTrace=this.flagTweening=!1;this.flagGetMaxSize=!0};m["com.workinman.builders.hidden_object.world.elements.builder.BuilderContainer"]=O;O.__name__="com,workinman,builders,hidden_object,world,elements,builder,BuilderContainer".split(",");
O.__super__=r;O.prototype=v(r.prototype,{dispose:function(){this._tiles=this._data=null;r.prototype.dispose.call(this)},set_data:function(a){return this._data=a},get_widthMax:function(){return this._widthMax},set_widthMax:function(a){return this._widthMax=a},get_heightMax:function(){return this._heightMax},set_heightMax:function(a){return this._heightMax=a},intersects:function(a,b,c){null==c&&(c=1);return a>=this.get_pos().get_x()-this.get_originX()*this._widthMax*Math.abs(this.get_scaleX()*c)&&b>=
this.get_pos().get_y()-this.get_originY()*this._heightMax*Math.abs(this.get_scaleY()*c)&&a<=this.get_pos().get_x()-this.get_originX()*this._widthMax*Math.abs(this.get_scaleX()*c)+this._widthMax*Math.abs(this.get_scaleX()*c)&&b<=this.get_pos().get_y()-this.get_originY()*this._heightMax*Math.abs(this.get_scaleY()*c)+this._heightMax*Math.abs(this.get_scaleY()*c)},getMaxSize:function(){if(this.flagGetMaxSize){for(var a=this.get_width(),b=this.get_height(),c=Ka.request(-this.get_originX()*this.get_width(),
-this.get_originY()*this.get_height(),this.get_width(),this.get_height()),a=this.firstChild;null!=a;){if(V.__instanceof(a,D)){var b=V.__cast(a,D),d=b.getNaturalWidth()*b.get_scaleX(),i=b.getNaturalHeight()*b.get_scaleY(),e=b.get_originX(),f=b.get_originY(),g=b.get_offsetX(),h=b.get_offsetY();if(V.__instanceof(b,ma))switch(V.__cast(b,ma)._align[1]){case 1:e=0.5}else V.__instanceof(b,J)?(h=V.__cast(b,J),d=h.getNaturalWidth(),i=h.getNaturalHeight(),g=h.get_builderText().get_offsetX(),h=h.get_builderText().get_offsetY()):
V.__instanceof(b,O)&&(i=V.__cast(b,O),d=i.get_widthMax(),i=i.get_heightMax());b=Ka.request(b.get_x()-e*d+g,b.get_y()-f*i+h,d,i);this.flagTrace&&null;0==c.get_x()&&0==c.get_y()&&0==c.get_width()&&0==c.get_height()&&(c.set_x(b.get_x()),c.set_y(b.get_y()),c.set_width(b.get_width()),c.set_height(b.get_height()));d=b.get_x()+b.get_width();e=c.get_x()+c.get_width();f=b.get_y()+b.get_height();g=c.get_y()+c.get_height();b.get_x()<c.get_x()&&c.set_x(b.get_x());d>e?c.set_width(d-c.get_x()):d<e&&c.set_width(e-
c.get_x());b.get_y()<c.get_y()&&c.set_y(b.get_y());f>g?c.set_height(f-c.get_y()):f<g&&c.set_height(g-c.get_y())}a=a.next}this.flagTrace&&null;a=0==c.get_width()+c.get_x()||0==c.get_x()?Math.abs(c.get_width()):0>c.get_x()+c.get_width()?Math.abs(c.get_x()):0<c.get_x()?c.get_width()+c.get_x():Math.max(Math.abs(2*c.get_x()),2*Math.abs(c.get_width()+c.get_x()));b=0==c.get_height()+c.get_y()||0==c.get_y()?Math.abs(c.get_height()):0>c.get_y()+c.get_height()?Math.abs(c.get_y()):0<c.get_y()?c.get_height()+
c.get_y():Math.max(Math.abs(2*c.get_y()),2*Math.abs(c.get_height()+c.get_y()));this.flagTrace&&null;c.dispose();this._widthMax=a;this._heightMax=b}},resize:function(){if(!(null==this._data||this.flagTweening)){switch(this._data.align){case "center":this.set_originX(0.5);this.set_originY(0.5);this.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_CENTER_Y());break;case "top":this.set_originX(0.5);this.set_originY(0);this.set_offsetY(q.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);this.get_pos().to(q.get_CANVAS_CENTER_X(),
q.get_CANVAS_TOP());break;case "top_left":this.set_originX(0);this.set_originY(0);this.get_pos().to(0,q.get_CANVAS_TOP());this.set_offsetY(q.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "top_right":this.set_originX(1);this.set_originY(0);this.get_pos().to(q.get_CANVAS_WIDTH(),q.get_CANVAS_TOP());this.set_offsetY(q.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "bottom":this.set_originX(0.5);this.set_originY(1);this.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_TOP()+q.get_CANVAS_HEIGHT());
this.set_offsetY(-q.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "bottom_left":this.set_originX(0);this.set_originY(1);this.get_pos().to(0,q.get_CANVAS_TOP()+q.get_CANVAS_HEIGHT());this.set_offsetY(-q.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "bottom_right":this.set_originX(1);this.set_originY(1);this.get_pos().to(q.get_CANVAS_WIDTH(),q.get_CANVAS_TOP()+q.get_CANVAS_HEIGHT());this.set_offsetY(-q.get_CANVAS_HEIGHT()*(1-this._safeHeight)/2);break;case "left":this.set_originX(0);
this.set_originY(0.5);this.get_pos().to(0,q.get_CANVAS_CENTER_Y());break;case "right":this.set_originX(1),this.set_originY(0.5),this.get_pos().to(q.get_CANVAS_WIDTH(),q.get_CANVAS_CENTER_Y())}switch(this._data.resize){case "fill":this.set_scaleX(q.get_CANVAS_WIDTH()*this._percentWidth/this.get_width());this.set_scaleY(q.get_CANVAS_HEIGHT()*this._percentHeight*this._safeHeight/this.get_height());break;case "fill_to":this.getMaxSize();this.set_scaleX(q.get_CANVAS_WIDTH()*this._percentWidth/this._widthMax);
this.set_scaleY(q.get_CANVAS_HEIGHT()*this._percentHeight*this._safeHeight/this._heightMax);this.set_scale(Math.max(this.get_scaleX(),this.get_scaleY()));break;case "fit":this.getMaxSize();this.set_scaleX(q.get_CANVAS_WIDTH()*this._percentWidth/this._widthMax);this.set_scaleY(q.get_CANVAS_HEIGHT()*this._percentHeight*this._safeHeight/this._heightMax);this.set_scale(Math.min(1,Math.min(this.get_scaleX(),this.get_scaleY())));break;case "fit_to":this.getMaxSize();this.set_scaleX(q.get_CANVAS_WIDTH()*
this._percentWidth/this._widthMax);this.set_scaleY(q.get_CANVAS_HEIGHT()*this._percentHeight*this._safeHeight/this._heightMax);this.set_scale(Math.min(this.get_scaleX(),this.get_scaleY()));break;case "repeat":this.set_originX(0);this.set_originY(0);this.get_pos().to(-q.get_CANVAS_CENTER_X(),0);for(var a=0,b=this._tiles;a<b.length;){var c=b[a];++a;c.set_alpha(0)}for(b=a=0;a<q.get_CANVAS_WIDTH();){var d=0;for(0==a&&(d+=this.get_height());d<q.get_CANVAS_HEIGHT();)b>=this._tiles.length?(c=this.addChild(new r({assetString:this._data.name,
originX:0,originY:0})),this._tiles.push(c)):(c=this._tiles[b],c.set_alpha(1)),b++,c.get_pos().to(a,d),d+=this.get_height();a+=this.get_width()}break;default:this.set_scale(1)}}},__class__:O,__properties__:v(r.prototype.__properties__,{set_heightMax:"set_heightMax",get_heightMax:"get_heightMax",set_widthMax:"set_widthMax",get_widthMax:"get_widthMax",set_data:"set_data"})});var Qb=function(a){var b=h.get_instance().assets.getAssetData("banner_logo"),c;c=null==b.align||""==b.align?"top_right":b.align;
O.call(this,{},new na({resize:"fit",align:c},""),h.get_instance().banner_scale,h.get_instance().banner_scale);this._bannerURL=null==b.href?"":b.href;this._buttonBanner=this.addChild(new H(h.get_instance().assetParams("banner_logo",{tween:a},!0,"banner_logo_down")));this._buttonBanner.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onBannerClick));h.get_instance().positionElement(this._buttonBanner,c);h.get_instance().get_flagApp()&&this.disable()};m["com.workinman.builders.hidden_object.ui.widgets.WidgetButtonBanner"]=
Qb;Qb.__name__="com,workinman,builders,hidden_object,ui,widgets,WidgetButtonBanner".split(",");Qb.__super__=O;Qb.prototype=v(O.prototype,{dispose:function(){this._buttonBanner=null;O.prototype.dispose.call(this)},get_button:function(){return this._buttonBanner},_onBannerClick:function(){h.get_instance().get_flagApp()||window.open(this._bannerURL,"_blank")},buttonContains:function(a,b){return null==this._buttonBanner?!1:this._buttonBanner.contains(a,b)},disable:function(){this.get_button().disable()},
enable:function(){h.get_instance().get_flagApp()||this.get_button().enable()},__class__:Qb,__properties__:v(O.prototype.__properties__,{get_button:"get_button"})});var Gc=function(a,b){null==b&&(b=0);var c=h.get_instance().assets.getAssetData("button_pause"),c=null==c.align||""==c.align?"top_right":c.align;O.call(this,{},new na({resize:"fit",align:c},""),0.1,0.1);this._button=this.addChild(new H(h.get_instance().assetParams("button_pause",{x:0,y:0,originY:0,tween:a,alpha:b},!0,"button_pause_down")));
this._button.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventPauseClick));h.get_instance().positionElement(this._button,c)};m["com.workinman.builders.hidden_object.ui.widgets.WidgetButtonPause"]=Gc;Gc.__name__="com,workinman,builders,hidden_object,ui,widgets,WidgetButtonPause".split(",");Gc.__super__=O;Gc.prototype=v(O.prototype,{dispose:function(){this._button=null;O.prototype.dispose.call(this)},get_button:function(){return this._button},buttonContains:function(a,b){return null==
this._button?!1:this._button.contains(a,b)},_onEventPauseClick:function(){q.dispatchFlowEvent(p.GAMEPLAY_MENU)},__class__:Gc,__properties__:v(O.prototype.__properties__,{get_button:"get_button"})});var bc=function(a,b){null==b&&(b=0);var c=h.get_instance().assets.getAssetData("button_sound_on"),d=h.get_instance().assets.getAssetData("button_sound_off"),i=h.get_instance().assets.getAssetData("button_sound_on_down"),e=h.get_instance().assets.getAssetData("button_sound_off_down"),f;f=null==c.align||
""==c.align?"top_right":c.align;O.call(this,{},new na({resize:"fit",align:f},""),0.1,0.1);c.enabled&&(this._buttonSound=this.addChild(new ac({x:0,y:0,tween:a,assetUpString:c.name,assetUpOffString:d.name,assetDownOnString:i.name,assetDownOffString:e.name,alpha:b})),h.get_instance().positionElement(this._buttonSound,f))};m["com.workinman.builders.hidden_object.ui.widgets.WidgetButtonSound"]=bc;bc.__name__="com,workinman,builders,hidden_object,ui,widgets,WidgetButtonSound".split(",");bc.__super__=O;
bc.prototype=v(O.prototype,{dispose:function(){this._buttonSound=null;O.prototype.dispose.call(this)},__class__:bc});var I=m["com.workinman.builders.hidden_object.world._World.WORLD_STATE"]={__ename__:"com,workinman,builders,hidden_object,world,_World,WORLD_STATE".split(","),__constructs__:"_STATE_INITIALIZING,_STATE_START,_STATE_INTRO,_STATE_GAMEPLAY,_STATE_TRANSITION,_STATE_OUTRO,_STATE_END,_STATE_RESULT".split(",")};I._STATE_INITIALIZING=["_STATE_INITIALIZING",0];I._STATE_INITIALIZING.toString=
f;I._STATE_INITIALIZING.__enum__=I;I._STATE_START=["_STATE_START",1];I._STATE_START.toString=f;I._STATE_START.__enum__=I;I._STATE_INTRO=["_STATE_INTRO",2];I._STATE_INTRO.toString=f;I._STATE_INTRO.__enum__=I;I._STATE_GAMEPLAY=["_STATE_GAMEPLAY",3];I._STATE_GAMEPLAY.toString=f;I._STATE_GAMEPLAY.__enum__=I;I._STATE_TRANSITION=["_STATE_TRANSITION",4];I._STATE_TRANSITION.toString=f;I._STATE_TRANSITION.__enum__=I;I._STATE_OUTRO=["_STATE_OUTRO",5];I._STATE_OUTRO.toString=f;I._STATE_OUTRO.__enum__=I;I._STATE_END=
["_STATE_END",6];I._STATE_END.toString=f;I._STATE_END.__enum__=I;I._STATE_RESULT=["_STATE_RESULT",7];I._STATE_RESULT.toString=f;I._STATE_RESULT.__enum__=I;I.__empty_constructs__=[I._STATE_INITIALIZING,I._STATE_START,I._STATE_INTRO,I._STATE_GAMEPLAY,I._STATE_TRANSITION,I._STATE_OUTRO,I._STATE_END,I._STATE_RESULT];var xb=function(a){this._flagStoryResult=!1;this._numHints=this._timerHint=this._time_hint_auto=this._level_penalty=this._countWrong=0;this._dispatcher=Xa.request();this._timeline=a;this._tween=
ya.request();this._inputPos=N.request();this._elementManager=new Fc(this._timeline,480,280,!0);this._elementManager.addLayer(X.BG,!0);this._elementManager.addLayer(X.WORLD,!0);this._elementManager.addLayer(X.FOREGROUND,!0);this._addEventListeners();j.get_instance().stack([s(this,this._initPools),s(this,this._initWorld),s(this,this._onGenerationComplete)]);this._setState(I._STATE_INITIALIZING)};m["com.workinman.builders.hidden_object.world.World"]=xb;xb.__name__="com,workinman,builders,hidden_object,world,World".split(",");
xb.prototype={start:function(){this._setState(I._STATE_START)},dispose:function(){this._tween.dispose();this._tween=null;this._elementManager.dispose();this._timeline=this._elementManager=null;this._removeEventListeners();this._poolManager.dispose();this._state=this._poolManager=null;this._dispatcher.dispose();this._hintElement=this._endLevel=this._hudElementsHint=this._hudElementsTime=this._hudElements=this._hintImage=this._btnHint=this._timerFill=this._loadWidget=this._list=this._objectIdsLeft=
this._objectIdsCurrent=this._objects=this._container=this._game=this._hudBottom=this._hud=this._hintText=this._timerText=this._scoreText=this._levelText=this._bg=this._dispatcher=null;this._inputPos.dispose();this._comboBar=this._flashlight=this._inputPos=null},get_dispatcher:function(){return this._dispatcher},_setState:function(a){this._state=a;switch(a[1]){case 1:h.get_instance().previewStory();ja.get_instance().sendTrackingCall(E.onLevelStart);this._timerHintAuto=this._time_hint_auto;this._flagShowTimer&&
(this._timerText.set_text(this._getTime()),this._timerText.set_originX(0.5));this._showStory();break;case 3:h.get_instance().previewStart();h.get_instance().vo.idleVO({id:"vo_game_idle"});this._enableHintButton();break;case 4:this._btnHint.disable();break;case 5:h.get_instance().vo.clear();if(this._flagGameOver)break;this._flagGameOver=!0;this._gameOver(j.get_instance().getBool(l.BOOL_OBJECTIVE_MET));this._zoomOut();this._bonusHint=this._bonusTime=0;if(j.get_instance().getBool(l.BOOL_OBJECTIVE_MET)&&
(a=this._timer,"time"==h.get_instance().get_curLevel().goal.type&&(a=h.get_instance().get_curLevel().goal.value-this._timer),0!=h.get_instance().get_curLevel().goal.timeBonusMax||0!=h.get_instance().get_curLevel().goal.timeBonusMax))this._bonusTime=a<h.get_instance().get_curLevel().goal.timeBonusMax?this._timeBonusMax:a>h.get_instance().get_curLevel().goal.timeBonusMin?this._timeBonusMin:Math.floor(this._timeBonusMin+(this._timeBonusMax-this._timeBonusMin)*h.get_instance().get_curLevel().goal.timeBonusMax/
a);this._addBonusTime();break;case 6:this._timerEnd=h.get_instance().end_level_timer;break;case 7:h.get_instance().previewResult(),!1==h.get_instance().results_enabled?j.get_instance().setBool(l.BOOL_GAME_WIN,!0):this._transitionToResult()}},update:function(a){if(!0!=j.get_instance().getBool(l.BOOL_PAUSED))switch(this._tween.update(a),this._state[1]){case 0:null!=this._poolManager&&this._poolManager.update(a);break;case 2:this._elementManager.updateElements(a);null!=this._story&&(0<this._timerStoryButtons&&
(this._timerStoryButtons-=a,0>=this._timerStoryButtons&&this._story.glowStart()),0<this._timerStory&&(this._timerStory-=a,0>=this._timerStory&&(this._onEventStoryNextClick(null),this._timerStory=h.get_instance().story_timer)));break;case 3:this._elementManager.updateElements(a);if("time"==h.get_instance().get_curLevel().goal.type){this._timer-=a;if("meter"==h.get_instance().timer_type)this._timerFill.set_scaleX(this._timer/this._timeMax);else{var b=1-this._timer/this._timeMax;0.5>b?this._timerFillRight.set_rotation(360*
b):1==b?this._timerFillLeft.set_alpha(0):(this._timerFillRight.set_alpha(0),this._timerFillLeft.set_rotation(360*b-180))}this._timerText.set_text(this._getTime());this._timerText.set_originX(0.5);0>=this._timer&&(this._timer=0,this._setState(I._STATE_OUTRO))}else this._timer+=a,this._flagShowTimer&&(this._timerText.set_text(this._getTime()),this._timerText.set_originX(0.5));0<this._timerCombo&&(this._timerCombo-=a,0>=this._timerCombo&&(this._combo--,this._timerCombo=0,0!=this._combo&&(this._timerCombo=
h.get_instance().combo_timer)));this._comboBar.updateFills(this._timerCombo/h.get_instance().combo_timer,this._combo);0<this._timerHint&&(this._timerHint-=a,null!=this._btnHint&&this._btnHint.updateFade(this._timerHint),0>=this._timerHint&&this._enableHintButton());0<this._timerHintAuto&&!1==this._flagTransition&&-1==this._hintIdCurrent&&(this._timerHintAuto-=a,0>=this._timerHintAuto&&("normal"==h.get_instance().get_curLevel().hint.autoType?this._showHint(-1,!0):this._highlightHint()));null!=this._hintImage&&
this._hintImage.get_doDelete()&&(this._hintImage=null);break;case 6:this._elementManager.updateElements(a);0<this._timerEnd&&(this._timerEnd-=a,0>=this._timerEnd&&this._onEventEndLevelNextClick(null));break;case 1:case 4:case 7:case 5:this._elementManager.updateElements(a)}},_gameOver:function(a){ja.get_instance().sendTrackingCall(E.onLevelComplete);ja.get_instance().sendTrackingCall(E.onGameOver,{outcome:a?"win":"lose"})},_moreLevels:function(){return j.get_instance().getInt(l.INT_LEVEL)<h.get_instance().get_curGame().levels.length-
1},_getTime:function(){if(this._flagShowTimer){var a=Math.floor(this._timer/60),b=Math.ceil(Math.max(0,this._timer%60)),c="";10>b&&(c+="0");c+=b;return"seconds"==h.get_instance().timer_format||h.get_instance().timer_change_format&&60>this._timer?""+Math.ceil(Math.max(0,this._timer)):a+":"+c}return""},_addBonusTime:function(){var a=this,b=0;0<this._bonusTime&&(h.get_instance().playSound("sfx_bonus_time"),this._game.addChild(new cc({},"bonus_time",this._bonusTime,this._tween)),b=3,this._tempScore=0,
this._tween.tween(this,Math.min(2.5,this._bonusTime/b/100),{_tempScore:this._bonusTime},!1,null,0.25).onUpdate(s(this,this._updateScore)));this._tween.timer(b).onComplete(function(){a._changeScore(a._bonusTime);a._addBonusHint()})},_addBonusHint:function(){var a=this,b;b=0<this._bonusTime?0:3;0<this._bonusHint&&(h.get_instance().playSound("sfx_bonus_hint"),this._game.addChild(new cc({},"bonus_hint",this._bonusHint,this._tween)),b=3,this._tempScore=0,this._tween.tween(this,Math.min(2.5,this._bonusHint/
b/100),{_tempScore:this._bonusHint},!1,null,0.25).onUpdate(s(this,this._updateScore)));this._tween.timer(b).onComplete(function(){a._changeScore(a._bonusHint);a._exitLevel()})},_updateScore:function(){this._scoreText.set_text(j.get_instance().get_localize().getString("hud_score")+" "+(j.get_instance().getInt(l.INT_SCORE)+(this._tempScore|0)))},_changeScore:function(a){j.get_instance().modifyInt(l.INT_SCORE,a);this._scoreText.set_text(j.get_instance().get_localize().getString("hud_score")+" "+j.get_instance().getInt(l.INT_SCORE))},
_addEndLevel:function(){this._endLevel=this._elementManager.addElement(new Hc({},this._tween,this._flagDeductScore),X.WORLD);null!=this._endLevel.get_btnReplay()&&this._endLevel.get_btnReplay().get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventEndLevelReplayClick));null!=this._endLevel.get_btnNext()&&this._endLevel.get_btnNext().get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventEndLevelNextClick));null!=this._endLevel.get_btnMenu()&&this._endLevel.get_btnMenu().get_dispatcher().addEventListener(n.BUTTON_CLICK,
s(this,this._onEventEndLevelMenuClick))},_addResult:function(){this._result=this._elementManager.addElement(new Ic(h.get_instance().get_curGame().results[0],{},this._tween),X.WORLD);null!=this._result.get_btnReplay()&&this._result.get_btnReplay().get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventResultReplayClick));null!=this._result.get_btnNext()&&this._result.get_btnNext().get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventResultNextClick));null!=this._result.get_btnShare()&&
(this._result.get_btnShare().get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventResultShareClick)),this._share=this._elementManager.addElement(new Jc({visible:!1},this._tween),X.WORLD))},_enableHintButton:function(){0<this._hintMax?0<this._numHints&&0>=this._timerHint&&this._btnHint.enable():0>this._hintMax&&0>=this._timerHint&&this._btnHint.enable()},_foundObject:function(a){var b=this;h.get_instance().playSound("sfx_object_found");-1!=this._hintIdCurrent&&this._objectIdsCurrent[a]==
this._hintIdCurrent&&(this._hintIdCurrent=-1,this._enableHintButton(),null!=this._hintImage&&this._hintImage.set_doDelete(!0));this._timerHintAuto=this._time_hint_auto;this._btnHint.glowStop();var c=this._objects[this._objectIdsCurrent[a]];c.set_found(!0);var d=this._list.getSpot(c.get_data()),i=h.get_instance().assetString(c.get_data().id);""!=c.get_data().imageFound&&null!=c.get_data().imageFound&&h.get_instance().assetEnabled(c.get_data().imageFound)&&c.setAsset(null,i=h.get_instance().assets.getAssetData(c.get_data().imageFound).name);
var e;e=h.get_instance().get_curLevel().points*(0<this._combo?2*this._combo:1);switch(h.get_instance().animation_found){case "disappear":c.set_visible(!1);break;case "expand":this._tween.tween(c,0.15,{scale:1.1});for(i=0;4>i;){var f=i++;this._tween.tween(c,0.15,{rotation:j.get_instance().get_random().getRandomInt(10,30)*(0==f%2?-1:1)})}this._tween.tween(c,0.15,{scale:1,rotation:0});break;case "sparkle":c.set_visible(!1);var i=c.get_pos().get_x(),f=c.get_pos().get_y(),d=this._scoreText.get_pos().get_x(),
g=this._hud.get_pos().get_y()+this._scoreText.get_pos().get_y(),l=Math.round(e/(h.get_instance().get_curLevel().points/2));3>l&&(l=3);for(var k=0;k<l;)k++,this._container.addChild(new Kc(h.get_instance().assetParams("score_sparkle",{i:0,x:i,y:f,life:0.5+Math.random(),scale:0.25+0.25*Math.random(),toX:d,toY:g,speed:500,type:dc.MOVE_TO_AND_DIE,tween:this._tween})));break;case "fly":c.set_visible(!1);var f=d.x,d=this._hudBottom.get_pos().get_y()+d.y,m=this._container.addChild(new r({x:c.get_pos().get_x(),
y:c.get_pos().get_y(),assetString:i}));this._tween.tween(m,0.6,{x:f,y:d,scale:0.1},!1,o.EASE_BUMP_IN,0.2).onComplete(function(){m.set_scale(0);m.set_doDelete(!0);m=null})}d=null;switch(h.get_instance().animation_found){case "disappear":this._foundObjectFinish(c,a);break;default:this._tween.timer(1).onComplete(function(){b._foundObjectFinish(c,a)})}this._addScore(e,c);this._timerCombo=h.get_instance().combo_timer;0<this._timerCombo&&4>this._combo&&this._combo++},_foundObjectFinish:function(a,b){"normal"==
h.get_instance().animation_list?this._list.remove(a.get_data()):this._list.addCheckmark(a.get_data());for(var c=0,d=this._objects.length;c<d;){var i=c++;if(this._objects[i].get_data().id==a.get_data().id){b=i;break}}c=0;for(d=this._objectIdsCurrent.length;c<d;)if(i=c++,this._objectIdsCurrent[i]==b){b=i;break}this._objectIdsCurrent.splice(b,1);0<this._objectIdsLeft.length&&(c=Math.floor(Math.random()*this._objectIdsLeft.length),this._objectIdsCurrent.push(this._objectIdsLeft[c]),this._objectIdsLeft.splice(c,
1),"normal"==h.get_instance().animation_list?this._list.add(this._objects[this._objectIdsCurrent[this._objectIdsCurrent.length-1]].get_data()):this._list.queue(this._objects[this._objectIdsCurrent[this._objectIdsCurrent.length-1]].get_data()));0==this._objectIdsCurrent.length&&(j.get_instance().setBool(l.BOOL_OBJECTIVE_MET,!0),this._setState(I._STATE_OUTRO))},_exitLevel:function(){var a=this;this._flagTransition=!0;this._setState(I._STATE_TRANSITION);this._container.flagTweening=!0;this._transitionOut(h.get_instance().animation_transition_out,
this._container).onComplete(function(){a._container.set_visible(!1);a._game.set_doDelete(!0);a._transitionOutLevelFinished()})},_transitionOutLevelFinished:function(){var a=this;this._game=null;this._addEndLevel();this._resize();this._transitionIn(h.get_instance().animation_transition_in,this._endLevel).onComplete(function(){h.get_instance().previewEndLevel();a._bg.setAsset(null,h.get_instance().assetString(h.get_instance().get_curLevel().imagesAlt.get("end_level_gameplay_bg")));h.get_instance().playMusic("music_end_game");
a._endLevel.open();a._transitionComplete();a._setState(I._STATE_END)})},_nextLevel:function(){var a=this;this._flagTransition=!0;this._setState(I._STATE_TRANSITION);this._container.flagTweening=!0;this._transitionOut(h.get_instance().animation_transition_out,this._endLevel).onComplete(function(){a._bg.setAsset(null,h.get_instance().assetString("gameplay_bg"));a._endLevel.set_doDelete(!0);a._endLevel=null;a._transitionOutFinished()})},_transitionOutFinished:function(){var a=this;!1==h.get_instance().get_curGame().levels[j.get_instance().getInt(l.INT_LEVEL)].loaded?
(this._flagLoading=!0,this._loadWidget.tweenIn(!0),this._tween.timer(0.15).onComplete(function(){var b=[];b.push(j.get_instance().getInt(l.INT_LEVEL));a._loadLevels(b,s(a,a._transitionOutFinished))})):(this._container.flagTweening=!1,this._resetLevel(),this._addLevel(),this._resize(),this._container.set_visible(!0),this._container.flagTweening=!0,this._transitionIn(h.get_instance().animation_transition_in,this._container).onComplete(function(){a._container.flagTweening=!1;a._transitionComplete();
a.start()}))},_transitionToResult:function(){var a=this;this._transitionOut(h.get_instance().animation_transition_out,this._endLevel).onComplete(function(){a._endLevel.set_doDelete(!0);a._endLevel=null;a._showStoryResult()})},_transitionInResult:function(){var a=this;this._addResult();this._resize();this._transitionIn(h.get_instance().animation_transition_in,this._result).onComplete(function(){a._result.open();a._transitionComplete()})},_transitionToStart:function(){var a=this;this._transitionOut(h.get_instance().animation_transition_out,
this._endLevel).onComplete(function(){a._bg.setAsset(null,h.get_instance().assetString("gameplay_bg"));a._endLevel.set_doDelete(!0);a._endLevel=null;a._loadWidget.tweenIn(!0);a._tween.timer(0.15).onComplete(function(){for(var b=[],c=0;5>c;){var d=c++;b.push(d)}a._loadLevels(b,s(a,a._transitionToStartFinish))})})},_transitionToStartFinish:function(){var a=this;this._addLevel();this._container.set_visible(!1);this._container.flagTweening=!1;this._resize();this._container.flagTweening=!0;this._transitionIn(h.get_instance().animation_transition_in,
this._container).onComplete(function(){a._container.flagTweening=!1;a._transitionComplete();a._setState(I._STATE_START)})},_transitionIn:function(a,b,c){null==c&&(c=!0);b.set_alpha(0);switch(a){case "slide":return w.easeSlideInFromDir(b,this._tween,c?L.RIGHT:L.LEFT);case "slam":return w.easeSlamInFromDir(b,this._tween,c?L.RIGHT:L.LEFT);case "bounce":return w.easeBounceIn(b,this._tween,!0,0,!0);case "fade":return b.set_visible(!0),this._tween.tween(b,0.15,{alpha:1},!1,null);case "none":return this._tween.timer(0).onComplete(function(){b.set_visible(!0);
b.set_alpha(1)}),this._tween.timer(0);default:return null}},_transitionOut:function(a,b,c){null==c&&(c=!0);switch(a){case "slide":return w.easeSlideOutToDir(b,this._tween,c?L.LEFT:L.RIGHT);case "slam":return w.easeSlideOutToDir(b,this._tween,c?L.LEFT:L.RIGHT);case "bounce":return w.easeBounceOut(b,this._tween,!1,0,!0);case "fade":return this._tween.tween(b,0.15,{alpha:0});case "none":return this._tween.timer(0.1);default:return null}},_transitionComplete:function(){this._flagTransition=!1},_loadLevels:function(a,
b){for(var c=this,d=[],i=0;i<a.length;){var e=a[i];++i;e<h.get_instance().get_curGame().levels.length&&d.push(h.get_instance().get_curGame().levels[e].manifestID)}j.get_instance().get_assets().load(function(){c._afterLevelsLoaded(a,b)},null,null,d);d=null},_afterLevelsLoaded:function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d<h.get_instance().get_curGame().levels.length&&(h.get_instance().get_curGame().levels[d].loaded=!0,null)}this._loadWidget.tweenOut();this._flagLoading=!1;this._tween.timer(0.15).onComplete(function(){b()})},
_addScore:function(a,b){j.get_instance().modifyInt(l.INT_SCORE,a);this._scoreText.set_text(j.get_instance().get_localize().getString("hud_score")+" "+j.get_instance().getInt(l.INT_SCORE));this._container.addChild(new Lc({x:b.get_x(),y:b.get_y()},a,0==this._combo?-1:h.get_instance().combo_fill_colors[this._combo-1]))},_countPenalty:function(a,b){var c=this;h.get_instance().playSound("sfx_bad_click");this._container.addChild(new Mc(h.get_instance().assetParams("bad_click",{x:(a-this._container.get_pos().get_x())/
this._container.get_scale(),y:(b-this._container.get_pos().get_y())/this._container.get_scale()})));this._countWrong++;switch(this._countWrong){case 1:h.get_instance().vo.playVO({id:"vo_wrong1"},!0);break;case 2:case 3:var d=this._randomObjectId(),d=-1==this._hintIdCurrent?this._objectIdsCurrent[d]:this._hintIdCurrent;if(2==this._countWrong)h.get_instance().vo.playVO({id:this._objects[d].get_data().idVOWrong2},!0);else{if(null!=this._flashlight&&""!=this._objects[d].get_data().idVOWrong3){this._flagTransition=
!0;var i=this._flashlight.get_mouseX(),e=this._flashlight.get_mouseY();this._tween.tween(this._flashlight,0.2,{mouseX:this._objects[d].get_x(),mouseY:this._objects[d].get_y()});this._tween.timer(1).onComplete(function(){c._flashlight.set_mouseX(i);c._flashlight.set_mouseY(e);c._flagTransition=!1})}h.get_instance().vo.playVO({id:this._objects[d].get_data().idVOWrong3,element:this._objects[d]},!0)}}this._countWrong>=h.get_instance().get_curLevel().penalty.count&&(this._countWrong=0,this._delayStart())},
_timePenalty:function(){0>=this._level_penalty||(this._timer-=this._level_penalty,this._container.addChild(new Nc({x:0,y:0},this._level_penalty,this._tween)))},_delayStart:function(){0>=this._level_penalty||(this._flagTransition=!0,this._container.addChild(new Oc({x:0,y:0},this._level_penalty,this._tween)),this._btnHint.disable())},_delayStop:function(){this._enableHintButton();this._flagTransition=!1},_scorePenalty:function(){0>=this._level_penalty||(j.get_instance().modifyInt(l.INT_SCORE,-this._level_penalty),
this._scoreText.set_text(j.get_instance().get_localize().getString("hud_score")+" "+j.get_instance().getInt(l.INT_SCORE)),this._game.addChild(new Pc({x:0,y:0},this._level_penalty)))},_resetLevel:function(){j.get_instance().setInt(l.INT_SCORE,0);this._scoreText.set_text(j.get_instance().get_localize().getString("hud_score")+" "+j.get_instance().getInt(l.INT_SCORE));j.get_instance().setBool(l.BOOL_OBJECTIVE_MET,!1);this._timer=0;this._hintIdCurrent=-1;this._timerHint=this._countWrong=this._timerCombo=
this._combo=0;this._timerHintAuto=this._time_hint_auto;this._btnHint.glowStop();this._flagGameOver=this._flagDeductScore=!1;null!=this._hintImage&&(this._hintImage.set_doDelete(!0),this._hintImage=null);null!=this._timerFill?this._timerFill.set_scale(1):(this._timerFillLeft.set_alpha(1),this._timerFillLeft.set_rotation(0),this._timerFillRight.set_alpha(1),this._timerFillRight.set_rotation(0));this._comboBar.updateFills(0,0);for(var a=0,b=this._hudElementsTime;a<b.length;){var c=b[a];++a;c.get_pos().set_x(0);
c.get_pos().set_y(0)}},_showHint:function(a,b){null==b&&(b=!1);null==a&&(a=-1);var c=Math.floor(Math.random()*this._objectIdsCurrent.length),c=-1==a?this._objectIdsCurrent[c]:a;switch(b?h.get_instance().animation_auto_hint:h.get_instance().animation_hint){case "wiggle":h.get_instance().playSound("sfx_hint_wiggle");this._objects[c].wiggle(this._tween);break;default:var d="";this._objects[c].get_pos().get_y()<this._hud.get_pos().get_y()+this._hud.get_heightMax()&&(d="top");this._objects[c].get_pos().get_x()>
this._game.get_widthMax()/2-100&&(d="right",this._objects[c].get_pos().get_y()>this._hudBottom.get_pos().get_y()-this._hudBottom.get_heightMax()-50&&(d="bottom"));this._hintImage=this._game.addChild(new Qc(b?h.get_instance().animation_auto_hint:h.get_instance().animation_hint,this._objects[c],this._tween,-1==a?5:0,d))}},_highlightHint:function(){this._btnHint.get_enabled()&&(this._timerHintAuto=this._time_hint_auto,this._btnHint.glowStart())},_zoom:function(){h.get_instance().can_zoom&&(this._flagZoomedIn?
this._zoomOut():this._zoomIn())},_zoomIn:function(){h.get_instance().can_zoom&&!this._flagZoomedIn&&(this._flagZoomedIn=!0,this._game.flagTweening=!0,this._tween.tween(this._game,0.15,{scale:1.2},!0,o.EASE_IN))},_zoomOut:function(){var a=this;h.get_instance().can_zoom&&this._flagZoomedIn&&(this._flagZoomedIn=!1,this._tween.tween(this._game,0.15,{scale:1,x:0,y:0},!0,o.EASE_OUT).onComplete(function(){a._game.flagTweening=!1}))},_addEventListeners:function(){j.get_instance().get_input().addDelegateListener(s(this,
this._onInput));j.get_instance().get_dispatcher().addEventListener(n.PAUSE,s(this,this._onPause));j.get_instance().get_dispatcher().addEventListener(n.UNPAUSE,s(this,this._onUnpause));j.get_instance().get_dispatcher().addEventListener(n.RESIZE_CANVAS,s(this,this._onEventResizeCanvas));j.get_instance().get_dispatcher().addEventListener(n.STOP_FREEZE,s(this,this._onStopFreeze));j.get_instance().get_dispatcher().addEventListener(n.PREVIEW_QUESTION,s(this,this._onEventPreviewQuestion));j.get_instance().get_dispatcher().addEventListener(n.PREVIEW_RESULT,
s(this,this._onEventPreviewResult));j.get_instance().get_dispatcher().addEventListener(n.PREVIEW_WIN,s(this,this._onEventPreviewWin));j.get_instance().get_dispatcher().addEventListener(n.PREVIEW_LOSE,s(this,this._onEventPreviewLose));j.get_instance().get_dispatcher().addEventListener(n.SHARE_CLOSE,s(this,this._onEventShareClose))},_removeEventListeners:function(){j.get_instance().get_input().removeDelegateListener(s(this,this._onInput));j.get_instance().get_dispatcher().removeEventListener(n.PAUSE,
s(this,this._onPause));j.get_instance().get_dispatcher().removeEventListener(n.UNPAUSE,s(this,this._onUnpause));j.get_instance().get_dispatcher().removeEventListener(n.RESIZE_CANVAS,s(this,this._onEventResizeCanvas));j.get_instance().get_dispatcher().removeEventListener(n.STOP_FREEZE,s(this,this._onStopFreeze));j.get_instance().get_dispatcher().removeEventListener(n.PREVIEW_QUESTION,s(this,this._onEventPreviewQuestion));j.get_instance().get_dispatcher().removeEventListener(n.PREVIEW_RESULT,s(this,
this._onEventPreviewResult));j.get_instance().get_dispatcher().removeEventListener(n.PREVIEW_WIN,s(this,this._onEventPreviewWin));j.get_instance().get_dispatcher().removeEventListener(n.PREVIEW_LOSE,s(this,this._onEventPreviewLose));j.get_instance().get_dispatcher().removeEventListener(n.SHARE_CLOSE,s(this,this._onEventShareClose))},_onPause:function(){this._pause()},_onUnpause:function(){this._unpause()},_pause:function(){j.get_instance().setBool(l.BOOL_PAUSED,!0)},_unpause:function(){j.get_instance().setBool(l.BOOL_PAUSED,
!1)},_onEventResizeCanvas:function(){this._resize()},_onStopFreeze:function(){this._delayStop()},_onEventPreviewQuestion:function(a){this._state==I._STATE_END&&(j.get_instance().setInt(l.INT_LEVEL,a.get_data().get("question")-1),this._nextLevel(),h.get_instance().playMusic("music_gameplay"))},_onEventPreviewResult:function(){this._state==I._STATE_END&&this._setState(I._STATE_RESULT)},_onEventPreviewWin:function(){this._state==I._STATE_GAMEPLAY&&(j.get_instance().setBool(l.BOOL_OBJECTIVE_MET,!0),this._setState(I._STATE_OUTRO))},
_onEventPreviewLose:function(){this._state==I._STATE_GAMEPLAY&&(j.get_instance().setBool(l.BOOL_OBJECTIVE_MET,!1),this._setState(I._STATE_OUTRO))},_resize:function(){null!=this._popup&&this._popup.resize();null!=this._bg&&this._bg.resize();if(null!=this._story){this._story.resize();var a=Math.min(q.get_CANVAS_WIDTH()/this._story.get_scale(),this._story.get_originalWidth()),b=Math.min(q.get_CANVAS_HEIGHT()/this._story.get_scale(),this._story.get_originalHeight());a>this._story.get_pageWidth()&&(a=
this._story.get_pageWidth());b>this._story.get_pageHeight()&&(b=this._story.get_pageHeight());null!=this._story.get_btnNext()&&this._story.get_btnNext().get_pos().to(a/2-this._story.get_btnNext().get_width()/2-h.get_instance().spacing,b/2-this._story.get_btnNext().get_height()/2-h.get_instance().spacing);null!=this._story.get_btnSkip()&&this._story.get_btnSkip().get_pos().to(-a/2+this._story.get_btnSkip().get_width()/2+h.get_instance().spacing,b/2-this._story.get_btnSkip().get_height()/2-h.get_instance().spacing)}null!=
this._container&&null!=this._hud&&null!=this._hudBottom&&null!=this._game&&(this._hud.get_pos().to(0,-this._game.get_heightMax()/2+this._hud.get_heightMax()/2),this._hudBottom.get_pos().to(0,this._game.get_heightMax()/2-this._hudBottom.get_heightMax()/2),this._container.resize(),Math.min(q.get_CANVAS_WIDTH()/this._container.get_scale(),this._originalWidth),a=Math.min(q.get_CANVAS_HEIGHT()/this._container.get_scale(),this._originalHeight),this._hud.get_pos().to(0,-a/2+this._hud.get_heightMax()/2),
this._hudBottom.get_pos().to(0,a/2-this._hudBottom.get_heightMax()/2));null!=this._endLevel&&(this._endLevel.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_CENTER_Y()),this._endLevel.resize());null!=this._result&&(this._result.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_CENTER_Y()),this._result.resize());null!=this._share&&(this._share.get_pos().to(q.get_CANVAS_CENTER_X(),q.get_CANVAS_CENTER_Y()),this._share.resize());null!=this._loadWidget&&this._loadWidget.get_pos().to(q.get_CANVAS_CENTER_X(),
q.get_CANVAS_CENTER_Y())},_onEventStorySkipClick:function(){this._story.glowStop();this._timerStoryButtons=h.get_instance().story_timer_buttons;this._finishStory()},_onEventStoryNextClick:function(){var a=this;this._story.glowStop();this._timerStoryButtons=h.get_instance().story_timer_buttons;this._story.hasMorePages()?(this._story.disableButtons(),this._transitionOut(h.get_instance().animation_transition_out,this._story.getPage(0)).onComplete(function(){a._transitionIn(h.get_instance().animation_transition_in,
a._story.getPage(1)).onComplete(function(){a._story.nextPage();a._story.enableButtons()})})):this._finishStory()},_onEventResultReplayClick:function(){Za.sendCanadaTrackingCall("replay");ja.get_instance().sendTrackingCall(E.onPlayAgain);this._result.close();this._result.disableButtons();q.dispatchFlowEvent(p.LEVEL_SELECT)},_onEventResultNextClick:function(){this._result.close();this._result.disableButtons();j.get_instance().setBool(l.BOOL_GAME_WIN,!0);this._flagTransition=!0},_onEventResultShareClick:function(){this._result.voPause();
this._share.show()},_onEventShareClose:function(){this._result.voPlay()},_onEventEndLevelReplayClick:function(){this._timerEnd=0;this._endLevel.disableButtons();this._transitionToStart();h.get_instance().playMusic("music_gameplay")},_onEventEndLevelNextClick:function(){this._timerEnd=0;this._endLevel.disableButtons();j.get_instance().getInt(l.INT_LEVEL)<h.get_instance().get_curGame().levels.length-1?(j.get_instance().modifyInt(l.INT_LEVEL,1),this._nextLevel(),h.get_instance().playMusic("music_gameplay")):
this._setState(I._STATE_RESULT)},_onEventEndLevelMenuClick:function(){this._timerEnd=0;q.dispatchFlowEvent(p.LEVEL_SELECT)},_onEventHintClick:function(){if(!(j.get_instance().getBool(l.BOOL_OBJECTIVE_MET)||null!=this._hintImage)){this._timerHintAuto=this._time_hint_auto;this._btnHint.glowStop();if(0<this._hintMax){if(0>=this._numHints)return;this._numHints--;this._hintText.set_text(j.get_instance().get_localize().getString("hud_hint")+" "+this._numHints+"/"+this._hintMax);this._timerHint=h.get_instance().get_curLevel().hint.cooldown}else if(0>
this._hintMax)this._numHints++,this._timerHint=h.get_instance().get_curLevel().hint.cooldown;else return;this._flagDeductScore=!0;var a=this._randomObjectId();-1!=a&&(a=this._hintIdCurrent=this._objectIdsCurrent[a],h.get_instance().vo.playVO({id:"vo_hint"},!0),this._showHint(a),this._btnHint.disable())}},_randomObjectId:function(){for(var a=[],b=0,c=this._objectIdsCurrent.length;b<c;){var d=b++;this._objects[this._objectIdsCurrent[d]].get_found()||a.push(d)}return 0==a.length?-1:a[Math.floor(Math.random()*
a.length)]},_onInput:function(a,b,c,d,i,e,f){if(!j.get_instance().getBool(l.BOOL_PAUSED)&&!(this._state==I._STATE_INITIALIZING||this._flagTransition||this._flagLoading))if(h.get_instance().vo.resetIdleTimer(),!wb.clickedHud)switch(b[1]){case 59:this._flagMouseDown=!1;j.get_instance().getBool(l.BOOL_TOUCH_DEVICE)||this._zoom();break;case 60:this._flagMouseDown=!1;j.get_instance().getBool(l.BOOL_TOUCH_DEVICE)&&this._zoomOut();this._flagMouseDown=!1;break;case 61:j.get_instance().getBool(l.BOOL_TOUCH_DEVICE)&&
this._zoomIn();break;case 0:switch(a[1]){case 0:this._flagMouseDown=!0;switch(this._state[1]){case 3:this._gameStartPosX=this._game.get_pos().get_x(),this._gameStartPosY=this._game.get_pos().get_y()}break;case 2:switch(this._state[1]){case 3:if(this._flagMouseDown&&this._flagZoomedIn){var c=j.get_instance().get_input().get_pointer().get_currentPos().get_x()-j.get_instance().get_input().get_pointer().get_originPos().get_x()+this._gameStartPosX,d=j.get_instance().get_input().get_pointer().get_currentPos().get_y()-
j.get_instance().get_input().get_pointer().get_originPos().get_y()+this._gameStartPosY,g=(this._game.get_widthMax()*this._game.get_scale()-this._game.get_widthMax())/2,k=(this._game.get_heightMax()*this._game.get_scale()-this._game.get_heightMax())/2,c=Bb.clamp(c,-g,g),d=Bb.clamp(d,-k,k);this._game.get_pos().to(c,d)}null!=this._flashlight&&(this._game.getViewMatrix().inverseTransform(i,e,this._inputPos),this._flashlight.onInput(a,b,this._inputPos.get_x(),this._inputPos.get_y(),i,e,f))}break;case 1:switch(this._state[1]){case 2:this._flagPopupReady&&
(this._tween.stop(this._popup),this._closeObjective());break;case 3:if(!this._container.intersects(c,d)||this._hud.contains(i,e)||this._btnHint.contains(i,e))return;if(this._hudBottom.contains(i,e)){i=this._hudBottom.get_scaleX()*this._container.get_scaleX();e=this._hudBottom.get_scaleY()*this._container.get_scaleY();a=0;for(b=this._list.get_spots().length;a<b;)f=a++,this._list.spotContains(f,c-this._container.get_x()-this._hudBottom.get_x()*i,d-this._container.get_y()-this._hudBottom.get_y()*e,i,
e)&&this._list.playVO(f);return}if(30<j.get_instance().get_input().get_pointer().get_line().get_length())return;a=!1;b=0;for(f=this._objectIdsCurrent.length;b<f;)if(g=b++,!this._objects[this._objectIdsCurrent[g]].get_found()&&this._objects[this._objectIdsCurrent[g]].contains(i,e)){a=!0;this._foundObject(g);break}!a&&!1==this._flagTransition&&(this._flagDeductScore=!0,this._combo=0,"count"==h.get_instance().get_curLevel().penalty.type?this._countPenalty(c,d):"time"==h.get_instance().get_curLevel().goal.type?
this._timePenalty():this._scorePenalty())}this._flagMouseDown=!1}}},_initPools:function(){j.get_instance().setInt(l.INT_LOADING_PROGRESS,100);j.get_instance().pauseStack();j.get_instance().get_dispatcher().addEventListener(n.ALL_POOLS_FULL,s(this,this._onEventInitPoolComplete));this._poolManager=new Dd},_onEventInitPoolComplete:function(){j.get_instance().get_dispatcher().removeEventListener(n.ALL_POOLS_FULL,s(this,this._onEventInitPoolComplete));j.get_instance().unpauseStack()},_initWorld:function(){var a=
h.get_instance().assets.getAssetData("gameplay_bg");this._bg=this._elementManager.addElement(new O({assetString:a.name},h.get_instance().assets.getAssetData("gameplay_bg"),1,1,1),X.BG);this._flagMouseDown=this._flagZoomedIn=this._flagLoading=this._flagTransition=!1;this._container=this._elementManager.addElement(new O({},new na({resize:"fit_to",align:"center"},""),1,1,1),X.WORLD);this._hud=this._container.addChild(new O(h.get_instance().assetParams("hud_top",{}),new na({resize:"fit",align:"top"},
""),1,1,1));this._hud.get_height();var b=this._hud.get_width();this._hudElements=[];this._hudElementsTime=[];this._hudElementsHint=[];this._levelText=this._hud.addChild(new J({},h.get_instance().text.get("hud_level")));this._levelText.set_text(j.get_instance().get_localize().getString("hud_level")+" "+(j.get_instance().getInt(l.INT_LEVEL)+1));this._hudElements.push(this._levelText);this._scoreText=this._hud.addChild(new J({},h.get_instance().text.get("hud_score")));this._scoreText.set_text(j.get_instance().get_localize().getString("hud_score")+
" "+j.get_instance().getInt(l.INT_SCORE));this._hudElements.push(this._scoreText);this._timerText=new J({},h.get_instance().text.get("hud_timer_value"));this._timerText.set_text("");a=new r(h.get_instance().assetParams("meter"==h.get_instance().timer_type?"timer_bg":"stopwatch_bg",{}));h.get_instance().colorMaskElement(a,h.get_instance().timer_bg_color);var c=new r(h.get_instance().assetParams("meter"==h.get_instance().timer_type?"timer_frame":"stopwatch_frame",{}));h.get_instance().colorMaskElement(c,
h.get_instance().timer_frame_color);if("meter"==h.get_instance().timer_type)this._timerFill=new sa({color:h.get_instance().timer_fill_color,width:Math.floor(a.get_width()),height:Math.floor(a.get_height()),originX:0,x:-Math.floor(a.get_width()/2)}),0<a.get_width()?(a.addChild(this._timerFill),a.addChild(c),a.addChild(this._timerText),this._hud.addChild(a),this._hudElements.push(a),this._hudElementsTime.push(a)):(this._hud.addChild(this._timerText),this._hudElements.push(this._timerText),this._hudElementsTime.push(this._timerText));
else{var b=this._hud.addChild(new r({x:-b/2})),d=new r({x:0,y:0}),i=new r({x:0,y:0});this._timerFillRight=new r({x:0,y:0});this._timerFillLeft=new r({x:0,y:0});this._createTimeHalf(d,a,h.get_instance().timer_bg_color,!1);this._createTimeHalf(i,a,h.get_instance().timer_bg_color,!0,1);this._createTimeHalf(this._timerFillRight,a,h.get_instance().timer_fill_color,!1,1);this._createTimeHalf(this._timerFillLeft,a,h.get_instance().timer_fill_color);b.addChild(a);b.addChild(i);b.addChild(this._timerFillLeft);
b.addChild(d);b.addChild(this._timerFillRight);b.addChild(c);b.addChild(this._timerText);this._hudElementsTime.push(b);this._timerHeight=Math.max(a.get_height(),c.get_height());this._timerWidth=Math.max(a.get_width(),c.get_width())}this._hintText=this._hud.addChild(new J({},h.get_instance().text.get("hud_hint")));this._hintText.set_text("");a=h.get_instance().assetString("button_hint_disabled");""==a&&(a=h.get_instance().assetString("button_hint"));this._btnHint=this._hud.addChild(new Rc(h.get_instance().assetParams("button_hint",
{tween:this._tween,assetDisabledString:a},!0,"button_hint_down")));this._btnHint.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventHintClick));this._hintElement=this._hud.addChild(new Sc({}));this._hintElement.addChild(this._hintText);this._hintElement.addChild(this._btnHint);this._hintElement.getMaxSize();this._hudElementsHint.push(this._hintElement);this._hudElements.push(this._hintElement);this._comboBar=this._hud.addChild(new Tc({}));this._hudElements.push(this._comboBar);a=
this._getTotalWidth(this._hudElements);this._hudElements[0].get_pos().set_x(-(a/2)+this._hudElements[0].get_width()/2);a=1;for(c=this._hudElements.length;a<c;)b=a++,this._hudElements[b].get_pos().set_x(this._hudElements[b-1].get_pos().get_x()+this._hudElements[b-1].get_width()/2+this._hudElements[b].get_width()/2+h.get_instance().ui_spacing);this._hudBottom=this._container.addChild(new O(h.get_instance().assetParams("hud_bottom",{}),new na({resize:"fit",align:"bottom"},""),1,1,1));this._hudBottom.getMaxSize();
this._list=this._hudBottom.addChild(new Uc({},this._hudBottom.get_widthMax(),this._hudBottom.get_heightMax()));this._addLevel();this._loadWidget=this._elementManager.addElement(new Ab({tween:this._tween,x:q.get_CANVAS_CENTER_X(),y:q.get_CANVAS_CENTER_Y(),visible:!1}),X.FOREGROUND);this._resize()},_createTimeHalf:function(a,b,c,d,i){null==i&&(i=0);null==d&&(d=!0);var e=Ha.request(z.get_instance().get_renderer().createTexture(Math.floor(Math.min(2048,b.get_width())),Math.floor(Math.min(2048,b.get_height()))));
d?e.get_texture().get_graphics().fillRect(c,-i,0,e.get_texture().get_width()/2+i,e.get_texture().get_height()):e.get_texture().get_graphics().fillRect(c,e.get_texture().get_width()/2-i,0,e.get_texture().get_width()/2+i,e.get_texture().get_height());e.get_texture().get_graphics().setBlendMode(S.Mask);e.get_texture().get_graphics().drawTexture(b.get_rect().get_texture(),0,0);e.get_texture().get_graphics().setBlendMode(S.Normal);a.set_rect(e)},_getTotalWidth:function(a){for(var b=0,c=0,d=a.length;c<
d;){var i=c++;0!=(a[i]._flags&1)&&(b+=a[i].get_width()+(i==a.length-1?0:h.get_instance().ui_spacing))}return b},_addLevel:function(){this._resetLevel();"time"==h.get_instance().get_curLevel().goal.type&&(this._timer=h.get_instance().get_curLevel().goal.value);this._timeMax=this._timer;this._flagShowTimer=!0;"score"==h.get_instance().get_curLevel().goal.type&&(this._flagShowTimer=h.get_instance().get_curLevel().goal.showTimer);for(var a=0,b=this._hudElementsTime;a<b.length;){var c=b[a];++a;c.set_visible(this._flagShowTimer)}this._game=
this._container.addChild(new O({}),!1);this._objects=[];a=[];b=null;b=h.get_instance().get_curLevel().imageBG;this._game.addChild(new r(h.get_instance().assetParams(b.image,{})));this._game.getMaxSize();this._game.scissor=Ka.request(-this._game.get_widthMax()/2,-this._game.get_heightMax()/2,this._game.get_widthMax(),this._game.get_heightMax());this._originalWidth=this._game.get_widthMax();this._originalHeight=this._game.get_heightMax();0!=b.safeWidth&&b.safeWidth<this._originalWidth&&this._game.set_widthMax(b.safeWidth);
0!=b.safeHeight&&b.safeHeight<this._originalHeight&&this._game.set_heightMax(b.safeHeight);this._hud.getMaxSize();this._game.get_pos().to(0,0);this._hud.get_pos().to(0,-this._game.get_heightMax()/2+this._hud.get_heightMax()/2);this._hudBottom.get_pos().to(0,this._game.get_heightMax()/2-this._hudBottom.get_heightMax()/2);this._flagShowTimer&&"stopwatch"==h.get_instance().timer_type&&(""==h.get_instance().assetString("hud_top")?(b=this._hud,b.set_widthMax(b.get_widthMax()+2*this._timerWidth),this._hudElementsTime[0].get_pos().set_x(-this._hud.get_widthMax()/
2)):(this._hudElementsTime[0].get_pos().set_x(-this._hud.get_widthMax()/2),b=this._hud,b.set_widthMax(b.get_widthMax()+this._timerWidth)),this._hudElementsTime[0].get_pos().set_y(-this._hud.get_heightMax()/2+this._timerHeight/2));for(var d=0,i=h.get_instance().get_curLevel().images;d<i.length;)b=i[d],++d,c=b.id,""==c||null==c?(c=b.image,this._game.addChild(new r(h.get_instance().assetParams(c,{})))):(b=new ec(h.get_instance().assetParams(c,{})),this._objects.push(b),a.push(c));c=0;for(d=h.get_instance().get_curLevel().objects;c<
d.length;)i=d[c],++c,-1==lb.indexOf(a,i.id)?(b=new ec({x:i.rect.x,y:i.rect.y},i.rect.w,i.rect.h,!1),this._objects.push(b),a.push(i.id)):b=this._objects[lb.indexOf(a,i.id)],b.set_data(i);b=Q.get_instance().get_currentWorld().getLevelProgress(j.get_instance().getInt(l.INT_LEVEL)).completion;a=h.get_instance().get_curLevel().type;if("levels"==h.get_instance().get_curLevel().type.name){c=Math.POSITIVE_INFINITY;d=0;for(i=h.get_instance().get_curLevel().type.types;d<i.length;){var e=i[d];++d;e.stars<=b&&
Math.abs(e.stars-b)<c&&(a=e,c=Math.abs(e.stars-b))}}if(a.randomPosition){b=[];c=0;for(d=this._objects.length;c<d;)i=c++,b.push({x:this._objects[i].get_x(),y:this._objects[i].get_y()});b=q.shuffleArray(b);c=0;for(d=b.length;c<d;)i=c++,this._objects[i].get_pos().to(b[i].x,b[i].y)}this._objectIdsLeft=[];if("random"==a.name){b=a.value;d=0;c=[];d=0;for(i=this._objects.length;d<i;)e=d++,c.push(e);for(;this._objectIdsLeft.length<b;)if(d=Math.floor(Math.random()*c.length),"levels"==h.get_instance().get_curLevel().type.name&&
this._objects[c[d]].get_data().stars>a.stars)c.splice(d,1);else if(-1==lb.indexOf(this._objectIdsLeft,c[d])&&(this._objectIdsLeft.push(c[d]),c.splice(d,1)),0==c.length)break}else{a=0;for(b=this._objects.length;a<b;)this._objectIdsLeft.push(a++)}if(h.get_instance().hide_unused_images){a=0;for(b=this._objectIdsLeft;a<b.length;)c=b[a],++a,this._game.addChild(this._objects[c])}else{a=0;for(b=this._objects;a<b.length;)c=b[a],++a,this._game.addChild(c)}this._flashlight=null;h.get_instance().get_curLevel().flashlight&&
(this._flashlight=this._game.addChild(new Vc({x:-this._originalWidth/2,y:-this._originalHeight/2,origin:0.5},this._originalWidth,this._originalHeight)));this._objectIdsCurrent=[];a=h.get_instance().list_num_rows*h.get_instance().list_num_cols;for(c=b=0;c<a&&!(c++,b=Math.floor(Math.random()*this._objectIdsLeft.length),this._objectIdsCurrent.push(this._objectIdsLeft[b]),this._objectIdsLeft.splice(b,1),0==this._objectIdsLeft.length););this._list.clear();a=[];b=0;for(c=this._objectIdsCurrent;b<c.length;)d=
c[b],++b,a.push(this._objects[d].get_data());this._list.updateSpots(a);this._levelText.set_text(j.get_instance().get_localize().getString("hud_level")+" "+(j.get_instance().getInt(l.INT_LEVEL)+1));"limited"==h.get_instance().get_curLevel().hint.type?(this._numHints=this._hintMax=h.get_instance().get_curLevel().hint.value,this._hintText.set_text(j.get_instance().get_localize().getString("hud_hint")+" "+this._numHints+"/"+this._hintMax)):"unlimited"==h.get_instance().get_curLevel().hint.type?(this._numHints=
0,this._hintMax=-1,this._hintText.set_text(j.get_instance().get_localize().getString("hud_hint"))):this._numHints=this._hintMax=0;this._time_hint_auto=h.get_instance().get_curLevel().hint.auto;this._level_penalty=h.get_instance().get_curLevel().penalty.value;if(0!=this._hintMax)a=this._hintText.get_width()+h.get_instance().spacing+this._btnHint.get_width(),this._hintText.get_pos().set_x(-a/2+this._hintText.get_width()/2),this._btnHint.get_pos().set_x(a/2-this._btnHint.get_width()/2),this._hintElement.getMaxSize();
else{a=0;for(b=this._hudElementsHint;a<b.length;)c=b[a],++a,c.set_visible(!1)}a=[];b=0;for(c=this._hudElements.length;b<c;)d=b++,0!=(this._hudElements[d]._flags&1)&&a.push(d);b=this._getTotalWidth(this._hudElements);this._hudElements[0].get_pos().set_x(-(b/2)+this._hudElements[0].get_width()/2);b=1;for(c=a.length;b<c;)d=b++,this._hudElements[a[d]].get_pos().set_x(this._hudElements[a[d-1]].get_pos().get_x()+this._hudElements[a[d-1]].get_width()/2+this._hudElements[a[d]].get_width()/2+h.get_instance().ui_spacing);
if(h.get_instance().timer_position.enabled){a=0;for(b=this._hudElementsTime;a<b.length;)c=b[a],++a,c.set_x(h.get_instance().timer_position.x),c.set_y(h.get_instance().timer_position.y)}a=this._objectIdsCurrent.length+this._objectIdsLeft.length;this._timeBonusMax=h.get_instance().time_bonus_max;this._timeBonusMin=h.get_instance().time_bonus_min;b=0;if(0!=h.get_instance().get_curLevel().goal.timeBonusMax||0!=h.get_instance().get_curLevel().goal.timeBonusMax)b=this._timeBonusMax;a=0<h.get_instance().get_curLevel().goldScore?
h.get_instance().get_curLevel().goldScore:Math.floor(a*h.get_instance().get_curLevel().points+0+b);j.get_instance().setInt(l.INT_SCORE_GOLD,a);this._addStory()},_curLevelIsGameStart:function(){return 0==j.get_instance().getInt(l.INT_LEVEL)},_canAddStory:function(){if(this._flagStoryResult)return 0!=h.get_instance().get_curGame().storyEnd.length;if(0==h.get_instance().get_curLevel().story.length)if(this._curLevelIsGameStart()){if(0==h.get_instance().get_curGame().story.length)return!1}else return!1;
return!0},_addStory:function(){if(this._canAddStory()){var a;a=this._flagStoryResult?h.get_instance().get_curGame().storyEnd:h.get_instance().get_curLevel().story;this._story=this._elementManager.addElement(new Wc(a,{},this._tween,this._curLevelIsGameStart()),X.WORLD);null!=this._story.get_btnSkip()&&this._story.get_btnSkip().get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventStorySkipClick));null!=this._story.get_btnNext()&&this._story.get_btnNext().get_dispatcher().addEventListener(n.BUTTON_CLICK,
s(this,this._onEventStoryNextClick));this._resize()}},_showStory:function(){this._flagStoryResult=!1;this._canAddStory()?(this._timerStory=h.get_instance().story_timer,this._timerStoryButtons=h.get_instance().story_timer_buttons,this._setState(I._STATE_INTRO),this._container.set_alpha(0),this._story.showPage()):this._announceObjective()},_finishStory:function(){var a=this;this._story.stopSounds();this._story.glowStop();this._story.disableButtons();this._transitionOut(h.get_instance().animation_transition_out,
this._story).onComplete(function(){a._story.set_doDelete(!0);a._story=null;if(a._flagStoryResult)a._transitionInResult();else a._transitionIn(h.get_instance().animation_transition_in,a._container).onComplete(function(){a._announceObjective()})})},_showStoryResult:function(){var a=this;this._flagStoryResult=!0;this._canAddStory()?(this._addStory(),this._timerStory=h.get_instance().story_timer,this._timerStoryButtons=h.get_instance().story_timer_buttons,this._setState(I._STATE_INTRO),this._container.set_alpha(0),
this._transitionIn(h.get_instance().animation_transition_in,this._story).onComplete(function(){a._story.showPage()})):this._transitionInResult()},_announceObjective:function(){var a=this,b=h.get_instance().get_curLevel().instructionID,c="";""!=b&&(c=j.get_instance().get_localize().getString(b));j.get_instance().setString(l.STRING_NOTIFICATION,b);""!=b&&""!=c?(this._setState(I._STATE_INTRO),this._popup=this._elementManager.addElement(new Xc,X.FOREGROUND),this._flagPopupReady=!1,this._tween.tween(this._popup,
0.3,{alpha:1},!0,o.EASE_IN).onComplete(function(){a._flagPopupReady=!0}),this._tween.tween(this._popup,0.3,{alpha:0},!1,o.EASE_OUT,4).onComplete(function(){a._closeObjective()}),this._resize()):this._finishObjective()},_closeObjective:function(){this._popup.set_doDelete(!0);this._popup=null;this._flagPopupReady=!1;this._finishObjective()},_finishObjective:function(){this._setState(I._STATE_GAMEPLAY)},_onGenerationComplete:function(){j.get_instance().get_dispatcher().dispatchEvent(T.request(n.WORLD_GENERATION_COMPLETE))},
__class__:xb,__properties__:{get_dispatcher:"get_dispatcher"}};var cc=function(a,b,c,d){var i=this;r.call(this,a);this.set_alpha(0);this._speed=50;a=this.addChild(new J({},h.get_instance().text.get(b)));a.set_text(j.get_instance().get_localize().getString(b)+"\n+"+c);a=null;this._tween=d;w.easeBounceIn(this,this._tween).onComplete(function(){i._tween.timer(2).onComplete(function(){i._life=0.5;i._lifeMax=i._life})})};m["com.workinman.builders.hidden_object.world.elements.BonusText"]=cc;cc.__name__=
"com,workinman,builders,hidden_object,world,elements,BonusText".split(",");cc.__super__=r;cc.prototype=v(r.prototype,{dispose:function(){this._tween=null;r.prototype.dispose.call(this)},_update:function(a){r.prototype._update.call(this,a);if(0<this._life){var b=this.get_pos();b.set_y(b.get_y()+-this._speed*a);this._life-=a;this._life<0.5*this._lifeMax&&this.set_alpha(2*this._life/this._lifeMax);0>=this._life&&(this._life=0,this.set_doDelete(!0))}},__class__:cc});var Tc=function(a){r.call(this,a);
this._fills=[];this._text=[];a=new r(h.get_instance().assetParams("combo_frame",{}));h.get_instance().colorMaskElement(a,h.get_instance().combo_frame_color);for(var b=[],c,d=0;4>d;)d++,c=new r(h.get_instance().assetParams("combo_bg",{originX:0})),h.get_instance().colorMaskElement(c,h.get_instance().combo_bg_color),b.push(c);c=0;for(d=b.length;c<d;){var i=c++;b[i].get_pos().set_x(-a.get_width()/2+i*b[i].get_width());this.addChild(b[i])}var e;c=0;for(d=b.length;c<d;)i=c++,e=new sa({color:h.get_instance().combo_fill_colors[i],
originX:0,width:Math.floor(b[i].get_width()),height:Math.floor(b[i].get_height()),x:b[i].get_x(),scaleX:0}),this.addChild(e),this._fills.push(e),e=this.addChild(new J({x:b[i].get_x()+b[i].get_width()/2},h.get_instance().text.get("hud_combo_value"))),e.set_text("x"+2*(i+1)),e.set_visible(!1),this._text.push(e);this.addChild(a);this._totalWidth=Math.max(a.get_width(),4*b[0].get_width());this._totalHeight=Math.max(a.get_height(),4*b[0].get_height())};m["com.workinman.builders.hidden_object.world.elements.ComboBar"]=
Tc;Tc.__name__="com,workinman,builders,hidden_object,world,elements,ComboBar".split(",");Tc.__super__=r;Tc.prototype=v(r.prototype,{dispose:function(){this._text=this._fills=null;r.prototype.dispose.call(this)},get_width:function(){return this._totalWidth},get_height:function(){return this._totalHeight},updateFills:function(a,b){for(var c=0,d=0,i=this._fills.length;d<i;){var e=d++,c=e+1;this._text[e].set_visible(!0);c<b?this._fills[e].set_scaleX(1):c>b?(this._fills[e].set_scaleX(0),this._text[e].set_visible(!1)):
this._fills[e].set_scaleX(a)}},__class__:Tc});var Hc=function(a,b,c){r.call(this,a);this._tween=b;j.get_instance().getBool(l.BOOL_OBJECTIVE_MET)&&(this._completion=j.get_instance().getInt(l.INT_SCORE)>=j.get_instance().getInt(l.INT_SCORE_GOLD)?3:j.get_instance().getInt(l.INT_SCORE)>=0.75*j.get_instance().getInt(l.INT_SCORE_GOLD)?2:1,c&&(this._completion-=1,this._completion=Math.floor(Math.max(this._completion,1))),3>Q.get_instance().get_currentWorld().getCurrentLevelProgress().completion&&(Q.get_instance().get_currentWorld().getCurrentLevelProgress().previousCompletion=
Q.get_instance().get_currentWorld().getCurrentLevelProgress().completion,Q.get_instance().get_currentWorld().getCurrentLevelProgress().completion<this._completion&&(Q.get_instance().get_currentWorld().getCurrentLevelProgress().completion=this._completion)));j.get_instance().getInt(l.INT_SCORE)>Q.get_instance().get_currentWorld().getCurrentLevelProgress().highscore&&(Q.get_instance().get_currentWorld().getCurrentLevelProgress().highscore=j.get_instance().getInt(l.INT_SCORE));Q.get_instance().get_currentWorld().getCurrentLevelProgress().tries++;
var d=j.get_instance().getInt(l.INT_LEVEL)+1,i=!0,e=!1,a=j.get_instance().getBool(l.BOOL_OBJECTIVE_MET);j.get_instance().getBool(l.BOOL_OBJECTIVE_MET)&&"score"==h.get_instance().unlock_condition&&(a=j.get_instance().getInt(l.INT_SCORE)>=h.get_instance().get_curLevel().unlock_condition);a&&(Q.get_instance().get_currentWorld().getCurrentLevelProgress().completed=!0,Q.get_instance().get_currentWorld().doesLevelExist(d)&&Q.get_instance().get_currentWorld().getLevelProgress(d).locked&&(Q.get_instance().get_currentWorld().getLevelProgress(d).locked=
!1,e=Q.get_instance().get_currentWorld().getLevelProgress(d).recentlyUnlocked=!0));i=Q.get_instance().get_currentWorld().doesLevelExist(d)?Q.get_instance().get_currentWorld().getLevelProgress(d).locked:Q.get_instance().get_currentWorld().getCurrentLevelProgress().completed?!1:!0;Q.get_instance().save();this._image=this.addChild(new r(h.get_instance().assetParams("end_level_bg",{})));a=this.addChild(new J({},function(){var a;a=j.get_instance().getBool(l.BOOL_OBJECTIVE_MET)?"end_level_win":"end_level_lose";
return h.get_instance().text.get(a)}(this)));this._stars=[];for(var f,c=-1;2>c++;)f=new r(h.get_instance().assetParams("end_level_star",{})),this._stars.push(f),this.addChild(f);f=1.1*this._stars[0].get_width()+h.get_instance().spacing;for(var g=-(0.5*this._stars.length*f-0.5*f),c=-1;2>c++;)this._stars[c].set_x(g),this._stars[c].set_y(0),g+=f;c=this.addChild(new J({},h.get_instance().text.get("end_level_score")));c.set_text(j.get_instance().get_localize().getString("end_level_score")+" "+j.get_instance().getInt(l.INT_SCORE));
f=null;if(Q.get_instance().get_currentWorld().doesLevelExist(d)&&(Q.get_instance().get_currentWorld().getLevelProgress(d).locked||e))f=this.addChild(new J({},h.get_instance().text.get(i?"end_level_condition_fail":"end_level_condition_pass")));this._buttons=[];h.get_instance().assetEnabled("button_menu_end_level")&&1<Q.get_instance().get_currentWorld().get_levelCount()&&(this._btnMenu=this.addChild(new H(h.get_instance().assetParams("button_menu_end_level",{tween:b},!0,"button_menu_end_level_down"))),
this._btnMenu.addChild(new J({},h.get_instance().text.get("menu_btn_end_level"))),this._buttons.push(this._btnMenu));h.get_instance().assetEnabled("button_replay_end_level")&&(this._btnReplay=this.addChild(new H(h.get_instance().assetParams("button_replay_end_level",{tween:b},!0,"button_replay_end_level_down"))),this._btnReplay.addChild(new J({},h.get_instance().text.get("replay_btn_end_level"))),this._buttons.push(this._btnReplay));i||(this._btnNext=this.addChild(new H(h.get_instance().assetParams("button_next_end_level",
{tween:b},!0,"button_next_end_level_down"))),this._btnNext.addChild(new J({},h.get_instance().text.get("next_btn_end_level"))),this._buttons.push(this._btnNext));d=b=0;for(e=this._buttons;d<e.length;)i=e[d],++d,b=Math.max(b,i.get_height());b=a.get_height()+a.get_builderText().get_offsetY()+this._stars[0].get_height()+c.get_height()+c.get_builderText().get_offsetY()+b+3*h.get_instance().spacing;null!=f&&(b+=f.get_height()+f.get_builderText().get_offsetY()+h.get_instance().spacing);a.get_pos().set_y(-b/
2+a.get_height()/2);b=0;for(d=this._stars;b<d.length;)e=d[b],++b,e.get_pos().set_y(a.get_pos().get_y()+a.get_height()/2+a.get_builderText().get_offsetY()+1.1*e.get_height()/2+h.get_instance().spacing);c.get_pos().set_y(this._stars[0].get_pos().get_y()+1.1*this._stars[0].get_height()/2+c.get_height()/2+h.get_instance().spacing);null!=f&&f.get_pos().set_y(c.get_pos().get_y()+c.get_height()/2+c.get_offsetY()+f.get_height()/2+h.get_instance().spacing);a=null==f?c:f;f=c=0;for(b=this._buttons;f<b.length;)d=
b[f],++f,c+=d.get_width()+h.get_instance().spacing;c-=h.get_instance().spacing;f=0;for(b=this._buttons.length;f<b;)d=f++,0==d?this._buttons[d].get_pos().to(-c/2+this._buttons[d].get_width()/2,a.get_pos().get_y()+a.get_height()/2+this._buttons[d].get_height()/2+h.get_instance().spacing):this._buttons[d].get_pos().to(this._buttons[d-1].get_pos().get_x()+this._buttons[d-1].get_width()/2+this._buttons[d].get_width()/2+h.get_instance().spacing,a.get_pos().get_y()+a.get_height()/2+this._buttons[d].get_height()/
2+h.get_instance().spacing),this._buttons[d].disable(),this._buttons[d].set_alpha(0);this._widthMax=this._image.get_width();this._heightMax=this._image.get_height();a=f=a=c=null};m["com.workinman.builders.hidden_object.world.elements.EndLevelContainer"]=Hc;Hc.__name__="com,workinman,builders,hidden_object,world,elements,EndLevelContainer".split(",");Hc.__super__=r;Hc.prototype=v(r.prototype,{dispose:function(){this._image=this._buttons=this._btnMenu=this._btnReplay=this._btnNext=this._stars=this._tween=
null;r.prototype.dispose.call(this)},get_btnNext:function(){return this._btnNext},get_btnReplay:function(){return this._btnReplay},get_btnMenu:function(){return this._btnMenu},resize:function(){var a=0.9*q.get_CANVAS_HEIGHT()*h.get_instance().game_fill_safe,b=0.9*q.get_CANVAS_WIDTH(),c=Math.min(1,b/this._widthMax),d=Math.min(1,a/this._heightMax);h.get_instance().scale_up&&(c=b/this._widthMax,d=a/this._heightMax);this.set_scale(Math.min(c,d))},open:function(){j.get_instance().getBool(l.BOOL_OBJECTIVE_MET)?
(h.get_instance().playSound("sfx_level_win"),this._showStars(this._completion),h.get_instance().vo.playVO({id:"vo_level_win"},!0),h.get_instance().vo.idleVO({id:"vo_level_win_btn",elements:this._buttons},!0)):(h.get_instance().playSound("sfx_level_lose"),this._showButtons(0),h.get_instance().vo.playVO({id:"vo_level_lose"},!0),h.get_instance().vo.idleVO({id:"vo_level_lose_btn",elements:this._buttons},!0))},disableButtons:function(){h.get_instance().vo.clear();null!=this._btnReplay&&this._btnReplay.disable();
null!=this._btnNext&&this._btnNext.disable();null!=this._btnMenu&&this._btnMenu.disable()},_showStars:function(a){for(var b=this,c=-1,d=0.5;c++<this._stars.length-1;){var i=[this._stars[c]];if(c>=a)break;this._tween.tween(i[0],0.2,{scale:1.5},!1,o.EASE_OUT,d).onComplete(function(a){return function(){a[0].setAsset(null,h.get_instance().assetString("end_level_star_earned"));b._tween.tween(a[0],0.2,{scale:1},!1,o.EASE_IN);h.get_instance().playSound("sfx_star_earned")}}(i));d+=0.4;c+1>=a&&this._showButtons(d)}},
_showButtons:function(a){var b=this;this._tween.timer(a).onComplete(function(){for(var a=null,d=0,i=b._buttons;d<i.length;)a=i[d],++d,a=w.easeBounceIn(a,b._tween);null!=a&&(a.onComplete(function(){for(var a=0,c=b._buttons;a<c.length;){var d=c[a];++a;d.enable()}}),a=null)})},__class__:Hc,__properties__:v(r.prototype.__properties__,{get_btnMenu:"get_btnMenu",get_btnReplay:"get_btnReplay",get_btnNext:"get_btnNext"})});var Vc=function(a,b,c){r.call(this,a);this._width=b;this._height=c;this._top=this.addChild(new sa({color:0,
x:this._width/2,y:0,originX:0.5,originY:0,width:Math.floor(this._width),height:Math.floor(this._height)}));this._bottom=this.addChild(new sa({color:0,x:this._width/2,y:this._height,originX:0.5,originY:0,width:Math.floor(this._width),height:Math.floor(this._height),alpha:0}));this._left=this.addChild(new sa({color:0,x:0,y:this._height/2,originX:0,originY:0.5,width:Math.floor(this._width),height:Math.floor(this._height),alpha:0}));this._right=this.addChild(new sa({color:0,x:this._width,y:this._height/
2,originX:0,originY:0.5,width:Math.floor(this._width),height:Math.floor(this._height),alpha:0}));this._glowPromptTimer=0;this._gradient=this.addChild(new r({assetString:h.get_instance().assets.getAssetData("flashlight").name,x:this._width/2,y:this._height/2,origin:0.5,alpha:0}));this._gradient.scissor=Ka.request(0,0,this._gradient.getNaturalWidth(),this._gradient.getNaturalHeight());this.disablePointer();this._gradient.disablePointer();this._mouseY=this._mouseX=0};m["com.workinman.builders.hidden_object.world.elements.Flashlight"]=
Vc;Vc.__name__="com,workinman,builders,hidden_object,world,elements,Flashlight".split(",");Vc.__super__=r;Vc.prototype=v(r.prototype,{dispose:function(){this._gradient=this._right=this._left=this._bottom=this._top=null;r.prototype.dispose.call(this)},get_mouseX:function(){return this._mouseX},set_mouseX:function(a){return this._mouseX=a},get_mouseY:function(){return this._mouseY},set_mouseY:function(a){return this._mouseY=a},_update:function(a){this._mouseX>this.get_pos().get_x()-140&&this._mouseY>
this.get_pos().get_y()-140&&this._mouseX<this.get_pos().get_x()+this._width+140&&this._mouseY<this.get_pos().get_y()+this._height+140&&(this._glowPromptTimer=-10,this._gradient.get_pos().to(this._mouseX-this.get_pos().get_x(),this._mouseY-this.get_pos().get_y()),this._gradient.set_scale(2*(140/this._gradient.getNaturalWidth())),140>this._gradient.get_pos().get_x()?(this._gradient.scissor.set_x(this._gradient.getNaturalWidth()-(0.5+0.5*(this._gradient.get_pos().get_x()/140))*this._gradient.getNaturalWidth()),
this._gradient.scissor.set_width(this._gradient.getNaturalWidth()-this._gradient.scissor.get_x())):(this._gradient.scissor.set_x(0),this._gradient.scissor.set_width((0.5+0.5*((this._width-this._gradient.get_pos().get_x())/140))*this._gradient.getNaturalWidth())),140>this._gradient.get_pos().get_y()?(this._gradient.scissor.set_y(this._gradient.getNaturalHeight()-(0.5+0.5*(this._gradient.get_pos().get_y()/140))*this._gradient.getNaturalHeight()),this._gradient.scissor.set_height(this._gradient.getNaturalHeight()-
this._gradient.scissor.get_y())):(this._gradient.scissor.set_y(0),this._gradient.scissor.set_height((0.5+0.5*((this._height-this._gradient.get_pos().get_y())/140))*this._gradient.getNaturalHeight())),this._gradient.set_alpha(1));this._top.setSize(this._width,Math.ceil(this._mouseY-this.get_pos().get_y()-140)+5);this._bottom.setSize(this._width,-1*Math.ceil(this._height-(this._mouseY-this.get_pos().get_y()+140))-5);this._left.setSize(Math.ceil(this._mouseX-this.get_pos().get_x()-140)+5,this._height);
this._right.setSize(-1*Math.ceil(this._width-(this._mouseX-this.get_pos().get_x()+140))-5,this._height);0>this._top.height?this._top.set_alpha(0):this._top.set_alpha(1);0<this._bottom.height?this._bottom.set_alpha(0):this._bottom.set_alpha(1);0>this._left.width?this._left.set_alpha(0):this._left.set_alpha(1);0<this._right.width?this._right.set_alpha(0):this._right.set_alpha(1);this._top.height>this._height&&this._top.setSize(this._width,this._height);this._bottom.height<-1*this._height&&this._bottom.setSize(this._width,
-1*this._height);this._left.width>this._width&&this._left.setSize(this._width,this._height);this._right.width<-1*this._width&&this._right.setSize(-1*this._width,this._height);r.prototype._update.call(this,a)},onInput:function(a,b,c,d){switch(b[1]){case 0:switch(a[1]){case 2:this._mouseX=c,this._mouseY=d}}},__class__:Vc,__properties__:v(r.prototype.__properties__,{set_mouseY:"set_mouseY",get_mouseY:"get_mouseY",set_mouseX:"set_mouseX",get_mouseX:"get_mouseX"})});var Oc=function(a,b,c){r.call(this,
a);this.set_alpha(0);this._time=b;this.addChild(new sa({alpha:0.5,color:0,width:1024,height:1024}));a=this.addChild(new J({},h.get_instance().text.get("penalty_freeze")));a.set_y(0.5*-a.getNaturalHeight());this._text=this.addChild(new J({y:-a.get_y()},h.get_instance().text.get("penalty_freeze")));this._text.set_text("");this._updateText();this._time+=1;this._tween=c;w.easeFadeIn(this,this._tween);this._tween.tween(this,this._time,{_time:1}).onUpdate(s(this,this._updateText))};m["com.workinman.builders.hidden_object.world.elements.FreezeText"]=
Oc;Oc.__name__="com,workinman,builders,hidden_object,world,elements,FreezeText".split(",");Oc.__super__=r;Oc.prototype=v(r.prototype,{dispose:function(){this._tween.stop(this);this._text=this._tween=null;r.prototype.dispose.call(this)},_updateText:function(){var a=this;if(null!=this._text&&(this._text.set_text(""+(this._time|0)),1>=this._time))w.easeFadeOut(this,this._tween).onComplete(function(){j.get_instance().get_dispatcher().dispatchEvent(T.request(n.STOP_FREEZE));a.set_doDelete(!0)})},__class__:Oc});
var ec=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=0);null==b&&(b=0);r.call(this,a);this._width=b;this._height=c;this._flagFound=!1;d&&(this.get_pos().to(this.get_offsetX(),this.get_offsetY()),this.set_offsetX(0),this.set_offsetY(0))};m["com.workinman.builders.hidden_object.world.elements.HiddenImage"]=ec;ec.__name__="com,workinman,builders,hidden_object,world,elements,HiddenImage".split(",");ec.__super__=r;ec.prototype=v(r.prototype,{get_data:function(){return this._data},set_data:function(a){return this._data=
a},get_found:function(){return this._flagFound},set_found:function(a){return this._flagFound=a},getNaturalWidth:function(){return 0==this._width?r.prototype.getNaturalWidth.call(this):this._width},getNaturalHeight:function(){return 0==this._height?r.prototype.getNaturalHeight.call(this):this._height},wiggle:function(a){a.tween(this,0.1,{rotation:-20});a.tween(this,0.1,{rotation:20});a.tween(this,0.1,{rotation:-20});a.tween(this,0.1,{rotation:0})},__class__:ec,__properties__:v(r.prototype.__properties__,
{set_found:"set_found",get_found:"get_found",set_data:"set_data",get_data:"get_data"})});var Rc=function(a){this._flagGlowing=!1;H.call(this,a);this._glow=this.addChild(new r(h.get_instance().assetParams("button_hint_glow",{alpha:0})));h.get_instance().hint_fade_in&&(this._fade=this.addChild(new r({assetString:this._assetUpString,alpha:0})))};m["com.workinman.builders.hidden_object.world.elements.HintButton"]=Rc;Rc.__name__="com,workinman,builders,hidden_object,world,elements,HintButton".split(",");
Rc.__super__=H;Rc.prototype=v(H.prototype,{dispose:function(){this._tween.stop(this._glow);this._fade=this._glow=null;H.prototype.dispose.call(this)},glowStart:function(){this._flagGlowing||(this._flagGlowing=!0,this._tweenGlow())},_tweenGlow:function(){this._tween.tween(this._glow,0.5,{alpha:1},!0,o.EASE_IN,0.2);this._tween.tween(this._glow,0.5,{alpha:0},!1,o.EASE_OUT).onComplete(s(this,this._tweenGlow))},glowStop:function(){this._tween.stop(this._glow);this._glow.set_alpha(0);this._flagGlowing=
!1},get_enabled:function(){return this._flagEnabled},updateFade:function(a){1>=a&&null!=this._fade&&this._fade.set_alpha(1-a)},enable:function(){H.prototype.enable.call(this);null!=this._fade&&this._fade.set_alpha(0)},disable:function(){H.prototype.disable.call(this);null!=this._fade&&this._fade.set_alpha(0)},__class__:Rc,__properties__:v(H.prototype.__properties__,{get_enabled:"get_enabled"})});var Sc=function(a){O.call(this,a);this._heightMax=this._widthMax=0};m["com.workinman.builders.hidden_object.world.elements.HintContainer"]=
Sc;Sc.__name__="com,workinman,builders,hidden_object,world,elements,HintContainer".split(",");Sc.__super__=O;Sc.prototype=v(O.prototype,{get_width:function(){return this._widthMax},get_height:function(){return this._heightMax},__class__:Sc});var Qc=function(a,b,c,d,i){r.call(this,{x:b.get_pos().get_x(),y:b.get_pos().get_y()});this._timer=d;this._tween=c;this._object=b;switch(a){case "arrow":h.get_instance().playSound("sfx_hint_point");this._image=this.addChild(new r(h.get_instance().assetParams("hint_arrow",
{originX:0.5,originY:1,rotation:45})));switch(i){case "top":this._image.set_rotation(135);this._point2();break;case "right":this._image.set_rotation(225);this._point3();break;case "bottom":this._image.set_rotation(315);this._point4();break;default:this._point()}break;case "circle":h.get_instance().playSound("sfx_hint_circle");this._image=this.addChild(new r(h.get_instance().assetParams("hint_circle",{})));this._image.set_scale(Math.max(1.3*b.get_width()/this._image.get_width(),1.3*b.get_height()/
this._image.get_height()));this._imageScale=this._image.get_scale();this._circle();break;case "sparkle":h.get_instance().playSound("sfx_hint_sparkle"),this._timerSparkle=0.3,this._sparkles=[]}};m["com.workinman.builders.hidden_object.world.elements.HintImage"]=Qc;Qc.__name__="com,workinman,builders,hidden_object,world,elements,HintImage".split(",");Qc.__super__=r;Qc.prototype=v(r.prototype,{dispose:function(){this._tween.stop(this._image);if(null!=this._sparkles)for(var a=0,b=this._sparkles;a<b.length;){var c=
b[a];++a;this._tween.stop(c)}this._sparkles=this._object=this._image=this._tween=null;r.prototype.dispose.call(this)},_update:function(a){r.prototype._update.call(this,a);0<this._timer&&(this._timer-=a,0>=this._timer&&this.set_doDelete(!0));if(0<this._timerSparkle&&(this._timerSparkle-=a,0>=this._timerSparkle)){this._timerSparkle=0.3+j.get_instance().get_random().getRandomFloat(0,0.3);var a=j.get_instance().get_random().getRandomFloat(1.1*(-this._object.get_width()/2),1.1*(this._object.get_width()/
2)),b=j.get_instance().get_random().getRandomFloat(1.1*(-this._object.get_height()/2),1.1*(this._object.get_height()/2));this._sparkles.push(this.addChild(new Yc(h.get_instance().assetParams("hint_sparkle",{scale:j.get_instance().get_random().getRandomFloat(0.5,1),alpha:0,x:a,y:b}),this._tween)))}},_point:function(){this._tween.tween(this._image,0.45,{x:50,y:-50},!1,o.EASE_QUAD_OUT);this._tween.tween(this._image,0.45,{x:0,y:0},!1,o.EASE_QUAD_IN).onComplete(s(this,this._point))},_point2:function(){this._tween.tween(this._image,
0.45,{x:50,y:50},!1,o.EASE_QUAD_OUT);this._tween.tween(this._image,0.45,{x:0,y:0},!1,o.EASE_QUAD_IN).onComplete(s(this,this._point2))},_point3:function(){this._tween.tween(this._image,0.45,{x:-50,y:50},!1,o.EASE_QUAD_OUT);this._tween.tween(this._image,0.45,{x:0,y:0},!1,o.EASE_QUAD_IN).onComplete(s(this,this._point3))},_point4:function(){this._tween.tween(this._image,0.45,{x:-50,y:-50},!1,o.EASE_QUAD_OUT);this._tween.tween(this._image,0.45,{x:0,y:0},!1,o.EASE_QUAD_IN).onComplete(s(this,this._point4))},
_circle:function(){this._tween.tween(this._image,0.45,{scale:1.2*this._imageScale},!1,o.EASE_QUAD_OUT);this._tween.tween(this._image,0.45,{scale:this._imageScale},!1,o.EASE_QUAD_IN).onComplete(s(this,this._circle))},__class__:Qc});var Yc=function(a,b){var c=this;r.call(this,a);b.tween(this,j.get_instance().get_random().getRandomFloat(0.1,1),{alpha:1});b.tween(this,j.get_instance().get_random().getRandomFloat(0.1,1),{alpha:0}).onComplete(function(){c.set_doDelete(!0)})};m["com.workinman.builders.hidden_object.world.elements.HintSparkle"]=
Yc;Yc.__name__="com,workinman,builders,hidden_object,world,elements,HintSparkle".split(",");Yc.__super__=r;Yc.prototype=v(r.prototype,{dispose:function(){r.prototype.dispose.call(this)},_update:function(a){r.prototype._update.call(this,a)},__class__:Yc});var Uc=function(a,b,c){r.call(this,a);this._spots=[];this._spotsElements=[];this._spotsMap=new K;this._checkmarks=[];this._queue=[];this._spotsMapObjects=new Qa;var d=h.get_instance().list_num_rows,a=h.get_instance().list_num_cols,i=(b-2*h.get_instance().spacing)/
a,e=(c-2*h.get_instance().spacing)/d;this._cellWidth=i;this._cellHeight=e;for(var d=d*a,f=0,g=0,b=-b/2+h.get_instance().spacing,c=-c/2+h.get_instance().spacing,j=0;j<d;)g=j++,f=g%a,g=Math.floor(g/a),this._spots.push({x:b+i/2+f*i,y:c+e/2+g*e,w:i-h.get_instance().spacing,h:e-h.get_instance().spacing})};m["com.workinman.builders.hidden_object.world.elements.ListContainer"]=Uc;Uc.__name__="com,workinman,builders,hidden_object,world,elements,ListContainer".split(",");Uc.__super__=r;Uc.prototype=v(r.prototype,
{dispose:function(){r.prototype.dispose.call(this);this._spotsMapObjects=this._queue=this._checkmarks=this._spotsMap=this._spotsElements=this._spots=null},get_spots:function(){return this._spotsElements},spotContains:function(a,b,c,d,i){a=this._spots[a];return b>a.x*d-this._cellWidth/2&&b<a.x*d+this._cellWidth/2&&c>a.y*i-this._cellHeight/2&&c<a.y*i+this._cellHeight/2?!0:!1},playVO:function(a){null!=this._spotsElements[a]&&h.get_instance().vo.playVO({id:this._spotsMapObjects.get(a).idVOHud},!0)},updateSpots:function(a){for(var b=
0,c=this._spots.length;b<c;){var d=b++;if(d>=a.length)break;this.updateSpot(d,a[d])}},updateSpot:function(a,b){var c=new r({x:this._spots[a].x,y:this._spots[a].y}),d=null,i=null,e=0,f=0,f=e=0;b.showImage&&(d=c.addChild(new r({assetString:h.get_instance().assetString(""==b.image||null==b.image?b.id:b.image)})),e=d.get_width(),f=d.get_height(),e=this._spots[a].w/e,f=this._spots[a].h/f,d.set_scale(Math.min(1,Math.min(e,f))));b.showText&&(i=c.addChild(new J({},b.text)),i.get_width(),i.get_height(),null!=
d&&(d.get_width(),d.get_scaleX(),h.get_instance()));null!=d&&null!=i&&(e=d.get_width()*d.get_scaleX()+i.get_width()*i.get_scaleX()+h.get_instance().spacing,d.get_pos().set_x(-e/2+d.get_width()*d.get_scaleX()/2),i.get_pos().set_x(d.get_pos().get_x()+d.get_width()*d.get_scaleX()/2+h.get_instance().spacing+i.get_width()*i.get_scaleX()/2));this.addChild(c);this._spotsElements[a]=c;this._spotsMap.set(b.id,a);this._spotsMapObjects.set(a,b);d=c.addChild(new r(h.get_instance().assetParams("list_checkmark",
{visible:!1})));e=d.get_width();f=d.get_height();e=this._spots[a].w/e;f=this._spots[a].h/f;d.set_scale(Math.min(1,Math.min(e,f)));this._checkmarks[a]=d},remove:function(a){var a=this._spotsMap.get(a.id),b=this._spotsElements[a];null!=b&&this.removeChild(b);this._spotsElements[a]=null},add:function(a){for(var b=0,c=this._spotsElements.length;b<c;){var d=b++;if(null==this._spotsElements[d]){this.updateSpot(d,a);break}}},addCheckmark:function(a){this._checkmarks[this._spotsMap.get(a.id)].set_visible(!0)},
queue:function(a){this._queue.push(a);for(var a=!0,b=0,c=this._checkmarks.length;b<c;){var d=b++;null!=this._spotsElements[d]&&0==(this._checkmarks[d]._flags&1)&&(a=!1)}if(a){this.clear();a=0;for(b=this._queue.length;a<b;)this.add(this._queue[a++]);this._queue=[]}},clear:function(){for(var a=0,b=this._spotsElements.length;a<b;){var c=a++;null!=this._spotsElements[c]&&(this.removeChild(this._spotsElements[c]),this._spotsElements[c]=null)}},getSpot:function(a){a=this._spotsMap.get(a.id);return{x:this._spots[a].x,
y:this._spots[a].y}},__class__:Uc,__properties__:v(r.prototype.__properties__,{get_spots:"get_spots"})});var Xc=function(){O.call(this,{},new na({resize:"fit",align:"center"},""),1,1,1);this.addChild(new r({assetString:h.get_instance().assets.getAssetData("notification").name,x:0,y:0,origin:0.5}));this._text=this.addChild(new J({x:0,y:0},function(){var a=j.get_instance().getString(l.STRING_NOTIFICATION);return h.get_instance().text.get(a)}(this)));this._text.set_text(j.get_instance().getString(l.STRING_NOTIFICATION));
this.set_alpha(0)};m["com.workinman.builders.hidden_object.world.elements.Notification"]=Xc;Xc.__name__="com,workinman,builders,hidden_object,world,elements,Notification".split(",");Xc.__super__=O;Xc.prototype=v(O.prototype,{__class__:Xc});var dc=m["com.workinman.builders.hidden_object.world.elements.PARTICLE_TYPE"]={__ename__:"com,workinman,builders,hidden_object,world,elements,PARTICLE_TYPE".split(","),__constructs__:["MOVE_TO_AND_DIE"]};dc.MOVE_TO_AND_DIE=["MOVE_TO_AND_DIE",0];dc.MOVE_TO_AND_DIE.toString=
f;dc.MOVE_TO_AND_DIE.__enum__=dc;dc.__empty_constructs__=[dc.MOVE_TO_AND_DIE];var Kc=function(a){r.call(this,a);this._vel=N.request(0,0,0);this._target=N.request(0,0,0);this._distCheck=N.request(0,0,0);this._tween=a.tween;this._type=a.type;this._lifeMax=this._life=null!=a.life?a.life:0.5;this.setupMoveDieTimed(a.toX,a.toY)};m["com.workinman.builders.hidden_object.world.elements.Particle"]=Kc;Kc.__name__="com,workinman,builders,hidden_object,world,elements,Particle".split(",");Kc.__super__=r;Kc.prototype=
v(r.prototype,{dispose:function(){r.prototype.dispose.call(this);this._type=null;null!=this._vel&&this._vel.dispose();this._vel=null;null!=this._distCheck&&this._distCheck.dispose();this._distCheck=null;null!=this._target&&this._target.dispose();this._target=null},setupMoveDieTimed:function(a,b){this._target.set_x(a);this._target.set_y(b);this._distCheck.toPoint(this.get_pos());this._distCheck.subtractPoint(this._target);var c=2*Math.random()*Math.PI;this._speed=this._distCheck.get_length()/this._life;
this._vel.set_x(Math.cos(c)*this._speed);this._vel.set_y(0.25*Math.sin(c)*this._speed);this.set_rotation(360*Math.random())},_update:function(a){r.prototype._update.call(this,a);this._life-=a;if(0>=this._life)this.set_doDelete(!0);else{this.updateMoveDie(a);var b=this.get_pos();b.set_x(b.get_x()+this._vel.get_x()*a);b=this.get_pos();b.set_y(b.get_y()+this._vel.get_y()*a)}},updateMoveDie:function(a){this._distCheck.toPoint(this._target);this._distCheck.subtractPoint(this.get_pos());if(25>this._distCheck.get_length())this._life=
0;else{this._distCheck.normalizeTo(5*this._speed);var b=this._vel;b.set_x(b.get_x()+this._distCheck.get_x()*a);b=this._vel;b.set_y(b.get_y()+this._distCheck.get_y()*a);this._vel.calculateLength();this._vel.get_length()>this._speed&&this._vel.normalizeTo(this._speed);this.set_alpha(0.5*(2*this._life/this._lifeMax)+0.5);this.set_rotation(this.get_rotation()+0.5*(this._vel.get_x()+this._vel.get_y())*a)}},__class__:Kc});var Nc=function(a,b,c){var d=this;r.call(this,a);this.set_alpha(0);this._speed=50;
a=this.addChild(new J({},h.get_instance().text.get("penalty_time")));a.set_text(j.get_instance().get_localize().getString("penalty_time")+" -"+b);a=null;this._tween=c;w.easeBounceIn(this,this._tween).onComplete(function(){d._tween.timer(0.5).onComplete(function(){d._life=0.5;d._lifeMax=d._life})})};m["com.workinman.builders.hidden_object.world.elements.PenaltyText"]=Nc;Nc.__name__="com,workinman,builders,hidden_object,world,elements,PenaltyText".split(",");Nc.__super__=r;Nc.prototype=v(r.prototype,
{dispose:function(){this._tween=null;r.prototype.dispose.call(this)},_update:function(a){r.prototype._update.call(this,a);if(0<this._life){var b=this.get_pos();b.set_y(b.get_y()+-this._speed*a);this._life-=a;this._life<0.5*this._lifeMax&&this.set_alpha(2*this._life/this._lifeMax);0>=this._life&&(this._life=0,this.set_doDelete(!0))}},__class__:Nc});var Pc=function(a,b){r.call(this,a);this._lifeMax=this._life=0.5;this._speed=50;this.addChild(new J({},h.get_instance().text.get("penalty_score"))).set_text(j.get_instance().get_localize().getString("penalty_score")+
" -"+b)};m["com.workinman.builders.hidden_object.world.elements.ScorePenaltyText"]=Pc;Pc.__name__="com,workinman,builders,hidden_object,world,elements,ScorePenaltyText".split(",");Pc.__super__=r;Pc.prototype=v(r.prototype,{_update:function(a){r.prototype._update.call(this,a);var b=this.get_pos();b.set_y(b.get_y()+-this._speed*a);0<this._life&&(this._life-=a,this._life<0.5*this._lifeMax&&this.set_alpha(2*this._life/this._lifeMax),0>=this._life&&(this._life=0,this.set_doDelete(!0)))},__class__:Pc});
var Lc=function(a,b,c){r.call(this,a);this._lifeMax=this._life=0.5;this._speed=50;a=this.addChild(new J({},h.get_instance().text.get("popup_score_value")));a.set_text(""+b);-1!=c&&a.setColor(c)};m["com.workinman.builders.hidden_object.world.elements.ScoreText"]=Lc;Lc.__name__="com,workinman,builders,hidden_object,world,elements,ScoreText".split(",");Lc.__super__=r;Lc.prototype=v(r.prototype,{_update:function(a){r.prototype._update.call(this,a);var b=this.get_pos();b.set_y(b.get_y()+-this._speed*a);
0<this._life&&(this._life-=a,this._life<0.5*this._lifeMax&&this.set_alpha(2*this._life/this._lifeMax),0>=this._life&&(this._life=0,this.set_doDelete(!0)))},__class__:Lc});var Wc=function(a,b,c,d){this._flagGlowing=!1;O.call(this,b,new na({resize:"fit_to",align:"center"},""),1,1,1);this._flagSafeZoneSet=!1;this._tween=c;this._images=[];this._sounds=[];this._vo=[];this._voIdle=[];if(d){b=0;for(d=h.get_instance().get_curGame().story.length;b<d;){var i=b++;this._images.push(this.addChild(new r(h.get_instance().assetParams(h.get_instance().get_curGame().story[i].image,
{visible:!1}))));this._sounds.push(h.get_instance().get_curGame().story[i].idSound);this._vo.push(h.get_instance().get_curGame().story[i].idVO);this._voIdle.push(h.get_instance().get_curGame().story[i].idVOIdle)}}b=0;for(d=a.length;b<d;)i=b++,this._images.push(this.addChild(new r(h.get_instance().assetParams(a[i].image,{visible:!1})))),this._sounds.push(a[i].idSound),this._vo.push(a[i].idVO),this._voIdle.push(a[i].idVOIdle);this._images[0].set_visible(!0);this._imageIndex=0;h.get_instance().assetEnabled("button_story_next")&&
(this._btnNext=this.addChild(new H(h.get_instance().assetParams("button_story_next",{tween:c},!0))),this._btnNext.addChild(new J({},h.get_instance().text.get("next_btn_story"))),this._glowNext=this._btnNext.addChild(new r(h.get_instance().assetParams("button_story_next_glow",{alpha:0}))),this._btnNext.get_pos().to(200,200));h.get_instance().assetEnabled("button_story_skip")&&(this._btnSkip=this.addChild(new H(h.get_instance().assetParams("button_story_skip",{tween:c},!0))),this._btnSkip.addChild(new J({},
h.get_instance().text.get("skip_btn_story"))),this._glowSkip=this._btnSkip.addChild(new r(h.get_instance().assetParams("button_story_skip_glow",{alpha:0}))),this._btnSkip.get_pos().to(-200,200));this.getMaxSize();this._originalWidth=this.get_widthMax();this._originalHeight=this.get_heightMax();a=h.get_instance().get_curLevel().imageBG;0!=a.safeWidth&&a.safeWidth<this._originalWidth&&this.set_widthMax(a.safeWidth);0!=a.safeHeight&&a.safeHeight<this._originalHeight&&this.set_heightMax(a.safeHeight);
this._flagSafeZoneSet=!0};m["com.workinman.builders.hidden_object.world.elements.StoryContainer"]=Wc;Wc.__name__="com,workinman,builders,hidden_object,world,elements,StoryContainer".split(",");Wc.__super__=O;Wc.prototype=v(O.prototype,{dispose:function(){null!=this._glowNext&&this._tween.stop(this._glowNext);null!=this._glowSkip&&this._tween.stop(this._glowSkip);this._glowSkip=this._glowNext=this._voIdle=this._vo=this._sounds=this._images=this._btnSkip=this._btnNext=this._tween=null;O.prototype.dispose.call(this)},
getMaxSize:function(){this._flagSafeZoneSet||O.prototype.getMaxSize.call(this)},get_btnNext:function(){return this._btnNext},get_btnSkip:function(){return this._btnSkip},get_pageWidth:function(){return this._images[this._imageIndex].get_width()},get_pageHeight:function(){return this._images[this._imageIndex].get_height()},get_originalWidth:function(){return this._originalWidth},get_originalHeight:function(){return this._originalHeight},disableButtons:function(){null!=this._btnSkip&&this._btnSkip.disable();
null!=this._btnNext&&this._btnNext.disable()},enableButtons:function(){null!=this._btnSkip&&this._btnSkip.enable();null!=this._btnNext&&this._btnNext.enable()},stopSounds:function(){for(var a=0,b=this._sounds.length;a<b;){var c=a++;h.get_instance().stopSound(this._sounds[c])}h.get_instance().vo.clear()},hasMorePages:function(){return this._imageIndex<this._images.length-1},showPage:function(){this.stopSounds();h.get_instance().playSound(this._sounds[this._imageIndex]);h.get_instance().vo.playVO({id:this._vo[this._imageIndex]},
!0);h.get_instance().vo.idleVO({id:this._voIdle[this._imageIndex]})},nextPage:function(){this._imageIndex++;this.showPage()},getPage:function(a){return this._images[this._imageIndex+a]},glowStart:function(){this._flagGlowing||(this._flagGlowing=!0,this._tweenGlow())},_tweenGlow:function(){null!=this._glowSkip&&(this._tween.tween(this._glowSkip,0.5,{alpha:1},!0,o.EASE_IN,0.2),this._tween.tween(this._glowSkip,0.5,{alpha:0},!1,o.EASE_OUT));null!=this._glowNext&&(this._tween.tween(this._glowNext,0.5,
{alpha:1},!0,o.EASE_IN,0.2),this._tween.tween(this._glowNext,0.5,{alpha:0},!1,o.EASE_OUT).onComplete(s(this,this._tweenGlow)))},glowStop:function(){null!=this._glowNext&&(this._tween.stop(this._glowNext),this._glowNext.set_alpha(0));null!=this._glowSkip&&(this._tween.stop(this._glowSkip),this._glowSkip.set_alpha(0));this._flagGlowing=!1},__class__:Wc,__properties__:v(O.prototype.__properties__,{get_originalHeight:"get_originalHeight",get_originalWidth:"get_originalWidth",get_pageHeight:"get_pageHeight",
get_pageWidth:"get_pageWidth",get_btnSkip:"get_btnSkip",get_btnNext:"get_btnNext"})});var Mc=function(a){r.call(this,a);this._timer=1};m["com.workinman.builders.hidden_object.world.elements.WrongClickImage"]=Mc;Mc.__name__="com,workinman,builders,hidden_object,world,elements,WrongClickImage".split(",");Mc.__super__=r;Mc.prototype=v(r.prototype,{_update:function(a){r.prototype._update.call(this,a);this._timer-=a;0>=this._timer&&this.set_doDelete(!0)},__class__:Mc});var J=function(a,b){r.call(this,
a);this._widthMax=this._textOffsetY=this._textOffsetX=0;this._data=b;this._fillSprite=this.addChild(new sa({color:this._data.bgColor,width:0,height:0,alpha:-1==this._data.bgColor?0:this._data.bgAlpha}));this._fillImage=this.addChild(new r({assetString:this._data.bgImage}));this._text=this.addChild(new Zc(b));0<this._fillImage.get_width()&&(this._text.get_pos().to(this._data.bgPadding,this._data.bgPadding),"fill"==this._data.bgResize?this._updateFillResize():"none"==this._data.bgResize&&this.setTextWrapWidth(this._fillImage.get_width()-
2*this._data.bgPadding));this._updateAll(!1);this.set_originX(0);this.set_originY(this.get_originY())};m["com.workinman.builders.hidden_object.world.elements.builder.TextContainer"]=J;J.__name__="com,workinman,builders,hidden_object,world,elements,builder,TextContainer".split(",");J.containsDescender=function(a){for(var b=0,c=J.DESCENDERS;b<c.length;){var d=c[b];++b;if(-1!=a.indexOf(d))return!0}return!1};J.__super__=r;J.prototype=v(r.prototype,{dispose:function(){this._fillSprite.dispose();this._data=
this._text=this._fillImage=this._fillSprite=null;r.prototype.dispose.call(this)},get_data:function(){return this._data},set_text:function(a){this._text.set_text(a);this._updateAll(!1);return this._text._text},get_builderText:function(){return this._text},get_heightTotal:function(){return this.get_height()+Math.abs(this._text.get_offsetY())},getNaturalWidth:function(){return 0<this._fillImage.get_width()?Math.max(this._fillImage.get_width()*this._fillImage.get_scaleX(),this._text.getNaturalWidth()*
this._text.get_scaleX()*(0<this._text.get_wrapWidth()?this._text.get_scaleX():1)):0<this._fillSprite.get_alpha()?Math.max(this._fillSprite.getNaturalWidth(),this._text.getNaturalWidth()*this._text.get_scaleX()*(0<this._text.get_wrapWidth()?this._text.get_scaleX():1)):this._text.get_width()*this._text.get_scaleX()},getNaturalHeight:function(){return 0<this._fillImage.get_height()?Math.max(this._fillImage.get_height()*this._fillImage.get_scaleY(),this._text.getNaturalHeight()*this._text.get_scaleY()):
0<this._fillSprite.get_alpha()?Math.max(this._fillSprite.getNaturalHeight(),this._text.getNaturalHeight()*this._text.get_scaleY()):this._text.get_height()*this._text.get_scaleY()},set_originX:function(a){if(null!=this._text&&null!=this._text._align)switch(this._text._align[1]){case 0:a=0;break;case 1:a=0.5;break;case 2:a=1}a=r.prototype.set_originX.call(this,a);this._updateAll(!1);return a},set_originY:function(a){a=r.prototype.set_originY.call(this,a);this._updateAll(!1);return a},_updateAll:function(a){null==
a&&(a=!0);if(null!=this._text){a&&this._text.updateColor();this._updateFill();this._updateFillResize();this._fillImage.set_offsetX(this._fillSprite.set_offsetX(this._text.get_offsetX()));this._fillImage.set_offsetY(this._fillSprite.set_offsetY(this._text.get_offsetY()));this._fillImage.set_originX(this._fillSprite.set_originX(this._text.set_originX(this.get_originX())));this._fillImage.set_originY(this._fillSprite.set_originY(this._text.set_originY(this.get_originY())));this._fillImage.get_pos().set_x(this._fillImage.get_width()*
this._fillImage.get_scaleX()*(this._text.get_originX()-this.get_originX()));var b=a=0;switch(this.get_originX()){case 0:a=this._data.bgPadding;break;case 0.5:a=0;break;case 1:a=-this._data.bgPadding}switch(this.get_originY()){case 0:b=this._data.bgPadding;break;case 0.5:b=0;break;case 1:b=-this._data.bgPadding}0==this._fillImage.get_width()&&0==this._fillSprite.get_alpha()&&(a=b=0);this._text.get_pos().to(a+this._textOffsetX,b+this._textOffsetY);null!=this._fillSprite&&0<this._fillSprite.get_alpha()&&
0.5==this.get_originY()&&J.containsDescender(this._text.textLast)&&(a=this._text.get_pos(),a.set_y(a.get_y()+this._text._font.descenderHeight*this._text.get_scaleY()/2))}},_updateFill:function(){null!=this._fillSprite&&0<this._fillSprite.get_alpha()&&(this._fillSprite.setSize(Math.floor(this._text.getNaturalWidth()*this._text.get_scaleX())+2*this._data.bgPadding,Math.floor(this._text.getNaturalHeight()*this._text.get_scaleY())+2*this._data.bgPadding),0<this._widthMax&&this._fillSprite.setSize(this._widthMax,
this._fillSprite.height))},_updateFillResize:function(){"fill"==this._data.bgResize&&(this._fillImage.set_scaleX((this._text.get_width()*this._text.get_scaleX()+2*this._data.bgPadding)/this._fillImage.get_width()),this._fillImage.set_scaleY((this._text.get_height()*this._text.get_scaleY()+2*this._data.bgPadding)/this._fillImage.get_height()))},setMaxWidth:function(a){this._widthMax=a;this._updateAll(!1)},setTextWrapWidth:function(a){this._text.set_wrapWidth(a/this._text.get_scaleX());this.set_text(this._text.textLast);
this._updateAll(!1)},setColor:function(a){var b=this._text.get_x(),c=this._text.get_y();this._text.setColor(a);this.set_text(this._text.textLast);this._updateAll(!1);this._text.get_pos().to(b,c)},__class__:J,__properties__:v(r.prototype.__properties__,{get_heightTotal:"get_heightTotal",get_builderText:"get_builderText",set_text:"set_text",get_data:"get_data"})});var zc=function(){J.call(this,{},h.get_instance().text.get("advertisement"));this.setMaxWidth(Math.floor(q.get_CANVAS_WIDTH()));this.get_pos().to(q.get_CANVAS_CENTER_X(),
this.get_height()/2);j.get_instance().setFloat(l.FLOAT_AD_BAR_HEIGHT,this.get_height())};m["com.workinman.builders.hidden_object.world.elements.builder.AdBar"]=zc;zc.__name__="com,workinman,builders,hidden_object,world,elements,builder,AdBar".split(",");zc.__super__=J;zc.prototype=v(J.prototype,{_addEventListeners:function(){J.prototype._addEventListeners.call(this);j.get_instance().get_dispatcher().addEventListener(n.RESIZE_CANVAS,s(this,this._onEventResizeCanvas))},_removeEventListeners:function(){J.prototype._removeEventListeners.call(this);
j.get_instance().get_dispatcher().removeEventListener(n.RESIZE_CANVAS,s(this,this._onEventResizeCanvas))},_onEventResizeCanvas:function(){this._resize()},_resize:function(){this.setMaxWidth(Math.floor(q.get_CANVAS_WIDTH()));this.get_pos().to(q.get_CANVAS_CENTER_X(),this.get_height()/2)},__class__:zc});var sb=function(a,b){this._layout=null;D.call(this,b);this._flags|=256;null!=b.localize&&b.localize&&(this._flags|=512);this.disablePointer();this._font=a;this.set_text(b.text);this._align=va.Center;
this.set_wrapWidth(0);this.set_letterSpacing(0);this.set_lineSpacing(0);null!=b.width&&this.set_wrapWidth(b.width);null!=b.letterSpacing&&this.set_letterSpacing(b.letterSpacing);null!=b.lineSpacing&&this.set_lineSpacing(b.lineSpacing);null!=b.align&&(this._align=b.align)};m["flambe.display.TextSprite"]=sb;sb.__name__=["flambe","display","TextSprite"];sb.__super__=D;sb.prototype=v(D.prototype,{get_layout:function(){return this._layout},get_wrapWidth:function(){return this._wrapWidth},set_wrapWidth:function(a){this._wrapWidth=
a;this._dirtyText();return this._wrapWidth},get_letterSpacing:function(){return this._letterSpacing},set_letterSpacing:function(a){this._letterSpacing=a;this._dirtyText();return this._letterSpacing},get_lineSpacing:function(){return this._lineSpacing},set_lineSpacing:function(a){this._lineSpacing=a;this._dirtyText();return this._lineSpacing},dispose:function(){this._align=this._text=this._font=null;null!=this._layout&&(this._layout.dispose(),this._layout=null);D.prototype.dispose.call(this)},_dirtyText:function(){this._flags|=
256},draw:function(a){this.updateLayout();this._layout.draw(a)},set_origin:function(a){this.__originX=0;this.__originY=a;this._dirtyMatrix();return this.__originX},set_originX:function(){this.__originX=0;this._dirtyMatrix();return this.__originX},getNaturalWidth:function(){this.updateLayout();return 0<this.get_wrapWidth()?this.get_wrapWidth():this._layout.bounds.get_width()},getNaturalHeight:function(){this.updateLayout();var a=this._layout.get_lines()*(this._font.lineHeight+this.get_lineSpacing()),
b=this._layout.bounds.get_height();return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},set_text:function(a){a!=this._text&&(this._text=a,this._cleanString(),this._flags|=256);return a},_cleanString:function(){this._text=W.replace(this._text,"<br>","\n");this._text=W.replace(this._text,"\\n","\n")},set_font:function(a){a!=this._font&&(this._font=a,this._flags|=256);return a},updateLayout:function(){0!=(this._flags&256)&&(this._flags&=-257,null!=
this._layout&&(this._layout.dispose(),this._layout=null),this._layout=this._font.layoutText(this._text,this._align,this.get_wrapWidth(),this.get_letterSpacing(),this.get_lineSpacing(),this.get_originY()))},get_localize:function(){return 0!=(this._flags&512)},set_localize:function(a){this._flags=a?this._flags|512:this._flags&-513;return this.get_localize()},__class__:sb,__properties__:v(D.prototype.__properties__,{set_localize:"set_localize",get_localize:"get_localize",set_font:"set_font",set_text:"set_text",
set_lineSpacing:"set_lineSpacing",get_lineSpacing:"get_lineSpacing",set_letterSpacing:"set_letterSpacing",get_letterSpacing:"get_letterSpacing",set_wrapWidth:"set_wrapWidth",get_wrapWidth:"get_wrapWidth",get_layout:"get_layout"})});var ma=function(a){if(null==a.font||""==a.font)a.font=j.get_instance().get_localize().defaultFont;sb.call(this,j.get_instance().get_assets().getFont(a.font),a)};m["com.workinman.display.text.TextBase"]=ma;ma.__name__=["com","workinman","display","text","TextBase"];ma.__super__=
sb;ma.prototype=v(sb.prototype,{get_width:function(){return this.getNaturalWidth()},get_height:function(){return this.getNaturalHeight()},__class__:ma,__properties__:v(sb.prototype.__properties__,{get_height:"get_height",get_width:"get_width"})});var $=function(a){null==a.localize&&(a.localize=!0);ma.call(this,a)};m["com.workinman.display.text.TextLocalized"]=$;$.__name__=["com","workinman","display","text","TextLocalized"];$.__super__=ma;$.prototype=v(ma.prototype,{set_text:function(a){if(!this.get_localize())return ma.prototype.set_text.call(this,
a);var b=j.get_instance().get_localize().getLocalizeData(a);null!=b?(this.set_offsetX(b.get_offsetX()),this.set_offsetY(b.get_offsetY()),this.set_scale(b.get_scale()),b.get_fontName()!=this._font.name&&this.set_font(j.get_instance().get_assets().getFont(b.get_fontName(),!0)),ma.prototype.set_text.call(this,b.get_string())):ma.prototype.set_text.call(this,a);return a},__class__:$});var Zc=function(a){var b=null;switch(a.textAlign){case "left":b=va.Left;break;case "center":b=va.Center;break;case "right":b=
va.Right}this.id=a.id;this._color=a.color;$.call(this,{text:a.id,width:a.textWidth,align:b});this.textLast=this._text;""!=this._text&&this.updateColor()};m["com.workinman.builders.hidden_object.world.elements.builder.BuilderText"]=Zc;Zc.__name__="com,workinman,builders,hidden_object,world,elements,builder,BuilderText".split(",");Zc.__super__=$;Zc.prototype=v($.prototype,{dispose:function(){this.colorText=null;$.prototype.dispose.call(this)},getNaturalWidth:function(){return null==this.colorText&&
""==this._text?0:null==this.colorText?$.prototype.getNaturalWidth.call(this):this.colorText.getNaturalWidth()},getNaturalHeight:function(){return null==this.colorText&&""==this._text?0:null==this.colorText?$.prototype.getNaturalHeight.call(this):this.colorText.getNaturalHeight()},set_text:function(a){var b=""!=a;null==this._text&&(b=!1);a=$.prototype.set_text.call(this,a);b&&(this.textLast=a,this.updateColor());return a},set_originX:function(a){var b=$.prototype.set_originX.call(this,a);-1!=this._color&&
(b=a);this.__originX=b;this._dirtyMatrix();null!=this.colorText&&this.colorText.set_originX(b);return b},set_originY:function(a){a=$.prototype.set_originY.call(this,a);null!=this.colorText&&this.colorText.set_originY(a);return a},updateColor:function(){null!=this.colorText&&(this.removeChild(this.colorText),this.colorText.dispose(),this.colorText=null);h.get_instance().colorMaskText(this,this._color)},boundWidth:function(){if(null!=this._layout){var a=this._layout.bounds.get_width();if(Math.abs(a)!=
Math.POSITIVE_INFINITY)return a}return this.get_width()},boundY:function(){return null!=this._layout?this._layout.bounds.get_y():0},wrapHeight:function(){return null!=this._layout?(this._layout.get_lines()-1)*(this._font.lineHeight+this.get_lineSpacing()):this.get_height()},setColor:function(a){this._color=a},__class__:Zc});var Ic=function(a,b,c){r.call(this,b);var d=0,i=0;h.get_instance().assetEnabled("resultscreen_bg")&&(b=h.get_instance().assets.getAssetData("resultscreen_bg"),this._bg=this.addChild(new O({assetString:b.name},
h.get_instance().assets.getAssetData("resultscreen_bg"),1,1,1)));var b=this._tray=this.addChild(new r(h.get_instance().assetParams("result_bg",{}))),e=this._tray.addChild(new r({})),f=this._tray.addChild(new r({}));this._image=e.addChild(new $c(h.get_instance().assetParams(a.image,{originX:0,originY:0})));d=this._image.get_width();this._image.get_height();e=[];e.push(f.addChild(new J({},a.header)));e.push(f.addChild(new J({},a.copy)));for(var i=0,g=e.length;i<g;){var j=i++;e[j].set_originX(0);0<j&&
e[j].set_originY(0)}for(j=g=i=0;j<e.length;){var k=e[j];++j;k.get_builderText().get_wrapWidth()>i&&(i=k.get_builderText().get_wrapWidth(),g=k.get_builderText().get_scale())}if(0!=i)for(j=0;j<e.length;)k=e[j],++j,0==k.get_builderText().get_wrapWidth()&&k.setTextWrapWidth(i*g);else{i=0<b.get_width()?b.get_width():q.get_CANVAS_WIDTH();for(g=0;g<e.length;)j=e[g],++g,0==j.get_builderText().get_wrapWidth()&&j.setTextWrapWidth(Math.max(0,i-this._image.get_width()-3*h.get_instance().spacing-2*j.get_data().bgPadding))}e[0].get_pos().to(d+
e[0].get_width()*e[0].get_scale()*e[0].get_originX()+h.get_instance().spacing,e[0].get_height()/2*e[0].get_scale());i=1;for(g=e.length;i<g;)j=i++,e[j].get_pos().to(d+h.get_instance().spacing+e[j].get_width()*e[j].get_scale()*e[j].get_originX(),e[j-1].get_pos().get_y()+e[j-1].get_height()/(1==j?2:1)*e[j-1].get_scale()+h.get_instance().spacing);f=f.addChild(new r({}));this._buttons=[];h.get_instance().assetEnabled("button_share")&&(this._btnShare=f.addChild(new H(h.get_instance().assetParams("button_share",
{tween:c},!0,"button_share_down"))),this._btnShare.addChild(new J({},h.get_instance().text.get("share_btn"))),this._buttons.push(this._btnShare));h.get_instance().assetEnabled("button_replay_result")&&(this._btnReplay=f.addChild(new H(h.get_instance().assetParams("button_replay_result",{tween:c},!0,"button_replay_result_down"))),this._btnReplay.addChild(new J({},h.get_instance().text.get("replay_result_btn"))),this._buttons.push(this._btnReplay));h.get_instance().promos_enabled&&(this._btnNext=f.addChild(new H(h.get_instance().assetParams("button_next",
{tween:c},!0,"button_next_down"))),this._btnNext.addChild(new J({},h.get_instance().text.get("next_btn"))),this._buttons.push(this._btnNext));h.get_instance().assetEnabled("button_more")&&(this._btnMore=f.addChild(new H(h.get_instance().assetParams("button_more",{tween:c},!0,"button_more_down"))),this._btnMore.addChild(new J({},h.get_instance().text.get("more_btn"))),this._buttons.push(this._btnMore),this._btnMore.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventResultMoreClick)),
this._moreUrl=h.get_instance().assets.getAssetData("button_more").href);c=this._image.get_height();f=e[0].get_height()*e[0].get_scale();i=1;for(g=e.length;i<g;)j=i++,f+=(e[j].get_height()+e[j].get_builderText().get_offsetY())*e[j].get_scale()+h.get_instance().spacing;i=Math.max(c,f);this._buttons[0].get_pos().to(d+this._buttons[0].get_width()/2+h.get_instance().spacing,f+this._buttons[0].get_height()/2+h.get_instance().spacing);f+=this._buttons[0].get_height()+h.get_instance().spacing;this._heightMax=
i+this._buttons[0].get_height()/2+h.get_instance().spacing;d=1;for(i=this._buttons.length;d<i;)g=d++,this._buttons[g].get_pos().to(this._buttons[g-1].get_pos().get_x()+this._buttons[g-1].get_width()/2+this._buttons[g].get_width()/2+h.get_instance().spacing,this._buttons[g-1].get_pos().get_y());c<f&&this._image.get_pos().set_y(f/2-this._image.get_height()/2);d=c=0;for(f=this._buttons;d<f.length;)i=f[d],++d,c+=h.get_instance().spacing+i.get_width();c-=h.get_instance().spacing;d=e[0].get_width();f=1;
for(i=e.length;f<i;)g=f++,d=Math.max(d,e[g].get_width());if(c<d){d=(d-c)/2;f=0;for(i=this._buttons;f<i.length;)g=i[f],++f,g=g.get_pos(),g.set_x(g.get_x()+d)}d=e[0].get_width()*e[0].get_scale();f=1;for(i=e.length;f<i;)g=f++,d=Math.max(d,e[g].get_width()*e[g].get_scale());d=Math.max(d,c);this._widthMax=this._image.get_width()+h.get_instance().spacing+d;this._image.get_pos().subtract(this._widthMax/2,this._heightMax/2);for(d=0;d<e.length;)f=e[d],++d,f.get_pos().subtract(this._widthMax/2,this._heightMax/
2),c>f.get_width()*f.get_scale()&&f.get_pos().add((c-f.get_width()*f.get_scale())*f.get_origin(),0);null!=this._btnNext&&this._btnNext.get_pos().subtract(this._widthMax/2,this._heightMax/2);null!=this._btnReplay&&this._btnReplay.get_pos().subtract(this._widthMax/2,this._heightMax/2);null!=this._btnShare&&this._btnShare.get_pos().subtract(this._widthMax/2,this._heightMax/2);null!=this._btnMore&&this._btnMore.get_pos().subtract(this._widthMax/2,this._heightMax/2);this._idSound=a.idSound;this._idVO=
a.idVO;this._idVOIdle=a.idVOIdle;0<b.get_width()&&(this._heightMax=Math.max(b.get_height(),this._heightMax),this._widthMax=Math.max(b.get_width(),this._widthMax))};m["com.workinman.builders.hidden_object.world.elements.builder.ResultContainer"]=Ic;Ic.__name__="com,workinman,builders,hidden_object,world,elements,builder,ResultContainer".split(",");Ic.__super__=r;Ic.prototype=v(r.prototype,{dispose:function(){this._bg=this._btnMore=this._btnReplay=this._buttons=this._btnShare=this._btnNext=this._copy=
this._header=this._image=this._tray=null;r.prototype.dispose.call(this)},get_btnReplay:function(){return this._btnReplay},get_btnShare:function(){return this._btnShare},get_btnNext:function(){return this._btnNext},disableButtons:function(){null!=this._btnReplay&&this._btnReplay.disable();null!=this._btnShare&&this._btnShare.disable();null!=this._btnNext&&this._btnNext.disable();null!=this._btnMore&&this._btnMore.disable()},resize:function(){var a=0.9*q.get_CANVAS_HEIGHT()*h.get_instance().game_fill_safe,
b=0.9*q.get_CANVAS_WIDTH(),c=Math.min(1,b/this._widthMax),d=Math.min(1,a/this._heightMax);h.get_instance().scale_up&&(c=b/this._widthMax,d=a/this._heightMax);a=Math.min(c,d);this.set_scale(a);null!=this._bg&&(this._bg.resize(),b=this._bg,b.set_scale(b.get_scale()/a))},open:function(){h.get_instance().playMusic(this._idSound);h.get_instance().vo.playVO({id:this._idVO},!0);h.get_instance().vo.idleVO({id:this._idVOIdle,element:this._btnReplay},!0)},_onEventResultMoreClick:function(){Ua.openURL(this._moreUrl)},
close:function(){h.get_instance().vo.clear()},voPause:function(){h.get_instance().vo.clear()},voPlay:function(){h.get_instance().vo.idleVO({id:this._idVOIdle,element:this._btnReplay},!0)},__class__:Ic,__properties__:v(r.prototype.__properties__,{get_btnNext:"get_btnNext",get_btnShare:"get_btnShare",get_btnReplay:"get_btnReplay"})});var Jc=function(a,b){r.call(this,a);this._clickWall=new sa({color:0,width:8,height:8,origin:0});this._clickWall.get_pos().to(-q.get_CANVAS_WIDTH()/2,-q.get_CANVAS_HEIGHT()/
2);this._clickWall.set_scaleX(q.get_CANVAS_WIDTH()/8);this._clickWall.set_scaleY(q.get_CANVAS_HEIGHT()/8);this._clickWall.set_alpha(0.5);this.addChild(this._clickWall,!1);this._bg=this.addChild(new r(h.get_instance().assetParams("share_bg",{})));this._header=this.addChild(new J({},h.get_instance().text.get("share_header")));this._header.set_originY(0);this._header.setTextWrapWidth(this.get_width());this._copy=this.addChild(new J({},h.get_instance().text.get("share_copy")));this._copy.set_originY(0);
this._copy.setTextWrapWidth(this.get_width());this._header.get_pos().to(0,20);this._copy.get_pos().to(0,this._header.get_pos().get_y()+this._header.get_heightTotal()*this._header.get_scale()+10);this._btnClose=this.addChild(new H(h.get_instance().assetParams("button_close",{tween:b},!0,"button_close_down")));this._btnClose.get_pos().to(this.get_width()/2-this._btnClose.get_width()/2,this._btnClose.get_height()/2);this._btnClose.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventCloseClick));
this._divY=this._copy.get_pos().get_y()+this._copy.get_heightTotal()+this.get_height()/2+(q.get_CANVAS_CENTER_Y()-this.get_height()/2)+10;this._divY=this._copy.get_pos().get_y()+this._copy.get_heightTotal()+10;this._divX=4*h.get_instance().spacing;this._url=window.top.location.href;var c=h.get_instance().share.bgColor,d=h.get_instance().share.textColor,i=0;this._div=window.document.createElement("input");this._div.type="text";this._div.style.display="block";this._div.value=this._url;this._div.style.width=
this.get_width()-this._divX+"px";this._div.style.backgroundColor=c;this._div.style.border="5px solid "+c;this._div.style.color=d;this._div.style.font="12px arial";this._div.style.margin=this._divY+"px auto 0";this._div.style.pointerEvents="auto";this._div.style.textAlign="left";this._div.style.transformOrigin="top left";this._div.style.setProperty("-webkit-appearance","none");this._div.id="game_share_input";this._divHolder=window.document.createElement("div");this._divHolder.id="div_game_share";this._divHolder.style.cssText=
window.document.getElementsByTagName("canvas")[0].parentElement.style.cssText;this._divHolder.style.position="absolute";this._divHolder.style.top="0px";this._divHolder.style.width=window.document.getElementsByTagName("canvas")[0].parentElement.offsetWidth+"px";this._divHolder.style.height=window.document.getElementsByTagName("canvas")[0].parentElement.offsetHeight+"px";this._divHolder.style.backgroundColor="";this._divHolder.style.pointerEvents="none";this._divHolder.appendChild(this._div);window.document.getElementsByTagName("canvas")[0].parentNode.appendChild(this._divHolder);
i+=this._div.offsetHeight+20;Ua.isCopyAvailable()&&(this._btnCopy=this.addChild(new H(h.get_instance().assetParams("button_copy",{tween:b},!0,"button_copy_down"))),this._btnCopy.get_pos().to(0,this._copy.get_pos().get_y()+this._copy.get_heightTotal()+i+this._btnCopy.get_height()/2+10),this._btnCopy.addChild(new J({},h.get_instance().text.get("copy_btn"))),this._btnCopy.get_dispatcher().addEventListener(n.BUTTON_CLICK,s(this,this._onEventCopyClick)));c=this._header.get_heightTotal()*this._header.get_scale()+
10+this._copy.get_heightTotal()*this._copy.get_scale()+10+i+10;null!=this._btnCopy&&(c+=10+this._btnCopy.get_height());this._maxHeight=Math.max(this._bg.get_height(),c);c=this._header.get_pos();c.set_y(c.get_y()-this.get_height()/2);c=this._copy.get_pos();c.set_y(c.get_y()-this.get_height()/2);null!=this._btnCopy&&(c=this._btnCopy.get_pos(),c.set_y(c.get_y()-this.get_height()/2));c=this._btnClose.get_pos();c.set_y(c.get_y()-this.get_height()/2);this._divY-=this.get_height()/2;this.hide()};m["com.workinman.builders.hidden_object.world.elements.builder.ShareContainer"]=
Jc;Jc.__name__="com,workinman,builders,hidden_object,world,elements,builder,ShareContainer".split(",");Jc.__super__=r;Jc.prototype=v(r.prototype,{dispose:function(){this._btnCopy=this._divHolder=this._div=this._btnClose=this._copy=this._header=null;this._clickWall.dispose();this._bg=this._clickWall=null;r.prototype.dispose.call(this)},get_width:function(){return this._bg.get_width()},get_height:function(){return this._maxHeight},_onEventCloseClick:function(){this.hide();j.get_instance().get_dispatcher().dispatchEvent(T.request(n.SHARE_CLOSE))},
_onEventCopyClick:function(){this.copyText()},show:function(){this.set_visible(!0);this._divHolder.style.display="block";this._div.value=this._url},hide:function(){this.set_visible(!1);this._divHolder.style.display="none"},resize:function(){var a=0.9*q.get_CANVAS_HEIGHT()*h.get_instance().game_fill_safe,b=0.9*q.get_CANVAS_WIDTH(),c=Math.min(1,b/this.get_width()),d=Math.min(1,a/this.get_height());h.get_instance().scale_up&&(c=b/this.get_width(),d=a/this.get_height());a=Math.min(c,d);this.set_scale(a);
var b=0,i=eval('document.getElementsByTagName("canvas")[0].getBoundingClientRect().width;')/q.get_CANVAS_WIDTH();this._divHolder.style.width=window.document.getElementsByTagName("canvas")[0].parentElement.offsetWidth+"px";this._divHolder.style.height=window.document.getElementsByTagName("canvas")[0].parentElement.offsetHeight+"px";this._divHolder.style.left="0px";this._div.style.margin=this.get_pos().get_y()*(1==i?1:i)+this._divY*d+"px auto 0";this._div.style.width=this.get_width()*c-this._divX+"px";
h.get_instance().scale_up&&1<a&&(this._div.style.width=this.get_width()-this._divX+"px",this._div.style.transform="scale("+this.get_scale()+","+this.get_scale()+")",b=y.parseFloat(W.replace(this._divHolder.style.width,"px","")),b-=this._bg.get_width()*this.get_scale(),b+=this._divX*this.get_scale()/3,this._div.style.margin=this.get_pos().get_y()*(1==i?1:i)+this._divY*(1==i?d:i)+"px 0px 0px "+b/2+"px")},copyText:function(){Ua.copyClip(this._url,!1)},__class__:Jc});var xa=m["com.workinman.cloud.ASSET_SOUND"]=
{__ename__:["com","workinman","cloud","ASSET_SOUND"],__constructs__:["sfx_button_click","silent","sfx_button_over"]};xa.sfx_button_click=["sfx_button_click",0];xa.sfx_button_click.toString=f;xa.sfx_button_click.__enum__=xa;xa.silent=["silent",1];xa.silent.toString=f;xa.silent.__enum__=xa;xa.sfx_button_over=["sfx_button_over",2];xa.sfx_button_over.toString=f;xa.sfx_button_over.__enum__=xa;xa.__empty_constructs__=[xa.sfx_button_click,xa.silent,xa.sfx_button_over];var g=m["com.workinman.cloud.ASSET_TEX"]=
{__ename__:["com","workinman","cloud","ASSET_TEX"],__constructs__:"template_levelselect_level_unlocked,temp_ui_particle_sparkle,template_levelselect_level_locked,template_promo_bg,story_1,story_3,story_2,temp_level_select_btn_next,temp_ui_hint2,image_object_1,image_object_2,image_object_3,image_object_4,image_object_5,image_object_6,temp_btn_hint_gray,image_object_8,image_object_9,temp_ui_hint1,template_ui_hint,temp_ui_hud_top_bg,flashlight,temp_help_image,template_level_end_star_gray,template_menu_btn_code,temp_quit_btn_no,image_object_7,temp_results_title_bg,image_bg_0,template_levelselect_star_gray,splash,font_helvetica_bold,template_menu_btn_help,font_arial_bold,temp_level_select_btn_prev,template_menu_btn_soundon,template_result_bg,font_arial_regular,temp_quit_bg,template_button_bg,combo_bg,template_gameplay_bg,template_result_image,temp_stopwatch_bg,temp_help_bg,template_share_bg,temp_stopwatch_frame,debug_button,font_helvetica_regular,template_level_end_star_yellow,template_splash_logo,template_menu_btn_resume,combo_frame,template_splash_btn_close,template_ui_btn_pause,template_ui_loader_bg,template_levelselect_star_yellow,font_futura_medium,template_level_end_bg,temp_timer_bg,temp_btn_hint_glow,template_menu_bg,template_splash_button_play,font_futura_bold,template_ui_btn_soundon,template_menu_btn_soundoff,temp_results_description_bg,template_ui_loader_top,template_menu_btn_achievements,template_menu_btn_quit,template_ui_btn_hint,template_ui_btn_soundoff,test_notification,temp_wrong_click,temp_ui_hud_copy3,temp_quit_btn_yes,temp_ui_hud_copy1,temp_ui_hud_copy2,temp_ui_hud_bottom_bg".split(",")};
g.template_levelselect_level_unlocked=["template_levelselect_level_unlocked",0];g.template_levelselect_level_unlocked.toString=f;g.template_levelselect_level_unlocked.__enum__=g;g.temp_ui_particle_sparkle=["temp_ui_particle_sparkle",1];g.temp_ui_particle_sparkle.toString=f;g.temp_ui_particle_sparkle.__enum__=g;g.template_levelselect_level_locked=["template_levelselect_level_locked",2];g.template_levelselect_level_locked.toString=f;g.template_levelselect_level_locked.__enum__=g;g.template_promo_bg=
["template_promo_bg",3];g.template_promo_bg.toString=f;g.template_promo_bg.__enum__=g;g.story_1=["story_1",4];g.story_1.toString=f;g.story_1.__enum__=g;g.story_3=["story_3",5];g.story_3.toString=f;g.story_3.__enum__=g;g.story_2=["story_2",6];g.story_2.toString=f;g.story_2.__enum__=g;g.temp_level_select_btn_next=["temp_level_select_btn_next",7];g.temp_level_select_btn_next.toString=f;g.temp_level_select_btn_next.__enum__=g;g.temp_ui_hint2=["temp_ui_hint2",8];g.temp_ui_hint2.toString=f;g.temp_ui_hint2.__enum__=
g;g.image_object_1=["image_object_1",9];g.image_object_1.toString=f;g.image_object_1.__enum__=g;g.image_object_2=["image_object_2",10];g.image_object_2.toString=f;g.image_object_2.__enum__=g;g.image_object_3=["image_object_3",11];g.image_object_3.toString=f;g.image_object_3.__enum__=g;g.image_object_4=["image_object_4",12];g.image_object_4.toString=f;g.image_object_4.__enum__=g;g.image_object_5=["image_object_5",13];g.image_object_5.toString=f;g.image_object_5.__enum__=g;g.image_object_6=["image_object_6",
14];g.image_object_6.toString=f;g.image_object_6.__enum__=g;g.temp_btn_hint_gray=["temp_btn_hint_gray",15];g.temp_btn_hint_gray.toString=f;g.temp_btn_hint_gray.__enum__=g;g.image_object_8=["image_object_8",16];g.image_object_8.toString=f;g.image_object_8.__enum__=g;g.image_object_9=["image_object_9",17];g.image_object_9.toString=f;g.image_object_9.__enum__=g;g.temp_ui_hint1=["temp_ui_hint1",18];g.temp_ui_hint1.toString=f;g.temp_ui_hint1.__enum__=g;g.template_ui_hint=["template_ui_hint",19];g.template_ui_hint.toString=
f;g.template_ui_hint.__enum__=g;g.temp_ui_hud_top_bg=["temp_ui_hud_top_bg",20];g.temp_ui_hud_top_bg.toString=f;g.temp_ui_hud_top_bg.__enum__=g;g.flashlight=["flashlight",21];g.flashlight.toString=f;g.flashlight.__enum__=g;g.temp_help_image=["temp_help_image",22];g.temp_help_image.toString=f;g.temp_help_image.__enum__=g;g.template_level_end_star_gray=["template_level_end_star_gray",23];g.template_level_end_star_gray.toString=f;g.template_level_end_star_gray.__enum__=g;g.template_menu_btn_code=["template_menu_btn_code",
24];g.template_menu_btn_code.toString=f;g.template_menu_btn_code.__enum__=g;g.temp_quit_btn_no=["temp_quit_btn_no",25];g.temp_quit_btn_no.toString=f;g.temp_quit_btn_no.__enum__=g;g.image_object_7=["image_object_7",26];g.image_object_7.toString=f;g.image_object_7.__enum__=g;g.temp_results_title_bg=["temp_results_title_bg",27];g.temp_results_title_bg.toString=f;g.temp_results_title_bg.__enum__=g;g.image_bg_0=["image_bg_0",28];g.image_bg_0.toString=f;g.image_bg_0.__enum__=g;g.template_levelselect_star_gray=
["template_levelselect_star_gray",29];g.template_levelselect_star_gray.toString=f;g.template_levelselect_star_gray.__enum__=g;g.splash=["splash",30];g.splash.toString=f;g.splash.__enum__=g;g.font_helvetica_bold=["font_helvetica_bold",31];g.font_helvetica_bold.toString=f;g.font_helvetica_bold.__enum__=g;g.template_menu_btn_help=["template_menu_btn_help",32];g.template_menu_btn_help.toString=f;g.template_menu_btn_help.__enum__=g;g.font_arial_bold=["font_arial_bold",33];g.font_arial_bold.toString=f;
g.font_arial_bold.__enum__=g;g.temp_level_select_btn_prev=["temp_level_select_btn_prev",34];g.temp_level_select_btn_prev.toString=f;g.temp_level_select_btn_prev.__enum__=g;g.template_menu_btn_soundon=["template_menu_btn_soundon",35];g.template_menu_btn_soundon.toString=f;g.template_menu_btn_soundon.__enum__=g;g.template_result_bg=["template_result_bg",36];g.template_result_bg.toString=f;g.template_result_bg.__enum__=g;g.font_arial_regular=["font_arial_regular",37];g.font_arial_regular.toString=f;
g.font_arial_regular.__enum__=g;g.temp_quit_bg=["temp_quit_bg",38];g.temp_quit_bg.toString=f;g.temp_quit_bg.__enum__=g;g.template_button_bg=["template_button_bg",39];g.template_button_bg.toString=f;g.template_button_bg.__enum__=g;g.combo_bg=["combo_bg",40];g.combo_bg.toString=f;g.combo_bg.__enum__=g;g.template_gameplay_bg=["template_gameplay_bg",41];g.template_gameplay_bg.toString=f;g.template_gameplay_bg.__enum__=g;g.template_result_image=["template_result_image",42];g.template_result_image.toString=
f;g.template_result_image.__enum__=g;g.temp_stopwatch_bg=["temp_stopwatch_bg",43];g.temp_stopwatch_bg.toString=f;g.temp_stopwatch_bg.__enum__=g;g.temp_help_bg=["temp_help_bg",44];g.temp_help_bg.toString=f;g.temp_help_bg.__enum__=g;g.template_share_bg=["template_share_bg",45];g.template_share_bg.toString=f;g.template_share_bg.__enum__=g;g.temp_stopwatch_frame=["temp_stopwatch_frame",46];g.temp_stopwatch_frame.toString=f;g.temp_stopwatch_frame.__enum__=g;g.debug_button=["debug_button",47];g.debug_button.toString=
f;g.debug_button.__enum__=g;g.font_helvetica_regular=["font_helvetica_regular",48];g.font_helvetica_regular.toString=f;g.font_helvetica_regular.__enum__=g;g.template_level_end_star_yellow=["template_level_end_star_yellow",49];g.template_level_end_star_yellow.toString=f;g.template_level_end_star_yellow.__enum__=g;g.template_splash_logo=["template_splash_logo",50];g.template_splash_logo.toString=f;g.template_splash_logo.__enum__=g;g.template_menu_btn_resume=["template_menu_btn_resume",51];g.template_menu_btn_resume.toString=
f;g.template_menu_btn_resume.__enum__=g;g.combo_frame=["combo_frame",52];g.combo_frame.toString=f;g.combo_frame.__enum__=g;g.template_splash_btn_close=["template_splash_btn_close",53];g.template_splash_btn_close.toString=f;g.template_splash_btn_close.__enum__=g;g.template_ui_btn_pause=["template_ui_btn_pause",54];g.template_ui_btn_pause.toString=f;g.template_ui_btn_pause.__enum__=g;g.template_ui_loader_bg=["template_ui_loader_bg",55];g.template_ui_loader_bg.toString=f;g.template_ui_loader_bg.__enum__=
g;g.template_levelselect_star_yellow=["template_levelselect_star_yellow",56];g.template_levelselect_star_yellow.toString=f;g.template_levelselect_star_yellow.__enum__=g;g.font_futura_medium=["font_futura_medium",57];g.font_futura_medium.toString=f;g.font_futura_medium.__enum__=g;g.template_level_end_bg=["template_level_end_bg",58];g.template_level_end_bg.toString=f;g.template_level_end_bg.__enum__=g;g.temp_timer_bg=["temp_timer_bg",59];g.temp_timer_bg.toString=f;g.temp_timer_bg.__enum__=g;g.temp_btn_hint_glow=
["temp_btn_hint_glow",60];g.temp_btn_hint_glow.toString=f;g.temp_btn_hint_glow.__enum__=g;g.template_menu_bg=["template_menu_bg",61];g.template_menu_bg.toString=f;g.template_menu_bg.__enum__=g;g.template_splash_button_play=["template_splash_button_play",62];g.template_splash_button_play.toString=f;g.template_splash_button_play.__enum__=g;g.font_futura_bold=["font_futura_bold",63];g.font_futura_bold.toString=f;g.font_futura_bold.__enum__=g;g.template_ui_btn_soundon=["template_ui_btn_soundon",64];g.template_ui_btn_soundon.toString=
f;g.template_ui_btn_soundon.__enum__=g;g.template_menu_btn_soundoff=["template_menu_btn_soundoff",65];g.template_menu_btn_soundoff.toString=f;g.template_menu_btn_soundoff.__enum__=g;g.temp_results_description_bg=["temp_results_description_bg",66];g.temp_results_description_bg.toString=f;g.temp_results_description_bg.__enum__=g;g.template_ui_loader_top=["template_ui_loader_top",67];g.template_ui_loader_top.toString=f;g.template_ui_loader_top.__enum__=g;g.template_menu_btn_achievements=["template_menu_btn_achievements",
68];g.template_menu_btn_achievements.toString=f;g.template_menu_btn_achievements.__enum__=g;g.template_menu_btn_quit=["template_menu_btn_quit",69];g.template_menu_btn_quit.toString=f;g.template_menu_btn_quit.__enum__=g;g.template_ui_btn_hint=["template_ui_btn_hint",70];g.template_ui_btn_hint.toString=f;g.template_ui_btn_hint.__enum__=g;g.template_ui_btn_soundoff=["template_ui_btn_soundoff",71];g.template_ui_btn_soundoff.toString=f;g.template_ui_btn_soundoff.__enum__=g;g.test_notification=["test_notification",
72];g.test_notification.toString=f;g.test_notification.__enum__=g;g.temp_wrong_click=["temp_wrong_click",73];g.temp_wrong_click.toString=f;g.temp_wrong_click.__enum__=g;g.temp_ui_hud_copy3=["temp_ui_hud_copy3",74];g.temp_ui_hud_copy3.toString=f;g.temp_ui_hud_copy3.__enum__=g;g.temp_quit_btn_yes=["temp_quit_btn_yes",75];g.temp_quit_btn_yes.toString=f;g.temp_quit_btn_yes.__enum__=g;g.temp_ui_hud_copy1=["temp_ui_hud_copy1",76];g.temp_ui_hud_copy1.toString=f;g.temp_ui_hud_copy1.__enum__=g;g.temp_ui_hud_copy2=
["temp_ui_hud_copy2",77];g.temp_ui_hud_copy2.toString=f;g.temp_ui_hud_copy2.__enum__=g;g.temp_ui_hud_bottom_bg=["temp_ui_hud_bottom_bg",78];g.temp_ui_hud_bottom_bg.toString=f;g.temp_ui_hud_bottom_bg.__enum__=g;g.__empty_constructs__=[g.template_levelselect_level_unlocked,g.temp_ui_particle_sparkle,g.template_levelselect_level_locked,g.template_promo_bg,g.story_1,g.story_3,g.story_2,g.temp_level_select_btn_next,g.temp_ui_hint2,g.image_object_1,g.image_object_2,g.image_object_3,g.image_object_4,g.image_object_5,
g.image_object_6,g.temp_btn_hint_gray,g.image_object_8,g.image_object_9,g.temp_ui_hint1,g.template_ui_hint,g.temp_ui_hud_top_bg,g.flashlight,g.temp_help_image,g.template_level_end_star_gray,g.template_menu_btn_code,g.temp_quit_btn_no,g.image_object_7,g.temp_results_title_bg,g.image_bg_0,g.template_levelselect_star_gray,g.splash,g.font_helvetica_bold,g.template_menu_btn_help,g.font_arial_bold,g.temp_level_select_btn_prev,g.template_menu_btn_soundon,g.template_result_bg,g.font_arial_regular,g.temp_quit_bg,
g.template_button_bg,g.combo_bg,g.template_gameplay_bg,g.template_result_image,g.temp_stopwatch_bg,g.temp_help_bg,g.template_share_bg,g.temp_stopwatch_frame,g.debug_button,g.font_helvetica_regular,g.template_level_end_star_yellow,g.template_splash_logo,g.template_menu_btn_resume,g.combo_frame,g.template_splash_btn_close,g.template_ui_btn_pause,g.template_ui_loader_bg,g.template_levelselect_star_yellow,g.font_futura_medium,g.template_level_end_bg,g.temp_timer_bg,g.temp_btn_hint_glow,g.template_menu_bg,
g.template_splash_button_play,g.font_futura_bold,g.template_ui_btn_soundon,g.template_menu_btn_soundoff,g.temp_results_description_bg,g.template_ui_loader_top,g.template_menu_btn_achievements,g.template_menu_btn_quit,g.template_ui_btn_hint,g.template_ui_btn_soundoff,g.test_notification,g.temp_wrong_click,g.temp_ui_hud_copy3,g.temp_quit_btn_yes,g.temp_ui_hud_copy1,g.temp_ui_hud_copy2,g.temp_ui_hud_bottom_bg];var oa=m["com.workinman.cloud.ASSET_XML"]={__ename__:["com","workinman","cloud","ASSET_XML"],
__constructs__:["config_loading","translation","config"]};oa.config_loading=["config_loading",0];oa.config_loading.toString=f;oa.config_loading.__enum__=oa;oa.translation=["translation",1];oa.translation.toString=f;oa.translation.__enum__=oa;oa.config=["config",2];oa.config.toString=f;oa.config.__enum__=oa;oa.__empty_constructs__=[oa.config_loading,oa.translation,oa.config];var l=m["com.workinman.cloud.CLOUD"]={__ename__:["com","workinman","cloud","CLOUD"],__constructs__:"BOOL_GAME_LOSE,BOOL_GAME_WIN,BOOL_LEVEL_LOSE,BOOL_LEVEL_WIN,BOOL_PAUSED,BOOL_TOUCH_DEVICE,BOOL_CODE_SCREEN_OPEN,BOOL_CODE_UNLOCK,BOOL_ALLOW_UNLOCK,BOOL_LOW_QUALITY_MOBILE,BOOL_JSEMBED_EXISTS,BOOL_OBJECTIVE_MET,BOOL_FAKE_PROGRESS,BOOL_FONTS_LOADED,BOOL_ANDROID_APP,BOOL_IOS_APP,BOOL_IOS,BOOL_ANDROID,INT_HEALTH,INT_LIVES,INT_SCORE,INT_LOADING_SCORE,INT_ACHIEVEMENT_SCORE,INT_CURRENCY,INT_LEVEL,INT_UNIQUE_INC,INT_QUALITY,INT_LOADING_PROGRESS,INT_QUIZ,INT_GAME,INT_SCORE_GOLD,STRING_UNLOCK_CODE,STRING_LEVEL_ID,STRING_SCALE_TYPE,STRING_REGION_ID,STRING_DEBUG_TEXT,STRING_NOTIFICATION,FLOAT_AD_BAR_HEIGHT".split(",")};
l.BOOL_GAME_LOSE=["BOOL_GAME_LOSE",0];l.BOOL_GAME_LOSE.toString=f;l.BOOL_GAME_LOSE.__enum__=l;l.BOOL_GAME_WIN=["BOOL_GAME_WIN",1];l.BOOL_GAME_WIN.toString=f;l.BOOL_GAME_WIN.__enum__=l;l.BOOL_LEVEL_LOSE=["BOOL_LEVEL_LOSE",2];l.BOOL_LEVEL_LOSE.toString=f;l.BOOL_LEVEL_LOSE.__enum__=l;l.BOOL_LEVEL_WIN=["BOOL_LEVEL_WIN",3];l.BOOL_LEVEL_WIN.toString=f;l.BOOL_LEVEL_WIN.__enum__=l;l.BOOL_PAUSED=["BOOL_PAUSED",4];l.BOOL_PAUSED.toString=f;l.BOOL_PAUSED.__enum__=l;l.BOOL_TOUCH_DEVICE=["BOOL_TOUCH_DEVICE",5];
l.BOOL_TOUCH_DEVICE.toString=f;l.BOOL_TOUCH_DEVICE.__enum__=l;l.BOOL_CODE_SCREEN_OPEN=["BOOL_CODE_SCREEN_OPEN",6];l.BOOL_CODE_SCREEN_OPEN.toString=f;l.BOOL_CODE_SCREEN_OPEN.__enum__=l;l.BOOL_CODE_UNLOCK=["BOOL_CODE_UNLOCK",7];l.BOOL_CODE_UNLOCK.toString=f;l.BOOL_CODE_UNLOCK.__enum__=l;l.BOOL_ALLOW_UNLOCK=["BOOL_ALLOW_UNLOCK",8];l.BOOL_ALLOW_UNLOCK.toString=f;l.BOOL_ALLOW_UNLOCK.__enum__=l;l.BOOL_LOW_QUALITY_MOBILE=["BOOL_LOW_QUALITY_MOBILE",9];l.BOOL_LOW_QUALITY_MOBILE.toString=f;l.BOOL_LOW_QUALITY_MOBILE.__enum__=
l;l.BOOL_JSEMBED_EXISTS=["BOOL_JSEMBED_EXISTS",10];l.BOOL_JSEMBED_EXISTS.toString=f;l.BOOL_JSEMBED_EXISTS.__enum__=l;l.BOOL_OBJECTIVE_MET=["BOOL_OBJECTIVE_MET",11];l.BOOL_OBJECTIVE_MET.toString=f;l.BOOL_OBJECTIVE_MET.__enum__=l;l.BOOL_FAKE_PROGRESS=["BOOL_FAKE_PROGRESS",12];l.BOOL_FAKE_PROGRESS.toString=f;l.BOOL_FAKE_PROGRESS.__enum__=l;l.BOOL_FONTS_LOADED=["BOOL_FONTS_LOADED",13];l.BOOL_FONTS_LOADED.toString=f;l.BOOL_FONTS_LOADED.__enum__=l;l.BOOL_ANDROID_APP=["BOOL_ANDROID_APP",14];l.BOOL_ANDROID_APP.toString=
f;l.BOOL_ANDROID_APP.__enum__=l;l.BOOL_IOS_APP=["BOOL_IOS_APP",15];l.BOOL_IOS_APP.toString=f;l.BOOL_IOS_APP.__enum__=l;l.BOOL_IOS=["BOOL_IOS",16];l.BOOL_IOS.toString=f;l.BOOL_IOS.__enum__=l;l.BOOL_ANDROID=["BOOL_ANDROID",17];l.BOOL_ANDROID.toString=f;l.BOOL_ANDROID.__enum__=l;l.INT_HEALTH=["INT_HEALTH",18];l.INT_HEALTH.toString=f;l.INT_HEALTH.__enum__=l;l.INT_LIVES=["INT_LIVES",19];l.INT_LIVES.toString=f;l.INT_LIVES.__enum__=l;l.INT_SCORE=["INT_SCORE",20];l.INT_SCORE.toString=f;l.INT_SCORE.__enum__=
l;l.INT_LOADING_SCORE=["INT_LOADING_SCORE",21];l.INT_LOADING_SCORE.toString=f;l.INT_LOADING_SCORE.__enum__=l;l.INT_ACHIEVEMENT_SCORE=["INT_ACHIEVEMENT_SCORE",22];l.INT_ACHIEVEMENT_SCORE.toString=f;l.INT_ACHIEVEMENT_SCORE.__enum__=l;l.INT_CURRENCY=["INT_CURRENCY",23];l.INT_CURRENCY.toString=f;l.INT_CURRENCY.__enum__=l;l.INT_LEVEL=["INT_LEVEL",24];l.INT_LEVEL.toString=f;l.INT_LEVEL.__enum__=l;l.INT_UNIQUE_INC=["INT_UNIQUE_INC",25];l.INT_UNIQUE_INC.toString=f;l.INT_UNIQUE_INC.__enum__=l;l.INT_QUALITY=
["INT_QUALITY",26];l.INT_QUALITY.toString=f;l.INT_QUALITY.__enum__=l;l.INT_LOADING_PROGRESS=["INT_LOADING_PROGRESS",27];l.INT_LOADING_PROGRESS.toString=f;l.INT_LOADING_PROGRESS.__enum__=l;l.INT_QUIZ=["INT_QUIZ",28];l.INT_QUIZ.toString=f;l.INT_QUIZ.__enum__=l;l.INT_GAME=["INT_GAME",29];l.INT_GAME.toString=f;l.INT_GAME.__enum__=l;l.INT_SCORE_GOLD=["INT_SCORE_GOLD",30];l.INT_SCORE_GOLD.toString=f;l.INT_SCORE_GOLD.__enum__=l;l.STRING_UNLOCK_CODE=["STRING_UNLOCK_CODE",31];l.STRING_UNLOCK_CODE.toString=
f;l.STRING_UNLOCK_CODE.__enum__=l;l.STRING_LEVEL_ID=["STRING_LEVEL_ID",32];l.STRING_LEVEL_ID.toString=f;l.STRING_LEVEL_ID.__enum__=l;l.STRING_SCALE_TYPE=["STRING_SCALE_TYPE",33];l.STRING_SCALE_TYPE.toString=f;l.STRING_SCALE_TYPE.__enum__=l;l.STRING_REGION_ID=["STRING_REGION_ID",34];l.STRING_REGION_ID.toString=f;l.STRING_REGION_ID.__enum__=l;l.STRING_DEBUG_TEXT=["STRING_DEBUG_TEXT",35];l.STRING_DEBUG_TEXT.toString=f;l.STRING_DEBUG_TEXT.__enum__=l;l.STRING_NOTIFICATION=["STRING_NOTIFICATION",36];l.STRING_NOTIFICATION.toString=
f;l.STRING_NOTIFICATION.__enum__=l;l.FLOAT_AD_BAR_HEIGHT=["FLOAT_AD_BAR_HEIGHT",37];l.FLOAT_AD_BAR_HEIGHT.toString=f;l.FLOAT_AD_BAR_HEIGHT.__enum__=l;l.__empty_constructs__=[l.BOOL_GAME_LOSE,l.BOOL_GAME_WIN,l.BOOL_LEVEL_LOSE,l.BOOL_LEVEL_WIN,l.BOOL_PAUSED,l.BOOL_TOUCH_DEVICE,l.BOOL_CODE_SCREEN_OPEN,l.BOOL_CODE_UNLOCK,l.BOOL_ALLOW_UNLOCK,l.BOOL_LOW_QUALITY_MOBILE,l.BOOL_JSEMBED_EXISTS,l.BOOL_OBJECTIVE_MET,l.BOOL_FAKE_PROGRESS,l.BOOL_FONTS_LOADED,l.BOOL_ANDROID_APP,l.BOOL_IOS_APP,l.BOOL_IOS,l.BOOL_ANDROID,
l.INT_HEALTH,l.INT_LIVES,l.INT_SCORE,l.INT_LOADING_SCORE,l.INT_ACHIEVEMENT_SCORE,l.INT_CURRENCY,l.INT_LEVEL,l.INT_UNIQUE_INC,l.INT_QUALITY,l.INT_LOADING_PROGRESS,l.INT_QUIZ,l.INT_GAME,l.INT_SCORE_GOLD,l.STRING_UNLOCK_CODE,l.STRING_LEVEL_ID,l.STRING_SCALE_TYPE,l.STRING_REGION_ID,l.STRING_DEBUG_TEXT,l.STRING_NOTIFICATION,l.FLOAT_AD_BAR_HEIGHT];var q=function(){};m["com.workinman.cloud.ConstantsApp"]=q;q.__name__=["com","workinman","cloud","ConstantsApp"];q.__properties__={get_CANVAS_TOP:"get_CANVAS_TOP",
get_CANVAS_CENTER_Y:"get_CANVAS_CENTER_Y",get_CANVAS_CENTER_X:"get_CANVAS_CENTER_X",get_CANVAS_HEIGHT:"get_CANVAS_HEIGHT",get_CANVAS_HEIGHT_REAL:"get_CANVAS_HEIGHT_REAL",get_CANVAS_WIDTH:"get_CANVAS_WIDTH",get_CANVAS_LEFT:"get_CANVAS_LEFT"};q.dispatchFlowEvent=function(a){q._flowDelegate(a)};q.setFlowDelegate=function(a){q._flowDelegate=a};q.allAudioSupported=function(){return!0};q.get_CANVAS_LEFT=function(){return-q._canvasOrigin};q.get_CANVAS_WIDTH=function(){return q._canvasWidth};q.get_CANVAS_HEIGHT_REAL=
function(){return q._canvasHeight};q.get_CANVAS_HEIGHT=function(){return q._canvasHeight-j.get_instance().getFloat(l.FLOAT_AD_BAR_HEIGHT)};q.get_CANVAS_CENTER_X=function(){return q.get_CANVAS_WIDTH()/2};q.get_CANVAS_CENTER_Y=function(){return q.get_CANVAS_HEIGHT()/2+j.get_instance().getFloat(l.FLOAT_AD_BAR_HEIGHT)};q.get_CANVAS_TOP=function(){return j.get_instance().getFloat(l.FLOAT_AD_BAR_HEIGHT)};q.setCanvasVars=function(a,b,c){q._canvasOrigin=c;q._canvasWidth=a;q._canvasHeight=b};q.shuffleArray=
function(a){for(var b,c,d=a.length;0<=--d;)c=Math.floor(Math.random()*(d+1)),b=a[c],a[c]=a[d],a[d]=b;return a};var n=m["com.workinman.cloud.EVENT"]={__ename__:["com","workinman","cloud","EVENT"],__constructs__:"GAME_OVER,PAUSE,UNPAUSE,MUTE_TOGGLE,RESIZE_CANVAS,UPDATE_DISPLAY,TWEENS_ALL_COMPLETE,TWEEN_CURRENT_COMPLETE,INITIAL_LOAD_COMPLETE,WORLD_GENERATION_COMPLETE,FILES_LOADING,FILES_ERROR,FILE_RESULT,ALL_POOLS_FULL,VO_PAUSED,VO_ENDED,VO_STARTED,INPUT_ARBITRARY_KEY,INPUT_FIELD_ENTER,ITEM_SELECT,BUTTON_CLICK,BUTTON_OVER,BUTTON_OUT,BUTTON_UP,BUTTON_DOWN,BUTTON_DRAG,BUTTON_DROP,BUTTON_CANCEL_DRAG,DIALOGUE_LINE_COMPLETE,DIALOGUE_QUEUE_COMPLETE,TUTORIAL_SWIPE,TUTORIAL_CLICK_LOCATION,ADD_AD_BAR,PREVIEW_QUESTION,PREVIEW_RESULT,PREVIEW_WIN,PREVIEW_LOSE,SHARE_CLOSE,LEVEL_SELECTED,STOP_FREEZE".split(",")};
n.GAME_OVER=["GAME_OVER",0];n.GAME_OVER.toString=f;n.GAME_OVER.__enum__=n;n.PAUSE=["PAUSE",1];n.PAUSE.toString=f;n.PAUSE.__enum__=n;n.UNPAUSE=["UNPAUSE",2];n.UNPAUSE.toString=f;n.UNPAUSE.__enum__=n;n.MUTE_TOGGLE=["MUTE_TOGGLE",3];n.MUTE_TOGGLE.toString=f;n.MUTE_TOGGLE.__enum__=n;n.RESIZE_CANVAS=["RESIZE_CANVAS",4];n.RESIZE_CANVAS.toString=f;n.RESIZE_CANVAS.__enum__=n;n.UPDATE_DISPLAY=["UPDATE_DISPLAY",5];n.UPDATE_DISPLAY.toString=f;n.UPDATE_DISPLAY.__enum__=n;n.TWEENS_ALL_COMPLETE=["TWEENS_ALL_COMPLETE",
6];n.TWEENS_ALL_COMPLETE.toString=f;n.TWEENS_ALL_COMPLETE.__enum__=n;n.TWEEN_CURRENT_COMPLETE=["TWEEN_CURRENT_COMPLETE",7];n.TWEEN_CURRENT_COMPLETE.toString=f;n.TWEEN_CURRENT_COMPLETE.__enum__=n;n.INITIAL_LOAD_COMPLETE=["INITIAL_LOAD_COMPLETE",8];n.INITIAL_LOAD_COMPLETE.toString=f;n.INITIAL_LOAD_COMPLETE.__enum__=n;n.WORLD_GENERATION_COMPLETE=["WORLD_GENERATION_COMPLETE",9];n.WORLD_GENERATION_COMPLETE.toString=f;n.WORLD_GENERATION_COMPLETE.__enum__=n;n.FILES_LOADING=["FILES_LOADING",10];n.FILES_LOADING.toString=
f;n.FILES_LOADING.__enum__=n;n.FILES_ERROR=["FILES_ERROR",11];n.FILES_ERROR.toString=f;n.FILES_ERROR.__enum__=n;n.FILE_RESULT=["FILE_RESULT",12];n.FILE_RESULT.toString=f;n.FILE_RESULT.__enum__=n;n.ALL_POOLS_FULL=["ALL_POOLS_FULL",13];n.ALL_POOLS_FULL.toString=f;n.ALL_POOLS_FULL.__enum__=n;n.VO_PAUSED=["VO_PAUSED",14];n.VO_PAUSED.toString=f;n.VO_PAUSED.__enum__=n;n.VO_ENDED=["VO_ENDED",15];n.VO_ENDED.toString=f;n.VO_ENDED.__enum__=n;n.VO_STARTED=["VO_STARTED",16];n.VO_STARTED.toString=f;n.VO_STARTED.__enum__=
n;n.INPUT_ARBITRARY_KEY=["INPUT_ARBITRARY_KEY",17];n.INPUT_ARBITRARY_KEY.toString=f;n.INPUT_ARBITRARY_KEY.__enum__=n;n.INPUT_FIELD_ENTER=["INPUT_FIELD_ENTER",18];n.INPUT_FIELD_ENTER.toString=f;n.INPUT_FIELD_ENTER.__enum__=n;n.ITEM_SELECT=["ITEM_SELECT",19];n.ITEM_SELECT.toString=f;n.ITEM_SELECT.__enum__=n;n.BUTTON_CLICK=["BUTTON_CLICK",20];n.BUTTON_CLICK.toString=f;n.BUTTON_CLICK.__enum__=n;n.BUTTON_OVER=["BUTTON_OVER",21];n.BUTTON_OVER.toString=f;n.BUTTON_OVER.__enum__=n;n.BUTTON_OUT=["BUTTON_OUT",
22];n.BUTTON_OUT.toString=f;n.BUTTON_OUT.__enum__=n;n.BUTTON_UP=["BUTTON_UP",23];n.BUTTON_UP.toString=f;n.BUTTON_UP.__enum__=n;n.BUTTON_DOWN=["BUTTON_DOWN",24];n.BUTTON_DOWN.toString=f;n.BUTTON_DOWN.__enum__=n;n.BUTTON_DRAG=["BUTTON_DRAG",25];n.BUTTON_DRAG.toString=f;n.BUTTON_DRAG.__enum__=n;n.BUTTON_DROP=["BUTTON_DROP",26];n.BUTTON_DROP.toString=f;n.BUTTON_DROP.__enum__=n;n.BUTTON_CANCEL_DRAG=["BUTTON_CANCEL_DRAG",27];n.BUTTON_CANCEL_DRAG.toString=f;n.BUTTON_CANCEL_DRAG.__enum__=n;n.DIALOGUE_LINE_COMPLETE=
["DIALOGUE_LINE_COMPLETE",28];n.DIALOGUE_LINE_COMPLETE.toString=f;n.DIALOGUE_LINE_COMPLETE.__enum__=n;n.DIALOGUE_QUEUE_COMPLETE=["DIALOGUE_QUEUE_COMPLETE",29];n.DIALOGUE_QUEUE_COMPLETE.toString=f;n.DIALOGUE_QUEUE_COMPLETE.__enum__=n;n.TUTORIAL_SWIPE=["TUTORIAL_SWIPE",30];n.TUTORIAL_SWIPE.toString=f;n.TUTORIAL_SWIPE.__enum__=n;n.TUTORIAL_CLICK_LOCATION=["TUTORIAL_CLICK_LOCATION",31];n.TUTORIAL_CLICK_LOCATION.toString=f;n.TUTORIAL_CLICK_LOCATION.__enum__=n;n.ADD_AD_BAR=["ADD_AD_BAR",32];n.ADD_AD_BAR.toString=
f;n.ADD_AD_BAR.__enum__=n;n.PREVIEW_QUESTION=["PREVIEW_QUESTION",33];n.PREVIEW_QUESTION.toString=f;n.PREVIEW_QUESTION.__enum__=n;n.PREVIEW_RESULT=["PREVIEW_RESULT",34];n.PREVIEW_RESULT.toString=f;n.PREVIEW_RESULT.__enum__=n;n.PREVIEW_WIN=["PREVIEW_WIN",35];n.PREVIEW_WIN.toString=f;n.PREVIEW_WIN.__enum__=n;n.PREVIEW_LOSE=["PREVIEW_LOSE",36];n.PREVIEW_LOSE.toString=f;n.PREVIEW_LOSE.__enum__=n;n.SHARE_CLOSE=["SHARE_CLOSE",37];n.SHARE_CLOSE.toString=f;n.SHARE_CLOSE.__enum__=n;n.LEVEL_SELECTED=["LEVEL_SELECTED",
38];n.LEVEL_SELECTED.toString=f;n.LEVEL_SELECTED.__enum__=n;n.STOP_FREEZE=["STOP_FREEZE",39];n.STOP_FREEZE.toString=f;n.STOP_FREEZE.__enum__=n;n.__empty_constructs__=[n.GAME_OVER,n.PAUSE,n.UNPAUSE,n.MUTE_TOGGLE,n.RESIZE_CANVAS,n.UPDATE_DISPLAY,n.TWEENS_ALL_COMPLETE,n.TWEEN_CURRENT_COMPLETE,n.INITIAL_LOAD_COMPLETE,n.WORLD_GENERATION_COMPLETE,n.FILES_LOADING,n.FILES_ERROR,n.FILE_RESULT,n.ALL_POOLS_FULL,n.VO_PAUSED,n.VO_ENDED,n.VO_STARTED,n.INPUT_ARBITRARY_KEY,n.INPUT_FIELD_ENTER,n.ITEM_SELECT,n.BUTTON_CLICK,
n.BUTTON_OVER,n.BUTTON_OUT,n.BUTTON_UP,n.BUTTON_DOWN,n.BUTTON_DRAG,n.BUTTON_DROP,n.BUTTON_CANCEL_DRAG,n.DIALOGUE_LINE_COMPLETE,n.DIALOGUE_QUEUE_COMPLETE,n.TUTORIAL_SWIPE,n.TUTORIAL_CLICK_LOCATION,n.ADD_AD_BAR,n.PREVIEW_QUESTION,n.PREVIEW_RESULT,n.PREVIEW_WIN,n.PREVIEW_LOSE,n.SHARE_CLOSE,n.LEVEL_SELECTED,n.STOP_FREEZE];var X=m["com.workinman.cloud.LAYER"]={__ename__:["com","workinman","cloud","LAYER"],__constructs__:["z__MAINUI","BG","WORLD","FOREGROUND"]};X.z__MAINUI=["z__MAINUI",0];X.z__MAINUI.toString=
f;X.z__MAINUI.__enum__=X;X.BG=["BG",1];X.BG.toString=f;X.BG.__enum__=X;X.WORLD=["WORLD",2];X.WORLD.toString=f;X.WORLD.__enum__=X;X.FOREGROUND=["FOREGROUND",3];X.FOREGROUND.toString=f;X.FOREGROUND.__enum__=X;X.__empty_constructs__=[X.z__MAINUI,X.BG,X.WORLD,X.FOREGROUND];var j=function(){this._TIMER_STACK=0.1;this._values=new Ia;this._defaults=new Ia};m["com.workinman.cloud.WMCloud"]=j;j.__name__=["com","workinman","cloud","WMCloud"];j.__properties__={get_instance:"get_instance"};j.get_instance=function(){null==
j.__instance&&(j.__instance=new j,j.__instance.init());return j.__instance};j.prototype={init:function(){this._dispatcher=Xa.request();this._input=new Ed;this._assets=new Fd;this._sound=new Gd;this._random=new Hd;this._localize=new Id;this._achievements=new Jd;this._dialogue=new Kd;this._stack=[];this._timerStack=-1;this._flagStackPaused=!1;this.setString(l.STRING_REGION_ID,"en")},get_dispatcher:function(){return this._dispatcher},get_input:function(){return this._input},get_assets:function(){return this._assets},
get_sound:function(){return this._sound},get_random:function(){return this._random},get_localize:function(){return this._localize},get_achievements:function(){return this._achievements},get_dialogue:function(){return this._dialogue},setBool:function(a,b){this.setValue(a,b)},getBool:function(a){return this._values.get(a)},setFloat:function(a,b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},setInt:function(a,b){this.setValue(a,b)},modifyInt:function(a,b){return Math.floor(this.modifyValue(a,
b))},getInt:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,b)},getString:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},getValue:function(a){return this._values.get(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},modifyValue:function(a,b){var c=this.getValue(a)+b;this._values.set(a,c);this._updateDisplays(a);return this.getValue(a)},
resetValue:function(a){var b=this._defaults.get(a);this._values.set(a,b);this._updateDisplays(a)},sharedObjectGetData:function(a){try{var b=fb.getLocal(a),c=b.get_data();b.dispose();return c}catch(d){return{}}},sharedObjectSetData:function(a,b){try{var c=fb.getLocal(a);c.set_data(b);c.flush();c.dispose()}catch(d){null}},_updateDisplays:function(a){this._dispatcher.dispatchEvent(T.request(n.UPDATE_DISPLAY,function(){var b=new K;b.set("val",a);return b}(this)))},stack:function(a){this._timerStack=this._TIMER_STACK;
for(var b=0;b<a.length;){var c=a[b];++b;this._stack.push(c)}},update:function(a){this._updateStack(a);this._input.update(a);this._sound.update(a)},pauseStack:function(){this._flagStackPaused=!0},unpauseStack:function(){this._flagStackPaused=!1},_updateStack:function(a){1>this._stack.length||this._flagStackPaused||(this._timerStack-=a,0>this._timerStack&&(this._stack[0](),this._stack.shift(),this._timerStack=this._TIMER_STACK))},__class__:j,__properties__:{get_dialogue:"get_dialogue",get_achievements:"get_achievements",
get_localize:"get_localize",get_random:"get_random",get_sound:"get_sound",get_assets:"get_assets",get_input:"get_input",get_dispatcher:"get_dispatcher"}};var rb=function(){this._assetPaths=new Ia;this._assetPaths.set(g.template_levelselect_level_unlocked,"template_levelselect_level_unlocked");"template_levelselect_level_unlocked";this._assetPaths.set(g.temp_ui_particle_sparkle,"temp_ui_particle_sparkle");"temp_ui_particle_sparkle";this._assetPaths.set(g.template_levelselect_level_locked,"template_levelselect_level_locked");
"template_levelselect_level_locked";this._assetPaths.set(g.template_promo_bg,"template_promo_bg");"template_promo_bg";this._assetPaths.set(g.story_1,"story_1");"story_1";this._assetPaths.set(g.story_3,"story_3");"story_3";this._assetPaths.set(g.story_2,"story_2");"story_2";this._assetPaths.set(g.temp_level_select_btn_next,"temp_level_select_btn_next");"temp_level_select_btn_next";this._assetPaths.set(g.temp_ui_hint2,"temp_ui_hint2");"temp_ui_hint2";this._assetPaths.set(g.image_object_1,"image_object_1");
"image_object_1";this._assetPaths.set(g.image_object_2,"image_object_2");"image_object_2";this._assetPaths.set(g.image_object_3,"image_object_3");"image_object_3";this._assetPaths.set(g.image_object_4,"image_object_4");"image_object_4";this._assetPaths.set(g.image_object_5,"image_object_5");"image_object_5";this._assetPaths.set(g.image_object_6,"image_object_6");"image_object_6";this._assetPaths.set(g.temp_btn_hint_gray,"temp_btn_hint_gray");"temp_btn_hint_gray";this._assetPaths.set(g.image_object_8,
"image_object_8");"image_object_8";this._assetPaths.set(g.image_object_9,"image_object_9");"image_object_9";this._assetPaths.set(g.temp_ui_hint1,"temp_ui_hint1");"temp_ui_hint1";this._assetPaths.set(g.template_ui_hint,"template_ui_hint");"template_ui_hint";this._assetPaths.set(g.temp_ui_hud_top_bg,"temp_ui_hud_top_bg");"temp_ui_hud_top_bg";this._assetPaths.set(g.flashlight,"flashlight");"flashlight";this._assetPaths.set(g.temp_help_image,"temp_help_image");"temp_help_image";this._assetPaths.set(g.template_level_end_star_gray,
"template_level_end_star_gray");"template_level_end_star_gray";this._assetPaths.set(g.template_menu_btn_code,"template_menu_btn_code");"template_menu_btn_code";this._assetPaths.set(g.temp_quit_btn_no,"temp_quit_btn_no");"temp_quit_btn_no";this._assetPaths.set(g.image_object_7,"image_object_7");"image_object_7";this._assetPaths.set(g.temp_results_title_bg,"temp_results_title_bg");"temp_results_title_bg";this._assetPaths.set(g.image_bg_0,"image_bg_0");"image_bg_0";this._assetPaths.set(g.template_levelselect_star_gray,
"template_levelselect_star_gray");"template_levelselect_star_gray";this._assetPaths.set(g.splash,"splash");"splash";this._assetPaths.set(g.font_helvetica_bold,"font_helvetica_bold");"font_helvetica_bold";this._assetPaths.set(g.template_menu_btn_help,"template_menu_btn_help");"template_menu_btn_help";this._assetPaths.set(g.font_arial_bold,"font_arial_bold");"font_arial_bold";this._assetPaths.set(g.temp_level_select_btn_prev,"temp_level_select_btn_prev");"temp_level_select_btn_prev";this._assetPaths.set(g.template_menu_btn_soundon,
"template_menu_btn_soundon");"template_menu_btn_soundon";this._assetPaths.set(g.template_result_bg,"template_result_bg");"template_result_bg";this._assetPaths.set(g.font_arial_regular,"font_arial_regular");"font_arial_regular";this._assetPaths.set(g.temp_quit_bg,"temp_quit_bg");"temp_quit_bg";this._assetPaths.set(g.template_button_bg,"template_button_bg");"template_button_bg";this._assetPaths.set(g.combo_bg,"combo_bg");"combo_bg";this._assetPaths.set(g.template_gameplay_bg,"template_gameplay_bg");
"template_gameplay_bg";this._assetPaths.set(g.template_result_image,"template_result_image");"template_result_image";this._assetPaths.set(g.temp_stopwatch_bg,"temp_stopwatch_bg");"temp_stopwatch_bg";this._assetPaths.set(g.temp_help_bg,"temp_help_bg");"temp_help_bg";this._assetPaths.set(g.template_share_bg,"template_share_bg");"template_share_bg";this._assetPaths.set(g.temp_stopwatch_frame,"temp_stopwatch_frame");"temp_stopwatch_frame";this._assetPaths.set(g.debug_button,"debug_button");"debug_button";
this._assetPaths.set(g.font_helvetica_regular,"font_helvetica_regular");"font_helvetica_regular";this._assetPaths.set(g.template_level_end_star_yellow,"template_level_end_star_yellow");"template_level_end_star_yellow";this._assetPaths.set(g.template_splash_logo,"template_splash_logo");"template_splash_logo";this._assetPaths.set(g.template_menu_btn_resume,"template_menu_btn_resume");"template_menu_btn_resume";this._assetPaths.set(g.combo_frame,"combo_frame");"combo_frame";this._assetPaths.set(g.template_splash_btn_close,
"template_splash_btn_close");"template_splash_btn_close";this._assetPaths.set(g.template_ui_btn_pause,"template_ui_btn_pause");"template_ui_btn_pause";this._assetPaths.set(g.template_ui_loader_bg,"template_ui_loader_bg");"template_ui_loader_bg";this._assetPaths.set(g.template_levelselect_star_yellow,"template_levelselect_star_yellow");"template_levelselect_star_yellow";this._assetPaths.set(g.font_futura_medium,"font_futura_medium");"font_futura_medium";this._assetPaths.set(g.template_level_end_bg,
"template_level_end_bg");"template_level_end_bg";this._assetPaths.set(g.temp_timer_bg,"temp_timer_bg");"temp_timer_bg";this._assetPaths.set(g.temp_btn_hint_glow,"temp_btn_hint_glow");"temp_btn_hint_glow";this._assetPaths.set(g.template_menu_bg,"template_menu_bg");"template_menu_bg";this._assetPaths.set(g.template_splash_button_play,"template_splash_button_play");"template_splash_button_play";this._assetPaths.set(g.font_futura_bold,"font_futura_bold");"font_futura_bold";this._assetPaths.set(g.template_ui_btn_soundon,
"template_ui_btn_soundon");"template_ui_btn_soundon";this._assetPaths.set(g.template_menu_btn_soundoff,"template_menu_btn_soundoff");"template_menu_btn_soundoff";this._assetPaths.set(g.temp_results_description_bg,"temp_results_description_bg");"temp_results_description_bg";this._assetPaths.set(g.template_ui_loader_top,"template_ui_loader_top");"template_ui_loader_top";this._assetPaths.set(g.template_menu_btn_achievements,"template_menu_btn_achievements");"template_menu_btn_achievements";this._assetPaths.set(g.template_menu_btn_quit,
"template_menu_btn_quit");"template_menu_btn_quit";this._assetPaths.set(g.template_ui_btn_hint,"template_ui_btn_hint");"template_ui_btn_hint";this._assetPaths.set(g.template_ui_btn_soundoff,"template_ui_btn_soundoff");"template_ui_btn_soundoff";this._assetPaths.set(g.test_notification,"test_notification");"test_notification";this._assetPaths.set(g.temp_wrong_click,"temp_wrong_click");"temp_wrong_click";this._assetPaths.set(g.temp_ui_hud_copy3,"temp_ui_hud_copy3");"temp_ui_hud_copy3";this._assetPaths.set(g.temp_quit_btn_yes,
"temp_quit_btn_yes");"temp_quit_btn_yes";this._assetPaths.set(g.temp_ui_hud_copy1,"temp_ui_hud_copy1");"temp_ui_hud_copy1";this._assetPaths.set(g.temp_ui_hud_copy2,"temp_ui_hud_copy2");"temp_ui_hud_copy2";this._assetPaths.set(g.temp_ui_hud_bottom_bg,"temp_ui_hud_bottom_bg");"temp_ui_hud_bottom_bg";this._xmlPaths=new Ia;this._xmlPaths.set(oa.config_loading,"config/config_loading.xml");"config/config_loading.xml";this._xmlPaths.set(oa.translation,"translation.xml");"translation.xml";this._xmlPaths.set(oa.config,
"config/config.xml");"config/config.xml";this._soundPaths=new Ia;this._soundPaths.set(xa.sfx_button_click,"audio/sfx_button_click.mp3");"audio/sfx_button_click.mp3";this._soundPaths.set(xa.silent,"audio/silent.ogg");"audio/silent.ogg";this._soundPaths.set(xa.sfx_button_over,"audio/sfx_button_over.mp3");"audio/sfx_button_over.mp3";this._configXmls=[];this._configXmls.push(oa.config);this._configXmls.push(oa.config_loading)};m["com.workinman.cloud.WMManifest"]=rb;rb.__name__=["com","workinman","cloud",
"WMManifest"];rb.stringToTexture=function(a){return U.createEnum(g,a)};rb.stringToXml=function(a){return U.createEnum(oa,a)};rb.stringToSound=function(a){return U.createEnum(xa,a)};rb.prototype={getPathForTexture:function(a){return this._assetPaths.get(a)},getPathForXml:function(a){return this._xmlPaths.get(a)},getPathForSound:function(a){return this._soundPaths.get(a)},get_config:function(){return this._configXmls},__class__:rb,__properties__:{get_config:"get_config"}};var aa=m["com.workinman.cloud.input.INPUT_PHASE"]=
{__ename__:["com","workinman","cloud","input","INPUT_PHASE"],__constructs__:["DOWN","UP","MOVE"]};aa.DOWN=["DOWN",0];aa.DOWN.toString=f;aa.DOWN.__enum__=aa;aa.UP=["UP",1];aa.UP.toString=f;aa.UP.__enum__=aa;aa.MOVE=["MOVE",2];aa.MOVE.toString=f;aa.MOVE.__enum__=aa;aa.__empty_constructs__=[aa.DOWN,aa.UP,aa.MOVE];var Z=m["com.workinman.cloud.input.INPUT_SWIPE"]={__ename__:["com","workinman","cloud","input","INPUT_SWIPE"],__constructs__:["NONE","LEFT","RIGHT","UP","DOWN"]};Z.NONE=["NONE",0];Z.NONE.toString=
f;Z.NONE.__enum__=Z;Z.LEFT=["LEFT",1];Z.LEFT.toString=f;Z.LEFT.__enum__=Z;Z.RIGHT=["RIGHT",2];Z.RIGHT.toString=f;Z.RIGHT.__enum__=Z;Z.UP=["UP",3];Z.UP.toString=f;Z.UP.__enum__=Z;Z.DOWN=["DOWN",4];Z.DOWN.toString=f;Z.DOWN.__enum__=Z;Z.__empty_constructs__=[Z.NONE,Z.LEFT,Z.RIGHT,Z.UP,Z.DOWN];var k=m["com.workinman.cloud.input.INPUT_TYPE"]={__ename__:["com","workinman","cloud","input","INPUT_TYPE"],__constructs__:"CLICK,SPACE,ENTER,UP,DOWN,LEFT,RIGHT,LBRACK,RBRACK,TAB,SHIFT,CONTROL,ESC,BACKSPACE,TILDE,NUM_1,NUM_2,NUM_3,NUM_4,NUM_5,NUM_6,NUM_7,NUM_8,NUM_9,NUM_0,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,VIRTUAL_JUMP,VIRTUAL_FLASH,DB_A,DB_B,DB_C,DB_D,DB_E,DB_F,HOLD,PINCH_IN,PINCH_OUT".split(",")};
k.CLICK=["CLICK",0];k.CLICK.toString=f;k.CLICK.__enum__=k;k.SPACE=["SPACE",1];k.SPACE.toString=f;k.SPACE.__enum__=k;k.ENTER=["ENTER",2];k.ENTER.toString=f;k.ENTER.__enum__=k;k.UP=["UP",3];k.UP.toString=f;k.UP.__enum__=k;k.DOWN=["DOWN",4];k.DOWN.toString=f;k.DOWN.__enum__=k;k.LEFT=["LEFT",5];k.LEFT.toString=f;k.LEFT.__enum__=k;k.RIGHT=["RIGHT",6];k.RIGHT.toString=f;k.RIGHT.__enum__=k;k.LBRACK=["LBRACK",7];k.LBRACK.toString=f;k.LBRACK.__enum__=k;k.RBRACK=["RBRACK",8];k.RBRACK.toString=f;k.RBRACK.__enum__=
k;k.TAB=["TAB",9];k.TAB.toString=f;k.TAB.__enum__=k;k.SHIFT=["SHIFT",10];k.SHIFT.toString=f;k.SHIFT.__enum__=k;k.CONTROL=["CONTROL",11];k.CONTROL.toString=f;k.CONTROL.__enum__=k;k.ESC=["ESC",12];k.ESC.toString=f;k.ESC.__enum__=k;k.BACKSPACE=["BACKSPACE",13];k.BACKSPACE.toString=f;k.BACKSPACE.__enum__=k;k.TILDE=["TILDE",14];k.TILDE.toString=f;k.TILDE.__enum__=k;k.NUM_1=["NUM_1",15];k.NUM_1.toString=f;k.NUM_1.__enum__=k;k.NUM_2=["NUM_2",16];k.NUM_2.toString=f;k.NUM_2.__enum__=k;k.NUM_3=["NUM_3",17];
k.NUM_3.toString=f;k.NUM_3.__enum__=k;k.NUM_4=["NUM_4",18];k.NUM_4.toString=f;k.NUM_4.__enum__=k;k.NUM_5=["NUM_5",19];k.NUM_5.toString=f;k.NUM_5.__enum__=k;k.NUM_6=["NUM_6",20];k.NUM_6.toString=f;k.NUM_6.__enum__=k;k.NUM_7=["NUM_7",21];k.NUM_7.toString=f;k.NUM_7.__enum__=k;k.NUM_8=["NUM_8",22];k.NUM_8.toString=f;k.NUM_8.__enum__=k;k.NUM_9=["NUM_9",23];k.NUM_9.toString=f;k.NUM_9.__enum__=k;k.NUM_0=["NUM_0",24];k.NUM_0.toString=f;k.NUM_0.__enum__=k;k.A=["A",25];k.A.toString=f;k.A.__enum__=k;k.B=["B",
26];k.B.toString=f;k.B.__enum__=k;k.C=["C",27];k.C.toString=f;k.C.__enum__=k;k.D=["D",28];k.D.toString=f;k.D.__enum__=k;k.E=["E",29];k.E.toString=f;k.E.__enum__=k;k.F=["F",30];k.F.toString=f;k.F.__enum__=k;k.G=["G",31];k.G.toString=f;k.G.__enum__=k;k.H=["H",32];k.H.toString=f;k.H.__enum__=k;k.I=["I",33];k.I.toString=f;k.I.__enum__=k;k.J=["J",34];k.J.toString=f;k.J.__enum__=k;k.K=["K",35];k.K.toString=f;k.K.__enum__=k;k.L=["L",36];k.L.toString=f;k.L.__enum__=k;k.M=["M",37];k.M.toString=f;k.M.__enum__=
k;k.N=["N",38];k.N.toString=f;k.N.__enum__=k;k.O=["O",39];k.O.toString=f;k.O.__enum__=k;k.P=["P",40];k.P.toString=f;k.P.__enum__=k;k.Q=["Q",41];k.Q.toString=f;k.Q.__enum__=k;k.R=["R",42];k.R.toString=f;k.R.__enum__=k;k.S=["S",43];k.S.toString=f;k.S.__enum__=k;k.T=["T",44];k.T.toString=f;k.T.__enum__=k;k.U=["U",45];k.U.toString=f;k.U.__enum__=k;k.V=["V",46];k.V.toString=f;k.V.__enum__=k;k.W=["W",47];k.W.toString=f;k.W.__enum__=k;k.X=["X",48];k.X.toString=f;k.X.__enum__=k;k.Y=["Y",49];k.Y.toString=
f;k.Y.__enum__=k;k.Z=["Z",50];k.Z.toString=f;k.Z.__enum__=k;k.VIRTUAL_JUMP=["VIRTUAL_JUMP",51];k.VIRTUAL_JUMP.toString=f;k.VIRTUAL_JUMP.__enum__=k;k.VIRTUAL_FLASH=["VIRTUAL_FLASH",52];k.VIRTUAL_FLASH.toString=f;k.VIRTUAL_FLASH.__enum__=k;k.DB_A=["DB_A",53];k.DB_A.toString=f;k.DB_A.__enum__=k;k.DB_B=["DB_B",54];k.DB_B.toString=f;k.DB_B.__enum__=k;k.DB_C=["DB_C",55];k.DB_C.toString=f;k.DB_C.__enum__=k;k.DB_D=["DB_D",56];k.DB_D.toString=f;k.DB_D.__enum__=k;k.DB_E=["DB_E",57];k.DB_E.toString=f;k.DB_E.__enum__=
k;k.DB_F=["DB_F",58];k.DB_F.toString=f;k.DB_F.__enum__=k;k.HOLD=["HOLD",59];k.HOLD.toString=f;k.HOLD.__enum__=k;k.PINCH_IN=["PINCH_IN",60];k.PINCH_IN.toString=f;k.PINCH_IN.__enum__=k;k.PINCH_OUT=["PINCH_OUT",61];k.PINCH_OUT.toString=f;k.PINCH_OUT.__enum__=k;k.__empty_constructs__=[k.CLICK,k.SPACE,k.ENTER,k.UP,k.DOWN,k.LEFT,k.RIGHT,k.LBRACK,k.RBRACK,k.TAB,k.SHIFT,k.CONTROL,k.ESC,k.BACKSPACE,k.TILDE,k.NUM_1,k.NUM_2,k.NUM_3,k.NUM_4,k.NUM_5,k.NUM_6,k.NUM_7,k.NUM_8,k.NUM_9,k.NUM_0,k.A,k.B,k.C,k.D,k.E,
k.F,k.G,k.H,k.I,k.J,k.K,k.L,k.M,k.N,k.O,k.P,k.Q,k.R,k.S,k.T,k.U,k.V,k.W,k.X,k.Y,k.Z,k.VIRTUAL_JUMP,k.VIRTUAL_FLASH,k.DB_A,k.DB_B,k.DB_C,k.DB_D,k.DB_E,k.DB_F,k.HOLD,k.PINCH_IN,k.PINCH_OUT];var ea=m["com.workinman.cloud.screen.CHANGE_TYPE"]={__ename__:["com","workinman","cloud","screen","CHANGE_TYPE"],__constructs__:["OPEN_BEGIN","OPEN_COMPLETE","CLOSE_BEGIN","CLOSE_COMPLETE"]};ea.OPEN_BEGIN=["OPEN_BEGIN",0];ea.OPEN_BEGIN.toString=f;ea.OPEN_BEGIN.__enum__=ea;ea.OPEN_COMPLETE=["OPEN_COMPLETE",1];ea.OPEN_COMPLETE.toString=
f;ea.OPEN_COMPLETE.__enum__=ea;ea.CLOSE_BEGIN=["CLOSE_BEGIN",2];ea.CLOSE_BEGIN.toString=f;ea.CLOSE_BEGIN.__enum__=ea;ea.CLOSE_COMPLETE=["CLOSE_COMPLETE",3];ea.CLOSE_COMPLETE.toString=f;ea.CLOSE_COMPLETE.__enum__=ea;ea.__empty_constructs__=[ea.OPEN_BEGIN,ea.OPEN_COMPLETE,ea.CLOSE_BEGIN,ea.CLOSE_COMPLETE];var p=m["com.workinman.cloud.screen.FLOW"]={__ename__:["com","workinman","cloud","screen","FLOW"],__constructs__:"SPLASH_PLAY,SPLASH_CLICKTRAY,SPLASH_HELP,SPLASH_VIEW_SCORES,SPLASH_PRINTABLE,SELECT_SAVE,HELP_CLOSE,SHOP,SHOP_CLOSE,GAMEPLAY_MENU,GAMEPLAY_MENU_CLOSE,GAMEPLAY_MENU_HELP,GAMEPLAY_MENU_QUIT,GAMEPLAY_QUIT_YES,GAMEPLAY_QUIT_NO,END_LEVEL,END_LEVEL_NEXT,END_LEVEL_QUIT,END_SUMMARY_CONTINUE,END_GAME_PLAY_AGAIN,END_GAME_PRINTABLE,END_GAME_VIEW_SCORES,END_GAME_SUBMIT_SCORE,BRANCH_GAME_WIN,BRANCH_GAME_LOSE,BRANCH_LEVEL_WIN,BRANCH_LEVEL_LOSE,ENTER_CODE_CLOSE,ENTER_CODE_OPEN,LOAD_CLOSE,LOADING_DONE,ACHIEVEMENT_POPUP,ACHIEVEMENT_POPUP_CLOSE,ACHIEVEMENT,ACHIEVEMENT_CLOSE,DIALOGUE_POPUP,DIALOGUE_CLOSE,DEBUG_CLOSE,LEVEL_SELECT".split(",")};
p.SPLASH_PLAY=["SPLASH_PLAY",0];p.SPLASH_PLAY.toString=f;p.SPLASH_PLAY.__enum__=p;p.SPLASH_CLICKTRAY=["SPLASH_CLICKTRAY",1];p.SPLASH_CLICKTRAY.toString=f;p.SPLASH_CLICKTRAY.__enum__=p;p.SPLASH_HELP=["SPLASH_HELP",2];p.SPLASH_HELP.toString=f;p.SPLASH_HELP.__enum__=p;p.SPLASH_VIEW_SCORES=["SPLASH_VIEW_SCORES",3];p.SPLASH_VIEW_SCORES.toString=f;p.SPLASH_VIEW_SCORES.__enum__=p;p.SPLASH_PRINTABLE=["SPLASH_PRINTABLE",4];p.SPLASH_PRINTABLE.toString=f;p.SPLASH_PRINTABLE.__enum__=p;p.SELECT_SAVE=["SELECT_SAVE",
5];p.SELECT_SAVE.toString=f;p.SELECT_SAVE.__enum__=p;p.HELP_CLOSE=["HELP_CLOSE",6];p.HELP_CLOSE.toString=f;p.HELP_CLOSE.__enum__=p;p.SHOP=["SHOP",7];p.SHOP.toString=f;p.SHOP.__enum__=p;p.SHOP_CLOSE=["SHOP_CLOSE",8];p.SHOP_CLOSE.toString=f;p.SHOP_CLOSE.__enum__=p;p.GAMEPLAY_MENU=["GAMEPLAY_MENU",9];p.GAMEPLAY_MENU.toString=f;p.GAMEPLAY_MENU.__enum__=p;p.GAMEPLAY_MENU_CLOSE=["GAMEPLAY_MENU_CLOSE",10];p.GAMEPLAY_MENU_CLOSE.toString=f;p.GAMEPLAY_MENU_CLOSE.__enum__=p;p.GAMEPLAY_MENU_HELP=["GAMEPLAY_MENU_HELP",
11];p.GAMEPLAY_MENU_HELP.toString=f;p.GAMEPLAY_MENU_HELP.__enum__=p;p.GAMEPLAY_MENU_QUIT=["GAMEPLAY_MENU_QUIT",12];p.GAMEPLAY_MENU_QUIT.toString=f;p.GAMEPLAY_MENU_QUIT.__enum__=p;p.GAMEPLAY_QUIT_YES=["GAMEPLAY_QUIT_YES",13];p.GAMEPLAY_QUIT_YES.toString=f;p.GAMEPLAY_QUIT_YES.__enum__=p;p.GAMEPLAY_QUIT_NO=["GAMEPLAY_QUIT_NO",14];p.GAMEPLAY_QUIT_NO.toString=f;p.GAMEPLAY_QUIT_NO.__enum__=p;p.END_LEVEL=["END_LEVEL",15];p.END_LEVEL.toString=f;p.END_LEVEL.__enum__=p;p.END_LEVEL_NEXT=["END_LEVEL_NEXT",16];
p.END_LEVEL_NEXT.toString=f;p.END_LEVEL_NEXT.__enum__=p;p.END_LEVEL_QUIT=["END_LEVEL_QUIT",17];p.END_LEVEL_QUIT.toString=f;p.END_LEVEL_QUIT.__enum__=p;p.END_SUMMARY_CONTINUE=["END_SUMMARY_CONTINUE",18];p.END_SUMMARY_CONTINUE.toString=f;p.END_SUMMARY_CONTINUE.__enum__=p;p.END_GAME_PLAY_AGAIN=["END_GAME_PLAY_AGAIN",19];p.END_GAME_PLAY_AGAIN.toString=f;p.END_GAME_PLAY_AGAIN.__enum__=p;p.END_GAME_PRINTABLE=["END_GAME_PRINTABLE",20];p.END_GAME_PRINTABLE.toString=f;p.END_GAME_PRINTABLE.__enum__=p;p.END_GAME_VIEW_SCORES=
["END_GAME_VIEW_SCORES",21];p.END_GAME_VIEW_SCORES.toString=f;p.END_GAME_VIEW_SCORES.__enum__=p;p.END_GAME_SUBMIT_SCORE=["END_GAME_SUBMIT_SCORE",22];p.END_GAME_SUBMIT_SCORE.toString=f;p.END_GAME_SUBMIT_SCORE.__enum__=p;p.BRANCH_GAME_WIN=["BRANCH_GAME_WIN",23];p.BRANCH_GAME_WIN.toString=f;p.BRANCH_GAME_WIN.__enum__=p;p.BRANCH_GAME_LOSE=["BRANCH_GAME_LOSE",24];p.BRANCH_GAME_LOSE.toString=f;p.BRANCH_GAME_LOSE.__enum__=p;p.BRANCH_LEVEL_WIN=["BRANCH_LEVEL_WIN",25];p.BRANCH_LEVEL_WIN.toString=f;p.BRANCH_LEVEL_WIN.__enum__=
p;p.BRANCH_LEVEL_LOSE=["BRANCH_LEVEL_LOSE",26];p.BRANCH_LEVEL_LOSE.toString=f;p.BRANCH_LEVEL_LOSE.__enum__=p;p.ENTER_CODE_CLOSE=["ENTER_CODE_CLOSE",27];p.ENTER_CODE_CLOSE.toString=f;p.ENTER_CODE_CLOSE.__enum__=p;p.ENTER_CODE_OPEN=["ENTER_CODE_OPEN",28];p.ENTER_CODE_OPEN.toString=f;p.ENTER_CODE_OPEN.__enum__=p;p.LOAD_CLOSE=["LOAD_CLOSE",29];p.LOAD_CLOSE.toString=f;p.LOAD_CLOSE.__enum__=p;p.LOADING_DONE=["LOADING_DONE",30];p.LOADING_DONE.toString=f;p.LOADING_DONE.__enum__=p;p.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",
31];p.ACHIEVEMENT_POPUP.toString=f;p.ACHIEVEMENT_POPUP.__enum__=p;p.ACHIEVEMENT_POPUP_CLOSE=["ACHIEVEMENT_POPUP_CLOSE",32];p.ACHIEVEMENT_POPUP_CLOSE.toString=f;p.ACHIEVEMENT_POPUP_CLOSE.__enum__=p;p.ACHIEVEMENT=["ACHIEVEMENT",33];p.ACHIEVEMENT.toString=f;p.ACHIEVEMENT.__enum__=p;p.ACHIEVEMENT_CLOSE=["ACHIEVEMENT_CLOSE",34];p.ACHIEVEMENT_CLOSE.toString=f;p.ACHIEVEMENT_CLOSE.__enum__=p;p.DIALOGUE_POPUP=["DIALOGUE_POPUP",35];p.DIALOGUE_POPUP.toString=f;p.DIALOGUE_POPUP.__enum__=p;p.DIALOGUE_CLOSE=["DIALOGUE_CLOSE",
36];p.DIALOGUE_CLOSE.toString=f;p.DIALOGUE_CLOSE.__enum__=p;p.DEBUG_CLOSE=["DEBUG_CLOSE",37];p.DEBUG_CLOSE.toString=f;p.DEBUG_CLOSE.__enum__=p;p.LEVEL_SELECT=["LEVEL_SELECT",38];p.LEVEL_SELECT.toString=f;p.LEVEL_SELECT.__enum__=p;p.__empty_constructs__=[p.SPLASH_PLAY,p.SPLASH_CLICKTRAY,p.SPLASH_HELP,p.SPLASH_VIEW_SCORES,p.SPLASH_PRINTABLE,p.SELECT_SAVE,p.HELP_CLOSE,p.SHOP,p.SHOP_CLOSE,p.GAMEPLAY_MENU,p.GAMEPLAY_MENU_CLOSE,p.GAMEPLAY_MENU_HELP,p.GAMEPLAY_MENU_QUIT,p.GAMEPLAY_QUIT_YES,p.GAMEPLAY_QUIT_NO,
p.END_LEVEL,p.END_LEVEL_NEXT,p.END_LEVEL_QUIT,p.END_SUMMARY_CONTINUE,p.END_GAME_PLAY_AGAIN,p.END_GAME_PRINTABLE,p.END_GAME_VIEW_SCORES,p.END_GAME_SUBMIT_SCORE,p.BRANCH_GAME_WIN,p.BRANCH_GAME_LOSE,p.BRANCH_LEVEL_WIN,p.BRANCH_LEVEL_LOSE,p.ENTER_CODE_CLOSE,p.ENTER_CODE_OPEN,p.LOAD_CLOSE,p.LOADING_DONE,p.ACHIEVEMENT_POPUP,p.ACHIEVEMENT_POPUP_CLOSE,p.ACHIEVEMENT,p.ACHIEVEMENT_CLOSE,p.DIALOGUE_POPUP,p.DIALOGUE_CLOSE,p.DEBUG_CLOSE,p.LEVEL_SELECT];var za=m["com.workinman.cloud.screen.SCREEN_CONDITION"]={__ename__:["com",
"workinman","cloud","screen","SCREEN_CONDITION"],__constructs__:["CLOSED_ALL","CLOSED_SPECIFIC","IMMEDIATE"]};za.CLOSED_ALL=["CLOSED_ALL",0];za.CLOSED_ALL.toString=f;za.CLOSED_ALL.__enum__=za;za.CLOSED_SPECIFIC=["CLOSED_SPECIFIC",1];za.CLOSED_SPECIFIC.toString=f;za.CLOSED_SPECIFIC.__enum__=za;za.IMMEDIATE=["IMMEDIATE",2];za.IMMEDIATE.toString=f;za.IMMEDIATE.__enum__=za;za.__empty_constructs__=[za.CLOSED_ALL,za.CLOSED_SPECIFIC,za.IMMEDIATE];var La=m["com.workinman.cloud.screen.SCREEN_OUTPUT"]={__ename__:["com",
"workinman","cloud","screen","SCREEN_OUTPUT"],__constructs__:["OPENED","CLOSED"]};La.OPENED=["OPENED",0];La.OPENED.toString=f;La.OPENED.__enum__=La;La.CLOSED=["CLOSED",1];La.CLOSED.toString=f;La.CLOSED.__enum__=La;La.__empty_constructs__=[La.OPENED,La.CLOSED];var u=m["com.workinman.cloud.screen.SCREEN_TYPE"]={__ename__:["com","workinman","cloud","screen","SCREEN_TYPE"],__constructs__:"SPLASH,HELP,SHOP,LOAD_LEVEL,SELECT_SAVE,GAMEPLAY_HUD,GAMEPLAY_MENU,QUIT_CONFIRM,END_LEVEL,END_GAME,END_SUMMARY,CUTSCENE_BORDERS,UNLOCK,ENTER_CODE,ACHIEVEMENTS,ACHIEVEMENT_POPUP,DIALOGUE_POPUP,DEBUG,LEVEL_SELECT".split(",")};
u.SPLASH=["SPLASH",0];u.SPLASH.toString=f;u.SPLASH.__enum__=u;u.HELP=["HELP",1];u.HELP.toString=f;u.HELP.__enum__=u;u.SHOP=["SHOP",2];u.SHOP.toString=f;u.SHOP.__enum__=u;u.LOAD_LEVEL=["LOAD_LEVEL",3];u.LOAD_LEVEL.toString=f;u.LOAD_LEVEL.__enum__=u;u.SELECT_SAVE=["SELECT_SAVE",4];u.SELECT_SAVE.toString=f;u.SELECT_SAVE.__enum__=u;u.GAMEPLAY_HUD=["GAMEPLAY_HUD",5];u.GAMEPLAY_HUD.toString=f;u.GAMEPLAY_HUD.__enum__=u;u.GAMEPLAY_MENU=["GAMEPLAY_MENU",6];u.GAMEPLAY_MENU.toString=f;u.GAMEPLAY_MENU.__enum__=
u;u.QUIT_CONFIRM=["QUIT_CONFIRM",7];u.QUIT_CONFIRM.toString=f;u.QUIT_CONFIRM.__enum__=u;u.END_LEVEL=["END_LEVEL",8];u.END_LEVEL.toString=f;u.END_LEVEL.__enum__=u;u.END_GAME=["END_GAME",9];u.END_GAME.toString=f;u.END_GAME.__enum__=u;u.END_SUMMARY=["END_SUMMARY",10];u.END_SUMMARY.toString=f;u.END_SUMMARY.__enum__=u;u.CUTSCENE_BORDERS=["CUTSCENE_BORDERS",11];u.CUTSCENE_BORDERS.toString=f;u.CUTSCENE_BORDERS.__enum__=u;u.UNLOCK=["UNLOCK",12];u.UNLOCK.toString=f;u.UNLOCK.__enum__=u;u.ENTER_CODE=["ENTER_CODE",
13];u.ENTER_CODE.toString=f;u.ENTER_CODE.__enum__=u;u.ACHIEVEMENTS=["ACHIEVEMENTS",14];u.ACHIEVEMENTS.toString=f;u.ACHIEVEMENTS.__enum__=u;u.ACHIEVEMENT_POPUP=["ACHIEVEMENT_POPUP",15];u.ACHIEVEMENT_POPUP.toString=f;u.ACHIEVEMENT_POPUP.__enum__=u;u.DIALOGUE_POPUP=["DIALOGUE_POPUP",16];u.DIALOGUE_POPUP.toString=f;u.DIALOGUE_POPUP.__enum__=u;u.DEBUG=["DEBUG",17];u.DEBUG.toString=f;u.DEBUG.__enum__=u;u.LEVEL_SELECT=["LEVEL_SELECT",18];u.LEVEL_SELECT.toString=f;u.LEVEL_SELECT.__enum__=u;u.__empty_constructs__=
[u.SPLASH,u.HELP,u.SHOP,u.LOAD_LEVEL,u.SELECT_SAVE,u.GAMEPLAY_HUD,u.GAMEPLAY_MENU,u.QUIT_CONFIRM,u.END_LEVEL,u.END_GAME,u.END_SUMMARY,u.CUTSCENE_BORDERS,u.UNLOCK,u.ENTER_CODE,u.ACHIEVEMENTS,u.ACHIEVEMENT_POPUP,u.DIALOGUE_POPUP,u.DEBUG,u.LEVEL_SELECT];var Jd=function(){this._achievements=new K;this._flagInitted=!1};m["com.workinman.cloudutils.WMAchievementManager"]=Jd;Jd.__name__=["com","workinman","cloudutils","WMAchievementManager"];Jd.prototype={init:function(){if(!this._flagInitted&&(this._sharedObjectId=
q.ACHIEVEMENTS_ID,"X"!=this._sharedObjectId)){this._flagInitted=!0;for(var a,b=0,c=U.allEnums(ba);b<c.length;)a=c[b],++b,a=Pb.achievmentData(a),this.addAchievement(a.id,a.valueId,a.value,a.points);b=j.get_instance().sharedObjectGetData(this._sharedObjectId);if(0<F.fields(b).length){c=0;for(a=F.fields(b);c<a.length;){var d=a[c];++c;var i=F.field(b,d);this._achievements.get(d).achieved=i.achieved}}this._setScore();this._sharedObjectSetData();this._addEventListeners()}},addAchievement:function(a,b,c,
d,i){null==i&&(i=!1);b=new Ld(b,c,d,i);this._achievements.set(a,b);b},getAchievements:function(){for(var a=[],b=this._achievements.keys();b.hasNext();){var c=b.next();a.push(c)}return a},getLocalizationNameID:function(a){return Pb.LOCALIZATION_NAME_BASE+a},getLocalizationDescID:function(a){return Pb.LOCALIZATION_DESC_BASE+a},getPoints:function(a){return this._achievements.get(a).get_points()},getAchieved:function(a){return this._achievements.get(a).achieved},_setScore:function(){for(var a=0,b=this._achievements.iterator();b.hasNext();){var c=
b.next();c.achieved&&(a+=c.get_points())}this.points=a},_sharedObjectSetData:function(){for(var a={},b,c=this._achievements.keys();c.hasNext();){var d=c.next();b=this._achievements.get(d);F.setField(a,d,{valueId:b.get_valueId(),value:b.get_value(),points:b.get_points(),achieved:b.achieved})}j.get_instance().sharedObjectSetData(this._sharedObjectId,a)},_addEventListeners:function(){j.get_instance().get_dispatcher().addEventListener(n.UPDATE_DISPLAY,s(this,this._onUpdateDisplay))},_onUpdateDisplay:function(a){for(var b,
c=this._achievements.keys();c.hasNext();){var d=c.next();b=this._achievements.get(d);var i=b.get_valueId(),e;e=a.get_data().get("val");i==e&&!b.achieved&&j.get_instance().getValue(b.get_valueId())>=b.get_value()&&(b.achieved=!0,this._sharedObjectSetData(),this._setScore(),this.lastAchievedId=d,q.dispatchFlowEvent(p.ACHIEVEMENT_POPUP))}},__class__:Jd};var Ld=function(a,b,c,d){this._valueId=a;this._value=b;this._points=c;this.achieved=d};m["com.workinman.cloudutils._WMAchievementManager.AchievementDef"]=
Ld;Ld.__name__=["com","workinman","cloudutils","_WMAchievementManager","AchievementDef"];Ld.prototype={get_valueId:function(){return this._valueId},get_value:function(){return this._value},get_points:function(){return this._points},__class__:Ld,__properties__:{get_points:"get_points",get_value:"get_value",get_valueId:"get_valueId"}};var Fd=function(){this.ID_MANIFEST_INDIVIDUAL="WMManifestIndividual";this._baseUrl="";this._assets=new K;this._flump=new K;this._packs=new K;this._chunks=new K;this._manifests=
new K;this._sheets=new K;this._assetMap=new K;this._flagBaseIsCrossdomain=!1;this._manifestsLoaded=this._manifestsMax=0;this._isLoading=!1;this._loadingProgress=this._loadingTotal=0;this._loadingCallback=null;this._loadingPackProgress=new K;this._fontCache=new K;this._manifest=new rb;this._requests=[];this._gif=new K};m["com.workinman.cloudutils.WMAssetManager"]=Fd;Fd.__name__=["com","workinman","cloudutils","WMAssetManager"];Fd.prototype={get_baseUrl:function(){return this._baseUrl},set_baseUrl:function(a){return this._baseUrl=
a},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=!0;this.set_baseUrl(a)},addChunk:function(a,b){var c=this._parseChunk(a,b);this._chunks.set(a,c)},isChunkLoaded:function(a){if(!1==this._chunks.exists(a))return!1;for(var b=0,a=this._chunks.get(a).get_packIds();b<a.length;){var c=a[b];++b;if(!1==this.isPackLoaded(c))return!1}return!0},_addChunkToPackList:function(a,b,c){if(!1!=this._chunks.exists(a)){null==c&&(c=[a]);for(var d=0,i=this._chunks.get(a).get_chunkIds();d<i.length;){var e=
i[d];++d;!1==this._arrayContainsChunk(c,e)&&(c.push(e),this._addChunkToPackList(e,b,c))}c=0;for(a=this._chunks.get(a).get_packIds();c<a.length;)d=a[c],++c,ga.addStringToArrayWithoutDuplicates(d,b)}},_arrayContainsChunk:function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(d==b)return!0}return!1},_parseChunk:function(a,b){for(var c=[],d=[],i=b.nodes.resolve("chunk").iterator();i.hasNext();){var e=i.next();c.push(e.get_innerData().toString())}for(i=b.nodes.resolve("pack").iterator();i.hasNext();)e=
i.next(),d.push(e.get_innerData().toString());return new Md(a,d,c)},unload:function(a,b,c){if(null!=a)for(var d=0;d<a.length;){var i=a[d];++d;this.disposeChunk(i)}if(null!=b)for(a=0;a<b.length;)d=b[a],++a,this.disposePack(d);if(null!=c)for(b=0;b<c.length;)a=c[b],++b,this.disposePack(a)},load:function(a,b,c,d,i){null==i&&(i=0);var e=this;if(this._isLoading)throw"[WMAssetManager](load) Multiple loads happening at once. Combine these loads.";if(null==a)throw"[WMAssetManager](load) Callback is null!";
null==b&&(b=[]);null==c&&(c=[]);null==d&&(d=[]);for(var f=!0,g=0;g<b.length;){var h=b[g];++g;!1==this.isChunkLoaded(h)&&(f=!1)}for(g=0;g<c.length;)h=c[g],++g,!1==this.isPackLoaded(h)&&(f=!1);0<d.length&&(f=!1);if(f)c=d=b=null,a();else if(!1==this.isLoading()&&j.get_instance().setInt(l.INT_LOADING_PROGRESS,0),0<i)ob.delay(function(){e.load(a,b,c,d,0)},i);else{this._isLoading=!0;this._loadingCallback=a;j.get_instance().setBool(l.BOOL_FAKE_PROGRESS,0<d.length);for(i=0;i<b.length;)f=b[i],++i,this._addChunkToPackList(f,
c,null);ga.removeDuplicatesFromStringArray(c);for(i=0;i<c.length;)f=c[i],++i,!1==this.isPackLoaded(f)&&this._manifestsMax++;for(i=0;i<d.length;)++i,this._manifestsMax++;for(i=0;i<c.length;)f=c[i],++i,!1==this.isPackLoaded(f)&&this._loadPack(f);f="";for(i=0;i<d.length;)f=d[i],++i,f=""==f?this.ID_MANIFEST_INDIVIDUAL:f,!1==this._manifests.exists(f)?this._manifestsMax--:this._loadManifest(this._manifests.get(f),f);this._manifestsLoaded>=this._manifestsMax&&this._onAllLoadComplete();d=c=b=f=null}},_loadPack:function(a){var b=
Wa.fromAssets(a);""!=this._baseUrl&&(this._flagBaseIsCrossdomain?b.set_remoteBase(this._baseUrl):b.set_localBase(this._baseUrl));this._loadManifest(b,a)},_loadManifest:function(a,b){var c=this,d=z.get_instance().loadAssetPack(a);this._loadingTotal+=d._total;this._loadingPackProgress.set(b,0);d.error.connect(s(this,this._loadingError));d.progressChanged.connect(function(){var a=d._progress-c._loadingPackProgress.get(b);c._loadingPackProgress.set(b,d._progress);c._loadingProgress+=a;var e=Math.round(100*
(c._loadingProgress/c._loadingTotal));j.get_instance().get_dispatcher().dispatchEvent(T.request(n.FILES_LOADING,function(){var a=new K;a.set("val",e);return a}(this)))});this._requests.push(d.get(function(a){a=new Nd(a);c._addPack(a);c._packs.set(b,a);c._manifestsLoaded+=1;c._manifestsLoaded>=c._manifestsMax&&c._onAllLoadComplete()}))},_loadingError:function(a){j.get_instance().modifyValue(l.STRING_DEBUG_TEXT,"\n[WMAssetManager](_onLoadingError) Loading failed with error: "+a);j.get_instance().get_dispatcher().dispatchEvent(T.request(n.FILES_ERROR,
function(b){var c=new K;c.set("error",a);c.set("callback",b._loadingCallback);return c}(this)))},skipFile:function(){this._manifestsLoaded++;this._manifestsLoaded>=this._manifestsMax&&this._onAllLoadComplete()},disposeChunk:function(a){if(this.isChunkLoaded(a)){for(var b=0,c=this._chunks.get(a).get_chunkIds();b<c.length;){var d=c[b];++b;this.disposeChunk(d)}b=0;for(a=this._chunks.get(a).get_packIds();b<a.length;)c=a[b],++b,this.disposePack(c);null}},disposePack:function(a){if(this.isPackLoaded(a)){for(var b=
this._packs.get(a).get_pack().get_manifest().iterator();b.hasNext();){var c=b.next();this._assets.exists(c.name)&&this._assets.get(c.name).dispose()}b=0;for(c=this._packs.get(a).get_flumps();b<c.length;){var d=c[b];++b;this._flump.get(d).dispose();this._flump.remove(d)}b=0;for(c=this._packs.get(a).get_gifs();b<c.length;)d=c[b],++b,this._gif.get(d).dispose(),this._gif.remove(d);this._purgeCache(this._packs.get(a).get_purgeAssets());this._packs.get(a).dispose();this._packs.remove(a)}null},addFile:function(a,
b,c,d){null==d&&(d="");null==c&&(c="");null==b&&(b="");c=""==c?this.ID_MANIFEST_INDIVIDUAL:c;if(!this._manifests.exists(c)){var i=new Wa;this._manifests.set(c,i)}i=null;if("webp"==d)i=x.WEBP;else if("jxr"==d)i=x.JXR;else if("png"==d)i=x.PNG;else if("jpg"==d)i=x.JPG;else if("gif"==d)i=x.GIF;else if("dds"==d)i=x.DDS;else if("pvr"==d)i=x.PVR;else if("pkm"==d)i=x.PKM;else if("mp3"==d)i=x.MP3;else if("m4a"==d)i=x.M4A;else if("opus"==d)i=x.OPUS;else if("ogg"==d)i=x.OGG;else if("wav"==d)i=x.WAV;else if("data"==
d||"plist"==d)i=x.Data;else if(""!=d)throw"[WMAssetManager](addFile) Error: Invalid asset type of "+d;""==d?this._manifests.get(c).add(""==b?a:b,a):this._manifests.get(c).add(""==b?a:b,a,0,i)},isPackLoaded:function(a){return this._packs.exists(a)},_addPack:function(a){for(var b=null,c="",d=c="",i=a.get_pack().get_manifest().iterator();i.hasNext();){d=i.next();new Od(d.name,d.format,this._assets,a);b=d.name.split("/");c=b[b.length-1];d.format==x.GIF&&(b=new Pd(a.get_pack(),c),this._gif.set(c,b),a.get_gifs().push(c));
for(var b=d.name.split("/"),c=b[b.length-1],d="",e=0,f=b.length-1;e<f;){var g=e++;""!=d&&(d+="/");d+=b[g]}"library.json"==c&&(e=new Qd(a.get_pack(),b[b.length-2]),this._flump.set(b[b.length-2],e),a.get_flumps().push(b[b.length-2]));b=c.split(".");c=b[b.length-1];"plist"==c&&this._parseSpritesheet(0<d.length?d+"/"+b[0]:b[0],a)}},isLoading:function(){return this._manifestsLoaded<this._manifestsMax},_onAllLoadComplete:function(){this._isLoading=!1;if(null!=this._loadingCallback){var a=this._loadingCallback;
this._loadingCallback=null;a()}for(;0<this._requests.length;)this._requests.pop();j.get_instance().setBool(l.BOOL_FAKE_PROGRESS,!1);j.get_instance().setInt(l.INT_LOADING_PROGRESS,100)},_parseSpritesheet:function(a,b){for(var c=this.getFile(a+".plist"),d="",i=null,e=ga.parsePropertyList(this.getFile(a+".plist").toString()).frames,f=F.fields(e),g=i=null,h=null,i=null,j=0;j<f.length;)d=f[j],++j,i=F.field(e,d),d=ga.removeExtension(d),g=this._splitTextureBrackets(i.spriteOffset),h=this._splitTextureBrackets(i.spriteSourceSize),
i=this._splitTextureBrackets(i.textureRect),i=Ha.requestSubTexture(null,y.parseInt(g[0]),y.parseInt(g[1]),y.parseInt(h[0]),y.parseInt(h[1]),y.parseInt(i[0]),y.parseInt(i[1]),y.parseInt(i[2]),y.parseInt(i[3])),g=null,this._addSpritesheet(d,a,i,b),-1<d.indexOf("/")&&(g=d.split("/"),this._addSpritesheet(g[g.length-1],a,i,b));c.dispose()},_splitTextureBrackets:function(a){for(var b=a.length;0<b--;)if("{"==a.charAt(b)||"}"==a.charAt(b))a=a.substring(0,b)+a.substring(b+1,a.length);return a.split(",")},
_addSpritesheet:function(a,b,c,d){this._sheets.exists(a)&&this._sheets.get(a).dispose();b=new Rd(a,b,c);this._sheets.set(a,b);d.addSpriteSheet(b)},hasSpriteRect:function(a,b){null==b&&(b="");if(null==a&&(null==b||""==b))return!1;var c=b;null!=a&&(c=ga.removeExtension(this._manifest.getPathForTexture(a)));return this._hasAsset(c)},hasSound:function(a,b){null==b&&(b="");if(null==a&&(null==b||""==b))return!1;var c=b;null!=a&&(c=ga.removeExtension(this._manifest.getPathForSound(a)));return this._hasAsset(c)},
hasXML:function(a,b){null==b&&(b="");if(null==a&&(null==b||""==b))return!1;var c=b;null!=a&&(c=this._manifest.getPathForXml(a));return this._hasAsset(c)},_hasAsset:function(a){return this._sheets.exists(a)?!0:this._assets.exists(a)},hasGifLibrary:function(a){return this._gif.exists(a)},getSpriteRect:function(a,b){null==b&&(b="");if(!1==this.hasSpriteRect(a,b))return null;var c=b;null!=a&&(c=ga.removeExtension(this._manifest.getPathForTexture(a)));var d=null;if(this._sheets.exists(c))return d=this._sheets.get(c).get_rect(),
null==d.get_texture()&&d.set_texture(function(a){var b=a._sheets.get(c).get_atlas();return a._assets.get(b)}(this).get_pack().get_pack().getTexture(function(a){var b=a._sheets.get(c).get_atlas();return a._assets.get(b)}(this).get_path(),!0)),this._sheets.get(c).get_rect();if(this._assetMap.exists(c))return this._assetMap.get(c);d=Ha.request(this._getTexture(c));this._assetMap.set(c,d);d;this._assets.get(c).get_pack().get_purgeAssets().push(c);return d},_getTexture:function(a){return this._assets.get(a).get_pack().get_pack().getTexture(this._assets.get(a).get_path(),
!0)},_purgeCache:function(a){for(var b;0<a.length;)b=a.pop(),this._assetMap.exists(b)&&this._assetMap.remove(b)},getSound:function(a,b){null==b&&(b="");if(!1==this.hasSound(a,b))return null;var c=b;null!=a&&(c=this._manifest.getPathForSound(a));c=ga.removeExtension(c);return this._assets.get(c).get_pack().get_pack().getSound(this._assets.get(c).get_path(),!0)},getFile:function(a){return!1==this._assets.exists(a)?null:this._assets.get(a).get_pack().get_pack().getFile(this._assets.get(a).get_path(),
!0)},getXML:function(a,b){null==b&&(b="");if(!1==this.hasXML(a,b))return null;var c=b;null!=a&&(c=this._manifest.getPathForXml(a));ga.removeExtension(c);c=C.parse(this.getFile(c).toString());return new Cb(c.firstElement())},allConfig:function(a){null==a&&(a=!1);for(var b=[],c=0,d=this._manifest.get_config();c<d.length;){var i=d[c];++c;a&&null;b.push(this.getXML(i))}return b},getFont:function(a,b){null==b&&(b=!0);if(!1==this._assets.exists(a))return null;if(!1==b)return new Db(this._assets.get(a).get_pack().get_pack(),
a);if(!1==this._fontCache.exists(a)){var c=new Db(this._assets.get(a).get_pack().get_pack(),a);this._fontCache.set(a,c);c}return this._fontCache.get(a)},getGifLibrary:function(a){return!1==this.hasGifLibrary(a)?null:this._gif.get(a)},__class__:Fd,__properties__:{set_baseUrl:"set_baseUrl",get_baseUrl:"get_baseUrl"}};var Od=function(a,b,c,d){this._path=a;a=a.split("/");this._format=this._id=a[a.length-1];if(null!=b)switch(b[1]){case 2:this._format+=".png";break;case 3:this._format+=".jpg"}this._pack=
d;this._hash=c;this._hash.set(this._path,this);this._path!=this._id&&this._hash.set(this._id,this);this._format!=this._id&&this._hash.set(this._format,this)};m["com.workinman.cloudutils._WMAssetManager.AssetDef"]=Od;Od.__name__=["com","workinman","cloudutils","_WMAssetManager","AssetDef"];Od.prototype={dispose:function(){var a=this._pack.get_pack().getTexture(ga.removeExtension(this._path),!1),b=this._pack.get_pack().getSound(ga.removeExtension(this._path),!1),c=this._pack.get_pack().getFile(this._path,
!1);null!=a?a.dispose():null!=b?b.dispose():null!=c&&c.dispose();this._hash.remove(this._path);this._path!=this._id&&this._hash.remove(this._id);this._format!=this._id&&this._hash.remove(this._format);this._pack=this._hash=this._id=this._path=null},get_path:function(){return this._path},get_pack:function(){return this._pack},__class__:Od,__properties__:{get_pack:"get_pack",get_path:"get_path"}};var Md=function(a,b,c){this._id=a;this._packs=b;this._chunks=c};m["com.workinman.cloudutils._WMAssetManager.ChunkDef"]=
Md;Md.__name__=["com","workinman","cloudutils","_WMAssetManager","ChunkDef"];Md.prototype={get_packIds:function(){return this._packs},get_chunkIds:function(){return this._chunks},__class__:Md,__properties__:{get_chunkIds:"get_chunkIds",get_packIds:"get_packIds"}};var Rd=function(a,b,c){this._id=a;this._rect=c;this._atlas=b};m["com.workinman.cloudutils._WMAssetManager.SpriteSheetDef"]=Rd;Rd.__name__=["com","workinman","cloudutils","_WMAssetManager","SpriteSheetDef"];Rd.prototype={dispose:function(){this._id=
null;null!=this._rect&&(this._rect.dispose(),this._rect=null);this._atlas=null},get_atlas:function(){return this._atlas},get_rect:function(){return this._rect},__class__:Rd,__properties__:{get_rect:"get_rect",get_atlas:"get_atlas"}};var Nd=function(a){this._assetPack=a;this._purgeAssets=[];this._spriteSheets=[];this._flumps=[];this._gifs=[]};m["com.workinman.cloudutils._WMAssetManager.WMAssetPack"]=Nd;Nd.__name__=["com","workinman","cloudutils","_WMAssetManager","WMAssetPack"];Nd.prototype={dispose:function(){this._assetPack.dispose();
this._assetPack=null;for(var a=0,b=this._spriteSheets;a<b.length;){var c=b[a];++a;c.dispose()}this._gifs=this._flumps=this._purgeAssets=this._spriteSheets=null},addSpriteSheet:function(a){this._spriteSheets.push(a)},get_pack:function(){return this._assetPack},get_purgeAssets:function(){return this._purgeAssets},get_flumps:function(){return this._flumps},get_gifs:function(){return this._gifs},__class__:Nd,__properties__:{get_gifs:"get_gifs",get_flumps:"get_flumps",get_purgeAssets:"get_purgeAssets",
get_pack:"get_pack"}};var Kd=function(){this._queue=[];this._dialogueDisplaying=!1;this._dialogueTracker=new K;this._currentDialogue="";this._addEventListeners()};m["com.workinman.cloudutils.WMDialogueManager"]=Kd;Kd.__name__=["com","workinman","cloudutils","WMDialogueManager"];Kd.prototype={_addEventListeners:function(){j.get_instance().get_dispatcher().addEventListener(n.DIALOGUE_LINE_COMPLETE,s(this,this._onNextDialogue))},_onNextDialogue:function(){this.checkQueue()},checkQueue:function(){0<this._queue.length?
(this._dialogueDisplaying=!0,q.dispatchFlowEvent(p.DIALOGUE_POPUP)):(this._dialogueDisplaying=!1,j.get_instance().get_dispatcher().dispatchEvent(T.request(n.DIALOGUE_QUEUE_COMPLETE)),this._dialogueTracker.set(this._currentDialogue,!0))},grabData:function(){return this._queue.shift()},__class__:Kd};var Ce=function(){};m["com.workinman.cloudutils.DialogueDef"]=Ce;Ce.__name__=["com","workinman","cloudutils","DialogueDef"];Ce.prototype={dispose:function(){this._endEvent=this._portrait=this._triggerEvent=
this._pointerType=this._pointerLoc=this._position=this._textRef=this._dialogueId=null},get_text:function(){return this._textRef},get_mobileToggle:function(){return this._mobileToggle},get_position:function(){return this._position},get_pointerLoc:function(){return this._pointerLoc},get_pointerType:function(){return this._pointerType},get_triggerEvent:function(){return this._triggerEvent},get_endEvent:function(){return this._endEvent},__class__:Ce,__properties__:{get_endEvent:"get_endEvent",get_triggerEvent:"get_triggerEvent",
get_pointerType:"get_pointerType",get_pointerLoc:"get_pointerLoc",get_position:"get_position",get_mobileToggle:"get_mobileToggle",get_text:"get_text"}};var Ed=function(){this._TIME_HOLD=0.4;this._multiTouchAvail=!1;this._delegateListenerArray=[];this._delegateUnlockWebAudio=null;this._inputDown=new Ia;this._keyCodes=new Ia;this._virtualCodes=new Ia;this._keyDown=new K;this._virtualDown=new Ia;this._touchList=new K;this._touchRemoval=[];this.registerInput(k.CLICK);this._scale=1;this._offset=N.request();
this._enabled=!1;this._doDepthTest=!0;this._depthResult=null;this._flagHold=!1;this._timerHold=0;this._pointer=Ea.request("",0)};m["com.workinman.cloudutils.WMInput"]=Ed;Ed.__name__=["com","workinman","cloudutils","WMInput"];Ed.prototype={setDelegateUnlockWebAudio:function(a){this._delegateUnlockWebAudio=a},addDelegateListener:function(a){for(var b=0,c=this._delegateListenerArray;b<c.length;){var d=c[b];++b;if(d==a)return}this._delegateListenerArray.push(a)},removeDelegateListener:function(a){for(var b=
this._delegateListenerArray.length;0<b--;)if(this._delegateListenerArray[b]==a){this._delegateListenerArray.splice(b,1);break}},setEnabled:function(a){this._enabled=a},_delegateDispatch:function(a,b,c,d,i,e,f){null!=this._delegateUnlockWebAudio&&a==aa.UP&&(this._delegateUnlockWebAudio(),this._delegateUnlockWebAudio=null);if(!1!=this._enabled)for(var g=0,h=this._delegateListenerArray;g<h.length;){var j=h[g];++g;j(a,b,c,d,i,e,f)}},update:function(a){this._doDepthTest=!0;for(var b=this._inputDown.keys();b.hasNext();){var c=
b.next();c!=k.CLICK&&(!0==this._inputDown.get(c)?!1==this._isInputDown(c)&&(this._inputDown.set(c,!1),this._delegateDispatch(aa.UP,c,0,0,0,0)):!0==this._isInputDown(c)&&(this._inputDown.set(c,!0),this._delegateDispatch(aa.DOWN,c,0,0,0,0)))}this._pointer.update(a);for(b=this._touchList.iterator();b.hasNext();)c=b.next(),c.get_phase()==aa.UP?this._touchRemoval.push(c.get_id()):c.update(a);for(;0<this._touchRemoval.length;)this._touchList.get(this._touchRemoval[this._touchRemoval.length-1]).dispose(),
this._touchList.remove(this._touchRemoval[this._touchRemoval.length-1]),this._touchRemoval.pop();this._checkGestureHold(a);this._checkGesturePinch()},set_scale:function(a){this._scale=a;0==this._scale&&(this._scale=0.01);return this._scale},get_pointer:function(){return this._pointer},get_multiTouch:function(){return this._touchList},prime:function(){this._multiTouchAvail=z.get_instance().get_touch().get_supported();z.get_instance().get_keyboard().down.connect(s(this,this._onKeyDown));z.get_instance().get_keyboard().up.connect(s(this,
this._onKeyUp));this._multiTouchAvail&&(z.get_instance().get_touch().down.connect(s(this,this._onTouchDown)),z.get_instance().get_touch().move.connect(s(this,this._onTouchMove)),z.get_instance().get_touch().up.connect(s(this,this._onTouchUp)));z.get_instance().get_pointer().down.connect(s(this,this._onPointerDown));z.get_instance().get_pointer().move.connect(s(this,this._onPointerMove));z.get_instance().get_pointer().up.connect(s(this,this._onPointerUp))},doButtonDepthTest:function(a,b){this._doDepthTest&&
(this._doDepthTest=!1,this._depthResult=D.hitTest(z.get_instance().root,a,b));return this._depthResult},registerInput:function(a,b,c){!1==this._inputDown.exists(a)&&(this._inputDown.set(a,!1),this._keyCodes.set(a,[]),this._virtualCodes.set(a,[]));if(null!=b)for(var d=0;d<b.length;){var i=b[d];++d;this._keyCodes.get(a).push(y.string(i));this._keyDown.set(y.string(i),!1)}if(null!=c)for(b=0;b<c.length;)d=c[b],++b,this._virtualCodes.get(a).push(d),this._virtualDown.set(d,!1)},getInput:function(a){return this._inputDown.get(a)},
_onKeyDown:function(a){(function(b){var c=y.string(a.key);return b._keyDown.exists(c)})(this)&&this._keyDown.set(y.string(a.key),!0);j.get_instance().get_dispatcher().dispatchEvent(T.request(n.INPUT_ARBITRARY_KEY,function(){var b=new K;b.set("key",a.key);b.set("phase",aa.DOWN);return b}(this)))},_onKeyUp:function(a){(function(b){var c=y.string(a.key);return b._keyDown.exists(c)})(this)&&this._keyDown.set(y.string(a.key),!1);j.get_instance().get_dispatcher().dispatchEvent(T.request(n.INPUT_ARBITRARY_KEY,
function(){var b=new K;b.set("key",a.key);b.set("phase",aa.UP);return b}(this)))},_isInputDown:function(a){for(var b=0,c=this._keyCodes.get(a);b<c.length;){var d=c[b];++b;if(!0==this._keyDown.get(d))return!0}b=0;for(a=this._virtualCodes.get(a);b<a.length;)if(c=a[b],++b,!0==this._virtualDown.get(c))return!0;return!1},_sanitizeX:function(a,b,c){null==c&&(c=!0);return c&&R.get_exists()&&R.get_isPortrait()?this._sanitizeX(b,a,!1):a/this._scale+this._offset.get_x()},_sanitizeY:function(a,b,c){null==c&&
(c=!0);return c&&R.get_exists()&&R.get_isPortrait()?this._sanitizeY(b,R.get_canvasHeight()*q.scaleFactor-a,!1):b/this._scale+this._offset.get_y()},_onTouchDown:function(a){this._searchIndex=0;this._searchFound=!1;do{this._searchFound=!0;for(var b=this._touchList.iterator();b.hasNext();)if(this._searchIndex==b.next().get_index()){this._searchIndex++;this._searchFound=!1;break}}while(!1==this._searchFound);b=Ea.request(null==a.id?"null":""+a.id,this._searchIndex);this._touchList.set(b.get_id(),b);b.begin(this._sanitizeX(a.viewX,
a.viewY),this._sanitizeY(a.viewX,a.viewY));0<this._searchIndex&&this._delegateDispatch(aa.DOWN,k.CLICK,b.get_currentPos().get_x(),b.get_currentPos().get_y(),a.viewX,a.viewY,b.get_swipe())},_onTouchMove:function(a){var b=this._touchList.get(null==a.id?"null":""+a.id);b.move(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));0<b.get_index()&&this._delegateDispatch(aa.MOVE,k.CLICK,b.get_currentPos().get_x(),b.get_currentPos().get_y(),a.viewX,a.viewY,b.get_swipe())},_onTouchUp:function(a){var b=
this._touchList.get(null==a.id?"null":""+a.id);b.end(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));0<b.get_index()&&!1==b.get_consumed()&&this._delegateDispatch(aa.UP,k.CLICK,b.get_currentPos().get_x(),b.get_currentPos().get_y(),a.viewX,a.viewY,b.get_swipe())},_onPointerDown:function(a){this._inputDown.set(k.CLICK,!0);this._pointer.begin(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));if(!1==this._multiTouchAvail){var b=Ea.request("const",0);b.begin(this._pointer.get_currentPos().get_x(),
this._pointer.get_currentPos().get_y());this._touchList.set("const",b)}this._delegateDispatch(aa.DOWN,k.CLICK,this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y(),a.viewX,a.viewY,this._pointer.get_swipe());this._onHoldStart()},_onPointerMove:function(a){this._pointer.move(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").move(this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y());
this._delegateDispatch(aa.MOVE,k.CLICK,this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y(),a.viewX,a.viewY,this._pointer.get_swipe());this._onHoldEnd()},_onPointerUp:function(a){this._inputDown.set(k.CLICK,!1);this._pointer.end(this._sanitizeX(a.viewX,a.viewY),this._sanitizeY(a.viewX,a.viewY));!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").end(this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y());!1==this._pointer.get_consumed()&&
this._delegateDispatch(aa.UP,k.CLICK,this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y(),a.viewX,a.viewY,this._pointer.get_swipe());this._onHoldEnd()},_onHoldStart:function(){this._timerHold=0;this._flagHold=!0},_onHoldEnd:function(){this._flagHold=!1},_checkGestureHold:function(a){this._flagHold&&(this._timerHold+=a,this._timerHold>=this._TIME_HOLD&&(this._flagHold=!1,this._delegateDispatch(null,k.HOLD,this._pointer.get_currentPos().get_x(),this._pointer.get_currentPos().get_y(),
0,0,this._pointer.get_swipe()),this._pointer.set_consumed(!0)))},_checkGesturePinch:function(){for(var a=0,b=[],c=this.get_multiTouch().keys();c.hasNext();){var d=c.next();!1==this.get_multiTouch().get(d).get_consumed()&&(a++,b.push(d))}2==a&&(a=Bb.distBetweenPoints(this.get_multiTouch().get(b[0]).get_originPos(),this.get_multiTouch().get(b[1]).get_originPos()),c=Bb.distBetweenPoints(this.get_multiTouch().get(b[0]).get_currentPos(),this.get_multiTouch().get(b[1]).get_currentPos()),c<a/2?(this._delegateDispatch(null,
k.PINCH_IN,this.get_multiTouch().get(b[0]).get_currentPos().get_x(),this.get_multiTouch().get(b[0]).get_currentPos().get_y(),0,0,this.get_multiTouch().get(b[0]).get_swipe()),this.get_multiTouch().get(b[0]).set_consumed(!0),this.get_multiTouch().get(b[1]).set_consumed(!0),this._pointer.set_consumed(!0)):c>2*a&&(this._delegateDispatch(null,k.PINCH_OUT,this.get_multiTouch().get(b[0]).get_currentPos().get_x(),this.get_multiTouch().get(b[0]).get_currentPos().get_y(),0,0,this.get_multiTouch().get(b[0]).get_swipe()),
this.get_multiTouch().get(b[0]).set_consumed(!0),this.get_multiTouch().get(b[1]).set_consumed(!0),this._pointer.set_consumed(!0)))},__class__:Ed,__properties__:{get_multiTouch:"get_multiTouch",get_pointer:"get_pointer",set_scale:"set_scale"}};var Ea=function(){};m["com.workinman.cloudutils.WMPointer"]=Ea;Ea.__name__=["com","workinman","cloudutils","WMPointer"];Ea.__interfaces__=[Ga];Ea.request=function(a,b){return fa.get_instance().requestObject("WMPointer",Ea).init(a,b)};Ea.__super__=A;Ea.prototype=
v(A.prototype,{create:function(){this._personalCamera=new ad(0,0)},init:function(a,b){this._origin=N.request();this._current=N.request();this._last=N.request();this._delta=N.request();this._workPoint=N.request();this._motionDelta=Sa.request();this._line=Sa.request();this._deltaLine=Sa.request();this._camera=this._personalCamera;this._resetDeltaLine=!0;this._timer=Ea._DELTA_TIMEOUT;this._id=a;this._index=b;this._phase=aa.UP;this._swipe=Z.NONE;this._consumed=!1;return this},dispose:function(){this._motionDelta.dispose();
this._motionDelta=null;this._workPoint.dispose();this._workPoint=null;this._origin.dispose();this._origin=null;this._current.dispose();this._current=null;this._last.dispose();this._last=null;this._delta.dispose();this._delta=null;this._line.dispose();this._line=null;this._deltaLine.dispose();this._phase=this._swipe=this._camera=this._deltaLine=null;A.prototype.dispose.call(this)},destroy:function(){this._personalCamera.dispose();this._personalCamera=null;A.prototype.destroy.call(this)},get_phase:function(){return this._phase},
get_originPos:function(){return this._origin},get_currentPos:function(){return this._current},get_lastPos:function(){return this._last},get_deltaPos:function(){return this._delta},get_line:function(){return this._line},get_swipe:function(){return this._swipe},get_consumed:function(){return this._consumed},set_consumed:function(a){return this._consumed=a},get_id:function(){return this._id},get_index:function(){return this._index},set_index:function(a){return this._index=a},get_motionDelta:function(){return this._motionDelta},
get_deltaLine:function(){if(!1==this._resetDeltaLine)return this._deltaLine;this._deltaLine.endToPoint(this._current);this._resetDeltaLine=!1;return this._deltaLine},setCamera:function(a){null!=a?this._camera=a:(this._personalCamera.get_pos().to(0,0),this._camera=this._personalCamera)},begin:function(a,b){this._origin.to(a,b);var c=this._origin;c.set_x(c.get_x()+(this._camera.get_pos().get_x()-this._camera.get_screenCenterX()));c=this._origin;c.set_y(c.get_y()+(this._camera.get_pos().get_y()-this._camera.get_screenCenterY()));
this._current.toPoint(this._origin);this._last.toPoint(this._origin);this._delta.to(0,0);this._line.to(this._origin,this._current);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._origin,this._current);this._consumed=!1;this._phase=aa.DOWN;this._swipe=Z.NONE},move:function(a,b){this._updateInfo(a,b);!1!=j.get_instance().get_input().getInput(k.CLICK)&&(this._phase=aa.MOVE,this._testSwipe(),this._line.endToPoint(this._current))},end:function(a,b){this._phase=aa.UP;this._updateInfo(a,
b);this._testSwipe();this._line.endToPoint(this._current)},_testSwipe:function(){!1==this._consumed?(this._workPoint.to(this._origin.get_x()-this._current.get_x(),this._origin.get_y()-this._current.get_y()),this._swipe=Math.abs(this._workPoint.get_x())>=Ea._DELTA_ALLOWANCE&&Math.abs(this._workPoint.get_y())<Ea._DELTA_ALLOWANCE?0<this._workPoint.get_x()?Z.LEFT:Z.RIGHT:Math.abs(this._workPoint.get_y())>=Ea._DELTA_ALLOWANCE&&Math.abs(this._workPoint.get_x())<Ea._DELTA_ALLOWANCE?0<this._workPoint.get_y()?
Z.UP:Z.DOWN:Z.NONE):this._swipe=Z.NONE},_updateInfo:function(a,b){this._last.toPoint(this._current);this._current.to(a,b);var c=this._current;c.set_x(c.get_x()+(this._camera.get_pos().get_x()-this._camera.get_screenCenterX()));c=this._current;c.set_y(c.get_y()+(this._camera.get_pos().get_y()-this._camera.get_screenCenterY()));this._delta.toPoint(this._current);this._delta.subtractPoint(this._last);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._motionDelta.get_p1(),this._current)},
update:function(a){this._resetDeltaLine=!0;this._timer-=a;0>this._timer&&(this._timer=Ea._DELTA_TIMEOUT,this._deltaLine.originToPoint(this._current))},__class__:Ea,__properties__:v(A.prototype.__properties__,{get_deltaLine:"get_deltaLine",get_motionDelta:"get_motionDelta",set_index:"set_index",get_index:"get_index",get_id:"get_id",set_consumed:"set_consumed",get_consumed:"get_consumed",get_swipe:"get_swipe",get_line:"get_line",get_deltaPos:"get_deltaPos",get_lastPos:"get_lastPos",get_currentPos:"get_currentPos",
get_originPos:"get_originPos",get_phase:"get_phase"})});var Id=function(){this._localizedData=new K;this._emptyLocalization=new bd("","","",1,0,0)};m["com.workinman.cloudutils.WMLocalize"]=Id;Id.__name__=["com","workinman","cloudutils","WMLocalize"];Id.prototype={parseLocalization:function(a){null==a&&(a=oa.translation);var b=j.get_instance().get_assets().getXML(a);this.defaultFont=b.att.resolve("defaultFont");a="";for(b=b.nodes.resolve("string").iterator();b.hasNext();){var c=b.next(),a=c.att.resolve("id");
this._localizedData.exists(a)||(c=new bd(c.att.resolve("id"),c.get_innerData(),c.att.resolve("fontName"),y.parseFloat(c.att.resolve("fontScale")),y.parseFloat(c.att.resolve("offsetX")),y.parseFloat(c.att.resolve("offsetY"))),this._localizedData.set(a,c),c)}},getLocalizeData:function(a){return!1==this._localizedData.exists(a)?null:this._localizedData.get(a)},getString:function(a){return this.getLocalizeData(a).get_string()},__class__:Id};var bd=function(a,b,c,d,i,e){this._id=a;this._string=b;this._fontName=
c;this._scale=d;this._offsetX=i;this._offsetY=e};m["com.workinman.cloudutils.WMLocalizedData"]=bd;bd.__name__=["com","workinman","cloudutils","WMLocalizedData"];bd.prototype={get_string:function(){return this._string},get_fontName:function(){return this._fontName},get_scale:function(){return this._scale},get_offsetX:function(){return this._offsetX},get_offsetY:function(){return this._offsetY},__class__:bd,__properties__:{get_offsetY:"get_offsetY",get_offsetX:"get_offsetX",get_scale:"get_scale",get_fontName:"get_fontName",
get_string:"get_string"}};var ha=m["com.workinman.cloudutils.AUDIO_PRIORITY"]={__ename__:["com","workinman","cloudutils","AUDIO_PRIORITY"],__constructs__:["MUSIC","VO","SFX"]};ha.MUSIC=["MUSIC",0];ha.MUSIC.toString=f;ha.MUSIC.__enum__=ha;ha.VO=["VO",1];ha.VO.toString=f;ha.VO.__enum__=ha;ha.SFX=["SFX",2];ha.SFX.toString=f;ha.SFX.__enum__=ha;ha.__empty_constructs__=[ha.MUSIC,ha.VO,ha.SFX];var Gd=function(){this._audioPriority=ha.MUSIC;this._musicId=null;this._musicGain=1;this._muteVo=this._muteSfx=
this._muteMusic=this._muteSystem=this._muteAll=!1;this._mixer=new Sd;this._tween=ya.request();this._voQueue=[];this._music=null;this._sound=new K;this._vo=null;this._soundRemoval=[]};m["com.workinman.cloudutils.WMSound"]=Gd;Gd.__name__=["com","workinman","cloudutils","WMSound"];Gd.prototype={get_muteAll:function(){return this._muteAll},set_muteAll:function(a){this._muteAll=a;this._toggleMute();return this._muteAll},setAudioPriority:function(a){this._audioPriority=a},_toggleMute:function(){if(this._getMutePriority(ha.MUSIC)){var a=
this._musicId;this.stopMusic();this._musicId=a}else this.playMusic(null,this._musicId,this._musicGain);this._getMutePriority(ha.SFX)&&this.stopAllSound();this._getMutePriority(ha.VO)&&this.stopVO()},_getMutePriority:function(a){if(this._muteAll||this._muteSystem)return!0;switch(a[1]){case 0:return this._muteMusic;case 2:return this._muteSfx;case 1:return this._muteVo}return!1},playMusic:function(a,b,c,d){null==d&&(d=-1);null==c&&(c=1);a=null==a?b:y.string(a);if(!(this._musicId==a&&null!=this._music)){this._musicId=
a;this._musicGain=c;if(0<d&&null!=this._music)this._tween.tween(this._music,d,{volume:0},!0,o.EASE_LINEAR).onComplete(s(this,this._onPlayMusicFadeOutComplete));else null!=this._music&&(this._music.set_doDelete(!0),this._music.dispose(),this._music=null);this._music=this._playAudio(a,c,null,!0,ha.MUSIC)}},_onPlayMusicFadeOutComplete:function(){this.playMusic(null,this._musicId,this._musicGain)},stopMusic:function(a){null==a&&(a=-1);if(0<a){if(null!=this._music)this._tween.tween(this._music,a,{volume:0},
!0,o.EASE_LINEAR).onComplete(s(this,this._onStopMusicFadeOutComplete))}else null!=this._music&&(this._music.set_doDelete(!0),this._musicId="")},_onStopMusicFadeOutComplete:function(){null!=this._music&&(this._music.set_doDelete(!0),this._musicId="")},playSound:function(a,b,c,d,i){null==i&&(i=!1);null==c&&(c=1);null==b&&(b="");a=null==a?b:y.string(a);if(this._sound.exists(a))return this._sound.get(a).playSound(c,d);c=this._playAudio(a,c,d,i,ha.SFX);if(null==c)return null;this._sound.set(a,c);return this._sound.get(a)},
stopAllSound:function(){for(var a=this._sound.iterator();a.hasNext();)a.next().set_doDelete(!0)},stopSound:function(a,b){null==b&&(b="");var c;c=null==a?b:y.string(a);this._sound.exists(c)&&this._sound.get(c).set_doDelete(!0)},playVO:function(a,b,c,d,i,e){null==e&&(e=-1);null==i&&(i=!1);null==c&&(c=1);null==b&&(b="");a=null==a?b:y.string(a);null!=this._vo&&this._vo.get_id()==a||(i&&this.stopVO(),1>this._voQueue.length&&null!=this._music&&this._tween.tween(this._music,0.15,{volume:0.25},!0,o.EASE),
this._voQueue.push(Rb.request(a,c,d,e)))},stopVO:function(){for(;0<this._voQueue.length;)this._voQueue.pop().dispose();null!=this._vo&&this._vo.set_doDelete(!0)},_playAudio:function(a,b,c,d,i){if(null==a||this._getMutePriority(i)||!1==q.allAudioSupported()&&i!=this._audioPriority)return null!=c&&c(),null;i=j.get_instance().get_assets().getSound(null,a);return null==i?(null!=c&&c(),null):Sb.request(a,this._mixer.createSound(i,4),d).playSound(b,c)},update:function(a){this._tween.update(a);for(var b=
this._sound.iterator();b.hasNext();){var c=b.next();c.get_doDelete()?(this._soundRemoval.push(c.get_id()),c.dispose()):c.update(a)}for(;0<this._soundRemoval.length;)this._sound.remove(this._soundRemoval.pop());null!=this._music&&(this._music.get_doDelete()?(this._music.dispose(),this._music=null):this._music.update(a));null==this._vo&&0<this._voQueue.length?(b=this._voQueue[0],b.set_delay(b.get_delay()-a),0>this._voQueue[0].get_delay()&&(a=this._voQueue.shift(),j.get_instance().get_dispatcher().dispatchEvent(T.request(n.VO_STARTED)),
this._vo=this._playAudio(a.get_id(),a.get_gain(),a.get_call(),!1,ha.VO),a.dispose())):null!=this._vo&&(this._vo.get_doDelete()?(this._vo.dispose(),this._vo=null,1>this._voQueue.length?(j.get_instance().get_dispatcher().dispatchEvent(T.request(n.VO_ENDED)),null!=this._music&&this._tween.tween(this._music,0.2,{volume:1},!0,o.EASE)):0<this._voQueue[0].get_delay()&&j.get_instance().get_dispatcher().dispatchEvent(T.request(n.VO_PAUSED))):this._vo.update(a))},__class__:Gd,__properties__:{set_muteAll:"set_muteAll",
get_muteAll:"get_muteAll"}};var Rb=function(){};m["com.workinman.cloudutils.VOQueue"]=Rb;Rb.__name__=["com","workinman","cloudutils","VOQueue"];Rb.request=function(a,b,c,d){return fa.get_instance().requestObject("VOQueue",Rb).init(a,b,c,d)};Rb.__super__=A;Rb.prototype=v(A.prototype,{init:function(a,b,c,d){this._id=a;this._callback=c;this._delay=d;this._gain=b;return this},get_id:function(){return this._id},get_gain:function(){return this._gain},get_call:function(){return this._callback},get_delay:function(){return this._delay},
set_delay:function(a){return this._delay=a},__class__:Rb,__properties__:v(A.prototype.__properties__,{set_delay:"set_delay",get_delay:"get_delay",get_call:"get_call",get_gain:"get_gain",get_id:"get_id"})});var Sb=function(){};m["com.workinman.cloudutils.SoundDef"]=Sb;Sb.__name__=["com","workinman","cloudutils","SoundDef"];Sb.request=function(a,b,c){null==c&&(c=!1);return fa.get_instance().requestObject("SoundDef",Sb).init(a,b,c)};Sb.__super__=A;Sb.prototype=v(A.prototype,{init:function(a,b,c){this._complete=
null;this._doDelete=!1;this._id=a;this._loop=c;this._maxVol=this.volume=1;this._sound=b;return this},dispose:function(){null!=this._playback&&(this._playback.dispose(),this._playback=null);null!=this._sound&&(this._sound.dispose(),this._sound=null);null!=this._complete&&this._complete();this._id=this._complete=null;A.prototype.dispose.call(this)},get_doDelete:function(){return this._doDelete},set_doDelete:function(a){this._doDelete=a;return this.get_doDelete()},get_id:function(){return this._id},
set_id:function(a){this._id=a;return this.get_id()},get_sound:function(){return this._sound},get_playback:function(){return this._playback},set_playback:function(a){return this._playback=a},update:function(){this._playback.set_volume(this._maxVol*this.volume);if(this._playback.get_paused()||this._playback.get_complete())this._doDelete=!0},playSound:function(a,b){null==a&&(a=1);if(null==this._sound)return null!=b&&b(),null;this._maxVol=a;this.volume=1;this._loop?this._playback=this._sound.loop(a):
(null!=b&&(this._complete=b),this._playback=this._sound.play(a));return this},__class__:Sb,__properties__:v(A.prototype.__properties__,{set_playback:"set_playback",get_playback:"get_playback",get_sound:"get_sound",set_id:"set_id",get_id:"get_id",set_doDelete:"set_doDelete",get_doDelete:"get_doDelete"})});var h=function(){this.game_fill_safe=1;this.assets=new Td;this.vo=new Ud;this.basePath=W.replace(this.assets.basePath,"assets/builder_assets/","");this.games=[];this._flagMobile=this._flagApp=!1;
j.get_instance().setBool(l.BOOL_ANDROID_APP,!1);j.get_instance().setBool(l.BOOL_IOS_APP,!1);j.get_instance().setBool(l.BOOL_ANDROID,!1);j.get_instance().setBool(l.BOOL_IOS,!1);var a=window.navigator.userAgent.toLowerCase(),b=window.document.referrer.toLowerCase();if(-1!=a.indexOf("android")&&-1!=b.indexOf("http://www.ludei.com"))j.get_instance().setBool(l.BOOL_ANDROID_APP,!0),this._flagApp=!0;else if((-1!=a.indexOf("ipod")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad"))&&-1==a.indexOf("safari"))j.get_instance().setBool(l.BOOL_IOS_APP,
!0),this._flagApp=!0;-1!=a.indexOf("android")?j.get_instance().setBool(l.BOOL_ANDROID,!0):(-1!=a.indexOf("ipod")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad"))&&j.get_instance().setBool(l.BOOL_IOS,!0);if(-1!=a.indexOf("ipad")||-1!=a.indexOf("tablet")||-1!=a.indexOf("android")||-1!=a.indexOf("mobi"))this._flagMobile=!0;"mobile"==Ua.getQueryVariable("mode")&&(this._flagMobile=!0);this._flagMobile&&(this.game_fill_safe=0.9);this.responsive=!0;this._addEventListeners()};m["com.workinman.cloudutils.builder.WMBuilder"]=
h;h.__name__=["com","workinman","cloudutils","builder","WMBuilder"];h.__properties__={get_instance:"get_instance"};h.get_instance=function(){null==h.__instance&&(h.__instance=new h);return h.__instance};h.prototype={get_flagApp:function(){return this._flagApp},get_curLevel:function(){return this.get_curGame().levels[j.get_instance().getInt(l.INT_LEVEL)]},get_curGame:function(){return this.games[j.get_instance().getInt(l.INT_GAME)]},_addEventListeners:function(){j.get_instance().get_dispatcher().addEventListener(n.FILES_ERROR,
s(this,this._onFilesError))},_onFilesError:function(a){a=a.get_data().get("error");a.substring(a.indexOf("url=")+4,a.length-1)==this._promoSrc&&j.get_instance().get_assets().skipFile()},init:function(){j.get_instance().get_assets().addFile(this.assets.basePath+"data/project.json","builder_properties","bootstrap_manifest_id","data");q.DISABLE_CACHE="true"==Ua.getQueryVariable("disable_cache")?!0:!1;var a="";q.DISABLE_CACHE&&(a="?t="+(new Date).getTime());j.get_instance().get_assets().addFile(this.assets.basePath+
"images/splash.jpg"+a,"builder_splash","bootstrap_manifest_id","jpg");ja.get_instance().init(this.assets.basePath,"bootstrap_manifest_id")},update:function(a){this.vo.update(a)},onBootstrapLoad:function(){this.config=JSON.parse(j.get_instance().get_assets().getFile("builder_properties").toString());this.game_id=this.config.settings.game_id;this.loader=null!=this.config.settings.loader?{x:this._getValue(this.config.settings.loader.x,0),y:this._getValue(this.config.settings.loader.y,0)}:{x:0,y:0};this.loader_fill_color=
this.parseColor(this.config.settings.loader_fill_color);this.loader_frame_color=this.parseColor(this.config.settings.loader_frame_color);this.loader_bg_color=this.parseColor(this.config.settings.loader_bg_color);this.animation_transition=this._getValue(this.config.settings.animation_transition,"auto");this.animation_transition_in=this._getValue(this.config.settings.animation_transition_in,"slide");this.animation_transition_out=this._getValue(this.config.settings.animation_transition_out,"slide");
this.animation_transition_time=this._getValue(this.config.settings.animation_transition_time,1);this.defaultText=this._getTextObject(this.config.settings.default_text,null,"",!0);this.defaultTextHeader=this._getTextObject(this.config.settings.default_text_header);this.defaultTextCopy=this._getTextObject(this.config.settings.default_text_copy);this.text=new K;for(var a=0,b=this.config.settings.text.length;a<b;){var c=a++,d=this._getTextObject(this.config.settings.text[c],null,"initial_manifest_id");
this.text.set(this.config.settings.text[c].id,d)}this.results_enabled=this._getValue(this.config.settings.results_enabled,!0);this.ad_bar_enabled=this._getValue(this.config.settings.ad_bar_enabled,!1);this.version_enabled=this._getValue(this.config.settings.version_enabled,!0);if(null!=this.config.settings.audio_priority)switch(this.config.settings.audio_priority){case "vo":j.get_instance().get_sound().setAudioPriority(ha.VO);break;case "sfx":j.get_instance().get_sound().setAudioPriority(ha.SFX);
break;case "music":j.get_instance().get_sound().setAudioPriority(ha.MUSIC);break;default:j.get_instance().get_sound().setAudioPriority(ha.MUSIC)}this.spacing=this.config.settings.spacing;this.scale_up=this._getValue(this.config.settings.scale_up,!1);this.enable_cache=this._getValue(this.config.settings.enable_cache,!0);this.share=null!=this.config.settings.share?{bgColor:this._getValue(this.config.settings.share.bgColor,"#55d8f6"),textColor:this._getValue(this.config.settings.share.textColor,"#333333"),
shareGame:this._getValue(this.config.settings.share.shareGame,!0)}:{bgColor:"#55d8f6",textColor:"#333333",shareGame:!0};this.analytics_enabled=this._getValue(this.config.settings.analytics_enabled,!1);this.responsive=this._getValue(this.config.settings.responsive,!0);this.btn_hud_alpha=this._getValue(this.config.settings.btn_hud_alpha,0.5);this.antipiracy_url=this._getValue(this.config.settings.antipiracy_url,"");this.antipiracy_enabled=this._getValue(this.config.settings.antipiracy_enabled,!0);this.banner_scale=
this._getValue(this.config.settings.banner_scale,0.1);this.vo_time_idle=this._getValue(this.config.settings.vo_time_idle,15);this.vo_sync_type=this._getValue(this.config.settings.vo_sync_type,"none");this.vo_enabled=this._getValue(this.config.settings.vo_enabled,!0);this.list_num_rows=this.config.settings.list_num_rows;this.list_num_cols=this.config.settings.list_num_cols;this.animation_found=this._getValue(this.config.settings.animation_found,"expand");this.animation_hint=this._getValue(this.config.settings.animation_hint,
"circle");this.animation_auto_hint=this._getValue(this.config.settings.animation_auto_hint,"circle");this.animation_list=this._getValue(this.config.settings.animation_list,"normal");this.time_bonus_max=this._getValue(this.config.settings.time_bonus_max,0);this.time_bonus_min=this._getValue(this.config.settings.time_bonus_min,0);this.timer_type=this._getValue(this.config.settings.timer_type,"stopwatch");this.timer_format=this._getValue(this.config.settings.timer_format,"seconds");this.timer_change_format=
this._getValue(this.config.settings.timer_change_format,!1);this.story_timer=this._getValue(this.config.settings.story_timer,5);this.story_timer_buttons=this._getValue(this.config.settings.story_timer_buttons,0);this.combo_timer=this._getValue(this.config.settings.combo_timer,5);this.combo_frame_color=this.parseColor(this.config.settings.combo_frame_color);this.combo_bg_color=this.parseColor(this.config.settings.combo_bg_color);this.combo_fill_colors=[];if(null!=this.config.settings.combo_fill_colors){a=
0;for(b=this.config.settings.combo_fill_colors.length;a<b;)this.combo_fill_colors.push(this.parseColor(this.config.settings.combo_fill_colors[a++]))}this.hide_unused_images=this._getValue(this.config.settings.hide_unused_images,!1);this.unlock_condition=this._getValue(this.config.settings.unlock_condition,"normal");this.can_zoom=this._getValue(this.config.settings.can_zoom,!1);this.hint_fade_in=this._getValue(this.config.settings.hint_fade_in,!1);this.can_zoom=this._getValue(this.config.settings.can_zoom,
!1);this.skip_level_select=this._getValue(this.config.settings.skip_level_select,!1);this.show_level_number=this._getValue(this.config.settings.show_level_number,!0);this.level_select_progression=this._getValue(this.config.settings.level_select_progression,!0);this.timer_position=null!=this.config.settings.timer_position?{enabled:this._getValue(this.config.settings.timer_position.enabled,!1),x:this._getValue(this.config.settings.timer_position.x,0),y:this._getValue(this.config.settings.timer_position.y,
0)}:{enabled:!1,x:0,y:0};this.end_level_timer=this._getValue(this.config.settings.end_level_timer,0);this.timer_bg_color=this.parseColor(this.config.settings.timer_bg_color);this.timer_frame_color=this.parseColor(this.config.settings.timer_frame_color);this.timer_fill_color=this.parseColor(this.config.settings.timer_fill_color);this.story_timer=this._getValue(this.config.settings.story_timer,5);this.story_timer_buttons=this._getValue(this.config.settings.story_timer_buttons,0);this.ui_spacing=this._getValue(this.config.settings.ui_spacing,
0);this.level_select_num_rows=this._getValue(this.config.settings.level_select_num_rows,3);this.level_select_num_cols=this._getValue(this.config.settings.level_select_num_cols,3);this.level_select_align=this._getValue(this.config.settings.level_select_align,"left");ja.get_instance().onBootstrapLoad(this.analytics_enabled);this._setupManifests();this._setupPreview()},onPreloadLoaded:function(){j.get_instance().setBool(l.BOOL_FONTS_LOADED,!0);if(this.promos_enabled)try{var a=JSON.parse(j.get_instance().get_assets().getFile("builder_promos").toString());
this.promos={order:a.order,list:[]};var b={path:"images",array:[]};"random"==this.promos.order&&(a.list=q.shuffleArray(a.list));var c=0;do!1!=a.list[c].enabled&&(b.array.push(a.list[c].image),this.promos.list.push({image:a.list[c].image.name,href:a.list[c].href,text:a.list[c].text})),c++;while(4>this.promos.list.length&&c<a.list.length);this.assets.parseAndAddAssetsToManifest(b,"initial_manifest_id")}catch(d){this.promos_enabled=!1}this.ad_bar_enabled&&j.get_instance().get_dispatcher().dispatchEvent(T.request(n.ADD_AD_BAR))},
onInitialLoaded:function(){},_setupPreview:function(){try{WMBuilderPreview.onDisplayQuestion=s(this,this._onDisplayQuestion),WMBuilderPreview.onDisplayResult=s(this,this._onDisplayResult),WMBuilderPreview.onDisplayWin=s(this,this._onDisplayWin),WMBuilderPreview.onDisplayLose=s(this,this._onDisplayLose)}catch(a){null}},_onDisplayQuestion:function(a){j.get_instance().get_dispatcher().dispatchEvent(T.request(n.PREVIEW_QUESTION,function(){var b=new K;b.set("question",a);return b}(this)))},_onDisplayResult:function(a){j.get_instance().get_dispatcher().dispatchEvent(T.request(n.PREVIEW_RESULT,
function(){var b=new K;b.set("result",a);return b}(this)))},_onDisplayWin:function(){j.get_instance().get_dispatcher().dispatchEvent(T.request(n.PREVIEW_WIN))},_onDisplayLose:function(){j.get_instance().get_dispatcher().dispatchEvent(T.request(n.PREVIEW_LOSE))},previewStory:function(){try{WMBuilderPreview.setCurGame(j.get_instance().getInt(l.INT_GAME));for(var a=0,b=h.get_instance().get_curGame().levels.length;a<b;){var c=a++;WMBuilderPreview.setEnabled("q_"+(c+1),!1)}WMBuilderPreview.setEnabled("w",
!1);WMBuilderPreview.setEnabled("l",!1);WMBuilderPreview.setEnabled("r_0",!1)}catch(d){null}},previewStart:function(){try{WMBuilderPreview.setCurGame(j.get_instance().getInt(l.INT_GAME));for(var a=0,b=h.get_instance().get_curGame().levels.length;a<b;){var c=a++;WMBuilderPreview.setEnabled("q_"+(c+1),!1)}WMBuilderPreview.setEnabled("w",!0);WMBuilderPreview.setEnabled("l",!0);WMBuilderPreview.setEnabled("r_0",!1)}catch(d){null}},previewLevelSelect:function(){try{for(var a=0,b=h.get_instance().get_curGame().levels.length;a<
b;){var c=a++;WMBuilderPreview.setEnabled("q_"+(c+1),!0)}WMBuilderPreview.setEnabled("w",!1);WMBuilderPreview.setEnabled("l",!1);WMBuilderPreview.setEnabled("r_0",!1)}catch(d){null}},previewEndLevel:function(){try{for(var a=0,b=h.get_instance().get_curGame().levels.length;a<b;){var c=a++;WMBuilderPreview.setEnabled("q_"+(c+1),!0)}WMBuilderPreview.setEnabled("w",!1);WMBuilderPreview.setEnabled("l",!1);WMBuilderPreview.setEnabled("r_0",!0)}catch(d){null}},previewResult:function(){try{for(var a=0,b=
h.get_instance().get_curGame().levels.length;a<b;){var c=a++;WMBuilderPreview.setEnabled("q_"+(c+1),!1)}WMBuilderPreview.setEnabled("w",!1);WMBuilderPreview.setEnabled("l",!1);WMBuilderPreview.setEnabled("r_0",!1)}catch(d){null}},_setupManifests:function(){this.config.preload&&(this.assets.parseAndAddAssetsToManifest(this.config.preload.images,"preload_manifest_id"),this.assets.parseAndAddAssetsToManifest(this.config.preload.audio,"preload_manifest_id"),this.assets.parseAndAddAssetsToManifest(this.config.preload.texturePacker,
"preload_manifest_id"));if(this.config.settings.promos&&(this.promos_enabled=!0==this.config.settings.promos.enabled,this._flagApp&&(this.promos_enabled=!1),this.promos_enabled)){var a=this.config.settings.promos.src;this._promoSrc=null==a||""==a||"local"==a?this.assets.basePath+"data/promos.json":a;j.get_instance().get_assets().addFile(this._promoSrc,"builder_promos","external_manifest_id","data")}this.config.initial&&(this.assets.parseAndAddAssetsToManifest(this.config.initial.images,"initial_manifest_id"),
this.assets.parseAndAddAssetsToManifest(this.config.initial.audio,"initial_manifest_id"),this.assets.parseAndAddAssetsToManifest(this.config.initial.texturePacker,"initial_manifest_id"));this.config.gameplay&&(this.assets.parseAndAddAssetsToManifest(this.config.gameplay.images,"gameplay_manifest_id"),this.assets.parseAndAddAssetsToManifest(this.config.gameplay.audio,"gameplay_manifest_id"),this.assets.parseAndAddAssetsToManifest(this.config.gameplay.texturePacker,"gameplay_manifest_id"),this._flagApp&&
(this.assets.setAssetData("button_share","enabled",!1),this.assets.setAssetData("button_more","enabled",!1)));0==this.assets.get_numSounds()&&(this.assets.setAssetData("button_sound_on","enabled",!1),this.assets.setAssetData("button_sound_off","enabled",!1));this._setupBuilder()},setupLocalizationManifest:function(){if(this.config.fonts){var a=this.assets.basePath+"../fonts_"+j.get_instance().getString(l.STRING_REGION_ID),b;b=V.__cast(this.config.fonts.array,Array);for(var c=0;c<b.length;){var d=
b[c];++c;j.get_instance().get_assets().addFile(a+"/"+y.string(d.name)+".png",d.name,"preload_manifest_id","png");j.get_instance().get_assets().addFile(a+"/"+y.string(d.name)+".fnt",y.string(d.name)+".fnt","preload_manifest_id","data")}j.get_instance().get_assets().addFile(a+"/translation.xml","translation.xml","preload_manifest_id","data")}},_setupBuilder:function(){var a=null,b="",c=null,d=null,i=d=null,e=null,a=!1;Q.SHARED_OBJECT_ID+="_"+this.game_id;for(var f=0,g=this.config.games.length;f<g;){var h=
f++;Q.get_instance().addWorld(this.config.games[h]);i={name:this.config.games[h].name,levels:[],results:[],story:[],storyEnd:[]};this.games.push(i);if(null!=this.config.games[h].story){for(var d=[],b=0,j=this.config.games[h].story.length;b<j;)e=b++,c=this.config.games[h].story[e],i.story.push({image:c.image.name,idSound:this._getValue(c.idSound,""),idVO:this._getValue(c.idVO,""),idVOIdle:this._getValue(c.idVOIdle,"")}),d.push(c.image);0<d.length&&(d={path:"images",array:d},this.assets.parseAndAddAssetsToManifest(d,
"gameplay_manifest_id"))}if(null!=this.config.games[h].storyEnd){d=[];b=0;for(j=this.config.games[h].storyEnd.length;b<j;)e=b++,c=this.config.games[h].storyEnd[e],i.storyEnd.push({image:c.image.name,idSound:this._getValue(c.idSound,""),idVO:this._getValue(c.idVO,""),idVOIdle:this._getValue(c.idVOIdle,"")}),d.push(c.image);0<d.length&&(d={path:"images",array:d},this.assets.parseAndAddAssetsToManifest(d,"gameplay_manifest_id"))}j=0;for(e=this.config.games[h].levels.length;j<e;){var k=j++;if(a=this._getValue(this.config.games[h].levels[k].enabled,
!0)){b="level"+k;a={manifestID:b,loaded:!1,imageBG:null,images:[],objects:[],points:this.config.games[h].levels[k].points,goldScore:this._getValue(this.config.games[h].levels[k].goldScore,0),goal:{type:this.config.games[h].levels[k].goal.type,value:this.config.games[h].levels[k].goal.value,timeBonusMax:this._getValue(this.config.games[h].levels[k].goal.time_bonus_max,0),timeBonusMin:this._getValue(this.config.games[h].levels[k].goal.time_bonus_min,0),showTimer:this._getValue(this.config.games[h].levels[k].goal.showTimer,
!1)},hint:{type:this._getValue(this.config.games[h].levels[k].hint.type,"none"),value:this._getValue(this.config.games[h].levels[k].hint.value,0),auto:this._getValue(this.config.games[h].levels[k].hint.auto,-1),autoType:this._getValue(this.config.games[h].levels[k].hint.autoType,"normal"),cooldown:this._getValue(this.config.games[h].levels[k].hint.cooldown,-1)},type:{name:this._getValue(this.config.games[h].levels[k].type.name,"normal"),value:this._getValue(this.config.games[h].levels[k].type.value,
0),stars:this._getValue(this.config.games[h].levels[k].type.stars,-1),randomPosition:this._getValue(this.config.games[h].levels[k].type.randomPosition,!1),types:[]},penalty:{type:"normal",value:0,count:0},flashlight:this._getValue(this.config.games[h].levels[k].flashlight,!1),instructionID:this._getValue(this.config.games[h].levels[k].instruction?this.config.games[h].levels[k].instruction.id:"",""),story:[],unlock_condition:this._getValue(this.config.games[h].levels[k].unlock_condition,0),enabled:a,
imagesAlt:new K,levelSelect:{idVO:"",buttonLevel:"",buttonLevelInfo:{x:0,y:0}}};try{a.penalty={type:this._getValue(this.config.games[h].levels[k].penalty.type,"normal"),value:this._getValue(this.config.games[h].levels[k].penalty.value,0),count:this._getValue(this.config.games[h].levels[k].penalty.count,0)}}catch(l){}if(null!=this.config.games[h].levels[k].type.types){for(var m=null,d=0,c=this.config.games[h].levels[k].type.types.length;d<c;)m=d++,m=this.config.games[h].levels[k].type.types[m],a.type.types.push({name:this._getValue(m.name,
"normal"),value:this._getValue(m.value,0),stars:this._getValue(m.stars,0),randomPosition:this._getValue(m.randomPosition,!1),types:null});m=null}""!=a.instructionID&&(d=this._getTextObject(this.config.games[h].levels[k].instruction,null,"gameplay_manifest_id",!0),this.text.set(this.config.games[h].levels[k].instruction.id,d));null!=this.config.games[h].levels[k].level_select&&(a.levelSelect.idVO=this._getValue(this.config.games[h].levels[k].level_select.idVO,""),c=this.config.games[h].levels[k].level_select.button_level,
null!=c&&(a.levelSelect.buttonLevel=this._getValue(c.name,""),this.assets.parseAndAddAssetsToManifest({path:"images",array:[c]},"initial_manifest_id")),null!=this.config.games[h].levels[k].level_select.button_level_info&&(d=this.config.games[h].levels[k].level_select.button_level_info,a.levelSelect.buttonLevelInfo.x=this._getValue(d.x,0),a.levelSelect.buttonLevelInfo.y=this._getValue(d.y,0)));d=[];if(null!=this.config.games[h].levels[k].imagesAlt)for(var m="",n=0,o=this.config.games[h].levels[k].imagesAlt.length;n<
o;)c=n++,m=F.fields(this.config.games[h].levels[k].imagesAlt[c])[0],c=F.field(this.config.games[h].levels[k].imagesAlt[c],m),a.imagesAlt.set(m,c.name),d.push(c);m=0;for(n=this.config.games[h].levels[k].images.length;m<n;)o=m++,c=this.config.games[h].levels[k].images[o],d.push(c),0==o?a.imageBG={image:c.name,safeWidth:null!=c.safe_zone?this._getValue(c.safe_zone.width,0):0,safeHeight:null!=c.safe_zone?this._getValue(c.safe_zone.height,0):0}:a.images.push({id:null==c.id?"":c.id,image:c.name,zSort:c.zSort});
m=0;for(n=this.config.games[h].levels[k].objects.length;m<n;)c=m++,c=this.config.games[h].levels[k].objects[c],a.objects.push({id:c.id,rect:null==c.rect?{x:0,y:0,w:0,h:0}:{x:c.rect.x,y:c.rect.y,w:c.rect.w,h:c.rect.h},text:this._getTextObject(c.text),showImage:c.showImage,showText:c.showText,stars:this._getValue(c.stars,0),image:"",imageFound:"",idVOHud:this._getValue(c.idVOHud,""),idVOWrong2:this._getValue(c.idVOWrong2,""),idVOWrong3:this._getValue(c.idVOWrong3,"")}),null!=c.image&&(d.push(c.image),
a.objects[a.objects.length-1].image=c.image.name),null!=c.imageFound&&(d.push(c.imageFound),a.objects[a.objects.length-1].imageFound=c.imageFound.name);pa.sort(a.images,function(a,b){return a.zSort>b.zSort?1:a.zSort<b.zSort?-1:0});if(null!=this.config.games[h].levels[k].story){m=0;for(n=this.config.games[h].levels[k].story.length;m<n;)c=m++,c=this.config.games[h].levels[k].story[c],a.story.push({image:c.image.name,idSound:this._getValue(c.idSound,""),idVO:this._getValue(c.idVO,""),idVOIdle:this._getValue(c.idVOIdle,
"")}),d.push(c.image)}d={path:"images",array:d};this.assets.parseAndAddAssetsToManifest(d,b);this.assets.parseAndAddAssetsToManifest(this.config.games[h].levels[k].texturePacker,b);i.levels.push(a)}}b=0;for(j=this.config.games[h].results.length;b<j;)e=b++,e=this.config.games[h].results[e],i.results.push({image:e.image.name,header:this._getTextObject(e.header,this.defaultTextHeader),copy:this._getTextObject(e.copy,this.defaultTextCopy),idSound:e.idSound,idVO:this._getValue(e.idVO,""),idVOIdle:this._getValue(e.idVOIdle,
"")}),d={path:"images",array:[e.image]},this.assets.parseAndAddAssetsToManifest(d,"gameplay_manifest_id")}e=i=d=d=c=a=null;Q.get_instance().load();Q.get_instance().save()},_getValue:function(a,b){return null==a?b:a},_getTextObject:function(a,b,c,d){null==d&&(d=!1);null==c&&(c="");var i=null;if(null==a)return i=F.copy(b),i.id="",i;i={id:a.id,color:this.parseColor(a.color),align:a.align,textAlign:a.textAlign,textPosition:a.textPosition,textWidth:a.textWidth,bgColor:this.parseColor(a.bgColor),bgPadding:a.bgPadding,
bgAlpha:a.bgAlpha,bgImage:null,bgResize:a.bgResize,location:a.location};null!=a.bgImage&&(i.bgImage=a.bgImage.name);if(d){null==a.bgAlpha&&(i.bgAlpha=0);null==a.bgPadding&&(i.bgPadding=0);if(null==a.bgColor||-1==i.bgColor)i.bgColor=-1;null==a.location&&(i.location="")}else if(null==b&&(b=this.defaultText),null!=b){null==a.bgAlpha&&(i.bgAlpha=b.bgAlpha);null==a.bgPadding&&(i.bgPadding=b.bgPadding);if(null==a.bgColor||-1==i.bgColor)i.bgColor=b.bgColor;if(null==a.color||-1==i.color)i.color=b.color;null==
a.bgImage&&(i.bgImage=b.bgImage);null==a.bgResize&&(i.bgResize=b.bgResize);null==a.textWidth&&(i.textWidth=b.textWidth);null==a.location&&(i.location=b.location)}null==i.bgResize&&(i.bgResize="none");""==c&&(c="gameplay_manifest_id");""!=c&&null!=a.bgImage&&this.assets.parseAndAddAssetsToManifest({path:"images",array:[a.bgImage]},c);return i},parseColor:function(a){if(""==a||null==a)return-1;a=W.replace(a,"#","");return y.parseInt("0x"+a)},assetEnabled:function(a){return this.assets.getAssetData(a).enabled},
assetString:function(a){return this.assets.getAssetData(a).name},assetParams:function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);var a=this.assets.getAssetData(a),i=null;c?(b.assetUpString=a.name,i=this.assets.getAssetData(d),""!=d&&""!=i.name&&(b.assetDownString=i.name)):b.assetString=a.name;null==b.x&&(b.x=0);null==b.y&&(b.y=0);b.offsetX=a.x;b.offsetY=a.y;return b},stopVO:function(){j.get_instance().get_sound().stopVO()},stopSound:function(a){null!=a&&(a=this.assets.getAssetData(a),!1!=j.get_instance().get_assets().hasSound(null,
a.name)&&j.get_instance().get_sound().stopSound(null,a.name))},playSound:function(a,b,c,d,i){null==c&&(c=!1);null==b&&(b=!1);null!=a&&(a=this.assets.getAssetData(a),!1==j.get_instance().get_assets().hasSound(null,a.name)?c&&null!=i&&i():c?(null!=d&&d(),j.get_instance().get_sound().playVO(null,a.name,a.volume,i,!0)):j.get_instance().get_sound().playSound(null,a.name,a.volume,null,b))},playMusic:function(a){null==a?j.get_instance().get_sound().stopMusic():(a=this.assets.getAssetData(a),!1==j.get_instance().get_assets().hasSound(null,
a.name)?j.get_instance().get_sound().stopMusic():j.get_instance().get_sound().playMusic(null,a.name,a.volume))},colorMaskElement:function(a,b){if(!(-1==b||null==a.get_rect())){var c=Ha.request(z.get_instance().get_renderer().createTexture(Math.floor(Math.min(2048,a.get_width())),Math.floor(Math.min(2048,a.get_height()))));c.get_texture().get_graphics().setBlendMode(S.Normal);c.get_texture().get_graphics().fillRect(b,0,0,c.get_texture().get_width(),c.get_texture().get_height());c.get_texture().get_graphics().setBlendMode(S.Mask);
a.draw(c.get_texture().get_graphics());c.get_texture().get_graphics().setBlendMode(S.Normal);a.set_rect(c)}},colorMaskText:function(a,b){if(-1==b||""==a._text)return a;var c=a.get_height(),d=a._font.descenderHeight;a._font.name!=j.get_instance().get_localize().defaultFont&&(d*=-1);var c=d/2,i=Ha.request(z.get_instance().get_renderer().createTexture(Math.floor(a.get_width()),Math.floor(a.get_height()+(0<c?c:0)))),e=0;switch(a._align[1]){case 1:e=(0.1>=a.get_scaleX()?a.boundWidth():a.get_width())/2;
break;case 2:e=0.1>=a.get_scaleX()?a.boundWidth():a.get_width()}var f=0;a._font.name!=j.get_instance().get_localize().defaultFont?(f=Math.max(a._font.descenderHeight-a.boundY(),0),c=d/2+f):(c=0<a.boundY()&&a.boundY()<a._font.descenderHeight?d/2:0>a.boundY()?2*-a.boundY():0,f=0);0<a.wrapHeight()&&(c+=a.wrapHeight()*a.get_originY());a.get_layout().draw(i.get_texture().get_graphics(),e,c);c=new eb({sprite:i,y:0-f/2,originY:a.get_originY()});a.addChild(c);a.colorText=c;c=z.get_instance().get_renderer().createTexture(i.get_texture().get_width(),
i.get_texture().get_height());c.get_graphics().drawTexture(i.get_texture(),0,0);i.get_texture().get_graphics().setBlendMode(S.Normal);i.get_texture().get_graphics().fillRect(b,0,0,i.get_texture().get_width(),i.get_texture().get_height());i.get_texture().get_graphics().setBlendMode(S.Mask);i.get_texture().get_graphics().drawTexture(c,0,0);i.get_texture().get_graphics().setBlendMode(S.Normal);a.set_text("");return a},positionElement:function(a,b){switch(b){case "top_left":a.set_originX(0);a.set_originY(0);
break;case "top_right":a.set_originX(1);a.set_originY(0);break;case "bottom_left":a.set_originX(0);a.set_originY(1);break;case "bottom_right":a.set_originX(1),a.set_originY(1)}},__class__:h,__properties__:{get_curGame:"get_curGame",get_curLevel:"get_curLevel",get_flagApp:"get_flagApp"}};var na=function(a,b){this.path=null!=a.path?a.path:b;this.name=null==a.name?"":a.name;this.id=""==a.id||null==a.id?this.name:a.id;this.fullPaths=[];this.types=a.type instanceof Array&&null==a.type.__enum__?a.type:
[a.type];for(var c=0,d=this.types;c<d.length;){var i=d[c];++c;i=null!=a.src?a.src:this.name+"."+i;this.fullPaths.push(0==i.indexOf("http://")||0==i.indexOf("https://")?i:this.path+i)}this.enabled=!1==a.enabled?!1:!0;this.x=null!=a.x?a.x:0;this.y=null!=a.y?a.y:0;this.volume=null!=a.volume?a.volume:1;0==this.volume&&(this.enabled=!1);this.resize=null!=a.resize?a.resize:"";this.align=null!=a.align?a.align:"";this.location=null!=a.location?a.location:"";this.href=null!=a.href?a.href:"";0==this.id.indexOf("button_")&&
""==this.name&&(this.enabled=!1);this.texturePacked=null!=a.texturePacked?a.texturePacked:!1;"plist"==this.types[0]&&(this.name+=".plist")};m["com.workinman.cloudutils.builder.WMBuilderAssetData"]=na;na.__name__=["com","workinman","cloudutils","builder","WMBuilderAssetData"];na.prototype={__class__:na};var Td=function(){this._jsEmbedBase="";this._numSounds=0;R.get_exists()&&!R.get_isCrossdomain()&&(this._jsEmbedBase=this._trimUrl(R.get_base()));W.startsWith(this._jsEmbedBase,"cms_services/")&&(this._jsEmbedBase=
W.replace(this._jsEmbedBase,"cms_services/",""),this._jsEmbedBase=this._appendSlashIfNeeded(this._jsEmbedBase));var a="";null!=this._getQueryVariable("project")?(a=this._getQueryVariable("project"),a=this._appendSlashIfNeeded(a)):(a=j.get_instance().get_assets().get_baseUrl(),a=-1==a.indexOf("assets")?a+"assets/builder_assets/":a+"builder_assets/");this.basePath=a;this._assetData=new K;this._emptyAsset=new na({enabled:!1},"")};m["com.workinman.cloudutils.builder.WMBuilderAssetManager"]=Td;Td.__name__=
["com","workinman","cloudutils","builder","WMBuilderAssetManager"];Td.prototype={get_numSounds:function(){return this._numSounds},parseAndAddAssetsToManifest:function(a,b){var c="";q.DISABLE_CACHE&&(c="?t="+(new Date).getTime());if(null!=a&&null!=a.array&&0<a.array.length){a.array=V.__cast(a.array,Array);for(var d=[],i=null,e=this._appendSlashIfNeeded(this.basePath+y.string(a.path)),f=0,g=a.array.length;f<g;)if(i=f++,null!=a.array[i]&&(i=new na(a.array[i],e),this._assetData.exists(i.id)?null:(this._assetData.set(i.id,
i),i),""!=i.name&&(d.push(i),i.enabled&&!i.texturePacked)))for(var h=0,k=i.types.length;h<k;){var l=h++;j.get_instance().get_assets().addFile(i.fullPaths[l]+c,i.name,b,i.types[l]);("mp3"==i.types[l]||"ogg"==i.types[l])&&this._numSounds++}return d}return[]},getAssets:function(a,b){for(var c=[],d=this._assetData.keys();d.hasNext();){var i=d.next();F.field(this._assetData.get(i),a)==b&&c.push(this._assetData.get(i))}return c},getAssetData:function(a){return!1==this._assetData.exists(a)?this._emptyAsset:
this._assetData.get(a)},setAssetData:function(a,b,c){if(!1==this._assetData.exists(a))return null;F.setField(this._assetData.get(a),b,c)},_trimUrl:function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=G.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=G.substr(a,b,a.length-b);return a=this._appendSlashIfNeeded(a)},_appendSlashIfNeeded:function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+=
"/");return a},_getQueryVariable:function(a){for(var b=R.eval("window.location.search.substring(1)").split("&"),c=0,d=b.length;c<d;){var i=c++,i=b[i].split("=");if(i[0]==a)return i[1]}return null},__class__:Td,__properties__:{get_numSounds:"get_numSounds"}};var Ud=function(){this._flagVOPlaying=!1;this._queueVO=[];this._tween=ya.request()};m["com.workinman.cloudutils.builder.WMBuilderVOManager"]=Ud;Ud.__name__=["com","workinman","cloudutils","builder","WMBuilderVOManager"];Ud.prototype={update:function(a){this._tween.update(a);
0!=this._queueVO.length&&(this._flagVOPlaying||this.playVO(this._queueVO.pop()));0<this._timer&&(this._timer-=a,0>=this._timer&&null!=this._idleVO&&this.playVO(this._idleVO,!0))},resetIdleTimer:function(){this._resetIdleTimer()},_resetIdleTimer:function(){this._timer=h.get_instance().vo_time_idle},_playAudio:function(a){this._currentVO=a;h.get_instance().playSound(this._currentVO.id,!1,!0,s(this,this._onCallbackStart),s(this,this._onCallbackEnd))},_onCallbackStart:function(){this._flagVOPlaying=!0;
this._syncElement(this._currentVO.element);if(null!=this._currentVO.elements)for(var a=0,b=this._currentVO.elements;a<b.length;){var c=b[a];++a;this._syncElement(c)}},_onCallbackEnd:function(){this._flagVOPlaying=!1;this._resetIdleTimer()},_syncElement:function(a){if(null!=a){var b=a.get_scale();a.get_alpha();var c=a.get_rotation();switch(h.get_instance().vo_sync_type){case "expand":this._tween.tween(a,0.15,{scale:1.2*b},!0,o.EASE_OUT);this._tween.tween(a,0.15,{scale:b},!1,o.EASE_IN);break;case "wiggle":this._tween.tween(a,
0.1,{rotation:c-20}),this._tween.tween(a,0.1,{rotation:c+20}),this._tween.tween(a,0.1,{rotation:c-20}),this._tween.tween(a,0.1,{rotation:c})}}},playVO:function(a,b){null==b&&(b=!1);h.get_instance().vo_enabled&&(b||!this._flagVOPlaying)&&this._playAudio(a)},stopVO:function(){h.get_instance().stopVO()},queueVO:function(a){h.get_instance().vo_enabled&&this._queueVO.push(a)},idleVO:function(a,b){null==b&&(b=!1);h.get_instance().vo_enabled&&(this._idleVO=a,b&&this.queueVO(this._idleVO),this._resetIdleTimer())},
clear:function(){this.stopVO();this._idleVO=null;this._queueVO=[]},__class__:Ud};var Fc=function(a,b,c,d,i){null==d&&(d=!1);this._timeline=a;null==i&&(i=X.z__MAINUI);this._defaultLayer=i;this._layers=new Ia;this._elements=[];this._camera=new ad(b,c);this._enablePointer=d;this._zSortLayers=new Ia;z.get_instance().addRenderCompleteDelegate(s(this,this._onEventRenderComplete))};m["com.workinman.display.ElementManager"]=Fc;Fc.__name__=["com","workinman","display","ElementManager"];Fc.prototype={dispose:function(){for(z.get_instance().removeRenderCompleteDelegate(s(this,
this._onEventRenderComplete));0<this._elements.length;)this._elements.pop().dispose();this._timeline=this._elements=null;for(var a=this._layers.iterator();a.hasNext();)a.next().dispose();this._zSortLayers=this._layers=null;this._camera.dispose();this._defaultLayer=this._camera=null},get_root:function(){return this._timeline},addLayer:function(a,b){null==b&&(b=!1);if(this._layers.exists(a))this._timeline.removeChild(this._layers.get(a)),this._timeline.addChild(this._layers.get(a));else{var c=this._timeline.addChild(new D);
this._layers.set(a,c);b&&this._zSortLayers.set(a,[])}},addElement:function(a,b){!1==this._enablePointer&&a.disablePointer();a.get_useCamera()&&a.setCamera(this._camera);null==b&&null!=this._defaultLayer&&(b=this._defaultLayer);if(!1==this._layers.exists(b))return a;this._zSortLayers.exists(b)&&this._addZSort(a,b);this._layers.get(b).addChild(a);this._addUpdate(a);return a},_addUpdate:function(a){for(var b=this._elements.length;0<b--;)if(this._elements[b]==a)return;this._elements.push(a)},_addZSort:function(a,
b){for(var c=this._zSortLayers.get(b),d=c.length;0<d--;)if(c[d]==a)return;c.push(a)},updateElements:function(a){for(var b=this._elements.length;0<b--;)this._elements[b].doUpdate(a),this._elements[b].get_doDelete()&&(this._elements[b].dispose(),this._elements.splice(b,1))},_onEventRenderComplete:function(){this._camera.get_pos().cleanDirtyFlag()},__class__:Fc,__properties__:{get_root:"get_root"}};var $c=function(a){""!=a.assetString&&null==a.library&&j.get_instance().get_assets().hasGifLibrary(a.assetString)&&
(a.library=j.get_instance().get_assets().getGifLibrary(a.assetString),a.assetString="");r.call(this,a);this._library=a.library;this._prevFrame=-1;if(null!=this._library){for(var a=[],b=0,c=this._library.get_frames();b<c.length;){var d=c[b];++b;a.push(d.frame)}this.addAnimation("idle",a);this.animate("idle")}};m["com.workinman.display.GifElement"]=$c;$c.__name__=["com","workinman","display","GifElement"];$c.__super__=r;$c.prototype=v(r.prototype,{dispose:function(){r.prototype.dispose.call(this);this._library=
null},_setFrame:function(a){if(!(null==this._library||0>a||null==this._currentAnimDef||a>=this._currentAnimDef.get_frames().length+1)&&Math.floor(a)!=this._prevFrame)this._prevFrame=Math.floor(a),this.set_rect(this._currentAnimDef.get_frames()[Math.floor(a-1)]),this._prevFrame>=this._library.get_frames().length&&(this._prevFrame=0),this._fps=12>this._library.get_frames()[this._prevFrame].delay?8.333333333333334:100/this._library.get_frames()[this._prevFrame].delay},__class__:$c});var De=function(){};
m["com.workinman.display.IPoolable"]=De;De.__name__=["com","workinman","display","IPoolable"];De.prototype={__class__:De,__properties__:{set_isPooled:"set_isPooled"}};var Dd=function(){this._pools=new K;this._flagAllPoolsFull=!1;this._numPools=0};m["com.workinman.display.PoolManager"]=Dd;Dd.__name__=["com","workinman","display","PoolManager"];Dd.prototype={dispose:function(){for(var a=this._pools.iterator();a.hasNext();)a.next().dispose();this._pools=null},update:function(a){if(!this._flagAllPoolsFull){this._flagAllPoolsFull=
!0;for(var b=this._pools.iterator();b.hasNext();){var c=b.next();c.get_isPoolFull()||(this._flagAllPoolsFull=!1,c.update(a))}this._flagAllPoolsFull&&j.get_instance().get_dispatcher().dispatchEvent(T.request(n.ALL_POOLS_FULL))}},__class__:Dd};var Ee=function(){this._AVERAGE_DELAY_BETWEEN_CREATE_ELEMENTS=0.8;this._MAX_ELEMENTS_TO_CREATE_AT_ONCE=8};m["com.workinman.display.PoolData"]=Ee;Ee.__name__=["com","workinman","display","PoolData"];Ee.prototype={get_isPoolFull:function(){return this._flagPoolFull},
update:function(a){this._flagPoolFull||(this._timerUpdateCreateSprites-=a,0>=this._timerUpdateCreateSprites&&this._addPoolSprites())},_addPoolSprites:function(a){null==a&&(a=!0);for(var b=0;this._poolProgress<this._poolSpritesToAdd&&(!a||b<this._MAX_ELEMENTS_TO_CREATE_AT_ONCE);)b++,this._poolProgress++,this._elements.push(U.createInstance(this._class,[{pooled:!0}]));this._poolProgress<this._poolSpritesToAdd?this._timerUpdateCreateSprites=this._AVERAGE_DELAY_BETWEEN_CREATE_ELEMENTS+0.2*this._timerOffset:
(this._timerUpdateCreateSprites=0,this._flagPoolFull=!0)},dispose:function(){for(var a=0;a<this._elements.length;)this._elements[a].set_isPooled(!1),this._elements[a].dispose(),a++;this._class=this._elements=null},__class__:Ee,__properties__:{get_isPoolFull:"get_isPoolFull"}};var da=m["com.workinman.display.ui._ButtonBase.ButtonState"]={__ename__:"com,workinman,display,ui,_ButtonBase,ButtonState".split(","),__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};da._STATE_UP=["_STATE_UP",
0];da._STATE_UP.toString=f;da._STATE_UP.__enum__=da;da._STATE_DOWN=["_STATE_DOWN",1];da._STATE_DOWN.toString=f;da._STATE_DOWN.__enum__=da;da._STATE_OVER=["_STATE_OVER",2];da._STATE_OVER.toString=f;da._STATE_OVER.__enum__=da;da._STATE_CLICK=["_STATE_CLICK",3];da._STATE_CLICK.toString=f;da._STATE_CLICK.__enum__=da;da.__empty_constructs__=[da._STATE_UP,da._STATE_DOWN,da._STATE_OVER,da._STATE_CLICK];var yd=function(a,b,c){this._screenId=a;this._changeEvent=b;this._action=c};m["com.workinman.display.ui.ChangeActionData"]=
yd;yd.__name__=["com","workinman","display","ui","ChangeActionData"];yd.prototype={get_screenId:function(){return this._screenId},get_changeEvent:function(){return this._changeEvent},get_action:function(){return this._action},__class__:yd,__properties__:{get_action:"get_action",get_changeEvent:"get_changeEvent",get_screenId:"get_screenId"}};var Vd=function(a,b){this.id=a;this.screenClass=b};m["com.workinman.display.ui.ScreenData"]=Vd;Vd.__name__=["com","workinman","display","ui","ScreenData"];Vd.prototype=
{__class__:Vd};var xd=function(a){this._dispatcher=Xa.request();this._container=a;this._layerScreen=new D;this._container.addChild(this._layerScreen);this._isPaused=!1;this._screens=[];this._screensOpen=[];this._screensQueue=[];this._flagCloseAllScreensWhenBottomCloses=!1};m["com.workinman.display.ui.ScreenManager"]=xd;xd.__name__=["com","workinman","display","ui","ScreenManager"];xd.prototype={set_interfaceDelegate:function(a){return this._interfaceDelegate=a},addScreen:function(a,b){this._screens.push(new Vd(a,
b))},closeScreen:function(a,b,c){null==c&&(c=-1);null==b&&(b=!0);if(0==this._screensOpen.length)this.removeQueuedScreen(a);else{if(null==a)c=this._screensOpen[this._screensOpen.length-1];else if(0<=c&&c<this._screensOpen.length)c=this._screensOpen[c];else if(c=this.getScreen(a),null==c){this.removeQueuedScreen(a);return}c.close(b);this._dispatchEventChange(ea.CLOSE_BEGIN,a)}},openScreen:function(a,b,c,d){null==b&&(b=!0);this._hasScreenData(a)&&(this.isScreenOpen(a)?this._moveScreenToTop(a):(null==
c&&(c=za.CLOSED_ALL),c!=za.IMMEDIATE&&b&&0<this._screensOpen.length?this._addScreenToQueue(this._getScreenData(a),c,d):this._generateScreen(this._getScreenData(a))))},_moveScreenToTop:function(a){var b=this.getScreen(a);if(null!=b){b.isClosing()&&b.open(!1);for(var c=this._screensOpen.length-1;0<=c&&!(this._screensOpen[c].id==a);)c--;this._screensOpen.splice(c,1);b.reset();this._removeScreenDisplay(b.get_root());this._addScreenDisplay(b.get_root());this._screensOpen.push(b)}},changeScreenTo:function(a,
b){null==b&&(b=!1);this.removeAllQueuedScreens();var c;if(this.isScreenOpen(a)){for(c=this._screensOpen.length-1;0<=c;)this._screensOpen[c].id!=a&&this.closeScreen(this._screensOpen[c].id,b,c),c--;this._dispatchEventChange(ea.OPEN_BEGIN,a);this._dispatchEventChange(ea.OPEN_COMPLETE,a)}else if(0<this._screensOpen.length){this._screensOpen[0].suspend();var d=za.CLOSED_ALL;if(0<this._screensOpen.length&&(this.closeScreen(this._screensOpen[0].id,b,0),1<this._screensOpen.length))for(c=1;c<this._screensOpen.length;)this.closeScreen(this._screensOpen[c].id,
b,this._screensOpen.length),c++;this.openScreen(a,!0,d)}else this.openScreen(a,!1)},update:function(a){if(!this._isPaused){0.15<a&&(a=0.15);for(this._loop=this._screensOpen.length;0<this._loop--;)this._screensOpen[this._loop].update(a),this._screensOpen[this._loop].flagDispose&&(this._disposeScreen(this._screensOpen[this._loop].id),0==this._screensOpen.length&&this._onQueueConditionMet(za.CLOSED_ALL))}},getScreen:function(a){if(0==this._screensOpen.length)return null;if(null==a)return this._screensOpen[this._screensOpen.length-
1];for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return this._screensOpen[b];b--}return null},isScreenOpen:function(a){for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return!0;b--}return!1},hasQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a)return!0;b--}return!1},removeQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a){this._screensQueue.splice(b,
1);break}b--}},removeAllQueuedScreens:function(){for(var a=this._screensQueue.length-1;0<=a;)this._screensQueue.splice(a,1),a--},_addScreenToQueue:function(a,b,c){this.hasQueuedScreen(a.id)||this._screensQueue.push(new Wd(a,b,c))},_generateScreen:function(a){if(this.isScreenOpen(a.id))this.getScreen(a.id).reset(),this._dispatchEventChange(ea.OPEN_BEGIN,a.id);else{var b=U.createInstance(a.screenClass,[a.id,this._container]);null!=b&&(this._screensOpen.push(b),b.set_flowDelegate(s(this,this._onEventScreenOutput)),
b.open(!0),this._dispatchEventChange(ea.OPEN_BEGIN,a.id))}},_disposeScreen:function(a){for(var b=0;b<this._screensOpen.length;){if(this._screensOpen[b].id==a){this._removeScreenDisplay(this._screensOpen[b].get_root());this._screensOpen[b].dispose();this._screensOpen.splice(b,1);break}b++}},_onEventScreenOutput:function(a,b){a==La.OPENED?this._dispatchEventChange(ea.OPEN_COMPLETE,b):a==La.CLOSED&&(this._dispatchEventChange(ea.CLOSE_COMPLETE,b),this._onQueueConditionMet(za.CLOSED_SPECIFIC,b))},_hasScreenData:function(a){for(var b=
this._screens.length-1;0<=b;){if(this._screens[b].id==a)return!0;b--}return!1},_getScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return this._screens[b];b--}return null},_onQueueConditionMet:function(a,b){for(var c=0;c<this._screensQueue.length;)this._screensQueue[c].validateCondition(a,b)&&(this._generateScreen(this._screensQueue[c].screenData),this._screensQueue.splice(c,1)),c++},_dispatchEventChange:function(a,b){null!=this._interfaceDelegate&&this._interfaceDelegate(a,
b)},_addScreenDisplay:function(a){this._layerScreen.addChild(a)},_removeScreenDisplay:function(a){this._layerScreen.removeChild(a)},__class__:xd,__properties__:{set_interfaceDelegate:"set_interfaceDelegate"}};var Wd=function(a,b,c){this.screenData=a;this.openCondition=b;this.openTestString=c};m["com.workinman.display.ui.ScreenQueueData"]=Wd;Wd.__name__=["com","workinman","display","ui","ScreenQueueData"];Wd.prototype={validateCondition:function(a,b){return this.openCondition==a?null==this.openTestString||
this.openTestString==b:!1},__class__:Wd};var Va=function(a,b,c,d,i,e){this.id=a;this.animation=b;this.actionOnComplete=c;this.actionData=d;this.inFunc=i;this.outFunc=e};m["com.workinman.display.ui.ScreenStateData"]=Va;Va.__name__=["com","workinman","display","ui","ScreenStateData"];Va.prototype={__class__:Va};var T=function(){};m["com.workinman.events.WMEvent"]=T;T.__name__=["com","workinman","events","WMEvent"];T.__interfaces__=[Ga];T.request=function(a,b){return fa.get_instance().requestObject("WMEvent",
T).init(a,b)};T.__super__=A;T.prototype=v(A.prototype,{init:function(a,b){this._eventId=a;this._map=b;return this},dispose:function(){this._map=null;A.prototype.dispose.call(this)},destroy:function(){this._map=null;A.prototype.destroy.call(this)},get_eventId:function(){return this._eventId},get_data:function(){return this._map},__class__:T,__properties__:v(A.prototype.__properties__,{get_data:"get_data",get_eventId:"get_eventId"})});var Xa=function(){};m["com.workinman.events.WMEventDispatcher"]=
Xa;Xa.__name__=["com","workinman","events","WMEventDispatcher"];Xa.__interfaces__=[Ga];Xa.request=function(){return fa.get_instance().requestObject("WMEventDispatcher",Xa)};Xa.__super__=A;Xa.prototype=v(A.prototype,{create:function(){this._eventTrackers=new Ia},dispose:function(){for(var a=this._eventTrackers.iterator();a.hasNext();)a.next().dispose();ga.emptyMap(this._eventTrackers);A.prototype.dispose.call(this)},destroy:function(){this._eventTrackers=null;A.prototype.destroy.call(this)},addEventListener:function(a,
b){if(!this._eventTrackers.exists(a)){var c=Eb.request();this._eventTrackers.set(a,c)}this._eventTrackers.get(a).addEventListener(b)},removeEventListener:function(a,b){this._eventTrackers.exists(a)&&(this._eventTrackers.get(a).removeEventListener(b),this._eventTrackers.get(a).isEmtpy()&&(this._eventTrackers.get(a).dispose(),this._eventTrackers.remove(a)))},dispatchEvent:function(a){(function(b){var c=a.get_eventId();return b._eventTrackers.exists(c)})(this)&&function(b){var c=a.get_eventId();return b._eventTrackers.get(c)}(this).dispatchEvent(a);
a.dispose()},__class__:Xa});var Eb=function(){};m["com.workinman.events._WMEventDispatcher.WMEventTracker"]=Eb;Eb.__name__=["com","workinman","events","_WMEventDispatcher","WMEventTracker"];Eb.__interfaces__=[Ga];Eb.request=function(){return fa.get_instance().requestObject("WMEventTracker",Eb).init()};Eb.__super__=A;Eb.prototype=v(A.prototype,{init:function(){this._count=0;this._listeners=[];return this},dispose:function(){this._listeners=null;A.prototype.dispose.call(this)},addEventListener:function(a){for(var b=
0,c=this._listeners;b<c.length;){var d=c[b];++b;if(F.compareMethods(d,a))return}this._count++;this._listeners.push(a)},removeEventListener:function(a){for(var b=this._listeners.length;0<b--;)if(F.compareMethods(this._listeners[b],a)){this._count--;this._listeners.splice(b,1);break}},dispatchEvent:function(a){for(var b=0,c=this._listeners;b<c.length;){var d=c[b];++b;d(a)}},isEmtpy:function(){return 0>=this._count},__class__:Eb});var Bb=function(){};m["com.workinman.math.WMMath"]=Bb;Bb.__name__=["com",
"workinman","math","WMMath"];Bb.distBetweenPoints=function(a,b){return Math.abs(Math.sqrt((a.get_x()-b.get_x())*(a.get_x()-b.get_x())+(a.get_y()-b.get_y())*(a.get_y()-b.get_y())))};Bb.clamp=function(a,b,c,d){null==d&&(d=!1);d?a>c?a=b:a<b&&(a=c):a>c?a=c:a<b&&(a=b);return a};var Hd=function(){this._sessions=new K;this._randomSeeds=new K};m["com.workinman.math.random.WMRandom"]=Hd;Hd.__name__=["com","workinman","math","random","WMRandom"];Hd.prototype={random:function(a){null==a&&(a="");return""==a||
null==this._randomSeeds.get(a)?Math.random():this._randomSeeds.get(a).random()},getRandomFloat:function(a,b,c){null==c&&(c="");return a+this.random(c)*(b-a)},getRandomInt:function(a,b,c){null==c&&(c="");return Math.floor(this.getRandomFloat(a,b+1,c))},__class__:Hd};var Ne=function(){};m["com.workinman.math.random.WeightTracker"]=Ne;Ne.__name__=["com","workinman","math","random","WeightTracker"];var Fe=function(){};m["com.workinman.math.random.WMSeededRandom"]=Fe;Fe.__name__=["com","workinman","math",
"random","WMSeededRandom"];Fe.prototype={get_seed:function(){return this._seed},set_seed:function(a){this._seed=a;return this.get_seed()},_randomInt:function(){return this.set_seed(16807*this.get_seed()%2147483647)&1073741823},random:function(){return this._randomInt()/1073741823},__class__:Fe,__properties__:{set_seed:"set_seed",get_seed:"get_seed"}};var o=m["com.workinman.math.tween.EASE"]={__ename__:["com","workinman","math","tween","EASE"],__constructs__:"EASE_IN,EASE_QUAD_IN,EASE_OUT,EASE_QUAD_OUT,EASE,EASE_QUAD,EASE_LINEAR,EASE_EXPO,EASE_EXPO_IN,EASE_EXPO_OUT,EASE_ELASTIC,EASE_ELASTIC_IN,EASE_ELASTIC_OUT,EASE_BUMP,EASE_BUMP_IN,EASE_BUMP_OUT,EASE_BOUNCE,EASE_BOUNCE_IN,EASE_BOUNCE_OUT,EASE_CUBIC,EASE_CUBIC_IN,EASE_CUBIC_OUT,EASE_SPACE,EASE_SPACE_IN,EASE_SPACE_OUT,EASE_BLAST,EASE_BLAST_IN,EASE_BLAST_OUT,EASE_WAVE,EASE_WAVE_IN,EASE_WAVE_OUT,EASE_CIRCLE,EASE_CIRCLE_IN,EASE_CIRCLE_OUT".split(",")};
o.EASE_IN=["EASE_IN",0];o.EASE_IN.toString=f;o.EASE_IN.__enum__=o;o.EASE_QUAD_IN=["EASE_QUAD_IN",1];o.EASE_QUAD_IN.toString=f;o.EASE_QUAD_IN.__enum__=o;o.EASE_OUT=["EASE_OUT",2];o.EASE_OUT.toString=f;o.EASE_OUT.__enum__=o;o.EASE_QUAD_OUT=["EASE_QUAD_OUT",3];o.EASE_QUAD_OUT.toString=f;o.EASE_QUAD_OUT.__enum__=o;o.EASE=["EASE",4];o.EASE.toString=f;o.EASE.__enum__=o;o.EASE_QUAD=["EASE_QUAD",5];o.EASE_QUAD.toString=f;o.EASE_QUAD.__enum__=o;o.EASE_LINEAR=["EASE_LINEAR",6];o.EASE_LINEAR.toString=f;o.EASE_LINEAR.__enum__=
o;o.EASE_EXPO=["EASE_EXPO",7];o.EASE_EXPO.toString=f;o.EASE_EXPO.__enum__=o;o.EASE_EXPO_IN=["EASE_EXPO_IN",8];o.EASE_EXPO_IN.toString=f;o.EASE_EXPO_IN.__enum__=o;o.EASE_EXPO_OUT=["EASE_EXPO_OUT",9];o.EASE_EXPO_OUT.toString=f;o.EASE_EXPO_OUT.__enum__=o;o.EASE_ELASTIC=["EASE_ELASTIC",10];o.EASE_ELASTIC.toString=f;o.EASE_ELASTIC.__enum__=o;o.EASE_ELASTIC_IN=["EASE_ELASTIC_IN",11];o.EASE_ELASTIC_IN.toString=f;o.EASE_ELASTIC_IN.__enum__=o;o.EASE_ELASTIC_OUT=["EASE_ELASTIC_OUT",12];o.EASE_ELASTIC_OUT.toString=
f;o.EASE_ELASTIC_OUT.__enum__=o;o.EASE_BUMP=["EASE_BUMP",13];o.EASE_BUMP.toString=f;o.EASE_BUMP.__enum__=o;o.EASE_BUMP_IN=["EASE_BUMP_IN",14];o.EASE_BUMP_IN.toString=f;o.EASE_BUMP_IN.__enum__=o;o.EASE_BUMP_OUT=["EASE_BUMP_OUT",15];o.EASE_BUMP_OUT.toString=f;o.EASE_BUMP_OUT.__enum__=o;o.EASE_BOUNCE=["EASE_BOUNCE",16];o.EASE_BOUNCE.toString=f;o.EASE_BOUNCE.__enum__=o;o.EASE_BOUNCE_IN=["EASE_BOUNCE_IN",17];o.EASE_BOUNCE_IN.toString=f;o.EASE_BOUNCE_IN.__enum__=o;o.EASE_BOUNCE_OUT=["EASE_BOUNCE_OUT",18];
o.EASE_BOUNCE_OUT.toString=f;o.EASE_BOUNCE_OUT.__enum__=o;o.EASE_CUBIC=["EASE_CUBIC",19];o.EASE_CUBIC.toString=f;o.EASE_CUBIC.__enum__=o;o.EASE_CUBIC_IN=["EASE_CUBIC_IN",20];o.EASE_CUBIC_IN.toString=f;o.EASE_CUBIC_IN.__enum__=o;o.EASE_CUBIC_OUT=["EASE_CUBIC_OUT",21];o.EASE_CUBIC_OUT.toString=f;o.EASE_CUBIC_OUT.__enum__=o;o.EASE_SPACE=["EASE_SPACE",22];o.EASE_SPACE.toString=f;o.EASE_SPACE.__enum__=o;o.EASE_SPACE_IN=["EASE_SPACE_IN",23];o.EASE_SPACE_IN.toString=f;o.EASE_SPACE_IN.__enum__=o;o.EASE_SPACE_OUT=
["EASE_SPACE_OUT",24];o.EASE_SPACE_OUT.toString=f;o.EASE_SPACE_OUT.__enum__=o;o.EASE_BLAST=["EASE_BLAST",25];o.EASE_BLAST.toString=f;o.EASE_BLAST.__enum__=o;o.EASE_BLAST_IN=["EASE_BLAST_IN",26];o.EASE_BLAST_IN.toString=f;o.EASE_BLAST_IN.__enum__=o;o.EASE_BLAST_OUT=["EASE_BLAST_OUT",27];o.EASE_BLAST_OUT.toString=f;o.EASE_BLAST_OUT.__enum__=o;o.EASE_WAVE=["EASE_WAVE",28];o.EASE_WAVE.toString=f;o.EASE_WAVE.__enum__=o;o.EASE_WAVE_IN=["EASE_WAVE_IN",29];o.EASE_WAVE_IN.toString=f;o.EASE_WAVE_IN.__enum__=
o;o.EASE_WAVE_OUT=["EASE_WAVE_OUT",30];o.EASE_WAVE_OUT.toString=f;o.EASE_WAVE_OUT.__enum__=o;o.EASE_CIRCLE=["EASE_CIRCLE",31];o.EASE_CIRCLE.toString=f;o.EASE_CIRCLE.__enum__=o;o.EASE_CIRCLE_IN=["EASE_CIRCLE_IN",32];o.EASE_CIRCLE_IN.toString=f;o.EASE_CIRCLE_IN.__enum__=o;o.EASE_CIRCLE_OUT=["EASE_CIRCLE_OUT",33];o.EASE_CIRCLE_OUT.toString=f;o.EASE_CIRCLE_OUT.__enum__=o;o.__empty_constructs__=[o.EASE_IN,o.EASE_QUAD_IN,o.EASE_OUT,o.EASE_QUAD_OUT,o.EASE,o.EASE_QUAD,o.EASE_LINEAR,o.EASE_EXPO,o.EASE_EXPO_IN,
o.EASE_EXPO_OUT,o.EASE_ELASTIC,o.EASE_ELASTIC_IN,o.EASE_ELASTIC_OUT,o.EASE_BUMP,o.EASE_BUMP_IN,o.EASE_BUMP_OUT,o.EASE_BOUNCE,o.EASE_BOUNCE_IN,o.EASE_BOUNCE_OUT,o.EASE_CUBIC,o.EASE_CUBIC_IN,o.EASE_CUBIC_OUT,o.EASE_SPACE,o.EASE_SPACE_IN,o.EASE_SPACE_OUT,o.EASE_BLAST,o.EASE_BLAST_IN,o.EASE_BLAST_OUT,o.EASE_WAVE,o.EASE_WAVE_IN,o.EASE_WAVE_OUT,o.EASE_CIRCLE,o.EASE_CIRCLE_IN,o.EASE_CIRCLE_OUT];var t=function(){};m["com.workinman.math.tween.PennerManager"]=t;t.__name__=["com","workinman","math","tween",
"PennerManager"];t.getEaseFunction=function(a){switch(a[1]){case 0:case 1:return t._tweenEaseIn;case 2:case 3:return t._tweenEaseOut;case 4:case 5:return t._tweenEaseBoth;case 7:return t._tweenExpoBoth;case 8:return t._tweenExpoIn;case 9:return t._tweenExpoOut;case 10:return t._tweenElasticBoth;case 11:return t._tweenElasticIn;case 12:return t._tweenElasticOut;case 13:return t._tweenBumpBoth;case 14:return t._tweenBumpIn;case 15:return t._tweenBumpBoth;case 16:return t._tweenBounceBoth;case 17:return t._tweenBounceIn;
case 18:return t._tweenBounceOut;case 19:return t._tweenCubicBoth;case 20:return t._tweenCubicIn;case 21:return t._tweenCubicOut;case 22:return t._tweenSpaceBoth;case 23:return t._tweenSpaceIn;case 24:return t._tweenSpaceOut;case 25:return t._tweenBlastBoth;case 26:return t._tweenBlastIn;case 27:return t._tweenBlastOut;case 28:return t._tweenWaveBoth;case 29:return t._tweenWaveIn;case 30:return t._tweenWaveOut;case 31:return t._tweenCircleBoth;case 32:return t._tweenCircleIn;case 33:return t._tweenCircleOut;
case 6:return t._tweenLinear}};t._tweenLinear=function(a,b,c,d){return a+c/d*b};t._tweenEaseBoth=function(a,b,c,d){return t._easeInOutQuad(c,a,b,d)};t._tweenEaseIn=function(a,b,c,d){return t._easeInQuad(c,a,b,d)};t._tweenEaseOut=function(a,b,c,d){return t._easeOutQuad(c,a,b,d)};t._tweenExpoBoth=function(a,b,c,d){return t._easeInOutExpo(c,a,b,d)};t._tweenExpoIn=function(a,b,c,d){return t._easeInExpo(c,a,b,d)};t._tweenExpoOut=function(a,b,c,d){return t._easeOutExpo(c,a,b,d)};t._tweenElasticBoth=function(a,
b,c,d){return t._easeInOutElastic(c,a,b,d)};t._tweenElasticIn=function(a,b,c,d){return t._easeInElastic(c,a,b,d)};t._tweenElasticOut=function(a,b,c,d){return t._easeOutElastic(c,a,b,d)};t._tweenBumpBoth=function(a,b,c,d){return t._easeInOutBack(c,a,b,d)};t._tweenBumpIn=function(a,b,c,d){return t._easeInBack(c,a,b,d)};t._tweenBounceBoth=function(a,b,c,d){return t._easeInOutBounce(c,a,b,d)};t._tweenBounceIn=function(a,b,c,d){return t._easeInBounce(c,a,b,d)};t._tweenBounceOut=function(a,b,c,d){return t._easeOutBounce(c,
a,b,d)};t._tweenCubicBoth=function(a,b,c,d){return t._easeInOutCubic(c,a,b,d)};t._tweenCubicIn=function(a,b,c,d){return t._easeInCubic(c,a,b,d)};t._tweenCubicOut=function(a,b,c,d){return t._easeOutCubic(c,a,b,d)};t._tweenSpaceBoth=function(a,b,c,d){return t._easeInOutQuart(c,a,b,d)};t._tweenSpaceIn=function(a,b,c,d){return t._easeInQuart(c,a,b,d)};t._tweenSpaceOut=function(a,b,c,d){return t._easeOutQuart(c,a,b,d)};t._tweenBlastBoth=function(a,b,c,d){return t._easeInOutQuint(c,a,b,d)};t._tweenBlastIn=
function(a,b,c,d){return t._easeInQuint(c,a,b,d)};t._tweenBlastOut=function(a,b,c,d){return t._easeOutQuint(c,a,b,d)};t._tweenWaveBoth=function(a,b,c,d){return t._easeInOutSine(c,a,b,d)};t._tweenWaveIn=function(a,b,c,d){return t._easeInSine(c,a,b,d)};t._tweenWaveOut=function(a,b,c,d){return t._easeOutSine(c,a,b,d)};t._tweenCircleBoth=function(a,b,c,d){return t._easeInOutCirc(c,a,b,d)};t._tweenCircleIn=function(a,b,c,d){return t._easeInCirc(c,a,b,d)};t._tweenCircleOut=function(a,b,c,d){return t._easeOutCirc(c,
a,b,d)};t._easeInQuad=function(a,b,c,d){return c*(a/=d)*a+b};t._easeOutQuad=function(a,b,c,d){return-c*(a/=d)*(a-2)+b};t._easeInOutQuad=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};t._easeInExpo=function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b};t._easeOutExpo=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b};t._easeInOutExpo=function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};t._easeInElastic=
function(a,b,c,d){return t._easeInElasticL(a,b,c,d)};t._easeInElasticL=function(a,b,c,d,i,e){null==e&&(e=-0.123456);null==i&&(i=-0.123456);if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==e&&(e=0.3*d);-0.123456==i||i<Math.abs(c)?(i=c,c=e/4):c=e/(2*Math.PI)*Math.asin(c/i);return-(i*Math.pow(2,10*(a-=1))*Math.sin((a*d-c)*2*Math.PI/e))+b};t._easeOutElastic=function(a,b,c,d){return t._easeOutElasticL(a,b,c,d)};t._easeOutElasticL=function(a,b,c,d,i,e){null==e&&(e=-0.123456);null==i&&(i=-0.123456);var f;
if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==e&&(e=0.3*d);-0.123456==i||i<Math.abs(c)?(i=c,f=e/4):f=e/(2*Math.PI)*Math.asin(c/i);return i*Math.pow(2,-10*a)*Math.sin((a*d-f)*2*Math.PI/e)+c+b};t._easeInOutElastic=function(a,b,c,d){return t._easeInOutElasticL(a,b,c,d)};t._easeInOutElasticL=function(a,b,c,d,i,e){null==e&&(e=-0.123456);null==i&&(i=-0.123456);var f;if(0==a)return b;if(2==(a/=d/2))return b+c;-0.123456==e&&(e=0.44999999999999996*d);-0.123456==i||i<Math.abs(c)?(i=c,f=e/4):f=e/(2*Math.PI)*
Math.asin(c/i);return 1>a?-0.5*i*Math.pow(2,10*(a-=1))*Math.sin((a*d-f)*2*Math.PI/e)+b:0.5*i*Math.pow(2,-10*(a-=1))*Math.sin((a*d-f)*2*Math.PI/e)+c+b};t._easeInBack=function(a,b,c,d){return t._easeInBackL(a,b,c,d)};t._easeInBackL=function(a,b,c,d,i){null==i&&(i=-0.123456);-0.123456==i&&(i=1.70158);return c*(a/=d)*a*((i+1)*a-i)+b};t._easeInOutBack=function(a,b,c,d){return t._easeInOutBackL(a,b,c,d)};t._easeInOutBackL=function(a,b,c,d,i){null==i&&(i=-0.123456);-0.123456==i&&(i=1.70158);return 1>(a/=
d/2)?c/2*a*a*(((i*=1.525)+1)*a-i)+b:c/2*((a-=2)*a*(((i*=1.525)+1)*a+i)+2)+b};t._easeOutBounce=function(a,b,c,d){return 0.36363636363636365>(a/=d)?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>a?c*(7.5625*(a-=0.8181818181818182)*a+0.9375)+b:c*(7.5625*(a-=0.9545454545454546)*a+0.984375)+b};t._easeInBounce=function(a,b,c,d){return c-t._easeOutBounce(d-a,0,c,d)+b};t._easeInOutBounce=function(a,b,c,d){return a<d/2?0.5*t._easeInBounce(2*a,0,c,d)+b:0.5*
t._easeOutBounce(2*a-d,0,c,d)+0.5*c+b};t._easeInCubic=function(a,b,c,d){return c*(a/=d)*a*a+b};t._easeOutCubic=function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b};t._easeInOutCubic=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};t._easeInQuart=function(a,b,c,d){return c*(a/=d)*a*a*a+b};t._easeOutQuart=function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b};t._easeInOutQuart=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};t._easeInQuint=function(a,b,c,d){return c*
(a/=d)*a*a*a*a+b};t._easeOutQuint=function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b};t._easeInOutQuint=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};t._easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b};t._easeOutSine=function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b};t._easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};t._easeInCirc=function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b};t._easeOutCirc=function(a,b,c,d){return c*
Math.sqrt(1-(a=a/d-1)*a)+b};t._easeInOutCirc=function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b};var L=m["com.workinman.math.tween.TWEEN_DIR"]={__ename__:["com","workinman","math","tween","TWEEN_DIR"],__constructs__:"TOP,TOP_RIGHT,RIGHT,BOTTOM_RIGHT,BOTTOM,BOTTOM_LEFT,LEFT,TOP_LEFT".split(",")};L.TOP=["TOP",0];L.TOP.toString=f;L.TOP.__enum__=L;L.TOP_RIGHT=["TOP_RIGHT",1];L.TOP_RIGHT.toString=f;L.TOP_RIGHT.__enum__=L;L.RIGHT=["RIGHT",2];L.RIGHT.toString=
f;L.RIGHT.__enum__=L;L.BOTTOM_RIGHT=["BOTTOM_RIGHT",3];L.BOTTOM_RIGHT.toString=f;L.BOTTOM_RIGHT.__enum__=L;L.BOTTOM=["BOTTOM",4];L.BOTTOM.toString=f;L.BOTTOM.__enum__=L;L.BOTTOM_LEFT=["BOTTOM_LEFT",5];L.BOTTOM_LEFT.toString=f;L.BOTTOM_LEFT.__enum__=L;L.LEFT=["LEFT",6];L.LEFT.toString=f;L.LEFT.__enum__=L;L.TOP_LEFT=["TOP_LEFT",7];L.TOP_LEFT.toString=f;L.TOP_LEFT.__enum__=L;L.__empty_constructs__=[L.TOP,L.TOP_RIGHT,L.RIGHT,L.BOTTOM_RIGHT,L.BOTTOM,L.BOTTOM_LEFT,L.LEFT,L.TOP_LEFT];var Fb=function(){};
m["com.workinman.math.tween.WMTweenDef"]=Fb;Fb.__name__=["com","workinman","math","tween","WMTweenDef"];Fb.__interfaces__=[Ga];Fb.request=function(a,b,c,d,i){return fa.get_instance().requestObject("WMTweenDef",Fb).init(a,b,c,d,i)};Fb.__super__=A;Fb.prototype=v(A.prototype,{create:function(){this._origin={};this._fields=[]},init:function(a,b,c,d,i){this._target=a;this._duration=b;this._delay=i;this._dest=c;this._easeFunction=t.getEaseFunction(null==d?o.EASE_LINEAR:d);this._isComplete=!1;this._updateHandler=
this._completionHandler=null;this._progress=0;this._started=!1;return this},dispose:function(){for(ga.removePropertiesFromDynamic(this._origin);0<this._fields.length;)this._fields.pop();this._dest=this._target=null;A.prototype.dispose.call(this)},destroy:function(){this._fields=this._origin=null;A.prototype.destroy.call(this)},_start:function(){this._isComplete=!1;this._started=!0;for(var a=0,b=F.fields(this._dest);a<b.length;){var c=b[a];++a;if(Object.prototype.hasOwnProperty.call(this._target,c))this._fields.push(c),
F.setField(this._origin,c,F.field(this._target,c));else{var d=0;null!=F.getProperty(this._target,c)&&(d=F.getProperty(this._target,c));this._fields.push(c);this._origin[c]=d}}},update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;if(null==this._target)this._isComplete=!0;else{!1==this._started&&this._start();this._progress+=a;this._progress>this._duration&&(this._progress=this._duration);this._ratio=Math.floor(1E3*(this._progress/this._duration))/1E3;if(this._progress>=this._duration){for(var a=
0,b=this._fields;a<b.length;){var c=b[a];++a;F.setProperty(this._target,c,F.field(this._dest,c))}null!=this._completionHandler&&this._completionHandler();this._isComplete=!0}else{a=0;for(b=this._fields;a<b.length;)c=b[a],++a,this._diff=F.field(this._dest,c)-F.field(this._origin,c),F.setProperty(this._target,c,this._easeFunction(F.field(this._origin,c),this._diff,this._progress,this._duration))}null!=this._updateHandler&&this._updateHandler()}},get_isComplete:function(){return this._isComplete},set_isComplete:function(a){this._isComplete=
a;return this.get_isComplete()},get_ratio:function(){return this._ratio},delay:function(a){this._delay=a;return this},ease:function(a){this._easeFunction=t.getEaseFunction(a);return this},onComplete:function(a){this._completionHandler=a;return this},onUpdate:function(a){this._updateHandler=a;return this},__class__:Fb,__properties__:v(A.prototype.__properties__,{get_ratio:"get_ratio",set_isComplete:"set_isComplete",get_isComplete:"get_isComplete"})});var w=function(){};m["com.workinman.math.tween.WMTweenUtils"]=
w;w.__name__=["com","workinman","math","tween","WMTweenUtils"];w.__properties__={get__workPoint:"get__workPoint"};w.easeFadeIn=function(a,b,c,d){null==d&&(d=0.3);null==c&&(c=!0);c&&(a.set_visible(!0),a.set_alpha(0));return b.tween(a,d,{alpha:1},!1,o.EASE_IN)};w.easeFadeOut=function(a,b,c,d){null==d&&(d=0.3);null==c&&(c=!0);c&&(a.set_visible(!0),a.set_alpha(1));return b.tween(a,d,{alpha:0},!1,o.EASE_OUT)};w.easeBounceIn=function(a,b,c,d,i){null==i&&(i=!1);null==d&&(d=0);null==c&&(c=!0);w._storeScaleFlipState(a);
var e=1;i&&(e=Math.abs(a.get_scale()));c&&(a.set_visible(!0),a.set_scaleX(0.1*w._flipX),a.set_scaleY(0.1*w._flipY),a.set_alpha(0));b.tween(a,0.15,{scaleX:1.1*w._flipX*e,scaleY:1.1*w._flipY*e,alpha:1},!0,o.EASE_OUT,d);return b.tween(a,0.15,{scaleX:w._flipX*e,scaleY:w._flipY*e},!1,o.EASE_IN)};w.easeBounceOut=function(a,b,c,d,i){null==i&&(i=!1);null==d&&(d=0);null==c&&(c=!1);w._storeScaleFlipState(a);var e=1,f=1;i&&(e=Math.abs(a.get_scaleX()),f=Math.abs(a.get_scaleY()));c&&(a.set_visible(!0),a.set_scaleX(w._flipX),
a.set_scaleY(w._flipY),a.set_alpha(1));b.tween(a,0.15,{scaleX:1.1*w._flipX*e,scaleY:1.1*w._flipY*f},!0,o.EASE_OUT,d);return b.tween(a,0.15,{scaleX:0.1*w._flipX*e,scaleY:0.1*w._flipY*f,alpha:0},!1,o.EASE_IN)};w.easeSlideInFromDir=function(a,b,c,d){null==d&&(d=0);w.get__workPoint().toPoint(a.get_pos());w._modifyWorkPointByDir(c);return w.easeSlideIn(a,b,w.get__workPoint().get_x(),w.get__workPoint().get_y(),d)};w.easeSlideIn=function(a,b,c,d,i){null==i&&(i=0);w.get__workPoint().toPoint(a.get_pos());
a.get_pos().set_x(c);a.get_pos().set_y(d);a.set_visible(!0);a.set_alpha(1);return b.tween(a.get_pos(),0.5,{x:w.get__workPoint().get_x(),y:w.get__workPoint().get_y()},!0,o.EASE_OUT,i)};w.easeSlideOutToDir=function(a,b,c,d){null==d&&(d=0);w.get__workPoint().toPoint(a.get_pos());w._modifyWorkPointByDir(c);return w.easeSlideOut(a,b,w.get__workPoint().get_x(),w.get__workPoint().get_y(),d)};w.easeSlideOut=function(a,b,c,d,i){null==i&&(i=0);a.set_visible(!0);a.set_alpha(1);return b.tween(a.get_pos(),0.5,
{x:c,y:d},!0,o.EASE_IN,i)};w.easeSlamInFromDir=function(a,b,c,d){null==d&&(d=0);w.get__workPoint().toPoint(a.get_pos());w._modifyWorkPointByDir(c);return w.easeSlamIn(a,b,w.get__workPoint().get_x(),w.get__workPoint().get_y(),d)};w.easeSlamIn=function(a,b,c,d,i){null==i&&(i=0);w.get__workPoint().toPoint(a.get_pos());a.get_pos().set_x(c);a.get_pos().set_y(d);a.set_visible(!0);a.set_alpha(1);var e=w.get__workPoint().get_x(),f=w.get__workPoint().get_y();w.get__workPoint().to(c,d);w.get__workPoint().subtract(e,
f);w.get__workPoint().normalizeTo(0.15*w.get__workPoint().get_length());b.tween(a.get_pos(),0.3,{x:e,y:f},!0,o.EASE_IN,i);b.tween(a.get_pos(),0.15,{x:e+w.get__workPoint().get_x(),y:f+w.get__workPoint().get_y()},!1,o.EASE_OUT);return b.tween(a.get_pos(),0.15,{x:e,y:f},!1,o.EASE_IN)};w._storeScaleFlipState=function(a){w._flipX=0>a.get_scaleX()?-1:1;w._flipY=0>a.get_scaleY()?-1:1};w.get__workPoint=function(){null==w.__workPoint&&(w.__workPoint=N.request());return w.__workPoint};w._modifyWorkPointByDir=
function(a){switch(a[1]){case 3:case 2:case 1:var b=w.get__workPoint();b.set_x(b.get_x()+q.get_CANVAS_WIDTH());break;case 5:case 6:case 7:b=w.get__workPoint(),b.set_x(b.get_x()-q.get_CANVAS_WIDTH())}switch(a[1]){case 7:case 0:case 1:a=w.get__workPoint();a.set_y(a.get_y()-q.get_CANVAS_HEIGHT_REAL());break;case 5:case 4:case 3:a=w.get__workPoint(),a.set_y(a.get_y()+q.get_CANVAS_HEIGHT_REAL())}};var ya=function(){};m["com.workinman.math.tween.WMTweener"]=ya;ya.__name__=["com","workinman","math","tween",
"WMTweener"];ya.__interfaces__=[Ga];ya.__properties__={get__nullTarget:"get__nullTarget"};ya.request=function(){return fa.get_instance().requestObject("WMTweener",ya)};ya.get__nullTarget=function(){null==ya.__nullTarget&&(ya.__nullTarget={});return ya.__nullTarget};ya.__super__=A;ya.prototype=v(A.prototype,{create:function(){this._targets=[]},dispose:function(){for(;0<this._targets.length;)this._targets.pop().dispose();A.prototype.dispose.call(this)},destroy:function(){this._targets=null;A.prototype.destroy.call(this)},
update:function(a){for(this._i=this._targets.length;0<this._i--;)this._targets[this._i].update(a),this._targets[this._i].get_isComplete()&&(this._targets[this._i].dispose(),this._targets.splice(this._i,1))},hasTween:function(a){for(var b=0,c=this._targets;b<c.length;){var d=c[b];++b;if(d.get_target()==a)return!0}return!1},tween:function(a,b,c,d,e,f,g){null==g&&(g="def");null==f&&(f=0);null==d&&(d=!1);b=Fb.request(a,b,c,e,f);c=0;for(e=this._targets;c<e.length;)if(f=e[c],++c,f.get_target()==a)return d&&
f.clearTweens(g),f.addTween(b,g),b;a=Aa.request(a);this._targets.push(a);a.addTween(b,g);return b},timer:function(a,b){null==b&&(b=0);return this.tween(ya.get__nullTarget(),a,ya.get__nullTarget(),!0,null,b,"tim"+ya._uniqueTimer++)},stop:function(a){for(this._i=this._targets.length;0<this._i;)if(this._i--,this._targets[this._i].get_target()==a){this._targets[this._i].dispose();this._targets.splice(this._i,1);break}},stopAllTweens:function(){for(;0<this._targets.length;)this._targets.pop().dispose()},
__class__:ya});var Aa=function(){};m["com.workinman.math.tween.WMTweenTracker"]=Aa;Aa.__name__=["com","workinman","math","tween","WMTweenTracker"];Aa.__interfaces__=[Ga];Aa.request=function(a){return fa.get_instance().requestObject("WMTweenTracker",Aa).init(a)};Aa.__super__=A;Aa.prototype=v(A.prototype,{create:function(){this._tweens=new K},init:function(a){this._target=a;this._isComplete=!1;this._threadCount=0;return this},dispose:function(){this.clearAllTweens();this._target=null;A.prototype.dispose.call(this)},
destroy:function(){this._tweens=null;A.prototype.destroy.call(this)},update:function(a){for(var b=this._tweens.keys();b.hasNext();){var c=b.next();Aa._tweenUpdate.push(c)}for(;0<Aa._tweenUpdate.length;)this._updateThread(a,Aa._tweenUpdate.pop());this._runRemoval();1>this._threadCount&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},_updateThread:function(a,b){1>this._tweens.get(b).length?Aa._tweenRemoval.push(b):(this._tweens.get(b)[0].update(a),this._tweens.get(b)[0].get_isComplete()&&
(this._tweens.get(b)[0].dispose(),this._tweens.get(b).splice(0,1),this._updateThread(a,b)))},_dispatchTweensAllComplete:function(a){j.get_instance().get_dispatcher().dispatchEvent(T.request(n.TWEENS_ALL_COMPLETE,function(){var b=new K;b.set("target",a);return b}(this)))},get_target:function(){return this._target},get_isComplete:function(){return this._isComplete},set_isComplete:function(a){return this._isComplete=a},clearAllTweens:function(){for(var a=this._tweens.keys();a.hasNext();){var b=a.next();
Aa._tweenUpdate.push(b)}for(;0<Aa._tweenUpdate.length;)this.clearTweens(Aa._tweenUpdate.pop())},clearTweens:function(a){if(null!=this._tweens.get(a)){for(;0<this._tweens.get(a).length;)this._tweens.get(a).pop().dispose();Aa._tweenRemoval.push(a);this._runRemoval()}},_runRemoval:function(){for(;0<Aa._tweenRemoval.length;)this._tweens.remove(Aa._tweenRemoval.pop()),this._threadCount--},addTween:function(a,b){if(null==this._tweens.get(b)){this._threadCount++;var c=[];this._tweens.set(b,c);c}this._tweens.get(b).push(a)},
__class__:Aa,__properties__:v(A.prototype.__properties__,{set_isComplete:"set_isComplete",get_isComplete:"get_isComplete",get_target:"get_target"})});var fb=function(){this._dispatcher=Xa.request();this._data={};this.sharedKey=""};m["com.workinman.net.WMSharedObject"]=fb;fb.__name__=["com","workinman","net","WMSharedObject"];fb.getLocalStorage=function(){return window.localStorage};fb.getLocal=function(a){try{var b=new fb;b.sharedKey=a;var c=fb.getLocalStorage().getItem(b.sharedKey);b.set_data(""==
c||null==c?{}:Ma.run(c));return b}catch(d){return a=new fb,a.sharedKey="",a}};fb.prototype={dispose:function(){this._data=null;this._dispatcher.dispose();this._dispatcher=null},get_data:function(){return this._data},set_data:function(a){return this._data=a},flush:function(){var a=bb.run(this.get_data());fb.getLocalStorage().setItem(this.sharedKey,a);return Le.FLUSHED},__class__:fb,__properties__:{set_data:"set_data",get_data:"get_data"}};var Le=function(){};m["com.workinman.net.SharedObjectFlushedStatus"]=
Le;Le.__name__=["com","workinman","net","SharedObjectFlushedStatus"];var Za=function(){};m["com.workinman.services.ServiceAnalytics"]=Za;Za.__name__=["com","workinman","services","ServiceAnalytics"];Za.enableCanadaTracking=function(a){Za._flagCanadaTrackingEnabled=!0;Za._canadaShowGameTitle=a};Za.sendCanadaTrackingCall=function(a){if(Za._flagCanadaTrackingEnabled)try{eval("trackFlashEvent('"+Za._canadaShowGameTitle+"', '"+a+"', 'true');")}catch(b){}};var E=m["com.workinman.services.ANALYTICS_CALLS"]=
{__ename__:["com","workinman","services","ANALYTICS_CALLS"],__constructs__:"onLoadingStart,onLoadingEnd,onTitleScreenStart,onTitleScreenEnd,onResume,onPause,onLevelStart,onLevelComplete,onGameOver,getLoadingProgress,onPlayAgain".split(",")};E.onLoadingStart=["onLoadingStart",0];E.onLoadingStart.toString=f;E.onLoadingStart.__enum__=E;E.onLoadingEnd=["onLoadingEnd",1];E.onLoadingEnd.toString=f;E.onLoadingEnd.__enum__=E;E.onTitleScreenStart=["onTitleScreenStart",2];E.onTitleScreenStart.toString=f;E.onTitleScreenStart.__enum__=
E;E.onTitleScreenEnd=["onTitleScreenEnd",3];E.onTitleScreenEnd.toString=f;E.onTitleScreenEnd.__enum__=E;E.onResume=["onResume",4];E.onResume.toString=f;E.onResume.__enum__=E;E.onPause=["onPause",5];E.onPause.toString=f;E.onPause.__enum__=E;E.onLevelStart=["onLevelStart",6];E.onLevelStart.toString=f;E.onLevelStart.__enum__=E;E.onLevelComplete=["onLevelComplete",7];E.onLevelComplete.toString=f;E.onLevelComplete.__enum__=E;E.onGameOver=["onGameOver",8];E.onGameOver.toString=f;E.onGameOver.__enum__=E;
E.getLoadingProgress=["getLoadingProgress",9];E.getLoadingProgress.toString=f;E.getLoadingProgress.__enum__=E;E.onPlayAgain=["onPlayAgain",10];E.onPlayAgain.toString=f;E.onPlayAgain.__enum__=E;E.__empty_constructs__=[E.onLoadingStart,E.onLoadingEnd,E.onTitleScreenStart,E.onTitleScreenEnd,E.onResume,E.onPause,E.onLevelStart,E.onLevelComplete,E.onGameOver,E.getLoadingProgress,E.onPlayAgain];var ja=function(){this._flagInitted=this._flagEnabled=!1};m["com.workinman.services.ServiceProxy"]=ja;ja.__name__=
["com","workinman","services","ServiceProxy"];ja.__properties__={get_instance:"get_instance"};ja.get_instance=function(){null==ja.__instance&&(ja.__instance=new ja);return ja.__instance};ja.prototype={init:function(a,b){if(!this._flagInitted){this._flagInitted=!0;j.get_instance().get_assets().addFile(a+"data/service_rules.json","service_rules",b,"data");this._sdk=new Gb;this._flagEnabled=!0;this._flagSite=!1;var c=R.eval("window.location.toString()");if(-1!=c.indexOf("workinmanbuilders.com")||-1!=
c.indexOf("localhost")||-1!=c.indexOf("192.168.1"))this._flagSite=!0}},onBootstrapLoad:function(){this._flagInitted&&!this._flagSite&&h.get_instance().antipiracy_enabled&&Ge.vjeiwo231(h.get_instance().antipiracy_url)},sendTrackingCall:function(a,b){if(this._flagInitted&&this._flagEnabled){var c=y.string(a),d={};if(null!=b)for(var e=F.fields(b),f=0;f<e.length;){var g=e[f];++f;F.setField(d,g,F.field(b,g))}d=this._gatherData(a,d);this._convertDynamicToObject(d);switch(a[1]){case 6:case 7:Hb.sendGameEvent(c,
d.level);break;case 8:Hb.sendGameEvent(c,d.outcome);break;case 9:Hb.sendGameEvent(c,d.progress);break;default:Hb.sendGameEvent(c)}}},_gatherData:function(a,b){switch(a[1]){case 6:case 7:b.level="Level "+(j.get_instance().getInt(l.INT_LEVEL)+1)}b.timestamp=(new Date).getTime();return b},_convertDynamicToObject:function(a){var b="{";if(null!=a){for(var c=F.fields(a),d=0;d<c.length;){var e=c[d];++d;var f=F.field(a,e);if(null==f)b+="'"+y.string(e)+"':,";else if("string"==typeof f)f=y.string(f),f=W.replace(f,
"'",""),b+="'"+y.string(e)+"':'"+f+"',";else if((f|0)===f||"number"==typeof f)b+="'"+y.string(e)+"':"+y.string(f)+",";else if("boolean"==typeof f)b+="'"+y.string(e)+"':"+y.string(f)+",";else if(f instanceof Array&&null==f.__enum__){b+="'"+y.string(e)+"':[";e=f;for(f=0;f<e.length;){var g=e[f];++f;b+=this._convertDynamicToObject(g)+","}0<e.length&&(b=b.substring(0,b.length-1));b+="],"}else b+="'"+y.string(e)+"':"+this._convertDynamicToObject(f)+","}0<c.length&&(b=G.substr(b,0,b.length-1))}return b+
"}"},__class__:ja};var R=function(){};m["com.workinman.utils.JSEmbedProxy"]=R;R.__name__=["com","workinman","utils","JSEmbedProxy"];R.__properties__={get_isPortrait:"get_isPortrait",get_isPaused:"get_isPaused",get_canvasHeight:"get_canvasHeight",get_scaleType:"get_scaleType",get_isCrossdomain:"get_isCrossdomain",get_base:"get_base",get_exists:"get_exists"};R.get_exists=function(){return R.callJSEmbedMethod("exists()")};R.get_base=function(){return R.callJSEmbedMethod("baseUrl()")};R.get_isCrossdomain=
function(){return R.callJSEmbedMethod("isBaseCrossdomain()")};R.get_scaleType=function(){return R.callJSEmbedMethod("scaleType()")};R.get_canvasHeight=function(){return y.parseFloat(R.callJSEmbedMethod("canvasHeight()"))};R.get_isPaused=function(){return R.callJSEmbedMethod("isPaused()")};R.get_isPortrait=function(){return R.callJSEmbedMethod("isPortrait()")};R.callJSEmbedMethod=function(a){try{var b=eval("jsembed."+a);if(null!=b)return b}catch(c){}return""};R.eval=function(a){try{return eval(a)}catch(b){}return null};
var Ua=function(){};m["com.workinman.utils.WMPageUtils"]=Ua;Ua.__name__=["com","workinman","utils","WMPageUtils"];Ua.addScript=function(a,b){var c=window.document.createElement("script");c.setAttribute("id",a);c.setAttribute("type","text/javascript");c.setAttribute("src",b);window.document.getElementsByTagName("head")[0].appendChild(c)};Ua.openURL=function(a){z.get_instance().get_web().openBrowser(a)};Ua.isCopyAvailable=function(){var a=document.queryCommandSupported("copy")||document.queryCommandEnabled("copy");
return a?!0:(a=null!=window.clipboardData)?!0:!1};Ua.copyClip=function(a,b){null==b&&(b=!0);var c=null!=window.clipboardData;if(c)__js__("window.clipboardData.setData('text/plain', '"+a+"');");else if(c=document.queryCommandSupported("copy")||document.queryCommandEnabled("copy")){c=window.document.createElement("input");c.setAttribute("type","text");window.document.body.appendChild(c);c.setAttribute("value",a);if(j.get_instance().getBool(l.BOOL_IOS)){var d=window.document.createRange();d.selectNodeContents(c);
var e=window.getSelection();e.removeAllRanges();e.addRange(d);c.setSelectionRange(0,999999)}else c.select();!document.execCommand("copy");c.remove()}else b&&prompt("Copy the text below. (ctrl c, enter)",a)};Ua.getQueryVariable=function(a,b){null==b&&(b=!1);var c=R.eval("window.location.search.substring(1)");if(b){var d=R.eval("window.top.location.search.substring(1)");null!=d&&(c=d)}null==c&&(c="");for(var c=c.split("&"),d=0,e=c.length;d<e;){var f=d++,f=c[f].split("=");if(f[0]==a)return f[1]}return null};
var He=function(){};m["flambe.util.PackageLog"]=He;He.__name__=["flambe","util","PackageLog"];var Xd=function(){};m["flambe.platform.Platform"]=Xd;Xd.__name__=["flambe","platform","Platform"];Xd.prototype={__class__:Xd};var tb=function(){};m["flambe.platform.html.HtmlPlatform"]=tb;tb.__name__=["flambe","platform","html","HtmlPlatform"];tb.__interfaces__=[Xd];tb.prototype={init:function(){var a=this;P.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle=
"none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new nb(b);this._pointer=new gb;this._mouse=new cd(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new Yd;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,e=function(c){if(!(1E3>c.timeStamp-d)){var e=b.getBoundingClientRect(),i=
a.getX(c,e),e=a.getY(c,e);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(i,e,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(i,e);break;case "mouseup":a._mouse.submitUp(i,e,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(i,e,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",e,!1);window.addEventListener("mousemove",e,!1);window.addEventListener("mouseup",e,!1);
b.addEventListener("mousewheel",e,!1);b.addEventListener("DOMMouseScroll",e,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var f="undefined"!=typeof window.ontouchstart,e="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(f||e){var g=new dd(this._pointer,f?4:window.navigator.msMaxTouchPoints);this._touch=g;e=function(b){var c;c=f?b.changedTouches:[b];var e=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();
P.SHOULD_HIDE_MOBILE_BROWSER&&P.hideMobileBrowser();for(b=0;b<c.length;){var i=c[b];++b;var h=a.getX(i,e),j=a.getY(i,e);g.submitDown((f?i.identifier:i.pointerId)|0,h,j)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)i=c[b],++b,h=a.getX(i,e),j=a.getY(i,e),g.submitMove((f?i.identifier:i.pointerId)|0,h,j);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)i=c[b],++b,h=a.getX(i,e),j=a.getY(i,e),g.submitUp((f?
i.identifier:i.pointerId)|0,h,j)}};f?(b.addEventListener("touchstart",e,!1),b.addEventListener("touchmove",e,!1),b.addEventListener("touchend",e,!1),b.addEventListener("touchcancel",e,!1)):(b.addEventListener("MSPointerDown",e,!1),b.addEventListener("MSPointerMove",e,!1),b.addEventListener("MSPointerUp",e,!1))}else this._touch=new ed;var h=window.onerror;window.onerror=function(a,b,c){z.get_instance().uncaughtError.emit(a);return null!=h?h(a,b,c):!1};var j=P.loadExtension("hidden",window.document);
null!=j.value?(e=function(){z.get_instance().set_hidden(F.field(window.document,j.field))},e(null),window.document.addEventListener(j.prefix+"visibilitychange",e,!1)):(e=function(a){z.get_instance().set_hidden("pagehide"==a.type)},window.addEventListener("pageshow",e,!1),window.addEventListener("pagehide",e,!1));z.get_instance().addHiddenListener(s(this,this._onHidden));this._skipFrame=!1;this._lastUpdate=Date.now();var k=P.loadExtension("requestAnimationFrame").value;if(null!=k){var l=window.performance,
m=null!=l&&P.polyfill("now",l);m?this._lastUpdate=l.now():null;var n=null,n=function(c){a.update(m?l.now():c);k(n,b)};k(n,b)}else window.setInterval(function(){a.update(Date.now())},16);fc.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},_onHidden:function(a){a||(this._skipFrame=!0)},loadAssetPack:function(a){return(new ca(this,a)).promise},getStage:function(){return this._stage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;z.get_instance().get_hidden()||
(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new cb;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",
b,!1)}return this._keyboard},getWeb:function(){null==this._web&&(this._web=new fd(this._container));return this._web},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new Tb(a)},__class__:tb};var z=function(){this._volume=1;this._renderCompleteDelegate=[];this.uncaughtError=new qa;this.root=new D};m["flambe.System"]=
z;z.__name__=["flambe","System"];z.__properties__={get_instance:"get_instance"};z.get_instance=function(){null==z.__instance&&(z.__instance=new z);return z.__instance};z.prototype={get_hidden:function(){return this._hidden},set_hidden:function(a){this._hidden=a;for(var a=0,b=this._hiddenDispatcher;a<b.length;){var c=b[a];++a;c(this._hidden)}return this._hidden},addHiddenListener:function(a){for(var b=0,c=this._hiddenDispatcher;b<c.length;){var d=c[b];++b;if(d==a)return}this._hiddenDispatcher.push(a)},
removeHiddenListener:function(a){for(var b=this._hiddenDispatcher.length;0<b--;)if(this._hiddenDispatcher[b]==a){this._hiddenDispatcher.splice(b,1);break}},addRenderCompleteDelegate:function(a){this._renderCompleteDelegate.push(a)},removeRenderCompleteDelegate:function(a){for(var b=this._renderCompleteDelegate.length;0<b--;)this._renderCompleteDelegate[b]==a&&this._renderCompleteDelegate.splice(b,1)},renderComplete:function(){for(var a=0,b=this._renderCompleteDelegate;a<b.length;){var c=b[a];++a;
c()}},get_volume:function(){return this._volume},addVolumeListener:function(a){for(var b=0,c=this._volumeDispatcher;b<c.length;){var d=c[b];++b;if(d==a)return}this._volumeDispatcher.push(a)},removeVolumeListener:function(a){for(var b=this._volumeDispatcher.length;0<b--;)if(this._volumeDispatcher[b]==a){this._volumeDispatcher.splice(b,1);break}},init:function(){this._volumeDispatcher=[];this._hiddenDispatcher=[];z._platform.init()},loadAssetPack:function(a){return z._platform.loadAssetPack(a)},get_stage:function(){return z._platform.getStage()},
get_pointer:function(){return z._platform.getPointer()},get_touch:function(){return z._platform.getTouch()},get_keyboard:function(){return z._platform.getKeyboard()},get_web:function(){return z._platform.getWeb()},get_renderer:function(){return z._platform.getRenderer()},__class__:z,__properties__:{get_renderer:"get_renderer",get_web:"get_web",get_keyboard:"get_keyboard",get_touch:"get_touch",get_pointer:"get_pointer",get_stage:"get_stage",get_volume:"get_volume",set_hidden:"set_hidden",get_hidden:"get_hidden"}};
var fc=function(){};m["flambe.Log"]=fc;fc.__name__=["flambe","Log"];fc.info=function(){null};fc.__super__=He;fc.prototype=v(He.prototype,{__class__:fc});var Ib=function(){};m["flambe.asset.Asset"]=Ib;Ib.__name__=["flambe","asset","Asset"];Ib.__interfaces__=[jb];Ib.prototype={__class__:Ib};var x=m["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};x.WEBP=["WEBP",0];x.WEBP.toString=f;x.WEBP.__enum__=
x;x.JXR=["JXR",1];x.JXR.toString=f;x.JXR.__enum__=x;x.PNG=["PNG",2];x.PNG.toString=f;x.PNG.__enum__=x;x.JPG=["JPG",3];x.JPG.toString=f;x.JPG.__enum__=x;x.GIF=["GIF",4];x.GIF.toString=f;x.GIF.__enum__=x;x.DDS=["DDS",5];x.DDS.toString=f;x.DDS.__enum__=x;x.PVR=["PVR",6];x.PVR.toString=f;x.PVR.__enum__=x;x.PKM=["PKM",7];x.PKM.toString=f;x.PKM.__enum__=x;x.MP3=["MP3",8];x.MP3.toString=f;x.MP3.__enum__=x;x.M4A=["M4A",9];x.M4A.toString=f;x.M4A.__enum__=x;x.OPUS=["OPUS",10];x.OPUS.toString=f;x.OPUS.__enum__=
x;x.OGG=["OGG",11];x.OGG.toString=f;x.OGG.__enum__=x;x.WAV=["WAV",12];x.WAV.toString=f;x.WAV.__enum__=x;x.Data=["Data",13];x.Data.toString=f;x.Data.__enum__=x;x.__empty_constructs__=[x.WEBP,x.JXR,x.PNG,x.JPG,x.GIF,x.DDS,x.PVR,x.PKM,x.MP3,x.M4A,x.OPUS,x.OGG,x.WAV,x.Data];var Zd=function(a,b,c,d){this.name=a;this.url=b;this.format=c;this.bytes=d};m["flambe.asset.AssetEntry"]=Zd;Zd.__name__=["flambe","asset","AssetEntry"];Zd.prototype={__class__:Zd};var gd=function(){};m["flambe.asset.AssetPack"]=gd;
gd.__name__=["flambe","asset","AssetPack"];gd.__interfaces__=[jb];gd.prototype={__class__:gd};var hd=function(){};m["flambe.asset.File"]=hd;hd.__name__=["flambe","asset","File"];hd.__interfaces__=[Ib];hd.prototype={__class__:hd};var Wa=function(){this._localBase=this._remoteBase=null;this._entries=[]};m["flambe.asset.Manifest"]=Wa;Wa.__name__=["flambe","asset","Manifest"];Wa.fromAssets=function(a,b){null==b&&(b=!0);var c=F.field(Ie.getType(Wa).assets[0],a);if(null==c){if(b)throw Ca.withFields("Missing asset pack",
["name",a]);return null}var d=new Wa;d.set_localBase("assets");for(var e=0;e<c.length;){var f=c[e];++e;var g=f.name,h=a+"/"+g+"?v="+y.string(f.md5),j=Wa.inferFormat(g);j!=x.Data&&(g=Ca.removeFileExtension(g));d.add(g,h,f.bytes,j)}return d};Wa.inferFormat=function(a){a=Ca.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return x.GIF;case "jpg":case "jpeg":return x.JPG;case "jxr":case "wdp":return x.JXR;case "png":return x.PNG;case "webp":return x.WEBP;case "dds":return x.DDS;case "pvr":return x.PVR;
case "pkm":return x.PKM;case "m4a":return x.M4A;case "mp3":return x.MP3;case "ogg":return x.OGG;case "opus":return x.OPUS;case "wav":return x.WAV}else null;return x.Data};Wa.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=Wa.inferFormat(b));a=new Zd(a,b,d,c);this._entries.push(a);return a},iterator:function(){return G.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&Wa._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?Ca.joinPath(b,
a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&$d.that(!W.startsWith(a,"http://")&&!W.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&$d.that(W.startsWith(a,"http://")||W.startsWith(a,"https://"),"remoteBase must be on a remote domain, starting with http(s)://",null);return this._remoteBase=
a},__class__:Wa,__properties__:{set_remoteBase:"set_remoteBase",get_remoteBase:"get_remoteBase",set_localBase:"set_localBase",get_localBase:"get_localBase"}};var S=m["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};S.Normal=["Normal",0];S.Normal.toString=f;S.Normal.__enum__=S;S.Add=["Add",1];S.Add.toString=f;S.Add.__enum__=S;S.Multiply=["Multiply",2];S.Multiply.toString=f;S.Multiply.__enum__=S;S.Screen=["Screen",
3];S.Screen.toString=f;S.Screen.__enum__=S;S.Mask=["Mask",4];S.Mask.toString=f;S.Mask.__enum__=S;S.Copy=["Copy",5];S.Copy.toString=f;S.Copy.__enum__=S;S.__empty_constructs__=[S.Normal,S.Add,S.Multiply,S.Screen,S.Mask,S.Copy];var sa=function(a){D.call(this,a);this.color=a.color;this.width=a.width;this.height=a.height};m["flambe.display.FillSprite"]=sa;sa.__name__=["flambe","display","FillSprite"];sa.__super__=D;sa.prototype=v(D.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width,this.height)},
getNaturalWidth:function(){return this.width},getNaturalHeight:function(){return this.height},setSize:function(a,b){this.width=a;this.height=b;return this},__class__:sa});var id=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};m["flambe.display.Glyph"]=id;id.__name__=["flambe","display","Glyph"];id.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,
this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?y["int"](this._kernings.get(a)):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new Qa);this._kernings.set(a,b)},__class__:id};var Db=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload();var c=this._glyphs.get(120);this.descenderHeight=this._glyphs.get(121).height-c.height};m["flambe.display.Font"]=Db;Db.__name__=["flambe","display","Font"];Db.prototype={layoutText:function(a,
b,c,d,e,f){null==b&&(b=va.Center);return Jb.request(this,a,b,c,d,e,f)},reload:function(){this._glyphs=new Qa;this._glyphs.set(Db.NEWLINE.charCode,Db.NEWLINE);for(var a=new Ub(this._file.toString()),b=new Qa,c=this.name.lastIndexOf("/"),c=0<=c?G.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "info":for(var e=a.pairs();e.hasNext();){var f=e.next();switch(f.key){case "size":this.size=f.getInt()}}break;case "common":for(e=a.pairs();e.hasNext();)switch(f=e.next(),f.key){case "lineHeight":this.lineHeight=
f.getInt()}break;case "page":for(var e=0,f=null,g=a.pairs();g.hasNext();){var h=g.next();switch(h.key){case "id":e=h.getInt();break;case "file":f=h.getString()}}f=this._pack.getTexture(c+Ca.removeFileExtension(f));b.set(e,f);break;case "char":e=null;for(f=a.pairs();f.hasNext();)switch(g=f.next(),g.key){case "id":e=new id(g.getInt());break;case "x":e.x=g.getInt();break;case "y":e.y=g.getInt();break;case "width":e.width=g.getInt();break;case "height":e.height=g.getInt();break;case "page":g=g.getInt();
e.page=b.get(g);break;case "xoffset":e.xOffset=g.getInt();break;case "yoffset":e.yOffset=g.getInt();break;case "xadvance":e.xAdvance=g.getInt()}this._glyphs.set(e.charCode,e);break;case "kerning":e=null;g=f=0;for(h=a.pairs();h.hasNext();){var j=h.next();switch(j.key){case "first":e=this._glyphs.get(j.getInt());break;case "second":f=j.getInt();break;case "amount":g=j.getInt()}}null!=e&&0!=g&&e.setKerning(f,g)}},__class__:Db};var Ub=function(a){this._configText=a;this._keywordPattern=new ib("([A-Za-z]+)(.*)",
"");this._pairPattern=new ib('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};m["flambe.display._Font.ConfigParser"]=Ub;Ub.__name__=["flambe","display","_Font","ConfigParser"];Ub.advance=function(a,b){var c=b.matchedPos();return G.substr(a,c.pos+c.len,a.length)};Ub.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=Ub.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},
pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Ub.advance(b,a._pairPattern);return new ae(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:Ub};var ae=function(a,b){this.key=a;this._value=b};m["flambe.display._Font.ConfigPair"]=ae;ae.__name__=["flambe","display","_Font","ConfigPair"];ae.prototype={getInt:function(){return y.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:
G.substr(this._value,1,this._value.length-2)},__class__:ae};var be=function(){};m["flambe.display.Graphics"]=be;be.__name__=["flambe","display","Graphics"];be.prototype={__class__:be};var db=m["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};db.Portrait=["Portrait",0];db.Portrait.toString=f;db.Portrait.__enum__=db;db.Landscape=["Landscape",1];db.Landscape.toString=f;db.Landscape.__enum__=db;db.__empty_constructs__=[db.Portrait,db.Landscape];
var jd=function(){};m["flambe.display.Texture"]=jd;jd.__name__=["flambe","display","Texture"];jd.__interfaces__=[Ib];jd.prototype={__class__:jd};var Je=function(){};m["flambe.display.SubTexture"]=Je;Je.__name__=["flambe","display","SubTexture"];Je.__interfaces__=[jd];var va=m["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};va.Left=["Left",0];va.Left.toString=f;va.Left.__enum__=va;va.Center=["Center",1];va.Center.toString=f;va.Center.__enum__=
va;va.Right=["Right",2];va.Right.toString=f;va.Right.__enum__=va;va.__empty_constructs__=[va.Left,va.Center,va.Right];var Jb=function(){};m["flambe.display.TextLayout"]=Jb;Jb.__name__=["flambe","display","TextLayout"];Jb.__interfaces__=[Ga];Jb.request=function(a,b,c,d,e,f,g){return fa.get_instance().requestObject("TextLayout",Jb).init(a,b,c,d,e,f,g)};Jb.__super__=A;Jb.prototype=v(A.prototype,{init:function(a,b,c,d,e,f,g){this._lines=0;this._font=a;this._glyphs=[];this._offsets=[];this._originY=g;
this._lineOffset=Math.round(a.lineHeight+f);this.bounds=Ka.request();for(var f=[],g=b.length,h=0;h<g;){var j=h++,j=b.charCodeAt(j),j=a._glyphs.get(j);null!=j?this._glyphs.push(j):null}g=-1;b=h=0;a=a._glyphs.get(10);for(j=0;j<this._glyphs.length;){var k=this._glyphs[j];this._offsets[j]=Math.round(h);var l=0<d&&h+k.width>d;l||k==a?(l&&(0<=g?(this._glyphs[g]=a,h=this._offsets[g],j=g):this._glyphs.splice(j,0,a)),g=-1,b=this._lineOffset,this._addLine(h,b,f),h=0):(32==k.charCode&&(g=j),h+=k.xAdvance+e,
b=$a.max(b,k.height+k.yOffset),j+1<this._glyphs.length&&(h+=k.getKerning(this._glyphs[j+1].charCode)));++j}this._addLine(h,b,f);e=0;a=this._getAlignOffset(c,f[0],0);g=1.79769313486231E308;h=-1.79769313486231E308;k=j=0;for(l=this._glyphs.length;k<l;){var m=this._glyphs[k];10==m.charCode&&(e+=this._lineOffset,++j,a=this._getAlignOffset(c,f[j],0));this._offsets[k]+=a;var n=e+m.yOffset;g<n||(g=n);h=$a.max(h,n+m.height);++k}this._lineHeight=b;this.bounds.set_x(this._getAlignOffset(c,this.bounds.get_width(),
d));this.bounds.set_y(g);this.bounds.set_height(h-g);return this},_addLine:function(a,b,c){this.bounds.set_width($a.max(this.bounds.get_width(),a));var d=this.bounds;d.set_height(d.get_height()+b);c[this.get_lines()]=a;++this._lines},dispose:function(){this.bounds.dispose();this.bounds=null;A.prototype.dispose.call(this)},get_lines:function(){return this._lines},get_lineHeight:function(){return this._lineHeight},draw:function(a,b,c){null==c&&(c=0);null==b&&(b=0);for(var d=0-(this.bounds.get_height()-
this._lineHeight)*this._originY,e=0,f=this._glyphs.length;e<f;){var g=this._glyphs[e];10==g.charCode?d+=this._lineOffset:g.draw(a,this._offsets[e]+b,d+c);++e}},_getAlignOffset:function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round(0.5*(c-b))}},__class__:Jb,__properties__:v(A.prototype.__properties__,{get_lineHeight:"get_lineHeight",get_lines:"get_lines"})});var Ha=function(){};m["flambe.display.WMSpriteRect"]=Ha;Ha.__name__=["flambe","display","WMSpriteRect"];Ha.__interfaces__=
[Ga];Ha.request=function(a){return fa.get_instance().requestObject("WMSpriteRect",Ha).init(a,!1,0,0,0,0,0,0,0,0)};Ha.requestSubTexture=function(a,b,c,d,e,f,g,h,j){return fa.get_instance().requestObject("WMSpriteRect",Ha).init(a,!0,b,c,d,e,f,g,h,j)};Ha.__super__=A;Ha.prototype=v(A.prototype,{init:function(a,b,c,d,e,f,g,h,j,k){this._sub=b;this._texture=a;this._offsetX=c;this._offsetY=d;this._originalW=e;this._originalH=f;this._sourceX=g;this._sourceY=h;this._sourceWidth=j;this._sourceHeight=k;return this},
dispose:function(){this._texture=null;A.prototype.dispose.call(this)},get_texture:function(){return this._texture},set_texture:function(a){return this._texture=a},get_sub:function(){return this._sub},get_disposed:function(){return this._disposed},get_offsetX:function(){return this._offsetX},get_offsetY:function(){return this._offsetY},get_originalW:function(){return this._originalW},get_originalH:function(){return this._originalH},get_sourceX:function(){return this._sourceX},get_sourceY:function(){return this._sourceY},
get_sourceWidth:function(){return this._sourceWidth},get_sourceHeight:function(){return this._sourceHeight},__class__:Ha,__properties__:v(A.prototype.__properties__,{get_sourceHeight:"get_sourceHeight",get_sourceWidth:"get_sourceWidth",get_sourceY:"get_sourceY",get_sourceX:"get_sourceX",get_originalH:"get_originalH",get_originalW:"get_originalW",get_offsetY:"get_offsetY",get_offsetX:"get_offsetX",get_disposed:"get_disposed",get_sub:"get_sub",set_texture:"set_texture",get_texture:"get_texture"})});
var qb=function(){};m["flambe.display.animation.AnimationDef"]=qb;qb.__name__=["flambe","display","animation","AnimationDef"];qb.__interfaces__=[Ga];qb.request=function(a,b,c,d){null==c&&(c=-1);null==b&&(b=-1);return fa.get_instance().requestObject("AnimationDef",qb).init(a,b,c,d)};qb.__super__=A;qb.prototype=v(A.prototype,{init:function(a,b,c,d){null==c&&(c=-1);null==b&&(b=-1);this._id=a;this._playReverse=!1;this._frames=d;null!=this._frames?(this._startFrame=1,this._endFrame=this._frames.length):
(this._startFrame=b,this._endFrame=c,b>c&&(this._playReverse=!0,this._startFrame=c,this._endFrame=b));return this},dispose:function(){this._id=this._frames=null;A.prototype.dispose.call(this)},get_start:function(){return this._startFrame},get_end:function(){return this._endFrame},get_reverse:function(){return this._playReverse},get_id:function(){return this._id},get_frames:function(){return this._frames},__class__:qb,__properties__:v(A.prototype.__properties__,{get_frames:"get_frames",get_id:"get_id",
get_reverse:"get_reverse",get_end:"get_end",get_start:"get_start"})});var yb=function(){};m["flambe.display.animation.QueuedAnimation"]=yb;yb.__name__=["flambe","display","animation","QueuedAnimation"];yb.__interfaces__=[Ga];yb.request=function(a,b,c){return fa.get_instance().requestObject("QueuedAnimation",yb).init(a,b,c)};yb.__super__=A;yb.prototype=v(A.prototype,{init:function(a,b,c){this._name=a;this._loops=b;this._force=c;return this},dispose:function(){A.prototype.dispose.call(this);this._name=
null},get_name:function(){return this._name},get_loops:function(){return this._loops},get_force:function(){return this._force},__class__:yb,__properties__:v(A.prototype.__properties__,{get_force:"get_force",get_loops:"get_loops",get_name:"get_name"})});var Pd=function(a,b){this._frames=[];this._lastImg=null;this._gif=new ce(a,b);this._gif.get_handler().hdr=s(this,this._doHdr);this._gif.get_handler().gce=s(this,this._doGCE);this._gif.get_handler().img=s(this,this._doImg);this._gif.get_handler().eof=
s(this,this._doEof);this._gif.start()};m["flambe.display.gif.GifLibrary"]=Pd;Pd.__name__=["flambe","display","gif","GifLibrary"];Pd.prototype={dispose:function(){null!=this._gif&&this._gif.dispose();this._hdr=this._gif=null;null!=this._tempFrame&&this._tempFrame.dispose();this._data=this._imgData=this._ctx2d=this._ctx=this._lastImg=this._tempFrame=null},get_frames:function(){return this._frames},_doHdr:function(a){this._hdr=a;this._width=a.width;this._height=a.height},_doGCE:function(a){this._pushFrame();
this._clear();this._transparency=a.transparencyGiven?a.transparencyIndex:-1;this._delay=a.delayTime;this._disposalMethod=a.disposalMethod},_doImg:function(a){null==this._tempFrame&&(this._tempFrame=Ha.request(z.get_instance().get_renderer().createTexture(Math.floor(this._width),Math.floor(this._height))),this._ctx=V.__cast(this._tempFrame.get_texture(),gc),this._ctx2d=V.__cast(this._ctx.root,ub).getContext2d(),this._imgData=this._ctx2d.getImageData(a.leftPos,a.topPos,a.width,a.height),this._data=
this._imgData.data);var b;b=a.lctFlag?a.lct:this._hdr.gct;var c=this._frames.length;0<c&&(3==this._lastDisposalMethod?-1!=this._disposalRestoreFromIdx?this._tempFrame.get_texture().get_graphics().drawTexture(this._frames[this._disposalRestoreFromIdx].texture,0,0):this._ctx2d.clearRect(this._lastImg.leftPos,this._lastImg.topPos,this._lastImg.width,this._lastImg.height):this._disposalRestoreFromIdx=c-1,2==this._lastDisposalMethod&&this._ctx2d.clearRect(this._lastImg.leftPos,this._lastImg.topPos,this._lastImg.width,
this._lastImg.height));this._imgData=this._ctx2d.getImageData(a.leftPos,a.topPos,a.width,a.height);this._data=this._imgData.data;for(var c=0,d=a.pixels.length;c<d;){var e=c++,f=a.pixels[e];f!=this._transparency&&(this._data[4*e]=b[f][0],this._data[4*e+1]=b[f][1],this._data[4*e+2]=b[f][2],this._data[4*e+3]=255)}this._ctx2d.putImageData(this._imgData,a.leftPos,a.topPos);V.__cast(this._ctx.root,ub).dirtyContents();this._lastImg=a},_doEof:function(){this._pushFrame();this._lastImg=this._data=this._imgData=
this._ctx2d=this._ctx=null;this._tempFrame.dispose();this._hdr=this._tempFrame=null;this._gif.dispose();this._gif=null},_pushFrame:function(){if(null!=this._tempFrame){var a=Ha.request(z.get_instance().get_renderer().createTexture(this._tempFrame.get_texture().get_width(),this._tempFrame.get_texture().get_height()));a.get_texture().get_graphics().drawTexture(this._tempFrame.get_texture(),0,0);this._frames.push({frame:a,delay:this._delay})}},_clear:function(){this._delay=this._transparency=-1;this._lastDisposalMethod=
this._disposalMethod;this._disposalMethod=-1},__class__:Pd,__properties__:{get_frames:"get_frames"}};var ce=function(a,b){this._file=a.getFile(b);this._stream=new de(this._file.toString(),null);this._handler={}};m["flambe.display.gif.GifParser"]=ce;ce.__name__=["flambe","display","gif","GifParser"];ce.prototype={dispose:function(){this._handler=this._stream=this._file=null},get_handler:function(){return this._handler},start:function(){this._parseHeader();this._parseBlock()},_parseHeader:function(){var a=
{};a.sig=this._stream.read(3);a.ver=this._stream.read(3);if("GIF"!=a.sig)throw"[Gif](readByte) Error: Not a GIF file";a.width=this._stream.readUnsigned();a.height=this._stream.readUnsigned();var b=this._byteToBitArr(this._stream.readByte());a.gctFlag=b.shift();a.colorRes=this._bitsToNum(b.splice(0,3));a.sorted=b.shift();a.gctSize=this._bitsToNum(b.splice(0,3));a.bgColor=this._stream.readByte();a.pixelAspectRatio=this._stream.readByte();a.gctFlag&&(a.gct=this._parseCT(1<<a.gctSize+1));this._handler.hdr&&
this._handler.hdr(a)},_parseBlock:function(){var a={};a.sentinel=this._stream.readByte();switch(String.fromCharCode(a.sentinel)){case "!":a.type="ext";a=this._parseExt(a);break;case ",":a.type="img";a=this._parseImg(a);break;case ";":a.type="eof";this._handler.eof&&this._handler.eof(a);break;default:throw"[Gif](_parseBlock) Error: Unknown block:0x"+y.string(a.sentinel.toString(16))+" string:"+String.fromCharCode(a.sentinel);}"eof"!=a.type&&this._parseBlock()},_parseExt:function(a){a.label=this._stream.readByte();
switch(a.label){case 249:return a.extType="gce",this._parseGCExt(a);case 254:return a.extType="com",this._parseComExt(a);case 1:return a.extType="pte",this._parsePTExt(a);case 255:return a.extType="app",this._parseAppExt(a);default:return a.extType="unknown",this._parseUnknownExt(a)}},_parseGCExt:function(a){this._stream.readByte();var b=this._byteToBitArr(this._stream.readByte());a.reserved=b.splice(0,3);a.disposalMethod=this._bitsToNum(b.splice(0,3));a.userInput=b.shift();a.transparencyGiven=b.shift();
a.delayTime=this._stream.readUnsigned();a.transparencyIndex=this._stream.readByte();a.terminator=this._stream.readByte();this._handler.gce&&this._handler.gce(a);return a},_parseComExt:function(a){a.comment=this._readSubBlocks();this._handler.com&&this._handler.com(a);return a},_parsePTExt:function(a){this._stream.readByte();a.ptHeader=this._stream.readBytes(12);a.ptData=this._readSubBlocks();this._handler.pte&&this._handler.pte(a);return a},_parseAppExt:function(a){this._stream.readByte();a.identifier=
this._stream.read(8);a.authCode=this._stream.read(3);switch(a.identifier){case "NETSCAPE":a=this._parseNetscapeExt(a);break;default:a=this._parseUnknownAppExt(a)}return a},_parseNetscapeExt:function(a){this._stream.readByte();a.unknown=this._stream.readByte();a.iterations=this._stream.readUnsigned();a.terminator=this._stream.readByte();this._handler.app&&this._handler.app.NETSCAPE&&this._handler.app.NETSCAPE(a);return a},_parseUnknownAppExt:function(a){a.appData=this._readSubBlocks();this._handler.app&&
this._handler.app[a.identifier]&&this._handler.app[a.identifier](a);return a},_parseUnknownExt:function(a){a.data=this._readSubBlocks();this._handler.unknown&&this._handler.unknown(a);return a},_parseImg:function(a){a.leftPos=this._stream.readUnsigned();a.topPos=this._stream.readUnsigned();a.width=this._stream.readUnsigned();a.height=this._stream.readUnsigned();var b=this._byteToBitArr(this._stream.readByte());a.lctFlag=b.shift();a.interlaced=b.shift();a.sorted=b.shift();a.reserved=b.splice(0,2);
a.lctSize=this._bitsToNum(b.splice(0,3));a.lctFlag&&(a.lct=this._parseCT(1<<a.lctSize+1));a.lzwMinCodeSize=this._stream.readByte();b=this._readSubBlocks();b=new ee(a.lzwMinCodeSize,b);a.pixels=b.decode();a.interlaced&&(a.pixels=this._deinterlace(a.pixels,a.width));this._handler.img&&this._handler.img(a);return a},_deinterlace:function(a,b){for(var c=[],d=Math.floor(a.length/b),e=[0,4,2,1],f=[8,8,4,2],g=0,h=0;4>h;)for(var j=h++,k=e[j];k<d;){var l=a.slice(g*b,(g+1)*b),m=c.slice(k*b,b),c=c.concat(l),
c=c.concat(m);g++;k+=f[j]}return c},_parseCT:function(a){for(var b=[],c=0;c<a;)c++,b.push(this._stream.readBytes(3));return b},_readSubBlocks:function(){var a,b="";do a=this._stream.readByte(),b+=this._stream.read(a);while(0!=a);return b},_byteToBitArr:function(a){for(var b=[],c=7;0<=c;)b.push(0==(a&1<<c)?0:1),c--;return b},_bitsToNum:function(a){for(var b=0,c=0;c<a.length;){var d=a[c];++c;b=2*b+d}return b},__class__:ce,__properties__:{get_handler:"get_handler"}};var de=function(a){this.data=a;this.pos=
0;this.length=this.data.length};m["flambe.display.gif.Stream"]=de;de.__name__=["flambe","display","gif","Stream"];de.prototype={readByte:function(){if(this.pos>this.length)throw"[Gif](readByte) Error: Attempted to read past end of stream";var a=this.pos++;return G.cca(this.data,a)&255},readBytes:function(a){for(var b=[],c=0;c<a;)c++,b.push(this.readByte());return b},read:function(a){for(var b="",c=0;c<a;)c++,b+=String.fromCharCode(this.readByte());return b},readUnsigned:function(){var a=this.readBytes(2);
return(a[1]<<8)+a[0]},__class__:de};var ee=function(a,b){this.data=b;this.minCodeSize=a;this.pos=0;this.output=[];this.clearCode=1<<this.minCodeSize;this.eoiCode=this.clearCode+1;this.codeSize=this.minCodeSize+1;this.dict=[]};m["flambe.display.gif.LzwDecode"]=ee;ee.__name__=["flambe","display","gif","LzwDecode"];ee.prototype={decode:function(){for(var a=0,b;;)if(b=a,a=this._readCode(this.codeSize),a==this.clearCode)this._clear();else{if(a==this.eoiCode)break;if(a<this.dict.length)b!=this.clearCode&&
(null==this.dict[b]&&(this.dict[b]=[]),this.dict.push(this.dict[b].concat([this.dict[a][0]])));else{if(a!=this.dict.length)throw"[Gif](_lzwDecode) Error: Invalid LZW code:"+a+" dict length:"+this.dict.length;null==this.dict[b]&&(this.dict[b]=[]);this.dict.push(this.dict[b].concat([this.dict[b][0]]))}b=0;for(var c=this.dict[a];b<c.length;){var d=c[b];++b;this.output.push(d)}this.dict.length==1<<this.codeSize&&12>this.codeSize&&this.codeSize++}return this.output},_readCode:function(a){for(var b=0,c=
0;c<a;){var d=c++;0!=(G.cca(this.data,this.pos>>3)&1<<(this.pos&7))&&(b|=1<<d);this.pos++}return b},_clear:function(){this.dict=[];this.codeSize=this.minCodeSize+1;for(var a=0,b=this.clearCode;a<b;){var c=a++;this.dict[c]=[c]}this.dict[this.clearCode]=[];this.dict[this.eoiCode]=null},__class__:ee};var e=m["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
e.A=["A",0];e.A.toString=f;e.A.__enum__=e;e.B=["B",1];e.B.toString=f;e.B.__enum__=e;e.C=["C",2];e.C.toString=f;e.C.__enum__=e;e.D=["D",3];e.D.toString=f;e.D.__enum__=e;e.E=["E",4];e.E.toString=f;e.E.__enum__=e;e.F=["F",5];e.F.toString=f;e.F.__enum__=e;e.G=["G",6];e.G.toString=f;e.G.__enum__=e;e.H=["H",7];e.H.toString=f;e.H.__enum__=e;e.I=["I",8];e.I.toString=f;e.I.__enum__=e;e.J=["J",9];e.J.toString=f;e.J.__enum__=e;e.K=["K",10];e.K.toString=f;e.K.__enum__=e;e.L=["L",11];e.L.toString=f;e.L.__enum__=
e;e.M=["M",12];e.M.toString=f;e.M.__enum__=e;e.N=["N",13];e.N.toString=f;e.N.__enum__=e;e.O=["O",14];e.O.toString=f;e.O.__enum__=e;e.P=["P",15];e.P.toString=f;e.P.__enum__=e;e.Q=["Q",16];e.Q.toString=f;e.Q.__enum__=e;e.R=["R",17];e.R.toString=f;e.R.__enum__=e;e.S=["S",18];e.S.toString=f;e.S.__enum__=e;e.T=["T",19];e.T.toString=f;e.T.__enum__=e;e.U=["U",20];e.U.toString=f;e.U.__enum__=e;e.V=["V",21];e.V.toString=f;e.V.__enum__=e;e.W=["W",22];e.W.toString=f;e.W.__enum__=e;e.X=["X",23];e.X.toString=
f;e.X.__enum__=e;e.Y=["Y",24];e.Y.toString=f;e.Y.__enum__=e;e.Z=["Z",25];e.Z.toString=f;e.Z.__enum__=e;e.Number0=["Number0",26];e.Number0.toString=f;e.Number0.__enum__=e;e.Number1=["Number1",27];e.Number1.toString=f;e.Number1.__enum__=e;e.Number2=["Number2",28];e.Number2.toString=f;e.Number2.__enum__=e;e.Number3=["Number3",29];e.Number3.toString=f;e.Number3.__enum__=e;e.Number4=["Number4",30];e.Number4.toString=f;e.Number4.__enum__=e;e.Number5=["Number5",31];e.Number5.toString=f;e.Number5.__enum__=
e;e.Number6=["Number6",32];e.Number6.toString=f;e.Number6.__enum__=e;e.Number7=["Number7",33];e.Number7.toString=f;e.Number7.__enum__=e;e.Number8=["Number8",34];e.Number8.toString=f;e.Number8.__enum__=e;e.Number9=["Number9",35];e.Number9.toString=f;e.Number9.__enum__=e;e.Numpad0=["Numpad0",36];e.Numpad0.toString=f;e.Numpad0.__enum__=e;e.Numpad1=["Numpad1",37];e.Numpad1.toString=f;e.Numpad1.__enum__=e;e.Numpad2=["Numpad2",38];e.Numpad2.toString=f;e.Numpad2.__enum__=e;e.Numpad3=["Numpad3",39];e.Numpad3.toString=
f;e.Numpad3.__enum__=e;e.Numpad4=["Numpad4",40];e.Numpad4.toString=f;e.Numpad4.__enum__=e;e.Numpad5=["Numpad5",41];e.Numpad5.toString=f;e.Numpad5.__enum__=e;e.Numpad6=["Numpad6",42];e.Numpad6.toString=f;e.Numpad6.__enum__=e;e.Numpad7=["Numpad7",43];e.Numpad7.toString=f;e.Numpad7.__enum__=e;e.Numpad8=["Numpad8",44];e.Numpad8.toString=f;e.Numpad8.__enum__=e;e.Numpad9=["Numpad9",45];e.Numpad9.toString=f;e.Numpad9.__enum__=e;e.NumpadAdd=["NumpadAdd",46];e.NumpadAdd.toString=f;e.NumpadAdd.__enum__=e;e.NumpadDecimal=
["NumpadDecimal",47];e.NumpadDecimal.toString=f;e.NumpadDecimal.__enum__=e;e.NumpadDivide=["NumpadDivide",48];e.NumpadDivide.toString=f;e.NumpadDivide.__enum__=e;e.NumpadEnter=["NumpadEnter",49];e.NumpadEnter.toString=f;e.NumpadEnter.__enum__=e;e.NumpadMultiply=["NumpadMultiply",50];e.NumpadMultiply.toString=f;e.NumpadMultiply.__enum__=e;e.NumpadSubtract=["NumpadSubtract",51];e.NumpadSubtract.toString=f;e.NumpadSubtract.__enum__=e;e.F1=["F1",52];e.F1.toString=f;e.F1.__enum__=e;e.F2=["F2",53];e.F2.toString=
f;e.F2.__enum__=e;e.F3=["F3",54];e.F3.toString=f;e.F3.__enum__=e;e.F4=["F4",55];e.F4.toString=f;e.F4.__enum__=e;e.F5=["F5",56];e.F5.toString=f;e.F5.__enum__=e;e.F6=["F6",57];e.F6.toString=f;e.F6.__enum__=e;e.F7=["F7",58];e.F7.toString=f;e.F7.__enum__=e;e.F8=["F8",59];e.F8.toString=f;e.F8.__enum__=e;e.F9=["F9",60];e.F9.toString=f;e.F9.__enum__=e;e.F10=["F10",61];e.F10.toString=f;e.F10.__enum__=e;e.F11=["F11",62];e.F11.toString=f;e.F11.__enum__=e;e.F12=["F12",63];e.F12.toString=f;e.F12.__enum__=e;e.F13=
["F13",64];e.F13.toString=f;e.F13.__enum__=e;e.F14=["F14",65];e.F14.toString=f;e.F14.__enum__=e;e.F15=["F15",66];e.F15.toString=f;e.F15.__enum__=e;e.Left=["Left",67];e.Left.toString=f;e.Left.__enum__=e;e.Up=["Up",68];e.Up.toString=f;e.Up.__enum__=e;e.Right=["Right",69];e.Right.toString=f;e.Right.__enum__=e;e.Down=["Down",70];e.Down.toString=f;e.Down.__enum__=e;e.Alt=["Alt",71];e.Alt.toString=f;e.Alt.__enum__=e;e.Backquote=["Backquote",72];e.Backquote.toString=f;e.Backquote.__enum__=e;e.Backslash=
["Backslash",73];e.Backslash.toString=f;e.Backslash.__enum__=e;e.Backspace=["Backspace",74];e.Backspace.toString=f;e.Backspace.__enum__=e;e.CapsLock=["CapsLock",75];e.CapsLock.toString=f;e.CapsLock.__enum__=e;e.Comma=["Comma",76];e.Comma.toString=f;e.Comma.__enum__=e;e.Command=["Command",77];e.Command.toString=f;e.Command.__enum__=e;e.Control=["Control",78];e.Control.toString=f;e.Control.__enum__=e;e.Delete=["Delete",79];e.Delete.toString=f;e.Delete.__enum__=e;e.End=["End",80];e.End.toString=f;e.End.__enum__=
e;e.Enter=["Enter",81];e.Enter.toString=f;e.Enter.__enum__=e;e.Equals=["Equals",82];e.Equals.toString=f;e.Equals.__enum__=e;e.Escape=["Escape",83];e.Escape.toString=f;e.Escape.__enum__=e;e.Home=["Home",84];e.Home.toString=f;e.Home.__enum__=e;e.Insert=["Insert",85];e.Insert.toString=f;e.Insert.__enum__=e;e.LeftBracket=["LeftBracket",86];e.LeftBracket.toString=f;e.LeftBracket.__enum__=e;e.Minus=["Minus",87];e.Minus.toString=f;e.Minus.__enum__=e;e.PageDown=["PageDown",88];e.PageDown.toString=f;e.PageDown.__enum__=
e;e.PageUp=["PageUp",89];e.PageUp.toString=f;e.PageUp.__enum__=e;e.Period=["Period",90];e.Period.toString=f;e.Period.__enum__=e;e.Quote=["Quote",91];e.Quote.toString=f;e.Quote.__enum__=e;e.RightBracket=["RightBracket",92];e.RightBracket.toString=f;e.RightBracket.__enum__=e;e.Semicolon=["Semicolon",93];e.Semicolon.toString=f;e.Semicolon.__enum__=e;e.Shift=["Shift",94];e.Shift.toString=f;e.Shift.__enum__=e;e.Slash=["Slash",95];e.Slash.toString=f;e.Slash.__enum__=e;e.Space=["Space",96];e.Space.toString=
f;e.Space.__enum__=e;e.Tab=["Tab",97];e.Tab.toString=f;e.Tab.__enum__=e;e.Menu=["Menu",98];e.Menu.toString=f;e.Menu.__enum__=e;e.Search=["Search",99];e.Search.toString=f;e.Search.__enum__=e;e.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e;a.toString=f;return a};e.__empty_constructs__=[e.A,e.B,e.C,e.D,e.E,e.F,e.G,e.H,e.I,e.J,e.K,e.L,e.M,e.N,e.O,e.P,e.Q,e.R,e.S,e.T,e.U,e.V,e.W,e.X,e.Y,e.Z,e.Number0,e.Number1,e.Number2,e.Number3,e.Number4,e.Number5,e.Number6,e.Number7,e.Number8,e.Number9,e.Numpad0,
e.Numpad1,e.Numpad2,e.Numpad3,e.Numpad4,e.Numpad5,e.Numpad6,e.Numpad7,e.Numpad8,e.Numpad9,e.NumpadAdd,e.NumpadDecimal,e.NumpadDivide,e.NumpadEnter,e.NumpadMultiply,e.NumpadSubtract,e.F1,e.F2,e.F3,e.F4,e.F5,e.F6,e.F7,e.F8,e.F9,e.F10,e.F11,e.F12,e.F13,e.F14,e.F15,e.Left,e.Up,e.Right,e.Down,e.Alt,e.Backquote,e.Backslash,e.Backspace,e.CapsLock,e.Comma,e.Command,e.Control,e.Delete,e.End,e.Enter,e.Equals,e.Escape,e.Home,e.Insert,e.LeftBracket,e.Minus,e.PageDown,e.PageUp,e.Period,e.Quote,e.RightBracket,
e.Semicolon,e.Shift,e.Slash,e.Space,e.Tab,e.Menu,e.Search];var fe=function(){this.init(0,null)};m["flambe.input.KeyboardEvent"]=fe;fe.__name__=["flambe","input","KeyboardEvent"];fe.prototype={init:function(a,b){this.id=a;this.key=b},__class__:fe};var wa=m["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};wa.Left=["Left",0];wa.Left.toString=f;wa.Left.__enum__=wa;wa.Middle=["Middle",1];wa.Middle.toString=f;wa.Middle.__enum__=
wa;wa.Right=["Right",2];wa.Right.toString=f;wa.Right.__enum__=wa;wa.Unknown=function(a){a=["Unknown",3,a];a.__enum__=wa;a.toString=f;return a};wa.__empty_constructs__=[wa.Left,wa.Middle,wa.Right];var Na=m["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};Na.Default=["Default",0];Na.Default.toString=f;Na.Default.__enum__=Na;Na.Button=["Button",1];Na.Button.toString=f;Na.Button.__enum__=Na;Na.None=["None",2];Na.None.toString=f;Na.None.__enum__=
Na;Na.__empty_constructs__=[Na.Default,Na.Button,Na.None];var ge=function(){this.init(0,0,0,null)};m["flambe.input.MouseEvent"]=ge;ge.__name__=["flambe","input","MouseEvent"];ge.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:ge};var hc=m["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};hc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=hc;a.toString=f;return a};hc.Touch=function(a){a=["Touch",1,a];
a.__enum__=hc;a.toString=f;return a};hc.__empty_constructs__=[];var he=function(){this.init(0,0,0,null,null)};m["flambe.input.PointerEvent"]=he;he.__name__=["flambe","input","PointerEvent"];he.prototype={init:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=e;this._stopped=!1},__class__:he};var ie=function(a){this.id=a;this._source=hc.Touch(this)};m["flambe.input.TouchPoint"]=ie;ie.__name__=["flambe","input","TouchPoint"];ie.prototype={init:function(a,b){this.viewX=a;
this.viewY=b},__class__:ie};var $a=function(){};m["flambe.math.FMath"]=$a;$a.__name__=["flambe","math","FMath"];$a.toRadians=function(a){return 3.141592653589793*a/180};$a.max=function(a,b){return a>b?a:b};$a.clamp=function(a,b,c){return a<b?b:a>c?c:a};var kd=function(a,b){this._success=a;this._result=N.request();this._line1=Sa.request();this._line2=Sa.request();null!=b&&this._result.toPoint(b)};m["flambe.math.InterceptResult"]=kd;kd.__name__=["flambe","math","InterceptResult"];kd.prototype={set_success:function(a){return this._success=
a},set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);return this._result},__class__:kd,__properties__:{set_result:"set_result",set_success:"set_success"}};var pb=function(){this.identity()};m["flambe.math.Matrix"]=pb;pb.__name__=["flambe","math","Matrix"];pb.multiply=function(a,b,c){null==c&&(c=new pb);var d=a.m00*b.m00+a.m01*b.m10,e=a.m00*b.m01+a.m01*b.m11,f=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=e;c.m02=f;d=a.m10*b.m00+a.m11*b.m10;e=a.m10*b.m01+a.m11*b.m11;f=a.m10*
b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=e;c.m12=f;return c};pb.prototype={set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,e){var f=Math.sin(e),e=Math.cos(e);this.set(e*c,f*c,-f*d,e*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},transform:function(a,b,c){null==c&&(c=N.request());c.set_x(a*this.m00+b*this.m01+this.m02);c.set_y(a*this.m10+b*
this.m11+this.m12);return c},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.set_x((a*this.m11-b*this.m01)/d);c.set_y((b*this.m00-a*this.m10)/d);return!0},clone:function(a){null==a&&(a=new pb);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:pb};var ad=function(a,b){this._screenCenterX=this._worldCenterX=a;this._screenCenterY=this._worldCenterY=b;
this._pos=N.request(a,b);this._renderPerspective=!0;this.set_focalLength(300)};m["flambe.math.WMCamera"]=ad;ad.__name__=["flambe","math","WMCamera"];ad.prototype={dispose:function(){this._pos.dispose();this._pos=null},get_pos:function(){return this._pos},get_screenCenterX:function(){return this._screenCenterX},get_screenCenterY:function(){return this._screenCenterY},get_worldCenterX:function(){return this._worldCenterX},get_worldCenterY:function(){return this._worldCenterY},get_renderPerspective:function(){return this._renderPerspective},
get_focalLength:function(){return this._focalLength},set_focalLength:function(a){this._focalLength=a;this._pos.set_dirty(!0);return this._focalLength},__class__:ad,__properties__:{set_focalLength:"set_focalLength",get_focalLength:"get_focalLength",get_renderPerspective:"get_renderPerspective",get_worldCenterY:"get_worldCenterY",get_worldCenterX:"get_worldCenterX",get_screenCenterY:"get_screenCenterY",get_screenCenterX:"get_screenCenterX",get_pos:"get_pos"}};var Sa=function(){};m["flambe.math.WMLine"]=
Sa;Sa.__name__=["flambe","math","WMLine"];Sa.__interfaces__=[Ga];Sa.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return fa.get_instance().requestObject("WMLine",Sa).init(a,b,c,d)};Sa.__super__=A;Sa.prototype=v(A.prototype,{init:function(a,b,c,d){this._p0=N.request();this._p1=N.request();this._normal=N.request();this._vector=N.request();this._parametricDenom=N.request();this.toFloats(a,b,c,d);this._calcProperties();return this},dispose:function(){this._p0.dispose();
this._p0=null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;this._vector.dispose();this._vector=null;this._parametricDenom.dispose();this._parametricDenom=null;A.prototype.dispose.call(this)},get_p0:function(){return this._p0},get_p1:function(){return this._p1},get_slope:function(){return this._slope},get_yIntercept:function(){return this._yIntercept},get_normal:function(){return this._normal},get_vector:function(){return this._vector},get_center:function(){return N.request(this._p0.get_x()+
this._vector.get_x()/2,this._p0.get_y()+this._vector.get_y()/2)},get_centerX:function(){return this._p0.get_x()+this._vector.get_x()/2},get_centerY:function(){return this._p0.get_y()+this._vector.get_y()/2},get_parametricDenom:function(){return this._parametricDenom},get_length:function(){return this._length},set_length:function(a){if(0==this.get_length())return this._length;this._p1.to(this._p0.get_x()+this._vector.get_x()*(a/this.get_length()),this._p0.get_y()+this._vector.get_y()*(a/this.get_length()));
this._calcProperties();return this._length},recalculate:function(){this._calcProperties()},getNewPoint:function(a,b){null==b&&(b=N.request());b.to(this.get_p0().get_x()+this._vector.get_x()*a,this.get_p0().get_y()+this._vector.get_y()*a);return b},equals:function(a){return a.get_p0().equals(this.get_p0())&&a.get_p1().equals(this.get_p1())},flip:function(){var a=this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},clean:function(){this._p0.clean();this._p1.clean();
this._calcProperties()},copy:function(){return Sa.request().to(this._p0,this._p1)},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());this._p1.toPoint(a.get_p1());this._calcProperties();return this},toFloats:function(a,b,c,d){this._p0.to(a,b);this._p1.to(c,d);this._calcProperties();return this},originTo:function(a,b,c){null==c&&(c=0);this._p0.to(a,b,c);this._calcProperties();return this},originToPoint:function(a){this._p0.toPoint(a);
this._calcProperties()},endTo:function(a,b,c){null==c&&(c=0);this._p1.to(a,b,c);this._calcProperties()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},rotate:function(a){this._vector.rotate(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);
b.dispose();this._calcProperties()},shiftEnd:function(a){this.set_length(this.get_length()+a)},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.get_x()-this._p1.get_x())*(this._p0.get_x()-this._p1.get_x())+(this._p0.get_y()-this._p1.get_y())*(this._p0.get_y()-this._p1.get_y())))/1E3;this._vector.to(this.get_p1().get_x()-this.get_p0().get_x(),this.get_p1().get_y()-this.get_p0().get_y());this._slope=this._vector.get_y()/this._vector.get_x();0==this.get_vector().get_x()&&(this._slope=
1E5);this._yIntercept=this.get_p0().get_y()-this._slope*this.get_p0().get_x();this._parametricDenom.to(this.get_p1().get_x()-this.get_p0().get_x(),this.get_p1().get_y()-this.get_p0().get_y());this._vector.pseudoCross(this._normal);this._normal.normalize()},testLineDot:function(a){return this._vector.dot(a.get_normal())},projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return Sa.request().to(a.get_p0(),a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*
a.get_length()-b*b))))},testLineIntercept:function(a,b){null==b&&(b=new kd(!1));this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var c=N.request((-1*a.get_yIntercept()- -1*this._yIntercept)*this._inverseDeterminate,(a.get_slope()*this._yIntercept-this.get_slope()*a.get_yIntercept())*this._inverseDeterminate,0);b.set_result(c);c.dispose();return b},testLineSegmentIntercept:function(a,b,c){var d=-a.get_vector().get_x()*this._vector.get_y()+this._vector.get_x()*a.get_vector().get_y(),
e=this.get_p0().get_x()-a.get_p0().get_x(),f=this.get_p0().get_y()-a.get_p0().get_y(),b=(-this._vector.get_y()*e+this._vector.get_x()*f)/d,a=(a.get_vector().get_x()*f-a.get_vector().get_y()*e)/d;null==c&&(c=new kd(!1));c.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(c.set_success(!0),a=N.request(this.get_p0().get_x()+a*this._vector.get_x(),this.get_p0().get_y()+a*this._vector.get_y()),c.set_result(a),a.dispose());return c},testPointSegmentIntercept:function(a,b){null==b&&(b=!1);this._xSegmentResult=0==
this._parametricDenom.get_x()?0:(a.get_x()-this.get_p0().get_x())/this._parametricDenom.get_x();this._ySegmentResult=0==this._parametricDenom.get_y()?0:(a.get_y()-this.get_p0().get_y())/this._parametricDenom.get_y();b&&null;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},toString:function(){return"[WMLine] ("+this._p0.get_x()+", "+this._p0.get_y()+", "+this._p0.get_z()+") ~> ("+this._p1.get_x()+", "+this._p1.get_y()+", "+this._p1.get_z()+
") / Len: "+this._length},__class__:Sa,__properties__:v(A.prototype.__properties__,{set_length:"set_length",get_length:"get_length",get_parametricDenom:"get_parametricDenom",get_centerY:"get_centerY",get_centerX:"get_centerX",get_center:"get_center",get_vector:"get_vector",get_normal:"get_normal",get_yIntercept:"get_yIntercept",get_slope:"get_slope",get_p1:"get_p1",get_p0:"get_p0"})});var Ba=m["flambe.math.Side"]={__ename__:["flambe","math","Side"],__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};
Ba.TOP=["TOP",0];Ba.TOP.toString=f;Ba.TOP.__enum__=Ba;Ba.RIGHT=["RIGHT",1];Ba.RIGHT.toString=f;Ba.RIGHT.__enum__=Ba;Ba.BOTTOM=["BOTTOM",2];Ba.BOTTOM.toString=f;Ba.BOTTOM.__enum__=Ba;Ba.LEFT=["LEFT",3];Ba.LEFT.toString=f;Ba.LEFT.__enum__=Ba;Ba.__empty_constructs__=[Ba.TOP,Ba.RIGHT,Ba.BOTTOM,Ba.LEFT];var Ka=function(){};m["flambe.math.WMRectangle"]=Ka;Ka.__name__=["flambe","math","WMRectangle"];Ka.__interfaces__=[Ga];Ka.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&
(a=0);return fa.get_instance().requestObject("WMRectangle",Ka).init(a,b,c,d)};Ka.__super__=A;Ka.prototype=v(A.prototype,{create:function(){this._workLine=null},init:function(a,b,c,d){this._x=a;this._y=b;this._width=c;this._height=d;return this},dispose:function(){null!=this._workLine&&this._workLine.dispose();this._workLine=null;A.prototype.dispose.call(this)},_getWorkLine:function(){null==this._workLine&&(this._workLine=Sa.request());return this._workLine},get_x:function(){return this._x},set_x:function(a){return this._x=
a},get_y:function(){return this._y},set_y:function(a){return this._y=a},get_top:function(){return this._y},set_top:function(a){return this._y=a},get_left:function(){return this._x},set_left:function(a){return this._x=a},get_width:function(){return this._width},set_width:function(a){return this._width=a},get_height:function(){return this._height},set_height:function(a){return this._height=a},get_bottom:function(){return this._y+this._height},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},
get_right:function(){return this._x+this._width},set_right:function(a){this._x=a-this._width;return this.get_right()},get_centerX:function(){return this._x+this._width/2},set_centerX:function(a){this._x=a-this._width/2;return this.get_centerX()},get_centerY:function(){return this._y+this._height/2},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},copy:function(){return Ka.request(this._x,this._y,this._width,this._height)},contains:function(a,b){return a<this.get_left()||
a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},toXY:function(a,b){this.set_x(a);this.set_y(b)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXYWH:function(a,b,c,d){this.toXY(a,b);this.toWH(c,d)},containsPoint:function(a){return this.contains(a.get_x(),a.get_y())},intersects:function(a){return this.get_left()<a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()&&this.get_bottom()>a.get_top()},intersection:function(a){var b=Ka.request();if(this.intersects(a)){b.set_x(this.get_left()>
a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var c;c=this.get_right()<a.get_right()?this.get_right():a.get_right();a=this.get_bottom()<a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(c-b.get_x());b.set_height(a-b.get_y())}return b},_setSideLine:function(a){this._getWorkLine();switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),
this.get_top(),this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_left(),this.get_bottom())}},sideLineIntercept:function(a,b,c){null==this._workLine?(this._setSideLine(b),null):this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,c)},clampPointWithin:function(a){a.get_x()<this.get_left()?a.set_x(this.get_left()):
a.get_x()>this.get_right()&&a.set_x(this.get_right());a.get_y()<this.get_top()?a.set_y(this.get_top()):a.get_y()>this.get_bottom()&&a.set_y(this.get_bottom());return a},equals:function(a){return a.get_x()==this.get_x()&&a.get_y()==this.get_y()&&a.get_width()==this.get_width()&&a.get_height()==this.get_height()},toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+this._width+" height: "+this._height+" }"},__class__:Ka,__properties__:v(A.prototype.__properties__,{set_centerY:"set_centerY",
get_centerY:"get_centerY",set_centerX:"set_centerX",get_centerX:"get_centerX",set_right:"set_right",get_right:"get_right",set_bottom:"set_bottom",get_bottom:"get_bottom",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_left:"set_left",get_left:"get_left",set_top:"set_top",get_top:"get_top",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var ra=function(){this._disposed=!1;this.reloadCount=0};m["flambe.platform.BasicAsset"]=ra;ra.__name__=
["flambe","platform","BasicAsset"];ra.__interfaces__=[Ib];ra.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:ra};var Kb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new ld;this._bytesLoaded=new K;this._pack=new md(b,this);var d=lb.array(b);if(0==d.length)this.handleSuccess();else{for(var e=new K,f=0;f<d.length;){var g=d[f];++f;var h=e.get(g.name);null==h&&(h=[],e.set(g.name,h));h.push(g)}this._assetsRemaining=
lb.count(e);for(d=e.iterator();d.hasNext();)e=[d.next()],this.pickBestEntry(e[0],function(a){return function(d){if(null!=d){var e=b.getFullURL(d);try{c.loadEntry(e,d)}catch(f){c.handleError(d,"Unexpected error: "+y.string(f))}e=c.promise;e.set_total(e._total+d.bytes)}else d=a[0][0],Kb.isAudio(d.format)?c.handleLoad(d,Ya.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(e))}};m["flambe.platform.BasicAssetPackLoader"]=Kb;Kb.__name__=["flambe","platform","BasicAssetPackLoader"];
Kb.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Kb.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var e=c[d];++d;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==e){b(g);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 5:case 6:case 7:c=
this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:case 4:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(Ca.withFields(b,
["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Kb};var md=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new K;this.sounds=new K;this.files=new K};m["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=md;md.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];md.__interfaces__=[gd];md.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);
if(null==c&&b)throw Ca.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw Ca.withFields("Missing sound",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw Ca.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();
this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},get_manifest:function(){return this._manifest},__class__:md,__properties__:{get_manifest:"get_manifest"}};var Vb=function(a){ra.call(this);this._content=a};m["flambe.platform.BasicFile"]=Vb;Vb.__name__=["flambe","platform","BasicFile"];Vb.__interfaces__=[hd];Vb.__super__=ra;Vb.prototype=v(ra.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=
null},__class__:Vb});var je=function(){};m["flambe.subsystem.KeyboardSystem"]=je;je.__name__=["flambe","subsystem","KeyboardSystem"];je.prototype={__class__:je};var cb=function(){this.down=new qa;this.up=new qa;this.backButton=new zb;this._keyStates=new Qa};m["flambe.platform.BasicKeyboard"]=cb;cb.__name__=["flambe","platform","BasicKeyboard"];cb.__interfaces__=[je];cb.prototype={submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||
(this._keyStates.set(a,!0),cb._sharedEvent.init(cb._sharedEvent.id+1,ke.toKey(a)),this.down.emit(cb._sharedEvent));return!0},submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),cb._sharedEvent.init(cb._sharedEvent.id+1,ke.toKey(a)),this.up.emit(cb._sharedEvent))},__class__:cb};var Me=function(){};m["flambe.subsystem.MouseSystem"]=Me;Me.__name__=["flambe","subsystem","MouseSystem"];var Fa=function(a){this._pointer=a;this._source=hc.Mouse(Fa.get__sharedEvent());this.down=new qa;
this.move=new qa;this.up=new qa;this.scroll=new qa;this._y=this._x=0;this._cursor=Na.Default;this._buttonStates=new Qa};m["flambe.platform.BasicMouse"]=Fa;Fa.__name__=["flambe","platform","BasicMouse"];Fa.__interfaces__=[Me];Fa.__properties__={get__sharedEvent:"get__sharedEvent"};Fa.get__sharedEvent=function(){null==Fa.__sharedEvent&&(Fa.__sharedEvent=new ge);return Fa.__sharedEvent};Fa.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,
b,le.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(Fa.get__sharedEvent()))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(Fa.get__sharedEvent())},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,le.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(Fa.get__sharedEvent()))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;
this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;Fa.get__sharedEvent().init(Fa.get__sharedEvent().id+1,a,b,c)},__class__:Fa};var me=function(){};m["flambe.subsystem.PointerSystem"]=me;me.__name__=["flambe","subsystem","PointerSystem"];me.prototype={__class__:me};var gb=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new qa;this.move=new qa;this.up=new qa;this._x=a;this._y=b;this._isDown=c};m["flambe.platform.BasicPointer"]=gb;gb.__name__=["flambe",
"platform","BasicPointer"];gb.__interfaces__=[me];gb.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],e=D.hitTest(z.get_instance().root,a,b);if(null!=e){var f=e;do{var g=f;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);this.down.emit(gb._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var d=[],e=D.hitTest(z.get_instance().root,a,b);if(null!=e){var f=e;do{var g=f;null!=g&&d.push(g);f=f.parent}while(null!=
f)}this.prepare(a,b,e,c);this.move.emit(gb._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],e=D.hitTest(z.get_instance().root,a,b);if(null!=e){var f=e;do{var g=f;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);this.up.emit(gb._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;gb._sharedEvent.init(gb._sharedEvent.id+1,a,b,c,d)},__class__:gb};var Lb=function(a,b,c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=
0;ra.call(this);this.root=a;this._width=b;this._height=c};m["flambe.platform.BasicTexture"]=Lb;Lb.__name__=["flambe","platform","BasicTexture"];Lb.__interfaces__=[Je];Lb.__super__=ra;Lb.prototype=v(ra.prototype,{subTexture:function(a,b,c,d){c=this.root.createTexture(c,d);c._parent=this;c._x=a;c._y=b;c.rootX=this.rootX+a;c.rootY=this.rootY+b;return c},get_graphics:function(){return this.root.getGraphics()},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},
get_height:function(){return this._height},__class__:Lb,__properties__:{get_height:"get_height",get_width:"get_width",get_graphics:"get_graphics"}});var nd=function(){};m["flambe.subsystem.TouchSystem"]=nd;nd.__name__=["flambe","subsystem","TouchSystem"];nd.prototype={__class__:nd};var dd=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new Qa;this._points=[];this.down=new qa;this.move=new qa;this.up=new qa};m["flambe.platform.BasicTouch"]=dd;dd.__name__=["flambe","platform",
"BasicTouch"];dd.__interfaces__=[nd];dd.prototype={get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new ie(a);d.init(b,c);this._pointMap.set(a,d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,
b,c){var d=this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),G.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:dd,__properties__:{get_supported:"get_supported"}};var Mb=function(){};m["flambe.sound.Sound"]=Mb;Mb.__name__=["flambe","sound","Sound"];Mb.__interfaces__=[Ib];Mb.prototype={__class__:Mb};var Ya=function(){ra.call(this);this._playback=new ic(this)};m["flambe.platform.DummySound"]=
Ya;Ya.__name__=["flambe","platform","DummySound"];Ya.__interfaces__=[Mb];Ya.getInstance=function(){null==Ya._instance&&(Ya._instance=new Ya);return Ya._instance};Ya.__super__=ra;Ya.prototype=v(ra.prototype,{play:function(){return this._playback},loop:function(){return this._playback},onDisposed:function(){},__class__:Ya});var Wb=function(){};m["flambe.sound.Playback"]=Wb;Wb.__name__=["flambe","sound","Playback"];Wb.__interfaces__=[jb];Wb.prototype={__class__:Wb};var ic=function(a){this._sound=a;this.set_volume(0);
this._complete=!0};m["flambe.platform.DummyPlayback"]=ic;ic.__name__=["flambe","platform","DummyPlayback"];ic.__interfaces__=[Wb];ic.prototype={set_volume:function(){return 1},get_paused:function(){return!0},get_complete:function(){return this._complete},dispose:function(){},__class__:ic,__properties__:{get_complete:"get_complete",get_paused:"get_paused",set_volume:"set_volume"}};var ed=function(){this.down=new qa;this.move=new qa;this.up=new qa};m["flambe.platform.DummyTouch"]=ed;ed.__name__=["flambe",
"platform","DummyTouch"];ed.__interfaces__=[nd];ed.prototype={get_supported:function(){return!1},__class__:ed,__properties__:{get_supported:"get_supported"}};var jc=function(){this._entries=[]};m["flambe.platform.EventGroup"]=jc;jc.__name__=["flambe","platform","EventGroup"];jc.__interfaces__=[jb];jc.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new ne(a,b,c))},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},
dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:jc};var ne=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};m["flambe.platform._EventGroup.Entry"]=ne;ne.__name__=["flambe","platform","_EventGroup","Entry"];ne.prototype={__class__:ne};var Xb=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};m["flambe.util.SignalConnection"]=Xb;Xb.__name__=["flambe",
"util","SignalConnection"];Xb.__interfaces__=[jb];Xb.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:Xb};var Ta=function(a){this._head=null!=a?new Xb(this,a):null;this._deferredTasks=null};m["flambe.util.SignalBase"]=Ta;Ta.__name__=["flambe","util","SignalBase"];Ta.prototype={connectImpl:function(a,b){var c=this,d=new Xb(this,a);this._head==Ta.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,
b)}):this.listAdd(d,b);return d},disconnect:function(a){var b=this;this._head==Ta.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new oe(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=Ta.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,
b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:Ta};var qa=function(a){Ta.call(this,a)};m["flambe.util.Signal1"]=qa;qa.__name__=["flambe","util","Signal1"];qa.__super__=Ta;qa.prototype=v(Ta.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=
this;this._head==Ta.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:qa});var od=function(){};m["flambe.platform.InternalGraphics"]=od;od.__name__=["flambe","platform","InternalGraphics"];od.__interfaces__=[be];od.prototype={__class__:od};var pe=function(){};m["flambe.subsystem.RendererSystem"]=pe;pe.__name__=["flambe","subsystem","RendererSystem"];
pe.prototype={__class__:pe};var pd=function(){};m["flambe.platform.InternalRenderer"]=pd;pd.__name__=["flambe","platform","InternalRenderer"];pd.__interfaces__=[pe];pd.prototype={__class__:pd};var ke=function(){};m["flambe.platform.KeyCodes"]=ke;ke.__name__=["flambe","platform","KeyCodes"];ke.toKey=function(a){switch(a){case 65:return e.A;case 66:return e.B;case 67:return e.C;case 68:return e.D;case 69:return e.E;case 70:return e.F;case 71:return e.G;case 72:return e.H;case 73:return e.I;case 74:return e.J;
case 75:return e.K;case 76:return e.L;case 77:return e.M;case 78:return e.N;case 79:return e.O;case 80:return e.P;case 81:return e.Q;case 82:return e.R;case 83:return e.S;case 84:return e.T;case 85:return e.U;case 86:return e.V;case 87:return e.W;case 88:return e.X;case 89:return e.Y;case 90:return e.Z;case 48:return e.Number0;case 49:return e.Number1;case 50:return e.Number2;case 51:return e.Number3;case 52:return e.Number4;case 53:return e.Number5;case 54:return e.Number6;case 55:return e.Number7;
case 56:return e.Number8;case 57:return e.Number9;case 96:return e.Numpad0;case 97:return e.Numpad1;case 98:return e.Numpad2;case 99:return e.Numpad3;case 100:return e.Numpad4;case 101:return e.Numpad5;case 102:return e.Numpad6;case 103:return e.Numpad7;case 104:return e.Numpad8;case 105:return e.Numpad9;case 107:return e.NumpadAdd;case 110:return e.NumpadDecimal;case 111:return e.NumpadDivide;case 108:return e.NumpadEnter;case 106:return e.NumpadMultiply;case 109:return e.NumpadSubtract;case 112:return e.F1;
case 113:return e.F2;case 114:return e.F3;case 115:return e.F4;case 116:return e.F5;case 117:return e.F6;case 118:return e.F7;case 119:return e.F8;case 120:return e.F9;case 121:return e.F10;case 122:return e.F11;case 123:return e.F12;case 37:return e.Left;case 38:return e.Up;case 39:return e.Right;case 40:return e.Down;case 18:return e.Alt;case 192:return e.Backquote;case 220:return e.Backslash;case 8:return e.Backspace;case 20:return e.CapsLock;case 188:return e.Comma;case 15:return e.Command;case 17:return e.Control;
case 46:return e.Delete;case 35:return e.End;case 13:return e.Enter;case 187:return e.Equals;case 27:return e.Escape;case 36:return e.Home;case 45:return e.Insert;case 219:return e.LeftBracket;case 189:return e.Minus;case 34:return e.PageDown;case 33:return e.PageUp;case 190:return e.Period;case 222:return e.Quote;case 221:return e.RightBracket;case 186:return e.Semicolon;case 16:return e.Shift;case 191:return e.Slash;case 32:return e.Space;case 9:return e.Tab;case 16777234:return e.Menu;case 16777247:return e.Search}return e.Unknown(a)};
var Yd=function(){this._tickables=[]};m["flambe.platform.MainLoop"]=Yd;Yd.__name__=["flambe","platform","MainLoop"];Yd.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}null!=z.get_instance().updateDelegate&&z.get_instance().updateDelegate(a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),D.render(z.get_instance().root,b),a.didRender(),z.get_instance().renderComplete())},
addTickable:function(a){this._tickables.push(a)},__class__:Yd};var le=function(){};m["flambe.platform.MouseCodes"]=le;le.__name__=["flambe","platform","MouseCodes"];le.toButton=function(a){switch(a){case 0:return wa.Left;case 1:return wa.Middle;case 2:return wa.Right}return wa.Unknown(a)};var qe=function(){};m["flambe.platform.TextureRoot"]=qe;qe.__name__=["flambe","platform","TextureRoot"];qe.prototype={__class__:qe};var qd=function(){};m["flambe.platform.Tickable"]=qd;qd.__name__=["flambe","platform",
"Tickable"];qd.prototype={__class__:qd};var hb=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};m["flambe.platform.html.CanvasGraphics"]=hb;hb.__name__=["flambe","platform","html","CanvasGraphics"];hb.__interfaces__=[od];hb.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},
drawSubTexture:function(a,b,c,d,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,e,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+e|0,f|0,g|0,b|0,c|0,f|0,g|0)},fillRect:function(a,b,c,d,e){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=
(16777215&a).toString(16);6>a.length;)a="0"+y.string(a);this._canvasCtx.fillStyle="#"+y.string(a);this._canvasCtx.fillRect(b|0,c|0,d|0,e|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|
0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:hb};var Tb=function(a){this.graphics=new hb(a,!1);this._hasGPU=!0};m["flambe.platform.html.CanvasRenderer"]=Tb;Tb.__name__=["flambe","platform","html","CanvasRenderer"];Tb.__interfaces__=[pd];Tb.prototype={get_type:function(){return Oa.Canvas},createTextureFromImage:function(a){a=new ub(Tb.CANVAS_TEXTURES?P.createCanvas(a):a);return a.createTexture(a.width,a.height)},createTexture:function(a,
b){return(new ub(P.createEmptyCanvas(a,b))).createTexture(a,b)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Tb,__properties__:{get_type:"get_type"}};var gc=function(a,b,c){Lb.call(this,a,b,c)};m["flambe.platform.html.CanvasTexture"]=gc;gc.__name__=["flambe","platform","html","CanvasTexture"];gc.__super__=Lb;gc.prototype=v(Lb.prototype,{__class__:gc});
var ub=function(a){this._graphics=null;this.updateCount=0;ra.call(this);this.image=a;this.width=a.width;this.height=a.height};m["flambe.platform.html.CanvasTextureRoot"]=ub;ub.__name__=["flambe","platform","html","CanvasTextureRoot"];ub.__interfaces__=[qe];ub.__super__=ra;ub.prototype=v(ra.prototype,{createTexture:function(a,b){return new gc(this,a,b)},dirtyContents:function(){++this.updateCount},getGraphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new rd(this));return this._graphics},
getContext2d:function(){V.__instanceof(this.image,HTMLCanvasElement)||(this.image=P.createCanvas(this.image));return this.image.getContext("2d")},onDisposed:function(){this._graphics=this.image=null},__class__:ub});var rd=function(a){hb.call(this,a.image,!0);this._renderTarget=a};m["flambe.platform.html._CanvasTextureRoot.InternalGraphics"]=rd;rd.__name__=["flambe","platform","html","_CanvasTextureRoot","InternalGraphics"];rd.__super__=hb;rd.prototype=v(hb.prototype,{drawTexture:function(a,b,c){hb.prototype.drawTexture.call(this,
a,b,c);++this._renderTarget.updateCount},drawSubTexture:function(a,b,c,d,e,f,g){hb.prototype.drawSubTexture.call(this,a,b,c,d,e,f,g);++this._renderTarget.updateCount},fillRect:function(a,b,c,d,e){hb.prototype.fillRect.call(this,a,b,c,d,e);++this._renderTarget.updateCount},__class__:rd});var ca=function(a,b){Kb.call(this,a,b);this._uniqueId=0};m["flambe.platform.html.HtmlAssetPackLoader"]=ca;ca.__name__=["flambe","platform","html","HtmlAssetPackLoader"];ca.detectImageFormats=function(a){a([x.PNG,x.JPG,
x.GIF])};ca.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==s(a,a.canPlayType))return[];var b=new ib("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!Y.get_supported()&&b.match(c))return[];for(var b=[{format:x.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:x.MP3,mimeType:"audio/mpeg"},{format:x.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:x.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:x.WAV,mimeType:"audio/wav"}],
c=[],d=0;d<b.length;){var e=b[d];++d;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){}""!=f&&c.push(e.format)}return c};ca.supportsBlob=function(){if(ca._detectBlobSupport){ca._detectBlobSupport=!1;if((new ib("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;ca._URL=P.loadExtension("URL").value}return null!=ca._URL&&null!=ca._URL.createObjectURL};
ca.__super__=Kb;ca.prototype=v(Kb.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:var d;d=window.document.createElement("img");var e=new jc,f=function(){ca.supportsBlob()&&ca._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)};-1!=eval("navigator.userAgent.toLowerCase();").indexOf("msie")?d.onload=f:e.addDisposingListener(d,"load",f);e.addDisposingListener(d,"error",function(){c.handleError(b,
"Failed to load image")});ca.supportsBlob()?this.download(a,b,"blob",function(a){d.src=ca._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(Y.get_supported())this.download(a,b,"arraybuffer",function(a){Y.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new Y(a))},function(){c.handleLoad(b,
Ya.getInstance())})});else{var g;g=window.document.createElement("audio");g.preload="auto";var h=++ca._mediaRefCount;null==ca._mediaElements&&(ca._mediaElements=new Qa);ca._mediaElements.set(h,g);e=new jc;e.addDisposingListener(g,"canplaythrough",function(){ca._mediaElements.remove(h);c.handleLoad(b,new kc(g))});e.addDisposingListener(g,"error",function(){ca._mediaElements.remove(h);var a=g.error.code;3==a||4==a?c.handleLoad(b,Ya.getInstance()):c.handleError(b,"Failed to load audio: "+g.error.code)});
e.addListener(g,"progress",function(){if(0<g.buffered.length&&0<g.duration){var a=g.buffered.end(0)/g.duration;c.handleProgress(b,a*b.bytes|0)}});g.src=a;g.load()}break;case 13:case 4:this.download(a,b,"text",function(a){c.handleLoad(b,new Vb(a))})}},downloadGIFFallback:function(a,b){var c=this;this.download(a,b,"arraybuffer",function(a){a=new Uint8Array(a);a=(new TextDecoder("x-user-defined")).decode(a);c.handleLoad(b,new Vb(a))})},getAssetFormats:function(a){var b=this;null==ca._supportedFormats&&
(ca._supportedFormats=new ld,ca.detectImageFormats(function(a){ca._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(ca.detectAudioFormats()).concat([x.Data]))}));ca._supportedFormats.get(a)},download:function(a,b,c,d){var e=this,f=null,g=null,h=0,j=!1,k=function(){j&&(j=!1,window.clearInterval(h))},l=3,m=function(){--l;return 0<=l?(g(),!0):!1},g=function(){k();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);if(b.format==x.GIF&&"text"==
c)if(null!=s(f,f.overrideMimeType))f.overrideMimeType("text/plain; charset=x-user-defined");else{f=null;e.downloadGIFFallback(a,b);return}f.responseType=c;var g=0;f.onprogress=function(a){j||(j=!0,h=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!m()&&(k(),e.handleError(b,"Download stalled"))},1E3));g=Date.now();e.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=f.status||!m())k(),e.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);
k();d(a)};f.send()};g()},__class__:ca});var cd=function(a,b){Fa.call(this,a);this._canvas=b};m["flambe.platform.html.HtmlMouse"]=cd;cd.__name__=["flambe","platform","html","HtmlMouse"];cd.__super__=Fa;cd.prototype=v(Fa.prototype,{__class__:cd});var kc=function(a){ra.call(this);this.audioElement=a;this.isIE=0<=window.navigator.userAgent.indexOf("MSIE")||0<=window.navigator.userAgent.indexOf("Trident/")};m["flambe.platform.html.HtmlSound"]=kc;kc.__name__=["flambe","platform","html","HtmlSound"];kc.__interfaces__=
[Mb];kc.__super__=ra;kc.prototype=v(ra.prototype,{play:function(a){null==a&&(a=1);return new lc(this,a,!1)},loop:function(a){null==a&&(a=1);return new lc(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:kc});var lc=function(a,b,c){this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.set_volume(b);this._complete=!1;this.playAudio();z.get_instance().get_hidden()&&
this.set_paused(!0)};m["flambe.platform.html._HtmlSound.HtmlPlayback"]=lc;lc.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];lc.__interfaces__=[qd,Wb];lc.prototype={get_volume:function(){return this._volume},set_volume:function(a){this._volume=a;this.updateVolume();return this._volume},get_paused:function(){return this._clonedElement.paused},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_complete:function(){return this._complete},
update:function(){return(this._complete=this._clonedElement.ended)||this._clonedElement.paused?(this._tickableAdded=!1,z.get_instance().removeVolumeListener(s(this,this.updateVolume)),z.get_instance().removeHiddenListener(s(this,this.updateHidden)),!0):!1},dispose:function(){this.set_paused(!0);this._complete=!0},playAudio:function(){this._clonedElement.play();this._tickableAdded||(tb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,z.get_instance().addVolumeListener(s(this,this.updateVolume)),
z.get_instance().addHiddenListener(s(this,this.updateHidden)))},updateVolume:function(){this._clonedElement.volume=z.get_instance().get_volume()*this.get_volume()},updateHidden:function(a){a?(this._wasPaused=this._clonedElement.paused,this.set_paused(!0)):this.set_paused(this._wasPaused)},__class__:lc,__properties__:{get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused",set_volume:"set_volume",get_volume:"get_volume"}};var re=function(){};m["flambe.subsystem.StageSystem"]=re;
re.__name__=["flambe","subsystem","StageSystem"];re.prototype={__class__:re};var nb=function(a){var b=this;this._canvas=a;this.resize=new zb;this.scaleFactor=nb.computeScaleFactor();1!=this.scaleFactor&&(P.setVendorStyle(this._canvas,"transform-origin","top left"),P.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));P.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){P.callLater(s(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",
s(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=null;null!=window.orientation&&(window.addEventListener("orientationchange",s(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=!1;P.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};m["flambe.platform.html.HtmlStage"]=nb;nb.__name__=["flambe","platform","html","HtmlStage"];nb.__interfaces__=[re];nb.computeScaleFactor=function(){if(-1!=
eval("navigator.userAgent.toLowerCase();").indexOf("ipad"))return 1;var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=P.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);return a/b};nb.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,
b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";P.callLater(function(){P.hideMobileBrowser();P.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation=
P.orientation(window.orientation)},updateFullscreen:function(){this.fullscreen=!0==P.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value},__class__:nb,__properties__:{get_height:"get_height",get_width:"get_width"}};var P=function(){};m["flambe.platform.html.HtmlUtil"]=P;P.__name__=["flambe","platform","html","HtmlUtil"];P.__properties__={get_VENDOR_PREFIXES:"get_VENDOR_PREFIXES"};P.get_VENDOR_PREFIXES=function(){null==P.__prefixes&&(P.__prefixes=["webkit","moz","ms",
"o","khtml"]);return P.__prefixes};P.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};P.hideMobileBrowser=function(){window.scrollTo(1,0)};P.loadExtension=function(a,b){null==b&&(b=window);var c=F.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+G.substr(a,1,null),d=0,e=P.get_VENDOR_PREFIXES();d<e.length;){var f=e[d];++d;var g=f+c,h=F.field(b,g);if(null!=h)return{prefix:f,field:g,value:h}}return{prefix:null,field:null,value:null}};P.loadFirstExtension=
function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=P.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};P.polyfill=function(a,b){null==b&&(b=window);var c=P.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};P.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=P.get_VENDOR_PREFIXES();d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};P.addVendorListener=function(a,b,c,d){for(var e=0,f=P.get_VENDOR_PREFIXES();e<f.length;){var g=
f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};P.orientation=function(a){switch(a){case -90:case 90:return db.Landscape;default:return db.Portrait}};P.now=function(){return Date.now()};P.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};P.createCanvas=function(a){var b=P.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};P.detectSlowDriver=
function(a){if(0<=window.navigator.platform.indexOf("Win")&&null!=window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var c=a[b];++b;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};P.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var se=function(){};m["flambe.subsystem.WebSystem"]=se;se.__name__=["flambe",
"subsystem","WebSystem"];se.prototype={__class__:se};var fd=function(a){this._container=a};m["flambe.platform.html.HtmlWeb"]=fd;fd.__name__=["flambe","platform","html","HtmlWeb"];fd.__interfaces__=[se];fd.prototype={openBrowser:function(a){window.open(a,"_blank")},__class__:fd};var Y=function(a){ra.call(this);this.buffer=a};m["flambe.platform.html.WebAudioSound"]=Y;Y.__name__=["flambe","platform","html","WebAudioSound"];Y.__interfaces__=[Mb];Y.__properties__={get_supported:"get_supported"};Y.get_supported=
function(){if(Y._detectSupport){Y._detectSupport=!1;var a=P.loadExtension("AudioContext").value;null!=a&&(Y.ctx=new a,Y.gain=Y.createGain(),Y.gain.connect(Y.ctx.destination),z.get_instance().addVolumeListener(Y._onVolumeChange))}return null!=Y.ctx};Y._onVolumeChange=function(){Y.gain.gain.value=z.get_instance().get_volume()};Y.createGain=function(){return null!=Y.ctx.createGain?Y.ctx.createGain():Y.ctx.createGainNode()};Y.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};Y.__super__=ra;Y.prototype=
v(ra.prototype,{play:function(a){null==a&&(a=1);return new mc(this,a,!1)},loop:function(a){null==a&&(a=1);return new mc(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:Y,__properties__:{get_duration:"get_duration"}});var mc=function(a,b,c){var d=this;this._sound=a;this._head=Y.gain;this._complete=!1;this._sourceNode=Y.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete=
!0};Y.start(this._sourceNode,0);this.playAudio();this.set_volume(b);z.get_instance().get_hidden()&&this.set_paused(!0)};m["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=mc;mc.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];mc.__interfaces__=[qd,Wb];mc.prototype={set_volume:function(a){this._volume=a;this.setVolume(this._volume);return this._volume},get_paused:function(){return 0<=this._pausedAt},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),
this._pausedAt=this.get_position()):this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._complete?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(Y.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(){3==this._sourceNode.playbackState&&(this._complete=!0);return this._complete||0<=this._pausedAt?(this._tickableAdded=!1,z.get_instance().removeHiddenListener(s(this,this._onHidden)),!0):!1},dispose:function(){this.set_paused(!0);
this._complete=!0},setVolume:function(a){null==this._gainNode&&(this._gainNode=Y.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){this._sourceNode.connect(this._head);this._startedAt=Y.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(tb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,z.get_instance().addHiddenListener(s(this,
this._onHidden)))},_onHidden:function(a){a?(this._wasPaused=0<=this._pausedAt,this.set_paused(!0)):this.set_paused(this._wasPaused)},__class__:mc,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused",get_paused:"get_paused",set_volume:"set_volume"}};var ua=m["flambe.pooling.LOG_LEVEL"]={__ename__:["flambe","pooling","LOG_LEVEL"],__constructs__:["NONE","NO_STACK","NEW_STACK","ALL_STACK"]};ua.NONE=["NONE",0];ua.NONE.toString=f;ua.NONE.__enum__=ua;ua.NO_STACK=
["NO_STACK",1];ua.NO_STACK.toString=f;ua.NO_STACK.__enum__=ua;ua.NEW_STACK=["NEW_STACK",2];ua.NEW_STACK.toString=f;ua.NEW_STACK.__enum__=ua;ua.ALL_STACK=["ALL_STACK",3];ua.ALL_STACK.toString=f;ua.ALL_STACK.__enum__=ua;ua.__empty_constructs__=[ua.NONE,ua.NO_STACK,ua.NEW_STACK,ua.ALL_STACK];var Bd=function(a,b,c){this._pool=[];this._class=a;this._log=b;this._created=this._max=0;this._cap=c;this._loose=0};m["flambe.pooling.PoolTracker"]=Bd;Bd.__name__=["flambe","pooling","PoolTracker"];Bd.prototype=
{get_log:function(){return this._log},get_numPooled:function(){return this._pool.length},get_created:function(){return this._created},get_cap:function(){return this._cap},incrementCreated:function(){this._created++},poolObject:function(a){this._pool.push(a);this._max=$a.max(this._max,this._pool.length)},givePool:function(){return this._pool.pop()},__class__:Bd,__properties__:{get_cap:"get_cap",get_created:"get_created",get_numPooled:"get_numPooled",get_log:"get_log"}};var Sd=function(){this._sounds=
[]};m["flambe.sound.Mixer"]=Sd;Sd.__name__=["flambe","sound","Mixer"];Sd.prototype={createSound:function(a,b){null==b&&(b=2147483647);var c=new sd(a,b);this._sounds.push(c);return c},__class__:Sd};var sd=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};m["flambe.sound._Mixer.MixerSound"]=sd;sd.__name__=["flambe","sound","_Mixer","MixerSound"];sd.__interfaces__=[jb,Mb];sd.prototype={play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,
!0)},playOrLoop:function(a,b){var c=this.findOpenChannel();if(0>c)return new ic(this);var d;d=b?this._source.loop(a):this._source.play(a);return this._playbacks[c]=d},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,d=this._playbacks[c];if(null==d||d.get_complete())return c}return-1},dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var c=b[a];++a;c.dispose()}this._playbacks=[]},__class__:sd};var Oa=m["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem",
"RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};Oa.Stage3D=["Stage3D",0];Oa.Stage3D.toString=f;Oa.Stage3D.__enum__=Oa;Oa.WebGL=["WebGL",1];Oa.WebGL.toString=f;Oa.WebGL.__enum__=Oa;Oa.Canvas=["Canvas",2];Oa.Canvas.toString=f;Oa.Canvas.__enum__=Oa;Oa.__empty_constructs__=[Oa.Stage3D,Oa.WebGL,Oa.Canvas];var td=function(){};m["flambe.swf.Symbol"]=td;td.__name__=["flambe","swf","Symbol"];td.prototype={__class__:td};var ud=function(a,b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],
c[1],c[2],c[3]);var d=a.origin;null!=d?(this.originX=d[0]/c[2],this.originY=d[1]/c[3]):this.originY=this.originX=0};m["flambe.swf.BitmapSymbol"]=ud;ud.__name__=["flambe","swf","BitmapSymbol"];ud.__interfaces__=[td];ud.prototype={dispose:function(){this.texture=this._name=null},createSprite:function(a,b){b.sprite=Ha.request(this.texture);return U.createInstance(a,[b])},__class__:ud};var Qd=function(a,b){this._file=a.getFile(b+"/library.json");var c=JSON.parse(this._file.toString());this._symbols=new K;
this.frameRate=c.frameRate;for(var d=[],e=0,f=c.movies;e<f.length;){var g=f[e];++e;g=new vd(this,g);d.push(g);this._symbols.set(g._name,g)}c=c.textureGroups;(1!=c[0].scaleFactor||1<c.length)&&null;c=c[0].atlases;for(e=0;e<c.length;){var h=c[e];++e;f=a.getTexture(b+"/"+Ca.removeFileExtension(h.file));g=0;for(h=h.textures;g<h.length;){var j=h[g];++g;j=new ud(j,f);this._symbols.set(j._name,j)}}for(c=0;c<d.length;){f=d[c];++c;e=0;for(f=f.layers;e<f.length;){g=f[e];++e;g=g.keyframes;h=g.length;for(j=0;j<
h;){var k=j++,l=g[k];if(null!=l.symbolName){var m=this._symbols.get(l.symbolName);l.symbol=m}if(l.tweened&&1==l.duration&&k+1<h&&(k=g[k+1],!k.visible||null==k.symbolName))l.visible=!1}}}};m["flambe.swf.Library"]=Qd;Qd.__name__=["flambe","swf","Library"];Qd.prototype={dispose:function(){null!=this._file&&this._file.dispose();this._file=null;for(var a=this._symbols.iterator();a.hasNext();)a.next().dispose();this._symbols=null},__class__:Qd};var Cd=function(a){this.keyframeIdx=0;this.layer=a;this._lastSprite=
null;var b={origin:0};this.content=new D(b);if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var c=new vb,d=null,e=0,f=this._sprites.length;e<f;){var g=e++,h=a.keyframes[g];null==h.symbol?(null==d&&(d=new D(b)),this._sprites[g]=d):null!=c.h.__keys__[h.symbol.__id__]?this._sprites[g]=this._sprites[c.h[h.symbol.__id__]]:(this._sprites[g]=h.symbol.createSprite(ab,b),c.set(h.symbol,g),g)}this.content.addChild(this._sprites[0])}};m["flambe.swf._MovieSprite.LayerAnimator"]=
Cd;Cd.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];Cd.prototype={dispose:function(){this.layer=this._sprites=this.content=null},composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content.set_visible(!1),this.keyframeIdx=c;else{for(this.keyframeIdx=0;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx;var d=this._sprites[this.keyframeIdx];d!=this._lastSprite&&(this.content.removeChild(this._lastSprite),
this._lastSprite=d,this.content.addChild(d));var d=b[this.keyframeIdx],e=d.visible&&null!=d.symbol;this.content.set_visible(e);if(e){var e=d.x,f=d.y,g=d.scaleX,h=d.scaleY,j=d.skewX,k=d.skewY,l=d.alpha;if(d.tweened&&this.keyframeIdx<c){a=(a-d.index)/d.duration;c=d.ease;if(0!=c){var m;0>c?(m=1-a,m=1-m*m,c=-c):m=a*a;a=c*m+(1-c)*a}b=b[this.keyframeIdx+1];e+=(b.x-e)*a;f+=(b.y-f)*a;g+=(b.scaleX-g)*a;h+=(b.scaleY-h)*a;j+=(b.skewX-j)*a;k+=(b.skewY-k)*a;l+=(b.alpha-l)*a}b=this.content.getLocalMatrix();a=Math.sin(j);
j=Math.cos(j);c=Math.sin(k);k=Math.cos(k);b.set(k*g,c*g,-a*h,j*h,e,f);b.translate(-d.pivotX,-d.pivotY);this.content.set_alpha(l)}}}},__class__:Cd};var vd=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var e=c++,f=new te(b.layers[e]);this.frames=Math.max(f.frames,this.frames);this.layers[e]=f}this.duration=this.frames/this.frameRate};m["flambe.swf.MovieSymbol"]=vd;vd.__name__=["flambe","swf","MovieSymbol"];
vd.__interfaces__=[td];vd.prototype={dispose:function(){this._name=null;for(var a=0,b=this.layers;a<b.length;){var c=b[a];++a;c.dispose()}this.layers=null},createSprite:function(a,b){b.symbol=this;return U.createInstance(a,[b])},__class__:vd};var te=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,d=this.keyframes.length;c<d;){var e=c++,b=new ue(a.keyframes[e],b);this.keyframes[e]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=
b?b.index+b.duration:0};m["flambe.swf.MovieLayer"]=te;te.__name__=["flambe","swf","MovieLayer"];te.prototype={dispose:function(){this.name=null;for(var a=0,b=this.keyframes;a<b.length;){var c=b[a];++a;c.dispose()}this.keyframes=null},__class__:te};var ue=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=
a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=a.ease&&(this.ease=a.ease)};m["flambe.swf.MovieKeyframe"]=ue;ue.__name__=["flambe","swf","MovieKeyframe"];ue.prototype={dispose:function(){this.label=
this.symbol=this.symbolName=null},__class__:ue};var $d=function(){};m["flambe.util.Assert"]=$d;$d.__name__=["flambe","util","Assert"];$d.that=function(){};var $b=function(){};m["flambe.util.BitSets"]=$b;$b.__name__=["flambe","util","BitSets"];$b.set=function(a,b,c){return c?a|b:a&~b};var ld=function(){this.success=new qa;this.error=new qa;this.progressChanged=new zb;this.hasResult=!1;this._total=this._progress=0};m["flambe.util.Promise"]=ld;ld.__name__=["flambe","util","Promise"];ld.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";
this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:ld,__properties__:{set_total:"set_total",set_progress:"set_progress",set_result:"set_result"}};var Ja=function(){};m["flambe.util.PropertyList"]=
Ja;Ja.__name__=["flambe","util","PropertyList"];Ja.parse=function(a){var a=new Cb(C.parse(a).firstElement()),b={};a.hasNode.resolve("dict")?b=Ja._parseDict(a.node.resolve("dict")):a.hasNode.resolve("array")&&(b=Ja._parseValue(a.node.resolve("array")));return b};Ja._parseDate=function(a){if(!Ja._dateRegex.match(a))throw'Invalid date "'+a+'" (only yyyy-mm-dd and yyyy-mm-ddThh:mm:ssZ supported)';a=Ja._dateRegex.matched(1);null!=Ja._dateRegex.matched(2)&&(a+=" "+Ja._dateRegex.matched(2));return G.strDate(a)};
Ja._parseDict=function(a){for(var b=null,c={},a=a.get_elements();a.hasNext();){var d=a.next();"key"==d.get_name()?b=d.get_innerData():null!=b&&F.setField(c,b,Ja._parseValue(d))}return c};Ja._parseValue=function(a){var b=null;switch(a.get_name()){case "array":b=[];for(a=a.get_elements();a.hasNext();){var c=a.next();b.push(Ja._parseValue(c))}break;case "dict":b=Ja._parseDict(a);break;case "date":b=Ja._parseDate(a.get_innerData());break;case "string":b=a.get_innerData();break;case "data":b=a.get_innerData();
break;case "true":b=!0;break;case "false":b=!1;break;case "real":b=y.parseFloat(a.get_innerData());break;case "integer":b=y.parseInt(a.get_innerData())}return b};var zb=function(a){Ta.call(this,a)};m["flambe.util.Signal0"]=zb;zb.__name__=["flambe","util","Signal0"];zb.__super__=Ta;zb.prototype=v(Ta.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==Ta.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=
this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:zb});var oe=function(a){this.next=null;this.fn=a};m["flambe.util._SignalBase.Task"]=oe;oe.__name__=["flambe","util","_SignalBase","Task"];oe.prototype={__class__:oe};var Ca=function(){};m["flambe.util.Strings"]=Ca;Ca.__name__=["flambe","util","Strings"];Ca.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?G.substr(a,b+1,null):null};Ca.removeFileExtension=function(a){var b=a.lastIndexOf(".");
return 0<b?G.substr(a,0,b):a};Ca.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=G.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=G.substr(a,b+1,null));return Ca.getFileExtension(a)};Ca.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};Ca.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(y.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+y.string(f);d+=2}a+="]"}return a};
var ga=function(){};m["flambe.util.WMUtils"]=ga;ga.__name__=["flambe","util","WMUtils"];ga.emptyMap=function(a){for(var b=a.keys();b.hasNext();){var c=b.next();ga._mapEmpty.push(c)}for(;0<ga._mapEmpty.length;)b=ga._mapEmpty.pop(),a.remove(b)};ga.removePropertiesFromDynamic=function(a){for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;F.deleteField(a,d)}};ga.parsePropertyList=function(a){return Ja.parse(a)};ga.removeExtension=function(a){var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};
ga.addStringToArrayWithoutDuplicates=function(a,b){for(var c=0;c<b.length;){var d=b[c];++c;if(d==a)return}b.push(a)};ga.removeDuplicatesFromStringArray=function(a){for(var b=[],c=0;c<a.length;){var d=a[c];++c;ga.addStringToArrayWithoutDuplicates(d,b)}return b};var bb=function(){this.buf=new Ob;this.cache=[];this.useCache=bb.USE_CACHE;this.useEnumIndex=bb.USE_ENUM_INDEX;this.shash=new K;this.scount=0};m["haxe.Serializer"]=bb;bb.__name__=["haxe","Serializer"];bb.run=function(a){var b=new bb;b.serialize(a);
return b.toString()};bb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=
c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(F.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=U["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;
case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var e=d++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+
"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case Zb:this.buf.b+="l";for(a=a.iterator();a.hasNext();)this.serialize(a.next());this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(G.dateStr(a));break;case K:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+="h";break;case Qa:this.buf.b+="q";for(b=
a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.get(c));this.buf.b+="h";break;case vb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=F.field(c,"__id__"),F.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Yb:d=0;e=a.length-2;b=new Ob;for(c=bb.BASE64;d<e;){var f=a.get(d++),g=a.get(d++),h=a.get(d++);b.add(c.charAt(f>>2));b.add(c.charAt((f<<4|g>>4)&63));b.add(c.charAt((g<<
2|h>>6)&63));b.add(c.charAt(h&63))}d==e?(e=a.get(d++),a=a.get(d++),b.add(c.charAt(e>>2)),b.add(c.charAt((e<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==e+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(U.getClassName(b)),
this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(U.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(U.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",
this.buf.b+=y.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=y.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+y.string(a);}},__class__:bb};var ob=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};m["haxe.Timer"]=ob;ob.__name__=["haxe","Timer"];ob.delay=function(a,b){var c=new ob(b);c.run=function(){c.stop();a()};return c};ob.prototype=
{stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:ob};var Ma=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Ma.DEFAULT_RESOLVER;null==a&&(a=U,Ma.DEFAULT_RESOLVER=a);this.setResolver(a)};m["haxe.Unserializer"]=Ma;Ma.__name__=["haxe","Unserializer"];Ma.initCodes=function(){for(var a=[],b=0,c=Ma.BASE64.length;b<c;){var d=b++;a[Ma.BASE64.charCodeAt(d)]=d}return a};Ma.run=function(a){return(new Ma(a)).unserialize()};
Ma.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;
var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return U.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return U.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return y.parseFloat(G.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=G.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=
this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();
b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=U.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var c=this.readDigits(),d=U.getEnumConstructs(b)[c];if(null==d)throw"Unknown enum index "+
a+"@"+c;a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new Zb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new K;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new Qa;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";
return a;case 77:a=new vb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=G.substr(this.buf,this.pos,19),a=G.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var e=Ma.CODES;null==e&&(e=Ma.initCodes(),Ma.CODES=e);for(var f=this.pos,g=a&3,h=f+(a-g),b=Yb.alloc(3*(a>>2)+(2<=g?g-1:0)),c=0;f<
h;){var j=e[W.fastCodeAt(d,f++)],k=e[W.fastCodeAt(d,f++)];b.set(c++,j<<2|k>>4);j=e[W.fastCodeAt(d,f++)];b.set(c++,k<<4|j>>2);k=e[W.fastCodeAt(d,f++)];b.set(c++,j<<6|k)}2<=g&&(k=e[W.fastCodeAt(d,f++)],h=e[W.fastCodeAt(d,f++)],b.set(c++,k<<2|h>>4),3==g&&(d=e[W.fastCodeAt(d,f++)],b.set(c++,h<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=U.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);
if(103!=this.get(this.pos++))throw"Invalid custom data";return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:Ma};var Yb=function(a,b){this.length=a;this.b=b};m["haxe.io.Bytes"]=Yb;Yb.__name__=["haxe","io","Bytes"];Yb.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new Yb(a,b)};Yb.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:Yb};var pa=function(){};m["haxe.ds.ArraySort"]=pa;pa.__name__=["haxe",
"ds","ArraySort"];pa.sort=function(a,b){pa.rec(a,b,0,a.length)};pa.rec=function(a,b,c,d){var e=c+d>>1;if(12>d-c){if(!(d<=c))for(e=c+1;e<d;)for(var f=e++;f>c;){if(0>b(a[f],a[f-1]))pa.swap(a,f-1,f);else break;f--}}else pa.rec(a,b,c,e),pa.rec(a,b,e,d),pa.doMerge(a,b,c,e,d,e-c,d-e)};pa.doMerge=function(a,b,c,d,e,f,g){var h,j,k,l;0==f||0==g||(2==f+g?0>b(a[d],a[c])&&pa.swap(a,d,c):(f>g?(k=f>>1,h=c+k,j=pa.lower(a,b,d,e,h),l=j-d):(l=g>>1,j=d+l,h=pa.upper(a,b,c,d,j),k=h-c),pa.rotate(a,b,h,d,j),d=h+l,pa.doMerge(a,
b,c,h,d,k,l),pa.doMerge(a,b,d,j,e,f-k,g-l)))};pa.rotate=function(a,b,c,d,e){if(!(c==d||d==e))for(b=pa.gcd(e-c,d-c);0!=b--;){for(var f=a[c+b],g=d-c,h=c+b,j=c+b+g;j!=c+b;)a[h]=a[j],h=j,j=e-j>g?j+g:c+(g-(e-j));a[h]=f}};pa.gcd=function(a,b){for(;0!=b;)var c=a%b,a=b,b=c;return a};pa.upper=function(a,b,c,d,e){for(var d=d-c,f,g;0<d;)f=d>>1,g=c+f,0>b(a[e],a[g])?d=f:(c=g+1,d=d-f-1);return c};pa.lower=function(a,b,c,d,e){for(var d=d-c,f,g;0<d;)f=d>>1,g=c+f,0>b(a[g],a[e])?(c=g+1,d=d-f-1):d=f;return c};pa.swap=
function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};var wd=function(){};m["haxe.ds.BalancedTree"]=wd;wd.__name__=["haxe","ds","BalancedTree"];wd.prototype={set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null},remove:function(a){try{return this.root=this.removeLoop(a,this.root),!0}catch(b){if(V.__instanceof(b,String))return!1;throw b;}},exists:function(a){for(var b=this.root;null!=
b;){var c=this.compare(a,b.key);if(0==c)return!0;b=0>c?b.left:b.right}return!1},iterator:function(){var a=[];this.iteratorLoop(this.root,a);return G.iter(a)},keys:function(){var a=[];this.keysLoop(this.root,a);return G.iter(a)},setLoop:function(a,b,c){if(null==c)return new Pa(null,a,b,null);var d=this.compare(a,c.key);if(0==d)return new Pa(c.left,a,b,c.right,null==c?0:c._height);if(0>d)return this.balance(this.setLoop(a,b,c.left),c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,
c.key,c.value,a)},removeLoop:function(a,b){if(null==b)throw"Not_found";var c=this.compare(a,b.key);return 0==c?this.merge(b.left,b.right):0>c?this.balance(this.removeLoop(a,b.left),b.key,b.value,b.right):this.balance(b.left,b.key,b.value,this.removeLoop(a,b.right))},iteratorLoop:function(a,b){null!=a&&(this.iteratorLoop(a.left,b),b.push(a.value),this.iteratorLoop(a.right,b))},keysLoop:function(a,b){null!=a&&(this.keysLoop(a.left,b),b.push(a.key),this.keysLoop(a.right,b))},merge:function(a,b){if(null==
a)return b;if(null==b)return a;var c=this.minBinding(b);return this.balance(a,c.key,c.value,this.removeMinBinding(b))},minBinding:function(a){if(null==a)throw"Not_found";return null==a.left?a:this.minBinding(a.left)},removeMinBinding:function(a){return null==a.left?a.right:this.balance(this.removeMinBinding(a.left),a.key,a.value,a.right)},balance:function(a,b,c,d){var e;e=null==a?0:a._height;var f;f=null==d?0:d._height;return e>f+2?function(){var b=a.left;return null==b?0:b._height}(this)>=function(){var b=
a.right;return null==b?0:b._height}(this)?new Pa(a.left,a.key,a.value,new Pa(a.right,b,c,d)):new Pa(new Pa(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new Pa(a.right.right,b,c,d)):f>e+2?function(){var a=d.right;return null==a?0:a._height}(this)>function(){var a=d.left;return null==a?0:a._height}(this)?new Pa(new Pa(a,b,c,d.left),d.key,d.value,d.right):new Pa(new Pa(a,b,c,d.left.left),d.left.key,d.left.value,new Pa(d.left.right,d.key,d.value,d.right)):new Pa(a,b,c,d,(e>f?e:f)+1)},
compare:function(a,b){return F.compare(a,b)},__class__:wd};var Pa=function(a,b,c,d,e){null==e&&(e=-1);this.left=a;this.key=b;this.value=c;this.right=d;this._height=-1==e?(function(a){a=a.left;return null==a?0:a._height}(this)>function(a){a=a.right;return null==a?0:a._height}(this)?function(a){a=a.left;return null==a?0:a._height}(this):function(a){a=a.right;return null==a?0:a._height}(this))+1:e};m["haxe.ds.TreeNode"]=Pa;Pa.__name__=["haxe","ds","TreeNode"];Pa.prototype={__class__:Pa};var Ia=function(){};
m["haxe.ds.EnumValueMap"]=Ia;Ia.__name__=["haxe","ds","EnumValueMap"];Ia.__interfaces__=[Nb];Ia.__super__=wd;Ia.prototype=v(wd.prototype,{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),d=b.slice(2);return 0==c.length&&0==d.length?0:this.compareArgs(c,d)},compareArgs:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(var c=0,d=a.length;c<d;){var e=c++,e=this.compareArg(a[e],b[e]);if(0!=e)return e}return 0},compareArg:function(a,b){return F.isEnumValue(a)&&F.isEnumValue(b)?
this.compare(a,b):a instanceof Array&&null==a.__enum__&&b instanceof Array&&null==b.__enum__?this.compareArgs(a,b):F.compare(a,b)},__class__:Ia});var Qa=function(){this.h={}};m["haxe.ds.IntMap"]=Qa;Qa.__name__=["haxe","ds","IntMap"];Qa.__interfaces__=[Nb];Qa.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return G.iter(a)},__class__:Qa};var vb=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=vb;vb.__name__=["haxe","ds","ObjectMap"];vb.__interfaces__=[Nb];vb.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++vb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&
a.push(this.h.__keys__[b]);return G.iter(a)},__class__:vb};var K=function(){this.h={}};m["haxe.ds.StringMap"]=K;K.__name__=["haxe","ds","StringMap"];K.__interfaces__=[Nb];K.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return G.iter(a)},
iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:K};var Ke=function(){};m["haxe.io.Eof"]=Ke;Ke.__name__=["haxe","io","Eof"];Ke.prototype={toString:function(){return"Eof"},__class__:Ke};var Ie=function(){};m["haxe.rtti.Meta"]=Ie;Ie.__name__=["haxe","rtti","Meta"];Ie.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};var ve=function(a){this.__x=a};m["haxe.xml._Fast.NodeAccess"]=
ve;ve.__name__=["haxe","xml","_Fast","NodeAccess"];ve.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==C.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new Cb(b)},__class__:ve};var we=function(a){this.__x=a};m["haxe.xml._Fast.AttribAccess"]=we;we.__name__=["haxe","xml","_Fast","AttribAccess"];we.prototype={resolve:function(a){if(this.__x.nodeType==C.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);
if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:we};var xe=function(a){this.__x=a};m["haxe.xml._Fast.HasAttribAccess"]=xe;xe.__name__=["haxe","xml","_Fast","HasAttribAccess"];xe.prototype={__class__:xe};var ye=function(a){this.__x=a};m["haxe.xml._Fast.HasNodeAccess"]=ye;ye.__name__=["haxe","xml","_Fast","HasNodeAccess"];ye.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:ye};var ze=function(a){this.__x=a};m["haxe.xml._Fast.NodeListAccess"]=
ze;ze.__name__=["haxe","xml","_Fast","NodeListAccess"];ze.prototype={resolve:function(a){for(var b=new Zb,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Cb(c))}return b},__class__:ze};var Cb=function(a){if(a.nodeType!=C.Document&&a.nodeType!=C.Element)throw"Invalid nodeType "+y.string(a.nodeType);this.x=a;this.node=new ve(a);this.nodes=new ze(a);this.att=new we(a);this.has=new xe(a);this.hasNode=new ye(a)};m["haxe.xml.Fast"]=Cb;Cb.__name__=["haxe","xml","Fast"];Cb.prototype={get_name:function(){return this.x.nodeType==
C.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==C.PCData&&c.nodeType==C.CData&&""==W.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==C.PCData&&""==W.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=C.PCData&&b.nodeType!=C.CData)throw this.get_name()+
" does not have data";return b.get_nodeValue()},get_elements:function(){var a=this.x.elements();return{hasNext:s(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new Cb(b)}}},__class__:Cb,__properties__:{get_elements:"get_elements",get_innerData:"get_innerData",get_name:"get_name"}};var mb=function(){};m["haxe.xml.Parser"]=mb;mb.__name__=["haxe","xml","Parser"];mb.parse=function(a){var b=C.createDocument();mb.doParse(a,0,b);return b};mb.doParse=function(a,b,c){null==b&&(b=0);for(var d=
null,e=1,f=1,g=null,h=0,j=0,k=0,l=a.charCodeAt(b),m=new Ob;l==l;){switch(e){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(l){case 60:e=0;f=2;break;default:h=b;e=13;continue}break;case 13:60==l?(f=C.createPCData(m.b+G.substr(a,h,b-h)),m=new Ob,c.addChild(f),j++,e=0,f=2):38==l&&(m.addSub(a,h,b-h),e=18,f=13,h=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=C.createCData(G.substr(a,h,b-h)),c.addChild(e),j++,b+=2,e=1);break;case 2:switch(l){case 33:if(91==
a.charCodeAt(b+1)){b+=2;if("CDATA["!=G.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=G.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;e=15}h=b+1;break;case 63:e=14;h=b;break;case 47:if(null==c)throw"Expected node name";h=b+1;e=0;f=10;break;default:e=3;h=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=
l&&57>=l||58==l||46==l||95==l||45==l)){if(b==h)throw"Expected node name";d=C.createElement(G.substr(a,h,b-h));c.addChild(d);e=0;f=4;continue}break;case 4:switch(l){case 47:e=11;j++;break;case 62:e=9;j++;break;default:e=5;h=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected attribute name";g=G.substr(a,h,b-h);if(d.exists(g))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(l){case 61:e=0;f=7;break;default:throw"Expected =";
}break;case 7:switch(l){case 34:case 39:e=8;h=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(h)&&(f=G.substr(a,h+1,b-h-1),d.set(g,f),e=0,f=4);break;case 9:h=b=mb.doParse(a,b,d);e=1;break;case 11:switch(l){case 62:e=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==j&&c.addChild(C.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected node name";if(G.substr(a,
h,b-h)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";e=0;f=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(C.createComment(G.substr(a,h,b-h))),b+=2,e=1);break;case 16:91==l?k++:93==l?k--:62==l&&0==k&&(c.addChild(C.createDocType(G.substr(a,h,b-h))),e=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,e=G.substr(a,h+1,b-h-2),c.addChild(C.createProcessingInstruction(e)),e=1);break;case 18:59==l&&(h=G.substr(a,h,b-h),35==h.charCodeAt(0)?(h=120==
h.charCodeAt(1)?y.parseInt("0"+G.substr(h,1,h.length-1)):y.parseInt(G.substr(h,1,h.length-1)),m.add(String.fromCharCode(h))):mb.escapes.exists(h)?m.add(mb.escapes.get(h)):m.b+=y.string("&"+h+";"),h=b+1,e=f)}l=W.fastCodeAt(a,++b)}1==e&&(h=b,e=13);if(13==e)return(b!=h||0==j)&&c.addChild(C.createPCData(m.b+G.substr(a,h,b-h))),b;throw"Unexpected end";};var V=function(){};m["js.Boot"]=V;V.__name__=["js","Boot"];V.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};V.__string_rec=
function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+V.__string_rec(a[f],b)):c+V.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+V.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return"???"}if(null!=
d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+V.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};V.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;
if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||V.__interfLoop(f,b))return!0}return V.__interfLoop(a.__super__,b)};V.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Re:return(a|0)===a;case Oe:return"number"==typeof a;case Pe:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Se:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||V.__interfLoop(V.getClass(a),b)))return!0}else return!1;
return b==Te&&null!=a.__name__||b==Ue&&null!=a.__ename__?!0:a.__enum__==b}};V.__cast=function(a,b){if(V.__instanceof(a,b))return a;throw"Cannot cast "+y.string(a)+" to "+y.string(b);};var Ge=function(){};m["nicksdk.wfaei09ne"]=Ge;Ge.__name__=["nicksdk","wfaei09ne"];Ge.vjeiwo231=function(a){null==a&&(a="");Gb.eval("nick_sdk_client.wfaei09ne.vjeiwo231",[a])};var Gb=function(){Gb.eval("nick_sdk_client.SDK.initialize")};m["nicksdk.SDK"]=Gb;Gb.__name__=["nicksdk","SDK"];Gb.eval=function(a,b){null==
b&&(b=[]);for(var c=null,d=null,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=null==c?F.field(window,g):F.field(c,g)}e=null;null!=d?e=d.apply(c,b):null;return e};Gb.prototype={__class__:Gb};var Hb=function(){};m["nicksdk.event.GameEventEmitter"]=Hb;Hb.__name__=["nicksdk","event","GameEventEmitter"];Hb.sendGameEvent=function(a,b){Hb.callExternal(a,b)};Hb.callExternal=function(a,b){Gb.eval("nick_sdk_client.GameEventEmitter.sendGameEvent",[a,b])};var Qe=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=
Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;m.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=m.String=String;String.__name__=["String"];m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var Re=m.Int={__name__:["Int"]},Se=m.Dynamic={__name__:["Dynamic"]},Oe=m.Float=Number;Oe.__name__=["Float"];var Pe=m.Bool=Boolean;Pe.__ename__=["Bool"];var Te=m.Class=
{__name__:["Class"]},Ue={};C.Element="element";C.PCData="pcdata";C.CData="cdata";C.Comment="comment";C.DocType="doctype";C.ProcessingInstruction="processingInstruction";C.Document="document";Pb.LOCALIZATION_NAME_BASE="achievement_name_";Pb.LOCALIZATION_DESC_BASE="achievement_desc_";Q.SHARED_OBJECT_ID="wmb_ho";Be.LOCALIZATION_MOBILE_SUFFIX="_mobile";N.DIRTY=1;N.NEXT_FLAG=2;D._scratchPoint=N.request();D.VISIBLE=1;D.POINTER_ENABLED=2;D.LOCAL_MATRIX_DIRTY=4;D.VIEW_MATRIX_DIRTY=8;D.USE_CAMERA=16;D.DO_DELETE=
32;D.PERSPECTIVE_SCALE=64;D.PARENT_OFFSET=128;D.NEXT_FLAG=256;ab.PAUSED=256;ab.SKIP_NEXT=512;ab.NEXT_FLAG=1024;H._scratchPoint=N.request();wb.clickedHud=!1;xb._MAX_COMBO=4;xb._COMBO_MULT=2;xb._TIME_MOUSE_DOWN=2;xb._TIME_AUTO_HINT_VISIBLE=5;J.DESCENDERS=["g","j","q","p","y"];sb.NEXT_FLAG=1024;q.scaleFactor=1;q.ACHIEVEMENTS_ID="X";q.DISABLE_CACHE=!1;q._canvasOrigin=0;q._canvasWidth=0;q._canvasHeight=0;Ea._DELTA_ALLOWANCE=30;Ea._DELTA_TIMEOUT=0.2;Va.ACTION_STOP=0;Va.ACTION_OPENED=1;Va.ACTION_CLOSED=
4;Va.ACTION_FLOW=5;ya._uniqueTimer=0;Aa._tweenRemoval=[];Aa._tweenUpdate=[];Za._canadaShowGameTitle="";tb.instance=new tb;z._platform=tb.instance;Wa.__meta__={obj:{assets:[{fonts_en_simple:[{bytes:26663,md5:"304297a0bda65ef23eb5c1e5b67e0c20",name:"font_futura_medium.fnt"},{bytes:121002,md5:"2ea09aafbc7140549dbedf6aad71352e",name:"font_futura_medium.png"},{bytes:26664,md5:"1ad997e3a6a3c9619717a308902bbc24",name:"font_helvetica_bold.fnt"},{bytes:135202,md5:"b1324315c4cfc74f894fbf289066a05b",name:"font_helvetica_bold.png"},
{bytes:10867,md5:"e952a7c5157f522d9bec297fe5ab6226",name:"translation.xml"}],preload:[{bytes:6794,md5:"45aadbe166a8079f8cbe1728382932e1",name:"debug/debug_button.png"}],bootstrap:[{bytes:729,md5:"36a8e976e6c5a87f81f726b03288c2b6",name:"audio/silent.mp3"},{bytes:5514,md5:"ae7363bbe4b631824f218d7866f30307",name:"audio/silent.ogg"},{bytes:1305,md5:"95f2910b2e98c2c023f464288cb6ed43",name:"config/config.xml"},{bytes:568,md5:"64fef5175ec35f440801ac742ba23293",name:"config/config_loading.xml"}],fonts_ru:[{bytes:34537,
md5:"77ae785d3af75a0689d8cb3513b1634c",name:"font_futura_medium.fnt"},{bytes:144759,md5:"570a67da0485e90ef0edc8042aded8fe",name:"font_futura_medium.png"},{bytes:34539,md5:"044bd8ec9d663863eae90061e6cab130",name:"font_helvetica_bold.fnt"},{bytes:178644,md5:"52ae951d3ed76d21ff454bf884137698",name:"font_helvetica_bold.png"},{bytes:10867,md5:"e952a7c5157f522d9bec297fe5ab6226",name:"translation.xml"}],fonts_la:[{bytes:26663,md5:"304297a0bda65ef23eb5c1e5b67e0c20",name:"font_futura_medium.fnt"},{bytes:121002,
md5:"2ea09aafbc7140549dbedf6aad71352e",name:"font_futura_medium.png"},{bytes:26664,md5:"1ad997e3a6a3c9619717a308902bbc24",name:"font_helvetica_bold.fnt"},{bytes:135202,md5:"b1324315c4cfc74f894fbf289066a05b",name:"font_helvetica_bold.png"},{bytes:10867,md5:"e952a7c5157f522d9bec297fe5ab6226",name:"translation.xml"}],fonts_kr:[{bytes:26663,md5:"304297a0bda65ef23eb5c1e5b67e0c20",name:"font_futura_medium.fnt"},{bytes:121002,md5:"2ea09aafbc7140549dbedf6aad71352e",name:"font_futura_medium.png"},{bytes:26664,
md5:"1ad997e3a6a3c9619717a308902bbc24",name:"font_helvetica_bold.fnt"},{bytes:135202,md5:"b1324315c4cfc74f894fbf289066a05b",name:"font_helvetica_bold.png"},{bytes:10867,md5:"e952a7c5157f522d9bec297fe5ab6226",name:"translation.xml"}],fonts_jp:[{bytes:26663,md5:"304297a0bda65ef23eb5c1e5b67e0c20",name:"font_futura_medium.fnt"},{bytes:121002,md5:"2ea09aafbc7140549dbedf6aad71352e",name:"font_futura_medium.png"},{bytes:26664,md5:"1ad997e3a6a3c9619717a308902bbc24",name:"font_helvetica_bold.fnt"},{bytes:135202,
md5:"b1324315c4cfc74f894fbf289066a05b",name:"font_helvetica_bold.png"},{bytes:10867,md5:"e952a7c5157f522d9bec297fe5ab6226",name:"translation.xml"}],fonts_en:[{bytes:26663,md5:"304297a0bda65ef23eb5c1e5b67e0c20",name:"font_futura_medium.fnt"},{bytes:121002,md5:"2ea09aafbc7140549dbedf6aad71352e",name:"font_futura_medium.png"},{bytes:26664,md5:"1ad997e3a6a3c9619717a308902bbc24",name:"font_helvetica_bold.fnt"},{bytes:135202,md5:"b1324315c4cfc74f894fbf289066a05b",name:"font_helvetica_bold.png"},{bytes:10867,
md5:"e952a7c5157f522d9bec297fe5ab6226",name:"translation.xml"}],fonts_cn:[{bytes:26663,md5:"304297a0bda65ef23eb5c1e5b67e0c20",name:"font_futura_medium.fnt"},{bytes:121002,md5:"2ea09aafbc7140549dbedf6aad71352e",name:"font_futura_medium.png"},{bytes:26664,md5:"1ad997e3a6a3c9619717a308902bbc24",name:"font_helvetica_bold.fnt"},{bytes:135202,md5:"b1324315c4cfc74f894fbf289066a05b",name:"font_helvetica_bold.png"},{bytes:10867,md5:"e952a7c5157f522d9bec297fe5ab6226",name:"translation.xml"}],temp:[],builder_assets:[{bytes:16073,
md5:"4e4b44b45e3106612a00961609f70aa1",name:"audio/lv3_obj3_idVOHud.mp3"},{bytes:51078,md5:"246ad67198e2b9ecc9d3c6a9d7c8d161",name:"audio/lv3_obj3_idVOHud.ogg"},{bytes:13652,md5:"325bfd7412503bbc84f930445a183e09",name:"audio/lv3_obj3_idVOWrong2.mp3"},{bytes:43370,md5:"9f5c8479f96fb9106e1e6edd08f9514e",name:"audio/lv3_obj3_idVOWrong2.ogg"},{bytes:7696,md5:"e2876864bdf904261d84c786543bb7e4",name:"audio/lv3_obj3_idVOWrong3.mp3"},{bytes:25884,md5:"fb34705587f15b96cc0949b2c17195f4",name:"audio/lv3_obj3_idVOWrong3.ogg"},
{bytes:13473,md5:"f2a42dfcb22263a716183cb7733898bc",name:"audio/lv3_obj4_idVOWrong2.mp3"},{bytes:42632,md5:"2a1f98010e6856f5dc37163c1722e114",name:"audio/lv3_obj4_idVOWrong2.ogg"},{bytes:16329,md5:"7e0868bb2b24f4abcb1a5b6634693936",name:"audio/lv3_obj5_idVOWrong2.mp3"},{bytes:52133,md5:"a895a7d9530349418f225b6952af0af9",name:"audio/lv3_obj5_idVOWrong2.ogg"},{bytes:22129,md5:"60b2cf7e0812126cadb251b4f10e5b9e",name:"audio/lv3_storylv3_story1_idVO.mp3"},{bytes:67637,md5:"fb437dc63afe2312a542668611c42c47",
name:"audio/lv3_storylv3_story1_idVO.ogg"},{bytes:15371,md5:"9fde4a0c8ba67903f0cec44b9e8f3fd9",name:"audio/lv4_obj3_idVOHud.mp3"},{bytes:49800,md5:"22493616af94d67736d04f9773450be1",name:"audio/lv4_obj3_idVOHud.ogg"},{bytes:14043,md5:"effae4705017797eba5efec63e71295e",name:"audio/lv4_obj3_idVOWrong2.mp3"},{bytes:43324,md5:"f21f4ef15e09dea7a2c9385c50c99391",name:"audio/lv4_obj3_idVOWrong2.ogg"},{bytes:8713,md5:"052726961b71ac756f1cf5c2214f3821",name:"audio/lv4_obj3_idVOWrong3.mp3"},{bytes:25786,md5:"6711803b3259769e0239500ae0196152",
name:"audio/lv4_obj3_idVOWrong3.ogg"},{bytes:13158,md5:"afa57ebffe4c9c58dcbbd08066762676",name:"audio/lv4_obj4_idVOWrong2.mp3"},{bytes:42250,md5:"910db226ecd7ed98fde75eadd5f95d43",name:"audio/lv4_obj4_idVOWrong2.ogg"},{bytes:16413,md5:"0a7ed859917b036ac3c55e91db9824f9",name:"audio/lv4_obj5_idVOWrong2.mp3"},{bytes:47834,md5:"6cd6e7c43f514a2a13ba0ba6c0f529d4",name:"audio/lv4_obj5_idVOWrong2.ogg"},{bytes:24269,md5:"806f5ec4b08b3ffadf54fb136844f494",name:"audio/lv4_storylv4_story1_idVO.mp3"},{bytes:71267,
md5:"b75192c1e724e73ef3f3f2c8b08d7c91",name:"audio/lv4_storylv4_story1_idVO.ogg"},{bytes:17244,md5:"75775f83162ca7bae434df985481edac",name:"audio/lv5_obj3_idVOHud.mp3"},{bytes:49787,md5:"693ffbc2c1f6dd8cbd5eca2a9b9f1de1",name:"audio/lv5_obj3_idVOHud.ogg"},{bytes:13627,md5:"29faf972b69442ea43abe2d0d7eb541e",name:"audio/lv5_obj3_idVOWrong2.mp3"},{bytes:41938,md5:"49f546a25de4d25fc8c5319649aab031",name:"audio/lv5_obj3_idVOWrong2.ogg"},{bytes:7306,md5:"63c20270d4cb383b3175c6810d80b77f",name:"audio/lv5_obj3_idVOWrong3.mp3"},
{bytes:24716,md5:"669638d90e91bc2c1f820d575b7f773f",name:"audio/lv5_obj3_idVOWrong3.ogg"},{bytes:14281,md5:"2bd81f2a205f6ec32ed2c1ae228b1d18",name:"audio/lv5_obj4_idVOWrong2.mp3"},{bytes:42217,md5:"0148f34ec078c1c5b105e8bcca8d1898",name:"audio/lv5_obj4_idVOWrong2.ogg"},{bytes:14953,md5:"ed1651846a762199e9126e2ff29fb9bb",name:"audio/lv5_obj5_idVOWrong2.mp3"},{bytes:46375,md5:"888c6495362cfb23546b912e7b583c3d",name:"audio/lv5_obj5_idVOWrong2.ogg"},{bytes:14069,md5:"dbbe5a70b766e757258c505f56c77e6b",
name:"audio/lv5_obj6_idVOWrong2.mp3"},{bytes:41313,md5:"4aba67985c9972e0e7bbff99174cd4c9",name:"audio/lv5_obj6_idVOWrong2.ogg"},{bytes:11106,md5:"9c4b8aaa4ec88860fd9d5656e0e4ab91",name:"audio/lv5_obj7_idVOWrong2.mp3"},{bytes:33476,md5:"f333ddb66151ef363f7e118e63fa6668",name:"audio/lv5_obj7_idVOWrong2.ogg"},{bytes:21664,md5:"a50c7140092591b917ce6016c49de863",name:"audio/lv5_storylv5_story1_idVO.mp3"},{bytes:63327,md5:"c971e55a1c1e04a89d3871be6b9853cd",name:"audio/lv5_storylv5_story1_idVO.ogg"},{bytes:75173,
md5:"b26f1ad733b4fa038aa9eb3ef4e39f48",name:"audio/music_splash.mp3"},{bytes:273951,md5:"5cb62dde95ccc90015f7db9917d0a452",name:"audio/music_splash.ogg"},{bytes:18933,md5:"f46beeff23f2af87b9fe978055538570",name:"audio/result_idle_vo.mp3"},{bytes:55621,md5:"c87dff7024f04c95833c3a8ffd60dbba",name:"audio/result_idle_vo.ogg"},{bytes:27903,md5:"25bca53cdfe140d1bc83c0ab1552b5c3",name:"audio/result_vo.mp3"},{bytes:86210,md5:"156d84514a559bc5b44a300477d6a38b",name:"audio/result_vo.ogg"},{bytes:1443,md5:"01d947b3c86d79041dda9dae4bcc2582",
name:"audio/sfx_button_click.mp3"},{bytes:7086,md5:"f27144b30a5cef2382c4cc14c07cb9b9",name:"audio/sfx_button_click.ogg"},{bytes:1015,md5:"c4357c4ee6555cd7adfd07648339161c",name:"audio/sfx_button_over.mp3"},{bytes:5271,md5:"2fde03be600c87d2e6b70ae2b8f4d5e2",name:"audio/sfx_button_over.ogg"},{bytes:6656,md5:"b00971d147c0b3025aab98ed3d3d865e",name:"audio/sfx_object_found.mp3"},{bytes:27501,md5:"69845e0d6b6ff40d3f0d09ea5713ffbe",name:"audio/sfx_object_found.ogg"},{bytes:12954,md5:"d4971ea6da5e35711d0808638c831d85",
name:"audio/vo_level_lose.mp3"},{bytes:36044,md5:"6823eb62fe34f419341a8a3cbefb91ee",name:"audio/vo_level_lose.ogg"},{bytes:10456,md5:"75eeb8c1ce1beaa54231b69bfc713268",name:"audio/vo_level_select.mp3"},{bytes:32906,md5:"f2542d7ccf7aa8f63da9b92b71fbc2ec",name:"audio/vo_level_select.ogg"},{bytes:8168,md5:"b93a6c706a3096a7f41e14a911e8deb6",name:"audio/vo_level_select_idle.mp3"},{bytes:24213,md5:"bb1085b6c8af479c169df01396a71fe1",name:"audio/vo_level_select_idle.ogg"},{bytes:23405,md5:"b1d8392f7415fb581874c93b36701c27",
name:"audio/vo_level_win.mp3"},{bytes:70866,md5:"fcda37a89d713d9e7a01b31ebb01f254",name:"audio/vo_level_win.ogg"},{bytes:10352,md5:"d8817681f26499f4d0cf06e33c4c1180",name:"audio/vo_splash.mp3"},{bytes:35254,md5:"9559c5551e102621b6a79798ef7de360",name:"audio/vo_splash.ogg"},{bytes:13088,md5:"accb83779063f2fd0e62b863d046abfa",name:"audio/vo_splash_btn.mp3"},{bytes:36697,md5:"bd28c5836376f1c6a630ec9123d6c104",name:"audio/vo_splash_btn.ogg"},{bytes:17189,md5:"4d182e4986d12a38c991e085dc8b4e26",name:"audio/vo_wrong1.mp3"},
{bytes:53921,md5:"07ae9385ec722dfc54d86d7da210bed9",name:"audio/vo_wrong1.ogg"},{bytes:38823,md5:"7facc88f6acfb831ced9dd38da10af52",name:"data/project.json"},{bytes:231,md5:"d4ed58a2c0e2c3421416907f11fa4092",name:"data/service_rules.json"},{bytes:10247,md5:"79b19450066029502c1ac3987f26c9d4",name:"images/g0_level3_0.plist"},{bytes:892480,md5:"63ca7181f75a17651f7453bec6b7373c",name:"images/g0_level3_0.png"},{bytes:1496,md5:"0fbc5cfc5e4c30590bc1fb41191c6dc8",name:"images/g0_level3_1.plist"},{bytes:733975,
md5:"ef01798a387f6c5cdbb4ee5ec8db914c",name:"images/g0_level3_1.png"},{bytes:1501,md5:"891afaf369e03bb547675b519412f299",name:"images/g0_level3_2.plist"},{bytes:386222,md5:"1bc327bbeb4232ea57d5ddedd81cea6f",name:"images/g0_level3_2.png"},{bytes:9696,md5:"02915bbd551c3c51d8c2eeec65c706b8",name:"images/g0_level4_0.plist"},{bytes:880674,md5:"f8ec1b6f64be6c64eab1f05e7151edbb",name:"images/g0_level4_0.png"},{bytes:2040,md5:"0b269ff0ffd0f540305be7426bf8c89b",name:"images/g0_level4_1.plist"},{bytes:904704,
md5:"08afdfb9ca8e0c3f121d66235d660418",name:"images/g0_level4_1.png"},{bytes:1501,md5:"87f4c290e33402c581ed7e9bd2010aaa",name:"images/g0_level4_2.plist"},{bytes:366732,md5:"c330345c930df8463644e38d45c9151b",name:"images/g0_level4_2.png"},{bytes:10252,md5:"95ee19964ac762110462c59318b06b5f",name:"images/g0_level5_0.plist"},{bytes:718107,md5:"0f0be0ae1a1ac6a68b01be9c9bbceede",name:"images/g0_level5_0.png"},{bytes:1496,md5:"22c735ec74bb03b7419b534b471ea0e1",name:"images/g0_level5_1.plist"},{bytes:757313,
md5:"090fb8d2ff37ff2bf154a8f5f2c175c1",name:"images/g0_level5_1.png"},{bytes:1501,md5:"f8ea13b460b9cb48774ca48a66334f84",name:"images/g0_level5_2.plist"},{bytes:395426,md5:"0e05e6c756b9d06f327c0b6e5268d0be",name:"images/g0_level5_2.png"},{bytes:6956,md5:"e97715f55138f4e680b70267b2bea700",name:"images/gameplay_0.plist"},{bytes:115071,md5:"c30ffdaa36e3d148140cb5cf442042c8",name:"images/gameplay_0.png"},{bytes:1494,md5:"fb3c9d087685f6c6d38070822ae16f40",name:"images/gameplay_1.plist"},{bytes:441434,
md5:"7e5799075ac68635d7cef5cb4374f8bc",name:"images/gameplay_1.png"},{bytes:1489,md5:"19ecb19c75d0c1650eedead9b8b096d8",name:"images/gameplay_2.plist"},{bytes:37945,md5:"fccf49a75aaacd1d13c7af3aa488ac10",name:"images/gameplay_2.png"},{bytes:5342,md5:"532db8ad42fc0a7de35dcfff4046bc56",name:"images/initial_0.plist"},{bytes:396957,md5:"7f804f2d720fb1d37afd1e9e814b6916",name:"images/initial_0.png"},{bytes:18213,md5:"6cd3e16b5f185856ea9cd61c1ecbc24f",name:"images/lv3_obj10_image_found.png"},{bytes:9072,
md5:"8f0a2b7f3910ac14ecadc9fb19f759f4",name:"images/lv3_obj3_image_found.png"},{bytes:18737,md5:"834e9260db0c23aba1d7b3bfb8a723d7",name:"images/lv3_obj4_image_found.png"},{bytes:17939,md5:"c2e5a2464854f36d85349ca294f18d05",name:"images/lv3_obj5_image_found.png"},{bytes:15928,md5:"8161ec739f03cce8e1d5217ba6213bfe",name:"images/lv3_obj6_image_found.png"},{bytes:6090,md5:"c81dde691f704751f7db6014ebe17369",name:"images/lv3_obj7_image_found.png"},{bytes:16538,md5:"250ba5bee75d02dff46ae97e9c9b8b95",name:"images/lv3_obj8_image_found.png"},
{bytes:11792,md5:"1191b122c6dd90bae9c34db7ff446c39",name:"images/lv3_obj9_image_found.png"},{bytes:13936,md5:"556cbfec21538f8624107fa06426d7b4",name:"images/lv4_obj10_image_found.png"},{bytes:14603,md5:"ecf7cf366c4af4ff320ec1d270276a50",name:"images/lv4_obj3_image_found.png"},{bytes:14256,md5:"e5fb8dbdca980da885696c3e708cee21",name:"images/lv4_obj4_image_found.png"},{bytes:5487,md5:"ac7ee39195eb29e020c52a20bf9740fb",name:"images/lv4_obj5_image_found.png"},{bytes:11029,md5:"e2dda1035120136512af0848d5633f9b",
name:"images/lv4_obj6_image_found.png"},{bytes:5229,md5:"787d9addeb0488878ea79576789c60cb",name:"images/lv4_obj7_image_found.png"},{bytes:13437,md5:"a52259fe10e32363b599feb531758837",name:"images/lv4_obj8_image_found.png"},{bytes:7732,md5:"59227e993a6a6e0c84122864116c48a9",name:"images/lv4_obj9_image_found.png"},{bytes:17573,md5:"b2b62e7bad951c7341455bb63d4f5d2e",name:"images/lv5_obj10_image_found.png"},{bytes:19509,md5:"35f535a55fc28dd6949da134294fffae",name:"images/lv5_obj3_image_found.png"},{bytes:23240,
md5:"3b58aaa4d52ab52acedcb4ca193f58c5",name:"images/lv5_obj4_image_found.png"},{bytes:6175,md5:"01cde6790b6ee9feffac415f0e92e9ba",name:"images/lv5_obj5_image_found.png"},{bytes:16757,md5:"b1cdfe1a0cdd662ed6fcacf6b827caff",name:"images/lv5_obj6_image_found.png"},{bytes:10211,md5:"ac826e1e886cebc6b1c2f757a239bfaa",name:"images/lv5_obj7_image_found.png"},{bytes:9834,md5:"9d3d00bc1c1694a2151b46b41ade6ca3",name:"images/lv5_obj8_image_found.png"},{bytes:5892,md5:"1253d79a3aea5293fccb592946dd2820",name:"images/lv5_obj9_image_found.png"},
{bytes:2570,md5:"a604ed0912ba1ffd26dc88cea15c80d5",name:"images/preload_0.plist"},{bytes:13081,md5:"a905d5d97e5e95b90de13fddeb5fbad3",name:"images/preload_0.png"},{bytes:397140,md5:"8f610beb0a74244c8761a09a988b3820",name:"images/splash.jpg"}]}]}};Wa._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();Db.NEWLINE=new id(10);cb._sharedEvent=new fe;gb._sharedEvent=new he;Ta.DISPATCHING_SENTINEL=
new Xb(null,null);Tb.CANVAS_TEXTURES=(new ib("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);ca._mediaRefCount=0;ca._detectBlobSupport=!0;P.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new ib("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);Y._detectSupport=!0;Ja._dateRegex=new ib("(\\d{4}-\\d{2}-\\d{2})(?:T(\\d{2}:\\d{2}:\\d{2})Z)?","");ga._mapEmpty=[];bb.USE_CACHE=!1;bb.USE_ENUM_INDEX=!1;bb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Ma.DEFAULT_RESOLVER=
U;Ma.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";vb.count=0;mb.escapes=function(){var a=new K;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);ka.main()})();
