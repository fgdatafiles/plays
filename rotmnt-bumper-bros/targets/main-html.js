/** Built with 2DKit, http://2dkit.com */
'use strict';(function(Tg){function t(a,b){function d(){}d.prototype=a;var k=new d,h;for(h in b)k[h]=b[h];b.toString!==Object.prototype.toString&&(k.toString=b.toString);return k}function Hg(a){return a instanceof Array?function(){return F.iter(a)}:"function"==typeof a.iterator?L(a,a.iterator):a.iterator}function L(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Ug++);var d;null==a.hx__closures__?a.hx__closures__={}:d=a.hx__closures__[b.__id__];null==d&&(d=function(){return d.method.apply(d.scope,
arguments)},d.scope=a,d.method=b,a.hx__closures__[b.__id__]=d);return d}var l={},p=function(){return ea.__string_rec(this,"")},Qb=function(a,b){this.r=RegExp(a,b.split("u").join(""))};l.EReg=Qb;Qb.__name__=["EReg"];Qb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new A("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new A("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:Qb};var F=function(){};l.HxOverrides=F;F.__name__=["HxOverrides"];F.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new A("Invalid date format : "+
a);}};F.cca=function(a,b){var d=a.charCodeAt(b);return d!=d?void 0:d};F.substr=function(a,b,d){if(null==d)d=a.length;else if(0>d)if(0==b)d=a.length+d;else return"";return a.substr(b,d)};F.remove=function(a,b){var d=a.indexOf(b);if(-1==d)return!1;a.splice(d,1);return!0};F.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var mc=function(){};l.Lambda=mc;mc.__name__=["Lambda"];mc.array=function(a){var b=[];for(a=Hg(a)();a.hasNext();){var d=
a.next();b.push(d)}return b};mc.count=function(a,b){var d=0;if(null==b)for(var k=Hg(a)();k.hasNext();)k.next(),++d;else for(k=Hg(a)();k.hasNext();){var h=k.next();b(h)&&++d}return d};var Pc=function(){this.length=0};l.List=Pc;Pc.__name__=["List"];Pc.prototype={add:function(a){a=new Te(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},iterator:function(){return new Ue(this.h)},__class__:Pc};var Te=function(a,b){this.item=a;this.next=b};l["_List.ListNode"]=Te;Te.__name__=["_List",
"ListNode"];Te.prototype={__class__:Te};var Ue=function(a){this.head=a};l["_List.ListIterator"]=Ue;Ue.__name__=["_List","ListIterator"];Ue.prototype={hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:Ue};Math.__name__=["Math"];var la=function(){};l.Reflect=la;la.__name__=["Reflect"];la.field=function(a,b){try{return a[b]}catch(d){return null}};la.setProperty=function(a,b,d){var k,h;h=a.__properties__?k=a.__properties__["set_"+
b]:!1;if(h)a[k](d);else a[b]=d};la.fields=function(a){var b=[];if(null!=a){var d=Object.prototype.hasOwnProperty,k;for(k in a)"__id__"!=k&&"hx__closures__"!=k&&d.call(a,k)&&b.push(k)}return b};la.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};la.compare=function(a,b){return a==b?0:a>b?1:-1};la.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var v=function(){};l.Std=v;v.__name__=["Std"];v.string=function(a){return ea.__string_rec(a,
"")};v.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=F.cca(a,1)&&88!=F.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var Cb=function(){this.b=""};l.StringBuf=Cb;Cb.__name__=["StringBuf"];Cb.prototype={__class__:Cb};var qa=function(){};l.StringTools=qa;qa.__name__=["StringTools"];qa.startsWith=function(a,b){return a.length>=b.length?F.substr(a,0,b.length)==b:!1};qa.endsWith=function(a,b){var d=b.length,k=a.length;return k>=d?F.substr(a,k-d,d)==b:!1};qa.isSpace=function(a,b){var d=F.cca(a,
b);return 8<d&&14>d?!0:32==d};qa.ltrim=function(a){for(var b=a.length,d=0;d<b&&qa.isSpace(a,d);)++d;return 0<d?F.substr(a,d,b-d):a};qa.rtrim=function(a){for(var b=a.length,d=0;d<b&&qa.isSpace(a,b-d-1);)++d;return 0<d?F.substr(a,0,b-d):a};qa.trim=function(a){return qa.ltrim(qa.rtrim(a))};qa.replace=function(a,b,d){return a.split(b).join(d)};var Y=l.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};Y.TNull=["TNull",0];Y.TNull.toString=
p;Y.TNull.__enum__=Y;Y.TInt=["TInt",1];Y.TInt.toString=p;Y.TInt.__enum__=Y;Y.TFloat=["TFloat",2];Y.TFloat.toString=p;Y.TFloat.__enum__=Y;Y.TBool=["TBool",3];Y.TBool.toString=p;Y.TBool.__enum__=Y;Y.TObject=["TObject",4];Y.TObject.toString=p;Y.TObject.__enum__=Y;Y.TFunction=["TFunction",5];Y.TFunction.toString=p;Y.TFunction.__enum__=Y;Y.TClass=function(a){a=["TClass",6,a];a.__enum__=Y;a.toString=p;return a};Y.TEnum=function(a){a=["TEnum",7,a];a.__enum__=Y;a.toString=p;return a};Y.TUnknown=["TUnknown",
8];Y.TUnknown.toString=p;Y.TUnknown.__enum__=Y;var fa=function(){};l.Type=fa;fa.__name__=["Type"];fa.getSuperClass=function(a){return a.__super__};fa.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};fa.getEnumName=function(a){return a.__ename__.join(".")};fa.resolveClass=function(a){a=l[a];return null!=a&&a.__name__?a:null};fa.resolveEnum=function(a){a=l[a];return null!=a&&a.__ename__?a:null};fa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);
case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],
b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new A("Too many arguments");}};fa.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};fa.createEnum=function(a,b,d){var k=la.field(a,b);if(null==k)throw new A("No such constructor "+
b);if(la.isFunction(k)){if(null==d)throw new A("Constructor "+b+" need parameters");return k.apply(a,d)}if(null!=d&&0!=d.length)throw new A("Constructor "+b+" does not need parameters");return k};fa["typeof"]=function(a){switch(typeof a){case "boolean":return Y.TBool;case "function":return a.__name__||a.__ename__?Y.TObject:Y.TFunction;case "number":return Math.ceil(a)==a%2147483648?Y.TInt:Y.TFloat;case "object":if(null==a)return Y.TNull;var b=a.__enum__;if(null!=b)return Y.TEnum(b);a=ea.getClass(a);
return null!=a?Y.TClass(a):Y.TObject;case "string":return Y.TClass(String);case "undefined":return Y.TNull;default:return Y.TUnknown}};var u=function(a){this.nodeType=a;this.children=[];this.attributeMap=new da};l.Xml=u;u.__name__=["Xml"];u.parse=function(a){return yb.parse(a)};u.createElement=function(a){var b=new u(u.Element);if(b.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};u.createPCData=function(a){var b=new u(u.PCData);if(b.nodeType==
u.Document||b.nodeType==u.Element)throw new A("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};u.createCData=function(a){var b=new u(u.CData);if(b.nodeType==u.Document||b.nodeType==u.Element)throw new A("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};u.createComment=function(a){var b=new u(u.Comment);if(b.nodeType==u.Document||b.nodeType==u.Element)throw new A("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};u.createDocType=function(a){var b=new u(u.DocType);
if(b.nodeType==u.Document||b.nodeType==u.Element)throw new A("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};u.createProcessingInstruction=function(a){var b=new u(u.ProcessingInstruction);if(b.nodeType==u.Document||b.nodeType==u.Element)throw new A("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};u.createDocument=function(){return new u(u.Document)};u.prototype={get:function(a){if(this.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+this.nodeType);
var b=this.attributeMap;return null!=K[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+this.nodeType);var d=this.attributeMap;null!=K[a]?d.setReserved(a,b):d.h[a]=b},exists:function(a){if(this.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=K[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},elementsNamed:function(a){if(this.nodeType!=u.Document&&
this.nodeType!=u.Element)throw new A("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],d=0,k=this.children;d<k.length;){var h=k[d];++d;var c;if(h.nodeType==u.Element){if(h.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+h.nodeType);c=h.nodeName==a}else c=!1;c&&b.push(h)}return F.iter(b)},firstElement:function(){if(this.nodeType!=u.Document&&this.nodeType!=u.Element)throw new A("Bad node type, expected Element or Document but found "+
this.nodeType);for(var a=0,b=this.children;a<b.length;){var d=b[a];++a;if(d.nodeType==u.Element)return d}return null},addChild:function(a){if(this.nodeType!=u.Document&&this.nodeType!=u.Element)throw new A("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=u.Document&&this.nodeType!=u.Element)throw new A("Bad node type, expected Element or Document but found "+
this.nodeType);return F.remove(this.children,a)?(a.parent=null,!0):!1},__class__:u};var ca=function(){};l["aop.Anims"]=ca;ca.__name__=["aop","Anims"];ca.fadeIn=function(a,b,d){a.$BF[1].alpha.set__(0);var k=new S;k.run(new T([new E(b),new D(function(){a.$BF[1].alpha.animateTo(1,d)})]));a.add(k)};ca.spawn=function(a,b,d,k,h,c){null==c&&(c=!0);null==h&&(h=!0);a.$BF[1].setScale(d);h&&a.$BF[1].alpha.set__(0);d=new S;d.run(new T([new E(b),new D(function(){h&&a.$BF[1].alpha.animateTo(1,0.75*k);c?(a.$BF[1].scaleX.animateTo(1,
k,ba.bounceOut),a.$BF[1].scaleY.animateTo(1,k,ba.bounceOut)):(a.$BF[1].scaleX.animateTo(1,k),a.$BF[1].scaleY.animateTo(1,k))})]));a.add(d)};var B=function(){};l["aop.GameStorage"]=B;B.__name__=["aop","GameStorage"];B.loadData=function(){m.$2F.getCloudStorage().get(B.gameName+"purse",0).then(function(a){c.purse=a});m.$2F.getCloudStorage().get(B.gameName+"level11coins",0).then(function(a){c.level11coins=a});m.$2F.getCloudStorage().get(B.gameName+"level12coins",0).then(function(a){c.level12coins=a});
m.$2F.getCloudStorage().get(B.gameName+"level13coins",0).then(function(a){c.level13coins=a});m.$2F.getCloudStorage().get(B.gameName+"level14coins",0).then(function(a){c.level14coins=a});m.$2F.getCloudStorage().get(B.gameName+"level15coins",0).then(function(a){c.level15coins=a});m.$2F.getCloudStorage().get(B.gameName+"level21coins",0).then(function(a){c.level21coins=a});m.$2F.getCloudStorage().get(B.gameName+"level22coins",0).then(function(a){c.level22coins=a});m.$2F.getCloudStorage().get(B.gameName+
"level23coins",0).then(function(a){c.level23coins=a});m.$2F.getCloudStorage().get(B.gameName+"level24coins",0).then(function(a){c.level24coins=a});m.$2F.getCloudStorage().get(B.gameName+"level25coins",0).then(function(a){c.level35coins=a});m.$2F.getCloudStorage().get(B.gameName+"level31coins",0).then(function(a){c.level31coins=a});m.$2F.getCloudStorage().get(B.gameName+"level32coins",0).then(function(a){c.level32coins=a});m.$2F.getCloudStorage().get(B.gameName+"level33coins",0).then(function(a){c.level33coins=
a});m.$2F.getCloudStorage().get(B.gameName+"level34coins",0).then(function(a){c.level34coins=a});m.$2F.getCloudStorage().get(B.gameName+"level35coins",0).then(function(a){c.level35coins=a});m.$2F.getCloudStorage().get(B.gameName+"level11medal",-1).then(function(a){c.level11medal=a});m.$2F.getCloudStorage().get(B.gameName+"level12medal",-1).then(function(a){c.level12medal=a});m.$2F.getCloudStorage().get(B.gameName+"level13medal",-1).then(function(a){c.level13medal=a});m.$2F.getCloudStorage().get(B.gameName+
"level14medal",-1).then(function(a){c.level14medal=a});m.$2F.getCloudStorage().get(B.gameName+"level15medal",-1).then(function(a){c.level15medal=a});m.$2F.getCloudStorage().get(B.gameName+"level21medal",-1).then(function(a){c.level21medal=a});m.$2F.getCloudStorage().get(B.gameName+"level22medal",-1).then(function(a){c.level22medal=a});m.$2F.getCloudStorage().get(B.gameName+"level23medal",-1).then(function(a){c.level23medal=a});m.$2F.getCloudStorage().get(B.gameName+"level24medal",-1).then(function(a){c.level24medal=
a});m.$2F.getCloudStorage().get(B.gameName+"level25medal",-1).then(function(a){c.level25medal=a});m.$2F.getCloudStorage().get(B.gameName+"level31medal",-1).then(function(a){c.level31medal=a});m.$2F.getCloudStorage().get(B.gameName+"level32medal",-1).then(function(a){c.level32medal=a});m.$2F.getCloudStorage().get(B.gameName+"level33medal",-1).then(function(a){c.level33medal=a});m.$2F.getCloudStorage().get(B.gameName+"level34medal",-1).then(function(a){c.level34medal=a});m.$2F.getCloudStorage().get(B.gameName+
"level35medal",-1).then(function(a){c.level35medal=a});m.$2F.getCloudStorage().get(B.gameName+"unlockedRoof",!1).then(function(a){c.unlockedRoof=a});m.$2F.getCloudStorage().get(B.gameName+"unlockedYard",!1).then(function(a){c.unlockedYard=a});m.$2F.getCloudStorage().get(B.gameName+"unlockedSubway",!1).then(function(a){c.unlockedSubway=a});m.$2F.getCloudStorage().get(B.gameName+"unlockedCity",!1).then(function(a){c.unlockedCity=a});m.$2F.getCloudStorage().get(B.gameName+"helpStage",0).then(function(a){c.helpStage=
a})};B.saveData=function(){B.saveInt("level11coins",c.level11coins);B.saveInt("level12coins",c.level12coins);B.saveInt("level13coins",c.level13coins);B.saveInt("level14coins",c.level14coins);B.saveInt("level15coins",c.level15coins);B.saveInt("level21coins",c.level21coins);B.saveInt("level22coins",c.level22coins);B.saveInt("level23coins",c.level23coins);B.saveInt("level24coins",c.level24coins);B.saveInt("level25coins",c.level25coins);B.saveInt("level31coins",c.level31coins);B.saveInt("level32coins",
c.level32coins);B.saveInt("level33coins",c.level33coins);B.saveInt("level34coins",c.level34coins);B.saveInt("level35coins",c.level35coins);B.saveInt("level11medal",c.level11medal);B.saveInt("level12medal",c.level12medal);B.saveInt("level13medal",c.level13medal);B.saveInt("level14medal",c.level14medal);B.saveInt("level15medal",c.level15medal);B.saveInt("level21medal",c.level21medal);B.saveInt("level22medal",c.level22medal);B.saveInt("level23medal",c.level23medal);B.saveInt("level24medal",c.level24medal);
B.saveInt("level25medal",c.level25medal);B.saveInt("level31medal",c.level31medal);B.saveInt("level32medal",c.level32medal);B.saveInt("level33medal",c.level33medal);B.saveInt("level34medal",c.level34medal);B.saveInt("level35medal",c.level35medal);B.saveInt("helpStage",c.helpStage);B.saveBool("unlockedRoof",c.unlockedRoof);B.saveBool("unlockedYard",c.unlockedYard);B.saveBool("unlockedSubway",c.unlockedSubway);B.saveBool("unlockedCity",c.unlockedCity);B.saveInt("purse",c.purse)};B.saveInt=function(a,
b){m.$2F.getCloudStorage().set(B.gameName+a,b)};B.saveBool=function(a,b){m.$2F.getCloudStorage().set(B.gameName+a,b)};var bb=function(){this.lowerBound=new w;this.upperBound=new w};l["box2d.collision.AABB"]=bb;bb.__name__=["box2d","collision","AABB"];bb.prototype={getCenter:function(){return new w((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},contains:function(a){var b;return b=(b=(b=(b=this.lowerBound.x<=a.lowerBound.x)?this.lowerBound.y<=a.lowerBound.y:!1)?a.upperBound.x<=
this.upperBound.x:!1)?a.upperBound.y<=this.upperBound.y:!1},testOverlap:function(a){var b=a.lowerBound.y-this.upperBound.y,d=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<d?!1:!0},combine:function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)},
__class__:bb};var Rc=function(){this.v=new w;this.id=new Qc};l["box2d.collision.ClipVertex"]=Rc;Rc.__name__=["box2d","collision","ClipVertex"];Rc.prototype={set:function(a){this.v.setV(a.v);this.id.set(a.id)},__class__:Rc};var w=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};l["box2d.common.math.Vec2"]=w;w.__name__=["box2d","common","math","Vec2"];w.make=function(a,b){return new w(a,b)};w.prototype={setZero:function(){this.y=this.x=0},set:function(a,b){null==b&&(b=0);null==a&&(a=0);
this.x=a;this.y=b},setV:function(a){this.x=a.x;this.y=a.y},getNegative:function(){return new w(-this.x,-this.y)},negativeSelf:function(){this.x=-this.x;this.y=-this.y},copy:function(){return new w(this.x,this.y)},multiply:function(a){this.x*=a;this.y*=a},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(2.2250738585072014E-308>a)return 0;var b=1/a;this.x*=
b;this.y*=b;return a},__class__:w};var Qc=function(){this.features=new Ve;this.features.$F=this};l["box2d.collision.ContactID"]=Qc;Qc.__name__=["box2d","collision","ContactID"];Qc.prototype={set:function(a){this.set_key(a.$A)},set_key:function(a){this.$A=a;this.features.$B=this.$A&255;this.features.$C=(this.$A&65280)>>8&255;this.features.$D=(this.$A&16711680)>>16&255;this.features.$E=(this.$A&-16777216)>>24&255;return this.$A},__class__:Qc,__properties__:{set_key:"set_key"}};var Ve=function(){};l["box2d.collision.Features"]=
Ve;Ve.__name__=["box2d","collision","Features"];Ve.prototype={set_referenceEdge:function(a){this.$B=a;this.$F.$A=this.$F.$A&-256|this.$B&255;return a},set_incidentEdge:function(a){this.$C=a;this.$F.$A=this.$F.$A&-65281|this.$C<<8&65280;return a},set_incidentVertex:function(a){this.$D=a;this.$F.$A=this.$F.$A&-16711681|this.$D<<16&16711680;return a},set_flip:function(a){this.$E=a;this.$F.$A=this.$F.$A&16777215|this.$E<<24&-16777216;return a},__class__:Ve,__properties__:{set_flip:"set_flip",set_incidentVertex:"set_incidentVertex",
set_incidentEdge:"set_incidentEdge",set_referenceEdge:"set_referenceEdge"}};var P=function(){};l["box2d.collision.Collision"]=P;P.__name__=["box2d","collision","Collision"];P.clipSegmentToLine=function(a,b,d,k){var h,c=0;h=b[0];var q=h.v;h=b[1];var H=h.v,X=d.x*q.x+d.y*q.y-k;h=d.x*H.x+d.y*H.y-k;0>=X&&a[c++].set(b[0]);0>=h&&a[c++].set(b[1]);0>X*h&&(d=X/(X-h),h=a[c],h=h.v,h.x=q.x+d*(H.x-q.x),h.y=q.y+d*(H.y-q.y),h=a[c],h.id=(0<X?b[0]:b[1]).id,++c);return c};P.edgeSeparation=function(a,b,d,k,h){var c=
a.$Y;a=a.$bB;var q=k.$cB,H=k.$Y,X,e;X=b.R;e=a[d];a=X.col1.x*e.x+X.col2.x*e.y;k=X.col1.y*e.x+X.col2.y*e.y;X=h.R;var f=X.col1.x*a+X.col1.y*k;X=X.col2.x*a+X.col2.y*k;for(var g=0,l=1.7976931348623157E308,m=0;m<q;){var G=m++;e=H[G];e=e.x*f+e.y*X;e<l&&(l=e,g=G)}e=c[d];X=b.R;d=b.position.x+(X.col1.x*e.x+X.col2.x*e.y);b=b.position.y+(X.col1.y*e.x+X.col2.y*e.y);e=H[g];X=h.R;c=h.position.x+(X.col1.x*e.x+X.col2.x*e.y);h=h.position.y+(X.col1.y*e.x+X.col2.y*e.y);return(c-d)*a+(h-b)*k};P.findMaxSeparation=function(a,
b,d,k,h){var c=b.$cB,q=b.$bB,H,X=h.R;H=k.$aB;var e=h.position.x+(X.col1.x*H.x+X.col2.x*H.y),f=h.position.y+(X.col1.y*H.x+X.col2.y*H.y),X=d.R;H=b.$aB;for(var e=e-(d.position.x+(X.col1.x*H.x+X.col2.x*H.y)),f=f-(d.position.y+(X.col1.y*H.x+X.col2.y*H.y)),X=e*d.R.col1.x+f*d.R.col1.y,f=e*d.R.col2.x+f*d.R.col2.y,e=0,g=-1.7976931348623157E308,l=0;l<c;){var m=l++;H=q[m];H=H.x*X+H.y*f;H>g&&(g=H,e=m)}q=P.edgeSeparation(b,d,e,k,h);g=0<=e-1?e-1:c-1;X=P.edgeSeparation(b,d,g,k,h);l=e+1<c?e+1:0;f=P.edgeSeparation(b,
d,l,k,h);if(X>q&&X>f)H=-1;else if(f>q)H=1,g=l,X=f;else return a[0]=e,q;for(;;)if(e=-1==H?0<=g-1?g-1:c-1:g+1<c?g+1:0,q=P.edgeSeparation(b,d,e,k,h),q>X)g=e,X=q;else break;a[0]=g;return X};P.findIncidentEdge=function(a,b,d,k,h,c){var q=b.$bB,H=h.$cB;b=h.$Y;h=h.$bB;var e;e=d.R;d=q[k];var q=e.col1.x*d.x+e.col2.x*d.y,f=e.col1.y*d.x+e.col2.y*d.y;e=c.R;d=e.col1.x*q+e.col1.y*f;f=e.col2.x*q+e.col2.y*f;q=d;e=0;for(var g=1.7976931348623157E308,l=0;l<H;){var m=l++;d=h[m];d=q*d.x+f*d.y;d<g&&(g=d,e=m)}h=e;q=h+1<
H?h+1:0;H=a[0];d=b[h];e=c.R;H.v.x=c.position.x+(e.col1.x*d.x+e.col2.x*d.y);H.v.y=c.position.y+(e.col1.y*d.x+e.col2.y*d.y);H.id.features.set_referenceEdge(k);H.id.features.set_incidentEdge(h);H.id.features.set_incidentVertex(0);H=a[1];d=b[q];e=c.R;H.v.x=c.position.x+(e.col1.x*d.x+e.col2.x*d.y);H.v.y=c.position.y+(e.col1.y*d.x+e.col2.y*d.y);H.id.features.set_referenceEdge(k);H.id.features.set_incidentEdge(q);H.id.features.set_incidentVertex(1)};P.$G=function(){var a=[];a[0]=new Rc;a[1]=new Rc;return a};
P.collidePolygons=function(a,b,d,k,h){var c;a.$3=0;var q=b.$g+k.$g,H;P.$K[0]=0;var e=P.findMaxSeparation(P.$K,b,d,k,h);H=P.$K[0];if(!(e>q)){var f;P.$L[0]=0;var g=P.findMaxSeparation(P.$L,k,h,b,d);f=P.$L[0];if(!(g>q)){g>0.98*e+0.001?(e=k,k=b,b=h,a.$2=2,H=1):(e=b,b=d,d=h,f=H,a.$2=1,H=0);h=P.$H;P.findIncidentEdge(h,e,b,f,k,d);g=e.$Y;k=g[f];var l;l=f+1<e.$cB?g[f+1]:g[0];e=P.$M;e.set(l.x-k.x,l.y-k.y);e.normalize();g=P.$N;g.x=e.y;g.y=-e.x;c=P.$O;c.set(0.5*(k.x+l.x),0.5*(k.y+l.y));var m=P.$Q;f=b.R;m.x=f.col1.x*
e.x+f.col2.x*e.y;m.y=f.col1.y*e.x+f.col2.y*e.y;var p=P.$R;p.x=-m.x;p.y=-m.y;e=P.$P;e.x=m.y;e.y=-m.x;var G=P.$S,C=P.$T;G.x=b.position.x+(f.col1.x*k.x+f.col2.x*k.y);G.y=b.position.y+(f.col1.y*k.x+f.col2.y*k.y);C.x=b.position.x+(f.col1.x*l.x+f.col2.x*l.y);C.y=b.position.y+(f.col1.y*l.x+f.col2.y*l.y);b=e.x*G.x+e.y*G.y;f=m.x*C.x+m.y*C.y+q;l=P.$I;k=P.$J;h=P.clipSegmentToLine(l,h,p,-m.x*G.x-m.y*G.y+q);if(!(2>h||(h=P.clipSegmentToLine(k,l,m,f),2>h))){a.$0.setV(g);a.$1.setV(c);for(g=h=0;2>g;)f=g++,c=k[f],
e.x*c.v.x+e.y*c.v.y-b<=q&&(m=a.$z[h],f=d.R,p=c.v.x-d.position.x,G=c.v.y-d.position.y,m.$1.x=p*f.col1.x+G*f.col1.y,m.$1.y=p*f.col2.x+G*f.col2.y,m.$6.set(c.id),m.$6.features.set_flip(H),++h);a.$3=h}}}};P.collideCircles=function(a,b,d,k,h){a.$3=0;var c,q;c=d.R;q=b.$KB;var H=d.position.x+(c.col1.x*q.x+c.col2.x*q.y);d=d.position.y+(c.col1.y*q.x+c.col2.y*q.y);c=h.R;q=k.$KB;H=h.position.x+(c.col1.x*q.x+c.col2.x*q.y)-H;h=h.position.y+(c.col1.y*q.x+c.col2.y*q.y)-d;c=b.$g+k.$g;H*H+h*h>c*c||(a.$2=0,a.$1.setV(b.$KB),
a.$0.setZero(),a.$3=1,a.$z[0].$1.setV(k.$KB),a.$z[0].$6.set_key(0))};P.collidePolygonAndCircle=function(a,b,d,k,h){a.$3=0;var c,q,H,e=h.R;H=k.$KB;var f=h.position.y+(e.col1.y*H.x+e.col2.y*H.y);c=h.position.x+(e.col1.x*H.x+e.col2.x*H.y)-d.position.x;q=f-d.position.y;e=d.R;d=c*e.col1.x+q*e.col1.y;var e=c*e.col2.x+q*e.col2.y,g=0;h=-1.7976931348623157E308;var f=b.$g+k.$g,l=b.$cB,m=b.$Y;b=b.$bB;for(var p=0;p<l;){var G=p++;H=m[G];c=d-H.x;q=e-H.y;H=b[G];H=H.x*c+H.y*q;if(H>f)return;H>h&&(h=H,g=G)}H=g;c=m[H];
l=m[H+1<l?H+1:0];2.2250738585072014E-308>h?(a.$3=1,a.$2=1,a.$0.setV(b[g]),a.$1.x=0.5*(c.x+l.x),a.$1.y=0.5*(c.y+l.y),a.$z[0].$1.setV(k.$KB),a.$z[0].$6.set_key(0)):(h=(d-l.x)*(c.x-l.x)+(e-l.y)*(c.y-l.y),0>=(d-c.x)*(l.x-c.x)+(e-c.y)*(l.y-c.y)?(d-c.x)*(d-c.x)+(e-c.y)*(e-c.y)>f*f||(a.$3=1,a.$2=1,a.$0.x=d-c.x,a.$0.y=e-c.y,a.$0.normalize(),a.$1.setV(c),a.$z[0].$1.setV(k.$KB),a.$z[0].$6.set_key(0)):0>=h?(d-l.x)*(d-l.x)+(e-l.y)*(e-l.y)>f*f||(a.$3=1,a.$2=1,a.$0.x=d-l.x,a.$0.y=e-l.y,a.$0.normalize(),a.$1.setV(l),
a.$z[0].$1.setV(k.$KB),a.$z[0].$6.set_key(0)):(g=0.5*(c.x+l.x),c=0.5*(c.y+l.y),h=(d-g)*b[H].x+(e-c)*b[H].y,h>f||(a.$3=1,a.$2=1,a.$0.x=b[H].x,a.$0.y=b[H].y,a.$0.normalize(),a.$1.set(g,c),a.$z[0].$1.setV(k.$KB),a.$z[0].$6.set_key(0))))};var We=function(){this.$V=new nc;this.$W=new nc;this.$X=new nc;this.$Y=[];this.$Y[0]=this.$V;this.$Y[1]=this.$W;this.$Y[2]=this.$X};l["box2d.collision.Simplex"]=We;We.__name__=["box2d","collision","Simplex"];We.prototype={readCache:function(a,b,d,k,h){var c,q;this.$Z=
a.count;for(var e=this.$Y,f,g=0,l=this.$Z;g<l;)c=g++,f=e[c],f.indexA=a.indexA[c],f.indexB=a.indexB[c],c=b.$Y[f.indexA],q=k.$Y[f.indexB],f.wA=z.mulX(d,c),f.wB=z.mulX(h,q),f.w=z.subtractVV(f.wB,f.wA),f.a=0;1<this.$Z&&(a=a.metric,f=this.getMetric(),f<0.5*a||2*a<f||2.2250738585072014E-308>f)&&(this.$Z=0);0==this.$Z&&(f=e[0],f.indexA=0,f.indexB=0,c=b.$Y[0],q=k.$Y[0],f.wA=z.mulX(d,c),f.wB=z.mulX(h,q),f.w=z.subtractVV(f.wB,f.wA),this.$Z=1)},writeCache:function(a){a.metric=this.getMetric();a.count=this.$Z;
for(var b=this.$Y,d=0,k=this.$Z;d<k;){var h=d++;a.indexA[h]=b[h].indexA;a.indexB[h]=b[h].indexB}},getSearchDirection:function(){switch(this.$Z){case 1:return this.$V.w.getNegative();case 2:var a=z.subtractVV(this.$W.w,this.$V.w);return 0<z.crossVV(a,this.$V.w.getNegative())?z.crossFV(1,a):z.crossVF(a,1);default:return new w}},getClosestPoint:function(){switch(this.$Z){case 0:return new w;case 1:return this.$V.w;case 2:return new w(this.$V.a*this.$V.w.x+this.$W.a*this.$W.w.x,this.$V.a*this.$V.w.y+
this.$W.a*this.$W.w.y);default:return new w}},getWitnessPoints:function(a,b){switch(this.$Z){case 1:a.setV(this.$V.wA);b.setV(this.$V.wB);break;case 2:a.x=this.$V.a*this.$V.wA.x+this.$W.a*this.$W.wA.x;a.y=this.$V.a*this.$V.wA.y+this.$W.a*this.$W.wA.y;b.x=this.$V.a*this.$V.wB.x+this.$W.a*this.$W.wB.x;b.y=this.$V.a*this.$V.wB.y+this.$W.a*this.$W.wB.y;break;case 3:b.x=a.x=this.$V.a*this.$V.wA.x+this.$W.a*this.$W.wA.x+this.$X.a*this.$X.wA.x,b.y=a.y=this.$V.a*this.$V.wA.y+this.$W.a*this.$W.wA.y+this.$X.a*
this.$X.wA.y}},getMetric:function(){switch(this.$Z){case 0:return 0;case 1:return 0;case 2:return z.subtractVV(this.$V.w,this.$W.w).length();case 3:return z.crossVV(z.subtractVV(this.$W.w,this.$V.w),z.subtractVV(this.$X.w,this.$V.w));default:return 0}},solve2:function(){var a=this.$V.w,b=this.$W.w,d=z.subtractVV(b,a),a=-(a.x*d.x+a.y*d.y);0>=a?this.$Z=this.$V.a=1:(b=b.x*d.x+b.y*d.y,0>=b?(this.$Z=this.$W.a=1,this.$V.set(this.$W)):(d=1/(b+a),this.$V.a=b*d,this.$W.a=a*d,this.$Z=2))},solve3:function(){var a=
this.$V.w,b=this.$W.w,d=this.$X.w,k=z.subtractVV(b,a),h=z.dot(a,k),c=z.dot(b,k),h=-h,q=z.subtractVV(d,a),e=z.dot(a,q),f=z.dot(d,q),e=-e,g=z.subtractVV(d,b),l=z.dot(b,g),g=z.dot(d,g),l=-l,q=z.crossVV(k,q),k=q*z.crossVV(b,d),d=q*z.crossVV(d,a),a=q*z.crossVV(a,b);0>=h&&0>=e?this.$Z=this.$V.a=1:0<c&&0<h&&0>=a?(f=1/(c+h),this.$V.a=c*f,this.$W.a=h*f,this.$Z=2):0<f&&0<e&&0>=d?(c=1/(f+e),this.$V.a=f*c,this.$X.a=e*c,this.$Z=2,this.$W.set(this.$X)):0>=c&&0>=l?(this.$Z=this.$W.a=1,this.$V.set(this.$W)):0>=f&&
0>=g?(this.$Z=this.$X.a=1,this.$V.set(this.$X)):0<g&&0<l&&0>=k?(c=1/(g+l),this.$W.a=g*c,this.$X.a=l*c,this.$Z=2,this.$V.set(this.$X)):(c=1/(k+d+a),this.$V.a=k*c,this.$W.a=d*c,this.$X.a=a*c,this.$Z=3)},__class__:We};var nc=function(){};l["box2d.collision.SimplexVertex"]=nc;nc.__name__=["box2d","collision","SimplexVertex"];nc.prototype={set:function(a){this.wA.setV(a.wA);this.wB.setV(a.wB);this.w.setV(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB},__class__:nc};var cb=function(){};l["box2d.collision.Distance"]=
cb;cb.__name__=["box2d","collision","Distance"];cb.distance=function(a,b,d){++cb.$a;var k=d.proxyA,h=d.proxyB,c=d.transformA,q=d.transformB,e=cb.$d;e.readCache(b,k,c,h,q);var f=e.$Y,g=cb.$e,l=cb.$f,m=0;e.getClosestPoint().lengthSquared();for(var R,p=0;20>p;){m=e.$Z;R=0;for(var G=m;R<G;){var C=R++;g[C]=f[C].indexA;l[C]=f[C].indexB}switch(e.$Z){case 2:e.solve2();break;case 3:e.solve3()}if(3==e.$Z)break;R=e.getClosestPoint();R.lengthSquared();G=e.getSearchDirection();if(0>G.lengthSquared())break;R=f[e.$Z];
R.indexA=k.getSupport(z.mulTMV(c.R,G.getNegative()));R.wA=z.mulX(c,k.$Y[R.indexA]);R.indexB=h.getSupport(z.mulTMV(q.R,G));R.wB=z.mulX(q,h.$Y[R.indexB]);R.w=z.subtractVV(R.wB,R.wA);++p;++cb.$b;G=!1;for(C=0;C<m;){var x=C++;if(R.indexA==g[x]&&R.indexB==l[x]){G=!0;break}}if(G)break;++e.$Z}c=cb.$c;cb.$c=c>p?c:p;e.getWitnessPoints(a.pointA,a.pointB);a.distance=z.subtractVV(a.pointA,a.pointB).length();a.iterations=p;e.writeCache(b);d.useRadii&&(b=k.$g,h=h.$g,a.distance>b+h&&2.2250738585072014E-308<a.distance?
(a.distance-=b+h,d=z.subtractVV(a.pointB,a.pointA),d.normalize(),a.pointA.x+=b*d.x,a.pointA.y+=b*d.y,a.pointB.x-=h*d.x,a.pointB.y-=h*d.y):(R=new w,R.x=0.5*(a.pointA.x+a.pointB.x),R.y=0.5*(a.pointA.y+a.pointB.y),a.pointA.x=a.pointB.x=R.x,a.pointA.y=a.pointB.y=R.y,a.distance=0))};var Sc=function(){};l["box2d.collision.DistanceInput"]=Sc;Sc.__name__=["box2d","collision","DistanceInput"];Sc.prototype={__class__:Sc};var Tc=function(){this.pointA=new w;this.pointB=new w};l["box2d.collision.DistanceOutput"]=
Tc;Tc.__name__=["box2d","collision","DistanceOutput"];Tc.prototype={__class__:Tc};var Rb=function(){this.$Y=[]};l["box2d.collision.DistanceProxy"]=Rb;Rb.__name__=["box2d","collision","DistanceProxy"];Rb.prototype={set:function(a){switch(a.$2){case 0:this.$Y=[a.$KB];this.$Z=1;this.$g=a.$g;break;case 1:this.$Y=a.$Y,this.$Z=a.$cB,this.$g=a.$g}},getSupport:function(a){for(var b=0,d=this.$Y[0].x*a.x+this.$Y[0].y*a.y,k=1,h=this.$Z;k<h;){var c=k++,q=this.$Y[c].x*a.x+this.$Y[c].y*a.y;q>d&&(b=c,d=q)}return b},
getSupportVertex:function(a){for(var b=0,d=this.$Y[0].x*a.x+this.$Y[0].y*a.y,k=1,h=this.$Z;k<h;){var c=k++,q=this.$Y[c].x*a.x+this.$Y[c].y*a.y;q>d&&(b=c,d=q)}return this.$Y[b]},__class__:Rb};var Xe=function(){this.$m=this.$l=null;this.$o=this.$n=0};l["box2d.collision.DynamicTree"]=Xe;Xe.__name__=["box2d","collision","DynamicTree"];Xe.prototype={createProxy:function(a,b){var d=this.$h();d.aabb.lowerBound.x=a.lowerBound.x-0.1;d.aabb.lowerBound.y=a.lowerBound.y-0.1;d.aabb.upperBound.x=a.upperBound.x+
0.1;d.aabb.upperBound.y=a.upperBound.y+0.1;d.userData=b;this.$j(d);return d},destroyProxy:function(a){this.$k(a);this.$i(a)},moveProxy:function(a,b,d){if(a.aabb.contains(b))return!1;this.$k(a);var k=0.1+2*(0<d.x?d.x:-d.x);d=0.1+2*(0<d.y?d.y:-d.y);a.aabb.lowerBound.x=b.lowerBound.x-k;a.aabb.lowerBound.y=b.lowerBound.y-d;a.aabb.upperBound.x=b.upperBound.x+k;a.aabb.upperBound.y=b.upperBound.y+d;this.$j(a);return!0},getFatAABB:function(a){return a.aabb},getUserData:function(a){return a.userData},query:function(a,
b){if(null!=this.$l){var d=[],k=0;for(d[k++]=this.$l;0<k;){var h=d[--k];if(h.aabb.testOverlap(b))if(null==h.child1){if(!a(h))break}else d[k++]=h.child1,d[k++]=h.child2}}},$h:function(){if(null!=this.$m){var a=this.$m;this.$m=a.parent;a.parent=null;a.child1=null;a.child2=null;return a}return new oc},$i:function(a){a.parent=this.$m;this.$m=a},$j:function(a){++this.$o;if(null==this.$l)this.$l=a,this.$l.parent=null;else{var b=a.aabb.getCenter(),d=this.$l;if(null==d.child1==!1)for(;;){var k=d.child1,d=
d.child2,h=Math.abs((k.aabb.lowerBound.x+k.aabb.upperBound.x)/2-b.x)+Math.abs((k.aabb.lowerBound.y+k.aabb.upperBound.y)/2-b.y),c=Math.abs((d.aabb.lowerBound.x+d.aabb.upperBound.x)/2-b.x)+Math.abs((d.aabb.lowerBound.y+d.aabb.upperBound.y)/2-b.y),d=h<c?k:d;if(null==d.child1!=!1)break}b=d.parent;k=this.$h();k.parent=b;k.userData=null;k.aabb.combine(a.aabb,d.aabb);if(null!=b)for(d.parent.child1==d?b.child1=k:b.child2=k,k.child1=d,k.child2=a,d.parent=k,a.parent=k;!b.aabb.contains(k.aabb)&&(b.aabb.combine(b.child1.aabb,
b.child2.aabb),k=b,b=b.parent,null!=b););else k.child1=d,k.child2=a,d.parent=k,this.$l=a.parent=k}},$k:function(a){if(a==this.$l)this.$l=null;else{var b=a.parent,d=b.parent;a=b.child1==a?b.child2:b.child1;if(null!=d)for(d.child1==b?d.child1=a:d.child2=a,a.parent=d,this.$i(b);null!=d;){b=d.aabb;d.aabb=new bb;d.aabb.combine(d.child1.aabb,d.child2.aabb);if(b.contains(d.aabb))break;d=d.parent}else this.$l=a,a.parent=null,this.$i(b)}},__class__:Xe};var Ye=function(){};l["box2d.collision.IBroadPhase"]=
Ye;Ye.__name__=["box2d","collision","IBroadPhase"];Ye.prototype={__class__:Ye};var Uc=function(){this.$s=new Xe;this.$u=[];this.$v=[];this.$w=0};l["box2d.collision.DynamicTreeBroadPhase"]=Uc;Uc.__name__=["box2d","collision","DynamicTreeBroadPhase"];Uc.__interfaces__=[Ye];Uc.prototype={createProxy:function(a,b){var d=this.$s.createProxy(a,b);++this.$t;this.$p(d);return d},destroyProxy:function(a){this.$q(a);--this.$t;this.$s.destroyProxy(a)},moveProxy:function(a,b,d){this.$s.moveProxy(a,b,d)&&this.$p(a)},
testOverlap:function(a,b){var d=this.$s.getFatAABB(a),k=this.$s.getFatAABB(b);return d.testOverlap(k)},updatePairs:function(a){for(var b=this,d=this.$w=0,k=this.$u;d<k.length;){var h=[k[d]];++d;var c=function(a){return function(d){if(d==a[0])return!0;b.$w==b.$v.length&&(b.$v[b.$w]=new Ze);var k=b.$v[b.$w];d.$x<a[0].$x?(k.proxyA=d,k.proxyB=a[0]):(k.proxyA=a[0],k.proxyB=d);++b.$w;return!0}}(h),h=this.$s.getFatAABB(h[0]);this.$s.query(c,h)}this.$u=[];d=!0;for(k=0;d;)if(k>=this.$w)d=!1;else{var c=this.$v[k],
h=this.$s.getUserData(c.proxyA),q=this.$s.getUserData(c.proxyB);a(h,q);for(++k;k<this.$w;){h=this.$v[k];if(h.proxyA!=c.proxyA||h.proxyB!=c.proxyB)break;++k}}},$p:function(a){this.$u[this.$u.length]=a},$q:function(a){F.remove(this.$u,a)},__class__:Uc};var oc=function(){this.aabb=new bb;this.$x=oc.$y++};l["box2d.collision.DynamicTreeNode"]=oc;oc.__name__=["box2d","collision","DynamicTreeNode"];oc.prototype={__class__:oc};var Ze=function(){};l["box2d.collision.DynamicTreePair"]=Ze;Ze.__name__=["box2d",
"collision","DynamicTreePair"];Ze.prototype={__class__:Ze};var Vc=function(){this.$3=0;this.$z=[];for(var a=0;2>a;){var b=a++;this.$z[b]=new $e}this.$0=new w;this.$1=new w};l["box2d.collision.Manifold"]=Vc;Vc.__name__=["box2d","collision","Manifold"];Vc.prototype={__class__:Vc};var $e=function(){this.$1=new w;this.$6=new Qc;this.reset()};l["box2d.collision.ManifoldPoint"]=$e;$e.__name__=["box2d","collision","ManifoldPoint"];$e.prototype={reset:function(){this.$1.setZero();this.$5=this.$4=0;this.$6.set_key(0)},
__class__:$e};var af=function(){this.$1=new w;this.$9=new w};l["box2d.collision.SeparationFunction"]=af;af.__name__=["box2d","collision","SeparationFunction"];af.prototype={initialize:function(a,b,d,k,h){this.$7=b;this.$8=k;b=a.count;var c=new w,q=new w,e,f;if(1==b)this.$2=0,c=this.$7.$Y[a.indexA[0]],q=this.$8.$Y[a.indexB[0]],f=c,e=d.R,c=d.position.x+(e.col1.x*f.x+e.col2.x*f.y),d=d.position.y+(e.col1.y*f.x+e.col2.y*f.y),f=q,e=h.R,q=h.position.x+(e.col1.x*f.x+e.col2.x*f.y),h=h.position.y+(e.col1.y*
f.x+e.col2.y*f.y),this.$9.x=q-c,this.$9.y=h-d,this.$9.normalize();else{if(a.indexB[0]==a.indexB[1])this.$2=1,b=this.$7.$Y[a.indexA[0]],k=this.$7.$Y[a.indexA[1]],q=this.$8.$Y[a.indexB[0]],this.$1.x=0.5*(b.x+k.x),this.$1.y=0.5*(b.y+k.y),this.$9=z.crossVF(z.subtractVV(k,b),1),this.$9.normalize(),f=this.$9,e=d.R,b=e.col1.x*f.x+e.col2.x*f.y,k=e.col1.y*f.x+e.col2.y*f.y,f=this.$1,e=d.R,c=d.position.x+(e.col1.x*f.x+e.col2.x*f.y),d=d.position.y+(e.col1.y*f.x+e.col2.y*f.y),f=q,e=h.R,q=h.position.x+(e.col1.x*
f.x+e.col2.x*f.y),h=h.position.y+(e.col1.y*f.x+e.col2.y*f.y),a=(q-c)*b+(h-d)*k;else if(a.indexA[0]==a.indexA[0])this.$2=2,e=this.$8.$Y[a.indexB[0]],f=this.$8.$Y[a.indexB[1]],c=this.$7.$Y[a.indexA[0]],this.$1.x=0.5*(e.x+f.x),this.$1.y=0.5*(e.y+f.y),this.$9=z.crossVF(z.subtractVV(f,e),1),this.$9.normalize(),f=this.$9,e=h.R,b=e.col1.x*f.x+e.col2.x*f.y,k=e.col1.y*f.x+e.col2.y*f.y,f=this.$1,e=h.R,q=h.position.x+(e.col1.x*f.x+e.col2.x*f.y),h=h.position.y+(e.col1.y*f.x+e.col2.y*f.y),f=c,e=d.R,c=d.position.x+
(e.col1.x*f.x+e.col2.x*f.y),d=d.position.y+(e.col1.y*f.x+e.col2.y*f.y),a=(c-q)*b+(d-h)*k;else{b=this.$7.$Y[a.indexA[0]];k=this.$7.$Y[a.indexA[1]];e=this.$8.$Y[a.indexB[0]];f=this.$8.$Y[a.indexB[1]];z.mulX(d,c);c=z.mulMV(d.R,z.subtractVV(k,b));z.mulX(h,q);a=z.mulMV(h.R,z.subtractVV(f,e));h=c.x*c.x+c.y*c.y;d=a.x*a.x+a.y*a.y;var g=z.subtractVV(a,c),q=c.x*g.x+c.y*g.y,g=a.x*g.x+a.y*g.y,c=c.x*a.x+c.y*a.y,l=h*d-c*c;a=0;0!=l&&(a=z.clamp((c*g-q*d)/l,0,1));0>(c*a+g)/d&&(a=z.clamp((c-q)/h,0,1));c=new w;c.x=
b.x+a*(k.x-b.x);c.y=b.y+a*(k.y-b.y);q=new w;q.x=e.x+a*(f.x-e.x);q.y=e.y+a*(f.y-e.y);0==a||1==a?(this.$2=2,this.$9=z.crossVF(z.subtractVV(f,e),1),this.$9.normalize(),this.$1=q):(this.$2=1,this.$9=z.crossVF(z.subtractVV(k,b),1),this.$1=c)}0>a&&this.$9.negativeSelf()}},evaluate:function(a,b){var d,k,h;switch(this.$2){case 0:return d=z.mulTMV(a.R,this.$9),k=z.mulTMV(b.R,this.$9.getNegative()),d=this.$7.getSupportVertex(d),k=this.$8.getSupportVertex(k),d=z.mulX(a,d),k=z.mulX(b,k),h=(k.x-d.x)*this.$9.x+
(k.y-d.y)*this.$9.y;case 1:return h=z.mulMV(a.R,this.$9),d=z.mulX(a,this.$1),k=z.mulTMV(b.R,h.getNegative()),k=this.$8.getSupportVertex(k),k=z.mulX(b,k),h=(k.x-d.x)*h.x+(k.y-d.y)*h.y;case 2:return h=z.mulMV(b.R,this.$9),k=z.mulX(b,this.$1),d=z.mulTMV(a.R,h.getNegative()),d=this.$7.getSupportVertex(d),d=z.mulX(a,d),h=(d.x-k.x)*h.x+(d.y-k.y)*h.y}},__class__:af};var Wc=function(){this.indexA=[];this.indexB=[]};l["box2d.collision.SimplexCache"]=Wc;Wc.__name__=["box2d","collision","SimplexCache"];Wc.prototype=
{__class__:Wc};var bf=function(){this.proxyA=new Rb;this.proxyB=new Rb;this.sweepA=new Hb;this.sweepB=new Hb};l["box2d.collision.TOIInput"]=bf;bf.__name__=["box2d","collision","TOIInput"];bf.prototype={__class__:bf};var Db=function(a,b){this.position=new w;this.R=new pc;null!=a&&(this.position.setV(a),this.R.setM(b))};l["box2d.common.math.Transform"]=Db;Db.__name__=["box2d","common","math","Transform"];Db.prototype={__class__:Db};var pc=function(){this.col1=new w(1,0);this.col2=new w(0,1)};l["box2d.common.math.Mat22"]=
pc;pc.__name__=["box2d","common","math","Mat22"];pc.prototype={set:function(a){var b=Math.cos(a);a=Math.sin(a);this.col1.x=b;this.col2.x=-a;this.col1.y=a;this.col2.y=b},setM:function(a){this.col1.setV(a.col1);this.col2.setV(a.col2)},getInverse:function(a){var b=this.col1.x,d=this.col2.x,k=this.col1.y,h=this.col2.y,c=b*h-d*k;0!=c&&(c=1/c);a.col1.x=c*h;a.col2.x=-c*d;a.col1.y=-c*k;a.col2.y=c*b;return a},__class__:pc};var Q=function(){};l["box2d.collision.TimeOfImpact"]=Q;Q.__name__=["box2d","collision",
"TimeOfImpact"];Q.timeOfImpact=function(a){++Q.$$;var b=a.proxyA,d=a.proxyB,k=a.sweepA,h=a.sweepB,c=b.$g+d.$g,q=a.tolerance,e=a=0,f=0;Q.$DB.count=0;for(Q.$EB.useRadii=!1;;){k.getTransform(Q.$FB,a);h.getTransform(Q.$GB,a);Q.$EB.proxyA=b;Q.$EB.proxyB=d;Q.$EB.transformA=Q.$FB;Q.$EB.transformB=Q.$GB;cb.distance(Q.$IB,Q.$DB,Q.$EB);if(0>=Q.$IB.distance){a=1;break}Q.$HB.initialize(Q.$DB,b,Q.$FB,d,Q.$GB);var g=Q.$HB.evaluate(Q.$FB,Q.$GB);if(0>=g){a=1;break}if(0==e){if(g>c)var f=c-q,l=0.75*c;else f=g-q,l=
0.02*c;f=f>l?f:l}if(g-f<0.5*q){if(0==e){a=1;break}break}var m=l=a,R=1,p=g;k.getTransform(Q.$FB,R);h.getTransform(Q.$GB,R);var G=Q.$HB.evaluate(Q.$FB,Q.$GB);if(G>=f){a=1;break}for(g=0;;){var C;C=0!=(g&1)?m+(f-p)*(R-m)/(G-p):0.5*(m+R);k.getTransform(Q.$FB,C);h.getTransform(Q.$GB,C);var x=Q.$HB.evaluate(Q.$FB,Q.$GB);if(z.abs(x-f)<0.025*q){l=C;break}x>f?(m=C,p=x):(R=C,G=x);++g;++Q.$BB;if(50==g)break}m=Q.$CB;Q.$CB=m>g?m:g;if(l<a)break;a=l;++e;++Q.$_;if(1E3==e)break}b=Q.$AB;Q.$AB=b>e?b:e;return a};var cf=
function(){this.$JB=new w;this.$z=[];for(var a=0;2>a;){var b=a++;this.$z[b]=new w}};l["box2d.collision.WorldManifold"]=cf;cf.__name__=["box2d","collision","WorldManifold"];cf.prototype={initialize:function(a,b,d,k,h){if(0!=a.$3){var c,q,e,f,g,l,m;switch(a.$2){case 0:q=b.R;c=a.$1;e=b.position.x+q.col1.x*c.x+q.col2.x*c.y;f=b.position.y+q.col1.y*c.x+q.col2.y*c.y;q=k.R;c=a.$z[0].$1;a=k.position.x+q.col1.x*c.x+q.col2.x*c.y;c=k.position.y+q.col1.y*c.x+q.col2.y*c.y;q=a-e;k=c-f;g=q*q+k*k;0<g?(g=Math.sqrt(g),
this.$JB.x=q/g,this.$JB.y=k/g):(this.$JB.x=1,this.$JB.y=0);q=f+d*this.$JB.y;c-=h*this.$JB.y;this.$z[0].x=0.5*(e+d*this.$JB.x+(a-h*this.$JB.x));this.$z[0].y=0.5*(q+c);break;case 1:q=b.R;c=a.$0;e=q.col1.x*c.x+q.col2.x*c.y;f=q.col1.y*c.x+q.col2.y*c.y;q=b.R;c=a.$1;g=b.position.x+q.col1.x*c.x+q.col2.x*c.y;l=b.position.y+q.col1.y*c.x+q.col2.y*c.y;this.$JB.x=e;this.$JB.y=f;b=0;for(var R=a.$3;b<R;){var p=b++;q=k.R;c=a.$z[p].$1;m=k.position.x+q.col1.x*c.x+q.col2.x*c.y;c=k.position.y+q.col1.y*c.x+q.col2.y*
c.y;this.$z[p].x=m+0.5*(d-(m-g)*e-(c-l)*f-h)*e;this.$z[p].y=c+0.5*(d-(m-g)*e-(c-l)*f-h)*f}break;case 2:for(q=k.R,c=a.$0,e=q.col1.x*c.x+q.col2.x*c.y,f=q.col1.y*c.x+q.col2.y*c.y,q=k.R,c=a.$1,g=k.position.x+q.col1.x*c.x+q.col2.x*c.y,l=k.position.y+q.col1.y*c.x+q.col2.y*c.y,this.$JB.x=-e,this.$JB.y=-f,k=0,R=a.$3;k<R;)p=k++,q=b.R,c=a.$z[p].$1,m=b.position.x+q.col1.x*c.x+q.col2.x*c.y,c=b.position.y+q.col1.y*c.x+q.col2.y*c.y,this.$z[p].x=m+0.5*(h-(m-g)*e-(c-l)*f-d)*e,this.$z[p].y=c+0.5*(h-(m-g)*e-(c-l)*
f-d)*f}}},__class__:cf};var Qa=function(){this.$2=-1;this.$g=0.005};l["box2d.collision.shapes.Shape"]=Qa;Qa.__name__=["box2d","collision","shapes","Shape"];Qa.testOverlap=function(a,b,d,k){var c=new Sc;c.proxyA=new Rb;c.proxyA.set(a);c.proxyB=new Rb;c.proxyB.set(d);c.transformA=b;c.transformB=k;c.useRadii=!0;a=new Wc;a.count=0;b=new Tc;cb.distance(b,a,c);return 2.2250738585072014E-307>b.distance};Qa.prototype={copy:function(){return null},set:function(a){this.$g=a.$g},computeAABB:function(a,b){},
computeMass:function(a,b){},__class__:Qa};var qc=function(a){null==a&&(a=0);Qa.call(this);this.$KB=new w;this.$2=0;this.$g=a};l["box2d.collision.shapes.CircleShape"]=qc;qc.__name__=["box2d","collision","shapes","CircleShape"];qc.__super__=Qa;qc.prototype=t(Qa.prototype,{copy:function(){var a=new qc;a.set(this);return a},set:function(a){Qa.prototype.set.call(this,a);0==a.$2&&this.$KB.setV(a.$KB)},computeAABB:function(a,b){var d=b.R,k=b.position.x+(d.col1.x*this.$KB.x+d.col2.x*this.$KB.y),d=b.position.y+
(d.col1.y*this.$KB.x+d.col2.y*this.$KB.y);a.lowerBound.set(k-this.$g,d-this.$g);a.upperBound.set(k+this.$g,d+this.$g)},computeMass:function(a,b){a.mass=3.141592653589793*b*this.$g*this.$g;a.center.setV(this.$KB);a.I=a.mass*(0.5*this.$g*this.$g+(this.$KB.x*this.$KB.x+this.$KB.y*this.$KB.y))},__class__:qc});var df=function(){};l["box2d.collision.shapes.EdgeShape"]=df;df.__name__=["box2d","collision","shapes","EdgeShape"];df.__super__=Qa;df.prototype=t(Qa.prototype,{computeAABB:function(a,b){var d=b.R,
k=b.position.x+(d.col1.x*this.$V.x+d.col2.x*this.$V.y),c=b.position.y+(d.col1.y*this.$V.x+d.col2.y*this.$V.y),n=b.position.x+(d.col1.x*this.$W.x+d.col2.x*this.$W.y),d=b.position.y+(d.col1.y*this.$W.x+d.col2.y*this.$W.y);k<n?(a.lowerBound.x=k,a.upperBound.x=n):(a.lowerBound.x=n,a.upperBound.x=k);c<d?(a.lowerBound.y=c,a.upperBound.y=d):(a.lowerBound.y=d,a.upperBound.y=c)},computeMass:function(a,b){a.mass=0;a.center.setV(this.$V);a.I=0},__class__:df});var ef=function(){this.mass=0;this.center=new w(0,
0);this.I=0};l["box2d.collision.shapes.MassData"]=ef;ef.__name__=["box2d","collision","shapes","MassData"];ef.prototype={__class__:ef};var xa=function(){Qa.call(this);this.$2=1;this.$aB=new w;this.$Y=[];this.$bB=[]};l["box2d.collision.shapes.PolygonShape"]=xa;xa.__name__=["box2d","collision","shapes","PolygonShape"];xa.asArray=function(a,b){null==b&&(b=0);var d=new xa;d.setAsArray(a,b);return d};xa.asOrientedBox=function(a,b,d,k){null==k&&(k=0);var c=new xa;c.setAsOrientedBox(a,b,d,k);return c};xa.computeCentroid=
function(a,b){for(var d=new w,k=0,c=0;c<b;){var n=c++,q=a[n],n=n+1<b?a[n+1]:a[0],e=0.5*((q.x-0)*(n.y-0)-(q.y-0)*(n.x-0)),k=k+e;d.x+=0.3333333333333333*e*(0+q.x+n.x);d.y+=0.3333333333333333*e*(0+q.y+n.y)}d.x*=1/k;d.y*=1/k;return d};xa.__super__=Qa;xa.prototype=t(Qa.prototype,{copy:function(){var a=new xa;a.set(this);return a},set:function(a){Qa.prototype.set.call(this,a);if(1==a.$2){this.$aB.setV(a.$aB);this.$cB=a.$cB;this.$ZB(this.$cB);for(var b=0,d=this.$cB;b<d;){var k=b++;this.$Y[k].setV(a.$Y[k]);
this.$bB[k].setV(a.$bB[k])}}},setAsArray:function(a,b){null==b&&(b=0);0==b&&(b=a.length);this.$cB=b;this.$ZB(b);for(var d=0,k=this.$cB;d<k;){var c=d++;this.$Y[c].setV(a[c])}d=0;for(k=this.$cB;d<k;){var c=d++,n=z.subtractVV(this.$Y[c+1<this.$cB?c+1:0],this.$Y[c]);n.lengthSquared();this.$bB[c].setV(z.crossVF(n,1));this.$bB[c].normalize()}this.$aB=xa.computeCentroid(this.$Y,this.$cB)},setAsOrientedBox:function(a,b,d,k){null==k&&(k=0);this.$cB=4;this.$ZB(4);this.$Y[0].set(-a,-b);this.$Y[1].set(a,-b);
this.$Y[2].set(a,b);this.$Y[3].set(-a,b);this.$bB[0].set(0,-1);this.$bB[1].set(1,0);this.$bB[2].set(0,1);this.$bB[3].set(-1,0);this.$aB=d;a=new Db;a.position=d;a.R.set(k);d=0;for(k=this.$cB;d<k;)b=d++,this.$Y[b]=z.mulX(a,this.$Y[b]),this.$bB[b]=z.mulMV(a.R,this.$bB[b])},computeAABB:function(a,b){for(var d=b.R,k=this.$Y[0],c=b.position.x+(d.col1.x*k.x+d.col2.x*k.y),n=b.position.y+(d.col1.y*k.x+d.col2.y*k.y),q=c,e=n,f=1,g=this.$cB;f<g;){var l=f++,k=this.$Y[l],l=b.position.x+(d.col1.x*k.x+d.col2.x*k.y),
k=b.position.y+(d.col1.y*k.x+d.col2.y*k.y);c<l||(c=l);n<k||(n=k);q>l||(q=l);e>k||(e=k)}a.lowerBound.x=c-this.$g;a.lowerBound.y=n-this.$g;a.upperBound.x=q+this.$g;a.upperBound.y=e+this.$g},computeMass:function(a,b){if(2==this.$cB)a.center.x=0.5*(this.$Y[0].x+this.$Y[1].x),a.center.y=0.5*(this.$Y[0].y+this.$Y[1].y),a.mass=0,a.I=0;else{for(var d=0,k=0,c=0,n=0,q=0,e=this.$cB;q<e;)var f=q++,g=this.$Y[f],l=f+1<this.$cB?this.$Y[f+1]:this.$Y[0],m=g.x-0,R=g.y-0,p=l.x-0,G=l.y-0,f=m*G-R*p,C=0.5*f,c=c+C,d=d+
0.3333333333333333*C*(0+g.x+l.x),k=k+0.3333333333333333*C*(0+g.y+l.y),g=m,n=n+f*(0.3333333333333333*(0.25*(g*g+p*g+p*p)+(0*g+0*p))+0+(0.3333333333333333*(0.25*(R*R+G*R+G*G)+(0*R+0*G))+0));a.mass=b*c;a.center.set(1/c*d,1/c*k);a.I=b*n}},$ZB:function(a){for(var b=this.$Y.length;b<a;){var d=b++;this.$Y[d]=new w;this.$bB[d]=new w}},__class__:xa});var Xc=function(){};l["box2d.common.Settings"]=Xc;Xc.__name__=["box2d","common","Settings"];Xc.mixFriction=function(a,b){return Math.sqrt(a*b)};Xc.mixRestitution=
function(a,b){return a>b?a:b};var z=function(){};l["box2d.common.math.B2Math"]=z;z.__name__=["box2d","common","math","B2Math"];z.dot=function(a,b){return a.x*b.x+a.y*b.y};z.crossVV=function(a,b){return a.x*b.y-a.y*b.x};z.crossVF=function(a,b){return new w(b*a.y,-b*a.x)};z.crossFV=function(a,b){return new w(-a*b.y,a*b.x)};z.mulMV=function(a,b){return new w(a.col1.x*b.x+a.col2.x*b.y,a.col1.y*b.x+a.col2.y*b.y)};z.mulTMV=function(a,b){return new w(z.dot(b,a.col1),z.dot(b,a.col2))};z.mulX=function(a,b){var d=
z.mulMV(a.R,b);d.x+=a.position.x;d.y+=a.position.y;return d};z.subtractVV=function(a,b){return new w(a.x-b.x,a.y-b.y)};z.abs=function(a){return 0<a?a:-a};z.clamp=function(a,b,d){return a<b?b:a>d?d:a};var Hb=function(){this.localCenter=new w;this.c0=new w;this.c=new w};l["box2d.common.math.Sweep"]=Hb;Hb.__name__=["box2d","common","math","Sweep"];Hb.prototype={set:function(a){this.localCenter.setV(a.localCenter);this.c0.setV(a.c0);this.c.setV(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0},getTransform:function(a,
b){a.position.x=(1-b)*this.c0.x+b*this.c.x;a.position.y=(1-b)*this.c0.y+b*this.c.y;a.R.set((1-b)*this.a0+b*this.a);var d=a.R;a.position.x-=d.col1.x*this.localCenter.x+d.col2.x*this.localCenter.y;a.position.y-=d.col1.y*this.localCenter.x+d.col2.y*this.localCenter.y},advance:function(a){if(this.t0<a&&2.2250738585072014E-308<1-this.t0){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x;this.c0.y=(1-b)*this.c0.y+b*this.c.y;this.a0=(1-b)*this.a0+b*this.a;this.t0=a}},__class__:Hb};var rc=
function(a,b){this.$7B=null;this.$iB=new Db;this.$jB=new Hb;this.$kB=new w;this.$mB=new w;this.$gB=0;a.bullet&&(this.$gB|=8);a.fixedRotation&&(this.$gB|=16);a.allowSleep&&(this.$gB|=4);a.awake&&(this.$gB|=2);a.active&&(this.$gB|=32);this.$oB=b;this.$iB.position.setV(a.position);this.$iB.R.set(a.angle);this.$jB.localCenter.setZero();this.$jB.t0=1;this.$jB.a0=this.$jB.a=a.angle;var d=this.$iB.R,k=this.$jB.localCenter;this.$jB.c.x=d.col1.x*k.x+d.col2.x*k.y;this.$jB.c.y=d.col1.y*k.x+d.col2.y*k.y;this.$jB.c.x+=
this.$iB.position.x;this.$jB.c.y+=this.$iB.position.y;this.$jB.c0.setV(this.$jB.c);this.$wB=this.$tB=this.$vB=null;this.$uB=0;this.$qB=this.$pB=null;this.$kB.setV(a.linearVelocity);this.$lB=a.angularVelocity;this.$3B=a.linearDamping;this.$4B=a.angularDamping;this.$mB.set(0,0);this.$5B=this.$nB=0;this.$2=a.type;this.$yB=2==this.$2?this.$xB=1:this.$xB=0;this.$0B=this.$zB=0;this.$1B=a.inertiaScale;this.$2B=a.gravityScale;this.$6B=a.userData;this.$rB=null;this.$sB=0};l["box2d.dynamics.Body"]=rc;rc.__name__=
["box2d","dynamics","Body"];rc.prototype={createFixture:function(a){if(0!=(this.$oB.$gB&2)==!0)return null;var b=new ff;b.create(this,this.$iB,a);0!=(this.$gB&32)&&b.createProxy(this.$oB.$jC.$DC,this.$iB);b.$qB=this.$rB;this.$rB=b;++this.$sB;b.$NC=this;0<b.$MC&&this.resetMassData();this.$oB.$gB|=1;return b},setPositionAndAngle:function(a,b){var d;if(0!=(this.$oB.$gB&2)!=!0){this.$iB.R.set(b);this.$iB.position.setV(a);d=this.$iB.R;var k=this.$jB.localCenter;this.$jB.c.x=d.col1.x*k.x+d.col2.x*k.y;this.$jB.c.y=
d.col1.y*k.x+d.col2.y*k.y;this.$jB.c.x+=this.$iB.position.x;this.$jB.c.y+=this.$iB.position.y;this.$jB.c0.setV(this.$jB.c);this.$jB.a0=this.$jB.a=b;k=this.$oB.$jC.$DC;for(d=this.$rB;null!=d;)d.synchronize(k,this.$iB,this.$iB),d=d.$qB;this.$oB.$jC.findNewContacts()}},setPosition:function(a){this.setPositionAndAngle(a,this.$jB.a)},setLinearVelocity:function(a){0!=this.$2&&this.$kB.setV(a)},applyImpulse:function(a,b){2==this.$2&&(0!=(this.$gB&2)==!1&&this.setAwake(!0),this.$kB.x+=this.$yB*a.x,this.$kB.y+=
this.$yB*a.y,this.$lB+=this.$0B*((b.x-this.$jB.c.x)*a.y-(b.y-this.$jB.c.y)*a.x))},resetMassData:function(){this.$0B=this.$zB=this.$yB=this.$xB=0;this.$jB.localCenter.setZero();if(0!=this.$2&&1!=this.$2){for(var a=w.make(0,0),b=this.$rB;null!=b;){if(0!=b.$MC){var d=b.getMassData();this.$xB+=d.mass;a.x+=d.center.x*d.mass;a.y+=d.center.y*d.mass;this.$zB+=d.I}b=b.$qB}0<this.$xB?(this.$yB=1/this.$xB,a.x*=this.$yB,a.y*=this.$yB):this.$yB=this.$xB=1;0<this.$zB&&0==(this.$gB&16)?(this.$zB-=this.$xB*(a.x*
a.x+a.y*a.y),this.$zB*=this.$1B,this.$0B=1/this.$zB):this.$0B=this.$zB=0;b=this.$jB.c.copy();this.$jB.localCenter.setV(a);this.$jB.c0.setV(z.mulX(this.$iB,this.$jB.localCenter));this.$jB.c.setV(this.$jB.c0);this.$kB.x+=this.$lB*-(this.$jB.c.y-b.y);this.$kB.y+=this.$lB*(this.$jB.c.x-b.x)}},setType:function(a){if(this.$2!=a)for(this.$2=a,this.resetMassData(),0==this.$2&&(this.$kB.setZero(),this.$lB=0),this.setAwake(!0),this.$mB.setZero(),this.$nB=0,a=this.$wB;null!=a;)a.contact.flagForFiltering(),a=
a.next},setAwake:function(a){a?(this.$gB|=2,this.$5B=0):(this.$gB&=-3,this.$5B=0,this.$kB.setZero(),this.$lB=0,this.$mB.setZero(),this.$nB=0)},setActive:function(a){if(a!=(0!=(this.$gB&32))){var b;if(a)for(this.$gB|=32,a=this.$oB.$jC.$DC,b=this.$rB;null!=b;)b.createProxy(a,this.$iB),b=b.$qB;else{this.$gB&=-33;a=this.$oB.$jC.$DC;for(b=this.$rB;null!=b;)b.destroyProxy(a),b=b.$qB;for(a=this.$wB;null!=a;)b=a,a=a.next,this.$oB.$jC.destroy(b.contact);this.$wB=null}}},synchronizeFixtures:function(){var a=
rc.$8B;a.R.set(this.$jB.a0);var b=a.R,d=this.$jB.localCenter;a.position.x=this.$jB.c0.x-(b.col1.x*d.x+b.col2.x*d.y);a.position.y=this.$jB.c0.y-(b.col1.y*d.x+b.col2.y*d.y);d=this.$oB.$jC.$DC;for(b=this.$rB;null!=b;)b.synchronize(d,a,this.$iB),b=b.$qB},synchronizeTransform:function(){this.$iB.R.set(this.$jB.a);var a=this.$iB.R,b=this.$jB.localCenter;this.$iB.position.x=this.$jB.c.x-(a.col1.x*b.x+a.col2.x*b.y);this.$iB.position.y=this.$jB.c.y-(a.col1.y*b.x+a.col2.y*b.y)},shouldCollide:function(a){if(2!=
this.$2&&2!=a.$2)return!1;for(var b=this.$vB;null!=b;){if(b.other==a&&!1==b.joint.$VD)return!1;b=b.next}return!0},advance:function(a){this.$jB.advance(a);this.$jB.c.setV(this.$jB.c0);this.$jB.a=this.$jB.a0;this.synchronizeTransform()},__class__:rc};var Yc=function(){this.position=new w;this.linearVelocity=new w;this.userData=null;this.angularDamping=this.linearDamping=this.angularVelocity=this.angle=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=0;this.active=!0;this.gravityScale=
this.inertiaScale=1};l["box2d.dynamics.BodyDef"]=Yc;Yc.__name__=["box2d","dynamics","BodyDef"];Yc.prototype={__class__:Yc};var sc=function(){};l["box2d.dynamics.ContactFilter"]=sc;sc.__name__=["box2d","dynamics","ContactFilter"];sc.prototype={shouldCollide:function(a,b){var d=a.$SC,k=b.$SC;return d.groupIndex==k.groupIndex&&0!=d.groupIndex?0<d.groupIndex:0!=(d.maskBits&k.categoryBits)&&0!=(d.categoryBits&k.maskBits)},__class__:sc};var gf=function(){this.normalImpulses=[];this.tangentImpulses=[]};
l["box2d.dynamics.ContactImpulse"]=gf;gf.__name__=["box2d","dynamics","ContactImpulse"];gf.prototype={__class__:gf};var Ib=function(){};l["box2d.dynamics.ContactListener"]=Ib;Ib.__name__=["box2d","dynamics","ContactListener"];Ib.prototype={beginContact:function(a){},endContact:function(a){},preSolve:function(a,b){},postSolve:function(a,b){},__class__:Ib};var jf=function(){this.$oB=null;this.$EC=0;this.$FC=sc.defaultFilter;this.$GC=Ib.defaultListener;this.$HC=new hf(this.$IC);this.$DC=new Uc};l["box2d.dynamics.ContactManager"]=
jf;jf.__name__=["box2d","dynamics","ContactManager"];jf.prototype={addPair:function(a,b){var d=a,k=b,c=d.$NC,n=k.$NC;if(c!=n){for(var q=n.$wB;null!=q;){if(q.other==c){var e=q.contact.$4C,f=q.contact.$5C;if(e==d&&f==k||e==k&&f==d)return}q=q.next}!1!=n.shouldCollide(c)&&!1!=this.$FC.shouldCollide(d,k)&&(q=this.$HC.create(d,k),d=q.$4C,k=q.$5C,c=d.$NC,n=k.$NC,q.$pB=null,q.$qB=this.$oB.$wB,null!=this.$oB.$wB&&(this.$oB.$wB.$pB=q),this.$oB.$wB=q,q.$2C.contact=q,q.$2C.other=n,q.$2C.prev=null,q.$2C.next=
c.$wB,null!=c.$wB&&(c.$wB.prev=q.$2C),c.$wB=q.$2C,q.$3C.contact=q,q.$3C.other=c,q.$3C.prev=null,q.$3C.next=n.$wB,null!=n.$wB&&(n.$wB.prev=q.$3C),n.$wB=q.$3C,++this.$oB.$EC)}},findNewContacts:function(){this.$DC.updatePairs(L(this,this.addPair))},destroy:function(a){var b=a.$4C.$NC,d=a.$5C.$NC;0!=(a.$gB&16)&&this.$GC.endContact(a);null!=a.$pB&&(a.$pB.$qB=a.$qB);null!=a.$qB&&(a.$qB.$pB=a.$pB);a==this.$oB.$wB&&(this.$oB.$wB=a.$qB);null!=a.$2C.prev&&(a.$2C.prev.next=a.$2C.next);null!=a.$2C.next&&(a.$2C.next.prev=
a.$2C.prev);a.$2C==b.$wB&&(b.$wB=a.$2C.next);null!=a.$3C.prev&&(a.$3C.prev.next=a.$3C.next);null!=a.$3C.next&&(a.$3C.next.prev=a.$3C.prev);a.$3C==d.$wB&&(d.$wB=a.$3C.next);this.$HC.destroy(a);--this.$EC},collide:function(){for(var a=this.$oB.$wB;null!=a;){var b=a.$4C,d=a.$5C,k=b.$NC,c=d.$NC;if(0!=(k.$gB&2)==!1&&0!=(c.$gB&2)==!1)a=a.$qB;else{if(0!=(a.$gB&64)){if(!1==c.shouldCollide(k)){b=a;a=b.$qB;this.destroy(b);continue}if(!1==this.$FC.shouldCollide(b,d)){b=a;a=b.$qB;this.destroy(b);continue}a.$gB&=
-65}!1==this.$DC.testOverlap(b.$RC,d.$RC)?(b=a,a=b.$qB,this.destroy(b)):(a.update(this.$GC),a=a.$qB)}}},__class__:jf};var ig=function(){};l["box2d.dynamics.DestructionListener"]=ig;ig.__name__=["box2d","dynamics","DestructionListener"];ig.prototype={sayGoodbyeJoint:function(a){},sayGoodbyeFixture:function(a){},__class__:ig};var tc=function(){this.categoryBits=1;this.maskBits=65535;this.groupIndex=0};l["box2d.dynamics.FilterData"]=tc;tc.__name__=["box2d","dynamics","FilterData"];tc.prototype={copy:function(){var a=
new tc;a.categoryBits=this.categoryBits;a.maskBits=this.maskBits;a.groupIndex=this.groupIndex;return a},__class__:tc};var ff=function(){this.$SC=new tc;this.$LC=new bb;this.$OC=this.$qB=this.$NC=this.$6B=null;this.$QC=this.$PC=this.$MC=0};l["box2d.dynamics.Fixture"]=ff;ff.__name__=["box2d","dynamics","Fixture"];ff.prototype={getMassData:function(a){null==a&&(a=new ef);this.$OC.computeMass(a,this.$MC);return a},create:function(a,b,d){this.$6B=d.userData;this.$PC=d.friction;this.$QC=d.restitution;this.$NC=
a;this.$qB=null;this.$SC=d.filter.copy();this.$TC=d.isSensor;this.$OC=d.shape.copy();this.$MC=d.density},destroy:function(){this.$OC=null},createProxy:function(a,b){this.$OC.computeAABB(this.$LC,b);this.$RC=a.createProxy(this.$LC,this)},destroyProxy:function(a){null!=this.$RC&&(a.destroyProxy(this.$RC),this.$RC=null)},synchronize:function(a,b,d){if(null!=this.$RC){var k=new bb,c=new bb;this.$OC.computeAABB(k,b);this.$OC.computeAABB(c,d);this.$LC.combine(k,c);b=z.subtractVV(d.position,b.position);
a.moveProxy(this.$RC,this.$LC,b)}},__class__:ff};var Zc=function(){this.filter=new tc;this.userData=this.shape=null;this.friction=0.2;this.density=this.restitution=0;this.filter.categoryBits=1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=!1};l["box2d.dynamics.FixtureDef"]=Zc;Zc.__name__=["box2d","dynamics","FixtureDef"];Zc.prototype={__class__:Zc};var Sb=function(){this.$WC=[];this.$XC=[];this.$YC=[]};l["box2d.dynamics.Island"]=Sb;Sb.__name__=["box2d","dynamics","Island"];Sb.prototype=
{initialize:function(a,b,d,k,c,n){this.$bC=a;this.$cC=b;this.$dC=d;this.$aC=this.$EC=this.$ZC=0;this.$IC=k;this.$UC=c;this.$VC=n;for(k=this.$WC.length;k<a;)c=k++,this.$WC[c]=null;for(a=this.$XC.length;a<b;)k=a++,this.$XC[k]=null;for(b=this.$YC.length;b<d;)a=b++,this.$YC[a]=null},clear:function(){this.$aC=this.$EC=this.$ZC=0},solve:function(a,b,d){for(var k,c=0,n=this.$ZC;c<n;)k=c++,k=this.$WC[k],2==k.$2&&(k.$kB.x+=a.dt*(k.$2B*b.x+k.$yB*k.$mB.x),k.$kB.y+=a.dt*(k.$2B*b.y+k.$yB*k.$mB.y),k.$lB+=a.dt*
k.$0B*k.$nB,k.$kB.multiply(z.clamp(1-a.dt*k.$3B,0,1)),k.$lB*=z.clamp(1-a.dt*k.$4B,0,1));this.$VC.initialize(a,this.$XC,this.$EC,this.$IC);b=this.$VC;b.initVelocityConstraints(a);c=0;for(n=this.$aC;c<n;)k=c++,k=this.$YC[k],k.initVelocityConstraints(a);c=0;for(n=a.velocityIterations;c<n;){c++;for(var q=0,e=this.$aC;q<e;)k=q++,k=this.$YC[k],k.solveVelocityConstraints(a);b.solveVelocityConstraints()}c=0;for(n=this.$aC;c<n;)k=c++,k=this.$YC[k],k.finalizeVelocityConstraints();b.finalizeVelocityConstraints();
c=0;for(n=this.$ZC;c<n;)k=c++,k=this.$WC[k],0!=k.$2&&(q=a.dt*k.$kB.x,e=a.dt*k.$kB.y,4<q*q+e*e&&(k.$kB.normalize(),k.$kB.x=2*k.$kB.x*a.inv_dt,k.$kB.y=2*k.$kB.y*a.inv_dt),q=a.dt*k.$lB,2.4674011002723395<q*q&&(k.$lB=0>k.$lB?-1.5707963267948966*a.inv_dt:1.5707963267948966*a.inv_dt),k.$jB.c0.setV(k.$jB.c),k.$jB.a0=k.$jB.a,k.$jB.c.x+=a.dt*k.$kB.x,k.$jB.c.y+=a.dt*k.$kB.y,k.$jB.a+=a.dt*k.$lB,k.synchronizeTransform());c=0;for(n=a.positionIterations;c<n;){c++;for(var q=b.solvePositionConstraints(0.2),e=!0,
f=0,g=this.$aC;f<g;)k=f++,k=this.$YC[k],k=k.solvePositionConstraints(0.2),e=e?k:!1;if(q&&e)break}this.report(b.$KD);if(d){d=1.7976931348623157E308;b=0;for(c=this.$ZC;b<c;)k=b++,k=this.$WC[k],0!=k.$2&&(0==(k.$gB&4)&&(d=k.$5B=0),0==(k.$gB&4)||0.0012184696791468343<k.$lB*k.$lB||1E-4<z.dot(k.$kB,k.$kB)?d=k.$5B=0:(k=k.$5B+=a.dt,d<k||(d=k)));if(0.5<=d)for(a=0,d=this.$ZC;a<d;)b=a++,k=this.$WC[b],k.setAwake(!1)}},solveTOI:function(a){this.$VC.initialize(a,this.$XC,this.$EC,this.$IC);for(var b=this.$VC,d=
0,k=this.$aC;d<k;){var c=d++;this.$YC[c].initVelocityConstraints(a)}d=0;for(k=a.velocityIterations;d<k;){d++;b.solveVelocityConstraints();for(var c=0,n=this.$aC;c<n;){var q=c++;this.$YC[q].solveVelocityConstraints(a)}}d=0;for(k=this.$ZC;d<k;)c=d++,c=this.$WC[c],0!=c.$2&&(n=a.dt*c.$kB.x,q=a.dt*c.$kB.y,4<n*n+q*q&&(c.$kB.normalize(),c.$kB.x=2*c.$kB.x*a.inv_dt,c.$kB.y=2*c.$kB.y*a.inv_dt),n=a.dt*c.$lB,2.4674011002723395<n*n&&(c.$lB=0>c.$lB?-1.5707963267948966*a.inv_dt:1.5707963267948966*a.inv_dt),c.$jB.c0.setV(c.$jB.c),
c.$jB.a0=c.$jB.a,c.$jB.c.x+=a.dt*c.$kB.x,c.$jB.c.y+=a.dt*c.$kB.y,c.$jB.a+=a.dt*c.$lB,c.synchronizeTransform());d=0;for(a=a.positionIterations;d<a;){d++;k=b.solvePositionConstraints(0.75);c=!0;n=0;for(q=this.$aC;n<q;)var e=n++,e=this.$YC[e].solvePositionConstraints(0.2),c=c?e:!1;if(k&&c)break}this.report(b.$KD)},report:function(a){if(null!=this.$UC)for(var b=0,d=this.$EC;b<d;){for(var k=b++,c=this.$XC[k],k=a[k],n=0,q=k.pointCount;n<q;){var e=n++;Sb.$eC.normalImpulses[e]=k.points[e].normalImpulse;Sb.$eC.tangentImpulses[e]=
k.points[e].tangentImpulse}this.$UC.postSolve(c,Sb.$eC)}},addBody:function(a){a.$hB=this.$ZC;this.$WC[this.$ZC++]=a},addContact:function(a){this.$XC[this.$EC++]=a},addJoint:function(a){this.$YC[this.$aC++]=a},__class__:Sb};var uc=function(){};l["box2d.dynamics.TimeStep"]=uc;uc.__name__=["box2d","dynamics","TimeStep"];uc.prototype={set:function(a){this.dt=a.dt;this.inv_dt=a.inv_dt;this.positionIterations=a.positionIterations;this.velocityIterations=a.velocityIterations;this.warmStarting=a.warmStarting},
__class__:uc};var Aa=function(a,b){this.$fC=[];this.$jC=new jf;this.$VC=new La;this.$kC=new Sb;this.$tB=this.$vB=this.$wB=this.$lC=this.$pC=null;this.$uB=this.$aC=this.$EC=this.$ZC=0;Aa.$xC=!0;Aa.$yC=!0;this.$nC=b;this.$mC=a;this.$qC=0;this.$jC.$oB=this;var d=new Yc;this.$oC=this.createBody(d)};l["box2d.dynamics.World"]=Aa;Aa.__name__=["box2d","dynamics","World"];Aa.prototype={createBody:function(a){if(0!=(this.$gB&2)==!0)return null;a=new rc(a,this);a.$pB=null;a.$qB=this.$lC;null!=this.$lC&&(this.$lC.$pB=
a);this.$lC=a;++this.$ZC;return a},destroyBody:function(a){if(0!=(this.$gB&2)!=!0){for(var b=a.$vB;null!=b;){var d=b,b=b.next;null!=this.$pC&&this.$pC.sayGoodbyeJoint(d.joint);this.destroyJoint(d.joint)}for(b=a.$tB;null!=b;)d=b,b=b.nextController,d.controller.removeBody(a);for(b=a.$wB;null!=b;)d=b,b=b.next,this.$jC.destroy(d.contact);a.$wB=null;for(b=a.$rB;null!=b;)d=b,b=b.$qB,null!=this.$pC&&this.$pC.sayGoodbyeFixture(d),d.destroyProxy(this.$jC.$DC),d.destroy();a.$rB=null;a.$sB=0;null!=a.$pB&&(a.$pB.$qB=
a.$qB);null!=a.$qB&&(a.$qB.$pB=a.$pB);a==this.$lC&&(this.$lC=a.$qB);--this.$ZC}},destroyJoint:function(a){var b=a.$VD;null!=a.$pB&&(a.$pB.$qB=a.$qB);null!=a.$qB&&(a.$qB.$pB=a.$pB);a==this.$vB&&(this.$vB=a.$qB);var d=a.$SD,k=a.$TD;d.setAwake(!0);k.setAwake(!0);null!=a.$QD.prev&&(a.$QD.prev.next=a.$QD.next);null!=a.$QD.next&&(a.$QD.next.prev=a.$QD.prev);a.$QD==d.$vB&&(d.$vB=a.$QD.next);a.$QD.prev=null;a.$QD.next=null;null!=a.$RD.prev&&(a.$RD.prev.next=a.$RD.next);null!=a.$RD.next&&(a.$RD.next.prev=
a.$RD.prev);a.$RD==k.$vB&&(k.$vB=a.$RD.next);a.$RD.prev=null;a.$RD.next=null;$c.destroy(a,null);--this.$aC;if(!1==b)for(a=k.$wB;null!=a;)a.other==d&&a.contact.flagForFiltering(),a=a.next},step:function(a,b,d){0!=(this.$gB&1)&&(this.$jC.findNewContacts(),this.$gB&=-2);this.$gB|=2;var k=Aa.$rC;k.dt=a;k.velocityIterations=b;k.positionIterations=d;k.inv_dt=0<a?1/a:0;k.dtRatio=this.$qC*a;k.warmStarting=Aa.$xC;this.$jC.collide();0<k.dt&&this.solve(k);Aa.$yC&&0<k.dt&&this.solveTOI(k);0<k.dt&&(this.$qC=k.inv_dt);
this.$gB&=-3},clearForces:function(){for(var a=this.$lC;null!=a;)a.$mB.setZero(),a.$nB=0,a=a.$qB},solve:function(a){for(var b,d=this.$tB;null!=d;)d.step(a),d=d.$qB;var k=this.$kC;k.initialize(this.$ZC,this.$EC,this.$aC,null,this.$jC.$GC,this.$VC);for(b=this.$lC;null!=b;)b.$gB&=-2,b=b.$qB;for(d=this.$wB;null!=d;)d.$gB&=-5,d=d.$qB;for(d=this.$vB;null!=d;)d.$UD=!1,d=d.$qB;for(var d=this.$fC,c=this.$lC;null!=c;){if(0==(c.$gB&1)&&0!=(c.$gB&2)!=!1&&0!=(c.$gB&32)!=!1&&0!=c.$2){k.clear();var n=0;d[n++]=c;
for(c.$gB|=1;0<n;)if(b=d[--n],k.addBody(b),0!=(b.$gB&2)==!1&&b.setAwake(!0),0!=b.$2){for(var q,e=b.$wB;null!=e;)0==(e.contact.$gB&4)&&0!=(e.contact.$gB&1)!=!0&&0!=(e.contact.$gB&32)!=!1&&0!=(e.contact.$gB&16)!=!1&&(k.addContact(e.contact),e.contact.$gB|=4,q=e.other,0==(q.$gB&1)&&(d[n++]=q,q.$gB|=1)),e=e.next;for(b=b.$vB;null!=b;)!0!=b.joint.$UD&&(q=b.other,0!=(q.$gB&32)!=!1&&(k.addJoint(b.joint),b.joint.$UD=!0,0==(q.$gB&1)&&(d[n++]=q,q.$gB|=1))),b=b.next}k.solve(a,this.$mC,this.$nC);n=0;for(q=k.$ZC;n<
q;)b=n++,b=k.$WC[b],0==b.$2&&(b.$gB&=-2)}c=c.$qB}a=0;for(k=d.length;a<k;){c=a++;if(null==d[c])break;d[c]=null}for(b=this.$lC;null!=b;)0!=(b.$gB&2)!=!1&&0!=(b.$gB&32)!=!1&&0!=b.$2&&b.synchronizeFixtures(),b=b.$qB;this.$jC.findNewContacts()},solveTOI:function(a){var b,d,k,c,n=this.$kC;n.initialize(this.$ZC,32,32,null,this.$jC.$GC,this.$VC);var q=Aa.$wC;for(b=this.$lC;null!=b;)b.$gB&=-2,b.$jB.t0=0,b=b.$qB;for(b=this.$wB;null!=b;)b.$gB&=-13,b=b.$qB;for(c=this.$vB;null!=c;)c.$UD=!1,c=c.$qB;for(;;){c=null;
var e=1;for(b=this.$wB;null!=b;){if(0!=(b.$gB&1)!=!0&&0!=(b.$gB&32)!=!1&&0!=(b.$gB&2)!=!1){d=1;if(0!=(b.$gB&8))d=b.$8C;else{d=b.$4C;k=b.$5C;d=d.$NC;k=k.$NC;if(!(2==d.$2&&0!=(d.$gB&2)!=!1||2==k.$2&&0!=(k.$gB&2)!=!1)){b=b.$qB;continue}var f=d.$jB.t0;d.$jB.t0<k.$jB.t0?(f=k.$jB.t0,d.$jB.advance(f)):k.$jB.t0<d.$jB.t0&&(f=d.$jB.t0,k.$jB.advance(f));d=b.computeTOI(d.$jB,k.$jB);0<d&&1>d&&(d=(1-d)*f+d,1<d&&(d=1));b.$8C=d;b.$gB|=8}2.2250738585072014E-308<d&&d<e&&(c=b,e=d)}b=b.$qB}if(null==c||1<e)break;d=c.$4C;
k=c.$5C;d=d.$NC;k=k.$NC;Aa.$tC.set(d.$jB);Aa.$uC.set(k.$jB);d.advance(e);k.advance(e);c.update(this.$jC.$GC);c.$gB&=-9;if(0!=(c.$gB&1)==!0||0!=(c.$gB&32)==!1)d.$jB.set(Aa.$tC),k.$jB.set(Aa.$uC),d.synchronizeTransform(),k.synchronizeTransform();else if(0!=(c.$gB&16)!=!1){b=d;2!=b.$2&&(b=k);n.clear();k=d=0;q[d+k++]=b;for(b.$gB|=1;0<k;)if(b=q[d++],--k,n.addBody(b),0!=(b.$gB&2)==!1&&b.setAwake(!0),2==b.$2){for(c=b.$wB;null!=c&&n.$EC!=n.$cC;)0==(c.contact.$gB&4)&&0!=(c.contact.$gB&1)!=!0&&0!=(c.contact.$gB&
32)!=!1&&0!=(c.contact.$gB&16)!=!1&&(n.addContact(c.contact),c.contact.$gB|=4,f=c.other,0==(f.$gB&1)&&(0!=f.$2&&(f.advance(e),f.setAwake(!0)),q[d+k]=f,++k,f.$gB|=1)),c=c.next;for(b=b.$vB;null!=b;)n.$aC!=n.$dC&&!0!=b.joint.$UD&&(f=b.other,0!=(f.$gB&32)!=!1&&(n.addJoint(b.joint),b.joint.$UD=!0,0==(f.$gB&1)&&(0!=f.$2&&(f.advance(e),f.setAwake(!0)),q[d+k]=f,++k,f.$gB|=1))),b=b.next}b=Aa.$vC;b.warmStarting=!1;b.dt=(1-e)*a.dt;b.inv_dt=1/b.dt;b.dtRatio=0;b.velocityIterations=a.velocityIterations;b.positionIterations=
a.positionIterations;n.solveTOI(b);e=0;for(d=n.$ZC;e<d;)if(b=e++,b=n.$WC[b],b.$gB&=-2,0!=(b.$gB&2)!=!1&&2==b.$2)for(b.synchronizeFixtures(),c=b.$wB;null!=c;)c.contact.$gB&=-9,c=c.next;e=0;for(c=n.$EC;e<c;)b=e++,b=n.$XC[b],b.$gB&=-13;e=0;for(b=n.$aC;e<b;)c=e++,c=n.$YC[c],c.$UD=!1;this.$jC.findNewContacts()}}},__class__:Aa};var ga=function(){this.$2C=new ad;this.$3C=new ad;this.$6C=new Vc;this.$7C=new Vc};l["box2d.dynamics.contacts.Contact"]=ga;ga.__name__=["box2d","dynamics","contacts","Contact"];
ga.prototype={flagForFiltering:function(){this.$gB|=64},$1C:function(a,b){this.$gB=32;if(null==a||null==b)this.$5C=this.$4C=null;else{if(a.$TC||b.$TC)this.$gB|=1;var d=a.$NC,k=b.$NC;if(2!=d.$2||0!=(d.$gB&8)||2!=k.$2||0!=(k.$gB&8))this.$gB|=2;this.$4C=a;this.$5C=b;this.$6C.$3=0;this.$qB=this.$pB=null;this.$2C.contact=null;this.$2C.prev=null;this.$2C.next=null;this.$2C.other=null;this.$3C.contact=null;this.$3C.prev=null;this.$3C.next=null;this.$3C.other=null}},update:function(a){var b=this.$7C;this.$7C=
this.$6C;this.$6C=b;this.$gB|=32;var b=!1,d=0!=(this.$gB&16),k=this.$4C.$NC,c=this.$5C.$NC,n=this.$4C.$LC.testOverlap(this.$5C.$LC);if(0!=(this.$gB&1))n&&(b=Qa.testOverlap(this.$4C.$OC,k.$iB,this.$5C.$OC,c.$iB)),this.$6C.$3=0;else{this.$gB=2!=k.$2||0!=(k.$gB&8)||2!=c.$2||0!=(c.$gB&8)?this.$gB|2:this.$gB&-3;if(n){this.evaluate();for(var b=0<this.$6C.$3,n=0,q=this.$6C.$3;n<q;){var e=n++,e=this.$6C.$z[e];e.$4=0;e.$5=0;for(var f=e.$6,g=0,l=this.$7C.$3;g<l;){var m=g++,m=this.$7C.$z[m];if(m.$6.$A==f.$A){e.$4=
m.$4;e.$5=m.$5;break}}}}else this.$6C.$3=0;b!=d&&(k.setAwake(!0),c.setAwake(!0))}this.$gB=b?this.$gB|16:this.$gB&-17;!1==d&&!0==b&&a.beginContact(this);!0==d&&!1==b&&a.endContact(this);0==(this.$gB&1)&&a.preSolve(this,this.$7C)},evaluate:function(){},computeTOI:function(a,b){ga.$DD.proxyA.set(this.$4C.$OC);ga.$DD.proxyB.set(this.$5C.$OC);ga.$DD.sweepA=a;ga.$DD.sweepB=b;ga.$DD.tolerance=0.005;return Q.timeOfImpact(ga.$DD)},__class__:ga};var Ra=function(){ga.call(this)};l["box2d.dynamics.contacts.CircleContact"]=
Ra;Ra.__name__=["box2d","dynamics","contacts","CircleContact"];Ra.create=function(a){return new Ra};Ra.destroy=function(a,b){};Ra.__super__=ga;Ra.prototype=t(ga.prototype,{reset:function(a,b){ga.prototype.$1C.call(this,a,b)},evaluate:function(){P.collideCircles(this.$6C,this.$4C.$OC,this.$4C.$NC.$iB,this.$5C.$OC,this.$5C.$NC.$iB)},__class__:Ra});var lf=function(){this.localPlaneNormal=new w;this.localPoint=new w;this.normal=new w;this.normalMass=new pc;this.K=new pc;this.points=[];for(var a=0;2>a;){var b=
a++;this.points[b]=new kf}};l["box2d.dynamics.contacts.ContactConstraint"]=lf;lf.__name__=["box2d","dynamics","contacts","ContactConstraint"];lf.prototype={__class__:lf};var kf=function(){this.localPoint=new w;this.rA=new w;this.rB=new w};l["box2d.dynamics.contacts.ContactConstraintPoint"]=kf;kf.__name__=["box2d","dynamics","contacts","ContactConstraintPoint"];kf.prototype={__class__:kf};var ad=function(){};l["box2d.dynamics.contacts.ContactEdge"]=ad;ad.__name__=["box2d","dynamics","contacts","ContactEdge"];
ad.prototype={__class__:ad};var hf=function(a){this.$IC=a;this.initializeRegisters()};l["box2d.dynamics.contacts.ContactFactory"]=hf;hf.__name__=["box2d","dynamics","contacts","ContactFactory"];hf.prototype={addType:function(a,b,d,k){this.$ED[d][k].createFcn=a;this.$ED[d][k].destroyFcn=b;this.$ED[d][k].primary=!0;d!=k&&(this.$ED[k][d].createFcn=a,this.$ED[k][d].destroyFcn=b,this.$ED[k][d].primary=!1)},initializeRegisters:function(){this.$ED=[];for(var a=0;3>a;){var b=a++;this.$ED[b]=[];for(var d=
0;3>d;){var k=d++;this.$ED[b][k]=new mf}}this.addType(Ra.create,Ra.destroy,0,0);this.addType(Jb.create,Jb.destroy,1,0);this.addType(Kb.create,Kb.destroy,1,1);this.addType(Lb.create,Lb.destroy,2,0);this.addType(Mb.create,Mb.destroy,1,2)},create:function(a,b){var d=this.$ED[a.$OC.$2][b.$OC.$2],k;if(null!=d.pool)return k=d.pool,d.pool=k.$qB,k.$1C(a,b),k;k=d.createFcn;return null!=k?(d.primary?(k=k(this.$IC),k.$1C(a,b)):(k=k(this.$IC),k.$1C(b,a)),k):null},destroy:function(a){0<a.$6C.$3&&(a.$4C.$NC.setAwake(!0),
a.$5C.$NC.setAwake(!0));var b=this.$ED[a.$4C.$OC.$2][a.$5C.$OC.$2];a.$qB=b.pool;b.pool=a;b=b.destroyFcn;b(a,this.$IC)},__class__:hf};var mf=function(){};l["box2d.dynamics.contacts.ContactRegister"]=mf;mf.__name__=["box2d","dynamics","contacts","ContactRegister"];mf.prototype={__class__:mf};var nf=function(){this.$JB=new w;this.$GD=[];this.$z=[];for(var a=0;2>a;){var b=a++;this.$z[b]=new w}};l["box2d.dynamics.contacts.PositionSolverManifold"]=nf;nf.__name__=["box2d","dynamics","contacts","PositionSolverManifold"];
nf.prototype={initialize:function(a){var b,d,k,c,n;switch(a.type){case 0:k=a.bodyA.$iB.R;d=a.localPoint;b=a.bodyA.$iB.position.x+(k.col1.x*d.x+k.col2.x*d.y);c=a.bodyA.$iB.position.y+(k.col1.y*d.x+k.col2.y*d.y);k=a.bodyB.$iB.R;d=a.points[0].localPoint;n=a.bodyB.$iB.position.x+(k.col1.x*d.x+k.col2.x*d.y);k=a.bodyB.$iB.position.y+(k.col1.y*d.x+k.col2.y*d.y);d=n-b;var q=k-c,e=d*d+q*q;0<e?(e=Math.sqrt(e),this.$JB.x=d/e,this.$JB.y=q/e):(this.$JB.x=1,this.$JB.y=0);this.$z[0].x=0.5*(b+n);this.$z[0].y=0.5*
(c+k);this.$GD[0]=d*this.$JB.x+q*this.$JB.y-a.radius;break;case 1:k=a.bodyA.$iB.R;d=a.localPlaneNormal;this.$JB.x=k.col1.x*d.x+k.col2.x*d.y;this.$JB.y=k.col1.y*d.x+k.col2.y*d.y;k=a.bodyA.$iB.R;d=a.localPoint;c=a.bodyA.$iB.position.x+(k.col1.x*d.x+k.col2.x*d.y);n=a.bodyA.$iB.position.y+(k.col1.y*d.x+k.col2.y*d.y);k=a.bodyB.$iB.R;q=0;for(e=a.pointCount;q<e;){var f=q++;d=a.points[f].localPoint;b=a.bodyB.$iB.position.x+(k.col1.x*d.x+k.col2.x*d.y);d=a.bodyB.$iB.position.y+(k.col1.y*d.x+k.col2.y*d.y);this.$GD[f]=
(b-c)*this.$JB.x+(d-n)*this.$JB.y-a.radius;this.$z[f].x=b;this.$z[f].y=d}break;case 2:k=a.bodyB.$iB.R;d=a.localPlaneNormal;this.$JB.x=k.col1.x*d.x+k.col2.x*d.y;this.$JB.y=k.col1.y*d.x+k.col2.y*d.y;k=a.bodyB.$iB.R;d=a.localPoint;c=a.bodyB.$iB.position.x+(k.col1.x*d.x+k.col2.x*d.y);n=a.bodyB.$iB.position.y+(k.col1.y*d.x+k.col2.y*d.y);k=a.bodyA.$iB.R;q=0;for(e=a.pointCount;q<e;)f=q++,d=a.points[f].localPoint,b=a.bodyA.$iB.position.x+(k.col1.x*d.x+k.col2.x*d.y),d=a.bodyA.$iB.position.y+(k.col1.y*d.x+
k.col2.y*d.y),this.$GD[f]=(b-c)*this.$JB.x+(d-n)*this.$JB.y-a.radius,this.$z[f].set(b,d);this.$JB.x*=-1;this.$JB.y*=-1}},__class__:nf};var La=function(){this.$JD=new uc;this.$KD=[]};l["box2d.dynamics.contacts.ContactSolver"]=La;La.__name__=["box2d","dynamics","contacts","ContactSolver"];La.prototype={initialize:function(a,b,d,k){var c;this.$JD.set(a);this.$IC=k;for(this.$LD=d;this.$KD.length<this.$LD;)this.$KD[this.$KD.length]=new lf;for(a=0;a<d;){k=a++;c=b[k];var n=c.$4C,q=c.$5C,e=n.$OC.$g,f=q.$OC.$g,
g=n.$NC,l=q.$NC;c=c.$6C;var m=Xc.mixFriction(n.$PC,q.$PC),R=Xc.mixRestitution(n.$QC,q.$QC),p=g.$kB.x,G=g.$kB.y,C=l.$kB.x,x=l.$kB.y,t=g.$lB,s=l.$lB;La.$MD.initialize(c,g.$iB,e,l.$iB,f);n=La.$MD.$JB.x;q=La.$MD.$JB.y;k=this.$KD[k];k.bodyA=g;k.bodyB=l;k.manifold=c;k.normal.x=n;k.normal.y=q;k.pointCount=c.$3;k.friction=m;k.restitution=R;k.localPlaneNormal.x=c.$0.x;k.localPlaneNormal.y=c.$0.y;k.localPoint.x=c.$1.x;k.localPoint.y=c.$1.y;k.radius=e+f;k.type=c.$2;e=0;for(f=k.pointCount;e<f;){var r=e++,R=c.$z[r],
m=k.points[r];m.normalImpulse=R.$4;m.tangentImpulse=R.$5;m.localPoint.setV(R.$1);var R=m.rA.x=La.$MD.$z[r].x-g.$jB.c.x,u=m.rA.y=La.$MD.$z[r].y-g.$jB.c.y,y=m.rB.x=La.$MD.$z[r].x-l.$jB.c.x,r=m.rB.y=La.$MD.$z[r].y-l.$jB.c.y,z=R*q-u*n,w=y*q-r*n,z=z*z,w=w*w;m.normalMass=1/(g.$yB+l.$yB+g.$0B*z+l.$0B*w);var v=g.$xB*g.$yB+l.$xB*l.$yB,v=v+(g.$xB*g.$0B*z+l.$xB*l.$0B*w);m.equalizedMass=1/v;w=q;v=-n;z=R*v-u*w;w=y*v-r*w;z*=z;w*=w;m.tangentMass=1/(g.$yB+l.$yB+g.$0B*z+l.$0B*w);m.velocityBias=0;R=k.normal.x*(C+-s*
r-p- -t*u)+k.normal.y*(x+s*y-G-t*R);-1>R&&(m.velocityBias+=-k.restitution*R)}2==k.pointCount&&(x=k.points[0],C=k.points[1],c=g.$yB,g=g.$0B,p=l.$yB,l=l.$0B,G=x.rA.x*q-x.rA.y*n,x=x.rB.x*q-x.rB.y*n,t=C.rA.x*q-C.rA.y*n,C=C.rB.x*q-C.rB.y*n,n=c+p+g*G*G+l*x*x,q=c+p+g*t*t+l*C*C,l=c+p+g*G*t+l*x*C,n*n<100*(n*q-l*l)?(k.K.col1.set(n,l),k.K.col2.set(l,q),k.K.getInverse(k.normalMass)):k.pointCount=1)}},initVelocityConstraints:function(a){for(var b=0,d=this.$LD;b<d;){var k=b++,k=this.$KD[k],c=k.bodyA,n=k.bodyB,
q=c.$yB,e=c.$0B,f=n.$yB,g=n.$0B,l=k.normal.x,m=k.normal.y,p=m,t=-l,G;if(a.warmStarting){G=k.pointCount;for(var C=0;C<G;){var x=C++,x=k.points[x];x.normalImpulse*=a.dtRatio;x.tangentImpulse*=a.dtRatio;var r=x.normalImpulse*l+x.tangentImpulse*p,s=x.normalImpulse*m+x.tangentImpulse*t;c.$lB-=e*(x.rA.x*s-x.rA.y*r);c.$kB.x-=q*r;c.$kB.y-=q*s;n.$lB+=g*(x.rB.x*s-x.rB.y*r);n.$kB.x+=f*r;n.$kB.y+=f*s}}else for(G=k.pointCount,c=0,n=G;c<n;)q=c++,q=k.points[q],q.normalImpulse=0,q.tangentImpulse=0}},solveVelocityConstraints:function(){for(var a,
b,d,k,c,n,q,e,f,g,l=0,m=this.$LD;l<m;){var p=l++;k=this.$KD[p];var p=k.bodyA,t=k.bodyB,G=p.$lB,C=t.$lB,x=p.$kB,r=t.$kB,s=p.$yB,w=p.$0B,u=t.$yB,y=t.$0B;e=k.normal.x;var v=f=k.normal.y,A=-e;g=k.friction;q=0;for(n=k.pointCount;q<n;)a=q++,a=k.points[a],b=r.x-C*a.rB.y-x.x+G*a.rA.y,d=r.y+C*a.rB.x-x.y-G*a.rA.x,b=b*v+d*A,b=a.tangentMass*-b,d=g*a.normalImpulse,d=z.clamp(a.tangentImpulse+b,-d,d),b=d-a.tangentImpulse,c=b*v,b*=A,x.x-=s*c,x.y-=s*b,G-=w*(a.rA.x*b-a.rA.y*c),r.x+=u*c,r.y+=u*b,C+=y*(a.rB.x*b-a.rB.y*
c),a.tangentImpulse=d;if(1==k.pointCount)a=k.points[0],b=r.x+-C*a.rB.y-x.x- -G*a.rA.y,d=r.y+C*a.rB.x-x.y-G*a.rA.x,k=b*e+d*f,b=-a.normalMass*(k-a.velocityBias),d=a.normalImpulse+b,0<d||(d=0),b=d-a.normalImpulse,c=b*e,b*=f,x.x-=s*c,x.y-=s*b,G-=w*(a.rA.x*b-a.rA.y*c),r.x+=u*c,r.y+=u*b,C+=y*(a.rB.x*b-a.rB.y*c),a.normalImpulse=d;else{a=k.points[0];v=k.points[1];n=a.normalImpulse;q=v.normalImpulse;c=(r.x-C*a.rB.y-x.x+G*a.rA.y)*e+(r.y+C*a.rB.x-x.y-G*a.rA.x)*f;var B=(r.x-C*v.rB.y-x.x+G*v.rA.y)*e+(r.y+C*v.rB.x-
x.y-G*v.rA.x)*f;b=c-a.velocityBias;d=B-v.velocityBias;g=k.K;b-=g.col1.x*n+g.col2.x*q;for(d-=g.col1.y*n+g.col2.y*q;;){g=k.normalMass;A=-(g.col1.x*b+g.col2.x*d);g=-(g.col1.y*b+g.col2.y*d);if(0<=A&&0<=g){n=A-n;q=g-q;k=n*e;n*=f;e*=q;f*=q;x.x-=s*(k+e);x.y-=s*(n+f);G-=w*(a.rA.x*n-a.rA.y*k+v.rA.x*f-v.rA.y*e);r.x+=u*(k+e);r.y+=u*(n+f);C+=y*(a.rB.x*n-a.rB.y*k+v.rB.x*f-v.rB.y*e);a.normalImpulse=A;v.normalImpulse=g;break}A=-a.normalMass*b;g=0;B=k.K.col1.y*A+d;if(0<=A&&0<=B){n=A-n;q=g-q;k=n*e;n*=f;e*=q;f*=q;
x.x-=s*(k+e);x.y-=s*(n+f);G-=w*(a.rA.x*n-a.rA.y*k+v.rA.x*f-v.rA.y*e);r.x+=u*(k+e);r.y+=u*(n+f);C+=y*(a.rB.x*n-a.rB.y*k+v.rB.x*f-v.rB.y*e);a.normalImpulse=A;v.normalImpulse=g;break}A=0;g=-v.normalMass*d;c=k.K.col2.x*g+b;if(0<=g&&0<=c){n=A-n;q=g-q;k=n*e;n*=f;e*=q;f*=q;x.x-=s*(k+e);x.y-=s*(n+f);G-=w*(a.rA.x*n-a.rA.y*k+v.rA.x*f-v.rA.y*e);r.x+=u*(k+e);r.y+=u*(n+f);C+=y*(a.rB.x*n-a.rB.y*k+v.rB.x*f-v.rB.y*e);a.normalImpulse=A;v.normalImpulse=g;break}g=A=0;c=b;B=d;if(0<=c&&0<=B){n=A-n;q=g-q;k=n*e;n*=f;e*=
q;f*=q;x.x-=s*(k+e);x.y-=s*(n+f);G-=w*(a.rA.x*n-a.rA.y*k+v.rA.x*f-v.rA.y*e);r.x+=u*(k+e);r.y+=u*(n+f);C+=y*(a.rB.x*n-a.rB.y*k+v.rB.x*f-v.rB.y*e);a.normalImpulse=A;v.normalImpulse=g;break}break}}p.$lB=G;t.$lB=C}},finalizeVelocityConstraints:function(){for(var a=0,b=this.$LD;a<b;)for(var d=a++,d=this.$KD[d],k=d.manifold,c=0,n=d.pointCount;c<n;){var q=c++,e=k.$z[q],q=d.points[q];e.$4=q.normalImpulse;e.$5=q.tangentImpulse}},solvePositionConstraints:function(a){for(var b=0,d=0,k=this.$LD;d<k;){var c=d++,
c=this.$KD[c],n=c.bodyA,q=c.bodyB,e=n.$xB*n.$yB,f=n.$xB*n.$0B,g=q.$xB*q.$yB,l=q.$xB*q.$0B;La.$ND.initialize(c);for(var m=La.$ND.$JB,p=0,r=c.pointCount;p<r;){var G=p++,C=c.points[G],x=La.$ND.$z[G],s=La.$ND.$GD[G],G=x.x-n.$jB.c.x,t=x.y-n.$jB.c.y,v=x.x-q.$jB.c.x,x=x.y-q.$jB.c.y;b<s||(b=s);s=z.clamp(a*(s+0.005),-0.2,0);s*=-C.equalizedMass;C=s*m.x;s*=m.y;n.$jB.c.x-=e*C;n.$jB.c.y-=e*s;n.$jB.a-=f*(G*s-t*C);n.synchronizeTransform();q.$jB.c.x+=g*C;q.$jB.c.y+=g*s;q.$jB.a+=l*(v*s-x*C);q.synchronizeTransform()}}return-0.0075<
b},__class__:La};var Lb=function(){ga.call(this)};l["box2d.dynamics.contacts.EdgeAndCircleContact"]=Lb;Lb.__name__=["box2d","dynamics","contacts","EdgeAndCircleContact"];Lb.create=function(a){return new Lb};Lb.destroy=function(a,b){};Lb.__super__=ga;Lb.prototype=t(ga.prototype,{reset:function(a,b){ga.prototype.$1C.call(this,a,b)},evaluate:function(){this.$OD(this.$6C,this.$4C.$OC,this.$4C.$NC.$iB,this.$5C.$OC,this.$5C.$NC.$iB)},$OD:function(a,b,d,k,c){},__class__:Lb});var Jb=function(){ga.call(this)};
l["box2d.dynamics.contacts.PolyAndCircleContact"]=Jb;Jb.__name__=["box2d","dynamics","contacts","PolyAndCircleContact"];Jb.create=function(a){return new Jb};Jb.destroy=function(a,b){};Jb.__super__=ga;Jb.prototype=t(ga.prototype,{reset:function(a,b){ga.prototype.$1C.call(this,a,b)},evaluate:function(){P.collidePolygonAndCircle(this.$6C,this.$4C.$OC,this.$4C.$NC.$iB,this.$5C.$OC,this.$5C.$NC.$iB)},__class__:Jb});var Mb=function(){ga.call(this)};l["box2d.dynamics.contacts.PolyAndEdgeContact"]=Mb;Mb.__name__=
["box2d","dynamics","contacts","PolyAndEdgeContact"];Mb.create=function(a){return new Mb};Mb.destroy=function(a,b){};Mb.__super__=ga;Mb.prototype=t(ga.prototype,{reset:function(a,b){ga.prototype.$1C.call(this,a,b)},evaluate:function(){this.$PD(this.$6C,this.$4C.$OC,this.$4C.$NC.$iB,this.$5C.$OC,this.$5C.$NC.$iB)},$PD:function(a,b,d,k,c){},__class__:Mb});var Kb=function(){ga.call(this)};l["box2d.dynamics.contacts.PolygonContact"]=Kb;Kb.__name__=["box2d","dynamics","contacts","PolygonContact"];Kb.create=
function(a){return new Kb};Kb.destroy=function(a,b){};Kb.__super__=ga;Kb.prototype=t(ga.prototype,{reset:function(a,b){ga.prototype.$1C.call(this,a,b)},evaluate:function(){P.collidePolygons(this.$6C,this.$4C.$OC,this.$4C.$NC.$iB,this.$5C.$OC,this.$5C.$NC.$iB)},__class__:Kb});var jg=function(){};l["box2d.dynamics.controllers.Controller"]=jg;jg.__name__=["box2d","dynamics","controllers","Controller"];jg.prototype={step:function(a){},removeBody:function(a){for(var b=a.$tB;null!=b&&b.controller!=this;)b=
b.nextController;null!=b.prevBody&&(b.prevBody.nextBody=b.nextBody);null!=b.nextBody&&(b.nextBody.prevBody=b.prevBody);null!=b.nextController&&(b.nextController.prevController=b.prevController);null!=b.prevController&&(b.prevController.nextController=b.nextController);this.$lC==b&&(this.$lC=b.nextBody);a.$tB==b&&(a.$tB=b.nextController);a.$uB--;this.$ZC--},__class__:jg};var kg=function(){};l["box2d.dynamics.controllers.ControllerEdge"]=kg;kg.__name__=["box2d","dynamics","controllers","ControllerEdge"];
kg.prototype={__class__:kg};var $c=function(){};l["box2d.dynamics.joints.Joint"]=$c;$c.__name__=["box2d","dynamics","joints","Joint"];$c.destroy=function(a,b){};$c.prototype={initVelocityConstraints:function(a){},solveVelocityConstraints:function(a){},finalizeVelocityConstraints:function(){},solvePositionConstraints:function(a){return!1},__class__:$c};var lg=function(){};l["box2d.dynamics.joints.JointEdge"]=lg;lg.__name__=["box2d","dynamics","joints","JointEdge"];lg.prototype={__class__:lg};var vc=
function(){};l["haxe.IMap"]=vc;vc.__name__=["haxe","IMap"];vc.prototype={__class__:vc};var Wa=function(){this.buf=new Cb;this.cache=[];this.useCache=Wa.USE_CACHE;this.useEnumIndex=Wa.USE_ENUM_INDEX;this.shash=new da;this.scount=0};l["haxe.Serializer"]=Wa;Wa.__name__=["haxe","Serializer"];Wa.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=K[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,
d=this.scount++;null!=K[a]?b.setReserved(a,d):b.h[a]=d;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=v.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,d=0,k=this.cache.length;d<k;){var c=d++,n=this.cache[c];if(typeof n==b&&n==a)return this.buf.b+="r",this.buf.b+=null==c?"null":""+c,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,d=la.fields(a);b<d.length;){var k=d[b];++b;this.serializeString(k);this.serialize(la.field(a,
k))}this.buf.b+="g"},serialize:function(a){var b=fa["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(ea.__instanceof(a,Kg))a=fa.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(ea.__instanceof(a,Lg))this.buf.b+="B",this.serializeString(fa.getEnumName(a));
else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new A("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var d=0,k=a.length;d<k;){var c=d++;null==a[c]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[c]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=
null==b?"null":""+b));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=v.string(a.getTime());break;case Pc:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Ia:this.buf.b+="q";for(b=a.keys();b.hasNext();)d=b.next(),this.buf.b+=":",this.buf.b+=null==d?"null":""+d,this.serialize(a.h[d]);this.buf.b+="h";break;case ra:this.buf.b+="M";for(b=a.keys();b.hasNext();)d=b.next(),k=la.field(d,"__id__"),la.deleteField(d,"__id__"),this.serialize(d),d.__id__=
k,this.serialize(a.h[d.__id__]);this.buf.b+="h";break;case da:this.buf.b+="b";for(b=a.keys();b.hasNext();)d=b.next(),this.serializeString(d),this.serialize(null!=K[d]?a.getReserved(d):a.h[d]);this.buf.b+="h";break;case Xa:this.buf.b+="s";this.buf.b+=v.string(Math.ceil(8*a.length/6));this.buf.b+=":";d=0;k=a.length-2;b=Wa.BASE64_CODES;if(null==b){for(var b=Array(Wa.BASE64.length),c=0,n=Wa.BASE64.length;c<n;){var q=c++;b[q]=F.cca(Wa.BASE64,q)}Wa.BASE64_CODES=b}for(;d<k;)c=a.b[d++],n=a.b[d++],q=a.b[d++],
this.buf.b+=String.fromCharCode(b[c>>2]),this.buf.b+=String.fromCharCode(b[(c<<4|n>>4)&63]),this.buf.b+=String.fromCharCode(b[(n<<2|q>>6)&63]),this.buf.b+=String.fromCharCode(b[q&63]);d==k?(k=a.b[d++],a=a.b[d++],this.buf.b+=String.fromCharCode(b[k>>2]),this.buf.b+=String.fromCharCode(b[(k<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):d==k+1&&(a=a.b[d++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),
null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(fa.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(fa.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=v.string(this.useEnumIndex?"j":"w");this.serializeString(fa.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=v.string(a[1])):
this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=v.string(b-2);for(d=2;d<b;)k=d++,this.serialize(a[k]);this.useCache&&this.cache.push(a);break;default:throw new A("Cannot serialize "+v.string(a));}},__class__:Wa};var bd=function(){};l["haxe._Unserializer.DefaultResolver"]=bd;bd.__name__=["haxe","_Unserializer","DefaultResolver"];bd.prototype={resolveClass:function(a){return fa.resolveClass(a)},resolveEnum:function(a){return fa.resolveEnum(a)},__class__:bd};var ha=function(a){this.buf=
a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=ha.DEFAULT_RESOLVER;null==a&&(a=new bd,ha.DEFAULT_RESOLVER=a);this.resolver=a};l["haxe.Unserializer"]=ha;ha.__name__=["haxe","Unserializer"];ha.initCodes=function(){for(var a=[],b=0,d=ha.BASE64.length;b<d;){var k=b++;a[ha.BASE64.charCodeAt(k)]=k}return a};ha.run=function(a){return(new ha(a)).unserialize()};ha.prototype={readDigits:function(){for(var a=0,b=!1,d=this.pos;;){var k=this.buf.charCodeAt(this.pos);if(k!=k)break;if(45==k){if(this.pos!=
d)break;b=!0}else{if(48>k||57<k)break;a=10*a+(k-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(F.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new A("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new A("Invalid object key");var d=
this.unserialize();a[b]=d}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new A("Invalid enum format");var d=this.readDigits();if(0==d)return fa.createEnum(a,b);for(var k=[];0<d--;)k.push(this.unserialize());return fa.createEnum(a,b,k)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new A("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);
if(null==b)throw new A("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new A("Class not found "+a);a=fa.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new A("Invalid custom data");return a;case 77:a=new ra;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new A("Invalid string reference");
return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new da;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),d=this.unserialize();null!=K[b]?a.setReserved(b,d):a.h[b]=d}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new A("Class not found "+
a);a=fa.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new A("Enum not found "+a);this.pos++;var d=this.readDigits(),k=b.__constructs__.slice()[d];if(null==k)throw new A("Unknown enum index "+a+"@"+d);a=this.unserializeEnum(b,k);this.cache.push(a);return a;case 107:return NaN;case 108:a=new Pc;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Ia;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),d=this.unserialize(),a.h[b]=d,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new A("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new A("Invalid reference");
return this.cache[a];case 115:a=this.readDigits();k=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new A("Invalid bytes length");var c=ha.CODES;null==c&&(c=ha.initCodes(),ha.CODES=c);for(var n=this.pos,q=a&3,e=n+(a-q),b=new Xa(new ArrayBuffer(3*(a>>2)+(2<=q?q-1:0))),d=0;n<e;){var f=c[k.charCodeAt(n++)],g=c[k.charCodeAt(n++)];b.b[d++]=(f<<2|g>>4)&255;f=c[k.charCodeAt(n++)];b.b[d++]=(g<<4|f>>2)&255;g=c[k.charCodeAt(n++)];b.b[d++]=(f<<6|g)&255}2<=q&&(g=c[k.charCodeAt(n++)],
e=c[k.charCodeAt(n++)],b.b[d++]=(g<<2|e>>4)&255,3==q&&(k=c[k.charCodeAt(n++)],b.b[d++]=(e<<4|k>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+
4)?(a=F.strDate(F.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new A("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw A.wrap(this.unserialize());case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new A("Invalid string length");b=F.substr(this.buf,this.pos,a);this.pos+=
a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new A("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:ha};var Ia=function(){this.h={}};l["haxe.ds.IntMap"]=Ia;Ia.__name__=["haxe","ds","IntMap"];Ia.__interfaces__=[vc];Ia.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];
return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return F.iter(a)},__class__:Ia};var ra=function(){this.h={__keys__:{}}};l["haxe.ds.ObjectMap"]=ra;ra.__name__=["haxe","ds","ObjectMap"];ra.__interfaces__=[vc];ra.assignId=function(a){return a.__id__=++ra.count};ra.getId=function(a){return a.__id__};ra.prototype={set:function(a,b){var d=a.__id__||(a.__id__=++ra.count);this.h[d]=b;this.h.__keys__[d]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=
this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return F.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:ra};var jb=function(a,b){this.map=a;this.keys=b;this.index=
0;this.count=b.length};l["haxe.ds._StringMap.StringMapIterator"]=jb;jb.__name__=["haxe","ds","_StringMap","StringMapIterator"];jb.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=K[b]?a.getReserved(b):a.h[b]},__class__:jb};var da=function(){this.h={}};l["haxe.ds.StringMap"]=da;da.__name__=["haxe","ds","StringMap"];da.__interfaces__=[vc];da.prototype={set:function(a,b){null!=K[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=
K[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=K[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},keys:function(){return F.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==
b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new jb(this,this.arrayKeys())},__class__:da};var Xa=function(a){this.length=a.byteLength;this.b=new Uint8Array(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};l["haxe.io.Bytes"]=Xa;Xa.__name__=["haxe","io","Bytes"];Xa.alloc=function(a){return new Xa(new ArrayBuffer(a))};Xa.ofString=function(a){for(var b=[],d=0;d<a.length;){var k=a.charCodeAt(d++);55296<=k&&56319>=k&&(k=k-55232<<10|a.charCodeAt(d++)&1023);127>=k?b.push(k):
(2047>=k?b.push(192|k>>6):(65535>=k?b.push(224|k>>12):(b.push(240|k>>18),b.push(128|k>>12&63)),b.push(128|k>>6&63)),b.push(128|k&63))}return new Xa((new Uint8Array(b)).buffer)};Xa.ofData=function(a){var b=a.hxBytes;return null!=b?b:new Xa(a)};Xa.fastGet=function(a,b){return a.bytes[b]};Xa.prototype={__class__:Xa};var mg=function(){};l["haxe.io.FPHelper"]=mg;mg.__name__=["haxe","io","FPHelper"];mg.i32ToFloat=function(a){var b=a>>>23&255,d=a&8388607;return 0==d&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,
-23)*d)*Math.pow(2,b-127)};mg.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,d=Math.floor(Math.log(b)/0.6931471805599453);-127>d?d=-127:128<d&&(d=128);b=Math.round(8388608*(b/Math.pow(2,d)-1));8388608==b&&128>d&&(b=0,++d);return(0>a?-2147483648:0)|d+127<<23|b};var cd=function(){};l["haxe.rtti.Meta"]=cd;cd.__name__=["haxe","rtti","Meta"];cd.getType=function(a){a=cd.getMeta(a);return null==a||null==a.obj?{}:a.obj};cd.getMeta=function(a){return a.__meta__};var of=function(a){this.__x=a};l["haxe.xml._Fast.NodeAccess"]=
of;of.__name__=["haxe","xml","_Fast","NodeAccess"];of.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b){if(this.__x.nodeType==u.Document)b="Document";else{b=this.__x;if(b.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+b.nodeType);b=b.nodeName}throw new A(b+" is missing element "+a);}return new Zb(b)},__class__:of};var pf=function(a){this.__x=a};l["haxe.xml._Fast.AttribAccess"]=pf;pf.__name__=["haxe","xml","_Fast","AttribAccess"];pf.prototype=
{resolve:function(a){if(this.__x.nodeType==u.Document)throw new A("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b){b=this.__x;if(b.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+b.nodeType);throw new A(b.nodeName+" is missing attribute "+a);}return b},__class__:pf};var qf=function(a){this.__x=a};l["haxe.xml._Fast.HasAttribAccess"]=qf;qf.__name__=["haxe","xml","_Fast","HasAttribAccess"];qf.prototype={__class__:qf};var rf=function(a){this.__x=a};
l["haxe.xml._Fast.HasNodeAccess"]=rf;rf.__name__=["haxe","xml","_Fast","HasNodeAccess"];rf.prototype={__class__:rf};var sf=function(a){this.__x=a};l["haxe.xml._Fast.NodeListAccess"]=sf;sf.__name__=["haxe","xml","_Fast","NodeListAccess"];sf.prototype={__class__:sf};var Zb=function(a){if(a.nodeType!=u.Document&&a.nodeType!=u.Element)throw new A("Invalid nodeType "+a.nodeType);this.x=a;this.node=new of(a);this.nodes=new sf(a);this.att=new pf(a);this.has=new qf(a);this.hasNode=new rf(a)};l["haxe.xml.Fast"]=
Zb;Zb.__name__=["haxe","xml","Fast"];Zb.prototype={get_name:function(){if(this.x.nodeType==u.Document)return"Document";var a=this.x;if(a.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+a.nodeType);return a.nodeName},get_innerData:function(){var a=this.x;if(a.nodeType!=u.Document&&a.nodeType!=u.Element)throw new A("Bad node type, expected Element or Document but found "+a.nodeType);a=F.iter(a.children);if(!a.hasNext())throw new A(this.get_name()+" does not have data");
var b=a.next();if(a.hasNext()){var d=a.next();if(b.nodeType==u.PCData&&d.nodeType==u.CData){if(b.nodeType==u.Document||b.nodeType==u.Element)throw new A("Bad node type, unexpected "+b.nodeType);b=""==qa.trim(b.nodeValue)}else b=!1;if(b){if(!a.hasNext()){if(d.nodeType==u.Document||d.nodeType==u.Element)throw new A("Bad node type, unexpected "+d.nodeType);return d.nodeValue}b=a.next();if(b.nodeType==u.PCData){if(b.nodeType==u.Document||b.nodeType==u.Element)throw new A("Bad node type, unexpected "+
b.nodeType);b=""==qa.trim(b.nodeValue)}else b=!1;if(b&&!a.hasNext()){if(d.nodeType==u.Document||d.nodeType==u.Element)throw new A("Bad node type, unexpected "+d.nodeType);return d.nodeValue}}throw new A(this.get_name()+" does not only have data");}if(b.nodeType!=u.PCData&&b.nodeType!=u.CData)throw new A(this.get_name()+" does not have data");if(b.nodeType==u.Document||b.nodeType==u.Element)throw new A("Bad node type, unexpected "+b.nodeType);return b.nodeValue},__class__:Zb,__properties__:{get_innerData:"get_innerData",
get_name:"get_name"}};var Ca=function(a,b,d){this.xml=b;this.message=a;this.position=d;this.lineNumber=1;for(a=this.positionAtLine=0;a<d;){var k=a++,k=b.charCodeAt(k);10==k?(this.lineNumber++,this.positionAtLine=0):13!=k&&this.positionAtLine++}};l["haxe.xml.XmlParserException"]=Ca;Ca.__name__=["haxe","xml","XmlParserException"];Ca.prototype={toString:function(){return fa.getClassName(ea.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Ca};var yb=
function(){};l["haxe.xml.Parser"]=yb;yb.__name__=["haxe","xml","Parser"];yb.parse=function(a,b){null==b&&(b=!1);var d=u.createDocument();yb.doParse(a,b,0,d);return d};yb.doParse=function(a,b,d,k){null==d&&(d=0);for(var c=null,n=1,q=1,e=null,f=0,g=0,l=0,m=a.charCodeAt(d),p=new Cb,r=1,G=-1;m==m;){switch(n){case 0:switch(m){case 9:case 10:case 13:case 32:break;default:n=q;continue}break;case 1:if(60==m)n=0,q=2;else{f=d;n=13;continue}break;case 2:switch(m){case 33:if(91==a.charCodeAt(d+1)){d+=2;if("CDATA["!=
F.substr(a,d,6).toUpperCase())throw new A(new Ca("Expected <![CDATA[",a,d));d+=5;n=17}else if(68==a.charCodeAt(d+1)||100==a.charCodeAt(d+1)){if("OCTYPE"!=F.substr(a,d+2,6).toUpperCase())throw new A(new Ca("Expected <!DOCTYPE",a,d));d+=8;n=16}else{if(45!=a.charCodeAt(d+1)||45!=a.charCodeAt(d+2))throw new A(new Ca("Expected \x3c!--",a,d));d+=2;n=15}f=d+1;break;case 47:if(null==k)throw new A(new Ca("Expected node name",a,d));f=d+1;n=0;q=10;break;case 63:n=14;f=d;break;default:n=3;f=d;continue}break;
case 3:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(d==f)throw new A(new Ca("Expected node name",a,d));c=u.createElement(F.substr(a,f,d-f));k.addChild(c);++g;n=0;q=4;continue}break;case 4:switch(m){case 47:n=11;break;case 62:n=9;break;default:n=5;f=d;continue}break;case 5:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(f==d)throw new A(new Ca("Expected attribute name",a,d));e=F.substr(a,f,d-f);if(c.exists(e))throw new A(new Ca("Duplicate attribute ["+
e+"]",a,d));n=0;q=6;continue}break;case 6:if(61==m)n=0,q=7;else throw new A(new Ca("Expected =",a,d));break;case 7:switch(m){case 34:case 39:p=new Cb;n=8;f=d+1;G=m;break;default:throw new A(new Ca('Expected "',a,d));}break;case 8:switch(m){case 38:r=d-f;p.b+=null==r?F.substr(a,f,null):F.substr(a,f,r);n=18;r=8;f=d+1;break;case 60:case 62:if(b)throw new A(new Ca("Invalid unescaped "+String.fromCharCode(m)+" in attribute value",a,d));m==G&&(q=d-f,p.b+=null==q?F.substr(a,f,null):F.substr(a,f,q),q=p.b,
p=new Cb,c.set(e,q),n=0,q=4);break;default:m==G&&(q=d-f,p.b+=null==q?F.substr(a,f,null):F.substr(a,f,q),q=p.b,p=new Cb,c.set(e,q),n=0,q=4)}break;case 9:f=d=yb.doParse(a,b,d,c);n=1;break;case 10:if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)){if(f==d)throw new A(new Ca("Expected node name",a,d));q=F.substr(a,f,d-f);if(k.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+k.nodeType);if(q!=k.nodeName){if(k.nodeType!=u.Element)throw new A("Bad node type, expected Element but found "+
k.nodeType);throw new A(new Ca("Expected </"+k.nodeName+">",a,d));}n=0;q=12;continue}break;case 11:if(62==m)n=1;else throw new A(new Ca("Expected >",a,d));break;case 12:if(62==m)return 0==g&&k.addChild(u.createPCData("")),d;throw new A(new Ca("Expected >",a,d));case 13:60==m?(q=d-f,p.b+=null==q?F.substr(a,f,null):F.substr(a,f,q),q=u.createPCData(p.b),p=new Cb,k.addChild(q),++g,n=0,q=2):38==m&&(r=d-f,p.b+=null==r?F.substr(a,f,null):F.substr(a,f,r),n=18,r=13,f=d+1);break;case 14:63==m&&62==a.charCodeAt(d+
1)&&(++d,m=F.substr(a,f+1,d-f-2),k.addChild(u.createProcessingInstruction(m)),++g,n=1);break;case 15:45==m&&45==a.charCodeAt(d+1)&&62==a.charCodeAt(d+2)&&(k.addChild(u.createComment(F.substr(a,f,d-f))),++g,d+=2,n=1);break;case 16:91==m?++l:93==m?--l:62==m&&0==l&&(k.addChild(u.createDocType(F.substr(a,f,d-f))),++g,n=1);break;case 17:93==m&&93==a.charCodeAt(d+1)&&62==a.charCodeAt(d+2)&&(m=u.createCData(F.substr(a,f,d-f)),k.addChild(m),++g,d+=2,n=1);break;case 18:if(59==m){f=F.substr(a,f,d-f);if(35==
f.charCodeAt(0))f=120==f.charCodeAt(1)?v.parseInt("0"+F.substr(f,1,f.length-1)):v.parseInt(F.substr(f,1,f.length-1)),p.b+=String.fromCharCode(f);else if(m=yb.escapes,null!=K[f]?m.existsReserved(f):m.h.hasOwnProperty(f))m=yb.escapes,f=null!=K[f]?m.getReserved(f):m.h[f],p.b+=v.string(f);else{if(b)throw new A(new Ca("Undefined entity: "+f,a,d));p.b+=v.string("&"+f+";")}f=d+1;n=r}else if(!(97<=m&&122>=m||65<=m&&90>=m||48<=m&&57>=m||58==m||46==m||95==m||45==m)&&35!=m){if(b)throw new A(new Ca("Invalid character in entity: "+
String.fromCharCode(m),a,d));p.b+="&";m=d-f;p.b+=null==m?F.substr(a,f,null):F.substr(a,f,m);f=d--;n=r}}m=a.charCodeAt(++d)}1==n&&(f=d,n=13);if(13==n){if(d!=f||0==g)b=d-f,p.b+=null==b?F.substr(a,f,null):F.substr(a,f,b),k.addChild(u.createPCData(p.b));return d}if(!b&&18==n&&13==r)return p.b+="&",b=d-f,p.b+=null==b?F.substr(a,f,null):F.substr(a,f,b),k.addChild(u.createPCData(p.b)),d;throw new A(new Ca("Unexpected end",a,d));};var A=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&
Error.captureStackTrace(this,A)};l["js._Boot.HaxeError"]=A;A.__name__=["js","_Boot","HaxeError"];A.wrap=function(a){return a instanceof Error?a:new A(a)};A.__super__=Error;A.prototype=t(Error.prototype,{__class__:A});var ea=function(){};l["js.Boot"]=ea;ea.__name__=["js","Boot"];ea.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=ea.__nativeClassName(a);return null!=a?ea.__resolveNativeClass(a):null};ea.__string_rec=function(a,b){if(null==
a)return"null";if(5<=b.length)return"<...>";var d=typeof a;"function"==d&&(a.__name__||a.__ename__)&&(d="object");switch(d){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];d=a[0]+"(";b+="\t";for(var k=2,c=a.length;k<c;)var n=k++,d=2!=n?d+(","+ea.__string_rec(a[n],b)):d+ea.__string_rec(a[n],b);return d+")"}d=a.length;k="[";b+="\t";for(c=0;c<d;)n=c++,k+=(0<n?",":"")+ea.__string_rec(a[n],b);return k+"]"}try{k=a.toString}catch(q){return"???"}if(null!=
k&&k!=Object.toString&&"function"==typeof k&&(d=a.toString(),"[object Object]"!=d))return d;d=null;k="{\n";b+="\t";c=null!=a.hasOwnProperty;for(d in a)c&&!a.hasOwnProperty(d)||"prototype"==d||"__class__"==d||"__super__"==d||"__interfaces__"==d||"__properties__"==d||(2!=k.length&&(k+=", \n"),k+=b+d+" : "+ea.__string_rec(a[d],b));b=b.substring(1);return k+("\n"+b+"}");case "string":return a;default:return String(a)}};ea.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var d=a.__interfaces__;
if(null!=d)for(var k=0,c=d.length;k<c;){var n=k++,n=d[n];if(n==b||ea.__interfLoop(n,b))return!0}return ea.__interfLoop(a.__super__,b)};ea.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case Mg:return"boolean"==typeof a;case Vg:return!0;case Ng:return"number"==typeof a;case Wg:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||ea.__interfLoop(ea.getClass(a),
b))return!0}else{if("object"==typeof b&&ea.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Kg&&null!=a.__name__||b==Lg&&null!=a.__ename__?!0:a.__enum__==b}};ea.__nativeClassName=function(a){a=ea.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};ea.__isNativeObj=function(a){return null!=ea.__nativeClassName(a)};ea.__resolveNativeClass=function(a){return Tg[a]};var ng=function(){};l["js.Browser"]=ng;ng.__name__=["js","Browser"];ng.getLocalStorage=
function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};var og=function(){};l["js.html._CanvasElement.CanvasUtil"]=og;og.__name__=["js","html","_CanvasElement","CanvasUtil"];og.getContextWebGL=function(a,b){for(var d=0,k=["webgl","experimental-webgl"];d<k.length;){var c=k[d];++d;c=a.getContext(c,b);if(null!=c)return c}return null};var Sa=function(){};l["kit.util.Disposable"]=Sa;Sa.__name__=["kit","util","Disposable"];Sa.prototype={__class__:Sa};var y=function(){this.$oE=
null;this.$nE=0;this.owner=this.next=null};l["kit.Component"]=y;y.__name__=["kit","Component"];y.__interfaces__=[Sa];y.prototype={onAdded:function(){},onRemoved:function(){null!=this.$oE&&this.$oE.$5E()},onStart:function(){},onStop:function(){},onUpdate:function(a){},onMessage:function(a,b){if(null!=this.$oE){var d=this.$oE.$3E;if(null!=d&&(d=null!=K[a]?d.getReserved(a):d.h[a],null!=d&&null!=d.$uF))return d.emit(b),!0}return!1},connect0:function(a,b){var d=a.connect(b);this.registerDisposable(d);
return this},connect1:function(a,b){var d=a.connect(b);this.registerDisposable(d);return this},connect2:function(a,b){var d=a.connect(b);this.registerDisposable(d);return this},registerDisposable:function(a){null==this.$oE&&(this.$oE=new tf);null==this.$oE.$4E&&(this.$oE.$4E=[]);this.$oE.$4E.push(a)},dispose:function(){null!=this.owner?this.owner.remove(this):null!=this.$oE&&this.$oE.$5E()},get_entitySlot:function(){return-1},$mE:function(){},__class__:y,__properties__:{get_entitySlot:"get_entitySlot"}};
var wc=function(){};l["kit.asset.AssetPack"]=wc;wc.__name__=["kit","asset","AssetPack"];wc.__interfaces__=[Sa];wc.prototype={__class__:wc};var dd=function(){this.$tE=new da;this.$sE=[]};l["kit.Assets"]=dd;dd.__name__=["kit","Assets"];dd.__interfaces__=[wc];dd.__super__=y;dd.prototype=t(y.prototype,{get_entitySlot:function(){return 0},getTexture:function(a,b){null==b&&(b=!0);for(var d=0,k=this.$sE;d<k.length;){var c=k[d];++d;c=c.$uE.getTexture(a,!1);if(null!=c)return c}d=this.$rE();return null!=d?
d.getTexture(a,b):null},getSound:function(a,b){null==b&&(b=!0);for(var d=0,k=this.$sE;d<k.length;){var c=k[d];++d;c=c.$uE.getSound(a,!1);if(null!=c)return c}d=this.$rE();return null!=d?d.getSound(a,b):null},getFile:function(a,b){null==b&&(b=!0);for(var d=0,k=this.$sE;d<k.length;){var c=k[d];++d;c=c.$uE.getFile(a,!1);if(null!=c)return c}d=this.$rE();return null!=d?d.getFile(a,b):null},getVideo:function(a,b){null==b&&(b=!0);for(var d=0,k=this.$sE;d<k.length;){var c=k[d];++d;c=c.$uE.getVideo(a,!1);if(null!=
c)return c}d=this.$rE();return null!=d?d.getVideo(a,b):null},getSceneSymbol:function(a,b){null==b&&(b=!0);for(var d=0,k=this.$sE;d<k.length;){var c=k[d];++d;var n=c.$zE,n=null!=K[a]?n.getReserved(a):n.h[a];if(null!=n)return n;if(null!=c.$uE.getFile(a+".symbol",!1))return d=new Da(this,a,!0),c=c.$zE,null!=K[a]?c.setReserved(a,d):c.h[a]=d,d.disposeFiles()}c=this.$rE();return null!=c?c.getSceneSymbol(a,b):null},$rE:function(){return null==this.owner||null==this.owner.parent?null:this.owner.parent._internal_getFromParents(0)},
dispose:function(){y.prototype.dispose.call(this);var a=this.$sE;this.$sE=[];this.$tE=new da;for(var b=0;b<a.length;){var d=a[b];++b;d.$uE.dispose()}},__class__:dd});var pg=function(){this.$zE=new da};l.$CG=pg;pg.__name__=["$CG"];pg.prototype={__class__:pg};var Og=function(){};l.$CH=Og;Og.__name__=["$CH"];var tf=function(){this.$3E=this.$4E=null};l.$CJ=tf;tf.__name__=["$CJ"];tf.prototype={$5E:function(){var a=this.$4E;if(null!=a){this.$4E=null;for(var b=0;b<a.length;){var d=a[b];++b;d.dispose()}}this.$3E=
null},__class__:tf};var uf=function(){};l["kit.MessageResult"]=uf;uf.__name__=["kit","MessageResult"];uf.prototype={__class__:uf};var e=function(){this.active=!0;this.parent=this.firstChild=this.next=this.firstComponent=null;this.$BF={}};l["kit.Entity"]=e;e.__name__=["kit","Entity"];e.__interfaces__=[Sa];e.$CF=function(a){for(var b=null;null!=a;)b=a,a=a.next;return b};e.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_entitySlot(),d=this.$BF[b];null!=d&&this.remove(d);this.$BF[b]=
a;b=null;for(d=this.firstComponent;null!=d;)b=d,d=d.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,d=this.firstComponent;null!=d;){var k=d.next;if(d==a)return null==b?this.firstComponent=k:(b.owner=this,b.next=k),a=d.get_entitySlot(),delete this.$BF[a],0!=(d.$nE&1)&&(d.onStop(),d.$nE&=-2),d.onRemoved(),d.owner=null,d.next=null,!0;b=d;d=k}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);
a.parent=this;b?this.$9E(e.$CF(this.firstChild),a):this.$$E(a);return this},removeChild:function(a){for(var b=null,d=this.firstChild;null!=d;){if(d==a){this.$8E(b);d.parent=null;d.next=null;break}b=d;d=d.next}},emitMessage:function(a,b){for(var d=!1,k=this.firstComponent;null!=k;){var c=k.next;k.onMessage(a,b)&&(d=!0);k=c}e.$DF.handled=d;return e.$DF},emitMessageToParents:function(a,b){for(var d=!1,k=this;;){var c=k.parent;k.emitMessage(a,b).handled&&(d=!0);k=c;if(null==k)break}e.$DF.handled=d;return e.$DF},
disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},yieldForStart:function(){for(var a=this.firstComponent;null!=a;){var b=a.next;0==(a.$nE&1)&&(a.$nE|=1,a.$mE(),a.onStart());a=b}for(a=this.firstChild;null!=a;)b=a.next,a.yieldForStart(),a=b},_internal_getFromParents:function(a,b){for(var d=this;;){var k=d.$BF[a];null!=
b&&(k=k instanceof b?k:null);if(null!=k)return k;d=d.parent;if(null==d)break}return null},$8E:function(a){null!=a?a.next=a.next.next:this.$_E()},$9E:function(a,b){null!=a?(b.next=a.next,a.next=b):this.$$E(b)},$$E:function(a){a.next=this.firstChild;this.firstChild=a},$_E:function(){this.firstChild=this.firstChild.next},__class__:e};var qg=function(){};l["kit.util.PackageLog"]=qg;qg.__name__=["kit","util","PackageLog"];var vf=function(){};l.$CK=vf;vf.__name__=["$CK"];vf.prototype={__class__:vf};var db=
function(){this.$dF=!0};l.$CL=db;db.__name__=["$CL"];db.__interfaces__=[vf];db.$gF=function(a){var b=ng.getLocalStorage();return null!=b?new ed(b,a):new fd};db.prototype={init:function(){var a=this,b=null;try{b=window.flambe.canvas}catch(d){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";I.$4P(b,"tap-highlight-color","transparent");b.setAttribute("moz-opaque","");this.$MF=new gd(b);this.$KF=new ia;this.$JF=new hd(this.$KF,b);this.$LF=this.$IF(b);this.$EF=new eb;this.$ZF=b;this.$aF=b.parentElement;
this.$aF.style.overflow="hidden";this.$aF.style.position="relative";I.$4P(this.$aF,"touch-action","none");var k=0,c=function(d){if(!(1E3>d.timeStamp-k)){var c=b.getBoundingClientRect(),h=a.$GF(d,c),c=a.$HF(d,c);switch(d.type){case "mousedown":d.target==b&&(d.preventDefault(),a.$JF.$JL(h,c,d.button),b.focus());break;case "mousemove":a.$JF.$NL(h,c);break;case "mouseup":a.$JF.$KL(h,c,d.button);break;case "DOMMouseScroll":case "mousewheel":a.$JF.$OL(h,c,"mousewheel"==d.type?d.wheelDelta/40:-d.detail)&&
d.preventDefault()}}};window.addEventListener("mousedown",c,!1);window.addEventListener("mousemove",c,!1);window.addEventListener("mouseup",c,!1);b.addEventListener("mousewheel",c,!1);b.addEventListener("DOMMouseScroll",c,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var n="undefined"!=typeof window.ontouchstart,c=I.$1P("maxTouchPoints",window.navigator).value|0;if(n||1<c){var q=new id(this.$KF,n?4:c);this.$NF=q;c=function(b){var d=n?b.changedTouches:[b],c=b.target.getBoundingClientRect();
k=b.timeStamp;switch(b.type){case "MSPointerMove":case "pointermove":case "touchmove":b.preventDefault();for(b=0;b<d.length;){var h=d[b];++b;var e=a.$GF(h,c),f=a.$HF(h,c);q.$NL((n?h.identifier:h.pointerId)|0,e,f)}break;case "MSPointerUp":case "pointerup":case "touchcancel":case "touchend":for(b=0;b<d.length;)h=d[b],++b,e=a.$GF(h,c),f=a.$HF(h,c),q.$KL((n?h.identifier:h.pointerId)|0,e,f);break;case "MSPointerDown":case "pointerdown":case "touchstart":for(b.preventDefault(),b=0;b<d.length;)h=d[b],++b,
e=a.$GF(h,c),f=a.$HF(h,c),q.$JL((n?h.identifier:h.pointerId)|0,e,f)}};n?(b.addEventListener("touchstart",c,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchend",c,!1),b.addEventListener("touchcancel",c,!1)):(b.addEventListener("MSPointerDown",c,!1),b.addEventListener("MSPointerMove",c,!1),b.addEventListener("MSPointerUp",c,!1))}else this.$NF=new jd;var e=window.onerror;window.onerror=function(a,b,d){m.uncaughtError.emit(a);return null!=e?e(a,b,d):!1};var f=I.$1P("hidden",window.document);
null!=f.value?(c=function(a){m.hidden.set__(la.field(window.document,f.field))},c(null),window.document.addEventListener(f.prefix+"visibilitychange",c,!1)):(c=function(a){m.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",c,!1),window.addEventListener("pagehide",c,!1));m.hidden.get_changed().connect(function(b,d){b||(a.$cF=!0)});this.$cF=!1;this.$bF=Date.now();var g=I.$1P("requestAnimationFrame").value;if(null!=g){var l=window.performance,p=null!=l&&I.$3P("now",l);p&&(this.$bF=
l.now());var r=null,r=function(d){g(r,b);d=p?l.now():d;a.$FF(d)};g(r,b)}else window.setInterval(function(){var b=Date.now();a.$FF(b)},16);za.$fL("fullscreen")&&this.$NF.get_supported()&&this.$MF.get_fullscreenSupported()&&this.$NF.up.connect(function(b){a.$MF.fullscreen.$hF||a.$MF.requestFullscreen()});var s=za.$gL();null!=s&&(this.$MF.fullscreen.get_changed().connect(function(b,d){b&&a.$MF.lockOrientation(s)}),this.$MF.lockOrientation(s));this.$EF.$2N.add(new kd);this.$EF.$$I();return(new ya).$MT(null)},
loadAssetPack:function(a){return(new ma(this,a)).$2E},getLocalStorage:function(){if(null==this.$UF){var a="2DKit.local."+v.string(za.$fL("id"));this.$UF=db.$gF(a)}return this.$UF},getCloudStorage:function(){if(null==this.$QF){var a="2DKit.cloud."+v.string(za.$fL("id"));this.$QF=db.$gF(a)}return this.$QF},createLogHandler:function(a){return null},$FF:function(a){var b=(a-this.$bF)/1E3;this.$bF=a;m.hidden.$hF||(this.$cF?this.$cF=!1:(this.$dF&&(this.$dF=!1,this.$MF.$oP(null)),this.$EF.$FF(b),this.$EF.$iH(this.$LF)))},
getKeyboard:function(){var a=this;if(null==this.$TF){this.$TF=new fb;var b=function(b){switch(b.type){case "keydown":a.$TF.$JL(b.keyCode)&&b.preventDefault();break;case "keyup":a.$TF.$KL(b.keyCode)}};this.$ZF.addEventListener("keydown",b,!1);this.$ZF.addEventListener("keyup",b,!1);if(null!=window.history&&null!=(Ig=window.history,L(Ig,Ig.pushState))){var d=!1,k=function(){window.history.pushState("2DKitBack",null);d=!0};window.addEventListener("popstate",function(b){d&&(null!=a.$TF.backButton.$uF?
(k(),a.$TF.backButton.emit()):window.history.back())});if(I.$wP)this.$KF.down.connect(function(a){k()}).once();else k()}}return this.$TF},getExternal:function(){null==this.$RF&&(this.$RF=new ld);return this.$RF},getRenderer:function(){return this.$LF},$GF:function(a,b){return(a.clientX-b.left)*this.$MF.get_width()/b.width},$HF:function(a,b){return(a.clientY-b.top)*this.$MF.get_height()/b.height},$IF:function(a){try{var b=og.getContextWebGL(a,{alpha:!1,depth:!1,stencil:!0,failIfMajorPerformanceCaveat:!0});
if(null!=b){var d=new md(this.$MF,b);if(d.$6R)return d}}catch(k){}return new nd(a)},__class__:db};var sa=function(a,b){this.$hF=a;this.$iF=null!=b?new kb(b):null};l["kit.util.Value"]=sa;sa.__name__=["kit","util","Value"];sa.prototype={watch:function(a){a(this.$hF,this.$hF);return this.get_changed().connect(a)},set__:function(a){var b=this.$hF;a!=b&&(this.$hF=a,null!=this.$iF&&this.$iF.emit(a,b));return a},get_changed:function(){null==this.$iF&&(this.$iF=new kb);return this.$iF},__class__:sa,__properties__:{get_changed:"get_changed",
set__:"set__"}};var $b=function(a,b){this.$jF=null;this.$lF=a;this.$kF=b;this.stayInList=!0};l["kit.util.SignalConnection"]=$b;$b.__name__=["kit","util","SignalConnection"];$b.__interfaces__=[Sa];$b.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this.$lF&&(this.$lF.$nF(this),this.$lF=null)},__class__:$b};var Ga=function(a){this.$uF=null!=a?new $b(this,a):null;this.$vF=null};l["kit.util.SignalBase"]=Ga;Ga.__name__=["kit","util","SignalBase"];Ga.prototype={$mF:function(a,
b){var d=this,k=new $b(this,a);this.$uF==Ga.$wF?this.$oF(function(){d.$rF(k,b)}):this.$rF(k,b);return k},$nF:function(a){var b=this;this.$uF==Ga.$wF?this.$oF(function(){b.$sF(a)}):this.$sF(a)},$oF:function(a){for(var b=null,d=this.$vF;null!=d;)b=d,d=d.next;a=new wf(a);null!=b?b.next=a:this.$vF=a},$pF:function(){var a=this.$uF;this.$uF=Ga.$wF;return a},$qF:function(a){this.$uF=a;a=this.$vF;for(this.$vF=null;null!=a;)a.$YT(),a=a.next},$rF:function(a,b){if(b)a.$jF=this.$uF,this.$uF=a;else{for(var d=
null,k=this.$uF;null!=k;)d=k,k=k.$jF;null!=d?d.$jF=a:this.$uF=a}},$sF:function(a){for(var b=null,d=this.$uF;null!=d;){if(d==a){a=d.$jF;null==b?this.$uF=a:b.$jF=a;break}b=d;d=d.$jF}},__class__:Ga};var kb=function(a){Ga.call(this,a)};l["kit.util.Signal2"]=kb;kb.__name__=["kit","util","Signal2"];kb.__super__=Ga;kb.prototype=t(Ga.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$mF(a,b)},emit:function(a,b){var d=this;this.$uF==Ga.$wF?this.$oF(function(){d.$xF(a,b)}):this.$xF(a,b)},$xF:function(a,
b){for(var d=this.$pF(),k=d;null!=k;)k.$kF(a,b),k.stayInList||k.dispose(),k=k.$jF;this.$qF(d)},__class__:kb});var Nb=function(a){Ga.call(this,a)};l["kit.util.Signal0"]=Nb;Nb.__name__=["kit","util","Signal0"];Nb.__super__=Ga;Nb.prototype=t(Ga.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$mF(a,b)},emit:function(){var a=this;this.$uF==Ga.$wF?this.$oF(function(){a.$xF()}):this.$xF()},$xF:function(){for(var a=this.$pF(),b=a;null!=b;)b.$kF(),b.stayInList||b.dispose(),b=b.$jF;this.$qF(a)},
__class__:Nb});var na=function(a){Ga.call(this,a)};l["kit.util.Signal1"]=na;na.__name__=["kit","util","Signal1"];na.__super__=Ga;na.prototype=t(Ga.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$mF(a,b)},emit:function(a){var b=this;this.$uF==Ga.$wF?this.$oF(function(){b.$xF(a)}):this.$xF(a)},$xF:function(a){for(var b=this.$pF(),d=b;null!=d;)d.$kF(a),d.stayInList||d.dispose(),d=d.$jF;this.$qF(b)},__class__:na});var $=function(a,b){this.$yF=null;sa.call(this,a,b)};l["kit.animation.AnimatedFloat"]=
$;$.__name__=["kit","animation","AnimatedFloat"];$.__super__=sa;$.prototype=t(sa.prototype,{set__:function(a){this.$yF=null;return sa.prototype.set__.call(this,a)},update:function(a){null!=this.$yF&&(sa.prototype.set__.call(this,this.$yF.update(a)),this.$yF.isComplete()&&(this.$yF=null))},animate:function(a,b,d,k){this.set__(a);this.animateTo(b,d,k)},animateTo:function(a,b,d){this.set_behavior(new ac(this.$hF,a,b,d))},animateBy:function(a,b,d){this.set_behavior(new ac(this.$hF,this.$hF+a,b,d))},set_behavior:function(a){this.$yF=
a;this.update(0);return a},__class__:$,__properties__:t(sa.prototype.__properties__,{set_behavior:"set_behavior"})});var m=function(){};l["kit.System"]=m;m.__name__=["kit","System"];m.$zF=function(){null==m.$3F&&(m.$3F=m.$2F.init(),m.$3F=m.$3F.then(function(a){return rb.init()}));return m.$3F};var xf=function(a){this.$5F=a};l["kit.util.Logger"]=xf;xf.__name__=["kit","util","Logger"];xf.prototype={__class__:xf};var od=function(){};l["kit.Log"]=od;od.__name__=["kit","Log"];od.__super__=qg;od.prototype=
t(qg.prototype,{__class__:od});var lb=function(a){null==a&&(a=1);this.$6F=0;y.call(this);this.scale=new $(a)};l["kit.SpeedAdjuster"]=lb;lb.__name__=["kit","SpeedAdjuster"];lb.__super__=y;lb.prototype=t(y.prototype,{get_entitySlot:function(){return 9},onUpdate:function(a){0<this.$6F&&(a=this.$6F,this.$6F=0);this.scale.update(a)},__class__:lb});var rb=function(a){this.$8F=a};l["kit.LegacyStorage"]=rb;rb.__name__=["kit","LegacyStorage"];rb.init=function(){return m.$2F.getLocalStorage().get("LegacyStorage",
{}).then(function(a){null==rb.$9F&&(rb.$9F=new rb(a))})};rb.prototype={__class__:rb};var yf=function(){};l["kit.animation.Behavior"]=yf;yf.__name__=["kit","animation","Behavior"];yf.prototype={__class__:yf};var ba=function(){};l["kit.animation.Ease"]=ba;ba.__name__=["kit","animation","Ease"];ba.linear=function(a){return a};ba.sineIn=function(a){return 1-Math.cos(1.5707963267948966*a)};ba.sineOut=function(a){return Math.sin(1.5707963267948966*a)};ba.sineInOut=function(a){return 0.5-Math.cos(3.141592653589793*
a)/2};ba.bounceOut=function(a){return 0.36363636363636365>a?7.5625*a*a:0.7272727272727273>a?7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75:0.9090909090909091>a?7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375:7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375};var ac=function(a,b,d,k){this.$KG=a;this.$LG=b;this.$MG=d;this.elapsed=0;this.$NG=null!=k?k:ba.linear};l["kit.animation.Tween"]=ac;ac.__name__=["kit","animation","Tween"];ac.__interfaces__=[yf];ac.prototype=
{update:function(a){this.elapsed+=a;return this.elapsed>=this.$MG?this.$LG:this.$KG+(this.$LG-this.$KG)*this.$NG(this.elapsed/this.$MG)},isComplete:function(){return this.elapsed>=this.$MG},__class__:ac};var zb=function(){};l["kit.asset.Asset"]=zb;zb.__name__=["kit","asset","Asset"];zb.__interfaces__=[Sa];zb.prototype={__class__:zb};var s=l["kit.asset.AssetFormat"]={__ename__:["kit","asset","AssetFormat"],__constructs__:"WEBP PNG JPG GIF _2DKD _2DKP _2DKE MP3 M4A OPUS OGG WAV WOFF TTF OTF SWF MP4 WEBM Data".split(" ")};
s.WEBP=["WEBP",0];s.WEBP.toString=p;s.WEBP.__enum__=s;s.PNG=["PNG",1];s.PNG.toString=p;s.PNG.__enum__=s;s.JPG=["JPG",2];s.JPG.toString=p;s.JPG.__enum__=s;s.GIF=["GIF",3];s.GIF.toString=p;s.GIF.__enum__=s;s._2DKD=["_2DKD",4];s._2DKD.toString=p;s._2DKD.__enum__=s;s._2DKP=["_2DKP",5];s._2DKP.toString=p;s._2DKP.__enum__=s;s._2DKE=["_2DKE",6];s._2DKE.toString=p;s._2DKE.__enum__=s;s.MP3=["MP3",7];s.MP3.toString=p;s.MP3.__enum__=s;s.M4A=["M4A",8];s.M4A.toString=p;s.M4A.__enum__=s;s.OPUS=["OPUS",9];s.OPUS.toString=
p;s.OPUS.__enum__=s;s.OGG=["OGG",10];s.OGG.toString=p;s.OGG.__enum__=s;s.WAV=["WAV",11];s.WAV.toString=p;s.WAV.__enum__=s;s.WOFF=["WOFF",12];s.WOFF.toString=p;s.WOFF.__enum__=s;s.TTF=["TTF",13];s.TTF.toString=p;s.TTF.__enum__=s;s.OTF=["OTF",14];s.OTF.toString=p;s.OTF.__enum__=s;s.SWF=["SWF",15];s.SWF.toString=p;s.SWF.__enum__=s;s.MP4=["MP4",16];s.MP4.toString=p;s.MP4.__enum__=s;s.WEBM=["WEBM",17];s.WEBM.toString=p;s.WEBM.__enum__=s;s.Data=["Data",18];s.Data.toString=p;s.Data.__enum__=s;var zf=function(a,
b,d,k){this.cacheKey=null;this.name=a;this.url=b;this.format=d;this.bytes=k};l["kit.asset.AssetEntry"]=zf;zf.__name__=["kit","asset","AssetEntry"];zf.prototype={__class__:zf};var pd=function(){};l["kit.asset.File"]=pd;pd.__name__=["kit","asset","File"];pd.__interfaces__=[zb];pd.prototype={__class__:pd};var Ma=function(){this.$OG=this.$PG=null;this.pixelScale=1;this.$sE=[]};l["kit.asset.Manifest"]=Ma;Ma.__name__=["kit","asset","Manifest"];Ma.fromAssets=function(a,b,d){null==d&&(d=!0);null==b&&(b=-1);
b=1;d=[];for(var k=za.$fL("assets"),c=0,n=la.fields(k);c<n.length;){var q=n[c];++c;if(qa.startsWith(q,a)){var e=F.substr(q,a.length,null);if(0<e.length){var f=new Qb("^-([\\d\\.]+)%$","");f.match(e)&&(e=parseFloat(f.matched(1)),d.push(new qd(q,e/100)))}else d.push(new qd(q,1))}}if(0==d.length)return null;d.sort(function(a,b){return la.compare(a.$UG,b.$UG)});a=null;for(c=0;c<d.length&&!(n=d[c],++c,a=n,n.$UG>=b););b=la.field(k,a.$TG);d=new Ma;d.$OG="assets";d.pixelScale=a.$UG;try{var g=jsembed.baseUrl();
d.$OG=g+d.$OG}catch(l){}g=encodeURIComponent(a.$TG);for(k=0;k<b.length;){a=b[k];++k;c=a.name;n=g;q=0;for(e=c.split("/");q<e.length;)f=e[q],++q,n+="/"+encodeURIComponent(f);qa.endsWith(c,".__gz.txt")&&(c=F.substr(c,0,c.length-9));q=Ma.$QG(c);q!=s.Data&&(c=Na.removeFileExtension(c));c=d.add(c,n,a.bytes,q);null!=a.md5&&(c.cacheKey="assets:"+v.string(a.md5))}return d};Ma.$QG=function(a){a=Na.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "2dkd":return s._2DKD;case "2dke":return s._2DKE;case "2dkp":return s._2DKP;
case "gif":return s.GIF;case "jpeg":case "jpg":return s.JPG;case "m4a":return s.M4A;case "mp3":return s.MP3;case "mp4":return s.MP4;case "ogg":return s.OGG;case "opus":return s.OPUS;case "otf":return s.OTF;case "png":return s.PNG;case "swf":return s.SWF;case "ttf":return s.TTF;case "wav":return s.WAV;case "webm":return s.WEBM;case "webp":return s.WEBP;case "woff":return s.WOFF}return s.Data};Ma.prototype={add:function(a,b,d,k){null==d&&(d=0);null==k&&(k=Ma.$QG(b));a=new zf(a,b,k,d);this.$sE.push(a);
return a},iterator:function(){return F.iter(this.$sE)},getFullURL:function(a){var b=null!=this.$PG&&Ma.$SG?this.$PG:this.$OG;return null!=b?Na.joinPath(b,a.url):a.url},__class__:Ma};var qd=function(a,b){this.$TG=a;this.$UG=b};l.$CM=qd;qd.__name__=["$CM"];qd.prototype={__class__:qd};var ja=l.$CN={__ename__:["$CN"],__constructs__:"CString CBool CFloat CInt CArray CEnum CClass".split(" ")};ja.CString=["CString",0];ja.CString.toString=p;ja.CString.__enum__=ja;ja.CBool=["CBool",1];ja.CBool.toString=p;
ja.CBool.__enum__=ja;ja.CFloat=["CFloat",2];ja.CFloat.toString=p;ja.CFloat.__enum__=ja;ja.CInt=["CInt",3];ja.CInt.toString=p;ja.CInt.__enum__=ja;ja.CArray=function(a){a=["CArray",4,a];a.__enum__=ja;a.toString=p;return a};ja.CEnum=function(a){a=["CEnum",5,a];a.__enum__=ja;a.toString=p;return a};ja.CClass=function(a){a=["CClass",6,a];a.__enum__=ja;a.toString=p;return a};var Ya=function(){this.onStarted=this.onUpdated=this.onStopped=null;this.spawned=!0};l["kit.creator.CreatorObject"]=Ya;Ya.__name__=
["kit","creator","CreatorObject"];Ya.__super__=y;Ya.prototype=t(y.prototype,{get_entitySlot:function(){return 2},onStart:function(){this.$nE|=2},onUpdate:function(a){0!=(this.$nE&2)&&(this.$nE&=-3,null!=this.onStarted&&(this.owner.yieldForStart(),this.owner.emitMessageToParents(this.onStarted,this.owner)));null!=this.onUpdated&&this.owner.emitMessageToParents(this.onUpdated,this.owner)},onStop:function(){this.$nE&=-3;null!=this.onStopped&&this.owner.emitMessageToParents(this.onStopped,this.owner)},
__class__:Ya});var rd=function(){this.offsetX=this.offsetY=0;this.active=!0;this.following=null};l["kit.creator.Camera"]=rd;rd.__name__=["kit","creator","Camera"];rd.__super__=Ya;rd.prototype=t(Ya.prototype,{onStart:function(){Ya.prototype.onStart.call(this);var a=this.owner.$BF[1];if(null==a){var b=this.owner,a=new r;b.add(a);this.info.transformSprite(a);a.set_visible(!1)}this.active&&(this.owner._internal_getFromParents(1,Ta).camera=this)},onUpdate:function(a){Ya.prototype.onUpdate.call(this,a);
this.zoom.update(a)},$WG:function(a){var b=this.owner.$BF[1];if(null!=this.following){var d=this.following.$BF[1];null!=d&&b.setXY(d.x.$hF+this.offsetX,d.y.$hF+this.offsetY)}for(var d=this.zoom.$hF,k=b.y.$hF-0.5*a.cameraHeight.$hF/d,b=-sb.clamp(b.x.$hF-0.5*a.cameraWidth.$hF/d,0,a.info.width*a.info.tileWidth-a.cameraWidth.$hF/d),k=-sb.clamp(k,0,a.info.height*a.info.tileHeight-a.cameraHeight.$hF/d),c=0,n=a.info.layers;c<n.length;){var q=n[c];++c;var e=q.name,f=a.layers,e=(null!=K[e]?f.getReserved(e):
f.h[e]).$BF[1],f=q.parallaxX,g=q.parallaxY,f=(f>g?f:g)*(d-1)+1;e.setScale(f);e.x.set__(q.parallaxX*b*f);e.y.set__(q.parallaxY*k*f)}},__class__:rd});var Ob=function(a,b){this.states=new da;this.properties=new da;this.tile=this.points=null;this.layer=a;this.name=Da.$UH(b.name);this.type=Da.$UH(b.type);this.x=b.x;this.y=b.y;this.anchorX=Da.$VH(b.anchorX,0);this.anchorY=Da.$VH(b.anchorY,0);this.rotation=b.rotation;this.width=b.width;this.height=b.height;this.visible=b.visible;this.tint=null!=b.tintcolor?
v.parseInt(qa.replace(b.tintcolor,"#","0x")):16777215;b.ellipse?this.shape=oa.Ellipse:null!=b.polygon?(this.shape=oa.Polygon,this.points=b.polygon.map(function(a){return new tb(a.x,a.y)})):null!=b.polyline?(this.shape=oa.Polyline,this.points=b.polyline.map(function(a){return new tb(a.x,a.y)})):null!=b.gid?(this.shape=oa.Tile,this.tile=a.scene.tiles.h[b.gid]):this.shape=oa.Rectangle;var d=null!=this.tile?-this.height:0;if(0==this.rotation)this.x+=this.anchorX,this.y+=this.anchorY+d;else{var k=new Ja;
k.compose(this.x,this.y,1,1,3.141592653589793*this.rotation/180);k.translate(this.anchorX,this.anchorY+d);this.x=k.m02;this.y=k.m12}null!=this.tile&&(this.anchorX*=this.tile.get_width()/this.width,this.anchorY*=this.tile.get_height()/this.height);d=Da.$TH(b.properties);for(k=d.keys();k.hasNext();){var c=k.next(),n=null!=K[c]?d.getReserved(c):d.h[c];if(qa.startsWith(c,"@State:"))var e=this.states,c=F.substr(c,7,null);else e=this.properties;null!=K[c]?e.setReserved(c,n):e.h[c]=n}};l["kit.creator.ObjectInfo"]=
Ob;Ob.__name__=["kit","creator","ObjectInfo"];Ob.prototype={createSprite:function(){var a;null!=this.tile?(a=this.tile.texture,a=null!=a&&2>mc.count(this.states)?new Z(a):new sd(this)):a=new r;this.transformSprite(a);return a},transformSprite:function(a){null!=this.tile?(a.setXY(this.x+this.tile.tileset.offsetX,this.y+this.tile.tileset.offsetY),a.setScaleXY(this.width/this.tile.get_width(),this.height/this.tile.get_height())):a.setXY(this.x,this.y);a.setAnchor(this.anchorX,this.anchorY);a.rotation.set__(this.rotation);
a.set_visible(this.visible);a.setTint(this.tint)},__class__:Ob};var mb=function(){this.target=this.script=null};l["kit.creator.CreatorAction"]=mb;mb.__name__=["kit","creator","CreatorAction"];mb.runSequence=function(a,b){if(0>=a.length)return(new ya).$MT(null);for(var d=null,c=0;c<a.length;){var h=[a[c]];++c;d=null!=d?d.then(function(a){return function(d){return a[0].$aG(b)}}(h)):h[0].$aG(b)}return d};mb.prototype={$YG:function(a){},$ZG:function(a){return null},$aG:function(a){if(null==this.script||
null==this.script.owner)return(new ya).failure();if(null!=this.target){var b=this.script.owner._internal_getFromParents(1,Ta);a=null;for(var d=b.objects.keys();d.hasNext();){var c=d.next();if(this.target.name==c.name){a=b.objects.h[c.__id__];break}}if(null==a)return(new ya).failure()}this.$YG(a);a=this.$ZG(a);null==a&&(a=(new ya).$MT(null));return a},__class__:mb};var td=function(a){this.$gG=new da;y.call(this);this.scene=a;this.$cG()};l["kit.creator.CreatorScript"]=td;td.__name__=["kit","creator",
"CreatorScript"];td.__super__=y;td.prototype=t(y.prototype,{get_entitySlot:function(){return 5},onMessage:function(a,b){var d=!1,c=this.$gG,c=null!=K[a]?c.getReserved(a):c.h[a];if(null!=c){var h=b instanceof e?b:null;if(null!=h)for(var n=this.owner;null!=n;)n==m.root&&(mb.runSequence(c.actions,h),d=!0),n=n.parent}return y.prototype.onMessage.call(this,a,b)?!0:d},$cG:function(){this.groups=[];for(var a=0,b=this.scene.script.groups;a<b.length;){var d=b[a];++a;var c=d.actions.map(L(this,this.$dG)).filter(function(a){return null!=
a}),c=new Af(d,c);this.groups.push(c);var d=d.name,h=this.$gG;null!=K[d]?h.setReserved(d,c):h.h[d]=c}},$dG:function(a){var b=fa.resolveClass(a.type);if(null==b)return null;var d=fa.createInstance(b,[]);d.script=this;for(var c=a.properties.keys();c.hasNext();){var h=c.next(),n=Tb.$7L(b,h);if(null!=n){var e=a.properties,e=null!=K[h]?e.getReserved(h):e.h[h],n=this.$eG(n,e,a.type+"."+h);null!=n&&la.setProperty(d,h,n)}}b=d instanceof ud?d:null;null!=b&&(b.subActions=a.subActions.map(L(this,this.$dG)).filter(function(a){return null!=
a}));return d},$eG:function(a,b,d){var c=Tb.$eG(a,b);if(null!=c)return c;switch(a[1]){case 4:a=a[2];var c=[],h=0;for(b=b.split(",");h<b.length;){var n=b[h];++h;c.push(this.$eG(a,qa.trim(n),d))}return c;case 6:switch(a[2]){case xc:return this.scene.getLayer(b,!1);case Ob:return this.scene.getObject(b,!1)}}return null},__class__:td});var Af=function(a,b){this.info=a;this.actions=b};l["kit.creator.Group"]=Af;Af.__name__=["kit","creator","Group"];Af.prototype={__class__:Af};var ud=function(){this.subActions=
[]};l["kit.creator.GroupAction"]=ud;ud.__name__=["kit","creator","GroupAction"];ud.__super__=mb;ud.prototype=t(mb.prototype,{$ZG:function(a){return mb.runSequence(this.subActions,a)},__class__:ud});var Bf=function(){};l["kit.filter.FilterContext"]=Bf;Bf.__name__=["kit","filter","FilterContext"];Bf.prototype={__class__:Bf};var vd=function(){this.$lG=[];this.$kG=[]};l.$CO=vd;vd.__name__=["$CO"];vd.__interfaces__=[Bf];vd.prototype={$iG:function(a,b,d,c){var h=this.$kG.pop();null!=h?h.$JM(d,c):h=new Cf(d,
c);h.$FM=a;h.$GM=b;this.$lG.unshift(h);return h.$HM},apply:function(a){a.active&&a.apply(this)},render:function(a){this.$lG[0].$KM(a)},$jG:function(){var a=this.$lG.shift();this.$kG.push(a);return a.$HM},__class__:vd};var Ja=function(){this.identity()};l["kit.math.Matrix"]=Ja;Ja.__name__=["kit","math","Matrix"];Ja.multiply=function(a,b,d){null==d&&(d=new Ja);var c=a.m00,h=a.m01,n=a.m02,e=a.m10,f=a.m11;a=a.m12;var g=b.m00,l=b.m01,m=b.m02,p=b.m10,r=b.m11;b=b.m12;d.m00=c*g+h*p;d.m01=c*l+h*r;d.m02=c*
m+h*b+n;d.m10=e*g+f*p;d.m11=e*l+f*r;d.m12=e*m+f*b+a;return d};Ja.prototype={set:function(a,b,d,c,h,n){this.m00=a;this.m01=d;this.m02=h;this.m10=b;this.m11=c;this.m12=n},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,d,c,h){var n=Math.sin(h);h=Math.cos(h);this.set(h*d,n*d,-n*c,h*c,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m10/a,-this.m01/a,this.m00/
a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transform:function(a,b,d){null==d&&(d=new tb);d.x=a*this.m00+b*this.m01+this.m02;d.y=a*this.m10+b*this.m11+this.m12;return d},transformArray:function(a,b,d){for(var c=0;c<b;){var h=a[c],n=a[c+1];d[c++]=h*this.m00+n*this.m01+this.m02;d[c++]=h*this.m10+n*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,d){var c=this.determinant();if(0==c)return!1;
a-=this.m02;b-=this.m12;d.x=(a*this.m11-b*this.m01)/c;d.y=(b*this.m00-a*this.m10)/c;return!0},clone:function(a){null==a&&(a=new Ja);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:Ja};var tb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};l["kit.math.Point"]=tb;tb.__name__=["kit","math","Point"];tb.prototype={add:function(a,b){this.x+=a;this.y+=b},normalize:function(){var a=this.magnitude();this.x/=a;this.y/=a},dot:function(a,b){return this.x*a+this.y*
b},multiply:function(a){this.x*=a;this.y*=a},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:tb};var r=function(){this.$5G=null;this.$xG=this.$yG=0;this.$wG=null;var a=this;y.call(this);this.$nE|=150;this.$vG=new Ja;var b=function(b,c){a.$nE|=24};this.x=new $(0,b);this.y=new $(0,b);this.rotation=new $(0,b);this.scaleX=new $(1,b);this.scaleY=new $(1,b);this.anchorX=new $(0,b);this.anchorY=new $(0,b);this.alpha=new $(1)};l["kit.display.Sprite"]=r;r.__name__=["kit","display",
"Sprite"];r.hitTest=function(a,b,d){if(!a.active)return null;var c=a.$BF[1];if(null!=c){if(6!=(c.$nE&6)||null!=c.$5G&&null!=c.$5G.$iI||!c.getLocalMatrix().inverseTransform(b,d,r.$AH))return null;b=r.$AH.x;d=r.$AH.y;var h=c.get_scissor();if(null!=h&&!h.contains(b,d))return null}a=r.$9G(a.firstChild,b,d);return null!=a?a:null!=c&&c.containsLocal(b,d)?c:null};r.getBounds=function(a,b){null==b&&(b=new Ha);b.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);r.$$G(a,
null,b);b.width-=b.x;b.height-=b.y;return b};r.render=function(a,b){r.$6G(a,b,!0)};r.$6G=function(a,b,d){if(a.active){var c=null,h=null,n=a.$BF[1];if(null!=n){var e=n.alpha.$hF;if(0==(n.$nE&2)||0>=e)return;var f=n.$5G;if(d&&null!=f&&null!=f.$iI)return;b.save();null!=f&&null!=f.$hI&&0!=(n.$nE&128)&&(d=f.$hI.owner,null!=d&&(b.beginMask(),r.$6G(d,b,!1),b.endMask()));if(null!=f){var g=!1;d=!1;for(var l=0,p=0,s=0,R=0,t=0,v=f.$jI;t<v.length;){var C=v[t];++t;C.active&&(g=!0,d=d?!0:!C.outputOnly,l=Math.max(l,
C.paddingTop),p=Math.max(p,C.paddingRight),s=Math.max(s,C.paddingBottom),R=Math.max(R,C.paddingLeft))}if(g&&m.$2F.$LF.get_filterSupported()){h=n.$pG();g=null!=h?h.getViewMatrix():null;t=n.getViewMatrix();h=new Ha;h.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);var x=f.$kI;if(null!=x){var v=x.x,C=x.y,u=v+x.width,x=C+x.height;u>v&&x>C&&(r.$_G(t,v,C,h),r.$_G(t,u,C,h),r.$_G(t,u,x,h),r.$_G(t,v,x,h))}else r.$$G(a,g,h);h.width-=h.x;h.height-=h.y;if(!h.get_empty()){h.x-=
R;h.y-=l;h.width+=R+p;h.height+=l+s;c=r.$CH.$iG(h.x,h.y,Math.ceil(h.width),Math.ceil(h.height));d&&(c=c.get_graphics(),c.save(),c.translate(-h.x,-h.y),c.transform(t.m00,t.m10,t.m01,t.m11,t.m02,t.m12),r.$8G(n,c),r.$7G(a,c),c.restore());c=0;for(d=f.$jI;c<d.length;)l=d[c],++c,r.$CH.apply(l);c=r.$CH.$jG();null!=g&&(d=g.clone(r.$BH),d.invert(),b.transform(d.m00,d.m10,d.m01,d.m11,d.m02,d.m12))}}}1>e&&b.multiplyAlpha(e);null==c&&(e=n.getLocalMatrix(),b.transform(e.m00,e.m10,e.m01,e.m11,e.m02,e.m12));null!=
f&&(1==f.$dI.$hF&&1==f.$eI.$hF&&1==f.$fI.$hF||b.tint(f.$dI.$hF,f.$eI.$hF,f.$fI.$hF),null!=f.$bI&&b.setBlendMode(f.$bI),f=f.$cI,null!=f&&null==c&&b.applyScissor(f.x,f.y,f.width,f.height));null==c?r.$8G(n,b):b.drawSubTexture(c,h.x,h.y,0,0,h.width,h.height)}null==c&&r.$7G(a,b);null!=n&&b.restore()}};r.$7G=function(a,b){var d=a.$BF[7];if(null!=d)for(var d=d.occludedScenes,c=0;c<d.length;){var h=d[c];++c;r.render(h,b)}for(d=a.firstChild;null!=d;)c=d.next,r.render(d,b),d=c};r.$8G=function(a,b){a.draw(b);
var d=a.$5G;null!=d&&null!=d.$gI&&d.$gI.render(b)};r.$9G=function(a,b,d){if(null!=a){var c=r.$9G(a.next,b,d);return null!=c?c:r.hitTest(a,b,d)}return null};r.$$G=function(a,b,d){if(a.active){var c=a.$BF[1];if(null!=c){if(0==(c.$nE&2)||null!=c.$5G&&null!=c.$5G.$iI)return;b=null!=b?Ja.multiply(b,c.getLocalMatrix()):c.getLocalMatrix();var h=c.getNaturalWidth(),c=c.getNaturalHeight();0<h&&0<c&&(r.$_G(b,0,0,d),r.$_G(b,h,0,d),r.$_G(b,h,c,d),r.$_G(b,0,c,d))}h=a.$BF[7];if(null!=h)for(var h=h.occludedScenes,
c=0,n=h.length;c<n;)r.$$G(h[c],b,d),++c;for(a=a.firstChild;null!=a;)h=a.next,r.$$G(a,b,d),a=h}};r.$_G=function(a,b,d,c){a=a.transform(b,d,r.$AH);b=a.x;d=a.y;b<c.x&&(c.x=b);d<c.y&&(c.y=d);b>c.width&&(c.width=b);d>c.height&&(c.height=d)};r.__super__=y;r.prototype=t(y.prototype,{get_entitySlot:function(){return 1},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b?b<this.getNaturalHeight():!1},getLocalMatrix:function(){0!=
(this.$nE&8)&&(this.$nE&=-9,this.$vG.compose(this.x.$hF,this.y.$hF,this.scaleX.$hF,this.scaleY.$hF,3.141592653589793*this.rotation.$hF/180),this.$vG.translate(-this.anchorX.$hF,-this.anchorY.$hF));return this.$vG},getViewMatrix:function(){if(this.$oG()){var a=this.$pG();this.$wG=null!=a?Ja.multiply(a.getViewMatrix(),this.getLocalMatrix(),this.$wG):this.getLocalMatrix().clone(this.$wG);this.$nE&=-17;null!=a&&(this.$yG=a.$xG);++this.$xG}return this.$wG},setAnchor:function(a,b){this.anchorX.set__(a);
this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setTint:function(a){if(null!=this.$5G||16777215!=a)this.get_tintR().set__((a&16711680)/16711680),this.get_tintG().set__((a&65280)/65280),this.get_tintB().set__((a&255)/255);return this},setScale:function(a){this.scaleX.set__(a);
this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},onAdded:function(){0!=(this.$nE&64)&&this.$qG()},onRemoved:function(){null!=this.$4G&&(this.$4G.dispose(),this.$4G=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a);var b=this.$5G;if(null!=b){b.$dI.update(a);b.$eI.update(a);b.$fI.update(a);
for(var d=0,b=b.$jI;d<b.length;){var c=b[d];++d;c.active&&c.update(a)}}},draw:function(a){},$oG:function(){if(0!=(this.$nE&16))return!0;var a=this.$pG();return null==a?!1:this.$yG==a.$xG?a.$oG():!0},$pG:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a.$BF[1];if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this.$zG&&(this.$zG=new na);return this.$zG},get_pointerIn:function(){null==this.$2G&&(this.$2G=new na);return this.$2G},get_pointerOut:function(){null==
this.$3G&&(this.$3G=new na);return this.$3G},$qG:function(){var a=this;null==this.$4G&&m.$2F.$EF.$5N(function(){a.$4G=m.$2F.$KF.move.connect(function(b){for(var d=b.hit;null!=d;){if(d==a)return;d=d.$pG()}null!=a.$3G&&0!=(a.$nE&64)&&a.$3G.emit(b);a.$nE&=-65;null!=a.$4G&&(a.$4G.dispose(),a.$4G=null)})})},get_blendMode:function(){return null!=this.$5G?this.$5G.$bI:null},set_blendMode:function(a){if(null==this.$5G){if(null==a)return null;this.$5G=new Eb}return this.$5G.$bI=a},get_scissor:function(){return null!=
this.$5G?this.$5G.$cI:null},set_scissor:function(a){if(null==this.$5G){if(null==a)return null;this.$5G=new Eb}return this.$5G.$cI=a},get_tintR:function(){null==this.$5G&&(this.$5G=new Eb);return this.$5G.$dI},get_tintG:function(){null==this.$5G&&(this.$5G=new Eb);return this.$5G.$eI},get_tintB:function(){null==this.$5G&&(this.$5G=new Eb);return this.$5G.$fI},set_mask:function(a){if(null==this.$5G){if(null==a)return null;this.$5G=new Eb}var b=this.$5G.$hI;if(null!=b&&(b=b.$5G,null!=b&&null!=b.$iI)){var d=
b.$iI;b.$iI=null;d.set_mask(null)}null!=a&&(b=a.$5G,null==b&&(b=a.$5G=new Eb),null!=b.$iI&&b.$iI.set_mask(null),b.$iI=this);return this.$5G.$hI=a},set_maskEnabled:function(a){this.$nE=yc.set(this.$nE,128,a);return a},set_visible:function(a){this.$nE=yc.set(this.$nE,2,a);return a},set_pointerEnabled:function(a){this.$nE=yc.set(this.$nE,4,a);return a},$rG:function(a){this.$tG(a);null!=this.$zG&&this.$zG.emit(a)},$sG:function(a){this.$tG(a);null!=this.$0G&&this.$0G.emit(a)},$tG:function(a){0==(this.$nE&
64)&&(this.$nE|=64,null!=this.$2G||null!=this.$3G)&&(null!=this.$2G&&this.$2G.emit(a),this.$qG())},$uG:function(a){1==a.source[1]&&(null!=this.$3G&&0!=(this.$nE&64)&&this.$3G.emit(a),this.$nE&=-65,null!=this.$4G&&(this.$4G.dispose(),this.$4G=null));null!=this.$1G&&this.$1G.emit(a)},__class__:r,__properties__:t(y.prototype.__properties__,{get_tintB:"get_tintB",get_tintG:"get_tintG",get_tintR:"get_tintR",get_pointerOut:"get_pointerOut",get_pointerIn:"get_pointerIn",get_pointerDown:"get_pointerDown",
set_pointerEnabled:"set_pointerEnabled",set_visible:"set_visible",set_maskEnabled:"set_maskEnabled",set_mask:"set_mask",set_scissor:"set_scissor",get_scissor:"get_scissor",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode"})});var sd=function(a){this.$NH=new e;this.state=new sa(null);r.call(this);this.$MH=a};l["kit.creator.ObjectSprite"]=sd;sd.__name__=["kit","creator","ObjectSprite"];sd.__super__=r;sd.prototype=t(r.prototype,{$LH:function(a,b){var d=this.$MH.tile;if(null==d.texture){var c=
d.properties;a.x.set__(-parseFloat(null!=K.boundsX?c.getReserved("boundsX"):c.h.boundsX));d=d.properties;a.y.set__(-parseFloat(null!=K.boundsY?d.getReserved("boundsY"):d.h.boundsY))}this.$NH.add(a);this.state.set__(b)},onStart:function(){r.prototype.onStart.call(this);if(null!=this.owner&&(this.owner.addChild(this.$NH),null==this.state.$hF)){var a,b=this.$MH.tile,d=!1;if(null!=b.texture)a=new Z(b.texture);else{a=this.owner._internal_getFromParents(0);var c=b.properties,c=null!=K.symbol?c.getReserved("symbol"):
c.h.symbol,h=b.properties;null!=(null!=K.scene?h.getReserved("scene"):h.h.scene)?(c=a.getSceneSymbol(c),a=c.createSprite(),this.$NH.add(c.createScript()),b=b.properties,2<=parseFloat(null!=K.version?b.getReserved("version"):b.h.version)&&(d=!0)):(a=b.tileset.properties,null==(null!=K.library?a.getReserved("library"):a.h.library)&&(b=b.tileset.properties,null!=K.texturepacker&&b.getReserved("texturepacker")),a=null)}this.$LH(a,null);d&&(this.$NH.yieldForStart(),a.setXY(0,0),d=r.getBounds(this.$NH),
d.get_empty()||a.setXY(-d.x+0,-d.y+(this.$MH.height-d.height)),this.setScale(1))}},__class__:sd});var Da=function(a,b,d){null==d&&(d=!1);this.$QH=a;this.$fG=a.getFile(b+(d?".symbol":".scene"));this.symbol=d;a=b.lastIndexOf("/");this.$RH=0<=a?F.substr(b,0,a+1):"";this.$cG();this.reloadCount=new sa(0)};l["kit.creator.SceneInfo"]=Da;Da.__name__=["kit","creator","SceneInfo"];Da.$TH=function(a){var b=new da;if(null!=a)for(var d=0,c=la.fields(a);d<c.length;){var h=c[d];++d;if(!qa.startsWith(h,"//")){var n=
Da.$UH(la.field(a,h));null!=n&&(null!=K[h]?b.setReserved(h,n):b.h[h]=n)}}return b};Da.$UH=function(a){null!=a&&(a=qa.trim(a),0==a.length&&(a=null));return a};Da.$VH=function(a,b){return null!=a?a:b};Da.prototype={disposeFiles:function(){this.$fG.dispose();return this},createSprite:function(){return new Ta(this)},createScript:function(){return new td(this)},getLayer:function(a,b){for(var d=0,c=this.layers;d<c.length;){var h=c[d];++d;if(h.name==a)return h}return null},getObject:function(a,b){var d=
this.$SH;return null!=K[a]?d.getReserved(a):d.h[a]},$OH:function(a){return this.$QH.getTexture(this.$RH+Na.removeFileExtension(a),!1)},$PH:function(a){return this.$QH.getTexture(a)},$cG:function(){var a=this,b=this.$fG.toJson();this.width=b.width;this.height=b.height;this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;this.tilesets=b.tilesets.map(function(b){return new Df(a,b)});this.backgroundColor=null!=b.backgroundcolor?v.parseInt(qa.replace(b.backgroundcolor,"#","0x")):8421504;this.tiles=
new Ia;for(var d=0,c=this.tilesets;d<c.length;){var h=c[d];++d;for(var n=0,h=h.tiles;n<h.length;){var e=h[n];++n;this.tiles.h[e.id]=e}}this.layers=b.layers.map(function(b){return new xc(a,b)});this.properties=Da.$TH(b.properties);this.script=new Ef(b.script);this.$SH=new da;b=0;for(d=this.layers;b<d.length;)if(n=d[b],++b,null!=n.objects)for(c=0,n=n.objects;c<n.length;)if(h=n[c],++c,null!=h.name){var e=h.name,f=this.$SH;null!=K[e]?f.setReserved(e,h):f.h[e]=h}},__class__:Da};var nb=l["kit.creator.LayerType"]=
{__ename__:["kit","creator","LayerType"],__constructs__:["Tile","Object"]};nb.Tile=["Tile",0];nb.Tile.toString=p;nb.Tile.__enum__=nb;nb.Object=["Object",1];nb.Object.toString=p;nb.Object.__enum__=nb;var xc=function(a,b){this.parallaxX=this.parallaxY=1;this.tiles=this.objects=null;var d=this;this.scene=a;this.name=Da.$UH(b.name);var c;switch(b.type){case "objectgroup":c=nb.Object;break;case "tilelayer":c=nb.Tile;break;default:c=null}this.type=c;this.width=b.width;this.height=b.height;this.opacity=
b.opacity;this.visible=b.visible;null!=b.data&&(this.tiles=b.data.map(function(b){return 0!=b?a.tiles.h[b]:null}));null!=b.objects&&(this.objects=b.objects.map(function(a){return new Ob(d,a)}),"index"!=b.draworder&&this.objects.sort(function(a,b){return la.compare(a.y+a.height,b.y+b.height)}));null!=b.parallaxX&&(this.parallaxX=b.parallaxX,this.parallaxY=b.parallaxY);this.tileCollisions=b.collisions;this.properties=Da.$TH(b.properties)};l["kit.creator.LayerInfo"]=xc;xc.__name__=["kit","creator","LayerInfo"];
xc.prototype={__class__:xc};var oa=l["kit.creator.ObjectShape"]={__ename__:["kit","creator","ObjectShape"],__constructs__:["Rectangle","Ellipse","Polygon","Polyline","Tile"]};oa.Rectangle=["Rectangle",0];oa.Rectangle.toString=p;oa.Rectangle.__enum__=oa;oa.Ellipse=["Ellipse",1];oa.Ellipse.toString=p;oa.Ellipse.__enum__=oa;oa.Polygon=["Polygon",2];oa.Polygon.toString=p;oa.Polygon.__enum__=oa;oa.Polyline=["Polyline",3];oa.Polyline.toString=p;oa.Polyline.__enum__=oa;oa.Tile=["Tile",4];oa.Tile.toString=
p;oa.Tile.__enum__=oa;var Df=function(a,b){this.offsetX=this.offsetY=0;this.atlas=null;this.scene=a;this.name=Da.$UH(b.name);this.spacing=b.spacing;this.margin=b.margin;var d=b.tileoffset;null!=d&&(this.offsetX=d.x,this.offsetY=d.y);this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;if(null!=b.image){this.atlas=a.$OH(b.image);null==this.atlas&&(this.atlas=a.$PH(this.name));var d=this.atlas.get_width()-2*this.margin,c=this.atlas.get_height()-2*this.margin,d=(d+this.spacing)/(this.tileWidth+this.spacing)|
0,c=(c+this.spacing)/(this.tileHeight+this.spacing)|0;this.tiles=Array(d*c);for(var h=0,n=0;n<c;)for(var e=n++,f=0,g=d;f<g;){var l=f++,m=new wd(this,b,h);m.texture=this.atlas.subTexture(l*(this.tileWidth+this.spacing)+this.margin,e*(this.tileHeight+this.spacing)+this.margin,this.tileWidth,this.tileHeight);this.tiles[h]=m;++h}}else this.tiles=[];if(null!=b.tiles)for(d=0,c=la.fields(b.tiles);d<c.length;)if(h=c[d],++d,n=la.field(b.tiles,h),e=v.parseInt(h),h=this.tiles[e],null==h&&(h=this.tiles[e]=new wd(this,
b,e)),null!=n.image&&(e=h.properties,"true"!=(null!=K.previewImage?e.getReserved("previewImage"):e.h.previewImage)&&(h.texture=a.$OH(n.image),null==h.texture&&(h.texture=a.$PH(this.name)))),null!=n.objectgroup)for(e=0,n=n.objectgroup.objects;e<n.length;)f=n[e],++e,h.collision.push(new Ob(null,f));this.properties=Da.$TH(b.properties)};l["kit.creator.TilesetInfo"]=Df;Df.__name__=["kit","creator","TilesetInfo"];Df.prototype={__class__:Df};var wd=function(a,b,d){this.collision=[];this.texture=null;this.id=
b.firstgid+d;this.tileset=a;this.properties=Da.$TH(null!=b.tileproperties?la.field(b.tileproperties,""+d):null)};l["kit.creator.TileInfo"]=wd;wd.__name__=["kit","creator","TileInfo"];wd.prototype={get_width:function(){if(null!=this.texture)return this.texture.get_width();var a=this.properties;return v.parseInt(null!=K.boundsWidth?a.getReserved("boundsWidth"):a.h.boundsWidth)},get_height:function(){if(null!=this.texture)return this.texture.get_height();var a=this.properties;return v.parseInt(null!=
K.boundsHeight?a.getReserved("boundsHeight"):a.h.boundsHeight)},__class__:wd,__properties__:{get_height:"get_height",get_width:"get_width"}};var Ef=function(a){this.groups=null!=a?a.groups.map(function(a){return new Ff(a)}):[]};l["kit.creator.ScriptInfo"]=Ef;Ef.__name__=["kit","creator","ScriptInfo"];Ef.prototype={__class__:Ef};var Ff=function(a){this.actions=[];this.name=a.name;this.actions=a.actions.map(function(a){return new xd(a)})};l["kit.creator.GroupInfo"]=Ff;Ff.__name__=["kit","creator","GroupInfo"];
Ff.prototype={__class__:Ff};var xd=function(a){this.type=a.type;this.subActions=null!=a.subActions?a.subActions.map(function(a){return new xd(a)}):[];this.properties=Da.$TH(a.properties)};l["kit.creator.ActionInfo"]=xd;xd.__name__=["kit","creator","ActionInfo"];xd.prototype={__class__:xd};var Ha=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,d,c)};l["kit.math.Rectangle"]=Ha;Ha.__name__=["kit","math","Rectangle"];Ha.prototype={set:function(a,b,d,c){this.x=
a;this.y=b;this.width=d;this.height=c},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&(a=new Ha);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},get_empty:function(){return 0>=this.width?!0:0>=this.height},
__class__:Ha,__properties__:{get_empty:"get_empty"}};var Ta=function(a){this.drawBackgroundColor=!1;this.objects=new ra;this.layers=new da;this.camera=null;r.call(this);this.info=a;var b=new r;this.cameraX=new $(0,function(a,c){b.x.set__(-a)});this.cameraY=new $(0,function(a,c){b.y.set__(-a)});this.cameraWidth=new $(a.tileWidth*a.width);this.cameraHeight=new $(a.tileHeight*a.height);this.content=(new e).add(b)};l["kit.creator.SceneSprite"]=Ta;Ta.__name__=["kit","creator","SceneSprite"];Ta.$ZH=function(a){null==
a&&(a=new Ha);var b=za.$fL("width"),d=za.$fL("height"),c=Math.min(m.$2F.$MF.get_width()/b,m.$2F.$MF.get_height()/d);if(1==za.$fL("scaleMode")){var h=Math.max(b,za.$fL("maxWidth")|0),n=Math.max(d,za.$fL("maxHeight")|0);a.width=Math.min(m.$2F.$MF.get_width()/c,h);a.height=Math.min(m.$2F.$MF.get_height()/c,n)}else a.width=m.$2F.$MF.get_width()/c,a.height=m.$2F.$MF.get_height()/c;a.x=-(a.width/2-b/2);a.y=-(a.height/2-d/2);return a};Ta.__super__=r;Ta.prototype=t(r.prototype,{onStart:function(){r.prototype.onStart.call(this);
for(var a=0,b=this.info.layers;a<b.length;){var d=b[a];++a;var c=new e;this.$WH(d,c);this.content.addChild(c)}},onAdded:function(){r.prototype.onAdded.call(this);this.owner.addChild(this.content)},draw:function(a){null!=this.camera&&this.camera.$WG(this);if(this.drawBackgroundColor){var b=Ta.$ZH(Ta.$aH);a.fillRect(this.info.backgroundColor,b.x,b.y,b.width,b.height)}},onUpdate:function(a){r.prototype.onUpdate.call(this,a);this.cameraX.update(a);this.cameraY.update(a);this.cameraWidth.update(a);this.cameraHeight.update(a)},
$WH:function(a,b){var d;switch(a.type[1]){case 0:d=new yd(this,this.info,a);break;case 1:d=new r}d.alpha.set__(a.opacity);d.set_visible(a.visible);b.add(d);switch(a.type[1]){case 1:d=0;for(var c=a.objects;d<c.length;){var h=c[d];++d;var n=this.$XH(h,!0);if(null==n||n.spawned){var f=this.objects.get(h);if(h.shape==oa.Tile){if(null==f){var g=this.objects,f=new e;g.set(h,f)}f.add(h.createSprite());null!=n&&f.add(n)}null!=f&&b.addChild(f)}}}d=a.name;c=this.layers;null!=K[d]?c.setReserved(d,b):c.h[d]=
b},getNaturalWidth:function(){return this.info.symbol?0:this.cameraWidth.$hF},getNaturalHeight:function(){return this.info.symbol?0:this.cameraHeight.$hF},$XH:function(a,b){if(null==a.type)return null;if(b){var d=this.objects.h[a.__id__];if(null!=d&&(d=d.$BF[2],null!=d))return d}d=fa.resolveClass(a.type);if(null==d)return null;var c=fa.createInstance(d,[]);b&&this.objects.set(a,(new e).add(c));this.$YH(a,c,d);return c},$YH:function(a,b,d){for(var c=a.properties.keys();c.hasNext();){var h=c.next(),
n=a.properties,n=null!=K[h]?n.getReserved(h):n.h[h],e=Tb.$7L(d,h);null!=e&&(n=this.$eG(e,n,a.type+"."+h),null!=n&&la.setProperty(b,h,n))}b.info=a},$eG:function(a,b,d){var c=Tb.$eG(a,b);if(null!=c)return c;switch(a[1]){case 4:a=a[2];var c=[],h=0;for(b=b.split(",");h<b.length;){var n=b[h];++h;c.push(this.$eG(a,qa.trim(n),d))}return c;case 6:switch(a[2]){case e:d=this.info.getObject(b,!1);if(null==d)break;d=this.$XH(d,!0);return null!=d?d.owner:null;case xc:return this.info.getLayer(b,!1);case Ob:return this.info.getObject(b,
!1);default:d=a[2];b=this.info.getObject(b,!1);if(null==b)break;b=this.$XH(b,!0);if(null!=b){if(ea.__instanceof(b,d))return b;fa.getClassName(d)}}}return null},__class__:Ta});var yd=function(a,b,d){r.call(this);this.$bH=a;this.$cH=b;this.$dH=d};l.$CP=yd;yd.__name__=["$CP"];yd.__super__=r;yd.prototype=t(r.prototype,{getNaturalWidth:function(){return this.$cH.tileWidth*this.$dH.width},getNaturalHeight:function(){return this.$cH.tileHeight*this.$dH.height},containsLocal:function(a,b){var d=a/this.$cH.tileWidth|
0;if(0>d||d>=this.$dH.width)return!1;var c=b/this.$cH.tileHeight|0;return 0>c||c>=this.$dH.height?!1:null!=this.$dH.tiles[c*this.$dH.width+d]},draw:function(a){var b=this.$cH.tileWidth,d=this.$cH.tileHeight,c=this.$dH.width,h=this.$dH.height,n=Ta.$ZH(Ta.$aH);n.x=(n.x-this.x.$hF)/this.scaleX.$hF;n.y=(n.y-this.y.$hF)/this.scaleY.$hF;n.width/=this.scaleX.$hF;n.height/=this.scaleY.$hF;for(var e=sb.clamp(n.x/b|0,0,c),f=sb.clamp(n.y/d|0,0,h),g=sb.clamp(e+Math.ceil(n.width/b)+1,0,c),h=sb.clamp(f+Math.ceil(n.height/
d)+1,0,h);f<h;)for(var n=f++,l=e,m=g;l<m;){var p=l++,r=this.$dH.tiles[n*c+p];if(null!=r){var s=r.tileset;a.drawTexture(r.texture,p*b+s.offsetX,n*d+s.offsetY-s.tileHeight+d)}}},__class__:yd});var zd=function(){y.call(this);this.$1C()};l["kit.debug.FpsDisplay"]=zd;zd.__name__=["kit","debug","FpsDisplay"];zd.__super__=y;zd.prototype=t(y.prototype,{get_entitySlot:function(){return 15},onUpdate:function(a){++this.$eH;this.$fH+=a;if(1<this.$fH){a="FPS: "+Math.round(100*this.$eH/this.$fH)/100;var b=this.owner.$BF[1],
b=b instanceof O?b:null;null!=b&&b.set_text(a);this.$1C()}},$1C:function(){this.$fH=this.$eH=0},__class__:zd});var ka=l["kit.display.BlendMode"]={__ename__:["kit","display","BlendMode"],__constructs__:"Normal Add Multiply Screen Mask Copy".split(" ")};ka.Normal=["Normal",0];ka.Normal.toString=p;ka.Normal.__enum__=ka;ka.Add=["Add",1];ka.Add.toString=p;ka.Add.__enum__=ka;ka.Multiply=["Multiply",2];ka.Multiply.toString=p;ka.Multiply.__enum__=ka;ka.Screen=["Screen",3];ka.Screen.toString=p;ka.Screen.__enum__=
ka;ka.Mask=["Mask",4];ka.Mask.toString=p;ka.Mask.__enum__=ka;ka.Copy=["Copy",5];ka.Copy.toString=p;ka.Copy.__enum__=ka;var Ad=function(){};l["kit.display.Graphics"]=Ad;Ad.__name__=["kit","display","Graphics"];Ad.prototype={__class__:Ad};var Gf=function(){this.$hH=[]};l["kit.display.BufferedGraphics"]=Gf;Gf.__name__=["kit","display","BufferedGraphics"];Gf.__interfaces__=[Ad];Gf.prototype={save:function(){this.$gH(new Bd)},translate:function(a,b){this.$gH(new Cd(a,b))},scale:function(a,b){this.$gH(new Dd(a,
b))},rotate:function(a){this.$gH(new Ed(a))},transform:function(a,b,d,c,h,n){this.$gH(new Fd(a,b,d,c,h,n))},multiplyAlpha:function(a){this.$gH(new Gd(a))},setAlpha:function(a){this.$gH(new Hd(a))},tint:function(a,b,d){this.$gH(new Id(a,b,d))},setBlendMode:function(a){this.$gH(new Jd(a))},beginMask:function(){this.$gH(new Kd)},endMask:function(){this.$gH(new Ld)},applyScissor:function(a,b,d,c){this.$gH(new Md(a,b,d,c))},restore:function(){this.$gH(new Nd)},drawTexture:function(a,b,d){this.$gH(new Od(a,
b,d))},drawSubTexture:function(a,b,d,c,h,n,e){this.$gH(new Pd(a,b,d,c,h,n,e))},drawPattern:function(a,b,d,c,h){this.$gH(new Qd(a,b,d,c,h))},fillRect:function(a,b,d,c,h){this.$gH(new Rd(a,b,d,c,h))},fillTriangles:function(a,b,d){this.$gH(new Sd(a,b.slice(),d.slice()))},drawTriangles:function(a,b,d,c){this.$gH(new Td(a,b.slice(),d.slice(),null!=c?c.slice():null))},fillPolygon:function(a,b){this.$gH(new Ud(a,b.slice()))},drawPolygon:function(a,b){this.$gH(new Vd(a,b.slice()))},drawCircle:function(a,
b,d,c,h){null==h&&(h=50);this.$gH(new Wd(a,b,d,c,h))},fillCircle:function(a,b,d,c,h){null==h&&(h=50);this.$gH(new Xd(a,b,d,c,h))},strokeCircle:function(a,b,d,c,h,n){null==n&&(n=50);this.$gH(new Yd(a,b,d,c,h,n))},drawEllipse:function(a,b,d,c,h,n){null==n&&(n=50);this.$gH(new Zd(a,b,d,c,h,n))},fillEllipse:function(a,b,d,c,h,n){null==n&&(n=50);this.$gH(new $d(a,b,d,c,h,n))},strokeEllipse:function(a,b,d,c,h,n,e){null==e&&(e=50);this.$gH(new ae(a,b,d,c,h,n,e))},fillArc:function(a,b,d,c,h,n,e){null==e&&
(e=50);this.$gH(new be(a,b,d,c,h,n,e))},strokeArc:function(a,b,d,c,h,n,e,f){null==f&&(f=50);this.$gH(new ce(a,b,d,c,h,n,e,f))},strokeLines:function(a,b,d){this.$gH(new de(a,b.slice(),d))},drawLines:function(a,b,d){this.$gH(new ee(a,b.slice(),d))},render:function(a){for(var b=0,d=this.$hH.length;b<d;){var c=b++;this.$hH[c].$iH(a)}},$gH:function(a){this.$hH.push(a)},__class__:Gf};var N=function(){};l.$CQ=N;N.__name__=["$CQ"];N.prototype={$iH:function(a){},__class__:N};var Bd=function(){};l.$CR=Bd;Bd.__name__=
["$CR"];Bd.__super__=N;Bd.prototype=t(N.prototype,{$iH:function(a){a.save()},__class__:Bd});var Cd=function(a,b){this.$jH=a;this.$kH=b};l.$CS=Cd;Cd.__name__=["$CS"];Cd.__super__=N;Cd.prototype=t(N.prototype,{$iH:function(a){a.translate(this.$jH,this.$kH)},__class__:Cd});var Dd=function(a,b){this.$jH=a;this.$kH=b};l.$CT=Dd;Dd.__name__=["$CT"];Dd.__super__=N;Dd.prototype=t(N.prototype,{$iH:function(a){a.scale(this.$jH,this.$kH)},__class__:Dd});var Ed=function(a){this.$lH=a};l.$CU=Ed;Ed.__name__=["$CU"];
Ed.__super__=N;Ed.prototype=t(N.prototype,{$iH:function(a){a.rotate(this.$lH)},__class__:Ed});var Fd=function(a,b,d,c,h,n){this.$mH=a;this.$nH=b;this.$oH=d;this.$pH=c;this.$qH=h;this.$rH=n};l.$CV=Fd;Fd.__name__=["$CV"];Fd.__super__=N;Fd.prototype=t(N.prototype,{$iH:function(a){a.transform(this.$mH,this.$nH,this.$oH,this.$pH,this.$qH,this.$rH)},__class__:Fd});var Gd=function(a){this.$sH=a};l.$CW=Gd;Gd.__name__=["$CW"];Gd.__super__=N;Gd.prototype=t(N.prototype,{$iH:function(a){a.multiplyAlpha(this.$sH)},
__class__:Gd});var Hd=function(a){this.$tH=a};l.$CX=Hd;Hd.__name__=["$CX"];Hd.__super__=N;Hd.prototype=t(N.prototype,{$iH:function(a){a.setAlpha(this.$tH)},__class__:Hd});var Id=function(a,b,d){this.$uH=a;this.$vH=b;this.$wH=d};l.$CY=Id;Id.__name__=["$CY"];Id.__super__=N;Id.prototype=t(N.prototype,{$iH:function(a){a.tint(this.$uH,this.$vH,this.$wH)},__class__:Id});var Jd=function(a){this.$xH=a};l.$CZ=Jd;Jd.__name__=["$CZ"];Jd.__super__=N;Jd.prototype=t(N.prototype,{$iH:function(a){a.setBlendMode(this.$xH)},
__class__:Jd});var Md=function(a,b,d,c){this.$jH=a;this.$kH=b;this.$yH=d;this.$zH=c};l.$Ca=Md;Md.__name__=["$Ca"];Md.__super__=N;Md.prototype=t(N.prototype,{$iH:function(a){a.applyScissor(this.$jH,this.$kH,this.$yH,this.$zH)},__class__:Md});var Kd=function(){};l.$Cb=Kd;Kd.__name__=["$Cb"];Kd.__super__=N;Kd.prototype=t(N.prototype,{$iH:function(a){a.beginMask()},__class__:Kd});var Ld=function(){};l.$Cc=Ld;Ld.__name__=["$Cc"];Ld.__super__=N;Ld.prototype=t(N.prototype,{$iH:function(a){a.endMask()},__class__:Ld});
var Nd=function(){};l.$Cd=Nd;Nd.__name__=["$Cd"];Nd.__super__=N;Nd.prototype=t(N.prototype,{$iH:function(a){a.restore()},__class__:Nd});var Od=function(a,b,d){this.$0H=a;this.$1H=b;this.$2H=d};l.$Ce=Od;Od.__name__=["$Ce"];Od.__super__=N;Od.prototype=t(N.prototype,{$iH:function(a){a.drawTexture(this.$0H,this.$1H,this.$2H)},__class__:Od});var Pd=function(a,b,d,c,h,n,e){this.$0H=a;this.$1H=b;this.$2H=d;this.$3H=c;this.$4H=h;this.$5H=n;this.$6H=e};l.$Cf=Pd;Pd.__name__=["$Cf"];Pd.__super__=N;Pd.prototype=
t(N.prototype,{$iH:function(a){a.drawSubTexture(this.$0H,this.$1H,this.$2H,this.$3H,this.$4H,this.$5H,this.$6H)},__class__:Pd});var Qd=function(a,b,d,c,h){this.$0H=a;this.$1H=b;this.$2H=d;this.$yH=c;this.$zH=h};l.$Cg=Qd;Qd.__name__=["$Cg"];Qd.__super__=N;Qd.prototype=t(N.prototype,{$iH:function(a){a.drawPattern(this.$0H,this.$1H,this.$2H,this.$yH,this.$zH)},__class__:Qd});var Sd=function(a,b,d){this.$7H=a;this.$8H=b;this.$9H=d};l.$Ch=Sd;Sd.__name__=["$Ch"];Sd.__super__=N;Sd.prototype=t(N.prototype,
{$iH:function(a){a.fillTriangles(this.$7H,this.$8H,this.$9H)},__class__:Sd});var Td=function(a,b,d,c){this.$0H=a;this.$8H=b;this.$9H=d;this.$$H=c};l.$Ci=Td;Td.__name__=["$Ci"];Td.__super__=N;Td.prototype=t(N.prototype,{$iH:function(a){a.drawTriangles(this.$0H,this.$8H,this.$9H,this.$$H)},__class__:Td});var Ud=function(a,b){this.$7H=a;this.$8H=b};l.$Cj=Ud;Ud.__name__=["$Cj"];Ud.__super__=N;Ud.prototype=t(N.prototype,{$iH:function(a){a.fillPolygon(this.$7H,this.$8H)},__class__:Ud});var Vd=function(a,
b){this.$0H=a;this.$8H=b};l.$Ck=Vd;Vd.__name__=["$Ck"];Vd.__super__=N;Vd.prototype=t(N.prototype,{$iH:function(a){a.drawPolygon(this.$0H,this.$8H)},__class__:Vd});var Wd=function(a,b,d,c,h){this.$0H=a;this.$_H=b;this.$AI=d;this.$BI=c;this.$CI=h};l.$Cl=Wd;Wd.__name__=["$Cl"];Wd.__super__=N;Wd.prototype=t(N.prototype,{$iH:function(a){a.drawCircle(this.$0H,this.$_H,this.$AI,this.$BI,this.$CI)},__class__:Wd});var Xd=function(a,b,d,c,h){this.$7H=a;this.$_H=b;this.$AI=d;this.$BI=c;this.$CI=h};l.$Cm=Xd;
Xd.__name__=["$Cm"];Xd.__super__=N;Xd.prototype=t(N.prototype,{$iH:function(a){a.fillCircle(this.$7H,this.$_H,this.$AI,this.$BI,this.$CI)},__class__:Xd});var Yd=function(a,b,d,c,h,n){this.$7H=a;this.$_H=b;this.$AI=d;this.$BI=c;this.$DI=h;this.$CI=n};l.$Cn=Yd;Yd.__name__=["$Cn"];Yd.__super__=N;Yd.prototype=t(N.prototype,{$iH:function(a){a.strokeCircle(this.$7H,this.$_H,this.$AI,this.$BI,this.$DI,this.$CI)},__class__:Yd});var $d=function(a,b,d,c,h,n){this.$7H=a;this.$_H=b;this.$AI=d;this.$EI=c;this.$FI=
h;this.$CI=n};l.$Co=$d;$d.__name__=["$Co"];$d.__super__=N;$d.prototype=t(N.prototype,{$iH:function(a){a.fillEllipse(this.$7H,this.$_H,this.$AI,this.$EI,this.$FI,this.$CI)},__class__:$d});var Zd=function(a,b,d,c,h,n){this.$0H=a;this.$_H=b;this.$AI=d;this.$EI=c;this.$FI=h;this.$CI=n};l.$Cp=Zd;Zd.__name__=["$Cp"];Zd.__super__=N;Zd.prototype=t(N.prototype,{$iH:function(a){a.drawEllipse(this.$0H,this.$_H,this.$AI,this.$EI,this.$FI,this.$CI)},__class__:Zd});var ae=function(a,b,d,c,h,n,e){this.$7H=a;this.$_H=
b;this.$AI=d;this.$EI=c;this.$FI=h;this.$DI=n;this.$CI=e};l.$Cq=ae;ae.__name__=["$Cq"];ae.__super__=N;ae.prototype=t(N.prototype,{$iH:function(a){a.strokeEllipse(this.$7H,this.$_H,this.$AI,this.$EI,this.$FI,this.$DI,this.$CI)},__class__:ae});var be=function(a,b,d,c,h,n,e){this.$7H=a;this.$_H=b;this.$AI=d;this.$BI=c;this.$GI=h;this.$HI=n;this.$CI=e};l.$Cr=be;be.__name__=["$Cr"];be.__super__=N;be.prototype=t(N.prototype,{$iH:function(a){a.fillArc(this.$7H,this.$_H,this.$AI,this.$BI,this.$GI,this.$HI,
this.$CI)},__class__:be});var ce=function(a,b,d,c,h,n,e,f){this.$7H=a;this.$_H=b;this.$AI=d;this.$BI=c;this.$GI=h;this.$HI=n;this.$DI=e;this.$CI=f};l.$Cs=ce;ce.__name__=["$Cs"];ce.__super__=N;ce.prototype=t(N.prototype,{$iH:function(a){a.strokeArc(this.$7H,this.$_H,this.$AI,this.$BI,this.$GI,this.$HI,this.$DI,this.$CI)},__class__:ce});var de=function(a,b,d){this.$7H=a;this.$8H=b;this.$II=d};l.$Ct=de;de.__name__=["$Ct"];de.__super__=N;de.prototype=t(N.prototype,{$iH:function(a){a.strokeLines(this.$7H,
this.$8H,this.$II)},__class__:de});var ee=function(a,b,d){this.$0H=a;this.$8H=b;this.$II=d};l.$Cu=ee;ee.__name__=["$Cu"];ee.__super__=N;ee.prototype=t(N.prototype,{$iH:function(a){a.drawLines(this.$0H,this.$8H,this.$II)},__class__:ee});var Rd=function(a,b,d,c,h){this.$7H=a;this.$jH=b;this.$kH=d;this.$yH=c;this.$zH=h};l.$Cv=Rd;Rd.__name__=["$Cv"];Rd.__super__=N;Rd.prototype=t(N.prototype,{$iH:function(a){a.fillRect(this.$7H,this.$jH,this.$kH,this.$yH,this.$zH)},__class__:Rd});var J=function(a,b,d){r.call(this);
this.color=a;this.width=new $(b);this.height=new $(d)};l["kit.display.FillSprite"]=J;J.__name__=["kit","display","FillSprite"];J.__super__=r;J.prototype=t(r.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width.$hF,this.height.$hF)},getNaturalWidth:function(){return this.width.$hF},getNaturalHeight:function(){return this.height.$hF},setSize:function(a,b){this.width.set__(a);this.height.set__(b);return this},onUpdate:function(a){r.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},
__class__:J});var fe=function(a){this.$KI=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};l["kit.display.Glyph"]=fe;fe.__name__=["kit","display","Glyph"];fe.prototype={draw:function(a,b,d){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,d+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this.$KI?this.$KI.h[a]|0:0},$JI:function(a,b){null==this.$KI&&(this.$KI=new Ia);this.$KI.h[a]=b},
__class__:fe};var ta=function(a,b){this.name=b;this.$QH=a;this.$fG=a.getFile(b+".fnt");this.$cG()};l["kit.display.Font"]=ta;ta.__name__=["kit","display","Font"];ta.prototype={layoutText:function(a,b,d,c,h){null==h&&(h=0);null==c&&(c=0);null==d&&(d=0);null==b&&(b=Ba.Left);return new ub(this,a,b,d,c,h)},$cG:function(){this.$LI=new Ia;this.$LI.h[ta.$MI.charCode]=ta.$MI;for(var a=new bc(this.$fG.toString()),b=new Ia,d=this.name.lastIndexOf("/"),d=0<=d?F.substr(this.name,0,d+1):"",c=a.$RI();c.hasNext();)switch(c.next()){case "char":for(var h=
null,n=a.$SI();n.hasNext();){var e=n.next();switch(e.$YI){case "height":h.height=e.$ZI();break;case "id":h=new fe(e.$ZI());break;case "page":e=e.$ZI();h.page=b.h[e];break;case "width":h.width=e.$ZI();break;case "x":h.x=e.$ZI();break;case "xadvance":h.xAdvance=e.$ZI();break;case "xoffset":h.xOffset=e.$ZI();break;case "y":h.y=e.$ZI();break;case "yoffset":h.yOffset=e.$ZI()}}this.$LI.set(h.charCode,h);break;case "common":for(h=a.$SI();h.hasNext();)n=h.next(),"lineHeight"==n.$YI&&(this.lineHeight=n.$ZI());
break;case "info":for(h=a.$SI();h.hasNext();)switch(n=h.next(),n.$YI){case "face":this.typeface=n.$aI();break;case "size":this.size=n.$ZI()}break;case "kerning":for(var h=null,e=n=0,f=a.$SI();f.hasNext();){var g=f.next();switch(g.$YI){case "amount":e=g.$ZI();break;case "first":h=this.$LI.get(g.$ZI());break;case "second":n=g.$ZI()}}null!=h&&0!=e&&h.$JI(n,e);break;case "page":h=0;n=null;for(e=a.$SI();e.hasNext();)switch(f=e.next(),f.$YI){case "file":n=f.$aI();break;case "id":h=f.$ZI()}n=this.$QH.getTexture(d+
Na.removeFileExtension(n));b.h[h]=n}},__class__:ta};var Ba=l["kit.display.TextAlign"]={__ename__:["kit","display","TextAlign"],__constructs__:["Left","Center","Right"]};Ba.Left=["Left",0];Ba.Left.toString=p;Ba.Left.__enum__=Ba;Ba.Center=["Center",1];Ba.Center.toString=p;Ba.Center.__enum__=Ba;Ba.Right=["Right",2];Ba.Right.toString=p;Ba.Right.__enum__=Ba;var ub=function(a,b,d,c,h,n){this.lines=0;var e=this;this.$NI=a;this.$LI=[];this.$OI=[];this.$PI=Math.round(a.lineHeight+n);this.bounds=new Ha;var f=
[];n=0;for(var g=b.length;n<g;){var l=n++,l=b.charCodeAt(l),l=a.$LI.get(l);null!=l&&this.$LI.push(l)}b=-1;var m=0,p=0;a=a.$LI.get(10);n=function(){var a=e.bounds.width;e.bounds.width=a>m?a:m;e.bounds.height+=p;f[e.lines]=m;p=m=0;++e.lines};for(g=0;g<this.$LI.length;){l=this.$LI[g];this.$OI[g]=Math.round(m);var r=0<c&&m+l.width>c;r||l==a?(r&&(0<=b?(this.$LI[b]=a,m=this.$OI[b],g=b):this.$LI.splice(g,0,a)),b=-1,p=this.$PI,n()):(32==l.charCode&&(b=g),m+=l.xAdvance+h,r=l.height+l.yOffset,p>r||(p=r),g+
1<this.$LI.length&&(m+=l.getKerning(this.$LI[g+1].charCode)));++g}n();h=0;a=ub.$QI(d,f[0],c);b=1.79769313486231E308;n=-1.79769313486231E308;l=g=0;for(r=this.$LI.length;l<r;){var s=this.$LI[l];10==s.charCode&&(h+=this.$PI,++g,a=ub.$QI(d,f[g],c));this.$OI[l]+=a;var t=h+s.yOffset;b=b<t?b:t;s=t+s.height;n>s||(n=s);++l}this.bounds.x=ub.$QI(d,this.bounds.width,c);this.bounds.y=b;this.bounds.height=n-b};l["kit.display.TextLayout"]=ub;ub.__name__=["kit","display","TextLayout"];ub.$QI=function(a,b,d){switch(a[1]){case 0:return 0;
case 1:return Math.round((d-b)/2);case 2:return d-b}};ub.prototype={draw:function(a){for(var b=0,d=0,c=this.$LI.length;d<c;){var h=this.$LI[d];10==h.charCode?b+=this.$PI:h.draw(a,this.$OI[d],b);++d}},__class__:ub};var bc=function(a){this.$TI=a;this.$VI=new Qb("([A-Za-z]+)(.*)","");this.$WI=new Qb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};l.$Cw=bc;bc.__name__=["$Cw"];bc.$XI=function(a,b){var d=b.matchedPos();return F.substr(a,d.pos+d.len,a.length)};bc.prototype={$RI:function(){var a=this,b=this.$TI;return{next:function(){b=
bc.$XI(b,a.$VI);a.$UI=a.$VI.matched(2);return a.$VI.matched(1)},hasNext:function(){return a.$VI.match(b)}}},$SI:function(){var a=this,b=this.$UI;return{next:function(){b=bc.$XI(b,a.$WI);return new Hf(a.$WI.matched(1),a.$WI.matched(2))},hasNext:function(){return a.$WI.match(b)}}},__class__:bc};var Hf=function(a,b){this.$YI=a;this.$hF=b};l.$Cx=Hf;Hf.__name__=["$Cx"];Hf.prototype={$ZI:function(){return v.parseInt(this.$hF)},$aI:function(){return 34!=this.$hF.charCodeAt(0)?null:F.substr(this.$hF,1,this.$hF.length-
2)},__class__:Hf};var Z=function(a){r.call(this);this.texture=a};l["kit.display.ImageSprite"]=Z;Z.__name__=["kit","display","ImageSprite"];Z.__super__=r;Z.prototype=t(r.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:Z});var Ab=l["kit.display.Orientation"]={__ename__:["kit","display","Orientation"],
__constructs__:["Portrait","Landscape"]};Ab.Portrait=["Portrait",0];Ab.Portrait.toString=p;Ab.Portrait.__enum__=Ab;Ab.Landscape=["Landscape",1];Ab.Landscape.toString=p;Ab.Landscape.__enum__=Ab;var Za=function(a,b,d){null==d&&(d=-1);null==b&&(b=-1);r.call(this);this.texture=a;0>b&&(b=null!=a?a.get_width():0);this.width=new $(b);0>d&&(d=null!=a?a.get_height():0);this.height=new $(d)};l["kit.display.PatternSprite"]=Za;Za.__name__=["kit","display","PatternSprite"];Za.__super__=r;Za.prototype=t(r.prototype,
{draw:function(a){null!=this.texture&&a.drawPattern(this.texture,0,0,this.width.$hF,this.height.$hF)},getNaturalWidth:function(){return this.width.$hF},getNaturalHeight:function(){return this.height.$hF},onUpdate:function(a){r.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:Za});var Eb=function(){this.$kI=null;this.$jI=[];this.$gI=this.$hI=this.$iI=null;this.$fI=new $(1);this.$eI=new $(1);this.$dI=new $(1);this.$bI=this.$cI=null};l.$Cy=Eb;Eb.__name__=["$Cy"];
Eb.prototype={__class__:Eb};var ge=function(){};l["kit.display.Texture"]=ge;ge.__name__=["kit","display","Texture"];ge.__interfaces__=[zb];ge.prototype={__class__:ge,__properties__:{get_graphics:"get_graphics",get_height:"get_height",get_width:"get_width"}};var rg=function(){};l["kit.display.SubTexture"]=rg;rg.__name__=["kit","display","SubTexture"];rg.__interfaces__=[ge];var O=function(a,b){null==b&&(b="");this.$qI=null;var d=this;r.call(this);this.$NI=a;this.$oI=b;this.$pI=Ba.Left;this.$nE|=256;
var c=function(a,b){d.$nE|=256};this.wrapWidth=new $(0,c);this.letterSpacing=new $(0,c);this.lineSpacing=new $(0,c)};l["kit.display.TextSprite"]=O;O.__name__=["kit","display","TextSprite"];O.__super__=r;O.prototype=t(r.prototype,{draw:function(a){this.$nI();this.$qI.draw(a)},getNaturalWidth:function(){this.$nI();return 0<this.wrapWidth.$hF?this.wrapWidth.$hF:this.$qI.bounds.width},getNaturalHeight:function(){this.$nI();var a=this.$qI.lines*(this.$NI.lineHeight+this.lineSpacing.$hF),b=this.$qI.bounds.height;
return a>b?a:b},containsLocal:function(a,b){this.$nI();return this.$qI.bounds.contains(a,b)},set_text:function(a){a!=this.$oI&&(this.$oI=a,this.$nE|=256);return a},set_align:function(a){a!=this.$pI&&(this.$pI=a,this.$nE|=256);return a},$nI:function(){0!=(this.$nE&256)&&(this.$nE&=-257,this.$qI=this.$NI.layoutText(this.$oI,this.$pI,this.wrapWidth.$hF,this.letterSpacing.$hF,this.lineSpacing.$hF))},onUpdate:function(a){r.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);
this.lineSpacing.update(a)},__class__:O,__properties__:t(r.prototype.__properties__,{set_align:"set_align",set_text:"set_text"})});var ua=l["kit.display.TextureFormat"]={__ename__:["kit","display","TextureFormat"],__constructs__:["RGBA","RGBA_4444","RGB","RGB_565","COMPRESSED"]};ua.RGBA=["RGBA",0];ua.RGBA.toString=p;ua.RGBA.__enum__=ua;ua.RGBA_4444=["RGBA_4444",1];ua.RGBA_4444.toString=p;ua.RGBA_4444.__enum__=ua;ua.RGB=["RGB",2];ua.RGB.toString=p;ua.RGB.__enum__=ua;ua.RGB_565=["RGB_565",3];ua.RGB_565.toString=
p;ua.RGB_565.__enum__=ua;ua.COMPRESSED=["COMPRESSED",4];ua.COMPRESSED.toString=p;ua.COMPRESSED.__enum__=ua;var sg=function(){};l["kit.display.VectorFont"]=sg;sg.__name__=["kit","display","VectorFont"];sg.__interfaces__=[zb];var tg=function(){this.$4I=this.$5I=this.$6I=null;this.$3I=new da;this.paddingTop=this.paddingRight=this.paddingBottom=this.paddingLeft=0;this.outputOnly=!1;this.active=!0};l["kit.filter.Filter"]=tg;tg.__name__=["kit","filter","Filter"];tg.prototype={apply:function(a){a.render(this)},
setUniformVec2:function(a,b,d){this.$1I(a,1,[b,d])},setUniformSampler2D:function(a,b){this.$1I(a,11,b)},update:function(a){},$1I:function(a,b,d){var c=this.$3I,c=null!=K[a]?c.getReserved(a):c.h[a];if(null==c){var h=this.$3I,n=c=new If(a);null!=K[a]?h.setReserved(a,n):h.h[a]=n}c.$9I=b;c.$8I=d},$2I:function(){null==this.$6I&&(this.$6I=null!=this.$5I?this.$5I+"@"+this.$4I:this.$4I);return this.$6I},__class__:tg};var If=function(a){this.$9I=0;this.$8I=null;this.$7I=a};l.$C0=If;If.__name__=["$C0"];If.prototype=
{__class__:If};var g=l["kit.input.Key"]={__ename__:["kit","input","Key"],__constructs__:"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z Number0 Number1 Number2 Number3 Number4 Number5 Number6 Number7 Number8 Number9 Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadDecimal NumpadDivide NumpadEnter NumpadMultiply NumpadSubtract F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 Left Up Right Down Alt Backquote Backslash Backspace CapsLock Comma Command Control Delete End Enter Equals Escape Home Insert LeftBracket Minus PageDown PageUp Period Quote RightBracket Semicolon Shift Slash Space Tab Menu Search Unknown".split(" ")};
g.A=["A",0];g.A.toString=p;g.A.__enum__=g;g.B=["B",1];g.B.toString=p;g.B.__enum__=g;g.C=["C",2];g.C.toString=p;g.C.__enum__=g;g.D=["D",3];g.D.toString=p;g.D.__enum__=g;g.E=["E",4];g.E.toString=p;g.E.__enum__=g;g.F=["F",5];g.F.toString=p;g.F.__enum__=g;g.G=["G",6];g.G.toString=p;g.G.__enum__=g;g.H=["H",7];g.H.toString=p;g.H.__enum__=g;g.I=["I",8];g.I.toString=p;g.I.__enum__=g;g.J=["J",9];g.J.toString=p;g.J.__enum__=g;g.K=["K",10];g.K.toString=p;g.K.__enum__=g;g.L=["L",11];g.L.toString=p;g.L.__enum__=
g;g.M=["M",12];g.M.toString=p;g.M.__enum__=g;g.N=["N",13];g.N.toString=p;g.N.__enum__=g;g.O=["O",14];g.O.toString=p;g.O.__enum__=g;g.P=["P",15];g.P.toString=p;g.P.__enum__=g;g.Q=["Q",16];g.Q.toString=p;g.Q.__enum__=g;g.R=["R",17];g.R.toString=p;g.R.__enum__=g;g.S=["S",18];g.S.toString=p;g.S.__enum__=g;g.T=["T",19];g.T.toString=p;g.T.__enum__=g;g.U=["U",20];g.U.toString=p;g.U.__enum__=g;g.V=["V",21];g.V.toString=p;g.V.__enum__=g;g.W=["W",22];g.W.toString=p;g.W.__enum__=g;g.X=["X",23];g.X.toString=
p;g.X.__enum__=g;g.Y=["Y",24];g.Y.toString=p;g.Y.__enum__=g;g.Z=["Z",25];g.Z.toString=p;g.Z.__enum__=g;g.Number0=["Number0",26];g.Number0.toString=p;g.Number0.__enum__=g;g.Number1=["Number1",27];g.Number1.toString=p;g.Number1.__enum__=g;g.Number2=["Number2",28];g.Number2.toString=p;g.Number2.__enum__=g;g.Number3=["Number3",29];g.Number3.toString=p;g.Number3.__enum__=g;g.Number4=["Number4",30];g.Number4.toString=p;g.Number4.__enum__=g;g.Number5=["Number5",31];g.Number5.toString=p;g.Number5.__enum__=
g;g.Number6=["Number6",32];g.Number6.toString=p;g.Number6.__enum__=g;g.Number7=["Number7",33];g.Number7.toString=p;g.Number7.__enum__=g;g.Number8=["Number8",34];g.Number8.toString=p;g.Number8.__enum__=g;g.Number9=["Number9",35];g.Number9.toString=p;g.Number9.__enum__=g;g.Numpad0=["Numpad0",36];g.Numpad0.toString=p;g.Numpad0.__enum__=g;g.Numpad1=["Numpad1",37];g.Numpad1.toString=p;g.Numpad1.__enum__=g;g.Numpad2=["Numpad2",38];g.Numpad2.toString=p;g.Numpad2.__enum__=g;g.Numpad3=["Numpad3",39];g.Numpad3.toString=
p;g.Numpad3.__enum__=g;g.Numpad4=["Numpad4",40];g.Numpad4.toString=p;g.Numpad4.__enum__=g;g.Numpad5=["Numpad5",41];g.Numpad5.toString=p;g.Numpad5.__enum__=g;g.Numpad6=["Numpad6",42];g.Numpad6.toString=p;g.Numpad6.__enum__=g;g.Numpad7=["Numpad7",43];g.Numpad7.toString=p;g.Numpad7.__enum__=g;g.Numpad8=["Numpad8",44];g.Numpad8.toString=p;g.Numpad8.__enum__=g;g.Numpad9=["Numpad9",45];g.Numpad9.toString=p;g.Numpad9.__enum__=g;g.NumpadAdd=["NumpadAdd",46];g.NumpadAdd.toString=p;g.NumpadAdd.__enum__=g;g.NumpadDecimal=
["NumpadDecimal",47];g.NumpadDecimal.toString=p;g.NumpadDecimal.__enum__=g;g.NumpadDivide=["NumpadDivide",48];g.NumpadDivide.toString=p;g.NumpadDivide.__enum__=g;g.NumpadEnter=["NumpadEnter",49];g.NumpadEnter.toString=p;g.NumpadEnter.__enum__=g;g.NumpadMultiply=["NumpadMultiply",50];g.NumpadMultiply.toString=p;g.NumpadMultiply.__enum__=g;g.NumpadSubtract=["NumpadSubtract",51];g.NumpadSubtract.toString=p;g.NumpadSubtract.__enum__=g;g.F1=["F1",52];g.F1.toString=p;g.F1.__enum__=g;g.F2=["F2",53];g.F2.toString=
p;g.F2.__enum__=g;g.F3=["F3",54];g.F3.toString=p;g.F3.__enum__=g;g.F4=["F4",55];g.F4.toString=p;g.F4.__enum__=g;g.F5=["F5",56];g.F5.toString=p;g.F5.__enum__=g;g.F6=["F6",57];g.F6.toString=p;g.F6.__enum__=g;g.F7=["F7",58];g.F7.toString=p;g.F7.__enum__=g;g.F8=["F8",59];g.F8.toString=p;g.F8.__enum__=g;g.F9=["F9",60];g.F9.toString=p;g.F9.__enum__=g;g.F10=["F10",61];g.F10.toString=p;g.F10.__enum__=g;g.F11=["F11",62];g.F11.toString=p;g.F11.__enum__=g;g.F12=["F12",63];g.F12.toString=p;g.F12.__enum__=g;g.F13=
["F13",64];g.F13.toString=p;g.F13.__enum__=g;g.F14=["F14",65];g.F14.toString=p;g.F14.__enum__=g;g.F15=["F15",66];g.F15.toString=p;g.F15.__enum__=g;g.Left=["Left",67];g.Left.toString=p;g.Left.__enum__=g;g.Up=["Up",68];g.Up.toString=p;g.Up.__enum__=g;g.Right=["Right",69];g.Right.toString=p;g.Right.__enum__=g;g.Down=["Down",70];g.Down.toString=p;g.Down.__enum__=g;g.Alt=["Alt",71];g.Alt.toString=p;g.Alt.__enum__=g;g.Backquote=["Backquote",72];g.Backquote.toString=p;g.Backquote.__enum__=g;g.Backslash=
["Backslash",73];g.Backslash.toString=p;g.Backslash.__enum__=g;g.Backspace=["Backspace",74];g.Backspace.toString=p;g.Backspace.__enum__=g;g.CapsLock=["CapsLock",75];g.CapsLock.toString=p;g.CapsLock.__enum__=g;g.Comma=["Comma",76];g.Comma.toString=p;g.Comma.__enum__=g;g.Command=["Command",77];g.Command.toString=p;g.Command.__enum__=g;g.Control=["Control",78];g.Control.toString=p;g.Control.__enum__=g;g.Delete=["Delete",79];g.Delete.toString=p;g.Delete.__enum__=g;g.End=["End",80];g.End.toString=p;g.End.__enum__=
g;g.Enter=["Enter",81];g.Enter.toString=p;g.Enter.__enum__=g;g.Equals=["Equals",82];g.Equals.toString=p;g.Equals.__enum__=g;g.Escape=["Escape",83];g.Escape.toString=p;g.Escape.__enum__=g;g.Home=["Home",84];g.Home.toString=p;g.Home.__enum__=g;g.Insert=["Insert",85];g.Insert.toString=p;g.Insert.__enum__=g;g.LeftBracket=["LeftBracket",86];g.LeftBracket.toString=p;g.LeftBracket.__enum__=g;g.Minus=["Minus",87];g.Minus.toString=p;g.Minus.__enum__=g;g.PageDown=["PageDown",88];g.PageDown.toString=p;g.PageDown.__enum__=
g;g.PageUp=["PageUp",89];g.PageUp.toString=p;g.PageUp.__enum__=g;g.Period=["Period",90];g.Period.toString=p;g.Period.__enum__=g;g.Quote=["Quote",91];g.Quote.toString=p;g.Quote.__enum__=g;g.RightBracket=["RightBracket",92];g.RightBracket.toString=p;g.RightBracket.__enum__=g;g.Semicolon=["Semicolon",93];g.Semicolon.toString=p;g.Semicolon.__enum__=g;g.Shift=["Shift",94];g.Shift.toString=p;g.Shift.__enum__=g;g.Slash=["Slash",95];g.Slash.toString=p;g.Slash.__enum__=g;g.Space=["Space",96];g.Space.toString=
p;g.Space.__enum__=g;g.Tab=["Tab",97];g.Tab.toString=p;g.Tab.__enum__=g;g.Menu=["Menu",98];g.Menu.toString=p;g.Menu.__enum__=g;g.Search=["Search",99];g.Search.toString=p;g.Search.__enum__=g;g.Unknown=function(a){a=["Unknown",100,a];a.__enum__=g;a.toString=p;return a};var Jf=function(){this.$$I(0,null)};l["kit.input.KeyboardEvent"]=Jf;Jf.__name__=["kit","input","KeyboardEvent"];Jf.prototype={$$I:function(a,b){this.id=a;this.key=b},__class__:Jf};var Oa=l["kit.input.MouseButton"]={__ename__:["kit","input",
"MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};Oa.Left=["Left",0];Oa.Left.toString=p;Oa.Left.__enum__=Oa;Oa.Middle=["Middle",1];Oa.Middle.toString=p;Oa.Middle.__enum__=Oa;Oa.Right=["Right",2];Oa.Right.toString=p;Oa.Right.__enum__=Oa;Oa.Unknown=function(a){a=["Unknown",3,a];a.__enum__=Oa;a.toString=p;return a};var Ea=l["kit.input.MouseCursor"]={__ename__:["kit","input","MouseCursor"],__constructs__:["Default","Button","None"]};Ea.Default=["Default",0];Ea.Default.toString=p;Ea.Default.__enum__=
Ea;Ea.Button=["Button",1];Ea.Button.toString=p;Ea.Button.__enum__=Ea;Ea.None=["None",2];Ea.None.toString=p;Ea.None.__enum__=Ea;var Kf=function(){this.$$I(0,0,0,null)};l["kit.input.MouseEvent"]=Kf;Kf.__name__=["kit","input","MouseEvent"];Kf.prototype={$$I:function(a,b,d,c){this.id=a;this.viewX=b;this.viewY=d;this.button=c},__class__:Kf};var he=l["kit.input.EventSource"]={__ename__:["kit","input","EventSource"],__constructs__:["Mouse","Touch"]};he.Mouse=function(a){a=["Mouse",0,a];a.__enum__=he;a.toString=
p;return a};he.Touch=function(a){a=["Touch",1,a];a.__enum__=he;a.toString=p;return a};var Lf=function(){this.$$I(0,0,0,null,null)};l["kit.input.PointerEvent"]=Lf;Lf.__name__=["kit","input","PointerEvent"];Lf.prototype={$$I:function(a,b,d,c,h){this.id=a;this.viewX=b;this.viewY=d;this.hit=c;this.source=h;this.$_I=!1},__class__:Lf};var Mf=function(a){this.id=a;this.$AJ=he.Touch(this)};l["kit.input.TouchPoint"]=Mf;Mf.__name__=["kit","input","TouchPoint"];Mf.prototype={$$I:function(a,b){this.viewX=a;this.viewY=
b},__class__:Mf};var sb=function(){};l["kit.math.FMath"]=sb;sb.__name__=["kit","math","FMath"];sb.clamp=function(a,b,d){return a<b?b:a>d?d:a};var cc=function(){};l["kit.movie.Symbol"]=cc;cc.__name__=["kit","movie","Symbol"];cc.prototype={__class__:cc};var zc=function(a,b){this.$BJ=a.symbol;var d=a.rect;this.texture=b.subTexture(d[0],d[1],d[2],d[3]);d=a.origin;null!=d?(this.anchorX=d[0],this.anchorY=d[1]):this.anchorY=this.anchorX=0;d=a.scale;null!=d?(this.scaleX=d[0],this.scaleY=d[1]):this.scaleY=
this.scaleX=1};l["kit.movie.BitmapSymbol"]=zc;zc.__name__=["kit","movie","BitmapSymbol"];zc.__interfaces__=[cc];zc.prototype={createSprite:function(){var a=new Z(this.texture);a.setAnchor(this.anchorX,this.anchorY);a.setScaleXY(this.scaleX,this.scaleY);return a},__class__:zc};var ug=function(){};l["kit.movie.Flipbook"]=ug;ug.__name__=["kit","movie","Flipbook"];ug.prototype={__class__:ug};var vg=function(){this.label=null;this.anchorX=this.anchorY=0};l["kit.movie.FlipbookFrame"]=vg;vg.__name__=["kit",
"movie","FlipbookFrame"];vg.prototype={$CJ:function(){return new ie(this)},__class__:vg};var ie=function(a){this.$0H=a.texture;this.$DJ=a.anchorX;this.$EJ=a.anchorY};l.$C2=ie;ie.__name__=["$C2"];ie.__interfaces__=[cc];ie.prototype={createSprite:function(){var a=new Z(this.$0H);a.setAnchor(this.$DJ,this.$EJ);return a},__class__:ie};var Ac=function(a,b){this.sounds=new da;this.scenes=[];var d=this;this.$fG=a.getFile(b+"/library.json");var c=this.$fG.toJson();this.$FJ=new da;this.frameRate=c.frameRate;
this.backgroundColor=null!=c.backgroundColor?c.backgroundColor:0;this.backgroundAlpha=null!=c.backgroundAlpha?c.backgroundAlpha:1;this.width=null!=c.width?c.width:0;this.height=null!=c.height?c.height:0;this.pixelSnapping=null!=c.pixelSnapping?c.pixelSnapping:!0;if(null!=c.sounds)for(var h=0,n=c.sounds;h<n.length;){var e=n[h];++h;var f=a.getSound(b+"/"+Na.removeFileExtension(e.file),!1),e=e.id,g=this.sounds,f=new Nf(e,f);null!=K[e]?g.setReserved(e,f):g.h[e]=f}if(null!=c.videos)for(h=0,n=c.videos;h<
n.length;)e=n[h],++h,f=a.getVideo(b+"/"+Na.removeFileExtension(e.file),!1),e=e.id,g=this.$FJ,f=new je(e,f),null!=K[e]?g.setReserved(e,f):g.h[e]=f;h=[];n=0;for(e=c.movies;n<e.length;){f=e[n];++n;f=new dc(this,f);h.push(f);var g=f.$BJ,l=this.$FJ;null!=K[g]?l.setReserved(g,f):l.h[g]=f}if(null!=c.scenes)for(n=0,e=c.scenes;n<e.length;)f=e[n],++n,f=new dc(this,f),h.push(f),this.scenes.push(f);c=c.textureGroups[0].atlases;for(n=0;n<c.length;){g=c[n];++n;e=b+"/"+Na.removeFileExtension(g.file);e=a.getTexture(e);
if(null!=g.mask){var f=a.getTexture(b+"/"+Na.removeFileExtension(g.mask)),l=m.$2F.$LF.createTexture(e.get_width(),e.get_height()),p=l.get_graphics();p.save();p.setBlendMode(ka.Copy);p.drawTexture(e,0,0);p.setBlendMode(ka.Mask);p.drawTexture(f,0,0);p.restore();e.dispose();f.dispose();e=l}f=0;for(g=g.textures;f<g.length;){l=g[f];++f;var l=new zc(l,e),p=l.$BJ,r=this.$FJ;null!=K[p]?r.setReserved(p,l):r.h[p]=l}}for(var s=null,c=s=function(a){for(var b=a.keyframes,c=b.length,k=0;k<c;){var h=k++,n=b[h];
if(null!=n.$zJ){var e=n.$zJ,f=d.$FJ,e=null!=K[e]?f.getReserved(e):f.h[e];n.symbol=e}n.tweened&&1==n.duration&&h+1<c&&(h=b[h+1],h.visible&&null!=h.$zJ||(n.visible=!1))}b=0;for(a=a.childLayers;b<a.length;)c=a[b],++b,s(c)},n=0;n<h.length;)for(f=h[n],++n,e=0,f=f.layers;e<f.length;)g=f[e],++e,c(g)};l["kit.movie.Library"]=Ac;Ac.__name__=["kit","movie","Library"];Ac.fromFlipbooks=function(a){var b=fa.createEmptyInstance(Ac);b.$FJ=new da;b.frameRate=60;b.$fG=null;for(var d=0;d<a.length;){var c=a[d];++d;for(var h=
[],n=0,e=c.frames;n<e.length;){var f=e[n];++n;h.push({duration:f.duration*b.frameRate,label:f.label,pivot:[f.anchorX,f.anchorY],ref:""})}h=new dc(b,{id:c.name,layers:[{name:"flipbook",flipbook:!0,keyframes:h}]});n=c.name;e=b.$FJ;null!=K[n]?e.setReserved(n,h):e.h[n]=h;h=h.layers[0].keyframes;n=0;for(e=c.frames.length;n<e;){var f=n++,g=c.frames[f].$CJ();h[f].symbol=g}}return b};Ac.prototype={createSprite:function(a,b){var d=this.$FJ,d=null!=K[a]?d.getReserved(a):d.h[a];return null==d?null:d.createSprite()},
__class__:Ac};var ke=function(a){this.$KJ=this.$LJ=null;y.call(this);this.$sI=a;this.$JJ=new e;this.movie=new sa(null);this.setCache(!0)};l["kit.movie.MoviePlayer"]=ke;ke.__name__=["kit","movie","MoviePlayer"];ke.__super__=y;ke.prototype=t(y.prototype,{get_entitySlot:function(){return 6},setCache:function(a){this.$NJ=a?new da:null;return this},play:function(a,b){null==b&&(b=!0);if(b||null==this.$KJ||this.$KJ.symbol.$BJ!=a)this.$KJ=this.$GJ(a);return this},loop:function(a,b){null==b&&(b=!0);if(b||
null==this.$LJ||this.$LJ.symbol.$BJ!=a)this.$KJ=null,this.$LJ=this.$GJ(a);return this},onAdded:function(){this.owner.addChild(this.$JJ)},onRemoved:function(){this.$JJ.dispose();this.$KJ=this.$LJ=null;this.movie.set__(null)},onUpdate:function(a){null!=this.$KJ&&this.$KJ.$TJ+a>this.$KJ.symbol.duration&&(this.$KJ=null,this.$IJ(this.$LJ))},$GJ:function(a){var b;if(null!=this.$NJ)if(b=this.$NJ,b=null!=K[a]?b.getReserved(a):b.h[a],null!=b)b.set_position(0);else{b=this.$HJ(a);var d=this.$NJ;null!=K[a]?d.setReserved(a,
b):d.h[a]=b}else b=this.$HJ(a);return this.$IJ(b)},$HJ:function(a){a=this.$sI.createSprite(a,!0);null!=this.$MJ&&this.$MJ(a);return a},$IJ:function(a){this.$JJ.add(a);return this.movie.set__(a)},__class__:ke});var ob=function(a){this.$WJ=this.$XJ=this.$YJ=null;this.$VJ=0;var b=this;r.call(this);this.symbol=a;this.speed=new $(1);this.$SJ=Array(a.layers.length);for(var d=0,c=this.$SJ.length;d<c;){var h=d++;this.$SJ[h]=new ec(a.layers[h])}this.$TJ=0;this.$UJ=-1;this.$PJ(0);if(a.button){var n=0/a.frameRate,
e=1/a.frameRate,f=2/a.frameRate,g=!1,l=!1,d=new Ha(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308),c=0;for(a=a.layers;c<a.length;)h=a[c],++c,ob.$ZJ(h,d);d.x<d.width&&d.y<d.height&&(this.$YJ=d);this.$nE|=4096;this.get_pointerDown().connect(function(a){g=!0;b.set_position(f);m.$2F.$KF.up.connect(function(a){g=!1;b.set_position(l?e:n)}).once()});var p=null;this.get_pointerIn().connect(function(a){l=!0;b.set_position(g?f:e);m.$2F.$JF.get_cursor()==Ea.Default&&m.$2F.$JF.set_cursor(Ea.Button);
null!=p&&p.dispose();p=m.$2F.$KF.move.connect(function(a){null==b.owner&&(p.dispose(),m.$2F.$JF.get_cursor()==Ea.Button&&m.$2F.$JF.set_cursor(Ea.Default))})});this.get_pointerOut().connect(function(a){l=!1;b.set_position(n);m.$2F.$JF.get_cursor()==Ea.Button&&m.$2F.$JF.set_cursor(Ea.Default)})}};l["kit.movie.MovieSprite"]=ob;ob.__name__=["kit","movie","MovieSprite"];ob.$ZJ=function(a,b){for(var d=0,c=a.keyframes;d<c.length;){var h=c[d];++d;if(3==h.index&&null!=h.symbol){var n=h.symbol.createSprite(),
e=n.getNaturalWidth(),f=n.getNaturalHeight();if(0<e&&0<f){var g=n.scaleX.$hF*h.scaleX,l=n.scaleY.$hF*h.scaleY,n=n.getLocalMatrix(),m=Math.sin(h.skewX),p=Math.cos(h.skewX),s=Math.sin(h.skewY),t=Math.cos(h.skewY);n.set(t*g,s*g,-m*l,p*l,h.x,h.y);n.translate(-h.pivotX,-h.pivotY);r.$_G(n,0,0,b);r.$_G(n,e,0,b);r.$_G(n,e,f,b);r.$_G(n,0,f,b)}}}d=0;for(c=a.childLayers;d<c.length;)h=c[d],++d,ob.$ZJ(h,b)};ob.__super__=r;ob.prototype=t(r.prototype,{containsLocal:function(a,b){return null!=this.$YJ&&a>=this.$YJ.x&&
a<this.$YJ.width&&b>=this.$YJ.y?b<this.$YJ.height:!1},onAdded:function(){r.prototype.onAdded.call(this);for(var a=0,b=this.$SJ;a<b.length;){var d=b[a];++a;this.owner.addChild(d.$fJ)}},onRemoved:function(){r.prototype.onRemoved.call(this);for(var a=0,b=this.$SJ;a<b.length;){var d=b[a];++a;this.owner.removeChild(d.$fJ)}},onUpdate:function(a){r.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this.$nE&6912){case 0:0<=this.speed.$hF&&(this.$TJ+=this.speed.$hF*a,this.$TJ>this.symbol.duration&&
(0!=(this.$nE&1024)?(this.$TJ=this.symbol.duration,this.$nE|=2048):(this.$TJ%=this.symbol.duration,null!=this.$WJ&&this.$WJ.emit())));break;case 512:this.$nE&=-513}this.$PJ(this.$TJ*this.symbol.frameRate)},$PJ:function(a){if(this.$UJ!=a){if(a<this.$UJ)for(var b=0,d=this.$SJ;b<d.length;){var c=d[b];++b;if(c.$pJ(this.$XJ))return}b=0;for(d=this.$SJ;b<d.length;)if(c=d[b],++b,c.$rJ(a,this.$XJ,this.$VJ))return;switch(this.$VJ){case 0:this.$VJ=1;break;case 1:case 2:this.$VJ=3}this.$UJ=a}},set_position:function(a){this.setPosition(a,
!0);return a},setPosition:function(a,b){var d=sb.clamp(a,0,this.symbol.duration);this.$TJ=d;this.$VJ=3;for(var c=d*this.symbol.frameRate,h=b?2:0,e=0,f=this.$SJ;e<f.length;){var g=f[e];++e;if(g.$qJ(c,this.$XJ,h))return d}this.$UJ=c;return d},set_paused:function(a){this.$nE=yc.set(this.$nE,256,a);return a},$QJ:function(a){this.$TJ=a.firstFrame/this.symbol.frameRate;this.set_paused(a.playMode==Fa.SingleFrame);this.$nE=(this.$nE|512)&-2049;a=0;for(var b=this.$SJ;a<b.length;){var d=b[a];++a;d.$QJ()}},
__class__:ob,__properties__:t(r.prototype.__properties__,{set_paused:"set_paused",set_position:"set_position"})});var ec=function(a){this.$wJ=[];this.$lJ=null;this.$kJ=!0;this.$iJ=-1;this.$hJ=0;this.$gJ=!1;this.$jJ=a;this.$fJ=new e;if(a.empty)this.$vJ=null;else{this.$vJ=Array(a.keyframes.length);for(var b=null,d=null,c=0,h=this.$vJ.length;c<h;){var n=c++,f=a.keyframes[n];if(null!=b&&ec.$xJ(b,f))this.$vJ[n]=d;else if(null!=f.symbol){d=f.symbol.createSprite();this.$vJ[n]=d;if(0<f.firstFrame||f.playMode!=
Fa.Loop)if(b=d instanceof ob?d:null,null!=b){switch(f.playMode[1]){case 1:b.$nE|=1024;break;case 2:b.set_paused(!0)}b.$TJ=f.firstFrame/b.symbol.frameRate}b=f}else this.$vJ[n]=new r}this.$fJ.add(this.$vJ[0])}this.$uJ=this.$fJ;if(0<a.childLayers.length)for(h=new r,f=(new e).add(h),f.addChild(this.$fJ),this.$fJ=b=new e,c=new e,a.mask&&(this.$lJ=new r,this.$lJ.set_mask(h),c.add(this.$lJ)),b.addChild(c),b.addChild(f),h=0,a=a.childLayers;h<a.length;)f=a[h],++h,f=new ec(f),this.$wJ.push(f),c.addChild(f.$fJ)};
l.$C3=ec;ec.__name__=["$C3"];ec.$xJ=function(a,b){return a.symbol!=b.symbol||a.playMode!=b.playMode?!1:2==a.playMode[1]?a.firstFrame==b.firstFrame:a.firstFrame!=b.firstFrame?a.firstFrame+a.duration==b.firstFrame:!0};ec.prototype={$oJ:function(a,b){null!=a.sound&&null!=a.sound.sound&&(this.$fJ.emitMessageToParents("MovieSprite.FRAME_SOUND",new le(this.$fJ,a)).handled||a.sound.sound.play());if(null!=b){var d=a.label;null!=d&&b.emit(d)}null!=a.actions&&this.$fJ.emitMessageToParents("MovieSprite.FRAME_ACTION",
new le(this.$fJ,a))},$pJ:function(a){for(var b=0,d=this.$wJ;b<d.length;){var c=d[b];++b;if(c.$pJ(a))return!0}if(0<=this.$iJ){for(var b=this.$jJ.keyframes,d=this.$hJ,c=this.$iJ+1,h=b.length;c<h;){var e=c++;this.$oJ(b[e],a);if(d!=this.$hJ)return!0}this.$iJ=-1}this.$gJ=!0;return!1},$qJ:function(a,b,d){for(var c=0,h=this.$wJ;c<h.length;){var e=h[c];++c;if(e.$qJ(a,b,d))return!0}++this.$hJ;c=this.$jJ.keyframes;h=c.length-1;e=this.$iJ;for(this.$iJ=-1;this.$iJ<h&&c[this.$iJ+1].index<=a;)++this.$iJ;this.$iJ!=
e&&(this.$gJ=!0);return this.$rJ(a,b,d)},$rJ:function(a,b,d){for(var c=0,h=this.$wJ;c<h.length;){var e=h[c];++c;if(e.$rJ(a,b,d))return!0}var c=this.$jJ.keyframes,f=c.length-1,h=this.$iJ;if(a>this.$jJ.frames)this.$iJ=f,this.$gJ=!0;else for(;this.$iJ<f&&c[this.$iJ+1].index<=a;)++this.$iJ,this.$gJ=!0;if(null!=this.$vJ){var e=c[this.$iJ],g;if(this.$gJ){if(this.$gJ=!1,g=this.$vJ[this.$iJ],g!=this.$uJ.$BF[1]){var l=g instanceof ob?g:null;null!=l&&l.$QJ(e);this.$uJ.add(g)}}else g=this.$uJ.$BF[1];if(this.$kJ&&
(l=e.visible&&null!=e.symbol&&a<=this.$jJ.frames,g.set_visible(l),null!=this.$lJ&&this.$lJ.set_maskEnabled(l),l)){var l=e.x,m=e.y,p=e.scaleX,r=e.scaleY,s=e.skewX,t=e.skewY,v=e.alpha,C=e.tint;if(e.tweened&&this.$iJ<f){var f=(a-e.index)/e.duration,x=e.ease;if(0!=x){var u;0>x?(u=1-f,u=1-u*u,x=-x):u=f*f;f=x*u+(1-x)*f}x=c[this.$iJ+1];l+=(x.x-l)*f;m+=(x.y-m)*f;p+=(x.scaleX-p)*f;r+=(x.scaleY-r)*f;s+=(x.skewX-s)*f;t+=(x.skewY-t)*f;v+=(x.alpha-v)*f;x=x.tint;if(16777215!=x||16777215!=C){u=(C&16711680)>>16;
var w=(C&65280)>>8,C=C&255,w=w+((((x&65280)>>8)-w)*f|0),C=C+(((x&255)-C)*f|0),C=u+((((x&16711680)>>16)-u)*f|0)<<16|w<<8|C}}f=e.symbol;f=f instanceof zc?f:null;null!=f&&(p*=f.scaleX,r*=f.scaleY);f=g.getLocalMatrix();x=Math.sin(s);s=Math.cos(s);u=Math.sin(t);t=Math.cos(t);f.set(t*p,u*p,-x*r,s*r,l,m);f.translate(-e.pivotX,-e.pivotY);g.$nE|=16;g.alpha.set__(v);g.setTint(C);null==e.blendMode&&null==g.get_blendMode()||g.set_blendMode(e.blendMode)}}if(0!=d)for(1==d?h=-1:2==d&&0<=this.$iJ&&c[this.$iJ].index==
a&&(h=this.$iJ-1),a=this.$hJ,d=h,h=this.$iJ;d<h;)if(e=d++,this.$oJ(c[e+1],b),this.$hJ!=a)return!0;return!1},$QJ:function(){for(var a=0,b=this.$wJ;a<b.length;){var d=b[a];++a;d.$QJ()}this.$gJ=!0;this.$iJ=-1;if(null!=this.$vJ)for(a=0,b=this.$vJ.length;a<b;){var d=a++,c=this.$vJ[d],c=c instanceof ob?c:null;null!=c&&c.$QJ(this.$jJ.keyframes[d])}},__class__:ec};var le=function(a,b){this.layer=a;this.keyframe=b};l["kit.movie.FrameEvent"]=le;le.__name__=["kit","movie","FrameEvent"];le.prototype={__class__:le};
var dc=function(a,b){this.$BJ=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var d=0,c=this.layers.length;d<c;){var h=d++,e=new me(a,b.layers[h]);this.frames=Math.max(e.frames,this.frames);this.layers[h]=e}this.duration=this.frames/this.frameRate;this.button=!0==b.button};l["kit.movie.MovieSymbol"]=dc;dc.__name__=["kit","movie","MovieSymbol"];dc.__interfaces__=[cc];dc.prototype={createSprite:function(){return new ob(this)},__class__:dc};var me=function(a,b){this.mask=
!1;this.childLayers=[];this.empty=!0;this.name=b.name;var d=null;this.keyframes=Array(b.keyframes.length);for(var c=0,h=this.keyframes.length;c<h;){var e=c++,d=new Of(a,b.keyframes[e],d);this.keyframes[e]=d;this.empty=this.empty&&null==d.$zJ}this.frames=null!=d?d.index+d.duration:0;null!=b.mask&&(this.mask=b.mask);if(null!=b.childLayers)for(d=0,c=b.childLayers;d<c.length;)h=c[d],++d,h=new me(a,h),h.frames>this.frames&&(this.frames=h.frames),this.childLayers.push(h)};l["kit.movie.MovieLayer"]=me;me.__name__=
["kit","movie","MovieLayer"];me.prototype={__class__:me};var Fa=l["kit.movie.PlayMode"]={__ename__:["kit","movie","PlayMode"],__constructs__:["Loop","PlayOnce","SingleFrame"]};Fa.Loop=["Loop",0];Fa.Loop.toString=p;Fa.Loop.__enum__=Fa;Fa.PlayOnce=["PlayOnce",1];Fa.PlayOnce.toString=p;Fa.PlayOnce.__enum__=Fa;Fa.SingleFrame=["SingleFrame",2];Fa.SingleFrame.toString=p;Fa.SingleFrame.__enum__=Fa;var Of=function(a,b,d){this.actions=this.sound=null;this.firstFrame=0;this.playMode=Fa.Loop;this.blendMode=
null;this.ease=0;this.visible=this.tweened=!0;this.tint=16777215;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=this.instanceName=null;this.index=null!=d?d.index+d.duration:0;this.duration=b.duration;this.label=b.label;this.$zJ=b.ref;d=b.loc;null!=d&&(this.x=d[0],this.y=d[1]);d=b.scale;null!=d&&(this.scaleX=d[0],this.scaleY=d[1]);d=b.skew;null!=d&&(this.skewX=d[0],this.skewY=d[1]);d=b.pivot;null!=d&&(this.pivotX=d[0],this.pivotY=
d[1]);null!=b.alpha&&(this.alpha=b.alpha);null!=b.tint&&(this.tint=b.tint);null!=b.visible&&(this.visible=b.visible);null!=b.tweened&&(this.tweened=b.tweened);null!=b.ease&&(this.ease=b.ease);if(null!=b.blendMode){d=b.blendMode;if(null==d)d=null;else switch(d){case "add":d=ka.Add;break;case "layer":d=ka.Mask;break;case "multiply":d=ka.Multiply;break;case "screen":d=ka.Screen;break;default:d=null}this.blendMode=d}null!=b.firstFrame&&(this.firstFrame=b.firstFrame);if(null!=b.playMode){d=b.playMode;
if(null==d)d=Fa.Loop;else switch(d){case "once":d=Fa.PlayOnce;break;case "stop":d=Fa.SingleFrame;break;default:d=Fa.Loop}this.playMode=d}null!=b.actions&&(this.actions=b.actions);null!=b.sound&&(d=b.sound,a=a.sounds,this.sound=null!=K[d]?a.getReserved(d):a.h[d]);null!=b.refName&&(this.instanceName=b.refName)};l["kit.movie.MovieKeyframe"]=Of;Of.__name__=["kit","movie","MovieKeyframe"];Of.prototype={__class__:Of};var Nf=function(a,b){this.name=a;this.sound=b};l["kit.movie.SoundSymbol"]=Nf;Nf.__name__=
["kit","movie","SoundSymbol"];Nf.prototype={__class__:Nf};var je=function(a,b){this.$BJ=a;this.video=b};l["kit.movie.VideoSymbol"]=je;je.__name__=["kit","movie","VideoSymbol"];je.__interfaces__=[cc];je.prototype={createSprite:function(){return new ne(this)},__class__:je};var Pb=function(a){r.call(this);this.$2J=a};l["kit.video.VideoSprite"]=Pb;Pb.__name__=["kit","video","VideoSprite"];Pb.__super__=r;Pb.prototype=t(r.prototype,{draw:function(a){null!=this.$2J&&a.drawTexture(this.$2J.get_texture(),
0,0)},getNaturalWidth:function(){return null!=this.$2J?this.$2J.get_video().get_width():0},getNaturalHeight:function(){return null!=this.$2J?this.$2J.get_video().get_height():0},dispose:function(){r.prototype.dispose.call(this);this.set_playback(null)},set_playback:function(a){null!=this.$2J&&this.$2J.dispose();return this.$2J=a},__class__:Pb,__properties__:t(r.prototype.__properties__,{set_playback:"set_playback"})});var ne=function(a){Pb.call(this,null);this.$3J=a};l.$C5=ne;ne.__name__=["$C5"];
ne.__super__=Pb;ne.prototype=t(Pb.prototype,{onAdded:function(){Pb.prototype.onAdded.call(this);this.set_playback(this.$3J.video.play())},onRemoved:function(){Pb.prototype.onRemoved.call(this);this.set_playback(null)},__class__:ne});var oe=function(a){this.$dK=null;this.$bK=this.$cK=0;this.postSolve=new kb;this.preSolve=new kb;this.endContact=new na;this.beginContact=new na;this.velocityIterations=8;this.positionIterations=3;this.scale=50;y.call(this);null==a&&(a=new Aa(new w(0,10),!0));this.world=
a};l["kit.physics.Box2D"]=oe;oe.__name__=["kit","physics","Box2D"];oe.__super__=y;oe.prototype=t(y.prototype,{get_entitySlot:function(){return 3},onStart:function(){var a=this.world,b=new pe(this);a.$jC.$GC=b},onStop:function(){this.world.$jC.$GC=Ib.defaultListener},setGravity:function(a,b){this.world.$mC.set(a,b);return this},createPhysics:function(a){null==a&&(a=new Yc,a.type=2);a=new qe(this,this.world.createBody(a));a.body.$7B=a;return a.body.$6B=a},createRectangle:function(a){var b=a.scaleX.$hF*
a.getNaturalWidth()/2/this.scale,d=a.scaleY.$hF*a.getNaturalHeight()/2/this.scale,c=new w(b-a.scaleX.$hF*a.anchorX.$hF/this.scale,d-a.scaleY.$hF*a.anchorY.$hF/this.scale),b=xa.asOrientedBox(b,d,c);return this.$YK(a,b)},createCircle:function(a){var b=a.scaleX.$hF*a.getNaturalWidth(),d=a.scaleY.$hF*a.getNaturalHeight(),b=(b>d?b:d)/2/this.scale,d=new qc(b);d.$KB.set(b-a.scaleX.$hF*a.anchorX.$hF/this.scale,b-a.scaleY.$hF*a.anchorY.$hF/this.scale);return this.$YK(a,d)},$YK:function(a,b){var d=new Zc;d.shape=
b;d.density=1;var c=this.createPhysics();c.body.createFixture(d);return c},onUpdate:function(a){a=this.$bK+a;for(this.$bK=0.06666666666666667>a?a:0.06666666666666667;0.03333333333333333<=this.$bK;){this.$bK-=0.03333333333333333;if(0.03333333333333333>this.$bK)for(a=this.world.$lC;null!=a;){var b=a.$7B;null!=b&&b.$gK();a=a.$qB}this.world.step(0.03333333333333333,this.positionIterations,this.velocityIterations)}this.$cK=this.$bK/0.03333333333333333;this.world.clearForces();if(null!=this.$dK){a=0;for(b=
this.$dK;a<b.length;){var d=b[a];++a;d()}this.$dK=null}},defer:function(a){if(0==(this.world.$gB&2))return a(),!1;null==this.$dK?this.$dK=[a]:this.$dK.push(a);return!0},__class__:oe});var pe=function(a){this.$fK=a};l.$C7=pe;pe.__name__=["$C7"];pe.__super__=Ib;pe.prototype=t(Ib.prototype,{beginContact:function(a){var b=a.$4C.$NC.$7B;null!=b&&null!=b.$hK&&b.$hK.emit(a);b=a.$5C.$NC.$7B;null!=b&&null!=b.$hK&&b.$hK.emit(a);this.$fK.beginContact.emit(a)},endContact:function(a){var b=a.$4C.$NC.$7B;null!=
b&&null!=b.$iK&&b.$iK.emit(a);b=a.$5C.$NC.$7B;null!=b&&null!=b.$iK&&b.$iK.emit(a);this.$fK.endContact.emit(a)},preSolve:function(a,b){var d=a.$4C.$NC.$7B;null!=d&&null!=d.$jK&&d.$jK.emit(a,b);d=a.$5C.$NC.$7B;null!=d&&null!=d.$jK&&d.$jK.emit(a,b);this.$fK.preSolve.emit(a,b)},postSolve:function(a,b){var d=a.$4C.$NC.$7B;null!=d&&null!=d.$kK&&d.$kK.emit(a,b);d=a.$5C.$NC.$7B;null!=d&&null!=d.$kK&&d.$kK.emit(a,b);this.$fK.postSolve.emit(a,b)},__class__:pe});var qe=function(a,b){this.$lK=this.$mK=this.$nK=
this.$oK=this.$pK=0;this.$hK=this.$iK=this.$jK=this.$kK=null;y.call(this);this.box2d=a;this.body=b};l["kit.physics.PhysicsBody"]=qe;qe.__name__=["kit","physics","PhysicsBody"];qe.__super__=y;qe.prototype=t(y.prototype,{get_entitySlot:function(){return 4},setXY:function(a,b){0==(this.body.$gB&2)&&this.body.setAwake(!0);var d=this.body.$iB.position;d.x=a/this.box2d.scale;d.y=b/this.box2d.scale;this.body.setPosition(d);this.resetTransform();return this},setVelocityXY:function(a,b){0==this.body.$2&&this.body.setType(1);
0==(this.body.$gB&2)&&this.body.setAwake(!0);this.body.$kB.set(a/this.box2d.scale,b/this.box2d.scale);return this},onUpdate:function(a){if(34==(this.body.$gB&34)&&(a=this.owner.$BF[1],null!=a)){var b=this.box2d.scale,d=this.body.$iB.position,c=d.x,d=d.y,h=this.body.$jB.a;if(0!=this.body.$2)var e=this.box2d.$cK,f=1-e,c=c*e+this.$lK*f,d=d*e+this.$mK*f,h=h*e+this.$nK*f;a.x.set__(b*c+this.$oK);a.y.set__(b*d+this.$pK);a.rotation.set__(180*h/3.141592653589793)}},onAdded:function(){for(var a=this.owner.parent,
b=this.box2d.owner;a!=b&&null!=a;){var d=a.$BF[1];null!=d&&(this.$oK-=d.x.$hF,this.$pK-=d.y.$hF);a=a.parent}a=this.owner.$BF[1];null!=a&&(b=this.body.$iB.position,b.x=(a.x.$hF-this.$oK)/this.box2d.scale,b.y=(a.y.$hF-this.$pK)/this.box2d.scale,this.body.setPositionAndAngle(b,3.141592653589793*a.rotation.$hF/180));this.$gK()},dispose:function(){var a=this;y.prototype.dispose.call(this);this.body.$7B=null;var b=this.body;this.body=null;this.box2d.defer(function(){a.box2d.world.destroyBody(b)})},resetTransform:function(){this.$gK();
var a=this.owner.$BF[1];if(null!=a){var b=this.box2d.scale,d=this.body.$iB.position;a.x.set__(b*d.x);a.y.set__(b*d.y);a.rotation.set__(180*this.body.$jB.a/3.141592653589793)}},$gK:function(){if(0!=this.body.$2){var a=this.body.$iB.position;this.$lK=a.x;this.$mK=a.y;this.$nK=this.body.$jB.a}},get_postSolve:function(){null==this.$kK&&(this.$kK=new kb);return this.$kK},__class__:qe,__properties__:t(y.prototype.__properties__,{get_postSolve:"get_postSolve"})});var va=function(){this.$wK=!1};l.$C8=va;
va.__name__=["$C8"];va.__interfaces__=[zb];va.prototype={dispose:function(){this.$wK||(this.$wK=!0,this.$uK())},$uK:function(){},__class__:va};var Bc=function(a,b){this.$_K=0;var d=this;this.$zK=b;this.$2F=a;this.$2E=new ya;this.$QH=new re(b,this);this.$$K=new da;var c=mc.array(b);if(0==c.length)this.$6K();else{for(var h=new da,e=0;e<c.length;){var f=c[e];++e;var g=f.name,g=null!=K[g]?h.getReserved(g):h.h[g];if(null==g){var g=[],l=f.name;null!=K[l]?h.setReserved(l,g):h.h[l]=g}g.push(f)}this.$9K=mc.count(h);
for(c=new jb(h,h.arrayKeys());c.hasNext();)h=[c.next()],this.$1K(h[0],function(a){return function(c){if(null!=c){var k=d.$$K,h=c.name,e=new se(0,c.bytes);null!=K[h]?k.setReserved(h,e):k.h[h]=e;k=b.getFullURL(c);try{d.$2K(k,c)}catch(f){f instanceof A&&(f=f.val),d.$7K(c,"Unexpected error: "+v.string(f))}}else switch(c=a[0][0],k=d.$$K,h=c.name,e=new se(0,0),null!=K[h]?k.setReserved(h,e):k.h[h]=e,c.format[1]){case 7:case 8:case 9:case 10:case 11:k=$a.$8L();d.$4K(c,k);break;case 16:case 17:k=Bb.$8L();
d.$4K(c,k);break;default:d.$7K(c,"Could not find a supported format to load")}}}(h))}};l.$C9=Bc;Bc.__name__=["$C9"];Bc.prototype={$1K:function(a,b){this.$3K(function(d){for(var c=0;c<d.length;){var h=d[c];++c;for(var e=0;e<a.length;){var f=a[e];++e;if(f.format==h){b(f);return}}}b(null)})},$2K:function(a,b){},$3K:function(a){},$4K:function(a,b){if(this.$QH.$DL)b.dispose();else{var d=a.name,c=this.$$K,d=null!=K[d]?c.getReserved(d):c.h[d];d.$GL=d.$HL;var h;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:h=
this.$QH.textures;break;case 7:case 8:case 9:case 10:case 11:h=this.$QH.sounds;break;case 12:case 13:case 14:case 15:h=this.$QH.$BL;break;case 16:case 17:h=this.$QH.$CL;break;case 18:h=this.$QH.files}d=a.name;null!=K[d]?h.setReserved(d,b):h.h[d]=b;this.$9K-=1;0==this.$9K&&this.$6K()}},$5K:function(a,b,d){a=a.name;var c=this.$$K;a=null!=K[a]?c.getReserved(a):c.h[a];0<d&&(a.$HL=d);d=a.$HL;a.$GL=b<d?b:d;d=b=0;a=this.$$K;for(a=new jb(a,a.arrayKeys());a.hasNext();){c=a.next();if(0==c.$HL)return;b+=c.$GL;
d+=c.$HL}a=0<d?b/d:0;a!=this.$_K&&(this.$_K=a,this.$2E.emitProgress(a),this.$2E.set_total(d),this.$2E.set_progress(b))},$6K:function(){this.$2E.$MT(this.$QH)},$7K:function(a,b){this.$QH.dispose();this.$2E.failure(Na.withFields(b,["url",a.url]))},$8K:function(a){this.$7K(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Bc};var re=function(a,b){this.$DL=!1;this.$CL=new da;this.$BL=new da;this.files=new da;this.sounds=new da;this.textures=new da;this.$EL=a};l.$C$=re;re.__name__=
["$C$"];re.__interfaces__=[wc];re.prototype={getTexture:function(a,b){var d=this.textures;return null!=K[a]?d.getReserved(a):d.h[a]},getSound:function(a,b){var d=this.sounds;return null!=K[a]?d.getReserved(a):d.h[a]},getFile:function(a,b){var d=this.files;return null!=K[a]?d.getReserved(a):d.h[a]},getVideo:function(a,b){var d=this.$CL;return null!=K[a]?d.getReserved(a):d.h[a]},dispose:function(){if(!this.$DL){this.$DL=!0;for(var a=this.textures,a=new jb(a,a.arrayKeys());a.hasNext();)a.next().dispose();
this.textures=null;a=this.sounds;for(a=new jb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.sounds=null;a=this.files;for(a=new jb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.files=null;a=this.$BL;for(a=new jb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$BL=null;a=this.$CL;for(a=new jb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$CL=null}},__class__:re};var se=function(a,b){this.$GL=a;this.$HL=b};l.$C_=se;se.__name__=["$C_"];se.prototype={__class__:se};var Cc=
function(a){this.$wK=!1;this.$NH=a};l.$CAB=Cc;Cc.__name__=["$CAB"];Cc.__interfaces__=[pd];Cc.__super__=va;Cc.prototype=t(va.prototype,{toString:function(){return this.$NH},toJson:function(){return JSON.parse(this.toString())},$uK:function(){this.$NH=null},__class__:Cc});var Pf=function(){};l["kit.subsystem.KeyboardSystem"]=Pf;Pf.__name__=["kit","subsystem","KeyboardSystem"];Pf.prototype={__class__:Pf};var fb=function(){this.down=new na;this.up=new na;this.backButton=new Nb;this.$LL=new Ia};l.$CBB=
fb;fb.__name__=["$CBB"];fb.__interfaces__=[Pf];fb.prototype={$JL:function(a){if(16777238==a)return null!=this.backButton.$uF?(this.backButton.emit(),!0):!1;this.$LL.exists(a)||(this.$LL.h[a]=!0,fb.$ML.$$I(fb.$ML.id+1,Qf.$0N(a)),this.down.emit(fb.$ML));return!0},$KL:function(a){this.$LL.exists(a)&&(this.$LL.remove(a),fb.$ML.$$I(fb.$ML.id+1,Qf.$0N(a)),this.up.emit(fb.$ML))},__class__:fb};var Rf=function(){};l["kit.subsystem.MouseSystem"]=Rf;Rf.__name__=["kit","subsystem","MouseSystem"];Rf.prototype=
{__class__:Rf,__properties__:{set_cursor:"set_cursor",get_cursor:"get_cursor"}};var Ua=function(a){this.$KF=a;this.$AJ=he.Mouse(Ua.$ML);this.down=new na;this.move=new na;this.up=new na;this.scroll=new na;this.$kH=this.$jH=0;this.$PL=Ea.Default;this.$QL=new Ia};l.$CCB=Ua;Ua.__name__=["$CCB"];Ua.__interfaces__=[Rf];Ua.prototype={get_cursor:function(){return this.$PL},set_cursor:function(a){return this.$PL=a},$JL:function(a,b,d){this.$QL.exists(d)||(this.$QL.h[d]=!0,this.$lI(a,b,Sf.$HO(d)),this.$KF.$JL(a,
b,this.$AJ),this.down.emit(Ua.$ML))},$NL:function(a,b){this.$lI(a,b,null);this.$KF.$NL(a,b,this.$AJ);this.move.emit(Ua.$ML)},$KL:function(a,b,d){this.$QL.exists(d)&&(this.$QL.remove(d),this.$lI(a,b,Sf.$HO(d)),this.$KF.$KL(a,b,this.$AJ),this.up.emit(Ua.$ML))},$OL:function(a,b,d){this.$jH=a;this.$kH=b;if(null==this.scroll.$uF)return!1;this.scroll.emit(d);return!0},$lI:function(a,b,d){this.$jH=a;this.$kH=b;Ua.$ML.$$I(Ua.$ML.id+1,a,b,d)},__class__:Ua,__properties__:{set_cursor:"set_cursor",get_cursor:"get_cursor"}};
var Tf=function(){};l["kit.subsystem.PointerSystem"]=Tf;Tf.__name__=["kit","subsystem","PointerSystem"];Tf.prototype={__class__:Tf};var ia=function(a,b,d){null==d&&(d=!1);null==b&&(b=0);null==a&&(a=0);this.down=new na;this.move=new na;this.up=new na;this.$jH=a;this.$kH=b;this.$RL=d};l.$CDB=ia;ia.__name__=["$CDB"];ia.__interfaces__=[Tf];ia.prototype={$JL:function(a,b,d){if(!this.$RL){this.$NL(a,b,d);this.$RL=!0;var c=[],h=r.hitTest(m.root,a,b);if(null!=h)for(var e=h.owner;;){var f=e.$BF[1];null!=f&&
c.push(f);e=e.parent;if(null==e)break}this.$lI(a,b,h,d);for(a=0;a<c.length;)if(b=c[a],++a,b.$rG(ia.$ML),ia.$ML.$_I)return;this.down.emit(ia.$ML)}},$NL:function(a,b,d){if(a!=this.$jH||b!=this.$kH){var c=[],h=r.hitTest(m.root,a,b);if(null!=h)for(var e=h.owner;;){var f=e.$BF[1];null!=f&&c.push(f);e=e.parent;if(null==e)break}this.$lI(a,b,h,d);for(a=0;a<c.length;)if(b=c[a],++a,b.$sG(ia.$ML),ia.$ML.$_I)return;this.move.emit(ia.$ML)}},$KL:function(a,b,d){if(this.$RL){this.$NL(a,b,d);this.$RL=!1;var c=[],
h=r.hitTest(m.root,a,b);if(null!=h)for(var e=h.owner;;){var f=e.$BF[1];null!=f&&c.push(f);e=e.parent;if(null==e)break}this.$lI(a,b,h,d);for(a=0;a<c.length;)if(b=c[a],++a,b.$uG(ia.$ML),ia.$ML.$_I)return;this.up.emit(ia.$ML)}},$lI:function(a,b,d,c){this.$jH=a;this.$kH=b;ia.$ML.$$I(ia.$ML.id+1,a,b,d,c)},__class__:ia};var te=function(){};l.$CEB=te;te.__name__=["$CEB"];te.__interfaces__=[rg];te.prototype={__class__:te};var gb=function(a,b,d){this.$jH=this.$kH=0;this.$VL=null;this.$TL=this.$UL=0;this.$wK=
!1;this.$SL=a;this.$yH=b;this.$zH=d};l.$CFB=gb;gb.__name__=["$CFB"];gb.__interfaces__=[te];gb.__super__=va;gb.prototype=t(va.prototype,{subTexture:function(a,b,d,c){d=this.$SL.createTexture(d,c);d.$VL=this;d.$jH=a;d.$kH=b;d.$TL=this.$TL+a;d.$UL=this.$UL+b;return d},clear:function(){this.$SL.clear()},renderFilter:function(a,b,d){this.$SL.renderFilter(a,b,d)},get_graphics:function(){return this.$SL.getGraphics()},$uK:function(){null==this.$VL&&this.$SL.dispose()},get_width:function(){return this.$yH},
get_height:function(){return this.$zH},__class__:gb,__properties__:{get_height:"get_height",get_width:"get_width",get_graphics:"get_graphics"}});var ue=function(){};l["kit.subsystem.TouchSystem"]=ue;ue.__name__=["kit","subsystem","TouchSystem"];ue.prototype={__class__:ue,__properties__:{get_supported:"get_supported"}};var id=function(a,b){null==b&&(b=4);this.$KF=a;this.$XL=b;this.$YL=new Ia;this.$8H=[];this.down=new na;this.move=new na;this.up=new na};l.$CGB=id;id.__name__=["$CGB"];id.__interfaces__=
[ue];id.prototype={get_supported:function(){return!0},$JL:function(a,b,d){if(!this.$YL.h.hasOwnProperty(a)){var c=new Mf(a);c.$$I(b,d);this.$YL.h[a]=c;this.$8H.push(c);null==this.$WL&&(this.$WL=c,this.$KF.$JL(b,d,c.$AJ));this.down.emit(c)}},$NL:function(a,b,d){a=this.$YL.h[a];null!=a&&(a.$$I(b,d),this.$WL==a&&this.$KF.$NL(b,d,a.$AJ),this.move.emit(a))},$KL:function(a,b,d){var c=this.$YL.h[a];null!=c&&(c.$$I(b,d),this.$YL.remove(a),F.remove(this.$8H,c),this.$WL==c&&(this.$WL=null,this.$KF.$KL(b,d,
c.$AJ)),this.up.emit(c))},__class__:id,__properties__:{get_supported:"get_supported"}};var wg=function(){};l.$CHB=wg;wg.__name__=["$CHB"];wg.$ZL=function(){m.$zF().then(function(a){try{m.$2F.getExternal().call("console.info",["Built with 2DKit, http://2dkit.com"])}catch(b){}xg.main()})};var za=function(){};l.$CIB=za;za.__name__=["$CIB"];za.$fL=function(a){var b=cd.getType(za).injected[0];return la.field(b,a)};za.$gL=function(){switch(za.$fL("orientation")){case "landscape":return Ab.Landscape;case "portrait":return Ab.Portrait}return null};
var ve=function(){this.$0L=new ra;this.$zL=0;this.$xL=this.$yL=null;this.$wL=Infinity;this.$vL=0};l.$CJB=ve;ve.__name__=["$CJB"];ve.__interfaces__=[Sa];ve.prototype={$lL:function(a){this.$wL=a;this.$uL(!0);return this},$mL:function(a){this.$xL=a;return this},$nL:function(a){this.$yL=a;return this},$oL:function(a,b,d){null==d&&(d=!0);this.$sL(a);var c=null!=this.$yL?this.$yL(a,b):1;this.$vL+=c;this.$uL(d);b=new Uf(a,b);b.$1L=++this.$zL;b.$jL=c;this.$0L.set(a,b)},$fL:function(a){a=this.$0L.h[a.__id__];
if(null==a)return null;a.$1L=++this.$zL;return a.$8I},$pL:function(){var a=this.$rL(!0);return null!=a?a.$YI:null},$rL:function(a){for(var b=null,d=this.$0L.iterator();d.hasNext();){var c=d.next();if(null==b||c.$1L<b.$1L==a)b=c}return b},$sL:function(a,b){null==b&&(b=!0);var d=this.$0L.h[a.__id__];if(null==d)return null;null!=this.$xL&&b&&this.$xL(a,d.$8I);this.$0L.remove(a);this.$vL-=d.$jL;return d.$8I},$tL:function(a){null==a&&(a=!0);var b=this.$0L;this.$0L=new ra;this.$vL=0;if(null!=this.$xL&&
a)for(a=b.iterator();a.hasNext();)b=a.next(),this.$xL(b.$YI,b.$8I)},dispose:function(){this.$tL()},$uL:function(a){for(;this.$vL>this.$wL;){var b=this.$rL(a);if(null!=b)null!=this.$xL&&this.$xL(b.$YI,b.$8I),this.$0L.remove(b.$YI),this.$vL-=b.$jL;else break}},__class__:ve};var Uf=function(a,b){this.$jL=1;this.$1L=0;this.$YI=a;this.$8I=b};l.$CKB=Uf;Uf.__name__=["$CKB"];Uf.prototype={__class__:Uf};var Tb=function(){};l.$CMB=Tb;Tb.__name__=["$CMB"];Tb.$7L=function(a,b){var d=a.__creator;if(null!=d&&(d=
la.field(d,b),null!=d))return d;d=fa.getSuperClass(a);return null!=d?Tb.$7L(d,b):null};Tb.$eG=function(a,b){switch(a[1]){case 0:return b;case 1:return"0"!=b?"false"!=b:!1;case 2:var d=parseFloat(b);return isNaN(d)?0:d;case 3:return 35==F.cca(b,0)&&(b="0x"+F.substr(b,1,null)),d=v.parseInt(b),null!=d?d:0;case 5:d=a[2];try{return fa.createEnum(d,b)}catch(c){break}case 6:switch(a[2]){case Date:return d=parseFloat(b),new Date(d);case $:return d=parseFloat(b),new $(isNaN(d)?0:d);case tb:var d=new tb,h=
b.split(",");2<=h.length&&(d.x=parseFloat(h[0]),d.y=parseFloat(h[1]));return d;case Ha:return d=new Ha,h=b.split(","),4<=h.length&&(d.x=parseFloat(h[0]),d.y=parseFloat(h[1]),d.width=parseFloat(h[2]),d.height=parseFloat(h[3])),d}}return null};var fc=function(){};l["kit.sound.Sound"]=fc;fc.__name__=["kit","sound","Sound"];fc.__interfaces__=[zb];fc.prototype={__class__:fc};var $a=function(){this.$wK=!1;this.$2J=new we(this)};l.$CPB=$a;$a.__name__=["$CPB"];$a.__interfaces__=[fc];$a.$8L=function(){null==
$a.$9F&&($a.$9F=new $a);return $a.$9F};$a.__super__=va;$a.prototype=t(va.prototype,{play:function(a){return this.$2J},loop:function(a){return this.$2J},$uK:function(){},__class__:$a});var gc=function(){};l["kit.sound.Playback"]=gc;gc.__name__=["kit","sound","Playback"];gc.__interfaces__=[Sa];gc.prototype={__class__:gc};var we=function(a){this.$9L=a;this.volume=new $(0);this.$$L=new sa(!0)};l.$CQB=we;we.__name__=["$CQB"];we.__interfaces__=[gc];we.prototype={dispose:function(){},__class__:we};var xe=
function(){};l["kit.subsystem.StorageSystem"]=xe;xe.__name__=["kit","subsystem","StorageSystem"];xe.prototype={__class__:xe};var fd=function(){this.$cH=new da};l.$CRB=fd;fd.__name__=["$CRB"];fd.__interfaces__=[xe];fd.prototype={set:function(a,b){var d=this.$cH;null!=K[a]?d.setReserved(a,b):d.h[a]=b;return(new ya).$MT(null)},get:function(a,b){var d=new ya,c;c=this.$cH;(null!=K[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.$cH,c=null!=K[a]?c.getReserved(a):c.h[a]):c=b;return d.$MT(c)},__class__:fd};
var jd=function(){this.down=new na;this.move=new na;this.up=new na};l.$CSB=jd;jd.__name__=["$CSB"];jd.__interfaces__=[ue];jd.prototype={get_supported:function(){return!1},__class__:jd,__properties__:{get_supported:"get_supported"}};var Dc=function(){};l["kit.video.Video"]=Dc;Dc.__name__=["kit","video","Video"];Dc.__interfaces__=[zb];Dc.prototype={__class__:Dc,__properties__:{get_height:"get_height",get_width:"get_width"}};var Bb=function(){this.$wK=!1;this.$2J=new ye(this)};l.$CTB=Bb;Bb.__name__=
["$CTB"];Bb.__interfaces__=[Dc];Bb.$8L=function(){null==Bb.$9F&&(Bb.$9F=new Bb);return Bb.$9F};Bb.__super__=va;Bb.prototype=t(va.prototype,{play:function(a){return this.$2J},get_width:function(){return 1},get_height:function(){return 1},$uK:function(){},__class__:Bb,__properties__:{get_height:"get_height",get_width:"get_width"}});var Ec=function(){};l["kit.video.VideoPlayback"]=Ec;Ec.__name__=["kit","video","VideoPlayback"];Ec.__interfaces__=[Sa];Ec.prototype={__class__:Ec,__properties__:{get_texture:"get_texture",
get_video:"get_video"}};var ye=function(a){this.$_L=a;this.volume=new $(0);this.$$L=new sa(!0);this.$0H=m.$2F.$LF.createTexture(1,1)};l.$CUB=ye;ye.__name__=["$CUB"];ye.__interfaces__=[Ec];ye.prototype={get_video:function(){return this.$_L},get_texture:function(){return this.$0H},dispose:function(){},__class__:ye,__properties__:{get_texture:"get_texture",get_video:"get_video"}};var hc=function(){this.$sE=[]};l.$CWB=hc;hc.__name__=["$CWB"];hc.__interfaces__=[Sa];hc.prototype={$AM:function(a,b,d){a.addEventListener(b,
d,!1);this.$sE.push(new Vf(a,b,d))},$BM:function(a,b,d){var c=this;this.$AM(a,b,function(a){c.dispose();d(a)})},dispose:function(){for(var a=0,b=this.$sE;a<b.length;){var d=b[a];++a;d.$CM.removeEventListener(d.$9I,d.$DM,!1)}this.$sE=[]},__class__:hc};var Vf=function(a,b,d){this.$CM=a;this.$9I=b;this.$DM=d};l.$CXB=Vf;Vf.__name__=["$CXB"];Vf.prototype={__class__:Vf};var Cf=function(a,b){this.$FM=this.$GM=0;var d=a+150,c=b+150;this.$HM=m.$2F.$LF.createTexture(d,c);this.$IM=m.$2F.$LF.createTexture(d,
c);this.$yH=a;this.$zH=b};l.$CZB=Cf;Cf.__name__=["$CZB"];Cf.prototype={$JM:function(a,b){if(a>this.$HM.get_width()||b>this.$HM.get_height()){var d=Math.max(this.$HM.get_width(),a+150)|0,c=Math.max(this.$HM.get_height(),b+150)|0;this.$HM.dispose();this.$IM.dispose();this.$HM=m.$2F.$LF.createTexture(d,c);this.$IM=m.$2F.$LF.createTexture(d,c)}else this.$HM.clear(),this.$IM.clear();this.$yH=a;this.$zH=b},$KM:function(a){null!=a.$4I&&(a.outputOnly||a.setUniformSampler2D("uTexture",this.$HM),a.setUniformVec2("uFilterPosition",
this.$FM,this.$GM),this.$IM.renderFilter(a,this.$yH,this.$zH),a=this.$HM,this.$HM=this.$IM,this.$IM=a)},__class__:Cf};var Fc=function(){};l.$CcB=Fc;Fc.__name__=["$CcB"];Fc.__interfaces__=[Ad];Fc.prototype={__class__:Fc};var Wf=function(){};l["kit.subsystem.RendererSystem"]=Wf;Wf.__name__=["kit","subsystem","RendererSystem"];Wf.prototype={__class__:Wf,__properties__:{get_filterSupported:"get_filterSupported"}};var Gc=function(){};l.$CdB=Gc;Gc.__name__=["$CdB"];Gc.__interfaces__=[Wf];Gc.prototype={__class__:Gc};
var Qf=function(){};l.$CeB=Qf;Qf.__name__=["$CeB"];Qf.$0N=function(a){switch(a){case 8:return g.Backspace;case 9:return g.Tab;case 13:return g.Enter;case 15:return g.Command;case 16:return g.Shift;case 17:return g.Control;case 18:return g.Alt;case 20:return g.CapsLock;case 27:return g.Escape;case 32:return g.Space;case 33:return g.PageUp;case 34:return g.PageDown;case 35:return g.End;case 36:return g.Home;case 37:return g.Left;case 38:return g.Up;case 39:return g.Right;case 40:return g.Down;case 45:return g.Insert;
case 46:return g.Delete;case 48:return g.Number0;case 49:return g.Number1;case 50:return g.Number2;case 51:return g.Number3;case 52:return g.Number4;case 53:return g.Number5;case 54:return g.Number6;case 55:return g.Number7;case 56:return g.Number8;case 57:return g.Number9;case 65:return g.A;case 66:return g.B;case 67:return g.C;case 68:return g.D;case 69:return g.E;case 70:return g.F;case 71:return g.G;case 72:return g.H;case 73:return g.I;case 74:return g.J;case 75:return g.K;case 76:return g.L;
case 77:return g.M;case 78:return g.N;case 79:return g.O;case 80:return g.P;case 81:return g.Q;case 82:return g.R;case 83:return g.S;case 84:return g.T;case 85:return g.U;case 86:return g.V;case 87:return g.W;case 88:return g.X;case 89:return g.Y;case 90:return g.Z;case 96:return g.Numpad0;case 97:return g.Numpad1;case 98:return g.Numpad2;case 99:return g.Numpad3;case 100:return g.Numpad4;case 101:return g.Numpad5;case 102:return g.Numpad6;case 103:return g.Numpad7;case 104:return g.Numpad8;case 105:return g.Numpad9;
case 106:return g.NumpadMultiply;case 107:return g.NumpadAdd;case 108:return g.NumpadEnter;case 109:return g.NumpadSubtract;case 110:return g.NumpadDecimal;case 111:return g.NumpadDivide;case 112:return g.F1;case 113:return g.F2;case 114:return g.F3;case 115:return g.F4;case 116:return g.F5;case 117:return g.F6;case 118:return g.F7;case 119:return g.F8;case 120:return g.F9;case 121:return g.F10;case 122:return g.F11;case 123:return g.F12;case 186:return g.Semicolon;case 187:return g.Equals;case 188:return g.Comma;
case 189:return g.Minus;case 190:return g.Period;case 191:return g.Slash;case 192:return g.Backquote;case 219:return g.LeftBracket;case 220:return g.Backslash;case 221:return g.RightBracket;case 222:return g.Quote;case 16777234:return g.Menu;case 16777247:return g.Search}return g.Unknown(a)};var eb=function(){this.$8N=0;this.$6N=null;this.$2N=new e;this.$7N=[]};l.$CfB=eb;eb.__name__=["$CfB"];eb.$9N=function(a,b){if(a.active){var d=a.$BF[9];if(null!=d&&(d.$6F=b,b*=d.scale.$hF,0>=b)){d.onUpdate(b);
return}for(d=a.firstComponent;null!=d;){var c=d.next;0==(d.$nE&1)&&(d.$nE|=1,d.$mE(),d.onStart());d.onUpdate(b);d=c}for(d=a.firstChild;null!=d;)c=d.next,eb.$9N(d,b),d=c}};eb.prototype={$$I:function(){if(1==za.$fL("scaleMode")){var a=new r;m.root.add(a);var b=za.$fL("width"),d=za.$fL("height"),c=za.$fL("maxWidth"),h=za.$fL("maxHeight"),e=function(){var e=Math.min(m.$2F.$MF.get_width()/b,m.$2F.$MF.get_height()/d),f=m.$2F.$MF.get_width()/2-e*b/2,n=m.$2F.$MF.get_height()/2;a.setXY(f,n-e*d/2);a.setScale(e);
c*e<m.$2F.$MF.get_width()||h*e<m.$2F.$MF.get_height()?(null==a.get_scissor()&&a.set_scissor(new Ha),a.get_scissor().set(b/2-c/2,d/2-h/2,c,h)):a.set_scissor(null)};e();m.$2F.$MF.resize.connect(e)}},$FF:function(a){if(!(0>=a)){0.5<a?3>=this.$8N&&(++this.$8N,a=0.016666666666666666):this.$8N=0;if(null!=this.$6N){var b=this.$6N;this.$6N=null;for(var d=0;d<b.length;){var c=b[d];++d;c()}}for(b=0;b<this.$7N.length;)d=this.$7N[b],null==d||d.update(a)?this.$7N.splice(b,1):++b;m.volume.update(a);eb.$9N(m.root,
a);eb.$9N(this.$2N,a)}},$iH:function(a){var b=a.graphics;null!=b&&(a.willRender(),r.$6G(m.root,b,!0),r.$6G(this.$2N,b,!0),a.didRender())},$3N:function(a){this.$7N.push(a)},$5N:function(a){null==this.$6N?this.$6N=[a]:this.$6N.push(a)},__class__:eb};var wa=function(){};l.$CgB=wa;wa.__name__=["$CgB"];wa.$_N=function(a,b,d,c,h,e,f){if(3>f)return!1;for(var g=0,l=2*Math.PI/f,m=0;m<f;){var p=m++,r=Math.cos(g),s=Math.sin(g),g=g+l;a.push(h*r+d);a.push(e*s+c);p<f-1&&(b.push(0),b.push(p),b.push(p+1))}return!0};
wa.$AO=function(a,b,d,c,h,e,f,g){if(3>g)return!1;a.push(d);a.push(c);f/=g;var l=0;for(g+=1;l<g;){var m=l++,p=Math.cos(e),r=Math.sin(e);e+=f;a.push(h*p+d);a.push(h*r+c);b.push(0);b.push(m);b.push(m+1)}return!0};wa.$BO=function(a,b,d,c,h,e,f,g,l){f/=l;var m=[],p=0;for(l+=1;p<l;){p++;var r=Math.cos(e),s=Math.sin(e);e+=f;m.push(h*r+d);m.push(h*s+c)}return wa.$DO(a,b,m,g)};wa.$CO=function(a,b,d,c,h,e,f,g){for(var l=0,m=2*Math.PI/g,p=[],r=0;r<g;){r++;var s=Math.cos(l),t=Math.sin(l),l=l+m;p.push(h*s+d);
p.push(e*t+c)}p.push(h+d);p.push(c);return wa.$DO(a,b,p,f)};wa.$DO=function(a,b,d,c){var h=d.length;if(4>h)return!1;c/=2;var e=d[0],f=d[1],g=d[h-2],l=d[h-1],m=new tb(-(d[3]-f),d[2]-e);m.normalize();var p=m.x,m=m.y;a.push(e-c*p);a.push(f-c*m);a.push(e+c*p);a.push(f+c*m);e=h/2|0;for(f=2;f<h-2;){var r=d[f++],s=d[f++],t=d[f],v=d[f+1],u=new tb(-(v-s),t-r);u.normalize();var x=new tb(u.x,u.y);x.add(p,m);x.normalize();var w=u.dot(x.x,x.y);x.multiply(c/w);if(0.15>w){var w=d[f-4],y=d[f-3];0>(r-w)*(v-y)-(s-
y)*(t-w)?(a.push(r-x.x),a.push(s-x.y),a.push(r+p*c),a.push(s+m*c),a.push(r-x.x),a.push(s-x.y),a.push(r+u.x*c),a.push(s+u.y*c)):(a.push(r-p*c),a.push(s-m*c),a.push(r+x.x),a.push(s+x.y),a.push(r-u.x*c),a.push(s-u.y*c),a.push(r+x.x),a.push(s+x.y));++e}else a.push(r-x.x),a.push(s-x.y),a.push(r+x.x),a.push(s+x.y);p=u.x;m=u.y}a.push(g-c*p);a.push(l-c*m);a.push(g+c*p);a.push(l+c*m);a=0;for(d=e-1;a<d;)h=2*a++,b.push(h),b.push(h+1),b.push(h+2),b.push(h+2),b.push(h+3),b.push(h+1);return!0};wa.$EO=function(a){if(6>
a.length)return null;null==wa.$FO&&(wa.$FO=new Xf);return wa.$FO.triangulate(a)};var Sf=function(){};l.$ChB=Sf;Sf.__name__=["$ChB"];Sf.$HO=function(a){switch(a){case 0:return Oa.Left;case 1:return Oa.Middle;case 2:return Oa.Right}return Oa.Unknown(a)};var kd=function(){this.$NH=null;y.call(this)};l.$CiB=kd;kd.__name__=["$CiB"];kd.__super__=y;kd.prototype=t(y.prototype,{get_entitySlot:function(){return 10},onStart:function(){var a=this,b=za.$gL();null!=b&&m.$2F.$MF.orientation.watch(function(d,c){null==
d||d==b?a.$KO():a.$JO(d!=c)})},$JO:function(a){var b=this;if(null==this.$NH){this.owner.addChild(this.$NH=new e);var d=this.$NH,c=Ma.fromAssets("_2DKitOrientation");m.$2F.loadAssetPack(c).then(function(c){b.registerDisposable(c);var k=new J(0,0,0);a&&k.alpha.animate(0,1,0.3);d.add(k);var f=(new Z(c.getTexture("RotateDevice"))).centerAnchor();c=(new e).add(f);d.addChild(c);c=function(){var a=m.$2F.$MF.get_width(),b=m.$2F.$MF.get_height();k.setSize(a,b);a=m.$2F.$MF.get_width()/2;b=m.$2F.$MF.get_height()/
2;f.setXY(a,b)};c();b.connect0(m.$2F.$MF.resize,c)})}},$KO:function(){null!=this.$NH&&(this.$NH.dispose(),this.$NH=null)},__class__:kd});var pb=function(){};l.$CjB=pb;pb.__name__=["$CjB"];pb.$NO=function(a){var b=new Wa;b.useCache=!0;b.useEnumIndex=!1;b.serialize(a);return b.toString()};pb.$PO=function(a){return pb.$RO(pb.$NO(a),!1)};pb.$QO=function(a){return ha.run(pb.$RO(a,!0))};pb.$RO=function(a,b){for(var d="",c=new Yf(a.length),h=0,e=a.length;h<e;){var f=h++,g=c.nextInt()%30;b&&(g=-g);f=a.charCodeAt(f)+
g;d+=String.fromCharCode(f)}return d};var ze=function(){};l.$CmB=ze;ze.__name__=["$CmB"];ze.prototype={__class__:ze};var Hc=function(){};l.$CnB=Hc;Hc.__name__=["$CnB"];Hc.prototype={__class__:Hc};var pa=function(a,b){this.$gO=new Ae;this.$fO=!1;this.$eO=a.getContext("2d",{alpha:b})};l.$CoB=pa;pa.__name__=["$CoB"];pa.__interfaces__=[Fc];pa.prototype={save:function(){var a=this.$gO,b=this.$gO.next;null==b&&(b=new Ae,b.$kO=a,a.next=b);b.$PK=a.$PK;b.$RK=a.$RK;b.$TK=a.$TK;b.$iO=a.$iO;b.$jO=a.$jO;this.$gO=
b;this.$eO.save()},translate:function(a,b){this.$eO.translate(a|0,b|0)},scale:function(a,b){this.$eO.scale(a,b)},rotate:function(a){this.$eO.rotate(3.141592653589793*a/180)},transform:function(a,b,d,c,h,e){this.$eO.transform(a,b,d,c,h,e)},restore:function(){this.$gO=this.$gO.$kO;this.$eO.restore()},$SO:function(a,b,d,c,h){var e=this.$gO,e=(255*e.$PK&255)<<16|(255*e.$RK&255)<<8|255*e.$TK&255;null==pa.$hO&&(pa.$hO=I.$9P(c,h));pa.$hO.width=c;pa.$hO.height=h;var f=pa.$hO.getContext("2d",null);f.globalCompositeOperation=
"copy";f.fillStyle=I.$DQ(e);f.fillRect(0,0,c,h);f.globalCompositeOperation="multiply";f.drawImage(a,b,d,c,h,0,0,c,h);f.globalCompositeOperation="destination-atop";f.drawImage(a,b,d,c,h,0,0,c,h);return pa.$hO},drawTexture:function(a,b,d){this.drawSubTexture(a,b,d,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,d,c,h,e,f){if(this.$fO)this.$fO=!1,this.$eO.globalCompositeOperation="copy",this.drawSubTexture(a,b,d,c,h,e,f),this.$eO.globalCompositeOperation="source-over";else{var g=a.$SL;
c=a.$TL+c|0;a=a.$UL+h|0;e|=0;f|=0;b|=0;d|=0;h=g.$UG;this.$gO.$iO?(g=this.$SO(g.$uO,c,a,e,f),this.$eO.drawImage(g,b*h,d*h,e*h,f*h)):this.$eO.drawImage(g.$uO,c*h,a*h,e*h,f*h,b,d,e,f)}},drawPattern:function(a,b,d,c,h){if(this.$fO)this.$fO=!1,this.$eO.globalCompositeOperation="copy",this.drawPattern(a,b,d,c,h),this.$eO.globalCompositeOperation="source-over";else{var e=this.$gO,f=a.$SL.$UG;1!=f&&(this.$eO.save(),this.$eO.scale(1/f,1/f));b|=0;d|=0;c|=0;h|=0;e.$jO?this.$eO.rect(b,d,c,h):(this.$eO.fillStyle=
this.$aO(a),this.$eO.fillRect(b,d,c*f,h*f));1!=f&&this.$eO.restore()}},fillRect:function(a,b,d,c,h){this.$fO?(this.$fO=!1,this.$eO.globalCompositeOperation="copy",this.fillRect(a,b,d,c,h),this.$eO.globalCompositeOperation="source-over"):(b|=0,d|=0,c|=0,h|=0,this.$gO.$jO?this.$eO.rect(b,d,c,h):(this.$eO.fillStyle=this.$ZO(a),this.$eO.fillRect(b,d,c,h)))},fillTriangles:function(a,b,d){this.$fO=!1;this.$TO(b,d);this.$bO(a)},drawTriangles:function(a,b,d,c){this.$fO=!1;this.$TO(b,d);this.$cO(a)},$TO:function(a,
b){this.$eO.beginPath();for(var d=0,c=b.length;d<c;){var h=2*b[d],e=2*b[d+1],f=2*b[d+2],d=d+3;this.$eO.moveTo(a[h],a[h+1]);this.$eO.lineTo(a[e],a[e+1]);this.$eO.lineTo(a[f],a[f+1])}this.$eO.closePath()},fillPolygon:function(a,b){this.$fO=!1;this.$UO(b);this.$bO(a)},drawPolygon:function(a,b){this.$fO=!1;this.$UO(b);this.$cO(a)},$UO:function(a){this.$eO.beginPath();for(var b=0,d=a.length;b<d;){var c=a[b++],h=a[b++];this.$eO.lineTo(c,h)}this.$eO.closePath()},drawCircle:function(a,b,d,c,h){this.$fO=!1;
this.$VO(b,d,c);this.$cO(a)},fillCircle:function(a,b,d,c,h){this.$fO=!1;this.$VO(b,d,c);this.$bO(a)},strokeCircle:function(a,b,d,c,h,e){this.$fO=!1;this.$VO(b,d,c);this.$dO(a,h)},$VO:function(a,b,d){this.$eO.beginPath();this.$eO.arc(a,b,d,0,6.283185307179586);this.$eO.closePath()},drawEllipse:function(a,b,d,c,h,e){this.$fO=!1;this.$WO(b,d,c,h);this.$cO(a)},fillEllipse:function(a,b,d,c,h,e){this.$fO=!1;this.$WO(b,d,c,h);this.$bO(a)},strokeEllipse:function(a,b,d,c,h,e,f){this.$fO=!1;this.$WO(b,d,c,
h);this.$dO(a,e)},$WO:function(a,b,d,c){var h=0.5522848*d,e=0.5522848*c,f=a-d,g=b-c;d=a+d;c=b+c;this.$eO.beginPath();this.$eO.moveTo(f,b);this.$eO.bezierCurveTo(f,b-e,a-h,g,a,g);this.$eO.bezierCurveTo(a+h,g,d,b-e,d,b);this.$eO.bezierCurveTo(d,b+e,a+h,c,a,c);this.$eO.bezierCurveTo(a-h,c,f,b+e,f,b);this.$eO.closePath()},fillArc:function(a,b,d,c,h,e,f){this.$fO=!1;e=h+e;this.$eO.beginPath();this.$eO.moveTo(b,d);this.$eO.arc(0,0,c,3.141592653589793*h/180,3.141592653589793*e/180);this.$bO(a)},strokeArc:function(a,
b,d,c,h,e,f,g){this.$fO=!1;d=h+e;this.$eO.beginPath();this.$eO.arc(b,b,c,3.141592653589793*h/180,3.141592653589793*d/180);this.$dO(a,f)},strokeLines:function(a,b,d){this.$fO=!1;this.$XO(b);this.$eO.lineWidth=d;this.$eO.strokeStyle=this.$ZO(a);this.$eO.stroke()},drawLines:function(a,b,d){this.$fO=!1;this.$XO(b);this.$eO.lineWidth=d;this.$eO.strokeStyle=this.$aO(a);this.$eO.stroke()},$XO:function(a){this.$eO.beginPath();if(2<=a.length){this.$eO.moveTo(a[0],a[1]);for(var b=2,d=a.length;b<d;){var c=a[b++],
h=a[b++];this.$eO.lineTo(c,h)}}},multiplyAlpha:function(a){this.$eO.globalAlpha*=a},setAlpha:function(a){this.$eO.globalAlpha=a},tint:function(a,b,d){var c=this.$gO;c.$PK*=a;c.$RK*=b;c.$TK*=d;c.$iO=!0},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this.$eO.globalCompositeOperation=b},beginMask:function(){var a=this.$gO;a.$jO&&this.endMask();a.$jO=!0;
this.$eO.beginPath()},endMask:function(){var a=this.$gO;a.$jO&&(a.$jO=!1,this.$eO.clip())},applyScissor:function(a,b,d,c){this.$eO.beginPath();this.$eO.rect(a|0,b|0,d|0,c|0);this.$eO.clip()},willRender:function(){this.$fO=!0},didRender:function(){},onResize:function(a,b){},$ZO:function(a){var b=this.$gO;b.$iO&&(a=(b.$PK*(a&16711680)/16711680*255&255)<<16|(b.$RK*(a&65280)/65280*255&255)<<8|b.$TK*(a&255)/255*255&255);return I.$DQ(a)},$aO:function(a){return this.$gO.$iO?(a=this.$SO(a.$SL.$uO,a.$TL,a.$UL,
a.$yH,a.$zH),this.$eO.createPattern(a,"repeat")):a.$nO()},$bO:function(a){this.$gO.$jO||(this.$eO.fillStyle=this.$ZO(a),this.$eO.fill())},$cO:function(a){this.$gO.$jO||(this.$eO.fillStyle=this.$aO(a),this.$eO.fill())},$dO:function(a,b){this.$gO.$jO||(this.$eO.strokeStyle=this.$ZO(a),this.$eO.lineWidth=b,this.$eO.stroke())},__class__:pa};var Ae=function(){this.$kO=this.next=null;this.$iO=this.$jO=!1;this.$PK=this.$RK=this.$TK=1};l.$CpB=Ae;Ae.__name__=["$CpB"];Ae.prototype={__class__:Ae};var nd=function(a){this.graphics=
new pa(a,!1);this.$mO=new sa(!0)};l.$CqB=nd;nd.__name__=["$CqB"];nd.__interfaces__=[Gc];nd.prototype={get_filterSupported:function(){return!1},createTextureFromImage:function(a,b,d){null==d&&(d=1);a=new Ic(a,d);return a.createTexture(a.$qO/d,a.$rO/d)},createTexture:function(a,b,d,c){null==c&&(c=1);a=I.$9P(a,b);return this.createTextureFromImage(a,null,c)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:nd,
__properties__:{get_filterSupported:"get_filterSupported"}};var Be=function(a,b,d){this.$pO=0;this.$oO=null;gb.call(this,a,b,d)};l.$CrB=Be;Be.__name__=["$CrB"];Be.__super__=gb;Be.prototype=t(gb.prototype,{$nO:function(){if(this.$pO!=this.$SL.$vO||null==this.$oO)this.$pO=this.$SL.$vO,this.$oO=this.$SL.$xO(this.$TL,this.$UL,this.$yH,this.$zH);return this.$oO},__class__:Be});var Ic=function(a,b){this.$zO=null;this.$vO=0;this.$wK=!1;this.$uO=a;this.$qO=a.width;this.$rO=a.height;this.$UG=b;this.$sO=this.$qO/
b;this.$tO=this.$rO/b};l.$CsB=Ic;Ic.__name__=["$CsB"];Ic.__interfaces__=[ze];Ic.__super__=va;Ic.prototype=t(va.prototype,{createTexture:function(a,b){return new Be(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$zO&&(this.$yO(),this.$zO=new Ce(this));return this.$zO},clear:function(){var a=this.$yO();a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.$uO.width,this.$uO.height);a.restore()},renderFilter:function(a,b,d){},$xO:function(a,b,d,c){var h=this.$yO(),e=this.$uO;
if(0!=a||0!=b||d!=this.$sO||c!=this.$tO)e=I.$9P(d,c),d=e.getContext("2d",null),d.globalCompositeOperation="copy",d.drawImage(this.$uO,-a,-b);return h.createPattern(e,"repeat")},$yO:function(){ea.__instanceof(this.$uO,HTMLCanvasElement)||(this.$uO=I.$$P(this.$uO));return this.$uO.getContext("2d",null)},$uK:function(){I.$IQ(this.$uO.src);this.$zO=this.$uO=null},__class__:Ic});var Ce=function(a){pa.call(this,a.$uO,!0);this.$0O=a};l.$CtB=Ce;Ce.__name__=["$CtB"];Ce.__super__=pa;Ce.prototype=t(pa.prototype,
{drawTexture:function(a,b,d){pa.prototype.drawTexture.call(this,a,b,d);++this.$0O.$vO},drawSubTexture:function(a,b,d,c,h,e,f){pa.prototype.drawSubTexture.call(this,a,b,d,c,h,e,f);++this.$0O.$vO},drawPattern:function(a,b,d,c,h){pa.prototype.drawPattern.call(this,a,b,d,c,h);++this.$0O.$vO},fillRect:function(a,b,d,c,h){pa.prototype.fillRect.call(this,a,b,d,c,h);++this.$0O.$vO},fillTriangles:function(a,b,d){pa.prototype.fillTriangles.call(this,a,b,d);++this.$0O.$vO},drawTriangles:function(a,b,d,c){pa.prototype.drawTriangles.call(this,
a,b,d);++this.$0O.$vO},drawCircle:function(a,b,d,c,h){null==h&&(h=50);pa.prototype.drawCircle.call(this,a,b,d,c,h);++this.$0O.$vO},fillCircle:function(a,b,d,c,h){null==h&&(h=50);pa.prototype.fillCircle.call(this,a,b,d,c,h);++this.$0O.$vO},drawEllipse:function(a,b,d,c,h,e){null==e&&(e=50);pa.prototype.drawEllipse.call(this,a,b,d,c,h,e);++this.$0O.$vO},fillEllipse:function(a,b,d,c,h,e){null==e&&(e=50);pa.prototype.fillEllipse.call(this,a,b,d,c,h,e);++this.$0O.$vO},strokeLines:function(a,b,d){pa.prototype.strokeLines.call(this,
a,b,d);++this.$0O.$vO},drawLines:function(a,b,d){pa.prototype.drawLines.call(this,a,b,d);++this.$0O.$vO},__class__:Ce});var ma=function(a,b){Bc.call(this,a,b)};l.$CvB=ma;ma.__name__=["$CvB"];ma.$6O=function(a){var b=[s.PNG,s.JPG,s.GIF],d=1,c=window.document.createElement("img");c.onload=c.onerror=function(h){1==c.width&&b.unshift(s.WEBP);d-=1;0==d&&a(b)};c.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="};ma.$7O=function(){var a=window.document.createElement("audio");
if(null==a||null==L(a,a.canPlayType))return[];var b=new Qb("\\b(iPhone|iPod|iPad|Android)\\b",""),d=window.navigator.userAgent;if(!V.get_supported()&&b.match(d))return[];b=[];b.push({format:s.MP3,mimeType:"audio/mpeg"});b.push({format:s.MP4,mimeType:"video/mp4"});for(var d=[{format:s.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:s.WAV,mimeType:"audio/wav"},{format:s.WEBM,mimeType:"video/webm"}],b=0<=window.navigator.userAgent.indexOf("2DKSim")?d:b.concat(d),d=[],c=0;c<b.length;){var h=b[c];++c;
var e="";try{e=a.canPlayType(h.mimeType)}catch(f){}""!=e&&d.push(h.format)}return d};ma.$8O=function(a){var b=++ma.$EP;null==ma.$DP&&(ma.$DP=new Ia);ma.$DP.h[b]=a;return b};ma.$9O=function(a){ma.$DP.remove(a)};ma.__super__=Bc;ma.prototype=t(Bc.prototype,{$2K:function(a,b){var d=this;switch(b.format[1]){case 0:case 1:case 2:case 3:var c=window.document.createElement("img"),h=new hc;h.$BM(c,"load",function(a){a=d.$2F.getRenderer().createTextureFromImage(c,null,1);null!=a?d.$4K(b,a):d.$8K(b)});h.$BM(c,
"error",function(a){I.$IQ(c.src);d.$7K(b,"Failed to load image")});h="data:"==F.substr(a,0,5);!h&&I.$JQ()?this.$4O(a,b,"blob",function(a){c.src=I.$HQ(a)}):(h||(c.crossOrigin=""),c.src=a);break;case 7:case 8:case 9:case 10:case 11:if(V.get_supported())this.$4O(a,b,"arraybuffer",function(a){V.$dQ.decodeAudioData(a,function(a){d.$4K(b,new V(a))},function(){var a=$a.$8L();d.$4K(b,a)})});else{var e=window.document.createElement("audio");e.preload="auto";var f=ma.$8O(e),h=new hc;h.$BM(e,"canplaythrough",
function(a){ma.$9O(f);d.$4K(b,new Jc(e))});h.$BM(e,"error",function(a){ma.$9O(f);a=e.error.code;3==a||4==a?(a=$a.$8L(),d.$4K(b,a)):d.$7K(b,"Failed to load audio: "+e.error.code)});h.$AM(e,"progress",function(a){0<e.buffered.length&&0<e.duration&&(a=e.buffered.end(0)/e.duration,d.$5K(b,a*b.bytes|0,b.bytes))});e.src=a;e.load()}break;case 12:case 13:case 14:(function(a){var c="_kit_font_"+ma.$FP;++ma.$FP;if("undefined"!=typeof FontFace)(new FontFace(c,"url("+a+")",{})).load().then(function(k){window.document.fonts.add(k);
d.$4K(b,new ic(c,k,null,a))},function(c){I.$IQ(a);d.$7K(b,c.message)});else{var k=window.document.createElement("style");k.innerHTML="@font-face{font-family:"+c+";src:url("+a+");}";window.document.head.appendChild(k);var h=window.document.createElement("canvas").getContext("2d",null);h.font="300px sans";var e=h.measureText("BESbswy").width;h.font='300px "'+c+'"';var f=Date.now()/1E3,n=null,n=function(){var g=Date.now()/1E3-f,q=h.measureText("BESbswy").width;5<=g||e!=q?d.$4K(b,new ic(c,null,k,a)):
m.$2F.$EF.$5N(n)};m.$2F.$EF.$5N(n)}})(a);break;case 16:case 17:var g=window.document.createElement("video");g.preload="metadata";var l=ma.$8O(g),h=new hc;h.$BM(g,"loadedmetadata",function(a){ma.$9O(l);d.$4K(b,new Kc(g))});h.$BM(g,"error",function(a){ma.$9O(l);d.$7K(b,"Failed to load video: "+g.error.code)});g.src=a;g.load();break;case 18:this.$4O(a,b,"text",function(a){d.$4K(b,new Cc(a))})}},$3K:function(a){var b=this;null==ma.$CP&&(ma.$CP=new ya,ma.$6O(function(a){var c=window.navigator.isCocoonJS?
[s.TTF,s.WOFF]:[s.WOFF,s.OTF,s.TTF];a=b.$2F.getRenderer().getTextureAssetFormats().concat(a).concat(ma.$7O()).concat(c).concat([s.Data]);ma.$CP.$MT(a)}));ma.$CP.then(a)},$4O:function(a,b,d,c){this.$5O(a,b,d,c)},$5O:function(a,b,d,c){var h=this,e=null,f=null,g=0,l=!1,m=function(){l&&(l=!1,window.clearInterval(g))},p=3,r=function(){p-=1;return 0<=p?(f(),!0):!1},f=function(){m();null!=e&&e.abort();e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType=d;var f=0;e.onprogress=function(a){l||(l=!0,g=window.setInterval(function(){4!=
e.readyState&&5E3<Date.now()-f&&!r()&&(m(),h.$7K(b,"Download stalled"))},1E3));f=Date.now();h.$5K(b,a.loaded,a.total)};e.onerror=function(a){0==e.status&&r()||(m(),h.$7K(b,"HTTP error "+e.status))};e.onload=function(a){a=e.response;null==a&&(a=e.responseText);m();c(a)};e.send()};f()},__class__:ma});var Zf=function(){};l["kit.subsystem.ExternalSystem"]=Zf;Zf.__name__=["kit","subsystem","ExternalSystem"];Zf.prototype={__class__:Zf};var ld=function(){};l.$CyB=ld;ld.__name__=["$CyB"];ld.__interfaces__=
[Zf];ld.prototype={call:function(a,b){null==b&&(b=[]);for(var d=window,c=d,h=0,e=a.split(".");h<e.length;){var f=e[h];++h;d=c;c=la.field(d,f)}return c.apply(d,b)},__class__:ld};var hd=function(a,b){Ua.call(this,a);this.$ZF=b};l.$C2B=hd;hd.__name__=["$C2B"];hd.__super__=Ua;hd.prototype=t(Ua.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this.$ZF.style.cursor=b;return Ua.prototype.set_cursor.call(this,a)},__class__:hd});var Jc=function(a){this.$wK=
!1;this.$gP=a};l.$C3B=Jc;Jc.__name__=["$C3B"];Jc.__interfaces__=[fc];Jc.__super__=va;Jc.prototype=t(va.prototype,{play:function(a){null==a&&(a=1);return new Lc(this,a,!1)},loop:function(a){null==a&&(a=1);return new Lc(this,a,!0)},$uK:function(){this.$gP=null},__class__:Jc});var Lc=function(a,b,d){this.$nP=!1;var c=this;this.$9L=a;this.$VP=!1;this.$jP=window.document.createElement("audio");this.$jP.loop=d;this.$jP.src=a.$gP.src;this.volume=new $(b,function(a,b){c.$iP()});this.$iP();this.$$L=new sa(!1);
this.$hP();m.hidden.$hF&&this.set_paused(!0)};l.$C4B=Lc;Lc.__name__=["$C4B"];Lc.__interfaces__=[Hc,gc];Lc.prototype={set_paused:function(a){a!=this.$nP&&((this.$nP=a)?this.$jP.pause():this.$hP());return a},update:function(a){this.volume.update(a);this.$$L.set__(this.$jP.ended);return this.$$L.$hF||this.$nP?(this.$VP=!1,this.$kP.dispose(),this.$lP.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$$L.set__(!0)},$hP:function(){var a=this;this.$jP.play();this.$VP||(db.$fF.$EF.$3N(this),this.$VP=
!0,this.$kP=m.volume.get_changed().connect(function(b,d){a.$iP()}),this.$lP=m.hidden.get_changed().connect(function(b,d){b?(a.$mP=a.$nP,a.set_paused(!0)):a.set_paused(a.$mP)}))},$iP:function(){this.$jP.volume=sb.clamp(m.volume.$hF*this.volume.$hF,0,1)},__class__:Lc,__properties__:{set_paused:"set_paused"}};var $f=function(){};l["kit.subsystem.StageSystem"]=$f;$f.__name__=["kit","subsystem","StageSystem"];$f.prototype={__class__:$f,__properties__:{get_height:"get_height",get_width:"get_width"}};var gd=
function(a){this.orientation=new sa(null);var b=this;this.$ZF=a;this.resize=new Nb;window.addEventListener("resize",L(this,this.$oP),!1);this.$oP(null);this.fullscreen=new sa(!1);I.$5P(window.document,"fullscreenchange",function(a){b.$rP()},!1);this.$rP()};l.$C5B=gd;gd.__name__=["$C5B"];gd.__interfaces__=[$f];gd.prototype={get_width:function(){return this.$ZF.width},get_height:function(){return this.$ZF.height},get_fullscreenSupported:function(){return!0==I.$2P(["fullscreenEnabled","fullScreenEnabled"],
window.document).value},lockOrientation:function(a){var b=I.$1P("lockOrientation",window.screen).value;if(null!=b){var d;switch(a[1]){case 0:d="portrait";break;case 1:d="landscape"}b.apply(window.screen,[d])}},requestFullscreen:function(a){null==a&&(a=!0);var b=I.$2P(["fullscreenElement","fullScreenElement"],window.document).value;if(a){a=window.document.documentElement;var d=I.$2P(["requestFullscreen","requestFullScreen"],a).value;null==b&&null!=d&&d.apply(a,[{navigationUI:"hide"}])}else a=I.$2P(["exitFullscreen",
"cancelFullscreen","cancelFullScreen"],window.document).value,null!=b&&null!=a&&a.apply(window.document,[])},$oP:function(a){var b=this.$ZF.parentElement.getBoundingClientRect();!I.$wP||90!=window.orientation&&-90!=window.orientation?this.$pP(b.width,b.height):(a=Math.min(window.innerWidth,b.width),b=Math.min(window.innerHeight,b.height),this.$pP(a,b)&&window.scrollTo(window.scrollX,window.scrollY));this.$qP()},$pP:function(a,b){var d=I.$EQ(),c=d*a,d=d*b;if(this.$ZF.width==c&&this.$ZF.height==d)return!1;
this.$ZF.width=c|0;this.$ZF.height=d|0;this.$ZF.style.width=a+"px";this.$ZF.style.height=b+"px";this.resize.emit();return!0},$qP:function(){null==window.orientation?this.orientation.set__(null):this.orientation.set__(window.innerWidth>window.innerHeight?Ab.Landscape:Ab.Portrait)},$rP:function(){var a=I.$2P(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(!0==a)},__class__:gd,__properties__:{get_fullscreenSupported:"get_fullscreenSupported",get_height:"get_height",
get_width:"get_width"}};var ed=function(a,b){this.$sP=a;this.$tP=b+":"};l.$C6B=ed;ed.__name__=["$C6B"];ed.__interfaces__=[xe];ed.prototype={set:function(a,b){var d=this,c=new ya,h=pb.$PO(b);I.$0P(function(){try{d.$sP.setItem(d.$tP+a,h)}catch(b){b instanceof A&&(b=b.val);c.failure(b.message);return}c.$MT(null)});return c},get:function(a,b){var d=null;try{d=this.$sP.getItem(this.$tP+a)}catch(c){c instanceof A&&(c=c.val)}var h=b;if(null!=d)try{h=pb.$QO(d)}catch(e){}return(new ya).$MT(h)},__class__:ed};
var I=function(){};l.$C9B=I;I.__name__=["$C9B"];I.$0P=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};I.$1P=function(a,b){null==b&&(b=window);var d=la.field(b,a);if(null!=d)return{prefix:"",field:a,value:d};for(var d=a.charAt(0).toUpperCase()+F.substr(a,1,null),c=0,h=I.$vP;c<h.length;){var e=h[c];++c;var f=e+d,g=la.field(b,f);if(null!=g)return{prefix:e,field:f,value:g}}return{prefix:null,field:null,value:null}};I.$2P=function(a,b){for(var d=0;d<a.length;){var c=a[d];++d;c=I.$1P(c,b);if(null!=
c.field)return c}return{prefix:null,field:null,value:null}};I.$3P=function(a,b){null==b&&(b=window);var d=I.$1P(a,b).value;if(null==d)return!1;b[a]=d;return!0};I.$4P=function(a,b,d){a=a.style;for(var c=0,h=I.$vP;c<h.length;){var e=h[c];++c;a.setProperty("-"+e+"-"+b,d)}a.setProperty(b,d)};I.$5P=function(a,b,d,c){for(var h=0,e=I.$vP;h<e.length;){var f=e[h];++h;a.addEventListener(f+b,d,c)}a.addEventListener(b,d,c)};I.$9P=function(a,b){var d=window.document.createElement("canvas");d.width=a;d.height=
b;return d};I.$$P=function(a){var b=I.$9P(a.width,a.height),d=b.getContext("2d",null);d.save();d.globalCompositeOperation="copy";d.drawImage(a,0,0);d.restore();return b};I.$CQ=function(a,b,d){var c=a.getContext("2d",null);c.drawImage(a,b-1,0,1,d,b,0,1,d);c.drawImage(a,0,d-1,b,1,0,d,b,1)};I.$DQ=function(a){for(a=(16777215&a).toString(16);6>a.length;)a="0"+v.string(a);return"#"+v.string(a)};I.$EQ=function(){var a=window.devicePixelRatio;null==a&&(a=1);return a};I.$FQ=function(a){return 157286400};I.$HQ=
function(a){return I.$JQ()?I.$MQ.createObjectURL(a):null};I.$IQ=function(a){I.$JQ()&&I.$MQ.revokeObjectURL(a)};I.$JQ=function(){if(I.$LQ){I.$LQ=!1;if(null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;I.$MQ=I.$1P("URL").value}return null!=I.$MQ?null!=I.$MQ.createObjectURL:!1};var ic=function(a,b,d,c){this.$wK=!1;this.$BJ=a;this.$PQ=b;this.$QQ=d;this.$RQ=c};l.$C$B=ic;ic.__name__=["$C$B"];ic.__interfaces__=
[sg];ic.__super__=va;ic.prototype=t(va.prototype,{$uK:function(){null!=this.$PQ&&(window.document.fonts["delete"](this.$PQ),this.$PQ=null);I.$IQ(this.$RQ);null!=this.$QQ&&(null!=this.$QQ.parentNode&&this.$QQ.parentNode.removeChild(this.$QQ),this.$QQ=null)},__class__:ic});var Kc=function(a){this.$wK=!1;this.$WQ=a};l.$CBC=Kc;Kc.__name__=["$CBC"];Kc.__interfaces__=[Dc];Kc.__super__=va;Kc.prototype=t(va.prototype,{play:function(a){null==a&&(a=1);return new De(this,a,!1)},get_width:function(){return this.$WQ.videoWidth},
get_height:function(){return this.$WQ.videoHeight},$uK:function(){this.$WQ=null},__class__:Kc,__properties__:{get_height:"get_height",get_width:"get_width"}});var De=function(a,b,d){this.$0H=null;this.$nP=!1;var c=this;this.$_L=a;this.$jP=window.document.createElement("video");this.$jP.loop=d;null!=a.$WQ.srcObject?this.$jP.srcObject=a.$WQ.srcObject:(this.$jP.src=a.$WQ.src,0<=window.navigator.userAgent.indexOf("2DKSim")&&(this.$jP.src+="?"+Math.random()));this.$jP.width=a.$WQ.videoWidth;this.$jP.height=
a.$WQ.videoHeight;this.$jP.muted=a.$WQ.muted;this.$jP.setAttribute("playsinline","");this.$jP.setAttribute("webkit-playsinline","");this.volume=new $(b,function(a,b){c.$iP()});this.$iP();this.$$L=new sa(!1);this.$YQ();m.hidden.$hF&&this.set_paused(!0)};l.$CCC=De;De.__name__=["$CCC"];De.__interfaces__=[Hc,Ec];De.prototype={get_texture:function(){null==this.$0H&&(this.$0H=m.$2F.$LF.createTextureFromImage(this.$jP,ua.RGB));return this.$0H},get_video:function(){return this.$_L},set_paused:function(a){a!=
this.$nP&&((this.$nP=a)?this.$jP.pause():this.$YQ());return a},update:function(a){this.volume.update(a);this.$$L.set__(this.$jP.ended);return this.$$L.$hF||this.$nP?(this.$VP=!1,this.$kP.dispose(),this.$lP.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$$L.set__(!0);null!=this.$0H&&this.$0H.dispose();var a=this.$jP.srcObject,b=a instanceof MediaStream?a:null;if(null!=b)for(a=0,b=b.getVideoTracks();a<b.length;){var d=b[a];++a;d.stop()}},$YQ:function(){var a=this;this.$jP.play();this.$VP||
(db.$fF.$EF.$3N(this),this.$VP=!0,this.$kP=m.volume.get_changed().connect(function(b,d){a.$iP()}),this.$lP=m.hidden.get_changed().connect(function(b,d){b?(a.$mP=a.$nP,a.set_paused(!0)):a.set_paused(a.$mP)}))},$iP:function(){this.$jP.volume=m.volume.$hF*this.volume.$hF},__class__:De,__properties__:{get_video:"get_video",get_texture:"get_texture",set_paused:"set_paused"}};var V=function(a){this.$wK=!1;this.$cQ=a};l.$CFC=V;V.__name__=["$CFC"];V.__interfaces__=[fc];V.__properties__={get_supported:"get_supported"};
V.get_supported=function(){if(V.$jQ){V.$jQ=!1;var a=I.$1P("AudioContext").value;if(null!=a&&(V.$dQ=new a,V.$eQ=V.$fQ(),V.$eQ.connect(V.$dQ.destination),m.volume.watch(function(a,b){V.$eQ.gain.value=a}),m.$2F.$NF.down.connect(function(a){(new V(V.$iQ())).play()}).once(),a=function(a){"suspended"==V.$dQ.state&&V.$dQ.resume()},m.$2F.$NF.down.connect(a),m.$2F.$NF.up.connect(a),m.$2F.$JF.down.connect(a),m.$2F.$JF.up.connect(a),I.$wP))var b=null,b=m.$2F.$NF.up.connect(function(a){var c=(new V(V.$iQ())).play();
I.$0P(function(){var a=c.$oQ();(null==a||2<=a)&&b.dispose()})})}return null!=V.$dQ};V.$fQ=function(){return null!=V.$dQ.createGain?V.$dQ.createGain():V.$dQ.createGainNode()};V.$gQ=function(a,b){null!=a.start?a.start(0,b):a.noteOn(0,b)};V.$hQ=function(a){null!=a.stop?a.stop(0):a.noteOff(0)};V.$iQ=function(){null==V.$kQ&&(V.$kQ=V.$dQ.createBuffer(1,1,22050));return V.$kQ};V.__super__=va;V.prototype=t(va.prototype,{play:function(a){null==a&&(a=1);return new Mc(this,a,!1)},loop:function(a){null==a&&(a=
1);return new Mc(this,a,!0)},get_duration:function(){return this.$cQ.duration},$uK:function(){this.$cQ=null},__class__:V,__properties__:{get_duration:"get_duration"}});var Mc=function(a,b,d){this.$uQ=0;this.$pQ=-1;var c=this;this.$9L=a;this.$uF=V.$eQ;this.$$L=new sa(!1);this.$tQ=d;this.$MG=a.get_duration();this.volume=new $(b,function(a,b){null!=c.$rQ&&c.$mQ(a)});this.$hP(0);m.hidden.$hF&&this.set_paused(!0)};l.$CGC=Mc;Mc.__name__=["$CGC"];Mc.__interfaces__=[Hc,gc];Mc.prototype={set_paused:function(a){a!=
0<=this.$pQ&&(a?(this.$lQ(),this.$pQ=this.get_position()):(this.$$L.$hF||this.$hP(this.$pQ),this.$pQ=-1));return a},get_position:function(){return this.$$L.$hF?this.$MG:0<=this.$pQ?this.$pQ:(V.$dQ.currentTime-this.$qQ+this.$uQ)%this.$MG},update:function(a){this.volume.update(a);null!=this.$rQ&&3==this.$rQ.playbackState&&this.$$L.set__(!0);return this.$$L.$hF||0<=this.$pQ?(this.$VP=!1,this.$lP.dispose(),this.$lQ(),!0):!1},$lQ:function(){if(null!=this.$rQ){V.$hQ(this.$rQ);this.$rQ.disconnect();this.$rQ.onended=
null;if(I.$wP){var a=V.$iQ();try{this.$rQ.buffer=a}catch(b){}}this.$rQ=null}},dispose:function(){this.set_paused(!0);this.$$L.set__(!0)},$mQ:function(a){null==this.$sQ&&(this.$sQ=V.$fQ(),this.$nQ(this.$sQ));this.$sQ.gain.value=a},$nQ:function(a){0<=this.$pQ||(this.$rQ.disconnect(),this.$rQ.connect(a));a.connect(this.$uF);this.$uF=a},$hP:function(a){var b=this;this.$rQ=V.$dQ.createBufferSource();this.$rQ.buffer=this.$9L.$cQ;this.$rQ.loop=this.$tQ;this.$rQ.onended=function(){b.$$L.set__(!0)};V.$gQ(this.$rQ,
0>a?0:a);this.$rQ.connect(this.$uF);this.$uQ=0<=this.$pQ?this.$pQ:0;this.$qQ=V.$dQ.currentTime;1==this.volume.$hF&&null==this.$sQ||this.$mQ(this.volume.$hF);this.$VP||(db.$fF.$EF.$3N(this),this.$VP=!0,this.$lP=m.hidden.get_changed().connect(function(a,c){a?(b.$mP=0<=b.$pQ,b.set_paused(!0)):b.set_paused(b.$mP)}))},$oQ:function(){return null!=this.$rQ?this.$rQ.playbackState:3},__class__:Mc,__properties__:{get_position:"get_position",set_paused:"set_paused"}};var ag=function(a){this.$tR=new da;this.$sR=
(new ve).$lL(157286400).$nL(function(a,b){return a.$DS()});this.$mR=this.$nR=this.$oR=this.$pR=this.$qR=this.$rR=0;this.$eR=[];this.$bR=!0;this.$ZR=!1;this.$XR=this.$YR=null;this.$WR=!1;this.$VR=null;this.$UR=0;this.$QR=this.$RR=this.$mI=this.$SR=this.$TR=null;this.$PR=!1;this.$OR=null;this.$NR=new Ha;this.$MR=0;this.$KR=this.$LR=null;this.$wQ=[];this.$vQ=null;var b=this;this.$JR=a;this.$sR.$mL(function(a,c){b.$8Q(a,c)});this.$sR.$lL(I.$FQ(a));m.lowMemoryWarning.connect(function(){b.$sR.dispose()});
a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);a.pixelStorei(3317,1);this.$aR=a.createBuffer();a.bindBuffer(34962,this.$aR);this.$cR=a.createBuffer();this.$dR=a.createBuffer();this.$LR=this.$cR;this.$fR=new jc(a,0);this.$gR=new jc(a,1);this.$hR=new jc(a,2);this.$iR=new kc(a,0);this.$jR=new kc(a,1);this.$kR=new kc(a,2);this.$lR=new Ee(a);this.$IR(16)};l.$CHC=ag;ag.__name__=["$CHC"];ag.prototype={$xQ:function(a,b){this.$JR.viewport(0,0,a,b);this.$pR=a;this.$qR=b},$yQ:function(){this.$rR=
this.$rR+1|0;this.$4Q(null)},$zQ:function(){this.$7F();this.$JR.flush()},$1Q:function(a){a==this.$mI&&(this.$7F(),this.$mI=null);this.$$Q(a);null!=a.$CS?this.$8Q(a,a.$CS):this.$sR.$sL(a)},$2Q:function(a){if(a.$BS){a.$BS=!1;var b=this.$sR.$sL(a,!1);null!=b?a.$CS=b:this.$5Q(a);a.$9R=null;a.$$R=null}},$3Q:function(){var a=this.$JR.createTexture();this.$6Q(a);this.$JR.texParameteri(3553,10242,33071);this.$JR.texParameteri(3553,10243,33071);this.$JR.texParameteri(3553,10240,9729);this.$JR.texParameteri(3553,
10241,9729);return a},$4Q:function(a){this.$7F();this.$OR=null;null!=this.$QR&&(this.$QR=null,this.$JR.disable(3089));this.$9Q(a);this.$JR.clear(16384)},$5Q:function(a){var b=a.$BS?this.$sR.$fL(a):a.$CS;if(null==b){b=this.$3Q();b=new bg(b);if(a.$BS){var d=!0;if(this.$sR.$vL+a.$DS()>this.$sR.$wL){var c=this.$sR.$pL();2>this.$rR-c.$AS&&(d=!1)}this.$sR.$oL(a,b,d)}else a.$CS=b;switch(a.$ES[1]){case 2:case 3:d=6407;break;default:d=6408}switch(a.$ES[1]){case 1:c=32819;break;case 3:c=33635;break;default:c=
5121}var h=a.$9R,e;null!=h?(e=a.$9R,e=null==(e instanceof HTMLVideoElement?e:null)):e=!1;if(e){if(a.$qO!=h.width||a.$rO!=h.height)e=I.$9P(a.$qO,a.$rO),e.getContext("2d",null).drawImage(h,0,0),I.$CQ(e,h.width,h.height),h=e;this.$JR.texImage2D(3553,0,d,d,c,h)}else this.$JR.texImage2D(3553,0,d,a.$qO,a.$rO,0,d,c,null)}a.$AS!=this.$rR&&(d=a.$9R,d=d instanceof HTMLVideoElement?d:null,null!=d&&2<=d.readyState&&(this.$6Q(b.$8R),this.$JR.texImage2D(3553,0,6407,6407,5121,d)));a.$AS=this.$rR;return b},$6Q:function(a){this.$YR!=
a&&(this.$YR=a,this.$JR.bindTexture(3553,a))},$7Q:function(a){this.$XR!=a&&(a.$LS(this.$XR),this.$XR=a)},$8Q:function(a,b){a==this.$mI&&(this.$7F(),this.$mI=null);this.$JR.deleteTexture(b.$8R);null!=b.$NK&&this.$JR.deleteTexture(b.$NK)},$9Q:function(a){if(this.$VR!=a)if(this.$VR=a,null!=a){var b=a.$_R,d=null;null==b&&(b=this.$JR.createFramebuffer(),a.$_R=b,this.$2Q(a),d=a.$CS.$8R);this.$JR.bindFramebuffer(36160,a.$_R);this.$JR.viewport(0,0,a.$qO,a.$rO);null!=d&&this.$JR.framebufferTexture2D(36160,
36064,3553,d,0)}else this.$JR.bindFramebuffer(36160,null),this.$JR.viewport(0,0,this.$pR,this.$qR)},$$Q:function(a){a==this.$OR&&(this.$7F(),this.$OR=null);null!=a.$_R&&(this.$JR.deleteFramebuffer(a.$_R),a.$_R=null)},$_Q:function(a,b,d,c,h,e){e.$SL!=this.$mI&&(this.$7F(),this.$mI=e.$SL);return this.$HR(a,b,d,c,h,this.$AR(e.$SL,h))},$AR:function(a,b){return b?this.$gR:null!=a.$$R&&a.$$R.separateAlpha?this.$hR:this.$fR},$BR:function(a,b,d,c,h,e){e.$SL!=this.$mI&&(this.$7F(),this.$mI=e.$SL);if(e.$TL!=
this.$NR.x||e.$UL!=this.$NR.y||e.$yH!=this.$NR.width||e.$zH!=this.$NR.height)this.$7F(),this.$NR.set(e.$TL,e.$UL,e.$yH,e.$zH);return this.$HR(a,b,d,c,h,this.$CR(e.$SL,h))},$CR:function(a,b){return b?this.$jR:null!=a.$$R&&a.$$R.separateAlpha?this.$kR:this.$iR},$DR:function(a,b,d,c,e){return this.$HR(a,b,d,c,e,this.$lR)},$ER:function(a,b,d,c,e,f){return this.$GR(a,b,d,c,e,this.$lR,f)},$FR:function(a,b,d,c,e,f,g){f.$SL!=this.$mI&&(this.$7F(),this.$mI=f.$SL);if(f.$TL!=this.$NR.x||f.$UL!=this.$NR.y||f.$yH!=
this.$NR.width||f.$zH!=this.$NR.height)this.$7F(),this.$NR.set(f.$TL,f.$UL,f.$yH,f.$zH);return this.$GR(a,b,d,c,e,this.$CR(f.$SL,e),g)},$lI:function(a,b,d,c,e,f,g){a!=this.$OR&&(this.$7F(),this.$OR=a);b!=this.$KR&&(this.$7F(),this.$KR=b);c!=this.$MR&&(this.$7F(),this.$MR=c);e!=this.$PR&&(this.$7F(),this.$PR=e);f!=this.$RR&&(this.$7F(),f.$lI(),this.$RR=f);g!=this.$LR&&(this.$7F(),this.$LR=g);if(null!=d||null!=this.$QR)null!=d&&null!=this.$QR&&this.$QR.equals(d)||(this.$7F(),this.$QR=null!=d?d.clone(this.$QR):
null,this.$ZR=!0)},$GR:function(a,b,d,c,e,f,g){this.$lI(a,b,d,c,e,f,this.$dR);a=this.$wQ.length;f=a/f.$JS|0;for(b=0;b<g.length;)d=g[b],++b,this.$eR.push(d+f);return a},$HR:function(a,b,d,c,e,f){this.$lI(a,b,d,c,e,f,this.$cR);this.$mR>=this.$nR&&this.$IR(2*this.$nR);++this.$mR;a=this.$oR;this.$oR+=4*f.$JS;return a},$KM:function(a,b,d,c){var e=b.$2I(),f=this.$tR,f=null!=K[e]?f.getReserved(e):f.h[e];if(null==f){var f=new Fe(this.$JR,this,b.$5I,b.$4I),g=this.$tR;null!=K[e]?g.setReserved(e,f):g.h[e]=f}e=
this.$HR(a,ka.Copy,null,0,!1,f);g=this.$vQ;this.$mI=null;var l=d/a.$sO,m=c/a.$tO,p=2*l-1,r=2*m-1;g[e]=-1;g[++e]=-1;g[++e]=0;g[++e]=0;g[++e]=p;g[++e]=-1;g[++e]=l;g[++e]=0;g[++e]=p;g[++e]=r;g[++e]=l;g[++e]=m;g[++e]=-1;g[++e]=r;g[++e]=0;g[++e]=m;this.$9Q(a);this.$7Q(f);f.$fS(b,a,d,c);this.$7F()},$7F:function(){if(this.$LR==this.$cR){if(1>this.$mR)return}else if(1>this.$eR.length)return;this.$9Q(this.$OR);if(this.$KR!=this.$SR){switch(this.$KR[1]){case 0:this.$JR.blendFunc(1,771);break;case 1:this.$JR.blendFunc(1,
1);break;case 2:this.$JR.blendFunc(774,771);break;case 3:this.$JR.blendFunc(1,769);break;case 4:this.$JR.blendFunc(0,770);break;case 5:this.$JR.blendFunc(1,0)}this.$SR=this.$KR}if(this.$MR!=this.$UR){if(0<this.$MR)if(0==this.$UR&&this.$JR.enable(2960),this.$PR){var a=1<<this.$MR-1;this.$JR.stencilMask(a);this.$UR<this.$MR&&this.$JR.clear(1024);this.$JR.stencilFunc(514,a-1,255)}else a=(1<<this.$MR)-1,this.$JR.stencilFunc(514,a,a);else this.$JR.disable(2960);this.$UR=this.$MR}this.$PR!=this.$WR&&(this.$PR?
(this.$JR.stencilMask(1<<this.$MR-1),this.$JR.clear(1024),this.$JR.colorMask(!1,!1,!1,!1),this.$JR.stencilFunc(514,(1<<this.$MR-1)-1,255),this.$JR.stencilOp(7680,7680,7682)):(this.$JR.colorMask(!0,!0,!0,!0),a=(1<<this.$MR)-1,this.$JR.stencilFunc(514,a,a),this.$JR.stencilOp(7680,7680,7680)),this.$WR=this.$PR);this.$ZR&&(null!=this.$QR?(this.$JR.enable(3089),this.$JR.scissor(this.$QR.x|0,this.$QR.y|0,this.$QR.width|0,this.$QR.height|0)):this.$JR.disable(3089),this.$ZR=!1);null!=this.$mI&&(a=this.$5Q(this.$mI),
null!=a.$NK?(this.$JR.activeTexture(33985),this.$6Q(a.$8R),this.$JR.activeTexture(33984),this.$6Q(a.$NK)):this.$6Q(a.$8R));this.$7Q(this.$RR);this.$RR!=this.$iR&&this.$RR!=this.$jR&&this.$RR!=this.$kR||this.$RR.$WS(this.$NR.x/this.$mI.$sO,this.$NR.y/this.$mI.$tO,this.$NR.width/this.$mI.$sO,this.$NR.height/this.$mI.$tO);this.$LR!=this.$TR&&(this.$JR.bindBuffer(34963,this.$LR),this.$TR=this.$LR);if(this.$TR==this.$cR){if(this.$bR){this.$bR=!1;for(var a=new Uint16Array(6*this.$nR),b=0,d=this.$nR;b<d;){var c=
b++,e=6*c,c=4*c;a[e]=c;a[e+1]=c+1;a[e+2]=c+2;a[e+3]=c+2;a[e+4]=c+3;a[e+5]=c}this.$JR.bufferData(34963,a,35044)}this.$JR.bufferData(34962,this.$vQ.subarray(0,this.$oR),35048);this.$JR.drawElements(4,6*this.$mR,5123,0);this.$oR=this.$mR=0}else a=new Uint16Array(this.$eR),this.$JR.bufferData(34963,a,35048),this.$eR.length=0,this.$JR.bufferData(34962,new Float32Array(this.$wQ),35048),this.$wQ.length=0,this.$JR.drawElements(4,a.length,5123,0)},$IR:function(a){1024<a?this.$7F():(this.$nR=a,a=new Float32Array(32*
a),null!=this.$vQ&&a.set(this.$vQ,0),this.$vQ=a,this.$bR=!0)},__class__:ag};var qb=function(a,b){this.$yR=this.$gO=null;null==qb.$zR&&(qb.$zR=new Float32Array(8));this.$xR=a;this.$0O=b};l.$CIC=qb;qb.__name__=["$CIC"];qb.__interfaces__=[Fc];qb.prototype={save:function(){var a=this.$gO,b=this.$gO.next;null==b&&(b=new Ge,b.$kO=a,a.next=b);a.$0R.clone(b.$0R);b.$PK=a.$PK;b.$RK=a.$RK;b.$TK=a.$TK;b.$NK=a.$NK;b.$bI=a.$bI;b.$cI=null!=a.$cI?a.$cI.clone(b.$cI):null;b.$1R=a.$1R;b.$2R=a.$2R;this.$gO=b},translate:function(a,
b){var d=this.$gO.$0R;d.m02+=d.m00*a+d.m01*b;d.m12+=d.m10*a+d.m11*b},scale:function(a,b){var d=this.$gO.$0R;d.m00*=a;d.m10*=a;d.m01*=b;d.m11*=b},rotate:function(a){var b=this.$gO.$0R;a=3.141592653589793*a/180;var d=Math.sin(a);a=Math.cos(a);var c=b.m00,e=b.m10,f=b.m01,g=b.m11;b.m00=c*a+f*d;b.m10=e*a+g*d;b.m01=f*a-c*d;b.m11=g*a-e*d},transform:function(a,b,d,c,e,f){var g=this.$gO;qb.$BH.set(a,b,d,c,e,f);Ja.multiply(g.$0R,qb.$BH,g.$0R)},restore:function(){this.$gO=this.$gO.$kO},drawTexture:function(a,
b,d){this.drawSubTexture(a,b,d,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,d,c,e,f,g){var l=this.$gO,m=a.$SL;b=this.$wR(b,d,f,g);d=m.$sO;m=m.$tO;c=(a.$TL+c)/d;e=(a.$UL+e)/m;f=c+f/d;g=e+g/m;d=l.$PK;var m=l.$RK,p=l.$TK,r=l.$NK;a=this.$xR.$_Q(this.$0O,l.$bI,l.$cI,l.$1R,l.$2R,a);l=this.$xR.$vQ;l[a]=b[0];l[++a]=b[1];l[++a]=c;l[++a]=e;l[++a]=d;l[++a]=m;l[++a]=p;l[++a]=r;l[++a]=b[2];l[++a]=b[3];l[++a]=f;l[++a]=e;l[++a]=d;l[++a]=m;l[++a]=p;l[++a]=r;l[++a]=b[4];l[++a]=b[5];l[++a]=f;l[++a]=
g;l[++a]=d;l[++a]=m;l[++a]=p;l[++a]=r;l[++a]=b[6];l[++a]=b[7];l[++a]=c;l[++a]=g;l[++a]=d;l[++a]=m;l[++a]=p;l[++a]=r},drawPattern:function(a,b,d,c,e){var f=this.$gO,g=a.$SL;b=this.$wR(b,d,c,e);c/=g.$sO;e/=g.$tO;g=f.$PK;d=f.$RK;var l=f.$TK,m=f.$NK;a=this.$xR.$BR(this.$0O,f.$bI,f.$cI,f.$1R,f.$2R,a);f=this.$xR.$vQ;f[a]=b[0];f[++a]=b[1];f[++a]=0;f[++a]=0;f[++a]=g;f[++a]=d;f[++a]=l;f[++a]=m;f[++a]=b[2];f[++a]=b[3];f[++a]=c;f[++a]=0;f[++a]=g;f[++a]=d;f[++a]=l;f[++a]=m;f[++a]=b[4];f[++a]=b[5];f[++a]=c;f[++a]=
e;f[++a]=g;f[++a]=d;f[++a]=l;f[++a]=m;f[++a]=b[6];f[++a]=b[7];f[++a]=0;f[++a]=e;f[++a]=g;f[++a]=d;f[++a]=l;f[++a]=m},fillRect:function(a,b,d,c,e){var f=this.$gO;b=this.$wR(b,d,c,e);d=f.$PK*(a&16711680)/16711680;c=f.$RK*(a&65280)/65280;a=f.$TK*(a&255)/255;e=f.$NK;var f=this.$xR.$DR(this.$0O,f.$bI,f.$cI,f.$1R,f.$2R),g=this.$xR.$vQ;g[f]=b[0];g[++f]=b[1];g[++f]=d;g[++f]=c;g[++f]=a;g[++f]=e;g[++f]=b[2];g[++f]=b[3];g[++f]=d;g[++f]=c;g[++f]=a;g[++f]=e;g[++f]=b[4];g[++f]=b[5];g[++f]=d;g[++f]=c;g[++f]=a;g[++f]=
e;g[++f]=b[6];g[++f]=b[7];g[++f]=d;g[++f]=c;g[++f]=a;g[++f]=e},fillTriangles:function(a,b,d){var c=this.$gO,e=c.$0R,f=e.m00,g=e.m01,l=e.m02,m=e.m10,p=e.m11,e=e.m12,r=c.$PK*(a&16711680)/16711680,s=c.$RK*(a&65280)/65280;a=c.$TK*(a&255)/255;var t=c.$NK;d=this.$xR.$ER(this.$0O,c.$bI,c.$cI,c.$1R,c.$2R,d);for(var c=this.$xR.$wQ,v=0,u=b.length;v<u;){var w=b[v++],x=b[v++];c[d++]=w*f+x*g+l;c[d++]=w*m+x*p+e;c[d++]=r;c[d++]=s;c[d++]=a;c[d++]=t}},drawTriangles:function(a,b,d,c){var e=this.$gO,f=a.$SL,g=e.$0R,
l=g.m00,m=g.m01,p=g.m02,r=g.m10,s=g.m11,g=g.m12,t=e.$PK,v=e.$RK,u=e.$TK,w=e.$NK;a=this.$xR.$FR(this.$0O,e.$bI,e.$cI,e.$1R,e.$2R,a,d);d=this.$xR.$wQ;for(var x=e=0,y=b.length;x<y;){var A=b[x++],z=b[x++];d[a++]=A*l+z*m+p;d[a++]=A*r+z*s+g;null!=c?(d[a++]=c[e++],d[a++]=c[e++]):(d[a++]=A/f.$sO,d[a++]=z/f.$tO);d[a++]=t;d[a++]=v;d[a++]=u;d[a++]=w}},fillPolygon:function(a,b){var d=wa.$EO(b);null!=d&&this.fillTriangles(a,b,d)},drawPolygon:function(a,b){var d=wa.$EO(b);null!=d&&this.drawTriangles(a,b,d)},drawCircle:function(a,
b,d,c,e){null==e&&(e=50);var f=[],g=[];wa.$_N(f,g,b,d,c,c,e)&&this.drawTriangles(a,f,g)},fillCircle:function(a,b,d,c,e){null==e&&(e=50);var f=[],g=[];wa.$_N(f,g,b,d,c,c,e)&&this.fillTriangles(a,f,g)},strokeCircle:function(a,b,d,c,e,f){null==f&&(f=50);var g=[],l=[];wa.$CO(g,l,b,d,c,c,e,f)&&this.fillTriangles(a,g,l)},drawEllipse:function(a,b,d,c,e,f){null==f&&(f=50);var g=[],l=[];wa.$_N(g,l,b,d,c,e,f)&&this.drawTriangles(a,g,l)},fillEllipse:function(a,b,d,c,e,f){null==f&&(f=50);var g=[],l=[];wa.$_N(g,
l,b,d,c,e,f)&&this.fillTriangles(a,g,l)},strokeEllipse:function(a,b,d,c,e,f,g){null==g&&(g=50);var l=[],m=[];wa.$CO(l,m,b,d,c,e,f,g)&&this.fillTriangles(a,l,m)},fillArc:function(a,b,d,c,e,f,g){null==g&&(g=50);var l=[],m=[];wa.$AO(l,m,b,d,c,3.141592653589793*e/180,3.141592653589793*f/180,g)&&this.fillTriangles(a,l,m)},strokeArc:function(a,b,d,c,e,f,g,l){null==l&&(l=50);var m=[],p=[];wa.$BO(m,p,b,d,c,3.141592653589793*e/180,3.141592653589793*f/180,g,l)&&this.fillTriangles(a,m,p)},strokeLines:function(a,
b,d){var c=[],e=[];wa.$DO(c,e,b,d)&&this.fillTriangles(a,c,e)},drawLines:function(a,b,d){var c=[],e=[];wa.$DO(c,e,b,d)&&this.drawTriangles(a,c,e)},multiplyAlpha:function(a){this.$gO.$NK*=a},setAlpha:function(a){this.$gO.$NK=a},tint:function(a,b,d){var c=this.$gO;c.$PK*=a;c.$RK*=b;c.$TK*=d},setBlendMode:function(a){this.$gO.$bI=a},beginMask:function(){var a=this.$gO;++a.$1R;a.$2R=!0},endMask:function(){this.$gO.$2R=!1},applyScissor:function(a,b,d,c){var e=this.$gO,f=qb.$zR;f[0]=a;f[1]=b;f[2]=a+d;f[3]=
b+c;e.$0R.transformArray(f,4,f);this.$yR.transformArray(f,4,f);a=f[0];b=f[1];d=f[2]-a;c=f[3]-b;0>d&&(a+=d,d=-d);0>c&&(b+=c,c=-c);e.$3R(a,b,d,c)},willRender:function(){this.$xR.$yQ()},didRender:function(){this.$xR.$zQ()},onResize:function(a,b){this.$gO=new Ge;var d=null!=this.$0O?-1:1;this.$gO.$0R.set(2/a,0,0,-2*d/b,-1,d);this.$yR=new Ja;this.$yR.set(2/a,0,0,2/b,-1,-1);this.$yR.invert()},$wR:function(a,b,d,c){d=a+d;c=b+c;var e=qb.$zR;e[0]=a;e[1]=b;e[2]=d;e[3]=b;e[4]=d;e[5]=c;e[6]=a;e[7]=c;this.$gO.$0R.transformArray(e,
8,e);return e},__class__:qb};var Ge=function(){this.$kO=this.next=null;this.$2R=!1;this.$1R=0;this.$PK=this.$RK=this.$TK=this.$NK=1;this.$cI=null;this.$bI=ka.Normal;this.$0R=new Ja};l.$CJC=Ge;Ge.__name__=["$CJC"];Ge.prototype={$3R:function(a,b,d,c){if(null!=this.$cI){var e=this.$cI.x,e=e>a?e:a,f=this.$cI.y,f=f>b?f:b,g=this.$cI.x+this.$cI.width;d=a+d;var l=this.$cI.y+this.$cI.height;c=b+c;a=e;b=f;d=(g<d?g:d)-e;d=0>d?0:d;c=(l<c?l:c)-f;c=0>c?0:c}else this.$cI=new Ha;this.$cI.set(Math.round(a),Math.round(b),
Math.round(d),Math.round(c))},__class__:Ge};var md=function(a,b){this.$6R=!1;var d=this;this.$mO=new sa(!0);this.$4R=b;this.$$I();if(0==b.getError()){this.$6R=!0;var c=b.canvas;c.addEventListener("webglcontextlost",function(a){a.preventDefault();d.graphics=null;d.$mO.set__(!1)},!1);c.addEventListener("webglcontextrestored",function(a){d.$$I();d.$mO.set__(!0)},!1);a.resize.connect(L(this,this.$7R))}};l.$CKC=md;md.__name__=["$CKC"];md.__interfaces__=[Gc];md.prototype={get_filterSupported:function(){return!0},
createTextureFromImage:function(a,b,c){null==c&&(c=1);var e=a.width,f=a.height,g=new lc(this,e,f,c);null!=b&&b!=ua.COMPRESSED&&(g.$ES=b);g.$9R=a;return g.createTexture(e/c,f/c)},createTexture:function(a,b,c,e){null==e&&(e=1);var f=new lc(this,a,b,e);null!=c&&c!=ua.COMPRESSED&&(f.$ES=c);return f.createTexture(a/e,b/e)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},$7R:function(){if(null!=this.graphics){var a=
this.$4R.canvas,b=a.width,a=a.height;this.$5R.$xQ(b,a);this.graphics.onResize(b,a)}},$$I:function(){this.$5R=new ag(this.$4R);this.graphics=new qb(this.$5R,null);this.$7R()},__class__:md,__properties__:{get_filterSupported:"get_filterSupported"}};var bg=function(a){this.$NK=null;this.$8R=a};l.$CLC=bg;bg.__name__=["$CLC"];bg.prototype={__class__:bg};var He=function(a,b,c){gb.call(this,a,b,c)};l.$CMC=He;He.__name__=["$CMC"];He.__super__=gb;He.prototype=t(gb.prototype,{__class__:He});var lc=function(a,
b,c,e){this.$zO=null;this.$ES=ua.RGBA;this.$CS=null;this.$BS=!0;this.$AS=-1;this.$9R=this.$$R=this.$_R=null;this.$wK=!1;this.$LF=a;b=2>b?2:b;c=2>c?2:c;this.$qO=b;this.$rO=c;this.$UG=e;this.$sO=b/e;this.$tO=c/e};l.$CNC=lc;lc.__name__=["$CNC"];lc.__interfaces__=[ze];lc.__super__=va;lc.prototype=t(va.prototype,{createTexture:function(a,b){return new He(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$zO&&(this.$zO=new qb(this.$LF.$5R,this),this.$zO.onResize(this.$qO,this.$rO));return this.$zO},
clear:function(){this.$LF.$5R.$4Q(this)},renderFilter:function(a,b,c){this.$LF.$5R.$KM(this,a,b,c)},$DS:function(){var a;switch(this.$ES[1]){case 1:a=2;break;case 2:a=3;break;case 3:a=2;break;default:a=4}return a*this.$qO*this.$rO},$uK:function(){this.$LF.$5R.$1Q(this);null!=this.$9R&&I.$IQ(this.$9R.src);this.$zO=this.$CS=this.$_R=this.$$R=this.$9R=null},__class__:lc});var Ka=function(a){this.$US=!0;this.$TS=-1;this.$SS=[];this.$PS=this.$QS=this.$RS=null;this.$JS=0;this.$JR=a};l.$CRC=Ka;Ka.__name__=
["$CRC"];Ka.$VS=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};Ka.prototype={$KS:function(){},$lI:function(){null==this.$PS&&(this.$PS=this.$JR.createProgram(),this.$KS(),this.$US&&(this.$JR.detachShader(this.$PS,this.$QS),this.$JR.deleteShader(this.$QS),this.$QS=null,this.$JR.detachShader(this.$PS,this.$RS),this.$JR.deleteShader(this.$RS),this.$RS=null))},$LS:function(a){this.$JR.useProgram(this.$PS);if(0>this.$TS){for(var b=this.$TS=0,c=this.$SS;b<c.length;){var e=
c[b];++b;var f=e.$rS();e.$qS=this.$TS;this.$TS+=f}this.$SS=this.$SS.filter(function(a){return 0<=a.$pS});this.$SS.sort(function(a,b){return a.$pS-b.$pS})}if(null!=a){b=a.$SS.length;for(c=this.$SS.length;b<c;)e=b++,this.$JR.enableVertexAttribArray(e);b=this.$SS.length;for(c=a.$SS.length;b<c;)e=b++,this.$JR.disableVertexAttribArray(e)}else for(b=0,c=this.$SS.length;b<c;)e=b++,this.$JR.enableVertexAttribArray(e);b=0;for(c=this.$SS.length;b<c;){var e=b++,f=this.$SS[e],g=null!=a?a.$SS[e]:null;null!=g&&
g.$jL==f.$jL&&g.$9I==f.$9I&&a.$TS==this.$TS&&g.$qS==f.$qS||this.$JR.vertexAttribPointer(e,f.$jL,f.$9I,!1,this.$TS,f.$qS)}},$MS:function(a,b){b="precision mediump float;\n"+b;this.$QS=Ka.$VS(this.$JR,35633,a);this.$RS=Ka.$VS(this.$JR,35632,b);this.$JR.attachShader(this.$PS,this.$QS);this.$JR.attachShader(this.$PS,this.$RS);this.$JR.linkProgram(this.$PS);this.$JR.useProgram(this.$PS)},$NS:function(a,b,c){a=this.$JR.getAttribLocation(this.$PS,a);this.$SS.push(new cg(a,b,c));this.$JS+=b},$OS:function(a){return this.$JR.getUniformLocation(this.$PS,
a)},__class__:Ka};var kc=function(a,b){this.$XS=this.$YS=this.$ZS=this.$aS=-1;Ka.call(this,a);this.$eS=b};l.$CSC=kc;kc.__name__=["$CSC"];kc.__super__=Ka;kc.prototype=t(Ka.prototype,{$KS:function(){var a;switch(this.$eS){case 0:case 1:a="texture2D(u_texture, pos);";break;case 2:a="vec4(texture2D(u_textureRGB, pos).rgb, texture2D(u_texture, pos).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;",2==this.$eS?"uniform lowp sampler2D u_textureRGB;":
"","void main (void) {\nmediump vec2 pos = u_region.xy + mod(v_uv, u_region.zw);","lowp vec4 color = "+a,1==this.$eS?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$MS("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",a);this.$NS("a_pos",2,
5126);this.$NS("a_uv",2,5126);this.$NS("a_color",4,5126);this.$bS=this.$OS("u_texture");this.$dS=this.$OS("u_region");this.$JR.uniform1i(this.$bS,0);2==this.$eS&&(this.$cS=this.$OS("u_textureRGB"),this.$JR.uniform1i(this.$cS,1))},$WS:function(a,b,c,e){if(a!=this.$XS||b!=this.$YS||c!=this.$ZS||e!=this.$aS)this.$XS=a,this.$YS=b,this.$ZS=c,this.$aS=e,this.$JR.uniform4f(this.$dS,a,b,c,e)},__class__:kc});var jc=function(a,b){Ka.call(this,a);this.$eS=b};l.$CUC=jc;jc.__name__=["$CUC"];jc.__super__=Ka;jc.prototype=
t(Ka.prototype,{$KS:function(){var a;switch(this.$eS){case 0:case 1:a="texture2D(u_texture, v_uv);";break;case 2:a="vec4(texture2D(u_textureRGB, v_uv).rgb, texture2D(u_texture, v_uv).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;",2==this.$eS?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {","lowp vec4 color = "+a,1==this.$eS?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$MS("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",
a);this.$NS("a_pos",2,5126);this.$NS("a_uv",2,5126);this.$NS("a_color",4,5126);this.$bS=this.$OS("u_texture");this.$gS(0);2==this.$eS&&(this.$cS=this.$OS("u_textureRGB"),this.$JR.uniform1i(this.$cS,1))},$gS:function(a){this.$JR.uniform1i(this.$bS,a)},__class__:jc});var Ee=function(a){Ka.call(this,a)};l.$CVC=Ee;Ee.__name__=["$CVC"];Ee.__super__=Ka;Ee.prototype=t(Ka.prototype,{$KS:function(){this.$MS("attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.$NS("a_pos",2,5126);this.$NS("a_rgb",3,5126);this.$NS("a_alpha",1,5126)},__class__:Ee});var Fe=function(a,b,c,e){this.$nS=new da;this.$lS=this.$mS=null;Ka.call(this,a);this.$xR=b;null==c&&(c="void main () {\nvTextureCoord = aTextureCoord;\nvFilterCoord = aTextureCoord * uTextureSize/uFilterSize;\ngl_Position = vec4(aVertexPosition, 0, 1);\n}");this.$5I=c;this.$4I=e;this.$US=!1};l.$CWC=Fe;Fe.__name__=["$CWC"];Fe.__super__=
Ka;Fe.prototype=t(Ka.prototype,{$KS:function(){var a=["precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\nattribute highp vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n#line 0",this.$5I].join("\n"),b=["varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\n#line 0",
this.$4I].join("\n");this.$MS(a,b);this.$NS("aVertexPosition",2,5126);this.$NS("aTextureCoord",2,5126);this.$mS=this.$JR.getUniformLocation(this.$PS,"uTextureSize");this.$lS=this.$JR.getUniformLocation(this.$PS,"uFilterSize");this.$5I=this.$4I=null},$fS:function(a,b,c,e){null!=this.$mS&&this.$JR.uniform2f(this.$mS,b.$qO,b.$rO);null!=this.$lS&&this.$JR.uniform2f(this.$lS,c,e);b=0;a=a.$3I;for(a=new jb(a,a.arrayKeys());a.hasNext();){c=a.next();e=c.$7I;var f=this.$nS;e=null!=K[e]?f.getReserved(e):f.h[e];
if(null==e){e=new dg(this.$JR.getUniformLocation(this.$PS,c.$7I));var f=c.$7I,g=this.$nS;null!=K[f]?g.setReserved(f,e):g.h[f]=e}e=e.$oS;if(null!=e)switch(c.$9I){case 0:this.$JR.uniform1f(e,c.$8I);break;case 1:this.$JR.uniform2fv(e,c.$8I);break;case 2:this.$JR.uniform3fv(e,c.$8I);break;case 3:this.$JR.uniform4fv(e,c.$8I);break;case 4:this.$JR.uniform1i(e,c.$8I);break;case 5:this.$JR.uniform2iv(e,c.$8I);break;case 6:this.$JR.uniform3iv(e,c.$8I);break;case 7:this.$JR.uniform4iv(e,c.$8I);break;case 8:this.$JR.uniformMatrix2fv(e,
!1,c.$8I);break;case 9:this.$JR.uniformMatrix3fv(e,!1,c.$8I);break;case 10:this.$JR.uniformMatrix4fv(e,!1,c.$8I);break;case 11:this.$JR.uniform1i(e,b),0!=b&&this.$JR.activeTexture(33984+b),++b,c=this.$xR.$5Q(c.$8I.$SL),this.$xR.$6Q(c.$8R)}}1<b&&this.$JR.activeTexture(33984)},__class__:Fe});var dg=function(a){this.$oS=a};l.$CXC=dg;dg.__name__=["$CXC"];dg.prototype={__class__:dg};var cg=function(a,b,c){this.$qS=0;this.$pS=a;this.$jL=b;this.$9I=c};l.$CYC=cg;cg.__name__=["$CYC"];cg.prototype={$rS:function(){return this.$jL*
(5126==this.$9I?4:1)},__class__:cg};var eg=function(){this.$yS=null};l["kit.scene.Director"]=eg;eg.__name__=["kit","scene","Director"];eg.__super__=y;eg.prototype=t(y.prototype,{get_entitySlot:function(){return 7},onAdded:function(){this.owner.addChild(this.$JJ)},onRemoved:function(){this.$wS();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this.$JJ.dispose()},onUpdate:function(a){null!=this.$yS&&this.$yS.$FF(a)&&this.$wS()},get_topScene:function(){var a=
this.scenes.length;return 0<a?this.scenes[a-1]:null},$JO:function(a){a=a.$BF[8];null!=a&&a.shown.emit()},$vS:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a].$BF[8];if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.$JO(a)},$wS:function(){null!=this.$yS&&(this.$yS.$zS(),this.$yS=null,this.$vS())},__class__:eg,__properties__:t(y.prototype.__properties__,{get_topScene:"get_topScene"})});
var yg=function(){};l.$CZC=yg;yg.__name__=["$CZC"];yg.prototype={$FF:function(a){return this.$0S.update(a)},$zS:function(){this.$0S.complete();this.$1S()},__class__:yg};var fg=function(){};l["kit.scene.Scene"]=fg;fg.__name__=["kit","scene","Scene"];fg.__super__=y;fg.prototype=t(y.prototype,{get_entitySlot:function(){return 8},__class__:fg});var zg=function(){};l["kit.scene.Transition"]=zg;zg.__name__=["kit","scene","Transition"];zg.prototype={update:function(a){return!0},complete:function(){},__class__:zg};
var vb=function(){};l["kit.script.Action"]=vb;vb.__name__=["kit","script","Action"];vb.prototype={__class__:vb};var Pa=function(a,b,c,e){this.$hF=a;this.$LG=b;this.$5S=c;this.$NG=e};l["kit.script.AnimateTo"]=Pa;Pa.__name__=["kit","script","AnimateTo"];Pa.__interfaces__=[vb];Pa.prototype={update:function(a,b){null==this.$3S&&(this.$3S=new ac(this.$hF.$hF,this.$LG,this.$5S,this.$NG),this.$hF.set_behavior(this.$3S),this.$hF.update(a));if(this.$hF.$yF!=this.$3S){var c=this.$3S.elapsed-this.$5S;this.$3S=
null;return 0<c?a-c:0}return-1},__class__:Pa};var D=function(a){this.$_F=a};l["kit.script.CallFunction"]=D;D.__name__=["kit","script","CallFunction"];D.__interfaces__=[vb];D.prototype={update:function(a,b){this.$_F();return 0},__class__:D};var E=function(a){this.$MG=a;this.$6S=0};l["kit.script.Delay"]=E;E.__name__=["kit","script","Delay"];E.__interfaces__=[vb];E.prototype={update:function(a,b){this.$6S+=a;if(this.$6S>=this.$MG){var c=this.$6S-this.$MG;this.$6S=0;return a-c}return-1},__class__:E};
var Ub=function(a){this.$8S=[];this.$7S=null!=a?a.slice():[]};l["kit.script.Parallel"]=Ub;Ub.__name__=["kit","script","Parallel"];Ub.__interfaces__=[vb];Ub.prototype={update:function(a,b){for(var c=!0,e=0,f=0,g=this.$7S.length;f<g;){var l=f++,m=this.$7S[l];if(null!=m){var p=m.update(a,b);0<=p?(this.$7S[l]=null,this.$8S.push(m),p>e&&(e=p)):c=!1}}return c?(this.$7S=this.$8S,this.$8S=[],e):-1},__class__:Ub};var wb=function(a,b){null==b&&(b=-1);this.$9S=a;this.$_S=this.$$S=b};l["kit.script.Repeat"]=wb;
wb.__name__=["kit","script","Repeat"];wb.__interfaces__=[vb];wb.prototype={update:function(a,b){if(0==this.$$S)return 0;var c=this.$9S.update(a,b);return 0<this.$$S&&0<=c&&0==--this.$_S?(this.$_S=this.$$S,c):-1},__class__:wb};var S=function(){y.call(this);this.stopAll()};l["kit.script.Script"]=S;S.__name__=["kit","script","Script"];S.__super__=y;S.prototype=t(y.prototype,{get_entitySlot:function(){return 11},run:function(a){a=new Ie(a);this.$AT.push(a);return a},stopAll:function(){this.$AT=[]},onUpdate:function(a){for(var b=
0;b<this.$AT.length;){var c=this.$AT[b];c.$BT||0<=c.$CT.update(a,this.owner)?this.$AT.splice(b,1):++b}},__class__:S});var Ie=function(a){this.$BT=!1;this.$CT=a};l.$CaC=Ie;Ie.__name__=["$CaC"];Ie.__interfaces__=[Sa];Ie.prototype={dispose:function(){this.$BT=!0;this.$CT=null},__class__:Ie};var T=function(a){this.$DT=0;this.$7S=null!=a?a.slice():[]};l["kit.script.Sequence"]=T;T.__name__=["kit","script","Sequence"];T.__interfaces__=[vb];T.prototype={update:function(a,b){for(var c=0;;){var e=this.$7S[this.$DT];
if(null!=e)if(e=e.update(a-c,b),0<=e)c+=e;else return-1;++this.$DT;if(this.$DT>=this.$7S.length){this.$DT=0;break}else if(c>a)return-1}return c},__class__:T};var yc=function(){};l["kit.util.BitSets"]=yc;yc.__name__=["kit","util","BitSets"];yc.set=function(a,b,c){return c?a|b:a&~b};var Pg=function(){};l["kit.util.LogHandler"]=Pg;Pg.__name__=["kit","util","LogHandler"];var ya=function(){this.$TT=this.$UT=null;this.$ST=0;this.$RT=null;this.$PT=this.$QT=0;this.progressChanged=new Nb;this.error=new na;
this.success=new na};l["kit.util.Promise"]=ya;ya.__name__=["kit","util","Promise"];ya.all=function(a){if(1>a.length)return(new ya).$MT([]);for(var b=a.length,c=new ya,e=function(a){c.failure(a)},f=Array(b),g=Array(b),l=0,m=0;m<b;){var p=[m++];f[p[0]]=0;var r=p[0],p=function(a){return function(e){l+=1;g[a[0]]=e;if(1>f[a[0]]){f[a[0]]=1;for(var k=e=0;k<f.length;){var m=f[k];++k;e+=m}c.emitProgress(e/b)}l==b&&c.$MT(g)}}(p);a[r].then(p).catchError(e)}return c};ya.prototype={then:function(a){var b=this;
if(2==this.$ST)return this;var c=new ya;this.$oF(c,function(){if(1==b.$ST){var e=a(b.$RT);c.$NT(e)}else c.failure(b.$RT)});return c},catchError:function(a){var b=this;if(1==this.$ST)return this;var c=new ya;this.$oF(c,function(){if(2==b.$ST){var e=a(b.$RT);c.$NT(e)}else c.$MT(b.$RT)});return c},failure:function(a){this.error.emit(a);return this.$OT(2,a)},$MT:function(a){var b=this.$OT(1,a);this.success.emit(a);return b},emitProgress:function(a){0==this.$ST&&(null!=this.$UT&&this.$UT.emit(a),this.progressChanged.emit())},
$oF:function(a,b){0==this.$ST?null==this.$TT?this.$TT=[b]:this.$TT.push(b):m.$2F.$EF.$5N(b)},$NT:function(a){var b=this;ea.__instanceof(a,ya)?a.then(function(a){b.$MT(a)}).catchError(function(a){b.failure(a)}):this.$MT(a)},$OT:function(a,b){if(0==this.$ST&&(this.$RT=b,this.$ST=a,null!=this.$TT)){for(var c=0,e=this.$TT;c<e.length;){var f=e[c];++c;f()}this.$TT=null}return this},set_progress:function(a){this.$PT!=a&&(this.$PT=a,this.progressChanged.emit());return a},set_total:function(a){this.$QT!=a&&
(this.$QT=a,this.progressChanged.emit());return a},__class__:ya,__properties__:{set_total:"set_total",set_progress:"set_progress"}};var Yf=function(a){this.$ST=null!=a?a:Math.floor(2147483647*Math.random())};l["kit.util.Random"]=Yf;Yf.__name__=["kit","util","Random"];Yf.prototype={nextInt:function(){return this.$ST=(1103515245*this.$ST+12345)%2147483647},__class__:Yf};var wf=function(a){this.next=null;this.$YT=a};l.$CcC=wf;wf.__name__=["$CcC"];wf.prototype={__class__:wf};var Na=function(){};l["kit.util.Strings"]=
Na;Na.__name__=["kit","util","Strings"];Na.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?F.substr(a,b+1,null):null};Na.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?F.substr(a,0,b):a};Na.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=F.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=F.substr(a,b+1,null));return Na.getFileExtension(a)};Na.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};Na.withFields=function(a,
b){var c=b.length;if(0<c){a+=0<a.length?" [":"[";for(var e=0;e<c;){0<e&&(a+=", ");var f=b[e],g=b[e+1];if(ea.__instanceof(g,Error)){var l=g.stack;null!=l&&(g=l)}a+=f+"="+v.string(g);e+=2}a+="]"}return a};var Vb=function(){};l.$CdC=Vb;Vb.__name__=["$CdC"];Vb.prototype={__class__:Vb};var Xf=function(){};l["kit.util.Triangulator"]=Xf;Xf.__name__=["kit","util","Triangulator"];Xf.prototype={triangulate:function(a){var b=a.length;if(6>b)return[];var c=this.$gT;null==c?(c=new Vb,c.$bT=this.$hT,this.$hT=c):
this.$gT=c.next;c.$cT=-1;c.$dT=-1;c.$_J=0;c.$BK=0;c.next=null;c.$kO=null;c.$eT=!1;c.$aT=null;c.$ZT=null;for(var e=c,f=0,g=0,l=b-2;g<b;)f+=(a[l]-a[g])*(a[g+1]+a[l+1]),l=g,g+=2;if(0<f)for(f=g=0;g<b;){var l=a[g],m=a[g+1],p=f++,r=this.$gT;null==r?(r=new Vb,r.$bT=this.$hT,this.$hT=r):this.$gT=r.next;r.$cT=p;r.$dT=-1;r.$_J=l;r.$BK=m;r.next=null;r.$kO=c;r.$eT=!1;r.$aT=null;r.$ZT=null;null!=c&&(c.next=r);c=r;g+=2}else for(g=b-2,f=g/2|0;0<=g;)l=a[g],m=a[g+1],p=f--,r=this.$gT,null==r?(r=new Vb,r.$bT=this.$hT,
this.$hT=r):this.$gT=r.next,r.$cT=p,r.$dT=-1,r.$_J=l,r.$BK=m,r.next=null,r.$kO=c,r.$eT=!1,r.$aT=null,r.$ZT=null,null!=c&&(c.next=r),c=r,g-=2;c.next=e.next;c.next.$kO=c;return this.$lT(c,160<b)},$lT:function(a,b){this.$fT=[];a=this.$qT(a);if(b&&null!=a){var c,e;this.$iT=c=a.$_J;this.$jT=e=a.$BK;for(var f=a.next;f!=a;){var g=f.$_J,l=f.$BK;g<this.$iT&&(this.$iT=g);l<this.$jT&&(this.$jT=l);g>c&&(c=g);l>e&&(e=l);f=f.next}this.$jL=Math.max(c-this.$iT,e-this.$jT);this.$kT=!0}else this.$kT=!1;this.$tT(a);
c=this.$fT;this.$fT=null;e=this.$hT;if(null!=this.$gT){for(;e!=this.$gT;)e=e.$bT;e=e.$bT}for(;null!=e;)e.next=this.$gT,this.$gT=e,e=e.$bT;return c},$qT:function(a,b){if(null==a)return a;null==b&&(b=a);for(var c=a,e;;){e=!1;var f;if(c.$eT)f=!1;else if(f=c.next,c.$_J!=f.$_J||c.$BK!=f.$BK){f=c.$kO;var g=c.next;f=0==(c.$BK-f.$BK)*(g.$_J-c.$_J)-(c.$_J-f.$_J)*(g.$BK-c.$BK)}else f=!0;if(f){c.next.$kO=c.$kO;c.$kO.next=c.next;null!=c.$aT&&(c.$aT.$ZT=c.$ZT);null!=c.$ZT&&(c.$ZT.$aT=c.$aT);c=b=c.$kO;if(c==c.next)return null;
e=!0}else c=c.next;if(!e&&c==b)break}return b},$tT:function(a,b){null==b&&(b=0);if(null!=a){0==b&&this.$kT&&this.$4T(a);for(var c=a,e,f;a.$kO!=a.next;)if(e=a.$kO,f=a.next,this.$kT?this.$vT(a):this.$uT(a))this.$fT.push(e.$cT),this.$fT.push(a.$cT),this.$fT.push(f.$cT),a.next.$kO=a.$kO,a.$kO.next=a.next,null!=a.$aT&&(a.$aT.$ZT=a.$ZT),null!=a.$ZT&&(a.$ZT.$aT=a.$aT),c=a=f.next;else if(a=f,a==c){switch(b){case 0:this.$tT(this.$qT(a),1);break;case 1:a=this.$wT(a);this.$tT(a,2);break;case 2:this.$xT(a)}break}}},
$uT:function(a){var b=a.$kO,c=a.next;if(0<=(a.$BK-b.$BK)*(c.$_J-a.$_J)-(a.$_J-b.$_J)*(c.$BK-a.$BK))return!1;for(var e=a.next.next;e!=a.$kO;){var f;f=b.$_J;var g=b.$BK,l=a.$_J,m=a.$BK,p=c.$_J,r=c.$BK,s=e.$_J,t=e.$BK;0<=(p-s)*(g-t)-(f-s)*(r-t)&&0<=(f-s)*(m-t)-(l-s)*(g-t)&&0<=(l-s)*(r-t)-(p-s)*(m-t)?(f=e.$kO,g=e.next,f=0<=(e.$BK-f.$BK)*(g.$_J-e.$_J)-(e.$_J-f.$_J)*(g.$BK-e.$BK)):f=!1;if(f)return!1;e=e.next}return!0},$vT:function(a){var b=a.$kO,c=a.next;if(0<=(a.$BK-b.$BK)*(c.$_J-a.$_J)-(a.$_J-b.$_J)*
(c.$BK-a.$BK))return!1;for(var e=b.$_J>a.$_J?b.$_J>c.$_J?b.$_J:c.$_J:a.$_J>c.$_J?a.$_J:c.$_J,f=b.$BK>a.$BK?b.$BK>c.$BK?b.$BK:c.$BK:a.$BK>c.$BK?a.$BK:c.$BK,g=32767*((b.$_J<a.$_J?b.$_J<c.$_J?b.$_J:c.$_J:a.$_J<c.$_J?a.$_J:c.$_J)-this.$iT)/this.$jL|0,l=32767*((b.$BK<a.$BK?b.$BK<c.$BK?b.$BK:c.$BK:a.$BK<c.$BK?a.$BK:c.$BK)-this.$jT)/this.$jL|0,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,g=(g|g<<1)&1431655765|((l|l<<1)&1431655765)<<
1,e=32767*(e-this.$iT)/this.$jL|0,f=32767*(f-this.$jT)/this.$jL|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,e=(e|e<<1)&1431655765|((f|f<<1)&1431655765)<<1,f=a.$ZT;null!=f&&f.$dT<=e;){if(f!=a.$kO&&f!=a.next)var l=b.$_J,m=b.$BK,p=a.$_J,r=a.$BK,s=c.$_J,t=c.$BK,v=f.$_J,u=f.$BK,l=0<=(s-v)*(m-u)-(l-v)*(t-u)&&0<=(l-v)*(r-u)-(p-v)*(m-u)?0<=(p-v)*(t-u)-(s-v)*(r-u):!1;else l=!1;l?(l=f.$kO,m=f.next,l=0<=(f.$BK-l.$BK)*(m.$_J-f.$_J)-
(f.$_J-l.$_J)*(m.$BK-f.$BK)):l=!1;if(l)return!1;f=f.$ZT}for(f=a.$aT;null!=f&&f.$dT>=g;){f!=a.$kO&&f!=a.next?(e=b.$_J,l=b.$BK,m=a.$_J,p=a.$BK,r=c.$_J,s=c.$BK,t=f.$_J,v=f.$BK,e=0<=(r-t)*(l-v)-(e-t)*(s-v)&&0<=(e-t)*(p-v)-(m-t)*(l-v)?0<=(m-t)*(s-v)-(r-t)*(p-v):!1):e=!1;e?(e=f.$kO,l=f.next,e=0<=(f.$BK-e.$BK)*(l.$_J-f.$_J)-(f.$_J-e.$_J)*(l.$BK-f.$BK)):e=!1;if(e)return!1;f=f.$aT}return!0},$wT:function(a){for(var b=a;;){var c=b.$kO,e=b.next.next,f;f=b.next;if(0<(b.$BK-c.$BK)*(f.$_J-b.$_J)-(b.$_J-c.$_J)*(f.$BK-
b.$BK)!=0<(b.$BK-c.$BK)*(e.$_J-b.$_J)-(b.$_J-c.$_J)*(e.$BK-b.$BK)&&0<(e.$BK-f.$BK)*(c.$_J-e.$_J)-(e.$_J-f.$_J)*(c.$BK-e.$BK)!=0<(e.$BK-f.$BK)*(b.$_J-e.$_J)-(e.$_J-f.$_J)*(b.$BK-e.$BK)){f=c.$kO;var g=c.next;0>(c.$BK-f.$BK)*(g.$_J-c.$_J)-(c.$_J-f.$_J)*(g.$BK-c.$BK)?(f=c.next,0<=(e.$BK-c.$BK)*(f.$_J-e.$_J)-(e.$_J-c.$_J)*(f.$BK-e.$BK)?(f=c.$kO,f=0<=(f.$BK-c.$BK)*(e.$_J-f.$_J)-(f.$_J-c.$_J)*(e.$BK-f.$BK)):f=!1):(f=c.$kO,0>(e.$BK-c.$BK)*(f.$_J-e.$_J)-(e.$_J-c.$_J)*(f.$BK-e.$BK)?f=!0:(f=c.next,f=0>(f.$BK-
c.$BK)*(e.$_J-f.$_J)-(f.$_J-c.$_J)*(e.$BK-f.$BK)))}else f=!1;f?(f=e.$kO,g=e.next,0>(e.$BK-f.$BK)*(g.$_J-e.$_J)-(e.$_J-f.$_J)*(g.$BK-e.$BK)?(f=e.next,0<=(c.$BK-e.$BK)*(f.$_J-c.$_J)-(c.$_J-e.$_J)*(f.$BK-c.$BK)?(f=e.$kO,f=0<=(f.$BK-e.$BK)*(c.$_J-f.$_J)-(f.$_J-e.$_J)*(c.$BK-f.$BK)):f=!1):(f=e.$kO,0>(c.$BK-e.$BK)*(f.$_J-c.$_J)-(c.$_J-e.$_J)*(f.$BK-c.$BK)?f=!0:(f=e.next,f=0>(f.$BK-e.$BK)*(c.$_J-f.$_J)-(f.$_J-e.$_J)*(c.$BK-f.$BK)))):f=!1;f&&(this.$fT.push(c.$cT),this.$fT.push(b.$cT),this.$fT.push(e.$cT),
b.next.$kO=b.$kO,b.$kO.next=b.next,null!=b.$aT&&(b.$aT.$ZT=b.$ZT),null!=b.$ZT&&(b.$ZT.$aT=b.$aT),a=b.next,a.next.$kO=a.$kO,a.$kO.next=a.next,null!=a.$aT&&(a.$aT.$ZT=a.$ZT),null!=a.$ZT&&(a.$ZT.$aT=a.$aT),b=a=e);b=b.next;if(b==a)break}return b},$xT:function(a){for(var b=a;;){for(var c=b.next.next;c!=b.$kO;){if(b.$cT!=c.$cT&&this.$0T(b,c)){a=this.$yT(b,c);b=this.$qT(b,b.next);a=this.$qT(a,a.next);this.$tT(b);this.$tT(a);return}c=c.next}b=b.next;if(b==a)break}},$yT:function(a,b){var c=a.$cT,e=a.$_J,f=
a.$BK,g=this.$gT;null==g?(g=new Vb,g.$bT=this.$hT,this.$hT=g):this.$gT=g.next;g.$cT=c;g.$dT=-1;g.$_J=e;g.$BK=f;g.next=null;g.$kO=null;g.$eT=!1;g.$aT=null;g.$ZT=null;var c=g,e=b.$cT,f=b.$_J,g=b.$BK,l=this.$gT;null==l?(l=new Vb,l.$bT=this.$hT,this.$hT=l):this.$gT=l.next;l.$cT=e;l.$dT=-1;l.$_J=f;l.$BK=g;l.next=null;l.$kO=null;l.$eT=!1;l.$aT=null;l.$ZT=null;e=l;f=a.next;g=b.$kO;a.next=b;b.$kO=a;c.next=f;f.$kO=c;e.next=c;c.$kO=e;g.next=e;e.$kO=g;return e},$0T:function(a,b){if(a.$_J!=b.$_J||a.$BK!=b.$BK){var c;
if(a.next.$cT==b.$cT||a.$kO.$cT==b.$cT||this.$2T(a,b))c=!1;else{c=a.$kO;var e=a.next;0>(a.$BK-c.$BK)*(e.$_J-a.$_J)-(a.$_J-c.$_J)*(e.$BK-a.$BK)?(c=a.next,0<=(b.$BK-a.$BK)*(c.$_J-b.$_J)-(b.$_J-a.$_J)*(c.$BK-b.$BK)?(c=a.$kO,c=0<=(c.$BK-a.$BK)*(b.$_J-c.$_J)-(c.$_J-a.$_J)*(b.$BK-c.$BK)):c=!1):(c=a.$kO,0>(b.$BK-a.$BK)*(c.$_J-b.$_J)-(b.$_J-a.$_J)*(c.$BK-b.$BK)?c=!0:(c=a.next,c=0>(c.$BK-a.$BK)*(b.$_J-c.$_J)-(c.$_J-a.$_J)*(b.$BK-c.$BK)))}c?(c=b.$kO,e=b.next,0>(b.$BK-c.$BK)*(e.$_J-b.$_J)-(b.$_J-c.$_J)*(e.$BK-
b.$BK)?(c=b.next,0<=(a.$BK-b.$BK)*(c.$_J-a.$_J)-(a.$_J-b.$_J)*(c.$BK-a.$BK)?(c=b.$kO,c=0<=(c.$BK-b.$BK)*(a.$_J-c.$_J)-(c.$_J-b.$_J)*(a.$BK-c.$BK)):c=!1):(c=b.$kO,0>(a.$BK-b.$BK)*(c.$_J-a.$_J)-(a.$_J-b.$_J)*(c.$BK-a.$BK)?c=!0:(c=b.next,c=0>(c.$BK-b.$BK)*(a.$_J-c.$_J)-(c.$_J-b.$_J)*(a.$BK-c.$BK)))):c=!1;return c?this.$1T(a,b):!1}return!0},$1T:function(a,b){for(var c=a,e=!1,f=(a.$_J+b.$_J)/2,g=(a.$BK+b.$BK)/2;c.$BK>g!=c.next.$BK>g&&f<(c.next.$_J-c.$_J)*(g-c.$BK)/(c.next.$BK-c.$BK)+c.$_J&&(e=!e),c=c.next,
c!=a;);return e},$2T:function(a,b){for(var c=a;;){var e;c.$cT!=a.$cT&&c.next.$cT!=a.$cT&&c.$cT!=b.$cT&&c.next.$cT!=b.$cT?(e=c.next,e=0<(e.$BK-c.$BK)*(a.$_J-e.$_J)-(e.$_J-c.$_J)*(a.$BK-e.$BK)!=0<(e.$BK-c.$BK)*(b.$_J-e.$_J)-(e.$_J-c.$_J)*(b.$BK-e.$BK)?0<(b.$BK-a.$BK)*(c.$_J-b.$_J)-(b.$_J-a.$_J)*(c.$BK-b.$BK)!=0<(b.$BK-a.$BK)*(e.$_J-b.$_J)-(b.$_J-a.$_J)*(e.$BK-b.$BK):!1):e=!1;if(e)return!0;c=c.next;if(c==a)break}return!1},$4T:function(a){for(var b=a;;){if(0>b.$dT){var c=32767*(b.$_J-this.$iT)/this.$jL|
0,e=32767*(b.$BK-this.$jT)/this.$jL|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765;b.$dT=c|e<<1}b.$aT=b.$kO;b=b.$ZT=b.next;if(b==a)break}b.$aT.$ZT=null;b.$aT=null;this.$5T(b)},$5T:function(a){for(var b,c,e,f,g,l,m,p=1;;){b=a;f=a=null;for(g=0;null!=b;){++g;c=b;e=l=0;for(m=p;e<m&&(e++,++l,c=c.$ZT,null!=c););for(m=p;0<l||0<m&&null!=c;)0==l?(e=c,c=c.$ZT,--m):0==m||null==c?(e=b,b=
b.$ZT,--l):b.$dT<=c.$dT?(e=b,b=b.$ZT,--l):(e=c,c=c.$ZT,--m),null!=f?f.$ZT=e:a=e,e.$aT=f,f=e;b=c}f.$ZT=null;p*=2;if(!(1<g))break}return a},__class__:Xf};var Je=function(a,b){this.power=1;this.angle=0;y.call(this);this.x=a|0;this.y=b|0};l["project.Arrow"]=Je;Je.__name__=["project","Arrow"];Je.__super__=y;Je.prototype=t(y.prototype,{get_entitySlot:function(){return 25},onAdded:function(){this.owner.add(new Z(c.pack.getTexture("blank")));this.thisSprite=this.owner.$BF[1];this.thisSprite.setXY(this.x,
this.y);this.circle=new e;f.createImageSprite(this.owner,this.circle,"game/redMarker",!0,0,0);this.arrow=new e;f.createImageSprite(this.owner,this.arrow,"blank",!0,0,0);this.shaft=new e;f.createImageSprite(this.arrow,this.shaft,"game/arrowShaft",!0,0,0);this.shaft.$BF[1].setAnchor(0,10);this.head=new e;f.createImageSprite(this.arrow,this.head,"game/arrowHead",!0,100,3);var a=new e;f.createImageSprite(this.owner,a,"game/redMarker2",!0,0,0);"raph"==c["char"]&&(this.circle.$BF[1].setScale(1.2),a.$BF[1].setScale(1.2))},
update:function(a,b){this.angle=a;this.power=b;this.arrow.$BF[1].rotation.set__(this.angle);var d=this.power/c.maxPower;1<d&&(d=1);this.shaft.$BF[1].scaleX.set__(4*d);this.head.$BF[1].x.set__(400*d)},getAngle:function(){return this.arrow.$BF[1].rotation.$hF},__class__:Je});var c=function(){};l["project.Ctx"]=c;c.__name__=["project","Ctx"];c.initFonts=function(){c.translations=new Zb(u.parse(c.configPack.getFile("translation.xml").toString()).firstElement());c.bodyFont=new ta(c.pack,"fonts/bodyFont");
c.hudFont=new ta(c.pack,"fonts/font40");c.bodyFontNum=new ta(c.pack,"fonts/bodyFont");c.hudFontNum=new ta(c.pack,"fonts/font40");c.hud2Font=new ta(c.pack,"fonts/hud60");c.medFont=new ta(c.pack,"fonts/font50");c.medFontNum=new ta(c.pack,"fonts/font50");c.largeFont=new ta(c.pack,"fonts/font50");c.smallFont=new ta(c.pack,"fonts/font25");c.loaderFont=new ta(c.pack,"screens/loaderFont");c.vo||(c.bodyFont=new ta(c.pack,"fonts/bodyFontint"),c.hudFont=new ta(c.pack,"fonts/font40int"),c.medFont=new ta(c.pack,
"fonts/font50int"),c.largeFont=new ta(c.pack,"fonts/font50int"),c.smallFont=new ta(c.pack,"fonts/font25int"))};var U=function(a,b,c){this.gravity=1200;y.call(this);this.type=a;this.x=b|0;this.y=c|0};l["project.Debris"]=U;U.__name__=["project","Debris"];U.__super__=y;U.prototype=t(y.prototype,{get_entitySlot:function(){return 29},onAdded:function(){var a=this;this.owner.add(new Z(c.pack.getTexture("blank")));this.owner.$BF[1].centerAnchor();this.owner.$BF[1].setXY(this.x,this.y);this.debris=new e;
f.createImageSprite(this.owner,this.debris,"game/debris"+this.type,!0,0,0);this.hasGravity=!0;f.coinFlip()?this.dx=f.randomNumber(-500,-100):this.dx=f.randomNumber(100,500);this.dy=f.randomNumber(-750,-100);f.coinFlip()?this.dr=f.randomNumber(200,400):this.dr=f.randomNumber(-400,-200);1==this.type||2==this.type||5==this.type||6==this.type||7==this.type?this.debris.$BF[1].setScale(0.8):1<this.type&&10>this.type?this.debris.$BF[1].setScale(f.randomNumberFloat(1,2)):60==this.type?(this.debris.$BF[1].setScale(f.randomNumberFloat(1,
3)),f.coinFlip()?this.dx=f.randomNumber(-500,-350):this.dx=f.randomNumber(350,500),this.dy=f.randomNumber(-750,-250)):31==this.type?(this.debris.$BF[1].setScale(1),f.coinFlip()?this.dx=f.randomNumber(-500,-350):this.dx=f.randomNumber(350,500),this.dy=f.randomNumber(-750,-450)):32==this.type?(this.debris.$BF[1].setScale(1),f.coinFlip()?this.dx=f.randomNumber(-500,-350):this.dx=f.randomNumber(350,500),this.dy=f.randomNumber(-300,-1500)):40==this.type?(this.debris.$BF[1].setScale(1),f.coinFlip()?this.dx=
f.randomNumber(-500,-350):this.dx=f.randomNumber(350,500),this.dy=f.randomNumber(-750,-450)):45==this.type?(this.debris.$BF[1].setScale(1),f.coinFlip()?this.dx=f.randomNumber(-500,-350):this.dx=f.randomNumber(350,500),this.dy=f.randomNumber(-750,-450)):40<this.type&&(this.debris.$BF[1].setScale(1),f.coinFlip()?this.dx=f.randomNumber(-500,-350):this.dx=f.randomNumber(350,500),this.dy=f.randomNumber(-750,-200));var b=new S;b.run(new T([new E(f.randomNumberFloat(0.1,0.4)),new D(function(){a.debris.$BF[1].alpha.animateTo(0,
0.6,ba.sineIn)}),new E(1.5),new D(function(){a.owner.dispose()})]));this.owner.add(b)},onUpdate:function(a){var b=this.owner.$BF[1].x;b.set__(b.$hF+this.dx*a);b=this.owner.$BF[1].y;b.set__(b.$hF+this.dy*a);b=this.owner.$BF[1].rotation;b.set__(b.$hF+this.dr*a);this.hasGravity&&(this.dy+=this.gravity*a)},__class__:U});var Ke=function(){this.debugText="";this.audioEnabled=!1;this.musicVolume=0.5;this.transitionTime=0.4;this.transitionColour=16777215;y.call(this)};l["project.Game"]=Ke;Ke.__name__=["project",
"Game"];Ke.__super__=y;Ke.prototype=t(y.prototype,{get_entitySlot:function(){return 16},onAdded:function(){B.loadData();m.$2F.$KF.down.connect(L(this,this.onPointerDown));m.$2F.$KF.up.connect(L(this,this.onPointerUp));m.$2F.$KF.move.connect(L(this,this.onPointerMove));m.$2F.$MF.resize.connect(L(this,this.onResize));c.isMobile&&(m.$2F.$NF.up.connect(L(this,this.handleTouchUp)),m.$2F.$NF.down.connect(L(this,this.handleTouchDown)),m.$2F.$NF.move.connect(L(this,this.handleTouchMove)));m.$2F.getKeyboard().down.connect(L(this,
this.keyDownHandler));m.$2F.getKeyboard().up.connect(L(this,this.keyUpHandler));this.myXML=new Zb(u.parse(c.configPack.getFile("config.xml").toString()).firstElement());"YES"==this.myXML.node.resolve("showFPS").get_innerData()?c.showFPS=!0:c.showFPS=!1;"YES"==this.myXML.node.resolve("testMode").get_innerData()?c.testMode=!0:c.testMode=!1;"YES"==this.myXML.node.resolve("showDebugInfo").get_innerData()?c.showDebugInfo=!0:c.showDebugInfo=!1;"YES"==this.myXML.node.resolve("english").get_innerData()?c.vo=
!0:c.vo=!1;"YES"==this.myXML.node.resolve("alvin").get_innerData()?c.alvin=!0:c.alvin=!1;"YES"==this.myXML.node.resolve("powerRangers").get_innerData()?c.powerRangers=!0:c.powerRangers=!1;c.minScaleSize=v.parseInt(this.myXML.node.resolve("scaleBelow").get_innerData());this.status_font=new ta(c.pack,"fonts/tinyfont");this.screen=(new e).add(new J(16777215,c.staticWidth,c.staticHeight));m.root.addChild(this.screen);this.onResize();this.screen.dispose();c.initFonts();c.quickTest?(c.help1=!1,c.help2=
!1,this.startGame()):this.homeScreen()},onPointerDown:function(a){var b=this;switch(this.gameState){case "CHAR":var d=a.viewX/c.scale-c.offsetX/2;a.hit==this.homeBtn.$BF[1]?this.fadeOut(L(this,this.puzzleScreen)):80>f.vectorDistance(d,this.mikey.$BF[1].x.$hF,0,0)?(this.gameState="WAIT",c["char"]="mikey",this.mikey.$BF[19].play("mikey_select","mikey_selected"),this.raph.$BF[1].alpha.animateTo(0.5,0.5),this.leo.$BF[1].alpha.animateTo(0.5,0.5),this.donnie.$BF[1].alpha.animateTo(0.5,0.5),a=new S,a.run(new T([new E(1.5),
new D(function(){c.gamePackReady?(b.loadFill.dispose(),b.loadFrame.dispose(),b.loadText.dispose(),b.fadeOut(L(b,b.startGame)),b.menuLoop.volume.animateTo(0,0.3)):(c.levelReady=!0,null!=b.loadText&&(b.loadFill.$BF[1].alpha.animateTo(0.5,0.2),b.loadFrame.$BF[1].alpha.animateTo(1,0.2),b.loadText.$BF[1].alpha.animateTo(1,0.2),m.root.addChild(b.loadFill),m.root.addChild(b.loadFrame),m.root.addChild(b.loadText)))})])),this.owner.add(a),this.playSound("UI_character_select"),this.playSound("UI_click")):80>
f.vectorDistance(d,this.leo.$BF[1].x.$hF,0,0)?(this.gameState="WAIT",c["char"]="leo",this.leo.$BF[19].play("leo_select","leo_selected"),this.raph.$BF[1].alpha.animateTo(0.5,0.5),this.mikey.$BF[1].alpha.animateTo(0.5,0.5),this.donnie.$BF[1].alpha.animateTo(0.5,0.5),a=new S,a.run(new T([new E(1.5),new D(function(){c.gamePackReady?(b.loadFill.dispose(),b.loadFrame.dispose(),b.loadText.dispose(),b.fadeOut(L(b,b.startGame)),b.menuLoop.volume.animateTo(0,0.3)):(c.levelReady=!0,null!=b.loadText&&(b.loadFill.$BF[1].alpha.animateTo(0.5,
0.2),b.loadFrame.$BF[1].alpha.animateTo(1,0.2),b.loadText.$BF[1].alpha.animateTo(1,0.2),m.root.addChild(b.loadFill),m.root.addChild(b.loadFrame),m.root.addChild(b.loadText)))})])),this.owner.add(a),this.playSound("UI_character_select"),this.playSound("UI_click")):80>f.vectorDistance(d,this.donnie.$BF[1].x.$hF,0,0)?(this.gameState="WAIT",c["char"]="donnie",this.donnie.$BF[19].play("donnie_select","donnie_selected"),this.raph.$BF[1].alpha.animateTo(0.5,0.5),this.mikey.$BF[1].alpha.animateTo(0.5,0.5),
this.leo.$BF[1].alpha.animateTo(0.5,0.5),a=new S,a.run(new T([new E(1.5),new D(function(){c.gamePackReady?(b.loadFill.dispose(),b.loadFrame.dispose(),b.loadText.dispose(),b.fadeOut(L(b,b.startGame)),b.menuLoop.volume.animateTo(0,0.3)):(c.levelReady=!0,null!=b.loadText&&(b.loadFill.$BF[1].alpha.animateTo(0.5,0.2),b.loadFrame.$BF[1].alpha.animateTo(1,0.2),b.loadText.$BF[1].alpha.animateTo(1,0.2),m.root.addChild(b.loadFill),m.root.addChild(b.loadFrame),m.root.addChild(b.loadText)))})])),this.owner.add(a),
this.playSound("UI_character_select"),this.playSound("UI_click")):120>f.vectorDistance(d,this.raph.$BF[1].x.$hF,0,0)&&(this.gameState="WAIT",c["char"]="raph",this.raph.$BF[19].play("raph_select","raph_selected"),this.leo.$BF[1].alpha.animateTo(0.5,0.5),this.mikey.$BF[1].alpha.animateTo(0.5,0.5),this.donnie.$BF[1].alpha.animateTo(0.5,0.5),a=new S,a.run(new T([new E(1.5),new D(function(){c.gamePackReady?(b.loadFill.dispose(),b.loadFrame.dispose(),b.loadText.dispose(),b.fadeOut(L(b,b.startGame)),b.menuLoop.volume.animateTo(0,
0.3)):(c.levelReady=!0,null!=b.loadText&&(b.loadFill.$BF[1].alpha.animateTo(0.5,0.2),b.loadFrame.$BF[1].alpha.animateTo(1,0.2),b.loadText.$BF[1].alpha.animateTo(1,0.2),m.root.addChild(b.loadFill),m.root.addChild(b.loadFrame),m.root.addChild(b.loadText)))})])),this.owner.add(a),this.playSound("UI_character_select"),this.playSound("UI_click"));break;case "GAME":a.hit==this.pauseBtn.$BF[1]&&(this.pauseGame(!0,a),this.playSound("UI_click"));break;case "HOME":a.hit==this.muteBtn.$BF[1]?(c.muted?(this.muteBtn.dispose(),
this.muteBtn=new e,f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_ON",!0,this.screenWidth-50,50),f.mute(!1)):(this.muteBtn.dispose(),this.muteBtn=new e,f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_OFF",!0,this.screenWidth-50,50),f.mute(!0)),f.alignRight(this.muteBtn)):this.fadeOut(L(this,this.levelScreen));null==this.menuLoop&&(this.menuLoop=c.pack.getSound("audio/RoTMNT_Game2_Menu_v1").loop(),this.menuLoop.volume.set__(0));this.menuLoop.volume.animateTo(this.musicVolume,
0.5);this.playSound("UI_click");break;case "LEVEL":a.hit==this.btn1.$BF[1]?(c.area="lair",this.loadLevel(),this.fadeOut(L(this,this.puzzleScreen)),this.playSound("UI_click")):a.hit==this.btn2.$BF[1]&&c.unlockedRoof?(c.area="roof",this.loadLevel(),this.fadeOut(L(this,this.puzzleScreen)),this.playSound("UI_click")):a.hit==this.btn3.$BF[1]&&c.unlockedYard?(c.area="yard",this.loadLevel(),this.fadeOut(L(this,this.puzzleScreen)),this.playSound("UI_click")):a.hit==this.btn4.$BF[1]&&c.unlockedSubway?(c.area=
"subway",this.loadLevel(),this.fadeOut(L(this,this.puzzleScreen)),this.playSound("UI_click")):a.hit==this.btn5.$BF[1]&&c.unlockedCity?(c.area="city",this.loadLevel(),this.fadeOut(L(this,this.puzzleScreen)),this.playSound("UI_click")):a.hit==this.homeBtn.$BF[1]&&this.fadeOut(L(this,this.homeScreen));!c.unlockedRoof&&a.hit==this.unlock2btn.$BF[1]&&c.purse>=c.unlockRoof&&(c.purse-=c.unlockRoof,this.playSound("spend_coins"),this.lock2.dispose(),c.unlockedRoof=!0,d=this.coinsText.$BF[1],(d instanceof O?
d:null).set_text(v.string(c.purse)),B.saveData(),this.btn2.$BF[1].alpha.animateTo(1,0.5),this.showUnlockButtons());!c.unlockedYard&&a.hit==this.unlock3btn.$BF[1]&&c.purse>=c.unlockYard&&(c.purse-=c.unlockYard,this.playSound("spend_coins"),this.lock3.dispose(),c.unlockedYard=!0,d=this.coinsText.$BF[1],(d instanceof O?d:null).set_text(v.string(c.purse)),B.saveData(),this.btn3.$BF[1].alpha.animateTo(1,0.5),this.showUnlockButtons());!c.unlockedSubway&&a.hit==this.unlock4btn.$BF[1]&&c.purse>=c.unlockSubway&&
(c.purse-=c.unlockSubway,this.playSound("spend_coins"),this.lock4.dispose(),c.unlockedSubway=!0,d=this.coinsText.$BF[1],(d instanceof O?d:null).set_text(v.string(c.purse)),B.saveData(),this.btn4.$BF[1].alpha.animateTo(1,0.5),this.showUnlockButtons());!c.unlockedCity&&a.hit==this.unlock5btn.$BF[1]&&c.purse>=c.unlockCity&&(c.purse-=c.unlockCity,this.playSound("spend_coins"),this.lock5.dispose(),c.unlockedCity=!0,a=this.coinsText.$BF[1],(a instanceof O?a:null).set_text(v.string(c.purse)),B.saveData(),
this.btn5.$BF[1].alpha.animateTo(1,0.5),this.showUnlockButtons());break;case "PUZZLE":a.hit==this.homeBtn.$BF[1]&&(this.fadeOut(L(this,this.levelScreen)),this.playSound("UI_click"));break;case "WIN":a.hit==this.homeBtn.$BF[1]&&(this.fadeOut(L(this,this.homeScreen)),this.playSound("UI_click"))}},onPointerUp:function(a){},onPointerMove:function(a){switch(this.gameState){case "GAME":f.rolloverImage(this.pauseBtn,"buttons/BTN_pause","buttons/BTN_pause_rollover",a);break;case "HOME":c.muted?f.rolloverImage(this.muteBtn,
"buttons/BTN_sound_OFF","buttons/BTN_sound_OFF_rollover",a):f.rolloverImage(this.muteBtn,"buttons/BTN_sound_ON","buttons/BTN_sound_ON_rollover",a);break;case "LEVEL":c.unlockedRoof||f.rolloverImage(this.unlock2btn,"buttons/BTN_unlock","buttons/BTN_unlock_rollover",a);c.unlockedYard||f.rolloverImage(this.unlock3btn,"buttons/BTN_unlock","buttons/BTN_unlock_rollover",a);c.unlockedSubway||f.rolloverImage(this.unlock4btn,"buttons/BTN_unlock","buttons/BTN_unlock_rollover",a);c.unlockedCity||f.rolloverImage(this.unlock5btn,
"buttons/BTN_unlock","buttons/BTN_unlock_rollover",a);break;case "WIN":f.rolloverImage(this.homeBtn,"buttons/BTN_next","buttons/BTN_next_rollover",a)}},homeScreen:function(){this.inPlay=!1;this.screen=(new e).add(new J(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var a=new e;f.createImageSprite(this.screen,a,"screens/background",!1,-((1336-this.screenWidth)/2)+20,this.screenHeight-768);a.$BF[1].x.animateBy(-20,1.5,ba.sineOut);a=new e;f.createImageSprite(this.screen,a,"screens/foreground",
!1,-((1336-this.screenWidth)/2)+45,this.screenHeight-635);a.$BF[1].x.animateBy(-45,1.5,ba.sineOut);a=new e;f.createImageSprite(this.screen,a,"screens/foot_brute",!1,this.screenWidth/2-725,this.screenHeight-300);a.$BF[1].x.animateBy(30,1.5,ba.sineOut);a=new e;f.createImageSprite(this.screen,a,"screens/title",!0,this.screenWidth/2,130);ca.spawn(a,0,0.5,1);a=new e;f.createImageSprite(this.screen,a,"blank",!0,this.screenWidth/2,this.screenHeight);var b=new e;c.isMobile?f.createXMLSprite(a,b,c.bodyFont,
"Center",0,-60,c.translations.node.resolve("tapPlay")):f.createXMLSprite(a,b,c.bodyFont,"Center",0,-60,c.translations.node.resolve("clickPlay"));f.pulseBtn(a,1.05,0.7);ca.fadeIn(b,1,0.5);this.muteBtn=new e;c.muted?f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_OFF",!0,this.screenWidth-50,50):f.createImageSprite(this.screen,this.muteBtn,"buttons/BTN_sound_ON",!0,this.screenWidth-50,50);f.alignRight(this.muteBtn);ca.spawn(this.muteBtn,1.2,0.3,0.3);this.gameState="HOME";this.fadeIn();
null==this.menuLoop&&(this.menuLoop=c.pack.getSound("audio/RoTMNT_Game2_Menu_v1").loop(),this.menuLoop.volume.set__(0));this.menuLoop.volume.animateTo(this.musicVolume,0.5)},charScreen:function(){this.inPlay=!1;this.screen=(new e).add(new J(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var a=new e;f.createImageSprite(this.screen,a,"screens/background2",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);a=new e;f.createImageSprite(this.screen,a,"screens/header_frame",!0,this.screenWidth/
2,35);a=new e;f.createXMLSprite(this.screen,a,c.bodyFont,"Center",this.screenWidth/2,30,c.translations.node.resolve("playerSelect"));c.vo||(a=a.$BF[1].y,a.set__(a.$hF-8));this.donnie=(new e).add(new M("screens/charselect","donnie",this.screenWidth/2-315,this.screenHeight-45));this.screen.addChild(this.donnie);this.raph=(new e).add(new M("screens/charselect","raph",this.screenWidth/2-75,this.screenHeight-45));this.screen.addChild(this.raph);this.mikey=(new e).add(new M("screens/charselect","mikey",
this.screenWidth/2+180,this.screenHeight-45));this.screen.addChild(this.mikey);this.leo=(new e).add(new M("screens/charselect","leo",this.screenWidth/2+365,this.screenHeight-45));this.screen.addChild(this.leo);a=new e;f.createImageSprite(this.screen,a,"screens/HUD_coin_bank",!1,10,5);f.alignLeft(a);this.coinsText=new e;f.createTextSprite(a,this.coinsText,c.hudFontNum,"Center",110,25,v.string(c.purse));this.homeBtn=new e;f.createImageSprite(this.screen,this.homeBtn,"buttons/BTN_back",!0,this.screenWidth-
50,50);f.alignRight(this.homeBtn);this.gameState="CHAR";this.fadeIn()},levelScreen:function(){this.inPlay=!1;this.screen=(new e).add(new J(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var a=new e;f.createImageSprite(this.screen,a,"screens/background2",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);a=new e;f.createImageSprite(this.screen,a,"screens/header_frame",!0,this.screenWidth/2,35);a=new e;f.createXMLSprite(this.screen,a,c.bodyFont,"Center",this.screenWidth/2,30,
c.translations.node.resolve("levelSelect"));c.vo||(a=a.$BF[1].y,a.set__(a.$hF-8));a=new e;f.createImageSprite(this.screen,a,"screens/BTN_lair",!0,this.screenWidth/2-390+14,this.screenHeight/2+35);this.btn1=new e;f.createImageSprite(this.screen,this.btn1,"screens/frame_highlight1",!0,this.screenWidth/2-390+15,this.screenHeight/2+30);a=new e;f.createImageSprite(this.screen,a,"screens/BTN_city",!0,this.screenWidth/2-195,this.screenHeight/2+35);this.btn2=new e;f.createImageSprite(this.screen,this.btn2,
"screens/frame_highlight2",!0,this.screenWidth/2-195+1,this.screenHeight/2+34);c.unlockedRoof||(this.lock2=new e,f.createImageSprite(this.screen,this.lock2,"screens/lock_icon",!0,this.screenWidth/2-195+4,this.screenHeight/2+34),a=new e,f.createImageSprite(this.lock2,a,"screens/coin_icon",!0,30,180),this.coinsText=new e,f.createTextSprite(this.lock2,this.coinsText,c.bodyFontNum,"Center",80,160,v.string(c.unlockRoof)),this.unlock2btn=new e,f.createImageSprite(this.lock2,this.unlock2btn,"buttons/BTN_unlock",
!0,55,260),this.btn2.$BF[1].alpha.set__(0),c.purse<c.unlockRoof&&this.unlock2btn.$BF[1].alpha.set__(0));a=new e;f.createImageSprite(this.screen,a,"screens/BTN_salvage",!0,this.screenWidth/2,this.screenHeight/2+35);this.btn3=new e;f.createImageSprite(this.screen,this.btn3,"screens/frame_highlight1",!0,this.screenWidth/2+3,this.screenHeight/2+32);c.unlockedYard||(this.lock3=new e,f.createImageSprite(this.screen,this.lock3,"screens/lock_icon",!0,this.screenWidth/2+2,this.screenHeight/2+34),a=new e,f.createImageSprite(this.lock3,
a,"screens/coin_icon",!0,30,180),this.coinsText=new e,f.createTextSprite(this.lock3,this.coinsText,c.bodyFontNum,"Center",80,160,v.string(c.unlockYard)),this.unlock3btn=new e,f.createImageSprite(this.lock3,this.unlock3btn,"buttons/BTN_unlock",!0,55,260),this.btn3.$BF[1].alpha.set__(0),c.purse<c.unlockYard&&this.unlock3btn.$BF[1].alpha.set__(0));a=new e;f.createImageSprite(this.screen,a,"screens/BTN_subway",!0,this.screenWidth/2+195-12,this.screenHeight/2+35);this.btn4=new e;f.createImageSprite(this.screen,
this.btn4,"screens/frame_highlight2",!0,this.screenWidth/2+195-9,this.screenHeight/2+34);c.unlockedSubway||(this.lock4=new e,f.createImageSprite(this.screen,this.lock4,"screens/lock_icon",!0,this.screenWidth/2+195-2,this.screenHeight/2+34),a=new e,f.createImageSprite(this.lock4,a,"screens/coin_icon",!0,20,180),this.coinsText=new e,f.createTextSprite(this.lock4,this.coinsText,c.bodyFontNum,"Center",70,160,v.string(c.unlockSubway)),this.unlock4btn=new e,f.createImageSprite(this.lock4,this.unlock4btn,
"buttons/BTN_unlock",!0,55,260),this.btn4.$BF[1].alpha.set__(0),c.purse<c.unlockSubway&&this.unlock4btn.$BF[1].alpha.set__(0));a=new e;f.createImageSprite(this.screen,a,"screens/BTN_hiddencity",!0,this.screenWidth/2+390-12,this.screenHeight/2+35);this.btn5=new e;f.createImageSprite(this.screen,this.btn5,"screens/frame_highlight1",!0,this.screenWidth/2+390-10,this.screenHeight/2+32);c.unlockedCity||(this.lock5=new e,f.createImageSprite(this.screen,this.lock5,"screens/lock_icon",!0,this.screenWidth/
2+390-7,this.screenHeight/2+34),a=new e,f.createImageSprite(this.lock5,a,"screens/coin_icon",!0,20,180),this.coinsText=new e,f.createTextSprite(this.lock5,this.coinsText,c.bodyFontNum,"Center",70,160,v.string(c.unlockCity)),this.unlock5btn=new e,f.createImageSprite(this.lock5,this.unlock5btn,"buttons/BTN_unlock",!0,55,260),this.btn5.$BF[1].alpha.set__(0),c.purse<c.unlockCity&&this.unlock5btn.$BF[1].alpha.set__(0));if(0==c.helpStage||1==c.helpStage&&c.purse>=c.unlockRoof)1==c.helpStage&&(c.helpStage=
2),a=(new e).add(new Yb(this.screenWidth/2,this.screenHeight,L(this,this.helpCallback))),this.screen.addChild(a);a=new e;f.createImageSprite(this.screen,a,"screens/HUD_coin_bank",!1,10,5);f.alignLeft(a);this.coinsText=new e;f.createTextSprite(a,this.coinsText,c.hudFontNum,"Center",110,25,v.string(c.purse));this.homeBtn=new e;f.createImageSprite(this.screen,this.homeBtn,"buttons/BTN_back",!0,this.screenWidth-50,50);f.alignRight(this.homeBtn);this.gameState="LEVEL";this.fadeIn()},showUnlockButtons:function(){c.unlockedRoof||
c.purse<c.unlockRoof&&this.unlock2btn.$BF[1].alpha.animateTo(0,0.5);c.unlockedYard||c.purse<c.unlockYard&&this.unlock4btn.$BF[1].alpha.animateTo(0,0.5);c.unlockedSubway||c.purse<c.unlockSubway&&this.unlock4btn.$BF[1].alpha.animateTo(0,0.5);c.unlockedCity||c.purse<c.unlockCity&&this.unlock5btn.$BF[1].alpha.animateTo(0,0.5)},helpCallback:function(){},puzzleScreen:function(){this.inPlay=!1;this.screen=(new e).add(new J(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var a=new e;f.createImageSprite(this.screen,
a,"screens/background2",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);a=new e;f.createImageSprite(this.screen,a,"screens/header_frame",!0,this.screenWidth/2,35);a=new e;switch(c.area){case "city":f.createXMLSprite(this.screen,a,c.bodyFont,"Center",this.screenWidth/2,30,c.translations.node.resolve("city"));break;case "lair":f.createXMLSprite(this.screen,a,c.bodyFont,"Center",this.screenWidth/2,30,c.translations.node.resolve("lair"));break;case "roof":f.createXMLSprite(this.screen,a,c.bodyFont,
"Center",this.screenWidth/2,30,c.translations.node.resolve("roof"));break;case "subway":f.createXMLSprite(this.screen,a,c.bodyFont,"Center",this.screenWidth/2,30,c.translations.node.resolve("subway"));break;case "yard":f.createXMLSprite(this.screen,a,c.bodyFont,"Center",this.screenWidth/2,30,c.translations.node.resolve("yard"))}c.vo||(a=a.$BF[1].y,a.set__(a.$hF-8));var a=this.screenHeight/2-75,b=this.screenHeight/2+155,d=(new e).add(new Fb(1,this.screenWidth/2-225,a,L(this,this.puzzleButtonCallback)));
this.screen.addChild(d);d=(new e).add(new Fb(2,this.screenWidth/2,a,L(this,this.puzzleButtonCallback)));this.screen.addChild(d);d=(new e).add(new Fb(3,this.screenWidth/2+225,a,L(this,this.puzzleButtonCallback)));this.screen.addChild(d);d=(new e).add(new Fb(4,this.screenWidth/2-112.5,b,L(this,this.puzzleButtonCallback)));this.screen.addChild(d);d=(new e).add(new Fb(5,this.screenWidth/2+112.5,b,L(this,this.puzzleButtonCallback)));this.screen.addChild(d);a=new e;f.createImageSprite(this.screen,a,"screens/HUD_coin_bank",
!1,10,5);f.alignLeft(a);this.coinsText=new e;f.createTextSprite(a,this.coinsText,c.hudFontNum,"Center",110,25,v.string(c.purse));this.homeBtn=new e;f.createImageSprite(this.screen,this.homeBtn,"buttons/BTN_back",!0,this.screenWidth-50,50);f.alignRight(this.homeBtn);this.gameState="PUZZLE";this.fadeIn()},puzzleButtonCallback:function(a){c.puzzle=a;this.fadeOut(L(this,this.charScreen))},levelEndCallback:function(a){this.screen.$BF[20].dispose();switch(a){case "HOME":this.fadeOut(L(this,this.puzzleScreen));
break;case "NEXT":0<c.level51medal&&0<c.level52medal&&0<c.level53medal&&0<c.level54medal&&0<c.level55medal&&"city"==c.area?this.fadeOut(L(this,this.winScreen)):5==c.puzzle?this.fadeOut(L(this,this.levelScreen)):(c.puzzle++,this.fadeOut(L(this,this.startGame)),this.menuLoop.volume.animateTo(0,0.3));break;case "REPLAY":this.fadeOut(L(this,this.startGame)),this.menuLoop.volume.animateTo(0,0.3)}},gameOver:function(a){var b=this;"GAMEOVER"==a?(this.screen.$BF[20].stopGame(),this.playSound("RoTMNT_Game2_Stinger_v1"),
a=new S,a.run(new T([new E(2),new D(function(){null!=b.menuLoop&&b.menuLoop.volume.animateTo(b.musicVolume,0.5)})])),this.owner.add(a),this.overlay=(new e).add(new Le(this.screenWidth/2,this.screenHeight/2,L(this,this.levelEndCallback))),this.screen.addChild(this.overlay),a=new e,f.createImageSprite(this.screen,a,"screens/HUD_coin_bank",!1,10,5),f.alignLeft(a),ca.spawn(a,0.6,0.3,0.3),this.coinsText=new e,f.createTextSprite(a,this.coinsText,c.hudFontNum,"Center",110,25,v.string(c.purse))):"ENDHELP"==
a&&this.pauseBtn.$BF[1].alpha.animateTo(1,0.3)},winScreen:function(){var a=this;this.inPlay=!1;this.screen=(new e).add(new J(394758,960,560));m.root.addChild(this.screen);this.getScreenSize();var b=new e;f.createImageSprite(this.screen,b,"win/background",!1,-((1336-this.screenWidth)/2),this.screenHeight-768);b=new e;f.createImageSprite(this.screen,b,"win/turtles_shadow",!0,this.screenWidth/2+50,this.screenHeight-115);var d=(new e).add(new M("screens/gameover","raphWin",230,42));b.addChild(d);d=(new e).add(new M("screens/gameover",
"leoWin",545,68));b.addChild(d);d=(new e).add(new M("screens/gameover","donnieWin",105,65));b.addChild(d);d=(new e).add(new M("screens/gameover","mikeyWin",370,76));b.addChild(d);var k=new e;f.createImageSprite(this.screen,k,"win/spotlight_large",!0,this.screenWidth/2-500,this.screenHeight-500);var g=new e;f.createImageSprite(this.screen,g,"win/spotlight_small",!0,this.screenWidth/2+500,this.screenHeight-250);b=new S;b.run(new wb(new T([new D(function(){k.$BF[1].x.animateTo(a.screenWidth/2+500,3,
ba.sineInOut);k.$BF[1].y.animateTo(a.screenHeight-100,1.5,ba.sineOut)}),new E(1.5),new D(function(){k.$BF[1].y.animateTo(a.screenHeight-500,1.5,ba.sineIn)}),new E(2),new D(function(){k.$BF[1].x.animateTo(a.screenWidth/2-500,3,ba.sineInOut);k.$BF[1].y.animateTo(a.screenHeight-100,1.5,ba.sineOut)}),new E(1.5),new D(function(){k.$BF[1].y.animateTo(a.screenHeight-500,1.5,ba.sineIn)}),new E(2)])));k.add(b);b=new S;b.run(new wb(new T([new D(function(){g.$BF[1].x.animateTo(a.screenWidth/2-500,4,ba.sineInOut);
g.$BF[1].y.animateTo(a.screenHeight-100,2,ba.sineOut)}),new E(2),new D(function(){g.$BF[1].y.animateTo(a.screenHeight-250,2,ba.sineIn)}),new E(2.5),new D(function(){g.$BF[1].x.animateTo(a.screenWidth/2+500,4,ba.sineInOut);g.$BF[1].y.animateTo(a.screenHeight-100,2,ba.sineOut)}),new E(2),new D(function(){g.$BF[1].y.animateTo(a.screenHeight-500,2,ba.sineIn)}),new E(2.5)])));g.add(b);b=new e;f.createImageSprite(this.screen,b,"win/foreground",!1,-((1336-this.screenWidth)/2),this.screenHeight-322);b=(new e).add(new Me(this.screenWidth/
2,this.screenHeight,L(this,this.winCallback)));this.screen.addChild(b);b=new e;f.createImageSprite(this.screen,b,"screens/header_frame",!0,this.screenWidth/2,35);b=new e;f.createXMLSprite(this.screen,b,c.bodyFont,"Center",this.screenWidth/2,30,c.translations.node.resolve("gameComplete"));c.vo||(b=b.$BF[1].y,b.set__(b.$hF-8));b=new e;f.createImageSprite(this.screen,b,"screens/HUD_coin_bank",!1,10,5);f.alignLeft(b);this.coinsText=new e;f.createTextSprite(b,this.coinsText,c.hudFontNum,"Center",110,25,
v.string(c.purse));this.homeBtn=new e;f.createImageSprite(this.screen,this.homeBtn,"buttons/BTN_next",!0,this.screenWidth-60,60);f.alignRight(this.homeBtn);this.gameState="WIN";this.fadeIn()},winCallback:function(){},startGame:function(){this.score=0;this.screen=(new e).add(new J(16777215,c.staticWidth,c.staticHeight));m.root.addChild(this.screen);this.getScreenSize();this.screen.add(new Ne(this.screenWidth,this.screenHeight,L(this,this.gameOver)));this.pauseBtn=new e;f.createImageSprite(this.screen,
this.pauseBtn,"buttons/BTN_pause",!0,this.screenWidth-55,55);f.alignRight(this.pauseBtn);this.pauseBtn.$BF[1].alpha.set__(0);this.screen2=new e;f.createImageSprite(m.root,this.screen2,"blankScreen",!1,0,0);this.screen2.$BF[1].set_pointerEnabled(!1);this.gameState="GAME";this.inPlay=!0;this.fadeIn();c.showFPS&&m.root.addChild((new e).add(new O(this.status_font)).add(new zd));c.testMode&&f.addDebugSpeedAdjuster(m.root)},onUpdate:function(a){m.hidden.$hF?(f.mute(!0),c.active=!1):c.active||(f.mute(!1),
c.active=!0)},handleTouchDown:function(a){},handleTouchMove:function(a){},handleTouchUp:function(a){this.audioEnabled||(c.pack.getSound("audio/blank").play(),this.audioEnabled=!0)},keyDownHandler:function(a){c.testMode&&(a.key==g.Numpad0?this.screen.$BF[1].setScale(this.screen.$BF[1].scaleX.$hF-0.1):a.key==g.Numpad1?this.screen.$BF[1].setScale(this.screen.$BF[1].scaleX.$hF+0.1):a.key==g.Numpad8?(a=this.screen.$BF[1].y,a.set__(a.$hF-10)):a.key==g.Numpad2?(a=this.screen.$BF[1].y,a.set__(a.$hF+10)):
a.key==g.Numpad4?(a=this.screen.$BF[1].x,a.set__(a.$hF-10)):a.key==g.Numpad6?(a=this.screen.$BF[1].x,a.set__(a.$hF+10)):a.key==g.M?this.fadeOut(L(this,this.winScreen)):a.key==g.H&&(c.purse=500))},keyUpHandler:function(a){},pauseGame:function(a,b){if(a){this.gameState="PAUSED";this.screen.add(new lb(0));this.pausedFade=(new e).add(new J(0,this.screenWidth+600,this.screenHeight));this.screen.addChild(this.pausedFade);this.pausedFade.$BF[1].alpha.set__(0.6);var c=this.pausedFade.$BF[1].x;c.set__(c.$hF-
300);this.pauseMenu=(new e).add(new Oe(this.screenWidth/2,this.screenHeight/2,L(this,this.closePauseMenu)));this.screen2.addChild(this.pauseMenu);this.pauseBtn.$BF[1].alpha.set__(0.5);this.screen2.$BF[1].set_pointerEnabled(!0);this.onResize()}},closePauseMenu:function(a){a?(this.fadeOut(L(this,this.homeScreen)),this.screen.add(new lb(1)),this.screen.$BF[20].stopGame(),this.screen2.dispose()):(this.gameState="GAME",this.screen.add(new lb(1)),this.pausedFade.dispose(),this.pauseMenu.dispose(),this.screen2.$BF[1].set_pointerEnabled(!1),
this.pauseBtn.$BF[1].alpha.set__(1),this.pauseBtn.$BF[1].scaleX.set__(1),this.pauseBtn.$BF[1].scaleY.set__(1))},fadeIn:function(){var a=(new e).add(new J(this.transitionColour,5E3,5E3));this.screen.addChild(a);a.$BF[1].alpha.set__(1);a.$BF[1].set_pointerEnabled(!1);a.$BF[1].centerAnchor();a.$BF[1].setXY(this.screenWidth/2,this.screenHeight/2);var b=new S;b.run(new T([new Pa(a.$BF[1].alpha,0,this.transitionTime),new D(function(){a.dispose()})]));a.add(b);this.onResize()},fadeOut:function(a){var b=
this,c=(new e).add(new J(this.transitionColour,5E3,5E3));this.screen.addChild(c);c.$BF[1].alpha.set__(0);c.$BF[1].centerAnchor();c.$BF[1].setXY(this.screenWidth/2,this.screenHeight/2);var f=new S;f.run(new T([new Pa(c.$BF[1].alpha,1,this.transitionTime),new D(function(){b.screen.dispose();a()})]));c.add(f)},onResize:function(){if(null!=this.screen){c.resizeScreen=!0;!c.isMobile&&667!=m.$2F.$MF.get_width()&&900<m.$2F.$MF.get_width()&&(c.resizeScreen=!1);939<m.$2F.$MF.get_width()&&1140>m.$2F.$MF.get_width()&&
(c.resizeScreen=!1);939<m.$2F.$MF.get_height()&&1140>m.$2F.$MF.get_height()&&(c.resizeScreen=!1);if(1336<m.$2F.$MF.get_width()||960>m.$2F.$MF.get_width())c.resizeScreen=!0;2<m.$2F.$MF.get_width()/m.$2F.$MF.get_height()&&(c.resizeScreen=!1);if(c.alwaysResize||2048<m.$2F.$MF.get_width()||768<m.$2F.$MF.get_height())c.resizeScreen=!0;var a=!1;812==m.$2F.$MF.get_width()&&375==m.$2F.$MF.get_height()?(a=c.resizeScreen=!0,this.debugText="iPhone X"):375==m.$2F.$MF.get_width()&&812==m.$2F.$MF.get_height()?
(a=c.resizeScreen=!0,this.debugText="iPhone X"):975==m.$2F.$MF.get_width()&&2172==m.$2F.$MF.get_height()?(a=c.resizeScreen=!0,this.debugText="iPhone X with address bar"):2172==m.$2F.$MF.get_width()&&975==m.$2F.$MF.get_height()&&(a=c.resizeScreen=!0,this.debugText="iPhone X with address bar");2048==m.$2F.$MF.get_width()&&1536>=m.$2F.$MF.get_height()&&(c.staticWidth=m.$2F.$MF.get_width()/2|0,c.staticHeight=m.$2F.$MF.get_height()/2|0);if(c.resizeScreen){1920==(m.$2F.$MF.get_width()|0)&&1120==(m.$2F.$MF.get_height()|
0)&&(c.staticHeight=560);var b=c.staticWidth,d=c.staticHeight,e=m.$2F.$MF.get_width()/b,f=m.$2F.$MF.get_height()/d;c.scale=e<f?e:f;this.screen.$BF[1].setScale(c.scale).setXY((m.$2F.$MF.get_width()-b*c.scale)/2,(m.$2F.$MF.get_height()-d*c.scale)/2);a&&(e=this.screen.$BF[1].scaleX,e.set__(1.05*e.$hF),e=this.screen.$BF[1].x,e.set__(e.$hF-19.2));null!=this.screen2&&null!=this.screen2.$BF[1]&&(this.screen2.$BF[1].setScale(c.scale).setXY((m.$2F.$MF.get_width()-b*c.scale)/2,(m.$2F.$MF.get_height()-d*c.scale)/
2),a&&(e=this.screen2.$BF[1].scaleX,e.set__(1.05*e.$hF),e=this.screen2.$BF[1].x,e.set__(e.$hF-19.2)));m.$2F.$MF.get_width()>m.$2F.$MF.get_height()?(c.offsetX=m.$2F.$MF.get_width()/c.scale-b|0,c.offsetY=m.$2F.$MF.get_height()/c.scale-d|0,a&&(c.offsetX=m.$2F.$MF.get_width()/(1.05*c.scale)-b|0)):(c.offsetX=m.$2F.$MF.get_height()/c.scale-d|0,c.offsetY=m.$2F.$MF.get_width()/c.scale-b|0,a&&(c.offsetX=m.$2F.$MF.get_height()/(1.05*c.scale)-d|0))}else c.scale=1,c.offsetX=0,c.offsetY=0}},getScreenSize:function(){if(c.resizeScreen)this.screenWidth=
c.staticWidth,this.screenHeight=c.staticHeight;else if(this.screenWidth=m.$2F.$MF.get_width(),this.screenHeight=m.$2F.$MF.get_height(),this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;this.screenHeight=a}},playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},loadLevel:function(){var a=this;if(c.area==c.loaded)c.gamePackReady=!0;else{c.gamePackReady=!1;null!=c.gamePack&&c.gamePack.dispose();this.loadFill=new e;f.createFillSprite(m.root,this.loadFill,
0,!0,this.screenWidth/2,this.screenHeight/2,3E3,3E3,0);this.loadFrame=new e;f.createImageSprite(m.root,this.loadFrame,"screens/percentage_bg",!0,this.screenWidth/2,this.screenHeight/2);this.loadFrame.$BF[1].alpha.set__(0);this.loadText=new e;f.createTextSprite(m.root,this.loadText,c.loaderFont,"Center",this.screenWidth/2,this.screenHeight/2-19,"0%");this.loadText.$BF[1].alpha.set__(0);var b=Ma.fromAssets(c.area);this.loader=m.$2F.loadAssetPack(b);this.loader.success.connect(function(b){c.gamePack=
b;c.loaded=c.area;c.gamePackReady=!0;c.levelReady?(a.loadFill.dispose(),a.loadFrame.dispose(),a.loadText.dispose(),a.fadeOut(L(a,a.startGame)),a.menuLoop.volume.animateTo(0,0.3)):c.gamePackReady=!0});this.loader.catchError(function(a){});this.loader.progressChanged.connect(function(){if(0<a.loader.$QT){var b=a.loader.$PT/a.loader.$QT;1<b&&(b=1);0==a.loader.$PT&&(b=0);var b=100*b|0,c=a.loadText.$BF[1];null!=(c instanceof O?c:null)&&(c=a.loadText.$BF[1],(c instanceof O?c:null).set_text((null==b?"null":
""+b)+"%"))}})}},__class__:Ke});var Yb=function(a,b,c){this.active=!1;y.call(this);this.x=a|0;this.y=b|0;this.callback=c};l["project.HelpScreen"]=Yb;Yb.__name__=["project","HelpScreen"];Yb.__super__=y;Yb.prototype=t(y.prototype,{get_entitySlot:function(){return 17},onAdded:function(){var a=this;this.owner.add(new Z(c.pack.getTexture("blank")));this.thisSprite=this.owner.$BF[1];this.thisSprite.setXY(this.x,this.y);this.fade=new e;f.createFillSprite(this.owner,this.fade,0,!0,0,0,5E3,8E3,0);this.fade.$BF[1].alpha.animateTo(0.5,
0.3);this.arm1=(new e).add(new M("screens/splinter","arm1",140,580));this.owner.addChild(this.arm1);this.arm2=(new e).add(new M("screens/splinter","arm2_idle",140,580));this.owner.addChild(this.arm2);this.body=(new e).add(new M("screens/splinter","body",140,580));this.owner.addChild(this.body);this.head=(new e).add(new M("screens/splinter","head_idle",140,580));this.owner.addChild(this.head);this.bubble=(new e).add(new M("screens/splinter","bubble",140,-20));this.owner.addChild(this.bubble);0==c.helpStage?
(this.content=(new e).add(new M("screens/splinter","coinSave",130,-20)),this.turtle=new e,f.createImageSprite(this.owner,this.turtle,"blank",!1,0,0),c.vo?(this.text=(new e).add(new M("screens/splinter","coinSaveText",130,-15)),this.owner.addChild(this.text)):(this.text=new e,f.createXMLSprite(this.owner,this.text,c.hudFont,"Center",-290,-445,c.translations.node.resolve("collectCoins"))),c.helpStage=1):2==c.helpStage?(this.content=(new e).add(new M("screens/splinter","coinSpend",130,-20)),this.turtle=
new e,f.createImageSprite(this.owner,this.turtle,"blank",!1,0,0),this.text=new e,f.createImageSprite(this.owner,this.text,"blank",!1,0,0),c.helpStage=99):"lair"==c.area?(this.content=c.isMobile?(new e).add(new M("screens/splinter","mobile",130,-20)):(new e).add(new M("screens/splinter","desktop",130,-20)),this.turtle=(new e).add(new M("screens/splinter",c["char"],130,-20)),this.owner.addChild(this.turtle),c.vo?(this.text=c.isMobile?(new e).add(new M("screens/splinter","text_mobile",130,-15)):(new e).add(new M("screens/splinter",
"text_desktop",130,-15)),this.owner.addChild(this.text)):(this.text=new e,c.isMobile?f.createXMLSprite(this.owner,this.text,c.hudFont,"Center",-170,-490,c.translations.node.resolve("pressDrag")):f.createXMLSprite(this.owner,this.text,c.hudFont,"Center",-170,-490,c.translations.node.resolve("clickDrag")))):"roof"==c.area?(this.content=(new e).add(new M("screens/help_enemy",c["char"],130,-20)),this.turtle=new e,f.createImageSprite(this.owner,this.turtle,"blank",!1,0,0),this.text=new e,f.createImageSprite(this.owner,
this.text,"blank",!1,0,0)):"yard"==c.area&&(this.content=(new e).add(new M("screens/help_barrel",c["char"],130,-20)),this.turtle=new e,f.createImageSprite(this.owner,this.turtle,"blank",!1,0,0),this.text=new e,f.createImageSprite(this.owner,this.text,"blank",!1,0,0));this.owner.addChild(this.content);this.turtle.$BF[1].alpha.set__(0);this.content.$BF[1].alpha.set__(0);this.text.$BF[1].alpha.set__(0);this.bubble.$BF[1].alpha.set__(0);var b=new S;b.run(new T([new E(0.1),new D(function(){a.playSound("swoosh");
a.body.$BF[1].y.animateTo(-20,0.7);a.head.$BF[1].y.animateTo(-20,0.7);a.arm1.$BF[1].y.animateTo(-20,0.7);a.arm2.$BF[1].y.animateTo(-20,0.7)}),new E(1),new D(function(){a.head.$BF[19].loop("head");a.arm2.$BF[19].loop("arm2");a.closeBtn.$BF[1].alpha.animateTo(1,0.2);a.turtle.$BF[1].alpha.animateTo(1,0.2);a.bubble.$BF[1].alpha.animateTo(1,0.2);a.active=!0}),new E(0.2),new D(function(){a.content.$BF[1].alpha.set__(1);a.text.$BF[1].alpha.set__(1);a.content.$BF[19].gotoAndPlay(1);a.active=!0})]));this.owner.add(b);
this.closeBtn=new e;f.createImageSprite(this.owner,this.closeBtn,"buttons/BTN_close",!0,15,-460);ca.spawn(this.closeBtn,1.2,0.3,0.3);this.connect1(m.$2F.$KF.down,L(this,this.pointerDownHandler));this.connect1(m.$2F.$KF.move,L(this,this.pointerMoveHandler))},pointerDownHandler:function(a){var b=this;this.active&&a.hit==this.closeBtn.$BF[1]&&(this.active=!1,this.playSound("UI_click"),this.owner.$BF[1].set_pointerEnabled(!1),this.closeBtn.$BF[1].alpha.animateTo(0,0.2),this.turtle.$BF[1].alpha.animateTo(0,
0.2),this.content.$BF[1].alpha.set__(0),this.text.$BF[1].alpha.set__(0),this.bubble.$BF[1].alpha.animateTo(0,0.2),this.head.$BF[19].loop("head_idle"),this.arm2.$BF[19].loop("arm2_idle"),a=new S,a.run(new T([new E(0.3),new D(function(){b.playSound("swoosh");b.body.$BF[1].y.animateBy(600,0.7);b.head.$BF[1].y.animateBy(600,0.7);b.arm1.$BF[1].y.animateBy(600,0.7);b.arm2.$BF[1].y.animateBy(600,0.7)}),new E(0.7),new D(function(){b.fade.$BF[1].alpha.animateTo(0,0.3);b.callback()}),new E(0.3),new D(function(){b.owner.dispose()})])),
this.owner.add(a))},pointerMoveHandler:function(a){f.rolloverImage(this.closeBtn,"buttons/BTN_close","buttons/BTN_close_rollover",a)},playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},__class__:Yb});var Gb=function(a,b,c){this.active=!0;y.call(this);this.x=a|0;this.y=b|0;this.up=c};l["project.Jump"]=Gb;Gb.__name__=["project","Jump"];Gb.__super__=y;Gb.prototype=t(y.prototype,{get_entitySlot:function(){return 24},onAdded:function(){this.owner.add(new Z(c.pack.getTexture("blank")));
this.thisSprite=this.owner.$BF[1];this.thisSprite.setXY(this.x,this.y);this.jump=new e;"city"==c.area?f.createFillSprite(this.owner,this.jump,16776960,!0,0,0,40,180,c.debugAlpha):f.createFillSprite(this.owner,this.jump,16776960,!0,0,0,40,500,c.debugAlpha)},hit:function(){var a=this;if(this.active){this.active=!1;this.up=!this.up;var b=0.3;this.up&&(b=0.6);var d=new S;d.run(new T([new E(b),new D(function(){a.active=!0;"subway"==c.area&&(a.up=!0)})]));this.jump.add(d);return!0}return!1},__class__:Gb});
var Ne=function(a,b,d){this.platformGap=1793;this.coinMax=this.enemyMax=this.pizzaMax=this.trailX=this.trailY=0;this.shots=5;this.teleporting=this.trainRunning=!1;this.lastHit=0;this.levelHeight=500;this.levelWidth=2500;this.rolling=this.pointerDown=!1;this.depthSortFrames=5;this.knockedDown=!1;this.controlsActive=!0;y.call(this);this.screenWidth=a;this.screenHeight=b;this.gameOverCallback=d;c.won=!0;if("lair"==c.area)switch(c.puzzle){case 1:this.coinMax=c.level11coinsMax;this.enemyMax=c.level11enemiesMax;
this.shots=c.level11shots;break;case 2:this.coinMax=c.level12coinsMax;this.enemyMax=c.level12enemiesMax;this.shots=c.level12shots;break;case 3:this.coinMax=c.level13coinsMax;this.enemyMax=c.level13enemiesMax;this.shots=c.level13shots;break;case 4:this.coinMax=c.level14coinsMax;this.enemyMax=c.level14enemiesMax;this.shots=c.level14shots;break;case 5:this.coinMax=c.level15coinsMax,this.enemyMax=c.level15enemiesMax,this.shots=c.level15shots}else if("yard"==c.area)switch(c.puzzle){case 1:this.coinMax=
c.level21coinsMax;this.enemyMax=c.level21enemiesMax;this.shots=c.level21shots;this.pizzaMax=c.level21pizzaMax;break;case 2:this.coinMax=c.level22coinsMax;this.enemyMax=c.level22enemiesMax;this.shots=c.level22shots;this.pizzaMax=c.level22pizzaMax;break;case 3:this.coinMax=c.level23coinsMax;this.enemyMax=c.level23enemiesMax;this.shots=c.level23shots;this.pizzaMax=c.level23pizzaMax;break;case 4:this.coinMax=c.level24coinsMax;this.enemyMax=c.level24enemiesMax;this.shots=c.level24shots;this.pizzaMax=c.level24pizzaMax;
break;case 5:this.coinMax=c.level25coinsMax,this.enemyMax=c.level25enemiesMax,this.shots=c.level25shots,this.pizzaMax=c.level25pizzaMax}else if("roof"==c.area)switch(c.puzzle){case 1:this.coinMax=c.level31coinsMax;this.enemyMax=c.level31enemiesMax;this.shots=c.level31shots;break;case 2:this.coinMax=c.level32coinsMax;this.enemyMax=c.level32enemiesMax;this.shots=c.level32shots;break;case 3:this.coinMax=c.level33coinsMax;this.enemyMax=c.level33enemiesMax;this.shots=c.level33shots;break;case 4:this.coinMax=
c.level34coinsMax;this.enemyMax=c.level34enemiesMax;this.shots=c.level34shots;break;case 5:this.coinMax=c.level35coinsMax,this.enemyMax=c.level35enemiesMax,this.shots=c.level35shots}else if("subway"==c.area)switch(c.puzzle){case 1:this.coinMax=c.level41coinsMax;this.enemyMax=c.level41enemiesMax;this.pizzaMax=c.level41pizzaMax;this.shots=c.level41shots;break;case 2:this.coinMax=c.level42coinsMax;this.enemyMax=c.level42enemiesMax;this.pizzaMax=c.level42pizzaMax;this.shots=c.level42shots;break;case 3:this.coinMax=
c.level43coinsMax;this.enemyMax=c.level43enemiesMax;this.pizzaMax=c.level43pizzaMax;this.shots=c.level43shots;break;case 4:this.coinMax=c.level44coinsMax;this.enemyMax=c.level44enemiesMax;this.pizzaMax=c.level44pizzaMax;this.shots=c.level44shots;break;case 5:this.coinMax=c.level45coinsMax,this.enemyMax=c.level45enemiesMax,this.pizzaMax=c.level45pizzaMax,this.shots=c.level45shots}else if("city"==c.area)switch(c.puzzle){case 1:this.coinMax=c.level51coinsMax;this.enemyMax=c.level51enemiesMax;this.pizzaMax=
c.level51pizzaMax;this.shots=c.level51shots;break;case 2:this.coinMax=c.level52coinsMax;this.enemyMax=c.level52enemiesMax;this.pizzaMax=c.level52pizzaMax;this.shots=c.level52shots;break;case 3:this.coinMax=c.level53coinsMax;this.enemyMax=c.level53enemiesMax;this.pizzaMax=c.level53pizzaMax;this.shots=c.level53shots;break;case 4:this.coinMax=c.level54coinsMax;this.enemyMax=c.level54enemiesMax;this.pizzaMax=c.level54pizzaMax;this.shots=c.level54shots;break;case 5:this.coinMax=c.level55coinsMax,this.enemyMax=
c.level55enemiesMax,this.pizzaMax=c.level55pizzaMax,this.shots=c.level55shots}};l["project.Level"]=Ne;Ne.__name__=["project","Level"];Ne.__super__=y;Ne.prototype=t(y.prototype,{get_entitySlot:function(){return 20},onAdded:function(){this.startGame();switch(c.area){case "city":this.musicLoop=c.pack.getSound("audio/RoTMNT_Game2_HiddenCity").loop();this.ambience=c.pack.getSound("audio/hidden_city_ambience").loop();this.ambience.volume.set__(0);this.ambience.volume.animateTo(0.6,0.5);1<c.puzzle&&(this.gateLoop=
c.pack.getSound("audio/hidden_city_ambience").loop(),this.gateLoop.volume.set__(0),this.gateLoop.volume.animateTo(1,0.5));break;case "lair":this.musicLoop=c.pack.getSound("audio/RoTMNT_Game2_Lair_v1").loop();break;case "roof":this.musicLoop=c.pack.getSound("audio/RoTMNT_Game2_Rooftops_v1").loop();this.ambience=c.pack.getSound("audio/rooftop_ambience_loop").loop();this.ambience.volume.set__(0);this.ambience.volume.animateTo(0.6,0.5);break;case "subway":this.musicLoop=c.pack.getSound("audio/RoTMNT_Game2_Subway_v1").loop();
this.trainLoop=c.pack.getSound("audio/subway_car_pass").loop();this.trainLoop.volume.set__(0);break;case "yard":this.musicLoop=c.pack.getSound("audio/RoTMNT_Game2_SalvageYard_v1").loop()}this.musicLoop.volume.set__(0);this.musicLoop.volume.animateTo(0.6,0.5)},stopGame:function(){this.inPlay=!1;c.shots=this.shots;c.levelCoins=this.coins;c.purse+=this.coins;c.coins+=this.coins;c.kills=this.kills;c.pizza=this.pizza;this.musicLoop.dispose();null!=this.ambience&&this.ambience.dispose();null!=this.trainLoop&&
this.trainLoop.dispose();null!=this.gateLoop&&this.gateLoop.dispose()},startGame:function(){var a=this;this.zsort=[];this.overlays=[];this.jumps=[];this.objects=[];this.box2d=new oe;m.root.add(this.box2d);this.box2d.setGravity(0,0);this.pizza=this.kills=this.coins=this.score=0;this.screen=(new e).add(new J(16777215,c.staticWidth,c.staticHeight));this.owner.addChild(this.screen);var b=new e;f.createFillSprite(this.screen,b,0,!0,this.screenWidth/2,this.screenHeight/2,2E3,2E3,1);"roof"==c.area&&(this.background=
new e,f.createImageSprite(this.screen,this.background,"background",!1,-20,this.screenHeight-1165,"GAME"),f.alignLeft(this.background));this.game=new e;f.createImageSprite(this.screen,this.game,"blank",!1,-c.offsetX/2,this.screenHeight/2-this.levelHeight/2);f.alignLeft(this.game);switch(c.area){case "city":var d=new e;f.createPatternSprite(this.game,d,"lava",!1,-500,-500,this.levelWidth+5E3,this.levelHeight+1E3,1,"GAME");this.platform1=new e;f.createImageSprite(this.game,this.platform1,"platform",
!1,-50,-220,"GAME");var k=new e;f.createImageSprite(this.platform1,k,"floating_rocks_shadow",!0,820,180,"GAME");var g=new e;f.createImageSprite(this.platform1,g,"floating_rocks",!0,820,120,"GAME");f.pulseUpDown(g,15,2);var l=new e;f.createImageSprite(this.platform1,l,"floating_rocks_shadow",!0,1690,280,"GAME");var q=new e;f.createImageSprite(this.platform1,q,"floating_rocks",!0,1690,210,"GAME");f.pulseUpDown(q,16,2.2);var p=new e;f.createImageSprite(this.platform1,p,"floating_rocks_shadow",!0,1750,
830,"GAME");var r=new e;f.createImageSprite(this.platform1,r,"floating_rocks",!0,1750,760,"GAME");f.pulseUpDown(r,16,2);var s=new e;f.createImageSprite(this.platform1,s,"balloons",!1,790+f.randomNumber(-50,100),170,"GAME");var t=new e;f.createImageSprite(this.game,t,"pillar_small",!0,1822-this.platformGap,417,"GAME");this.zsort.push(t);var u=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));t.addChild(u);var w=new e;f.createImageSprite(this.game,w,"pillar_small",!0,1822-this.platformGap,152,
"GAME");var y=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));w.addChild(y);var A=(new e).add(new M("gates","flameLarge",580,124,c.gamePack));this.platform1.addChild(A);var z=new e;f.createImageSprite(this.game,z,"pillar_small",!0,800,512,"GAME");this.zsort.push(z);var x=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));z.addChild(x);var B=new e;f.createImageSprite(this.game,B,"pillar_small",!0,1448,417,"GAME");this.zsort.push(B);var F=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));
B.addChild(F);var I=new e;f.createImageSprite(this.game,I,"pillar_small",!0,1448,152,"GAME");var K=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));I.addChild(K);this.platform2=new e;f.createImageSprite(this.game,this.platform2,"platform",!1,-50+this.platformGap,-220,"GAME");var N=new e;f.createImageSprite(this.platform2,N,"floating_rocks_shadow",!0,850,160,"GAME");var O=new e;f.createImageSprite(this.platform2,O,"floating_rocks",!0,850,100,"GAME");f.pulseUpDown(O,15,2);var P=new e;f.createImageSprite(this.platform2,
P,"floating_rocks_shadow",!0,1650,280,"GAME");var Q=new e;f.createImageSprite(this.platform2,Q,"floating_rocks",!0,1650,210,"GAME");f.pulseUpDown(Q,16,2.2);if(3>c.puzzle){var U=P.$BF[1].x;U.set__(U.$hF+60);var V=Q.$BF[1].x;V.set__(V.$hF+60);var Y=new e;f.createImageSprite(this.platform2,Y,"floating_rocks_shadow",!0,1850,580,"GAME");var $=new e;f.createImageSprite(this.platform2,$,"floating_rocks",!0,1850,510,"GAME");f.pulseUpDown($,16,2)}var ba=new e;f.createImageSprite(this.platform2,ba,"balloons",
!1,750,170,"GAME");var da=new e;f.createImageSprite(this.platform2,da,"balloons",!1,900,170,"GAME");var ca=new e;f.createImageSprite(this.game,ca,"pillar_small",!0,1822,417,"GAME");this.zsort.push(ca);var ea=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));ca.addChild(ea);var fa=new e;f.createImageSprite(this.game,fa,"pillar_small",!0,1822,152,"GAME");var ja=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));fa.addChild(ja);var ka=(new e).add(new M("gates","flameLarge",580,124,c.gamePack));
this.platform2.addChild(ka);var la=new e;f.createImageSprite(this.game,la,"bridge",!1,1385,170,"GAME");var ga=new e;f.createImageSprite(this.game,ga,"pillar_small",!0,800+this.platformGap,512,"GAME");this.zsort.push(ga);var ma=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));ga.addChild(ma);var na=new e;f.createImageSprite(this.game,na,"pillar_small",!0,1448+this.platformGap,417,"GAME");this.zsort.push(na);var pa=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));na.addChild(pa);var oa=
new e;f.createImageSprite(this.game,oa,"pillar_small",!0,1448+this.platformGap,152,"GAME");var ta=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));oa.addChild(ta);var va=(new e).add(new M("gates","flameLarge",580,124,c.gamePack));this.platform2.addChild(va);if(2<c.puzzle){this.platform3=new e;f.createImageSprite(this.game,this.platform3,"platform",!1,-50+2*this.platformGap,-220,"GAME");var wa=new e;f.createImageSprite(this.platform3,wa,"floating_rocks_shadow",!0,920,160,"GAME");var qa=new e;
f.createImageSprite(this.platform3,qa,"floating_rocks",!0,920,100,"GAME");f.pulseUpDown(qa,15,2);var ya=new e;f.createImageSprite(this.platform3,ya,"floating_rocks_shadow",!0,1650,280,"GAME");var ua=new e;f.createImageSprite(this.platform3,ua,"floating_rocks",!0,1650,210,"GAME");f.pulseUpDown(ua,16,2.2);var za=new e;f.createImageSprite(this.platform3,za,"balloons",!1,900,170,"GAME");var sa=new e;f.createImageSprite(this.game,sa,"pillar_small",!0,1822+this.platformGap,417,"GAME");this.zsort.push(sa);
var Ba=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));sa.addChild(Ba);var Aa=new e;f.createImageSprite(this.game,Aa,"pillar_small",!0,1822+this.platformGap,152,"GAME");var Ca=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));Aa.addChild(Ca);var Da=(new e).add(new M("gates","flameLarge",580,124,c.gamePack));this.platform3.addChild(Da);var Ea=new e;f.createImageSprite(this.game,Ea,"bridge",!1,1385+this.platformGap,170,"GAME");var Ga=(new e).add(new M("gates","flameLarge",580+2*this.platformGap,
124,c.gamePack));this.platform1.addChild(Ga);var Fa=new e;f.createImageSprite(this.game,Fa,"pillar_small",!0,800+2*this.platformGap,512,"GAME");this.zsort.push(Fa);var Ka=(new e).add(new M("gates","flameSmall",21,7,c.gamePack));Fa.addChild(Ka)}this.scrollMinY=this.game.$BF[1].y.$hF-800|0;this.scrollMaxY=this.game.$BF[1].y.$hF|0;break;case "lair":var La=new e;f.createImageSprite(this.game,La,"background",!1,-150,-200,"GAME");this.levelWidth=1640;this.game.$BF[1].y.set__(this.screenHeight-570);break;
case "roof":this.game.$BF[1].y.set__(this.screenHeight-482);var ia=new e;f.createImageSprite(this.game,ia,"roof1",!1,30,0,"GAME");var Na=new e;f.createImageSprite(ia,Na,"roof2",!1,1850,0,"GAME");if(2<c.puzzle){var Oa=new e;f.createImageSprite(ia,Oa,"roof3",!1,3750,0,"GAME")}var ha=new e;f.createImageSprite(ia,ha,"ramps2",!1,1440,-15,"GAME");var Ma=(new e).add(new Gb(ia.$BF[1].x.$hF+ha.$BF[1].x.$hF+55,ia.$BF[1].y.$hF+ha.$BF[1].y.$hF+200,!0));this.game.addChild(Ma);this.jumps.push(Ma);ha=new e;f.createImageSprite(ia,
ha,"ramps",!1,2005,-15,"GAME");ha.$BF[1].scaleX.set__(-1);var Pa=(new e).add(new Gb(ia.$BF[1].x.$hF+ha.$BF[1].x.$hF-55,ia.$BF[1].y.$hF+ha.$BF[1].y.$hF+200,!1));this.game.addChild(Pa);this.jumps.push(Pa);if(2<c.puzzle){ha=new e;f.createImageSprite(ia,ha,"ramps",!1,3320,-15,"GAME");var Qa=(new e).add(new Gb(ia.$BF[1].x.$hF+ha.$BF[1].x.$hF+55,ia.$BF[1].y.$hF+ha.$BF[1].y.$hF+200,!0));this.game.addChild(Qa);this.jumps.push(Qa);ha=new e;f.createImageSprite(ia,ha,"ramps2",!1,3905,-15,"GAME");ha.$BF[1].scaleX.set__(-1);
var Ta=(new e).add(new Gb(ia.$BF[1].x.$hF+ha.$BF[1].x.$hF-55,ia.$BF[1].y.$hF+ha.$BF[1].y.$hF+200,!1));this.game.addChild(Ta);this.jumps.push(Ta)}this.levelWidth=5400;this.levelHeight=350;break;case "subway":var Ja=new e;f.createImageSprite(this.game,Ja,"background",!1,-150,-200,"GAME");Ja=new e;f.createImageSprite(this.game,Ja,"background",!1,3873,-200,"GAME");Ja.$BF[1].scaleX.set__(-1);var Ha=new e;f.createImageSprite(this.game,Ha,"tracks",!1,-150,200,"GAME");Ha=new e;f.createImageSprite(this.game,
Ha,"tracks",!1,1246,200,"GAME");Ha=new e;f.createImageSprite(this.game,Ha,"tracks",!1,2642,200,"GAME");this.trainEnt=new e;f.createImageSprite(this.game,this.trainEnt,"subway_car",!1,1600,-40,"GAME");this.trainEnt.$BF[1].x.set__(8E3);this.trainEnt.$BF[1].x.animateTo(-1E3,15);var Ua=new S;Ua.run(new wb(new T([new E(20),new D(function(){a.trainEnt.$BF[1].x.set__(8E3);a.trainEnt.$BF[1].x.animateTo(-1E3,15)})])));this.trainEnt.add(Ua);this.trainRunning=!0;this.levelWidth=3930;this.levelHeight+=75;this.scrollMax+=
1240;this.game.$BF[1].y.set__(this.screenHeight-570);break;case "yard":var cb=new e;f.createPatternSprite(this.game,cb,"ground",!1,-500,-500,this.levelWidth+1E3,this.levelHeight+1E3,1,"GAME");if(700>this.screenHeight){var Wa=this.game.$BF[1].y;Wa.set__(Wa.$hF+50)}}this.scrollMin=-100+c.offsetX/2|0;this.scrollMax=this.levelWidth-(this.screenWidth|0)+100-c.offsetX/2|0;"subway"==c.area&&(this.scrollMax-=160);this.trail=new e;f.createImageSprite(this.game,this.trail,"blank",!1,0,0);this.arrow=(new e).add(new Je(0,
0));this.game.addChild(this.arrow);this.arrow.$BF[1].set_visible(!1);switch(c.area){case "city":this.addCityPlatform(0,!0,!1);3>c.puzzle?this.addCityPlatform(this.platformGap,!1,!0):(this.addCityPlatform(this.platformGap,!1,!1),this.addCityPlatform(2*this.platformGap,!1,!0));switch(c.puzzle){case 1:this.addRocks(this.platform1,!0,-50);this.addRocks(this.platform2,!1);break;case 2:this.addRocks(this.platform1,!1);this.addGate(this.platform1,!0);this.addGate(this.platform2,!1);break;case 3:this.addRocks(this.platform1,
!1);this.addRocks(this.platform3,!0,-100);this.addGate(this.platform2,!0);this.addGate(this.platform2,!1);break;case 4:this.addGate(this.platform1,!1);this.addGate(this.platform2,!1);this.addGate(this.platform3,!0);this.addGate(this.platform3,!1);break;case 5:this.addGate(this.platform1,!0),this.addGate(this.platform1,!1),this.addGate(this.platform3,!0)}this.downlight=new e;f.createImageSprite(this.game,this.downlight,"blank",!1,-30,100);f.pulseAlpha(this.downlight,0.7,0.6);var Ia=new e;f.createImageSprite(this.downlight,
Ia,"light_overlay",!1,0,-300,"GAME");Ia=new e;f.createImageSprite(this.downlight,Ia,"light_overlay",!1,this.platformGap,-300,"GAME");Ia=new e;f.createImageSprite(this.downlight,Ia,"light_overlay",!1,2*this.platformGap,-300,"GAME");this.scrollMax+=5E3;break;case "lair":var ra=(new J(c.colliderColour,20,this.levelHeight)).setXY(35,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha),xa=this.box2d.createRectangle(ra);xa.body.setType(0);this.game.addChild((new e).add(ra).add(xa));ra=(new J(c.colliderColour,
20,this.levelHeight)).setXY(this.levelWidth-80,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha);xa=this.box2d.createRectangle(ra);xa.body.setType(0);this.game.addChild((new e).add(ra).add(xa));ra=(new J(c.colliderColour,this.levelWidth,20)).setXY(this.levelWidth/2,135).centerAnchor().setAlpha(c.debugAlpha);xa=this.box2d.createRectangle(ra);xa.body.setType(0);this.game.addChild((new e).add(ra).add(xa));ra=(new J(c.colliderColour,this.levelWidth,20)).setXY(this.levelWidth/2,this.levelHeight+
5).centerAnchor().setAlpha(c.debugAlpha);xa=this.box2d.createRectangle(ra);xa.body.setType(0);this.game.addChild((new e).add(ra).add(xa));this.downlight=new e;f.createImageSprite(this.game,this.downlight,"downlight",!1,500,-300,"GAME");f.pulseAlpha(this.downlight,0.7,0.6);this.lights=new e;f.createImageSprite(this.screen,this.lights,"lighting",!1,this.game.$BF[1].x.$hF-100,this.game.$BF[1].y.$hF-200,"GAME");break;case "roof":var hb=(new J(c.colliderColour,20,this.levelHeight+200)).setXY(45,this.levelHeight/
2).centerAnchor().setAlpha(c.debugAlpha),Va=this.box2d.createRectangle(hb);Va.body.setType(0);this.game.addChild((new e).add(hb).add(Va));hb=(new J(c.colliderColour,20,this.levelHeight+200)).setXY(this.levelWidth-175,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha);Va=this.box2d.createRectangle(hb);Va.body.setType(0);this.game.addChild((new e).add(hb).add(Va));hb=(new J(c.colliderColour,this.levelWidth,20)).setXY(this.levelWidth/2,40).centerAnchor().setAlpha(c.debugAlpha);Va=this.box2d.createRectangle(hb);
Va.body.setType(0);Va.body.$4B=0;this.game.addChild((new e).add(hb).add(Va));hb=(new J(c.colliderColour,this.levelWidth,20)).setXY(this.levelWidth/2,this.levelHeight+85).centerAnchor().setAlpha(c.debugAlpha);Va=this.box2d.createRectangle(hb);Va.body.setType(0);Va.body.$4B=0;this.game.addChild((new e).add(hb).add(Va));if(1==c.puzzle||2==c.puzzle)hb=(new J(c.colliderColour,20,this.levelHeight+200)).setXY(3510,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha),Va=this.box2d.createRectangle(hb),
Va.body.setType(0),this.game.addChild((new e).add(hb).add(Va)),hb=(new J(c.colliderColour,20,this.levelHeight+200)).setXY(3800,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha),Va=this.box2d.createRectangle(hb),Va.body.setType(0),this.game.addChild((new e).add(hb).add(Va));this.scrollMin+=100;this.scrollMax-=250;break;case "subway":var aa=(new J(c.colliderColour,20,this.levelHeight)).setXY(-110,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha),W=this.box2d.createRectangle(aa);W.body.setType(0);
this.game.addChild((new e).add(aa).add(W));aa=(new J(c.colliderColour,20,this.levelHeight)).setXY(this.levelWidth-80,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.game.addChild((new e).add(aa).add(W));aa=(new J(c.colliderColour,1.1*this.levelWidth,20)).setXY(this.levelWidth/2,135).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.game.addChild((new e).add(aa).add(W));aa=(new J(c.colliderColour,
1.1*this.levelWidth,20)).setXY(this.levelWidth/2,this.levelHeight+5).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.game.addChild((new e).add(aa).add(W));switch(c.puzzle){case 1:var Sa=new e;f.createImageSprite(this.game,Sa,"ramps2",!1,640,240,"GAME");this.zsort.push(Sa);var db=(new e).add(new Gb(Sa.$BF[1].x.$hF+40,Sa.$BF[1].y.$hF+450,!0));this.game.addChild(db);this.jumps.push(db);aa=(new J(c.colliderColour,200,20)).setXY(775,280).centerAnchor().setAlpha(c.debugAlpha);
W=this.box2d.createRectangle(aa);W.body.setType(0);this.blockerRamp=W;this.game.addChild((new e).add(aa).add(W));var $a=new e;f.createImageSprite(this.game,$a,"blank",!0,900,260);this.zsort.push($a);var qb=new e;f.createImageSprite($a,qb,"subway_upturned2",!0,30,150,"GAME");this.carriageSprite=aa=(new J(c.colliderColour,280,470)).setXY(900,490).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.blockerCarriage=W;this.game.addChild((new e).add(aa).add(W));
this.blockerCarriage.body.setActive(!1);break;case 2:var Xa=new e;f.createImageSprite(this.game,Xa,"ramps2",!1,2040,240,"GAME");this.zsort.push(Xa);var jb=(new e).add(new Gb(Xa.$BF[1].x.$hF+40,Xa.$BF[1].y.$hF+450,!0));this.game.addChild(jb);this.jumps.push(jb);aa=(new J(c.colliderColour,200,20)).setXY(2175,280).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.blockerRamp=W;this.game.addChild((new e).add(aa).add(W));var fb=new e;f.createImageSprite(this.game,
fb,"blank",!0,2300,260);this.zsort.push(fb);var tb=new e;f.createImageSprite(fb,tb,"subway_upturned2",!0,30,150,"GAME");this.carriageSprite=aa=(new J(c.colliderColour,280,470)).setXY(2300,490).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.blockerCarriage=W;this.game.addChild((new e).add(aa).add(W));this.blockerCarriage.body.setActive(!1);break;case 3:var lb=new e;f.createImageSprite(this.game,lb,"blank",!0,2E3,260);this.zsort.push(lb);var Ab=new e;f.createImageSprite(lb,
Ab,"subway_upturned2",!0,30,150,"GAME");this.carriageSprite=aa=(new J(c.colliderColour,230,470)).setXY(2040,490).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.game.addChild((new e).add(aa).add(W));break;case 4:var ob=new e;f.createImageSprite(this.game,ob,"blank",!0,2500,260);this.zsort.push(ob);var Bb=new e;f.createImageSprite(ob,Bb,"subway_upturned2",!0,30,150,"GAME");this.carriageSprite=aa=(new J(c.colliderColour,230,470)).setXY(2540,490).centerAnchor().setAlpha(c.debugAlpha);
W=this.box2d.createRectangle(aa);W.body.setType(0);this.game.addChild((new e).add(aa).add(W));var gb=new e;f.createImageSprite(this.game,gb,"ramps2",!1,640,240,"GAME");this.zsort.push(gb);var zb=(new e).add(new Gb(gb.$BF[1].x.$hF+40,gb.$BF[1].y.$hF+450,!0));this.game.addChild(zb);this.jumps.push(zb);aa=(new J(c.colliderColour,200,20)).setXY(775,280).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.blockerRamp=W;this.game.addChild((new e).add(aa).add(W));
var sb=new e;f.createImageSprite(this.game,sb,"blank",!0,900,260);this.zsort.push(sb);var Eb=new e;f.createImageSprite(sb,Eb,"subway_upturned2",!0,30,150,"GAME");this.carriageSprite=aa=(new J(c.colliderColour,280,470)).setXY(900,490).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.blockerCarriage=W;this.game.addChild((new e).add(aa).add(W));this.blockerCarriage.body.setActive(!1);break;case 5:var pb=new e;f.createImageSprite(this.game,pb,"ramps2",!1,1240,
240,"GAME");this.zsort.push(pb);var Cb=(new e).add(new Gb(pb.$BF[1].x.$hF+40,pb.$BF[1].y.$hF+450,!0));this.game.addChild(Cb);this.jumps.push(Cb);aa=(new J(c.colliderColour,200,20)).setXY(1375,280).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.blockerRamp=W;this.game.addChild((new e).add(aa).add(W));var yb=new e;f.createImageSprite(this.game,yb,"blank",!0,1500,260);this.zsort.push(yb);var Ib=new e;f.createImageSprite(yb,Ib,"subway_upturned2",!0,30,150,
"GAME");this.carriageSprite=aa=(new J(c.colliderColour,280,470)).setXY(1500,490).centerAnchor().setAlpha(c.debugAlpha);W=this.box2d.createRectangle(aa);W.body.setType(0);this.blockerCarriage=W;this.game.addChild((new e).add(aa).add(W));this.blockerCarriage.body.setActive(!1)}this.trainSprite=(new J(c.colliderColour,710,150)).setXY(1970,150).centerAnchor().setAlpha(c.debugAlpha);this.train=this.box2d.createRectangle(this.trainSprite);this.train.body.$rB.$QC=0.5;this.train.body.$3B=0.5;this.train.body.$4B=
0.5;this.train.body.setType(0);this.game.addChild((new e).add(this.trainSprite).add(this.train));this.downlight=new e;f.createImageSprite(this.game,this.downlight,"blank",!1,0,0);var Ra=new e;f.createImageSprite(this.downlight,Ra,"light_green",!0,500,0,"GAME");f.pulseAlpha(Ra,0.7,0.6);Ra=new e;f.createImageSprite(this.downlight,Ra,"light_red",!0,2E3,0,"GAME");f.pulseAlpha(Ra,0.7,0.6);Ra=new e;f.createImageSprite(this.downlight,Ra,"light_green",!0,3200,0,"GAME");f.pulseAlpha(Ra,0.7,0.6);this.pillars=
new e;f.createImageSprite(this.screen,this.pillars,"blank",!1,0,this.screenHeight/2);this.pillars.$BF[1].set_visible(!1);var Jb=new e;f.createImageSprite(this.pillars,Jb,"foreground_beam_blue",!0,450,0,"GAME");var Kb=new e;f.createImageSprite(this.pillars,Kb,"foreground_beam_red",!0,1700,0,"GAME");var Lb=new e;f.createImageSprite(this.pillars,Lb,"foreground_beam_green",!0,2950,0,"GAME");var Mb=new e;f.createImageSprite(this.pillars,Mb,"foreground_beam_blue",!0,4200,0,"GAME");break;case "yard":var Wb=
(new J(c.colliderColour,20,this.levelHeight)).setXY(0,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha),Xb=this.box2d.createRectangle(Wb);Xb.body.setType(0);this.game.addChild((new e).add(Wb).add(Xb));Wb=(new J(c.colliderColour,20,this.levelHeight)).setXY(this.levelWidth,this.levelHeight/2).centerAnchor().setAlpha(c.debugAlpha);Xb=this.box2d.createRectangle(Wb);Xb.body.setType(0);this.game.addChild((new e).add(Wb).add(Xb));Wb=(new J(c.colliderColour,this.levelWidth,20)).setXY(this.levelWidth/
2,0).centerAnchor().setAlpha(c.debugAlpha);Xb=this.box2d.createRectangle(Wb);Xb.body.setType(0);this.game.addChild((new e).add(Wb).add(Xb));Wb=(new J(c.colliderColour,this.levelWidth,20)).setXY(this.levelWidth/2,this.levelHeight).centerAnchor().setAlpha(c.debugAlpha);Xb=this.box2d.createRectangle(Wb);Xb.body.setType(0);this.game.addChild((new e).add(Wb).add(Xb));var kb=new e;f.createImageSprite(this.game,kb,"shipping_container_1",!0,0,-120,"GAME");var xb=new e;f.createImageSprite(this.game,xb,"game/tire_triple",
!0,320,-70);var Ya=new e;f.createImageSprite(this.game,Ya,"car_single",!0,500,-100,"GAME");var Ob=new e;f.createImageSprite(this.game,Ob,"repo_sign",!0,820,-130,"GAME");Ya=new e;f.createImageSprite(this.game,Ya,"car_triple",!0,1250,-170,"GAME");Ya=new e;f.createImageSprite(this.game,Ya,"car_single",!0,1460,-100,"GAME");xb=new e;f.createImageSprite(this.game,xb,"game/tire_triple",!0,1650,-80);kb=new e;f.createImageSprite(this.game,kb,"shipping_container_1",!0,1870,-170,"GAME");Ya=new e;f.createImageSprite(this.game,
Ya,"car_double",!0,2200,-120,"GAME");kb=new e;f.createImageSprite(this.game,kb,"shipping_container_2",!0,2500,-150,"GAME");var mb=new e;f.createImageSprite(this.game,mb,"fence",!1,-200,-100,"GAME");mb=new e;f.createImageSprite(this.game,mb,"fence",!1,1017,-100,"GAME");mb=new e;f.createImageSprite(this.game,mb,"fence",!1,2234,-100,"GAME");var ib=new e;f.createImageSprite(this.game,ib,"car_triple",!1,this.levelWidth-10,-100,"GAME");ib=new e;f.createImageSprite(this.game,ib,"car_single",!1,this.levelWidth-
10,-30,"GAME");ib=new e;f.createImageSprite(this.game,ib,"car_double",!1,this.levelWidth-10,50,"GAME");ib=new e;f.createImageSprite(this.game,ib,"car_single",!1,this.levelWidth-10,180,"GAME");ib=new e;f.createImageSprite(this.game,ib,"car_double",!1,this.levelWidth-10,280,"GAME");var nb=new e;f.createImageSprite(this.game,nb,"shipping_container_2",!1,-335,-30,"GAME");nb=new e;f.createImageSprite(this.game,nb,"shipping_container_2",!1,-335,120,"GAME");nb=new e;f.createImageSprite(this.game,nb,"shipping_container_2",
!1,-335,270,"GAME");var ab=new e;f.createImageSprite(this.game,ab,"fence",!1,-200,this.levelHeight-75,"GAME");this.overlays.push(ab);ab=new e;f.createImageSprite(this.game,ab,"fence",!1,1017,this.levelHeight-75,"GAME");this.overlays.push(ab);ab=new e;f.createImageSprite(this.game,ab,"fence",!1,2234,this.levelHeight-75,"GAME");this.overlays.push(ab);ib=new e;f.createImageSprite(ab,ib,"car_triple",!0,330,90,"GAME");xb=new e;f.createImageSprite(ab,xb,"game/tire_triple",!0,-200,120);xb=new e;f.createImageSprite(ab,
xb,"game/tire_single",!0,-120,140);xb=new e;f.createImageSprite(ab,xb,"game/tire_triple",!0,-1800,120);xb=new e;f.createImageSprite(ab,xb,"game/tire_single",!0,-1700,140);xb=new e;f.createImageSprite(ab,xb,"game/tire_triple",!0,-1E3,120);xb=new e;f.createImageSprite(ab,xb,"game/tire_double",!0,-920,120);ib=new e;f.createImageSprite(ab,ib,"car_single",!0,-500,120,"GAME");ib=new e;f.createImageSprite(ab,ib,"car_single",!0,-2100,120,"GAME");ib=new e;f.createImageSprite(ab,ib,"car_double",!0,-2400,120,
"GAME")}this.ballSprite=(new Z(c.pack.getTexture("game/collider_"+c["char"]))).setXY(0.25*this.screenWidth,this.levelHeight/2+70).centerAnchor();this.ball=this.box2d.createCircle(this.ballSprite);this.ball.body.$rB.$QC=0.5;this.ball.body.$3B=0.5;this.ball.body.$4B=0.5;this.connect2(this.ball.get_postSolve(),L(this,this.postSolve));this.game.addChild((new e).add(this.ballSprite).add(this.ball));this.shadow=(new e).add(new M("game/"+c["char"],"shadow_idle",0,0));this.game.addChild(this.shadow);"raph"==
c["char"]&&this.shadow.$BF[1].setScale(1.3);this.player=(new e).add(new Pe(0,0,this.shadow));this.game.addChild(this.player);this.zsort.push(this.player);this.addObjects();this.foreground=new e;f.createImageSprite(this.screen,this.foreground,"blank",!1,0,this.screenHeight/2-this.levelHeight/2);var Za=new e;10>this.shots?f.createImageSprite(this.screen,Za,"hud/HUD_character_turns",!1,10,3):f.createImageSprite(this.screen,Za,"hud/HUD_character_turns_long",!1,10,3);f.alignLeft(Za);var Pb=new e;f.createImageSprite(Za,
Pb,"hud/icon_char_"+c["char"],!0,42,42);var vb=new e;f.createImageSprite(Za,vb,"screens/divider_line",!0,110,45);if(9<this.shots){var Fb=vb.$BF[1].x;Fb.set__(Fb.$hF+8)}this.shotsText=new e;f.createTextSprite(Za,this.shotsText,c.hudFontNum,"Right",vb.$BF[1].x.$hF-10,31,v.string(this.shots));var Qb=new e;f.createTextSprite(Za,Qb,c.hudFontNum,"Left",vb.$BF[1].x.$hF+10,31,v.string(this.shots));var bb=new e;f.createImageSprite(this.screen,bb,"hud/HUD_enemy",!1,177,5);f.alignLeft(bb);if(9<this.shots){var Hb=
bb.$BF[1].x;Hb.set__(Hb.$hF+20)}var Db=new e;f.createImageSprite(bb,Db,"screens/divider_line",!0,115,40);this.killsText=new e;f.createTextSprite(bb,this.killsText,c.hudFontNum,"Right",Db.$BF[1].x.$hF-10,26,v.string(this.kills));var Sb=new e;f.createTextSprite(bb,Sb,c.hudFontNum,"Left",Db.$BF[1].x.$hF+10,26,v.string(this.enemyMax));var eb=new e;f.createImageSprite(this.screen,eb,"hud/HUD_coins",!1,362,5);f.alignLeft(eb);if(9<this.shots){var Nb=eb.$BF[1].x;Nb.set__(Nb.$hF+20)}var rb=new e;f.createImageSprite(eb,
rb,"screens/divider_line",!0,112,40);this.coinText=new e;f.createTextSprite(eb,this.coinText,c.hudFontNum,"Right",rb.$BF[1].x.$hF-10,26,v.string(this.coins));var Tb=new e;f.createTextSprite(eb,Tb,c.hudFontNum,"Left",rb.$BF[1].x.$hF+10,26,v.string(this.coinMax));if(0<this.pizzaMax){var ub=new e;f.createImageSprite(this.screen,ub,"hud/HUD_pizza",!1,565,5);f.alignLeft(ub);var Ub=new e;f.createImageSprite(ub,Ub,"screens/divider_line",!0,112,40);this.pizzaText=new e;f.createTextSprite(ub,this.pizzaText,
c.hudFontNum,"Right",rb.$BF[1].x.$hF-10,26,v.string(this.pizza));var Vb=new e;f.createTextSprite(ub,Vb,c.hudFontNum,"Left",rb.$BF[1].x.$hF+10,26,v.string(this.pizzaMax))}this.scrollLevel(!1);"lair"==c.area&&c.help1?(this.helpScreen=(new e).add(new Yb(this.screenWidth/2,this.screenHeight,L(this,this.helpCallback))),this.screen.addChild(this.helpScreen)):"roof"==c.area&&c.help2?(this.helpScreen=(new e).add(new Yb(this.screenWidth/2,this.screenHeight,L(this,this.helpCallback))),this.screen.addChild(this.helpScreen)):
"yard"==c.area&&c.help3?(this.helpScreen=(new e).add(new Yb(this.screenWidth/2,this.screenHeight,L(this,this.helpCallback))),this.screen.addChild(this.helpScreen)):(this.missionScreen=(new e).add(new Nc(this.screenWidth/2,this.screenHeight/2,L(this,this.missionCallback))),this.screen.addChild(this.missionScreen));if(0==this.enemyMax){bb.$BF[1].set_visible(!1);var Rb=eb.$BF[1].x;Rb.set__(Rb.$hF-190)}this.inPlay=!0},addRocks:function(a,b,d){null==d&&(d=0);var k=a.$BF[1].x.$hF+1034;a=a.$BF[1].y.$hF+
250+d;b&&(k-=996);b=new e;f.createImageSprite(this.game,b,"rock_blocks",!1,k+80,a,"GAME");k=(new J(c.colliderColour,420,45)).setXY(k,a+40).setAlpha(c.debugAlpha);b=this.box2d.createRectangle(k);b.body.setType(0);this.game.addChild((new e).add(k).add(b))},addGate:function(a,b){var d=this,k=a.$BF[1].x.$hF+1044,g=a.$BF[1].y.$hF+100;b&&(k-=996);var l=new e;f.createImageSprite(this.game,l,"screens/divider_line",!0,k,g+200);var m=(new e).add(new M("gates","gateOn",0,-200,c.gamePack));l.addChild(m);this.zsort.push(l);
var g=(new J(c.colliderColour,45,45)).setXY(k+m.$BF[1].x.$hF+70,m.$BF[1].y.$hF+270).setAlpha(c.debugAlpha),p=this.box2d.createRectangle(g);p.body.setType(0);this.game.addChild((new e).add(g).add(p));g=(new J(c.colliderColour,45,45)).setXY(k+m.$BF[1].x.$hF+385,m.$BF[1].y.$hF+270).setAlpha(c.debugAlpha);p=this.box2d.createRectangle(g);p.body.setType(0);this.game.addChild((new e).add(g).add(p));var r=(new e).add(new M("gates","gate",0,-200,c.gamePack));l.addChild(r);var k=(new J(c.colliderColour,420,
45)).setXY(k+m.$BF[1].x.$hF+70,m.$BF[1].y.$hF+270).setAlpha(c.debugAlpha),s=this.box2d.createRectangle(k);s.body.setType(0);this.game.addChild((new e).add(k).add(s));k=new S;k.run(new wb(new T([new E(3),new D(function(){m.$BF[19].play("gateTurnOff","gateOff");r.$BF[1].set_visible(!1);s.body.setActive(!1);null!=d.gateLoop&&d.gateLoop.volume.set__(0)}),new E(3),new D(function(){m.$BF[19].play("gateTurnOn","gateOn");r.$BF[1].set_visible(!0);s.body.setActive(!0);null!=d.gateLoop&&d.gateLoop.volume.set__(1)})])));
r.add(k)},addCityPlatform:function(a,b,d){var f=(new J(c.colliderColour,1400,20)).setXY(50+a,505).setAlpha(c.debugAlpha),g=this.box2d.createRectangle(f);g.body.setType(0);this.game.addChild((new e).add(f).add(g));f=(new J(c.colliderColour,70,110)).setXY(-10+a,405).setAlpha(c.debugAlpha);g=this.box2d.createRectangle(f);g.body.setType(0);this.game.addChild((new e).add(f).add(g));f=(new J(c.colliderColour,70,360)).setXY(-10+a,-150).setAlpha(c.debugAlpha);g=this.box2d.createRectangle(f);g.body.setType(0);
this.game.addChild((new e).add(f).add(g));f=(new J(c.colliderColour,410,20)).setXY(40+a,-150).setAlpha(c.debugAlpha);g=this.box2d.createRectangle(f);g.body.setType(0);this.game.addChild((new e).add(f).add(g));var f=this.box2d.createPhysics(),g=new Zc,l=[];l.push(new w(0/this.box2d.scale,0/this.box2d.scale));l.push(new w(187/this.box2d.scale,0/this.box2d.scale));l.push(new w(187/this.box2d.scale,305/this.box2d.scale));l.push(new w(102/this.box2d.scale,340/this.box2d.scale));l.push(new w(0/this.box2d.scale,
324/this.box2d.scale));l.push(new w(-26/this.box2d.scale,197/this.box2d.scale));l=xa.asArray(l,6);g.shape=l;g.isSensor=!1;f.body.createFixture(g);f.body.setType(0);g=(new Z(c.pack.getTexture("blank"))).setXY(410+a,-150).centerAnchor();this.game.addChild((new e).add(g).add(f));f=(new J(c.colliderColour,445,20)).setXY(610+a,123).setAlpha(c.debugAlpha);g=this.box2d.createRectangle(f);g.body.setType(0);this.game.addChild((new e).add(f).add(g));f=(new J(c.colliderColour,20,275)).setXY(1035+a,-152).setAlpha(c.debugAlpha);
g=this.box2d.createRectangle(f);g.body.setType(0);this.game.addChild((new e).add(f).add(g));f=(new J(c.colliderColour,405,20)).setXY(1035+a,-152).setAlpha(c.debugAlpha);g=this.box2d.createRectangle(f);g.body.setType(0);this.game.addChild((new e).add(f).add(g));f=(new J(c.colliderColour,70,365)).setXY(1415+a,-152).setAlpha(c.debugAlpha);g=this.box2d.createRectangle(f);g.body.setType(0);this.game.addChild((new e).add(f).add(g));f=(new J(c.colliderColour,70,130)).setXY(1415+a,403).setAlpha(c.debugAlpha);
g=this.box2d.createRectangle(f);g.body.setType(0);this.game.addChild((new e).add(f).add(g));b&&(b=(new J(c.colliderColour,70,220)).setXY(-60+a,200).setAlpha(c.debugAlpha),f=this.box2d.createRectangle(b),f.body.setType(0),this.game.addChild((new e).add(b).add(f)));d?a=(new J(c.colliderColour,70,220)).setXY(1465+a,198).setAlpha(c.debugAlpha):(d=(new J(c.colliderColour,385,20)).setXY(1465+a,193).setAlpha(c.debugAlpha),b=this.box2d.createRectangle(d),b.body.setType(0),this.game.addChild((new e).add(d).add(b)),
a=(new J(c.colliderColour,385,20)).setXY(1465+a,403).setAlpha(c.debugAlpha));d=this.box2d.createRectangle(a);d.body.setType(0);this.game.addChild((new e).add(a).add(d))},missionCallback:function(){this.missionScreen.dispose();this.connect1(m.$2F.$KF.down,L(this,this.pointerDownHandler));this.connect1(m.$2F.$KF.up,L(this,this.pointerUpHandler));this.connect1(m.$2F.$KF.move,L(this,this.pointerMoveHandler));this.connect1(m.$2F.getKeyboard().down,L(this,this.keyDownHandler));this.connect1(m.$2F.getKeyboard().up,
L(this,this.keyUpHandler));this.gameOverCallback("ENDHELP")},helpCallback:function(){this.missionScreen=(new e).add(new Nc(this.screenWidth/2,this.screenHeight/2,L(this,this.missionCallback)));this.screen.addChild(this.missionScreen);switch(c.area){case "lair":c.help1=!1;break;case "roof":c.help2=!1;break;case "yard":c.help3=!1}},addObjects:function(){if("lair"==c.area)switch(c.puzzle){case 1:this.addObject("coin",400,320);this.addObject("coin",450,320);this.addObject("coin",500,320);this.addObject("box_double",
600,300);this.addObject("coin",700,320);this.addObject("coin",750,320);this.addObject("coin",800,320);this.addObject("box_double",900,300);this.addObject("coin",1E3,320);this.addObject("coin",1050,320);this.addObject("coin",1100,320);this.addObject("box_single",1400,165);this.addObject("box_single",1470,165);this.addObject("box_single",1475,235);this.addObject("box_single",100,165);this.addObject("box_single",95,215);this.addObject("box_single",105,450);this.addObject("box_single",850,165);this.addObject("box_single",
980,170);this.addObject("redbarrel",1050,170);break;case 2:this.addObject("coin",560,300);this.addObject("coin",620,300);this.addObject("coin",680,300);this.addObject("coin",560,340);this.addObject("coin",620,340);this.addObject("coin",680,340);this.addObject("box_double",400,280);this.addObject("box_double",370,320);this.addObject("box_double",400,365);this.addBlock(f.randomNumber(1,2),1E3,180);this.addBlock(f.randomNumber(1,2),1E3,220);this.addBlock(f.randomNumber(1,2),1E3,430);this.addBlock(f.randomNumber(1,
2),1E3,470);this.addObject("coin",1360,300);this.addObject("coin",1420,300);this.addObject("coin",1480,300);this.addObject("coin",1360,340);this.addObject("coin",1420,340);this.addObject("coin",1480,340);this.addObject("coin",880,185);this.addObject("coin",930,185);this.addObject("coin",930,235);this.addTyre(2,110,165);this.addTyre(3,1450,170);this.addTyre(1,800,450);this.addTyre(1,600,453);this.addObject("box_single",450,165);this.addObject("box_single",580,170);break;case 3:this.ball.setXY(0.25*
this.screenWidth-10,this.levelHeight/2+70-60);this.addObject("coin",300,350);this.addObject("coin",350,400);this.addObject("coin",400,450);this.addObject("coin",450,480);this.addObject("coin",500,450);this.addObject("coin",550,400);this.addObject("coin",600,350);this.addObject("coin",650,300);this.addObject("coin",700,250);this.addObject("coin",750,200);this.addObject("coin",1400,190);this.addObject("coin",1440,190);this.addObject("coin",1480,190);this.addObject("box_single",140,440);this.addObject("box_single",
350,165);this.addObject("box_double",460,180);this.addObject("box_single",530,170);this.addObject("box_single",560,220);this.addTyre(3,900,350);this.addTyre(1,1460,310);this.addObject("box_single",1350,350);this.addObject("box_double",1400,400);this.addObject("box_double",1250,415);this.addObject("box_single",1150,380);this.addObject("box_double",1250,200);break;case 4:this.ball.setXY(0.25*this.screenWidth+30,this.levelHeight/2+70-60);this.addObject("coin",300,350);this.addObject("coin",330,350);
this.addObject("coin",330,400);this.addObject("coin",360,400);this.addObject("coin",360,450);this.addObject("coin",390,450);this.addObject("coin",800,300);this.addObject("coin",850,350);this.addObject("coin",900,400);this.addObject("coin",950,450);this.addObject("coin",1E3,400);this.addObject("coin",1050,350);this.addObject("coin",1100,300);this.addObject("coin",1150,250);this.addObject("coin",1200,200);this.addObject("box_double",550,280);this.addObject("box_double",650,360);this.addObject("box_single",
600,420);this.addObject("box_single",700,220);this.addObject("box_single",500,180);this.addObject("box_single",1430,200);this.addObject("box_single",1440,300);this.addObject("box_double",180,420);this.addTyre(2,900,180);this.addTyre(3,1E3,190);this.addTyre(1,950,260);this.addTyre(1,1390,440);this.addTyre(3,1470,430);break;case 5:this.addTyre(3,880,440),this.addTyre(3,900,370),this.addTyre(2,980,340),this.addTyre(3,1060,330),this.addTyre(1,1160,330),this.addTyre(3,150,160),this.addBlock(1,130,470),
this.addBlock(1,195,470),this.addBlock(2,280,470),this.addBlock(1,325,470),this.addBlock(2,500,470),this.addBlock(1,545,470),this.addBlock(1,590,470),this.addBlock(1,635,470),this.addObject("box_double",500,130),this.addObject("box_single",570,140),this.addObject("box_single",1400,250),this.addObject("box_single",1400,320),this.addObject("box_single",1400,390),this.addObject("box_double",700,250),this.addObject("box_double",600,300),this.addObject("box_double",1420,430),this.addObject("coin",640,
175),this.addObject("coin",700,175),this.addObject("coin",760,175),this.addObject("coin",820,175),this.addObject("coin",350,175),this.addObject("coin",390,215),this.addObject("coin",430,175),this.addObject("coin",1050,175),this.addObject("coin",1090,175),this.addObject("coin",1130,175),this.addObject("coin",1170,175),this.addObject("coin",1270,230),this.addObject("coin",1310,230),this.addObject("coin",1350,230),this.addObject("coin",1410,230),this.addObject("coin",1E3,450),this.addObject("coin",1060,
450),this.addObject("coin",1120,450),this.addObject("coin",390,400),this.addObject("coin",430,400)}else if("roof"==c.area)switch(c.puzzle){case 1:this.addObject("coin",550,240);this.addObject("coin",600,215);this.addObject("coin",600,265);this.addObject("coin",650,240);this.addObject("coin",750,240);this.addObject("coin",800,215);this.addObject("coin",800,265);this.addObject("coin",850,240);this.addObject("coin",2600,215);this.addObject("coin",2650,215);this.addObject("coin",2700,215);this.addObject("coin",
2750,215);this.addObject("coin",2600,265);this.addObject("coin",2650,265);this.addObject("coin",2700,265);this.addObject("coin",2750,265);this.addObject("coin",3460,70);this.addObject("coin",3410,70);this.addObject("coin",3460,120);this.addObject("coin",3460,350);this.addObject("coin",3460,400);this.addObject("coin",3410,400);this.addRoofObject("watertower",800,70);this.addRoofObject("umbrella",165,340);this.addRoofObject("deckchair",105,350);this.addRoofObject("deckchair",4650,70);this.addRoofObject("deckchair",
4750,75);this.addRoofObject("deckchair",3450,230);this.addRoofObject("umbrella",3380,250);this.addObject("enemy2",160,120).$BF[1].scaleX.set__(-1);this.addObject("enemy1",1E3,120);this.addObject("enemy1",1E3,360);this.addObject("enemy2",2400,240);this.addObject("enemy2",3E3,240);break;case 2:this.ball.setXY(0.25*this.screenWidth+120,this.levelHeight/2+70);this.addObject("coin",120,70);this.addObject("coin",120,120);this.addObject("coin",170,70);this.addObject("coin",170,120);this.addObject("coin",
500,210);this.addObject("coin",600,180);this.addObject("coin",700,150);this.addObject("coin",800,120);this.addObject("coin",500,270);this.addObject("coin",600,300);this.addObject("coin",700,330);this.addObject("coin",800,360);this.addObject("coin",2600,240);this.addObject("coin",2700,240);this.addObject("coin",2800,240);this.addObject("box_double",240,100);this.addObject("box_single",200,180);this.addObject("box_single",145,200);this.addObject("box_single",2400,240);this.addObject("box_double",3E3,
215);this.addRoofObject("watertower",3350,70);this.addRoofObject("umbrella",165,340);this.addRoofObject("deckchair",105,350);this.addObject("box_double",3100,160);this.addObject("box_double",3120,215);this.addObject("box_double",3050,360);this.addObject("box_single",2900,360);this.addObject("enemy1",2200,140).$BF[27].pace(!1,1E3,5,1);this.addObject("enemy1",3200,340).$BF[27].pace(!0,1E3,5,1);this.addObject("enemy2",3350,390);this.addObject("enemy2",1050,240);break;case 3:this.ball.setXY(0.25*this.screenWidth+
100,this.levelHeight/2+70);this.addObject("coin",800,200);this.addObject("coin",850,200);this.addObject("coin",900,200);this.addObject("coin",950,200);this.addObject("coin",1E3,200);this.addObject("coin",1050,200);this.addObject("coin",800,250);this.addObject("coin",850,250);this.addObject("coin",900,250);this.addObject("coin",950,250);this.addObject("coin",1E3,250);this.addObject("coin",1050,250);this.addObject("coin",2265,90);this.addObject("coin",2365,90);this.addObject("coin",2465,90);this.addObject("coin",
2500,400);this.addObject("coin",2600,400);this.addObject("coin",2700,400);this.addObject("coin",2800,400);this.addObject("coin",3100,150);this.addObject("coin",3150,150);this.addObject("coin",3100,200);this.addObject("coin",3150,200);this.addObject("coin",5125,215);this.addObject("coin",5125,265);this.addObject("coin",5125,315);this.addObject("coin",5175,215);this.addObject("coin",5175,265);this.addObject("coin",5175,315);this.addObject("redbarrel",110,70);this.addObject("box_single",170,70);this.addObject("box_single",
90,120);this.addRoofObject("watertower",4700,70);this.addRoofObject("skylight",215,350);this.addObject("box_single",2200,80);this.addObject("box_single",2300,80);this.addObject("box_single",2400,80);this.addObject("box_double",4700,160);this.addObject("box_double",4720,215);this.addObject("box_double",4650,360);this.addObject("box_single",4500,360);this.addObject("box_single",2770,180);this.addTyre(3,2870,130);this.addTyre(3,2900,190);this.addObject("redbarrel",2940,145);this.addObject("enemy2",700,
350).$BF[27].pace(!1,600,3,1);var a=this.addObject("enemy1",3200,350);a.$BF[27].pace(!0,1E3,5,1);this.addObject("enemy1",4900,130);this.addObject("enemy1",5050,150);this.addObject("enemy2",4400,190);this.addObject("enemy2",4300,330);a=this.addObject("enemy2",150,260);a.$BF[1].scaleX.set__(-1);break;case 4:this.ball.setXY(0.25*this.screenWidth-115,this.levelHeight/2-70);this.addObject("coin",150,240);this.addObject("coin",150,280);this.addObject("coin",150,320);this.addObject("coin",830,250);this.addObject("coin",
780,215);this.addObject("coin",950,110);this.addObject("coin",2700,270);this.addObject("coin",2700,210);this.addObject("coin",2750,270);this.addObject("coin",2750,210);this.addObject("coin",2800,270);this.addObject("coin",2800,210);this.addObject("coin",2850,270);this.addObject("coin",2850,210);this.addObject("coin",3250,240);this.addObject("coin",3250,200);this.addObject("coin",3250,160);this.addObject("coin",3250,280);this.addObject("coin",3150,390);this.addObject("coin",3110,390);this.addObject("coin",
3070,390);this.addObject("coin",5105,190);this.addObject("coin",5105,240);this.addObject("coin",5105,290);this.addObject("coin",5155,190);this.addObject("coin",5155,240);this.addObject("coin",5155,290);this.addObject("coin",5020,80);this.addObject("coin",5070,80);this.addObject("coin",5120,80);this.addRoofObject("umbrella",4630,70);this.addRoofObject("deckchair",4500,80);this.addRoofObject("deckchair",4580,80);this.addRoofObject("skylight",800,350);this.addObject("redbarrel",3300,390);this.addObject("redbarrel",
4950,80);this.addObject("redbarrel",5020,120);this.addObject("box_single",795,80);this.addObject("box_single",800,150);this.addObject("box_single",815,200);this.addObject("box_single",860,80);this.addObject("box_double",900,200);this.addObject("box_single",700,120);a=this.addObject("enemy2",150,370);a.$BF[27].pace(!1,420,3,2);a=this.addObject("enemy1",1E3,380);a.$BF[27].pace(!1,370,2.5,1);this.addObject("enemy2",2400,240);this.addObject("enemy1",2500,190);this.addObject("enemy1",2500,290);this.addObject("enemy1",
3250,100);this.addObject("enemy2",4130,140);a=this.addObject("enemy2",4E3,370);a.$BF[27].pace(!1,1E3,6,2);break;case 5:this.addObject("coin",550,405),this.addObject("coin",600,405),this.addObject("coin",650,405),this.addObject("coin",700,405),this.addObject("coin",900,405),this.addObject("coin",950,405),this.addObject("coin",1E3,405),this.addObject("coin",1050,405),this.addObject("coin",550,80),this.addObject("coin",585,80),this.addObject("coin",2600,215),this.addObject("coin",2650,215),this.addObject("coin",
2700,215),this.addObject("coin",2750,215),this.addObject("coin",2600,265),this.addObject("coin",2650,265),this.addObject("coin",2700,265),this.addObject("coin",2750,265),this.addObject("coin",2400,60),this.addObject("coin",2450,60),this.addObject("coin",2500,60),this.addObject("coin",2900,60),this.addObject("coin",2950,60),this.addObject("coin",3E3,60),this.addObject("coin",2400,405),this.addObject("coin",2450,405),this.addObject("coin",2500,405),this.addObject("coin",2900,405),this.addObject("coin",
2950,405),this.addObject("coin",3E3,405),this.addObject("coin",5180,70),this.addObject("coin",5130,70),this.addObject("coin",5180,120),this.addObject("coin",5180,350),this.addObject("coin",5180,400),this.addObject("coin",5130,400),this.addObject("redbarrel",650,80),this.addObject("redbarrel",2700,80),this.addObject("redbarrel",5020,80),this.addTyre(2,2700,370),this.addTyre(1,4900,370),this.addRoofObject("watertower",800,70),this.addRoofObject("umbrella",245,340),this.addRoofObject("deckchair",105,
350),this.addRoofObject("deckchair",185,350),this.addRoofObject("deckchair",4650,70),this.addRoofObject("deckchair",4750,75),this.addObject("enemy1",1E3,120),a=this.addObject("enemy2",400,360),a.$BF[27].pace(!1,950,5,2),this.addObject("enemy2",2400,240),a=this.addObject("enemy2",3E3,240),a.$BF[1].scaleX.set__(-1),this.addObject("enemy2",4860,90),this.addObject("enemy1",4500,390),a=this.addObject("enemy1",4400,240),a.$BF[27].pace(!1,700,3.5,1)}else if("yard"==c.area)switch(c.puzzle){case 1:this.addObject("box_single",
480,10);this.addObject("box_single",550,15);this.addObject("box_double",640,10);this.addObject("box_single",600,200);this.addObject("box_single",650,250);this.addObject("box_single",1100,240);this.addObject("box_single",1700,15);this.addObject("box_single",1800,10);this.addObject("box_double",1950,10);this.addObject("box_double",2430,100);this.addObject("box_single",2440,180);this.addObject("box_single",2460,260);this.addObject("box_double",2420,300);this.addObject("box_double",2400,430);this.addObject("box_single",
2300,410);this.addObject("coin",60,60);this.addObject("coin",90,60);this.addObject("coin",120,60);this.addObject("coin",760,50);this.addObject("coin",1200,220);this.addObject("coin",1200,280);this.addObject("coin",1200,340);this.addObject("coin",1250,220);this.addObject("coin",1250,280);this.addObject("coin",1250,340);this.addObject("coin",2200,200);this.addObject("coin",2200,300);this.addObject("coin",1800,85);this.addObject("coin",1850,85);this.addObject("coin",1900,85);this.addObject("coin",1950,
85);this.addObject("coin",2E3,85);this.addObject("coin",1825,110);this.addObject("coin",1875,110);this.addObject("coin",1925,110);this.addObject("coin",1975,110);this.addObject("coin",2025,110);this.addObject("coin",2440,60);this.addObject("coin",50,410);this.addObject("pizza",2170,60);a=this.addObject("enemy2",1450,80);a.$BF[1].scaleX.set__(-1);a=this.addObject("enemy1",800,300);a.$BF[27].pace(!1,1200,6,1);a=this.addObject("enemy2",1E3,400);a.$BF[27].pace(!1,600,5,2);a=this.addObject("enemy1",1580,
180);a.$BF[27].pace(!1,600,3.5,1.5);this.addObject("enemy2",2200,400);this.addObject("redbarrel",850,40);this.addObject("barrel",980,70);this.addObject("box_single",150,100);this.addObject("box_single",230,100);this.addObject("redbarrel",300,120);this.addObject("barrel",500,435);this.addObject("barrel",590,435);var a=(new J(c.colliderColour,330,170)).setXY(1182,75).centerAnchor().setAlpha(c.debugAlpha),b=this.box2d.createRectangle(a);b.body.setType(0);this.game.addChild((new e).add(a).add(b));a=new e;
f.createImageSprite(this.game,a,"blank",!1,1E3,180);b=new e;f.createImageSprite(a,b,"shipping_stack_1",!1,0,-350,"GAME");this.zsort.push(a);break;case 2:this.addTyre(3,500,30);this.addTyre(3,500,100);this.addTyre(3,500,170);this.addTyre(3,1E3,450);this.addTyre(3,1E3,380);this.addTyre(3,1E3,310);this.addTyre(3,1500,30);this.addTyre(3,1500,100);this.addTyre(3,1500,170);this.addTyre(3,2E3,450);this.addTyre(3,2E3,380);this.addTyre(3,2E3,310);this.addObject("coin",50,60);this.addObject("coin",80,60);this.addObject("coin",
110,60);this.addObject("coin",50,90);this.addObject("coin",80,90);this.addObject("coin",110,90);this.addObject("coin",50,120);this.addObject("coin",80,120);this.addObject("coin",110,120);this.addObject("coin",580,60);this.addObject("coin",610,60);this.addObject("coin",640,60);this.addObject("coin",580,90);this.addObject("coin",610,90);this.addObject("coin",640,90);this.addObject("coin",580,120);this.addObject("coin",610,120);this.addObject("coin",640,120);this.addObject("coin",1800,50);this.addObject("coin",
1830,50);this.addObject("coin",1860,50);this.addObject("coin",1890,50);this.addObject("coin",1920,50);this.addObject("coin",1950,50);this.addObject("coin",1800,80);this.addObject("coin",1830,80);this.addObject("coin",1860,80);this.addObject("coin",1890,80);this.addObject("coin",1920,80);this.addObject("coin",1950,80);this.addObject("coin",1070,300);this.addObject("coin",1100,300);this.addObject("coin",1130,300);this.addObject("coin",1160,300);this.addObject("coin",1160,330);this.addObject("coin",
1160,360);this.addObject("coin",1160,390);this.addObject("coin",1160,420);this.addObject("coin",1930,420);this.addObject("coin",1930,390);this.addObject("coin",1930,360);this.addObject("coin",1930,330);this.addObject("coin",2450,420);this.addObject("coin",2450,390);this.addObject("coin",2450,360);this.addObject("coin",2450,330);this.addObject("pizza",2320,370);this.addObject("redbarrel",1100,410);this.addObject("redbarrel",2160,250);this.addObject("redbarrel",2260,250);this.addObject("barrel",2460,
35);this.addObject("barrel",2400,35);this.addObject("redbarrel",320,35);this.addObject("redbarrel",400,35);a=this.addObject("enemy2",720,100);a.$BF[27].pace(!1,600,3.5,2);a=this.addObject("enemy2",1650,100);a.$BF[27].pace(!1,600,3.5,2);a=this.addObject("enemy1",1250,380);a.$BF[27].pace(!1,550,2.5,1);this.addObject("enemy2",850,380);a=this.addObject("enemy2",2130,380);a.$BF[1].scaleX.set__(-1);break;case 3:a=(new J(c.colliderColour,328,160)).setXY(782,85).centerAnchor().setAlpha(c.debugAlpha);b=this.box2d.createRectangle(a);
b.body.setType(0);this.game.addChild((new e).add(a).add(b));a=new e;f.createImageSprite(this.game,a,"blank",!1,600,180);b=new e;f.createImageSprite(a,b,"shipping_container_1",!1,0,-210,"GAME");this.zsort.push(a);a=(new J(c.colliderColour,328,160)).setXY(1682,385).centerAnchor().setAlpha(c.debugAlpha);b=this.box2d.createRectangle(a);b.body.setType(0);this.game.addChild((new e).add(a).add(b));a=new e;f.createImageSprite(this.game,a,"blank",!1,1500,480);b=new e;f.createImageSprite(a,b,"shipping_container_2",
!1,0,-210,"GAME");this.zsort.push(a);a=30;this.addObject("coin",20,50);this.addObject("coin",20+a,50);this.addObject("coin",20+2*a,50);this.addObject("coin",20,50+a);this.addObject("coin",20+a,50+a);this.addObject("coin",20+2*a,50+a);this.addObject("coin",20,50+2*a);this.addObject("coin",20+a,50+2*a);this.addObject("coin",20+2*a,50+2*a);this.addObject("coin",520,50);this.addObject("coin",520,80);this.addObject("coin",520,110);this.addObject("coin",580,50);this.addObject("coin",580,80);this.addObject("coin",
580,110);this.addObject("coin",970,50);this.addObject("coin",970,80);this.addObject("coin",970,110);this.addObject("coin",2460,50);this.addObject("coin",2460,80);this.addObject("coin",2460,110);a=40;this.addObject("coin",1900,410);this.addObject("coin",1900+a,410);this.addObject("coin",1900+2*a,410);this.addObject("coin",1900+3*a,410);this.addObject("coin",1900+4*a,410);this.addObject("coin",1900+5*a,410);this.addObject("coin",1900+6*a,410);this.addObject("coin",1900+7*a,410);this.addObject("coin",
1900+8*a,410);this.addObject("coin",1900+9*a,410);this.addObject("pizza",2320,60);this.addObject("enemy1",1200,100).$BF[27].pace(!1,1E3,6,2);this.addObject("enemy1",2200,180).$BF[27].pace(!0,1E3,6,2);this.addObject("enemy2",1400,380).$BF[27].pace(!0,300,2,2);this.addObject("enemy2",1900,290).$BF[27].pace(!1,350,2.5,2.3);this.addObject("enemy2",2350,370).$BF[27].pace(!0,350,2.2,2);this.addObject("enemy2",800,250);this.addObject("box_single",650,230);this.addObject("box_single",690,260);this.addObject("box_single",
780,340);this.addObject("box_double",880,340);this.addObject("box_double",550,150);this.addObject("barrel",40,390);this.addObject("redbarrel",115,410);this.addObject("redbarrel",1030,45);this.addObject("redbarrel",1110,50);break;case 4:a=(new J(c.colliderColour,328,160)).setXY(1182,225).centerAnchor().setAlpha(c.debugAlpha);b=this.box2d.createRectangle(a);b.body.setType(0);this.game.addChild((new e).add(a).add(b));a=new e;f.createImageSprite(this.game,a,"blank",!1,1E3,320);b=new e;f.createImageSprite(a,
b,"shipping_container_1",!1,0,-210,"GAME");this.zsort.push(a);this.addObject("coin",30,50);this.addObject("coin",30,80);this.addObject("coin",60,50);this.addObject("coin",520,200);this.addObject("coin",550,210);this.addObject("coin",1820,200);this.addObject("coin",1840,230);this.addObject("coin",1860,260);this.addObject("coin",1860,200);this.addObject("coin",1880,230);this.addObject("coin",1900,260);this.addObject("coin",1900,200);this.addObject("coin",1920,230);this.addObject("coin",1940,260);this.addObject("coin",
2180,200);this.addObject("coin",2200,230);this.addObject("coin",2220,260);this.addObject("coin",2220,200);this.addObject("coin",2240,230);this.addObject("coin",2260,260);this.addObject("barrel",2020,230);this.addObject("barrel",2100,230);this.addObject("coin",2360,200);this.addObject("coin",2380,230);this.addObject("coin",2400,260);this.addObject("coin",2400,200);this.addObject("coin",2420,230);this.addObject("coin",2440,260);this.addObject("pizza",680,250);this.addObject("redbarrel",2320,230);this.addObject("redbarrel",
150,40);this.addObject("redbarrel",130,70);this.addObject("redbarrel",80,110);this.addObject("redbarrel",40,135);this.addObject("redbarrel",450,240);this.addObject("box_single",520,260);this.addObject("barrel",50,400);a=this.addObject("enemy1",700,100);a.$BF[27].pace(!1,1E3,6,2);a=this.addObject("enemy1",1700,380);a.$BF[27].pace(!0,1E3,6.5,2);a=this.addObject("enemy2",2420,100);a.$BF[27].pace(!0,500,3,2);a=this.addObject("enemy2",1920,400);a.$BF[27].pace(!1,500,3,2);this.addObject("enemy2",900,260);
a=this.addObject("enemy2",1400,220);a.$BF[1].scaleX.set__(-1);a=this.addObject("enemy2",1400,300);a.$BF[1].scaleX.set__(-1);break;case 5:a=(new J(c.colliderColour,328,160)).setXY(1202,85).centerAnchor().setAlpha(c.debugAlpha),b=this.box2d.createRectangle(a),b.body.setType(0),this.game.addChild((new e).add(a).add(b)),a=new e,f.createImageSprite(this.game,a,"blank",!1,1020,180),b=new e,f.createImageSprite(a,b,"shipping_container_1",!1,0,-210,"GAME"),this.zsort.push(a),a=(new J(c.colliderColour,328,
160)).setXY(1162,445).centerAnchor().setAlpha(c.debugAlpha),b=this.box2d.createRectangle(a),b.body.setType(0),this.game.addChild((new e).add(a).add(b)),a=new e,f.createImageSprite(this.game,a,"blank",!1,980,540),b=new e,f.createImageSprite(a,b,"shipping_container_2",!1,0,-210,"GAME"),this.zsort.push(a),this.addObject("coin",250,50),this.addObject("coin",290,50),this.addObject("coin",350,50),this.addObject("coin",390,50),this.addObject("coin",700,50),this.addObject("coin",730,50),this.addObject("coin",
50,300),this.addObject("coin",50,350),this.addObject("coin",100,300),this.addObject("coin",100,350),this.addObject("coin",950,380),this.addObject("coin",910,380),this.addObject("coin",950,420),this.addObject("coin",910,420),this.addObject("coin",400,420),this.addObject("coin",600,420),this.addObject("coin",1700,200),this.addObject("coin",1650,200),this.addObject("coin",1700,250),this.addObject("coin",1650,250),this.addObject("coin",2E3,200),this.addObject("coin",1950,200),this.addObject("coin",2E3,
250),this.addObject("coin",1950,250),this.addObject("coin",2400,50),this.addObject("coin",2450,100),this.addObject("coin",2400,100),this.addObject("coin",2450,50),this.addObject("coin",1800,410),this.addObject("coin",1850,410),this.addObject("coin",1900,410),this.addObject("coin",1950,410),this.addObject("coin",2E3,410),this.addObject("coin",2050,410),this.addObject("redbarrel",35,435),this.addObject("redbarrel",1800,250),this.addObject("redbarrel",1850,200),this.addObject("redbarrel",900,30),this.addObject("redbarrel",
840,25),this.addObject("box_double",900,240),this.addObject("box_single",1E3,100),this.addObject("box_double",1380,180),this.addObject("box_single",1360,240),this.addObject("box_single",1340,300),this.addObject("pizza",1200,260),this.addObject("redbarrel",500,410),this.addObject("barrel",2300,80),a=this.addObject("enemy2",200,170),a.$BF[27].pace(!1,600,4,2),a=this.addObject("enemy2",1600,380),a.$BF[27].pace(!1,600,4,2),a=this.addObject("enemy2",1420,120),a.$BF[1].scaleX.set__(-1),a=this.addObject("enemy2",
1390,400),a.$BF[1].scaleX.set__(-1),a=this.addObject("enemy2",2E3,100),a.$BF[27].pace(!0,350,3,2),this.addObject("enemy1",2400,380),a=this.addObject("enemy1",80,45),a.$BF[1].scaleX.set__(-1),this.addObject("enemy2",1050,250)}else if("subway"==c.area)switch(c.puzzle){case 1:this.addObject("pizza",3800,525);this.addObject("coin",-50,180);this.addObject("coin",0,180);this.addObject("coin",50,180);this.addObject("coin",3650,550);this.addObject("coin",3300,300);this.addObject("coin",3300,350);this.addObject("coin",
3360,300);this.addObject("coin",3360,350);this.addObject("coin",3420,300);this.addObject("coin",3420,350);this.addObject("coin",1100,490);this.addObject("coin",1180,490);this.addObject("coin",1100,550);this.addObject("coin",1180,550);this.addObject("coin",610,400);this.addObject("coin",2E3,405);this.addObject("coin",1900,325);this.addObject("coin",1900,485);this.addObject("coin",2100,325);this.addObject("coin",2100,485);this.addTyre(3,3200,250);this.addTyre(3,3200,300);this.addTyre(3,3200,350);this.addTyre(3,
3200,400);this.addObject("barrel",3100,330);this.addObject("redbarrel",3100,400);this.addObject("redbarrel",3550,550);this.addObject("redbarrel",3480,550);this.addObject("redbarrel",520,280);this.addObject("redbarrel",580,290);a=this.addObject("enemy2",550,540);this.addObject("enemy2",3750,300);a=this.addObject("enemy2",2300,315);a.$BF[27].pace(!1,600,4,2);a=this.addObject("enemy2",2900,465);a.$BF[27].pace(!0,600,4,2);break;case 2:this.addObject("pizza",3800,525);this.addObject("coin",100,550);this.addObject("coin",
150,550);this.addObject("coin",790,350);this.addObject("coin",840,350);this.addObject("coin",890,350);this.addObject("coin",940,350);this.addObject("coin",990,350);this.addObject("coin",860,540);this.addObject("coin",920,540);this.addObject("coin",2260,180);this.addObject("coin",2320,180);this.addObject("coin",2380,180);this.addObject("coin",2480,490);this.addObject("coin",2480,550);this.addObject("coin",2540,490);this.addObject("coin",2540,550);this.addObject("coin",3100,365);this.addObject("coin",
3160,365);this.addObject("coin",3220,365);this.addObject("coin",3100,445);this.addObject("coin",3160,445);this.addObject("coin",3220,445);this.addObject("coin",3600,180);this.addObject("coin",3700,180);this.addObject("coin",3800,180);this.addObject("redbarrel",1050,540);this.addObject("redbarrel",1120,540);this.addObject("redbarrel",1620,540);this.addObject("redbarrel",1700,540);this.addObject("redbarrel",3300,415);this.addObject("redbarrel",3380,415);this.addObject("redbarrel",3620,540);this.addObject("redbarrel",
3700,540);this.addObject("redbarrel",3800,300);this.addTyre(3,700,270);this.addTyre(3,700,340);this.addTyre(3,700,400);this.addTyre(3,760,420);this.addTyre(3,825,420);this.addTyre(3,890,420);this.addTyre(3,955,420);this.addTyre(3,1020,420);this.addTyre(3,1080,270);this.addTyre(3,1080,340);this.addTyre(3,1080,400);a=this.addObject("enemy1",795,275);a.$BF[27].pace(!1,200,2,2);a=this.addObject("enemy1",1250,300);a.$BF[27].pace(!1,600,5,2);a=this.addObject("enemy2",0,530);a.$BF[1].scaleX.set__(-1);this.addObject("enemy2",
1900,530);this.addObject("enemy2",3770,395);break;case 3:this.addObject("pizza",3800,300);this.addObject("coin",-50,550);this.addObject("coin",100,180);this.addObject("coin",150,180);this.addObject("coin",200,180);this.addObject("coin",250,180);this.addObject("coin",300,180);this.addObject("coin",600,550);this.addObject("coin",650,550);this.addObject("coin",700,550);this.addObject("coin",750,550);this.addObject("coin",800,550);this.addObject("coin",1935,180);this.addObject("coin",1985,180);this.addObject("coin",
2035,180);this.addObject("coin",2085,180);this.addObject("coin",2135,180);this.addObject("coin",3200,365);this.addObject("coin",3250,365);this.addObject("coin",3300,365);this.addObject("coin",3350,365);this.addObject("coin",3400,365);this.addObject("coin",3200,465);this.addObject("coin",3250,465);this.addObject("coin",3300,465);this.addObject("coin",3350,465);this.addObject("coin",3400,465);this.addObject("coin",3750,500);this.addObject("coin",3750,550);this.addObject("coin",3800,500);this.addObject("coin",
3800,550);this.addTyre(3,1540,340);this.addTyre(3,1590,310);this.addTyre(3,1660,310);this.addTyre(3,1730,310);this.addTyre(3,1800,310);this.addTyre(3,1870,310);this.addTyre(3,2190,310);this.addTyre(3,2260,310);this.addTyre(3,2330,310);this.addTyre(3,2400,310);this.addTyre(3,2470,310);this.addTyre(3,2530,340);this.addObject("redbarrel",1450,320);this.addObject("barrel",400,540);this.addObject("redbarrel",900,540);this.addObject("redbarrel",980,540);this.addObject("redbarrel",3620,405);this.addObject("barrel",
3730,435);this.addObject("barrel",3800,435);this.portal1=this.addObject("portal",1700,350);this.portal2=this.addObject("portal",2330,350);this.portal2.$BF[27].deactivatePortal();a=this.addObject("enemy1",800,290);a.$BF[27].pace(!1,900,5,2);a=this.addObject("enemy1",3500,290);a.$BF[27].pace(!0,600,5,2);a=this.addObject("enemy1",2900,415);a.$BF[27].pace(!1,600,5,2);a=this.addObject("enemy1",3500,530);a.$BF[27].pace(!0,600,5,2);this.addObject("enemy2",1830,520);a=this.addObject("enemy2",2640,320);a.$BF[1].scaleX.set__(-1);
break;case 4:this.ball.setXY(this.ballSprite.x.$hF-80,this.ballSprite.y.$hF+60);this.addObject("pizza",2710,415);this.addObject("coin",-50,295);this.addObject("coin",-50,525);this.addObject("coin",2390,550);this.addObject("coin",2340,550);this.addObject("coin",2290,550);this.addObject("coin",2390,500);this.addObject("coin",2390,450);this.addObject("coin",2440,180);this.addObject("coin",2520,180);this.addObject("coin",2600,180);this.addObject("coin",1800,365);this.addObject("coin",1850,365);this.addObject("coin",
1900,365);this.addObject("coin",1950,365);this.addObject("coin",2E3,365);this.addObject("coin",1800,425);this.addObject("coin",1850,425);this.addObject("coin",1900,425);this.addObject("coin",1950,425);this.addObject("coin",2E3,425);this.addObject("coin",3400,365);this.addObject("coin",3450,365);this.addObject("coin",3500,365);this.addObject("coin",3550,365);this.addObject("coin",3600,365);this.addObject("coin",3400,425);this.addObject("coin",3450,425);this.addObject("coin",3500,425);this.addObject("coin",
3550,425);this.addObject("coin",3600,425);this.addObject("redbarrel",1700,405);this.addObject("redbarrel",2100,405);this.addObject("barrel",3800,405);this.addObject("barrel",2710,550);this.addObject("barrel",2790,550);this.addObject("redbarrel",2900,550);a=this.addObject("enemy1",1240,295);a.$BF[27].pace(!1,1E3,6,2);a=this.addObject("enemy1",2140,525);a.$BF[27].pace(!0,1E3,6,2);a=this.addObject("enemy1",3750,295);a.$BF[27].pace(!0,500,4,2);a=this.addObject("enemy1",3250,525);a.$BF[27].pace(!1,500,
4,2);a=this.addObject("enemy2",2730,330);a.$BF[1].scaleX.set__(-1);this.addObject("enemy2",530,330);this.addObject("enemy2",530,540);break;case 5:this.ball.setXY(this.ballSprite.x.$hF+1800,this.ballSprite.y.$hF+60),this.addObject("pizza",800,400),this.addObject("coin",200,375),this.addObject("coin",250,375),this.addObject("coin",300,375),this.addObject("coin",200,445),this.addObject("coin",250,445),this.addObject("coin",300,445),this.addObject("coin",700,550),this.addObject("coin",750,550),this.addObject("coin",
950,550),this.addObject("coin",1E3,550),this.addObject("coin",1420,180),this.addObject("coin",1470,180),this.addObject("coin",1520,180),this.addObject("coin",1570,180),this.addObject("coin",1630,180),this.addObject("coin",2400,550),this.addObject("coin",2450,550),this.addObject("coin",2500,550),this.addObject("coin",2550,550),this.addObject("coin",2600,550),this.addObject("coin",3400,375),this.addObject("coin",3450,375),this.addObject("coin",3500,375),this.addObject("coin",3550,375),this.addObject("coin",
3600,375),this.addObject("coin",3400,445),this.addObject("coin",3450,445),this.addObject("coin",3500,445),this.addObject("coin",3550,445),this.addObject("coin",3600,445),this.addObject("redbarrel",590,380),this.addObject("redbarrel",650,440),this.addObject("redbarrel",950,400),this.addObject("barrel",815,550),this.addObject("barrel",885,550),this.addObject("barrel",3300,415),this.addTyre(3,2350,325),this.addTyre(3,2350,465),this.addTyre(3,3210,365),this.addTyre(3,3210,425),a=this.addObject("enemy1",
0,330),a.$BF[27].pace(!1,600,4,2),a=this.addObject("enemy1",600,540),a.$BF[27].pace(!0,600,4,2),a=this.addObject("enemy2",0,405),a.$BF[1].scaleX.set__(-1),a=this.addObject("enemy1",2500,405),a.$BF[27].pace(!1,600,4,2),a=this.addObject("enemy1",3200,330),a.$BF[27].pace(!1,600,4,2),a=this.addObject("enemy1",3800,540),a.$BF[27].pace(!0,600,4,2),this.addObject("enemy2",3800,405),a=this.addObject("enemy2",1750,540),a.$BF[1].scaleX.set__(-1)}else if("city"==c.area)switch(c.puzzle){case 1:this.addObject("coin",
1235,140,1);this.addObject("coin",1280,140,1);this.addObject("coin",1325,140,1);this.addObject("coin",740,400,1);this.addObject("coin",940,400,1);this.addObject("coin",90,480,1);this.addObject("coin",90,560,1);this.addObject("coin",150,680,1);this.addObject("coin",200,680,1);this.addObject("coin",250,680,1);this.addObject("coin",200,140,2);this.addObject("coin",245,140,2);this.addObject("coin",290,140,2);this.addObject("coin",335,140,2);this.addObject("coin",380,140,2);this.addObject("coin",840,400,
2);this.addObject("coin",885,400,2);this.addObject("coin",930,400,2);this.addObject("coin",975,400,2);this.addObject("coin",1420,680,2);this.addObject("box_single",170,320,1);this.addObject("box_single",270,310,1);this.addObject("box_single",620,530,1);this.addObject("box_single",720,570,1);this.addObject("box_double",1020,530,1);this.addObject("box_single",1160,350,1);this.addObject("box_single",1240,400,1);this.addObject("redbarrel",160,695,2);this.addObject("redbarrel",245,690,2);this.addBlock(f.randomNumber(1,
2),500,680,2);this.addBlock(f.randomNumber(1,2),500,620,2);this.addBlock(f.randomNumber(1,2),500,560,2);this.addObject("pizza",650,640,2);a=this.addObject("enemy2",1280,240,1);a=this.addObject("enemy2",1420,530,1);a.$BF[27].pace(!1,600,4,2);this.addObject("enemy2",290,240,2);this.addObject("enemy2",1280,390,2);a=this.addObject("enemy1",820,660,2);a.$BF[27].pace(!1,600,4,2);break;case 2:this.ball.setXY(this.ballSprite.x.$hF+200,this.ballSprite.y.$hF+75);this.addObject("coin",200,140,1);this.addObject("coin",
290,140,1);this.addObject("coin",380,140,1);this.addObject("coin",245,180,1);this.addObject("coin",335,180,1);this.addObject("coin",740,400,1);this.addObject("coin",940,400,1);this.addObject("coin",1400,380,1);this.addObject("coin",200,140,2);this.addObject("coin",245,140,2);this.addObject("coin",290,140,2);this.addObject("coin",335,140,2);this.addObject("coin",380,140,2);this.addObject("coin",1235,140,2);this.addObject("coin",1280,140,2);this.addObject("coin",1325,140,2);this.addObject("coin",1235,
185,2);this.addObject("coin",1280,185,2);this.addObject("coin",1325,185,2);this.addObject("coin",820,530,2);this.addObject("coin",865,530,2);this.addObject("coin",910,530,2);this.addObject("coin",955,530,2);this.addObject("coin",1450,505,2);this.addObject("coin",1450,555,2);this.addObject("redbarrel",920,695,1);this.addObject("redbarrel",1070,695,1);this.addObject("redbarrel",1150,690,1);this.addObject("redbarrel",1395,695,1);this.addObject("box_single",160,695,2);this.addObject("box_single",230,
695,2);this.addObject("redbarrel",1320,490,2);this.addObject("redbarrel",1320,570,2);this.addObject("redbarrel",1360,440,2);this.addObject("redbarrel",1360,620,2);this.addObject("pizza",290,380,2);a=this.addObject("enemy2",210,420,1);a.$BF[1].scaleX.set__(-1);a=this.addObject("enemy1",520,440,1);a.$BF[27].pace(!1,600,4,2);a=this.addObject("enemy1",220,260,2);a.$BF[1].scaleX.set__(-1);this.addObject("enemy1",360,260,2);a=this.addObject("enemy1",520,450,2);a.$BF[27].pace(!1,600,4,2);a=this.addObject("enemy1",
1120,610,2);a.$BF[27].pace(!0,600,4,2);break;case 3:this.ball.setXY(this.ballSprite.x.$hF-50,this.ballSprite.y.$hF-180);this.portal1=this.addObject("portal",290,120,1);this.portal2=this.addObject("portal",1280,120,3);this.portal2.$BF[27].deactivatePortal();this.addObject("coin",820,360,1);this.addObject("coin",820,420,1);this.addObject("coin",820,480,1);this.addObject("coin",1420,420,1);this.addObject("coin",1590,500,1);this.addObject("coin",1690,500,1);this.addObject("coin",1790,500,1);this.addObject("coin",
1590,560,1);this.addObject("coin",1690,560,1);this.addObject("coin",1790,560,1);this.addObject("coin",750,530,2);this.addObject("coin",820,530,2);this.addObject("coin",890,530,2);this.addObject("coin",1235,140,2);this.addObject("coin",1280,140,2);this.addObject("coin",1325,140,2);this.addObject("coin",1235,185,2);this.addObject("coin",1280,185,2);this.addObject("coin",1325,185,2);this.addObject("coin",1235,380,3);this.addObject("coin",1280,380,3);this.addObject("coin",1325,380,3);this.addObject("coin",
150,680,3);this.addObject("coin",1320,680,3);this.addObject("coin",1420,680,3);this.addBlock(f.randomNumber(1,2),590,530,1);this.addBlock(f.randomNumber(1,2),590,460,1);this.addObject("redbarrel",760,680,1);this.addObject("box_single",890,680,1);this.addObject("box_single",950,670,1);this.addObject("redbarrel",670,530,2);this.addObject("redbarrel",970,530,2);this.addBlock(f.randomNumber(1,2),700,380,3);this.addBlock(f.randomNumber(1,2),800,380,3);this.addBlock(f.randomNumber(1,2),740,400,3);this.addObject("box_single",
1220,530,3);this.addObject("box_single",900,380,3);this.addObject("box_single",825,680,3);this.addObject("pizza",1450,530,3);a=this.addObject("enemy2",240,610,1);a.$BF[1].scaleX.set__(-1);this.addObject("enemy2",1370,530,1);a=this.addObject("enemy1",165,220,2);a.$BF[27].pace(!1,250,4,2);a=this.addObject("enemy1",420,410,2);a.$BF[27].pace(!1,800,8,2);a=this.addObject("enemy2",720,650,2);a.$BF[27].pace(!1,300,2.5,2);a=this.addObject("enemy2",520,530,3);a.$BF[27].pace(!1,600,5,2);break;case 4:this.ball.setXY(this.ballSprite.x.$hF+
570+this.platformGap,this.ballSprite.y.$hF+50);this.addObject("coin",150,680,1);this.addObject("coin",150,620,1);this.addObject("coin",210,680,1);this.addObject("coin",730,420,1);this.addObject("coin",820,420,1);this.addObject("coin",910,420,1);this.addObject("coin",1320,420,1);this.addObject("coin",1390,420,1);this.addObject("coin",165,140,2);this.addObject("coin",415,140,2);this.addObject("coin",165,240,2);this.addObject("coin",415,240,2);this.addObject("coin",1235,140,2);this.addObject("coin",
1280,140,2);this.addObject("coin",1325,140,2);this.addObject("coin",1260,185,2);this.addObject("coin",1305,185,2);this.addObject("coin",175,140,3);this.addObject("coin",175,185,3);this.addObject("coin",175,230,3);this.addObject("coin",405,140,3);this.addObject("coin",405,185,3);this.addObject("coin",405,230,3);this.addObject("coin",1165,140,3);this.addObject("coin",1165,190,3);this.addObject("coin",1215,140,3);this.addObject("coin",1215,190,3);this.addObject("coin",1420,460,3);this.addObject("coin",
1420,530,3);this.addObject("coin",1420,600,3);this.addObject("barrel",380,200,1);this.addObject("barrel",290,200,3);this.addObject("barrel",820,420,3);this.addObject("barrel",900,500,3);this.addObject("redbarrel",900,420,3);this.addObject("redbarrel",820,500,3);this.addObject("barrel",820,660,1);this.addObject("redbarrel",900,660,1);this.addObject("redbarrel",980,660,1);this.addObject("box_single",250,350,1);this.addObject("box_single",330,340,1);this.addObject("box_single",380,420,1);this.addObject("pizza",
660,640,1);this.addObject("box_double",570,500,2);this.addObject("box_double",620,560,2);this.addBlock(f.randomNumber(1,2),290,500,1);a=this.addObject("enemy1",210,200,1);a.$BF[1].scaleX.set__(-1);this.addObject("enemy1",1280,200,1);a=this.addObject("enemy1",520,450,1);a.$BF[27].pace(!1,600,5,2);a=this.addObject("enemy2",1420,530,1);a.$BF[27].pace(!1,600,5,2);a=this.addObject("enemy2",1420,530,2);a.$BF[27].pace(!1,600,5,2);this.addObject("enemy1",290,200,2);a=this.addObject("enemy1",1370,660,3);a.$BF[27].pace(!0,
600,5,2);this.addObject("enemy1",1340,200,3);break;case 5:this.ball.setXY(this.ballSprite.x.$hF+540+this.platformGap,this.ballSprite.y.$hF+20),this.portal1=this.addObject("portal",290,120,2),this.portal2=this.addObject("portal",1280,120,3),this.portal2.$BF[27].deactivatePortal(),this.addObject("coin",200,140,1),this.addObject("coin",245,140,1),this.addObject("coin",290,140,1),this.addObject("coin",335,140,1),this.addObject("coin",380,140,1),this.addObject("coin",200,200,1),this.addObject("coin",245,
200,1),this.addObject("coin",290,200,1),this.addObject("coin",335,200,1),this.addObject("coin",380,200,1),this.addObject("coin",1190,140,1),this.addObject("coin",1235,140,1),this.addObject("coin",1280,140,1),this.addObject("coin",1325,140,1),this.addObject("coin",1370,140,1),this.addObject("coin",1190,200,1),this.addObject("coin",1235,200,1),this.addObject("coin",1280,200,1),this.addObject("coin",1325,200,1),this.addObject("coin",1370,200,1),this.addObject("coin",1590,500,1),this.addObject("coin",
1690,500,1),this.addObject("coin",1790,500,1),this.addObject("coin",1590,560,1),this.addObject("coin",1690,560,1),this.addObject("coin",1790,560,1),this.addObject("coin",1190,140,2),this.addObject("coin",1235,140,2),this.addObject("coin",1280,140,2),this.addObject("coin",1325,140,2),this.addObject("coin",1370,140,2),this.addObject("coin",1350,680,2),this.addObject("coin",1420,680,2),this.addObject("coin",1420,610,2),this.addObject("coin",150,680,2),this.addObject("coin",200,140,3),this.addObject("coin",
245,140,3),this.addObject("coin",290,140,3),this.addObject("coin",335,140,3),this.addObject("coin",380,140,3),this.addObject("coin",730,410,3),this.addObject("coin",775,410,3),this.addObject("coin",820,410,3),this.addObject("coin",865,410,3),this.addObject("coin",910,410,3),this.addObject("coin",150,680,3),this.addObject("coin",770,530,3),this.addObject("coin",820,530,3),this.addObject("coin",870,530,3),this.addObject("coin",1470,530,3),this.addBlock(f.randomNumber(1,2),620,530,1),this.addBlock(f.randomNumber(1,
2),700,530,1),this.addBlock(f.randomNumber(1,2),940,530,1),this.addBlock(f.randomNumber(1,2),1020,530,1),this.addObject("pizza",820,530,1),this.addObject("barrel",100,530,1),this.addObject("barrel",810,400,2),this.addObject("barrel",880,400,2),this.addObject("barrel",850,710,2),this.addObject("barrel",820,660,3),this.addObject("redbarrel",1245,300,3),this.addObject("redbarrel",1315,310,3),this.addObject("box_single",720,640,3),this.addObject("box_double",940,620,3),a=this.addObject("enemy2",200,640,
1),a.$BF[1].scaleX.set__(-1),a=this.addObject("enemy1",370,430,1),a.$BF[27].pace(!1,900,5,2),a=this.addObject("enemy1",1270,650,1),a.$BF[27].pace(!0,900,5,2),a=this.addObject("enemy2",620,450,2),a.$BF[1].scaleX.set__(-1),a=this.addObject("enemy2",620,650,2),a.$BF[1].scaleX.set__(-1),this.addObject("enemy2",1050,560,2),a=this.addObject("enemy1",1320,530,2),a.$BF[27].pace(!1,600,5,2),this.addObject("enemy2",1280,290,2),a=this.addObject("enemy2",190,260,3),a.$BF[27].pace(!1,200,3,2),a=this.addObject("enemy1",
520,430,3),a.$BF[27].pace(!1,600,5,2),this.addObject("enemy2",1320,450,3),this.addObject("enemy2",1320,610,3)}},onUpdate:function(a){var b=this;this.lastHit-=a;if(this.inPlay)if("subway"==c.area&&(this.train.setXY(this.trainEnt.$BF[1].x.$hF+370,this.trainSprite.y.$hF),a=f.vectorDistance(this.trainEnt.$BF[1].x.$hF,this.player.$BF[1].x.$hF,0,0),this.trainRunning&&(1100<a?this.trainLoop.volume.animateTo(0,0.8):850<a?this.trainLoop.volume.animateTo(0.3,0.3):500<a?this.trainLoop.volume.animateTo(0.6,0.3):
this.trainLoop.volume.animateTo(1,0.3))),"subway"==c.area&&null!=this.blockerCarriage&&null!=this.player&&(0!=(this.blockerCarriage.body.$gB&32)?this.ballSprite.x.$hF<this.carriageSprite.x.$hF&&this.blockerCarriage.body.setActive(!1):this.ballSprite.x.$hF>this.carriageSprite.x.$hF+280&&this.blockerCarriage.body.setActive(!0)),this.scrollLevel(),a=1,this.rolling&&5<Math.abs(this.ball.body.$kB.x)&&(0>this.ball.body.$kB.x&&(a=-1),0<this.ball.body.$kB.x&&(a=1),this.knockedDown?this.player.$BF[1].scaleX.set__(-a):
this.player.$BF[1].scaleX.set__(a)),this.rolling){5>this.ball.body.$kB.length()&&!this.teleporting&&(this.knockedDown?this.player.$BF[26].hit():(this.shadow.$BF[19].loop("shadow_idle"),this.player.$BF[26].rollEnd()),this.ball.body.setLinearVelocity(new w(0,0)),this.rolling=!1,1>this.shots?(a=new S,a.run(new T([new E(1),new D(function(){b.gameOverCallback("GAMEOVER")})])),this.owner.add(a)):(this.controlsActive=!0,4>this.shots&&this.showTurnsRemaining()),this.coins==this.coinMax&&this.kills==this.enemyMax&&
(this.controlsActive=!1,a=new S,a.run(new T([new E(1),new D(function(){b.gameOverCallback("GAMEOVER")})])),this.owner.add(a)));a=0;for(var d=this.objects;a<d.length;){var g=d[a];++a;if(f.vectorDistance(g.$BF[1].x.$hF,this.ballSprite.x.$hF,g.$BF[1].y.$hF,this.ballSprite.y.$hF)<g.$BF[27].size){if(g.$BF[27].hit()){switch(g.$BF[27].type){case "barrel":var h=new e;f.createImageSprite(this.game,h,"game/scorched",!0,g.$BF[1].x.$hF,g.$BF[1].y.$hF);h.$BF[1].rotation.set__(f.randomNumber(0,359));h.$BF[1].alpha.set__(f.randomNumberFloat(0.5,
1));var h=new w(g.$BF[1].x.$hF,g.$BF[1].y.$hF),l=new w(0.15*(g.$BF[1].x.$hF-this.ballSprite.x.$hF),0.15*(g.$BF[1].y.$hF-this.ballSprite.y.$hF));this.ball.setVelocityXY(0,0);this.ball.body.applyImpulse(l,h);this.knockedDown=!0;c.won=!1;h=new S;h.run(new T([new E(2),new D(function(){return function(){b.gameOverCallback("GAMEOVER")}}())]));this.owner.add(h);break;case "coin":this.coins++;h=this.coinText.$BF[1];(h instanceof O?h:null).set_text(v.string(this.coins));break;case "enemy1":this.kills++;h=
this.killsText.$BF[1];(h instanceof O?h:null).set_text(v.string(this.kills));this.rolling||(this.player.$BF[26].hit(),this.knockedDown=!0,c.won=!1,h=new S,h.run(new T([new E(2),new D(function(){return function(){b.gameOverCallback("GAMEOVER")}}())])),this.owner.add(h));break;case "enemy2":this.kills++;h=this.killsText.$BF[1];(h instanceof O?h:null).set_text(v.string(this.kills));this.rolling||(this.player.$BF[26].hit(),this.knockedDown=!0,c.won=!1,h=new S,h.run(new T([new E(2),new D(function(){return function(){b.gameOverCallback("GAMEOVER")}}())])),
this.owner.add(h));break;case "pizza":this.pizza++;h=this.pizzaText.$BF[1];(h instanceof O?h:null).set_text(v.string(this.pizza));break;case "portal":if(g==this.portal1&&this.portal1.$BF[27].portalActive){this.teleporting=!0;this.playSound("portal_exit");h=[this.ball.body.$kB.x];l=[this.ball.body.$kB.y];this.ball.body.setLinearVelocity(new w(0,0));this.shadow.$BF[1].alpha.animateTo(0,0.3);this.player.$BF[1].alpha.animateTo(0,0.3);this.player.$BF[26].teleport(!0);this.portal1.$BF[27].deactivatePortal(!1);
var m=new S;m.run(new T([new E(1),new D(function(){return function(){b.ball.setXY(b.portal2.$BF[1].x.$hF,b.portal2.$BF[1].y.$hF+10)}}()),new E(0.3),new D(function(){return function(){b.portal2.$BF[27].portalPulse();b.playSound("portal_exit")}}()),new E(0.6),new D(function(){return function(){b.shadow.$BF[1].alpha.animateTo(1,0.2);b.player.$BF[1].alpha.animateTo(1,0.2);b.player.$BF[26].teleport(!1)}}()),new E(0.1),new D(function(a,c){return function(){2>Math.abs(a[0])&&(c[0]*=2,a[0]*=2);b.teleporting=
!1;b.ball.setVelocityXY(c[0],-a[0]);b.ball.body.setLinearVelocity(new w(c[0],-a[0]))}}(l,h))]));this.owner.add(m)}else g==this.portal2&&this.portal2.$BF[27].portalActive&&(this.teleporting=!0,this.playSound("portal_exit"),h=[this.ball.body.$kB.x],l=[this.ball.body.$kB.y],this.ball.body.setLinearVelocity(new w(0,0)),this.shadow.$BF[1].alpha.animateTo(0,0.3),this.player.$BF[1].alpha.animateTo(0,0.3),this.player.$BF[26].teleport(!0),this.portal2.$BF[27].deactivatePortal(!1),m=new S,m.run(new T([new E(1),
new D(function(){return function(){b.ball.setXY(b.portal1.$BF[1].x.$hF,b.portal1.$BF[1].y.$hF+10)}}()),new E(0.3),new D(function(){return function(){b.portal1.$BF[27].portalPulse();b.playSound("portal_exit")}}()),new E(0.6),new D(function(){return function(){b.shadow.$BF[1].alpha.animateTo(1,0.2);b.player.$BF[1].alpha.animateTo(1,0.2);b.player.$BF[26].teleport(!1)}}()),new E(0.1),new D(function(a,c){return function(){2>Math.abs(a[0])&&(c[0]*=2,a[0]*=2);b.teleporting=!1;b.ball.setVelocityXY(c[0],-a[0]);
b.ball.body.setLinearVelocity(new w(c[0],-a[0]))}}(l,h))])),this.owner.add(m))}"portal"!=g.$BF[27].type&&(F.remove(this.objects,g),F.remove(this.zsort,g),this.foreground.addChild(g))}}else"portal"==g.$BF[27].type&&!g.$BF[27].portalActive&&f.vectorDistance(g.$BF[1].x.$hF,this.ballSprite.x.$hF,g.$BF[1].y.$hF,this.ballSprite.y.$hF)>2*g.$BF[27].size&&f.vectorDistance(g.$BF[1].x.$hF,this.ballSprite.x.$hF,g.$BF[1].y.$hF,this.ballSprite.y.$hF)<4*g.$BF[27].size&&(g.$BF[27].portalActive=!0)}a=0;for(d=this.jumps;a<
d.length;)g=d[a],++a,g.$BF[24].active&&(h=!0,"subway"==c.area&&285>this.ballSprite.y.$hF&&(h=!1),30>f.vectorDistance(g.$BF[1].x.$hF,this.ballSprite.x.$hF,0,0)&&h&&g.$BF[24].hit()&&!g.$BF[24].up&&(this.player.$BF[26].jump(),h=this.ball.body.$kB,17>Math.abs(h.x)?(l=17/Math.abs(h.x),0==Math.abs(h.x)&&(l=0),this.ball.body.setLinearVelocity(new w(h.x*l,h.y*l))):40<Math.abs(h.x)&&(l=Math.abs(h.x)/40,this.ball.body.setLinearVelocity(new w(h.x/l,h.y/l))),"subway"==c.area&&(this.blockerCarriage.body.setActive(!1),
this.blockerRamp.body.setActive(!1),h=new S,h.run(new T([new E(1),new D(function(){b.blockerCarriage.body.setActive(!0);b.blockerRamp.body.setActive(!0)})])),g.add(h))))}else for(a=0,d=this.objects;a<d.length;)if(g=d[a],++a,f.vectorDistance(g.$BF[1].x.$hF,this.ballSprite.x.$hF,g.$BF[1].y.$hF,this.ballSprite.y.$hF)<g.$BF[27].size&&g.$BF[27].hit()){switch(g.$BF[27].type){case "barrel":h=new e;f.createImageSprite(this.game,h,"game/scorched",!0,g.$BF[1].x.$hF,g.$BF[1].y.$hF);h.$BF[1].rotation.set__(f.randomNumber(0,
359));h.$BF[1].alpha.set__(f.randomNumberFloat(0.5,1));h=new w(g.$BF[1].x.$hF,g.$BF[1].y.$hF);l=new w(0.15*(g.$BF[1].x.$hF-this.ballSprite.x.$hF),0.15*(g.$BF[1].y.$hF-this.ballSprite.y.$hF));this.ball.setVelocityXY(0,0);this.ball.body.applyImpulse(l,h);this.player.$BF[26].hit();this.knockedDown=!0;c.won=!1;h=new S;h.run(new T([new E(2),new D(function(){b.gameOverCallback("GAMEOVER")})]));this.owner.add(h);break;case "coin":this.coins++;h=this.coinText.$BF[1];(h instanceof O?h:null).set_text(v.string(this.coins));
break;case "enemy1":this.player.$BF[26].hit();this.knockedDown=!0;c.won=!1;h=new S;h.run(new T([new E(2),new D(function(){b.gameOverCallback("GAMEOVER")})]));this.owner.add(h);break;case "enemy2":this.player.$BF[26].hit();this.knockedDown=!0;c.won=!1;h=new S;h.run(new T([new E(2),new D(function(){b.gameOverCallback("GAMEOVER")})]));this.owner.add(h);break;case "pizza":this.pizza++,h=this.pizzaText.$BF[1],(h instanceof O?h:null).set_text(v.string(this.pizza))}"portal"!=g.$BF[27].type&&(F.remove(this.objects,
g),F.remove(this.zsort,g),this.foreground.addChild(g))}this.foreground.$BF[1].setXY(this.game.$BF[1].x.$hF,this.game.$BF[1].y.$hF);this.rolling&&!this.knockedDown&&!this.player.$BF[26].jumping&&5<f.vectorDistance(this.trailX,this.ballSprite.x.$hF,this.trailY,this.ballSprite.y.$hF)&&this.addTrail();this.player.$BF[1].x.set__(this.shadow.$BF[1].x.set__(this.ballSprite.x.$hF));this.player.$BF[1].y.set__(this.shadow.$BF[1].y.set__(this.ballSprite.y.$hF));this.depthSort()},depthSort:function(){if(0<this.depthSortLastFrame)this.depthSortLastFrame--;
else{this.depthSortLastFrame=this.depthSortFrames;this.zsort.sort(function(a,b){return a.$BF[1].y.$hF==b.$BF[1].y.$hF?0:a.$BF[1].y.$hF>b.$BF[1].y.$hF?1:-1});for(var a=0,b=this.zsort;a<b.length;){var d=b[a];++a;this.game.addChild(d,!0)}a=0;for(b=this.overlays;a<b.length;)d=b[a],++a,this.game.addChild(d,!0);"lair"!=c.area&&"subway"!=c.area&&"city"!=c.area||this.game.addChild(this.downlight)}},scrollLevel:function(a){null==a&&(a=!0);var b=this.game.$BF[1].x.$hF;this.ballSprite.x.$hF+this.game.$BF[1].x.$hF>
0.5*this.screenWidth?b=0.5*this.screenWidth-this.ballSprite.x.$hF:this.ballSprite.x.$hF+this.game.$BF[1].x.$hF<0.5*this.screenWidth&&(b=0.5*this.screenWidth-this.ballSprite.x.$hF);b>-this.scrollMin?b=-this.scrollMin:b<-this.scrollMax&&(b=-this.scrollMax);if("city"==c.area){var d=this.game.$BF[1].x.$hF;this.ballSprite.y.$hF+this.game.$BF[1].y.$hF>0.5*this.screenHeight?d=0.5*this.screenHeight-this.ballSprite.y.$hF:this.ballSprite.y.$hF+this.game.$BF[1].y.$hF<0.5*this.screenHeight&&(d=0.5*this.screenHeight-
this.ballSprite.y.$hF);d>-this.scrollMinY?d=-this.scrollMinY:d<-this.scrollMaxY&&(d=-this.scrollMaxY);a?this.game.$BF[1].y.animateTo(d,0.15):this.game.$BF[1].y.set__(d)}a?this.game.$BF[1].x.animateTo(b,0.15):this.game.$BF[1].x.set__(b);"lair"==c.area?a?this.lights.$BF[1].x.animateTo(0.8*b-100,0.15):this.lights.$BF[1].x.set__(0.8*b-100):"roof"==c.area?a?this.background.$BF[1].x.animateTo(0.2*b-20,0.15):this.background.$BF[1].x.set__(0.2*b-20):"subway"==c.area&&(a?this.pillars.$BF[1].x.animateTo(1.2*
b,0.15):this.pillars.$BF[1].x.set__(1.2*b))},postSolve:function(a,b){var d=this;if("subway"==c.area&&this.player.$BF[1].x.$hF<this.trainEnt.$BF[1].x.$hF+60&&0<b.normalImpulses.length){var e=a.$5C.$NC.$7B;if(a.$4C.$NC.$7B!=this.trainSprite.owner.$BF[4]?e==this.trainSprite.owner.$BF[4]&&!this.knockedDown:1)this.knockedDown=!0,c.won=!1,this.rolling||this.player.$BF[26].hit(),this.trainRunning&&(this.trainEnt.$BF[11].stopAll(),this.trainEnt.$BF[1].x.set__(this.trainEnt.$BF[1].x.$hF),this.trainEnt.$BF[1].x.animateBy(-100,
1,ba.sineOut),this.train.body.setLinearVelocity(new w(0,0)),this.trainRunning=!1,this.trainLoop.volume.animateTo(0,0.2),this.playSound("subway_car_stop"),e=new S,e.run(new T([new E(2),new D(function(){d.gameOverCallback("GAMEOVER")})])),this.owner.add(e))}this.rolling&&!this.knockedDown&&!this.teleporting&&0>this.lastHit&&(this.playSound("wall_hit_1"),this.lastHit=0.3)},addObject:function(a,b,c,f){null==f&&(f=0);switch(f){case 1:b+=this.platform1.$BF[1].x.$hF;c+=this.platform1.$BF[1].y.$hF;break;
case 2:b+=this.platform2.$BF[1].x.$hF;c+=this.platform2.$BF[1].y.$hF;break;case 3:b+=this.platform3.$BF[1].x.$hF,c+=this.platform3.$BF[1].y.$hF}a=(new e).add(new Qe(a,b,c));this.game.addChild(a);this.objects.push(a);this.zsort.push(a);return a},addTyre:function(a,b,d){var g=(new Z(c.pack.getTexture("game/tyre_collider"))).setXY(b,d).centerAnchor().setAlpha(c.debugAlpha),h=this.box2d.createRectangle(g);h.body.setType(0);this.game.addChild((new e).add(g).add(h));g=new e;switch(a){case 1:f.createImageSprite(this.game,
g,"game/tire_single",!0,b,d+8);break;case 2:f.createImageSprite(this.game,g,"game/tire_double",!0,b,d);break;case 3:f.createImageSprite(this.game,g,"game/tire_triple",!0,b,d)}this.zsort.push(g)},addBlock:function(a,b,d,g){null==g&&(g=0);switch(g){case 1:b+=this.platform1.$BF[1].x.$hF;d+=this.platform1.$BF[1].y.$hF;break;case 2:b+=this.platform2.$BF[1].x.$hF;d+=this.platform2.$BF[1].y.$hF;break;case 3:b+=this.platform3.$BF[1].x.$hF,d+=this.platform3.$BF[1].y.$hF}g=(new Z(c.pack.getTexture("game/brick_collider"))).setXY(b,
d).centerAnchor().setAlpha(c.debugAlpha);var h=this.box2d.createRectangle(g);h.body.setType(0);this.game.addChild((new e).add(g).add(h));g=new e;switch(a){case 1:f.createImageSprite(this.game,g,"game/bricks1",!0,b,d-10);break;case 2:f.createImageSprite(this.game,g,"game/bricks2",!0,b,d-10)}this.zsort.push(g)},addRoofObject:function(a,b,d){switch(a){case "deckchair":a=(new Z(c.gamePack.getTexture("deckchair_collider"))).setXY(b,d).centerAnchor().setAlpha(c.debugAlpha);var g=this.box2d.createRectangle(a);
g.body.setType(0);this.game.addChild((new e).add(a).add(g));a=new e;f.createImageSprite(this.game,a,"deck_chair",!0,b,d-10,"GAME");this.zsort.push(a);break;case "skylight":a=(new Z(c.gamePack.getTexture("skylight_collider"))).setXY(b,d).centerAnchor().setAlpha(c.debugAlpha);g=this.box2d.createRectangle(a);g.body.setType(0);this.game.addChild((new e).add(a).add(g));a=new e;f.createImageSprite(this.game,a,"skylight",!0,b,d-50,"GAME");this.zsort.push(a);break;case "umbrella":a=new e;f.createImageSprite(this.game,
a,"umbrella_shadow",!0,b,d,"GAME");a=(new Z(c.gamePack.getTexture("umbrella_collider"))).setXY(b,d).centerAnchor().setAlpha(c.debugAlpha);g=this.box2d.createCircle(a);g.body.setType(0);this.game.addChild((new e).add(a).add(g));a=new e;f.createImageSprite(this.game,a,"umbrella",!0,b,d+25,"GAME");this.zsort.push(a);break;case "watertower":a=(new Z(c.gamePack.getTexture("watertower_collider"))).setXY(b,d).centerAnchor().setAlpha(c.debugAlpha),g=this.box2d.createRectangle(a),g.body.setType(0),this.game.addChild((new e).add(a).add(g)),
a=new e,f.createImageSprite(this.game,a,"water_tower",!0,b,d-70,"GAME"),this.zsort.push(a)}},addTrail:function(){if(!c.lite){var a=(new e).add(new Re(this.ballSprite.x.$hF,this.ballSprite.y.$hF));this.trail.addChild(a);this.trailX=this.ballSprite.x.$hF;this.trailY=this.ballSprite.y.$hF}},pointerDownHandler:function(a){if(!this.rolling&&!this.knockedDown&&0<this.shots&&this.controlsActive&&!c.paused){var b=a.viewX/c.scale-c.offsetX/2-this.game.$BF[1].x.$hF,d=a.viewY/c.scale-c.offsetY/2-this.game.$BF[1].y.$hF;
a=180*Math.atan2(d-this.arrow.$BF[1].y.$hF,b-this.arrow.$BF[1].x.$hF)/Math.PI;this.arrow.$BF[1].setXY(this.ballSprite.x.$hF,this.ballSprite.y.$hF);this.arrow.$BF[1].set_visible(!0);b=c.ballSpeed*f.vectorDistance(b,this.arrow.$BF[1].x.$hF,d,this.arrow.$BF[1].y.$hF)-200;b<c.minPower?b=c.minPower:b>c.maxPower&&(b=c.maxPower);this.arrow.$BF[25].update(a,b);this.shadow.$BF[19].loop("red");this.shadow.$BF[1].set_visible(!1);this.pointerDown=!0}},pointerUpHandler:function(a){var b=this;if((this.rolling?
0:0!=(this.arrow.$BF[1].$nE&2))&&this.controlsActive&&!c.paused){this.controlsActive=!1;var d=c.ballSpeed*f.vectorDistance(a.viewX/c.scale-c.offsetX/2-this.game.$BF[1].x.$hF,this.arrow.$BF[1].x.$hF,a.viewY/c.scale-c.offsetY/2-this.game.$BF[1].y.$hF,this.arrow.$BF[1].y.$hF)-200;d<c.minPower?d=c.minPower:d>c.maxPower&&(d=c.maxPower);var e=this.arrow.$BF[25].getAngle()+90;this.arrow.$BF[1].set_visible(!1);this.pointerDown=!1;this.shadow.$BF[19].loop("shadow_idle");this.player.$BF[26].rollStart();this.shadow.$BF[1].set_visible(!0);
this.trailX=this.ballSprite.x.$hF;this.trailY=this.ballSprite.y.$hF;a=new S;a.run(new T([new E(0.16),new D(function(){b.ball.setVelocityXY(Math.sin(e*Math.PI/180)*d,-Math.cos(e*Math.PI/180)*d);b.rolling=!0;b.shots--;var a=b.shotsText.$BF[1];(a instanceof O?a:null).set_text(null==b.shots?"null":""+b.shots)})]));this.player.add(a)}},pointerMoveHandler:function(a){if(!this.rolling&&this.pointerDown&&this.controlsActive&&!c.paused){var b=a.viewX/c.scale-c.offsetX/2-this.game.$BF[1].x.$hF,d=a.viewY/c.scale-
c.offsetY/2-this.game.$BF[1].y.$hF;a=180*Math.atan2(d-this.arrow.$BF[1].y.$hF,b-this.arrow.$BF[1].x.$hF)/Math.PI;this.arrow.$BF[1].setXY(this.ballSprite.x.$hF,this.ballSprite.y.$hF);b=c.ballSpeed*f.vectorDistance(b,this.arrow.$BF[1].x.$hF,d,this.arrow.$BF[1].y.$hF)-200;b<c.minPower?b=c.minPower:b>c.maxPower&&(b=c.maxPower);this.arrow.$BF[25].update(a,b)}},keyDownHandler:function(a){this.inPlay&&a.key==g.Space&&this.ball.setVelocityXY(f.randomNumber(-3E3,3E3),f.randomNumber(-1600,1600));if(c.testMode)if(a.key==
g.Numpad1)this.game.$BF[1].setScale(0.6);else if(a.key!=g.Numpad2)if(a.key==g.Numpad3)this.ball.setXY(this.ballSprite.x.$hF+200,this.ballSprite.y.$hF);else if(a.key==g.Number1)this.player.$BF[26].hit();else if(a.key==g.Number2){if(this.player.$BF[26].jump(),a=this.ball.body.$kB,15>Math.abs(a.x)){var b=15/Math.abs(a.x);this.ball.body.setLinearVelocity(new w(a.x*b,a.y*b))}}else a.key==g.Number9&&this.ball.body.setLinearVelocity(new w(5,5))},keyUpHandler:function(a){},showTurnsRemaining:function(){var a=
this;null!=this.turnsFrame&&this.turnsFrame.dispose();this.turnsFrame=new e;f.createImageSprite(this.screen,this.turnsFrame,"game/turn_alert_frame",!0,this.screenWidth/2,this.screenHeight+55);this.turnsFrame.$BF[1].y.animateTo(this.screenHeight-55,0.4,ba.bounceOut);var b=new e;f.createImageSprite(this.turnsFrame,b,"hud/icon_char_"+c["char"],!0,42,42);b=new e;1==this.shots?f.createXMLSprite(this.turnsFrame,b,c.smallFont,"Center",180,40,c.translations.node.resolve("turnRemaining")):f.createXMLSprite(this.turnsFrame,
b,c.smallFont,"Center",180,40,c.translations.node.resolve("turnsRemaining"));var d=b.$BF[1],g=b.$BF[1];(d instanceof O?d:null).set_text(v.string(this.shots)+" "+(g instanceof O?g:null).$oI);c.vo||(b.$BF[1].setScale(0.8*b.$BF[1].scaleX.$hF),b=b.$BF[1].y,b.set__(b.$hF-4));b=new S;b.run(new T([new E(2),new D(function(){a.turnsFrame.$BF[1].y.animateTo(a.screenHeight+100,0.4,ba.sineIn)})]));this.turnsFrame.add(b)},playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},__class__:Ne});var Le=
function(a,b,d){this.awardedMedal=this.winStatus=this.pizzaMax=0;y.call(this);this.x=a|0;this.y=b|0;this.callback=d;if("lair"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level11coinsMax;this.enemyMax=c.level11enemiesMax;this.shotsMax=c.level11shots;c.level11coins=c.levelCoins;c.level11medal=this.awardMedal(c.level11medal);break;case 2:this.coinsMax=c.level12coinsMax;this.enemyMax=c.level12enemiesMax;this.shotsMax=c.level12shots;c.level12coins=c.levelCoins;c.level12medal=this.awardMedal(c.level12medal);
break;case 3:this.coinsMax=c.level13coinsMax;this.enemyMax=c.level13enemiesMax;this.shotsMax=c.level13shots;c.level13coins=c.levelCoins;c.level13medal=this.awardMedal(c.level13medal);break;case 4:this.coinsMax=c.level14coinsMax;this.enemyMax=c.level14enemiesMax;this.shotsMax=c.level14shots;c.level14coins=c.levelCoins;c.level14medal=this.awardMedal(c.level14medal);break;case 5:this.coinsMax=c.level15coinsMax,this.enemyMax=c.level15enemiesMax,this.shotsMax=c.level15shots,c.level15coins=c.levelCoins,
c.level15medal=this.awardMedal(c.level15medal)}else if("yard"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level21coinsMax;this.enemyMax=c.level21enemiesMax;this.shotsMax=c.level21shots;c.level21coins=c.levelCoins;c.level21medal=this.awardMedal(c.level21medal);this.pizzaMax=c.level21pizzaMax;break;case 2:this.coinsMax=c.level22coinsMax;this.enemyMax=c.level22enemiesMax;this.shotsMax=c.level22shots;c.level22coins=c.levelCoins;c.level22medal=this.awardMedal(c.level22medal);this.pizzaMax=c.level22pizzaMax;
break;case 3:this.coinsMax=c.level23coinsMax;this.enemyMax=c.level23enemiesMax;this.shotsMax=c.level23shots;c.level23coins=c.levelCoins;c.level23medal=this.awardMedal(c.level23medal);this.pizzaMax=c.level23pizzaMax;break;case 4:this.coinsMax=c.level24coinsMax;this.enemyMax=c.level24enemiesMax;this.shotsMax=c.level24shots;c.level24coins=c.levelCoins;c.level24medal=this.awardMedal(c.level24medal);this.pizzaMax=c.level24pizzaMax;break;case 5:this.coinsMax=c.level25coinsMax,this.enemyMax=c.level25enemiesMax,
this.shotsMax=c.level25shots,c.level25coins=c.levelCoins,c.level25medal=this.awardMedal(c.level25medal),this.pizzaMax=c.level25pizzaMax}else if("roof"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level31coinsMax;this.enemyMax=c.level31enemiesMax;this.shotsMax=c.level31shots;c.level31coins=c.levelCoins;c.level31medal=this.awardMedal(c.level31medal);break;case 2:this.coinsMax=c.level32coinsMax;this.enemyMax=c.level32enemiesMax;this.shotsMax=c.level32shots;c.level32coins=c.levelCoins;c.level32medal=
this.awardMedal(c.level32medal);break;case 3:this.coinsMax=c.level33coinsMax;this.enemyMax=c.level33enemiesMax;this.shotsMax=c.level33shots;c.level33coins=c.levelCoins;c.level33medal=this.awardMedal(c.level33medal);break;case 4:this.coinsMax=c.level34coinsMax;this.enemyMax=c.level34enemiesMax;this.shotsMax=c.level34shots;c.level34coins=c.levelCoins;c.level34medal=this.awardMedal(c.level34medal);break;case 5:this.coinsMax=c.level35coinsMax,this.enemyMax=c.level35enemiesMax,this.shotsMax=c.level35shots,
c.level35coins=c.levelCoins,c.level35medal=this.awardMedal(c.level35medal)}else if("subway"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level41coinsMax;this.enemyMax=c.level41enemiesMax;this.shotsMax=c.level41shots;c.level41coins=c.levelCoins;c.level41medal=this.awardMedal(c.level41medal);this.pizzaMax=c.level41pizzaMax;break;case 2:this.coinsMax=c.level42coinsMax;this.enemyMax=c.level42enemiesMax;this.shotsMax=c.level42shots;c.level42coins=c.levelCoins;c.level42medal=this.awardMedal(c.level42medal);
this.pizzaMax=c.level42pizzaMax;break;case 3:this.coinsMax=c.level43coinsMax;this.enemyMax=c.level43enemiesMax;this.shotsMax=c.level43shots;c.level43coins=c.levelCoins;c.level43medal=this.awardMedal(c.level43medal);this.pizzaMax=c.level43pizzaMax;break;case 4:this.coinsMax=c.level44coinsMax;this.enemyMax=c.level44enemiesMax;this.shotsMax=c.level44shots;c.level44coins=c.levelCoins;c.level44medal=this.awardMedal(c.level44medal);this.pizzaMax=c.level44pizzaMax;break;case 5:this.coinsMax=c.level45coinsMax,
this.enemyMax=c.level45enemiesMax,this.shotsMax=c.level45shots,c.level45coins=c.levelCoins,c.level45medal=this.awardMedal(c.level45medal),this.pizzaMax=c.level45pizzaMax}else if("city"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level51coinsMax;this.enemyMax=c.level51enemiesMax;this.shotsMax=c.level51shots;c.level51coins=c.levelCoins;c.level51medal=this.awardMedal(c.level51medal);this.pizzaMax=c.level51pizzaMax;break;case 2:this.coinsMax=c.level52coinsMax;this.enemyMax=c.level52enemiesMax;this.shotsMax=
c.level52shots;c.level52coins=c.levelCoins;c.level52medal=this.awardMedal(c.level52medal);this.pizzaMax=c.level52pizzaMax;break;case 3:this.coinsMax=c.level53coinsMax;this.enemyMax=c.level53enemiesMax;this.shotsMax=c.level53shots;c.level53coins=c.levelCoins;c.level53medal=this.awardMedal(c.level53medal);this.pizzaMax=c.level53pizzaMax;break;case 4:this.coinsMax=c.level54coinsMax;this.enemyMax=c.level54enemiesMax;this.shotsMax=c.level54shots;c.level54coins=c.levelCoins;c.level54medal=this.awardMedal(c.level54medal);
this.pizzaMax=c.level54pizzaMax;break;case 5:this.coinsMax=c.level55coinsMax,this.enemyMax=c.level55enemiesMax,this.shotsMax=c.level55shots,c.level55coins=c.levelCoins,c.level55medal=this.awardMedal(c.level55medal),this.pizzaMax=c.level55pizzaMax}B.saveData()};l["project.LevelEnd"]=Le;Le.__name__=["project","LevelEnd"];Le.__super__=y;Le.prototype=t(y.prototype,{get_entitySlot:function(){return 21},awardMedal:function(a){var b=0;if("lair"==c.area)this.coinsMax==c.levelCoins?b=3:c.levelCoins>=0.7*this.coinsMax?
b=2:c.levelCoins>=0.4*this.coinsMax&&(b=1);else if(0<this.pizzaMax)if(this.enemyMax==c.kills&&this.coinsMax==c.levelCoins&&this.pizzaMax==c.pizza)b=3;else if(this.enemyMax==c.kills||this.coinsMax==c.levelCoins)b=2;else{if(c.kills>=this.enemyMax/2||c.levelCoins>=this.coinsMax/2)b=1}else if(this.enemyMax==c.kills&&this.coinsMax==c.levelCoins)b=3;else if(this.enemyMax==c.kills||this.coinsMax==c.levelCoins)b=2;else if(c.kills>=this.enemyMax/2||c.levelCoins>=this.coinsMax/2)b=1;this.winStatus=b;return b>
a?this.awardedMedal=b:a},onAdded:function(){var a=this;this.owner.add(new Z(c.pack.getTexture("blank")));this.thisSprite=this.owner.$BF[1];this.thisSprite.setXY(this.x,this.y);var b=new e;f.createFillSprite(this.owner,b,0,!0,0,0,5E3,5E3,0);b.$BF[1].alpha.animateTo(0.75,0.3);var d=new e;f.createImageSprite(this.owner,d,"screens/subscreen",!0,0,5);ca.spawn(d,0.3,0.3,0.3);var g=new e;f.createImageSprite(this.owner,g,"screens/header_frame",!0,-15,-220);ca.spawn(g,0.4,0.3,0.3);b=new e;switch(c.area){case "city":f.createXMLSprite(this.owner,
b,c.bodyFont,"Center",0,-225,c.translations.node.resolve("cityMissionEnd"));break;case "lair":f.createXMLSprite(this.owner,b,c.bodyFont,"Center",0,-225,c.translations.node.resolve("lairMissionEnd"));break;case "roof":f.createXMLSprite(this.owner,b,c.bodyFont,"Center",0,-225,c.translations.node.resolve("roofMissionEnd"));break;case "subway":f.createXMLSprite(this.owner,b,c.bodyFont,"Center",0,-225,c.translations.node.resolve("subwayMissionEnd"));break;case "yard":f.createXMLSprite(this.owner,b,c.bodyFont,
"Center",0,-225,c.translations.node.resolve("yardMissionEnd"))}if(3==this.winStatus){var h=b.$BF[1],l=b.$BF[1];(h instanceof O?h:null).set_text((l instanceof O?l:null).$oI+" "+c.puzzle+" "+c.translations.node.resolve("complete").get_innerData())}else 2==this.winStatus?(h=b.$BF[1],l=b.$BF[1],(h instanceof O?h:null).set_text((l instanceof O?l:null).$oI+" "+c.puzzle+" "+c.translations.node.resolve("incomplete").get_innerData())):1==this.winStatus?(h=b.$BF[1],l=b.$BF[1],(h instanceof O?h:null).set_text((l instanceof
O?l:null).$oI+" "+c.puzzle+" "+c.translations.node.resolve("incomplete").get_innerData())):(h=b.$BF[1],l=b.$BF[1],(h instanceof O?h:null).set_text((l instanceof O?l:null).$oI+" "+c.puzzle+" "+c.translations.node.resolve("failed").get_innerData()));h=b.$BF[1];18<(h instanceof O?h:null).$oI.length&&b.$BF[1].setScale(0.8*b.$BF[1].scaleX.$hF);ca.fadeIn(b,0.4,0.3);g=g.$BF[1].y;g.set__(g.$hF-20);g=b.$BF[1].y;g.set__(g.$hF-20);c.vo||(b=b.$BF[1].y,b.set__(b.$hF-10));if(1>this.pizzaMax){this.charIcon=new e;
f.createImageSprite(d,this.charIcon,"screens/icon_"+c["char"]+"_large",!0,260,160);this.footIcon=new e;f.createImageSprite(d,this.footIcon,"screens/icon_foot_large",!0,260,270);this.coinIcon=new e;f.createImageSprite(d,this.coinIcon,"screens/icon_coins_large",!0,260,380);var q=new e;f.createTextSprite(d,q,c.medFontNum,"Left",340,140,v.string(c.shots));var p=new e;f.createTextSprite(d,p,c.medFontNum,"Left",340,250,v.string(c.kills));b=new e;f.createTextSprite(d,b,c.medFontNum,"Left",340,360,v.string(c.levelCoins));
l=new e;g=q.$BF[1].x.$hF+q.$BF[1].getNaturalWidth()+10;f.createImageSprite(d,l,"screens/divider_line2",!0,g,160);var r=new e,g=p.$BF[1].x.$hF+p.$BF[1].getNaturalWidth()+10;f.createImageSprite(d,r,"screens/divider_line2",!0,g,270);g=new e;h=b.$BF[1].x.$hF+b.$BF[1].getNaturalWidth()+10;f.createImageSprite(d,g,"screens/divider_line2",!0,h,380);var s=new e;f.createTextSprite(d,s,c.medFontNum,"Left",l.$BF[1].x.$hF+10,140,v.string(this.shotsMax));var t=new e;f.createTextSprite(d,t,c.medFontNum,"Left",r.$BF[1].x.$hF+
10,250,v.string(this.enemyMax));h=new e;f.createTextSprite(d,h,c.medFontNum,"Left",g.$BF[1].x.$hF+10,360,v.string(this.coinsMax));0==this.enemyMax&&(this.footIcon.$BF[1].set_visible(!1),p.$BF[1].set_visible(!1),r.$BF[1].set_visible(!1),t.$BF[1].set_visible(!1),p=this.charIcon.$BF[1].y,p.set__(p.$hF+50),q=q.$BF[1].y,q.set__(q.$hF+50),l=l.$BF[1].y,l.set__(l.$hF+50),l=s.$BF[1].y,l.set__(l.$hF+50),b=b.$BF[1].y,b.set__(b.$hF-50),b=g.$BF[1].y,b.set__(b.$hF-50),b=h.$BF[1].y,b.set__(b.$hF-50),b=this.coinIcon.$BF[1].y,
b.set__(b.$hF-50))}else this.charIcon=new e,f.createImageSprite(d,this.charIcon,"screens/icon_"+c["char"]+"_large",!0,260,130),this.footIcon=new e,f.createImageSprite(d,this.footIcon,"screens/icon_foot_large",!0,260,240),this.coinIcon=new e,f.createImageSprite(d,this.coinIcon,"screens/icon_coins_large",!0,260,340),l=new e,f.createTextSprite(d,l,c.medFontNum,"Left",340,110,v.string(c.shots)),g=new e,f.createTextSprite(d,g,c.medFontNum,"Left",340,220,v.string(c.kills)),b=new e,f.createTextSprite(d,
b,c.medFontNum,"Left",340,320,v.string(c.levelCoins)),h=new e,l=l.$BF[1].x.$hF+l.$BF[1].getNaturalWidth()+10,f.createImageSprite(d,h,"screens/divider_line2",!0,l,130),l=new e,g=g.$BF[1].x.$hF+g.$BF[1].getNaturalWidth()+10,f.createImageSprite(d,l,"screens/divider_line2",!0,g,240),g=new e,q=b.$BF[1].x.$hF+b.$BF[1].getNaturalWidth()+10,f.createImageSprite(d,g,"screens/divider_line2",!0,q,340),q=new e,f.createTextSprite(d,q,c.medFontNum,"Left",h.$BF[1].x.$hF+10,110,v.string(this.shotsMax)),h=new e,f.createTextSprite(d,
h,c.medFontNum,"Left",l.$BF[1].x.$hF+10,220,v.string(this.enemyMax)),h=new e,f.createTextSprite(d,h,c.medFontNum,"Left",g.$BF[1].x.$hF+10,320,v.string(this.coinsMax)),this.pizzaIcon=new e,f.createImageSprite(d,this.pizzaIcon,"screens/go_pizza",!0,260,430),h=new e,f.createTextSprite(d,h,c.medFontNum,"Left",340,410,v.string(c.pizza)),h=new e,b=b.$BF[1].x.$hF+b.$BF[1].getNaturalWidth()+10,f.createImageSprite(d,h,"screens/divider_line2",!0,b,430),b=new e,f.createTextSprite(d,b,c.medFontNum,"Left",g.$BF[1].x.$hF+
10,410,v.string(this.pizzaMax));b=new S;b.run(new T([new E(0.6),new D(function(){if(0<a.enemyMax&&c.kills==a.enemyMax){var b=new e;f.createImageSprite(d,b,"game/tick",!0,a.footIcon.$BF[1].x.$hF-20,a.footIcon.$BF[1].y.$hF-10);ca.spawn(b,0,0.3,0.3)}else 0<a.enemyMax&&(b=new e,f.createImageSprite(d,b,"game/cross",!0,a.footIcon.$BF[1].x.$hF-20,a.footIcon.$BF[1].y.$hF-10),ca.spawn(b,0.4,0.3,0.3));c.levelCoins==a.coinsMax?(b=new e,f.createImageSprite(d,b,"game/tick",!0,a.coinIcon.$BF[1].x.$hF-20,a.coinIcon.$BF[1].y.$hF-
10)):(b=new e,f.createImageSprite(d,b,"game/cross",!0,a.coinIcon.$BF[1].x.$hF-20,a.coinIcon.$BF[1].y.$hF-10));ca.spawn(b,0.4,0.3,0.3);0<a.pizzaMax&&(c.pizza==a.pizzaMax?(b=new e,f.createImageSprite(d,b,"game/tick",!0,a.pizzaIcon.$BF[1].x.$hF-20,a.pizzaIcon.$BF[1].y.$hF-10)):(b=new e,f.createImageSprite(d,b,"game/cross",!0,a.pizzaIcon.$BF[1].x.$hF-20,a.pizzaIcon.$BF[1].y.$hF-10)),ca.spawn(b,0.4,0.3,0.3))})]));this.footIcon.add(b);c.won=c.kills==this.enemyMax&&c.levelCoins==this.coinsMax?!0:!1;var u=
new e;3==this.winStatus?(u.add(new M("screens/gameover",c["char"]+"Win",610,360)),"donnie"==c["char"]&&(b=new S,b.run(new wb(new T([new E(1),new D(function(){a.playSound("donnie/win_selfie")}),new E(3)]))),u.add(b))):(u.add(new M("screens/gameover",c["char"]+"Lose",610,360)),u.$BF[19].gotoAndStop(1),b=new S,b.run(new T([new E(1.4),new D(function(){u.$BF[19].play(c["char"]+"Lose",c["char"]+"Lost");u.$BF[19].gotoAndPlay(1)})])),u.add(b));d.addChild(u);"donnie"==c["char"]&&(b=u.$BF[1].y,b.set__(b.$hF+
40));"raph"==c["char"]&&(b=u.$BF[1].y,b.set__(b.$hF+50));if(0<this.awardedMedal){var w=new e;f.createFillSprite(this.owner,w,0,!0,0,0,5E3,5E3,0);w.$BF[1].set_pointerEnabled(!1);this.burst=new e;f.createImageSprite(this.owner,this.burst,"screens/burst",!0,0,40);ca.spawn(this.burst,2.4,0.3,0.3);this.burst.$BF[1].set_pointerEnabled(!1);var y=new e;f.createImageSprite(this.owner,y,"screens/trophy_large"+this.awardedMedal,!0,0,40);ca.spawn(y,2.4,0.3,0.5);y.$BF[1].set_pointerEnabled(!1);var A=(new e).add(new M("screens/sparkle",
"sparkle",0,40));this.owner.addChild(A);ca.spawn(A,2.4,0.3,0.5);A.$BF[1].set_pointerEnabled(!1);var z=new e;switch(this.awardedMedal){case 1:b=this.owner;g=c.bodyFont;h=c.translations.node.resolve("bronze");f.createXMLSprite(b,z,g,"Center",0,-150,h);break;case 2:b=this.owner;g=c.bodyFont;h=c.translations.node.resolve("silver");f.createXMLSprite(b,z,g,"Center",0,-150,h);break;case 3:b=this.owner,g=c.bodyFont,h=c.translations.node.resolve("gold"),f.createXMLSprite(b,z,g,"Center",0,-150,h)}ca.fadeIn(z,
2.4,0.5);z.$BF[1].set_pointerEnabled(!1);b=new S;b.run(new T([new E(1.9),new D(function(){w.$BF[1].alpha.animateTo(0.6,0.3)}),new E(0.5),new D(function(){a.playSound("trophy_stinger")}),new E(2.5),new D(function(){a.burst.$BF[1].alpha.animateTo(0,0.3);y.$BF[1].alpha.animateTo(0,0.3);A.$BF[1].alpha.animateTo(0,0.3);z.$BF[1].alpha.animateTo(0,0.3)}),new E(0.2),new D(function(){w.$BF[1].alpha.animateTo(0,0.3)})]));w.add(b)}this.replayBtn=new e;f.createImageSprite(d,this.replayBtn,"buttons/BTN_replay",
!0,695,470);ca.spawn(this.replayBtn,0.6,0.3,0.3);this.nextBtn=new e;f.createImageSprite(d,this.nextBtn,"buttons/BTN_next",!0,830,470);ca.spawn(this.nextBtn,0.8,0.3,0.3);this.homeBtn=new e;f.createImageSprite(d,this.homeBtn,"buttons/BTN_menu",!0,880,30);ca.spawn(this.homeBtn,1,0.3,0.3);this.connect1(m.$2F.$KF.down,L(this,this.pointerDownHandler));this.connect1(m.$2F.$KF.move,L(this,this.pointerMoveHandler))},pointerDownHandler:function(a){a.hit==this.replayBtn.$BF[1]?(this.callback("REPLAY"),this.playSound("UI_click")):
a.hit==this.nextBtn.$BF[1]?(this.callback("NEXT"),this.playSound("UI_click")):a.hit==this.homeBtn.$BF[1]&&(this.callback("HOME"),this.playSound("UI_click"))},pointerMoveHandler:function(a){f.rolloverImage(this.replayBtn,"buttons/BTN_replay","buttons/BTN_replay_rollover",a);f.rolloverImage(this.nextBtn,"buttons/BTN_next","buttons/BTN_next_rollover",a);f.rolloverImage(this.homeBtn,"buttons/BTN_menu","buttons/BTN_menu_rollover",a)},onUpdate:function(a){if(null!=this.burst){var b=this.burst.$BF[1].rotation;
b.set__(b.$hF+30*a)}},playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},__class__:Le});var xg=function(){};l["project.Main"]=xg;xg.__name__=["project","Main"];xg.main=function(){var a,b=(new e).add(new J(16777215,960,560)),d=(new e).add(new J(16777215,2E3,2E3));b.addChild(d);var d=m.$2F.$MF.get_width(),g=m.$2F.$MF.get_height();if(g>d)var h=d,d=g,g=h;m.root.addChild(b);f.detectLowEndDevice();m.$2F.$NF.get_supported()&&(c.isMobile=!0);d=window.navigator.userAgent;-1!=d.indexOf("Win")&&
(c.isMobile=!1);-1!=d.indexOf("Mac")&&(c.isMobile=!1);-1!=d.indexOf("Mobile")&&(c.isMobile=!0);d=Ma.fromAssets("config");a=m.$2F.loadAssetPack(d);a.success.connect(function(d){c.configPack=d;d=Ma.fromAssets("preloader");a=m.$2F.loadAssetPack(d);a.success.connect(function(a){c.loaderPack=a;b.dispose();m.root.add(new Se)});a.catchError(function(a){});a.progressChanged.connect(function(){})});a.catchError(function(a){});a.progressChanged.connect(function(){})};var Nc=function(a,b,d){y.call(this);this.x=
a|0;this.y=b|0;this.callback=d;if("lair"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level11coinsMax;this.enemyMax=c.level11enemiesMax;this.shotsMax=c.level11shots;break;case 2:this.coinsMax=c.level12coinsMax;this.enemyMax=c.level12enemiesMax;this.shotsMax=c.level12shots;break;case 3:this.coinsMax=c.level13coinsMax;this.enemyMax=c.level13enemiesMax;this.shotsMax=c.level13shots;break;case 4:this.coinsMax=c.level14coinsMax;this.enemyMax=c.level14enemiesMax;this.shotsMax=c.level14shots;break;case 5:this.coinsMax=
c.level15coinsMax,this.enemyMax=c.level15enemiesMax,this.shotsMax=c.level15shots}else if("yard"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level21coinsMax;this.enemyMax=c.level21enemiesMax;this.shotsMax=c.level21shots;this.pizzaMax=c.level21pizzaMax;break;case 2:this.coinsMax=c.level22coinsMax;this.enemyMax=c.level22enemiesMax;this.shotsMax=c.level22shots;this.pizzaMax=c.level22pizzaMax;break;case 3:this.coinsMax=c.level23coinsMax;this.enemyMax=c.level23enemiesMax;this.shotsMax=c.level23shots;
this.pizzaMax=c.level23pizzaMax;break;case 4:this.coinsMax=c.level24coinsMax;this.enemyMax=c.level24enemiesMax;this.shotsMax=c.level24shots;this.pizzaMax=c.level24pizzaMax;break;case 5:this.coinsMax=c.level25coinsMax,this.enemyMax=c.level25enemiesMax,this.shotsMax=c.level25shots,this.pizzaMax=c.level25pizzaMax}else if("roof"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level31coinsMax;this.enemyMax=c.level31enemiesMax;this.shotsMax=c.level31shots;break;case 2:this.coinsMax=c.level32coinsMax;this.enemyMax=
c.level32enemiesMax;this.shotsMax=c.level32shots;break;case 3:this.coinsMax=c.level33coinsMax;this.enemyMax=c.level33enemiesMax;this.shotsMax=c.level33shots;break;case 4:this.coinsMax=c.level34coinsMax;this.enemyMax=c.level34enemiesMax;this.shotsMax=c.level34shots;break;case 5:this.coinsMax=c.level35coinsMax,this.enemyMax=c.level35enemiesMax,this.shotsMax=c.level35shots}else if("subway"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level41coinsMax;this.enemyMax=c.level41enemiesMax;this.shotsMax=
c.level41shots;this.pizzaMax=c.level41pizzaMax;break;case 2:this.coinsMax=c.level42coinsMax;this.enemyMax=c.level42enemiesMax;this.shotsMax=c.level42shots;this.pizzaMax=c.level42pizzaMax;break;case 3:this.coinsMax=c.level43coinsMax;this.enemyMax=c.level43enemiesMax;this.shotsMax=c.level43shots;this.pizzaMax=c.level43pizzaMax;break;case 4:this.coinsMax=c.level44coinsMax;this.enemyMax=c.level44enemiesMax;this.shotsMax=c.level44shots;this.pizzaMax=c.level44pizzaMax;break;case 5:this.coinsMax=c.level45coinsMax,
this.enemyMax=c.level45enemiesMax,this.shotsMax=c.level45shots,this.pizzaMax=c.level45pizzaMax}else if("city"==c.area)switch(c.puzzle){case 1:this.coinsMax=c.level51coinsMax;this.enemyMax=c.level51enemiesMax;this.shotsMax=c.level51shots;this.pizzaMax=c.level55pizzaMax;break;case 2:this.coinsMax=c.level52coinsMax;this.enemyMax=c.level52enemiesMax;this.shotsMax=c.level52shots;this.pizzaMax=c.level55pizzaMax;break;case 3:this.coinsMax=c.level53coinsMax;this.enemyMax=c.level53enemiesMax;this.shotsMax=
c.level53shots;this.pizzaMax=c.level55pizzaMax;break;case 4:this.coinsMax=c.level54coinsMax;this.enemyMax=c.level54enemiesMax;this.shotsMax=c.level54shots;this.pizzaMax=c.level55pizzaMax;break;case 5:this.coinsMax=c.level55coinsMax,this.enemyMax=c.level55enemiesMax,this.shotsMax=c.level55shots,this.pizzaMax=c.level55pizzaMax}};l["project.MissionScreen"]=Nc;Nc.__name__=["project","MissionScreen"];Nc.__super__=y;Nc.prototype=t(y.prototype,{get_entitySlot:function(){return 28},onAdded:function(){this.owner.add(new Z(c.pack.getTexture("blank")));
this.thisSprite=this.owner.$BF[1];this.thisSprite.setXY(this.x,this.y);var a=new e;f.createFillSprite(this.owner,a,0,!0,0,0,5E3,5E3,0);a.$BF[1].alpha.animateTo(0.5,0.3);a=new e;f.createImageSprite(this.owner,a,"screens/subscreen_small",!0,0,5);ca.spawn(a,0.3,0.3,0.3);if("lair"==c.area){var b=new e;f.createImageSprite(a,b,"screens/icon_"+c["char"],!0,215,190);b=new e;f.createTextSprite(a,b,c.medFontNum,"Center",275,170,v.string(this.shotsMax));b=new e;f.createImageSprite(a,b,"screens/go_coins",!0,
355,190);b=new e;f.createTextSprite(a,b,c.medFontNum,"Center",430,170,v.string(this.coinsMax))}else 0<this.pizzaMax?(b=new e,f.createImageSprite(a,b,"screens/icon_"+c["char"],!0,215,155),b=new e,f.createTextSprite(a,b,c.medFontNum,"Center",275,135,v.string(this.shotsMax)),b=new e,f.createImageSprite(a,b,"screens/go_coins",!0,355,155),b=new e,f.createTextSprite(a,b,c.medFontNum,"Center",430,135,v.string(this.coinsMax)),b=new e,f.createImageSprite(a,b,"screens/icon_foot",!0,215,240),b=new e,f.createTextSprite(a,
b,c.medFontNum,"Center",275,220,v.string(this.enemyMax)),b=new e,f.createImageSprite(a,b,"screens/go_pizza",!0,355,240),b=new e,f.createTextSprite(a,b,c.medFontNum,"Center",430,220,v.string(this.pizzaMax))):(b=new e,f.createImageSprite(a,b,"screens/icon_"+c["char"],!0,135,190),b=new e,f.createTextSprite(a,b,c.medFontNum,"Center",205,170,v.string(this.shotsMax)),b=new e,f.createImageSprite(a,b,"screens/go_coins",!0,275,190),b=new e,f.createTextSprite(a,b,c.medFontNum,"Center",350,170,v.string(this.coinsMax)),
b=new e,f.createImageSprite(a,b,"screens/icon_foot",!0,445,190),b=new e,f.createTextSprite(a,b,c.medFontNum,"Center",510,170,v.string(this.enemyMax)));b=new e;f.createImageSprite(this.owner,b,"screens/header_frame",!0,-15,-170);ca.spawn(b,0.4,0.3,0.3);b=new e;switch(c.area){case "city":f.createXMLSprite(this.owner,b,c.bodyFont,"Center",0,-175,c.translations.node.resolve("cityMissionStart"));break;case "lair":f.createXMLSprite(this.owner,b,c.bodyFont,"Center",0,-175,c.translations.node.resolve("lairMissionStart"));
break;case "roof":f.createXMLSprite(this.owner,b,c.bodyFont,"Center",0,-175,c.translations.node.resolve("roofMissionStart"));break;case "subway":f.createXMLSprite(this.owner,b,c.bodyFont,"Center",0,-175,c.translations.node.resolve("subwayMissionStart"));break;case "yard":f.createXMLSprite(this.owner,b,c.bodyFont,"Center",0,-175,c.translations.node.resolve("yardMissionStart"))}var d=b.$BF[1],g=b.$BF[1];(d instanceof O?d:null).set_text((g instanceof O?g:null).$oI+" "+c.puzzle);ca.fadeIn(b,0.4,0.5);
c.vo||(b=b.$BF[1].y,b.set__(b.$hF-10));b=new e;f.createXMLSprite(this.owner,b,c.hudFont,"Center",0,-100,c.translations.node.resolve("tasks"));ca.fadeIn(b,0.6,0.5);c.vo||(b=b.$BF[1].y,b.set__(b.$hF-10));this.nextBtn=new e;f.createImageSprite(a,this.nextBtn,"buttons/BTN_next",!0,500,300);ca.spawn(this.nextBtn,0.8,0.3,0.3);0<this.pizzaMax&&(a=this.nextBtn.$BF[1].y,a.set__(a.$hF+10));this.connect1(m.$2F.$KF.down,L(this,this.pointerDownHandler));this.connect1(m.$2F.$KF.move,L(this,this.pointerMoveHandler))},
pointerDownHandler:function(a){a.hit==this.nextBtn.$BF[1]&&(this.callback(),this.playSound("UI_click"))},pointerMoveHandler:function(a){f.rolloverImage(this.nextBtn,"buttons/BTN_next","buttons/BTN_next_rollover",a)},playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},__class__:Nc});var M=function(a,b,d,e,f,g){null==g&&(g=1);y.call(this);this.movie=a;this.animation=b;this.x=d|0;this.y=e|0;this.pack=null!=f?f:c.pack;this.liteScale=g};l["project.MovieClip"]=M;M.__name__=["project","MovieClip"];
M.__super__=y;M.prototype=t(y.prototype,{get_entitySlot:function(){return 19},onAdded:function(){var a=new Ac(this.pack,this.movie);this.moviePlayer=new ke(a);this.moviePlayer.loop(this.animation);this.owner.add(this.moviePlayer).add(new r);this.thisSprite=this.owner.$BF[1];this.thisSprite.x.set__(this.x);this.thisSprite.y.set__(this.y);c.lite&&(80==this.liteScale?this.thisSprite.setScale(1.25):50==this.liteScale&&this.thisSprite.setScale(2))},gotoAndStop:function(a){var b=this.moviePlayer.movie.$hF,
c=b.symbol.frameRate;b.set_paused(!0);b.set_position(1/c*a)},gotoAndPlay:function(a){var b=this.moviePlayer.movie.$hF,c=b.symbol.frameRate;b.set_paused(!1);b.set_position(1/c*a)},play:function(a,b){this.moviePlayer.loop(b);this.moviePlayer.play(a)},loop:function(a){this.moviePlayer.loop(a)},__class__:M});var Qe=function(a,b,c){this.active=this.portalActive=!0;y.call(this);this.x=b|0;this.y=c|0;this.type=a;switch(this.type){case "barrel":this.size=60;break;case "box_double":this.size=65;break;case "box_single":this.size=
55;break;case "coin":this.size=60;break;case "enemy1":this.size=60;break;case "enemy2":this.size=80;break;case "pizza":this.size=90;break;case "portal":this.size=90;break;case "redbarrel":this.size=70}};l["project.Object"]=Qe;Qe.__name__=["project","Object"];Qe.__super__=y;Qe.prototype=t(y.prototype,{get_entitySlot:function(){return 27},onAdded:function(){var a=this;this.owner.add(new Z(c.pack.getTexture("blank")));this.owner.$BF[1].centerAnchor();this.owner.$BF[1].setXY(this.x,this.y);if("portal"==
this.type)this.shadow=new e,f.createImageSprite(this.owner,this.shadow,"game/portal_shadow",!0,0,0),this.obj=(new e).add(new M("game/portal","idle",0,-60)),this.owner.addChild(this.obj),this.obj.$BF[1].alpha.set__(0.9),this.obj.add(new lb(0.5)),this.portal=(new e).add(new M("game/portal","blank",0,-60)),this.owner.addChild(this.portal),this.mayhemShadow=(new e).add(new M("game/portal","shadow",100,30)),this.owner.addChild(this.mayhemShadow),this.mayhem=(new e).add(new M("game/portal","mayhem",100,
30)),this.owner.addChild(this.mayhem);else if("coin"==this.type)this.shadow=new e,f.createImageSprite(this.owner,this.shadow,"game/coin_shadow",!0,0,0),this.obj=new e,f.createImageSprite(this.owner,this.obj,"game/"+this.type,!0,0,-30),f.pulseUpDown(this.obj,15,f.randomNumberFloat(1.2,1.6));else if("pizza"==this.type)this.obj=new e,f.createImageSprite(this.owner,this.obj,"game/pizza_pickup",!0,0,0);else if("redbarrel"==this.type)this.obj=(new e).add(new M("game/enemies","barrel1",0,0)),this.owner.addChild(this.obj);
else if("barrel"==this.type){this.glow=(new e).add(new M("game/enemies","glow",0,0));this.owner.addChild(this.glow);var b=new S;b.run(new T([new E(f.randomNumberFloat(0,0.5)),new D(function(){f.pulseAlpha(a.glow,0.4,0.7)})]));this.glow.add(b);this.obj=(new e).add(new M("game/enemies","barrel3",0,0));this.owner.addChild(this.obj)}else"enemy1"==this.type?(this.obj=(new e).add(new M("game/enemies","enemy1",0,0)),this.owner.addChild(this.obj)):"enemy2"==this.type?(this.obj=(new e).add(new M("game/enemies",
"enemy2",0,0)),this.owner.addChild(this.obj)):"umbrella"==this.type?(this.obj=new e,f.createImageSprite(this.owner,this.obj,"game/"+this.type,!0,0,-50),b=this.owner.$BF[1].y,b.set__(b.$hF+50)):(this.obj=new e,f.createImageSprite(this.owner,this.obj,"game/"+this.type,!0,0,0))},pace:function(a,b,c,e){null==e&&(e=1);var f=this;a?(a=new S,a.run(new wb(new T([new D(function(){f.obj.$BF[1].scaleX.set__(1);f.obj.$BF[19].loop(f.type+"_run");f.owner.$BF[1].x.animateTo(f.x-b,c)}),new E(c),new D(function(){f.obj.$BF[19].loop(f.type)}),
new E(e),new D(function(){f.obj.$BF[1].scaleX.set__(-1);f.obj.$BF[19].loop(f.type+"_run");f.owner.$BF[1].x.animateTo(f.x,c)}),new E(c),new D(function(){f.obj.$BF[19].loop(f.type)}),new E(e)])))):(a=new S,a.run(new wb(new T([new E(e),new D(function(){f.obj.$BF[1].scaleX.set__(-1);f.obj.$BF[19].loop(f.type+"_run");f.owner.$BF[1].x.animateTo(f.x+b,c)}),new E(c),new D(function(){f.obj.$BF[19].loop(f.type)}),new E(e),new D(function(){f.obj.$BF[1].scaleX.set__(1);f.obj.$BF[19].loop(f.type+"_run");f.owner.$BF[1].x.animateTo(f.x,
c)}),new E(c),new D(function(){f.obj.$BF[19].loop(f.type)})]))));this.owner.add(a)},deactivatePortal:function(a){null==a&&(a=!0);this.mayhemShadow.$BF[1].alpha.set__(0);this.portalActive=!1;a&&this.mayhem.$BF[19].loop("blank")},portalPulse:function(){var a=this;this.portal.$BF[19].play("in","blank");this.mayhemShadow.$BF[1].alpha.animateTo(1,0.7,ba.sineIn);var b=new S;b.run(new T([new E(0.35),new D(function(){a.mayhem.$BF[19].play("mayhem_in","mayhem")})]));this.mayhem.add(b)},hit:function(){var a=
this;if(!this.active)return!1;null!=this.owner.$BF[11]&&this.owner.$BF[11].stopAll();this.owner.$BF[1].x.set__(this.owner.$BF[1].x.$hF);if("portal"==this.type){if(!this.portalActive)return!1;this.portal.$BF[19].play("out","blank");this.mayhemShadow.$BF[1].alpha.animateTo(0,0.3);this.playSound("portal_enter");var b=new S;b.run(new T([new E(0.35),new D(function(){a.mayhem.$BF[19].play("mayhem_out","blank")})]));this.mayhem.add(b)}else-1!=this.type.indexOf("enemy")?(this.obj.$BF[19].play("explode","blank"),
this.obj.add(new lb(0.5)),"enemy1"==this.type&&this.obj.$BF[1].scaleX.set__(1.4),this.playSound("enemy_hit2"),this.playSound("foot_explode")):"barrel"==this.type?(this.glow.$BF[1].set_visible(!1),this.obj.$BF[19].play("barrel_explode","blank"),this.obj.add(new lb(0.45)),this.playSound("blue_barrel_explode"),b=(new e).add(new U(40,0,-30)),this.owner.addChild(b),b=(new e).add(new U(41,0,0)),this.owner.addChild(b),b=(new e).add(new U(42,0,0)),this.owner.addChild(b),b=(new e).add(new U(43,0,0)),this.owner.addChild(b),
b=(new e).add(new U(41,0,0)),this.owner.addChild(b),b=(new e).add(new U(42,0,0)),this.owner.addChild(b),b=(new e).add(new U(43,0,0)),this.owner.addChild(b)):"redbarrel"==this.type?(this.obj.$BF[1].set_visible(!1),this.playSound("barrel_hit"),b=(new e).add(new U(45,0,-30)),this.owner.addChild(b)):"coin"==this.type?(b=(new e).add(new M("game/pickups","blank",0,this.obj.$BF[1].y.$hF-6)),this.owner.addChild(b),b.$BF[19].play("burst","blank"),this.shadow.$BF[1].alpha.animateTo(0,0.2),this.obj.$BF[11].stopAll(),
this.obj.$BF[1].alpha.animateTo(0,0.6),this.obj.$BF[1].y.animateBy(-150,0.6),this.obj.$BF[1].scaleX.animateTo(1.5,0.6),this.obj.$BF[1].scaleY.animateTo(1.5,0.6),this.playSound("coin_pickup")):"pizza"==this.type?(b=(new e).add(new M("game/pickups","blank",0,0)),this.owner.addChild(b),b.$BF[19].play("burst","blank"),this.obj.$BF[1].set_visible(!1),b=(new e).add(new U(60,0,0)),this.owner.addChild(b),b=(new e).add(new U(60,0,0)),this.owner.addChild(b),b=(new e).add(new U(60,0,0)),this.owner.addChild(b),
b=(new e).add(new U(60,0,0)),this.owner.addChild(b),b=(new e).add(new U(60,0,0)),this.owner.addChild(b),this.playSound("pickup")):"box_single"==this.type?(b=(new e).add(new U(1,20,0)),this.owner.addChild(b),b=(new e).add(new U(2,0,0)),this.owner.addChild(b),b=(new e).add(new U(3,0,-20)),this.owner.addChild(b),b=(new e).add(new U(4,-20,-20)),this.owner.addChild(b),b=(new e).add(new U(5,10,-10)),this.owner.addChild(b),b=(new e).add(new U(1,20,0)),this.owner.addChild(b),b=(new e).add(new U(2,0,0)),this.owner.addChild(b),
b=(new e).add(new U(3,0,-20)),this.owner.addChild(b),b=(new e).add(new U(4,-20,-20)),this.owner.addChild(b),b=(new e).add(new U(5,10,-10)),this.owner.addChild(b),b=(new e).add(new U(6,10,-10)),this.owner.addChild(b),b=(new e).add(new U(7,10,-10)),this.owner.addChild(b),this.obj.dispose(),this.playSound("crate")):"box_double"==this.type&&(b=(new e).add(new U(1,40,10)),this.owner.addChild(b),b=(new e).add(new U(2,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(3,
15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(4,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(5,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(1,15,15)),this.owner.addChild(b),b=(new e).add(new U(2,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(3,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),
this.owner.addChild(b),b=(new e).add(new U(4,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(5,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(6,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(7,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(1,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),
b=(new e).add(new U(2,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(3,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(4,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(5,15+f.randomNumber(-15,15),15+f.randomNumber(-15,15))),this.owner.addChild(b),b=(new e).add(new U(8,5,-30)),this.owner.addChild(b),this.obj.dispose(),this.playSound("barricade"));return!0},
playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},__class__:Qe});var Oe=function(a,b,c){y.call(this);this.x=a|0;this.y=b|0;this.callback=c};l["project.PauseMenu"]=Oe;Oe.__name__=["project","PauseMenu"];Oe.__super__=y;Oe.prototype=t(y.prototype,{get_entitySlot:function(){return 23},onAdded:function(){this.owner.add(new Z(c.pack.getTexture("blank")));this.owner.$BF[1].centerAnchor();this.thisSprite=this.owner.$BF[1];this.thisSprite.setXY(this.x,this.y);var a=new e;f.createImageSprite(this.owner,
a,"blank",!0,0,0);a=new e;f.createImageSprite(this.owner,a,"screens/subscreen_small",!0,0,0);this.connect1(m.$2F.$KF.down,L(this,this.onPointerDown));this.connect1(m.$2F.$KF.move,L(this,this.onPointerMove));this.screen=new e;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);this.showMenu();c.paused=!0},showMenu:function(){this.screen.dispose();this.screen=new e;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);this.btnPlay=new e;f.createImageSprite(this.screen,this.btnPlay,"buttons/BTN_play",
!0,-240,0);this.btnHelp=new e;f.createImageSprite(this.screen,this.btnHelp,"buttons/BTN_help",!0,-80,0);this.btnMute=new e;c.muted?f.createImageSprite(this.screen,this.btnMute,"buttons/BTN_audioOFF",!0,80,0):f.createImageSprite(this.screen,this.btnMute,"buttons/BTN_audioON",!0,80,0);this.btnExit=new e;f.createImageSprite(this.screen,this.btnExit,"buttons/BTN_quit",!0,240,0);ca.spawn(this.btnPlay,0.2,0.3,0.3);ca.spawn(this.btnHelp,0.3,0.3,0.3);ca.spawn(this.btnMute,0.4,0.3,0.3);ca.spawn(this.btnExit,
0.5,0.3,0.3);var a=new e;f.createImageSprite(this.screen,a,"screens/header_frame",!0,-15,-160);a=new e;f.createXMLSprite(this.screen,a,c.bodyFont,"Center",0,-165,c.translations.node.resolve("paused"));this.tab="MENU"},showQuit:function(){this.screen.dispose();this.screen=new e;f.createImageSprite(this.owner,this.screen,"blank",!0,0,0);this.btnExit=new e;f.createImageSprite(this.screen,this.btnExit,"buttons/BTN_tick",!0,-100,30);this.btnPlay=new e;f.createImageSprite(this.screen,this.btnPlay,"buttons/BTN_quit",
!0,100,30);var a=new e;f.createImageSprite(this.screen,a,"screens/header_frame",!0,-15,-160);a=new e;f.createXMLSprite(this.screen,a,c.bodyFont,"Center",0,-165,c.translations.node.resolve("quit"));a=new e;f.createXMLSprite(this.screen,a,c.hudFont,"Center",0,-90,c.translations.node.resolve("sure"));ca.spawn(this.btnExit,0.2,0.3,0.3);ca.spawn(this.btnPlay,0.3,0.3,0.3);this.tab="QUIT"},helpCallback:function(){},onPointerDown:function(a){switch(this.tab){case "HELP":a.hit==this.btnExit.$BF[1]&&(this.showMenu(),
this.playSound("click"));break;case "HELPINTRO":a.hit==this.btnExit.$BF[1]&&(this.callback(!1),this.playSound("click"));break;case "MENU":a.hit==this.btnPlay.$BF[1]?(this.callback(!1),this.playSound("click"),c.paused=!1):a.hit==this.btnHelp.$BF[1]?(a=(new e).add(new Yb(0,this.y,L(this,this.helpCallback))),this.owner.addChild(a)):a.hit==this.btnExit.$BF[1]?(this.showQuit(),this.playSound("click")):a.hit==this.btnMute.$BF[1]&&(c.muted?(this.btnMute.dispose(),this.btnMute=new e,f.createImageSprite(this.screen,
this.btnMute,"buttons/BTN_audioON",!0,80,0),f.mute(!1)):(this.btnMute.dispose(),this.btnMute=new e,f.createImageSprite(this.screen,this.btnMute,"buttons/BTN_audioOFF",!0,80,0),f.mute(!0)),this.playSound("click"));break;case "QUIT":a.hit==this.btnExit.$BF[1]?(this.callback(!0),this.playSound("click"),c.paused=!1):a.hit==this.btnPlay.$BF[1]&&(this.showMenu(),this.playSound("click"))}},onPointerMove:function(a){switch(this.tab){case "ACHIEVEMENTS":f.rolloverImage(this.btnExit,"buttons/BTN_quit","buttons/BTN_quit_rollover",
a);break;case "HELP":f.rolloverImage(this.btnExit,"buttons/BTN_quit","buttons/BTN_quit_rollover",a);break;case "HELPINTRO":f.rolloverImage(this.btnExit,"buttons/BTN_quit","buttons/BTN_quit_rollover",a);break;case "MENU":f.rolloverImage(this.btnPlay,"buttons/BTN_play","buttons/BTN_play_rollover",a);f.rolloverImage(this.btnHelp,"buttons/BTN_help","buttons/BTN_help_rollover",a);f.rolloverImage(this.btnExit,"buttons/BTN_quit","buttons/BTN_quit_rollover",a);c.muted?f.rolloverImage(this.btnMute,"buttons/BTN_audioOFF",
"buttons/BTN_audioOFF_rollover",a):f.rolloverImage(this.btnMute,"buttons/BTN_audioON","buttons/BTN_audioON_rollover",a);break;case "QUIT":f.rolloverImage(this.btnExit,"buttons/BTN_tick","buttons/BTN_tick_rollover",a),f.rolloverImage(this.btnPlay,"buttons/BTN_quit","buttons/BTN_quit_rollover",a)}},playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},__class__:Oe});var Pe=function(a,b,d){this.spinVolume=1;this.jumpTime=0.4;this.jumpHeight=120;this.dead=!1;this.idle=!0;this.jumping=!1;
y.call(this);this.x=a;this.y=b;this.shadow=d;this.spinLoop=c.pack.getSound("audio/"+c["char"]+"/spinning_loop").loop();this.spinLoop.volume.set__(0);"raph"==c["char"]&&(this.spinLoop2=c.pack.getSound("audio/"+c["char"]+"/spinning_loop2").loop(),this.spinLoop2.volume.set__(0));"mikey"==c["char"]&&(this.idleLoop=c.pack.getSound("audio/"+c["char"]+"/idle_nunchuk_spin").loop(),this.idleLoop.volume.set__(0));"donnie"==c["char"]&&(this.spinVolume=0.8)};l["project.Player"]=Pe;Pe.__name__=["project","Player"];
Pe.__super__=y;Pe.prototype=t(y.prototype,{get_entitySlot:function(){return 26},onAdded:function(){this.owner.add(new Z(c.pack.getTexture("blank")));this.owner.$BF[1].centerAnchor();this.owner.$BF[1].setXY(this.x,this.y);this.turtle=(new e).add(new M("game/"+c["char"],"idle",0,0));this.owner.addChild(this.turtle);this.spinEnt=new e;this.owner.addChild(this.spinEnt);this.idleTimer=f.randomNumberFloat(1.5,3)},onUpdate:function(a){var b=this;if(this.idle&&(this.idleTimer-=a,0>this.idleTimer)){a=f.randomNumber(2,
3);this.turtle.$BF[19].play("idle"+a,"idle");if("mikey"==c["char"]&&3==a){var d=new S;d.run(new T([new E(0.2),new D(function(){b.idleLoop.volume.animateTo(0.8*b.spinVolume,0.1)}),new E(2.2),new D(function(){b.idleLoop.volume.animateTo(0,0.1)})]));this.spinEnt.add(d)}this.idleTimer=2==a?f.randomNumberFloat(2.2,4.5):f.randomNumberFloat(4,6)}},rollStart:function(){var a=this;this.turtle.$BF[19].play("roll","rolling");this.idle=!1;this.playSound(c["char"]+"/spin_start");var b=1;switch(c["char"]){case "donnie":b=
0.3;break;case "leo":b=0;break;case "mikey":b=0.2;break;case "raph":b=0.05}"mikey"==c["char"]&&this.idleLoop.volume.animateTo(0,0.1);var d=new S;d.run(new T([new E(b),new D(function(){a.spinLoop.volume.animateTo(a.spinVolume,0.1);"raph"==c["char"]&&a.spinLoop2.volume.animateTo(0.8*a.spinVolume,0.1)})]));this.spinEnt.add(d)},rollEnd:function(){this.turtle.$BF[19].play("end","idle");this.idleTimer=f.randomNumberFloat(1.5,3);this.idle=!0;this.spinLoop.volume.animateTo(0,0.2);"raph"==c["char"]&&this.spinLoop2.volume.animateTo(0,
0.3);"mikey"==c["char"]&&this.playSound(c["char"]+"/exit_shell")},jump:function(){var a=this;if(!this.idle){this.jumping=!0;this.playSound("jump1");this.spinLoop.volume.animateTo(0,0.1);"raph"==c["char"]&&this.spinLoop2.volume.animateTo(0,0.1);this.turtle.$BF[19].play("jump","jumping");this.turtle.$BF[1].y.animateBy(-this.jumpHeight,this.jumpTime,ba.sineOut);this.shadow.$BF[1].alpha.animateTo(0,0.3*this.jumpTime,ba.sineOut);var b=new S;b.run(new T([new E(0.1),new D(function(){a.playSound("jump2")}),
new E(this.jumpTime-0.1),new D(function(){a.turtle.$BF[1].y.animateTo(0,a.jumpTime,ba.sineIn)}),new E(0.7*this.jumpTime),new D(function(){a.shadow.$BF[1].alpha.animateTo(1,0.3*a.jumpTime,ba.sineIn)}),new E(0.3*this.jumpTime),new D(function(){a.turtle.$BF[19].loop("rolling");a.spinLoop.volume.animateTo(a.spinVolume,0.1);"raph"==c["char"]&&a.spinLoop2.volume.animateTo(0.8*a.spinVolume,0.1);a.jumping=!1})]));this.turtle.add(b)}},hit:function(){this.dead||(this.dead=!0,this.turtle.$BF[19].play("ko","dead"),
this.idle=!1,this.playSound("dizzy"),this.spinLoop.dispose(),"raph"==c["char"]&&this.spinLoop2.dispose())},teleport:function(a){a?(this.spinLoop.volume.animateTo(0,0.1),"raph"==c["char"]&&this.spinLoop2.volume.animateTo(0,0.1)):(this.spinLoop.volume.animateTo(this.spinVolume,0.1),"raph"==c["char"]&&this.spinLoop2.volume.animateTo(0.8*this.spinVolume,0.1))},playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},__class__:Pe});var Se=function(){this.fading=!1;this.backgroundColour=16777215;
this.staticHeight=640;this.staticWidth=960;this.version="0.3";y.call(this)};l["project.Preloader"]=Se;Se.__name__=["project","Preloader"];Se.__super__=y;Se.prototype=t(y.prototype,{get_entitySlot:function(){return 13},onAdded:function(){var a=(new e).add(new J(this.backgroundColour,2E3,1500));m.root.addChild(a);a.$BF[1].x.set__(-300);this.screen=(new e).add(new J(this.backgroundColour,this.staticWidth,this.staticHeight));m.root.addChild(this.screen);this.onResize();this.screen.dispose();this.loadGame()},
loadGame:function(){var a=this;this.screen=(new e).add(new J(this.backgroundColour,960,560));m.root.addChild(this.screen);this.getScreenSize();var b=new e;f.createImageSprite(this.screen,b,"bg",!1,-((1336-this.screenWidth)/2),this.screenHeight-768,"LOADER");this.burst=new e;this.burst.add(new Z(c.loaderPack.getTexture("burst")));this.screen.addChild(this.burst);this.burst.$BF[1].centerAnchor();this.burst.$BF[1].setXY(this.screenWidth/2,this.screenHeight/2+68-40);this.burst.$BF[1].alpha.set__(0);this.burst.$BF[1].alpha.animateTo(1,
1);b=new e;b.add(new Z(c.loaderPack.getTexture("percentage_bg")));this.screen.addChild(b);b.$BF[1].centerAnchor();b.$BF[1].setXY(this.screenWidth/2-5,this.screenHeight/2+190-40);var d=new e,b=c.loaderPack.getTexture("pizza_box_0");d.add(new Z(b));this.screen.addChild(d);d.$BF[1].centerAnchor();d.$BF[1].setXY(this.screenWidth/2+5,this.screenHeight/2+68-40);var g=new e,b=new ta(c.loaderPack,"loaderFont");g.add(new O(b));this.screen.addChild(g);b=g.$BF[1];(b instanceof O?b:null).set_align(Ba.Center);
b=g.$BF[1];(b instanceof O?b:null).setXY(this.screenWidth/2,this.screenHeight/2+174-40).setScale(0.7);b=g.$BF[1];(b instanceof O?b:null).set_text("0%");b=new e;b.add(new Z(c.loaderPack.getTexture("rottmnt_logo")));this.screen.addChild(b);b.$BF[1].centerAnchor();b.$BF[1].setXY(this.screenWidth/2,this.screenHeight/2-50-40);this.stage=0;var b=new Zb(u.parse(c.configPack.getFile("config.xml").toString()).firstElement()),h=new e;if("YES"==b.node.resolve("showVersionNumber").get_innerData()){var l=new ta(c.loaderPack,
"tinyfont");h.add(new O(l));this.screen.addChild(h);l=h.$BF[1];(l instanceof O?l:null).set_align(Ba.Center);l=h.$BF[1];(l instanceof O?l:null).setXY(this.screenWidth/2,this.screenHeight/2+195);h.$BF[1].alpha.set__(0.7);b.node.resolve("versionNumber").get_innerData()==this.version?(h=h.$BF[1],(h instanceof O?h:null).set_text("v"+b.node.resolve("versionNumber").get_innerData())):(h=h.$BF[1],(h instanceof O?h:null).set_text("version error"))}this.onResize();"YES"==b.node.resolve("testLite").get_innerData()&&
(c.lite=!0);"YES"==b.node.resolve("testMobile").get_innerData()&&(c.isMobile=!0);b="mainassets";c.lite&&(b+="-lite");c.v2?(b=Ma.fromAssets(b),b.$PG=v.string(m.$2F.getExternal().call("jsembed.baseUrl"))+"assets/"):b=Ma.fromAssets(b);this.loader2=m.$2F.loadAssetPack(b);this.loader2.success.connect(function(b){c.pack=b;c.initFonts();a.startGame()});this.loader2.catchError(function(a){});this.loader2.progressChanged.connect(function(){var b=a.loader2.$PT/a.loader2.$QT;1<b&&(b=1);var e=100*b|0,f=g.$BF[1];
(f instanceof O?f:null).set_text((null==e?"null":""+e)+"%");switch(a.stage){case 0:0.2<=b&&(b=d.$BF[1],(b instanceof Z?b:null).texture=c.loaderPack.getTexture("pizza_box_25"),a.stage=1);break;case 1:0.4<=b&&(b=d.$BF[1],(b instanceof Z?b:null).texture=c.loaderPack.getTexture("pizza_box_50"),a.stage=2);break;case 2:0.7<=b&&(b=d.$BF[1],(b instanceof Z?b:null).texture=c.loaderPack.getTexture("pizza_box_75"),a.stage=3);break;case 3:0.9<=b&&(b=d.$BF[1],(b instanceof Z?b:null).texture=c.loaderPack.getTexture("pizza_box_100"),
a.stage=4)}})},onUpdate:function(a){if(null!=this.burst){var b=this.burst.$BF[1].rotation;b.set__(b.$hF+75*a)}},startGame:function(){var a=this;if(!this.fading){this.burst=null;this.fading=!0;var b=(new e).add(new J(this.backgroundColour,2E3,2E3));this.screen.addChild(b);b.$BF[1].x.set__(-200);b.$BF[1].alpha.set__(0);b.$BF[1].alpha.animateTo(0.5,0.3);b=new S;b.run(new T([new E(0.3),new D(function(){a.screen.dispose();c.loaderPack.dispose();m.root.add(new Ke)})]));this.screen.add(b)}},onResize:function(){if(null!=
this.screen){c.resizeScreen=!0;!c.isMobile&&667!=m.$2F.$MF.get_width()&&900<m.$2F.$MF.get_width()&&(c.resizeScreen=!1);939<m.$2F.$MF.get_width()&&1140>m.$2F.$MF.get_width()&&(c.resizeScreen=!1);939<m.$2F.$MF.get_height()&&1140>m.$2F.$MF.get_height()&&(c.resizeScreen=!1);if(1336<m.$2F.$MF.get_width()||960>m.$2F.$MF.get_width())c.resizeScreen=!0;2<m.$2F.$MF.get_width()/m.$2F.$MF.get_height()&&(c.resizeScreen=!1);if(c.alwaysResize||2048<m.$2F.$MF.get_width()||768<m.$2F.$MF.get_height())c.resizeScreen=
!0;2048==m.$2F.$MF.get_width()&&1536>=m.$2F.$MF.get_height()&&(c.staticWidth=m.$2F.$MF.get_width()/2|0,c.staticHeight=m.$2F.$MF.get_height()/2|0);if(c.resizeScreen){1920==(m.$2F.$MF.get_width()|0)&&1120==(m.$2F.$MF.get_height()|0)&&(c.staticHeight=560);var a=c.staticWidth,b=c.staticHeight,d=m.$2F.$MF.get_width()/a,e=m.$2F.$MF.get_height()/b;c.scale=d<e?d:e;this.screen.$BF[1].setScale(c.scale).setXY((m.$2F.$MF.get_width()-a*c.scale)/2,(m.$2F.$MF.get_height()-b*c.scale)/2);m.$2F.$MF.get_width()>m.$2F.$MF.get_height()?
(c.offsetX=m.$2F.$MF.get_width()/c.scale-a|0,c.offsetY=m.$2F.$MF.get_height()/c.scale-b|0):(c.offsetX=m.$2F.$MF.get_height()/c.scale-b|0,c.offsetY=m.$2F.$MF.get_width()/c.scale-a|0)}else c.scale=1,c.offsetX=0,c.offsetY=0}},getScreenSize:function(){if(c.resizeScreen)this.screenWidth=c.staticWidth,this.screenHeight=c.staticHeight;else if(this.screenWidth=m.$2F.$MF.get_width(),this.screenHeight=m.$2F.$MF.get_height(),this.screenHeight>this.screenWidth){var a=this.screenWidth;this.screenWidth=this.screenHeight;
this.screenHeight=a}},__class__:Se});var Fb=function(a,b,d,e){this.showTick=!1;y.call(this);this.x=b|0;this.y=d|0;this.puzzle=a;this.callback=e;if("lair"==c.area)switch(this.puzzle){case 1:this.coins=c.level11coins;this.coinMax=c.level11coinsMax;break;case 2:this.coins=c.level12coins;this.coinMax=c.level12coinsMax;break;case 3:this.coins=c.level13coins;this.coinMax=c.level13coinsMax;break;case 4:this.coins=c.level14coins;this.coinMax=c.level14coinsMax;break;case 5:this.coins=c.level15coins,this.coinMax=
c.level15coinsMax}else if("yard"==c.area)switch(this.puzzle){case 1:this.coins=c.level21coins;this.coinMax=c.level21coinsMax;break;case 2:this.coins=c.level22coins;this.coinMax=c.level22coinsMax;break;case 3:this.coins=c.level23coins;this.coinMax=c.level23coinsMax;break;case 4:this.coins=c.level24coins;this.coinMax=c.level24coinsMax;break;case 5:this.coins=c.level25coins,this.coinMax=c.level25coinsMax}else if("roof"==c.area)switch(this.puzzle){case 1:this.coins=c.level31coins;this.coinMax=c.level31coinsMax;
break;case 2:this.coins=c.level32coins;this.coinMax=c.level32coinsMax;break;case 3:this.coins=c.level33coins;this.coinMax=c.level33coinsMax;break;case 4:this.coins=c.level34coins;this.coinMax=c.level34coinsMax;break;case 5:this.coins=c.level35coins,this.coinMax=c.level35coinsMax}else if("subway"==c.area)switch(this.puzzle){case 1:this.coins=c.level41coins;this.coinMax=c.level41coinsMax;break;case 2:this.coins=c.level42coins;this.coinMax=c.level42coinsMax;break;case 3:this.coins=c.level43coins;this.coinMax=
c.level43coinsMax;break;case 4:this.coins=c.level44coins;this.coinMax=c.level44coinsMax;break;case 5:this.coins=c.level45coins,this.coinMax=c.level45coinsMax}else if("city"==c.area)switch(this.puzzle){case 1:this.coins=c.level51coins;this.coinMax=c.level51coinsMax;break;case 2:this.coins=c.level52coins;this.coinMax=c.level52coinsMax;break;case 3:this.coins=c.level53coins;this.coinMax=c.level53coinsMax;break;case 4:this.coins=c.level54coins;this.coinMax=c.level54coinsMax;break;case 5:this.coins=c.level55coins,
this.coinMax=c.level55coinsMax}};l["project.PuzzleButton"]=Fb;Fb.__name__=["project","PuzzleButton"];Fb.__super__=y;Fb.prototype=t(y.prototype,{get_entitySlot:function(){return 18},onAdded:function(){this.owner.add(new Z(c.pack.getTexture("blank")));this.thisSprite=this.owner.$BF[1];this.thisSprite.setXY(this.x,this.y);var a=new e;f.createImageSprite(this.owner,a,"screens/button_"+c.area,!0,0,0);this.btn=new e;f.createImageSprite(this.owner,this.btn,"screens/frame_btn",!0,0,0);a=new e;f.createImageSprite(this.owner,
a,"screens/frame_highlight",!0,0,0);a.$BF[1].set_pointerEnabled(!1);a=new e;f.createTextSprite(this.owner,a,c.hud2Font,"Left",-80,-68,v.string(this.puzzle));a.$BF[1].set_pointerEnabled(!1);a=new e;f.createImageSprite(this.owner,a,"screens/HUD_coin_total",!0,0,35);a.$BF[1].set_pointerEnabled(!1);var b=new e;f.createImageSprite(a,b,"screens/divider_line",!0,125,36);if(19<this.coins){var d=b.$BF[1].x;d.set__(d.$hF+5)}d=new e;f.createTextSprite(a,d,c.medFontNum,"Right",b.$BF[1].x.$hF-10,22,v.string(this.coins));
d.$BF[1].setScale(0.8);d=new e;f.createTextSprite(a,d,c.medFontNum,"Left",b.$BF[1].x.$hF+10,22,v.string(this.coinMax));d.$BF[1].setScale(0.8);a=new e;f.createImageSprite(this.owner,a,"screens/trophy_"+this.medal(),!0,75,-70);a.$BF[1].set_pointerEnabled(!1);this.showTick&&(a=new e,f.createImageSprite(this.owner,a,"game/tick",!0,0,72),a.$BF[1].set_pointerEnabled(!1));this.connect1(m.$2F.$KF.down,L(this,this.pointerDownHandler));this.connect1(m.$2F.$KF.move,L(this,this.pointerMoveHandler))},medal:function(){var a=
0;if("lair"==c.area)switch(this.puzzle){case 1:a=c.level11medal;break;case 2:a=c.level12medal;break;case 3:a=c.level13medal;break;case 4:a=c.level14medal;break;case 5:a=c.level15medal}else if("yard"==c.area)switch(this.puzzle){case 1:a=c.level21medal;break;case 2:a=c.level22medal;break;case 3:a=c.level23medal;break;case 4:a=c.level24medal;break;case 5:a=c.level25medal}else if("roof"==c.area)switch(this.puzzle){case 1:a=c.level31medal;break;case 2:a=c.level32medal;break;case 3:a=c.level33medal;break;
case 4:a=c.level34medal;break;case 5:a=c.level35medal}0<=a&&(this.showTick=!0);0>a&&(a=0);return a},pointerDownHandler:function(a){a.hit==this.btn.$BF[1]&&(this.callback(this.puzzle),this.playSound("UI_click"))},pointerMoveHandler:function(a){f.rolloverImage(this.btn,"screens/frame_btn","screens/frame_rollover",a)},playSound:function(a){this.sfx=c.pack.getSound("audio/"+a).play()},__class__:Fb});var Re=function(a,b){this.fadeTime=0.8;this.fadeWait=0;this.fading=!1;y.call(this);this.x=a;this.y=b};
l["project.TrailNode"]=Re;Re.__name__=["project","TrailNode"];Re.__super__=y;Re.prototype=t(y.prototype,{get_entitySlot:function(){return 30},onAdded:function(){this.owner.add(new Z(c.pack.getTexture("game/trail")));this.owner.$BF[1].centerAnchor();this.owner.$BF[1].setXY(this.x,this.y);this.owner.$BF[1].setScale(1.5)},onUpdate:function(a){this.fading?(this.fadeTime-=a,0>this.fadeTime&&this.owner.dispose()):(this.fadeWait-=a,0>this.fadeWait&&(this.fading=!0,this.owner.$BF[1].alpha.animateTo(0,this.fadeTime,
ba.sineIn),this.owner.$BF[1].scaleX.animateTo(0,this.fadeTime),this.owner.$BF[1].scaleY.animateTo(0,this.fadeTime)))},__class__:Re});var f=function(){};l["project.Utils"]=f;f.__name__=["project","Utils"];f.randomNumber=function(a,b){return Math.round(Math.random()*(b-a)+a)};f.randomNumberFloat=function(a,b){return Math.random()*(b-a)+a};f.coinFlip=function(){return 51>f.randomNumber(1,100)?!0:!1};f.vectorDistance=function(a,b,c,e){return Math.sqrt(Math.pow(a-b,2)+Math.pow(c-e,2))};f.addDebugSpeedAdjuster=
function(a){null==a.$BF[9]&&a.add(new lb(1));return m.$2F.getKeyboard().down.connect(function(b){var c=a.$BF[9];b.key==g.LeftBracket?(b=c.scale,b.set__(b.$hF/1.61803398875)):b.key==g.RightBracket&&(b=c.scale,b.set__(1.61803398875*b.$hF))})};f.createImageSprite=function(a,b,d,e,f,g,l,m){null==m&&(m=1);null==l&&(l="MAIN");if(null==l)b.add(new Z(c.pack.getTexture(d)));else switch(l){case "GAME":b.add(new Z(c.gamePack.getTexture(d)));break;case "LOADER":b.add(new Z(c.loaderPack.getTexture(d)));break;
default:b.add(new Z(c.pack.getTexture(d)))}a.addChild(b);e&&b.$BF[1].centerAnchor();b.$BF[1].x.set__(f);b.$BF[1].y.set__(g);c.lite&&(80==m?b.$BF[1].setScale(1.25):50==m&&b.$BF[1].setScale(2))};f.createFillSprite=function(a,b,c,e,f,g,l,m,p){b.add(new J(c,l,m));a.addChild(b);e&&b.$BF[1].centerAnchor();b.$BF[1].x.set__(f);b.$BF[1].y.set__(g);b.$BF[1].alpha.set__(p)};f.createPatternSprite=function(a,b,d,e,f,g,l,m,p,r){null==r&&(r="MAIN");null==p&&(p=1);if(null==r)b.add(new Za(c.pack.getTexture(d),l,m));
else switch(r){case "GAME":b.add(new Za(c.gamePack.getTexture(d),l,m));break;case "LEVEL":b.add(new Za(c.gamePack.getTexture(d),l,m));break;case "LOADER":b.add(new Za(c.loaderPack.getTexture(d),l,m));break;default:b.add(new Za(c.pack.getTexture(d),l,m))}a.addChild(b);e&&b.$BF[1].centerAnchor();b.$BF[1].x.set__(f);b.$BF[1].y.set__(g);1>p&&b.$BF[1].alpha.set__(p)};f.createTextSprite=function(a,b,c,e,f,g,l,m){b.add(new O(c));a.addChild(b);"Left"==e?(a=b.$BF[1],(a instanceof O?a:null).set_align(Ba.Left)):
"Right"==e?(a=b.$BF[1],(a instanceof O?a:null).set_align(Ba.Right)):(a=b.$BF[1],(a instanceof O?a:null).set_align(Ba.Center));a=b.$BF[1];(a instanceof O?a:null).x.set__(f);f=b.$BF[1];(f instanceof O?f:null).y.set__(g);g=b.$BF[1];(g instanceof O?g:null).set_text(l);null!=m&&(l=b.$BF[1],l=(l instanceof O?l:null).x,l.set__(l.$hF+v.parseInt(m.att.resolve("offsetX"))),l=b.$BF[1],l=(l instanceof O?l:null).y,l.set__(l.$hF+v.parseInt(m.att.resolve("offsetY"))),b=b.$BF[1],(b instanceof O?b:null).setScale(parseFloat(m.att.resolve("fontScale"))))};
f.createXMLSprite=function(a,b,c,e,f,g,l){b.add(new O(c));a.addChild(b);"Left"==e?(a=b.$BF[1],(a instanceof O?a:null).set_align(Ba.Left)):"Right"==e?(a=b.$BF[1],(a instanceof O?a:null).set_align(Ba.Right)):(a=b.$BF[1],(a instanceof O?a:null).set_align(Ba.Center));a=b.$BF[1];(a instanceof O?a:null).x.set__(f);f=b.$BF[1];(f instanceof O?f:null).y.set__(g);g=b.$BF[1];(g instanceof O?g:null).set_text(l.get_innerData());g=b.$BF[1];g=(g instanceof O?g:null).x;g.set__(g.$hF+v.parseInt(l.att.resolve("offsetX")));
g=b.$BF[1];g=(g instanceof O?g:null).y;g.set__(g.$hF+v.parseInt(l.att.resolve("offsetY")));b=b.$BF[1];(b instanceof O?b:null).setScale(parseFloat(l.att.resolve("fontScale")))};f.rolloverImage=function(a,b,d,e){c.isMobile||(e.hit==a.$BF[1]?(b=a.$BF[1],(b instanceof Z?b:null).texture=c.pack.getTexture(d),m.$2F.$JF.set_cursor(Ea.Button)):(d=a.$BF[1],(d instanceof Z?d:null).texture=c.pack.getTexture(b),m.$2F.$JF.set_cursor(Ea.Default)))};f.pulseBtn=function(a,b,c){var e=[];e.push(new Pa(a.$BF[1].scaleX,
b,c));e.push(new Pa(a.$BF[1].scaleY,b,c));b=[];b.push(new Pa(a.$BF[1].scaleX,1,c));b.push(new Pa(a.$BF[1].scaleY,1,c));c=new S;c.run(new wb(new T([new Ub(e),new Ub(b)])));a.add(c)};f.pulseAlpha=function(a,b,c){var e=[];e.push(new Pa(a.$BF[1].alpha,b,c));e.push(new Pa(a.$BF[1].alpha,b,c));b=[];b.push(new Pa(a.$BF[1].alpha,1,c));b.push(new Pa(a.$BF[1].alpha,1,c));c=new S;c.run(new wb(new T([new Ub(e),new Ub(b)])));a.add(c)};f.pulseUpDown=function(a,b,c){var e=a.$BF[1].y.$hF,f=new S;f.run(new wb(new T([new Pa(a.$BF[1].y,
e+b,c,ba.sineInOut),new Pa(a.$BF[1].y,e,c,ba.sineInOut)])));a.add(f)};f.mute=function(a){a?(c.muted=!0,m.volume.set__(0)):(c.muted=!1,m.volume.set__(1))};f.alignLeft=function(a){c.resizeScreen&&(a=a.$BF[1].x,a.set__(a.$hF-c.offsetX/2))};f.alignRight=function(a){c.resizeScreen&&(a=a.$BF[1].x,a.set__(a.$hF+c.offsetX/2))};f.detectLowEndDevice=function(){var a=window.navigator.userAgent.toLowerCase();if(-1!=a.indexOf("ipod")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad")){var a=window.screen.width*window.devicePixelRatio,
b=window.screen.height*window.devicePixelRatio;if(1024==a&&768==b||768==a&&1024==b)c.lite=!0}navigator.isCocoonJS&&(c.nickApp=!0,c.liteAssetsInApp&&(c.lite=!0))};f.__super__=y;f.prototype=t(y.prototype,{get_entitySlot:function(){return 12},__class__:f});var Me=function(a,b,c){this.active=!1;y.call(this);this.x=a|0;this.y=b|0;this.callback=c};l["project.WinScreen"]=Me;Me.__name__=["project","WinScreen"];Me.__super__=y;Me.prototype=t(y.prototype,{get_entitySlot:function(){return 22},onAdded:function(){var a=
this;this.owner.add(new Z(c.pack.getTexture("blank")));this.thisSprite=this.owner.$BF[1];this.thisSprite.setXY(this.x,this.y);this.fade=new e;f.createFillSprite(this.owner,this.fade,0,!0,0,0,5E3,8E3,0);this.arm1=(new e).add(new M("screens/splinter","arm1",140,620));this.owner.addChild(this.arm1);this.arm2=(new e).add(new M("screens/splinter","arm2_idle",140,620));this.owner.addChild(this.arm2);this.body=(new e).add(new M("screens/splinter","body",140,620));this.owner.addChild(this.body);this.head=
(new e).add(new M("screens/splinter","head_idle",140,620));this.owner.addChild(this.head);this.bubble=(new e).add(new M("screens/splinter","bubble",140,20));this.owner.addChild(this.bubble);this.content=(new e).add(new M("win/win","blank",130,20));this.turtle=new e;f.createImageSprite(this.owner,this.turtle,"blank",!1,0,0);this.text=new e;f.createImageSprite(this.owner,this.text,"blank",!1,0,0);this.owner.addChild(this.content);this.turtle.$BF[1].alpha.set__(0);this.content.$BF[1].alpha.set__(0);
this.text.$BF[1].alpha.set__(0);this.bubble.$BF[1].alpha.set__(0);var b=new S;b.run(new T([new E(2),new D(function(){a.body.$BF[1].y.animateTo(20,0.7);a.head.$BF[1].y.animateTo(20,0.7);a.arm1.$BF[1].y.animateTo(20,0.7);a.arm2.$BF[1].y.animateTo(20,0.7)}),new E(1),new D(function(){a.head.$BF[19].loop("head");a.arm2.$BF[19].loop("arm2");a.turtle.$BF[1].alpha.animateTo(1,0.2);a.bubble.$BF[1].alpha.animateTo(1,0.2);a.active=!0}),new E(0.2),new D(function(){a.content.$BF[1].alpha.set__(1);a.content.$BF[19].play("win",
"won");a.text.$BF[1].alpha.set__(1);a.content.$BF[19].gotoAndPlay(1);a.active=!0}),new E(4),new D(function(){a.content.$BF[1].alpha.set__(0);a.bubble.$BF[1].alpha.set__(0);a.body.$BF[1].y.animateBy(600,0.7);a.head.$BF[1].y.animateBy(600,0.7);a.arm1.$BF[1].y.animateBy(600,0.7);a.arm2.$BF[1].y.animateBy(600,0.7)}),new E(1),new D(function(){a.owner.dispose()})]));this.owner.add(b)},__class__:Me});var Jg=function(){};l["spine.Updatable"]=Jg;Jg.__name__=["spine","Updatable"];var gg=function(){};l["spine.Bone"]=
gg;gg.__name__=["spine","Bone"];gg.__interfaces__=[Jg];gg.prototype={__class__:gg};var Ag=function(){};l["spine.BoneData"]=Ag;Ag.__name__=["spine","BoneData"];Ag.prototype={__class__:Ag};var Qg=function(){};l["spine.EventData"]=Qg;Qg.__name__=["spine","EventData"];var Bg=function(){};l["spine.IkConstraintData"]=Bg;Bg.__name__=["spine","IkConstraintData"];Bg.prototype={__class__:Bg};var Cg=function(){};l["spine.PathConstraintData"]=Cg;Cg.__name__=["spine","PathConstraintData"];Cg.prototype={__class__:Cg};
var Dg=function(){};l["spine.Skeleton"]=Dg;Dg.__name__=["spine","Skeleton"];Dg.prototype={__class__:Dg};var Rg=function(){};l["spine.SkeletonData"]=Rg;Rg.__name__=["spine","SkeletonData"];var Sg=function(){};l["spine.Skin"]=Sg;Sg.__name__=["spine","Skin"];var Eg=function(){};l["spine.SlotData"]=Eg;Eg.__name__=["spine","SlotData"];Eg.prototype={__class__:Eg};var Fg=function(){};l["spine.TransformConstraintData"]=Fg;Fg.__name__=["spine","TransformConstraintData"];Fg.prototype={__class__:Fg};var Gg=
function(){};l["spine.attachments.Attachment"]=Gg;Gg.__name__=["spine","attachments","Attachment"];var Oc=function(){};l["spine.attachments.VertexAttachment"]=Oc;Oc.__name__=["spine","attachments","VertexAttachment"];Oc.__super__=Gg;Oc.prototype=t(Gg.prototype,{__class__:Oc});var hg=function(){};l["spine.attachments.MeshAttachment"]=hg;hg.__name__=["spine","attachments","MeshAttachment"];hg.__super__=Oc;hg.prototype=t(Oc.prototype,{__class__:hg});var Ig,Ug=0;l.Math=Math;String.prototype.__class__=
l.String=String;String.__name__=["String"];l.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=l.Date=Date;Date.__name__=["Date"];var Wg=l.Int={__name__:["Int"]},Vg=l.Dynamic={__name__:["Dynamic"]},Ng=l.Float=Number;Ng.__name__=["Float"];var Mg=l.Bool=Boolean;Mg.__ename__=["Bool"];var Kg=l.Class={__name__:["Class"]},Lg={},K={};u.Element=0;u.PCData=1;u.CData=2;u.Comment=3;u.DocType=4;u.ProcessingInstruction=5;u.Document=6;B.gameName="tmntpinball_";P.$H=P.$G();P.$I=P.$G();P.$J=P.$G();P.$K=
[];P.$L=[];P.$M=new w;P.$N=new w;P.$O=new w;P.$P=new w;P.$Q=new w;P.$R=new w;P.$S=new w;P.$T=new w;cb.$d=new We;cb.$e=[];cb.$f=[];oc.$y=0;Q.$$=0;Q.$_=0;Q.$AB=0;Q.$BB=0;Q.$CB=0;Q.$DB=new Wc;Q.$EB=new Sc;Q.$FB=new Db;Q.$GB=new Db;Q.$HB=new af;Q.$IB=new Tc;rc.$8B=new Db;sc.defaultFilter=new sc;Ib.defaultListener=new Ib;Sb.$eC=new gf;Aa.$rC=new uc;Aa.$tC=new Hb;Aa.$uC=new Hb;Aa.$vC=new uc;Aa.$wC=[];ga.$DD=new bf;La.$MD=new cf;La.$ND=new nf;Wa.USE_CACHE=!1;Wa.USE_ENUM_INDEX=!1;Wa.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
ha.DEFAULT_RESOLVER=new bd;ha.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";ra.count=0;yb.escapes=function(a){a=new da;null!=K.lt?a.setReserved("lt","<"):a.h.lt="<";null!=K.gt?a.setReserved("gt",">"):a.h.gt=">";null!=K.amp?a.setReserved("amp","&"):a.h.amp="&";null!=K.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=K.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);ea.__toStr={}.toString;e.$DF=new uf;db.$fF=new db;Ga.$wF=new $b(null,null);m.root=new e;m.uncaughtError=
new na;m.lowMemoryWarning=new Nb;m.hidden=new sa(!1);m.volume=new $(1);m.$2F=db.$fF;od.logger=new xf(m.$2F.createLogHandler("2DKit"));Ma.$SG=null!=(new XMLHttpRequest).withCredentials;Ya.__creator={spawned:ja.CBool,onStarted:ja.CString,onUpdated:ja.CString,onStopped:ja.CString};rd.__creator={following:ja.CClass(e),zoom:ja.CClass($),active:ja.CBool,offsetX:ja.CFloat,offsetY:ja.CFloat};Ob.$XG="@State:";mb.__creator={target:ja.CClass(Ob)};r.$AH=new tb;r.$BH=new Ja;r.$CH=new vd;Ta.ENTITY_SLOT=1;Ta.NAME=
"1";Ta.$aH=new Ha;ta.$MI=new fe(10);fb.$ML=new Jf;Ua.$ML=new Kf;ia.$ML=new Lf;za.__meta__={obj:{injected:[{scenes:{},height:720,id:"com.artofplaygames.tmntbumperbros",orientation:"landscape",fullscreen:!0,assets:{subway:[{bytes:34533,name:"foreground_beam_blue.png"},{bytes:33544,name:"foreground_beam_green.png"},{bytes:30774,name:"foreground_beam_red.png"},{bytes:3739,name:"light_green.png"},{bytes:2430,name:"light_red.png"},{bytes:5460,name:"ramp.png"},{bytes:4687,name:"ramp2.png"},{bytes:28054,
name:"foreground_beam_green.webp"},{bytes:2578,name:"light_green.webp"},{bytes:29172,name:"foreground_beam_blue.webp"},{bytes:7705,name:"ramps2.png"},{bytes:2772,name:"light_red.webp"},{bytes:4788,name:"ramp.webp"},{bytes:70675,name:"subway_car.png"},{bytes:3986,name:"ramp2.webp"},{bytes:488545,name:"background.png"},{bytes:30672,name:"subway_upturned2.png"},{bytes:28165,name:"subway_upturned.png"},{bytes:6888,name:"ramps2.webp"},{bytes:63882,name:"subway_car.webp"},{bytes:30185,name:"tracks.png"},
{bytes:26932,name:"subway_upturned.webp"},{bytes:25518,name:"foreground_beam_red.webp"},{bytes:29050,name:"subway_upturned2.webp"},{bytes:450226,name:"background.webp"},{bytes:29892,name:"tracks.webp"}],preloader:[{bytes:45277,name:"burst.png"},{bytes:2276,name:"loaderFont.png"},{bytes:38900,name:"burst.webp"},{bytes:1752,name:"loaderFont.fnt.__gz.txt"},{bytes:914,name:"percentage_bg.png"},{bytes:1436,name:"loaderFont.webp"},{bytes:7822,name:"pizza_box_0.png"},{bytes:5471,name:"pizza_box_100.png"},
{bytes:666,name:"percentage_bg.webp"},{bytes:7947,name:"pizza_box_25.png"},{bytes:7729,name:"pizza_box_50.png"},{bytes:7456,name:"pizza_box_0.webp"},{bytes:439093,name:"bg.png"},{bytes:5132,name:"pizza_box_100.webp"},{bytes:7169,name:"pizza_box_75.png"},{bytes:10071,name:"rottmnt_logo.png"},{bytes:7594,name:"pizza_box_25.webp"},{bytes:7404,name:"pizza_box_50.webp"},{bytes:6848,name:"pizza_box_75.webp"},{bytes:11487,name:"tinyfont.png"},{bytes:404186,name:"bg.webp"},{bytes:22695,name:"tinyfont.fnt.__gz.txt"},
{bytes:10532,name:"tinyfont.webp"},{bytes:9688,name:"rottmnt_logo.webp"}],mainassets:[{bytes:124,name:"blank.png"},{bytes:212,name:"blankScreen.png"},{bytes:36,name:"blank.webp"},{bytes:6310,name:"audio/barricade.ogg"},{bytes:68,name:"blankScreen.webp"},{bytes:3230,name:"audio/barricade.mp3"},{bytes:19108,name:"audio/barrel_hit.ogg"},{bytes:1251,name:"audio/blank.mp3"},{bytes:24945,name:"audio/barrel_hit.mp3"},{bytes:4014,name:"audio/crate.mp3"},{bytes:4598,name:"audio/blank.ogg"},{bytes:3760,name:"audio/click.mp3"},
{bytes:5649,name:"audio/click.ogg"},{bytes:7605,name:"audio/crate.ogg"},{bytes:14135,name:"audio/coin_pickup.ogg"},{bytes:12532,name:"audio/coin_pickup.mp3"},{bytes:14689,name:"audio/dizzy.mp3"},{bytes:20940,name:"audio/blue_barrel_explode.ogg"},{bytes:19490,name:"audio/blue_barrel_explode.mp3"},{bytes:6823,name:"audio/hit.ogg"},{bytes:3099,name:"audio/hit1.mp3"},{bytes:21865,name:"audio/foot_explode.mp3"},{bytes:7720,name:"audio/enemy_hit2.mp3"},{bytes:13815,name:"audio/dizzy.ogg"},{bytes:9629,name:"audio/enemy_hit2.ogg"},
{bytes:32538,name:"audio/foot_explode.ogg"},{bytes:5046,name:"audio/hit1.ogg"},{bytes:5320,name:"audio/hit2.mp3"},{bytes:26878,name:"audio/hit_crates1.mp3"},{bytes:6196,name:"audio/hit2.ogg"},{bytes:10436,name:"audio/impact1.ogg"},{bytes:6864,name:"audio/impact2.ogg"},{bytes:17360,name:"audio/hit_crates2.mp3"},{bytes:4090,name:"audio/impact4.mp3"},{bytes:3939,name:"audio/impact2.mp3"},{bytes:229276,name:"audio/hidden_city_ambience.mp3"},{bytes:12279,name:"audio/impact1.mp3"},{bytes:24895,name:"audio/hit_crates1.ogg"},
{bytes:198422,name:"audio/hidden_city_ambience.ogg"},{bytes:17297,name:"audio/hit_crates2.ogg"},{bytes:6067,name:"audio/impact3.ogg"},{bytes:7264,name:"audio/impact3.mp3"},{bytes:3833,name:"audio/hit.mp3"},{bytes:6997,name:"audio/impact4.ogg"},{bytes:9354,name:"audio/impact5.mp3"},{bytes:13951,name:"audio/impact6.mp3"},{bytes:8171,name:"audio/impact5.ogg"},{bytes:8713,name:"audio/impact6.ogg"},{bytes:32439,name:"audio/laser_gate.mp3"},{bytes:13983,name:"audio/jump1.mp3"},{bytes:7798,name:"audio/jump2.mp3"},
{bytes:8968,name:"audio/jump2.ogg"},{bytes:21747,name:"audio/laser_gate.ogg"},{bytes:11836,name:"audio/jump1.ogg"},{bytes:5110,name:"audio/pickup.mp3"},{bytes:12980,name:"audio/portal_enter.mp3"},{bytes:8522,name:"audio/pickup.ogg"},{bytes:9067,name:"audio/portal_exit.mp3"},{bytes:10676,name:"audio/portal_exit.ogg"},{bytes:14250,name:"audio/portal_enter.ogg"},{bytes:123543,name:"audio/RoTMNT_Game2_Menu_v1.ogg"},{bytes:217732,name:"audio/RoTMNT_Game2_Lair_v1.ogg"},{bytes:231884,name:"audio/RoTMNT_Game2_HiddenCity.ogg"},
{bytes:322674,name:"audio/rooftop_ambience_loop.ogg"},{bytes:392462,name:"audio/RoTMNT_Game2_Menu_v1.mp3"},{bytes:417686,name:"audio/rooftop_ambience_loop.mp3"},{bytes:75231,name:"audio/RoTMNT_Game2_Stinger_v1.mp3"},{bytes:220303,name:"audio/RoTMNT_Game2_Rooftops_v1.ogg"},{bytes:20315,name:"audio/spend_coins.mp3"},{bytes:43595,name:"audio/subway_car_pass.mp3"},{bytes:18708,name:"audio/spend_coins.ogg"},{bytes:247429,name:"audio/RoTMNT_Game2_SalvageYard_v1.ogg"},{bytes:38823,name:"audio/subway_car_pass.ogg"},
{bytes:679600,name:"audio/RoTMNT_Game2_Rooftops_v1.mp3"},{bytes:6363,name:"audio/swoosh.mp3"},{bytes:31325,name:"audio/subway_car_stop.ogg"},{bytes:769879,name:"audio/RoTMNT_Game2_SalvageYard_v1.mp3"},{bytes:8678,name:"audio/swoosh.ogg"},{bytes:3225,name:"audio/UI_click.mp3"},{bytes:769879,name:"audio/RoTMNT_Game2_Subway_v1.mp3"},{bytes:19586,name:"audio/trophy_stinger.ogg"},{bytes:21704,name:"audio/UI_character_select.mp3"},{bytes:19154,name:"audio/UI_character_select.ogg"},{bytes:3766,name:"audio/wall_hit_1.mp3"},
{bytes:25388,name:"audio/RoTMNT_Game2_Stinger_v1.ogg"},{bytes:5488,name:"audio/UI_click.ogg"},{bytes:6639,name:"audio/wall_hit_1.ogg"},{bytes:23997,name:"fonts/bodyFont.png"},{bytes:11717,name:"audio/wall_hit_2.ogg"},{bytes:9032,name:"audio/wall_hit_2.mp3"},{bytes:3167,name:"audio/wall_hit_3.mp3"},{bytes:5929,name:"audio/wall_hit_3.ogg"},{bytes:48784,name:"fonts/bodyFontint.png"},{bytes:6704,name:"fonts/font25.png"},{bytes:14068,name:"fonts/bodyFont.fnt.__gz.txt"},{bytes:25010,name:"fonts/bodyFont.webp"},
{bytes:20342,name:"fonts/font25int.png"},{bytes:12024,name:"fonts/font25.fnt.__gz.txt"},{bytes:44162,name:"fonts/bodyFontint.webp"},{bytes:68962,name:"audio/trophy_stinger.mp3"},{bytes:9037,name:"fonts/font40.png"},{bytes:37644,name:"fonts/font40int.png"},{bytes:49195,name:"fonts/bodyFontint.fnt.__gz.txt"},{bytes:5408,name:"fonts/font25.webp"},{bytes:10874,name:"fonts/font50.png"},{bytes:18958,name:"fonts/font25int.webp"},{bytes:12024,name:"fonts/font40.fnt.__gz.txt"},{bytes:34999,name:"audio/subway_car_stop.mp3"},
{bytes:43423,name:"fonts/font25int.fnt.__gz.txt"},{bytes:49193,name:"fonts/font40int.fnt.__gz.txt"},{bytes:49655,name:"fonts/font50int.png"},{bytes:7880,name:"fonts/font40.webp"},{bytes:34030,name:"fonts/font40int.webp"},{bytes:31681,name:"fonts/hud40int.png"},{bytes:12024,name:"fonts/font50.fnt.__gz.txt"},{bytes:9778,name:"fonts/font50.webp"},{bytes:43661,name:"fonts/hud50int.png"},{bytes:3213,name:"fonts/hud60.png"},{bytes:49388,name:"fonts/font50int.fnt.__gz.txt"},{bytes:43298,name:"fonts/font50int.webp"},
{bytes:28426,name:"fonts/hud40int.webp"},{bytes:11487,name:"fonts/tinyfont.png"},{bytes:49193,name:"fonts/hud50int.fnt.__gz.txt"},{bytes:48932,name:"fonts/hud40int.fnt.__gz.txt"},{bytes:279,name:"hud/divider_line.png"},{bytes:3391,name:"hud/HUD_character_turns.png"},{bytes:2351,name:"fonts/hud60.fnt.__gz.txt"},{bytes:38268,name:"fonts/hud50int.webp"},{bytes:3617,name:"hud/HUD_character_turns_long.png"},{bytes:162,name:"hud/divider_line.webp"},{bytes:2742,name:"fonts/hud60.webp"},{bytes:22695,name:"fonts/tinyfont.fnt.__gz.txt"},
{bytes:4224,name:"hud/HUD_enemy.png"},{bytes:3383,name:"hud/HUD_coins.png"},{bytes:10532,name:"fonts/tinyfont.webp"},{bytes:2268,name:"hud/HUD_frame_long.png"},{bytes:3230,name:"hud/HUD_character_turns_long.webp"},{bytes:2936,name:"hud/HUD_coins.webp"},{bytes:3682,name:"hud/HUD_leo.png"},{bytes:3004,name:"hud/HUD_character_turns.webp"},{bytes:3866,name:"hud/HUD_enemy.webp"},{bytes:3692,name:"hud/HUD_mikey.png"},{bytes:1970,name:"hud/HUD_frame_long.webp"},{bytes:4300,name:"hud/HUD_pizza.png"},{bytes:247411,
name:"audio/RoTMNT_Game2_Subway_v1.ogg"},{bytes:1738,name:"hud/icon_char_donnie.png"},{bytes:1679,name:"hud/icon_char_leo.png"},{bytes:3318,name:"hud/HUD_leo.webp"},{bytes:3342,name:"hud/HUD_mikey.webp"},{bytes:1585,name:"hud/icon_char_mikey.png"},{bytes:1343,name:"hud/icon_char_raph.png"},{bytes:1642,name:"hud/icon_char_donnie.webp"},{bytes:1211,name:"hud/icon_coins.png"},{bytes:1546,name:"hud/icon_char_leo.webp"},{bytes:3920,name:"hud/HUD_pizza.webp"},{bytes:2764,name:"hud/icon_enemy_foot.png"},
{bytes:1478,name:"hud/icon_char_mikey.webp"},{bytes:42124,name:"win/foreground.png"},{bytes:1250,name:"hud/icon_char_raph.webp"},{bytes:1058,name:"hud/icon_coins.webp"},{bytes:2486,name:"hud/icon_enemy_foot.webp"},{bytes:2347,name:"win/spotlight_large.png"},{bytes:1349,name:"win/spotlight_small.png"},{bytes:3138,name:"win/turtles_shadow.png"},{bytes:1650,name:"win/spotlight_large.webp"},{bytes:37604,name:"win/foreground.webp"},{bytes:37244,name:"screens/BTN_hiddencity.png"},{bytes:23558,name:"screens/BTN_city.png"},
{bytes:956,name:"win/spotlight_small.webp"},{bytes:417453,name:"win/background.png"},{bytes:283690,name:"win/splinter_bubble.gif"},{bytes:709066,name:"audio/RoTMNT_Game2_HiddenCity.mp3"},{bytes:2532,name:"win/turtles_shadow.webp"},{bytes:367040,name:"win/background.webp"},{bytes:34050,name:"screens/BTN_lair.png"},{bytes:20298,name:"screens/BTN_city.webp"},{bytes:27089,name:"screens/BTN_salvage.png"},{bytes:27500,name:"screens/BTN_subway.png"},{bytes:348436,name:"screens/background2.png"},{bytes:33968,
name:"screens/BTN_hiddencity.webp"},{bytes:50671,name:"screens/burst.png"},{bytes:467184,name:"screens/background.png"},{bytes:20711,name:"screens/button_city.png"},{bytes:17959,name:"screens/button_lair.png"},{bytes:291040,name:"screens/background2.webp"},{bytes:12636,name:"screens/button_roof.png"},{bytes:15607,name:"screens/button_subway.png"},{bytes:18616,name:"screens/button_city.webp"},{bytes:15726,name:"screens/button_yard.png"},{bytes:43336,name:"screens/burst.webp"},{bytes:952,name:"screens/coin_icon.png"},
{bytes:23798,name:"screens/BTN_salvage.webp"},{bytes:410600,name:"screens/background.webp"},{bytes:31558,name:"screens/BTN_lair.webp"},{bytes:16448,name:"screens/button_lair.webp"},{bytes:289,name:"screens/divider_line.png"},{bytes:297,name:"screens/divider_line2.png"},{bytes:11212,name:"screens/button_roof.webp"},{bytes:14434,name:"screens/button_subway.webp"},{bytes:14357,name:"screens/foot_brute.png"},{bytes:14170,name:"screens/button_yard.webp"},{bytes:24718,name:"screens/BTN_subway.webp"},{bytes:166,
name:"screens/divider_line.webp"},{bytes:790,name:"screens/coin_icon.webp"},{bytes:172,name:"screens/divider_line2.webp"},{bytes:142,name:"screens/frame_btn.png"},{bytes:100700,name:"screens/foreground.png"},{bytes:146,name:"screens/frame_btn1.png"},{bytes:146,name:"screens/frame_btn2.png"},{bytes:1152,name:"screens/frame_highlight.png"},{bytes:13798,name:"screens/foot_brute.webp"},{bytes:46,name:"screens/frame_btn.webp"},{bytes:48,name:"screens/frame_btn1.webp"},{bytes:48,name:"screens/frame_btn2.webp"},
{bytes:1455,name:"screens/frame_highlight1.png"},{bytes:87800,name:"screens/foreground.webp"},{bytes:1478,name:"screens/frame_highlight2.png"},{bytes:818,name:"screens/frame_rollover.png"},{bytes:1657,name:"screens/go_coins.png"},{bytes:1008,name:"screens/frame_highlight.webp"},{bytes:1186,name:"screens/frame_highlight1.webp"},{bytes:586,name:"screens/frame_rollover.webp"},{bytes:1238,name:"screens/frame_highlight2.webp"},{bytes:3749,name:"screens/go_pizza.png"},{bytes:4436,name:"screens/header_frame.png"},
{bytes:3569,name:"screens/HUD_coins.png"},{bytes:4279,name:"screens/HUD_coin_bank.png"},{bytes:3590,name:"screens/HUD_coin_total.png"},{bytes:4074,name:"screens/header_frame.webp"},{bytes:3602,name:"screens/go_pizza.webp"},{bytes:3130,name:"screens/HUD_coins.webp"},{bytes:2054,name:"screens/icon_coins_large.png"},{bytes:3888,name:"screens/HUD_coin_bank.webp"},{bytes:3055,name:"screens/icon_donnie.png"},{bytes:3648,name:"screens/icon_donnie_large.png"},{bytes:3332,name:"screens/icon_foot.png"},{bytes:4258,
name:"screens/icon_foot_large.png"},{bytes:3164,name:"screens/HUD_coin_total.webp"},{bytes:3032,name:"screens/icon_leo.png"},{bytes:3364,name:"screens/icon_donnie_large.webp"},{bytes:1770,name:"screens/icon_coins_large.webp"},{bytes:3608,name:"screens/icon_leo_large.png"},{bytes:3020,name:"screens/icon_foot.webp"},{bytes:3216,name:"screens/icon_mikey.png"},{bytes:3737,name:"screens/icon_mikey_large.png"},{bytes:679600,name:"audio/RoTMNT_Game2_Lair_v1.mp3"},{bytes:2951,name:"screens/icon_raph.png"},
{bytes:3339,name:"screens/icon_raph_large.png"},{bytes:3344,name:"screens/icon_leo_large.webp"},{bytes:2782,name:"screens/icon_leo.webp"},{bytes:3914,name:"screens/icon_foot_large.webp"},{bytes:2276,name:"screens/loaderFont.png"},{bytes:2898,name:"screens/icon_mikey.webp"},{bytes:3522,name:"screens/icon_mikey_large.webp"},{bytes:1436,name:"screens/loaderFont.webp"},{bytes:2650,name:"screens/icon_raph.webp"},{bytes:4073,name:"screens/lock_icon.png"},{bytes:1752,name:"screens/loaderFont.fnt.__gz.txt"},
{bytes:3084,name:"screens/icon_raph_large.webp"},{bytes:914,name:"screens/percentage_bg.png"},{bytes:666,name:"screens/percentage_bg.webp"},{bytes:53955,name:"screens/subscreen.png"},{bytes:33900,name:"screens/subscreen_small.png"},{bytes:2872,name:"screens/icon_donnie.webp"},{bytes:21525,name:"screens/title.png"},{bytes:3278,name:"screens/lock_icon.webp"},{bytes:679,name:"screens/trophy_0.png"},{bytes:2545,name:"screens/trophy_1.png"},{bytes:2535,name:"screens/trophy_2.png"},{bytes:1380,name:"screens/go_coins.webp"},
{bytes:29204,name:"screens/subscreen_small.webp"},{bytes:47140,name:"screens/subscreen.webp"},{bytes:2170,name:"screens/trophy_1.webp"},{bytes:2559,name:"screens/trophy_3.png"},{bytes:10408,name:"screens/trophy_large1.png"},{bytes:530,name:"screens/trophy_0.webp"},{bytes:12495,name:"screens/trophy_large2.png"},{bytes:20440,name:"screens/title.webp"},{bytes:2124,name:"screens/trophy_2.webp"},{bytes:2166,name:"screens/trophy_3.webp"},{bytes:10308,name:"screens/trophy_large3.png"},{bytes:765,name:"game/arrowHead.png"},
{bytes:255,name:"game/arrowShaft.png"},{bytes:5761,name:"game/box_double.png"},{bytes:3569,name:"game/box_single.png"},{bytes:626,name:"game/arrowHead.webp"},{bytes:2236,name:"game/bricks1.png"},{bytes:9426,name:"screens/trophy_large3.webp"},{bytes:202,name:"game/arrowShaft.webp"},{bytes:2354,name:"game/bricks2.png"},{bytes:5072,name:"game/box_double.webp"},{bytes:113,name:"game/brick_collider.png"},{bytes:9394,name:"screens/trophy_large1.webp"},{bytes:645,name:"game/coin.png"},{bytes:3006,name:"game/box_single.webp"},
{bytes:284,name:"game/coin_shadow.png"},{bytes:1968,name:"game/bricks2.webp"},{bytes:46,name:"game/brick_collider.webp"},{bytes:1940,name:"game/bricks1.webp"},{bytes:128,name:"game/collider_donnie.png"},{bytes:126,name:"game/collider_leo.png"},{bytes:126,name:"game/collider_mikey.png"},{bytes:128,name:"game/collider_mikey_.png"},{bytes:148,name:"game/coin_shadow.webp"},{bytes:46,name:"game/collider_leo.webp"},{bytes:130,name:"game/collider_raph.png"},{bytes:46,name:"game/collider_donnie.webp"},{bytes:46,
name:"game/collider_mikey.webp"},{bytes:2543,name:"game/cross.png"},{bytes:1248,name:"game/debbris4.png"},{bytes:1650,name:"game/debris1.png"},{bytes:46,name:"game/collider_mikey_.webp"},{bytes:1663,name:"game/debris11.png"},{bytes:50,name:"game/collider_raph.webp"},{bytes:1797,name:"game/debris12.png"},{bytes:2064,name:"game/debris13.png"},{bytes:496,name:"game/coin.webp"},{bytes:1798,name:"game/cross.webp"},{bytes:864,name:"game/debbris4.webp"},{bytes:1338,name:"game/debris1.webp"},{bytes:869,name:"game/debris14.png"},
{bytes:2475,name:"game/debris2.png"},{bytes:1933,name:"game/debris21.png"},{bytes:1462,name:"game/debris11.webp"},{bytes:1442,name:"game/debris12.webp"},{bytes:1796,name:"game/debris13.webp"},{bytes:1790,name:"game/debris22.png"},{bytes:676,name:"game/debris14.webp"},{bytes:1646,name:"game/debris21.webp"},{bytes:2202,name:"game/debris2.webp"},{bytes:2206,name:"game/debris23.png"},{bytes:1100,name:"game/debris24.png"},{bytes:11900,name:"screens/trophy_large2.webp"},{bytes:1170,name:"game/debris3.png"},
{bytes:3707,name:"game/debris31.png"},{bytes:1784,name:"game/debris23.webp"},{bytes:838,name:"game/debris24.webp"},{bytes:1502,name:"game/debris22.webp"},{bytes:730,name:"game/debris3.webp"},{bytes:3334,name:"game/debris31.webp"},{bytes:664,name:"game/debris33.png"},{bytes:3148,name:"game/debris32.png"},{bytes:557,name:"game/debris34.png"},{bytes:904,name:"game/debris35.png"},{bytes:482,name:"game/debris33.webp"},{bytes:916,name:"game/debris4.png"},{bytes:2656,name:"game/debris32.webp"},{bytes:412,
name:"game/debris34.webp"},{bytes:2615,name:"game/debris40.png"},{bytes:1046,name:"game/debris41.png"},{bytes:644,name:"game/debris35.webp"},{bytes:1186,name:"game/debris42.png"},{bytes:1603,name:"game/debris43.png"},{bytes:652,name:"game/debris4.webp"},{bytes:4045,name:"game/debris45.png"},{bytes:2306,name:"game/debris40.webp"},{bytes:872,name:"game/debris41.webp"},{bytes:2288,name:"game/debris5.png"},{bytes:2573,name:"game/debris6.png"},{bytes:958,name:"game/debris42.webp"},{bytes:1390,name:"game/debris43.webp"},
{bytes:1024,name:"game/debris60.png"},{bytes:2569,name:"game/debris7.png"},{bytes:3660,name:"game/debris45.webp"},{bytes:1940,name:"game/debris5.webp"},{bytes:2242,name:"game/debris6.webp"},{bytes:2234,name:"game/debris8.png"},{bytes:4410,name:"game/deskHelp.png"},{bytes:3010,name:"game/ground_dirt_texture.png"},{bytes:860,name:"game/debris60.webp"},{bytes:2150,name:"game/debris7.webp"},{bytes:1860,name:"game/debris8.webp"},{bytes:3605,name:"game/large.png"},{bytes:4124,name:"game/deskHelp.webp"},
{bytes:873,name:"game/med.png"},{bytes:4665,name:"game/mobHelp.png"},{bytes:2543,name:"game/pizza_HUD.png"},{bytes:1672,name:"game/ground_dirt_texture.webp"},{bytes:646,name:"game/med.webp"},{bytes:2164,name:"game/large.webp"},{bytes:5828,name:"game/pizza_pickup.png"},{bytes:10991,name:"game/portal.png"},{bytes:662,name:"game/portal_shadow.png"},{bytes:4342,name:"game/mobHelp.webp"},{bytes:1015,name:"game/redCircle.png"},{bytes:2334,name:"game/pizza_HUD.webp"},{bytes:990,name:"game/redMarker.png"},
{bytes:612,name:"game/redMarker2.png"},{bytes:440,name:"game/portal_shadow.webp"},{bytes:9350,name:"game/scorched.png"},{bytes:9952,name:"game/portal.webp"},{bytes:662,name:"game/redCircle.webp"},{bytes:438,name:"game/small.png"},{bytes:5548,name:"game/pizza_pickup.webp"},{bytes:820,name:"game/redMarker.webp"},{bytes:823,name:"game/tick.png"},{bytes:8386,name:"game/scorched.webp"},{bytes:444,name:"game/redMarker2.webp"},{bytes:4303,name:"game/tire_double.png"},{bytes:304,name:"game/small.webp"},{bytes:3496,
name:"game/tire_single.png"},{bytes:5130,name:"game/tire_triple.png"},{bytes:4020,name:"game/tire_double.webp"},{bytes:3232,name:"game/tire_single.webp"},{bytes:580,name:"game/tick.webp"},{bytes:412,name:"game/trail.png"},{bytes:4296,name:"game/turn_alert_frame.png"},{bytes:1144,name:"game/tyre_collider.png"},{bytes:5630,name:"buttons/BTN_achievements_rollover.png"},{bytes:5641,name:"buttons/BTN_achievements.png"},{bytes:252,name:"game/trail.webp"},{bytes:4918,name:"game/tire_triple.webp"},{bytes:3828,
name:"game/turn_alert_frame.webp"},{bytes:670,name:"game/tyre_collider.webp"},{bytes:3843,name:"buttons/BTN_audioOFF.png"},{bytes:5132,name:"buttons/BTN_achievements.webp"},{bytes:3812,name:"buttons/BTN_audioOFF_rollover.png"},{bytes:3898,name:"buttons/BTN_audioON.png"},{bytes:3867,name:"buttons/BTN_audioON_rollover.png"},{bytes:2508,name:"buttons/BTN_back.png"},{bytes:5110,name:"buttons/BTN_achievements_rollover.webp"},{bytes:3384,name:"buttons/BTN_audioOFF.webp"},{bytes:2381,name:"buttons/BTN_back_rollover.png"},
{bytes:3484,name:"buttons/BTN_audioON.webp"},{bytes:3368,name:"buttons/BTN_audioOFF_rollover.webp"},{bytes:3430,name:"buttons/BTN_audioON_rollover.webp"},{bytes:2756,name:"buttons/BTN_close.png"},{bytes:2305,name:"buttons/BTN_close_rollover.png"},{bytes:3300,name:"buttons/BTN_do-not-touch.png"},{bytes:2092,name:"buttons/BTN_back.webp"},{bytes:1926,name:"buttons/BTN_back_rollover.webp"},{bytes:2757,name:"buttons/BTN_do-not-touch_rollover.png"},{bytes:3670,name:"buttons/BTN_help.png"},{bytes:2908,name:"buttons/BTN_do-not-touch.webp"},
{bytes:1882,name:"buttons/BTN_close_rollover.webp"},{bytes:3626,name:"buttons/BTN_help_rollover.png"},{bytes:2340,name:"buttons/BTN_close.webp"},{bytes:3621,name:"buttons/BTN_hint.png"},{bytes:3572,name:"buttons/BTN_hint_rollover.png"},{bytes:3240,name:"buttons/BTN_help.webp"},{bytes:2320,name:"buttons/BTN_do-not-touch_rollover.webp"},{bytes:2579,name:"buttons/BTN_home.png"},{bytes:2444,name:"buttons/BTN_home_rollover.png"},{bytes:2573,name:"buttons/BTN_menu.png"},{bytes:3200,name:"buttons/BTN_help_rollover.webp"},
{bytes:3232,name:"buttons/BTN_hint.webp"},{bytes:3154,name:"buttons/BTN_hint_rollover.webp"},{bytes:2451,name:"buttons/BTN_menu_rollover.png"},{bytes:3273,name:"buttons/BTN_next.png"},{bytes:2146,name:"buttons/BTN_home.webp"},{bytes:2959,name:"buttons/BTN_next_rollover.png"},{bytes:1974,name:"buttons/BTN_home_rollover.webp"},{bytes:2386,name:"buttons/BTN_pause.png"},{bytes:2048,name:"buttons/BTN_menu_rollover.webp"},{bytes:1892,name:"buttons/BTN_pause_rollover.png"},{bytes:2132,name:"buttons/BTN_menu.webp"},
{bytes:3458,name:"buttons/BTN_play.png"},{bytes:2794,name:"buttons/BTN_next.webp"},{bytes:2508,name:"buttons/BTN_next_rollover.webp"},{bytes:3439,name:"buttons/BTN_play_rollover.png"},{bytes:3653,name:"buttons/BTN_quit.png"},{bytes:2012,name:"buttons/BTN_pause.webp"},{bytes:1548,name:"buttons/BTN_pause_rollover.webp"},{bytes:3615,name:"buttons/BTN_quit_rollover.png"},{bytes:3006,name:"buttons/BTN_play_rollover.webp"},{bytes:3384,name:"buttons/BTN_replay.png"},{bytes:3004,name:"buttons/BTN_play.webp"},
{bytes:3097,name:"buttons/BTN_replay_rollover.png"},{bytes:2682,name:"buttons/BTN_sound_OFF.png"},{bytes:3232,name:"buttons/BTN_quit.webp"},{bytes:2541,name:"buttons/BTN_sound_OFF_rollover.png"},{bytes:3182,name:"buttons/BTN_quit_rollover.webp"},{bytes:2908,name:"buttons/BTN_replay.webp"},{bytes:2746,name:"buttons/BTN_sound_ON.png"},{bytes:2668,name:"buttons/BTN_replay_rollover.webp"},{bytes:2592,name:"buttons/BTN_sound_ON_rollover.png"},{bytes:2246,name:"buttons/BTN_sound_OFF.webp"},{bytes:3546,
name:"buttons/BTN_tick.png"},{bytes:3546,name:"buttons/BTN_tick_rollover.png"},{bytes:2316,name:"buttons/BTN_sound_ON.webp"},{bytes:3003,name:"buttons/BTN_unlock.png"},{bytes:2070,name:"buttons/BTN_sound_OFF_rollover.webp"},{bytes:2714,name:"buttons/BTN_unlock_rollover.png"},{bytes:2136,name:"buttons/BTN_sound_ON_rollover.webp"},{bytes:3132,name:"buttons/BTN_tick.webp"},{bytes:3104,name:"buttons/BTN_tick_rollover.webp"},{bytes:2516,name:"buttons/BTN_unlock.webp"},{bytes:2284,name:"buttons/BTN_unlock_rollover.webp"},
{bytes:13993,name:"audio/donnie/spinning_loop.mp3"},{bytes:20804,name:"audio/donnie/win_selfie.mp3"},{bytes:15322,name:"audio/donnie/spinning_loop.ogg"},{bytes:23354,name:"audio/donnie/win_selfie.ogg"},{bytes:21591,name:"audio/leo/spinning_loop.mp3"},{bytes:21323,name:"audio/leo/spinning_loop.ogg"},{bytes:2802,name:"audio/mikey/exit_shell.mp3"},{bytes:18717,name:"audio/donnie/spin_start.ogg"},{bytes:4523,name:"audio/leo/spin_start.mp3"},{bytes:6286,name:"audio/leo/swoosh.mp3"},{bytes:19183,name:"audio/donnie/spin_start.mp3"},
{bytes:7104,name:"audio/leo/spin_start.ogg"},{bytes:53509,name:"audio/mikey/idle_nunchuk_spin.mp3"},{bytes:6081,name:"audio/mikey/exit_shell.ogg"},{bytes:8565,name:"audio/leo/swoosh.ogg"},{bytes:50285,name:"audio/mikey/idle_nunchuk_spin.ogg"},{bytes:22075,name:"audio/mikey/spinning_loop.ogg"},{bytes:4627,name:"audio/mikey/spin_start.mp3"},{bytes:21329,name:"audio/mikey/spinning_loop.mp3"},{bytes:18014,name:"audio/raph/spinning_loop.mp3"},{bytes:7484,name:"audio/mikey/spin_start.ogg"},{bytes:19101,
name:"audio/raph/spinning_loop.ogg"},{bytes:102115,name:"win/win/atlas0.png"},{bytes:50454,name:"screens/charselect/atlas1.png"},{bytes:20784,name:"audio/raph/spinning_loop2.ogg"},{bytes:25290,name:"audio/raph/spinning_loop2.mp3"},{bytes:14832,name:"audio/raph/spin_start.ogg"},{bytes:14360,name:"audio/raph/spin_start.mp3"},{bytes:52622,name:"win/win/atlas0.webp"},{bytes:4380,name:"win/win/library.json"},{bytes:36387,name:"screens/help_barrel/atlas0.png"},{bytes:50620,name:"screens/charselect/atlas1.webp"},
{bytes:51059,name:"screens/help_enemy/atlas0.png"},{bytes:417714,name:"screens/charselect/atlas0.png"},{bytes:13674,name:"screens/charselect/library.json"},{bytes:43193,name:"screens/sparkle/atlas0.png"},{bytes:299138,name:"screens/charselect/atlas0.webp"},{bytes:380659,name:"screens/gameover/atlas0.png"},{bytes:300267,name:"screens/gameover/atlas1.png"},{bytes:30448,name:"screens/help_barrel/atlas0.webp"},{bytes:1911,name:"screens/help_barrel/library.json"},{bytes:45558,name:"screens/gameover/library.json"},
{bytes:48258,name:"screens/help_enemy/atlas0.webp"},{bytes:3711,name:"screens/sparkle/library.json"},{bytes:234752,name:"screens/gameover/atlas1.webp"},{bytes:44618,name:"game/burst/atlas0.png"},{bytes:1937,name:"screens/help_enemy/library.json"},{bytes:40012,name:"screens/sparkle/atlas0.webp"},{bytes:145886,name:"screens/splinter/atlas1.png"},{bytes:128532,name:"game/donnie/atlas0.png"},{bytes:37812,name:"game/burst/atlas0.webp"},{bytes:35595,name:"screens/splinter/library.json"},{bytes:89890,name:"screens/splinter/atlas1.webp"},
{bytes:438445,name:"screens/splinter/atlas0.png"},{bytes:4426,name:"game/burst/library.json"},{bytes:73931,name:"game/leo/atlas0.png"},{bytes:6121,name:"game/pickups/atlas0.png"},{bytes:25503,name:"game/enemies/library.json"},{bytes:21313,name:"game/donnie/library.json"},{bytes:273194,name:"screens/gameover/atlas0.webp"},{bytes:333494,name:"game/enemies/atlas0.png"},{bytes:176541,name:"game/mikey/atlas0.png"},{bytes:40874,name:"game/mikey/library.json"},{bytes:286502,name:"game/enemies/atlas0.webp"},
{bytes:56812,name:"game/leo/atlas0.webp"},{bytes:20133,name:"game/leo/library.json"},{bytes:147472,name:"game/mikey/atlas0.webp"},{bytes:182879,name:"game/raph/atlas0.png"},{bytes:2227,name:"game/pickups/library.json"},{bytes:5932,name:"game/pickups/atlas0.webp"},{bytes:297393,name:"game/portal/atlas0.png"},{bytes:25114,name:"game/portal/library.json"},{bytes:138626,name:"game/raph/atlas0.webp"},{bytes:30914,name:"game/raph/library.json"},{bytes:231092,name:"game/portal/atlas0.webp"},{bytes:99810,
name:"game/donnie/atlas0.webp"},{bytes:252956,name:"screens/splinter/atlas0.webp"}],_2DKitOrientation:[{bytes:3720,name:"RotateDevice.png"},{bytes:1794,name:"RotateDevice.webp"}],yard:[{bytes:20019,name:"car_double.png"},{bytes:17364,name:"car_single.png"},{bytes:24917,name:"car_triple.png"},{bytes:29375,name:"fence.png"},{bytes:25628,name:"repo_sign.png"},{bytes:18618,name:"car_double.webp"},{bytes:32973,name:"shipping_container_1.png"},{bytes:15988,name:"car_single.webp"},{bytes:33351,name:"shipping_container_2.png"},
{bytes:22964,name:"car_triple.webp"},{bytes:51772,name:"shipping_stack_1.png"},{bytes:2040,name:"top_gradient_tile.png"},{bytes:211092,name:"ground.png"},{bytes:22698,name:"repo_sign.webp"},{bytes:28974,name:"shipping_container_1.webp"},{bytes:29290,name:"shipping_container_2.webp"},{bytes:45490,name:"shipping_stack_1.webp"},{bytes:654,name:"top_gradient_tile.webp"},{bytes:26632,name:"fence.webp"},{bytes:108966,name:"ground.webp"}],roof:[{bytes:119,name:"deckchair_collider.png"},{bytes:5372,name:"deck_chair.png"},
{bytes:5615,name:"ramp.png"},{bytes:4443,name:"ramp2.png"},{bytes:42,name:"deckchair_collider.webp"},{bytes:336495,name:"background.png"},{bytes:7553,name:"ramps.png"},{bytes:7987,name:"ramps2.png"},{bytes:4792,name:"deck_chair.webp"},{bytes:4920,name:"ramp.webp"},{bytes:3846,name:"ramp2.webp"},{bytes:7060,name:"ramps2.webp"},{bytes:6600,name:"ramps.webp"},{bytes:288910,name:"background.webp"},{bytes:17731,name:"skylight.png"},{bytes:128,name:"skylight_collider.png"},{bytes:273697,name:"roof1.png"},
{bytes:3958,name:"umbrella.png"},{bytes:282300,name:"roof2.png"},{bytes:242979,name:"roof3.png"},{bytes:115,name:"umbrella_collider.png"},{bytes:253018,name:"roof2.webp"},{bytes:221262,name:"roof3.webp"},{bytes:245822,name:"roof1.webp"},{bytes:46,name:"skylight_collider.webp"},{bytes:533,name:"umbrella_shadow.png"},{bytes:128,name:"watertower_collider.png"},{bytes:14536,name:"water_tower.png"},{bytes:3660,name:"umbrella.webp"},{bytes:46,name:"umbrella_collider.webp"},{bytes:334,name:"umbrella_shadow.webp"},
{bytes:42,name:"watertower_collider.webp"},{bytes:12794,name:"water_tower.webp"},{bytes:16670,name:"skylight.webp"}],config:[{bytes:1365,name:"config.xml"},{bytes:3434,name:"translation.xml"}],lair:[{bytes:27417,name:"downlight.png"},{bytes:44913,name:"lighting.png"},{bytes:24178,name:"downlight.webp"},{bytes:34744,name:"lighting.webp"},{bytes:517180,name:"background.png"},{bytes:460112,name:"background.webp"}],city:[{bytes:2968,name:"balloons.png"},{bytes:45154,name:"bridge.png"},{bytes:6538,name:"floating_rocks.png"},
{bytes:763,name:"floating_rocks_shadow.png"},{bytes:1310,name:"pillar_small.png"},{bytes:129732,name:"light_overlay.png"},{bytes:8941,name:"rock_blocks.png"},{bytes:2818,name:"balloons.webp"},{bytes:5750,name:"floating_rocks.webp"},{bytes:520,name:"floating_rocks_shadow.webp"},{bytes:1068,name:"pillar_small.webp"},{bytes:8398,name:"rock_blocks.webp"},{bytes:40920,name:"bridge.webp"},{bytes:105716,name:"light_overlay.webp"},{bytes:333954,name:"platform.png"},{bytes:8593,name:"gates/library.json"},
{bytes:416121,name:"lava.png"},{bytes:300046,name:"platform.webp"},{bytes:330327,name:"gates/atlas0.png"},{bytes:381072,name:"lava.webp"},{bytes:287526,name:"gates/atlas0.webp"}]},width:480}]}};ma.$EP=0;ma.$FP=0;I.$vP=["webkit","moz","ms"];I.$wP=(new Qb("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);I.$LQ=!0;V.$jQ=!0;qb.$BH=new Ja;ya.$VT=0;ya.$WT=1;ya.$XT=2;c.v2=!1;c.nickApp=!1;c.liteAssetsInApp=!1;c.lite=!1;c.minScaleSize=960;c.scale=1;c.offsetX=0;c.offsetY=0;c.alwaysResize=!1;c.staticWidth=
960;c.staticHeight=640;c.gamePackReady=!1;c.levelReady=!1;c.loaded="";c.isMobile=!1;c.active=!0;c.muted=!1;c.paused=!1;c.help1=!0;c.help2=!0;c.help3=!0;c["char"]="donnie";c.area="lair";c.puzzle=1;c.ballSpeed=5;c.minPower=200;c.maxPower=4E3;c.purse=75;c.levelCoins=0;c.coins=0;c.kills=0;c.shots=0;c.pizza=0;c.helpStage=0;c.unlockRoof=50;c.unlockYard=100;c.unlockSubway=125;c.unlockCity=150;c.unlockedRoof=!1;c.unlockedYard=!1;c.unlockedSubway=!1;c.unlockedCity=!1;c.level11coins=0;c.level12coins=0;c.level13coins=
0;c.level14coins=0;c.level15coins=0;c.level11shots=6;c.level12shots=6;c.level13shots=8;c.level14shots=8;c.level15shots=8;c.level11coinsMax=9;c.level11enemiesMax=0;c.level12coinsMax=15;c.level12enemiesMax=0;c.level13coinsMax=13;c.level13enemiesMax=0;c.level14coinsMax=15;c.level14enemiesMax=0;c.level15coinsMax=20;c.level15enemiesMax=0;c.level31shots=10;c.level32shots=10;c.level33shots=10;c.level34shots=10;c.level35shots=10;c.level31coins=0;c.level32coins=0;c.level33coins=0;c.level34coins=0;c.level35coins=
0;c.level31coinsMax=22;c.level31enemiesMax=5;c.level32coinsMax=15;c.level32enemiesMax=4;c.level33coinsMax=29;c.level33enemiesMax=7;c.level34coinsMax=30;c.level34enemiesMax=8;c.level35coinsMax=36;c.level35enemiesMax=7;c.level21shots=12;c.level22shots=12;c.level23shots=12;c.level24shots=15;c.level25shots=15;c.level21coinsMax=24;c.level21enemiesMax=5;c.level22coinsMax=46;c.level22enemiesMax=5;c.level23coinsMax=31;c.level23enemiesMax=6;c.level24coinsMax=26;c.level24enemiesMax=7;c.level25coinsMax=34;c.level25enemiesMax=
8;c.level21coins=0;c.level22coins=0;c.level23coins=0;c.level24coins=0;c.level25coins=0;c.level21pizzaMax=1;c.level22pizzaMax=1;c.level23pizzaMax=1;c.level24pizzaMax=1;c.level25pizzaMax=1;c.level41shots=15;c.level42shots=15;c.level43shots=15;c.level44shots=15;c.level45shots=15;c.level41coins=0;c.level42coins=0;c.level43coins=0;c.level44coins=0;c.level45coins=0;c.level41coinsMax=20;c.level41enemiesMax=4;c.level42coinsMax=25;c.level42enemiesMax=5;c.level43coinsMax=30;c.level43enemiesMax=7;c.level44coinsMax=
30;c.level44enemiesMax=7;c.level45coinsMax=30;c.level45enemiesMax=8;c.level41pizzaMax=1;c.level42pizzaMax=1;c.level43pizzaMax=1;c.level44pizzaMax=1;c.level45pizzaMax=1;c.level51shots=15;c.level52shots=15;c.level53shots=15;c.level54shots=15;c.level55shots=15;c.level51coins=0;c.level52coins=0;c.level53coins=0;c.level54coins=0;c.level55coins=0;c.level51coinsMax=20;c.level51enemiesMax=5;c.level52coinsMax=25;c.level52enemiesMax=6;c.level53coinsMax=25;c.level53enemiesMax=6;c.level54coinsMax=30;c.level54enemiesMax=
8;c.level55coinsMax=50;c.level55enemiesMax=12;c.level51pizzaMax=1;c.level52pizzaMax=1;c.level53pizzaMax=1;c.level54pizzaMax=1;c.level55pizzaMax=1;c.level11medal=0;c.level12medal=0;c.level13medal=0;c.level14medal=0;c.level15medal=0;c.level21medal=0;c.level22medal=0;c.level23medal=0;c.level24medal=0;c.level25medal=0;c.level31medal=0;c.level32medal=0;c.level33medal=0;c.level34medal=0;c.level35medal=0;c.level41medal=0;c.level42medal=0;c.level43medal=0;c.level44medal=0;c.level45medal=0;c.level51medal=
0;c.level52medal=0;c.level53medal=0;c.level54medal=0;c.level55medal=0;c.showFPS=!1;c.testMode=!1;c.showDebugInfo=!1;c.quickTest=!1;c.debugAlpha=0;c.colliderColour=16711680;wg.$ZL()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
