!function(t){function e(e){for(var o,a,s=e[0],l=e[1],c=e[2],h=0,p=[];h<s.length;h++)a=s[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(u&&u(e);p.length;)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={0:0},r=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([143,1]),n()}({128:function(t){t.exports=JSON.parse('{"tools":{"angle-pipe":{"zIndex":2,"allowRotation":true},"binder":{"zIndex":0,"allowRotation":true},"blender":{"zIndex":2,"allowRotation":true},"bookend":{"zIndex":2,"allowRotation":true},"boot":{"zIndex":2,"allowRotation":true},"bowl":{"zIndex":2,"allowRotation":true},"clock":{"zIndex":0,"allowRotation":true},"faucet":{"zIndex":2},"funnel":{"zIndex":2,"allowRotation":true},"lunchbox":{"zIndex":2,"allowRotation":true},"measuring-cup":{"zIndex":2,"allowRotation":true},"pencil":{"zIndex":2,"allowRotation":true},"ramp-curved":{"zIndex":0,"allowRotation":true},"ramp-straight":{"zIndex":0,"allowRotation":true},"ruler":{"zIndex":2,"allowRotation":true},"see-saw":{"zIndex":2},"slide":{"zIndex":0,"allowFlip":true},"stapler":{"zIndex":2,"allowRotation":true},"straight-pipe":{"zIndex":2,"allowRotation":true},"straw":{"zIndex":2,"allowRotation":true},"tray":{"zIndex":0,"allowRotation":true},"trough":{"zIndex":2,"allowFlip":true},"umbrella":{"zIndex":2,"allowRotation":true},"wheel":{"zIndex":2,"allowFlip":true,"useMotor":true,"motorSpeed":90,"motorTorque":500},"wood-plank":{"zIndex":0,"allowRotation":true}},"toys":{"anchor":{"zIndex":2,"divingBoardDirection":{"x":-100,"y":-100},"slideSpeed":15000},"donut":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-10,"y":-20},"slideSpeed":2000},"beach-ball":{"zIndex":2,"divingBoardDirection":{"x":-20,"y":-30},"slideSpeed":3000},"boat":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-30,"y":-50},"slideSpeed":3000},"car":{"zIndex":2,"divingBoardDirection":{"x":-120,"y":-120},"slideSpeed":30000},"cup":{"zIndex":2,"divingBoardDirection":{"x":-5,"y":-10},"slideSpeed":2000},"duck":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-5,"y":-15},"slideSpeed":3000},"football":{"zIndex":2,"divingBoardDirection":{"x":-10,"y":-15},"slideSpeed":4000},"flamingo":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-5,"y":-20},"slideSpeed":3000},"gun":{"zIndex":2,"allowRotation":true},"multi-gun":{"zIndex":2,"useMotor":true,"motorSpeed":90,"motorTorque":50},"noodle":{"zIndex":2,"divingBoardDirection":{"x":-10,"y":-20},"slideSpeed":6000},"rock":{"zIndex":2,"divingBoardDirection":{"x":-120,"y":-120},"slideSpeed":25000},"shark":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-25,"y":-50},"slideSpeed":5000},"submarine":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-25,"y":-50},"slideSpeed":5000},"surf-board":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-5,"y":-15},"slideSpeed":2000},"turtle":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-10,"y":-30},"slideSpeed":4000},"whale":{"zIndex":2,"limitRotation":true,"divingBoardDirection":{"x":-10,"y":-30},"slideSpeed":5000},"wood-log":{"zIndex":2,"divingBoardDirection":{"x":-25,"y":-50},"slideSpeed":5000}},"cafeteria-1":{"name":"CAFETERIA  1 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":56,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65}],"tables":[],"goals":[{"x":360,"y":120,"w":70,"h":130}],"progressBars":[{"x":352,"y":333,"direction":"up"}],"tools":["tray"],"stars":[{"x":58,"y":-115},{"x":162,"y":1},{"x":278,"y":81}],"obstacles":[{"name":"bowl","x":43,"y":-47,"angle":15}],"hint":"drawing1.png","hints":[{"name":"tray-hint","x":187,"y":97,"angle":30}],"unlockable":"donut"},"cafeteria-2":{"name":"CAFETERIA  2 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-88,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65}],"tables":[],"goals":[{"x":360,"y":120,"w":70,"h":130}],"progressBars":[{"x":352,"y":333,"direction":"up"}],"tools":["straw"],"stars":[{"x":77,"y":-117},{"x":194,"y":-5},{"x":316,"y":117}],"obstacles":[{"name":"tray","x":142,"y":13,"angle":30}],"hint":"drawing1.png","hints":[{"name":"straw-hint","x":-39,"y":-154,"angle":0}],"unlockable":"cup"},"cafeteria-3":{"name":"CAFETERIA  3 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-305,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65}],"tables":[],"goals":[{"x":360,"y":120,"w":70,"h":130}],"progressBars":[{"x":352,"y":333,"direction":"up"}],"tools":["ramp-straight","tray"],"stars":[{"x":-233,"y":-50},{"x":-32,"y":38},{"x":254,"y":147}],"obstacles":[{"name":"bowl","x":-298,"y":-53,"angle":15},{"name":"ramp-curved","x":19,"y":122,"angle":-30}],"hint":"drawing1.png","hints":[{"name":"tray-hint","x":-162,"y":41,"angle":15},{"name":"ramp-straight-hint","x":199,"y":143,"angle":-30}],"unlockable":"submarine"},"cafeteria-4":{"name":"CAFETERIA  4 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":171,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65}],"tables":[],"goals":[{"x":360,"y":120,"w":70,"h":130}],"progressBars":[{"x":352,"y":333,"direction":"up"}],"tools":["ramp-straight","tray","straw"],"stars":[{"x":187,"y":105},{"x":77,"y":34},{"x":280,"y":-135}],"obstacles":[{"name":"blender","x":177,"y":-51,"angle":0}],"hint":"drawing1.png","hints":[{"name":"tray-hint","x":23,"y":77,"angle":30},{"name":"ramp-straight-hint","x":227,"y":160,"angle":-30}],"unlockable":"wood-plank"},"cafeteria-5":{"name":"CAFETERIA  5 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":111,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65}],"tables":[],"goals":[{"x":340,"y":120,"w":70,"h":130}],"progressBars":[{"x":352,"y":333,"direction":"up"}],"tools":["tray","blender"],"stars":[{"x":119,"y":163},{"x":248,"y":-156},{"x":-16,"y":-165}],"obstacles":[{"name":"ramp-curved","x":-45,"y":-27,"angle":0},{"name":"ramp-curved","x":270,"y":-26,"angle":-90},{"name":"straight-pipe","x":110,"y":-47,"angle":0},{"name":"funnel","x":120,"y":75,"angle":0}],"hint":"drawing1.png","hints":[{"name":"blender-hint","x":115,"y":-159,"angle":0},{"name":"tray-hint","x":185,"y":190,"angle":15}],"unlockable":"car"},"cafeteria-6":{"name":"CAFETERIA  6 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-176,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65}],"tables":[],"goals":[{"x":340,"y":120,"w":70,"h":130}],"progressBars":[{"x":352,"y":333,"direction":"up"}],"tools":["straw","funnel","ramp-curved"],"stars":[{"x":-105,"y":-123},{"x":69,"y":-147},{"x":117,"y":47}],"obstacles":[{"name":"straight-pipe","x":5,"y":-24,"angle":90}],"hint":"drawing1.png","hints":[{"name":"ramp-curved-hint","x":-126,"y":-147,"angle":-30},{"name":"funnel-hint","x":114,"y":-43,"angle":0},{"name":"straw-hint","x":167,"y":82,"angle":0}],"unlockable":"faucet"},"cafeteria-7":{"name":"CAFETERIA  7 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":161,"y":-270,"angle":0},{"x":-104,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65}],"tables":[],"goals":[{"x":360,"y":120,"w":70,"h":130}],"progressBars":[{"x":352,"y":333,"direction":"up"}],"tools":["bowl","tray","straight-pipe"],"stars":[{"x":153,"y":-87},{"x":180,"y":56},{"x":258,"y":139}],"obstacles":[{"name":"angle-pipe","x":-83,"y":-112,"angle":0},{"name":"wood-plank","x":145,"y":-15,"angle":-30}],"hint":"drawing1.png","hints":[{"name":"straight-pipe-hint","x":35,"y":-90,"angle":0},{"name":"bowl-hint","x":308,"y":33,"angle":-45},{"name":"tray-hint","x":192,"y":117,"angle":30}],"unlockable":"bowl"},"cafeteria-8":{"name":"CAFETERIA  8 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-220,"y":-270,"angle":0},{"x":141,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65},{"x":30,"y":311,"angle":0}],"tables":[{"x":38,"y":357}],"goals":[{"x":350,"y":120,"w":70,"h":130},{"x":-60,"y":290,"w":200,"h":50}],"progressBars":[{"x":352,"y":333,"direction":"up"},{"x":-195,"y":333,"direction":"right"}],"tools":["tray","straw"],"stars":[{"x":-7,"y":223},{"x":-217,"y":77},{"x":214,"y":60}],"obstacles":[{"name":"wood-plank","x":166,"y":-90,"angle":-15},{"name":"ramp-straight","x":210,"y":100,"angle":-15}],"hint":"drawing1.png","hints":[{"name":"straw-hint","x":-183,"y":184,"angle":15},{"name":"tray-hint","x":334,"y":39,"angle":-45}],"unlockable":"slide"},"cafeteria-9":{"name":"CAFETERIA  9 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-247,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65},{"x":-204,"y":315,"angle":0}],"tables":[{"x":-203,"y":362}],"goals":[{"x":350,"y":120,"w":70,"h":130},{"x":-300,"y":300,"w":200,"h":50}],"progressBars":[{"x":352,"y":333,"direction":"up"},{"x":24,"y":333,"direction":"left"}],"tools":["blender","tray","straw"],"stars":[{"x":-151,"y":139},{"x":-54,"y":-51},{"x":171,"y":84}],"obstacles":[{"name":"straw","x":-204,"y":-110,"angle":0}],"hint":"drawing1.png","hints":[{"name":"blender-hint","x":0,"y":62,"angle":0},{"name":"tray-hint","x":191,"y":119,"angle":15}],"unlockable":"duck"},"cafeteria-10":{"name":"CAFETERIA  10 / 10","background":"CafeteriaBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":146,"y":-270,"angle":0},{"x":-146,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-cafeteria","x":434,"y":251,"angle":0}],"plates":[{"x":385,"y":181,"angle":-65},{"x":-204,"y":311,"angle":0}],"tables":[{"x":-201,"y":357}],"goals":[{"x":340,"y":120,"w":70,"h":130},{"x":-300,"y":300,"w":180,"h":50}],"progressBars":[{"x":352,"y":333,"direction":"up"},{"x":15,"y":333,"direction":"left"}],"tools":["blender","funnel","ramp-straight"],"stars":[{"x":-91,"y":40},{"x":-171,"y":217},{"x":216,"y":105}],"obstacles":[{"name":"tray","x":-133,"y":-92,"angle":15},{"name":"trough","x":181,"y":-92,"angle":0},{"name":"straight-pipe","x":-277,"y":23,"angle":90},{"name":"measuring-cup","x":60,"y":245,"angle":-30}],"hint":"drawing1.png","hints":[{"name":"blender-hint","x":53,"y":80,"angle":0},{"name":"funnel-hint","x":-137,"y":141,"angle":15},{"name":"ramp-straight-hint","x":217,"y":157,"angle":-30}],"unlockable":"football"},"library-1":{"name":"LIBRARY  1 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-133,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[],"goals":[],"progressBars":[],"tools":["binder"],"stars":[{"x":-62,"y":-105},{"x":61,"y":32},{"x":176,"y":165}],"obstacles":[{"name":"bookend","x":-156,"y":-124,"angle":-30}],"hint":"drawing1.png","hints":[{"name":"binder-hint","x":-15,"y":38,"angle":0}],"unlockable":"ruler"},"library-2":{"name":"LIBRARY  2 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-218,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[],"goals":[],"progressBars":[],"tools":["stapler"],"stars":[{"x":143,"y":143},{"x":-103,"y":84},{"x":-214,"y":-127}],"obstacles":[{"name":"bookend","x":-200,"y":0,"angle":15}],"hint":"drawing1.png","hints":[{"name":"stapler-hint","x":32,"y":191,"angle":30}],"unlockable":"shark"},"library-3":{"name":"LIBRARY  3 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-311,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[],"progressBars":[],"tools":["bookend"],"stars":[{"x":-137,"y":-115},{"x":175,"y":160},{"x":40,"y":6}],"obstacles":[{"name":"ruler","x":-290,"y":-135,"angle":15},{"name":"see-saw","x":110,"y":40,"angle":0,"sawAngle":-25}],"hint":"drawing1.png","hints":[{"name":"bookend-hint","x":36,"y":109,"angle":0}],"unlockable":"see-saw"},"library-4":{"name":"LIBRARY  4 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-60,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[],"progressBars":[],"tools":["clock"],"stars":[{"x":-59,"y":-105},{"x":110,"y":71},{"x":243,"y":158}],"obstacles":[{"name":"stapler","x":90,"y":124,"angle":45}],"hint":"drawing1.png","hints":[{"name":"clock-hint","x":-95,"y":-108,"angle":0}],"unlockable":"gun"},"library-5":{"name":"LIBRARY  5 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-42,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[],"progressBars":[],"tools":["bookend","clock"],"stars":[{"x":-204,"y":-32},{"x":197,"y":120},{"x":59,"y":50}],"obstacles":[{"name":"angle-pipe","x":-67,"y":-119,"angle":-90},{"name":"funnel","x":200,"y":180,"angle":0}],"hint":"drawing1.png","hints":[{"name":"bookend-hint","x":-193,"y":14,"angle":0},{"name":"clock-hint","x":23,"y":112,"angle":0}],"unlockable":"rock"},"library-6":{"name":"LIBRARY  6 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":300,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[],"progressBars":[],"tools":["ruler","wood-plank"],"stars":[{"x":293,"y":-59},{"x":113,"y":34},{"x":132,"y":135}],"obstacles":[{"name":"ramp-straight","x":302,"y":-178,"angle":0},{"name":"bookend","x":200,"y":59,"angle":-60}],"hint":"drawing1.png","hints":[{"name":"ruler-hint","x":378,"y":-72,"angle":-45},{"name":"wood-plank-hint","x":16,"y":86,"angle":-15}],"unlockable":"turtle"},"library-7":{"name":"LIBRARY  7 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-91,"y":-270,"angle":0},{"x":212,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[],"progressBars":[],"tools":["ruler","stapler","bookend"],"stars":[{"x":40,"y":-75},{"x":96,"y":166},{"x":280,"y":184}],"obstacles":[{"name":"binder","x":142,"y":23,"angle":0},{"name":"ramp-straight","x":374,"y":-34,"angle":45}],"hint":"drawing1.png","hints":[{"name":"ruler-hint","x":-60,"y":-72,"angle":30},{"name":"stapler-hint","x":369,"y":102,"angle":-15},{"name":"bookend-hint","x":2,"y":129,"angle":0}],"unlockable":"binder"},"library-8":{"name":"LIBRARY  8 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":64,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[{"x":-20,"y":340,"angle":0}],"progressBars":[{"x":-200,"y":324,"direction":"right"}],"tools":["binder"],"stars":[{"x":232,"y":202},{"x":-36,"y":198},{"x":-214,"y":5}],"obstacles":[{"name":"ramp-curved","x":54,"y":-115,"angle":-42},{"name":"bookend","x":-238,"y":0,"angle":15},{"name":"stapler","x":219,"y":-39,"angle":-30},{"name":"ruler","x":107,"y":146,"angle":45}],"hint":"drawing1.png","hints":[{"name":"binder-hint","x":-43,"y":-15,"angle":0}],"unlockable":"whale"},"library-9":{"name":"LIBRARY  9 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-135,"y":-270,"angle":0},{"x":187,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[{"x":-60,"y":338,"angle":0}],"progressBars":[{"x":-254,"y":320,"direction":"right"}],"tools":["bookend","binder"],"stars":[{"x":-221,"y":139},{"x":239,"y":167},{"x":-42,"y":-108}],"obstacles":[{"name":"ruler","x":-111,"y":-95,"angle":30},{"name":"trough","x":210,"y":-130,"angle":0},{"name":"ramp-straight","x":340,"y":71,"angle":0}],"hint":"drawing1.png","hints":[{"name":"binder-hint","x":70,"y":21,"angle":0},{"name":"bookend-hint","x":-202,"y":169,"angle":-30}],"unlockable":"wood-log"},"library-10":{"name":"LIBRARY  10 / 10","background":"LibraryBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":80,"y":-270,"angle":0},{"x":180,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-library","x":448,"y":225,"angle":0}],"buckets":[{"x":-200,"y":338,"angle":0}],"progressBars":[{"x":-15,"y":331,"direction":"left"}],"tools":["ramp-straight","see-saw","bookend"],"stars":[{"x":257,"y":185},{"x":-108,"y":178},{"x":57,"y":49}],"obstacles":[{"name":"binder","x":132,"y":-137,"angle":0},{"name":"angle-pipe","x":-120,"y":-140,"angle":-90},{"name":"ramp-curved","x":-177,"y":71,"angle":0},{"name":"stapler","x":99,"y":84,"angle":0}],"hint":"drawing1.png","hints":[{"name":"ramp-straight-hint","x":-62,"y":198,"angle":-75},{"name":"see-saw-hint","x":-108,"y":-16,"angle":0},{"name":"bookend-hint","x":342,"y":0,"angle":-135}],"unlockable":"multi-gun"},"hallway-1":{"name":"HALLWAY  1 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":215,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[],"progressBars":[],"tools":["lunchbox"],"stars":[{"x":134,"y":97},{"x":210,"y":168},{"x":115,"y":-59}],"obstacles":[{"name":"pencil","x":260,"y":-141,"angle":0}],"hint":"drawing1.png","hints":[{"name":"lunchbox-hint","x":-8,"y":128,"angle":-135}],"unlockable":"flamingo"},"hallway-2":{"name":"HALLWAY  2 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":368,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[],"progressBars":[],"tools":["umbrella"],"stars":[{"x":268,"y":-90},{"x":210,"y":5},{"x":212,"y":104}],"obstacles":[{"name":"pencil","x":153,"y":35,"angle":-50}],"hint":"drawing1.png","hints":[{"name":"umbrella-hint","x":386,"y":-41,"angle":-45}],"unlockable":"beach-ball"},"hallway-3":{"name":"HALLWAY  3 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-307,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[],"progressBars":[],"tools":["lunchbox","pencil"],"stars":[{"x":-144,"y":-162},{"x":0,"y":-44},{"x":198,"y":147}],"obstacles":[{"name":"ramp-curved","x":-281,"y":-189,"angle":-30},{"name":"ramp-straight","x":70,"y":70,"angle":-30}],"hint":"drawing1.png","hints":[{"name":"lunchbox-hint","x":-171,"y":-37,"angle":-135},{"name":"pencil-hint","x":245,"y":74,"angle":-45}],"unlockable":"umbrella"},"hallway-4":{"name":"HALLWAY  4 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-137,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[],"progressBars":[],"tools":["boot","ramp-curved"],"stars":[{"x":-193,"y":-1},{"x":47,"y":167},{"x":172,"y":177}],"obstacles":[{"name":"pencil","x":-118,"y":-120,"angle":-15},{"name":"lunchbox","x":350,"y":120,"angle":90}],"hint":"drawing1.png","hints":[{"name":"boot-hint","x":-16,"y":190,"angle":-75},{"name":"ramp-curved-hint","x":-210,"y":12,"angle":0}],"unlockable":"surf-board"},"hallway-5":{"name":"HALLWAY  5 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":93,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[],"progressBars":[],"tools":["boot","lunchbox"],"stars":[{"x":213,"y":75},{"x":214,"y":-34},{"x":117,"y":-71}],"obstacles":[{"name":"ramp-straight","x":88,"y":98,"angle":-90},{"name":"wood-plank","x":275,"y":-140,"angle":45}],"hint":"drawing1.png","hints":[{"name":"boot-hint","x":81,"y":-65,"angle":105},{"name":"lunchbox-hint","x":337,"y":51,"angle":90}],"unlockable":"noodle"},"hallway-6":{"name":"HALLWAY  6 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":93,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[],"progressBars":[],"tools":["pencil","umbrella"],"stars":[{"x":39,"y":-139},{"x":10,"y":-10},{"x":99,"y":142}],"obstacles":[{"name":"wheel","x":125,"y":-116,"angle":0,"motorSpeed":-90}],"hint":"drawing1.png","hints":[{"name":"pencil-hint","x":-48,"y":-9,"angle":105},{"name":"umbrella-hint","x":50,"y":235,"angle":0}],"unlockable":"wheel"},"hallway-7":{"name":"HALLWAY  7 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-220,"y":-270,"angle":0},{"x":93,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[],"progressBars":[],"tools":["boot","pencil","lunchbox"],"stars":[{"x":-111,"y":-114},{"x":79,"y":44},{"x":223,"y":-70}],"obstacles":[{"name":"ramp-curved","x":125,"y":-147,"angle":-30},{"name":"wood-plank","x":-87,"y":3,"angle":0}],"hint":"drawing1.png","hints":[{"name":"boot-hint","x":-236,"y":-123,"angle":75},{"name":"pencil-hint","x":304,"y":-81,"angle":0},{"name":"lunchbox-hint","x":46,"y":157,"angle":15}],"unlockable":"boat"},"hallway-8":{"name":"HALLWAY  8 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-200,"y":-270,"angle":0},{"x":414,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[{"x":110,"y":300,"angle":0}],"progressBars":[{"x":-58,"y":269,"direction":"right"}],"tools":["ramp-curved"],"stars":[{"x":81,"y":3},{"x":221,"y":133},{"x":295,"y":-115}],"obstacles":[{"name":"pencil","x":150,"y":91,"angle":-45},{"name":"boot","x":420,"y":-111,"angle":15}],"hint":"drawing1.png","hints":[{"name":"ramp-curved-hint","x":-184,"y":-122,"angle":0}],"unlockable":"boot"},"hallway-9":{"name":"HALLWAY  9 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":-202,"y":-270,"angle":0},{"x":92,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[{"x":-280,"y":300,"angle":0}],"progressBars":[{"x":-152,"y":267,"direction":"left"}],"tools":["pencil","lunchbox"],"stars":[{"x":-230,"y":29},{"x":-290,"y":170},{"x":206,"y":166}],"obstacles":[{"name":"wood-plank","x":-211,"y":-139,"angle":0},{"name":"umbrella","x":146,"y":-105,"angle":-30},{"name":"wheel","x":-10,"y":-3,"angle":0}],"hint":"drawing1.png","hints":[{"name":"pencil-hint","x":-112,"y":-51,"angle":0},{"name":"lunchbox-hint","x":51,"y":176,"angle":-135}],"unlockable":"anchor"},"hallway-10":{"name":"HALLWAY  10 / 10","background":"HallwayBG","brokenPipes":[{"x":0,"y":-317,"angle":0}],"patches":[{"x":200,"y":-270,"angle":0},{"x":352,"y":-270,"angle":0}],"hamsters":[{"name":"hamster-hallway","x":244,"y":290,"angle":0}],"fountains":[{"x":318,"y":280,"angle":0}],"funnels":[{"x":-270,"y":303,"angle":20}],"progressBars":[{"x":-101,"y":297,"direction":"left"}],"tools":["pencil","ramp-straight","lunchbox"],"stars":[{"x":-125,"y":163},{"x":68,"y":-35},{"x":287,"y":-70}],"obstacles":[{"name":"trough","x":190,"y":-170,"angle":0},{"name":"ramp-curved","x":125,"y":100,"angle":45},{"name":"wood-plank","x":-96,"y":-24,"angle":0}],"hint":"drawing1.png","hints":[{"name":"pencil-hint","x":-26,"y":178,"angle":30},{"name":"lunchbox-hint","x":383,"y":1,"angle":135}],"unlockable":"trough"}}')},129:function(t){t.exports=JSON.parse('{"wheel":[[-63.041000000000004,-60.016,57.958999999999996,-60.016,57.958999999999996,60.984,-63.041000000000004,60.984]],"bowl":[[54.945,-30,46.945,-4,22.945,30,-23.055,30,-49.055,-1,-56.055,-30]],"beach-ball":[[-38.998,-16.997999999999998,-26.997999999999998,-32.998,-7.9979999999999976,-40.998,13.002000000000002,-38.998,28.002000000000002,-29.997999999999998,40.002,-9.997999999999998,39.002,14.002000000000002,26.002000000000002,31.002000000000002,-3.9979999999999976,41.002,-28.997999999999998,30.002000000000002,-41.998,8.002000000000002]],"flamingo":[[-26.035000000000004,53.04,-52.035000000000004,37.04,-52.035000000000004,8.04,-2.0350000000000037,-49.96,13.964999999999996,-57.96,29.964999999999996,-54.96,41.964999999999996,-33.96,52.964999999999996,27.04,39.964999999999996,48.04,15.964999999999996,56.04]],"plug":[[-29.011000000000003,33,-37.011,-3,7.988999999999997,-33,17.988999999999997,-30,35.989,-3,26.988999999999997,33]],"angle-pipe":[[61.05,48.95099999999999,-48.95,48.95099999999999,-48.95,-61.04900000000001,13.049999999999997,-61.04900000000001,61.05,-11.049000000000007]],"hamster1":[[-44.032,49.04,-66.032,-4.960000000000001,-27.031999999999996,-46.96,0.9680000000000035,-56.96,22.968000000000004,-49.96,52.968,-18.96,65.968,1.0399999999999991,40.968,56.04]],"hamster2":[[-43,43.966,-63,17.966,-63,-4.033999999999999,-25,-45.034,26,-45.034,62,-16.034,62,13.966000000000001,45,43.966]],"hamster3":[[-52,65.96,-64,53.959999999999994,-62,9.959999999999994,-46,-24.040000000000006,-26,-48.040000000000006,30,-67.04,58,0.9599999999999937,65,51.959999999999994,50,63.959999999999994]],"funnel":[[21.944000000000003,-49.995,59.944,-43.995,68.944,-35.995,22.944000000000003,49.005,-19.055999999999997,49.005,-69.056,-33.995,-64.056,-42.995,-23.055999999999997,-49.995]],"stapler":[[-55.045,38.038,-55.045,19.037999999999997,-30.045,-5.962000000000003,6.954999999999998,-33.962,26.955,-38.962,39.955,-32.962,53.955,23.037999999999997,53.955,38.038]],"straw":[[-61,-60,-28,-60,74,19,74,58,-44,58,-69,47,-74,20]],"tray":[[89.078,-34.983,101.078,-23.982999999999997,105.078,11.017000000000003,85.078,33.017,-81.922,34.017,-104.922,14.017000000000003,-102.922,-23.982999999999997,-89.922,-34.983]],"see-saw":[[106,-41.983000000000004,106,44.016999999999996,-106,44.016999999999996,-106,-41.983000000000004]],"slide":[[-73,60.016,-73,-60.984,-32,-60.984,73,51.016,73,60.016]],"slide-flip":[[-73,60.016,-73,51.016,32,-60.984,73,-60.984,73,60.016]],"gun":[[-55,-55,55,-55,55,55,-55,55]],"trough":[[8.055,41,-43.945,39,-54.945,-23,50.055,-31,130.055,-28,130.055,29]],"trough-flip":[[-130,29,-130,-28,-50,-31,55,-23,44,39,-8,41]],"blender":[[64,-76,80,-47,84,-26,78,5,41,76,-48,76,-82,-76]],"anchor":[[44,-20,49,5,2,51,-50,-2,-42,-20,-14,-47,0,-53,13,-48]],"submarine":[[-10,61,-58,49,-66,17,-61,-7,4,-49,34,-60,62,-8,66,25,56,49,23,61]],"submarine-flip":[[-23,61,-56,49,-66,25,-62,-8,-34,-60,-4,-49,61,-7,66,17,58,49,10,61]],"binder":[[28,-50,122,42,122,51,-121,51,-121,38,-34,-50]],"boat":[[0,-60,18,-60,55,-2,52,60,-18,60,-55,11]],"bookend":[[-74.947,-77,-53.947,-77,74.053,59,74.053,78,-74.947,78]],"boot":[[80,90.951,-80,90.951,-80,54.95099999999999,12,-92.049,41,-92.049,80,-65.049]],"car":[[-56.952,-37.011,56.048,-37.011,56.048,35.989,-56.952,35.989]],"clock":[[-99.091,-99,97.909,-99,97.909,99,-99.091,99]],"donut":[[14,-38.025,43,-27.025,56,-7.024999999999999,51,13.975000000000001,33,28.975,-4,36.975,-32,30.975,-52,15.975000000000001,-55,-8.024999999999999,-40,-27.025,-11,-38.025]],"duck":[[-9,38,-31,30,-47,5,-47,-9,15,-38,32,-38,47,-15,35,23,16,38]],"football":[[11.000000000000007,-31.969,37.00000000000001,-20.969,55.00000000000001,1.0309999999999988,27.000000000000007,26.031,3.000000000000007,32.031,-20.999999999999993,29.031,-42.99999999999999,16.031,-55.99999999999999,-0.9690000000000012,-36.99999999999999,-20.969,-14.999999999999993,-30.969]],"lunchbox":[[-91,-40.965,-78,-56.965,-21,-81.965,35,-81.965,82,-48.965,92,-30.965000000000003,92,58.035,84,79.035,38,87.035,-37,87.035,-83,83.035,-92,58.035]],"measuring-cup":[[62,-26.977,62,-18.977,-1,26.023,-49,26.023,-62,-26.977]],"multi-gun":[[-55.99,-55,54.01,-55,54.01,55,-55.99,55]],"noodle":[[67.944,37.959999999999994,55.944,61.959999999999994,38.944,66.96,-6.055999999999997,44.959999999999994,-53.056,0.9599999999999937,-70.056,-39.040000000000006,-66.056,-57.040000000000006,-37.056,-68.04,-24.055999999999997,-61.040000000000006,59.944,18.959999999999994,67.944,29.959999999999994]],"pencil":[[76.059,-55.959,-32.941,57.041,-72.941,76.041,-55.941,35.041,51.059,-78.959]],"ramp-curved":[[-69.048,-60,-14.048000000000002,-60,67.952,26,67.952,60,-69.048,60]],"ramp-straight":[[-71,56,-71,-56,-44,-56,71,56]],"ruler":[[-119.967,-48.992000000000004,120.033,-48.992000000000004,120.033,48.007999999999996,-119.967,48.007999999999996]],"shark":[[-16.971000000000004,-40,63.028999999999996,-17,78.029,-7,64.029,16,33.028999999999996,40,-20.971000000000004,38,-80.971,19,-80.971,-40]],"straight-pipe":[[66.96,-29,66.96,29,-68.04,29,-68.04,-29]],"surf-board":[[44,-24.990000000000002,59,-19.990000000000002,66,-11.990000000000002,66,3.009999999999998,30,24.009999999999998,-44,6.009999999999998,-66,-7.990000000000002,-64,-16.990000000000002,-32,-24.990000000000002]],"turtle":[[-60,5,-2,-35,27,-33,46,-13,60,24,40,36,1,36,-60,29]],"umbrella":[[-35.91,-66,-2.9099999999999966,-71,30.090000000000003,-68,59.09,-56,85.09,-34,99.09,-7,103.09,23,43.09,90,-31.909999999999997,90,-102.91,10,-94.91,-22,-71.91,-48]],"wood-log":[[-49.995,-33,49.005,-33,49.005,33,-49.995,33]],"wood-plank":[[50,65.968,6,65.968,-78,-22.031999999999996,-78,-41.032,-54,-67.032,-8,-67.032,78,20.968000000000004,78,40.968]],"shark-flip":[[78.029,-40,78.029,19,18.028999999999996,38,-35.971000000000004,40,-66.971,16,-80.971,-7,-65.971,-17,14.028999999999996,-40]],"faucet":[[-17.997999999999998,65,-40.998,16,-40.998,-51,-39.998,-59,-33.998,-63,-0.9979999999999976,-65,35.002,-63,39.002,-58,40.002,-50,37.002,15,15.002000000000002,65]],"rock":[[14.015,-40,42.015,-13,47.015,18,4.015000000000001,41,-38.985,27,-48.985,17,-30.985,-22]],"whale":[[-20,49.005,-52,41.005,-71,18.005000000000003,-75,-1.9949999999999974,-72,-21.994999999999997,-59,-39.995,-40,-48.995,-15,-47.995,75,-22.994999999999997,74,-6.994999999999997,50,34.005,29,46.005]],"cup":[[-17,51,-32,43,-47,-42,-32,-49,2,-52,40,-47,47,-37,29,42,9,51]]}')},130:function(t){t.exports=JSON.parse('{"bowl":{"spriteRegX":56.055,"spriteRegY":30,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[50.945,-11],[39.945,5],[23.945,17],[29.945,-3],[48.945,-27],[54.945,-30]],[[23.945,17],[-0.054999999999999716,7],[29.945,-3]],[[24.945,30],[-24.055,30],[-24.055,18],[-0.054999999999999716,7],[23.945,17]],[[-24.055,18],[-39.055,7],[-51.055,-8],[-32.055,-5],[-0.054999999999999716,7]],[[-51.055,-8],[-56.055,-30],[-49.055,-28],[-32.055,-5]]]}]},"wheel":{"spriteRegX":63.041000000000004,"spriteRegY":60.016,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-40.041000000000004,-54.016],[-17.041000000000004,-29.016],[-32.041000000000004,-11.015999999999998],[-61.041000000000004,-33.016]],[[-56.041000000000004,39.984],[-30.041000000000004,14.984000000000002],[-12.041000000000004,30.984],[-34.041000000000004,60.984]],[[55.958999999999996,-39.016],[29.958999999999996,-14.015999999999998],[12.958999999999996,-31.016],[34.958999999999996,-59.016]],[[13.958999999999996,29.984],[29.958999999999996,12.984000000000002],[57.958999999999996,34.984],[38.958999999999996,56.984]],[[29.958999999999996,-14.015999999999998],[29.958999999999996,12.984000000000002],[13.958999999999996,29.984],[-12.041000000000004,30.984],[-32.041000000000004,-11.015999999999998],[-17.041000000000004,-29.016],[12.958999999999996,-31.016]],[[-32.041000000000004,-11.015999999999998],[-12.041000000000004,30.984],[-30.041000000000004,14.984000000000002]]]}]},"flamingo":{"spriteRegX":54.035000000000004,"spriteRegY":57.96,"fixtures":[{"density":0.3,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[20.964999999999996,17.04],[-11.035000000000004,-16.96],[-3.0350000000000037,-49.96],[17.964999999999996,-57.96],[34.964999999999996,-50.96],[44.964999999999996,-19.96],[51.964999999999996,13.04]],[[-36.035000000000004,-7.960000000000001],[-11.035000000000004,-16.96],[20.964999999999996,17.04],[-19.035000000000004,13.04],[-50.035000000000004,6.039999999999999]]]}]},"beach-ball":{"spriteRegX":41.998,"spriteRegY":41.998,"fixtures":[{"density":0.3,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"CIRCLE","center":[-0.398,-0.398],"radius":40.319}]},"gun":{"spriteRegX":35.97,"spriteRegY":74.03,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[34.03,-15.030000000000001],[17.03,-32.03],[34.03,-50.03],[52.03,-34.03]],[[-3.969999999999999,35.97],[-32.97,15.969999999999999],[-35.97,-2.030000000000001],[-18.97,-31.03],[-1.9699999999999989,-36.03],[36.03,0.9699999999999989],[32.03,16.97],[17.03,32.97]],[[-32.97,15.969999999999999],[-3.969999999999999,35.97],[-21.97,29.97]],[[36.03,0.9699999999999989],[-1.9699999999999989,-36.03],[17.03,-32.03],[34.03,-15.030000000000001]],[[-18.97,-31.03],[-35.97,-2.030000000000001],[-31.97,-18.03]]]}]},"plug":{"spriteRegX":37.011,"spriteRegY":33,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[26.988999999999997,33],[-28.011000000000003,33],[-35.011,-3],[35.989,-3]]]}]},"angle-pipe":{"spriteRegX":48.95,"spriteRegY":62.04900000000001,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-45.95,8.950999999999993],[-28.950000000000003,28.950999999999993],[-14.950000000000003,47.95099999999999],[-40.95,34.95099999999999]],[[-34.95,8.950999999999993],[-45.95,8.950999999999993],[-47.95,-61.04900000000001],[-41.95,-58.04900000000001],[-32.95,-25.049000000000007]],[[-14.950000000000003,47.95099999999999],[-11.950000000000003,35.95099999999999],[55.05,35.95099999999999],[60.05,46.95099999999999]],[[-14.950000000000003,47.95099999999999],[-28.950000000000003,28.950999999999993],[-11.950000000000003,35.95099999999999]],[[-28.950000000000003,28.950999999999993],[-45.95,8.950999999999993],[-34.95,8.950999999999993]]]},{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[55.05,3.9509999999999934],[2.049999999999997,3.9509999999999934],[-1.9500000000000028,-3.0490000000000066],[8.049999999999997,-5.049000000000007],[58.05,-6.049000000000007]],[[8.049999999999997,-5.049000000000007],[-1.9500000000000028,-3.0490000000000066],[-1.9500000000000028,-55.04900000000001],[8.049999999999997,-59.04900000000001]]]}]},"hamster1":{"spriteRegX":67.032,"spriteRegY":57.96,"fixtures":[{"density":0.7,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-41.032,-4.960000000000001],[-35.032,-24.96],[-21.031999999999996,-42.96],[33.968,-23.96],[39.968,-4.960000000000001],[4.9680000000000035,31.04],[-10.031999999999996,31.04],[-37.032,21.04]],[[4.9680000000000035,31.04],[39.968,-4.960000000000001],[34.968,21.04]],[[18.968000000000004,-42.96],[33.968,-23.96],[-21.031999999999996,-42.96],[-0.031999999999996476,-50.96]],[[-10.031999999999996,31.04],[4.9680000000000035,31.04],[0.9680000000000035,52.04],[-7.0319999999999965,52.04]]]}]},"hamster2":{"spriteRegX":63,"spriteRegY":45.034,"fixtures":[{"density":0.5,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-7,43.966],[-23,-36.034],[6,28.966],[3,43.966]],[[-37,-23.034],[-23,-36.034],[-10,28.966],[-38,17.966],[-49,-3.033999999999999]],[[48,-2.033999999999999],[36,17.966],[6,28.966],[-23,-36.034],[27,-36.034]]]}]},"hamster3":{"spriteRegX":66,"spriteRegY":68.04,"fixtures":[{"density":2,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[29,-38.040000000000006],[37,-19.040000000000006],[31,27.959999999999994],[10,40.959999999999994],[-9,39.959999999999994],[-41,-20.040000000000006],[-28,-38.040000000000006],[0,-51.040000000000006]],[[-41,-20.040000000000006],[-9,39.959999999999994],[-31,27.959999999999994],[-47,1.9599999999999937]],[[31,27.959999999999994],[37,-19.040000000000006],[43,2.9599999999999937]],[[-2,66.96],[-9,39.959999999999994],[10,40.959999999999994],[6,66.96]]]}]},"tub-front":{"spriteRegX":812,"spriteRegY":375,"fixtures":[{"density":2,"friction":1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-282,-1],[-282,300],[-812,375],[-812,-135]],[[-152,375],[-812,375],[-269,310],[-165,310]],[[-269,310],[-812,375],[-282,300]]]},{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[453,376],[-112,375],[-96,311],[453,309]]]}]},"bucket-front":{"spriteRegX":70,"spriteRegY":69,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-53,-49],[-42,63],[-51,59],[-64,-53]]]},{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[48,58],[40,62],[50,-49],[60,-52]]]}]},"funnel":{"spriteRegX":74,"spriteRegY":49.995,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-18,20.005000000000003],[-13,17.005000000000003],[-13,46.005],[-18,47.005]],[[-18,20.005000000000003],[-72,-37.995],[-58,-33.995],[-23,0.005000000000002558],[-13,17.005000000000003]]]},{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[13,46.005],[12,17.005000000000003],[18,20.005000000000003],[18,47.005]],[[23,0.005000000000002558],[58,-33.995],[72,-37.995],[18,20.005000000000003],[12,17.005000000000003]]]}]},"stapler":{"spriteRegX":55.045,"spriteRegY":38.962,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[33.955,-12.962000000000003],[-18.045,10.037999999999997],[-55.045,18.037999999999997],[7.954999999999998,-33.962],[26.955,-38.962],[39.955,-31.962000000000003]],[[-18.045,28.037999999999997],[-55.045,38.038],[-55.045,18.037999999999997],[-18.045,10.037999999999997]],[[53.955,38.038],[-55.045,38.038],[-18.045,28.037999999999997],[53.955,28.037999999999997]]]}]},"straw":{"spriteRegX":77,"spriteRegY":65,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-60,-62],[-60,10],[-63,12],[-63,-64]],[[-26,47],[-27,50],[-63,12],[-60,10]],[[76,51],[-27,50],[-26,47],[75,47]]]},{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-32,1],[-36,2],[-36,-62],[-32,-64]],[[-15,18],[-16,22],[-36,2],[-32,1]],[[76,22],[-16,22],[-15,18],[77,18]]]}]},"tray":{"spriteRegX":105.922,"spriteRegY":34.983,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[105.078,11.017000000000003],[87.078,34.017],[-84.922,34.017],[-93.922,-5.982999999999997],[93.078,-5.982999999999997],[105.078,-1.982999999999997]],[[-93.922,-5.982999999999997],[-84.922,34.017],[-105.922,14.017000000000003],[-105.922,-1.982999999999997]]]}]},"see-saw":{"spriteRegX":95,"spriteRegY":24.017,"fixtures":[{"density":0.1,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[95,-2.0169999999999995],[-95,-2.0169999999999995],[-95,-23.017],[95,-23.017]]]}]},"slide":{"spriteRegX":73,"spriteRegY":60.984,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-27,-26.984],[-34,-14.984000000000002],[-64,5.015999999999998],[-72,-4.984000000000002],[-70,-38.984]],[[-64,5.015999999999998],[-34,-14.984000000000002],[-37,58.016],[-73,58.016]],[[-17,4.015999999999998],[45,60.016],[4,43.016]],[[45,60.016],[15,32.016],[70,60.016]],[[-6,-7.984000000000002],[15,32.016],[-17,4.015999999999998],[-34,-14.984000000000002],[-27,-26.984]]]}]},"slide-flip":{"spriteRegX":73,"spriteRegY":60.984,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[72,-4.984000000000002],[64,5.015999999999998],[34,-14.984000000000002],[27,-26.984],[70,-38.984]],[[37,58.016],[34,-14.984000000000002],[64,5.015999999999998],[73,58.016]],[[-45,60.016],[17,4.015999999999998],[-4,43.016]],[[-15,32.016],[-45,60.016],[-70,60.016]],[[34,-14.984000000000002],[17,4.015999999999998],[-15,32.016],[6,-7.984000000000002],[27,-26.984]]]}]},"trough-bucket":{"spriteRegX":54.945,"spriteRegY":31.025,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[49.055,-10.024999999999999],[42.055,-6.024999999999999],[43.055,-21.025],[49.055,-24.025]],[[-46.945,-19.025],[-43.945,2.9750000000000014],[-51.945,2.9750000000000014],[-54.945,-24.025]],[[-43.945,2.9750000000000014],[-31.945,22.975],[-38.945,24.975],[-51.945,2.9750000000000014]],[[-31.945,22.975],[-14.945,33.975],[-17.945,39.975],[-38.945,24.975]],[[40.055,13.975000000000001],[35.055,10.975000000000001],[42.055,-6.024999999999999],[49.055,-10.024999999999999]],[[40.055,13.975000000000001],[27.055,29.975],[23.055,23.975],[35.055,10.975000000000001]],[[27.055,29.975],[10.055,39.975],[8.055,33.975],[23.055,23.975]],[[10.055,39.975],[-17.945,39.975],[-14.945,33.975],[8.055,33.975]]]}]},"trough-bucket-flip":{"spriteRegX":130.05499999999998,"spriteRegY":31.025,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-43.05499999999998,-21.025],[-42.05499999999998,-6.024999999999999],[-49.05499999999998,-10.024999999999999],[-49.05499999999998,-24.025]],[[51.94500000000002,2.9750000000000014],[43.94500000000002,2.9750000000000014],[46.94500000000002,-19.025],[54.94500000000002,-24.025]],[[38.94500000000002,24.975],[31.94500000000002,22.975],[43.94500000000002,2.9750000000000014],[51.94500000000002,2.9750000000000014]],[[17.94500000000002,39.975],[14.945000000000022,33.975],[31.94500000000002,22.975],[38.94500000000002,24.975]],[[-42.05499999999998,-6.024999999999999],[-35.05499999999998,10.975000000000001],[-40.05499999999998,13.975000000000001],[-49.05499999999998,-10.024999999999999]],[[-23.05499999999998,23.975],[-27.05499999999998,29.975],[-40.05499999999998,13.975000000000001],[-35.05499999999998,10.975000000000001]],[[-8.054999999999978,33.975],[-10.054999999999978,39.975],[-27.05499999999998,29.975],[-23.05499999999998,23.975]],[[-10.054999999999978,39.975],[-8.054999999999978,33.975],[14.945000000000022,33.975],[17.94500000000002,39.975]]]}]},"blender":{"spriteRegX":84,"spriteRegY":76,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[61,-52],[53,-16],[25,28],[14,22],[48,-71],[64,-73]],[[83,-40],[83,-18],[74,12],[67,14],[53,-16],[61,-52],[77,-50]],[[-46,45],[-4,31],[25,28],[40,46],[40,76],[-49,76]],[[25,28],[-4,31],[14,22]],[[-67,-71],[-22,21],[-33,27],[-83,-75]],[[-4,31],[-46,45],[-33,27],[-22,21]]]}]},"anchor":{"spriteRegX":50,"spriteRegY":53,"fixtures":[{"density":20,"friction":1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-29,27],[6,24],[29,25],[0,52]],[[-30,8],[-29,27],[-44,1],[-39,-10]],[[42,3],[29,25],[26,10],[40,-11]],[[29,25],[6,24],[26,10]],[[6,-25],[-7,-25],[-15,-32],[-17,-42],[-10,-50],[2,-53],[13,-48],[17,-35]],[[-8,22],[-29,27],[-30,8]],[[6,-25],[6,24],[-8,22],[-7,-25]],[[6,24],[-29,27],[-8,22]]]}]},"submarine":{"spriteRegX":66,"spriteRegY":61,"fixtures":[{"density":1,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":true,"userData":"","fixtureType":"POLYGON","polygons":[[[87,14],[87,35],[66,35],[66,14]]]},{"density":0.9,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[32,49],[-16,49],[-42,30],[-40,2],[-9,-12],[27,-11],[66,25]]]}]},"tub-sensor":{"spriteRegX":812,"spriteRegY":375,"fixtures":[{"density":1,"friction":1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":true,"userData":"","fixtureType":"POLYGON","polygons":[[[466,312],[-287,312],[-287,85],[466,85]]]}]},"submarine-flip":{"spriteRegX":66,"spriteRegY":61,"fixtures":[{"density":1,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":true,"userData":"","fixtureType":"POLYGON","polygons":[[[-87,34],[-87,13],[-66,13],[-66,34]]]},{"density":0.9,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-27,-11],[9,-12],[40,2],[42,30],[16,49],[-32,49],[-66,25]]]}]},"bucket-cap":{"spriteRegX":70,"spriteRegY":69,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[45,-37],[45,-29],[-51,-29],[-51,-37]]]}]},"fountain-front":{"spriteRegX":167.835,"spriteRegY":96.07300000000001,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[18.164999999999992,93.92699999999999],[-100.83500000000001,59.92699999999999],[-117.83500000000001,-30.073000000000008],[-89.83500000000001,-40.07300000000001],[161.165,-58.07300000000001],[172.165,-41.07300000000001],[123.16499999999999,92.92699999999999]],[[-38.83500000000001,-61.07300000000001],[-89.83500000000001,-40.07300000000001],[-38.83500000000001,-83.07300000000001]],[[-116.83500000000001,-40.07300000000001],[-117.83500000000001,-30.073000000000008],[-165.835,-61.07300000000001],[-166.835,-73.07300000000001]],[[-89.83500000000001,-40.07300000000001],[-117.83500000000001,-30.073000000000008],[-116.83500000000001,-40.07300000000001]],[[161.165,-58.07300000000001],[-89.83500000000001,-40.07300000000001],[-38.83500000000001,-61.07300000000001]]]}]},"lunchbox":{"spriteRegX":92,"spriteRegY":81.965,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-67,-53.965],[69,-48.965],[92,64.035],[84,76.035],[71,84.035],[-91,64.035],[-91,-31.965000000000003],[-84,-46.965]],[[-91,64.035],[71,84.035],[-70,86.035],[-83,79.035]],[[91,-31.965000000000003],[92,64.035],[69,-48.965],[83,-42.965]]]}]},"measuring-cup":{"spriteRegX":62,"spriteRegY":26.977,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[5,-12.977],[-1,-25.977],[61,-26.977],[62,-18.977]],[[5,-12.977],[0,26.023],[-12,19.023],[-1,-25.977]],[[-49,26.023],[-41,19.023],[-12,19.023],[0,26.023]],[[-62,-26.977],[-55,-25.977],[-41,19.023],[-49,26.023]]]}]},"multi-gun":{"spriteRegX":55.99,"spriteRegY":55,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-24.990000000000002,-36],[-10.990000000000002,-24],[-24.990000000000002,-10],[-38.99,-23]],[[24.009999999999998,-10],[10.009999999999998,-24],[22.009999999999998,-37],[38.01,-24]],[[-35.99,23],[-23.990000000000002,10],[-8.990000000000002,24],[-21.990000000000002,37]],[[8.009999999999998,24],[23.009999999999998,10],[35.01,24],[22.009999999999998,37]],[[-10.990000000000002,-24],[10.009999999999998,-24],[24.009999999999998,-10],[23.009999999999998,10],[8.009999999999998,24],[-8.990000000000002,24],[-23.990000000000002,10],[-24.990000000000002,-10]]]}]},"noodle":{"spriteRegX":70.056,"spriteRegY":68.04,"fixtures":[{"density":0.5,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[38.944,66.96],[-6.055999999999997,44.959999999999994],[-34.056,21.959999999999994],[6.944000000000003,-5.040000000000006],[34.944,9.959999999999994],[67.944,37.959999999999994],[55.944,61.959999999999994]],[[-24.055999999999997,-61.040000000000006],[-13.055999999999997,-30.040000000000006],[-34.056,21.959999999999994],[-59.056,-7.040000000000006],[-70.056,-39.040000000000006],[-66.056,-53.040000000000006],[-52.056,-64.04],[-38.056,-67.04]],[[6.944000000000003,-5.040000000000006],[-34.056,21.959999999999994],[-13.055999999999997,-30.040000000000006]],[[67.944,37.959999999999994],[34.944,9.959999999999994],[59.944,18.959999999999994],[67.944,29.959999999999994]]]}]},"pencil":{"spriteRegX":73.941,"spriteRegY":76.959,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-55.941,35.041],[36.059,-63.959],[51.059,-75.959],[58.059,-74.959],[73.059,-52.959],[60.059,-36.959],[-32.941,57.041],[-72.941,76.041]],[[73.059,-58.959],[73.059,-52.959],[58.059,-74.959]]]}]},"ramp-curved":{"spriteRegX":69.048,"spriteRegY":60,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-69.048,-2],[-22.048000000000002,-7],[-0.04800000000000182,15],[-2.048000000000002,60],[-69.048,60]],[[67.952,60],[-2.048000000000002,60],[30.951999999999998,25],[67.952,26]],[[-2.048000000000002,60],[-0.04800000000000182,15],[30.951999999999998,25]],[[-28.048000000000002,-60],[-28.048000000000002,-37],[-69.048,-2],[-69.048,-60]],[[-69.048,-2],[-28.048000000000002,-37],[-22.048000000000002,-7]]]}]},"ramp-straight":{"spriteRegX":71,"spriteRegY":56,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-71,56],[-71,-56],[-61,-56],[54,56]]]}]},"ruler":{"spriteRegX":107.967,"spriteRegY":16.992,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-107.967,-16.992],[111.033,-16.992],[111.033,15.008],[-107.967,15.008]]]}]},"shark":{"spriteRegX":78.971,"spriteRegY":40,"fixtures":[{"density":1,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":true,"userData":"","fixtureType":"POLYGON","polygons":[[[99.029,2],[99.029,23],[78.029,23],[78.029,2]]]},{"density":0.9,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[34.028999999999996,32],[-3.9710000000000036,32],[-27.971000000000004,16],[-27.971000000000004,1],[-3.9710000000000036,-9],[32.028999999999996,-9],[67.029,12]]]}]},"straight-pipe":{"spriteRegX":68.04,"spriteRegY":35,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-39.040000000000006,-15],[-79.04,-33],[76.96,-34],[35.959999999999994,-15]]]},{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[35.959999999999994,17],[77.96,31],[-77.04,35],[-39.040000000000006,17]]]}]},"surf-board":{"spriteRegX":66,"spriteRegY":24.990000000000002,"fixtures":[{"density":0.3,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[65,1.009999999999998],[51,10.009999999999998],[32,13.009999999999998],[15,13.009999999999998],[-22,-24.990000000000002],[33,-24.990000000000002],[52,-22.990000000000002],[65,-14.990000000000002]],[[-52,-20.990000000000002],[-22,-24.990000000000002],[15,13.009999999999998],[-21,11.009999999999998],[-45,4.009999999999998],[-64,-7.990000000000002],[-66,-14.990000000000002]]]}]},"turtle":{"spriteRegX":60,"spriteRegY":36,"fixtures":[{"density":0.6,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[33,16],[-20,16],[-21,-20],[-5,-32],[10,-35],[28,-31],[46,-13],[51,13]],[[-59,9],[-51,4],[-36,14],[-36,28],[-57,24]],[[-36,14],[-21,-20],[-20,16],[-36,28]]]}]},"umbrella":{"spriteRegX":102.91,"spriteRegY":90,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-82.91,-38],[-58.91,-57],[-27.909999999999997,-68],[-60.91,-29],[-99.91,-10]],[[66.09,-29],[8.090000000000003,-71],[43.09,-64],[71.09,-49],[86.09,-32],[99.09,-10]],[[-27.909999999999997,-68],[8.090000000000003,-71],[66.09,-29],[-60.91,-29]]]}]},"wood-log":{"spriteRegX":49.995,"spriteRegY":33,"fixtures":[{"density":0.8,"friction":0.3,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[49.005,-16],[49.005,15],[-47.995,15],[-48.995,-17]]]}]},"wood-plank":{"spriteRegX":78,"spriteRegY":67.032,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[18,60.968],[-78,-42.032],[-54,-67.032],[-41,-64.032],[70,47.968],[49,64.968]]]}]},"binder":{"spriteRegX":121,"spriteRegY":51,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-28,-50],[3,-50],[2,-35],[-79,43],[-121,48]],[[84,48],[2,-35],[3,-50],[101,47]]]}]},"boat":{"spriteRegX":55,"spriteRegY":60,"fixtures":[{"density":0.30000000000000004,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-44,-3],[12,-60],[25,-35],[-36,20],[-54,12]],[[31,42],[-6,44],[-32,36],[-36,20],[25,-35],[55,-2],[51,34]]]}]},"bookend":{"spriteRegX":74.947,"spriteRegY":77,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-54.947,-48],[-74.947,77],[-74.947,-77],[-53.947,-77]],[[74.053,77],[54.053,63],[74.053,63]],[[-39.947,-16],[-74.947,77],[-54.947,-48]],[[-11.947000000000003,16],[-74.947,77],[-39.947,-16]],[[25.052999999999997,48],[-74.947,77],[-11.947000000000003,16]],[[25.052999999999997,48],[54.053,63],[74.053,77],[-74.947,77]]]}]},"car":{"spriteRegX":56.952,"spriteRegY":37.011,"fixtures":[{"density":5,"friction":1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-50.952,5.988999999999997],[-32.952,-2.011000000000003],[17.048000000000002,22.988999999999997],[-55.952,22.988999999999997]],[[43.048,22.988999999999997],[43.048,-1.0110000000000028],[53.048,7.988999999999997],[55.048,21.988999999999997]],[[22.048000000000002,33.989],[17.048000000000002,22.988999999999997],[39.048,-14.011000000000003],[43.048,-1.0110000000000028],[43.048,22.988999999999997],[38.048,33.989]],[[-36.952,33.989],[-41.952,22.988999999999997],[-14.951999999999998,22.988999999999997],[-19.951999999999998,33.989]],[[-11.951999999999998,-33.011],[7.048000000000002,-37.011],[26.048000000000002,-30.011000000000003],[39.048,-14.011000000000003],[17.048000000000002,22.988999999999997],[-32.952,-2.011000000000003],[-27.951999999999998,-22.011000000000003]]]}]},"donut":{"spriteRegX":56,"spriteRegY":38.025,"fixtures":[{"density":0.3,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-38,-27.025],[-13,-38.025],[18,-38.025],[42,-26.025],[52,-12.024999999999999],[22,-5.024999999999999],[-22,-5.024999999999999],[-52,-12.024999999999999]]]}]},"duck":{"spriteRegX":47,"spriteRegY":38,"fixtures":[{"density":0.3,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-4,30],[-31,19],[2,-13],[29,-37],[47,-17]],[[24,26],[-4,30],[30,-1],[36,10]],[[14,-37],[29,-37],[2,-13],[3,-29]],[[-43,-9],[2,-13],[-31,19],[-47,1]]]}]},"football":{"spriteRegX":56.055,"spriteRegY":33.969,"fixtures":[{"density":0.3,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[37.945,18.031],[12.945,31.031],[-12.055,32.031],[-36.055,-20.969],[-11.055,-32.969],[13.945,-31.969],[36.945,-20.969],[54.945,1.0309999999999988]],[[-36.055,-20.969],[-12.055,32.031],[-41.055,17.031],[-56.055,-0.9690000000000012]]]}]},"boot":{"spriteRegX":80,"spriteRegY":92.049,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[68,-65.049],[65,-10.049000000000007],[-3,14.950999999999993],[-5,-63.04900000000001]],[[-76,90.951],[-9,23.950999999999993],[65,-10.049000000000007],[75,81.951]],[[-57,33.95099999999999],[-9,23.950999999999993],[-76,90.951],[-72,50.95099999999999]],[[-3,14.950999999999993],[65,-10.049000000000007],[-9,23.950999999999993]]]}]},"plate":{"spriteRegX":108,"spriteRegY":48.985,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-2,23.015],[62,39.015],[-9,47.015],[-64,36.015],[-105,5.015000000000001]],[[62,39.015],[-2,23.015],[107,9.015]]]}]},"fountain-funnel-front":{"spriteRegX":60,"spriteRegY":75.953,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[2,75.047],[-8,20.046999999999997],[15,19.046999999999997],[28,75.047]],[[-8,20.046999999999997],[-12,-18.953000000000003],[-8,-25.953000000000003],[8,-25.953000000000003],[15,-19.953000000000003],[15,19.046999999999997]],[[15,-19.953000000000003],[8,-25.953000000000003],[40,-55.953],[54,-59.953]],[[-12,-18.953000000000003],[-54,-58.953],[-43,-56.953],[-8,-25.953000000000003]]]}]},"diving-platform":{"spriteRegX":139,"spriteRegY":173.847,"fixtures":[{"density":1,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[11,173.153],[14,47.15299999999999],[29,-116.84700000000001],[104,-116.84700000000001],[124,47.15299999999999],[127,173.153]],[[106,-150.847],[139,-174.847],[139,-156.847]],[[-26,-174.847],[139,-174.847],[24,-148.847],[-21,-153.847]],[[139,-174.847],[106,-150.847],[53,-116.84700000000001],[24,-148.847]],[[82,-116.84700000000001],[53,-116.84700000000001],[106,-150.847]]]}]},"shark-flip":{"spriteRegX":78.971,"spriteRegY":40,"fixtures":[{"density":1,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":true,"userData":"","fixtureType":"POLYGON","polygons":[[[-78.971,-2],[-78.971,19],[-99.971,19],[-99.971,-2]]]},{"density":0.9,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-35.971000000000004,-12],[0.028999999999996362,-12],[24.028999999999996,-2],[24.028999999999996,13],[0.028999999999996362,29],[-37.971000000000004,29],[-70.971,9]]]}]},"cup":{"spriteRegX":47,"spriteRegY":52,"fixtures":[{"density":0.5,"friction":0.2,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[43,-11],[28,43],[21,49],[19,36],[37,-33],[46,-38]],[[-37,-32],[-26,36],[-33,44],[-43,-9],[-46,-38]],[[-15,51],[-33,44],[-26,36],[19,36],[21,49]]]}]},"faucet":{"spriteRegX":41.998,"spriteRegY":65,"fixtures":[{"density":1,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[36.002,-45],[11.002000000000002,-58],[34.002,-64],[41.002,-55]],[[30.002000000000002,-16],[-33.998,29],[-29.997999999999998,-20],[-11.997999999999998,-58],[11.002000000000002,-58],[36.002,-45]],[[-34.998,-63],[-11.997999999999998,-58],[-35.998,-45],[-40.998,-54]],[[-11.997999999999998,-58],[-29.997999999999998,-20],[-35.998,-45]],[[11.002000000000002,-58],[-11.997999999999998,-58],[-0.9979999999999976,-65]],[[-29.997999999999998,-20],[-33.998,29],[-40.998,3]],[[37.002,8],[29.002000000000002,29],[13.002000000000002,41],[-15.997999999999998,41],[-33.998,29],[30.002000000000002,-16]]]}]},"rock":{"spriteRegX":48.985,"spriteRegY":41,"fixtures":[{"density":5,"friction":1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[40.015,-10],[47.015,18],[2.0150000000000006,41],[-15.985,29],[-13.985,-23],[14.015,-40]],[[-47.985,14],[-31.985,-18],[-13.985,-23],[-15.985,29],[-38.985,27]]]}]},"whale":{"spriteRegX":75,"spriteRegY":49.995,"fixtures":[{"density":0.5,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-75,-1.9949999999999974],[-72,-21.994999999999997],[8,-34.995],[20,-17.994999999999997],[8,28.005000000000003],[-48,28.005000000000003],[-71,18.005000000000003]],[[8,28.005000000000003],[20,-17.994999999999997],[24,16.005000000000003]],[[8,-34.995],[-72,-21.994999999999997],[-59,-39.995],[-41,-48.995],[-17,-48.995]]]}]},"diving-board":{"spriteRegX":139,"spriteRegY":173.847,"fixtures":[{"density":1,"friction":0.1,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-24,-173.847],[-24,-153.847],[-139,-153.847],[-139,-173.847]]]}]},"clock-hand-1":{"spriteRegX":99.091,"spriteRegY":99,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[9.909000000000006,7],[-65.091,5],[-65.091,-5],[9.909000000000006,-7]]]}]},"clock-hand-2":{"spriteRegX":98.5,"spriteRegY":99,"fixtures":[{"density":2,"friction":0,"restitution":0,"categoryBits":1,"maskBits":65535,"groupIndex":0,"isSensor":false,"userData":"","fixtureType":"POLYGON","polygons":[[[-8.5,-5],[-5.5,-81],[5.5,-81],[7.5,-5],[0.16666412353515625,3.3333358764648438]]]}]}}')},131:function(t){t.exports=JSON.parse('{"angle-pipe":[[14.049999999999997,-62.04900000000001,14.049999999999997,-14.049000000000007,-33.95,48.95099999999999,-45.95,23.950999999999993,-47.95,3.9509999999999934,-48.95,-62.04900000000001],[14.049999999999997,-14.049000000000007,61.05,-14.049000000000007,61.05,47.95099999999999,-33.95,48.95099999999999]],"bowl":[[53.945,-30,46.945,-4,22.945,30,-23.055,30,-48.055,0,-56.055,-30]],"bucket":[[22,-69,66,-59,49,58,18,68,-29,67,-51,59,-70,-60,-25,-69]],"funnel":[[-20.055999999999997,19.005000000000003,22.944000000000003,19.005000000000003,22.944000000000003,48.005,-20.055999999999997,48.005],[21.944000000000003,-49.995,59.944,-43.995,67.944,-33.995,22.944000000000003,19.005000000000003,-20.055999999999997,19.005000000000003,-68.056,-33.995,-65.056,-41.995,-23.055999999999997,-49.995]],"plate":[[11,-31.985,85,-16.985,99,-8.985,107,9.015,62,39.015,-9,47.015,-64,36.015,-105,5.015000000000001,-105,-8.985,-92,-17.985,-31,-31.985]],"see-saw":[[95,-20.983,95,1.0169999999999995,23,0.01699999999999946,20,14.017,8,22.017,-9,21.017,-20,12.017,-24,0.01699999999999946,-94,-0.9830000000000005,-94,-20.983]],"slide-flip":[[-16,49.016,-45,59.016,-72,56.016,-28,29.016],[34,-14.984000000000002,-16,49.016,-28,29.016,-14,0.015999999999998238,1,-19.984,25,-32.984],[37,58.016,34,-14.984000000000002,25,-32.984,28,-53.984,38,-59.984,62,-59.984,68,-51.984,72,-3.9840000000000018,64,16.016,73,58.016]],"slide":[[-73,58.016,-64,5.015999999999998,-72,-8.984000000000002,-69,-51.984,-55,-60.984,-29,-55.984,-25,-32.984,-33,-14.984000000000002,-37,58.016],[-25,-32.984,5,-13.984000000000002,30,31.016,16,49.016,-33,-14.984000000000002],[30,31.016,73,55.016,45,60.016,16,49.016]],"stapler":[[-54.045,37.038,-54.045,19.037999999999997,-19.045,27.037999999999997,53.955,28.037999999999997,53.955,37.038],[-54.045,19.037999999999997,-30.045,-5.962000000000003,6.954999999999998,-33.962,28.955,-38.962,38.955,-30.962000000000003,33.955,-13.962000000000003,-23.045,14.037999999999997,-19.045,27.037999999999997]],"straw":[[-59,30,-61,3,-61,-60,-29,-60,-29,0,-26,9],[-24,51,-32,57,-59,30,-26,9,-17,18,74,18,74,51]],"tray":[[89.078,-34.983,101.078,-23.982999999999997,105.078,11.017000000000003,85.078,33.017,-81.922,34.017,-104.922,14.017000000000003,-102.922,-23.982999999999997,-89.922,-34.983]],"wheel":[[55.991,35.984,37.991,56.984,-37.009,59.984,-56.009,39.984,-63.009,-34.016,-42.009,-54.016,32.991,-60.016,53.991,-39.016]],"adjustable-faucet":[[81,0,75,53,47,92,-46,92,-78,52,-81,1]],"beach-ball":[[-38.998,-16.997999999999998,-26.997999999999998,-32.998,-4.9979999999999976,-40.998,17.002000000000002,-36.998,33.002,-25.997999999999998,41.002,-7.9979999999999976,39.002,11.002000000000002,25.002000000000002,32.002,-3.9979999999999976,41.002,-28.997999999999998,30.002000000000002,-41.998,4.0020000000000024]],"flamingo":[[-28.035000000000004,53.04,-50.035000000000004,38.04,-53.035000000000004,13.04,-42.035000000000004,-3.960000000000001,-3.0350000000000037,-49.96,12.964999999999996,-57.96,30.964999999999996,-53.96,41.964999999999996,-33.96,52.964999999999996,27.04,39.964999999999996,48.04,15.964999999999996,56.04]],"gun":[[-90,-55,55,-55,55,90,-90,90]],"hamster1":[[-22,40,-43,27,-43,0,-32,-29,-24,-49,23,-50,33,-26,43,11,42,29,12,42]],"hamster2":[[38,24.966,2,30.966,-36,24.966,-56,8.966000000000001,-28,-36.034,26,-36.034,56,8.966000000000001]],"hamster3":[[-24,41.959999999999994,-47,26.959999999999994,-44,-23.040000000000006,-28,-44.040000000000006,-2,-51.040000000000006,29,-45.040000000000006,43,-2.0400000000000063,41,30.959999999999994,15,44.959999999999994]],"plug":[[-28.5,33,-36.5,-3,36.5,-3,27.5,33]],"trough":[[8,41,-17,40,-36,28,-49,10,-55,-23,48,-24,103,-30,121,-21,131,-2,127,17,111,30]],"trough-flip":[[-110.05499999999998,29.975,-126.05499999999998,16.975,-130.05499999999998,-2.0249999999999986,-120.05499999999998,-21.025,-102.05499999999998,-30.025,-48.05499999999998,-24.025,55.94500000000002,-23.025,49.94500000000002,9.975000000000001,36.94500000000002,27.975,17.94500000000002,39.975,-7.054999999999978,40.975]],"blender":[[65,-76,82,-43,83,-17,74,12,40,44,41,76,-48,76,-48,50,-84,-76]],"anchor":[[-13,-49,1,-53,15,-47,42,6,0,52,-44,2]],"submarine":[[-8,61,-58,49,-66,20,-59,-9,-4,-32,16,-32,56,-9,66,25,50,52,16,61]],"submarine-flip":[[-16,61,-50,52,-66,25,-56,-9,-16,-32,4,-32,59,-9,66,20,58,49,8,61]],"fountain-front":[[16.155,100.039,-93.845,68.039,-169.845,-66.961,167.155,-66.961,169.155,100.039]],"binder":[[12,-50,-82,46,-121,49,-29,-50],[-1,-37,12,-50,25,-50,121,45,86,50]],"boat":[[-44,-5,11,-60,55,-2,54,18,50,35,38,51,16,59,-11,58,-28,44,-55,12]],"bookend":[[-74.947,-77,-53.947,-77,-52.947,-45,-25.947000000000003,1,-74.947,77],[-25.947000000000003,1,25.052999999999997,48,73.053,63,73.053,77,-74.947,77]],"boot":[[80,67.951,75,81.951,-76,90.951,-79,72.951,-65,40.95099999999999,-9,23.950999999999993],[65,-10.049000000000007,80,67.951,-9,23.950999999999993,-3,14.950999999999993,-5,-63.04900000000001,13,-64.049,19,-86.049,35,-91.049,49,-66.049,68,-65.049,65,-30.049000000000007]],"car":[[-32.952,35.989,-55.952,15.988999999999997,-17.951999999999998,-32.011,8.048000000000002,-38.011,32.048,-27.011000000000003,56.048,15.988999999999997,34.048,35.989]],"clock":[[-12.090999999999994,98,-41.090999999999994,90,-77.091,62,-94.091,28,-99.091,-6,-89.091,-44,-68.091,-72,-37.090999999999994,-92,1.909000000000006,-99,38.909000000000006,-91,75.909,-63,92.909,-30,97.909,10,89.909,40,68.909,70,43.909000000000006,88,10.909000000000006,98]],"donut":[[17,-38.025,44,-25.025,56,-5.024999999999999,50,15.975000000000001,28,30.975,-2,36.975,-31,30.975,-51,15.975000000000001,-56,-5.024999999999999,-42,-25.025,-17,-37.025]],"duck":[[-9,38,-29,30,-47,3,-43,-9,16,-37,32,-35,47,-16,34,23,15,38]],"football":[[11.000000000000007,-32.969,37.00000000000001,-20.969,55.00000000000001,0.030999999999998806,28.000000000000007,26.031,7.000000000000007,32.031,-17.999999999999993,30.031,-44.99999999999999,15.030999999999999,-55.99999999999999,-1.9690000000000012,-37.99999999999999,-18.969,-17.999999999999993,-30.969]],"lunchbox":[[-92,-37.965,-79,-56.965,-23,-81.965,36,-81.965,79,-52.965,90,-37.965,91,58.035,79,81.035,34,87.035,-40,87.035,-82,82.035,-92,58.035]],"measuring-cup":[[5,-12.977,-1,23.023,-50,25.023,-62,-25.977,-15,-26.977],[61,-26.977,62,-18.977,5,-12.977,-15,-26.977]],"multi-gun":[[-55.99,-55,54.01,-55,54.01,55,-55.99,55]],"noodle":[[-6.055999999999997,44.959999999999994,-53.056,0.9599999999999937,-69.056,-41.040000000000006,-63.056,-58.040000000000006,-37.056,-68.04,-24.055999999999997,-61.040000000000006,3.9440000000000026,-7.040000000000006],[67.944,37.959999999999994,55.944,61.959999999999994,38.944,66.96,-6.055999999999997,44.959999999999994,3.9440000000000026,-7.040000000000006,59.944,18.959999999999994,67.944,29.959999999999994]],"pencil":[[-32.941,57.041,-72.941,76.041,-55.941,35.041,52.059,-76.959,74.059,-53.959]],"ramp-curved":[[-69.048,-59,-14.048000000000002,-59,-1.0480000000000018,1,-68.048,60],[-1.0480000000000018,1,28.951999999999998,22,66.952,26,66.952,58,-68.048,60]],"ramp-straight":[[-70,56,-71,-55,-44,-55,71,56]],"ruler":[[-107.967,15.008,-107.967,-16.992,111.033,-16.992,111.033,15.008]],"shark":[[-19.971000000000004,-40,77.029,-9,67.029,12,30.028999999999996,40,-18.971000000000004,36,-77.971,19,-78.971,-36,-65.971,-38]],"straight-pipe":[[-38.040000000000006,-24,35.959999999999994,-23,66.96,-26,66.96,25,35.959999999999994,24,-37.040000000000006,28,-68.04,29,-68.04,-29]],"surf-board":[[46,-23.990000000000002,64,-15.990000000000002,66,1.009999999999998,50,12.009999999999998,17,14.009999999999998,-43,6.009999999999998,-64,-7.990000000000002,-63,-16.990000000000002,-22,-24.990000000000002]],"turtle":[[-18,35,-57,25,-59,9,-6,-32,17,-35,34,-28,46,-12,58,22,41,36]],"umbrella":[[-41.91,-65,6.090000000000003,-71,50.09,-62,78.09,-40,95.09,-14,102.09,23,4.090000000000003,23,-101.91,12,-95.91,-21,-73.91,-47],[-10.909999999999997,20,44.09,20,44.09,90,-10.909999999999997,90]],"wood-log":[[-49.995,-33,49.005,-33,49.005,33,-49.995,33]],"wood-plank":[[18,60.968,-77,-41.032,-54,-67.032,-22,-59.032,77,39.968,50,64.968]],"fountain-funnel-front":[[-60,-75.953,60,-75.953,60,-57.953,28,-20.953000000000003,28,75.047,-20,75.047,-20,-19.953000000000003,-60,-57.953]],"diving-platform":[[139,-173.847,139,46.15299999999999,15,46.15299999999999,28,-87.84700000000001],[139,46.15299999999999,139,173.153,-68,173.153,-68,46.15299999999999],[139,-173.847,28,-87.84700000000001,-24,-156.847,-24,-173.847],[-24,-173.847,-24,-156.847,-139,-156.847,-139,-173.847]],"shark-flip":[[64.5,-38,77.5,-36,76.5,19,17.5,36,-31.5,40,-68.5,12,-78.5,-9,18.5,-40]],"cup":[[-17,51,-32,43,-47,-42,-32,-49,2,-52,40,-47,47,-37,29,42,9,51]],"rock":[[14.015,-40,42.015,-13,47.015,18,4.015000000000001,41,-38.985,27,-48.985,17,-30.985,-22]],"faucet":[[-17.997999999999998,65,-40.998,16,-40.998,-51,-39.998,-59,-33.998,-63,-0.9979999999999976,-65,35.002,-63,39.002,-58,40.002,-50,37.002,15,15.002000000000002,65]],"whale":[[-20,49.005,-52,41.005,-71,18.005000000000003,-75,-1.9949999999999974,-72,-21.994999999999997,-59,-39.995,-40,-48.995,-15,-47.995,75,-22.994999999999997,74,-6.994999999999997,50,34.005,29,46.005]],"window-seal":[[106.074,-16.995,106.074,150.005,-106.926,151.005,-106.926,-16.995]]}')},135:function(t){t.exports=JSON.parse('{"1stplay-1":[{"content":"How can we use objects as tools to move the water where we want it to go?","end":4694,"start":0}],"1stplay-1alt":[{"content":"Ooh! How could we solve this problem?","end":2827,"start":0}],"1stplay-2":[{"content":"I sketched an idea!","end":1773,"start":0}],"1stplay-3":[{"content":"Gravity pulls water down.","end":2072,"start":0},{"content":"We can change the direction water flows by putting tools into the water\'s path.","end":6922,"start":2072},{"content":"That\'ll stop it from flowing straight down!","end":10020,"start":6922}],"1stplay-4":[{"content":"Use the arrow buttons to turn the tools.","end":2528,"start":0}],"1stplay-5":[{"content":"Use the arrow buttons to flip the tool.","end":2528,"start":0}],"1stplay-6":[{"content":"Hmmm, that object doesn\'t move. You\'ll have to work around it.","end":3885,"start":0}],"1stplay-7":[{"content":"Remember to use the arrow buttons to turn the tools.","end":3368,"start":0}],"1stplay-8":[{"content":"Get the water to spin all the stars. That\'ll unlock new pool toys!","end":4645,"start":0}],"2ndleak-2":[{"content":"Almost there! Don\'t forget about the other leak.","end":2841,"start":0}],"2ndleak":[{"content":"Eek! Another leak! How can you solve it?","end":2847,"start":0}],"cafe-1":[{"content":"Let\'s use all this water to clean up!","end":2339,"start":0},{"content":"Can you help me wash the dish, by hitting it with the water?","end":5185,"start":2339}],"cafe-1b":[{"content":"Whoa, another dish!","end":2069,"start":0},{"content":"Try to move the water to wash BOTH dishes.","end":5044,"start":2069}],"cafe-2":[{"content":"See how many stars you can get!","end":1848,"start":0}],"cafe-3":[{"content":"So creative!","end":1486,"start":0}],"clearlevel":[{"content":"Tap here if you want to remove everything and start over.","end":3295,"start":0}],"encourage-1":[{"content":"Nice!","end":925,"start":0}],"encourage-2":[{"content":"We did it!","end":848,"start":0}],"encourage-3":[{"content":"Team Hamster!","end":1416,"start":0}],"encourage-4":[{"content":"Awesome thinking!","end":1169,"start":0}],"encourage-5":[{"content":"Thanks for your help!","end":1196,"start":0}],"encourage-6":[{"content":"Great design!","end":1516,"start":0}],"encourage-7":[{"content":"Nice engineering!","end":1262,"start":0}],"encourage-8":[{"content":"Teamwork!","end":1194,"start":0}],"encourage-9":[{"content":"Hamster power!","end":1401,"start":0}],"hall-1":[{"content":"How will you design a way to get water to flow into the funnel?","end":3382,"start":0},{"content":"There\'s more than one way to solve a problem.","end":5908,"start":3382}],"hall-1b":[{"content":"Whoa, there\'s another funnel!","end":1875,"start":0},{"content":" Try to move the water into BOTH funnels.","end":4732,"start":1875}],"hall-2":[{"content":"See if you can get all the stars!","end":2284,"start":0}],"hall-3":[{"content":"Cool idea!","end":1060,"start":0}],"help-1":[{"content":"You can always move the tools, or get a new tool, to help you solve the problem.","end":4741,"start":0}],"help-2":[{"content":"Designing solutions is challenging. Keep trying!","end":3645,"start":0}],"help-3":[{"content":"You can do this!","end":1363,"start":0}],"help-4":[{"content":"Try matching a tool to the dotted lines.","end":2647,"start":0}],"help-5":[{"content":"Can you find the tool that matches the dotted lines?","end":2832,"start":0}],"help-6":[{"content":"The dotted lines show one way to do it! Try it out!","end":3307,"start":0}],"intro-1":[{"content":"Let\'s try this one!","end":1333,"start":0}],"intro-2":[{"content":"How could we solve this?","end":1571,"start":0}],"intro-3":[{"content":"Oh no, another leak!","end":1817,"start":0}],"intro-4":[{"content":"More water?!","end":1150,"start":0}],"intro-5":[{"content":"Whoah! Let\'s do this!","end":2288,"start":0}],"intro-6":[{"content":"I\'ll help with this leak! Can you solve the other one?","end":3177,"start":0}],"intro-7":[{"content":"Remember to use all the water to solve the problem.","end":3170,"start":0}],"library-1":[{"content":"Can you save the comic books from getting wet?","end":2472,"start":0},{"content":"Try to move the water out of the window using the tools.","end":6061,"start":2472}],"library-3":[{"content":"Great thinking!","end":1405,"start":0}],"library-4":[{"content":"Use the arrow buttons to adjust the clock hands","end":2542,"start":0},{"content":"to move the water in the direction you want it to go.","end":5758,"start":2542}],"library-5":[{"content":"Now there\'s a bucket, too!","end":2530,"start":0},{"content":"Try to move the water into BOTH the window and the bucket!","end":7263,"start":2530}],"nicejob-10":[{"content":"Working together helped us solve the problem.","end":3032,"start":0}],"nicejob-11":[{"content":"You solved the problem!","end":1653,"start":0}],"nicejob-12":[{"content":"Tap here to try the level again a different way, or tap here to go to the next level!","end":5243,"start":0}],"nicejob-13":[{"content":"Tap the toy to play with it in the pool party!","end":2774,"start":0}],"nicejob-2":[{"content":"You got one star.","end":1439,"start":0},{"content":"Try again to see if you can get even more stars next time!","end":4961,"start":1439}],"nicejob-3":[{"content":"Yes! You got two stars!","end":2618,"start":0},{"content":"See if you can get all three next time!","end":5019,"start":2618}],"nicejob-4":[{"content":"Alright! You got all three stars!","end":3026,"start":0}],"nicejob-5":[{"content":"Nice problem solving!","end":1966,"start":0}],"nicejob-6":[{"content":"Great engineering!","end":1744,"start":0}],"nicejob-7":[{"content":"Qu increble! You\'re thinking like an engineer!","end":3708,"start":0}],"nicejob-8":[{"content":"Awesome! We moved the water!","end":2322,"start":0}],"nicejob-9":[{"content":"Creative problem solving!","end":2182,"start":0}],"outlines-1":[{"content":"I like how you found a way to solve it without using the dotted lines!","end":4010,"start":0}],"outlines-2":[{"content":"See if you can solve the problem without using the dotted lines.","end":3595,"start":0}],"picker-1":[{"content":"Help us fix Janitor Ruff\'s watery mess! Tap here to get started.","end":4272,"start":0}],"picker-10":[{"content":"Hallway!","end":729,"start":0}],"picker-11":[{"content":"Library!","end":1331,"start":0}],"picker-13":[{"content":"Hey, I\'m Tasha!","end":1561,"start":0}],"picker-12":[{"content":"Cafeteria!","end":1431,"start":0}],"picker-14":[{"content":"It\'s Mateo here!","end":1181,"start":0}],"picker-15":[{"content":"Hi! I\'m Sadie!","end":1690,"start":0}],"picker-16-alt":[{"content":"Let\'s fix the water fountain!","end":1892,"start":0}],"picker-16":[{"content":"Let\'s fill up the water fountain!","end":2250,"start":0}],"picker-17":[{"content":"Come help me clean the dishes!","end":1742,"start":0}],"picker-18":[{"content":"Let\'s save some comic books!","end":2498,"start":0}],"picker-19":[{"content":"Choose a level or go to the pool party!","end":2675,"start":0}],"picker-1b":[{"content":"Help us fix Janitor Ruff\'s watery mess! Tap here to get started.","end":5650,"start":0}],"picker-1c":[{"content":"Help us fix Janitor Ruff\'s watery mess! Tap here to get started.","end":4774,"start":0}],"picker-2":[{"content":"Let\'s go to the pool party!","end":1844,"start":0}],"picker-20":[{"content":"Choose a level or go to the pool party!","end":2741,"start":0}],"picker-21":[{"content":"Choose a level or go to the pool party!","end":2690,"start":0}],"picker-22":[{"content":"Amazing! You fixed all of Ruff\'s messes!","end":3398,"start":0},{"content":"Can you find different ways to fix them?","end":5662,"start":3398},{"content":"Or, go play in the pool party!","end":7756,"start":5662}],"picker-23":[{"content":"Amazing! You fixed all of Ruff\'s messes!","end":3552,"start":0},{"content":"Can you find different ways to fix them?","end":5807,"start":3552},{"content":"Or, go play in the pool party!","end":7962,"start":5807}],"picker-24":[{"content":"Amazing! You fixed all of Ruff\'s messes!","end":3840,"start":0},{"content":"Can you find different ways to fix them?","end":6406,"start":3840},{"content":"Or, go play in the pool party!","end":8831,"start":6406}],"picker-2a":[{"content":"Help us fix this watery mess! Tap here to get started.","end":3302,"start":0}],"picker-2b":[{"content":"Help us fix this watery mess! Tap here to get started.","end":4234,"start":0}],"picker-2c":[{"content":"Help us fix this watery mess! Tap here to get started.","end":3828,"start":0}],"picker-3":[{"content":"Choose where you want to help us","end":1795,"start":0}],"picker-4":[{"content":"Tap the arrows to see the other places.","end":2800,"start":0}],"picker-4b":[{"content":"Tap the arrows to see the other places.","end":2772,"start":0}],"picker-4c":[{"content":"Tap the arrows to see the other places.","end":2792,"start":0}],"picker-5":[{"content":"Great engineering! Let\'s go fix another mess in the school.","end":3847,"start":0}],"picker-5b":[{"content":"Great engineering! Let\'s go fix another mess in the school.","end":3963,"start":0}],"picker-5c":[{"content":"Great engineering! Let\'s go fix another mess in the school.","end":3922,"start":0}],"picker-6":[{"content":"Choose where you want to help us","end":2196,"start":0}],"picker-7":[{"content":"Let\'s go to the pool party!","end":2166,"start":0}],"picker-8":[{"content":"Let\'s go to the pool party!","end":2116,"start":0}],"picker-9":[{"content":"Choose where you want to help us","end":1860,"start":0}],"pool-1":[{"content":"Welcome to the pool party! What do you want to play with?","end":3363,"start":0}],"pool-10":[{"content":"Weeeeeee!","end":1617,"start":0}],"pool-11":[{"content":"Weeeeeee!","end":1275,"start":0}],"pool-11-alt":[{"content":"Cowabunga!","end":1491,"start":0}],"pool-12":[{"content":"Weeeeeee!","end":1435,"start":0}],"pool-13":[{"content":"Wow! You have some new things to play with! What could you do with them?","end":4477,"start":0}],"pool-14":[{"content":"Let\'s see what\'s new!","end":1463,"start":0}],"pool-15":[{"content":"Ooh! What else did we earn?","end":2282,"start":0}],"pool-16":[{"content":"More pool toys!","end":1991,"start":0}],"pool-2":[{"content":"When you get all 3 stars, you unlock new toys to play with here.","end":4180,"start":0}],"pool-3":[{"content":"Ooh, you have something new to play with! I wonder what you can do?","end":4162,"start":0}],"pool-4":[{"content":"I wonder why this floats.","end":2112,"start":0}],"pool-5":[{"content":"Why do you think it sinks?","end":1561,"start":0}],"pool-6":[{"content":"It\'s moving!","end":1016,"start":0}],"pool-7":[{"content":"Yay!","end":1293,"start":0}],"pool-8":[{"content":"Nice splash!","end":1298,"start":0}],"pool-9":[{"content":"High bounce!","end":1367,"start":0}],"splash-1":[{"content":"Splash Dash!","end":1817,"start":0}],"unlock-1":[{"content":"You unlocked a new pool toy!","end":2067,"start":0}],"unlock-2":[{"content":"When you go to the hamster pool party it will be there waiting.","end":3499,"start":0}],"Hamsters-Water-Short":[{"content":"Oh it\'s leaking!","end":1776,"start":0},{"content":"Janitor Ruff","end":3488,"start":1776},{"content":"Not good, not good.","end":4196,"start":3488},{"content":"Ahoo, oh now it\'s everywhere.","end":7160,"start":4593},{"content":"Oh no a leaky pipe.","end":9447,"start":7160},{"content":"Ah, rubber ducky saves the day.","end":12916,"start":9447},{"content":"There ya go problem solved, ok goodbye.","end":15886,"start":13331},{"content":"Phew, Ruff stopped the leak.","end":17406,"start":15886},{"content":"Quack","end":19117,"start":17544},{"content":"It didn\'t work!","end":19962,"start":19117},{"content":"The waters headed for the comic books!","end":21896,"start":19962},{"content":"To make the water flow in a different direction we have to put something in its way.","end":28508,"start":23899},{"content":"Oh, how about this bookend?","end":30768,"start":28508},{"content":"and this stapler?","end":31918,"start":30768},{"content":"Lets try it, and hurry!","end":34166,"start":31918},{"content":"The comic books are depending on us!","end":37690,"start":34260},{"content":"Its working we saved them!","end":41819,"start":38888},{"content":"Uh oh.","end":42920,"start":41892},{"content":"Another leak, can you help us?","end":47038,"start":43481}]}')},137:function(t){t.exports=JSON.parse('{"alpha":{"start":1,"end":0.5},"scale":{"start":0.075,"end":1.75,"minimumScaleMultiplier":1},"color":{"start":"#ffffff","end":"#ffffff"},"speed":{"start":300,"end":0,"minimumSpeedMultiplier":1},"acceleration":{"x":0,"y":250},"maxSpeed":0,"startRotation":{"min":-360,"max":360},"noRotation":false,"rotationSpeed":{"min":-20,"max":150},"lifetime":{"min":2,"max":1},"blendMode":"normal","frequency":0.005,"emitterLifetime":1,"maxParticles":100,"pos":{"x":0,"y":0},"addAtBack":false,"spawnType":"ring","spawnCircle":{"x":0,"y":0,"r":10,"minR":10}}')},138:function(t){t.exports=JSON.parse('{"alpha":{"start":1,"end":0},"scale":{"start":0.3,"end":0.3,"minimumScaleMultiplier":0.9},"color":{"start":"#4bcede","end":"#4bcede"},"speed":{"start":150,"end":150,"minimumSpeedMultiplier":1},"acceleration":{"x":0,"y":100},"maxSpeed":0,"startRotation":{"min":-97,"max":-83},"noRotation":true,"rotationSpeed":{"min":0,"max":0},"lifetime":{"min":2,"max":3},"blendMode":"normal","frequency":0.1,"emitterLifetime":-1,"maxParticles":25,"pos":{"x":0,"y":0},"addAtBack":false,"spawnType":"point"}')},139:function(t){t.exports=JSON.parse('{"alpha":{"start":1,"end":0.49},"scale":{"start":1,"end":0.5,"minimumScaleMultiplier":1},"color":{"start":"#ffffff","end":"#ffffff"},"speed":{"start":500,"end":50,"minimumSpeedMultiplier":1},"acceleration":{"x":0,"y":0},"maxSpeed":0,"startRotation":{"min":180,"max":360},"noRotation":false,"rotationSpeed":{"min":-20,"max":150},"lifetime":{"min":0.2,"max":0.8},"blendMode":"normal","frequency":0.06,"emitterLifetime":0.31,"maxParticles":5,"pos":{"x":0,"y":0},"addAtBack":false,"spawnType":"point"}')},140:function(t){t.exports=JSON.parse('{"alpha":{"start":0.8,"end":0.1},"scale":{"start":0.3,"end":0.3,"minimumScaleMultiplier":1},"color":{"start":"#4bcede","end":"#4bcede"},"speed":{"start":100,"end":100,"minimumSpeedMultiplier":1},"acceleration":{"x":0,"y":0},"maxSpeed":0,"startRotation":{"min":0,"max":0},"noRotation":false,"rotationSpeed":{"min":0,"max":0},"lifetime":{"min":0.5,"max":0.5},"blendMode":"normal","frequency":0.1,"emitterLifetime":0.31,"maxParticles":5,"pos":{"x":0,"y":0},"addAtBack":false,"spawnType":"burst","particlesPerWave":5,"particleSpacing":0,"angleStart":0}')},143:function(t,e,n){n(144),t.exports=n(338)},29:function(t){t.exports=JSON.parse('{"alpha":{"start":0,"end":0.75},"scale":{"start":5,"end":1.2,"minimumScaleMultiplier":1},"color":{"start":"#ffffff","end":"#ffffff"},"speed":{"start":300,"end":0,"minimumSpeedMultiplier":1},"acceleration":{"x":0,"y":0},"maxSpeed":0,"startRotation":{"min":0,"max":360},"noRotation":false,"rotationSpeed":{"min":0,"max":200},"lifetime":{"min":0.7,"max":1},"blendMode":"normal","ease":[{"s":0,"cp":0.329,"e":0.548},{"s":0.548,"cp":0.767,"e":0.876},{"s":0.876,"cp":0.985,"e":1}],"frequency":0.003,"emitterLifetime":0.1,"maxParticles":100,"pos":{"x":0,"y":0},"addAtBack":true,"spawnType":"point"}')},331:function(t,e,n){},338:function(t,e,n){"use strict";n.r(e);n(330),n(331);var o=n(51),i=n(128),r=n(135),a=n(129),s=n(130),l=n(131);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return u(this,e),(n=p(this,f(e).call(this))).name=t,n.percentX=o,n.percentY=i,n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,PIXI.Container),n=e,(o=[{key:"resize",value:function(t,e){this.x=t*this.percentX,this.y=e*this.percentY}}])&&h(n.prototype,o),i&&h(n,i),e}();function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var b=function(){function t(e,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(this,t),this.paused=!1,this.tick=null,this.width=i.maxWidth||1664,this.height=i.maxHeight||768,this.safeWidth=i.safeWidth||1024,this.safeHeight=i.safeHeight||768,this.maxWidth=i.maxWidth||1664,this.maxHeight=i.maxHeight||768,this.container=e,this.canvas=n,this.renderer=new PIXI.Renderer({view:n,width:this.maxWidth,height:this.maxHeight,transparent:!0}),this.stage=new PIXI.Container,this.ticker=PIXI.Ticker.shared,this.ticker.add(this.update.bind(this)),this.ticker.start(),window.addEventListener("resize",(function(t){o.resize(),setTimeout(o.resize.bind(o),500)}))}var e,n,o;return e=t,(n=[{key:"resize",value:function(){var t=window.innerWidth,e=window.innerHeight,n=this.container;n.style.maxWidth="",n.style.maxHeight="",n.style.margin="",n.style.marginTop="";var o=t,i=e,r=e/this.height;t>this.maxWidth*r?this.width=this.maxWidth:t<this.safeWidth*r?this.width=this.safeWidth:this.width=Math.floor(t/r),this.widthStyle=!1,this.heightStyle=!1,t>this.width*(e/this.height)?(o=Math.floor(e/this.height*this.width),n.style.maxWidth=o+"px",n.style.margin="0 auto",this.widthStyle=!0):(i=Math.floor(t/this.width*this.height),n.style.maxHeight=i+"px",n.style.marginTop=(e-i)/2+"px",this.heightStyle=!0),this.container.style.width=o+"px",this.container.style.height=i+"px",this.canvas.width=this.width,this.canvas.height=this.height,this.renderer.resize(this.width,this.height),this.resizeChildren(this.stage,this.width,this.height)}},{key:"resizeChildren",value:function(t,e,n){if(t){if(t.children)for(var o=t.children.length-1;o>=0;o--)this.resizeChildren(t.children[o],e,n);t.resize&&t.resize(e,n)}}},{key:"update",value:function(){if(!this.paused){var t=this.ticker.elapsedMS;if(t>40)return;this.tick=t/1e3,createjs&&createjs.Tween&&(createjs.Ticker.removeAllEventListeners(),createjs.Tween.tick(t)),this.updateChildren(this.stage,"update"),this.updateChildren(this.stage,"postUpdate"),this.renderer.render(this.stage)}}},{key:"updateChildren",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update";if(t){if(t.children&&t.visible)for(var n=t.children.length-1;n>=0;n--)this.updateChildren(t.children[n],e);t[e]&&t[e](this.tick)}}},{key:"setPaused",value:function(t){this.paused=t,createjs.Ticker.paused=t,t?this.ticker.stop():this.ticker.start(),this.stage.interactive=!t,this.stage.interactiveChildren=!t}}])&&g(e.prototype,n),o&&g(e,o),t}();function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"preUnloadScene",value:function(t,e){}},{key:"postUnloadScene",value:function(t,e){}},{key:"preLoadScene",value:function(t,e){}},{key:"postLoadScene",value:function(t,e){}}])&&v(e.prototype,n),o&&v(e,o),t}();function x(t,e,n,o,i,r,a){try{var s=t[r](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,i)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(t){x(r,o,i,a,s,"next",t)}function s(t){x(r,o,i,a,s,"throw",t)}a(void 0)}))}}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.current=null,this.mainLayer=null,this.transitionLayer=null,this.allScenes={},this.plugins=[]}var e,n,o,i,r;return e=t,(n=[{key:"addPlugin",value:function(t){t instanceof w?this.plugins.push(t):console.warn("Plugin should extend SceneControllerPlugin")}},{key:"removePlugin",value:function(t){var e=this.plugins.indexOf(t);this.plugins.splice(e,1)}},{key:"registerScene",value:function(t,e){this.allScenes[t]=e}},{key:"setMainLayer",value:function(t){this.mainLayer=t}},{key:"setTransitionLayer",value:function(t,e){this.transition=t,this.transitionLayer=e,e.addChild(t)}},{key:"gotoScene",value:function(t){this.current?this.unloadSceneThenLoad(t):this.loadScene(t)}},{key:"unloadSceneThenLoad",value:(r=k(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.callPlugin("preUnloadScene"),this.current.setActive(!1),this.current.end(),t.next=5,this.current.animateOut();case 5:if(!this.transition){t.next=8;break}return t.next=8,this.transition.animateIn();case 8:this.current.unload(),this.removeScene(this.current,this.mainLayer),this.callPlugin("postUnloadScene"),this.loadScene(e);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"loadScene",value:(i=k(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.callPlugin("preLoadScene"),this.current=new this.allScenes[e],this.mainLayer.addChild(this.current),t.next=5,this.current.preload();case 5:if(this.current.build(),!this.transition){t.next=9;break}return t.next=9,this.transition.animateOut();case 9:return t.next=11,this.current.animateIn();case 11:this.current.setActive(!0),this.current.start(),this.callPlugin("postLoadScene");case 14:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"removeScene",value:function(t,e){t&&(t.removeAllListeners(),t.removeChildren(),t=null),e&&(e.removeAllListeners(),e.removeChildren())}},{key:"callPlugin",value:function(t){for(var e=0,n=this.plugins.length;e<n;e++)this.plugins[e][t](this.current,this.mainLayer)}}])&&S(e.prototype,n),o&&S(e,o),t}(),O=n(46);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return T(this,e),(t=j(this,B(e).call(this)))._masterVolume=1,t._volume=n,t._instance=null,t._instanceTimeout=null,t._chain=[],t._chainTracker=0,t._startTime=0,t._remainingTime=0,t._timeoutBaseVolume=1,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,PIXI.utils.EventEmitter),n=e,(o=[{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.stop(),this._chainTracker=0,Array.isArray(t)?(this._chain=t,this._playChain(this._chain[0],e)):(this._chain=[t],this._playChain(this._chain[0],e)),this._instance}},{key:"_playChain",value:function(t,e){this._play(t,e);var n=1e3*this._instance.duration;this._startTime=Date.now(),this._remainingTime=n,this._timeoutBaseVolume=e,this._startTimeout(n,e)}},{key:"_startTimeout",value:function(t,e){var n=this;this._instanceTimeout=setTimeout((function(t){if(n._chainTracker++,n._chainTracker>n._chain.length-1)return n.stop(),void n.emit("complete");n._playChain(n._chain[n._chainTracker],e)}),t)}},{key:"_play",value:function(t,e){this._instance=PIXI.sound.find(t),this._instance.baseVolume=e,this._instance.volume=this.getVolumeForInstance(this._instance),this._instance.play(),this.emit("play",t,this._instance)}},{key:"stop",value:function(){this._instance&&(this._instance.stop(),this._instance=null),this._instanceTimeout&&clearTimeout(this._instanceTimeout),this.emit("stop")}},{key:"pause",value:function(){this._instanceTimeout&&(clearTimeout(this._instanceTimeout),this._remainingTime-=Date.now()-this._startTime)}},{key:"resume",value:function(){this._remainingTime&&this._remainingTime>0&&this._startTimeout(this._remainingTime,this._timeoutBaseVolume)}},{key:"getVolumeForInstance",value:function(t){return t.baseVolume*this._volume*this._masterVolume}},{key:"setCurrentInstanceVolume",value:function(){this._instance&&(this._instance.volume=this.getVolumeForInstance(this._instance))}},{key:"isPlaying",value:function(){return this._instance&&this._instance.isPlaying}},{key:"masterVolume",get:function(){return this._masterVolume},set:function(t){this._masterVolume=t,this.setCurrentInstanceVolume()}},{key:"volume",set:function(t){this._volume=t,this.setCurrentInstanceVolume()},get:function(){return this._volume}},{key:"instance",get:function(){return this._instance}}])&&C(n.prototype,o),i&&C(n,i),e}();function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function A(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?H(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return R(this,e),(t=A(this,D(e).call(this)))._masterVolume=1,t._volume=n,t._instances=[],t.completeBound=t.handleInstanceComplete.bind(H(t)),t._muted=!1,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,PIXI.utils.EventEmitter),n=e,(o=[{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=PIXI.sound.find(t);return this._instances.push(n),n.baseVolume=e,n.volume=this.getVolumeForInstance(n),n.play({complete:this.completeBound}),n}},{key:"stop",value:function(){this._instances.forEach((function(t){t.stop()})),this._instances=[]}},{key:"handleInstanceComplete",value:function(t){this.emit("complete"),this._instances.splice(this._instances.indexOf(t),1)}},{key:"getVolumeForInstance",value:function(t){return t.baseVolume*this._volume*this._masterVolume}},{key:"setCurrentInstancesVolume",value:function(){var t=this;this._instances.forEach((function(e){e.volume=t.getVolumeForInstance(e)}))}},{key:"masterVolume",get:function(){return this._masterVolume},set:function(t){this._masterVolume=t,this.setCurrentInstancesVolume()}},{key:"volume",get:function(){return this._volume},set:function(t){this._volume=t,this.setCurrentInstancesVolume()}},{key:"instances",get:function(){return this._instances}}])&&X(n.prototype,o),i&&X(n,i),e}();function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var M=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;W(this,t),this._masterVolume=1,this._volume=e,this._instance=null,this._instanceName="",this._fadeTime=n}var e,n,o;return e=t,(n=[{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._instance&&this.stopPreviousInstance(),this._instanceName=t,this._instance=PIXI.sound.find(t),this._instance.baseVolume=e,this._instance.volume=0,this._instance.loop=!0,this._instance.play(),this.fadeInMusic(this._instance,this._fadeTime)}},{key:"stopPreviousInstance",value:function(){var t=this._instance;this.fadeOutMusic(t,this._fadeTime).call((function(e){t.stop()}))}},{key:"stop",value:function(){this._instance&&(this._instance.stop(),this._instance=null,this._instanceName="")}},{key:"fadeOutMusic",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._instance,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._fadeTime;return createjs.Tween.get(t).to({volume:0},e)}},{key:"fadeInMusic",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._instance,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._fadeTime;return createjs.Tween.get(t).to({volume:this.getVolumeForInstance(t)},e)}},{key:"getVolumeForInstance",value:function(t){return t.baseVolume*this._volume*this._masterVolume}},{key:"setCurrentInstanceVolume",value:function(){this._instance&&(this._instance.volume=this.getVolumeForInstance(this._instance))}},{key:"masterVolume",get:function(){return this._masterVolume},set:function(t){this._masterVolume=t,this.setCurrentInstanceVolume()}},{key:"volume",get:function(){return this._volume},set:function(t){this._volume=t,this.setCurrentInstanceVolume()}},{key:"instance",get:function(){return this._instance}},{key:"instanceName",get:function(){return this._instanceName}},{key:"fadeTime",get:function(){return this._fadeTime},set:function(t){this._fadeTime=t}}])&&N(e.prototype,n),o&&N(e,o),t}(),V=n(136);function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var J=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Y(this,t),this.tracker=0,this.array=n?Object(V.a)(e):e}var e,n,o;return e=t,(n=[{key:"getNext",value:function(){var t=this.getCurrent();return this.incrementTracker(),t}},{key:"getCurrent",value:function(){return this.array[this.tracker]}},{key:"incrementTracker",value:function(){this.tracker++,this.tracker>=this.array.length&&(this.tracker=0)}},{key:"reset",value:function(){this.tracker=0}}])&&z(e.prototype,n),o&&z(e,o),t}(),U={waterColorHex:4968158,waterColorArray:[75,206,222],selectedLevel:"hallway-7",heardPicker1:!1,heardPicker2:!1,velocityX:0,returnedFromLevel10:!1,introPrompts:new J(["intro-1","intro-2","intro-3","intro-4","intro-5"],!0),libraryCompletePrompts:new J(["encourage-1","encourage-2","encourage-3","encourage-5","encourage-7"],!0),hallwayCompletePrompts:new J(["encourage-3","encourage-5","encourage-6","encourage-9","nicejob-10","nicejob-11"],!0),cafeteriaCompletePrompts:new J(["encourage-1","encourage-2","encourage-6","encourage-7","encourage-9","nicejob-10","nicejob-11"],!0),completePrompts:new J(["encourage-1","encourage-2","encourage-3","encourage-5","encourage-6","encourage-7","encourage-9","nicejob-10","nicejob-11"],!0),niceJobPrompts:new J(["nicejob-5","nicejob-6","nicejob-7","nicejob-8","nicejob-9","encourage-4","encourage-8"],!0),completeText:new J(["Alright!","Nice!","Great!","Awesome!","Creative!"],!0),pool3PlusReturn:new J(["pool-14","pool-15","pool-16"],!0),hintsUsed:0,musicVolume:.05,mollyTapVolume:.5,loading:{LevelSelect:!1,Game:!1,Freeplay:!1}},Z={"cafeteria-1":0,"cafeteria-2":0,"cafeteria-3":0,"cafeteria-4":0,"cafeteria-5":0,"cafeteria-6":0,"cafeteria-7":0,"cafeteria-8":0,"cafeteria-9":0,"cafeteria-10":0,"hallway-1":0,"hallway-2":0,"hallway-3":0,"hallway-4":0,"hallway-5":0,"hallway-6":0,"hallway-7":0,"hallway-8":0,"hallway-9":0,"hallway-10":0,"library-1":0,"library-2":0,"library-3":0,"library-4":0,"library-5":0,"library-6":0,"library-7":0,"library-8":0,"library-9":0,"library-10":0};function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Q(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var et=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Q(this,$(e).call(this))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(e,PIXI.Container),n=e,(o=[{key:"preload",value:function(){return Promise.resolve()}},{key:"build",value:function(){}},{key:"animateIn",value:function(){return Promise.resolve()}},{key:"setActive",value:function(t){}},{key:"start",value:function(){}},{key:"end",value:function(){}},{key:"animateOut",value:function(){return Promise.resolve()}},{key:"unload",value:function(){}},{key:"resize",value:function(t,e){}}])&&K(n.prototype,o),i&&K(n,i),e}();function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function rt(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=function(t){function e(t){var n,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ot(this,e),(n=rt(this,at(e).call(this,PIXI.utils.TextureCache[t+".png"]))).name=t+" Button",n.spriteName=t,n.anchor.set(.5),n.scaleAnimation=o,n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(e,PIXI.Sprite),n=e,(o=[{key:"setActive",value:function(t){this.interactive=t,this.buttonMode=t,t?(this.on("mouseover",this.handleMouseOver,this),this.on("mouseout",this.handleMouseOut,this),this.on("pointerdown",this.handlePointerDown,this),this.on("pointertap",this.handleClick,this)):this.removeAllListeners()}},{key:"handleMouseOver",value:function(t){t.data&&!t.data.isPrimary||(this.mouseIsOver=!0,this.texture=PIXI.utils.TextureCache[this.spriteName+"-hover.png"])}},{key:"handleMouseOut",value:function(t){t.data&&!t.data.isPrimary||(this.mouseIsOver=!1,this.texture=PIXI.utils.TextureCache[this.spriteName+".png"])}},{key:"handlePointerDown",value:function(t){if(t.data.isPrimary){var e=PIXI.utils.TextureCache[this.spriteName+"-press.png"];e&&(this.texture=e)}}},{key:"handleClick",value:function(t){t.data.isPrimary&&(this.scaleAnimation?cjs.Tween.get(this.scale,{override:!0}).to({x:.95,y:.95},100,cjs.Ease.sineOut).call(this._handleClick,null,this):this._handleClick())}},{key:"_handleClick",value:function(t){if(this.texture=this.mouseIsOver?PIXI.utils.TextureCache[this.spriteName+"-hover.png"]:PIXI.utils.TextureCache[this.spriteName+".png"],this.scaleAnimation){var e=this.mouseIsOver?1.05:1;cjs.Tween.get(this.scale).to({x:e,y:e},100,cjs.Ease.sineIn)}}},{key:"show",value:function(){return this.scaleToWithEase(1,cjs.Ease.backOut)}},{key:"hide",value:function(){return this.scaleToWithEase(0,cjs.Ease.backIn)}},{key:"scaleToWithEase",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cjs.Ease.Linear;return cjs.Tween.get(this.scale,{override:!0}).to({x:t,y:t},200,e)}}])&&it(n.prototype,o),i&&it(n,i),e}();function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pt(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16777215;return ut(this,e),(t=pt(this,ft(e).call(this))).name="Pulsing Rings",t.tween={},t.ring1=new PIXI.Graphics,t.ring1.beginFill(o),t.ring1.drawCircle(0,0,n),t.ring1.alpha=.4,t.ring2=new PIXI.Graphics,t.ring2.beginFill(o),t.ring2.drawCircle(0,0,.9*n),t.ring2.alpha=.4,t.addChild(t.ring1,t.ring2),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,PIXI.Container),n=e,(o=[{key:"play",value:function(){var t=this;return cjs.Tween.get(this.ring1.scale,{loop:!0}).to({x:1.1,y:1.1},1500,cjs.Ease.sineInOut).to({x:1,y:1},1500,cjs.Ease.sineInOut),cjs.Tween.get(this.tween).wait(200).call((function(e){cjs.Tween.get(t.ring2.scale,{loop:!0}).to({x:1.1,y:1.1},1500,cjs.Ease.sineInOut).to({x:1,y:1},1500,cjs.Ease.sineInOut)}))}},{key:"stop",value:function(){return cjs.Tween.get(this.ring1.scale).to({x:1,y:1},500,cjs.Ease.sineInOut),cjs.Tween.get(this.ring2.scale).to({x:1,y:1},500,cjs.Ease.sineInOut)}},{key:"show",value:function(){return cjs.Tween.get(this,{override:!0}).set({visible:!0},this).to({alpha:1},250)}},{key:"hide",value:function(){return cjs.Tween.get(this,{override:!0}).to({alpha:0},250).set({visible:!1},this)}},{key:"quickHide",value:function(){cjs.Tween.removeTweens(this.tween),this.visible=!1,this.alpha=0}},{key:"flash",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;this.show(),cjs.Tween.get(this.tween).wait(e).call((function(e){t.hide()}))}}])&&ht(n.prototype,o),i&&ht(n,i),e}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),bt(this,vt(e).call(this))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,t),n=e,(o=[{key:"build",value:function(){var t=new PIXI.Sprite(PIXI.utils.TextureCache.TitleBG);t.name="Background",t.anchor.set(.5);var e=new PIXI.Sprite(PIXI.utils.TextureCache["title.png"]);e.name="Title",e.anchor.set(.5),e.position.set(0,-182),this.playBtn=new lt("play-btn"),this.playBtn.position.set(0,20),this.pulse=new dt(this.playBtn.getBounds().width/2+10),this.pulse.play(),this.pulse.position.set(this.playBtn.position.x,this.playBtn.position.y),this.addChild(t,e,this.pulse,this.playBtn)}},{key:"setActive",value:function(t){this.playBtn.setActive(t),t?this.playBtn.once("pointertap",this.handlePlayButtonClicked,this):(this.playBtn.removeAllListeners(),this.removeAllListeners())}},{key:"handlePlayButtonClicked",value:function(t){t.data.isPrimary&&(Jl.unlock(),Gl.play("molly_tap",U.mollyTapVolume),Hl.getPlugin("GoogleAnalytics").event("Splash Dash","startGame"),this.gotoNextScene())}},{key:"gotoNextScene",value:function(){Ml.gotoScene("Video2")}}])&&gt(n.prototype,o),i&&gt(n,i),e}(et);function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=Pt(e).call(this))||"object"!==kt(o)&&"function"!=typeof o?Ot(n):o).userPaused=!1,t.clickBound=t.gotoNextScene.bind(Ot(t)),t.skipBound=t.skip.bind(Ot(t)),t.videoClickBound=t.handleVideoClicked.bind(Ot(t)),t.fullscreenBound=t.fullscreenChange.bind(Ot(t)),document.addEventListener("webkitfullscreenchange",t.fullscreenBound),document.addEventListener("mozfullscreenchange",t.fullscreenBound),document.addEventListener("fullscreenchange",t.fullscreenBound),document.addEventListener("MSFullscreenChange",t.fullscreenBound),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,t),n=e,(o=[{key:"build",value:function(){Jl.video.style.opacity=1,Jl.video.controlsList="nodownload nofullscreen noremoteplayback",Jl.video.disablePictureInPicture=!0,Jl.video.textTracks[0].mode="hidden",Jl.video.style.pointerEvents="none",Nl.container.style.pointerEvents="none",Jl.container||(Jl.container=document.getElementById("videoContainer")),this.frame=document.createElement("IMG"),this.frame.src="assets/images/video-frame.png",this.frame.id="videoFrame",Jl.container.appendChild(this.frame),Jl.container.appendChild(Jl.video),this.pauseButton=document.createElement("IMG"),this.pauseButton.src="assets/images/button_overlay_play.png",this.pauseButton.id="pauseButton",this.hidePauseButton(),Jl.container.appendChild(this.pauseButton),this.buttonDiv=document.createElement("div"),this.buttonDiv.id="skipContainer",Jl.container.appendChild(this.buttonDiv),this.button=document.createElement("button"),this.button.id="skipButton",this.buttonDiv.appendChild(this.button),this.skipBtn=new lt("next-btn"),this.skipBtn.position.set(404,289),this.pulsingRings=new dt(this.skipBtn.getLocalBounds().width/2+10),this.pulsingRings.position.set(this.skipBtn.x,this.skipBtn.y),this.pulsingRings.play(),this.addChild(this.pulsingRings,this.skipBtn),this.button.style.pointerEvents="all",this.skipMouseOver=this.skipBtn.handleMouseOver.bind(this.skipBtn),this.skipMouseOut=this.skipBtn.handleMouseOut.bind(this.skipBtn),this.skipClick=this.skipBtn.handleClick.bind(this.skipBtn),this.sizeElements()}},{key:"setActive",value:function(t){t?(this.button.addEventListener("click",this.skipBound),this.button.addEventListener("mouseover",this.skipMouseOver),this.button.addEventListener("mouseout",this.skipMouseOut),document.getElementById("videoFrame").addEventListener("click",this.videoClickBound)):(this.button.removeEventListener("click",this.skipBound),this.button.removeEventListener("mouseover",this.skipMouseOver),this.button.removeEventListener("mouseout",this.skipMouseOut),document.getElementById("videoFrame").removeEventListener("click",this.videoClickBound))}},{key:"start",value:function(){Jl.play(this.clickBound),this.setCaptionsToVideo()}},{key:"skip",value:function(){Gl.play("molly_tap",U.mollyTapVolume),this.gotoNextScene()}},{key:"gotoNextScene",value:function(){(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)&&(document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen()),document.removeEventListener("webkitfullscreenchange",this.fullscreenBound),document.removeEventListener("mozfullscreenchange",this.fullscreenBound),document.removeEventListener("fullscreenchange",this.fullscreenBound),document.removeEventListener("MSFullscreenChange",this.fullscreenBound),Nl.container.style.pointerEvents="",Jl.pause(),Vl.stop(),zl(!1),Ml.gotoScene("LevelSelect")}},{key:"unload",value:function(){var t=document.getElementById("videoContainer");t.parentElement.removeChild(t)}},{key:"resize",value:function(){this.sizeElements()}},{key:"sizeElements",value:function(){var t=parseInt(Nl.container.style.height.split("px")[0])/Nl.maxHeight,e=432*t;Jl.video.setAttribute("height",e.toString());var n=this.frame,o=(n.naturalHeight||503)*t;n.style.height=o+"px",this.button.style.width=126*t+"px",this.button.style.height=126*t+"px",this.buttonDiv.style.width=1e3*t+"px",this.buttonDiv.style.height=750*t+"px",this.pauseButton.style.height=200*t+"px"}},{key:"setCaptionsToVideo",value:function(){zl(!1),Vl.stop();var t=1e3*Jl.video.currentTime;Vl.start("Hamsters-Water-Short",t)}},{key:"handleVideoPaused",value:function(){zl(!0)}},{key:"handleVideoClicked",value:function(){Hl.state.pause.value||(Jl.video.paused?(this.userPaused=!1,Jl.resume(),this.hidePauseButton(),this.setCaptionsToVideo(),zl(!1)):(this.userPaused=!0,Jl.pause(),this.showPauseButton(),zl(!0)))}},{key:"handleGamePause",value:function(t){this.userPaused||(t?Jl.pause():Jl.resume())}},{key:"showPauseButton",value:function(){this.pauseButton.style.display="block"}},{key:"hidePauseButton",value:function(){this.pauseButton.style.display="none"}},{key:"fullscreenChange",value:function(){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?Hl.state.captionsMuted.value?Jl.video.textTracks[0].mode="hidden":Jl.video.textTracks[0].mode="showing":Jl.video.textTracks[0].mode="hidden"}}])&&St(n.prototype,o),i&&St(n,i),e}(et),Ct=n(0);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _t(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=_t(this,Et(e).call(this))).name="Stars Container",t.star1=new PIXI.Sprite(PIXI.utils.TextureCache["star-locked.png"]),t.star1.anchor.set(.5),t.star2=new PIXI.Sprite(PIXI.utils.TextureCache["star-locked.png"]),t.star2.anchor.set(.5),t.star3=new PIXI.Sprite(PIXI.utils.TextureCache["star-locked.png"]),t.star3.anchor.set(.5);var n=t.star1.getBounds();return t.star1.position.set(-n.width,0),t.star2.position.set(0,0),t.star3.position.set(n.width,0),t.addChild(t.star1,t.star2,t.star3),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setStars",value:function(t){switch(t){case 1:this.star1.texture=PIXI.utils.TextureCache["star-unlocked.png"];break;case 2:this.star1.texture=PIXI.utils.TextureCache["star-unlocked.png"],this.star2.texture=PIXI.utils.TextureCache["star-unlocked.png"];break;case 3:this.star1.texture=PIXI.utils.TextureCache["star-unlocked.png"],this.star2.texture=PIXI.utils.TextureCache["star-unlocked.png"],this.star3.texture=PIXI.utils.TextureCache["star-unlocked.png"]}}}])&&Bt(n.prototype,o),i&&Bt(n,i),e}();function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Dt(t,e){return!e||"object"!==Xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Dt(this,Ht(e).call(this))).name="Level Selector "+t,o.area=t,o.lastButton=null,o.panel=new PIXI.Sprite(PIXI.utils.TextureCache["panel.png"]),o.panel.anchor.set(.5),o.addChild(o.panel),o.content=new PIXI.Container,o.addChild(o.content),o.text=new PIXI.Sprite(PIXI.utils.TextureCache[t+"-text.png"]),o.text.position.set(0,-218),o.text.anchor.set(.5),o.content.addChild(o.text),o.pulsingRings=new dt(61,5033694),o.pulsingRings.visible=!1,o.content.addChild(o.pulsingRings),o.buttonContainer=new PIXI.Container,o.buttonContainer.y=1,o.content.addChild(o.buttonContainer),o.starContainer=new PIXI.Container,o.content.addChild(o.starContainer);for(var i=JSON.parse(localStorage.getItem("unlockStars")),r=1;r<=10;r++){var a=n[r],s="";s=a?"level".concat(r,"-btn"):"level-locked";var l=new lt(s);l.levelValue="".concat(t,"-").concat(r),a||(l.locked=!0),o.buttonContainer.addChild(l);var c=new Rt;c.setStars(i[l.levelValue]),o.starContainer.addChild(c),"level-locked.png"===s&&(c.alpha=0)}var u=o.buttonContainer.children[0],h=u.getBounds(),p=0,f=0;o.starContainer.children[0].position.set(u.x,u.y+78);for(var y=1,d=o.buttonContainer.children.length;y<d;y++){var m=o.buttonContainer.children[y],g=o.starContainer.children[y],b=m.getBounds();y%5==0?(p=0,f+=b.height+72):m.position.x=p+h.width/2+b.width/2+37,m.position.y=f,p=m.position.x,h=b,g.x=m.position.x,g.y=m.position.y+78}var v,w=o.buttonContainer.getLocalBounds();o.buttonContainer.pivot.set(w.width/2-h.width/2,w.height/2-h.height/2),o.starContainer.pivot.set(w.width/2-h.width/2,w.height/2-h.height/2);for(var x=0,k=o.buttonContainer.children.length;x<k;x++)o.buttonContainer.children[x].locked||(v=o.buttonContainer.children[x]);var S=o.pulsingRings.parent.toLocal(v,v.parent);return o.pulsingRings.position.set(S.x,S.y),o.lastButton=v,o.pulsingRings.play(),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setActive",value:function(t){var e=this;this.buttonContainer.children.forEach((function(e){e.locked||e.setActive(t)})),t?this.buttonContainer.children.forEach((function(t){t.locked||t.on("pointertap",e.parent.emitButtonClicked,e.parent)})):this.buttonContainer.children.forEach((function(t){t.removeAllListeners()}))}},{key:"setFocus",value:function(){this.pulsingRings.show()}},{key:"removeFocus",value:function(){this.pulsingRings.hide()}}])&&At(n.prototype,o),i&&At(n,i),e}();function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Mt(t,e){return!e||"object"!==Wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Mt(this,Vt(e).call(this))).name="Looping Carousel",t.velocityX=0,t.minScale=.8,t.maxScale=1,t.point=new PIXI.Point,t.speed=5,t.spacing=0,t.cafeteria=new Ft("cafeteria",JSON.parse(localStorage.getItem("cafeteriaLevelsUnlocked"))),t.library=new Ft("library",JSON.parse(localStorage.getItem("libraryLevelsUnlocked"))),t.library.interactiveChildren=!1,t.hallway=new Ft("hallway",JSON.parse(localStorage.getItem("hallwayLevelsUnlocked"))),t.hallway.interactiveChildren=!1,t.childWidth=t.cafeteria.getLocalBounds().width,t.cafeteria.position.x+=t.childWidth+t.spacing,t.hallway.position.x+=2*(t.childWidth+t.spacing),t.addChild(t.library,t.cafeteria,t.hallway),t.maxWidth=(t.childWidth+t.spacing)*t.children.length,t.deactivateSelectors(),t.currentSelector=t.library,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setActive",value:function(t){this.parent.interactive=t,this.cafeteria.setActive(t),this.hallway.setActive(t),this.library.setActive(t),t?(this.mouseDownBound=this.parent.on("pointerdown",this.handleMouseDown,this),this.pressMoveBound=this.parent.on("pointermove",this.handlePressMove,this),this.pressUpBound=this.parent.on("pointerup",this.handlePressUp,this)):(this.parent.off("mousedown",this.mouseDownBound),this.parent.off("pressmove",this.pressMoveBound),this.parent.off("pressup",this.pressUpBound))}},{key:"emitButtonClicked",value:function(t){this.emit("selected",t.currentTarget.levelValue)}},{key:"deactivateSelectors",value:function(){this.children.forEach((function(t){t.interactiveChildren&&(t.removeFocus(),t.interactiveChildren=!1)}))}},{key:"activateSelector",value:function(){this.currentSelector.interactiveChildren||(this.currentSelector.setFocus(),this.currentSelector.interactiveChildren=!0)}},{key:"handleMouseDown",value:function(t){this.grabbed=!0,this.previousPoint=t.data.getLocalPosition(this),this.startPoint=this.previousPoint}},{key:"handlePressMove",value:function(t){if(this.grabbed){var e=t.data.getLocalPosition(this);Object(Ct.a)(this.startPoint,e)>20&&this.deactivateSelectors(),this.previousPoint&&(this.velocityX+=(this.previousPoint.x-e.x)*this.speed),this.previousPoint=e}}},{key:"handlePressUp",value:function(t){this.previousPoint=null,this.grabbed=!1,this.setVelocityToClosest(),this.emit("release")}},{key:"setVelocityToClosest",value:function(){var t=this.childWidth+this.spacing,e=Math.round(this.velocityX/t);this.velocityX=t*e}},{key:"setVelocity",value:function(t){switch(this.velocityX=t,this.setVelocityToClosest(),this.pivot.x=this.velocityX,t){case 0:this.currentSelector=this.library;break;case this.childWidth+this.spacing:this.currentSelector=this.cafeteria;break;case 2*(this.childWidth+this.spacing):this.currentSelector=this.hallway}}},{key:"setSelector",value:function(){for(var t=this.maxWidth,e=null,n=new PIXI.Point(Nl.width/2,Nl.height/2),o=new PIXI.Point,i=0;i<this.children.length;i++){var r=this.children[i];o.x=r.x,o.y=r.y,this.toGlobal(o,this.point);var a=Object(Ct.a)(n,this.point);a<t&&(t=a,e=r)}this.currentSelector!==e&&(this.deactivateSelectors(),this.emit("newSelector")),this.currentSelector=e,this.activateSelector()}},{key:"moveLeft",value:function(){this.velocityX-=this.childWidth}},{key:"moveRight",value:function(){this.velocityX+=this.childWidth}},{key:"getVelocityIndex",value:function(){return Math.floor(this.velocityX/this.childWidth)}},{key:"update",value:function(t){this.pivot.x=Object(Ct.b)(this.pivot.x,this.velocityX,5*t);for(var e=Nl.width/2,n=0;n<this.children.length;n++){var o=this.children[n];this.toGlobal(new PIXI.Point(o.x,o.y),this.point),this.point.x<0-this.childWidth/2+40?o.x+=this.maxWidth:this.point.x>Nl.maxWidth+this.childWidth/2-40&&(o.x-=this.maxWidth);var i=void 0;i=this.point.x<e?Object(Ct.d)(this.point.x,e-this.childWidth,e,this.minScale,this.maxScale):Object(Ct.d)(this.point.x,e+this.childWidth,e,this.minScale,this.maxScale);var r=Object(Ct.c)(i,this.minScale,this.maxScale);o.scale.set(r,r),this.point.x<e-200?o.content.alpha=Object(Ct.d)(this.point.x,.05*Nl.maxWidth,e-200,0,1):this.point.x>e+200?o.content.alpha=Object(Ct.d)(this.point.x,e+200,.95*Nl.maxWidth,1,0):o.content.alpha=1,o.content.alpha=Object(Ct.c)(o.content.alpha,0,1)}this.setSelector()}}])&&Nt(n.prototype,o),i&&Nt(n,i),e}();function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Zt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Jt(this,t),this.callback=e,this.maxTime=n,this.idleTime=this.maxTime,this.ready=!1}var e,n,o;return e=t,(n=[{key:"setCallback",value:function(t){this.callback=t}},{key:"start",value:function(){this.ready=!0}},{key:"stop",value:function(){this.ready=!1}},{key:"reset",value:function(){this.idleTime=this.maxTime}},{key:"clear",value:function(){this.callback=null}},{key:"update",value:function(t){this.ready&&this.callback&&(this.idleTime-=t,this.idleTime<=0&&(this.reset(),this.callback()))}}])&&Ut(e.prototype,n),o&&Ut(e,o),t}();function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $t(t,e){return!e||"object"!==qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ne=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Kt(this,e),(n=$t(this,te(e).call(this,t))).timeScale=o/60,n.state.timeScale=n.timeScale,n.animationChain=[],n.allowIdle=i,n.stateData.defaultMix=.5,n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(e,PIXI.spine.Spine),n=e,(o=[{key:"setActive",value:function(t){t?this.state.addListener({event:this.handleEvent.bind(this),complete:this.handleComplete.bind(this),start:this.handleStart.bind(this),end:this.handleEnd.bind(this),dispose:this.handleDispose.bind(this),interrupted:this.handleInterrupted.bind(this)}):this.state.clearListeners()}},{key:"handleEvent",value:function(t,e){this.currentAnimation===e.data.name&&Fl.play(e.data.name),this.emit("event",t,e)}},{key:"handleComplete",value:function(t){if(this.animationChain.length>0){var e=this.animationChain.shift();this.play(e,!1)}else this.allowIdle&&this.randomIdle();this.emit("complete",t)}},{key:"handleStart",value:function(t){this.emit("start",t)}},{key:"handleEnd",value:function(t){this.emit("end",t)}},{key:"handleDispose",value:function(t){this.emit("dispose",t)}},{key:"handleInterrupted",value:function(t){this.emit("interrupted",t)}},{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.currentAnimation=t,this.state.setAnimation(n,t,e)}},{key:"talk",value:function(t){if(Array.isArray(t)){this.animationChain=t;var e=this.animationChain.shift();this.play(e,!1)}else this.play(t,!1)}},{key:"pause",value:function(){this.state.timeScale=0}},{key:"resume",value:function(){this.state.timeScale=this.timeScale}},{key:"randomIdle",value:function(){Math.random()<.3?this.play("idleBlink"):this.play("idle")}}])&&Qt(n.prototype,o),i&&Qt(n,i),e}();function oe(t){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function re(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ae(t,e){return!e||"object"!==oe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function se(t,e,n){return(se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=le(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ue=function(t){function e(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return ie(this,e),(o=ae(this,le(e).call(this,t,n))).lines=new J(i,!1),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(e,t),n=e,(o=[{key:"setActive",value:function(t){se(le(e.prototype),"setActive",this).call(this,t),this.interactive=t,t?this.on("pointertap",this.randomTalk,this):this.removeAllListeners()}},{key:"handleComplete",value:function(t){t.animation.name===this.currentAnimation&&(this.randomIdle(),se(le(e.prototype),"handleComplete",this).call(this,t))}},{key:"randomTalk",value:function(){this.talk(this.lines.getNext())}},{key:"randomIdle",value:function(){var t=Math.random();t<.1?this.play("wave"):t<.3?this.play("idleBlink"):this.play("idle"),this.state.update(0),this.state.apply(this.skeleton)}}])&&re(n.prototype,o),i&&re(n,i),e}(ne);function he(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=210,o=160,i=new PIXI.Point(1.2,1.2),r=new PIXI.Point(.9,.9),a=cjs.Tween.get(t.scale),s=0;s<e;s++)a.to(i,n),a.to(r,o);return a.to({x:1,y:1},o),a}function pe(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=cjs.Tween.get(t),o={angle:-5},i={angle:5},r=150,a=cjs.Ease.cubicInOut,s=0;s<e;s++)n.to(o,r,a),n.to(i,r,a);return n.to({angle:0},r,a),n}function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ye(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function me(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var be=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=de(e).call(this))||"object"!==fe(o)&&"function"!=typeof o?me(n):o).name="Level Select Scene",t.interactive=!0,t.currentHamster=null,t.idlePrompter=new Zt(t.playIdleVO.bind(me(t)),15),t.idleResponses=new J(["picker-3","picker-4"],!0),t}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(e,t),n=e,(i=[{key:"preload",value:function(){if(U.loading.LevelSelect)return Promise.resolve();U.loading.LevelSelect=!0;var t=PIXI.Loader.shared;return t.add(o.LevelSelect),new Promise((function(e){t.load(e)}))}},{key:"build",value:function(){var t=new PIXI.Sprite(PIXI.utils.TextureCache.LevelSelectBG);t.name="Background",t.anchor.set(.5),this.bg=t,this.ui=new PIXI.Container,this.ui.name="UI",this.leftBtn=new lt("left-arrow"),this.leftBtn.position.set(0,0),this.leftBtn.anchor.set(0,.5),this.rightBtn=new lt("right-arrow"),this.rightBtn.position.set(0,0),this.rightBtn.anchor.set(1,.5),this.setDynamicButtons(),this.freePlayBtn=new lt("freeplay-btn"),this.freePlayBtn.position.set(-382,261),this.pulsingRings=new dt(this.freePlayBtn.getLocalBounds().width/2+10),this.pulsingRings.position.set(this.freePlayBtn.x,this.freePlayBtn.y),this.pulsingRings.play(),this.alertIcon=new PIXI.Sprite(PIXI.utils.TextureCache["alert-duck.png"]),this.alertIcon.anchor.set(.5),this.alertIcon.position.set(-445,202),this.alertIcon.angle=-5,this.alertIcon.visible=JSON.parse(localStorage.getItem("hasNewToy"))?1:0,this.alertIcon.visible&&cjs.Tween.get(this.alertIcon,{loop:-1}).to({angle:5},300,cjs.Ease.cubicInOut).to({angle:-5},300,cjs.Ease.cubicInOut),this.carousel=new zt,this.ui.addChild(this.leftBtn,this.rightBtn,this.pulsingRings,this.freePlayBtn,this.alertIcon),this.addChild(t,this.carousel,this.ui),this.carousel.setVelocity(U.velocityX),Wl.instance&&"GameMusic"!==Wl.instanceName||Wl.play("MenuMusic",U.musicVolume),this.sadie=new ue(PIXI.Loader.shared.resources.MenuSadie.spineData,void 0,["picker-15","picker-18"]),this.sadie.interactive=!0,this.sadie.position.set(291,426),this.sadie.onScreenPosition=new PIXI.Point(this.sadie.position.x,this.sadie.position.y),this.sadie.position.y+=this.sadie.getLocalBounds().height,this.sadie.setActive(!0),this.sadie.randomIdle(),this.addChild(this.sadie),this.tasha=new ue(PIXI.Loader.shared.resources.MenuTasha.spineData,void 0,["picker-13","picker-16"]),this.tasha.interactive=!0,this.tasha.position.set(308,452),this.tasha.onScreenPosition=new PIXI.Point(this.tasha.position.x,this.tasha.position.y),this.tasha.position.y+=this.tasha.getLocalBounds().height,this.tasha.setActive(!0),this.tasha.randomIdle(),this.addChild(this.tasha),this.mateo=new ue(PIXI.Loader.shared.resources.MenuMateo.spineData,void 0,["picker-14","picker-17"]),this.mateo.interactive=!0,this.mateo.position.set(306,455),this.mateo.onScreenPosition=new PIXI.Point(this.mateo.position.x,this.mateo.position.y),this.mateo.position.y+=this.mateo.getLocalBounds().height,this.mateo.setActive(!0),this.mateo.randomIdle(),this.addChild(this.mateo),this.setHamsterFromCurrentLevel(),this.currentHamster.position.set(this.currentHamster.onScreenPosition.x,this.currentHamster.onScreenPosition.y),this.ready=!0}},{key:"setHamsterFromCurrentLevel",value:function(){switch(this.carousel.currentSelector.area){case"library":this.currentHamster=this.sadie;break;case"hallway":this.currentHamster=this.tasha;break;case"cafeteria":this.currentHamster=this.mateo}}},{key:"changeHamster",value:function(){this.transitioning||this.hideShowHamster()}},{key:"hideShowHamster",value:function(){var t=this;this.hideHamster().call((function(e){t.showHamster()}))}},{key:"hideHamster",value:function(){return this.leftBtn.interactive=!1,this.rightBtn.interactive=!1,cjs.Tween.get(this.currentHamster,{override:!0}).to({y:this.currentHamster.onScreenPosition.y+this.currentHamster.getLocalBounds().height},300,cjs.Ease.cubicInOut)}},{key:"showHamster",value:function(){var t=this;return this.setHamsterFromCurrentLevel(),cjs.Tween.get(this.currentHamster,{override:!0}).wait(200).to({y:this.currentHamster.onScreenPosition.y},300,cjs.Ease.cubicInOut).call((function(e){t.leftBtn.interactive=!0,t.rightBtn.interactive=!0,t.transitioning=!1,t.currentHamster.talk(t.getAnimationForCurrentHamster("picker-11","picker-12","picker-10"))}))}},{key:"setActive",value:function(t){this.leftBtn.setActive(t),this.rightBtn.setActive(t),this.freePlayBtn.setActive(t),this.carousel.setActive(t),t?(this.freePlayBtn.on("pointertap",this.handleFreeplayClicked,this),this.carousel.on("newSelector",this.changeHamster,this),this.carousel.on("selected",this.handleButtonSelected,this),this.leftBtn.on("pointertap",this.handleArrowClick,this),this.rightBtn.on("pointertap",this.handleArrowClick,this),this.leftBtn.on("pointertap",this.carousel.moveLeft,this.carousel),this.rightBtn.on("pointertap",this.carousel.moveRight,this.carousel),this.leftBtn.on("pointertap",this.hideShowHamster,this),this.rightBtn.on("pointertap",this.hideShowHamster,this),this.on("pointerdown",this.stopIdlePrompter,this),this.on("pointerup",this.startIdlePrompter,this)):(this.removeAllListeners(),this.freePlayBtn.removeAllListeners(),this.leftBtn.removeAllListeners(),this.rightBtn.removeAllListeners(),this.carousel.removeAllListeners(),this.removeAllListeners())}},{key:"start",value:function(){var t=this;JSON.parse(localStorage.getItem("completedLibrary"))&&JSON.parse(localStorage.getItem("completedCafeteria"))&&JSON.parse(localStorage.getItem("completedHallway"))&&!JSON.parse(localStorage.getItem("heardComplete30Levels"))?(localStorage.setItem("heardComplete30Levels",JSON.stringify(!0)),this.currentHamster.talk(this.getAnimationForCurrentHamster("picker-24","picker-23","picker-22"))):U.returnedFromLevel10?(U.returnedFromLevel10=!1,he(this.leftBtn,6),he(this.rightBtn,6),this.currentHamster.talk(this.getAnimationForCurrentHamster("picker-5b","picker-5","picker-5c"))):U.heardPicker1?!U.heardPicker2&&this.alertIcon.visible?(U.heardPicker2=!0,he(this.freePlayBtn),this.currentHamster.talk(this.getAnimationForCurrentHamster("picker-8","picker-7","picker-2"))):this.currentHamster.talk(this.getAnimationForCurrentHamster("picker-21","picker-20","picker-19")):(U.heardPicker1=!0,this.currentHamster.talk(this.getAnimationForCurrentHamster("picker-1c","picker-1b","picker-1")),cjs.Tween.get(this).wait(3e3).call((function(e){he(t.carousel.currentSelector.lastButton,6)}))),this.idlePrompter.start()}},{key:"handleArrowClick",value:function(t){t.data.isPrimary&&(this.transitioning=!0,Gl.play("molly_tap",U.mollyTapVolume),Gl.play("99whoosh_short"))}},{key:"setButtons",value:function(t){switch(t){case"farLeft":this.leftBtn.visible=!1,this.rightBtn.visible=!0;break;case"middle":this.leftBtn.visible=!0,this.rightBtn.visible=!0;break;case"farRight":this.leftBtn.visible=!0,this.rightBtn.visible=!1}}},{key:"handleFreeplayClicked",value:function(t){t.data.isPrimary&&(Gl.play("bwoop"),U.velocityX=this.getVelocityFromCarousel(),Ml.gotoScene("Freeplay"))}},{key:"handleButtonSelected",value:function(t){Gl.play("bwoop"),U.selectedLevel=t,U.velocityX=this.getVelocityFromCarousel(),Ml.gotoScene("Game")}},{key:"getVelocityFromCarousel",value:function(){var t=0;return this.carousel.currentSelector===this.carousel.library&&(t=0),this.carousel.currentSelector===this.carousel.cafeteria&&(t=this.carousel.childWidth+this.carousel.spacing),this.carousel.currentSelector===this.carousel.hallway&&(t=2*(this.carousel.childWidth+this.carousel.spacing)),t}},{key:"resize",value:function(t,e){this.setDynamicButtons()}},{key:"setDynamicButtons",value:function(){var t=Nl.width,e=Object(Ct.d)(t,Nl.safeWidth,Nl.maxWidth,60,0);this.leftBtn.x=Object(Ct.c)(-Nl.width/2,-Nl.maxWidth/2,-Nl.safeWidth/2)-e,this.rightBtn.x=Object(Ct.c)(Nl.width/2,Nl.safeWidth/2,Nl.maxWidth/2)+e}},{key:"stopIdlePrompter",value:function(){this.idlePrompter.stop(),this.idlePrompter.reset()}},{key:"startIdlePrompter",value:function(){this.idlePrompter.start()}},{key:"playIdleVO",value:function(){var t=this.idleResponses.getNext();switch(t){case"picker-3":t=this.getAnimationForCurrentHamster("picker-9","picker-6","picker-3");break;case"picker-4":t=this.getAnimationForCurrentHamster("picker-4c","picker-4b","picker-4")}he(this.leftBtn),he(this.rightBtn),this.currentHamster.talk(t)}},{key:"update",value:function(t){this.ready&&this.idlePrompter.update(t)}},{key:"getAnimationForCurrentHamster",value:function(t,e,n){var o;switch(this.currentHamster){case this.sadie:o=t;break;case this.mateo:o=e;break;case this.tasha:o=n}return o}}])&&ye(n.prototype,i),r&&ye(n,r),e}(et);function ve(t){return t*b2Scale}function we(t){return t/b2Scale}function xe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=new b2.b2FixtureDef;r.shape=new b2.b2CircleShape(we(e));var a=new b2.b2BodyDef,s=t.CreateBody(a);s.CreateFixture(r);var l=new b2.b2Vec2(we(n),we(o));return s.SetTransform(l,i),s}function ke(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.fixtures,i=new b2.b2BodyDef;i.allowSleep=void 0===n.allowSleep||n.allowSleep;var r=t.CreateBody(i);r.SetType(void 0!==n.bodyType?n.bodyType:b2.b2BodyType.b2_dynamicBody);for(var a=0,s=o.length;a<s;a++){var l=o[a],c=new b2.b2FixtureDef;if(c.density=l.density,c.friction=l.friction,c.restitution=l.restitution,c.filter.categoryBits=l.categoryBits,c.filter.maskBits=l.maskBits,c.filter.groupIndex=l.groupIndex,c.isSensor=l.isSensor,l.userData&&(c.userData=l.userData),"POLYGON"===l.fixtureType)for(var u=l.polygons,h=0,p=u.length;h<p;h++){for(var f=[],y=u[h].length,d=0;d<y;d++)f.push(new b2.b2Vec2(u[h][d][0]/b2Scale,u[h][d][1]/b2Scale));var m=new b2.b2PolygonShape;m.Set(f,f.length),c.shape=m,r.CreateFixture(c)}else if("CIRCLE"===l.fixtureType){var g=new b2.b2CircleShape(l.radius/b2Scale);g.m_p=new b2.b2Vec2(l.center[0]/b2Scale,l.center[1]/b2Scale),c.shape=g,r.CreateFixture(c)}}return r}function Se(t,e){var n=t.getBounds(),o=e.getBounds();return n.x+n.width>o.x&&n.x<o.x+o.width&&n.y+n.height>o.y&&n.y<o.y+o.height}window.b2Scale=30;function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Te(t,e){return!e||"object"!==Pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Be=function(t){function e(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:256,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,211,255],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.5;return Oe(this,e),(o=Te(this,Ce(e).call(this))).world=t,o.createSystem(i,r),o.createPool(n,r),o.addShader(a,s),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(e,PIXI.Container),n=e,(o=[{key:"createSystem",value:function(t,e){this.particleSystem=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new b2.b2ParticleSystemDef;return n.radius=we(e),t.CreateParticleSystem(n)}(this.world,t),e<256&&(this.particleSystem.m_internalAllocatedCapacity=e),this.particleSystem.SetMaxParticleCount(e),this.particleSystem.SetDestructionByAge(!0)}},{key:"createPool",value:function(t,e){for(var n=0;n<e;n++){var o=PIXI.utils.TextureCache[t+".png"],i=new PIXI.Sprite(o);i.anchor.set(.5),i.visible=!1,this.addChild(i)}}},{key:"addShader",value:function(t,e){var n=PIXI.Program.defaultVertexSrc,o=new Float32Array(3);o[0]=t[0]/255,o[1]=t[1]/255,o[2]=t[2]/255;var i={threshold:e,color:o},r=new PIXI.Filter(n,"\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float threshold;\nuniform vec3 color;\n\nvoid main(void)\n{\n    vec4 texColor = texture2D(uSampler, vTextureCoord);    \n    if (texColor.a > threshold) {\n        gl_FragColor = vec4(color.r, color.g, color.b, 1.0);       \n    } else {\n        gl_FragColor = vec4(vec3(0.0), 0.0);\n    }\n}\n",i);this.filters=[r]}},{key:"update",value:function(t){for(var e=this.particleSystem.GetPositionBuffer(),n=this.particleSystem.GetParticleCount(),o=Nl.maxHeight/2,i=0;i<n;i++){var r=this.children[i],a=e[i],s=ve(a.x),l=ve(a.y);r.position.set(s,l),l>=o?(this.emit("particleOffscreen"),this.particleSystem.DestroyParticle(i),r.visible=!1):r.visible=!0}if(n<this.children.length)for(var c=this.children.length,u=n;u<c;u++)this.children[u].visible=!1}},{key:"createWaterDrop",value:function(t,e){var n=this.toLocal(t,e);return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=new b2.b2ParticleDef;return o.flags=b2.b2ParticleFlag.b2_fixtureContactFilterParticle,o.position.Set(we(e),we(n)),t.CreateParticle(o)}(this.particleSystem,n.x+Object(Ct.e)(-2,2),n.y)}}])&&Ie(n.prototype,o),i&&Ie(n,i),e}();function _e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ee(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Le=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new PIXI.Point,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;_e(this,t),this.parent=e,this.waterSystem=n,this.spawnRate=o,this.maxSpawnRate=o,this.spawnPoint=i,this.forceAngle=Object(Ct.f)(r),this.forceSpeed=a,this.ready=!1}var e,n,o;return e=t,(n=[{key:"play",value:function(){this.ready=!0,this.spawnRate=this.maxSpawnRate}},{key:"resume",value:function(){this.ready=!0}},{key:"stop",value:function(){this.ready=!1}},{key:"pause",value:function(){this.ready=!1}},{key:"updateSpawnPoint",value:function(t,e){this.spawnPoint.set(t,e)}},{key:"updateSpawnRate",value:function(t){this.maxSpawnRate=t}},{key:"updateForceAngle",value:function(t){this.forceAngle=t}},{key:"spawn",value:function(){if(Array.isArray(this.spawnPoint))for(var t=0,e=this.spawnPoint.length;t<e;t++)this.createDrop(this.spawnPoint[t]);else this.createDrop(this.spawnPoint)}},{key:"createDrop",value:function(t){var e=this.waterSystem.createWaterDrop(t,this.parent);this.handleParticle(e)}},{key:"handleParticle",value:function(t){var e=Math.cos(this.forceAngle+this.parent.rotation)*this.forceSpeed,n=Math.sin(this.forceAngle+this.parent.rotation)*this.forceSpeed;this.waterSystem.particleSystem.ParticleApplyForce(t,new b2.b2Vec2(e,n))}},{key:"update",value:function(t){if(this.ready)for(this.spawnRate-=t;this.spawnRate<=0;)this.spawnRate+=this.maxSpawnRate,this.spawn()}}])&&Ee(e.prototype,n),o&&Ee(e,o),t}();function Re(t){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ae(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function De(t,e){return!e||"object"!==Re(e)&&"function"!=typeof e?Ge(t):e}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var We=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.045,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400;return Xe(this,e),(n=De(this,He(e).call(this))).waterSystem=t,n.waterEmitter=new Le(Ge(n),n.waterSystem,o,new PIXI.Point,i,r),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(e,PIXI.Container),n=e,(o=[{key:"stop",value:function(){this.waterEmitter.stop()}},{key:"play",value:function(){this.waterEmitter.play()}},{key:"update",value:function(t){this.waterEmitter.update(t)}}])&&Ae(n.prototype,o),i&&Ae(n,i),e}();function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ve(t,e){return!e||"object"!==Ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ye(t){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Je=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.03;Me(this,e),(n=Ve(this,Ye(e).call(this,t,o,90,ve(3.1)))).name="Patch",n.zIndex=0,n.display=new PIXI.Sprite(PIXI.utils.TextureCache["patch.png"]);var i=n.display.getBounds();return n.display.anchor.set(40/i.width,25/i.height),n.addChild(n.display),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(e,t),e}(We),Ue=n(142);function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ke(t,e){return!e||"object"!==Ze(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tn=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ke(this,Qe(e).call(this,PIXI.utils.TextureCache["star.png"]))).name="Star",t.anchor.set(.5),t.maxRotationSpeed=3,t.rotationSpeed=0,t.active=!1,t.alpha=.5,t.tween=null,t.complete=!1,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(e,PIXI.Sprite),n=e,(o=[{key:"activate",value:function(){this.active||this.complete||(this.texture=PIXI.utils.TextureCache["star-highlighted.png"],this.active=!0,this.clearDeactivate(),this.rotationSpeed=this.maxRotationSpeed,this.alpha=1,this.filters=[new Ue.a({color:16249473})])}},{key:"clearDeactivate",value:function(){cjs.Tween.removeTweens(this),this.tween=null}},{key:"deactivate",value:function(){var t=this;!this.active||this.tween||this.complete||(this.tween=cjs.Tween.get(this).wait(500).call((function(e){t._deactivate()})))}},{key:"_deactivate",value:function(){this.texture=PIXI.utils.TextureCache["star.png"],this.active=!1,this.rotationSpeed=0,this.alpha=.5,this.filters=[]}},{key:"update",value:function(t){this.rotation+=this.rotationSpeed*t}},{key:"setComplete",value:function(){this.clearDeactivate(),this.complete=!0}},{key:"reset",value:function(){this.complete=!1,this._deactivate()}}])&&qe(n.prototype,o),i&&qe(n,i),e}();function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){return!e||"object"!==en(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rn(t,e){return(rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var an=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=nn(this,on(e).call(this,PIXI.utils.TextureCache[t+".png"]))).name="Hamster",n.anchor.set(.5),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}(e,PIXI.Sprite),e}(),sn=n(29);function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function un(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hn(t,e){return!e||"object"!==ln(e)&&"function"!=typeof e?fn(t):e}function pn(t){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yn(t,e){return(yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dn=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;return cn(this,e),(t=hn(this,pn(e).call(this))).name="Particle Container Emitter",t.interactive=!0,t.emitter=new PIXI.particles.Emitter(fn(t),n,o),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yn(t,e)}(e,PIXI.Container),n=e,(o=[{key:"start",value:function(){this.emitter.emit=!0}},{key:"stop",value:function(){this.emitter.emit=!1}},{key:"updatePosition",value:function(t,e){this.emitter.updateSpawnPos(t,e)}},{key:"update",value:function(t){this.emitter.update(t)}}])&&un(n.prototype,o),i&&un(n,i),e}();function mn(t){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bn(t,e){return!e||"object"!==mn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vn(t){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wn(t,e){return(wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xn=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=bn(this,vn(e).call(this,PIXI.utils.TextureCache[t]))).name="Unlock Star",n.anchor.set(.5),n.scale.set(0);var o=[PIXI.utils.TextureCache["particle-star.png"],PIXI.utils.TextureCache["particle-star-white.png"]];return sn.spawnType="point",sn.spawnRect=null,n.emitter=new dn(o,sn),n.emitter.stop(),n.addChild(n.emitter),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wn(t,e)}(e,PIXI.Sprite),n=e,(o=[{key:"animate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.reset(),cjs.Tween.get(this.scale).wait(t).call(this.emitter.start,null,this.emitter).to({x:1,y:1},500,cjs.Ease.getElasticOut(1,.4))}},{key:"reset",value:function(){this.scale.set(0)}},{key:"cleanup",value:function(){this.emitter.emitter.destroy(),this.emitter=null}}])&&gn(n.prototype,o),i&&gn(n,i),e}(),kn=n(137);function Sn(t){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function On(t){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tn(t,e){return(Tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cn=function(t){function e(){var t,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=On(e).call(this))||"object"!==Sn(o)&&"function"!=typeof o?In(n):o).name="Complete Panel",t.stars=[],t.idlePrompter=new Zt(t.playIdleVO.bind(In(t)),20);var r=new PIXI.Sprite(PIXI.utils.TextureCache["panel-bg.png"]);r.name="Panel BG",r.anchor.set(.5),r.position.x=5;var a=U.selectedLevel;(a=a.split("-"))[0]=a[0].toUpperCase(),a=a[0]+"  "+a[1]+" / 10";var s=new PIXI.Text(a,{fontFamily:"Poppins-Black",fontSize:30,fill:16777215});s.position.set(0,-125),s.anchor.set(.5),t.goodJobText=new PIXI.Text(U.completeText.getCurrent(),{fontFamily:"Poppins-Black",fontSize:68,fill:16777215}),t.goodJobText.position.set(5,-65),t.goodJobText.anchor.set(.5),t.replayButton=new lt("replay-btn"),t.replayButton.position.set(-211,172),t.nextBtn=new lt("next-btn"),t.nextBtn.position.set(223,172),t.toy=new PIXI.Sprite(PIXI.utils.TextureCache[i[U.selectedLevel].unlockable+".png"]),t.toy.anchor.set(.5),t.toy.position.set(0,100),t.toy.alpha=.5,t.toy.once("pointerup",(function(){Gl.play("molly_tap",U.mollyTapVolume),Ml.gotoScene("Freeplay")}));var l=t.toy.getLocalBounds();if(l.width>l.height){var c=150/l.width;t.toy.width=150,t.toy.height*=c}else{var u=150/l.height;t.toy.height=150,t.toy.width*=u}t.lock=new PIXI.Sprite(PIXI.utils.TextureCache["toy-lock.png"]),t.lock.name="Lock",t.lock.anchor.set(.5),t.lock.position.set(0,100);var h=[PIXI.utils.TextureCache["particle-circle-1.png"],PIXI.utils.TextureCache["particle-circle-2.png"],PIXI.utils.TextureCache["particle-circle-3.png"],PIXI.utils.TextureCache["particle-circle-4.png"],PIXI.utils.TextureCache["particle-diamond-1.png"],PIXI.utils.TextureCache["particle-diamond-2.png"],PIXI.utils.TextureCache["particle-diamond-3.png"],PIXI.utils.TextureCache["particle-diamond-4.png"],PIXI.utils.TextureCache["particle-squiggle-1.png"],PIXI.utils.TextureCache["particle-squiggle-2.png"],PIXI.utils.TextureCache["particle-squiggle-3.png"],PIXI.utils.TextureCache["particle-triangle-1.png"],PIXI.utils.TextureCache["particle-triangle-2.png"],PIXI.utils.TextureCache["particle-triangle-3.png"]];t.emitter=new dn(h,kn),t.emitter.position.set(t.toy.position.x,t.toy.position.y),t.emitter.stop(),t.addChild(r,s,t.goodJobText,t.replayButton,t.nextBtn,t.toy,t.lock,t.emitter);for(var p=[{x:-126,y:-210},{x:0,y:-218},{x:134,y:-210}],f=p.length,y=0;y<f;y++){var d=new xn(1===y?"star-large.png":"star-small.png");d.position.set(p[y].x,p[y].y),t.addChild(d),t.stars.push(d)}return t.position.y=Nl.maxHeight,t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tn(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setActive",value:function(t){this.replayButton.setActive(t),this.nextBtn.setActive(t),t?(this.replayButton.on("pointertap",this.handleClick,this),this.nextBtn.on("pointertap",this.handleClick,this)):(this.replayButton.removeAllListeners(),this.nextBtn.removeAllListeners())}},{key:"handleClick",value:function(t){if(t.data.isPrimary)switch(cjs.Tween.removeAllTweens(),Fl.stop(),Vl.stop(),t.currentTarget){case this.replayButton:this.emit("replay");break;case this.nextBtn:this.emit("next")}}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return cjs.Tween.get(this).wait(e).call((function(e){t.emit("show")})).to({y:10},1e3,cjs.Ease.cubicInOut).call((function(e){t.setActive(!0),t.idlePrompter.reset(),t.idlePrompter.start()}))}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.setActive(!1),this.idlePrompter.stop(),cjs.Tween.get(this).wait(e).call((function(e){t.emit("hide")})).to({y:Nl.maxHeight},1e3,cjs.Ease.cubicInOut)}},{key:"resetStars",value:function(){this.stars.forEach((function(t){t.reset()}))}},{key:"_playSFX",value:function(t){Wl.fadeOutMusic(),1===t||2===t?Gl.play("Fanfare2",.2):Gl.play("Fanfare1",.2),Gl.once("complete",(function(t){Wl.fadeInMusic()}))}},{key:"animatePanelWithStars",value:function(t,e,n){this.setup(t,e,n),this.show(1e3).call(this.animateStars,[t,e],this)}},{key:"setup",value:function(t,e,n){var o=U.niceJobPrompts.getNext();if("encourage-1"===n&&"nicejob-5"===o&&(o=U.niceJobPrompts.getNext()),"encourage-7"===n)for(;"nicejob-5"===o||"nicejob-6"===o;)o=U.niceJobPrompts.getNext();"encourage-6"===n&&"nicejob-6"===o&&(o=U.niceJobPrompts.getNext()),this.goodJobVO=o;var i="";switch(o){case"nicejob-5":i="Nice!";break;case"nicejob-6":i="Great!";break;case"nicejob-7":i="Qu increble!";break;case"nicejob-8":i="Awesome!";break;case"nicejob-9":i="Creative!";break;case"encourage-4":i="Awesome!";break;case"encourage-8":i="Teamwork!";break;default:i=U.completeText.getNext()}var r=U.selectedLevel.split("-")[1];1===parseInt(r)&&(1===t?i="Try Again!":2===t?i="Yes!":3===t&&(i="Alright!")),this.goodJobText.text=i;var a=this.goodJobText.getLocalBounds().width;a>550?this.goodJobText.scale.set(550/a):this.goodJobText.scale.set(1),this.goodJobText.anchor.set(.5),e&&(this.lock.visible=!1,this.toy.alpha=1,this.toy.interactive=!0,this.toy.buttonMode=!0)}},{key:"animateStars",value:function(t,e){for(var n=0;n<t;n++){var o=500*n;this.stars[n].animate(o)}this._playSFX(t);var i,r=U.selectedLevel.split("-")[1];1===parseInt(r)&&(1===t?i=Fl.play("nicejob-2"):2===t?i=Fl.play("nicejob-3"):3===t&&(i=Fl.play("nicejob-4"))),i?cjs.Tween.get(this).wait(1e3*i.duration).call(this.animateToy,[t,e],this):this.animateToy(t,e)}},{key:"animateToy",value:function(t,e){var n=this,o=this.goodJobVO;if(e||3!==t)this.idlePrompter.reset(),Fl.play(o);else{if(JSON.parse(localStorage.getItem("heardUnlock1")))Fl.play(o);else{localStorage.setItem("heardUnlock1",JSON.stringify(!0));var i=U.selectedLevel.split("-"),r=parseInt(i[1]);1!=r&&"1"!=r||Fl.once("complete",this.playIdleVO.bind(this)),Fl.play(["unlock-1","unlock-2"])}var a={x:this.toy.scale.x,y:this.toy.scale.y},s={x:this.toy.scale.x+.2,y:this.toy.scale.y+.2};cjs.Tween.get(this.toy.scale).wait(500).to(s,300,cjs.Ease.backOut).wait(500).to(a,300,cjs.Ease.backIn),cjs.Tween.get(this.toy).wait(500).to({alpha:1},500).to({angle:5},50).to({angle:0},50).to({angle:-5},50).to({angle:0},50).to({angle:5},50).to({angle:0},50).to({angle:-5},50).to({angle:0},50).to({angle:5},50).to({angle:0},50).call((function(t){n.toy.interactive=!0,n.toy.buttonMode=!0})),cjs.Tween.get(this.lock.scale).to({x:0,y:0},500,cjs.Ease.backIn),cjs.Tween.get(this.lock).to({alpha:0},500),cjs.Tween.get(this.emitter).wait(500).call((function(t){n.idlePrompter.reset(),n.emitter.start(),Gl.play("unlock-item",.2)}))}}},{key:"playIdleVO",value:function(){this.idlePrompter.reset(),Fl.play(["nicejob-12","nicejob-13"]),this.emit("idle")}},{key:"update",value:function(t){this.idlePrompter.update(t)}},{key:"cleanup",value:function(){this.emitter.emitter.destroy(),this.emitter=null,this.stars.forEach((function(t){t.cleanup()}))}}])&&Pn(n.prototype,o),r&&Pn(n,r),e}();function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _n(t,e){return!e||"object"!==jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function En(t){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ln(t,e){return(Ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rn=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=_n(this,En(e).call(this))).name="White Overlay",t.beginFill(12903648),t.drawRect(-Nl.maxWidth/2,-Nl.maxHeight/2,Nl.maxWidth,Nl.maxHeight),t.alpha=0,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ln(t,e)}(e,PIXI.Graphics),n=e,(o=[{key:"show",value:function(){return cjs.Tween.get(this).to({alpha:.8},1e3)}},{key:"hide",value:function(){return cjs.Tween.get(this).to({alpha:0},1e3)}}])&&Bn(n.prototype,o),i&&Bn(n,i),e}();function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function An(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Dn(t){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gn(t,e){return(Gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fn=function(t){function e(t,n,o){var i,r,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(i=!(a=Dn(e).call(this))||"object"!==Xn(a)&&"function"!=typeof a?Hn(r):a).scene=t,i.dragObjects=[],i.selected=null,i.isClickStick=!1,i.startPos=new PIXI.Point,i.pixelDistance=20,i.startCallback=n,i.endCallback=o,i.pointerMoveBound=i.handlePointerMove.bind(Hn(i)),i.pointerDownBound=i.handlePointerDown.bind(Hn(i)),i.pointerUpBound=i.handlePointerUp.bind(Hn(i)),i}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gn(t,e)}(e,PIXI.utils.EventEmitter),n=e,(o=[{key:"setActive",value:function(t){var e=this;this.scene.interactive=t,t?(this.scene.on("pointermove",this.pointerMoveBound),this.scene.on("pointerup",this.pointerUpBound),this.dragObjects.forEach((function(t){e.addEventsToObject(t)}))):(this.scene.off("pointermove",this.pointerMoveBound),this.scene.off("pointerup",this.pointerUpBound),this.dragObjects.forEach((function(t){e.removeEventsFromObject(t)})))}},{key:"addEventsToObject",value:function(t){t.interactive=!0,t.buttonMode=!0,t.on("pointerdown",this.pointerDownBound)}},{key:"removeEventsFromObject",value:function(t){t.interactive=!1,t.buttonMode=!1,t.off("pointerdown",this.pointerDownBound)}},{key:"handlePointerDown",value:function(t){if(t.data.isPrimary&&!this.selected){this.selected=t.currentTarget,this.selected.onDragStart(t),this.startPos.set(t.data.global.x,t.data.global.y),this.startPos=this.selected.parent.toLocal(this.startPos);var e=this.selected.parent.toGlobal(this.selected);this.offset=new PIXI.Point(e.x-t.data.global.x,e.y-t.data.global.y),this.startCallback&&this.startCallback()}}},{key:"handlePointerMove",value:function(t){t.data.isPrimary&&this.selected&&(this.selected.onDragMove(t),t.data.getLocalPosition(this.selected.parent,this.selected),this.selected.x+=this.offset.x,this.selected.y+=this.offset.y)}},{key:"handlePointerUp",value:function(t){if(t.data.isPrimary&&this.selected){var e=t.data.getLocalPosition(this.selected.parent,this.selected);!this.isClickStick&&Object(Ct.a)(this.startPos,e)<=this.pixelDistance?(this.isClickStick=!0,this.selected.onClickStick(t),this.selected.position.set(e.x,e.y),this.offset=new PIXI.Point,this.selected.x+=this.offset.x,this.selected.y+=this.offset.y):(this.selected.position.set(e.x,e.y),this.selected.x+=this.offset.x,this.selected.y+=this.offset.y,this.selected.onDragEnd(t),this.stopDragging(),this.endCallback&&this.endCallback())}}},{key:"add",value:function(){var t;(t=this.dragObjects).push.apply(t,arguments)}},{key:"stopDragging",value:function(){this.isClickStick=!1,this.selected=null}}])&&An(n.prototype,o),i&&An(n,i),e}();function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Mn(t){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yn(t,e){return(Yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zn=function(t){function e(t,n){var o,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,o=!(r=Mn(e).call(this))||"object"!==Wn(r)&&"function"!=typeof r?Vn(i):r,t||console.error("No Body Provided for Entity"),n||console.error("No Name Provided for Entity"),o.point=new b2.b2Vec2,o.body=t,o.body.parent=Vn(o),o.bodyActive=!0,o.name=n,o.minRotation=Object(Ct.f)(-10),o.maxRotation=Object(Ct.f)(10),o.createHitArea(n),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yn(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setBody",value:function(t){this.bodyActive=t}},{key:"setPosition",value:function(t,e){this.position.set(t,e),this.body.SetPosition(new b2.b2Vec2(we(t),we(e)))}},{key:"setRotation",value:function(t){this.body.SetAngle(t),this.rotation=t}},{key:"adjustRotation",value:function(t){var e=this.body.GetAngle();e+=t,this.body.SetAngle(e),this.rotation+=t}},{key:"onDragStart",value:function(t){this.setBody(!1),this.emit("dragStart",this),this.clickSticked||Gl.play("pickup")}},{key:"onDragMove",value:function(t){this.point.x=we(this.x),this.point.y=we(this.y),this.body.SetPosition(this.point),this.point.x=this.point.y=0,this.body.SetLinearVelocity(this.point),this.body.SetAngularVelocity(0),this.emit("dragMove",this)}},{key:"onDragEnd",value:function(t){void 0!==this.startZIndex&&(this.zIndex=this.startZIndex),this.body.SetPosition(new b2.b2Vec2(we(this.x),we(this.y))),this.body.SetLinearVelocity(new b2.b2Vec2),this.body.SetAngularVelocity(0),Gl.play("pickup"),this.clickSticked=!1,this.emit("dragEnd",this)}},{key:"onClickStick",value:function(t){this.clickSticked=!0}},{key:"droppedInTray",value:function(){this.body.SetAngle(0),this.rotation=0,cjs.Tween.removeTweens(this),this.interactive=!0}},{key:"droppedInWorld",value:function(t){}},{key:"update",value:function(t){if(this.body.IsActive()){var e=this.body.GetPosition(),n=this.body.GetAngle();this.limitRotation&&(n=Object(Ct.c)(n,this.minRotation,this.maxRotation),this.body.SetAngle(n)),this.position.set(ve(e.x),ve(e.y)),this.rotation=n,this.position.y>Nl.maxHeight/2+100&&this.emit("offscreen",this)}}},{key:"postUpdate",value:function(t){this.body.SetActive(this.bodyActive)}},{key:"getRotationTarget",value:function(){return this}},{key:"createHitArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name;if(a[t]){var e=new PIXI.Polygon(a[t][0]);this.hitArea=e}}},{key:"createTrayHitArea",value:function(t,e){var n=new PIXI.Rectangle(-t/2/this.scale.x,-e/2/this.scale.y,t/this.scale.x,e/this.scale.y);this.hitArea=n}},{key:"animateTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cjs.Ease.cubicInOut;return this.interactive=!1,this.setBody(!1),cjs.Tween.get(this).to(t,n,o).call((function(n){e.setPosition(t.x,t.y),e.setBody(!0),e.interactive=!0}))}}])&&Nn(n.prototype,o),i&&Nn(n,i),e}();function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){return!e||"object"!==Jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kn=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=ke(t,s[n]);return i.SetType(b2.b2BodyType.b2_dynamicBody),(o=Un(this,Zn(e).call(this,i,n))).display=new PIXI.Sprite(PIXI.utils.TextureCache[n+".png"]),o.display.anchor.set(.5),o.addChild(o.display),o.on("dragStart",(function(t){o.limitRotation&&o.body.SetAngle(0)})),o.on("dragEnd",(function(t){o.limitRotation&&o.body.SetAngle(0)})),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(e,t),e}(zn);var Qn=function(t,e){t.shootsWater=!0,t.on("dragStart",(function(){t.stopWater()})),t.startWater=function(){Array.isArray(e)?e.forEach((function(t){t.play()})):e.play()},t.stopWater=function(){Array.isArray(e)?e.forEach((function(t){t.stop()})):e.stop()}};function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function no(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oo(t,e){return(oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var io=function(t){function e(t,n,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,a,l=ke(t,s[n]);return l.SetType(b2.b2BodyType.b2_kinematicBody),r=this,(i=!(a=eo(e).call(this,l,n))||"object"!==$n(a)&&"function"!=typeof a?no(r):a).offset={x:-18,y:19},i.container=new PIXI.Container,i.container.position.set(i.offset.x,i.offset.y),i.addChild(i.container),i.top=new PIXI.Sprite(PIXI.utils.TextureCache[n+".png"]),i.top.name=n+" Top Sprite",i.top.anchor.set(.5),i.top.pivot.set(i.offset.x,i.offset.y),i.container.addChild(i.top),i.barrelPoint=new PIXI.Container,i.barrelPoint.position.set(45,-45),i.top.addChild(i.barrelPoint),i.spawnPoint=new PIXI.Point(i.barrelPoint.x,i.barrelPoint.y),i.waterEmitter=new Le(no(i),o,.03,i.spawnPoint,-45,1e3),Qn(no(i),i.waterEmitter),i}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oo(t,e)}(e,t),n=e,(o=[{key:"droppedInWorld",value:function(t){this.updateEmitter(this.container.rotation),this.startWater()}},{key:"droppedInTray",value:function(){this.body.SetAngle(0),this.container.rotation=0,this.stopWater()}},{key:"onDragEnd",value:function(t){this.startZIndex&&(this.zIndex=this.startZIndex),this.body.SetPosition(new b2.b2Vec2(we(this.x+this.offset.x),we(this.y+this.offset.y))),this.body.SetLinearVelocity(new b2.b2Vec2),this.body.SetAngularVelocity(0),this.setBody(!0),this.emit("dragEnd",this)}},{key:"setPosition",value:function(t,e){this.body.SetPosition(new b2.b2Vec2(we(this.x+this.offset.x),we(this.y+this.offset.y))),this.position.set(t,e)}},{key:"adjustRotation",value:function(t){var e=this.body.GetAngle();e+=t,this.body.SetAngle(e),this.container.rotation+=t,this.updateEmitter(this.container.rotation)}},{key:"updateEmitter",value:function(t){t-=Object(Ct.f)(45),this.toLocal(this.barrelPoint,this.top,this.spawnPoint),this.waterEmitter.updateForceAngle(t)}},{key:"update",value:function(t){this.waterEmitter.update(t)}},{key:"getRotationTarget",value:function(){return this.container}}])&&to(n.prototype,o),i&&to(n,i),e}(zn);function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function so(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lo(t){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function co(t,e){return(co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var uo=function(t){function e(t,n,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=so(this,lo(e).call(this,PIXI.utils.TextureCache[o+".png"]))).anchor.set(.5),i.point=new b2.b2Vec2,i.world=t,i.mainBody=n,i}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&co(t,e)}(e,PIXI.Sprite),n=e,(o=[{key:"dragStart",value:function(){this.body.SetAngle(0)}},{key:"dragMove",value:function(){this.point.x=we(this.parent.x),this.point.y=we(this.parent.y),this.body.SetPosition(this.point),this.point.x=this.point.y=0,this.body.SetLinearVelocity(this.point),this.body.SetAngularVelocity(0)}},{key:"update",value:function(t){this.rotation=this.body.GetAngle()}},{key:"postUpdate",value:function(t){this.body.SetActive(this.mainBody.IsActive()),this.body.IsActive()||this.body.SetAngle(0)}}])&&ao(n.prototype,o),i&&ao(n,i),e}();function ho(t){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fo(t,e){return!e||"object"!==ho(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yo(t){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mo(t,e){return(mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var go=function(t){function e(t,n,o){var i,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:90,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;return po(this,e),(i=fo(this,yo(e).call(this,t,n,o))).body=ke(t,s[o]),i.body.SetType(b2.b2BodyType.b2_dynamicBody),i.revoluteJointDef=new b2.b2RevoluteJointDef,i.revoluteJointDef.bodyA=i.mainBody,i.revoluteJointDef.bodyB=i.body,i.revoluteJointDef.motorSpeed=Object(Ct.f)(a),i.revoluteJointDef.maxMotorTorque=l,i.revoluteJointDef.enableMotor=r,i.revoluteJoint=t.CreateJoint(i.revoluteJointDef),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)}(e,t),e}(uo);function bo(t){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wo(t,e){return!e||"object"!==bo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xo(t,e,n){return(xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ko(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function So(t,e){return(So=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Po=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=xe(t,5);return o.SetType(b2.b2BodyType.b2_kinematicBody),(n=wo(this,ko(e).call(this,o,"wheel"))).wheel=new go(t,n.body,"wheel",!0,i.tools.wheel.motorSpeed,i.tools.wheel.motorTorque),n.addChild(n.wheel),n.on("dragStart",(function(){n.wheel.dragStart()})),n.on("dragMove",(function(){n.wheel.dragMove()})),n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&So(t,e)}(e,t),n=e,(o=[{key:"setRotation",value:function(t){xo(ko(e.prototype),"setRotation",this).call(this,t),this.wheel.body.SetAngle(t)}},{key:"flip",value:function(){var t=this.wheel.revoluteJoint.GetMotorSpeed();this.wheel.revoluteJoint.SetMotorSpeed(-1*t)}}])&&vo(n.prototype,o),r&&vo(n,r),e}(zn);function Oo(t){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Io(t,e){return!e||"object"!==Oo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jo=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=ke(t,s[n]);return i.SetType(b2.b2BodyType.b2_kinematicBody),(o=Io(this,To(e).call(this,i,n))).display=new PIXI.Sprite(PIXI.utils.TextureCache[n+".png"]),o.display.anchor.set(.5),o.addChild(o.display),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(e,t),e}(zn);function Bo(t){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Eo(t,e){return!e||"object"!==Bo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ro(t,e){return(Ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xo=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Eo(this,Lo(e).call(this))).name="Tool Tray",t.toolSizingWidth=90,t.toolSizingHeight=90,t.toolSpacing=10,t.savedData={},t.maxBounds=null,t.maxShown=5,t.currentVisibleDragTools=0,t.onScreen=!1;var n=new PIXI.Sprite(PIXI.utils.TextureCache["tool-tray-background-vertical.png"]);return n.name="Background",n.anchor.set(.5),n.position.x=0,n.position.y-=t.toolSpacing/2,t.sizings=new PIXI.Container,t.toolHolder=new PIXI.Container,t.toolHolder.name="Tool Tray Tool Holder",t.shadowContainer=new PIXI.Container,t.shadowContainer.name="Shadow Sprite Container",t.upArrow=new PIXI.Sprite(PIXI.utils.TextureCache["tool-tray-arrow-up.png"]),t.upArrow.name="Left Arrow",t.upArrow.anchor.set(.5),t.upArrow.interactive=!0,t.upArrow.buttonMode=!0,t.upArrow.position.set(0,-n.getBounds().height/2+40),t.downArrow=new PIXI.Sprite(PIXI.utils.TextureCache["tool-tray-arrow-down.png"]),t.downArrow.name="Right Arrow",t.downArrow.anchor.set(.5),t.downArrow.interactive=!0,t.downArrow.buttonMode=!0,t.downArrow.position.set(0,n.getBounds().height/2-50),t.adjustableMask=new PIXI.Graphics,t.adjustableMask.beginFill(16711680),t.adjustableMask.drawRect(-t.toolSizingWidth/2,-250,t.toolSizingWidth,505-t.toolSpacing),t.adjustableMask.alpha=.5,t.addChild(n,t.shadowContainer,t.toolHolder,t.upArrow,t.downArrow,t.adjustableMask),t.toolHolder.mask=t.adjustableMask,t.shadowContainer.mask=t.adjustableMask,t.pivot.x=-t.getLocalBounds().width/2+10,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ro(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setActive",value:function(t){t?(this.upArrow.on("pointertap",this.handleClick,this),this.downArrow.on("pointertap",this.handleClick,this)):(this.upArrow.removeAllListeners(),this.downArrow.removeAllListeners())}},{key:"handleClick",value:function(t){var e=t.currentTarget===this.upArrow?-1:1,n=this.toolHolder.pivot.y+(this.currentVisibleDragTools-1)*(this.toolSpacing+this.toolSizingHeight)*e;cjs.Tween.get(this.toolHolder.pivot).set({interactiveChildren:!1},this).to({y:n},1e3,cjs.Ease.sineInOut).set({interactiveChildren:!0},this)}},{key:"scrollThru",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(this.toolHolder.children.length<=this.maxShown)){var e=Object(Ct.d)(this.toolHolder.children.length,6,44,1500,2e3);cjs.Tween.get(this.toolHolder.pivot).set({interactiveChildren:!1},this).wait(t).to({y:this.toolHolder.children[this.toolHolder.children.length-1].y},e,cjs.Ease.cubicInOut).set({interactiveChildren:!0},this)}}},{key:"animateNewToys",value:function(){for(var t=JSON.parse(localStorage.getItem("newToys")),e=0;e<t.length;e++){var n=t[e];pe(this.toolHolder.getChildByName(n),5)}t.length=0,localStorage.setItem("newToys",JSON.stringify(t))}},{key:"addToolToTray",value:function(t){this.toolHolder.addChild(t),this.createShadowForTool(t)}},{key:"addToolsToTray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.length,n=0;n<e;n++)this.addToolToTray(t[n])}},{key:"createShadowForTool",value:function(t){var e=new PIXI.Sprite(PIXI.utils.TextureCache[t.name+".png"]);e.anchor.set(.5),e.alpha=.3,this.shadowContainer.addChild(e);var n=new PIXI.Graphics;n.beginFill(255),n.drawRect(-this.toolSizingWidth/2,-this.toolSizingHeight/2,this.toolSizingWidth,this.toolSizingHeight),this.sizings.addChild(n)}},{key:"adjustTray",value:function(){if(this.toolHolder.children.length){var t=this.maxBounds,e=Object(Ct.a)(this.upArrow,this.downArrow);if(t.height<e)this.upArrow.visible=!1,this.downArrow.visible=!1,this.currentVisibleDragTools=this.toolHolder.children.length;else{this.upArrow.visible=!0,this.downArrow.visible=!0;for(var n=0,o=this.toolSpacing+this.toolSizingHeight;n+o<e;)n+=o;var i=Math.floor(n/o);this.currentVisibleDragTools=i}}}},{key:"positionTools",value:function(){var t=this;if(this.toolHolder.children.length){this._resetScaleAndRotation();var e=this.toolHolder.children,n=e.length,o=0;e[0].setPosition(0,0);for(var i=1;i<n;i++){var r=e[i];r.y=o+this.toolSizingHeight+this.toolSpacing,r.setPosition(0,r.y),o=r.y}for(var a=0,s=this.shadowContainer.children.length;a<s;a++){var l=this.shadowContainer.children[a],c=this.toolHolder.children[a];l.position.x=c.x,l.position.y=c.y,l.scale=c.scale;var u=this.sizings.children[a];u.position.x=c.x,u.position.y=c.y}e.forEach((function(e){for(var n=0;t.savedData[e.name];)n++,e.name+=n;var o=0,i=0;e.trayOffset&&(o+=e.trayOffset.x,i+=e.trayOffset.y),t.savedData[e.name]=new p(t.toolHolder.getChildIndex(e),e.x+o,e.y+i,e.scale.x,e.scale.y);var r=t.savedData[e.name].x,a=t.savedData[e.name].y;e.setPosition?e.setPosition(r,a):e.position.set(r,a)}));var h=this.toolHolder.children.length*(this.toolSizingHeight+this.toolSpacing);this.toolHolder.pivot.y=h/2+this.toolSizingHeight/2+this.toolSpacing,this.maxBounds=this.toolHolder.getLocalBounds(),this.maxBounds.height=h-this.toolSpacing,h>Object(Ct.a)(this.upArrow,this.downArrow)&&this.toolHolder.children.length%2==0&&(this.toolHolder.pivot.y+=this.toolSizingHeight/2+this.toolSpacing/2)}function p(t,e,n,o,i){this.index=t,this.x=e,this.y=n,this.scaleX=o,this.scaleY=i}}},{key:"returnToolToTray",value:function(t){var e=this.savedData[t.name];t.setPosition(e.x,e.y),t.setRotation(0),t.setBody(!1),t.scale.set(e.scaleX,e.scaleY),t.createTrayHitArea(this.toolSizingWidth,this.toolSizingHeight),this.toolHolder.addChildAt(t,Math.min(this.toolHolder.children.length,e.index))}},{key:"_resetScaleAndRotation",value:function(){for(var t=this.toolHolder.children,e=t.length,n=0;n<e;n++){var o=t[n];o.rotation=0;var i=o.getLocalBounds();this.toolSizingWidth+i.width>i.height+this.toolSizingHeight?o.scale.set(this.toolSizingWidth/i.width):o.scale.set(this.toolSizingHeight/i.height),o.createTrayHitArea(this.toolSizingWidth,this.toolSizingHeight)}}},{key:"isHoldingTool",value:function(t){return t.parent===this.toolHolder}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cjs.Ease.cubicInOut;this.onScreen=!0;var o=this.getOnScreenPositionX();return cjs.Tween.get(this).wait(t).to({x:o},e,n)}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cjs.Ease.cubicInOut;this.onScreen=!1;var o=this.getOffScreenPositionX();return cjs.Tween.get(this).wait(t).to({x:o},e,n)}},{key:"getOnScreenPositionX",value:function(){var t=this.children[0].getLocalBounds(),e=Math.max(-540,-Nl.width/2);return Nl.width<Nl.safeWidth+t.width/2?Object(Ct.d)(Nl.width-Nl.safeWidth,0,100,-Nl.width/2-25,e):e+10}},{key:"setBackgroundPosition",value:function(){var t=this.children[0].getLocalBounds();return Nl.width<Nl.safeWidth+t.width/2?Object(Ct.d)(Nl.width-Nl.safeWidth,0,100,-25,0):0}},{key:"getOffScreenPositionX",value:function(){return-Nl.width/2-this.getLocalBounds().width}},{key:"setOnScreen",value:function(){this.onScreen=!0,this.position.x=this.getOnScreenPositionX(),this.children[0].x=this.setBackgroundPosition()}},{key:"update",value:function(){this.maxBounds&&(this.wrapY(this.toolHolder),this.shadowContainer.pivot.y=this.toolHolder.pivot.y,this.wrapY(this.shadowContainer),this.sizings.pivot.y=this.toolHolder.pivot.y,this.wrapY(this.sizings))}},{key:"wrapY",value:function(t){t.pivot.y=Math.floor(t.pivot.y);for(var e=0,n=t.children.length;e<n;e++){var o=t.children[e],i=o.y-o.pivot.y-t.pivot.y;if(i<-this.maxBounds.height/2){var r=o.position.x,a=o.position.y+this.maxBounds.height+this.toolSpacing;o.setPosition?(o.setPosition(r,a),this.savedData[o.name].y=a):o.position.set(r,a)}else if(i>this.maxBounds.height/2){var s=o.position.x,l=o.position.y-this.maxBounds.height-this.toolSpacing;o.setPosition?(o.setPosition(s,l),this.savedData[o.name].y=l):o.position.set(s,l)}}}},{key:"resize",value:function(t,e){var n=this.getOnScreenPositionX();this.onScreen&&(this.position.x=n,this.children[0].x=this.setBackgroundPosition())}}])&&_o(n.prototype,o),i&&_o(n,i),e}();function Ao(t){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Do(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ho(t,e){return!e||"object"!==Ao(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Go(t){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fo(t,e){return(Fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ho(this,Go(e).call(this))).name="Rotation Controls",t.currentTarget=null,t.lastAngle=0,t.currentAngle=0,t.point=new PIXI.Point,t.rotationAmount=15,t.ring=new PIXI.Sprite(PIXI.utils.TextureCache["dotted-ring.png"]),t.ring.name="Dotted Ring",t.ring.anchor.set(.5),t.counterClockwiseBtn=new lt("counter-clockwise-btn"),t.counterClockwiseBtn.name="Counter Clockwise Button",t.counterClockwiseBtn.anchor.set(.5),t.counterClockwiseBtn.position.set(-120,0),t.pulsingRingsCC=new dt(t.counterClockwiseBtn.getLocalBounds().width/2+10),t.pulsingRingsCC.position.set(t.counterClockwiseBtn.x,t.counterClockwiseBtn.y),t.pulsingRingsCC.play(),t.clockwiseBtn=new lt("clockwise-btn"),t.clockwiseBtn.name="Clockwise Button",t.clockwiseBtn.anchor.set(.5),t.clockwiseBtn.position.set(120,0),t.pulsingRingsC=new dt(t.clockwiseBtn.getLocalBounds().width/2+10),t.pulsingRingsC.position.set(t.clockwiseBtn.x,t.clockwiseBtn.y),t.pulsingRingsC.play(),t.addChild(t.ring,t.pulsingRingsCC,t.counterClockwiseBtn,t.pulsingRingsC,t.clockwiseBtn),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fo(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setActive",value:function(t){this.clockwiseBtn.setActive(t),this.counterClockwiseBtn.setActive(t),t?(this.clockwiseBtn.on("pointertap",this.handleButtonClick,this),this.counterClockwiseBtn.on("pointertap",this.handleButtonClick,this)):(this.clockwiseBtn.removeAllListeners(),this.counterClockwiseBtn.removeAllListeners())}},{key:"handleButtonClick",value:function(t){if(t.data.isPrimary&&this.currentTarget)switch(t.currentTarget){case this.counterClockwiseBtn:this.rotateCounterClockwise();break;case this.clockwiseBtn:this.rotateClockwise()}}},{key:"rotateClockwise",value:function(){this.currentTarget.adjustRotation(Object(Ct.f)(this.rotationAmount)),this.emit("rotate",this.currentTarget)}},{key:"rotateCounterClockwise",value:function(){this.currentTarget.adjustRotation(Object(Ct.f)(-this.rotationAmount)),this.emit("rotate",this.currentTarget)}},{key:"setTarget",value:function(t){this.currentTarget=t}},{key:"clearTarget",value:function(){this.currentTarget=null}}])&&Do(n.prototype,o),i&&Do(n,i),e}();function No(t){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Vo(t,e){return!e||"object"!==No(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yo(t){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zo(t,e){return(zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Vo(this,Yo(e).call(this))).name="Flip Controls",t.currentTarget=null,t.ring=new PIXI.Sprite(PIXI.utils.TextureCache["dotted-ring.png"]),t.ring.name="Dotted Ring",t.ring.anchor.set(.5),t.leftButton=new lt("left-flip-btn"),t.leftButton.name="Left Flip Button",t.leftButton.anchor.set(.5),t.leftButton.position.set(-110,0),t.pulsingRingsLeft=new dt(t.leftButton.getLocalBounds().width/2+10),t.pulsingRingsLeft.position.set(t.leftButton.x,t.leftButton.y),t.pulsingRingsLeft.play(),t.rightButton=new lt("right-flip-btn"),t.rightButton.name="Right Flip Button",t.rightButton.anchor.set(.5),t.rightButton.position.set(110,0),t.pulsingRingsRight=new dt(t.rightButton.getLocalBounds().width/2+10),t.pulsingRingsRight.position.set(t.rightButton.x,t.rightButton.y),t.pulsingRingsRight.play(),t.addChild(t.ring,t.pulsingRingsLeft,t.leftButton,t.pulsingRingsRight,t.rightButton),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zo(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setActive",value:function(t){this.rightButton.setActive(t),this.leftButton.setActive(t),t?(this.rightButton.on("pointertap",this.handleButtonClick,this),this.leftButton.on("pointertap",this.handleButtonClick,this)):(this.rightButton.removeAllListeners(),this.leftButton.removeAllListeners())}},{key:"handleButtonClick",value:function(t){t.data.isPrimary&&this.currentTarget&&this.flipTarget()}},{key:"flipTarget",value:function(){this.currentTarget.flip(),this.emit("flip",this.currentTarget)}},{key:"setTarget",value:function(t){this.currentTarget=t}},{key:"clearTarget",value:function(){this.currentTarget=null}}])&&Mo(n.prototype,o),i&&Mo(n,i),e}();function Uo(t){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function qo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ko(t,e,n){return(Ko="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qo(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Qo(t){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $o(t,e){return($o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ti=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i,r,a=ke(t,s[n]);return a.SetType(b2.b2BodyType.b2_kinematicBody),i=this,(o=!(r=Qo(e).call(this,a,n))||"object"!==Uo(r)&&"function"!=typeof r?qo(i):r).display=new PIXI.Sprite(PIXI.utils.TextureCache[n+".png"]),o.display.anchor.set(.5),o.front=new PIXI.Sprite(PIXI.utils.TextureCache[n+"-front.png"]),o.front.name=n+" Front Sprite",o.front.anchor.set(.5),o.front.visible=!1,o.back=new PIXI.Sprite(PIXI.utils.TextureCache[n+"-back.png"]),o.back.name=n+" Back Sprite",o.back.anchor.set(.5),o.back.visible=!1,o.addChild(o.display,o.back,o.front),o.on("dragStart",o.startDrag,qo(o)),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$o(t,e)}(e,t),n=e,(o=[{key:"startDrag",value:function(t){this.back.position.set(0,0),this.addChildAt(this.back,0),this.setSingleDisplay(!0)}},{key:"droppedInWorld",value:function(t){this.setSingleDisplay(!1);var e=this.back,n=t.toLocal(new PIXI.Point(e.x,e.y),e.parent);e.position.set(n.x,n.y),e.rotation=e.parent.rotation,t.addChild(e)}},{key:"setSingleDisplay",value:function(t){this.back.visible=!t,this.front.visible=!t,this.display.visible=t}},{key:"update",value:function(t){Ko(Qo(e.prototype),"update",this).call(this,t),this.back.rotation=this.rotation}}])&&Zo(n.prototype,o),i&&Zo(n,i),e}(zn);function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function oi(t,e){return!e||"object"!==ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ri(t,e){return(ri=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ai=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=ke(t,s[n]);return i.SetType(b2.b2BodyType.b2_kinematicBody),(o=oi(this,ii(e).call(this,i,n))).world=t,o.direction=1,o.display=new PIXI.Sprite(PIXI.utils.TextureCache[n+".png"]),o.display.anchor.set(.5),o.addChild(o.display),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ri(t,e)}(e,t),n=e,(o=[{key:"flip",value:function(){var t="";1===this.direction?(this.direction=-1,t="".concat(this.name,"-flip"),this.display.scale.x=this.direction):(this.direction=1,t="".concat(this.name),this.display.scale.x=this.direction),this.updateBody(t),this.createHitArea(t),this.setPosition(this.x,this.y)}},{key:"updateBody",value:function(t){this.world.DestroyBody(this.body),this.body=ke(this.world,s[t]),this.body.SetType(b2.b2BodyType.b2_kinematicBody)}},{key:"droppedInTray",value:function(){this.direction=1,this.display.scale.x=this.direction;var t="".concat(this.name);this.updateBody(t),this.createHitArea(t),this.setPosition(this.x,this.y)}}])&&ni(n.prototype,o),i&&ni(n,i),e}(zn);function si(t){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ci(t,e){return!e||"object"!==si(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hi(t,e){return(hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pi=function(t){function e(t,n,o){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-90,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:90;return li(this,e),(i=ci(this,ui(e).call(this,t,n,o))).body=ke(t,s[o]),i.body.SetType(b2.b2BodyType.b2_dynamicBody),i.revoluteJointDef=new b2.b2RevoluteJointDef,i.revoluteJointDef.bodyA=i.mainBody,i.revoluteJointDef.bodyB=i.body,i.revoluteJointDef.enableLimit=!0,i.revoluteJointDef.lowerAngle=Object(Ct.f)(r),i.revoluteJointDef.upperAngle=Object(Ct.f)(a),i.revoluteJoint=t.CreateJoint(i.revoluteJointDef),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hi(t,e)}(e,t),e}(uo);function fi(t){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function di(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function mi(t,e){return!e||"object"!==fi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gi(t){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vi=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;yi(this,e);var i=xe(t,5);return i.SetType(b2.b2BodyType.b2_kinematicBody),(n=mi(this,gi(e).call(this,i,"see-saw"))).sawAngle=o,n.saw=new pi(t,n.body,"see-saw",-25,25),n.addChild(n.saw),n.on("dragStart",(function(){n.saw.dragStart()})),n.on("dragMove",(function(){n.saw.dragMove()})),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(e,t),n=e,(o=[{key:"reset",value:function(){this.saw.body.SetAngle(Object(Ct.f)(this.sawAngle))}}])&&di(n.prototype,o),i&&di(n,i),e}(zn);function wi(t){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xi(t,e){return!e||"object"!==wi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ki(t){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Si(t,e){return(Si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pi=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=xi(this,ki(e).call(this))).name=t;var o=l[t];if(Array.isArray(o[0]))for(var i=0,r=o.length;i<r;i++){var a=new PIXI.Graphics;a.beginFill(16711935),a.drawPolygon(o[i]),a.alpha=.2,n.addChild(a)}else{var s=new PIXI.Graphics;s.beginFill(16711935),s.drawPolygon(o),s.alpha=.2,n.addChild(s)}return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Si(t,e)}(e,PIXI.Container),e}();var Oi=function(t,e){for(var n,o,i,r,a,s,l=t,c=e,u=[l,c],h=0;h<u.length;h++)for(var p=u[h],f=0;f<p.length;f+=2){var y=(f+2)%p.length,d={x:p[y+1]-p[f+1],y:p[f]-p[y]};for(n=o=null,s=0;s<l.length;s+=2)i=d.x*l[s]+d.y*l[s+1],(null===n||i<n)&&(n=i),(null===o||i>o)&&(o=i);for(r=a=null,s=0;s<c.length;s+=2)i=d.x*c[s]+d.y*c[s+1],(null===r||i<r)&&(r=i),(null===a||i>a)&&(a=i);if(o<r||a<n)return!1}return!0};function Ii(t){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ti(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ci(t,e){return!e||"object"!==Ii(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ji(t){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bi(t,e){return(Bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _i=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ci(this,ji(e).call(this))).colliders=new Map,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bi(t,e)}(e,PIXI.Container),n=e,(o=[{key:"addStaticGraphicToWorld",value:function(t){var e=new PIXI.Container;e.addChild(t),this.colliders.set(t,e),this.addChild(e)}},{key:"addColliderToWorld",value:function(t){var e=new Pi(t.name);return this.addChild(e),this.colliders.set(t,e),this.moveColliderToEntity(t),e}},{key:"getCollider",value:function(t){return this.colliders.get(t)}},{key:"moveColliderToEntity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new PIXI.Point,n=this.getCollider(t);n.position.set(t.x+e.x,t.y+e.y),n.rotation=t.rotation}},{key:"moveColliderOffscreen",value:function(t){t.position.set(-9999,-9999)}},{key:"moveEntityColliderOffscreen",value:function(t){this.moveColliderOffscreen(this.getCollider(t))}},{key:"checkPolygonCollision",value:function(t){var e;Nl.renderer.render(Nl.stage);for(var n=0,o=t.children.length;n<o;n++){var i=t.children[n].vertexData;if(e=this.colliderCollisionChildren(t,i))break}var r,a=new PIXI.Point(t.x,t.y),s=0;for(r=t.y>0?-15:15;e;){s+=Object(Ct.f)(r),a.x+=(r+s)*Math.cos(s),a.y+=(r+s)*Math.sin(s),t.position.x=a.x,t.position.y=a.y,Nl.renderer.render(Nl.stage);for(var l=0,c=t.children.length;l<c;l++){var u=t.children[l].vertexData;if(e=this.colliderCollisionChildren(t,u))break}}}},{key:"colliderCollisionOther",value:function(t){var e=null,n=!0,o=!1,i=void 0;try{for(var r,a=this.colliders.values()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value,l=s.vertexData;if(t!==l&&Oi(t,l)){e=s;break}}}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return e}},{key:"colliderCollisionChildren",value:function(t,e){var n=null,o=!0,i=!1,r=void 0;try{for(var a,s=this.colliders.values()[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var l=a.value;if(t!==l)for(var c=0,u=l.children.length;c<u;c++){var h=l.children[c].vertexData;if(Oi(e,h)){n=l;break}}}}catch(t){i=!0,r=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}return n}}])&&Ti(n.prototype,o),i&&Ti(n,i),e}();function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ri(t,e){return!e||"object"!==Ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xi(t){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ai(t,e){return(Ai=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Di=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=xe(t,5);o.SetType(b2.b2BodyType.b2_kinematicBody),(n=Ri(this,Xi(e).call(this,o,"trough"))).world=t,n.direction=1,n.trayOffset={x:-18,y:-4},n.bucket=new pi(t,n.body,"trough-bucket",-35,-5);var i=n.bucket.getBounds();n.bucket.anchor.set(55/i.width,31/i.height),n.handle=new PIXI.Sprite(PIXI.utils.TextureCache["trough-arm.png"]),n.handle.anchor.set(0,.5);var r=n.handle.getBounds();return n.handle.anchor.set(55/r.width,31/r.height),n.addChild(n.bucket,n.handle),n.on("dragStart",(function(){n.bucket.dragStart()})),n.on("dragMove",(function(){n.bucket.dragMove()})),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ai(t,e)}(e,t),n=e,(o=[{key:"createTrayHitArea",value:function(t,e){var n=new PIXI.Rectangle(-t/2/this.scale.x,-e/2/this.scale.y,t/this.scale.x,e/this.scale.y);n.x-=2*this.trayOffset.x,n.y-=2*this.trayOffset.y,this.hitArea=n}},{key:"flip",value:function(){var t="",e="";1===this.direction?(this.direction=-1,t="".concat(this.name,"-flip"),e="trough-bucket-flip"):(this.direction=1,t="".concat(this.name),e="trough-bucket"),this.updateBody(e),this.createHitArea(t),this.setPosition(this.x,this.y)}},{key:"updateBody",value:function(t){var e="trough-bucket"===t?55:130,n="trough-bucket"===t?-35:5,o="trough-bucket"===t?-5:35;this.removeChild(this.bucket),this.world.DestroyJoint(this.bucket.revoluteJoint),this.world.DestroyBody(this.bucket.body),this.bucket=new pi(this.world,this.body,t,n,o);var i=this.bucket.getBounds();this.bucket.anchor.set(e/i.width,31/i.height),this.addChild(this.bucket),this.handle.scale.x=this.direction}},{key:"droppedInTray",value:function(){this.direction=1,this.updateBody("trough-bucket"),this.setPosition(this.x,this.y)}}])&&Li(n.prototype,o),i&&Li(n,i),e}(zn);function Hi(t){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fi(t,e){return!e||"object"!==Hi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wi(t,e,n){return(Wi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ni(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ni(t){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mi(t,e){return(Mi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vi=function(t){function e(t,n,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=ke(t,s[n]);r.SetType(b2.b2BodyType.b2_kinematicBody),(i=Fi(this,Ni(e).call(this,r,n))).display=new PIXI.Sprite(PIXI.utils.TextureCache[n+".png"]),i.display.anchor.set(.5),i.addChild(i.display),i.world=t,i.waterSystem=o,i.point=new PIXI.Point;var a=ve(o.particleSystem.GetRadius());i.velocity=Object(Ct.d)(a,5,10,5,200);return i.direction=new b2.b2Vec2(0,-i.velocity),i.rect=new PIXI.Rectangle(-50,-60,100,100),i.graphic=new PIXI.Graphics,i.graphic.beginFill(0),i.graphic.drawRect(0,0,100,100),i.graphic.x+=-50,i.graphic.y+=-60,i.graphic.alpha=0,i.addChild(i.graphic),i}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mi(t,e)}(e,t),n=e,(o=[{key:"onDragStart",value:function(t){this.grabbed=!0,Wi(Ni(e.prototype),"onDragStart",this).call(this,t)}},{key:"onDragEnd",value:function(t){this.updateRect(),this.grabbed=!1,Wi(Ni(e.prototype),"onDragEnd",this).call(this,t)}},{key:"updateRect",value:function(){var t=this.parent.parent.toLocal(this.graphic,this);this.rect.x=t.x,this.rect.y=t.y}},{key:"update",value:function(t){if(!this.grabbed)for(var e=this.waterSystem.particleSystem.GetPositionBuffer(),n=this.waterSystem.particleSystem.GetParticleCount(),o=0;o<n;o++){var i=e[o];this.point.x=ve(i.x),this.point.y=ve(i.y),this.parent.parent.toLocal(this.point,this.waterSystem,this.point),this.rect.contains(this.point.x,this.point.y)&&(this.toLocal(this.point,this.waterSystem,this.point),this.direction.x=this.point.x<0?-this.velocity:this.velocity,this.waterSystem.particleSystem.ParticleApplyForce(o,this.direction))}}}])&&Gi(n.prototype,o),i&&Gi(n,i),e}(zn);function Yi(t){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ji(t,e){return!e||"object"!==Yi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ui(t,e,n){return(Ui="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zi(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Zi(t){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qi(t,e){return(qi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ki=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=ke(t,s[n]);return i.SetType(b2.b2BodyType.b2_dynamicBody),(o=Ji(this,Zi(e).call(this,i,n))).world=t,o.propeller=!0,o.propelDirection=1,o.speed=we(17),o.inWorld=!1,o.direction=1,o.flipTimer=0,o.minRotation=Object(Ct.f)(-5),o.maxRotation=Object(Ct.f)(5),o.display=new PIXI.Sprite(PIXI.utils.TextureCache[n+".png"]),o.display.anchor.set(.5),o.addChild(o.display),o.on("dragStart",(function(t){o.limitRotation&&o.body.SetAngle(0),o.inWorld&&(o.stopMotor(),o.startPoint=new PIXI.Point(o.x,o.y)),o.flipTimer=0})),o.on("dragMove",(function(t){o.startPoint&&Object(Ct.a)(o.startPoint,new PIXI.Point(o.x,o.y))<20&&(o.flip(),o.startPoint=null)})),o.on("dragEnd",(function(t){o.limitRotation&&o.body.SetAngle(0)})),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qi(t,e)}(e,t),n=e,(o=[{key:"onClickStick",value:function(t){Ui(Zi(e.prototype),"onClickStick",this).call(this,t),this.inWorld&&this.flip()}},{key:"droppedInWorld",value:function(t){this.inWorld=!0}},{key:"startMotor",value:function(){this.ready=!0}},{key:"stopMotor",value:function(){this.ready=!1}},{key:"flip",value:function(){this.flipTimer<=0&&(this.flipTimer=.5,this.triggerFlip=!0)}},{key:"_flip",value:function(){var t="";1===this.direction?(this.direction=-1,t="".concat(this.name,"-flip"),this.display.scale.x=this.direction):(this.direction=1,t="".concat(this.name),this.display.scale.x=this.direction),this.updateBody(t),this.createHitArea(t),this.propelDirection*=-1,this.setPosition(this.x+10*this.propelDirection,this.y),this.emit("flip",this)}},{key:"updateBody",value:function(t){this.world.DestroyBody(this.body),this.body=ke(this.world,s[t]),this.body.SetType(b2.b2BodyType.b2_dynamicBody),this.body.parent=this}},{key:"droppedInTray",value:function(){Ui(Zi(e.prototype),"droppedInTray",this).call(this),this.inWorld=!1,this.direction=1,this.propelDirection=1,this.display.scale.x=this.direction;var t="".concat(this.name);this.updateBody(t),this.createHitArea(t),this.setPosition(this.x,this.y)}},{key:"update",value:function(t){if(Ui(Zi(e.prototype),"update",this).call(this,t),this.inWorld&&this.ready){this.flipTimer-=t;var n=this.body.GetLinearVelocity();n.x+=this.speed*this.propelDirection,this.body.SetLinearVelocity(n)}}},{key:"postUpdate",value:function(t){Ui(Zi(e.prototype),"postUpdate",this).call(this,t),this.triggerFlip&&(this.triggerFlip=!1,this._flip())}}])&&zi(n.prototype,o),i&&zi(n,i),e}(zn);function Qi(t){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tr(t,e){return!e||"object"!==Qi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function er(t,e,n){return(er="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nr(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function or(t,e){return(or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ir=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=ke(t,s["clock-hand-1"]);o.SetType(b2.b2BodyType.b2_staticBody),n=tr(this,nr(e).call(this,o,"clock"));var i=new PIXI.Sprite(PIXI.utils.TextureCache["clock-back.png"]);i.anchor.set(.5),n.addChild(i);var r=new PIXI.Sprite(PIXI.utils.TextureCache["clock-hand-1.png"]);return r.anchor.set(.5),n.addChild(r),n.armBody=ke(t,s["clock-hand-2"]),n.armBody.SetType(b2.b2BodyType.b2_kinematicBody),n.armBody.SetAngle(Object(Ct.f)(45)),n.hand2=new PIXI.Sprite(PIXI.utils.TextureCache["clock-hand-2.png"]),n.hand2.anchor.set(.5),n.hand2.angle=45,n.addChild(n.hand2),n.addChild(i,n.hand2,r),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&or(t,e)}(e,t),n=e,(o=[{key:"droppedInWorld",value:function(){this.armBody.SetPosition(new b2.b2Vec2(we(this.x),we(this.y)))}},{key:"setRotation",value:function(t){this.armBody.SetAngle(t+Object(Ct.f)(45)),this.hand2.rotation=t+Object(Ct.f)(45)}},{key:"adjustRotation",value:function(t){var e=this.armBody.GetAngle();e+=t,this.armBody.SetAngle(e),this.hand2.rotation+=t}},{key:"postUpdate",value:function(t){er(nr(e.prototype),"postUpdate",this).call(this,t),this.armBody.SetActive(this.body.IsActive())}}])&&$i(n.prototype,o),i&&$i(n,i),e}(zn);function rr(t){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ar(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function sr(t){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ur=function(t){function e(t,n,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,a,s=xe(t,5);s.SetType(b2.b2BodyType.b2_kinematicBody),r=this,(i=!(a=sr(e).call(this,s,n))||"object"!==rr(a)&&"function"!=typeof a?lr(r):a).offset={x:0,y:0},i.container=new PIXI.Container,i.container.position.set(i.offset.x,i.offset.y),i.addChild(i.container),i.top=new go(t,i.body,n,!0,90,100),i.top.pivot.set(i.offset.x,i.offset.y),i.container.addChild(i.top),i.barrelPoint1=new PIXI.Container,i.barrelPoint1.position.set(45,-45),i.top.addChild(i.barrelPoint1),i.barrelPoint2=new PIXI.Container,i.barrelPoint2.position.set(45,45),i.top.addChild(i.barrelPoint2),i.barrelPoint3=new PIXI.Container,i.barrelPoint3.position.set(-45,45),i.top.addChild(i.barrelPoint3),i.barrelPoint4=new PIXI.Container,i.barrelPoint4.position.set(-45,-45),i.top.addChild(i.barrelPoint4),i.spawnPoints=[];var l=new PIXI.Point(i.barrelPoint1.x,i.barrelPoint1.y),c=new PIXI.Point(i.barrelPoint2.x,i.barrelPoint2.y),u=new PIXI.Point(i.barrelPoint3.x,i.barrelPoint3.y),h=new PIXI.Point(i.barrelPoint4.x,i.barrelPoint4.y);i.spawnPoints.push(l,c,u,h);return i.waterEmitter1=new Le(lr(i),o,.06,i.spawnPoints[0],-45,750),i.waterEmitter2=new Le(lr(i),o,.06,i.spawnPoints[1],45,750),i.waterEmitter3=new Le(lr(i),o,.06,i.spawnPoints[2],90,750),i.waterEmitter4=new Le(lr(i),o,.06,i.spawnPoints[3],-135,750),Qn(lr(i),[i.waterEmitter1,i.waterEmitter2,i.waterEmitter3,i.waterEmitter4]),i}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}(e,t),n=e,(o=[{key:"droppedInWorld",value:function(t){this.updateEmitter(this.container.rotation),this.startWater()}},{key:"droppedInTray",value:function(){this.body.SetAngle(0),this.container.rotation=0,this.stopWater()}},{key:"onDragEnd",value:function(t){this.startZIndex&&(this.zIndex=this.startZIndex),this.body.SetPosition(new b2.b2Vec2(we(this.x+this.offset.x),we(this.y+this.offset.y))),this.body.SetLinearVelocity(new b2.b2Vec2),this.body.SetAngularVelocity(0),this.setBody(!0),this.emit("dragEnd",this)}},{key:"setPosition",value:function(t,e){this.body.SetPosition(new b2.b2Vec2(we(this.x+this.offset.x),we(this.y+this.offset.y))),this.position.set(t,e)}},{key:"adjustRotation",value:function(t){var e=this.body.GetAngle();e+=t,this.body.SetAngle(e),this.container.rotation+=t,this.updateEmitter(this.container.rotation)}},{key:"updateEmitter",value:function(t){t-=Object(Ct.f)(45),this.toLocal(this.barrelPoint1,this.top,this.spawnPoints[0]),this.toLocal(this.barrelPoint2,this.top,this.spawnPoints[1]),this.toLocal(this.barrelPoint3,this.top,this.spawnPoints[2]),this.toLocal(this.barrelPoint4,this.top,this.spawnPoints[3]),this.waterEmitter1.updateForceAngle(t),this.waterEmitter2.updateForceAngle(t+Object(Ct.f)(90)),this.waterEmitter3.updateForceAngle(t+Object(Ct.f)(180)),this.waterEmitter4.updateForceAngle(t-Object(Ct.f)(90))}},{key:"update",value:function(t){this.waterEmitter1.update(t),this.waterEmitter2.update(t),this.waterEmitter3.update(t),this.waterEmitter4.update(t),this.updateEmitter(this.top.rotation)}},{key:"getRotationTarget",value:function(){return this.container}}])&&ar(n.prototype,o),i&&ar(n,i),e}(zn);function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yr(t,e,n){return(yr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dr(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function dr(t){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mr(t,e){return(mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gr=function(t){function e(t,n){var o,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(o=!(r=dr(e).call(this,t,n))||"object"!==hr(r)&&"function"!=typeof r?fr(i):r).front=new PIXI.Sprite(PIXI.utils.TextureCache["cup-front.png"]),o.front.name=n+" Front Sprite",o.front.anchor.set(.5),o.front.visible=!1,o.back=new PIXI.Sprite(PIXI.utils.TextureCache["cup-back.png"]),o.back.name=n+" Back Sprite",o.back.anchor.set(.5),o.back.visible=!1,o.addChild(o.back,o.front),o.on("dragStart",o.startDrag,fr(o)),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mr(t,e)}(e,t),n=e,(o=[{key:"startDrag",value:function(t){this.back.position.set(0,0),this.addChildAt(this.back,0),this.setSingleDisplay(!0)}},{key:"droppedInTray",value:function(){yr(dr(e.prototype),"droppedInTray",this).call(this),this.setSingleDisplay(!0)}},{key:"droppedInWorld",value:function(t){this.setSingleDisplay(!1);var e=this.back,n=t.toLocal(new PIXI.Point(e.x,e.y),e.parent);e.position.set(n.x,n.y),e.rotation=e.parent.rotation,t.addChild(e)}},{key:"setSingleDisplay",value:function(t){this.back.visible=!t,this.front.visible=!t,this.display.visible=t}},{key:"update",value:function(t){yr(dr(e.prototype),"update",this).call(this,t),this.back.rotation=this.rotation,this.back.position.set(this.x,this.y)}}])&&pr(n.prototype,o),i&&pr(n,i),e}(Kn);function br(t){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xr(t,e,n){return(xr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kr(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sr(t,e){return(Sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pr=function(t){function e(t,n,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,a,l=ke(t,s[n]);return l.SetType(b2.b2BodyType.b2_kinematicBody),r=this,(i=!(a=kr(e).call(this,l,n))||"object"!==br(a)&&"function"!=typeof a?wr(r):a).top=new PIXI.Sprite(PIXI.utils.TextureCache["faucet.png"]),i.top.name="Faucet Top Sprite",i.top.anchor.set(.5),i.addChild(i.top),i.spawnPoint=new PIXI.Point(-2,65),i.waterEmitter=new Le(wr(i),o,.06,i.spawnPoint,90,400),Qn(wr(i),i.waterEmitter),i}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sr(t,e)}(e,t),n=e,(o=[{key:"droppedInWorld",value:function(t){this.startWater()}},{key:"droppedInTray",value:function(){xr(kr(e.prototype),"droppedInTray",this).call(this),this.stopWater()}},{key:"update",value:function(t){this.waterEmitter.update(t)}}])&&vr(n.prototype,o),i&&vr(n,i),e}(zn),Or=n(138);function Ir(t){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Cr(t,e){return!e||"object"!==Ir(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jr(t,e,n){return(jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Br(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _r(t,e){return(_r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Er=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=ke(t,s[n]);i.SetType(b2.b2BodyType.b2_dynamicBody),o=Cr(this,Br(e).call(this,i,n));var r=[PIXI.utils.TextureCache["hard-circle.png"]];return o.emitter=new PIXI.particles.Emitter(Ml.current,r,Or),o.emitter.emit=!1,o.display=new PIXI.Sprite(PIXI.utils.TextureCache[n+".png"]),o.display.anchor.set(.5),o.addChild(o.display),o.on("dragStart",(function(t){o.emitter.emit=!1,o.limitRotation&&o.body.SetAngle(0)})),o.on("dragEnd",(function(t){o.limitRotation&&o.body.SetAngle(0)})),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_r(t,e)}(e,t),n=e,(o=[{key:"droppedInWorld",value:function(){this.emitter.emit=!0}},{key:"droppedInTray",value:function(){this.emitter.emit=!1}},{key:"update",value:function(t){jr(Br(e.prototype),"update",this).call(this,t),this.emitter.spawnPos.x=this.x-28,this.emitter.spawnPos.y=this.y-45,this.emitter.update(t)}}])&&Tr(n.prototype,o),i&&Tr(n,i),e}(zn);function Lr(t){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xr(t,e){return!e||"object"!==Lr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dr(t,e){return(Dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hr=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Xr(this,Ar(e).call(this,PIXI.utils.TextureCache["hamster-hand.png"]))).name="Hamster Hand";var n=t.getLocalBounds();return t.anchor.set(196/n.width,0/n.height),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dr(t,e)}(e,PIXI.Sprite),n=e,(o=[{key:"show",value:function(){return this.visible=!0,cjs.Tween.get(this).to({alpha:1},250)}},{key:"hide",value:function(){return cjs.Tween.get(this).to({alpha:0},250).set({visible:!1},this)}}])&&Rr(n.prototype,o),i&&Rr(n,i),e}();function Gr(t){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mr(t,e){return(Mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vr=function(t){function e(){var t,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=Wr(e).call(this))||"object"!==Gr(o)&&"function"!=typeof o?Nr(n):o).interactive=!0,t.sortableChildren=!0,t.placedAnItem=!1,t.dragTools=[],t.selectedTool=null,t.activeDragTools=[],t.toolGrabbed=!1,t.rotationControlVOTracker=0,t.nextRotationTracker=0,t.boundsOffset={left:150,right:0,up:0,down:0};var i=new b2.b2Vec2(0,30);return t.world=new b2.b2World(i,!1),t.world.SetContinuousPhysics(!1),t.dragManager=new Fn(Nr(t),t.handleDragStart.bind(Nr(t)),t.handleDragEnd.bind(Nr(t))),PIXI.utils.isMobile.any||(t.keyDownBinding=t.handleKeyDownEvents.bind(Nr(t))),t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mr(t,e)}(e,t),n=e,(o=[{key:"build",value:function(){this.ui=new PIXI.Container,this.ui.name="UI",this.ui.zIndex=10,this.ui.sortableChildren=!0,this.toolTray=new Xo,this.toolTray.position.y=45,this.toolTray.setOnScreen(),this.rotationControls=new Wo,this.rotationControls.visible=!1,this.addChild(this.rotationControls),this.flipControls=new Jo,this.flipControls.visible=!1,this.addChild(this.flipControls),this.collisionWorld=new _i,this.collisionWorld.zIndex=-1,this.addChild(this.collisionWorld),this.hamsterHand=new Hr,this.hamsterHand.visible=!1,this.hamsterHand.alpha=0,this.homeBtn=new lt("home-btn"),this.homeBtn.zIndex=10,this.trashBtn=new lt("trash-btn"),this.ui.addChild(this.toolTray,this.rotationControls,this.flipControls,this.trashBtn,this.homeBtn),Wl.instance&&"MenuMusic"!==Wl.instanceName||Wl.play("GameMusic",U.musicVolume)}},{key:"createWall",value:function(t,e,n,o){var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=new b2.b2FixtureDef;a.shape=new b2.b2PolygonShape,a.shape.SetAsBox(we(e/2),we(n/2));var s=new b2.b2BodyDef,l=t.CreateBody(s);l.CreateFixture(a);var c=new b2.b2Vec2(we(o),we(i));return l.SetTransform(c,r),l}(this.world,n,o,t,e,0);i.SetType(b2.b2BodyType.b2_staticBody),i.GetFixtureList().SetFriction(.1)}},{key:"setActive",value:function(t){this.rotationControls.setActive(t),this.flipControls.setActive(t),this.homeBtn.setActive(t),this.trashBtn.setActive(t),t?(this.rotationControls.on("rotate",this.handleRotate,this),this.flipControls.on("flip",this.handleFlip,this),document.addEventListener("keydown",this.keyDownBinding,!1),this.trashBtn.on("pointertap",this.handleTrashButtonClicked,this)):(this.rotationControls.removeAllListeners(),this.flipControls.removeAllListeners(),document.removeEventListener("keydown",this.keyDownBinding,!1))}},{key:"handleTrashButtonClicked",value:function(t){var e=this;t.data.isPrimary&&!this.dragManager.selected&&(Gl.play("molly_tap",U.mollyTapVolume),this.activeDragTools.forEach((function(t){var n=e.collisionWorld.getCollider(t);n&&e.collisionWorld.moveColliderOffscreen(n),e.toolTray.returnToolToTray(t),e.clearToolSelections(),t.droppedInTray&&t.droppedInTray()})),this.activeDragTools.length=0)}},{key:"handleKeyDownEvents",value:function(t){if(this.selectedTool)switch(t.keyCode){case 37:this.rotationControls.visible&&this.rotationControls.currentTarget?this.rotationControls.rotateCounterClockwise():this.flipControls.visible&&this.flipControls.currentTarget&&this.flipControls.flipTarget();break;case 39:this.rotationControls.visible&&this.rotationControls.currentTarget?this.rotationControls.rotateClockwise():this.flipControls.visible&&this.flipControls.currentTarget&&this.flipControls.flipTarget()}}},{key:"createTools",value:function(t){for(var e=i.tools,n=i.toys,o=t.length,r=0;r<o;r++){var a=t[r],s=void 0;switch(a){case"clock":s=ir;break;case"submarine":case"shark":s=Ki;break;case"blender":s=Vi;break;case"cup":s=gr;break;case"faucet":s=Pr;break;case"funnel":s=ti;break;case"slide":s=ai;break;case"see-saw":s=vi;break;case"whale":s=Er;break;case"wheel":s=Po;break;case"gun":s=io;break;case"multi-gun":s=ur;break;case"trough":s=Di;break;default:void 0!==n[a]?s=Kn:void 0!==e[a]&&(s=jo)}var l=new s(this.world,a,this.waterSystem);l.setBody(!1),s===Ki&&l.on("flip",this.handleFlip,this),this.collisionWorld.addColliderToWorld(l),this.collisionWorld.moveEntityColliderOffscreen(l);var c=void 0;for(var u in void 0!==n[a]?c=n:void 0!==e[a]?c=e:console.log("make sure we have the tool or toy listed in config.json"),c[a])l[u]=c[a][u];l.startZIndex=l.zIndex,this.dragTools.push(l),this.dragManager.add(l)}this.dragTools.length>0?(this.toolTray.addToolsToTray(this.dragTools),this.toolTray.positionTools(),this.toolTray.adjustTray()):this.toolTray.visible=!1}},{key:"clearToolSelections",value:function(t){var e=this,n=function(t){e.selectedTool=null,e.rotationControls.visible=!1,e.rotationControls.clearTarget(),e.flipControls.visible=!1,e.flipControls.clearTarget()};t?this.selectedTool&&this.selectedTool!==t.target&&t.target!==this.rotationControls.counterClockwiseBtn&&t.target!==this.rotationControls.clockwiseBtn&&t.target!==this.flipControls.leftButton&&t.target!==this.flipControls.rightButton&&n():n()}},{key:"handleToolDragStart",value:function(t){this.toolGrabbed=!0,this.grabbedFromTray=t.parent===this.toolTray.toolHolder;var e=this.activeDragTools.indexOf(t);e>-1&&this.activeDragTools.splice(e,1),this.selectedTool=t,this.rotationControls.visible=!1,this.flipControls.visible=!1,t.scale.set(1),t.allowFlip&&this.handleFlip(t);var n=this.toLocal(new PIXI.Point(t.x,t.y),t.parent);t.setPosition(n.x,n.y),t.zIndex=this.ui.zIndex+1,this.addChild(t)}},{key:"handleToolDragEnd",value:function(t){var e=this;this.toolGrabbed=!1,this.grabbedFromTray=!1;var n,o,i,r,a=this.collisionWorld.getCollider(t);if(Se(t,this.toolTray))Gl.play("r-whoosh-short"),this.collisionWorld.moveColliderOffscreen(a),this.rotationControls.clearTarget(),this.flipControls.clearTarget(),this.toolTray.returnToolToTray(t),this.clearToolSelections(),t.droppedInTray();else if(!this.toolTray.isHoldingTool(t)){if(this.setEntityInBounds(t),this.collisionWorld.moveColliderToEntity(t),this.collisionWorld.checkPolygonCollision(a),o=(n=a).position.x,i=n.position.y,r=n.getBounds(),!(o-r.width/2>-Nl.safeWidth/2&&o+r.width/2<Nl.safeWidth/2&&i-r.height/2>-Nl.maxHeight/2&&i+r.height/2<Nl.maxHeight/2))return this.toolTray.returnToolToTray(t),this.clearToolSelections(),t.droppedInTray(),this.collisionWorld.moveColliderOffscreen(a),void Gl.play("r-whoosh-short");this.activeDragTools.push(t),this.placedAnItem=!0;var s=Object(Ct.a)(a,t),l=Object(Ct.d)(s,0,100,0,500);l=Object(Ct.c)(l,0,500),t.animateTo(new PIXI.Point(a.position.x,a.position.y),l).call((function(n){if(t.allowRotation){e.rotationControls.visible=!0,e.rotationControls.setTarget(t),e.allowFirstPlay7=!0;var o=t.getRotationTarget(),i=e.toLocal(o,o.parent);e.rotationControls.position.set(i.x,i.y),Fl.isPlaying()||e.freeplay||-1===U.selectedLevel.indexOf("library")&&-1===U.selectedLevel.indexOf("cafeteria")||JSON.parse(localStorage.getItem("heardRotationTutorial"))||(localStorage.setItem("heardRotationTutorial",JSON.stringify(!0)),Fl.play("1stplay-4"),e.clickTutorialForControls(e.rotationControls.clockwiseBtn)),t instanceof ir&&!e.freeplay&&(Fl.isPlaying()||JSON.parse(localStorage.getItem("seenClockArmRotationTutorial"))||(localStorage.setItem("seenClockArmRotationTutorial",JSON.stringify(!0)),e.sadie?e.sadie.talk("library-4"):Fl.play("library-4"),e.clickTutorialForControls(e.rotationControls.clockwiseBtn)))}if(t.allowFlip){e.flipControls.visible=!0,e.flipControls.setTarget(t);var r=e.toLocal(t,t.parent);e.flipControls.position.set(r.x,r.y),Fl.isPlaying()||e.freeplay||-1===U.selectedLevel.indexOf("library")&&-1===U.selectedLevel.indexOf("cafeteria")||JSON.parse(localStorage.getItem("heardFlipTutorial"))||(localStorage.setItem("heardFlipTutorial",JSON.stringify(!0)),Fl.play("1stplay-5"),e.clickTutorialForControls(e.flipControls.rightButton))}t.droppedInWorld(e),t.createHitArea(),e.emit("droppedInWorld")}))}}},{key:"clickTutorialForControls",value:function(t){var e=this.hamsterHand.parent.toLocal(new PIXI.Point(t.x,t.y),t.parent);this.hamsterHand.position.set(e.x,e.y),this.hamsterHand.alpha=0,this.hamsterHand.visible=!0,this.hamsterHand.scale.set(1),cjs.Tween.get(this.hamsterHand).to({alpha:1},250).wait(1500).to({alpha:0},250),cjs.Tween.get(this.hamsterHand.scale,{loop:2}).to({x:.9,y:.9},250,cjs.Ease.cubicOut).to({x:1,y:1},250,cjs.Ease.cubicIn)}},{key:"handleRotate",value:function(t){Gl.play("click-rotate"),this.collisionWorld.getCollider(t).rotation=t.rotation,cjs.Tween.removeTweens(this.rotationControls)}},{key:"handleFlip",value:function(t){Gl.play("click-rotate"),t.direction&&(this.collisionWorld.getCollider(t).scale.x=t.direction)}},{key:"setEntityInBounds",value:function(t){var e=t.getLocalBounds(),n=-Nl.safeWidth/2+e.width/2+this.boundsOffset.left,o=Nl.safeWidth/2-e.width/2+this.boundsOffset.right,i=Object(Ct.c)(t.position.x,n,o),r=-Nl.safeHeight/2+e.height/2+this.boundsOffset.up,a=Nl.safeHeight/2-e.height/2+this.boundsOffset.down,s=Object(Ct.c)(t.position.y,r,a);t.setPosition(i,s)}},{key:"handleHomeButtonClicked",value:function(){Gl.play("molly_tap",U.mollyTapVolume),this.gotoLevelSelect()}},{key:"gotoLevelSelect",value:function(){this.ready=!1,Ml.gotoScene("LevelSelect")}},{key:"resize",value:function(t,e){this.positionDynamicUI(t)}},{key:"positionDynamicUI",value:function(t){var e=Object(Ct.c)(-t/2,-722,-Nl.safeWidth/2);e+=this.homeBtn.getBounds().width/2+30,this.homeBtn.position.set(e,-332),this.trashBtn.position.set(this.homeBtn.x+this.homeBtn.getBounds().width+20,this.homeBtn.y)}},{key:"update",value:function(t){this.ready&&(this.world.Step(.016,8,3,3),this.world.ClearForces())}},{key:"handleDragStart",value:function(){}},{key:"handleDragEnd",value:function(){}},{key:"stopDragging",value:function(){var t=this.dragManager.selected;t&&(this.dragManager.stopDragging(),this.toolTray.returnToolToTray(t),this.clearToolSelections())}},{key:"unload",value:function(){this.world=null,this.waterSystem.particleSystem=null,this.waterSystem=null}}])&&Fr(n.prototype,o),r&&Fr(n,r),e}(et);function Yr(t){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ur(t,e){return!e||"object"!==Yr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qr(t,e){return(qr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kr=function(t){function e(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b2.b2BodyType.b2_dynamicBody;return zr(this,e),(o=Ur(this,Zr(e).call(this,PIXI.utils.TextureCache[n+".png"]))).anchor.set(.5),o.name=n,o.world=t,o.body=ke(t,s[n]),o.body.SetType(i),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qr(t,e)}(e,PIXI.Sprite),n=e,(o=[{key:"setPosition",value:function(t,e){this.body.SetPosition(new b2.b2Vec2(we(t),we(e))),this.position.set(t,e)}},{key:"setRotation",value:function(t){this.body.SetAngle(t),this.rotation=t}},{key:"update",value:function(t){var e=this.body,n=e.GetPosition(),o=e.GetAngle();this.position.set(ve(n.x),ve(n.y)),this.rotation=o,this.position.y>Nl.maxHeight&&this.emit("offscreen",this)}}])&&Jr(n.prototype,o),i&&Jr(n,i),e}();function Qr(t){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ta(t,e){return!e||"object"!==Qr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ea(t){return(ea=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function na(t,e){return(na=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oa=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=ta(this,ea(e).call(this))).ready=!0,t.accumulation=0,t.maxAccumulation=1,t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&na(t,e)}(e,PIXI.utils.EventEmitter),n=e,(o=[{key:"increment",value:function(t){this.accumulation+=t,this.accumulation>=this.maxAccumulation&&(this.accumulation=this.maxAccumulation)}},{key:"decrement",value:function(t){this.accumulation-=t,this.accumulation<=0&&(this.accumulation=0)}},{key:"update",value:function(t){this.ready&&this.decrement(.03*t)}},{key:"reset",value:function(){this.ready=!0,this.accumulation=0}}])&&$r(n.prototype,o),i&&$r(n,i),e}();function ia(t){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ra(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function aa(t,e){return!e||"object"!==ia(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sa(t){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function la(t,e){return(la=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ca=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=aa(this,sa(e).call(this))).name="Goal",n.waterSystem=t,n.point=new PIXI.Point,n.rectangle=new PIXI.Rectangle,n.waterMeter=new oa,n.progressMeter=new oa,n.complete=!1,n.ready=!1,n.timer=0,n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&la(t,e)}(e,PIXI.Container),n=e,(o=[{key:"update",value:function(t){var e=this.waterMeter.accumulation,n=this.waterSystem.particleSystem,o=n.GetPositionBuffer(),i=n.GetParticleCount();this.timer+=t,this.timer>.3&&this.progressMeter.reset();for(var r=Ml.current.goals.length,a=0;a<i;a++){var s=o[a];this.point.x=ve(s.x),this.point.y=ve(s.y),this.rectangle.contains(this.point.x,this.point.y)&&(n.DestroyParticle(a),this.emit("destroyParticle",this.point),this.ready&&(1===this.progressMeter.accumulation&&r>1?this.waterMeter.increment(1):this.waterMeter.increment(t)),this.timer=0,this.progressMeter.increment(t))}!this.complete&&this.waterMeter.accumulation>=1?(this.complete=!0,this.emit("complete",this)):this.complete&&this.waterMeter.accumulation<1&&(this.complete=!1),e<this.waterMeter.accumulation?this.emit("increase",this):(e>this.waterMeter.accumulation||0===this.waterMeter.accumulation)&&this.emit("decrease",this),this.waterMeter.update(t)}},{key:"setComplete",value:function(){this.ready=!1,this.complete=!0,this.waterMeter.accumulation=1,this.waterMeter.ready=!1,this.progressMeter.accumulation=1,this.progressMeter.ready=!1}},{key:"reset",value:function(){this.waterMeter.reset(),this.complete=!1,this.ready=!0}}])&&ra(n.prototype,o),i&&ra(n,i),e}();function ua(t){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ha(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fa(t,e){return!e||"object"!==ua(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ya(t){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function da(t,e){return(da=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ma=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ha(this,e),(n=fa(this,ya(e).call(this))).name="Progress Bar",n.goal=t,n.velocity=0,n.numberOfGoals=o,n.complete=!1,n.arrow=new PIXI.Sprite(PIXI.utils.TextureCache["progress-arrow.png"]),n.arrow.anchor.set(.5,1);var i=[PIXI.utils.TextureCache["particle-star.png"],PIXI.utils.TextureCache["particle-star-white.png"]];sn.spawnType="rect",sn.spawnRect={x:-100,y:-30,w:200,h:60},n.emitter=new dn(i,sn),n.emitter.position.y-=10,n.emitter.stop(),n.hightlight=new PIXI.Sprite(PIXI.utils.TextureCache["progress-bar-highlight.png"]),n.hightlight.anchor.set(.5),n.hightlight.alpha=0,n.hightlight.visible=!1;var r=new PIXI.Sprite(PIXI.utils.TextureCache["progress-bar.png"]);r.anchor.set(.5);var a=new PIXI.Sprite(PIXI.utils.TextureCache["progress-bar-filled.png"]);a.anchor.set(.5);var s=n.size=a.getBounds();return n.bar=new PIXI.Graphics,n.bar.beginFill(950311),n.bar.drawRect(-s.width/2,-s.height/2,s.width,s.height),n.bar.alpha=.5,a.mask=n.bar,n.addChild(n.emitter,n.hightlight,n.arrow,r,a,n.bar),n.progressSFX=Gl.play("fill-1"),n.progressSFX.loop=!0,n.progressSFX.volume=0,n.level8=-1!==U.selectedLevel.indexOf("8"),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&da(t,e)}(e,PIXI.Container),n=e,(o=[{key:"setArrow",value:function(t){var e=this.getLocalBounds();switch(this.arrow.position.set(0,0),this.arrow.angle=0,t){case"left":this.arrow.x=-e.width/2+3,this.arrow.angle=-90;break;case"right":this.arrow.x=e.width/2-3,this.arrow.angle=90;break;case"up":this.arrow.y=-e.height/2;break;case"down":this.arrow.y=e.height/2,this.arrow.angle=180}}},{key:"updateProgress",value:function(t){var e=this.size;this.bar.clear(),this.bar.beginFill(950311),this.bar.drawRect(-e.width/2,-e.height/2,e.width*t,e.height)}},{key:"update",value:function(t){var e=0,n=this.goal.waterMeter.accumulation,o=this.goal.progressMeter.accumulation;n>o||1===this.numberOfGoals?e=n:2===this.numberOfGoals&&(e=o),0!==Ml.current.activeDragTools.length||this.level8?this.level8&&(Ml.current.helpingFill||(e=0)):e=0,e>=this.velocity&&!this.complete?this.progressSFX.volume=.5*this.velocity:this.progressSFX.volume=0,this.velocity=Object(Ct.b)(this.velocity,e,5*t),this.updateProgress(this.velocity),this.velocity>=.98?(this.hightlight.visible=!0,this.hightlight.alpha=Object(Ct.b)(this.hightlight.alpha,1,5*t),this.complete||(this.emitter.start(),this.complete=!0,Gl.play("fill-2"),this.emit("complete",this))):(this.hightlight.visible=!1,this.hightlight.alpha=Object(Ct.b)(this.hightlight.alpha,0,5*t),this.complete&&(this.emitter.stop(),this.complete=!1,this.emit("complete",this)))}},{key:"cleanup",value:function(){this.emitter.emitter.destroy(),this.emitter=null,this.progressSFX.stop(),this.progressSFX=null}}])&&pa(n.prototype,o),i&&pa(n,i),e}();function ga(t){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ba(t,e){return!e||"object"!==ga(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function va(t){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wa(t,e){return(wa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xa=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ba(this,va(e).call(this,t,.15,.01))).name="window-seal",n.seal=new PIXI.Sprite(PIXI.utils.TextureCache["window-seal.png"]),n.seal.anchor.set(.5),n.addChild(n.seal);var o=n.seal.getLocalBounds();return n.rectangle.x=-o.width/2+20,n.rectangle.y=-o.height/2-20,n.rectangle.width=o.width-40,n.rectangle.height=o.height,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wa(t,e)}(e,t),e}(ca);function ka(t){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Pa(t,e){return!e||"object"!==ka(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oa(t){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ia(t,e){return(Ia=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ta=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Pa(this,Oa(e).call(this,t,"plate",b2.b2BodyType.b2_staticBody))).food1=new PIXI.Sprite(PIXI.utils.TextureCache["plate-food1.png"]),n.food1.anchor.set(.5),n.food1.startPos=new PIXI.Point(-46,10),n.food1.position.set(n.food1.startPos.x,n.food1.startPos.y),n.food2=new PIXI.Sprite(PIXI.utils.TextureCache["plate-food2.png"]),n.food2.anchor.set(.5),n.food2.startPos=new PIXI.Point(30,16),n.food2.position.set(n.food2.startPos.x,n.food2.startPos.y),n.food3=new PIXI.Sprite(PIXI.utils.TextureCache["plate-food3.png"]),n.food3.anchor.set(.5),n.food3.startPos=new PIXI.Point(0,0),n.food3.position.set(n.food3.startPos.x,n.food3.startPos.y),n.food4=new PIXI.Sprite(PIXI.utils.TextureCache["plate-food4.png"]),n.food4.anchor.set(.5),n.food4.startPos=new PIXI.Point(-48,-15),n.food4.position.set(n.food4.startPos.x,n.food4.startPos.y),n.food5=new PIXI.Sprite(PIXI.utils.TextureCache["plate-food5.png"]),n.food5.anchor.set(.5),n.food5.startPos=new PIXI.Point(53,-18),n.food5.position.set(n.food5.startPos.x,n.food5.startPos.y),n.food6=new PIXI.Sprite(PIXI.utils.TextureCache["plate-food6.png"]),n.food6.anchor.set(.5),n.food6.startPos=new PIXI.Point(-21,-23),n.food6.position.set(n.food6.startPos.x,n.food6.startPos.y),n.addChild(n.food1,n.food2,n.food3,n.food4,n.food5,n.food6),n.foods=[n.food1,n.food2,n.food3,n.food4,n.food5,n.food6],n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ia(t,e)}(e,t),n=e,(o=[{key:"clean",value:function(){for(var t=0,e=this.foods.length;t<e;t++)this._clean(this.foods[t])}},{key:"_clean",value:function(t){var e=Math.atan2(t.y,t.x);e+=Object(Ct.f)(Object(Ct.e)(-45,45));var n=100*Math.cos(e),o=100*Math.sin(e);cjs.Tween.get(t).to({angle:Object(Ct.e)(-180,180),x:n,y:o,alpha:0},500,cjs.Ease.cubicInOut)}},{key:"reset",value:function(){for(var t=0,e=this.foods.length;t<e;t++){var n=this.foods[t];n.alpha=1,n.position.set(n.startPos.x,n.startPos.y),n.angle=0}}}])&&Sa(n.prototype,o),i&&Sa(n,i),e}(Kr),Ca=n(139),ja=n(140);function Ba(t){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ea(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function La(t,e){return!e||"object"!==Ba(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ra(t){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xa(t,e){return(Xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Aa=function(t){function e(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return _a(this,e),(o=La(this,Ra(e).call(this))).hintLayer=t,o.activeTools=n,o.ready=!1,o.tracker=0,o.timer=i,o.maxTimer=i,o.reset(),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xa(t,e)}(e,PIXI.utils.EventEmitter),n=e,(o=[{key:"start",value:function(){this._checkVisible()||(this.ready=!0)}},{key:"stop",value:function(){this.ready=!1}},{key:"reset",value:function(){this.hintLayer.children.forEach((function(t){t.visible=!1,t.alpha=0})),this.timer=this.maxTimer}},{key:"update",value:function(t){this.ready&&(this.timer-=t,this.timer<=0&&(this.timer=this.maxTimer,this.handleDisplayHelper()))}},{key:"handleDisplayHelper",value:function(){for(var t=null,e=0,n=this.hintLayer.children.length;e<n;e++){var o=this.hintLayer.children[e];if(!o.visible){for(var i=0,r=this.activeTools.length;i<r;i++){var a=this.activeTools[i];if(Object(Ct.a)(o,a)<30){if(o.name===a.name)continue;t=o,o.visible=!0,cjs.Tween.get(o).to({alpha:1},500)}else t=o,o.visible=!0,cjs.Tween.get(o).to({alpha:1},500)}if(t)break}}if(!t)for(var s=0,l=this.hintLayer.children.length;s<l;s++){var c=this.hintLayer.children[s];if(!c.visible){c.visible=!0,cjs.Tween.get(c).to({alpha:1},500),t=c;break}}this.emit("showHint",t),this._checkVisible()&&this.stop()}},{key:"_checkVisible",value:function(){for(var t=0,e=0,n=this.hintLayer.children.length;e<n;e++)this.hintLayer.children[e].visible&&t++;return t===this.hintLayer.children.length}}])&&Ea(n.prototype,o),i&&Ea(n,i),e}();function Da(t){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ha(t,e){return!e||"object"!==Da(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ga(t){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fa(t,e){return(Fa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wa=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n="";-1!==U.selectedLevel.indexOf("library")?n="lib":-1!==U.selectedLevel.indexOf("cafeteria")?n="cafe":-1!==U.selectedLevel.indexOf("hallway")&&(n="hall");for(var o=[n+"GIF1",n+"GIF2",n+"GIF3",n+"GIF4",n+"GIF5",n+"GIF6",n+"GIF7"],i=[],r=0;r<o.length;r++)i.push(PIXI.utils.TextureCache[o[r]]);return(t=Ha(this,Ga(e).call(this,i))).loop=!0,t.animationSpeed=.05,t.gotoAndStop(0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fa(t,e)}(e,PIXI.AnimatedSprite),e}();function Na(t){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Va(t,e){return!e||"object"!==Na(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ya(t){return(Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function za(t,e){return(za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ja=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Va(this,Ya(e).call(this))).name="Tutorial Sadie",t.sadie=new ne(PIXI.Loader.shared.resources.SadieSketch.spineData),t.sadie.position.set(0,0),t.sadie.setActive(!0),t.sadie.play("1stplay-2"),t.sadie.pause(),t.addChild(t.sadie),t.gif=new Wa,t.gif.scale.set(.8),t.gif.anchor.set(.5,0),t.gif.position.set(0,-100),t.gif.alpha=0,t.sadie.skeleton.findSlot("notebookSadie Big").currentSprite.addChild(t.gif),t.nextBtn=new lt("skip-btn"),t.nextBtn.position.set(435,235),t.nextBtn.alpha=0,t.pulsingRings=new dt(t.nextBtn.getLocalBounds().width/2+10),t.pulsingRings.position.set(t.nextBtn.x,t.nextBtn.y),t.pulsingRings.alpha=0,t.pulsingRings.play(),t.addChild(t.pulsingRings,t.nextBtn),t.addChild(t.sadie,t.pulsingRings,t.nextBtn),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&za(t,e)}(e,PIXI.Container),n=e,(o=[{key:"play",value:function(t){this.sadie.resume(),this.sadie.talk(t)}},{key:"showGif",value:function(){cjs.Tween.get(this.gif).to({alpha:1},500,cjs.Ease.cubicInOut).call(this.gif.gotoAndPlay,[0],this.gif)}},{key:"showButton",value:function(){cjs.Tween.get(this.pulsingRings).to({alpha:1},500,cjs.Ease.cubicInOut),cjs.Tween.get(this.nextBtn).to({alpha:1},500,cjs.Ease.cubicInOut)}}])&&Ma(n.prototype,o),i&&Ma(n,i),e}();function Ua(t){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Za(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qa(t,e,n,o,i,r,a){try{var s=t[r](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,i)}function Ka(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(t){qa(r,o,i,a,s,"next",t)}function s(t){qa(r,o,i,a,s,"throw",t)}a(void 0)}))}}function Qa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ts(t,e,n){return(ts="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=es(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function es(t){return(es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ns(t,e){return(ns=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var os=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=es(e).call(this))||"object"!==Ua(o)&&"function"!=typeof o?$a(n):o).name="Game Scene",t.stars=[],t.goals=[],t.progressBars=[],t.goalHighlights=[],t.brokenPipes=[],t.patches=[],t.obstacles=[],t.plates=[],t.foodBits=[],t.buckets=[],t.fountains=[],t.level=i[U.selectedLevel],t.idlePrompts=new J(["help-1","help-2","help-3","clearlevel"],!0),t.idlePrompter=new Zt(t.playIdleVO.bind($a(t)),20),t.shownHints=[],t.helpVO=new J(["help-4","help-5","help-6"],!0),t}var n,r,a,l,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ns(t,e)}(e,t),n=e,(r=[{key:"preload",value:(c=Ka(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U.loading.Game){t.next=18;break}return U.loading.Game=!0,e=[],Za(o.Tutorial).forEach((function(t){e.push(t)})),Za(o.TutorialLib).forEach((function(t){e.push(t)})),Za(o.TutorialCafe).forEach((function(t){e.push(t)})),Za(o.TutorialHall).forEach((function(t){e.push(t)})),Za(o.Game).forEach((function(t){e.push(t)})),(n=PIXI.Loader.shared).add(e),t.abrupt("return",new Promise((function(t){n.load(t)})));case 18:return t.abrupt("return",Promise.resolve());case 19:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"build",value:function(){var t=this;ts(es(e.prototype),"build",this).call(this);var n=new PIXI.Sprite(PIXI.utils.TextureCache[this.level.background]);if(n.anchor.set(.5),this.pulseLayer=new PIXI.Container,this.hintLayer=new PIXI.Container,this.waterSystem=new Be(this.world,"water-blur",5,400,U.waterColorArray,.5),this.waterSystem.zIndex=1,this.whiteOverlay=new Rn,this.completePanel=new Cn,this.ui.addChild(this.whiteOverlay,this.completePanel,this.hamsterHand),this.addChild(n,this.pulseLayer,this.hintLayer,this.waterSystem,this.ui),this.createBrokenPipes(this.level.brokenPipes),this.boundsOffset.up=Nl.maxHeight/2+this.brokenPipes[0].y+this.brokenPipes[0].getBounds().height/2,this.createPatches(this.level.patches),this.createTools(this.level.tools),1===this.toolTray.toolHolder.children.length&&(this.idlePrompts.array.push("help-4"),this.idlePrompts.array.push("help-6")),-1!==U.selectedLevel.indexOf("library")){this.createBuckets(this.level.buckets,this.level.progressBars),this.sadie=new ne(PIXI.Loader.shared.resources.GameSadie.spineData,void 0,!0),this.sadie.interactive=!0,this.sadie.position.set(447,240.5),this.sadie.skeleton.scaleX=.23,this.sadie.skeleton.scaleY=.23,this.addChild(this.sadie);var o=U.selectedLevel.split("-");1==parseInt(o[1])&&(this.sadie.visible=!1);var i=new PIXI.Sprite(PIXI.utils.TextureCache["book-end.png"]);i.anchor.set(.5),i.position.set(482,231),this.addChild(i);var r=new PIXI.Sprite(PIXI.utils.TextureCache["window.png"]);r.anchor.set(.5),r.position.set(261,155),this.addChildAt(r,this.getChildIndex(this.pulseLayer)+1),this.windowSeal=new xa(this.waterSystem),this.windowSeal.zIndex=2,this.windowSeal.position.set(261,271),this.windowSeal.rectangle.x=this.windowSeal.position.x-this.windowSeal.rectangle.width/2,this.windowSeal.rectangle.y=this.windowSeal.position.y-this.windowSeal.rectangle.height/2,this.addChild(this.windowSeal),this.goals.push(this.windowSeal),this.collisionWorld.addColliderToWorld(this.windowSeal);var a=new ma(this.windowSeal);a.position.set(261,331),a.setArrow("up"),this.ui.addChildAt(a,0),this.progressBars.push(a),this.createWall(340,216,10,100),this.createWall(264,271,200,10);var s=new dt(r.getLocalBounds().height/2+10);s.position.set(r.position.x,r.position.y),s.alpha=0,s.play(),this.pulseLayer.addChild(s),this.goalHighlights.push(s),this.progressBars.forEach((function(e){e.numberOfGoals=t.level.buckets.length+1}))}if(-1!==U.selectedLevel.indexOf("cafeteria")){this.createTables(this.level.tables),this.createDirtyPlates(this.level.plates,this.level.goals,this.level.progressBars),this.mateo=new ne(PIXI.Loader.shared.resources.GameMateo.spineData),this.mateo.interactive=!0,this.mateo.position.set(430,292),this.mateo.play("Plate Grab"),this.mateo.pause(),this.addChild(this.mateo);var l=this.mateo.skeleton.findSlot("Images/Plate");l.currentSprite.parent.addChild(this.plates[0]),l.currentSprite.alpha=0,this.plates[0].body.SetActive(!1),this.plates[0].setPosition(l.currentSprite.x,l.currentSprite.y),this.plates[0].setRotation(Object(Ct.f)(245));var c=new PIXI.Sprite(PIXI.utils.TextureCache["counter-mask.png"]);c.anchor.set(.5),c.position.set(414,403),this.addChild(c),this.progressBars.forEach((function(e){e.numberOfGoals=t.level.plates.length})),this.createSplashEmitters()}-1!==U.selectedLevel.indexOf("hallway")&&(this.tasha=new ne(PIXI.Loader.shared.resources.GameTasha.spineData,void 0,!0),this.tasha.skeleton.scaleX=.26,this.tasha.skeleton.scaleY=.26,this.tasha.position.set(253,328),this.addChild(this.tasha),this.createFountains(this.level.fountains),this.createFunnels(this.level.funnels,this.level.progressBars),this.progressBars.forEach((function(e){e.numberOfGoals=t.level.fountains.length+t.level.funnels.length}))),this.createObstacles(this.level.obstacles),this.createStars(this.level.stars),this.createHints(this.level.hints),"1"===U.selectedLevel.split("-")[1]&&(this.tutorial=new Ja,this.tutorial.zIndex=100,this.tutorial.position.set(0,this.tutorial.getBounds().height+10),this.tutorial.scale.set(.75),this.addChild(this.tutorial),this.toolTray.position.y=45-Nl.maxHeight),this.dottedLineHelper=new Aa(this.hintLayer,this.activeDragTools,23),this.progressBars.forEach((function(t){t.scale.set(0)})),this.positionDynamicUI(Nl.width),this.tutorial&&(this.homeBtn.alpha=0,this.trashBtn.alpha=0),this.ready=!0}},{key:"createSplashEmitters",value:function(){function t(){var t=[PIXI.utils.TextureCache["food1.png"],PIXI.utils.TextureCache["food2.png"]],e=new dn(t,Ca);return e.stop(),e}for(var e,n,o=[],i=[],r=0;r<10;r++){var a=(e=void 0,n=void 0,e=[PIXI.utils.TextureCache["splash-particle.png"]],(n=new dn(e,ja)).stop(),n);a.zIndex=2;var s=t();s.zIndex=2,o.push(a),i.push(s),this.addChild(s,a)}this.waterEmitters=new J(o,!1),this.foodEmitters=new J(i,!1)}},{key:"createTables",value:function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e],i=new PIXI.Sprite(PIXI.utils.TextureCache["table.png"]);i.anchor.set(.5),i.position.set(o.x,o.y),this.addChild(i)}}},{key:"createDragDropImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new PIXI.Sprite(PIXI.utils.TextureCache[t]);return n.rotation=e,n.anchor.set(.5),this.addChild(n),n}},{key:"createBrokenPipes",value:function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e],i=new PIXI.Sprite(PIXI.utils.TextureCache["broken-pipe.png"]);i.name="Pipe "+e,i.anchor.set(.5),i.position.y=o.y,this.addChild(i),this.brokenPipes.push(i)}}},{key:"createPatches",value:function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e],i=new Je(this.waterSystem);i.position.set(o.x,o.y),i.angle=o.angle,i.play();var r=new PIXI.Sprite(PIXI.utils.TextureCache["patch-front.png"]),a=r.getBounds();r.anchor.set(40/a.width,25/a.height),r.position.set(o.x,o.y),r.angle=o.angle,r.zIndex=3,this.addChild(i,r),this.patches.push(i)}}},{key:"createHamsters",value:function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e],i=new an(o.name);i.position.set(o.x,o.y),i.angle=o.angle,this.addChild(i),this.hamsters.push(i)}}},{key:"createDirtyPlates",value:function(t,e,n){for(var o=0,i=t.length;o<i;o++){var r=t[o],a=r.x,s=r.y,l=Object(Ct.f)(r.angle),c=new Ta(this.world);c.setPosition(a,s),c.setRotation(l),this.addChild(c),this.plates.push(c);var u=e[o],h=new ca(this.waterSystem);h.rectangle.x=u.x,h.rectangle.y=u.y,h.rectangle.width=u.w,h.rectangle.height=u.h,h.zIndex=20,this.addChild(h),this.goals.push(h);var p=new ma(h);p.position.set(n[o].x,n[o].y),p.setArrow(n[o].direction),this.ui.addChildAt(p,0),this.progressBars.push(p);var f=new dt(c.getLocalBounds().width/2-10);f.position.set(c.position.x,c.position.y),f.alpha=0,f.play(),this.pulseLayer.addChild(f),this.goalHighlights.push(f),this.collisionWorld.addColliderToWorld(c)}}},{key:"createBuckets",value:function(t,e){for(var n=0,o=t.length;n<o;n++){var i=t[n],r=i.x,a=i.y,l=Object(Ct.f)(i.angle),c=new Kr(this.world,"bucket-front",b2.b2BodyType.b2_staticBody);c.name="bucket",c.setPosition(r,a),c.setRotation(l),c.zIndex=2,this.addChild(c);var u=new PIXI.Sprite(PIXI.utils.TextureCache["bucket-back.png"]);u.anchor.set(.5),u.position.set(r,a),u.zIndex=0,this.addChild(u);var h=ke(this.world,s["bucket-cap"]);h.SetPosition(new b2.b2Vec2(we(r),we(a))),h.SetType(b2.b2BodyType.b2_staticBody),h.SetActive(!1),c.cap=h,this.buckets.push(c);var p=new ca(this.waterSystem);p.rectangle.x=r-50,p.rectangle.y=a,p.rectangle.width=100,p.rectangle.height=40,p.zIndex=20,this.addChild(p),this.goals.push(p);var f=new ma(p);f.position.set(e[n].x,e[n].y),f.setArrow(e[n].direction),this.ui.addChildAt(f,0),this.progressBars.push(f);var y=new dt(u.getLocalBounds().height/2+10);y.position.set(r,a),y.alpha=0,y.play(),this.pulseLayer.addChild(y),this.goalHighlights.push(y),this.collisionWorld.addColliderToWorld(c)}}},{key:"createFountains",value:function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e],i=o.x,r=o.y,a=Object(Ct.f)(o.angle),s=new PIXI.Sprite(PIXI.utils.TextureCache["fountain-back.png"]);s.zIndex=0,s.anchor.set(.5),s.position.set(i,r),this.addChild(s);var l=new Kr(this.world,"fountain-front",b2.b2BodyType.b2_staticBody);l.setPosition(i,r),l.setRotation(a),l.zIndex=2,this.addChild(l),this.fountains.push(l);var c=new ca(this.waterSystem);c.rectangle.x=i-142,c.rectangle.y=r-55,c.rectangle.width=70,c.rectangle.height=30,c.zIndex=20,this.addChild(c),this.goals.push(c);var u=new ma(c);u.position.set(i+63,r+57),u.setArrow("up"),this.ui.addChildAt(u,0),this.progressBars.push(u);var h=new dt(60);h.position.set(i-105,r-55),h.alpha=0,h.play(),this.pulseLayer.addChild(h),this.goalHighlights.push(h),this.collisionWorld.addColliderToWorld(l)}}},{key:"createFunnels",value:function(t,e){for(var n=0,o=t.length;n<o;n++){var i=t[n],r=i.x,a=i.y,s=Object(Ct.f)(i.angle),l=new PIXI.Sprite(PIXI.utils.TextureCache["fountain-funnel-back.png"]);l.anchor.set(.5),l.position.set(r,a),l.rotation=s,this.addChild(l);var c=new Kr(this.world,"fountain-funnel-front",b2.b2BodyType.b2_staticBody);c.setPosition(r,a),c.setRotation(s),c.zIndex=2,this.addChild(c),this.fountains.push(c);var u=new ca(this.waterSystem);u.rectangle.x=r-35+Object(Ct.d)(i.angle,0,90,0,100),u.rectangle.y=a-50+Object(Ct.d)(i.angle,0,90,0,-10),u.rectangle.width=70,u.rectangle.height=30,u.zIndex=20,this.addChild(u),this.goals.push(u);var h=new ma(u);h.position.set(e[n].x,e[n].y),h.setArrow(e[n].direction),this.ui.addChildAt(h,0),this.progressBars.push(h);var p=new dt(60);p.position.set(r+Object(Ct.d)(i.angle,0,90,0,100),a-50-Object(Ct.d)(i.angle,0,90,0,-10)),p.alpha=0,p.play(),this.pulseLayer.addChild(p),this.goalHighlights.push(p),this.collisionWorld.addColliderToWorld(c)}}},{key:"createObstacles",value:function(t){for(var e=this,n=function(n,o){var r=t[n],a=r.name,s=r.x,l=r.y,c=Object(Ct.f)(r.angle),u=void 0;switch(a){case"blender":u=new Vi(e.world,a,e.waterSystem);break;case"trough":u=new Di(e.world,a,e.waterSystem);break;case"see-saw":u=new vi(e.world,r.sawAngle);break;case"funnel":u=new ti(e.world,a);break;case"wheel":u=new Po(e.world),r.motorSpeed&&u.wheel.revoluteJoint.SetMotorSpeed(Object(Ct.f)(r.motorSpeed))}switch(u||(u=new Kr(e.world,a,b2.b2BodyType.b2_staticBody)),e.obstacles.push(u),u.setPosition(s,l),u.setRotation(c),u.zIndex=i.tools[a].zIndex,e.addChild(u),u.interactive=!0,u.on("pointertap",(function(t){e.gameComplete||Fl.isPlaying()||(u.removeAllListeners(),u.interactive=!1,e.mateo?e.mateo.talk("1stplay-6"):Fl.play("1stplay-6"))})),a){case"funnel":u.droppedInWorld(e);break;case"blender":u.updateRect()}e.collisionWorld.addColliderToWorld(u)},o=0,r=t.length;o<r;o++)n(o)}},{key:"createStars",value:function(t){for(var e=0,n=t.length;e<n;e++){var o=new tn,i=t[e];o.x=i.x,o.y=i.y,o.zIndex=this.ui.zIndex-1,this.addChild(o),this.stars.push(o)}}},{key:"createHints",value:function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e],i=o.name+".png",r=new PIXI.Sprite(PIXI.utils.TextureCache[i]);r.name=o.name.split("-hint")[0],r.anchor.set(.5),r.position.set(o.x,o.y),r.angle=o.angle,r.scale.set(o.scaleX||1,o.scaleY||1),this.hintLayer.addChild(r)}}},{key:"setBodiesInactive",value:function(){this.dragTools.forEach((function(t){t.setBody(!1)})),this.foodBits.forEach((function(t){t.setBody(!1)}))}},{key:"start",value:function(){var t=this,e=Hl.getPlugin("GoogleAnalytics"),n=U.selectedLevel.split("-")[0];n="cafeteria"===n?"caf":n,this.dispatchLevelEvent("startLevel");var o=!1;this.flowSFX=Gl.play("leak-loop",.1),this.flowSFX.loop=!0,this.setToolsActive(!0),this.tutorial?(this.homeBtn.interactive=!1,this.trashBtn.interactive=!1,e.event("Splash Dash","tutorial_begin",n),this.tutorial.nextBtn.setActive(!0),this.tutorial.nextBtn.on("pointerup",(function(i){o?e.event("Splash Dash","tutorial_complete",n):e.event("Splash Dash","skipTutorial",n),t.sadie&&(t.sadie.visible=!0),localStorage.setItem("hasCompletedTutorial",!0),Gl.play("molly_tap",U.mollyTapVolume),t.tutorial.nextBtn.setActive(!1),t.toolTray.position.y=45,Fl.stop(),t.tutorial.parent===t&&(t.removeChild(t.tutorial),t.handleStartComplete()),t.homeBtn.scale.set(0),t.homeBtn.alpha=1,t.trashBtn.scale.set(0),t.trashBtn.alpha=1,t.homeBtn.show().set({interactive:!0},t.homeBtn),t.trashBtn.show().set({interactive:!0},t.trashBtn),JSON.parse(localStorage.getItem("seenHandDragTutorial"))||t.tutorialAnimateHamsterHand()})),this.tutorial.nextBtn.interactive=!1,this.tasha?this.tasha.talk("1stplay-1"):Fl.play("1stplay-1"),Fl.once("complete",(function(e){cjs.Tween.get(t.tutorial.scale).to({x:1,y:1},1500,cjs.Ease.cubicInOut),cjs.Tween.get(t.tutorial).to({y:50},1500,cjs.Ease.cubicInOut).call((function(e){JSON.parse(localStorage.getItem("hasCompletedTutorial"))&&(t.tutorial.showButton(),t.tutorial.nextBtn.interactive=!0),t.tutorial.play("1stplay-2"),Fl.once("complete",(function(e){t.tutorial.showGif(),t.tutorial.play("1stplay-3"),Fl.once("complete",(function(e){o=!0,t.tutorial.showButton(),t.tutorial.nextBtn.interactive=!0}))}))})).to({y:70},500,cjs.Ease.cubicInOut)}))):this.handleStartComplete(),this.mateo&&this.mateo.resume()}},{key:"tutorialAnimateHamsterHand",value:function(){if(!this.playingHandTutorial){this.playingHandTutorial=!0;var t=this.toolTray.toolHolder.children[0],e=this.hamsterHand.parent.toLocal(new PIXI.Point(t.x,t.y),this.toolTray.toolHolder);this.hamsterHand.position.set(e.x,e.y),this.hamsterHand.alpha=0,this.hamsterHand.visible=!0,cjs.Tween.get(this.hamsterHand.scale,{loop:!0}).wait(150).to({x:.9,y:.9},250,cjs.Ease.cubicInOut).wait(1e3).to({x:1,y:1},250,cjs.Ease.cubicInOut).wait(650),cjs.Tween.get(this.hamsterHand,{loop:!0}).to({alpha:1},150).wait(250).to({x:0,y:0},1e3,cjs.Ease.cubicInOut).wait(250).to({alpha:0},150).wait(500)}}},{key:"handleDragStart",value:function(){JSON.parse(localStorage.getItem("seenHandDragTutorial"))||localStorage.setItem("seenHandDragTutorial",!0),cjs.Tween.removeTweens(this.hamsterHand),cjs.Tween.removeTweens(this.hamsterHand.scale),this.hamsterHand.hide(),this.playingHandTutorial=!1}},{key:"handleStartComplete",value:function(){this.sadie&&(this.sadie.randomIdle(),this.sadie.state.update(0),this.sadie.state.apply(this.sadie.skeleton)),this.tasha&&(this.tasha.randomIdle(),this.tasha.state.update(0),this.tasha.state.apply(this.tasha.skeleton)),this.checkAndPlayIntroVO();var t=this.animateProgressBarsOnScreen();this.startGoalHighlights(t),this.gameStarted=!0,this.startIdlePrompter()}},{key:"checkAndPlayIntroVO",value:function(){var t=this;-1===U.selectedLevel.indexOf("library")||JSON.parse(localStorage.getItem("heardLibraryTutorial"))?-1===U.selectedLevel.indexOf("cafeteria")||JSON.parse(localStorage.getItem("heardCafeteriaTutorial"))?-1===U.selectedLevel.indexOf("hallway")||JSON.parse(localStorage.getItem("heardHallwayTutorial"))?"library-8"===U.selectedLevel?(this.sadie.talk("library-5"),this.sadie.once("complete",(function(e){Fl.play("intro-6"),cjs.Tween.get(t).wait(1500).call((function(e){t.helpingFill=!0}))}))):"hallway-8"===U.selectedLevel?(this.tasha.talk("hall-1b"),this.tasha.once("complete",(function(e){t.tasha.talk("intro-6"),cjs.Tween.get(t).wait(1500).call((function(e){t.helpingFill=!0}))}))):"cafeteria-8"===U.selectedLevel?(this.mateo.talk("cafe-1b"),this.mateo.once("complete",(function(e){Fl.play("intro-6"),cjs.Tween.get(t).wait(1500).call((function(e){t.helpingFill=!0}))}))):this.patches.length>1?JSON.parse(localStorage.getItem("heard2ndLeakVO"))||-1===U.selectedLevel.indexOf("cafeteria")&&-1===U.selectedLevel.indexOf("library")?"7"===U.selectedLevel.split("-")[1]?this.sadie?this.sadie.talk("intro-7"):Fl.play("intro-7"):this.playGenericVO():(localStorage.setItem("heard2ndLeakVO",JSON.stringify(!0)),Fl.play("2ndleak")):this.playGenericVO():(localStorage.setItem("heardHallwayTutorial",JSON.stringify(!0)),this.tasha.talk(["hall-1","hall-2"])):(localStorage.setItem("heardCafeteriaTutorial",JSON.stringify(!0)),this.mateo.talk(["cafe-1","cafe-2"])):(localStorage.setItem("heardLibraryTutorial",JSON.stringify(!0)),this.sadie.talk(["library-1","1stplay-8"]))}},{key:"playGenericVO",value:function(){console.log("play generic vo");var t=U.introPrompts.getNext();this.tasha?this.tasha.talk(t):Fl.play(t),U.hintsUsed>=2&&Fl.once("complete",(function(t){-1===U.selectedLevel.indexOf("library")&&-1===U.selectedLevel.indexOf("cafeteria")||Fl.play("outlines-2")}))}},{key:"animateProgressBarsOnScreen",value:function(){for(var t,e=0,n=this.progressBars.length;e<n;e++){var o=this.progressBars[e];t=cjs.Tween.get(o.scale).wait(1e3*(e+1)).call(Gl.play,["popup",.2],Gl).to({x:1,y:1},1e3,cjs.Ease.bounceOut)}return t.duration}},{key:"startGoalHighlights",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;cjs.Tween.get(this).wait(e).call((function(e){t.goalHighlights.forEach((function(t){t.quickHide(),t.flash()}))}))}},{key:"setActive",value:function(t){var n=this;ts(es(e.prototype),"setActive",this).call(this,t),this.tasha&&this.tasha.setActive(t),this.sadie&&this.sadie.setActive(t),this.mateo&&this.mateo.setActive(t),t?(this.on("pointerdown",this.clearToolSelections,this),this.on("pointerdown",this.stopIdlePrompter,this),this.on("pointerup",this.startIdlePrompter,this),this.once("droppedInWorld",this.dottedLineHelper.start,this.dottedLineHelper),this.completePanel.on("show",(function(t){n.whiteOverlay.show()})),this.completePanel.on("hide",(function(t){n.whiteOverlay.hide()})),this.goals.forEach((function(t){t.on("complete",n.checkWaterMeterComplete,n),n.waterEmitters&&t.on("destroyParticle",n.handleParticleDestroyed,n)})),this.goals.length>1&&this.progressBars.forEach((function(t){t.on("complete",n.handleProgressBarsComplete,n)})),this.completePanel.on("replay",this.resetGame,this),this.completePanel.on("next",this.gotoNextScene,this),this.completePanel.on("idle",this.handleCompletePanelIdle,this),this.homeBtn.on("pointertap",this.handleHomeButtonClicked,this),this.waterSystem.on("particleOffscreen",this.handleParticleOffscreen,this),this.dottedLineHelper.on("showHint",this.handleHintShown,this)):(this.removeAllListeners(),this.completePanel.removeAllListeners(),this.goals.forEach((function(t){t.removeAllListeners()})),this.waterSystem.removeAllListeners(),this.dottedLineHelper.removeAllListeners())}},{key:"handleParticleOffscreen",value:function(){this.gameComplete||this.goals.forEach((function(t){t.waterMeter.decrement(2*Nl.tick)}))}},{key:"setToolsActive",value:function(t){var e=this;this.dragManager.setActive(t),this.toolTray.setActive(t),t&&this.dragTools.forEach((function(t){t.on("dragStart",e.handleToolDragStart,e),t.on("dragEnd",e.handleToolDragEnd,e)}))}},{key:"checkWaterMeterComplete",value:function(t){if(!this.gameComplete){for(var e=0,n=0,o=this.goals.length;n<o;n++)this.goals[n].complete&&e++;e>=this.goals.length&&this.handleWaterMeterComplete()}}},{key:"handleProgressBarsComplete",value:function(){var t;this.goalHighlights.forEach((function(t){t.quickHide()}));for(var e=0,n=this.progressBars.length;e<n;e++)this.progressBars[e].complete||(t=!0,this.goalHighlights[e].flash());if((-1!==U.selectedLevel.indexOf("cafeteria")||-1!==U.selectedLevel.indexOf("hallway"))&&t&&this.patches.length>1&&!this.played2ndLeak){this.played2ndLeak=!0;var o=-1!==U.selectedLevel.indexOf("8");Fl.isPlaying()||o||Fl.play("2ndleak-2")}}},{key:"handleParticleDestroyed",value:function(t){var e=this.waterEmitters.getNext();if(e.position.set(t.x,t.y),e.start(),!this.gameComplete){var n=this.foodEmitters.getNext();n.position.set(t.x,t.y),n.start()}}},{key:"handleWaterMeterComplete",value:(l=Ka(regeneratorRuntime.mark((function t(e){var n,o,i,r,a,s,l,c,u,h,p,f,y,d,m,g,b,v,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.idlePrompter.reset(),this.dottedLineHelper.reset(),this.gameComplete=!0,this.selectedTool=null,this.rotationControls.visible=!1,this.rotationControls.clearTarget(),this.flipControls.visible=!1,this.flipControls.clearTarget(),this.trashBtn.interactive=!1,o=0,this.checkGameCompleteInUniqueWay()?-1!==U.selectedLevel.indexOf("library")?this.sadie.talk("library-3"):-1!==U.selectedLevel.indexOf("cafeteria")?this.mateo.talk("cafe-3"):-1!==U.selectedLevel.indexOf("hallway")&&this.tasha.talk("hall-3"):Fl.isPlaying()||(-1!==U.selectedLevel.indexOf("library")?(n=U.libraryCompletePrompts.getNext(),i=Fl.play(n)):-1!==U.selectedLevel.indexOf("cafeteria")?(n=U.cafeteriaCompletePrompts.getNext(),i=Fl.play(n)):-1!==U.selectedLevel.indexOf("hallway")&&(n=U.hallwayCompletePrompts.getNext(),i=Fl.play(n)),o=i.duration),this.stopIdlePrompter(),this.dottedLineHelper.stop(),this.plates.forEach((function(t){t.clean()})),this.goals.forEach((function(t){t.setComplete()})),this.dragTools.forEach((function(t){t.interactive=!1,t.buttonMode=!1})),this.toolTray.interactiveChildren=!1,this.foodBits.forEach((function(t){t.setBody(!0)})),this.buckets.forEach((function(t){t.cap.SetActive(!0)})),r=[],a=0,s=this.stars.length;a<s;a++)(l=this.stars[a]).setComplete(),l.active&&r.push(l);if((c=JSON.parse(localStorage.getItem("unlockStars")))[U.selectedLevel]<r.length&&(c[U.selectedLevel]=r.length,localStorage.setItem("unlockStars",JSON.stringify(c))),-1!==U.selectedLevel.indexOf("library")?u="libraryLevelsUnlocked":-1!==U.selectedLevel.indexOf("cafeteria")?u="cafeteriaLevelsUnlocked":-1!==U.selectedLevel.indexOf("hallway")&&(u="hallwayLevelsUnlocked"),h=JSON.parse(localStorage.getItem(u)),p=parseInt(U.selectedLevel.split("-")[1]),void 0!==h[f=p+1]&&(h[f]=!0,localStorage.setItem(u,JSON.stringify(h))),y=r.length,d=!1,m=!1,-1===(g=JSON.parse(localStorage.getItem("unlockedToys"))).indexOf(this.level.unlockable)?d=!0:m=!0,m||3===y&&d&&(g.push(this.level.unlockable),localStorage.setItem("unlockedToys",JSON.stringify(g)),(b=JSON.parse(localStorage.getItem("newToys"))).push(this.level.unlockable),localStorage.setItem("newToys",JSON.stringify(b)),localStorage.setItem("hasNewToy",JSON.stringify(!0)),v=JSON.parse(localStorage.getItem("newToyTracker")),v++,localStorage.setItem("newToyTracker",JSON.stringify(v))),!this.checkHintsUsed()){t.next=40;break}return U.hintsUsed++,t.next=38,new Promise((function(t){setTimeout(t,1e3*o/2)}));case 38:t.next=49;break;case 40:if(!(U.hintsUsed>=2)){t.next=47;break}if(U.hintsUsed=0,-1===U.selectedLevel.indexOf("library")&&-1===U.selectedLevel.indexOf("hallway")){t.next=45;break}return t.next=45,new Promise((function(t){Fl.play("outlines-1"),Fl.once("complete",t)}));case 45:t.next=49;break;case 47:return t.next=49,new Promise((function(t){setTimeout(t,1e3*o/2)}));case 49:w=Hl.getPlugin("GoogleAnalytics"),0===this.shownHints.length?w.event("Splash Dash","outlines","outline_not_shown"):w.event("Splash Dash","outlines","outline_shown"),w.event("Splash Dash","earn_virtual_currency","stars",y),this.completePanel.animatePanelWithStars(y,m,n);case 53:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"checkNumberOfStarsCollected",value:function(){for(var t,e,n=[],o=new PIXI.Point,i=new PIXI.Rectangle(0,0,32,32),r=this.waterSystem.particleSystem.GetPositionBuffer(),a=this.waterSystem.particleSystem.GetParticleCount(),s=0;s<a;s++){var l=r[s];o.x=ve(l.x),o.y=ve(l.y),i.x=o.x-16,i.y=o.y-16;for(var c=0,u=this.stars.length;c<u;c++){var h=this.stars[c],p=h.getBounds();p.x=h.x-h.width/2,p.y=h.y-h.height/2,e=p,(t=i).x+t.width>e.x&&t.x<e.x+e.width&&t.y+t.height>e.y&&t.y<e.y+e.height&&-1===n.indexOf(h)&&n.push(h)}}return n}},{key:"checkGameCompleteInUniqueWay",value:function(){if(this.hintLayer.children.length>this.activeDragTools.length)return!0;for(var t=[],e=0,n=this.hintLayer.children.length;e<n;e++)for(var o=this.hintLayer.children[e],i=0,r=this.activeDragTools.length;i<r;i++){var a=this.activeDragTools[i];a.name===o.name&&Object(Ct.a)(o,a)<100&&t.push(o)}return t.length!==this.hintLayer.children.length}},{key:"update",value:function(t){if(ts(es(e.prototype),"update",this).call(this,t),this.ready&&!this.gameComplete){for(var n=this.checkNumberOfStarsCollected(),o=0,i=this.stars.length;o<i;o++){var r=this.stars[o];-1!==n.indexOf(r)?r.activate():r.deactivate()}if(this.activeDragTools.length>0)for(var a=0,s=this.goals.length;a<s;a++){var l=this.goals[a];l.ready&&this.toolGrabbed&&l.reset(),l.ready=!this.toolGrabbed}else for(var c=0,u=this.goals.length;c<u;c++){var h=this.goals[c];h.reset(),h.ready=!1}this.dottedLineHelper.update(t),this.idlePrompter.update(t)}}},{key:"destroyParticles",value:function(){for(var t=this.waterSystem.particleSystem.GetParticleCount(),e=0;e<t;e++)this.waterSystem.particleSystem.DestroyParticle(e)}},{key:"resetGame",value:function(){var t=this;Gl.play("molly_tap",U.mollyTapVolume),this.destroyParticles(),this.dottedLineHelper.reset(),this.dottedLineHelper.start(),this.plates.forEach((function(t){t.reset()})),this.goals.forEach((function(t){t.reset()})),this.buckets.forEach((function(t){t.cap.SetActive(!1)})),this.stars.forEach((function(t){t.reset()})),this.obstacles.forEach((function(t){t.reset&&t.reset()})),this.completePanel.hide().call(this.completePanel.resetStars,null,this.completePanel),this.activeDragTools.forEach((function(e){t.collisionWorld.moveEntityColliderOffscreen(e)})),this.activeDragTools.length=0,this.dragTools.forEach((function(e){e.setBody(!1),t.toolTray.returnToolToTray(e),t.clearToolSelections(),e.droppedInTray(),e.setSingleDisplay&&e.setSingleDisplay(!0)})),this.dragTools.forEach((function(t){t.interactive=!0,t.buttonMode=!0})),this.toolTray.interactiveChildren=!0,this.foodBits.forEach((function(t){t.resetToStartPosition()})),this.startIdlePrompter(),this.shownHints.length=0,this.trashBtn.interactive=!0,this.gameComplete=!1}},{key:"gotoNextScene",value:function(){this.ready=!1,Gl.play("molly_tap",U.mollyTapVolume),this.flowSFX.stop();var t=U.selectedLevel.split("-"),e=t[0],n=parseInt(t[1])+1,o="";n<=10?(o="Game",U.selectedLevel=e+"-"+n):(o="LevelSelect",this.checkLevel10Complete()),this.dispatchLevelEvent("level_up"),Ml.gotoScene(o)}},{key:"handleHomeButtonClicked",value:function(t){this.flowSFX.stop(),this.gameComplete?this.checkLevel10Complete():this.dispatchLevelEvent("endLevel"),ts(es(e.prototype),"handleHomeButtonClicked",this).call(this,t)}},{key:"checkLevel10Complete",value:function(){if(-1!==U.selectedLevel.indexOf("10")){var t=!JSON.parse(localStorage.getItem("completedLibrary"))&&-1!==U.selectedLevel.indexOf("library"),e=!JSON.parse(localStorage.getItem("completedCafeteria"))&&-1!==U.selectedLevel.indexOf("cafeteria"),n=!JSON.parse(localStorage.getItem("completedHallway"))&&-1!==U.selectedLevel.indexOf("hallway"),o=JSON.parse(localStorage.getItem("level10Completed"));o<2&&(t||e||n)&&(o++,U.returnedFromLevel10=!0,localStorage.setItem("level10Completed",JSON.stringify(o))),t?localStorage.setItem("completedLibrary",JSON.stringify(!0)):e?localStorage.setItem("completedCafeteria",JSON.stringify(!0)):n&&localStorage.setItem("completedHallway",JSON.stringify(!0))}}},{key:"stopIdlePrompter",value:function(){this.idlePrompter.stop(),this.idlePrompter.reset()}},{key:"startIdlePrompter",value:function(){!this.gameComplete&&this.gameStarted&&this.idlePrompter.start()}},{key:"playIdleVO",value:function(){if(this.idlePrompter.reset(),!Fl.isPlaying()){if(!this.placedAnItem)return this.placedAnItem=!0,void this.tutorialAnimateHamsterHand();var t=this.idlePrompts.getNext();-1===U.selectedLevel.indexOf("library")&&-1===U.selectedLevel.indexOf("hallway")||this.allowFirstPlay7&&this.rotationControls.visible&&(this.allowFirstPlay7=!1,t="1stplay-7"),"1stplay-7"!==t&&(!this.heardHelp1&&this.activeDragTools.length>0&&this.toolTray.toolHolder.children.length>0?(this.heardHelp1=!0,t="help-1"):!this.heardHelp4&&this.shownHints.length>0?(this.heardHelp4=!0,t="help-4"):!this.heardHelp6&&this.shownHints.length>0&&(this.heardHelp6=!0,t="help-6"));var e=!1;do{switch(t){case"help-1":this.activeDragTools.length>0&&this.toolTray.toolHolder.children.length>0?e=!0:t=this.idlePrompts.getNext();break;case"help-4":case"help-6":this.shownHints.length>0?e=!0:t=this.idlePrompts.getNext();break;case"clearlevel":this.activeDragTools.length>0?e=!0:t=this.idlePrompts.getNext();break;default:e=!0}}while(!e);switch(t){case"clearlevel":this.clickTutorialForControls(this.trashBtn),this.tasha?this.tasha.talk(t):Fl.play(t);break;case"help-1":case"help-2":case"help-3":case"help-4":case"help-6":this.mateo?this.mateo.talk(t):Fl.play(t);break;case"1stplay-7":he(this.rotationControls.clockwiseBtn),he(this.rotationControls.counterClockwiseBtn);break;default:Fl.play(t)}}this.startGoalHighlights(),this.pulseHints()}},{key:"handleHintShown",value:function(t){if(t&&this.shownHints.push(t),JSON.parse(localStorage.getItem("seenDottedLinePulse"))||(localStorage.setItem("seenDottedLinePulse",JSON.stringify(!0)),he(t)),this.shownHints.length>1&&this.pulseHints(),!this.playedHelperVO&&(this.playedHelperVO=!0,!Fl.isPlaying()&&this.getHintsThatNeedHighlights().length>0)){var e=this.helpVO.getNext(),n=!1;do{switch(e){case"help-5":this.level.tools.length<=1?e=this.helpVO.getNext():n=!0;break;case"help-6":-1!==U.selectedLevel.indexOf("library")||-1!==U.selectedLevel.indexOf("hallway")?n=!0:e=this.helpVO.getNext();break;default:n=!0}}while(!n);switch(e){case"help-4":case"help-5":this.mateo?this.mateo.talk(e):Fl.play(e);break;default:Fl.play(e)}}}},{key:"pulseHints",value:function(){var t=this.getHintsThatNeedHighlights();t.length>=2&&t.forEach((function(t){he(t)}))}},{key:"getHintsThatNeedHighlights",value:function(){var t=this.activeDragTools,e=this.shownHints,n=[],o=[];t.forEach((function(t){n.push(t.name)})),e.forEach((function(t){o.push(t.name)}));for(var i=[],r=0;r<o.length;r++){for(var a=!1,s=o[r],l=0;l<n.length;l++)if(s===n[l]){(Object(Ct.a)(e[r],t[l])>30||Math.abs(t[l].angle-e[r].angle)>=30)&&i.push(e[r]),a=!0;break}a||i.push(e[r])}return i}},{key:"handleToolDragEnd",value:function(t){ts(es(e.prototype),"handleToolDragEnd",this).call(this,t)}},{key:"handleRotate",value:function(t){ts(es(e.prototype),"handleRotate",this).call(this,t)}},{key:"emitHintEvent",value:function(t){var e=Hl.getPlugin("GoogleAnalytics");this.checkHintUsed(t)?e.event("Splash Dash",t.name,"object_over_outline"):e.event("Splash Dash",t.name,"object_not_over_outline")}},{key:"checkHintUsed",value:function(t){var e=this.shownHints,n=[];e.forEach((function(t){n.push(t.name)}));for(var o=!1,i=0;i<n.length;i++)if(n[i]===t.name&&Object(Ct.a)(e[i],t)<30&&Math.abs(t.angle-e[i].angle)<=30){o=!0;break}return o}},{key:"checkHintsUsed",value:function(){var t=this.activeDragTools,e=this.shownHints,n=[],o=[];t.forEach((function(t){n.push(t.name)})),e.forEach((function(t){o.push(t.name)}));for(var i=!1,r=0;r<o.length;r++){for(var a=o[r],s=0;s<n.length;s++)if(a===n[s]){i=!0;break}if(i)break}return i}},{key:"handleCompletePanelIdle",value:function(){var t=this;this.clickTutorialForControls(this.completePanel.replayButton),setTimeout((function(e){t.clickTutorialForControls(t.completePanel.nextBtn)}),3e3),setTimeout((function(e){t.clickTutorialForControls(t.completePanel.toy)}),5500)}},{key:"dispatchLevelEvent",value:function(t){var e=Hl.getPlugin("GoogleAnalytics"),n=U.selectedLevel.split("-"),o=n[0];o="cafeteria"===o?"caf":o;var i=n[1];e.event("Splash Dash",t,o,i)}},{key:"unload",value:function(){ts(es(e.prototype),"unload",this).call(this),this.waterEmitters&&this.waterEmitters.array.forEach((function(t){t.emitter.destroy()})),this.foodEmitters&&this.foodEmitters.array.forEach((function(t){t.emitter.destroy()})),this.waterEmitters=null,this.foodEmitters=null,this.completePanel.cleanup(),this.progressBars.forEach((function(t){t.cleanup()})),this.flowSFX.stop(),this.flowSFX=null}}])&&Qa(n.prototype,r),a&&Qa(n,a),e}(Vr);function is(t){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function as(t,e){return!e||"object"!==is(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ss(t){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ls(t,e){return(ls=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cs=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=as(this,ss(e).call(this))).name="Water Hammer",n.waterSystem=t,n.direction=new b2.b2Vec2(-2e3,0),n.zIndex=2,n.readyToHammer=!0,n.plunger=new PIXI.Sprite(PIXI.utils.TextureCache["water-hammer.png"]),n.plunger.anchor.set(1,.5),n.plunger.position.set(-44,4),n.addChild(n.plunger),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ls(t,e)}(e,PIXI.Container),n=e,(o=[{key:"hammer",value:function(){if(this.readyToHammer){var t=this.getLocalBounds();t.x=this.x+t.x-50,t.y=this.y+t.y-50,t.width+=100,t.height+=100,this.animatePlunger();for(var e=this.waterSystem.children,n=0,o=e.length;n<o;n++){var i=e[n];t.contains(i.x,i.y)&&this.waterSystem.particleSystem.ParticleApplyForce(n,this.direction)}}}},{key:"animatePlunger",value:function(){var t=this.plunger.x+15,e=this.plunger.x;return this.readyToHammer=!1,cjs.Tween.get(this.plunger).to({x:t},100,cjs.Ease.sineOut).to({x:e},300,cjs.Ease.elasticOut).set({readyToHammer:!0},this)}}])&&rs(n.prototype,o),i&&rs(n,i),e}();function us(t){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ps(t,e){return!e||"object"!==us(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ys(t,e){return(ys=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ds=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ps(this,fs(e).call(this,t,"plug"))).zIndex=3,n.startZIndex=n.zIndex,n.body.SetFixedRotation(!0),n.locked=!0,n.divingBoardDirection=new b2.b2Vec2(-75,-150),n.on("offscreen",(function(t){n.setPosition(0,0)})),n.on("dragStart",(function(t){n.locked=!1,n.grabbed=!0})),n.on("dragEnd",(function(t){n.grabbed=!1})),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ys(t,e)}(e,t),n=e,(o=[{key:"lockIntoZone",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cjs.Ease.cubicInOut;return this.locked=!0,this.interactive=!1,this.setBody(!1),cjs.Tween.get(this).to(t,n,o).call((function(n){e.setPosition(t.x,t.y),e.setBody(!0),e.interactive=!0}))}}])&&hs(n.prototype,o),i&&hs(n,i),e}(Kn);function ms(t){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){return!e||"object"!==ms(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vs(t){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ws(t,e){return(ws=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xs=function(t){function e(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new b2.b2Vec2,a=arguments.length>4?arguments[4]:void 0;gs(this,e);var l=ke(t,s[n]);return l.SetType(b2.b2BodyType.b2_dynamicBody),(o=bs(this,vs(e).call(this,l,n))).zIndex=3,o.startZIndex=o.zIndex,o.slideSpeed=i,o.divingBoardDirection=r,o.inWater=!0,o.limitRotation=!0,o.on("offscreen",(function(t){o.setPosition(0,0)})),o.on("dragStart",(function(t){o.limitRotation&&o.body.SetAngle(0),o.body.SetAngle(0),o.inWater=!1,o.display.idle()})),o.on("dragEnd",(function(t){o.limitRotation&&o.body.SetAngle(0),o.body.SetAngle(0)})),o.display=a,o.addChild(a),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ws(t,e)}(e,t),e}(zn);function ks(t){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ss(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ps(t,e){return!e||"object"!==ks(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Is(t,e){return(Is=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ts=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Ps(this,Os(e).call(this))).name="Diving Board",o.waterSystem=n,o.direction=new b2.b2Vec2(-10,0),o.rect=new PIXI.Rectangle(215,-40,123,25),o.point=new PIXI.Point,o.platform=new Kr(t,"diving-platform",b2.b2BodyType.b2_staticBody),o.platform.setPosition(364,142),o.board=ke(t,s["diving-board"]),o.board.SetType(b2.b2BodyType.b2_staticBody),o.board.SetPosition(new b2.b2Vec2(we(364),we(142))),o.graphicBoard=new PIXI.Sprite,o.boardDisplay=new PIXI.Sprite(PIXI.utils.TextureCache["diving-board.png"]),o.boardDisplay.position.set(341,-22),o.boardDisplay.anchor.set(1,.5),o.addChild(o.platform,o.boardDisplay),o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Is(t,e)}(e,PIXI.Container),n=e,(o=[{key:"animate",value:function(){cjs.Tween.get(this.boardDisplay).to({angle:-5},50,cjs.Ease.bounceInOut).to({angle:0},50,cjs.Ease.bounceInOut).to({angle:-3},50,cjs.Ease.bounceInOut).to({angle:0},50,cjs.Ease.bounceInOut).to({angle:-1},50,cjs.Ease.bounceInOut).to({angle:0},50,cjs.Ease.bounceInOut)}},{key:"update",value:function(t){for(var e=this.waterSystem.particleSystem.GetPositionBuffer(),n=this.waterSystem.particleSystem.GetParticleCount(),o=0;o<n;o++){var i=e[o];this.point.x=ve(i.x),this.point.y=ve(i.y),this.toLocal(this.point,this.waterSystem,this.point),this.rect.contains(this.point.x,this.point.y)&&this.waterSystem.particleSystem.ParticleApplyForce(o,this.direction)}}}])&&Ss(n.prototype,o),i&&Ss(n,i),e}();function Cs(t){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function js(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Bs(t,e){return!e||"object"!==Cs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _s(t){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Es(t,e){return(Es=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ls=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Bs(this,_s(e).call(this))).name="Slide",t.entrance=new PIXI.Graphics,t.entrance.beginFill(255),t.entrance.drawRect(0,0,120,120),t.entrance.alpha=0,t.entrance.position.set(375,-135),t.slideEnter=new PIXI.Sprite(PIXI.utils.TextureCache["slide-in.png"]),t.slideEnter.name="Entrance";var n=t.slideEnter.getLocalBounds();t.slideEnter.anchor.set(40/n.width,305/n.height),t.slideEnter.position.set(417,-80),t.slideEnterDoor=new PIXI.Sprite(PIXI.utils.TextureCache["slide-in-door.png"]),t.slideEnterDoor.name="Entrance Door",t.slideEnterDoor.anchor.set(40/n.width,305/n.height),t.slideEnterDoor.position.set(t.slideEnter.position.x,t.slideEnter.position.y),t.slideExit=new PIXI.Sprite(PIXI.utils.TextureCache["slide-out.png"]),t.slideExit.name="Exit";var o=t.slideExit.getLocalBounds();return t.slideExit.anchor.set(564/o.width,296/o.height),t.slideExit.position.set(-250,40),t.slideExitDoor=new PIXI.Sprite(PIXI.utils.TextureCache["slide-out-door.png"]),t.slideExitDoor.name="Exit",t.slideExitDoor.anchor.set(564/o.width,296/o.height),t.slideExitDoor.position.set(t.slideExit.position.x,t.slideExit.position.y),t.addChild(t.slideEnterDoor,t.slideExitDoor,t.slideEnter,t.slideExit,t.entrance),t}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Es(t,e)}(e,PIXI.Container),n=e,(o=[{key:"addHamsterToSlide",value:function(t,e){this.previousParent=t.parent,this.playVO=e,t.setBody(!1),Gl.play("pool-slide"),this.slideIn(t)}},{key:"slideIn",value:function(t){this.addChildAt(t,2),cjs.Tween.get(t.scale).to({x:.7,y:.7},200,cjs.Ease.cubicInOut),cjs.Tween.get(t).to({x:this.slideEnter.position.x+100,y:this.slideEnter.position.y},500,cjs.Ease.cubicInOut).call(this.wait,[t],this)}},{key:"wait",value:function(t){var e=this;t.visible=!1,cjs.Tween.get(this).wait(900).call((function(n){t.setBody(!0),t.setPosition(e.slideExit.x-20,e.slideExit.y)})).wait(100).call(this.slideOut,[t],this)}},{key:"slideOut",value:function(t){var e=this,n=this.previousParent;cjs.Tween.get(t.scale).to({x:1,y:1},200,cjs.Ease.cubicInOut).call((function(o){if(n.addChild(t),e.playVO%3==1){var i=Ml.current.sadie;i.parent.inWater?i.talk("pool-8"):i.talk("idle-pool-8")}})),t.setPosition(this.slideExit.x-20,this.slideExit.y);var o=Object(Ct.f)(15),i=Math.cos(o)*t.slideSpeed,r=Math.sin(o)*t.slideSpeed;t.body.SetLinearVelocity(new b2.b2Vec2),t.body.SetAngularVelocity(0),t.body.ApplyForceToCenter(new b2.b2Vec2(i,r)),t.visible=!0}}])&&js(n.prototype,o),i&&js(n,i),e}();function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function As(t,e){return!e||"object"!==Rs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ds(t){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hs(t,e){return(Hs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gs=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=As(this,Ds(e).call(this,t))).name="adjustable-faucet",n.offsetY=90,n.minRate=.3,n.maxRate=.06,n.minX=-50,n.maxX=52,n.point=new PIXI.Point,n.grabbed=!1;var o=new PIXI.Sprite(PIXI.utils.TextureCache["adjustable-faucet.png"]);return o.anchor.set(.5,0),n.handle=new PIXI.Sprite(PIXI.utils.TextureCache["adjustable-handle.png"]),n.handle.anchor.set(.5),n.handle.position.set(n.minX,27),n.waterEmitter.updateSpawnPoint(o.x,o.y+n.offsetY),n.addChild(o,n.handle),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hs(t,e)}(e,t),n=e,(o=[{key:"setActive",value:function(t){this.interactive=t,this.buttonMode=t,t?(this.on("pointerdown",this.handlePointerDown,this),this.on("pointermove",this.handlePointerMove,this),this.on("pointerup",this.handlePointerUp,this),this.on("pointerupoutside",this.handlePointerUp,this)):(this.removeAllListeners(),this.handle.removeAllListeners())}},{key:"handlePointerDown",value:function(t){t.data.isPrimary&&(this.grabbed=!0,this.updateHandle(t),this.adjustFlow())}},{key:"handlePointerMove",value:function(t){t.data.isPrimary&&this.grabbed&&(this.updateHandle(t),this.adjustFlow())}},{key:"handlePointerUp",value:function(t){t.data.isPrimary&&(this.grabbed=!1)}},{key:"updateHandle",value:function(t){t.data.getLocalPosition(this,this.point),this.handle.x=this.point.x,this.handle.x=Object(Ct.c)(this.handle.x,this.minX,this.maxX)}},{key:"adjustFlow",value:function(){var t=Object(Ct.d)(this.handle.x,this.minX,this.maxX,this.minRate,this.maxRate);(t=Object(Ct.c)(t,this.maxRate,this.minRate))===this.minRate?this.waterEmitter.pause():this.waterEmitter.resume(),this.waterEmitter.updateSpawnRate(t),this.emit("adjustFlow")}},{key:"setFlowByPercentage",value:function(t){this.handle.x=Object(Ct.d)(t,0,1,this.minX,this.maxX),this.adjustFlow()}},{key:"getFlowRate",value:function(){return Object(Ct.d)(this.handle.x,this.minX,this.maxX,0,1)}}])&&Xs(n.prototype,o),i&&Xs(n,i),e}(We);function Fs(t){return(Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ws(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ns(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ms(t,e){return!e||"object"!==Fs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vs(t){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ys(t,e){return(Ys=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zs=function(t){function e(t,n,o,i){var r,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return Ws(this,e),(r=Ms(this,Vs(e).call(this))).name="Platform",r.size={x:t,y:n,width:o,height:i},r.zIndex=6,r.offsetLeft=a,r.offsetRight=s,r.graphic=new PIXI.Graphics,r.graphic.beginFill(65280),r.graphic.drawRect(t,n,o,i),r.graphic.alpha=0,r.addChild(r.graphic),r}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ys(t,e)}(e,PIXI.Container),n=e,(o=[{key:"add",value:function(t){var e=this,n=this.calculateEntityInPlatform(t);n.x!==t.position.x||n.y!==t.position.y?(cjs.Tween.get(t.getRotationTarget()).to({rotation:0},500,cjs.Ease.cubicInOut),cjs.Tween.get(t).to(n,500,cjs.Ease.cubicInOut).call((function(n){e.addEntityToPlatform(t)}))):this.addEntityToPlatform(t)}},{key:"addEntityToPlatform",value:function(t){var e=this.toLocal(new PIXI.Point(t.x,t.y),t.parent);t.position.set(e.x,e.y),this.addChild(t),this.sortByY()}},{key:"sortByY",value:function(){this.children.sort((function(t,e){return t.y>e.y?1:t.y<e.y?-1:0}))}},{key:"calculateEntityInPlatform",value:function(t){var e=t.getBounds(),n=this.size,o=new PIXI.Point(t.x,t.y);return t.x+e.width/2>this.size.x+n.width?o.x=this.size.x+n.width-e.width/2+this.offsetRight:t.x-e.width/2<this.size.x&&(o.x=this.size.x+e.width/2+this.offsetLeft),t.y+e.height/2>this.size.y+n.height?o.y=this.size.y+n.height-e.height/2:t.y-e.height/2<this.y&&(o.y=this.size.y+e.width/2),o}},{key:"getChildNotInBounds",value:function(t,e){for(var n=[],o=1;o<this.children.length;o++){var i=this.children[o];this.inBounds(i)&&n.push(i)}return n}},{key:"inBounds",value:function(t){var e=this.toLocal(new PIXI.Point(t.x,t.y),this.parent),n=t.getBounds(),o=Nl.width;return e.x+n.width/2>o/2||e.x-n.width/2<-o/2}}])&&Ns(n.prototype,o),i&&Ns(n,i),e}();function Js(t){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Us(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Zs(t,e){return!e||"object"!==Js(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qs(t){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ks(t,e){return(Ks=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qs=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Zs(this,qs(e).call(this,t,n))).currentAnimationComplete=!1,o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ks(t,e)}(e,t),n=e,(o=[{key:"handleComplete",value:function(t){if(this.currentAnimation===t.animation.name&&(this.currentAnimationComplete=!0),this.currentAnimationComplete){if(this.animationChain.length>0){var e=this.animationChain.shift();this.play(e,!1)}else this.parent.inWater?this.float():this.idle(),this.state.update(0),this.state.apply(this.skeleton);this.emit("complete",t)}}},{key:"handleEvent",value:function(t,e){-1!==this.currentAnimation.indexOf(e.data.name)&&Fl.play(e.data.name),this.emit("event",t,e)}},{key:"jump",value:function(){this.play("jump")}},{key:"float",value:function(){this.play("float",!0)}},{key:"idle",value:function(){this.play("idle",!0)}},{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.currentAnimation=t,this.currentAnimationComplete=!1,this.state.setAnimation(n,t,e)}}])&&Us(n.prototype,o),i&&Us(n,i),e}(ne);function $s(t){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function el(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nl(t,e,n){return(nl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ol(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ol(t){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function il(t,e){return(il=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rl=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=ol(e).call(this))||"object"!==$s(o)&&"function"!=typeof o?el(n):o).freeplay=!0,t.name="Freeplay Scene",t.hamsters=[],t.responseTracker=0,t.boundsOffset.down=-150,t.bounceResponses=new J(["pool-9","other"],!0),t.splashSFX=new J(["splash-1","splash-2","splash-3"],!0),t.hammerSFX=new J(["wave-1","wave-2","wave-3"],!0),t.waterHammerResponses=new J(["pool-10","pool-11-alt","pool-12"],!0),t.idlePrompter=new Zt(t.playIdleVO.bind(el(t)),20),t}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&il(t,e)}(e,t),n=e,(i=[{key:"preload",value:function(){if(U.loading.Freeplay)return Promise.resolve();U.loading.Freeplay=!0;var t=PIXI.Loader.shared;return t.add(o.Freeplay),new Promise((function(e){t.load(e)}))}},{key:"build",value:function(){nl(ol(e.prototype),"build",this).call(this);var t=new PIXI.Sprite(PIXI.utils.TextureCache.FreeplayBG);t.name="Background",t.anchor.set(.5);var n=new PIXI.Sprite(PIXI.utils.TextureCache["tub.png"]);n.name="Tub Background",n.anchor.set(.5),this.tubFront=new Kr(this.world,"tub-front",b2.b2BodyType.b2_staticBody),this.tubFront.zIndex=2,this.tubSensor=ke(this.world,s["tub-sensor"]),this.tubSensor.SetType(b2.b2BodyType.b2_staticBody),this.tubSensor.SetPosition(new b2.b2Vec2(we(n.x),we(n.y))),this.waterSystem=new Be(this.world,"water-blur",10,500,U.waterColorArray,.1),this.waterSystem.zIndex=1;var o=new b2.b2ParticleGroupDef;o.shape=new b2.b2PolygonShape,o.shape.SetAsBox(we(300),we(50)),o.position.Set(we(45),we(240)),this.waterSystem.particleSystem.CreateParticleGroup(o),this.adjustableSpout1=new Gs(this.waterSystem),this.adjustableSpout1.position.set(-199,-282),this.adjustableSpout1.zIndex=2,this.adjustableSpout1.setFlowByPercentage(1),this.adjustableSpout1.play(),this.collisionWorld.addColliderToWorld(this.adjustableSpout1),this.adjustableSpout2=new Gs(this.waterSystem),this.adjustableSpout2.position.set(269,-285),this.adjustableSpout2.zIndex=2,this.adjustableSpout2.setFlowByPercentage(.1),this.adjustableSpout2.play(),this.collisionWorld.addColliderToWorld(this.adjustableSpout2);var i=new PIXI.Sprite(PIXI.utils.TextureCache["rail.png"]);i.zIndex=2,i.anchor.set(.5,0),i.position.set(-2,-378),this.createTools(JSON.parse(localStorage.getItem("unlockedToys"))),this.waterHammer=new cs(this.waterSystem),this.waterHammer.position.set(436,255),this.waterHammer.zIndex=3,this.divingBoard=new Ts(this.world,this.waterSystem),this.collisionWorld.addColliderToWorld(this.divingBoard.platform),this.divingBoard.zIndex=3,this.waterHammerButton=new lt("wave-btn",!1),this.waterHammerButton.position.set(this.waterHammer.position.x,this.waterHammer.position.y),this.waterHammerButton.anchor.set(.5),this.waterHammerButton.zIndex=3,this.leftPlatform=new zs(-755,10,0===this.dragTools.length?460:210,360),this.rightPlatform=new zs(495,10,275,360),this.slide=new Ls,this.slide.zIndex=3,this.mateo=new Qs(PIXI.Loader.shared.resources.FreeplayMateo.spineData),this.mateo.skeleton.scaleX=.29,this.mateo.skeleton.scaleY=.29,this.mateo.position.set(0,50),this.mateo.float(),this.hamster1=new xs(this.world,"hamster1",7e3,new b2.b2Vec2(-35,-100),this.mateo),this.hamster1.setPosition(-100,75),this.sadie=new Qs(PIXI.Loader.shared.resources.FreeplaySadie.spineData),this.sadie.skeleton.scaleX=.28,this.sadie.skeleton.scaleY=.28,this.addChild(this.sadie),this.sadie.float(),this.hamster2=new xs(this.world,"hamster2",5e3,new b2.b2Vec2(-20,-70),this.sadie),this.hamster2.setPosition(0,75),this.tasha=new Qs(PIXI.Loader.shared.resources.FreeplayTasha.spineData),this.tasha.skeleton.scaleX=.27,this.tasha.skeleton.scaleY=.27,this.tasha.position.set(0,50),this.tasha.float(),this.hamster3=new xs(this.world,"hamster3",15e3,new b2.b2Vec2(-100,-300),this.tasha),this.hamster3.setPosition(100,75),this.hamsters.push(this.hamster1,this.hamster2,this.hamster3),this.collisionWorld.addColliderToWorld(this.hamster1),this.collisionWorld.addColliderToWorld(this.hamster2),this.collisionWorld.addColliderToWorld(this.hamster3),this.plug=new ds(this.world),this.plug.setPosition(-130,307),this.plug.startPosition=new PIXI.Point(this.plug.x,this.plug.y),this.plug.slideSpeed=1e4,this.plugZone=new PIXI.Graphics,this.plugZone.beginFill(65280),this.plugZone.drawRect(0,0,150,100),this.plugZone.zIndex=100,this.plugZone.position.set(-206,260),this.plugZone.alpha=0,this.collisionWorld.addColliderToWorld(this.plug),this.addChild(t,n,i,this.waterSystem,this.adjustableSpout1,this.adjustableSpout2,this.tubFront,this.waterHammer,this.divingBoard,this.waterHammerButton,this.slide,this.plug,this.hamster1,this.hamster2,this.hamster3,this.leftPlatform,this.rightPlatform,this.plugZone,this.ui),this.ui.addChild(this.hamsterHand);var r=new PIXI.Graphics;r.beginFill(16711935);var a=[-Nl.maxWidth/2,-Nl.maxHeight/2,-120,-Nl.maxHeight/2,-120,-190,-Nl.maxWidth/2,-190];r.drawPolygon(a),r.alpha=.2,this.collisionWorld.addStaticGraphicToWorld(r),this.dragManager.add(this.plug,this.hamster1,this.hamster2,this.hamster3),this.createWall(0,-Nl.maxHeight/2,Nl.safeWidth,30),this.createWall(-Nl.safeWidth/2+this.boundsOffset.left,0,30,Nl.maxHeight),this.createWall(Nl.safeWidth/2,0,30,Nl.maxHeight),this.setupContact(),this.flowStrong=Gl.play("water-strong-loop"),this.flowStrong.loop=!0,this.flowWeak=Gl.play("water-weak-loop"),this.flowWeak.loop=!0,this.setSFXFromFlow(),this.positionDynamicUI(Nl.width),this.ready=!0}},{key:"setupContact",value:function(){var t=this,e=new b2.b2ContactListener;this.world.SetContactListener(e),e.BeginContact=function(e){if(t.freeplayStarted){var n=e.GetFixtureA(),o=e.GetFixtureB(),i=n.GetBody(),r=o.GetBody(),a=t.divingBoard.board;if(i===a)if(r.parent&&r.parent.divingBoardDirection)r.ApplyLinearImpulseToCenter(r.parent.divingBoardDirection),r.parent instanceof xs&&(r.parent.display.jump(),t.playJumpSpecificVO(r.parent)),Gl.play("pool-trampoline"),t.divingBoard.animate();else{var s=n.GetDensity();r.ApplyLinearImpulseToCenter(new b2.b2Vec2(-2*s,-8*s))}if(r===a)if(i.parent&&i.parent.divingBoardDirection)i.ApplyLinearImpulseToCenter(i.parent.divingBoardDirection),i.parent instanceof xs&&(i.parent.display.jump(),t.playJumpSpecificVO(i.parent)),Gl.play("pool-trampoline"),t.divingBoard.animate();else{var l=o.GetDensity();i.ApplyLinearImpulseToCenter(new b2.b2Vec2(-2*l,-8*l))}var c=t.divingBoard.platform.body,u=t.checkNumberOfParticlesInBox();if(i===t.tubSensor||r===t.tubSensor){var h=i.parent||r.parent;h&&h instanceof xs&&(h.inWater=!0,h.display.float());var p=function(e){Gl.play(t.splashSFX.getNext(),.2)};u>300?p():u>200?setTimeout(p,200):u>100&&setTimeout(p,400)}u<100||(i.parent&&i.parent.propeller&&(r===t.tubSensor&&(t.heardPool6||(t.heardPool6=!0,t.mateo.parent.inWater?t.mateo.talk("pool-6"):t.mateo.talk("idle-pool-6")),i.parent.startMotor()),n.IsSensor()&&(r!==t.tubFront.body&&r!==c||i.parent.flip())),r.parent&&r.parent.propeller&&(i===t.tubSensor&&(t.heardPool6||(t.heardPool6=!0,t.mateo.parent.inWater?t.mateo.talk("pool-6"):t.mateo.talk("idle-pool-6")),r.parent.startMotor()),o.IsSensor()&&(i!==t.tubFront.body&&i!==c||r.parent.flip())))}},e.EndContact=function(e){var n=e.GetFixtureA(),o=e.GetFixtureB(),i=n.GetBody(),r=o.GetBody();i.parent&&i.parent.propeller&&r===t.tubSensor&&i.parent.stopMotor(),r.parent&&r.parent.propeller&&i===t.tubSensor&&r.parent.stopMotor()}}},{key:"playJumpSpecificVO",value:function(t){if(Math.random()<1){var e=this.bounceResponses.getNext();if("pool-9"===e)this.mateo.parent.inWater?this.mateo.talk(e):this.mateo.talk("idle-"+e);else switch(t){case this.hamster1:this.mateo.play("pool-11-alt");break;case this.hamster2:this.sadie.play("pool-10");break;case this.hamster3:this.tasha.play("pool-12")}}}},{key:"checkNumberOfParticlesInBox",value:function(){for(var t=this.waterSystem.particleSystem.GetPositionBuffer(),e=this.waterSystem.particleSystem.GetParticleCount(),n=new PIXI.Rectangle(-290,100,700,280),o=Math.min(e,400),i=0,r=0;r<o;r++){var a=t[r],s=ve(a.x),l=ve(a.y);n.contains(s,l)&&i++}return i}},{key:"setActive",value:function(t){var n=this;nl(ol(e.prototype),"setActive",this).call(this,t),this.sadie.setActive(t),this.tasha.setActive(t),this.mateo.setActive(t),this.adjustableSpout1.setActive(t),this.adjustableSpout2.setActive(t),this.adjustableSpout1.on("adjustFlow",this.setSFXFromFlow,this),this.adjustableSpout2.on("adjustFlow",this.setSFXFromFlow,this),this.toolTray.setActive(t),this.dragManager.setActive(t),this.waterHammerButton.setActive(t),t?(this.on("pointerdown",this.clearToolSelections,this),this.dragTools.forEach((function(t){t.on("dragStart",n.handleToolDragStart,n),t.on("dragEnd",n.handleToolDragEnd,n),t.on("offscreen",n.handleToolOffscreen,n)})),this.plug.on("dragStart",this.handleDragStart,this),this.plug.on("dragEnd",this.handleDragEnd,this),this.hamsters.forEach((function(t){t.on("dragStart",n.handleDragStart,n),t.on("dragEnd",n.handleDragEnd,n)})),this.homeBtn.on("pointertap",this.handleHomeButtonClicked,this),this.waterHammerButton.on("pointertap",this.handleWaterButtonClicked,this),this.waterHammerButton.on("pointertap",this.waterHammer.hammer,this.waterHammer)):(this.removeAllListeners(),this.plug.removeAllListeners(),this.hamsters.forEach((function(t){t.removeAllListeners()})),this.waterHammerButton.removeAllListeners())}},{key:"handleWaterButtonClicked",value:function(t){if(t.data.isPrimary){if(this.responseTracker++,this.responseTracker%3==0)switch(this.waterHammerResponses.getNext()){case"pool-10":this.sadie.parent.inWater?this.sadie.talk("pool-10"):this.sadie.talk("idle-pool-10");break;case"pool-11-alt":this.mateo.parent.inWater?this.mateo.talk("pool-11-alt"):this.mateo.talk("idle-pool-11-alt");break;case"pool-12":this.tasha.parent.inWater?this.tasha.talk("pool-12"):this.tasha.talk("idle-pool-12")}Gl.play(this.hammerSFX.getNext(),.2)}}},{key:"start",value:function(){var t=this;Hl.getPlugin("GoogleAnalytics").event("Splash Dash","startLevel","freeplay");var e=JSON.parse(localStorage.getItem("numberOfTimesAtFreeplay"));switch(e){case 0:localStorage.setItem("newToyTracker",JSON.stringify(0)),this.interactive=!1,this.interactiveChildren=!1,this.sadie.talk(["pool-1","pool-2"]),this.sadie.once("complete",(function(e){t.sadie.once("complete",(function(e){t.interactive=!0,t.interactiveChildren=!0}))})),e++,JSON.parse(localStorage.getItem("hasNewToy"))&&localStorage.setItem("hasNewToy",JSON.stringify(!1));break;case 1:JSON.parse(localStorage.getItem("hasNewToy"))&&(localStorage.setItem("hasNewToy",JSON.stringify(!1)),JSON.parse(localStorage.getItem("newToyTracker")),e++);break;default:JSON.parse(localStorage.getItem("hasNewToy"))&&localStorage.setItem("hasNewToy",JSON.stringify(!1))}localStorage.setItem("numberOfTimesAtFreeplay",JSON.stringify(e)),this.toolTray.scrollThru(500),this.toolTray.animateNewToys(),this.freeplayStarted=!0,this.idlePrompter.start()}},{key:"setSFXFromFlow",value:function(){for(var t=!1,e=0;e<this.activeDragTools.length;e++)if(this.activeDragTools[e].shootsWater){t=!0,this.flowStrong.volume=.1,this.flowWeak.volume=0;break}if(!t){var n=this.adjustableSpout1.getFlowRate(),o=this.adjustableSpout2.getFlowRate();0===n&&0===o?(this.flowStrong.volume=0,this.flowWeak.volume=0):n<.75&&o<.75?(this.flowStrong.volume=0,this.flowWeak.volume=.1):(this.flowStrong.volume=.1,this.flowWeak.volume=0)}}},{key:"collidesWithPlatform",value:function(t){var e=!1,n=function(t){var e=t.getBounds(),n=Nl.width/2;return n<637.5||t.x+e.width/2>n||t.x-e.width/2<-n};return Se(this.leftPlatform,t)?(e=!0,t.setBody(!1),t.zIndex=this.leftPlatform.zIndex+1,n(t)?this.returnItemSpecific(t):this.leftPlatform.add(t)):Se(this.rightPlatform,t)&&(e=!0,t.setBody(!1),t.zIndex=this.rightPlatform.zIndex+1,n(t)?this.returnItemSpecific(t):this.rightPlatform.add(t)),e}},{key:"handleToolDragEnd",value:function(t){Se(t,this.toolTray)?(console.log("added to tool tray"),nl(ol(e.prototype),"handleToolDragEnd",this).call(this,t)):t.body.GetType()===b2.b2BodyType.b2_dynamicBody&&this.checkSlideCollision(t)?(console.log("added to slide"),this.slide.addHamsterToSlide(t,this.responseTracker++),this.activeDragTools.push(t)):this.collidesWithPlatform(t)?(console.log("added to platform"),this.activeDragTools.push(t)):(console.log("added to world"),nl(ol(e.prototype),"handleToolDragEnd",this).call(this,t)),"rock"===t.name||"anchor"===t.name||"car"===t.name?this.heardSinkVO||(this.heardSinkVO=!0,this.tasha.parent.inWater?this.tasha.talk("pool-5"):this.tasha.talk("idle-pool-5")):"beach-ball"!==t.name&&"flamingo"!==t.name||this.heardFloatVo||(this.heardFloatVo=!0,this.sadie.parent.inWater?this.sadie.talk("pool-4"):this.sadie.talk("idle-pool-4"))}},{key:"handleDragStart",value:function(t){if(t){t===this.plug&&Object(Ct.a)(this.plug.startPosition,this.plug.position)<5&&Gl.play("plug-pull");var e=this.toLocal(new PIXI.Point(t.x,t.y),t.parent);t.setPosition(e.x,e.y),t.zIndex=this.ui.zIndex+1,this.addChild(t)}}},{key:"handleDragEnd",value:function(t){var e=this;if(t)if(t.zIndex=t.startZIndex,this.checkSlideCollision(t))console.log("added to slide"),this.slide.addHamsterToSlide(t,this.responseTracker++),cjs.Tween.get(this).wait(100).call((function(n){t===e.hamster1?e.mateo.parent.inWater?e.mateo.talk("pool-11-alt"):e.mateo.talk("idle-pool-11-alt"):t===e.hamster2?e.sadie.parent.inWater?e.sadie.talk("pool-10"):e.sadie.talk("idle-pool-10"):t===e.hamster3&&(e.tasha.parent.inWater?e.tasha.talk("pool-12"):e.tasha.talk("idle-pool-12"))}));else if(this.collidesWithPlatform(t))console.log("added to platform");else{console.log("added to world");var n=this.collisionWorld.getCollider(t);this.setEntityInBounds(t),this.collisionWorld.moveColliderToEntity(t),this.collisionWorld.checkPolygonCollision(n);var o=Object(Ct.a)(n,t),i=Object(Ct.d)(o,0,100,0,500);i=Object(Ct.c)(i,0,500),t.animateTo(new PIXI.Point(n.position.x,n.position.y),i),this.collidesWithPlatform(t)||t.setPosition(0,0)}}},{key:"calculateEntityInPlatform",value:function(t,e){var n=t.getBounds(),o=e.size,i=new PIXI.Point(t.x,t.y);return t.x+n.width/2>e.position.x+o.width?i.x=e.position.x+o.width-n.width/2:t.x-n.width/2<e.position.x&&(i.x=e.position.x+n.width/2),t.y+n.height/2>e.position.y+o.height?i.y=e.position.y+o.height-n.height/2:t.y-n.height/2<e.y&&(i.y=e.position.y+n.width/2),i}},{key:"checkSlideCollision",value:function(t){return!!Se(t,this.slide.entrance)}},{key:"handleToolOffscreen",value:function(t){t.body.SetActive(!1),t.setBody(!1),this.toolTray.returnToolToTray(t),this.clearToolSelections(),this.rotationControls.visible=!1,t.droppedInTray()}},{key:"playIdleVO",value:function(){1===JSON.parse(localStorage.getItem("numberOfTimesAtFreeplay"))&&this.activeDragTools.length>0&&(this.clickTutorialForControls(this.trashBtn),this.tasha.parent.inWater?this.tasha.talk("clearlevel"):this.tasha.talk("idle-clearlevel"),this.idlePrompter.stop())}},{key:"update",value:function(t){if(nl(ol(e.prototype),"update",this).call(this,t),this.ready){this.plug.locked||this.plug.grabbed||Se(this.plugZone,this.plug)&&this.plug.lockIntoZone(this.plug.startPosition);for(var n=0,o=this.hamsters.length;n<o;n++)this.collisionWorld.moveColliderToEntity(this.hamsters[n]);for(var i=0,r=this.activeDragTools.length;i<r;i++)this.collisionWorld.moveColliderToEntity(this.activeDragTools[i]);this.collisionWorld.moveColliderToEntity(this.plug),this.idlePrompter.update(t),this.setSFXFromFlow()}}},{key:"handleHomeButtonClicked",value:function(t){t.data.isPrimary&&(this.flowStrong.stop(),this.flowWeak.stop(),nl(ol(e.prototype),"handleHomeButtonClicked",this).call(this,t))}},{key:"resize",value:function(t,n){nl(ol(e.prototype),"resize",this).call(this,t,n);for(var o=this.leftPlatform.getChildNotInBounds(),i=this.rightPlatform.getChildNotInBounds(),r=0;r<o.length;r++)this.returnItemSpecific(o[r]);for(var a=0;a<i.length;a++)this.returnItemSpecific(i[a])}},{key:"returnItemSpecific",value:function(t){console.log(t),t===this.hamster1||t===this.hamster2||t===this.hamster3||t===this.plug?(t.setPosition(0,0),t.setBody(!0)):this.toolTray.returnToolToTray(t)}},{key:"unload",value:function(){nl(ol(e.prototype),"unload",this).call(this),this.flowStrong.stop(),this.flowStrong=null,this.flowWeak.stop(),this.flowWeak=null}}])&&tl(n.prototype,i),r&&tl(n,r),e}(Vr),al={1:!0,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1};function sl(t){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ul(t,e,n){return e&&cl(t.prototype,e),n&&cl(t,n),t}function hl(t,e){return!e||"object"!==sl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pl(t){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yl(t,e)}function yl(t,e){return(yl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dl=function(t){function e(){var t;return ll(this,e),(t=hl(this,pl(e).call(this))).name="Water",t.waterSpeed=200,t.water1=new PIXI.Sprite(PIXI.utils.TextureCache.LoaderWater),t.water1.anchor.set(.5,150/t.water1.getLocalBounds().height),t.water2=new PIXI.Sprite(PIXI.utils.TextureCache.LoaderWater),t.water2.anchor.set(.5,150/t.water2.getLocalBounds().height),t.waterWidth=t.water1.getLocalBounds().width,t.water2.position.set(-t.waterWidth,0),t.addChild(t.water1,t.water2),t}return fl(e,PIXI.Container),ul(e,[{key:"update",value:function(t){this.water1.x+=this.waterSpeed*t,this.water2.x+=this.waterSpeed*t,this.water1.x>this.waterWidth&&(this.water1.x-=2*this.waterWidth),this.water2.x>this.waterWidth&&(this.water2.x-=2*this.waterWidth)}}]),e}(),ml=function(t){function e(){var t;ll(this,e),(t=hl(this,pl(e).call(this))).name="Loader",t.alpha=0,t.visible=!1,t.velocity=0;var n=new PIXI.Sprite(PIXI.utils.TextureCache.LoaderBG);n.anchor.set(.5),t.animationContainer=new PIXI.Container,t.animationContainer.y=300,t.water1=new dl,t.sadie=new ne(PIXI.Loader.shared.resources.LoadingSadie.spineData),t.sadie.play("float",!0),t.sadie.pivot.y=100,t.addChild(t.sadie),t.mateo=new ne(PIXI.Loader.shared.resources.LoadingMateo.spineData),t.mateo.play("float",!0),t.mateo.pivot.y=-50,t.addChild(t.mateo),t.tasha=new ne(PIXI.Loader.shared.resources.LoadingTasha.spineData),t.tasha.play("float",!0),t.tasha.pivot.y=-50,t.addChild(t.tasha),t.hamsters=new J([t.sadie,t.mateo,t.tasha],!0),t.currentHamster=t.hamsters.getNext(),t.water2=new dl,t.water2.alpha=.5,t.animationContainer.addChild(t.water1,t.sadie,t.tasha,t.mateo,t.water2),t.waterWidth=t.water1.getLocalBounds().width;var o=new PIXI.Sprite(PIXI.utils.TextureCache["loading-text.png"]);return o.anchor.set(.5),o.position.set(325,318),t.addChild(n,t.animationContainer,o),t}return fl(e,PIXI.Container),ul(e,[{key:"animateIn",value:function(){var t=this;return this.currentHamster.y=0,createjs.Tween.removeTweens(this.currentHamster),this.hamsters.array.forEach((function(t){return t.visible=!1})),this.currentHamster=this.hamsters.getNext(),this.currentHamster.visible=!0,createjs.Tween.get(this.currentHamster,{loop:-1}).to({y:-25},2e3,createjs.Ease.cubicInOut).to({y:0},2e3,createjs.Ease.cubicInOut),this.animationContainer.y=300,this.visible=!0,new Promise((function(e){createjs.Tween.get(t).to({alpha:1},500,createjs.Ease.cubicInOut).call(e)}))}},{key:"animateOut",value:function(){var t=this;return new Promise((function(e){if(t.alpha>0){Gl.play("loading",.1);var n=createjs.Tween.get(t.animationContainer).to({y:0},2e3,createjs.Ease.cubicInOut);createjs.Tween.get(t).wait(n.duration).to({alpha:0},500,createjs.Ease.cubicInOut).set({visible:!1}).call(e)}else e()}))}}]),e}();function gl(t){return(gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wl(t,e){return!e||"object"!==gl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xl(t){return(xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kl(t,e){return(kl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sl=function(t){function e(){return bl(this,e),wl(this,xl(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kl(t,e)}(e,t),n=e,(o=[{key:"preUnloadScene",value:function(t,e){this.clearListeners(Nl.stage),Fl.removeAllListeners(),Fl.on("play",(function(t){Vl.start(t)})),Fl.stop(),Vl.stop()}},{key:"postUnloadScene",value:function(t,e){cjs.Tween.removeAllTweens(),Gl.stop(),Gl.removeAllListeners()}},{key:"clearListeners",value:function(t){if(t){if(t.children)for(var e=t.children.length-1;e>=0;e--)this.clearListeners(t.children[e]);t.removeAllListeners()}}}])&&vl(n.prototype,o),i&&vl(n,i),e}(w);function Pl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ol=function(){function t(e,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.video=document.createElement("video"),this.video.id=void 0===o.id?"video":o.id,this.video.src=e;var r=void 0!==o.autoPlay&&o.autoPlay;this.video.style.opacity=void 0===o.opacity?1:o.opacity,this.container=document.getElementById(n),this.container.appendChild(this.video),this.video.setAttribute("playsinline","playsinline"),this.video.setAttribute("webkit-playsinline","webkit-playsinline"),this.video.autoplay=r,this.video.onerror=function(t){console.log(t)},i&&(this.video.oncanplay=i)}var e,n,o;return e=t,(n=[{key:"unlock",value:function(){this.video.play(),this.video.pause()}},{key:"setSource",value:function(t){this.video.src=t}},{key:"play",value:function(t){this.endCallback=t,this.fadeInVideo(),this.video.play(),this.setVideoListeners()}},{key:"pause",value:function(){this.video.pause()}},{key:"resume",value:function(){this.video.play()}},{key:"setVideoListeners",value:function(){this.video.addEventListener("ended",this.handleVideoEnded.bind(this))}},{key:"handleVideoEnded",value:function(){if(this.endCallback){var t=this.endCallback;this.endCallback=null,t()}this.fadeOutVideo()}},{key:"fadeOutVideo",value:function(){this.video.classList.remove("fadeIn"),this.video.classList.add("fadeOut")}},{key:"fadeInVideo",value:function(){this.video.classList.remove("fadeOut"),this.video.classList.add("fadeIn")}},{key:"setVolume",value:function(t){this.video.volume=t}}])&&Pl(e.prototype,n),o&&Pl(e,o),t}();function Il(t){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function jl(t,e){return!e||"object"!==Il(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bl(t,e,n){return(Bl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_l(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _l(t){return(_l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function El(t,e){return(El=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ll=function(t){function e(){return Tl(this,e),jl(this,_l(e).apply(this,arguments))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&El(t,e)}(e,t),n=e,(o=[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.templateVariables=t}},{key:"lineBegin",value:function(t){Bl(_l(e.prototype),"lineBegin",this).call(this,t),this.adjustCaptions(),this.renderTarget.style.display="block",this.renderTarget.style.visibility="visible"}},{key:"lineEnd",value:function(){Bl(_l(e.prototype),"lineEnd",this).call(this),this.adjustCaptions(),this.renderTarget.style.display="none",this.renderTarget.style.visibility="hidden"}},{key:"adjustCaptions",value:function(){var t=document.getElementById("captions"),e=parseInt(Nl.container.style.height.split("px")[0]),n=e/Nl.maxHeight,o=Nl.width<1200?600:757;t.style.width=o*n+"px";var i=e/Nl.maxHeight;this.renderTarget.style.lineHeight=Math.floor(30*i)+"px",this.renderTarget.style.fontSize=Math.floor(28*i)+"px"}}])&&Cl(n.prototype,o),i&&Cl(n,i),e}(O.c),Rl=n(141);n(337);function Xl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Al(t,e,n,o,i,r,a){try{var s=t[r](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,i)}function Dl(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(t){Al(r,o,i,a,s,"next",t)}function s(t){Al(r,o,i,a,s,"throw",t)}a(void 0)}))}}O.a.uses(new Rl.a);var Hl=new O.a({features:{captions:!0,sound:!0,vo:!0,music:!0,sfx:!0}});Hl.state.captionsMuted.subscribe((function(t){console.log("Are captions muted?",t);var e=document.getElementById("captionContainer");Ml.current instanceof Tt&&Ml.current.fullscreenChange(),e.style.display=t?"none":"flex"})),Hl.state.soundVolume.subscribe((function(t){console.log("Value Between 0-1",t),Jl.setVolume(t),PIXI.sound.volumeAll=t})),Hl.state.musicVolume.subscribe((function(t){console.log("Value Between 0-1",t),Wl.masterVolume=t})),Hl.state.voVolume.subscribe((function(t){console.log("Value Between 0-1",t),Fl.masterVolume=t})),Hl.state.sfxVolume.subscribe((function(t){console.log("Value Between 0-1",t),Gl.masterVolume=t})),Hl.state.pause.subscribe((function(t){console.log("Is the game paused?",t),Nl.setPaused(t),t?(PIXI.sound.pauseAll(),Ml.current instanceof Tt&&Ml.current.handleGamePause(t),Ml.current instanceof Vr&&Ml.current.stopDragging(),Fl.pause()):(PIXI.sound.resumeAll(),Ml.current instanceof Tt&&(Ml.current.handleGamePause(t),Ml.current.setCaptionsToVideo()),Fl.resume())})),Hl.state.ready.subscribe((function(t){!function(){tc.apply(this,arguments)}()}));var Gl=new F,Fl=new E,Wl=new M,Nl=new b(document.getElementById("gameContainer"),document.getElementById("gameCanvas"),{safeWidth:1e3,safeHeight:750,maxWidth:1624,maxHeight:750,notchSafeWidth:1410}),Ml=new P,Vl=new O.b(r,new Ll(document.getElementById("captions"))),Yl=!1;function zl(t){Yl=t}Nl.ticker.add((function(){Yl||Vl.update(Nl.tick)}));var Jl=new Ol("assets/video/Hamsters-Water-Short.mp4","videoContainer",{id:"video",autoPlay:!1,opacity:0}),Ul=document.createElement("track");Ul.kind="captions",Ul.label="Closed Captions",Ul.srclang="en-US",Ul.src="assets/video/captions.vtt",Jl.video.appendChild(Ul),Fl.on("play",(function(t){Vl.start(t)}));var Zl,ql={Game:new d("Game",.5,.5),Transition:new d("Transition",.5,.5)};function Kl(){for(var t in ql)Nl.stage.addChild(ql[t]);Nl.resize()}function Ql(){Ml.registerScene("Title",xt),Ml.registerScene("Video2",Tt),Ml.registerScene("LevelSelect",be),Ml.registerScene("Game",os),Ml.registerScene("Freeplay",rl),Ml.setMainLayer(ql.Game)}function $l(){if("gold-1.0"!==JSON.parse(localStorage.getItem("version"))&&(console.log("clear local storage"),localStorage.clear(),localStorage.setItem("version",JSON.stringify("gold-1.0"))),!localStorage.getItem("unlockedToys")){var t=[];localStorage.setItem("unlockedToys",JSON.stringify(t)),localStorage.setItem("newToys",JSON.stringify(t))}JSON.parse(localStorage.getItem("unlockStars"))||localStorage.setItem("unlockStars",JSON.stringify(Z));for(var e=["cafeteriaLevelsUnlocked","libraryLevelsUnlocked","hallwayLevelsUnlocked"],n=0,o=e.length;n<o;n++){var i=e[n];localStorage.getItem(i)||localStorage.setItem(i,JSON.stringify(al))}for(var r=["hasNewToy","seenHandDragTutorial","heardLibraryTutorial","heardCafeteriaTutorial","heardHallwayTutorial","heardRotationTutorial","heardFlipTutorial","seenClockArmRotationTutorial","heardUnlock1","heardObstacleTutorial","seenDottedLinePulse","completedLibrary","completedHallway","completedCafeteria","heard2ndLeakVO"],a=0,s=r.length;a<s;a++){var l=r[a];localStorage.getItem(l)||localStorage.setItem(l,JSON.stringify(!1))}for(var c=["level10Completed","numberOfTimesAtFreeplay","newToyTracker"],u=0,h=c.length;u<h;u++){var p=c[u];null===localStorage.getItem(p)&&localStorage.setItem(p,JSON.stringify(0))}}function tc(){return(tc=Dl(regeneratorRuntime.mark((function t(){var e,n,i,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(){Vl.renderer.adjustCaptions()},e=new PIXI.Text(" ",{fontFamily:"Poppins-Black",fontSize:24,fill:16715792,align:"center"}),n=new PIXI.Text(" ",{fontFamily:"Poppins-Regular",fontSize:24,fill:16715792,align:"center"}),e.position.set(-2e3,-2e3),n.position.set(-2e3,-2e3),Nl.stage.addChild(e),Nl.stage.addChild(n),setTimeout((function(){Nl.stage.removeChild(e),Nl.stage.removeChild(n)}),5e3),ec(),$l(),Kl(),Ql(),window.addEventListener("resize",i),i(),Ml.addPlugin(new Sl),r=[],Xl(o.Shared).forEach((function(t){r.push(t)})),Xl(o.Loading).forEach((function(t){r.push(t)})),Xl(o.Title).forEach((function(t){r.push(t)})),(a=PIXI.Loader.shared).reset(),a.add(r),t.next=27,new Promise((function(t){a.load(t)}));case 27:Zl=new ml,Ml.setTransitionLayer(Zl,ql.Transition),Ml.gotoScene("Title");case 31:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ec(){!function(){if(!0===PIXI.utils.isMobile.apple.device){var t=window.AudioContext||window.webkitAudioContext;if(t)try{var e=new t,n=e.createBuffer(1,1,44100),o=e.createBufferSource();o.buffer=n,o.connect(e.destination),o.start(0),o.disconnect(),e&&e.close&&e.close()}catch(t){}}}()}window.b2=box2d,window.cjs=createjs},51:function(t){t.exports=JSON.parse('{"Shared":[{"name":"molly_tap","url":"assets/audio/sfx/molly_tap.mp3"},{"name":"loading","url":"assets/audio/sfx/loading.mp3"},{"name":"SharedSS","url":"assets/images/shared-ss.json"},{"name":"GameSS","url":"assets/images/game-ss.json"},{"name":"GameMusic","url":"assets/audio/music/Hamsters_105-WaterGame_GameLoop_06012020.mp3"},{"name":"1stplay-1","url":"assets/audio/vo/1stplay-1.mp3"},{"name":"1stplay-2","url":"assets/audio/vo/1stplay-2.mp3"},{"name":"1stplay-3","url":"assets/audio/vo/1stplay-3.mp3"},{"name":"1stplay-4","url":"assets/audio/vo/1stplay-4.mp3"},{"name":"1stplay-5","url":"assets/audio/vo/1stplay-5.mp3"},{"name":"1stplay-6","url":"assets/audio/vo/1stplay-6.mp3"},{"name":"1stplay-7","url":"assets/audio/vo/1stplay-7.mp3"},{"name":"1stplay-8","url":"assets/audio/vo/1stplay-8.mp3"},{"name":"clearlevel","url":"assets/audio/vo/clearlevel.mp3"},{"name":"pickup","url":"assets/audio/sfx/pickup.mp3"},{"name":"r-whoosh-short","url":"assets/audio/sfx/r-whoosh-short.mp3"},{"name":"click-rotate","url":"assets/audio/sfx/click-rotate.mp3"}],"Title":[{"name":"TitleBG","url":"assets/images/title-bg.png"},{"name":"TitleSS","url":"assets/images/title-ss.json"}],"Video":[{"name":"VideoBG","url":"assets/images/video-frame.png"}],"Loading":[{"name":"LoaderBG","url":"assets/images/loader-bg.png"},{"name":"LoaderWater","url":"assets/images/loader-water.png"},{"name":"LoaderSS","url":"assets/images/loader-ss.json"},{"name":"LoadingTasha","url":"assets/animations/LoadingTasha/Tasha.json"},{"name":"LoadingMateo","url":"assets/animations/LoadingMateo/Mateo.json"},{"name":"LoadingSadie","url":"assets/animations/LoadingSadie/Sadie.json"}],"LevelSelect":[{"name":"LevelSelectBG","url":"assets/images/level-select-bg.png"},{"name":"LevelSelectSS","url":"assets/images/level-select-ss.json"},{"name":"MenuMateo","url":"assets/animations/MenuMateo/Mateo.json"},{"name":"MenuSadie","url":"assets/animations/MenuSadie/Sadie.json"},{"name":"MenuTasha","url":"assets/animations/MenuTasha/Tasha.json"},{"name":"MenuMusic","url":"assets/audio/music/Hamsters_105-WaterGame_MenuLoop_06012020.mp3"},{"name":"picker-1","url":"assets/audio/vo/picker-1.mp3"},{"name":"picker-1b","url":"assets/audio/vo/picker-1b.mp3"},{"name":"picker-1c","url":"assets/audio/vo/picker-1c.mp3"},{"name":"picker-2","url":"assets/audio/vo/picker-2.mp3"},{"name":"picker-2a","url":"assets/audio/vo/picker-2a.mp3"},{"name":"picker-2b","url":"assets/audio/vo/picker-2b.mp3"},{"name":"picker-2c","url":"assets/audio/vo/picker-2c.mp3"},{"name":"picker-3","url":"assets/audio/vo/picker-3.mp3"},{"name":"picker-4","url":"assets/audio/vo/picker-4.mp3"},{"name":"picker-4b","url":"assets/audio/vo/picker-4b.mp3"},{"name":"picker-4c","url":"assets/audio/vo/picker-4c.mp3"},{"name":"picker-5","url":"assets/audio/vo/picker-5.mp3"},{"name":"picker-5b","url":"assets/audio/vo/picker-5b.mp3"},{"name":"picker-5c","url":"assets/audio/vo/picker-5c.mp3"},{"name":"picker-6","url":"assets/audio/vo/picker-6.mp3"},{"name":"picker-7","url":"assets/audio/vo/picker-7.mp3"},{"name":"picker-8","url":"assets/audio/vo/picker-8.mp3"},{"name":"picker-9","url":"assets/audio/vo/picker-9.mp3"},{"name":"picker-10","url":"assets/audio/vo/picker-10.mp3"},{"name":"picker-11","url":"assets/audio/vo/picker-11.mp3"},{"name":"picker-12","url":"assets/audio/vo/picker-12.mp3"},{"name":"picker-13","url":"assets/audio/vo/picker-13.mp3"},{"name":"picker-14","url":"assets/audio/vo/picker-14.mp3"},{"name":"picker-15","url":"assets/audio/vo/picker-15.mp3"},{"name":"picker-16","url":"assets/audio/vo/picker-16.mp3"},{"name":"picker-17","url":"assets/audio/vo/picker-17.mp3"},{"name":"picker-18","url":"assets/audio/vo/picker-18.mp3"},{"name":"picker-19","url":"assets/audio/vo/picker-19.mp3"},{"name":"picker-20","url":"assets/audio/vo/picker-20.mp3"},{"name":"picker-21","url":"assets/audio/vo/picker-21.mp3"},{"name":"picker-22","url":"assets/audio/vo/picker-22.mp3"},{"name":"picker-23","url":"assets/audio/vo/picker-23.mp3"},{"name":"picker-24","url":"assets/audio/vo/picker-24.mp3"},{"name":"bwoop","url":"assets/audio/sfx/bwoop.mp3"},{"name":"99whoosh_short","url":"assets/audio/sfx/99whoosh_short.mp3"}],"Game":[{"name":"CafeteriaBG","url":"assets/images/cafeteria-bg.png"},{"name":"LibraryBG","url":"assets/images/library-bg.jpg"},{"name":"HallwayBG","url":"assets/images/hallway-bg.jpg"},{"name":"outlines-1","url":"assets/audio/vo/outlines-1.mp3"},{"name":"outlines-2","url":"assets/audio/vo/outlines-2.mp3"},{"name":"2ndleak","url":"assets/audio/vo/2ndleak.mp3"},{"name":"2ndleak-2","url":"assets/audio/vo/2ndleak-2.mp3"},{"name":"library-1","url":"assets/audio/vo/library-1.mp3"},{"name":"library-3","url":"assets/audio/vo/library-3.mp3"},{"name":"library-4","url":"assets/audio/vo/library-4.mp3"},{"name":"library-5","url":"assets/audio/vo/library-5.mp3"},{"name":"hall-1","url":"assets/audio/vo/hall-1.mp3"},{"name":"hall-1b","url":"assets/audio/vo/hall-1b.mp3"},{"name":"hall-2","url":"assets/audio/vo/hall-2.mp3"},{"name":"hall-3","url":"assets/audio/vo/hall-3.mp3"},{"name":"help-1","url":"assets/audio/vo/help-1.mp3"},{"name":"help-2","url":"assets/audio/vo/help-2.mp3"},{"name":"help-3","url":"assets/audio/vo/help-3.mp3"},{"name":"help-4","url":"assets/audio/vo/help-4.mp3"},{"name":"help-5","url":"assets/audio/vo/help-5.mp3"},{"name":"help-6","url":"assets/audio/vo/help-6.mp3"},{"name":"cafe-1","url":"assets/audio/vo/cafe-1.mp3"},{"name":"cafe-1b","url":"assets/audio/vo/cafe-1b.mp3"},{"name":"cafe-2","url":"assets/audio/vo/cafe-2.mp3"},{"name":"cafe-3","url":"assets/audio/vo/cafe-3.mp3"},{"name":"encourage-1","url":"assets/audio/vo/encourage-1.mp3"},{"name":"encourage-2","url":"assets/audio/vo/encourage-2.mp3"},{"name":"encourage-3","url":"assets/audio/vo/encourage-3.mp3"},{"name":"encourage-4","url":"assets/audio/vo/encourage-4.mp3"},{"name":"encourage-5","url":"assets/audio/vo/encourage-5.mp3"},{"name":"encourage-6","url":"assets/audio/vo/encourage-6.mp3"},{"name":"encourage-7","url":"assets/audio/vo/encourage-7.mp3"},{"name":"encourage-8","url":"assets/audio/vo/encourage-8.mp3"},{"name":"encourage-9","url":"assets/audio/vo/encourage-9.mp3"},{"name":"intro-1","url":"assets/audio/vo/intro-1.mp3"},{"name":"intro-2","url":"assets/audio/vo/intro-2.mp3"},{"name":"intro-3","url":"assets/audio/vo/intro-3.mp3"},{"name":"intro-4","url":"assets/audio/vo/intro-4.mp3"},{"name":"intro-5","url":"assets/audio/vo/intro-5.mp3"},{"name":"intro-6","url":"assets/audio/vo/intro-6.mp3"},{"name":"intro-7","url":"assets/audio/vo/intro-7.mp3"},{"name":"nicejob-2","url":"assets/audio/vo/nicejob-2.mp3"},{"name":"nicejob-3","url":"assets/audio/vo/nicejob-3.mp3"},{"name":"nicejob-4","url":"assets/audio/vo/nicejob-4.mp3"},{"name":"nicejob-5","url":"assets/audio/vo/nicejob-5.mp3"},{"name":"nicejob-6","url":"assets/audio/vo/nicejob-6.mp3"},{"name":"nicejob-7","url":"assets/audio/vo/nicejob-7.mp3"},{"name":"nicejob-8","url":"assets/audio/vo/nicejob-8.mp3"},{"name":"nicejob-9","url":"assets/audio/vo/nicejob-9.mp3"},{"name":"nicejob-10","url":"assets/audio/vo/nicejob-10.mp3"},{"name":"nicejob-11","url":"assets/audio/vo/nicejob-11.mp3"},{"name":"nicejob-12","url":"assets/audio/vo/nicejob-12.mp3"},{"name":"nicejob-13","url":"assets/audio/vo/nicejob-13.mp3"},{"name":"unlock-1","url":"assets/audio/vo/unlock-1.mp3"},{"name":"unlock-2","url":"assets/audio/vo/unlock-2.mp3"},{"name":"Fanfare1","url":"assets/audio/sfx/HamstersGame-Fanfare04_06012020.mp3"},{"name":"Fanfare2","url":"assets/audio/sfx/HamstersGame_Fanfare03_06012020.mp3"},{"name":"NotebookSwish","url":"assets/audio/sfx/NotebookSwish.mp3"},{"name":"leak-loop","url":"assets/audio/sfx/leak-loop.mp3"},{"name":"popup","url":"assets/audio/sfx/popup.mp3"},{"name":"unlock-item","url":"assets/audio/sfx/unlock-item.mp3"},{"name":"fill-1","url":"assets/audio/sfx/fill-1.mp3"},{"name":"fill-2","url":"assets/audio/sfx/fill-2.mp3"},{"name":"GameTasha","url":"assets/animations/GameTasha/Tasha.json"},{"name":"GameMateo","url":"assets/animations/GameMateo/Mateo.json"},{"name":"GameSadie","url":"assets/animations/GameSadie/Sadie.json"}],"Freeplay":[{"name":"FreeplayBG","url":"assets/images/freeplay-bg.png"},{"name":"FreeplaySS","url":"assets/images/freeplay-ss.json"},{"name":"pool-1","url":"assets/audio/vo/pool-1.mp3"},{"name":"pool-2","url":"assets/audio/vo/pool-2.mp3"},{"name":"pool-4","url":"assets/audio/vo/pool-4.mp3"},{"name":"pool-5","url":"assets/audio/vo/pool-5.mp3"},{"name":"pool-6","url":"assets/audio/vo/pool-6.mp3"},{"name":"pool-7","url":"assets/audio/vo/pool-7.mp3"},{"name":"pool-8","url":"assets/audio/vo/pool-8.mp3"},{"name":"pool-9","url":"assets/audio/vo/pool-9.mp3"},{"name":"pool-10","url":"assets/audio/vo/pool-10.mp3"},{"name":"pool-11-alt","url":"assets/audio/vo/pool-11-alt.mp3"},{"name":"pool-12","url":"assets/audio/vo/pool-12.mp3"},{"name":"water-strong-loop","url":"assets/audio/sfx/water-strong-loop.mp3"},{"name":"water-weak-loop","url":"assets/audio/sfx/water-weak-loop.mp3"},{"name":"splash-1","url":"assets/audio/sfx/splash-1.mp3"},{"name":"splash-2","url":"assets/audio/sfx/splash-2.mp3"},{"name":"splash-3","url":"assets/audio/sfx/splash-3.mp3"},{"name":"plug-pull","url":"assets/audio/sfx/plug-pull.mp3"},{"name":"wave-1","url":"assets/audio/sfx/wave-1.mp3"},{"name":"wave-2","url":"assets/audio/sfx/wave-2.mp3"},{"name":"wave-3","url":"assets/audio/sfx/wave-3.mp3"},{"name":"pool-slide","url":"assets/audio/sfx/pool-slide.mp3"},{"name":"pool-trampoline","url":"assets/audio/sfx/pool-trampoline.mp3"},{"name":"FreeplayTasha","url":"assets/animations/FreeplayTasha/Tasha.json"},{"name":"FreeplayMateo","url":"assets/animations/FreeplayMateo/Mateo.json"},{"name":"FreeplaySadie","url":"assets/animations/FreeplaySadie/Sadie.json"}],"Tutorial":[{"name":"SadieSketch","url":"assets/animations/SadieSketch/Sadie.json"}],"TutorialCafe":[{"name":"cafeGIF1","url":"assets/images/cafeteria-tutorial/cafe-gif-1.png"},{"name":"cafeGIF2","url":"assets/images/cafeteria-tutorial/cafe-gif-2.png"},{"name":"cafeGIF3","url":"assets/images/cafeteria-tutorial/cafe-gif-3.png"},{"name":"cafeGIF4","url":"assets/images/cafeteria-tutorial/cafe-gif-4.png"},{"name":"cafeGIF5","url":"assets/images/cafeteria-tutorial/cafe-gif-5.png"},{"name":"cafeGIF6","url":"assets/images/cafeteria-tutorial/cafe-gif-6.png"},{"name":"cafeGIF7","url":"assets/images/cafeteria-tutorial/cafe-gif-7.png"}],"TutorialHall":[{"name":"hallGIF1","url":"assets/images/hallway-tutorial/hall-gif-1.png"},{"name":"hallGIF2","url":"assets/images/hallway-tutorial/hall-gif-2.png"},{"name":"hallGIF3","url":"assets/images/hallway-tutorial/hall-gif-3.png"},{"name":"hallGIF4","url":"assets/images/hallway-tutorial/hall-gif-4.png"},{"name":"hallGIF5","url":"assets/images/hallway-tutorial/hall-gif-5.png"},{"name":"hallGIF6","url":"assets/images/hallway-tutorial/hall-gif-6.png"},{"name":"hallGIF7","url":"assets/images/hallway-tutorial/hall-gif-7.png"}],"TutorialLib":[{"name":"libGIF1","url":"assets/images/library-tutorial/lib-gif-1.png"},{"name":"libGIF2","url":"assets/images/library-tutorial/lib-gif-2.png"},{"name":"libGIF3","url":"assets/images/library-tutorial/lib-gif-3.png"},{"name":"libGIF4","url":"assets/images/library-tutorial/lib-gif-4.png"},{"name":"libGIF5","url":"assets/images/library-tutorial/lib-gif-5.png"},{"name":"libGIF6","url":"assets/images/library-tutorial/lib-gif-6.png"},{"name":"libGIF7","url":"assets/images/library-tutorial/lib-gif-7.png"}],"Test":[{"name":"test","url":"assets/images/test.png"}]}')}});