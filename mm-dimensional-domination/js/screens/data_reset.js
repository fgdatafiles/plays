var game=game||{};game.screens=game.screens||{};(function(){'use strict';function DataReset(){WONBATS.Screen.call(this);}
DataReset.prototype=Object.create(WONBATS.Screen.prototype);DataReset.prototype.constructor=DataReset;DataReset.prototype.enter=function(name){WONBATS.Screen.prototype.enter.call(this,name);if(JSON.parse(localStorage.getItem("progress"))[0]>1){var leyend=new PIXI.Text(locale.get("data_reset"),{fontFamily:"Arial",fontSize:30,fill:0xffff00,align:'center'});leyend.x=400-(leyend.width/2);leyend.y=100-(leyend.height/2);this.asset.addChild(leyend);var yes=new PIXI.Text(locale.get("yes"),{fontFamily:"Arial",fontSize:30,fill:0xffffff,align:'center'});yes.interactive=true;yes.buttonMode=true;yes.mousedown=this.onYes.bind(this);yes.touchstart=this.onYes.bind(this);yes.x=350-(yes.width/2);yes.y=200-(yes.height/2);this.asset.addChild(yes);var no=new PIXI.Text(locale.get("no"),{fontFamily:"Arial",fontSize:30,fill:0xffffff,align:'center'});no.interactive=true;no.buttonMode=true;no.mousedown=this.onContinue.bind(this);no.touchstart=this.onContinue.bind(this);no.x=450-(no.width/2);no.y=200-(no.height/2);this.asset.addChild(no);}else{var leyend=new PIXI.Text(locale.get("data_cleared"),{fontFamily:"Arial",fontSize:30,fill:0x00ff00,align:'center'});leyend.x=400-(leyend.width/2);leyend.y=100-(leyend.height/2);this.asset.addChild(leyend);createjs.Tween.get(this.asset).wait(2000).call(this.onContinue.bind(this));}
var leyend=new PIXI.Text("Swords Unlocked: "+JSON.parse(localStorage.getItem("progress"))[0]+"\n"+
"Mute: "+JSON.parse(localStorage.getItem("mute"))+"\n"+
"Ended: "+JSON.parse(localStorage.getItem("ended"))+"\n"+
"Sling: "+JSON.parse(localStorage.getItem("sling")),{fontFamily:"Arial",fontSize:30,fill:0xffffff,align:'center'});leyend.x=400-(leyend.width/2);leyend.y=300;this.asset.addChild(leyend);};DataReset.prototype.onYes=function(){window.localStorage.clear();location.reload();};DataReset.prototype.onContinue=function(){this.transitionSignal.emit(this.name,"exit");};game.screens.DataReset=DataReset;}());