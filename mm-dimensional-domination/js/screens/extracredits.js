var game=game||{};game.screens=game.screens||{};(function(){'use strict';function ExtraCredits(){WONBATS.Screen.call(this);}
ExtraCredits.prototype=Object.create(WONBATS.Screen.prototype);ExtraCredits.prototype.constructor=ExtraCredits;ExtraCredits.prototype.enter=function(name){WONBATS.Screen.prototype.enter.call(this,name);this.view=new WONBATS.MovieClip(credits,"credits_2");this.asset.addChild(this.view);this.touchBox=new PIXI.Graphics();this.touchBox.beginFill(0xffff00,0);this.touchBox.drawRect(0,0,game.config.GAME_WIDTH,game.config.GAME_HEIGHT);this.touchBox.endFill();this.touchBox.cacheAsBitmap=true;this.touchBox.interactive=true;this.touchBox.buttonMode=true;this.touchBox.mousedown=this.onMouseDown.bind(this);this.touchBox.touchstart=this.onMouseDown.bind(this);this.asset.addChild(this.touchBox);game.soundManager.fadeVolume("music_background",500,0);game.soundManager.fadeVolume("music_foreground",500,0);game.soundManager.play("music_credits");game.soundManager.fadeVolume("music_credits",500,0,true);globalsignal.add(this.onGlobalSignal.bind(this));};ExtraCredits.prototype.onGlobalSignal=function(data){console.log(data);if(data==="exit"){game.soundManager.fadeVolume("music_credits",500,0,false,true);this.transitionSignal.emit(this.name,"exit");}};ExtraCredits.prototype.onMouseDown=function(){this.touchBox.interactive=false;this.view.gotoAndPlay("out");};ExtraCredits.prototype.update=function(dt){this.view.update(dt);};ExtraCredits.prototype.dispose=function(){globalsignal.clear();this.touchBox.destroy();this.touchBox.mousedown=null;this.touchBox.touchstart=null;this.touchBox=null;this.view=null;};game.screens.ExtraCredits=ExtraCredits;}());