/*! v 1.0.9 */!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getFileName",value:function(){var e=new Date;return"pic_"+e.getFullYear()+(e.getMonth()+1)+e.getDate()+e.getHours()+e.getMinutes()+e.getSeconds()}},{key:"setFocusOnCanvas",value:function(){window.addEventListener("load",function(){var e=document.getElementsByTagName("canvas")[0];e?(e.addEventListener("load",function(){window.focus(),e.focus()}),e.addEventListener("click",function(){window.focus(),e.focus()})):(window.focus(),window.addEventListener("click",function(){window.focus()}))})}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=s(i(0)),a=s(i(6)),r=s(i(8));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onLoadInTheWebViewSucceed=new r.default("App","forwardpageload"),this.onLoadInTheWebViewFailed=new r.default("App","forwardpagefail"),this.onActivated=new r.default("App","onactivated"),this.onSuspending=new r.default("App","onsuspending"),this.onSuspended=new r.default("App","onsuspended"),this.onTextDialogFinished=new r.default("App","ontextdialogfinish"),this.onTextDialogCancelled=new r.default("App","ontextdialogcancel"),this.onHeadphonesPluggedIn=new r.default("App","onheadphonespluggedin"),this.onHeadphonesUnplugged=new r.default("App","onheadphonesunplugged"),this.env=t.env,this.nativeCallFunc=t.nativeCall}return n(e,[{key:"checkEmulatedWebViewReady",value:function(){var e=this.EmulatedWebView;if(!e){(e=document.createElement("div")).setAttribute("id","DisneyJS_App_ForDisneyJS_WebViewDiv"),e.style.width=0,e.style.height=0,e.style.position="absolute",e.style.left=0,e.style.top=0,e.style.backgroundColor="transparent",e.style.border="0px solid #000";var t=document.createElement("IFRAME");t.setAttribute("id","DisneyJS_App_ForDisneyJS_WebViewIFrame"),t.setAttribute("name","DisneyJS_App_ForDisneyJS_WebViewIFrame"),t.style.width=0,t.style.height=0,t.style["max-height"]="100%",t.style["max-width"]="100%",t.style["min-height"]="100%",t.style["min-width"]="100%",t.frameBorder=0,t.allowtransparency=!0,e.appendChild(t),this.EmulatedWebView=e,this.EmulatedWebViewIFrame=t,document.body&&document.body.appendChild(this.EmulatedWebView)}}},{key:"showTextDialog",value:function(e,t,i){var n=this;t||(t=""),i||(i=""),setTimeout(function(){var e=prompt(t,i);(e?n.onTextDialogFinished:n.onTextDialogCancelled).notifyEventListeners(e)},0)}},{key:"loadInTheWebView",value:function(e){var t=this;this.checkEmulatedWebViewReady();var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<=299||0===i.status){t.checkEmulatedWebViewReady();t.EmulatedWebViewIFrame.addEventListener("load",function i(){t.onLoadInTheWebViewSucceed.notifyEventListeners(e),t.EmulatedWebViewIFrame.removeEventListener("load",i)}),t.EmulatedWebViewIFrame.contentWindow.location.href=e}else i.onreadystatechange=null,t.onLoadInTheWebViewFailed.notifyEventListeners(e)},i.open("GET",e,!0),i.send()}},{key:"forwardAsync",value:function(e,t){var i=this;setTimeout(function(){var n=void 0;if("DisneyJS_App_ForDisneyJS_WebViewIFrame"==window.name)n=window.parent.eval(e);else{var o=window.frames.DisneyJS_App_ForDisneyJS_WebViewIFrame;if(o)try{n=o.window.eval(e)}catch(t){n=window.eval(e)}else n=window.eval(e)}"function"==typeof t&&t.call(i,n)},1)}},{key:"getDeviceInfo",value:function(){return null}},{key:"setTextureReduction",value:function(e,t,i){}},{key:"showTheWebView",value:function(e,t,i,n){this.checkEmulatedWebViewReady(),this.EmulatedWebViewIFrame.style.width=(i?i/window.devicePixelRatio:window.innerWidth)+"px",this.EmulatedWebViewIFrame.style.height=(n?n/window.devicePixelRatio:window.innerHeight)+"px",this.EmulatedWebView.style.left=(e||0)+"px",this.EmulatedWebView.style.top=(t||0)+"px",this.EmulatedWebView.style.width=(i?i/window.devicePixelRatio:window.innerWidth)+"px",this.EmulatedWebView.style.height=(n?n/window.devicePixelRatio:window.innerHeight)+"px",this.EmulatedWebView.style.display="block"}},{key:"reloadWebView",value:function(){this.checkEmulatedWebViewReady(),this.EmulatedWebViewIFrame.contentWindow.location.reload()}},{key:"hideTheWebView",value:function(){this.checkEmulatedWebViewReady(),this.EmulatedWebView.style.display="none"}},{key:"removeTheWebView",value:function(){this.EmulatedWebView&&(this.EmulatedWebView.parentNode.removeChild(this.EmulatedWebView),delete this.EmulatedWebView)}},{key:"forwardedEventFromTheWebView",value:function(e,t){var i=JSON.parse(t);i.target=window;var n=new Event(e);for(var o in i)n[o]=i[o];n.target=window,window.dispatchEvent(n);for(var a=document.getElementsByTagName("canvas"),r=0;r<a.length;r++)n.target=a[r],a[r].dispatchEvent(n)}},{key:"adjustWebViewScale",value:function(e,t){if(this.nativeCallFunc)DisneyJS.env.isIOS?this.getDeviceResolution():this.nativeCallFunc({msg:"adjustWebViewScale",payload:{width:e,height:t}});else{var i=function(e,t){var i=window.document.getElementsByTagName("canvas")[0],n=window.frameElement;if(i&&n){var o=0,a=0,r=e,s=t;n&&n.scrollWidth&&(o=n.scrollWidth,a=n.scrollHeight);var c=o/r;c*s>a&&(c=a/s),i.style.cssText="transform: scale("+c+","+c+"); transform-origin: 0 0;"+i.style.cssText,n.setAttribute("scrolling","no"),n.contentWindow.document.body.style.overflow="hidden",n.contentWindow.document.body.style["-ms-overflow-style"]="none"}};"complete"===document.readyState?i(e,t):window.onload=function(){i(e,t)}}}},{key:"saveImage",value:function(e,t,i){t=t||"png";var n=(i=i||o.default.getFileName())+"."+t,r=this.env.isIOS,s=this.env.isChrome,c=!this.env.mobileAndTabletcheck,d=this.env.isSafari;if(r&&s||d&&c){var l=document.createElement("a");l.href=e,l.download=n,d&&c||(l.target="_blank"),document.body.appendChild(l),l.click(),setTimeout(function(){document.body.removeChild(l)},0)}else(0,a.default)(e,n)}},{key:"getDeviceResolution",value:function(){DisneyJS.nativeCall({msg:"getDeviceResolution",payload:{callback:String(DisneyJS.App.setDeviceResolution)}})}},{key:"setDeviceResolution",value:function(e,t){console.log("call setDeviceResolution: deviceWidth"+e+"; deviceHeight",t),e&&t?(e=Number(e),t=Number(t),this.EmulatedWebViewIFrame&&(this.EmulatedWebViewIFrame.style.width=e+"px",this.EmulatedWebViewIFrame.style.height=t+"px"),this.EmulatedWebView&&(this.EmulatedWebView.style.left="0px",this.EmulatedWebView.style.top="0px",this.EmulatedWebView.style.width=e+"px",this.EmulatedWebView.style.height=t+"px",this.EmulatedWebView.style.display="block")):console.error("Not correct arguments")}}],[{key:"existsPath",value:function(){return!1}}]),e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=this;this.isIOS=t.env.isIOS,this.nativeCall=!!this.checkDisneyNowApp()&&function(e){i.isIOS?i.iosNativeCall(e):i.androidNativeCall(e)}}return n(e,[{key:"checkDisneyNowApp",value:function(){var e=this.getNameNativeCallMethod();return!!(this.isIOS?window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers[e]:window.DisneyJSNativeProvider)}},{key:"getNameNativeCallMethod",value:function(e){var t="nativeCall";return e&&e.notification&&"error"===e.notification.type&&(t="nativeCallException"),t}},{key:"iosNativeCall",value:function(e){var t=null,i=this.getNameNativeCallMethod(e);window.webkit&&window.webkit.messageHandlers&&(t=window.webkit.messageHandlers[i]),t&&"function"==typeof t.postMessage&&e?t.postMessage(e):console.log("DisneyJSNative do not exist!!!")}},{key:"androidNativeCall",value:function(e){var t=window.DisneyJSNativeProvider,i=this.getNameNativeCallMethod(e);t&&t[i]&&"function"==typeof t[i]&&e?t[i](JSON.stringify(e)):console.log("DisneyJSNative do not exist!!!")}}]),e}();t.default=o},function(e,t,i){i(4),i(1),i(2),i(10),i(12),i(13),i(14),i(15),i(16),e.exports=i(17)},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=d(i(5)),a=d(i(1)),r=d(i(2)),s=d(i(9)),c=d(i(0));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.env=new o.default;var t=new r.default(this);this.nativeCall=t.nativeCall,this.App=new a.default(this),this.env.innerDimensions=new s.default(this),this.env.autoFocus=!this.nativeCall,this.setFocusOnIFrame()}return n(e,[{key:"getObjectFromPath",value:function(e,t){for(var i=t.split("."),n=e,o=0,a=i.length;o<a;++o)n[i[o]]=n[i[o]]||void 0,n=n[i[o]];return n}},{key:"setFocusOnIFrame",value:function(){this.env.isAutoFocus&&c.default.setFocusOnCanvas()}}]),e}();window.DisneyJS=new l},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._autoFocus=null}return n(e,[{key:"userAgent",get:function(){return window.navigator.userAgent.toLowerCase()}},{key:"mobilecheck",get:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}},{key:"mobileAndTabletcheck",get:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}},{key:"isDesktop",get:function(){return!this.mobileAndTabletcheck}},{key:"isIOS",get:function(){return!!this.mobileAndTabletcheck&&!!/iphone|ipod|ipad/.test(this.userAgent)}},{key:"isAndroid",get:function(){return!!this.mobileAndTabletcheck&&this.userAgent.indexOf("android")>-1}},{key:"isSafari",get:function(){return-1!=this.userAgent.indexOf("safari")&&-1==this.userAgent.indexOf("chrome")}},{key:"isFirefox",get:function(){return this.userAgent.indexOf("firefox")>=0}},{key:"isChrome",get:function(){return this.userAgent.indexOf("crios")>=0||!!window.chrome&&!!window.chrome.webstore}},{key:"isIE",get:function(){return!!Number(this.versionIE)}},{key:"versionIE",get:function(){var e=this.userAgent.indexOf("msie");return e>0?parseInt(this.userAgent.substring(e+5,this.userAgent.indexOf(".",e))):!!this.userAgent.match(/trident\/7\./)&&11}},{key:"isEdge",get:function(){return/edge\/\d./i.test(this.userAgent)}},{key:"isMacOSX",get:function(){return this.userAgent.indexOf("mac")>=0}},{key:"isWindowsOS",get:function(){return this.userAgent.indexOf("win")>=0}},{key:"isLinuxOS",get:function(){return!this.isAndroid&&this.userAgent.indexOf("linux")>=0}},{key:"isUnix",get:function(){return this.userAgent.indexOf("x11")>=0}},{key:"isAutoFocus",get:function(){return this._autoFocus}},{key:"autoFocus",set:function(e){this._autoFocus=!!e}}]),e}()},function(e,t,i){(function(i){var n,o,a;o=[],void 0===(a="function"==typeof(n=function(){"use strict";function t(e,t,i){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){r(n.response,t,i)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a=function(){try{return Function("return this")()||(0,eval)("this")}catch(e){return"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i&&i.global===i?i:this}}(),r=a.saveAs||"object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(e,i,r){var s=a.URL||a.webkitURL,c=document.createElement("a");i=i||e.name||"download",c.download=i,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):n(c.href)?t(e,i,r):o(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,i,a){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Depricated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),i);else if(n(e))t(e,i,a);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){o(r)})}}:function(e,i,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,i,n);var r="application/octet-stream"===e.type,s=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&s)&&"object"==typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},d.readAsDataURL(e)}else{var l=a.URL||a.webkitURL,u=l.createObjectURL(e);o?o.location=u:location.href=u,o=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}};a.saveAs=r.saveAs=r,e.exports=r})?n.apply(t,o):n)||(e.exports=a)}).call(this,i(7))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners=[],this.listenersOnce=[],this.nativeEventName=i,this.chainFunction=n}return n(e,[{key:"addEventListener",value:function(e){window.DisneyJS.nativeCall&&window.DisneyJS.nativeCall({msg:"addNativeListener",payload:{nativeEventName:this.nativeEventName,callback:String(e)}}),this.listeners.indexOf(e)<0&&this.listeners.push(e)}},{key:"addEventListenerOnce",value:function(e){window.DisneyJS.nativeCall&&window.DisneyJS.nativeCall({msg:"addNativeListenerOnce",payload:{nativeEventName:this.nativeEventName,callback:String(e)}}),this.listeners.indexOf(e)<0&&this.listenersOnce.push(e)}},{key:"removeEventListener",value:function(e){window.DisneyJS.nativeCall&&window.DisneyJS.nativeCall({msg:"removeNativeListener",payload:{nativeEventName:this.nativeEventName}});var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}},{key:"notifyEventListeners",value:function(){var e=Array.prototype.slice.call(arguments),t=Array.prototype.slice.call(this.listeners),i=Array.prototype.slice.call(this.listenersOnce),n=this;setTimeout(function(){for(var o=0;o<t.length;o++)t[o].apply(n,e);for(var a=0;a<i.length;a++)i[a].apply(n,e)},0),n.listenersOnce=[]}}]),e}();e.exports=o},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();e.exports=function(){function e(t){var i,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.env=t.env,this.nativeCallFunc=t.nativeCall,this.dims={w:0,h:0},this.isNativeDimention=this.nativeCallFunc||!this.env.isIOS,this.dims=(i={w:0,h:0},n=Math.abs(window.orientation),(o=document.createElement("div")).style.position="fixed",o.style.height="100vh",o.style.width=0,o.style.top=0,document.documentElement.appendChild(o),i.w=90===n?o.offsetHeight:window.innerWidth,i.h=90===n?window.innerWidth:o.offsetHeight,document.documentElement.removeChild(o),o=null,i)}return n(e,[{key:"width",get:function(){return this.isNativeDimention?window.innerWidth:this.dims.w}},{key:"height",get:function(){return this.isNativeDimention?window.innerHeight:this.dims.h}}]),e}()},function(e,t,i){"use strict";var n,o=i(11),a=(n=o)&&n.__esModule?n:{default:n};DisneyJS.makeGIF=function(e,t){var i;(i=e[0],new Promise(function(e,t){var n=new Image;n.onload=function(){e({w:n.width,h:n.height})},n.src=i})).then(function(i){a.default.takeSnapShot({gifWidth:i.w,gifHeight:i.h,images:e,interval:150,numFrames:10,frameDuration:2,fontWeight:"normal",fontSize:"16px",fontFamily:"sans-serif",fontColor:"#FFFFFF",textAlign:"center",textBaseline:"bottom",sampleInterval:10,numWorkers:2},function(e){return function(e,t){DisneyJS&&(DisneyJS.nativeCall?DisneyJS.nativeCall({msg:"saveImage",payload:{blob:e}}):DisneyJS.App&&DisneyJS.App.saveImage(e,"gif"),t&&t())}(e.image,t)})})}},function(e,t,i){"use strict";var n;!function(i,o,a,r){function s(){return b.isValid()}function c(){function e(e,t,i,n,o){var a,r,d,l,u,m,f;for(-1>(d=t-e)&&(d=-1),(l=t+e)>c&&(l=c),a=t+1,r=t-1,m=1;l>a||r>d;){if(u=L[m++],l>a){f=s[a++];try{f[0]-=u*(f[0]-i)/W|0,f[1]-=u*(f[1]-n)/W|0,f[2]-=u*(f[2]-o)/W|0}catch(e){}}if(r>d){f=s[r--];try{f[0]-=u*(f[0]-i)/W|0,f[1]-=u*(f[1]-n)/W|0,f[2]-=u*(f[2]-o)/W|0}catch(e){}}}}function t(e,t,i,n,o){var a=s[t],r=e/C;a[0]-=r*(a[0]-i)|0,a[1]-=r*(a[1]-n)|0,a[2]-=r*(a[2]-o)|0}function i(e,t,i){var n,o,a,r,d,l,u,m,f,p;for(f=m=~(1<<31),u=l=-1,n=0;c>n;n++)0>(o=(p=s[n])[0]-e)&&(o=-o),0>(a=p[1]-t)&&(a=-a),o+=a,0>(a=p[2]-i)&&(a=-a),m>(o+=a)&&(m=o,l=n),f>(r=o-(T[n]>>v-h))&&(f=r,u=n),d=I[n]>>y,I[n]-=d,T[n]+=d<<b;return I[l]+=k,T[l]-=A,u}var n,o,a,r,s,c=256,d=499,l=491,u=487,m=503,f=3*m,p=c-1,h=4,g=100,v=16,w=1<<v,b=10,y=10,k=w>>y,A=w<<b-y,S=6,E=(c>>3)*(1<<S),x=30,C=1024,F=256,W=1<<18,O=[],T=[],I=[],L=[];(function(e,t,i){var n,d;for(o=e,a=t,r=i,s=new Array(c),n=0;c>n;n++)s[n]=new Array(4),(d=s[n])[0]=d[1]=d[2]=(n<<h+8)/c|0,I[n]=w/c|0,T[n]=0}).apply(this,arguments);var V={map:function(e,t,i){var n,o,a,r,d,l,u;for(d=1e3,u=-1,o=(n=O[t])-1;c>n||o>=0;)c>n&&((a=(l=s[n])[1]-t)>=d?n=c:(n++,0>a&&(a=-a),0>(r=l[0]-e)&&(r=-r),d>(a+=r)&&(0>(r=l[2]-i)&&(r=-r),d>(a+=r)&&(d=a,u=l[3])))),o>=0&&((a=t-(l=s[o])[1])>=d?o=-1:(o--,0>a&&(a=-a),0>(r=l[0]-e)&&(r=-r),d>(a+=r)&&(0>(r=l[2]-i)&&(r=-r),d>(a+=r)&&(d=a,u=l[3]))));return u}};return V.process=function(){return function(){var s,c,p,v,w,b,y,k,A,W,O,T,I,V;for(f>a&&(r=1),n=30+(r-1)/3,T=o,I=0,V=a,W=(O=a/(3*r))/g|0,k=C,1>=(y=(b=E)>>S)&&(y=0),s=0;y>s;s++)L[s]=k*((y*y-s*s)*F/(y*y));for(A=f>a?3:a%d!=0?3*d:a%l!=0?3*l:a%u!=0?3*u:3*m,s=0;O>s;)if(t(k,c=i(p=(255&T[I+0])<<h,v=(255&T[I+1])<<h,w=(255&T[I+2])<<h),p,v,w),0!==y&&e(y,c,p,v,w),(I+=A)>=V&&(I-=a),0===W&&(W=1),++s%W==0)for(k-=k/n,1>=(y=(b-=b/x)>>S)&&(y=0),c=0;y>c;c++)L[c]=k*((y*y-c*c)*F/(y*y))}(),function(){var e;for(e=0;c>e;e++)s[e][0]>>=h,s[e][1]>>=h,s[e][2]>>=h,s[e][3]=e}(),function(){var e,t,i,n,o,a,r,d;for(r=0,d=0,e=0;c>e;e++){for(i=e,n=(o=s[e])[1],t=e+1;c>t;t++)(a=s[t])[1]<n&&(i=t,n=a[1]);if(a=s[i],e!=i&&(t=a[0],a[0]=o[0],o[0]=t,t=a[1],a[1]=o[1],o[1]=t,t=a[2],a[2]=o[2],o[2]=t,t=a[3],a[3]=o[3],o[3]=t),n!=r){for(O[r]=d+e>>1,t=r+1;n>t;t++)O[t]=e;r=n,d=e}}for(O[r]=d+p>>1,t=r+1;256>t;t++)O[t]=p}(),function(){for(var e=[],t=new Array(c),i=0;c>i;i++)t[s[i][3]]=i;for(var n=0,o=0;c>o;o++){var a=t[o];e[n++]=s[a][0],e[n++]=s[a][1],e[n++]=s[a][2]}return e}()},V}function d(){try{this.onmessage=function(t){var i,n=t.data||{};n.gifshot&&(i=e.run(n),postMessage(i))}}catch(e){}var e={dataToRGB:function(e,t,i){for(var n=t*i*4,o=0,a=[];n>o;)a.push(e[o++]),a.push(e[o++]),a.push(e[o++]),o++;return a},componentizedPaletteToArray:function(e){e=e||[];for(var t=[],i=0;i<e.length;i+=3){var n=e[i],o=e[i+1],a=e[i+2];t.push(n<<16|o<<8|a)}return t},processFrameWithQuantizer:function(e,t,i,n){for(var o=this.dataToRGB(e,t,i),a=new c(o,o.length,n),r=a.process(),s=new Uint32Array(this.componentizedPaletteToArray(r)),d=t*i,l=new Uint8Array(d),u=0,m=0;d>m;m++){var f=o[u++],p=o[u++],h=o[u++];l[m]=a.map(f,p,h)}return{pixels:l,palette:s}},run:function(e){var t=e=e||{},i=t.height,n=(t.palette,t.sampleInterval),o=t.width,a=e.data;return this.processFrameWithQuantizer(a,o,i,n)}};return e}function l(e,t,i,n){var o=0,a=(n=n===r?{}:n).loop===r?null:n.loop,s=n.palette===r?null:n.palette;if(0>=t||0>=i||t>65535||i>65535)throw"Width/Height invalid.";e[o++]=71,e[o++]=73,e[o++]=70,e[o++]=56,e[o++]=57,e[o++]=97;if(e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=0|(null!==s?128:0),e[o++]=0,e[o++]=0,null!==a){if(0>a||a>65535)throw"Loop count invalid.";e[o++]=33,e[o++]=255,e[o++]=11,e[o++]=78,e[o++]=69,e[o++]=84,e[o++]=83,e[o++]=67,e[o++]=65,e[o++]=80,e[o++]=69,e[o++]=50,e[o++]=46,e[o++]=48,e[o++]=3,e[o++]=1,e[o++]=255&a,e[o++]=a>>8&255,e[o++]=0}var c=!1;this.addFrame=function(t,i,n,a,d,l){if(!0===c&&(--o,c=!1),l=l===r?{}:l,0>t||0>i||t>65535||i>65535)throw"x/y invalid.";if(0>=n||0>=a||n>65535||a>65535)throw"Width/Height invalid.";if(d.length<n*a)throw"Not enough pixels for the frame size.";var u=!0,m=l.palette;if((m===r||null===m)&&(u=!1,m=s),m===r||null===m)throw"Must supply either a local or global palette.";for(var f=function(e){var t=e.length;if(2>t||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}(m),p=0;f>>=1;)++p;f=1<<p;var h=l.delay===r?0:l.delay,g=l.disposal===r?0:l.disposal;if(0>g||g>3)throw"Disposal out of range.";var v=!1,w=0;if(l.transparent!==r&&null!==l.transparent&&(v=!0,0>(w=l.transparent)||w>=f))throw"Transparent color index.";if((0!==g||v||0!==h)&&(e[o++]=33,e[o++]=249,e[o++]=4,e[o++]=g<<2|(!0===v?1:0),e[o++]=255&h,e[o++]=h>>8&255,e[o++]=w,e[o++]=0),e[o++]=44,e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=255&a,e[o++]=a>>8&255,e[o++]=!0===u?128|p-1:0,!0===u)for(var b=0,y=m.length;y>b;++b){var k=m[b];e[o++]=k>>16&255,e[o++]=k>>8&255,e[o++]=255&k}o=function(e,t,i,n){function o(i){for(;f>=i;)e[t++]=255&p,p>>=8,f-=8,t===s+256&&(e[s]=255,s=t++)}function a(e){p|=e<<f,f+=m,o(8)}e[t++]=i;var s=t++,c=1<<i,d=c-1,l=c+1,u=l+1,m=i+1,f=0,p=0,h=n[0]&d,g={};a(c);for(var v=1,w=n.length;w>v;++v){var b=n[v]&d,y=h<<8|b,k=g[y];if(k===r){for(p|=h<<f,f+=m;f>=8;)e[t++]=255&p,p>>=8,f-=8,t===s+256&&(e[s]=255,s=t++);4096===u?(a(c),u=l+1,m=i+1,g={}):(u>=1<<m&&++m,g[y]=u++),h=b}else h=k}return a(h),a(l),o(1),s+1===t?e[s]=0:(e[s]=t-s-1,e[t++]=0),t}(e,o,2>p?2:p,d)},this.end=function(){return!1===c&&(e[o++]=59,c=!0),o}}function u(){function e(){var e;v.each(d,function(e,t){t&&(t.text?m.addFrame(t.img,a,t.text):m.addFrame(t,a))}),e=i,m.getBase64GIF(function(t){e({error:!1,errorCode:"",errorMsg:"",image:t})})}var t=arguments.length>0&&arguments[0]!==r?arguments[0]:{},i=t.callback,n=t.images,a=t.options,s=t.imagesLength,c=b.validate({getUserMedia:!0,"window.URL":!0}),d=[],l=0,u=void 0,m=void 0;return c.error?i(c):(m=new x(a),void v.each(n,function(t,n){var r=n;n.src&&(r=r.src),v.isElement(r)?(a.crossOrigin&&(r.crossOrigin=a.crossOrigin),d[t]=r,(l+=1)===s&&e()):v.isString(r)&&(u=new Image,a.crossOrigin&&(u.crossOrigin=a.crossOrigin),function(o){n.text&&(o.text=n.text),o.onerror=function(){var e=void 0;return 0===--s?((e={}).error="None of the requested images was capable of being retrieved",i(e)):void 0},o.onload=function(){d[t]=n.text?{img:o,text:o.text}:o,(l+=1)===s&&e(),v.removeElement(o)},o.src=r}(u),v.setCSSAttr(u,{position:"fixed",opacity:"0"}),o.body.appendChild(u))}))}function m(e){e=v.isObject(e)?e:{},W.stopVideoStreaming(e)}function f(e,t){var i=e.options||{},n=i.images,a=i.video,r=Number(i.gifWidth),s=Number(i.gifHeight),c=(Number(i.numFrames),e.cameraStream),d=e.videoElement,l=e.videoWidth,u=e.videoHeight,f=F.getCropDimensions({videoWidth:l,videoHeight:u,gifHeight:s,gifWidth:r}),p=t;i.crop=f,i.videoElement=d,i.videoWidth=l,i.videoHeight=u,i.cameraStream=c,v.isElement(d)&&(d.width=r+f.width,d.height=s+f.height,i.webcamVideoElement||(v.setCSSAttr(d,{position:"fixed",opacity:"0"}),o.body.appendChild(d)),d.play(),F.getGIF(i,function(e){n&&n.length||a&&a.length||m(e),p(e)}))}function p(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:{},t=e.callback,i=e.existingVideo,n=e.options,o=b.validate({getUserMedia:!0,"window.URL":!0}),a=void 0,s=void 0;if(o.error)return t(o);if(v.isElement(i)&&i.src){if(s=i.src,a=v.getExtension(s),!v.isSupported.videoCodecs[a])return t(b.messages.videoCodecs)}else v.isArray(i)&&v.each(i,function(e,t){return a=t instanceof Blob?t.type.substr(t.type.lastIndexOf("/")+1,t.length):t.substr(t.lastIndexOf(".")+1,t.length),v.isSupported.videoCodecs[a]?(i=t,!1):void 0});W.startStreaming({completed:function(e){e.options=n||{},f(e,t)},existingVideo:i,crossOrigin:n.crossOrigin,options:n})}function h(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:{},t=e.callback,i=e.lastCameraStream,n=e.options,o=e.webcamVideoElement;return s()?n.savedRenderingContexts.length?void F.getGIF(n,function(e){t(e)}):void W.startVideoStreaming(function(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:{};e.options=n||{},f(e,t)},{lastCameraStream:i,callback:t,webcamVideoElement:o,crossOrigin:n.crossOrigin}):t(b.validate())}function g(e,t){if(t=v.isFunction(e)?e:t,e=v.isObject(e)?e:{},v.isFunction(t)){var i=v.mergeOptions(A,e)||{},n=e.cameraStream,o=i.images,a=o?o.length:0,r=i.video,s=i.webcamVideoElement;i=v.mergeOptions(i,{gifWidth:Math.floor(i.gifWidth),gifHeight:Math.floor(i.gifHeight)}),a?u({images:o,imagesLength:a,callback:t,options:i}):r?p({existingVideo:r,callback:t,options:i}):h({lastCameraStream:n,callback:t,webcamVideoElement:s,options:i})}}var v={URL:i.URL||i.webkitURL||i.mozURL||i.msURL,getUserMedia:function(){var e=a.getUserMedia||a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia;return e?e.bind(a):e}(),requestAnimFrame:i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame,requestTimeout:function(e,t){if(e=e||v.noop,t=t||0,!v.requestAnimFrame)return setTimeout(e,t);var i=(new Date).getTime(),n=new Object,o=v.requestAnimFrame;return n.value=o(function a(){(new Date).getTime()-i>=t?e.call():n.value=o(a)}),n},Blob:i.Blob||i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder,btoa:function(){var e=i.btoa||function(e){for(var t="",i=0,n=e.length,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=void 0,r=void 0,s=void 0,c=void 0,d=void 0,l=void 0,u=void 0;n>i;)c=(a=e.charCodeAt(i++))>>2,d=(3&a)<<4|(r=e.charCodeAt(i++))>>4,l=(15&r)<<2|(s=e.charCodeAt(i++))>>6,u=63&s,isNaN(r)?l=u=64:isNaN(s)&&(u=64),t=t+o.charAt(c)+o.charAt(d)+o.charAt(l)+o.charAt(u);return t};return e?e.bind(i):v.noop}(),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return v.isObject(e)&&!Object.keys(e).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=o.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return i.Worker},blob:function(){return v.Blob},Uint8Array:function(){return i.Uint8Array},Uint32Array:function(){return i.Uint32Array},videoCodecs:function(){var e=o.createElement("video"),t={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(t.mp4=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),t.h264=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),t.ogv=""!==e.canPlayType('video/ogg; codecs="theora"'),t.ogg=""!==e.canPlayType('video/ogg; codecs="theora"'),t.webm=-1!==e.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return t}()},noop:function(){},each:function(e,t){var i=void 0,n=void 0;if(v.isArray(e))for(i=-1,n=e.length;++i<n&&!1!==t(i,e[i]););else if(v.isObject(e))for(i in e)if(e.hasOwnProperty(i)&&!1===t(i,e[i]))break},mergeOptions:function(e,t){if(v.isObject(e)&&v.isObject(t)&&Object.keys){var i={};return v.each(e,function(t){i[t]=e[t]}),v.each(t,function(n){var o=t[n];i[n]=v.isObject(o)&&e[n]?v.mergeOptions(e[n],o):o}),i}},setCSSAttr:function(e,t,i){v.isElement(e)&&(v.isString(t)&&v.isString(i)?e.style[t]=i:v.isObject(t)&&v.each(t,function(t,i){e.style[t]=i}))},removeElement:function(e){v.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!v.isString(e))return{};try{var t=new v.Blob([e],{type:"text/javascript"}),i=v.URL.createObjectURL(t);return{objectUrl:i,worker:new Worker(i)}}catch(e){return""+e}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:{};if(!o.body||!1===e.resizeFont)return e.fontSize;var t=e.text,i=e.gifWidth,n=parseInt(e.fontSize,10),a=parseInt(e.minFontSize,10),s=o.createElement("div"),c=o.createElement("span");for(s.setAttribute("width",i),s.appendChild(c),c.innerHTML=t,c.style.fontSize=n+"px",c.style.textIndent="-9999px",c.style.visibility="hidden",o.body.appendChild(c);c.offsetWidth>i&&n>=a;)c.style.fontSize=--n+"px";return o.body.removeChild(c),n+"px"},webWorkerError:!1},w=Object.freeze({default:v}),b={validate:function(e){e=v.isObject(e)?e:{};var t={};return v.each(b.validators,function(i,n){var o=n.errorCode;return e[o]||n.condition?void 0:((t=n).error=!0,!1)}),delete t.condition,t},isValid:function(e){var t=!0!==b.validate(e).error;return t},validators:[{condition:v.isFunction(v.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:v.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:v.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:v.isFunction(v.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:v.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:v.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:v.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},y=Object.freeze({default:b}),k=function(){},A={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:k,completeCallback:k,saveRenderingContexts:!1,savedRenderingContexts:[],showFrameText:!0,crossOrigin:"Anonymous",waterMark:null,waterMarkHeight:null,waterMarkWidth:null,waterMarkXCoordinate:1,waterMarkYCoordinate:1},S=Object.freeze({default:A}),E=function(){},x=function(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=E,this.onRenderProgressCallback=E,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};x.prototype={workerMethods:d(),initializeWebWorkers:function(e){var t,i=c.toString()+"("+d.toString()+"());",n=void 0,a=void 0,r=void 0,s=-1,l="";for(t=e.numWorkers;++s<t;)n=v.createWebWorker(i),v.isObject(n)?(a=n.objectUrl,r=n.worker,this.workers.push({worker:r,objectUrl:a}),this.availableWorkers.push(r)):(l=n,v.webWorkerError=!!n);this.workerError=l,this.canvas=o.createElement("canvas"),this.canvas.width=e.gifWidth,this.canvas.height=e.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;256>t;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,i="",n=-1;++n<t;)i+=this.byteMap[e[n]];return i},onFrameFinished:function(e){var t=this,i=t.frames,n=!!(t.options.images||[]).length,o=i.every(function(e){return!e.beingProcessed&&e.done});t.numRenderedFrames++,n&&e(t.numRenderedFrames/i.length),t.onRenderProgressCallback(.75*t.numRenderedFrames/i.length),o?t.generatingGIF||t.generateGIF(i,t.onRenderCompleteCallback):v.requestTimeout(function(){t.processNextFrame()},1)},processFrame:function(e){var t=this,i=(this.options,this.options),n=i.progressCallback,o=i.sampleInterval,a=this.frames,s=void 0,c=void 0,d=function(){var e=(arguments.length>0&&arguments[0]!==r?arguments[0]:{}).data;delete s.data,s.pixels=Array.prototype.slice.call(e.pixels),s.palette=Array.prototype.slice.call(e.palette),s.done=!0,s.beingProcessed=!1,t.freeWorker(c),t.onFrameFinished(n)};return(s=a[e]).beingProcessed||s.done?void this.onFrameFinished():(s.sampleInterval=o,s.beingProcessed=!0,s.gifshot=!0,void((c=this.getWorker())?(c.onmessage=d,c.postMessage(s)):d({data:t.workerMethods.run(s)})))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var i=this.frames[t];if(!i.done&&!i.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(e,t){var i=[],n={loop:this.repeat},o=this.options,a=o.interval,r=o.frameDuration,s=!!o.images.length,c=o.gifHeight,d=o.gifWidth,u=new l(i,d,c,n),m=this.onRenderProgressCallback,f=s?100*a:0,p=void 0;this.generatingGIF=!0,v.each(e,function(t,i){var n=i.palette;m(.75+.25*i.position*1/e.length);for(var o=0;r>o;o++)u.addFrame(0,0,d,c,i.pixels,{palette:n,delay:f})}),u.end(),m(1),this.frames=[],this.generatingGIF=!1,v.isFunction(t)&&(p=this.bufferToString(i),t("data:image/gif;base64,"+v.btoa(p)))},setRepeat:function(e){this.repeat=e},addFrame:function(e,t,i){t=v.isObject(t)?t:{};var n=this,o=n.ctx,a=n.options,r=a.gifWidth,s=a.gifHeight,c=v.getFontSize(t),d=t,l=d.filter,u=d.fontColor,m=d.fontFamily,f=d.fontWeight,p=(d.gifHeight,d.gifWidth,d.text),h=d.textAlign,g=d.textBaseline,w=d.waterMark,b=d.waterMarkHeight,y=d.waterMarkWidth,k=d.waterMarkXCoordinate,A=d.waterMarkYCoordinate,S=t.textXCoordinate?t.textXCoordinate:"left"===h?1:"right"===h?r:r/2,E=t.textYCoordinate?t.textYCoordinate:"top"===g?1:"center"===g?s/2:s,x=f+" "+c+" "+m,C=i&&t.showFrameText?i:p,F=void 0;try{o.filter=l,o.drawImage(e,0,0,r,s),C&&(o.font=x,o.fillStyle=u,o.textAlign=h,o.textBaseline=g,o.fillText(C,S,E)),w&&o.drawImage(w,k,A,y,b),F=o.getImageData(0,0,r,s),n.addFrameImageData(F)}catch(e){return""+e}},addFrameImageData:function(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:{},t=this.frames,i=e.data;this.frames.push({data:i,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var t=this;t.startRendering(function(i){t.destroyWorkers(),v.requestTimeout(function(){e(i)},0)})},destroyWorkers:function(){if(!this.workerError){var e=this.workers;v.each(e,function(e,t){var i=t.worker,n=t.objectUrl;i.terminate(),v.URL.revokeObjectURL(n)})}}};var C=function(){},F={getGIF:function(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:{},t=arguments[1];t=v.isFunction(t)?t:C;var i=o.createElement("canvas"),n=void 0,a=!!e.images.length,s=e.cameraStream,c=e.crop,d=e.filter,l=e.fontColor,u=e.fontFamily,m=e.fontWeight,f=e.keepCameraOn,p=(e.numWorkers,e.progressCallback),h=e.saveRenderingContexts,g=e.savedRenderingContexts,w=e.text,b=e.textAlign,y=e.textBaseline,k=e.videoElement,A=e.videoHeight,S=e.videoWidth,E=e.webcamVideoElement,F=e.waterMark,W=e.waterMarkHeight,O=e.waterMarkWidth,T=e.waterMarkXCoordinate,I=e.waterMarkYCoordinate,L=Number(e.gifWidth),V=Number(e.gifHeight),D=Number(e.interval),M=(Number(e.sampleInterval),a?0:1e3*D),R=[],j=g.length?g.length:e.numFrames,N=j,_=new x(e),U=v.getFontSize(e),P=e.textXCoordinate?e.textXCoordinate:"left"===b?1:"right"===b?L:L/2,z=e.textYCoordinate?e.textYCoordinate:"top"===y?1:"center"===y?V/2:V,H=m+" "+U+" "+u,J=c?Math.floor(c.scaledWidth/2):0,G=c?S-c.scaledWidth:0,B=c?Math.floor(c.scaledHeight/2):0,q=c?A-c.scaledHeight:0;j=j!==r?j:10,D=D!==r?D:.1,i.width=L,i.height=V,n=i.getContext("2d"),function e(){return g.length||0!==k.currentTime?void function e(){function i(){var i;h&&R.push(n.getImageData(0,0,L,V)),F&&n.drawImage(F,T,I,O,W),w&&(n.font=H,n.fillStyle=l,n.textAlign=b,n.textBaseline=y,n.fillText(w,P,z)),i=n.getImageData(0,0,L,V),_.addFrameImageData(i),p((j-(N=o))/j),o>0&&v.requestTimeout(e,M),N||_.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:s,videoElement:k,webcamVideoElement:E,savedRenderingContexts:R,keepCameraOn:f})})}var o=N-1;g.length?(n.putImageData(g[j-N],0,0),i()):function e(){try{G>S&&(G=S),q>A&&(q=A),0>J&&(J=0),0>B&&(B=0),n.filter=d,n.drawImage(k,J,B,G,q,0,0,L,V),i()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;v.requestTimeout(e,100)}}()}():void v.requestTimeout(e,100)}()},getCropDimensions:function(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:{},t=e.videoWidth,i=e.videoHeight,n=e.gifWidth,o=e.gifHeight,a={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>i?(a.width=Math.round(t*(o/i))-n,a.scaledWidth=Math.round(a.width*(i/o))):(a.height=Math.round(i*(n/t))-o,a.scaledHeight=Math.round(a.height*(t/n))),a}},W={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function e(t){e.attempts=e.attempts||0;var i=t.cameraStream,n=t.completedCallback,o=t.videoElement;o&&(o.videoWidth>0&&o.videoHeight>0?(o.removeEventListener("loadeddata",W.findVideoSize),n({videoElement:o,cameraStream:i,videoWidth:o.videoWidth,videoHeight:o.videoHeight})):e.attempts<10?(e.attempts+=1,v.requestTimeout(function(){W.findVideoSize(t)},400)):n({videoElement:o,cameraStream:i,videoWidth:W.defaultVideoDimensions.width,videoHeight:W.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){v.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(e){var t=v.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,i=e.cameraStream,n=e.completedCallback,o=e.streamedCallback,a=e.videoElement;if(v.isFunction(o)&&o(),t){if(v.isString(t))a.src=t,a.innerHTML='<source src="'+t+'" type="video/'+v.getExtension(t)+'" />';else if(t instanceof Blob){try{a.src=v.URL.createObjectURL(t)}catch(e){}a.innerHTML='<source src="'+t+'" type="'+t.type+'" />'}}else if(a.mozSrcObject)a.mozSrcObject=i;else if(v.URL)try{a.srcObject=i,a.src=v.URL.createObjectURL(i)}catch(e){a.srcObject=i}a.play(),v.requestTimeout(function e(){e.count=e.count||0,!0===W.loadedData?(W.findVideoSize({videoElement:a,cameraStream:i,completedCallback:n}),W.loadedData=!1):(e.count+=1)>10?W.findVideoSize({videoElement:a,cameraStream:i,completedCallback:n}):e()},0)},startStreaming:function(e){var t=v.isFunction(e.error)?e.error:v.noop,i=v.isFunction(e.streamed)?e.streamed:v.noop,n=v.isFunction(e.completed)?e.completed:v.noop,a=e.crossOrigin,r=e.existingVideo,s=e.lastCameraStream,c=e.options,d=e.webcamVideoElement,l=v.isElement(r)?r:d||o.createElement("video");a&&(l.crossOrigin=c.crossOrigin),l.autoplay=!0,l.loop=!0,l.muted=!0,l.addEventListener("loadeddata",function(){W.loadedData=!0,c.offset&&(l.currentTime=c.offset)}),r?W.stream({videoElement:l,existingVideo:r,completedCallback:n}):s?W.stream({videoElement:l,cameraStream:s,streamedCallback:i,completedCallback:n}):v.getUserMedia({video:!0},function(e){W.stream({videoElement:l,cameraStream:e,streamedCallback:i,completedCallback:n})},t)},startVideoStreaming:function(e){var t=arguments.length>1&&arguments[1]!==r?arguments[1]:{},i=t.timeout!==r?t.timeout:0,n=t.callback,o=t.webcamVideoElement,a=void 0;i>0&&(a=v.requestTimeout(function(){W.onStreamingTimeout(n)},1e4)),W.startStreaming({error:function(){n({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(a)},completed:function(){var t=arguments.length>0&&arguments[0]!==r?arguments[0]:{},i=t.cameraStream,n=t.videoElement,o=t.videoHeight,a=t.videoWidth;e({cameraStream:i,videoElement:n,videoHeight:o,videoWidth:a})},lastCameraStream:t.lastCameraStream,webcamVideoElement:o,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function(e){var t=e=v.isObject(e)?e:{},i=t.keepCameraOn,n=t.videoElement,o=t.webcamVideoElement,a=e.cameraStream||{},r=a.getTracks&&a.getTracks()||[],s=!!r.length,c=r[0];!i&&s&&v.isFunction(c.stop)&&c.stop(),v.isElement(n)&&!o&&(n.pause(),v.isFunction(v.URL.revokeObjectURL)&&!v.webWorkerError&&n.src&&v.URL.revokeObjectURL(n.src),v.removeElement(n))}},O={utils:w,error:y,defaultOptions:S,createGIF:g,takeSnapShot:function(e,t){if(t=v.isFunction(e)?e:t,e=v.isObject(e)?e:{},v.isFunction(t)){var i=v.mergeOptions(A,e);g(v.mergeOptions(i,{interval:.1,numFrames:1,gifWidth:Math.floor(i.gifWidth),gifHeight:Math.floor(i.gifHeight)}),t)}},stopVideoStreaming:m,isSupported:function(){return b.isValid()},isWebCamGIFSupported:s,isExistingVideoGIFSupported:function(e){var t=!1;if(v.isArray(e)&&e.length){if(v.each(e,function(e,i){v.isSupported.videoCodecs[i]&&(t=!0)}),!t)return!1}else if(v.isString(e)&&e.length&&!v.isSupported.videoCodecs[e])return!1;return b.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return b.isValid({getUserMedia:!0})},VERSION:"0.4.5"};void 0===(n=function(){return O}.apply(t,[]))||(e.exports=n)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},function(e,t,i){"use strict";var n,o,a=i(0),r=(n=a)&&n.__esModule?n:{default:n};(o=window.DisneyJS).makePng=function(e,t){t="string"==typeof t?t:r.default.getFileName(),"string"!=typeof e&&"number"!=typeof e||(e=document.getElementById(e));var i=e.toDataURL();if(o)if(o.nativeCall){var n={msg:"saveImage",payload:{blob:i,name:t}};o.nativeCall(n)}else o.App&&o.App.saveImage(i,"png",t)}},function(e,t,i){"use strict";void 0===window.abcdm&&(window.abcdm={}),void 0===window.abcdm.abc&&(window.abcdm.abc={}),void 0===window.abcdm.abc.com&&(window.abcdm.abc.com={}),window.abcdm.abc.com.Analytics={account:null,init:function(e){e?(this.log("init with account: "+e),this.account=e):this.log("init without account");var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.innerHTML='var s_account="'+this.account+'";';var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src","js/s_code_vp2.js"),document.getElementsByTagName("head")[0].appendChild(t),document.getElementsByTagName("head")[0].appendChild(i),DisneyJS.App.forwardAsync("abcdm.abc.com.GameApis.apiOmnitureInitComplete();")},trackPage:function(e,t,i){if(t instanceof Object?this.log("opt is object"):t=t?JSON.parse(t):{},e&&s_omni)try{s_omni.pageName="",s_omni.pageName=this.formatName(e,""),""!=s_omni.linkTrackVars?s_omni.linkTrackVars+=",events":s_omni.linkTrackVars="events";var n="none";""===i?i="none":n=this.getEventsVars(i),s_omni.linkTrackEvents=n,s_omni.events=i,this.setLinkProps(t.props),this.log("Track page: "+e),s_omni.t(),this.unsetLinkProps(t.props),this.unsetPageProps()}catch(t){this.log("Error tracking page link: "+e),DisneyJS.App.forwardAsync('abcdm.abc.com.GameApis.omnitureError("Error tracking page link: '+e+'");')}else DisneyJS.App.forwardAsync('abcdm.abc.com.GameApis.omnitureError("Analytics library has not been initialized");')},trackLink:function(e,t,i){if(t instanceof Object?this.log("opt is object"):t=t?JSON.parse(t):{},e&&s_omni)try{s_omni.pageName="",this.setLinkProps(t.props),""!=s_omni.linkTrackVars?s_omni.linkTrackVars+=",events":s_omni.linkTrackVars="events";var n="none";""===i?i="none":n=this.getEventsVars(i),s_omni.linkTrackEvents=n,s_omni.events=i,this.log("Track link: "+e),s_omni.tl(this,"o",this.formatName(e,"")),this.unsetLinkProps(t.props)}catch(t){this.log("Error tracking custom link: "+e),DisneyJS.App.forwardAsync('abcdm.abc.com.GameApis.omnitureError("Error tracking custom link: '+e+'");')}else DisneyJS.App.forwardAsync('abcdm.abc.com.GameApis.omnitureError("Analytics library has not been initialized");')},getEventsVars:function(e){var t="",i=e.split(",");if(i.length>0)for(var n=0;n<i.length;n+=1){var o=i[n],a=o.split("=");1==a.length?t+=o:2==a.length&&(t+=a[0]),n<i.length-1&&(t+=",")}return t},setLinkProps:function(e){if(s_omni&&e&&e.constructor===Array){for(var t,i="",n=0;n<e.length;n+=1)(t=e[n])&&t.name&&t.value&&(s_omni[t.name]=t.value,i+=t.name,n<e.length-1&&(i+=","));s_omni.linkTrackVars=i}},unsetPageProps:function(){s_omni.pageName=""},unsetLinkProps:function(e){if(s_omni&&e&&e.constructor===Array)for(var t,i=0;i<e.length;i+=1)(t=e[i])&&t.name&&(s_omni[t.name]="");s_omni.linkTrackVars="",s_omni.linkTrackEvents="",s_omni.events=""},formatName:function(e,t){return e&&(e=e.replace("(prefix)",t)),e},log:function(e){window.console&&window.console.log("[Analytics] "+e)}}},function(e,t,i){"use strict";void 0===window.abcdm&&(window.abcdm={}),void 0===window.abcdm.abc&&(window.abcdm.abc={}),void 0===window.abcdm.abc.com&&(window.abcdm.abc.com={}),window.abcdm.abc.com.Framework={config:{omniture:{account:""}},init:function(e){this.log("init"),null!=e&&(this.config=abcdm.abc.com.Utils.extend(this.config,e),this.loadFreewheel(),void 0!==this.config.omniture?this.loadOmniture(this.config.omniture):this.loadOmniture({})),Disney.App.forwardAsync("abcdm.abc.com.GameApis.frameworkInitComplete();")},loadFreewheel:function(e){this.log("loading freewheel config"),void 0!==window.abcdm.abc.com.GameAds&&window.abcdm.abc.com.GameAds.init(e)},loadOmniture:function(e){this.log("loading omniture config"),void 0!==window.abcdm.abc.com.Analytics&&window.abcdm.abc.com.Analytics.init(e)},onCloseComplete:function(){this.log("game is ready to close")},log:function(e){window.console&&window.console.log("[Framework] "+e)}}},function(e,t,i){"use strict";void 0===window.abcdm&&(window.abcdm={}),void 0===window.abcdm.abc&&(window.abcdm.abc={}),void 0===window.abcdm.abc.com&&(window.abcdm.abc.com={}),window.abcdm.abc.com.GameAds={config:{},init:function(e){this.log("init"),null!=e&&(this.config=abcdm.abc.com.Utils.extend(this.config,e))},startAd:function(e){this.log("startAd: "+e),"preRoll"!==e&&"midRoll"!==e?DisneyJS.App.forwardAsync('abcdm.abc.com.GameApis.adPlaybackError("Invalid adType. Allowed values are: preRoll, midRoll");'):(DisneyJS.App.show(0,0),abcdm.abc.com.GameAds.adComplete())},adComplete:function(){DisneyJS.App.hide(),DisneyJS.App.forwardAsync("abcdm.abc.com.GameApis.adPlaybackComplete();")},log:function(e){window.console&&window.console.log("[Game Ads] "+e)}}},function(e,t,i){"use strict";void 0===window.abcdm&&(window.abcdm={}),void 0===window.abcdm.abc&&(window.abcdm.abc={}),void 0===window.abcdm.abc.com&&(window.abcdm.abc.com={}),window.abcdm.abc.com.GameApis={webviewLoaded:!1,frameWorkInitialized:!1,omnitureInitialized:!1,loadWebview:function(){DisneyJS.App.loadInTheWebView("https://cdn1.edgedatg.com/nap7/m/games/latest/dsny-framework/minified/index.html")},setWebviewLoaded:function(){this.webviewLoaded=!0},playAd:function(e){this.webviewLoaded?DisneyJS.App.forwardAsync('abcdm.abc.com.GameAds.startAd("'+e+'")'):this.log("Game Apis' have not been loaded")},playPreRoll:function(){this.webviewLoaded?DisneyJS.App.forwardAsync('abcdm.abc.com.GameAds.startAd("preRoll")'):this.log("Game Apis' have not been loaded")},playMidRoll:function(){this.webviewLoaded?DisneyJS.App.forwardAsync('abcdm.abc.com.GameAds.startAd("midRoll")'):this.log("Game Apis' have not been loaded")},initOmniture:function(e){e&&this.webviewLoaded?DisneyJS.App.forwardAsync('abcdm.abc.com.Analytics.init("'+e+'")'):this.log("Game Apis' have not been loaded")},trackPage:function(e,t,i){this.omnitureInitialized?DisneyJS.App.forwardAsync('abcdm.abc.com.Analytics.trackLink("'+e+'",'+JSON.stringify(t)+',"'+i+'")'):this.omnitureError("omniture not initialized")},trackLink:function(e,t,i){this.omnitureInitialized?DisneyJS.App.forwardAsync('abcdm.abc.com.Analytics.trackLink("'+e+'",'+JSON.stringify(t)+',"'+i+'")'):this.omnitureError("omniture not initialized")},gameCloseComplete:function(){DisneyJS.App.forwardAsync("abcdm.abc.com.Framework.onCloseComplete();")},apiWebviewLoadComplete:function(){this.log("onLoadInTheWebViewSucceed"),this.setWebviewLoaded(),window.abcdm.abc.com.GameApis.apiLoadComplete()},apiWebviewLoadFailed:function(){this.log("onLoadInTheWebViewFailed"),this.apiLoadFailed()},frameworkInitComplete:function(){this.log("api framework initialization complete"),this.frameWorkInitialized=!0},apiOmnitureInitComplete:function(){this.log("api omniture initialization complete"),this.omnitureInitialized=!0,window.abcdm.abc.com.GameApis.omnitureInitComplete()},omnitureInitComplete:function(){this.log("omniture init complete")},apiLoadComplete:function(){this.log("api load complete")},apiLoadFailed:function(){this.log("api load failed")},omnitureError:function(e){this.log("omniture error: "+e)},adPlaybackComplete:function(){this.log("ads playback complete")},adPlaybackError:function(e){this.log("ads error: "+e)},onClose:function(){this.log("on close")},onActivated:function(){this.log("on activated")},onSuspended:function(){this.log("on suspended")},onHeadphonesUnplugged:function(){this.log("on headphones unplugged")},onHeadphonesPluggedIn:function(){this.log("on headphones plugged in")},log:function(e){window.console&&window.console.log("[Game Apis] "+e)},sendNotification:function(e){window.DisneyJS&&window.DisneyJS.nativeCall&&DisneyJS.nativeCall(e)}},DisneyJS.App.onLoadInTheWebViewSucceed.addEventListener(function(){window.abcdm.abc.com.GameApis.apiWebviewLoadComplete()}),DisneyJS.App.onLoadInTheWebViewFailed.addEventListener(function(){window.abcdm.abc.com.GameApis.apiWebviewLoadFailed()}),DisneyJS.App.onActivated.addEventListener(function(){window.abcdm.abc.com.GameApis.log("App activated"),window.abcdm.abc.com.GameApis.onActivated()}),DisneyJS.App.onSuspended.addEventListener(function(){window.abcdm.abc.com.GameApis.log("App suspended"),window.abcdm.abc.com.GameApis.onSuspended()}),DisneyJS.App.onHeadphonesPluggedIn.addEventListener(function(){window.abcdm.abc.com.GameApis.log("App Headphones PluggedIn"),window.abcdm.abc.com.GameApis.onHeadphonesPluggedIn()}),DisneyJS.App.onHeadphonesUnplugged.addEventListener(function(){window.abcdm.abc.com.GameApis.log("App Headphones Unplugged"),window.abcdm.abc.com.GameApis.onHeadphonesUnplugged()}),DisneyJS.nativeCall||(window.addEventListener("load",function(){window.DisneyJS.App.onLoadInTheWebViewSucceed.notifyEventListeners()},!1),window.addEventListener("blur",function(){window.abcdm.abc.com.GameApis.log("App suspended"),window.abcdm.abc.com.GameApis.onSuspended()}),window.addEventListener("focus",function(){window.abcdm.abc.com.GameApis.log("App activated"),window.abcdm.abc.com.GameApis.onActivated()}))},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0===window.abcdm&&(window.abcdm={}),void 0===window.abcdm.abc&&(window.abcdm.abc={}),void 0===window.abcdm.abc.com&&(window.abcdm.abc.com={}),window.abcdm.abc.com.Utils={extend:function(e,t){for(var i in e=e||{},t)"object"===n(t[i])?e[i]=this.extend(e[i],t[i]):e[i]=t[i];return e}}}]);