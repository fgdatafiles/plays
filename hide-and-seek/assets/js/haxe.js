!function(a){"use strict";function b(a,b){function c(){}c.prototype=a;var d=new c;for(var e in b)d[e]=b[e];return b.toString!==Object.prototype.toString&&(d.toString=b.toString),d}function c(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=N++);var c;return null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__],null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c),c}var d=function(){};d.__name__=["HxOverrides"],d.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},Math.__name__=["Math"];var e=function(){};e.__name__=["Std"],e.string=function(a){return l.__string_rec(a,"")};var f=function(){};f.__name__=["Type"],f.getClassName=function(a){var b=a.__name__;return null==b?null:b.join(".")};var g=function(){};g.__name__=["haxe","IMap"];var h=function(a,b){this.map=a,this.keys=b,this.index=0,this.count=b.length};h.__name__=["haxe","ds","_StringMap","StringMapIterator"],h.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=U[b]?a.getReserved(b):a.h[b]},__class__:h};var i=function(){this.h={}};i.__name__=["haxe","ds","StringMap"],i.__interfaces__=[g],i.prototype={setReserved:function(a,b){null==this.rh&&(this.rh={}),this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){return null!=U[a]?(a="$"+a,null!=this.rh&&this.rh.hasOwnProperty(a)?(delete this.rh[a],!0):!1):this.h.hasOwnProperty(a)?(delete this.h[a],!0):!1},keys:function(){return d.iter(this.arrayKeys())},arrayKeys:function(){var a=[];for(var b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(var b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},__class__:i};var j=function(){};j.__name__=["haxe","macro","Error"],j.prototype={toString:function(){return this.message},__class__:j};var k=function(a){Error.call(this),this.val=a,this.message=String(a),Error.captureStackTrace&&Error.captureStackTrace(this,k)};k.__name__=["js","_Boot","HaxeError"],k.wrap=function(a){return a instanceof Error?a:new k(a)},k.__super__=Error,k.prototype=b(Error.prototype,{__class__:k});var l=function(){};l.__name__=["js","Boot"],l.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;var c=l.__nativeClassName(a);return null!=c?l.__resolveNativeClass(c):null},l.__string_rec=function(a,b){if(null==a)return"null";if(b.length>=5)return"<...>";var c=typeof a;switch("function"==c&&(a.__name__||a.__ename__)&&(c="object"),c){case"function":return"<function>";case"object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];var d=a[0]+"(";b+="	";for(var e=2,f=a.length;f>e;){var g=e++;d+=2!=g?","+l.__string_rec(a[g],b):l.__string_rec(a[g],b)}return d+")"}var h=a.length,i="[";b+="	";for(var j=0,k=h;k>j;){var m=j++;i+=(m>0?",":"")+l.__string_rec(a[m],b)}return i+="]"}var n;try{n=a.toString}catch(o){return"???"}if(null!=n&&n!=Object.toString&&"function"==typeof n){var p=a.toString();if("[object Object]"!=p)return p}var q=null,r="{\n";b+="	";var s=null!=a.hasOwnProperty;for(var q in a)(!s||a.hasOwnProperty(q))&&"prototype"!=q&&"__class__"!=q&&"__super__"!=q&&"__interfaces__"!=q&&"__properties__"!=q&&(2!=r.length&&(r+=", \n"),r+=b+q+" : "+l.__string_rec(a[q],b));return b=b.substring(1),r+="\n"+b+"}";case"string":return a;default:return String(a)}},l.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;e>d;){var f=d++,g=c[f];if(g==b||l.__interfLoop(g,b))return!0}return l.__interfLoop(a.__super__,b)},l.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case R:return"boolean"==typeof a;case P:return!0;case Q:return"number"==typeof a;case O:return"number"==typeof a?(0|a)===a:!1;case String:return"string"==typeof a;default:if(null==a)return!1;if("function"==typeof b){if(a instanceof b)return!0;if(l.__interfLoop(l.getClass(a),b))return!0}else if("object"==typeof b&&l.__isNativeObj(b)&&a instanceof b)return!0;return(b==S?null==a.__name__:1)&&(b==T?null==a.__ename__:1)?a.__enum__==b:!0}},l.__cast=function(a,b){if(l.__instanceof(a,b))return a;throw new k("Cannot cast "+e.string(a)+" to "+e.string(b))},l.__nativeClassName=function(a){var b=l.__toStr.call(a).slice(8,-1);return"Object"==b||"Function"==b||"Math"==b||"JSON"==b?null:b},l.__isNativeObj=function(a){return null!=l.__nativeClassName(a)},l.__resolveNativeClass=function(b){return a[b]};var m=function(){createjs.Container.call(this),this._bg=new createjs.Shape,this._drawBG(p.SpringrollApp.display.width,p.SpringrollApp.display.height),this.addChild(this._bg),this._trolleyContainer=new createjs.Container,this.addChild(this._trolleyContainer),this._trolley=new createjs.Container,this._trolleyContainer.addChild(this._trolley),this._assets=new H(this.getImageManifest(),this.getAudioManifest(),c(this,this.onPackageReady)),this._assets.load()};m.__name__=["pbsdaniel","DTLoadingScreen"],m.__super__=createjs.Container,m.prototype=b(createjs.Container.prototype,{onResize:function(a,b){this._drawBG(a,b),this._trolleyContainer.set({x:a/2,y:b/2})},_drawBG:function(a,b){this._bg.graphics.clear(),this._bg.graphics.beginFill("#fff48b"),this._bg.graphics.drawRect(0,0,a,b),this._bg.graphics.endFill()},start:function(){this.onResize(p.SpringrollApp.display.width,p.SpringrollApp.display.height),this._trolley.scaleX=.9,this._trolley.scaleY=1.1,createjs.Tween.get(this._trolley,{loop:!0}).to({scaleX:1.05,scaleY:.95},400,createjs.Ease.backIn).to({scaleX:.95,scaleY:1.05},300,createjs.Ease.cubicInOut),p.SpringrollApp.on("resize",c(this,this.onResize))},freeze:function(){this._trolley.scaleX=this._trolley.scaleY=1,createjs.Tween.removeTweens(this._trolley),p.SpringrollApp.off("resize",c(this,this.onResize))},onPackageReady:function(){var a=this._assets.getSpriteFromSheet("loadingTrolley");D.setRegs(a,.5,1.05),this._trolley.addChild(a),this._text=this._assets.getSpriteFromSheet("loadingText"),D.setRegs(this._text,.5,-.05),this._trolleyContainer.addChild(this._text),this.onResize(p.SpringrollApp.display.width,p.SpringrollApp.display.height)},getImageManifest:function(){var a=[];return a.push(H.makeManifestItem("loadingScreenSheet","assets/sheets/loading.json","spritesheet")),a},getAudioManifest:function(){var a=[];return a},__class__:m});var n=function(){};n.__name__=["pbsdaniel","hideandseek","Constants"];var o=function(){createjs.Container.call(this),this.upperLid=new createjs.Shape,this.upperLid.graphics.beginFill("#a88a5c").drawRect(0,0,1664,384).endFill(),this.lowerLid=l.__cast(this.upperLid.clone(),createjs.Shape),this.upperLid.cache(0,0,1664,384),this.lowerLid.cache(0,0,1664,384),this.upperLid.y=-this.upperLid.getBounds().height,this.lowerLid.y=768,this.addChild(this.upperLid),this.addChild(this.lowerLid)};o.__name__=["pbsdaniel","hideandseek","Eyelids"],o.__super__=createjs.Container,o.prototype=b(createjs.Container.prototype,{close:function(a){createjs.Tween.get(this.upperLid).to({y:0},a),createjs.Tween.get(this.lowerLid).to({y:384},a)},reset:function(){this.uncache(),createjs.Tween.removeTweens(this.upperLid),createjs.Tween.removeTweens(this.lowerLid),this.upperLid.y=-this.upperLid.getBounds().height,this.lowerLid.y=768},open:function(a,b){createjs.Tween.get(this.upperLid).to({y:-this.upperLid.getBounds().height},a),createjs.Tween.get(this.lowerLid).to({y:768},a).call(b)},__class__:o});var p=function(a,b){null==b&&(b=!1);var c=this;p.SpringrollApp=a,1==a.options.debug?J.enabled=!0:J.enabled=!1,J.log("New DanielGame!",p),this._stage=a.display.stage,this._stage.enableMouseOver(10),window.SRApp=a,this.BG=new createjs.Shape,this.BG.graphics.beginFill("orange").drawRect(0,0,a.options.maxWidth,a.options.maxHeight).endFill(),this._stage.addChild(this.BG),this.container=new createjs.Container,this.container.name="springrollGameContainer",this._stage.addChild(this.container),this._loadLayer=new createjs.Container,this._loadLayer.name="loadContainer",this._loadLayer.mouseChildren=!1,this._loadLayer.mouseEnabled=!1,this._gameLayer=new createjs.Container,this._gameLayer.name="gameContainer",this._debugLayer=new createjs.Container,this._debugLayer.mouseEnabled=!1,this._debugLayer.mouseChildren=!1,this.container.addChild(this._gameLayer),this.container.addChild(this._loadLayer),b&&this.container.addChild(this._debugLayer),createjs.Touch.enable(this._stage,!0),this.resize({width:a.display.width,height:a.display.height}),a.on("update",function(a,b,d){c.update({delta:a})}),a.on("resize",function(a,b){c.resize({width:a,height:b})})};p.__name__=["sg","pbskids","daniel","SpringrollGame"],p.prototype={resize:function(a){this._gameLayer.x=-(p.SpringrollApp.options.maxWidth-a.width)/2},begin:function(){null!=p.SpringrollApp.scaling&&J.purple(p.SpringrollApp.scaling._items)},update:function(a){this._stage.update(a)},__class__:p};var q=function(a){this._environments=["bedroomDan","envBedroomMarge","envLivingRoom"],this._playthrough=0,p.call(this,a);var b=new createjs.Shape;b.graphics.beginStroke("green").drawRect(0,0,1280,800).endStroke();var d=new createjs.Shape;d.graphics.beginStroke("red").drawRect(0,0,1024,768).endStroke(),d.x=128,d.y=16,this._debugLayer.addChild(b),this._debugLayer.addChild(d),this._environments=L.shuffleArray(this._environments),this._loadingScreen=new m,this._loadingScreen.addEventListener("added",(M=this._loadingScreen,c(M,M.start))),this._loadingScreen.addEventListener("removed",(M=this._loadingScreen,c(M,M.freeze))),this._loadLayer.addChild(this._loadingScreen),q.globalAssets=new H(this.getGlobalData(),null,c(this,this.onGlobalAssetsRetrieved)),q.globalAssets.load()};q.__name__=["pbsdaniel","hideandseek","HideNSeek"],q.__super__=p,q.prototype=b(p.prototype,{getGlobalData:function(){var a=[];return a.push(H.makeManifestItem("charaterData","assets/data/character_data.json","json")),a.push(H.makeManifestItem("bedroomDan","assets/data/env_bedroom_dan.json","json")),a.push(H.makeManifestItem("envBedroomMarge","assets/data/env_bedroom_margaret.json","json")),a.push(H.makeManifestItem("envLivingRoom","assets/data/env_livingroom.json","json")),a},onGlobalAssetsRetrieved:function(){this._charactersData=q.globalAssets.getResult("charaterData"),this._screen=new y(c(this,this.screenReady)),this._screen.addEventListener("sceneRequest",c(this,this.sceneLoadRequest))},screenReady:function(){createjs.Ticker.getTime(!0)-this._loadStartTime>500?this.startScreen():createjs.Tween.get(this).wait(500-(createjs.Ticker.getTime(!0)-this._loadStartTime),!0).call(c(this,this.startScreen))},startScreen:function(){this._gameLayer.addChild(this._screen),this._loadingScreen.parent==this._loadLayer&&this._loadLayer.removeChild(this._loadingScreen),this._screen.start()},sceneLoadRequest:function(a){this._loadStartTime=createjs.Ticker.getTime(!0),this._screen.removeEventListener("sceneRequest",c(this,this.sceneLoadRequest)),this._loadLayer.addChild(this._loadingScreen),this.container.addChild(this._loadLayer),this._gameLayer.removeAllChildren(),this._screen.destroy(),this._screen=null;var b=a.get_sceneId();switch(b){case"sceneGame":this._screen=new w(this.getNextEnvironment(),this._charactersData,c(this,this.screenReady));break;case"sceneIntro":this._screen=new x(c(this,this.screenReady))}this._screen.addEventListener("sceneRequest",c(this,this.sceneLoadRequest))},getNextEnvironment:function(){var a=null;return p.SpringrollApp.options.debug&&(a=L.getQueryParam("env"),-1==this._environments.indexOf(a)&&(a=null),window.console.log(a)),null!=a?q.globalAssets.getResult(this._environments[this._environments.indexOf(a)]):(this._playthrough++,this._playthrough>=this._environments.length&&(this._playthrough=0),q.globalAssets.getResult(this._environments[this._playthrough]))},update:function(a){p.prototype.update.call(this,a),null!=this._screen&&this._screen.update(a),dragonBones.animation.WorldClock.clock.advanceTime(a.delta/1e3)},__class__:q});var r=function(a,b,c){null==c&&(c=!1),null==b&&(b=!1),createjs.Event.call(this,a,b,c)};r.__name__=["pbsdaniel","hideandseek","HideShotCompleteEvent"],r.__super__=createjs.Event,r.prototype=b(createjs.Event.prototype,{__class__:r});var s=function(){};s.__name__=["pbsdaniel","hideandseek","Main"],s.main=function(){window.SGGameButler=new G("HideAndSeek",s.start),s._isSpringroll="undefined"!=typeof springroll},s.start=function(a,b){s.SpringrollApp=a,s._bellhop=b,I.init(s.SpringrollApp),window.focus(),s._game=new q(s.SpringrollApp)},s.ga_call=function(a){try{s._bellhop.send("gacall",a)}catch(b){if(b instanceof k&&(b=b.val),!l.__instanceof(b,j))throw b;window.console.warn("Warning: "+e.string(b))}};var t=function(a,b){this._data=b,this.character=a};t.__name__=["pbsdaniel","hideandseek","SpotCharacter"],t.prototype={changeState:function(a,b){null==b&&(b=0),"hidden"==a?(this._currentState="hidden",this.playInterest()):"found"==a&&(this._currentAnim="reveal",this.character.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.playInterest)),this.character.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.playIdle)),this.character.armature.animation.gotoAndPlay(this._data.anims.reveal[0]))},playInterest:function(a){"interest"!=this._currentAnim&&(this._currentAnim="interest",this.character.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.playInterest)),this.character.armature.animation.gotoAndPlay(this._data.anims.attract[Math.floor(Math.random()*this._data.anims.attract.length)]),this.character.armature.addEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.playIdle)))},playIdle:function(a){this._currentAnim="idle",this.character.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.playIdle));this.character.armature.animation.gotoAndPlay(this._data.anims.idle[0],-1,-1,Math.floor(2*Math.random())+1);this.character.armature.addEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.playInterest))},__class__:t};var u=function(a,b,c){this.ACTIVATE_ON_ATTEMPT=2,this._attempts=0,this.playRevelAudio=!1,createjs.Container.call(this),this._data=a,this._bg=b.getBitmap(a.bg),this.addChild(this._bg),this._jiggler=new createjs.Container,this._character=new t(c,a.character),c.x=a.character.position.x,c.y=a.character.position.y,null!=a.character.scale&&(c.scaleX=c.scaleY=a.character.scale);var d=150;this.addChild(c),this.addChild(this._jiggler);var e=null,f=null;if(null!=a.prop.artIDs.back)if(e=b.getSpriteFromSheet(a.prop.artIDs.back),null==e&&(e=this.errorItem(a.prop.artIDs.back)),e.scaleX=e.scaleY=a.prop.scale,null!=a.prop.artIDs.supressJiggle&&null!=a.prop.artIDs.supressJiggle.back)this.addChildAt(e,this.getChildIndex(c)+1),e.x=a.prop.position.x+d,e.y=a.prop.position.y;else{D.centerRegs(e),this._jiggler.addChild(e);var g=a.prop.position.x,h=.5*e.getBounds().width;this._jiggler.x=g+h;var i=a.prop.position.y,j=.5*e.getBounds().height;this._jiggler.y=i+j}if(null!=a.prop.artIDs.front)if(f=b.getSpriteFromSheet(a.prop.artIDs.front),null==f&&(f=this.errorItem(a.prop.artIDs.front)),f.scaleX=f.scaleY=a.prop.scale,null!=a.prop.artIDs.supressJiggle&&null!=a.prop.artIDs.supressJiggle.front)this.addChildAt(f,this.getChildIndex(c)+2),f.x=a.prop.position.x+d,f.y=a.prop.position.y;else{D.centerRegs(f),this._jiggler.addChild(f);var k=a.prop.position.x,l=.5*f.getBounds().width;this._jiggler.x=k+l;var m=a.prop.position.y,n=.5*f.getBounds().height;this._jiggler.y=m+n}this._jigglerStartPos=new createjs.Point(this._jiggler.x,this._jiggler.y),"front"==a.character.attachTo&&null!=f?null!=a.prop.artIDs.supressJiggle&&null!=a.prop.artIDs.supressJiggle.front?(c.x=a.character.position.x-a.prop.position.x-.5*f.getBounds().width,c.y=a.character.position.y-a.prop.position.y-.5*f.getBounds().height,this.addChildAt(this._character.character,this.getChildIndex(f)+1)):(c.x=a.character.position.x-a.prop.position.x-.5*f.getBounds().width,c.y=a.character.position.y-a.prop.position.y-.5*f.getBounds().height,this._jiggler.addChildAt(this._character.character,this._jiggler.getChildIndex(f)+1)):"back"==a.character.attachTo&&null!=e&&(null!=a.prop.artIDs.supressJiggle&&null!=a.prop.artIDs.supressJiggle.back?(c.x=a.character.position.x-a.prop.position.x-.5*e.getBounds().width,c.y=a.character.position.y-a.prop.position.y-.5*e.getBounds().height,this.addChildAt(this._character.character,this.getChildIndex(e)+1)):(c.x=a.character.position.x-a.prop.position.x-.5*e.getBounds().width,c.y=a.character.position.y-a.prop.position.y-.5*e.getBounds().height,this._jiggler.addChildAt(this._character.character,this._jiggler.getChildIndex(e)+1))),c.x+=d,this._jiggler.x+=d};u.__name__=["pbsdaniel","hideandseek","SpotHideShot"],u.__super__=createjs.Container,u.prototype=b(createjs.Container.prototype,{errorItem:function(a){var b=new createjs.Container,c=new createjs.Shape;if(b.addChild(c),c.graphics.beginFill("red").drawRect(0,0,300,250).endFill(),null!=a){var d=new createjs.Text(a+"is missing or incorrect");d.color="#fff",b.addChild(d)}return b},start:function(){this._character.changeState("hidden"),this._character.character.armature.addEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.initializeCharacter)),this.addEventListener("mousedown",c(this,this.attemptActivate)),window.addEventListener("keydown",c(this,this.attemptActivate))},initializeCharacter:function(a){this._character.character.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.initializeCharacter)),I.instance.playVO(this._data.audio.opener)},destroy:function(){this._character.character.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.onRevealComplete)),this.removeEventListener("mousedown",c(this,this.attemptActivate)),window.removeEventListener("keydown",c(this,this.attemptActivate))},init:function(){this._character.playIdle()},attemptActivate:function(a){this.removeEventListener("mousedown",c(this,this.attemptActivate)),window.removeEventListener("keydown",c(this,this.attemptActivate)),this._jiggler.rotation=0,this._attempts++,this._attempts>=this.ACTIVATE_ON_ATTEMPT?(this.playRevelAudio&&I.instance.playAudio("reveal"),this._character.character.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.initializeCharacter)),this._character.character.armature.addEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.onRevealComplete)),this._character.changeState("found")):(I.instance.playAudio("bell_shake"),this._jiggler.rotation=-5,createjs.Tween.get(this._jiggler).to({rotation:this._jiggler.rotation+10},75).to({rotation:this._jiggler.rotation-10},75).to({rotation:this._jiggler.rotation+10},75).to({rotation:this._jiggler.rotation-10},75).to({rotation:this._jiggler.rotation+10},75).to({rotation:this._jiggler.rotation-10},75).to({rotation:this._jiggler.rotation+10},75).to({rotation:0},75).call(c(this,this.jiggleComplete)),this._character.playInterest())},onRevealComplete:function(a){this._character.character.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.onRevealComplete)),this.dispatchEvent(new r("complete"))},onCloserComplete:function(){this.dispatchEvent(new r("complete"))},jiggleComplete:function(){this.addEventListener("mousedown",c(this,this.attemptActivate)),window.addEventListener("keydown",c(this,this.attemptActivate))},__class__:u});var v=function(){this.sceneName="unnamed",createjs.Container.call(this)};v.__name__=["sg","cjs","GameScreen"],v.__super__=createjs.Container,v.prototype=b(createjs.Container.prototype,{update:function(a){},destroy:function(){},start:function(){},getImageManifest:function(){var a=[];return a},getAudioManifest:function(){var a=[];return a},__class__:v});var w=function(a,b,d){v.call(this),this._readyCallback=d,this._shotContainer=new createjs.Container,this.addChild(this._shotContainer),this._envData=a,this._charData=b,this.generateMaps(),this._spothideShotData=this.generateShotData(),this._unloadedCharacters=b.characters.length,this._characters=new i;for(var e=0,f=b.characters;e<f.length;){var g=f[e];++e;var h=new B(g,c(this,this.characterComplete)),j=g.name,k=this._characters;null!=U[j]?k.setReserved(j,h):k.h[j]=h}this._assets=new H(a.assets,this.getAudioManifest(),c(this,this.onPackageReady)),this._assets.load()};w.__name__=["pbsdaniel","hideandseek","screens","HideScene"],w.__super__=v,w.prototype=b(v.prototype,{destroy:function(){v.prototype.destroy.call(this);for(var a=this._characters,b=new h(a,a.arrayKeys());b.hasNext();){var c=b.next();c.dispose()}},generateMaps:function(){this._spotMap=new i;for(var a=0,b=this._envData.spots;a<b.length;){var c=b[a];++a;var d=c.id,e=this._spotMap;null!=U[d]?e.setReserved(d,c):e.h[d]=c}this._characterMap=new i;for(var f=0,g=this._charData.characters;f<g.length;){var h=g[f];++f;var j=h.name,k=this._characterMap;null!=U[j]?k.setReserved(j,h):k.h[j]=h}},generateShotData:function(){for(var a=[],b=[],c=0,d=this._envData.envCharacters;c<d.length;){var e=d[c];++c;for(var f=e.character[Math.floor(Math.random()*e.character.length)],g=e.validSpots.slice(),h=g.length-1;h>=0;){for(var i=0,j=b.length;j>i;){var k=i++;if(b[k]==g[h].spotName){g.splice(h,1);break}}--h}if(g.length>0){var l=g[Math.floor(Math.random()*g.length)];b.push(l.spotName);var m=l.positions[Math.floor(Math.random()*l.positions.length)];a.push(this.makeHideSpotData(l,m,f))}}return a},makeHideSpotData:function(a,b,c){var d={},e=a.spotName,f=this._spotMap;d.bg=(null!=U[e]?f.getReserved(e):f.h[e]).bg,d.prop={};var g=a.spotName,h=this._spotMap,i=null!=U[g]?h.getReserved(g):h.h[g];d.prop.artIDs=i.art;var j=a.spotName,k=this._spotMap,l=null!=U[j]?k.getReserved(j):k.h[j];d.prop.position=l.position;var m=a.spotName,n=this._spotMap,o=null!=U[m]?n.getReserved(m):n.h[m];d.prop.scale=o.scale,d.character={},d.character.character=c,d.character.attachTo=a.attachTo,d.character.anims={};for(var p=0,q=this._characterMap,r=(null!=U[c]?q.getReserved(c):q.h[c]).anims.hideAnims;p<r.length;){var s=r[p];++p,s.id==b.id&&(d.character.anims=s.labels)}d.spotName=a.spotName,d.character.position=b.position,d.character.scale=a.scale,d.audio={};var t=this._characterMap,u=(null!=U[c]?t.getReserved(c):t.h[c]).hideIntroAudio,v=Math.random(),w=this._characterMap,x=null!=U[c]?w.getReserved(c):w.h[c];return d.audio.opener=u[Math.floor(v*x.hideIntroAudio.length)],d},debugBuildHideShot:function(a,b,c){for(var d=null,e=null,f=0,g=this._envData.envCharacters;f<g.length;){var h=g[f];if(++f,h.character[0]==a){d=h;break}}if(null==d)throw new k("Data for selected character with name: "+a+" cannot be found.");window.console.log(d);for(var i=0,j=d.validSpots;i<j.length;){var l=j[i];if(++i,l.spotName==b){e=l;break}}if(null!=e){var m=d.character[0];return this.makeHideSpotData(e,e.positions[c],m)}throw new k("Data for selected position slot with name: "+b+" cannot be found.")},characterComplete:function(){this._unloadedCharacters-=1,this.checkForReady()},checkForReady:function(){this._unloadedCharacters<=0&&this._assets.completed&&this._readyCallback()},onPackageReady:function(){var a=this._assets.getBitmap("establish");this._shotContainer.addChild(a);var b=this._characters,c=(null!=U.Daniel?b.getReserved("Daniel"):b.h.Daniel,this._characters),d=(null!=U.Dad?c.getReserved("Dad"):c.h.Dad,this._characters),e=(null!=U.Mom?d.getReserved("Mom"):d.h.Mom,this._characters),f=(null!=U.Marge?e.getReserved("Marge"):e.h.Marge,this._characters);this._shotContainer.addChild(null!=U.Dad?f.getReserved("Dad"):f.h.Dad);var g=this._characters;this._shotContainer.addChild(null!=U.Mom?g.getReserved("Mom"):g.h.Mom);var h=this._characters;this._shotContainer.addChild(null!=U.Daniel?h.getReserved("Daniel"):h.h.Daniel);var i=this._characters;this._shotContainer.addChild(null!=U.Marge?i.getReserved("Marge"):i.h.Marge),this._lids=new o,this.checkForReady()},start:function(){if(p.SpringrollApp.options.debug&&null!=L.getQueryParam("env"))this.debugStart();else if(q._firstTimeFlag){q._firstTimeFlag=!1;var a=this._characters;(null!=U.Daniel?a.getReserved("Daniel"):a.h.Daniel).armature.addEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.triggerIntro2));var b=this._characters,d=(null!=U.Daniel?b.getReserved("Daniel"):b.h.Daniel).armature.animation,e=this._characterMap;d.gotoAndPlay((null!=U.Daniel?e.getReserved("Daniel"):e.h.Daniel).anims.gameIntro);var f=this._characters,g=(null!=U.Mom?f.getReserved("Mom"):f.h.Mom).armature.animation,i=this._characterMap;g.gotoAndPlay((null!=U.Mom?i.getReserved("Mom"):i.h.Mom).anims.gameIntro);var j=this._characters,k=(null!=U.Dad?j.getReserved("Dad"):j.h.Dad).armature.animation,l=this._characterMap;k.gotoAndPlay((null!=U.Dad?l.getReserved("Dad"):l.h.Dad).anims.gameIntro);var m=this._characters,n=(null!=U.Marge?m.getReserved("Marge"):m.h.Marge).armature.animation,o=this._characterMap;n.gotoAndPlay((null!=U.Marge?o.getReserved("Marge"):o.h.Marge).anims.gameIntro);for(var r=this._characters,s=new h(r,r.arrayKeys());s.hasNext();){var t=s.next();t.x=120}}else this.triggerIntro2()},triggerIntro2:function(a){var b=this._characters;(null!=U.Daniel?b.getReserved("Daniel"):b.h.Daniel).armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.triggerIntro2));var d=this._characters;(null!=U.Daniel?d.getReserved("Daniel"):d.h.Daniel).armature.addEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.startCountdown));var e=this._characters,f=(null!=U.Daniel?e.getReserved("Daniel"):e.h.Daniel).armature.animation,g=this._characterMap;f.gotoAndPlay((null!=U.Daniel?g.getReserved("Daniel"):g.h.Daniel).anims.roomIntro);var i=this._characters,j=(null!=U.Mom?i.getReserved("Mom"):i.h.Mom).armature.animation,k=this._characterMap;j.gotoAndPlay((null!=U.Mom?k.getReserved("Mom"):k.h.Mom).anims.roomIntro);var l=this._characters,m=(null!=U.Dad?l.getReserved("Dad"):l.h.Dad).armature.animation,n=this._characterMap;m.gotoAndPlay((null!=U.Dad?n.getReserved("Dad"):n.h.Dad).anims.roomIntro);var o=this._characters,p=(null!=U.Marge?o.getReserved("Marge"):o.h.Marge).armature.animation,q=this._characterMap;p.gotoAndPlay((null!=U.Marge?q.getReserved("Marge"):q.h.Marge).anims.roomIntro);for(var r=this._characters,s=new h(r,r.arrayKeys());s.hasNext();){var t=s.next();t.x=120}},startCountdown:function(){var a=this._characters;(null!=U.Daniel?a.getReserved("Daniel"):a.h.Daniel).armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.startCountdown)),this.addChild(this._lids),this._lids.close(1e3),I.instance.playVO("dan_hideseek_7",c(this,this.onCountdownComplete))},debugStart:function(){this._shotContainer.removeAllChildren();var a=this.debugBuildHideShot(L.getQueryParam("char"),L.getQueryParam("spot"),0),b=a.character.character,c=this._characters;this._newShot=new u(a,this._assets,null!=U[b]?c.getReserved(b):c.h[b]),this._currentShot=this._newShot,l.__cast(this._currentShot,u).init(),this._shotContainer.addChild(this._currentShot),this.activateHideShot()},onCountdownComplete:function(){for(var a=this._characters,b=new h(a,a.arrayKeys());b.hasNext();){var d=b.next();d.x=0}this._lids.open(400,c(this,this.activateHideShot)),this._shotContainer.removeAllChildren();var e=this._spothideShotData.splice(Math.floor(Math.random()*this._spothideShotData.length),1)[0];window.console.log(e.spotName,e.character.character);var f=e.character.character,g=this._characters;this._newShot=new u(e,this._assets,null!=U[f]?g.getReserved(f):g.h[f]),this._currentShot=this._newShot,l.__cast(this._currentShot,u).init(),this._shotContainer.addChild(this._currentShot)},activateHideShot:function(){this._lids.reset(),this._newShot!=this._currentShot&&(this._shotContainer.removeChild(this._currentShot),l.__cast(this._currentShot,u).destroy(),this._currentShot=this._newShot),this._currentShot.addEventListener("complete",c(this,this.onHideShotComplete)),l.__cast(this._currentShot,u).start()},onHideShotComplete:function(a){if(this._currentShot.removeEventListener("complete",c(this,this.onHideShotComplete)),this._spothideShotData.length>0){var b=this._spothideShotData.splice(Math.floor(Math.random()*this._spothideShotData.length),1)[0],d=b.character.character,e=this._characters;this._newShot=new u(b,this._assets,null!=U[d]?e.getReserved(d):e.h[d]),l.__cast(this._newShot,u).init(),this._shotContainer.addChildAt(this._newShot,0),0==this._spothideShotData.length&&(this._newShot.playRevelAudio=!0),this._currentShot.cache(0,0,1664,768),createjs.Tween.get(this._currentShot).to({alpha:0},200).call(c(this,this.activateHideShot))}else this.createClosing()},createClosing:function(){this._currentShot.cache(0,0,1664,768);for(var a=this._assets.getBitmap("establish"),b=this._characters.keys(),d=b;d.hasNext();){var e=d.next(),f=this._characters,g=null!=U[e]?f.getReserved(e):f.h[e];g.x=110,g.y=0,g.scaleX=g.scaleY=1;var h=this._characterMap;g.armature.animation.gotoAndPlay((null!=U[e]?h.getReserved(e):h.h[e]).anims.outro)}this._shotContainer.addChild(a);var i=this._characters;this._shotContainer.addChild(null!=U.Dad?i.getReserved("Dad"):i.h.Dad);var j=this._characters;this._shotContainer.addChild(null!=U.Mom?j.getReserved("Mom"):j.h.Mom);var k=this._characters;this._shotContainer.addChild(null!=U.Daniel?k.getReserved("Daniel"):k.h.Daniel);var l=this._characters;this._shotContainer.addChild(null!=U.Marge?l.getReserved("Marge"):l.h.Marge),this._shotContainer.addChild(this._currentShot),createjs.Tween.get(this._currentShot).to({alpha:0},200).call(c(this,this.initiateClosing))},initiateClosing:function(){createjs.Tween.removeTweens(this._currentShot),this._shotContainer.removeChild(this._currentShot),l.__cast(this._currentShot,u).destroy();var a=this._characters;(null!=U.Daniel?a.getReserved("Daniel"):a.h.Daniel).armature.addEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.completeClosing))},completeClosing:function(a){var b=this._characters;(null!=U.Daniel?b.getReserved("Daniel"):b.h.Daniel).armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.completeClosing)),this.dispatchEvent(new A("sceneRequest","sceneGame"))},getAudioManifest:function(){var a=[];return a.push(H.makeAudioManifestItem("dad_hideseek_1")),a.push(H.makeAudioManifestItem("dad_hideseek_2")),a.push(H.makeAudioManifestItem("dad_hideseek_3")),a.push(H.makeAudioManifestItem("dad_hideseek_4")),a.push(H.makeAudioManifestItem("dad_hideseek_5")),a.push(H.makeAudioManifestItem("dad_hideseek_6")),a.push(H.makeAudioManifestItem("dan_hideseek_1")),a.push(H.makeAudioManifestItem("dan_hideseek_4")),a.push(H.makeAudioManifestItem("dan_hideseek_5")),a.push(H.makeAudioManifestItem("dan_hideseek_6")),a.push(H.makeAudioManifestItem("dan_hideseek_7")),a.push(H.makeAudioManifestItem("dan_hideseek_8")),a.push(H.makeAudioManifestItem("dan_hideseek_9")),a.push(H.makeAudioManifestItem("dan_hideseek_10")),a.push(H.makeAudioManifestItem("dan_hideseek_11")),a.push(H.makeAudioManifestItem("dan_hideseek_12")),a.push(H.makeAudioManifestItem("dan_hideseek_13")),a.push(H.makeAudioManifestItem("dan_hideseek_14")),a.push(H.makeAudioManifestItem("dan_hideseek_15")),a.push(H.makeAudioManifestItem("dan_hideseek_16")),a.push(H.makeAudioManifestItem("dan_hideseek_17")),a.push(H.makeAudioManifestItem("dan_hideseek_19")),a.push(H.makeAudioManifestItem("dan_hideseek_20")),a.push(H.makeAudioManifestItem("margaret_hideseek_1")),a.push(H.makeAudioManifestItem("margaret_hideseek_2")),a.push(H.makeAudioManifestItem("margaret_hideseek_3")),a.push(H.makeAudioManifestItem("margaret_hideseek_4")),a.push(H.makeAudioManifestItem("margaret_hideseek_5")),a.push(H.makeAudioManifestItem("margaret_hideseek_6")),a.push(H.makeAudioManifestItem("mom_hideseek_1")),a.push(H.makeAudioManifestItem("mom_hideseek_2")),a.push(H.makeAudioManifestItem("mom_hideseek_3")),
a.push(H.makeAudioManifestItem("mom_hideseek_4")),a.push(H.makeAudioManifestItem("mom_hideseek_5")),a.push(H.makeAudioManifestItem("mom_hideseek_6")),a.push(H.makeAudioManifestItem("bell_shake")),a.push(H.makeAudioManifestItem("reveal")),a},__class__:w});var x=function(a){v.call(this),this._readyCallback=a,this._assets=new H(this.getImageManifest(),this.getAudioManifest(),c(this,this.onPackageReady)),this._assets.load()};x.__name__=["pbsdaniel","hideandseek","screens","IntroScene"],x.__super__=v,x.prototype=b(v.prototype,{onPackageReady:function(){I.instance.playVO("mom_hideseek_1"),this._readyCallback()},getImageManifest:function(){var a=[];return a},getAudioManifest:function(){var a=[];return a.push(H.makeAudioManifestItem("dad_hideseek_1")),a.push(H.makeAudioManifestItem("dad_hideseek_1")),a},__class__:x});var y=function(a){v.call(this),this._readyCallback=a,this._assets=new H(this.getImageManifest(),this.getAudioManifest(),c(this,this.onPackageReady)),this._assets.load()};y.__name__=["pbsdaniel","hideandseek","screens","TitleScreen"],y.__super__=v,y.prototype=b(v.prototype,{destroy:function(){createjs.Tween.removeTweens(this),this._bg=null,this._playButton.removeAllEventListeners(),this._playButton.destroy(),this._playButton=null,window.removeEventListener("keydown",c(this,this.onKeyDown)),I.instance.killAll()},start:function(){createjs.Tween.get(this).wait(1500,!0).call((M=I.instance,c(M,M.playVO)),["dan_hideseek_1"])},onPackageReady:function(){this._bg=this._assets.getBitmap("titlecard");var a=this._bg.getBounds();this._bg.x=832,this._bg.regX=a.width/2,this._bg.y=384,this._bg.regY=a.height/2,this._bg.addEventListener("mousedown",c(this,this.triggerAdvance),null),this.addChild(this._bg),this._playButton=new C(this._assets.getSpriteFromSheet("playBtn"),this._assets.getSpriteFromSheet("playBtnDown")),this.addChild(this._playButton);var b=1664-this._playButton.getBounds().width;this._playButton.x=.5*b;var d=768-this._playButton.getBounds().height;this._playButton.y=.95*d,this._playButton.turnOn(),this._playButton.addEventListener("down",c(this,this.triggerAdvance)),window.addEventListener("keydown",c(this,this.onKeyDown)),this._readyCallback()},onKeyDown:function(a){window.removeEventListener("keydown",c(this,this.onKeyDown)),this.triggerAdvance()},triggerAdvance:function(a){window.removeEventListener("keydown",c(this,this.onKeyDown)),this._bg.removeEventListener("mousedown",c(this,this.triggerAdvance),null),this._playButton.removeEventListener("down",c(this,this.triggerAdvance)),this._playButton.turnOff(),createjs.Tween.removeTweens(this),I.instance.killAll(),this.dispatchEvent(new A("sceneRequest","sceneGame"))},getImageManifest:function(){var a=[];return a.push(H.makeManifestItem("titleScreenSS","assets/sheets/titlescreen.json","spritesheet")),a.push(H.makeManifestItem("titlecard","assets/images/titlecard.jpg","image")),a},getAudioManifest:function(){var a=[];return a.push(H.makeAudioManifestItem("dan_hideseek_1")),a},__class__:y});var z=function(a,b,c){this._manifest=a,this._spriteSheetId=b,this._spriteSheetDataId=c};z.__name__=["sg","cjs","AssetLoader"],z.prototype={loadSpriteSheet:function(a){null!=this._queue?a():(this._callback=a,this._queue=new createjs.LoadQueue(!0),this._queue.on("complete",c(this,this.createSpriteSheet)),this._queue.loadManifest(this._manifest))},createSpriteSheet:function(){var a=this._queue.getResult(this._spriteSheetDataId);a.images=[this._queue.getResult(this._spriteSheetId)],this._spriteSheet=new createjs.SpriteSheet(a),this._callback()},image:function(a){var b=new createjs.Sprite(this._spriteSheet);return b.gotoAndStop(a),b},__class__:z};var A=function(a,b,c,d,e){null==e&&(e=!1),null==d&&(d=!1),createjs.Event.call(this,a,d,e),this.sceneId=b,this.data=c};A.__name__=["sg","cjs","SceneLoadEvent"],A.__super__=createjs.Event,A.prototype=b(createjs.Event.prototype,{get_sceneId:function(){return this.sceneId},get_data:function(){return this.data},__class__:A});var B=function(a,b){createjs.Container.call(this),this._data=a;var d=[];d.push(a.skeleton),d.push(a.texture),d.push(a.textureJSON),this._assets=new H(d,null,c(this,this.chracterDataLoaded)),this._id=a.name,this._readyCallback=b,this._assets.load()};B.__name__=["sg","cjs","dragonbones","DBCharacterCJS"],B.__super__=createjs.Container,B.prototype=b(createjs.Container.prototype,{get_characterId:function(){return this._id},playAnimation:function(a,b){if(this.armature.animation.hasAnimation(a)){null!=b&&(this._currentCompleteCallback=b,this.armature.addEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.onAnimationComplete)));this.armature.animation.gotoAndPlay(a)}else window.console.log("Animation does not contain label ["+a+"]")},loopAnimation:function(a,b){if(this.armature.animation.hasAnimation(a)){this.armature.animation.gotoAndPlay(a,-1,-1,1e3)}else window.console.log("Animation does not contain label ["+a+"]")},stopAnimation:function(a){null==a&&(a=!1),a&&(this._currentCompleteCallback=null,this.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.onAnimationComplete))),this.armature.animation.stop()},onAnimationComplete:function(a){this.armature.removeEventListener(dragonBones.events.AnimationEvent.COMPLETE,c(this,this.onAnimationComplete)),this._currentCompleteCallback(a)},chracterDataLoaded:function(){this._texture=this._assets.getImage(this._data.texture.id),this._textureData=this._assets.getResult(this._data.textureJSON.id),this._skeletonData=this._assets.getResult(this._data.skeleton.id),this._armatureName=this._data.armatureName,this.build()},dispose:function(){this.removeAllEventListeners(),this.removeAllChildren(),this.removeChild(this.armature.getDisplay()),this.armature.animation.stop(),null!=this.armature&&(this.armature.removeAllEventListeners(),this.armature=null),this._readyCallback=null,this._texture=null,this._textureData=null,this._skeletonData=null,this._factory=null,this._id=null,this._assets.dispose(),this._assets=null},onTextureLoaded:function(a){this._filesToLoad--,this.charCreationCheck()},charCreationCheck:function(){this._filesToLoad<=0&&this.build()},onTextureDataLoaded:function(a){this._textureData=a,this._filesToLoad--,this.charCreationCheck()},onSkeletonDataLoaded:function(a){this._skeletonData=a,this._filesToLoad--,this.charCreationCheck()},build:function(){this._factory=new dragonBones.factorys.CreateJSFactory,this._factory.addSkeletonData(dragonBones.objects.DataParser.parseSkeletonData(this._skeletonData));var a=new dragonBones.textures.CreateJSTextureAtlas(this._texture,this._textureData);this._factory.addTextureAtlas(a),this.armature=this._factory.buildArmature(this._armatureName),this.addChild(this.armature.getDisplay()),dragonBones.animation.WorldClock.clock.add(this.armature),this.armature.addEventListener(dragonBones.events.FrameEvent.BONE_FRAME_EVENT,c(this,this.omBoneFrameEvent)),null!=this._readyCallback&&this._readyCallback()},omBoneFrameEvent:function(a){-1!=a.frameLabel.indexOf("vo_")?I.instance.playVO(a.frameLabel.split("vo_")[1]):-1!=a.frameLabel.indexOf("sfx_")?I.instance.playAudio(a.frameLabel.split("sfx_")[1]):I.instance.playAudio(a.frameLabel)},__class__:B});var C=function(a,b,c,d){createjs.Container.call(this),null==d&&(d=a.getBounds()),this._hitbox=new createjs.Shape,this._hitbox.graphics.beginFill("#00ff00"),this._hitbox.graphics.drawRect(d.x,d.y,d.width,d.height),this._hitbox.graphics.endFill(),this._hitbox.alpha=.01,this._off=a,this.addChildAt(this._off,0),null!=b&&this.addOver(b),null==c&&null!=this._over&&(this._down=this._over),this.addChild(this._hitbox)};C.__name__=["sg","cjs","ui","HoverButton"],C.__super__=createjs.Container,C.prototype=b(createjs.Container.prototype,{forceOver:function(){this._over.visible=!0,this._off.visible=!1},forceOut:function(){this._over.visible=!1,this._off.visible=!0},turnOn:function(){this._hitbox.addEventListener("mousedown",c(this,this.onDown)),null!=this._over&&(this._hitbox.addEventListener("mouseover",c(this,this.onOver)),this._hitbox.addEventListener("mouseout",c(this,this.onOut)))},turnOff:function(){this._hitbox.removeEventListener("mousedown",c(this,this.onDown)),null!=this._over&&(this._hitbox.removeEventListener("mouseover",c(this,this.onOver)),this._hitbox.removeEventListener("mouseout",c(this,this.onOut)))},onOut:function(a){this._over.visible=!1,this._off.visible=!0},onOver:function(a){this._over.visible=!0,this._off.visible=!1,this.dispatchEvent(new createjs.Event("over",!1,!1))},onDown:function(a){null!=this._down&&(this._over.visible=!1,this._off.visible=!1,this._down.visible=!0),this.dispatchEvent(new createjs.Event("down",!1,!1))},addOver:function(a,b,c){null==c&&(c=!1),this._over=a,null!=b&&(this._over.x=b.x,this._over.y=b.y),this.addChildAt(this._over,0),this._over.visible=!1,this._clearOnOver=c},destroy:function(){this.removeAllChildren(),this.turnOff()},__class__:C});var D=function(){};D.__name__=["sg","cjs","utils","DisplayObjectUtils"],D.centerRegs=function(a){D.setRegs(a,.5,.5)},D.setRegs=function(a,b,c){var d,e,f=a.getBounds();null!=f?(d=f.width*b,e=f.height*c,a.set({regX:d,regY:e})):window.console.log("Could not set reg points on displayObject, rectangular bounds are not set")};var E=function(){z.call(this,E.manifest(),"loadingSpriteSheet","loadingData")};E.__name__=["sg","cjs","views","LoadingAnimation"],E.get_instance=function(){return null==E.instance&&(E.instance=new E),E.instance},E.manifest=function(){return[{src:"assets/sheets/loading.png",id:"loadingSpriteSheet"},{src:"assets/sheets/loading.json",id:"loadingData"}]},E.load=function(a){E.get_instance().loadSpriteSheet(a)},E.loadingAnimation=function(){return new createjs.Sprite(E.get_instance()._spriteSheet,"Loading")},E.__super__=z,E.prototype=b(z.prototype,{__class__:E});var F=function(){v.call(this)};F.__name__=["sg","cjs","views","LoadingScreen"],F.__super__=v,F.prototype=b(v.prototype,{init:function(){this._assets=new H(this.getImageManifest(),this.getAudioManifest(),c(this,this.onPackageReady)),this._assets.load()},onPackageReady:function(){},start:function(){},freeze:function(){},getImageManifest:function(){return[]},getAudioManifest:function(){return[]},__class__:F});var G=function(a,b){this._started=!1,this.name=a,this._startCall=b};G.__name__=["sg","kit","PBSGameButler"],G.prototype={startGame:function(a,b){this._started||this._startCall(a,b)},get_name:function(){return this.name},__class__:G};var H=function(a,b,c,d){null==d&&(d=""),this.completed=!1,this._sheetCount=0,this._imagesLoaded=!1,this._audioLoaded=!1,this._imgManifest=a,this._audioManifest=b,this._completeCallback=c,this._loadQueue=new createjs.LoadQueue(!0,d),createjs.Sound.alternateExtensions=["mp3","wav"],this._loadQueue.installPlugin(createjs.Sound),this._audioManager=I.instance};H.__name__=["sg","pbskids","AssetPackage"],H.makeManifestItem=function(a,b,c){return{id:a,src:b,type:c}},H.makeAudioManifestItem=function(a){return{id:a}},H.prototype={load:function(){null!=this._audioManifest&&this._audioManifest.length>0?I.instance.loadAudio(this._audioManifest,c(this,this.onAudioLoaded)):this._audioLoaded=!0,this.loadManifest(this._imgManifest)},dispose:function(){this._loadQueue.removeAll(),this._loadQueue.close(),this._loadQueue=null,this._imgManifest=null,this._audioManifest=null,this._sheets=null,this._completeCallback=null},getSpriteFromSheet:function(a,b){if(null!=b&&""!=b){var c=new createjs.Sprite(this._loadQueue.getResult(b),a);return c}for(var d=this._loadQueue.getItems(!0),e=0,f=d.length;f>e;){var g=e++;if("spritesheet"==d[g].item.type&&-1!=this._loadQueue.getResult(d[g].item.id).animations.indexOf(a)){var h=new createjs.Sprite(this._loadQueue.getResult(d[g].item.id),a);return h}}return null},getBitmap:function(a){var b=this._loadQueue.getResult(a);return new createjs.Bitmap(b)},getImage:function(a){return this._loadQueue.getResult(a)},getResult:function(a){return this._loadQueue.getResult(a)},onAudioLoaded:function(){this._audioLoaded=!0,this.checkForCompletion()},loadManifest:function(a){a.length>0?(this._loadQueue.addEventListener("complete",c(this,this.onQueueComplete),null),this._loadQueue.loadManifest(a)):(this._imagesLoaded=!0,this.checkForCompletion())},loadPostManifest:function(a){this._loadQueue.loadManifest(a)},onQueueComplete:function(a){this._loadQueue.removeEventListener("complete",c(this,this.onQueueComplete),null),this._imagesLoaded=!0,this.checkForCompletion()},checkForCompletion:function(){this._audioLoaded&&this._imagesLoaded&&!this.completed&&(this.completed=!0,this._completeCallback())},__class__:H};var I=function(a,b){this._callbacks=new i,this._soundMap=new i,this._sounds=new i,createjs.EventDispatcher.call(this),this._voPlayer=a,this._sound=b};I.__name__=["sg","pbskids","audio","SRAudioManager"],I.init=function(a){null==I.instance&&(I.instance=new I(a.voPlayer,a.sound))},I.__super__=createjs.EventDispatcher,I.prototype=b(createjs.EventDispatcher.prototype,{playAudio:function(a,b){var c=this._sound.play(a,b);return c},loopAudio:function(a){var b={loop:-1},c=this._sound.play(a,b);return c},playVO:function(a,b,c){null==c&&(c=!0),c||!this._voPlayer.playing?(this._voCallback=null,this._voPlayer.play(a,b)):window.console.log("VO dropped due to conflicting VO playing. "+a+" --/-> "+this._voPlayer.currentVO)},stopAudio:function(a){this._sound.stop(a)},stopVO:function(a){this._voPlayer.stop()},killAll:function(){this._voPlayer.stop(),this._sound.stopAll()},handleFailed:function(a){},handleComplete:function(a){var b=a.currentTarget.uniqueId,d=this._callbacks;if(null!=(null!=U[b]?d.getReserved(b):d.h[b])){var e=a.currentTarget.uniqueId,f=this._callbacks;(null!=U[e]?f.getReserved(e):f.h[e])()}var g=a.currentTarget.uniqueId,h=this._sounds;(null!=U[g]?h.getReserved(g):h.h[g]).stop();var i=a.currentTarget.uniqueId,j=this._sounds;(null!=U[i]?j.getReserved(i):j.h[i]).removeEventListener("complete",c(this,this.handleComplete));var k=a.currentTarget.uniqueId,l=this._sounds;(null!=U[k]?l.getReserved(k):l.h[k]).removeEventListener("failed",c(this,this.handleFailed));var m=a.currentTarget.uniqueId,n=this._sounds;null!=U[m]?n.setReserved(m,null):n.h[m]=null,this._sounds.remove(a.currentTarget.uniqueId);var o=a.currentTarget.uniqueId,p=this._callbacks;null!=U[o]?p.setReserved(o,null):p.h[o]=null,this._callbacks.remove(a.currentTarget.uniqueId)},loadAudio:function(a,b){for(var c=[],d=0;d<a.length;){var e=a[d];++d,c.push(e.id)}this._sound.preload(c,b)},queueLoaded:function(a){},__class__:I});var J=function(){};J.__name__=["sg","springroll","logging","Logging"],J.log=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.log(a))},J.getCallerString=function(a){if(null==a)return"";var b=f.getClassName(a).split(".");return"["+b[b.length-1]+"] "},J.clear=function(){J.enabled&&springroll.Debug.clear()},J.debug=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.debug(a))},J.error=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.error(a))},J.info=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.info(a))},J.trace=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.trace(a))},J.aqua=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.aqua(a))},J.blue=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.blue(a))},J.gray=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.gray(a))},J.green=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.green(a))},J.lime=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.lime(a))},J.maroon=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.maroon(a))},J.navy=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.navy(a))},J.olive=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.olive(a))},J.orange=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.orange(a))},J.pink=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.pink(a))},J.purple=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.purple(a))},J.red=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.red(a))},J.silver=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.silver(a))},J.teal=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.teal(a))},J.yellow=function(a,b){J.enabled&&(null!=b&&(a=J.getCallerString(b)+e.string(a)),springroll.Debug.yellow(a))};var K=function(){};K.__name__=["sg","utils","MathUtils"],K.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)},K.randomIntRange=function(a,b,c){return null==c&&(c=!0),c&&++b,Math.floor(Math.random()*(b-a)+a)},K.randomRange=function(a,b){return Math.random()*(b-a)+a},K.prototype={__class__:K};var L=function(){};L.__name__=["sg","utils","Utils"],L.shuffleArray=function(a){a=l.__cast(a,Array);for(var b=[];a.length>0;)b.push(a.splice(Math.floor(Math.random()*a.length),1)[0]);return b},L.getQueryParam=function(a){var b=new i,c=function(a,c,d){null!=U[c]?b.setReserved(c,d):b.h[c]=d};return window.location.href.replace(new RegExp("[?&]+([^=&]+)=([^&]*)","gi"),c),0==(null!=U[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?null:null!=U[a]?b.getReserved(a):b.h[a]},L.prototype={__class__:L};var M,N=0;String.prototype.__class__=String,String.__name__=["String"],Array.__name__=["Array"];var O={__name__:["Int"]},P={__name__:["Dynamic"]},Q=Number;Q.__name__=["Float"];var R=Boolean;R.__ename__=["Bool"];var S={__name__:["Class"]},T={};createjs.DisplayObject.prototype.setBounds=function(a,b,c,d){this._bounds=null!=a?(this._bounds||new createjs.Rectangle).setValues(a,b,c,d):null};var U={};l.__toStr={}.toString,m.DT_LOADING_SS="loadingScreenSheet",n.ENV_BEDROOM_DAN="bedroomDan",n.ENV_LIVING_ROOM="envLivingRoom",n.ENV_BEDROOM_MARGE="envBedroomMarge",n.GAME_WIDTH=1664,n.GAME_HEIGHT=768,n.SCENE_INTRO="sceneIntro",n.SCENE_GAME="sceneGame",n.CHARATER_DATA="charaterData",n.CHARACTER_X=110,n.CHARACTER_HIDE_X_NUDGE=150,q.LOAD_MIN_TIME=500,q._firstTimeFlag=!0,r.COMPLETE="complete",s.GAME_NAME="HideAndSeek",t.HIDDEN="hidden",t.FOUND="found",t.IDLE="idle",t.INTEREST="interest",t.REVEAL="reveal",v.COMPLETE="complete",y.TITLE_SCREEN_SS="titleScreenSS",A.SCENE_REQUEST="sceneRequest",C.ACTIVATED="activated",C.DOWN="down",C.OVER="over",E.SPRITESHEET="loadingSpriteSheet",E.DATA="loadingData",F.READY="ready",J.enabled=!0,s.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);